{
  "article_text": [
    "graphics programs in high energy physics experiments are necessary to visualize the detectors geometry and display physics events .",
    "they help in the commissionning phase of the experiment in debugging and understanding the systems .",
    "they must provide an interactive access to the event data and their reconstruction through online and offline algorithms .",
    "as such they play an important role in the search and discovery of new physics .",
    "persint ( perspectively interacting ) is an interactive visualization program  @xcite which is developed primely for the atlas collaboration  @xcite .",
    "the display of objects and the interactivity between the user and objects or applications is realized through the use of the higz package  @xcite .",
    "facilities dedicated to the spatial navigation and the definition of the visualization properties are provided , in order to interactively set the viewing and viewed points , so as obtain the desired perspective . in",
    "parallel , applications may be launched through the use of dedicated interfaces , such as the interactive reconstruction and display of physics events .",
    "persint was originally developed as a tool for debugging and optimizing the atlas muon pattern and track reconstruction algorithm muonbox  @xcite .",
    "it was early realized that traditional event displays based on simple projections were not fit to the task of visualizing events in the toroidal , inhomogeneous field of the muon spectrometer .",
    "only a three - dimensional interactive tool with navigation capabilities is well suited for such a task .",
    "the program is now routinely used for event display of hits and reconstruction objects of complex monte carlo events and in testbeam applications , both online and offline .",
    "persint is used for the visualization of detector geometries : as such it is interfaced to amdb ( the atlas muon database ) and the agdd - xml atlas generic detector description .",
    "other applications include the visualization of the magnetic field , the level-1 muon trigger logic , the interactive generation of tracks , and the display of xml event hits .",
    "the program offers the following features  :    * 3-dimensional representation of objects in full volumes or wire frames * computation of hidden faces * highlight of volumes edges * lighting intensity effects on volume facets * detection of clashing volumes and highlight of intersections * boolean volume operations ( addition , subtraction , intersection ) * spatial navigation with real - time displacements * focal length adjustable at will ( from isometry to wide - angle ) * interfaces and access to applications * save to postscript * documentation      the core of the program is written in fortran90 .",
    "dynamic data objects are extensively exploited in order to minimize the memory usage which can become important when a large numbers of volume are displayed , a situation typical to modern hep experiments , both with respect to the detector description and the event data themselves .",
    "persint uses the following features of f90 :    * usage of modules , with procedure interfaces * polymorphism * recursive functions * dynamic arrays * allocate , for local memory management * pointers * string operations * array manipulations * free source forms    the graphics interface is higz  @xcite and in general the program makes extensive use of the cernlib  @xcite .",
    "it is built on 26000 lines on code and is part of the saclay muon software suite . as such it is interfaced directly to the geometrical database amdbsimrec ( 13000 lines ) , the magnetic field database bfielddtb ( 3500 lines ) and the track reconstruction algorithm muonbox ( 58000 lines )  @xcite .",
    "the code is highly modular , organized in patches .",
    "the xml section is such an example of a patch .",
    "it contains everything needed to parse , store transiently and generates volumes from standardized xml files .",
    "the computation of volumes with hidden faces is based on the analytical computation of facets edges in space .",
    "this computation also provides the detection of clashes and the highlights of the volumes intersections , and supports boolean volume operations .",
    "the program is designed to operate in standalone mode , keeping the possibility of integration in frameworks .",
    "it was for example successfully used in the context of the online software framework of the atlas testbeams .",
    "the program is released officially at cern on afs in a public directory   since version 2.00 for three platforms : linux , sun - solaris unix and compaq / alpha unix .",
    "this repository contains the source and executable files together with documentation and useful input databases , and for developers , the tools necessary to build , compile and load the code .",
    "the latest released version is 3.00 .",
    "the documentation can be found in the persint manual located in the public repository or on the dedicated persint web page  .",
    "this page provides updates on the releases .",
    "the program is designed around the command window and the higz display window . a typical view obtained with the display window",
    "is shown in figure  [ layout ] .",
    "the command window is used essentially to load files and type commands interpreted by the code and documented in the persint manual .",
    "the display window however is organized in such a way to provide maximum interactivity to avoid typing commands as much as possible .",
    "the display window is dedicated to the colour display of both the objects computed by the program for visualization and the graphical interfaces .",
    "the primary interface is the navigator .",
    "the navigator supports the navigation facilities necessary to survey the entire detector space and gives access to the various graphics applications provided by persint .",
    "its layout is shown in figure  [ nav ] .",
    "it consists in an ensemble of push buttons and gauges which can be clicked , so as to modify the visualization properties or access lower level interfaces .      the spatial navigation , as well as the modification of the visualization properties ,",
    "are realized through the use of gauges which define the amplitudes of the movements of the viewing and viewed points and of the change in focal length of the observer eye , such as to obtain the desired perspective .",
    "each action is validated with the  * go * \" push button .",
    "alternatively , the navigation can be performed through real time displacements of the observer point .",
    "continuous displacements are obtained by dragging the cursor over the display itself , thus bypassing the use of the navigator .",
    "persint offers the possibility to modify interactively the visualization focal length . in the navigator",
    ", a sectioned gauge may be used to select the normal view , equivalent to a focal length of 35 mm , the isometric view , equivalent to an infinite focal length , or to increase or decrease the focal length at will .",
    "moreover , x , y , z , or @xmath0 projections of the volumes on display may be obtained by clicking dedicated push buttons ( see figure  [ nav ] ) . in the case of x , y , and z projections , the observing point position ( e.g. x@xmath1 or x@xmath2 ) can be modified by clicking the  displace viewing point \" 2d gauge on the corresponding half . in the case of @xmath0 projection , this same gauge can be used to define the value of @xmath0",
    ". examples of visualization of the same volumes with different perspectives are presented in figure  [ expers ] .",
    "the interactive reconstruction and event display ( evd ) application of persint is dedicated to the reading of event hit files , the visualization of these hits , and the reconstruction of the event through coupling to the muonbox program  @xcite .",
    "the three - dimensional view of complex events is used to understand complex events and debug the reconstruction algorithms .",
    "figure  [ evd ] shows a display of a monte carlo event in the atlas muon spectrometer in the context of a high background environment .",
    "such events are generated with the geant3-based dice simulation  @xcite .",
    "all hits and activated muon chambers are displayed .",
    "the reconstructed track is displayed in blue .",
    "visual inspection confirms the efficiency of the reconstruction algorithm in terms of pattern recognition and fitting .",
    "the projective views allows to further examine the events , though it is necessary to restrict the investigation to a limited region of the apparatus . zooming on detectors",
    "is performed to very carefully check the event properties and reconstruction consistency , as illustrated in figure  [ evddcbil ] .        in figure",
    "[ evd ] one notes the interactive reconstruction and event display interface opened on top of the navigator .",
    "this interface is equipped with an ensemble of push - buttons to set the visual properties of the displayed event and to activate the reconstruction .",
    "a separate embedded window is used to display the statistics of the event .",
    "the statistics consist essentially in the number of hits of the event , the number of hits taken into account in the candidate tracks , the reconstructed momentum , and if required from the datacards in case of physics channels analysis , the reconstructed invariant mass .",
    "the interfacing between persint and muonbox makes it possible to act interactively on the event characteristics to understand which role they play .",
    "for instance , a hit tube or a strip can be removed interactively from the event .",
    "then , when re - running the reconstruction algorithms , this removed tube will not be taken into account .",
    "the persint evd was used in the design and optimization phase of the muon spectrometer , participating in the performance studies of the apparatus and reconstruction software  @xcite .",
    "it then contributed in refining the performances of this software on complex monte carlo physics channels  @xcite .",
    "the program is used in the context of muon testbeams to display events on either online of offline mode  @xcite .",
    "event displays are useful to testbeams in order to validate the commissioning of the entire chain of detectors and data acquisition .",
    "when data is recorded in a routine mode , the evd participate in the online monitoring and the quality control of the dataflow .",
    "an example of testbeam event is shown in figure  [ tb ] .",
    "it consists in a staight muon track reconstructed in the barrel stand of the h8 2002 muon system tests  @xcite .",
    "chambers misalignment is corrected using conditions alignment data .",
    "powerful graphics tool are necessary to develop and debug the geometrical descriptions of the complex hep detectors .",
    "not only 3d viewers and projective capabilities must be used , but also the possibility to automatically detect geometrical conflicts .",
    "an essential feature of geometry visualization programs is to be able to delineate precisely the volume edges .",
    "this is of primary importance in order to clearly identify the volumes boundaries in space and their possible interferences .",
    "such visual property offers a much better understanding and comprehension of the detector geometry to the end user .",
    "modern geometrical description in hep makes extensive use of boolean volume operations , which greatly simplifies the task of describing complicated geometries .",
    "visualization tools must therefore support such technology .",
    "the persint program is interfaced to the two detector description used for the atlas muon spectrometer : agdd - xml and amdb .",
    "the atlas generic detector description is based on standardized xml files .",
    "such a description is used to describe the muon spectrometer geometry  @xcite .",
    "this description is implemented in the reconstruction algorithm .",
    "the persint program benefits from an xml parser to interpret the corresponding geometrical description .",
    "the working of the interface to agdd is based on the representation of a fully clickable tree - like structure allowing selection of the desired volumes for display .",
    "an operating example is given in figure  [ xml ] , showing both the xml structure and the corresponding volumes , in this case one of the atlas endcap toroid .",
    "the interface offers the representation of the volume tree in its full depth .",
    "the user can deploy or hide sub - structures by clicking volume tree pointers appearing as arrows .",
    "conveniently , geometries can be visualized in parallel as they are being developped . after a possible modification , clicking on a a dedicated push button of the navigator",
    "( see figure  [ nav ] ) results in the reloading of the database .",
    "the atlas muon database is an object - oriented database for simulation and reconstruction  .",
    "it is extensively used in the detectors and physics performance studies conducted since the origin of atlas  @xcite . in particular , it is used synchroneously by the dice geant3 simulation of the experiment  @xcite and the muon reconstruction program muonbox  @xcite .",
    "this database is heavily used to study the ongoing changes to the spectrometer layout  @xcite .",
    "such changes are caused by the need to take into account integration and access constraints .",
    "also , the possible staging of atlas will lead to multiple geometrical configuration , to be optimized by simulation . in this context of evolving geometries",
    ", persint provides a tool to carefully scrutinize and validate the geometrical databases .",
    "one of the important capabilities of persint is to detect and highlight intersecting or clashing volumes .",
    "an illustration is given in figure  [ clash ] , where a conflict between a muon chamber and the feet of the detector is observed .",
    "persint offers the rare feature of being able to compute fully and display volumes resulting from boolean operations .",
    "being given two initial supervolumes ( a supervolume is an ensemble of volumes ) , the program is able to perform the three basic operations ( addition , subtraction , intersection ) to generate a new supervolume .",
    "this facility is independent of the complexity of the initial objects .",
    "an example is shown in figure  [ labelvouss ] , which illustrates how the program can generate the voussoirs of the barrel toroid .        using this feature of persint , it is possible to generate complex - shaped volumes from very basic objects .",
    "the program provides , through the command mode , a set of instructions allowing to generate basic volumes and to perform boolean operations .",
    "the persint program is interfaced to a variety of application .",
    "they are all accessed through the navigator ( see figure  [ nav ] ) .",
    "the level 1 interface is the application allowing the interactive access to the level-1 muon trigger configuration datafiles and the visual representation of the variety of objects involved in the trigger decision chain .",
    "this interface is extensively described in  @xcite .",
    "the magnetic field interface provides a fully interactive 3d visualization of the magnetic field and the magnet elements .",
    "this application is coupled to the bfielddtb set of subroutines that read the field database and compute the field at any given point  .",
    "the field is visualized by means of arrows located at a series of lattice points .",
    "an example is shown in figure  [ magfield ] .",
    "the direction and length of the arrow correspond to the direction and magnitude of the b - field .",
    "the lattice , either 2d or 3d , is customized by the user in terms of mesh and spatial limits , allowing to build the vector field either in very localized regions or over large distances .",
    "the muon tracks interface is used to generate and compute tracks of muons throughout the entire detector system .",
    "it is coupled to muonbox , to the detector description and the magnetic field database , in order to compute the track s trajectory , taking into account the deflections in the field , the multiple scattering , and the energy loss in matter .",
    "performances are difficult to estimate , as the visualization programs have too face many possible situations in terms of user demand , and number of volumes to display .",
    "a test is performed here as follows : the display and navigation capability is estimated on a 2.8 ghz pentium 4 .",
    "it requires 0.65 s to compute and display the 2300 voulumes with 15000 facets of the muon precision chambers system .",
    "the real - time displacements are fluid ( @xmath3  10 views per second ) for a number of volumes @xmath4  400 .",
    "an event scan on testbeam data provides another performance measurement . in the exercise",
    "consisting in the display of events in loop with 6 chambers and typically 20 hits , it needs 0.02 s / event for bare evd .",
    "this an order of magnitude less than the time needed to reconstruct the event : 0.20 s / event .",
    "the present design of the program has strong advantages .",
    "the user can download a single executable binary files .",
    "no special dynamic library loading , no fancy apis need to be installed . the program is efficient even if operated remotely , e.g. on remote clusters from a x - terminal .    on the other side ,",
    "the program has shortcomings .",
    "it uses a limited graphics interface ( 256 colors in the current version of higz , possibly extended to 1024 ) .",
    "it does not profit from the high performance capabilities of graphics cards when operated locally on pcs ( z - buffer ) .    in the developments under consideration , a migration to opengl is envisaged . however some of the features of the present design would be lost .",
    "for example , such technology based on z - buffer does nt allow to delineate the volume edges .",
    "this property is crucial for hep detectors .",
    "it is considered to integrate parts of persint in the root data analysis framework .",
    "the graphics capabilities of root would be enhanced by using the calculus of hidden faces and intersecting volumes . in parallel , the integration of persint in the athena atlas software framework for reconstruction and analysis can be studied .",
    "the utilization of persint will continue as an event and geometry display for the atlas experiment .",
    "it will be used as online evd in the h8 - 2003 muon testbeam , and in the h8 - 2004 atlas combined testbeam .",
    "it will have an important role to play in the commissioning of atlas , participating in the debug of the detector ( cosmics run , calibration runs , ... ) .",
    "finally it is a candidate for the atlas online evd for monitoring of data - taking .",
    "higz high level interface to graphics and zebra user s guide , cern program library long writeups * q120 * , application software group , computing and networks division , cern , geneva , switzerland , june 1995 ."
  ],
  "abstract_text": [
    "<S> the persint program is designed for the three - dimensional representation of objects and for the interfacing and access to a variety of independent applications , in a fully interactive way . </S>",
    "<S> facilities are provided for the spatial navigation and the definition of the visualization properties , in order to interactively set the viewing and viewed points , and to obtain the desired perspective . in </S>",
    "<S> parallel , applications may be launched through the use of dedicated interfaces , such as the interactive reconstruction and display of physics events . </S>",
    "<S> recent developments have focalized on the interfacing to the xml atlas general detector description agdd , making it a widely used tool for xml developers . </S>",
    "<S> the graphics capabilities of this program were exploited in the context of the atlas 2002 muon testbeam where it was used as an online event display , integrated in the online software framework and participating in the commissioning and debug of the detector system . </S>"
  ]
}