{
  "article_text": [
    "the search for generally applicable methods capable of determining structural parameters from small - angle scattering patterns for a broad range of samples has yielded several viable methods . for monodisperse systems consisting of identical particles , these methods attempt to find a free - form solution to the pair - distance distribution function @xmath0 , whereas for polydisperse systems",
    "the aim is to determine the distribution @xmath1 in real space . in both cases ,",
    "relevant transformation should yield the observed scattering pattern @xcite .",
    "there are indirect transform methods ( itm ) based on regularization techniques which either impose that the solution is as smooth as possible @xcite , or bayesian and maximum entropy itm methods , which find a most likely solution using a bayesian approach and entropy maximization , respectively @xcite .",
    "there are also methods available based on titchmarsh transforms for determining size distributions @xcite .",
    "another class of methods , such as the structure interference method ( sim ) @xcite and some monte - carlo ( mc ) methods @xcite , assume a particular shape and do not appear to require smoothness constraints .",
    "these only have a positivity constraint and have so far been limited to size distributions of sphere - shaped scatterers .",
    "these methods can be used to extract the particle size distribution function of systems of ( dilute ) scatterers whose shape is known or assumed @xcite .",
    "the mc variant approaches the optimization by trial - and - error , whereas the sim uses a conjugate gradient approach @xcite .",
    "both are conceptually easier than the itm or those based on titchmarsh transforms , and provide stable and unique solutions @xcite .    upon implementation of one such method by , hereafter referred to as `` the martelli method '' , several noteworthy changes were made in the present work .",
    "we give a brief summary of the working principle , and highlight the differences from the martelli method .",
    "then , a general solution for detection limits is derived for particles in a polydisperse set .",
    "this aids the mc method as it allows for improved contribution scaling during the optimization procedure and indicates detectability limits in the final result .",
    "lastly , a convergence criterion is defined for the mc method , allowing for the calculation of uncertainties in the resulting size distribution .",
    "this method is applied to scattering data obtained during the synthesis of alooh nanoparticles .",
    "the initial guess of the scattering intensity is calculated for a uniform random distribution of a number of spheres @xmath2 anywhere between size bounds @xmath3 ( where @xmath4 is the smallest measured value of @xmath5 , with @xmath6 the wavelength of the radiation and @xmath7 the scattering angle ) , using : @xmath8 where @xmath9 is the rayleigh form factor for a sphere , @xmath10 the radius for sphere @xmath11 , and the pseudo - size distribution @xmath12 is related to the number distribution @xmath13 through @xmath14 .",
    "in other words , in this calculation ( for reasons detailed in paragraph [ sc : obs ] ) the volume - squared scaling of each sphere contribution is partially compensated for by an exponent @xmath15 , so that the scaling follows @xmath16 , with @xmath15 typically between @xmath17 . incidentally , setting @xmath18 makes @xmath12 identical to the volume - weighted size distribution .",
    "subsequently , the mc intensity is brought in line with the measured intensity through optimization of the scaling factor and background level using a least - squares residual minimization procedure , minimizing the reduced chi - squared @xmath19 @xcite : @xmath20 ^ 2\\ ] ] where @xmath21 and where @xmath22 is the number of data points , @xmath23 the number of degrees of freedom ( unfortunately ill - defined in an mc model , and is set equal to two here for the intensity scaling parameter @xmath24 and background contribution parameter @xmath25 ) , @xmath26 and @xmath27 the measured intensity and calculated model intensity , respectively , and @xmath28 the estimated error on the data point ( the estimation method for the error is detailed in paragraph [ sc : conv ] ) .",
    "the monte - carlo optimization cycle then begins , by picking a random sphere from the set of @xmath2 spheres , changing its radius to another random value within the bounds , recalculating the intensity of the entire set using equation [ eq : main ] and reoptimizing the scaling factor and background level ( eqn .",
    "[ eq : chisqr ] and [ eq : icalc ] ) , and checking if this radius change improves the agreement between measured and mc intensity , i.e. if the change reduces the @xmath19-value . if it does , the change is accepted , otherwise rejected . a rejection - acceptance mechanism",
    "( occasionally accepting `` bad moves '' ) was found not to be necessary .",
    "this method differs from the martelli method , in that the martelli method continually attempts to add new sphere contributions to an ever growing set , leaving the prior established set contributions untouched .",
    "the adaptation presented here leaves the number of sphere contributions in the set unchanged , but repeatedly tries to change the radius of a random contribution in the set .",
    "the optimization is stopped once the condition @xmath29 has been reached ( c.f .",
    "paragraph [ sc : conv ] ) . if convergence has not been reached within a certain number of steps ( here set to 1 million ) for a limited number of attempts , the pattern is considered unsuitable for fitting with this method . for visualization and analysis purposes ,",
    "the set of spheres can be distributed in a histogram ( weighted to compensate for @xmath15 ) .",
    "the whole mc procedure is then repeated several tens of times in order to obtain information on the mean and standard deviation of the histogram points .",
    "as the scattering intensity of particles scales proportional to their volume squared ( radius to the sixth power for spheres ) , the scattered intensity of smaller particles in a polydisperse set is quickly drowned out by the disproportionally larger signal of larger particles .",
    "this effect , however , is partially compensated for by the different q - dependence of the scattering of the smaller particles .    to investigate how large this compensatory effect is",
    ", we can define the `` maximum observability '' of a particle in a set as the maximum fractional contribution of that component to the total scattering pattern .",
    "i.e. the observability @xmath30 for component @xmath31 in a scattering pattern of @xmath22 independent contributions , measured within the @xmath32-range delimited by @xmath33 is defined as : @xmath34 where the location @xmath35 is the value within the observed q - range where @xmath36 is largest . for the mc method ,",
    "both @xmath37 and @xmath38 are defined by equation [ eq : main ] .",
    "when plotting @xmath36 for any size distribution of spherical particles , it is evident that the observability scales with the sphere radius squared ( c.f .",
    "figure [ fg : obs ] ) for particles with sizes larger than @xmath39 .",
    "particles smaller than @xmath40 exhibit an observability scaling in line with the volume - squared intensity scaling ( i.e. radius to the sixth power ) .",
    "the observability is shown for three unimodal distributions ( one uniform and two triangular distributions of 50000 spheres ) with particle radii between @xmath41 .",
    "the modes of the triangular distributions are set to @xmath42 and @xmath43 for the `` trailing '' and `` leading '' triangular distributions , respectively ( the distributions are shown in figure [ fg : obsc ] ) .",
    "figure [ fg : obs ] shows that the shape of the distribution has little visible effect on the shape of the observability .",
    "the absolute values of the observability are slightly dependent on the distribution , but more significantly dependent on the number of contributions ( as can be inferred from equation [ eq : mobs ] directly , but is not graphically shown ) .    ) , within @xmath44 . a change in slope",
    "is observed at @xmath39 .",
    "@xmath15 is zero in the calculation.,scaledwidth=90.0% ]    , scaledwidth=90.0% ]    the information on the observability can be used for three purposes .",
    "first and foremost , there is a clear indication of the limits of small - angle scattering for resolving the smaller sizes , and there is a link between the smallest measurable sizes and the maximum measured @xmath32 ( as the observability scales with radius to the sixth power for particles with radii smaller than @xmath45 , their contribution vanishes rapidly ) .",
    "note that it does not give information about the upper particle size detection limit , which is defined by the ability to distinguish the differences of scattering patterns of large particles .",
    "secondly , the knowledge can be used to calculate , for any model fitting solution , the minimum number of particles @xmath46 required to make a measurable impact on the total scattering pattern .",
    "this is done by calculating the inverse observability for the resulting distribution , and multiplying this with the overall measurement accuracy @xmath47 ( usually 1% ) .",
    "@xmath48 note that for the mc method presented here , in order to compensating for the discrepancy between the number of sphere contributions @xmath2 used and the number of bins @xmath22 they eventually end up in , we need to calculate : @xmath49    in this way , any plots of size distributions can contain a line indicating a rough estimate for the minimum detectable number of particles ( c.f .",
    "figures [ fg : past ] and [ fg : p ] ) , which can prevent drawing erroneous conclusions from analysis artifacts . as stated above , the observability , and therefore these minimum required particle numbers , are directly dependent on the number of size divisions in the distribution .",
    "thirdly , the disproportionate contribution of larger spheres in numerical integrations over size distributions can be reduced by , instead of determining the size distribution function @xmath13 in @xmath50 , to determine a pseudo - size distribution @xmath14 in equation [ eq : main ] . upon determination of @xmath12",
    ", the correct number - weighted distribution @xmath13 can be retrieved through division of @xmath51 by @xmath52 . as indicated in paragraph [",
    "sc : imp ] , this compensatory power does not have to be equal to @xmath53 , and can be tuned to further make the mc minimization more efficient .",
    "estimates of the level of uncertainty on each measured data point ( `` errors '' , @xmath28 in equation [ eq : chisqr ] ) are invaluable to assessing the veracity of model fitting results ( i.e. to determine whether the analysis provided a solution to within the uncertainty estimate ) . additionally , its knowledge can help unlink the model fitting result from more arbitrary parameters such as the measured intensity integration bin width or the number of data points . by weighting of the goodness - of - fit parameter ( used in the least - squares minimization function ) by this error ( c.f .",
    "equation [ eq : chisqr ] ) uncertainties on the mc solution can be established .",
    "these errors can be estimated to be _ at their very least _ the counting - statistics - based poisson error ( @xmath54 where @xmath55 is the number of detected counts ) .",
    "furthermore , if this estimate is exceeded by the sample standard error of the mean of the values contained in each individual integration bin ( defined in equation [ eq : sse ] ) , the sample standard error should be the preferred error estimate for that bin ( as it can account for some detector irregularities ) .",
    "this sample standard error for each bin ( @xmath56 ) is defined as : @xmath57 where @xmath58 is the mean intensity in the bin , @xmath59 the intensity of datapoint @xmath31 in the bin and @xmath60 the total number of points in the bin .",
    "lastly , the absolute uncertainty of the measured intensity is commonly challenging to be below 1% .",
    "thus , 1% ( or however small the instrumental error is estimated to be ) of the measured intensity should be preferred if it exceeds the other two estimates , these errors can then be used in equation [ eq : chisqr ] to determine the goodness - of - fit parameter as acceptance - rejection criterion for a mc proposition .",
    "the advantage of using these errors in the expression for @xmath19 is that if this parameter drops below one , the deviations between model- and measured intensities are _ on average _ smaller than the statistical uncertainties .",
    "this thus provides a cut - off criterion for ( for example ) the mc method , allowing for the estimation of the mean and standard deviations of the final particle size histogram ( shown in figure [ fg : p ] ) .",
    "additionally , by using these errors in the expression for the goodness - of - fit parameter , the intensities are weighted by their relative errors in the fitting procedures and thus become less sensitive to arbitrary values such as bin widths or number of data points used in the fit .    since the mc method does not provide us with an intensity at the same level as the measured intensity , and since there",
    "often is a constant background associated with small - angle scattering patterns for a variety of reasons @xcite , these two parameters will have to be determined separately .",
    "thus , after every mc proposed change , but before calculation of the goodness - of - fit , an intermediate least - squares minimization routine is applied to optimize the model intensity scaling and background parameters ( eqn .",
    "[ eq : icalc ] ) .",
    "if required , the least - squares minimization method can be expanded to include more terms , at the cost of speed and stability .",
    "one reason for such an inclusion could be to include a power - law slope ( with optional cut - off ) to compensate for scattering from large structures or some inter - particle scattering effects @xcite .",
    "one common criticism of mc methods is the potential for ambiguity in the result , or the risk of over - fitting the data . while a rough estimate for the number of independently determinable radii ( c.q .",
    "histogram bins ) can be found using the sampling theorem ( since @xmath61 , @xmath62 , assuming the largest measurable dimension is identical to the measurement limit @xcite ) , it also has to be dependent on the uncertainty of the underlying dataset . an alternative practical way of investigating the result validity is to determine the errors ( standard deviation in this case ) on the result .",
    "these can be obtained with the present mc method , by performing the mc fit to the same data several tens of times , and for each time optimizing until @xmath29 has been achieved .",
    "by distributing the results in histograms with a fixed array of bins , the mean value and standard deviation for each bin can be determined . naturally , the relative standard deviation is a function of the bin size , so that more numerous narrower bins will have a larger standard deviation than fewer wider bins ( within reason ) .",
    "additionally , the level of the observability ( equation [ eq : mobs ] ) is dependent on the number of bins , leading to a trade - off between minimum observable number of particles @xmath63 and the number of bins . for the most common equidistant histogramming , however , it is up to the user to determine the best suited number of size histogram bins ( or to use a value close to the sampling - theorem - derived value ) .",
    "the procedure then provides the user with a clear overview of the uncertainties and detection limits attached to the determination of polydispersity from small - angle scattering patterns , which can be used for further extraction of meaningful numbers from the resulting distribution .",
    "boehmite ( alooh ) particles were synthesized in - situ using an automated and modified version of a high - pressure high - temperature reactor @xcite .",
    "the sapphire capillary in which the reaction takes place has an inner diameter of 1.0 mm and an outer diameter of 1.57 mm .",
    "the particles were synthesized from a solution of 0.5 m al(no@xmath64)@xmath64 precursor in water .",
    "the start of the reaction was considered to be the moment at which the pressurized solution ( maintained at a pressure of 250 bar ) is heated to its reaction temperature of 275 degrees centigrade .",
    "the measurement used in this paper was obtained 1700 seconds from the start of the reaction .",
    "further details and results will be presented in a forthcoming paper .",
    "synchrotron saxs experiments were performed at the bl45xu beam line of the spring-8 synchrotron in japan .",
    "the beam was collimated to a 0.4 by 0.2 mm beam ( horizontal by vertical , respectively ) , with photons with a wavelength of @xmath65 nm . the sample - to - detector distance was 2.59 meter .",
    "the scattering patterns were recorded on a pilatus 300k detector whose total surface area covers 33.5 by 254 mm , consisting of 195 by 1475 pixels measuring 0.172 by 0.172 mm .",
    "transmission values were determined using in - line ionization chambers .",
    "the polarization factor was assumed to be 0.95 .",
    "the measurements were collected at a rate of 1 hz .",
    "the data were corrected for background ( water at 275 degrees centigrade and 250 bar ) , incoming flux , measurement time , transmission factor , polarization factor , spherical correction factor and calibrated to absolute units using a glassy carbon sample from series h , supplied by dr .",
    "ilavsky from aps @xcite .",
    "statistics were calculated according to the procedure outlined in paragraph [ sc : conv ] , with the minimum possible error set to 1% of the measured intensity .",
    "the collected dataset , its error and the mc fit are shown in figure [ fg : fit ] , where the mc fit intensity is the average of 100 repetitions of the mc procedure .",
    "while a single run also delivers a model intensity to within the determined error ( on average ) , the mean intensity is shown here as it matches the mean of the size distributions shown in figures [ fg : past ] and [ fg : p ] . in figure",
    "[ fg : past ] , the pseudo - size distribution is shown , as determined from the mc procedure using @xmath18 .",
    "the error bars indicate the standard deviation of the histogrammed value for each of 100 repetitions .",
    "this figure also contains the line indicating the minimum number of visible particles required @xmath63 ( which here is proportional to the radius due to the choice of @xmath15 ) .",
    "transformed to a number size distribution the histogram becomes that shown in figure [ fg : p ] .",
    "it is immediately clear that the larger particles are only present in the solution in minuscule amounts , and that there is a dip in the number of particles with a radius around 5 nanometer , with many particles slightly smaller and larger than that size .    in this example , the number of histogram bins is 25 , but one can choose more or fewer bins .",
    "the effect of this is shown in the pseudo - size distributions in figures [ fg : past60 ] and [ fg : past15 ] for 60 and 15 histogram bins , respectively .",
    "this clearly shows the relation between the standard deviation in the bins and the minimum observable number of particles .",
    "if the number of histogram bins is high , the uncertainty for each value is equally large , _ and _ the minimum number of particles of each bin size required to make a measurable impact on the scattering pattern increases .",
    "if the number of bins is reduced , both the uncertainty and @xmath63 reduces , at the cost of detail . for",
    "further ( and more involved ) improvement in information content retrieval , the bins in figure [ fg : past ] that fall below the @xmath63 line could be combined ( which would render them `` observable '' ) , and the bins above this line could be further subdivided for improved information extraction .        , standard errors and minimum observable number of particles obtained by transforming the distribution @xmath66 shown in figure [ fg : past ] . shown with limited vertical axis range for clarity.,scaledwidth=100.0% ]     with @xmath18 as used for the mc fit shown in figure [ fg : fit ] .",
    "error bars indicate sample standard deviation over 100 repetitions .",
    "minimum observable number of spheres @xmath63 shown as blue line.,scaledwidth=100.0% ]     of figure [ fg : past ] histogrammed in 60 bins .",
    "minimum observable number of spheres @xmath63 shown as blue line.,scaledwidth=100.0% ]     of figure [ fg : past ] histogrammed in 15 bins .",
    "minimum observable number of spheres @xmath63 shown as blue line.,scaledwidth=100.0% ]",
    "all the above results were obtained assuming that the scatterers are spherical in shape .",
    "this does not have to be the correct particle shape for the method to arrive at a solution . as mentioned before , the size distribution and shape can not be uniquely separated from scattering patterns ( which has been tested for simulated isotropic scattering patterns from polydisperse sets of prolate and oblate ellipsoids ) .",
    "the solution from the mc method , then , shows the user what the size distribution would be _ if _ the scattering pattern originated from spherical particles .",
    "if the shape of the scatterers is known from other investigations such as electron microscopy , and deviates from a spherical shape , this information can be used to obtain the correct size distribution for that particular shape @xcite .",
    "this can be done by either adjusting the particular scattering function in the mc method , or by analysis ( or rather deconvolution ) of the correlation function @xmath67 which can be calculated from the sphere - based mc method result @xcite .",
    "however , it should be kept in mind that only one length distribution can be uniquely determined due to the limited dimensionality ( information content ) of the isotropic scattering data .",
    "discussed in this paper are modifications to the martelli mc method , the general veracity of the result , and the application of it to a saxs measurement .",
    "it is shown that by using the methodology described in this paper , a particle size distribution can be retrieved from a scattering pattern , uncertainties can be estimated for the particle size distribution , and the minimum number of particles indicated for each size required to make a measurable impact on the scattering pattern can be indicated for each size .",
    "the mc code is available for inspection , improvements and application and will be freely supplied by the author upon request .",
    "spring-8 , riken and dr .",
    "hikima are acknowledged for their beamtime and support .",
    "dr . becker and dr .",
    "eltzholtz have been instrumental in the success of the measurements ."
  ],
  "abstract_text": [
    "<S> monte - carlo ( mc ) methods , based on random updates and the trial - and - error principle , are well suited to retrieve particle size distributions from small - angle scattering patterns of dilute solutions of scatterers . </S>",
    "<S> the size sensitivity of size determination methods in relation to the range of scattering vectors covered by the data is discussed . </S>",
    "<S> improvements are presented to existing mc methods in which the particle shape is assumed to be known . </S>",
    "<S> a discussion of the problems with the ambiguous convergence criteria of the mc methods are given and a convergence criterion is proposed , which also allows the determination of uncertainties on the determined size distributions .    </S>",
    "<S> pauwbrian@stack.nl    pedersen    tardif    takata    iversen </S>"
  ]
}