{
  "article_text": [
    "an ordinary _ pythagorean triple _ is a triple @xmath0 of positive integers satisfying @xmath1 . finding these is equivalent , by the pythagorean theorem , to finding right triangles with integral sides .",
    "since the equation is homogeneous , the problem for rational numbers is the same , up to a scale factor .",
    "some pythagorean triples , such as @xmath2 , have been known since antiquity .",
    "euclid ( * ? ? ?",
    "* x.28 , lemma 1 ) gives a method for finding such triples , which leads to a complete solution of the problem .",
    "the primitive pythagorean triples are exactly the triples of integers @xmath3 for various choices of @xmath4 ( up to change of order ) .",
    "diophantus in his arithmetic ( * ? ? ?",
    "* book ii , problem 8) mentions the problem of writing any ( rational ) number as the sum of squares .",
    "this inspired fermat to write his famous `` last theorem '' in the margin .",
    "expressed in the language of algebraic geometry , the equation @xmath5 describes a curve in the projective plane .",
    "this curve is parametrized by a projective line according to the assignment ( in homogeneous coordinates ) @xmath6 the rational points on the curve correspond to primitive pythagorean triples , which explains why the same parametrization appeared above .",
    "now let us consider the analogous question in a non - euclidean geometry . in the hyperbolic plane , if one uses the multiplicative distance function are two points in the poincar model of a hyperbolic plane , and if @xmath7 are the ends ( on the defining circle ) of the hyperbolic line containing @xmath8 and @xmath9 , then @xmath10 is the _ multiplicative distance function _ for the segment @xmath11 . here",
    "@xmath12 denotes the cross - ratio of the four points in the ambient euclidean plane @xcite . ] instead of its logarithm ( which is more common ) , it makes sense to ask for hyperbolic right triangles whose sides all have rational numbers @xmath13 as lengths .",
    "it then follows from the formulae of hyperbolic trigonometry , see @xcite , that the sines and cosines of the angles of these triangles are also rational .",
    "the hyperbolic analogue of the pythagorean theorem ( * ? ? ?",
    "* ( f ) ) tells us @xmath14 where @xmath15 are the angles of parallelism in the hyperbolic plane , let @xmath16 be the hyperbolic line perpendicular to @xmath11 at @xmath9 , and let @xmath17 be the line through @xmath8 that is the limiting parallel to @xmath16 at an end .",
    "then the angle formed by @xmath11 and @xmath17 is the _ angle of parallelism _ of the segment @xmath11 .",
    "this construction creates a one - to - one correspondence ( up to congruence ) between segments and acute angles in the hyperbolic plane @xcite .",
    "] of corresponding segments , namely @xmath18 . ] .",
    "since for any segment of length @xmath19 one has ( * ? ? ?",
    "* proof of 42.2 ) @xmath20 the corresponding arithmetic problem is to find triples @xmath0 of rational numbers , with @xmath21 which we will call _ non - euclidean pythagorean triples_. clearly an even number of the numbers @xmath13 are negative , unless we have a trivial solution with @xmath22 . after changing signs",
    "we may assume @xmath23 .",
    "note also that if we replace any number in a non - euclidean pythagorean triple by its inverse , we again get a non - euclidean pythagorean triple , so we may focus on those triples with @xmath24 . to keep them nontrivial , we require @xmath25 . they are not so easy find .",
    "( let the reader try before reading further . )",
    "note that we must allow rational numbers in stating our problem , since there are no similar triangles in hyperbolic geometry , or , in arithmetic terms , since the equation is not homogeneous .",
    "indeed , bjorn poonen has shown by an elementary argument that this equation has no solution in integers @xmath26 .",
    "so our first problem is to find non - euclidean pythagorean triples .",
    "there are other similar ways to express the hyperbolic pythagorean theorem , for instance ( * ? ? ?",
    "* ( 14.51 - 52 ) ) and @xcite . these references do not have an arithmetic point of view , though .",
    "euler , in his algebra ( * ? ? ? * part ii ,  236 ) , considers the problem of finding three squares ( of integers ) , @xmath27 , whose differences @xmath28 , @xmath29 , @xmath30 should also be squares .",
    "a first ad hoc argument gives him a single solution @xmath31 , which turns out to be the smallest possible , ordered by @xmath32 .",
    "then in  237 he gives a method for finding infinitely many solutions .",
    "since one of the purposes of this paper is to reinterpret euler s method in terms of algebraic geometry , we recall his method here .",
    "first he notes that passing to rational numbers , it is sufficient to find @xmath33 satisfying @xmath34 if we set @xmath35 or @xmath36 and @xmath37 , then the second and third equation of ( [ diffissq ] ) are automatically satisfied , just as in the parametrization of pythagorean triples mentioned above .",
    "now we only need to satisfy the first equation . in terms of @xmath38 and @xmath39",
    "we want @xmath40 to be a square , and for this it suffices that the numerator be a square . dividing by @xmath41",
    ", we reduce to showing that @xmath42 is a square . setting @xmath43",
    ", we must show that @xmath44 is a square . obviously , this is a square for @xmath45 , but then @xmath19 is undefined , so we set @xmath46 and then seek to make @xmath47 a square .",
    "dividing by @xmath48 and writing @xmath49 for simplicity , we need to make @xmath50 a square .",
    "there are unique @xmath51 $ ] such that for @xmath52 the coefficients in @xmath53 of @xmath54 for @xmath55 coincide with the coefficients in ( [ quarts ] ) , namely @xmath56 and @xmath57 .",
    "then , to make ( [ quarts ] ) equal to @xmath53 , we need @xmath58 which is the case , besides for @xmath59 ( with multiplicity @xmath60 ) , for @xmath61 reading backwards , take any @xmath62 you like , set @xmath63 , take @xmath64 as just given , let @xmath46 , @xmath65 , and then equation ( [ inpq ] ) will give @xmath33 , up to scaling , satisfying the original problem . since @xmath17 is arbitrary , this gives infinitely many solutions .",
    "for example , if we take @xmath66 , then @xmath67 so @xmath68 giving rise to the relatively prime solution @xmath69 and one can easily verify that @xmath70    [ equiv ] euler also considers two other problems . in  235 he requires three integers @xmath71 , whose sums and differences two at a time are all squares",
    ". one can show easily that this problem is equivalent to ours as the three pairwise sums of the three integers give a solution to our problem and every solution is of this form @xcite .",
    "euler does not mention this equivalence and appears not to realize its existence .",
    "he does see that the squares of @xmath13 give a solution to problem ii , but solutions arising this way tend to be much larger , which is why he treats our problem independently by the method described above .",
    "several other authors have considered these two problems ( see for instance @xcite , @xcite and references mentioned there ) . like euler",
    ", however , many did not seem to realize the equivalence of the two problems .    in  238",
    "euler requires three squares such that the sum of any two is again a square .",
    "this one has a geometric interpretation in @xmath60-dimensional euclidean space , to find a rectangular box ( cuboid ) with integral edges and integral face diagonals",
    ".    our problem can also be interpreted in terms of cuboids . for",
    "if we put @xmath72 these equations are equivalent to @xmath73 thus our problem is equivalent to finding a cuboid with integral edges @xmath74 , of which two face diagonals and the full diagonal are integral .",
    "note that @xmath75 is also a solution to problem ii and it gives the same cuboid as the triple @xmath76 .    in this connection , it is still an open problem to decide whether or not there exists a _",
    "perfect cuboid _ , having all edges , face diagonals and the full diagonal integeral . for more on this problem ,",
    "see ( * ? ? ?",
    "* d18 ) , @xcite and @xcite , and the references given there .",
    "we thank hendrik lenstra for first pointing out to us the equivalence of problems i and ii .",
    "equation ( [ noneuc ] ) and similar ones have been studied in relation with euler s problem before @xcite .",
    "leech also shows how problem ii can be used to construct spherical right triangles whose sides and angles all have rational sines and cosines .    if we take @xmath33 satisfying euler s problem , and write equations similar to ( [ diffissq ] ) , namely @xmath77 then we can parametrize them ( inhomogeneously ) as in ( [ homogparam ] ) by @xmath78 from @xmath79 we then obtain equation ( [ noneuc ] ) of a non - euclidean pythagorean triple .",
    "conversely , such a triple @xmath0 will give a solution to euler s problem through ( [ noneuc2euler ] ) .",
    "to find @xmath13 explicitly , note that for example the first equation above , namely @xmath80 is parametrized by @xmath81 from which we find @xmath82 .",
    "if @xmath83 , then @xmath84 .",
    "similarly we find @xmath85 .",
    "thus we obtain a one - to - one correspondence between solutions @xmath76 to problem ii with @xmath86 and @xmath87 equal to @xmath88 on the one hand and ( ordered ) non - euclidean pythagorean triples @xmath0 with @xmath89 on the other .",
    "so , for example , from euler s smallest solution @xmath90 we get @xmath91 while for the second example above , we obtain @xmath92 it is amusing to verify equation ( [ noneuc ] ) for these triples .",
    "the numbers factor , and many of the factors cancel each other as if by magic .",
    "in his commentary on the work of lobachevsky , f. engel noted that to each hyperbolic right triangle , one can associate another triangle in a natural way .",
    "repeated five times , this process returns to the original triangle @xcite .",
    "this association is closely related to the formulas of hyperbolic trigonometry , and forms a parallel to napier s analogies in spherical trigonometry .",
    "here is the construction . given the right triangle @xmath93 , with sides @xmath13 opposite @xmath94",
    "repectively , angles @xmath95 at @xmath8 and @xmath9 , and a right angle at @xmath96 , draw the perpendicular to @xmath97 at @xmath9 , find the limiting parallel to @xmath11 that is perpendicular to this new line , thus obtaining @xmath98 . draw the limiting parallel from @xmath9 to @xmath99 , intersecting the previous limiting parallel at @xmath100 .",
    "then the new triangle is @xmath101 with @xmath102 ( figure [ figure : engel ] ) .",
    "note that @xmath103 is complementary to @xmath104 , and that it is the angle of parallelism of segment @xmath105 .",
    "thus we write @xmath106 , where the prime denotes complementary angle , and the bar denotes the correspondence between segments and angles by the angle of parallelism .",
    "note also that @xmath107 equals @xmath108 , and so @xmath109 . knowing two of the five quantities @xmath110 of the new triangle , where the variables denote the obvious lengths and angles",
    ", one can compute the others .",
    "thus , if the original triangle has sides and angles @xmath111 , the new triangle has sides and angles @xmath112 ( see ( * ? ? ? * and exercise 42.23 ) for more details ) .",
    "it is then easy to verify that this process , repeated five time , comes back to its starting point .",
    "it is an amusing exercise in hyperbolic trigonometry to compute the new triangle from the old one .",
    "since the triangle is determined by any two of its five measurements , it is enough to compute @xmath113 ( which we already know ) and @xmath114 .",
    "here is a recipe .",
    "[ cycle ] given @xmath115 and @xmath113 , set @xmath116",
    ". then @xmath117 .    left to the reader !",
    "the general formulas for the edges of the new triangle in terms of those of the old one are not very elegant , but they can be expressed using a recurrence relation due to lyness : see @xcite and @xcite",
    ".    using lemma [ cycle ] on an explicit example , say the triple @xmath118 in ( [ ex1 ] ) , we obtain four more triples @xmath119 as further examples of non - euclidean pythagorean triples .",
    "associated to these are further solutions to euler s problem , namely @xmath120 @xmath121 remarkably , the transformation of order five can be expressed quite simply in terms of @xmath122 of ( [ cuboids ] ) , namely by sending @xmath76 to @xmath123 and then dividing by the greatest common divisor .",
    "just for fun , we computed the @xmath124-cycle associated to the triple in ( [ ex2 ] ) .",
    "we get    @xmath125",
    "the equations ( [ cuboids ] ) @xmath126 describing euler s problem define a surface @xmath127 in projective @xmath124-space @xmath128 over the rational numbers .",
    "to find integer solutions to these equations is equivalent to finding rational solutions , hence to the problem of finding rational points ( points with all coordinates in @xmath129 ) on the surface @xmath127 .",
    "we have thus gone from euclidean geometry , through hyperbolic geometry and number theory , back to geometry , but now algebraic ( and arithmetic ) geometry .    for algebraic curves ,",
    "the problem of finding rational points has been studied in detail .",
    "a curve of genus @xmath130 , as soon as it has one rational point , is isomorphic to @xmath131 , so one knows all its points , and the curve can be parametrized , just as in the case of the classical pythagorean triples .",
    "a curve of genus @xmath88 with at least one rational point is an elliptic curve .",
    "here one knows that the rational points form a finitely generated abelian group .",
    "it may be finite or infinite .",
    "its rank can be quite large ( noam elkies has found an elliptic curve of rank @xmath132 ) , but one does not know if there are elliptic curves of arbitrarily high rank . for curves of genus",
    "at least @xmath133 , faltings proof of the mordell conjecture tells us that there are only finitely many rational points .    for algebraic surfaces ( and more generally , varieties of dimension at least @xmath133 ) very little is known about the set of rational points .",
    "this is a topic of intensive active research : see for instance the books @xcite and @xcite , and in particular the review paper @xcite by swinnerton - dyer . in our case ,",
    "the surface @xmath127 is a complete intersection of three quadric hypersurfaces .",
    "this implies that outside its singularities the canonical class @xmath134 is trivial and the irregularity is @xmath130 . since the only singularities are ordinary double points , our surface is ( birationally ) what is known as a k3 surface .",
    "this surface is studied in detail in @xcite .",
    "one knows that there are many k3 surfaces with no rational points ( for example the surface given by @xmath135 in @xmath136 , which does not even have any real points ) .",
    "there are also many whose set of rational points is dense in the zariski topology .",
    "we will see that ours is one of the latter .",
    "an open problem is whether there exists a k3 surface whose set of rational points is non - empty , but not dense .",
    "our main result is the following .      a good part of the proof is already contained in euler s calculation .",
    "the equation @xmath137 obtained from ( [ quarts ] ) describes a surface in the affine @xmath138-space .",
    "note that this surface is rational , as its equation is linear in @xmath115 . by projection",
    "it is fibered over the @xmath115-line , and for general @xmath115 the fiber is a curve of genus @xmath88 .",
    "since it contains some rational points @xmath139 , it is an elliptic curve .",
    "the assignment @xmath49 makes the @xmath17-line a double cover of the @xmath115-line . taking the fibered product of the @xmath17-line and the surface given by ( [ affrat ] ) over the @xmath115-line",
    ", we get a surface in @xmath140-space , fibered by elliptic curves over the @xmath17-line .",
    "this surface is birational to our surface @xmath127 via the formulas for @xmath141 given earlier , and the reverse equations @xmath142 thus , our surface is a k3 surface fibered in elliptic curves over a rational curve , the @xmath17-line .",
    "its generic fiber is an elliptic curve @xmath100 over the rational function field @xmath143 , also given by ( [ affrat ] ) .",
    "it is worth noting that @xmath100 has @xmath144-invariant @xmath145 , making all the elliptic fibers quadratic twists of the one curve given by @xmath146 .",
    "it also implies that the fibers admit complex multiplication by @xmath147 $ ] .",
    "this is more clear from ( [ ellp ] ) , which shows that if @xmath38 makes ( [ ellp ] ) a square , then so does @xmath148 . any section of our surface over the @xmath17-line can be given by @xmath149 , where @xmath150 and @xmath151 are rational functions in @xmath17 that satisfy equation ( [ affrat ] ) .",
    "the same rational functions determine a point on @xmath152 , and thus we obtain a natural correspondence between sections of our fibration and points on @xmath100 with coordinates in @xmath143 .",
    "euler s formulas ( [ sevenbis ] ) for @xmath64 and @xmath153 give a simple section of this fibration , thus producing infinitely many rational points on the surface .",
    "the new ingredient that we add to this picture is the observation that after fixing the origin to be @xmath154 , the @xmath143-point @xmath155 that euler s section corresponds to , has infinite order .",
    "this can be checked with standard techniques from the theory of elliptic curves ( which we omit ) .",
    "taking multiples of this point gives infinitely many more sections of the fibration .",
    "the union of their rational points is dense in the whole k3 surface , thus proving theorem [ main ] .",
    "the point @xmath156 has infinite order as well .",
    "we claim @xmath157 .",
    "indeed , note that two points @xmath158 and @xmath159 add to @xmath160 in the group law on @xmath100 if and only if there exists a function @xmath161 in the function field of the curve whose principal divisor @xmath162 equals @xmath163 . consider the parabola @xmath164 given by @xmath165 .",
    "euler s calculation shows that this parabola meets the generic fiber in the point @xmath166 with multiplicity @xmath60 and in the point @xmath155 . since @xmath64 vanishes at @xmath166 and @xmath167 , and the contribution of the points at infinity to the divisors @xmath168 and @xmath169 are the same , we find that @xmath170 equals @xmath171 , so indeed we have @xmath172 .",
    "by now we have seen several ways of finding rational points on the surface @xmath127 . besides euler s first ad hoc argument leading to the smallest integer solution to problem ii , he found a parametrization of infinitely many solutions .",
    "his parametrization corresponds to a section of an elliptic fibration and it turns out to have infinite order , so that there are in fact infinitely many curves with infinitely many rational points on the corresponding surface .",
    "this shows that the set of rational points is dense .",
    "leech @xcite uses a result from diophantus ( see his arithmetica , book v , lemma 2 to prop . 7 , @xcite ) to find a parametric solution corresponding to another curve on the surface . in terms of algebraic geometry ( which is not his viewpoint )",
    "leech has also found another elliptic fibration .",
    "it was already mentioned in @xcite that leech s results can be combined to prove that @xmath127 contains infinitely many parametrizable rational curves , and thus that the set of rational points on the surface is dense .",
    "there is also a very elementary way to show that there are infinitely many solutions to problem ii .",
    "it comes from combining the equivalence of euler s problem and the first problem mentioned in remark [ equiv ] together with euler s way of producing a solution to the former from a solution to the latter , also mentioned in remark [ equiv ] .",
    "suppose that @xmath173 with @xmath87 equal to @xmath88 satisfies ( [ cuboids ] ) .",
    "then we have @xmath174 , @xmath175 , and @xmath176 .",
    "this allows us to check that @xmath177 satisfies ( [ cuboids ] ) as well and that @xmath178 satisfies @xmath179 .",
    "note also that we have @xmath180 .",
    "this means that if we start with one solution satisfying @xmath181 , then the new solution @xmath182 we obtain after dividing out @xmath183 satisfies @xmath184 where the second - to - last inequality is the quadratic - arithmetic mean inequality .",
    "we conclude that applying this process repeatedly , obtaining solutions @xmath185 for all @xmath186 , the expression @xmath187 increases as @xmath188 increases , so we get infinitely many solutions .",
    "we leave the details to the reader .",
    "we do not know whether the set of points arising from a single point by this process can be a zariski dense subset of @xmath127 .",
    "having found a dense set of rational points on @xmath127 , can we find _ all _ rational points on @xmath127 ?",
    "we believe this is hopeless because a special fiber of the fibration may contain many points that do not come from a section of the fibration .",
    "to show this , we first note that the group of rational points @xmath189 of the generic fiber is isomorphic to @xmath190 , generated by @xmath167 and the @xmath133-torsion point @xmath191 .",
    "this follows from the shioda - tate formula for the picard number of our k3 surface @xmath127 , which equals @xmath192 by an unpublished result of beukers and van geemen ( see also @xcite ) .",
    "thus the group of @xmath143-rational points on the generic fiber has rank @xmath88 .",
    "euler finds a parametrization of another rational curve on our surface that corresponds to a point @xmath158 on @xmath100 over @xmath193 , which turns out to satisfy @xmath194 .",
    "this means that for all square values of @xmath115 , we get an extra point in the fiber above @xmath115 , but the group generated by all points that euler finds remains of rank @xmath88 .",
    "now consider for example euler s smallest solution @xmath195 .",
    "it is contained in the fiber that lies above @xmath196 or @xmath197 . with a standard technique from the theory of elliptic curves , namely the so called _ height pairing _ , implemented in computer algebra packages such as magma",
    ", one can show that in the group law on this fiber the point corresponding to euler s smallest solution is linearly independent of the points corresponding to the sections that euler found , namely @xmath167 , @xmath198 , and @xmath158 satisfying @xmath199 .",
    "the rank over @xmath129 of this special fiber is in fact @xmath133 .",
    "thus there are many points in special fibers that can not be obtained as points on sections of the surface arising from points in the general fiber .    moreover , with a computer we checked that there are @xmath200 integer solutions @xmath76 to euler s problem ii with @xmath201 and @xmath202 .",
    "only @xmath124 of these points lie in a fiber in which that point and the point from euler s section @xmath155 are linearly dependent .",
    "these are the fibers above @xmath203 .",
    "as said before , it therefore seems hopeless that we would ever be able to find all rational points .",
    "in fact , we do not know of any case where the complete set of rational points on a k3 surface is described to satisfaction , except when there are none .",
    "now that we have understood euler s problem from a modern point of view , what about the problem of perfect cuboids mentioned above ? here",
    "the coresponding algebraic surface is a surface of general type in @xmath204 . according to a conjecture of lang , the rational points on a surface of general type",
    "should be contained in a proper closed subset . in particular , if there are any ( nontrivial points )",
    ", they will be much rarer , and difficult to find .",
    "so for the moment , this problem still seems out of reach ."
  ],
  "abstract_text": [
    "<S> we discover suprising connections between three seemingly different problems : finding right triangles with rational sides in a non - euclidean geometry , finding three integers such that the difference of the squares of any two is a square , and the problem of finding rational points on an algebraic surface in algebraic geometry </S>",
    "<S> . we will also reinterpret euler s work on the second problem with a modern point of view . </S>"
  ]
}