{
  "article_text": [
    "quantum key distribution ( qkd ) @xcite admits two remote parties , known as alice and bob , to establish an unconditional secret key ; even the eavesdropper ( eve ) has unlimited power admitted by the quantum mechanics .",
    "the unconditional security of qkd has been proved in theory for both the ideal system @xcite and the practical system @xcite based on some assumptions .",
    "however , the practical qkd system is imperfect . strictly speaking",
    ", any deviation between the standard security analysis and the practical qkd system can be exploited by eve to attack the practical system @xcite . therefore , in order to guarantee the unconditional security of the final key generated by the practical system , the legitimate parties must survey the practical qkd system carefully and close these loopholes .    in the standard security analysis for the bennett - brassard 1984 ( bb84 ) qkd system with a weak coherent source ( wcs ) ,",
    "an important assumption is that the phase of source has been randomized totally .",
    "thus , in the view of eve , the state sent by alice is a mixed state of all number states .",
    "however , in a practical qkd system , the phase information of source might be accessible to eve @xcite . in order to remove the phase randomization assumption from the standard security analysis , lo and preskill",
    "have proved the security of bb84 protocol using the wcs with nonrandom phase .",
    "but their proof is at the price of the secret key rate and the maximal security distance is very short @xcite .",
    "thus the best choice for the legitimate parties is to actively randomize the wcs phase , which can be implemented by modulating a totally random phase @xmath0 $ ] with a phase modulator @xcite .",
    "in fact , in most practical qkd systems @xcite , including the commercial system produced by i d quantique @xcite , the legitimate parties assume the phase of source has been randomized totally , and thus they use the gottensman - lo - ltkenhaus - preskill ( gllp ) formula @xcite but not the results of ref.@xcite to estimate the key rate . specifically , the phase randomization assumption is the base of the decoy state method @xcite , which is often used to defeat the photon number splitting ( pns ) attack @xcite .",
    "thus , in the qkd system with decoy - state method , only the gllp formula can be used .",
    "however , in practical situations , it is a hard task for the legitimate parties to check whether the phase of source has been randomized totally or not @xcite . in the latter , we will show that even if an active _ phase modulator _",
    "is used by the legitimate parties to randomize the phase of source , eve can change the range of random phase by using the imperfection of the phase modulator so that it is just partially randomized . here _ partially random _ means that the range of random phase modulated by alice is smaller than @xmath1 .",
    "in other words , the random phase @xmath2 $ ] and @xmath3 .",
    "furthermore , we note that in most of the practical system @xcite , no active setup is used to randomize the phase of source .",
    "we think there may be two reasons : ( 1 ) when alice actively randomizes the source , an additional active setup is needed which will increase the complexity of the qkd system .",
    "( 2 ) more importantly , within the best of our knowledge , until now there is not an effective attack strategy to exploit the phase information of wcs . in other words , eve",
    "does not know how to spy the secret key , even if the source is not randomized or just partially randomized .    in this paper",
    ", we propose a partially random phase ( prp ) attack to break the security of the practical two - way qkd system using wcs",
    ". then a simple intercept - and - resend attack strategy and experimental arrangement within current technology are proposed to spy the secret key .",
    "our analysis shows that the error rate induced by eve can be lower than the tolerable threshold value of error rate , whereas the same range of error rate has been proved secure if the legitimate parties are unaware of our attack .",
    "thus when our attack is taken into account , the secret key rate will be compromised .",
    "specifically , the numerical simulations show that , in some parameter regime , our attack is immune to the one - decoy - state method @xcite which is often used to defeat the pns attack @xcite .",
    "therefore , the legitimate parties should consider our attack carefully when they use the wcs to implement the bb84 protocol .",
    "however , note that we only claim that our attack is immune to the one - decoy - state method in some parameter regimes , but we do not claim that our attack is completely immune to the decoy - state - method .",
    "in fact , our attack can be defeated by the two - decoy - state ( weak + vacuum ) method @xcite , since the vacuum state is used to estimate the gain and error rate of the background .",
    "we note that in ref.@xcite , lo and preskill have proposed a simple attack to exploit the nonrandom phase of source . however , our attack performs better than their attack at least in two aspects .",
    "first , in their attack eve performs the positive operator valued measure ( povm ) belonging to the photon number state space to distinguish the key bit , which can not be implemented within current technology .",
    "our attack needs only a homodyne detector , which can be implemented within current technology .",
    "second , in their attack eve needs to know the exact phase of source , which corresponds to the case that the source is not randomized .",
    "but our attack is valid as long as the source is partially randomized .",
    "therefore , the legitimate parties do not need to consider their attack , especially in practical situations , but they must consider our attack and monitor their system carefully .",
    "the paper is organized as follows : in sec .",
    "[ sec : attack ] we introduce how to exploit the imperfection of a partially random phase to break the security of the cryptosystem . in sec .",
    "[ sec : result ] we introduce an intercept - and - resend attack with our prp attack and then analyze the error rate induced by our attack . in sec .",
    "[ sec : decoy ] we show that our attack is immune to the one - decoy - state method which can be used to defeat the pns attack . in sec .",
    "[ sec : dis ] we provide some discussion regarding our attack . finally , in sec .",
    "[ sec : summary ] we give a brief summary of this paper .",
    "in this section , we first introduce the _ plug - and - play _ qkd system briefly .",
    "then we discuss how to exploit the partially random phase of source to spy the secret key .",
    "a simple diagram of a _ plug - and - play _ qkd system @xcite without eve is shown in fig.[fig : exp_arr](a ) . a strong pulse sent by bob s laser will be divided into two parties by a 50:50 beam splitter ( bs ) , noted as a signal pulse ( _ s _ ) and reference pulse ( _ r _ ) .",
    "when the two pulses arrive at alice s zone , alice encodes her information on the signal pulse by modulating a phase @xmath4 . in order to ensure",
    "the global phase of pulse is totally random , alice modulates a random phase @xmath5 $ ] on both _",
    "s _ and _ r_. note that @xmath6 should be random on each pulse of the laser , but it must be the same for both _",
    "s _ and _ r _ of each pulse .",
    "then the two pulses will be attenuated to a single photon level and sent back to bob .",
    "thus the two outgoing pulses from alice s zone can be written as @xmath7 is the phase induced by the birefringence of fiber .",
    "@xmath8 is real and @xmath9 is the average photon number of _ s _ and _ r_. here we assume the faraday mirror ( fm ) is perfect in the qkd system ; thus the birefringence of fiber can be compensated successfully with a global phase @xmath10 .",
    "otherwise eve can obtain more information by combining with the passive fm attack proposed by our group @xcite .",
    "note that @xmath10 is a fixed value and can be compensated by eve , and thus we assume @xmath11 in this paper .",
    "therefore the practical state sent by alice is given by @xmath12 where @xmath13 is range of random phase modulated by alice .",
    "here we assume @xmath6 follows the uniform distribution on @xmath14 $ ] . for the three cases that the phase is nonrandomized ,",
    "partially randomized , and totally randomized , @xmath15 , @xmath16 , and @xmath17 , respectively .",
    "note that in eq .",
    "we consider only the signal pulse and ignore the reference pulse , since only the signal pulse is modulated by alice .    here",
    "we remark that if alice does not actively randomize the phase of source or she thinks that eve may know the phase of source exactly , she must use the method given by ref .",
    "@xcite to estimate the key rate .",
    "however , the security analysis of ref .",
    "@xcite can only be used for short - distance quantum cryptography .",
    "thus , generally speaking , alice should use an active setup to randomize the phase of source in the long - distance quantum cryptography .",
    "however , in the practical qkd system , it is a hard task for the legitimate parties to check whether the phase is really totally randomized or not .",
    "in fact , if alice and bob do not check carefully that the phase is truly random , then the range of random phase can be controlled by eve so that it is just partially randomized ( @xmath3 ) . for example , in the two - way qkd system , since the phase modulator has a finite response time , eve can control the practical phase modulated on the pulse by shifting the arrival time of the signal pulse to the rising or falling edge of the phase modulator .",
    "it is known as a phase remapping attack , which was proposed by fung _",
    "_ in theory @xcite and then demonstrated by xu _ et al . _ in experiment @xcite . thus the practical phase modulated on the source will be lower than the expected phase of alice , if eve shifts the arrival time of the pulse .",
    "for instance , alice wants to modulate a random phase @xmath10 , but the practical phase modulated on the source is @xmath18 . therefore , in the practical qkd system , the range of random phase modulated by alice can be controlled by eve so that the pulse is just partially modulated ( @xmath3 ) .",
    "we have shown that the random phase can be controlled by eve so that it is just partially modulated . in the following",
    ", we will show how eve can exploit this imperfection to spy the secret key .",
    "since alice admits the pulse into and out of her zone in the two - way system , it is easy for eve to set her experimental arrangement to load our attack , which is shown in fig.[fig : exp_arr](b ) .",
    "the strong pulse sent by eve s laser will be divided into three parts by two bs , signal pulse ( _ s _ ) , reference pulse ( _ r _ ) and local pulse ( _ l _ ) .",
    "then eve sends _ s _ and _ r _ to alice and keeps _",
    "l _ in her own hand .",
    "when the pulse is modulated by alice and resent back to eve , eve modulates randomly _",
    "l _ with a phase @xmath19 . then _ s _ will interfere with _",
    "l _ at bs and be detected by two photodiodes ( dc and dd ) .    here",
    "eve uses a homodyne detector to analyze alice s information .",
    "the homodyne detection is a well - established quantitative method to measure the quadrature - amplitude operator of the signal field @xcite or implement the continuous variable quantum cryptography @xcite .",
    "a simple illustration of the homodyne detection is shown in fig.[fig : exp_arr](b ) . the signal pulse ( _ s _ ) and",
    "the local pulse ( _ l _ ) interfere at a 50/50 beam splitter ( bs ) .",
    "then the two output modes of bs , _ c _ and _ d _ , will reach two photodiodes ( dc and dd ) respectively . the measured output signal of homodyne detection is determined by the difference of dc and dd , which is given by @xcite @xmath20 where @xmath21 is the average photon number of the local pulse , @xmath22 is the annihilation operator of signal pulse , @xmath23 is the difference of phase between signal pulse and local pulse .",
    "here we assume the local pulse is strong coherent state .",
    "@xmath24 is known as the normalized quadrature amplitude of the signal . generally speaking",
    ", @xmath24 takes a random value for each pulse due to the quantum fluctuations .",
    "theoretically , the probability of @xmath24 is given by integrating the wigner distribution @xcite , which is given by @xmath25 where @xmath26 is the wigner function in @xmath27 space .",
    "it is easy to check that , when the signal pulse is coherent state , the probability distribution of @xmath24 is given by @xcite @xmath28,\\ ] ] where @xmath29 is the average photon number of signal pulse , @xmath30 is the difference of phase modulated by eve and alice , @xmath31 $ ] is the random phase modulated by alice . @xmath32 and @xmath33 are two parameters that characterize the imperfection of homodyne detection @xcite . when the homodyne is perfect , @xmath34 . according to eq.[rho ]",
    ", eve has no priori information about @xmath6 excepting that @xmath31 $ ] , thus eq .",
    "should be rewritten as @xmath35.\\ ] ]    fig.[fig : theo_dis ] shows the theoretical probability distribution of @xmath24 when the total phase shifts @xmath36 are @xmath37 , @xmath38 , @xmath39 and @xmath40 .",
    "it shows clearly that measured result of the homodyne detection can be used to distinguish @xmath37 and @xmath39 by setting a suitable threshold value .",
    "for example , eve can set two threshold value @xmath41 and @xmath42 . when the measured quadrature amplitude @xmath43 , eve judge that @xmath44 ; when @xmath45 , eve judge that @xmath46 .",
    "but when @xmath47 , eve ca nt give a judgement about the phase .",
    "although eve ca nt distinguish the four phases deterministically , it is easy to check that , the conditional probability that eve obtain a valid outcome given that @xmath44 or @xmath46 can be much larger than that of @xmath48 and @xmath49 . here",
    ", a valid outcome means the measured outcome @xmath24 satisfies @xmath50 or @xmath45 .",
    "obviously , the smaller the probability eve makes a wrong judgement , the larger @xmath51 is . here _",
    "wrong judgement _ means eve obtains @xmath52 ( or @xmath53 ) but the state sent by alice is nt @xmath44 ( or @xmath46 ) . in order to maximize eve s information for a given system , we make two remarks about the optimal intensity of signal pulse ( @xmath51 ) that is accessible for eve .",
    "_ remark one _ : generally speaking , alice will monitor the power of light coming into her zone , thus eve should set the intensity of light sent to alice carefully .",
    "however , note the fact that , alice does nt monitor the intensity of _ s _ and _ r _ respectively in most practical qkd systems .",
    "thus eve only needs to ensure the total of them entering alice s zone , denoted as @xmath54 , is unchanged , but no needs to keep the intensities of both _",
    "s _ and _ r _ to be the same as their expected values respectively .",
    "in other words , eve can change the proportion of average photon number between signal pulse and reference pulse ( denoted as @xmath55 and @xmath56 respectively ) , but keeps @xmath57 constant . in the following ,",
    "we let @xmath58 and @xmath59 .",
    "note that , if alice monitors the intensity of signal pulse and reference pulse at the same time , eve ca nt change the proportion between @xmath55 and @xmath56 .",
    "then eve must keep the intensity of @xmath55 and @xmath56 unchanged , which means @xmath60 .",
    "_ remark two _ : note that only _ s _ will be modulated by alice , thus eve should increase the coefficient @xmath61 to maximize her information .",
    "the maximal value of @xmath61 that can be set by eve , denoted as @xmath62 , depends on the way that alice and bob synchronize their clock in the practical qkd system . generally speaking ,",
    "there are two ways to synchronize the clock of alice and bob .",
    "one way is that alice triggers her setups according to the arrival time of _",
    "r_. thus @xmath63 is the minimal intensity of _ r _ that can trigger alice s setups , which depends on the efficiency of alice s photodiode .",
    "the other way is that alice synchronizes her clock with bob according to another optical or electric signal , such as the wavelength division multiplexing @xcite . in this case , alice does nt know whether _",
    "r _ arrives at her zone or not .",
    "thus , eve can block the reference pulse and only send _",
    "s _ to alice , which means @xmath64 . in this paper",
    "we assume that alice and bob use the second way to synchronize their clock , thus @xmath65 .",
    "therefore , the intensity of signal pulse outgoing alice s zone is @xmath66 , where @xmath67 is the transmittance of alice s attenuator .",
    "we show that the partially random phase of source may leave a loophole for eve to spy the secret key . generally speaking , when an imperfection is found by eve",
    ", she can combine all imperfections of the system and take advantage of all attack strategies to maximize her information of the key .",
    "however we only consider a simple intercept - and - resend attack in this paper , which clearly shows that the generated key will be compromised due to the partially random phase .    according to the analysis above",
    ", we can consider the following attack : eve intercepts all the pulse from alice and measures the quadrature amplitude ( @xmath24 ) of the signal pulse with the experimental arrangement of fig.[fig : exp_arr](b ) . in order to judge alice s phase information",
    ", eve modulates the local pulse randomly and equiprobably with one of the two phases @xmath68 .",
    "then she sets two threshold value @xmath52 and @xmath53 .",
    "simply , we consider the symmetrical case that @xmath69 in this paper .",
    "when @xmath70 , eve judges that the phase modulated by alice is the same as her , thus she resends a state with phase @xmath71 to bob .",
    "when @xmath72 , eve judges that the difference of phase modulated by alice and her is @xmath39 , thus she resends a state with phase @xmath73 to bob . when @xmath74 , she blocks this pulse and resends a vacuum state to bob . note that these invalid judgements will not affect our attack , since the channel between alice and bob is lossy .",
    "obviously , sometimes , eve may make a wrong judgement .",
    "however , it is easy to check that , when eve uses the same basis as alice , the probability that eve obtains a valid outcome is much higher than that eve uses the different basis with alice . here",
    "a valid outcome means that the measured outcome @xmath24 of eve satisfies @xmath70 or @xmath72 . generally speaking , the larger eve sets @xmath75 , the lower the error rate .",
    "but , at the same time , the probability that eve obtains a valid outcome will decrease .",
    "thus eve should make a tradeoff between the error rate and efficiency when she loads her attack in a practical situation .    in order not to be discovered , eve should ensure that the error rate induced by her attack is smaller than the tolerable threshold value of alice and bob . in the following ,",
    "we analyze the error rate induced by eve s attack and show that eve can load our attack without being discovered by the legitimate parties . without loss of generalization , we assume that the phase modulated by alice is @xmath76 .",
    "according to eq .",
    ", when eve modulates the local pulse with a phase @xmath77 , the probability that she obtains a valid outcome are given by    @xmath78,\\ ] ]    @xmath79.\\ ] ]    obviously , when eve obtains @xmath70 , she will not induce any error .",
    "but when eve obtains @xmath72 , she will induce an error event with a probability up to 1 . at the same time , eve may modulate the local pulse with a phase @xmath80 , then the probability that she obtains a valid outcome are given by    @xmath81,\\ ] ]    @xmath82.\\ ] ]    obviously , she will induce an error event with a probability 1/2 for this case , no matter which outcome is obtained by her . therefore , the error rate induced by eve can be written as @xmath83/2 } { p_0^+ + p_0 ^ - + p_{\\pi/2}^+ + p_{\\pi/2}^-}.\\ ] ] here we assume eve modulates randomly @xmath37 or @xmath38 with equal probability . since the four states sent by alice are symmetrical , the total error rate induced by eve s attack is the same as eq .. at the same time , the probability that eve obtains a valid outcome is given by : @xmath84    the error rate induced by our attack is shown in fig.[fig : error_rate ] .",
    "it shows clearly that when the phase of source is just partially random , the generated key will be compromised . in part(a ) we show that the error rate changes with @xmath75 and @xmath13 .",
    "as expected , for given @xmath13 , the higher the threshold value @xmath75 is set by eve , the lower the error rate will be .",
    "for example , when @xmath85 and @xmath86 , the error rate is 9.21% and 13.79% for @xmath87 and @xmath88 respectively . at the same time",
    ", the smaller the range of partially random phase @xmath13 is , the lower the error rate will be .",
    "for example , when eve sets @xmath87 , the error rate is 8.01% , 9.21% and 12.65% for @xmath89 , @xmath85 and @xmath90 respectively .",
    "according to eq.[p_x ] , the error rate induced by eve will depend on the intensity of signal pulse @xmath51 , which is shown in fig.[fig : error_rate ] ( part(b ) ) .",
    "for example , when eve sets @xmath87 and @xmath85 , the error rate will be 6.06% , 9.21% and 18.65% for @xmath91 respectively .",
    "in other words , if eve wants to keep the error rate is smaller than 20% , she only needs to set @xmath92 for @xmath86 , but @xmath75 will increase to 1.86 for @xmath93    according to the analysis above , we know that eve can reduce the error rate induced by her attack by increasing the threshold value @xmath75 .",
    "however , the higher @xmath75 is , the lower eve obtains an unambiguous result that @xmath70 or @xmath72 . although eve can send vacuum state to bob when she obtains the ambiguous result that @xmath94 , she should ensure that the expected count rate of bob is unchanged . in other words , eve should ensure that the equation that @xmath95 holds . here",
    "@xmath96 is the transmittance of bob s setups .",
    "@xmath97 is the transmittance of channel .",
    "@xmath98 is the intensity of pulse sent to bob by eve .",
    "here we assume that eve can send a strong pulse to bob to compensate @xmath96 , which means @xmath99 .",
    "therefore , the maximal value of @xmath75 is determined by the transmittance of channel between alice and bob .",
    "the equivalent length of channel for a given @xmath75 is given by @xmath100,\\ ] ] where we assume the channel is fiber and @xmath101 is the typical loss of fiber and @xmath102 is given by eq.[post ] .",
    "fig.[fig : equivalent_length ] shows the equivalent length of channel changes with @xmath75 and @xmath13 .",
    "it shows clearly that our attack is valid even the channel distance of alice and bob is very short .",
    "it can be explained as the maximal @xmath75 that eve can set for a given length of channel .",
    "note that the error rate induced by eve is determined by @xmath75 .",
    "thus it also can be explained as the minimal error rate induced by our attack for a given length of channel .",
    "for example , if the length of channel between alice and bob is 50 km , the maximal @xmath75 that eve can set is 1.97 when @xmath85 and @xmath86 , thus the minimal error rate induced by eve is 9.36% .",
    "it is well known that , in the practical qkd systems with the wcs , the decoy state method should be used to beat the pns attack . in this section , we will show that , if alice and bob use the one decoy state method to estimate the final secret key rate , eve still can spy the secret key using our attack in some parameter regime .",
    "although the one decoy state is not optimal for alice and bob , it is still adopted in some experimental systems @xcite .    in the one decoy state method , alice will send two kinds of pulses with different intensities to bob , the signal state and the decoy state , whose average photon number are denoted as @xmath103 and @xmath104 ( @xmath105 ) respectively .",
    "then they estimate the lower bound for the yield of single photon state , @xmath106 , and the upper bound for error rate of single photon state , @xmath107 , which are given by the eq.(41 ) of ref.@xcite :    [ y1_e1 ] @xmath108,\\ ] ] @xmath109    where @xmath110 and @xmath111 are the gain of the signal state and the decoy state , @xmath112 is the error rate of the decoy state , @xmath113 is the error rate of background . note that alice and bob will think that the phase of source has been randomized totally ( in fact it is just partially randomized ) , thus they will use the gllp formula to estimate the key rate , which is given by @xcite : @xmath114\\},\\ ] ] where @xmath115 with the standard bb84 protocol .",
    "@xmath116 is the bidirectional error correction efficiency .",
    "@xmath117 is the binary shannon information entropy .",
    "@xmath118 is the gain of single photon state , @xmath112 is the error rate of the signal state .    note that , in the decoy state method , eve ca nt distinguish the signal state and the decoy state .",
    "thus we assume eve sends a single photon state to bob , when she obtains a valid measurement outcome .",
    "thus the gain and error rate of bob for the signal state and the decoy state are given by @xmath119 where @xmath120 is the dark count of bob s single photon detector , @xmath121 is the error rate of dark count . under our attack ,",
    "@xmath122 and @xmath123 are given by eq .",
    ", @xmath124 and @xmath125 are given by eq ..    substituting these parameters into eq . , it is easy to estimate the key rate under our attack , which is shown in fig.[fig : key_rate ] .",
    "here we also show the equivalent length of channel between alice and bob , which is given by @xmath126,\\ ] ] where @xmath127 is the gain of signal state . here",
    "the equivalent length is used to ensure the gain of signal state under our attack is same as bob s expectancy .",
    "the numerical simulations show clearly that , eve can ensure the key rate between alice and bob is still positive by setting a suitable threshold value .",
    "for example , when @xmath128 , the key rate is positive if eve sets @xmath129 , but in fact no secret key can be generated in this range , since eve s intercept - and - resend attack is an entanglement breaking channel @xcite .",
    "fig.[fig : key_rate ] also shows clearly that our attack can be implemented successfully even the distance of channel between alice and bob is short .",
    "for example , if eve sets @xmath130 , the key rate will be positive and the equivalent length of channel is about 50.83 km .",
    "note that , in the simulation of fig.[fig : key_rate ] , we assume the homodyne detector of eve is perfect .",
    "although eve can make a perfect homodyne detector in theory , a practical eve is still imperfect . in fig.[fig : key_rate_imper ] , we show the key rate changes with the two parameters @xmath32 and @xmath33 which are used to characterize the imperfections of eve s homodyne detector .",
    "it shows clearly that our attack is still valid even the homodyne detector of eve is imperfect . in fig.[fig : key_rate_imper ] , we also draw the equivalent length of channel with the same parameters as that of key rate .",
    "it shows clearly that even the length of channel between alice and bob is short , our attack is still valid .    in fig.[fig :",
    "key_rate_mu_nu ] , we also show the key rate changes with the intensity of signal state and decoy state . generally speaking , for a given practical qkd system , the legitimate parties will optimize the intensity of signal state and decoy state ( @xmath103 and @xmath104 ) to maximize the key rate .",
    "for example , in the experimental parameters of gobby - yuan - shield ( gys ) , the optimal @xmath103 and @xmath104 are 0.48 and 0.036 when the length of channel between alice and bob is 50 km . however , under these parameters , the final key rate is still positive under our attack , but in fact no secret key can be generated .",
    "in other words , when our attack is taken into account , the estimated optimal parameters that are unaware of our attack may be not secret .",
    "thus , in a practical system , the legitimate parties must set their experimental parameters carefully .",
    "here we remark that , although our attack is immune to the one decoy state method , it can be defeated by the vacuum+weak decoy state method , in which alice sends three kinds of pulses to bob , the signal state , the decoy state and the vacuum state .",
    "the main reason is that eve may obtain valid outcome with a high probability , even alice sends a vacuum state .",
    "thus the gain of vacuum state will be much larger than the dark count of single photon detector ( spd ) , and then can be found by alice and bob .",
    "we have shown that our attack can be used by eve to break the security of a practical qkd system with wcs , even the one decoy state method is used by alice and bob . in the end of this paper , we give some discussions about our attack .",
    "first , it has shown that our attack can beat the bb84 qkd system with wcs and spd .",
    "however , it is invalid for the continuous variable qkd ( cv - qkd ) scheme . in the cv - qkd",
    ", bob also uses the homodyne detection to measure the signal pulse , thus he can reconstruct the probability distribution of signal pulse and then discover the existence of eve .",
    "furthermore , due to the same reason as the cv - qkd , our attack is also invalid for the bb84 qkd system with pulse homodyne detection , which is proposed and demonstrated by hirano @xcite _",
    "et al_.    second , in this paper , we assume that eve only changes the random phase of source which is a global phase , but not remaps the bit phase which is a relative phase .",
    "in other words , in the analysis above , we assume the states sent by alice are still the standard bb84 states . strictly speaking",
    ", eve also can change the bit phase .",
    "then eve can combine our attack with the phase remapping attack @xcite to maximize her information .",
    "third , in high - speed qkd system , eve needs a high - speed homodyne detector to detect the signal pulse .",
    "it seems an experimental challenge to implement our attack .",
    "in fact , the speed of some commercial homodyne detectors produced by picometrix can reach 40ghz @xcite .",
    "thus our attack is valid even for the high - speed qkd system .",
    "further , a well - stable interferometer is needed to ensure that the local pulse and signal pulse can interfere at the bs .",
    "thus eve must compensate the phase shift of fiber induced by the environment .",
    "in fact , the feedback method developed in the ghz qkd system @xcite can also be used in our attack to ensure the interferometer of eve is very stable .",
    "for the bb84 qkd protocol , phase randomization is a very important assumption in the standard security analysis .",
    "however , it is a hard task to check whether the phase of source is randomized totally or not in the practical situation .",
    "in fact , eve can control the range of random phase so that it is just partially randomized .    in this paper , we proposed a partially random phase attack to spy the secret key .",
    "our results show that if the phase of source is partially randomized , the error rate induced by our attack can be lower than the tolerable threshold value of error rate whereas the same range of error rate has been proved secure if the legitimate parties are unaware of our attack .",
    "thus the secret key generated by a practical qkd system will be compromised .",
    "specially , the numerical simulation shows that our attack is immune to the one decoy state method in some parameter regime .",
    "therefore , the legitimate parties should consider our attack carefully , when they use the wcs to implement the bb84 protocol .",
    "this work is supported by the national natural science foundation of china , grant no .",
    "sun is supported by the hunan provincial innovation foundation for postgraduates , grant no .",
    "cx2010b007 , and the fund of innovation , graduate school of nudt , grant no .",
    "b100203 .",
    "here we means that it is hard for alice to monitor the degree of random phase using current qkd system .",
    "of course , if she adds additional optical and electrical setups , she can do this easily . for example",
    ", she can establish one interferometer to measure the visibility of pulses .",
    "if the visibility is zero , the phase of pulse is randomized totally .",
    "otherwise , it is just partially randomized . therefore , if our attack is taken into account , alice must redesign her system to monitor carefully the random phase .",
    "here @xmath131 , where @xmath132 is the loss of optical setups , @xmath133 is the quantum efficiency ( qe ) of photodiode , @xmath134 is the visibility of interference .",
    "thus the crucial imperfection of homodyne detection is the qe of photodiode .",
    "although the qe is just 0.84 in the experiment of ref.@xcite , the qe of hamamatsu s new product can approach 0.9 ( see the website of hamamatsu : http://jp.hamamatsu.com/products/sensor-ssd/pd128/pd129/pd130/g8370-81/index@xmath135en.html ) .",
    "furthermore , @xmath33 is determined by the excess noise of the signal and the phase error .",
    "but , as the best of our knowledge , we only find one experimental result that @xmath136 which is given by ref.@xcite .",
    "however , it does not matter , theoretically , eve can make a perfect homodyne detection with @xmath34 ."
  ],
  "abstract_text": [
    "<S> phase randomization is a very important assumption in the bennett - brassard 1984 quantum key distribution ( qkd ) system with a weak coherent source . </S>",
    "<S> thus an active phase modulator is needed to randomize the phase of source . </S>",
    "<S> however , it is hard to check whether the phase of source is randomized totally or not in practical qkd systems . in this paper a partially random phase attack is proposed to exploit this imperfection . </S>",
    "<S> our analysis shows that eve can break the security of a two - way qkd system by using our attack , even if an active phase randomization is adopted by alice . </S>",
    "<S> furthermore , the numerical simulation shows that in some parameter regimes , our attack is immune to the one - deco - state method . </S>"
  ]
}