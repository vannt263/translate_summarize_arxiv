{
  "article_text": [
    "sensor networks  @xcite consist of a set of small , autonomous devices which may be used , for example , for environmental monitoring , patient monitoring in health care , and industrial machinery surveillance . as sensor nodes may be distributed in areas without power supply , or they may be mobile , they are generally equipped with batteries , which makes energy a scarce resource .",
    "a basic idea for saving energy is to periodically switch off the sensor nodes . the mechanism that establishes the alternation between the active and inactive states",
    "is generally called _ duty - cycling _ ( see , for example ,  @xcite ) . in some cases ,",
    "duty - cycling is energy - aware ( see , for example ,  @xcite ) .",
    "the main disadvantage of these approaches is that they require a quite regular pattern for the availability of energy from the environment .    in previous work",
    "@xcite we introduced and studied a possible technique for energy - aware duty - cycling in ( mobile ) sensor networks with energy harvesting capabilities .",
    "this system is inspired by self - synchronized sleeping patterns of natural ant colonies  @xcite .",
    "the focus of these first studies was purely on the swarm intelligence aspects of the proposed system .",
    "the experiments were performed without considering , for example , packet loss , collisions and network failures .",
    "before we outline the contributions of this work , we introduce already a glimpse of the basic behavior of this previously introduced system ; see figure  [ fig : generic - behavior ] .",
    "the solid line shows the fraction of active nodes over time , whereas the slashed line shows the average battery level of the nodes over time .",
    "finally , the dotted line represents the sun power that is used to establish the amount of energy which can be harvested by the sensor nodes at each time step .",
    "note that all three measures are scaled to @xmath0 $ ] . at this point",
    "we would like the interested reader to understand the following two aspects .",
    "first , self - synchronized duty - cycling is indicated by the repetitive appearance of activity peaks over time ( see solid line ) .",
    "second , the adaptation to changing energy conditions is indicated by the changing height of the activity peaks . at times of lower battery levels ,",
    "activity peaks are lower as well .",
    "this is the mechanism used by the sensor nodes to adapt to varying energy conditions .",
    "* contribution of this work .",
    "* the first contribution of this work is the design of a protocol that captures the essential aspects of the swarm intelligence system previously proposed in  @xcite .",
    "the second contribution consists in the implementation of this protocol in wiselib  @xcite , a library of generic algorithms for wireless sensor networks .",
    "finally , we experimentally test our duty - cycling protocol in a real scenario , simulating isense sensor nodes from coalesenses gmbh  @xcite with the network simulator shawn  @xcite .",
    "the organization of the paper is as follows . in section  [ sec : wiselib ]",
    "the extension of wiselib for duty - cycling algorithms is introduced , followed by the description of the protocol for self - synchronized duty - cycling in section  [ sec : concept ] .",
    "finally , experimental results are presented in section  [ sec : simulations ] , and conclusions and an outlook are given in section  [ sec : conclusions ] .",
    "the wiselib  @xcite is a generic algorithm library for heterogeneous wireless sensor networks .",
    "the main objective concerns the implementation of algorithms that may be applied on different hardware and software platforms . not only real sensor hardware such as micaz or telosb nodes are supported by wiselib , but also simulation environments such as shawn and tossim .",
    "the algorithms included in the wiselib are organized in topics according to their functionality . in order to abstract the algorithms from the hardware and the operating system ,",
    "a set of connectors specifies interfaces for interacting with them .",
    "a connector is also defined to interact with wireless sensor network simulators such as shawn  @xcite .",
    "those connectors are defined such that the same algorithm can be run on a physical platform or on a simulator .",
    "the design of a new algorithm class in wiselib requires the definition of a concept , that is , a specification of how an algorithm looks and behaves . in this paper",
    "we provide a generic concept for energy - aware duty - cycling algorithms , and provide one model for this concept ( see section [ sec : concept ] ) . in particular , a duty - cycling algorithm must assist sensor nodes in their decision of being active or inactive .",
    "this is handled via a call - back to the sensor node when it is supposed to change mode .",
    "based on this call - back , the sensor node is then responsible for the executing the corresponding action .",
    "therefore , a duty - cycling algorithm has basically two functionalities : it can be enabled and disabled , and a call - back can be ( un)registered to indicate changes in activity .",
    "the concept looks as follows :    .... concept dutycycling {    enum dutycyclingactivity {      dc_active , dc_inactive    } ;    void enable(void ) ;    void disable(void ) ;    template < class callee , void ( callee::*tmethod)(int ) >      int reg_changed_callback ( callee * obj_pnt )    void unreg_recv_callback(int ) ; } ; ....    with the aid of this generic concept , it is possible to cover a broad range of duty - cycling algorithms .",
    "the exact behavior of a potential duty - cycling model is not mandatory . it can be asynchronous or synchronized , it may rely on exact time - synchronization or do not have any requirements",
    "the important aspect is that the method signatures from the concept are implemented , so that it can be passed to other algorithms as a template parameter .",
    "as mentioned before , in  @xcite a swarm intelligence technique with the potential application of self - synchronized duty - cycling in ( mobile ) wireless sensor networks with energy harvesting capabilities was introduced .",
    "this section aims at designing and implementing a duty - cycling protocol on the basis of this work .",
    "the current version of the protocol assumes that there is a time synchronization algorithm executed by a lower layer of the network .",
    "the protocol works in periods .",
    "each period has a length of @xmath1 time units ( say , seconds ) .",
    "each period is divided in two phases : the first phase is dedicated to actions concerning the management of duty - cycling , whereas the second phase is dedicated to application - specific tasks that sensor nodes must perform ( see figure  [ fig : cycle - scheduling ] ) .",
    "the first phase of each period is very short . in this phase",
    "all nodes may receive transmissions from neighboring nodes and themselves they execute one duty - cycling event .",
    "the outcome of the first phase decides if a node will be _ active _ or _ inactive _ for the rest of the corresponding period . in case of being active",
    "a node is available for user - defined applications ( environmental data monitoring , tracking , etc ) .",
    "however , if the state of a sensor node is set to inactive the node will turn off the radio and will sleep until the start of the following period .    in the following we focus on the description of the duty - cycling algorithm executed in the first phase of each period",
    "this algorithm consists in a so - called _ duty - cycling event _ that is executed by each sensor node @xmath2 exactly once .",
    "the time of executing this event is , at the moment , randomly chosen by each sensor node within the first phase of each period .",
    "each sensor node @xmath2 maintains a real - valued state variable @xmath3 .",
    "the value of this state variable is initially set to the so - called _ activity threshold _ @xmath4 , which is a parameter of the mechanism .",
    "moreover , @xmath5 is a binary variable whose value determines if the sensor node @xmath2 is _ active _ ( @xmath6 ) or _ inactive _ ( @xmath7 ) in phase of two of the corresponding period .",
    "the value of the variable @xmath5 is determined as follows : @xmath8 where @xmath9 is the so - called activation threshold , and @xmath10 if @xmath11 , and @xmath12 otherwise .",
    "note that an inactive sensor node can return to the active state either due to local interactions ( as explained below in eq .",
    "[ eqn : state - update ] ) or spontaneously with a probability @xmath13 and an activity level @xmath14 .",
    "in addition , each sensor node maintains a queue @xmath15 for incoming duty - cycling messages from neighboring sensor nodes .",
    "each message @xmath16 contains a single field @xmath17 , which is set to the activity @xmath18 of the sensor node @xmath19 that has sent the message .",
    "when sensor node @xmath2 executes its duty - cycling event , the value of state variable @xmath3 is updated depending on the messages in @xmath15 .",
    "subsequently sensor node @xmath2 sends a duty - cycling message , containing the new value of @xmath3 , using a certain transmission power level . note",
    "that the choice of the transmission power level is a crucial component for the working of our duty - cycling technique .",
    "more specifically , the value of state variable @xmath3 of a sensor node @xmath2 is computed as follows : @xmath20 where @xmath21 is a gain parameter whose value determines how fast the value of variable @xmath3 diminishes . after this update ,",
    "all messages are deleted from @xmath15 , that is @xmath22 .",
    "note that with this update the value @xmath3 of an inactive sensor may increase sufficiently enough in order to be greater than the activity threshold @xmath4 .    for the working of the duty - cycling mechanism",
    ", the choice of the power level for the transmission of the duty - cycling messages plays a crucial role .",
    "here we assume a standard antenna model which allows sensor nodes  for each transmission  to choose from a finite set @xmath23 of different transmission power levels .",
    "more specifically , the choice of a sensor node @xmath2 depends on its battery level , which is denoted by @xmath24 $ ] .",
    "hereby , @xmath25 corresponds to a full battery . in the following we first outline the determination of a so - called _ ideal transmission power level _ , which then leads to the choice of the real transmission power level .",
    "the ideal transmission power level ( @xmath26 ) of a sensor @xmath2 depends on the current battery level : @xmath27 , where @xmath28 , respectively @xmath29 , are parameters that fix the minimum , respectively maximum , transmission power levels .",
    "only when batteries are fully charged the ideal transmission power level may reach @xmath29 .",
    "the ideal transmission power level is then translated into the _ real transmission power level _ @xmath30 as follows : @xmath31 such that @xmath32\\ ] ] at this point it is important to realize that the transmission power level @xmath33 is used only for sending the duty - cycling message . for other messages during the second phase of each period ,",
    "the user application is responsible for choosing transmission power levels .",
    "the duty - cycling event described above is summarized in algorithm  [ algo : basic ] . as mentioned above , the battery level of the sensor nodes is responsible for their choice of a transmission power level for sending the duty - cycling message",
    ". therefore , the battery level of course affects the communication topology in the context of the duty - cycling mechanism .",
    "calculate @xmath5 ( see eq .",
    "[ eqn : calculate - activity ] ) draw a random number @xmath34 $ ] @xmath35 * then * @xmath36 and @xmath37 * endif * determine transmission power level @xmath33 ( see eq .  [ eqn : power - level ] ) compute new value for state variable @xmath3 ( see eq .  [ eqn : state - update ] ) send duty cycling message @xmath38 with @xmath39 with transmission power level @xmath33",
    "in the following we first describe the experimental setup and the experimentation environment before we present the obtained results .",
    "the implementation of the presented protocol in the wiselib provides us with options for executing it on real test - beds but also to perform simulations with some sensor network simulators . in the context of this paper we decided for the second option .",
    "more specifically we used the sensor network simulator shawn  @xcite , which is a discrete event simulator with a very high level of parameterization which is able to execute algorithms from the wiselib .",
    "the user can easily run experiments simulating the behavior of different sensor nodes and also add own sensor node specifications .",
    "a peculiarity of shawn is the fact that packet collisions are not explicitly considered .",
    "instead shawn simulates these collisions and the consequent packet loss under different constraints and in different scenarios .",
    "thus , any packet - loss model can be implemented .",
    "we decided to experiment with _",
    "isense _ sensor node hardware from coalesenses gmbh  @xcite . for this purpose",
    "we added the specification of _ isense _ nodes to shawn .",
    "these sensor nodes use a jennic jn5139 chip , a solution that combines the controller and the wireless communication transceiver in a single chip .",
    "the controller has a 32-bit risc architecture and runs at 16mhz .",
    "it is equipped with 96 kb of ram and 128 kb of serial flash .",
    "the maximum transmission power level of isense nodes reaches a distance of about 500 m in all directions in open air conditions .",
    "note that isense nodes are being used by two of the currently largest european projects on sensor networks : wisebed  @xcite and fronts  @xcite . in our simulations ,",
    "isense nodes are supposed to be equipped with solar panels . according to their documentation ,",
    "isense nodes require @xmath40 to work without using any additional peripheral such as the radio or the sensing devices .",
    "the state in which the radio is also turned on requires a power supply of @xmath41 .",
    "additionally , to receive or send a message with @xmath42 bytes of information , as required by duty - cycling messages , implies a consumption of @xmath43 .",
    "the batteries have a maximum capacity of @xmath44 .",
    "energy harvesting by solar panels can reach a maximum nominal value of @xmath45 .",
    "this information is summarized in table  [ tab : energy - consumption ] .",
    "finally , let us mention that isense nodes offer @xmath46 possible transmission power levels , in addition to the state in which the radio is turned off .",
    "the five transmission power levels other than the maximum one are obtained by reducing the maximum transmission power level by @xmath47 , @xmath48 , @xmath49 , @xmath50 , and @xmath51 .",
    "one of the aspects that has not been described so far is the simulation of the light source for energy harvesting .",
    "this was done as follows .",
    "the light source at time @xmath52 has an intensity of @xmath53 $ ] .",
    "hereby , @xmath54 corresponds to absolute darkness . in  @xcite we described a model for the evolution of the sun light intensities , that is , for the evolution of @xmath55 over time .",
    "here we consider exactly the same model .",
    "additionally , we assume a variable cloud density @xmath56 $ ] . depending on the technical characteristics of the solar panels used ,",
    "a sensor node @xmath2 can transform a fraction @xmath57 of the available light intensity into energy : @xmath58 ) : = f \\cdot \\int_{t-\\delta}^{t } s(z)\\cdot ( 1-c(z ) ) dz\\ ] ] in the experiments presented in this article we do not consider any specific user application , that is , the energy consumption of phase two of the proposed protocol must be simulated .",
    "this is done by removing an amount of @xmath59 of energy from the battery for each execution of phase two .",
    "the parameter values used for simulation are as follows :    it is important to note that the information which refers to the power profile of the isense nodes is obtained by properly rescaling the values from table  [ tab : energy - consumption ] to the @xmath0 $ ] range that is used by the description of duty - cycling given in section  [ sec : concept ] .      assuming that @xmath1that is , the length of one period  corresponds to 60 seconds , the simulations that we conducted span @xmath60 days ( each day consists of @xmath61 periods ) . the first phase of each period , which is reserved for the duty - cycling events ,",
    "was given @xmath62 seconds .",
    "information about the state of the sensor nodes ( active versus inactive ) is collected at the start of each period .",
    "the most important measure taken is the _",
    "mean activity _ of the sensor network , which is measured  at any time  as follows : @xmath63\\ ] ] note that , the greater @xmath64 the more sensors are active at the specific time at which @xmath64 was determined .",
    "self - synchronization behavior is characterized by an oscillating value of @xmath64 over time .",
    "this was shown already for a mobile sensor network with @xmath65 sensor nodes in figure  [ fig : generic - behavior ] of the introduction ( see solid line ) .",
    "however , the results from that figure were obtained in a _ perfect environment _ with no collisions or transmission failures and no propagation times . moreover , the energy model that was used had no relation to real sensor node hardware .    the experiments that we present in this section aim at proving the applicability of the proposed mechanism in real sensor networks .",
    "all experiments are done on the basis of a static network of @xmath65 isense nodes as simulated by the shawn sensor network simulator .",
    "for the first experiment that we conducted we assumed a zero probability for packet collisions .",
    "moreover , we assume a cloud density of zero , that is , @xmath66 for @xmath67 .",
    "figure  [ fig : behavior ] shows the obtained duty - cycling behavior .",
    "again , the solid line shows the fraction of active sensor nodes over time , whereas the slashed line shows the average battery level of the sensor nodes over time . finally , the dotted line represents the sun power that is used to establish the amount of energy which can be harvested by the sensor nodes at each time step .",
    "the graphic shows the behavior for one day of simulation , that is , 1440 periods .",
    "self - synchronized duty - cycling is indicated by the appearance of activity peaks over time .",
    "it is remarkable how the system adapts to the available energy resources , reducing the height of the peaks when the battery level of the nodes is reduced .",
    "note that when a lot of energy is available the system can even prescind from switching off sensor nodes .",
    "this can be seen by the existence of a large activity peak of about 200 periods of length located around period 14000 .",
    "note that for this experiment the average fraction of nodes that are active at each period is approximately @xmath68 .",
    "this measure will henceforth be called the _",
    "mean system activity_.    concerning the energy spent by the duty - cycling protocol with respect to the user application , we took measures over the whole simulation of @xmath69 periods ( that is , 30 days ) .    the energy spent by duty - cycling",
    "is hereby split into the `` idle '' and `` active '' states as well as the energy spent for transmitting the duty - cycling messages ( tx ) and receiving duty - cycling messages ( rx ) .",
    "note that message reception is the task which consumes most of the energy . in total",
    ", the duty - cycling mechanism consumes approximately @xmath70 of the total amount of spent energy .",
    "this may seem quite high at first .",
    "however , consider that this percentage strongly depends on the value of @xmath59 , which we have set to a very moderate value of 0.001 . increasing this value",
    "will obviously cause the decrease of the percentage of energy spent by duty - cycling .    after these initial studies we will now test the duty - cycling mechanism in two adversarial scenarios . in first place , it is shown how the system responds to situations with communication failures . in second place , the behavior of the system is studied in scenarios where energy harvesting is limited , for example , due to cloudy weather . finally , we present a mechanism for the automatic parameter adaptation of the system for what concerns different network sizes .      with the next experiment we aim at studying the robustness of the system with respect to communication failures .",
    "the experiment consists in simulating the duty - cycling protocol under different packet loss rates",
    ". a packet loss rate of @xmath71 $ ] means that the probability of correctly receiving a message is @xmath72 .",
    "we repeated the initial experiment as outlined above for all packet loss rates between 0 and 1 , in steps of 0.01 .",
    "the results are shown in terms of the obtained _ mean system activity _ for each considered packet loss rate in figure  [ fig : duty - experiments ] ( top ) .",
    "it can be observed that the behavior of the system does not visibly change until a packet loss rate of about @xmath73 .",
    "this means that the proposed system is quite robust against packet loss . only for packet loss rates greater than about @xmath73 the system behavior degrades .",
    "another interesting question concerns the possible change in system behavior when energy harvesting is restricted .",
    "considering the example of solar panels , this is the case , for example , with bad weather conditions .",
    "remember that the proposed model is able to simulate bad weather conditions by means of cloud densities greater than zero .",
    "we repeated the initial experiment ( that is , without considering packet loss ) for a range of different cloud densities between @xmath74 and @xmath75 .",
    "figure  [ fig : duty - experiments ] ( middle ) shows the evolution of the obtained mean system activity when moving from low to high cloud densities . as expected , with increasing cloud density the mean system activity decreases .",
    "interestingly , the relation between cloud density and the mean system activity is linear .      when changing to differently sized networks ( we only considered 120 node networks so far ) , it is intuitively clear that some parameter values must be adjusted in order to maintain a functional system .",
    "note that when changing the network size , the node density changes .",
    "hence , it is reasonable to assume that for maintaining the shape of the activity peaks , the choice of the transmission power level and the probability of spontaneous activation should be adapted to the new network size . a way of obtaining the new system parameters is described in the following .",
    "with @xmath76 , @xmath77 and @xmath78 we refer to the new number of sensor nodes , the probability of spontaneous activation and the transmission power level of the new , differently sized , network .",
    "first , in order to obtain the same wake - up rates as in the case of a 120-node network , the following rule can be applied : @xmath79 , where @xmath80 and @xmath81 are the parameters from the original network .",
    "note that this rule increases the probability of spontaneous activation of the nodes when the network size is decreased , and vice - versa when the number of nodes increases .",
    "moreover , the average number of nodes spontaneous activations per time unit is maintained .",
    "next we introduce a rule for adapting the transmission power level .",
    "the basic idea is to have a constant average number of sensors being reached by a transmission . due to the fact that the sensor nodes",
    "form a random topology , the following reasoning was used . in general",
    ", the number of nodes that can be reached by the ideal transmission of a sensor can be estimated as follows : @xmath82 , where @xmath81 is the number of sensor nodes and @xmath83 is the space in which the sensor nodes reside . in our case",
    "it holds that @xmath84 .",
    "therefore , this term reduces to @xmath85 .",
    "as @xmath86 is known for the case of 120-node networks , an adjusted transmission power level can be calculated for networks of different sizes as follows : @xmath87 where @xmath76 is the size , respectively @xmath78 is the transmission power level , of the new network .",
    "however , note that the transmission power level is not directly modifiable as an algorithm parameter .",
    "the only parameters of our algorithm for what concerns to the transmission power level are @xmath28 and @xmath29 .",
    "these values are used as the boundaries of the region for the ideal transmission power levels . therefore , our scaling method consists in using eq .",
    "[ transmission - power - scaling ] for obtaining @xmath88 and @xmath89 for delimiting the value of the new networks ideal transmission power level .    with this scaling methodology we repeated the initial experiment ( that is , without packet loss ) for a range of different network sizes @xmath90",
    "the graphic in figure  [ fig : duty - experiments ] ( bottom ) shows the evolution of the resulting mean system activity .",
    "ideally we would have expected a more or less straight line at about @xmath68 .",
    "this would have meant that the introduced parameter scaling method leads to a system that behaves equally for all network sizes .",
    "however , as can be seen , the scaling method only works well for networks with more than 100 nodes . for smaller networks , the mean system activity decreases .",
    "however , this can be explained by the decreasing connectivity and communication ability .",
    "in this paper we introduced a protocol for self - synchronized duty - cycling in wireless sensor networks with energy harvesting capabilities .",
    "this protocol , inspired by real ant colonies , has been implemented in the generic algorithm library wiselib .",
    "moreover , experiments have been performed with the network simulator shawn configured to simulate isense hardware .",
    "the proposed technique adapts to changing energy conditions in a self - organized way .",
    "moreover , it is very robust for what concerns packet loss and limitations of energy harvesting . in the future we plan to combine this protocol with real user applications such as monitoring or tracking .",
    "moreover , we plan to verify the experiments on real hardware .",
    "finally , as our technique does not depend on nodes being static , the results obtained in this paper can be reproduced for mobile sensor networks .",
    "this work was supported by the eu project fronts ( fp7-ict-2007 - 1 ) . in addition ,",
    "christian blum acknowledges support from the spanish _ ramn y cajal _ program , and hugo hernndez acknowledges support from a catalan _ fi _ grant .",
    "t.  baumgartner , i.  chatzigiannakis , s.  fekete , c.  koninis , a.  krller , and a.  pyrgelis .",
    "wiselib : a generic algorithm library for heterogeneous sensor networks . in j.",
    "sa silva et al . , editors , _ proc .  of ewsn 2010 _ , volume 5970 of _ lncs _ ,",
    "pages 162177 .",
    "springer , 2010 .",
    "i.  chatzigiannakis , s.  fischer , c.  koninis , g.  mylonas , and d.  pfisterer . : an open large - scale wireless sensor network testbed . in n.",
    "komninos , editor , _ proc .  of sensappeal 2009 _ , volume  29 of _ lecture notes of the institute for computer sciences _ , pages 6887 .",
    "springer , 2009 .",
    "h.  hernndez and c.  blum .",
    "self - synchronized duty - cycling in sensor networks with energy harvesting capabilities : the static network case . in f.  rothlauf et  al . , editor , _ proc .",
    "of gecco 2009 _ , pages 3340 .",
    "acm press , 2009 .",
    "h.  hernndez , c.  blum , m.  middendorf , k.  ramsch , and a.  scheidler .",
    "self - synchronized duty - cycling for mobile sensor networks with energy harvesting capabilities : a swarm intelligence study . in _ proc .  of sis 2009",
    "_ , pages 153159 .",
    "ieee press , 2009 ."
  ],
  "abstract_text": [
    "<S> in this work we present a protocol for self - synchronized duty - cycling in wireless sensor networks with energy harvesting capabilities . the protocol is implemented in wiselib , a library of generic algorithms for sensor networks . </S>",
    "<S> simulations are conducted with the sensor network simulator shawn . </S>",
    "<S> they are based on the specifications of real hardware known as isense sensor nodes . </S>",
    "<S> the experimental results show that the proposed mechanism is able to adapt to changing energy availabilities . </S>",
    "<S> moreover , it is shown that the system is very robust against packet loss . </S>"
  ]
}