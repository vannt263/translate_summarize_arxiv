{
  "article_text": [
    "consider a hypersurface @xmath0 , where @xmath1 is a factorial domain .",
    "then @xmath2 and the open complement @xmath3 is again an affine scheme .",
    "thus the spectrum @xmath4 of a factorial domain has the property that the complement of every hypersurface is an affine scheme .",
    "this property holds also in the following situations .",
    "-@xmath4 is locally @xmath5-factorial , meaning that the divisor class group of each point in @xmath4 is a torsion group .",
    "this rests upon the fact that affineness of a morphism is a local property on the base .",
    "-@xmath4 is regular . for",
    "then @xmath4 is locally factorial .",
    "-@xmath4 is a curve , i.e. a one dimensional noetherian scheme .",
    "this is a consequence of the hauptidealsatz of krull .",
    "-@xmath4 is the spectrum of a normal excellent domain @xmath1 of dimension two .",
    "the first proof of this result was given by nagata in connection with the 14th problem of hilbert , see @xcite and @xcite .",
    "in this paper we shall study this property of a normal noetherian affine scheme .",
    "for this purpose we introduce in the first section the _ affine class group _ of @xmath1 , @xmath6 .",
    "it is a torsion free residue class group of the divisor class group @xmath7 and it measures the deviation of the described property in a similar way as @xmath7 measures the deviation from factoriality .    in the second section we study the behavior of the affine class group under faithfully flat ring extensions .",
    "we show that the affine class group of a normal domain @xmath1 and of the polynomial ring @xmath8 $ ] coincide ( cor .",
    "[ affinclassgauss ] ) .",
    "in particular , if our property holds for @xmath1 , it holds for @xmath8 $ ] . for a normal excellent domain @xmath1 of dimension two",
    "we obtain that the complement of every ( hyper)surface in @xmath9 $ ] is affine ( cor .",
    "[ nagatazylinder ] ) .",
    "a geometric consequence of this result is that in the affine line over a normal affine surface the intersection of two surfaces can not contain isolated points .    in the third section we study hypersurfaces in the product of a normal affine variety @xmath4 with an affine smooth curve @xmath10 over an algebraically closed field .",
    "the crucial point here is to look at the closure of the graph of a rational mapping from @xmath4 to @xmath10 . for a normal surface @xmath4",
    "we obtain again that the complement of every hypersurface in @xmath11 is affine ( theorem [ surfacecurve ] ) .",
    "the aim of section four and five is to compute the affine class group in some examples , in order to illustrate how @xmath12 and @xmath13 are related .",
    "the affine class group of hyperbolas , of monoid rings and of determinantal rings is just the divisor class group modulo torsion .",
    "section five deals with relations between affineness properties of a smooth projective variety and of an affine cone over it . under suitable conditions",
    "the pull back of a numerically trivial divisor vanishes in the affine class group .",
    "for example we get that the affine class group of an affine cone over a geometrically ruled surface is always @xmath14 , thereas the divisor class group may be very big .",
    "throughout this paper , by a normal scheme we shall mean a noetherian separated irreducible reduced normal scheme .",
    "a divisor is always a weil divisor .",
    "the complement of an effective divisor is the complement of its support .",
    "let @xmath4 denote a normal scheme .",
    "we call a divisor @xmath15 _ coaffine _ , if for every linearly equivalent effective divisor @xmath16 the complement of @xmath16 is affine .",
    "@xmath15 is called _ strongly coaffine _ , if @xmath17 is coaffine or trivial for every @xmath18 .",
    "[ coaffinefund ] let @xmath4 be a normal scheme . then the following hold .    1 .",
    "the trivial divisor is coaffine if and only if @xmath4 is affine .",
    "2 .   if a positive multiple of @xmath15 is coaffine , then @xmath15 itself is coaffine .",
    "3 .   suppose that @xmath4 is affine .",
    "then @xmath15 is coaffine if and only if @xmath19 is coaffine for every point @xmath20 .",
    "cartier divisors are coaffine .",
    "if @xmath21 contains all points of codimension one and if @xmath15 is coaffine on @xmath22 , then @xmath15 is coaffine on @xmath4 .",
    "\\(i ) is clear .",
    "let @xmath23 be effective , @xmath24",
    ". then @xmath25 is effective with the same support and its complement is affine .",
    "let @xmath26 .",
    "if @xmath15 is not coaffine we find @xmath27 effective such that the complement is not affine . since the affineness of an open subset @xmath28 in an affine scheme @xmath4 is a local property in @xmath4 , we find a point @xmath20 where the complement of @xmath29 is not affine , and @xmath30 , thus @xmath31 is not coaffine .",
    "for the converse , suppose that @xmath32 is not coaffine , let @xmath33 be effective in @xmath34 such that the complement is not affine . replacing @xmath15 by @xmath27 we find a divisor which is locally in @xmath35 effective with non - affine complement .",
    "let @xmath36 be a prime divisor of @xmath16 not passing through @xmath35 .",
    "we find a global function @xmath37 , which is a unit in @xmath35 and zero in @xmath36 .",
    "using such functions we obtain an effective divisor equivalent with @xmath16 without changing the localization at @xmath35 .",
    "suppose that @xmath15 is effective . then @xmath38 . if @xmath39 is affine , the other inclusion is also true , since @xmath22 contains all points of codimension one .",
    "thus @xmath40 is affine .",
    "we come to the definition of the affine class group of a normal scheme .",
    "since the coaffine divisors do not form a subgroup of the divisor class group in general , our idea is to look at divisors which do not change affineness properties of other divisors .",
    "we say that a divisor @xmath15 is _ affine trivial _ if for every strongly coaffine divisor @xmath16 , the divisor @xmath41 is again strongly coaffine .",
    "[ afftrivfund ] let @xmath4 be a normal scheme .",
    "then the following hold .    1 .   the set of affine trivial divisors form a subgroup of @xmath42 .",
    "every principal divisor is affine trivial . 2 .",
    "if @xmath15 is affine trivial , it is strongly coaffine .",
    "3 .   suppose that @xmath4 is affine .",
    "if @xmath43 is affine trivial , @xmath44 , then @xmath15 is affine trivial .",
    "suppose that @xmath4 is affine . if @xmath31 is affine trivial for every point @xmath20 , then @xmath15 is affine trivial .",
    "every cartier divisor is affine trivial .",
    "suppose that @xmath15 and @xmath45 are affine trivial , and let @xmath16 be strongly coaffine .",
    "then also @xmath46 is strongly coaffine .",
    "let @xmath15 be affine trivial and @xmath16 strongly coaffine .",
    "then @xmath47 is strongly coaffine and therefore @xmath48 is strongly coaffine , thus @xmath49 is strongly coaffine and @xmath50 is affine trivial .",
    "the principal divisors are affine trivial , since coaffineness is a property of the divisor class .",
    "\\(ii ) is clear .",
    "\\(iii ) let @xmath43 be affine trivial and let @xmath16 be strongly coaffine .",
    "we may suppose @xmath51 .",
    "@xmath52 is also strongly coaffine and therefore @xmath53 is strongly coaffine .",
    "so @xmath54 is coaffine for @xmath18 and thus @xmath55 is coaffine due to [ coaffinefund ] .",
    "( iv ) . in an affine scheme",
    "@xmath4 a divisor is ( strongly ) coaffine if and only if it is locally ( strongly ) coaffine in every point .",
    "suppose @xmath31 is affine trivial for all @xmath20 and let @xmath16 be strongly coaffine .",
    "then @xmath56 is strongly coaffine and also @xmath41 .",
    "let @xmath4 be a normal scheme .",
    "we call the residue class group of the divisors modulo the subgroup of affine trivial divisors the _ affine class group _ of @xmath4 , denoted by @xmath57    the affine class group is a residue class group of the divisor class group . if @xmath4 is affine , it is a torsion free factor group of the weil divisors modulo cartier divisors .",
    "let @xmath4 be a normal scheme .",
    "the affine class group of @xmath4 vanishes if and only if every effective divisor is trivial or the complement of its support is affine .",
    "if @xmath4 is affine , then @xmath58 if and only if the complement of every hypersurface is affine .",
    "if @xmath4 is the punctured scheme of a local ring or a proper scheme over a field , @xmath59 holds if and only if the complement of every non - empty hypersurface is affine .",
    "this is clear .    one important application of the property that the complement of every hypersurface is affine is the theorem of van der waerden on the ramification of birational morphisms , see @xcite ,  21.12 . if @xmath60 is a birational morphism of finite type and if @xmath61 is normal such that every point @xmath62 has this property ( or the property ( w ) of grothendieck , @xcite ,  21.12.8 ) , then the locus where @xmath63 is not a local isomorphism has pure codimension one .",
    "we give a criterion for coaffine divisors . the condition that @xmath15 is basepoint free in codimension one is always fulfilled if @xmath4 is affine .",
    "@xmath15 corresponds to a reflexive module @xmath64 , which is an invertible sheaf outside the base locus .",
    "[ coaffinecrit ] let @xmath4 be a normal scheme , @xmath65 and let @xmath15 be a weil divisor .",
    "suppose that @xmath15 has no fixed components .",
    "let @xmath22 denote the complement of the base locus , and let @xmath66 be the corresponding invertible sheaf on @xmath22 .",
    "then the following are equivalent .    1 .",
    "@xmath15 is coaffine on @xmath4 .",
    "2 .   @xmath15 is coaffine on @xmath22 .",
    "3 .   for every basepoint free linear subsystem @xmath67 of @xmath68 the mapping",
    "@xmath69 is affine .",
    "4 .   there exists an @xmath1-generating system for the @xmath1-module @xmath70 consisting of sections having affine complement .",
    "let @xmath16 be effective and equivalent with @xmath15 .",
    "then @xmath71 since the base locus @xmath72 is contained in @xmath73 , both sets coincide .",
    "this gives ( i ) @xmath74 ( ii ) , the converse was proven in [ coaffinefund ] .",
    "\\(ii ) @xmath74 ( iii ) .",
    "( ii ) means that for every section @xmath75 the complement of the zero locus @xmath76 in @xmath22 is affine .",
    "a basepoint free linear system @xmath77 defines then an affine mapping @xmath78 , since @xmath79 is affine .",
    "\\(iii ) @xmath74 ( iv ) is clear .",
    "( iv ) @xmath80 ( ii ) .",
    "let @xmath81 be a section corresponding to the effective divisor @xmath16 .",
    "then @xmath82 where the @xmath83 are a generating system .",
    "we may suppose that the linear system @xmath84 is basepoint free .",
    "thus we get an affine mapping @xmath85 , showing that @xmath86 is affine .",
    "the conditions in [ coaffinecrit ] are not equivalent with the property that there exists an affine morphism @xmath87 with @xmath88 .",
    "consider for example the structure sheaf on a quasi affine , non - affine scheme .",
    "[ coaffinepullback ] let @xmath89 be flat , where @xmath1 and @xmath90 are normal noetherian domains .",
    "let @xmath15 be coaffine on @xmath91 .",
    "then the pull - back @xmath92 is also coaffine .",
    "if the mapping is faithfully flat , the converse holds as well .",
    "let @xmath93 denote the set of prime ideals of height one and let @xmath21 denote the basepoint free locus of @xmath15 .",
    "thus @xmath94 and @xmath95 is invertible on @xmath22 , let @xmath96 .",
    "we have @xmath97 since going down holds for flat mappings .",
    "due to [ coaffinefund ] it suffice to show that @xmath98 is coaffine on @xmath99 .",
    "flatness gives @xmath100 and an @xmath1-generating system @xmath101 of @xmath102 gives an @xmath90-generating system @xmath103 of @xmath104 .",
    "the sections @xmath105 have again affine complement and the criterion [ coaffinecrit ] ( iv ) shows that @xmath45 is coaffine .",
    "suppose now that the mapping is faithfully flat and that @xmath106 is coaffine in @xmath107 .",
    "let @xmath16 be an effective representative of @xmath15 .",
    "then @xmath108 is effective with affine complement and its support is the preimage of the support of @xmath16 .",
    "an open subset is affine if and only if its preimage under a faithfully flat morphism is affine .",
    "thus @xmath109 is affine .",
    "[ maintheorem ] let @xmath110 be a faithfully flat extension of normal noetherian domains @xmath1 and @xmath90 .",
    "suppose that the mapping @xmath111 is surjective",
    ". then @xmath112 .",
    "let @xmath15 be affine trivial and let @xmath113 be strongly coaffine . we may write @xmath114 ( as divisor class ) and @xmath16 is due to [ coaffinepullback ] strongly coaffine .",
    "thus @xmath115 is strongly coaffine and @xmath106 is affine trivial .",
    "this gives a surjective morphism @xmath116 .",
    "a similiar argument shows that it is also injective .",
    "[ affinclassgauss ] let @xmath1 be a normal noetherian domain .",
    "then the affine class groups of @xmath1 and of the polynomial ring @xmath8 $ ] coincide .",
    "the extension is faithfully flat and the divisor class groups are the same .",
    "let @xmath1 be a normal noetherian domain and let @xmath16 be a vector bundle over @xmath117 .",
    "then the affine class groups of @xmath118 and of @xmath16 coincide .",
    "this is also clear .",
    "the following corollary answers one of the motivating questions of this paper .",
    "it is analogous to the theorem of gauss , that the polynomial ring inherits factoriality from the base .",
    "[ zylindernull ] let @xmath1 be a normal noetherian domain such that the complement of every hypersurface in @xmath117 is affine .",
    "then this is also true in @xmath9 $ ] .    if in @xmath117 every hypersurface is coaffine , this is not true in the projective space @xmath119 , because the preimages of hypersurfaces have non - affine complement",
    ". however , every hypersurface of @xmath119 which dominates the base @xmath91 has an affine complement . for",
    "this can be tested in the punctured affine cone and the vertex of the cone lies in the closure of the preimage of a dominating hypersurface .    [ zylindercurve ] cor .",
    "[ zylindernull ] is not true without the condition that @xmath1 is normal .",
    "identify on the affine line @xmath120 two points and call the resulting curve @xmath121 .",
    "the complement of points on a one - dimensional noetherian affine scheme is again affine .",
    "consider @xmath122 $ ] .",
    "@xmath123 is obtained by identifying two parallel lines on the affine plane .",
    "the image curve of a skew line can not have an affine complement , for its preimage consists of this line and two isolated points .",
    "[ nagatazylinder ] let @xmath1 be a two - dimensional normal excellent domain .",
    "then the complement of every ( hyper-)surface in @xmath124 $ ] is affine .",
    "the intersection of two surfaces in @xmath124 $ ] has no isolated points .",
    "this follows now from the theorem of nagata .",
    "the intersection property follows from the general fact that a hypersurface having affine complement has pure codimension one on every closed subscheme ( see @xcite ,  21.12 . and @xcite ) .",
    "[ nagatazylinder ] is again not true if @xmath1 is not normal .",
    "let @xmath10 be the curve of example [ zylindercurve ] and consider @xmath125 .",
    "this three - dimensional variety arises by identifying two parallel planes @xmath126 and @xmath127 in @xmath128 .",
    "one may find two disjoint surfaces @xmath129 and @xmath130 in affine space such that @xmath131 and such that the intersecting curves @xmath132 and @xmath133 have only single points in common after identifying @xmath126 and @xmath127 .",
    "the images of these two surfaces intersect then in isolated points on @xmath134 .",
    "the analogue of the theorem of nagata in complex geometry states that the complement of an analytic curve on a normal stein surface @xmath123 is again stein ( theorem of simha , @xcite ) .",
    "analogue to [ nagatazylinder ] one may ask : is the complement of every analytic hypersurface in @xmath135 stein ?",
    "we consider now the affine class group of a formal power series ring @xmath136 $ ]",
    ". a normal domain @xmath1 is said to have a _ discrete divisor class group _ if the mapping @xmath137 $ ] is bijective , see @xcite ,  19 .",
    "this holds for a normal excellent @xmath138-algebra @xmath1 over a field of characterisic zero if and only if @xmath1 is 1-_rational _ , meaning that @xmath139 , where @xmath140 is a resolution of singularities , see @xcite , 6.1 .",
    "if the normal domain @xmath1 has discrete divisor class group , the affine class groups of @xmath1 and of @xmath136 $ ] coincide .",
    "it is not clear whether @xmath141 implies @xmath142=0 $ ] .",
    "this is not even clear if @xmath1 is factorial .",
    "even if a local domain @xmath1 is factorial , the affine class group of the completion does not vanish in general .",
    "let @xmath143[x , y]/(xy-(u^2-(1+w)v^2 ) ) \\ , .\\ ] ] @xmath1 is factorial , because the polynomial @xmath144 is irreducible in @xmath145 $ ] . over the completion",
    "@xmath146 $ ] we find @xmath147 and in the completion of @xmath1 , @xmath148/(xy-(u- \\sqrt{1+w}v)(u+ \\sqrt{1+w}v))\\ ] ] the prime ideals @xmath149 and @xmath150 are of height one , but their sum is @xmath151 , so they meet in the closed point , thus they can not have affine complement ( @xmath152 ) .    [ complexification ] in a similar way we may give examples of factorial domains such that after changing the base field the affine class group does not vanish anymore .",
    "for example , the @xmath153-algebra @xmath154/(xy-(u^2+v^2 ) ) $ ] is factorial , but @xmath155 .",
    "generalizing the situation @xmath156 of the previous section , we study the affine class group of an affine normal variety @xmath4 over an algebraically closed field @xmath138 in relation to the affine class group of the product with another affine normal variety , in particular with an affine smooth curve @xmath10 . of course , if @xmath4 and @xmath61 are both smooth , then their product is again smooth and the affine class group vanishes as well",
    ". first we derive some corollaries from [ maintheorem ]    [ fieldextension ] let @xmath157 be an affine normal variety over an algebraically closed field @xmath138 of characteristic zero , and let @xmath158 be a field extension . if @xmath13 is finitely generated , then the affine class group of @xmath4 and of @xmath159 coincide .    under these conditions",
    "the divisor class groups coincide , see @xcite , 15.7 , so the result follows from [ maintheorem ] .",
    "this is not true if @xmath138 is not algebraically closed , as example [ complexification ] has shown .",
    "let @xmath157 be an affine normal variety over an algebraically closed field @xmath138 of characteristic zero , and let @xmath160 be a variety , where @xmath161 is factorial .",
    "then the affine class groups of @xmath4 and of @xmath162 coincide .",
    "the divisor class groups coincide , see @xcite , 15.10 .",
    "let now @xmath157 be an affine normal variety and let @xmath10 be an affine smooth curve over an algebraically closed field @xmath138 .",
    "the easiest hypersurfaces in @xmath11 are graphs of morphisms @xmath163 and more generally the closures of graphs of rational mappings @xmath164 .",
    "we consider here also mappings to smooth projective curves .",
    "[ graphclosure ] let @xmath4 be an affine normal variety and let @xmath10 be an affine smooth curve or the projective line .",
    "let @xmath165 be the smooth projective closure of @xmath10 .",
    "let @xmath166 be a rational mapping such that @xmath167 is an affine morphism , where @xmath39 is the locus where @xmath168 is defined .",
    "then the closure of the graph of @xmath169 in @xmath170 has an affine complement .",
    "let @xmath171 be the points in @xmath165 not in @xmath10 .",
    "let @xmath172 be the closure of the graph of @xmath166",
    ". then @xmath173 .",
    "thus our set equals    @xmath174    since @xmath168 is supposed to be affine , this is also true for @xmath175 .",
    "the preimage of @xmath176 under @xmath177 is @xmath178 . if @xmath179 , the complement of the diagonal in @xmath180 is affine .",
    "otherwise @xmath181 and then the curve @xmath182 in @xmath183 is ample , so its complement is affine .",
    "therefore @xmath184 is affine . due to",
    "the following lemma this set equals @xmath185 .",
    "let @xmath186 and @xmath61 be normal varieties and let @xmath187 be a rational map .",
    "suppose that @xmath22 is the maximal locus where @xmath188 is defined and that @xmath22 contains all points of codimension one .",
    "suppose @xmath189 with @xmath190 affine .",
    "then @xmath191 .",
    "consider @xmath192 .",
    "@xmath193 contains all points of height one of @xmath194 .",
    "since the target is affine and @xmath186 normal , this mapping is defined on @xmath194 .",
    "if @xmath4 is an affine variety , @xmath10 any curve and @xmath195 a morphism , then the complement of the graph in @xmath11 is always affine . for this",
    "it suffice to show that the mapping @xmath196 is affine , and this is locally true .",
    "[ graphclosure2 ] let @xmath4 and @xmath10 be as in [ graphclosure ] and suppose that @xmath197 .",
    "then the complement of the closure of the graph of a rational mapping @xmath166 is affine .",
    "we have only to show that @xmath168 is affine .",
    "this is clear if @xmath169 is constant , otherwise the preimage of a point is a hypersurface .",
    "the complement of the closure of the graph of a rational mapping to a smooth projective curve @xmath10 of higher genus need not be affine , because then the diagonal is not ample .",
    "let @xmath198 be an elliptic curve where @xmath1 is normal and let @xmath199 be the cone mapping defined on @xmath200",
    ". then the complement of the graph of @xmath169 in @xmath201 is not affine . to show this ,",
    "let @xmath15 be a curve on @xmath202 disjoint to the diagonal , say @xmath203 , @xmath204 .",
    "inside the complement lies as a closed subscheme the preimage of @xmath15 , and this equals @xmath205 .",
    "this is also the graph of a mapping on @xmath39 and therefore isomorphic to @xmath39 , which is not affine .    two affine normal varieties @xmath4 and @xmath61 may have trivial affine class group , but @xmath206 . for this",
    "consider the two - dimensional variety @xmath26 of the preceeding example .",
    "since @xmath11 contains non - affine complements of hypersurfaces ( which dominate @xmath4 ) , this is also true for @xmath207 and then also for @xmath208 .",
    "if we replace one factor by a suitable affine open subset @xmath61 in the blowing - up of @xmath4 we find even examples @xmath162 where one factor is smooth .",
    "[ surfacecurve ] let @xmath26 be an affine normal surface and let @xmath10 be an affine smooth curve both over an algebraically closed field @xmath138 .",
    "then the complement of every hypersurface in @xmath11 is affine , @xmath209 .",
    "we deduce this statement from [ graphclosure2 ] by considering finite normal extensions @xmath210 . since @xmath211 is again two - dimensional and normal , we have @xmath212 , so the complement of the closure of a graph in @xmath213 is affine .",
    "let @xmath214 .",
    "let @xmath215 be an irreducible hypersurface .",
    "we may suppose that it dominates the base @xmath4 .",
    "then the field extension of the generic points @xmath216 is finite .",
    "let @xmath217 be a @xmath218-algebra - generating system of @xmath219 with integral equations @xmath220 $ ] .",
    "due to the theorem of kronecker , see @xcite , 54.10 , there exists a finite field extension @xmath221 , where all these polynomials @xmath222 split in linear factors .",
    "then every residue field of @xmath223/(f_1,\\ldots , f_n + \\mbox{other relations } ) $ ] is isomorphic to @xmath224 .",
    "let @xmath90 be the normal closure of @xmath1 in @xmath224 and @xmath225 .",
    "since @xmath1 is excellent , it is a finite extension of @xmath1 .",
    "it suffice to show that the complement of the preimage of @xmath226 in @xmath213 is affine , due to the theorem of chevalley , @xcite , 6.7.1 .",
    "since going down is true for @xmath210 and @xmath227 , see @xcite , i.10.13 , the preimage of @xmath228 equals the closure of the fiber of @xmath36 .",
    "the fiber over @xmath36 is @xmath229 , its points being @xmath224-points .",
    "so we have to show that a hypersurface @xmath230 with @xmath231 has affine complement .",
    "but then @xmath232 is generically an isomorphism and there exists a rational mapping @xmath233 such that @xmath234 is the closure of the graph of this mapping .",
    "suppose that @xmath4 is an affine normal variety and @xmath10 is an affine smooth curve .",
    "is it true that @xmath235 ?",
    "in this section we compute the affine class group of hyperbolas over factorial domains , of monoid rings and of determinantal rings . in all these cases",
    "the result is that the affine class group is just the divisor class group modulo torsion . in all these examples we proove that the complement of a certain divisor is not affine by giving a closed subscheme where the codimension of the intersection is bigger than one .",
    "let @xmath236 be a noetherian factorial domain , let @xmath237 be non associated prime elements of @xmath236 .",
    "we consider the hyperbola @xmath238/(xy - f ) \\mbox { where } f = u_1^{d_1 } \\cdot \\ldots \\cdot u_r^{d_r},\\ , d_i > 0 \\ , .\\ ] ] @xmath239 and @xmath240 are prime ideals of height one , the divisor class group of @xmath1 is @xmath241 , generated by @xmath242 . in @xmath7 the relations @xmath243 hold .",
    "[ aclhyperbolavanish ]    for @xmath1 as above the following are equivalent .    1 .",
    "@xmath141 2 .",
    "@xmath244 is affine for all @xmath245 .",
    "3 .   @xmath246 and @xmath247 generate the unit ideal in @xmath236 for @xmath248 .",
    "@xmath1 is locally @xmath5-factorial .",
    "\\(i ) @xmath74 ( ii ) is clear .",
    "( ii ) @xmath249 ( iii ) .",
    "suppose that @xmath246 and @xmath250 do not generate the unit ideal in @xmath236 .",
    "then there exists in @xmath1 a prime ideal @xmath251 , and its height is at least three .",
    "therefore @xmath252 has codimension @xmath253 on @xmath254 and @xmath255 is not affine .",
    "suppose that ( iii ) holds .",
    "let @xmath256 denote the product @xmath257 .",
    "then @xmath258 generate the unit ideal , thus @xmath259 cover @xmath117 . on the other hand , @xmath260 is finite , so ( iv ) holds .",
    "( iv ) @xmath80 ( i ) is clear .",
    "suppose furtheron that @xmath236 is local .",
    "if @xmath261 , then @xmath262 . we characterize now the divisor classes which are coaffine .",
    "[ hyperbolacoaffine ] let @xmath236 be a local noetherian factorial domain , @xmath237 non associated prime elements in @xmath236 , @xmath263 and @xmath264/(xy - f)$ ] .",
    "then a weil divisor @xmath15 of @xmath1 is coaffine if and only if it is a principal divisor or equivalent with a divisor @xmath265 , @xmath266 for @xmath245 .",
    "every divisor of @xmath1 is equivalent with @xmath267 . adding multiples of @xmath268 we consider the biggest representative @xmath269 .",
    "suppose first that at least one entry is not positive .",
    "we order the index set such that the first @xmath138 places are positive ( @xmath270 ) , the places @xmath271 to @xmath272 are negative and the others are zero .",
    "we replace the @xmath273 where @xmath274 by @xmath275 and get an equivalent effective divisor with support @xmath276 , @xmath277 .    if @xmath278 , the ideal @xmath279 has height @xmath280 .",
    "so suppose that at least one entry is also negative , @xmath281 .",
    "consider the ideal @xmath282 .",
    "this is a prime ideal of height one in @xmath1 , and @xmath283 has again height @xmath280 .",
    "these divisors are not coaffine .",
    "so suppose that all @xmath284 are positive .",
    "if @xmath285 , we have a coaffine principal divisor . if @xmath286 for at least one @xmath287 , but not for all , then considering @xmath288 and interchanging @xmath273 by @xmath275 yields a situation as before",
    "so suppose now that @xmath289 .",
    "we have to show that such a divisor is coaffine .",
    "note @xmath290 and consider the reflexive ideal @xmath291 using the homogeneous mapping @xmath292= a { \\rightarrow}a_x = r[x , x^{-1}]$ ] we find that @xmath293 .",
    "the divisors @xmath294 and @xmath295 have an affine complement , since @xmath284 and @xmath296 for all @xmath245",
    ". then [ coaffinecrit ] shows that @xmath15 is coaffine .",
    "let @xmath236 and @xmath1 as in [ hyperbolacoaffine ] .",
    "let @xmath15 be a weil divisor of @xmath161 .",
    "then the following are equivalent .    1 .",
    "a multiple of @xmath15 is principal .",
    "@xmath15 is strongly coaffine .",
    "@xmath15 is affine trivial .",
    "the affine class group of @xmath1 is @xmath13 modulo torsion .",
    "we show ( ii ) @xmath74 ( i ) .",
    "since @xmath15 is coaffine , @xmath15 is equivalent with @xmath297 , where @xmath298 .",
    "we have to show that the fractions @xmath299 are all equal .",
    "suppose @xmath300 for all @xmath301",
    ". then @xmath302 , where equality holds in the first place .",
    "the divisor @xmath303 is effective and equivalent with @xmath304 .",
    "since it is coaffine and its first entry is zero , it must be zero everywhere , hence it is a principal divisor .",
    "the sum of two coaffine divisors need not be coaffine .",
    "let @xmath305[x , y]/(xy - u_1 ^ 3u_2 ^ 3)$ ] .",
    "the divisor @xmath306 is affine trivial .",
    "the divisor @xmath307 is coaffine , but @xmath308 is not coaffine .",
    "affine trivial divisors do not preserve the property of being coaffine .",
    "we seek to compute the affine class group of a monoid ring @xmath309 $ ] , where @xmath218 is a factorial domain and @xmath310 is a normal , finitely generated torsion free monoid , see @xcite , @xcite .",
    "let @xmath311 be the quotient lattice and let @xmath312 be the facets of @xmath310 .",
    "let @xmath313 be the corresponding prime ideal of height one and @xmath314 the corresponding valuation @xmath315 .",
    "the mapping @xmath316 is injective and @xmath317 , hence it induces a canonical mapping @xmath309 { \\rightarrow}k[x_1,\\ldots , x_r]$ ] .",
    "the factor group @xmath318 is the divisor class group of @xmath309 $ ] . for an element @xmath319",
    "we have @xmath320 iff @xmath321 iff @xmath322 .",
    "we call @xmath323 the support of @xmath169 .",
    "[ monoidaffine ] let @xmath309 $ ] as above .",
    "then the complement of the effective divisor @xmath324 is affine if and only if the support of @xmath15 is the support of a monomial @xmath319 .",
    "let @xmath325 , @xmath326 for @xmath327 and suppose that its support @xmath328 is not the support of a monomial function .",
    "this means that for every monomial function @xmath329 there exists another prime ideal @xmath330 such that @xmath331 . on",
    "the other hand there exists for every facet @xmath222 a monomial element @xmath332 such that @xmath333 for @xmath334 .",
    "we interpret these properties in terms of the mapping @xmath309",
    "\\subseteq k[x_1,\\ldots , x_r]$ ] the extended ideal @xmath335 $ ] is contained in @xmath336 for @xmath327 .",
    "furthermore , it is contained in @xmath337 .",
    "but it can not be contained in @xmath338 , @xmath339 , because for every @xmath340 there exists a monomial @xmath341 where @xmath342 and @xmath343 for @xmath248 .",
    "if @xmath344 , this monomial belongs to the extended ideal , but not to @xmath338 .",
    "so the extended ideal has not pure codimension one and its complement can not be affine .",
    "[ monoidacl ] let @xmath15 be a weil divisor of the monoid ring @xmath309 $ ] , where @xmath218 is a factorial domain .",
    "then the following are equivalent .    1 .",
    "a multiple of @xmath15 is principal .",
    "@xmath15 is strongly coaffine .",
    "@xmath15 is affine trivial .",
    "the affine class group of @xmath309 $ ] is @xmath345 $ ] modulo torsion .",
    "let @xmath346 be strongly coaffine , @xmath347 . due to [ monoidaffine ] the support of @xmath15 is the support of a function @xmath319 . thus there exist numbers @xmath348 such that @xmath349 is effective and such that the numbers of zeros has decreased .",
    "this new divisor is equivalent with @xmath43 and therefore again coaffine .",
    "inductively we arrive at @xmath350 such that @xmath351 .",
    "let @xmath309 $ ] as before .",
    "then the following are equivalent .    1 .   @xmath310 is simplicial , meaning that the number of facets equals the dimension .",
    "2 .   @xmath309 $ ] is @xmath5-factorial .",
    "3 .   @xmath352 $ ] is a quotient singularity .",
    "4 .   @xmath353=0 $ ] .",
    "\\(i ) and ( ii ) are equivalent due to the explicit description of @xmath354 $ ] as the cokernel of @xmath355",
    ". suppose ( ii ) holds .",
    "@xmath309 { \\rightarrow}k[x_1,\\ldots , x_r]$ ] is the subring of degree zero under the graduation given by @xmath356 $ ] , and this graduation corresponds to the operation of the finite group scheme @xmath357)]$ ] on @xmath358 , @xmath359 $ ] being the quotient .",
    "( iii ) @xmath74 ( iv ) follows from the theorem of chevalley @xcite,6.7.1 .",
    "( iv ) @xmath74 ( ii ) follows from [ monoidacl ] .",
    "let @xmath218 denote a field and let @xmath360 .",
    "the @xmath138-minors of the @xmath361-matrix @xmath362 define an ideal @xmath363 in the polynomial ring @xmath364 $ ] .",
    "the ideals @xmath363 are prime of height @xmath365 and the determinantal rings @xmath366/i_k$ ] are normal cohen - macaulay domains of dimension @xmath367 , see @xcite , theorem 7.3.1 .",
    "let @xmath368 .",
    "let @xmath36 be the ideal of @xmath369 generated by the @xmath370-minors of the first @xmath370 rows .",
    "then @xmath36 is a prime ideal of height one and @xmath371 , generated by @xmath36 .    for",
    "the second equality see @xcite , theorem 7.3.5 .",
    "it suffice to show that the complement of @xmath372 is not affine .",
    "consider the mapping @xmath373/i_k",
    "{ \\rightarrow}k[x_{ij}:\\ , 1 \\leq i \\leq k-1,\\ , 1 \\leq j \\leq n]\\ ] ] where @xmath374 for @xmath375 and @xmath376 for @xmath377 .",
    "this is well defined .",
    "the image of @xmath36 is just the ideal @xmath378 of the @xmath370-minors in the @xmath379-dimensional polynomial ring .",
    "its height is @xmath380 , thus @xmath381 is not affine .    for which local normal domains",
    "@xmath1 does the equation @xmath382 hold ?",
    "is this true for a rational singularity ?",
    "let @xmath218 be a field and let @xmath1 be an @xmath383-graded normal @xmath218-algebra , finitely generated by homogeneous elements of degree one .",
    "let @xmath384 and @xmath385 be the projective variety over @xmath386 .",
    "let @xmath226 be the corresponding very ample divisor on @xmath61 .",
    "the cone mapping @xmath387 defines the pull - back @xmath388 .",
    "we seek to relate the affine class group of the cone to the numerical class group of the projective variety .      1 .",
    "@xmath106 is coaffine on @xmath4 if and only if for all @xmath391 the divisors @xmath392 are coaffine on @xmath61 .",
    "@xmath106 is strongly coaffine on @xmath4 if and only if for all @xmath393 the divisors @xmath394 are coaffine or trivial .",
    "@xmath108 is affine trivial on @xmath4 if and only if for every divisor @xmath15 on @xmath61 with the property that for every @xmath395 the divisors @xmath394 are coaffine or trivial , this property holds for @xmath396 as well .",
    "let @xmath397 be the reflexive module on @xmath61 corresponding to @xmath15",
    ". then @xmath398 .",
    "due to [ coaffinecrit ] , @xmath106 is coaffine on @xmath4 if for each homogeneous section @xmath399 the complement of the corresponding divisor on @xmath4 is affine , and this is the case if and only if each effective divisor @xmath400 on @xmath61 has an affine complement .",
    "let @xmath401 be a projective normal variety over a field @xmath218 , where @xmath1 is a normal graded @xmath218-algebra , finitely generated by forms of degree one .",
    "then @xmath402 if and only if the complement of every non - empty hypersurface on @xmath61 is affine .",
    "[ numtrivial ] let @xmath389 be a smooth projective variety over an algebraically closed field , @xmath226 the corresponding very ample divisor .",
    "let @xmath15 be a weil divisor on @xmath61 .",
    "suppose that @xmath15 and @xmath226 are linearly dependent in the numerical class group @xmath403 .",
    "then @xmath106 is strongly coaffine .",
    "let @xmath404 in @xmath405 , @xmath406 .",
    "we have to show that for @xmath395 the divisors @xmath394 are coaffine or trivial on @xmath61 .",
    "we have @xmath407and therefore @xmath408 .",
    "suppose @xmath51 .",
    "ampelness is due to the criterion of seshadri ( see @xcite , vi.2.18 ) a property of the numerical class , thus @xmath394 is ample , hence coaffine . if @xmath409 , the divisor @xmath394 is numerically trivial , hence trivial or it has no sections @xmath410 at all . if @xmath411 , the divisor has no sections @xmath410 .",
    "let @xmath412 be a geometrically ruled surface over a base curve @xmath10 .",
    "the picard group of @xmath61 is given by @xmath413 , and the numerical class group is @xmath414 , @xcite , prop .",
    "we will compute the affine class group of an affine cone over @xmath61 .",
    "let @xmath61 be a geometric ruled surface over the curve @xmath10 , @xmath1 a normal homogeneous coordinate ring for @xmath61 with corresponding very ample sheaf @xmath226 .",
    "then a divisor @xmath106 is strongly coaffine in @xmath117 if and only if @xmath15 is numerically dependent with @xmath226 .",
    "the if part was proven in [ numtrivial ] .",
    "so suppose that @xmath15 and @xmath226 are numerically independent .",
    "then there exists a linear combination @xmath416 of numerical type @xmath417 , where @xmath138 is positive .",
    "such a divisor is the pull back of a divisor on the base curve of positive degree @xmath138 , hence a multiple of it is linearly equivalent to an effective divisor .",
    "the complement of an effective divisor coming from the base curve contains projective lines , hence it can not be affine ."
  ],
  "abstract_text": [
    "<S> we study the property of a normal scheme , that the complement of every hypersurface is an affine scheme . to this end </S>",
    "<S> we introduce the affine class group . </S>",
    "<S> it is a factor group of the divisor class group and measures the deviation from this property . </S>",
    "<S> we study the behaviour of the affine class group under faithfully flat extensions and under the formation of products , and we compute it for different classes of rings .    mathematical subject classification ( 1991 ) : 13c20 ; 13f15 ; 14c20 ; 14c25 ; 32e10 </S>"
  ]
}