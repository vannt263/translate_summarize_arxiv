{
  "article_text": [
    "consider some random process , like coin tossing , that generates an infinite sequence of bits ( zeros and ones ) .",
    "assume that we have some theoretical model that describes this process .",
    "such a model is some probability distribution @xmath0 on the space of possible outcomes ; for example , fair coin tossing is modelled by the uniform distribution on the space of infinite bit sequences , also known as cantor space . now suppose that we get , in addition to this theoretical model , some experimental data , a sequence @xmath1 .",
    "the natural question arises : is this data consistent with the model ?",
    "is it plausible that a random process with output distribution @xmath0 produced @xmath1 , or the conjecture about probability distribution should be rejected ? sometimes it should  for example , if more than @xmath2 bits in any prefix of @xmath1 are zeros , the fair coin assumption does not look acceptable .",
    "the same is true if the sequence @xmath1 turns out to be a binary representation of @xmath3 . on the other hand ,",
    "some @xmath1 should be considered as plausible outputs ( otherwise the conjecture is always rejected ) .",
    "but where is the boundary line ?",
    "classical probability theory does not provide any answer to this question .",
    "this is what _ algorithmic randomness theory _ is about .",
    "this theory defines a notion of a random sequence with respect to a probability distribution .",
    "more precisely , for a probability distribution @xmath0 on the cantor space , it defines a subset of the cantor space whose elements are called _ random sequences with respect to @xmath0 _ , or _",
    "@xmath0-random sequences_. in fact , there are several definitions ; the most basic and popular one is called _ martin - lf randomness _ and was introduced in  @xcite , but there are some others .",
    "having such a notion , we can say that we reject the model ( distribution ) @xmath0 if the experimental data , the sequence @xmath1 , is not random with respect to  @xmath0 .",
    "this interpretation , however , comes with some obligations : the notion of randomness should have some properties to make it reasonable . in this note",
    "we consider one of these properties : _",
    "image randomness_.",
    "imagine that we have a machine that consists of two parts : ( 1 )  a random process that generates some bit sequence @xmath4 , and has distribution @xmath0 , and ( 2 )  some algorithmic process @xmath5 that gets @xmath4 as input and produces some output sequence @xmath6 .",
    "we may assume that the machine @xmath5 has an input read - only tape where @xmath4 is written , unlimited memory ( say , infinite work tapes ) and write - only one - directional output tape where the bits of @xmath6 are written sequentially .",
    "such a machine determines a mapping of the cantor space into the space of finite and infinite binary sequences .",
    "when @xmath5 is applied to a random input having distribution @xmath0 , the output sequence is a random variable .",
    "the distribution of this random variable is what is usually called a _ continuous semimeasure _ , but we are mainly interested in the case when the output sequence is infinite with @xmath0-probability one . in this case",
    "the output distribution is some distribution @xmath7 on cantor space ( the image of @xmath0 ) .",
    "such a scheme is used , for example , when we want to emulate some distribution @xmath7 using a fair coin that produces independent uniformly distributed random bits . in this case",
    "@xmath0 is the uniform distribution on the cantor space .",
    "now imagine that we observe some sequence @xmath6 as the output of such a composite random process .",
    "when does it look plausible ?",
    "there are two possible answers . the first one : `` when _",
    "@xmath6 is random with respect to @xmath7 _ '' , since @xmath7 is the output distribution of the composite process .",
    "the second one : `` when there exists a plausible reconstruction of what happened inside the black box '' , i.e. , when _",
    "there exists some @xmath4 that is random with respect to @xmath0 and is mapped to @xmath6 by @xmath5_. to make the philosophical interpretation consistent , these two properties should be equivalent : for a satisfactory notion of algorithmic randomness the image of the set of algorithmically random with respect to @xmath0 sequences should coincide with the set of algorithmically random with respect to @xmath7 sequences , where @xmath7 is the image of @xmath0 under the transformation .",
    "this property can be split into two parts .",
    "one part says that @xmath5-image of every @xmath0-random sequence is infinite and @xmath7-random .",
    "this part can be called _",
    "randomness conservation_. the other part claims that every @xmath7-random sequence is an @xmath5-image of some @xmath0-random sequence : _ randomness can not be created out of nothing_.    it turns out that this property holds for martin - lf s definition of randomness and computable @xmath0 .",
    "note that martin - lf s definition is applicable only to computable distributions ; if @xmath0 is computable and @xmath8 is infinite with @xmath0-probability @xmath9 , then @xmath7 is also computable , so martin - lf s definition can be applied to both @xmath0 and @xmath7 .",
    "this is a folklore result known for a long time ; the third author remembers discussing it with andrej muchnik around 1987 ( it seems that there was even a short note written by a.s . about that in the proceedings of the first bernoulli congress in uzbekistan ,",
    "then ussr ; most probably nobody read it , and we can not locate this volume now ) .",
    "it was independently discovered by many people , sometimes for some special cases .    here",
    "is one example where this property is useful .",
    "let us prove that for every random sequence @xmath1 with respect to the uniform bernoulli measure @xmath10 ( independent trials , ones have probability @xmath11 ) there exist a sequence @xmath12 that is random with respect to @xmath13 ( bernoulli distribution where ones have probability @xmath14 ) that can be obtained from @xmath1 by changing some ones to zeros .",
    "indeed , let us imagine a random process that first generates a sequence of random .",
    "so we are still in the same setting with cantor space and computable transformations , and can apply our property . ]",
    "independent real numbers @xmath15 uniformly distributed in @xmath16 $ ] and then converts them to bits using threshold @xmath11 ( i.e. , the @xmath17-th bit is @xmath9 if @xmath18 and @xmath19 otherwise ) .",
    "the output distribution is @xmath10 , so by the ` no - randomness - from - nothing ' property any @xmath10-random sequence @xmath1 is can be obtained from some random sequence @xmath20 of reals .",
    "now consider the same process , but with a threshold of @xmath14 .",
    "the measure induced by this process is @xmath13 , so by randomness conservation , we get a @xmath13-random sequence , and this sequence is coordinate - wise smaller than the original one .    recently a notion of _ layerwise computable mapping",
    "_ was introduced  @xcite ; it provides a good level of generality for the image randomness property , and makes the proof nicely balanced . in the following section we reproduce the definition of layerwise computable mapping and discuss its reformulation in terms of machines with rewritable output .",
    "then ( section  [ proof ] ) we give the proof of image randomness property for layerwise computable mappings .",
    "finally , in section  [ conclusion ] we consider some extensions and version of the main result ( including a quantitative version for randomness deficiencies , and a version for multi - valued mappings ) .",
    "let @xmath0 be a computable distribution on the cantor space @xmath21 .",
    "computability means that the function @xmath22 , where @xmath23 is the set of all infinite sequences that have prefix @xmath24 , is computable : given @xmath24 and rational @xmath25 , we can compute some rational @xmath26-approximation to @xmath27 . let us recall martin - lf s definition of randomness .",
    "martin - lf test _ is a decreasing sequence @xmath28 of uniformly effectively open , enumerates a sequence @xmath29 of strings such that @xmath30 is the union of intervals @xmath31 . ]",
    "sets such that @xmath32 .",
    "a sequence @xmath1 is _ rejected _ by this test if @xmath33 for all @xmath34 .",
    "sequences that are not rejected by any martin - lf test are called _ martin - lf random _ with respect to the distribution @xmath0 .",
    "we also call them _ martin - lf @xmath0-random _ or just _",
    "@xmath0-random_.    consider some mapping @xmath35 defined on the set of all @xmath0-random sequences ; the values of @xmath35 are infinite bit sequences .",
    "we say that @xmath35 is _ layerwise computable _ if there exists a martin - lf test @xmath28 and a machine @xmath5 that , given @xmath17 and a sequence @xmath36 ( on the input tape ) , computes @xmath37 , i.e. , prints @xmath37 bit by bit on the output tape .",
    "note that every random sequence @xmath1 is outside @xmath38 for large enough @xmath17 , so @xmath37 is computed by @xmath5 for all sufficiently large @xmath17 .",
    "in other terms , for a layerwise computable function @xmath35 we do not have one algorithm that computes @xmath37 for all @xmath1 , but a family of algorithms @xmath39 that compute @xmath35 outside the sets @xmath38 of decreasing measure .",
    "note that the behavior of @xmath40 on @xmath41 is not specified : @xmath42 may be an arbitrary finite or infinite sequence ( and may differ from @xmath37 even if @xmath37 is defined ) .",
    "the original definition of layerwise computable mappings used the notion of _ randomness deficiency_. here is a definition of this notion . given a martin - lf test @xmath43 , we define the corresponding deficiency function @xmath44 the function @xmath45 is infinite on the sequences rejected by @xmath46 , so @xmath47 is finite for all random sequences .",
    "the definition of layerwise computable mapping can be now reformulated as follows : _ there is a machine that computes @xmath37 given @xmath1 and some @xmath48_.    martin - lf showed that there exists a _ universal _",
    "test @xmath49 for which the deficiency function @xmath50 is maximal ( up to an additive constant ) ; this test , therefore , rejects _ all _ non - random sequences .",
    "let us fix some universal test @xmath49 .",
    "since @xmath50 is maximal , an upper bound for @xmath51 is also ( up to some constant ) an upper bound for @xmath45 for every test @xmath46 .",
    "so we may say that @xmath35 is layerwise computable if there is an algorithm that computes @xmath37 given @xmath1 and an upper bound for @xmath51 .",
    "this is how the layerwise computable mappings were defined in  @xcite .    to understand better the intuitive meaning of this definition ,",
    "let us consider layerwise computable mappings with one - bit output ( the value is @xmath19 or @xmath9 ) .",
    "the definition is essentially the same : a mapping @xmath52 is layerwise computable if there exists a test @xmath38 and a machine @xmath5 that , given a sequence @xmath1 and @xmath17 such that @xmath36 , computes  @xmath53 .",
    "the difference is that now @xmath53 is just one bit , not a bit sequence .",
    "let @xmath35 be a mapping defined on random sequences whose values are infinite sequences , and let @xmath54 are individual bits of this mapping , so @xmath55 the following simple observation says that we can define layerwise computability in a coordinate - wise way :    [ pr : coordinates ] the mapping @xmath35 is layerwise computable if and only if all the mappings @xmath54 are uniformly layerwise computable .",
    "one direction is obvious : if @xmath35 is layerwise computable , the same machine can be used for all @xmath56 to compute @xmath54 .",
    "the other direction requires some reasoning : layerwise computability of @xmath54 gives us some test @xmath57 , i.e. , a decreasing sequence @xmath58 of uniformly effectively open sets , and some algorithm @xmath59 that , given @xmath17 , computes @xmath60 for all @xmath61 .",
    "we combine these tests @xmath57 into one test @xmath46 along the diagonals : let @xmath62 then we have @xmath63 as required .",
    "we can compute all the bits of @xmath37 for @xmath36 , using upper bound @xmath64 in the algorithm that layerwise - computes @xmath60 .",
    "a layerwise computable mapping @xmath52 with bit values splits all random @xmath0-sequences into two classes ( preimage of @xmath9 and preimage of @xmath19 ) , and therefore defines a point in a metric space of all measurable subsets @xmath65 of @xmath66 .",
    "this metric space has distance function @xmath67 ; the points in this space are equivalence classes ( two sets @xmath68 are equivalent if @xmath69 , i.e. , their symmetric difference @xmath70 is a @xmath0-null set ) . in this space",
    "the family of clopen sets ( in other terms , the family of sets that are finite unions of intervals ) is a countable dense subset on which the distance function is computable in a natural sense ( recall that @xmath0 is a computable distribution ) .",
    "so this space can be considered as a constructive metric space , and computable points in it are defined as points for which we can compute a clopen approximation with any given precision .",
    "an equivalent definition of computable points : consider computable sequences of clopen sets @xmath71 such that @xmath72 ; their limits are computable points .    [ pr : points ] each",
    "layerwise computable mapping @xmath52 of cantor space to @xmath73 corresponds to a computable point in the metric space of measureable subsets of @xmath66 .",
    "this is a one - to - one correspondence : different layerwise computable mappings correspond to different computable points , and each computable point is obtained from some layerwise computable mapping .",
    "let @xmath52 be a layerwise computable mapping and let @xmath43 be a corresponding test .",
    "let @xmath40 be a machine that computes @xmath52 outside @xmath38 .",
    "the domain of @xmath40 ( the set of sequences where @xmath40 produces @xmath19 or @xmath9 ) is an effectively open set ; simulating @xmath40 on all inputs , we can enumerate intervals of this domain together with the corresponding values ( @xmath19 or  @xmath9 ) . denote this domain by @xmath74 ; by definition we know that @xmath75 is the entire cantor space .",
    "due to compactness , we can wait until finitely many intervals from @xmath38 and @xmath74 are found that cover ( together ) the entire space .",
    "let @xmath76 be the union of the intervals in @xmath74 that are found up to this moment with value @xmath9 .",
    "note that @xmath52 is not guaranteed to be @xmath9 on all the points in @xmath76 , since some of them may belong to @xmath38 and in this case the value of @xmath40 may differ from the value of @xmath52 .",
    "but we know that the symmetric difference of @xmath77 and @xmath76 is contained in @xmath38 , so it has @xmath0-measure at most @xmath78 .",
    "therefore , the point @xmath77 is computable .",
    "note also that the sets @xmath76 ( their indicator functions ) converge to @xmath52 pointwise at every @xmath0-random point .    to prove the rest of the proposition ,",
    "let us construct the inverse mapping .",
    "assume that @xmath79 is some computable point .",
    "then there exists a computable sequence @xmath71 of clopen sets such that @xmath80 .",
    "this inequality implies that @xmath81 ( both @xmath76 and @xmath82 are close to the limit , so they are close to each other ) .",
    "now the set @xmath83 is an effectively open set of measure at most @xmath84 that covers all the points @xmath1 where the sequence @xmath85 does not stabilizes .",
    "therefore , these bad points are all non - random and the limit mapping is well defined on all random points .",
    "this limit mapping is layerwise computable , since the sets @xmath86 ( more precisely , @xmath87 ) form a test , and @xmath76 computes the limit mapping outside @xmath86 .",
    "now let us show that this correspondence ( computable points @xmath88 layerwise computable mappings ) is well defined , i.e. , we get the same layerwise computable mapping starting from two representations of the same point .",
    "if @xmath89 and @xmath90 are two computable sequences of clopen sets that both converge to some computable point @xmath79 ( with prescribed speed of convergence ) , then @xmath91 is also bounded by @xmath92 , and @xmath93 is again a test , so for every random sequence @xmath1 we have @xmath94 for all sufficiently large @xmath17 .",
    "therefore , @xmath76 and @xmath95 give us the same layerwise computable mapping ( defined on random sequences ) .",
    "it remains to note that these two constructions are inverse .",
    "starting with a layerwise computable mapping @xmath52 , we get a sequence of clopen sets @xmath76 that pointwise converges to @xmath52 , and also converges to the corresponding point in the metric space ( the distance between @xmath76 and the limit is at most @xmath78 ) , so it can be used in the second construction , and we get the same mapping on random sequences as its pointwise limit .",
    "on the other hand , starting with a computable point , we get a layerwise computable mapping that represents that same point , since the distance between @xmath76 and the pointwise limit of the @xmath96 s is @xmath97 .",
    "this ends the proof of the proposition .",
    "looking at the construction of a layerwise computable mapping for a given computable sequence @xmath76 , we may note that the test @xmath98 appearing in this construction is in fact a _ schnorr test _ ; this means that the measure of @xmath98 is uniformly computable given  @xmath17 .",
    "therefore we get convergence for all _ schnorr random _",
    "sequences @xmath1 , i.e. , for all sequences not rejected by any schnorr test . combining this observation with proposition  [ pr : coordinates ] , we see that every layerwise computable mapping ( with bit or sequence values ) originally defined on martin - lf random sequences , can be naturally extended to the bigger set of schnorr random sequences .",
    "recall that in the original statement about image randomness we considered computable mappings of the cantor space into a space of finite and infinite sequences whose values are @xmath0-almost everywhere infinite . to see that those mappings are indeed a special case of our notion of a layerwise computable mapping",
    ", we need the following simple result .",
    "[ pr : general ] let @xmath0 be a computable distribution on the cantor space .",
    "let @xmath35 be a computable mapping of the cantor space to the space of finite and infinite sequences .",
    "assume that @xmath37 is an infinite sequence for @xmath0-almost all  @xmath1 .",
    "then @xmath37 is infinite for all martin - lf random sequences , and @xmath35 is a layerwise computable mapping on them .    according to proposition  [ pr : coordinates ] , we may consider each coordinate of the mapping @xmath99 separately .",
    "we know that @xmath100 is defined for @xmath0-almost all sequences , so the domain of @xmath101 is an effectively open set of @xmath0-measure @xmath9 .",
    "we enumerate this set until we get a clopen lower bound for it of measure at least @xmath102 .",
    "its complement @xmath38 is a ( cl)open set of @xmath0-measure at most @xmath78 , and we get a martin - lf test .",
    "so every martin - lf random sequence belongs to the domain of @xmath101 , and we can compute @xmath101 outside of @xmath38 ( in fact , the same machine is used for all @xmath17 ) .",
    "so all @xmath101 ( and @xmath35 in general ) are layerwise computable .",
    "we finish this section by giving a natural `` machine - language '' description of layerwise computable mapping .",
    "consider a machine @xmath5 that has a read - only input tape , work tapes , and a _ rewritable _ output tape .",
    "initially the output tape contains all zeros , but the machine can change them to ones back and forth at any time .",
    "what matters is only the limit value of a cell if the limit exists ; if not , the corresponding output bit is undefined . without additional restrictions , this model is equivalent to computability relativized to the halting problem ( and this is not interesting for us now ) .",
    "we pose an additional restriction : for each @xmath17 and for each rational @xmath25 one can compute an integer @xmath103 such that the probability of the event    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ machine @xmath5 with input @xmath1 changes @xmath17-th output cell after more than @xmath103 steps _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    ( taken over @xmath0-distribution on all inputs @xmath1 ) does not exceed @xmath26 .",
    "this condition implies that the output is well defined ( all output values stabilize ) for @xmath0-almost every input @xmath1 .",
    "[ pr : machine - definition ] the output sequence is well defined for all martin - lf random input sequences .",
    "the resulting mapping is layerwise computable ; every layerwise computable mapping can be obtained in this way .",
    "again we may use proposition  [ pr : coordinates ] and consider each coordinate separately .",
    "the contents of @xmath17-th output cell after @xmath104 steps is determined by a finite prefix of the input sequence @xmath1 , so we get some clopen set .",
    "taking @xmath105 , we get in this way some clopen set @xmath106 and know that the indicator function of @xmath106 coincides with the limit value for all inputs except for a set of measure at most @xmath107",
    ". then we use the same argument as in proposition  [ pr : points ] , and conclude that the resulting mapping is layerwise computable .",
    "it remains to show that every layerwise computable mapping can be transformed into a machine of described type . as we have seen , a layerwise computable mapping with bit values is a limit of a sequence of ( the indicator functions of ) clopen sets @xmath96 such that @xmath108 .",
    "the machine @xmath5 then works in stages ; at @xmath34-th stage it computes @xmath96 and then , using @xmath96 as a table , changes ( if necessary ) the output bit to make it consistent with @xmath109 , where @xmath1 is the input sequence .",
    "then @xmath110 is the number of steps sufficient to perform @xmath111 stages of this procedure ( for arbitrary input @xmath1 ) .",
    "this is for one - bit output ; we can do the same in parallel for all output bits ( interleaving the computations for different output bits ) and then define @xmath112 in such a way that the machine is guaranteed to terminate @xmath111 stages for bit @xmath17 in at most @xmath112 steps .",
    "this characterization of layerwise computable mappings is not used much in the sequel ; we provide it here for two reasons .",
    "first , it gives some intuitive understanding of this notion on the `` machine language '' level .",
    "second , it turns out that this is not only a theoretical characterization of layerwise computable mappings : some natural randomized algorithms really define a layerwise computable mapping in this way .",
    "one example where this phenomenon happens is an infinite version of moser  tardos algorithm for lovasz local lemma used by andrei rumyantsev to prove a computable version of this lemma ( see  @xcite ) .",
    "in the section we prove the image randomness property for layerwise computable mappings ( theorem  [ th : main ] ) .",
    "let @xmath0 be a computable distribution on the cantor space @xmath66 , and let @xmath113 be a layerwise computable mapping defined on @xmath0-random sequences and having infinite bit sequences as values .",
    "then an image probability distribution @xmath7 on the cantor space is defined in the usual way : @xmath114 .",
    "note that since @xmath35 is defined @xmath0-almost everywere , the distribution @xmath7 is well defined .",
    "[ th : main ]    the distribution @xmath7 is computable .",
    "if a sequence @xmath4 is martin - lf random with respect to @xmath0 , then @xmath115 is martin - lf random with respect to @xmath7 .",
    "if a sequence @xmath6 is martin - lf random with respect to @xmath7 , then there exists some sequence @xmath4 that is martin - lf random with respect to @xmath0 such that @xmath116 .    the first statement ( i )",
    "is needed to make the notion of @xmath7-randomness well defined .",
    "the second statement is the randomness conservation property , and the third statement says that randomness does not `` appear from nothing '' .",
    "according to the definition , we need to compute the probability of the event `` @xmath37 starts with @xmath117 '' for arbitrary bit string @xmath117 with arbitrary given precision @xmath25 .",
    "the probability here is taken over @xmath0-distribution on input sequence @xmath1 .",
    "assume that @xmath117 consists of @xmath56 bits .",
    "using the machine characterization , we can computably find how many steps are needed to finalize each of @xmath56 first output bits with probability of later change at most @xmath118 .",
    "then we take the maximal of these numbers : @xmath119 then the probability in question is @xmath26-close to the same probability for the time - bounded computation stopped after @xmath120 steps , and this probability can be computed by simulating the machine behavior on all possible inputs .",
    "assuming that @xmath121 is not @xmath7-random for some @xmath0-random",
    "@xmath4 , we need to get a contradiction .",
    "consider a martin - lf test @xmath43 provided by the layerwise computability of @xmath35 , and a martin - lf test @xmath122 that rejects @xmath6 .",
    "using them , we construct a test that rejects @xmath4 . by definition , there exists a computable mapping @xmath101 that coincides with @xmath35 outside @xmath38 .",
    "let us consider @xmath123 .",
    "it requires some care since @xmath74 is an open set in the cantor space of infinite sequences , while the values of @xmath101 may be finite .",
    "still we may represent @xmath74 as a union of intervals @xmath124 , and consider all @xmath1 such that @xmath100 has one of the strings @xmath125 as a prefix . in this way we get an effectively open set that is denoted @xmath123 in the sequel .",
    "this notation is formally incorrect since the set depends not only on @xmath74 , but also on its representation as the union of intervals , but this will not create a problem .",
    "the set @xmath123 consists of two parts : sequences @xmath41 , and sequences @xmath36 .",
    "the first part is small since @xmath38 is small ; the second part is small since @xmath101 coincides with @xmath35 outside @xmath38 , so the second part is contained in @xmath126 . so the measures of both parts are bounded by @xmath78 , and we get at most @xmath92 in total .",
    "now we add @xmath38 to @xmath123 and get an effectively open set of measure @xmath97 that covers @xmath4 both for the case @xmath127 and for the case @xmath128 .",
    "since this can be done for arbitrary @xmath17 , the sequence @xmath4 is not random .",
    "let @xmath6 be a @xmath7-random sequence .",
    "we want to show that @xmath6 belongs to the image @xmath129 where @xmath130 is the set of all @xmath0-random sequences .",
    "martin - lf s definition of randomness guarantees that the complement of @xmath130 can be represented as the intersection of a decreasing sequence of effectively open sets from the universal martin - lf test , so @xmath130 can be presented as the union of an increasing sequence of their complements , i.e. , a sequence @xmath131 of effectively closed sets where @xmath0-measure of @xmath132 is at least @xmath102 . the mapping @xmath35 is defined everywhere on @xmath130 , so it is defined everywhere on @xmath132 .",
    "moreover , since we started from the _ universal _ martin - lf test , the definition of layerwise computability guarantees that on @xmath132 the mapping @xmath35 may be computed by a machine with write - only output tape , so @xmath35 is continuous on @xmath132 .",
    "the set @xmath132 is compact ( being a closed set in a compact space ) , so its image @xmath133 is compact and therefore closed .",
    "the @xmath7-measure of @xmath133 is at least @xmath102 , since the preimage @xmath134 of @xmath133 contains @xmath132 .",
    "it remains to show that the sets @xmath133 are uniformly effectively closed ( i.e. , their complements are uniformly effectively open ) .",
    "indeed , in this case their intersection contains only non-@xmath7-random sequences , so the sequence @xmath6 belongs to some @xmath133 and is therefore an image of a ( random ) sequence from @xmath132 .    for that we may use the effective version of an argument proving that an image of a compact set is compact .",
    "we enumerate intervals @xmath49 that are disjoint with @xmath133 in such a way that their union is the complement of @xmath133 . for that , we look for a tuple @xmath135 of intervals and an interval @xmath49 such that ( a )  @xmath49 is disjoint with all @xmath38 ; ( b )   @xmath136 cover @xmath132 .",
    "the conditions ( a ) and ( b ) guarantee that @xmath49 is disjoint with @xmath133 : the image of every element in @xmath132 belongs to one of the @xmath38 and therefore does not belong to @xmath49 .",
    "note that we can replace @xmath35 by @xmath101 in ( b ) and get an equivalent condition , since @xmath137 on @xmath132 , so a cover remains a cover . using this observation",
    ", we can enumerate all the tuples @xmath138 ( since the complement of @xmath132 and @xmath139 are effectively open and @xmath66 is compact , we can look for cases when some intervals inside the preimages together with some intervals inside the complement of @xmath132 cover the entire @xmath66 ) .",
    "when such a tuple @xmath138 is found , we include the interval @xmath49 in the enumeration .",
    "it does not intersect @xmath133 , as we have seen ; the standard compactness argument shows that every point outside @xmath133 is covered by one of those intervals @xmath49 , so @xmath133 indeed has an effectively open complement .",
    "this construction is uniform in @xmath17 .",
    "every sequence @xmath140 can be split into two sequences @xmath141 and @xmath142 by separating its even and odd terms .",
    "the mapping @xmath143 provides an isomorphism between the cantor space @xmath66 and its square @xmath144 , where @xmath66 is considered as probability space equipped with uniform bernoulli distribution . applying theorem  [ th : main ] to the function @xmath145 ( the composition of our isomorphism and the projection function )",
    ", we see that    * if @xmath4 is random , then @xmath146 is random ; * every random sequence @xmath6 is equal to @xmath146 for some random @xmath4 .",
    "the second statement means that for every random sequence @xmath146 we can also find some @xmath147 in such a way that together they make some random sequence @xmath4 .",
    "one may ask which sequences @xmath147 can be used to achieve this .",
    "the answer is given by the well known _",
    "van lambalgen theorem _ that says that @xmath4 is random if and only if @xmath146 is random and @xmath147 is random _ with respect to the oracle @xmath146_. the oracle randomness is defined in the usual way : the sets of small measure that form the test should be effectively open with the oracle ( the enumerating algorithm may consult the oracle ) .    in general , we have two computable distributions @xmath148 and @xmath149 on two copies of @xmath66 and consider randomness with respect to their product @xmath150 . the van lambalgen theorem says that a pair @xmath151 is @xmath152-random if and only if @xmath153 is @xmath148-random and @xmath154 is @xmath149-random with respect to oracle @xmath153 .",
    "it implies that for every @xmath148-random sequence @xmath153 there exists some @xmath154 that makes the pair @xmath151 random with respect to @xmath150 .",
    "this ( much weaker ) statement is also a direct corollary of theorem  [ th : main ] .",
    "the advantage of using theorem  [ th : main ] is that it can be applied to every computable distribution @xmath0 on @xmath144 , not necessarily the product distribution : if a pair @xmath151 is @xmath0-random , then @xmath153 is random with respect to the marginal distribution @xmath148 ; if @xmath153 is @xmath148-random , then @xmath151 is @xmath0-random _ for some @xmath154_.    one can ask for which @xmath154 this happens , i.e. , how one can generalize van lambalgen s theorem to non - product distributions .",
    "there are some results in this direction  @xcite , but we do not go into details here ; let us only note that this happens for almost all @xmath154 with respect to the conditional distribution defined according to takahashi  @xcite .      as many other results about algorithmic randomness , theorem  [ th : main ] has a quantitative version .",
    "recall that _",
    "randomness deficiency _ of a sequence @xmath1 may be defined as the maximal number @xmath17 such that @xmath41 , where @xmath155 is the universal martin - lf test    ( see  @xcite ; this version of randomness deficiency is called _ probability - bounded _ deficiency there ) . using this notion",
    ", we can state the promised quantitative version .",
    "let @xmath0 be a computable distribution on @xmath66 , let @xmath35 be an @xmath66-valued layerwise computable mapping defined on @xmath0-random sequences , and let @xmath7 be the @xmath35-image of @xmath0 .",
    "[ th : probability - bounded - def ] @xmath156    here @xmath157 and @xmath158 stand for the randomness deficiency functions for distributions @xmath0 and @xmath7 ; the constant in @xmath159 depends on the choice of deficiency functions and on @xmath35 .",
    "note that this result directly implies theorem  [ th : main ] ( recall that the infimum of the empty set is @xmath160 ) .    for the proof we should just look closely at the argument we used .",
    "first , we have shown by contraposition that an image @xmath115 for @xmath0-random @xmath4 is @xmath7-random .",
    "now we need to show that if the deficiency of @xmath115 is high , then the deficiency of @xmath4 is high . indeed ,",
    "if @xmath121 is covered by @xmath74 ( in the notation used to prove theorem  [ th : main ] ) , then @xmath4 is covered by the set @xmath161 whose measure is @xmath97 .",
    "the sets @xmath86 also form a martin - lf test ( up to a @xmath159-change in numbering ) , so @xmath162 ( the quantitative version of randomness conservation ) .    to prove the reverse inequality , note that the complements of the sets @xmath133 form a @xmath7-test .",
    "so if @xmath163 is small and @xmath17 is large , the sequence @xmath6 belongs to @xmath133 and not to its complement .",
    "more formally , @xmath6 belongs to @xmath133 for @xmath17 that is only @xmath159-larger than @xmath163 , and all elements in @xmath133 have preimages in @xmath132 whose deficiency is bounded by  @xmath17 .",
    "there is another version of randomness deficiency introduced by levin .",
    "this version is called in  @xcite the _ expectation - bounded _ deficiency , while the original martin - lf version ( described above ) is called _ probability - bounded_. in this version @xmath164 is defined as the logarithm of the maximal ( up to a @xmath159-factor ) non - negative lower semicomputable function with finite integral with respect to a given distribution ( see  @xcite for details ) .",
    "these two versions of randomness deficiency differ more than by a constant ( the probability - bounded one is bigger , and the difference is unbounded ) , but the formula of theorem  [ th : probability - bounded - def ] is true also for the expectation - bounded deficiency . let us prove this ( assuming that the reader is familar with the basic techniques from  @xcite ) .",
    "let us show first that the randomness conservation property @xmath165 for this version of the randomness deficiency .",
    "note that if @xmath4 is not random , @xmath115 is undefined and @xmath166 is infinite , so the claim makes sense only if @xmath4 is @xmath0-random , and @xmath115 is defined for every @xmath0-random @xmath4 .",
    "let @xmath167 be the maximal lower semicomputable integrable function ( the universal randomness test ) for distribution @xmath7 , so @xmath168 .",
    "we assume that @xmath169 .",
    "we may try to consider a function @xmath170 and show that it is a @xmath0-test and therefore is bounded by the universal @xmath0-test ( so we get the inequality we want to prove ) . however , this plan does not work `` as is '' , because the function @xmath171 is well defined only for random @xmath4 and there is no reason to expect that @xmath104 can be extended to a lower semicomputable function on the entire @xmath66 ( though the other requirement for tests , bounded integral , is true for  @xmath104 ) .    to overcome this difficulty , we recall that @xmath35 is a layerwise computable mapping .",
    "we may assume that @xmath35 coincides with computable @xmath101 outside some effectively open set @xmath38 whose @xmath0-measure is at most @xmath78 .",
    "now we may consider a function @xmath172 defined on random @xmath4 and , moreover , on all @xmath4 where @xmath173 is infinite .",
    "it is easy to see that @xmath174 can be naturally extended to a lower semicomputable function defined on the entire @xmath66 .",
    "we denote this extension also by  @xmath174 .",
    "now the problem is that there is no reason to expect that @xmath175 is finite ; the only thing we are sure about is that @xmath176 this happens because @xmath177 outside @xmath38 , and for @xmath104 the similar inequality is true ( recall that @xmath7 is the image of @xmath0 ) .",
    "so we take the next step and consider the function @xmath178 defined as @xmath179 artificially cut at @xmath180 ( all bigger values are replaced by @xmath180 ) .",
    "it is still lower semicomputable , but in this way we guarantee that the integral of @xmath178 inside @xmath181 does not exceed @xmath182 .",
    "let @xmath183 .",
    "the function @xmath184 is lower semicomputable since all @xmath178 are uniformly lower semicomputable . to get the bound for the integral ,",
    "let us consider @xmath185 .",
    "when can @xmath186 exceed @xmath171 for a random @xmath4 ? if this happens because of some @xmath187 , then @xmath4 belongs to @xmath181 , and the excess is bounded by a function that equals @xmath180 in @xmath181 and equals @xmath19 outside @xmath181 .",
    "the integral of this function is at most @xmath78 , and the total excess is bounded by the sum of these integrals , so it is bounded by @xmath9 .",
    "we conclude that @xmath188 ( since @xmath189 and the excess is bounded by @xmath9 ) , so @xmath190 .",
    "it remains to note that @xmath191 for random @xmath4 , since @xmath192 for large @xmath17 , and for those @xmath17 we have @xmath193 , so the supremum over @xmath17 is at least @xmath171 .",
    "now the reverse inequality .",
    "consider the universal test @xmath194 for distribution @xmath0 , i.e. , a maximal non - negative @xmath0-integrable lower semicomputable function ; its logarithm is @xmath164 .",
    "now consider the function @xmath195 where the infimum is taken over random @xmath4 ( otherwise @xmath115 is not defined ) .",
    "if @xmath4 is a @xmath0-distributed random variable , then @xmath121 is a @xmath7-distributed random variable , and @xmath196 , so @xmath197 ( assuming that @xmath117 is measurable , otherwise the integral may be not well defined ) .",
    "it remains to prove that @xmath117 is lower semicomputable .",
    "indeed , in this case the integral we consider is well defined , the function @xmath117 is a @xmath7-test , so @xmath198 , and that is exactly what we need . to prove the lower semicomputability of @xmath117",
    "let us recall the definition .",
    "we need to prove that the set @xmath199 is uniformly effectively open for every rational @xmath200 .",
    "note that for this set all the values of @xmath117 greater than @xmath200 are equivalent , so it remains unchanged of we let @xmath201 be infinite on @xmath38 for some very large @xmath17 ( where @xmath202 is large anyway ) . here",
    "@xmath38 is the effectively open set of small measure provided by the definition of layerwise computability .",
    "after that we may change @xmath35 on @xmath38 making it a total computable mapping , i.e. , a mapping that outputs infinite sequences on all inputs ( as soon as the input of @xmath35 is covered by @xmath38 , we extend the output arbitrarily , e.g. , by zeros ) .",
    "then we may apply the standard reasoning for the case of a total computable mapping ; here it  is .",
    "we have @xmath203 if and only if there exists some rational @xmath204 such that @xmath205 for all @xmath4 such that @xmath116 .",
    "we assume now that @xmath35 is total ( as discussed above ) , and consider all @xmath4 , not only random ones , since @xmath202 is infinite for all non - random  @xmath4 . the condition `` @xmath205 for all @xmath4 such that @xmath116 '' means that @xmath6 does not belong to @xmath206 .",
    "the latter set is an image of an effectively closed set under a total computable mapping , so ( as we have seen in the proof of theorem  [ th : main ] ) it is an effectively closed set , and its complement is effectively open .",
    "the construction is uniform , so we get what we wanted .",
    "now we want to present an example where the generalization to layerwise computable mappings is important ( i.e. , the result for computable mappings is not enough ) .",
    "let us consider two definitions of randomness for trees and show that they are equivalent .",
    "consider the following two random processes :    1 .",
    "take the full binary tree .",
    "cut independently each edge with probability @xmath14 .",
    "then consider the connected component of the root in the remaining graph .",
    "it is a binary tree that may be finite or infinite ( as we will see , the first case happens with probability @xmath207 ) .",
    "delete all vertices that have finitely many descendants .",
    "if the connected component of the root was finite , this gives an empty tree , otherwise we get an infinite tree without leaves .",
    "2 .   consider three possible elements +    + select one of them randomly ( all three have probability @xmath14 ) and place it at the root of the tree . then at every vertex of level @xmath9 ( there can be one or two , depending on the root choice ) select one of three elements independently ( using fresh randomness ) , and so on .    both random processes",
    "define a probability distribution on the set of infinite subtrees of binary tree that have no leaves ; in the first case we should consider the conditional distribution under the condition `` process generates a non - empty tree '' .",
    "as we will see , this multiplies all probabilities by @xmath208 , since the probability to get an infinite tree is @xmath209 .",
    "it turns out that these two distributions on trees without leaves are the same .",
    "moreover , an algorithmic version of the same statement is also true .",
    "imagine that we use bits from a martin - lf random sequence when the random process asks for fresh randomness .",
    "it turns out that we get the same class of trees ( called martin - lf random trees ) in both cases .",
    "this was proven in  @xcite by some ad hoc construction ; in this section we explain why this follows from theorem  [ th : main ] .",
    "let us first compare the distributions .",
    "first of all let us explain how the probabilities @xmath207 and @xmath209 ( for finite and infinite trees ) are obtained .",
    "let @xmath210 be a probability to have a tree of height at least @xmath34 when cutting each edge of a full binary tree independently with probability @xmath14 .",
    "the inductive definition of the process gives the recurrence : @xmath211 where @xmath212 is the probability that a given edge exists ( is not cut ) .",
    "the first term corresponds to two disjoint cases when one of the root s children exists and the other one is cut , the second term is the probability that both children exists and at least one of them has subtree of height at least @xmath34 ( these events have probability @xmath210 and are independent ) .",
    "we start with @xmath213 and iterate the function @xmath214 ; it is easy to see that these iterations converge to the fixed point @xmath209 exponentially fast .",
    "so the event `` tree is infinite after edges are randomly cut with probability @xmath14 '' , being the intersection of a decreasing sequence of events with probabilities @xmath210 , has probability @xmath209 .    knowing this",
    ", we may compute the probabilities of three possibilities shown above . the first case ( where the root has two sons in the final tree ) has probability @xmath215 , the second and the third cases have probability @xmath216 each .",
    "so all three cases have the same probability @xmath207 and conditional probability @xmath14 , and the same is true at every vertex .",
    "so two distributions described above are the same .",
    "now we switch to algorithmic randomness .",
    "first of all , we need to fix the representation of trees by bit sequences .",
    "a tree without leaves can be considered as a set of vertices of a full binary tree ( that contains with every vertex @xmath24 its father and one of its sons ) .",
    "let @xmath217 be the vertices of the full binary tree ( = binary strings ) .",
    "then each tree without leaves can be represented as a sequence of bits : @xmath17th bit is @xmath9 if @xmath218 belongs to the tree .",
    "we start with the second random process ( in the list above ) .",
    "it uses uniform random choice between three possibilities .",
    "so we consider ternary sequences ( martin - lf randomness can be defined for any finite alphabet in the same way , and all the results can be easily extended to this case ) , and the uniform distribution on @xmath219 where each term is uniformly distributed ( each of three possible values has probability @xmath14 ) and the terms are independent .",
    "then for each sequence @xmath220 we construct a tree without leaves as described ( using terms of the sequence to make choice between three extensions ) .",
    "in this way we get a total computable mapping @xmath221 .",
    "then we consider the image of the uniform distribution on @xmath219 and get the image distribution on sequences representing trees ( and therefore on trees ) .",
    "random sequences with respect to this image distribution are exactly the images of martin - lf random sequences in @xmath219 due to theorem  [ th : main ] ; corresponding trees are called ( martin - lf ) random trees .    in fact , this description can be understood in two ways .",
    "we may use the terms of a ternary sequence to make choices in all vertices in advance ( and then some choices do not matter since the vertex does not appear in the tree ) . or we may use the terms of a ternary sequence only for the choices that really matter ( starting from the root and then adding layers one by one ) ; in the latter case the same term of the sequence may be used in different vertices depending on the preceding terms .",
    "these two possibilities give different mappings @xmath221 .",
    "however , standard probability theory arguments show that the image distributions are the same . as we know",
    ", this implies that the image of the set of random ternary sequences is the same .    the first random process ( generating trees by cutting edges ) is more complicated , and layerwise computable mappings appear",
    ". we start with a binary sequence ( generated according to @xmath13 ) .",
    "then we cut the edges according to the terms of this binary sequence , and get a tree without leaves or the empty set of vertices ( that corresponds to a zero sequence when we encode trees by binary sequences ) . in this way",
    "we get a mapping @xmath222",
    ".    this mapping is layerwise computable . to prove this ,",
    "consider a rewriting machine that constructs a tree using random input bits to cut the edges of the full binary tree .",
    "this machine starts from the root and goes upwards , but when a vertex @xmath24 with a finite subtree above @xmath24 is discovered , this subtree ( including @xmath24 itself ) is deleted .",
    "so there is always a possibility that some part of the tree , or the entire tree , will be deleted in the future .",
    "however , the probability of the event `` the root survived up to height @xmath34 , but later was deleted '' is bounded by @xmath223 ( in fact , is equal to it ) and computably converges to zero .",
    "similar statement is true for every vertex .",
    "so the mapping is layerwise computable .",
    "what is the image distribution ( of @xmath13 ) ? as we have seen , it has an atom ( zero sequence , or empty tree ) that has probability @xmath207 , and the rest is the previous distribution on trees multiplied by @xmath209 .",
    "it is easy to see that random sequences are the same ( plus a zero sequence ) as in the first case .",
    "it remains to apply theorem  [ th : main ] .",
    "we considered a random process that consists of two parts : a source of random bits ( with some distribution @xmath0 ) that generates some bit sequence @xmath4 , and some machine @xmath5 that transforms these bits ( the sequence @xmath4 ) into an output sequence @xmath6 .",
    "now we want to consider a more general situation when the transformation is non - deterministic .",
    "we consider @xmath5 as a black box , and the only thing we know is some relation between its input @xmath4 and output @xmath6 .",
    "formally , we have some closed subset @xmath35 of @xmath144 , and we know that @xmath224 always belongs to @xmath35 .",
    "the question remains the same : which sequences are plausible as outputs of such a device ? for which @xmath6 there exists some @xmath0-random sequence @xmath4 such that @xmath225 ?    let us give two motivating examples for this scheme .",
    "first , consider a bit sequence that is martin - lf random with respect to @xmath226 ( independent bits , each bit equals @xmath9 with probability @xmath227 ) . then replace some ones by zeros .",
    "which sequences can be obtained by this two - stage process ? these sequences ( correspoding sets ) were called _",
    "@xmath227-sparse _ in  @xcite . in our language",
    ", we consider @xmath226 as @xmath0 ( source distribution ) , and coordinate - wise ordering as @xmath35 : @xmath228    another example : let @xmath4 be a random tree ( in the sense described above ) and let @xmath229 mean that @xmath6 is a path in @xmath4 .",
    "then we get the question : which sequences may appear as paths in random trees ?",
    "this question was studied in @xcite ; finally these sequences were characterized in terms of continuous a priori probability .",
    "let us return to the general question mentioned above , for arbitrary measure @xmath0 and closed set @xmath230 .",
    "some answer can be provided in terms of _ class randomness _ ( see  @xcite for the definition and the basic properties ; we assume that the reader is familiar with this notion ) .",
    "consider some effectively closed set @xmath231 in the effective metric space of all distributions on the cantor space . an _ expectation - bounded class test with respect to @xmath231 _ is a lower semicomputable function @xmath232 with non - negative values defined on the cantor space such that the integral of @xmath104 _ with respect to any distribution in @xmath231 _ does not exceed  @xmath9 .",
    "for every effectively closed class @xmath231 there exists a maximal ( up to a constant factor ) test @xmath233 .",
    "the sequences @xmath1 such that @xmath234 is finite are called _ random with respect to class @xmath231 _ , and @xmath235 is called the _ expectation - bounded randomness deficiency of @xmath1 with respect to @xmath231_. if @xmath231 is a singleton , its only element is a computable distribution and @xmath231-randomness is equivalent to martin - lf randomness . in the general case ,",
    "a sequence @xmath1 is @xmath231-random if and only if it is uniformly random with respect to some distribution @xmath236 ( this distribution may not be computable , so a notion of randomness with respect to non - computable distributions is needed , see  @xcite ) .",
    "the notion of class randomness can be equivalently defined in terms of martin - lf class tests : a decreasing sequence @xmath43 is a @xmath231-test if @xmath237 for every @xmath236 . for each test",
    "a deficiency function is introduced whose value on @xmath1 is @xmath238 ; there exist universal tests for which the deficiency function is maximal , and this maximal function is called the _ probability - bounded randomness deficiency with respect to @xmath231_. ( we can also use probability - bounded tests defined as lower semicomputable functions @xmath104 such that for every @xmath239 the event @xmath240 has probability at most @xmath241 with respect to every distribution in @xmath231 ; this gives an equivalent definition of probability - bounded deficiency . )    now we can formulate the promised answer about sequences @xmath6 such that @xmath229 for some @xmath0-random @xmath4 , assuming that the relation @xmath35 satisfies some conditions .",
    "namely , we assume that    * @xmath35 is an effectively closed subset of @xmath144 .",
    "* the projection of @xmath35 on the first coordinate is @xmath66 : for every @xmath4 there exists some @xmath6 such that @xmath229 . * the @xmath35-preimage of every interval @xmath242 $ ] in the cantor space , i.e. , the set of all @xmath4 such that @xmath229 for some @xmath6 starting with @xmath243 , is a clopen set ( a finite union of intervals ) that can be computed given @xmath243 .",
    "it is easy to check that all these conditions are satisfied in the two examples given above .",
    "recall that we consider some computable distribution @xmath0 on @xmath66 ( the first coordinate of the product @xmath144 ) .",
    "consider the class @xmath231 of all distributions @xmath7 on the second copy of @xmath66 that are _",
    "@xmath35-couplable with @xmath0_. this means , by definition , that there exists some distribution @xmath244 on @xmath144 concentrated inside @xmath35 ( the complement of @xmath35 has @xmath244-measure @xmath19 ) such that the first projection ( marginal distribution ) of @xmath244 is @xmath0 and the second projection is @xmath7 .",
    "[ prop : non - empty ] this class @xmath231 is a non - empty effectively closed class of distributions on  @xmath66 .",
    "the condition``the first projection of @xmath244 equals @xmath0 '' is effectively closed ( defines an effectively closed class of distributions @xmath244 ) .",
    "the same can be said about the condition `` @xmath244 is concentrated inside @xmath35 '' ( the complement of @xmath35 is a union of a computable sequence of intervals in @xmath144 , and we require the @xmath244-measure of each of these intervals to be @xmath19 , thus getting a sequence of uniformly effectively closed conditions ) .",
    "let us check that these two conditions have non - empty intersection . by compactness",
    ", it is enough to consider some clopen @xmath245 instead of @xmath35 : if for each @xmath246 the intersection is non - empty , then it is non - empty for @xmath35 .",
    "the projection of @xmath246 contains the projection of @xmath35 and therefore covers the entire @xmath66 ; since @xmath246 is clopen ( a finite union of intervals ) , we can represent @xmath66 as a disjoint union @xmath247 of intervals , and find some intervals @xmath248 such that @xmath249 for every @xmath17 .",
    "then on each @xmath250 we consider a distribution that is a product of @xmath0 restricted to @xmath38 , and some computable distribution on @xmath74 , and combine these products to get a distribution in the desired class ( projection is @xmath0 and support is in @xmath246 ) .",
    "it remains to note that this intersection is an effectively closed ( and therefore compact ) class of distributions on @xmath144 ; the projection to the second coordinate is a computable continuous mapping , so its image is again an effectively closed non - empty class of distributions .",
    "this proposition allows us to consider the randomness deficiency function @xmath251 for the class @xmath231 , and compare it with the randomness deficiency function @xmath157 for distribution @xmath0 .",
    "let @xmath0 be a computable probability distribution ; let @xmath35 be a subset of @xmath252 satisfying the conditions , and let @xmath231 be the class of distributions @xmath7 which are @xmath35-couplable with  @xmath0 .",
    "the following equality holds with @xmath159-precision ( both for expectation- and probability - bounded versions of deficiency function @xmath253    in particular , a sequence @xmath6 is random with respect to the class @xmath231 if and only if @xmath229 is true for some @xmath0-random sequence @xmath4 .",
    "let @xmath201 be the maximal expectation - bounded randomness test with respect to @xmath0 , i.e. , maximal lower semicomputable function such that @xmath254 .",
    "then we may consider the function @xmath255 it is easy to check ( see  @xcite ) that @xmath232 is lower semicomputable .",
    "let us check that @xmath256 according to the definition of @xmath231 , for every @xmath236 there exists some distribution @xmath244 on @xmath144 that is zero outside @xmath35 and has projections @xmath0 and @xmath7 ( for the first and second coordinates ) .",
    "then the integral in question is equal to @xmath257 . since @xmath244 vanishes outside @xmath35 and @xmath258 when @xmath259 , the latter integral does not exceed @xmath260 .",
    "so the function @xmath261 is a test with respect to @xmath231 and does not exceed @xmath262 .",
    "one inequality of the theorem ( @xmath263 ) is proven for expectation - bounded tests .    to prove the same inequality for probability - bounded tests , it is enough to show that",
    "if @xmath194 is a probabiity - bounded test with respect to @xmath0 , then @xmath232 is a probability - bounded test with respect to @xmath231 .",
    "indeed , for a given threshold @xmath239 consider the set @xmath264 .",
    "we need to prove that @xmath265 for every @xmath236 .",
    "let @xmath244 be the corresponding measure on the product space",
    ". then @xmath266 . the definition of @xmath232 guarantees that @xmath267 , where @xmath268 ( if the infimum exceeds @xmath239 , then all the elements exceed @xmath239 ) . and @xmath269 since @xmath201 is a probability - bounded test .",
    "so one direction is proven for both types of tests .",
    "the other direction is more difficult : here we have to use the assumptions about @xmath35 .",
    "again we consider expectation - bounded tests first .",
    "we need to show that @xmath270 ( for maximal tests , up to a constant factor ) .",
    "this means that @xmath271 this can be rewritten also as @xmath272 it would be guaranteed if the left - hand side , denoted by @xmath171 in the sequel , were an expectation - bounded @xmath0-test , i.e. , were lower semicomputable and had a bounded integral .",
    "imagine for a while that the supremum is achieved for some measurable function @xmath273 so @xmath274 . by construction",
    ", the pair @xmath275 belongs to @xmath35 for every @xmath4 , so the random pair @xmath275 defines a distribution on @xmath144 whose support is in @xmath35 and whose first projection is @xmath0 .",
    "then its second projection @xmath7 is in @xmath231 , so the integral @xmath276 does not exceed @xmath9 . on the other hand ,",
    "@xmath277 so we get the required bound for the function @xmath104 .    of course , this argument is not valid : the maximum may be never achieved , so the function @xmath278 is not defined ; another problem is that the function @xmath104 may not be lower semicomputable ( it can be guaranteed for the infimum , but not for the supremum ) .",
    "so we need to replace this argument by a valid one .",
    "we start in the same way and consider the maximal lower semicomputable @xmath231-test @xmath279 . let @xmath280 be a computable sequence of basic functions ( functions with finitely many values having clopen preimages ) that converges to @xmath279 .",
    "now we may consider the functions @xmath281 they are well defined since @xmath282 has only finitely many values .",
    "moreover , the conditions on @xmath35 guarantee that @xmath283 is a basic function that can be computed given @xmath17 .",
    "the sequence @xmath284 increases , so we may consider its supremum , some lower semicomputable function @xmath104",
    ". we will show ( see below ) that @xmath285 for every @xmath17 .",
    "then the same is true for  @xmath104 , so @xmath286 for some @xmath239 and for all @xmath4 ( due to the maximality of @xmath201 ) .",
    "then , for @xmath259 we have @xmath287 and it remains to take infimum over all @xmath4 and then supremum over @xmath17 to get the reverse inequality we need .",
    "so it remains to prove that @xmath285 for every @xmath17 .",
    "this argument follows the informal explanation above , but instead of the function @xmath278 we use proposition  [ prop : non - empty ] to construct a distribution in @xmath231 .",
    "fix some @xmath17 . recall that the function @xmath288 is defined as @xmath289 .",
    "let @xmath290 be all the values of @xmath279 and @xmath291 .",
    "let @xmath292 .",
    "the sets @xmath293 and @xmath294 increase as @xmath56 increases ; all these sets are clopen .",
    "the function @xmath295 equals @xmath296 when @xmath4 belongs to the sets @xmath297 , @xmath298,  ,@xmath299 ( respectively ) .",
    "consider now the sets @xmath300 , @xmath301 , ",
    ", @xmath302 . on these sets @xmath303 .",
    "consider the intersections of these sets with @xmath35 ; by construction their first projections coincide with @xmath297 , @xmath298,  .",
    "take the union of these intersections and apply proposition  [ prop : non - empty ] to it ; we get a distribution whose first projection is @xmath0 ; its support is a subset of @xmath35 where @xmath303 .",
    "the second projection of this distribution is in @xmath231 and it can be used to prove the inequality as described above .",
    "similar argument can be used for probability - bounded tests : to show that @xmath184 is probability - bounded , it is enough to show that all @xmath304 are ; the set @xmath305 is the @xmath35-preimage of the set @xmath306 ; we apply proposition  [ prop : non - empty ] to the set @xmath307 and note that the inequality @xmath308 is true for every pair @xmath309 in this set .",
    "we would like to thank bruno bauwens , wolfgang merkle , jason rute and other participants of the heidelberg focus semester , mikhail andreev , alexey milovanov , gleb novikov , andrey rumyantsev , nikolay vereshchagin and other researchers from kolmogorov seminar in moscow , bruno durand , andrei romashchenko and other colleagues in the escape group in montpellier , as well as escape visitors , especially peter gcs , and all the people in the hse and poncelet laboratory in moscow for their hospitality .",
    "bienvenu , laurent ; gcs , pter ; hoyrup , mathieu ; rojas , cristobal ; and shen , alexander , algorithmic tests and randomness with respect to a class of measures , _ proceedings of the steklov institute of mathematics _ , * 274 * , 2011 , 3489 .",
    "http://arxiv.org/abs/1103.1529[`arxiv:1103.1529 ` ]    bienvenu , laurent ; romashchenko , andrei and shen , alexander , sparse sets , _ journes automates cellulaires _ 2008 ( uzes ) , 1828 .",
    "+ http://hal.archives-ouvertes.fr/hal-00274010/en/[`hal.archives-ouvertes.fr/hal-00274010/en/ ` ]    diamondstone , david and kjos - hanssen , bjrn , martin - lf randomness and galton ",
    "watson processes , _ annals of pure and applied logic _ , * 163(5 ) * , 2012 , 519529 .",
    "http://arxiv.org/abs/1408.2875[`arxiv:1408.2875 ` ]    hoyrup , mathieu and rojas , crist ' obal , an application of martin - lf randomness to effective probability theory , _ mathematical theory and computational practice , 5th conference on computability in europe , cie 2009 , heidelberg , germany , july 1924 , 2009",
    ". proceedings _",
    "( lecture notes in computer science , 5635 ) , p.  260269 .",
    "vereshchagin , nikolai ; uspensky , vladimir and shen , alexander , _ kolmogorov complexity and algorithmic randomness_. moscow , mccme , 2013 .",
    "( in russian ; draft english translation is available at http://www.lirmm.fr/~ashen/kolmbook-eng.pdf[`www.lirmm.shen/~ashen/kolmbook-eng.pdf ` ] . )"
  ],
  "abstract_text": [
    "<S> algorithmic randomness theory starts with a notion of an individual random object . to be reasonable </S>",
    "<S> , this notion should have some natural properties ; in particular , an object should be random with respect to image distribution if and only if it has a random preimage . </S>",
    "<S> this result ( for computable distributions and mappings , and martin - lf randomness ) was known for a long time ( folklore ) ; in this paper we prove its natural generalization for layerwise computable mappings , and discuss the related quantitative results . </S>"
  ]
}