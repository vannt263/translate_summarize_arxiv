{
  "article_text": [
    "astrophysical opacities from the opacity project ( op ) have been updated by @xcite to include inner - shell contributions and an improved frequency mesh .",
    "the complete data set of monochromatic opacities and a suite of codes to compute mean opacities and radiative accelerations ( opcd_2.1 ) have also been publicly released by @xcite to make in - house calculations for arbitrary mixtures more versatile and expedient .",
    "regarding data accuracy , there is excellent overall agreement between the opal @xcite and op results as discussed by @xcite , @xcite and @xcite .",
    "rosseland mean opacities are sensitive to both the basic atomic data used and the assumed abundances of the chemical elements .",
    "what had been a good agreement between theory and the helioseismological data was found to be less good using revised solar abundances from @xcite .",
    "the revised op opacities have been instrumental in discussions of that problem @xcite .",
    "the modelling of stellar interiors , on the other hand , is being renewed with the solar experience .",
    "present ( _ wire _ , _ most _ , _ corot _ ) and future ( _ kepler _ ) space probes and the well established solar methods are giving the field of asteroseismology remarkable growth and the guarantee of invaluable data @xcite .",
    "in future work on stellar models it may be desirable to take account of revisions in abundances similar to those performed for the sun .    for some types of stars",
    ", models must take into account microscopic diffusion processes , e.g. radiative levitation , gravitational settling and thermal diffusion , as they can affect the internal and thermal structures , the depth of the convection zone , pulsations and give rise to surface abundance anomalies @xcite . as reviewed by @xcite ,",
    "such processes are relevant in the description of chemically peculiar stars , horizontal - branch stars , white dwarfs and neutron stars , and in globular cluster age determinations from population  ii turnoff stars .",
    "furthermore , in order to solve the outstanding discrepancy of the atmospheric li abundance in old stars with that predicted in big - bang nucleosynthesis , @xcite have proposed li sinking deep into the star due to diffusion .",
    "this hypothesis has been recently confirmed in the observations by @xcite .",
    "the opcd_2.1 release includes data and codes to compute the radiative accelerations required for studies of diffusion processes .",
    "it should be noted that the radiative accelerations are summed over ionization stages and that data for the calculation of diffusion coefficients are calculated assuming that the distribution over ionization stages of the diffusing ions is the same as that in the ambient plasma .",
    "the validity of this approximation is discussed by @xcite .    in some cases ,",
    "particularly when element stratification depends on stellar depth , calculations of mean opacities and radiative accelerations must be repeated at each depth point of the model and at each time step of the evolution , and thus the use of codes more efficient than those in opcd_2.1 may be necessary .",
    "this becomes critical in the new distributed computing grid environments where the network transfer of large volumes of data is a key issue . in the present work we have looked into these problems , and , as a solution , report on the implementation of a general purpose , interactive server for astrophysical opacities referred to as opserver .",
    "it has been installed at the ohio supercomputer center , columbus , ohio , usa , from where it can be accessed through a web page or a linkable subroutine library .",
    "it can also be downloaded locally to be run on a stand - alone basis but it will demand greater computational facilities . in section  2",
    "we discuss the computational strategy of the codes in opcd_2.1 followed by a description of opserver in section  3 . in section  4",
    "we include some tests as an indication of its performance with a final summary in section  5 .",
    "we highlight here some of the key features of the codes in opcd_2.1 . for a chemical mixture specified by abundance fractions @xmath0",
    ", they essentially compute two types of data : rosseland mean opacities ( rmo ) and radiative accelerations ( ra ) .      for the frequency variable @xmath1 where @xmath2 is the boltzmann constant , rmo",
    "are given by the harmonic mean of the opacity cross section @xmath3 of the mixture @xmath4 where @xmath5 is the mean atomic weight .",
    "the @xmath3 is a weighted sum of the monochromatic opacity cross sections for each of the chemical constituents @xmath6 and is conveniently tabulated on the @xmath7-mesh @xmath8 where @xmath9 ^ 2}\\ ] ] and @xmath10 .",
    "the rationale behind the @xmath7-mesh is that it enhances frequency resolution where @xmath11 is large @xcite .",
    "similarly , the ra for a selected @xmath12 element can be expressed as @xmath13 where @xmath14 is its atomic weight and @xmath15 the speed of light . the function @xmath16 is given in terms of the effective temperature @xmath17 and fractional depth @xmath18 of the star by @xmath19 with @xmath20 the dimensionless parameter @xmath21 depends on the cross section for momentum transfer to the @xmath12 element @xmath22 - a_k(u)\\ ] ] where @xmath23 is a correction to remove the contributions of electron scattering and momentum transfer to the electrons . both @xmath24 and @xmath23 , which are hereafter referred to as the mono data set ( @xmath251  gb ) ,",
    "are tabulated in equally spaced @xmath7 intervals to facilitate accurate interpolation schemes .",
    "the computational strategy adopted in the opcd_2.1 release is depicted in the flowcharts of figure  1 where it may be seen that calculations of rmo and ra are carried in two stages . in a time consuming stage  1 , rmo and ra are computed with the mixv and accv codes , respectively , on a representative tabulation of the complete temperature  electron - density @xmath26 plane . in mixv",
    "the chemical mixture is specified in the input file mixv.in as @xmath27 where @xmath28 and @xmath29 are the hydrogen and metal mass - fractions , @xmath30 the number of elements , and @xmath31 and @xmath0 are the metal nuclear charges and fractional abundances . in accv ,",
    "the input data ( accv.in ) are @xmath32 where now @xmath12 runs over the @xmath30 elements of the mixture , and @xmath33 and @xmath34 are respectively the nuclear charge and @xmath35 abundance multipliers of the test @xmath36 element .",
    "input data formats in either mixv.in or accv.in give the user flexible control over chemical mixture specifications .    as shown in figure  1 , the intermediate output files mixv.xx ( @xmath2585 kb ) containing @xmath37 where @xmath38 is the mass - density , and acc.xx ( @xmath25470 kb ) with @xmath39 are written to disk .",
    "they are then respectively read by the codes opfit and accfit in stage  2 for fast bicubic interpolations of rmo and ra on stellar depth profiles @xmath40 specified by the user in the opfit.in and accfit.in input files .",
    "the final output files are opfit.xx containing @xmath41 and accfit.xx with @xmath42    in this computational approach , performance is mainly limited by the summation in equation  ( [ sum ] ) which implies disk reading the mono data set ; for instance , in mixv it takes up to @xmath2590% of the total elapsed time .",
    "opcd_2.1 also includes other codes such as mx and ax which respectively compute rmo and ra for a star depth profile .",
    "the chemical mixture can be fully varied at each depth point using the specifications in equations ( [ mix1][mix2 ] ) , the rmo and ra being obtained in a one - step process using bicubic interpolations without splines .",
    "these methods are thus suitable for cases with multi - mixture depth profiles @xcite . further details of all the opcd codes are contained in the reference manual .",
    "in opserver the computational capabilities of the codes in opcd_2.1 are greatly enhanced by the following innovative adaptations .    1 .",
    "the codes are restructured within a client  server network architecture whereby the time consuming stage  1 is performed on a powerful processor while the fast stage  2 is moved to the client , e.g. a web server or a user workstation . in this arrangement performance",
    "could be affected by the client  server transfer of the mixv.xx and acc.xx intermediate files , but since they are never larger than 0.5 mb , it is not expected to be a deterrent with present - day bandwidths . in a local installation where both the client and server reside on the same machine",
    ", communication is managed through shared buffers in main memory ;",
    "i.e. the corresponding data in mixv.xx and acc.xx are not written to disk .",
    "the codes are transcribed as a subroutine library  to be referred to hereafter as the oplibrary  which can be linked by the user stellar modelling code for recurrent subroutine calls that avoid data writing on disk .",
    "that is , the input data in the mixv.in , accv.in , opfit.in and accfit.in files and the output tables in the opfit.xx and accfit.xx files ( see figure  1 ) are now handled as subroutine parameters while the intermediate mixv.xx and acc.xx files are passed via shared main - memory buffers .",
    "chemical mixtures are again specified with the formats of equations ( [ mix1][mix2 ] ) which allow full variation at each depth point in a single subroutine call .",
    "rmo / ra are computed with the complete mono data set always loaded in main memory thus avoiding lengthy and repeated disk readings .",
    "this is achieved by implementing opserver on a dedicated server where mono is permanently resident in ram , or in the case of a local installation , by disk - reading it once at the outset of a modelling calculation .",
    "when accessing the remote server , client data requests are addressed through the http protocol , i.e. in terms of a uniform resource locator ( url ) .",
    "this allows data fetching from the central facility through an interactive web page or a network access subroutine , the latter being particularly suitable for a stellar model code that is to be run in a distributed grid environment .",
    "the do - loop that computes the summation of equation  ( [ sum ] ) has been parallelized in openmp which provides a simple , scalable and portable scheme for shared - memory platforms .",
    "as shown in figure  2 , the current opserver enterprise is implemented as a client  server model at the ohio supercomputer center ( osc ) .",
    "the web server communicates with the supercomputer via a socket interface .",
    "earlier versions were developed on an sgi origin2000 server with the powerfortran parallelizing compiler .",
    "the current version runs on a linux system with fortran openmp directives .",
    "opserver offers three user modes with full functionality except when otherwise indicated in the following description .",
    "* mode  a * : :    in this mode opserver is set up locally on a stand - alone basis ( see    figure  2 ) .",
    "the facilities of the osc are not used .",
    "a new opcd release    ( opcd_3.3 ) is    downloaded , followed by ( i ) installation of both the oplibrary and the    mono data set and ( ii ) linking of the oplibrary to the user modelling    code .",
    "computations of rmo / ra are preceded by the reading of the    complete mono data set from disk and therefore requires at least 1  gb    of ram .",
    "* mode  b * : :    in this mode , the oplibrary is downloaded , installed and linked to the    user code , but stage  1 is performed remotely at the osc ( see    figure  2 ) .",
    "this option has been customized for stellar modelling in a    distributed grid environment that would otherwise imply ( i.e. mode  a )    the network transfer , installation and disk - reading of the mono data    set at runtime .",
    "it is also practical when local computer capabilities    ( ram and/or disk space ) are limited .",
    "the functions provided by the mx    and ax codes have not been implemented .",
    "* mode  c * : :    in this mode rmo / ra computations at the osc are requested through an    interactive web page which allows    both stage  1 and stage  2 to be carried out remotely or , alternatively ,    stage  2 locally by downloading the mixv.xx/acc.xx intermediate files    ( see figure .",
    "1 ) with the browser for further processing with local    opfit / accfit executables .",
    "opserver benchmarks were initially carried out on an sgi origin2000 multiprocessor at the osc with an earlier release of opcd .",
    "for the standard s92 mixture @xcite , the mixv code took up to 140  s to compute the mixv.xx file , of which 126  s were dedicated to disk - reading and 14  s to the actual computing of the mean opacities .",
    "opserver took on average @xmath43  s to compute mixv.xx which was not written to disk unless requested . in figure",
    "3 we show the acceleration obtained on the origin2000 through parallelization where the calculation of mean opacities is reduced to 2  s with 8 processors .",
    "further significant acceleration is prevented by data transfer overheads .",
    "on more recent workstations , the local performances of the codes in opcd_2.1 and opserver depend on processor speed and ram and cache sizes .",
    "for instance , on a powermac g5 ( powerpc 970fx processor at 2.0 ghz , 1 gb of ram and l2 cache of 512 kb ) the first time mixv is run it takes for a single s92 mixture 103.8  s to compute the rmo , but on subsequent runs the elapsed time is reduced to an average of @xmath44  s. similarly , opserver takes 103.3  s which is then reduced to @xmath45  s on subsequent runs .",
    "once the mono data set is loaded in ram by opserver ( mode a ) , calculations of rmo for a single s92 mixture only take @xmath46  s and @xmath47  s for ra for the test element ar . in mode",
    "b , where stage 1 is carried out remotely at the osc and the mixv.xx and accv.xx files are transferred at the relatively low rate of 1.88 kb / s , computations of rmo and ra take @xmath48  s and @xmath49  s , respectively .",
    "the noticeable longer time taken for the latter is due to the transfer time taken for the larger accv.xx file .",
    "rosseland mean opacities and radiative accelerations can be computed from op data in any one of the following ways .",
    "( i ) download the original opcd_2.1 package as described by @xcite and perform all calculations locally .",
    "\\(ii ) mode a , download the upgraded opcd_3.3 package , install opserver and perform all calculations locally by linking the subroutines in the oplibrary",
    ". calculations with opserver are more efficient but require large local computer memory .",
    "\\(iii ) mode b , as mode a but with stage 1 performed remotely at the osc .",
    "mode b is convenient if fast calculations are required but local computer memory is limited or when stellar modelling is to be carried out in a grid environment .",
    "\\(iv ) mode c , perform all calculations remotely at the osc through an interactive web page whereby files are downloaded locally with the browser .",
    "we acknowledge the invaluable assistance of juan luis chaves and gilberto daz of cecalcula during the initial stages of opserver .",
    "we are also much indebted to the ohio supercomputer center , columbus , ohio , usa , for hosting opserver and for technical assistance ; to the centre de donnes astronomiques de strasbourg , france , for hosting the opcd releases ; and to drs josslen aray , manuel bautista , juan murgich and fernando ruette of ivic for allowing us to test the opserver installation on different platforms .",
    "fd would like to thank s.  rouchy for technical support .",
    "akp and fd have been partly supported by a grant from the us national science foundation .",
    "asplund m. , grevesse n. , sauval a. j. , 2005 , in barnes t. g. , bash f. n. , eds , asp conference series vol .",
    "336 , cosmic abundances as records of stellar evolution and nucleosynthesis . astronomical society of the pacific , san francisco , p.25 badnell n. r. , bautista , m. a. , butler , k. , delahaye f. , mendoza c. , palmeri p. , zeippen c. j. , seaton , m. j. , 2005 , mnras , 360 , 458"
  ],
  "abstract_text": [
    "<S> codes to compute mean opacities and radiative accelerations for arbitrary chemical mixtures using the opacity project recently revised data have been restructured in a client  server architecture and transcribed as a subroutine library </S>",
    "<S> . this implementation increases efficiency in stellar modelling where element stratification due to diffusion processes is depth dependent , and thus requires repeated fast opacity reestimates . </S>",
    "<S> three user modes are provided to fit different computing environments , namely a web browser , a local workstation and a distributed grid .    </S>",
    "<S> [ firstpage ]    atomic processes  radiative transfer  stars : interior . </S>"
  ]
}