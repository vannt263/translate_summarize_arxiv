{
  "article_text": [
    "one of the motivations for establishing a computational grid is the ability to exploit unused computing cycles at remote facilities . in canada , there has been a significant injection of new funding for mid - size capability and capacity computational facilities .",
    "one of the conditions of the funding is that these facilities must make 20% of the resources available to outside users .",
    "a number of these facilities are associated with high energy physics ( hep ) centers or groups .",
    "however , the majority are facilities that are shared between many research fields .",
    "we would like to exploit these unused cycles for hep applications such as monte carlo simulations .",
    "this paper describes the grid canada testbed which consists of resources at both hep and non - hep sites .",
    "we demonstrate that hep simulations can be run without installing application - specific software at the remote site .",
    "we discuss the results of a series of tests we have run over the testbed and conclude with a discussion of our plans for the future .",
    "grid canada ( www.gridcanada.ca ) is an organization established by canarie inc .",
    "( www.canarie.ca ) , who provide the national research and educational network in canada ; the c3.ca association ( www.c3.ca ) , which is an organization that represents the user community of high performance computing ( hpc ) facilities in canada ; and the national research council of canada ( nrc ) ( www.nrc.ca ) .",
    "the goal of grid canada ( gc ) is to foster collaboration on grid activities in canada .",
    "gc is responsible for the canadian certificate authority and has helped coordinate a number of demonstration activities such as the 1 tb high - speed file transfer project between the triumf laboratory in vancouver and cern @xcite and a grid test using a number of hpc ( shared memory machines ) computers across canada .",
    "in addition , gc has helped to establish the linux testbed that will be described in this paper .",
    "the gc linux testbed involves researchers at the university of victoria who are members of the babar and atlas collaborations .",
    "in addition , personnel at the nrc institute for information technology , canarie inc . and the british columbia ministry for management services have also made significant contributions to the testbed .",
    "the testbed currently includes 12 sites in canada ranging from a number of sites in british columbia to those 3000 km away in ontario .",
    "typically each site has between 1 and 8 computers .",
    "all sites are required to run globus 2.0 or 2.2 @xcite on their computers except for the victoria site which is described in the next paragraph .",
    "in addition , sites must also run an openafs client @xcite .",
    "latencies between the two most - distant sites vary between 50 and 100 milliseconds .",
    "the remote sites access the application - specific software and , for some tests , read the input and write the output data via afs .",
    "the victoria grid testbed is shown in fig  [ uvictb ] .",
    "it consists of two servers for afs and objectivity @xcite . a head node ( grid.phys.uvic.ca )",
    "runs the globus software with a series of processing nodes ( grid1 , ... , grid6 ) hidden behind a firewall .",
    "jobs are distributed to the processing nodes using condor @xcite although pbs @xcite has been tested .",
    "the processing nodes have the ability to access the afs server through the firewall .",
    "access to the software via afs by many remote machines can cause significant degradation in the cpu utilization to the server and subsequently reduce the efficiency of the remote processing machines .",
    "afs has a faster , more efficient method of reading clones or read - only volumes .",
    "for example , if a volume is read - only , then the client only has to contact the afs server once to cache the volume .",
    "we tested afs performance using two clones and two replicated volumes on two separate machines .",
    "the afs server machine ( basilisk.phys.uvic.ca ) held the master and a cloned volume , with the objectivity server machine ( objy.phys.uvic.ca ) holding a replicated and a cloned volume .",
    "this configuration appeared to be sufficient for the size of the testbed so that no bottlenecks occurred as a result of the afs servers .",
    "initial tests of the atlas software using a local machine and a machine 1200 km distant showed that using a cloned volume increased the access to the software at the remote machine .",
    "real execution time at the remote machine dropped by about 40% whereas ( as expected ) no change was observed at the local machine . running simultaneous multiple jobs over the grid",
    "did not degrade the afs performance . we concluded that having cloned volumes significantly increased the afs performance .",
    "we plan to continue to monitor the afs performance as we continue to scale up the size of the gc testbed .",
    "jobs were submitted from victoria using simple scripts .",
    "no resource broker or portal was used however , we are examining the available tools ( such as gridport @xcite ) and plan to incorporate them into the testbed .",
    "monitoring of the gc testbed was done using the cacti package @xcite providing network traffic and cpu utilization .",
    "detailed descriptions of the victoria testbed can be found at http://grid.phys.uvic.ca .",
    "hep simulation applications begin by the generation of events which are collections of 4-vectors representing the trajectories of particles from an initial collision of two incident particles .",
    "the 4-vectors are then passed through a program that simulates the response of the experimental detector .",
    "the output is in a format that is usually identical to the format used to store the real collision data , but includes additional simulation information .",
    "after the detector simulation , the data is passed through an application that reconstructs the data into physical quantities such as tracks in the tracking chambers and energy in the calorimeters .",
    "it is now common practice to inject background events ( either real or simulated ) on top of the simulated physics events .",
    "we chose to examine the performance of the gc testbed using the simulations of the babar and atlas experiments .",
    "the main difference between the atlas and babar simulation applications is the manner in which they store their data .",
    "atlas uses conventional files in a zebra format developed at cern while babar uses the commercial objectivity database . in the following subsections",
    "we describe the results of running the babar and atlas simulations on the gc testbed .",
    "it is worth pointing out that neither the babar or the atlas simulation are optimized for operation over a wide - area grid .      the babar collaboration studies electron - positron collisions at the slac facility .",
    "in addition to collecting data from the experiment , the collaboration generates a significant amount of monte carlo simulated data in order to model the response of the detector and to help assess efficiencies and systematic errors in the physics studies .",
    "the simulation application is run in 3 phases for event generation , detector simulation and reconstruction .",
    "data is written to objectivity by the event generation application .",
    "the detector simulation reads the output of the event generation and writes output that is then used by the reconstruction .",
    "the reconstruction application writes out data that can be used for physics studies .",
    "the babar application accesses the database multiple times per event .",
    "the handshaking required between the database and application combined with the large latency resulted in relatively poor utilization of the remote processors . for example , we observed that cpu utilization was approximately 10% at sites 3000 km away from the objectivity server .",
    "a series of 1 day tests were run involving many of the gc testbed sites .",
    "a total of approximately 50,000 events were generated per test .",
    "the babar software was accessed from the afs server .",
    "the network traffic to the objectivity and afs servers is shown in figure  [ f1 ] .",
    "approximately 0.5 mb / s of data was constantly read and written to the database .",
    "afs traffic was generally only a few kb / s with a peak during the start of the application .",
    "our initial tests showed that one of the areas that had to be addressed was the issuing and releasing of database locks .",
    "for example , a remote application locks the entire federation during a creation of a container .",
    "if a remote machine lost network connectivity while a global database lock was present then this resulted in the entire testbed being halted as none of the sites would be able to write to the database . as a result we developed a series of monitoring and cleanup utilities that would eliminate any problems associated with the database locks .",
    "we consider the test a success in that we could run the babar application on non - hep resources .",
    "it is clear that the efficiency at the remote sites was low and we believe a number of modifications to the babar application could improve the throughput . however , given the plan by babar and the lhc experiments to move away from the objectivity database , it was decided not to pursue this application further .",
    "the atlas collaboration will study high energy proton - proton collisions at the large hadron collider at the cern laboratory .",
    "atlas is expected to produce large volumes of data starting in 2007 .",
    "the atlas data challenge ( dc ) is a project to test and develop the ability to exploit remote computing resources for monte carlo simulation . for our tests",
    ", we used the application that generates background ( called pile - up ) events . input and",
    "output data are standard files in a zebra format .",
    "future atlas dc will use the root data format@xcite ; such a change will make no difference to the way in which the current test was performed .",
    "we tested three modes of operation on the testbed :    1 .",
    "both input data and output data transferred using afs 2 .",
    "input data transferred using gridftp and output data transferred using afs 3 .",
    "both input and output data transferred using gridftp    all software and log files use afs .",
    "it has been recognized that afs was not an ideal protocol for transfering large data files , however , we felt it was important to quantify the differences .",
    "we found afs to extremely slow for reading input data and resulted in cpu utilizations being less than 5% .",
    "afs caches its output ; as a result we tested a mode where the input was sent via gridftp to the remote site and let afs control the output .",
    "the results of this mode of operation were more encouraging , however the performance of afs is comparable to single stream ftp and using gridftp is a much more effective solution .",
    "the mode of operation we chose was one where the input files were tarred and compressed , and sent via gridftp to the remote site . at the remote site , the files would be untarred and uncompressed , and the job executed . at the end of the job , the output files would be tarred and compressed , and then transferred via gridftp back to the victoria disk server .",
    "this was found to be a successful mode of operation .",
    "access to software via afs proved to be reliable and efficient .",
    "we chose an application that would run extremely quickly on the processing nodes ( 30 minutes on a 2 ghz cpu ) .",
    "compression , transfer and uncompression was approximately 20 minutes for a 2 gb file .",
    "although the overall utilization of a remote cpu could be considered to be low if one includes the compression and transfer times , a more realistic application , such as simulation or reconstruction , would take hours rather than minutes to process data files of the same size .",
    "in this situation , we believe the cpu utilization would significantly improve .",
    "we have demonstrated that hep applications can be run on generic computing resources with relatively high efficiency . with ( modest ) design changes in the applications we expect that further gains in efficiency would be possible .",
    "further tests are planned using a sites with significantly larger resources with the aim of establishing a production level grid resource in canada ."
  ],
  "abstract_text": [
    "<S> a grid testbed has been established using resources at 12 sites across canada involving researchers from particle physics as well as other fields of science . </S>",
    "<S> we describe our use of the testbed with the babar monte carlo production and the atlas data challenge software . in each case </S>",
    "<S> the remote sites have no application - specific software stored locally and instead access the software and data via afs and/or gridftp from servers located in victoria . in the case of babar </S>",
    "<S> , an objectivity database server was used for data storage . </S>",
    "<S> we present the results of a series of initial tests of the grid testbed using both babar and atlas applications . </S>",
    "<S> the initial results demonstrate the feasibility of using generic grid resources for hep applications . </S>"
  ]
}