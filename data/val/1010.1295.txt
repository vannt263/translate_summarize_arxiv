{
  "article_text": [
    "we consider wireless communication networks where nodes are able to harvest energy from nature .",
    "the nodes may harvest energy through solar cells , vibration absorption devices , water mills , thermoelectric generators , microbial fuel cells , etc . in this work ,",
    "we do not focus on how energy is harvested , instead , we focus on developing transmission methods that take into account the _ randomness _ both in the _ arrivals of the data packets _ as well as in the _ arrivals of the harvested energy_. as shown in fig .  [ fig : system1 ] , the transmitter node has two queues .",
    "the data queue stores the data arrivals , while the energy queue stores the energy harvested from the environment . in general , the data arrivals and the harvested energy can be represented as two independent random processes .",
    "then , the optimal scheduling policy becomes that of adaptively changing the transmission rate and power according to the instantaneous data and energy queue lengths .",
    "while one ideally should study the case where both data packets and energy arrive randomly in time as two stochastic processes , and devise an _ on - line _ algorithm that updates the instantaneous transmission rate and power in _ real - time _ as functions of the current data and energy queue lengths , this , for now , is an intractable mathematical problem . instead , in order to have progress in this difficult problem , we consider an idealized version of the problem , where we assume that we know exactly when and in what amounts the data packets and energy will arrive , and develop an optimal _ off - line _ algorithm .",
    "we leave the development of the corresponding _ on - line _",
    "algorithm for future work .",
    "specifically , we consider a single node shown in fig .",
    "[ fig : bit_arri ] .",
    "we assume that packets arrive at times marked with @xmath0 and energy arrives ( is harvested ) at points in time marked with @xmath1 . in fig .",
    "[ fig : bit_arri ] , @xmath2 denotes the number of bits in the @xmath3th arriving data packet , and @xmath4 denotes the amount of energy in the @xmath3th energy arrival ( energy harvesting ) .",
    "our goal then is to develop methods of transmission to minimize the time , @xmath5 , by which all of the data packets are delivered to the destination .",
    "the most challenging aspect of our optimization problem is the _ causality _ constraints introduced by the packet and energy arrival times , i.e. , a packet may not be delivered before it has arrived and energy may not be used before it is harvested .",
    "the trade - off relationship between delay and energy has been well investigated in traditional battery powered ( unrechargeable ) systems .",
    "references @xcite investigate energy minimization problems with various deadline constraints .",
    "reference @xcite considers the problem of minimizing the energy in delivering all packets to the destination by a deadline .",
    "it develops a _ lazy scheduling algorithm _",
    ", where the transmission times of all packets are equalized as much as possible , subject to the deadline and causality constraints , i.e. , all packets must be delivered by the deadline and no packet may be transmitted before it has arrived .",
    "this algorithm also elongates the transmission time of each packet as much as possible , hence the name , _ lazy _ scheduling . under a similar system setting",
    ", @xcite proposes an interesting novel calculus approach to solve the energy minimization problem with individual deadlines for each packet .",
    "reference @xcite develops dynamic programming formulations and determines optimality conditions for a situation where channel gain varies stochastically over time .",
    "reference @xcite considers energy - efficient packet transmission with individual packet delay constraints over a fading channel , and develops a recursive algorithm to find an optimal off - line schedule .",
    "this optimal off - line scheduler equalizes the energy - rate derivative function as much as possible subject to the deadline and causality constraints .",
    "references @xcite and @xcite extend the single - user problem to multi - user scenarios . under a setting similar to @xcite ,",
    "we investigate the average delay minimization problem with a given amount of energy , and develop iterative algorithms and analytical solutions under various data arrival assumptions in @xcite .",
    "references @xcite investigate delay optimal resource allocation problems under various different settings .",
    "references @xcite consider average power constrained delay minimization problem for a single - user system , while @xcite minimize the average delay through rate allocation in a multiple access channel .    in this paper",
    ", we consider a single - user communication channel with an energy harvesting transmitter .",
    "we assume that an initial amount of energy is available at @xmath6 .",
    "as time progresses , certain amounts of energies will be harvested .",
    "while energy arrivals should be modeled as a random process , for the mathematical tractability of the problem , in this paper , we assume that the energy harvesting procedure can be precisely predicted , i.e. , that , at the beginning , we know exactly when and how much energy will be harvested . for the data arrivals , we consider two different scenarios . in the first scenario",
    ", we assume that packets have already arrived and are ready to be transmitted at the transmitter before the transmission starts .",
    "in the second scenario , we assume that packets arrive during the transmissions .",
    "however , as in the case of energy arrivals , we assume that we know exactly when and in what amounts data will arrive .",
    "subject to the energy and data arrival constraints , our purpose is to minimize the time by which all packets are delivered to the destination through controlling the transmission rate and power .",
    "this is similar to the energy minimization problem in @xcite , where the objective is to minimize the energy consumption with a given _ deadline _ constraint . in this paper , minimizing the transmission completion time is akin to minimizing the deadline in @xcite .",
    "however , the problems are different , because , we do not know the exact amount of energy to be used in the transmissions , even though we know the times and amounts of harvested energy .",
    "this is because , intuitively , using more energy reduces the transmission time , however , using more energy entails waiting for energy arrivals , which increases the total transmission time .",
    "therefore , minimizing the transmission completion time in the system requires a sophisticated utilization of the harvested energy .",
    "to that end , we develop an algorithm , which first obtains a good lower bound for the final total transmission duration at the beginning , and performs rate and power allocation based on this lower bound .",
    "the procedure works progressively until all of the transmission rates and powers are determined .",
    "we prove that the transmission policy obtained through this algorithm is globally optimum .",
    "we assume that there are a total of @xmath7 bits available at the transmitter at time @xmath6 .",
    "we also assume that there is @xmath8 amount of energy available at time @xmath6 , and at times @xmath9 , @xmath10 , @xmath11 , @xmath12 , we have energies harvested with amounts @xmath13 , @xmath14 , @xmath15 , @xmath16 , respectively .",
    "this system model is shown in fig .",
    "[ fig : system ] .",
    "our objective is to minimize the transmission completion time , @xmath5 .",
    "we assume that the transmitter can adaptively change its transmission power and rate according to the available energy and the remaining number of bits .",
    "we assume that the transmission rate and transmit power are related through a function , @xmath17 , i.e. , @xmath18 .",
    "we assume that @xmath17 satisfies the following properties : i ) @xmath19 and @xmath20 as @xmath21 , ii ) @xmath17 increases monotonically in @xmath22 , iii ) @xmath17 is strictly concave in @xmath22 , iv ) @xmath17 is continuously differentiable , and v ) @xmath23 decreases monotonically in @xmath22 .",
    "properties i)-iii ) guarantee that @xmath24 exists and is strictly convex .",
    "property v ) implies that for a fixed amount of energy , the number of bits that can be transmitted increases as the transmission duration increases . it can be verified that these properties are satisfied in many systems with realistic encoding / decoding schemes , such as optimal random coding in single - user additive white gaussian noise channel , where @xmath25 .",
    "assuming the transmitter changes its transmission power @xmath26 times before it finishes the transmission , let us denote the sequence of transmission powers as @xmath27 , @xmath28 , @xmath11 , @xmath29 , and the corresponding transmission durations of each rate as @xmath30 , @xmath31 , @xmath11 , @xmath32 , respectively ; see fig .",
    "[ fig : system2 ] .",
    "then , the energy consumed up to time @xmath33 , denoted as @xmath34 , and the total number of bits departed up to time @xmath33 , denoted as @xmath35 , can be related through the function @xmath36 as follows : @xmath37 where @xmath38 .",
    "then , the transmission completion time minimization problem can be formulated as : @xmath39 first , we determine the properties of the optimum solution in the following three lemmas .",
    "[ lemma : incrs ] under the optimal solution , the transmit powers increase monotonically , i.e. , @xmath40 .",
    "assume that the powers do not increase monotonically , i.e. , that we can find two powers such that @xmath41 .",
    "the total energy consumed over this duration is @xmath42 .",
    "let @xmath43 then , we have @xmath44 , @xmath45 .",
    "since @xmath46 , the energy constraint is still satisfied , and thus , the new energy allocation is feasible .",
    "we use @xmath47 to replace @xmath48 in the transmission policy , and keep the rest of the rates the same .",
    "then , the total number of bits transmitted over the duration @xmath49 becomes @xmath50 where the inequality follows from the fact that @xmath17 is concave in @xmath22 .",
    "therefore , the new policy departs more bits by time @xmath51 . keeping the remaining transmission rates the same",
    ", the new policy will finish the entire transmission over a shorter duration .",
    "thus , the original policy could not be optimal .",
    "therefore , the optimal policy must have monotonically increasing powers ( and rates ) .",
    "[ lemma : const ] the transmission power / rate remains constant between energy harvests , i.e. , the power / rate only potentially changes when new energy arrives .",
    "assume that the transmitter changes its transmission rate between two energy harvesting instances @xmath52 , @xmath53 .",
    "denote the rates as @xmath54 , @xmath55 , and the instant when the rate changes as @xmath56 , as shown in fig .",
    "[ fig : const_rate ] .",
    "now , consider the duration @xmath57 .",
    "the total energy consumed during the duration is @xmath58 .",
    "let @xmath59 now let us use @xmath60 as the new transmission rate over @xmath57 , and keep the rest of the rates the same .",
    "it is easy to check that the energy constraints are satisfied under this new policy , thus this new policy is feasible .",
    "on the other hand , the total number of bits departed over this duration under this new policy is @xmath61 where the inequality follows from the fact that @xmath17 is concave in @xmath22 .",
    "therefore , the total number of bits departed under the new policy is larger than that under the original policy .",
    "if we keep all of the remaining rates the same , the transmission will be completed at an earlier time .",
    "this conflicts with the optimality of the original policy .",
    "[ lemma : energy ] whenever the transmission rate changes , the energy consumed up to that instant equals the energy harvested up to that instant .    from lemma  [ lemma : const ] , we know that the transmission rate can change only at certain energy harvesting instances .",
    "assume that the transmission rate changes at @xmath52 , however , the energy consumed by @xmath52 , which is denoted by @xmath62 , is less than @xmath63 .",
    "we denote the energy gap by @xmath64 .",
    "let us denote the rates before and after @xmath52 by @xmath65 , @xmath55 .",
    "now , we can always have two small amounts of perturbations @xmath66 , @xmath67 on the corresponding transmit powers , such that @xmath68    we also make sure that @xmath66 and @xmath67 are small enough such that @xmath69 , and @xmath70 .",
    "if we keep the transmission rates over the rest of the duration the same , under the new transmission policy , the energy allocation will still be feasible .",
    "the total number of bits departed over the duration @xmath71 is @xmath72 where the inequality follows from the concavity of @xmath17 in @xmath22 , and the fact that @xmath73 , @xmath74 , as shown in fig .",
    "[ fig : concave ] . this conflicts with the optimality of the original allocation .",
    "we are now ready to characterize the optimum transmission policy . in order to simplify the expressions ,",
    "we let @xmath75 , and let @xmath76 if the transmission completion time @xmath5 lies between @xmath77 and @xmath78 .    based on lemmas  [ lemma : incrs ] , [ lemma : const ] and [ lemma : energy ] , we can characterize the optimal policy in the following way . for given energy arrivals , we plot the total amount of harvested energy as a function of @xmath33 , which is a staircase curve as shown in fig .  [",
    "fig : thm1 ] .",
    "the total energy consumed up to time @xmath33 can also be represented as a continuous curve , as shown in fig .  [ fig : thm1 ] . in order to satisfy the feasibility constraints on the energy ,",
    "energy consumption curve must lie below the energy harvesting curve at all times .",
    "based on lemma  [ lemma : const ] , we know that the optimal energy consumption curve must be linear between any two consecutive energy harvesting instants , and the slope of the segment corresponds to the transmit power level during that segment .",
    "lemma  [ lemma : energy ] implies that whenever the slope changes , the energy consumption curve must touch the energy harvesting curve at that energy harvesting instant .",
    "therefore , the first linear segment of the energy consumption curve must be one of the lines connecting the origin and any corner point on the energy harvesting curve before @xmath79 .",
    "because of the monotonicity property of the power given in lemma  [ lemma : incrs ] , among those lines , we should always pick the one with the minimal slope , as shown in fig .",
    "[ fig : thm1 ] . otherwise , either the feasibility constraints on the energy will not be satisfied , or the monotonicity property given in lemma 1 will be violated .",
    "for example , if we choose the line ending at the corner point at @xmath80 , this will violate the feasibility constraint , as the energy consumption curve will surpass the energy arrival curve .",
    "on the other hand , if we choose the line ending at the corner point at @xmath9 , then the monotonicity property in lemma  [ lemma : incrs ] will be violated , because in that case , the slope of the following segment would be smaller .",
    "these properties must hold similarly for @xmath28 , @xmath81 , @xmath11 , @xmath29 .",
    "we also observe that , for given @xmath5 , the optimal transmission policy is the tightest string below the energy harvesting curve connecting the origin and the total harvested energy by time @xmath5 .",
    "this is similar to the structure in @xcite .",
    "we state the structure of the optimal policy formally in the following theorem .",
    "[ thm : structure ] for a given @xmath7 , consider a transmission policy with power vector @xmath82 $ ] and corresponding duration vector @xmath83 $ ] .",
    "this policy is optimal if and only if it has the following structure : @xmath84 and for @xmath85 , @xmath86 where @xmath87 is the index of the energy arrival epoch when the power @xmath88 switches to @xmath89 , i.e. , at @xmath90 , @xmath88 switches to @xmath89 .",
    "the proof of this theorem is given in appendix  [ apdix : thm1 ] .    therefore , we conclude that if the overall transmission duration @xmath5 is known , then the optimal transmission policy is known via theorem  [ thm : structure ] . in particular , optimal transmission policy is the one that yields the tightest piecewise linear energy consumption curve that lies under the energy harvesting cure at all times and touches the energy harvesting curve at @xmath79 . on the other hand ,",
    "the overall transmission time @xmath5 is what we want to minimize , and we do not know its optimal value up front .",
    "consequently , we do not know up front which energy harvests will be utilized . for example , if the number of bits is small , and @xmath8 is large , then , we can empty the data queue before the arrival of @xmath13 , thus , the rest of the energy arrivals are not necessary . therefore , as a first step , we first obtain a good lower bound on the optimal transmission duration .",
    "we first illustrate our algorithm through an example in fig .",
    "[ fig : proof2 ] .",
    "we first compute the minimal energy required to finish the transmission before @xmath9 . we denote it as @xmath91 , and it equals @xmath92 then",
    ", we compare it with @xmath8 .",
    "if @xmath93 , it implies that we can complete the transmission before the arrival of the first energy harvest , thus @xmath13 is not necessary for the transmission .",
    "we allocate @xmath8 evenly to @xmath7 bits , and the duration @xmath91 is the minimum transmission duration . on the other hand ,",
    "if @xmath94 , which is the case in the example , the final transmission completion time should be longer than @xmath9 .",
    "thus , we move on and compute @xmath95 , @xmath96 , @xmath97 , and find that @xmath98 , @xmath99 and @xmath100 .",
    "this means that the total transmission completion time will be larger than @xmath80 and energies @xmath8 , @xmath11 , @xmath101 will surely be utilized .",
    "then , we allocate @xmath102 evenly to @xmath7 bits and obtain a constant transmission power @xmath103 , which is the dotted line in the figure .",
    "the corresponding transmission duration is @xmath104 .",
    "based on our allocation , we know that the final optimal transmission duration @xmath5 must be greater than @xmath104 .",
    "this is because , this allocation assumes that all @xmath8 , @xmath11 , @xmath101 are available at the beginning , i.e. , at time @xmath6 , which , in fact , are not .",
    "therefore , the actual transmission time will only be larger .",
    "thus , @xmath104 is a lower bound for @xmath5 .",
    "next , we need to check the feasibility of @xmath103 . observing the figure",
    ", we find that @xmath103 is not feasible since it is above the staircase energy harvesting curve for some duration .",
    "therefore , we connect all the corner points on the staircase curve before @xmath105 with the origin , and find the line with the minimum slope among those lines .",
    "this corresponds to the red solid line in the figure .",
    "then , we update @xmath103 with the slope @xmath27 , and the duration for @xmath27 is @xmath106 .",
    "we repeat this procedure at @xmath107 and obtain @xmath28 , and continue the procedure until all of the bits are finished .",
    "we state our algorithm for the general scenario as follows : first , we compute the amounts of energy required to finish the entire transmission before @xmath9 , @xmath10 , @xmath11 , @xmath12 , respectively , at a constant rate . we denote these as @xmath108 : @xmath109 then , we compare @xmath108 with @xmath63 , and find the smallest @xmath3 such that @xmath110 .",
    "we denote this @xmath3 as @xmath111 .",
    "if no such @xmath111 exists , we let @xmath112 .",
    "now , we assume that we can use @xmath113 to transmit all @xmath7 bits at a constant rate .",
    "we allocate the energy evenly to these bits , and the overall transmission time @xmath104 is the solution of @xmath114 and the corresponding constant transmit power is @xmath115 next , we compare @xmath27 with @xmath116 for every @xmath117 . if @xmath27 is smaller than every term , then , maintaining @xmath27 is feasible , and the optimal policy is to transmit at a constant transmission rate @xmath118 with duration @xmath104 , which gives the smallest possible transmission completion time , @xmath119 .",
    "otherwise , maintaining @xmath27 is infeasible under the given energy arrival realization .",
    "thus , we update @xmath120 i.e. , over the duration @xmath121 , we choose to transmit with power @xmath27 to make sure that the energy consumption is feasible .",
    "then , at time @xmath107 , the total number of bits departed is @xmath122 , and the remaining number of bits is @xmath123 .",
    "subsequently , with initial number of bits @xmath123 , we start from @xmath124 , and get another lower bound on the overall transmission duration @xmath125 , and repeat the procedure above . through this procedure , we obtain @xmath126 , and the corresponding @xmath127 , until we finish transmitting all of the bits .    based on our allocation algorithm , we know that @xmath27 is optimum up to time @xmath104 , since it corresponds to the minimal slope line passing through the origin and any corner point before @xmath105",
    ". however , the algorithm also implies that the final transmission duration @xmath5 will be larger than @xmath104 .",
    "the question then is , whether @xmath27 is still the minimum slope line up to time @xmath5 . if we can prove that @xmath27 is lower than the slopes of the lines passing through the origin and any corner point in @xmath128 $ ] , then , using theorem  [ thm : structure ]",
    ", we will claim that @xmath27 is the optimal transmission policy , not only between @xmath129 $ ] , but also between @xmath130 $ ] .",
    "the fact that this will be the case can be illustrated through the example in fig .",
    "[ fig : proof2 ] .",
    "we note that , clearly , @xmath104 is a lower bound on the eventual @xmath5 .",
    "if we keep transmitting at power @xmath27 , if no additional energy arrives , the energy harvested up until @xmath131 , i.e. , @xmath132 , will be depleted by time @xmath133 .",
    "we will next prove that @xmath133 is an upper bound on @xmath5 .",
    "because of the concavity of the function @xmath17 in @xmath22 , we can prove that under this policy , the number of bits departed up to time @xmath133 is greater than @xmath7",
    ". therefore , since potentially additional energy will arrive , @xmath133 provides an upper bound .",
    "thus , we know that the optimal @xmath5 lies between @xmath104 and @xmath133 .",
    "we next note that if we connect the origin with any corner point of the staircase curve between @xmath104 and @xmath133 , the slope of the resulting line will be larger than @xmath27 , thus , @xmath27 will be the smallest slope not only up to time @xmath104 , which is a lower bound , but also up to time @xmath133 , which is an upper bound .",
    "this proves that while we do not know the optimal @xmath5 , if we run the algorithm with respect to the lower bound on @xmath5 , i.e. , @xmath104 , it will still yield an optimal policy , in that the resulting policy will satisfy theorem  [ thm : structure ] .",
    "we prove the optimality of the algorithm formally in the following theorem .",
    "[ thm2 ] the allocation procedure described above gives the optimal transmission policy .",
    "the proof of this theorem is given in appendix  [ apdix : thm2 ] .",
    "in this section , we consider the situation where packets arrive during transmissions .",
    "we assume that there is an @xmath8 amount of energy available at time @xmath6 , and at times @xmath9 , @xmath10 , @xmath11 , @xmath12 , energy is harvested in amounts @xmath13 , @xmath14 , @xmath15 , @xmath16 , respectively , as in the previous section .",
    "we also assume that at @xmath6 , we have @xmath7 bits available , and at times @xmath134 , @xmath135 , @xmath11 , @xmath136 , bits arrive in amounts @xmath137 , @xmath138 , @xmath15 , @xmath139 , respectively . this system model",
    "is shown in fig .",
    "[ fig : bit_arri ] .",
    "our objective is again to minimize the transmission completion time , @xmath5 , which again is the time by which the last bit is delivered to the destination .",
    "let us denote the sequence of transmission powers by @xmath27 , @xmath28 , @xmath11 , @xmath29 , and the corresponding transmission durations by @xmath30 , @xmath31 , @xmath11 , @xmath32 .",
    "then , the optimization problem becomes : @xmath140 where @xmath34 , @xmath35 are defined in ( [ eqn : e ] ) and ( [ eqn : d ] ) .",
    "we again determine the properties of the optimal transmission policy in the following three lemmas .",
    "[ lemma : incrs2 ] under the optimal solution , the transmission rates increase in time , i.e. , @xmath141 .",
    "first , note that since the relationship between power and rate , @xmath18 , is monotone , stating that the rates increase monotonically is equivalent to stating that the powers increase monotonically .",
    "we follow steps similar to those in the proof of lemma  [ lemma : incrs ] to prove this lemma .",
    "assume that the rates do not increase monotonically , i.e. , that we can find two rates such that @xmath142 , with duration @xmath143 , @xmath144 , respectively .",
    "if @xmath145 , then , let @xmath146 since @xmath147 , @xmath148 , it is easy to verify that the new policy is feasible up to the end of @xmath144 , from both the data and energy arrival points of view . on the other hand , based on the convexity of @xmath149 , the energy spent over the duration",
    "@xmath49 is smaller than @xmath42 .",
    "if we allocate the saved energy over to the last transmission duration , without conflicting any energy or data constraints , the transmission will be completed in a shorter duration .",
    "if @xmath150 , then , we let @xmath151 then , from ( [ eqn : incr ] ) , under the new policy , the last bit will depart before the end of @xmath144 .",
    "the energy and data arrival constraints are satisfied over the whole transmission duration .",
    "consequently , the original policy could not be optimal .",
    "therefore , the optimal policy must have monotonically increasing rates ( and powers ) .",
    "[ lemma : const2 ] the transmission power / rate remains constant between two event epoches , i.e. , the rate only potentially changes when new energy is harvested or a new packet arrives .",
    "this lemma can be proved through a procedure similar to that in lemma  [ lemma : const ] .",
    "if power / rate is not constant between two event epoches , then , by equalizing the rate over the duration while keeping the total departures fixed , we can save energy .",
    "allocating this saved energy to the last transmission duration , we can shorten the whole transmission duration .",
    "thus , if power / rate is not constant between two event epoches , the policy can not be optimal .",
    "[ lemma : energy2 ] if the transmission rate changes at an energy harvesting epoch , then the energy consumed up to that epoch equals the energy harvested up to that epoch ; if the transmission rate changes at a packet arrival epoch , then , the number of packets departed up to that epoch equals the number of packets arrived up to that epoch ; if the event epoch has both energy and data arrivals at the same time , then , one of the causality constraints must be met with equality .",
    "this lemma can be proved through contradiction using techniques similar to those used in the proof of lemma  [ lemma : energy ] .",
    "when the transmission rate changes at an energy harvesting epoch , if the energy consumed up to that time is not equal to the total amount harvested , then , without conflicting the energy causality constraint , we can always increase the rate before that epoch a little and decrease the rate after that epoch a little while keeping the total departures fixed .",
    "this policy would save some energy which can be used to shorten the transmission durations afterwards .",
    "thus , the energy constraint at that epoch must be satisfied as an equality .",
    "the remaining situations can be proved similarly .    based on lemmas  [ lemma : incrs2 ] ,  [ lemma : const2 ] and  [ lemma : energy2 ]",
    ", we can identify the structure of the unique optimal transmission policy as stated in the following theorem . in order to simplify the notation",
    ", we define @xmath152 to be the time epoch when the @xmath3th arrival ( energy or data ) happens , i.e. , @xmath153 and so on , until the last arrival epoch .",
    "[ thm : struct2 ] for a given energy harvesting and packet arrival profile , the transmission policy with a transmission rate vector @xmath154 $ ] and the corresponding duration vector @xmath155 $ ] is optimal , if and only if it has the following structure : @xmath156 let @xmath157 be the index of @xmath158 associated with @xmath159 . then , with updated amount of bits and energy remaining in the system at @xmath160",
    ", @xmath161 is the smallest feasible rate starting from @xmath162 , and so on .",
    "the proof of this theorem is given in appendix  [ apdix : thm3 ] .",
    "for a given optimal transmission duration , @xmath5 , the optimal policy which has the structure in theorem  [ thm : struct2 ] is unique .",
    "however , since we do not know the exact transmission duration up front , we obtain a lower bound on @xmath5 first , as in the previous section . in this case",
    "also , we develop a similar procedure to find the optimal transmission policy . the basic idea is to keep the transmit power / rate as constant as possible throughout the entire transmission duration . because of the additional casuality constraints due to data arrivals , we need to consider both the average data arrival rate as well as the average power the system can support for feasibility .    if @xmath163 , i.e. , bits have arrived after the last energy harvest , then , all of the harvested energy will be used",
    "first , we assume that we can use these energies to maintain a constant rate , and the transmission duration will be the solution of @xmath164 then , we check whether this constant power / rate is feasible .",
    "we check the availability of the energy , as well as the available number of bits .",
    "let @xmath165 we compare @xmath166 with @xmath167 .",
    "if the former is greater than the latter , then the constant transmit power @xmath167 is feasible .",
    "thus , we achieve the minimum possible transmission completion time @xmath5 . otherwise , constant - power transmission is not feasible .",
    "we choose the transmit power to be the smaller of @xmath27 and @xmath168 , and the duration to be the one associated with the smaller transmit power .",
    "we repeat this procedure until all of the bits are transmitted .",
    "if @xmath169 , then , as in the first scenario where packets have arrived and are ready before the transmission starts , some of the harvested energy may not be utilized to transmit the bits . in this case also , we need to get a lower bound for the final transmission completion time .",
    "let @xmath170 be the energy harvesting epoch right after @xmath136 . then , starting from @xmath170 , we compute the energy required to transmit @xmath171 bits at a constant rate by @xmath152 , @xmath172 , and compare them with the total energy harvested up to that epoch , i.e. , @xmath173 .",
    "we identify the smallest @xmath3 such that the required energy is smaller than the total harvested energy , and denote it by @xmath111 .",
    "if no such @xmath111 exists , we let @xmath174 .",
    "now , we assume that we can use @xmath175 to transmit @xmath171 bits at a constant rate .",
    "we allocate the energy evenly to these bits , and the overall transmission time @xmath104 is the solution of @xmath176 and the corresponding constant transmit power is @xmath177 next , we compare @xmath27 with @xmath178 and @xmath179 for every @xmath180 . if @xmath27 is smaller than all of these terms , then , maintaining @xmath27 is feasible from both energy and data arrival points of view .",
    "the optimal policy is to keep a constant transmission rate at @xmath118 with duration @xmath104 , which yields the smallest possible transmission completion time , @xmath181 .",
    "otherwise , maintaining @xmath27 is not feasible under the given energy and data arrival realizations .",
    "this infeasibility is due to the causality constraints on either the energy or the data arrival , or both .",
    "next , we identify the tightest constraint , and update the transmit power to be the power associated with that constraint .",
    "we repeat this procedure until all of the bits are delivered .",
    "[ thm4 ] the transmission policy obtained through",
    "the algorithm described above is optimal .",
    "the proof of this theorem is given in appendix  [ apdix : thm4 ] .",
    "we consider a band - limited additive white gaussian noise channel , with bandwidth @xmath182mhz and the noise power spectral density @xmath183w / hz . we assume that the distance between the transmitter and the receiver is 1 km , and the path loss is about @xmath184db .",
    "then , we have @xmath185mbps .",
    "it is easy to verify that this function has the properties assumed at the beginning of section  [ sec : no_arri ] . for the energy harvesting process",
    ", we assume that at times @xmath186$]s , we have energy harvested with amounts @xmath187$]mj , as shown in fig .",
    "[ fig : example ] .",
    "we assume that at @xmath6 , we have @xmath188mbits to transmit .",
    "we choose the numbers in such a way that the solution is expressable in simple numbers , and can be potted conveniently .",
    "then , using our algorithm , we obtain the optimal transmission policy , which is shown in fig .",
    "[ fig : example ] .",
    "we note that the powers change only potentially at instances when energy arrives ( lemma  [ lemma : const ] ) ; when the power changes , energy consumed up to that point equals energy harvested ( lemma  [ lemma : energy ] ) ; and power sequence is monotonically increasing ( lemma  [ lemma : incrs ] ) .",
    "we also note that , for this case , the active transmission is completed by time @xmath189s , and the last energy harvest at time @xmath190s is not used .",
    "next , we consider the scenario where data packets arrive during the transmissions .",
    "we consider a smaller time scale , where each unit consists of @xmath191ms .",
    "we assume that at times @xmath192 $ ] , energies arrive with amounts @xmath193\\times 10^{-2}$]mj , while at times @xmath194 $ ] , packets arrive with equal size @xmath191kbits , as shown in fig .",
    "[ fig : example2 ] .",
    "we observe that the transmitter changes its transmission power during the transmissions .",
    "the first change happens at @xmath195 when energy arrives , and the energy constraint at that instant is satisfied with equality , while the second change happens at @xmath196 when new bits arrive , and the traffic constraint at that time is satisfied with equality .",
    "in this paper , we investigated the transmission completion time minimization problem in an energy harvesting communication system .",
    "we considered two different scenarios , where in the first scenario , we assume that packets have already arrived and are ready to be transmitted at the transmitter before the transmission starts , and in the second scenario , we assume that packets may arrive during the transmissions .",
    "we first analyzed the structural properties of the optimal transmission policy , and then developed an algorithm to obtain a globally optimal off - line scheduling policy , in each scenario .",
    "we will prove the necessariness and the sufficiency of the stated structure separately .",
    "first , we prove that the optimal policy must have the structure given above .",
    "we prove this through contradiction .",
    "assume that the optimal policy , which satisfies lemmas  [ lemma : incrs ] , [ lemma : const ] and [ lemma : energy ] , does not have the structure given above .",
    "specifically , assume that the optimal policy over the duration @xmath197 is the same as the policy described in theorem 1 , however , the transmit power right after @xmath198 , which is @xmath88 , is not the smallest average power possible starting from @xmath198 , i.e. , we can find another @xmath199 , such that @xmath200 based on lemma  [ lemma : energy ] , the energy consumed up to @xmath198 is equal to @xmath201 , i.e. , there is no energy remaining at @xmath202 .",
    "we consider two possible cases here .",
    "the first case is that @xmath203 , as shown in fig .",
    "[ fig : thm1_1 ] . under the optimal policy ,",
    "the energy required to maintain a transmit power @xmath88 over the duration @xmath204 is @xmath205 .",
    "based on ( [ eqn : pn ] ) , this is greater than the total amount of energy harvested during @xmath204 , which is @xmath206 .",
    "therefore , this energy allocation under this policy is infeasible .    on the other hand , if @xmath207 , as shown in fig .",
    "[ fig : thm1_2 ] , then the total amount of energy harvested over @xmath208 is @xmath209 .",
    "from ( [ eqn : pn ] ) , we know @xmath210 thus , under any feasible policy , there must exist a duration @xmath211 , such that the transmit power over this duration is less than @xmath88 .",
    "this contradicts with lemma  [ lemma : incrs ] .",
    "therefore , this policy can not be optimal .",
    "next , we prove that if a policy with power vector @xmath212 and duration vector @xmath213 has the structure given above , then , it must be optimal .",
    "we prove this through contradiction .",
    "we assume that there exists another policy with power vector @xmath214 and duration vector @xmath215 , and the transmission completion time @xmath216 under this policy is smaller .",
    "we assume both of the policies are the same over the duration @xmath197 , however , the transmit policies right after @xmath198 , which are @xmath88 and @xmath217 , with durations @xmath218 and @xmath219 , respectively , are different .",
    "based on the assumption , we must have @xmath220 .",
    "if @xmath221 , from lemma  [ lemma : energy ] , we know that the total energy available over @xmath222 is equal to @xmath223 . since @xmath220 , @xmath217 is infeasible over @xmath222 .",
    "thus , policy @xmath214 can not be optimal .",
    "then , we consider the case when @xmath224 . if @xmath225 , then",
    ", the total energy spent over @xmath222 under @xmath214 is greater than @xmath223 , since @xmath226 , and @xmath227 based on lemma  [ lemma : incrs ] . if @xmath228 , since the power - rate function @xmath36 is concave , the total number of bits departed over @xmath222 under @xmath212 is greater than that under @xmath214 .",
    "thus , policy @xmath214 can not depart @xmath7 bits over @xmath216 , and it can not be optimal .",
    "let @xmath5 be the final transmission duration given by the allocation procedure .",
    "then , we have @xmath229 . in order to prove that the allocation is optimal , we need to show that the final transmission policy has the structure given in theorem  [ thm : structure ] .",
    "we first prove that @xmath27 satisfies ( [ eqn : p_min ] ) .",
    "then , we can similarly prove that @xmath28 , @xmath81 , @xmath11 satisfy ( [ eqn : p_min ] ) .    we know that if @xmath230 , then it is the minimum possible transmission completion time . we know",
    "that this transmit policy will satisfy the structural properties in theorem  [ thm : structure ] . otherwise , the final optimal transmission time @xmath5 is greater than @xmath104 , and more harvested energy may need to be utilized to transmit the remaining bits . from the allocation procedure ,",
    "we know that @xmath231 in order to prove that @xmath27 satisfies ( [ eqn : p_min ] ) , we need to show that @xmath232    if we keep transmitting with power @xmath27 , then at @xmath233 , the total number of bits departed will be @xmath234 where the inequality follows from the assumption that @xmath23 decreases in @xmath22 .",
    "then , ( [ eqn : p1 ] ) guarantees that this is a feasible policy .",
    "thus , under the optimal policy , the transmission duration @xmath5 will be upper bounded by @xmath235 , i.e. , @xmath236 which implies @xmath237 if @xmath238 , as shown in fig .",
    "[ fig : thm2_1 ] , no future harvested energy is utilized for the transmissions .",
    "then , ( [ eqn : pt ] ) guarantees that ( [ eqn : p11 ] ) is satisfied .    if @xmath239 , as shown in fig .",
    "[ fig : thm2_2 ] , additional energy harvested after @xmath131 should be utilized to transmit the data .",
    "we next prove that ( [ eqn : p11 ] ) still holds through contradiction .",
    "assume that there exists @xmath240 with @xmath241 , such that ( [ eqn : p11 ] ) is not satisfied , i.e. , @xmath242 then , @xmath243 combining this with ( [ eqn : t ] ) , we have @xmath244 , which contradicts with the assumption that @xmath245 .",
    "thus , ( [ eqn : p11 ] ) holds , @xmath27 satisfies the requirement of the optimal structure in ( [ eqn : p1 ] ) .",
    "we can then prove using similar arguments that @xmath28 , @xmath81 , @xmath11 also satisfy the properties of the optimal solution .",
    "based on lemma  [ thm : structure ] , this procedure gives us the unique optimal policy .",
    "first , we prove that for the optimal transmission policy , @xmath159 must satisfy ( [ eqn : r1 ] ) .",
    "we prove this through contradiction .",
    "if @xmath159 does not satisfy ( [ eqn : r1 ] ) , then , we can always find another @xmath246 , such that @xmath247 first , we assume that @xmath248 .",
    "then , if @xmath249 , clearly @xmath159 is not feasible over the duration @xmath250 , because of the energy constraint . if @xmath251 , then , the transmitter can not maintain a transmission rate that is always greater than @xmath159 over @xmath252 , from the energy point of view .",
    "this contradicts with lemma  [ lemma : incrs2 ] .",
    "similarly , if @xmath253 , the `` bottleneck '' is the data constraint . we can prove that @xmath159 is not feasible .",
    "thus , @xmath159 must be the smallest feasible rate starting from @xmath6 , as in ( [ eqn : r1 ] ) .",
    "we can also prove that @xmath161 , @xmath254 , @xmath11 must have the same structure , in the same way .",
    "next , we can prove that any policy has the structure described above is optimal .",
    "we can prove this through contradiction .",
    "assume that there exists another policy with a shorter transmission completion time .",
    "based on lemmas  [ lemma : incrs2 ] and  [ lemma : energy2 ] , we can prove that this policy could not be feasible .",
    "first we prove that @xmath159 obtained through this procedure satisfies ( [ eqn : r1 ] ) .",
    "if @xmath230 , i.e. , the constant rate is achievable throughout the transmission , then it is the shortest transmission duration we can get , thus , it is optimal .",
    "if @xmath255 , from the procedure , we have @xmath256 we need to prove that @xmath257 considering the policy with a constant power @xmath258 , then , at @xmath233 , the total number of bits departed will be @xmath259 while at @xmath260 , the total energy required will be @xmath261 where the inequality follows from the assumption that @xmath23 decreases in @xmath22 .",
    "therefore , maintaining a transmission rate @xmath159 until the last bit departs the system is feasible from both the energy and data arrival points of view .",
    "thus , under the optimal policy , the transmission duration @xmath5 will be upper bounded by @xmath235 and @xmath262 , i.e. , @xmath263 which implies @xmath264 if no future harvested energy is utilized for the transmissions , ( [ eqn : pt2 ] ) guarantees that ( [ eqn : r1 ] ) is satisfied .    if @xmath265 , additional energy harvested after @xmath266 should be utilized to transmit the data .",
    "we next prove that ( [ eqn : r11 ] ) still holds through contradiction .",
    "assume that there exists @xmath240 with @xmath267 , such that ( [ eqn : r11 ] ) is not satisfied , i.e. , @xmath268 then , we have @xmath269 combining this with ( [ eqn : t2 ] ) , we have @xmath270 , which contradicts with the assumption that @xmath271 .",
    "thus , ( [ eqn : r11 ] ) holds , @xmath159 satisfies the requirement of the optimal structure in ( [ eqn : r1 ] ) .",
    "we can then prove using a similar argument that @xmath161 , @xmath254 , @xmath11 also satisfy the structure of the optimal solution .",
    "based on theorem  [ thm : struct2 ] , this procedure gives us the unique optimal transmission policy ."
  ],
  "abstract_text": [
    "<S> we consider the optimal packet scheduling problem in a single - user energy harvesting wireless communication system . in this system , both the data packets and the harvested energy are modeled to arrive at the source node randomly . </S>",
    "<S> our goal is to adaptively change the transmission rate according to the traffic load and available energy , such that the time by which all packets are delivered is minimized . under a deterministic system </S>",
    "<S> setting , we assume that the energy harvesting times and harvested energy amounts are known before the transmission starts . for the data traffic arrivals , we consider two different scenarios . in the first scenario , we assume that all bits have arrived and are ready at the transmitter before the transmission starts . in the second scenario , we consider the case where packets arrive during the transmissions , with known arrival times and sizes . </S>",
    "<S> we develop optimal off - line scheduling policies which minimize the time by which all packets are delivered to the destination , under causality constraints on both data and energy arrivals . </S>"
  ]
}