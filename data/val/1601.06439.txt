{
  "article_text": [
    "nearly every work on image tagging to date has treated the tags that accompany an image as a bag - of - words with no inherent ordering , most especially works which use the nearest neighbor approach for tagging . some recent work @xcite , has shown that this bag - of - words assumption is actually not the reality .",
    "they show that if a user is asked to tag an image with a fixed set of tags multiple times , the order of the tags they choose tends to stay the same rather than random .",
    "more so , a recent design change on flickr  @xcite that reversed the users tag input ordering created a backlash from the community that caused flickr to revert back to the original design with the following apology : `` we thought it would be more intuitive for newest tags to appear at the top , so that when you add a tag and refresh , it s in the place you expect it .",
    "however , thanks to your points about meticulous tag ordering , we ve decided we should leave it as is .",
    "you should now see your tags in the correct order '' @xcite .",
    "these insights lead us to believe that tag ordering is inherently personal , and should be incorportated into tagging systems . hence",
    ", we propose a new model that seeks to exploit the history of a user s tag order to improve personalized image tagging .",
    "we also compare the same model which instead treats tag order as a global phenomenon , and show that indeed such a model underperforms the personalized ordering model significantly .",
    "there has been a lot of work in the area of automatic image tagging @xcite , much of which has treated tagging as more of a labelling problem , thereby implicitly imposing that tagging is a global task rather than a user - specific task .",
    "most notably the work by li et al .",
    "@xcite has tried to treat the tagging problem from the point of view of personalization by using a cross - entropy method to decide how to weight different image tagging functions for each user .",
    "there has been work seeking to tag based on object importance , but there the focus has been an explicitly categorical approach to importance by measuring properties of objects in the image ( eg , size , salience ) to estimate their relative importances @xcite . these object - property based approaches to importance typically ignore particular user preferences , and treat importance as a global phenomenon @xcite .",
    "nearest neighbor approaches are usually more common than their explicit classification counterparts in tagging because one does not have to learn how to recognize or detect specific objects in the image , which is not scalable , nor are all concepts one would like to describe an image visual @xcite . in many cases , an initial set of tags for a given query image is provided and the aim is to refine or propagate these tags through some , similarity measure ( image , user , or tag co - similarity ) @xcite . whereas their goal is to create global tags from other tags , our goal is to find the words most suitable to describe an image for specific individuals .",
    "there has also been some work that looks at the recommendation perspective @xcite , with  @xcite having an explicit goal of personalized tagging .    in this work",
    ", we employ the nearest neighbor approach to tagging because we would like to use a relatively large tagging vocabulary , which introduces scalability issues with the explicit / classification approaches , and we also do not want to restrict our vocabulary to words that describe concrete visual concepts .",
    "instead we would like to have more abstract tags because we are primarily interested in personalized tagging . finally , we also do not want to consider tag importances solely on a global scale , but per user preference .",
    "in this section we discuss our model for the tagging behavior of users and derive an objective function based on the model of tagging behavior .",
    "we then discuss a practical representation of this model and how it relates to other known problems .",
    "the main assumption , following the claims from  @xcite , is that given an image , the order that users present tags to an online tagging system , say flickr @xcite , implies an underlying preference order for those tags . for example , if a user presents the tags @xmath0 in that order , it would imply that for that image , the user found it more preferable ( or important ) to mention @xmath1 before @xmath2 , @xmath1 before @xmath3 , and @xmath2 before @xmath3 .",
    "our main idea is that with enough observed instances of pairs of tags mentioned together by a particular user , we can estimate these implicit biases , and in turn improve the task of automatic image tagging for new images on a personal level .",
    "our main tagging goal is to output a list of tags for an image in order of preference for the target user . to that end ,",
    "given a set of pairwise tag - preferences ( as probabilities ) for a given user and a query image , we want to find the ordering of candidate tags ( generated by some baseline tag generator ) , for that query image , that is maximal .",
    "details are provided in the supplementary appendix .      for the objective described above ,",
    "we represent the tag - preferences as probabilities .",
    "that is , @xmath4 is the strength of preference for tag @xmath5 over tag @xmath6 .",
    "we estimate this quantity as the number of times @xmath5 occurs before @xmath6 , divided by the number of times they occur together , regardless of order .",
    "this allows for anti - symmetry : @xmath7 . in this representation",
    ", @xmath8 implies there is no preference .",
    "also note the we only need to keep track of the strongest preference ( either @xmath4 , or @xmath9 , but not both ) .      to maximize our tagging objective",
    ", we came up with a modified version of the topological sort algorithm .",
    "since we can represent the preferences as directed edges with weighs as the probabilities , we can use topological sort  @xcite to produce an ordering that is faithful to these preferences .    to deal with cycles , which are assumed not to exist for the topological sort algorithm to work ,",
    "when we find a cycle , we delete the edge of least strength . under certain mild conditions ,",
    "this is guaranteed to still be optimal .",
    "also , since there could be multiple correct topological sort orderings , in order to break ties , we use a baseline ordering of the candidate tags ( gotten from the baseline tag generator as mentioned in section [ model : objective ] ) , as we run the modified topological sort algorithm , whenever there is an ambiguous ordering .",
    "details and proofs of claims made here are provided in the appendix .",
    "in this section , we will discuss how we go about verifying our model , from the choice of the dataset , choice of baseline and choice of evaluation metric .      for this work we chose to work with the nus - wide dataset @xcite .",
    "the nus - wide dataset is a subset of 269,648 images from flickr . for each image in the dataset , we know , via the flickr api , the corresponding user that uploaded that image , and the sequence of tags that user chose to annotate the image with . since we are particularly concerned about personalization , we only select images from this database which satisfy the following criteria : the users who uploaded the image must have at least 6 images in this dataset , similar to the setting in @xcite .",
    "this results in about 91,400 images from 5000 users .",
    "we split this dataset into a training and test partition , by randomly assigning half of each users images to the training , and half to the test set . for each image",
    "we only retain the tags that occurred frequently enough across the dataset , in order to make some sort of meaningful inference on the tags . in this work",
    ", we made the design choice of working with tags that occurred at least 50 times in the dataset .",
    "this results in a vocabulary of @xmath10 unique tags .      as we mentioned in section",
    "[ sec : related ] , we go the nearest neighbor route for the task of image tagging . to that end our image features are a 500-d bag of words based on sift descriptors @xcite , and we use the euclidean distance between feature vectors to encode the notion of closeness or similarity .      we take as our baseline the work of li et al .",
    "@xcite , which we considered the reproducable state of the art for _ personalized _ image tagging and evaluated their claims on the nus - wide dataset as well .",
    "their main idea is that for a given tag , each user has 2 weighting variables , one weighting how much to rank that tag according to its frequency independent of visual content , and the other how much to rank the frequency of the tag according to its frequency in visually similar images .",
    "we re - implemented their method using the two tagging functions described in their paper ( _ personalpreference _",
    "@xcite function and _ _",
    "visual__@xcite function ) . for the visual features ,",
    "we also use the 500-d bag of words based on sift descriptors for consistency .    for a given image query @xmath11 , we define the ordered set of tags returned by the baseline method as @xmath12 .",
    "since our assumption is that the order that a user tags an image important for automatic tagging , our metric should take the groundtruth user order into account .",
    "more concretely , given an ordered set of tags,@xmath13 , we define the relevance of each tag according to it s reciprocal rank in the ordered set : @xmath14 tags not in the groundtruth ordered set have zero relevance .",
    "more common metrics , such as precision , recall , and average precision , assume that all tags are equally relevant , so we do not utilize these metrics in this paper .",
    "instead we use the more appropriate _ normalized discounted cumulative gain _ ( ndcg ) , a common metric used in evaluating search engine results . for an ordered set @xmath15 , such that @xmath16 , we define the dcg with respect to the ground - truth as :    @xmath17    this metric is called _ discounted _ because the later we include a tag in our ranking , the less gain we get from it ( i.e. its relevance is discounted by the inverse of the log of its position in the ranking , not the groundtruth ) .",
    "note that this metric is maximal when the most relevant items are listed first .",
    "we also define for a given ranked list , @xmath18 , its ideal ranking @xmath19 , such that for @xmath20 , if @xmath21 , then @xmath22 in the groundtruth ( i.e. , the ideal ranking is ranked from most relevant to least ) .",
    "then the normalized dcg is defined as : @xmath23    note that the ndcg is maximal ( equal to 1 ) when @xmath24 .",
    "we can also parameterize the dcg , and ndcg to calculate the @xmath25 and @xmath26 .",
    "that is , calculate the metrics evaluated only for the first @xmath27 entries of the ranked lists .",
    "let @xmath28 $ ] be the first k entries of @xmath18 , then : @xmath29)}{dcg(\\bar{\\sigma}(t)[:k])}\\ ] ]",
    "given a query image @xmath11 from the test set , we find the @xmath30 nearest neighbors ( visual similarity ) from the training set , and given some initial rank @xmath31 on the set of tags used to describe these @xmath30 visually similar images , we find optimal ranking , @xmath32 , as described in section  [ model : objective ] , using the preference probabilities derived from the training set according to section  [ model : parameter_estimation ] .",
    "we set the baseline order of candidate tags as @xmath33 , which is the result of our baseline ( and the current state - of - art for personalization ) given the query @xmath11 , from section [ exp : baseline ] .      in evaluating our approach",
    ", we made a few design decisions which are parameters in our model .",
    "the first is the minimum number of times tags @xmath5 and @xmath6 occur together , which we denote as @xmath3 .",
    "if any pair of tags do nt co - occur at least @xmath3 times , we do not have a high confidence in the order bias that we estimate from the occurrences because of noise and overfitting . the second which we denote as @xmath34 is the minimum strength factor between a pair of tags .",
    "that is , we ensure that , @xmath35 , for @xmath4 to be an edge to be considered by the prioritizedtoposort .",
    "the purpose of these parameters is to control for noise and overfitting to insufficient data .      in this section ,",
    "we describe the tests with which we evaluate our method . for the evaluation metrics discussed in section [ exp :",
    "metrics ] , we run evaluations under the following settings :    * number of visually similar neighbors : @xmath36 * minimum co - occurrence , c : @xmath37 * minimum strength factor , r : @xmath37    we compare our performance ( personalized pairwise preference ) , to the state - of - art  @xcite , and also to global pairwise preferences .",
    "global pairwise preferences is similar to what we have proposed so far in this paper with the exception of ignoring the users , so the images are treated as though they all come from the `` average user '' .",
    "we provide evaluation for our metrics on entire ranks , and also the top @xmath27 tags in the rank for @xmath38 .",
    "we show the mean performance averaged both over each image ( included in the appendix ) , and also average across its mean performance per user since we are interested in personalization .",
    "we also calculate the number of times our approach produces better rankings ( in terms of ndcg ) , than the baseline , and the number of times a user prefers our approach on average over the baseline .",
    "we report these numbers in table [ tab : duels ] .",
    ".average ndcg percentage improvement over the baseline using pairwise personal preferences [ cols=\"<,^,^\",options=\"header \" , ]     from  [ fig : usr_ndcg_all ] and [ fig : ndcg_k_usr ] , we notice that our algorithm which personalizes via pairwise tag preferences ( red bar / line ) always outperforms the state - of - the - art baseline @xcite ( blue bar / line ) .",
    "[ fig : usr_ndcg_all ] shows this increase in performance for all parameters @xmath34 ( the minimum strength factor described in section [ res : design_dec ] ) , and @xmath3 ( the minimum number of co - occurrences ) , that we considered .",
    "we notice that holding @xmath3 constant as the parameter @xmath34 increases , the performance of our personalization method decreases .",
    "this is likely due to a lack of enough data per user so that very few tag pairs can meet our relatively aggressive over - fitting criteria .",
    "the same trend is noticed when we hold @xmath34 constant and increase @xmath3 .",
    "we also evaluate the performance of the global ( or `` average user '' , yellow bar / line ) , pairwise preferences , and we see that enforcing pairwise orders based on a global / average notion of preference actually degrades the performance . except for @xmath39 , the @xmath40 metric for the global preferences is worse than the baseline .",
    "this might be because , users tend to use more global / popular tags in the beginning of their ranked lists , so that we are actually able to learn with enough data , certain global biases among the popular tags .",
    "beyond that , because users tag differently , enforcing a global preference is actually counterproductive .",
    "we also observe the reverse trend as we fix @xmath3 and vary @xmath34 ( and vice - versa ) to that of the personal preferences .",
    "this is because to estimate global preferences we need to observe a lot more data than for a single user , and so estimating for pairs without a lot of co - occurrences will invariably lead to over - fitting .",
    "[ fig : ndcg_k_usr ] , shows the @xmath40 as @xmath41 varies under the best choices of parameters @xmath34 and @xmath3 , for both the global and personal preferences .",
    "the best choices for the global were , @xmath42 , and for the personal , @xmath43 .",
    "we see , averaging over both users and images(included in the appendix ) , that the baseline outperforms the global ( except at @xmath39 ) , and the personal outperforms the baseline .",
    "these observations imply that picking lower parameters is usually better for the personal preferences , while higher values of @xmath34 and @xmath3 are necessary for the global preferences to be useful .",
    "table [ tab : avg_stats ] shows that our method on average is @xmath44 better than the baseline method , and this improvement goes up to about @xmath45 , for @xmath46 , as can be seen from figure  [ fig : ndcg_k_usr ] .",
    "the above observations are true for both the average across all the images in our test set , and across all the users mean @xmath47 .",
    "this shows that the gains we get are relatively consistent for each user .",
    "this combined with the fact that the global pairwise preferences under - perform , imply that true personal pairwise preferences indeed exist , can be estimated , and can be used to improve the performance of automatic image tagging .",
    "we include more detailed plots in the supplemntary appendix .",
    "in this work we proposed a new measurement of tag preferences , and demonstrated that there is indeed a tag - order bias , that is , when a user mentions tag @xmath5 before tag @xmath6 , in a list of tags for a given image , the user is implying that he prefers , or considers @xmath5 to be of greater importance than @xmath6 .",
    "we showed that this bias can be learned from historical data using the maximum likelihood estimate based on a pair s co - occurrence , and subsequently showed that such information can be exploited to improve the performance of current state - of - art automated image tagging systems .",
    "we also defined a new tagging objective function that assumes the inherent pairwise bias between tags , and provided an algorithm which optimizes the new objective ( under some mild conditions ) , and helped verify our claims and assumptions .",
    "this leads us to conclude that although there are many visual factors that may affect what tags a user will provide for an image , it is useful to characterize instead ( or rather in conjunction ) the users tagging habits to learn what tags are of more importance to the users , whether they are visually motivated or not , and automatic tagging systems should employ this technique to improve their overall performance .",
    "we believe that there are several ways that this work could be extended or extend other works .",
    "one direction we see is working on algorithms that provide tight guarantees for solving our tagging objective , or even solves it optimally , even in the presence of dependent cycles .",
    "another direction comes from the observation that most tag pairs never occur , but it may be possible to learn a function that maps a pair of tags to a real number indicating the direction and strength of the preference",
    ". it would also be interesting to see how the assumptions made in this paper can be used to extend the works on learning for personalized ranking @xcite .",
    "we think it would also be interesting to explore the cognitive dimensions that drive tag ordering , and how these cognitive dimensions contribute to the tagging choices both independently and collectively ."
  ],
  "abstract_text": [
    "<S> what makes a person pick certain tags over others when tagging an image ? does the order that a person presents tags for a given image follow an implicit bias that is personal ? can these biases be used to improve existing automated image tagging systems ? we show that tag ordering , which has been largely overlooked by the image tagging community , is an important cue in understanding user tagging behavior and can be used to improve auto - tagging systems . </S>",
    "<S> inspired by the assumption that people order their tags , we propose a new way of measuring tag preferences , and also propose a new personalized tagging objective function that explicitly considers a user s preferred tag orderings . </S>",
    "<S> we also provide a ( partially ) greedy algorithm that produces good solutions to our new objective and under certain conditions produces an optimal solution . </S>",
    "<S> we validate our method on a subset of flickr images that spans 5000 users , over 5200 tags , and over 90,000 images . </S>",
    "<S> our experiments show that exploiting personalized tag orders improves the average performance of state - of - art approaches both on per - image and per - user bases .    </S>",
    "<S> ordered tags , personalized tagging , user behavior , personalization , tag preferences </S>"
  ]
}