{
  "article_text": [
    "with the decision on the accelerator technology to be used for a future international linear collider ( ilc ) , detector r&d can become more focused .",
    "the time - line for an r&d programme is also clearer with , assuming a technical design report to be written by 2009 , three years to define the make - up of a given sub - detector . within the calice collaboration , which is designing a calorimeter for the ilc ,",
    "a collection of uk groups ( calice - uk ) are part of the initial effort to prototype a calorimeter composed of silicon and tungsten  @xcite .",
    "the electromagnetic section of the calorimeter ( ecal ) has been taking test - beam data at desy and cern in 2006 .",
    "the uk has designed and built electronics to readout the ecal  @xcite - these are also now being used by the analogue hadronic calorimeter - and is taking part in the current data - taking period . building on this expertise",
    ", calice - uk has defined an r&d programme .",
    "a significant part of this programme is the design of the data acquisition ( daq ) system for a future calorimeter .    in the work",
    ", daq equipment will be developed which attacks likely bottlenecks in the future system and is also sufficiently generic to provide the readout for new prototype calorimeters , such as the prototype to be built in the eudet project  @xcite .",
    "the main aim is to start an r&d programme which will work towards designing the _ actual _ daq system of the future calorimeter .",
    "alternative designs of a daq system which could affect the layout of the final detector or functionality of components are also considered .",
    "the concept of moving towards a `` backplaneless '' readout is pursued .",
    "a strong under - pinning thread here is to attempt to make use of commercial components and identify any problems with this approach .",
    "therefore the system should be easily upgradable , both in terms of ease of acquiring new components and competitive prices .",
    "this note is organised as follows .",
    "the parameters of the superconducting accelerator design and calorimeter structure and properties which impinge upon considerations of the daq system for a calorimeter are discussed in section  [ sec : param ] .",
    "the main body of the note in section  [ sec : design ] discusses the daq design and proposes areas of r&d within it .",
    "the work is will investigate the three principal stages of the daq system : the connection along the calorimeter module ; the connection from the on- to off - detector ; and the off - detector receiver . in section  [ sec : model ] a model daq system for the final ecal is proposed .",
    "this necessarily makes many assumptions but gives an idea of the scale of the system involved : it can also be the start of an initial costing .",
    "the note ends with a brief summary in section  [ sec : summary ] .",
    "the programme detailed below will allow calice - uk groups to continue to assist in development of new technologies for the daq system .",
    "we would expect to write a chapter in the future technical design report on the daq system for the calorimeter .",
    "for the final calorimeter , the daq should ideally be the same for the ecal and hcal .",
    "although calice - uk has so far concentrated on the ecal , our proposals for r&d contained in this document are sufficiently generic that both calorimeter sections should be able to converge to use the daq system we design .",
    "this will place us in a position to build the daq system for future large - scale prototype calorimeters ( e.g. eudet ) and the final system .",
    "indeed the principle of a generic design using commercial components should be applicable to many detector sub - systems .",
    "therefore , the r&d to be performed here may have consequences or applications to the global daq system for a future detector .",
    "the design  @xcite for a calorimeter for the ilc poses challenges to the daq system mainly due to the large number of channels to be read out .",
    "the tesla design  @xcite for a sampling electromagnetic calorimeter is composed of 40 layers of silicon interleaved with tungsten .",
    "the calorimeter , shown in fig .",
    "[ fig : cal ] , has eight - fold symmetry and dimensions : a radius of about 2 m , a length of about 5 m and a thickness of about 20 cm .",
    "mechanically , the calorimeter will consist of 6000 slabs , of length 1.5 m , each containing about 4000 silicon p - n diode pads of 1@xmath41cm@xmath2 , giving a total of 24  million pads .",
    "more recent designs for the detector collaborations consider fewer layers , 29 for ldc  @xcite and 30 for sid  @xcite , and also smaller pad sizes of 5@xmath45mm@xmath2 , or even 3@xmath43mm@xmath2 .",
    "a generic scenario for the daq system is as follows . at the very front end ( vfe )",
    ", asic chips will be mounted on the pcbs and will process a given number of pads .",
    "the asics will perform pre - amplification and shaping and should also digitise the data and _ may _ even apply a threshold suppression .",
    "the current design  @xcite of such chips has each containing 64  channels , although this may be higher in the final calorimeter .",
    "the asic power consumption has to be minimised as they are difficult to cool due to the small gaps between layers which are required to take advantage of tungsten s molire radius .",
    "the data will be digitised in the asic and transferred to the front - end ( fe ) electronics which are placed in the detector at the end of the slab as shown in fig .",
    "[ fig : cal ] .",
    "it is expected that zero suppression will be done in the fe ( using fpgas ) to significantly reduce the rate .",
    "the data will then be transferred off the detector , probably via a network switch , to a receiver of many pci cards in a pc farm .",
    "if we assume the tesla design for data taking at 800  gev , the following parameters have to be considered .",
    "there will be a 4886 bunch crossings every 176  ns in a bunch train , giving a bunch train length of about 860  @xmath6s .",
    "the bunch train period is 250  ms , giving a duty factor between trains of about 0.35% .",
    "the ecal is expected to digitise the signal every bunch crossing and readout completely before the next bunch train . in a shower ,",
    "up to 100  particles / mm@xmath2 can be expected , which in a 1@xmath41  cm@xmath2 pad equates to 10000 minimum ionising particle deposits .",
    "the adc therefore needs a dynamic range of 14  bits .",
    "assuming no threshold suppression and that 2 bytes are used per pad per sample , then the raw data per bunch train is @xmath7  4886  @xmath4  2  =  250  gbytes which equates to 0.3 - 2.5  mbytes for each asic depending on whether they process between 32 and 256 channels .",
    "the data appears within a bunch train length of 860  @xmath6s giving a rate out of the asic of 0.4 - 3  gbytes / s , which we take to be 1  gbytes / s from now on .",
    "threshold suppression and/or buffering ( to allow readout between bunch trains ) within the asic could reduce this rate",
    ". however , suppression in the asic may not be flexible enough compared with doing this in the fe and buffering requires some asic power to remain on between bunch trains , potentially generating too much heat .",
    "hence the rates after the vfe depend on the assumptions made and system layout and will be discussed for each individual case where necessary .",
    "the transmission of digitised data from the asic is very heavily influenced by what can be done within the slab given the low heat - load requirements due to the difficulties of cooling .",
    "it is not yet known what the capabilities of the vfe asic will be , so various possibilities were considered .    in general , somewhere in the readout system , there will have to be an adc and a threshold discriminator .",
    "these tasks could in principle be performed in either order and could be done in the vfe or in the fe .",
    "there is also the possibility of buffering events in either the vfe or fe .",
    "this would allow the data to be read out between bunch trains rather than bunch crossings .",
    "this entails a dramatic decrease in the rate of read out due to the large spacing between bunch trains .",
    "there is then a matrix of possibilities , with some number of the functionalities , adc , thresholding and buffering , being done in the vfe or fe .",
    "below the four possibilities are considered for the adc and thresholding , and also the buffering in the vfe .    1 .",
    "neither adc nor thresholding is done in the vfe 2 .   only the adc is done in the vfe 3 .   only the thresholding is done in the vfe 4 .",
    "both are done in the vfe 5 .",
    "buffering done in the vfe    we consider that threshold discrimination is best done after the adc step rather than before .",
    "this allows much easier monitoring the pedestals and noise , etc .",
    ", by allowing some readout at a low rate even when below the threshold .",
    "in addition , setting a stable analogue threshold is not easy ; any drifts will change the level .",
    "the uniformity over all channels might not be good enough which would then require a large number of trim dacs .",
    "\\1 ) if neither an adc or threshold discriminator is built into the vfe asic ( due to them taking too much power ) , then the raw analogue signals will be sent out to the fe .",
    "this is 2k analogue channels which require around 14 bits precision , which is not trivial to achieve .",
    "even if this can be done , digitising the data at the fe would be hard .",
    "the space is limited and so it is likely only a restricted number of adcs could be mounted in this area .",
    "assuming 20 channels of adcs would be possible , then each would have to handle 100 pads , with these being multiplexed in turn into the adc . to keep up with",
    "the sampling rate needed , i.e. 176  ns for each channel would therefore require the adcs to sample at 1.76  ns .",
    "finding a 14-bit fadc which can do this would not be easy .",
    "the alternative would be to use an analogue pipeline ; assuming one for each of the 20  adc channels would result in each pipeline storing about 500k analogue samples which is difficult .",
    "putting an analogue threshold in front of the adcs would clearly cut the rate down but would need a major asic development to handle this ; a variable length analogue pipeline with time - stamps would be needed .",
    "this is in addition to the pedestal monitoring problems mentioned above .",
    "\\2 ) only doing the adc on the vfe seems a much more reasonable option .",
    "the 14-bit requirement is much easier to achieve with a short signal path before the adc .",
    "the digitised data can be transmitted from the vfe to the fe more easily than analogue data .",
    "the rates are not trivial however ; these would be around 50  gbyte / s per slab , or 1  gbyte / s from each wafer / asic .",
    "this is at the level where a fibre would be needed ; commercial fibres now carry 5  gbytes / s .",
    "fibres are also less noisy than copper",
    ". this use of fibres within the slab would raise many other issues such as the power needed to transmit the light out ( or could it be supplied by an external laser and then only modulated on the asic ) , how to reliably attach the fibres at each end ( a total of 300  000 fibres would be needed for 6000 slabs each with 50 asics ) , how large the fibre connectors would be ( the total thickness within the slabs is limited to some mm only ) , etc .. although this is an active area of commercial development , it is not clear if opto - electronic intra - pcb communications will become standard enough on the time - scale needed  @xcite .",
    "it is clear some development would be needed for this to be an option ; the equivalent system in atlas has three fibres transmitting a total of 10  mbytes / s with a 2  mm high connector needed .",
    "self - aligning silicon - fibre interfaces are possibilities ; while we could not do significant r&d compared with the commercial sector , we could test industrial prototypes and do r&d in conjunction with industry .",
    "once the data are on a fibre direct from the asic , the idea of whether any fe electronics would be needed at all was raised , as the fibre would go 10s of metres , bypassing the fe completely .",
    "however , shipping out all the raw data to the offline seems an expensive overkill , but is considered as this may change with commercial development .",
    "\\3 ) only doing the threshold in the vfe suffers from the same problems as mentioned above ; there is a difficulty of monitoring the pedestals as well as the complexity of the asic needed to handle the channels .",
    "\\4 ) doing both adc and threshold in the vfe places the easiest requirements on the fe , with a corresponding increase in difficulty for the vfe . assuming the threshold is applied after the adc , some communication of the threshold and other configuration data from the fe to the vfe will still be needed .",
    "the data rate out is clearly reduced ; it would be around 400  mbytes / s for the slab , or 20  mbytes / s for each wafer / asic .",
    "although easiest for transferring data from the vfe to fe , due to the low rates , it is not clear if the threshold can be reliably applied in the vfe .",
    "this scenario also looks like the situation if the monolithic active pixel sensors ( maps ) technology - essentially a digital calorimeter - were used rather than silicon diodes . for the diode option in this scenario ,",
    "it is also questionable as to whether significant fe electronics logic is needed .",
    "as the asic performs both adc and threshold suppression , the data could be transferred directly off the detector .",
    "\\5 ) it is generally assumed that buffering in the fe is possible , with large amounts of memory available in modern fpgas .",
    "however , the issue of buffering in the asics is more technically challenging .",
    "the challenges for such a procedure are having a large enough memory integrated into the asics and the keeping the power low whilst the data is being read out between bunch trains .",
    "the advantages are clear : the rate of transmission from the asic to the fpga is reduced by about two orders of magnitude . for the proposed electrical connections along the board",
    "this will ease the transmission significantly .",
    "we , therefore , propose r&d for two scenarios where only the adc is done in the vfe and where the adc and thresholding are done in the vfe , both coupled with buffering in the vfe because they provide realistic solutions and have complementary applications . in favour of only performing the adc , any threshold suppression can be performed more accurately in the fpga at the fe rather than in the vfe . when thresholding is also done in the vfe along with the adc ,",
    "the data transfer rate from the vfe and fe is significantly smaller .",
    "a schematic of scenario 2 ) is shown in fig .",
    "[ fig : vfe - to - fe ] .       in both scenarios ,",
    "we intend to set - up a mock data transfer system which requires having a test board with fpgas linked by fibres .",
    "this will simulate a link between the vfe asics and the fe fpgas .",
    "any developed system e.g. a new vfe chip design or the maps set - up could also be tested in our prototype system .",
    "we will also demonstrate that the system would work for the hadronic calorimeter as well as the ecal .",
    "this would require modifying the system to have a more links but a lower rate .",
    "the prototype will incorporate , wherever possible , commercially available components such as virtex-4  fpgas  @xcite which has multi - gigabit serial transceivers and is compatible with 10/100/1000 mbit / s ethernet and pci express x16 and higher .",
    "the final chip should have around 64 channels and would be embedded inside the detector .",
    "the adc(s ) should be included in the chip in order to output digital data serially at high rate ( typically 1 - 2gbit / s ) .",
    "the daq would thus look more like `` an event builder '' than a traditional daq .",
    "it would perform the data reformatting ( from `` floating '' gain + 10bit to 16 bit ) , calibration , possibly linearisation and some digital filtering .",
    "it is possible that at this level , some event processing will be performed .",
    "the other task of the daq is to load all the parameters needed by the front - end , control the power cycling and run the calibration .",
    "these specifications fit in well with our current generic system .",
    "the current version of the vfe asic chip  @xcite is being used to read out the existing calice ecal .",
    "this chip does not meet the requirements for the ilc ecal and the development of the design is an ongoing project in lal / orsay  @xcite . in the next 12  years",
    ", it is expected to have a version of such a chip with low enough power and noise that would serve as a realistic prototype .",
    "this asic is expected to have ( at least ) 32  channels , an internal adc per channel , multiple gain ranges , and optional threshold suppression and digital buffering to reduce the required output rate .    instead of using silicon diodes ,",
    "the feasibility of using the maps technology is to be investigated  @xcite .",
    "the use of this technology would also have an impact on the design of the daq system . here",
    ", there would be no adc and a threshold has to be applied on the wafer , by definition . the data rate for a final detector would be 3  gbytes / s per slab , or 150  mbytes / s per wafer , which is low enough for non - fibre communication .",
    "if threshold suppression or buffering could be done in the vfe asic , the rate to the fe would be reduced by two orders of magnitude .",
    "current designs can not do this and it may not even be desirable or practical , so we have to allow for data rates of order gbyte / s needing to be transferred out of each vfe asic during the bunch train . whether an electrical or optical connection would be needed has to be investigated .",
    "although chip - to - chip fibres are not yet standard technology , this is an active area of industrial research  @xcite .",
    "issues of how the data would be transported from the vfe to fe have to be considered and can be done already without a real prototype .",
    "transporting of order gbyte / s of data over 1.5 m in a very limited space is a challenge . the conventional approach would be to use copper but here the effects of noise and interference",
    "will have to be considered .",
    "there is also the possibility of using optical fibres although here there are also design considerations : the size of connectors would have to be investigated as the vertical clearance at the vfe is of the order of mm and the power needed to transmit light out would also need to be investigated .",
    "this work ties in closely with the mechanical and thermal aspects of the design .    in preparation for a real prototype",
    ", a test system will be built with a 1.5  metre pcb containing fpgas linked optically or electronically .",
    "the data transfer would then be considered as a function of the number of vfes , whether zero suppression is done in the vfes and whether data is buffered during the bunch train .",
    "the bandwidth and cross - talk of the data transfer can be simulated using cad tools .",
    "the clock and control distribution from the front - end to the vfe chips can be investigated as to whether one transmission line per chip is needed or multi - drop is possible .      in this section ,",
    "we consider two widely differing scenarios , ( shown in figure  [ fig : data_topol ] ) :       * standard configuration * + in our assumed standard detector configuration , communication from the vfe will pass via the electronics at the fe to an off - detector receiver .",
    "we assume that threshold suppression will be done at the fe , and hence the rate would be significantly reduced from that at the vfe . assuming that the rate is reduced to 1% of the original data volume of 250gbytes per bunch train and each sample above threshold needs a channel and timing label , the total data volume to be read out from the calorimeter is about 5gbytes or about 1mbyte per slab .",
    "these data have to be read out within a bunch train period of 250ms , giving a rate of 5mbytes / s .    * alternative configuration * +",
    "here we imagine that the fe is removed and the communication is directly from the vfe to the off - detector .",
    "we assume that the asic only digitises the data and 250gbytes has to be transported off the detector per bunch train .",
    "this will require a high - speed optical network .",
    "it should be noted , however , that the need for fe electronics also becomes questionable if more processing is done on the asic chip , such as threshold suppression .",
    "in such a scenario , transporting the data directly from the asic off the detector could be done and so the fe would become redundant .",
    "the number of fibres required to read - out the 24  million channels would vary between 750000 to about 90000 depending on whether the asic handles 32 or 256 channels . if we assume that the diameter of a fibre is 150@xmath6 m , or with cladding 250@xmath6 m then if half of the circumference of 12 m had fibres running along it , the bundle would be up to 1 cm in depth , but could be as little as 1 mm , depending on the number of asics and hence fibres .",
    "this would leave ample room for other cables and power supplies .",
    "this concept would revolutionise the whole calorimeter design and so needs to be considered now when changes in its general structure could be considered .",
    "our research in this area will provide important feedback to groups designing the asic chips .",
    "the off - detector receiver , as described later , is assumed to consist of pci cards housed in pcs .",
    "the reliability of large pc farms is an issue for reading out the data ; if one pc goes down , all of the data in that region of the calorimeter is lost .",
    "current pc farms show a rate of 1 pc failure per day in a farm of 200 .",
    "this is not large but is also not small and would require some surplus of pcs ( say 10% ) above the number required based just on the number of detector channels . for a final working calorimeter readout system",
    "these pcs would need to be repaired and put back into the system on a regular basis .",
    "the standard scenario would require less high - speed equipment off the detector , whereas the alternative would require many optical fibres with dedicated optical switching .",
    "the alternative scenario would , however , remove material from inside the detector which would ease construction and have a potentially advantageous impact on event reconstruction and , hence , physics measurements .",
    "it would also reduce the number of processing components within the detector which could be attractive since they would be inaccessible for long periods of time .    using the experience gained from the two scenarios above ,",
    "a hybrid path can be explored . by optimising the functionality in the vfe and matching it to an fe",
    ", overall instantaneous data rates can be reduced as well as lowering fibre count .",
    "for example , if data is buffered in the vfe , some form of passive multiplexer can be envisaged that will combine data from all the vfes .",
    "this could take the form of spliced optic - fibres , or an or gate .",
    "this would not necessarily remove the need for an fe , but the reduced size and complexity will have many benefits ( thermal , configuration time , seus , cost , etc . ) .    to transmit data onto the detector , we will attempt to use the same commercial hardware used for off - detector communication .",
    "the requirements are different , though , as the detector front - end requires clock and synchronisation signals as well as low - level configuration and data signals .",
    "commercial network hardware is not ideally suited to synchronous tasks but the significant cost and reliability benefits make it worthy of investigation .",
    "this is split into two areas : failsafe configuration prior to normal running , and clock and control signal distribution .    * failsafe configuration * in a scenario requiring an fpga on - detector , it is imperative that the device can be re - configured remotely .",
    "this is necessary not only because of the number of fpgas but also because of the uncertainty in the detector performance in terms of data suppression , pedestal drifts , bad channel identification etc .",
    ", all of which have to be implemented in the fe fpga .",
    "the optimal algorithms for these tasks will only be determined after some experience of operating the calorimeter .",
    "as the are relatively inaccessible , it is important that a failsafe method of reseting and re - configuring the devices exists .",
    "avoiding the use of additional control lines necessitates a means to extract signals from the communications interface .",
    "most probably this will involve `` spying '' on the serial data line .    of primary importance",
    "is to force the fpga into a known state under any conditions ( i.e. a hard - reset ) .",
    "it may simply be possible to send an exceptionally long series of `` 1 ' 's to the slab ( say 40 m = 1 second ) where an rc type - circuit with a long time - constant will trigger the reset .",
    "a more complex method would require some discrete logic ( like a shift - register with parallel output into a comparator ) searching the incoming data - stream for a `` magic '' number .",
    "power cycling the board is also a ( less elegant ) solution , but still requires attention in circuit design to ensure the fpga will boot .",
    "once hard - reset , the fpga will follow its start - up logic to initiate the boot - making use of 2 distinct methods :    * use a non - volatile base configuration that is either hardwired into the fpga or provided by a eeprom external to the fpga . in this case the fpga would assist in writing the configuration to its internal ram and then issue a re - boot - using - internal - configuration command to itself .",
    "* by waiting for external stimulus ( usually a clock ) to control data the data being fed into the device .",
    "this requires additional hardware to format the the serial - data into data / clock / control for fpga consumption .    in both cases",
    "some external hardware is required , the amount of which will only fully understood after a more detailed evaluation . a possible outcome could be that a small non - volatile programmable device could provide the most flexible solution , but the effects of radiation need further examination .",
    "larger devices with non - volatile configuration memories could be used for the entire front - end logic , but apart from the increased cost and limited re - programming cycles making these less desirable , these devices are not able to re - program themselves .",
    "reliability in the detector environment of these memories over the lifetime of an experiment , as well as seus , also need to be addressed .",
    "non - volatile memories have limited programming cycles , whereas modern sram - based fpgas boast that they can re - configured an infinite number of times . by refreshing the configuration periodically",
    ", the effect of seu corruption can be minimised .",
    "considering an fpga with one million logic gates ( which specifies a 4 mbit prom ) , configuring this device at 40mhz would take 100ms - a re - config every 250ms bunch - train !",
    "being able to re - configure the fe when needed also allows the selection of a smaller component that can be configured for specific function , rather than a large one - size fits all device .    reducing the number of components on the front - end - module is advantageous from a cost , reliability and dead material point of view , so we will focus on methods of generating a data - stream onto the detector that requires the minimum of components to extract signals from the physical network interface module .",
    "* clock and control * to ensure the on - detector electronics captures data from actual collisions , all components in the detector are synchronised to the bunch - crossing clock .",
    "bunch - train start , stop and i d signals are also be required .",
    "traditionally this is done with a bespoke , low - latency , highly synchronous system , but here we will look at using a commercial network switch .",
    "switches are not designed for synchronous signal fanout .",
    "in fact the now obsolete forerunner to the switch , the hub , is much better suited to the task .",
    "modes for signal broadcasting do exist , but these need to be closely examined .",
    "studies on latency and port - to - port skew will be undertaken .    to obtain maximal control over timing",
    ", the lowest level protocols will need to be used . directly accessing",
    "the network at the physical layer ( i.e. as a simple serial link ) would facilitate complete control over data - packet composition and timing .",
    "for this a specialist and customisable network interface card is required .    to regenerate the clock at the detector end , the time structure of the data transmitted needs to be structured accordingly .",
    "this would probably take the form of a local oscillator being periodically resynced to the data clock .",
    "as the bunch - crossing interval is 7ns , a 1gbit ( 1ns ) link would be the minimum rate needed .",
    "board - level signals , such as train - start may also need to be decoded directly from the data stream ( as with the failsafe system above ) .    in summary , this is as an investigation to verify that a clock , control and configuration system can be constructed using commercial network hardware for distribution .",
    "an ideal system would have all data from the detector for each bunch train sent directly to a single pc where full event reconstruction would be performed .",
    "however , considering that the electromagnetic calorimeter alone will contain 24 million channels , even after data suppression this seems unfeasible .",
    "it would , however , be desirable to geographically group as many channels as possible at a processor .",
    "this would permit broader local clustering which could be used as an input to full event reconstruction later .",
    "the fundamental questions to be answered are how much of the calorimeter can be received into one pc and how much needs to be received to make local clustering effective .",
    "the impact this has on full event reconstruction and on simulated physics needs to be evaluated .",
    "this task therefore involves a combination of hardware and simulation work .",
    "we propose a system comprising pci cards ( see fig .",
    "[ fig : pci_card ] ) mounted in pcs .",
    "these cards will provide timing , clock , control and configuration data , be capable of performing local clustering , as well as being able to be re - configured to act as data transmitters to exercise the receivers .",
    "we will use the `` new '' pci express bus standard  @xcite as this offers increased bandwidth and flexibility by using many high bandwidth serial links ( called lanes ) instead of a single parallel bus .",
    "it is expected to be scalable due to future increases in the number of lanes . aside from providing an interface to the processor , lanes can be setup between cards , allowing advanced clustering prior to processing .",
    "although it is hard to predict what technology will be available for the final system , gaining experience with serial bus technologies now , will prove valuable for estimates of how much data can be realistically processed by a computer and help us understand the benefits and bottlenecks , as well as the scalability .",
    "much of this daq workpackage relies on novel methods in using network infrastructure , so a card providing both direct access to the network hardware and room to build any other functionality is useful .",
    "this applies to the pci express interface too , where the card will be able to test - drive the bus and provide debug feedback and monitoring .",
    "as has been discussed in this note many options exist for the functionality of the components at various stages .",
    "it is therefore difficult to make a definitive statement on what a daq system would like and how many components it would have .",
    "however , work is ongoing to try and do as much of the work ( data reduction ) as possible on the detector , thereby reading out as little as possible",
    ". therefore we consider that the adc and thresholding are done in a 32-channel vfe and buffering in the fe . under this model and making reasonable assumptions on the data rate a model system is detailed below .",
    "the raw data size is assumed to be 2bytes per channel with an additional 4bytes per channel needed for a timing label .",
    "imposing the threshold suppression reduces the data rate by a factor of 100 , leading to a data size for the whole detector of ( @xmath8 7.0gbytes .",
    "the size per slab is then 1.1mbytes .",
    "as the data is buffered in the fe , it is read out between bunch trains giving a rate per slab of 4.7mbytes / s .",
    "early testing will readout some slabs individually , but as the system grows and stabilises , it would clearly be advantageous to bundle the data from several slabs together .",
    "bundling half a tower of 20 slabs would give a rate of 0.75gbit / s which could be adequately read out using current fibres .",
    "such a grouping would lead to 300 fibres coming off the detector . assuming a pci card which can receive 8 fibres ,",
    "this would require 38 pci cards . with a pc hosting 2 such cards than a system of 19 pcs would be required .",
    "we then assume a 20% contingency for more fibres reading out neighbouring areas to allow for redundancy and for faulty pcs or pci cards .",
    "this gives a total of about 50 pci cards housed in 25 pcs a clearly manageable number for such a granular calorimeter .",
    "a conceptual design of a data acquisition system for the ilc calorimeter has been discussed .",
    "the concept relies heavily on commercial equipment and is generic such that it could be applied to other detector systems .",
    "potential bottlenecks have been identified and form a programme of research and development of the next three to four years for the calice - uk groups .",
    "bench tests and real - time tests with prototype calorimeters , within the eudet project , will be undertaken .",
    "after this period , a technical design of the data acquisition system will be possible ."
  ],
  "abstract_text": [
    "<S> this note describes r&d to be carried out on the data acquisition system for a calorimeter at the future international linear collider . </S>",
    "<S> a generic calorimeter and data acquisition system is described . within this framework </S>",
    "<S> modified designs and potential bottlenecks within the current system are described . </S>",
    "<S> solutions leading up to a technical design report will to be carried out within calice - uk groups .    </S>",
    "<S> m.  wing@xmath0 , m.  warren@xmath1 , p.d .  </S>",
    "<S> dauncey@xmath2 and j.m .  butterworth@xmath1 </S>",
    "<S> + for calice - uk groups    , @xmath2imperial college london    @xmath3contact : mw@hep.ucl.ac.uk </S>"
  ]
}