{
  "article_text": [
    "spectrometers in nuclear and particle physics have the purpose of identifying the 4-momenta and vertices of particles stemming from high - energy collisions and decays of particles or nuclei .",
    "in addition to calorimetric and other particle identification measurements , the 3-momenta and positions of charged particles are measured by tracking them in magnetic fields with the use of position sensitive detectors .",
    "cluster finding procedures can be applied in some detectors to combine the responses of individual electronic channels in order to improve the accuracy of the position measurements .",
    "the position measurements will be called _ hits _ throughout this paper , regardless of whether they stem from a single detector channel or from a combination of several of them .",
    "pattern recognition algorithms determine which hits contribute to the individual particle tracks .",
    "the hits identified at this stage to belong to one track then serve as the input for a fitting procedure , which determines the best estimates for the position and momentum of a particle at any point along its trajectory . a novel framework for this task of track fitting in complex detector systems",
    "is presented in this paper .",
    "it organizes the task of track fitting , i.e.  the interplay between fitting algorithms , detector hits , and particles trajectories , with a minimal amount of interfaces .",
    "it is a toolkit which is independent of specific detector setups and magnetic field geometries and hence can be used for many particle physics experiments .",
    "tracking of particles is usually performed with a combination of different species of detectors .",
    "they can be categorized according to the different geometrical information they deliver : + 1 ) detectors which measure the particle passage along one axis in a detector plane , e.g.  silicon strip detectors or multiwire proportional chambers ; + 2 ) detectors which measure the two - dimensional penetration point of a particle through a plane , e.g.silicon pixel detectors ; + 3 ) detectors which measure a drift time relative to a wire position , i.e.  a surface of constant drift time around the wire through which the particle passed tangentially , e.g.drift chambers or `` straw tubes '' ; + 4 ) detectors which measure three - dimensional space points on particle trajectories , like time projection chambers ( tpc ) . + but also higher dimensional hits can occur : + 5 ) detector systems which measure two - dimensional position information in combination with two - dimensional direction information , including correlations between these parameters .",
    "examples could be stations of several planes of detectors of categories 1 and 2 , or electromagnetic calorimeters .",
    "+ for detectors which do not deliver tracking information in physical detector planes , e.g.  those of categories 3 and 4 , the track fitting software of many experiments resorts to simplifications , which may be justified for a particular application but prevent the usage of the same program for different experimental environments .",
    "examples are the projection of tpc data onto planes defined by pad rows or the projection of the surfaces of constant drift time in drift chambers onto predefined planes , just leaving two lines with left - right ambiguities .",
    "this approach is problematic if the drift cells are not arranged in a planar configuration and if there is no preferred direction in which the detector is passed by the particles .",
    "another common simplification is the treatment of two - dimensional hits ( e.g.  from silicon pixel detectors ) as two independent one - dimensional measurements .",
    "+ in the framework presented here these problems have been overcome to make optimal use of the information from combinations of all types of tracking detector systems .",
    "all detector hits are defined in detector planes . for hits in detectors which do not have physical detector planes , so - called _ virtual detector planes _",
    "are calculated dynamically for every extrapolation of a track to a hit .",
    "the dimensionality of detector hits is not restricted .",
    "one - dimensional hits constrain the track only along the coordinate axis in the detector plane which they measure .",
    "two - dimensional hits are used in one fitting step to constrain the track in two dimensions in their detector planes . for hits in non - planar detectors ( categories 3 and 4 ) , the hit information ( e.g.  a surface of constant drift time )",
    "is converted into a position measurement in a plane perpendicular to the track , so that a fit is able to minimize the perpendicular distances between the track and the position measurements",
    ". the information from hits with higher dimensionality , like those of category 5 , is used in four - dimensional hits , which contain all correlations between the parameters .",
    "+ tracks of charged particles in magnetic fields are ( usually ) described by five parameters and a corresponding covariance matrix .",
    "the ability to extrapolate a track described by these parameters and their covariances , taking into account the effects of materials and magnetic fields , to different positions in the spectrometer is mandatory for track fitting .",
    "the concept presented here provides a well defined interface for the invocation of external programs or libraries to perform these track extrapolations .",
    "it thus allows the straightforward use of established track following codes with their native geometry and magnetic field interfaces , such as geane @xcite , which is nowadays distributed as part of cern s virtual monte carlo ( vmc ) package @xcite .",
    "this is the most significant difference to other projects ( e.g.  recpack @xcite ) , which offer more monolithic approaches to track fitting ( e.g.  defining their own geometry classes ) .",
    "the concept allows the simultaneous fitting of several representations of tracks to the same set of hits , i.e.  to the same physical track .",
    "this flexibility is especially useful in the early phase of an experiment when different track parameterizations and extrapolation approaches can be compared with each other , in order to identify the ones with optimal performance . but also",
    "the flexible coverage of different phase space regions with different track models , or the fitting of different mass hypotheses with the same track model can be desirable .",
    "the implementation of the concept has been realized in a software toolkit called genfit .",
    "it is written in c++ and is designed in a fully object oriented way .",
    "it has been developed in the framework of the panda experiment @xcite , as part of the computing framework pandaroot @xcite , but is now distributed as a stand - alone package @xcite . + genfit contains a validated kalman filter .",
    "this algorithm is commonly used for track fitting in particle spectrometers @xcite , since it performs much better than global minimization approaches in the presence of materials and inhomogeneous magnetic fields .",
    "the concept is however not limited to the use of the kalman filter .",
    "other fitting algorithms , like gaussian sum filters @xcite or deterministic annealing filters @xcite , can be implemented easily .",
    "section [ sec : concept ] describes the concept of this new approach to track fitting in detail .",
    "section [ sec : implementation ] points out the key features of the implementation of genfit .",
    "some examples of concrete track representations , on the dimensionalities of reconstruction hits and track representations , and the interplay between them follow in sec .",
    "[ sec : examples ] .",
    "simulation studies which validate the kalman filter implemented in genfit are presented in sec .",
    "[ sec : simulation ] .",
    "the basic functionalities which are required for any procedure of track fitting are the extrapolation of tracks to the positions of the hits in the detectors , and the calculation of the distances between hits and tracks , i.e. the residuals .",
    "the concept discussed here divides the problem of track fitting into three main entities which are separated from each other as much as possible and interact through well defined interfaces : 1 ) track fitting algorithms , 2 ) track representations , and 3 ) reconstruction hits .",
    "figure [ fig : overview ] shows this structure .",
    "the following sections explain these objects in detail .",
    "`` progressive '' fitting algorithms like the extended kalman filter @xcite are widely used for track fitting in high energy physics experiments .",
    "although the track fitting concept discussed in this paper is not limited to the use of the kalman filter , this algorithm shall serve as an example to illustrate which functionalities are generally required .",
    "+ the extended kalman filter is an efficient recursive algorithm that finds the optimum estimate @xmath0 for the unknown true state vector @xmath1 of a system from a series of noisy measurements , together with the corresponding covariance matrix @xmath2 of @xmath0 .",
    "the state vector contains the track parameters and the index @xmath3 indicates that the state vector , and its covariance matrix are given at the detector plane of hit @xmath3 .",
    "+ before a recursion step , the state vector @xmath4 and covariance matrix @xmath5 contain the information of all hits up to index @xmath6 . in the * prediction *",
    "step the state vector and covariance matrix are extrapolated to the detector plane of hit @xmath3 by the track following code .",
    "the predicted state vector is denoted by @xmath7 and the predicted covariance matrix by @xmath8 .",
    "this covariance matrix is the sum of the propagated track covariance matrix @xmath5 ( gaussian error propagation by transformation with the jacobian matrix of the propagation operation @xmath9 , and a noise matrix which takes into account effects like multiple scattering and energy loss straggling .",
    "then , the algorithm calculates the * update * for the state vector and the covariance matrix by taking into account the measurement @xmath10 : @xmath11 with the residual @xmath12 the weight of the residual ( or kalman gain ) @xmath13 and the covariance matrix @xmath14 of the measurement @xmath15 .",
    "@xmath16 is the unit matrix of corresponding dimensionality .",
    "the projection matrix @xmath17 is a linear transformation from the coordinate system of the state vector @xmath0 , to the coordinate system of the position measurement @xmath10 of hit @xmath3 , i.e.  the detector plane of the hit .",
    "a discussion about dimensions of the vectors and matrices in the above equations can be found in sec .",
    "[ sec : examples : interplay ] together with concrete examples for the matrix @xmath17 .",
    "the elements of the covariance matrix @xmath2 shrink with the inclusion of more hits , thus reducing the impact of a single hit on the value of the state vector .",
    "the @xmath18-contribution of hit @xmath3 is @xmath19 with the filtered residual @xmath20 .",
    "it adds @xmath21 degrees of freedom to the total @xmath18 .",
    "+ after the kalman steps have been performed on all hits of the track , the track can still be biased due to wrong starting values @xmath22 .",
    "this bias can be reduced by the repeated application of the procedure in the opposite order of hits , using the previous fit result as starting values for the track parameters .",
    "before the fit is repeated , the elements of the covariance matrix have to be multiplied with a large factor ( @xmath23 ) in order not to include the same information in the track several times . + as can be seen in fig .",
    "[ fig : overview ] the fitting algorithm operates on entities called reconstruction hits and track representations , which are detailed in the following .",
    "a particle track is described by a set of track parameters and a corresponding covariance matrix , which are defined at a given position along the track .",
    "often , the track parameters are e.g.  given at a particular @xmath24-position . in the concept presented here , track parameters are always defined in reference planes .",
    "+ in order to use a track model in a track fitter , one needs to be able to extrapolate the track parameters to different places in the spectrometer .",
    "the combination of the track parameterization and the track extrapolation functionality will be called a _",
    "track representation_. a track representation holds the data of the state vector @xmath0 , and the covariance matrix @xmath2 of a track , as well as the reference plane at which these are defined .",
    "also it provides a well defined interface for the invocation of the external routines needed to extrapolate the parameters to different positions . as can be seen in fig .",
    "[ fig : overview ] , there are three track extrapolation functions which are needed for each track representation : extrapolation to a plane , extrapolation to the point of closest approach ( poca ) to a point , and extrapolation to the point of closest approach to a line .",
    "fitting algorithms access the track parameters and extrapolation functions in a common way via the track representation interface without knowledge of the specific form of the track parameterization or the way the extrapolations are carried out .",
    "+ different track representations can be used in parallel .",
    "it is possible to fit the same track , i.e.  the same set of hits , with different track representations simultaneously .",
    "there are several reasons why this is desirable : for low momentum particles the fitting of different mass hypotheses with the same track representation can give a clue to the particle identity via the @xmath18 of the fits , because the different energy loss for different particle masses at a given momentum leads to different extrapolations .",
    "fitting of the same track with different parameterizations and extrapolation tools can be advantageous as well . in the early phase of an experiment",
    "one can compare different track representations to identify the ones which perform best , or there could be regions in phase space in experiments where it might not be clear beforehand which track representation will give the best results .",
    "then one can just fit several of them simultaneously and retain the best result .",
    "the object which represents a position measurement from a detector used in a track fit is called a _ reconstruction hit_. it contains the vector of the raw measurement coordinates and its corresponding covariance matrix . as discussed in the introduction",
    ", the nature of this raw hit information can be quite diverse .",
    "it can e.g.  be a direct position measurement or a drift time .",
    "as can be seen in fig.[fig : overview ] , a reconstruction hit provides its detector plane , the measurement coordinates @xmath10 in the detector plane coordinate system , the covariance matrix @xmath14 in the detector plane coordinate system , and the projection matrix @xmath17 to the fitting algorithm . for detectors , which measure positions in a physical detector plane ( categories 1 and 2 of sec .",
    "[ sec : introduction ] ) , the detector plane is identical with the physical plane . + for non - planar detectors like wire - based drift chambers or tpcs ( categories 3 and 4 of sec .",
    "[ sec : introduction ] ) , no such physical detector planes are defined . instead , the concept of virtual detector planes is introduced . for space - point detectors ,",
    "the track fit has to minimize the perpendicular distances of the track to the hits .",
    "therefore , the virtual detector plane for each hit must contain the hit position and the point of closest approach of the track to the hit point .",
    "then the residual vector which points from the hit point to the point of closest approach will be perpendicular to the track .",
    "this geometry is illustrated in fig .",
    "[ fig : genfit : virt ] .",
    "the orientation of the spanning vectors @xmath25 and @xmath26 is chosen arbitrarily in the plane . for wire - based drift detectors",
    "the virtual detector plane contains the point of closest approach of the track to the wire , and is oriented to contain the whole wire .",
    "the spanning vectors are chosen to lie perpendicular ( @xmath25 ) and along ( @xmath26 ) the wire .",
    "this geometry is shown in fig .",
    "[ fig : genfit : virtstt ] .",
    "the wire position and drift time are then measurements of @xmath27 ( the @xmath28 coordinate could be measured via double - sided readout with charge sharing or time of propagation ) . in both cases ,",
    "the orientation of the plane will directly depend on the track parameters .",
    "the consequence is that virtual detector planes have to be calculated each time a hit is to be used in a fitting step .",
    "the reconstruction hit uses the corresponding extrapolation function of the given track representation to find the point of closest approach as indicated in fig .",
    "[ fig : overview ] . +     and @xmath26 ) for a space - point hit . ]     and @xmath26 ) for a wire - based drift detector .",
    "]    different kinds of reconstruction hits are accessed via a common interface .",
    "when the fitting algorithm obtains the detector plane from a reconstruction hit , it does not know whether it will receive a physical or a virtual detector plane .",
    "this distinction is fully handled inside the reconstruction hit .",
    "+ after the detector plane is defined , the reconstruction hit can provide the measurement coordinate vector @xmath10 , and the hit covariance matrix @xmath14 . for non - planar detectors ,",
    "these quantities are results of coordinate transformations into the virtual detector plane ( hence the difference between the raw hit coordinates / covariance and the vector @xmath10 and matrix @xmath14 in fig .",
    "[ fig : overview ] ) . the three - dimensional hit vector and the @xmath29 covariance matrix of a space - point hit are transformed into a two - dimensional vector in the detector plane and a @xmath30 covariance matrix .",
    "even if the errors of the space point were uncorrelated , the matrix @xmath14 will in general contain a correlation , which is taken into account in the fit . for wire - based drift chambers ,",
    "the drift time information is converted to a position information in the calculation of @xmath10 and @xmath14 .",
    "+ the projection matrix @xmath17 transforms the state vector from the given track parameterization into the coordinate system of the hit . in order to determine this matrix , the concrete coordinate systems of the track representation and the reconstruction hit",
    "must be known .",
    "since there will be typically more different types of reconstruction hits than track representations , the projection matrix is determined in the reconstruction hit object .",
    "the matrix @xmath17 provides the only link between a given track parameterization and the different hit coordinate systems .",
    "if a fit is performed with several track representations , the same reconstruction hit will provide a different matrix @xmath17 for each track representation .",
    "the software package which implements the concept presented in this paper is called genfit @xcite .",
    "it is completely written in c++ and makes extensive use of object oriented design .",
    "it uses the c++ standard template library @xcite and the root data analysis framework @xcite .",
    "+ figure [ fig : genfit : general ] presents the general class structure of genfit .",
    "the classes representing the fitting algorithms operate on instances of the class .",
    "a object contains a : : vector < gfabsrecohit * > and a + : : vector < gfabstrackrep*>. the reconstruction hits and track representations of secs .",
    "[ sec : concept : trackrep ] and [ sec : concept : recohit ] are realized as polymorphic classes .",
    "the class is the interface class to the reconstruction hits , and is the interface class to the track representations .",
    "+ the reconstruction hit objects are created from the position information acquired in the detectors .",
    "the pattern recognition algorithms , which precede the use of genfit , determine which of these detector hits belong to a certain track .",
    "they deliver an instance of the class , which holds a list of indices which identify the hits belonging to the track . a mechanism called has been implemented to load the reconstruction hits into the object .    [ sec : implementation ]      in order to use a particular track parameterization for track fitting in genfit",
    ", one needs code which can extrapolate such track parameters , taking into account material effects on the track parameters and their covariance matrix . in order to interface the track model to genfit , one implements a c++ class which inherits from the abstract base class and provides an implementation for the virtual methods ( ... ) , ( ... ) , and ( ... ) .",
    "section [ sec : examples : geanetrackrep ] presents examples of concrete track representations .",
    "the fitting algorithms interact with the reconstruction hits via the abstract base class .",
    "the reconstruction hits do , however , not inherit directly from this class , but from the intermediate interface class + .",
    "this is illustrated in fig .",
    "[ fig : genfit : recohit ] . for more information about the policy design pattern",
    ", please see @xcite .",
    "there are ( currently ) three geometrical categories of reconstruction hits : hits in planar detectors , space - point hits , and hits in wire - based drift chambers , which deliver their wire position and a drift time .",
    "this categorization is expressed in the code by the three different policy classes , , and .",
    "these policy classes all implement functions for calculating or delivering the detector plane , the hit coordinates in the detector plane , and the hit covariance matrix in the detector plane .",
    "they are used to unify the geometrical properties of reconstruction hits to avoid any code duplication in the implementation of similar reconstruction hits .",
    "the latter two policies use the corresponding track representations to calculate the virtual detector planes , as detailed in sec.[sec : concept : recohit ] . + as described in sec.[sec : concept : algorithm ] , the fitting algorithm needs a matrix @xmath17 which is a linear transformation from the vector space of track parameters to the coordinate system defined by the detector plane . the virtual method + : : gethmatrix ( ... )",
    "is overridden in the implementations of the concrete reconstruction hits . in order to provide the correct matrix ,",
    "the reconstruction hit determines the concrete type of the track representation it is asked to interact with in this particular fitting step .",
    "this type checking is represented by the lower arrow in fig.[fig : overview ] .",
    "it is the only place in genfit where a direct type compatibility of tracks and hits is checked .",
    "a maximal modularity of the system is achieved through this mechanism .",
    "if one adds an additional track representation , it is quite obvious that one has to provide new coordinate transformations from this new parameter space into the coordinate systems in which the hits are defined .",
    "a concrete interface to an external track propagation package which has been realized with genfit is the track representation called 2 .",
    "it is based on the fortran code geane .",
    "the detector geometry is included via the classes of root @xcite and the magnetic field maps are accessed via a simple interface class called .",
    "state vectors for this track representation are defined as @xmath31 , where the detector plane is spanned by the vectors @xmath25 and @xmath26 ( normal vector @xmath32 ) .",
    "@xmath33 denotes the particle charge and @xmath34 is the particle momentum .",
    "the quantitative tests of genfit in sec .",
    "[ sec : simulation ] are carried out with this track representation . + another track representation included in the genfit distribution is called .",
    "it was adopted from the compass experiment @xcite and uses a runge - kutta solver to follow particles through magnetic fields .",
    "it has the same state vector definition as 2 .",
    "it also uses the classes for the geometry interface .",
    "the classes which represent the fitting algorithms just carry out their linear algebra without knowing about the dimensions of the state vectors @xmath0 and the measurement vectors @xmath10 .",
    "the matrix @xmath17 is provided by the reconstruction hit class to transform state vectors and covariance matrices of a specific parameterization into the measurement vector coordinate system .",
    "this projection matrix ensures that the dimensionalities of the vectors and matrices in the fitting algorithm are compatible with each other .",
    "the following examples shall illustrate this :    1 .",
    "a four - dimensional track model can be used for tracking without magnetic fields .",
    "the state vector is defined as @xmath35 for a straight line where @xmath25 and @xmath26 span the detector plane , and @xmath36 is the normal vector .",
    "a strip detector shall measure the @xmath27 coordinate .",
    "then the measurement vector of equation ( [ eq : resid ] ) , @xmath10 , is a scalar .",
    "the projection matrix is defined as @xmath37 , so that @xmath38 is one - dimensional , just as the residual @xmath39 .",
    "the kalman gain is a @xmath40 matrix , and the @xmath18-increment is correctly calculated for one degree of freedom , in the sense that @xmath41 and @xmath42 are scalars .",
    "a pixel detector is used in combination with a five - dimensional trajectory model for charged particle tracking in magnetic fields .",
    "the detector measures the coordinates @xmath27 and @xmath28 in the detector plane , and the state vector is @xmath43 .",
    "the @xmath44 projection matrix is then : @xmath45 all matrices and vectors automatically appear with correct dimensions : @xmath10 and @xmath39 are 2-vectors , @xmath14 is a @xmath46 matrix , the kalman gain is a @xmath47 matrix , and @xmath18 is a scalar which is calculated from two degrees of freedom ( @xmath41 is a 2-vector , and @xmath42 is a @xmath30 matrix ) . + if the next hit in the same track only measures one coordinate ( e.g.  @xmath27 in the detector plane coordinate system of the next hit ) , @xmath10 will be scalar , @xmath17 will be of dimension @xmath48 , and there will be only one degree of freedom added to the overall @xmath18 .",
    "3 .   a tpc delivers space - point hits .",
    "the track model is the same as in example 2 .",
    "the tpc measures three spatial coordinates but this information is transformed into a two - dimensional hit in the virtual detector plane , which is perpendicular to the track .",
    "this two - dimensional hit is treated identically to example 2 .",
    "this is the desired behaviour , since measurements or errors along the flight direction do not contribute to the track fit .",
    "the statistical and numerical correctness of a kalman filter fit depends on the following items : 1 ) the mathematics of the kalman filter have to be implemented correctly .",
    "2 ) the projections of the covariance matrices of the hits onto the ( virtual ) detector planes have to be correct .",
    "3 ) the propagation of the track parameters and the covariance matrix are done correctly . for the covariance matrix",
    "this means the correct estimation of the jacobian matrices needed for the gaussian error propagation .",
    "4 ) the effects of traversed materials must be taken into account correctly : the state vector has to be modified ( momentum loss ) and the entries of the covariance matrix need to be increased by the addition of noise matrices ( e.g.  due to multiple scattering ) @xcite .",
    "since the track representations are external modules , the kalman filter and the reconstruction hit implementation in genfit are tested with a simplified setup , where the particles traverse a vacuum .",
    "this way , the effects number 1 to 3 are tested , while the effect number 4 is decoupled and not tested here .",
    "the setup contains a homogeneous magnetic field , since possible problems arising from field inhomogeneities would only point to problems in the external track representation module and not in the genfit core classes . instead of detector responses with full digitization simulations , which result in unknown detector resolutions ,",
    "known measurement errors are used .",
    "+ the track representation 2 is used for these tests .",
    "the program samples 30 space points on the trajectory at distances of 1 cm , which are smeared with gaussian distributions of known widths . like in a tpc ,",
    "the @xmath49- and @xmath50-measurements are assumed to have equal and better resolutions than the @xmath24-coordinate measurements ( @xmath51 ) .",
    "these smeared points are used in the fit as reconstruction hits based on similar to tpc measurements ( see fig .  [",
    "fig : genfit : recohit ] ) . in front of the first hit",
    ", a reference plane is defined in which the fitted track parameters are compared to their true values to obtain residual and pull distributions is defined as @xmath52 . ] .",
    "if the fit is able to correctly determine the track parameters and their errors , the pull distributions will be gaussians of width @xmath53 and of mean value @xmath54 .",
    "figure [ fig : genfit : pulls ] shows the five pull distributions for the track parameters , which fulfill these criteria within the corresponding errors , proving that the non - uniform errors of the hits are taken into account correctly .",
    "+ another test is carried out with a slightly different detector geometry .",
    "hits from 15 crossed planes of strip detectors are fitted together with 15 space - point hits .",
    "the strip hits each contribute one degree of freedom , the space - point hits each contribute two degrees of freedom ( they only constrain the track in a plane perpendicular to the track ) , and the track parameters subtract five degrees of freedom ( @xmath55 ) . the @xmath18-probabilities for these fits are shown in fig .  [",
    "fig : genfit : pval ] .",
    "if the number of degrees of freedom is taken into account correctly , this distribution is expected to be flat .",
    "a @xmath18-test against a uniform distribution results in a @xmath56 , close to unity , as expected .",
    "+ the execution time per track is 14ms on one core of an amd phenom^^ ii x4 940 cpu for 30 space - point hits with one forward and one backward fitting pass of all hits . of this time , a fraction of 91% is spent in the external extrapolation routines of 2 , as determined with valgrind @xcite .",
    "the genfit core classes have not yet been optimized for execution time , but the above result shows that optimizations would be most rewarding in the track extrapolation routines .",
    "-probability distribution for a series of track fits through 15 planes of strip detectors and 15 space points . ]",
    "a novel framework for track fitting in particle physics experiments has been presented in this paper .",
    "its implementation is a c++ library called genfit , which is available freely .",
    "its modular design consists of three major building blocks : fitting algorithms , track representations , and reconstruction hits .",
    "genfit contains a validated kalman filter .",
    "a standard kalman smoother is planned to be implemented in the future , as well as other fitting algorithms .",
    "the possibility of the application of genfit to pattern recognition tasks seems promising and will be investigated .",
    "+ the generic design of the track representation interface enables the user to use any external track following code with genfit .",
    "the framework allows simultaneous fits of the same particle track with different track representations .",
    "possible applications of this feature are the fitting of different mass hypotheses with the same track model , or the test and validation of different track parameterizations and track following codes .",
    "also the coverage of different regions of phase space with specialized track representations is an important feature in many experiments . at present , genfit contains two track representations which provide interfaces to the track following code geane and a runge - kutta based track extrapolation code adopted from the compass experiment .",
    "new track representations which allow the use of other track following codes can be implemented in a straightforward way .",
    "the interfaces to the detector geometry and the magnetic field maps can be chosen freely and are all encapsulated in the track representation class . +",
    "the geometrical properties of reconstruction hits are not restricted in this framework .",
    "the dimensionality of hits is not fixed to particular values , and the orientation of detector planes can be chosen freely .",
    "hits from detectors which do not measure the passage of particles in predefined planes , such as drift chambers or tpcs , are handled in the concept of virtual detector planes .",
    "this leads to a direct minimization of the perpendicular distances between the particle tracks and the position measurements from the detectors , i.e.  the surfaces of constant drift time or the space points measured in a tpc .",
    "+ genfit provides an easy - to - use toolkit for track fitting to the community of nuclear and particle physics .",
    "it is used in the panda computing framework .",
    "applications in other experiments are being considered ( e.g.  belle ii ) .",
    "this project has been supported by the sixth framework program of the eu ( contract no . rii3-ct-2004 - 506078 , i3 hadron physics ) and the german bundesministerium fr bildung und forschung .",
    "i.  hrivnacova , d.  adamova , v.  berejnoi , r.  brun , f.  carminati , a.  fasso , e.  futo , a.  gheata , i.  gonzalez caballero , a.  morsch , for the alice collaboration , the virtual monte carlo , arxiv computer science e - prints , cs/0306005 .",
    "s.  spataro , http://stacks.iop.org/1742-6596/119/032035[simulation and event reconstruction inside the pandaroot framework ] , journal of physics : conference series 119  ( 3 ) ( 2008 ) 032035 ( 10pp ) ."
  ],
  "abstract_text": [
    "<S> this paper presents a novel framework for track fitting which is usable in a wide range of experiments , independent of the specific event topology , detector setup , or magnetic field arrangement . </S>",
    "<S> this goal is achieved through a completely modular design . </S>",
    "<S> fitting algorithms are implemented as interchangeable modules . at present </S>",
    "<S> , the framework contains a validated kalman filter . </S>",
    "<S> track parameterizations and the routines required to extrapolate the track parameters and their covariance matrices through the experiment are also implemented as interchangeable modules . </S>",
    "<S> different track parameterizations and extrapolation routines can be used simultaneously for fitting of the same physical track . </S>",
    "<S> representations of detector hits are the third modular ingredient to the framework . </S>",
    "<S> the hit dimensionality and orientation of planar tracking detectors are not restricted . </S>",
    "<S> tracking information from detectors which do not measure the passage of particles in a fixed physical detector plane , e.g.  drift chambers or tpcs , is used without any simplifications . </S>",
    "<S> the concept is implemented in a light - weight c++ library called genfit , which is available as free software .    </S>",
    "<S> track fitting , track reconstruction , kalman filter , drift chamber , tpc </S>"
  ]
}