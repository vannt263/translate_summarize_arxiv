{
  "article_text": [
    "galaxies evolve on two main paths : dynamically , including interaction with external systems , and through the process of formation , evolution and death of stars within them .",
    "the latter has the following relevant effects on the galaxy : ( i ) the evolution of gas content , ( ii ) the chemical enrichment and ( iii ) the formation of the stellar populations with different properties as the gas from which they form evolves .",
    "the star formation history ( sfh ) is therefore fundamental to understand the galaxy evolution process .",
    "the color - magnitude diagram ( cmd ) is , in practice , the best tool to study and derive the star formation history of resolved galaxies .",
    "deep enough cmds display stars born all over the life - time of the galaxy and are indeed fossil records of the sfh .",
    "an approximate , qualitative sketch of the stellar populations present in a galaxy can be done from a quick look to a good cmd .",
    "the presence of stars in characteristic evolutionary phases indicates that star formation took place in the system in one or another epoch of its history .",
    "for example , the presence of rr - lyrae stars is indicative of an old , low metallicity stellar population ; a substantial amount of red - giant branch ( rgb ) stars is associated to an intermediate - age to old star formation activity ; a well developed red - tail of asymptotic giant branch ( agb ) stars shows that intermediate - age to young stars with relatively high metallicity are present in the system , and even a few blue , bright stars as well as hii regions are evidences of a very recent star formation activity .",
    "a higher degree of sophistication is provided by isochrone fitting to significant features of the cmd .",
    "indeed , this method is simple and powerful enough to determine age and metallicity of simple stellar populations as the ones present in star clusters .",
    "however , actually deciphering the information contained in a complex cmd and deriving a quantitative , accurate sfh is complicated and requires some relatively sophisticated technique .",
    "although other approaches are possible ( see below ) , the most extended and probably most powerful technique is the one based on synthetic cmd analysis .",
    "the standard procedure involves three main ingredients : ( i ) a cmd ideally reaching the oldest main - sequence turn - offs ; ( ii ) one ( or several ) synthetic cmds , computed assuming a set of input physical parameters , and ( iii ) a method to derive the sfh from the comparison of the star distributions in observational and synthetic cmds .",
    "in aparicio & gallart ( 2004 ) we presented iac - star , a code for synthetic cmd computation . in short",
    ", the algorithm is intended to be as general as possible and allows a variety of inputs for the initial mass function ( imf ) , star formation rate , metallicity law and binariety .",
    "stars with age and metallicity following a continuous distribution are computed through interpolation in a stellar evolution library , providing synthetic cmds with smooth , realistic stellar distributions .    in this paper",
    "we present an algorithm corresponding to ingredient ( iii ) ; i.e. , designed for deriving the sfh from the comparison of observed and synthetic cmds .",
    "several approaches have been used in the past .",
    "indeed , interest in the process of formation of stellar populations is not new .",
    "the early works by baade ( 1944 ) can be considered a starting point .",
    "however , the amount of information and results has been largely increased in the last few decades and it is only since relatively recently that we have properly been able to speak about quantitative determinations of complex sfhs .",
    "tosi et al .",
    "( 1991 ) used a method based on the comparison of luminosity functions of observed and synthetic cmds .",
    "they were the first to sketch sfhs of nearby galaxies using synthetic cmds .",
    "bertelli et al .",
    "( 1992 ) introduced the r - method , the first to make use of the global morphology and number counts of the distribution of stars in synthetic and observed cmds to derive the sfh of a galaxy ( the lmc ) .",
    "gallart et al .",
    "( 1996 ) used an extended , more complete version of the r - method to study the sfh of the local group galaxy ngc 6822 .",
    "tolstoy & saha ( 1996 ) used maximum likelihood to find out the synthetic cmd , of a set of them , best reproducing the observed one .",
    "vergely et al .",
    "( 2002 ) presented an inverse method to interpret the cmd in terms of the sfh .",
    "aparicio , gallart , & bertelli ( 1997 ) introduced a new approach in which the sfh is derived by linear combination of several simple populations .",
    "this method allows a sfh derivation free from initial assumptions about it and has the important advantage of requiring only a single synthetic cmd .",
    "the same idea was independently introduced by dolphin ( 1997 ) and has also been applied by holtzman et al .",
    "( 1999 ) , who , for the first time , derived the star formation rate ( sfr ) as a function of time and chemical enrichment law ( cel ) simultaneously , making no assumptions about the cel morphology ; by olsen ( 1999 ) , by harris & zaritsky ( 2001 ) and by rizzi et al .",
    "( 2003 ) and has been used in several works of the former authors ( e.g. gallart et al .",
    "1999 ; aparicio , tikhonov , & karachentsev 2000 ; holtzman , smith , & grillmair 2000 ; dolphin 2000a , b ; aparicio , carrera , & martnez - delgado 2001 ; wyder 2001 ; sabbi et al .",
    "2007 ; chiosi , & vallenari 2007 ; see aparicio 2002 for a review ) .",
    "the former methods do in general include some kind of parametrization of the cmd .",
    "it must also be mentioned in this short historical overview the contribution by hernndez , valls - gabaud , & gilmore ( 1999 ) as an alternative , non - parametric method for the derivation of sfh of galaxies which make direct use of the information contained in a stellar evolution library and it is not based in synthetic cmds .",
    "the code we present here is based in the same principle as that used by aparicio et al .",
    "( 1997 ) but makes use of a genetic algorithm ( _ pikaia _ ; charbonneau 1995 ) for the solution convergence .",
    "applied in the most general way it derives the sfr as a function of both time and metallicity or , from a different point of view , the sfr and the cel as a function of time of a system from the comparison of its cmd star distribution with the star distribution in a single template synthetic cmd .",
    "the code is made available for free use .",
    "it can be downloaded from the internet site http://iac-star.iac.es/iac-pop with the only requirement of referencing this paper and crediting as indicated in that site .",
    "it is worth mentioning that the code is not restricted to the sfh solution only , but to any problem that can be parametrized in a similar way .",
    "the present paper should be considered as the reference for the code .",
    "this paper is a complement of our previous one presenting iac - star , the code for synthetic cmd computation ( aparicio & gallart 2004 ) .",
    "this paper is organized as follows . in  [ solvsfh ] , the method is presented . in ",
    "[ test ] ,  [ error ] ,  [ bursts ] , and  [ general ] , the iac - pop code self - consistency , error sources and reliability of solutions are discussed under different input assumptions . in  [ run ] a cook - book for iac - pop execution is given .",
    "finally , in  [ conclusions ] some final remarks are done and the main conclusions are summarized .",
    "the sfh is composed by several pieces of information . the rate at which stars form as a function of time ( sfr ) and the metallicity distribution of those stars , also a function of time ( cel ) , are the most important characteristics .",
    "the initial mass function and the binariety of stars are also related with the sfh ( see aparicio 2002 ) . for simplicity",
    "we will adopt here the following approach : considering that time and metallicity are the most important variables in the problem , we define the sfh as a function @xmath1 such that @xmath2 is the number of stars formed at time @xmath3 in the interval @xmath4 and with metallicity @xmath5 in the interval @xmath6 , per unit time and metallicity .",
    "@xmath1 is a distribution function and can be identified with the usual sfr , but as a function both of time and metallicity .",
    "there are several other functions and parameters related to the sfh , that we will consider here as auxiliary . the aforementioned imf , @xmath7 and a function accounting for the frequency and relative mass distribution of binary stars , @xmath8 are the main ones .",
    "the solution found for the sfh depends on the assumptions made for @xmath7 and @xmath8 . in the most general case",
    ", they should be free and solved together with the sfh . in practice",
    ", the amount of available information may not be sufficient to attempt such an assumption free solution , but , in any case , several choices of both @xmath9 and @xmath8 should be tried .",
    "other parameters affecting the solution of @xmath1 are distance and reddening , including differential reddening .",
    "but the strongest limitation on the observational information is produced by the _",
    "observational effects_. these include all the factors affecting and distorting the observational material , namely the signal - to - noise limitations , the defects of the detector and the crowding and blending between stars .",
    "the consequences are loss of stars , changes in measured stellar colors and magnitudes , and external errors larger and more difficult to control than internal ones .",
    "comparison of figs .",
    "[ f02_dcm_noerr ] and [ f12_dcm_err ] show the distortion introduced by observational effects ( see below ) .",
    "it must be kept in mind that iac - pop does not account for the observational effects , that must be considered and simulated in advance by the user into the synthetic cmds .    in the following",
    ", we will concentrate in the determination of @xmath1 on the understanding that all the remaining functions and parameters are externally checked and that proper assumptions are made for them .      the procedure used by iac - pop",
    "is based on the one introduced independently by aparicio et al .",
    "( 1997 ) and dolphin ( 1997 ) .",
    "its fundamentals have been adopted and extended by several groups since then ( see  [ intr ] ) .",
    "the method is based on the following steps :    1 .",
    "the synthetic cmd computation code iac - star or any other code intended for the same purpose is used to generate a single global synthetic stellar population with a large number of stars with ages and metallicities following some convenient distribution over the full interval of variation of @xmath1 in time and metallicity .",
    "the simplest case is using a constant distribution , but other approaches would be convenient in order to better sampling some age or metallicity intervals .",
    "observational effects ( crowding , blending , external errors , etc ) should be simulated in the synthetic cmd .",
    "the former synthetic stars are distributed in an array of partial or simple models ( see fig .",
    "[ f03_sfhsintetica ] below ) .",
    "each contains the stars within small intervals of age and metallicity .",
    "they constitute a set of @xmath10 models with no star in common between any two of them .",
    "arbitrary stellar populations can be obtained by linear combinations with non negative coefficients of the simple models of this set .",
    "these properties are similar to those of a base of a vectorial space .",
    "however , the simple model set can not be defined as such because of their statistical nature and because of the fact that coefficients can not be negative .",
    "a set of boxes is defined in the cmd . in practice ,",
    "several approaches are possible , including uniform and _ a la carte _ grids .",
    "an uniform grid is more objective and less dependent on human criteria .",
    "an _ a la carte _ grid takes advantage of our knowledge of stellar evolution and allows different sampling of well and poorly known stellar evolution phases .",
    "the approach we use here is a bit more sophisticated and takes advantage of the strengths of the two aforementioned approaches .",
    "several regions , that we will call _ bundles _ , are defined in the cmd .",
    "each of them are sampled by an uniform grid , but the grid bin size can be different from one bundle to another ( see fig .",
    "[ f04_dcms_noerr ] below ) .",
    "4 .   an array , @xmath11 , containing the number of stars from partial model @xmath12 populating the cmd box @xmath13 is computed .",
    "the same operation is made in the observational cmd , producing a vector , @xmath14 , containing the number of observed stars in box @xmath13 .",
    "this step defines the parametrization of the cmd .",
    "5 .   with the former information",
    ", the distribution of stars in the cmd boxes can be calculated for any model sfh as a linear combination of the @xmath11 values : + @xmath15 + it should be noted that @xmath16 .",
    "@xmath17 is a scaling constant .",
    "the sfh best matching the distribution , @xmath14 , of the observational cmd can be found using a merit function .",
    "in particular mighell s @xmath18 ( mighell 1999 ) is used : + @xmath19 + we will use @xmath20 , where @xmath21 is the number of freedom degrees . in our case @xmath22 , where @xmath23 is the number of boxes defined in the cmd .",
    "+ minimization of @xmath24 provides the best solution as a set of @xmath25 values , as well as a test on whether it is good enough .",
    "iac - pop makes use of a genetic algorithm for an efficient searching of the @xmath24 minimum . such a procedure is required because of the large number of the problem dimensions ( @xmath10 ) .",
    "the solution sfh can be written as : + @xmath26 + where @xmath27 refers to partial model @xmath12 , with @xmath12 taking values from 1 to @xmath10 , and @xmath17 is a scaling constant .",
    "we have made several tests to check iac - pop efficiency , self - consistency , solution stability and whether it can deal with real astrophysical data . to this purpose",
    ", a synthetic stellar population has been generated with iac - star from some arbitrary sfh .",
    "we will call this the _ mock _ population and denote as mcmd the corresponding cmd .",
    "the mock population is solved as if it were real data and the solution is compared with its input sfh .",
    "the iac - star input parameters used to compute the mock population were as follows . the teramo - basti stellar evolution library ( see pietrinferni et al .",
    "2004 ) and the castelli & kurucz ( 2003 ) bolometric correction library were used .",
    "the number of stars in the mcmd was @xmath28 .",
    "the star formation ranges from 14 gyr ago to date with a constant sfr , @xmath29 , for that period",
    ". the metallicity increases with time , with initial and final metallicities @xmath30 and @xmath31 and some metallicity dispersion at each time ( see fig .",
    "[ f01_sfhmodelo ] ) .",
    "finally , no binary stars were considered and the imf by kroupa , tout & gilmore ( 1993 ) was used .",
    "the integral of @xmath1 ( i.e. the total mass ever transformed into stars ) for this system is @xmath32 .",
    "the sfh @xmath1 of the mock population is shown in fig .",
    "[ f01_sfhmodelo ] .",
    "the volume below the curved surface and over the age - metallicity plane gives the mass that has been ever transformed into stars within any considered age - metallicity interval .",
    "the sfr as a function of time only , @xmath29 , and of metallicity only , @xmath33 , are also shown .",
    "the mcmd is shown in fig .",
    "[ f02_dcm_noerr ] .    according to  [ parametrizing ] , item 1 ,",
    "a global synthetic population has been computed as the starting point for the solution searching .",
    "we will call its cmd , scmd .",
    "binary stars , imf and stellar evolution and bolometric correction libraries used are the same as for the mock population . a constant sfr , @xmath1 , was used for the full age ( from 0 to 14 gyr ) and metallicity ( from 0.0001 to 0.008 ) ranges .",
    "the scmd contains @xmath34 stars .",
    "the sfh of this population is shown in fig .",
    "[ f03_sfhsintetica ] .",
    "age and metallicity have been divided into 14 and 16 intervals respectively .",
    "these intervals define one of the simple population sets which have been used for the solution searching , as mentioned in ",
    "[ parametrizing ] , item 2 .",
    "the scmd is shown in fig .",
    "[ f04_dcms_noerr ] .    as mentioned in  [ parametrizing ] ,",
    "item 3 , several bundles have been defined onto the mcmd and the scmd .",
    "each one has been sampled by grids of different box sizes , which depend on the cmd region or bundle .",
    "grids are thinner in regions where age and metallicity resolution is better , like the main sequence ( ms ) , and coarser in regions in which the distribution of stars strongly depends on poorly known parameters , like the red giant branch ( rgb ) or the horizontal branch ( hb ) . the number of boxes in a grid ranges from one to several hundreds depending on the cmd region .",
    "figure [ f04_dcms_noerr ] shows the bundles and one of the used box distributions , overplotted on the scmd .",
    "the particular box distribution used and the division of the global synthetic population in several simple populations as a function of which the solution is searched may introduce some bias and binning effects on such solution . in order to minimize them ,",
    "several sets of grids and simple populations have been used .",
    "each one is defined by shifting the set with respect to the initial one . in particular , in our case",
    ", bundles were fixed , and a total of 3 grid sets and 40 partial model sets were used and a solution computed for each one .",
    "the average of all them is adopted as the final solution .",
    "our many tests have disclosed that this procedure provides very stable solutions and the best way to estimate errors ( see  [ error ] ) .",
    "a set of routines called minniac is used to control the full computation process .",
    "the minniac input consists in a set of parameters that define the ( i ) the bundles to be used in the cmds ; ( ii ) the grid size in each bundle ; ( iii ) the number of different grids to be used and the shifts to be applied to define them ; ( iv ) the division of the global synthetic population into simple populations ; ( v ) the number of different input sets of simple populations and the shifts to be applied to define them . for each set",
    ", minniac counts stars in the grids of the observational and simple populations cmds and generates an input parameter file for iac - pop .",
    "once all the solutions have been obtained , minniac averages them and computes errors for each age and metallicity interval as the root mean square of the solutions .",
    "minniac will be provided under request but should be used at user s risk , since no support can be provided by the authors at this moment .",
    "figure [ f05_nocrow ] shows the @xmath1 solution for the mock population given in fig .",
    "[ f01_sfhmodelo ] .",
    "comparison between input and solution is simpler for the monodimensional @xmath29 and @xmath33 functions , also shown in fig .",
    "[ f05_nocrow ] .",
    "agreement is good , being the differences between input and solution within the error bars ( see below the discussion of error computation ) . as a further visual test , fig.[f06_sol_nocrow ]",
    "shows the cmd corresponding to the solution shown in fig .",
    "[ f05_nocrow ] .",
    "it is to be compared with the input mcmd shown in fig .",
    "[ f02_dcm_noerr ] .    as mentioned above",
    ", iac - pop uses a genetic algorithm to look for the set of positive or null @xmath25 parameters minimizing the @xmath24 function given in  [ parametrizing ] , item 6 .",
    "the convergence velocity depends on the choice of input parameters for the genetic code ( see charboneau 1995 ) .",
    "figure [ f07_genecrep ] shows the evolution of @xmath24 as a function of generation for our test case .",
    "dashed and solid lines show the @xmath24 for two different selections of input values of genes , number of individuals and mutation rate of iac - pop . both inputs get almost the same @xmath24 if the number of generations is large enough . in other words ,",
    "changes in the genetic input values do not affect the final solution if the number of generations is large , but computation time , which is proportional to the number of generations , may be large if the parameter choice is not good .",
    "providing reliable error estimates is fundamental for the solution meaningfulness . in principle , we can identify three kinds of error sources in the problem of retrieving the sfh from a cmd .",
    "the first one is that of internal errors , inherent to the numerical problem or related to the parametrization , i.e. the way in which bundles , grids and also partial models are selected .",
    "the second one is that associated to observational effects ( crowding , blending , etc ) .",
    "they blur the cmd , distorting the information provided by it .",
    "observational effects must be simulated in the global synthetic cmd before parametrizing it .",
    "also , any estimate of errors of the first kind will include the observational effects . finally , an additional uncertainty source is related to our limited knowledge of stellar evolution theory .",
    "it is difficult to test this , but using different stellar evolution libraries will produce somewhat different solutions for the same input observational data . differences between these solutions provide a representation of this kind of uncertainty . in the following",
    "we will discuss each of the former kinds of error sources .      calculating the internal error of the best solution for the sfh",
    "is not straightforward .",
    "the @xmath0 test allows computing @xmath35 errors of the solution parameters ( see bevington & robinson 2003 and arndt & macgregor 1966 ) . but",
    "this works only for gaussian random variables .",
    "the fact that the sfh problem can depart significantly from gaussian makes this approach unuseful for our purposes , as we have checked in several examples not shown here for brevity .",
    "errors related to the data sampling can be calculated assuming that the number of stars in each cmd box behave according to a poisson statistics",
    ". we will call this the _ poisson statistics _ criterion .",
    "errors are computed as follows .",
    "once the best solution has been found , the input observational data , i.e. the number of stars in each grid box , are randomly modified according to a poisson statistics . the best solution for the new data set",
    "is computed .",
    "this procedure is repeated several times , providing a set of solutions , the average of which is expected to be similar to the best original one . also , if @xmath36 such solutions have been obtained and solution @xmath37 is given by the set @xmath38 , then    @xmath39    can be used as an estimate of the errors affecting @xmath25 arising from data sampling .",
    "these errors are provided by iac - pop .",
    "upward and downward error bars can be obtained using only the subsets @xmath40 and @xmath41 , respectively and are also provided by iac - pop .",
    "the former criterion does not include all error sources and it will likely produce error underestimates . in particular , it does not take into account the effects introduced by the cmd parametrization through bundles and grids nor those related to the division of the global synthetic cmd into partial models .",
    "a simple way to evaluate these errors is using the dispersion of the 120 solutions computed and explained in ",
    "this is the procedure used in this paper .",
    "we will see below that it is a good estimate of all the internal error sources . for brevity",
    ", we will call this the _ several solutions _ criterion .",
    "the error bars shown in all the figures have been calculated in this way .",
    "it is time consuming , but we think it is necessary if a stable solution and a realistic estimate of errors is sought .",
    "the routine minniac delivers the errors computed in this way ( see  [ test ] ) .",
    "figure [ f08_minniac1 ] shows the input and solution @xmath29 together with the error obtained by the _ several solutions _",
    "( thick , black error bars ) and the _ poisson statistics _ ( thin , red error bars ) criteria . that the latter are underestimates of total errors should be clear from the fact that in 12 out of 14 intervals , differences between solution and input are larger than the error bars and , in several cases , much larger than three times that . however , this does not seem to be the case for the errors computed by the _",
    "several solutions _ criterion . to test if the errors obtained in this way are similar to what should be expected in a gaussian case the following test has been done . for each age interval ,",
    "the parameter @xmath42 has been computed , where @xmath12 stands for the age interval , @xmath43 is the rms of the solutions and @xmath44 and @xmath45 refer to the output ( or solution ) and input values of @xmath29 , respectively . in other words ,",
    "@xmath46 parameters are the absolute values of the differences between solution and input measured in units of the corresponding @xmath47 values .",
    "the @xmath46 parameters have been sorted and plotted in fig .",
    "[ f09_minniac2 ] together with the values of a standard gaussian random variable . for the latter ,",
    "@xmath28 experiments have been done .",
    "for each one , 14 values have been randomly given to the random variable and then sorted from smaller to larger .",
    "the values represented in fig .",
    "[ f09_minniac2 ] ( open circles ) are the averages for the @xmath28 experiments while the errors bars show the corresponding rms dispersions .",
    "it can be seen that a reasonable agreement exists between our results and the gaussian case , indicating that the _ several solutions _ approach produces reliable estimates of total internal errors .",
    "observational effects include limited signal - to - noise , incompleteness , source blending , image read - out noise as well as not fully removed artifacts in the data reduction process ( flat - field correction , etc ) . all together , their effects on the cmd are the loss of stars and dispersion and shift of points , all depending on magnitude and color .    the best way to test how all these effects influence the sfh solution is working with synthetic cmds , in which they have been simulated . for our particular purpose",
    "we have introduced random rejection and gaussian dispersion of points , both depending on magnitude , in the mcmd and the scmd .",
    "this approach is enough for this test although a more realistic simulation of observational effects should be used in real cases ( see hidalgo et al .",
    "2009 ) . for rejection we have used the completeness curve obtained for the cmd of the phoenix dwarf galaxy ( hidalgo et al .",
    "2009 ) and displayed in fig .",
    "[ f10_comiacpop ] .",
    "this curve shows the probability that a star of magnitude @xmath48 is conserved in mcmd or scmd . a shift in @xmath49 and @xmath50 magnitudes",
    "is then applied to conserved stars . @xmath49 and @xmath50",
    "are decided stochastically according to gaussian distributions of @xmath51 and @xmath52 which are functions of @xmath53 and @xmath48 respectively and have been estimated using the cmd of the phoenix dwarf galaxy ( hidalgo et al .",
    "[ f11_gaussiacpop ] shows the @xmath49 and @xmath50 actually used .",
    "figure [ f12_dcm_err ] shows mcmd after simulation of the observational effects .",
    "figure [ f13_crow ] shows the solution after simulating observational effects in mcmd and scmd .",
    "figure [ f14_sol_crow ] shows the cmd corresponding to the sfh given in fig .",
    "[ f13_crow ] . as a result of the effects introduced in the cmd , @xmath1 and also the projected @xmath29 and @xmath33 appear noisier than for the observational effect free case .",
    "however , results are similar to those of the observational effects free case , showing iac - pop robustness against observational effects .      working on cmds",
    "in which observational effects have been simulated allows testing the capability of iac - pop to handle real observations .",
    "however , scmd and mcmd have been built with the same stellar evolution library , which removes the uncertainty introduced by our limited knowledge of stellar evolution .",
    "an idea of how this modeling affects results can be obtained by using different libraries to generate mcmd and scmd . to this purpose , iac - star has been used to compute an scmd using the padua stellar evolution library ( bertelli et al .",
    "the input parameters have been the same as before .",
    "figure [ f15_nocrow_modelo2 ] shows the corresponding solution .",
    "discrepancies between input and solution show now significant systematic effects .",
    "differences are attributed to the stellar evolution model differences and therefore , the use of more than one stellar evolution library is recommended when analyzing a real population to test these effects .",
    "table [ consistable ] summarizes the tests carried out in the present section .",
    "column 1 identifies the test .",
    "column 2 gives the @xmath24 value of the solution obtained for each test .",
    "columns 3 , 4 and 5 give , respectively , the total mass ( @xmath54 ) , mean age ( @xmath55 ) , and mean metallicity ( @xmath56 ) of the stars in the mock population ( first row ) and the solutions .",
    "agreement on integral and average values between mock population and solutions is good in all the cases , but @xmath24 is large for the case in which different stellar evolution libraries are used to compute the mock and the global synthetic populations .",
    "time resolution is an important issue in the solution of the sfh . in general",
    ", it worsens for older ages .",
    "moreover , it is ultimately limited by the quality of the data which depends on the signal to noise with which each feature in the cmd is observed , the spatial resolution of the data and the number of stars in the cmd but not by the choice of the temporal sampling , which can be arbitrarily small . olsen ( 1999 ) , in his figure 10 , shows how the solution found for a synthetic stellar population is closer to the input as time sampling intervals become larger .",
    "this indicates that solutions averaged over large time intervals may be quite accurate , but that short time sampling could result in spuriously fluctuating solutions as shown also in aparicio et al .",
    "( 1997 ) ( see also skillman & gallart 2002 ) .    to test both time resolution and accuracy",
    "a mock population in which star formation has proceed in sharp bursts has been solved . to this purpose",
    "the mock population shown in fig .",
    "[ f16_sfhmodelo_2burst ] has been used together with the teramo - basti ( pietrinferni et al .",
    "2004 ) library to compute the mcmd of fig .",
    "[ f17_dcm_err_2burst ] in which observational effects have been simulated .",
    "a solution has been sought using a scmd computed from the global synthetic population shown in fig .",
    "[ f03_sfhsintetica ] and the teramo - basti library also , following the same procedure explained above . the solution is shown in fig .",
    "[ f18_sfh_gridcrow_2burst ] .",
    "the solution accuracy and precision are good , which provides a further test of internal consistency of iac - pop , now including its capability to recover age and burst sharpness , at least for the time resolution and observational effects used in our example .",
    "iac - pop has been designed with the idea in mind of solving for @xmath1 .",
    "however , the code as it is , is blind to the nature of the parameters behind the models used to generate the input information provided to it .",
    "rigorously , the code searches for the linear combination ( with positive or null coefficients ) of a set of @xmath57 reference vectors best reproducing a set of @xmath23 properties of a template vector of dimension @xmath23 .",
    "if run for solving the sfh , the latter is associated to the stellar population , @xmath23 is the number of bins in which the cmd is divided and @xmath58 is the number of simple populations into which the global synthetic scmd has been divided . we have discussed the sfh case in detail , but it should be kept in mind that the code is of more general application and that , if the @xmath57 reference vectors are defined otherwise , the found solution will include other properties of the galaxy or , in general , of the problem being analyzed .",
    "iac - pop is made available for free use .",
    "it can be downloaded from the internet site http://iac-star.iac.es/iac-pop . together to iac - pop , a number of interactive software facilities will be also made available from this site or from sites accessible from it , including the synthetic stellar populations and cmd generator iac - star .",
    "iac - pop is currently offered compiled for several computer operating systems , like linux , macos or windows . in the following",
    "we will describe the input parameters and summarize the content of the output file .",
    "the input is provided in two files .",
    "the first one , which we call the input parameter file , provides several choices about the computation procedure , as follows :    * the input and output data files ( see below ) . * the number of age and metallicity bins , @xmath59 and @xmath60 . * the number of boxes , @xmath23 , defined in the observational and synthetic cmds . * a seed for the random number generator used by the genetic algorithm . *",
    "number of computed solutions , i.e. the number of times that the genetic algorithm is run .",
    "each run starts with a different random number generator seed and provides an independent solution . in this way",
    "the possibility that the genetic code is trapped in a secondary minimum is minimized ( see charbonneau 1995 ) . *",
    "number of generations computed for each single genetic solution . * number of solutions changing input star count values according to a poisson statistics .",
    "this provides a way of formal error estimation based upon the internal accuracy of the input observational data .",
    "this step is quite time consuming and should be set to 0 when not necessary .",
    "* a good enough @xmath61 value .",
    "the program will accept as good enough a solution with a @xmath61 less or equal to this even if it has not reached the number of generations provided above .",
    "to switch - off this condition , set this value to 0 .",
    "the second file , which we call the input data file , is a list of @xmath62 numbers . for more clarity",
    "we can assume them organized as @xmath63 rows each one containing @xmath23 numbers , but it must be noted that separation into different rows is not necessary .",
    "the content of the rows is as follows :    * first row : observational data .",
    "the @xmath23 values provide the number of stars in each of the @xmath23 boxes defined in the cmd for the observational data . for a general problem",
    ", they provide the values of the evaluated property .",
    "* rows from second to last ( i.e. , @xmath64 ) : data for the simple synthetic populations .",
    "explicitly , the @xmath12-th row provides the number of stars in each of the @xmath23 boxes defined in the cmd of the @xmath65-th simple population extracted from the global synthetic population . for a general problem , they provide values corresponding to the @xmath65-th simple model .    in other words ,",
    "each row contains the star counts in the boxes defined in the observational ( first row ) and the simple synthetic populations ( second to last rows ) cmds .",
    "note that the @xmath23 boxes are the same for all the involved cmds , observational and synthetic , and that the latter should contain a simulation of observational effects .",
    "the boxes set definition and the time and metallicity resolution are to be decided by the user . for simplicity ,",
    "in the following we will refer only to the case of interest in this paper of solving a sfh using cmds , but it should be kept in mind that any other , similarly parametrized problem could be faced .      upon completion ,",
    "iac - pop produces an output file containing the solutions and the formal errors .",
    "the content of the output file is structured in several labeled sets with the following content :    * the solutions obtained in the several independent code runs .",
    "each row corresponds to one solution and contains @xmath63 data : the @xmath57 @xmath25 parameters of the solutions plus its @xmath24 value . *",
    "the best of the former solutions , i.e. , the solution having the @xmath66 value .",
    "* the average of the former solutions and their dispersions .",
    "this average could in some cases be preferable to the solution having the @xmath66 value as it smooth out possible no realistic fluctuations .",
    "the dispersions are indicative of the solution stability , but not of its actual error .",
    "* dispersions of the computed solutions around the best one and the number of solutions found above and below the best one .",
    "this information is complementary to evaluate solution stability and fluctuations . *",
    "formal error estimate .",
    "solutions found for several observational input data sets in which the star counts corresponding to each of the @xmath23 boxes defined in the cmd are randomly changed according to a poisson statistics within @xmath67 , where @xmath68 is the actual number of stars in box @xmath13 .",
    "it must be noted that these errors are underestimates of the total internal errors . * standard deviations of the former solutions .",
    "upward and downward error bars and number of solutions above and below the best one are obtained in the same way as above .",
    "summarizing , iac - pop is a program designed to solve the sfh of a complex stellar population system , like a galaxy , from the analysis of the cmd . to this purpose",
    ", iac - pop uses a genetic algorithm ( charbonneau 1995 ) to minimize a reduced mighell s , @xmath69 , merit function ( mighell 1999 ) obtained from comparison of the parametrization of an observed and a synthetic cmd .",
    "the code main characteristics can be sketched as follows :    * the code needs the computation of only a single global synthetic cmd . as many simple population model cmd as necessary are later extracted from it .",
    "we call scmd this initial global synthetic cmd .",
    "* it is designed to solve simultaneously for age and metallicity distributions ; i.e. for the star formation rate as a function of time and metallicity , which provides also the chemical enrichment law .",
    "* the parametrization of observed and synthetic cmds is done by dividing the cmds in several boxes and counting out the stars in each one .",
    "this is the information provided to the code . *",
    "the former implies that the code application is not restricted to solve the problem of the sfh , but it is of general application to problems in which a similar parametrization can be done .",
    "* it is important to note that observational effects ( crowding , blending , completeness , etc ) must be simulated in the synthetic global data or in the input parametrization prior to run iac - pop . *",
    "a genetic algorithm is used to minimize the aforementioned merit function @xmath24 . *",
    "the final solution is provided as a linear combination of positive or null coefficients of the input simple population models . * in its current version , iac - pop provides the best solution for one or several runs .",
    "it also provides a formal error estimate based on poissonian random fluctuations of the input .",
    "it should be noted that these formal errors seem to be underestimates of the total internal errors of the problem .",
    "more realistic error estimates are obtained as the dispersion of several solutions obtained with several input parametrization to iac - pop ( which we have named _ several solutions _ procedure ) .",
    "the iac - pop user is strongly encouraged to implement it .",
    "the routine minniac will be provided under request to help in this job",
    ".    iac - pop has been run through several consistency tests . to this purpose",
    "a mock stellar population has been computed using iac - star and analyzed with iac - pop to obtain its sfh as if it were a real one .",
    "results have been compared with the input used to compute the mock population under different assumptions .    * for the first test , a sfh continuously varying as a function of time and metallicity was used for the mock population . the test simply consisted in deriving the sfh in an observational error free scenario and using a global scmd computed with the same stellar evolution library as for the mock population .",
    "results were in quite good agreement with input , proving the iac - pop code internal consistency .",
    "* the second test was a repetition of the former but after simulating observational effects both in the mock population mcmd and the global scmd .",
    "although noisier , the resulting sfh was also in good agreement with the input sfh , showing the robustness of the method against realistic observational effects .",
    "* the third test was a repetition of the former , including observational effects , but using different stellar evolution libraries to compute the mock population mcmd and the global scmd .",
    "this is expected to reproduce the effects introduced in the solution by the inaccurate knowledge of the stellar evolution physics .",
    "systematic trends show up due to the differences in the stellar evolution models and therefore , the use of more than one stellar evolution library is recommended when analyzing a real population to control these effects . *",
    "finally , the fourth test is done on a mock population made of two sharp bursts at young and intermediate to old ages .",
    "the bursts are well reproduced , even if observational effects are simulated , if the same stellar evolution library is used to compute the mock population mcmd and the global scmd .    in summary",
    ", iac - pop has been shown to be an useful tool to obtain the sfh from the cmd of resolved stellar systems .",
    "the program can be downloaded from the site http://iac-star.iac.es/iac-pop , with the only requirement of referencing this paper and acknowledging the iac in any derived publication .",
    "the routine minniac is also offered under request and at user s risk .",
    "its use requires also referencing this paper .",
    "it is intended to produce further improved versions of the program after feed - back by the user community .",
    "developing iac - pop and minniac has been greatly benefited from long discussions maintained with and many tests performed by s. cassisi , c. gallart , m. monnelli and e. skillman and by the very interesting comments of the anonnymous referee .",
    "the authors are funded by the iac ( grant 310394 ) and by the science and technology ministry of the kingdom of spain ( grants aya2004 - 3e4104 and aya2007 - 3e3507 ) .",
    "aparicio , a. 2002 , in _ observed hr diagrams and stellar evolution models : the interplay between observational constraints and theoretical limitations _",
    ", eds . t. lejeune & j. fernandes , asp conference series , 274 , 429                                                            skillman , e. , & gallart , c. 2002 , in observed hr diagrams and stellar evolution , asp conference proceedings , vol . 274 .",
    "edited by thibault lejeune and joo fernandes .",
    "isbn : 1 - 58381 - 116 - 8 .",
    "san francisco : astronomical society of the pacific , 2002 . ,"
  ],
  "abstract_text": [
    "<S> iac - pop is a code designed to solve the star formation history ( sfh ) of a complex stellar population system , like a galaxy , from the analysis of the color - magnitude diagram ( cmd ) . </S>",
    "<S> it uses a genetic algorithm to minimize a @xmath0 merit function comparing the star distributions in the observed cmd and the cmd of a synthetic stellar population . </S>",
    "<S> a parametrization of the cmds is used , which is the main input of the code . </S>",
    "<S> in fact , the code can be applied to any problem in which a similar parametrization of an experimental set of data and models can be made .    </S>",
    "<S> the method internal consistency and robustness against several error sources , including observational effects , data sampling and stellar evolution library differences , are tested . </S>",
    "<S> it is found that the best stability of the solution and the best way to estimate errors is obtained by several runs of iac - pop with varying the input data parametrization . </S>",
    "<S> the routine _ minniac _ is used to control this process .    </S>",
    "<S> iac - pop is offered for free use and can be downloaded from the site http://iac-star.iac.es/iac-pop . </S>",
    "<S> the routine minniac is also offered under request , but support can not be provided for its use . the only requirement for the use of iac - pop and minniac is referencing this paper and crediting as indicated in the site . </S>"
  ]
}