{
  "article_text": [
    "this is the second in the series of four papers initiated by @xcite and devoted to geometry behind directed networks on surfaces , with a particular emphasis on their poisson properties .    in @xcite , we concentrated on postnikov s construction @xcite that uses weighted directed planar graphs to parametrize cells in grassmannians .",
    "we found that the space of edge weights of networks in a disk can be endowed with a natural family of poisson brackets ( that we called _ universal _ ) that `` respects '' the operation of concatenation of diagrams .",
    "we have shown that , under postnikov s parametrization , these poisson brackets induce a two - parameter family of poisson brackets on the grassmannian . every poisson bracket in this family",
    "is compatible ( in the sense of @xcite ) with the cluster algebra on the grassmannian described in @xcite and , on the other hand , endows the grassmannian with a structure of a poisson homogeneous space with respect to the natural action of the general linear group equipped with an r - matrix poisson - lie structure .    as was announced in @xcite , the current paper builds a parallel theory for directed weighted networks in an annulus ( or , equivalently , on a cylinder ) .",
    "first , we have to modify the definition of the boundary measurement map , whose image now consists of rational valued matrix functions of an auxiliary parameter @xmath0 associated with the notion of a _ cut _ ( see section 1 ) .",
    "we then show that the analogue of postnikov s construction leads to a map into the space of loops in the grassmannian .",
    "universal poisson brackets for networks in an annulus are defined in exactly the same way as in the case of a disk .",
    "we show that they induce a two - parameter family of poisson brackets on rational - valued boundary measurement matrices",
    ". in particular , when sources and sinks belong to distinct circles bounding the annulus , one of the generators of these family coincides with the sklyanin r - matrix bracket associated with the trigonometric solution of the classical yang - baxter equation in @xmath1 .",
    "moreover , we prove that the two - parameter family of poisson brackets can be further pushed - forward to the space of loops in the grassmannian . in proving the latter",
    ", we departed from the approach of @xcite where the similar result was obtained via a more or less straightforward calculation .",
    "such an approach would have been too cumbersome in our current setting .",
    "instead , we found a way to utilize so - called _",
    "face weights _ and their behavior under _ path - reversal maps_.    the forthcoming third paper in this series @xcite focuses on particular graphs in an annulus that can be used to introduce a cluster algebra structure on the coordinate ring of the space of normalized rational functions in one variable .",
    "this space is birationally equivalent , via the moser map @xcite , to any minimal irreducible coadjoint orbit of the group of upper triangular matrices associated with a coxeter element of the permutation group . in this case",
    ", the poisson bracket compatible with the cluster algebra structure coincides with the quadratic poisson bracket studied in @xcite in the context of toda flows on minimal orbits .",
    "we show that cluster transformations serve as bcklund - darboux transformations between different minimal toda flows .",
    "the fourth paper @xcite solves , in the case of graphs in an annulus with one source and one sink , the inverse problem of restoring the weights from the image of the generalized postnikov map . in the case of arbitrary planar graphs in a disk , this problem was completely solved by postnikov @xcite who proved that for a fixed minimal graph , the space of weights modulo gauge action is birational to its image . to the contrary , already for simplest graphs in an annulus",
    ", the corresponding map can only be shown to be finite .",
    "the original application of directed weighted planar networks was in the study of total positivity , both in @xmath2 @xcite and in grassmannians @xcite .",
    "we do not address this issue for networks in an annulus .",
    "it has been studied in a recent preprint @xcite .",
    "the paper is organized as follows .    in section [ netsbm2 ] , we introduce a notion of a perfect network in an annulus and associate with every such network a _ matrix of boundary measurements_. each boundary measurement is shown to be a rational function in edge weights and in an auxiliary parameter @xmath0 , see corollary  [ sfree3 ] .",
    "besides , we define the space of face and trail weights , a generalization of the space of face weights studied in @xcite for the case of networks in a disk , and provide its cohomological interpretation , see section  [ cohomol ] .    in section [ psrat ] ,",
    "we characterize all _ universal _ poisson brackets on the space of edge weights of a given network that respect the natural operation of concatenation of networks , see proposition  [ 6param ] .",
    "furthermore , we establish that the family of universal brackets induces a linear two - parameter family of poisson brackets on the space of face and trail weights , see theorem  [ psviay ] , and hence on boundary measurement matrices , see theorem  [ psr ] .",
    "this family depends on a mutual location of sources and sinks , but not on the network itself .",
    "we provide an explicit description of this family in propositions  [ psre ] and  [ psre2 ] .",
    "an important tool in the proof of theorem  [ psr ] is the realization theorem , see theorem  [ realiz ] , that claims that any rational matrix function can be realized as the boundary measurement matrix of a network with a given set of sources and sinks .",
    "finally , if the sources and the sinks are separated , that is , all sources belong to one of the bounding circles of the annulus , and all sinks to the other bounding circle , one of the generators of the 2-parametric family can be identified with the r - matrix sklyanin bracket corresponding to the trigonometric r - matrix , see theorem  [ sklyaninbr ] .",
    "in section  [ psongrloop ] , the boundary measurement map defined by a network with @xmath3 sources , @xmath4 sinks and @xmath5 boundary vertices on the outer boundary circle is extended to the grassmannian boundary measurement map into the space @xmath6 of grassmannian loops .",
    "the poisson family on boundary measurement matrices allows us to equip @xmath6 with a two - parameter family of poisson brackets @xmath7 in such a way that for any choice of a universal poisson bracket on edge weights there is a unique member of @xmath7 that makes the grassmannian boundary measurement map poisson , see theorem  [ pslgr ] .",
    "this latter family depends only on the number of sources and sinks and on the distribution of the boundary vertices between the bounding circles of the annulus .",
    "the main tool in the proof of theorem  [ pslgr ] is the path reversal operation on networks and its properties , see theorem  [ pathrev ] .",
    "let @xmath8 be a directed planar graph drawn inside an annulus with the vertex set @xmath9 and the edge set @xmath10 .",
    "exactly @xmath11 of its vertices are located on the boundary circles of the annulus and are called _ boundary vertices _ ; @xmath12 of them lie on the outer circle , and @xmath13 on the inner circle .",
    "the graph is considered up to an isotopy relative to the boundary ( with fixed boundary vertices ) .",
    "each boundary vertex is marked as a source or a sink .",
    "a _ source _ is a vertex with exactly one outcoming edge and no incoming edges .",
    "_ sinks _ are defined in the same way , with the direction of the single edge reversed .",
    "all the internal vertices of @xmath14 have degree  @xmath15 and are of two types : either they have exactly one incoming edge , or exactly one outcoming edge .",
    "the vertices of the first type are called ( and shown in figures ) _ white _ , those of the second type , _",
    "black_.    a _ cut _",
    "@xmath16 is an oriented non - selfintersecting curve starting at a _ base point _ on the inner circle and ending at a base point on the outer circle considered up to an isotopy relative to the boundary ( with fixed endpoints ) .",
    "we assume that the base points of the cut are distinct from the boundary vertices of @xmath14 .",
    "for an arbitrary oriented curve @xmath17 with endpoints not lying on the cut @xmath16 we denote by @xmath18 the algebraic intersection number of @xmath17 and @xmath16 . recall that each transversal intersection point of @xmath17 and @xmath16 contributes to this number  @xmath19 if the oriented tangents to @xmath17 and @xmath16 at this point form a positively oriented basis , and @xmath20 otherwise .",
    "non - transversal intersection points are treated in a similar way .",
    "let @xmath21 be independent variables .",
    "perfect planar network in an annulus _",
    "@xmath22 is obtained from a graph @xmath14 equipped with a cut @xmath16 as above by assigning a weight @xmath23 to each edge @xmath24 .",
    "below we occasionally write `` network '' instead of `` perfect planar network in an annulus '' .",
    "each network defines a rational map @xmath25 ; the _ space of edge weights _ @xmath26 is defined as the intersection of the image of @xmath27 with @xmath28 . in other words ,",
    "a point in @xmath26 is a graph @xmath14 as above with edges weighted by nonzero real numbers obtained by specializing the variables @xmath21 in the expressions for @xmath29 .    a _ path _",
    "@xmath30 in @xmath31 is an alternating sequence @xmath32 of vertices and edges such that @xmath33 for any @xmath34 $ ] .",
    "sometimes we omit the names of the vertices and write @xmath35 .",
    "a path is called a _ cycle _ if @xmath36 and a _ simple cycle _ if additionally @xmath37 for any other pair @xmath38 .    to define the weight of a path we need the following construction .",
    "consider a closed oriented polygonal plane curve @xmath39 .",
    "let @xmath40 and @xmath41 be two consequent oriented segments of @xmath39 , and let @xmath42 be their common vertex .",
    "we assume for simplicity that for any such pair @xmath43 , the cone spanned by @xmath40 and @xmath41 is not a line ; in other words , if @xmath40 and @xmath41 are collinear , then they have the same direction .",
    "observe that since @xmath39 is not necessary simple , there might be other edges of @xmath39 incident to @xmath42 .",
    "let @xmath44 be an arbitrary oriented line .",
    "define @xmath45 in the following way : @xmath46 if the directing vector of @xmath44 belongs to the interior of the cone spanned by @xmath40 and @xmath41 and @xmath47 otherwise .",
    "define @xmath48 as the sum of @xmath49 over all pairs of consequent segments in @xmath39 .",
    "it follows immediately from theorem  1 in @xcite that @xmath48 does not depend on @xmath44 , provided @xmath44 is not collinear to any of the segments in @xmath39 .",
    "the common value of @xmath48 for different choices of @xmath44 is denoted by @xmath50 and called the _ concordance number _ of @xmath39 .",
    "in fact , @xmath50 equals @xmath51 the rotation number of @xmath39 ; the definition of the latter is similar , but more complicated .    in what follows",
    "we assume without loss of generality that @xmath31 is drawn in such a way that all its edges and the cut are smooth curves .",
    "moreover , any simple path in @xmath31 is a piecewise - smooth curve with no cusps , at any boundary vertex of @xmath31 the edge and the circle intersect transversally , and the same holds for the cut at both of its base points . given a path @xmath30 between a source @xmath52 and a sink @xmath53",
    ", we define a closed piecewise - smooth curve @xmath54 in the following way : if both @xmath52 and @xmath53 belong to the same circle , @xmath54 is obtained by adding to @xmath30 the path between @xmath53 and @xmath52 that goes counterclockwise along the boundary of the corresponding circle .",
    "otherwise , if @xmath52 and @xmath53 belong to distinct circles , @xmath54 is obtained by adding to @xmath30 the path that starts at @xmath53 , goes counterclockwise along the corresponding circle to the base point of the cut , follows",
    "the cut to the other base point and then goes counterclockwise along the other circle up to @xmath52 .",
    "clearly , the obtained curve @xmath54 does not have cusps , so its concordance number @xmath55 can be defined in a straightforward manner via polygonal approximation .",
    "finally the weight of @xmath30 is defined as @xmath56 where @xmath0 is an auxiliary independent variable .",
    "occasionally , it will be convenient to assume that the internal vertices of @xmath14 do not lie on the cut and to rewrite the above formula as @xmath57 where @xmath58 are _ modified edge weights_. observe that the weight of a path is a relative isotopy invariant , while modified edge weights are not .",
    "the weight of an arbitrary cycle in @xmath31 is defined in the same way via the concordance number of the cycle .",
    "if edges @xmath59 and @xmath60 in @xmath30 coincide and @xmath61 , the path @xmath30 can be decomposed into the path @xmath62 and the cycle @xmath63 .",
    "clearly , @xmath64 , and hence @xmath65    an example of a perfect planar network in an annulus is shown in fig .",
    "[ fig : pergrann ] on the left .",
    "it has two sources , @xmath66 on the outer circle and @xmath53 on the inner circle , and one sink @xmath52 on the inner circle .",
    "each edge @xmath59 is labeled by its weight .",
    "the cut is shown by the dashed line .",
    "the same network is shown in fig .",
    "[ fig : pergrann ] on the right ; it differs from the original picture by an isotopic deformation of the cut .",
    "consider the path @xmath67 from @xmath66 to @xmath52 .",
    "its algebraic intersection number with the cut equals  @xmath68 ( in the left picture , two intersection points contribute  @xmath19 each , and two other intersection points contribute  @xmath20 each ; in the right picture there are no intersection points ) .",
    "the concordance number of the corresponding closed curve @xmath69 equals  @xmath19 .",
    "therefore ,  ( [ weightviapath ] ) gives @xmath70 . on the other hand ,",
    "the modified weights for the left picture are given by @xmath71 , @xmath72 , @xmath73 , @xmath74 , and hence , computation via  ( [ weightviaedge ] ) gives @xmath75 . finally , the modified weights for the relevant edges in the right picture coincide with the original weights , and we again get the same result .",
    "consider the path @xmath76 from @xmath53 to @xmath52 .",
    "its algebraic intersection number with the cut equals  @xmath20 , and the concordance number of the corresponding closed curve @xmath77 equals  @xmath19 .",
    "therefore , @xmath78 . the same result can be obtained by using modified weights .    finally , consider the path @xmath79 from @xmath66 to @xmath52 .",
    "clearly , @xmath80",
    ". the path @xmath81 can be decomposed into the path @xmath82 as above and a cycle @xmath83 with the weights @xmath70 and @xmath84 , hence relation  ( [ offcycle ] ) yields the same expression for @xmath85 as before .",
    "let us see how moving a base point of the cut affects the weights of paths .",
    "let @xmath22 and @xmath86 be two networks with the same graph and the same weights , and assume that the cuts @xmath16 and @xmath87 are not isotopic .",
    "more exactly , let us start moving a base point of the cut in the counterclockwise direction .",
    "assume that @xmath66 is the first boundary vertex in the counterclockwise direction from the base point of @xmath16 that is being moved . clearly , nothing is changed while the base point and @xmath66 do not interchange .",
    "let @xmath87 be the cut obtained after the interchange , and assume that no other interchanges occured .",
    "then the relation between the weight @xmath88 of a path @xmath30 in @xmath31 and its weight @xmath89 in @xmath90 is given by the following proposition .",
    "[ movecut ] for @xmath31 and @xmath90 as above , @xmath91 where @xmath92 equals  @xmath68 if the endpoints of @xmath30 lie on the same circle and  @xmath19 otherwise , and @xmath93    the proof is straightforward .",
    "for example , consider the networks @xmath31 and @xmath90 shown in fig .",
    "[ fig : pergrann2 ] . the base point of the cut lying on the inner circle interchanges positions with the sink @xmath52 .",
    "the path @xmath82 from the previous example goes from the outer circle to the inner circle , so @xmath94 ; besides , @xmath52 is the sink of @xmath82 , so @xmath95 . therefore , by proposition  [ movecut ] , @xmath96 , which coincides with the value obtained via  ( [ weightviaedge ] ) .",
    "the path @xmath97 from the previous example starts and ends at the inner circle , so @xmath98 . besides , @xmath99 , and hence , by proposition  [ movecut ] , @xmath100 ; once again , this coincides with the value obtained via  ( [ weightviaedge ] ) .",
    "given a perfect planar network in an annulus as above , we label its boundary vertices @xmath101 in the following way . the boundary vertices lying on the outer circle",
    "are labeled @xmath102 in the counterclockwise order starting from the first vertex that follows after the base point of the cut .",
    "the boundary vertices lying on the inner circle are labeled @xmath103 in the clockwise order starting from the first vertex that follows after the base point of the cut .",
    "for example , for the network @xmath31 in fig .",
    "[ fig : pergrann2 ] , the boundary vertices are labeled as @xmath104 , @xmath105 , @xmath106 , while for the network @xmath90 , one has @xmath104 , @xmath107 , @xmath108 .",
    "the number of sources lying on the outer circle is denoted by @xmath109 , and the corresponding set of indices , by @xmath110 $ ] ; the set of the remaining @xmath111 indices is denoted by @xmath112 .",
    "similarly , the number of sources lying on the inner circle is denoted by @xmath113 , and the corresponding set of indices , by @xmath114 $ ] ; the set of the remaining @xmath115 indices is denoted by @xmath116 .",
    "finally , we denote @xmath117 and @xmath118 ; the cardinalities of @xmath119 and @xmath120 are denoted @xmath121 and @xmath122 .    given a source @xmath123 , @xmath124 , and a sink @xmath125 , @xmath126",
    ", we define the _ boundary measurement _ @xmath127 as the sum of the weights of all paths starting at @xmath123 and ending at @xmath125 .",
    "assume first that the weights of the paths are calculated via  ( [ weightviaedge ] ) .",
    "the boundary measurement thus defined is a formal infinite series in variables @xmath128 , @xmath24 .",
    "the following proposition holds true in @xmath129 $ ] .",
    "[ sfree2 ] let @xmath31 be a perfect planar network in an annulus , then each boundary measurement in @xmath31 is a rational function in the modified weights @xmath128 , @xmath24 .",
    "the proof by induction on the number of internal vertices literally follows the proof of the similar statement in @xcite .",
    "the only changes are that modified weights are used instead of original weights and that the counterclockwise cyclic order @xmath130 is replaced by the cyclic order @xmath131 induced by the labeling .    taking into account the definition of the modified weights , we immediately get the following corollary .",
    "[ sfree3 ] let @xmath31 be a perfect planar network in an annulus , then each boundary measurement in @xmath31 is a rational function in the parameter @xmath0 and the weights @xmath29 , @xmath24 .",
    "for example , the boundary measurement @xmath132 in the network @xmath90 shown on fig .",
    "[ fig : pergrann2 ] equals @xmath133    boundary measurements can be organized into a @xmath134 _ boundary measurement matrix _",
    "@xmath135 exactly as in the case of planar networks in the disk : let @xmath136 and @xmath137 , then @xmath138 , @xmath139 $ ] , @xmath140 $ ] , where @xmath141 .",
    "let @xmath142 stand for the space of real rational @xmath134 matrix functions in one variable .",
    "then each network @xmath31 defines a map @xmath143 given by @xmath135 and called the _ boundary measurement map _ corresponding to @xmath31 .",
    "the boundary measurement matrix has a block structure @xmath144 where @xmath145 is @xmath146 and @xmath147 is @xmath148 .",
    "moving a base point of the cut changes the weights of paths as described in proposition  [ movecut ] , which affects @xmath135 in the following way .",
    "define @xmath149 then interchanging the base point of the cut with @xmath150 implies transformation @xmath151 if @xmath150 is a source and @xmath152 if @xmath150 is a sink , while interchanging the base point of the cut with @xmath153 yields @xmath154 if @xmath153 is a source and @xmath155 if @xmath150 is a sink . note that @xmath156 and @xmath157 are @xmath158 in the first case , @xmath159 in the second case , @xmath160 in the third case and @xmath161 in the fourth case .",
    "let @xmath22 be a perfect network .",
    "consider the @xmath162-module @xmath163 generated by the edges of @xmath14 .",
    "clearly , points of @xmath26 can be identified with the elements of @xmath164 via @xmath165 , where @xmath166 is the abelian multiplicative group @xmath167 .",
    "further , consider the @xmath162-module @xmath168 generated by the vertices of @xmath14 and its @xmath162-submodule @xmath169 generated by the internal vertices . an arbitrary element @xmath170 acts on @xmath26 as follows : if @xmath171 then @xmath172 therefore , the weight of a path between the boundary vertices @xmath123 and @xmath125 is multiplied by @xmath173 .",
    "it follows that the _ gauge group _ @xmath174 , which preserves the weights of all paths between boundary vertices , consists of all @xmath170 such that @xmath175 for any boundary vertex @xmath66 , and can be identified with @xmath176 .",
    "thus , the boundary measurement map @xmath177 factors through the quotient space @xmath178 as follows : @xmath179 , where @xmath180 is the projection and @xmath181 is a map @xmath182 . the space @xmath183 is called the _ space of face and trail weights _ for the following reasons .    first , by considering the cochain complex @xmath184 with the coboundary operator @xmath185 defined by @xmath186 for @xmath171",
    ", we can identify @xmath183 with the first relative cohomology @xmath187 of the complex , where @xmath188 is the set of all boundary vertices of @xmath14 .",
    "second , consider a slightly more general situation , when the annulus is replaced by an arbitrary riemann surface @xmath189 with the boundary @xmath190 , and @xmath14 is embedded into @xmath189 in such a way that all vertices of degree 1 belong to @xmath191 ( boundary vertices ) .",
    "then the exact sequence of relative cohomology with coefficients in @xmath166 gives @xmath192    evidently , @xmath193 .",
    "next , @xmath194 , since each connected component of @xmath14 is connected to at least one connected component of @xmath190 , and hence @xmath195    the space @xmath196 can be described as follows",
    ". graph @xmath14 divides @xmath189 into a finite number of connected components called _",
    "faces_. the boundary of each face consists of edges of @xmath14 and , possibly , of several arcs of @xmath190 .",
    "a face is called _ bounded _ if its boundary contains only edges of @xmath14 and _ unbounded _ otherwise . given a face @xmath197 , we define its _ face weight _ @xmath198 as the function on @xmath26 that assigns to the edge weights @xmath29 , @xmath24 , the value @xmath199 where @xmath200 if the direction of @xmath201 is compatible with the counterclockwise orientation of the boundary @xmath202 and @xmath203 otherwise .",
    "it follows immediately from the definition that face weights are invariant under the gauge group action , and hence are functions on @xmath196 , and , moreover , form a basis in the space of such functions .",
    "consider now the space @xmath204 . if @xmath189 is a disk , then @xmath205 , and hence @xmath183 and @xmath196 coincide .",
    "this case was studied in @xcite , and the space @xmath183 was called there the _ space of face weights_. if @xmath189 is an annulus , there are two possible cases . indeed , @xmath206 . the dimension of @xmath207 is either @xmath208 or @xmath19 , depending on the existence of a trail connecting the components of @xmath190 . here",
    "trail _ is a sequence @xmath209 of vertices such that either @xmath210 or @xmath211 is an edge in @xmath14 for all @xmath212 $ ] an the endpoints @xmath213 and @xmath214 are boundary vertices of @xmath14 .",
    "given a trail @xmath215 , the _ trail weight _",
    "@xmath216 is defined as @xmath217 where @xmath218 clearly , the trail weights are invariant under the action of the gauge group .    if @xmath14 does not contain a trail connecting the inner and the outer circles , then @xmath219 , and hence @xmath205 .",
    "otherwise , @xmath220 , and hence @xmath221 . the functions on @xmath204 are generated by the weight of any connecting trail .",
    "the construction of a poisson structure on the space @xmath26 for perfect planar networks in an annulus is a straightforward extension of the corresponding construction for the case of the disk studied in @xcite .",
    "let g be a directed planar graph in an annulus as described in section  [ pandw2 ] .",
    "a pair @xmath222 is called a _ flag _ if @xmath42 is an endpoint of @xmath201 .",
    "to each internal vertex @xmath42 of @xmath14 we assign a 3-dimensional space @xmath223 with coordinates @xmath224 .",
    "we equip each @xmath223 with a poisson bracket @xmath225 .",
    "it is convenient to assume that the flags involving @xmath42 are labeled by the coordinates , as shown on figure  [ fig : trefoils ] .",
    ", height=56 ]    besides , to each boundary vertex @xmath125 of @xmath14 we assign a 1-dimensional space @xmath226 with the coordinate @xmath227 ( in accordance with the above convention , this coordinate labels the unique flag involving @xmath125 ) .",
    "define @xmath228 to be the direct sum of all the above spaces ; thus , the dimension of @xmath228 equals twice the number of edges in @xmath14 .",
    "note that @xmath228 is equipped with a poisson bracket @xmath229 , which is defined as the direct sum of the brackets @xmath225 ; that is , @xmath230 whenever @xmath231 and @xmath232 are not defined on the same @xmath223 .",
    "we say that the bracket @xmath229 is _ universal _ if each of @xmath225 depends only on the color of the vertex @xmath42 .",
    "define the weights @xmath29 by @xmath233 provided the flag @xmath222 is labeled by @xmath234 and the flag @xmath235 is labeled by @xmath236 . in other words ,",
    "the weight of an edge is defined as the product of the weights of the two flags involving this edge .",
    "therefore , in this case the space of edge weights @xmath237 coincides with the entire @xmath28 , and the weights define a _ weight map _ @xmath238 .",
    "we require the pushforward of @xmath229 to @xmath28 by the weight map to be a well defined poisson bracket ; this can be regarded as an analog of the poisson ",
    "lie property for groups .",
    "[ 6param ] universal poisson brackets @xmath229 such that the weight map @xmath27 is poisson form a @xmath239-parametric family defined by relations @xmath240 , i\\ne j,\\ ] ] at each white vertex @xmath42 and @xmath241 , i\\ne j,\\ ] ] at each black vertex @xmath42 .",
    "indeed , let @xmath42 be a white vertex , and let @xmath242 and @xmath243 be the two outcoming edges . by definition ,",
    "there exist @xmath244 $ ] , @xmath38 , such that @xmath245 , @xmath246 .",
    "therefore , @xmath247 where @xmath248 stands for the pushforward of @xmath229 . recall that the poisson bracket in @xmath223 depends only on @xmath249 , @xmath250 and @xmath251 .",
    "hence the only possibility for the right hand side of the above relation to be a function of @xmath29 and @xmath252 occurs when @xmath253 , as required .",
    "black vertices are treated in the same way .",
    "the 6-parametric family of universal poisson brackets described in proposition  [ 6param ] induces a 6-parametric family of poisson brackets @xmath254 on @xmath26 .",
    "our next goal is to study the pushforward of this family to @xmath183 by the map @xmath232 .",
    "[ psviay ] the 6-parametric family @xmath254 induces a 2-parametric family of poisson brackets @xmath255 on @xmath183 with parameters @xmath256 and @xmath257 given by @xmath258    in what follows it will be convenient to assume that boundary vertices are colored in _",
    "gray_. let @xmath171 be a directed edge .",
    "we say that the flag @xmath235 is _ positive _ , and the flag @xmath222 is _",
    "negative_. the color of a flag is defined as the color of the vertex participating in the flag .",
    "consider first a bracket of two face weights .",
    "let @xmath197 and @xmath259 be two faces of @xmath31 .",
    "we say that a flag @xmath222 is _ common _ to @xmath197 and @xmath259 if both @xmath42 and @xmath201 belong to @xmath260 .",
    "clearly , the bracket @xmath261 can be calculated as the sum of the contributions of all flags common to @xmath197 and @xmath259 .",
    "assume that @xmath222 is a positive white flag common to @xmath197 and @xmath259 , see fig .",
    "[ fig : comflag ] . then @xmath262 and @xmath263 , where @xmath264 are the weights of flags involving @xmath42 and @xmath265 .",
    "therefore , by  ( [ 6parw ] ) , the contribution of @xmath222 equals @xmath266 , which by  ( [ cond ] ) equals @xmath267 .",
    "assume now that @xmath222 is a negative white flag common to @xmath197 and @xmath259 , see fig .",
    "[ fig : comflag ] . in this case @xmath268 and @xmath263 , so the contribution of @xmath222 equals @xmath269 .        in a similar way one",
    "proves that the contribution of a positive black flag common to @xmath197 and @xmath259 equals @xmath270 , and the contribution of a negative black flag common to @xmath197 and @xmath259 equals @xmath271 .",
    "finally , the contributions of positive and negative gray flags are clearly equal to zero .",
    "therefore , the brackets @xmath261 form a 2-parametric family with parameters @xmath256 and @xmath257 defined by  ( [ cond ] ) .    the case of a bracket @xmath272 is treated in a similar way .",
    "fix an arbitrary pair of partitions @xmath273 $ ] , @xmath274 , @xmath275 $ ] , @xmath276 , and denote @xmath277 , @xmath278 .",
    "let @xmath279 stand for the set of all perfect planar networks in an annulus with the sources @xmath123 , @xmath280 and sinks @xmath125 , @xmath281 , on the outer circle , sources @xmath123 , @xmath282 and sinks @xmath125 , @xmath283 , on the inner circle , and edge weights @xmath29 defined by  ( [ connect ] ) .",
    "we assume that the space of edge weights @xmath284 is equipped with the poisson bracket @xmath248 obtained as the pushforward of the 6-parametric family @xmath285 described in proposition  [ 6param ] .",
    "[ psr ] there exists a @xmath208-parametric family of poisson brackets @xmath286 on @xmath142 with the following property : for any choice of parameters @xmath287 , @xmath288 in  ( [ 6parw ] ) , ( [ 6parb ] ) this family contains a unique poisson bracket on @xmath142 such that for any network @xmath289 the map @xmath290 is poisson .",
    "first of all , we use the factorization @xmath291 to decrease the number of parameters . by theorem  [ psviay ]",
    ", it suffices to consider the 2-parametric family @xmath292 and @xmath293 with @xmath256 and @xmath257 defined by  ( [ cond ] ) , instead of the 6-parametric family  ( [ 6parw ] ) ,  ( [ 6parb ] )    the rest of the proof consists of two major steps .",
    "first , we compute the induced poisson bracket on the image of the boundary measurement map .",
    "more exactly , we show that the bracket @xmath254 of any pair of pullbacks of coordinate functions on the image can be expressed in terms of pullbacks of other coordinate functions , and that for fixed @xmath294 these expressions do not depend on the network @xmath289 .",
    "second , we prove that any rational matrix function belongs to the image of the boundary measurement map ( for a sufficiently large @xmath289 ) , and therefore @xmath254 induces @xmath286 on @xmath142 .",
    "this approach allows us to circumvent technical difficulties one encounters when attempting to check the jacobi identity in the image in a straightforward way .    to compute the induced poisson bracket on the image of the boundary measurement map , we consider coordinate functions @xmath295 that assign to any @xmath296 its value at point @xmath215 . given a pair of two matrix entries",
    ", it suffices to calculate the bracket between arbitrary pair of functions @xmath297 and @xmath298 defined on two copies of @xmath299 representing these entries .",
    "since the pullback of @xmath297 is the corresponding component of @xmath300 , we have to deal with expressions of the form @xmath301 .    to avoid overcomplicated formulas we consider separately two particular representatives of the family  ( [ 2parw ] ) ,  ( [ 2parb ] ) : 1 ) @xmath302 , and 2 ) @xmath303 .",
    "any member of the family can be represented as a linear combination of the above two .",
    "denote by @xmath304 the member of the 2-parametric family  ( [ 2parw ] ) ,  ( [ 2parb ] ) corresponding to the case @xmath302 .",
    "besides , define @xmath305 ; clearly , @xmath306 is closely related to @xmath307 defined and studied in  @xcite .",
    "the bracket induced by @xmath304 on the image of the boundary measurement map is completely described by the following statement .",
    "[ psre ] ( i ) let @xmath308 $ ] and @xmath309 , then @xmath310 where @xmath311    \\(ii ) let @xmath312 $ ] and @xmath313 , then @xmath314 where @xmath315    \\(iii ) let @xmath316 , then @xmath317    \\(iv ) let @xmath318 , then @xmath319    let us first make sure that relations  ( [ psre1])([psre4 ] ) indeed allow to compute @xmath320 for any @xmath321 $ ] and @xmath322 $ ] .",
    "this is done by employing the following three techniques :     moving a base point of the cut ;     reversing the direction of the cut ;     reversing the orientation of boundary circles .",
    "the first of the above techniques has been described in detail in section  [ pandw2 ] .",
    "for example , let @xmath323 .",
    "this case is not covered explicitly by relations  ( [ psre1])([psre4 ] ) .",
    "consider the network @xmath90 obtained from @xmath31 by moving the base point of the cut on the outer circle counterclockwise and interchanging it with @xmath324 . in this new network",
    "one has @xmath325 , so the conditions of proposition  [ psre](i ) are satisfied and  ( [ psre1 ] ) yields @xmath326 by lemma  [ movecut ] , @xmath327 finally , @xmath328 for any pair of edge weights , so we get @xmath329    reversing the direction of the cut transforms the initial network @xmath31 to a new network @xmath90 ; the graph @xmath14 remains the same , while the labeling of its boundary vertices is changed .",
    "namely , the @xmath330 boundary vertices lying on the inner circle are labeled @xmath331 in the clockwise order starting from the first vertex that follows after the base point of the cut .",
    "the boundary vertices lying on the outer circle are labeled @xmath332 in the counterclockwise order starting from the first vertex that follows after the base point of the cut .",
    "the transformation @xmath333 is better visualized if the network is drawn on a cylinder , instead of an annulus .",
    "the boundary circles of a cylinder are identical , and reversing the direction of the cut simply interchanges them . clearly",
    ", the boundary measurements in @xmath31 and @xmath90 are related by @xmath334 for any @xmath335 , @xmath336 . besides , @xmath328 for any pair of edge weights . therefore , an expression for @xmath337 via @xmath338 , @xmath339 , @xmath340 , @xmath341 is transformed to the expression for @xmath342 via @xmath343 , @xmath344 , @xmath345 , @xmath346 by the substitution @xmath347 and @xmath348 in coefficients .",
    "for example , let @xmath349 .",
    "this case is not covered explicitly by relations  ( [ psre1])([psre4 ] ) .",
    "consider the network @xmath90 obtained from @xmath31 by reversing the direction of the cut . in this new network",
    "one has @xmath350 , so the conditions of proposition  [ psre](ii ) are satisfied and  ( [ psre2 ] ) yields @xmath351 applying the above described rule one gets @xmath352    finally , reversing the orientation of boundary circles also retains the graph @xmath14 and changes the labeling of its boundary vertices .",
    "namely , the @xmath353 boundary vertices of @xmath90 lying on the outer circle are labeled @xmath102 in the clockwise order starting from the first vertex that follows after the base point of the cut . the boundary vertices lying on the inner circle",
    "are labeled @xmath103 in the counterclockwise order starting from the first vertex that follows after the base point of the cut .",
    "the transformation @xmath333 may be visualized as a mirror reflection . clearly , the boundary measurements in @xmath31 and @xmath90 are related by @xmath334 for any @xmath335 , @xmath336 .",
    "besides , @xmath354 for any pair of edge weights .",
    "therefore , the transformation of the expressions for the brackets differs from the one for the case of cut reversal by factor @xmath20 .",
    "for example , let @xmath323 .",
    "this case is not covered explicitly by relations  ( [ psre1])([psre4 ] ) .",
    "consider the network @xmath90 obtained from @xmath31 by reversing the orientation of boundary circles . in this new network",
    "one has @xmath355 , so the conditions of proposition  [ psre](iv ) are satisfied and  ( [ psre4 ] ) yields @xmath356 applying the above described rule one gets @xmath357    elementary , though tedious , consideration of all possible cases reveals that indeed any quadruple @xmath358 can be reduced by the above three transformations to one of the quadruples mentioned in the statement of proposition  [ psre ] .",
    "it is worth to note that cases ( i ) and ( ii ) are not independent .",
    "first , they both apply if @xmath359 ; the expressions prescribed by  ( [ psre1 ] ) and  ( [ psre2 ] ) are distinct , but yield the same result : @xmath360 besides , the expression for @xmath361 in case ( ii ) can be obtained from the expressions for @xmath362 in case ( i ) by reversing the direction of the cut .",
    "however , we think that the above presentation , though redundant , better emphasizes the underlying symmetries of the obtained expressions .",
    "the proof of relations  ( [ psre1])([psre4 ] ) is similar to the proof of theorem  3.3 in @xcite and is based on the induction on the number of internal vertices in @xmath31 .",
    "the key ingredient of the proof is the following straightforward analog of lemma  3.5 from @xcite .",
    "consider an arbitrary boundary vertex @xmath123 ( without loss of generality we may assume that @xmath123 lies on the outer circle of the annulus ) and suppose that the neighbor of @xmath123 is a black vertex @xmath363 . denote by @xmath364 the unique vertex in @xmath14 such that @xmath365 , and by @xmath366 the neighbor of @xmath363 distinct from @xmath364 and @xmath123 .",
    "create a new network @xmath367 by deleting @xmath123 and the edge @xmath368 from @xmath14 , splitting @xmath363 into one new source @xmath369 and one new sink @xmath370 placed on the outer circle ( so that either @xmath371 or @xmath372 ) and replacing the edges @xmath373 and @xmath374 by new edges @xmath375 and @xmath376 , see figure  [ fig : blackforkan ] .",
    "we may assume without loss of generality that the cut @xmath16 in @xmath31 does not intersect the edge @xmath377 , and hence @xmath16 remains a valid cut in @xmath367 .",
    "( upper part ) and @xmath378 ( lower part),height=302 ]    [ recalcan ] boundary measurements in the networks @xmath31 and @xmath367 are related by @xmath379 in the second formula above , sign @xmath380 corresponds to the cases @xmath381 and sign @xmath382 corresponds to the cases @xmath383 where @xmath130 is the cyclic order @xmath384 .",
    "we leave the details of the proof to the interested reader .",
    "denote by @xmath385 the member of the 2-parametric family  ( [ 2parw ] ) ,  ( [ 2parb ] ) corresponding to the case @xmath303 .",
    "besides , define @xmath386 ; clearly , @xmath387 is closely related to @xmath388 defined and studied in  @xcite .",
    "the bracket induced by @xmath385 on the image of the boundary measurement map is completely described by the following statement .",
    "[ psre2 ] ( i ) let @xmath309 , then @xmath389 where @xmath390 and @xmath391 , @xmath392 are the derivatives of @xmath393 and @xmath394 .",
    "\\(ii ) let @xmath395 and either @xmath396 or @xmath397 , then @xmath398    \\(iii ) let @xmath399 and either @xmath400 or @xmath401 , then @xmath402    the proof is similar to the proof of proposition  [ psre ] .",
    "we leave the details to the interested reader .",
    "it is worth to mention that the bracket induced on @xmath134 matrices via perfect planar networks in a disk , which was studied in @xcite , can be considered as a particular case of  ( [ psre1])([psre4 ] ) ( for @xmath302 ) or  ( [ psre21])([psre23 ] ) ( for @xmath303 ) . to see this it suffices to consider only networks without edges that intersect the cut @xmath16 , and to cut the annulus along @xmath16 in order to get a disk .      to conclude the proof of theorem  [ psr ] we need the following statement .",
    "we say that @xmath403 is _ represented by _ a network @xmath31 if @xmath404 belongs to the image of @xmath135 .",
    "[ realiz ] for any @xmath403 there exists a network @xmath405 such that @xmath404 is represented by @xmath31 .",
    "we preface the proof by the following simple observation concerning perfect planar networks in a disk .",
    "[ transpos ] let @xmath406 , @xmath407 , @xmath408 .",
    "there exists a network @xmath409 such that the @xmath410 identity matrix is represented by @xmath411 .",
    "the proof is furnished by the network depicted on fig .  [ fig : transpos ] .",
    "the corresponding boundary measurement matrix is given by @xmath412 which yields the identity matrix for @xmath413 and @xmath414 for @xmath415 .",
    ", height=170 ]    effectively , lemma  [ transpos ] says that the planarity restriction can be omitted in the proof of theorem  [ realiz ] . indeed ,",
    "if @xmath403 is represented by a nonplanar perfect network in an annulus , one can turn it to a planar perfect network in annulus by replacing each intersection by a copy of @xmath411 .    in what follows",
    "we make use of the concatenation of planar networks in an annulus .",
    "similarly to the case of networks in a disk , the most important particular case of concatenation arises when the sources and the sinks are separated , that is , all sources lie on the outer circle , and all sinks lie on the inner circle .",
    "we can concatenate two networks of this kind , one with @xmath3 sources and @xmath416 sinks and another with @xmath416 sources and @xmath44 sinks , by gluing the sinks of the former to the sources of the latter .",
    "more exactly , we glue together the inner circle of the former network and the outer circle of the latter in such a way that the corresponding base points of the cuts are identified , and the @xmath417th sink of the former network is identified with the @xmath418th source of the latter .",
    "the erasure of the common boundary and the identification of edges are performed exactly as in the case of a disk .",
    "let us start with representing any rational function @xmath419 by a network with the only source on the outer circle and the only sink on the inner circle .",
    "[ 1 - 1realiz ] any rational function @xmath419 can be represented by a network @xmath420 .",
    "first , if networks @xmath421 represent functions @xmath422 and @xmath423 respectively , their concatenation @xmath424 represents @xmath425 .",
    "second , define the _ direct sum _",
    "@xmath426,\\varnothing,\\varnothing,[3,4]}$ ] as shown in the left part of fig .",
    "[ fig : dirsum ] . the shadowed annuli contain networks @xmath427 and @xmath428 .",
    "the intersections of the dashed parts of additional edges with the edges of @xmath427 and @xmath428 are resolved with the help of @xmath411 ( not shown ) .",
    "note that this direct sum operation is not commutative .",
    "clearly , @xmath429 represents the @xmath410 matrix @xmath430 .",
    "the direct sum of networks is used to represent the sum @xmath431 as shown in the right part of fig .",
    "[ fig : dirsum ] .",
    "third , if @xmath420 represents @xmath404 , the network shown in fig .",
    "[ fig : netdenom ] represents @xmath432 , and , with a simple adjustment of weights , can also be used to represent @xmath433 . taking the direct sum with the trivial network representing  @xmath19",
    ", we get a representation for @xmath434 .    ,",
    "height=188 ]    finally , functions @xmath435 for any integer @xmath3 can be represented by networks in @xmath436 .",
    "the cases @xmath437 and @xmath438 are shown in fig .",
    "[ fig : rep1 ] .",
    "other values of @xmath3 are obtained in the same way .",
    "for @xmath437 ( left ) and @xmath438 ( right),height=151 ]    we now have all the ingredients for the proof of the lemma .",
    "any rational function @xmath404 can be represented as @xmath439 , where @xmath440 is an integer and @xmath441 is a polynomial satisfying @xmath442 .",
    "therefore , it suffices to represent each of the summands , and to use the direct sum construction .",
    "each summand , in its turn , is represented by the concatenation of a network representing @xmath443 with a network representing @xmath444 .",
    "the latter network is obtained as explained above from a network representing @xmath445 via the direct sum construction .    to get an analog of lemma  [ 1 - 1realiz ] for networks with the only source and the only sink on the outer circle",
    ", one has to use once again lemma  [ transpos ] .",
    "[ 2 - 0realiz ] any rational function @xmath419 can be represented by a network @xmath446 .",
    "such a representation is obtained from the one constructed in the proof of lemma  [ 1 - 1realiz ] by replacing the edge incident to the sink with a new edge sharing the same tail .",
    "the arising intersections , if any , are resolved with the help of @xmath411 . for example , representation of @xmath447 obtained this way is shown in fig .",
    "[ fig : rep6 ] on the right .",
    "it makes use of the network @xmath411 described in lemma  [ transpos ] ; the latter is shown in thin lines inside a dashed circle .",
    "note that the network on the left , which represents @xmath447 in @xmath436 , is not the one built in the proof of lemma  [ 1 - 1realiz ] .     by a network in @xmath436 ( left ) and @xmath448 ( right),height=188 ]    representation of rational functions by networks in @xmath449 and @xmath450",
    "is obtained in a similar way . in the latter case one",
    "has to replace also the edge incident to the source with a new one sharing the head .",
    "the next step is to prove theorem  [ realiz ] in the case when all sources lie on the outer circle and all sinks lie on the inner circle .",
    "[ seprealiz ] for any rational matrix @xmath403 there exists a network @xmath451,\\varnothing,\\varnothing,[k+1,k+m]}$ ] such that @xmath404 is represented by @xmath31 .",
    "first of all , we represent @xmath404 as @xmath452 , where @xmath453 is the @xmath454 constant matrix given by @xmath455 @xmath456 is the @xmath457 diagonal matrix @xmath458 and @xmath459 is the @xmath460 constant matrix @xmath461 with @xmath462 .",
    "similarly to the case of networks in a disk , the concatenation of networks representing matrices @xmath422 and @xmath423 produces a network representing @xmath463 .",
    "therefore , in order to get @xmath404 as above , we have to represent matrices @xmath464 , @xmath465 and @xmath466 .",
    "the first representation is achieved trivially as the disjoint union of networks representing the @xmath467 matrix @xmath468 ; in fact , since @xmath464 is constant , it can be represented by a network in a disk .",
    "the second representation is obtained as the direct sum of networks representing each of @xmath469 .",
    "finally , the third representation can be also achieved by a network in a disk , via a repeated use of the network @xmath411 .",
    "observe that in order to represent a @xmath134 matrix we have to use intermediate matrices of a larger size .    to complete the proof of theorem  [ realiz ] we rely on lemma  [ seprealiz ] and",
    "use the same idea of replacing edges incident to boundary vertices as in the proof of lemma  [ 2 - 0realiz ] .",
    "so , theorem  [ realiz ] has been proved , and hence the proof of theorem  [ psr ] is completed .",
    "as we already mentioned in the proof , the 2-parametric family of poisson brackets on @xmath142 induced by @xmath470 , where @xmath471 and @xmath472 are described in propositions  [ psre ] and  [ psre2 ] , respectively , is denoted @xmath286 .      as an application of results obtained in section  [ psonrat ] ,",
    "consider the set @xmath474,\\varnothing,\\varnothing,[k+1,2k]}$ ] of perfect networks with @xmath3 sources on the outer circle and @xmath3 sinks on the inner circle .",
    "clearly , in this case the boundary measurement map takes @xmath237 to @xmath473 .",
    "just as we did in the proof of theorem  [ realiz ] , we can replace @xmath135 with @xmath475 and observe that the concatenation @xmath31 of networks @xmath476,\\varnothing,\\varnothing , [ k+1,2k]}$ ] leads to @xmath477 .",
    "we would like to take a closer look at the bracket @xmath478 in this case .",
    "first , recall ( see , e.g. @xcite ) that the space @xmath473 can be equipped with an r - matrix ( sklyanin ) poisson bracket @xmath479 , \\label{ansklyanin}\\ ] ] where the left - hand side should be understood as @xmath480 and the r - matrix @xmath481 is an operator acting in @xmath482 that depends on parameters @xmath483 and solves the classical yang - baxter equation . of interest to us",
    "is a bracket  ( [ ansklyanin ] ) that corresponds to the so - called _ trigonometric r - matrix _",
    "@xcite @xmath484    bracket  ( [ ansklyanin ] ) ,  ( [ trig - matrix ] ) can be re - written in terms of matrix entries of @xmath485 as follows ( we only list non - zero brackets ) : for @xmath486 and @xmath487 , @xmath488    @xmath489    @xmath490    @xmath491    it is now straightforward to check that for @xmath492,\\varnothing,\\varnothing , [ k+1,2k]}$ ] , the poisson algebra satisfied by the entries of @xmath493 coincides with that of the sklyanin bracket  ( [ ansklyanin ] ) ,  ( [ trig - matrix ] ) .",
    "more exactly , relations  ( [ brack_ij_ab ] ) and  ( [ brack_ij_ib ] ) are equivalent to  ( [ psre1 ] ) with @xmath494 calculated according to the third case , while  ( [ brack_ib_aj ] ) and  ( [ brack_ij_aj ] ) are equivalent to  ( [ psre2 ] ) with @xmath495 calculated according to the first case . finally , the brackets that vanish identically , correspond exactly to the situations listed in the second case in  ( [ psre3 ] ) and in the third case in  ( [ psre4 ] ) .    to summarize , we obtained the following statement .",
    "[ sklyaninbr ] for any @xmath492,\\varnothing,\\varnothing , [ k+1,2k]}$ ] and any choice of parameters @xmath496 in  ( [ 6parw ] ) ,  ( [ 6parb ] ) such that @xmath497 and @xmath498 in  ( [ cond ] ) , the map @xmath499 is poisson with respect to the sklyanin bracket  ( [ ansklyanin ] ) associated with the r - matrix  ( [ trig - matrix ] ) .",
    "equations  ( [ brack_ij_ab])([brack_ij_aj ] ) can be also used to define a poisson bracket in the `` rectangular '' case of @xmath500 . in this case",
    ", a concise description  ( [ ansklyanin ] ) of the bracket should be modified as follows : @xmath501 where @xmath502 denotes the r - matrix  ( [ trig - matrix ] ) acting in @xmath503 .",
    "let @xmath289 be a perfect planar network in an annulus . similarly to the case of a disk , we are going to provide a grassmannian interpretation of the boundary measurement map defined by @xmath31 . to this end , we extend the boundary measurement matrix @xmath135 to a @xmath504 matrix @xmath505 as follows :    \\(i ) the @xmath506 submatrix of @xmath505 formed by @xmath3 columns indexed by @xmath117 is the identity matrix @xmath507 ;    \\(ii ) for @xmath508 $ ] and @xmath509 , the @xmath510-entry of @xmath505 is @xmath511 , where @xmath512 is the number of elements in @xmath119 lying strictly between @xmath513 and @xmath514 in the linear ordering ; note that the sign is selected in such a way that the minor @xmath515}^{i(i_p\\to j)}$ ] coincides with @xmath516 , where @xmath517 .",
    "we will view @xmath505 as a matrix representative of an element @xmath518 in the space @xmath6 of rational functions @xmath519 .",
    "the latter space is called the _ space of grassmannian loops _ , and the corresponding rational map @xmath520 is called the _ grassmannian boundary measurement map_.    given a network @xmath31 and a simple path @xmath30 from a source @xmath123 to a sink @xmath125 in @xmath31 , we define the _ reversal _ of @xmath30 as follows : for every edge @xmath521 , change its direction and replace its weight @xmath29 by @xmath522 ; equivalently , the modified weight @xmath128 is replaced by @xmath523 . clearly , after the reversal of @xmath30 all vertices preserve their color .",
    "denote by @xmath524 the network obtained from @xmath31 by the reversal of @xmath30 , and by @xmath525 the corresponding _ path reversal map _ @xmath526 .",
    "besides , put @xmath527 if both endpoints of @xmath30 belong to the same boundary circle , and @xmath528 otherwise . define two maps from @xmath6 to itself :",
    "@xmath529 is the identity map , while @xmath530 takes any @xmath531 to @xmath532 .",
    "our next goal is to prove that the path reversal map for paths not intersecting the cut commutes with the grassmannian boundary measurement map up to @xmath533 .",
    "[ pathrev ] let @xmath30 be a simple path from a source @xmath123 to a sink @xmath125 in @xmath31 such that @xmath127 does not vanish identically and @xmath30 does not intersect the cut .",
    "then @xmath534    let @xmath119 be the index set of the sources in @xmath31 .",
    "the statement of the theorem is equivalent to the equality @xmath535 for any subset @xmath536 $ ] of size @xmath3 .",
    "here and in what follows the superscript @xmath30 means that the corresponding value is related to the network @xmath524 .",
    "the signs of the elements @xmath537 are chosen in such a way that @xmath538 , so we have to prove @xmath539    the proof of  ( [ pathreveq ] ) relies on the induction on the number of inner vertices in @xmath31 .    let us start with the case when @xmath31 does not have inner vertices . in this case",
    "it suffices to prove   with @xmath540 for all edges @xmath541 .",
    "assume first that the intersection index of each edge with the cut @xmath16 equals @xmath542 or @xmath68 ; consequently , after a suitable isotopy , each edge either intersects @xmath16 exactly once , or does not intersect it at all .",
    "let @xmath543 be the edge to be reversed , and hence @xmath544 .",
    "if both @xmath123 and @xmath125 belong to the same boundary circle , then exactly the following two cases are prohibited : @xmath545 consequently , reversing @xmath546 does not change @xmath547 , which corresponds to the map @xmath529 . if @xmath123 and @xmath125 belong to distinct boundary circles , then the above two cases are prohibited whenever @xmath201 does not intersect the cut .",
    "if @xmath201 intersects the cut then the above two cases are the only possibilities .",
    "consequently , reversing @xmath546 does not change @xmath547 for the edges not intersecting the cut and reverses it for the edges intersecting the cut , which corresponds to the map @xmath530 .",
    "it remains to lift the restriction on the intersection index of edges with @xmath16 .",
    "if there exists an edge @xmath40 such that @xmath548 then the endpoints of @xmath40 belong to distinct boundary circles , and for any other edge with the endpoints on distinct boundary circles , the intersection index with @xmath16 does not vanish .",
    "consequently , only edges with the endpoints on the same boundary circle can be reversed , and the above reasoning applies , which leads to @xmath529 .",
    "let now @xmath31 have inner vertices , and assume that the first inner vertex @xmath42 on @xmath30 is white .",
    "denote by @xmath201 and @xmath40 the first two edges of @xmath30 , and by @xmath41 the third edge incident to @xmath42 . in what follows",
    "we assume without loss of generality that the cut in @xmath31 does not intersect @xmath201 .",
    "to find @xmath549 consider the network @xmath550 that is related to @xmath524 exactly in the same way as the network @xmath551 defined immediately before lemma  [ recalcan ] is related to @xmath31 .",
    "similarly to the first relation in lemma  [ recalcan ] , we find @xmath552 taking into account that @xmath553 , @xmath554 , @xmath555 , we finally get @xmath556    to find @xmath557 we proceed as follows .",
    "[ xkpwhite ] let the first inner vertex @xmath42 of @xmath30 be white , then @xmath558    the proof utilizes explicit formulas ( similar to those provided by lemma  [ recalcan ] ) that relate boundary measurements in the networks @xmath524 and @xmath550 .",
    "what is important , the sign @xmath559 in the second formula in lemma  [ recalcan ] and the sign @xmath560 defined at the beginning of this section interplay in such a way that any submatrix of @xmath561 is the sum of the corresponding submatrix of @xmath562 and a submatrix of the rank  @xmath19 matrix that is equal to the tensor product of the @xmath417th column of @xmath561 and the @xmath563th row of @xmath562 .    to find @xmath564 , create a new network @xmath565 by deleting @xmath123 and the edge @xmath201 from @xmath14 , splitting @xmath42 into @xmath208 sources @xmath566 ( so that either @xmath567 or @xmath568 ) and replacing the edges @xmath569 and @xmath570 by @xmath571 and @xmath572 , respectively .",
    "[ xkwhite ] let the first inner vertex @xmath42 of @xmath30 be white , then @xmath573    the proof is a straightforward computation",
    ".    by  ( [ xipwhite ] ) and lemmas  [ xkpwhite ] and  [ xkwhite ] , relation ( [ pathreveq ] ) boils down to @xmath574 for @xmath575 and @xmath576 for @xmath577 . to prove these two equalities",
    ", we identify @xmath578 with @xmath579 and @xmath580 with @xmath581 . under this identification",
    "we have @xmath582 , where @xmath583 is the path from @xmath578 to @xmath125 in @xmath584 induced by @xmath30 .",
    "observe that @xmath584 has less inner vertices than @xmath31 , and that the index set of the sources in @xmath584 is @xmath585 .",
    "therefore , by the induction hypothesis , @xmath586 for any @xmath587 of size @xmath588 . besides , @xmath589 and @xmath590 . therefore ,",
    "using  ( [ indhyp ] ) for @xmath591 , @xmath592 and @xmath593 we get both equalities above .",
    "assume now that the first inner vertex @xmath42 on @xmath30 is black .",
    "denote by @xmath201 and @xmath40 the first two edges of @xmath30 , and by @xmath41 the third edge incident to @xmath42 . to find @xmath549 ,",
    "consider the network @xmath594 similar to the one defined immediately before lemma  [ xkwhite ] , the difference being that the two new boundary vertices @xmath595 and @xmath596 are sinks rather than sources .",
    "clearly , @xmath597    to find @xmath557 we proceed as follows .    [ xkpblack ]",
    "let the first inner vertex @xmath42 of @xmath30 be black , then @xmath598    the proof is a straightforward computation .    to find @xmath564 we consider the network @xmath551 defined immediately before lemma  [ recalcan ] .",
    "[ xkblack ] let the first inner vertex @xmath42 of @xmath30 be black , then @xmath599    the proof is similar to the proof of lemma  [ xkpwhite ]",
    ".    by  ( [ xipblack ] ) and lemmas  [ xkpblack ] and  [ xkblack ] , relation ( [ pathreveq ] ) boils down to @xmath600 for @xmath575 and @xmath601 for @xmath577 . to prove these two equalities",
    ", we identify @xmath602 with @xmath581 and @xmath603 with @xmath579 . under this identification",
    "we have @xmath604 , where @xmath605 is the path from @xmath581 to @xmath125 in @xmath551 induced by @xmath30 .",
    "observe that @xmath551 has less inner vertices than @xmath31 , and that the index set of the sources in @xmath551 is @xmath606 .",
    "therefore , by the induction hypothesis , @xmath607 for any @xmath608 of size @xmath3 .",
    "taking into account that @xmath609 , @xmath610 and using  ( [ indhypb ] ) for @xmath611 , @xmath612 , @xmath613 and @xmath614 we get both equalities above .",
    "theorem  [ pathrev ] is proved in  @xcite for networks in a disk .",
    "observe that in this case @xmath615 vanishes identically , and hence @xmath518 and @xmath525 always commute .",
    "consider a subspace @xmath616 consisting of all @xmath617 such that the plcker coordinate @xmath618 does not vanish identically ; clearly , @xmath619 .",
    "therefore , we can identify @xmath620 with the space @xmath142 equipped with the 2-parametric family of poisson brackets @xmath286 .",
    "the following result says that for any fixed @xmath621 , the families of brackets @xmath286 on different subspaces @xmath622 can be glued together to form the unique 2-parametric family of poisson brackets on @xmath6 that makes all maps @xmath518 poisson .",
    "[ pslgr ] ( i ) for any fixed @xmath353 , @xmath623 , and any choice of parameters @xmath256 and @xmath257 there exists a unique poisson bracket @xmath624 on @xmath6 such that for any network @xmath31 with @xmath353 boundary vertices on the outer circle , @xmath625 boundary vertices on the inner circle , @xmath3 sources , @xmath4 sinks and weights defined by  ( [ connect ] ) , the map @xmath626 is poisson provided the parameters @xmath287 and @xmath288 defining the bracket @xmath248 on @xmath28 satisfy relations  ( [ cond ] ) .",
    "\\(ii ) for any @xmath627 $ ] , @xmath628 , and any @xmath353 , @xmath623 , the restriction of @xmath624 to the subspace @xmath622 coincides with the bracket @xmath629 with @xmath630 $ ] , @xmath631\\setminus i_1 $ ] , @xmath632 , @xmath633\\setminus i_2 $ ] .",
    "this result is an analog of theorem  4.3 proved in @xcite , and one may attempt to prove it in a similar way .",
    "the main challenge in implementing such an approach is to check that the poisson structures defined for two distinct subspaces @xmath620 and @xmath634 coincide on the intersection @xmath635 . for the case of networks in an annulus , the direct check becomes too cumbersome .",
    "we suggest to bypass this difficulty in the following way .",
    "assume first that @xmath636 and take @xmath637 , @xmath638 .",
    "denote by @xmath639 the set of networks in @xmath279 satisfying the following two conditions : @xmath127 does not vanish identically and there exists a path from @xmath123 to @xmath125 that does not intersect the cut .",
    "the set @xmath640 is defined similarly , with the roles of @xmath417 and @xmath641 interchanged .",
    "clearly , the path reversal introduced in section  [ pathrev ] establishes a bijection between @xmath639 and @xmath640 .",
    "moreover , a suitable modification of theorem  [ realiz ] remains true for networks in @xmath639 : these networks represent all rational matrix function such that corresponding component of the matrix does not vanish identically . to see that we use the following construction .",
    "let @xmath42 be the neighbor of @xmath123 in @xmath31 and @xmath363 be the neighbor of @xmath125 in @xmath31 .",
    "add two new white vertices @xmath642 and @xmath643 and two new black vertices @xmath644 and @xmath645 .",
    "replace edge @xmath646 by the edges @xmath647 and @xmath648 so that the weight of the obtained path is equal to the weight of the replaced edge .",
    "in a similar way , replace @xmath649 by @xmath650 and @xmath651 . besides , add edges @xmath652 and @xmath653 of weight  1 and two parallel edges @xmath654 , one of weight  1 , and the other of weight @xmath20 .",
    "finally , resolve all the arising intersections with the help of the network @xmath411 .",
    "since the set of functions representable via networks in @xmath639 is dense in the space of all rational matrix functions , the 2-parametric family @xmath629 is defined uniquely already by the fact that @xmath135 is poisson for any @xmath655 .",
    "recall that the boundary measurement map @xmath135 factors through @xmath183 ; clearly , the same holds for the grassmannian boundary measurement map @xmath518 .",
    "besides , the path reversal map @xmath525 commutes with the projection @xmath656 and commutes with @xmath518 up to @xmath533 . finally , poisson brackets satisfying relations  - and  - commute with @xmath533 .",
    "therefore , poisson structures @xmath629 and @xmath657 coincide on @xmath635 .",
    "if @xmath658 , we consider a sequence @xmath659 such that @xmath660 for all @xmath661 and apply to each pair @xmath662 the same reasoning as above .",
    "we wish to express gratitude to a.  postnikov who explained to us the details of his construction and to v.  fock , s.  fomin and n.  reshetikhin for stimulating discussions .",
    "m.  g.  was supported in part by nsf grants dms # 0400484 and dms # 0801204 .",
    "m.  s.  was supported in part by nsf grants dms # 0401178 and phy # 0555346 .",
    "a.  v.  was supported in part by isf grant # 1032/08 .",
    "j. moser , _ finitely many mass points on the line under the influence of the exponential potential - an integrable system_. dynamical systems , theory and applications , 467497 , lecture notes in physics * 38 * , springer , berlin , 1975 ."
  ],
  "abstract_text": [
    "<S> as a generalization of postnikov s construction [ p ] , we define a map from the space of edge weights of a directed network in an annulus into a space of loops in the grassmannian . </S>",
    "<S> we then show that universal poisson brackets introduced for the space of edge weights in [ gsv3 ] induce a family of poisson structures on rational - valued matrix functions and on the space of loops in the grassmannian . in the former case , </S>",
    "<S> this family includes , for a particular kind of networks , the poisson bracket associated with the trigonometric r - matrix . </S>"
  ]
}