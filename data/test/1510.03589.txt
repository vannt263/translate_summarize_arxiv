{
  "article_text": [
    "searching 3d data cubes is not a straightforward task .",
    "it is non - trivial to design a source - finding algorithm which is flux - limited , and complex , spurious structures can be difficult to automatically distinguish from astronomical sources .",
    "while visual inspection of the data can , through the extremely powerful capabilities of human pattern recognition , often overcome the problem of distinguishing real from spurious sources , it suffers from being subjective .",
    "it is also , traditionally , an extremely slow and laborious process , to the point where the scientific returns are diminished : weeks ( or even months ) spent searching a data cube could be more usefully employed in analysing trends in the data .",
    "i here focus on neutral hydrogen ( hi ) data cubes .",
    "developments in multibeam single - dish surveys ( e.g. hipass , @xcite ; alfalfa , @xcite ) have made very large 3d data sets a reality .",
    "smaller , more sensitive surveys such as ages ( the arecibo galaxy environment survey - @xcite ) possess similar problems of source extraction .",
    "although the total number of sources is lower , the source density is higher , as shown in table [ tab : surveys ] .",
    "this is necessarily a crude comparison ( since not every survey provides access to the raw data , accurately estimating what fraction of the data the sources occupy is impossible ) , but suffices to demonstrate the very substantial increase in the discovery potential of hi surveys over the last decade or so .    [ cols=\"^,^,^,^,^ \" , ]     although once the data is loaded the display frame rate is high , initially converting that data into the blender - readable png images and loading them into blender is much slower than loading in a cube in , say , _",
    "kvis_. on the hp elite , the larger cube took a mere 1 second to load in _",
    "kvis_. _ kvis _ , which was designed from the ground up as a fits viewer , is far superior in this regard to frelled , which is essentially a hack to load fits data into a program never designed with astronomers in mind .",
    "i discuss the consequences of this in section [ sec : sourcefinding ] .    as described above , since frelled s loading times are so much greater than for _ kvis _ , it is not necessary to load in all three projections of the data cube - the user can select only one or two , if they wish to save time and/or memory .",
    "i account for this in the benchmarks table .",
    "the `` loading time '' column shows the time to first load in the data ( i.e. convert the cube into png images and then display one projection ) plus the extra time needed when switching to a different projection .",
    "note that this delay _ only occurs once _ as the images must be loaded into gpu memory when the user switches the view to a different projection for the first time - after that there is no delay in rotating the view from one projection to any other .",
    "once the user has converted the data with a satisfactory transfer function and altered the display parameters appropriately , they can then save the .blend file , which preserves these display settings .",
    "the `` reloading time '' refers to the time needed to re - open this file , which does not require converting the fits data into png images .    both the time to render an image ( using blender s internal raytracing engine ) and the realtime display frame rate depend ( by a factor of a few ) on the data being displayed and the orientation of the view . moving the viewpoint closer to the data causes a drop in frame rate and an increase in render time . for the benchmark table",
    "i chose a viewpoint in all cases where the whole of the data was just about visible - zooming in reduces the frame rate to as low as 5 f.p.s . , but moving slightly further out increases this to 20 f.p.s .",
    "even in the the slowest case .",
    "since the larger cube is asymmetrical , the benchmark table reflects this in the non - linear difference in times for the different projections .",
    "i only give the render times for the longest projection in each case .",
    "i chose to render a 500@xmath3500 pixel image without oversampling using 7 threads , with a field of view equivalent to half the extent of the data .",
    "it is an unfortunate necessity to render the images rather than simply record screenshots , since this is very much slower . at 3 minutes per frame , a 10 second animation ( at standard 25 f.p.s . )",
    "would take 12.5 hours to render . while blender does have the ability to record screenshots",
    ", this feature does not function correctly in 2.49 and not usable for our purposes ( see section [ sec : future ] ) .",
    "note that all of the above benchmarks are for the standard 3d display mode . in 2d mode ,",
    "in which only one slice of the data is displayed ( and loaded into gpu memory ) at a time , loading and rendering speeds improve dramatically . for the larger cube on the hp elite ,",
    "using all three projections ( but only one colour map since transparency is not necessary in the 2d view ) , loading speed actually increases to 7 min 33 seconds ( but see below ) .",
    "however , reloading speed is slashed to a mere 1 second , competitive with _ kvis_. rendering speed is reduced to 0.25 seconds per frame ( the display frame rate remains above 25 f.p.s for the largest cube shown at any angle and zoom level ) .",
    "since frelled preserves the original fits file and generates png images , this has the disadvantage of generating a ( potentially ) large amount of extra data .",
    "for the 1.5 gb vla fits file we use for benchmarking ( see section [ sec : bench ] ) , an additional 1.7 gb of png data was generated .",
    "however , this is a worst - case scenario in which two maps were used for all three projections on a very large cube .",
    "for the 16 mb simulation data cube , generating one map for a single projection resulted in an extra 1 mb of data , while generating two maps for all three projections created 6 mb of extra data .",
    "users should therefore be aware that frelled can , typically , approximately double the file space required .",
    "conversion of the fits file is parallelised using python s `` multiprocessing '' module .",
    "this is a trivial operation since each slice of the data can be treated independently .",
    "optimising blender to load the png images as rapidly as possible is more complicated ( see figure [ fig : code ] for pseudocode ) . creating an object in blender , for instance ,",
    "is much slower than transforming an existing object .",
    "older versions of frelled simply created the correct number of planes to hold the images depending on the shape of the data cube .",
    "more recent versions ( 4.0 onwards ) contain a pre - existing set of image planes , 1,000 for each projection in both 2d and 3d modes ( with appropriate materials assigned in each case ) .",
    "if a data set has more than 1,000 channels ( or spatial pixels along any projection ) , it is necessary to remove the existing image planes for that projection and re - create the correct number .",
    "this step causes a significant slowdown .",
    "for example , truncating the large vla gps cube to have 1,000 pixels in r.a .",
    "( instead of 1,023 ) reduces the loading speed to 4 min 6 seconds ( compared to 6 min 47 seconds for the full cube ) .",
    "a similar issue affects 2d mode . in 2d mode , the image planes are animated to move between the visible layer and a non - visible layer depending on the current frame .",
    "for example , when displaying channel maps , blender s frame counter corresponds to the channel number . as in 3d mode , a set of 1,000 image planes per projection are provided in the default file , the difference being that these have also been set up with the necessary animation data . in 2d mode new planes must be both created and animated ( a significantly slower extra step ) if the image has more than 1,000 pixels along a dimension .",
    "using the truncated cube as above , loading in the data in 2d mode takes only 1 min 58 seconds , compared to 7 min 33 seconds for the full cube .",
    "i estimate that parallelising the code and providing pre - loaded image planes has increased the loading speed of frelled by a factor of approximately 7 in 3d mode and up to 9 in 2d mode , using frelled v3.8 and 4.1 to display the vla gps cube described in section [ sec : bench ] on the quad - core hp elite .",
    "p15 describe in detail four viewers designed explicitly for viewing data in 3d .",
    "however , none of these viewers was designed specifically for astronomy - all , for instance , lack the ability to use world coordinate systems , which is a severe handicap ( as will become apparent in section [ sec : astrofrelled ] ) . here",
    "i briefly compare the 3d display capabilities of frelled with those of other programs designed for astronomy .",
    "_ xray _ is part of the karma package .",
    "though now about twenty years old ( @xcite ) its loading times are far superior to frelled ( @xmath4 10 seconds for the vla gps cube ) .",
    "its rendering speeds are considerably lower than frelled ( @xmath0 1 f.p.s . ) and the user can not freely change the angle of the viewpoint - after setting the pitch , yaw and roll via sliders , they must explicitly tell the program to recompute the view .",
    "_ xray _ is only a viewer and provides no tools to analyse the data .",
    "while it does have a 3d cursor , on our hp elite this feature invariably caused the program to crash .",
    "_ xray _ allows the user to interactively define the transfer function and choose different display integrations ( e.g. the minimum or maximum voxel along the line of sight ) .",
    "the user is limited to setting the data range via the range selector buttons ( e.g. 95% , 99% , 99.9% ) - they can not set precise numerical values .",
    "conversely , the angle of the viewpoint can _ only _ be set via precise sliders , and not by freely rotating the view ( as in frelled ) using the mouse .",
    "this makes it much more difficult to `` home in '' on a particular feature of interest .",
    "however , it has a very easy to use interface for creating animations for presentations ( which frelled deliberately emulates ) .",
    "it does not have any facility to stretch data , so if a data cube has a relatively short velocity axis , _ xray _ is of little use ( recall figure [ fig : stretch ] ) .    in short , _",
    "xray _ is useful for quick inspection of data , but can not be used for detailed analysis .      _",
    "ds9 _ is a widely - used , general purpose fits viewer .",
    "it was first released in 1999 and has had 3d display capabilities since 2010 .",
    "it is , indisputably , an extremely powerful and versatile tool , able to interface with external packages such as iraf and , for example , perform surface brightness profile fitting , aperture photometry , and the result of operations such as smoothing and filtering can be saved directly to the fits file .",
    "it can also be used to access other programs such as topcat and _ aladin _ , and , for instance , automatically retrieve and overlay source catalogues . like _ xray _",
    ", the transfer function can be controlled interactively , and in 3d the user can choose which line - of - sight integration method to use .    the advantage of _ ds9 _",
    "s 3d view is that performance does not depend on system configuration . unlike _ xray",
    "_ , although the user is limited to using sliders to control the viewpoint orientation , the view is updated while they adjust the sliders , rather than waiting until the user forces a redraw .",
    "however this update is not instantaneous as in frelled ( while updating , only part of the data in the field of view is shown ) , but depends heavily on the exact display . while the frame rate may drop ( at worst ) to a few frames per second in frelled with a small field of view , in ds9",
    "this can decrease to many seconds or tens of seconds per frame ( or even minutes per frame for a large cube ) ; during the rendering process the user sees a ` patchwork ' - the data which has been processed is shown with the remaining areas white until the calculations are complete . as with _",
    "there is no way to alter the z - axis scale , so kinematic information is hard to discern in cubes with a short velocity axis .",
    "all this makes it very difficult to use _",
    "ds9 _ to really explore a data set in 3d , except for very small cubes .",
    "the analysis features in 3d are also very limited .",
    "while there is a 3d crosshair , it is not obvious how to use the display to place this in a controlled way , and there is no true 3d cursor ( see section [ sec : astrofrelled ] ) .",
    "it is possible to define 2d regions in the 3d view , but there are no true 3d region capabilities .    as with _",
    "ds9 _ provides a quick , simple way to view data in 3d , but not much more than that .",
    "gaia , the graphical astronomy and image analysis tool , offers a similar ( if not greater ) level of versatility to _ ds9 _ , including photometry , source finding , and interaction with virtual observatory tools .",
    "however , like _",
    "ds9 _ , its 3d capabilities are limited .",
    "gaia provides two types of 3d rendering : volume rendering and isosurfaces .",
    "isosurfaces can be useful , for instance , in understanding the structures of sources of very complex 3d geometry by reducing them to simpler information , i.e. the levels of constant flux value .",
    "frelled does not yet implement isosurfaces ( but see section [ sec : renzo ] ) as the main motivation for developing the visualisation routine was source extraction .",
    "isosurfaces are not ideal for this purpose , since they intrinsically rely on clipping much of the data so risk the user missing faint sources .",
    "gaia s volume renderer has some advantages over that of _ ds9_. when panning , zooming , or rotating the view , one does not entirely lose the display but it is replaced with a low - resolution `` preview '' image ( rendered at a very high frame rate ) , which is then recalculated at full resolution once the operation is complete .",
    "the user does this not through sliders ( which are not present ) but through the mouse , making it possible - in principle - to really explore the data set .",
    "unfortunately in practise the navigation interface is very imprecise and centering the view on specific features is extremely difficult .",
    "navigation is also possible via the keyboard ( though this is no more precise ) in a similar way to frelled ( see below ) , though no gui buttons are present to complement this .",
    "strong artifacts can be visible when altering the view ( and even when the display generation is complete ) . like _",
    "ds9 _ , and the rendering frame rate depends on the size of the image on the screen . for large data sets at full hd resolution ,",
    "this can be measured in frames per minute rather than frames per second .",
    "the view is also lost if the user switches workspaces and it must be recalculated when they switch back .",
    "gaia does allow the user to very easily generate 3d axes around the data cube ( which assist in orientation and navigation ) , unlike _",
    "ds9_. while gaia does have the capability to load mask polyhedra from an external file , it has no capability of generating or manipulating these interactively .      from the above discussion",
    "it is apparent that existing astronomical viewers have only rudimentary 3d display capabilities .",
    "two features in particular are lacking : 1 ) the ability to maintain the full detail of the data in the field view at any screen resolution and zoom level , especially while altering the viewpoint , while also maintaining a high frame rate ( as discussed above , other viewers suffer from displaying a patchwork view of the data while updating the view and/or other artifacts ) ; 2 ) the ability to intuitively and precisely navigate through 3d data .    by using blender ,",
    "frelled completely avoids these problems . in blender the frame rate in the realtime display ( see section [ sec : bench ] ) is not strongly affected by screen resolution or zoom level , nor is it necessary to reduce the level of detail when altering the viewpoint angle .",
    "the extremely slow ` realtime ' display of _ ds9 _ ( at least for large data sets ) means that the user is not really viewing an interactive 3d display at all , but simply changing from one fixed viewpoint to another .",
    "the experience when freely changing the view without loss of frame rate or detail is wholly different .",
    "while art is normally described as an intuitive process , artists require tools which are both intuitive and precise .",
    "the navigation interface in blender is far in advance of those of any of the tools discussed above .",
    "blender has a true 3d cursor which is easy to place ( see section [ sec : sourcefinding ] ) either using the mouse or by exact numerical values , and the user can then instantly re - orient the view on this position .",
    "this can also be used as the pivot point around which the view rotates .",
    "frelled provides altitude / azimuth sliders to control the viewpoint , if necessary .",
    "translating the view can be done with very high precision in blender - unlike in gaia the movement of the view correlates perfectly with the mouse movement .",
    "navigation is also possible via the keypad , and frelled provides gui buttons to support these options . for really exploring a 3d data set , a straightforward navigation interface which makes it easy to examine particular features is not an optional extra : it is an essential , fundamental part of the process .",
    "frelled was originally designed specifically for source - finding in hi data cubes .",
    "it has since been adapted to work as a viewer for simulation data , though most of its analysis tools are geared towards hi . while the goal is to provide a general - purpose astronomical viewer , at the present time some features are still hard - coded to assume the data is hi ( in particular drawing the velocity axis ) .      as discussed in [ sec : displaycode ] , source extraction demands using minimal ( or no ) clipping of the data .",
    "i have already described in detail how this is accomplished in frelled . in t14",
    ", we demonstrated that using frelled gave the same level of reliability of source extraction as using an established viewer such as _ kvis_. describing a search of a 330@xmath3270@xmath34096 voxel cube containing 334 sources : `` one of us ( hh ) searched the cube using kvis , while another ( rt ) searched with our new viewer .",
    "hh found 20 sources that rt did not , and rt found 18 sources that hh did not .",
    "such differences are inevitable given the subjective nature of the procedure ; however , rt was able to complete the process in a day , whereas hh required approximately six weeks . ''",
    "we also note that hh did not mask the sources , as this is very difficult to do in _ kvis _ ( see below ) .",
    "the key to this dramatic increase in visual source finding speed is the ability of the user to interactively mask regions of the data - especially in combination with the realtime 3d view of the data .",
    "the user can place blender s 3d cursor using the mouse .",
    "it is straightforward to define the exact position of the cursor since its position is restricted to the current plane of the screen .",
    "for example if the user is viewing the xy projection ( sky coordinates ) , they can only alter the right ascension and declination of the cursor , not its redshift .",
    "similarly in the xz projection they can only alter its right ascension and redshift , not its declination .",
    "switching back and forth between the projections ( which is instant ) enables the cursor to be placed very precisely ( numerical values can also be specified ) .",
    "once the user has placed the cursor at the center of the source , they can then add a blender object using the frelled script . by default",
    "this object will be a black cuboid , which they can scale along any and all axes using the keyboard and mouse ( again it is also possible to enter precise numerical values ) . with practise",
    "this is an extremely fast procedure that takes no more than a few seconds per source ( note that i am primarily using frelled to catalogue single - dish data where most sources are unresolved ) .",
    "it is easier to do this in 3d since the user can see how much of the source they have masked along all three axes at once - there is not much need to change the projection once the source center has been determined .",
    "this method reduces the limiting factor on the speed of visual source extraction , which has been _ recording _",
    "sources rather than actually _ finding _ them ( see below for details ) .",
    "it is possible to mask data in a similar way using a combination of the miriad task _ immask _ and _ kvis_. however , this is scarcely a viable alternative .",
    "firstly , it is not interactive .",
    "the user must determine the precise numerical values for the minimum and maximum coordinates of the box and record them by hand .",
    "they must then use _ immask _ to apply the mask , re - load the cube in _ kvis _ and navigate back to the source in question .",
    "if a mistake is made , the mask file must be deleted and a new one created - essentially all the masks must be re - applied .",
    "moreover , this mask functions only as a mask , and nothing else .    by allowing the user to interactively create an object which is used as a mask , frelled essentially eliminates all of these difficulties . as well as being much faster to create ( see below ) ,",
    "the masks can be moved interactively , which is not possible using _",
    "kvis_. they can also be toggled so that they are displayed either as true masks ( solid black in place of the data ) or transparent wireframes .",
    "an example of mask objects is shown in figure [ fig : masks ] . furthermore ,",
    "since frelled can use world coordinates , it is straightforward to generate a source catalogue and/or compare detections with other data on the fly ( see below ) .",
    "the user rarely even needs to know the coordinates of the source they have found .        while frelled s file loading times are mostly abysmal compared to conventional viewers such as _ ds9 _ or _ kvis _",
    ", for source finding this is irrelevant . for the sake of a few extra minutes of loading time , weeks of source extraction time can be avoided .    however , it is important to note that this is only true provided the source density is sufficiently high .",
    "it is interesting to ask : at what point does frelled s high loading time offset its fast masking capabilities ?",
    "this will depend on the size of the cube and system configuration . as a ballpark estimate",
    ", i masked ten random sources in a standard ages subset cube ( 330@xmath3270@xmath3925 voxels ) .",
    "the cube took approximately 1 min 30 seconds to load on our hp elite and it required an average of 30 seconds to mask each source . in comparison , in _ kvis _ is took less than 1 second to open the cube , but about 1 min 50 seconds to mask each source , on average .",
    "therefore it would still have been faster to use frelled for this cube if there were only two sources present . even with the ( truncated ) 577@xmath1 voxels cube described in sections [ sec : bench ] and [ sec : opt ] ( which is about the largest cube frelled is capable of displaying anyway , on a contemporary desktop machine ) , using _ kvis _ would only have been faster then frelled if no more than two sources were present .",
    "note that in the case of a real source - finding process , _ kvis _ can be significantly slower than in this simple test .",
    "the user must record source coordinates , which must also be done by reading values from the screen .",
    "masking sources can be much slower than in the ideal case if source density is high , as it can be difficult to determine where one source ends and other begins . applying the masks",
    "should be done whenever a single source is found , rather than after finding ten sources as in the test , otherwise there is a risk of cataloguing sources twice .",
    "if the user chooses to avoid masking the sources , they must continually check their catalogues to see if they have found a source or not .",
    "all of these factors mean that the factor of four difference in masking speeds in our idealised test translates into a very much larger difference in practise .",
    "p15 describe the necessity of having linked 3d and 2d views .",
    "as we are limited by blender s display to only displaying the sum of values along the line of sight ( and not minimum or maximum as most other viewers ) , the faintest sources are difficult to see in 3d mode .",
    "noise is rarely the ideal gaussian with a peak at exactly zero , and structures in the noise can overwhelm faint sources even with different line - of - sight display options . some data , however little ,",
    "must usually be clipped to give a useful 3d display . in a 2d display ,",
    "on the other hand , no data need be clipped at all , and structures in the noise do not necessarily obstruct the view of fainter sources . for these reasons , a 2d display mode remains a valuable tool for source finding .",
    "objects created in the 3d view are automatically linked to the 2d display .",
    "any changes made to an object in one view are propagated to the other .",
    "masking sources is slightly more difficult in the 2d view since the user has to change the visible channel ( or slice ) and then adjust the size of the mask region ( as opposed to the 3d view where it is not necessary to change the viewpoint ) .",
    "therefore a sensible approach is for the user to first mask all the sources visible in the 3d view ( i.e. the bright ones ) and then search the cube in 2d to find the fainter sources .",
    "it is often the case that hi detections do not appear especially interesting in the hi data cube itself .",
    "for instance , one can not tell from the hi data alone whether a galaxy has a particularly high hi mass - to - light ratio or is unusually compact compared to the stellar emission .",
    "such information can only be obtained after a much more detailed analysis . once determined",
    "the user may wish to re - asses the hi data in light of this new information and perhaps process it in different ways .",
    "one very simple but indispensable feature of blender objects is that they are given names , unlike regions in _ ds9 _ or masks in _ kvis_. this means that it is very simple to find the objects again later - one does not even need to know their coordinates , just the name ( or even just a number depending on the naming scheme used ) .",
    "the viewpoint in frelled can be automatically centred on the object using its name or coordinates .",
    "blender does not allow objects to have names longer than 21 characters .",
    "frelled assumes objects have the naming format string_xxx , where xxx is a numerical suffix .",
    "the string part of the name is limited by frelled to be 13 characters long .",
    "therefore the user can theoretically generate up to 10 million objects .    through the python interpreter , it is possible in principle to perform any type of numerical analysis on the specified sources .",
    "i briefly describe those features which are currently implemented in frelled below . while all of the following require a region to be defined , it is ( if needed ) straightforward to define a region as large as the entire data cube .",
    "most operations can also be applied to multiple regions simultaneously .",
    "note also that the display of the fits data can be disabled at any time , to ensure a clearer view of the other maps ( see below ) frelled can generate .",
    "the realtime display in frelled provided a qualitative view of the data .",
    "more quantitative displays are possible using contour plots .",
    "the user has only to specify the minimum , maximum , and interval values . at present the interval size",
    "contours are enabled through the _ matplotlib _ python module and either displayed as png images , or converted into blender s internal mesh format .",
    "this is done through a combination of internal frelled code and a `` solidify '' code provided with blender , which converts the one - dimensional lines generated in _ matplotlib _ into 3d structures .    to help produce conventional 2d plots ( e.g. for publications ) , the colours of the contours can be set according to the velocity ( or whatever the third axis of the cube happens to be ) of the sources .",
    "these can be defined by the axis range of the entire cube or by the subset of selected sources . for examples ,",
    "see t14 appendix b.    if a region spans more than one channel , the contours plotted will be of the integrated flux ( moment 0 ) for that region .",
    "the colour assigned will depend on the systemic velocity of the source , i.e. the central channel of each region .",
    "renzograms are contour plots of the flux in each channel of a source , with each channel assigned a different colour .",
    "the colours are set in the same way as for contour plots : they can either depend on the global velocity axis , or the particular velocity range of the selected regions .    in 3d , renzograms are essentially slices of an isosurface .",
    "the ability to generate true isosurfaces will be included in a future version of frelled .",
    "moment maps can show a variety of different quantities , though currently only moment 0 ( integrated flux ) maps are supported in frelled",
    ". they can be useful in increasing sensitivity to extend flux , as discussed in t14 .",
    "moment maps in frelled are limited to greyscale images .",
    "the support for world coordinates means it is straightforward for frelled to query the nasa extragalactic database and the sloan digital sky survey ( @xcite ) .",
    "this is obviously useful to discover if a source has a counterpart at other wavelengths , which can be important in - for example - deciding if a source requires follow - up observations .",
    "queries are performed using a near - position search in ned and by opening the sdss navigate tool at the coordinates specified ( both by simply opening the ned or sdss url in a web browser with the appropriate parameters ) .",
    "no attempt is made by frelled to match the objects found through the query with the source identified in the data - this is a non - trivial operation for which it is better to allow the user full control ( for instance , the user may demand only optical redshift data and not hi redshifts , or sources found in ned may not have any redshift information in which case the user must decide if a closer or brighter source is more likely to be the actual counterpart ; the user might also decide that _ none _ of the counterparts are plausibly associated with their source ) .",
    "rgb images from the sdss can be directly displayed in frelled .",
    "their field of view is set to be the same as the region queried .",
    "thus is it is very easy to overlay , for example , hi contours on an optical image with a single mouse click .",
    "the sdss does not permit downloading images larger than 2048@xmath32048 pixels .",
    "images are normally extracted at the maximum resolution of 0.3961@xmath5 .",
    "if the region is so large that the image would exceed the maximum limit , frelled adjusts the resolution to keep the field of view the same .",
    "it is straightforward to compute the sum of values in a specified region .",
    "since blender s internal python enables us to check if a point is inside a mesh of arbitrary complexity , this allows analysis of regions of any shape .",
    "frelled reports both the raw sum of values and the beam - corrected total integrated flux , as described in t14 .",
    "an array of the locations of points inside the mesh is also written to a text file , allowing the user to write their own scripts to process data from regions of complex shapes .",
    "basic statistics ( minimum , maximum , mean , median and standard deviation ) of the raw values in the selected region are also calculated .",
    "miriad is a widely - used tool in radio astronomy for data reduction and also spectral line analysis ( @xcite ) .",
    "in particular the _ mbspect _ package is an accepted standard way in which to determine the precise coordinates of a source and also measure its line width and total flux .",
    "this requires the user to numerically specify their initial estimate of the coordinates , the velocity ( or frequency ) range of the source , any velocity range that should be masked to avoid measuring ( for instance ) rfi , and the name of a log file to save the extracted spectrum .",
    "frelled allows the user to access _ mbspect _ via the user - created regions .",
    "these feed the ( world ) coordinates and velocity range of the source into _",
    "mbspect_. any other regions which are at similar coordinates but at a different velocity",
    "are also used to mask data , preventing the baseline fit in _ mbspect _ from being unduly affected by other sources .",
    "frelled can access _ mbspect _ in two different ways : 1 ) interactively - if a single source is selected , _",
    "is run without saving any information to a log file , and the fitted spectrum is displayed in an x - window ; 2 ) non interactively - if multiple sources are selected , all the necessary parameters are saved to input files , named according to the regions , with log files specified . in both cases , since frelled does not offer direct access to all _ mbspect _ parameters , the idea is provide a useful first look at the data and reduce the workload when fine - tuning the parameters later .    regions in frelled can also be used to mask data with miriad .",
    "the advantage of doing so is that miriad s _ immask _ sets values in the specified region to nan , rather than merely hiding them as in frelled .",
    "this can be useful , for example , when analysing the noise characteristics of a cube .    while only a few miriad tasks are current accessible via frelled , there is no reason why any other tasks which benefit from having a specified region ( essentially any which analyse individual sources rather than entire data sets ) can not be similarly utilised . frelled accesses miriad simply by writing the necessary parameters to a text file and running the appropriate task , avoiding the need to re - invent the wheel and recode all of the well - tested miriad features .",
    "thus , extending frelled to use other miriad tasks is a straightforward procedure .",
    "numerical simulations present a few special concerns .",
    "they usually contain far more information than observational data : the user will probably opt to display true 3d spatial information rather than two dimensions of space and one of velocity .",
    "a frelled tool can display velocity information as 3d mesh arrow vectors .",
    "alternatively the user could use a separate fits file to display velocity information as colour ( see section [ sec : displaycode ] ) .",
    "there is also support for loading n - body particle data ( as with vectors these are loaded as blender meshes ) .",
    "one other key difference between numerical simulations and observational data is that simulations usually have multiple timesteps .",
    "both the particle and fits data can be animated in frelled - in the latter case the user simply supplies a file containing a list of the fits files they wish to animate .",
    "it is also possible to render batches of simulations ( currently they should all have similar data ranges , since it is not possible to specify a different transfer function for each simulation ) .    for presenting data ,",
    "simple rotation movies are also supported ( this can be used in conjunction with time series data ) .",
    "the user specifies the position and orientation of the camera and the number of frames for it to complete one rotation .",
    "p15 describe in detail the requirements for an hi fits viewer .",
    "i have described many of those features which frelled already offers throughout this article . here",
    "i describe the limitations of frelled , including features that potentially could be implemented and those which are impossible .    of the requirements listed in p15 , three are likely impossible in frelled and/or blender , short of involving a blender developer .",
    "firstly , we can not interactively change the transfer functions . in",
    "most fits viewers , the user can interactively change the contrast of the displayed image by using the mouse and/or numerically setting the minimum and maximum data values .",
    "this is not possible in frelled without re - converting the fits file into png images an reloading them . as i showed in section",
    "[ sec : bench ] , this is prohibitively slow except for small data sets , and can not be considered to be an interactive feature . while the contrast of the png images can be directly controlled within blender",
    ", this does not affect the realtime display and the rendering the result is also prohibitively slow .",
    "fortunately , frelled is not entirely without the ability to control the image display .",
    "controlling the transfer function is useful since the data often has a high dynamic range . studying extended , complex bright features requires a different data range to that suitable for even detecting unresolved faint sources . to this end",
    ", there are some options in frelled / blender to interactively enhance the visibility of different features :    * the maximum opacity of the data - see figure [ fig : display ] .",
    "making the data more opaque makes fainter sources easier to see , but reduces the visibility of structures within bright features .",
    "* clipping of faint features .",
    "blender allows all features below a specified transparency threshold to be rendered completely invisible .",
    "this is useful for hiding faint features ( e.g. noise ) that may obscure the view of other , brighter sources . *",
    "adjusting how the colour maps are applied to the data .",
    "for instance a texture map can affect only the transparency or the transparency and the colour ( which results in a higher contrast display ) , and these mapping modes can be toggled interactively .    therefore , while frelled does not allow the transfer function to be controlled interactively , i believe it has enough alternative options that this is only a minor deficiency .",
    "more problematically , it is not possible to change the line - of - sight integration method .",
    "as mentioned in section [ sec:2d ] blender is limited to displaying only the sum of values .",
    "although i have not found this to be a severe handicap in practise , it would certainly be advantageous to be able to display , say , the peak flux instead ( as is possible in _ xray _ and _ ds9 _ ) .",
    "frelled is restricted by the whims of the blender developers in this case ( or more accurately by the needs of blender s main user base ) .",
    "the third feature which is essentially impossible is to interactively smooth the data . as noted in p15 , this can help reveal fainter features by increasing sensitivity - but of course this also decreases resolution , hence the need to be able to interactively switch between smoothed and unsmoothed cubes .",
    "_ ds9 _ is able to interactively smooth the data on the fly , a process which is somewhat slow but not prohibitively so ( about 38 seconds for our large vla gps cube on the hp elite ) .",
    "in contrast it takes about two minutes to smooth the png images for the 128@xmath1 voxel cube - much longer than the 40 seconds it takes to load the data into frelled .",
    "possible workarounds for this would be the implementation of isosurfaces , which would allow smoothing of much smaller subsets , or using pre - computed smoothed cubes ( see section [ sec : multi ] ) - the latter would be slow to initially load in , but switching between different cubes would be instantaneous .",
    "p15 also discuss the size of the data sets that various ska precursor surveys will return .",
    "as shown in section [ sec : bench ] , frelled is certainly not capable of handling the enormous @xmath04000@xmath1 voxel data sets such surveys will produce .",
    "it is in fact possible to already visualise such enormous data sets , but this requires access to a large cluster of gpus ( @xcite ) , something the average user does not have .",
    "frelled is , however , fully capable of handling subset cubes returned by automatic algorithms ( see p15 ) on a standard desktop workstation . for most contemporary data sets ,",
    "frelled is perfectly adequate .",
    "most of the other features mentioned in p15 are already partially implemented in frelled and it should be straightforward to develop them fully .",
    "it already supports moment 0 maps , extending this to other moments ( e.g. velocity , velocity dispersion , peak flux ) would be straightforward .",
    "isosurfaces are not yet supported but renzograms are - and as noted in section [ sec : renzo ] , these are essentially slices of isosurfaces .",
    "it is quite literally a matter of `` joining the dots '' to turn these into isosurfaces , for which a blender script already exists ( see http://sourceforge.net/projects/pointcloudskin/[this url ] ) .",
    "i have described the capabilities of frelled , a fits viewer designed specifically to display astronomical fits data cubes in 3d .",
    "i have discussed in detail the problems of visual source extraction , noting that frelled is an effective way to alleviate one of its principle difficulties  : the low speed in comparison with automatic programs .",
    "i have demonstrated that using interactive objects to mask and catalogue data , with the appropriate interface ( particularly using a 3d display ) is a highly effective way to increase the visual source extraction process .",
    "this makes it possible to catalogue hundreds of sources per day , which is sufficiently fast that there is little point in _ not _ undertaking such a search .",
    "i have also discussed how visual source extraction out - performs most algorithms in terms of reliability , if not completeness .",
    "it is worth emphasising that both techniques have an important role . in large data sets ,",
    "the subjective nature of visual source extraction makes it desirable to do multiple searches - both by multiple people and algorithms ( who / which may all have different biases ) .",
    "while visual extraction will always been subjective , at the current time so - called automatic algorithms fare little better in this regard . at low",
    "s / n levels ( which is often where the most interesting sources are found ) , their reliability levels are so low that their catalogues require human inspection anyway .",
    "moreover , while it is obviously desirable to have a catalogue which is complete to some ( say ) flux limit , there is also value in finding every source possible without imposing any rigorous selection criteria . imposing criteria for cataloguing sources too strictly runs the risk of avoiding important serendipitous discoveries .",
    "finally , i note that many of the features provided by frelled are , technically , also possible with other software .",
    "regions of data can be masked using a combination of miriad and _ kvis _ , but far more slowly and laboriously .",
    "one can input all of the necessary parameters to analyse a spectral line in _ mbspect _ by carefully inspecting the data and typing them in by hand .",
    "what frelled attempts to do is provide not so much new features but simply a better _ interface _ to control them . in this way",
    ", it becomes possible to do visual source finding and analysis much more rapidly and on a larger scale than was previously possible .",
    "similarly , the far superior navigation interface of blender makes it possible to explore data sets in a completely different way to other 3d viewers . while frelled itself may not be used in analysing the large data cubes returned by ska precurosr surveys , i believe that similar features , implemented in other software , would bring tremendous benefits .",
    "the authors wish to thank kevin douglas for graciously providing the multi - wavelength data shown in figure [ fig : multirender ] .",
    "this work is based on observations collected at arecibo observatory .",
    "the arecibo observatory is operated by sri international under a cooperative agreement with the national science foundation ( ast-1100968 ) , and in alliance with ana g. mndez - universidad metropolitana , and the universities space research association .",
    "this research has made use of the nasa / ipac extragalactic database ( ned ) which is operated by the jet propulsion laboratory , california institute of technology , under contract with the national aeronautics and space administration .",
    "this work has made use of the sdss .",
    "funding for the sdss and sdss - ii has been provided by the alfred p. sloan foundation , the participating institutions , the national science foundation , the u.s .",
    "department of energy , the national aeronautics and space administration , the japanese monbukagakusho , the max planck society , and the higher education funding council for england .",
    "the sdss web site is http://www.sdss.org/.    the sdss is managed by the astrophysical research consortium for the participating institutions .",
    "the participating institutions are the american museum of natural history , astrophysical institute potsdam , university of basel , university of cambridge , case western reserve university , university of chicago , drexel university , fermilab , the institute for advanced study , the japan participation group , johns hopkins university , the joint institute for nuclear astrophysics , the kavli institute for particle astrophysics and cosmology , the korean scientist group , the chinese academy of sciences ( lamost ) , los alamos national laboratory , the max - planck - institute for astronomy ( mpia ) , the max - planck - institute for astrophysics ( mpa ) , new mexico state university , ohio state university , university of pittsburgh , university of portsmouth , princeton university , the united states naval observatory , and the university of washington ."
  ],
  "abstract_text": [
    "<S> i present a new fits viewer designed to explore 3d spectral line data ( in particular hi ) and assist with visual source extraction and analysis . </S>",
    "<S> using the artistic software blender , frelled can visualise even large ( @xmath0600@xmath1 voxels ) data sets at high frame rates ( @xmath210 f.p.s . ) in 3d . </S>",
    "<S> blender s interface enables easy navigation within the 3d environment , and the frelled scripts support world coordinate systems . a variety of tools are included to aid source extraction and analysis , including interactively masking data ( using 3d polyhedra of arbitrary complexity ) , querying ned , calculating the flux in specified volumes , generating contour plots and overlaying optical data . </S>",
    "<S> it includes tools to overlay n - body particle data , and multi - volume rendering is supported . </S>",
    "<S> the interface is designed to make cataloguing sources as easy as possible and i show that this can be as much as a factor of 50 times faster than using other viewers .    radio lines : galaxies , galaxies : kinematics and dynamics , surveys , scientific visualization , visual analytics </S>"
  ]
}