{
  "article_text": [
    "* _ _ tgc__at * aims to be the definitive end - user source for all chandra hetgs and letgs observations . in order to achieve this goal the catalog must both",
    "have the absolute best processed and calibrated data , as well as have an interface which makes it easy for users to find , review and download their observations of choice .",
    "the science requirements for accurately processing gratings data are discussed elsewhere ( huenemoerder et .",
    "al .  2010 ) .",
    "this writing will focus on the automated system that collects and processes new public data , the interfaces used for administrative review , and the interfaces and systems provided for user access .",
    "the * _ _ tgc__at * processing system is comprised of three major components :    * mysql database storing meta - data * file archive * processing software    these components are described in the context of * _ _ tgc__at * processing in this section .    [ [ tables ] ] tables : + + + + + + +    the tables relevant to processing include the extractions , source , spectral properties , files , and queue tables .",
    "the extractions table has one entry per processed extraction , where extraction is taken to mean a single source in a unique _ chandra _ observation i d ( obsid ) .",
    "any one obsid can have many sources and any one source can be in many obsids , the extractions table will store one entry for each combination thereof . in order to consolidate all extractions of a single source , there is a source table indexed on identifier , a * _ _ tgc__at * identifier , and coordinates , that associates entries in the extractions table .",
    "the files table tracks processing output products and summary images allowing the web pages to easily display information on files available for download . the spectral properties table stores and indexes spectral properties in several different wavebands , these data are also available in a fits table for download .",
    "[ [ data - flow ] ] data flow : + + + + + + + + + +    the flow of data through the system is rather simple , as illustrated in figure [ systems_diag ] .",
    "a bash script run via _ cron _ at regular intervals downloads a list of gratings observations from the public chandra and compares with the list of obsids that have been submitted to * _ _ tgc__at*.",
    "any not in * _ _ tgc__at * will be added to the queue table to be processed in line .",
    "daemon processes , written in python , run on any number of network connected hosts continuously requesting entries from the queue in a _ fifo _",
    "manner , the first process to ask entries from the queue table will retrieve the first entry ( by time of creation ) .",
    "they then parse the queue entry which can contain a number of custom processing parameters , setup work spaces and logging , fork off the processing which is implemented in isis ( houck & denicola 2000 ) interactive library functions , which are available for and custom use , and finally ingest data into the database and archive . during the ingest step , several checks are done to evaluate whether or not the resultant processed data are a complete set and worth being manually reviewed by * _ _ tgc__at * scientists .",
    "if so , meta data are added to the database s main extractions table which returns a unique identifier that is then used to tag the file based products . at this time linking is done between the source table and extractions table .",
    "if not , the queue entry is marked as an error and notification sent .",
    "* _ _ tgc__at * operators have the choice to investigate the existing processing workspace or simply re - evaluate parameters and re - queue the extraction as new .    [ [ validation - and - verification ] ] validation and verification : + + + + + + + + + + + + + + + + + + + + + + + + + + + +    each extraction available for browsing has been reviewed by a member of the * _ _ tgc__at * science team in order to confirm zeroth order placement , proper masking , etc .",
    "this is done via an internal website nearly mimicking the public interface for reviewing extractions but with the addition of forms for queueing processing and for marking the extraction as `` good '' , `` bad '' , or `` warning '' and optional comment fields which are available for review by the end user .",
    "`` bad '' extractions are never shown on the public site and administrators have the option of rejecting any other extraction for whatever reason . because each extraction is tagged with the date of processing , the version of * _ _ tgc__at",
    "* used for processing , and a so called group i d which is unique per group of extractions intended to be of the same object for a single obsid , keeping track of accepted sources and avoiding duplicates is made easy .",
    "* _ _ tgc__at * has several interfaces for data access .",
    "currently three are operational including the web browser interface , and two virtual observatory access protocol interfaces .",
    "each of these access interfaces are implemented as a `` plug - in '' written in php .",
    "plug - in functions to create output are called by a catalog independent generalized query library written in php under * _ _ tgc__at * development dubbed `` querylib '' .",
    "this modular approach makes it trivial to add access interfaces to * _ _ tgc__at*.      querylib stores state and type information of an individual query in a database table .",
    "each time a query is performed , fields in this table such as a _ where _ clause , sort fields , indexed ids and columns are populated with information specific to that query . as a user interacts with the particular interface , information in this table entry",
    "are updated to reflect the new state of the query through object method calls .",
    "querylib initialized a query by creating a new entry in the table with two unique ids : one is the primary key identifier assigned at creation and can be used to reference the query , the other is created on the fly using a combination of the primary key and a random hash string that is very unlikely to be guessed .",
    "this is done so that a malicious user can not change the state of anyone s query by simply guessing an i d .",
    "the querylib speeds up the process of redrawing a table of results by storing the indexed primary keys of all entries selected rather than having to rerun a potentially complicated where clause .",
    "the web to * _ _ tgc__at * allows users browse extraction and object entries in a way that is most suitable to the catalog data structure .",
    "each extraction has an associated preview page where a set of standard plots produced at the time of processing is available for viewing .",
    "a table of spectral properties providing quick general categorization , and a table of each individual file available for the extraction along with a link to download that file are provided .",
    "perhaps one of the most important features of the web interface is the interactive plotting of individual or combined spectra directly on the site .",
    "this is implemented server side by taking the post request for plotting parameters along with a unique file name , creating a small script of the commands for loading data and plotting , and piping this script into an isis process .",
    "malicious use is prevented by checking all parameter inputs for appropriate values , running the isis process as an unprivileged user , and checking the temp file name for validity before piping .",
    "since the file name is known at the time of the request , the page simply needs to reload to show the new plot .",
    "the commands , any error output , and an ascii dump of the plot data are available for download as well .",
    "* _ _ tgc__at * is a registered vo service providing both the and protocols .",
    "these are both implemented as an xml output plug - ins taking input from a php script that provides appropriate get parameters , then creates a query object after parsing the input data , finally running the query in exactly the same way as for the web and ascii interfaces .",
    "error handling is done by the calling script and meta data is provided by running a query with parameters known to have no catalog entries ( indexed id=0 ) .",
    "vo queries , and any other type , can be tracked in the query table using the type column . in this way we can track statistics on requests coming from services such as .",
    "generally , users will want to download more than one file at a time for analysis , such as such as spectra and responses or products from multiple extractions of the same target .",
    "to this end * _ _ tgc__at * runs a packager process that parses a queue table much like the processing queue table described above .",
    "requested packages are added to the package queue table , validated and read by the packager which then fetches data to a temp space placing them in a directory hierarchy tagged with obsid and * _ _ tgc__at * i d .",
    "the entire hierarchy is then tarred , compressed and provided to the user along with file checksums via http .",
    "we would like to thank dan dewey for extensive input on data organization and interface layout , and mike nowak for isis plotting routines and advice on the interactive plotting interface .",
    "this work is supported by the chandra x - ray center ( cxc ) nasa contract nas8 - 03060 .",
    "dph was supported by nasa through the smithsonian astrophysical observatory ( sao ) contract sv3 - 73016 for the chandra x - ray center and science instruments .",
    "huenemoerder , et .",
    "2010 , ( in preparation ) houck , j.  c. , denicola , l.  a.  2000 , , 591 williams , roy , hanisch , robert , szalay , alex , plante , ray 2009 , simple cone search version 1.03 , http://www.ivoa.net/documents/rec/dal/conesearch-20080222.html tody , doug & plante , ray 2009 , simple image access specification version 1.0 , + http://www.ivoa.net/documents/sia/20091008/pr-sia-1.0-20091008.html"
  ],
  "abstract_text": [
    "<S> the recently released chandra transmission grating catalog and archive , * _ _ tgc__at * , presents a fully dynamic on - line catalog allowing users to browse and categorize chandra gratings observations quickly and easily , generate custom plots of resulting response corrected spectra on - line without the need for special software and to download analysis ready products from multiple observations in one convenient operation . * _ _ tgc__at * has been registered as a vo resource with the nvo providing direct access to the catalogs interface . </S>",
    "<S> the catalog is supported by a back - end designed to automatically fetch newly public data , process , archive and catalog them , at the same time utilizing an advanced queue system integrated into the archive s mysql database allowing large processing projects to take advantage of an unlimited number of cpus across a network for rapid completion . </S>",
    "<S> a unique feature of the catalog is that all of the high level functions used to retrieve inputs from the chandra archive and to generate the final data products are available to the user in an isis written library with detailed documentation . here </S>",
    "<S> we present a structural overview of the systems , design , and accessibility features of the catalog and archive . </S>"
  ]
}