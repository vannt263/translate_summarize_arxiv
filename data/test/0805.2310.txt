{
  "article_text": [
    "correlations between time series are fundamental for understanding and interpreting stochastic processes . very often the time between the signals of a series is distributed in an uneven fashion , causing asynchronicity of the compared series .",
    "correlations between asynchronous signals can be of great importance in several areas .",
    "an important example is the case of neutron activation analysis @xcite .",
    "these experiments are used for non - destructive testing of materials in order to determine the concentration of their constituents . in the analysis the specimen is bombarded by neutrons coming from a source , causing the elements to form radioactive isotopes , and from the spectra of the emissions of the radioactive sample , the concentration of the elements can be determined .",
    "since the radiation appears together for all kinds of atoms , different elements are going to radiate in a correlated but asynchronous way @xcite .",
    "another example can be taken from materials science or seismology .",
    "mechanical failures can be tested by their wave radiation and it is crucial to know if the signals measured by different sensors are correlated @xcite .",
    "obviously , the analysis involves the handling of asynchronous signals .",
    "correlations of returns of different companies are fundamental input data for portfolio optimisation .",
    "as the transactions are asynchronous , the correlations measured on short time scale are significantly reduced , which is called the epps effect @xcite .    from theoretical point of view continuous time random walks @xcite can be mentioned , that can be used to describe a broad range of processes from transport in disordered solids @xcite to finance @xcite . correlated continuous random walks produce asynchronous time series .    when computing the pearson correlation coefficient of two stationary signals we often have to face an important problem : the correlation measure is designed to determine the grade of co - movements of synchronous observations , while the signals are asynchronous",
    ". the usual way to handle this problem is to cumulate data over a time window @xmath0 and look for the correlations between these binned data . in order to approach the asymptotic , proper value of the correlation coefficient",
    ", @xmath0 should be much larger than the scale of asynchronicity .",
    "however , this leads to the reduction of the statistics , consequently it makes the estimates inaccurate . on the other hand , for short @xmath0 the noise due to asynchronicity may reduce the measured correlations significantly .",
    "it has been suggested to use measures of correlation other than the pearson coefficient to overcome the problem of asynchronicity .",
    "@xcite presents a method of measuring covariance based on fourier series analysis of data .",
    "this method has been applied by refs . @xcite in the study of financial correlations . while the fourier method is indeed somewhat less sensitive to asynchronicity , the problem can not be eliminated by its use .",
    "@xcite propose a new estimator of the covariance of two diffusion processes that are observed only at discrete times in a non - synchronous manner .",
    "their estimator uses all available data and does not require synchronization of observations , however in the presence of noise it becomes inconsistent and its variance diverges .",
    "a good comparison of several covariance estimators can be found in refs @xcite .    in this paper",
    "we describe an estimator of the pearson correlation coefficient for correlated , asynchronous pairs of data based on an appropriate decomposition of the expression for the correlation coefficient for large @xmath0 by using the value of the coefficient for small time window and decay of lagged correlations .",
    "the latter can be calculated from the good statistics high resolution data .",
    "we applied the decomposition scheme already to explain @xcite the epps effect @xcite . here",
    "we show how it can be used to accurately estimate the asymptotic correlation coefficients .",
    "the paper is organized as follows : in section [ sec : decomp ] we review the decomposition of correlations .",
    "section [ sec : method ] contains the description of our method together with some demonstrative results . in section [ sec : data ] we apply the method to real data .",
    "we end the paper with a short summary in section [ sec : summary ] .",
    "let us consider a system , where discrete stationary signals arrive from two different sources ( a and b ) at different time instances resulting in two correlated time series .",
    "we count the hits arriving , and denote their cumulative number measured from a reference time @xmath1 at time @xmath2 by @xmath3 and @xmath4 respectively .",
    "we are interested in the correlation between the number of hits arriving to our sensor in a certain time window , thus the change in @xmath5 and @xmath6 .",
    "this will be denoted by    @xmath7    the general pearson correlation measure with time lag @xmath8 is defined by    @xmath9    where @xmath10 is the deviation of @xmath11 from its mean ,    @xmath12    with @xmath13 $ ] and @xmath14 ( @xmath15 ) is the standard deviation of @xmath16 ( @xmath17 ) .",
    "we use @xmath18 for denoting time average .",
    "the equal - time correlation coefficient is naturally : @xmath19 .    as we can see , already by the definition , the length of the time window , i.e. the value of @xmath0 plays a major role in measuring the correlation .",
    "assuming @xmath20 with @xmath21 being a positive integer , we can deduce the following relationship between correlations on the two different time scales    @xmath22    details on the deduction of equation [ eq : data_formula2 ] can be found in the appendix . it is plausible to set @xmath23 as the shortest meaningful time scale in the system , that has to be chosen with the actual problem in mind .",
    "this decomposition can be used to accurately estimate correlations by using high resolution , i.e. , good statistics data .",
    "expression ( [ eq : data_formula2 ] ) enables to calculate the correlation coefficient for any sampling time scale , @xmath0 , by knowing the coefficient on a shorter sampling time scale , @xmath24 , and the decay of lagged correlations on the same shorter sampling time scale ( given that @xmath0 is multiple of @xmath24 ) .",
    "the method we would like to propose relies on this decomposition of correlations .",
    "we suggest the following procedure .",
    "data should be binned with a small @xmath25 such that a good statistics is achieved , irrespective of the fact that noise due to asynchronicity may be considerable .",
    "then the correlation functions and the decay of lagged correlations should be calculated using these data ( of course the calculated correlation can be expected to be too small ) . plugging in these quantities into equation ( [ eq : data_formula2 ] ) with a large enough @xmath0",
    "we obtain a good estimate for the proper correlation . using different values of @xmath0 an extrapolation to the proper",
    ", asymptotic correlation coefficient is possible .",
    "we demonstrate the method in more details in this section .",
    "we use correlated random walks and show that in case of directly measuring the correlations in large @xmath0 time windows we need very long time series in order to have a good estimate for correlations . when using the decomposition method , we use high resolution data and",
    "thus can achieve an estimate for the correlations with the same accuracy from a dataset of much shorter time span .",
    "we construct correlated asynchronous time series in the following way : as a first step we generate a core random walk with unit steps up or down in each second :    @xmath26    where @xmath27 is @xmath28 with equal probability .",
    "second we sample the random walk , @xmath29 , twice independently with sampling time intervals drawn from some distribution .",
    "this way we simulate asynchronicity by non - simultaneously sampling our generated data .",
    "a snapshot of the random walks can be seen in figure [ fig : model ] .",
    "[ ] [ ] [ 2.5][0]w(t ) [ ] [ ] [ 2.5][0]@xmath3 [ ] [ ] [",
    "2.5][0]@xmath4    below we present results first for exponentially distributed sampling intervals between steps and second for the sampling intervals between steps being drawn from a weibull distribution .",
    "we study the correlation between the changes in the position of the two random walkers .",
    "we generate 50 pairs of time series , as described above , with sampling intervals    between consecutive changes from the distribution :    @xmath30    with parameter @xmath31 .",
    "each time series has a length of 25000 time steps .",
    "naturally , since the time series are finite , the correlation coefficients that we measure will have errors . in figure",
    "[ fig : exp ] we show the results for the correlation coefficients on different time scales , where the shortest time scale used was @xmath32 .",
    "( color online ) comparison of the directly measured correlation coefficients and the coefficients determined through the decomposition method in case of exponentially distributed sampling intervals . in blue we show the average and the standard deviation of the direct measurements computed over the ensemble of 50 time series pairs . in red",
    "we show the average and the standard deviation obtained by the decomposition method , computed over the ensemble of 50 time series pairs.,scaledwidth=75.0% ]    in blue we show the average of the direct measurements , taken over 50 points .",
    "the errorbars show the standard deviation of the points . in red we show the average result obtained by the decomposition method using equation [ eq : data_formula2 ] , taken over 50 points , with their standard deviation as errorbars . as we can see there is a significant difference between the errors of the two measurements , while their means are very near to each other .",
    "in general , the error of measurements goes as @xmath33 , where @xmath34 is the standard deviation of the distribution of results and @xmath35 is the number of data points .",
    "the ratio of the standard deviations at @xmath36 in figure [ fig : exp ] is close to 3 .",
    "this means that in order to obtain the same precision from direct measurements as from the decomposition method , we need roughly one order of magnitude more data points .    generally , one is interested in the asymptotic value of the correlations , i.e. in the limit of @xmath37 .",
    "as we can see , even for the numerically generated data , determining the correlation for the scale of @xmath36 we still get a correlation different from the underlying asymptotic correlation , that is 1 . a possible way to determine the asymptotic correlation value is using some extrapolation method .    we demonstrate that applying a simple extrapolation method for the generated data we can determine the exact underlying correlation with very good accuracy . since we are interested in the @xmath38 value , we use the plot of @xmath39 as a function of @xmath40 for the extrapolation .",
    "figure [ fig : exp_poly ] shows the correlation points and the curve determined by piecewise cubic hermite interpolation method .",
    "the extrapolated curve intercepts the y - axis at the value of 1.002 , which is very close to the actual asymptotic correlation value , with an error around @xmath41 .",
    "( color online ) the correlation as a function of @xmath40 for the exponentially distributed sampling intervals .",
    "the circles show the correlations determined using the decomposition method , and the ( red ) curve is the piecewise cubic hermite interpolation of the correlation values .",
    "the extrapolation gives an asymptotic correlation value of 1.002 , very close to the actual underlying value , that is 1.,scaledwidth=75.0% ]    we studied the effect of the errors of the two methods on the accuracy of the extrapolated value of the correlation coefficient . applying a piecewise cubic hermite interpolation to the endpoints of the error bars , we find that the extrapolated value of the asymptotic correlations using direct measurements falls between 0.979 and 1.035 , while the value for the decomposition method falls between 0.998 and 1.005 , indicating a factor of 8 improvement in the precision .      in order to demonstrate the power of the method for a non poisson process we generate 50 pairs of time series , as described above , with sampling intervals between consecutive changes generated from a weibull distribution :    @xmath42    with parameters @xmath43 and @xmath44 .",
    "again each time series has a length of 25000 time steps and the directly measured correlation values have large variance . in figure",
    "[ fig : weibull ] we show the results for the correlation coefficients on different time scales , again with @xmath32 .",
    "( color online ) comparison of the directly measured correlation coefficients and the coefficients determined through the decomposition method in case of weibull distributed sampling intervals . in blue",
    "we show the average and the standard deviation of the direct measurements computed over the ensemble of 50 time series pairs . in red",
    "we show the average and the standard deviation obtained by the decomposition method , computed over the ensemble of 50 time series pairs.,scaledwidth=75.0% ]    the figure shows that we get a better estimate of the means from the decomposition formula than from direct measurements . in this case",
    "the ratio of the standard deviations at @xmath36 is close to 2 .",
    "the same improvement is obtained for the precision of the extrapolated asymptotic correlation coefficients .",
    "the extrapolation of the asymptotic coefficient can be seen in figure [ fig : weibull_poly ] .",
    "the two above examples on generated time series show that using our method and estimating the correlation coefficient between asynchronous signals from the high frequency data leads to much smaller variation of the results than in case of direct measurement of correlations on lower frequency data .",
    "( color online ) the correlation as a function of @xmath40 for the weibull distributed sampling intervals .",
    "the circles show the correlations determined using the decomposition method , and the ( red ) curve is the piecewise cubic hermite interpolation of the correlation values .",
    "the extrapolation gives an asymptotic correlation value of 0.992 , very close to the actual underlying value , that is 1.,scaledwidth=75.0% ]      as we can see from equation ( [ eq : data_formula2 ] ) a subtle point of the correlation estimation is the measurement of the decay of lagged correlations on the short ( @xmath23 ) time scale , that we will call decay functions .",
    "there are three decay functions we have to measure : @xmath45 , @xmath46 and @xmath47 .",
    "to have good estimation of the asymptotic correlation value , one has to have precise measurements of these decay functions .    in the above examples we had random walks as underlying processes , thus by definition the autocorrelations are delta functions .",
    "however , because of the asynchronous sampling , the cross - correlation is being smeared out and instead of a delta function we have finite decay of the cross - correlation .",
    "these cases are simple from the point of view of the decay functions .",
    "to demonstrate that in case of more complicated vanishing decay functions the decomposition can still give a good estimation of the asymptotic correlation , we consider the following time series .",
    "we generate a persistent random walk @xcite , ie .",
    "a walk , where the probability , @xmath48 , of jumping in the same direction as in the previous step is higher than @xmath49 .",
    "then , as we have done before , we sample the persistent random walk twice independently with sampling intervals drawn from a weibull distribution ( again with parameters @xmath43 and @xmath44 ) .",
    "this construction generates slowly vanishing decay functions ( that would be exponentially decaying without the asynchronous sampling ) . again we generate 50 pairs of time series , each being 25000 steps long , the persistency is @xmath50 .",
    "figures [ fig : autodecay ] and [ fig : cross_decay ] shows two of the decay functions ( the decay of the autocorrelations are identical so we only show one of them ) .",
    "here we set @xmath51 .",
    "( color online ) the decay function , @xmath52 in case of the persistent random walk , sampled with weibull sampling intervals .",
    "the autocorrelations decrease slowly.,scaledwidth=75.0% ]     ( color online ) the decay function , @xmath47 in case of the persistent random walk , sampled with weibull sampling intervals .",
    "the cross - correlations decrease slowly.,scaledwidth=75.0% ]    in figure [ fig : weib_persistent ] we show the results for the correlation coefficients on different time scales .",
    "the decomposition method gives good results in this case too .",
    "the ratio of the standard deviations at @xmath36 is close to 3.5 , signaling that in order to obtain the same precision , we need roughly one order of magnitude more data points in case of direct measurements than for the decomposition method .",
    "figure [ fig : weib_pers_pchip ] shows the extrapolation to the asymptotic value of the correlation , using piecewise cubic hermite interpolation method .",
    "the extrapolated curve intercepts the y - axis at the value of 1.002 . applying the extrapolation to the endpoints of the error bars , comparing the direct measurements and the decomposition results , we find a factor of 20 improvement in the precision .",
    "( color online ) comparison of the directly measured correlation coefficients and the coefficients determined through the decomposition method in case of the persistent random walk , with weibull sampling . in blue we show the average and the standard deviation of the direct measurements computed over the ensemble of 50 time series pairs . in red",
    "we show the average and the standard deviation obtained by the decomposition method , computed over the ensemble of 50 time series pairs.,scaledwidth=75.0% ]     ( color online ) the correlation as a function of @xmath40 for the persistent random walk , with weibull sampling .",
    "the circles show the correlations determined using the decomposition method , and the ( red ) curve is determined by using piecewise cubic hermite interpolation method .",
    "the extrapolation gives an asymptotic correlation value of 1.002.,scaledwidth=75.0% ]",
    "as discussed in the introduction , an example of correlated asynchronous signals is the case of stock market data .",
    "price changes for different assets on the market appear in an asynchronous manner , however , it is well known that there are important correlations between the price changes . in order to demonstrate our method on real world data , in this section",
    "we show how it can be used to estimate financial correlations .",
    "we took data for coca - cola and pepsi , a pair of stocks with strong correlations from the high frequency trade and quote ( taq ) database of the new york stock exchange ( nyse ) for the year 2000 .",
    "we computed the logarithmic returns of stock prices :    @xmath53    where @xmath54 stands for the price of stock @xmath55 at time @xmath2 .",
    "the prices were determined using previous tick estimator on the high frequency data , i.e. prices are defined constant between two consecutive trades .",
    "what we study is the cross - correlation coefficient between the data of different stocks .",
    "we divided data for the year 2000 into 50 disjoint periods of 5 days ( weekly periods ) and measured the correlations on these time intervals . this way we handle the separate weeks independently , similar to the case of the generated data : we have @xmath56 time series pairs and can study both the directly calculated correlation coefficients , both the coefficients obtained through the decomposition method .",
    "figure [ fig : data ] shows the results for the correlation coefficients on different time scales .",
    "we can see that the standard deviation of the coefficients obtained through the decomposition are much lower than those of the direct measurements : the ratio of the standard deviations at @xmath57 seconds is 4.6 signaling that in order to obtain the same precision , we need roughly 20 times more data points in case of direct measurements than for the decomposition method .",
    "( color online ) comparison of the directly measured correlation coefficients and the coefficients determined through the decomposition method in case of real world stock market data .",
    "the correlations are computed for the stock pair ko / pep for the year 2000 . in blue",
    "we show the average and the standard deviation of the direct measurements computed over the ensemble of 50 weekly time series pairs . in red",
    "we show the average and the standard deviation obtained by the decomposition method , computed over the ensemble of 50 weekly time series pairs.,scaledwidth=75.0% ]",
    "in this paper we discussed the problem of estimating the correlation coefficient between two asynchronous signals . while the direct use of high resolution data results in an underestimation of the correlations , coarser binning of the the data leads to larger errors due to loss of data .",
    "we proposed a method , which enables to estimate the asymptotic value of correlations from the high frequency data , without the need of using longer time scales and thus without using worse statistics .",
    "the correlations from the high frequency data can be determined very accurately , based on the good statistics .",
    "we demonstrated our method on generated data sets , showing that the error of correlations determined by our method is much smaller than the errors of correlations measured directly , using long time windows .",
    "extrapolating to the asymptotic correlation from the determined correlation values leads to a very accurate estimation of the underlying correlation .",
    "a very important question in the estimation of the asymptotic correlation value is the determination of the shortest meaningful time scale , @xmath23 , on which we measure the decay functions .",
    "the asynchronicity of the signals slows down the decrease of the decay functions . in the paper we showed that also in case of non - trivial decay functions the decomposition gives a good estimation of the asymptotic correlation value .",
    "we demonstrated how the method works for real data . when studying weekly cross - correlations of stock returns we showed that the precision of the coefficients obtained through our method is much higher than that of the direct measurements .",
    "* acknowledgements *    we thank zoltn szatmry and zsolt kajcsos for useful discussions .",
    "support by otka k60456 and t049238 is acknowledged .",
    "we can write the correlation coefficient from equation [ eq : c ] in the following form :      we assume two time scales : @xmath0 and @xmath25 where @xmath59 , with @xmath21 being a positive integer . the change in the measured quantity in the time window @xmath0 is the mere sum of changes in shorter , non - overlapping time windows @xmath23 :                                                a.  palandri , consistent realized covariance for asynchronous observations contaminated by market microstructure noise .",
    "http://www.econ.ku.dk / events_news / zeuthen/2006/worksho% p_06\\/papers / palandri_realcorr2.pdf[http://www.econ.ku.dk / events_news / zeuthen/2006/worksho% p_06\\/papers / palandri_realcorr2.pdf ]"
  ],
  "abstract_text": [
    "<S> the estimation of the correlation between time series is often hampered by the asynchronicity of the signals . </S>",
    "<S> cumulating data within a time window suppresses this source of noise but weakens the statistics . </S>",
    "<S> we present a method to estimate correlations without applying long time windows . </S>",
    "<S> we decompose the correlations of data cumulated over a long window using decay of lagged correlations as calculated from short window data . </S>",
    "<S> this increases the accuracy of the estimated correlation significantly and decreases the necessary efforts of calculations both in real and computer experiments .    </S>",
    "<S> 05.45.tp , 06.30.ft , 05.40.ca , 89.65.gh </S>"
  ]
}