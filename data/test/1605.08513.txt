{
  "article_text": [
    "from being a scientific curiosity only a few years ago , energy harvesting ( eh ) is well on its way to becoming a game - changing technology in the field of self - sustainable , autonomous wireless networked systems .",
    "a major factor that has contributed to the growth of the eh market is the evolution of ultra - low power electronics , which can run on the minuscule amounts of energy supplied by typical solar , vibration or thermal energy harvesters @xcite .",
    "a number of companies are already offering system solutions consisting exclusively of eh sensor nodes @xcite . stimulated by these advances , eh - powered wireless communications have attracted growing interest in recent years @xcite .",
    "different from traditional communication systems , eh from environmental sources shifts the paradigm on resource allocation from reducing energy consumption to the most efficient utilization of opportunistic energy .",
    "energy availability constraints are imposed such that the energy accumulatively consumed up to any time can not exceed what has been accumulatively harvested so far .",
    "considering these new type of constraints , optimal transmission policies were characterized for point - to - point channels in @xcite , for broadcast channels in @xcite , for multi - access channels in @xcite , for interference channels in @xcite , for two - hop relay channels in @xcite , for transmitters with non - ideal circuit - power consumption @xcite , and for systems with battery imperfections in @xcite .",
    "existing works @xcite on eh communications mostly addressed offline optimizations , where the eh profiles were assumed to be known _ a priori_. in practical scenarios , complete predictability of eh profiles is clearly an over - simplified assumption .",
    "relying on past realizations of eh processes and certain statistics of their future evolutions , @xcite developed some heuristic online algorithms , which , however , lack strong analytical performance guarantees . by modeling the eh and/or data processes as markov processes",
    ", online optimizations were cast as markov decision problems ( mdp ) and numerically solved with dynamic programming tools in @xcite .",
    "however , the well - known `` curse - of - dimensionality '' with such solutions precludes their application for all but the simplest practical networks .",
    "leveraging stochastic optimization tools , a few low - complexity online schemes were developed in @xcite .",
    "considering the energy - aware routing with energy replenishment at nodes , @xcite proposed an algorithm that achieves a logarithmic competitive ratio and is asymptotically optimal as the network size grows . a simple asymptotically optimal joint energy allocation and routing scheme was developed for rechargeable sensor networks with static and non - interfering ( i.e. , orthogonal ) links in @xcite . relying on the lyapunov optimization techniques , @xcite developed and analyzed the utility - optimal resource scheduling schemes for general eh - powered multi - hop wireless networks , while @xcite addressed the effect of finite energy and data storage capacities on such resource allocation tasks .",
    "the schemes in @xcite assumed ideal energy storage devices ( i.e. , batteries ) in use . under this assumption",
    ", the energy - queue sizes at the batteries can play the role of `` stochastic '' lagrange multipliers to develop a dual - subgradient based solver to the intended problems .",
    "however , the imperfections with practical batteries could disable this approach . in this paper",
    ", we consider a practical battery model accounting for finite battery capacity , energy ( dis-)charging loss , and energy dissipation over time . by integrating and generalizing the lyapunov optimization techniques in @xcite , we re -",
    "establish a systematic framework to develop and analyze the stochastic online control schemes for eh wireless networks with such imperfect batteries .",
    "specifically , we propose a data - backpressure based scheduling and degenerated energy - queue based power allocation scheme that can maximize the utility of data rates for eh multi - hop wireless networks , without requiring any statistical knowledge of the stochastic channel , data - traffic , and eh processes .",
    "different from @xcite where an eh admission mechanism is performed to ensure finite energy queues , we apply the sample path analysis in @xcite to derive the conditions that the proposed scheme is feasible for any given finite battery capacities without eh admission , which can help fully exploit the available harvested energy .",
    "in addition , we rigorously establish the performance guarantees of the proposed scheme in form of sub - optimality bounds in the presence of practical battery imperfections .",
    "numerical results demonstrate that the proposed scheme can significantly outperform the existing alternatives .",
    "the rest of the paper is organized as follows .",
    "the system models are described in section ii .",
    "the proposed dynamic resource management scheme is developed and analyzed in section iii .",
    "numerical results are provided in section iv , followed by concluding remarks in section v.",
    "as with @xcite , we consider a general eh multi - hop wireless network that operates in slotted time . for convenience ,",
    "the slot duration is normalized to unity ; thus , the terms `` energy '' and `` power '' can be sometimes used interchangeably .",
    "the network is represented by a graph @xmath0 , where @xmath1 denotes the set of network nodes , and @xmath2 , \\ ; n , m \\in { \\cal n}\\}$ ] collects the directed links between nodes . for each node @xmath3 , define two sets of neighbor nodes @xmath4 \\in { \\cal l}\\}$ ] , and @xmath5 \\in { \\cal l}\\}$ ] . further define @xmath6 as the maximum in- and out - degree for nodes in the network .",
    "the network delivers packets for data flows ( called commodity in @xcite ) indexed by their destination nodes @xmath7 . per time",
    "slot @xmath8 , a data admission is implemented by the network to decide the number @xmath9 of packets for flow @xmath7 that can be newly admitted at node @xmath10 .",
    "we assume that @xmath11 with some finite @xmath12 at all time .",
    "every node in the network is assumed to be capable of harvesting energy from the environmental ( e.g. , renewable ) sources to power its transmissions .",
    "the amount of harvested energy is clearly random and intermittent over time .",
    "let @xmath13 denote the amount of harvested energy by node @xmath10 at time slot @xmath8 , and let @xmath14 $ ] be called the _ energy state _ at @xmath8 .",
    "we assume that @xmath15 takes values in some finite set and there exists @xmath16 such that @xmath17      per slot @xmath8 , let @xmath18 denote time - varying , random _ channel state _ , which in general can be a @xmath19-by-@xmath19 matrix where the @xmath20 component denotes the channel condition between nodes @xmath10 and @xmath21 .",
    "we assume that @xmath18 take values in some finite set for all time .",
    "given @xmath18 , the network allocates a power vector @xmath22}(t ) , \\ ; \\forall [ n , m ] \\in { \\cal l}]$ ] for data transmissions over links , where @xmath23}(t)$ ] denotes the power allocated to node @xmath10 for link @xmath24 $ ] at time @xmath8 .",
    "we assume that each node has a peak power constraint such that @xmath25}(t ) \\leq p_{\\max } , \\quad \\forall n\\ ] ] with a constant @xmath26 at all time .",
    "given the channel state @xmath18 and the power allocation vector @xmath27 , the transmission rate over the link @xmath24 $ ] is dictated by a rate - power function @xmath28}(t ) = \\mu_{[n , m ] } ( \\boldsymbol{s}(t ) , \\boldsymbol{p}(t)).\\ ] ] for any bounded power allocation @xmath27 , we also assume that there exists a finite constant @xmath29 such that @xmath30}(t ) \\leq \\mu_{\\max } , \\quad \\forall [ n , m ] \\in { \\cal l}\\ ] ] for all time under any channel state @xmath18 .",
    "now let @xmath31}^c(t)$ ] denote the rate allocated to the data flow @xmath7 over link @xmath24 $ ] at time @xmath8 .",
    "it is clear that we have : @xmath32}^c(t ) \\leq \\mu_{[n , m]}(t ) , \\quad \\forall [ n , m].\\ ] ]        every node in the network has an energy storage device , i.e. , battery , to save the harvested energy .",
    "consider a practical battery with : i ) a finite capacity , ii ) ( dis-)charging loss , and iii ) energy degeneration .",
    "let @xmath41 denote the battery capacity , @xmath42 $ ] the ( dis-)charging efficiency ( e.g. , @xmath43 means that only 90% of the charged or discharged energy is useful while other is conversion loss ) , and @xmath44 $ ] the storage efficiency ( e.g. , @xmath45 means that 10% of the stored energy will be `` leaked '' over a slot , even in the absence of discharging ) .    we can model the battery using an energy queue .",
    "let @xmath46 denote the energy queue size , which indicates the amount of the energy left in the battery of node @xmath10 at time @xmath8 ; and let @xmath47 $ ] .",
    "as the data transmissions are powered by the harvested energy stored in the batteries , the power allocation vector @xmath27 must satisfy the following `` energy availability '' constraint : @xmath48}(t ) \\leq \\xi \\eta e_n(t ) , \\quad \\forall n\\ ] ] where the product @xmath49 captures the discharging loss and energy degeneration .    due to the energy availability constraint ( [ eq.ea ] )",
    ", the energy queue @xmath46 evolves according to the dynamic equation : @xmath50}(t)}{\\xi } + \\xi e_n(t ) , \\label{eq.e}\\\\      & 0 \\leq e_n(t ) \\leq e_{\\max } \\label{eq.emax}\\end{aligned}\\ ] ] with @xmath51 , @xmath52 .",
    "define the time - average rate for data flow @xmath7 that is admitted into node @xmath10 , as @xmath53 where the expectation are taken over all sources of randomness .",
    "each flow @xmath7 is associated with a utility function @xmath54 , which is assumed to be increasing , continuously differentiable , and strictly concave .",
    "let @xmath55 denote the maximum first derivative of @xmath56 , and define @xmath57 which is assumed to be finite .    note that the energy state @xmath15 and the channel state @xmath18 are random processes in our model .",
    "the eh wireless network to be controlled is thus a stochastic system .",
    "the goal is to design an online resource management scheme that chooses the data admission amounts @xmath58 $ ] , the power allocations @xmath59}(t ) , \\forall [ n , m]]$ ] , as well as the routing and scheduling decisions @xmath60}^c(t),\\forall [ n , m],\\forall c]$ ] per slot @xmath8 , so as to maximize the aggregate utility of time - average data rates subject to ( s. t. ) network operation constraints . upon defining @xmath61",
    ", we wish to solve @xmath62 note that here the constraints ( [ eq.rn])([eq.emax ] ) are in fact implicitly required to hold for any realization of the underlying random state @xmath63 per slot @xmath8 .",
    "the problem ( [ eq.prob ] ) is a stochastic optimization problem .",
    "the problem is challenging as the optimization variables are coupled over time due to the queue dynamics and energy availability constraints in ( [ eq.q])([eq.e ] ) . such problems usually have to be solved by dynamic programming ( dp ) , which suffers from a curse of dimensionality and requires significant knowledge of network statistics .",
    "differently , we next integrate and generalize the lyapunov optimization techniques in @xcite to develop a low - complexity online control algorithm , which can be proven to yield a feasible near - optimal solution for ( [ eq.prob ] ) under conditions , without requiring any statistical knowledge of stochastic eh and channel processes .      to start , we assume that the rate - power function in ( [ eq.mu ] ) satisfies the following two properties for any given channel state @xmath64 :    for two power allocation vectors @xmath65 and @xmath66 , where @xmath66 is obtained by changing any single component @xmath23}$ ] to zero , we have :    * @xmath67}(\\boldsymbol{s } , \\boldsymbol{p } ) \\leq \\mu_{[n',m']}(\\boldsymbol{s } , \\boldsymbol{p}')$ ] , @xmath68 \\neq [ n , m]$ ] ; * @xmath69}(\\boldsymbol{s } , \\boldsymbol{p } ) - \\mu_{[n , m]}(\\boldsymbol{s } , \\boldsymbol{p } ' ) \\leq \\delta_1 p_{[n , m]}$ ] , for a finite constant @xmath70 .    for two power allocation vectors",
    "@xmath65 and @xmath66 , where @xmath23}'=p_{[n , m]}+\\frac{\\delta p}{|{\\cal n}_n^o|}$ ] , @xmath71 , and @xmath72}'=p_{[n',m]}$ ] , @xmath73 , we have :    * @xmath31}(\\boldsymbol{s } , \\boldsymbol{p } ) \\leq \\mu_{[n , m]}(\\boldsymbol{s } , \\boldsymbol{p}')$ ] , @xmath74 ; * @xmath75}(\\boldsymbol{s } , \\boldsymbol{p } ) - \\mu_{[n',m]}(\\boldsymbol{s } , \\boldsymbol{p } ' ) ] \\leq \\delta_2 \\delta p$ ] , for a finite constant @xmath76 .",
    "property 1 was one of the keys for asymptotic optimality analysis of the esa scheme in @xcite . here",
    ", properties 1 and 2 will be the keys for our feasibility and optimality gap analysis in the sequel .",
    "these properties are actually satisfied by most rate - power functions , e.g. , when the rate function has finite directional derivatives with respect to power , and the rates do not improve with increased interference . to see it ,",
    "two intriguing examples are provided below .",
    "_ example 1 ( interference channels ) _ : consider the general interference channel case .",
    "let @xmath77}$ ] denote the channel coefficient from node @xmath10 to node @xmath21 ; i.e. , @xmath78 } , \\forall n , m \\in { \\cal n}]$ ] .",
    "the rate function is then @xmath30}= \\log \\left(1 + \\frac{|h_{[n , m]}|^2p_{[n , m]}}{\\sum_{[n',m ' ] \\neq [ n , m]}(|h_{[n',m]}|^2p_{[n',m ' ] } ) + \\sigma^2}\\right)\\ ] ] where @xmath79 is the noise variance at nodes .",
    "it can be readily derived @xmath80}|^2}{\\sigma^2 } , \\forall [ n , m ] , \\;\\forall \\boldsymbol{s}\\ } \\\\",
    "\\delta_2 = \\max\\{\\frac{\\sum_{n ' \\neq n}\\sum_{m ' \\in { \\cal n}_{n'}^o } |h_{[n , m']}|^2   } { \\sigma^2 } , \\;\\forall \\boldsymbol{s}\\ } \\end{cases}\\ ] ] clearly , @xmath81 and @xmath82 are finite as long as all channel gains @xmath83}|^2 $ ] are bounded at all time .",
    "this is in fact also the necessary condition for @xmath29 .",
    "_ example 2 ( orthogonal channels ) _ : if the wireless links do not interfere with each other ( e.g. , when the adjacent nodes operate on orthogonal frequency bands ) , then the rate function is simply @xmath30}= \\log \\left(1 + \\frac { |h_{[n , m]}|^2p_{[n , m ] } } { \\sigma^2}\\right).\\ ] ] we readily have @xmath80}|^2}{\\sigma^2 } , \\forall [ n , m ] , \\;\\forall \\boldsymbol{s}\\ } \\\\      \\delta_2 = 0 \\end{cases}\\ ] ] again , @xmath81 is finite if all channel gains @xmath83}|^2 $ ] are bounded at all time .",
    "we assume the following two conditions for the system parameters in development of the proposed algorithm : @xmath84    condition ( [ eq.a1 ] ) is a necessary condition to maintain the stability of the energy queues @xmath46 for every sample path .",
    "if @xmath85 , i.e. , the maximum energy arrival is deterministically greater than the largest energy departure possible , then there exists a sample path of energy queue @xmath46 that grows unbounded .",
    "the condition ( [ eq.a1 ] ) is thus required for establishing the sample path result in the ensuing feasibility analysis . on the other hand , condition ( [ eq.a2 ] ) dictates that the battery capacity is large enough to accommodate the largest possible charging / discharging range .",
    "this then makes the system `` controllable '' by the proposed online scheme . ) and ( [ eq.a2 ] ) , we require @xmath86 .",
    "this could be ensured by `` shaping '' or `` clipping '' the energy arrivals by some external mechanisms . ]",
    "our algorithm depends on two algorithmic parameters , namely a `` queue perturbation '' parameter @xmath87 and a weight parameter @xmath88 .",
    "derived from the feasibility requirement of the proposed algorithm ( see the proof of proposition 1 in the sequel ) , any pair @xmath89 that satisfies the following conditions can be used : @xmath90 where    & v^ : = ; [ eq.gv3 ] + & ^ : = + _ 1 g _ v ; [ eq.gv1 ] + & ^ : = - _ 2 g _",
    "v. [ eq.gv2 ]    note that the interval for @xmath88 in ( [ eq.gv ] ) is well - defined under the condition ( [ eq.a2 ] ) , and the interval for @xmath87 is valid when @xmath91 .",
    "we now present the proposed algorithm :    * initialization * : select a pair of @xmath89 satisfying ( [ eq.gv ] ) , and a constant @xmath92 .    at every time slot @xmath8 , observe states @xmath63 , and queues @xmath93 , then determine @xmath94 $ ] , @xmath95}^*(t ) , \\forall [ n , m]]$ ] , and @xmath96}^{c*}(t),\\forall [ n , m],\\forall c]$ ] as follows .",
    "some comments are in order .    * different from the esa algorithm in @xcite",
    ", there is no eh admission mechanism in the proposed algorithm ; the available harvested energy could be then fully capitalized on for data transmission .",
    "* the perturbed energy queue - size @xmath107 is weighted by @xmath108 in the problem ( [ eq.pa ] ) to determine the optimal power allocation .",
    "these weighted are used to account for the battery degeneration and discharging loss . *",
    "solving the power allocation problem ( [ eq.pa ] ) requires centralized control and can be np - hard . for the general ad - hoc networks with interference channels ,",
    "a maximal - weighted - matching based polynomial - time solver @xcite could be used to approximate the optimal scheduling within a constant factor in a distributed manner .",
    "the proposed algorithm is an online scheme , which dynamically makes _ instantaneous _ greedy control decisions for the stochastic system under consideration , without a - priori knowledge of any statistics of the underlying random processes .",
    "we next show that the proposed scheme can also yield a feasible and asymptotically near - optimal solution for the problem ( [ eq.prob ] ) of interest under conditions .",
    "note that in the proposed algorithm , energy availability constraints ( [ eq.ea ] ) and the bounded energy queue constraints ( [ eq.emax ] ) are ignored .",
    "it is then not clear whether the algorithm is feasible for the problem ( [ eq.prob ] ) .",
    "yet , we will show that by using any pair @xmath89 in ( [ eq.gv ] ) and @xmath109 , it is guaranteed that the online control policy produced by the proposed algorithm is a feasible one for ( [ eq.prob ] ) under the conditions ( [ eq.a1])([eq.a2 ] ) .    to this end , we first show the following lemma .    the power allocation specified by the proposed algorithm obeys : i ) @xmath110}^*(t)=0 $ ] , if @xmath111 ; and ii ) @xmath110}^*(t)=p_{\\max}$ ] , if @xmath112 , @xmath52 .",
    "see appendix a.    lemma 1 reveals partial characteristics of the proposed dynamic policy .",
    "specifically , when the energy queue at node @xmath10 is large enough , peak power can be afforded for its data transmissions ; i.e. , @xmath110}^*(t)=p_{\\max}$ ] .",
    "on the other hand , when the energy queue at node @xmath10 is small enough , no power should be allocated ; i.e. , @xmath110}^*(t)=0 $ ] . based on the structure in lemma 1",
    ", we can then establish the following result .",
    "under the conditions ( [ eq.a1])([eq.a2 ] ) , the proposed algorithm guarantees : i ) @xmath110}^*(t)=0 $ ] , if @xmath113 , and ii ) @xmath114 , @xmath52 , @xmath39 .",
    "see appendix b.    proposition 1 establishes that node @xmath10 allocates nonzero power over any of its outgoing links only when its energy queue - size @xmath115 in the proposed scheme .",
    "hence , all the power allocation decisions are feasible , i.e. , the energy availability constraint ( [ eq.ea ] ) is indeed _",
    "redundant _ and can be ignored in the problem ( [ eq.pa ] ) .",
    "furthermore , the energy queue - sizes @xmath46 resulted from the proposed scheme are guaranteed to be bounded within @xmath116 $ ] .",
    "these two results together imply that the proposed algorithm with proper selection of @xmath89 and @xmath117 can always yield a feasible control policy for ( [ eq.prob ] ) under the conditions ( [ eq.a1])([eq.a2 ] ) .",
    "note that proposition 1 is a _ sample path _ result ; i.e. , it holds for every time slots under _ arbitrary _ , even non - stationary , @xmath63 processes .      to facilitate the optimality analysis , we assume for now that the random process for @xmath63 is i.i.d . over time slots .",
    "define @xmath118 , and @xmath119}(t)\\ } \\notag\\end{aligned}\\ ] ] since @xmath46 , @xmath110}(t)$ ] , and @xmath13 are all bounded , it follows from ( [ eq.e ] ) that @xmath120 as @xmath121 $ ] , @xmath39 , ( [ relax1 ] ) then implies @xmath122    for the queue dynamics in ( [ eq.q ] ) , we can derive similar time - average constraints @xcite : @xmath123}^c \\leq \\sum_{m \\in { \\cal n}_n^o } \\bar{\\mu}_{[n , m]}^c   \\quad \\forall n , c\\ ] ] where @xmath124}^c:=\\lim_{t\\rightarrow \\infty } \\frac{1}{t } \\sum_{t=0}^{t-1 } \\mathbb{e}\\{\\mu_{[n , m]}^c(t)\\}.\\ ] ]    consider the following problem : @xmath125 note that the queue dynamic constraints ( [ eq.e ] ) and ( [ eq.q ] ) , which need to be performed per realization per slot @xmath8 , are replaced by the corresponding time - average constraints ( [ relax2 ] ) and ( [ relax3 ] ) , and the constraints ( [ eq.ea ] ) and ( [ eq.emax ] ) are ignored",
    ". it can be shown that the problem ( [ eq.relax ] ) is a relaxed version of ( [ eq.prob ] ) . specifically , any feasible solution of ( [ eq.prob ] ) , satisfying ( [ eq.q])([eq.emax ] ) , @xmath39 , also satisfies ( [ relax2 ] ) and ( [ relax3 ] ) , due to the relevant optimization variables .",
    "it then follows that @xmath126 .    in ( [ eq.relax ] )",
    ", the optimization variables are `` decoupled '' across time slots due to the removal of time - coupling constraints ( [ eq.q])([eq.emax ] ) .",
    "this problem has an easy - to - characterize stationary optimal control policy as formally stated in the next lemma .    if @xmath63 is i.i.d .",
    ", there exists a stationary control policy @xmath127 that is a pure ( possibly randomized ) function of the current @xmath63 , while satisfying ( [ eq.rn])([eq.muc ] ) , and providing the following guarantees per @xmath8 : @xmath128}^{stat}(t)\\}}{\\xi } \\leq ( 1-\\eta)e_{\\max } , \\ ; \\forall n \\\\      & \\bar{r}_n^{c , stat } + \\sum_{m \\in { \\cal n}_n^i } \\mathbb{e}\\{\\mu_{[m , n]}^{c , stat}(t)\\ } \\leq \\sum_{m \\in { \\cal n}_n^o}\\mathbb{e}\\{\\mu_{[n , m]}^{c , stat}(t)\\ } ,    \\ ; \\forall n , c \\end{split}\\ ] ] where @xmath129 , @xmath23}^{stat}(t)$ ] , and @xmath31}^{c , stat}(t)$ ] denote the data admission , power and rate allocation by policy @xmath127 , and expectations are taken over the randomization of @xmath63 and ( possibly ) @xmath127 .",
    "the proof argument is similar to the proof of ( * ? ? ?",
    "* theorem 4.5 ) ; hence , it is omitted for brevity .",
    "lemma 2 in fact holds for many non - i.i.d .",
    "scenarios as well .",
    "generalizations to other stationary processes , or even to non - stationary processes , can be found in @xcite .",
    "it is worth noting that ( [ eq.opt ] ) not only assures that the stationary control policy @xmath127 achieves the optimal utility for ( [ eq.relax ] ) , but also guarantees that the admitted data rate @xmath129 per slot @xmath8 is equal to the optimal time - average rate @xmath130 ( due to the stationarity of @xmath63 and @xmath127 ) .",
    "this will be important to establish the following result :    suppose that conditions ( [ eq.a1])([eq.gv ] ) hold , and @xmath131 is i.i.d . over slots .",
    "let @xmath132 be the time - average admitted rate vector achieved by the proposed algorithm up to time @xmath133 , i.e. , @xmath134 .",
    "then @xmath135 where the constant @xmath136 with @xmath137 ^ 2 , [ -\\xi e_{\\max}+(1-\\eta)\\gamma]^2\\ } , \\notag \\\\",
    "b_3 & = \\eta(1-\\eta)\\max\\{(e_{\\max}-\\gamma)^2 , \\gamma^2\\ } ,   \\notag\\end{aligned}\\ ] ] and @xmath138 is the optimal value of ( [ eq.prob ] ) under any feasible control algorithm , even if that relies on knowing future random realizations .    see appendix c.    proposition 2 asserts that the proposed algorithm asymptotically yields a time - average utility with an optimality gap smaller than @xmath139 .",
    "the proposed scheme is in fact a modified version of the queue - length based stochastic optimization scheme ( e.g. , the esa in @xcite ) , where the `` perturbed '' queue lengths play the role of `` stochastic '' lagrange multipliers with a dual - subgradient solver to the problem of interest .",
    "the gap @xmath140 is inherited from the underlying stochastic subgradient method . on the other hand ,",
    "the gap @xmath141 is due to the combined effect of energy - queue perturbation and battery imperfections , while the gap @xmath142 is incurred by the battery degeneration .",
    "based on propositions 1 and 2 , it is now possible to arrive at our main result .    [ them : main ] suppose that conditions ( [ eq.a1])([eq.gv ] ) hold and @xmath131 is i.i.d . over slots",
    ". then the proposed algorithm yields a feasible dynamic control scheme for  , which has an optimality gap @xmath139 ; i.e. , @xmath143 where @xmath134 and @xmath144 is given by ( [ eq.b ] ) .",
    "interesting comments on the minimum optimality gap with the proposed algorithm are in order .",
    "the results in theorem 1 can be generalized to the more general non - i.i.d .",
    "case where the the energy state @xmath15 and channel state @xmath18 both evolve according to some finite - state irreducible , aperiodic markov chains .",
    "note that the feasibility of the proposed algorithm is a sample path result which does not depend on the assumption on the random processes per remark 2 ; i.e. , it holds also for this non - i.i.d . case . on the other hand ,",
    "the performance guarantee ( i.e. , optimality gap result ) can be obtained by applying the so - called delayed lyapunov drift technique , i.e. , the method of analyzing regenerative cycles of the markov random processes ; see ( * ? ? ?",
    "* theorem 3 ) and ( * ? ? ? * theorem 2 ) .",
    "in this section , numerical results are provided to evaluate the proposed algorithm .",
    "a simple network is considered in fig .",
    "1 , where the nodes 1 - 4 collect data and send data to the sink node 7 through relay nodes 5 and 6 @xcite .    in simulations",
    ", we assume imperfect batteries at nodes , with storage efficiency @xmath164 , and ( dis-)charging efficiency @xmath165 .",
    "table [ tab : param ] lists the values for @xmath166 ( the maximum in- and out - degree for nodes in the network ) , @xmath167 ( the maximum packets that can be newly admitted ) , @xmath168 ( the peak power ) , @xmath169 ( the maximum rate over all the links ) and @xmath170 ( the battery capacity ) .",
    "the utility function is selected as : @xmath171 .",
    "suppose that all the links are independent with each other , implying @xmath172 .",
    "the link state can be either good or bad with equal probability .",
    "one unit of power can deliver two packets when the link state is good , while it can be only used to transmit one packet upon bad link state .",
    "we also assume that the harvested energy @xmath13 is i.i.d . for each node ; @xmath13 is either @xmath173 or 0 with equal probability . as a result",
    ", we have : @xmath174 , @xmath175 and @xmath176 . to satisfy the constraint ( [ eq.a1 ] ) , we set @xmath177 , unless otherwise specified .",
    "each simulation is run for 1200 slots and each result is obtained by averaging over 10 independent runs .",
    "2 depicts the achieved utility for the proposed algorithm with different @xmath87 , when the weight parameter @xmath178 , @xmath179 and @xmath180 .",
    "it is shown that the maximum utility is achieved when the  queue perturbation \" parameter @xmath87 is set to @xmath181 in this case .",
    "this is because power allocation policy ( 17 ) tends to save energy if a large @xmath87 is chosen , leading to a large data queue size @xmath182 . on the other hand ,",
    "data admission policy ( [ eq.da ] ) dictates that @xmath183 , if @xmath184 , @xmath185 .",
    "this implies that large @xmath182 reduces rate utility . as a result ,",
    "the utility decreases as @xmath87 grows .",
    "for this reason , we set @xmath186 unless otherwise specified in all the subsequent simulations .",
    "note that when @xmath187 and @xmath188 , we often have @xmath23}(t)=0 , \\forall n , \\forall t$ ] ; i.e. , no data are allowed to be transmitted over links . in this case , to maintain the queue stability , network utility becomes almost 0 .",
    "[ fig : weight ] shows the network utility of the proposed algorithm with different weight parameter @xmath88 , when @xmath179 and @xmath180 .",
    "it is observed that the network utility decreases after reaching the maximum value for a given @xmath189 .",
    "clearly , the proposed algorithm does not perform well with a small @xmath88 . on the other hand ,",
    "a large @xmath88 is not a good choice in the presence of battery imperfections . to see it ,",
    "we use @xmath181 in ( 14 ) and set @xmath31}(t ) = s_{[n , m]}(t ) p_{[n , m]}(t)$ ] in ( 17 ) .",
    "( @xmath190}(t)$ ] is 2 with good link state , while it is 1 when the link state is bad . )",
    "then power allocation problem ( 17 ) is a linear program , where the weight for @xmath23}(t)$ ] is given by @xmath101}(t)s_{[n , m]}(t)+ \\eta e_n(t)-p_{\\max}-\\delta_1 g_{\\max } v$ ] .",
    "clearly , we have @xmath23}(t)=0 $ ] , if its weight is less than zero .",
    "therefore , a large @xmath88 implies that high energy is required to render @xmath23}(t)>0 $ ] for transmission .",
    "however , it is hard to maintain high energy in the presence of energy degeneration . as a result , when @xmath187 and @xmath191 , utility is almost 0 .",
    "the results are consist with our discussion in remark 4 .",
    "the optimality gap with the proposed scheme does not monotonically decrease with @xmath88 any more in the presence of battery imperfections .",
    "determination of the best @xmath88 for the algorithm may refer to the solution of the problem formulated in remark 4-ii ) .    .parameters configuration . [ cols=\"^,^,^,^,^\",options=\"header \" , ]         .,width=336,height=192 ]    .,width=336,height=192 ]        the data and energy queue processes with the proposed algorithm are plotted in fig . [",
    "fig : samplepro ] , when @xmath179 , @xmath192 and @xmath178 .",
    "clearly , the three data queue lines evolve within the region [ 0 , @xmath193 ; i.e. , the stability of the data network is maintained .",
    "in addition , all energy queues satisfy @xmath194 .",
    "this clearly corroborates the feasibility of the proposed scheme , as stated in proposition 1 .",
    "two baseline schemes are chosen to gauge the performance of the proposed algorithm .",
    "the first baseline scheme is esa in @xcite , where perfect batteries are assumed and an eh admission is performed to ensure finite energy queues .",
    "the second scheme is a heuristic greedy algorithm , where a node with the largest data queue backlog is first allowed to transmit data over its best outgoing links ( with best link quality ) .",
    "the node with second largest data queue then selects a best link to transmit , among all its outgoing links that do not conflict with the existing links .",
    "( a link conflicts with the existing links if it shares the same transmit or receive node with any existing links . )",
    "this continues until no nodes or no links can be selected .",
    "if a link @xmath24 $ ] is selected , the power @xmath23}(t)$ ] is set as the maximum value that satisfies both the peak power constraint ( 2 ) and the energy availability constraint ( 6 ) ; @xmath31}(t)$ ] is then determined correspondingly .",
    "finally , the greedy algorithm sets @xmath195 if @xmath196 , while @xmath197}(t)$ ] if @xmath198 .",
    "it is clear that the nodes have finite data queue backlogs ; i.e. , the system is stable .",
    "the feasibility of the greedy algorithm is also guaranteed since the energy availability constraint ( 6 ) is taken into account in power allocation policy .",
    "[ fig : results ] compares the performance of the three algorithms with different @xmath173 , when @xmath199 , @xmath192 and @xmath178 .",
    "it is shown that the proposed algorithm evidently outperforms the esa and the greedy algorithm for any given @xmath173 .",
    "since the greedy algorithm in fact schedules the links in a time division multi - access ( tdma ) manner , the resultant utility is low in general .",
    "in addition , the required energy for implementation of the greedy policy is actually also low ; hence , its performance changes only slightly for different @xmath173 .",
    "the proposed algorithm achieves higher utility than esa due to two reasons .",
    "the first reason is that esa can not make use of all available energy because of its eh admission mechanism , while the proposed algorithm harvested all available energy .",
    "the utilization of available energy ( the ratio of actually harvested energy to available energy ) for esa is depicted in fig .",
    "[ fig : uti ] . for esa ,",
    "node @xmath10 stops harvesting energy when @xmath46 energy reaches @xmath200 @xcite . clearly , given a larger @xmath173 ( i.e.",
    ", renewable energy is abundant ) , esa might waste more available energy , leading to a significant performance loss . on the other hand",
    ", esa also has a performance loss for small @xmath173 case since it does not take into account the battery imperfections .",
    "for instance , when @xmath201 , the utilization of available energy for esa is 100% ; yet , the utility of the proposed algorithm is still 17.2% larger than that of esa in this case .",
    "in this paper , a dynamic resource allocation task was considered for general eh wireless networks . taking into account imperfect finite - capacity energy storage devices ,",
    "a stochastic optimization was formulated to maximize the long - term utility subject to the energy availability constraints .",
    "capitalizing on lyapunov optimization technique , an online control algorithm was proposed to make data admission , power allocation and routing decisions , without requiring any statistical knowledge of channel , data - traffic , and eh processes .",
    "it was shown that the proposed algorithm can efficiently utilize the harvested energy to provide a feasible and asymptotically near - optimal control solution for general eh networks .",
    "using the perturbation weight @xmath92 in queue - backpressure , it was shown in ( * ? ? ? * theorem 2 ) that the data queue sizes satisfy : @xmath202 , @xmath98 , @xmath39 .",
    "note that this is a sample path result which holds for arbitrary @xmath15 and @xmath18 processes .      *",
    "if @xmath205 , suppose @xmath110}^*(t ) > 0 $ ] ; i.e. , there exists a certain @xmath206}^*(t)>0 $ ] with @xmath207 .",
    "we can create a new power vector @xmath66 by setting only @xmath206}'=0 $ ] and all other components remain the same as in @xmath102 .",
    "let @xmath208 denote the objective function of ( [ eq.pa ] ) .",
    "it readily follows that @xmath209}(t)[\\mu_{[n , m]}(\\boldsymbol{p}^*(t ) ) - \\mu_{[n , m]}(\\boldsymbol{p } ' ) ] \\notag\\\\          &   ~~~~~ + \\frac{\\eta}{\\xi } ( e_n(t)-\\gamma ) p_{[n,\\check{m}]}^*(t ) \\notag \\\\          &   \\leq w_{[n,\\check{m}]}(t)[\\mu_{[n,\\check{m}]}(\\boldsymbol{p}^*(t ) ) - \\mu_{[n,\\check{m}]}(\\boldsymbol{p } ' ) ] \\notag \\\\          &   ~~~~~ + \\frac{\\eta}{\\xi } ( e_n(t)-\\gamma ) p_{[n,\\check{m}]}^*(t ) \\notag \\\\          &   < [ g_{\\max}v -d_{\\max}\\mu_{\\max}]^+ \\delta_1",
    "p_{[n,\\check{m}]}^*(t ) - \\delta_1 g_{\\max } v p_{[n,\\check{m}]}^*(t ) \\notag \\\\          &   < 0 \\notag      \\end{aligned}\\ ] ] where the first inequality is due to property 1-i ) , and the second inequality is due to property 1-ii ) , as well as the bounds @xmath101}(t ) \\leq [ g_{\\max}v -d_{\\max}\\mu_{\\max}]^+$ ] and @xmath205 .",
    "this shows that @xmath102 can not have been the optimal power allocation for ( [ eq.pa ] ) , leading to a contradiction .",
    "hence , part i ) in the lemma must hold . * if @xmath210 , suppose @xmath110}^*(t)<p_{\\max}$ ] .",
    "let @xmath211}^*(t)$ ] .",
    "we can create a new power vector @xmath66 by setting @xmath23}'=p_{[n , m]}^*(t)+\\frac{\\delta p}{|{\\cal n}_n^o|}$ ] , @xmath71 , and @xmath72}'=p_{[n',m]}^*(t)$ ] , @xmath73 .",
    "it readily follows that @xmath209}(t)[\\mu_{[n , m]}(\\boldsymbol{p}^*(t ) ) - \\mu_{[n , m]}(\\boldsymbol{p } ' ) ] \\notag\\\\          &   ~~~~~ - \\frac{\\eta}{\\xi } ( e_n(t)-\\gamma ) \\delta p \\notag \\\\          &   \\leq \\sum_{n ' \\neq n } \\sum_{m \\in { \\cal n}_{n'}^o } w_{[n',m]}(t)[\\mu_{[n',m]}(\\boldsymbol{p}^*(t ) ) - \\mu_{[n',m]}(\\boldsymbol{p } ' ) ] \\notag \\\\          &   ~~~~~ - \\frac{\\eta}{\\xi } ( e_n(t)-\\gamma ) \\delta p \\notag \\\\          &   < [ g_{\\max}v -d_{\\max}\\mu_{\\max}]^+ \\delta_2 \\delta p - \\delta_2 g_{\\max } v \\delta p \\notag \\\\          &   < 0 \\notag      \\end{aligned}\\ ] ] where the first inequality is due to property 2-i ) , and the second inequality is due to property 2-ii ) , as well as the bounds @xmath101}(t ) \\leq [ g_{\\max}v -d_{\\max}\\mu_{\\max}]^+$ ] and @xmath210 .",
    "this leads to a contradiction .",
    "hence , part ii ) in the lemma must also hold .",
    "the proof for part ii ) proceeds by induction .",
    "first , recall that @xmath215 , @xmath52 , and suppose that it holds @xmath121 $ ] , @xmath52 , at slot @xmath8 .",
    "we will show the bounds hold for @xmath216 , @xmath52 , as well in subsequent instances .      * if @xmath219 , then it follows from lemma 1 that @xmath110}^*(t)= 0 $ ] . from ( [ eq.e ] )",
    ", we have * * @xmath220 ; * * @xmath221 , due to @xmath222 , @xmath223 , and the definition of @xmath217 in ( [ eq.gv2 ] ) . * if @xmath224 $ ] , then @xmath225}^*(t ) \\leq p_{\\max}$ ] .",
    "we therefore have * * @xmath226 , due to @xmath227 and the definition of @xmath181 in ( [ eq.gv1 ] ) ; * * @xmath228 , due to @xmath223 as with c1-ii ) . *",
    "if @xmath229 $ ] , it follows from lemma 1 that @xmath110}^*(t ) = p_{\\max}$ ] .",
    "we have * * @xmath230 , due to @xmath227 as with c2-i ) ; * * @xmath231 , due to condition ( [ eq.a1 ] ) .",
    "consider the queues under the proposed algorithm . by squaring both sides of ( [ eq.q ] ) , and using the fact that @xmath232^+)^2 \\leq x^2 $ ] , we have @xmath233 ^ 2-[q_n^c(t)]^2 \\notag \\\\      & \\leq \\left[\\sum_{m \\in { \\cal n}_n^o } \\mu_{[n , m]}^{c*}(t ) \\right]^2 + \\left[\\sum_{m \\in { \\cal n}_n^i } \\mu_{[m , n]}^{c*}(t ) + r_n^{c*}(t ) \\right]^2 \\notag \\\\      & ~~~~ -2q_n^c(t)\\left",
    "[ \\sum_{m \\in { \\cal n}_n^o } \\mu_{[n , m]}^{c*}(t ) - \\sum_{m \\in { \\cal n}_n^i } \\mu_{[m , n]}^{c*}(t ) - r_n^{c*}(t)\\right ] . \\notag\\end{aligned}\\ ] ] recall that @xmath234}^{c*}(t ) \\leq d_{\\max } \\mu_{\\max}$ ] and @xmath235}^{c*}(t ) + r_n^{c*}(t ) \\leq d_{\\max } \\mu_{\\max}+r_{\\max}$ ] . upon defining @xmath236",
    ", we readily have : @xmath237 ^ 2-[q_n^c(t)]^2 ) \\notag \\\\      & \\leq \\tilde{b}_1 - q_n^c(t)\\left [ \\sum_{m \\in { \\cal n}_n^o } \\mu_{[n , m]}^{c*}(t ) - \\sum_{m \\in { \\cal n}_n^i } \\mu_{[m , n]}^{c*}(t ) - r_n^{c*}(t)\\right ] .",
    "\\label{eq.dq}\\end{aligned}\\ ] ]    similarly , we can also derive @xmath238 ^ 2-[e_n(t)-\\gamma]^2 ) \\notag \\\\      & \\leq -\\frac{1}{2}(1-\\eta^2 ) [ e_n(t)-\\gamma]^2 \\notag \\\\      & ~~~~ + \\frac{1}{2 } \\left[\\frac{\\sum_{m \\in { \\cal n}_n^o } p_{[n , m]}^*(t)}{\\xi } - \\xi e_n(t ) + ( 1-\\eta)\\gamma\\right]^2 \\notag\\\\      & ~~~~ -\\eta(e_n(t)-\\gamma)\\left[\\frac{\\sum_{m \\in { \\cal n}_n^o } p_{[n , m]}^*(t)}{\\xi } - \\xi e_n(t ) + ( 1-\\eta)\\gamma\\right ] \\notag \\\\      & \\leq b_2 - \\frac{\\eta}{\\xi}(e_n(t)-\\gamma ) \\sum_{m \\in { \\cal n}_n^o } p_{[n , m]}^*(t ) \\notag \\\\      & ~~~~ + \\eta ( e_n(t)-\\gamma)[\\xi e_n(t ) - ( 1-\\eta)\\gamma ] \\label{eq.de}\\end{aligned}\\ ] ] where @xmath239 ^ 2 , [ -\\xi e_{\\max}+(1-\\eta)\\gamma]^2\\}$ ] .    consider the lyapunov function @xmath240 ^ 2 + \\frac{1}{2 } \\sum_n [ e_n(t)-\\gamma]^2 $ ] . by summing ( [ eq.dq ] ) over all @xmath241 and ( [ eq.de ] ) over all @xmath10 , and by defining @xmath242",
    ", we have @xmath243}^{c*}(t ) - \\sum_{m \\in { \\cal n}_n^i } \\mu_{[m , n]}^{c*}(t ) - r_n^{c*}(t)\\right ] \\notag \\\\      & ~~~~ - \\sum_n \\frac{\\eta}{\\xi}(e_n(t)-\\gamma ) \\sum_{m \\in { \\cal n}_n^o } p_{[n , m]}^*(t )   \\notag \\\\      & ~~~~ + \\sum_n \\eta ( e_n(t)-\\gamma)[\\xi e_n(t ) - ( 1-\\eta)\\gamma]\\end{aligned}\\ ] ] furthermore , we have @xmath244}^{c*}(t ) \\notag \\\\      & \\leq \\tilde{b } - \\sum_{n , c } [ v u_n^c(r_n^{c*}(t ) ) - q_n^c(t )   r_n^{c*}(t ) ] \\notag \\\\      & ~~~~ - \\sum_n \\bigl[\\sum_c \\sum_{m \\in { \\cal n}_n^o } \\mu_{[n , m]}^{c*}(t ) [ q_n^c(t ) -   q_m^c(t ) - \\theta]\\bigr .",
    "\\notag \\\\      & ~~~~~~~~~~~~~~ \\bigl .",
    "+ \\frac{\\eta}{\\xi}(e_n(t)-\\gamma ) \\sum_{m \\in { \\cal n}_n^o } p_{[n , m]}^*(t ) \\bigr ]   \\notag \\\\      & ~~~~ + \\sum_n \\eta ( e_n(t)-\\gamma)[\\xi e_n(t ) - ( 1-\\eta)\\gamma ] \\notag \\\\      & \\leq   \\tilde{b } - \\sum_{n , c } [ v u_n^c(r_n^{c , stat}(t ) ) - q_n^c(t )   r_n^{c , stat}(t ) ] \\notag \\\\      & ~~~~ - \\sum_n \\bigl[\\sum_c \\sum_{m \\in { \\cal n}_n^o } \\mu_{[n , m]}^{c , stat}(t ) [ q_n^c(t ) -   q_m^c(t ) - \\theta]\\bigr .",
    "\\notag \\\\      & ~~~~~~~~~~~~~~ \\bigl .",
    "+ \\frac{\\eta}{\\xi}(e_n(t)-\\gamma ) \\sum_{m \\in { \\cal n}_n^o } p_{[n , m]}^{stat}(t ) \\bigr ]   \\notag \\\\      & ~~~~ + \\sum_n \\eta ( e_n(t)-\\gamma)[\\xi e_n(t ) - ( 1-\\eta)\\gamma ] \\label{eq.rhs}\\end{aligned}\\ ] ] where the second inequality is due to the fact that the proposed algorithm in fact minimizes the right - hand - side of ( [ eq.rhs ] ) .    taking expectations for ( [ eq.rhs ] )",
    ", we arrive at : @xmath245}^{c*}(t)\\bigr\\ } \\notag \\\\      & \\leq   \\tilde{b } - v \\sum_{n , c } u_n^c(\\bar{r}_n^{c , stat}(t ) ) \\notag \\\\      & ~~ + q_n^c(t ) \\bigl [ \\bar{r}_n^{c , stat } + \\sum_{m \\in { \\cal n}_n^i } \\mathbb{e}\\{\\mu_{[m , n]}^{c , stat}(t)\\ } - \\sum_{m \\in { \\cal n}_n^o}\\mathbb{e}\\{\\mu_{[n , m]}^{c , stat}(t)\\ } \\big ] \\notag \\\\      & ~~ + \\sum_n \\eta ( e_n(t)-\\gamma ) \\bigl[\\xi \\bar{e}_n - \\frac{\\sum_{m \\in { \\cal n}_n^o } p_{[n , m]}^{stat}(t)}{\\xi } - ( 1-\\eta)\\gamma \\bigr ]   \\notag \\\\      & ~~ + \\theta \\sum_n \\sum_c \\sum_{m \\in { \\cal n}_n^o } \\mathbb{e}\\{\\mu_{[n , m]}^{c , stat}(t)\\ } \\notag \\\\      & \\leq \\tilde{b }   - v \\tilde{u}^{opt } + n \\eta(1-\\eta)\\max\\{(e_{\\max}-\\gamma)^2 , \\gamma^2\\ } \\notag \\\\      & ~~ + n^2 \\theta d_{\\max}\\mu_{\\max}\\end{aligned}\\ ] ] where the second inequality is due to ( [ eq.opt ] ) in lemma 2 , @xmath121 $ ] by proposition 1 , and @xmath246}^{c , stat}(t)\\ } \\leq d_{\\max}\\mu_{\\max}$ ] .    with @xmath247 and noticing @xmath248}^{c*}(t)\\ } \\geq 0 $ ] , we then have @xmath249 summing over all @xmath250 , we have @xmath251 which leads to @xmath252 using jensen s inequality , we see that @xmath253 the proposition follows by taking the limit @xmath254 and using the definition of @xmath132 .",
    "o. ozel , k. tutuncuoglu , y. jing , s. ulukus , and a. yener , `` transmission with energy harvesting nodes in fading wireless channels : optimal policies , '' _ ieee j. sel .",
    "areas commun .",
    "8 , pp . 17321743 , sep . 2011 .",
    "o. ozel , y. jing , s. ulukus , `` optimal broadcast scheduling for an energy harvesting rechargeable transmitter with a finite capacity battery , '' _ ieee trans .",
    "wireless commun .",
    "11 , no . 6 , pp",
    ". 21932203 , jun . 2012 .",
    "o. ozel , k. shahzad , and s. ulukus , `` optimal energy allocation for energy harvesting transmitters with hybrid energy storage and processing cost , '' _ ieee trans .",
    "signal process .",
    "12 , pp . 32323245 , 2014 .",
    "x. wang , z. nan , and t. chen , `` optimal mimo broadcasting for energy harvesting transmitter with non - ideal circuit power consumption , '' _ ieee trans .",
    "wireless commun .",
    "5 , pp . 25002512 , may 2015 .",
    "b. devillers and d. gunduz , `` a general framework for the optimization of energy harvesting communication systems with battery imperfections , '' _ j. commun",
    "2 , pp . 130139 , apr .",
    "2012 .",
    "r. srivastava and c. e. koksal , `` basic performance limits and tradeoffs in energy - harvesting sensor nodes with finite data and energy storage , '' _ ieee / acm trans .",
    "4 , pp . 10491062 , 2013 .",
    "l. lin , n. shroff , and r. srikant , `` asymptotically optimal energy - aware routing for multihop wireless networks with renewable energy sources , '' _ ieee / acm trans .",
    "5 , pp . 10211034 , 2007 .",
    "s. chen , p. sinha , n. shroff , and c. joo , `` a simple asymptocially optimal joint energy allocation and routing schemes in rechargable sensor networks , '' _ ieee / acm trans .",
    "netw . _ , vol .",
    "4 , pp . 13251336 , aug . 2014 .",
    "z. mao , c. koksal , and n. shroff , `` near optimal power and rate control of multi - hop sensor networks with energy replenishment : basic limitations with finite energy and data storage , '' _ ieee trans .",
    "4 , pp . 815829 , 2012 .",
    "j. qin , y. chow , j. yang , and r. rajagopal , `` online modified greedy algorithm for storage control under uncertainty , '' _ ieee trans .",
    "power syst . _ ,",
    "2015 ( accepted ) , [ online ] .",
    "available : http://arxiv.org/pdf/1405.7789v4.pdf ."
  ],
  "abstract_text": [
    "<S> in energy harvesting ( eh ) network , the energy storage devices ( i.e. , batteries ) are usually not perfect . in this paper , we consider a practical battery model with finite battery capacity , energy ( dis-)charging loss , and energy dissipation . </S>",
    "<S> taking into account such battery imperfections , we rely on the lyapunov optimization technique to develop a stochastic online control scheme that aims to maximize the utility of data rates for eh multi - hop wireless networks . </S>",
    "<S> it is established that the proposed algorithm can provide a feasible and efficient data admission , power allocation , routing and scheduling solution , without requiring any statistical knowledge of the stochastic channel , data - traffic , and eh processes . </S>",
    "<S> numerical results demonstrate the merit of the proposed scheme .    </S>",
    "<S> stochastic optimization , energy harvesting , battery imperfections , wireless networks . </S>"
  ]
}