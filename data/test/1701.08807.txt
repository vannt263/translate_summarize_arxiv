{
  "article_text": [
    "data presentation in astronomy has expanded beyond the traditional two - dimensional plots to include multi - variable analysis , immersive three - dimensional ( 3d ) models and exploratory analysis on a multitude of hardware platforms .",
    "many forms of astronomical data can benefit from alternative forms of data exploration .",
    "data cubes can be rotated in 3d , fly - throughs of planetary landscapes can be explored , and all - sky maps can be examined .",
    "exploratory 3d presentations give users a different perspective on their data .",
    "traditional desktop and laptop configurations as well as hand - held mobile devices can be used as the hardware mechanism for these data explorations .",
    "the techniques can be employed in both research - level visualization and can deliver easy access to materials for education and public outreach @xcite .",
    "panoramic imaging in the physical domain is accomplished with a tripod mounted camera to encompass a larger field of view ( fov ) than is visible through the lens .",
    "multiple images are obtained while attempting to minimize parallax errors between images @xcite . in some cases , four to six ultra wide - field cameras are used to record video in every possible direction .",
    "software can then merge these images and video encompassing a fov into a cylindrical or spherical panorama @xcite .",
    "computer hardware and screen resolution along with network bandwidth are now sufficient to allow 360@xmath0 spherical panoramic video : a constant stream of panoramic images obtained with multiple wide - field cameras that gives a user control over the view while the video advances .",
    "natural movement to view the scene can be accomplished with accelerometer - enabled hand - held devices or with desktop browsers .",
    "we present a methodology overview for creating still and video spherical panoramas using astronomical data .",
    "section  [ panorender ] gives the reader a brief overview of rendering with blender and the google spatial media module . in section  [ methodssection ]",
    "we describe the math and techniques behind building a spherical panorama .",
    "section  [ examples ] outlines examples utilizing the libraries and techniques described in this paper .",
    "section  [ summary ] summarizes the techniques .",
    "traditional data presentation revolves around graphs , charts , tables , and other forms of two - dimensional media .",
    "they have a critical role in research publications . complex or multi - dimensional data can benefit from a more advanced data display mechanism . the ability to immerse users in their data has a number of technical challenges that can be accommodated with recent advances in both hardware and software .",
    "data can be presented within a 3d space , including data cube volume rendering , planetary surface maps , and astronomical catalogs @xcite .",
    "this paper introduces astronomers to spherical panoramas as a data display mechanism .",
    "it is advantageous to use immersive spherical panoramas as they allow easy and natural control of the viewing space , intuitive and minimalist user interfaces , and cross - platform support across a range of hardware and display software .",
    "projection algorithms in astronomical fits images have been well curated and documented .",
    "the growing size of ccd cameras required new drizzling algorithms and reprojection models that paved the way for mosaicking and fast , large , wide - field projection and coordinate transformation algorithms @xcite .",
    "montage is a recent example of image mosaicking and projection code that has been very successful on this front @xcite . while this paper focuses on adding value to existing images and data , it is important to acknowledge the algorithms that go into making the products from large projects .",
    "astronomical surveys produce wide - field imaging science - ready data products and catalogs @xcite .",
    "wide - field radio surveys require special algorithms where mosaicking is done in the interferometric _",
    "uv_plane @xcite as opposed to the imaging plane .    with wide - field mosaics across multi - wavelength regimes increasing in size , resolution , sensitivity and detail ,",
    "it is useful to create immersive spherical panoramas where the user is _ inside _ the data .",
    "panoramic photography and imaging play an important role in interactive user interfaces , data analysis , and 3d reconstruction @xcite .",
    "more recently , stereoscopic vision , virtual reality , and augmented reality applications can combine to supplement data viewing in geographic and mapping software @xcite .",
    "this has applications in haptic feedback devices , 3d caves , and other forms of virtual reality @xcite . displaying 3d data on traditional two - dimensional ( 2d ) displays ( a computer or a tablet ) requires certain considerations when projecting images  @xcite .",
    "further applications include stereo vision in 3d environments with headgear apparatus  @xcite .",
    "we focus here on the simplest use of easy to obtain hardware : desktops , laptops , and mobile devices .",
    "used in conjunction , the software package blender combined with the google spatial media library make a powerful combination for a researcher to animate and display their data for other users .",
    "we outline spherical panoramas described in this paper that can fit into one of three scenarios  ( figure  [ blender_paper_geometry_diagram ] ) .",
    "an example from each of these scenarios will be described in section  [ examples ] .    *",
    "_ static spherical panoramas_. this type is best exemplified by a user stationary in the middle of the celestial sphere .",
    "all - sky maps work well with this scenario .",
    "it requires a single frame and can be executed with short render times . *",
    "_ single pass fly - throughs_. imagine this scenario as moving through a 3d dataset on a predetermined track .",
    "as the user moves along the track at a fixed speed , they are free to look about in any direction . *",
    "_ orbit flyovers_. the scenario is geared toward data where one item is in focus , such as a particular area or object in a simulation or map feature .",
    "blender supports a wide range of 3d visualization and animation scenarios .",
    "it is maintained by the blender foundation as open - source software .",
    "the software has been adapted for use in a number of astronomy applications with easily accessible primers and tutorials .",
    "the novice user is referred to those works and the references therein when using blender for the first time with their data .",
    "blender versions 2.64a and later will work with the examples and techniques outlined in this paper .    three - dimensional graphic suites like blender require a workflow of data selection , modeling , and animation .",
    "other software packages referred to in @xcite including lightwave 3d , maya , and 3d studio max are popular in the graphics industry . while the internal working models and graphical user interfaces may differ between packages , blender supports data import from all of those packages . as with any data reduction or graphical display package and depending the complexity of data , it is best to begin learning the package with a simple dataset such that the developed data model can be built upon for reuse .",
    "the user s proficiency can quickly improve with the tutorials and examples provided at the end of this paper . to aid in the ease of scripting",
    ", the python application program interface ( api ) allows interfacing with popular scientific astrophysics libraries such that a variety of astronomical data ( ascii catalogs , fits images , etc . )",
    "can be brought into the environment .",
    "we choose to use blender because its built - in engine capabilities allow for fast panoramic rendering of a 3d scene .",
    "in addition , the new _ cycles _ rendering engine allows for a node - based compositor control of many of blender s graphical user interfaces ( guis ) and features  ( table  [ enginetable ] ) .",
    "the camera controls in blender give a 360@xmath1180@xmath0 fov that can be used as a still image in a static spherical panorama  ( figure  [ blendergui ] ) .",
    "the google spatial media module is a collection of specifications and tools for spherical 360@xmath0  video and spatial audio .",
    "the module can take rendered output from blender and generate spherical panorama video .",
    "this is accomplished with a metadata injector that adds information on the file type and fov to the header .",
    "audio can also be included in the metadata , but it will not be discussed in this work .",
    "the module source code is available from a github repository .",
    "the module is available as a stand - alone executable for windows and mac os or as a python module for linux / windows / mac os . by adding to the video metadata header , the output",
    "can then be exported to youtube .",
    "within youtube the player becomes aware of the data content and gives the user a set of controls with which to navigate the environment .",
    "users can use a mouse to click and drag or move their tablet or mobile device naturally to view the scene .",
    "the preprocessing by blender to create a full spherical view covering 4@xmath2 steradians is critical before running it through this module .",
    "it is assumed that the metadata injection carried out by the module is being applied to to a full spherical panoramic view .",
    "the social media website facebook also has the capability of supporting 360@xmath0 video , but the metadata injection must be inserted by the user if the video has not been already created by a spherical camera system .",
    "this creates a complication that is solved for the user by using the google spatial media module with the added benefit of the python interface .",
    "other 3d vr / ar ( virtual reality / augmented reality ) applications such as oculus rift or vive require rather steep hardware requirements .",
    "the scheme presented in this paper is aimed at a researcher utilizing hardware already available as well as open - source software for the processing .",
    "the google software interface coupled with blender and youtube allows for an easy implementation of a spherical panorama video on a variety of hardware platforms .",
    "the results can be viewed with a mouse - desktop / laptop setup with the chrome or firefox browser .",
    "tablets and mobile devices with three - axis accelerometers are where this technique s forte really lies .",
    "using this technique on such devices allows for an immersive data discovery session .",
    "a user can move within the dataset as the video plays or be located in a static position  ( figure  [ phone ] ) .",
    "the device itself can be moved or the user can navigate with their hands . if the camera is moved during a spherical panorama video , users can track a particular object by pointing their device in different directions .",
    "user device rotation is the controllable element in this scheme .",
    "no translation of the mobile device will have an effect on the viewer s perspective .",
    "the technique works equally well on both ios and android mobile operating systems .",
    "images can be combined and projected from an equirectangular , cylindrical equal area or hammer - aitoff projection .",
    "the first two may be necessary in certain cases where data is not available to encompass the entire sphere of visibility .",
    "an equirectangular projection conversion is simply defined with cartesian coordinates _ x , y _ , and angles @xmath3 as @xmath4 @xmath5    a cylindrical equal area projection can be defined as @xmath4 @xmath6 where @xmath7 is the azimuthal angle and @xmath8 is the radius of the projected cylinder .",
    "we will assume a scaling of @xmath9 in this work s examples for simplicity ( known as a lambert s equal area projection ) .",
    "a simple cylindrical panorama setup with a lambert s equal area projection is shown in figure  [ cylinder_geometry ] .    for all - sky maps ,",
    "image reprojection is the most computationally intensive part of image processing .",
    "tools such as montage assist with this @xcite .",
    "all - sky maps are readily available from a large number of astronomical surveys .",
    "the hammer - aitoff to spherical formalism is given as @xmath10 @xmath11 where @xmath12    these maps and projection definitions are well defined by .",
    "these transformations will be employed in section  [ examples ] .",
    "once a fits image map is generated , it can be imported into blender by way of astropy and its associated fits manipulation modules .",
    "planetary surface maps and 3d catalogs can be brought into the blender environment as described in @xcite .",
    "here we focus on the methods and geometry of virtually filming these data for spherical panoramas .",
    "we can consider the method of virtually photographing our _ scene _ with data in a similar fashion to the way a camera is set up to image in a panoramic mode ( figure  [ panosetup_cylinder ] ) . while the internal blender mechanics automate this process with the built - in camera object",
    ", it is useful to understand some of the underlying mathematics .",
    "the projective mapping between two planes is given by @xmath13 which is summarized as @xmath14 where * h * is the _ homography matrix _ that transforms * p * to our plane * p@xmath15*. the formalism for panoramic homography is reviewed in @xcite .",
    "when projecting images for viewing , it is important to understand that we are not rotating the fov about the focal plane , but around the _ nodal point _ for the exit pupil that sits in front of the plane ( figure  [ nodaldiagram ] ) .",
    "the nodal point for a physical camera is the correct pivot point in panoramic imaging and allows us to minimize parallax errors  @xcite .",
    "a virtual camera in a 3d scene can be thought of as a point from which rays originate constrained by a fov .",
    "the rays in a virtual camera s 360@xmath0 fov are unconstrained ( see @xcite for a comprehensive review on ray tracing ) . stereo imaging is not within the scope of this paper , but it will utilize two origin points for the rays separated by an inter - pupillary distance , also refereed to as a stereo baseline @xcite .    with this information in mind , the broad workflow for creating our examples will work as follows .",
    "each example will give details specific to that given scenario and will utilize the following seven steps .",
    "the seventh stage will be omitted from the examples as it is uniform to all three , where we use the google spatial media module .    1 .",
    "_ * import data*_. maps , textures , and catalogs are brought into the environment .",
    "scripts for these processes are available in @xcite .",
    "* set uv - mapping*_. for astronomical images and maps that need to be projected into the 3d environment , _ uv_-unwrapping can be utilized  ( figure  [ uvcoverage ] ) using equations  [ sphere_eq1][sphere_eq2 ] .",
    "* configure data scene*_. the data scene configuration includes any illumination , texture , and material objects that are needed in the visualization .",
    "* set camera path*_. the path is configured with a bzier curve if required .",
    "the camera can be moved freely as determined by the user or restricted to initially focus on a particular area or object of the data .",
    "_ * configure camera*_. the camera settings can be configured to maximize the fov depending on how much coverage is yielded by the data ( for instance , only a partial set of data in an all - sky map ) .",
    "this requires a panoramic camera selection in either the default rendering engine or the new cycles engine .",
    "_ * render scene*_. the scene should be rendered at 4k or higher since the spherical panorama image must cover 4@xmath2 steradians @xcite .",
    "the best output resolution should be used at 3840  @xmath16  2160 pixels .",
    "* configure metadata*_. the rendered video can be imported into the google spatial media module as a stand - alone binary or as part of a python script .",
    "the examples described in this section follow data import and manipulation procedures outlined in @xcite .",
    "all data manipulation examples start with the default file that opens with blender upon startup ; no changes need to be made to the default configuration .",
    "most workflows in these examples require a number of mouse / keyboard binding combinations .",
    "the first example uses a static view inside a celestial sphere .",
    "the second and third examples both utilize a moving camera with two different data sets , an astronomical catalog where the camera flies through with a linear path and a 3d planetary surface with a circular path where the camera can focus on a particular geographic feature .",
    "all - sky map data lend themselves very well to the spherical panorama paradigm . while any astronomical fits image can be used when properly placed on the celestial sphere , wider sky coverage produces a more pronounced effect .",
    "all - sky maps cover a complete 4@xmath2 steradians fov of spatially well - sampled data over a wide range of wavelengths .",
    "for this example , we use a static camera view where the user does not translate .",
    "the user is essentially placed inside the center of a celestial sphere and can rotate to view everything around them ( figure  [ spherical ] ) .",
    "data from _ skyview _ can be used , obtaining images centered on the galactic center ( @xmath17 ) in a cartesian or hammer - aitoff projection @xcite .",
    "oversampling the image in a 2:1 or 16:9 aspect ratio with a 360@xmath1180@xmath0 fov is best ; the end product will be viewable on different resolutions with various hardware .",
    "the workflow for this example is as follows :",
    "1 .   importing data can be accomplished with * astropy.io.fits.open * or with a high - resolution jpeg , png , or tiff image .",
    "images can be added via the uv / image editor ( see the lower panel of figure  [ uvcoverage ] ) .",
    "the data scene requires that a _ uv _ sphere mesh be added to the scene by pressing the key combination * shift - a*. 2 .   pressing the * tab * key puts the main viewer in _ edit _ mode .",
    "+ the * a * key followed by the * u * key is used to map the image onto the mesh model .",
    "a material and texture can be added to the mesh sphere with an emission shading value of 1.0 , image set to the loaded map and coordinates set to * uv*. 4",
    ".   the camera will be static in this example , rotated to ( @xmath18 ) = ( @xmath19 ) facing the galactic center at ( @xmath17 ) .",
    "the cycles engine can be used to our advantage here , setting the fov to 180@xmath0 .",
    "the resolution output should be set to 3840  @xmath16  2160 pixels , the highest resolution currently available on youtube .",
    "the video output should be set to the mpeg with mpeg-4 encoding and a bitrate of 8000 kilobits per second .      in this example",
    ", we tour a galaxy catalog @xcite where the user is on a predefined moving track through 3d space . this automated constant speed translation is coupled with the user controlled rotation as the video visualization plays .",
    "translating schemes like this are good for scenarios in which various aspects of the data need to be given a closer look .",
    "it also may be the case that the dataset covers a large parameter space , thus traversing a particular axis is advantageous .    1 .",
    "data can be imported from ascii text files , xml or binary tables using standard python modules . 2 .",
    "3d catalogs are best rendered as a single mesh with disconnected vertices in _ edit _ mode .",
    "halo * materials * are best used with a emission shading value of 1.0 to create point sources for each catalog object .",
    "a linear path is set up such that the camera will traverse 75% of the full width at half maximum ( fwhm ) of the width of the catalog s radial distribution .",
    "this allows reasonably uniform coverage of the viewing sphere as the user moves through the 3d catalog space .",
    "single * halo * materials are not supported in the cycles engine ; we use the standard render engine provided with blender .",
    "the resolution output should be set to 3840  @xmath16  2160 pixels ( figure  [ catalog_pan ] ) .",
    "the video output should be set to the mpeg with mpeg-4 encoding and a bitrate of 6000 to 8000 kilobits per second , depending on the length of the translation .",
    "a trade off can be made between a longer video and a slightly smaller bitrate .      with this scenario",
    ", we can render a panoramic view of the martian shield volcano olympus mons .",
    "the camera path will encircle the geographic feature , allowing the user to pan the camera in any direction during the animation .",
    "the data discussed in @xcite and @xcite can be used as an example , with layers used to build the terrain maps  ( figure  [ terrain ] ) .",
    "as the camera revolves around the volcano , the altitude is changed along a predetermined track of revolution .",
    "any kind of solid 3d model viewed externally is well suited to this visualization scenario .    1 .",
    "loading planetary surface images requires both satellite imaging as well as some form of altitude ranging .",
    "these can be layered as a displacement modifier and texture for _ uv_-mapping .",
    "surface data can be rendered as as a subdivided surface plane in * edit * mode with a deformation modifier .",
    "3 .   a regular surface mesh material with an emission shading value of 1.0 works best in this example . 4 .   a bzier circle can be used as a path animation combined with an empty mesh ( null vector ) that will allow the camera to point toward the surface during the video .",
    "the camera is attached to this animated path .",
    "the time frame of the path animation can determine the length of the visualization .",
    "the user can choose between cycles and render ; either will work well in the scenario .",
    "6 .   the resolution output should be set to 3840  @xmath16  2160 pixels .",
    "the video output should be set to the mpeg with mpeg-4 encoding and a bitrate of 6000 to 8000 kilobits per second .",
    "we have introduced a method for creating 360@xmath0 spherical panoramas with astrophysical data .",
    "the technique employs the 3d software package blender and the google spatial media module .",
    "the outlined principles of panoramic projection allow us to use these tools in concert for immersive data exploration . by moving within a full spherical view ,",
    "a user can interact with astronomical images and 3d catalogs , models , and maps .",
    "the interaction works equally well in a traditional browser environment as well as physical movement with mobile devices .",
    "we provide examples for three scenarios that a user could build upon : a static celestial sphere , a linear fly - through , and a revolving orbit focusing on a single area or object .",
    "jacob , joseph c. and katz , daniel s. and berriman , g. bruce and good , john c. and laity , anastasia c. and deelman , ewa and kesselman , carl and singh , gurmeet and su , mei , hui and prince , thomas a. and williams , roy  2009 , int .",
    "j. comput .",
    ", 4 , 73                                            ll _ render default _ & all mesh material modes supported .",
    "+ _ cycles _ & halo materials for catalogs not supported .",
    "benefits include using node compositor .",
    "+ _ game engine _ & physics - based simulation and particle generator ."
  ],
  "abstract_text": [
    "<S> data immersion has advantages in astrophysical visualization . </S>",
    "<S> complex multi - dimensional data and phase spaces can be explored in a seamless and interactive viewing environment . putting the user in the data </S>",
    "<S> is a first step toward immersive data analysis . </S>",
    "<S> we present a technique for creating 360@xmath0 spherical panoramas with astrophysical data . </S>",
    "<S> the three - dimensional software package blender and the google spatial media module are used together to immerse users in data exploration . </S>",
    "<S> several examples employing these methods exhibit how the technique works using different types of astronomical data . </S>",
    "<S> + * accepted for publication in the journal pasp special focus issue _ techniques and methods for astrophysical data visualization . _ * </S>"
  ]
}