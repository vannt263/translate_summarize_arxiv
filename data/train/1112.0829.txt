{
  "article_text": [
    "consider a favorable gambling game , such as betting at 3:1 odds on the outcome of a fair coin toss . if we are allowed to play this as many times as we like ( decided adaptively ) , we can eventually increase our winnings to any desired target amount , with certainty .",
    "for instance , proportional betting strategies such as the kelly criterion ( see kelly  @xcite or breiman  @xcite ) , have long been known to accomplish this .    breiman  @xcite `` hopefully conjectured '' the following .",
    "suppose our goal is to achieve a set target bankroll , say $ 1 m , starting with a fraction @xmath0 of that amount .",
    "let @xmath1 be the expected number of rounds we have to play before we attain our goal .",
    "then there exists a threshold @xmath2 , and an optimal strategy of the following form :    * when the current bankroll is less than @xmath3 , bet to optimize @xmath4bankroll@xmath5 .",
    "this is achieved by betting a particular fraction of the current bankroll , which is only dependent on the proposition being offered .",
    "this is sometimes known as `` kelly betting . ''",
    "* when the current bankroll is at least @xmath3 , bet to reach the target bankroll in the current round",
    ".    we will call such strategies `` threshold strategies . ''",
    "breiman describes this conjecture as `` expressing a moderate faith in the simplicity of things . ''",
    "indeed , his proposed strategy seems quite plausible .",
    "however , our main result is a proof that this strategy is not optimal .",
    "[ thm : main ] there exists a favorable gambling game and initial bankroll @xmath0 , for which the optimal @xmath1 is at most @xmath6 times that of any threshold strategy .",
    "we have not attempted here to optimize the constant @xmath6 , but it would be nice to know what its best possible value is .",
    "we will use the following version of doob s optional stopping theorem ( see ( * ? ? ? * theorem 10.10 ) ) .",
    "[ thm : opt - stop ] let @xmath7 be a supermartingale .",
    "let @xmath8 be a stopping time with @xmath9 , and suppose there is a constant @xmath10 such that , for all @xmath11 , @xmath12",
    ". then @xmath13 is integrable and @xmath14 .",
    "for our gambling game , consider a biased coin which comes up heads with probability @xmath15 .",
    "suppose we are allowed to bet on heads , and be paid off at @xmath16 odds .",
    "that is , for each unit bet , the net change in our bankroll is @xmath17 with probability @xmath18 , and @xmath19 with probability @xmath15 .    in this case , it is easily checked that the kelly criterion says to bet @xmath20 of the current bankroll at each timestep , so that the new bankroll will be : half the current bankroll with probability @xmath18 , and twice the current bankroll with probability @xmath15 .    for an initial bankroll , @xmath21 , let @xmath22 be the expected number of plays of this game until a bankroll of at least @xmath23 is achieved , under the strategy minimizing this quantity    [ lem:3k ] for our example game , when @xmath24 , for @xmath25 a positive integer",
    ", the ( unique ) optimal strategy is to bet @xmath20 of the current bankroll every round until a bankroll of @xmath23 is reached .",
    "therefore , @xmath26 .",
    "first we observe that the given strategy results in an expectation of @xmath27 rounds until the bankroll reaches @xmath23 .",
    "this is because the base-2 logarithm of the bankroll is a biased random walk on the negative integers , that moves one unit towards @xmath28 with probability @xmath15 at each timestep , and one unit away with probability @xmath18 .",
    "the analysis of the hitting time to @xmath28 for this random walk is standard .    to see that this is the best possible result , consider any possible strategy , and let @xmath29 denote the bankroll after @xmath30 steps",
    ". let @xmath31 denote the hitting time to the target bankroll : @xmath32 .",
    "define @xmath33 .",
    "observe that , regardless of the strategy chosen , @xmath34 is a supermartingale , since kelly betting maximizes the conditional expectation of @xmath35 given @xmath36 , and , for kelly betting , @xmath36 would be a martingale .",
    "further , note that @xmath37 , and @xmath38 .",
    "now , we may assume @xmath39 , since otherwise this strategy is clearly worse than kelly betting .",
    "suppose for now that @xmath40 is bounded almost surely . then applying the doob s optional stopping theorem  [ thm : opt - stop ]",
    ", we have @xmath41 , which proves that , again , the kelly strategy is superior .",
    "finally , we will show that any strategy with @xmath40 unbounded can be strictly improved upon by another strategy with @xmath42 , and therefore our previous assumption that the steps taken by @xmath43 are bounded was made without loss of generality .    first note that @xmath44 absolutely , since even if we bet the entire bankroll , we can not more than triple our stake .",
    "suppose , for some value of @xmath29 , this strategy bets more than @xmath45 of the bankroll .",
    "let s look at the expected number of rounds needed until @xmath46 .",
    "with probability @xmath15 , @xmath47 , but with probability @xmath18 , the bankroll initially drops by a factor of @xmath48 , and hence , no matter what , it will take more than @xmath49 rounds to return to its initial value of @xmath29 .",
    "thus , in expectation , it takes more than @xmath50 rounds to exceed @xmath29 for the first time . and ,",
    "moreover , the value of @xmath51 is in the interval @xmath52 .",
    "now , note that kelly betting quadruples the stake in an expected @xmath50 rounds , which clearly dominates the above strategy .",
    "so , it would be strictly superior to `` bet to double '' until the stake reaches @xmath53 , and then proceed optimally from that point onward .",
    "thus , any strategy that ever bets more than @xmath45 of its bankroll can be improved upon by one that does not , which gives us bounds of @xmath54 on the revised strategy , which completes the proof .",
    "lemma  [ lem:3k ] is interesting because it shows that kelly betting is in fact optimal for infinitely many starting bankrolls .",
    "furthermore , when coupled with our next two ( easy ) lemmas , this actually implies that there exist threshold strategies for which @xmath1 is within a constant factor of optimal .",
    "these results are not specific to the example game chosen for this paper ; precise statements and proofs are left as an exercise to the reader .    on the flip side ,",
    "as we will see , lemma  [ lem:3k ] is also the key to our proof that every threshold strategy is actually suboptimal .",
    "[ lem : decr ] [ lem:3/2 lb ] in general , @xmath22 is a decreasing function of @xmath21 .",
    "furthermore , for our example game , @xmath55 for all @xmath56 .    clearly @xmath22 is non - increasing , since extra money can always be ignored with no penalty .",
    "we omit a detailed proof that @xmath8 is strictly decreasing , noting only if there is extra money being ignored , then after a sufficiently long sequence of consecutive losses under , say , a proportional betting scheme , this extra money will become the vast majority of the bankroll , at which point we can appeal to lemma  [ lem:3k ] to see that the expected hitting time to @xmath23 is strictly better than without the extra money .    to see that @xmath55 , note that we can not achieve a bankroll of @xmath23 without winning at least one coin toss .",
    "but the expected number of coin tosses until the first heads is @xmath57 .",
    "so this is clearly a lower bound on the hitting time to @xmath23 .",
    "the inequality is strict , since if we keep losing , eventually our bets must become too small to guarantee reaching @xmath23 on the first heads .",
    "[ lem : bet - to-1 ] for our example game , any optimal strategy always bets to @xmath23 when the bankroll is @xmath58 .",
    "additionally , @xmath59 and @xmath60 .",
    "suppose for a bankroll @xmath61 , and our strategy bets to some value @xmath62 .",
    "then , since the first coin flip either results in a bankroll of @xmath63 , or a bankroll @xmath64 , we have @xmath65 this implies @xmath66 .",
    "but , by lemma  [ lem:3k ] , we know that @xmath67 , so we have a contradiction to the fact that @xmath8 is a decreasing function ( lemma  [ lem : decr ] ) .",
    "thus the correct strategy must be to bet to @xmath23 .    since , from @xmath68 or @xmath69 , the strategy of betting to @xmath23 either results in winning directly , or reaching a bankroll of @xmath20 , and since lemma  [ lem:3k ] tells us that @xmath67 , an easy calculation yields the values of @xmath70 and @xmath71 , for which we shall have a use later .",
    "[ lem:1/3 - 1/2 ] for our example game , if breiman s conjecture were true , then the critical threshold @xmath3 would necessarily be in @xmath72 $ ] .",
    "since winning bets are paid off at @xmath16 odds , it is impossible to `` bet to @xmath23 '' with a bankroll of less than @xmath18 . moreover ,",
    "unless the bankroll is strictly greater than @xmath18 , we can not bet to @xmath23 without risking the entire bankroll , in which case @xmath73 .",
    "so @xmath74 .",
    "on the other hand , if @xmath75 , then betting the kelly criterion ( risking half the bankroll ) is too much , as winning results in a bankroll exceeding @xmath23 , which has no added utility .",
    "so @xmath76 .",
    "( lemma  [ lem : bet - to-1 ] also implies @xmath76 . )",
    "[ lem:7/18 ] for any @xmath77 $ ] , playing breiman s strategy results in @xmath78 .",
    "we consider two cases . *",
    "case a : *   @xmath79 . in this case , we first bet to @xmath23 , winning the game with probability @xmath15 , and otherwise losing @xmath80 , for a new bankroll of @xmath81 . assuming we lost , we will now risk half the bankroll at each step , until our bankroll has doubled up to a value of @xmath15 .",
    "( note that , by lemma  [ lem:1/3 - 1/2 ] , @xmath74 . ) note that , by lemma  [ lem:3k ] , doubling up thrice takes @xmath82 rounds in expectation .",
    "since lemma  [ lem : bet - to-1 ] tells us @xmath59 , we can now compute @xmath83    * case b : *   @xmath84 . in this case",
    ", we first bet to double up to @xmath85 , which , by lemma  [ lem:3k ] takes 3 rounds in expectation .",
    "since lemma  [ lem : bet - to-1 ] tells us @xmath86 , we therefore have @xmath87 just as in case a , completing the proof .",
    "combining lemmas  [ lem:1/3 - 1/2 ] and [ lem:7/18 ] shows us that , if breiman s conjecture were true , then @xmath78 for our example game .",
    "our next result contradicts this .    for our example game , @xmath88 .",
    "on the first bet , suppose we bet @xmath89 .",
    "if we win , our bankroll goes up to @xmath15 .",
    "if we lose , our bankroll goes down to @xmath90 .",
    "since lemmas  [ lem:3k ] and [ lem : bet - to-1 ] tell us that with optimal play , @xmath91 and @xmath59 , we therefore have @xmath92    combining the above lemmas shows us that breiman s conjecture is false , and with a tiny bit more work , that any strategy meeting breiman s form has an expected cost at least @xmath93 of optimal starting from the initial bankroll of @xmath94 , thus proving theorem  [ thm : main ]    it would be nice to know the `` price '' for playing a threshold strategy .",
    "we have seen that this is at least @xmath93 for our example game .",
    "although we have made no serious attempt to improve this value , it seems likely that it is not far off the mark .",
    "from an initial bankroll of @xmath21 , in our example game . , width=642 ]    figure  [ fig : bcopt ] shows a graph of upper and lower bounds on the optimal @xmath22 .",
    "it was obtained by a computer program , which , beginning with the upper and lower bounds that follow immediately from lemma  [ lem:3k ] and [ lem : decr ] , recursively derives better and better upper and lower bounds in terms of the previous ones .",
    "all of the bounds the program works with are step functions , which allow for exact calculations , up to the precision of the machine arithmetic . for efficiency reasons ,",
    "the program frequently approximates these step functions with more conservative ones , so as to avoid an exponential growth in the number of distinct function values it has to keep track of .",
    "note that the upper bound is very close to all the values we know exactly from our lemmas , suggesting that the lower bound remains too conservative .",
    "also note that the `` bump '' visible in the graph at @xmath95 is not an artifact . for comparison , @xmath96 .",
    "we have no good explanation for this feature of the graph , but it seems to suggest that optimal betting has some interesting structure which remains to be understood .",
    "i would like to thank yuval peres and evangelos georgiadis for introducing me to this problem and for helpful comments ."
  ],
  "abstract_text": [
    "<S> consider a gambling game in which we are allowed to repeatedly bet a portion of our bankroll at favorable odds . </S>",
    "<S> we investigate the question of how to minimize the expected number of rounds needed to increase our bankroll to a given target amount .    specifically , we disprove a 50-year old conjecture of l. breiman  @xcite , that there exists a _ threshold strategy _ that optimizes the expected number of rounds ; that is , a strategy that always bets to try to win in one round whenever the bankroll is at least a certain threshold , and that makes kelly bets ( a simple proportional betting scheme ) whenever the bankroll is below the threshold .    optimal betting , kelly betting , algorithms , counterexample , optional stopping , computer assistance </S>"
  ]
}