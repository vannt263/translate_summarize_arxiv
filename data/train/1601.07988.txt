{
  "article_text": [
    "let @xmath18 denote the set of all paths from @xmath1 $ ] to @xmath19 $ ] which consist of either unit north @xmath20 $ ] steps or unit east @xmath21 $ ] steps .",
    "the six paths in @xmath22 are pictured at the top of figure [ fig : l2f2 ] .",
    "clearly , @xmath23    we code elements in @xmath18 as words over the alphabet @xmath24 with @xmath6 @xmath3 s and @xmath6 @xmath4 s . given @xmath7 and a subset @xmath8 of @xmath9 = \\{1 , \\ldots , n\\}$ ] ,",
    "we let @xmath10 denote the word that results from @xmath11 by removing the @xmath12 occurrence of e and the @xmath12 occurrence of @xmath3 in @xmath11 for all @xmath13-a$ ] , reading from left to right .",
    "for example , suppose @xmath25 , then @xmath26 , @xmath27 , @xmath28 , @xmath29 , and @xmath30 .",
    "we shall think of a word in @xmath24 with @xmath6 @xmath3 s and @xmath6 @xmath4 s as a _ paired pattern _ where the @xmath12 occurrence of @xmath4 is paired with the @xmath12 occurrence of @xmath3 , reading from left to right , for @xmath31 .",
    "given a set of paired patterns @xmath32 and word @xmath7 , we say that    1 .",
    "@xmath33 * occurs * in @xmath11 if there is an @xmath15 $ ] of size @xmath16 such that @xmath34 , 2 .",
    "there is a * @xmath33-match in @xmath11 starting at the @xmath35-th paired step * + if @xmath36 and 3 .",
    "@xmath11 * avoids * @xmath33 if there is no @xmath33-matches in @xmath11 .",
    "alternatively , we can code a path @xmath11 as a @xmath37 array @xmath38 where the bottom row of @xmath39 is the positions of the east steps , reading from left to right , and the top row of @xmath39 is the positions of the north steps , reading from left to right . given any @xmath37 array @xmath40 filled with pairwise distinct positive integers ,",
    "let the reduction of @xmath8 , @xmath41 , denote the @xmath37 array which results from @xmath40 by replacing the @xmath12 smallest integer in @xmath40 by @xmath42 .",
    "an example of the reduction operation @xmath43 is pictured at the bottom of figure [ fig : correspond ] .",
    "it is then easy to see that given @xmath44 and @xmath15 $ ] , the array associated with @xmath45 corresponds to the array obtained by taking the columns in @xmath38 corresponding to @xmath8 and reducing .",
    "this process is pictured in figure [ fig : correspond ] .",
    "this given , we can restate our pattern matching conditions in terms of @xmath37 arrays .",
    "that is , the @xmath46 denote the set of all @xmath37 arrays @xmath39 filled with the numbers @xmath47 such that the rows of @xmath39 are increasing reading from left to right .",
    "given @xmath48 and @xmath15 $ ] , we let @xmath49 $ ] be the array that results by removing the columns corresponding to elements in @xmath9-a$ ] . for example , if @xmath50 is the array pictured in figure [ fig : correspond ] , then @xmath51 $ ] is pictured at the bottom left of figure [ fig : correspond ] .",
    "then from the point of view of arrays in @xmath46 , our paired pattern matching conditions can be stated as follows .",
    "given a set of @xmath52 arrays @xmath53 and a @xmath37 array @xmath54 , we say that    1 .",
    "@xmath33 * occurs * in @xmath40 if there is an @xmath15 $ ] of size @xmath16 such that @xmath55 ) \\in \\gamma$ ] , 2 .",
    "there is a * @xmath33-match in @xmath40 starting at column @xmath35 * if @xmath56 ) \\in \\gamma$ ] and 3 .",
    "@xmath40 * avoids * @xmath33 if there is no @xmath33-matches in @xmath40 .",
    "note that from this point of view , @xmath33-matches correspond naturally to consecutive patterns matches in @xmath37 arrays .",
    "results about consecutive patterns in arrays can be found in @xcite .",
    "we let @xmath57 denote the number of @xmath33-matches in @xmath11 .",
    "if @xmath58 , then we will say that @xmath11 has no @xmath33-matches . if @xmath59 is a singleton , then we will write @xmath60 for @xmath57 .",
    "for example , there are six possible patterns of length four , as pictured in figure [ fig : l2f2 ] , namely , @xmath61 .",
    "we note that paired patterns differ from classic consecutive patterns in words .",
    "paired patterns actually describes relationships between paths and the diagonal @xmath62 , the subdiagonal @xmath63 , and the superdiagonal @xmath64 . for our purposes , the set of dyck paths",
    "@xmath65 is the set of paths of @xmath0 which stay weakly below the diagonal @xmath66 .",
    "for example , in @xmath22 , the only two dyck paths are @xmath67 and @xmath68 . actually , a path @xmath11 is a dyck path if and only if @xmath11 has no @xmath69-matches .",
    "more details and geometric interpretation of paired patterns can be found in section 2 .",
    "the main goal of this paper is to study generating functions of the form @xmath70 where @xmath71 and @xmath72 is a subset of @xmath73 .",
    "note there are two basic symmetries in our study of paired patterns .",
    "first one can reflect a path @xmath7 about the diagonal @xmath62 which has the effect of interchanging @xmath4 s with @xmath3 s in the word of @xmath11 or interchanging the rows in the diagram of @xmath38 of @xmath11 .",
    "second , one can rotate the path by 180 degrees which has the effect of interchanging the @xmath4 s and @xmath3 s and then reversing the word of @xmath11 .",
    "these symmetries immediately show that @xmath74 thus we need only compute three generating functions of the form @xmath75 .",
    "we can also give geometric interpretations to @xmath76-matches for each @xmath16 .",
    "for example , we shall show that the number of @xmath67-matches in a path @xmath7 is the number of east steps that are below the subdiagonal @xmath77 .",
    "the formulas for the generating functions that we will derive , then lead to many interesting bijective problems . for example , we will show that the total number of east steps that lie below the subdiagonal @xmath77 over all paths @xmath7 equals the sum of the areas under all dyck paths in @xmath78 .",
    "the outline of this paper is as follows . in section 2",
    ", we shall give the geometric interpretations of the number of @xmath76-matches in paths in @xmath0 .",
    "in section 3 , we shall derive closed formulas for the generating functions @xmath75 for @xmath79 and explore some the consequences of such formulas . in section 4 ,",
    "we derive a number of formulas for @xmath80 for certain @xmath81 .",
    "finally , in section 5 , we discuss topics for future research such as finding bijections between paths with certain pattern matching condition and other known objects , extending the definition of paired patterns to schrder - like paths and finding generating functions @xmath82 for paths of length",
    "greater than @xmath83 .",
    "in this section , we shall give our geometric interpretations of @xmath76-matches for @xmath79 .",
    "let @xmath7 . then the number of @xmath67-matches in @xmath11 is the number of east steps below the subdiagonal @xmath63 .",
    "hence , by symmetry , the number of @xmath84-matches in @xmath11 is the number of north steps above the superdiagonal @xmath64 .",
    "suppose that the @xmath12 east step in @xmath11 occurs below the subdiagonal @xmath63 and that this step corresponds to @xmath85 letter in the word @xmath86 of @xmath11",
    ". then it must be the case that the number of @xmath4 s in @xmath87 exceeds the number of @xmath3 s in @xmath87 by at least two .",
    "this means that when we restrict the diagram @xmath38 to the letters @xmath88 , then there are no elements in columns @xmath89 and @xmath42 in the second row .",
    "let @xmath90 be the elements in column @xmath91 and row @xmath92 of @xmath38 .",
    "this means that @xmath93 so that @xmath94)$ ] matches the array for @xmath67 .",
    "hence each such east step represents a @xmath67-match in @xmath11 .    on the other hand",
    "suppose @xmath94)$ ] matches the array for @xmath67 .",
    "if @xmath95 , then in the word @xmath96 of @xmath11 , the @xmath35-th @xmath4 , reading from right to left , must be proceeded by at most @xmath97 north steps which means that the east step corresponding to @xmath98 is below the subdiagonal @xmath77 .    given a path @xmath7 ,",
    "we let @xmath99 denote the number of points @xmath100 $ ] on @xmath11 such that the preceding step is a north step @xmath3 and the following step is an east step @xmath4 .",
    "this means that the path bounces off the diagonal to the right .",
    "we let @xmath101 denote the number of points @xmath102 $ ] on @xmath11 which is preceded by an east step @xmath4 and followed by a north step @xmath3 .",
    "this means that the path bounces off the diagonal to the left .",
    "for example , for the path @xmath11 pictured in figure [ fig : bounce ] , the points @xmath103 $ ] , @xmath104 $ ] , and @xmath105 $ ] are points preceded by a north step and followed by an east step so that @xmath106 and the point @xmath107 $ ] is preceded by an east step and followed by a north step so that @xmath108 .",
    "let @xmath7 .",
    "then the number of @xmath68-matches in @xmath11 equals @xmath99 .",
    "hence , by symmetry , the number of @xmath109-matches in @xmath11 equals @xmath101 .",
    "consider the diagram @xmath38 of @xmath11 .",
    "then a @xmath68-match in @xmath11 corresponds to a pair of columns @xmath89 and @xmath42 such @xmath94)$ ] matches the array for @xmath68 .",
    "this means that @xmath110 .",
    "now suppose that @xmath111 .",
    "it follows that all the elements in the columns to right of @xmath112 must be greater than @xmath112 and all the elements in the columns to the left of @xmath112 must be less than @xmath112 . since @xmath113 it follows that @xmath114 . similarly , if @xmath115 , then all the elements in the columns to right of @xmath116 must be greater than @xmath116 and all the elements in the columns to the left of @xmath116 must be less than @xmath116 . since @xmath117 it follows that @xmath118 .",
    "this means that in the word of @xmath96 of @xmath11 , @xmath119 and is preceded by @xmath42 east steps and @xmath89 north steps so that point @xmath120 $ ] is on the path of @xmath11 and is preceded by a north step and followed by an east step .",
    "vice versa , if @xmath120 $ ] is on the path of @xmath11 and is preceded by a north step and followed by an east step , then it is easy to see that in the array @xmath38 of @xmath11 , we must have that @xmath121 and @xmath122 so that @xmath94)$ ] must match @xmath68 .    given a path @xmath7 , we let @xmath123 denote the number of points @xmath100 $ ] on @xmath11 such that preceding step is an east step @xmath4 and the following step is an east step @xmath4 .",
    "this means that the crosses the diagonal horizontally .",
    "we let @xmath124 denote the number of points @xmath102 $ ] on @xmath11 which is preceded by a north step @xmath3 and followed by a north step @xmath3 .",
    "this means that the path crosses the diagonal vertically .",
    "for example , for the path @xmath11 pictured in figure [ fig : bounce ] , there is a horizontal crossing of the diagonal at the point @xmath125 $ ] so that @xmath126 and there are vertical crossings at the points @xmath107 $ ] and @xmath127 $ ] so that @xmath128 .",
    "let @xmath7 .",
    "then the number of @xmath129-matches in @xmath11 equals @xmath130 .",
    "hence , by symmetry , the number of @xmath131-matches in @xmath11 equals @xmath132    consider the diagram @xmath38 of @xmath11 .",
    "then a @xmath129-match in @xmath11 corresponds to a pair of columns @xmath89 and @xmath42 such @xmath94)$ ] matches the array for @xmath129 .",
    "this means that @xmath133 .",
    "now suppose that @xmath134 .",
    "it follows all the elements in the columns to right of @xmath112 must be greater than @xmath112 and all the elements in the columns to the left of @xmath112 must be less than @xmath112 . since @xmath135 it follows that @xmath114 . similarly ,",
    "if @xmath115 . it follows all the elements in the columns to right of @xmath116 must be greater than @xmath116 and all the elements in the columns to the left of @xmath116 must be less than @xmath116 . since @xmath117 it follows that @xmath118 .",
    "this means that in the word of @xmath96 of @xmath11 , @xmath136 and is preceded by @xmath89 east steps and @xmath42 north steps so that point @xmath120 $ ] is on the path of @xmath11 and is preceded by an east step and followed by an east step .",
    "vice versa , if @xmath120 $ ] is on the path of @xmath11 and is preceded by an east step and followed by an east step , then it is easy to see that in the array @xmath38 of @xmath11 , we must have that @xmath137 and @xmath122 so that @xmath94 $ ] must match @xmath129 .",
    "let @xmath138 for @xmath139 . the goal of this section is to compute the generating functions @xmath140 for @xmath141 .    to obtain a recurrence for dyck paths ,",
    "the usual way is to factorize dyck paths based on where it returns to the diagonal for the first time .",
    "application of this decomposition can be found in many papers focused on lattice paths enumeration such as @xcite and @xcite .",
    "we shall show that similar ideas allows us to obtain recurrences for the number of @xmath76-matches .      for pattern @xmath67 ,",
    "consider the ordinary generating function @xmath142 as follows , @xmath143 we know for a path @xmath11 , @xmath144 is equal to the number of east steps below subdiagonal @xmath63 . by our observation in the introduction , @xmath145 .",
    "we split the analysis of @xmath144 into two cases .",
    "case 1 is when @xmath146 , that is , path @xmath11 stays above @xmath63 .",
    "it is easy to see that the number of paths in @xmath18 above @xmath63 is @xmath147 , the @xmath148-th catalan number .",
    "case 2 is when @xmath149 , that is , path @xmath11 has at least one east step below @xmath63 .",
    "now consider the first time the path touches @xmath63 and the first time after that where the path hits a point @xmath120 $ ] on the diagonal .",
    "it is easy to see that the two steps preceding the point @xmath120 $ ] must be north steps .",
    "an example of recurrence is pictured in figure [ fig : p1 ] , where two boxes are the two positions mentioned above and three diagonal dots stand for a whatever path follows the second box .",
    "suppose the position of the first box has coordinates @xmath150 $ ] , @xmath151 , clearly there are @xmath152 ways to choose steps before reaching @xmath150 $ ] .",
    "similarly , suppose the position of the second box has coordinates @xmath153 $ ] , @xmath154 , clearly there are @xmath155 ways to choose steps between @xmath150 $ ] and @xmath153 $ ] .",
    "since the ordinary generating function for catalan numbers is @xmath156 it follows that @xmath157 and therefore by equation ( [ eq : cat ] ) , @xmath158 some initial terms of @xmath142 are @xmath159 the number of paths in @xmath18 avoiding @xmath67 is @xmath160 , @xmath148-th catalan number . in general , the number of paths having exactly @xmath16 @xmath67-matches has the generating function as follows , @xmath161 we evaluate the derivative at @xmath162 or when @xmath162 is a singularity of the derivative , we take the limit as @xmath112 approaches zero . for example , @xmath163 the sequence @xmath164 is sequence a002057 in the oeis @xcite .",
    "it has a number of combinatorial interpretations including the number of standard tableaux of shape @xmath165 and , with an offset of 4 , the number of 123-avoiding permutations on @xmath166 for which the integer @xmath6 is in the fourth spot .",
    "it follows from the hook length formula for the number of standard tableaux that the number of paths @xmath11 in @xmath0 with exactly one east below the subdiagonal @xmath63 equals @xmath167 and is equal to the number of 123-avoiding permutations on @xmath168 for which the integer @xmath6 is in the fourth spot .",
    "similarly , one can obtain the generating function for the number of paths having exactly two east steps below the subdiagonal as follows , @xmath169    the sequence @xmath170 is sequence a120989 in the oeis @xcite .",
    "the @xmath171 term in this sequence counts the level of the first leaf in preorder of a binary tree , summed over all binary trees with @xmath172 edges . thus the number of paths @xmath11 in @xmath18 with exactly two east steps below the subdiagonal @xmath63 equals the sum of the level of the first leaf in preorder over all binary trees with @xmath172 edges",
    ". we leave open the problem of giving a bijective proof of this fact .    next , we shall answer the following question , for a random path @xmath173 , what is the expectation of @xmath144 , or in other words , on average how many east steps of @xmath11 are below @xmath63 ?",
    "consider that @xmath174 for example , a random @xmath175 , expectation of @xmath144 @xmath176=\\frac{5536}{\\binom{14}{7}}\\approx 1.63,\\ ] ] which implies in average there is roughly 1.63 east steps below @xmath63 .    in general , by the oeis , the coefficient of @xmath177 in equation ( [ coeff : p1 ] ) has formula @xmath178 . using stirling s formula to approximate @xmath179",
    ", we have @xmath180= \\frac{(n+1)\\binom{2n}{n}-4^n}{2\\binom{2n}{n}}\\sim \\frac{n+1}{2}-\\sqrt{\\pi n},\\ ] ] which implies when @xmath6 is large , for a random path @xmath173 , the expected number of east steps that lie below @xmath63 is @xmath181 .",
    "the sequence @xmath182 from equation ( [ coeff : p1 ] ) is sequence a029760 and a139262 in the oeis @xcite . a029760 and a139262 count the total area under all the dyck paths from @xmath1 $ ] to @xmath19 $ ]",
    ", the total number of inversions in all 132-avoiding permutations of length @xmath6 and also total number of two - element anti - chains over all ordered trees on @xmath6 edges .",
    "again we leave open the problem of finding a bijective proof of these facts .",
    "we suspect that finding a bijective proof is a challenge because dyck paths , 132-avoiding permutations and ordered trees are all catalan objects while lattice paths in @xmath0 are not .",
    "next , by manipulating @xmath142 we can also find the number of paths having even number many east steps below the subdiagonal @xmath63 .",
    "the generating function is as follows , @xmath183 similarly , the generating function for the number of paths having odd number many east steps below the subdiagonal @xmath63 is @xmath184    neither of the series correspond to entries in the oeis @xcite .      for pattern @xmath68 ,",
    "@xmath185 counts the number of times @xmath11 bounces off the diagonal @xmath62 to the right , in other words , @xmath186 .",
    "we shall study @xmath187 as we observed in the introduction , @xmath188 .",
    "we shall consider two cases .",
    "case 1 are the paths that start with an east step and case 2 are the paths that start with a north step .",
    "we define @xmath189 and @xmath190    clearly , @xmath191 . for @xmath192",
    ", we consider where is the first time a path starting with a north step crosses the diagonal @xmath62 horizontally . in the middle diagram of figure",
    "[ fig : p2 ] , the three dots stand for a path starting with ` @xmath4 ' or an empty path .",
    "@xmath193 similarly ,",
    "for @xmath194 , we consider where is the first time a path starting with an east step crosses the diagonal @xmath62 vertically . in the right diagram of figure",
    "[ fig : p2 ] , three dots stand for a path starting with ` @xmath3 ' or an empty path .",
    "since we want to keep track of @xmath68-matches , here we need to introduce catalan s triangle @xmath195 , which is the number of dyck paths in @xmath196 with @xmath42 returns to the diagonal @xcite .",
    "by @xcite , @xmath195 has generating function as follows , @xmath197    then @xmath198 by equation ( [ eq : h_2 ] ) , @xmath199 we can then solve @xmath194 to obtain that @xmath200 then we have @xmath201    a few initial terms of @xmath202 are @xmath203 @xmath204 is the generating function for the number of paths that do not bounce off the diagonal to the right .",
    "one can compute that @xmath205 the sequence @xmath206 does not appear in the oeis @xcite .    similarly , we can compute the generating function of the number of paths that bounce at diagonal to right exactly one time .",
    "that is , @xmath207 the sequence @xmath208 does not appear in the oeis @xcite .",
    "also we could ask , for a random path @xmath173 , what is the expectation of @xmath185 , or in other words , on average how many times do @xmath11 bounce at @xmath62 to right ? consider that @xmath209 coefficient of @xmath177 in equation ( [ coeff : p2 ] ) agrees with sequence a008549 of the oeis @xcite which counts the total area of all the dyck excursions of length @xmath210 . by oeis @xcite",
    ", the coefficient of @xmath177 is given by the formula @xmath211 .",
    "using stirling s formula to approximate @xmath179 , one finds that @xmath212= \\frac{\\sum_{l \\in \\mathcal{l}_n } { \\mathrm{bounce}}^-(l)}{|\\mathcal l_n|}=\\frac{4^{n-1}-\\binom{2n-1}{n-1}}{\\binom{2n}{n } } \\sim \\frac{\\sqrt{\\pi n}}4 - \\frac{1}{2 } \\approx 0.443 \\sqrt{n},\\ ] ] which implies when @xmath6 is large , the expected number of times a random path @xmath173 bounces off the diagonal to the right is roughly @xmath213 .",
    "next , by manipulating @xmath202 we can also find the number of paths having even number of bounces off the diagonal to the right .",
    "the generating function is as follows , @xmath214 similarly , the generating function for the number of paths having odd number of bounces off the diagonal to the right is @xmath215 again , neither of the series correspond to sequences in the oeis @xcite .      for pattern @xmath129 ,",
    "as discussed in section 2 , @xmath216 counts the number of times @xmath11 crosses the diagonal @xmath62 horizontally .",
    "we shall study @xmath217 by our observation in the introduction @xmath218 .",
    "similar to the discussion of @xmath68 , we consider two cases .",
    "case 1 are the paths that start with a north step and case 2 are the paths that start with an east step . we define @xmath219 and @xmath220 clearly , @xmath221 . essentially , the way we shall decompose the paths in this case is the same as how we decomposed the paths for pattern @xmath68 .",
    "for paths starting with a north step , we consider where is the first the path crosses the diagonal @xmath62 from left to right and then it is followed by a path starting with an east step or an empty path . then @xmath222 similarly , for paths starting with an east step , we consider where is the first time that the path crosses the diagonal vertically .",
    "then @xmath223 then by equation ( [ eq : h_3 ] ) , @xmath224 and we solve the formula above for @xmath225 @xmath226    therefore , @xmath227    a few initial terms of @xmath228 are @xmath229 next , we shall find the generating function of the number of paths crossing the diagonal horizontally exactly once .",
    "@xmath230 the sequence @xmath231 is sequence a003517 on oeis @xcite .",
    "this sequence has several combinatorial interpretations such as the number of standard tableaux of shape @xmath232 and the number of permutations of @xmath233 with exactly one increasing subsequence of length 3 .",
    "it follows from the hook length formula for the number of standard tableaux that the number of paths @xmath11 in @xmath0 with exactly one horizontal crossing equal @xmath234 .    similarly , the number of paths @xmath11 in @xmath0 with exactly 2 horizontal crossings has the following generating function : @xmath235 the sequence @xmath236 is sequence a003519 on oeis @xcite .",
    "it counts the number of standard tableaux of shape @xmath237 from which it follows that the number of paths @xmath11 in @xmath0 with exactly 2 horizontal crossings equals @xmath238 .",
    "also we could ask , for a random path @xmath239 , what is the expectation of @xmath216 , or in other words , on average how many times does @xmath11 cross @xmath62 from left to right ? in this case , we have computed that @xmath240 which means the total number of @xmath129-matches in paths in @xmath0 is equal to the total number of @xmath68-matches paths in @xmath0 .",
    "next we give a bijection that shows this fact .",
    "since the total number of @xmath129-matches in paths in @xmath0 is half of total @xmath241-matches in paths in @xmath0 and the total number of @xmath68-matches in paths in @xmath0 is half of total @xmath242-matches in paths in @xmath0 , we only need to show the total number of @xmath242-matches in paths in @xmath0 is equal to the total number of @xmath241-matches in paths in @xmath0 . in other words",
    ", we only need to show the total number of times that all the paths in @xmath0 bounce off the diagonal is equal to the total number of times that all the paths in @xmath0 cross the diagonal .    by the reflection principle , we can construct a bijection between the set of paths in @xmath18 crossing the diagonal @xmath16 times , denoted by @xmath243 and the set of paths in @xmath18 bouncing off the diagonal @xmath16 times , denoted by @xmath244 .",
    "the procedure of the bijection is as follows . for any path @xmath245 ,",
    "@xmath11 crosses the diagonal @xmath16 times and suppose @xmath11 touches the diagonal @xmath35 times at positions @xmath246 , @xmath247 .",
    "first we retain the part between @xmath1 $ ] and @xmath248 of the path and flip the path between @xmath248 and @xmath19 $ ] along the diagonal , then we can get a new path @xmath249 . at the second step ,",
    "we retain the part between @xmath1 $ ] and @xmath250 of the path @xmath249 and flip the part between @xmath250 and @xmath19 $ ] along the diagonal , then we can get a new path @xmath251 .",
    "we repeat the process above until we acquire @xmath252 .",
    "@xmath252 is a path in @xmath244 because the procedure above transforms a crossing of @xmath11 into a bouncing of @xmath252 and a bouncing of @xmath11 into a crossing of @xmath252 .",
    "an example is pictured in figure [ fig : reflect ] .",
    "@xmath253 is mapped to @xmath254 under the bijection .    therefore , @xmath255=\\mathbb{e}[p_2",
    "\\text{-mch}(l)]\\sim \\frac{\\sqrt{n\\pi}}{4}-\\frac{1}{2}\\approx 0.443\\sqrt{n}.\\ ] ]    next , by manipulating @xmath228 we can also find the number of paths having even number many horizontal crossings .",
    "the generating function is as follows , @xmath256 the sequence @xmath257 is sequence a005317 in the oeis @xcite where no combinatorial interpretation is given .",
    "thus we have given a combinatorial interpretation to this sequence .",
    "similarly , the generating function for the number of paths having odd number many horizontal crossings is @xmath258 in which coefficient of @xmath177 also counts number of unordered pairs of distinct length-@xmath6 binary words having the same number of @xmath259 s according to a108958 in the oeis @xcite .",
    "we leave open the problem of giving a bijective proof of this fact .",
    "in this section , we shall study multivariate generating functions for @xmath72-matches for certain @xmath260 .",
    "our choices for the @xmath72 that we consider are motivated by picking those pattern matching conditions which have the clearest geometric interpretations .",
    "let @xmath261 where @xmath72 is a subset of @xmath73 .",
    "we start by looking at the two elements sets that have symmetry , namely , @xmath262 , @xmath263 , and @xmath264 .",
    "pattern @xmath67 has one east step below @xmath63 and @xmath84 has one east step above @xmath64 .",
    "we know that for a path @xmath173 , @xmath144 and @xmath265 are the numbers of east steps below @xmath63 and above @xmath64 , respectively .    in this subsection , we shall consider the multivariate generating function @xmath266    we use essentially the same ideas in section [ sec : p1 ] to decompose the paths in @xmath0 to obtain recurrences that will allow us to compute @xmath267 .",
    "in this case , we take three cases into account .",
    "case 1 are the paths that have no @xmath67-match or @xmath84-match . in addition , we can see paths avoiding @xmath67 and @xmath84 must stay between @xmath63 and @xmath64 .",
    "it is easy to see that if the word of such as path is @xmath268 , then either @xmath269 or @xmath270 for all @xmath42 .",
    "thus the number of paths in @xmath18 bounded by @xmath63 and @xmath64 is @xmath271 .",
    "case 2 are the paths @xmath11 such that the first pattern matching of either @xmath67 or @xmath84 in path @xmath11 is @xmath67 and case 3 are the paths @xmath11 such that the first pattern matching of either @xmath67 or @xmath84 in @xmath11 is @xmath84 .",
    "then we have @xmath272 then solving above equation for @xmath273 , we have @xmath274 clearly , @xmath275 .",
    "next , we discuss coefficients of @xmath276 and @xmath277 in @xmath267 which count the number of paths in @xmath18 having exactly one @xmath67 pattern and avoiding @xmath84 and the number of paths in @xmath18 having exactly one @xmath67 and exactly one @xmath84 . in general , the generating function for coefficients of @xmath278 is @xmath279 where if the derivative can not be evaluated at zero , we take the limit .    by the symmetry of @xmath67 and @xmath84 ,",
    "the coefficient of @xmath276 in @xmath267 equals the coefficient of @xmath280 in @xmath267 . by equation ( [",
    "obtain coef ] ) , the generating function for the coefficients of @xmath276 in @xmath267 equals @xmath281 the sequence @xmath282 is a001787 in the oeis @xcite .",
    "the @xmath171 term of this sequence is @xmath283 which means that the number of paths @xmath7 with exactly one east step below the subdiagonal @xmath63 and no east step above the superdiagonal @xmath64 equals @xmath284 .",
    "this is easy to prove directly .",
    "that is , if @xmath11 is such a path , the one east that occurs below the subdiagonal @xmath77 must arise by starting at a point @xmath285 $ ] on the diagonal where @xmath286 followed by a sequence @xmath287 . if we remove this sequence from the word of @xmath11 , we will end up with the word @xmath288 of path @xmath289 which has no east steps either below the subdiagonal @xmath290 or above the superdiagonal @xmath291 .",
    "it is easy to see that in such a path @xmath292 either @xmath269 or @xmath270 for all @xmath42 .",
    "hence there are @xmath293 such paths @xmath292 so that the number of paths @xmath7 with exactly one east step below the subdiagonal @xmath63 and no east step above the superdiagonal @xmath64 equals @xmath284 .",
    "the generating function of the coefficients of @xmath276 in @xmath267 equals @xmath294 the sequence @xmath295 is sequence a001815 in the oeis @xcite .",
    "we can show directly that the number of paths @xmath7 with exactly one east step below the subdiagonal @xmath63 and exactly step above the superdiagonal @xmath64 equals @xmath296 .",
    "that is , if @xmath11 is such a path , then the one east that occurs below the subdiagonal @xmath77 must arise by starting at a point @xmath285 $ ] on the diagonal where @xmath286 followed by a sequence @xmath287 and the one east that occurs above the subdiagonal @xmath291 must arise by starting at a point @xmath297 $ ] on the diagonal where @xmath286 followed by a sequence @xmath298 .",
    "we have @xmath299 choices for the point @xmath285 $ ] . but these @xmath299 choices lead to different situations according to different values of @xmath300 . if @xmath301 or @xmath302 , we have @xmath303 choices to choose a point @xmath297 $ ] on the diagonal followed by a sequence @xmath298 . if @xmath304 , there are @xmath305 choices to choose a point @xmath297 $ ] on the diagonal followed by a sequence @xmath298 .",
    "so the total ways to choose positions of one @xmath67-match and one @xmath84-match is equal to @xmath306 .",
    "we remove sequence @xmath287 and @xmath298 from the word of @xmath11 , we will end up with the word @xmath307 of path @xmath308 which has no east steps either below the subdiagonal @xmath290 or above the superdiagonal @xmath291 .",
    "hence there are @xmath309 such paths @xmath292 so that the number of path @xmath7 with exactly one east step below the subdiagonal @xmath63 and exactly on east step above the superdiaganal @xmath64 equals @xmath296 .",
    "if we are interested in counting lattice paths by the number of east steps below @xmath63 or above @xmath64 , then we consider the following generating function : @xmath310 and also clearly , @xmath311 because the symmetry of @xmath67 and @xmath84 .",
    "then by equation ( [ eq : asyp1 ] ) , @xmath312 = 2\\mathbb{e}[p_1\\text{-mch}(l):l\\in\\mathcal l_n]\\sim n+1 - 2\\sqrt{\\pi n}.\\ ] ]    next , by manipulating @xmath267 we can also find the number of paths having even number many east steps below @xmath63 or above @xmath64 .",
    "the generating function equals @xmath313    similarly , the generating function for the number of paths having odd number many east steps below the subdiagonal @xmath63 or above @xmath64 is @xmath314 neither of the two sequences above is recorded in the oeis @xcite .      in this subsection",
    ", we shall study @xmath315    @xmath316 is the generating function which keeps track of the number of lattice paths by the number of times it bounces off the diagonal to the right or to the left . by the symmetry induced by reflecting paths about the diagonal discussed in the introduction , it is easy to see that @xmath316 is a symmetric function in @xmath317 and @xmath318",
    ". it is also clear that @xmath319 is the generating function which counts number of times a lattice path in @xmath0 bounces off the diagonal @xmath62 .",
    "first we define @xmath320 and @xmath321 clearly , @xmath322 here we employ the decomposition of paths used in section [ sec : p2 ] , then we have @xmath323 and @xmath324 where @xmath325 is given as equation ( [ eq : c(x , t ) ] )",
    ". then @xmath326 solving the above formula for @xmath327 we have , @xmath328 therefore , @xmath329 a few initial terms of @xmath316 are @xmath330 by equation ( [ obtain coef ] ) , we can obtain the generating functions of the coefficients of @xmath331 in @xmath316 which equals @xmath332 this implies there exists a bijection between paths having exactly one @xmath68-match but no @xmath109-matches and paths having exactly one step below @xmath63 .",
    "we leave this as an open problem .",
    "similarly , we can get coefficients of @xmath333 , @xmath334 the sequence @xmath335 is not in the oeis @xcite .",
    "it is also the case that @xmath336 and @xmath337 where @xmath338 is the @xmath16-th catalan number .",
    "@xmath319 is the generating function over paths @xmath11 in @xmath0 by the number of times @xmath11 bounces off the diagonal .",
    "@xmath339    we take partial derivative of @xmath319 with respect @xmath112 and evaluate at @xmath340 , @xmath341 it follows that @xmath342=2\\mathbb{e}[p_2\\text{-mch}(l):l \\in \\mathcal{l}_n]\\approx \\frac{\\sqrt{\\pi n}}{2}-1\\approx 0.886\\sqrt{n}\\ ] ] gives the expected number of times a path in @xmath18 bounces off the diagonal .",
    "@xmath343 is the generating function of the number of lattice paths in @xmath0 that bounce off the diagonal an even number of times .",
    "we have computed that @xmath344 the sequence @xmath345 is sequence a028329 in the oeis @xcite .",
    "it would be nice to have a direct combinatorial proof that the number of lattice paths in @xmath0 that bounce off the diagonal an even number of times equals @xmath346 .",
    "@xmath347 is the generating function of the number of lattice paths @xmath11 in @xmath0 that bounce off the diagonal an odd number of times .",
    "we have computed that @xmath348 the sequence @xmath349 is sequence a162551 in the oeis @xcite .",
    "it would be nice to have a direct combinatorial proof of that the number of lattice paths in @xmath0 that bounce off the diagonal an odd number of times equal @xmath350 .",
    "we define @xmath351 where @xmath352 is used to keep track of the number of horizontal crossings and @xmath353 is used to keep track of the number of vertical crossings .",
    "clearly , @xmath354 is symmetric in @xmath352 and @xmath353 .",
    "we also define @xmath355 and @xmath356 we employ the same decomposition of paths used in section [ sec : p2p5 ] for @xmath129 and @xmath131 .",
    "then @xmath357 and @xmath358 combining the two equations above , we can then solve for @xmath359 to obtain that @xmath360 then @xmath361 a few initial terms of @xmath354 are @xmath362 by symmetry , @xmath363 .",
    "it is also clear that @xmath364 , where @xmath365 is the generating function of catalan numbers , since if a path in @xmath0 has no vertical or horizontal crossings , then the path either stays on or below the diagonal or on and above the diagonal .    by equation",
    "( [ obtain coef ] ) , we see that coefficients of @xmath366 in @xmath354 yield the generating function of the number of paths in @xmath18 that have exactly one horizontal crossing and no vertical crossings .",
    "we have computed that @xmath367 which implies the number of paths in @xmath18 having exactly one @xmath129-match and avoiding @xmath131 is equal to the number of paths in @xmath18 having exactly one @xmath68-match and avoiding @xmath109 .",
    "this can be verified by the bijection defined in section [ sec : bije ] .",
    "however , coefficients of @xmath368 in @xmath354 is not equal to the coefficient of @xmath333 in @xmath316 .",
    "this is due to the fact that a path in @xmath0 can not cross the diagonal horizontally twice without crossing the diagonal vertically .",
    "we have computed that @xmath369 the sequence @xmath370 is column 2 in a118920 and the exactly same interpretation is given by emeric deutsch in the oeis @xcite .",
    "for @xmath371 , we can show that @xmath372 by the bijection defined in section [ sec : bije ] , which gives us that for a random @xmath173 , the expectation of the number of crossings has asymptotic approximation as follows , @xmath373\\sim\\frac{\\sqrt{\\pi n}}{2}-1\\approx 0.886\\sqrt{n},\\ ] ] and also @xmath374      due to space limitations , we shall consider only one more set of patterns of size 2 , namely , @xmath375 .",
    "first , we define @xmath376    @xmath377 counts the number of lattice paths by the number of times it bounces off the diagonal to the right and by the the number of times it crosses the diagonal vertically .",
    "it follows that @xmath378 is the generating function over lattice paths @xmath11 in @xmath0 by the number of times @xmath11 touches the diagonal with a north step . by symmetry",
    ", @xmath379 is also the generating function over lattice paths @xmath11 in @xmath0 by the number of times @xmath11 touches the diagonal with an east step .",
    "first we define @xmath380 and @xmath381 clearly , @xmath382 employing the same decomposition that is used in section [ sec : p2p5 ] , we have @xmath383 and @xmath384 combining the two equations above , we can solve them for @xmath385 , @xmath386 then @xmath387 a few initial terms are @xmath388    by equation ( [ obtain coef ] ) , the coefficient of @xmath331 in @xmath377 is the number of paths in @xmath0 which bounce off the diagonal to the right exactly one time but do not cross the diagonal vertically .",
    "we have computed that @xmath389 the sequence @xmath390 is sequence a000245 in the oeis @xcite which has several interpretations such as the number of permutations on @xmath168 that are 123-avoiding and for which the integer @xmath6 is in the third spot , the number of lattice paths in @xmath391 which touch but do not cross the @xmath63 and the number of dyck paths in @xmath392 that start with ` @xmath393 ' .",
    "similarly , the coefficient of @xmath394 in @xmath377 is the number of paths in @xmath0 which have exactly one vertical crossing but never bounce off the diagonal to the right .",
    "we have computed that @xmath395 the sequence @xmath396 is sequence a070857 in the oeis @xcite which has no combinatorial interpretation .",
    "thus we have given a combinatorial interpretation to this sequence .",
    "the coefficient of @xmath397 in @xmath377 is the number of paths in @xmath0 which bounce off the diagonal to the right exactly once and cross the diagonal vertically exactly one .",
    "the corresponding generating function equals @xmath398 which has no matches in the oeis @xcite .    as we mentioned , @xmath378 is the generating function for the times of paths touching the diagonal @xmath62 with a north step , @xmath399    this fact can be also shown by constructing a bijection .",
    "let @xmath243 denote the set of paths in @xmath392 that cross the diagonal @xmath16 times and @xmath400 denote the set of paths in @xmath392 that touch the diagonal with a north step @xmath16 times .",
    "next , we shall construct a bijection between @xmath400 and @xmath401 , which is similar to the bijection defined in section [ sec : bije ] . for any path @xmath402",
    ", assume @xmath11 touches the diagonal @xmath35 times and these positions are denoted by @xmath246 .",
    "we let @xmath403 $ ] and @xmath404 $ ] .",
    "if @xmath405 is a bouncing right position or @xmath406 is a horizontal crossing position , we flip the part between @xmath407 and @xmath405 along the diagonal .",
    "then we obtain a new path @xmath292 . in this bijection",
    ", we can see that the number of crossings of @xmath11 is equal to the number of north - touchings of @xmath292 , and the number of north - touchings of @xmath11 is equal to the number of crossings of @xmath292 .",
    "for example , in figure [ fig : bijcross ] , @xmath11 is mapped to @xmath292 and @xmath408 and @xmath409 .    because @xmath410 , for a random @xmath173 , @xmath411\\sim \\frac{\\pi n}{2}-1\\approx 0.886 \\sqrt{n}\\ ] ]      the last example of this section is a generating functions of a subset of @xmath412 of size @xmath83 .",
    "that is , we shall study the generating function @xmath413 for convenience , in this subsection we use @xmath414 to denote @xmath415 , @xmath416 to denote @xmath417 and @xmath418 to denote @xmath419 where @xmath420 and @xmath421 similar to the recurrences used in previous subsections , we have @xmath422 and @xmath423 combining the two equations above , we can solve them for @xmath416 , @xmath424 then @xmath425 where @xmath426 and @xmath427",
    "one can imagine that even a few initial terms of @xmath415 are very long so that we will not list them here .",
    "however , it is easy to verify that the constant coefficients of @xmath177 is just @xmath428 because there are two sets of dyck paths , namely , the ones that stay on or above the diagonal and the ones that stay on or below the diagonal .    by manipulating @xmath429 ,",
    "one is able to answer certain complicated enumerative problems , such as how many paths in @xmath18 are there that cross the diagonal vertically exactly once and horizontally exactly twice , and bounce off the diagonal to the right once but not to the left .",
    "the answer to this question has the generating function as follows , @xmath430 amazingly , the sequence @xmath431 is twice the sequence a000344 in the oeis @xcite , which has interpretations such as the number of paths in @xmath432 that touch but do not cross @xmath433 and the number of standard tableaux of shape @xmath434 .",
    "we leave open the problem of finding a bijective proofs of these facts .    next",
    ", we consider the formula @xmath435 which gives us the generating functions for the times of touching the diagonal , @xmath436    next , we want to ask for a random @xmath173 how many times in average that @xmath11 touches the diagonal . applying the same idea that we used in previous sections , we see that @xmath437 so for a random @xmath173 , the expectation of times @xmath11 touches the diagonal is that @xmath438=\\frac{4^n-4\\binom{2n-1}{n-1}}{\\binom{2n}{n}}\\sim \\sqrt{\\pi n}-2\\approx 1.772\\sqrt{n}.\\ ] ]    similarly , we can also obtain the generating functions for the number of paths touching the diagonal an even number of times or an odd number of times .",
    "we have computed that @xmath439 and @xmath440 neither of the two series have matches in the oeis @xcite .    by observing equation ( [ eq : p16even ] ) and ( [ eq : p16odd ] ) , we find that coefficient of @xmath441 in equation ( [ eq : p2345even ] ) is equal to @xmath442    this is because all the six patterns in @xmath22 are mutually exclusive . for any path @xmath443 , @xmath444 , which implies that @xmath445",
    "if @xmath16 is odd , @xmath446 and @xmath447 have the same parity and otherwise , they do not .",
    "in this paper , we computed the generating functions @xmath75 for @xmath448 and @xmath449 for certain selected @xmath450 . in a subsequent paper , we will systematically compute @xmath449 for all sets of size two .",
    "there are only nine such generating functions up to symmetry and we have computed five of them since @xmath451 is a specialization of @xmath414 .",
    "the ones that we have not computed in the paper are represented by @xmath452 , @xmath453 , @xmath454 , and @xmath455 . as a special case for pattern @xmath456",
    ", @xmath457 keeps track of the number of paths in @xmath18 that have @xmath16 steps below the diagonal . for any fixed @xmath16 ,",
    "the coefficient of @xmath458 in @xmath457 is also catalan number @xmath459 , shown by chung and feller @xcite .",
    "we shall explore these generating functions in a subsequent paper where will can also add some addition parameters which keep track of both the area below the diagonal and the area above the diagonal in path in @xmath0 .",
    "there are many interesting bijective problems that arise from our results .",
    "for example , in section 3.1 , we find that the total east steps below @xmath63 of all the paths in @xmath18 is equal to the total area under all dyck paths in @xmath18 . we take @xmath460 as an example , there are 6 paths having @xmath67-matches and there are 5 dyck paths , pictured in figure [ fig : dyck ] .",
    "the total east steps below @xmath63 is equal to @xmath461 and the total area under all the dyck paths is also equal to @xmath462 .",
    "although how to design the bijection is unknown , it is interesting to see paired pattern matching does have connection to other statistics for lattice paths .",
    "another direction for further research is to consider schrder - like paths . in this paper , we only consider paths consisting of north steps @xmath20 $ ] and east steps @xmath21 $ ] .",
    "naturally , we can extend our definitions to schrder - like paths which are paths consisting of east steps @xmath21 $ ] , north steps @xmath20 $ ] , and northeast steps @xmath463 $ ] which start at @xmath1 $ ] and end at @xmath19 $ ] .",
    "we denote the steps @xmath21 $ ] , @xmath20 $ ] and @xmath463 $ ] by @xmath4 , @xmath3 and @xmath464 respectively .",
    "the set of all the schrder - like paths from @xmath1 $ ] to @xmath19 $ ] is denoted by @xmath465 .",
    "according to @xcite , a schrder path is a path from @xmath1 $ ] to @xmath19 $ ] consisting of east steps @xmath21 $ ] , north steps @xmath20 $ ] , and northeast steps @xmath463 $ ] which never goes above the diagonal @xmath62 .",
    "the number of schrder paths from @xmath1 $ ] to @xmath19 $ ] is counted by large schrder number @xmath466 whose ordinary generating function equals @xmath467 the @xmath6-th little schrder number @xmath468 counts the number of schrder paths from @xmath1 $ ] to @xmath19 $ ] without northeast steps on the diagonal @xmath62 whose ordinary generating function equals @xmath469    here , we adopt the same definition of paired pattern for schrder - like paths .",
    "for example , in figure [ fig : schorder ] , @xmath470 .",
    "@xmath471 and @xmath472 , that is , @xmath473 .",
    "it matches our observation : @xmath11 crosses the diagonal @xmath62 ` vertically ' once and there is one east step above @xmath64 .",
    "we take pattern @xmath131 as example , @xmath474 is the number of times @xmath11 crosses the diagonal @xmath62 vertically",
    ". we shall study the ordinary generating function @xmath475 we split the discussion into two cases .",
    "case 1 are the paths in @xmath0 that start with a north step and case 2 are the path in @xmath0 that start with an east step or a northeast step .",
    "we define @xmath476 and @xmath477 clearly , @xmath478 we obtain following formulas based on recursion on where is the first time the path starting with ` @xmath4 ' or ` @xmath464 ' crosses the diagonal @xmath62 from bottom to top .",
    "@xmath479 similarly , we consider where is the first time a path starting with a north step and having no northeast steps on the diagonal crosses the diagonal ` horizontally ' .",
    "@xmath480 solving for @xmath481 , we have @xmath482        by setting @xmath162 in @xmath484 , we obtain the generating function of the number of schrder - like paths that do not cross the diagonal vertically , @xmath486 the sequence @xmath487 does not appear in the oeis @xcite .    finally , one can study pattern matching for paired patterns in both lattice paths and schrder - like paths for patterns @xmath488 of length @xmath489 .",
    "for example , based on definitions 1 and 2 and theorem 3 and 4 , one can obtain geometric interpretations for the number of @xmath488-matches in a path @xmath11 .",
    "for example , consider the two patterns @xmath490 and @xmath491 are pictured in figure [ fig : long ] .",
    "note that @xmath490 has one east step below @xmath433 and @xmath491 has a vertical crossing immediately followed by a horizontal crossing .",
    "for any path @xmath173 , @xmath492 can be interpreted as the number of east steps of @xmath11 below @xmath433 and @xmath493 can be interpreted as the number of such pairs of crossings of @xmath11 ."
  ],
  "abstract_text": [
    "<S> let @xmath0 denote the set of all paths from @xmath1 $ ] to @xmath2 $ ] which consist of either unit north steps @xmath3 or unit east steps @xmath4 or , equivalently , the set of all words @xmath5 with @xmath6 @xmath4 s and @xmath6 @xmath3 s . </S>",
    "<S> given @xmath7 and a subset @xmath8 of @xmath9 = \\{1 , \\ldots , n\\}$ ] , we let @xmath10 denote the word that results from @xmath11 by removing the @xmath12 occurrence of @xmath4 and the @xmath12 occurrence of @xmath3 in @xmath11 for all @xmath13-a$ ] , reading from left to right . then we say that a paired pattern @xmath14 occurs in @xmath11 is that there is some @xmath15 $ ] of size @xmath16 such that @xmath17 . in this paper </S>",
    "<S> , we study the generating functions of paired pattern matching in @xmath18 . </S>"
  ]
}