{
  "article_text": [
    "the structure of communication networks , in particular that of the internet , has carried much interest . the internet is a living example of a large , self organized , many - body complex system .",
    "understanding the processes that shape its topology would provide tools for engineering its future .",
    "the internet is assembled out of multiple autonomous systems ( ass ) , which are contracted by different economic agreements .",
    "these , in turn , compose the routing pathways among the ass . with some simplifications",
    ", we can represent the resulting network as a graph , where two nodes ( ass ) are connected by a link if traffic is allowed to traverse through them .",
    "the statistical properties of this `` internet graph '' , such as the clustering properties , degree distribution etc . , have been thoroughly investigated ( @xcite ) however , without proper understanding of the mechanism that led to this structure , the statistical analysis alone lacks the ability to either predict the future evolution of the internet nor to shape its evolution .    a large class of models ,",
    "a primary example is the `` preferential attachment '' model @xcite , use probabilistic rules in order to simulate the network evolution and recover some of its statistical properties , e.g. , its degree distribution . yet",
    ", these models fail to account for many other features of the network @xcite .",
    "possibly , one of the main reasons for that is they treat the ass as passive elements rather than economic , profit - maximizing entities .",
    "an agent - based approach is a promising alternative .",
    "game theory describes the behavior of interacting rational agents and the resulting equilibria , and it is one of the main tools of the trade in estimating the performance of distributed algorithms @xcite .",
    "game theory has been applied extensively to fundamental control tasks in communication networks , such as flow control @xcite , network security @xcite , routing @xcite , and wireless network design @xcite .",
    "recently , there has been increased activity in the field of _ network formation games_. these studies aim to understand the network structure that results from interactions between rational agents ( @xcite ) .",
    "different authors emphasized different contexts , such as wireless networks @xcite or the inter - as topology ( @xcite ) .",
    "the theme of such research is to investigate the equilibria s properties , e.g. , establishing their existence and obtaining bounds on the `` price of anarchy '' and  price of stability  .",
    "these metrics measure from above and below , correspondingly , the social cost deterioration at an equilibrium compared with a ( socially ) optimal solution .",
    "alternatively , agent - based simulations are used in order to obtain statistical characteristics of the resulting topology @xcite .",
    "nonetheless , the vast majority of these studies assume that the players are identical , whereas the internet is a heterogeneous mixture of various entities , such as cdns , minor isps , tier-1 ass etc .",
    "there are only a few studies that have explicitly considered the effects of heterogeneity on the network structure .",
    "some examples include @xcite , which extends a previous model of formation games for directed networks @xcite , and in the context of social networks , @xcite .",
    "most of the studies on the application of game theory to networks , with very few exceptions , e.g. , @xcite , focused on static properties of the game .",
    "this is particularly true for network formation games .",
    "however , it is not clear that the internet has reached an equilibrium . indeed , ass continuously draw new contracts , some merge with others while other quit business .",
    "in fact , a dynamic inspection of the inter - as network suggests that the system may be far from equilibrium . therefore , a _ dynamic _ study of an inter - as network formation game is needed .",
    "in addition , previous work ignores an important requirement that autonomous systems has - reliability .",
    "indeed , failures occur , and an as must face such events . while some game theoretic works addressed reliability in other contexts ( @xcite ) , to the best of our knowledge , there are no works that considered the _ topological properties _ that emerge in a _ heterogeneous , dynamic , _ network formation game with _ reliability constraints .",
    "_    we establish an analytically - tractable model , which explicitly accounts for the heterogeneity of players as well as reliability requirements .",
    "we base our model on the heralded fabrikant model ( @xcite ) .",
    "we model the inter - as connectivity as a network formation game with _ heterogeneous _ players that may share costs by monetary transfers .",
    "we account for the inherent bilateral nature of the agreements between players , by noting that the establishment of a link requires the agreement of both nodes at its ends , while removing a link can be done unilaterally .",
    "as reliability comes into play , agents may require to be connected to other agents , or to all the other agents in the network , by at least two disjoint paths .",
    "we investigate both the static properties of the resulting game as well as its _ dynamic evolution_.    game theoretic analysis is dominantly employed as a `` toy model '' for contemplating about real - world phenomena .",
    "it is rarely confronted with real - world data . in this study",
    "we go a step further from traditional formal analysis , and we do consider real inter - as topology data analysis to support our theoretical findings .",
    "the main contributions of this paper , which summarizes the findings in ( @xcite ) , are as follows :    * we evaluate static properties of the considered game , such as the prices of anarchy and stability and characterize additional properties of the equilibrium topologies .",
    "we introduce the concept of _ price of reliability _ , which is defined as the ratio of the social cost with reliability constraints to the social cost with no such additional constraints .",
    "surprisingly , we show that this price can be smaller than one , namely , that the additional reliability requirements may increase the social utility .",
    "* we discuss the dynamic evolution of the inter - as network , and calculate convergence rates and basins of attractions for the different final states .",
    "our findings provide useful insight towards incentive design schemes for achieving optimal configurations .",
    "our model predicts the possible evolvement of some early emerging minor players ( say , regional isps ) to a major player , e.g. , a tier-1 or tier-2 ass , and the existence of a _ settlement - free _ clique , and that most of the other contracts between players include monetary transfers .",
    "* we provide dynamical analysis of topological quantities , and explain the prevalence of some `` _ _ network motifs _ _ '' , i.e. , sub - graphs that appear frequently in the network . through real - world data , we provide encouraging support to our predictions .    in the next section , we describe our model .",
    "we discuss multiple variants , corresponding to whether utility transfers ( e.g. , monetary transfers ) are allowed or not , and whether reliability constraints are in effect . in section 3 , we provide static analysis .",
    "dynamic analysis is presented in section 4 . in section 5",
    "we compare our theoretical predictions with real - world data on inter - as topologies .",
    "finally , conclusions are presented in section 6 .",
    "we assume that each as is a player .",
    "while there are many types of players , we aggregate them into two types : _ major league _ ( or t__ype - a _ _ ) players , such as major isps , central search engines and the likes , and _ minor league _ ( or _ type - b _ ) players , such as local isp or small enterprises .",
    "each player , regardless of its type , may form contracts with other players , and should they reach a mutual understanding , a link between them is formed . a player s strategy is set by specifying which links it is interested in establishing , and , if permissible , the price it will be willing to pay for each .",
    "we denote the set of type - a ( type b ) player by @xmath0 ( @xmath1 ) .",
    "a link connecting node @xmath2 to node @xmath3 is denoted as either @xmath4 or @xmath5 .",
    "the total number of players is @xmath6 , and we assume @xmath7 .",
    "the _ shortest distance _ between nodes @xmath2 and @xmath3 is the minimal number of hops along a path connecting them and is denoted by @xmath8 .",
    "finally , the degree of node @xmath2 is denoted by @xmath9 and the connected component of @xmath2 , given the set of links @xmath10 is @xmath11 .",
    "our cost function is based on the cost structure in @xcite and @xcite .",
    "players are penalized for their distance from other players .",
    "first and foremost , players require a good , fast connection to the major players , while they may relax their connection requirements to minor players .",
    "bandwidth usage and delay depends heavily on the hop distance , and connection quality is represented by this metric .",
    "we weight the relative importance of a major player by a factor @xmath12 in the cost function in the corresponding distance term .",
    "the link prices represent factors such as the links maintenance costs , bandwidth allocation costs etc .",
    "different player types may incur different link costs , @xmath13 , due to varying financial resources or infrastructure .",
    "formally , the ( dis-)utility of players is represented as follows .    _",
    "( basic mode ) _ the cost function,@xmath14 , of node @xmath2 of type @xmath15 , is defined as:[cost - definition ] @xmath16    where @xmath12 represents the relative importance of class a nodes over class b nodes .",
    "then , the _ social cost _ is defined as @xmath17 .    set @xmath18 .",
    "we assume @xmath19 the optimal ( minimal ) social cost is denoted as @xmath20 ( for brevity , @xmath21 ) .",
    "we denote the the social cost at the optimal stable solution as @xmath22 .",
    "the _ price of stability _ is the ratio between the social cost at the best stable solution and its value at the optimal solution , namely @xmath23 .",
    "similarly , denote by @xmath24 the highest social cost in an equilibrium .",
    "then , the _ price of anarchy _ is the ratio between the social cost at the worst stable solution and its value at the optimal solution , namely @xmath25 .",
    "we denote the change in cost of player @xmath2 as after the addition ( removal ) of a link @xmath26 by @xmath27 .",
    "the establishment of a link requires the bilateral agreement of the two parties at its ends , while removing a link can be done unilaterally .",
    "this is known as a _ pairwise - stable _ equilibrium @xcite .",
    "the players strategies are _ pairwise - stable _ if for all @xmath28 , the following hold :    \\a ) if @xmath29 , then @xmath30 ;    \\b ) if @xmath31 , then either @xmath32 or @xmath33 .",
    "the resulting graph is referred to as a _ stabilizable _ graph .    in many cases",
    ", ass must maintain access to the internet in case of a single link failure .",
    "this is tantamount to the requirement that all the players must have at least two _ link disjoint _",
    "paths to each other node .",
    "if survivability constraints are in effect , we generalize the basic model by modifying the distance term in the cost function , and adding a term representing the distance along the backup path .",
    "nevertheless , if either link prices are high , crash frequencies are low or the content of a minor as is of little value , players may relax their reliability requirements and demand the establishment of disjoint paths only to the major players .",
    "this is represented by a binary parameter @xmath34 , which is set to one if two disjoint paths are required to all nodes , and zero if the reliability requirement holds for major players only .",
    "the relative weight of the primary path and the backup path is set by the parameter @xmath35 if failures are often , then the regular and backup paths ( in the corresponding pair of link - disjoint paths ) are used almost as frequently . as such",
    ", they must be weighted the same in the cost function . in this case",
    ", the likelihood of using either route is the same , and @xmath36 .",
    "conversely , if failures are rare , traffic will be mostly carried across the shorter path .",
    "therefore , its length should carry more weight in the cost than the length of the backup route , hence @xmath37 .    _",
    "( cost function under survivability constraints ) _ the cost function , @xmath38 , of node @xmath2 @xmath39    where @xmath8 and @xmath40 are the lengths of a pair of paths between @xmath41 that minimizes the cost function .",
    "@xmath8 denotes the length of the shorter path .",
    "formally , denote a pair of disjoint paths connecting player @xmath2 and player @xmath3 as @xmath42 , where @xmath43 @xmath44 is the length of shorter ( correspondingly , longer ) path .",
    "set @xmath45 then @xmath46 and @xmath47 .",
    "we denote the change in cost of player @xmath2 as after the addition ( removal ) of a link @xmath26 by @xmath27 ( correspondingly , @xmath48 ) . the abbreviation @xmath49 is often used .    if @xmath36 , then the two routing pathways are used the same . in this case ,",
    "the shortest cycle length @xmath50 is the relevant quantity that appears in the cost function .",
    "this can be found in polynomial time by suurballe s algorithm ( @xcite ) .",
    "however , if @xmath37 , routing will occur along two disjoint paths , such that the length of the shortest between the two is shortest ( among all pairs of disjoint paths ) .",
    "although the complexity of finding this pair is np - hard , first finding the shortest path and then finding the next shortest path is a heuristic that works remarkably well , both in the real - world data analysis and on the networks obtained in the theoretical discussion .",
    "the reason behind this is that , when failures are rare , information is predominantly routed along the shortest path .",
    "when players are required to establish a fall - back route , they will establish a path that is disjoint from the _ current _ routing path , namely the shortest one .",
    "the additional reliability requirements result in additional link expenses , as for example , the degree of every node needs to be at least two .",
    "the _ price of reliability _ is the ratio between the optimal social cost under the additional survivability constraint to the optimal social cost when the additional constraints are removed .",
    "the _ price of reliability _ ( _ por ) _ is the ratio between the optimal value of the social costs among the set of corresponding stable equilibria , @xmath51 .",
    "surprisingly , we shall show that there exist scenarios in which reliability requirements _ increase _ the social utility , so that the price of reliability can be smaller than one .      in the above formulation",
    ", we have implicitly assumed that players may not transfer utilities",
    ". however , often players are able to do so , in particular via monetary transfers .",
    "we incorporate such possibility by introducing an extended model , allowing for a monetary transaction in which player @xmath2 pays player @xmath3 some amount @xmath52 iff the link @xmath53 is established .",
    "player @xmath3 sets some minimal price @xmath54 and if @xmath55 the link is formed .",
    "the corresponding change to the cost function is as follows .",
    "[ monetary cost definition]the cost function of player @xmath2 when monetary transfers are allowed is @xmath56 .    in this definition",
    "the cost @xmath57 may be either @xmath58 or @xmath59 .",
    "note that the social cost remains the same as in def .",
    "[ monetary cost definition ] as monetary transfers are canceled by summation .",
    "monetary transfers allow the sharing of costs . without transfers ,",
    "a link will be established only if _ both _ parties , @xmath2 and @xmath3 , reduce their costs , @xmath60 and @xmath61 .",
    "consider , for example , a configuration where @xmath62 and @xmath33 .",
    "it may be beneficial for player @xmath2 to offer a lump sum @xmath52 to player @xmath3 if the latter agrees to establish @xmath4 .",
    "this will be feasible only if the cost function of both players is reduced .",
    "it immediately follows that if @xmath63 then there is a value @xmath52 such that this condition is met .",
    "hence , it is beneficial for both players to establish a link between them . in a game",
    "theoretic formalism , if the _",
    "core _ of the two players game is non - empty , then they may pick a value out of this set as the transfer amount . likewise ,",
    "if the core is empty , or @xmath64 , then the best response of at least one of the players is to remove the link , and the other player has no incentive to offer a payment high enough to change the its decision .",
    "formally :    in the remainder of the paper , whenever monetary transfers are feasible , we will state it explicitly , otherwise the basic model ( without transfers or survivability constraints ) is assumed .",
    "in this section we discuss the properties of stable equilibria . specifically , we first establish that , under certain conditions , the major players group together in a clique ( section [ sub : the - type - a - clique ] ) .",
    "we shall further discuss topological properties that emerge from our analysis ( section [ sub : pair - wise - equilibria ] ) .    as a metric for the quality of the solution we apply the commonly used measure of the social cost , which is the sum of individual costs .",
    "we evaluate the _ price of anarchy _ , which is the ratio between the social cost at the worst stable solution and its value at the optimal solution , and the _ price of stability _ , which is the ratio between the social cost at the best stable solution and its value at the optimal solution ( section [ sub : poa and pos ] ) .",
    "we introduce utility transfers in section [ sec : monetary - transfers ] , and consider the impact of survivability requirements on the prices of stability and anarchy in section [ sub : static - survivability ] .",
    "our goal is understanding the resulting topology when we assume strategic players and myopic dynamics .",
    "obviously , if the link s cost is extremely low , every player would establish links with all other players @xcite .",
    "the resulting graph will be a clique .",
    "this is not a realistic setting .",
    "if two nodes are at a distance @xmath65 of each other , then there is a path with @xmath66 nodes connecting them . by establishing a link with cost @xmath67",
    ", we are shortening the distance between the end node to @xmath68 nodes that lay on the other side of the line .",
    "the average reduction in distance is also @xmath69 , so by comparing @xmath70 we obtain a bound on @xmath66 , as follows :    [ lem : the - longest - distance]the longest distance between any node @xmath2 and node @xmath71 is bounded by @xmath72 .",
    "the longest distance between nodes @xmath73 is bounded by @xmath74 .",
    "in addition , if @xmath75 then there is a link between every two type - a nodes .",
    "assume @xmath76 and @xmath77 .",
    "then there exist nodes @xmath78 such that @xmath79 . by adding a link @xmath4 the change in cost of node @xmath2",
    ", @xmath80 is , according to lemma [ lem : shortcut benefit ] in the appendix , @xmath81 where @xmath82 is the distance after the addition of the link @xmath4 and @xmath83 iff @xmath84 .",
    "therefore , it is of the interest of player @xmath2 to add the link .    consider the case that @xmath85 and @xmath86 the change in cost after the addition of the link @xmath4 is @xmath87    therefore it is beneficial for player @xmath2 to establish the link .",
    "similarly , if @xmath88 then eq . [ eq : distance ] is replaced by @xmath89 .    in particular , if we do not omit the @xmath90 term and set @xmath91 we get that if @xmath92 the distance between two type - a nodes is smaller than 2 , in other words , they connected by a link .",
    "the latter expression can be recast to the simple form @xmath93 .    recall that if the cost of both parties is reduced ( the change of cost of node @xmath3 is obtained by the change of summation to @xmath94 ) a link connecting them will be formed .",
    "therefore , if @xmath95 then maximal distance between then is @xmath96 as otherwise it would be beneficial for both @xmath41 to establish a link that will reduce their mutual distance to @xmath97 likewise , if @xmath73 then @xmath98 using an analogous reasoning .",
    "if @xmath88 and @xmath71 then it ll be worthy for player @xmath2 to establish the link only if @xmath99 . in this case",
    "it ll be also worthy for player @xmath3 to establish the link since @xmath100 and the link will be established .",
    "notice however that if @xmath101 then although it is worthy for player @xmath3 to establish the link , it is is nt worthy for player @xmath2 to do so and the link wo nt be established .",
    "this concludes our proof .",
    "lemma [ lem : the - longest - distance ] indicates that if @xmath102 then the type @xmath103 nodes will form a clique ( the `` nucleolus '' of the network ) .",
    "the type @xmath104 nodes form structures that are connected to the type @xmath103 clique ( the network nucleolus ) .",
    "these structures are not necessarily trees and will not necessarily connect to a single point of the type - a clique only .",
    "this is indeed a very realistic scenario , found in many configurations .",
    "we shall compare this result to actual data on the inter - as interconnection topology in section [ sec : data - analysis ] .    if @xmath105 then the type - a clique is no longer stable .",
    "this setting does not correspond to the observed nature of the as topology and we ll focus in all the following sections on the case @xmath102 .      here",
    "we describe common properties of all pair - wise equilibria .",
    "we start by noting that , unlike the findings of several other studies @xcite , in our model , at equilibrium , the type - b nodes are not necessarily organized in trees .",
    "this is shown in the next example .",
    "non optimal networks .",
    "the type - a clique is in blue squares , the type - b players are in red circles .",
    "a ) the network described in example [ example ] .",
    "b ) [ fig : a - poor - equilibrium]a poor equilibrium , as described in @xcite . ]",
    "[ example]assume for simplicity that @xmath106 .",
    "consider a line of length @xmath107 of type b nodes , @xmath108 such that @xmath109 or equivalently @xmath110 .",
    "in addition , the links @xmath111 and @xmath112 exist , where @xmath113 , i.e. , the line is connected at both ends to different nodes of the type - a clique , as depicted in fig [ fig : loop example ] . in @xcite",
    "we show that this is a stabilizable graph .",
    "we show that this structure is stabilizable . for simplicity ,",
    "assume @xmath114 ( @xmath107 is odd and @xmath115 is odd ) .    a line of @xmath116 nodes . by removing the link @xmath117 only the distances from player 1 to the yellow players",
    "are affected . by establishing the link",
    "@xmath118 only the distances from player @xmath119 to the players encircled by the purple dashed ellipse are affected . ]",
    "any link removal @xmath120 in the circle @xmath121 will result in a line with nodes @xmath122 and @xmath123 at its ends ( fig .",
    "[ fig : example ] ) .",
    "we now show that if it beneficial for player @xmath2 to remove the edge @xmath124 for @xmath125 , then it is also true that it is beneficial for node @xmath126 to remove the edge @xmath127 . for player @xmath2 ,",
    "the removal of the edge @xmath124 affects only the distance to the other players on the loop .",
    "this is also true for node @xmath126 and the removal of the edge @xmath127 .",
    "denote the distances after the removal of the edge @xmath124 by @xmath128 .",
    "a simple geometrical observation shows that @xmath129    for every @xmath130 . in other words ,",
    "the increase in the distance cost for node @xmath2 after the removal of @xmath124 is greater than the additional distance cost of player @xmath126 after the removal of the edge @xmath127 .",
    "therefore , the type - b players that have the most incentive to disconnect a link are either node @xmath131 or node @xmath107 ( fig .",
    "[ fig : example ] ) .",
    "therefore , if players @xmath131 or @xmath107 would not deviate , no type - b player will deviate as well .",
    "w.l.o.g , we discuss node 1 .",
    "since @xmath132 , it is not beneficial for it to disconnect the link @xmath111 . assume the link @xmath117 is removed .",
    "a simple geometric observation shows that the distance to nodes @xmath133 is affected , while the distance to all the other nodes remains intact ( fig .",
    "[ fig : example ] ) .",
    "the mean increase in distance is @xmath134 and the number of affected nodes is @xmath134 .",
    "however , @xmath135 and player @xmath131 would prefer the link to remain .",
    "the same calculation shows that it is not beneficial for player @xmath136 to disconnect @xmath111 .    clearly , if it not beneficial for @xmath137 to establish an additional link to a type - b player then it is not beneficial to do so for @xmath136 or @xmath138 as well . the optimal additional link connecting @xmath3 and a type - b player is @xmath139 , that is , a link to the middle of the ring ( fig .",
    "[ fig : example ] ) .",
    "a similar geometric observation shows that by establishing this link , only the distances to nodes @xmath140 are affected ( fig .",
    "[ fig : example ] ) .",
    "the reduction in cost is @xmath141    and it is not beneficial to establish the link .    in order to complete the proof ,",
    "we need to show that no additional type - b to type - b links will be formed . by establishing such link ,",
    "the distance of at least one of the parties to the type - a clique is unaffected .",
    "the previous calculation shows that by adding such link the maximal reduction of cost due to shortening the distance to type - b players is bounded from above by @xmath142 .",
    "therefore , as before , no additional type - b to type - b links will be formed .",
    "this completes the proof that this structure is stabilizable .",
    "next , we bound from below the number of equilibria . for simplicity",
    ", we discuss the case where @xmath106 .",
    "we accomplish that by considering the number of equilibria where the type - b players are organized in a forest ( multiple trees ) and the allowed forest topologies .",
    "the following lemma restricts the possible sets of trees in an equilibrium .",
    "intuitively , this lemma states that we can not have two `` heavy '' trees , `` heavy '' meaning that there is a deep sub - tree with many nodes , as it would be beneficial to make a shortcut between the two sub - trees .",
    "node @xmath3 is on the third level of the tree of formed by starting a bfs from node @xmath2 , as discussed in lemma [ lem : subtree ] .",
    "the forest of type - b nodes is composed of two trees , in yellow and red ( lemma [ lem : forest sub - graph ] ) .",
    "their roots are @xmath2 and @xmath143 correspondingly .",
    "the maximal depth in this forest is three . ]",
    "[ lem : subtree]assume @xmath106 .",
    "consider the bfs tree formed starting from node @xmath144 assume that node @xmath3 is @xmath107 levels deep in this tree .",
    "denote the sub - tree of node @xmath3 in this tree by @xmath145 ( fig .",
    "[ fig : forest ] ) in a link stable equilibrium , the number of nodes in sub - trees satisfy either    assume @xmath146 . consider the change in cost of player @xmath2 after the addition of the link @xmath4 @xmath147    since the distance was shorten by @xmath107 for every node in the sub - tree of @xmath3 .    therefore , it is beneficial for player @xmath2 to establish the link . likewise ,",
    "if @xmath148 then it would be beneficial for player @xmath3 to establish the link and the link will be established .",
    "hence , one of the conditions must be violated .",
    "the following lemma considers the structure of the type - b players sub - graph .",
    "it builds on the results of lemma [ lem : subtree ] to reinforce the restrictions on trees , showing that trees must be shallow and small .",
    "[ lem : forest sub - graph]assume @xmath106 . if the sub - graph of type - b nodes is a forest ( fig .",
    "[ fig : forest ] ) , then there is at most one tree with depth greater than @xmath149 and there is at most one tree with more than @xmath150 nodes .",
    "the maximal depth of a tree in the forest is @xmath151 .",
    "every type - b forest in which every tree has a maximal depth of @xmath152 and at most @xmath153 nodes is stabilizable .",
    "assume there are two trees @xmath154 that have depth greater than @xmath149 .",
    "the distance between the nodes at the lowest level is greater than @xmath155 as the trees are connected by at least one node in the type - a clique , @xmath156 ( fig .",
    "[ fig : forest ] ) .",
    "this contradicts with lemma [ lem : the - longest - distance ] .",
    "assume there are two trees @xmath154 with roots @xmath41 that have more than @xmath150 nodes . in the bfs tree",
    "in which node @xmath2 is the root , node @xmath3 is at least in the second level ( as they are connected by at least one node in the type - a clique ) .",
    "this contradicts with lemma [ lem : subtree ] .    finally , following the footsteps of lemma [ lem : subtree ] proof ,",
    "consider two trees @xmath157 and @xmath158 , with corresponding roots @xmath2 and @xmath3 ( i.e. , nodes @xmath2 and @xmath3 have a direct link with the type - a clique ) . consider a link @xmath159 , where @xmath160 and @xmath161 .",
    "at least one of them does not reduce its distance to the type - a clique by establishing this link .",
    "w.l.o.g , we ll assume this is true for player @xmath162 .",
    "therefore , @xmath163    as the maximal reduction in distance is @xmath164 and the maximal number of nodes in @xmath158 is also @xmath164 .",
    "therefore , it is not beneficial for player @xmath162 to establish this link , and the proof is completed .",
    "finally , the next proposition provides a lower bound on the number of link - stable equilibria by a product of @xmath165 and a polynomial with a high degree ( @xmath166 ) in @xmath167 .",
    "assume @xmath106 .",
    "the number of link - stable equilibria in which the sub - graph of @xmath1 is a forest is at least @xmath168 , where @xmath169 is a function of @xmath67 only .",
    "therefore , the number of link - stable equilibria is at least    we bound the number of link - stable equilibria from below by considering the number of link - stable graph , in which the minor players are organized in trees of up to depth @xmath149 and exactly @xmath164 nodes .",
    "the number of such trees can be bounded from below by the number of trees with @xmath164 elements , depth @xmath149 and only one non - leaf node at each level of tree , which is @xmath170    therefore , the minor players can be organized in at least @xmath171 different configurations . using striling s approximation",
    ", we have @xmath172 .",
    "each tree can be connected to either one of the type - a nodes , and therefore the number of possible configurations is at least @xmath168 .    to sum up ,",
    "while there are many equilibria , in all of them nodes can not be too far apart , i.e. , a small - world property .",
    "furthermore , the trees formed are shallow and are not composed of many nodes .      as there are many possible link - stable equilibria , a discussion of the price of anarchy is in place .",
    "first , we explicitly find the optimal configuration . although we establish a general expression for this configuration , it is worthy to also consider the limiting case of a large network , @xmath173 .",
    "moreover , typically , the number of major league players is much smaller than the other players , hence we also consider the limit @xmath174 .",
    "[ fig : the - optimal - state - monetary transfers][fig : optimal and stable]the optimal solution , as described in lemma [ lem : optimal solution ] . if @xmath175 the optimal solution is described by a ) , otherwise by b ) .",
    "when monetary transfers ( section [ sec : monetary - transfers ] ) are allowed , both configurations are stabilizable .",
    "otherwise , only a ) is stabilizable . ]",
    "[ lem : optimal solution]consider the network where the type @xmath104 nodes are connected to a specific node @xmath85 of the type - a clique .",
    "the social cost in this stabilizable network ( fig .",
    "[ fig : the - optimal - solution-1](a ) ) is @xmath176    furthermore , if @xmath173 then , omitting linear terms in @xmath177 , @xmath178 moreover , if @xmath179 then this network structure is socially optimal and the price of stability is @xmath131 , otherwise the price of stability is @xmath180    finally , if    this structure is immune to removal of links as a disconnection of a @xmath181 link will disconnect the type - b node , and the type - a clique is stable ( lemma [ lem : the - longest - distance ] ) . for every player @xmath3 and @xmath77 , any additional link @xmath4 will result in @xmath182 since the link only reduces the distance @xmath8 from 2 to 1 . hence , player @xmath3 has no incentive to accept this link and no additional links will be formed .",
    "this concludes the stability proof .",
    "we now turn to discuss the optimality of this network structure .",
    "first , consider a set of type - a players .",
    "every link reduce the distance of at least two nodes by at least one , hence the social cost change by introducing a link is negative , since @xmath183 .",
    "therefore , in any optimal configuration the type - a nodes form a complete graph .",
    "the other terms in the social cost are due to the inter - connectivity of type - b nodes and the type - a to type - b connections .",
    "as @xmath184 for all @xmath77 the cost due to link s prices is minimal . furthermore , @xmath185 and the distance cost to node @xmath3 ( of type a ) is minimal as well . for all other nodes",
    "@xmath119 , @xmath186 .",
    "assume this configuration is not optimal .",
    "then there is a _ topologically different _ configuration in which there exists an additional node @xmath187 for which @xmath188 for some @xmath77 .",
    "hence , there s an additional link @xmath4 .",
    "the social cost change is @xmath189 .",
    "therefore , if @xmath179 this link reduces the social cost .",
    "on the other hand , if @xmath190 every link connecting a type - b player to a type - a player improves the social cost , although the previous discussion show these link are unstable . in this case , the optimal configuration is where all type - b nodes are connected to all the type - a players , but there are no links linking type - b players .",
    "this concludes the optimality proof .",
    "the cost due to inter - connectivity of type a nodes is    @xmath191    the first expression is due to the cost of @xmath165 clique s links and the second is due to distance ( = 1 ) between each type - a node .",
    "the distance of each type b nodes to all the other nodes is exactly 2 , except to node @xmath3 , to which its distance is 1 .",
    "therefore the social cost due to type b nodes is @xmath192    the terms on the left hand side are due to ( from left to right ) the distance between nodes of type b , the cost of each type - b s single link , the cost of type - b nodes due to the distance ( = 2 ) to all member of the type - a clique bar @xmath3 and the cost of type @xmath104 nodes due to the distance ( = 1 ) to node @xmath3 .",
    "the social cost is @xmath193    to complete the proof , note that if @xmath190 the latter term in the social cost of the optimal ( and unstable ) solution is @xmath194    as the number of links is @xmath195 and the distance of type - b to type - a nodes is 1 .",
    "the optimal social cost is then @xmath196    considering all quantities in the limit @xmath174 completes the proof .",
    "next , we evaluate the price of anarchy . in order to do that",
    ", we use the following two lemmas .",
    "the first lemma evaluates a lower bound by considering the social cost in the stabilizable topology presented in fig [ fig : a - poor - equilibrium](b ) , composed of a type - a clique and long lines of type - b players .",
    "later on , an upper bound is obtained by examining the social cost in any topology that satisfies lemma [ lem : the - longest - distance ] .    for simplicity , in the following lemma",
    "we assume that @xmath197 where @xmath198 and @xmath199 .",
    "consider the network where the type b nodes are composed of @xmath200 long lines of length @xmath201 , and all the lines are connected at @xmath85 .",
    "the total cost in this stabilizable network is @xmath202    if @xmath173 then @xmath203    first , for the same reason as in prop .",
    "[ lem : optimal solution ] , this network structure is immune to removal of links .",
    "consider @xmath204 .",
    "let us observe the chain @xmath205 where @xmath206 .",
    "clearly , the most beneficial link in @xmath119 concern is @xmath207 . by establishing it ,",
    "its cost s change is @xmath208 by lemma [ lem : shortcut benefit ] and noting the distance to player @xmath3 is unaffected .",
    "therefore there is no incentive for player @xmath119 to add the link @xmath207 .",
    "the same calculation indicates that no additional link @xmath209 will be formed between two nodes on the same line .",
    "consider two lines of length @xmath107 , @xmath210 and @xmath211 .",
    "consider the addition of the link @xmath212 .",
    "that is , the addition of a link from an end of one line to the middle player on another line .",
    "this link is optimal in @xmath213s concern , as it minimizes the sum of distances from it to players on the other line .",
    "the change in cost is ( see appendix ) @xmath214    for any other player @xmath215 in the line @xmath210 we have @xmath216 since the player that gains the most from establishing a link to a node on the another line is the player that is furthest the most from that line , i.e. , the player at the end of the line .",
    "this concludes the stability proof .",
    "the total cost due to type - b nodes is @xmath217 the terms represent ( from left to right ) the links cost , the cost due to the type - b players distances to the type - a clique s nodes ( except @xmath3 ) , the cost due to the type - b players distances from node @xmath3 , the cost due to intra - line distances and the cost due inter - lines distances . by using the relation",
    "@xmath218 we have @xmath219    the total cost due to type - a is as before @xmath220    therefore , @xmath221    the most prevalent situation is when @xmath174 . in this case",
    "we can bound the price of anarchy to be at least @xmath222 .",
    "the next lemma bounds the price of anarchy from above by bounding the maximal total cost in the a link - stable equilibrium .",
    "[ lem : the - worst - social utility]the worst social utility in a link stable equilibrium is at most @xmath223    the total cost due to the inter - connectivity of the type - a clique is identical for all link stable equilibria and is @xmath224 .",
    "the maximal distance between nodes @xmath41 according to lemma [ lem : the - longest - distance ] is @xmath225 and therefore the maximal cost due to the distances between type - b nodes is @xmath226 .",
    "likewise , the maximal cost due to the distance between type - b nodes and the type - a clique is @xmath227 . finally , the maximal number of links between type - b nodes is @xmath228 and the total cost due to this part is @xmath229 .",
    "adding all the terms we obtain the required result .",
    "to summarize , we state the previous results in a proposition .",
    "[ thm : summary - of - results]if @xmath132 and @xmath174 the price of anarchy is @xmath230 .",
    "monetary transfers allow for a redistribution of costs .",
    "it is well known in the game theoretic literature that , in general , this process increases the social welfare.indeed , the next lemma , shows that in this setting , the maximal distance between players is smaller , compared to lemma [ lem : the - longest - distance ] .",
    "allowing monetary transfers , the longest distance between nodes i,@xmath71 is @xmath231 .",
    "the longest distance between nodes @xmath73 is bounded by @xmath232 the longest distance between node @xmath88 and node @xmath71 is bounded by @xmath233    assume @xmath234 and @xmath71 .",
    "then there exist nodes @xmath235 such that @xmath236 . by adding a link @xmath4 the change in cost of node @xmath2 is , according to lemma [ lem : the - longest - distance ] is    @xmath237    therefore",
    ", it is of the interest of player @xmath2 to add the link .    consider the case that @xmath85 and @xmath238 the change in cost after the addition of the link @xmath4 is @xmath239    if @xmath95 then @xmath240    for @xmath241 and the link will be established .    likewise , if @xmath73 and @xmath242 the link @xmath4 will be formed .    if @xmath88 , @xmath71 and @xmath243 then @xmath244    this concludes our proof .",
    "indeed , the next proposition indicates an improvement on proposition [ lem : optimal solution ] .",
    "specifically , it shows that the optimal network is always stabilizable , even when @xmath190 . without monetary transfers , the additional links in the optimal state ( shown in @xcite ) ( fig .",
    "[ fig : the - optimal - state - monetary transfers ] ) , connecting a major league player with a minor league player , are unstable as the type - a players lack any incentive to form them . by allowing monetary transfers",
    ", the minor players can compensate the major players for the increase in their costs .",
    "it is worthwhile to do so only if the social optimum of the two - player game implies it .",
    "the existence or removal of an additional link does not inflict on any other player , as the distance between every two players is at most two .     .",
    "this network is stabilizable iff utility transfer is allowed , as discussed in prop .",
    "[ lem : optimal solution ] and prop .",
    "[ prop : optimality under monetary ] . ]    [ prop : optimality under monetary ] if @xmath245 then proposition [ lem : optimal solution ] holds .",
    "furthermore , if @xmath190 , then the optimal stable state is such that all the type @xmath104 nodes are connected to all nodes of the type - a clique . in the latter case ,",
    "the social cost of this stabilizable network is @xmath246 furthermore , if @xmath173 then , omitting linear terms in @xmath177 , @xmath247    for the case @xmath248 , it was shown in prop .",
    "[ lem : optimal solution ] that the optimal network is a network where all the type @xmath104 nodes are connected to a specific node @xmath85 of the type - a clique ( fig .",
    "[ fig : the - optimal - state - monetary transfers](a ) ) and that this network is stabilizable .",
    "therefore , we only need to address its stability under monetary transfers .",
    "we apply the criteria described in corollary [ lem : edges with monetary transfers . ] and show that for every two players @xmath249 such that @xmath250 we have @xmath251    if @xmath77",
    "then @xmath252    if @xmath88 we have that @xmath253    then , for @xmath77 and either @xmath187 or @xmath254 we have @xmath255 and the link would not be established . for every edge @xmath256 we have that both @xmath62 and @xmath257 ( prop .",
    "[ lem : optimal solution ] ) and therefore @xmath258    assume @xmath190 .",
    "it was shown in proposition [ lem : optimal solution ] that the optimal network is a network where every type @xmath104 player is connected to all the members of the type - a clique ( fig .",
    "[ fig : the - optimal - state - monetary transfers](b ) ) . under monetary transfers , this network is stabilizable , since for for @xmath77 , @xmath85 @xmath259    and the link @xmath4 will be formed .",
    "the previous discussion shows that it is not beneficial to establish links between two type - b players .",
    "therefore , this network is stabilizable .    in conclusion , in both cases , the price of stability is 1 .",
    "next , we show that , under mild conditions on the number of type - a nodes , the price of anarchy is @xmath260 , i.e. , _ a fixed number _ that does not depend on any parameter value . as the number of major players increases , the motivation to establish a direct connection to a clique member increases , since such a link reduces the distance to all clique members . as the incentive increases , players are willing to pay more for this link , thus increasing , in turn , the utility of the link in a major player s perspective",
    ". with enough major players , all the minor players will establish direct links .",
    "therefore , any stable equilibrium will result in a very compact network with a diameter of at most three .",
    "this is the main idea behind the following lemma and theorem .",
    "assume @xmath261 , where @xmath77 and @xmath85 but node @xmath3 is not the nearest type - a node to _ i_. therefore , there exists a series of nodes @xmath262 such that @xmath263 is a member of the type - a clique .",
    "the change in player @xmath3 s cost by establishing @xmath4 is @xmath264    the corresponding change in player @xmath2 s cost is @xmath265    the first term is the link cost , the second and third terms are due to change of distance from players @xmath266 and the last term express the change of distance form the rest of the type - a clique . as @xmath267",
    "the total change in cost is @xmath268    for @xmath269    note that as the number of member in the type - a clique , @xmath270 , increases , the right expression goes to 0 , in contradiction to our initial assumption .",
    "therefore , in the large network limit the maximal distance of a type - b node from a node in the type - a clique is 2 . in this case",
    ", the maximal distance between two type - a nodes is 1 ( as before ) , between type - a and type - b nodes is 2 and between two type - b nodes is 3 .",
    "the maximal social cost in an equilibrium is @xmath271    for @xmath173 we have @xmath272    comparing this with the optimal cost in this limit @xmath273    we obtain the required result .",
    "this theorem shows that by allowing monetary transfers , the maximal distance of a type - b player to the type - a clique depends inversely on the number of nodes in the clique and the number of players in general .",
    "the number of ass increases in time , and we may assume the number of type - a players follows .",
    "therefore , we expect a decrease of the mean `` node - core distance '' in time .",
    "our data analysis ( section [ sec : data - analysis ] ) indicates that this real - world distance indeed decreases in time .",
    "one may have guessed that reliability requirements , which generally induce the creation of additional , backup edges , would ease the formation of the clique .",
    "the next proposition shows that this naive assumption is wrong , and in fact , as the frequency of failure increases , it becomes increasingly difficult to maintain the major player s clique .",
    "consider a dense set , in which every player may access all the other players within two hops by a at least two disjoint paths .",
    "a direct link between two players only reduces their mutual distance by one , and does not affect any other distance . if this link fails often , it may be used only partially , and it may not be worthy to pay its cost . hence , in this setting , counter intuitively , frequent failures end up with a sparser network .",
    "[ prop : clique - reliability]assume the frequency of failures is high , namely @xmath274 then , the type - a players form a clique if and only if @xmath275 . allowing monetary transfers does not change the result .",
    "we consider a major player s clique and ask under which conditions the removal of a link is a worthy move . consider an edge @xmath4 in this clique .",
    "since only the shortest distance between players @xmath2 and @xmath3 is affected , and is increased by one , the type - a players clique is stable if and only if @xmath276 .",
    "the next proposition describes a scenario in which , surprisingly , the additional reliability constraints _ reduce _ the social cost .    [ lem : reliable optimal 1 ] assume @xmath277 and symmetric reliability requirements , namely @xmath278 .",
    "then , the optimal network is composed of a type - a clique , where all the type @xmath104 nodes are connected to all members of the type - a clique , as depicted in fig .",
    "[ fig : the - optimal - solution ] .",
    "this network is not stabilizable , and @xmath279 . nevertheless , for @xmath174 , we have @xmath280 . in addition , the price of reliability is smaller than one .",
    "the main idea behind this result is that in the optimal , yet unstable solution , every minor player established a link with all the major players ( fig .",
    "[ fig : the - optimal - solution ] ) .",
    "this configuration is unstable as it is over - saturated with links , and the optimal stable solution with survivability considerations is obtained by diluting this network so that every minor player will connect to just two major players . if the reliability requirements are further removed , then the additional dilution occurs , increasing the social cost . in other words ,",
    "the stable configuration is under - saturated with edges , and the additional survivability requirements facilitate the formation of additional links .",
    "  we shall now prove the first part of this theorem , namely that the network described in fig . [",
    "fig : the - optimal - solution ] , is optimal in terms of social cost . in this network",
    ", every type - b player is connected to every type - a player .",
    "we denote this network by @xmath281    first , consider a network in which the type - a players are not in a clique .",
    "similar to proposition [ prop : clique - reliability ] , there exists two players @xmath73 such that @xmath156 . by establishing a link @xmath4",
    "the change in social cost is @xmath282 therefore a network which includes this link has a lower social cost .",
    "hence , in the optimal network , all the type - a players are in clique .",
    "a similar calculation for a missing link between player @xmath88 and @xmath71 shows that @xmath283    and establishing this link reduces the social cost as well . in conclusion , in an optimal network a type - a player is connected to all the other players .",
    "consider node @xmath284 its distance from every other node @xmath71 is @xmath285 and @xmath286 .",
    "the minimal distances between two minor players @xmath95 are @xmath185 and @xmath286 whereas in @xmath287 we have @xmath288 .",
    "assume that a network with a lower social cost exists , and denote it by @xmath289 . in @xmath289 there must exists a link between two type - b players , @xmath95 .",
    "however , removing this link reduces the social cost , as    @xmath290 therefore , @xmath289 is not optimal , in contradiction to our assumption .",
    "this proves that @xmath287 is optimal .",
    "next , we are going to show @xmath287 is unstable .",
    "consider @xmath77 and @xmath291 . by removing @xmath292",
    "we cost change of player @xmath162 is @xmath293    and therefore it is beneficial for player @xmath162 to remove this link .",
    "hence , this network in not stabilizable .",
    "finally , we are going to show that the @xmath294 .",
    "the outline is as follows .",
    "first , we are going to show that the network depicted in fig .",
    "@xmath295 is stable .",
    "the optimal stable network ( without reliability requirements ) in this parameter regime was explicitly derived proposition [ lem : optimal solution ] .",
    "we are going to show that the cost in the latter network is higher than the former , which bound the @xmath296 from above by a value smaller than one .",
    "consider a network in which all the minor players are connected to two major players , @xmath297 .",
    "we are going to show that this network is stable .",
    "clearly , as shown before , the type - a clique is stable .",
    "in addition , for any player @xmath77 neither @xmath298 nor @xmath2 has the incentive to remove either @xmath299 or @xmath300 as it would violate the reliability requirement and would lead to unbounded cost .",
    "hence , this network is stable .",
    "denote this network by @xmath301 in proposition [ lem : optimal solution ] it was shown that the optimal stable network ( without reliability requirements ) in this configuration is the network in which all type - a players form a clique , and all the type - b players are connected to a single type - a player .",
    "we denote the latter network by @xmath302we have @xmath303    but , @xmath304    this concludes the proof .    in conclusion , if the failure frequency is high , the survivability requirements will induce dilution of the clique of major players .",
    "however , the opposite effect occurs along the graph cut - set between the minor players set and the major players set , where the additional constraints lead to an increased number of links connecting major and minor players .",
    "so far we have assumed that the reliability requirements are symmetric .",
    "as explained in the introduction , in some cases it is reasonable to assume that players will require a backup route only to the major players , i.e. , non - symmetric reliability constraints .",
    "we shall now show that in this case , the social cost may deteriorate considerably .",
    "hence , from a system designer point of view , it is much more important to incentivize a configuration where the reliability requirements are symmetric , than to reduce failure frequency globally .",
    "this result stems from the following lemma .",
    "[ lem : finite distances]if @xmath305 then for every two nodes i , j , @xmath306 .",
    "if @xmath307 there exists stable equiliberia such that there are no two disjoint paths between some nodes @xmath41 .",
    "first , we are going to show that @xmath40 is finite ( step 1 ) .",
    "then , in the second step , we shall bound @xmath40 from above .",
    "step 1 : if @xmath2 and @xmath3 are disconnected , then it is worthy for both of them to establish the link @xmath4 . therefore , there exists a path from @xmath2 to @xmath3 and @xmath8 is finite .",
    "assume @xmath308 . if there are nt two disjoint paths between nodes @xmath2 and @xmath143 it is worthy for both nodes to establish a direct link .",
    "hence if @xmath308 the distance @xmath40 is finite .",
    "we now discuss the case @xmath185 and show there must exists an additional disjoint path , so @xmath40 is finite .",
    "we prove by negation .",
    "take node @xmath309 .",
    "as before , both @xmath310 and @xmath311 are finite .",
    "consider the following two cases :    \\a ) @xmath312 , @xmath313 .",
    "then , the trajectory @xmath314 is disjoint from the path .",
    "hence @xmath40 is finite .",
    "\\b ) @xmath312 , @xmath315 or @xmath316 , @xmath313 . without loss of generality",
    ", we assume the first case . according to the previous discussion",
    ", there are at least two disjoint paths from @xmath162 to @xmath317 since they are disjoint , only one of them may contain the edge @xmath4 . therefore , there exist a path @xmath318 that is disjoint from the edge @xmath4 and therefore @xmath40 is finite .",
    "\\c ) @xmath316 , @xmath315 .",
    "applying the same reasoning as in b ) , there exists a path from @xmath2 to @xmath162 that is disjoint from the edge @xmath4 .",
    "likewise , there exists a path from @xmath3 to @xmath162 that is disjoint from the edge @xmath319 therefore there exist a path from @xmath2 to @xmath3 that is disjoint from @xmath319    step 2 : step 1 has shown that every two nodes are connected by a cycle .",
    "let us assume the longest shortest cycle connecting two nodes is of length @xmath320 , namely there exists a cycle @xmath321 .    by establishing the link @xmath322 the cost of player @xmath323 due to distances from other players",
    "is reduced by at least @xmath324 , hence the link will be established as @xmath325    and similarly @xmath326 .",
    "since @xmath327 the proof is complete .    if there exist players with no two disjoint paths in an equilibrium , then the social cost becomes unbounded .",
    "this immediately results in an _ unbounded _ price of anarchy , as indicated by the following theorem .",
    "[ thm : price of anarchy]consider a network such that @xmath328 .",
    "the price of anarchy is as follows :    \\a ) in a setting with asymmetric reliability requirements @xmath329 : unbounded .",
    "\\b ) in a setting with symmetric reliability requirements @xmath330 : bounded by @xmath331 .",
    "\\a ) we shall prove this by showing that there exists a stable equilibrium with unbounded social cost .",
    "consider a network in which the major players ( type - a players ) form a clique , while every minor player is connected only to a single type - a player @xmath85 .",
    "we shall show that this network is stabilizable . as discusses before ,",
    "the type - a clique is stable .",
    "consider @xmath284 by forming the link @xmath292 the change of cost of player @xmath291 , @xmath332 is @xmath333    hence , this link will be formed .",
    "no additional links between minor players will be established , since such a link only reduces the distance between the participating parties by one , @xmath334 and does not provide an additional disjoint path to the type - a clique .",
    "therefore , the social cost is @xmath335 .",
    "\\b ) the total cost due to the inter - connectivity of the type - a clique is identical for all link stable equilibria and is @xmath336 .",
    "this cost is composed of @xmath337 links per node , and the distance cost to every other major nodes , @xmath338 next , we evaluate the cost due to the type - b nodes inter - distances . according to lemma [ lem : finite distances ] ,",
    "both @xmath339 and @xmath340 , so the cost due to the inter - distances between a type - b player and every other player is bounded from above by @xmath341 . when summed up over all minor players ,",
    "this contributes a term @xmath342 to the social cost .",
    "likewise , the cost of links that at least one of their ends is a type b player is at most @xmath343 .",
    "therefore , the maximal cost in all link stable equilibria is bounded from above by @xmath344    the optimal network configuration is described in proposition [ lem : reliable optimal 1 ] .",
    "it is straightforward to evaluate the social cost in this configuration .",
    "the distance cost due to inter - distances of the type - b players is @xmath345    while the cost of all links which connect type - b players to type - a players is @xmath346    finally , the social cost due to the type - a clique remains the same , so finally we obtain that the minimal social cost is    @xmath347    by taking the limits @xmath348 we obtain that @xmath349",
    ".    a stable equilibrium with infinite social cost can be easily achieved by considering a network where all minor players are connected to a single , designated , major player .",
    "there exists a single path of at most two hops between every minor player to every major player .",
    "however , as the stability requirements are asymmetric , the major players have no incentive to establish additional routes to any minor player , and the reliability requirements of the minor players remain unsatisfied .",
    "if monetary transfers are feasible , players may compensate other players for the cost of additional links such that all the additional constraints are satisfied .",
    "therefore , in this setting , in contrast to the previous setting , there always exists a fallback route between every two players , regardless of the symmetric or asymmetric nature of the additional survivability constraints .",
    "hence , symmetry is less important than in the previous scenario .",
    "furthermore , the following result suggests that every player is connected to every other player by a cycle , and that the maximal cycle length decays with the number of major players . as the number of ass increases in time",
    ", this predicts that the maximal cycle length should decrease in time .",
    "we shall verify this prediction in section [ sec : data - analysis ] .",
    "[ prop : max distance]assume @xmath350 .",
    "then , every two players are connected by a cycle , and the maximal cycle length is bounded by @xmath351    _ _ lemma [ lem : finite distances ] showed that the maximal distance between players is bounded .",
    "we are going to tighten this result in the regime where monetary transfers are feasible .",
    "denote the maximal distance between a type - a player and a type b player by @xmath352 .",
    "_ _    _ _ first , we are going to show that the maximal cycle length connecting a major player and a minor player is @xmath353 this follows from a simple geometric argument .",
    "consider two players , @xmath88 and @xmath71 .",
    "assume @xmath354 .",
    "if the cycle length is @xmath355 or greater , there exists a type - b node that its distance @xmath356 in contradiction to the assumption that the maximal distance between a major player and and a minor player is @xmath352 .",
    "denote the maximal distance between two minor players by @xmath357 a similar argument shows that maximal cycle length between two minor players is @xmath358 .",
    "_ _    _ _ next , are going to show that the maximal distance connecting a major player and a minor player is @xmath359 .",
    "we prove by negation .",
    "assume that the distance between player @xmath85 and @xmath77 is @xmath360 .",
    "denote the nodes on the path as @xmath361 .",
    "then , by establishing a link between them , the distance between @xmath3 and @xmath362 ( similarly , and distance between player @xmath2 and players @xmath363 ) is reduced .",
    "in addition , player @xmath2 reduces its distance to every node of the type - a clique by @xmath360 .",
    "lemma 25 of @xcite shows that the total reduction in distance is @xmath324 .",
    "then , by establishing the link @xmath4 we have @xmath364 _ _    _ _ and as @xmath365 this expression is negative .",
    "therefore , the link will be established , and the maximal shortest distance between a major player and a minor player is smaller than @xmath360 .",
    "this concludes the proof . _ _",
    "the internet is a rapidly evolving network .",
    "in fact , it may very well be that it would never reach an equilibrium as ass emerge , merge , and draft new contracts among them .",
    "therefore , a dynamic analysis is a necessity .",
    "we first define the dynamic rules .",
    "then , we analyze the basin of attractions of different states , indicating which final configurations are possible and what their likelihood is .",
    "we shall establish that reasonable dynamics converge to _ just a few _ equilibria .",
    "furthermore , we investigate the speed of convergence , and show that convergence time is _ linear _ in the number of players .",
    "lastly , we identify prevalent network motifs @xcite , i.e. , small sub - graphs that emerge during the natural evolution of the network , that arise due to survivability constraints . in section [ sec : data - analysis ]",
    "we show that these motifs are indeed ubiquitous in the real as topology , and that the frequency of their occurrences is few folds _ _ more than expected in a random network .",
    "we split the game into _ turns _ , where at each turn only a single player is allowed to remove or initiate the formation of links . at each point in time , or turn , the players that already joined the game form a subset @xmath366 .",
    "we shall implicitly assume that the cost function is calculated with respect to the set @xmath367 of players that are already present in the network .",
    "each turn is divided into _ moves , _ at each of which a player either forms or removes a single link .",
    "a player s turn is over when it has no incentive to perform additional moves .",
    "note that disconnections of several links can be done unilaterally and hence iteratively .    during player s @xmath2 turn",
    ", all the other players will act in a greedy , rather than strategic , manner .",
    "for example , although it may be that player @xmath3 prefers that a link @xmath368 would be established for some @xmath369 , it will accept the establishment of the less favorable link @xmath4 , as long as its formation is beneficial to it .",
    "in other words , the active player has the advantage of initiation and the other players react to its offers .",
    "there are numerous scenarios in which players can not fully forecast other players moves and offers , e.g. , when information is asymmetric or when only partial information is available @xcite . in these settings , it is likely that a greedy strategy will become the modus operandi of many players .",
    "this is a prevalent strategy also when the system evolves rapidly and it is difficult to assess the current network state and dynamics .",
    "formally , we express this dynamic rule as follows .",
    "dynamic rule # 1 : assume it is player @xmath2 s turn and let the set of links at its @xmath200th move be denoted as @xmath370 . in player @xmath2 s @xmath200th move , it may remove a link @xmath371 or , if player @xmath3 agrees , it may establish the link @xmath372 . player @xmath3 would agree to establish @xmath4 iff @xmath373 .    in a dynamic network formation game ,",
    "a key question is : can a player temporarily disconnects itself from the graph , only to reconnect after getting to a better bargaining position ? or must a player stay connected ?",
    "if the timescale in which the costs are evaluated is comparable to the timescale in which the dynamics occur , then , clearly , a player will not disconnect from the network voluntarily .",
    "however , if the latter is much shorter , it may , for a very brief time , disconnect itself from the graph in order to perform some strategic move .",
    "if player @xmath2 can not temporarily increase its cost , then it will only act such that on _ each move _ ( rather than on _ each turn ) _ its cost will reduce .",
    "the following rules address the two alternative limits .",
    "dynamic rule # 2a : a link @xmath4 will be added if @xmath2 asks to form this link and @xmath374 .",
    "in addition , any link @xmath4 can be removed in move @xmath375    dynamic rule # 2b : in addition to dynamic rule # 2a , at the end of its move is cost is reduced .",
    "namely , player @xmath2 may remove a link @xmath4 only if @xmath376 and may establish a link @xmath4 if both @xmath374 and @xmath377    if the game follows the stricter dynamic rule # 2b , a player s cost must be reduced _ at each move _ , hence such multi - move plan is not possible .",
    "finally , the following lemma will be useful in the next section .",
    "[ lem : decay time]assume @xmath378 players act consecutively in a ( uniformly ) random order the probability @xmath379 that a specific player did not act @xmath380 times by @xmath381 decays exponentially .",
    "after mapping the possible dynamics , we are at a position to consider the different equilibria s basins of attraction .",
    "specifically , we shall establish that , in most settings of the basic model , the system converges to the optimal network , and if not , then the network s social cost is asymptotically equal to the optimal social cost .",
    "the main reason behind this result is the observation that a disconnected player has an immense bargaining power , and may force its optimal choice . as the highest connected node is usually the optimal communication partner for other nodes , new arrivals may force links between them and this node , forming a star - like structure",
    ". there may be few star centers in the graphs , but as one emerges from the other , the distance between them is small , yielding an optimal ( or almost optimal ) cost .",
    "we outline the main ideas of the proof .",
    "the first few type - b players , in the absence of a type - a player , will form a star .",
    "the star center can be considered as a new type of player , with an intermediate importance , as presented in fig .",
    "[ fig : credible threat corr . ] .",
    "we monitor the network state at any turn and show that the minor players are organized in two stars , one centered about a minor player and one centered about a major player ( fig .",
    "[ fig : credible threat corr.](a ) ) .",
    "some cross links may be present(fig.[fig : cross - tiers ] ) . by increasing its client base ,",
    "the incentive of a major player to establish a direct link with the star center is increased .",
    "this , in turn , increases the attractiveness of the star s center in the eyes of minor players , creating a positive feedback loop .",
    "additional links connecting it to all the major league players will be established , ending up with the star s center transformation into a member of the type - a clique . on the other hand ,",
    "if the star center is not attractive enough , then minor players may disconnect from it and establish direct links with the type - a clique , thus reducing its importance and establishing a negative feedback loop .",
    "the star will become empty , and the star s center @xmath162 will be become a stub of a major player , like every other type - b player .",
    "the latter is the optimal configuration , according to proposition [ lem : optimal solution ] .",
    "we analyze the optimal choice of the active player , and establish that the optimal action of a minor player depends on the number of players in each structure and on the number of links between the major players and the minor players star center @xmath162 .",
    "the latter figure depends , in turn , on the number of players in the star .",
    "we map this to a two dimensional dynamical system and inspect its stable points and basins of attraction of the aforementioned configurations .",
    "this dynamic process shows how an effectively new major player emerges out of former type - b members in a natural way .",
    "interestingly , theorem [ cor : credible threat part 3 ] also shows that there exists a transient state with a better social cost than the final state .",
    "in fact , in a certain scenario , the transient state is better than the optimal stable state .",
    "[ cor : credible threat part 3]if the game obeys dynamic rules # 1 and # 2a , then , in any playing order :    \\a ) the system converges to a solution in which the total cost is at most    @xmath382    furthermore , by taking the limit @xmath174 , we have @xmath383 .",
    "\\b ) convergence to the optimal stable solution occurs if either :    1 )    \\2 ) @xmath384 ( `` final condition '' ) .",
    "\\c ) in all of the above , if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps . otherwise ,",
    "if players play in a uniformly random order , the probability the system has not converged by turn @xmath385 decays exponentially with @xmath385 .",
    "we first consider the case @xmath386 .",
    "denote the first type - a player that establish a link with a type - b player as @xmath107 .",
    "first , we show that the network structure is composed of a type - a ( possibly empty ) clique , a set of type - b players @xmath387 linked to player @xmath388 , and an additional ( possibly empty ) set of type - b players @xmath66 connected to the type - a player @xmath107 .",
    "[ fig : credible threat corr.](a ) for an illustration .",
    "in addition , there is a set @xmath389 of type - a nodes that are connected to node @xmath162 , the star center .",
    "after we establish this , we show that the system can be mapped to a two dimensional dynamical system .",
    "then , we evaluate the social cost at each equilibria , and calculate the convergence rate .",
    "we first assume @xmath390 and then discuss the case @xmath391 in .",
    "we prove by induction . at turn",
    "@xmath392 , this is certainly true .",
    "denote the active player at time @xmath385 as @xmath393    a ) the network structures described in theorem [ cor : credible threat part 3 ] .",
    "the type - a clique contains @xmath394 nodes ( squares ) , and there are @xmath395 nodes in the star ( red circles ) .",
    "there are @xmath396 nodes that are connected directly to node @xmath107 ( yellow circles ) .",
    "the number of type - a nodes that are connected to node 1 , the star center , is @xmath397 ( green squares ) .",
    "b ) the phase state of theorem [ cor : credible threat part 3 ] .",
    "the dotted green line is the @xmath398 increase / decrease nullcline .",
    "the dotted ( dashed ) red line is the nullcline for the increase / decrease in @xmath399 when monetary transfers are forbidden ( allowed ) .",
    "( proposition [ prop : monetary - dyanmics-1 ] ) .",
    "[ fig : the - phase - state ] ]    * if @xmath390 * : consider the following cases :    case 1 , @xmath400 : since @xmath401 all links to the other type - a nodes will be established ( lemma [ lem : optimal solution ] ) or maintained , if @xmath402 is already connected to the network .",
    "clearly , the optimal link in @xmath402 s concern is the link with the star center @xmath162 . if @xmath132 every minor player will accept a link with a major player even if it reduces its distance only by one",
    "therefore , the link @xmath403 is formed if the change of cost of the major player @xmath402 , @xmath404 is negative . in this case , the number of type a players connected to the star s center , @xmath399 , will increase by one . if this expression is positive and player @xmath402 is connected to at least another major player ( as otherwise the graph is disconnected ) , the link will be dissolved and @xmath399 will be reduced by one . it is not beneficial for @xmath402 to form an additional link to any type - b player , as they only reduce the distance from a single node by one ( see the discussion in lemma [ lem : optimal solution ] ) .",
    "if @xmath405 then the star center will not form a link to @xmath402 , as such link reduce its distance to a single major player by one .",
    "a link to any other minor player will not be beneficial to player @xmath402 , as it reduces its distance to a single minor player by at most two , and @xmath386 .",
    "the graph will remain the same .",
    "case 2 , @xmath406 : first , assume that @xmath402 is a newly arrived player , and hence it is disconnected .",
    "obviously , in its concern , a link to the star s center , player @xmath162 , is preferred over a link to any other type - b player .",
    "similarly , a link to a type - a player that is linked with the star s center is preferred over a link with a player that maintains no such link .",
    "we claim that either @xmath407 or @xmath403 exists .",
    "denote the number of type - a player at turn @xmath385 as @xmath408 the link @xmath403 is preferred in @xmath402 s concern if the expression    @xmath409    is positive , and will be established as otherwise the network is disconnected .",
    "if the latter expression is negative , @xmath407 will be formed .",
    "the same reasoning as in case 1 shows that no additional links to a type - b player will be formed .",
    "otherwise , if @xmath402 is already connected to the graph , than according to dynamic rule # 2a , @xmath402 may disconnect itself , and apply its optimal policy , increasing or decreasing @xmath410 and @xmath398 .",
    "case 3 , @xmath411 , the star s center : @xmath402 may not remove any edge connected to a type - b player and render the graph disconnected . on the other hand",
    ", it has no interest in removing links to major players . on the contrary",
    ", it will try to establish links with the major players , and these will be formed if eq .",
    "[ eq : term1 ] is negative .",
    "an additional link to a minor player connected to @xmath107 will only reduce the distance to it by one and since @xmath412 player @xmath162 would not consider this move worthy .",
    "the dynamical parameters that govern the system dynamics are the number of players in the different sets , @xmath398 , @xmath410 , and @xmath399 .",
    "consider the state of the system after all the players have player once .",
    "using the relations @xmath413 we note the change in @xmath398 depends on @xmath398 and @xmath410 while the change in @xmath399 depends only on @xmath414 we can map this to a 2d dynamical , discrete system with the aforementioned mapping . in fig.[fig :",
    "the - phase - state ] the state is mapped to a point in phase space @xmath415 .",
    "the possible states lie on a grid , and during the game the state move by an single unit either along the @xmath162 or @xmath416 axis .",
    "there are only two stable points , corresponding to @xmath417 , which is the optimal solution ( fig .",
    "[ fig : the - optimal - solution](a ) ) , and the state @xmath418 and @xmath419 .",
    "if at a certain time expression [ eq : term1 ] is positive and expression [ eq : term 2 ] is negative ( region 3 in fig.[fig : the - phase - state](b ) ) , the type - b players will prefer to connect to player @xmath162 .",
    "this , in turn , increases the utility a major player gains by establishing a link with player @xmath420 the greater the set of type - a that have a direct connection with @xmath162 , having @xmath399 members , the more utility a direct link with @xmath162 carries to a minor player .",
    "hence , a positive feedback loop is established .",
    "the end result is that all the players will form a link with @xmath162 . in particular ,",
    "the type - a clique is extended to include the type - b player @xmath162 .",
    "likewise , if the reverse conditions appliy , a feedback loop will disconnect all links between node @xmath162 to the clique ( except node @xmath107 ) and all type - b players will prefer to establish a direct link with the clique .",
    "the end result in this case is the optimal stable state .",
    "the region that is relevant to the latter domain is region 1 .",
    "however , there is an intermediate range of states , described by region 2 and region 4 , in which the player order may dictate to which one of the previous states the system will converge . for example , starting from a point in region 4 , if the type - a players move first , changing the @xmath399 value , than the dynamics will lead to region 1 , which converge to the optimal solution .",
    "however , if the type - b players move first , then the system will converge to the other equilibrium point .    *",
    "if @xmath391 : * we now discuss explicitly the case where , at some point , the link @xmath421 is removed and assume that @xmath422 . in this case , the nullcline described by eq .",
    "[ eq : term 2 ] is replaced by @xmath423    this changes the regions according to fig . [",
    "fig : the - dynamical - regions ] .",
    "region 1 , which is the basin of attraction for the optimal configuration , increases its area , on the expense of region 4 .",
    "the dynamical discussion as described for the case @xmath390 is still applicable , and if the player play in a specific order , than the state vector @xmath424 will be in either region 1 or region 3 after @xmath425 turns .",
    "if the players play in random order , then the system might not converge only if player @xmath107 will play in every @xmath425 turns .",
    "this probability decays exponentially , according to lemma [ lem : decay time ] .",
    "we now extended our discussion to the case @xmath426 here , we claim that the structure s more complex - there could be more than one major player with minor player clients , and some cross links between different tiers may be present , as in fig .",
    "[ fig : cross - tiers ] .",
    "we denote the set of player @xmath427 clients as @xmath428 .",
    "we define player @xmath429 as a player such that @xmath430 namely , @xmath429 is a player with most direct clients .",
    "case 1 : the active player is @xmath431 .",
    "as before , the most beneficial link is a link to the star s center . as the l.h.s of eq .",
    "[ eq : term1 ] is negative , it will form a link with the star s center if the latter would agree .",
    "this will take place iff @xmath432 . otherwise , if @xmath433 it may form a link with some @xmath434 , as in fig .",
    "[ fig : cross - tiers](c ) , as such link is beneficial for player @xmath434 as well .",
    "no other links will be form , as they only reduce the distance to a singly type b player by one , and if already @xmath435 and @xmath436 no other links will be removed ( similar to the case @xmath422 ) .",
    "case 2 : the active player is @xmath406 . as in the case for @xmath422 , after establishing its preferred connection according to eq .",
    "[ eq : term 2 ] ( with @xmath437 , the active player may establish its preferred link - either as a client of the star center @xmath162 , namely @xmath438 , or a client of @xmath429 , @xmath439 . additionally ,",
    "if @xmath438 , it may establish a link with @xmath440 if    @xmath441    as under this condition and @xmath442 such link is beneficial for both @xmath402 and @xmath429 .",
    "note that such link is preferred over any link to one of @xmath107 s clients . in this case",
    ", @xmath402 is a member of both @xmath387 and @xmath443 , and we address this by the transformation @xmath444 , @xmath445 .",
    "similarly , if @xmath446 then it will establish links with the star center @xmath162 if and only if @xmath447 . the analogous transformation is @xmath448 , @xmath449 . additionally , consider a client @xmath450 of a major player @xmath451 clients .",
    "if @xmath447 , than a link between between @xmath2 and star s leaf , @xmath434 is feasible and will be temporarily formed when @xmath2 is the active player ( see fig .",
    "[ fig : cross - tiers ] ) .",
    "this link will be replaced by a link to player @xmath107 during player @xmath3 s turn , according to the previous discussion .",
    "similarly , a link connecting client @xmath450 of a major player @xmath452 with the star center @xmath162 may be temporarily established , and will be replaced by the link @xmath453 when @xmath162 will play .",
    "case 3 : @xmath411 , is the same as in the scenario where @xmath422 .    additional feasible cross - tiers links .",
    "the star players @xmath387 are in red , the set @xmath66 is in yellow .",
    "a ) a link between the star center and @xmath454 .",
    "b ) a cross - tier link @xmath4 where @xmath455 .",
    "c ) a minor player - major player link , @xmath4 where @xmath88 and @xmath456 ]    the dynamical regions with or without the link @xmath421 .",
    "the dashed green represents the new type - b player preference nullcline when @xmath390 , according to eq .",
    "[ eq : term 2 ] . according to eq .",
    "[ eq : term 2 -kx removed ] , the nullcline when @xmath457 is the solid green line . ]",
    "we now turn to calculate the social cost at the different equilibria . if @xmath419 and @xmath458 , the network topology is composed of a @xmath165 members clique , all connected to the center @xmath162 , that , in turn , has @xmath459 stubs .",
    "the total cost in this configuration is @xmath460    where the costs are , from the left to right : the cost of the type - a clique , the cost of the type - b star s links , the distance cost @xmath461 between the clique and node @xmath162 , the distance @xmath461 cost between the star s members and node @xmath162 , the distance @xmath462 cost between the clique and the star s member , the distance @xmath462 cost between the star s members , and the cost due to major player link s to the start center @xmath162 . adding all up , we have for the total cost @xmath463    convergence is fast , and as soon as all players have acted three times the system will reach equilibrium . if every player plays at least once in @xmath464 ) turns convergence occurs after @xmath465 turns , otherwise the probability the system did not reach equilibrium by time @xmath385 decays exponentially with @xmath385 according to lemma [ lem : decay time ] ( @xcite ) .",
    "taking the limit @xmath466 and @xmath467 in eq .",
    "[ eq : social cost ] , we get @xmath383 .",
    "this concludes the proof .",
    "if the star s center has a principal role in the network , then links connecting it to all the major league players will be established , ending up with the star s center transformation into a member of the type - a clique .",
    "this dynamic process shows how an effectively new major player emerges out of former type - b members in a natural way .",
    "interestingly , theorem [ cor : credible threat part 3 ] also shows that there exists a transient state with a better social cost than the final state .",
    "in fact , in a certain scenario , the transient state is better than the optimal stable state .",
    "so far we have discussed the possibility that a player may perform a strategic plan , implemented by dynamic rule # 2a . however ,",
    "if we follow dynamic rule # 2b instead , then a player may not disconnect itself from the graph .",
    "the previous results indicate that it is not worthy to add additional links to the set of type - b nodes .",
    "therefore , no links will be added except for the initial ones , or , in other words , renegotiation will always fail .",
    "the dynamics will halt as soon as each player has acted once .",
    "formally :    [ prop : credible theat part 4]if the game obeys dynamic rules # 1 and # 2b , then the system will converge to a solution in which the total cost is at most @xmath468 furthermore , for @xmath174 , we have @xmath469 moreover , if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps .",
    "otherwise , if players play in a uniformly random order , the probability the system has not converged by turn @xmath385 decays exponentially with @xmath385 .",
    "we discuss the case @xmath470 the proof follows along the same lines of the previous theorem ( theorem [ cor : credible threat part 3 ] ) .",
    "we claim that at any given turn , the network structure is composed of the same structures as before ( see fig .",
    "[ fig : credible threat corr.](a ) ) .",
    "we prove by induction . clearly , at turn one the induction assumption is true .",
    "the dynamics of a is a newly arrived players are the same under dynamic rules # 2a or # 2b .",
    "therefore , if the active player is a newly arrived player , the analysis in theorem [ cor : credible threat part 3 ] applies .",
    "hence , we only need to discuss the change in policies of existing players .",
    "the only difference from the dynamics described in theorem [ cor : credible threat part 3 ] is that the a type - b players may not disconnect itself .",
    "therefore , the only changes are in case 2 of theorem [ cor : credible threat part 3 ] , in which the active player is @xmath406 . here",
    ", player @xmath402 may not disconnect itself , and therefore , if it already connected , it may not establish an additional link to star center ( assuming @xmath446 ) or to any type - a player ( if @xmath438 ) as the utility to the other party is at most two , and @xmath471 .",
    "in other words , depending on the sign of eq .",
    "[ eq : term 2 ] at a type - b player arrival , it will become either a leave of node @xmath107 , namely , member of @xmath410 , or members of the star @xmath398 , and then becomes stagnant .",
    "a similar analysis holds for the case @xmath391 , where the decision boundary is replaced eq .",
    "[ eq : term 2 -kx removed ] rather than eq .",
    "[ eq : term 2 ] .",
    "we extended the discussion to a scenario where @xmath442 .",
    "as before , we need to address only case 2 , in which the active player is @xmath406 . if @xmath472 as @xmath473 , player @xmath402 may establish links with a player @xmath474 .",
    "this may allow it to disconnect from @xmath387 .",
    "therefore , player @xmath438 may choose to be either a member of @xmath387 or a member @xmath443 , where now @xmath475    according to the sign of eq .",
    "[ eq : term 2 -kx removed ] .",
    "the rest of the analysis is the same as in theorem [ cor : credible threat part 3 ]    the maximal distance between a type - a player and a type b player is @xmath476 .",
    "the maximal value of the type b - type b term is the social cost function is when @xmath477 . in this case",
    ", this term contributes @xmath478 to the social cost .",
    "therefore , the social cost is bounded by @xmath479    where we included the type - a clique s contribution to the social cost and used @xmath480    taking the limit @xmath481 in eq .",
    "[ eq : bound for 2b ] and using @xmath482 , @xmath483 , we obtain @xmath484 .",
    "theorem [ cor : credible threat part 3 ] and proposition [ prop : credible theat part 4 ] shows that the intermediate network structures of the type - b players are not necessarily trees , and additional links among the tier two players may exist , as found in reality .",
    "furthermore , our model predicts that some cross - tier links , although less likely , may be formed as well . if dynamic rule # 2a is in effect , these structures are only transient , otherwise they might remain permanent .",
    "we now consider the dynamic process of network formation under the presence of monetary transfers .",
    "for every node @xmath2 there may be several nodes , indexed by _",
    "j , _ such that @xmath485 and player _ i _ needs to decide on the order of players with which it will ask to form links .",
    "each player s decision is myopic , and is based solely on the current state of the network .",
    "hence , the order of establishing links is important , and may depends on the pricing mechanism .",
    "there are several alternatives and , correspondingly , several possible ways to specify player _",
    "i s _ preferences _ _ , _ _ each leading to a different dynamic rule .",
    "perhaps the most naive assumption is that if for player @xmath143 @xmath486 , then the price it will ask player @xmath2 to pay is @xmath487 in other words , if it is beneficial for player @xmath3 to establish a link , it will not ask for a payment in order to do so .",
    "otherwise , it will demand the minimal price that compensates for the increase in its costs .",
    "this dynamic rule represents an efficient market .",
    "this suggests the following preference order rule .",
    "preference order # 1 : player @xmath2 will establish a link with a player @xmath3 such that @xmath488    is minimal . the price player @xmath2 will pay is @xmath489    as established by the next theorem , preference order # 1 leads to the optimal equilibrium fast .",
    "in essence , if the clique is large enough , then it is worthy for type - b players to establish a direct link to the clique , compensating a type - a player , and follow this move by disconnecting from the star .",
    "monetary transfers increase the fluidity of the system , enabling players to escape from an unfortunate position .",
    "hence , we obtain an improved version of theorem [ cor : credible threat part 3 ] .",
    "assume the players follow preference order # 1 and dynamic rule # 1 , and either dynamic rule # 2a or # 2b .",
    "if @xmath190 , then the system converges to the optimal solution .",
    "if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps .",
    "otherwise , e.g. , if players play in a random order , convergence occurs exponentially fast .",
    "assume it is player @xmath2 s turn .",
    "for every player @xmath3 such that @xmath490 , we have that @xmath156 . by establishing the link @xmath4 the distance",
    "is reduced to one and @xmath491    this expression is negative if either @xmath88 or @xmath85 , as @xmath492 therefore , if player @xmath88 it will form links all other players , whereas if @xmath77 it will form links with all the type - a players . finally , after every player has played twice",
    ", every type - b player has established links to all members of the type - b clique . therefore , the distance between every two type - b players is at most two .",
    "consider two type - b players , @xmath95 for which the link @xmath4 exists .",
    "if the link is removed , the distance will grow from one to two , per the previous discussion .",
    "but ,    @xmath493    hence , this link will be dissolved .",
    "this process will be completed as soon as every type - b player has played at least three times .",
    "if every player plays at least once in @xmath464 ) turns convergence occurs after @xmath465 turns , otherwise the probability the system did not reach equilibrium by time @xmath385 decays exponentially with @xmath385 according to lemma [ lem : decay time ] .",
    "the resulting network structure is composed of a type - a clique , and every type - b player is connected to all members of the type - a clique ( fig.[fig : the - optimal - solution](b ) ) . as discussed in prop .",
    "[ prop : optimality under monetary ] , this structure is optimal and stable .",
    "yet , the common wisdom that monetary transfers , or utility transfers in general , should increase the social welfare , is contradicted in our setting by the following proposition .",
    "specifically , there are certain instances , where allowing monetary transfers yields a decrease in the social utility . in other words ,",
    "if monetary transfers are allowed , then the system may converge to a sub - optimal state .",
    "assume @xmath248 .",
    "consider the case where monetary transfers are allowed and the game obeys dynamic rules # 1,#2a and preference order # 1 . then :    \\a ) the system will either converge to the optimal solution or to a solution in which the social cost is @xmath494 for @xmath495 , @xmath496 we have @xmath497 . in addition",
    ", if one of the first @xmath498 nodes to attach to the network is of type - a then the system converges to the optimal solution .",
    "\\b ) for some parameters and playing orders , the system converges to the optimal state if monetary transfers are forbidden , but when transfers are allowed it fails to do so .",
    "this is the case , for example , when the first @xmath107 players are of type - b , and @xmath499 .",
    "\\a ) we claim that , at any given turn @xmath385 , the network is composed of the same structures as in theorem [ cor : credible threat part 3 ] .",
    "we use the notation described there .",
    "[ fig : credible threat corr . ] for an illustration .",
    "first , assume that the link @xmath421 exists .",
    "we prove by induction . at turn",
    "@xmath500 the induction hypothesis is true . we discuss the different configurations at time @xmath385 .",
    "@xmath400 : as in theorem [ cor : credible threat part 3 ] , all links to the other type - a nodes will be established or maintained , if @xmath402 is already connected to the network .",
    "the link @xmath403 will be formed if the change of cost of player @xmath402 , @xmath501 is negative . in this case @xmath398",
    "will increase by one .",
    "if this expression is positive and @xmath502 the link will be dissolved and @xmath399 will be reduced .",
    "it is not beneficial for @xmath402 to form an additional link to any type - b player , as they only reduce the distance from a single node by 1 and @xmath248 .",
    "@xmath503 : the discussion in theorem [ cor : credible threat part 3 ] shows that a newly arrived may choose to establish its optimal link , which would be either @xmath407 or @xmath403 according to the sign of expression [ eq : term 2 ] in theorem [ cor : credible threat part 3 ] . as",
    "otherwise the graph is disconnected , such link will cost nothing .",
    "similarly , if @xmath402 is already connected , it may disconnect itself as an intermediate state and use its improved bargaining point to impose its optimal choice .",
    "hence , the formation of either @xmath407 or @xmath403 is not affected by the inclusion of monetary transfers to the basic model .",
    "assume the optimal move for @xmath402 is to be a member of the star , @xmath438 . if @xmath504 is negative , than this link will be formed .",
    "in this case , @xmath402 is a member of both @xmath387 and @xmath66 , and we address this by the transformation @xmath444 , @xmath505 and @xmath506 similarly , if @xmath446 than it will establish links with the star center @xmath162 if and only if @xmath507 the analogous transformation is , @xmath448 , @xmath508 and @xmath506 the is also true if @xmath411 and the latter condition is satisfied .",
    "we have shown in theorem [ cor : credible threat part 3 ] that such links only reduce the social cost , do not incite link removals , and do not effect the considerations of new type - b player .",
    "consider the case that at some point the link @xmath421 was removed .",
    "the new player preference nullcline is described by eq .",
    "[ eq : term 2 -kx removed ] .",
    "now , if @xmath438 , it has an increased incentive to establish a link with @xmath107 , as the nodes in @xmath66 are farther away from it . in this case , the condition to establish the link @xmath509 is @xmath510 ( compared to eq .",
    "[ eq : monetary , s ] ) .",
    "similarly , if @xmath446 the criteria for establishing the link @xmath403 is @xmath511 ( compared to eq .",
    "[ eq : monetary , l ] ) . the transformation described above",
    "should be applied in either case .    as before , as soon as all the players have played two time",
    ", the system will be in either region 1 or region 3 , and from there convergence occurs after every player has played once more .",
    "\\b ) if dynamic rule # 2a is in effect , the nullcline represented by eq .",
    "[ eq : term1 - 1 - 1 ] is shifted to the left compared to the nullcline of eq .",
    "[ eq : term1 ] , increasing region 3 and region 2 on the expanse of region 1 and region 4 .",
    "therefore , there are cases where the system would have converge to the optimal state , but allowing monetary transfers it would converge to the other stable state .",
    "intuitively , the star center may pay type - a players to establish links with her , reducing the motivation for one of her leafs to defect and in turn , increasing the incentive of the other players to directly connect to it .",
    "hence , monetary transfers reduce the threshold for the positive feedback loop discussing in theorem [ cor : credible threat part 3 ] .",
    "the latter proposition shows that the emergence of an effectively new major league player , namely the star center , occurs more frequently with monetary transfers , although the social cost is hindered .",
    "a more elaborate choice of a price mechanism is that of `` strategic '' pricing . specifically , consider a player @xmath512 that knows that the link @xmath513 carries the least utility for player @xmath2 .",
    "it is reasonable to assume that player @xmath3 will ask the minimal price for it , as long as it is greater than its implied costs .",
    "we will denote this price as @xmath514 .",
    "every other player @xmath162 will use this value and demand an additional payment from player @xmath2 , as the link @xmath292 is more beneficial for player @xmath2 .",
    "formally ,    pricing mechanism # 1 : set @xmath512 as the node which maximize @xmath515 . set @xmath516 . finally , set @xmath517    the price that player @xmath3 will require in order to establish _",
    "@xmath4 _ is _ _",
    "@xmath518    as far as player @xmath2 is concerned , all the links @xmath4 such that @xmath519 carry the same utility , and this utility is greater than the utility of links for which the former condition is invalidated .",
    "some of these links have a better connection value , but they come at a higher price . since all the links carry the same utility , we need to decide on some preference mechanism for player @xmath2 .",
    "the simplest one is the `` cheap '' choice , by which we mean that , if there are a few equivalent links , then the player will choose the cheapest one .",
    "this can be reasoned by the assumption that a new player can not spend too much resources , and therefore it will choose the `` cheapest '' option that belongs to the set of links with maximal utility .",
    "preference order # 2 : player @xmath2 will establish links with player @xmath3 if player @xmath3 minimizes @xmath520    and @xmath521    if there are several players that minimize @xmath522 , then player @xmath2 will establish a link with a node ( player ) that minimizes @xmath52 .",
    "if there are several nodes that satisfy the previous condition , one will be chosen randomly .",
    "note that low - cost links have a poor `` connection value '' and therefore the previous statement can also be formulated as a preference for links with low connection value .",
    "preference order # 1 : player @xmath2 will establish a link with a player @xmath3 such that @xmath488    is minimal . the price player @xmath2 will pay is @xmath489    `` strategic '' pricing mechanism : set @xmath512 as the node that maximizes @xmath515 . set @xmath523 .",
    "denote the excess utility of the link @xmath4 as @xmath524 the price player @xmath3 requires in order to establish _",
    "@xmath4 _ is _",
    "_ @xmath525 .",
    "we proceed to consider the dynamic aspects of the system under such conditions .",
    "an immediate result of this definition is the following .",
    "if node @xmath512 satisfies @xmath526 then the link @xmath513 will be formed . if there are few nodes that satisfy this criterion , a link connecting @xmath2 and one of this node will be picked at random .    as @xmath527 @xmath522 is maximal when @xmath528 is , which is for node @xmath512 .",
    "the resulting equilibria following this preference order are very diverse and depend heavily on the order of acting players . the only general statement that can are of the form of lemma [ lem : the - longest - distance-1 ] .",
    "before we elaborate , let us provide another useful lemma .",
    "[ lem : shortcut]assume that according to the preference order player @xmath2 will establish the link @xmath513 .",
    "if there is a node @xmath162 such that @xmath529    then effectively the link @xmath292 will be formed instead of @xmath513 .",
    "the first two inequalities state that after establishing the link @xmath513 the link @xmath292 will be formed as well .",
    "however , the last inequality indicates that after the former step , it is worthy for player @xmath2 to disconnect the link @xmath513 .    we proceed to consider the dynamic aspects of the system under such conditions .",
    "[ prop : monetary - dyanmics-1]assume that :    \\a ) players follow preference order # 2 and dynamic rule # 1 , and either dynamic rule # 2a or # 2b .",
    "\\b ) there are enough players such that @xmath530 .",
    "\\c ) at least one out of the first @xmath200 players is of type - a , where @xmath200 satisfies @xmath531 .",
    "then , if players play in a non - random order , the system converges to a state where all the type - b nodes are connected directly to the type - a clique , except perhaps lines of nodes with summed maximal length of @xmath200 . in the large network limit , @xmath532 .",
    "\\d ) if @xmath533 then the bound in ( c ) can be tightened to @xmath534 .",
    "we prove by induction .",
    "assume that the first type - b player is player @xmath352 and the first type - a player is @xmath535 .",
    "we first prove that the structure up - to the first move of @xmath536 is a type - a clique , and an additional line of maximal length @xmath537 of type - b players connected to a single type - a player .",
    "if @xmath538 , there is a set of type - b players that play before the first type - a joins the game , we claim they form a line .",
    "for the first player it is true .",
    "we denote the sequence of players @xmath539 and assume the assumption holds up to player @xmath540 .",
    "consider the newly arrived player @xmath162 .",
    "the least utility it may obtain is by establishing a link to a node at the end of the line , and therefore it will connect first to one of the ends , as this would be the cheapest link .",
    "w.l.o.g , assume that it connects to @xmath540 .",
    "the most beneficial additional link it may establish is @xmath541 but according to corollary [ lem : shortcut benefit ] @xmath542    and therefore no additional link will be formed .",
    "player @xmath352 will establish a link with a node at one of the line s ends , say to player @xmath543 , and as @xmath544    there would be no additional links between player @xmath352 and a member of the line .",
    "if @xmath545 then the first @xmath546 type - a player will form a clique ( same reasoning as in lemma [ prop : optimality under monetary ] ) , and player @xmath535 ( of type - b ) will form a link to one of the type - a players randomly .",
    "this completes the induction proof .    for every new player ,",
    "the link with the least utility is the link connecting the new arrival and the end of the type - b strand . for a type - a player , using lemma [ lem : shortcut ] , immediately after establishing this link it will be dissolved and the new player will join the clique .",
    "type b players will attach to the end of the line and the line s length will grow .",
    "assume that when player @xmath162 turn to play there are @xmath547 type - a players in the clique . by",
    "establishing the link @xmath292 we have ( fig .",
    "[ fig : suggested shortcut ] ) , @xmath548    for @xmath549 @xmath550    and therefore according to lemma [ lem : shortcut ] player @xmath162 will connect directly to one of the nodes in the clique instead of lines end .",
    "after all the players have played once , the structure formed is a type - a clique , a line of maximum length @xmath200 , and type - b nodes that are connected directly to at least one of the members of the clique . in a large network ,",
    "the line s maximal length is @xmath551 and is negligible in comparison to terms that are @xmath552 .    the suggested dynamics in prop .",
    "[ prop : monetary - dyanmics-1 ] .",
    "here , @xmath553 and @xmath554 .",
    "the link to the clique is dashed in orange , the canceled link is in dotted green . ]",
    "the only possible deviation in this sub - graph is establishing additional links between a type - b player and clique members ( other than the one it is currently linked to ) .",
    "this will only reduce the overall distance . hence we can asymptotically bound the social cost by @xmath555    where the first term expresses the ( maximal ) distance between type - b nodes , the second the distance cost between the type - a clique and the type - b nodes , the third is the cost of links between type - a players and type - b players and the third is the cost of the type - a clique . comparing this to the optimal solution ( proposition [ prop : maximal distance from clique with money-1 ] ) under the assumption that @xmath556",
    ", we have @xmath557    this concludes the proof .",
    "\\d ) we can improve on the former bound by noting that according to preference order # 2 , when disconnecting from the long line a player will reconnect to the type - a player that has the least utility in his concern ( and hence requires the lowest price ) .",
    "in other words , it will connect to one of the nodes that carry the least amount of type - b nodes at that moment .",
    "therefore , to each type - a node roughly @xmath558 type - b nodes will be connected .",
    "this allows us to provide the following corollary .",
    "according to the aforementioned discussion by establishing a link between node @xmath71 and @xmath88 ( where @xmath3 in not connected directly to @xmath2 ) the change of cost is @xmath559    but @xmath560    and the link would not be establish .",
    "hence , we can neglect the term @xmath561 and @xmath562    by comparing with the optimal solution we obtained the required result .    .",
    "the type - b players connect almost uniformly to the different members of the type - a clique .",
    "in addition , there is one line of type - b players . ]    in order to obtain the result in proposition [ prop : maximal distance from clique with money ] , we had to assume a large limit for the number of type - a players . here ,",
    "on the other hand , we were able to obtain a similar result yet without that assumption , i.e. , solely by dynamic considerations .",
    "it is important to note that , although our model allows for monetary transfers , in _ every _ resulting agreement between major players no monetary transaction is performed . in other words ,",
    "our model predicts that the major players clique will form a _ settlement - free _",
    "interconnection subgraph , while in major player - minor player contracts transactions will occur , and they will be of a transit contract type . indeed , this observation is well founded in reality .",
    "we now show that , under survivability constraints , during the natural evolution of the network a `` double star '' sub - graph , or network motif , often emerges . in the `` double star '' motif , as depicted in fig .",
    "[ fig : generalized star 2 ] , there exists a primary and a secondary star .",
    "all the minor players are connected to the primary star s center .",
    "part of the players are also connected to the other star s center , forming the secondary star .",
    "consider a region where it is immensely difficult to establish a link to a major player , either due to geographical distance , link prices or perhaps additional physical links are simply not accessible .",
    "nevertheless , in order to maintain a reliable connection , there must be at least two links that connect this region to the internet backbone via some major players . in order to provide a stable , fault tolerant service ,",
    "every player in this region will form links with the players hosting the endpoints of these links , forming the double star sub - graph .",
    "assume now that link prices reduce over time , or that the importance of a fast connection to the internet core increases in time .",
    "in this case , players may decide to establish direct links with the major players , and remove either one of both links connecting them to the star centers .",
    "note though , that players will be reluctant to disconnect from the star center if the number of nodes in the star is large .    network motifs .",
    "a ) a network configuration which includes a `` double - star '' structure of minor players . every node in the primary star ( encircled in yellow ) is linked to a major player , node @xmath107 ( in green ) .",
    "a direct link connects the two star centers , denoted by 1 and 2 ( in pink ) .",
    "the members in the secondary star ( in purple ) are connected to both star centers .",
    "in addition , there secondary star center is also connected to the major player @xmath107 . there might be additional minor players outside the stars ( in red ) .",
    "[ fig : the - entangled - loops ] b ) the `` entangled cycles '' motif .",
    "six minor player are connected in an `` entangled cycles '' subgraph .",
    "the first two nodes have direct connection to some major player , and access the rest of the network by the major player s additional links , represented by the dotted line .",
    "c ) if at some point , a link between a player in this subgraph and some external player is formed ( in this example , a major player ) , some links may be removed without violating the reliability requirement and without increasing the distance cost appreciably .",
    "the removed links marked by a red x. and a generalized star about node @xmath563 of ( the red type - b nodes ) . in this example , @xmath564 , @xmath565,@xmath566,@xmath567 . ]",
    "moreover , the next theorem also shows that , eventually , and fairly quickly , the system will converge to either the optimal stable state , or to a state in which the social cost is a low multiple of the optimal social cost .",
    "[ thm : symmetric dynamic]assume symmetric reliability requirements , i.e. , @xmath278 .",
    "if the players follow dynamic rules # 1 and # 2a , then , in any playing order :    \\a ) the system converges to either the optimal stable state , depicted in fig .",
    "[ fig : optimal and stable ] , or to the network depicted in fig .",
    "[ fig : generalized star 2 ] .",
    "\\b ) in the large network limit , namely , when @xmath174 , the social costs ratio satisfy @xmath568 , with @xmath569 .",
    "\\c ) if players play in a uniformly random order , the probability that the system has not converged by turn @xmath385 decays exponentially with @xmath385 .",
    "otherwise , if every player plays at least once in o(n ) turns , convergence occurs after o(n ) steps .",
    "we claim that the network , at any time , has the following structure ( fig .",
    "[ fig : generalized star 2 ] ) : a type - a players clique , and _ at most _ two type - b star centers @xmath570 .",
    "the larger ball s center is labelled as @xmath131 , and the smaller is @xmath476 .",
    "we denote the set of type - b players which are members of the star centered about node 1 ( 2 ) as @xmath571 and ( correspondingly , @xmath572 ) .",
    "we have @xmath573 in addition , some type - b players might be linked to two nodes @xmath574 , the set of these type - b players is denoted by @xmath66 .",
    "the set of type - a players that have a direct link with the star center @xmath131 ( star center @xmath476 ) is denoted by @xmath575 ( correspondingly @xmath576 ) .",
    "players @xmath577 form a clique .",
    "assuming the second star exists , it is connected to either players @xmath131 or @xmath578 ( or both ) .",
    "finally , there may be additional links between players is @xmath66 and @xmath576 .",
    "an example of this network structure is presented in fig .",
    "[ fig : generalized star 2 ] .",
    ".[tab : d(i , k)]the shortest distance @xmath8 between two nodes , as discussed in prop .",
    "[ thm : symmetric dynamic ] .",
    "note that if @xmath579 , than column 9 applies instead of column 8 for @xmath580 . [ cols=\"^,^,^,^\",options=\"header \" , ]     we prove by induction .",
    "after the first three players played the induction base case is true .",
    "we first assume that the link @xmath117 and consider the case @xmath581 later . denote the active player by @xmath402 .",
    "consider the following cases :    \\1 .",
    "@xmath400 : as @xmath582 , @xmath402 will form ( or maintain ) links with every type - a player .",
    "if additional links to minor players are to be formed , it is clearly better for player @xmath402 to establish links first with either player @xmath131 or player @xmath476 than to any player in @xmath583 or @xmath580 .",
    "we first consider the case where @xmath584 and split into two cases :    1a ) if no two disjoint paths exists between player @xmath402 to players @xmath131 or @xmath476 , namely , if @xmath585 and either @xmath586 or @xmath587 , then it is beneficial for both @xmath402 and the star centers to link such that reliability requirements will be satisfied .",
    "1b ) if @xmath588 then by establishing the edge @xmath589 we have @xmath590    while by establishing @xmath591 the change of cost is :    @xmath592    as @xmath593 , player @xmath402 will prefer to establish first a link with player 1 rather than with player 2 . the link will be formed if @xmath594 , which is true if @xmath595 if condition [ eq:2r edge ] holds , then player @xmath402 will attempt to form a link with the star center @xmath476 , and succeed if condition [ eq : a - b link condition ] holds as well . establishing a link to any other type - b node is clearly an inferior option , as if a player had decided to establish links with either node @xmath131 or node @xmath596 an additional link to one of their leafs will only reduce the distance to it by 1 and hence is not a worthy course of action .",
    "therefore , @xmath597 .",
    "@xmath503 and @xmath598 . a player may disconnect itself and then choose its two optimal links . clearly , among the type - a clique , player @xmath599 best candidates are players @xmath563 , while among the type - b players , the cost reduction is maximal by linking to nodes @xmath600 .",
    "in addition , a link to node @xmath107 is at least as preferred a link to @xmath578 , while a link to node 1 is always preferred over a link to node @xmath476 as long as @xmath601 .",
    "therefore , we only need to consider three possible moves by player @xmath402 - linking to @xmath563 ( the red players in fig . [",
    "fig : generalized star 2 ] ) , linking to @xmath602 or linking to @xmath600 .    using tables [ tab : d(i , k ) ] and [ tab : d(i , k ) ] we can compare the cost of connecting to nodes @xmath600 versus the costs of connecting to nodes @xmath131 and @xmath107 .",
    "a simple calculation shows that if the expression @xmath603    is positive , than linking to players @xmath131 and @xmath107 is preferred over linking to player @xmath131 and @xmath476 .",
    "this expression is positive , as @xmath604 and @xmath593 .    in a similar fashion",
    ", we can compare between the choices of linking to nodes @xmath131 and @xmath107 or forming links with nodes @xmath107 and @xmath605 if the expression @xmath606    is positive , then establishing links to @xmath131 and @xmath107 is preferred , otherwise the alternative will be chosen .",
    "two special cases are of interest : if @xmath607 and @xmath608 , then every player will prefer to link to @xmath107 and @xmath578 .",
    "that is , we ll get the optimal configuration .",
    "if @xmath36 , @xmath609 , i.e , node 1 is a member of the clique , @xmath610 and @xmath611 , then a minor player will connect to players @xmath131 and @xmath107 .",
    "note that if there are no type - a players present when @xmath402 plays , then it must connect to the star centers @xmath131 and @xmath476 .",
    "in addition , after @xmath402 formed two links , no player @xmath612 will agree to form the link @xmath613 , as the induced change of cost is @xmath614 if @xmath447 and @xmath615 then player @xmath446 and player @xmath616 will establish the link @xmath613 . by symmetry",
    ", this also happens when @xmath617 and @xmath618 .",
    "if @xmath619 then it must maintain links to all nodes in @xmath620 ( if there are any ) in order to satisfy the reliability criteria .",
    "additional links to type - a players will be formed according to the discussion in case 1 , while no other links to type - b player will be formed according to the discussion in case 2 .",
    "\\4 . if @xmath621",
    ", then it must maintain links to all nodes in @xmath572 ( if there are any ) in order to satisfy the reliability criteria .",
    "a similar calculation to the one in case @xmath476 shows that player @xmath476 s best course of action is to remain connected to player    in order to complete the induction proof all that is left is to address the case @xmath581 . in this case ,",
    "player @xmath476 must be connected to at least one additional player @xmath622 in order to have two disjoint path to every player in the network . clearly , its optimal choice is player @xmath578 . in order to maintain reliable path to every @xmath623 player",
    "@xmath578 must agree to form this link .",
    "player @xmath476 will disconnect @xmath117 if either @xmath624 or @xmath625 .",
    "however , if either of this conditions hold , tables [ tab : d(i , k ) ] and [ tab : d(i , k ) ] show that every @xmath626 would prefer to link to player @xmath578 rather than player @xmath476 . in particular",
    ", this is also true for every node @xmath580 .",
    "therefore , as soon as every member in @xmath572 played once , the star will be empty and no additional star will raise again",
    ". therefore , there will be at most one star left in the network .",
    "this completes the proof on the momentarily structure of the network .",
    "note that if @xmath627 we obtain the optimal stable solution .",
    "\\b ) since every minor player has either two or three links , the contribution to the social cost due to minor players links is @xmath628 while the contribution to the social costs due to the inter - distances between minor players is @xmath629 . in the limit @xmath348 ,",
    "the dominant term in the cost function is the term proportional to @xmath630 .",
    "both @xmath8 and @xmath40 for @xmath95 are bounded by @xmath631 , and comparing this results with the optimal social cost ( proposition [ lem : reliable optimal 1 ] ) we have @xmath632    with @xmath569 in the limit @xmath348 .",
    "\\c ) the discussion of case 2 shows that in a large network , it is suboptimal for a minor player to be a member of @xmath572",
    ". given the the opportunity , it will prefer to become a member in either @xmath571 or @xmath66 .",
    "therefore , after every player has played at least twice , @xmath633 , and after every player has played four times the system will reach equilibrium .",
    "lemma 13 in @xcite then shows that the probability that the system has not converged by turn @xmath385 decays exponentially with @xmath385 .    in section [ sec :",
    "static - analysis ] we emphasized the importance of symmetry in the reliability requirements for reducing the price of anarchy . the next theorem affirms this assertion , and shows that if the constraints are asymmetric , the system converges to a state with an unbounded social cost on a large set of possible dynamics and initial conditions .",
    "assume asymmetric reliability requirements , namely @xmath307 .",
    "if the players follow dynamic rules # 1 and either dynamic rule # 2a or # 2b , then the system converges to a state with an unbounded social cost .    for technical reason",
    ", we define the cost of a node with violated survivability constrains as @xmath634 , and take @xmath635 , such that @xmath634 is greater than any property , namely @xmath636    the idea behind the proof is to show that the reliability requirements of at least one minor player remain unsatisfied , the therefore the social costs , as a sum over individual costs , is unbounded .",
    "first assume that @xmath422 .",
    "we shall now show that at any given turn , the network is composed of a type - a ( possibly empty ) clique , a set of type - b players @xmath387 linked to player @xmath162 , acting as a star center , and an additional ( possibly empty ) set of type - b players @xmath66 connected to the type - a player @xmath107 .",
    "player @xmath162 is also connected to player @xmath107 .",
    "some major player may establish links with the star center @xmath420 the set of these major players is denoted by @xmath389 .",
    "note that the cost of every player in either @xmath387 or @xmath66 is @xmath635 , since every path from each of these players to the type - a clique crosses player @xmath107 .",
    "we prove by induction . at turn",
    "@xmath392 , this is certainly true .",
    "denote the active player at time @xmath385 as @xmath393 consider the following cases :    \\1 .",
    "@xmath400 : since @xmath401 all links to the other type - a nodes will be established or maintained , if @xmath402 is already connected to the network . clearly , the optimal link in @xmath402 s concern is the link with the star center @xmath162 .",
    "therefore , player @xmath402 will attempt to establish the link @xmath403 if @xmath637 is negative .",
    "if @xmath638 or that @xmath639 then @xmath162 will accept this link . regardless ,",
    "if player @xmath402 has formed the link it will not establish a link with @xmath640 , as it only reduces its distance to player @xmath2 by a single hop , and @xmath641    if eq .",
    "[ eq : term1 - 1 ] is positive , then , player @xmath402 has no incentive to establish a link with any @xmath640 , as @xmath642 and the by establishing @xmath643 the sole change is the reduction of @xmath644 from @xmath631 to @xmath131 , @xmath645    eq . [ eq : no single hop ] also shows that if @xmath646 , it will not form a link with @xmath454 , while if @xmath647 it may not remove the link @xmath648 as otherwise @xmath2 is disconnected .",
    "@xmath406 : first , assume that @xmath402 is a newly arrived player , hence it is disconnected . obviously , in its concern , a link to the star s center , player @xmath162 , is preferred over a link to any other type - b player .",
    "similarly , a link to a player @xmath107 is preferred over a link to any other type - a player ( or if @xmath649 and @xmath650 , equivalent to a link to any other type - a player ) .",
    "therefore , @xmath402 first link choice would be either @xmath407 or @xmath403 . in other words ,",
    "@xmath446 or @xmath438 .",
    "if @xmath446 , than no @xmath88 will agree to establish a link with @xmath402 , as it only reduces its distance from @xmath402 by one hop , and does nt alter @xmath310 for any other @xmath162 . similarly , if @xmath438 than @xmath651    and the link would not be formed .",
    "likewise , no link between @xmath454 and @xmath434 may be formed , as @xmath652    \\3 .",
    "@xmath411 , the star s center : @xmath402 may not remove any edge connected to a type - b player and render the graph disconnected . on the other hand ,",
    "the previous discussion shows it will not establish additional links to nodes in @xmath66 .",
    "note that the reliability requirements of players in @xmath653 are invalidated .",
    "therefore , the cost of every player @xmath654 is @xmath655 , and we have @xmath635 .",
    "hence , at any given turn , as soon as either @xmath656 and @xmath642 , the social cost is unbounded .    if @xmath442 a link between player @xmath88 and player @xmath503 will be formed .",
    "however , as soon as player @xmath2 becomes the active player , it is beneficial for it to remove the link @xmath643 and establish a link to the star center @xmath292 instead .",
    "therefore , after player @xmath2 s turn , the cost of player @xmath402 is again @xmath634 . in a similar fashion ,",
    "if @xmath657 than player @xmath640 and player @xmath658 may establish the link @xmath4 .",
    "this does not affect any other player and while it may reduce their costs , it does not provide them with two disjoint paths to the type - a clique , as they both must traverse player @xmath107 in order to access it . therefore , their costs is still @xmath634 .",
    "an additional network motif , the `` entangled cycles '' motif , arises when monetary transfers are taken into account .",
    "this network motif is composed of a line ( i.e. , interconnected sequence ) of minor players nodes , with some cross - links between the nodes along this line , breaking the hierarchy ( fig .",
    "[ fig : the - entangled - loops ] ) .",
    "the `` entangled cycle '' of length three is the `` feedback loop '' motif , which was previously found to exist in a higher frequency than expected in the internet graph @xcite .",
    "when a new minor player arrives , it will choose the two cheapest links and will connect to the corresponding players .",
    "clearly , its costs due to the distance from the rest of the network will be the highest .",
    "as such , when the next player arrives , it will offer the lowest link price .",
    "the new arrival will link to it and to one of its providers .",
    "the process will repeat , until , at some point , an existing player will decide that this growing branch is too far from it , and will connect to one of the nodes along this `` entangled cycles '' . at this point , this subgraph will be over - saturated with links as players may utilize this link to access the internet core .",
    "hence , some links will be removed ( see , for example fig .",
    "[ fig : the - entangled - loops](b ) ) .",
    "the set of the links that will be removed depends heavily on the playing order and the temporary network structure .",
    "nevertheless , some cross - links may remain in order to satisfy reliability constrains .",
    "this explains the following result .",
    "[ thm : entangled cycles motif]assume the number of major players is at least @xmath659 . denote the distance cost of player @xmath660 @xmath15 , as @xmath661 , namely @xmath662 assume that a subset @xmath663 of minor player first join the game and play consecutively and that the two players with the maximal distance cost are adjacent .",
    "then :    \\a ) these players will form an `` entangled cycles '' structure of length @xmath360 , as depicted in fig .",
    "[ fig : the - entangled - loops ] , and @xmath664    \\b ) the entangled cycles structure is semi - stable , in the following sense : if , at some later turn , there exist players @xmath665 , @xmath666 such that the link @xmath4 is formed ( fig .",
    "[ fig : the - entangled - loops](b ) ) , then some links in the `` entangled cycles '' structure may be removed in subsequent turns .",
    "assume that at time @xmath385 a subset of @xmath667 players first join the game .",
    "denote the set of players that are connected to the network at time @xmath385 as @xmath367 .",
    "we denote by @xmath668 ( @xmath669 the number of type a players ( correspondingly , type - b player ) at that moment .",
    "let us denote the players with the highest distance cost term as @xmath323 and @xmath670 , namely , @xmath671    where for simplicity we assumed that @xmath672 are minor player ( type - b players ) . according to the `` strategic '' pricing mechanism",
    "a new player will establish links with these players , as they will offer the cheapest links .",
    "note that by connecting to these players , its survivability requirement are satisfied , as each of these players maintain two disjoint path to every major player ( if the reliability requirements are asymmetric ) or to all other players ( in case of symmetric reliability requirements ) .",
    "we are now going to prove by induction that at step @xmath3 , player @xmath673 will connect to players @xmath674 and @xmath675 .",
    "we shall prove by this by showing that the distance cost of @xmath674 and @xmath675 is maximal .",
    "assume the induction holds , and every player @xmath676 is connected only to its two predecessors , which , at the time it played , had the maximal distance cost .",
    "first , note that for every player @xmath677 , we have @xmath678 and @xmath679 , since the path from @xmath3 to every player in @xmath367 pass through @xmath680 or @xmath681 , and @xmath682 .",
    "therefore , in order to show that players @xmath674 and @xmath675 have the highest distance cost , it is sufficient to show that @xmath683 for every @xmath684 . for every player @xmath685 we have @xmath686 since the path that connects player @xmath674 to the any player @xmath687 crosses either player @xmath323 or @xmath670 , which are adjacent .",
    "therefore , the distance cost of player @xmath674 due to its distance from every player @xmath687 , denoted by @xmath688 is at least grater than the corresponding distance cost of player @xmath323 , @xmath689 by at least @xmath690 .",
    "note that @xmath691 for every @xmath684 according to the definition of @xmath323",
    ". however , player @xmath680 may be closer to players @xmath692 than player @xmath416 .",
    "denote the maximal distance between any two players by @xmath393 we have , @xmath693    where @xmath402 is the maximal distance between two players . in proposition",
    "[ prop : max distance ] it was shown that @xmath694    plugging in the relation @xmath659 we obtain @xmath695    and therefore @xmath696 .",
    "therefore , links will be established as stated .",
    "this shows that at the time player @xmath673 joins the game , the distance cost of player @xmath674 is maximal .",
    "a similar calculation shows that at this turn , the distance cost @xmath697 is maximal in the set @xmath698 .",
    "we have thus far shown that the first two links of a new player @xmath673 are to players @xmath674 and @xmath675 . nevertheless , as the `` entangled cycles '' motif grows , the incentive of other players to connect to players in it increases .",
    "at some point , player @xmath3 may be able to form links with players not in @xmath663 , or an active player @xmath699 may decide to connect to some player in @xmath663 ( or vice versa for @xmath700 ) . in either of these cases , players in the `` entangled cycles '' motif may have three disjoint paths to other players , and may therefore remove a link , should they deemed to do so . in this case , the `` entangled cycles '' motif will be diluted .",
    "this theorem shows that reliability is a major factor in breaking up tree hierarchy in the internet .",
    "in addition , it also hints that the hierarchical structure does not break frequently in the top levels of the internet , but rather mostly in the intermediate and lower tiers .",
    "note that according to theorem [ thm : entangled cycles motif](b ) , in large networks the length of the `` entangled motifs '' is short .",
    "therefore , we do not expect to see excessively long structures , but rather small ones , having just a few ass .",
    ") and removing any links from the shell to the core .",
    "the subgraph contains 16,442 nodes , which are @xmath701 of the ass in the networks .",
    "left : the full network map .",
    "singleton are displayed in the exterior and complex objects in the center .",
    "right : a zoom - in on a sample ( red box ) of the subgraph .",
    "the complex structure are mainly short lines and stars ( or star - like objects).,scaledwidth=100.0% ]    in this section we compare our theoretical findings with actual monthly snapshots of the inter - as connectivity , reconstructed from bgp update messages @xcite .",
    "our model predicts that , for @xmath702 , the type - a ( `` major league '' ) players will form a highly connected subset , specifically a clique ( section [ sub : the - type - a - clique ] ) .",
    "the type - b players , in turn , form structures that are connected to the clique .",
    "figure [ fig : clique subgraph ] presents the graph of a subset of the top 100 ass per january 2006 , according to caida ranking @xcite .",
    "it is visually clear that the inter - connectivity of this subset is high .",
    "indeed , the top 100 ass graph density , which is the ratio between the number of links present and the number of possible links , is 0.23 , compared to a mean @xmath703 for a random connected set of 100 .",
    "it is important to note that we were able to obtain similar results by ranking the top ass using topological measures , such as betweeness , closeness and k - core analysis .    in the dynamic aspect",
    ", we expect the type - a players sub - graph to converge to a complete graph .",
    "we evaluate the mean node - to - node distance in this subset as a function of time by using quarterly snapshots of the as graph from january , 2006 to october , 2008 . indeed , the mean distance decreases approximately linearly .",
    "the result is presented in fig .",
    "[ fig : shell - core distance graph](a ) . also , the distance value tends to @xmath131 , indicating the almost - completeness of this sub - graph .",
    "although , in principle , there are many structures the type - b players ( `` minor players '' ) may form , the dynamics we considered indicates the presence of stars and lines mainly ( sections [ sub : dynamical results ] and [ sub : monetary dynamics ] ) .",
    "while the partition of ass to just two types is a simplification , we still expect our model to predict fairly accurately the structures at the limits of high - importance ass and marginal ass .",
    "a _ @xmath107-core _ of a graph is the maximal connected subgraph in which all nodes have degree of at least @xmath107 .",
    "@xmath107-shell _ is obtained after the removal of all the @xmath107-core nodes . in fig .",
    "[ fig : clique subgraph ] , a snapshot of the sub - graph of the marginal ass is presented , using a @xmath107-core separation ( @xmath91 ) , where all the nodes in the higher cores are removed .",
    "the abundance of lines and stars is visually clear .",
    "in addition , the spanning tree of this subset , which consists of 75% of the ass in the internet , is formed by removing just 0.02% of the links in this sub - graph , a strong indication for a forest - like structure .",
    "a ) in solid blue : the mean distance of an as in the top 100 ass caida ranking to all the other top 100 ass , from january , 2006 to october , 2008 . in dashed green : the mean shortest distance of a secondary as ( ranked 101 - 2100 ) from any top as ( ranked 1 - 100 ) .",
    "b ) [ fig : disjoint path ratio]the ratio of the mean number of disjoint paths connecting a minor player to the core to the mean degree of a minor player .",
    "this ratio is above @xmath704 , and increases in time , showing that additional links are likely to part of disjoint paths to the core .",
    "this ratio is presented as a function of time from january 2006 to october 2008 . ]    for a choice of core @xmath705 , the _ node - core distance _ of a node @xmath706 is defined as the shortest path from node @xmath2 to any node in the core . in section [ sub : the - type - a - clique ] , we showed that , by allowing monetary transfers , the maximal distance of a type - b player to the type - a clique ( the maximal `` node - core distance '' in our model ) depends inversely on the number of nodes in the clique and the number of players in general .",
    "likewise , we expect the mean `` node - core '' distance to depend inversely on the number of nodes in the clique .",
    "the number of ass increases in time , and we may assume the number of type - a players follows .",
    "therefore , we expect a decrease of the aforementioned mean `` node - core distance '' in time .",
    "fig [ fig : shell - core distance graph ] shows the mean distance of the secondary leading 2000 ass , ranked 101 - 2100 in caida ranking , from the set of the top 100 nodes .",
    "the distance decreases in time , in agreement with our model .",
    "similarly , in section [ sub : static - survivability ] , we showed that , if the as are constrained by survivability requirements , mostly applicable in the intermediate and top tiers of the internet , the cycle length connecting a major player to a minor player depends inversely on the number of major players .",
    "the steady decline of the cycle s length in time is predicted by our model ( see section in @xcite ) ( fig .",
    "[ fig : the - mean cycle - length ] ) .",
    "it is widely assumed that the evolvement of the internet follows a `` preferential attachment '' process @xcite . according to this process , the probability that a new node will attach to an existing node is proportional ( in some models , up to some power ) to the existing node s degree .",
    "an immediate corollary is that the probability that a new node will connect to any node in a set of nodes is proportional to the set s sum of degrees .",
    "the sum of degrees of the secondary ass set is ~1.9 greater than the sum of degrees in the core , according to the examined data@xcite .",
    "therefore , a `` preferential attachment '' class model predicts that a new node is likely to attach to the shell rather than to the core .",
    "as all the nodes in the shell have a distance of at least one from the core , the new node s distance from the core will be at least two .",
    "since the initial mean `` shell - core '' distance is ~1.26 , a model belonging to the `` preferential attachment '' class predicts that the mean distance will be pushed to two , and in general increase over time .",
    "however , this is contradicted by the data that shows ( fig [ fig : shell - core distance graph ] ) a decrease of the aforementioned distance .",
    "the slope of the latter has the 95% confidence bound of @xmath707 ) hops / month , a strong indication of a negative trend , in disagreement with the `` preferential attachment '' model class .",
    "in contrast , this trend is predicted by our model , per the discussion in section [ sec : monetary - transfers ] .",
    "in fact , if the internet is described by a random , power law ( `` scale free '' ) network , then the mean distance should grow as @xmath708 or @xmath709 ( @xcite ) .",
    "however , experimental observations shows that the mean distance grows slower than that ( @xcite ) , and it fact it may even be reduced with the network size , as predicted by our model .",
    "the mean length of the shortest cycle connecting a major player and a minor player as function of time , from january 2006 to october 2008 .",
    "the length decrease as time passes and the network grows , in agreement with our model . ]",
    "our analysis showed that in most of the generated topologies , the minor players are organized in small subgraphs that have direct connection to the internet core , namely the major players clique , or the tier-1 subgraph . in order to maintain a reliable connection , in each subgraph there must be at least two links that connect minor players to the core .",
    "indeed , we have found out that the ratio between the mean number of disjoint paths from a minor player to the core and the mean degree of minor players is more than @xmath704 , and it increases in time ( fig .",
    "[ fig : disjoint path ratio ] ) .",
    "that is , almost every outgoing link of a minor player is used to provide it with an additional , disjoint path to the core . in other words ,",
    "a player is more likely to establish an additional link , hence increase its degree , if it supplies it with a new path to the core that does not intersect its current paths .    in section [ sec :",
    "dynamic - analysis ] we predicted the ubiquity of two network motifs , the `` double star '' motif ( fig . [",
    "fig : generalized star 2 ] ) and the `` entangled cycles '' motif ( fig .",
    "[ fig : the - entangled - loops ] ) .",
    "we define the occurrence of a `` double star '' motif as the existence of a connected pair of nodes , each with degree greater than @xmath200 , designated as the centers , such that at least @xmath200 neighbors of one center are also neighbors of the other center .",
    "we generated random networks according to the configuration model ( cm ) , in which each node is given a number of stubs according to its degree , and stubs are connected uniformly .",
    "then , we evaluated the mean number of occurrences of this motif in a random cm network with the same number of nodes and the same degree distribution as the real inter - as topology . for @xmath710",
    ", we have found @xmath711 occurrences in the real - world inter - as topology , whereas the mean number of occurrences in the random cm network was only * @xmath712 * instances ( the @xmath713 indicates standard deviation ) .",
    "namely , there are more than four times displays of this subgraph in the internet than in a random network with the same degree distribution .",
    "chebyshev s inequality provides a bound on the _ p - value , @xmath714 .",
    "_ this low value indicates that it is highly unlikely that a random cm network explains the frequent appearance of this network motif .",
    "we have tested the prevalence of this motif with other values of @xmath200 and the number of occurrences is consistently a few times more than expected in a random cm network .",
    "our analysis suggests that reliability considerations is one of the factors leading to the increased number of incidents .",
    "the unexpected prevalence of the `` feedback loop '' , which is a special case of the `` entangled cycles '' motif , was first reported in @xcite .",
    "the `` feedback loop '' motif coincides with the entangled cycles motif of length three . in order to further assess our results we tested for the occurrence frequency of the `` entangled cycles '' motif of length four .",
    "we compared the number of occurrences of this motif in the real - world internet graph to the expected number of occurrences in a random configuration model network .",
    "while the number of instances of this motif in the internet graph was @xmath715 , the expected number of occurrences in the random network was only @xmath716 .",
    "the abundance of this network motif , an order of magnitude greater than expected ( _ @xmath717 _ , a relaxed bound based on chebyshev s inequality ) provides a positive indication to the implications of survivability requirements .    in summary ,",
    "we have provided both static and dynamic empirical evidence that conform with our predictions , suggesting the importance of reliability considerations on the structure and dynamics of the inter - as topology .",
    "does the internet resembles a clique or a tree ? is it contracting or expanding ? can one statement be true on one segment of the network while the opposite is correct on a different segment ?",
    "how do reliability requirements affect the topological structure of the internet ?",
    "the game theoretic model presented in this work , while abstracting many details away , focuses on the essence of the strategical decision - making that ass perform .",
    "it provides answers to such questions by addressing the different roles ass play .",
    "our inherently heterogeneous network formation game is flexible , and may be used in a wide variety of settings .",
    "it allows for many variations and schemes , for example situations in which failures are frequent or rare , or if monetary transfers are feasible or not .",
    "the static analysis has indicated that in all equilibria , the major players form a clique .",
    "our model predicts that the major players clique will form a _ settlement - free _",
    "interconnection subgraph , while in major player - minor player contracts transactions will occur , and they will be of a transit contract type .",
    "this observation is supported by the empirical evidence , showing the tight tier-1 subgraph , and the fact these ass provide transit service to the other ass .",
    "we established the _ price of reliability , _ which measures the excess social cost that is required in order to maintain network survivability in an optimal stable equilibrium .",
    "surprisingly , we showed that it can be smaller than one , that is , the additional survivability constraints _ add _ to the social utility .",
    "we have also showed that reliability requirements have disparate effects on different parts of the network .",
    "while it may support dilution in dense areas , it facilitates edges formation in sparse areas , and in particular it supports the formation of edges connecting minor players and major players .",
    "we discussed multiple dynamics , which represent different scenarios and playing orders .",
    "the dynamic analysis showed that , when the individual players act selfishly and rationally , the system will converge to either the optimal configuration or to a state in which the social cost differs by a negligible amount from the optimal social cost .",
    "this is important as a prospective mechanism design .",
    "furthermore , although a multitude of equilibria exist , the dynamics restrict the convergence to a limited set .. we also learned that , as the number of major players increase , the distance of the minor players to the core should decrease .",
    "this was also confirmed empirically . in our dynamic analysis",
    "we have found the repetitive appearance of small sub - graphs , or network motifs , namely the `` entangled cycles '' motif and the `` double star '' motif .",
    "indeed , the number of appearance of these motifs in the real inter - as topology surpassed the expected number by a few times , indicating that additional factors support their formation , and as our analysis shows , survivability is one of them .    finally , while our analysis focuses on the inter - as topology , it may be applied to other networks as well , that are composed of heterogeneous , rational agents that are required to maintain some reliability aspects .",
    "primary examples are trade networks and mvno operators in the cellular market .",
    "the next lemma will be useful in many instances .",
    "it measures the benefit of connecting the two ends of a long line of players , as presented in [ fig : long line ] .",
    "if the line is too long , it is better for both parties at its end to form a link between them ."
  ],
  "abstract_text": [
    "<S> we establish a network formation game for the internet s autonomous system ( as ) interconnection topology . </S>",
    "<S> the game includes different types of players , accounting for the heterogeneity of ass in the internet . in this network formation game , </S>",
    "<S> the utility of a player depends on the network structure , e.g. , the distances between nodes and the cost of links . </S>",
    "<S> we also consider the case where utility ( or monetary ) transfers are allowed between the players . </S>",
    "<S> we incorporate reliability considerations in the player s utility function , and analyze static properties of the game as well as its dynamic evolution . </S>",
    "<S> we provide dynamic analysis of topological quantities , and explain the prevalence of some `` network motifs '' in the internet graph . </S>",
    "<S> we assess our predictions with real - world data .    </S>",
    "<S> eli a. meirom , shie mannor , ariel orda    dept . of electrical engineering    technion - israel institute of technology </S>"
  ]
}