{
  "article_text": [
    "there is a well - known way to compose cospans in a category with finite colimits : given cospans @xmath7^{i_x } & & y \\ar[ul]_{o_y }      }    \\end{aligned }    \\qquad \\vcenter{\\xymatrix{\\mbox{and } } } \\qquad    \\begin{aligned }      \\xymatrix {        & m \\\\",
    "y \\ar[ur]^{i_y } & & z , \\ar[ul]_{o_z }      }    \\end{aligned}\\ ] ] we take the pushout over their shared foot @xmath8 @xmath9^j & & m \\ar[ul]_{j ' } \\\\      x \\ar[ur]^{i_x } & & y \\ar[ul]_{o_y } \\ar[ur]^{i_y } & & z \\ar[ul]_{o_z }    } \\ ] ] to get a cospan from @xmath10 to @xmath11 . in many situations , however , we wish to compose ` decorated ' cospans , where the apex of each cospan is equipped with some extra structure . in this article",
    "we detail a method for composing such decorated cospans .    beyond category",
    "theoretic interest , the motivation for such a method lies in developing compositional accounts of semantics associated to topological diagrams .",
    "while this has long been a technique associated with topological quantum field theory , dating back to @xcite , it has most recently had significant influence in the nascent field of categorical network theory , with application to automata and computation @xcite , electrical circuits @xcite , signal flow diagrams @xcite , markov processes @xcite , and dynamical systems @xcite , among others .",
    "it has been recognised for some time that spans and cospans provide an intuitive framework for composing network diagrams @xcite , and the material we develop here is a variant on this theme . in the case of finite graphs , the intuition reflected is this : given two graphs , we may construct a third by gluing chosen vertices of the first with chosen vertices of the second .",
    "it is our goal in this article to view this process as composition of morphisms in a category , in a way that also facilitates the construction of a composition rule for any semantics associated to the diagrams , and a functor between these two resulting categories .    to see how this works ,",
    "let us start with the following graph :    \\(a ) at ( 0,0 ) ; ( b ) at ( 1,0 ) ; ( c ) at ( 0.5,-.86 ) ; ( b ) edge [ bend right,->- ] node[above ] 0.2 ( a ) ; ( a ) edge [ bend right,->- ] node[below ] 1.3 ( b ) ; ( a ) edge [ ->- ] node[left ] 0.8 ( c ) ; ( c ) edge [ ->- ] node[right ] 2.0 ( b ) ;    we shall work with labelled , directed graphs , as the additional data help highlight the relationships between diagrams .",
    "now , for this graph to be a morphism , we must equip it with some notion of ` input ' and ` output ' .",
    "we do this by marking vertices using functions from finite sets :    \\(x ) at ( -1.4,-.43 ) ; at ( -1.4,-.9 ) @xmath10 ; ( a ) at ( 0,0 ) ; ( b ) at ( 1,0 ) ; ( c ) at ( 0.5,-.86 ) ; ( y1 ) at ( 2.4,-.25 ) ; ( y2 ) at ( 2.4,-.61 ) ; at ( 2.4,-.9 ) @xmath8 ; ( b ) edge [ bend right,->- ] node[above ] 0.2 ( a ) ; ( a ) edge [ bend right,->- ] node[below ] 1.3 ( b ) ; ( a ) edge [ ->- ] node[left ] 0.8 ( c ) ; ( c ) edge [ ->- ] node[right ] 2.0 ( b ) ; ( x ) edge ( a ) ; ( y1 ) edge ( b ) ; ( y2 ) edge ( b ) ;    let @xmath12 be the set of vertices of the graph . here",
    "the finite sets @xmath10 , @xmath8 , and @xmath12 comprise one , two , and three elements respectively , drawn as points , and the values of the functions @xmath13 and @xmath14 are indicated by the grey arrows .",
    "this forms a cospan in the category of finite sets , one with the set at the apex decorated by our given graph .",
    "given another such decorated cospan with input set equal to the output of the above cospan    ( y1 ) at ( -1.4,-.25 ) ; ( y2 ) at ( -1.4,-.61 ) ; at ( -1.4,-.9 ) @xmath8 ; ( a ) at ( 0,0 ) ; ( b ) at ( 1,0 ) ; ( c ) at ( 0.5,-.86 ) ; ( z1 ) at ( 2.4,-.25 ) ; ( z2 ) at ( 2.4,-.61 ) ; at ( 2.4,-.9 ) @xmath11 ; ( a ) edge [ ->- ] node[above ] 1.7 ( b ) ; ( c ) edge [ ->- ] node[right ] 0.3 ( b ) ; ( y1 ) edge ( a ) ; ( y2 ) edge ( c ) ; ( z1 ) edge ( b ) ; ( z2 ) edge ( c ) ;    composition involves gluing the graphs along the identifications    \\(x ) at ( -1.3,-.43 ) ; at ( -1.3,-.9 ) @xmath10 ; ( a ) at ( 0,0 ) ; ( b ) at ( 1,0 ) ; ( c ) at ( 0.5,-.86 ) ; ( y1 ) at ( 2.3,-.25 ) ; ( y2 ) at ( 2.3,-.61 ) ; at ( 2.3,-.9 ) @xmath8 ; ( b ) edge [ bend right,->- ] node[above ] 0.2 ( a ) ; ( a ) edge [ bend right,->- ] node[below ] 1.3 ( b ) ; ( a ) edge [ ->- ] node[left ] 0.8 ( c ) ; ( c ) edge [ ->- ] node[right ] 2.0 ( b ) ; ( x ) edge ( a ) ; ( y1 ) edge ( b ) ; ( y2 ) edge ( b ) ; ( a ) at ( 3.6,0 ) ; ( b ) at ( 4.6,0 ) ; ( c ) at ( 4.1,-.86 ) ; ( z1 ) at ( 5.9,-.25 ) ; ( z2 ) at ( 5.9,-.61 ) ; at ( 5.9,-.9 ) @xmath11 ; ( a ) edge [ ->- ] node[above ] 1.7 ( b ) ; ( c ) edge [ ->- ] node[right ] 0.3 ( b ) ; ( y1 ) edge ( a ) ; ( y2 ) edge ( c ) ; ( z1 ) edge ( b ) ; ( z2 ) edge ( c ) ;    specified by the shared foot of the two cospans .",
    "this results in the decorated cospan    \\(x ) at ( -1.4,-.43 ) ; at ( -1.4,-.9 ) @xmath10 ; ( a ) at ( 0,0 ) ; ( b ) at ( 1,0 ) ; ( c ) at ( 0.5,-.86 ) ; ( d ) at ( 2,0 ) ; ( z1 ) at ( 3.4,-.25 ) ; ( z2 ) at ( 3.4,-.61 ) ; at ( 3.4,-.9 ) @xmath11 ; ( b ) edge [ bend right,->- ] node[above ] 0.2 ( a ) ; ( a ) edge [ bend right,->- ] node[below ] 1.3 ( b ) ; ( a ) edge [ ->- ] node[left ] 0.8 ( c ) ; ( c ) edge [ ->- ] node[right ] 2.0 ( b ) ; ( b ) edge [ bend left,->- ] node[above ] 1.7 ( d ) ; ( b ) edge [ bend right,->- ] node[below ] 0.3 ( d ) ; ( x ) edge ( a ) ; ( z1 ) edge ( d ) ; ( z2 ) edge ( b ) ;    the decorated cospan framework generalises this intuitive construction .    more precisely : fix a set @xmath15 . then given a finite set @xmath12 , we may talk of the collection of finite @xmath15-labelled directed multigraphs , to us just @xmath15-graphs or simply graphs , that have @xmath12 as their set of vertices .",
    "write such a graph @xmath16 , where @xmath17 is a finite set of edges , @xmath18 and @xmath19 are functions giving the source and target of each edge respectively , and @xmath20 equips each edge with a label from the set @xmath15 . next , given a function @xmath21 , we may define a function from graphs on @xmath12 to graphs on @xmath22 mapping @xmath16 to @xmath23 . after dealing appropriately with size issues ,",
    "this gives a lax monoidal functor from @xmath24 to @xmath25 .",
    "is the monoidal category of finite sets and functions with disjoint union as monoidal product , and @xmath25 is the category of sets and functions with cartesian product as monoidal product .",
    "one might ensure the collection of graphs forms a set in a number of ways .",
    "one such method is as follows : the categories of finite sets and finite graphs are essentially small ; replace them with equivalent small categories .",
    "we then constrain the graphs @xmath16 to be drawn only from the objects of our small category of finite graphs . ]    now , taking any lax monoidal functor @xmath26 with @xmath0 having finite colimits and coproduct written @xmath1 , the decorated cospan category associated to @xmath27 has as objects the objects of @xmath0 , and as morphisms pairs comprising a cospan in @xmath0 together with some morphism @xmath5 , where @xmath28 is the unit in @xmath29 and @xmath12 is the apex of the cospan . in the case of our graph functor , this additional data is equivalent to equipping the apex @xmath12 of the cospan with a graph .",
    "we thus think of our morphisms as having two distinct parts : an instance of our chosen structure on the apex , and a cospan describing interfaces to this structure .",
    "our first theorem says that when @xmath29 is braided monoidal and @xmath30 lax braided monoidal , we may further give this data a composition rule and monoidal product such that the resulting ` decorated cospan category ' is symmetric monoidal with a special commutative frobenius monoid on each object .",
    "suppose now we have two such lax monoidal functors ; we then have two such decorated cospan categories .",
    "our second theorem is that , given also a monoidal natural transformation between these functors , we may construct a strict monoidal functor between their corresponding decorated cospan categories .",
    "these natural transformations can often be specified by some semantics associated to some type of topological diagram . a trivial case of such is assigning to a finite graph its number of vertices , but richer examples abound , including assigning to a directed graph with edges labelled by rates its depicted markov process , or assigning to an electrical circuit diagram the current  voltage relationship",
    "such a circuit would impose .",
    "an advantage of the decorated cospan framework is that the resulting categories are hypergraph categories , and the resulting functors respect this structure . as dagger compact categories ,",
    "hypergraph categories themselves have a rich diagrammatic nature @xcite , and in cases when our decorated cospan categories are inspired by diagrammatic applications , the hypergraph structure provides language to describe natural operations on our diagrams , such as juxtaposing , rotating , and reflecting them .",
    "the structure of this paper is straightforward : in the following section we review some basic background material , which then allows us to give the constructions of decorated cospan categories and their functors in sections [ sec : dcc ] and [ sec : dcf ] respectively .",
    "we then explicate these definitions through some examples in section [ sec : ex ] . for completeness",
    ", we supply further details of our proofs in the appendix [ sec : proofs ]",
    ".      we shall assume the following standard names for certain distinguished objects and morphisms , only disambiguating the symbols with subscripts when we judge that the extra clarity is worth the clutter .",
    "we write :    * @xmath28 for both identity morphisms and monoidal units , leaving context to determine which one we mean . *",
    "@xmath31 , @xmath32 , @xmath33 , and @xmath34 for respectively the left unitor , right unitor , associator , and , if present , braiding , in a monoidal category . * @xmath35 for the initial object in a category . * @xmath36 for the unique map from the initial object to a given object .",
    "recall that a * cospan * from @xmath10 to @xmath8 in a category @xmath0 is an object @xmath12 in @xmath0 with a pair of morphisms @xmath37 , @xmath38 ) : @xmath39^{i } & & y. \\ar[ul]_{o }    } \\ ] ] we shall refer to @xmath10 and @xmath8 as the * feet * , and @xmath12 as the * apex * of the cospan . cospans may be composed using the pushout from the common foot , when such a pushout exists : given cospans @xmath40 from @xmath10 to @xmath8 and @xmath41 from @xmath8 to @xmath11 , their composite cospan is @xmath42 , where @xmath43 , @xmath44 , and @xmath45 form the top half of the pushout square @xmath9^j & & m \\ar[ul]_{j ' } \\\\      x \\ar[ur]^{i_x } & & y \\ar[ul]_{o_y } \\ar[ur]^{i_y } & & z. \\ar[ul]_{o_z }    } \\ ] ] a * map of cospans * is a morphism @xmath46 in @xmath0 between the apices of two cospans @xmath47 and @xmath48 with the same feet , such that both triangles @xmath49^n   \\\\      x \\ar[ur]^{i } \\ar[dr]_{i ' } & & y \\ar[ul]_{o } \\ar[dl]^{o'}\\\\      & n '    } \\ ] ] commute . given a category @xmath0 with pushouts , we may define a category @xmath50 with objects the objects of @xmath0 and morphisms isomorphism classes of cospans @xcite .",
    "we will often abuse our terminology and refer to cospans themselves as morphisms in some cospan category @xmath50 ; we of course refer instead to the isomorphism class of the said cospan .",
    "a * frobenius monoid * @xmath51 in a monoidal category @xmath52 is an object @xmath10 together with monoid @xmath53 and comonoid @xmath54 structures such that @xmath55 a frobenius monoid is further called * special * if @xmath56 and further called * commutative * if the ambient monoidal category is symmetric and the monoid and comonoid structures that comprise the frobenius monoid are commutative and cocommutative respectively .",
    "note that for frobenius monoids commutativity of the monoid structure implies cocommutativity of the comoniod structure , and vice versa , so the use of the term ` commutativity ' for both the frobenius monoid and the constituent monoid is not ambiguous .",
    "a * hypergraph category * is a symmetric monoidal category in which each object is equipped with a special commutative frobenius structure @xmath57 such that @xmath58 a functor @xmath30 of hypergraph categories , or * hypergraph functor * , is a strong symmetric monoidal functor @xmath30 that preserves the hypergraph structure .",
    "more precisely , the latter condition means that given an object @xmath10 , the special commutative frobenius structure on @xmath59 must be @xmath60    this terminology was introduced recently @xcite , in reference to the fact that these special commutative frobenius monoids provide precisely the structure required to draw graphs with ` hyperedges ' : wires connecting any number of inputs to any number of outputs .",
    "commutative special frobenius monoids are also known as commutative separable algebras @xcite , and hypergraph categories as well - supported compact closed categories @xcite .",
    "note that if an object @xmath10 is equipped with a frobenius monoid structure then the maps @xmath61 and @xmath62 obey @xmath63 thus if an object carries a frobenius monoid it is also self - dual , and any hypergraph category is a fortiori self - dual compact closed .",
    "mapping each morphism @xmath64 to its dual morphism @xmath65 further equips each hypergraph category with a so - called dagger functor  an involutive contravariant endofunctor that is the identity on objects  such that the category is a dagger compact category .",
    "dagger compact categories were first introduced in the context of categorical quantum mechanics @xcite , under the name strongly compact closed category , and have been demonstrated to be a key structure in diagrammatic reasoning and the logic of quantum mechanics .",
    "we shall see that every decorated cospan category is a hypergraph category , and hence also a dagger compact category .",
    "a central example of a hypergraph category is the category @xmath66 of cospans in any category @xmath0 with finite colimits .",
    "we will later see that decorated cospan categories are a generalisation of such categories , and each inherits a hypergraph structure from such .",
    "first , @xmath66 inherits a symmetric monoidal structure from @xmath0 .",
    "we call a subcategory @xmath0 of a category @xmath67 * wide * if @xmath0 contains all objects of @xmath6 , and call a functor that is faithful and bijective - on - objects a * wide embedding*. note then that we have a wide embedding @xmath68 that takes each object of @xmath0 to itself as an object of @xmath66 , and each morphism @xmath64 in @xmath0 to the cospan @xmath69^{f } & & y , \\ar@{=}[ul ]      } \\ ] ] where the extended ` equals ' sign denotes an identity morphism .",
    "this allows us to view @xmath0 as a wide subcategory of @xmath66 .",
    "now as @xmath0 has finite colimits , it can be given a symmetric monoidal structure with the coproduct the monoidal product ; we write this monoidal category @xmath70 , and write @xmath35 for the initial object , the monoidal unit of this category",
    ". then @xmath66 inherits the same symmetric monoidal structure : since the monoidal product @xmath71 is left adjoint to the diagram functor , it preserves colimits , and so extends to a functor @xmath72 . the remainder of the monoidal structure is inherited because @xmath0 is a wide subcategory of @xmath66 .",
    "next , the frobenius structure comes from copairings of identity morphisms .",
    "we call cospans @xmath73^{i } & & y \\ar[ul]_{o }      }      \\qquad \\xymatrix@r=8pt{\\\\\\textrm{and } } \\qquad       \\xymatrix {        & n \\\\        y \\ar[ur]^{o } & & x \\ar[ul]_{i }      } \\ ] ] that are reflections of each other * opposite * cospans . given any object @xmath10 in @xmath0 , the copairing @xmath74\\colon   x + x \\to x$ ] of two identity maps on @xmath10 , together with the unique map @xmath75 from the initial object to @xmath10 , define a monoid structure on @xmath10 . considering these maps as morphisms in @xmath66",
    ", we may take them together with their opposites to give a special commutative frobenius structure on @xmath10 . in this way we consider each category @xmath66 a hypergraph category .",
    "it is a simple computation to check that the resulting dagger functor simply takes a cospan @xmath76 to its opposite cospan @xmath77 .",
    "we now detail our central construction and state the main theorem .",
    "[ def : fcospans ] let @xmath0 be a category with finite colimits , and @xmath78 be a lax monoidal functor .",
    "we define a * decorated cospan * , or more precisely an @xmath27-decorated cospan , to be a pair @xmath79^{i } & & y \\ar[ul]_{o }        }      \\end{aligned }      ,      \\qquad      \\begin{aligned }        \\xymatrix {      fn \\\\      1 \\ar[u]_{s }        }      \\end{aligned }      \\right)\\ ] ] comprising a cospan @xmath80 in @xmath0 together with an element @xmath81 of the @xmath27-image @xmath82 of the apex of the cospan .",
    "we shall call the element @xmath83 the * decoration * of the decorated cospan .",
    "a morphism of decorated cospans @xmath84 is a morphism @xmath46 of cospans such that @xmath85 .",
    "there is a category @xmath86 of @xmath27-decorated cospans , with objects the objects of @xmath0 , and morphisms isomorphism classes of @xmath27-decorated cospans . on representatives of the isomorphism classes ,",
    "composition in this category is given by pushout of cospans in @xmath0 @xmath87^{j_n } & & m \\ar[ul]_{j_m } \\\\",
    "\\quad x \\quad \\ar[ur]^{i_x } & & y \\ar[ul]_{o_y } \\ar[ur]^{i_y } & & \\quad z        \\quad \\ar[ul]_{o_z }      } \\ ] ] paired with the composite @xmath88}\\longrightarrow f(n+_ym)\\ ] ] of the tensor product of the decorations with the @xmath27-image of the copairing of the pushout maps .",
    "the identity morphism on an object @xmath10 in a decorated cospan category is simply the identity cospan decorated as follows : @xmath89 & & x \\ar@{=}[ul ]        }      \\end{aligned }      ,      \\qquad      \\begin{aligned }        \\xymatrixrowsep{.5pc }        \\xymatrix {      fx \\\\      f\\varnothing \\ar[u]_{f ! } \\\\      1 \\ar[u]_{\\varphi_1 }        }      \\end{aligned }      \\right).\\ ] ] we must check that the composition defined is well - defined on isomorphism classes , is associative , and , with the above identity maps , obeys the unitality axiom .",
    "these are straightforward , but lengthy , exercises in using the available colimits and monoidal structure to show that the relevant diagrams of decorations commute .",
    "the interested reader can find details in the appendix ( [ app : welldefined][app : identities ] ) .    while at first glance it might seem surprising that we can construct a composition rule for decorations @xmath90 and @xmath91 just from monoidal structure , the copair @xmath92\\colon   n+m \\to n+_ym$ ] of the pushout maps contains the data necessary to compose them . indeed , this is the key insight of the decorated cospan construction . to wit , the coherence maps for the lax monoidal functor allow us to construct an element of @xmath93 from the monoidal product @xmath94 of the decorations , and we may then post - compose with @xmath95 $ ] to arrive at an element of @xmath96 .",
    "the map @xmath92 $ ] encodes",
    "the identification of the image of @xmath8 in @xmath12 with the image of the same in @xmath22 , and so describes merging the ` overlap ' of the two decorations .",
    "our main theorem is that when _ braided _ monoidal structure is present , the category of decorated cospans is a hypergraph category , and moreover one into which the category of ` undecorated ' cospans widely embeds .",
    "this embedding motivates the monoidal and hypergraph structures we put on @xmath86 .",
    "[ thm : fcospans ] let @xmath0 be a category with finite colimits , @xmath2 a braided monoidal category , and @xmath97 be a lax braided monoidal functor . then we may give @xmath86 a symmetric monoidal and hypergraph structure such that there is a wide embedding of hypergraph categories @xmath98    recall that the identity decorated cospan has apex decorated by @xmath99 .",
    "given any cospan @xmath100 , we call the decoration @xmath101 the * empty decoration * on @xmath12 .",
    "we define a functor @xmath98 mapping each object of @xmath66 to itself as an object of @xmath86 , and each cospan in @xmath0 to the same cospan decorated with the empty decoration on its apex .",
    "as the composite of two empty - decorated cospans is again empty - decorated ( see appendix [ app : emptydecorations ] ) , this defines a functor .",
    "we define the monoidal product of objects @xmath10 and @xmath8 of @xmath86 to be their coproduct @xmath102 in @xmath0 , and define the monoidal product of decorated cospans @xmath103 and @xmath104 to be @xmath105^{i_x+i_{x ' } } & & y+y ' \\ar[ul]_{o_y+o_{y ' } }        }      \\end{aligned }      ,      \\qquad      \\begin{aligned }        \\xymatrixrowsep{.8pc }        \\xymatrix {      f(n+n ' ) \\\\      fn \\otimes fn ' \\ar[u]_{\\varphi_{n , n'}}\\\\      1 \\otimes 1 \\ar[u]_{s \\otimes t } \\\\      1 \\ar[u]_{\\lambda^{-1 } }        }      \\end{aligned }      \\right).\\ ] ] using the braiding in @xmath6 , we can show that this proposed monoidal product is functorial ( appendix [ app : monoidality ] ) .",
    "choosing associator , unitors , and braiding in @xmath86 to be the images of those in @xmath106 , we have a symmetric monoidal category .",
    "these transformations remain natural transformations when viewed in the category of @xmath27-decorated cospans as they have empty decorations ( see appendix [ app : naturality ] ) , and obey the required coherence laws as they are images of maps that obey these laws in @xmath106 .",
    "similarly , to arrive at the hypergraph structure on @xmath86 , we simply equip each object @xmath10 with the image of the special commutative frobenius monoid specified by the hypergraph structure of @xmath106 .",
    "it is evident that this choice of structures implies the above wide embedding is a hypergraph functor .",
    "note that if the monoidal unit in @xmath107 is the initial object , then each object only has one possible decoration : the empty decoration .",
    "this immediately implies the following corollary .",
    "let @xmath108 be the identity functor on a category @xmath0 with finite colimits .",
    "then @xmath50 and @xmath109 are isomorphic as hypergraph categories .",
    "thus we see that there is always a hypergraph functor between decorated cospan categories @xmath110 .",
    "this provides an example of a more general way to construct hypergraph functors between decorated cospan categories .",
    "we detail this in the next section .",
    "decorated cospans provide a setting for formulating various operations that we might wish to enact on the decorations , including the composition of these decorations , both sequential and monoidal , as well as dagger , dualising , and other operations afforded by the frobenius structure .",
    "we now observe that these operations are formulated in a systematic way , so that transformations of the decorating structure  that is , monoidal transformations between the lax monoidal functors defining decorated cospan categories  respect these operations .",
    "[ thm : decoratedfunctors ] let @xmath0 , @xmath111 be categories with finite colimits , abusing notation to write the coproduct in each category @xmath1 , and @xmath112 , @xmath113 be braided monoidal categories .",
    "further let @xmath114 and @xmath115 be lax braided monoidal functors .",
    "this gives rise to decorated cospan categories @xmath86 and @xmath116 .",
    "suppose then that we have a finite colimit - preserving functor @xmath117 with accompanying natural isomorphism @xmath118 , a lax monoidal functor @xmath119 , and a monoidal natural transformation @xmath120 .",
    "this may be depicted by the diagram : @xmath121 \\ar_{(a,\\alpha)}[d ] \\drtwocell        \\omit{_\\:\\theta } & ( \\mathcal d,\\otimes ) \\ar^{(b,\\beta)}[d ]   \\\\        ( \\mathcal c',+ ) \\ar_{(g,\\gamma)}[r ] & ( \\mathcal d',\\boxtimes ) .      } \\ ] ]    then we may construct a hypergraph functor @xmath122 mapping objects @xmath123 to @xmath124 , and morphisms @xmath79^{i } & & y \\ar[ul]_{o }        }      \\end{aligned }      ,      \\qquad      \\begin{aligned }        \\xymatrix {      fn \\\\      1_{\\mathcal d } \\ar[u]_{s }        }      \\end{aligned }      \\right )      \\qquad    to    \\qquad      \\left (      \\begin{aligned }        \\xymatrix {      & an \\\\        ax \\ar[ur]^{ai } & & ay \\ar[ul]_{ao }        }      \\end{aligned }      ,      \\qquad      \\begin{aligned }        \\xymatrixrowsep{.8pc }        \\xymatrix {      gan \\\\      bfn \\ar[u]_{\\theta_n}\\\\      b1_{\\mathcal d } \\ar[u]_{bs } \\\\      1_{\\mathcal d ' } \\ar[u]_{\\beta_1 }        }      \\end{aligned }      \\right).\\ ] ] moreover , @xmath125 is a strict monoidal functor if and only if @xmath126 is .",
    "we must prove that @xmath125 is a functor , is strong symmetric monoidal , and that it preserves the special commutative frobenius structure on each object .",
    "checking the functoriality of @xmath127 is again an exercise in applying the properties of structure available  in this case the colimit - preserving nature of @xmath128 and the monoidality of @xmath129 , @xmath130 , and @xmath131to show that the relevant diagrams of decorations commute .",
    "again , the interested reader may find details in the appendix ( [ app : functors ] ) .",
    "the coherence maps of the functor are given by the coherence maps for the monoidal functor @xmath128 , viewed now as cospans with the empty decoration .",
    "that is , we define the coherence maps @xmath132 to be the collection of isomorphisms @xmath133^{\\alpha_1 } & & a\\varnothing_{\\mathcal      c } \\ar@{=}[ul ]        }      \\end{aligned }      ,",
    "\\qquad      \\begin{aligned }        \\xymatrixrowsep{.9pc }        \\xymatrix {      ga\\varnothing_{\\mathcal c } \\\\      g\\varnothing_{\\mathcal c ' } \\ar[u]_{g ! } \\\\",
    "1_{\\mathcal d ' } \\ar[u]_{\\gamma_1 }        }      \\end{aligned }      \\right),\\ ] ] @xmath134^{\\alpha_{x , y } } & & a(x+y ) \\ar@{=}[ul ]        }      \\end{aligned }      ,      \\qquad      \\begin{aligned }        \\xymatrixrowsep{.9pc }        \\xymatrix {      ga(x+y ) \\\\      g\\varnothing_{\\mathcal c ' } \\ar[u]_{g ! } \\\\      1_{\\mathcal d } \\ar[u]_{\\gamma_1 }        }      \\end{aligned }      \\right),\\ ] ] where @xmath10 , @xmath8 are objects of @xmath116 .",
    "as @xmath126 is already strong symmetric monoidal and @xmath132 merely views these maps in @xmath0 as empty - decorated cospans in @xmath116 , @xmath132 is natural in @xmath10 and @xmath8 , and obeys the required coherence axioms for @xmath125 to also be strong symmetric monoidal ( appendix [ app : naturality2 ] ) .",
    "moreover , as @xmath128 is coproduct - preserving and the frobenius structures on @xmath86 and @xmath116 are built using various copairings of the identity map , @xmath125 preserves the hypergraph structure .    finally , it is straightforward to observe that the maps @xmath132 are identity maps if and only if the maps @xmath135 are , so @xmath125 is a strict monoidal functor if and only @xmath126 is .    when the decorating structure comprises some notion of topological diagram , such as a graph , these natural transformations @xmath131 might describe some semantic interpretation of the decorating structure . in this",
    "setting the above theorem constructs functorial semantics for the decorated cospan category of diagrams .",
    "we conclude this paper with an example of this application of decorated cospans .",
    "in this final section we outline two constructions of decorated cospan categories , based on labelled graphs and linear subspaces respectively , and a functor between these two categories interpreting each graph as an electrical circuit .",
    "we shall see that the decorated cospan framework allows us to take a notion of closed system and construct a corresponding notion of open or composable system , together with functorial semantics for these systems .",
    "this electrical circuits example outlines the motivating application for the decorated cospan construction ; further details can be found in @xcite .      to begin we return to the example of this paper s introduction .",
    "recall that a * @xmath136-graph * @xmath16 comprises a finite set @xmath12 of vertices ( or nodes ) , a finite set @xmath17 of edges , functions @xmath137 describing the source and target of each edge , and a function @xmath138 labelling each edge .",
    "the decorated cospan framework allows us to construct a category with , roughly speaking , these graphs as morphisms .",
    "more precisely , our morphisms will consist of these graphs , together with subsets of the nodes marked , with multiplicity , as ` input ' and ` output ' connection points .",
    "as suggested in the introduction , pick small categories equivalent to the categories of finite sets and @xmath136-graphs such that we may talk about the set of all @xmath136-graphs on each finite set @xmath12 .",
    "then we may consider the functor @xmath139",
    "taking a finite set @xmath12 to the set @xmath140 of @xmath136-graphs @xmath16 with set of nodes @xmath12 . on morphisms let it take a function @xmath21 to the function that pushes labelled graph structures on a set @xmath12 forward onto the set @xmath22 : @xmath141 as this map simply acts by post - composition , our map @xmath142 is indeed functorial .",
    "we then arrive at a lax braided monoidal functor @xmath143 by equipping this functor with the natural transformation @xmath144\\big),\\end{aligned}\\ ] ] together with the unit map @xmath145 where we remind ourselves that we write @xmath146 $ ] for the copairing of the functions @xmath147 and @xmath148 .",
    "the naturality of this collection of morphisms , as well as the coherence laws for lax braided monoidal functors , follow from the universal property of the coproduct .",
    "theorem [ thm : fcospans ] thus allows us to construct a hypergraph category @xmath149 . for an intuitive visual understanding of the morphisms of this category and its composition rule , see this paper s introduction .",
    "another example of a decorated cospan category arising from a functor @xmath150 is closely related to the category of linear relations . here",
    "we decorate each cospan in @xmath151 with a linear subspace of @xmath152 , the sum of the vector space generated by the apex @xmath12 over @xmath153 and its vector space dual .",
    "first let us recall some facts about relations .",
    "let @xmath154 be a relation ; we write this also as @xmath155 .",
    "the opposite relation @xmath156 , is the subset @xmath157 such that @xmath158 if and only if @xmath159 .",
    "we say that the image of a subset @xmath160 under a relation @xmath155 is the subset of all elements of the codomain @xmath8 related by @xmath161 to an element of @xmath162 .",
    "note that if @xmath10 and @xmath8 are vector spaces and @xmath162 and @xmath161 are both linear subspaces , then the image @xmath163 of @xmath162 under @xmath161 is again a linear subspace .",
    "now any function @xmath21 induces a linear map @xmath164 by precomposition .",
    "this linear map @xmath165 itself induces a dual map @xmath166 by precomposition .",
    "furthermore @xmath165 has , as a linear relation @xmath167 , an opposite linear relation @xmath168 .",
    "define the functor @xmath169 taking a finite set @xmath12 to set of linear subspaces of the vector space @xmath170 , and taking a function @xmath171 to the function @xmath172 induced by the sum of these two relations : @xmath173 the above operations on @xmath174 used in the construction of this map are functorial , and so it is readily observed that @xmath175 is indeed a functor .",
    "it is moreover lax braided monoidal as the sum of linear subspace of @xmath170 and a linear subspace of @xmath176 may be viewed as a subspace of @xmath177 , and the empty subspace is a linear subspace of each @xmath178 .",
    "we thus have a hypergraph category @xmath179 .",
    "electrical circuits and their diagrams are the motivating application for the decorated cospan construction .",
    "specialising to the case of networks of linear resistors , we detail here how we may use the category @xmath179 to provide semantics for the morphisms of @xmath149 as diagrams of networks of linear resistors .",
    "intuitively , after choosing a unit of resistance , say ohms ( @xmath180 ) , each @xmath136-graph can be viewed as a network of linear resistors , with the @xmath136-graph of the introduction now more commonly depicted as    \\(a ) at ( 0,0 ) ; ( b ) at ( 3,0 ) ; ( c ) at ( 1.5,-2.6 ) ; ( ua ) at ( .5,.25 ) ; ( ub ) at ( 2.5,.25 ) ; ( la ) at ( .5,-.25 ) ; ( lb ) at ( 2.5,-.25 ) ; ( a ) edge ( ua ) ; ( a ) edge ( la ) ; ( b ) edge ( ub ) ; ( b ) edge ( lb ) ; ( ua ) edge [ resistor ] node[label=[label distance=1pt]90:@xmath181 ( ub ) ; ( la ) edge [ resistor ] node[label=[label distance=1pt]270:@xmath182 ( lb ) ; ( a ) edge [ resistor ] node[label=[label distance=2pt]180:@xmath183 ( c ) ; ( c ) edge [ resistor ] node[label=[label distance=2pt]0:@xmath184 ( b ) ;    @xmath149 may then be viewed as a category with morphisms circuits of linear resistors equipped with chosen input and output terminals .",
    "the suitability of this language is seen in the way the different categorical structures of @xmath149 capture different operations that can be performed with circuits . to wit , the sequential composition expresses the fact that we can connect the outputs of one circuit to the inputs of the next , while the monoidal composition models the placement of circuits side - by - side .",
    "furthermore , the symmetric monoidal structure allows us reorder input and output wires , the compactness captures the interchangeability between input and output terminals of circuits  that is , the fact that we can choose any input terminal to our circuit and consider it instead as an output terminal , and vice versa  and the frobenius structure expresses the fact that we may wire any node of the circuit to as many additional components as we like .",
    "moreover , theorem [ thm : decoratedfunctors ] provides semantics .",
    "each node in a network of resistors can be assigned an electric potential and a net current outflow at that node , and so the set @xmath12 of vertices of a @xmath136-graph can be seen as generating a space @xmath178 of electrical states of the network .",
    "we define a natural transformation @xmath185 mapping each @xmath136-graph on @xmath12 , viewed as a network of resistors , to the linear subspace of @xmath178 of electrical states permitted by ohm s law . in detail , let @xmath186 .",
    "we define the power @xmath187 corresponding to a @xmath136-graph @xmath16 to be the function @xmath188 then the states of a network of resistors are given by a potential @xmath189 on the nodes and the gradient of the power at this potential : @xmath190 this defines a monoidal natural transformation .",
    "hence , by theorem [ thm : decoratedfunctors ] , we obtain a hypergraph functor @xmath191 .",
    "the semantics provided by this functor match the standard interpretation of networks of linear resistors .",
    "the maps of the frobenius monoid take on the interpretation of perfectly conductive wires , forcing the potentials at all nodes they connect to be equal , and the sum of incoming currents to equal the sum of outgoing currents  precisely the behaviour implied by kirchhoff s laws .",
    "more generally , let @xmath192 be a morphism of @xmath149 , with @xmath193 the power function corresponding to the graph @xmath194 .",
    "the image of this decorated cospan in @xmath179 is the decorated cospan @xmath195 .",
    "then it is straightforward to check that the subspace @xmath196\\big({\\operatorname{res}}_n(\\gamma)\\big)\\subseteq { { \\mathbb{r}}}^{x+y } \\oplus ( { { \\mathbb{r}}}^{x+y})^\\ast\\ ] ] is the subspace of electrical states on the terminals @xmath102 such that currents and potentials can be chosen across the network of resistors @xmath16 that obey ohm s and , on its interior , kirchhoff s laws . in particular , after passing to a subspace of the terminals in this way , composition in @xmath179 corresponds to enforcing kirchhoff s laws on the shared terminals of the two networks .",
    "a full exposition of this example can be found in @xcite .",
    "in this appendix we include the more technical aspects of the proofs that the proposed constructions are well - defined and have the properties claimed .",
    "this requires checking that a number of diagrams in decorated cospan categories commute .",
    "in particular , here we check that the decorations agree ; the required properties of cospans themselves are well - established . while many of these computations are on the routine side , we err on the side of more detail in the hope that these details might be instructive in understanding more precisely which aspects of monoidal functors imply given aspects of decorated cospan categories .",
    "let @xmath197 and @xmath198 be isomorphisms of decorated cospans .",
    "we wish to show that the composite of the decorated cospans on the left is isomorphic to the composite of the decorated cospans on the right .",
    "as discussed , it is well - known that the composite cospans are isomorphic , and it remains to us to check the decorations agree too .",
    "let @xmath199 be the isomorphism given by the universal property of the pushout and the isomorphisms @xmath200 and @xmath201 .",
    "then the two decorations in question are given by the top and bottom rows of the following diagram .",
    "@xmath202^{fn \\otimes fm}_\\sim      \\ar[rr]^{\\varphi_{n , m } } & & f(n+m ) \\ar[dd]^{f(n+m)}_\\sim      \\ar[rr]^{f[j_n , j_m ] } & & f(n+_ym ) \\ar[dd]^{fp}_\\sim \\\\       1 \\ar[rr]^(.4){\\lambda^{-1 } } & & 1\\otimes 1 \\ar[urr]^{s \\otimes t }      \\ar[drr]_{s ' \\otimes t ' } &      \\qquad\\textrm{\\tiny(i ) } & & \\textrm{\\tiny(f ) } & & \\textrm{\\tiny(c)}\\\\       & & & & fn ' \\otimes fm ' \\ar[rr]_{\\varphi_{n',m ' } } & & f(n'+m ' )      \\ar[rr]_{f[j_{n'},j_{m ' } ] } & & f(n'+_ym ' )    } \\ ] ] the triangle ( i ) commutes as @xmath203 and @xmath204 are morphisms of decorated cospans and @xmath205 is functorial , ( f ) commutes by the monoidality of @xmath27 , and ( c ) commutes by properties of colimits in @xmath0 and the functoriality of @xmath27 .",
    "this proves the claim .",
    "suppose we have morphisms @xmath206 @xmath207 @xmath208 it is well - known that composition of isomorphism classes of cospans via pushout of representatives is associative ; this follows from the universal properties of the relevant colimit .",
    "we must check that the pushforward of the decorations is also an associative process .",
    "write @xmath209 for the unique isomorphism between the two pairwise pushouts constructions from the above three cospans .",
    "consider then the following diagram , with leftmost column the decoration obtained by taking the composite of the first two morphisms first , and the rightmost column the decoration obtained by taking the composite of the last two morphisms first .",
    "@xmath210^{f\\tilde a } & & & & & & & &      \\scriptstyle f(n+_y(m+_zp ) ) \\\\      & & & & \\textrm{\\tiny(c ) } \\\\",
    "\\scriptstyle f((n+_ym)+p ) \\ar[uu]^{f[j_{n+_ym},j_p ] } & & & & & & & & \\scriptstyle      f(n+(m+_zp ) ) \\ar[uu]_{f[j_n , j_{m+_zp } ] } \\\\      & & \\scriptstyle f((n+m)+p ) \\ar[ull]_(.35)*+<6pt>_{\\scriptstyle f([j_n , j_m]+1_p ) }      \\ar[rrrr]^{fa } & & & & \\scriptstyle f(n+(m+p ) )      \\ar[urr]^(.35)*+<6pt>^{\\scriptstyle f(1_n+[j_m , j_p ] ) } \\\\      & \\textrm{\\tiny(f2 ) } & & & & & & \\textrm{\\tiny(f3 ) } \\\\",
    "\\scriptstyle f(n+_ym)\\otimes fp \\ar[uuu]^{\\varphi_{n+_ym , p } } & & & &       \\textrm{\\tiny(f1 ) } & & & & \\scriptstyle fn\\otimes f(m+_zp )      \\ar[uuu]_{\\varphi_{n , m+_zp } } \\\\      & & \\scriptstyle f(n+m)\\otimes fp \\ar[ull]^(.6)*+<6pt>^{\\scriptstyle        f[j_n , j_m ] \\otimes 1_{fp } } \\ar[uuu]_{\\varphi_{n+m , p } } & & & & \\scriptstyle        fn \\otimes f(m+p ) \\ar[urr]_(.6)*+<6pt>_{\\scriptstyle 1_{fn } \\otimes      f[j_m , j_p ] } \\ar[uuu]^{\\varphi_{n , m+p } } \\\\      & & & \\scriptstyle ( fn \\otimes fm ) \\otimes fp \\ar[ul]^{\\varphi_{n , m } \\otimes      1_{fp } } \\ar[rr]^{a } & & \\scriptstyle fn \\otimes ( fm \\otimes fp )      \\ar[ur]_{\\phantom{1}1_{fn } \\otimes \\varphi_{m , p } } \\\\       & & & & \\textrm{\\tiny(d2 ) } \\\\      & & & \\scriptstyle ( 1 \\otimes 1 ) \\otimes 1 \\ar[uu]^{(s \\otimes t ) \\otimes u }      \\ar[rr]^{a } & & \\scriptstyle 1 \\otimes ( 1 \\otimes 1 ) \\ar[uu]_{s      \\otimes ( t \\otimes u ) } \\\\      & & & & \\textrm{\\tiny(d1 ) } \\\\      & & & & \\scriptstyle 1 \\otimes 1 \\ar[uul]^{\\rho^{-1 } \\otimes 1 } \\ar[uur]_{1        \\otimes \\lambda^{-1 } } \\\\        & & & & \\scriptstyle 1 \\ar[u]^{\\lambda^{-1 } }    } \\ ] ] this diagram commutes as ( d1 ) is the triangle coherence equation for the monoidal category @xmath107 , ( d2 ) is naturality for the associator @xmath33 , ( f1 ) is the associativity condition for the monoidal functor @xmath27 , ( f2 ) and ( f3 ) commute by the naturality of @xmath211 , and ( c ) commutes as it is the @xmath27-image of a hexagon describing the associativity of the pushout .",
    "this shows that the two decorations obtained by the two different orders of composition of our three morphisms are equal up to the unique isomorphism @xmath212 between the two different pushouts that may be obtained .",
    "our composition rule is hence associative .",
    "we shall show that the claimed identity morphism on @xmath8 , the decorated cospan @xmath213 is an identity for composition on the right ; the case for composition on the left is similar .",
    "the cospan in this pair is known to be the identity cospan in @xmath50 .",
    "we thus need to check that , given a morphism @xmath214 the composite of the product @xmath215 with the @xmath27-image of the copairing @xmath216\\colon   n+y \\to n$ ] of the pushout maps is again the same element @xmath217 ; this composite being , by definition , the decoration of the composite of the given morphism and the claimed identity map .",
    "this is shown by the commutativity of the diagram below , with the path along the lower edge equal to the aforementioned pushforward .",
    "\\ar[ddrr]_{\\rho_1^{-1 } } & & & & & & & & & & fn \\\\      & & & & \\textrm{\\tiny(d1 ) } & & & & \\textrm{\\tiny(f1)}\\\\      & & 1 \\otimes 1 \\ar[rr]^{s\\otimes 1 } \\ar[ddrrrr]_{s \\otimes ( f ! \\circ      \\varphi_1 ) } & & fn \\otimes 1 \\ar[uurrrrrr]^{\\rho_{fn } } \\ar[rr]^(.57){1_{fn }    \\otimes \\varphi_1 }      & & fn \\otimes f\\varnothing \\ar[rr]^{\\varphi_{n,\\varnothing } } \\ar[dd]_{1_{fn }    \\otimes f ! } & & f(n+\\varnothing ) \\ar[uurr]^(.2){f\\rho_n = f[1_n , ! ] }        \\ar[dd]_{f(1_n+ ! ) } \\quad \\textrm{\\tiny(c)}\\\\        & & & & & \\textrm{\\tiny(d2 ) } & & \\textrm{\\tiny(f2)}\\\\        & & & & & & fn \\otimes fy \\ar[rr]_{\\varphi_{n , m } } & & f(n+y )        \\ar[uuuurr]_{f[1_n , i_y ] }    } \\ ] ] this diagram commutes as each subdiagram commutes : ( d1 ) commutes by the naturality of @xmath32 , ( d2 ) by the functoriality of the monoidal product in @xmath6 , ( f1 ) by the unit axiom for the monoidal functor @xmath27 , ( f2 ) by the naturality of @xmath211 , and ( c ) due to the properties of colimits in @xmath219 and the functoriality of @xmath27 .",
    "we generalise the previous observation for identity morphisms .",
    "let @xmath220 be a decorated cospan , and suppose we have an empty - decorated cospan @xmath221 here we show that the composite of these decorated cospans is @xmath222 in particular , the decoration on the composite is the decoration @xmath217 pushed forward along the @xmath27-image of the map @xmath223 to become an @xmath27-decoration on @xmath224 .",
    "we say that the empty decoration acts trivially on other decorations .",
    "the analogous statement holds for composition with an empty - decorated cospan on the left .",
    "as is now familiar , a statement of this sort is proved by a large commutative diagram : @xmath225^s \\ar[ddrr]_{\\rho_1^{-1 } } & & & & & & fn \\ar[rrrr]^{fj_n } & & & & f(n+_ym ) \\\\      & & & \\textrm{\\tiny(d1 ) } & & & \\textrm{\\tiny(f1 ) } & & \\textrm{\\tiny(c1 ) } \\\\      & & 1 \\otimes 1 \\ar[rr]^{s\\otimes 1 } \\ar[ddrrrr]_{s \\otimes ( f ! \\circ      \\varphi_1 ) } & & fn \\otimes 1 \\ar[uurr]^{\\rho_{fn } } \\ar[rr]^{1_{fn }    \\otimes \\varphi_1 }      & & fn \\otimes f\\varnothing \\ar[rr]^{\\varphi_{n,\\varnothing } } \\ar[dd]_{1_{fn }    \\otimes f ! } & & f(n+\\varnothing ) \\ar[uull]_{f\\rho_n = f[1_n , ! ] }    \\ar[uurr]^{f[j_n , ! ] }        \\ar[dd]_{f(1_n+ ! ) } \\quad \\textrm{\\tiny(c2)}\\\\        & & & & & \\textrm{\\tiny(d2 ) } & & \\textrm{\\tiny(f2)}\\\\        & & & & & & fn \\otimes fm \\ar[rr]_{\\varphi_{n , m } } & & f(n+m )        \\ar[uuuurr]_{f[j_n , j_m ] }    } \\ ] ] this subdiagrams in this diagram commute for the same reasons as their corresponding regions in the previous diagram .",
    "a consequence of the trivial action of the empty decoration is that the composite of two empty - decorated cospans is again empty - decorated .",
    "this is crucial for the functoriality of the embedding @xmath226 .",
    "suppose we have decorated cospans @xmath227 @xmath228 we must check the so - called interchange law : that the composite of the column - wise monoidal products is equal to the monoidal product of the row - wise composites .",
    "again , for the cospans we take this equality as familiar fact .",
    "write @xmath229 for the isomorphism between the two resulting representatives of the isomorphism class of cospans .",
    "the two resulting decorations are then given by the leftmost and rightmost columns respectively of the diagram below . @xmath230^{fb}_{\\sim } & & & &      \\scriptstyle f((n+_ym)+(p+_vq ) ) \\\\      & \\textsc{\\tiny(c ) } \\\\",
    "\\scriptstyle f((n+p)+(m+q ) ) \\ar[uu]^{f[j_{n+p},j_{m+q } ] } \\ar@{.>}[uurrrr ] & & &      \\textsc{\\tiny(f2 ) } & \\scriptstyle f(n+_ym)\\otimes f(p+_vq )      \\ar[uu]_{\\varphi_{n+_ym , p+_vq } } \\\\      \\\\      \\scriptstyle f(n+p)\\otimes",
    "f(m+q ) \\ar[uu]^{\\varphi_{n+p , m+q } } & & & &      \\scriptstyle f(n+m)\\otimes f(p+q ) \\ar@{.>}[uullll ]      \\ar[uu]_{f[j_n , j_m ] \\otimes f[j_p , j_q ] } \\\\      & & \\textsc{\\tiny(f1 ) } \\\\      \\scriptstyle ( fn \\otimes fp ) \\otimes ( fm \\otimes fq ) \\ar[uu]^{\\varphi_{n , p } \\otimes      \\varphi_{m , q } } \\ar@{.>}[rrrr ] & & & & \\scriptstyle ( fn \\otimes fm ) \\otimes ( fp \\otimes fq )      \\ar[uu]_{\\varphi_{n , m } \\otimes \\varphi_{p , q } } \\\\      & & \\textsc{\\tiny(d ) } \\\\      & & \\scriptstyle ( 1\\otimes1)\\otimes(1\\otimes1 ) \\ar[uull]^{(s\\otimes u ) \\otimes ( t \\otimes      v ) } \\ar[uurr]_{(s \\otimes",
    "t ) \\otimes ( u \\otimes v ) } \\\\      & & \\scriptstyle 1 \\ar[u]_{(\\lambda^{-1}\\otimes\\lambda^{-1})\\circ\\lambda^{-1 } }    } \\ ] ] these two decorations are related by the isomorphism @xmath231 as the diagram commutes .",
    "we argue this more briefly than before , as the basic structure of these arguments is now familiar to us .",
    "briefly then , there exist dotted arrows of the above types such that the subdiagram ( d ) commutes by the naturality of the associators and braiding in @xmath6 , ( f1 ) commutes by the coherence diagrams for the braided monoidal functor @xmath27 , ( f2 ) commutes by the naturality of the coherence map @xmath211 for @xmath27 , and ( c ) commutes by the properties of colimits in @xmath0 and the functoriality of @xmath27 .    using now routine methods , it also is straightforward to show that the monoidal product of identity decorated cospans on objects @xmath10 and @xmath8 is the identity decorated cospan on @xmath102 ; for the decorations this amounts to the observation that the monoidal product of empty decorations is again an empty decoration .",
    "given a decorated cospan @xmath232 , we must show that the diagram of decorated cospans @xmath233^{i+1 } \\ar[d]_{\\lambda_{\\mathcal c } } & n+\\varnothing & y+\\varnothing      \\ar[l]_{i+1 } \\ar[d]^{\\lambda_{\\mathcal c } } \\\\      x \\ar[r]_{i } & n & y \\ar[l]^{o }     } \\ ] ] commutes , where the @xmath234 are the maps of the left unitor in @xmath0 considered as empty - decorated cospans , and where the top cospan has decoration @xmath235 and the lower cospan simply has decoration @xmath236 .",
    "now as the @xmath31 are isomorphisms in @xmath0 and have empty decorations , by appendix [ app : emptydecorations ] the composite through the upper right corner is isomorphic to the decorated cospan @xmath237 while the composite through the lower left corner is isomorphic to the decorated cospan @xmath238}\\longrightarrow n \\stackrel{o}\\longleftarrow y,\\enspace 1 \\stackrel{s}\\longrightarrow fn).\\ ] ] furthermore , @xmath239 gives an isomorphism between these two cospans , and the naturality of the left unitor and the left unitality axiom in @xmath6 imply that this is in fact an isomorphism of decorated cospans : @xmath240^{s } \\ar[d]_{\\lambda^{-1}_{\\mathcal d } } & & & fn \\\\      1 \\otimes 1 \\ar[r]_{s \\otimes 1 } & fn \\otimes 1",
    "\\ar[r]_{1 \\otimes \\varphi_1 }      \\ar[urr]^{\\lambda_{\\mathcal d } } & fn \\otimes f\\varnothing      \\ar[r]_{\\varphi_{n,\\varnothing } } & f(n+\\varnothing ) .",
    "\\ar[u]_{f\\lambda_{\\mathcal c } }    } \\ ] ]      let @xmath241 be morphisms in @xmath86 .",
    "as the composition of the cospan part is by pushout in @xmath0 in both cases , and as @xmath127 acts as the colimit preserving functor @xmath128 on these cospans , it is clear that @xmath127 preserves composition of isomorphism classes of cospans .",
    "write @xmath242 for the isomorphism from the cospan obtained by composing the @xmath128-images of the above two decorated cospans to the cospan obtained by taking the @xmath128-image of their composite . to see that this extends to an isomorphism of decorated cospans , observe that the decorations of these two cospans are given by the rightmost and leftmost columns respectively in the following diagram : @xmath243_{gc}^{\\sim } g(an+_{ay}am ) \\\\",
    "& & & & & \\textsc{\\tiny(a ) } \\\\",
    "bf(n+_ym ) \\ar[uu]^{\\theta_{n+ym } } & & \\textsc{\\tiny(t2 ) } & & ga(n+m )      \\ar[uullll]_{ga[j_n , j_m ] } & & & & g(an+am ) \\ar[uu]_{g[j_{an},j_{am } ] }      \\ar[llll]^{\\sim}_{g\\alpha } \\\\      \\\\",
    "bf(n+m ) \\ar[uu]^{bf[j_n",
    ", j_m ] } \\ar[uurrrr]_{\\theta_{n , m } } & & & &      \\textsc{\\tiny(t1 ) } & & & & gan \\boxtimes gam \\ar[uu]_{\\gamma_{an , am } } \\\\      \\\\",
    "b(fn \\otimes fm ) \\ar[uu]^{b\\varphi_{n , m } } & & & & & & & & bfn \\boxtimes bfm      \\ar[uu]_{\\theta_n \\boxtimes \\theta_m } \\ar[llllllll]_{\\beta_{fn , fm } } \\\\      & & & & \\textsc{\\tiny(b2 ) } \\\\",
    "b(1_{\\mathcal d } \\otimes 1_{\\mathcal d } ) \\ar[uu]^{b(s \\otimes t ) } & & & & & & & &      b1_{\\mathcal d } \\boxtimes b1_{\\mathcal d } \\ar[uu]_{bs \\boxtimes bt }      \\ar[llllllll]_{\\beta_{1,1 } } \\\\      & & & \\textsc{\\tiny(b1 ) } & & & & \\textsc{\\tiny(d2 ) } \\\\",
    "b1_{\\mathcal d } \\ar[uu]^{\\beta\\lambda^{-1}_1 } \\ar[rrrr]^{\\lambda^{-1}_{b1 } }      & & & & 1_{\\mathcal d ' } \\boxtimes b1_{\\mathcal d } \\ar[uurrrr]^{\\beta_1 \\boxtimes 1 }      & & & & 1_{\\mathcal d ' } \\boxtimes 1_{\\mathcal d ' } \\ar[uu]^{\\beta_1 \\boxtimes \\beta_1 }      \\ar[llll]_{1 \\boxtimes \\beta_1 } \\\\      & & & & \\textsc{\\tiny(d1 ) } \\\\      & & & & 1_{\\mathcal d ' } \\ar[uullll]^{\\beta_1 } \\ar[uurrrr]_{\\lambda^{-1}_1 }    } \\ ] ] from bottom to top , ( d1 ) commutes by the naturality of @xmath31 , ( d2 ) by the functoriality of the monoidal product @xmath244 , ( b1 ) by the unit law for @xmath130 , ( b2 ) by the naturality of @xmath245 , ( t1 ) by the monoidality of the natural transformation @xmath131 , ( t2 ) by the naturality of @xmath131 , and ( a ) by the colimit preserving property of @xmath128 and the functoriality of @xmath246 .",
    "we must also show that identity morphisms are mapped to identity morphisms .",
    "let @xmath247 be the identity morphism on some object @xmath10 in the category of @xmath27-decorated cospans .",
    "now this morphism has @xmath127-image @xmath248 but we have the following diagram @xmath249^{bf ! }      \\ar[dddd]^{\\theta_\\varnothing } \\\\      \\\\",
    "& & b1_{\\mathcal d } \\ar[uurr]^{b\\varphi_1 } & & & & bfx \\ar[ddrr]^{\\theta_x } \\\\      & & & \\textsc{\\tiny ( t1 ) } & & \\textsc{\\tiny ( t2 ) } \\\\      1_{\\mathcal d ' } \\ar[uurr]^{\\beta_1 } \\ar[rr]_{\\gamma_1 }      \\ar[ddddrrrr]_{\\gamma_1 } & & g\\varnothing_{\\mathcal c ' } \\ar[rr]_{g\\alpha_1 }      & & ga\\varnothing_{\\mathcal c } \\ar[rrrr]_{ga ! } & & & & gax \\\\      & & & \\textsc{\\tiny ( a1 ) } & & \\textsc{\\tiny ( a2 ) } \\\\      \\\\      \\\\      & & & & g\\varnothing_{\\mathcal c ' } \\ar[uuuu]^{\\sim}_{g ! } \\ar[uuuurrrr]_{g ! }    } \\ ] ] here ( a1 ) and ( a2 ) commute by the fact @xmath128 preserves colimits , ( t1 ) commutes by the unit law for the monoidal natural transformation @xmath131 , and ( t2 ) commutes by the naturality of @xmath131 .",
    "the monoidality of a functor @xmath125 has two aspects : the naturality of the transformation @xmath132 , and the coherence axioms .",
    "we discuss the former ; since @xmath132 is just an empty - decorated version of @xmath135 , the latter then immediately follow from the coherence of @xmath135 .",
    "the naturality of @xmath132 may be proved via the same method as that employed in appendix [ app : naturality ] ; we first use appendix [ app : emptydecorations ] to compute the two paths around the naturality square , and then use the naturality of the coherence map @xmath135 to show that these two decorated cospans are isomorphic .    in slightly more detail ,",
    "suppose we have decorated cospans @xmath251 then naturality demands that the cospans @xmath252 and @xmath253 are isomorphic as decorated cospans , with decorations the top and bottom rows of the diagram below respectively .",
    "@xmath254^(.4){\\beta_1 \\otimes \\beta_1 } & b1 \\otimes b1 \\ar[r]^(.4){bs      \\otimes bt } & bfn \\otimes bfm \\ar[r]^{\\theta_n \\otimes \\theta_m } & gan \\otimes      gam \\ar[r]^{\\gamma_{an , am } } & g(an+am ) \\ar[dd]^{g\\alpha_{n , m } } \\\\      1 \\ar[ur]^{\\lambda^{-1 } } \\ar[dr]_{\\beta_1 } \\\\      & b1 \\ar[r]_(.4){b\\lambda^{-1 } } & b(1 \\otimes 1 ) \\ar[r]_(.4){b(s\\otimes t ) } & b(fn      \\otimes fm ) \\ar[r]_{b\\varphi_{n , m } } & b(f(n+m ) )      \\ar[r]_{\\theta_{n , m } } & g(a(n+m ) ) .    } \\ ] ] as it is a subdiagram of the large commutative diagram in appendix [ app : functors ] , this diagram commutes .",
    "the diagrams required for @xmath255 to be a morphism of cospans also commute , so our decorated cospans are indeed isomorphic .",
    "this proves @xmath132 is a natural tranfomation .",
    "s.  abramsky , b.  coecke , a categorical semantics of quantum protocols , _ proceedings of the 19th ieee conference on logic in computer science _ ( lics04 ) .",
    "ieee computer science press ( 2004 ) .",
    "available as http://arxiv.org/abs/quant-ph/0402130[arxiv:quant-ph/0402130 ] .",
    "p.  katis , n.  sabadini , r.  f.  c. walters , span(graph ) : a categorial algebra of transition systems , _",
    "amast 97 proceedings of the 6th international conference on algebraic methodology and software technology _ , ( 1997 ) , 307321 .",
    "r.  rosebrugh , n.  sabadini and r.  f.  c.  walters , generic commutative separable algebras and cospans of graphs , _ theory appl .",
    "categ . _ * 15 * ( 2005 ) , 264277 .",
    "available at http://www.tac.mta.ca/tac/volumes/15/6/15-06abs.html .",
    "p.  selinger , a survey of graphical languages for monoidal categories . in b.",
    "coecke , ed . , _",
    "new structures for physics _ , lecture notes in physics 813:289355 , springer , 2011 .",
    "available as http://arxiv.org/abs/0908.3347[arxiv:0908.3347 ] .",
    "d.  i.   spivak , the operad of wiring diagrams : formalizing a graphical language for databases , recursion , and plug - and - play circuits , preprint .",
    "available as http://arxiv.org/abs/1305.0297[arxiv:1305.0297 ] ."
  ],
  "abstract_text": [
    "<S> let @xmath0 be a category with finite colimits , writing its coproduct @xmath1 , and let @xmath2 be a braided monoidal category . we describe a method of producing a symmetric monoidal category from a lax braided monoidal functor @xmath3 , and of producing a strong monoidal functor between such categories from a monoidal natural transformation between such functors . </S>",
    "<S> the objects of these categories , our so - called ` decorated cospan categories ' , are simply the objects of @xmath0 , while the morphisms are pairs comprising a cospan @xmath4 in @xmath0 together with an element @xmath5 in @xmath6 . </S>",
    "<S> moreover , decorated cospan categories are hypergraph categories  each object is equipped with a special commutative frobenius monoid  and their functors preserve this structure . </S>"
  ]
}