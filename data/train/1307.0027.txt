{
  "article_text": [
    "the study of pattern - avoiding permutations , and more generally , of hereditary permutation classes , is one of the main topics in combinatorics . however , despite considerable effort , many basic questions remain unanswered . for instance , for permutations that avoid the pattern 1324 , we still have no useful structural characterization , and no precise asymptotic enumeration either .",
    "recently , claesson , jelnek and steingrmsson  @xcite have shown that every permutation @xmath0 that avoids 1324 can be merged from a permutation avoiding 132 and a permutation avoiding 213 ; in other words , the elements of @xmath0 can be colored red and blue so that there is no red copy of 132 and no blue copy of 213 . from this",
    ", they deduced that there are at most @xmath8 1324-avoiding permutations of order  @xmath9 .",
    "they have extended this merging argument to more general patterns , showing in particular that if @xmath6 is a layered pattern of size @xmath10 , then there are at most @xmath11 @xmath6-avoiding permutations of size  @xmath9 .",
    "subsequently , this approach was further developed by bna  @xcite , who proved , among other results , that there are at most @xmath12 1324-avoiders of size  @xmath9 .",
    "these results are also based on arguments showing that avoiders of certain patterns can be merged from avoiders of smaller patterns .    motivated by these results",
    ", we address the general problem of identifying when a permutation class @xmath3 has proper subclasses @xmath4 and @xmath5 , such that every element of @xmath3 can be obtained by merging an element of @xmath4 with an element of  @xmath5 .",
    "we call a class @xmath3 with this property _ splittable_. in this paper , we mostly focus on classes defined by avoidance of a single forbidden pattern , although some of our results are applicable to general hereditary classes as well .    on the negative side , we show that if @xmath6 is a simple permutation , then the class @xmath7 of all @xmath6-avoiding permutations is unsplittable",
    ". more generally , every wreath - closed permutation class is unsplittable .",
    "we also find examples of unsplittable classes that are not wreath - closed , e.g. , the class of layered permutations or the class of 132-avoiding permutations .    on the positive side , we show that if @xmath6 is a direct sum of two nonempty permutations and has size at least four , then @xmath7 is splittable .",
    "this extends previous results of claesson et al .",
    "@xcite , who address the situation when @xmath6 is a direct sum of three permutations , with an extra assumption on one of the three summands .",
    "the concept of splittability is closely related to several other structural properties of classes of relational structures , which have been previously studied in the area of ramsey theory .",
    "we shall briefly mention some of these connections in subsection  [ ssec - ramsey ] .",
    "we will also establish a less direct , but perhaps more useful , connection between splittability and coloring of circle graphs .",
    "let @xmath13 be the permutation @xmath14 of order  @xmath15 .",
    "we will show , as a special case of more general results , that all @xmath13-avoiding permutations can be merged from a bounded number , say @xmath16 , of @xmath17-avoiding permutations .",
    "moreover , we prove that the smallest such @xmath16 is equal to the smallest number of colors needed to properly color every circle graph with no clique of size  @xmath10 .",
    "this allows us to turn previous results on circle graphs  @xcite into results on splittability of @xmath13-avoiding permutations , and to subsequently extend these results to more general patterns .",
    "we deal with this topic in subsection  [ ssec - circ ] .        a _ permutation _ of order @xmath18 is a sequence @xmath0 of @xmath9 distinct numbers from the set @xmath19=\\{1,2,\\dotsc , n\\}$ ] .",
    "we let @xmath20 denote the @xmath21-th element of  @xmath0 .",
    "we often represent a permutation @xmath0 by a _ permutation diagram _ , which is a set of @xmath9 points with cartesian coordinates @xmath22 , for @xmath23 .",
    "the set of permutations of order  @xmath9 is denoted by @xmath24 .",
    "when writing out short permutations explicitly , we omit all punctuation and write , e.g. , 1324 for the permutation 1 ,  3 ,  2 ,  4 .",
    "the _ complement _ of a permutation @xmath25 is the permutation @xmath26 satisfying @xmath27 . for a permutation @xmath28 and two indices",
    "@xmath29 $ ] , we say that the element @xmath20 _ covers _",
    "@xmath30 if @xmath31 and @xmath32 .",
    "if an element @xmath20 is not covered by any other element of @xmath0 , i.e. , if @xmath20 is the smallest element of @xmath33 , we say that @xmath20 is a _ left - to - right minimum _ , or just _ lr - minimum _ of  @xmath0 .",
    "if @xmath20 is not an lr - minimum , we say that @xmath20 is a _ covered element _ of  @xmath0 .",
    "given two permutations @xmath34 and @xmath25 , we say that @xmath0 _ contains _",
    "@xmath6 if there is an @xmath35-tuple of indices @xmath36 , such that the sequence @xmath37 is _ order - isomorphic _ to @xmath6 , i.e. , if for every @xmath38 $ ] we have @xmath39 .",
    "we then say that @xmath40 is an _ occurrence _ of @xmath6 in @xmath0 , and the function @xmath41\\to[n]$ ] defined by @xmath42 is an _ embedding _ of @xmath6 into  @xmath0 .",
    "a permutation that does not contain @xmath6 is _",
    "@xmath6-avoiding_. we let @xmath7 denote the set of all @xmath6-avoiding permutations , and for a set @xmath43 of permutations , we let @xmath44 denote the set of permutations that avoid all elements of  @xmath43 .    a set @xmath3 of permutations is _ hereditary _ if for every @xmath45 all the permutations contained in @xmath0 belong to @xmath3 as well .",
    "we use the term _ permutation class _ to refer to a hereditary set of permutations .",
    "it is not hard to see that a set @xmath3 of permutations is hereditary if and only if there is a ( possibly infinite ) set @xmath43 such that @xmath46 .",
    "a _ principal _",
    "permutation class is a class of the form @xmath47 for some permutation  @xmath0 .",
    "the _ direct sum _ @xmath48 of two permutations @xmath34 and @xmath25 is the permutation @xmath49 . similarly , the _ skew sum _",
    "@xmath50 is the permutation @xmath51 ( see figure  [ fig - suma ] .",
    "a permutation is _ decomposable _ if it is a direct sum of two nonempty permutations .",
    ", scaledwidth=70.0% ]    suppose that @xmath25 is a permutation , let @xmath52 be an @xmath9-tuple of nonempty permutations , and let @xmath53 be the order of @xmath54 for  @xmath55 $ ] .",
    "_ the inflation _ of @xmath0 by the sequence @xmath52 , denoted by @xmath56 $ ] , is the permutation of order @xmath57 obtained by concatenating @xmath9 sequences @xmath58 with these properties ( see figure  [ fig - naf ] ) :    * for each @xmath55 $ ] , @xmath59 is order - isomorphic to @xmath54 , and * for each @xmath29 $ ] , if @xmath32 , then all the elements of @xmath59 are smaller than all the elements of  @xmath60 .",
    "= 4357612$],scaledwidth=70.0% ]    we say that a permutation @xmath0 is _ simple _ if it can not be obtained by an inflation , except for the trivial inflations @xmath61 $ ] and @xmath62 $ ] .",
    "albert and atkinson  ( * ? ? ?",
    "* proposition 2 ) have pointed out that for every permutation @xmath1 there is a unique simple permutation @xmath0 such that @xmath1 may be obtained by inflating @xmath0 , and moreover , if @xmath0 is neither 12 nor 21 , then the inflation is determined uniquely .    for two sets @xmath4 and @xmath5 of permutations , _ the wreath product _ of @xmath4 and @xmath5 , denoted by @xmath63 , is the set of all the permutations that may be obtained by inflating an element of @xmath4 by a sequence of elements of  @xmath5 . if @xmath4 or @xmath5 is a singleton set @xmath64 , we just write @xmath65 or @xmath66 , respectively . note that if @xmath4 and @xmath5 are hereditary , then so is  @xmath63 .",
    "for a set @xmath67 of permutations , we say that a set of permutations @xmath68 is _ closed under @xmath69 _ if @xmath70 , and @xmath68 is _ closed under @xmath71 _ if @xmath72 .",
    "note that @xmath68 is closed under @xmath73 if and only if it is closed under taking direct sums , and it is closed under @xmath74 if and only if it is closed under skew sums .",
    "we say that a set of permutations @xmath68 is _ wreath - closed _ if @xmath75 .",
    "a principal permutation class @xmath47 is wreath - closed if and only if @xmath0 is a simple permutation , and more generally , a permutation class is wreath - closed if and only if it is equal to @xmath44 for a set @xmath43 that only contains simple permutations  ( * ? ? ?",
    "* proposition 1 ) .",
    "simple permutations , inflations and wreath products are crucial concepts in understanding the structure of permutation classes , as demonstrated , e.g. , by the work of brignall  @xcite or brignall , huczynska and vatter  @xcite .      recall that a permutation @xmath0 is _ merged _ from permutations @xmath1 and @xmath2 , if it can be partitioned into two disjoint subsequences , one of which is an occurrence of @xmath1 and the other is an occurrence of  @xmath2 . for two permutation classes @xmath76 and",
    "@xmath77 , we write @xmath78 for the class of all the permutations that can be obtained by merging a ( possibly empty ) permutation from @xmath76 with a ( possibly empty ) permutation from  @xmath77 .",
    "clearly , @xmath78 is again a permutation class .",
    "we are interested in finding out which permutation classes @xmath79 can be merged from finitely many proper subclasses .",
    "we say that a multiset @xmath80 of permutation classes forms a _ splitting _ of a permutation class @xmath79 if @xmath81 .",
    "the classes @xmath82 are the _ parts _ of the splitting .",
    "the splitting is _ nontrivial _ if none of its parts is a superset of @xmath79 , and the splitting is _ irredundant _ if no proper submultiset of @xmath80 forms a splitting of  @xmath79 .",
    "we say that a class of permutations is _ splittable _ if it has a nontrivial splitting . to familiarize ourselves with this key notion of the paper ,",
    "we now provide several equivalent definitions of splittability .",
    "[ lem - simple ] for a class @xmath79 of permutations , the following properties are equivalent :    * @xmath79 is splittable . *",
    "@xmath79 has a nontrivial splitting into two parts .",
    "* @xmath79 has a splitting into two parts , in which each part is a proper subclass of  @xmath79 . *",
    "@xmath79 has a nontrivial splitting into two parts , in which each part is a principal class .",
    "suppose that @xmath79 is splittable , and let @xmath83 be a nontrivial irredundant splitting of  @xmath79 .",
    "define a class @xmath84 . by irredundance ,",
    "the class @xmath79 is not a subset of @xmath85 , and therefore @xmath86 is a nontrivial splitting of @xmath79 into two parts .",
    "moreover , @xmath87 is a splitting into two parts , with each part being a proper subclass of  @xmath79 .",
    "this shows that ( a ) implies ( b ) and  ( c ) .    to prove that ( b ) implies ( d ) , suppose that @xmath88 is a nontrivial splitting of @xmath79 into two parts",
    "choose arbitrary permutations @xmath89 and @xmath90 .",
    "then @xmath7 is a superset of @xmath91 but not a superset of @xmath79 , and similarly for @xmath47 and @xmath92 .",
    "thus @xmath93 is a splitting of  @xmath79 that witnesses property  ( d ) . since both ( c ) and",
    "( d ) clearly imply ( a ) , the statements ( a ) through ( d ) are equivalent .",
    "we remark that in general , a splittable class need not have a splitting that simultaneously satisfies properties ( c ) and ( d ) of lemma  [ lem - simple ] .",
    "for instance , we will later see that the class @xmath94 is splittable , but it can not be split into its principal proper subclasses , not even if we consider splittings with an arbitrary finite number of parts .    for a multiset @xmath95 and an integer @xmath10 , let @xmath96 denote the multiset obtained by increasing @xmath10-times the multiplicity of each element of  @xmath95 .",
    "we will occasionally refer to several specific permutation classes .",
    "one such class is the class @xmath97 whose members are known as _ layered permutations_. layered permutations are exactly the permutations that can be obtained as direct sums of decreasing sequences , or equivalently , they are the elements of @xmath98",
    ". another important class is the class @xmath99 of _ separable permutations_. separable permutations are exactly the permutations obtainable from the singleton permutation by iterated direct sums and skew sums .",
    "therefore , they form the smallest nonempty class closed under both direct sums and skew sums .",
    "splittability is related to several previously studied structural properties of permutation classes .",
    "these properties , including splittability itself , are not specific to classes of permutations , but are more generally applicable to classes of arbitrary objects that are partially ordered by containment , such as posets , graphs , directed graphs or uniform hypergraphs .",
    "a convenient formalism for such structures is based on the notion of ` relational structure ' .",
    "a _ relational structure _ with _ signature _ @xmath100 on a vertex set @xmath101 is a @xmath10-tuple @xmath102 , where @xmath103 is a relation of arity @xmath104 on  @xmath101 , i.e. , @xmath103 is a set of ordered @xmath104-tuples of ( not necessarily distinct ) elements of  @xmath101 . for a relational structure",
    ", we may define in an obvious way the notion of induced substructure .",
    "a _ class of relational structures _ is a set of isomorphism types of finite relational structures all sharing the same signature and closed under taking induced substructures .",
    "a detailed treatment of the topic of relational structures can be found , e.g. , in the papers of cameron  @xcite or pouzet  @xcite .",
    "as explained , e.g. , in  @xcite , a permutation of order @xmath9 can be represented as a relational structure formed by two linear orders on a vertex set of size @xmath9 , and so permutation classes are a particular case of classes of relational structures of signature @xmath105 .",
    "a structural property that is directly related to splittability is known as atomicity .",
    "a class of relational structures @xmath79 is _ atomic _ if it does not have proper subclasses @xmath76 and @xmath77 such that @xmath106 .",
    "frass ( @xcite , see also  @xcite ) has proved the following result :    for a class @xmath79 of relational structures , the following properties are equivalent :    * @xmath79 is atomic . * for any two elements @xmath107 there is a @xmath108 which contains both @xmath1 and @xmath2 as substructures ( this is known as _ the joint embedding property _ , and @xmath6 is a _ joint embedding _ of @xmath1 and @xmath2 ) .",
    "* there is a ( possibly infinite ) relational structure @xmath109 such that @xmath79 is the set of all the finite substructures of @xmath109 ( we then say that @xmath79 is _ the age _ of @xmath109 ) .",
    "a permutation class that is not atomic is clearly splittable .",
    "thus , when studying splittability , we mostly focus on atomic classes .",
    "for such situation , we may slightly extend lemma  [ lem - simple ] .",
    "[ lem - simple2 ] if @xmath79 is an atomic permutation class , then the following properties are equivalent :    * @xmath79 is splittable .",
    "* @xmath79 has a nontrivial splitting into two equal parts , i.e. , a splitting of the form @xmath110 .",
    "* @xmath79 has a splitting of the form @xmath110 , where @xmath111 is a proper subclass of  @xmath79 .",
    "* @xmath79 has a nontrivial splitting of the form @xmath110 , where @xmath111 is a principal class .",
    "let @xmath79 be a splittable atomic class .",
    "by part ( d ) of lemma  [ lem - simple ] , @xmath79 has a nontrivial splitting of the form @xmath112 .",
    "note that both @xmath0 and @xmath113 belong to @xmath79 , otherwise the splitting would be trivial . by the joint embedding property",
    ", there is a permutation @xmath108 which contains both @xmath0 and  @xmath113 .",
    "consequently , @xmath47 and @xmath114 are subclasses of @xmath7 .",
    "this shows that @xmath115 is a splitting of @xmath79 witnessing property ( d ) , and @xmath116 is witnessing property ( c ) .",
    "the rest of the lemma follows trivially .",
    "it is not hard to see that any principal class @xmath47 of permutations is atomic . indeed ,",
    "if @xmath0 is indecomposable , then @xmath47 is closed under direct sums , and otherwise it is closed under skew sums , which in both cases implies the joint embedding property .",
    "atomic permutation classes have been studied by atkinson , murphy and rukuc  @xcite . among other results ,",
    "they show ( see ( * ? ? ?",
    "* theorem 2.2 ) and ( * ? ? ?",
    "* proposition 188 ) ) that every permutation class that is partially well - ordered by containment ( equivalently , any class not containing an infinite antichain ) is a union of finitely many atomic classes .",
    "we remark that such classes of relational structures admit the following dilworth - like characterization  ( * ? ? ?",
    "* theorem 1.6 ) : a class @xmath79 of relational structures is a union of @xmath10 atomic classes if and only if it does not contain @xmath15 elements no two of which admit a joint embedding in @xmath79 .",
    "moreover , a class @xmath79 that is not a union of finitely many atomic classes contains an infinite sequence of elements , no two of which admit a joint embedding in  @xmath79",
    ".    the joint embedding property can be further strengthened , leading to a concept of amalgamation , which we define here for permutations , though it can be directly extended to other relational structures .",
    "informally speaking , a permutation class @xmath79 is @xmath0-amalgamable if for any two permutations @xmath117 and @xmath118 of @xmath79 , each having a prescribed occurrence of @xmath0 , we may find a joint embedding of @xmath117 and @xmath118 in which the two prescribed occurrences of @xmath0 coincide . formally",
    ", suppose that @xmath79 is a permutation class , and @xmath0 is its element .",
    "then @xmath79 is _",
    "@xmath0-amalgamable _ if for any two permutations @xmath119 and any two mappings @xmath120 and @xmath121 such that @xmath122 is an embedding of @xmath0 into @xmath123 , there is a permutation @xmath124 and two embeddings @xmath125 and @xmath126 , where @xmath127 is an embedding of @xmath123 into @xmath6 , with the property that @xmath128 .",
    "let @xmath129 denote the set of all occurrences of a permutation @xmath0 in a permutation @xmath6 , and if @xmath130 is a subsequence of @xmath6 , let @xmath131 be the set of those occurrences of @xmath0 that are contained in  @xmath130 .",
    "a permutation class @xmath79 is _ @xmath0-ramsey _ if for every @xmath132 there is a @xmath108 such that whenever we color @xmath129 by two colors , there is a subsequence @xmath133 such that all elements of @xmath131 have the same color .",
    "the next lemma follows from the results of neetil  @xcite ( see also  ( * ? ? ?",
    "* theorem 4.2 ) )    [ fac - ama ] let @xmath79 be an atomic permutation class and @xmath0 an element of  @xmath79 .",
    "if @xmath79 is @xmath0-ramsey then @xmath79 is also @xmath0-amalgamable .",
    "we say , for @xmath134 , that a permutation class @xmath79 is _",
    "@xmath10-ramsey _ if it is @xmath0-ramsey for every @xmath135 of order at most @xmath10 , and we say that it is _",
    "@xmath10-amalgamable _ if it is @xmath0-amalgamable for every  @xmath135 of order at most  @xmath10 .",
    "we also say that @xmath79 is a _ ramsey class _ ( or _ amalgamable class _ ) if it is @xmath10-ramsey ( or @xmath10-amalgamable ) for every  @xmath10 .",
    "ramsey classes and amalgamable classes of various types of relational structures have attracted considerable amount of attention , due in part to their connection to so - called frass limits and homogeneous structures .",
    "we shall not explain these concepts here , and refer the interested reader to , e.g. , a survey of the field presented in  @xcite .",
    "cameron  @xcite has shown that there are only five infinite amalgamable classes of permutations : these are @xmath136 , @xmath137 , @xmath138 ( the class of layered permutations ) , @xmath139 ( the class of complements of layered permutations ) , and the class of all permutations .",
    "bttcher and foniok  @xcite have subsequently proved that all these amalgamable classes are ramsey . in view of fact  [ fac - ama ]",
    ", there can be no other atomic ramsey classes of permutations . by suitably adapting cameron s proof",
    ", it is actually possible to deduce that the five nontrivial amalgamable classes are also the only 3-amalgamable permutation classes , that is , any 3-amalgamable class of permutations is already ramsey .",
    "the above - defined ramsey properties are closely related to splittability : it is straightforward to observe , by referring to condition ( d ) of lemma  [ lem - simple2 ] , that an atomic class of permutations is unsplittable precisely when it is 1-ramsey .",
    "consequently , by fact  [ fac - ama ] , any permutation class that fails to be 1-amalgamable is splittable . to make our exposition self - contained , we prove this simple result here .",
    "[ lem - ama ] if a permutation class @xmath79 is not 1-amalgamable , then it is splittable .",
    "more precisely , if @xmath117 and @xmath118 are two elements of @xmath79 that fail to have a 1-amalgamation in @xmath79 , then @xmath79 has the splitting @xmath140 .",
    "suppose that @xmath79 is not @xmath141-amalgamable .",
    "that is , there are two permutations @xmath142 and @xmath143 of size @xmath9 and @xmath35 respectively , and two embeddings @xmath120 and @xmath121 of the singleton permutation 1 into @xmath117 and @xmath118 , such that there does not exist any @xmath108 with embeddings @xmath127 of @xmath123 into @xmath6 that would satisfy @xmath144 .",
    "suppose that @xmath145 is the unique element of @xmath117 in the range of @xmath120 , and similarly @xmath146 the unique element of @xmath118 in the range of  @xmath121 .",
    "let @xmath108 be arbitrary .",
    "our goal is to color the elements of @xmath6 red and blue , so that the red elements avoid @xmath117 and the blue ones avoid  @xmath118 . to achieve this , we color an element @xmath147 of @xmath6 blue if and only if there is an embedding of @xmath117 into @xmath6 which maps @xmath145 to @xmath147 .",
    "the remaining elements of @xmath6 are red .",
    "we see that the red elements of @xmath6 do not contain @xmath117 , since otherwise there would be an embedding of @xmath117 into @xmath6 that maps @xmath145 to a red element .",
    "also , the blue elements of @xmath6 have no copy of @xmath118 , and more generally , in any embedding of @xmath118 into @xmath6 , the element @xmath146 must map to a red element of @xmath6 , since otherwise we would obtain a joint embedding of @xmath117 and @xmath118 identifying @xmath145 with @xmath146 , which is impossible .",
    "concepts analogous to splittability and 1-ramseyness have been previously studied , under various names , in connection to combinatorial structures other than permutations .",
    "this line of research dates back at least to the work of folkman  @xcite , who considered both edge - decompositions and vertex - decompositions of graphs of bounded clique size , and showed , among other results , that the class of graphs avoiding a clique of a given size is 1-ramsey .",
    "neetil and rdl  @xcite obtained other examples of 1-ramsey classes of graphs .",
    "later , pouzet  @xcite and el - zahar and sauer  @xcite considered a notion equivalent to splittability in context of atomic classes of relational structures , as part of a hierarchy of several ramsey - type properties .",
    "for further developments in this area , see e.g. the works of laflamme et al .",
    "@xcite or bonato et al .",
    "we will not go into any further details of these results , as they do not seem to be applicable to our problem of identifying splittable classes of permutations .    in section  [ sec - unsplit ]",
    ", we will give unsplittability criteria , which will imply , among other results , that any wreath - closed permutation class is unsplittable .",
    "next , in section  [ sec - split ] , we will look for examples of splittable classes .",
    "this turns out to be considerably more challenging .",
    "our main result in this direction shows that the class @xmath7 is splittable whenever @xmath6 is a decomposable permutation of order at least four .",
    "we then describe , in subsection  [ ssec - circ ] , the connection between splittability of permutation classes and the chromatic number of circle graphs .",
    "this connection allows us to exploit previous work to give both positive and negative results on the existence of certain permutation splittings .",
    "we now focus on the unsplittable permutation classes . by lemma  [ lem - simple ] ,",
    "when looking for splittings of a class @xmath79 , we may restrict our attention to splittings whose parts are principal classes not containing @xmath79 , i.e. , classes of the form @xmath47 for some  @xmath135 . the basic idea of our approach will be to identify a large set of permutations @xmath135 for which we can prove that @xmath47 is not a part of any irredundant splitting of  @xmath79 .",
    "this motivates our next definition .",
    "let @xmath79 be a permutation class , and let @xmath0 be an element of  @xmath79 .",
    "we say that @xmath0 is _ unavoidable in @xmath79 _ , if @xmath79 has no irredundant splitting that contains @xmath47 as a part .",
    "we let @xmath148 denote the set of all the unavoidable permutations in  @xmath79 .",
    "the next two observations list several basic properties of unavoidable permutations .",
    "these properties follow directly from the definitions or from the arguments used to prove lemma  [ lem - simple ] .",
    "we therefore omit their proofs .",
    "[ obs - unavo ] for a permutation class @xmath79 and a permutation @xmath135 , the following statements are equivalent .    1 .",
    "the permutation @xmath0 is unavoidable in @xmath79 .",
    "2 .   for any permutation @xmath149 , there is a permutation @xmath108 such that any red - blue coloring of @xmath6 has a red copy of @xmath2 or a blue copy of  @xmath0 .",
    "3 .   in any irredundant splitting @xmath150 of @xmath79 , all the parts @xmath82 contain  @xmath0 .",
    "@xmath79 has no nontrivial splitting into two parts , where one of the parts is  @xmath47 .",
    "[ obs - core ] the set @xmath148 of unavoidable permutations of a nonempty permutation class @xmath79 has these properties :    1 .",
    "@xmath148 is a nonempty permutation class , and in particular , it is hereditary .",
    "2 .   @xmath151 .",
    "if @xmath80 is an irredundant splitting of @xmath79 , then @xmath152 for each  @xmath21 .",
    "4 .   @xmath153 if and only if @xmath79 is unsplittable .    by the last part of the previous observation , to show that a permutation class @xmath79 is unsplittable , it is enough to prove @xmath154 . to achieve this",
    ", we will show that certain closure properties of @xmath79 imply analogous closure properties of  @xmath148 .",
    "let @xmath79 be a permutation class .",
    "if , for a set of permutations @xmath67 , the class @xmath79 is closed under @xmath69 , then @xmath148 is also closed under @xmath69 , and if @xmath79 is closed under @xmath71 , then so is @xmath148 . consequently ,",
    "if @xmath79 is wreath - closed , then @xmath155 and @xmath79 is unsplittable .",
    "we first prove that if @xmath79 is closed under @xmath69 , then so is @xmath148 .",
    "suppose @xmath79 is closed under @xmath69 .",
    "note that we may assume that @xmath67 itself is wreath - closed ; this is because @xmath156 is associative , so if @xmath79 is closed under @xmath69 , it is also closed under @xmath157 and therefore it is closed under @xmath158 where @xmath68 is the wreath - closure of  @xmath67 .",
    "choose a permutation @xmath159 of order @xmath10 , and @xmath10 permutations @xmath160 .",
    "we wish to prove that @xmath161 $ ] belongs to @xmath148 . without loss of generality , we assume that all @xmath123 are equal to a single permutation @xmath1 ; if not , we simply put @xmath162 to be a permutation which contains all the @xmath123 ( such a @xmath1 exists , since @xmath67 is wreath - closed ) and prove the stronger fact that @xmath163 $ ] belongs to @xmath148 .",
    "let us use the notation @xmath164 $ ] as shorthand for @xmath163 $ ] .",
    "so our goal now reduces to showing that @xmath164 $ ] belongs to @xmath148 for every @xmath159 and @xmath162 .",
    "we base our argument on the second equivalent definition from observation  [ obs - unavo ] .",
    "fix a permutation @xmath149 .",
    "we want to find a permutation @xmath108 such that each red - blue coloring of @xmath6 either contains a red copy of @xmath2 or a blue copy of @xmath164 $ ] .",
    "we already know that @xmath0 belongs to @xmath148 , so there is a permutation @xmath165 such that each red - blue coloring of @xmath165 has either a red copy of @xmath2 or a blue copy of  @xmath0 .",
    "let @xmath166 be the order of @xmath165 .",
    "define @xmath6 by @xmath167 $ ] , and view @xmath6 as a concatenation of @xmath166 blocks , each being a copy of  @xmath1 .",
    "fix an arbitrary red - blue coloring of @xmath6 .",
    "we now define a red - blue coloring of @xmath165 as follows : an element @xmath168 of @xmath165 is red if the @xmath21-th block in @xmath6 has at least one red point , otherwise it is blue .",
    "note that this coloring of @xmath165 has the property that if @xmath165 contains a red copy of any pattern @xmath169 then @xmath6 also contains a red copy of @xmath169 , and if @xmath165 contains a blue copy of @xmath169 , then @xmath6 has a blue copy of @xmath170 $ ] .",
    "in particular , @xmath6 either contains a red copy of @xmath2 or a blue copy of  @xmath164 $ ] .",
    "this proves that @xmath164 $ ] belongs to @xmath148 , as claimed .",
    "we now show that if @xmath79 is closed under @xmath71 then so is  @xmath148 .",
    "fix a permutation @xmath162 of order @xmath10 , and a @xmath10-tuple @xmath171 of permutations from @xmath148 .",
    "we will show that @xmath172 $ ] belongs to  @xmath148 .",
    "fix a permutation @xmath149 .",
    "since @xmath173 is in @xmath148 , there is a permutation @xmath174 whose every red - blue coloring has either a red copy of @xmath2 or a blue copy of  @xmath173 . define @xmath175 $ ] , viewing it as a union of @xmath10 blocks , with the @xmath21-th block being a copy of  @xmath54 .",
    "fix a red - blue coloring of  @xmath6 .",
    "the @xmath21-th block of @xmath6 either contains a red copy of @xmath2 or a blue copy of  @xmath173 .",
    "thus , if @xmath6 has no red copy of @xmath2 , it must have a blue copy of  @xmath172 $ ] , showing that @xmath172 $ ] belongs to  @xmath148 .",
    "it remains to show that if @xmath79 is wreath - closed then @xmath154 .",
    "but if @xmath79 is wreath - closed , then it is closed under @xmath176 , so @xmath148 is also closed under @xmath176 .",
    "but since @xmath148 is a nonempty subclass of @xmath79 by observation  [ obs - core ] , this means that @xmath154 .",
    "[ cor - indeco ] every wreath - closed permutation class is unsplittable . in particular ,",
    "if @xmath0 is a simple permutation then @xmath47 is unsplittable .",
    "not all unsplittable classes are wreath - closed . for instance , the class @xmath79 of layered permutations is unsplittable ; to see this , note that @xmath79 is closed under @xmath73 as well as under @xmath177 , and it is the smallest nonempty class with these properties .",
    "since @xmath148 has the same closure properties , we must have @xmath154 .",
    "there is even an example of a principal class that is unsplittable even though it is not wreath - closed , namely the class @xmath178 . to show that this class is indeed unsplittable we need a more elaborate argument .",
    "[ lem-1p ] let @xmath1 be an indecomposable permutation .",
    "let @xmath79 be the class @xmath179 .",
    "then , for any two permutations @xmath0 , @xmath113 such that @xmath159 and @xmath180 , we have @xmath181 .",
    "note that if @xmath6 and @xmath165 are two permutations avoiding the pattern @xmath182 , and if @xmath183 is obtained by inflating any lr - minimum of @xmath165 by a copy of @xmath6 , then @xmath183 also avoids  @xmath184 .",
    "this follows easily from the fact that @xmath1 is indecomposable .",
    "let @xmath2 be any element of @xmath79 .",
    "our goal is to find a permutation @xmath185 whose every red - blue coloring has a red copy of @xmath2 or a blue copy of @xmath186 .",
    "since @xmath187 , there is a @xmath108 such that every red - blue coloring of @xmath6 has a red copy of @xmath2 or a blue copy of @xmath0 .",
    "similarly , there is a @xmath188 whose every red - blue coloring has a red copy of @xmath2 or a blue copy of @xmath189 .",
    "let @xmath183 be the permutation obtained by inflating each lr - minimum of @xmath165 by a copy of @xmath6 .",
    "fix any red - blue coloring of @xmath183 that has no red copy of @xmath2 .",
    "then every @xmath6-block in @xmath183 contains a blue copy of @xmath0 .",
    "consider a two - coloring of @xmath165 in which every lr - minimum is blue , and all the other elements have the same color as the corresponding elements in  @xmath183 .",
    "this coloring contains a blue copy of @xmath189 .",
    "this means that @xmath183 has a blue copy of @xmath113 which is disjoint from all the @xmath6-blocks obtained by inflating the lr - minima of @xmath165 . combining this blue copy of @xmath113 with a blue copy of @xmath0 in an appropriate @xmath6-block",
    ", we get a blue copy of @xmath186 in  @xmath183 .",
    "[ pro-132 ] the class @xmath178 is unsplittable .",
    "let @xmath190 .",
    "we will show that @xmath79 is equal to @xmath148 .",
    "pick a permutation @xmath135 , with @xmath191 .",
    "let @xmath10 be the index such that @xmath192 .",
    "if @xmath193 , then @xmath0 can be written as @xmath194 for some @xmath195 . if @xmath196 , then all the elements @xmath197 are smaller than any element in @xmath198 , otherwise we would find an occurrence of @xmath17 .",
    "consequently , @xmath0 can be written as @xmath199 for some @xmath200 .    to show that every @xmath135 belongs to @xmath148 , proceed by induction . for @xmath201",
    "this is clear , for @xmath202 , this follows from the fact that @xmath79 is @xmath203-closed . if @xmath0 is equal to @xmath199 , use the fact that @xmath79 is @xmath204-closed . if @xmath205 , use lemma  [ lem-1p ] and the fact that @xmath206 .",
    "we now focus on splittable permutation classes .",
    "we are again mostly interested in principal classes .",
    "let us begin by stating the main result of this section .",
    "[ thm - split ] if @xmath0 is a decomposable permutation other than 12 , 213 or 132 , then @xmath47 is a splittable class .",
    "the exclusion of 12 , 213 and 132 in the statement of the theorem is necessary , since it follows from the results of the previous section that @xmath136 , @xmath207 and @xmath178 are unsplittable .    as the first step towards the proof of theorem  [ thm - split ]",
    ", we deal with patterns that are decomposable into ( at least ) three parts .",
    "[ pro - cjs ] let @xmath208 , @xmath169 and @xmath209 be three nonempty permutations .",
    "the class @xmath210 is splittable , and more precisely , it satisfies @xmath211    we note that a weaker version of proposition  [ pro - cjs ] ( with an extra assumption that @xmath169 has the form @xmath212 for some @xmath213 ) has been recently proved by claesson , jelnek and steingrmsson  ( * ? ? ?",
    "* theorem 3 ) .",
    "the proof we present below is actually a simple adaptation of the argument from  @xcite .",
    "fix a permutation @xmath0 avoiding the pattern @xmath214 .",
    "we will color the elements of @xmath0 red and blue , so that the red elements will avoid @xmath215 and the blue ones will avoid @xmath216 .",
    "we construct the coloring by taking the elements @xmath217 to @xmath218 successively , and having colored the elements @xmath219 for some @xmath21 , we determine the color of @xmath20 by these rules :    * if coloring @xmath20 red completes a red occurrence of @xmath215 , color @xmath20 blue . *",
    "if for some @xmath220 the element @xmath30 is blue and @xmath221 , color @xmath20 blue . * otherwise color @xmath20 red .",
    "clearly , the coloring determined by these rules avoids a red copy of @xmath215 .",
    "we now show that it also avoids a blue copy of @xmath216 .",
    "suppose for contradiction that @xmath0 has a blue occurrence of @xmath216 , and let @xmath222 and @xmath223 denote the occurrences of @xmath169 and @xmath209 in this blue occurrence of @xmath216 , with @xmath222 being completely to the left and below  @xmath223 .",
    "let @xmath224 be the smallest element of @xmath222 .",
    "since @xmath224 is blue , @xmath0 must have a blue element @xmath225 such that @xmath226 , @xmath227 , and changing the color of @xmath225 from blue to red would create a red copy of @xmath215 in the sequence @xmath228 . in other words , @xmath0 has a copy of @xmath215 whose rightmost element is @xmath225 and whose remaining elements are all red .",
    "let @xmath229 and @xmath230 denote the copies of @xmath208 and @xmath169 in this copy of @xmath215 , with @xmath229 to the left and below @xmath230 .",
    "note that every element of @xmath229 is smaller than @xmath225 , and therefore every element of @xmath229 is smaller than all the elements of  @xmath222 .",
    "let @xmath231 be the leftmost element of @xmath222 .",
    "if every element of @xmath229 is to the left of @xmath231 , then @xmath232 is a copy of @xmath214 in @xmath0 , which is impossible .",
    "thus at least one element of @xmath229 is to the right of @xmath231 , and consequently , all the elements of @xmath230 are to the right of  @xmath231 .",
    "it follows that all the red elements in @xmath230 are smaller than @xmath231 , for otherwise they would be colored blue by the second rule of our coloring .",
    "this means that @xmath233 is a copy of @xmath214 , a contradiction .",
    "[ cor - easysplit ] if @xmath208 and @xmath169 are permutations of order at least two , then the class @xmath234 is splittable .",
    "we see that @xmath235 , and proposition  [ pro - cjs ] shows that @xmath236 therefore , @xmath234 admits the splitting @xmath237 .    to prove theorem  [ thm - split ]",
    ", it remains to deal with the classes @xmath234 , where @xmath208 or @xmath169 has order one .",
    "as the two cases are symmetric , we may assume that @xmath238 .",
    "we may also assume that @xmath169 is indecomposable , because otherwise @xmath239 is splittable by proposition  [ pro - cjs ] .",
    "finally , we may assume that @xmath169 has order at least three , since we already know that @xmath136 and @xmath178 are unsplittable .",
    "let us therefore focus on the classes @xmath240 , where @xmath6 is an indecomposable permutation of order at least three .    to handle these",
    "` hard ' cases of theorem  [ thm - split ] , we will introduce the notion of ordered matchings , and study the splittings of hereditary classes of matchings .",
    "matchings are more general structures than permutations , in the sense that the containment poset of permutations is a subposet of the containment poset of matchings .",
    "moreover , the arguments we use in our proof can be more naturally presented in the terminology of matchings , rather than permutations .",
    "the downside is that we will have to introduce a lot of basic terminology related to matchings .    in subsection  [ ssec - match ]",
    ", we will introduce matchings and describe how they relate to permutations .",
    "next , in subsection  [ ssec - thmsplit ] , we present the proof of theorem  [ thm - split ] . although the proof is constructive , the splittings we construct in the proof involve classes defined by avoidance of rather large patterns .",
    "such splittings do not seem to reveal much information about the classes being split .",
    "for this reason , subsection  [ ssec - expl ] gives another splitting algorithm , which is less general , but which provides more natural splittings involving avoiders of small patterns . using this alternative splitting approach",
    ", we establish , in subsection  [ ssec - circ ] , an equivalence between the existence of certain permutation splittings and the colorability of circle graphs of bounded clique size .",
    "this allows us to use previous bounds on the chromatic number of clique - avoiding circle graphs to deduce both positive and negative results about existence of permutation splittings .",
    "let @xmath241 be a set of @xmath242 real numbers , represented by points on the real line . a _ matching _ ( or , more properly , an _ ordered perfect matching _ ) on the point set @xmath111 is a set @xmath243 of pairs of points from  @xmath111 , such that every point of @xmath111 belongs to exactly one pair from  @xmath243 .",
    "the elements of @xmath243 are the _ arcs _ of the matching @xmath243 , while the elements of @xmath111 are the _ endpoints _ of  @xmath243 .",
    "we represent an arc @xmath208 of a matching @xmath243 by an ordered pair @xmath244 of points , and we make the convention that @xmath245 is left of  @xmath246 .",
    "the points @xmath245 and @xmath246 are referred to as the _ left endpoint _ and _ right endpoint _ of @xmath208 , respectively , and denoted by @xmath247 and @xmath248 .",
    "we visualize the arcs as half - circles connecting the two endpoints , and situated in the upper half - plane above the real line .",
    "if @xmath243 is a matching on a point set @xmath249 and @xmath250 is a matching on a point set @xmath251 , we say that @xmath243 and @xmath250 are _ isomorphic _ , written as @xmath252 , if for every @xmath253 we have the equivalence @xmath254 .",
    "a matching @xmath243 _ contains _ a matching @xmath250 , if it has a subset @xmath255 such that the matching @xmath256 is isomorphic to  @xmath250 .",
    "if @xmath243 does not contain @xmath250 , we say that @xmath243 _ avoids _ @xmath250 .",
    "let @xmath257 be the set of the isomorphism classes of matchings that avoid  @xmath250 .",
    "let @xmath243 be a matching , and let @xmath258 and @xmath259 be two arcs of  @xmath243 .",
    "we say that _",
    "@xmath208 crosses @xmath169 from the left _",
    "if @xmath260 , and we say that _",
    "@xmath208 is nested below @xmath169 _ if @xmath261 .",
    "we say that a point @xmath262 is _ nested below the arc @xmath208 _ if @xmath263 ( note that @xmath264 does not have to be an endpoint of @xmath243 ) .",
    "we say that two arcs are _ in series _ if they neither cross nor nest , which means that one of them is completely to the left of the other .",
    "we say that an arc @xmath208 of a matching @xmath243 is _ short _ if its endpoints are adjacent , i.e. , if there is no endpoint of @xmath243 nested below  @xmath208 .",
    "an arc that is not short is _",
    "long_.    we define the _ directed intersection graph _ of @xmath243 , denoted by @xmath265 , to be the graph whose vertices are the arcs of @xmath243 , and @xmath265 has a directed edge from @xmath208 to @xmath169 if @xmath208 crosses @xmath169 from the left . the _ intersection graph _ of @xmath243 , denoted by @xmath266 , is the graph obtained from @xmath265 by omitting the orientation of its edges .",
    "note that two arcs of @xmath243 are adjacent in @xmath266 if and only if the half - circles representing the two arcs intersect .",
    "we say that a matching is _ connected _ if its intersection graph is a connected graph .",
    "let us remark that the graphs that arise as intersection graphs of matchings are known as _ circle graphs _ in graph theory literature .",
    "we refer the reader to the surveys  @xcite for more information on this graph class .",
    "let @xmath243 and @xmath250 be matchings with @xmath35 and @xmath9 arcs , respectively .",
    "we let @xmath267 denote the matching @xmath85 which is a disjoint union of two matchings @xmath268 and @xmath269 , such that @xmath270 , @xmath271 , and any endpoint of @xmath268 is to the left of any endpoint of  @xmath269 .",
    "this determines @xmath267 uniquely up to isomorphism .",
    "we say that a matching @xmath243 is _",
    "@xmath272-indecomposable _ if it can not be written as @xmath273 for some nonempty matchings @xmath274 and @xmath275 .",
    "note that a connected matching is @xmath272-indecomposable , but the converse is not true in general .",
    "any matching @xmath243 can be uniquely written as @xmath276 where each @xmath277 is a nonempty @xmath272-indecomposable matching .",
    "we call the matchings @xmath277 the _ blocks _ of  @xmath243 .",
    "we say that a matching @xmath243 is _ merged _ from two matchings @xmath274 and @xmath275 , if the arcs of @xmath243 can be colored red and blue so that the red arcs form a matching isomorphic to @xmath274 and the blue ones are isomorphic to  @xmath275 .",
    "given this concept of merging , we may speak of splittability of matching classes in the same way as we do in the case of permutations .     into the matching @xmath278 . ]",
    "we now introduce two distinct ways in which a permutation can be encoded by a matching .",
    "let @xmath0 be a permutation .",
    "we let @xmath278 denote the matching on the point set @xmath279 which contains the arc of the form @xmath280 for each @xmath55 $ ] .",
    "as shown in figure  [ fig - mpi ] , we may visualize the permutation matching @xmath278 by taking the diagram of @xmath0 , connecting each point of the diagram to the two coordinate axes by a horizontal and vertical segment , and then deforming the figure so that the pairs of segments become half - circles .",
    "clearly , the matching @xmath278 is @xmath272-indecomposable .",
    "it can also be easily verified that @xmath278 is connected if and only if the permutation @xmath0 is indecomposable . if @xmath79 is a set of permutations , we let @xmath281 denote the set @xmath282 .",
    "we say that a matching @xmath243 is a _ permutation matching _ if @xmath283 for a permutation  @xmath0 .    for a matching @xmath243 ,",
    "the following properties are equivalent :    1 .",
    "@xmath243 is a permutation matching .",
    "2 .   any left endpoint of @xmath243 is to the right of any right endpoint .",
    "there is a point @xmath262 nested below all the arcs of  @xmath243 .",
    "@xmath243 has no two arcs in series .",
    "permutation matchings form a hereditary class within the class of all matchings .",
    "[ obs - match ] a permutation @xmath0 contains a permutation @xmath6 if and only if the matching @xmath278 contains @xmath284 .",
    "a permutation @xmath0 can be merged from permutations @xmath285 if and only if the matching @xmath278 can be merged from matchings @xmath286 .",
    "hence , @xmath47 is splittable if and only if @xmath287  is .",
    "we now introduce another , less straightforward way to encode a permutation by a matching .",
    ", together with its envelope @xmath111 , represented as the thick line with numbered steps .",
    "the dashed lines represent the arcs of the envelope matching @xmath288 . ]",
    "let @xmath0 be a permutation of order @xmath9 .",
    "the _ envelope _ of @xmath0 is a directed lattice path @xmath289 with these properties ( see fig .  [ fig - envelope ] ) :    * @xmath289 connects the point @xmath290 to the point @xmath291 , * every step of @xmath289 is either a _ down - step _ connecting a point @xmath292 to a point @xmath293 , or a _ right - step _ connecting @xmath292 with @xmath294 , and * for every",
    "@xmath295 $ ] , the path @xmath289 contains the right step @xmath296 where @xmath297 .    note that all the points of the form @xmath22 are strictly above the envelope @xmath289 , and @xmath289 is the highest non - increasing lattice path with this property . for any @xmath55 $ ] ,",
    "the _ down - step in row @xmath21 _ of @xmath289 is the ( unique ) down - step of the form @xmath298 for some @xmath10 , and the _ right - step in column @xmath21 _ is the right - step of the form @xmath299 .",
    "note also that @xmath289 contains a down - step @xmath300 followed by a right - step @xmath301 if and only if @xmath20 is an lr - minimum of @xmath0 and is equal to  @xmath302 .",
    "[ def - ematch ]",
    "let @xmath0 be a permutation with envelope @xmath289 .",
    "the _ envelope matching _ of @xmath0 , denoted by @xmath288 , is the matching on the point set @xmath303 $ ] determined by these rules :    1 .   label the steps of @xmath289 by @xmath304 , in the order in which they are encountered when @xmath289 is traversed from @xmath290 to @xmath291 .",
    "2 .   for every @xmath21 and @xmath302 such that @xmath305 , suppose that the down - step in row @xmath302 has label @xmath245 and the right - step in column @xmath21 has label @xmath246",
    ". then the arc @xmath244 belongs to  @xmath288 .",
    "( note that we must have @xmath306 , since the point @xmath292 is above the path @xmath289 . )",
    "note that each arc of @xmath288 corresponds in an obvious way to an element of  @xmath0 , and the short arcs of @xmath288 correspond precisely to the lr - minima of  @xmath0 .",
    "[ obs - ematch ] suppose that @xmath25 is a permutation .",
    "let @xmath20 and @xmath30 be two elements of @xmath0 , and let @xmath307 and @xmath308 be the two corresponding arcs of @xmath288",
    ". then @xmath309 if and only if @xmath31 , and @xmath310 if and only if @xmath311 .",
    "it follows that @xmath307 is nested below @xmath308 if and only if @xmath20 covers @xmath30 .",
    "moreover , if @xmath31 and @xmath311 , then the arcs @xmath307 and @xmath308 are crossing if and only if @xmath0 has an lr - minimum that covers both @xmath20 and  @xmath30 , otherwise they are in series .",
    "observation  [ obs - ematch ] implies that @xmath288 determines @xmath0 uniquely , and if @xmath6 and @xmath0 are permutations such that @xmath312 contains @xmath288 , then @xmath6 contains  @xmath0 .",
    "note however , that the converse of this last fact does not hold in general : the permutation @xmath17 contains @xmath313 , while @xmath314 does not contain @xmath315 .",
    "[ lem - envelope ] for a matching @xmath243 on the point set @xmath303 $ ] , the following statements are equivalent .    1 .",
    "there is a permutation @xmath0 such that @xmath316 .",
    "2 .   for any left endpoint @xmath245 of @xmath243 ,",
    "if @xmath317 is a right endpoint of @xmath243 , then @xmath318 is an arc of  @xmath243 .",
    "3 .   if @xmath244 and @xmath319 are two arcs of @xmath243 such that @xmath260 , then @xmath320 .    one may easily observe that the second and third property are equivalent , and that the first property implies the second one .",
    "we now show that the second property implies the first .",
    "let @xmath243 be a matching satisfying the second property .",
    "construct a lattice path @xmath111 from @xmath290 to @xmath291 , consisting of down - steps and right - steps of unit length , where the @xmath245-th step of @xmath111 is a down - step if and only if the point @xmath245 is a left endpoint of the matching  @xmath243 .",
    "we label the steps of @xmath111 from 1 to @xmath242 in the order in which they appear on  @xmath111 . in this way",
    ", the endpoint @xmath245 of @xmath243 corresponds naturally to the @xmath245-labelled step of  @xmath111 .",
    "we construct a permutation @xmath0 as follows : for every arc @xmath244 of @xmath243 , let @xmath21 be the column containing the @xmath246-labelled step of @xmath111 ( which is a right - step ) and let @xmath302 be the row containing the @xmath245-labelled step of @xmath111 ( which is a down - step ) .",
    "we then define  @xmath305 .    by construction ,",
    "all elements of @xmath0 are above the path  @xmath111 . moreover , since @xmath243 satisfies the second property , we see that whenever a down - step labelled @xmath245 is directly followed by a right - step labelled @xmath317 , then @xmath318 is an arc , and the permutation @xmath0 has an lr - minimum in the column containing step @xmath317 and row containing step  @xmath245 .",
    "hence @xmath111 is the envelope of @xmath0 , and it follows that @xmath316 .",
    "any matching satisfying the conditions of lemma  [ lem - envelope ] will be referred to as an _ envelope matching_. notice that in an envelope matching , every long arc has a short arc nested below it .",
    "let @xmath321 denote the submatching of @xmath288 formed by the long arcs of  @xmath288 .",
    "the matching @xmath321 no longer determines the permutation @xmath0 uniquely ( e.g. , both @xmath322 and @xmath323 consist of a single arc ) .",
    "we call @xmath321 the _ reduced envelope matching _ of  @xmath0 .",
    "the next lemma shows how these concepts are related to avoidance of patterns of the form  @xmath324 .",
    "[ lem - rpi ] for any permutations @xmath6 and @xmath0 , the matching @xmath321 contains @xmath284 if and only if @xmath0 contains @xmath324 .",
    "moreover , suppose that @xmath325 is a multiset of permutations such that @xmath326 then @xmath327 in particular , if @xmath328 has a splitting @xmath329 , then @xmath240 has a splitting @xmath330 .",
    "suppose that @xmath321 contains @xmath284 , and let @xmath331 be a submatching of @xmath321 isomorphic to  @xmath284 . from observation  [ obs - ematch ] and lemma  [ lem - envelope ] , we may easily deduce that @xmath288 has a short arc @xmath169 nested below all the arcs of  @xmath243 .",
    "it follows that @xmath332 is a copy of @xmath333 in @xmath288 , and hence @xmath0 contains  @xmath324 .    to prove the converse , suppose that @xmath0 has a subsequence @xmath334 order - isomorphic to @xmath324",
    "let @xmath307 denote the arc of @xmath288 representing the element @xmath104 of  @xmath0 . by observation  [ obs - ematch ] , @xmath335 is nested below all the arcs @xmath336 . therefore ,",
    "the arcs @xmath336 all belong to @xmath321 , and no two of them are in series .",
    "thus , @xmath336 form a copy of @xmath284 in  @xmath321 .",
    "suppose now that @xmath0 is a permutation such that @xmath337 .",
    "color the arcs of @xmath321 by @xmath10 colors @xmath338 in such a way that the arcs colored by @xmath339 avoid  @xmath340 .",
    "we transfer this @xmath10-coloring to the covered elements of @xmath0 , by assigning to each covered element the color of the corresponding arc of  @xmath321 ( recall that a _ covered element _ of a permutation is an element which is not a lr - minimum ) .",
    "let @xmath173 denote the subpermutation of @xmath0 formed by all the lr - minima of @xmath0 together with all the covered elements whose color is  @xmath339 .",
    "note that @xmath341 is isomorphic to the submatching of @xmath321 consisting of the arcs of color  @xmath339 .",
    "hence @xmath341 avoids @xmath340 , and by first part of the lemma , @xmath173 avoids  @xmath342 .",
    "we deduce that @xmath327 from this , the last claim of the lemma follows easily .",
    "we are ready to prove theorem  [ thm - split ] .",
    "recall that the goal is to show that if @xmath0 is a decomposable pattern different from @xmath343 , @xmath17 or @xmath344 , then @xmath47 is splittable . from corollary  [ cor - easysplit ]",
    ", we already know that we may restrict our attention to the cases when @xmath0 has the form @xmath324 for an indecomposable permutation  @xmath6 of order at least three .",
    "as we have seen , a permutation @xmath6 may be uniquely represented by an envelope matching  @xmath312 .",
    "however , we have also seen that the containment order of permutations does not coincide with the containment order of the corresponding envelope matchings .",
    "our first goal will be to describe permutation containment in terms of envelope matchings .",
    "let @xmath243 be a matching with @xmath9 arcs , and let @xmath345 be an open interval on the real line .",
    "the _ tangling of @xmath243 in @xmath345 _ is an operation which produces a matching @xmath250 with @xmath346 arcs , defined as follows .",
    "first , we reorder the endpoints of @xmath243 belonging @xmath345 in such a way that all the left endpoints in @xmath345 appear to the left of all the right endpoints , while the relative position of the left endpoints as well as the relative position of the right endpoints remains the same .",
    "next , we create a new short arc @xmath208 whose endpoints belong to @xmath345 , and which is nested below all the other arcs that have at least one endpoint in  @xmath345 .",
    "let @xmath250 be the resulting matching .",
    "see the right part of figure  [ fig - tangle ] for an example of a matching @xmath347 obtained by tangling a matching @xmath348 .    note that if @xmath243 is an envelope matching , then any tangling of @xmath243 is again an envelope matching .    :",
    "a permutation @xmath2 is obtained by a inserting a new lr - minimum @xmath349 into a permutation  @xmath1 ( the new element is circled in the permutation diagram of  @xmath2 ) .",
    "the envelope matching @xmath347 is then obtained from @xmath348 by tangling in the interval  @xmath345 . ]    [ lem - tangle ] let @xmath350 and @xmath351 be two permutations .",
    "suppose that @xmath2 contains @xmath1 , and fix an index @xmath352 $ ] such that @xmath1 is order - isomorphic to @xmath353 .",
    "if @xmath354 is not an lr - minimum of @xmath2 , then the matching @xmath348 is contained in @xmath347 , and more precisely , @xmath348 is obtained from @xmath347 by removing the long arc representing  @xmath354 .",
    "if , on the other hand , @xmath354 is an lr - minimum of @xmath2 , then @xmath347 can be created from @xmath348 by tangling in such a way that the short arc inserted by the tangling operation represents  @xmath354 .",
    "the case when @xmath354 is not an lr - minimum follows directly from observation  [ obs - ematch ] .",
    "suppose that @xmath354 is an lr - minimum of  @xmath2 ( see figure  [ fig - tangle ] ) .",
    "let @xmath209 be the arc of @xmath347 representing  @xmath354 .",
    "let @xmath355 denote the sequence @xmath353 .",
    "that is , @xmath356 for @xmath357 and @xmath358 otherwise . by assumption , @xmath359 is order - isomorphic to  @xmath1 .    for each @xmath360 $ ] , let @xmath307 be the arc representing @xmath361 in @xmath348 , and",
    "let @xmath362 be the arc representing @xmath363 in @xmath347 .",
    "thus , @xmath347 is equal to @xmath364 .",
    "let us compare , for some @xmath365 , the mutual position of @xmath307 and @xmath308 with the mutual position of @xmath362 and  @xmath366 . by observation  [ obs - ematch ] , we see that @xmath367 and @xmath309 .",
    "we also see that @xmath310 if and only if @xmath368 .",
    "observation  [ obs - ematch ] also shows that if @xmath307 and @xmath308 are nested , then @xmath362 and @xmath366 are nested as well , and if @xmath307 and  @xmath308 are crossing , then so are @xmath362 and  @xmath366 .",
    "thus , the only situation when the relative position of @xmath307 and  @xmath308 can differ from the relative position of @xmath362 and  @xmath366 is when @xmath307 and @xmath308 are in series , while @xmath362 and  @xmath366 are crossing .",
    "this happens when @xmath354 covers both @xmath363 and @xmath369 in @xmath2 , but no lr - minimum of @xmath1 covers both @xmath361 and  @xmath370 .",
    "we partition the set @xmath371 $ ] into three ( possibly empty ) disjoint parts @xmath372 , @xmath243 and @xmath373 by defining @xmath374 , @xmath375 , and @xmath376\\setminus(l\\cup r)$ ] .",
    "we will use the shorthand @xmath377 to denote the set @xmath378 , and similarly for @xmath379 , @xmath380 , etc .",
    "note that @xmath381 is precisely the set of elements of @xmath359 that are covered by @xmath354 in  @xmath2 .",
    "therefore , the matching @xmath382 is isomorphic to  @xmath383 , and the arc @xmath209 is nested below all the arcs in  @xmath379 .",
    "let @xmath264 be the rightmost endpoint of an arc in @xmath377 .",
    "note that an arc @xmath307 belongs to @xmath377 if and only if its right endpoint is in the interval @xmath384 $ ] .",
    "symmetrically , let @xmath385 be the leftmost endpoint of an arc in @xmath229 , and note that @xmath307 belongs to @xmath229 if and only if its left endpoint is in @xmath386 .",
    "let @xmath345 be the open interval @xmath387 , and note that an arc @xmath307 belongs to @xmath388 if and only if it either has at least one endpoint in @xmath345 or if @xmath345 is nested below it .    combining the above facts , we see that @xmath347 can be obtained by tangling @xmath348 in the interval  @xmath345 .",
    "it follows from lemma  [ lem - tangle ] that if @xmath2 is a permutation that contains a pattern @xmath1 , then @xmath347 may be obtained from @xmath348 by a sequence of tanglings and insertions of long arcs .    for the rest of this subsection , fix a permutation @xmath0 of the form @xmath324 , where @xmath6 is an indecomposable permutation of order at least three .",
    "note that the matching @xmath288 is in fact isomorphic to @xmath278 , and that @xmath321 is isomorphic to  @xmath284 .",
    "note also that @xmath284 is connected , since @xmath6 is indecomposable .",
    "the proof of theorem  [ thm - split ] relies on two technical lemmas .",
    "we first state the two lemmas and prove that they imply theorem  [ thm - split ] , and then prove the two lemmas themselves .",
    "[ lem - split ] let @xmath6 be an indecomposable permutation of order at least three",
    ". then the class @xmath328 is splittable .",
    "furthermore , there exist two connected @xmath284-avoiding matchings @xmath274 and @xmath275 , such that the class @xmath328 admits the splitting @xmath389 .",
    "[ lem - perm ] suppose that @xmath6 is an indecomposable permutation of order at least two , @xmath0 is the permutation @xmath324 , and @xmath250 is a @xmath284-avoiding matching .",
    "there is a @xmath0-avoiding permutation @xmath390 , such that if @xmath1 is any @xmath0-avoiding permutation whose reduced envelope matching avoids  @xmath250 , then @xmath1 avoids  @xmath2 .",
    "let us show how the two lemmas imply theorem  [ thm - split ] .",
    "let @xmath274 and @xmath275 be the two matchings from lemma  [ lem - split ] . for each @xmath277 ,",
    "lemma  [ lem - perm ] provides a @xmath0-avoiding pattern  @xmath391 .",
    "we claim that @xmath47 has a splitting @xmath392 .    to see this , let @xmath1 be a @xmath0-avoiding permutation .",
    "consider its reduced envelope matching @xmath393 . by lemma  [ lem - rpi ]",
    ", @xmath373 avoids @xmath284 , so by lemma  [ lem - split ] , it can be merged from four matching @xmath394 , @xmath395 , @xmath396 , and @xmath397 , where @xmath394 and @xmath395 avoid @xmath274 , while @xmath396 and @xmath397 avoid  @xmath275 .",
    "we now define four permutations @xmath398 , all of which are subpermutations of @xmath1 .",
    "the permutation @xmath123 consists of those elements of @xmath1 which are either lr - minima of @xmath1 or which are covered and correspond to arcs of  @xmath103 .",
    "note that @xmath103 is then precisely the reduced envelope matching of  @xmath123 .",
    "since @xmath394 and @xmath395 avoid @xmath274 , lemma  [ lem - perm ] shows that @xmath117 and @xmath118 avoid  @xmath399 .",
    "similarly , @xmath400 and @xmath401 avoid  @xmath402 .",
    "thus @xmath1 admits the splitting @xmath392 , as claimed .",
    "let @xmath35 be the order of @xmath6 . by our assumption on @xmath6 , we know that @xmath403 .",
    "let @xmath243 be the matching isomorphic to @xmath284 on the set of endpoints @xmath404 .",
    "note that @xmath405 are left endpoints of @xmath243 , and @xmath406 are right endpoints .",
    "representing the permutation @xmath407 ( top ) , and the corresponding matchings @xmath408 ( middle ) and @xmath409 ( bottom ) used in the proof of lemma  [ lem - split ] . ]",
    "define two new matchings @xmath408 and @xmath410 as follows .",
    "let @xmath208 be the arc of @xmath243 incident to the leftmost endpoint of  @xmath243 , i.e. , @xmath208 is the arc of the form @xmath411 for some @xmath412 .",
    "let @xmath408 be the matching obtained from @xmath243 by removing the arc @xmath208 and inserting a new arc with endpoints @xmath413 ( see figure  [ fig - mnplus ] ) .",
    "symmetrically , define the matching @xmath410 by considering the arc @xmath414 incident to the rightmost endpoint of @xmath243 , and replacing @xmath169 with an arc @xmath415 .",
    "we now show that it is possible to insert new arcs to @xmath408 in order to obtain a connected matching @xmath409 that avoids  @xmath243 .",
    "if @xmath243 has exactly three arcs , we easily check by hand that this is possible , so let us assume that @xmath416 .",
    "let @xmath417 denote the arc @xmath418 and let @xmath419 denote the arc @xmath420 . define sets of arcs @xmath421 and @xmath422 , and consider the matching @xmath423 .",
    "we claim that @xmath409 is a connected @xmath243-avoiding matching .",
    "to see that @xmath409 is connected , notice first that since @xmath243 is connected , every connected component of @xmath408 has at least one arc incident to one of the endpoints @xmath424 . since any such arc is crossed by an arc of @xmath109 , and since @xmath425 induce a connected matching , we see that @xmath409 is connected .",
    "let us argue that @xmath409 avoids @xmath243 .",
    "suppose for contradiction that @xmath409 has a submatching @xmath426 isomorphic to  @xmath243 .",
    "note that @xmath427 is a permutation matching , i.e. , it has no two arcs in series .",
    "in particular , @xmath427 contains at most one arc from @xmath109 and at most one arc from @xmath428 .",
    "since @xmath427 is connected and has at most one arc of @xmath109 , it may not contain arcs from two distinct components of  @xmath408 . on the other hand",
    ", @xmath427 must contain at least one arc @xmath429 , otherwise it would be a subset of a single component of @xmath408 , which is impossible . therefore , @xmath427 has no arc whose right endpoint is to the left of @xmath264 , since any such arc is in series with all the arcs of  @xmath109 , and @xmath427 does not contain the arc @xmath413 since this arc does not belong to any connected permutation submatching of @xmath409 having more than two arcs .",
    "let @xmath430 denote the number of crossings in the matching @xmath243 , i.e. , the number of edges in the intersection graph of  @xmath243 .",
    "we see that @xmath431 .",
    "moreover , @xmath432 , since @xmath427 is obtained by adding at most one arc of @xmath209 and a most one arc of @xmath428 to a submatching of  @xmath408 .",
    "this shows that @xmath433 .",
    "we see that @xmath434 , because @xmath243 is connected .",
    "also , @xmath435 , because @xmath427 has at least four arcs .",
    "this leaves the possibility @xmath436 and @xmath427 contains the two arcs of @xmath243 with endpoints @xmath437 and @xmath438 , together with the two arcs @xmath439 and @xmath440 .",
    "since @xmath243 is connected , this only leaves the possibility when @xmath243 is the matching @xmath441 , but in this case we easily check that @xmath409 has no copy of  @xmath243 .",
    "we conclude that @xmath409 is a connected matching containing @xmath408 but not  @xmath243 . by a symmetric argument",
    ", we obtain a connected matching @xmath442 containing @xmath410 but not  @xmath243 .",
    "we now show that lemma  [ lem - split ] holds with @xmath443 and @xmath444 , i.e. , we show that the class of matchings @xmath445 admits the splitting @xmath446 .",
    "let @xmath373 be any @xmath284-avoiding matching .",
    "note that a disjoint union of @xmath409-avoiding matchings is again @xmath409-avoiding , and the same is true for @xmath442 , since both @xmath409 and @xmath442 are connected . in particular , if each connected component of @xmath373 admits the splitting @xmath95 , then so does @xmath373 .",
    "we may therefore assume that @xmath373 is connected .",
    "recall that @xmath447 is the intersection graph of  @xmath373 .",
    "let @xmath448 be the arc that contains the leftmost endpoint of  @xmath373 .",
    "we partition the arcs of @xmath373 into sets @xmath449 , where an arc @xmath169 belongs to @xmath450 if and only if the shortest path between @xmath335 and @xmath169 in @xmath447 has length  @xmath21 .",
    "we refer to the elements of @xmath450 as _ arcs of level @xmath21_. in particular , @xmath335 is the only arc of level  0 . since @xmath373 is connected , the level of each arc is well defined .",
    "clearly , an arc of level @xmath21 may only cross arcs of level @xmath451 , @xmath21 or @xmath452 .",
    "in particular , if each level @xmath450 admits the splitting @xmath453 , then the union @xmath454 of all the even levels admits this splitting as well , and the same is true for the union of the odd layers .",
    "it then follows that the matching @xmath373 admits the splitting  @xmath455 .",
    "it is thus enough to show , for each fixed @xmath21 , that @xmath450 admits the splitting @xmath456 .",
    "since @xmath457 only contains the arc @xmath335 , we focus on the remaining levels , and fix @xmath458 arbitrarily .",
    "note that each arc of level @xmath21 crosses at least one arc of level @xmath451 .",
    "for an arc @xmath459 , let @xmath460 be an arbitrary arc of level @xmath451 crossed by  @xmath169 .",
    "we now partition @xmath450 into two sets @xmath461 and @xmath462 as follows : @xmath463 our goal is to show that @xmath461 avoids @xmath409 and @xmath462 avoids @xmath442 .",
    "recall that a block of a matching is a maximal @xmath272-indecomposable submatching .",
    "the rest of the proof of lemma  [ lem - split ] is based on two claims .",
    "[ cla - blockx ] let @xmath77 be a block of the matching @xmath461 , let @xmath264 be the leftmost endpoint of @xmath77 , and let @xmath169 be and arc of  @xmath77 . then the left endpoint of @xmath460 is to the left of  @xmath264 .",
    "similarly , if @xmath464 is a block of @xmath462 , @xmath465 is the rightmost endpoint of @xmath464 , and @xmath213 is an arc of @xmath464 , then the right endpoint of @xmath466 is to the right of  @xmath465 .",
    "we prove the claim for @xmath461 , the case of @xmath462 is analogous .",
    "if @xmath467 , then @xmath460 is the arc @xmath335 , and the claim holds .",
    "suppose now that @xmath468 .",
    "let @xmath385 be the rightmost endpoint of  @xmath77 .",
    "note that any arc of @xmath373 that has exactly one endpoint in the interval @xmath469 $ ] must cross at least one arc of @xmath77 , since @xmath77 is @xmath272-indecomposable .",
    "in particular , any arc having exactly one endpoint in @xmath469 $ ] must have level at least  @xmath451 .",
    "let @xmath470 be a shortest path in @xmath447 between @xmath335 and @xmath169 , chosen in such a way that @xmath471 . since @xmath335 contains the leftmost endpoint of @xmath373 , both endpoints of @xmath335 are outside of @xmath469 $ ] , and the same is true for every @xmath308 with @xmath472 .",
    "consequently , the arc @xmath460 must have at least one endpoint outside of @xmath469 $ ] , and since @xmath460 crosses @xmath169 from the left , the left endpoint of @xmath460 is to the left of  @xmath264 , and the claim is proved .",
    "[ cla - mplusx ] every block of the matching @xmath461 avoids @xmath408 , and every block of @xmath462 avoids  @xmath410 .",
    "let us prove the claim for @xmath461 , the other part is symmetric .",
    "let @xmath77 be a block of @xmath461 , and suppose that it contains a matching @xmath473 isomorphic to  @xmath408 .",
    "let @xmath474 be the arc of @xmath473 that corresponds to the arc @xmath475 via the isomorphism between @xmath473 and @xmath408 . by claim  [ cla - blockx ] ,",
    "the left endpoint of @xmath476 is to the left of any endpoint of @xmath77 , and in particular , it is to the left of any endpoint of @xmath473 . but",
    "this means that the matching @xmath477 is isomorphic to @xmath243 , contradicting the assumption that @xmath373 is @xmath243-avoiding .",
    "since every block of @xmath461 avoids @xmath408 , it also avoids @xmath409 .",
    "this means that @xmath461 avoids @xmath409 as well .",
    "similarly , @xmath462 avoids  @xmath442 , showing that @xmath450 admits the splitting  @xmath456 .",
    "this means that @xmath373 admits the splitting  @xmath95 , and lemma  [ lem - split ] is proved .",
    "consider a @xmath284-avoiding matching  @xmath250 .",
    "suppose that its point set is the set @xmath303 $ ] .",
    "our goal is to construct a @xmath0-avoiding permutation @xmath2 whose envelope matching @xmath478 has the property that any sequence of tanglings and long arc insertions performed on @xmath478 will create a matching whose long arcs contain a copy of @xmath250 or of  @xmath284 .",
    "it will then be easy to verify that such a permutation @xmath2 has the properties stated in the lemma .",
    "let @xmath479 be the order of  @xmath6 .",
    "let @xmath243 be the matching isomorphic to @xmath284 on the point set @xmath480 $ ] . by assumption ,",
    "@xmath6 is indecomposable , so @xmath243 is connected .",
    "let @xmath481 be the endpoint connected to @xmath35 by an arc of @xmath243 , and let @xmath482 be the endpoint connected to @xmath483 .",
    "note that @xmath35 and @xmath483 are not connected by an arc of @xmath243 , since @xmath243 is connected .",
    "let @xmath256 be the matching obtained from @xmath243 by replacing the two arcs @xmath484 and @xmath485 by the arcs @xmath486 and @xmath487 .",
    "we now construct the required matching @xmath478 , by adding new arcs to  @xmath250 .",
    "for every two consecutive endpoints @xmath245 and @xmath317 of @xmath250 such that @xmath245 is a right endpoint and @xmath317 is a left endpoint , we insert into @xmath250 an isomorphic copy of @xmath256 whose endpoints all belong to the interval @xmath318 .",
    "let @xmath488 be the resulting matching .",
    "note that @xmath488 is @xmath284-avoiding , since @xmath284 is connected and each connected component of @xmath488 is a subset of @xmath250 or a subset of an isomorphic copy of  @xmath256 .",
    "next , we create the envelope matching @xmath478 , by inserting a new short arc between any pair of consecutive endpoints @xmath489 of @xmath488 such that @xmath246 is a left endpoint and @xmath490 is a right endpoint .",
    "this means that the long arcs of @xmath478 are precisely the arcs of  @xmath488 .",
    "let @xmath2 be the permutation whose envelope matching is  @xmath478 , and therefore its reduced envelope matching is  @xmath488 .",
    "we claim that @xmath2 has the required properties . by lemma  [ lem - rpi ]",
    ", @xmath2 avoids  @xmath0 .",
    "it remains to show that if @xmath1 is a @xmath0-avoiding permutation containing @xmath2 , then the reduced envelope matching of @xmath1 contains  @xmath250 .",
    "suppose that @xmath1 is a @xmath0-avoiding permutation which contains  @xmath2 , and suppose for contradiction that the matching @xmath393 avoids  @xmath250 .    by lemma  [ lem - tangle ] ,",
    "the envelope matching of @xmath1 can be created from @xmath478 by a sequence of tanglings and insertions of new long arcs .",
    "since the long arcs of @xmath478 contain the arcs of @xmath250 as a subset while @xmath491 avoids @xmath250 , we see that one of the tanglings used to create @xmath348 from @xmath478 must have altered the relative order of the endpoints of  @xmath250 .",
    "this means that the tangling was performed on an interval @xmath345 that contained a right endpoint @xmath245 of @xmath250 situated to the left of a left endpoint @xmath317 of  @xmath250 . by construction",
    ", @xmath488 contains a copy of @xmath256 in the interval @xmath318 .",
    "the tangling on @xmath345 will change this copy of @xmath256 into a copy of @xmath243 , and insert a new short arc nested below all the arcs of @xmath243 , thus creating a copy of  @xmath278 .",
    "since any further tangling or any further insertion of long arcs can not affect the relative order of endpoints in this copy of @xmath278 , we see that @xmath348 contains @xmath278 , and therefore @xmath1 contains @xmath0 , a contradiction .",
    "this completes the proof of lemma  [ lem - perm ] and of theorem  [ thm - split ] .",
    "the splittings obtained by applying theorem  [ thm - split ] involve patterns which are large and have complicated structure .",
    "it is unlikely that such splittings could be directly used for enumeration purposes . in special cases ,",
    "it is however possible to apply a different argument which yields more natural and more explicit splittings .",
    "one such result , stated in the next theorem , is the focus of this subsection .",
    "[ thm - spsp ] let @xmath0 be an indecomposable permutation of order  @xmath9 .",
    "if the class @xmath47 admits a splitting @xmath492 for a multiset @xmath493 of indecomposable permutations , then @xmath494 admits the splitting @xmath495 for some @xmath496 .",
    "before we prove this theorem , we show that the assumption that @xmath171 are indecomposable does not restrict the theorem s applicability .",
    "[ lem - indeco ] let @xmath0 be an indecomposable permutation .",
    "suppose that @xmath47 has the splitting @xmath497 for some permutations @xmath171 .",
    "suppose furthermore that @xmath498 can be written as @xmath499 .",
    "then @xmath47 also admits the splitting @xmath500    to show that @xmath456 is a splitting of @xmath47 , we will prove the following stronger statement : @xmath501    let @xmath1 be a @xmath0-avoiding permutation , and let @xmath2 be the permutation @xmath502 . since @xmath0 is indecomposable",
    ", @xmath2 avoids  @xmath0 , and therefore it can be colored by @xmath10 colors @xmath338 so that the elements of color @xmath339 avoid  @xmath173 .",
    "the permutation @xmath2 is a direct sum of two copies of @xmath1 ; we refer to them as the bottom - left copy and the top - right copy .",
    "we consider the restrictions of the coloring of @xmath2 to the two copies .",
    "if the bottom - left copy contains @xmath503 in color @xmath504 and the top - right copy contains @xmath505 in color @xmath504 , then @xmath2 contains @xmath498 in color @xmath504 , which is impossible .",
    "suppose that the bottom - left copy has no @xmath503 in color  @xmath504 .",
    "then the coloring of the bottom - left copy of @xmath1 demonstrates that @xmath506 , as claimed .",
    "similarly , if the top - right copy of @xmath1 avoids @xmath505 in color @xmath504 , we see that @xmath507 .",
    "this proves the lemma .",
    "if @xmath0 is indecomposable and the class @xmath47 is splittable , then @xmath47 has a splitting of the form @xmath508 , where each @xmath173 is an indecomposable @xmath0-avoiding permutation .",
    "the rest of this subsection is devoted to the proof of theorem  [ thm - spsp ] . as in the proof of theorem",
    "[ thm - split ] , we use the formalism of ordered matchings . note that by observation  [ obs - match ] , a class @xmath47 has a splitting @xmath508 if and only if the class of permutation matchings @xmath287 has a splitting @xmath509 . on the other hand , by lemma  [ lem - rpi ]",
    ", a splitting of @xmath494 into parts of the form @xmath510 can be obtained from a splitting of @xmath511 into parts of the form @xmath512 .",
    "therefore , what we need is an argument showing how a splitting of the class @xmath287 can be transformed into a splitting of the larger class @xmath511 . for this , we state and prove the next theorem .",
    "[ thm - match ] let @xmath0 be a permutation of order @xmath9 .",
    "suppose that the class @xmath287 has a splitting @xmath513 where each @xmath173 is a nonempty indecomposable permutation .",
    "then there is a constant @xmath514 such that the class of matchings @xmath511 has a splitting @xmath515    the theorem essentially says that if we can split a @xmath278-avoiding permutation matching into matchings that avoid some other permutation patterns , then we can have an analogous splitting also for non - permutation @xmath278-avoiding matchings .",
    "the splitting of non - permutation matchings may need a @xmath516-fold increase in the number of parts used .",
    "the bound @xmath514 can be slightly improved by a more careful proof , but the particular approach we will use in the proof seems to always produce a bound of the form @xmath517 for some  @xmath490 . getting a subexponential upper bound for @xmath516 would be a major achievement , as this would imply , as a special case , a subexponential bound on the chromatic number of circle graphs avoiding a clique of size  @xmath9 , as we shall see in subsection  [ ssec - circ ] .",
    "recall that for a matching @xmath243 , an arc @xmath518 is long if at least one endpoint of @xmath243 is nested below  @xmath208 ; otherwise it is short .",
    "let @xmath519 be the number of long arcs of  @xmath243 .",
    "define the _ weight _ of @xmath243 , denoted by @xmath520 , as @xmath521 . to prove theorem  [ thm - match ]",
    ", we will in fact prove the following more general result .",
    "[ lem - match ] let @xmath0 be a permutation of order @xmath9 .",
    "suppose that the class @xmath287 has a splitting @xmath513 where each @xmath173 is a nonempty indecomposable permutation .",
    "let @xmath243 be a matching .",
    "there is a constant @xmath522 such that @xmath523 has a splitting @xmath524    to deduce theorem  [ thm - match ] from lemma  [ lem - match ] , we simply choose @xmath525 and observe that @xmath526 .",
    "we proceed by induction on @xmath520 .",
    "let @xmath95 denote the multiset @xmath527 , and let @xmath528 denote the smallest value of @xmath516 for which @xmath529 is a splitting of @xmath523 .",
    "we want to prove that this value is finite for each  @xmath243 , and in particular , that @xmath530 .",
    "we will assume , without loss of generality , that the endpoints of @xmath243 form the set  @xmath480 $ ] , where @xmath35 is the size of @xmath243 .",
    "if @xmath531 , then @xmath243 consists of a single arc , so the class @xmath523 only contains the empty matching , and we have @xmath532 .",
    "suppose now that @xmath533 .",
    "we will distinguish several cases , based on the structure of  @xmath243 .",
    "suppose first that @xmath243 has the form @xmath534 for some nonempty matchings @xmath274 and  @xmath275 .",
    "note that both @xmath274 and @xmath275 have smaller weight than  @xmath243 .    choose a matching @xmath535 with @xmath536 arcs .",
    "suppose that @xmath250 has the point set @xmath537 $ ] .",
    "let @xmath538 $ ] be the submatching of @xmath250 consisting of all those arcs whose both endpoints are smaller than @xmath21 , and symmetrically , @xmath539 $ ] consists of those arcs whose both endpoints are larger than  @xmath21 . @xmath540 $ ] and @xmath541 $ ] are defined analogously .",
    "fix the smallest value of @xmath21 such that @xmath542 $ ] contains a copy of  @xmath274 . if no such value exists , it means that @xmath250 belongs to @xmath543 , and admits the splitting @xmath544 by induction .",
    "suppose then that @xmath21 has been fixed .",
    "then @xmath539 $ ] avoids @xmath275 , otherwise @xmath250 would contain  @xmath243 .",
    "we partition @xmath250 into three disjoint matchings @xmath538 $ ] , @xmath539 $ ] , and @xmath545\\cup n[>\\!i])$ ] .",
    "the first of these matchings avoids @xmath274 , the second avoids @xmath275 , and the third one is a permutation matching .",
    "it follows that these matchings admit the splittings @xmath544 , @xmath546 , and @xmath95 , respectively , and hence @xmath250 admits the splitting @xmath547 .",
    "we conclude that @xmath548 .",
    "suppose from now on that @xmath243 is @xmath272-indecomposable .",
    "this part of our argument is analogous to the proof of lemma  [ lem - split ] .",
    "fix a matching @xmath535 . recall that the permutations @xmath549 are indecomposable by assumption , and therefore the matchings @xmath550 are all connected .",
    "therefore , if for some @xmath516 each connected component of @xmath250 admits a splitting @xmath529 , then @xmath250 admits this splitting as well .",
    "we will therefore assume from now on that the matching @xmath250 is connected .",
    "recall that @xmath551 is the intersection graph of  @xmath250 .",
    "let @xmath552 be the arc that contains the leftmost endpoint of  @xmath250 .",
    "we partition the arcs of @xmath250 into sets @xmath449 , where an arc @xmath169 belongs to @xmath450 if and only if the shortest path between @xmath335 and @xmath169 in @xmath551 has length  @xmath21 .",
    "we refer to the elements of @xmath450 as _ arcs of level @xmath21_.    since @xmath550 is connected for each @xmath21 , we see that if each level @xmath450 admits a splitting @xmath529 , then the union @xmath553 of all the even levels admits this splitting as well , and the same is true for the union of the odd layers .",
    "it then follows that the matching @xmath250 admits the splitting  @xmath554 .",
    "it is thus sufficient to find , for each fixed @xmath21 , a splitting of @xmath450 of the form @xmath529 .",
    "since @xmath457 only contains the arc @xmath335 , we focus on @xmath458 . as in the proof of lemma  [ lem - split ] , for an arc @xmath459",
    ", we let @xmath460 be an arbitrary arc of level @xmath451 crossed by @xmath169 .",
    "we again partition @xmath450 into two sets @xmath461 and @xmath462 , with @xmath463    we now define two matchings @xmath408 and @xmath410 , both of strictly smaller weight than @xmath243 , and show that the blocks of @xmath461 and @xmath462 avoid @xmath408 and @xmath410 , respectively .",
    "let @xmath209 be the arc of @xmath243 that contains the leftmost endpoint of  @xmath243 , and let @xmath264 be its other endpoint ; in other words , we have @xmath555 . note that @xmath209 is long , otherwise @xmath243 would be @xmath272-decomposable .",
    "let @xmath408 be the matching obtained from @xmath243 by replacing the arc @xmath209 with the arc @xmath556 .",
    "since we replaced a long arc @xmath557 by a short arc @xmath558 , we see that @xmath559 .",
    "we define the matching @xmath410 symmetrically .",
    "let @xmath560 be the arc of @xmath243 containing the rightmost endpoint of  @xmath243 , and let @xmath385 be the left endpoint of @xmath560 .",
    "we let @xmath410 denote the matching obtained by replacing @xmath560 by the arc  @xmath561 .    repeating the arguments of claim  [ cla - blockx ] and claim  [ cla - mplusx ] in the proof of lemma  [ lem - split ]",
    ", we again see that every block of @xmath461 avoids @xmath408 and every block of @xmath462 avoids  @xmath410 . by induction , every block of @xmath461 admits the splitting @xmath562 , and consequently , the whole matching @xmath461 admits such splitting as well .",
    "similarly , @xmath462 admits the splitting @xmath563 .",
    "consequently , @xmath450 admits the splitting @xmath564 .",
    "this implies that both @xmath454 and @xmath565 admit the splitting @xmath564 .",
    "we conclude that @xmath250 has a splitting @xmath529 , with @xmath566 , as claimed .",
    "this completes the proof of lemma  [ lem - match ] and therefore also of theorem  [ thm - match ] and theorem  [ thm - spsp ] .",
    "let @xmath568 denote the decreasing permutation @xmath569 .",
    "it is well known that any @xmath568-avoiding permutation can be merged from at most @xmath570 increasing sequences ; in other words , @xmath571 has a splitting @xmath572 . by theorem  [ thm - spsp ] ,",
    "we conclude that @xmath573 has a splitting @xmath574 for @xmath575 .",
    "let @xmath576 denote the smallest integer such that @xmath573 admits the splitting @xmath577 . recall that",
    "a _ circle graph _ is a graph that can be obtained as the intersection graph of a matching .",
    "a _ proper coloring _ of a graph @xmath578 is the coloring of the vertices of @xmath578 in such a way that no two adjacent vertices have the same color .",
    "the _ chromatic number _ of  @xmath578 is the smallest number of colors needed for a proper coloring of  @xmath578 .",
    "a graph is _",
    "@xmath579-free _ if it has no complete subgraph on @xmath9 vertices .",
    "[ pro - circ ] let @xmath10 and @xmath9 be integers .",
    "then the class @xmath573 admits the splitting @xmath580 if and only if every @xmath579-free circle graph can be properly colored by @xmath10 colors .",
    "in particular , @xmath576 is equal to the largest chromatic number of @xmath579-free circle graphs .",
    "let @xmath243 be a matching , and let @xmath578 be its intersection graph .",
    "note that @xmath578 is @xmath579-free if and only if @xmath243 has no @xmath9 pairwise crossing arcs , i.e. , @xmath243 is @xmath581-avoiding .",
    "note also that @xmath578 can be properly @xmath10-colored if and only if @xmath243 admits the splitting @xmath582 . thus",
    ", if every @xmath579-free circle graph can be properly @xmath10-colored , then @xmath583 admits the splitting @xmath582 , and by lemma  [ lem - rpi ] , @xmath573 admits the splitting @xmath580 .",
    "conversely , assume that @xmath573 admits the splitting @xmath580 . we will show that every @xmath579-free circle graph can be properly @xmath10-colored .",
    "it is enough to show this for the smallest possible value of @xmath10 , i.e. , for @xmath584 . in particular",
    ", we may assume that there is a permutation @xmath585 that does not admit the splitting @xmath586 .",
    "let @xmath578 be a @xmath579-free circle graph , and suppose that @xmath578 is the intersection graph of a matching  @xmath243 .",
    "let @xmath6 be a permutation whose reduced envelope matching is  @xmath243 . by lemma  [ lem - rpi ] ,",
    "@xmath6 is @xmath587-avoiding .",
    "let @xmath0 be the permutation obtained by simultaneously inflating each lr - minimum of @xmath6 by a copy of  @xmath1 .",
    "note that @xmath0 is also @xmath588-avoiding .",
    "therefore @xmath0 has a coloring @xmath490 by @xmath10 colors with no monochromatic copy of 132 .",
    "every vertex @xmath589 of @xmath578 corresponds to an arc of @xmath243 , which will be denoted by  @xmath590 $ ] . in turn",
    ", the arc @xmath590 $ ] corresponds to a covered element @xmath591 $ ] of @xmath6 , and this corresponds to an element @xmath592 $ ] of  @xmath0 .",
    "let us define a coloring @xmath593 of the vertices of  @xmath578 by putting @xmath594)$ ] .",
    "we claim that @xmath593 is a proper coloring . to see this , pick two adjacent vertices @xmath595 and @xmath589 of  @xmath578 . then @xmath596 $ ] and @xmath590 $ ] are two crossing arcs in @xmath243 , and @xmath597 $ ] and @xmath591 $ ] are two covered elements of @xmath6 with the property that @xmath6 has an lr - minimum @xmath147 that covers both @xmath597 $ ] and  @xmath591 $ ]",
    ".    note that in every occurrence of @xmath1 in @xmath0 , the coloring @xmath490 must use all @xmath10 colors , because @xmath1 does not admit the splitting @xmath586 .",
    "in particular , the copy of @xmath1 formed by inflating @xmath147 must contain all @xmath10 colors . consequently , @xmath598 $ ] and @xmath592 $ ] must have distinct colors in order to avoid a monochromatic copy of 132 .",
    "thus , @xmath599 , showing that @xmath593 is a proper coloring .    the problem of estimating the value of @xmath576 , i.e.",
    ", the largest chromatic number of @xmath579-free circle graphs , has been studied by graph theorists since the 1980s .",
    "gyrfs  @xcite was the first to prove that this chromatic number is bounded , and showed that @xmath600 .",
    "this has been later improved by kostochka and kratochvl  @xcite , who proved that @xmath601 .",
    "they in fact showed that this bound is also applicable to the so - called polygon - circle graphs , which are intersection graphs of sets of polygons inscribed into a common circle , and are easily seen to be a generalization of circle graphs .",
    "currently , the best known upper bound for @xmath576 is due to ern  @xcite , who proved that @xmath602 .",
    "all these bounds are still far away from the best known general lower bound @xmath603 , proven by kostochka  @xcite .    for specific values of @xmath9 ,",
    "better estimates are known .",
    "for instance , @xmath604 , as shown by kostochka  @xcite , who proved that @xmath605 , and ageev  @xcite , who constructed an example of @xmath606-free 5-chromatic circle graph on 220 vertices .",
    "recently , nenashev  @xcite has also shown that @xmath607 .    in general , the problem of estimating @xmath576 appears rather challenging , and one might therefore expect that the more general problem of estimating the value of @xmath516 will be hard as well . on the other hand , the previously unknown connection between circle graphs and permutations might lead to new useful insights .",
    "we have seen that the class @xmath7 is splittable when @xmath6 is decomposable ( up to small exceptions ) , and unsplittable when @xmath6 is a simple permutation .",
    "obviously , the most natural open problem is to extend this study to the remaining permutation patterns .",
    "for which pattern @xmath6 is the class @xmath7 splittable ?",
    "the number of simple permutations of order @xmath9 is asymptotically @xmath608 , as shown by albert , atkinson and klazar  ( * ? ? ?",
    "* theorem 5 ) ( see also ( * ? ? ? * sequence a111111 ) ) .",
    "the number of decomposable permutations of order @xmath9 is easily seen to be @xmath609 ( see ( * ? ? ? * sequence a003319 ) ) .",
    "thus both these classes form a significant proportion of all permutations , and one might wonder what splittability behavior we should expect for @xmath7 when @xmath6 is a ` typical ' pattern of large size . we may phrase this formally as follows .",
    "what is the asymptotic probability that @xmath7 is splittable , assuming that @xmath6 is chosen uniformly at random among the permutations of order  @xmath9 ?    for certain permutation classes , e.g. for @xmath94 ,",
    "our results imply splittability , but only provide splittings whose parts are defined by avoidance of rather large patterns .",
    "we may hope that this is an artifact of our proof technique , and that these classes admit more ` natural ' splittings .",
    "it is possible to show that every permutation of order at most 3 is unavoidable for @xmath94 , as is every layered permutation or a complement of a layered permutation . on the other hand ,",
    "it is not clear whether e.g. the permutations 1423 or 2413 are unavoidable in @xmath94 .",
    "which permutations are unavoidable in the class @xmath94 ?",
    "is , e.g. , @xmath610 or @xmath611 unavoidable in @xmath94 ? does the class @xmath94 even admit a splitting with all parts of the form @xmath612 or  @xmath613 ?",
    "we showed in lemma  [ lem - ama ] that an unsplittable class of permutations is necessarily 1-amalgamable .",
    "this offers a simple approach to prove splittability of a class @xmath79 by exhibiting an example of permutations @xmath614 that fail to amalgamate in  @xmath79 .",
    "although we never used such approach in the present paper , we believe that amalgamability is a concept worth exploring .    for some splittable classes ,",
    "it is easy to see that they fail to be 1-amalgamable : e.g. , a class of the form @xmath615 has no amalgamation identifying the leftmost element of @xmath616 with the leftmost element of @xmath617 , showing that the class @xmath615 is not 1-amalgamable .",
    "however , for more general splittable classes , there does not seem to be any such obvious argument .",
    "is there an example of a splittable permutation class that is 1-amalgamable ?",
    "we may also ask about higher - order amalgamations or ramsey properties . as we pointed out in the introduction , by results of cameron  @xcite and bttcher and foniok  @xcite ,",
    "any 3-amalgamable permutation class is amalgamable and ramsey .",
    "it is not hard to verify that some classes , e.g. the class @xmath178 , or the class @xmath618 of separable permutations , are 2-amalgamable but not 3-amalgamable . beyond that",
    ", we do not know much about 2-amalgamable classes .    which permutation classes are 2-amalgamable ? are there infinitely many of them ?",
    "we are grateful to martin klazar and anders claesson for valuable discussions and helpful comments .",
    "a.  kostochka .",
    "coloring intersection graphs of geometric figures with a given clique number . in jnos",
    "pach , editor , _ towards a theory of geometric graphs _ , volume 342 of _ contemporary mathematics _ , pages 127138 .",
    "soc . , 2004 ."
  ],
  "abstract_text": [
    "<S> we say that a permutation @xmath0 is _ merged _ from permutations @xmath1 and @xmath2 , if we can color the elements of @xmath0 red and blue so that the red elements are order - isomorphic to @xmath1 and the blue ones to  @xmath2 . </S>",
    "<S> a _ permutation class _ is a set of permutations closed under taking subpermutations . </S>",
    "<S> a permutation class @xmath3 is _ splittable _ if it has two proper subclasses @xmath4 and @xmath5 such that every element of @xmath3 can be obtained by merging an element of @xmath4 with an element of  @xmath5 .    </S>",
    "<S> several recent papers use splittability as a tool in deriving enumerative results for specific permutation classes . </S>",
    "<S> the goal of this paper is to study splittability systematically . as our main results </S>",
    "<S> , we show that if @xmath6 is a sum - decomposable permutation of order at least four , then the class @xmath7 of all @xmath6-avoiding permutations is splittable , while if @xmath6 is a simple permutation , then @xmath7 is unsplittable .    we also show that there is a close connection between splittings of certain permutation classes and colorings of circle graphs of bounded clique size . </S>",
    "<S> indeed , our splittability results can be interpreted as a generalization of a theorem of gyrfs stating that circle graphs of bounded clique size have bounded chromatic number . </S>"
  ]
}