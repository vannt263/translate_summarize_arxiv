{
  "article_text": [
    "with the starting soon , collider based particle physics is about to enter a new energy regime .",
    "everybody is excited about the possibilities of finding new physics beyond the scale , but the vast majority of events at the will be standard model qcd events .",
    "the proton will be probed at low bjrken @xmath1 where current pdf fits have large uncertainties , jets above 1 will be seen , and the behaviour of the @xmath2 total cross - section and multiple parton interactions will be measured at values of @xmath3 where extrapolation from current data is challenging .",
    "no discoveries of new physics can be claimed before the standard model at these energies is measured and understood .",
    "monte carlo event generators play an important role in virtually every physics analysis at collider experiments .",
    "they are used to evaluate signal and background events , and to design the analyses .",
    "it is essential that the simulations describe the data as accurately as possible .",
    "the main point here is not to focus on just one or two distributions , but to look at a wide spectrum of observables .",
    "only if the monte carlo agrees with many complementary observables can we trust it to have predictive power , and from disagreements we can learn something about model deficiencies and the underlying physics .    as monte",
    "carlo event generators are based on phenomenological models and approximations , there are a number of parameters that need to be tweaked if the generator is to describe the experimental data . in the first part of this talk we present a strategy for systematic monte carlo parameter tuning . in the second part two new tunes of the generator  @xcite are presented and compared to other tunings .",
    "every monte carlo event generator has a number of relatively free parameters which must be tuned to make the generator describe experimental data in the best possible way .",
    "such parameters can be found almost everywhere in monte carlo generators   all the way from the ( perturbative ) hard interaction to the ( non - perturbative ) hadronisation process . naturally the majority of parameters are found in the non - perturbative physics models .    while all the parameters have a physical motivation in their models , there are usually only rough arguments about their scale .",
    "other parameters are measured experimentally ( like @xmath4 ) , but as the monte carlo event generators use them in a fixed - order scheme ( unlike nature ) they need to be adjusted , too .",
    "going through the steps of event generation and identifying the most important parameters , one typically finds @xmath5 parameters of particular importance to collider experiments .",
    "most of these parameters are highly correlated in a non - trivial way .",
    "we can group the parameters in approximately independent sets e.g. in flavour , fragmentation , and underlying event parameters , to reduce the number to be optimised against any single set of observables .",
    "nevertheless , the number of parameters to be simultaneously tuned is @xmath6 .",
    "a manual or brute - force approach to monte carlo tuning is not very practical : it is very slow , and manual tunings in particular depend very much on the experience of the person performing the tuning ( at the same time there is a strong anti - correlation between experience and willingness to produce a new tune manually ) .      in this talk",
    ", we describe the tuning system , which eliminates the problems with manual and brute - force tunings by parameterising a generator s response to parameter shifts on a bin - by - bin basis , a technique introduced by the -collaboration@xcite .",
    "this parameterisation , unlike a brute - force method , is then amenable to numerical minimisation within a timescale short enough to make explorations of tuning criteria possible .",
    "the first step of any tuning is to define the parameters that shall be varied , together with the variation intervals .",
    "this requires a thorough understanding of the generator s model , its parameters and the available data   all the relevant parameters for a certain model should enter the tuning , but none of the irrelevant ones . a fragmentation tune for example must include the shower cut - off parameter , while a tune of the flavour composition had better not be dependent on it .",
    "once we have settled on a set of parameter intervals , it is time to obtain a predictive function for the monte carlo output",
    ". actually we generate an ensemble of such functions . for each observable bin @xmath7 a polynomial",
    "is fitted to the monte carlo response @xmath8 to changes in the parameter vector @xmath9 of the @xmath10 parameters varied in the tune . to account for lowest - order parameter correlations ,",
    "a polynomial of at least second - order is used as the basis for bin parameterisation : @xmath11 we have tested this to give a good approximation of the true monte carlo response for real - life observables .    the number of parameters and the order of the polynomial fix the number of coefficients to be determined . for a second order polynomial in @xmath10 parameters ,",
    "the number of coefficients is @xmath12 since only the independent components of the matrix term are to be counted .    given a general polynomial , we must now determine the coefficients @xmath13 for each bin so as to best mimic the true generator behaviour .",
    "this could be done by a monte carlo numerical minimisation method , but there would be a danger of finding sub - optimal local minima , and automatically determining convergence is a potential source of problems .",
    "fortunately , this problem can be cast in such a way that a deterministic method can be applied .    one way to determine the polynomial coefficients would be to run the generator at as many parameter points , @xmath14 , as there are coefficients to be determined",
    ". a square @xmath15 matrix can then be constructed , mapping the appropriate combinations of parameters on to the coefficients to be determined ; a normal matrix inversion can then be used to solve the system of simultaneous equations and thus determine the coefficients . since there is no reason for the matrix to be singular",
    ", this method will always give an `` exact '' fit of the polynomial to the generator behaviour .",
    "however , this does not reflect the true complexity of the generator response : we have engineered the exact fit by restricting the number of samples on which our interpolation is based , and it is safe to assume that taking a larger number of samples would show deviations from what a polynomial can describe , both because of intrinsic complexity in the true response function and because of the statistical sampling error that comes from running the generator for a finite number of events .",
    "what we would like is to find a set of coefficients ( for each bin ) which average out these effects and are a least - squares best fit to the oversampled generator points .",
    "as it happens , there is a generalisation of matrix inversion to non - square matrices ",
    "the _ pseudoinverse _ @xcite   with exactly this property .",
    "as suggested , the set of anchor points for each bin are determined by randomly sampling the generator from @xmath14 parameter space points in the @xmath10-dimensional parameter hypercube @xmath16 $ ] defined by the user .",
    "this definition requires physics input   each parameter @xmath17 should have its upper and lower sampling limits @xmath18 chosen so as to encompass all reasonable values ; we find that generosity in this definition is sensible , as may suggest tunes which lie outside conservatively chosen ranges , forcing a repeat of the procedure .",
    "on the other hand the parameter range should not be too large , in order to keep the volume of the parameter space small and to make sure that the parabolic approximation gives a good fit to the true monte carlo response .",
    "each sampled point may actually consist of many generator runs , which are then merged into a single collection of simulation histograms .",
    "the simultaneous equations solution described above is possible if the number of sampled points is the same as the number of coefficients between the @xmath10 parameters , i.e. @xmath19 . the more robust pseudoinverse method applies when @xmath20 : we prefer to oversample by at least a factor of 2 .",
    "the numerical implementation of the pseudoinverse uses a standard singular value decomposition ( svd ) @xcite .",
    "with the functions @xmath21 we now have a very fast way of predicting the behaviour of the monte carlo generator . to get the monte carlo response for any parameter setting inside the defined parameter hypercube it is not necessary anymore to run the generator , but we can simply evaluate the polynomial .",
    "this allows us to define a goodness of fit function comparing data and ( approximated ) monte carlo which can be minimised in a very short time .",
    "we choose a heuristic @xmath22 function , but other goodness of fit ( ) measures can certainly be used . since the relative importance of various distributions in the observable set is a subjective thing   given 20 event shape distributions and one charged multiplicity ,",
    "it is certainly sensible to weight up the multiplicity by a factor of at least 10 or so to maintain its relevance to the measure   we include per - observable weights , @xmath23 for each observable @xmath24 , in our @xmath22 definition : @xmath25 where @xmath26 is the reference ( i.e. data ) value for bin @xmath7 and the total error @xmath27 is the sum in quadrature of the reference error and the statistical generator errors for bin @xmath7 . in practice",
    "we attempt to generate sufficient events at each sampled parameter point that the statistical mc error is much smaller than the reference error for all bins .",
    "it should be noted that there is unavoidable subjectivity in the choice of these weights , and a choice of equal weights is no more sensible than a choice of uniform priors in a bayesian analysis ; physicist input is necessary in both choosing the admixture of observable weights according to the criteria of the generator audience   a @xmath7-physics experiment may prioritise distributions that a general - purpose detector collaboration would have little interest in   and to ensure that the end result is not overly sensitive to the choice of weights .",
    "the final stage is to minimise the parameterised @xmath22 function .",
    "it is tempting to think that there is scope for an analytic global minimisation at this order of polynomial , but not enough hessian matrix elements may be calculated to constrain all the parameters and hence we must finally resort to a numerical minimisation .",
    "this is the numerically weakest point in the method , as the weighted quadratic sum of hundreds of polynomials is a very complex function and there is scope for getting stuck in a non - global minimum .",
    "hence the choice of minimiser is important .",
    "the output from the minimisation is a vector of parameter values which , if the parameterisation and minimisation stages are faithful , should be the optimal tune according to the ( subjective ) criterion defined by the choice of observable weights .",
    "we have implemented the tuning strategy described above in the software package .",
    "reads in monte carlo and data histogram files , parameterises the monte carlo response , and performs the @xmath22 minimisation .",
    "the monte carlo histograms used as input for are generated with  @xcite .",
    "is an analysis framework for monte carlo event generator validation . by reading in hepmc event records",
    ", can be used with virtually all common event generators , and this well - defined interface between generator and analysis tool ensures that the physics analyses are implemented in a generator - independent way .",
    "a key feature of is that the reference data can be taken directly from the hepdata archive @xcite and is used to define the binnings of the monte carlo histograms , automatically ensuring that there is no problem with synchronising bin edge positions . at present , there are about 40 key analyses mainly from and , but also from , , , and other accelerators .",
    "more analyses are constantly being added .",
    "for the first production tuning we chose the event generator , as this is a well - known generator which has been tuned before and which we expected to behave well .",
    "naturally the first step in tuning a generator is to fix the flavour composition and the fragmentation parameters to the precision data from and before continuing with the parameters related to hadron collisions , for which we use data from the .      in the parameters for flavour composition",
    "decouple well from the non - flavour hadronisation parameters such as @xmath28 , @xmath7 , @xmath29 , or the shower parameters ( @xmath4 , cut - off ) .",
    "parameters related to the underlying event and multiple parton interactions are decoupled from the flavour and fragmentation parameters . in order to keep the number of simultaneously tuned parameters small",
    ", we decided to follow a three - stage strategy . in the first step",
    "the flavour parameters were optimised , keeping almost everything else at its default values ( including using the virtuality - ordered shower ) . in the second step",
    "the non - flavour hadronisation and shower parameters were tuned   using the optimised flavour parameters obtained in the first step .",
    "the final step was tuning the underlying event and multiple parton interaction parameters to data from and .",
    ".tuned flavour parameters and their defaults . [",
    "cols=\"<,>,>,<\",options=\"header \" , ]",
    "the and tools are in a state where they can be used for real tunings and the tuning of has been a significant success . at and around the perugia workshop a bunch of new tunes appeared on the market : our tunes , peter skand s perugia tunes ( which are based on our flavour and fragmentation parameters ) , and combinations of the well established rick field tunes with our new flavour and fragmentation settings which even improve the agreement with data at the .",
    "all these tunes are directly available through the pytune routine in  6.420 or later .",
    "we strongly encourage the experiments to use one of these tunings instead of spending their valuable time on trying to tune themselves .",
    "monte carlo tuning requires a sound understanding of the models and of the data , and a very close collaboration with the generator authors . in the current situation",
    "we highly recommend the use of either peter skands perugia tune or our new tune if the user wants to go for the new mpi model , or a tune like dwpro or our tune of the virtuality - ordered shower for a more conservative user who wants to use a well - proven model .",
    "we want to thank the organisers of the mpi@lhc workshop for this very productive and enjoyable meeting , and we are looking forward to its continuation .",
    "our work was supported in part by the mcnet european union marie curie research training network , which provided funding for collaboration meetings and attendance at research workshops such as mpi@lhc08 .",
    "andy buckley has been principally supported by a special project grant from the uk science & technology funding council .",
    "hendrik hoeth acknowledges a mcnet postdoctoral fellowship ."
  ],
  "abstract_text": [
    "<S> we present the monte carlo generator tuning strategy followed , and the tools developed , by the mcnet cedar project . </S>",
    "<S> we also present new tuning results for the event generator which are based on event shape and hadronisation observables from @xmath0 experiments , and on underlying event and minimum bias data from the . </S>",
    "<S> our new tunes are compared to existing tunes and to peter skands new `` perugia '' tunes . </S>"
  ]
}