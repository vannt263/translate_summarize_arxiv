{
  "article_text": [
    "skysails system is a towing kite system which allows modern cargo ships to use the wind as source of power in order to save fuel and therefore to save costs and reduce emissions @xcite .",
    "the skysails company has been founded in 2001 and as main business offers wind propulsion systems for ships . starting the development with kites of 610m@xmath0 size the latest product generation with a nominal size of 320m@xmath0 can replace up to 2mw of the main engine s propulsion power . besides the marine applications of kites there is a strongly increasing activity in using automatically controlled kites @xcite and rigid wings @xcite in order to generate power from high - altitude wind @xcite . since 2011 the company s second business segment skysails power also develops and markets systems for generating power from high - altitude wind .",
    "therefore the design of control systems for tethered kites has become a growing field of theoretical @xcite and experimental @xcite research efforts .",
    "the main components of the skysails system are shown in fig .",
    "[ fig : sks_system ]    .,width=332 ]    and fig .",
    "[ fig : deflection ] .     in order to direct the kite .",
    "the steering actuator in the control pod drives a tooth belt attached to the kite steering lines as shown in the figure .",
    "the main part of the forces is transferred to the control pod by passive and fixed lines .",
    "a deflection of the belt warps the kite canopy basically about the roll axis .",
    "the resultant dynamics due to aerodynamic forces is mainly a turn rate about the yaw axis which is discussed in detail in section [ sec : turn_rate_law].,width=332 ]    the core of the propulsion system is the towing kite steered by the control pod situated under the kite .",
    "the towing force is transmitted to the ship by a high - strength synthetic fiber rope .",
    "additionally a launch and recovery system is installed aboard the ship @xcite . one key component of the flight control system is the main steering actuator in the control pod applying deflections to some kite lines leading to curve flight .",
    "a control system consisting of distributed computers preprocesses data from various sensors at a rate of 10hz and performs the flight control algorithm which calculates the steering command applied to the main actuator .",
    "an integrated graphical user interface allows for operation of the system by the crew whereas for research and development purposes prototyping and testing toolchains can be connected via special interfaces .",
    "the paper is organized as follows : first we introduce the basic system and coordinate definitions .",
    "we then focus on the main dynamics and develop a model specially suited for controller design .",
    "after justification of the main law of the model with experimental data we present our controller design discussing design considerations and controller performance measurements .",
    "we complete the article with the explanation of pattern generation .",
    "in this section we give a mathematical description of the considered system .",
    "it is worth mentioning that we deal with a constrained system which shows a completely different dynamics compared to free flying parafoils @xcite .",
    "the basic system is sketched in fig .",
    "[ fig : coordinate_definition ] .     with @xmath1 in wind direction and @xmath2 pointing downwards with respect to gravity .",
    "the kite position is parameterized by introducing the spherical coordinates @xmath3 and @xmath4 ( for a more precise definition see ( [ eq : def_rotation ] ) ) .",
    "the kite axes are labeled as roll @xmath5 , pitch @xmath6 and yaw @xmath7 .",
    "this corresponds to the definition usually used in aerospace applications with roll axis parallel to forward and yaw axis parallel to down directions respectively .",
    "note that the yaw vector @xmath7 is defined by the position of the kite assuming it is constrained to the origin by a rigid rod .",
    "thus orientation of the kite is represented by the single angle @xmath8 .",
    "detailed vector definitions are given in appendix [ sec : derivation_model ] of the paper.,width=332 ]    compared to the real system we make use of some simplifications which are summarized in table [ tab : simplifications ] .",
    ".overview on model assumptions used for setup ( section [ sec : basic_system ] ) and dynamics ( section [ sec : system_dynamics ] ) [ cols=\"<,<\",options=\"header \" , ]     the flexible rope is substituted by a rigid rod which also is parallel to the kite yaw axis @xmath7 and all masses are neglected . at first view",
    "this seems to be an unrealistic simplification , but the usual mode of operation is the highly dynamical pattern flight leading to line forces large compared to system masses .",
    "therefore inertia effects or free flight situations , where the towing line is no longer stretched out due to gusts or wave induced ship motions , are infrequent .",
    "although consideration of these issues becomes important at a certain point when bringing the system to higher perfection , a detailed description of the solution to these off - nominal situations would go beyond the scope of this paper .",
    "we would like to start with a demonstrative and introductive example to motivate the idea of the chosen coordinate system @xmath9 and to explain the basic dynamics .",
    "imagine a kite flying in a wind tunnel experiment conducted on a space station which means the absence of gravity .",
    "we further assume the free manoeuvrability of the kite unrestricted by obstacles like ground or ceiling . from this mental picture",
    "it would be natural to chose a coordinate system with symmetry axis in wind direction . a kite with its roll axis @xmath5 antiparallel to the wind direction would stay at a some arbitrary , stationary position like e.g. a , see fig .",
    "[ fig : space_exp ] .     due to steering will lead to a circular orbit b. the diameter is a function of the @xmath8 magnitude .",
    "see also fig .",
    "[ fig : windwindow ] for further illustration.,width=332 ]    however , once a deflection is commanded , the kite will go down and orbit around permanently on a circular path b. the diameter of the steady state circle is a function of our coordinate @xmath8 which in turn is determined by the commanded deflections .",
    "the smaller the diameter of the circle the faster flies the kite and thus the more force will be generated .",
    "the corresponding dynamical equations will be discussed in detail in section [ sec : system_dynamics ] .",
    "we would like to emphasize that the above sketched model is our controller design model while we use for various other development and test issues a sophisticated simulator model including multi - body dynamics which also captures the aerodynamical effects more comprehensively ( comparable in structure to @xcite ) .",
    "yet , we suggest above model based on this imaginary space station experiment because it is specifically suited for the controller design purpose .",
    "it neglects gravity effects and by this a new symmetry axis is gained . the main benefit of this symmetry compared to other coordinate systems @xcite is the resulting simplicity of equations of motion which allows us to approach the feedback and guidance design task to a large extent analytically or semi - analytically at least .",
    "further on it provides a straight forward way of describing flight patterns .",
    "our choice of the design model led to a controller structure to be presented in sections [ sec : controller_design_overview][sec : controller_design_outer_loop ] .",
    "this controller structure turned out to work quite effectively in numerous sea trials .",
    "we close this section by definitions for the quantities used in the following .",
    "the coordinate system is shown in figure [ fig : coordinate_definition ] . for a constant line length @xmath10",
    "the state of the kite is defined by the three angles @xmath9 and @xmath8 . with respect to the basis vectors @xmath1 , @xmath11 , @xmath2",
    "we obtain for the kite position @xmath12 : @xmath13    the kite axes are denoted as @xmath5 ( roll or longitudinal ) , @xmath14 ( pitch ) and @xmath7 ( yaw ) .",
    "an explicit definition of these vectors is given in appendix [ sec : derivation_model ] .",
    "for a description using rotation matrices one would start with a kite at position @xmath15 with roll - axis in negative @xmath16-direction @xmath17 and then apply the following rotations : @xmath18 about @xmath19 , @xmath4 about @xmath20 and finally @xmath3 about @xmath19 .",
    "this transformation reads : @xmath21    one could interpret the angle @xmath8 as orientation of the kite longitudinal axis with reference to the wind .",
    "for a given kite position @xmath12 ( parameterized by @xmath3 and @xmath4 ) the reference orientation @xmath22 corresponds to the minimum of the scalar product @xmath23 obtained when turning the kite fixated at this position @xmath12 around its yaw axis @xmath7 .",
    "a nonzero value @xmath8 represents a kite orientation obtained by a rotation of @xmath8 about the yaw axis @xmath7 starting at this reference orientation .",
    "for verification and other development purposes we use a full dynamics simulation containing a multi - body model , an aerodynamic database and parameters adopted to results of sea trials . in this section",
    "we would like to present the main relations and the dynamics of a complementary model specifically tailored for the design of the controller .",
    "the detailed derivation steps are summarized in appendix [ sec : derivation_model ] .",
    "the parameter @xmath3 can be freely chosen determining the positions ( drawn as white kites ) . for constant @xmath8",
    "the resulting @xmath4 converges as shown by the gray kites flying on the marked trajectory.,width=332 ]    the equations of motion for @xmath4 and @xmath3 read : @xmath24 thus the dynamic is mainly controlled by the angle @xmath8 .",
    "further quantities are the air path speed @xmath25 , the towing line length @xmath10 and the glide ratio @xmath26 .",
    "as already pointed out and to be reasoned in the next section we neglect acceleration and gravity effects in order to obtain these simple equations of motion which allow for the following interpretations .",
    "detailed computation steps for the subsequent two steady state solutions are given in appendix [ sec : derivation_model ] .",
    "first , for constant @xmath8 , we get a flight trajectory on a circle with constant angle @xmath27 given by @xmath28 this equation also applies to the fictitious space station experiment introduced in section [ sec : basic_system ] and fig .  [",
    "fig : space_exp ] .",
    "a further result is the dependence of the ( steady state ) air path velocity @xmath25 on the value of @xmath8 and the ambient wind speed @xmath29 , @xmath30 which is the key issue for pattern generation as we can use @xmath8 as a tuning knob to control @xmath25 and the force which is proportional to @xmath31 accordingly .",
    "it is worth mentioning that for practicing the sport of kite surfing , the content of ( [ eq : v_a_theta ] ) is crucial in order to control forces : kite surfers know the angle @xmath4 as position in the so called wind window and the deeper they fly their kite into this wind window  i.e.  they decrease this angle  the more traction force they get and vice versa .",
    "a special case is the so called zenith position for @xmath22 , a neutral flight situation which generates only low forces and thus is used mainly for launching and recovering the kite . from ( [ eq : vartheta_psi ] ) we get @xmath32 and @xmath3 can be used as free parameter to determine the neutral flight position ( compare fig .",
    "[ fig : windwindow ] ) .    while all equations up to here follow straightforward from kinematic reasoning , albeit the choice of the coordinate system was not typical , the dynamic response of the kite to a steering deflection @xmath33 is claimed to be @xmath34 where @xmath35 is the proportionality factor and an illustration of the deflection @xmath33",
    "is given in fig .",
    "[ fig : deflection ] .",
    "we would like to draw special attention to this turn rate law ( [ eq : drehratengesetz ] ) and will show in the following that it can be justified by measured data to a surprising high degree .",
    "therefore it is a key issue for the cascaded controller approach where it constitutes the dynamics of the inner loop .",
    "finally we would like to point out that due to its motion on a spherical surface an inertial sensor measures a turn rate @xmath36 about the yaw axis @xmath7 different from the derivation @xmath37 .",
    "the rotation measured by the pod sensors can be calculated by transforming the dynamics represented by @xmath38 into the pod coordinate system by applying ( [ eq : def_rotation ] ) . comparing the rotation operation @xmath39 with @xmath40 yields : @xmath41 by consideration of typical flight situations where either @xmath3 is kept constant during the neutral flight mode or @xmath42 becomes small due to the long line length @xmath10 needed for dynamic pattern flight , one can assure oneself that the second term of this equation usually is small compared to the first and thus can be neglected in the first instance and treated as a correction to the controller design later .",
    "we would like to conclude this section by emphasizing that we presented a novel model based on three state variables @xmath8 , @xmath4 , @xmath3 and three equations of motion ( [ eq : drehratengesetz ] ) , ( [ eq : dot_theta ] ) , ( [ eq : dot_phi ] ) whereas previously published models @xcite , @xcite , @xcite , @xcite introduce at least four or more state variables .",
    "for a summary and further discussion of the equations we refer to appendix [ sec : eqm_summary ] .",
    "in this section a justification of ( [ eq : drehratengesetz ] ) is given based on numerous experiments showing the strong proportionality .",
    "it is worth noting that ( [ eq : drehratengesetz ] ) is confirmed by measurements to a high degree even in disturbed sea trial conditions .",
    "the key issue of these experiments is to perform bang - bang flights which will be presented and discussed in the following .",
    "the excitation of the system for the identification is performed in the following way : we apply a constant steering command @xmath43 to the system .",
    "the system will respond with a positive yaw rate ( @xmath44 ) . when reaching a certain threshold @xmath45 the corresponding opposite steering deflection @xmath46 is commanded leading to a decrease of @xmath47 .",
    "falling below the negative threshold @xmath48 , the primary deflection @xmath49 is commanded again .",
    "the schedule of the bang - bang experiments is as follows : the human pilot flies the kite into a high zenith position with @xmath50 and hands over the steering to the computer based control system which performs the described algorithm .",
    "a typical flight trajectory is shown in fig .",
    "[ fig : sysident1 ] .",
    "the bang - bang steering leads to a figure - eight - pattern and for typical parameters the air path speed and thus the size of the pattern increase because the kite flies down to smaller elevation angles @xmath4 .",
    "the human pilot only has the task to supervise the flight and overtake manual control before the system runs into the danger of overload or bounces against the water surface .    in fig .",
    "[ fig : sysident2b ] data points for one experiment run are shown .",
    "this experiment was performed in 2006 using a 20m@xmath0 kite .     as function of the air path speed multiplied by deflection @xmath51 to justify ( [ eq : drehratengesetz ] ) .",
    "the parameter @xmath35 is obtained by the shown linear fit.,width=332 ]    repeating this experiment with different @xmath49 leads to similar @xmath35 values and thus proves the validity of ( [ eq : drehratengesetz ] ) .",
    "although the linear dependence can be clearly identified in fig .",
    "[ fig : sysident2b ] it is even more convincing to present the data in the time domain as shown in fig .",
    "[ fig : sysident3 ] .",
    "here we compare the time - series of the steering command with the turn rate of the kite .",
    "the trapezoidal shape is due to the finite steering velocity of the control pod .",
    "the resulting measured yaw rate @xmath36 shows an increase which results from the increasing air path velocity @xmath25 over the experiment .",
    "the yaw rate divided by @xmath52 is also plotted in order to compare it to the steering command .",
    "although a lot of perturbations affect these experiments we observe an excellent correlation .",
    "this analysis justifies the validity of ( [ eq : drehratengesetz ] ) to a high degree and recommends its usage as a key role for the controller design .     with yaw rate @xmath36 and the yaw rate divided by the air path velocity @xmath53 .",
    "note the increasing rates are due to increasing air path speed @xmath25 while going down into the wind window ( compare fig .",
    "[ fig : sysident1]).,width=332 ]    at this point we would like to classify and review these bang - bang experiments in a historical context . following the textbook approach in classical system identification we did a lot of identification flights in the years 2005 and 2006 using separate batch runs in order to characterize the steering behavior of our kites at the various operating points .",
    "the experiments were quite cumbersome : perturbations from wind gusts can be comparatively large compared to periodic excitations caused by the deflection commands and the air path velocities were difficult to tune for the different batch runs and desired operating points .",
    "as we had to evaluate data from different days with changing environmental conditions and drifting flight properties of our kites we solely could suspect the validity of law ( [ eq : drehratengesetz ] ) .",
    "but once we switched to a bang - bang flight strategy the real law shows up clearly .",
    "this is obvious as one bang - bang experiment varies the parameter @xmath25 over a whole range , in one flight alone , lasting only a few tens of seconds and therefore plays a trick on perturbations .",
    "we would like to conclude this section by giving an extended version of ( [ eq : drehratengesetz ] ) which also takes into account the effect of the gravitational force on the turn rate and reads : @xmath54 the quantity @xmath55 denotes the angle between @xmath7 and the @xmath1-@xmath11-plane and @xmath56 the angle between @xmath57 and the @xmath1-@xmath11-plane .    because a steering deflection could be regarded as a kite force component into pitch direction @xmath14 subsequently leading to a yaw rate , the gravity force , projected onto the pitch axis by @xmath58",
    ", should have the same effect .",
    "we have shown in this section that the yaw rate is proportional to @xmath59 .",
    "this can be attributed to a side force proportional to @xmath60 from aerodynamical and design considerations . transferring this reasoning to the mass term , which is independent from @xmath25",
    ", we expect a factor of @xmath61 between the gravitational side force and the yaw rate . the constant @xmath62 includes system masses and kite characteristics . as @xmath62 is positive for our kites",
    "we get an instable behaviour and thus have to stabilize @xmath47 by active control .    as for the usual operation point of dynamic flight we have @xmath63 and thus the second term of ( [ eq : drehratengesetz_with_mass_term ] ) , which we call mass term , can be neglected for the design of the linear feedback law only to be introduced as correction term via a feedforward path to the controller structure .    as our operational flights under autopilot conditions ( during the dynamic flight modes )",
    "utilize similar bang - bang like commands , we can use the discussed identification scheme as a standard tool to establish or check the kite parameter during normal operation . during flights a recursive least - square algorithm @xcite runs in order to determine the system parameters @xmath35 and @xmath62 on - line .",
    "we monitor these values for changes which may indicate upcoming material failures in advance and can adapt controller parameters on - line , if necessary , to increase robustness .",
    "after we have convinced ourselves of the validity of ( [ eq : drehratengesetz ] ) , we will now present the controller design which is strongly influenced in its structure by the discussed law .",
    "most of time the kite is operated in a highly dynamic regime where the air path speed can easily vary by a factor of up to 35 within some seconds and the deflection command can change by more than @xmath64 . the classical way to approach such a controller design task would be to use a controller structure which specifically aims at time varying , non - linear systems .",
    "non - linear dynamic inversion or non - linear model predictive control could be such candidates .",
    "gain scheduling based on linearized plant models along the trajectory is a further alternative .",
    "actually we tried the latter approach in the beginning but were not satisfied with the achievable robustness .",
    "the core of the problem is governed by the fact that it is difficult to execute a classical modeling approach as usually performed in aerospace application .",
    "such an approach would be based on an aerodynamic database covering the full dynamic regime .",
    "performing wind tunnel tests would be expensive and for our larger kites with 160m@xmath0 area downright impossible .",
    "we also learned that a controller structure where the kite trajectory is given as a set - point directly into a single controller block , which then directly computes the deflection command , lacks robustness due to the above mentioned modeling issue .",
    "instead we settled for a separation of the overall controller task into guidance and control. section [ sec : patterngeneration ] describes how the guidance algorithm computes @xmath65 , which is then the input to the controller .",
    "however the major distinguishing feature of our autopilot , compared to other approaches we found in the cited literature , is the cascaded controller structure which is based on the model following principle as shown in fig .",
    "[ fig : cascaded_controller ] .",
    "control implementing the model following structure .",
    "detailed diagrams for the blocks @xmath66 $ ] , @xmath67 $ ] , @xmath68 $ ] and @xmath69 $ ] are shown in figs .",
    "[ fig : block_ff_psi ] , [ fig : block_c_psi ] , [ fig : block_ff_psidot ] and [ fig : block_c_psidot ] .",
    "the controller calculates a steering command @xmath33 from the input value @xmath65 using a measured yaw angle @xmath47 and yaw rate @xmath36.,width=332 ]    the basic idea is to reflect the separation of dynamics ( [ eq : drehratengesetz ] ) and kinematics , as given by @xmath37 , adequately in the controller structure .",
    "we can see two cascaded loops in fig .",
    "[ fig : cascaded_controller ] .",
    "the inner loop gets a commanded rate @xmath70 as an input and computes the deflection command @xmath33 .",
    "the outer loop has @xmath71 as input and commands @xmath70 to the inner loop . before discussing each controller element in detail",
    "we summarize all variables used and relate them to measurements in table [ tab : variables ] .",
    "l|p7 cm     + @xmath33 & normalized steering deflection ( see fig .",
    "[ fig : deflection ] ) + @xmath72 & feedforward computed as shown in fig .",
    "[ fig : block_ff_psidot ] .",
    "+ @xmath73 & feedback computed as shown in fig .",
    "[ fig : block_c_psidot ] . +   +   + @xmath8 & orientation angle of kite longitudinal axis @xmath74 with respect to the ambient wind ( see section [ sec : basic_system ] ) .",
    "+ @xmath65 & setpoint value from guidance ( pattern generation ) + @xmath75 & control reference computed as shown in fig .  [ fig : block_ff_psi ] .",
    "+ @xmath47 & + @xmath76 & control error ( @xmath77 ) + @xmath78 & turn rate about yaw axis + @xmath79 & feedforward computed as shown in fig .",
    "[ fig : block_ff_psi ] .",
    "+ @xmath80 & feedback computed as shown in fig .",
    "[ fig : block_c_psi ] .",
    "+ @xmath70 & setpoint value @xmath81",
    ". + @xmath82 & control reference computed as shown in fig .",
    "[ fig : block_ff_psidot ] .",
    "+ @xmath36 & measured value based on pod - imu + @xmath83 & control error ( @xmath84 ) + @xmath55 & angle between yaw axis and @xmath1-@xmath11-plane , based on pod - imu measurement .",
    "+ @xmath56 & angle between roll axis and @xmath1-@xmath11-plane , based on pod - imu measurement . + @xmath25 &",
    "airpath speed as measured with respect to @xmath74 by an anemometer located aboard the control pod .",
    "+ @xmath85 & + @xmath86 & influence of gravity on yaw rate , see ( [ eq : t_1 ] ) .",
    "+ @xmath3 & wind window position , see fig .",
    "[ fig : windwindow ] + @xmath87 & + @xmath4 & wind window position , see fig .",
    "[ fig : windwindow ] .",
    "+   +   + @xmath35 & proportional gain of the turn rate law ( [ eq : drehratengesetz ] ) , for a 160m@xmath0 system we find @xmath880.05rad / m .",
    "+ @xmath62 & effect of gravitation on turn rate , see ( [ eq : drehratengesetz_with_mass_term ] ) + @xmath26 & glide ratio @xmath89 , typically @xmath9045 in our case .",
    "+ @xmath10 & tether line length assumed to be constant as launch and recovery are not considered here .",
    "+ @xmath91 & steering speed of the control pod ( typically 0.30.51/s ) + @xmath29 & ambient wind speed defined for model . +",
    "from ( [ eq : drehratengesetz ] ) we recognize that the dynamics from deflection to yaw rate can be viewed as a proportional plant , @xmath92 , where @xmath93 denotes the gain . of",
    "course we have to realize that @xmath85 is not constant but a function of the air path velocity .",
    "we take care of this by employing a feedforward / feedback structure which implements the model following principle : in the feedforward term @xmath68 $ ] we compute , in an open loop fashion , the deflection command @xmath72 necessary to achieve @xmath70 .",
    "the feedback control @xmath69 $ ] only acts when there is a remaining control error due to external disturbances or due to unmodeled plant dynamics .",
    "an appropriate delay block is necessary in order to capture all the delays from command to actual execution .",
    "with such a feedforward / feedback structure we can accommodate the dependence of the gain @xmath85 from the air path velocity .",
    "[ fig : block_ff_psidot ] provides details of the feedforward controller block . in line with the idea of the model following principle the feedforward block",
    "is not limited to linear equations and can accommodate any system description . the extended version of the turn rate law ( [ eq : drehratengesetz_with_mass_term ] ) @xmath94 can easily be considered .",
    "the principal idea is to invert it in order to compute the necessary deflection @xmath72 .",
    "in addition the block also contains nonlinear elements , like limiters on angle and rate , in order to capture limited pod steering speed and other constraints . that way the commands from the feedforward will never saturate the deflection capability . around @xmath95 of this range",
    "is reserved for the feedforward leaving the remaining @xmath96 for the feedback .",
    "this is usually sufficient for the feedback loop to counteract unmodeled plant uncertainties and disturbances .    the mass term from ( [ eq : equation1 ] ) is introduced via @xmath97    $ ] of the cascaded controller ( see fig .  [",
    "fig : cascaded_controller ] ) . from input value",
    "@xmath70 the feedforward value @xmath72 and @xmath82 are calculated by using a steering pod model consisting of a limiter and a ratelimiter .",
    "note the translation of rate to command and back via division and multiplication by @xmath85 .",
    "various delays in the whole loop are taken into account by a @xmath98 block before the computation of controller reference input @xmath82.,width=332 ]    $ ] of the cascaded controller ( see fig .  [",
    "fig : cascaded_controller ] ) .",
    "the controller mainly consists of a pi feedback on the yaw rate .",
    "note the division by @xmath85 , which is a function of the air path speed , thus introducing a nonlinearity into the feedback by transforming the rate command from the pi controller to the command portion @xmath73 which is routed to the steering pod.,width=332 ]    fig .",
    "[ fig : block_c_psidot ] provides the details of the feedback controller block : as the plant has a proportional character the feedback structure is of proportional / integrator ( pi controller ) type .",
    "the output of the pi controller is divided by @xmath85 thus taking the velocity dependence into account .",
    "a lowpass is added for noise rejection of the measurement .",
    "is compared to @xmath70 and @xmath82 .",
    "the lower plot compares feedforward @xmath72 and feedback @xmath73 controller output signals for a typical dynamical flight situation.,width=332 ]    by providing fig .",
    "[ fig : plot03 ] we illustrate how effective the inner loop actually works .",
    "we show how a couple of repeating flight patterns look at the inner loop level .",
    "the feedforward command @xmath72 moves between @xmath99 of the available deflection range as can be seen in the lower graph of the figure .",
    "the feedback command @xmath73 hardly needs to correct control errors due to unmodeled plant dynamics .",
    "actually this figure is just an alternative account to fig .",
    "[ fig : sysident2b ] in proving the good fit of the turn rate law .",
    "as seen from the outer loop the inner loop has dealt with the aerodynamically influenced part of the dynamics .",
    "it now remains for the outer loop controller to achieve a desired @xmath71 .",
    "the division into feedforward and feedback parts is kept . figs .",
    "[ fig : block_c_psi ] and [ fig : block_ff_psi ] provide further details .",
    "$ ] of the cascaded controller ( compare fig .  [",
    "fig : cascaded_controller ] ) . as the dynamics to be controlled is mainly an integrator , a proportional feedback has been chosen.,width=332 ]    $ ] details of cascaded controller ( see fig .  [",
    "fig : cascaded_controller ] ) . the steering pod model is included as combination of limiter and ratelimiter .",
    "note that even for step inputs on @xmath65 the algorithm computes feedforward @xmath79 and @xmath75 in a way which is consistent with the capability of the overall dynamics .",
    "this is achieved by using an inner feedback loop embedding the steering pod model .",
    "various delays in the whole loop are taken into account by a @xmath98 block controller reference input @xmath75.,width=332 ]    as the plant characteristic is of integrating nature a feedback law with proportional character @xmath67 $ ] , augmented by a lowpass , is sufficient . as before a limiter is also employed . the feedforward block @xmath66 $ ] ( see fig .  [",
    "fig : block_ff_psi ] ) has more elaborate features .",
    "note that the feedforward term features an internal feedback loop .",
    "the basic idea is to shape the commanded @xmath65 , even if it is a jump , in such a way that it corresponds to the actual response capabilities of the control pod and kite .",
    "we achieve this by employing an internal loop from @xmath65 to @xmath75 .",
    "note that the two limiters are crucial in shaping the final @xmath75 evolution .",
    "furthermore we have a nonlinear function inside the loop : @xmath100 .",
    "we will stop short in deriving the details of this special feature and refer to appendix [ sec : f_x ] .",
    "instead we will illustrate it with fig .",
    "[ fig : plot04 ] .",
    "the upper part shows how the input command @xmath65 is shaped into the command @xmath75 by the non - linear feature of the internal feedback loop .",
    "@xmath75 corresponds to an actually flyable @xmath75 pattern .",
    "@xmath101 shows the corresponding necessary rate pattern which is fed into the inner loop .     to a given rectangular @xmath65 .",
    "the curve @xmath75 is computed by the internal loop of the feedforward block @xmath66 $ ] using a model of the steering pod ( compare fig .",
    "[ fig : block_ff_psi]).,width=332 ]    as a conclusion we will summarize the basic design principles of our controller .",
    "the first feature is the separation of the dynamics of deflection to rate ( [ eq : drehratengesetz ] ) from the kinematic of rate to angle .",
    "this separation allows us to introduce non - linear elements ( mainly limiters ) at the appropriate places . this way we achieve a shaping of our commanded signals such that they correspond to the limitations of the complete chain from software command over control pod steering to kite movement .",
    "a second characteristical feature is the feedforward / feedback separation which allows us to decouple non - linear elements , as for example the mass term , from the feedback .",
    "the feedback loops can then be designed within the realm of linear control theory .",
    "only proportional or integral dynamics remain which can be handled in a classical way . due to the feedforward / feedback separation",
    "the selection of the closed loop bandwidth of the two loops is more concerned with achieving sufficient stability margin than with achieving performance in terms of fast response because this is already mastered by the feedforward .",
    "the next chapter will illustrate the generation of the @xmath65 command from the desired kite trajectory .",
    "although it could be perceived as just a further cascaded loop we treat it more like the guidance feature of classical aerospace applications .",
    "in this section we describe the dynamic flight mode which is used to generate traction force by flying dynamical patterns in order to obtain high air path speeds and forces .",
    "the algorithm utilizes the presented controller design by providing the input value @xmath65 .    in order to explain",
    "the main principles we would like to review the space station experiment of section [ sec : basic_system ] . in this model a constant value of @xmath102 or @xmath103 leads to a circular orbit clockwise or counterclockwise dependent on the sign of @xmath65 and the obtained force can be easily controlled by the value of @xmath104 . for the purpose of line force generation in our space station experiment",
    "this would finish our design effort  but in our application we are not able to fly circular orbits as the kite would crash onto the water surface .",
    "thus the solution is to turn around at certain points of the orbit and fly back and forth .",
    "the resulting trajectory of such a scheme is shown in fig .",
    "[ fig : pattern_geometry ] .    : @xmath105 and p@xmath106 : @xmath107 .",
    "the corresponding sequence is shown in fig .",
    "[ fig : pattern_sequence ] .",
    ", width=332 ]    the underlying algorithm is similar to those of the bang - bang experiments in section [ sec : turn_rate_law ] .",
    "a constant value @xmath102 is commanded until point p@xmath108 is reached ( at @xmath109 ) triggering the command @xmath110 until point p@xmath106 , then triggering the former value @xmath102 and so on .",
    "the timing of @xmath65 is depicted in fig .",
    "[ fig : pattern_sequence ] .",
    ": @xmath105 and p@xmath106 : @xmath107 are met respectively .",
    "the states directly result in a square signal to @xmath65 which is shaped by the feedforward block @xmath66 $ ] into @xmath75 ( compare section [ sec : controller_design_outer_loop ] ) .",
    "the respective pattern geometry is displayed in fig .",
    "[ fig : pattern_geometry].,width=332 ]    it is acceptable to apply a square signal to @xmath65 as the controller design contains an internal model which leads to a calculation of @xmath75 .",
    "this calculation utilizes a given curve deflection and the given design speed of the control pod ( see section [ sec : controller_design_outer_loop ] ) in order to perform the curve flight .",
    "the determination of the optimal curve deflection or optimal turning radius is involved as it depends on several geometric as well as aerodynamic system characteristics @xcite , @xcite and goes beyond the scope of this paper . for our system ,",
    "the main effect during curve flight is the decrease of air path speed due to the increase of @xmath4 .",
    "thus curve deflections are typically choosen in the range of 4070% of the total deflection range in order to minimize the curve duration and optimize the performance figure .    as illustrated in fig .",
    "[ fig : pattern_geometry ] there are three parameters defining the trajectory .",
    "the parameter @xmath111 determines the pattern size ; the parameters @xmath112 and @xmath27 determine the center point of the pattern .",
    "the value @xmath112 can be freely chosen within a certain range by the operator or an overlying algorithm in order to optimize the force component pointing in forward direction of the vessel .",
    "the value @xmath27 can not be tuned directly but indirectly by the @xmath113 value which is the tuning knob for the air path speed @xmath25 and hence force .",
    "nevertheless ( [ eq : v_a_theta ] ) does not hold in its simple way and could by improved by using @xmath114 instead of @xmath113 in order to estimate @xmath4 or resulting forces .",
    "as it is cumbersome to predict the exact wind situation at flight altitude in any case we make use of another approach for force control : we use an outer loop force controller evaluating the height of the force peaks while flying the figure - eight pattern which provides a feedback value for @xmath113 .",
    "details of this control law as well as of the supervision mechanisms during operative flight and start procedure of the pattern are important and interesting issues each but would exceed the purpose of this paper . in fig .",
    "[ fig : plot06 ] we present the trajectory of some eights and show the corresponding time series of the angles @xmath87 , @xmath65 , @xmath75 as well as of the air path and wind speeds .",
    "kite at an operational towing line length of 300 m .",
    "the trajectory for a typical figure - eight pattern is shown in the upper plot ( compare fig .  [",
    "fig : pattern_geometry ] ) .",
    "the two plots in the middle show corresponding curves for @xmath87 , @xmath75 and @xmath47 ( see fig .",
    "[ fig : pattern_sequence ] ) .",
    "the lower data plot shows the measured wind speeds .",
    "note that the dynamical flight mode leads to an air path speed of factor 34 higher than the estimated wind speed at flight altitude which is significantly higher than the wind speed measured aboard the ship.,width=332 ]    for sake of completeness we would like to explain the control strategies for the neutral flight mode introduced in section [ sec : basic_system ] .",
    "the determining equation is ( [ eq : dot_phi ] ) and the issue is to control @xmath3 to the given set value @xmath112 .",
    "we mainly use a linear controller based on a classical pid controller in order to compute @xmath65 from @xmath115 .",
    "dealing with a complex system in a demanding environment we could present several further topics on our control system which are closely related to the discussed contents .",
    "these topics have been omitted in the previous sections because we wanted a clear outline of the major features of the algorithm .",
    "they are now briefly summarized to give a more comprehensive understanding .",
    "first of all we have completely excluded the ship from our treatment by arguing that consideration of the apparent wind , which is the wind speed with respect to the ship s motional frame of reference , is an appropriate approximation for the basic design of the control system .",
    "furthermore the choice of pattern parameters @xcite , @xcite the optimization of the towing force with respect to the ship forward direction @xcite , @xcite as well as consideration of influences on dynamics due to waves are improvements to an operational kite autopilot but have not been presented here .",
    "it is worth mentioning that both , the thorough choice of the sensor set up and preprocessing algorithms , contribute a significant and crucial part to the presented controller performance and robustness .",
    "an important task is the estimation of the angle @xmath8 which involves not only sophisticated inertial navigation algorithms but also takes into account estimates for wind speed and wind direction at flight altitude as these may vary on the timescale of minutes .",
    "a further discussion of these mainly technical and cumbersome topics will be subject to future publications .    in our discussions",
    "we have made use of constant and long line lengths which is the common operating point of our system .",
    "winching of the towing line is done while launching and recovering our system and goes along with extra dynamic effects which are considered as additional correction terms to the presented equations . especially for control during launch and recovery at shorter line lengths we use the idea of receding horizon feedback from the model predictive control ( mpc ) approaches @xcite in order to provide @xmath65 .",
    "however our optimization computation is done analytically ( thanks to the special and simple structure of the design model , see [ sec : system_dynamics ] ) as opposed to having a numerical solver .",
    "wind gusts may also go along with downwinds leading to a free flight situation of the usually constrained system .",
    "this situation involves a completely different dynamics . while ( [ eq : drehratengesetz ] ) still holds in large part the kinematic changes significantly .",
    "it is a crucial advantage of the particular choice of coordinate system ( see section [ sec : basic_system ] ) that controller input values behave in a favorable way during these exceptional occurrences .",
    "we would like to note that also disturbances due to excitations of internal modes of the real system are effectively suppressed although these modes are not considered explicitly in the design model.    a more elaborate challenge is the avoidance of and response to stall situations .",
    "systematic experimental tests on this are hardly feasible .",
    "nevertheless it is an important issue and subject to current research and development activities .",
    "in this paper we have presented a simple dynamical model for the dynamics of constrained kites .",
    "a key point has been that for controller design the complete aerodynamics can be reduced to a law involving only one or two quantities ( see ( [ eq : drehratengesetz ] ) and ( [ eq : drehratengesetz_with_mass_term ] ) , respectively ) .",
    "we have discussed flight data to justify that this reduction describes reality to a surprisingly high degree . utilizing this",
    "we have developed a cascaded controller , based on the model following principle approach , and proved the effectiveness with flight test data .",
    "finally the main principles of flight pattern generation have been given .",
    "we would like to finish this paper by emphasizing that the presented results hold for the skysails towing kite system but the underlying equations are commonly valid for the dynamics of constrained kites .",
    "thus a lot more applications of the presented controller are feasible especially in the fascinating upcoming field using kites in order to generate electricity and to further open up the green resource of wind power in higher altitudes and off - shore .",
    "the system vectors read ( see fig .  [ fig : coordinate_definition ] ) :    ccc _ roll & = & (    c- + -+ + --    ) + _ pitch & = & (    c + -- + -+    ) + _ yaw & = & (    c- + - +    ) .    as discussed in section [ sec : basic_system ] we neglect gravity . thus the problem becomes independent of @xmath3 and can be treated for  @xmath116 without loss of generality which implies the following basis vectors :    ccc _ roll & = & (    c- + - + -    ) [ eq : e_r ] + _ pitch & = & (    c + - +    ) + _ yaw & = & (    c- + 0 +    ) .[eq :",
    "e_y ]    the air flow @xmath117 of the flying system is @xmath118 the first term describes the external wind , the subsequent two terms the flow due to the kinematic speeds @xmath119 and @xmath120 with respect to the basis vectors @xmath5 and @xmath14 .",
    "considering the basic aerodynamics of an airfoil @xcite as a very simple model we claim validity of the following two conditions :    1 .",
    "the airflow vector lies in the @xmath5-@xmath7-plane which means @xmath121 2 .",
    "the airflow direction with respect to @xmath5 and @xmath7 is given by the glide ratio @xmath26 which is the ratio between lift and drag coefficients @xmath122 , @xmath123    insertion of the definitions ( [ eq : e_r])([eq : e_y ] ) into ( [ eq : flightcondition01 ] ) and ( [ eq : flightcondition02 ] ) yields the velocity components @xmath124 the airflow in roll direction @xmath25 , measured by the anemometer in the control pod , can be calculated using ( [ eq : e_r ] ) and ( [ eq : v_a ] ) by : @xmath125 geometric and kinematic considerations lead to the relation @xmath126 using ( [ eq : result_v_p ] ) , ( [ eq : result_v_r ] ) and ( [ eq : v_g ] ) we get for the dynamics of @xmath4 the following differential equation : @xmath127 similarly we obtain for @xmath3 the equation @xmath128 and using ( [ eq : result_v_p ] ) , ( [ eq : result_v_r ] ) and ( [ eq : v_g ] ) the equation of motion @xmath129 for constant values of @xmath8 , one obtains the steady - state solution of ( [ eq : vartheta_dot ] ) as @xmath130",
    "in this appendix we summarize the equations of motion ( [ eq : drehratengesetz ] ) , ( [ eq : vartheta_dot ] ) and ( [ eq : varphi_dot ] ) for our model @xmath131 following our model we find that @xmath25 is a function of the ambient wind speed @xmath29 and @xmath4 ( [ eq : v_g ] ) and has to be considered as part of the equations of motions : @xmath132 before inserting this relation into ( [ eq : eqm11])([eq : eqm13 ] ) , we would like to emphasize that @xmath25 can be measured directly as a single sensor input instead of using ( [ eq : v_g2 ] ) . using @xmath29 and @xmath4 to determine @xmath25 would introduce avoidable inaccuracies into our control loop as in addition to errors in the aerodynamical model and @xmath26 the wind speed at flight altitude , which should by used for @xmath29 , is typically ( but not necessarily ) higher than the wind speed measured aboard the vessel ( compare fig .  [",
    "fig : plot06 ] ) . computing",
    "an estimate for @xmath29 at flight altitude involves @xmath25 and thus would not provide any benefit compared to using @xmath25 directly . in other words ( [ eq : eqm11 ] ) represents the physics of the kite reacting to a deflection @xmath33 with a turn rate @xmath78 scaled by the airflow speed @xmath25 independent of e.g.  the position represented by @xmath4 .",
    "in contrast to an operational control setup a numerical simulation has to compute @xmath25 based on @xmath29 .",
    "the set of equations can be combined by inserting ( [ eq : v_g2 ] ) into ( [ eq : eqm11])([eq : eqm13 ] ) and we obtain : @xmath133",
    "in this appendix the origin of the nonlinear function @xmath134 used by the feedforward block in section [ sec : controller_design_outer_loop ] is briefly outlined .",
    "we thereby emphasize that the following is not crucial for an understanding of the main concepts but gives further insight into a model - based detail of the feedforward generation .",
    "assume the process of starting with an initial deflection of @xmath135 and steering to @xmath136 at a constant velocity @xmath91 .",
    "the corresponding change in @xmath8 which we denote by @xmath137 can be computed using ( [ eq : drehratengesetz ] ) as @xmath138 for @xmath139 . resolving with respect to @xmath140 yields : @xmath141 this solution already includes the bookkeeping of signs assuming that @xmath91 is a positive parameter .",
    "the interpretation of the result is as follows : for a given deviation @xmath137 of the internal state to the set point @xmath65 ( compare fig .",
    "[ fig : block_ff_psi ] ) a @xmath142 can be calculated using ( [ eq : psi_to_delta ] ) .",
    "this @xmath142 describes the maximum deflection allowed for the internal model so that no overshoots occurs when the internal feedback loop reduces the error @xmath137 under the assumption of constant @xmath65 and @xmath85 .",
    "thus @xmath142 is a suitable input for the model shaping elements limiter and ratelimiter in fig .",
    "[ fig : block_ff_psi ] . finally @xmath143 can be deduced from comparing ( [ eq : psi_to_delta ] ) to fig .",
    "[ fig : block_ff_psi ] .",
    "we acknowledge support by the whole skysails team , especially contributions from the kite , software , hardware and mechanical development teams . their knowledge and excellent work on the system as well as the unfatiguing support by the test engineers and nautical crews during numerous sea trials are crucial contributions to the findings presented here .",
    "p.  williams , b.  lansdorp , r.  ruiterkamp , and w.  ockels , `` modeling , simulation , and testing of surf kites for power generation , '' _ proc .",
    "modelling and simulation technologies conf .",
    "aiaa 2008 - 6693 _ , aug .",
    "2008 .",
    "a.  ilzhfer , b.  houska , and m.  diehl , `` nonlinear mpc of kites under varying wind conditions for a new class of large scale wind power generators , '' _ int .",
    "j. robust nonlinear control _ , vol .",
    "17 , no .",
    "15901599 , nov .",
    "2007 .",
    "b.  lansdorp , r.  ruiterkamp , and w.  ockels , `` towards flight testing of remotely controlled surfkites for wind energy generation , '' _ proc .",
    "modelling and simulation technologies conf .",
    "aiaa-2007 - 6643 _ , aug . 2007 .",
    "michael erhard received the diploma degree from the university of freiburg , freiburg , germany , and the ph.d .",
    "degree , which involved research on multi - component bose  einstein condensates , from the university of hamburg , hamburg , germany , in 2000 and 2004 , respectively , both in physics .",
    "his research interests included experiments in quantum optics , laser physics , and theoretical quantum optics .",
    "he joined skysails gmbh , hamburg , germany , in 2004 , as a development engineer , where he was deeply involved in several hardware and software designs on the sensor data acquisition system and the kite steering units .",
    "he is currently in charge of the flight control system ( autopilot ) .",
    "his main responsibility is the development of sensor data processing and control algorithms for the flying system and evaluation of those algorithms in flight tests .",
    "he joined anschtz gmbh , kiel , where he was involved in the development of autopilots and ground track controllers for ships . in 1988 , he joined astrium space transportation , bremen , germany , where he was involved in development of the guidance and control algorithms for various vehicles ranging from upper stages of launchers to re - entry bodies .",
    "he is currently holds a senior expert gnc . from 1998 to 2002 , he was with nasa , johnson space center , houston , tx , where he was involved in the development of guidance and control software for the parafoil phase of the x38 crew rescue vehicle . in 2004 , he was responsible for the attitude control of the winged body autonomous landing demonstrator phoenix .",
    "he has been a consultant with skysails gmbh , hamburg , germany since 2004 .",
    "his contributions to the findings reported in this paper are independent from his affiliation to astrium ."
  ],
  "abstract_text": [
    "<S> in this paper we present the basic features of the flight control of the skysails towing kite system . </S>",
    "<S> after introduction of coordinate definitions and basic system dynamics we introduce a novel model used for controller design and justify its main dynamics with results from system identification based on numerous sea trials . </S>",
    "<S> we then present the controller design which we successfully use for operational flights for several years . </S>",
    "<S> finally we explain the generation of dynamical flight patterns .    </S>",
    "<S> aerospace control , attitude control , feedforward systems , wind energy </S>"
  ]
}