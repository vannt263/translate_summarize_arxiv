{
  "article_text": [
    "this paper describes some problems which may arise in using _",
    "newman s modularity function _ @xmath0 for _ community detection_. modularity is one of the most popular quality functions in the community detection literature . it is not only used to evaluate the community structure of a graph , but also to perform community detection by _",
    "modularity maximization_. however , it is well known that modularity maximization can , in certain cases , yield the wrong  community decomposition .",
    "previous work on this aspect has focused on the _ modularity resolution limit _ , which causes _",
    "_ under__estimation of the true number of communities . in this paper",
    "we focus on the opposite effect , in other words we show that , in certain cases , modularity maximization can _ _ over__estimate the number of communities .    in section [ sec02 ] we present our nomenclature and notation ; let us stress from the beginning that we will use _ cluster _  as a synonym of community  and _ clustering _  to denote both a partition of the nodes of a graph and the activity of creating such a partition .",
    "in section [ sec03 ] we present an interpretation of @xmath0 which , as far as we know , has not been discussed previously .",
    "it is well known that the modularity of a graph @xmath1 can be written in the form @xmath0",
    "@xmath11 @xmath12 , where @xmath3 is the _ intracluster edge fraction _ of @xmath1 and @xmath4 is the expected intracluster edge fraction of the _ null model _ , i.e. , a graph @xmath13 which has the same expected degree distribution as @xmath1 but randomly distributed edges .",
    "as explained in section [ sec0302 ] , maximization of @xmath3 favors clusterings with a small number of clusters and few edges across clusters . on the other hand ,",
    "as explained in section [ sec0303 ] , minimization of @xmath4 favors clusterings with a large number of clusters and each cluster having approximately equal degree ( we call these balanced clusterings ) . _",
    "cluster number selection _ is performed by balancing these two opposite effects in the maximization of @xmath0 .     in section [ sec0401 ]",
    "we exploit the behavior of @xmath4 and construct examples in which modularity maximization yields arbitrarily inaccurate clusterings .",
    "more specifically , we construct a class of graphs @xmath14 ( where @xmath15 , @xmath16 , @xmath17 are parameters of the graph )  with the following properties .    1 .",
    "each graph @xmath18 has a natural  clustering @xmath19 ( which , however , does not maximize modularity ) .",
    "2 .   we can find graphs @xmath18 and clusterings @xmath20 such that , by appropriate selection of @xmath21 and @xmath22 , the following hold : 1 .",
    "the pair @xmath23 has higher modularity than the pair @xmath24 ; 2 .",
    "the modularity of @xmath25 can become ( by appropriate selection of @xmath22 ) arbitrarily close to one ; 3 .",
    "the _ jaccard similarity _ between clusterings @xmath19 and @xmath20 can become ( by appropriate selection of @xmath22 ) arbitrarily close to zero ( hence @xmath19 and @xmath20 are arbitrarily different in the jaccard sense ) .",
    "we prove similar results for another class of graphs in section [ sec0402 ] .    in section [ sec05 ]",
    "we discuss the implications of our results and ( previously published )  related work by other authors .",
    "it is often claimed that  community detection by modularity maximization should be preferred over other community detection methods because it does not require knowing the number of clusters in advance .",
    "however , in light of our results ( as well as the previously known modularity resolution limit ) this claim appears ill - founded .",
    "we conclude the paper with a discussion of alternative cluster number selection methods .",
    "1 .   a _ graph _",
    "@xmath1 is a pair @xmath26 , where @xmath27 is the _ node set _",
    "( we will always assume @xmath28 ; hence the number of nodes is @xmath29 )  and @xmath30 is the _ edge set _ ( and @xmath31 is the number of edges ) . hence we will deal with finite graphs without multiple edges and loops . 2 .",
    "the _ adjacency matrix _ of @xmath1 is an @xmath32 matrix @xmath33 with @xmath34 iff @xmath35 and 0 otherwise .",
    "there is a one - to - one correspondence between a graph @xmath1 and its adjacency matrix @xmath33 .",
    "a _ clustering _ of @xmath36 is a partition @xmath37 of @xmath27 .",
    "the _ clusters _ are the node sets @xmath38 , which satisfy @xmath39 and @xmath40 .",
    "the _ size _ of the clustering is @xmath15 , the number of clusters .",
    "given a graph @xmath36 , we denote by @xmath41 the set of all clusterings of @xmath27 and by @xmath42 the set of clusterings of size @xmath15 . sometimes we call @xmath43 a _ community _ ; this is simply a synonym of cluster .",
    "4 .   given a clustering @xmath37 of the graph @xmath36",
    ", we define the following edge sets ( for @xmath44):@xmath45 i.e. , @xmath46 is the set of edges with both ends being nodes of @xmath43 .",
    "the edges contained in @xmath47 are the _ intracluster _",
    "edges ; the remaining edges , i.e. , the ones contained in @xmath48 @xmath47 are the _ extracluster",
    "the _ degree function _",
    "@xmath49 is defined as follows : for any @xmath50 , @xmath51 is the number of edges incident on @xmath52 ; we also define , for any @xmath53 , @xmath54 , i.e. , the sum of degrees of the nodes contained in @xmath55 . 6 .   the _ jaccard similarity index _",
    "is defined as follows .",
    "given any two clusterings @xmath56 * * , * * @xmath57 define@xmath58 then the jaccard similarity index @xmath59 is defined by@xmath60 @xmath59 takes values in @xmath61   $ ] ; values close to 1 show that @xmath62 are very similar ; values close to 0 that they are very different .",
    "given a graph @xmath36 with adjacency matrix @xmath33 , we denote the modularity of a clustering @xmath63 by @xmath64 and , following @xcite , we define it by @xmath65 where @xmath66 equals one if @xmath67 and @xmath68 belong to the same cluster and zero otherwise .",
    "our notation emphasizes that @xmath69 is a function of both the graph and the clustering .",
    "the motivation for introducing modularity can be seen by the following interpretation : @xmath64 _ measures the fraction of intracluster edges in _",
    "@xmath1 _ minus the expected value of the same quantity in a graph _ @xmath13 _ _ with the same clusters but random connections between the nodes _ _ ] .",
    "@xmath13 is often called the _ null model_. note that the intracluster edge fraction of both @xmath1 and @xmath13 is computed with respect to @xmath63 .",
    "a large value of @xmath64 indicates that , with respect to @xmath63 , @xmath1 is quite different from the null model ; this is taken as evidence of @xmath1 having _ strong community structure _  which is well captured  by @xmath63 .",
    "hence modularity is a _ clustering quality function _",
    "( cqf ) in the sense of @xcite .",
    "other interpretations of modularity are possible ; we will propose one a little later . but first let us note that , in addition to characterizing a single @xmath70 pair , modularity can be used to _ compare _ clusterings : _ by definition _",
    ", @xmath63 is a better clustering of @xmath1 than @xmath71 iff @xmath72**. * * taking this one step further , @xmath73 is the _",
    "best _ clustering of @xmath1 .",
    "this has two implications : first , a large value of @xmath74 indicates that @xmath1 has strong community structure and second , modularity maximization can be used to obtain graph clusterings , i.e. , perform community detection ; this has been the basis of a large number of community detection algorithms .",
    "while modularity maximization is a very popular method for community detection , it also has shortcomings which have been widely reported in the literature .",
    "for example , the _ modularity resolution limit _ has attracted a lot of attention @xcite ; we will discuss it in section [ sec0303 ] . but first let us note what appears to be a more basic limitation of modularity . as already mentioned , a large @xmath64 value indicates strong community structure and good clustering ; but what _ is _ a large @xmath64 value ?",
    "while it is known @xcite that @xmath75 for every pair @xmath76,@xmath77 examples appear in the community detection literature @xcite which have strong ( intuitively perceived )  community structure and yet their maximum modularity is closer to zero than to one",
    ". graphs of high modularity and weak community structure have also been reported @xcite .",
    "a frequently proposed explanation for the shortcomings of modularity is that the use of the null model is not well justified @xcite . in section [ sec0303 ]",
    "we will consider an alternative , complementary explanation .",
    "but first we will examine another cqf .",
    "a popular characterization of a graph community is that _ there must be more edges ` inside ' the community than edges linking vertices of the community with the rest of the graph _",
    "* section iii - b.1 ) .",
    "variations of this principle have been stated by several authors[is ] a graph @xmath78 that is a disjoint union of complete subgraphs . ] .    a _ prima facie _ reasonable way to quantify",
    "the principle is through the _ intracluster edge fraction _ , denoted by @xmath79 and defined by@xmath80 for every @xmath1 and @xmath63 , @xmath81   $ ] .",
    "a high ( i.e. , close to 1 )  value of @xmath82 indicates that the pair @xmath70 has many intracluster and few extracluster edges .",
    "unfortunately , a high @xmath79 value does _ not _ guarantee either that @xmath1 has strong community structure or that @xmath63 is a good clustering of @xmath1 .",
    "indeed we can always achieve the maximum value @xmath83 by taking @xmath84 ( i.e. , the unique clustering of size one )  but this tells us nothing about the true  community structure of @xmath1 .",
    "this observation can be generalized .",
    "first define the following function@xmath85 in words , for a given graph @xmath1 , @xmath86 is the maximum intracluster edge fraction _ achieved by clusterings of size _ @xmath15 .",
    "now we can prove the following .",
    "[ prp0301]for any graph @xmath36 , @xmath87 is a nonincreasing function of @xmath15 .",
    "there exists a single clustering of size one , namely  @xmath88 .",
    "denote the set of intracluster edges by @xmath89 ; obviously @xmath90 ( i.e. , _ all _ edges are intracluster ) . hence @xmath91",
    "let @xmath92 be the optimal clustering of size @xmath15 ; the intracluster edge sets are @xmath93 , ... , @xmath94 .",
    "create a clustering @xmath71 of size @xmath95 by merging @xmath96 and @xmath97 .",
    "in other words @xmath98 under @xmath71 the intracluster edges are @xmath99 we have @xmath100  and @xmath101 .",
    "hence @xmath102 but @xmath103 it follows that @xmath104and the proof is complete .",
    "hence , for any @xmath1 , @xmath79 is maximized at @xmath105 and this gives us no information about the actual community structure of @xmath1 .",
    "in other words , theorem [ prp0301 ] implies that @xmath3 maximization can not determine the optimal number of clusters . on the other hand ,",
    "if @xmath15 is given in advance ( as a parameter ) then @xmath106 is a reasonable candidate _ for the best clustering of size _",
    "this has sometimes been phrased as a criticism of community detection by @xmath3 maximization .",
    "for instance , in @xcite is stated that _",
    "algorithms for graph partitioning are not good for community detection , because it is necessary to provide as input the number of groups_. however , this criticism is valid only to the extent that other algorithms exist which _ can _ obtain the true number of groups ( clusters ) .",
    "for example , an alleged advantage of modularity is that its maximization yields the correct number of clusters ; let us now discuss this claim .",
    "the claim that modularity maximization can determine the true number of clusters has been put in doubt by the discovery of the modularity _",
    "resolution limit_. as explained in @xcite and several other papers , there exist graphs @xmath1 for which the clustering obtained by maximizing modularity has fewer clusters than the intuitively correct  clustering of @xmath1 . in other words ,",
    "modularity maximization can _",
    "_ under__estimate the number of clusters .",
    "we will now argue that modularity maximization can also _ _ over__estimate the number of clusters .",
    "our argument is intuitive , but it will form the basis of some precise results presented in section [ sec04 ] .",
    "modularity can be computed by the formula ( which is known to be equivalent to ( [ eq03001 ] ) ): @xmath107 defining @xmath108 we can rewrite ( [ eq03002 ] )  as @xmath109 hence newman s modularity is the difference of @xmath79 and the auxiliary function @xmath110 .",
    "as already mentioned , the introduction of @xmath110 is usually motivated by appeal to the null model @xcite ; we will now present an alternative , complementary view .",
    "suppose momentarily that @xmath15 is given and we want to _ minimize _ @xmath110 with respect to @xmath111 .",
    "for simplicity of notation , define @xmath112 ; then @xmath113 and we also have @xmath114 hence we want to solve the following problem:@xmath115 of course there are additional constraints on the @xmath116 s :  each of them must be obtained by summing the degrees of @xmath43 , which is a set of nodes of the given graph @xmath1 . however , assume for the time being that the @xmath116 s are continuously valued and must only satisfy the constraints of ( [ eq03007 ] ) ( these assumptions will be removed a little later ) . under these assumptions ,",
    "the solution to ( [ eq03007 ] ) is @xmath117 for all @xmath118 ; the minimum thus achieved is @xmath119 .",
    "next consider the problem:@xmath120 we can solve ( [ eq03008 ] ) by first solving ( [ eq03007 ] ) separately for each @xmath121 and then looking for the overall minimum ; we see that this is @xmath122 and is achieved at @xmath123 and @xmath124 for all @xmath118 .",
    "going back to the minimization of @xmath110 we note that , in general , the overall minimum @xmath125 will only be achieved under very special circumstances .",
    "namely , if all nodes of @xmath126 have equal degree , then @xmath127 where @xmath128 and @xmath129 for @xmath130 .",
    "but even when the nodes of @xmath1 do not have equal degrees , it seems intuitively obvious that small values of @xmath110 are achieved by clusterings @xmath63 which have many clusters ( large @xmath15 ) and distribute nodes between clusters so that @xmath112 is approximately the same for all @xmath131 . in  section [ sec04 ]",
    "we will see precise examples which justify this intuition .",
    "let us now apply the above observations to modularity maximization . since ( i)@xmath132 , ( ii)@xmath5 achieves its maximum at @xmath105 and ( iii)@xmath77we expect @xmath4 to achieve its minimum at or near @xmath123 , we conclude that the following factors will influence the outcome of modularity maximization :  the @xmath3 term pulls @xmath15 towards small values and the @xmath4 towards large ones ; in addition the @xmath3 term favors clusterings which correspond to the natural  community structure of @xmath1 ( i.e. , there exist few extracluster edges ) while the @xmath4 favors balanced  clusterings ( i.e. , each cluster has more or less the same degree ) .",
    "the final outcome depends on ( among other factors ) the relative magnitudes of @xmath3 and @xmath4 .",
    "these observations agree with previously published remarks , e.g. , that the existing modularity optimization method does not perform well in the presence of unbalanced community structures  @xcite and for modularity s null model graphs , the modularity maximum corresponds to an equipartition of the graph  @xcite .",
    "however , the above works ( and many other )  concentrate on examples in which modularity maximization underestimates the cluster number , while our analysis suggests an overestimation effect . since , to the best of our knowledge , overestimation examples do not appear in the literature , we will present some in section [ sec04 ] .    let us note , in concluding this section , that one method used to address the modularity resolution limit is to introduce a modified modularity function .",
    "this function is often written in the form@xmath133  where @xmath134 is a tuning parameter  ( see @xcite and also @xcite ) . with @xmath135 , @xmath136 , the original newman s modularity . if this underestimates ( resp .",
    "overestimates )  the true  number of clusters , formation of more ( resp .",
    "fewer )  clusters can be encouraged by increasing ( resp .",
    "decreasing)@xmath137 and hence the influence of the @xmath110 term on the maximization problem .",
    "however , it seems that no universally correct  value of @xmath134 exists ; in other words , the resolution limit can occur for any @xmath134 value @xcite .",
    "in this section we construct graphs admitting ( i )  a _ natural _  clustering and ( ii )  a sequence of _ arbitrarily bad _  clusterings which achieve higher modularity than the natural one .",
    "in fact , as we will see , the arbitrarily bad clusterings can achieve modularity arbitrarily close to one and they can be _ arbitrarily different _  from the natural clustering ( we will presently explain precisely what we mean by the terms natural ,  arbitrarily bad  and arbitrarily different ) .",
    "these results indicate that , at least in certain cases , modularity is not a good cqf .      to establish the abovementioned results , we will construct a family of graphs @xmath18 ( where @xmath21 are parameters )  such that the graph @xmath18 has an easily recognized natural  clustering @xmath19 ( for every @xmath21 ) .",
    "we define @xmath18 as follows .",
    "first , for any @xmath16 , @xmath17 we define the disconnected graph @xmath138 to be the union of a path of @xmath16 nodes and a path of @xmath17 nodes ; second , we let the disconnected graph @xmath18 be the union of @xmath15 copies of @xmath138 .",
    "the construction is illustrated in figure [ fig0401 ] .",
    "we claim that the _ natural _ clustering of @xmath18 is @xmath19 = \\{@xmath139 , @xmath140 , @xmath141 , @xmath142 } , where @xmath143 is the node set of the @xmath118-th connected component of @xmath1 ( with @xmath144 , see figure [ fig0401 ] ) . at the risk of belaboring the obvious",
    ", we note that , if @xmath145 and @xmath146 and @xmath147 , then there exists no path connecting @xmath148 and @xmath52 ; hence they should never be put in the same cluster .",
    "so the biggest possible clusters are the @xmath149 s . on the other hand",
    ", there is no justification for splitting some @xmath149 at any particular edge , since all edges have the same connectivity pattern , i.e. , the @xmath67-th edge connects nodes @xmath67 and @xmath150 .",
    "hence @xmath19 is the intuitively best  ( i.e. , the natural ) clustering of @xmath18 .",
    "[ prp0401]for every @xmath151 with @xmath152and @xmath153 we have@xmath154    we fix @xmath21 and , for brevity , we write @xmath1 for @xmath18 and @xmath63 for @xmath19 .",
    "we have@xmath155 under @xmath63 , @xmath1 has no extracluster edges hence we have@xmath156 we can separate @xmath63 into two subsets of clusters :  @xmath157 contains the the clusters with @xmath16 nodes and @xmath158 contains the the clusters with @xmath17 nodes .",
    "each @xmath159 has @xmath160 inner nodes  of degree 2 and two border nodes  of degree 1 ; similarly , each @xmath161 has @xmath162 inner nodes and @xmath163 border nodes .",
    "the total number of edges is @xmath165 also , @xmath166 combining ( [ eq04003 ] ) and ( [ eq04004 ] )  we get ( [ eq04002 ] ) .",
    "let us now introduce the bad clusterings .",
    "for every triple @xmath167 , we define a _ sequence _ @xmath168 of clusterings of @xmath18 . for a fixed @xmath22 ,",
    "let @xmath169 ; writing for brevity @xmath170 in place of @xmath20 , we let @xmath171 consist of the following @xmath172 clusters:@xmath173 if @xmath174 then @xmath175 .",
    "in other words , @xmath170 contains @xmath22 clusters each containing the same number of nodes ( namely @xmath176 ) and perhaps an additional cluster ( with fewer than @xmath177 nodes ) .",
    "obviously @xmath170 is a well balanced  clustering .",
    "[ prp0402]for every @xmath178 with @xmath152we have@xmath179    we write @xmath1 for @xmath18 and @xmath170 for @xmath20 .",
    "we have@xmath180 consider first @xmath181 . a little thought shows that @xmath170 has at most @xmath172 clusters and @xmath22 extracluster edges .",
    "hence@xmath182 consider now @xmath183 .",
    "each @xmath184 has no more than @xmath185 nodes and each node has degree at most 2 .",
    "hence@xmath186 ( since @xmath187 ) . combining ( [ eq04012 ] )  and",
    "( [ eq04013 ] )  we get ( [ eq04011 ] ) .    hence , to ensure @xmath188 ( i.e. , that the natural clustering @xmath189 has lower modularity than @xmath190 ) it suffices to select @xmath191 appropriately and use lemmas [ prp0401 ] and [ prp0402 ] .",
    "a sufficient condition , obtained from ( [ eq04002 ] ) and ( [ eq04011 ] ) , is @xmath192 inspecting ( [ eq04021 ] ) we see that one way to satisfy it is by fixing @xmath16 and letting @xmath22 be sufficiently larger  than @xmath15 and @xmath17 sufficiently larger  than @xmath22 .",
    "this is the main idea used in the proof of the following theorem .",
    "[ prp0403]for every @xmath193 and @xmath194 there exist @xmath195 ( depending on @xmath196 and @xmath15 ) such that@xmath197    take any @xmath15 and let @xmath198,@xmath199,@xmath200 ( with @xmath201 ) .",
    "to prove ( [ eq04022 ] ) note that@xmath202 define @xmath203 ; then we have @xmath204 and @xmath205 we can simplify the final @xmath206 expression of ( [ eq04025a ] ) and write it as the following function@xmath207 now , @xmath208 has a removable singularity at @xmath209 , but for every other @xmath210 it is identical to @xmath211 .",
    "we can expand @xmath211 in a taylor series around @xmath209 which will also hold for @xmath206 .",
    "hence around @xmath209 we have @xmath212 where @xmath213 and , from the taylor series remainder theorem ,  there exists a constant @xmath33 such that , for @xmath214 close to zero , we have @xmath215 then , for large finite @xmath216 ( and , in particular , for @xmath217 ) we have @xmath218 similarly ( with @xmath203 )  we have @xmath219 again , we can rewrite the final @xmath220 expression of ( [ eq04025b ] ) as @xmath221 and @xmath222 has a removable singularity at @xmath209 , but for every other @xmath210 it is identical to @xmath223 .",
    "hence we can expand @xmath223 in a taylor series around @xmath209 which will also hold for @xmath224 .",
    "hence around @xmath209 we have@xmath225 where @xmath226 and there exists a constant @xmath227 such that , for @xmath214 close to zero , we have @xmath228 this in turn implies that @xmath229 then , for large @xmath216 ( and , in particular , for @xmath230 ) we have @xmath231 for any @xmath232 , choose any @xmath233 ; then we have @xmath234 which , combined with ( [ eq04025 ] ) and ( [ eq04026 ] ) , gives @xmath235 in short , we can satisfy ( [ eq04022 ] ) for every @xmath193 and every @xmath232 ,  by taking @xmath216 sufficiently large  and @xmath198,@xmath199,@xmath200 .",
    "we now turn to ( [ eq04023 ] ) .",
    "let @xmath236 ( resp .",
    "@xmath237 )  be the number of node pairs in the same cluster under @xmath20 ( resp . under @xmath19 ) .",
    "we obviously have @xmath238 and @xmath239 . hence@xmath240",
    "we first obtain an upper bound for @xmath236 .",
    "since each @xmath241 contains no more than @xmath242 nodes , the number of node pairs that can be formed in @xmath241 is no more than @xmath243 .",
    "also , @xmath244 so , for big @xmath17 , @xmath245 .",
    "there are at most @xmath172 clusters , so we have @xmath246 next we compute @xmath237 . in @xmath19 there",
    "exist @xmath15 clusters of @xmath198 nodes and each cluster has @xmath247 node pairs ; there also exist @xmath15 clusters of @xmath248nodes and each cluster has @xmath249 node pairs .",
    "we have @xmath250    and so we have @xmath251 hence , for every @xmath252 and @xmath216 sufficiently large , ( [ eq04023 ] )  is satisfied .",
    "we see from ( [ eq04022 ] ) that we can always find a clustering @xmath20 which achieves higher modularity than the natural clustering @xmath19 and , in fact , greater than @xmath253 , where @xmath196 can get arbitrarily small independently of @xmath15 . on the other hand , @xmath206 is no greater than @xmath254 ; for small @xmath15 values this can be appreciably less than one .",
    "in other words , we can choose @xmath15 so that @xmath18  does not have very high natural modularity  but its artificial modularity  ( the one achieved by the pair @xmath255 ) can be arbitrarily close to one .",
    "we see from ( [ eq04023 ] ) that , with respect to the jaccard similarity criterion , @xmath20 is very different from @xmath19 .",
    "we could have reached a similar conclusion in a simpler manner .",
    "recall that the number of clusters of @xmath20 is at least @xmath256 and we can choose @xmath216 arbitrarily large ; on the other hand , @xmath19 has @xmath257 clusters .",
    "intuitively , @xmath20 must be very different from @xmath19 , since the ratio of their cluster number is @xmath258 and @xmath216 can become arbitrarily large ( of course the jaccard similarity index captures this fact in a more precise manner ) .",
    "let @xmath259 .",
    "while it is conceivable that @xmath260 is more similar ( in the jaccard sense )  to @xmath19 than to some @xmath20 , this seems unlikely . in light of the remarks of section [ sec0303 ] , it is more likely that @xmath260 will have many more clusters than @xmath63 . in other words , it appears that , for the graphs @xmath18 , modularity maximization leads to an overestimation of the number of clusters , i.e. , we have a case of modularity _ over - resolution_.    the bounds utilized in lemmas [ prp0401]-[prp0402 ] and theorem [ prp0403 ] are quite conservative . in many cases the inequality @xmath261",
    "is attained even when the abovementioned bounds are not satisfied .",
    "this can be seen in table 1 , which has been compiled by taking fixed @xmath262 , @xmath198 and using several @xmath216 values ( recall that @xmath256 , @xmath263 ) .",
    "the first six entries of each column list the quantities used in the proof of theorem [ prp0403 ] and , for sufficiently large  @xmath216 , should form an increasing sequence , in accordance to the inequalities ( [ eq04021])-([eq04022 ] )  and ( [ eq04025])-([eq04026 ] ) .",
    "this is indeed the case for @xmath264 and @xmath265 ; on the other hand , for @xmath266 and @xmath267 one inequality is violated ( between the third and fourth row )  but ( [ eq04028 ] ) still holds .",
    "[ c]|l|l|l|l|l|l|row no . &",
    "& @xmath266 & @xmath267 & @xmath264 & @xmath265 + 1 & @xmath206 & 0.6928 & 0.6787 & 0.6735 & 0.6711 + 2 & @xmath268 & 0.6928 & 0.6787 & 0.6735 & 0.6711 + 3 & @xmath254 & 0.8333 & 0.8333 & 0.8333 & 0.8333 + 4 & @xmath269 & 0.6667 & 0.7778 & 0.8333 & 0.8667 + 5 & @xmath270 & 0.7378 & 0.8297 & 0.8735 & 0.8992 + 6 & @xmath220 & 0.8407 & 0.8915 & 0.9179 & 0.9340 + 7 & @xmath271 & 0.2196 & 0.1540 & 0.1190 & 0.0967 +    * table 1 . *",
    "several quantities appearing in the proof of theorem * * [ prp0403 ] . in each column and for rows 1 to 6 , for large enough @xmath216 , the value of each row must be no less than that of the previous one .    from rows 1 and 6 of table 1",
    "we see that @xmath206 is a decreasing and @xmath224 an increasing function of @xmath216 . from row 7",
    "we see that the the jaccard similarity is a decreasing function of @xmath216 .",
    "these observations verify straightforward conclusions which can be drawn from the proof of theorem [ prp0403 ] .",
    "it might be argued that the results of section [ sec0401 ] are only possible because we have used the disconnected graphs @xmath18 .",
    "this is not the case . in this section",
    "we will illustrate the same issues using the family of _ connected _ graphs @xmath272 illustrated in figure [ fig0402 ] .",
    "we start with connected @xmath273 graphs , each of which is a path of @xmath274 nodes , with extra edges added between the first @xmath16 ( resp .",
    "the second @xmath17 ) nodes at distance two of each other",
    ". then we construct the @xmath272 graphs by joining in series @xmath15 @xmath273 subgraphs .",
    "we will use the same clusterings @xmath275and clustering sequences @xmath276 as in section [ sec0401 ] . once again , for reasons similar to the ones discussed in section [ sec0401 ] , we claim that @xmath19 is the natural clustering of @xmath272 .",
    "namely , cluster boundaries should occur across edges incident on the most weakly connected nodes ; this shows that the @xmath143 clusters must be preserved ; any partition of @xmath143 into finer clusters can not be justified , since all of its edges have the same connectivity pattern .",
    "hence @xmath19 is the intuitively best  ( i.e. , the natural ) clustering of @xmath272 .    once again , we obtain ( in three steps ) a result similar to theorem [ prp0403 ] .",
    "first we need two lemmas .",
    "[ prp0404]for every @xmath151 with @xmath277we have@xmath278    we fix @xmath21 and , for brevity , we write @xmath279 for @xmath272 and @xmath63 for @xmath19 ; @xmath71 and @xmath280 have the same meaning as previously",
    ". in @xmath19 there exist @xmath281 extracluster edges , so we have @xmath282 for each @xmath159 ,  there are two border nodes on the left , two border nodes on the right and @xmath283 inner nodes .",
    "each of the inner nodes has degree 4 ; each of the border nodes has degree 3 , except for the first and last node of the graph , which have degree 2 .",
    "hence for each @xmath159 we have the bounds @xmath284 similarly , for each @xmath161 we have the bounds@xmath285 the total number of edges is @xmath286 and we have @xmath287 in addition we have@xmath288 combining ( [ eq04053 ] ) and ( [ eq04052 ] ) we get @xmath289 finally , combining ( [ eq04054 ] ) and ( [ eq04055 ] )  we get the required bound .",
    "[ prp0405]for every @xmath178 with @xmath277and @xmath153 we have@xmath290    extracluster edges in @xmath170 can only occur between successive clusters , but in this case too ( [ eq04062 ] ) holds . ]",
    "@xmath184 , @xmath291 ; between any such pair there exist at most three such edges ; hence @xmath170 can not have more than @xmath292 extracluster edges . consequently@xmath293",
    "each @xmath184 has at most @xmath185 nodes and each node has degree at most 4 .",
    "hence @xmath294 combining ( [ eq04062 ] )  and ( [ eq04063 ] )  we get the bound ( [ eq04061 ] ) .    to ensure @xmath295 it suffices to choose appropriate @xmath191 and use lemmas [ prp0404 ] and [ prp0405 ] .",
    "a sufficient condition , obtained from ( [ eq04051 ] ) and ( [ eq04061 ] ) , is @xmath296 now we can prove the following .",
    "[ prp0406]for every @xmath193 and @xmath194 there exist @xmath195 ( depending on @xmath297 )  such that @xmath298    take any @xmath15 . letting @xmath299,@xmath199,@xmath200 we have @xmath300 defining @xmath203 we have @xmath204 and @xmath301 similarly to the proof of theorem [ prp0403 ] ,",
    "there is a function @xmath302 which , for every @xmath303 ,  is equal to the right part of ( [ eq04073a ] )  and around @xmath304 has the taylor expansion @xmath305 where @xmath306 .",
    "furthermore , there exists a constant @xmath307 such that , for @xmath214 close to zero , we have@xmath308 then , for large @xmath216 ( and in particular for @xmath309 ) we have @xmath310 similarly , with @xmath311 , we have @xmath312 once again , there is a function @xmath313 which , for every @xmath303 ,  is equal to the right part of ( [ eq04073b ] )  and around @xmath304 has the taylor expansion @xmath314 where @xmath315 .",
    "and there exists a constant @xmath316 such that , for @xmath214 close to zero , we have@xmath317 then , for large @xmath216 ( an , in particular , for @xmath318 ) we have@xmath319 for any @xmath232 choose any @xmath320 ; then we have @xmath234 which , combined with ( [ eq04074 ] ) and ( [ eq04075 ] ) , yields@xmath235 in short , we can satisfy ( [ eq04072 ] ) for every @xmath193 and every @xmath232 ,  by taking @xmath216 sufficiently large  and @xmath299,@xmath199,@xmath200 .",
    "finally , ( [ eq04073 ] ) is exactly the same as ( [ eq04023 ] ) and has already been proved .",
    "similarly to section [ sec0401 ] , the bounds utilized in lemmas [ prp0404]-[prp0405 ] and theorem [ prp0406 ] are conservative and the inequality @xmath321 can be satisfied even when the bounds are violated .",
    "this can be seen in table 2 , which is analogous to table 1 of section [ sec0401 ] .",
    "we have used @xmath262 , @xmath299 and several @xmath216 values .",
    "the first six entries of each column list the quantities used in the proof of theorem [ prp0403 ] and , for sufficiently large  @xmath216 , should form an increasing sequence .",
    "this is the case for @xmath264 and @xmath265 ; for @xmath267 the sequence is not increasing but ( [ eq04078 ] ) holds .",
    "[ c]|l|l|l|l|l|row no . & & @xmath267 & @xmath264 & @xmath265 + 1 & @xmath206 & 0.6872 & 0.6787 & 0.6745 + 2 & @xmath322 & 0.7010 & 0.6866 & 0.6796 + 3 & @xmath254 & 0.8333 & 0.8333 & 0.8333 + 4 & @xmath269 & 0.7778 & 0.8333 & 0.8667 + 5 & @xmath323 & 0.7988 & 0.8513 & 0.8819 + 6 & @xmath220 & 0.8743 & 0.8986 & 0.9182 + 7 & @xmath271 & 0.1695 & 0.1183 & 0.0956 +    * table 2 . *",
    "several quantities appearing in the proof of theorem * * [ prp0406 ] . in each column and for rows 1 to 6 , for large enough @xmath216 , the value of each row must be no less than that of the previous one .    from rows 1 and 6 of table 2 we see that @xmath206 is decreasing with @xmath216 and @xmath220 is increasing ; from row 7 we see that the jaccard similarity is decreasing with @xmath216 .",
    "theorems [ prp0403 ] and [ prp0406 ] cast doubt on the efficacy of newman s modularity @xmath0 as an objective metric for choosing the number of communities  @xcite .",
    "in fact , the existence of such an objective metric can be doubted and the meaning of the terms best clustering , natural clustering , etc .",
    "are rather ambiguous , as noted by several researchers ( for a discussion see ( * ? ? ?",
    "* section iii ) ) .    consider for example the term good clustering .",
    "a good clustering @xmath63 of a graph @xmath1 should be objectively recognizable by a high value of @xmath324 , where @xmath325 is a good  cqf .",
    "however , a good cqf is one which assigns high scores to good clusterings . hence it appears that the definition of good clusterings  and good cqf  is a circular process .    while obtaining a good",
    "cqf  is a worthwhile target , the main focus of the current paper has been the use of @xmath0 towards estimation of the true number of communities .",
    "since we have argued that @xmath0 s performance is less than ideal , let us conclude by discussing alternative ways to perform community number selection .    let us start by stating that we consider community number selection  to be a special case of the general problem of cluster number selection , which has been exhaustively studied in the classic  clustering literature ( see for example the book @xcite ) . in this literature",
    ", cluster number selection has been recognized as a fundamental , and largely unsolved , problem in cluster analysis@xcite .",
    "many works in the the classic  clustering literature treat cluster number selection through a two - stage approach .",
    "first , a cqf is used to obtain the optimal clustering of size @xmath15 , for @xmath326 . then the optimal @xmath15 value ( and hence the overall optimal clustering )  is obtained using a _ cluster number selection criterion _  ( cnsc ) such as the akaike information criterion @xcite , the bayesian information criterion @xcite , minimum description length @xcite , the gap statistic @xcite , the knee criterion @xcite etc .",
    "details on cnsc can be found in @xcite .",
    "the two - stage approach has also been used in the community detection literature . in newman",
    "s seminal paper @xcite a dendrogram is obtained through a divisive hierarchical clustering process ( which uses _ betweenness _ , rather than @xmath0 ) and the dendrogram cutoff level ( and hence the number of communities )  is obtained by maximizaton of @xmath0 . in this case",
    "@xmath0 is used as cnsc rather than as a cqf .",
    "we find the two - stage approach to community detection promising and we believe it deserves further research .",
    "in particular , we expect that the two - stage approach will yield better results if a better cnsc  than @xmath0 is used .",
    "however the specification of good cnsc s  must overcome the same difficulties ( associated with circularity ) mentioned in the beginning of this section .",
    "we hope these difficulties can be alleviated by the use of an _ axiomatic _",
    "approach , which we will report in a future publication .",
    "u.  brandes , d.  delling , m.  gaertler , r.  grke , m.  hoefer , z.  nikoloski , and d.  wagner , _ on finding graph clusterings with maximum modularity _ , graph - theoretic concepts in computer science , springer , 2007 , pp .  121132 .",
    "kumpula , j.  saramki , k.  kaski , and j.  kertesz , _ limited resolution in complex network community detection with potts model approach _ , the european physical journal b - condensed matter and complex systems * 56 * ( 2007 ) , no .  1 , 4145 .",
    "s.  salvador and p.  chan , _ determining the number of clusters / segments in hierarchical clustering / segmentation algorithms _ , tools with artificial intelligence , 2004 .",
    "ictai 2004 .",
    "16th ieee international conference on , ieee , 2004 , pp .  576584 .",
    "r.  tibshirani , g.  walther , and t.  hastie , _ estimating the number of clusters in a data set via the gap statistic _ , journal of the royal statistical society : series b ( statistical methodology ) * 63 * ( 2001 ) , no .  2 , 411423 ."
  ],
  "abstract_text": [
    "<S> in this paper we discuss some problematic aspects of newman s modularity function @xmath0 . given a graph @xmath1 , the modularity of @xmath1 can be written as @xmath2 , where @xmath3 is the _ intracluster edge fraction _ of @xmath1 and @xmath4 is the expected intracluster edge fraction of the _ null model _ , </S>",
    "<S> i.e. , a randomly connected graph with same expected degree distribution as @xmath1 . </S>",
    "<S> it follows that the maximization of @xmath0 must accomodate two factors pulling in opposite directions:@xmath5 favors a small number of clusters and @xmath4 favors many balanced ( i.e. , with approximately equal degrees ) clusters . in certain cases </S>",
    "<S> the @xmath4 term can cause _ </S>",
    "<S> _ over__estimation of the true cluster number ; this is the opposite of the well - known _ _ </S>",
    "<S> under__estimation effect caused by the _ resolution limit _  of modularity . </S>",
    "<S> we illustrate the overestimation effect by constructing families of graphs with a natural  community structure which , however , does not maximize modularity . </S>",
    "<S> in fact , we prove that we can always find a graph @xmath1 with a natural clustering  @xmath6 of @xmath1 and another , balanced clustering @xmath7 of @xmath1 such that ( i )  the pair @xmath8 has higher modularity than @xmath9 and ( ii)@xmath10 and @xmath7 are arbitrarily different . </S>"
  ]
}