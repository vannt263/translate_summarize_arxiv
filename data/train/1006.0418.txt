{
  "article_text": [
    "large complex networks have different levels of organization . on the microscopic level networks",
    "are composed of pairwise interactions , but it is the macroscopic level that has received most attention in recent years .",
    "we now know that diverse networks exhibit similarities for example in degree distribution , average path length , and clustering coefficient . while the structure is interesting in its own , it also has a significant influence on the dynamic processes taking place on the network , such as spreading , diffusion , and synchronization @xcite .",
    "the intermediate mesoscopic scale has turned out be more elusive to describe .",
    "it is this scale where we can identify for example motifs @xcite and dense clusters of nodes commonly known as _",
    "communities_. although communities are relevant for understanding the structure of and the dynamics on networks , even their exact definition is still a controversial issue .",
    "thus it comes as no surprise that the art of _ community detection _",
    "has grown into a swarming field of diverse methods @xcite .",
    "many features of real - world networks add to the complexity of the task .",
    "real networks are often hierarchical and hence small communities may reside inside larger ones , communities may overlap if nodes participate in several communities , and even more complications arise if we take into account link weights that represent interaction intensity .    until recently , the performance of community detection methods has mainly been tested on small empirical networks with typically no more than 100 nodes , which allows the evaluation of quality by visual inspection .",
    "however , several networks of considerable interest are much larger , often with @xmath0 nodes or more : data on www , mobile phone call records , electronic footprints of instant messaging users , and networks of social web such as facebook etc .",
    "only few methods are efficient enough to handle such networks @xcite  to be successful , a community detection method must be computationally efficient in addition to being accurate .",
    "more systematic comparisons have been recently carried out using synthetic benchmark networks with built - in community structure @xcite .",
    "while benchmarks are useful in evaluating performance , even their authors acknowledge that they only represent the first step .",
    "no benchmark fully incorporates the spectrum of properties commonly observed in real - world networks .",
    "some recent benchmarks do allow heterogeneous distributions for degrees and community sizes , but many other properties are still missing , such as high clustering , existence of cliques @xcite , overlapping communities @xcite , assortativity @xcite , and the prevalence of motifs @xcite .",
    "this distorts the evaluation of algorithms that depend on ( or benefit from ) the existence of these features .",
    "for example , clique percolation has been successfully used on real - world networks @xcite but does not perform well on synthetic benchmarks  mainly due to its strict requirement for communities to consist of adjacent cliques @xcite .    in this paper",
    "we take three widely - applied methods , each based on a different underlying philosophy , and compare their performance on a large real - world social network constructed from mobile phone call records .",
    "unlike with benchmark networks , we do not know the `` correct '' community structure of the network . therefore",
    ", we introduce new measures that allow us to investigate the differences and similarities of the detected community structures .",
    "the paper is organized as follows .",
    "section [ sec : community_detection_methods ] describes the choice of community detection methods and section [ sec : data ] introduces the data set .",
    "section [ sec : results ] presents the results of our analysis where we first analyse the properties and statistics of individual community structures and then turn to a pairwise comparison to quantify the differences between communities .",
    "finally in section [ sec : conclusions ] we present conclusions .",
    "as we intend to study a large network , the first selection criterion is only practical : methods with running time @xmath1 or slower can not be included .",
    "we use three methods that not only fill this requirement but in addition have performed well in previous comparisons or in practice : the _ louvain method _ ( lv )",
    "@xcite , the _ infomap _ ( i m ) @xcite and the _ clique percolation _ ( cp ) @xcite .",
    "we consider an undirected network @xmath2 , where @xmath3 is the set of @xmath4 nodes and @xmath5 the set of @xmath6 edges .",
    "the _ degree _",
    "@xmath7 is the number of neighbors node @xmath8 has , @xmath9 . for mathematical purposes",
    "a _ community _",
    "@xmath10 is simply a set of nodes , @xmath11 , and we denote community size by @xmath12 .",
    "the communities detected by one method constitute a _ community structure _ @xmath13 .",
    "a _ partition _",
    "@xmath14 is a special community structure where each node belongs to exactly one community , i.e.  @xmath15 if @xmath16 and @xmath17 .",
    "all three methods can be extended to handle weighted networks where each edge has a numerical weight @xmath18 . in this paper",
    "we only consider positive weights ; @xmath19 is equivalent to @xmath20 .",
    "the weighted counterpart of degree is _ node strength _ : @xmath21 .",
    "the _ louvain _ method ( lv ) @xcite was the best of the modularity optimization methods tested in @xcite .",
    "modularity is the expected value of the difference of the number of edges inside communities in the actual network and in a random network with the same degree sequence @xcite : @xmath22 \\label{eq : q}\\ ] ] where @xmath23 is the number of edges inside community @xmath10 and @xmath24 its total degree . in the weighted version",
    "all quantities are replaced by their weighted counterparts : @xmath23 by the total sum of weights inside a community , @xmath25 by the sum of node strengths and @xmath6 by the sum of edge weights in the whole network .    because modularity optimization is an np - complete problem @xcite , lv uses a greedy heuristic to find a local optimum .",
    "each node is initially a separate community , i.e.  @xmath26 .",
    "neighboring communities are merged in random order so that modularity increases maximally at each step until a local maximum is reached .",
    "resulting communities are then shrunk into `` super - nodes '' and the optimization is repeated on the new `` renormalized '' network .",
    "the two steps  optimization and renormalization  are repeated recursively until no further improvement of modularity is possible .",
    "the local heuristic of lv seems to avoid some of the resolution issues of modularity .",
    "in addition , the renormalized networks can be understood as different levels of a hierarchical community structure .    the _ infomap method _ ( i m ) @xcite came out on top in a recent state - of - the - art benchmark comparison @xcite .",
    "the idea is to describe a random walker with a two - level coding scheme : the higher level has a single codebook for communities , on the lower level each community has its own codebook with a special exit code for moving out of the current community .",
    "the optimal partition corresponds to the codebook with the minimum description length : too small communities increase the description length due to higher frequency of community crossings , while communities containing too many nodes require longer description .",
    "in weighted networks the random walks are biased towards edges with higher weight . since an exhaustive search for the optimal partition is not feasible , infomap employs a heuristic similar to the one used in lv .",
    "_ clique percolation _",
    "( cp ) @xcite has been successfully applied to large empirical graphs , e.g. to study the dynamics of social groups @xcite .",
    "a @xmath27-clique is a fully connected subgraph of @xmath27 nodes , and two @xmath27-cliques are considered adjacent if they share @xmath28 nodes .",
    "as the name suggests , clique percolation defines communities as connected @xmath27-clique components : a cp community is a maximal set of @xmath27-cliques such that there is a path of adjacent @xmath27-cliques between them .",
    "different values of @xmath27 yield different community structures , and communities obtained with a larger value of @xmath27 reside inside those obtained with a smaller value . to select the best value of @xmath27",
    "we follow ref .",
    "@xcite and use the smallest value for which there is no giant percolating community .",
    "there are significant differences between cp and the other two methods .",
    "both lv and i m use a stochastic optimization scheme while cp is entirely deterministic .",
    "in addition , lv and i m yield a partition but cp does not . with cp",
    "the nodes that do not belong to any @xmath27-clique are left outside communities , and if a node belongs to several @xmath27-cliques it may belong to more than one _ overlapping _ community .",
    "the fact that cp does not provide a partition is not necessarily a bad thing : sparse regions of the network do not appear as communities , and e.g. in social networks individuals often do belong to multiple groups , such as family , friends , and colleagues .    to define the weighted clique percolation ( wcp )",
    "@xcite we need the concept of clique _ intensity _ , defined as the geometric mean of edge weights . in wcp",
    "we use a value of @xmath27 that would give a giant community in the unweighted case , but only include those @xmath27-cliques that have intensity larger than some predefined threshold @xmath29 .",
    "analogously to the unweighted case , @xmath29 is set to the largest value for which there is no giant community .",
    "notes on applying the methods are given in appendix [ appendix : notes_on_application ] .",
    "our empirical test network is a mobile phone call network constructed from billing records of seven million customers of a single mobile phone operator whose customer base covers about @xmath30 of the population in its country .",
    "the records cover a period of 126 days .",
    "to ensure anonymity of customers , phone numbers have been replaced by surrogate keys .",
    "data from the same operator has been previously studied in @xcite .    for this study",
    "we use only voice calls , and only those that take place between customers of the operator in question .",
    "in addition we exclude edges where only one person has made calls to the other during the whole period .",
    "we study only the largest connected component which has @xmath31 nodes and @xmath32 edges ( mean degree @xmath33 ) . nodes . ]",
    "the edge weights in the weighted network are defined as sums of call durations ( in seconds ) between the two customers .",
    "the average weight is @xmath34 seconds .",
    "using a large social network enables us to relate the findings to known characteristics of such networks @xcite .",
    "it is known that the overlap of local neighborhoods of adjacent nodes increases with edge weight @xcite , as conjectured in the `` weak ties '' hypothesis of granovetter @xcite .",
    "this feature should be reflected in correlations between edge weights and communities .",
    "we can also study structural features of communities and evaluate whether they represent meaningful social communities .",
    "we analyse _ single _ community structures detected by each method .",
    "both lv and i m are stochastic methods and therefore give a slightly different partition on every run ; however , as shown in appendix [ appendix : stability ] the qualitative properties of the communities are stable enough to justify the comparison .",
    "appendix [ appendix : notes_on_application ] contains detailed notes about the application of the three methods . in brief , we use parameters @xmath35 for cp and @xmath36 with @xmath37 for wcp ",
    "these are the only two methods with explicit parameters  and with lv we only study the first level of the hierarchical community structure since other levels yield communities that are implausibly large in the social context .            for i",
    "m , the tail of the size distribution appears power - law - like .",
    "very small communities are rare .",
    "the community structure of wim is notably different .",
    "the weighted communities are smaller , and the distribution is now monotonously decreasing .    even though the largest lv communities are an order of magnitude smaller than in i m , lv still produces larger communities than its weighted variant wlv .",
    "both lv and wlv have monotonous community size distributions , and small communities are more prevalent than in i m .",
    "the power - law exponents for the tails are similar when comparing lv to i m and wlv to wim .    for cp and wcp the size distributions",
    "are well approximated by a power law .",
    "this is expected , as the communities are detected close to the critical point where a giant community would emerge .",
    "the largest deviation from power law behaviour is in the tail .",
    "the largest wcp communities are larger than those in cp because 3-cliques are used for wcp and 4-cliques for cp .",
    "although these communities partially overlap ( see section [ sec : overlap ] ) , the 3-clique communities extend far beyond the 4-clique communities .",
    "the qualitative properties of small communities can be estimated visually , similarly to evaluating performance on small empirical networks .",
    "[ fig : community_examples ] shows archetypal communities with @xmath38 , @xmath39 , @xmath40 , and @xmath41 , and their immediate network surroundings .",
    "communities larger than this tend to be too complex to visualize in two dimensions .    of all unweighted methods the cp communities are the least surprising :",
    "larger communities naturally appear only in dense parts of the network .",
    "small lv communities consist of interconnected cliques , which coincides well with the general idea of social groups .",
    "the smallest i m communities with @xmath42 , however , are typically treelike and located at the `` edge '' of the network  these communities are attached to the rest of the network by only few links .",
    "lv covers these sparse parts of the network with much smaller communities ( see fig .",
    "[ fig : tiling_example ] ) .    when the weights are taken into account",
    ", the partition - based methods wim and wlv tend to produce even more treelike communities that have the appearance of local `` backbones '' of the network .",
    "this is a natural consequence of the way wim and wlv use edge weights ; however , communities like these do not coincide well with the idea of dense social groups .",
    "( color online ) the distribution of relative density @xmath43 for communities from each method . in all plots ,",
    "each column represents a distribution and is normalized to one , the colors indicating probability density so that the darker the color , the higher the density ( see color bar ) .",
    "the thick solid line denotes the average value .",
    "the dashed straight line corresponds to cliques , for which @xmath44 . for i",
    "m and lv the smallest density is 1 , which corresponds to trees . for cp , the smallest possible density is indicated by the curved dashed line ( see text ) . ]",
    "since some small communities were already observed to be treelike , we turn to more quantitative characterization of community density .",
    "graph density is normally defined as the proportion of edges out of all possible edges , @xmath45 $ ] . however , since communities are necessarily connected it is more illustrative to study density relative to the sparsest possible community , a tree with @xmath46 edges , as also done in @xcite : we define density as @xmath47 . in general @xmath48 where the lower bound corresponds to trees and the upper bound to cliques .",
    "cp however does nt allow trees ; instead , the smallest possible density is reached when each new node adds only @xmath28 edges . in this case @xmath49 which gives @xmath50 . for @xmath51",
    "this is approximately @xmath28 .",
    "figure [ fig : density ] shows the distributions and average values of @xmath52 as function of community size . as expected , cp yields the densest communities . for i",
    "m the value of @xmath52 stays close to 1 until @xmath53 , which confirms the observation on the prevalence of small treelike communities .",
    "for lv the distribution has a curious bimodal shape in the range @xmath54 : typical lv communities of this size have @xmath52 from 2 to 4 , but there is a small number of lv communities that are trees ( @xmath55 ) but none that are almost trees .",
    "a closer inspection ( not shown ) of these trees reveals that they are stars .    the plots for weighted communities in fig .",
    "[ fig : density ] suggest that weights make the communities more similar across methods .",
    "both wim and wlv communities are more treelike , as already seen in section [ sec : visual_observation ] .",
    "treelike communities do not fit well either with the idea of social groups , or that of communities in general being dense groups of nodes .",
    "however , if a network contains treelike regions , partition - based methods will correspondingly yield treelike communities , as also seen in ref .",
    "the abundance of treelike parts may just be a sampling artifact , as our network does not cover the whole population .",
    "nevertheless , empirical data is rarely perfect , and a good community detection method should deal with this in a sensible way .",
    "one could argue that in treelike regions the network is so sparse that there is nt enough information about community structure .",
    "this makes cp s requirement  that nodes must participate in at least one clique to be assigned a community  appear meaningful . on the other hand ,",
    "cp may yield communities where _ cliques _ are arranged as chains or starlike patterns , which again does not coincide well with the idea of social groups .",
    "[ fig : density ] indicates that in cp and wcp there are indeed some communities with densities close to the lower bound .",
    "whatever the interpretation , the detected treelike structures do provide information about the mesoscopic structure of the network .",
    "in other networks starlike structures can represent meaningful communities : for example in air transport networks the peripheral airports are connected to local hubs @xcite .",
    "( color online ) the distribution of @xmath56 ( eq .  [ eq : rho ] ) as function of community size for each method .",
    "the distributions are presented as in fig .",
    "[ fig : density ] , with a similar shading scheme .",
    "the black line denotes average value . ]",
    ".[table : community_weights]edge weights inside and between communities .",
    "@xmath57 denotes the average edge weight in the whole network , @xmath58 the average weight for edges inside communities and @xmath59 between communities .",
    "cp also has non - community nodes ; @xmath60 denotes the average weight between community and non - community nodes and @xmath61 between two non - community nodes . [ cols=\"^,^,^,^,^\",options=\"header \" , ]     the results are summarized in table [ table : stability_test ] .",
    "it turns out that both weighted methods are very stable not only with respect to @xmath62 and @xmath63 , but also with respect to the identity of communities : with both wim and wlv we get @xmath64 , which means that over 90 % of communities are identical in all 20 runs .",
    "the variation comes mostly from large communities .    in the unweighted case",
    "both i m and lv are stable with respect to @xmath62 , and i m also with respect to @xmath63 .",
    "the identity of communities found however exhibits more variation : e.g. , only 13 % of communities found by a single run of i m appear in all 20 runs .",
    "furthermore , looking at the unmatched communities for any pair ( i.e. those in @xmath65 ) , in i m about 32 % have tiling imperfection @xmath66 , and the average tiling imperfection is 0.46 ; in lv only 17 % of such communities have @xmath66 , with average tiling imperfection of 0.57 .",
    "thus the remaining communities are in general not even close matches . as with weighted methods ,",
    "small communities are more likely to match perfectly than larger ones .",
    "instability of a method is of course problematic for anyone wanting to identify the `` true '' communities of a given network .",
    "it is however premature to judge i m and lv because of this : the network topology is inherently noisy , and does not necessarily contain enough information to uniquely identify the communities . including weights made both methods much more stable , which suggests that the link weights contain information beyond the network topology .",
    "note that there is information even in the instability : any two i m partitions share 42 % of their communities , but if these shared communities were chosen uniformly at random only @xmath67 % of the communities would appear in all 20 partitions  much less that the actual value of 13.2 % .",
    "the high stability of wim and wlv may be partly explained by the fat - tailed distribution of call lengths in a mobile call network @xcite . since both methods are based on using probabilities proportional to the edge weights , an edge with a weight several orders of magnitude larger than the average will be placed inside a community almost independently of the network topology . on the other hand , in wcp the definition of intensity",
    "as the geometric average takes well into account the fat - tailed degree destribution , and is equivalent to using weights @xmath68 , the arithmetic mean for intensity and the intensity threshold @xmath69 . while one could use logarithmic weights also with wim and wlv ,",
    "this is problematic as the ratio of log - weights is not scale invariant and therefore the result would depend on the unit used to measure call length .",
    "finally , as suggested by the stability of @xmath62 and @xmath63 , the qualitative properties of the communities are very stable even though the exact identity of communities are not .",
    "for example i m repeatedly produces treelike communities even if the communities are not made up of the same nodes .",
    "because of this statistical stability no error is made by comparing the methods by using only single realizations from each method .",
    "00 r. pastor - satorras , a. vespignani , _ phys .",
    "lett . _ * 86 * , 3200 ( 2001 ) j. d. noh , h. rieger , _ phys . rev .",
    "lett . _ * 92 * , 118701 ( 2004 ) m. barahona , l.m .",
    "pecora , _ phys .",
    "lett . _ * 89 * , 054101 ( 2002 ) r milo , s shen - orr , s itzkovitz , n kashtan , d chklovskii and u alon , _ science _ * 298 * , 824 ( 2002 ) j .- p .",
    "onnela , j. saramki , j. kertsz , k. kaski , _ phys .",
    "rev . e _ * 71 * , 065103 ( 2005 ) s. fortunato , _ phys .",
    "reports _ * 486 * , 75 - 174 ( 2010 ) a. lancichinetti , s. fortunato , j. kertsz , _ new j. phys . _ * 11 * , 033015 ( 2009 ) a. lancichinetti , s. fortunato , _ phys . rev .",
    "* 80 * , 056117 ( 2009 ) v. d. blondel , j .- l .",
    "guillaume , r. lambiotte , e. lefebvre , _ j. stat",
    "_ p10008 ( 2008 ) .",
    "a. lancichinetti , m. kivel , j. saramki , s. fortunato , _ plos one _ * 5(8 ) * , e11976 ( 2010 ) .",
    "a. lancichinetti , s. fortunato , f. radicchi , _ phys .",
    "e _ * 78 * , 046110 ( 2008 ) a. lancichinetti , s. fortunato , _ phys . rev .",
    "e _ * 80 * , 016118 ( 2009 ) g. palla , i. dernyi , i. farkas , t. vicsek,_nature _ * 435 * , 814 ( 2005 ) .",
    "ahn , j. p. bagrow , and s. lehmann , _ nature _ * 466 * , 761 ( 2010 ) .",
    "r. pastor - satorras , a. vzquez , a. vespignani , _ phys . rev .",
    "lett . _ * 87 * , 258701 ( 2001 ) r. milo , s. itzkovitz , n. kashtan , r. levitt , s. shen - orr , i. ayzenshtat , m. sheffer , u. alon , _ science _ * 303 * , 1538 ( 2004 ) g. palla , a .-",
    "barabsi , t. vicsek , _ nature _ * 446 * , 664 ( 2007 ) p.f .",
    "jonsson , t. cavanna , d. zicha , and p.a .",
    "bates , _ bmc bioinformatics _ * 7*:2 ( 2006 ) m. herrera , d.c .",
    "roberts , n. gulbache , _ plos one _ * 5 * , e10355 ( 2010 ) m. rosvall , c. t. bergstrom , _ pnas _ * 105 * , 1118 ( 2008 ) m. e. j. newman , m. girvan , _ phys .",
    "e _ * 69 * , 026113 ( 2004 ) u. brandes , d. delling , m. gaertler , r. goerke , m. hoefer , z. nikoloski , d. wagner , _ ieee trans .",
    "_ * 20 * , 172 ( 2008 ) i. farkas , d. bel , g. palla , t. vicsek ,",
    "_ new j. phys . _ * 9 * , 180 ( 2007 ) j .- p .",
    "onnela , j. saramki , j. hyvnen , g. szab , d. lazer , k. kaski , j. kertsz , and a .-",
    "barabsi , _ proc .",
    "( usa ) _ * 104 * , 7332 ( 2007 ) m. c. gonzlez , c. a. hidalgo , a .-",
    "barabsi , _ nature _ * 453 * , 779 ( 2008 ) j .- p .",
    "onnela , j. saramki , j. hyvnen , g. szab , m. a. de menezes , k. kaski , a .-",
    "barabsi , and j. kertsz _ new j. phys . _ * 9 * , 179 ( 2007 ) m. granovetter , _ am",
    ". j. sociol . _ * 78 * , 1360 ( 1973 ) a. clauset , m.e.j .",
    "newman and c. moore , _ phys .",
    "e _ * 70 * , 066111 ( 2004 ) a. arenas , j. duch , a. fernandz , and s. gmez , _ new j. phys . _ * 9 * , 176 ( 2007 ) r. guimer , s. mossa , a. turtschi , and l.a.n .",
    "amaral , _ proc .",
    "( usa ) _ * 102 * , 7794 ( 2005 ) ` http://sites.google.com/site/findcommunities/ ` ` http://www.tp.umu.se/\\simrosvall/code.html ` j.m .",
    "kumpula , m. kivel , k. kaski , and j. saramki , _ phys .",
    "e _ * 79 * , 026109 ( 2008 ) ` http://www.lce.hut.fi/~mtkivela/kclique.html `"
  ],
  "abstract_text": [
    "<S> community detection methods have so far been tested mostly on small empirical networks and on synthetic benchmarks . much less </S>",
    "<S> is known about their performance on large real - world networks , which nonetheless are a significant target for application . </S>",
    "<S> we analyze the performance of three state - of - the - art community detection methods by using them to identify communities in a large social network constructed from mobile phone call records . </S>",
    "<S> we find that all methods detect communities that are meaningful in some respects but fall short in others , and that there often is a hierarchical relationship between communities detected by different methods . </S>",
    "<S> our results suggest that community detection methods could be useful in studying the general mesoscale structure of networks , as opposed to only trying to identify dense structures . </S>"
  ]
}