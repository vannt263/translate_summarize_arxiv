{
  "article_text": [
    "wireless transceivers powered by renewable energy are becoming more and more appealing due to their ease of deployment and environment friendliness @xcite , of which the feasibility is confirmed by measurements @xcite .",
    "when the transceivers in wireless links are powered by energy harvesting ( eh ) , due to the randomness of energy arrivals , the transmission can fail when the energy stored in the battery is insufficient , and thus transmission reliability and throughput are degraded .",
    "this calls for new ways of power control policies adapting themselves to not only the channel fading , but also random energy arrivals at _ both _ the transmitter and the receiver .",
    "there have been some recent studies about eh - based wireless transmissions , specifically dealing with the multi - fold randomness from energy arrival , data arrival and channel fading , and their main focuses are on eh transmitters . with infinite battery capacity ,",
    "optimal power control policies are studied in @xcite and @xcite to stabilize the system under random packet arrivals . ref .",
    "@xcite proves that the threshold - based power control is optimal for single link outage minimization over finite time horizon , and is asymptotic optimal for infinite time horizon .",
    "@xcite targets at minimizing the link outage probability with interference from other transmitters , where the author uses random walk theory to find the transmission probability of the eh transmitter . with finite battery capacity ,",
    "optimal offline water - filling algorithms are developed in @xcite , where the optimal directional water - filling is found based on the causality constraint of using the harvested energy , and suboptimal online policies are also investigated .",
    "our previous work @xcite extends their work to the case with the hybrid transmitter powered by eh and power grid .",
    "@xcite identifies the optimal power control policy and corresponding performance limit with finite data and energy storages under concave utility functions . besides the transmission power , some recent studies @xcite deal with the circuit power consumption at the transmitter , and ref .",
    "@xcite addresses the practical half - duplex constraint on the actions of energy harvesting and transmission . to improve the reliability",
    ", there have been recent efforts on analyzing packet retransmission mechanisms for eh communication systems@xcite , and ref .",
    "@xcite studies an aqr - based retransmission mechanism and applies markov decision processes ( mdp ) to obtain the optimal power control policy .",
    "however , most of the previous works do not consider the existence of eh receiver , while the energy consumption for receiving can not be ignored in applications like wireless sensor networks ( wsn ) with short transmission distances @xcite .",
    "this motivates us to investigate the wireless link consisting of eh transmitter _ and _ receiver , with circuit blocks , as well as the decoding modules @xcite taken into account .",
    "it is noted that some works deal with two - hop transmissions with eh source and relays@xcite@xcite@xcite , but the energy harvested at the relay is used for the second hop transmission , not for receiving . among the few , ref .",
    "@xcite considers receiving power for multi - hop wsn with eh , and efficient routing and node sleeping algorithms are proposed . with another line of research , energy cooperation with wireless powering",
    "is considered @xcite @xcite , where the receiver is powered by the energy transmission from the transmitter .",
    "the main difference is that in their cases , the transmitter intentionally delivers the energy on demand to the receiver , while in our case , both sides may have no knowledge of the energy condition of the other .    in this paper , we focus on the outage minimization problem of a fading wireless link with eh transmitter and receiver , under an acknowledgement ( ack ) based retransmission mechanism .",
    "only channel distribution information ( cdi ) is assumed known at the transmitter .",
    "different levels of the battery state information ( bsi ) sharing between the two nodes are considered . as both nodes are eh - based , it is also nature to investigate the correlations between the energy arrival processes at both sides .",
    "different from @xcite , where static channel is considered and the goal is capacity maximization , we put more focuses on the outage performance of eh links , considering the two - fold randomness from eh and channel fading .",
    "the main objective of our research is to find the optimal power control policy , and to investigate how the energy arrival correlation , the battery capacity and different receiver structures can impact the outage performance of a link .",
    "the main contributions include :    \\1 ) with infinite battery capacity and no retransmission , we prove that threshold - based power control is optimal when the eh process is independent between the transmitter and receiver .",
    "the optimality holds regardless of whether bsi is shared or not .",
    "we thus provide the closed - form expressions for the optimal power thresholds of the disjoint policy without bsi sharing , and for the joint policy with bsi sharing , respectively .",
    "we further investigate the impact of eh correlation between the two nodes , and show that the joint threshold - based policy is still optimal .",
    "\\2 ) based on queuing theory , we provide a simple yet powerful framework of deriving the transmission probability , and the receiving probability of eh links . for the transmission probability , the assumption on the _ i.i.d .",
    "_ eh process in @xcite is generalized to stationary and ergodic eh process .",
    "the derived transmission and receiving probability further enable directly proving the optimality of the threshold - based policies , which extends the results in @xcite to the case when both the transmitter and receiver are eh - based , with the consideration of eh process correlation between the two sides , the circuit power , the receiver detection and processing , different levels of bsi and csi sharing .",
    "we also investigate the case when the receiver knows the policy of the transmitter , and show how this information helps improving the system performance .",
    "\\3 ) when retransmissions are taken into account , we show that the derived optimal power thresholds for non - retransmission case are still near - optimal .",
    "to further adapt the threshold per retransmission , a modified disjoint threshold - based policy called linear power levels policy is adopted , and the choice of the starting power level is investigated .",
    "\\4 ) under finite battery capacity , the proposed policies are analyzed via a three dimensional finite state markov chain ( fsmc ) model , which allows the calculation of the optimal power thresholds and evaluation of their performance .",
    "the numerical results via the fsmc analysis provide insights to the impact of the system parameters , especially the battery capacity and eh correlation between the transmitter and receiver , on the outage performance of an eh link .    the remainder of this paper is organized as follows .",
    "section [ sec : model ] sets up the system model , and three power control policies are introduced in section [ sec : pol ] . in section iv , we analyze and prove the optimality of the policies with infinite battery capacity . we investigate our policies with finite battery capacity using fsmc in section v , and we propose the corresponding local searching algorithm for the optimal thresholds .",
    "numerical results are presented in section vi , and are followed by our conclusion in section vii .",
    "we consider a fading wireless link consisting of one transmitter ( denoted by source node @xmath0 ) and one receiver ( denoted by destination node @xmath1 ) .",
    "both nodes are powered by batteries of capacity @xmath2 and are capable of harvesting energy from the surrounding environment .",
    "discrete - time model is used , where the time axis is partitioned into slots denoted by @xmath3 . with unit slot length",
    ", we will _ use energy and power , and their corresponding units interchangeably_.      we consider frequency non - selective block rayleigh fading channel , where the channel @xmath4 keeps constant within one time slot , and varies independently from slot to slot , and @xmath5 .",
    "there is only cdi at @xmath0 , while @xmath1 has csi .",
    "the transmission rate @xmath6 is assumed fixed .",
    "we assume unit bandwidth , and thus @xmath6 is in the unit of spectrum efficiency .",
    "channel outage occurs when the mutual information between @xmath0 and @xmath1 is less than @xmath6 , where we assume one packet per slot .",
    "the corresponding channel outage probability @xmath7 in any slot @xmath8 is @xcite @xmath9 where @xmath10 is the transmission power at the @xmath0 in slot @xmath8 , and @xmath11 denotes the power of additive white gaussian noise .      with the consideration of circuit power , the power consumption at @xmath0 in slot @xmath8 is given by @xmath12 where @xmath13 denotes the static power consumption of the circuit blocks , and @xmath14 represents the power consumption for the power amplifier , where @xmath15 mainly relates to the drain efficiency .",
    "the indicator function @xmath16 equals to 1 if event @xmath17 is true , otherwise it equals to 0 .",
    "assume that if @xmath0 is not transmitting , i.e. , @xmath18 , the circuit does not consume any power , i.e. , @xmath19 .",
    "in practise , transceivers may consume some power even when it is not transmitting or receiving @xcite , therefore this assumption implies that @xmath0 can switch on and off the transceiver instantaneously , or the start - up time is negligible .",
    "similar assumption is made for @xmath1 .",
    "note that at the beginning of each slot , @xmath1 does not know whether @xmath0 is transmitting or not in advance",
    ". therefore if there is enough energy in the battery , @xmath1 will be active , and its power consumption in slot @xmath8 is given by @xmath20 where @xmath21 includes two parts : ( 1 ) the power consumption of the receiving circuit , and the decoding module depending on whether the link is coded or uncoded @xcite ; ( 2 ) the power for feeding back ack to @xmath0 , which will be described in section [ subsect : retransmission ] .    to further improve the energy utilization efficiency at @xmath1 , in section [ sec : recv_detect ]",
    ", we consider that @xmath1 first spends @xmath22 fraction of the energy @xmath23 to detect whether there is an on - going transmission from @xmath0 , where @xmath24 $ ] . in this way , if @xmath1 is active , the power consumption at @xmath1 in slot @xmath8 is @xmath25 where the first case means that @xmath0 is not transmitting , and thus @xmath1 will switch off after consuming @xmath26 amount of detection energy ; otherwise in the second case @xmath1 will keep receiving for the whole slot when @xmath0 is transmitting .",
    "the power consumption model can be further extended to include data processing power at @xmath1 , which will also be discussed in section [ sec : recv_detect ] .",
    "denote the harvested energy in slot @xmath8 at @xmath0 and @xmath1 as @xmath27 , which are stationary and _ ergodic _ sequences over time .",
    "their means are @xmath28 = \\lambda_{s}$ ] and @xmath29 = \\lambda_{d}$ ] respectively .",
    "the eh processes can also be correlated between @xmath0 and @xmath1 , and the correlation coefficient is defined as @xmath30 , where @xmath31 is the covariance function , @xmath32 and @xmath33 represent the standard variances of @xmath34 and @xmath35 .",
    "let @xmath36 and @xmath37 denote the battery energy at the beginning of slot @xmath8 , of @xmath0 and @xmath1 respectively .",
    "the battery gets replenished whenever a node harvests energy at the end of the slot .",
    "the evolution of the battery states at @xmath0 and @xmath1 are @xmath38 where @xmath2 denotes the battery capacity .",
    "note that the above equation implicitly requires @xmath39 and @xmath40 respectively , and these will be enforced by the power control policies , where we remark that @xmath0 and @xmath1 know their _ own _ battery state .",
    "remark that the requirement @xmath40 holds even for the case with receiver detection described in ( [ pd - detect ] ) .",
    "this is because at the beginning of each slot , as @xmath1 does not know whether @xmath0 is transmitting or not , it has to ensure that @xmath40 , to guarantee the reception for the whole slot in case @xmath0 is transmitting .      in slot @xmath8",
    ", the packet transmission may fail if : ( 1 ) @xmath0 does not have sufficient energy to transmit the packet so that @xmath0 set @xmath41 ; ( 2 ) the packet is not transmitted successfully due to the channel outage with probability @xmath42 ; ( 3 ) @xmath1 does not have sufficient energy to receive the packet , i.e. , @xmath43 .",
    "equivalently , the per - slot transmission successful probability @xmath44 is given by @xmath45 \\text{pr } \\",
    "{ p_{\\text{tx}}^t > 0 ,",
    "b_d^t \\ge p_d \\ } , \\end{aligned}\\ ] ] where the second equality comes from the independence between the battery states and the channel condition , and note @xmath42 is defined in ( [ eq : outage ] ) .",
    "the retransmission is based on an ack - based mechanism , in which acks are fed back by @xmath1 over an error free channel to @xmath0 .",
    "if the transmission is successful , @xmath0 will receive an ack from @xmath1 and move on to the next packet .",
    "if @xmath0 does not receive an ack or it does not transmit due to insufficient battery energy , it retries until it receives an ack , or reaches the retry limit and moves on to the next packet .",
    "we assume : ( 1 ) the time for transmitting ack is negligible ; ( 2 ) the power consumed for sending ack is included in @xmath21 ; ( 3 ) if channel outage occurs , even without feeding back ack , the power consumption of @xmath1 is still @xmath21 .",
    "as we allow @xmath46 times of retransmission ( @xmath47 times of transmission attempts in total ) , the retransmission state is denoted by @xmath48 , defined by @xmath49 with retransmissions , the final outage probability of a packet @xmath50 is the probability that the packet can not be successfully transmitted within @xmath47 slots .",
    "please note that with our definition , the  retransmission \" includes the failed transmission attempts due to insufficient energy at @xmath0 .",
    "this paper considers the online power control policies at @xmath0 in order to minimize the packet outage probability @xmath50 : @xmath51 where @xmath52 denotes the set of all online stationary policies , where in a policy @xmath0 decides @xmath53 , based on cdi , average energy arrival rate @xmath54 , its bsi ( or including @xmath55 and @xmath56 at @xmath1 depending on the level of bsi sharing ) and the retransmission state @xmath57 . in this paper",
    "we assume the data source of @xmath0 is backlogged .",
    "our analysis for the backlogged scenario is also valuable for cases with random packet arrivals , in terms of determining the stability condition of the data queue .",
    "specifically , to keep the data queue stable , the bit arrival rate should be less than @xmath58 .",
    "even though the energy buffer and the data queue are coupled at @xmath0 , this stability condition is proved in @xcite by assuming @xmath0 transmits dummy packets even when the data queue is empty .",
    "in this section , three power control policies are presented .",
    "their performance will be analyzed in later sections .",
    "note that by default @xmath1 does not know what policy @xmath0 is taking , and we will discuss the impact of knowing the policy of @xmath0 at @xmath1 in section [ sec : dknows ] .      in this policy , the possible values of @xmath59 are chosen from a binary set and @xmath0 only transmits when the energy stored in its own battery is larger than a threshold .",
    "specifically , @xmath60 where according to ( [ ps ] ) , @xmath61 is required , and the corresponding transmission power is @xmath62 .",
    "the battery state evolution under this policy at @xmath0 is given by @xmath63 the optimization variable of the policy is to determine the best threshold @xmath64 .",
    "note that in this policy , each node does not know the bsi of the other .",
    "this is a genie - aided threshold - based policy that each node knows whether the other node will transmit / receive or not in current time slot . under this policy",
    ", @xmath0 transmits only when both @xmath65 and @xmath40 hold , and so does @xmath1 to make receiving decision .",
    "the battery state evolution under this policy is @xmath66 where @xmath67 .",
    "the optimization variable of the policy is the threshold @xmath64 .",
    "the previous two policies do not take the retransmission states into account , while this policy is a modified version of the _ disjoint _ threshold - based policy with non - decreasing multi - level thresholds @xmath68 , i.e. , @xmath69 where @xmath70 is the step value , and note @xmath71 .",
    "the battery state evolution at @xmath0 under this policy is given by @xmath72 the optimization variables of the policy are @xmath73 and @xmath70 .",
    "in this section , we will analyze the outage probability when both nodes are equipped with infinite battery capacity .",
    "the optimality of the threshold - based policies is discussed . unless otherwise specified , the theorems , lemmas , propositions and corollaries have the following default conditions : the battery capacity @xmath74 .",
    "the energy arrivals @xmath75 and @xmath76 are stationary and ergodic processes , with @xmath28 = \\lambda_{s}$ ] and @xmath29 = \\lambda_{d}$ ] respectively .      when @xmath77 , there is no retransmission . according to the definition in ( [ eq : phi ] ) ,",
    "we denote @xmath78 as the transmission successful probability in a slot , with threshold @xmath64 .",
    "the policy design is to find the best threshold @xmath64 so that @xmath78 is maximized , written as @xmath79 \\psi(p_{s } , p_{d}),\\ ] ] where recall that @xmath80 , and @xmath81 is the probability that @xmath0 has enough energy to transmit and @xmath1 has enough energy to receive , i.e. , @xmath82.\\ ] ]        to solve ( p1 ) , we need to calculate @xmath81 , before which two lemmas are proposed .",
    "[ lem : transprob ] denote the transmission probability of @xmath0 as @xmath83.\\ ] ] under the disjoint threshold - based policy , we have @xmath84    without loss of generality , assume initially the battery is empty , i.e. , @xmath85 . the proof is based on constructing a equivalent energy ",
    "packet \" queue @xmath86 reflecting the energy arrival and usage process .",
    "the queue operates in a slotted manner . at the end of each slot @xmath8 ,",
    "the arrived energy is firstly stored in a  packet source \" , of which the energy at the beginning of a slot is @xmath87 .",
    "right at the energy arrival , the  source \" generates energy  packets \" , each with volume @xmath64 , into @xmath86 at the end the slot .",
    "correspondingly the number of generated packets is @xmath88 ( @xmath89 is the floor operator , and @xmath90 ) , and then the amount of energy @xmath91 remains in the  source \" , and here we always have @xmath92 .",
    "note that @xmath93 solely evolves with the stationary and ergodic sequence @xmath94 , and thus is also stationary and ergodic .",
    "the generated packets are then buffered in @xmath86 with _ infinite _ capacity .",
    "the constructed queue is illustrated in fig .",
    "[ fig : energyqueue ] .",
    "the  energy packet \" arrival rate of @xmath86 , defined as the average arrived packets per slot , is @xmath95}{n } \\notag \\\\ & \\overset{\\text{(a)}}{= } & \\frac{1}{p_s}\\lim_{n \\to + \\infty } \\frac{\\sum_{t=1}^{n-1}\\mathbf{e}[e_s^t]-\\mathbf{e}[e_{\\text{source}}^{n}]}{n } \\notag \\\\ & \\overset{\\text{(b)}}{= } &   \\frac{\\lambda_s}{p_s},\\end{aligned}\\ ] ] where ( a ) holds by adding the two sides of ( [ eq : etevo ] ) from @xmath96 to @xmath97 and then taking expectations , with initial values @xmath98 ; ( b ) holds because @xmath99 .",
    "the  server \" of @xmath86 serves one packet per slot if the queue is not empty , i.e. , the service rate is @xmath100 , this corresponds to the policy that @xmath0 transmits if @xmath101 .",
    "therefore , denoted by @xmath102 the number of energy packets in @xmath86 at the beginning of time slot @xmath8 , its evolution is @xmath103 comparing with ( [ eq : bsevo ] ) and noting that we have infinite battery here , it can be easily checked that @xmath104 therefore , @xmath105 \\notag \\\\ & = & \\lim_{n \\to + \\infty } \\frac{1}{n } \\sum_{t = 1}^{n } \\mathbf{e } \\left [ \\mathbf{1}_{n_t \\geq 1 } \\right ] , \\label{eq : little10}\\end{aligned}\\ ] ] where the last equality holds due to ( [ eq : ntbs ] ) . for @xmath106 , first consider @xmath107 , and we prove @xmath108 by contradiction .",
    "assume @xmath109 , and thus for some subsequence of @xmath110 , denote slot sequence @xmath111 as those satisfy @xmath112 , and @xmath113 , where the sequence @xmath114 must be infinite ( and thus @xmath110 is stationary and ergodic ) , otherwise @xmath108 immediately .",
    "note @xmath115 , we must have @xmath116 , and @xmath117 where the above equations basically indicate that _ between _ two adjacent slots with empty queue @xmath86 , the number of arrived packets equals to the number of slots between these two slots , because the queue evolves from empty to empty , and each slot exactly consumes one packet",
    ". then @xmath118 while @xmath119 almost surely as @xmath93 is stationary and ergodic , which means @xmath120 as we assume @xmath109 , which contradicts the fact that @xmath107 . therefore @xmath121 .",
    "when @xmath120 , according to little s law @xcite , @xmath122 $ ] is the server busy probability of @xmath86 , and equals to the load of the queue , i.e. , @xmath123 where the equality holds due to ( [ eq : lambda_eq ] ) and @xmath100 . the proof is completed .",
    "note that lemma [ lem : transprob ] coincides with ( * ? ? ?",
    "* theorem 1 ) , while we provide an alternative proof based on queuing theory , and the _ i.i.d .",
    "_ assumption of @xmath94 is relaxed to be stationary and ergodic .",
    "this method further allows us to prove other results in this paper with more complicated situations especially for @xmath1 .",
    "[ lem : recvprob ] define the receiving probability of @xmath1 as @xmath124.\\ ] ] under the disjoint threshold - based policy , we have @xmath125    follow the same procedure of proving lemma [ lem : transprob ] .",
    "we then have the following theorem for the simultaneous transmission and receiving probability @xmath126 when the energy arrivals at @xmath0 and @xmath1 are mutually _ independent _ , i.e. , @xmath127 .",
    "[ th : psi ] when eh processes of @xmath0 and @xmath1 are mutually independent , and bsi is not shared .",
    "we have @xmath81 under the disjoint threshold - based policy given by @xmath128    since @xmath129 and @xmath130 are mutually independent , and also because @xmath0 and @xmath1 do not know the bsi of each other , the events @xmath131 and @xmath132 are independent .",
    "we have @xmath133 and according to lemma [ lem : transprob ] and lemma [ lem : recvprob ] , we directly obtain @xmath134 which completes the proof .    when energy arrivals @xmath75 and @xmath76 are not independent , i.e. , @xmath135 can take negative values under some circumstances , while generally it is positive as for wind and solar energy .",
    "] , theorem [ th : psi ] still holds if @xmath136 . in this case ,",
    "theorem [ th : psi ] becomes @xmath137 .",
    "otherwise , if @xmath138 which means that energy arrivals are insufficient at both nodes , it is expected that @xmath81 increases with @xmath139 , which will be confirmed by our numerical results . but this will highly depend on the energy arrival profiles at both nodes , and no closed - form @xmath81 is available here .    next",
    "we will show that the disjoint threshold - based policy is actually the _ optimal _ power control policy under independent energy arrivals .",
    "first two lemmas are needed as follows .",
    "[ lem : outagemin ] consider a non - eh block fading channel with only cdi at @xmath0 .",
    "given the average power constraint @xmath140 at @xmath0 , the optimal power control policy that minimizes the average _ channel _ outage probability , is threshold - based , i.e. , @xmath141 where @xmath142 where @xmath143 is the larger solution to the quadratic equation @xmath144 .",
    "see appendix [ app : lem : outagemin ] .",
    "we then immediately have the following lemma .",
    "[ lem : outagemineh ] consider a block fading channel with non - eh @xmath1 and eh @xmath0 with stationary and ergodic energy arrivals @xmath145 , and @xmath28 = \\lambda_{s}$ ] .",
    "assuming only cdi at @xmath0 , the optimal power control policy that minimizes the average channel outage probability is threshold - based , the same as the corresponding non - eh link with average power consumption at @xmath0 as @xmath54 .",
    "let @xmath143 be the same notation as in lemma [ lem : outagemin ] .",
    "if @xmath146 , then @xmath147 . otherwise , let the policy be transmitting whenever @xmath148 , according to lemma [ lem : transprob ] , the transmission probability is @xmath149 .",
    "this policy is the same as the optimal policy in lemma [ lem : outagemin ] by replacing @xmath150 with @xmath54 .",
    "as eh imposes more strict power allocation causality constraints , the performance of the eh link is no better than the non - eh link with the same average power consumption .",
    "therefore , this policy is optimal for the eh link .",
    "the above lemma coincides with ( * ? ? ?",
    "* proposition 3.5 ) , while we consider the circuit power @xmath151 of @xmath0 , and we also provide a direct proof for infinity time horizon without taking the asymptotic to the solution of the finite time horizon case .",
    "now we are ready to prove the optimality of the disjoint threshold - based policy .",
    "[ th : optimality1 ] when eh processes of @xmath0 and @xmath1 are mutually independent , and bsi is not shared .",
    "assume no retransmission . among all stationary power control policies ,",
    "the disjoint threshold - based policy is _ optimal _ , with optimal threshold @xmath152 as @xmath153 where @xmath154 is given by @xmath155,\\ ] ] and @xmath156 .",
    "see appendix [ app : th : optimality1 ] .",
    "the theorem also reveals that the optimal threshold does not depend on @xmath55 , and thus the optimality holds even when energy arrival statistics are not shared between @xmath0 and @xmath1 .      under the joint threshold - based policy , @xmath0 and",
    "@xmath1 know whether the other node will transmit or not , and the battery state evolution is shown in ( [ eq : battery_joint ] ) . under this policy , we have the following proposition for the probability @xmath81 .",
    "[ prop : jointprob ] the probability @xmath81 under the joint threshold - based policy is @xmath157    see appendix [ app : prop : jointprob ] .    using above proposition , we have the following theorem .",
    "[ th : optimality2 ] assuming no retransmission , and @xmath0 and @xmath1 know whether the other node will transmit or not . among all stationary power control policies ,",
    "the joint threshold - based policy is _",
    "optimal_. the optimal threshold @xmath152 is @xmath158 where @xmath154 is the same as in theorem [ th : optimality1 ] .",
    "see appendix [ app : th : optimality2 ] .",
    "remark that from proposition [ prop : jointprob ] and theorem [ th : optimality2 ] , the joint threshold - based policy is not affected by the correlation between @xmath75 and @xmath76 , and its performance and the optimal transmission power threshold are the same _ regardless of _ the value of @xmath139 .",
    "this section will provide some extensions to the receiver power consumption model .",
    "we will first demonstrate a more practical detection structure , and then the energy for processing the received data will be included in the model .    as explained in section [ sec : energymodel ] , @xmath1 can spend @xmath22 portion of @xmath159 to detect whether @xmath0 is transmitting , rather than receiving for the whole slot . note that when @xmath160 , node @xmath1 has to receive for the whole packet to decide whether @xmath0 is transmitting or not , which corresponds to the model we discussed previously .",
    "under disjoint threshold - based policy , we have the following proposition with receiver detection .",
    "[ prop : recvprob2 ] define the detection and receiving probability of @xmath1 as @xmath124.\\ ] ] under the disjoint threshold - based policy , we have @xmath161p_d}\\right),\\ ] ] where @xmath22 is the detection cost , and @xmath162 .",
    "see appendix [ app : prop : recvprob2 ] .",
    "from ( [ eq : probrecvdet ] ) , we can see that @xmath163 , which is the receiving probability without detection , and this means that the detection increases the receiving probability .",
    "if @xmath109 , this gain increases when @xmath22 decreases .",
    "note that now the events @xmath164 and @xmath165 are _ no longer independent _ , since the energy consumption procedure at @xmath1 is affected by how energy is used at @xmath0",
    ". therefore the probability @xmath126 can not be calculated by ( [ eq : indprob ] ) .",
    "but from simulations , as shown in fig .",
    "[ fig : psitest ] , when @xmath166 and @xmath167 , @xmath126 can be well approximated by @xmath168 for detection only . as a result , following the same procedure as in the proof of theorem [ th : optimality1 ]",
    ", one can still get the threshold @xmath64 that is close to optimal . for joint threshold - based policy ,",
    "the detection is actually not necessary , or at the optimal operation point , the joint threshold - based policy is equivalent to the case with @xmath169 . for the linear power levels policy , the optimal performance with receiver detection can be solved by fsmc decribed in the next section .     with detection cost @xmath22 and processing , compared with @xmath170 , for @xmath171mw , @xmath172mw , @xmath173mw , @xmath174 , @xmath175 , and @xmath176mw . here",
    "@xmath177 and @xmath178 is according to ( [ eq : probrecvdet ] ) for detection only with @xmath179 , according to ( [ eq : probrecvdetporoc ] ) for detection and processing with @xmath180 , respectively.,width=326 ]    moreover , for example in sensor networks , @xmath1 may use more power to _ process _ the successfully received data in addition to @xmath159 .",
    "for instance , @xmath1 may need to compress and store the sensed data from @xmath0 , or relay the data to the next hop , etc .",
    "if the precessing is performed immediately after the data is received , or concurrently with receiving , we can denote the total power consumption as @xmath181 , and correspondingly @xmath182 , where @xmath183 $ ] . in this way , at the beginning of a slot , the battery energy should satisfy @xmath184 , because the battery should support @xmath1 to receive _ and _ process the data , otherwise there is no need to receive .",
    "the power consumption at @xmath1 in slot @xmath8 is @xmath185 where the first case means that @xmath0 is not transmitting , and thus @xmath1 will switch off after consuming @xmath186 for detection ; in the second case when @xmath0 is transmitting , @xmath1 will keep receiving for the whole slot but the channel encounters outage , so that only the receiving power @xmath187 is consumed and no further processing is needed ; finally in the third case , @xmath1 successfully receives the data and completes the processing .    with receiver detection and processing ,",
    "the probability @xmath178 is the probability that @xmath188 .",
    "we have the following proposition for @xmath178 with receiver detection and processing .",
    "[ prop : recvprob3 ] define the detection and receiving probability of @xmath1 as @xmath189.\\ ] ] under the disjoint threshold - based policy and with receiver detection and processing , we have @xmath190p_f}\\right),\\ ] ] where @xmath22 and @xmath191 are the detection cost and the receiving fraction respectively , and @xmath192 , and @xmath193 is the channel outage probability defined in ( [ eq : outage ] ) , with @xmath194",
    ".    see appendix [ app : prop : recvprob3 ] .    since the dependence between the events @xmath164 and @xmath165",
    "is introduced due to the receiver detection and processing , the probability @xmath126 can not be calculated by ( [ eq : indprob ] ) . as shown in fig .",
    "[ fig : psitest ] , we can still approximate @xmath126 with ( [ eq : indprob ] ) , but the precision becomes worse when we introduce processing , i.e. , @xmath195 .      in previous subsections",
    ", @xmath1 has no knowledge about whether @xmath0 is taking the threshold - based policy or not .",
    "but for example , if @xmath1 knows that @xmath0 is adopting the threshold - based policy with threshold @xmath64 , since @xmath1 has csi , when the channel can not meet the transmit rate @xmath6 , @xmath1 can choose not to receive .",
    "in this way , when @xmath132 , @xmath196 where @xmath194 .",
    "we have the following results for disjoint / joint threshold - based policies .",
    "_ for the disjoint policy _ , the following corollary of theorem 1 holds for the probability @xmath81 .",
    "[ cor : psi2 ] assume eh processes of @xmath0 and @xmath1 are mutually independent , and bsi is not shared , but @xmath1 knows that @xmath0 is taking the threshold - based policy with threshold @xmath64 .",
    "we have @xmath81 under the disjoint threshold - based policy given by @xmath197 } , \\frac{\\lambda_{s}\\lambda_{d}}{p_{s}p_{d}[1\\!-\\ ! p(p_{\\text{tx}})]}\\right),\\end{aligned}\\ ] ] where @xmath193 is the channel outage probability defined in ( [ eq : outage ] ) , with @xmath194 .",
    "see appendix [ app : cor : psi2 ]",
    ".    comparing corollary [ cor : psi2 ] and theorem [ th : psi ] , we can see that knowing the policy of @xmath0 at @xmath1 improves the receiving probability so that the outage performance is improved .",
    "we can further prove the optimality of disjoint threshold - based policy as the following corollary of theorem [ th : optimality1 ] .",
    "[ cor : optimality1 ] assume eh processes of @xmath0 and @xmath1 are mutually independent , and bsi is not shared , but @xmath1 knows the policy of @xmath0 . assuming no retransmission , among all stationary power control policies , the disjoint threshold - based policy is _",
    "optimal_. the optimal threshold @xmath152 is the same as ( [ eq : optimalps ] ) given in theorem [ th : optimality1 ] .",
    "see appendix [ app : cor : optimality1 ] .",
    "the above argument indicates that , the policy information available at @xmath1 improves the outage performance , but it has no impact on the optimal policy at @xmath0 , when the bsi is not shared .",
    "but the conclusion does not hold when the bsi is shared .",
    "_ for the joint policy _",
    ", @xmath0 knows whether @xmath1 will receive or not , and thus when @xmath1 knows its policy , which means that the bsi is shared and @xmath0 also gets the csi indirectly . as a result , there are full bsi and csi sharing between @xmath0 and @xmath1 .",
    "we have the following corollary for @xmath81 , and the proof is simply based on the proof of corollary [ cor : psi2 ] and proposition [ prop : jointprob ] .",
    "[ cor : jointprob ] assume @xmath1 knows that @xmath0 is taking the threshold - based policy with threshold @xmath64 , the probability @xmath81 under the joint threshold - based policy is @xmath198p_{s } } , \\frac{\\lambda_{d}}{[1- p(p_{\\text{tx}})]p_{d } } \\right),\\ ] ] where @xmath193 is the channel outage probability defined in ( [ eq : outage ] ) , with @xmath194 .    based on this corollary",
    ", we can easily get the optimal threshold @xmath152 for the joint policy when the csi and bsi are shared .",
    "[ cor : optimalpsjoint ] when @xmath1 knows that @xmath0 is taking the threshold - based policy with threshold @xmath64 , the optimal threshold @xmath152 of the joint threshold - based policy satisfies @xmath199 = \\frac{\\lambda_s}{p_s^*},\\ ] ] where @xmath200 .",
    "remark that when both csi and bsi are shared , the threshold - based policy is no longer optimal , while the truncated channel inversion @xcite can be proved optimal , which in our case has no closed - form expression , and is not presented in detail for the conciseness of this paper .",
    "_ as for the receiver detection and processing _ , first note that in proposition [ prop : recvprob3 ] , @xmath1 does _ not _ know the policy of @xmath0 .",
    "if @xmath1 knows the policy of @xmath0 , proposition [ prop : recvprob3 ] has the following corollary , of which the proof is simply based on the proof of corollary [ cor : psi2 ] and proposition [ prop : recvprob3 ] .",
    "[ cor : recvprob3 ] under the disjoint threshold - based policy with receiver detection and processing , if @xmath1 knows the policy of @xmath0 , we have @xmath201[1-p(p_{\\text{tx}})]p_f}\\right),\\ ] ] where @xmath22 and @xmath191 are the detection cost and the receiving fraction respectively , and @xmath192 , and @xmath193 is the channel outage probability defined in ( [ eq : outage ] ) , with @xmath194 .",
    "when retransmission is allowed , i.e. , @xmath202 , the analysis becomes much more complicated . mainly because the transmission probability @xmath203 will be correlated among adjacent slots due to the existence of battery .",
    "even if we constrain the threshold - based policy to be _ invariant _ among retransmission states , the optimal threshold may be different from our previously derived @xmath152 . nevertheless , the derived @xmath152 is near - optimal with @xmath202 . to illustrate this ,",
    "consider an equivalent non - eh fading channel with average power constraint @xmath54 and @xmath55 for @xmath0 and @xmath1 , respectively .",
    "following lemma [ lem : outagemin ] , the optimal policy to minimize the per - slot outage is threshold - based . like the disjoint policy , @xmath1 has no choice but to receive with probability @xmath204 if it does not know the action at @xmath0 . for this fading channel , threshold @xmath152 in ( [ eq : optimalps ] ) is the optimal threshold policy among all policies being _ invariant _ over retransmissions .",
    "the outage probability is then @xmath205 where @xmath206 is the same as the definition in ( [ eq : p1 ] ) , and the above equation holds since the successful transmissions among adjacent slots are independent for non - eh fading channel .",
    "this serves as the lower bound of the outage probability for the counterpart eh link .",
    "therefore , using the same threshold @xmath152 , the outage probability of the eh link satisfy @xmath207 for joint threshold - based policy , the same conclusion holds . to show that the derived @xmath152 is close to optimal , we simulate the outage probability as shown in fig .",
    "[ fig : outagelower ] , from which we can see that @xmath208 is very close to its lower bound @xmath209 , for both joint and disjoint policies .",
    "bit / hz / s , @xmath210mw , @xmath211mw , @xmath174 , @xmath212 , @xmath175 , and other parameters according to section [ sec : num ] . under this",
    "setting , @xmath213mw , and @xmath152 is determined by ( [ eq : optimalps ] ) and ( [ eq : optimalps2 ] ) for disjoint and joint policies , respectively.,width=326 ]    different from the other two , the linear power levels policy considers the retransmission state @xmath57 .",
    "given the intervals of the sequence @xmath70 and the transmission limit @xmath47 , we need to find the optimal starting power level @xmath214 .",
    "since closed - form @xmath50 is not available , by now we can only heuristically choose the starting power .",
    "for the counterpart non - eh fading channel , if linear power levels policy is applied , to keep the average power consumption the same , the starting power @xmath215 . using this heuristic , in fig . [",
    "fig : outagelower ] , we set @xmath216 to the eh case , and set @xmath217mw for @xmath218mw , and @xmath219mw for @xmath220mw .",
    "we observe that linear policy outperforms disjoint policy under medium to high energy arrival rates , and its gain increases when energy becomes more sufficient .",
    "this phenomena will also be discussed in section [ sec : num ] where we can use fsmc to look for the optimal @xmath214 .",
    "in this section , we analyze the performance and parameter optimization for the three policies where both nodes are equipped with finite batteries with capacity @xmath221 .",
    "we implement our model using discrete - time fsmc , in which we quantize all energies with respect to a energy fraction @xmath222 .",
    "accordingly , the battery levels are considered to be integers multiple of @xmath222 . here",
    "we consider temporal independent bernoulli distributed energy arrivals at @xmath0 and @xmath1 , but similar analysis can be extended to other types of distributions , which will be discussed at the end of section [ subsec : fsmc ] .",
    "the discrete - time fsmc has the state space @xmath223 , where @xmath224 ( @xmath225 ) is the set of battery states of node @xmath226 .",
    "recall that @xmath227 is the set of possible packet transmission attempt states .",
    "thus , the state of the link at time @xmath8 is denoted by @xmath228 where @xmath229 and @xmath230 .    for the energy arrival processes ,",
    "a bernoulli model @xmath231 is considered . at the end of slot @xmath8 , @xmath232 and @xmath233 levels of energy",
    "are injected into the transmitter and the receiver with probability @xmath234 and @xmath235 , respectively . with probability @xmath236 and @xmath237 ,",
    "no energy is harvested .",
    "for example , with @xmath238 , their mean values are @xmath239 = \\frac{1}{2 } e_{s}^{\\max}$ ] and @xmath240 = \\frac{1}{2 } e_{d}^{\\max}$ ] .",
    "similar model is also used in @xcite for wireless sensor networks ( wsn ) .",
    "we also consider the correlation between the eh processes of @xmath0 and @xmath1 with correlation coefficient @xmath139 .",
    "therefore , the harvested energy pair in slot @xmath8 can be written as @xmath241 where @xmath242 .",
    "each of the probabilities @xmath243 can be calculated depending on @xmath244 , @xmath245 and @xmath139 with the following constraints : ( 1 ) @xmath246 and ( 2 ) @xmath247 , where the second constraint comes from our setting of changing @xmath248 to control @xmath249 , @xmath67 .",
    "denote the state transition probability matrix as @xmath250 , whose elements represent the probability of a transition from state @xmath251 to state @xmath252 , i.e. , @xmath253 where @xmath254 , @xmath255 and @xmath256 .",
    "let @xmath257 denote the kronecker delta function , as here three parameters are used .",
    "] from state @xmath258 to @xmath259 with an action @xmath260 $ ] taken in slot @xmath8 , with retransmission state @xmath57 , and @xmath261 for the ease of exposition , in the following we drop the node indexes @xmath0 and @xmath1 to consider one of the two nodes , e.g. , we use @xmath262 to denote the eh probability at each slot . for @xmath263 and @xmath264 , @xmath265 if a transmission successes . for @xmath266 and @xmath267 , or @xmath268 and @xmath269 , or @xmath270 and @xmath271 , @xmath272 if a transmission fails because an outage occurs . for @xmath266 and @xmath267 , or @xmath268 and @xmath269 , or @xmath270 and @xmath271 , @xmath273",
    "if a transmission fails due to insufficient energy states .",
    "note in above explanations , the probability @xmath274 is reflected in @xmath275 , where the action @xmath276 $ ] varies according to different power control policies as proposed previously .",
    "specifically , for disjoint / joint threshold - based policy , @xmath53 does not depend on @xmath57 .",
    "for @xmath1 , when the receiver detection is considered , @xmath277 is decided by ( [ pd - detect ] ) . when @xmath1 knows the policy of @xmath0 , @xmath277",
    "is decided by ( [ pd - fullpolicyknownatd ] ) , and @xmath277 takes zero value with probability @xmath193 and this must coincide with the calculation of @xmath278 . when both detection and processing are considered , @xmath277 is decided by ( [ pd - full ] ) with channel outage probability @xmath193 , which should also coincide with the calculation of @xmath278 .",
    "note that @xmath279 and @xmath280 represent the cases without receiver detection or processing .",
    "the stationary probabilities @xmath281 of this fsmc can be obtained by solving the balance equation , @xmath282 under the ack - based retransmission mechanism , an outage occurs if and only if a packet is still not transmitted successfully even after @xmath283 times of retransmission .",
    "we focus on the following problem of minimizing the average outage probability @xmath284 where the optimization variable @xmath64 is the power threshold for the disjoint / joint threshold - based policies and is the power levels threshold for the first attempt in the linear power policy , and the step @xmath70 is given . the average outage probability @xmath50 is decided in the following proposition .",
    "the average outage probability is given by @xmath285 where @xmath281 is the stationary probability that the link is in state @xmath286 , and @xmath287 is defined as @xmath288    notice that @xmath289 represents the probability that a transmission outage occurs in the previous slot , and @xmath290 represents the probability that a successful transmission is finished in the previous slot .",
    "otherwise , in the states @xmath291 where @xmath292 , the packet will be under retransmission in the current slot .",
    "assuming we have @xmath293 slots and @xmath294 to reach the stationary distribution , then the number of packets transmitted successfully is @xmath295 , and the number of packets transmitted with an outage is @xmath296 .",
    "thus , the average outage probability is given by the ratio of the packets that are not transmitted successfully even after @xmath283 times of retransmission : @xmath297 and we get the proposition .",
    "similarly , the average transmission times @xmath298 is given by a weighed function of the stationary probability @xmath281 .",
    "first define , @xmath299 and then @xmath300    we can now summarize the procedure for computing the outage probability @xmath50 and the average transmission times @xmath298 :    1 .   discretize the battery levels and the power consumption levels to generate the fsmc with state space @xmath301 , 2 .",
    "compute @xmath250 , where @xmath250 is the state transition probability matrix with entries defined in ( [ transitionmatrix ] ) , 3 .",
    "obtain the stationary probabilities @xmath281 by solving ( [ pi ] ) , 4 .",
    "obtain @xmath302 and @xmath298 from ( [ op ] ) and ( [ retimes ] ) , respectively .    in the infinite battery capacity case",
    "where @xmath303 , it is obtained that if @xmath304 and @xmath305 , the energy is always enough , and the battery states will have the behaviors @xmath306 ( @xmath225 ) . thus the state space will become a simpler set denoted as @xmath307 .",
    "the corresponding transition matrix @xmath308 is of dimension @xmath309 and the stationary distribution can be easily obtained as @xmath310 , \\label{fsmc_remark}\\ ] ] where @xmath311 . through ( [ fsmc_remark ] ) , @xmath312 ( which means @xmath47 times of transmission",
    "fail continuously ) where @xmath313 is obtained through ( 4 )",
    ". however , for the general value of @xmath2 , it is hard to get the closed - form of the stationary distribution @xmath281 .",
    "although our analytical results in section [ sec : infinte ] hold for general stationary and _ ergodic _ eh process , we restrict our fsmc analysis to _ i.i.d",
    ". _ eh sequences . because the main focus is on the correlation between the eh processes of @xmath0 and @xmath1 . according to the results in section [ sec : infinte ] , the temporal correlation of the eh process will not have notable impact on the outage performance when the battery capacity is large .",
    "nevertheless , temporal correlation may have severe impact on the outage performance with small battery .",
    "in fact , our fsmc formulation can be extended to tackle the temporal correlated eh process .",
    "specifically , the current system state @xmath301 has to be expanded to be five - dimensional , including @xmath314 and @xmath315 as additional state attributes .",
    "this however imposes high calculation complexity , which should be addressed in future studies .      for the disjoint threshold - based policy and the joint threshold - based policy requires carefully choosing the optimal threshold @xmath316 .",
    "for the linear power levels policy , one also needs to find the optimal starting point @xmath317 , for given @xmath47 and the interval @xmath70 .",
    "represents the discretized energy unit .",
    "] since it is not possible to directly get the closed - form solution of @xmath50 , a one - dimension local searching algorithm shown in algorithm 1 is implemented to find the optimal @xmath318 and the corresponding @xmath319 .",
    "this algorithm requires searching all the states of the energy storage at the transmitter and is of complexity @xmath320 .",
    "we also have the transition matrix @xmath321 , and the detailed @xmath250 will be different according to different power control policies .",
    "@xmath322 and @xmath323 ; calculate the transition matrix @xmath250 via ( [ transitionmatrix ] ) and determine the stationary distribution @xmath324 via ( [ pi ] ) ; obtain the outage probability @xmath325 via ( [ op ] ) ; @xmath326 ; @xmath327 ; @xmath328 ; @xmath329 ;",
    "in this section , numerical results are presented to show the performance of the proposed power control policies . to use fsmc ,",
    "the state space is discretized with the granularity of @xmath330mw , and thus the energy and power are of the same quantization granularity .",
    "we consider temporal independent bernoulli energy arrival with parameters @xmath331 and @xmath332mw@xmath333 , and @xmath334mw@xmath335 , @xmath210mw@xmath336 corresponding to the coded system @xcite@xcite . the noise power @xmath211mw .",
    "we also set @xmath337 , i.e. , @xmath280 .",
    "given the correlation coefficient @xmath139 , we can obtain @xmath243 from ( [ eq : mu ] ) .",
    "parameter @xmath338 corresponding to the drain efficiency of @xmath339 for a typical class - ab amplifier @xcite , and thus @xmath340 . for the retransmission mechanism , unless otherwise mentioned , we allow @xmath341 times of transmission ( @xmath342 times of retransmission ) , and thus the retransmission state set @xmath343 . in all sets of results ,",
    "the battery capacity is finite , so that the optimal power control policy parameters , i.e. , @xmath152 for joint / disjoint threshold - based policy , @xmath214 for linear power levels policy ( with @xmath344mw ) are decided by the fsmc - based local search in algorithm 1 .",
    "remark that the linear policy under evaluation in this section is with @xmath160 . to evaluate the gain provided by knowing the policy of @xmath0 at @xmath1",
    ", we provide corresponding results for joint threshold - based policies .",
    "in other policies , this setting is default , i.e. , @xmath1 does not know the policy of @xmath0 .     and detection cost @xmath22 , for @xmath345bit / hz / s , @xmath346 , @xmath212.,width=364 ]    first in fig .",
    "[ fig : bmax ] , the impact of battery capacity @xmath2 is observed .",
    "for all policies , the outage performance degrades when @xmath2 decreases .",
    "because of the energy overflow with finite battery , the effective energy that can be used is reduced , resulting in more outages due to power shortage . with receiver detection ,",
    "the energy at @xmath1 is used more efficiently , and thus we observe less outage with smaller value of detection cost @xmath22 .",
    "it is also shown that the linear policy is worse than the disjoint policy with small battery capacity .",
    "as the linear policy requires larger transmission power for retransmissions , small battery can not provide enough energy , so that the transmission probability @xmath347 for retransmissions @xmath348 is reduced , which degrades the performance . while for large battery , linear policy shows performance gain over disjoint policy , which coincides with our results for infinite battery in fig .",
    "[ fig : outagelower ] .     and detection cost @xmath22 , for @xmath345bit /",
    "hz / s , @xmath349mj , @xmath212.,width=364 ]    we then show the results of varying energy arrival correlation @xmath139 in fig .",
    "[ fig : rho ] .",
    "it is observed that energy arrival correlation helps improve the outage performance . because correlation has the effect of  matching \" the energy states of @xmath0 and @xmath1 , which can increase the probability that both nodes have enough energy to transmit and receive in the same slot . with infinite battery ,",
    "as shown in proposition [ prop : jointprob ] and theorem [ th : optimality2 ] , the performance of the joint policy is irrelevant to @xmath139 , but under finite battery , its performance still improves with increasing @xmath139 _ slightly_. as the battery capacity is only @xmath350 , linear power levels policy performs the worst .    in fig .",
    "[ fig : bmax ] and fig.[fig : rho ] , we also provide curves for the performance of disjoint policy when @xmath1 knows that @xmath0 is taking the threshold - based policy .",
    "it turns out that knowing the policy of @xmath0 at @xmath1 lets disjoint policy perform close to joint policy , and even better than joint policy when @xmath6 is small , and they are both insensitive to @xmath139 .",
    "the reason of their similar performance is that if @xmath1 knows the threshold of @xmath0 , its energy is saved by avoiding unnecessary receiving when channel undergoes deep fading , while joint policy saves the energy of @xmath1 by avoiding unnecessary receiving when @xmath0 is not transmitting .",
    "we should remark that which of them performs better should depend on system parameters including channel statistics , rate requirement and eh profiles .     for disjoint / joint threshold - based policies and @xmath73 for linear power levels policy , for @xmath345bit / hz / s , @xmath351mj , @xmath160 , and @xmath174 , @xmath212.,width=364 ]    to illustrate the procedure of searching for optimal threshold @xmath152 with algorithm 1 , in fig .",
    "[ fig : findps ] , the outage performance with different values of @xmath64 is shown .",
    "the optimal @xmath152 for each policy is labeled with a star symbol . since @xmath127 and",
    "the battery capacity is relatively large , i.e. , @xmath352 , the optimal thresholds are compared with those derived under infinite battery and no retransmission . for infinite battery with",
    "@xmath353bit / hz / s , according to theorem [ th : optimality1 ] , @xmath354mw for disjoint and joint threshold - based policies . while in fig .",
    "[ fig : findps ] , due to the quantization granularity and the existence of retransmission , the optimal @xmath152 is @xmath355mw and @xmath356mw for these two policies respectively .",
    "the case of disjoint policy is very close to our theoretical result , while it seems that joint policy is more sensitive to the existence of retransmission . with @xmath357bit",
    "/ hz / s , similar observations are made .",
    "please also note that the optimal starting power of the linear policy is smaller than @xmath152 of the disjoint policy , which confirms our intuition in section [ subsec : linear ] . with large battery ,",
    "the linear policy shows better performance than the disjoint policy , and the gain is more evident with smaller @xmath6 .",
    "[ fig : findps ] also shows the results for disjoint policy when @xmath1 knows the policy of @xmath0 .",
    "although the optimal outage probability is better than the default disjoint policy , the optimal threshold is the same , which coincides with corollary [ cor : optimality1 ] .",
    "and the corresponding average transmission times @xmath298 , with different maximum transmission times @xmath358 , for @xmath345bit / hz / s , @xmath351mj , @xmath160 , @xmath346.,width=355 ]    finally , we show the tradeoff between the average outage probability @xmath50 and the average transmission times @xmath298 in fig .",
    "[ fig4_1 ] .",
    "we change the number of maximum transmission times @xmath358 and get different pairs of @xmath359 , i.e. , the four points on each curve .",
    "when we set higher @xmath47 , @xmath50 goes down . for @xmath360 ,",
    "the linear policy shows better performance over the disjoint policy .",
    "we also try a smaller value of @xmath361mw , corresponding to uncoded system @xcite . in this case",
    ", the smaller @xmath159 , together with the smaller @xmath357bit / hz / s , provides relatively sufficient energy availability , the linear policy can achieve the best outage probability , with the cost of larger delay .",
    "we have investigated the outage minimization problem for a fading wireless link with eh transmitter and receiver .",
    "three power control policies are proposed , namely the disjoint threshold - based policy , joint threshold - based policy , and the linear power levels policy . for infinite battery and independent energy arrivals",
    ", we have proved that the two threshold - based policies are optimal among all retransmission invariant power control policies , with or without bsi sharing between @xmath0 and @xmath1 , respectively . specifically for the joint threshold - based policy ,",
    "the optimal threshold and its performance are independent of the energy arrival correlation @xmath139 between @xmath0 and @xmath1 .",
    "we also consider the receiver detection , receiver processing , and different levels of bsi and policy information sharing in our analysis . to analyze the performance with finite battery capacity ,",
    "we formulate the eh link into an fsmc , with which the optimal power thresholds can be calculated . with extensive numerical tests via fsmc , we have shown the performance of the three policies under different values of the battery capacity @xmath2 and the energy arrival correlation @xmath139 .",
    "it is found that larger correlation @xmath139 actually improves the outage performance .",
    "we also show that knowing the policy of @xmath0 at @xmath1 can enhance the performance of disjoint policy to be comparable to joint policy . unlike the infinite battery case , the linear policy shows its performance gain over disjoint policy only with larger battery capacity or lower @xmath6 .",
    "finally , the tradeoff between the average outage probability and average retransmission times is presented .",
    "possible extensions of this work are as follows .",
    "first , in this paper we consider _ i.i.d .",
    "_ block fading channel , while for markovian channel , @xmath0 can exploit the acks to estimate the channel gain and even learn the eh process of @xmath1 .",
    "mdp based schemes can be promising candidates .",
    "moreover , when the power consumption in the idle state ( when the transceiver is not transmitting or receiving ) and the switch - on / off delay are non - negligible , an appropriate node sleeping policy @xcite should be designed , and can be jointly optimized with the power control policy .",
    "denote the power control policy as a probability dense function ( pdf ) @xmath362 , since @xmath0 only has cdi . from ( [ eq : outage ] ) ,",
    "write the per - slot transmission _",
    "successful _ probability as the function of the total power consumption @xmath363 : @xmath364 for @xmath365 , otherwise @xmath366 .",
    "the objective is to find the optimal @xmath362 @xmath367 subject to @xmath368 .",
    "it is easy to check that @xmath369 is convex over @xmath370 $ ] and concave over @xmath371 , where @xmath372 .",
    "furthermore , by solving @xmath373 , as @xmath369 is differentiable on @xmath374 . ]",
    ", we get @xmath143 .. ] one can check that @xmath375 , and geometrically the line from @xmath376 to @xmath377 is a tangent to @xmath369 .",
    "we thus construct a function @xmath378 , \\\\",
    "f(p ) , & \\quad p \\in [ p_a , + \\infty ] ,      \\end{aligned } \\right.\\ ] ] which is a continuous and concave function as @xmath375 .",
    "the functions and points used in the proof are illustrated in fig .",
    "[ fig : lemma3proof ] . since @xmath379 ,",
    "then @xmath380 @xmath381 denote @xmath382 subject to @xmath368 .",
    "since @xmath383 is concave , for the random variable @xmath363 with pdf @xmath362 , we have ( * ? ? ? * ( 3.5 ) ) @xmath384 i.e. , @xmath385 and the equality holds when we set @xmath386 , where @xmath387 is the dirac delta function , which means that transmitter always transmits with @xmath150 power .",
    "let @xmath388 note @xmath389 satisfies @xmath390 .",
    "we then have @xmath391 where @xmath392 holds due to the definition of @xmath383 and @xmath389 , and @xmath393 holds since @xmath383 is linear in @xmath394 $ ] .",
    "therefore , according to ( [ eq : g_q_ineq ] ) and ( [ eq : def_q ] ) , @xmath389 is the optimal solution to ( [ eq : choutagemin ] ) .",
    "bit / hz / s , @xmath395 , @xmath396mw , @xmath173mw.,width=336 ]",
    "for policies that do not depend on @xmath57 , the objective is to maximize the per - slot successful probability @xmath44 . since energy arrivals @xmath75 and @xmath76 are independent , multiplying @xmath178 with @xmath369 ( defined in appendix [ app : lem : outagemin ] ) we get the successful probability of a transmission from @xmath0 as @xmath397 .",
    "as @xmath178 is constant , @xmath398 keeps the properties of @xmath369 used in the proof of lemma [ lem : outagemin ] and [ lem : outagemineh ] , and thus the optimal policy at @xmath0 is threshold - based .    to find the optimal threshold @xmath152 , we need to solve ( p1 ) in ( [ eq : p1 ] ) , where @xmath126 is given in theorem [ th : psi ] .",
    "note @xmath399 , @xmath21 , @xmath400 and @xmath401 are all positive constants .",
    "we study the following cases .",
    "case 1 : @xmath304 . in this case , @xmath402 is independent of @xmath403 .",
    "thus @xmath404 , and by obtaining the first - order derivative we have @xmath405 holds for @xmath406 .",
    "this further yields that @xmath407 is an increasing function in its domain @xmath408 .",
    "obviously , @xmath409 should hold .",
    "case 2 : @xmath410 . in this case ,",
    "@xmath411 . solving @xmath412 leads to @xmath413 by solving the above equation we have @xmath414 , \\label{roots}\\ ] ] and @xmath415 , and we can check that @xmath416 , which is not reasonable",
    "so we define @xmath417 , and it is guaranteed that @xmath418 . if @xmath419 , then @xmath420 .",
    "thus @xmath421 if @xmath422",
    ". otherwise , if @xmath423 , @xmath407 decreases in @xmath424 , and hence @xmath425 .    from the two cases above",
    ", we finally have @xmath426 .",
    "the proof is completed",
    ".      denote @xmath440 $ ] under any stationary power control policy not depending on @xmath57 at @xmath0 . due to the same reason as for ( [ eq : app - ineq ] ) , @xmath441 .",
    "if @xmath442 , following the proof of lemma [ lem : transprob ] , @xmath1 always has enough energy , and thus according to lemma [ lem : outagemineh ] , the optimal policy at @xmath0 is threshold - based . and according to theorem [ th : optimality1 ] , the optimal threshold @xmath443 .    if @xmath444 , consider a non - eh @xmath0 with average power constraint @xmath54 first .",
    "any policy at @xmath0 can be characterized as  transmit with power consumption pdf @xmath362 whenever @xmath445 \" , as @xmath0 knows @xmath56 . for the set of policies with the same @xmath178 ( the probability at any slot that @xmath445 ) , denote the corresponding power pdf as @xmath446 . following the similar proof procedure as in lemma [ lem : outagemin ]",
    ", the optimal @xmath446 must have the same structure as ( [ eq : optimalgp ] ) .",
    "therefore the optimal policy must be threshold - based .",
    "denote the transmission threshold as @xmath64 , following the same procedure in the proof of proposition [ prop : jointprob ] , we get the same transmission and receiving probability @xmath447 as for the eh @xmath0 case .",
    "therefore the optimal solutions of the two systems are the same , which indicates that for eh @xmath0 , the threshold - based policy is optimal .",
    "finally , solving @xmath448 will get the optimal @xmath152 in the theorem .",
    "first , if @xmath427 , then following the proof of lemma [ lem : transprob ] , one or both of the two nodes always have enough energy to transmit or receive .",
    "the problem degenerates to calculating the one side transmission or receiving probability . then according to lemma [ lem : transprob ] and [ lem : recvprob ]",
    ", we have @xmath428 .    if @xmath429 , due to the constraint that the used energy should be less than the arrived energy , we have @xmath430 where @xmath225 , so that @xmath431 without loss of generality , assume @xmath432 , then @xmath433 , which means @xmath1 always have enough energy to receive .",
    "the problem degenerates to calculating the transmission probability at @xmath0 , and thus from lemma [ lem : transprob ] , @xmath434 .    for the special case of @xmath435 , we must have @xmath436 . otherwise , according to ( [ eq : app - ineq ] ) , @xmath437 ( @xmath438 ) , which means that there will always be sufficient energy at both sides for transmission and receiving , which contradicts the fact that @xmath439 .",
    "we thus complete the proof of the proposition .",
    "similar to the proof of lemma [ lem : transprob ] , an energy packet queue @xmath86 is also constructed for node @xmath1 .",
    "the difference is that , in @xmath86 whenever an energy packet , of volume @xmath159 , is served by the  server \" , some energy with amount of @xmath449 gets back to the  source \" instantaneously with probability @xmath450 , where @xmath451 is the transmission probability of @xmath0 .",
    "this is because @xmath1 only spends @xmath23 when @xmath0 is not transmitting .",
    "recall that only when @xmath452 will @xmath1 try to detect , and otherwise the detection is useless . as a result ,",
    "the equivalent energy arrival rate is @xmath453 following similar procedures of proving lemma [ lem : transprob ] , if @xmath454 , then @xmath455 .",
    "this requires @xmath456p_d$ ] . otherwise , if @xmath457 , according to little s law @xcite , we have @xmath458 and so that @xmath459p_d}.\\ ] ] this completes the proof .",
    "similar to the proof of proposition [ prop : recvprob2 ] , an energy packet queue @xmath86 is constructed for node @xmath1 .",
    "but the mount of energy gets back to the  source \" is different .",
    "recall that only when @xmath460 will @xmath1 try to detect and receive , and otherwise the detection is useless . as a result ,",
    "the equivalent energy arrival rate is @xmath461 where @xmath451 is the transmission probability of @xmath0 , and : ( a ) represents the case that @xmath0 is not transmitting , and thus @xmath462 of energy is put back to the energy queue ; ( b ) represents the case that @xmath0 is transmitting but channel outage occurs ( with probability @xmath193 ) , and thus @xmath463 amount of energy is put back to the energy queue . following similar procedures of proving lemma [ lem : transprob ] , if @xmath464 , then @xmath455 .",
    "this requires @xmath465p_f$ ] . otherwise , according to little s law @xcite",
    ", we have @xmath466 and so that @xmath467p_f}.\\ ] ] this completes the proof .",
    "when @xmath1 knows that @xmath0 is taking the disjoint threshold - based policy with threshold value @xmath64 , @xmath178 is different from ( [ eq : recvprob ] ) in lemma [ lem : recvprob ] , while @xmath106 remains the same as ( [ eq : transprob ] ) in lemma [ lem : transprob ] . to calculate @xmath178 , similar to the proof of proposition [ prop : recvprob2 ]",
    ", an energy packet queue @xmath86 is constructed for node @xmath1 .",
    "but the mount of energy gets back to the  source \" is @xmath159 with probability @xmath193 , corresponding to the occurrence of channel outage . because @xmath1 knows the threshold power @xmath64 and the csi , if the channel is in outage , it is not necessary to spend any receiving energy . as a result ,",
    "the equivalent energy arrival rate is @xmath468 following similar procedures of proving lemma [ lem : transprob ] , if @xmath469 , then @xmath455 .",
    "this requires @xmath470p_d$ ] . otherwise , if @xmath471 , according to little s law @xcite , we have @xmath472 and so that @xmath473p_d}.\\ ] ] as a result , given @xmath474 , and since the events @xmath131 and @xmath132 are mutually independent , the corollary is proved",
    ".      denote the power control policy as a probability dense function ( pdf ) @xmath362 , and denote the per - slot transmission successful probability with transmission power @xmath363 as @xmath475 , where @xmath476 is the channel outage probability defined in ( [ eq : outage ] ) . in this way , the average transmission successful probability is @xmath477 following the way of deriving @xmath178 in appendix [ app : cor : psi2 ] , by replacing @xmath478 ( for disjoint threshold - based policy ) with @xmath479 ( for power control policy described by @xmath362 ) , we get @xmath480 then , the average successful probability @xmath44 becomes @xmath481 where the first equality holds since the channel condition and the choice of the transmission power are independent , as @xmath0 only has cdi . from this equation , it is easy to see that maximizing @xmath44 is equivalent to maximizing @xmath479 . as a result , according to lemma [ lem : outagemin ] and [ lem : outagemineh ] , the optimal policy at @xmath0 is threshold - based , and the optimal threshold @xmath152 is the same as the one in theorem [ th : optimality1 ] .",
    "i. krikidis , t. charalambous , and j. s. thompson ,  stability analysis and power optimization for energy harvesting cooperative networks , \" _ ieee signal processing letters _ , vol .",
    "20 - 23 , jan . 2012 .    c. huang , r. zhang , and s. cui ,  optimal power allocation for outage probability minimization in fading channels with energy harvesting constraints , \" _",
    "ieee trans .",
    "wireless commun .",
    "2 , pp . 1074 - 1087 , feb .",
    "2014 .",
    "o. ozel , k. tutuncuoglu , j. yang , s. ulukus , and a. yener ,  transmission with energy harvesting nodes in fading wireless channels : optimal policies \" , _ ieee j. sel .",
    "areas commun . _ ,",
    "29 , no . 8 , pp . 1732 - 1743 , sept .",
    "2011 .",
    "j. gong , s. zhou , and z. niu ,  optimal power allocation for energy harvesting and power grid coexisting wireless communication systems , \" _ ieee trans .",
    "61 , no . 7 , pp . 3040 - 3049 , jul .",
    "r. srivastava , c. e. koksal ,  basic performance limits and tradeoffs in energy - harvesting sensor nodes with finite data and energy storage , \" _ ieee / acm trans .",
    "networking _ , vol .",
    "4 , pp . 1049 - 1062 , aug .",
    "2013 .",
    "a. aprem , c. r. murthy , and n. b. mehta ,  transmit power control policies for energy harvesting sensors with retransmissions , \" _ ieee j. sel .",
    "topics signal processing _ , vol .",
    "895 - 906 , oct . 2013 .",
    "n. pappas , j. jeon , a. ephremides , and a. traganitis ,  optimal utilization of a cognitive shared channel with a rechargeable primary source node , \" _ j. commun .",
    "2 , pp . 162 - 168 , feb . 2012"
  ],
  "abstract_text": [
    "<S> this paper studies online power control policies for outage minimization in a fading wireless link with energy harvesting transmitter and receiver . </S>",
    "<S> the outage occurs when either the transmitter or the receiver does not have enough energy , or the channel is in outage , where the transmitter only has the channel distribution information . under infinite battery capacity and without retransmission , we prove that threshold - based power control policies are optimal . </S>",
    "<S> we thus propose disjoint / joint threshold - based policies with and without battery state sharing between the transmitter and receiver , respectively . </S>",
    "<S> we also analyze the impact of practical receiver detection and processing on the outage performance . </S>",
    "<S> when retransmission is considered , policy with linear power levels is adopted to adapt the power thresholds per retransmission . with finite battery capacity , </S>",
    "<S> a three dimensional finite state markov chain is formulated to calculate the optimal parameters and corresponding performance of proposed policies . </S>",
    "<S> the energy arrival correlation between the transmitter and receiver is addressed for both finite and infinite battery cases . </S>",
    "<S> numerical results show the impact of battery capacity , energy arrival correlation and detection cost on the outage performance of the proposed policies , as well as the tradeoff between the outage probability and the average transmission times .    </S>",
    "<S> energy harvesting , outage minimization , circuit power , power control , finite state markov chain . </S>"
  ]
}