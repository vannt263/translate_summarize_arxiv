{
  "article_text": [
    "the self - autonomous and inherent highly dynamic characteristics of mobile ad hoc networks ( manets ) make the routing schemes based on opportunistic transmission widely applied . among them , the two - hop relay algorithm which is first proposed by grossglauser and tse @xcite and its variants @xcite , have become a class of attracting routing protocols due to their simplicity and efficiency @xcite .",
    "the basic idea of this protocol is that the source node can transmit packets to the destination directly , or to a node ( served as a relay ) it encounters , later the relay node carrying the packet forward it to the destination node .",
    "thus , each packet travels at most two hops to reach the destination .    by now",
    ", a lot of work has been committed to studying the throughput capacity of two - hop relay algorithm in manets @xcite , @xcite-@xcite .",
    "grossglauser and tse ( 2002 ) @xcite studied the order sense of per node capacity and showed that it is possible to achieve a @xmath0 throughput by employing the node mobility , which is a substantial improvement for the static networks considered by gupta and kumar ( 2000 ) @xcite .",
    "( 2005 ) @xcite computed the exact capacity and the end - to - end queuing delay for a cell - partitioned manet , and a fundamental tradeoff between throughput capacity and delay has been developed .",
    "( 2006 ) @xcite proposed a global perspective for delay and capacity tradeoff in manets .",
    "they considered a general mobility model and related the nature of delay - capacity tradeoff to the nature of node motion .",
    "the throughput capacity with packet redundancy has been researched in @xcite , while the throughput capacity under power control has been examined in @xcite . for a detailed survey ,",
    "please see @xcite and the reference therein .",
    "it is notable that all available work mentioned above assumed the node buffer is infinite .",
    "however , this assumption will not hold for a realistic manet obviously . in @xcite , j. herdtner and e. chong",
    "have studied the throughput and storage tradeoff , and they showed that the limited relay buffer will degrade the throughput capacity . since they only provided a scaling law relationship , the exact throughput capacity of two - hop relay manets under finite relay buffer size remains largely unknown by now .    as a first step towards this end , in this paper",
    ", we analytically study the exact throughput capacity of two - hop relay manets with the consideration that the relay buffer of each node , which is used for storing other nodes packets , is strictly bounded .",
    "the main contributions of this paper are summarized as follows .    *",
    "considering the soure - to - relay transmission under finite relay buffer scenario , we carefully compute the arrival rate at the relay queue . by utilizing the _ occupancy probability _ technique",
    ", we exactly characterize the departure process of the relay queue . * based on the queuing process of the relay node , a finite - state _ ergodic markov chain _ model is constructed to obtain the limiting distribution of the relay queue . with this framework",
    ", we proceed to derive the exact throughput capacity under any relay buffer size . *",
    "extensive simulation results are provided to validate our new analysis model and explore how the throughput capacity varies with the relay buffer size and the number of nodes .",
    "the results indicate that the throughput capacity under finite relay buffer can not stay constant as the network size growing , which is quite different from the infinite buffer scenario .",
    "the remainder of this paper is outlined as follows .",
    "the system models and a modified two - hop relay scheme are introduced in section  [ section : preliminaries ] . in section  [ section :",
    "throughput ] , we develop the ergodic markov chain - based framework to fully characterize the queuing process of relay nodes and proceed to obtain the exact throughput capacity . the simulation results are provided in section  [ section : simulation ] .",
    "finally , we conclude this paper in section  [ section : conclusion ] .",
    "_ network model _ : the _ cell partitioned _ network model @xcite is adopted .",
    "the network is partitioned into @xmath1 non - overlapping cells of equal size . @xmath2",
    "mobile nodes roam from cell to cell over the network according to the independent and identically distributed ( i.i.d ) mobility model @xcite . with i.i.d mobility model , at the beginning of each time slot , each node selects a cell among the network uniformly and independently , then stays in this cell during this time slot .",
    "thus , i.i.d mobility model can be served as the limit of infinite mobility .",
    "further , we assume that time is slotted with a fixed length , and during each time slot , only one node in each cell can transfer exactly one packet to another node in the same cell .",
    "nodes located in different cells can not communicate with each other .",
    "we assume each node has a local queue and a relay queue .",
    "the local queue is used to store the self - generated packets and there is no constraint on it ; while the relay queue is used to store the packets from other nodes and the buffer size is set to be @xmath3 ( packets ) @xcite .",
    "the reason for this buffer assumption is elaborated in @xcite , where the ingress buffer and the internal buffer correspond to the local buffer and the relay buffer respectively .",
    "thus , the node model can be represented in fig .",
    "[ fig : queue_structure ] .        _ traffic model _ : we consider the traffic pattern widely adopted in previous studies @xcite , where @xmath2 is even and the source - destination pairs are composed as follows : @xmath4 , @xmath5 , @xmath6 , @xmath7 .",
    "thus , there are in total @xmath2 distinct unicast traffic flows , each node is the source of a traffic flow and meanwhile the destination of another traffic flow .",
    "the exogenous packet arrival at each node is a bernoulli process with rate @xmath8 packets / slot .      in this section ,",
    "we make a modification on the traditional two - hop relay algorithm , to be applicable under the finite relay buffer scenario .",
    "we consider that a source node encounters a relay node and try to send a packet , if the relay queue is full , this transmission fails leading to the packet loss and the energy waste . to avoid this phenomenon",
    ", we introduce a handshake mechanism before each source - to - relay transmission to confirm the relay buffer occupancy state , if the relay queue is not full , the transmission can be conducted ; else , the source node remains idle . at any time slot for each cell containing at least two nodes",
    ", the cell executes the modified two - hop relay ( m2hr ) algorithm which is summarized in algorithm  [ algorithm : m2hr ] .    with equal probability , randomly choose such a pair to do source - to - destination transmission .",
    "the source transmits the new packet to the destination .",
    "the source remains idle . with equal probability",
    ", randomly designate a node within the cell as the sender . independently",
    "choose another node among the remaining nodes within the cell as the receiver .",
    "flips an unbiased coin ; the sender conducts source - to - relay transmission with the receiver .",
    "the sender transmits that packet to the receiver .",
    "the sender remains idle .",
    "the sender conducts relay - to - destination transmission with the receiver .",
    "the sender transmits a packet to the receiver .",
    "the sender remains idle .",
    "in this section , we first introduce some basic probabilities . then",
    ", an _ irreducible ergodic _ markov chain - based framework is established to explore the occupancy distribution on the relay queue . in order to solve the markov chain",
    ", we further investigate the departure process of the relay queue .",
    "based on this framework , we proceed to derive the exact throughput capacity .      for a given time slot and a particular cell ,",
    "we denote by @xmath9 and @xmath10 the probability that there are at least two nodes and at least one source - destination pair in a cell , respectively",
    ". then , the same as @xcite , we have @xmath11    under the m2hr algorithm , we denote by @xmath12 , @xmath13 and @xmath14 the probabilities that a given node has a chance to conduct a source - to - destination transmission , source - to - relay transmission , and relay - to - destination transmission at a given time slot , respectively .",
    "then we have @xmath15 the derivations of probabilities @xmath12 , @xmath13 and @xmath14 are omitted here due to space limit , and please kindly refer to appendix b in @xcite for details .      under the m2hr algorithm ,",
    "each packet experiences at most two queuing processes , i.e. , the packet dispatching process at the local queue and the packet forwarding process at the relay queue ( if the packet can not be transmitted to the destination directly ) .",
    "_ local queue _ : due to the i.i.d mobility , the local queue can be represented as a bernoulli / bernoulli queue , where in every time slot a new packet will arrive with probability @xmath8 , and a service opportunity will arise with a corresponding probability @xmath16 which is determined as @xmath17 where @xmath18 denotes the probability that the relay queue is full . note",
    "that the bernoulli / bernoulli queue is reversible @xcite , so the output process is also a bernoulli flow with rate @xmath8 .    _ relay queue _ : since a specific packet from the output process of a local queue is transmitted to relay nodes with probability @xmath19 , each of the @xmath20 relay nodes are equally likely to encounter the source , and for each relay node there are in total @xmath20 independent output processes of local queues may arrive at its relay queue .",
    "we denote by @xmath21 the packet arrival rate at a relay queue when it is not full ( when a relay queue is full , its input rate is @xmath22 ) , then we have @xmath23 @xmath24    we denote by @xmath25 that the service rate when the relay queue contains @xmath26 packets and it is clear that @xmath27 for @xmath28 .",
    "thus , the relay queue can be modeled as a discrete markov chain as illustrated in fig .",
    "[ fig : state_machine ] and the corresponding one - step transition matrix of the relay queue occupancy process is given by        @xmath29,\\ ] ]    for this markov chain we have the following lemma .",
    "[ lemma : ergodic ] the limiting distribution of the relay queue occupancy process exists and is unique , and is equal to the stationary distribution .    for any state @xmath30 , @xmath31 , there exist @xmath32 and @xmath33 , such that @xmath34 and @xmath35 . for example , @xmath36 and @xmath37 .",
    "thus , any two states @xmath30 can _ communicate _ with each other , which is denoted by @xmath38 .",
    "this type of markov chain is called _ irreducible _ ( see , for example , definition 4.1 in @xcite or [ 13 , ch . 4 , p. 168 ] ) , and in this markov chain all the states are in the same class .",
    "from @xcite it follows that all the states are _",
    "we denote by @xmath39 that the period of state @xmath40 .",
    "note that @xmath41 , @xmath42 , and @xmath43 , for @xmath44 .",
    "thus , for any state @xmath45 , we have @xmath46 .",
    "the state @xmath40 and the markov chain are called _ aperiodic _ @xcite .",
    "since all the states are _ recurrent _ and _ aperiodic _ , the relay queue occupancy process is an _ irreducible _ _ ergodic _ markov chain . referring to [ 12 , ch . 5 ] ,",
    "the limiting distribution of the relay queue occupancy process exists and is unique , and is equal to the stationary distribution .",
    "we use @xmath47 to denote the limiting distribution of the relay queue . by lemma  [ lemma : ergodic ]",
    "we have @xmath48 @xmath49 combining with the normalization equation @xmath50 , the limiting distribution of the relay queue is given by @xmath51 where @xmath52 , @xmath53 .",
    "from the ( [ eq : pi_0 ] ) and ( [ eq : pi_k ] ) , we can see that in order to derive the limiting distribution of the relay queue , we need to compute the service rate @xmath25 when the relay queue is on state @xmath26 .",
    "we denote by @xmath54 the probability that the relay queue has @xmath26 packets and these packets are destined for @xmath40 different destination nodes , @xmath55 . due to the i.i.d mobility model",
    ", we have @xmath56    from the ( [ eq : mu_r_k ] ) , it is clear that in order to compute @xmath57 , we need to derive @xmath54 . to address this issue",
    ", we utilize the _ occupancy _ technique ( see , for example , [ 14 , ch . 1 ] ) .",
    "we represent the packets by stars and the @xmath20 destination nodes by the spaces between @xmath58 bars. for example , fig .",
    "[ fig : occupancy ] represents one packet is destined for the first node , no packet is destined for the second and third nodes and two packets are destined for the fourth .",
    "notice that @xmath20 nodes need @xmath58 bars , since the first and last symbols must be bars , only @xmath59 bars and @xmath26 stars can appear in any order .",
    "the number of all possible permutations @xmath60 is given by @xmath61 considering these packets are destined for @xmath40 different destination nodes .",
    "the number of permutations @xmath62 is given by @xmath63 according to the classical probability we have @xmath64 substituting ( [ eq : p_k^i ] ) into ( [ eq : mu_r_k ] ) we have @xmath65      _ definition : throughput capacity _ : for a manet under m2hr and with a given packet arrival rate @xmath8 , the network is called stable if the queue length in each node ( thus the average delay ) is bounded . the throughput capacity @xmath66 of the network is then defined as the maximum value of @xmath8 the network can stably support .",
    "for a manet with finite relay buffers , the throughput capacity under m2hr satisfies @xmath67    it is notable that @xmath68 and this equation contains the single unknown quantity @xmath69 .",
    "thus , given any packet arrival rate @xmath8 , by solving the equation we can obtain @xmath69 , and proceed to derive @xmath70 by ( [ eq : mu_s ] ) .    since the relay buffer size",
    "is strictly bounded by @xmath3 ( packets ) , then no matter what the input rate @xmath8 is , the relay queue is always stable . for @xmath71 , the average delay in the local queue",
    "is given by @xcite @xmath72=\\frac{1-\\lambda}{\\mu_{s}(\\lambda)-\\lambda}<\\infty,\\ ] ] thus the network is stable .",
    "when @xmath73 , for the bernoulli / bernoulli queue , the queue length will tend to infinity .",
    "thus , the network can not support the input rate stably .",
    "since @xmath74 , then @xmath66 is the throughput capacity of the network .",
    "in this section , we first provide the simulation results to validate our theoretical framework , and then we proceed to explore how the throughput capacity be influenced by the network parameters .      for model validation , a simulator in c++ was developed to simulate the packet delivery process in the concerned manet .",
    "we focus on a specific node and count its received packets over a period of @xmath75 time slots , to calculate the time - averaged throughput . besides the i.i.d mobility model , another realistic mobility model , the random walk model",
    "was also implemented in the simulator . with random walk mobility model , at the beginning of each time slot , each node selects a cell among its current cell and its @xmath76 adjacent cells with equal probability , then stays in it during this time slot .       of the local queue vs. packet generation rate @xmath8.,width=288 ]",
    "we fix the node number @xmath77 , the cell number @xmath78 , and consider three cases of @xmath79 , @xmath80 and @xmath81 .",
    "we increase the packet generation rate @xmath8 step by step , and calculate the service rate @xmath82 based on the analytical framework provided .",
    "the corresponding results are summarized in fig .",
    "[ fig : lambda_vs_mu ] .",
    "we can see that for all the three cases there , as @xmath8 increasing , the service rate @xmath82 monotonically decreases ( note that in the infinite buffer scenario , the service rate of local queue has no relationship with @xmath8 @xcite ) , and the curves @xmath83 and @xmath84 intersect with each other .",
    "the intersection points are the exact values of throughput capacity for @xmath79 , @xmath80 and @xmath81 , respectively .",
    "the results are @xmath85 , @xmath86 and @xmath87 , it indicates that the larger relay buffer size leads to a higher throughput capacity .    to validate our theoretical results , we summarize the simulated throughput performance of network scenario @xmath88 in fig .  [",
    "fig : throughput ] , where the throughput capacity @xmath66 is obtained by fig .",
    "[ fig : lambda_vs_mu ] and the system load @xmath89 is defined as the ratio between @xmath8 and @xmath66 .",
    "we can see that the simulated throughput linearly increases with @xmath89 until @xmath90 , when @xmath91 , the throughput no longer grows up and stays as a constant which is consistent with our theoretical analysis .",
    "it is interesting to observe from fig .",
    "[ fig : throughput ] that , the performance behavior under random walk mobility model is very similar to that under i.i.d mobility model . as shown in @xcite , for a cell - partitioned manet , the throughput capacity under i.i.d model is identical to those under non - i.i.d models , if these models follow the same - steady distribution .       vs. relay buffer size @xmath3.,width=288 ]     vs. number of nodes @xmath2.,width=288 ]    fig .",
    "[ fig : th_vs_b ] shows the relationship between the throughput capacity @xmath66 and the relay buffer size @xmath3 , under different settings of node number .",
    "the ratio between @xmath2 and @xmath1 is fixed by 2 . from fig .",
    "[ fig : th_vs_b ] , we can see that for all cases , @xmath66 monotonically increases with @xmath3 , which indicates that the manet really requires a sufficient relay buffer size to guarantee the throughput performance .",
    "a further careful observation is that when the buffer size is large , the increasing of the throughput capacity becomes smooth .",
    "it indicates that when the buffer size is large enough , if we continue to increase it , the performance gain will be little .",
    "it provides a guideline for the practical applications that it is effective to choose an appropriate buffer size to ensure the network performance as well as save the cost .",
    "we proceed to explore the relationship between @xmath66 and @xmath2 , where @xmath92 is fixed by 2 .",
    "the corresponding results are represented in fig .",
    "[ fig : th_vs_n ] .",
    "we can see that for both of the two cases there , @xmath66 monotonically decreases with @xmath2 increasing , and vanishes to 0 as @xmath2 tends to infinity .",
    "it is notable that the results are quite different from the throughput capacity under infinite buffer scenario , where @xmath66 can keep constant ( about 0.14 packets / slot ) with the network size increasing @xcite .",
    "it indicates that the throughput capacity can not be increased by utilizing the node mobility alone , it also requires that the relay buffer of each node increases with the network size .",
    "in this paper , we focus on the throughput capacity of manets under finite buffer scenario .",
    "a modified two - hop relay routing algorithm has been proposed .",
    "we have provided an ergodic markov chain - based framework to fully characterize the queuing process of relay nodes , and further derived the exact throughput capacity .",
    "extensive simulation results have been conducted to verify the efficiency of the new theoretical framework and show the relationship between @xmath66 and @xmath3 , @xmath2 .",
    "the results indicate that the throughput capacity can not stay constant under the finite relay buffer scenario and increasing the relay buffer size can upgrade the throughput capacity .",
    "r. urgaonkar and m. j. neely , `` network capacity region and minimum energy function for a delay - tolerant mobile ad hoc network , '' _ ieee / acm transactions on networking _ , vol .",
    "1137 - 1150 , august 2011 ."
  ],
  "abstract_text": [
    "<S> since the seminal work of grossglauser and tse @xcite , the two - hop relay algorithm and its variants have been attractive for mobile ad hoc networks ( manets ) due to their simplicity and efficiency . </S>",
    "<S> however , most literature assumed an infinite buffer size for each node , which is obviously not applicable to a realistic manet . in this paper , we focus on the exact throughput capacity study of two - hop relay manets under the practical finite relay buffer scenario . </S>",
    "<S> the arrival process and departure process of the relay queue are fully characterized , and an ergodic markov chain - based framework is also provided . with this framework , we obtain the limiting distribution of the relay queue and derive the throughput capacity under any relay buffer size . </S>",
    "<S> extensive simulation results are provided to validate our theoretical framework and explore the relationship among the throughput capacity , the relay buffer size and the number of nodes .    </S>",
    "<S> mobile ad hoc networks , finite buffers , two - hop relay , throughput capacity , queuing analysis . </S>"
  ]
}