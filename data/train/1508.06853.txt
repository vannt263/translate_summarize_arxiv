{
  "article_text": [
    "in the last years , the analysis of the human behavior has been of high interest to researchers because its important and different applications , such as : video surveillance @xcite , ambient assisted living @xcite , analysis of consumer s behavior @xcite , group interactions and many others . in particular , in the field of intelligent retail environments , numerous studies to investigate how shoppers behave inside a store and how businesses can change strategies to improve sales are emerging . in order to analyse the buyer activity and to solve general aspects of these problems ,",
    "techniques of artificial intelligence are used and , in particular , vision and image processing . in recent years , the visual analysis of dynamic scenes is one of the most important research activities in computer vision and image understanding  @xcite .",
    "when the visual analysis concerns moving scenes , the general method includes following steps : modelling of environments , motion detection , human identification , classification of moving objects , tracking , behavior understanding and data fusion from multiple cameras @xcite . in this manuscript , we focus the attention on the study of the consumer behavior in a real retail store , in order to recognize human actions @xcite , such as `` interacting with the shelf '' , `` picking or releasing a product '' , `` moving in a group '' , and `` knowing most visited areas in the store '' .",
    "consumers are main actors in the project because the goal is to increase their satisfaction and , therefore , enhance their purchases .",
    "currently , the identification of the shoppers behavior implements systems of human observation or video recording with traditional cameras .",
    "some tools , such as virtual stores or eye tracking provide incomplete and unrepresentative data because they are based on a small sample of buyers . as a result ,",
    "by univocally identifying shoppers and automatically analysing their interactions with the products on the shelves and their activities in different zones , our design considerably increases the value of the current marketing research methodologies .",
    "moreover , the main innovation concerns the original use of tracking system , and the other interesting point concerns the real experimental platform described in the results section combined with a vision based statistical approach .",
    "therefore , the project aims to propose an intelligent low - cost embedded system able to univocally identify customers , to analyse behaviors and interactions of shoppers and to provide a large amount of data on which to perform statistics .",
    "the automatic extraction of features that univocally recognize each subject in the scene and their movements , provides an important tool to identify important operations concerning marketing strategies .",
    "the application implements techniques of image processing such as : background subtraction , low - level segmentation , tracking and finding contours , in order to map a single shopper and/or a group of people within the store that interact with the products on the shelves , defining an i d unique to each visitor filmed by the camera , and classifying these interactions .",
    "paper is organized as following described : section  [ retail ] introduces the main aspects of marketing retail and consumer behavior .",
    "section  [ arch ] in detail describes the architecture of the system .",
    "the experimental setup is described in section  [ setup ] and the results are showed in section  [ results ] .",
    "last section  [ conc ] described conclusions and future works .",
    "the need to associate marketing retail and consumer behavior is born from the necessity to develop theories , strategies and management models compatible with customer behavior .",
    "the concept of shop is changed during years becoming not only the place where customers go to buy a specific product , but also the place where the customers go to spend part of their time .",
    "therefore , it is very important to study the consumer behavior so as to investigate the elements of the decision - making process of purchase that determines a particular choice of consumers and how the marketing strategies can influence the customer .",
    "empirical researches on consumer behavior are primarily based on the cognitive approach , which allows to predict and define possible actions that lead to the conclusion and to suggest implications for communication strategies and marketing .",
    "the basic principle of this approach is that individual actions are the result of information processing .",
    "the person collects the information , interprets , processes and uses them to take action .",
    "cognitive approaches can not completely explain the complexity of consumer behavior , which lives in a changing social and cultural context . according to this approach",
    ", the choice of purchasing comes from the ability of the products to generate specific sensations , images and emotions . according perreau  @xcite , five are the steps of consumer buying decision process :    1 .",
    "_ perception of the problem _ : the shopper recognizes a gap between the current situation and desirable situation , therefore perceives a need .",
    "the need can be described as a genuine request that comes from the inside and the satisfaction of which is necessary for the survival or to maintain a good level of psychophysical balance .",
    "research of information _ : in order to identify the satisfying solution for the perceived need , the consumer searches for knowledge in the memory , or if the information possessed by the individual is not sufficient , will seek additional data from external sources .",
    "evaluation of options _ : consists of selecting one of the available alternatives based on the criteria defined in the previous step .",
    "buying decision _ : after having identified the place and time .",
    "_ post purchase behavior _ : is the adequacy of the product purchased and thus the level of consumer satisfaction .    therefore , the marketing retail discipline defines the set of marketing strategies to point of sale oriented so as to attract the customer and to increase the activities of businesses . to achieve its objectives ,",
    "the retail marketing uses many techniques through several stages of planning by developing a marketing model for the shop - customer using the most important techniques , in the following described :    * visual merchandising is the activity of developing floor plans in order to maximize sales .",
    "the purpose is to attract , engage and motivate the shopper towards making a purchase . as means of visual merchandising",
    "is often widely used a planogram @xcite .",
    "* pricing is the activity of establishing the best price that is competitive for shoppers and at the same time with a good profit margin for the store . *",
    "sensory marketing , to make the shopping experience more pleasant and exciting for the client .",
    "* loyalty tools , to encourage the consumer to return to the store and to make new purchases .",
    "* non - conventional marketing concerns original ideas to push the customer to come into the store and trigger a word of mouth process .    the best way to know the behavior of the customer is to create an automatic system that , on the base of acquired knowledge , can predict the purchase of many products and also choices .",
    "therefore , the first goal of this work is to assign an i d unique to each person detected by a vertical mounted rgb - d camera , to track their activity within the store and then to detect their interactions with the shelf .",
    "the next step is to analyse and to classify the interactions : indicating if the product has been picked up and purchased or if the product has been put back after picked up .",
    "so , the proposed system will identify the activity of the consumer in front of the shelf .",
    "in order to satisfy both functional and non - functional requirements of the system , a single board computer ( for example , raspberry pi ) has been used , since it is sufficiently small and suited to manage all functions .",
    "functional requirements are : counting and classification of people , their interaction with the shelf , sending data to web server and data analysis ; while non - functional requirements are : place of installation and connection modes . as rgb - d sensor , asus xtion pro live has been chosen due to its smaller dimensions than microsoft kinect , and the power supply is provided only by usb port .",
    "it does not need an additional power .",
    "figure [ general - scheme ] shows the general scheme of the implemented system and the interactions between the components .",
    "the system consists of six devices , listed below :    1 .",
    "single board computer : is a complete computer built on a single circuit board , with microprocessor(s ) , memory , input / output ( i / o ) and other features required of a functional computer .",
    "single - board computers were made as demonstration or development systems , for educational systems , or for use as embedded computer controllers .",
    "asus xtion pro live : is composed by an infrared sensor , a rgb sensor and 2 microphones . it is able to provide in output a rgb representation of the scene and also allows to reconstruct a depth map of the same . in the depth map the value of each pixel",
    "codifies the distance of each element from 3d scene .",
    "3 .   wireless adaptator .",
    "4 .   sd / microsd memory card 8 gb speed 10 .",
    "hub usb 2.0 : has the task of ensuring the supply of the rgb - d sensor .",
    "router 3g/4 g wireless .",
    "the single board computer uses a sd memory card where debian operating system is installed allowing an easy configuration of rgb - d sensor of asus xtion pro live compiling following modules : openni library and primesense sensor driver .",
    "the rgb - d sensor is installed ( fig .",
    "[ view - system ] ) in a top view configuration at three meters of height from the floor .",
    "it visualizes a maximum area ( shopper tracking area ) of 1.8 m x 3.2 m , but the shelf area ( shelf tracking area ) , that has a height of two meters , results smaller than this .",
    "the system implements the algorithm that calculates the interactions map between the people in the store and the shelf , sending successively data to a database .",
    "trough a pc , it is possible to connect a smartphone to the database and to visualize the state of system and other interesting information .",
    "figure [ steps ] represents the block diagram that identifies the main steps of the algorithm .",
    "the input is the image detected by the camera and the output is the typology of interaction between the user and the products on the shelf .        in the first step ,",
    "the system acquired the streaming video from the rgb - d sensor .",
    "after this , the background subtraction method is implemented , that is one of the most commonly used algorithms for detection of moving objects within a sequence of images .",
    "this approach is reliable since each pixel also maintains the depth information , that is not available with a rgb image and so it allows to detect the distance of each blob .",
    "moreover , in order to avoid false detection of objects ( false positives ) , the background image is dynamically updated .",
    "after the background subtraction , a threshold value is defined that allows to discriminate positive signals that indicate moving objects , by false positives due to background noise , this method is called segmentation . another important step consists of the object detection where , for each significant blob , the boundary and the maxima points are found , corresponding to the head of the person . if these points are surrounded by a region of the lowest points comparable to jump head - shoulder of a human then is a valid blob @xcite .",
    "the next phase is the object tracking that recognizes the pathways of different blobs along the frames . in other words , in this phase ,",
    "each blob is recognized and tracked within the streaming video . for each person",
    ", the height is determined verifying that this is in the neighborhood of the height of the person in the previous frame .",
    "this method is easy but very effective since it is based on the depth image ; moreover it is not subject to rapid changes in the forms , allowing a good and reliable tracking .",
    "figure [ frame ] shows how the people are tracked between two successive frames ( frame _ i-1 _ and frame _ i _ ) . in both frames , the same identifier ( @xmath0 )",
    "detects the same blob , tracked between frames , so each identifier univocally identifies a person . in this phase of the work ,",
    "users are not tracked across the sensors , but we retain that this approach must be investigated in future , so that to each visitors maintains a i d unique during the entire visit to the store .",
    "the last step of the algorithm provides the find interactions procedure .",
    "when a person has a contact with the shelf , the associate blob is inside the shelf zone .",
    "then , it is possible to detect the exact point of contact by means the definition of common 3-dimensional ( xyz ) system coordinates .",
    "the shelf zone , that is defined by user in a configuration file , is formed by three parameters ( x shelf dist sx , x shelf dist dx and y shelf dist ) as also showed in the following figure [ shelfzone ] .",
    "when the people interact with the shelf can be presented three different situations , classified as follows :    1 .",
    "_ positive _ : when the product is picked up from the shelf .",
    "_ negative _ : when the product is taken and then repositioned on the shelf .",
    "neutral _ : if the hand exceeds the threshold without taking anything .",
    "the template matching method has been used to identify and to classify the interactions between the people and the shelf .",
    "so , when there is the first contact , the position of the hand in the rgb image is saved , and the same operation occurs when the interaction ends , in order to compare the first image and the final image . if there is a significant correspondence , the interaction is neutral , since there is not an important difference between the first and final image .",
    "otherwise , the interaction can be positive or negative . to identify the type of interaction , the area of the blobs , that is present in the contours , between the two images has been considered .      this architecture implements a function that displays an interactions map on the screen , during the execution of the program .",
    "this is very important because in real time is possible to view the information in which area of the shelf there have been contacts .",
    "figure [ heatmap ] shows an example of the interactions map .",
    "this function draws a colored ball corresponding to the point of contact , on a planogram previously loaded by the user .",
    "the color of the ball depends on the type of interaction ( green = positive , red = negative and yellow = neutral ) .",
    "this function is used during the debugging phase , in fact all data are saved in a database for later analysis .",
    "the development of the procedure to verify the performances of the system has been realized thanks to the collaboration of grottini lab that provided the material and , moreover , allowed to test the system in their laboratory and successively in a real store , partner of grottini lab .",
    "the collaboration with the partner has been very useful to decide the arrangement of the system , according to functional strategic locations for sales and for the input monitoring . all the system has been installed on a panel in the suspended ceiling of the store .",
    "each system gives in output a significant amount of data that are stored in a database , so that they can be successively analyzed to extract indicators .",
    "the final test in the real store has been realized installing four rgb - d cameras for a time period of three months , in order to obtain significant and real data .",
    "the cameras monitored the entrance ( camera 1 ) , the bleach zone ( camera 2 ) , the perfumes zone ( camera 3 ) and the shampoo zone ( camera 4 ) . the choice to put a camera near the entrance allowed to exactly count the number of people who entered the store .",
    "the indicators that are useful to evaluate the shopper behavior and that can help the store staff to understand their preferences and finally , to increase the sales , are :    * total number of visitors ; * total number of shoppers ; * number of visitors in a particular zone ; * number of visitors interacting with the shelf ; * number of interactions for each person ; * number of visitors becoming shoppers ( sales conversion ) ; * average visit time .    some indicators that consider the interactions can be :    * number of products picked up ; * number of products relocated on the shelf ; *",
    "number of products touched ; * duration of interactions ; * average interaction time ; * number of interactions for product and for category .",
    "this section presents some experimental results aimed at highlighting the performances of the system in a real environment .",
    "the system extracts a high number of parameters , we retain that the most significance to show how it behaves in a real situation are presented in the following graphs .",
    "[ results ]    5 cm     5 cm     5 cm     in the three figures we showed the average trend of some important parameters referred to a day of a week .",
    "figure [ fig:1a ] shows the trend of the average time in seconds of visitors in the bleach zone .",
    "observing the graph , the number of visitors is low during the early hours of day ( from 8:30 to 9:30 ) and also during the central hours of day ( from 12:30 to 14:30 ) probably due to less time for making purchases because closer to working time .",
    "the other graph that highlights an interesting data is showed in fig .",
    "[ fig:2b ] , which it indicates the trend of the number of visitors always in the bleach zone . from 12:30 to 13:30 , in that area , the visitors are 20 on average .",
    "this data implies a review of sales strategies , through alternatives marketing solutions as , for example , a more pronounced sign or a temporary closure during the lunchtime .",
    "the last figure [ fig:3c ] indicates the percentage of visitors that have had at least one interaction with the shelf where the bleach is located .",
    "visitors that have picked up a product or have had a contact with the shelf have been 27% on average . in order to evaluate the performance of the integrated system that we realized , we compared the number of interactions detected by the system and the real interactions physically determined , by obtaining a reliability factor near to 96% .",
    "the system quite correctly recognize if a visitor crosses along the zone without any stop in front of the shelf , or if he interacts with it .",
    "moreover , the interactions map gives additional visual information on the typology of action that the visitor performed becoming a potential buyer .",
    "in this work , the goal is to propose an automatic and intelligent system able to analyse and to classify the behavior of customers within a retail store .",
    "this system received many interest of retailers because , since from the extracted data , they can derive useful information about the behavior of the customer in front of a shelf . with this technology , it is possible to measure which area of the shelf attracts the attention of the customer , in which shelf to place the products in launch phase , how long the customer remains opposite the shelf and which areas are most visited . from the indicators extracted from the system",
    "the retailers can employ a number of marketing strategies in order to attract the customers attention . in the experimental phase ,",
    "the test of the system in a real environment has provided very interesting results .",
    "in particular the architecture is stable , easy to install and especially convenient due to the low cost components .",
    "the data provided by the system , that are stored in a database , are very reliable and responsive to the real situation .",
    "in fact , in the analysing phase the data , when the interaction is positive , it is possible to correctly identify the product that the customer has picked up .",
    "the system ensures a rather high reliability , especially in an ideal condition in which the shelves are those considered to arm height . in the future , the accuracy of the system will be improved independently by the position of the product on the shelf and the consumer position .",
    "in addition , the optimization of the image processing algorithm is required , in order to implement an effective procedure of detection and tracking of the shoppers in different areas of the store .",
    "100 t.  ko , co.  raytheon and va .",
    "arlington , `` a survey on behavior analysis in video surveillance for homeland security applications '' , applied imagery pattern recognition workshop , 2008 .",
    "37th ieee , pp . 1 - 8 , 15 - 17 oct .",
    "m.  cristani , r.  raghavendra , a.  del bue , and v.  murino , `` human behavior analysis in video surveillance : a social signal processing perspective '' , neurocomputing vol.100 special issue : behaviours in video , pp .",
    "86 - 97 , 16 january 2013 .",
    "e.  frontoni , a.  mancini and p.  zingaretti , `` rgbd sensors for human activity detection in aal environments '' , living italian forum 2013 longhi , s. , siciliano , p. , germani , m. , monteri , a. ( eds . ) , 300 p. 50",
    "available formats : ebook isbn 978 - 3 - 319 - 01118 - 9 , due : july 31 , 2014 .",
    "e.  frontoni , p.  raspa , a.  mancini , p.  zingaretti and v.  placidi , `` customers activity recognition in intelligent retail environments '' lecture notes in computer science ( including subseries lecture notes in artificial intelligence and lecture notes in bioinformatics ) , 8158 lncs , pp .",
    "509 - 516 , 2013 .",
    "a.  ascani , e.  frontoni , a.  mancini and p.  zingaretti , `` feature group matching for appearance - based localization '' , ieee / rsj 2008 international conference on intelligent robots and systems  iros 2008 , nice , 2008 . v.  ferrari , m.  marin - jimene , and a.   zisserman , `` pose search : retrieving people using their pose '' , international conference on computer vision and pattern recognition ieee / cvpr , pp . 1 - 8 , 2009 . c.  desai , d.  ramanan , and c.  fowlkes , `` discriminative models for static human - object interactions '' , computer vision and pattern recognition workshops ( ieee / cvprw ) , pp . 9 - 16 , 2010 .",
    "t.  brox , l.  bourdev , s.  maji and j.  malik , `` object segmentation by alignment of poselet activations to image contours '' , international conference on computer vision and pattern recognition ieee / cvpr , pp . 2225 - 2232 , 2011 .",
    "a.  farhadi , i.  endres , d.  hoiem and d.  forsyth , `` describing objects by their attributes '' , international computer on vision and pattern recognition , ieee / cvpr , pp .",
    "1778 - 1785 , 2009",
    ". l.  bourdev and j.  malik , `` poselets : body part detectors trained using 3d human pose annotations '' , international conference on computer vision ieee / iccv , pp .",
    "1365 - 1372 , 2009 .",
    "g.  csurka , c.  bray , c.  dance and l.  fan , `` visual categorization with bags of keypoints '' . workshop on statistical learning in computer vision  , eccv , pp",
    ". 1 - 22 , 2004 .",
    "p.   felzenszwalb , r.   girshick , d.   mcallester and d.   ramanan , `` object detection with discriminatively trained part based models '' , ieee transactions on pattern analysis and machine intelligence , vol .",
    "9 , pp . 1627 - 1645 , 2010 .",
    "a.  gupta , a.  kembhavi , and l.  davis , `` observing human - object interactions : using spatial and functional compatibility for recognition '' , ieee transactions on pattern analysis and machine intelligence vol .",
    "10 , pp . 1775 - 1789 , 2009",
    ". f.  perreau , `` the forces that drive consumer behavior and how to learn from it to increase your sales '' , 2013 , theconsumerfactor.com .",
    "k.   mankodiya , r.  gandhi , and p.  narasimhan , `` challenges and opportunities for embedded computing in retail environments '' , lecture notes of the institute for computer sciences , social informatics and telecommunications engineering , vol .",
    "102 , pp 121 - 136 , 2012 .",
    "c.  migniot and f.  ababsa , `` 3d human tracking from depth cue in a buying behavior analysis context '' , lecture notes of the institute for computer sciences , computer analysis of images and patterns , vol .",
    "8047 , pp .",
    "482 - 489 , 2013 ."
  ],
  "abstract_text": [
    "<S> the aim of this paper is to present an integrated system consisted of a rgb - d camera and a software able to monitor shoppers in intelligent retail environments . </S>",
    "<S> we propose an innovative low cost smart system that can understand the shoppers behavior and , in particular , their interactions with the products in the shelves , with the aim to develop an automatic rgb - d technique for video analysis . </S>",
    "<S> the system of cameras detects the presence of people and univocally identifies them . through the depth frames , </S>",
    "<S> the system detects the interactions of the shoppers with the products on the shelf and determines if a product is picked up or if the product is taken and then put back and finally , if there is not contact with the products . </S>",
    "<S> the system is low cost and easy to install , and experimental results demonstrated that its performances are satisfactory also in real environments . </S>"
  ]
}