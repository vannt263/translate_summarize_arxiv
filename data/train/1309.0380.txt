{
  "article_text": [
    "a polarimeter is an instrument that measures the polarization of light to gain additional information compared to what simple intensity measurements reveal . by measuring how the polarization of light is altered after being reflected from a surface ,",
    "the technique is often referred to as ellipsometry .",
    "the need for fast broadband mueller matrix ellipsometers and stokes polarimeters result in challenging design problems when using active polarization modulators that are strongly dispersive . although designs based on _",
    "e.g. _ the fresnel bi - prism and alike are nearly achromatic , these are not well suited for neither imaging application nor high speed . in the case of polarimeters and mueller matrix ellipsometers based on liquid crystal modulators ,",
    "the direct search space may become huge @xcite and standard optimization methods will evidently result in local minima far away from the optimum . an efficient genetic algorithm ( ga ) computer code",
    "was recently developed in order to design and re - optimize complete broadband stokes polarimeters and mueller matrix ellipsometers ( mme ) @xcite .",
    "this code is now used to search systems generating and analyzing optimally selected polarization states , in order to reduce noise propagation to the measured mueller matrix .",
    "although the ga code was initially motivated by the challenging task of searching the components , states and azimuthal orientations for optimally conditioned broadband liquid crystal based polarimeters  @xcite , the software is written in a versatile manner in order to handle general polarimeters based on any polarization changing components .",
    "for small scale production , we also propose that the ga algorithm can be used to re - optimize the design due to imperfect polarization components , _",
    "e.g. _ due to small deviations in thickness of retarders from manufacturer .",
    "finally , it is noted that the addition of any additional non - trivial polarization altering components in the polarimeter , such as mirrors and prisms also require a re - optimization , which can easily be handled by the ga algorithm , as long as the dispersive properties of such components have been characterized in advance .",
    "we have chosen to use a classical ga @xcite to optimize the designs .",
    "we present here the optimization of a polarimeter based on ferroelectric liquid crystals ( flc ) .",
    "such a system was first proposed by gandorfer  @xcite and jensen and peterson  @xcite , and has the advantage of being fast  @xcite and having no moving parts , which is an advantage for imaging applications . a multichannel spectroscopic mueller matrix ellipsometer based on this technology",
    "is also commercially available ( _ mm16 , horiba yvon jobin _ ) , where this latter system was originally designed for the 430 - 850 nm wavelength range .",
    "the flc system is based on optical components which are well described  @xcite , but the overall performance of the polarimeter depends on these simple components in a complex manner and traditional optimization routines will be hampered by local minima and the large search space .",
    "a genetic optimization algorithm will move out of local minima and might find better solutions , resulting in a polarimeter design with less noise amplification on a broader spectral range .",
    "we here propose several designs , but have as an example here restricted ourselves to only implement small modifications to the commercial mm16 system .",
    "furthermore , we demonstrate how the ga algorithm may be used in small scale production , where we may simply re - optimize the design in the case of an off - specification component .",
    "a schematic drawing of a polarimeter , ( a ) shows a general polarimeter where the polarization state of incident light is analyzed by the polarization state analyzer and a light intensity detector . in ( b )",
    "the components of a polarization state analyzer is exemplified through a combination of two or three flcs and waveplates  ( wp ) and a linear polarizer . ]",
    "the complete polarization state of light , including partially polarized states , can be expressed concisely using the stokes vector , which completely describes the polarization state with four real elements  @xcite : @xmath0 where the notation @xmath1 denotes time average over the in general quadratic time dependent orthogonal electric field components ( @xmath2 and @xmath3 ) and phase ( @xmath4 ) .",
    "the change of a polarization state can be described by a @xmath5 real - valued transformation matrix called a mueller matrix , connecting an incoming stokes vector @xmath6 to an outgoing stokes vector @xmath7 , @xmath8 the mueller matrix can describe the effect of any linear interaction of light with a sample or an optical element .",
    "polarization effects contained in a mueller matrix could be diattenuation ( different amplitude transmittance or reflectance for different polarization modes ) , retardance ( _ i.e. _ changing @xmath9 ) , and depolarization ( which increases the random component of the electric field ) .",
    "a stokes polarimeter consists of a polarization state analyzer ( psa ) capable of measuring the stokes vector of a polarization state , by performing at least four intensity measurements at different projection states . for a given state @xmath10",
    ", the polarization altering properties of the psa can be described by its mueller matrix @xmath11 , which can be found as the matrix product of the mueller matrices of all the optical components in the psa .",
    "these components are a linear polarizer , and a number of phase retarders ( _ e.g. _ flcs and waveplates ) .",
    "an flc is a phase retarder which can be electronically switched between two states .",
    "the difference between the states corresponds to a rotation of the fast axis by @xmath12 ( @xmath13 and @xmath14 ) . by using a linear polarizer and two flcs as a psa",
    ", one can generate @xmath15 different projection states , by using three flcs one can generate @xmath16 states , _ etc_.    if an unknown polarization state with stokes vector @xmath17 passes through the psa , for a given projection state @xmath18 , as given in equation   the detector will measure an intensity @xmath19 depending only on the first row of @xmath11 , @xmath20 and can be considered to be a projection of @xmath17 along a stokes vector equal to @xmath21 , where @xmath22 denotes the transpose .",
    "these stokes vectors are organized as rows in the system matrix @xmath23 , which when operated on a stokes vector gives @xmath24 where @xmath25 is a vector containing the intensity measurements at the different projection states .",
    "the unknown stokes vector can then be found by inverting @xmath23 , @xmath26 .",
    "the noise in the intensity measurements @xmath27 will be amplified by the condition number  ( @xmath28 ) of @xmath23 in the inversion to find @xmath17  @xcite .",
    "therefore @xmath28 of a polarimeter should be as small as possible  @xcite , which correspond to doing as independent measurements as possible ( _ i.e. _ to use projection states that are as orthogonal as possible ) . the condition number of @xmath23 is given as @xmath29 , which for the 2-norm is equal to the ratio of the largest to the smallest singular value of the matrix  @xcite .",
    "the best condition number that can be achieved for a polarimeter is @xmath30  @xcite .",
    "if four optimal states can be achieved , no advantage is found by doing a larger number of measurements with different states , compared to repeated measurements with the four optimal states  @xcite .",
    "if , however , these optimal states can not be produced ( @xmath31 ) , the condition number , and hence the error , can be reduced by measuring more than four states . for an flc based polarimeter",
    "this can be done by using three flcs followed by a polarizer as the psa , with up to three waveplates ( wp ) coupled to the flcs to reduce the condition number ( see figure   [ fig : polarimeter - sketch ] ) , or components with more than two states , such as liquid crystal variable retarders ( lcvr ) . in this case",
    "@xmath23 will not be a square matrix , and the _ moore - penrose pseudoinverse _ is then used to invert @xmath23  @xcite .    to measure a mueller matrix of a sample ,",
    "it is necessary to illuminate the sample with at least four different polarization states .",
    "the stokes vectors of these states can be organized as columns in a polarization state generator ( psg ) system matrix @xmath32 .",
    "the product @xmath33 gives the resulting four stokes vectors after interaction with the sample , they are then measured by the psa , yielding the intensity matrix @xmath34 .",
    "the mueller matrix can then be found by multiplying the expression by @xmath35 and @xmath36 from each side , @xmath37 . for overdetermined psa and psg @xmath38 and @xmath39",
    "are not square , the more - penrose pseudo - inverse can then be used to find the best inverse .",
    "the psg may be constructed from the same optical components and has the same optimum configuration as the psa .",
    "we have already established that @xmath28 should be as small as possible in order to reduce noise in the polarimetric measurements .",
    "it is a fairly trivial exercise to optimize @xmath28 for a single wavelength .",
    "however , there are two sources of wavelength dependence of the optical properties of the components",
    ".    one of these is the explicit wavelength dependence of the retardance @xmath40 , which can be calculated as  @xcite @xmath41 where @xmath42 is the physical thickness of the component ( _ e.g. _ waveplate or flc ) , @xmath43 is the vacuum wavelength of the light , and @xmath44 is the birefringence of the material .",
    "birefringence is the difference in refractive index between the fast axis ( index of refraction @xmath45 ) and the slow axis ( @xmath46 ) , _ i.e. _ @xmath47  @xcite .",
    "there is an explicit wavelength dependence in eq .  , which complicates the design of the psa .",
    "a weaker but still important effect is the wavelength dependence of the birefringence , _",
    "i.e. _ @xmath48 .",
    "both of these effects are taken into account by using experimental data for the retardance  @xcite .    to evaluate the performance of a polarimeter design",
    ", we compare the inverse condition number ( @xmath49 ) to the theoretically optimal value ( @xmath50 ) . the argument for using @xmath51 rather than",
    "@xmath28 is that @xmath52 while @xmath53 ; the latter range is more numerically convenient . in detail , we define an `` error function '' ( @xmath54 ) as @xmath55 in the above equation , we typically use @xmath56 , with @xmath57 and @xmath58 nm . it is , of course , possible to choose other discretization schemes for @xmath59 : for some applications , one can _ e.g. _ be interested in optimal performance near a few spectral lines ( wavelengths ) .",
    "we take @xmath60 to the power of four to punish unwanted peaks in @xmath28 more severely . as gas",
    "conventionally seek to maximize the fitness function , we define our fitness function @xmath61 as @xmath62 as @xmath54 will never be zero in practice , there is no need to add a constant term in the denominator .",
    "the fitness function does not carry any physical significance on its own ; it is simply an overall measure of how well the polarimeter can measure along orthogonal polarization states for the chosen wavelengths .",
    "the ga was based on the open python library pyevolve  @xcite , and was written to handle any kind of optical components .",
    "we have however concentrated our efforts on systems based on liquid crystals ( and in particular flcs ) as polarization modulators , with fixed waveplates `` sandwiched '' between them , this coupling of waveplates and flcs enables the achromatic design .",
    "the designs we set out to find was one based on three flc retarders and three fixed waveplates , and one based on two flc retarders and two fixed waveplates .",
    "each flc has two variables , namely the normalized thickness @xmath63 ( defined in eq .  , influencing the retardance @xmath40 ) and its orientation angle @xmath64 .",
    "the same is true for the fixed waveplates .",
    "this yields 12- and 8-dimensional search spaces : six and four components with two variables each .",
    "[ sub : representation ] in the ga , polarimeter designs are represented using a traditional binary genome .",
    "each component is assigned a number of bits for @xmath64 and a number of bits for @xmath63 .",
    "@xmath64 is the simplest case , as its possible values are limited : the best achievable alignment accuracy is estimated to @xmath65 , and @xmath66 .",
    "this means that @xmath67 bits per component for the variable @xmath64 is sufficient . for @xmath63",
    ", one should choose a minimum and maximum value according to which components can be realistically purchased . here , too , is the experimental resolution somewhat coarse , so that one does not need a large number of bits for its representation ( @xmath67-@xmath68 bits is sufficient ) .",
    "after determining @xmath63 and @xmath64 for each of the six or four components , we proceed by determining the full transfer matrix of the psa , @xmath69 for each discrete wavelength @xmath70 and each projection state @xmath18 . as described in section  [ sec : theory ] , one can determine the condition number @xmath71 for @xmath23 from the transfer matrices @xmath72 .",
    "the first generation was initialized by generating genomes with the bits chosen randomly with a uniform distribution .    initially , we let component ordering be a variable in our genome . in that case",
    ", the first few bits of the genome would determine the ordering of the components .",
    "this was done by interpreting these bits as the index in a list of components . however , the best results from initial simulation runs almost always had the same component ordering as older `` non - genetic '' designs  @xcite .",
    "hence , we removed this feature to speed up convergence .",
    "[ sub : genetic operators ] the genetic operators that were used are the well known ones for binary genomes  @xcite . for mutation",
    ", the simple bit - flip operator was used ; _ i.e. _ flipping @xmath73 or vice versa .",
    "the mutation rate per individual was typically set to @xmath74 per generation .",
    "crossover was performed by multi - point crossover .",
    "experience indicates that two crossover points combined with a crossover rate of @xmath75 gives the best convergence performance .",
    "the selection protocol we used was tournament selection with @xmath76 individuals in the tournament pool and @xmath77 probability of an `` underdog '' selection .",
    "the elitism rate was set to @xmath78 individual per generation .",
    "it should be noted that depending on the number of components and , hence , the genome length , the exact rates may have to be adjusted somewhat for optimal performance .    in the final simulations a population of @xmath79 individuals evolved over @xmath80 generation .",
    "several equivalent simulation runs were performed with different initializations of the random number generator . as the theoretically optimal performance for realistic materials is not known ,",
    "no other convergence criteria than the maximum number of generations was used .",
    "decent results can , however , be achieved more quickly with smaller population sizes and a lower number of generations .",
    "while the ga can handle components with arbitrary dispersion relations , we limit our discussion to components whose wavelength - dependent retardance can be fitted to the following modified sellmaier equation : @xmath81\\end{aligned}\\ ] ] here , we call @xmath63 the normalized thickness of the component , as @xmath63 is proportional to the component s physical thickness . the parameters",
    "@xmath82 , @xmath83 , @xmath84 , and @xmath85 can be found by fitting experimental data to this model .",
    "initially , for the results presented in this paper , numerical values from characterization experiments  @xcite performed on quartz waveplates and flcs were used .",
    "after the initial optimization flcs with the optimal thickness were ordered from _",
    "citizen_. after receiving the components , new thickness characterizations were made , and the system was re - optimized on waveplate thickness and orientation , and flc orientation . in the end , the final orientation of all components were found after characterization of the thicknesses . as a result ,",
    "the psa and psg do not have the same design , due to differences caused by the optical component manufacturing precision .",
    "we seek an improved design for the commercially available mme using two flcs by having a lower condition number over a larger spectral range .",
    "as 1000 nm is typical the upper wavelength limit for a silicon detector based spectrograph the range in the optimization was set from 430 nm to 1000 nm , an improvement from 850 nm compared to the commercial system .",
    "we also aimed at lower noise amplification in the whole spectral range .        the resulting condition number from the optimized polarimeter using two flcs",
    "are shown in figure  [ fig : condpsgpsa ] .",
    "it is noted that the system design was somewhat limited by the fact that thin flcs could not be currently manufactured .",
    "only a quasi - optimal system with given flc manufacturer limitations could be designed .",
    "the results from the psg and the psa are plotted separately . in both axes",
    "the dashed black line shows the theoretical best inverse condition number , the solid red shows the measured inverse condition number on the commercial mm16 instrument .",
    "the solid black curve shows the inverse condition number for the optimal configuration using the measured dispersion of the individual components , the dashed blue curve shows the simulated inverse condition number using the actual experimental orientations , and finally , the solid blue curve shows the actual measured , and calibrated inverse condition number for the final designs .",
    "all designs are better conditioned than the previously designed instrument , and allows for measurements of the mueller matrix across a broader spectral range .",
    "the system can operate down towards the cut - off of the silicon spectrograph detector .",
    "some interesting issues appeared in the implementation of the psa / psg , which is related to the mounting accuracy of the optical components .",
    "it is noted that certain designs may be more sensitive to small azimuthal mounting errors .",
    "one could thus envisage to include in the fitness function certain mounting inaccuracies in order to also search for the most robust design for larger scale production .",
    "inverse condition number ( @xmath49 ) for a ga - generated and a previously patented design  @xcite .",
    "the ga - generated design is based on three flcs and three waveplates , while the previous patented design is based on three flcs and one waveplate .",
    "the ga design is significantly better than the previous design for all wavelengths . if @xmath86 , noise becomes very problematic , and the instrument is considered unreliable .",
    "@xmath51 is theoretically limited to the range @xmath53 . ]",
    "we also briefly recall that we have recently reported systems designed using three flcs in the psg and psa for an extended wavelength range from 430 nm to 2000 nm @xcite . here",
    ", the power of the ga design algorithm becomes even more evident , which is clearly seen by the polarimeter design shown in figure  [ fig : condition - numbers ] .",
    "the red solid line shows @xmath49 which is our measure of performance , where a higher value of @xmath51 is better .",
    "the design parameters of the polarimeters , _",
    "i.e. _ the @xmath64 and @xmath63 values , for both the three and two flc design are shown in table  [ tab : optimal - flc - polarimeter ] .",
    "for comparison with previous designs , we show a recently patented design  @xcite in comparison with the ga generated one .",
    "the ga generated design is based on three flcs and three waveplates , while the previous patented design is based on three flcs and one waveplate .",
    "the new design is useful over a broader spectral range ( here defined as the parts of the spectrum where @xmath87 ) and has lower noise amplification due to a lower condition number ( higher inverse condition number ) .",
    "it should be noted that the flc technology is limited downwards in wavelength to @xmath88 nm , because of material degradation from ultra violet light .",
    "component & & & & & & & & + flc1 & 56.5 & 2.44 & 1991 nm & 46.0 & 1150 nm & 100.6 & 1.06 & 894 + wp1 & 172.9 & 1.10 & 493 nm & & & 10.2 & 3.37 & 1404 + flc2 & 143.3 & 1.20 & 1009 nm & -5.0 & 1050 nm & 89.9 & 1.05 & 901 + wp2 & 127.1 & 1.66 & 722 nm & 92.0 & @xmath89 ( achromatic ) & 18.5 & 3.75 & 1552 + flc3 & 169.4 & 1.42 & 1181 nm & 72.0 &  600 nm & & & + wp3 & 110.1 & 4.40 & 1798 nm & & & & & +    [ tab : optimal - flc - polarimeter ]    .",
    "@xmath90 is the orientation angle of flc3 and @xmath91 is the orientation angle of wp3 , as shown in figure  [ fig : polarimeter - sketch ] .",
    "the other @xmath64 and @xmath63 parameters were set to the optimal values . ]",
    "one can get an impression of how complex the fitness landscape is from figure  [ fig : fitness - landscape ] . here , a plot of @xmath92 is shown , where @xmath90 is the orientation angle of flc3 and @xmath91 is the orientation angle of wp3 , the two first components in figure  [ fig : polarimeter - sketch ] .",
    "all other parameters , _",
    "i.e. _ @xmath64 and @xmath63 values for the other components , were set to the optimal value as given in table  [ tab : optimal - flc - polarimeter ] .",
    "note that @xmath92 is periodic in both variables with a period of @xmath93 . due to the enormous number of local minima , even in only @xmath94 of the @xmath95 search dimensions , a clever optimization algorithm is required .",
    "the mueller matrix ellipsometer based on two flcs in psg and psa ( figure  [ fig : condpsgpsa ] ) where inserted into the mm16 instrument from horiba and calibrated the normal way using the eigenvalue calibration method  @xcite implemented in the software deltapsi 2 from horiba . to verify the precision of the instrument ,",
    "ten measurements of air were made , these are plotted in figure  [ fig : mmair ] together with a measurement using the old design ( red curve ) .",
    "the mean of the ten measurements are plotted with a dark blue curve and the standard deviation is plotted as the light blue area around the curve .",
    "there is no evident difference in accuracy or precision between the measurements using the two different designs .",
    "the maximum error is approximately one per cent .",
    "the obvious improvement is the operation across an enlarged spectrum .",
    "an important application of flc based polarimeters are in addition to the spectroscopic ellipsometry the mueller matrix imaging  @xcite , where the increased bandwidth allows variations important in particular for biological imaging .",
    "genetic algorithms ( ga ) are able to generate optimized designs of stokes / mueller polarimeters covering a broader spectral range with reduced noise amplification ( lower system matrix condition numbers ) . compared to previous optimization techniques used for this purpose often based on direct or gradient searches in small parts of the search space",
    ", the ga outperforms these methods when having multidimensional search spaces with many local minima .",
    "an instrument based on ferroelectric liquid crystal retarders optimized using the ga was assembled and characterized showing system properties as expected from the simulations , with extended spectral range .",
    "lmsa acknowledges financial support from the norwegian research center for solar cell technology ( project num .",
    "the authors are grateful to denis catelan , horiba for assisting and advising on the mechanical parts , and the extension of the spectrograph range of the mm16 .",
    "22 natexlab#1#1[1]`#1 ` [ 2]#2 [ 1]#1 [ 1]http://dx.doi.org/#1 [ ] [ 1]pmid:#1 [ ] [ 2]#2 , , , , , ( ) .",
    ", , , , , ( ) . , , , , .",
    ", , , , . , ( ) .",
    ", , ( ) . , , , , ( ) .",
    ", , , , ( ) . , ( ) .",
    ", , , , , , . , ( ) .",
    ", , , , , , ( ) . , , , , .",
    ", , , , , ( ) .",
    ", , , ( ) . . , . , , , , ( ) . , , , ( ) . , , , , ( ) . , , , , , ( ) . , , , ( )"
  ],
  "abstract_text": [
    "<S> the design of broad - band polarimeters with high performance is challenging due to the wavelength dependence of optical components . an efficient genetic algorithm ( ga ) computer code </S>",
    "<S> was recently developed in order to design and re - optimize complete broadband stokes polarimeters and mueller matrix ellipsometers ( mme ) . </S>",
    "<S> our results are improvements of previous patented designs based on two and three ferroelectric liquid crystals ( flc ) , and are suited for broad - band hyperspectral imaging , or multichannel spectroscopy applications . </S>",
    "<S> we have realized and implemented one design using two flcs and compare the spectral range and precision with previous designs .    </S>",
    "<S> mueller matrix ellipsometer , optical design , ellipsometry , polarimetry </S>"
  ]
}