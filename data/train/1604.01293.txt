{
  "article_text": [
    "equivalent circuit models ( ecms ) for lithium - ion batteries are widely used for state of charge ( soc ) and state of health ( soh ) estimation in battery management systems ( bmss ) @xcite .",
    "compared to electrochemical models which are derived from electrochemical principles and are characterised by partial differential equations coupled with algebraic equations ( pdaes ) , ecms are low order models parameterised from time - domain or frequency domain experimental data and are computationally more efficient . in the system identification step ,",
    "the parameters of the ecms are adjusted so that the model output matches the experimental measurements as closely as possible .",
    "it is recognised in the literature that the model parameters vary with soc ( and temperature ) .",
    "therefore in order to improve the model accuracy , they are often taken as functions of soc @xcite .",
    "alternatively , the parameters are set to be constants so that the complexity of the model is reduced @xcite .",
    "the choice of whether the ecm parameters should be soc dependent is a tradeoff between model accuracy and efficiency . and this seems to be a binary choice from the literature : either we vary all the parameters with soc or we set all the parameters to constants . such a dilemma , which is implicitly based on the assumption that all the parameters are equally important to the model output , is probably unnecessary as the output may be more sensitive to changes of some parameters than the others .",
    "this problem can be resolved by a parameter sensitivity analysis , in which the relative importance of the parameters can be quantified .",
    "sensitivity analysis also has valuable implications for parameter estimation as it reveals which parameters we have to make the most efforts to estimate . on the other hand , the less important parameters may only need to be estimated roughly since their uncertainties have little impact on the output .",
    "this is particularly important for complex models with many parameters .    in this paper",
    ", we apply the morris method , which is a technique for global sensitivity analysis , to the second order rc model for batteries .",
    "experiments are carried out on a lithium nickel manganese cobalt oxide ( nmc ) battery cell and the experimental data is used to identify the model parameters .",
    "it can be seen that some of the parameters change significantly when the cell is discharged from @xmath1 to @xmath2 soc .",
    "however , large change of a parameter in terms of magnitude does not necessarily mean that it has to be taken as a function of the soc , as demonstrated by the sensitivity analysis .",
    "consider a general dynamical system described by the state space model    @xmath3    where @xmath4 is the state vector , @xmath5 is the input , @xmath6 is the output and @xmath7 is the parameter set .",
    "the objective of parameter sensitivity analysis is to determine how the output @xmath8 is affected by changes in the parameters @xmath9 .",
    "suppose the initial condition @xmath10 and the input @xmath11 are both fixed , with a slight abuse of notation , we will omit @xmath12 in the following analysis when there is no risk of confusion .",
    "therefore the output @xmath8 at time @xmath13 can be written as @xmath14 and the aim is to analyse the sensitivity of @xmath14 with respect to @xmath9 .",
    "a common mistake for sensitivity analysis is to simply calculate the partial derivative of @xmath14 with respect to the @xmath15 parameter @xmath16 , _",
    "i.e. _ , @xmath17 around a particular point .",
    "this approach is problematic because it does not take the variance of the parameter @xmath16 into account . as a simple example , consider the linear function @xmath18 where @xmath19 , @xmath20 and @xmath21 .",
    "although @xmath22 , @xmath8 is in fact more sensitive to change in @xmath23 .",
    "in other words , the uncertainty of @xmath23 contributes more to the uncertainty of @xmath8 .",
    "therefore a more appropriate way is to compute @xmath24 where @xmath25 is the standard deviation of @xmath16 .",
    "this is known as `` one - factor - at - a - time '' ( oat ) method @xcite .",
    "although this method can deal with strictly linear systems well , it is still problematic for nonlinear systems since effectively the nonlinear function @xmath14 is linearised",
    ". therefore the oat method is local in nature .",
    "many systems of interest , including the battery ecm we will study in the next section , are highly nonlinear with respect to the parameters .    based on the oat approach ,",
    "the morris method achieves its global nature by repeating the local sensitivity analysis multiple times with randomly sampled linearisation points @xcite . in the first step of each run",
    ", a starting point @xmath26 is obtained by sampling each of the components @xmath27 from the normal distribution @xmath28 where @xmath29 and @xmath30 are the mean value and the standard deviation of the @xmath15 parameter , respectively directly if the covariance matrix of the parameters is known . ] . in the following steps , the sensitivity of the output to the change of the @xmath15 parameter",
    "can then be calculated by @xmath31 where @xmath32 is a constant , the varied parameter @xmath33 is obtained by changing the @xmath15 entry of @xmath26 to @xmath34 and keeping all the other parameters unchanged , that is , @xmath35 $ ] .",
    "it is clear so far such a single run is still a local analysis . in the morris method ,",
    "the process is repeated @xmath36 times and the effect of @xmath16 can then be seen from the distribution of @xmath37 in the @xmath36 runs .",
    "we are usually interested in its mean value .",
    "sometimes , in order to avoid that @xmath37 in different runs cancels each other out due to opposite signs , its absolute value is taken instead and this is called the enhanced morris method @xcite .    in essence , the morris method is a monte carlo method that aims to find the probability distribution of the sensitivity of model output to changes of the parameters .",
    "the local analysis using the oat approach in each run gives only a sample of the probability distribution .",
    "we note that there are other techniques for global sensitivity analysis , but it is beyond the scope of this paper to give a comprehensive review .",
    "we refer interested reader to @xcite for more details .",
    "it should also noted that the analytical form of @xmath14 is usually not available and has to be solved numerically .",
    "the ecm under consideration here is the second - order rc model shown in fig .",
    "[ fig : figure1 ] .",
    "this standard model has been studied extensively for the purposes of state and/or parameter estimation in the literature . however , to the best of our knowledge , global sensitivity analysis of the parameters in this model , and in other battery models in general , has not been studied before .",
    "it is therefore our intention to carry out such an analysis in this paper .",
    "apart from the open circuit voltage ( ocv ) @xmath38 , which is a nonlinear function of the soc , there are five parameters in the model : @xmath39 and @xmath40 .",
    "the state space representation of the model in the continuous form is given by    [ sys:02 ] @xmath41    where @xmath42 are the voltages across the first and the second rc pairs , respectively , @xmath43 $ ] is the normalised soc , @xmath44 is the battery capacity , @xmath45 is the current , whose sign is taken to be positive when the battery is discharging and negative during charging , and @xmath46 is the terminal voltage .",
    "it is common to define @xmath47 and @xmath48 where @xmath49 and @xmath50 are the time constants of the two rc pairs , respectively . in the parameter estimation step",
    ", one can choose to identify either the set @xmath51 or the set @xmath52 .",
    "in this paper , we choose the latter set since it is easier to interpret the physical meanings of time constants .",
    "to conduct parameter sensitivity analysis of the model , it is necessary to first determine the ranges of variations of the parameters .",
    "this is achieved by experimental investigations and a kokam nmc lithium - ion pouch cell ( slpb533459 ) with a nominal capacity 740 mah was studied .",
    "a biologic sp-150 potentiostat was used to collect the data with the temperature being fixed at @xmath53 using a thermal chamber .",
    "the relationship between the ocv and soc was determined by charging and discharging the cell at @xmath54c ( @xmath55 ) .",
    "due to hysteresis , there is a discrepancy between the charge and discharge curves , as shown in fig .",
    "[ fig : figure2 ] .",
    "the average of these two curves is taken as the ocv - soc function and is approximated by a polynomial @xmath56 where the coefficients are given in table [ tab:01 ] .",
    "the maximal approximation error of this polynomial in the soc range @xmath57 $ ] compared to the averaged ocv - soc curve is @xmath58 and the root - mean - square error ( rmse ) is @xmath59 .",
    ".the values of the ocv polynomial coefficients . [ cols=\"^,^\",options=\"header \" , ]     [ tab:01 ]    after the ocv - soc test , the battery cell was fully charged to @xmath1 soc using a standard constant current constant voltage ( cccv ) procedure .",
    "specifically , the cell was charged using a @xmath60c current ( @xmath61 ) until the voltage reached @xmath62 and was then charged with the voltage kept at @xmath62 until the current dropped to @xmath54c ( @xmath55 ) .",
    "the fully charged cell was rested for one hour .    the federal urban driving schedule ( fuds ) current profile @xcite",
    "was then applied to the cell until it was discharged by roughly @xmath2 soc .",
    "[ fig : figure3 ] shows the experimental measurements of the input ( current ) and the output ( voltage ) . after discharging ,",
    "the cell had about @xmath63 soc and it was rested for one hour .",
    "the same discharging and resting procedure was then repeated until the soc dropped to about @xmath2 .",
    "we note that the soc was calculated by coulomb couting using the accurate laboratory equipment .",
    "the model parameters are identified using matlab^^ s system identification toolbox .",
    "the first step is to subtract the ocv , which is calculated using the fitted polynomial @xmath38 , from the terminal voltage .",
    "this gives a linear state space model where the input is @xmath45 and the output is @xmath64 .",
    "the initial values of the state vector @xmath65^t$ ] are set to @xmath66^t$ ] as the battery has been rested for one hour before the current is applied .",
    "since the model structure is known , we use matlab functions ` idgrey ` and ` greyest ` to estimate the parameter set @xmath52 .    using the experimental data",
    ", we identify the parameters when the soc is in the intervals @xmath67 .",
    "the parameters are set to be constants in each soc interval .",
    "however , they are allowed to vary in different intervals",
    ". therefore we obtain @xmath68 sets of parameters , which are shown in fig .",
    "[ fig : figure4 ] , where the midpoints of the intervals are used in the horizontal axis .",
    "it can be seen from fig .",
    "[ fig : figure4 ] that all the parameters do vary with soc .",
    "it is common to use polynomials to fit the parameters as functions of soc .",
    "sometimes , piecewise linear functions are used instead .",
    "the morris method is used to study the sensitivity of the model output to changes of the parameters .",
    "the mean values and standard deviations of the parameters in different soc intervals are calculated from the results of system identification .",
    "all the parameters are considered to be mutually independent .",
    "we run @xmath69 monte carlo simulations using randomly sampled starting points and in each simulation , an oat analysis is carried out .",
    "the averages of the results from the @xmath36 runs are illustrated in fig .",
    "[ fig : figure5](a ) , which shows how much the model output changes when a particular parameter is changed by one standard deviation .",
    "[ fig : figure5](b ) shows the results given by the enhanced morris method . a comparison between fig .",
    "[ fig : figure5](a ) and fig .",
    "[ fig : figure5](b ) implies that the cancellation effects are not severe .",
    "it can be seen from fig .",
    "[ fig : figure5 ] that the model output is most sensitive to the variation of the series resistance @xmath40 .",
    "this is not surprising as the output is directly related to @xmath40 in ( [ sys:02b ] ) .",
    "in fact , the sensitivity analysis of the output to @xmath40 can be conducted using the oat method because @xmath46 is a linear function of @xmath40 when all the other parameters are fixed . the time constant @xmath50 is the second most important parameter in terms of sensitivity .",
    "changing @xmath50 by a standard deviation will result in a difference of about @xmath70 in the output .",
    "the remaining three parameters , @xmath71 and @xmath49 contribute little to the uncertainty of the output , therefore we expect that these parameters can be set to constants if the model complexity needs to be reduced .",
    "the conclusion of the analysis still needs to be validated and we are especially interested if it still holds when the input is different . the artemis european urban driving cycle ( udc ) @xcite shown in fig .",
    "[ fig : figure6](a ) was applied to the same fully charged cell until its soc dropped to less than @xmath72 .",
    "we compare the experimental voltage measurements to the output of the model in which all the parameters vary with soc .",
    "the error is shown by the blue line in fig .",
    "[ fig : figure6](b ) ( case 1 ) .",
    "the maximum error is @xmath73 and the rmse is @xmath74 .",
    "if @xmath71 and @xmath49 are fixed at their mean values ( case 2 ) , the maximum error is @xmath75 and the rmse is @xmath76 .",
    "this confirms that these parameters can be set to constants without affecting the model accuracy much .",
    "by contrast , the maximum error is @xmath77 and the rmse is @xmath78 if all the parameters are fixed at their mean values ( case 3 ) .     and",
    "@xmath49 are fixed ; case 3 : all the parameters are fixed.,scaledwidth=52.0% ]",
    "sensitivity analysis demonstrates that the output of the second order rc model is most sensitive to @xmath40 and @xmath50 , while the other three parameters @xmath71 and @xmath49 can be set to constants .",
    "future work includes taking temperature effects into account and extending the analysis into more complex battery models .",
    "s.  zhao , s.  r. duncan , and d.  a. howey , `` observability analysis and state estimation of lithium - ion batteries in the presence of sensor biases , '' _ ieee transactions on control systems technology _ , in press 2016 .",
    "a.  saltelli , m.  ratto , s.  tarantola , and f.  campolongo , `` sensitivity analysis practices : strategies for model - based inference , '' _ reliability engineering & system safety _ , vol .",
    "91 , no .",
    "11091125 , 2006 .",
    "f.  campolongo , j.  cariboni , a.  saltelli , and w.  schoutens , `` enhancing the morris method , '' in _ sensitivity analysis of model output .",
    "proceedings of the 4th international conference on sensitivity analysis of model output ( samo 2004 ) _ , 2005 , pp",
    ". 369379 ."
  ],
  "abstract_text": [
    "<S> this paper considers one of the most commonly used equivalent circuit models ( ecms ) for lithium - ion batteries and investigates the sensitivity of the model output to changes of model parameters using the morris method . </S>",
    "<S> experiments are carried out on a lithium - ion cell with nickel manganese cobalt oxide ( nmc ) electrode and parameters of the model are identified in the state of charge ( soc ) range @xmath0 $ ] . </S>",
    "<S> although all the model parameters do vary with soc , global sensitivity analysis reveals that the uncertainties of some of the parameters generate very little uncertainty in the voltage output , implying that those parameters can be taken as constants without compromising the accuracy of the model . </S>",
    "<S> this is further confirmed by experimental validation .    </S>",
    "<S> battery , equivalent circuit model , sensitivity analysis , morris method , monte carlo method . </S>"
  ]
}