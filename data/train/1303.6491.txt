{
  "article_text": [
    "let @xmath0 be a smooth projective curve over an algebraically closed field and fix a point @xmath1 in @xmath0 .",
    "a degree-@xmath2 abel map is a map @xmath3 from the product of @xmath2 copies of @xmath0 to its jacobian @xmath4 , sending @xmath5 to the invertible sheaf @xmath6 , where @xmath7 is an invertible sheaf on @xmath0 .",
    "it is classically known that this map encodes many geometric properties of the curve @xmath0 .",
    "for instance , the abel theorem states that the fibers of @xmath8 are complete linear series on @xmath0 , up to the action of the @xmath2-th symetric group .",
    "thus , all possible embeddings of @xmath0 in projective spaces are known once we know its abel maps .    often , to study linear series on smooth curves , we resort to degenerations to singular curves .",
    "then , it is important to understand how linear series behave under such degenerations .",
    "it was through the study of these degenerations that griffiths and harris proved the celebrated brill - noether theorem in @xcite , and later gieseker proved petri s conjecture in @xcite .",
    "this inspired the seminal work of eisenbud and harris @xcite where they introduced the theory of limit linear series for curves of compact type .",
    "nevertheless , a satisfatory general theory of limit linear series has not yet been obtained , although there are several works in this direction for curves with two components , for instance coppens and gatto in @xcite and esteves and medeiros in @xcite .",
    "more recently , osserman gave in @xcite a more refined notion of limit linear series for a curve of compact type with two components .",
    "since there is a relationship between linear series and abel maps for smooth curves , it is expected an interplay between limit linear series and abel maps for singular curves .",
    "this interplay was explored by esteves and osserman @xcite for curves of compact type with two components , for which natural abel maps exist .",
    "however abel maps for singular curves have been constructed only in few cases : for irreducible curves in @xcite , in degree one in @xcite and @xcite , in degree two in @xcite , @xcite and @xcite , and for curves of compact type and in any degree in @xcite .",
    "there are two main compactifications of the jacobian employed as targets of these abel maps , namely caporaso - pandharipande s compactified jacobian constructed in @xcite and @xcite and esteves compactified jacobian constructed in @xcite based on the previous work @xcite of altman and kleiman .",
    "the principal goal of this paper is to construct abel maps of any degree for curves with two components with esteves compactified jacobian as target .    in a different paper ,",
    "we plan to describe the fibers of this map and unreveal their relationship with degenerations of linear series on smooth curves , in the spirit of the paper @xcite and possibly compare the results with the work of esteves and medeiros in @xcite .",
    "let us explain in details our main results .",
    "let @xmath0 be a nodal curve over an algebraically closed field @xmath9 .",
    "let @xmath10 be a family of curves over @xmath11)$ ] with smooth total space @xmath12 and @xmath0 as special fiber .",
    "let @xmath13 be a section of @xmath14 through its smooth locus and @xmath15 be an invertible sheaf on @xmath12 of relative degree @xmath16 . since the generic fiber of @xmath14 is a pointed smooth curve , there exists a rational abel map @xmath17 from the product of @xmath2 copies of @xmath12 over @xmath18 to the compactified jacobian of @xmath14 . here , @xmath19 is the fine moduli scheme , introduced by esteves in @xcite , parametrizing rank-@xmath20 torsion - free sheaves of degree @xmath16 that are @xmath21-quasistable with respect to a polarization @xmath22 of degree @xmath16 ( see section [ sec : jac ] for more details )",
    ".    we will resolve the map @xmath23 in the case where @xmath0 has two smooth components @xmath24 and @xmath25 . to do that we construct a desingularization @xmath26 of @xmath27 recursively on @xmath2 .",
    "more precisely , we will perform a sequence of blowups along weil divisors as follows .",
    "set @xmath28 .",
    "assume that @xmath26 is constructed and let @xmath29 be the sequence of blowups along the strict transforms of the following weil divisors in the stated order @xmath30 and then @xmath31 where @xmath32 is the `` @xmath33-th diagonal '' , i.e. , the image of the section @xmath34 , induced by the composition @xmath35 of the desingularization map with the projection onto the @xmath33-th factor .",
    "there exists a modular map @xmath36 extending the map @xmath23 .",
    "we note that the order in which these weil divisors are blown up is important to the resolution of the map .",
    "indeed , it is not difficult to find examples in which a different sequence of blowups does not give rise to a resolution .",
    "moreover , the desingularization @xmath26 is independent of the polarization @xmath22 and the sheaf @xmath15 .",
    "we refer to ( * ? ? ?",
    "* section 7 ) for examples of resolutions for more general curves in degree 2 .    in order to prove the result we consider a local formulation of our problem .",
    "indeed , we note that the completion of the local ring of @xmath26 at a point is given by @xmath37 $ ] , and , in the relevant cases , the map @xmath38 is given by @xmath39 . for this reason we consider @xmath40)$ ] and the map @xmath41 given by @xmath39 .",
    "let @xmath42 and @xmath43 be sections of @xmath44 . since the generic fiber @xmath45 over the generic point @xmath46 of @xmath18 is smooth , we have a rational map @xmath47 sending @xmath48 , the generic point of @xmath49 , to the invertible sheaf @xmath50 where the sections @xmath51 are identified with their composition with the projection @xmath52 .    in theorem  [ thm : map ] we give numerical conditions to the existence of a map @xmath53 extending @xmath54 .",
    "in fact , this result holds for curves with any number of components .    to check that these conditions hold for a desingularization of @xmath27 , we need to understand its local geometry , that is , to understand how @xmath27 behaves under the sequence of blowups performed . to do that , in section  [ sec : des ]",
    ", we give a local description of blowups along certain weil divisors .",
    "since this approach is local , it can be applied to curves with any number of components .",
    "altough we only obtained a sequence of blowups for curves with two components , our techniques might be applied more generally to determine algorithmically whether or not a given sequence of blowups resolves the map @xmath23 for any nodal curve .",
    "this approach is similar to the one in @xcite where a script to determine the existence of the degree-@xmath55 abel map was produced .      throughout the paper",
    "we will use the following notations .",
    "we work over an algebraically closed field @xmath9 .",
    "curve _ is a connected , projective and reduced scheme of dimension 1 over @xmath9 .",
    "we will always consider curves with nodal singularities .",
    "a _ pointed curve _ is a curve @xmath0 with a marked point @xmath1 in the smooth locus of @xmath0 , usually denoted by @xmath56 .",
    "let @xmath0 be a curve .",
    "we denote the irreducible components of @xmath0 by @xmath57 and by @xmath58 the set of its nodes .",
    "a _ subcurve _ of @xmath0 is a union of irreducible components of @xmath0 . if @xmath59 is a proper subcurve of @xmath0 , we let @xmath60 and call it the _ complement _ of @xmath59 . we denote @xmath61 and @xmath62 ; a node in @xmath63",
    "is called an _ extremal _",
    "node of @xmath59 .",
    "a node @xmath64 of @xmath0 is _ external _ if @xmath65 for some subcurve @xmath59 , otherwise the node is called _",
    "internal_. we will always consider curves without internal nodes",
    ".    given a map of curves @xmath66 we say that an irreducible component of @xmath67 is _",
    "@xmath68-exceptional _ if it is a smooth rational curve and is contracted by the map .",
    "a _ chain of rational curves of lenght @xmath2 _ is a curve which is the union of smooth rational curves @xmath69 such that @xmath70 is empty if @xmath71 and @xmath72 .",
    "a _ chain of @xmath68-exceptional components _ is a chain of @xmath68-exceptional curves .",
    "we define the curve @xmath73 as the curve endowed with a map @xmath74 such that @xmath68 is an isomorphism over the smooth locus of @xmath0 , and the preimage of each node of @xmath0 consists of a chain of @xmath68-exceptional components of length @xmath2 . if @xmath56 is a pointed curve we abuse notation denoting by @xmath1 its preimage in @xmath73 so that @xmath75 is also a pointed curve .",
    "a _ family of curves _ is a proper and flat morphism @xmath76 whose fibers are curves . if @xmath77 , we denote @xmath78 its fiber .",
    "the family @xmath10 is called _ local _ if @xmath79)$ ] , _ regular _ if @xmath12 is regular and _ pointed _ if it is endowed with a section @xmath80 through the smooth locus of @xmath14 .",
    "smoothing _ of a curve @xmath0 is a regular local family @xmath10 with special fiber @xmath0 . given a pointed smoothing @xmath10 of a curve @xmath0 with section @xmath13 ,",
    "we define @xmath81 .",
    "if @xmath82 is a family of curves , we denote by @xmath27 the product of @xmath2 copies of @xmath12 over @xmath18 .",
    "let @xmath83 be a coherent sheaf on a curve @xmath0 .",
    "we say that @xmath83 is _ torsion - free _ if its associated points are generic points of @xmath0 .",
    "we say that @xmath83 is of _ rank 1 _ if @xmath83 is invertible on a dense open subset of @xmath0 .",
    "each invertible sheaf on @xmath0 is a rank-@xmath20 torsion - free sheaf .",
    "if @xmath83 is a rank-@xmath20 torsion - free sheaf , we call @xmath84 the _ degree _ of @xmath83 . an invertible sheaf @xmath83 over @xmath74",
    "@xmath68-admissible _ if @xmath85 for every chain of @xmath68-exceptional components @xmath86 .",
    "we fix @xmath11)$ ] , @xmath87)$ ] and the map @xmath41 given by @xmath88 .",
    "we will call the closed point of both @xmath18 and @xmath49 by @xmath89 , when no confusion may arise .",
    "moreover , we denote by @xmath90 the generic point of @xmath91 in @xmath49 . given a smoothing @xmath92 of a curve @xmath0 ,",
    "define @xmath42 and let @xmath44 be the induced map .",
    "let @xmath10 be a pointed regular local family of nodal curves with section @xmath13 .",
    "the _ degree-@xmath16 jacobian _ of @xmath14 is the scheme parametrizing the equivalence classes of degree-@xmath16 invertible sheaves on the fibers . in general , this scheme is neither proper nor of finite type . to solve these issues we resort to rank-@xmath20 torsion - free sheaves and to stability conditions .",
    "let @xmath0 be a nodal curve with @xmath93 irreducible components @xmath94 and @xmath1 be a smooth point of @xmath0 .",
    "a _ polarization of degree @xmath16 on @xmath0 _ is any @xmath93-tuple of rational numbers @xmath95 summing up to @xmath16 .",
    "let @xmath59 be a proper subcurve of @xmath0 .",
    "we set @xmath96 let @xmath83 be a rank-@xmath20 degree-@xmath16 torsion - free sheaf on @xmath0 .",
    "we define the sheaf @xmath97 as the sheaf @xmath98 modulo torsion .",
    "we say that @xmath83 is _",
    "@xmath1-quasistable over @xmath59 ( with respect to @xmath22 ) _ if the following condition holds @xmath99 equivalently , @xmath83 is @xmath1-quasistable over @xmath59 if the following conditions hold @xmath100 note that @xmath83 is @xmath1-quasistable over @xmath59 if and only if it is over @xmath101 .",
    "we say that @xmath83 is _",
    "@xmath1-quasistable _ over @xmath0 if it is @xmath1-quasistable over every proper subcurve of @xmath0 .",
    "since the conditions are additive on connected components it is enough to check them over connected subcurves .",
    "in fact , it is easy to see that it suffices to check on connected subcurves with connected complement .",
    "given the map of curves @xmath74 and a polarization @xmath22 over @xmath0 , we define the polarization @xmath102 over @xmath73 simply by @xmath103 if @xmath104 is not a point and @xmath105 otherwise , where @xmath59 is a irreducible component of @xmath73 . from now on fix a polarization @xmath22 of degree @xmath16 on @xmath0 , and its induced polarizations @xmath102 .",
    "let @xmath10 be a pointed regular local family of nodal curves with section @xmath80 .",
    "we say that a sheaf @xmath106 over @xmath12 is _",
    "@xmath21-quasistable _ if it restricts to a torsion - free rank-@xmath20 sheaf over each fiber of @xmath14 and if its restriction to the special fiber @xmath0 of @xmath14 is @xmath107-quasistable .",
    "degree-@xmath16 compactified jacobian of @xmath14 _ is the scheme @xmath19 parametrizing @xmath21-quasistable sheaves over @xmath12 of degree @xmath16 .",
    "this scheme is proper and of finite type ( see ( * ? ? ?",
    "* thms a and b ) ) and it represents the contravariant functor @xmath108 from the category of locally noetherian @xmath18-schemes to sets , defined on a @xmath18-scheme @xmath49 by @xmath109 where @xmath110 is the pullback of the section @xmath21 and @xmath111 is the equivalence relation given by @xmath112 if and only if there exists an invertible sheaf @xmath113 on @xmath49 such that @xmath114 .",
    "[ prop : pushforward ] let @xmath56 be a pointed nodal curve and consider @xmath74 .",
    "let @xmath7 be a line bundle over @xmath73 that is @xmath68-admissible and @xmath1-quasistable over each subcurve @xmath59 of @xmath73 such that @xmath59 and @xmath101 are connected and neither is contracted by @xmath68 .",
    "then the sheaf @xmath115 is @xmath1-quasistable .",
    "fix @xmath116 a smoothing of @xmath75 ,",
    "let @xmath15 be a line bundle on @xmath12 such that @xmath117 . by ( * ?",
    "* propositions 5.2 and 5.3 ) it suffices to show that exists a twister @xmath118 , with @xmath119 is a divisor supported on the exceptional components of @xmath68 , such that @xmath120 is @xmath1-quasistable .",
    "the divisor @xmath119 is effective and can be algorithmically computed as follows .",
    "recall that @xmath15 is admissible if and only if its degree on each chain of @xmath68-exceptional components is @xmath121 , @xmath89 or @xmath20 .",
    "we define invertible sheafs @xmath122 inductively .",
    "set @xmath123 . for a maximal chain of @xmath68-exceptional components",
    "@xmath86 over some node of @xmath0 , let @xmath124 be the ( possibly empty ) maximal subchain of @xmath86 such that @xmath125 . define @xmath126 and @xmath127 .",
    "we claim that @xmath122 is admissible and that @xmath128 is empty or strictly contained in @xmath129 .",
    "indeed , fix a maximal chain @xmath130 and let @xmath131 .",
    "we have that @xmath125 and the maximality of @xmath124 implies that either @xmath132 or @xmath133 also either @xmath134 or @xmath135 this implies that either @xmath132 or @xmath136 also either @xmath134 or @xmath137 therefore , we see that @xmath122 is admissible .",
    "moreover we have @xmath138 meaning that there exists @xmath139 and @xmath140 such that @xmath141 and @xmath142 clearly @xmath143 ( which may be empty if @xmath144 ) , and then @xmath145 is strictly contained in @xmath124 .",
    "this concludes the proof of the claim .",
    "define @xmath146 now it is enough to prove that @xmath147 restricted to @xmath73 is @xmath1-quasistable .",
    "let @xmath59 be a connected subcurve of @xmath73 with connected complement .",
    "if @xmath59 is contracted by the map @xmath68 , then @xmath59 is a chain of exceptional components , hence , since @xmath148 is admissible and there is no chain of exceptional components over which @xmath148 has degree @xmath20 , it follows that @xmath149 .",
    "this proves that @xmath148 is @xmath1-quasistable over @xmath59 and @xmath101 .",
    "now assume that neither @xmath59 nor @xmath101 is contracted by @xmath68 .",
    "for every @xmath150 , we define @xmath151 @xmath152 note that @xmath153 , and hence @xmath154 moreover , we have @xmath155 where @xmath156 is @xmath20 if @xmath157 and @xmath89 otherwise .",
    "note that if @xmath158 then either there exists a chain of exceptional components @xmath159 such that @xmath160 and @xmath161 or the degree of @xmath15 over every chain of exceptions components contained in @xmath162 is zero , and in this case define @xmath163 .",
    "define @xmath164 then @xmath165 implying that @xmath166 we can repeat the same process for @xmath101 , obtaining a subcurve @xmath167 satisfying @xmath168    since both @xmath169 and @xmath167 are connected with connected complement and are not contracted by @xmath68 , it follows that @xmath15 is @xmath1-quasistable over @xmath169 and @xmath167 , and therefore @xmath148 is @xmath1-quasistable over @xmath59 .",
    "the proof is complete .",
    "let @xmath10 be a pointed regular local family of nodal curves with section @xmath13 .",
    "let @xmath0 be the special fiber of @xmath14 with irreducible components @xmath57 .",
    "we define @xmath170 as the smooth locus of @xmath14 and @xmath171 .",
    "set @xmath172 , the product of @xmath2 copies of @xmath170 over @xmath18 .",
    "note that the special fiber of @xmath173 is @xmath174 for each @xmath2-tuple @xmath175 define @xmath176 .",
    "let @xmath15 be a degree-@xmath16 invertible sheaf over @xmath12 .",
    "there exists a degree-@xmath2 abel map from @xmath177 to the degree-@xmath16 jacobian of @xmath14 simply sending the @xmath2-tuple @xmath5 over @xmath178 to the invertible sheaf @xmath179 we want to extend this abel map to @xmath27 , and it is convenient to consider the degree-@xmath16 compactified jacobian @xmath19 as target .",
    "however , the sheaf may not be @xmath180-quasistable and thus we do not even have a map from @xmath177 to @xmath19 defined as above . to solve this we use twisters and the fact that @xmath19 represents the functor @xmath108 .",
    "indeed , form the fiber diagram @xmath181by ( * ? ? ?",
    "* thm 32 , ( 4 ) ) , for each @xmath182 there exists a divisor @xmath183 of @xmath184 such that the invertible sheaf @xmath185 defined as @xmath186 is @xmath187-quasistable , where @xmath32 is the preimage of the diagonal via the projection map @xmath188 onto the @xmath33-th and @xmath189-th factor .",
    "this @xmath187-quasistable sheaf @xmath185 induces the abel map @xmath190 in this paper we give conditions to determine when this map extends to a suitable desingularization of @xmath27 .",
    "given a smoothing @xmath10 of a curve @xmath0 and @xmath64 a node of @xmath0 , we can write the completion of the local ring of @xmath12 at @xmath64 as @xmath191.\\ ] ] the map @xmath10 is , locally around @xmath64 , given by @xmath192 . in this section",
    "we study the geometry of this local map and its formation with base change . in figure 1",
    "we collect all the relevant results in an explicit example .",
    "recall that we defined @xmath193)$ ] and a map @xmath41 given by @xmath194 .",
    "define @xmath195)$ ] and the map @xmath196 given by @xmath197 .",
    "let @xmath198 .",
    "clearly , we have @xmath199}{(xy - u_1\\cdots u_{d+1})}\\right).\\ ] ] given a subset @xmath200 of @xmath201 , we define @xmath202    to desingularize @xmath203 , we will blowup weil divisors of type @xmath204 , where @xmath200 is a proper nonempty subset of @xmath201 .",
    "more precisely , given a collection of proper nonempty subsets @xmath205 of @xmath201 , we will perform a sequence of blowups @xmath206 where the map @xmath207 is the blowup of the strict transform @xmath208 of @xmath209 via the composition map @xmath210 .",
    "[ rem : diagonal ] note that the local equations of the blowup of @xmath203 along @xmath211 are given by @xmath212 and @xmath213 where @xmath214 are coordinates of @xmath215 .",
    "it is easy to see that if we blow up @xmath216 we will obtain the same equations .",
    "therefore , blowing up @xmath216 is equivalent to blowing up @xmath211 .",
    "the same property holds for the blowup along @xmath217 .",
    "indeed the local equation of such blowup is @xmath218 nevertheless , we know that the relation @xmath219 holds , and this relation is equivalent to @xmath220 . hence , we can simplify the equation to the equations @xmath221 which , up to sign , are the same equations for the blowup along @xmath211 .",
    "this justifies why in the sequel we only consider blowups along divisors of type @xmath211 .",
    "let @xmath222 be a collection of subsets of @xmath223 and @xmath200 be a subset of @xmath201 .",
    "assume that @xmath224 is obtained by a sequence of blowups of @xmath203 as in . also , let @xmath225 be the complement of @xmath226 in @xmath49 .",
    "we have @xmath227_{u_a})$ ] .",
    "define @xmath228 and @xmath229 .",
    "we have the fiber diagram @xmath230    we call a collection @xmath205 of subsets of a finite set @xmath231 a _ smooth collection for @xmath231 _ if for every distinct @xmath232 , there exists @xmath233 such that either @xmath234 and @xmath235 , or @xmath236 and @xmath237 .",
    "[ prop : smooth ] the scheme @xmath238 is smooth if and only if @xmath239 is a smooth collection for @xmath201 .",
    "moreover , in that case , the inverse image of the closed point of @xmath203 in @xmath224 is a chain of @xmath2 rational curves .",
    "first assume that @xmath224 is smooth .",
    "consider the open subscheme @xmath240 with @xmath241 distinct .",
    "note that @xmath242 is smooth and @xmath243 is not .",
    "hence there exists one of the divisors @xmath244 such that the restriction to @xmath243 is not cartier .",
    "however the equation of @xmath243 is @xmath245 , and hence the restriction of @xmath246 is not cartier only if @xmath247 and @xmath248 or @xmath249 and @xmath250 .",
    "assume now that @xmath239 is smooth .",
    "an open covering for @xmath251 is given by @xmath252}{(\\alpha x - u_{a_1},y-\\alpha u_{a_1^c})}\\right)={\\text{spec}\\,}\\left(\\frac{k[[x , u_1,\\ldots , u_{d+1},\\alpha]]}{(\\alpha x - u_{a_1})}\\right)\\ ] ] @xmath253}{(x-\\alpha'u_{a_1},\\alpha'y- u_{a_1^c})}\\right)={\\text{spec}\\,}\\left(\\frac{k[[y , u_1,\\ldots , u_{d+1},\\alpha']]}{(\\alpha'y - u_{a_1^c})}\\right)\\ ] ]    we claim that the strict transform @xmath254 in @xmath251 is given locally , up to cartier divisors , by @xmath255 to see this , just note that @xmath256 hence we need only analyze the strict transforms @xmath257 of @xmath258 . since the strict transform is contained in the inverse image , we get @xmath259 ( here , note that we are using the same notation for the coordinates in both @xmath260 and @xmath203 . ) therefore , by equation  [ eq : ulocal ] , we readily see that @xmath261 has codimension @xmath20 in @xmath260 if and only if @xmath262 , which implies that @xmath257 is empty if @xmath263 .",
    "arguing similarly for @xmath264 we see that @xmath265 therefore , if @xmath262 , using equation  [ eq : vlocal ] we get that @xmath266 in @xmath264 , and hence @xmath257 is cartier in @xmath264 .",
    "otherwise if @xmath263 , then we have @xmath267 since @xmath268 has codimension @xmath55 in @xmath264 , we conclude that @xmath269    to sum up : the strict transform @xmath257 of @xmath258 has empty intersection with @xmath260 ( respectively is a cartier divisor in @xmath264 ) if @xmath263 ( respectively if @xmath262 ) . otherwise if @xmath262 ( respectively if @xmath263 ) , then this intersection is given by @xmath261 in @xmath260 ( respectively , by @xmath270 in @xmath264 ) .",
    "the proof of the claim is complete .",
    "we proceed now by induction on @xmath2 .",
    "first , we split sequence   in two , using the open covering @xmath271 .",
    "define @xmath272 and the sequence @xmath273 where the map @xmath274 is the blowup along the intersection @xmath275 .",
    "by the claim above , the strict transforms of @xmath276 via the map @xmath277 are given by equations @xmath278 now , we just observe that the collection @xmath279 is a smooth collection for @xmath280 . since @xmath281 , by induction hypothesis @xmath282",
    "is smooth .",
    "for @xmath264 the argument is similar , just note that cartier divisors may appear as components of the strict transforms , but they do not give contributions to the blowups .",
    "this proves the smoothness .    to prove the second statement ,",
    "we still proceed by induction on @xmath2 . by induction hypothesis ,",
    "the inverse image of the closed point in @xmath260 via the map @xmath283 is a chain of @xmath284 rational curves , and the inverse image of the closed point in @xmath264 via the map @xmath285 is a chain of @xmath286 rational curves .",
    "since the blowup of @xmath287 adds exactly one rational curve , we get the result .",
    "[ cor : chain ] let @xmath239 be a smooth collection for @xmath201 .",
    "then , the inverse image of the closed point in @xmath288 via the map @xmath289 is a chain of @xmath290 rational curves .",
    "just note that @xmath291 is a smooth collection for @xmath200 .",
    "let @xmath222 be a smooth collection for a finite set @xmath231 .",
    "we define the _ @xmath239-ordering _ of @xmath231 as follows :    let @xmath292 be distinct elements of @xmath231 .",
    "we say that @xmath293 if there exists @xmath294 such that @xmath295 , @xmath296 and for every @xmath297 we have that either @xmath298 or @xmath299 .",
    "since @xmath239 is smooth , the ordering @xmath300 is a complete ordering of @xmath231 .",
    "fix a smooth collection @xmath239 of @xmath201 .",
    "let @xmath301 be the desingularization of @xmath203 obtained via @xmath239 .",
    "the inverse image of the closed point in @xmath49 via the map @xmath302 is the germ of nodal curve given by two branches @xmath303 and @xmath304 .",
    "it follows from proposition  [ prop : smooth ] that the inverse image of the closed point of @xmath49 via the map @xmath305 is the union of these two branches , but with the singular point replaced with a chain of @xmath2 rational curves .",
    "we denote by @xmath306 the nodes lying on the chain , where @xmath307 is the one in @xmath304 and @xmath308 is the one in @xmath303 , and by @xmath69 the rational curves , where @xmath309 .    from now on all the strict transforms will be via the map @xmath310 .",
    "[ lem : empty ] let @xmath239 be a smooth collection for @xmath223 . if @xmath311 then the strict tranforms via @xmath312 of @xmath258 and @xmath313 do not intersect .",
    "keep the notation of the proof of proposition  [ prop : smooth ] .",
    "we proceed by induction on @xmath2 .",
    "we analyze first the case where @xmath314 and @xmath315 .",
    "it follows from the proof of proposition  [ prop : smooth ] that the strict transform of @xmath258 is empty in @xmath260 .",
    "similarly , the strict transform of @xmath313 is empty in @xmath264",
    ". therefore there is no intersection in this case .    on the other hand ,",
    "if @xmath316 , then the equations of the strict transforms of @xmath258 and @xmath313 in @xmath260 become @xmath261 and @xmath317 . by induction hypothesis",
    "the intersection of these strict transforms in @xmath282 is empty .",
    "since the strict transform of @xmath313 is empty in @xmath264 , we are done also in this case .",
    "the case @xmath318 is similar .",
    "the singular locus of the map @xmath319 consists of @xmath189 connected components , each one of which dominates one region of type @xmath320 , for some @xmath321 . indeed ,",
    "if we keep the same notation of proposition  [ prop : smooth ] , then the singular locus lying over @xmath322 of the map @xmath302 is contained in both @xmath258 and @xmath323 , and if @xmath324 , then either the strict transforms of @xmath258 and @xmath313 do not intersect , or the strict transforms of @xmath325 and @xmath323 do not intersect .",
    "we will denote by @xmath326 the connected component of the singular locus of the map @xmath319 that dominates @xmath322 .",
    "in the sequel we will often use the following fact : if @xmath327 then the rational curves @xmath328 are contained in the strict transform of @xmath258 .",
    "[ prop : node ] let @xmath239 be a smooth collection for @xmath201 . if @xmath46 is a permutation of @xmath329 such that @xmath330 , then @xmath331 .",
    "since the @xmath326 s are disjoint and each node belongs to at least one of them , it is clear that each node @xmath332 is contained in exactly one @xmath326 ; we denote such index by @xmath333 .",
    "[ fig : desing ]    desing ( 25,24)@xmath334 ( 65,37)@xmath335 ( 17,44)@xmath336 ( 29,44)@xmath307 ( 29,38)@xmath337 ( 29,32)@xmath338    ts ( 87,25)@xmath303 ( 87,45)@xmath304    s ( 35,25)@xmath339 ( 70,15)@xmath340 ( 25,5)@xmath341    * figure 1 . * in this picture we describe the maps @xmath342 over the special point of @xmath18 , in the case @xmath343 for @xmath344 .    at the bottom",
    "we have depicted the variety @xmath49 with its divisors @xmath91 .    at the middle , the variety @xmath203 with the branch @xmath304 being the top one .",
    "the inverse image of each @xmath91 via the map @xmath345 is the union of the weil divisors @xmath325 and @xmath313 .",
    "the map @xmath68 is the blowup of @xmath203 along @xmath346 and then @xmath347 .    at the top",
    "we have the variety @xmath301 .",
    "the dotted lines bound the singular loci @xmath336 , @xmath335 and @xmath334 of the map @xmath348 .",
    "the permutation @xmath46 in this case is the identity , thus the node @xmath332 belongs to @xmath349 , see proposition  [ prop : node ] and corollary  [ cor : rational ] .",
    "note that in the central fiber we have two @xmath68-exceptional curves , see proposition  [ prop : smooth ] and corollary  [ cor : chain ] .",
    "the node @xmath307 belongs to the strict transforms of @xmath346 , @xmath350 , @xmath351 and @xmath352 , while @xmath337 belongs to the ones of @xmath346 , @xmath347 , @xmath351 and @xmath352 , and finally @xmath338 belongs to the ones of @xmath346 , @xmath347 , @xmath353 and @xmath352 , see corollary  [ cor : rational ] .    without loss of generality",
    "we may assume that @xmath46 is the identity .",
    "this means that the @xmath354-ordering is the usual one . since @xmath355 we get that the strict transform of @xmath356 contains the rational curves @xmath328 .",
    "hence the strict transform of @xmath357 contains the rational curves @xmath358 .",
    "given a @xmath359 the strict transform of @xmath360 contains the rational curves @xmath361 . hence the intersection of the strict transforms of @xmath356 and @xmath360 contains @xmath362 and therefore is nonempty . by lemma  [ lem : empty ]",
    "we have @xmath363 for every @xmath364 , and we conclude that @xmath365 is the identity .    [ cor : rational ]",
    "let @xmath239 be a smooth collection for @xmath201 .",
    "let @xmath46 be a permutation of @xmath329 such that @xmath330 .",
    "then @xmath366 is contained in the strict transform of @xmath367 via @xmath368 .",
    "furthermore , the intersection of the strict transforms of the divisors @xmath369 is exactly the node @xmath332 .",
    "[ rem : weil ] using proposition  [ prop : smooth ] , we see that for any given regular local family of curves without internal nodes @xmath10 there exists a desingularizaion of @xmath42 obtained by blowing up weil divisors .",
    "moreover the map @xmath370 is a regular family of curves , since @xmath371 is smooth .",
    "also note that corollary  [ cor : chain ] implies that the fiber of @xmath372 over the special point @xmath89 of @xmath49 is @xmath73 ; more generally the fibers of @xmath372 are either the smooth curve @xmath45 over the generic point @xmath46 of @xmath49 or curves of the form @xmath373 for some @xmath374 .",
    "recall that @xmath79)$ ] , @xmath375)$ ] and consider the map @xmath41 given by @xmath88 .",
    "let @xmath10 be a pointed regular family of nodal curves with special fiber @xmath0 and section @xmath13 through the smooth locus of @xmath14 .",
    "we let @xmath81 .",
    "consider @xmath42 and let @xmath44 be the induced map ; form the fiber diagram @xmath376any section @xmath377 of the map @xmath345 induces a @xmath18-map @xmath378 by composition ; conversely , every @xmath18-map @xmath378 induces a section of @xmath345 .",
    "we will abuse notation using the same name for both the section and the @xmath18-map .",
    "let @xmath379 be a @xmath18-map .",
    "assume that @xmath380 , where @xmath64 is a node of @xmath0 .",
    "we can write the completion of the local ring of @xmath12 at @xmath64 as @xmath381.\\ ] ] the map @xmath10 is given by @xmath192 locally around @xmath64 . up to multiplication by an invertible element , the map @xmath382 is given by @xmath383 where @xmath200 is a proper nonempty subset of @xmath201 .",
    "note that , geometrically , this means that @xmath384 if and only if @xmath385 , where @xmath386 is the generic point of @xmath320 .    given sections @xmath43 of @xmath345 passing through nodes of @xmath0 , a subcurve @xmath59 of @xmath0 and a node @xmath64 of @xmath0 , we define @xmath387 note that if @xmath388 , then the index @xmath294 plays no role ; in this case we simply write @xmath389 . also note that if @xmath390 , then @xmath391 .    recall that @xmath392 is the complement of @xmath393 in @xmath49 and it is given by @xmath394_{u_{\\{j\\}^c}}\\right).\\ ] ] hence there exists a map @xmath395 .",
    "let @xmath396 , and denote by @xmath397 the projection onto the first factor .",
    "form the following fiber diagram @xmath398 let @xmath399 and @xmath43 be sections of @xmath345 passing through nodes of @xmath0 .",
    "if we restrict these sections to @xmath392 , we obtain sections @xmath400 passing through the smooth locus of @xmath401 .",
    "let @xmath15 be a degree-@xmath16 invertible sheaf over @xmath12 .",
    "denote by @xmath402 the pullback of @xmath15 to @xmath403 and define @xmath404 note that the sheaf @xmath185 induces a rational map @xmath405 , since the generic fiber of @xmath345 is smooth .",
    "we also define @xmath406 since the restricions of the sections @xmath43 to @xmath392 are sections passing through the smooth locus of @xmath0 , the sheaf @xmath407 is invertible .",
    "also , since @xmath392 is the spectrum of a dvr , there exists an invertible sheaf @xmath408 , where @xmath409 such that @xmath410 is @xmath21-quasistable .",
    "given a degree-@xmath16 invertible sheaf @xmath15 , sections @xmath43 of @xmath345 , a subcurve @xmath59 of @xmath0 and a node @xmath64 in the intersection of @xmath411 and @xmath412 , we define @xmath413 recall that , since we are working with curves with no internal nodes , every node @xmath64 is external and hence there exists @xmath414 such that @xmath64 is in the intersection of @xmath411 and @xmath412 .    [ prop : generic ] let @xmath15 be a degree-@xmath16 invertible sheaf on @xmath12 , let @xmath43 be sections of @xmath345 passing through nodes of @xmath0 and @xmath59 be a subcurve of @xmath0 containing @xmath1 .",
    "then , for every @xmath415 we have @xmath416    let @xmath417 be the generic point of @xmath418 . identify @xmath59 with @xmath419 . by the definition of @xmath420 and by the fact that each section @xmath51 goes through some node @xmath64",
    ", we clearly have @xmath421 indeed , the sum @xmath422 is the number of sections @xmath51 such that @xmath423 .",
    "it follows that @xmath424 however we have @xmath425 which concludes the proof .",
    "let @xmath426 be a fixed desingularization of @xmath403 as in remark  [ rem : weil ] .",
    "let @xmath427 be the strict transform of @xmath428 .",
    "since @xmath371 is regular , it follows that @xmath427 is a cartier divisor .",
    "we define @xmath429 the special fiber of the map @xmath430 .",
    "recall that , by proposition  [ prop : smooth ] , we have an identification of @xmath431 with @xmath73 .",
    "let @xmath432}$ ] be the closure of @xmath433 in @xmath371 , where @xmath434 is the induced map @xmath435 and @xmath436 .",
    "finally , we let @xmath437},\\ ] ] and define the invertible sheaf on @xmath438 @xmath439    [ thm : map ] let @xmath15 be a degree-@xmath16 invertible sheaf on @xmath12 and @xmath43 be sections of @xmath345 .",
    "there exists a map @xmath440 extending the rational map defined by @xmath185 if the following two conditions hold for every subcurve @xmath441 containing @xmath1    1 .   for every @xmath442 and every node @xmath65 , we have @xmath443 2 .   for every function @xmath444",
    ", we have @xmath445    in this case , if @xmath446 is any desingularization of @xmath403 as in remark  [ rem : weil ] then this map is induced by the invertible sheaf @xmath447 .",
    "throughout the proof we fix a desingularization @xmath448 of @xmath403 as in remark  [ rem : weil ] and set @xmath449 .",
    "it is enought to prove that under the hypothesis the sheaf @xmath450 is @xmath21-quasistable . by proposition  [ prop : pushforward ]",
    "it suffices to check that @xmath451 is admissible and @xmath21-quasistable over each connected subcurve @xmath59 of @xmath452 with connected complement such that @xmath59 and @xmath101 are not contracted by the map @xmath68 .",
    "we begin by computing the degrees of the restriction of @xmath451 to the components of the special fiber .",
    "let @xmath86 be a chain of @xmath68-exceptional components and let @xmath453 .",
    "clearly the degree of @xmath454 is zero .",
    "the same property holds for @xmath455 if the section @xmath456 does not pass through the node @xmath64 .",
    "since @xmath86 is contracted we can look locally around the node @xmath64 .",
    "let @xmath457 ; the subcurve @xmath86 can be seen as a subcurve of the special fiber of the map @xmath319 , for some collection @xmath239 , as in section  [ sec : des ] .",
    "let @xmath458 be the extremal nodes of the chain .",
    "it follows from proposition  [ prop : node ] that @xmath459 and @xmath460 . without loss of generality",
    "we will assume that @xmath46 is the identity .",
    "let @xmath59 be a fixed subcurve of @xmath0 containing @xmath1 and admitting @xmath64 as an extremal node .",
    "let @xmath461 be a section through @xmath64 .",
    "up to renaming @xmath33 and @xmath294 , we can assume that the strict transform of @xmath462 does not contain the node @xmath463 .",
    "let @xmath90 be the generic point of @xmath91 .",
    "set @xmath464 and @xmath465 , where the bar denotes the closure in @xmath371 .",
    "the degree of @xmath466 is @xmath121 if @xmath467 , and @xmath89 otherwise .",
    "since the degree of @xmath468 is the same as the degree of @xmath469 , then we have @xmath470 indeed , notice that @xmath471 consists of @xmath86 and other chains of rational curves contracted by @xmath68 ; since the section @xmath461 goes through the node @xmath64 , it follows that the line bundle @xmath472 restricted to these other chains has degree @xmath89 .",
    "similarly , we can compute : @xmath473}|_e))=\\left\\{\\begin{array}{rl }                                             1 & \\quad\\text{if $ k = j$ and $ c_r\\subset y$,}\\\\                                             1 & \\quad\\text{if $ k = i$ and $ c_r\\subset y^c$ , } \\\\",
    "-1 & \\quad\\text{if $ k = j$ and $ c_r\\subset y^c$,}\\\\                                             -1 & \\quad \\text{if $ k = i$ and $ c_r\\subset y$,}\\\\                                             0 & \\quad\\text{otherwise . }                                             \\end{array}\\right.\\ ] ] summing up all the contributions , we get that the degree of @xmath474 is @xmath475 and this shows that the admissibility of @xmath451 is equivalent to condition ( 1 ) .",
    "let @xmath119 be a connected subcurve of @xmath452 with connected complement such that neither @xmath119 nor @xmath476 are contracted by @xmath68 and set @xmath477 .",
    "we can assume that @xmath478 .",
    "we want to compute the degree of @xmath479 .",
    "again by proposition  [ prop : node ] each extremal node of @xmath119 belongs to only one @xmath326 .",
    "let @xmath480 be the induced function ; note that the extremal nodes of @xmath119 map bijectively onto the extremal nodes of @xmath59 and hence we can also consider @xmath63 as a domain for the function @xmath481 .",
    "we have @xmath482 if we fix @xmath483 such that @xmath484 , we also have @xmath485 moreover , we have @xmath473})|_z)=\\left\\{\\begin{array}{rl }                                             -\\#(j_z^{-1}(k)\\cap\\sigma_{c_r } ) & \\quad\\text{if $ c_r\\subset y^c$}\\\\                                             \\#(j_z^{-1}(k)\\cap\\sigma_{c_r } ) & \\quad\\text{if $ c_r\\subset y$}.\\\\                                             \\end{array}\\right.\\ ] ] indeed , @xmath486 is the collection of extremal nodes of @xmath119 that belong to @xmath487 .",
    "this means that over each node @xmath488 the intersection of the divisor @xmath489}$ ] with @xmath119 is either empty or a chain of rational curves contracted by @xmath68 with image the node @xmath64 . in either case",
    "the contribution to the intersection number @xmath490}\\cdot z$ ] is zero . on the other hand",
    "if @xmath491 , then the intersection @xmath489}\\cap z\\cap\\phi^{-1}(n)$ ] is a single point , and in this case the contribution to the intersection number is 1 .",
    "the case where @xmath492 is analogous . to sum up",
    ", if we define @xmath493 then the degree of @xmath479 is @xmath494})|_z).\\ ] ]    we note now that @xmath495 in fact , we have a total of @xmath496 sections , and hence @xmath497 is the number of sections that do not satisfy the conditions in equation  [ eq :",
    "c ] , i.e. the number of sections that satisfy either @xmath498 and @xmath499 or @xmath500 and @xmath499 .",
    "this is clearly equal to the right hand side of equation  [ eq : mca ] .",
    "let @xmath501 be @xmath20 if @xmath492 and @xmath121 otherwise .",
    "we have @xmath502})|_z )   & =   &   \\sum_{k=1}^{d+1}\\sum_{r=1}^p\\underset{n\\in c_r}{\\sum_{j_z(n)=k}}\\epsilon_r \\ell_{r , k } \\\\    & = & \\sum_{n\\in c^{sing}}\\underset{r=1,\\ldots , p}{\\sum_{n\\in c_r}}\\epsilon_r\\ell_{r , j_z(n ) }   \\end{aligned}\\ ] ] and , since @xmath64 only belongs to two components we also have @xmath503 therefore , we conclude that @xmath504})|_z)&=&-\\sum_{n\\in\\sigma_y}b^y_{j_z(n)}(y,{\\mathcal l})\\\\ & = & -\\sum_{n\\in c^{sing}}b^y_{j_z(n)}(y,{\\mathcal l})\\end{aligned}\\ ] ] and the proof is complete .",
    "let @xmath505 be a pointed smoothing of a nodal curve @xmath0 with section @xmath506 through the smooth locus of @xmath14 .",
    "let @xmath15 be a invertible sheaf of degree @xmath16 over @xmath12 .",
    "from now on , we assume that @xmath0 has two smooth components @xmath24 and @xmath25 meeting at @xmath507 nodes @xmath508 , with the marked point @xmath81 on the component @xmath24 . locally around each node @xmath509 ,",
    "the completion of the local ring of @xmath12 at @xmath509 is given by @xmath191,\\ ] ] where @xmath303 is the local equation of @xmath24 and @xmath304 is that of @xmath25 .",
    "hence , if we let @xmath510)$ ] , then , for each node @xmath64 , there exists a map @xmath511 taking the closed point of @xmath512 to @xmath64 .",
    "moreover , the composition map @xmath196 is given by @xmath197 .",
    "our goal is to resolve the rational map @xmath513 .",
    "let @xmath26 be the desingularization of @xmath27 obtained inductively as follows : first define @xmath28 .",
    "then assume that the desingularization @xmath26 of @xmath27 is given and let @xmath29 be the sequence of blowups along the strict transforms of the following weil divisors in the stated order @xmath514 and then @xmath515 where @xmath32 is the image of the section @xmath34 , induced by the composition @xmath35 , where the last map is the projection onto the @xmath33-th factor .",
    "we proceed by induction . of course",
    ", @xmath517 is smooth .",
    "note that @xmath516 is given locally by @xmath518)$ ] .",
    "moreover , the map @xmath519 is given by @xmath520 and each @xmath521 is the local equation of the stric transform @xmath522}$ ] of some @xmath523 via the map @xmath524 , for @xmath525 and some @xmath526 .",
    "we may assume that @xmath527 , the other cases being analogous .",
    "following the notation in section  [ sec : des ] , we see that @xmath49 is the local description of @xmath516 and @xmath512 the one of @xmath12",
    ". moreover , the collection @xmath239 induced by the sequence of blowups and is smooth , because there exists a set @xmath528 with only @xmath294 as an element for each @xmath294 .",
    "therefore , by proposition  [ prop : smooth ] , @xmath516 is smooth .",
    "let @xmath529 be the desingularization given above .",
    "the projection @xmath530 onto the first factor is a regular family of nodal curves . as in",
    ", we define the sheaf @xmath451 on @xmath531 as @xmath532 where @xmath533 is defined as the sum of the strict transforms of the divisors @xmath534 , defined in equation  , via the map @xmath68 .",
    "define @xmath535 , for @xmath536 , as the locus in @xmath516 such that the fiber of @xmath537 is the curve @xmath538 ( see corollary  [ cor : chain ] for a description of these loci ) , and @xmath539 . then @xmath540 define a stratification of @xmath516 by locally closed subschemes .",
    "furthermore , note that each neighborhood of @xmath541 intersects every irreducible component of @xmath535 .",
    "note that the sheaf @xmath542 is @xmath21-quasistable over @xmath543 .    in order to prove the theorem we can argue locally on the base .",
    "in fact it suffices to prove that there exists a map extending @xmath23 locally around @xmath541 , since @xmath21-quasistability is an open condition by ( * ? ? ?",
    "34 ) and the restrictions of @xmath542 to the fibers over points in a connected component of @xmath535 have constant multidegree .",
    "let @xmath544 be a point in @xmath541 .",
    "we call the point @xmath544 a _ special point_. locally around @xmath544 , the scheme @xmath516 is given by @xmath545)$ ] .",
    "let @xmath546 be the natural map .",
    "let also @xmath547 be the restriction of the map @xmath548 ; hence @xmath547 is given by @xmath39 .",
    "we can associate to the special point @xmath544 a @xmath2-tuple @xmath549 , with @xmath550 , by the rule @xmath551 . also , we can associate to @xmath521 a @xmath2-tuple @xmath552 $ ] with @xmath553 , where @xmath521 is the local equation of the strict transform @xmath522}$ ] of @xmath523 via @xmath554 . abusing notation",
    "we will denote this @xmath2-tuple by @xmath555 $ ] and we set @xmath556 .",
    "we define a _ special point data _ as a set @xmath557,\\ldots , [ u_{d+1}]\\}.\\ ] ] we call such a data a _ constructible special point data _ if it arises from a special point @xmath544 of @xmath558 . in this case",
    "we may simply refer to it as a _ special point _ and denote it by @xmath544 .",
    "let @xmath559,\\ldots , [ u_{d+1}]\\}$ ] be a special point of @xmath516 and @xmath560 be a node of @xmath0 .",
    "we have maps @xmath561 and @xmath562 associated to these points",
    ". then equations and induce a collection @xmath563 of subsets of @xmath223 that gives the desingularization of @xmath203 , as in equation .",
    "we will call the @xmath563-ordering of @xmath564,\\ldots,[u_{d+1}]$ ] simply the _",
    "@xmath565-ordering of @xmath564,\\ldots,[u_{d+1}]$]_.      for @xmath343 , we use corollary  [ cor : rational ] .",
    "we just need to find each collection @xmath563 associated with the blowup described by equations and .",
    "first , note that each special point @xmath568,[2]\\}$ ] in @xmath517 is locally given by @xmath569\\cdot[2]$ ] , and each node @xmath570 of @xmath12 is given locally by @xmath197 .",
    "therefore , we just need to compute the local equations of the diagonal of @xmath571 and of each one of the divisors @xmath572 , @xmath573 , @xmath574 and @xmath575 .",
    "if @xmath576 then the diagonal is empty , otherwise the equation of the diagonal is @xmath577,y-[2])$ ] . on the other hand ,",
    "the equation of @xmath578 is @xmath579)$ ] and of @xmath580 is @xmath581)$ ] , for @xmath582 . by remark  [ rem :",
    "diagonal ] , the blowup of the diagonal is locally given by the blowup of @xmath583)$ ] , while the blowup of @xmath580 is locally given by the blowup of @xmath584)$ ] .",
    "it follows that the @xmath585-ordering of @xmath586,[2]$ ] is @xmath587,[2 ] & \\text{if } & { \\ell}_2\\neq{\\ell}_1\\\\    \\;[2 ] , [ 1 ] & \\text{if } & { \\ell}_2 = { \\ell}_1.\\end{aligned}\\ ] ] note that in corollary  [ cor : rational ] the nodes @xmath332 are the special points .",
    "moreover the strict transform of the divisor @xmath588)$ ] becomes @xmath589 $ ] and that of @xmath590)$ ] becomes @xmath591 $ ] .",
    "therefore , the contructible special point data for @xmath592 are @xmath593,[22],[12]\\}\\quad\\text{and}\\quad \\{({\\ell},{\\ell}),[21],[11],[12]\\}\\ ] ] and @xmath594,[12],[22]\\}\\quad\\text{and}\\quad\\{({\\ell}_1,{\\ell}_2),[11],[21],[22]\\},\\ ] ] for @xmath595 .    for @xmath596 , we proceed in a similar fashion .",
    "first , fix a special point @xmath544 with special point data @xmath597,[u_2],[u_3]\\}$ ] in @xmath592 and choose a node @xmath598 of @xmath0 .",
    "the equation of the diagonal @xmath599 is of the form @xmath600 where @xmath601 since @xmath303 is the equation of @xmath24 .",
    "note that if @xmath602 then @xmath603 is empty and then so is @xmath599 . on the other hand , the local equation of @xmath604}\\times c_{1}$ ]",
    "is @xmath261 and the one of @xmath604}\\times c_2 $ ] is @xmath605 .",
    "it follows that the blowup of the diagonal @xmath599 is locally given by the blouwup of @xmath606 and the blowup of @xmath604}\\times c_2 $ ] is locally given by the blowup of @xmath607 .",
    "now , for @xmath608,[12],[21]\\}$ ] and @xmath609 , we see that the collection @xmath610 is given by @xmath611\\}$ ] , @xmath612\\}$ ] , @xmath613\\}$ ] , @xmath614,[21]\\}$ ] , and so on .",
    "however @xmath615 is a smooth collection .",
    "then the @xmath616-ordering of @xmath617,[12],[21]$ ] is @xmath618,[21],[11]$ ] , and hence , by corollary  [ cor : rational ] , we have @xmath619 special points in @xmath620 lying over @xmath544 , that are @xmath621,[122],[212],[112]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}),[121],[211],[212],[112]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}),[121],[211],[111],[112]\\}. \\end{array}\\ ] ] similarly , for @xmath622,[21],[22]\\}$ ] and @xmath609 , the @xmath616-ordering of @xmath618 $ ] , @xmath623 $ ] , @xmath624 $ ] is @xmath624,[12],[21]$ ] , then we get the 3 special points",
    "@xmath625,[222],[122],[212]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}),[221],[121],[122],[212]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}),[221],[121],[211],[212]\\}. \\end{array}\\ ] ] as for the case @xmath608,[12],[21]\\}$ ] and @xmath626 , we see that the two diagonals are empty .",
    "therefore @xmath627\\}$ ] , @xmath628,[21]\\}$ ] , @xmath629\\}$ ] , @xmath630,[21]\\}$ ] , and so on .",
    "we see that @xmath631 is a smooth collection , and in fact the given desingularization is the same as that given by the collection @xmath632 .",
    "the @xmath616-ordering of @xmath617,[12],[21]$ ] is @xmath617,[12],[21]$ ] .",
    "it follows again from corollary  [ cor : rational ] that the special points of @xmath620 over @xmath544 are @xmath633,[112],[122],[212]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}_3),[111],[121],[122],[212]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}_3),[111],[121],[211],[212]\\}. \\end{array}\\ ] ] similarly , for @xmath622,[21],[22]\\}$ ] and @xmath634 , the @xmath616-ordering of @xmath618 $ ] , @xmath623 $ ] , @xmath624 $ ] is @xmath618,[21],[22]$ ] , and then we get the 3 special points",
    "@xmath635,[122],[212],[222]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}_3),[121],[211],[212],[222]\\}\\\\ \\{({\\ell},{\\ell},{\\ell}_3),[121],[211],[221],[222]\\}. \\end{array}\\ ] ] as for the case @xmath636,[12],[22]\\}$ ] with @xmath595 and @xmath637 , we see that the diagonal @xmath638 is empty .",
    "therefore @xmath639\\}$ ] ( it comes from the diagonal @xmath640 ) , @xmath641\\}$ ] , @xmath642 , @xmath614\\}$ ] , and so on .",
    "we see that @xmath615 is a smooth collection .",
    "the @xmath616-ordering of @xmath617,[12],[22]$ ] is @xmath624,[11],[12]$ ] .",
    "it follows again from corollary  [ cor : rational ] that the special points of @xmath620 over @xmath544 are @xmath643,[222],[112],[122]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_1),[221],[111],[112],[122]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_1),[221],[111],[121],[122]\\}. \\end{array}\\ ] ] similarly for @xmath636,[21],[22]\\}$ ] with @xmath595 and @xmath644 , the @xmath616-ordering of @xmath617,[21],[22]$ ] is @xmath623,[22],[11]$ ] , and then we get the special points",
    "@xmath645,[212],[222],[112]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_1),[211],[221],[222],[112]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_1),[211],[221],[111],[112]\\}. \\end{array}\\ ] ] as for the case @xmath636,[12],[22]\\}$ ] with @xmath595 and @xmath646 , we see that the diagonal @xmath640 is empty .",
    "therefore @xmath647,[22]\\}$ ] ( it comes from the diagonal @xmath638 ) , @xmath641\\}$ ] , @xmath642 , @xmath614\\}$ ] , and so on .",
    "we see that @xmath648 is a smooth collection , and in fact the given desingularization is the same as that given by the collection @xmath649 .",
    "the @xmath616-ordering of @xmath617,[12],[22]$ ] is @xmath618,[22],[11]$ ] .",
    "it follows again from corollary  [ cor : rational ] that the special points of @xmath620 over @xmath544 are @xmath650,[122],[222],[112]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_2),[121],[221],[222],[112]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_2),[121],[221],[111],[112]\\}. \\end{array}\\ ] ] similarly for @xmath636,[21],[22]\\}$ ] with @xmath595 and @xmath651 , the @xmath616-ordering of @xmath617,[21],[22]$ ] is @xmath624,[11],[21]$ ] , and then we get special points",
    "@xmath652,[222],[112],[212]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_2),[221],[111],[112],[212]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_2),[221],[111],[211],[212]\\}. \\end{array}\\ ] ] as for the case @xmath636,[12],[22]\\}$ ] with @xmath595 and @xmath653 , we see that the diagonals are empty .",
    "therefore @xmath627\\}$ ] , @xmath654 , @xmath629\\}$ ] , @xmath655 , and so on .",
    "we see that @xmath631 is a smooth collection , and in fact the given desingularization is the same as that given by the collection @xmath632 .",
    "the @xmath616-ordering of @xmath617,[12],[22]$ ] is @xmath617,[12],[22]$ ] .",
    "it follows from corollary  [ cor : rational ] that the special points of @xmath620 over @xmath544 are @xmath656,[112],[122],[222]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_3),[111],[121],[122],[222]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_3),[111],[121],[221],[222]\\}. \\end{array}\\ ] ] similarly for @xmath636,[21],[22]\\}$ ] with @xmath595 and @xmath657 , the @xmath616-ordering of @xmath617,[21],[22]$ ] is @xmath617,[21],[22]$ ] , and then we get special points",
    "@xmath656,[112],[212],[222]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_3),[111],[211],[212],[222]\\}\\\\ \\{({\\ell}_1,{\\ell}_2,{\\ell}_3),[111],[211],[221],[222]\\}. \\end{array}\\ ] ]    let @xmath658,\\ldots,[u_{d+1}]\\}$ ] be a special point of @xmath516 and a let @xmath659 be a node of @xmath0 .",
    "the special points of @xmath531 over @xmath660 are of the form @xmath661 , [ v_2\\ ; 1],\\ldots , [ v_h\\ ; 1 ] , [ v_h \\;2],\\ldots , [ v_{d+1}\\ ; 2]\\},\\ ] ] where @xmath662,[v_2],\\ldots , [ v_{d+1}]$ ] is the @xmath663-ordering of @xmath564,\\ldots , [ u_{d+1}]$ ] , for each @xmath664 .",
    "recall that @xmath665 is the collection associated to the blowup given by equations and . as in the case @xmath596",
    ", we see that the equation of the diagonal @xmath666 is of the form @xmath667 where @xmath668 in particular if @xmath669 , then @xmath603 is empty and so is @xmath666 . if @xmath564,\\ldots , [ u_{d+1}]$ ] is written in lexicographical order , then @xmath670 , @xmath671 , @xmath672 , @xmath673 , @xmath674\\}$ ] , @xmath675\\}^c$ ] , @xmath676\\}$ ] , and so on .",
    "note that some of @xmath280 ,  , @xmath677 might be empty , and in the examples above we omitted such sets .",
    "we sum - up what we have shown in the following lemma .      1 .",
    "there exists @xmath679 such that @xmath680 and @xmath681 with @xmath682 ; moreover , @xmath683 for each @xmath684 such that @xmath685 .",
    "2 .   for all @xmath483",
    "such that @xmath686 we have @xmath683 and there exists @xmath679 such that @xmath687 with @xmath688 and @xmath689 ; moreover , for all @xmath690 we have @xmath683 .",
    "we now start to check the conditions in theorem  [ thm : map ] .",
    "given a special point @xmath658,\\ldots,[u_{d+1}]\\}$ ] in @xmath516 , we only need to compute the numbers @xmath691 and @xmath692 , where @xmath64 is a node of @xmath0 and @xmath321 .",
    "we observe that @xmath691 is the number of sections @xmath461 such that @xmath693 and @xmath694 , where @xmath386 is the generic point of @xmath322 .",
    "thus , by the definition of @xmath461 , we see that @xmath691 is the number of @xmath483 s such that @xmath693 and @xmath695 .",
    "thus , it is convenient to define @xmath696,r}&:=&a^{n_{\\ell}}_j(c_1)=\\#\\{k\\ ; |\\ ; \\ell_k={\\ell}\\quad\\text{and}\\quad u_j(k)=2\\},\\\\ a_{[u_j],r}&:=&(a^1_{[u_j],r},a^2_{[u_j],r},\\ldots , a^q_{[u_j],r}),\\\\      [ prop : main ] let @xmath658,\\ldots , [ u_{d+1}]\\}$ ] be a constructible special point data with @xmath564,\\ldots , [ u_{d+1}]$ ] written in lexicographical order .",
    "let also @xmath698 be a node of @xmath0 and @xmath662,\\ldots , [ v_{d+1}]$ ] be the @xmath565-ordering of @xmath564,\\ldots , [ u_{d+1}]$ ] with respect to the node @xmath509 .",
    "the following conditions holds .    1 .   the permutation @xmath662,\\ldots , [ v_{d+1}]$ ] of @xmath564,\\ldots , [ u_{d+1}]$ ] is cyclic .",
    "@xmath699,r}\\leq a_{[u_{j+1}],r}$ ] for each @xmath700 .",
    "@xmath701,r}\\geq a^{\\ell}_{[v_{j+1}],r}$ ] for each @xmath700 .",
    "4 .   @xmath702,r}-a^{\\ell}_{[v_{d+1}],r}\\leq 1 $ ] ; furthermore , the equality holds if and only if there exists @xmath703 such that @xmath704 . 5 .",
    "@xmath705,r}|-|a_{[u_j],r}|\\leq 1 $ ] for each @xmath700 .",
    "we proceed by induction on @xmath2 . for @xmath566",
    "the constructible special point data is of the form @xmath706,[2]\\}$ ] and hence it satisfies all the stated conditions .",
    "now , assume that these conditions hold for @xmath2 .",
    "let @xmath659 be a node of @xmath0 , and let @xmath707,\\ldots , [ w_{d+2}]\\}$ ] be a special point of @xmath531 over @xmath708 .",
    "we begin by proving item ( 1 ) .",
    "let @xmath709,\\ldots , [ { \\widetilde}v_{d+1}]$ ] be the @xmath710-ordering of @xmath564,\\ldots,[u_{d+1}]$ ] .",
    "it follows from equation that @xmath711,\\ldots , [ w_{d+2}]$ ] is a permutation of @xmath712,\\ldots , [ { \\widetilde}v_h\\;1],[{\\widetilde}v_h\\;2],\\ldots,[{\\widetilde}v_{d+1}\\ ; 2].\\ ] ] by lemma  [ lem : ordering ] the @xmath710-ordering of the equation is @xmath713,\\ldots,[{\\widetilde}v_{d+1}\\ ; 2 ] , [ { \\widetilde}v_1\\ ; 1],\\ldots , [ { \\widetilde}v_h\\;1].\\ ] ] let @xmath714,\\ldots , [ { v}_{d+1}]$ ] be the @xmath233-ordering of @xmath564,\\ldots , [ u_{d+1}]$ ] for @xmath715 . by induction hypothesis ,",
    "the following relations hold for some @xmath716 @xmath717 if @xmath718 , then it follows from lemma  [ lem : ordering ] that the @xmath233-ordering of equation is @xmath719,[{\\widetilde}v_{h_0 + 1}\\ ; 1],\\ldots,[{\\widetilde}v_h\\ ; 1],[{\\widetilde}v_h\\ ; 2],\\ldots , [ { \\widetilde}v_{d+1 } \\ ; 2 ] , [ { \\widetilde}v_1\\ ; 1],\\ldots , [ { \\widetilde}v_{h_0 - 1}\\ ; 1].\\ ] ] if @xmath720 , then the @xmath233-ordering of equation is @xmath721,[{\\widetilde}v_{h_0 + 1}\\ ; 2],\\ldots,[{\\widetilde}v_{d+1}\\ ; 2],[{\\widetilde}v_1\\ ; 1],\\ldots , [ { \\widetilde}v_{h } \\ ; 1 ] , [ { \\widetilde}v_h\\ ; 2],\\ldots , [ { \\widetilde}v_{h_0 - 1}\\ ; 2].\\ ] ]    since by induction hypothesis , @xmath722,\\ldots,[{\\widetilde}v_{d+1}]$ ] is a cyclic permutation of @xmath564,\\ldots,[u_{d+1}]$ ] and the latter is in lexicographical order , the following relations hold for some @xmath140 @xmath723 if @xmath724 , then the lexicographical ordering of equation is @xmath725,\\ ; [ { \\widetilde}v_{h'+1}\\ ; 1],\\;\\ldots , \\;[{\\widetilde}v_h\\ ; 1],\\ ; [ { \\widetilde}v_h\\ ; 2],\\;\\ldots , [ { \\widetilde}v_{d+1}\\ ; 2],\\ ; [ { \\widetilde}v_1\\ ; 1],\\;\\ldots , [ { \\widetilde}v_{h'-1}\\ ; 1].\\ ] ] if @xmath726 , then the lexicographical ordering of equation is @xmath727,\\ ; [ { \\widetilde}v_{h'+1}\\ ; 2],\\;\\ldots , \\;[{\\widetilde}v_{d+1}\\ ; 2],\\ ; [ { \\widetilde}v_1\\ ; 1],\\;\\ldots , [ { \\widetilde}v_h\\ ; 1],\\ ; [ { \\widetilde}v_h\\ ; 2],\\;\\ldots , [ { \\widetilde}v_{h'-1}\\ ; 2].\\ ] ] we conclude that if @xmath711,\\ldots , [ w_{d+2}]$ ] is in lexicographical order ( see equations and ) , then their @xmath233-ordering ( see equations and ) is obtained by a cyclic permutation .",
    "the proof of the first item is complete .",
    "recall that , by induction hypothesis , items ( 2 ) , ( 3 ) and ( 4 ) hold for @xmath2 .",
    "we want to prove that these items also hold for @xmath189 .",
    "we can rewrite equations and as follows @xmath728,\\;\\ldots , \\;[u_{h+1-h'}\\ ; 1],\\ ; [ u_{h+1-h'}\\ ; 2],\\;\\ldots & \\\\ & \\hspace{-1 in } \\ldots,[u_{d+2-h'}\\ ; 2],\\ ; [ u_{d+3-h'}\\ ; 1],\\;\\ldots , [ u_{d+1}\\ ; 1 ] .",
    "\\end{array}\\ ] ] and @xmath729,\\;\\ldots , \\;[u_{d+2-h'}\\ ; 2],\\ ; [ u_{d+3-h'}\\ ; 1],\\;\\ldots & \\\\ & \\hspace{-1.3in}\\ldots , [ u_{d+2+h - h'}\\ ; 1],\\ ; [ u_{d+2+h - h'}\\ ; 2],\\;\\ldots , [ u_{d+1}\\ ; 2 ] . \\end{array}\\ ] ]    if @xmath715 , we have that @xmath730,r'}=a^{\\ell}_{[u_j],r}$ ] for @xmath731 ; moreover , the @xmath732ordering of @xmath711,\\ldots , [ w_{d+2}]$ ] is essentially the same of @xmath564,\\ldots , [ u_{d+1}]$ ] , as we can see in equations and .",
    "therefore , in this case , we have nothing to prove .      *",
    "case 1*. assume that there exists @xmath703 such that @xmath735 . using the induction hypothesis ,",
    "it is easy to see that the following relations hold @xmath736,r}+1=\\ldots = a^{{\\ell}_{d+1}}_{[u_{d+2-h'}],r}+1=a^{{\\ell}_{d+1}}_{[u_{d+3-h'}],r}=\\ldots = a^{{\\ell}_{d+1}}_{[u_{d+1}],r}.\\ ] ] note that the following relations also hold @xmath737,r'}=a^{{\\ell}_{d+1}}_{[u_{d+2-h'}],r}+1=a^{{\\ell}_{d+1}}_{[u_{d+3-h'}],r}=a^{{\\ell}_{d+1}}_{[u_{d+3-h'}\\;1],r'}.\\ ] ] therefore , with respect to equation , we have @xmath738,r'}+1=\\ldots = a^{{\\ell}_{d+1}}_{[u_{h+1-h'}\\;1],r'}+1=a^{{\\ell}_{d+1}}_{[u_{h+1-h'}\\;2],r'}=\\ldots = a^{{\\ell}_{d+1}}_{[u_{d+1}\\;2],r'},\\ ] ] while with respect to equation , we have @xmath739,r'}+2=\\ldots = a^{{\\ell}_{d+1}}_{[u_{d+2+h - h'}\\;1],r'}+2= & \\\\ &   \\hspace{-1in}=a^{{\\ell}_{d+1}}_{[u_{d+2+h - h'}\\;2],r'}+1=\\ldots = a^{{\\ell}_{d+1}}_{[u_{d+1}\\;2],r'}+1 .   \\end{array}\\ ] ] this proves item ( 2 ) . to prove items ( 3 ) and ( 4 )",
    ", we just note that the @xmath710-ordering of @xmath711,\\ldots,[w_{d+2}]$ ] is given by equation ; moreover , in the case of equation we have @xmath740 , while in the case of equation we have @xmath741 .",
    "in particular , we have equality in item ( 4 ) .    *",
    "case 2*. assume that there is no @xmath703 with @xmath735 .",
    "then the @xmath710-ordering of @xmath564,\\ldots,[u_{d+1}]$ ] is simply @xmath564,\\ldots,[u_{d+1}]$ ] . in this case , using equation ( with @xmath742 ) and the fact that @xmath743,r}=0 $ ] , we see that items ( 2 ) , ( 3 ) and ( 4 ) readily hold .",
    "to conclude the proof of theorem [ thm : main ] , we have to check the conditions of theorem  [ thm : map ] for every special point @xmath544 of @xmath516 . with the notation of this section ,",
    "these conditions become    1 .   for every @xmath442 and every node @xmath509 of @xmath0",
    ", we have @xmath745,r}-b_{[u_{j_1}],r})-(a^{\\ell}_{[u_{j_2}],r}-b_{[u_{j_2}],r})|\\leq 1.\\ ] ] 2 .   for every @xmath746",
    ", we have @xmath747,r}-b_{[u_{j_{\\ell}}],r})\\leq \\frac{q}{2}.\\ ] ]    first , we note that by item ( 2 ) of proposition  [ prop : main ] and by equation we have @xmath748,r}\\leq b_{[u_{i+1}],r}\\quad\\text{for every } i=1,\\ldots , d.\\ ] ] moreover , by item ( 4 ) of proposition  [ prop : main ] , we get @xmath749,r}|-|a_{[u_1],r}|\\leq q$ ] and hence @xmath750,r}-b_{[u_1],r}\\leq 1 $ ] .    we now prove condition ( 1 ) .",
    "assume without loss of generality that @xmath751 . by items ( 2 ) and ( 4 ) of proposition  [ prop : main ] we see that @xmath752,r}-a^{\\ell}_{[u_{j_2}],r}\\leq 1\\ ] ] and , by the observation above , that @xmath753,r}-b_{[u_{j_2}],r}\\leq 1.\\ ] ] therefore , condition ( 1 ) holds .",
    "as for condition ( 2 ) , we just have to compute the minimum and maximum of the function @xmath754,r}-b_{[u_{j_{\\ell}}],r}).\\ ] ] clearly it is enough to find the minimum and maximum of each function @xmath755,r}-b_{[u_{j}],r}.\\ ] ] since @xmath756,r}\\leq b_{[u_{i+1}],r}$ ] and @xmath750,r}-b_{[u_1],r}\\leq 1 $ ] , we have two cases . in the first case , we have @xmath757,r}=b_{[u_j],r}$ ] for every @xmath758 ; in the second case , there exists @xmath759 such that the following relations hold @xmath760,r}+1=\\ldots = b_{[u_h],r}+1=b_{[u_{h+1}],r}=\\ldots = b_{[u_{d+1}],r}.\\ ] ] in the first case , it follows from item ( 2 ) of proposition  [ prop : main ] that the mimimum of @xmath761 is attained at @xmath762 , while the maximum is attained at @xmath763 . on the other hand , in the second case",
    ", we claim that the minimum of @xmath761 is attained at @xmath764 . indeed , using item ( 4 ) of proposition  [ prop : main ]",
    ", we see that for every @xmath765 we have @xmath766,r}-b_{[u_{h+1}],r}=(a^{\\ell}_{[u_{h+1}],r}-1)-b_{[u_j],r}\\leq a^{\\ell}_{[u_j],r}-b_{[u_j],r}.\\ ] ] on the other hands , using item ( 2 ) of proposition  [ prop : main ] , we see that for every @xmath767 we have @xmath766,r}-b_{[u_{h+1}],r}=a^{\\ell}_{[u_{h+1}],r}-b_{[u_j],r}\\leq a^{\\ell}_{[u_j],r}-b_{[u_j],r}.\\ ] ] similarly , one can show that the maximum of @xmath761 is attained at @xmath768 .",
    "by the arguments above , there exists some @xmath759 , such that the minimum ( respectively maximum ) of @xmath769 is attained at @xmath770 .",
    "it follows from proposition  [ prop : generic ] that the sum @xmath771,r}-b_{[u_h],r})\\ ] ] satisfies condition ( 2 ) .",
    "this concludes the proof of theorem [ thm : main ] ."
  ],
  "abstract_text": [
    "<S> in this paper we give local conditions to the existence of abel maps for smoothings of nodal curves extending the abel maps for the generic fiber . </S>",
    "<S> we use this result to construct abel maps of any degree for nodal curves with two components . </S>"
  ]
}