{
  "article_text": [
    "if @xmath2 is a calabi - yau manifold , witten @xcite describes two different topological twistings of the non - linear sigma model of maps from a riemann surface to @xmath2 , which he calls the @xmath3 and @xmath1 models .",
    "if @xmath4 are a mirror pair of calabi - yau varieties , then the @xmath3 model on @xmath2 is equivalent to the @xmath1 model on @xmath5 , and vice - versa .",
    "the @xmath3 model has been mathematically constructed as the theory of gromov - witten invariants .",
    "the genus @xmath6 part of the @xmath1 model has been constructed by barannikov - kontesvich @xcite and barannikov @xcite .",
    "they construct a frobenius manifold from the variations of hodge structure of a calabi - yau .",
    "the genus @xmath6 part of mirror symmetry is then the statement that the genus @xmath6 part of the gromov - witten theory of a calabi - yau variety @xmath2 is equivalent to the theory of barannikov - kontsevich on a calabi - yau @xmath5 .    the higher genus @xmath1 model is more mysterious . in the physics literature , it is constructed as a kind of quantisation of the kodaira - spencer deformation theory of complex structures on a calabi - yau @xcite .    however , despite the great deal of interest in mirror symmetry since the subject s inception in the early 1990 s , there has been no rigorous construction of the higher - genus part of the @xmath1 model .",
    "one of the aims of this paper is to construct the @xmath1 model rigorously for the first time , and so provide a mirror partner to the entire theory of gromov - witten invariants .",
    "kontsevich @xcite formulated mirror symmetry as an equivalence of @xmath0 categories . if @xmath4 are a mirror pair , then kontsevich conjectures that the fukaya category of a variety @xmath2 ( @xmath3 model ) is equivalent to the dg category of complexes of coherent sheaves on @xmath5 ( @xmath1 model ) .",
    "kontsevich s homological mirror symmetry conjecture should explain other aspects of mirror symmetry .",
    "in particular , the equivalence of the theory of gromov - witten invariants on @xmath2 with the @xmath1 model on @xmath5 should be a corollary of kontsevich s conjecture .",
    "both of the @xmath0 categories appearing in kontsevich s conjecture are of calabi - yau type .",
    "this means , roughly , that there is a non - degenerate invariant pairing on the space of morphisms .",
    "this immediately suggests the following picture . from each calabi",
    "- yau @xmath0 category , one should construct something like the theory of gromov - witten invariants .",
    "if the input calabi - yau @xmath0 cateogry is the fukaya category of a compact symplectic manifold , then this theory should recover the usual theory of gromov - witten invariants .",
    "if the input calabi - yau @xmath0 category is the category of sheaves on a smooth projective variety , the resulting theory will , by definition , be the @xmath1 model at all genera .    in this paper",
    ", we prove results along these lines .",
    "these results are derived from a study of a kind of abstract topological string theory , called a topological conformal field theory ( tcft ) .",
    "we study open , closed and open - closed tcfts .",
    "closed tcfts behave like the gromov - witten invariants of a projective variety : a closed tcft can be described as a collection of cochains on moduli space of riemann surfaces , with values in tensor powers of an auxiliary chain complex ( the complex of `` closed states '' ) , and which satisfy certain gluing constraints .",
    "the main results of this paper are as follows .",
    "firstly , we show that open tcfts are the same as calabi - yau @xmath0 categories .",
    "thus to each calabi - yau variety we have two open tcfts : that associated to the fukaya category ( @xmath3 model ) and that coming from coherent sheaves ( @xmath1 model ) .",
    "then , we show how one can associate to each open tcft an open - closed tcft , and in particular a closed tcft .",
    "this is a formal , categorical construction .",
    "we observe that to each open tcft one can associate the homotopy universal open - closed tcft ( this is an example of a homotopy kan extension ) .",
    "then we calculate the homology of the space of closed states of this universal closed tcft : it is the hochschild homology of the @xmath0 category associated to the open tcft .",
    "also , we show , under certain assumptions , how to relate the closed tcft constructed here from the fukaya category of a compact symplectic manifold to the ordinary gromov - witten invariants of the manifold .    these results are proved using a combination of homotopical algebra , and some results about the topology of the moduli spaces of riemann surfaces . in particular , the dual version of the ribbon graph decomposition of moduli space @xcite plays an essential role .",
    "let us now turn to describing these results in more detail .",
    "let @xmath7 be segal s category of riemann surfaces .",
    "the objects of @xmath7 are finite sets ; for sets @xmath8 , a morphism from @xmath9 to @xmath10 is a riemann surface with @xmath9 incoming and @xmath10 outgoing parameterised boundary components .",
    "( we require that there is at least one incoming boundary on each component ) .",
    "composition of morphisms is given by gluing of riemann surfaces .",
    "disjoint union of sets and of surfaces gives @xmath7 the structure of symmetric monoidal category . according to segal @xcite , a conformal field theory is a symmetric monoidal functor from this category to the category of vector spaces .",
    "this definition can be modified in several ways .",
    "for example , we could look for functors from @xmath7 to the symmetric monoidal category of topological spaces , or of spectra . there is a natural linearised version of these topological functors , obtained by passing from the category of topological spaces to the category of chain complexes .",
    "let @xmath11 be a symmetric monoidal functor from the category of topological spaces to that of complexes of @xmath12 vector spaces , which computes homology groups .",
    "( here @xmath12 is a base field of characteristic zero ) .",
    "the category @xmath7 has discrete set of objects , but the spaces of morphisms are topological spaces . applying @xmath11 to the topological category @xmath7",
    "yields a differential - graded category @xmath13 .",
    "the objects of @xmath13 are , as before finite sets ; the morphisms of @xmath13 are defined by @xmath14 define @xmath15 @xmath16 , like @xmath7 , is a symmetric monoidal category .",
    "the following definition is due independently to getzler @xcite and segal @xcite .",
    "a topological conformal field theory is a symmetric monoidal functor @xmath17 from the differential graded category @xmath16 to the category of chain complexes .",
    "what this means is the following .",
    "for any finite set , @xmath18 is a chain complex .",
    "since @xmath17 is a symmetric monoidal functor , there is a map @xmath19 usually these maps are required to be isomorphisms ; if this was the case , the functor @xmath17 would be called _",
    "split_. we relax this to the condition that these maps are quasi - isomorphisms ; we say the functor is _ h - split _",
    "( homologically split ) .",
    "each chain @xmath20 in the moduli space of riemann surfaces with @xmath9 labelled incoming and @xmath10 labelled outgoing boundary components gives a map @xmath21 which is of the same degree as @xmath20 .",
    "this map respects the differential : @xmath22 , where @xmath23 is considered as an element of the chain complex @xmath24 .",
    "gluing riemann surfaces together must correspond to composition of maps , and disjoint union corresponds to tensor product .",
    "we need to twist the definition of tcft by a local system .",
    "let @xmath25 be the locally constant sheaf of @xmath12 lines on the morphism spaces of the category @xmath7 whose fibre at a surface @xmath26 is @xmath27\\ ] ] this is situated in degree @xmath28 .",
    "if @xmath29 are two surfaces with the incoming boundaries of @xmath30 identified with the outgoing boundaries of @xmath31 , then there is a natural isomorphism @xmath32 this shows that if we take chains with local coefficients , @xmath33 , then we still get a category .",
    "let @xmath34 where we use the notation @xmath35 for @xmath36 .",
    "a @xmath37-dimensional topological conformal field theory is a symmetric monoidal functor from the category @xmath38 to the category of complexes .",
    "it turns out that the local system @xmath25 is trivial ( up to a shift ) .",
    "however , it is still important to keep track of it , especially when we consider open - closed conformal field theory ; although the local system is trivial , in the open - closed case it can not be trivialised in a way compatible with the category structure . in the closed case ,",
    "this local system is not so important ; however , it is convenient to use it to keep track of the grading .",
    "one apparent disadvantage of the definition of tcft is that it seems to depend on an arbitrary choice , that of a chain model for the category @xmath7 .",
    "however , we show that quasi - isomorphic categories have homotopy equivalent ( in a precise sense ) categories of functors , so that up to homotopy there is no ambiguity .",
    "open - closed conformal field theory was first axiomatised by moore and segal @xcite .",
    "a riemann surface with open - closed boundary is a riemann surface @xmath26 , some of whose boundary components are parameterised , and labelled as closed ( incoming or outgoing ) ; and with some intervals ( the open boundaries ) embedded in the remaining boundary components .",
    "these are also parameterised and labelled as incoming and outgoing .",
    "the boundary of such a surface is partitioned into three types : the closed boundaries , the open boundary intervals , and the free boundaries .",
    "the free boundaries are the complement of the closed boundaries and the open boundary intervals , and are either circles or intervals .",
    "we require that each connected component of @xmath26 has at least one free or incoming closed boundary .        to define an open closed conformal field theory",
    ", we need a set @xmath39 of d - branes .",
    "define a category @xmath40 , whose objects are pairs @xmath41 of finite sets and maps @xmath42 .",
    "the morphisms in this category are riemann surfaces with open - closed boundary , whose free boundaries are labelled by d - branes .",
    "to each open boundary @xmath43 of @xmath26 is associated an ordered pair @xmath44 of d - branes , where it starts and where it ends .",
    "composition is given by gluing of surfaces ; we glue all the outgoing open boundaries of @xmath31 to the incoming open boundaries of @xmath30 , and similarly for the closed boundaries , to get @xmath45 .",
    "open boundaries can only be glued when their d - brane labels are compatible , as in figure [ figure open gluing ] .",
    "disjoint union makes @xmath40 into a symmetric monoidal category .",
    "define an open - closed conformal field theory to be a symmetric monoidal functor from @xmath40 to the category of vector spaces .",
    "let us assume , for simplicity , that this is split , so that the morphisms @xmath46 , for @xmath47 , are isomorphisms .",
    "then an open - closed cft consists of vector spaces @xmath48 , of closed states ; and for each pair of d - branes @xmath49 , a vector space @xmath50 .",
    "let @xmath26 be a riemann surface with open - closed boundary , each of whose free boundaries is labelled by a d - brane .",
    "suppose the sets of incoming and outgoing closed and open boundaries of @xmath26 are @xmath51 respectively",
    ". then @xmath26 must give a morphism @xmath52     are d - branes , labelling free boundaries .",
    "@xmath43 is an incoming open boundary with @xmath53 , @xmath54 . ]    as before , disjoint union of surfaces corresponds to tensor products of morphisms , and gluing of surfaces  composition in the category @xmath40  corresponds to composition of linear maps .",
    "[ figure open gluing ]   on @xmath31 is incoming , @xmath55 on @xmath30 is outgoing , and @xmath56 , @xmath57 .",
    "note incoming and outgoing boundaries are parameterised in the opposite sense.,title=\"fig : \" ]    an open cft is like this , except the surfaces have no closed boundaries , and there is no space of closed states .",
    "the definition of open - closed ( or just open ) topological cft is obtained from this definition in the same way the definition of topological cft is obtained from the definition of cft .",
    "so we replace the category @xmath40 by its associated category of chains , @xmath58 .",
    "we can also take chains with twisted coefficients ; define @xmath59 here @xmath25 is a certain local system on the moduli spaces of riemann surfaces with open - closed boundary .",
    "an open - closed tcft of dimension @xmath37 is a symmetric monoidal functor from @xmath60 to complexes , which is h - split , so that the maps @xmath61 are quasi - isomorphisms .    let @xmath62 be the full subcategory whose objects are purely open ; so they are of the form @xmath63 where @xmath64 .",
    "morphisms in @xmath62 are chains on moduli of surfaces with no closed boundary .",
    "an open tcft is a h - split symmetric monoidal functor from @xmath62 to complexes .",
    "there are functors @xmath65 let @xmath66 be an open tcft , so that @xmath67 is a symmetric monoidal functor . then we can push forward to get @xmath68 . here",
    "@xmath69 is the left adjoint to the pull - back functor @xmath70 ( here @xmath71 is the category of complexes of @xmath12 vector spaces ) .",
    "if we think of a category as like an algebra , then a functor from a category to complexes is like a ( left ) module ; and we can write this as @xmath72 the functor @xmath69 is not exact ; it does nt take quasi - isomorphisms to quasi - isomorphisms .",
    "instead , we use the left derived version @xmath73 which is exact .",
    "this is obtained by first replacing @xmath66 by a flat resolution , and then applying @xmath69 .",
    "it turns out that @xmath74 is an open - closed tcft ( that is , it is h - split ) .",
    "@xmath74 is the homotopy universal open - closed tcft associated to @xmath66 .",
    "we can pull back along @xmath75 , to get a closed tcft @xmath76 .",
    "this defines a functor from open to closed tcfts .",
    "we can think of this functor as taking an open tcft @xmath66 , and tensoring with the @xmath77 bimodule , @xmath60 ; that is , @xmath78 considered as a left @xmath38 module .    in this paper",
    "the following theorem is proved .    1 .",
    "the category of open tcfts of dimension @xmath37 , with fixed set of d - branes @xmath39 , is homotopy equivalent to the category of ( unital ) extended calabi - yau @xmath0 categories of dimension @xmath37 , with set of objects @xmath39 .",
    "2 .   for any open tcft @xmath66 ,",
    "the homotopy - universal functor @xmath79 is h - split , and so defines an open - closed tcft .",
    "3 .   let @xmath80 denote the hochschild homology of the @xmath0 category associated to @xmath66 by part ( 1 ) .",
    "then the homology of the closed states of the open - closed tcft @xmath74 is @xmath80 .",
    "the homology of the open states is just that of @xmath66 .",
    "+ more precisely , for an object @xmath81 , where @xmath82 , @xmath83 ( so that @xmath84 is a finite set ) , we have @xmath85 in particular , the closed tcft @xmath86 has homology @xmath87    the homology of moduli spaces acts on the hochschild homology of any calabi - yau @xmath0 category @xmath88 .",
    "that is there are operations @xmath89    part ( 1 ) can be viewed as a categorification of the ribbon graph decomposition of moduli spaces .",
    "the proof relies on the dual version of the ribbon graph decomposition proved by the author in @xcite .",
    "the statement that the categories are homotopy equivalent has a precise meaning .",
    "it means that there are functors from open tcfts to extended cy @xmath0 categories , and from extended cy @xmath0 categories to open tcfts , which are inverse to each other , up to quasi - isomorphism .",
    "a calabi - yau category is the categorical generalisation of a frobenius algebra . in a calabi - yau @xmath0 category ,",
    "the product is only associative up to homotopy , and there is a cyclic symmetry condition on the inner product with the higher multiplications @xmath90 .",
    "the adjective `` extended '' refers to a small technical generalisation of this definition which will be explained in section [ section proof ] .",
    "the homotopy universal closed tcft @xmath74 has the property that for every open - closed tcft @xmath91 , with a map @xmath92 in an appropriate homotopy category of tcfts , there is a map @xmath93 .",
    "here @xmath94 is the open tcft associated to @xmath91 by forgetting the closed part ; the fact that @xmath95 is a map of open - closed tcfts means that the diagrams @xmath96 \\ar[d ]   & { \\mathscr}{oc}^d_{\\lambda}(\\alpha,\\beta ) \\otimes \\psi   ( \\alpha ) \\ar[d ] \\\\ { \\mathbb}{l } i_\\ast \\phi(\\beta ) \\ar[r ] & \\psi(\\beta )   } \\ ] ] commute , for all objects @xmath97 of @xmath60 .    passing to homology of the closed states",
    ", we see that in particular , for all finite sets @xmath8 , the diagram @xmath98 \\ar[d ] &   h_\\ast({\\mathcal}m(i , j),{\\operatorname{det}}^d ) \\otimes h_\\ast(\\psi)^{\\otimes i } \\ar[d ] \\\\",
    "hh_\\ast(\\phi)^{\\otimes j } \\ar[r ] & h_\\ast(\\psi)^{\\otimes j}}\\ ] ] commutes . here",
    ", @xmath80 refers to the hochschild homology of the @xmath0 category associated to @xmath66 , under the correspondence between @xmath0 categories and open tcfts .",
    "@xmath99 means @xmath100 , so that @xmath101 .",
    "@xmath102 is the moduli space of riemann surfaces with @xmath9 incoming and @xmath10 outgoing boundaries .",
    "one could hope that part ( 3 ) of this result should give a natural algebraic characterisation of the category of chains on moduli spaces of curves , as morphisms in some homotopy category between the functors which assign to a calabi - yau @xmath0 category the tensor powers of its hochschild chains .",
    "theorem a implies a higher genus generalisation of deligne s hochschild cochains conjecture .",
    "deligne conjectured that there is a homotopy action of the chain operad of the little discs operad on the hochschild cochain complex of an algebra .",
    "this has now been proved by several authors , @xcite .",
    "a variant of deligne s conjecture states that the framed little discs operad acts on the hochschild cochains of a frobenius algebra .",
    "this has been proved by kaufmann @xcite and tradler - zeinalian @xcite .",
    "the framed little discs operad is the operad of genus zero riemann surfaces with boundary .",
    "what is shown here is that there is a homotopy action of chains on all - genus moduli spaces of riemann surfaces on the hochschild chains of a calabi - yau @xmath0 category , or in particular , of a frobenius algebra . restricting to riemann surfaces of genus zero with precisely one input , we find a homotopy co - action of the framed little discs operad on the hochschild chain complex .",
    "the hochschild cochain complex of a calabi - yau @xmath0 category is dual to the hochschild chain complex .",
    "therefore we can dualise the coaction on hochschild chains to find that the hochschild cochain complex has a homotopy action of the framed little discs operad , recovering the result of kaufman and tradler - zeinalian .",
    "it is not difficult to check that the coproduct on hochschild homology constructed here , which comes from the class of a point in the moduli space of genus @xmath6 surfaces with one incoming and two outgoing boundaries , coincides with the dual of the standard cup product on hochschild cohomology . also , the operator on hochschild homology which comes from the generator of @xmath103 of the moduli space of annuli with one incoming and one outgoing boundary coincides with the b operator of connes .    on the other hand ,",
    "very few of other operations we construct on hochschild homology admit such a simple description .",
    "in particular , the _ product _ we construct on hochschild homology , which can be described explicitly , seems not to have been considered in the literature before .",
    "statements close to the higher - genus analog of deligne s conjecture proved here have been conjectured by kontsevich as far back as 1994 @xcite , and have also been conjectured by segal , getzler , kapustin and rozansky @xcite .... a different approach to constructing an action of chains on moduli space on hochschild chains has been outlined by kontsevich @xcite using the standard ribbon graph decomposition of moduli spaces of curves , in a lecture at the hodge centenary conference in 2003 .",
    "moore and segal @xcite and independently lazaroiu @xcite have obtained descriptions of open - closed topological field theories .",
    "topological field theory ( tft ) is a greatly simplified version of the topological conformal field theory considered in this paper . instead of taking the singular chains on moduli spaces , in tft we only use @xmath104 , or equivalently only consider topological surfaces ( with no conformal structure ) .",
    "these authors show that an open - closed tft consists of a not necessarily commutative frobenius algebra @xmath3 , a commutative frobenius algebra @xmath1 , with a homomorphism from @xmath105 ( where @xmath106 is the centre of @xmath3 ) , satisfying an additional constraint , called the cardy condition .",
    "their result is closely related to ours .",
    "we show that an open topological conformal field theory , with one d - brane , is the same as a frobenius @xmath0 algebra .",
    "this is obviously the derived , or homotopy , version of their result .    in our situation ,",
    "the closed states are not just a frobenius algebra .",
    "they have a much richer structure coming from the topology of moduli spaces . also , the inner product on the space of closed states may be degenerate , even on homology .",
    "this is because in this paper we need the restriction that all of our riemann surfaces have at least one incoming boundary , whereas in moore and segal s work this is not imposed .",
    "suppose @xmath107 is an open - closed tcft , for simplicity with one d - brane .",
    "then @xmath3 is an @xmath0 frobenius algebra .",
    "then the map @xmath108 we construct is an analog of the map [ eqn ms map ] . as ,",
    "if we dualise we get a map @xmath109 this map is compatible with the operations coming from the homology of moduli spaces of curves , so in particular , it is a ring homomorphism . if @xmath3 purely of degree zero , and all higher products vanish , then @xmath110 is the centre of @xmath3",
    ". we can view @xmath111 as a derived analog of the centre , and this map corresponds to the one constructed by moore - segal and lazaroiu .",
    "the cardy condition automatically holds in our setting ( as it comes from one of the diagrams of open - closed tft ) .",
    "however it holds in a slightly different form to that used by moore - segal and lazaroiu . for us",
    ", the cardy condition is expressed in terms of the relation between the inner product on @xmath3 and a natural inner product on @xmath112 ( and in particular on @xmath113 $ ] ) . for moore - segal and lazaroiu",
    ", the cardy condition expresses the relation between an inner product on @xmath1 , which maps to @xmath110 , and that on @xmath3 .",
    "if the inner product on @xmath112 was non - degenerate , then the dual inner product on @xmath111 would satisfy moore - segal s and lazaroiu s form of the cardy condition .",
    "however , the inner product on @xmath112 is often degenerate .",
    "there is a variant of the main result that deals with non - unital calabi - yau @xmath0 categories .",
    "this version is perhaps more suited to applications , as non - unital calabi - yau @xmath0 categories are easier to construct and have a better - behaved deformation theory .    as the proof of the non - unital version is essentially the same , i will just indicate how the statement differs .",
    "the identity morphisms on an object of a calabi - yau @xmath0 category corresponds to the disc with a single open boundary , and free boundary labelled by a d - brane .",
    "therefore , if we want to work with non - unital calabi - yau @xmath0 categories , we must remove these morphisms from the category @xmath114 .",
    "thus let @xmath115 be the subcategory such that each connected component of the morphism surfaces is not a disc with @xmath116 open boundary .",
    "it turns out we have to perform a similar modification in the closed case .",
    "that is , let @xmath117 be the subcategory such that each connected component of the morphism surface is not a disc with one incoming closed boundary .",
    "we also have @xmath118 , where we disallow surfaces with a connected component which is a disc with either @xmath116 open or @xmath119 closed boundaries , or an annulus with one closed , one free , and no open boundaries .",
    "then the analog of theorem a holds .",
    "that is , open tcfts using @xmath120 are homotopy equivalent to non - unital extended calabi - yau @xmath0 categories of dimension @xmath37 . for each such variant",
    "open tcft , there is a homotopy - universal open closed ( using @xmath118 ) .",
    "the homology of the closed states of this is the hochschild homology of the calabi - yau @xmath0 category associated to the open tcft .",
    "here we have to be careful with the definition of hochschild homology ; for a non - unital category , the correct definition is to formally augment the category by adding on unit morphisms , and then quotient out by the subcomplex of the hochschild chain complex spanned by these identity morphisms ( considered as hochschild zero chains ) .",
    "it is this version of hochschild homology we find .",
    "there are two parts to the proof of the main theorem : a homological algebraic part , and a geometrical part .",
    "the algebraic part consists of constructing some very general homotopy theory for functors from differential graded symmetric monoidal categories .",
    "if @xmath3 is a differential graded symmetric monoidal ( dgsm ) category , we consider a dg symmetric monoidal functor @xmath121 as a left @xmath3 module .",
    "we define the notion of tensor product and homotopy tensor product of an @xmath122 bimodule with a @xmath123 bimodule .",
    "the main technical point here is the result that in certain situations flat resolutions of modules exist .",
    "these results allow us to show that if @xmath124 is a quasi - isomorphism of dgsm categories , then the categories of @xmath3 modules and @xmath1 modules are homotopy equivalent .",
    "the geometric part of the proof amounts to giving an explicit generators - and - relations description for a category quasi - isomorphic to the category @xmath125 , and for the category @xmath126 , considered as a right @xmath125 module .",
    "these explicit models are derived from certain cell complexes weakly equivalent to moduli spaces of riemann surfaces , constructed in @xcite .",
    "the cell complexes are compatible with the open gluing maps , but _ not _ with the closed gluing maps . at no point",
    "do we construct a cellular model for segal s category .",
    "i believe that such a model can not be constructed using the standard ribbon graph decomposition .",
    "let me describe briefly how these cellular models for moduli space are constructed .",
    "a detailed account is contained in @xcite .",
    "consider the moduli space @xmath127 of riemann surfaces of genus @xmath128 , with @xmath129 boundary components , @xmath130 marked points on the boundary , and @xmath131 marked points in the interior .",
    "the boundary marked points will play the role of open boundary components , and the marked points in the interior ( after we add the data corresponding to the parameterisation ) will play the role of closed boundary components .",
    "we use a partial compactification @xmath132 into an orbifold with corners , whose interior is @xmath127 .",
    "this partial compactification is modular ; it parameterises riemann surfaces possibly with nodes on the boundary .",
    "these nodes appear when we glue together two boundary marked points .",
    "this operation is homotopic to the operation of gluing two parameterised intervals on the boundary of a surface together , which gives the composition in the category of riemann surfaces with open boundaries .    inside @xmath132",
    "is an orbi - cell complex @xmath133 , which parameterises riemann surfaces glued together from discs , each of which has at most one internal marked point .",
    "this cell complex is compatible with the open gluing maps ; if we take a riemann surface built from discs , and glue two of the marked points , the surface is still built from discs .",
    "if we pass to cellular chains , and restrict to the surfaces with no internal marked points , we can construct a chain model for the category @xmath134 .",
    "it turns out the generators are discs , and there are only some very simple relations .",
    "the compactified moduli space of marked points on the boundary of a disc is a stasheff polytope . from this",
    "we deduce that open tcfts are homotopy equivalent to calabi - yau @xmath0 categories .    from considering the moduli spaces @xmath135",
    "where @xmath136 , we can find a model for @xmath137 as a right @xmath138 module .",
    "this again has a very simple generators and relations description .",
    "the generators are annuli , one of whose boundaries is a closed ( parameterised ) boundary , and the other has some open marked points on it .",
    "( we get annuli from discs with a single internal marked point , by fattening this marked point into a ( parameterised ) closed boundary . up to homotopy",
    "there is an @xmath139 of ways of doing this ) .",
    "there is only one relation , which tells us about forgetting marked points on the boundary of the annulus .",
    "this model allows us to compute the homology of @xmath140 , for any open tcft @xmath17 .",
    "we find this is the hochschild homology of the @xmath0 category associated to @xmath17 .",
    "this turns out to follow from simple facts about the geometry of the compactified moduli space of marked points on the boundary of an annulus .",
    "a calabi - yau category is the categorical generalisation of a frobenius algebra .",
    "a cy category @xmath141 of dimension @xmath37 ( over our base field @xmath12 ) is a linear category with a trace map @xmath142\\ ] ] for each object @xmath3 of @xmath141 .",
    "the associated pairing @xmath143\\ ] ] given by @xmath144 is required to be symmetric and non - degenerate .",
    "a calabi - yau category with one object is then the same as a frobenius algebra .",
    "the grading convention is slightly funny ; note that @xmath145 is dual to @xmath146 .",
    "this is forced on us by using homological grading conventions , so the differential is of degree @xmath147 .",
    "a calabi - yau @xmath0 category is an @xmath0 category with a trace map as above , whose associated pairing is symmetric and non - degenerate . if @xmath148 are morphisms , then @xmath149 is required to be cyclically symmetric .",
    "the notion of extended cy @xmath0 category is a small technical generalisation of this definition , and will be explained later .    one special property enjoyed by calabi - yau @xmath0 categories is a duality between hochschild homology and cohomology ; @xmath150 where @xmath37 is the dimension of the category .",
    "our main result implies that the homology of moduli space acts on the hochschild homology groups of an calabi - yau @xmath0 category .",
    "next we will discuss in detail what happens for some naturally arising classes of calabi - yau @xmath0 categories , associated to a compact oriented manifold , a smooth projective calabi - yau variety , or a symplectic manifold .",
    "let @xmath151 be a compact , simply connected , oriented manifold .",
    "the cohomology of @xmath151 has the structure of @xmath152 ( homotopy commutative ) algebra , encoding the rational homotopy type of the manifold .",
    "hamilton and lazarev @xcite have shown how this enriches naturally to a frobenius @xmath152 algebra , that is a @xmath152 algebra with a non - degenerate invariant pairing and @xmath152 algebras coincide ; they deduce the existence of the frobenius @xmath152 structure as an immediate corollary .",
    "note that in the associative world , frobenius @xmath0 and @xmath0 algebras have different deformation theory . ] .",
    "the pairing is simply the poincar pairing .",
    "thus , @xmath153 is , in a natural way , a calabi - yau @xmath0 category with one object .",
    "since @xmath154 is quasi - isomorphic , as an @xmath0 algebra , to @xmath155 , a well - known theorem of adams - chen implies that @xmath156 is the cohomology of the free loop space @xmath157 of @xmath151 .    theorem a now implies that the homology of the moduli spaces of riemann surfaces acts on @xmath158 .",
    "that is , there are maps @xmath159 compatible with composition and disjoint union .",
    "these operations should correspond to the higher - genus version of the string topology operations of chas - sullivan @xcite .",
    "this would follow , using the universality statement in theorem a , from the existence of a theory of open - closed string topology whose associated calabi - yau @xmath0 category was equivalent to @xmath160 .",
    "note that the degree shift in chas - sullivan s theory is incorporated here in to the local system @xmath35 .",
    "let @xmath2 be a smooth projective calabi - yau variety of dimension @xmath37 over @xmath161 .",
    "pick a holomorphic volume form on @xmath2 .",
    "consider the dg category @xmath162 , whose objects are bounded complexes of holomorphic vector bundles on @xmath2 , and whose morphisms are @xmath163 ( we reverse the grading , as all our differentials are homological ) .",
    "the holomorphic volume form gives us a pairing @xmath164 of degree @xmath37 , which is non - degenerate on homology .",
    "using the homological perturbation lemma , we can transfer the @xmath0 structure on @xmath162 to homology category .",
    "we should be able to ensure that the resulting @xmath0 category is calabi - yau for the natural pairing , using hodge theory and the explicit form of the homological perturbation lemma @xcite .",
    "denote by @xmath165 this calabi - yau @xmath0 category .",
    "the closed tcft @xmath166 is the @xmath1 model mirror to a tcft constructed from gromov - witten invariants of a compact symplectic manifold .",
    "we have seen that the homology of @xmath167 is the hochschild homology of @xmath168 .",
    "as the @xmath0 categories @xmath162 , @xmath165 are quasi - isomorphic , they have the same hochschild homology .",
    "one should be able to show that @xmath169 theorem a , applied to @xmath165 , implies there are operations on @xmath170 indexed by homology classes on the moduli spaces of curves .",
    "that is , if as before @xmath102 is the moduli space of riemann surfaces with @xmath9 incoming and @xmath10 outgoing boundaries , there is a map @xmath171 compatible with gluing and disjoint union .",
    "these operations should be the b - model mirror to corresponding operations on the homology of a symplectic manifold coming from gromov - witten invariants .",
    "note that the usual derived category ( without the @xmath0 enrichment ) is a calabi - yau @xmath0 category .",
    "however , as usual , passing to homology loses too much information .",
    "this category can not encode the @xmath1 model .",
    "the fukaya category @xcite of a symplectic manifold should be an example of a unital calabi - yau @xmath0 category .",
    "thus , associated to the fukaya category one has a closed tcft , whose homology is the hochschild homology of the fukaya category .    also , the floer chains of the loop space of a symplectic manifold should have a natural structure of closed tcft , where the tcft operations come from counting pseudo - holomorphic maps .",
    "thus to each symplectic manifold we can associate two tcfts , and it is natural to conjecture that these are homotopy equivalent .",
    "we will see that the universality statement of theorem a allows us to relate these two tcfts , thus providing evidence for this conjecture .",
    "first , let me explain a little about this second construction of a tcft , in the special case of a compact symplectic manifold @xmath2 .",
    "in this case , the tcft arises from gromov - witten invariants .",
    "let @xmath172 be the deligne - mumford analog of segal s category , that is the category with objects finite sets , and morphisms stable algebraic curves with incoming and outgoing marked points .",
    "one can find a homotopy equivalent model @xmath173 for segal s category @xmath7 with a natural functor @xmath174 .",
    "a chain - level theory of gromov - witten invariants should give a functor from @xmath175 ; pulling back via the functor @xmath176 will give the required tcft .",
    "the model @xmath173 for @xmath7 we need was first constructed by kimura , stasheff and voronov in @xcite .",
    "it can be constructed by performing a real blow up of the deligne - mumford spaces along their boundary . more precisely",
    ", we can take for @xmath173 the moduli space of curves @xmath177 , together with at each marked point a section of the tautological @xmath139 bundle , and at each node a section of the tensor product of the two tautological @xmath139 bundles corresponding to either side of the node .",
    "suppose for simplicity that @xmath178 , and let @xmath179 .",
    "then the real virtual dimension of the space of pseudo - holomorphic maps from the fixed surface @xmath26 to @xmath2 is @xmath180 .",
    "thus , each such curve @xmath26 should give an operation @xmath181 of degree @xmath182 .",
    "we want to construct a @xmath37 dimensional tcft from a @xmath183 dimensional symplectic manifold . does not satisfy @xmath178",
    ", we can work with only a @xmath184 grading ] therefore there should be a shift in grading , and we should work with @xmath185 .",
    "one can check easily that if we work with this shift in grading , we find a @xmath37 dimensional tcft .",
    "the point is that the extra signs arising from this shift in grading correspond to working with chains on moduli space with coefficients in the local system @xmath186 .    at the level of homology",
    ", this tcft structure follows from the existence of gromov - witten invariants ; the chain level version we need is , i believe , still conjectural .      given a compact symplectic manifold , there should therefore be two associated closed tcfts : that coming from gromov - witten invariants , and that constructed from the fukaya category .",
    "we now provide some evidence for the conjecture that these are homotopy equivalent .",
    "let @xmath2 be a compact symplectic manifold of dimension @xmath183 , with fukaya category @xmath187 .",
    "there is a natural structure of @xmath37-dimensional open - closed tcft , whose d - branes are certain lagrangian branes in @xmath2 , whose morphism spaces between d - branes @xmath188 are the lagrangian floer chain groups @xmath189 and whose complex of closed states is the shifted singular chain complex @xmath190 of @xmath2 .    this conjecture is i m sure obvious to many people .",
    "it is simply asserting that the work of fukaya - oh - ohta - ono @xcite can be generalised to the case of riemann surfaces of all genus with open - closed boundary conditions , in a way which takes into account families of surfaces .",
    "parts of this conjectural open - closed gromov - witten theory have previously been constructed by p. siedel @xcite and c .- c .",
    "liu @xcite .",
    "seidel constructs the `` topological field theory '' version with fixed complex structure on the source riemann surface .",
    "this corresponds to working with @xmath104 of moduli spaces .",
    "the part dealing with only one lagrangian , and varying source riemann surface , has been constructed by c .- c .",
    "liu @xcite .",
    "a corollary of conjecture 1 and theorem a is    there is a map of closed tcfts @xmath191 from the universal closed tcft to the singular chains of @xmath2 . on homology",
    "this gives a map of homological tcfts @xmath192 from the hochschild homology of the fukaya category to the homology of @xmath2 .",
    "a homological tcft is like a tcft except we replace the complex of chains on moduli space by its homology .",
    "the fact that the map @xmath193 is a map of homological tcfts means that it intertwines all operations coming from the homology of moduli spaces of curves ; that is the diagram @xmath194 \\ar[d ] &   h_\\ast({\\mathcal}m(i , j),{\\operatorname{det}}^d ) \\otimes h_{\\ast+d}(x)^{\\otimes i } \\ar[d ] \\\\",
    "hh_\\ast({\\operatorname}{fuk } ( x))^{\\otimes j } \\ar[r ] & h_{\\ast+d}(x)^{\\otimes j}}\\ ] ] commutes .",
    "the map from hochschild to ( floer ) homology is the same as that constructed by seidel in @xcite .",
    "the homology of a tcft has the structure of cocommutative coalgebra , coming from the pair - of - pants coproduct .",
    "note that as the pair of pants has euler characteristic @xmath147 , this is a map of degree @xmath195 .",
    "this coproduct structure on @xmath196 is dual to the standard cup product on hochschild cohomology , using the isomorphism @xmath197 .",
    "the coproduct on @xmath198 is dual to the quantum cup product on @xmath199 .",
    "thus , the dual map @xmath200 is in particular a ring homomorphism from quantum to hochschild cohomology .",
    "note that this dual map is of degree @xmath6 .",
    "open - closed gromov - witten theory would give a map from the closed tcft associated to @xmath187 to that coming from the gromov - witten theory of @xmath2 .",
    "it is natural to conjecture that this is a quasi - isomorphism , that is    in good circumstances , the map @xmath193 is an isomorphism .",
    "this conjecture , which was first proposed by kontsevich @xcite , seems to be an integral part of the homological mirror symmetry picture .",
    "unfortunately , however , i really do nt know of much evidence .",
    "kontsevich presents a geometric motivation for this conjecture in @xcite , which i will reproduce here .",
    "we can identify the hochschild cohomology of the fukaya category with the endomorphisms of the identity functor , in the @xmath0 category of @xmath0 functors from @xmath187 to itself . if we could identify this @xmath0 category with @xmath201 , as seems natural",
    ", we would see that the hochschild cohomology of @xmath187 would be the lagrangian floer cohomology of the diagonal in @xmath202 , which is known to coincide with the ordinary cohomology of @xmath2 with the quantum product .",
    "this conjecture implies that the homotopy lie algebra controlling deformations of @xmath187 is formal , and quasi - isomorphic to @xmath199 with the trivial lie bracket . so that the formal neighbourhood of @xmath187 in the moduli space of @xmath0 categories is isomorphic to the formal neighbourhood of the symplectic form in @xmath199 .",
    "the homotopy lie algebra structure arises from an action of chains on moduli spaces of genus @xmath6 riemann surfaces .",
    "the homotopy lie algebra structure on @xmath203 should be trivial , as the circle action is trivial .",
    "i d like to thank ezra getzler , mike hopkins , andrey lazarev , tim perutz , graeme segal , paul seidel , jim stasheff , dennis sullivan , constantin teleman , and richard thomas for helpful conversations and correspondence .",
    "i benefitted greatly from an inspiring talk of m. kontsevich at the hodge centenary conference in 2003 . in this talk he described several results related to those in this paper ; in particular , he sketched a different construction of a tcft structure on the hochschild chains of an @xmath0 algebra , and also an extension of this to the deligne - mumford spaces when the hodge to de rham spectral sequence degenerates .",
    "@xmath12 will denote a field of characteristic zero .",
    "all homology and cohomology will be with coefficients in @xmath12 , and all algebras and linear categories will be defined over @xmath12 .",
    "@xmath71 will denote the category of complexes of @xmath12 vector spaces , with differential of degree @xmath147 , and with its standard structure of symmetric monoidal category .",
    "for @xmath204 we denote by @xmath205 $ ] the complex in degree @xmath206 , and for @xmath207 we write @xmath208 $ ] for @xmath209 $ ] .",
    "@xmath210 will denote the category of @xmath211 graded @xmath12 vector spaces .    instead of working with a field @xmath12 and complexes of @xmath12 vector spaces ,",
    "the main result remains true if instead we work with a commutative differential graded algebra @xmath212 containing @xmath213 , and flat dg @xmath212 modules .",
    "( a dg @xmath212 module @xmath151 is flat if the functor @xmath214 is exact , that is takes quasi - isomorphisms to quasi - isomorphisms ) .",
    "fix a set @xmath39 of d - branes .",
    "a riemann surface with open - closed boundary is a possibly disconnected riemann surface @xmath26 , with boundary , some of whose boundary components are parameterised in a way compatible with the orientation on @xmath26 ; these are the incoming closed boundaries .",
    "other boundary components are parameterised in the opposite sense ; these are the outgoing closed boundaries .",
    "there are some disjoint intervals embedded in the remaining boundary components ; these are the open boundaries .",
    "some of these intervals are embedded in a way compatible with the orientation on @xmath26 ; these are incoming open , the remainder are outgoing open .    if we remove from @xmath215 the open and closed boundaries , what is left is a one - manifold , whose connected components are the free boundaries .",
    "suppose the free boundaries of @xmath26 are labelled by d - branes .",
    "then each open boundary @xmath43 of @xmath26 has associated to it an ordered pair @xmath216 of d - branes , associated to the free boundaries where it starts and where it ends .",
    "we require that each connected component of @xmath26 has at least one incoming closed boundary or at least one free boundary .",
    "we do not impose a stability condition ; note that no connected component of @xmath26 can be a sphere or torus with no boundaries .",
    "however , it is possible that a connected component of @xmath26 could be a disc or an annulus with no open or closed boundaries , and only free boundaries .",
    "this would introduce an infinite automorphism group ; to remedy this , we replace the moduli space ( stack ) of discs or annuli with no open or closed boundaries by a point .",
    "one can think of this as either taking the coarse moduli space , or rigidifying in some way .    define a topological category @xmath40 .",
    "the objects of @xmath40 are quadruples @xmath217 where @xmath218 , and @xmath219 are two maps .",
    "( we use notation which identifies the integer @xmath220 with the set @xmath221 ) .",
    "the space of morphisms @xmath222 is the moduli space of riemann surfaces @xmath26 with open - closed boundary , with free boundaries labelled by d - branes , with open incoming ( respectively outgoing ) boundaries labelled by @xmath223 ( respectively @xmath224 ) , with closed incoming ( respectively outgoing ) boundaries labelled by @xmath225 ( respectively @xmath226 ) , such that the maps @xmath227 coincide with those coming from the d - brane labelling on @xmath26 .",
    "composition in this category is given by gluing incoming and outgoing open and closed boundaries to each other .",
    "as defined , @xmath40 is a non - unital category ; it does not have identity maps . to remedy this ,",
    "we modify it a little .",
    "we replace the moduli space of annuli , with one incoming and one outgoing closed boundary , which is @xmath228 , by the homotopy equivalent space @xmath229 , acting by reparameterisation .",
    "this should be thought of as the moduli space of infinitely thin annuli .",
    "similarly , we replace the moduli space of discs with one incoming and one outgoing open boundary by a point , which acts as the identity on the open boundaries",
    ". we should perform this procedure also for any surfaces which have connected components of one of these forms .",
    "disjoint union of surfaces and addition of integers @xmath63 makes @xmath40 into a symmetric monoidal topological category , in the sense of @xcite .",
    "note that this is a _ strict _ monoidal category ; the monoidal structure is strictly associative .",
    "it is not , however , strictly symmetric .",
    "let @xmath11 be the chain complex functor defined in the appendix , from spaces to complexes of @xmath12 vector spaces .",
    "@xmath11 is a symmetric monoidal functor , in the sense of @xcite .",
    "this means that there is a natural transformation @xmath230 , satisfying some coherence axioms .",
    "define the category @xmath231 to have the same objects as @xmath40 , but with @xmath232 for @xmath233 . since @xmath11 is a symmetric monoidal functor",
    ", @xmath231 is again a symmetric monoidal category , but this time enriched over the category of complexes .",
    "that is , @xmath231 is a differential graded symmetric monoidal category .    as the set of d - branes",
    "will be fixed throughout the paper , we will occasionally omit the subscript @xmath39 from the notation .",
    "let @xmath234 .",
    "let @xmath138 be the full subcategory whose objects are @xmath235 , that is have no closed part .",
    "let @xmath16 be the subcategory whose objects have no open part , and whose morphisms are riemann surfaces with only closed boundaries .",
    "@xmath16 is independent of @xmath39 .",
    "these categories are differential graded symmetric monoidal categories .",
    "note that if @xmath236 is a map of sets , there are corresponding functors @xmath237 and @xmath238 .",
    "we could think of @xmath239 and @xmath240 as categories fibred over the category of sets .",
    "we need twisted versions of these categories .",
    "consider the graded @xmath12 local system @xmath25 on the spaces of morphisms in @xmath40 , whose fibre at a surface @xmath26 is @xmath241 \\\\ & = { \\operatorname}{det } ( h^0(\\sigma ) \\oplus { { \\mathbb}k}^{o_- } ) \\otimes ( { \\operatorname}{det } h^1(\\sigma))^{-1 } [ o_- - \\chi(\\sigma)]\\end{aligned}\\ ] ] here @xmath224 is the number of open outgoing boundary components of @xmath26 .",
    "the number in square brackets refers to a shift of degree ; so this is a graded local system situated in degree @xmath242 .",
    "suppose @xmath29 are composable morphisms in @xmath40 .",
    "then there is a natural isomorphism @xmath243 this follows from the mayer - vietoris exact sequence obtained from writing @xmath45 as a union of the @xmath244 s .",
    "let @xmath245 and @xmath246 be the open and closed outgoing boundaries of @xmath247 .",
    "we have @xmath248 here @xmath249 arises as @xmath250 and @xmath251 arises as @xmath252 .",
    "note that the orientation on the outgoing boundary of @xmath31 gives a natural isomorphism @xmath253 .",
    "we will see that @xmath254 again forms a kind of category .",
    "consider the symmetric monoidal category whose objects are pairs @xmath255 where @xmath2 is a topological space and @xmath256 is a graded @xmath12 local system on @xmath2 , such that a map @xmath257 is a map @xmath258 and a map @xmath259 , and such that @xmath260 the symmetrisation isomorphism @xmath261 as usual picks up signs from the grading on @xmath256 and @xmath17 .",
    "we want to show that @xmath254 forms a category enriched over the category of spaces with graded local systems .",
    "all that needs to be checked is that for composable surfaces @xmath262 the diagram @xmath263 \\ar[d ] & { \\operatorname}{det } ( \\sigma_3 ) \\otimes { \\operatorname}{det } ( \\sigma_2 \\circ \\sigma_1 ) \\ar[d ] \\\\ { \\operatorname}{det } ( \\sigma_3 \\circ \\sigma_2 ) \\otimes { \\operatorname}{det } ( \\sigma_1 ) \\ar[r ] & { \\operatorname}{det } ( \\sigma_3 \\circ \\sigma_2 \\circ \\sigma_1 ) } \\ ] ] commutes , where @xmath264 is the fibre of the local system at @xmath26 .",
    "this is a fairly straightforward calculation .",
    "there is also a natural isomorphism @xmath265 .",
    "this gives @xmath254 the structure of symmetric monoidal category .",
    "the functor @xmath11 defined in the appendix is a functor from the category of spaces with graded @xmath12 local systems to complexes , which computes homology with local coefficients .",
    "since @xmath11 is a symmetric monoidal functor , it follows that @xmath266 is again a symmetric monoidal category .",
    "we can think of the chain category @xmath267 geometrically as follows .",
    "a chain with local coefficients on @xmath255 can be thought of as a singular simplex @xmath268 together with a section of @xmath269 , where @xmath270 is the orientation sheaf on @xmath271 .",
    "thus a chain in @xmath267 should be thought of as an oriented @xmath272 parameter family of riemann surfaces @xmath26 with a section of @xmath273 .",
    "we can also twist @xmath274 by tensor powers @xmath275 , where @xmath276 .",
    "let @xmath277 be the category @xmath278 . as before ,",
    "let @xmath279 be the full subcategory whose objects have no closed part , and let @xmath38 be the subcategory whose objects have no open part and whose morphisms have only closed boundaries .",
    "these are differential graded symmetric monoidal categories .",
    "as before , if @xmath236 is a map of sets , there are corresponding functors @xmath280 and @xmath281 .",
    "we work with differential graded symmetric monoidal categories , over @xmath12 .",
    "symmetric monoidal is in the sense of maclane @xcite ; differential graded means that the morphism spaces are complexes of @xmath12 vector spaces ( with differential of degree @xmath147 ) , and the composition maps are bilinear and compatible with the differential .",
    "call these dgsm categories , for short .",
    "a good reference for the general theory of dg categories is @xcite .",
    "the dgsm categories controlling topological conformal field theory are strictly monoidal . on objects , @xmath282 , and similarly the diagram @xmath283 \\ar[d ] & { \\operatorname}{hom } ( \\alpha \\amalg \\beta,\\alpha ' \\amalg \\beta ' ) \\otimes { \\operatorname}{hom } ( \\gamma , \\gamma ' ) \\ar[d ] \\\\ { \\operatorname}{hom } ( \\alpha , \\alpha ' ) \\otimes { \\operatorname}{hom } ( \\beta \\amalg \\gamma , \\beta ' \\amalg \\gamma ' ) \\ar[r ] &   { \\operatorname}{hom } ( \\alpha \\amalg \\beta \\amalg \\gamma , \\alpha ' \\amalg \\beta ' \\amalg \\gamma ' ) } \\ ] ] commutes .",
    "( we use @xmath284 and @xmath285 interchangeably for the tensor product in the categories controlling tcft ) .",
    "however , the symmetry isomorphism @xmath286 is not an identity , nor do we always have @xmath287 .",
    "if @xmath3 is strictly monoidal , for each @xmath288 there is an isomorphism @xmath289 , compatible with composition in the symmetric groups .",
    "let @xmath290 be dgsm categories , which for simplicity we assume are strictly monoidal .",
    "a monoidal functor @xmath291 is a functor @xmath17 , compatible with the dg structure , together with natural transformations @xmath292 , such that the diagrams @xmath293 \\ar[d ] & f(a \\otimes a ' ) \\otimes f(a '' ) \\ar[d ]   \\\\",
    "f(a ) \\otimes f(a ' \\otimes a '' ) \\ar[r ] & f(a \\otimes a ' \\otimes a '' ) } \\ ] ] and @xmath294 \\ar[d ] &   f(a \\otimes a ' ) \\ar[d ] \\\\ f(a ' ) \\otimes f(a ) \\ar[r ] &    f(a ' \\otimes a ) } \\ ] ] commute .",
    "although our dgsm categories may ( or may not ) have an object which is a unit for the tensor product , we do not assume the functor @xmath17 takes units to units .    to a dgsm category @xmath3 are associated several important auxiliary categories . first there is the homology category @xmath295 , whose objects are the same as those of @xmath3 , but with @xmath296 @xmath295 is a graded symmetric monoidal category ; the morphisms are graded vector spaces . similarly we have the category @xmath297 , whose morphisms are @xmath298 . also , there is the category @xmath299 , which is a subcategory of @xmath3 with the same objects , but whose morphisms are closed maps of degree @xmath6 . a map in @xmath299 is called a quasi - isomorphism if it is an isomorphism in @xmath297 .",
    "one example of a dgsm category is the category @xmath71 of complexes of @xmath12 vector spaces .",
    "the monoidal structure is given by tensor product .",
    "a left @xmath3 module is a ( monoidal ) functor @xmath300 .",
    "a right @xmath3 module is a ( monoidal ) functor @xmath301 , where @xmath302 is the opposite category to @xmath3 . if @xmath303 are monoidal functors to a dgsm category @xmath1 , a natural transformation @xmath304 consists of a collection of maps @xmath305 satisfying the following conditions .    1 .",
    "@xmath306 is natural for morphisms in @xmath307 .",
    "that is , if @xmath308 then @xmath309 .",
    "the morphisms @xmath310 are all closed and of degree @xmath6 .",
    "3 .   the diagram @xmath311 \\ar[d ] & n(a ) \\otimes n(a ' ) \\ar[d ] \\\\",
    "m(a \\otimes a ' ) \\ar[r ] & n(a \\otimes a')}\\ ] ] commutes .",
    "thus for example we have a category @xmath312 of left @xmath3 modules and @xmath313 of right @xmath3 modules .",
    "note that @xmath312 is just a category , not a dg category ; it is not even an additive category .",
    "if @xmath290 are dgsm categories , we can form their tensor product @xmath314 .",
    "the objects are @xmath315 and the morphisms are described by @xmath316 @xmath317 is again a dgsm category .",
    "an @xmath122 bimodule is a monoidal functor @xmath318 .",
    "we will often use the notation @xmath319 @xmath3 defines an @xmath320 bimodule over itself , by the functor @xmath321 which sends @xmath322 however , if @xmath323 is an object , then the functor @xmath300 defined by @xmath324 is not in general monoidal , and so does not give an @xmath3-module in our sense .",
    "suppose a category @xmath84 has a notion of quasi - isomorphism .",
    "that is , suppose we are given a subset of the set of morphisms of @xmath84 , which is closed under composition and which contains all isomorphisms .",
    "we say objects in @xmath84 are quasi - isomorphic if they can be connected by a chain of quasi - isomorphisms .",
    "we write @xmath325 to indicate that @xmath326 are quasi - isomorphic .",
    "if @xmath327 also has a class of quasi - isomorphisms , a functor @xmath328 is called exact if it takes quasi - isomorphisms to quasi - isomorphisms .    a natural transformation between exact functors @xmath329",
    "is called a quasi - isomorphism if for each @xmath330 the maps @xmath331 are quasi - isomorphisms .    a quasi equivalence between @xmath332 is a pair of functors @xmath328 and @xmath333 such that @xmath334 is quasi - isomorphic to @xmath335 , and @xmath336 is quasi - isomorphic to @xmath337 . that is , @xmath338 [ def quasi_equiv ]    for example , let @xmath3 be a dgsm category .",
    "recall @xmath299 is the category with the same objects as @xmath3 but whose morphisms are closed of degree @xmath6 .",
    "a map @xmath339 in @xmath299 is a quasi - isomorphism if it is an isomorphism in @xmath297 .",
    "any functor @xmath291 between dgsm categories restricts to an exact functor @xmath340 .",
    "thus the category of functors @xmath341 acquires a notion of quasi - isomorphism .",
    "in particular we can talk about quasi - isomorphisms in @xmath312 ; these are just morphisms which are quasi - isomorphisms of the underlying complexes .",
    "we would like to do some kind of homotopy theory with categories @xmath312 for various @xmath3 .",
    "i am going to do this in a slightly ad hoc fashion .",
    "probably one should put some extra structure on the categories @xmath312 which would allow a more canonical notion of derived functor . for example , one could try to make @xmath312 into a closed model category whose weak equivalences are quasi - isomorphisms .",
    "however , closed model structures are difficult to construct .",
    "one alternative structure which seems more natural in this situation would be to consider categories fibred over the category of differential graded commutative algebras .",
    "the fibre over @xmath212 should be the category of @xmath212 linear functors from @xmath342 to flat complexes of @xmath212 modules .",
    "one could use this structure to define notions of homotopy between maps , and eventually to define derived functors in a more canonical way .    instead of attempting to construct any such general theory , or give a closed model structure on @xmath312",
    ", i will perform homotopic constructions in a slightly more ad hoc fashion .",
    "we only need to derive one kind of functor ; if @xmath343 is a functor , there is a pull back functor @xmath344 , which is exact , and a left adjoint @xmath345 which is not .",
    "we will construct the derived functor of @xmath345 ; it will be clear from the construction that there is a unique left derived functor @xmath346 up to quasi - isomorphism .",
    "let @xmath151 be a @xmath347 bimodule .",
    "let @xmath348 be a left @xmath3 module .",
    "then we can form a left @xmath1 module @xmath349 .",
    "for each @xmath350 , @xmath351 is defined to be the universal complex with maps @xmath352 , such that the diagram @xmath353 \\ar[d ] & m(b , a ) \\otimes_{{\\mathbb}k}n(a ) \\ar[d ] \\\\",
    "m(b , a ' ) \\otimes_{{\\mathbb}k}n(a ' ) \\ar[r ] & ( m \\otimes_a n)(b ) } \\ ] ] commutes .",
    "one can check that @xmath349 is again a monoidal functor from @xmath1 to complexes .",
    "thus @xmath354 defines a functor @xmath355 .",
    "let @xmath343 be a functor between dgsm categories .",
    "then @xmath1 is a @xmath356 bimodule , and so becomes an @xmath122 bimodule and a @xmath347 bimodule via the functors @xmath357 and @xmath358 .",
    "we can define functors @xmath359 by @xmath360 and @xmath361 by defining @xmath362 to be @xmath348 with the induced @xmath3 action .",
    "so as a functor @xmath300 , @xmath362 is the composition of @xmath363 with the functor @xmath343 .",
    "the push forward functor @xmath345 is the left adjoint to @xmath364 .",
    "note that @xmath364 is exact .",
    "in general @xmath345 is not exact .",
    "however , we can construct a derived version of @xmath345 which is exact .",
    "we say an @xmath3 module @xmath151 is flat if the functor @xmath365 from right @xmath3 modules to complexes is exact .",
    "let @xmath366 be the subcategory of flat @xmath3 modules , and let @xmath367 be the inclusion .",
    "let @xmath368 be the subcategory with the same objects , but whose morphisms are the identity maps and the symmetry isomorphisms @xmath369 , for @xmath288 .",
    "@xmath370 is again a symmetric monoidal category with a monoidal functor @xmath371 .",
    "also @xmath370 is a groupoid .",
    "let @xmath372 be the sub linear category whose morphisms are spanned by those of @xmath370 .",
    "suppose @xmath3 is strictly monoidal , @xmath3 has a unit for the tensor product , and suppose the groupoid @xmath370 has finite automorphism groups for any object .",
    "then there is a functor @xmath373 such that @xmath374 and @xmath375 are quasi - isomorphic to the identity functors .",
    "[ theorem flat resolution ]    the conditions of the theorem hold for the dgsm categories controlling topological conformal field theory .",
    "this result is false except in characteristic zero .",
    "we will assume the conditions of the theorem for the dgsm categories @xmath3 , @xmath1 we use for the rest of this section .",
    "an @xmath122 bimodule @xmath151 is called @xmath3flat if the functor @xmath376 is exact , as a functor from right @xmath3 modules to right @xmath1 modules .",
    "the proof of this result will also show that there exists functorial @xmath3flat resolutions of @xmath122 bimodules .",
    "let @xmath377 be the simplicial category , whose objects are the non - empty totally ordered finite sets , and whose morphisms are non - decreasing maps .",
    "we will refer to the object @xmath378 of @xmath377 by @xmath379 . for a category @xmath141 , a simplicial object of @xmath141 is a functor @xmath380 .",
    "if @xmath151 is a simplicial object of @xmath141 , we will write @xmath381 for the @xmath272 simplices of @xmath151 .    for each @xmath3 module @xmath151 ,",
    "define a simplicial @xmath3 module @xmath382 to have for @xmath272 simplices the @xmath3 module @xmath383 the face maps come from the product maps of @xmath384 bimodules @xmath385 , and the map @xmath386 of left @xmath384 modules .",
    "the degeneracy maps come from the map @xmath387 of @xmath384 bimodules .",
    "denote by @xmath388 the category of simplicial chain complexes , that is functors @xmath389 .",
    "this is a symmetric monoidal category .",
    "the tensor product is pointwise ; if @xmath332 are simplicial chain complexes , then @xmath390 $ ] .",
    "a simplicial @xmath3 module is the same as a symmetric monoidal functor @xmath391 .",
    "the normalised realisation functor @xmath392 is defined by sending a simplicial chain complex @xmath84 to @xmath393\\ ] ] here @xmath394 is the image of the degeneracy maps .",
    "the symbol @xmath395 $ ] refers to a shift in degree .",
    "the differential on @xmath396 is composed of the differential on the summands @xmath397 and the alternating sum of the face maps .",
    "a map @xmath398 of simplicial chain complexes is a quasi - isomorphism if the maps @xmath399 are quasi - isomorphisms .",
    "the realisation functor @xmath400 is exact , that is it takes quasi - isomorphisms to quasi - isomorphisms .",
    "the shuffle product maps @xmath401 make @xmath400 into a symmetric monoidal functor .",
    "thus , in particular , @xmath402 is a symmetric monoidal functor @xmath300 , in other words a left @xmath3 module",
    ".    we can consider @xmath151 as a constant simplicial @xmath3 module .",
    "there is a natural map @xmath403 , which on @xmath272 simplices comes from the product map @xmath404 .",
    "this induces a map of realisations @xmath405 .",
    "the map @xmath406 is a quasi - isomorphism .",
    "this is essentially standard .    for any @xmath3 module @xmath151",
    ", @xmath407 is a flat @xmath3 module .",
    "let @xmath408 be right @xmath3 modules , with a quasi - isomorphism @xmath409 .",
    "we need to show that the map @xmath410 is a quasi - isomorphism .",
    "we can consider @xmath408 as constant simplicial right @xmath3 modules , and form the tensor product simplicial chain complex @xmath411 .",
    "this has for @xmath272 simplices @xmath412 it is easy to see that @xmath413 is the realisation of this simplicial chain complex .",
    "since the realisation functor is exact , it suffices to show that the map @xmath414 of simplicial chain complexes is a quasi - isomorphism . to show this , it suffices to show that the map @xmath415 is a quasi - isomorphism .",
    "more generally , if @xmath416 is any left @xmath384 module , consider the map @xmath417 this is always a quasi - isomorphism .",
    "as , tensor product over @xmath384 only involves taking coinvariants for finite group actions ( using the assumption that all isomorphism groups in the groupoid @xmath370 are finite ) . as we are working in characteristic zero ,",
    "the functor of coinvariants for a finite group action is exact .",
    "this completes the proof of theorem [ theorem flat resolution ] .",
    "a similar argument shows that there exists functorial @xmath3flat resolutions for @xmath122 bimodules .",
    "if @xmath151 is an @xmath122 bimodule , and @xmath348 is a left @xmath1 module , define a left @xmath3 module by @xmath418 any other flat resolution of @xmath348 will give a quasi - isomorphic answer ; as , suppose @xmath419 are flat resolutions of @xmath348 , and @xmath420 is a @xmath1 flat resolution of @xmath151 .",
    "then @xmath421      let @xmath343 be a functor , between dg symmetric monoidal categories .",
    "let @xmath348 be a left @xmath3 module .",
    "define @xmath422 note that if we define @xmath423 , where @xmath424 is an @xmath3flat resolution of @xmath1 , then @xmath425 and @xmath426 are quasi - isomorphic functors . also , if we took any other choice of functorial flat resolution of @xmath348 we would get a quasi - isomorphic left derived functor .",
    "recall that @xmath364 is defined by considering a left @xmath1 module as a left @xmath3 module .",
    "suppose that the homology functor @xmath427 is fully faithful .",
    "then the functor @xmath428 is quasi - isomorphic to the identity functor on @xmath312 .",
    "note that @xmath429 considered as a left @xmath3 module .",
    "there is a map @xmath124 of @xmath3 bimodules , and so a map @xmath430 we need to show this is a quasi - isomorphism .",
    "this is clear , as @xmath431 is flat as an @xmath3 module , and the the statement that @xmath432 is full and faithful means that the map @xmath124 of @xmath320 bimodules is a quasi - isomorphism .    a quasi - isomorphism between dgsm categories is a functor @xmath433 such that @xmath432 is full and faithful and @xmath434 induces an isomorphism on the set of objects .    if @xmath343 is a quasi - isomorphism , then the functors @xmath426 and @xmath364 are inverse quasi - equivalences between @xmath312 and @xmath435 , and between @xmath313 and @xmath436 .",
    "[ theorem quasi equivalence module ]    we have seen that the functor @xmath437 is quasi - isomorphic to the identity functor on @xmath312 .",
    "we need to show that @xmath438 is quasi - isomorphic to the identity functor on @xmath435 .",
    "note that @xmath439 therefore it suffices to write down a weak equivalence @xmath440 of @xmath356 bialgebras .",
    "the @xmath356 bialgebra @xmath441 is the realisation of the simplicial @xmath356 bialgebra @xmath442 , using the notation of the proof of theorem [ theorem flat resolution ] .    by assumption",
    ", the functor @xmath124 induces an isomorphism on the set of objects .",
    "thus the categories @xmath384 and @xmath443 are isomorphic ; let us use the notation @xmath444 the @xmath272 simplices of @xmath442 @xmath445 the map @xmath124 of @xmath84 bimodules induces a map @xmath446 which is a quasi - isomorphism , because tensor product of @xmath84 bimodules is an exact functor .",
    "it is easy to see that this map is the @xmath272th component of a quasi - isomorphism of simplicial chain complexes @xmath447 the associated map on realisations is a quasi - isomorphism .",
    "there is a natural quasi - isomorphism of @xmath356 bimodules @xmath448 . putting these quasi - isomorphisms together",
    "we get a quasi - isomorphism @xmath449 .",
    "[ lemma tensor compatible ] denote also by @xmath364 and @xmath450 the induced quasi - equivalences @xmath451 . both triangles in the following diagram",
    "commute up to quasi - isomorphism .",
    "^{{\\mathbb}{l } f_\\ast } \\ar [ drr]^{\\otimes^{{\\mathbb}l } } \\\\ & & { { \\operatorname}{comp}_{{{\\mathbb}k}}}\\\\   { { \\operatorname}{mod}}- b \\times b - { { \\operatorname}{mod}}\\ar@<1ex>[uu]^{f^\\ast } \\ar[urr ] ^{\\otimes^{{\\mathbb}l } } } \\ ] ] the diagonal arrows are the tensor product maps which take a pair @xmath453 where @xmath454 and @xmath455 to @xmath456 .",
    "it is sufficient to show that one of the triangles commutes up to quasi - isomorphism .",
    "so we need to show that @xmath457 this follows from the chain of quasi - isomorphisms @xmath458 where the last quasi - isomorphism comes from the quasi - isomorphism @xmath459 as an @xmath3-module .",
    "a symmetric monoidal functor @xmath460 between dgsm categories is called _ split _ if the maps @xmath461 are all isomorphisms .",
    "this is what maclane @xcite calls strong .",
    "@xmath17 is called h - split , or homologically split , if @xmath462 is split .",
    "note that being h - split is an exact condition : if @xmath463 then @xmath17 is h - split if and only if @xmath464 is .    1",
    ".   an open topological conformal field theory of dimension @xmath37 is a pair @xmath465 where @xmath39 is a set of d - branes , and @xmath466 is a symmetric monoidal functor @xmath467 which is h - split . +",
    "a morphism of open tcfts @xmath468 is a map @xmath236 of sets , and a morphism @xmath469 in @xmath470 . here",
    "@xmath471 is the functor induced by the map of sets @xmath236 .",
    "a closed topological conformal field theory of dimension @xmath37 is a h - split symmetric monoidal functor @xmath472 .",
    "a morphism of closed tcfts is a morphism in @xmath473 .",
    "an open - closed topological conformal field theory of dimension @xmath37 is a pair @xmath474 where @xmath39 is a set of d - branes and @xmath66 is a symmetric monoidal functor @xmath475 which is h - split . + a morphism of open - closed tcfts",
    "@xmath476 is a map @xmath236 of sets , and a morphism @xmath477 in @xmath478 . here",
    "@xmath479 is the functor induced by the map of sets @xmath236 .",
    "the condition that the functors are h - split is important .",
    "for example , if @xmath91 is a closed tcft , then this means that @xmath480 where @xmath84 is the number of closed boundaries .",
    "thus , if @xmath91 is a a closed tcft we can talk about its homology , which is just a graded vector space ; we will use the notation @xmath99 for @xmath100 .",
    "then @xmath99 carries operations from the homology of moduli spaces of curves .",
    "that is , there are maps @xmath481    a pair @xmath482 of d - branes gives an object @xmath483 of @xmath279 , corresponding to one open boundary from @xmath484 to @xmath485 . for an open tcft @xmath474",
    "we have a space @xmath486 .",
    "any other object of @xmath279 can be written as a union of objects of the form @xmath483 .",
    "since @xmath66 is h - split , for any object @xmath487 of @xmath279 , where @xmath220 is a non - negative integer , and @xmath488 are maps , @xmath489    let @xmath490 and @xmath491 denote the natural functors . if @xmath66 is an open - closed tcft , then @xmath492 is a closed tcft and @xmath493 is an open tcft .",
    "recall the objects of @xmath277 are of the form @xmath217 where @xmath494 are integers and @xmath495 are maps . if @xmath465 is an open - closed tcft , then @xmath496 is the homology of the associated closed tcft , or equivalently the homology of @xmath66 applied to the object where @xmath497 and @xmath498 . then , @xmath499    now we can state the main results of this paper .    1 .",
    "the category of open tcfts is quasi - equivalent to the category of ( unital ) calabi - yau extended @xmath0 categories .",
    "2 .   given any open tcft , @xmath474 , we can push forward the functor @xmath500 to @xmath501 .",
    "this functor is again h - split , so that @xmath502 is an open - closed tcft .",
    "this is the homotopy universal tcft .",
    "we have a natural isomorphism @xmath503 where @xmath3 is the @xmath0 category corresponding to @xmath474 , and @xmath112 is the hochschild homology group .",
    "the notion of unital calabi - yau extended @xmath0 category will be explained later .",
    "in this section , an explicit dgsm category @xmath504 is constructed which is quasi - isomorphic to @xmath505 .",
    "this uses the cellular models for moduli spaces which i introduced in @xcite , and which are discussed in detail in @xcite .",
    "the categories of modules for @xmath504 and @xmath505 are quasi - equivalent .",
    "we have an @xmath506 bimodule , @xmath277 .",
    "an explicit model @xmath507 for the corresponding @xmath508 bimodule is constructed .",
    "these results are enough to prove theorem a. we will show later that a h - split @xmath509 module is a unital extended calabi - yau @xmath0 category with set of objects @xmath39",
    ". for each such , say @xmath66 , we will calculate @xmath510 , and find it is a tensor product of hochschild homology groups of @xmath66 and homology of morphism complexes of @xmath66 .",
    "this will show that for any open tcft , the corresponding functor @xmath511 is h - split and has for homology of the closed states the hochschild homology of the corresponding @xmath0 category .",
    "we do this by constructing cellular models for certain of our moduli spaces of riemann surfaces with open closed boundary .",
    "let @xmath512 be such that @xmath20 has no closed part ( so @xmath513 ) .",
    "we will construct combinatorial models for the spaces @xmath514 .",
    "the cell complex @xmath515 we will construct will live in a moduli space of riemann surface with nodes along the boundary ; the surfaces in @xmath515 will be those which are built up from discs and annuli .      the first step is to describe the moduli space of riemann surfaces with possibly nodal boundary .",
    "let @xmath516 as before , and assume @xmath20 has no closed part .",
    "write @xmath517 for the closed and open boundaries in @xmath20 and @xmath518 .",
    "note that @xmath519 .    to keep the notation simple",
    ", i will omit the references to the category of d - branes @xmath39 , so that @xmath7 will be synonymous with @xmath40 .",
    "let @xmath520 be the moduli space of riemann surfaces @xmath26 with boundary , with ( outgoing ) closed boundary components labelled by @xmath521 .",
    "these boundary components each have exactly one marked point on them ( this replaces the parameterisation on the boundary components of the surfaces in @xmath522 ) .",
    "there are further marked points labelled by @xmath523 and @xmath524 distributed along the remaining boundary components of @xmath26 ; these correspond to the open boundaries .",
    "the free boundaries are the intervals which lie between open boundaries , and the boundary components with no marked points on them ; these are labelled by d - branes in @xmath39 in a way compatible with the maps @xmath525 and @xmath526 .",
    "each connected component of the surface must have at least one free boundary .",
    "the surface @xmath26 may have nodes along the boundary , as in @xcite , @xcite .",
    "however , unlike in liu s work , there can be no nodes on the interior of @xmath26 , nor are there marked points on the interior .",
    "marked points are not allowed to collide with nodes .",
    "each closed boundary component of @xmath26 must be smooth ( that is contain no nodes ) .",
    "another difference from liu s work is that each boundary must be of positive length ; boundaries can not shrink to punctures .",
    "the surface @xmath26 must be stable , that is have a finite automorphism group .",
    "this corresponds to the requirement that no irreducible component of @xmath26 can be a disc with @xmath527 open marked points .",
    "there are four exceptional kinds of surface ; we allow surfaces with connected components of this form .",
    "the disc with zero , one or two open marked points and the annulus with no open or closed marked points are unstable ; we declare the moduli space of any of these types of surfaces to be a point .",
    "it is important to put in these exceptional cases .",
    "part of @xmath528 will be made into a category , and the disc with one incoming and one outgoing open point will be the identity",
    ". the disc with one open point will give the unit in an @xmath0 category .    .",
    "the dots represent incoming or outgoing open boundaries .",
    "the boundaries with no dots are closed and outgoing . ]",
    "the moduli spaces @xmath528 are orbifolds with corners .",
    "this follows from the work of liu @xcite .",
    "one can see this by comparing the moduli spaces @xmath528 to the real points of the deligne - mumford moduli spaces of curves .",
    "the interiors , @xmath529 , are therefore smooth orbifolds .",
    "the spaces @xmath529 parameterise non - singular surfaces in @xmath528 .",
    "the inclusion @xmath530 is a @xmath213 homotopy equivalence .",
    "the next step is to write down a subspace of the boundary of @xmath528 which is @xmath213 homotopy equivalent to @xmath528 .",
    "recall that the space of ( isomorphism classes of ) annuli can be identified with @xmath531 .",
    "every annulus is isomorphic to an annulus of the form @xmath532 for some unique @xmath533 , which we call the modulus of the annulus .",
    "define @xmath534 to be the subspace consisting of surfaces @xmath535 , each of whose irreducible components is either a disc , or an annulus of modulus @xmath119 .",
    "we require that one side of each annulus is an outgoing boundary component . recall that in @xmath520 the outgoing closed boundary components are required to be smooth ; this implies that the annuli are in one to one correspondence with the outgoing closed boundary components @xmath536 .",
    "@xmath515 also contains the exceptional surfaces ; we allow surfaces with connected components which are discs with @xmath537 marked points or annuli with no open or closed marked points .    , with @xmath538 open boundaries and one closed boundary .",
    "the inside of the annulus is the outgoing closed boundary component , the open boundaries may be incoming or outgoing . ]",
    "the inclusion @xmath539 is a weak homotopy equivalence of orbispaces ( and therefore a @xmath213 homotopy equivalence of coarse moduli spaces ) .",
    "this follows immediately from the results of @xcite . for integers",
    "@xmath540 with @xmath541 , @xmath542 , define the orbi - space @xmath132 to be the moduli space of stable riemann surfaces with possibly nodal boundary as above , with @xmath130 boundary ( open ) marked points and @xmath131 internal marked points , of genus @xmath128 with @xmath129 boundary components . as i discuss in detail in @xcite , we have an orbi - cell complex @xmath543 consisting of riemann surfaces built up from discs , each of which has at most one internal marked points .",
    "the inclusion @xmath544 is a weak homotopy equivalence .",
    "we can replace the @xmath131 internal marked points by unparameterised boundary components , in the moduli spaces @xmath133 and @xmath132 .",
    "evidently , all the corresponding moduli spaces are homotopy equivalent , so the inclusion of these new spaces is also a homotopy equivalence .. we can also add on to each of these @xmath131 boundary components a marked point , and the result continues to hold , as we are simply passing to the total space of a torus bundle .",
    "it follows immediately that the inclusion @xmath545 is a weak homotopy equivalence of orbispaces .",
    "suppose @xmath97 both satisfy @xmath546 .",
    "then there are gluing maps @xmath547 these maps glue the outgoing open marked points of a surface in @xmath520 to the corresponding incoming marked points of a surface in @xmath548 .",
    "we need to describe how to glue the exceptional surfaces ; the discs with one or two marked points . gluing the disc with two open marked points ,",
    "one incoming and one outgoing , is the identity operation .",
    "gluing the disc with two outgoing marked points onto two incoming marked points of a surface @xmath26 corresponds to gluing the two marked points of @xmath26 together ; similarly for the disc with two incoming . gluing the disc with",
    "one marked point onto a marked point of a surface @xmath26 causes us to forget that marked point .",
    "there is a category whose objects are the objects @xmath20 of @xmath40 with @xmath519 ( i.e.  no incoming closed boundaries ) , whose morphisms are the spaces @xmath520 and whose composition maps are the gluing described above .",
    "recall that @xmath40 is the topological version of @xmath137 ; @xmath137 is chains on @xmath40 .",
    "we defined @xmath549 to be the symmetric monoidal category with the same objects as @xmath40 but whose morphisms are the symmetry maps @xmath550 , for @xmath288 .",
    "this lemma is clear .",
    "call this category @xmath551 . the spaces",
    "@xmath534 define a subcategory @xmath552 .",
    "there is also the structure of symmetric monoidal category on @xmath553 and @xmath551 given by disjoint union .",
    "@xmath528 defines a monoidal functor @xmath554 , given by @xmath555 .",
    "similarly @xmath556 defines a functor @xmath557 .",
    "let us take chain complexes @xmath558 where @xmath35 is the local system defined before ; @xmath559 is a differential graded symmetric monoidal category , and @xmath558 defines an @xmath560 bimodule .",
    "the dgsm category @xmath559 is quasi - isomorphic to the dgsm category @xmath561 .    under the induced quasi - equivalence of categories between @xmath562 bimodules and @xmath563 bimodules",
    ", @xmath558 corresponds to @xmath564 .",
    "we are suppressing the set @xmath39 of d - branes from the notation here .",
    "i will sketch the proof of the statement about categories , in the case @xmath565 ; the remaining statements are proved in a similar way .",
    "we will do the topological version , and find a topological category @xmath566 , with the same objects as @xmath567 , and with functors @xmath568 which are @xmath213 homotopy equivalences on the spaces of morphisms .    for @xmath569 ,",
    "let @xmath570 be the moduli space of surfaces with nodal boundary , as in @xmath520 , but now the open boundaries are parameterised embedded intervals , like in @xmath571 .",
    "these intervals do not intersect the nodes or each other . each outgoing open boundary has a number @xmath572 $ ] attached to it .",
    "the gluing which defines the maps @xmath573 is defined as follows .",
    "let @xmath574 and @xmath575 , and let @xmath576 .",
    "this corresponds to an open boundary on each of of the @xmath244 .",
    "let @xmath577 $ ] be number corresponding to @xmath43 .",
    "glue the subinterval @xmath578 \\subset [ 0,1]$ ] of the boundary on @xmath31 to the corresponding subinterval @xmath578 $ ] of the corresponding boundary on @xmath30 .",
    "this evidently makes @xmath579 into a category . the map @xmath580 assigns the number @xmath6 to the open boundaries , and is a homotopy equivalence on spaces of morphisms .",
    "similarly , the map @xmath581 assigns the number @xmath582 to open boundaries , and is a homotopy equivalence on the space of morphisms .",
    "this argument implies the corresponding result at chain level , and extends without difficulty to the case of twisted coefficients and to yield an equivalence of modules .",
    "we want to give an orbi - cell decomposition of the spaces @xmath556 .",
    "we will do this by writing down a stratification of @xmath556 whose strata are orbi - cells , that is the quotient of a cell by a finite group .",
    "there is an obvious stratification of @xmath556 , given by the topological isomorphism type of the corresponding marked nodal surface .",
    "this is not quite a cell decomposition , as the moduli space of marked points on the boundary of an annulus , one of whose boundaries is closed , is not contractible , but is homotopic to @xmath139 .",
    "we need to refine this stratification a little .",
    "let @xmath583 .",
    "let us assume for simplicity that no connected component of @xmath26 is an exceptional ( unstable ) surface .",
    "we will give @xmath26 a cell decomposition .",
    "let @xmath584 be an irreducible component which is an annulus with a closed boundary .",
    "in order to get a cell decomposition on @xmath26 , we have to make a cut on the annulus .",
    "let @xmath585 be the boundary components of @xmath3 ; where @xmath586 has precisely one marked point , @xmath587 say , corresponding to an outgoing closed boundary of @xmath26 , and @xmath588 may have several incoming and outgoing open marked points and possibly some nodes .",
    "there is a unique holomorphic isomorphism from @xmath3 to the cylinder @xmath589 $ ] , such that @xmath590 goes to @xmath591 $ ] .",
    "the inverse image of @xmath592 $ ] in this gives a cut on the annulus , starting at @xmath590 and ending at some point @xmath593 on @xmath588 .",
    "now give @xmath26 a cell decomposition , by declaring that the @xmath6 skeleton consists of the nodes , marked points , and the places where the cut on an annulus intersect the boundary of the annulus ; the one cells are @xmath215 , together with the cuts on the annuli ; and the @xmath594 skeleton is @xmath26 .",
    "the two cells of @xmath26 are oriented , and @xmath26 is marked by d - branes , incoming / outgoing open marked points , and closed outgoing marked points .",
    "these are the three basic types of cell in the moduli spaces @xmath556 , from which all others are built by open gluing .",
    "figure [ figure disc cell ] represents the cell in moduli space of points moving on a disc .",
    "the marked points are open boundaries , and may be incoming or outgoing ; the @xmath595 are d - brane labellings on free boundaries",
    ".    figures [ figure annulus cell1 ] and [ figure annulus cell2 ] are the two kinds of cell in the space of marked points on the annulus .",
    "the interior of the annulus is a closed outgoing boundary ; the marked point on this represents the start of the closed boundary .",
    "the remaining marked points are open , incoming or outgoing .    in figure [ figure annulus cell1 ] the closed marked point is parallel to an open one , where as in figure [ figure annulus cell2 ] , the closed marked point is parallel to the interior of a free boundary",
    ".    give @xmath515 a stratification by saying that two surface @xmath29 are in the same stratum if and only if the corresponding marked , oriented 2-cell complexes in @xmath596 are isomorphic .",
    "this stratification of @xmath515 is an orbi - cell decomposition , and further the composition maps @xmath597 are cellular .",
    "[ lemma cell ]    to show that this stratification is an orbi - cell decomposition ,",
    "the main point to observe is that the stratification of the space of marked points on the annulus is indeed a cell decomposition .",
    "we are using a strong notion of cellular map : a map @xmath258 between ( orbi)-cell complexes is cellular if @xmath598 , where @xmath599 is the union of cells of dimension @xmath600 .",
    "define @xmath601 to be the associated complex of @xmath12 cellular chains .",
    "similarly , for an integer @xmath602 , define @xmath603 here we take cellular chains with local coefficients .",
    "let us describe informally the chain complexes @xmath604 .",
    "each riemann surface in @xmath515 determines a cell in the moduli space , and so an element of the cellular chain group @xmath515 .",
    "thus , we can think of a chain in @xmath604 as being represented by a surface , and similarly for @xmath605 .",
    "the boundary maps in @xmath606 correspond to degenerating surfaces to allow more nodes , and also allowing a closed marked point , on the boundary of an annulus , to become parallel to an open marked point or node on the other boundary of an annulus .",
    "there are composition maps @xmath607 , which make @xmath608 ( the part where @xmath97 have only open boundaries ) into a differential graded symmetric monoidal category , and @xmath609 into a @xmath610 bimodule .",
    "the differential graded symmetric monoidal categories @xmath608 and @xmath561 are quasi - isomorphic . under the induced quasi - equivalence of categories between @xmath610 bimodules and @xmath563 bimodules , @xmath609 corresponds to @xmath564 .",
    "the point is that the chain complex functor @xmath11 constructed in the appendix has the property that for each ( orbi)-cell complex @xmath2 , there is a quasi - isomorphism @xmath611 , compatible with products and natural for cellular maps .",
    "the same holds when we take chains with local coefficients .",
    "this shows that the functor @xmath612 is a quasi - isomorphism , and we have already seen that @xmath613 .",
    "similar remarks prove the statement about @xmath609 as an @xmath614 bimodule .",
    "if @xmath615 is an ordered set of d - branes , let @xmath616 be the object in @xmath617 with @xmath618 and @xmath619 , @xmath620 for @xmath621 .",
    "use the notation @xmath622 the superscript @xmath623 stands for cyclic .    define an element @xmath624 of @xmath625 , given by the cellular chain which is the disc with @xmath272 marked points on it , all incoming , with the cyclic order @xmath626 , labelled in the obvious way by d - branes ; as in figure [ figure disc cell ] .",
    "( pick , arbitrarily , some orientation on this cell , and a section of @xmath35 , in order to get a cellular chain ) .",
    "note that @xmath627 is cyclically symmetric up to sign ; so that @xmath628 under the permutation isomorphism between @xmath629 and @xmath630 .    when @xmath631 , @xmath624 is an element of degree @xmath632 . when @xmath633 it is an element of degree @xmath37",
    ".    let @xmath634 be the subcategory with the same objects , but whose morphism surfaces are not allowed to have connected components which are the disc with @xmath116 open marked points ; or the disc with two open marked points , both incoming ; or the annulus with neither open or closed marked points .",
    "we consider the morphisms in @xmath84 not to be complexes , but to be graded vector spaces : we forget the differential .",
    "@xmath84 is freely generated , as a symmetric monoidal category over the symmetric monoidal category @xmath617 , by the discs @xmath624 , where @xmath631 , and the discs with two outgoing marked points , subject to the relation that @xmath624 is cyclically symmetric ( up to an appropriate sign ) .",
    "[ prop free generators ]    the sign in the cyclic symmetry is determined by the choice of orientation on the cell in @xmath556 corresponding to @xmath624 .",
    "note that it makes sense to talk about generators and relations for a symmetric monoidal category ; this is because we have fixed the base category @xmath635 , and the new symmetric monoidal category we are constructing has the same set of objects .",
    "the morphism spaces of a symmetric monoidal category given by generators and relations will be built up using composition , tensor product , and adding morphisms of the base category @xmath635 , from the generators .",
    "let @xmath636 be the category with these generators and relations .",
    "there is a functor @xmath637 ; firstly we will show this is full .",
    "we can take disjoint union of surfaces in @xmath636 , and we can use the disc with two outgoing marked points to change an incoming boundary of a surface to an outgoing boundary .",
    "clearly , any surface in @xmath638 can be built up using disjoint union and gluing from discs .",
    "this shows @xmath637 is full .",
    "next , we need to show that this functor is faithful .",
    "it suffices to write down a functor @xmath639 which is an inverse . on objects ,",
    "this is the identity .",
    "suppose we have a surface @xmath26 in @xmath638 .",
    "we can write @xmath640 in a unique way , where @xmath641 is a disjoint union of identity maps and discs with all incoming boundaries , and @xmath642 is a disjoint union of discs with two outgoing boundaries and identity maps .",
    "@xmath641 is the normalisation of @xmath26 with all of its marked points made incoming .",
    "@xmath642 has the effect of gluing the marked points of @xmath641 which correspond to nodes of @xmath26 together , and of changing the incoming points of @xmath641 which correspond to outgoing points of @xmath26 into outgoing .",
    "this decomposition of @xmath26 allows us to write down the inverse map @xmath643 , and it is easy to check this defines a functor .",
    "let @xmath644 be the subcategory with the same objects but whose morphisms are given by disjoint unions of discs , with each connected component having precisely one outgoing boundary .",
    "note that this is indeed a subcategory , and is also independent of @xmath37 ; the local system @xmath35 can be canonically trivialised in degree @xmath6 on the moduli space of discs with one outgoing boundary .    for each ordered set @xmath645 of d - branes , where @xmath646 , let @xmath647 be the disc with @xmath272 marked points , and d - brane labels by the @xmath595 , but such that all of the marked points are incoming except that between @xmath648 and @xmath649 , as in figure [ figure disc tree level ] .",
    "]    @xmath650 is in @xmath651 .",
    "@xmath652 is freely generated , as a symmetric monoidal category over @xmath617 , by the discs @xmath650 , modulo the relation that @xmath653 whenever @xmath654 , and when @xmath655 , @xmath656 are both the identity map on the object @xmath657 .",
    "[ lemma generators relations operad ]    this is basically a corollary of the previous result . note that the relations stated do indeed hold ; composing with @xmath658 has the effect of forgetting the open marked point which lies between the two copies of @xmath595 . by `` composing ''",
    "we mean of course placing the identity on all other factors .",
    "@xmath608 is freely generated , as a symmetric monoidal category over @xmath617 , by @xmath652 , and the discs with two incoming or two outgoing boundaries , modulo the following relations .",
    "the first relation is illustrated in the figure [ figure ip relation ] ; it says that an appropriate gluing of the disc with two outgoing boundaries and with two incoming boundaries yields the identity ( a disc with one incoming and one outgoing boundary ) .",
    "observe that we can change an outgoing boundary to an incoming boundary ; let @xmath624 be obtained from @xmath650 by making the outgoing boundary incoming .",
    "the second relation is that @xmath624 is cyclically symmetric ( up to an appropriate sign ) .",
    "[ theorem generators relations category ]        this follows almost immediately from the previous result .",
    "this generators and relations description of course refers to the category without the differential .",
    "note that the disc with no marked points and the annulus with no open or closed marked points are included in @xmath608 ; for example , the annulus with no marked points is given by gluing the disc with two outgoing marked points to that with two incoming marked points .",
    "let @xmath659 be an ordered set of d - branes .",
    "there is an element @xmath660 given by given by the annulus with @xmath272 marked points , and the intervals between the marked points labelled by the d - branes @xmath595 , as in figure [ figure annulus cell1 ] .",
    "the parameterisation on the closed boundary - on the interior of the annulus - starts at the open marked point @xmath6 between @xmath648 and @xmath649 .",
    "the object @xmath661 of @xmath564 has one closed boundary and no open boundaries .",
    "note that @xmath662 is an @xmath663 chain in @xmath609 .",
    "the @xmath664 bimodule @xmath609 is freely generated , by the @xmath662 , and the identity maps @xmath665 , modulo the following relations .",
    "firstly , if we glue the disc with one boundary to any of the open marked points of @xmath662 , except that lying between @xmath648 and @xmath649 , we get @xmath6 . secondly , the disjoint union of the identity element on @xmath20 with that on @xmath518 is the identity on @xmath666 .",
    "[ theorem open closed generators relations ]    this is proved in essentially the same way that the previous results are .",
    "the main points are as follows .",
    "since @xmath609 is an @xmath667 bimodule , we can take disjoint unions , so we get disjoint unions of annuli and identity elements .",
    "we also get discs using the action of @xmath608 on the identity elements .",
    "for example , we have the identity element for the zero object @xmath668 , which gives us discs with all incoming boundaries .",
    "the action of @xmath608 allows us to glue discs to annuli .",
    "this also lets us glue annuli together , and change incoming marked points on annuli to outgoing , using the disc with two outgoing boundaries .",
    "one point to observe is that if we glue a disc with one marked point to the annulus @xmath669 at the marked point between @xmath648 and @xmath649 we get an annulus where the starting point for the parameterisation of the closed boundary lies in the free boundary @xmath649 , as in figure [ figure annulus forget marked point ] .",
    "this ensures that although the moduli space of annuli contains two types of cells , depending on whether the start of the parameterisation on the closed boundary is at an open or a free boundary , we need only take one type as a generator .",
    "let @xmath670 be the @xmath671 bimodule with the same generators and relations as @xmath609 .",
    "[ definition dplus ]    note that this makes sense , as the relations involve only the disc with one outgoing marked point , which comes from @xmath652 .",
    "it is clear that @xmath672 as a @xmath664 bimodule .",
    "further , for any left @xmath608 module @xmath151 , @xmath673      we also want to describe the differential in the complexes @xmath609 .",
    "this is characterised by the fact that it respects the composition maps @xmath674 , and the way it behaves on discs and annuli , which are the generators .",
    "i will only write down the formula up to sign ; the precise signs will depend on the orientation chosen for the cells in @xmath556 of marked points on discs and annuli .",
    "the precise signs do nt matter .",
    "the differential on discs is shown in figure [ figure differential discs ] .",
    "are d - branes . ]",
    "this can be written as @xmath675 where the @xmath676 indicates that we glue the open marked points between @xmath595 and @xmath677 on each disc together .",
    "on annuli , it is given in figure [ figure differential annuli ] .",
    "are d - branes . ]",
    "this can be written as @xmath678 where , as before , the symbol @xmath676 means we should glue at the open marked points between the d - branes @xmath595 and @xmath677 .    1",
    ".   the @xmath679 bimodule @xmath609 is @xmath608-flat .",
    "if @xmath151 is a h - split @xmath608 module , then @xmath680 is a h - split @xmath681-module .",
    "the same is true if we consider @xmath652 and @xmath670 instead of @xmath608 and @xmath609 .",
    "[ lemma flat and split ]    recall @xmath609 is generated as a @xmath682 bimodule by the annuli @xmath683 , and the identity elements in @xmath684 where @xmath685 .",
    "filter @xmath609 as a bimodule , by giving a filtration on the generators , defined by saying each identity element in @xmath684 is in @xmath686 and each annulus @xmath662 is in @xmath687 .",
    "the formula for the differential of the annuli guarantees that this is a filtration as complexes ; indeed , @xmath688 is in @xmath689 .",
    "let @xmath151 be a left @xmath608 module .",
    "suppose @xmath690 is a quasi - isomorphism ; we want to show that the map @xmath691 is a quasi - isomorphism .",
    "give both sides the filtration induced from that on @xmath692 ; it suffices to show that the map on the associated graded complexes is a quasi - isomorphism .",
    "this follows immediately from the generators and relations description of @xmath609 . let @xmath685 ; for an integer @xmath84 , @xmath693 ; we add on @xmath84 closed states .",
    "we want to show that the map [ equation qis ] is a quasi - isomorphism , with @xmath694 .",
    "for simplicity i will show this when @xmath497 .",
    "then , @xmath695 is spanned by the spaces @xmath696 this corresponds to putting the generators of @xmath609 which are the identity in @xmath608 on the @xmath20 factor and the annulus @xmath662 on the @xmath629 factor .",
    "the only relation is that the composed map @xmath697 is zero .",
    "the first map comes from the element of @xmath698 which is the tensor product of the identity on @xmath20 and @xmath699 and the map @xmath700 given by the disc with one outgoing marked point .",
    "the first map in the diagram [ equation annuli relation ] is always injective ; we can find a splitting coming from the disc with one incoming marked point .",
    "thus the operation of taking the quotient is exact .",
    "there is a similar description of @xmath701 , for all @xmath518 , and the same argument shows that the functor @xmath702 is exact .",
    "this proves the first part of the lemma .",
    "the second part of the lemma is proved in a similar way .",
    "let @xmath703 then the filtration on @xmath609 induces one on @xmath348 . to show the maps @xmath704 are quasi - isomorphism",
    ", it suffices to do so on the associated graded .",
    "this follows immediately from the description of @xmath348 given above .",
    "exactly the same proof shows the corresponding results for @xmath652 and @xmath670 .",
    "let us recall some details of the definition of an @xmath0 category @xmath327 .",
    "there is a set @xmath705 of objects , and for each pair @xmath290 of objects , a finite dimensional complex of @xmath12 vector spaces @xmath706 .",
    "the homological grading convention is used , so that the differential is of degree @xmath147 . for each sequence @xmath707 of objects , where @xmath708 , there are maps @xmath709 of degree @xmath710 .",
    "( note this is different from the standard convention of @xmath711 ) .",
    "the differential on the complex @xmath706 is @xmath712 .",
    "these maps must satisfy identities of the form @xmath713    all our @xmath0 categories will be unital .",
    "a unital @xmath0 category is an @xmath0 category @xmath327 , together with for each @xmath714 a closed element @xmath715 , with the following properties .",
    "firstly , @xmath716 for any @xmath717 and @xmath718 . secondly , if @xmath719 are maps , for @xmath720 , and if @xmath721 , then @xmath722      a _ calabi - yau _ @xmath0 category of dimension @xmath37 is an @xmath0 category @xmath327 , with for each pair @xmath723 , a closed non - degenerate pairing @xmath724\\ ] ] which is symmetric ( in the sense that @xmath725 under the natural symmetry isomorphism @xmath726 ) , and such that the cyclic symmetry identity identity @xmath727 holds .",
    "let @xmath2 be a smooth projective calabi - yau variety of dimension @xmath37 .",
    "let @xmath728 be the bounded derived category of coherent sheaves on @xmath2 .",
    "then @xmath728 is a unital calabi - yau @xmath0 category , of dimension @xmath37",
    ". we have to change the grading , so that @xmath729 the composition maps @xmath90 are all zero for @xmath730 .",
    "the pairing @xmath731 is serre duality .",
    "( we need to trivialise the serre functor , by picking a non - zero holomorphic top form . ) .",
    "this should not be regarded as being the correct calabi - yau @xmath0 category for the @xmath1-model , as i mentioned in the introduction .",
    "we should use an @xmath0 version @xmath165 .",
    "let @xmath39 be a set of d - branes .",
    "recall a monoidal functor between monoidal categories is called _ split _ if the maps @xmath732 are isomorphisms .",
    "a split functor @xmath733 is the same as a unital @xmath0 category with set of objects @xmath39 .",
    "let @xmath734 be a split symmetric monoidal functor .",
    "then for each integer @xmath220 , with d - brane labels @xmath735 , for @xmath736 , we have a natural isomorphism @xmath737 for each pair @xmath49 of d - branes , write @xmath738 .",
    "generators and relations for @xmath739 are given in [ lemma generators relations operad ] .",
    "the discs @xmath650 give maps @xmath740 which are of degree @xmath741 , when @xmath631 .",
    "these correspond to the @xmath0 multiplications @xmath742 when @xmath631 ( when appropriate sign conventions , and orientations on the cells corresponding to @xmath650 are chosen ) .",
    "the formula for the differentials @xmath743 gives the @xmath0 relation ; indeed this is essentially the original definition of @xmath0 algebra of stasheff @xcite .",
    "when @xmath744 the maps @xmath745 and @xmath746 are of degree @xmath6 .",
    "@xmath745 gives a map @xmath747 , which gives the unit in the @xmath0 category .",
    "the axioms for units in an @xmath0 category correspond to the relations in @xmath748 described in [ lemma generators relations operad ] .",
    "@xmath746 is the identity map @xmath749 .",
    "a split monoidal functor @xmath750 is the same as a unital calabi - yau @xmath0 category with set of objects @xmath39 .",
    "this follows from the generators and relations description for the category @xmath751 .",
    "there are two more generators for @xmath751 over @xmath748 , namely the disc with two incoming and two outgoing boundaries .",
    "these give the pairing @xmath752 $ ] , and its inverse . the extra relations in @xmath608",
    "correspond to the cyclic symmetry condition .",
    "a unital extended calabi - yau @xmath0 category , with objects @xmath39 , is a h - split symmetric monoidal functor @xmath753 .",
    "so a split extended calabi - yau @xmath0 category is the same as an ordinary calabi - yau @xmath0 category .",
    "let @xmath66 be an extended calabi - yau @xmath0 category .",
    "for each @xmath754 there is a complex @xmath755 , and quasi - isomorphisms @xmath756 .",
    "there are maps @xmath757 coming from the disjoint union of the disc @xmath650 and the identity map @xmath758 .",
    "these play the role of the @xmath0 operations @xmath759 , when @xmath708 .",
    "they satisfy relations analogous to the usual @xmath0 relation .",
    "there are also maps @xmath760 which play the role of the pairing and its inverse .",
    "a cyclic symmetry condition holds for the operation @xmath761 constructed from the @xmath0 operation @xmath90 and the pairing .",
    "also there are units , in @xmath762 satisfying the usual constraints .",
    "the category of unital extended calabi - yau @xmath0 categories of dimension @xmath37 , with set of objects @xmath39 , is quasi - equivalent , in the sense of definition [ def quasi_equiv ] to the category of open tcfts of dimension @xmath37 .",
    "this is immediate from theorem [ theorem quasi equivalence module ] , and the fact that @xmath751 is quasi - isomorphic to @xmath505 .",
    "thus we have proved theorem a , part 1 .",
    "a unital extended @xmath0 category , with set of objects @xmath39 , is a h - split monoidal functor @xmath763 .",
    "this makes sense , as we have already seen that such a functor which is split is the same as a unital @xmath0 category .",
    "the following categories are quasi - equivalent .    1 .   the category of unital extended @xmath0 categories , with set of objects @xmath39 .",
    "2 .   the category of unital @xmath0 categories , with set of objects @xmath39 .",
    "3 .   the category of unital dg categories , with set of objects @xmath39 .    observe that for each pair of objects @xmath764 , @xmath765 if @xmath766 .",
    "as , the morphisms spaces are chains on moduli spaces of marked points on discs , which are contractible . also the complexes @xmath767 are concentrated in degrees @xmath768 .",
    "this implies that @xmath748 is formal , that is quasi - isomorphic to its homology , and quasi - isomorphic to @xmath769 .",
    "it is not difficult to see that a split functor @xmath770 is the same as a unital dg category with set of objects @xmath39 .",
    "indeed , @xmath771 is one dimensional , and corresponds to the product map @xmath772 because it is one - dimensional , associativity holds .",
    "further , @xmath773 is given by disjoint unions of morphisms of this type .",
    "call a h - split functor @xmath774 a unital extended category . since there is a quasi - isomorphism @xmath775",
    "there is a quasi - equivalence between unital extended @xmath0 categories and unital extended categories .",
    "it remains to show how to remove the adjective extended .",
    "the category @xmath776 has the property that the maps @xmath777 are isomorphisms .",
    "let @xmath66 be a unital extended @xmath0 category .",
    "define a unital @xmath0 category @xmath778 , i.e.  a split monoidal functor @xmath779 , by @xmath780 there are maps @xmath781 .",
    "composing with the action of @xmath748 on @xmath642 gives maps @xmath782 because the maps [ eqn split category ] are isomorphisms , it follows that these extend to give a unique @xmath783 module structure on @xmath778 , with a quasi - isomorphism @xmath784 .",
    "this shows that the category of extended @xmath0 categories is quasi - equivalent to the category of @xmath0 categories .",
    "similarly the category of extended dg categories is quasi - equivalent to the category of dg categories ; this finishes the proof .",
    "the proof shows something stronger ; the obvious map from dg categories to @xmath0 categories is half of a quasi - equivalence .",
    "this means that every @xmath0 category is quasi - isomorphic , in a functorial way , to a dg category .      for an associative algebra @xmath3 , over our ground field @xmath12 , and an @xmath3-bimodule @xmath151 , recall the hochschild complex @xmath785",
    "is defined by @xmath786 the differential @xmath787 is given by the formula @xmath788 when @xmath789 , we write @xmath790 for @xmath791 .    the normalised hochschild chain complex is a quotient of @xmath785 by the contractible complex spanned by elements @xmath792 where at least one of the @xmath793 .",
    "we write @xmath794 for the normalised chain complex , and @xmath795 for the normalised chain complex with coefficients in @xmath3 .",
    "similar definitions hold for dg algebras @xmath3 and dg modules @xmath151 , except with extra terms in the differential coming from the differential on @xmath3 and @xmath151 , and a change in sign coming from the grading on @xmath3 and @xmath151 .",
    "let @xmath3 be a dg category .",
    "define the hochschild chain complex @xmath796)\\ ] ] where the direct sum is over @xmath272 and sequences @xmath797 of objects in @xmath3 .",
    "the differential is given by essentially the same formula as in the algebra case : @xmath798 if @xmath3 is unital , then we can define the normalised hochschild chain complex @xmath795 by taking the quotient by the contractible subcomplex spanned by @xmath799 where at least one of the @xmath800 , where @xmath801 , is an identity map .",
    "the functor @xmath802 is an exact functor from the category of dg categories with fixed set of objects @xmath39 to the category of complexes .",
    "give the normalised hochschild chain complex @xmath795 the obvious filtration , defined by @xmath803 is the subcomplex spanned by @xmath804 .",
    "if @xmath341 is a map of dg categories with fixed set of objects , the induced map @xmath805 preserves the filtration .",
    "we need to show that if @xmath124 is a quasi - isomorphism then so is @xmath805 .",
    "it is sufficient to show that the associated graded map is a quasi - isomorphism ; but this is obvious .",
    "let @xmath3 be a ( possibly extended ) @xmath0 category .",
    "define the hochschild homology @xmath112 to be the homology of the dg category associated to it under the quasi - equivalence between ( extended ) @xmath0 and dg categories .",
    "if @xmath66 is an extended calabi - yau @xmath0 category , define the hochschild homology of @xmath66 to be the homology of the associated extended @xmath0 category .",
    "we could also use an explicit complex to define the hochschild homology , but this would involve getting the signs correct .",
    "let @xmath66 be a unital extended calabi - yau @xmath0 category .",
    "then @xmath806    recall the definition of @xmath670 in definition [ definition dplus ] .",
    "we have a generators and relations description of @xmath609 , in theorem [ theorem open closed generators relations ] , and we defined @xmath670 to have the same generators and relations but as a @xmath807 bimodule rather than a @xmath808 bimodule .",
    "we have @xmath809 further , we have shown that the functor @xmath810 is exact ( lemma [ lemma flat and split ] ) . the @xmath748 module underlying @xmath66 is the extended @xmath0 category associated to @xmath66 .",
    "what remains to be shown is that , for an actual dg category @xmath1 , considered as a left @xmath748 module , @xmath811 we will show something a bit more ; we will show that @xmath812 is the normalised hochschild chain complex .",
    "this follows from the generators and relations description of the right @xmath748 module , @xmath813 .",
    "recall it is generated by the annuli @xmath662 , modulo the relation that when we glue the disc with one outgoing marked point onto a marked point of @xmath662 , we get zero , except for the marked point between @xmath648 and @xmath649 .",
    "the annulus @xmath662 is in degree @xmath663 .",
    "this shows us that @xmath814 , as a vector space , is the quotient of @xmath815)$ ] by the subspace spanned by elements of the form @xmath799 , where at least one of the @xmath800 with @xmath801 is an identity map .",
    "that is , as a vector space , there is a natural isomorphism @xmath816 it remains to show that this is compatible with the differential .",
    "this follows immediately from the formula for the differential of the annulus @xmath662 , see figure [ figure differential annuli ] . recall that @xmath817 when @xmath818 in our category @xmath1 , so that the only thing that contributes is when two marked points on the boundary of the annulus collide .",
    "this corresponds to composing the corresponding consecutive morphisms in the formula for the hochschild differential .",
    "this completes the proof of theorem a.    we have shown theorem a part 1 : the category of unital extended calabi - yau @xmath0 categories is quasi - equivalent to the category of open tcfts .",
    "we have also shown that under the quasi - equivalence between @xmath819 bimodules and @xmath820 bimodules , the bimodule @xmath821 corresponds to @xmath60 . also , @xmath821 is flat .",
    "thus , by lemma [ lemma tensor compatible ] if @xmath151 is a left @xmath751 module corresponding to a left @xmath62 module @xmath420 , then @xmath822 denote by @xmath823 the left hand side of this equation .",
    "then @xmath823 is h - split , if @xmath151 is ; the maps @xmath824 are quasi - isomorphisms .",
    "this shows that @xmath348 defines an open - closed tcft of dimension @xmath37 , which is the homotopy universal open - closed tcft associated to @xmath420 .",
    "finally , we have calculated the homology of the closed states of @xmath348 to be the hochschild homology of the associated @xmath0 category .",
    "in this appendix a symmetric monoidal functor @xmath11 from the category of topological spaces with local systems to chain complexes is constructed , which computes homology groups , and satisfies several nice properties . in particular , for a cell complex @xmath2 , there is a map @xmath825 which is natural for a strong notion of cellular map .",
    "we recall the properties of homology with local coefficients .",
    "a @xmath12 local system on a space @xmath826 is a locally constant sheaf of @xmath12 vector spaces on @xmath826 . if @xmath256 is a local system on @xmath826 , there are homology groups @xmath827 with local coefficients",
    ". spaces with local systems form a category ; a map @xmath828 is a map @xmath829 and a map @xmath259 .",
    "homology with coefficients defines a functor from this category to the category of graded @xmath12 vector spaces .      1 .",
    "if @xmath830 is a short exact sequence of local systems on @xmath826 , there is a corresponding long exact sequence of homology groups @xmath831 2 .",
    "if @xmath832 is written as a union of open subsets , there is a mayer - vietoris long exact sequence of homology groups @xmath833 3 .",
    "two maps @xmath834 are homotopic if they extend to a map @xmath835 .",
    "homotopic maps induce the same map on homology .",
    "if @xmath836 is a point , and @xmath256 is a vector space , then @xmath837 if @xmath838 , and @xmath839 .    on reasonable spaces , for example spaces with the homotopy type of finite cell complexes , the functor @xmath840 is determined by these properties .",
    "we can define @xmath827 using singular simplices @xmath841 with sections of @xmath842 , where @xmath270 is the orientation sheaf .",
    "there are also relative homology groups @xmath843 for a subspace @xmath844 and a local system @xmath256 on @xmath826 , which fit into the obvious long exact sequence .",
    "a finite regular cell complex is a space @xmath2 obtained by attaching finitely many cells to a finite number of points , with the property that the boundary of one cell is a union of lower dimensional cells .",
    "let @xmath845 be the union of cells of dimension @xmath600 .",
    "a strong cellular map between finite regular cell complexes @xmath846 is a continuous map @xmath847 such that @xmath848 .",
    "thus we have a category @xmath849 of finite regular cell complexes with these morphisms .    for a topological space @xmath826 ,",
    "let @xmath850 be the category whose objects are finite regular cell complexes @xmath2 with a map @xmath258 , and whose morphisms are strong cellular maps @xmath851 such that the obvious diagram commutes .",
    "there is a functor @xmath852 , which takes @xmath2 to the @xmath12 cellular chain complex @xmath853 .",
    "( of course we could use any coefficient ring ) . if @xmath256 is a local system on @xmath826 , then pulling back @xmath256 gives a local system on each object @xmath854 , and there is a functor of cellular chains with coefficients from @xmath855 .",
    "this functor applied to @xmath856 is denoted @xmath857 . by definition , @xmath858 is the relative sheaf homology .",
    "@xmath859 is naturally isomorphic to the space of sections over @xmath860 of the sheaf @xmath861 , where @xmath862 is the orientation sheaf .",
    "axiom ( 1 ) is straightforward ; the sequence of complexes @xmath867 is exact .",
    "axiom ( 3 ) follows as if @xmath868 are the inclusions , there is a canonical chain homotopy between the induced maps @xmath869 .",
    "axiom ( 4 ) is also quite straightforward ; for any @xmath272 cell complex @xmath2 over a point , with @xmath870 , there is a cellular isomorphism @xmath871 changing the orientation on the @xmath272 cells .",
    "it remains to prove the mayer - vietoris axiom .",
    "the sequence of complexes @xmath872 is actually exact .",
    "exactness on the left and in the middle is straightforward .",
    "exactness on the right is more difficult ; this can be proved by showing , inductively on the dimension of the cells , that for any @xmath272 cell complex @xmath873 , we can find a refinement @xmath874 of the cell structure on @xmath2 such that any closed cell of @xmath874 lands in either @xmath875 or @xmath876 .",
    "if @xmath877 are cell complexes , and @xmath878 are finite dimensional @xmath12 local systems on @xmath599 , then there is an isomorphism @xmath879 this induces maps @xmath880 making @xmath11 into a symmetric monoidal functor from spaces with finite dimensional @xmath12 local systems to chain complexes .",
    "m.  kontsevich and y.  soibelman , deformations of algebras over operads and the deligne conjecture , in _ confrence mosh flato 1999 , vol .",
    "i ( dijon ) _ , volume  21 of _ math .",
    "_ , pages 255307 , kluwer acad .",
    "publ . , dordrecht , 2000 .                    j.  e. mcclure and j.  h. smith , a solution of deligne s hochschild cohomology conjecture , in _ recent progress in homotopy theory ( baltimore , md , 2000 ) _ , volume 293 of _ contemp .",
    "_ , pages 153193 , amer .",
    "soc . , providence , ri , 2002 .",
    "g.  segal , the definition of conformal field theory , in _",
    "topology , geometry and quantum field theory _ ,",
    "volume 308 of _ london math .",
    "lecture note ser .",
    "_ , pages 421577 , cambridge univ . press , cambridge , 2004 , first cirulated in 1988 ."
  ],
  "abstract_text": [
    "<S> this is the first of two papers which construct a purely algebraic counterpart to the theory of gromov - witten invariants ( at all genera ) . </S>",
    "<S> these gromov - witten type invariants depend on a calabi - yau @xmath0 category , which plays the role of the target in ordinary gromov - witten theory . </S>",
    "<S> when we use an appropriate @xmath0 version of the derived category of coherent sheaves on a calabi - yau variety , this constructs the @xmath1 model at all genera . </S>",
    "<S> when the fukaya category of a compact symplectic manifold @xmath2 is used , it is shown , under certain assumptions , that the usual gromov - witten invariants are recovered . </S>",
    "<S> the assumptions are that open - closed gromov - witten theory can be constructed for @xmath2 , and that the natural map from the hochschild homology of the fukaya category of @xmath2 to the ordinary homology of @xmath2 is an isomorphism . </S>"
  ]
}