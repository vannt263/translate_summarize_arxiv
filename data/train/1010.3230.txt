{
  "article_text": [
    "the galactic emission mapping project ( gem ) [ 6 , 7 ] started as a tool to map the foreground synchrotron radiation originated within our galaxy in radio spectral bands and its contamination on the cosmic microwave background ( cmb ) . in recent years",
    "it has been evolving towards a radio polarimetry survey experiment targeting the mapping of large - sky areas and provide information on the polarization field of the milky way with a ongoing 5ghz south hemisphere already on the way ( wuensche 2009 ) .",
    "this decade we assisted to the onset and detailed mapping of the cmb polarization , started by dasi experiment first detections in 2002 ( kovac et al .",
    ", 2002 ; leitch et al .",
    "2002 ) , the first information by the wmap satellite on large scale polarized signal ( jarosik et al . 2009 ; dunkley et al . 2010 ) and the soon oncoming first all - sky templates of cmb polarization from the planck surveyor space mission covering a wide range of frequencies ( 30 - 850ghz ) ( efstathiou et al , planck blue book ) . to improve information on the polarized galactic foreground emission ,",
    "gem project led to the development of stable receivers capable of detecting the polarized synchrotron continuum at lower frequencies .",
    "the necessity for high sensitivity implying a relatively large bandwidth and concerns about faraday rotation depolarization motivated the focus of observation centered in the 5ghz band ( c - band ) . at this frequency , faraday rotation is negligible enough and so templates provide a good extrapolation of the polarization characteristics of synchrotron emission to much higher microwave frequency bands and are of good use to synchrotron studies in general for the new generation of radio astronomy projects .",
    "more recently , in portugal , for the northern part of the project , we adopted a 200mhz receiver bandwidth , centered at 4.9ghz , and free from radio frequency interference .",
    "in later project stages we will expand the bandwidth to 400ghz , if radio spectral conditions at the observing site ( fonseca et al . ,",
    "2006 ) maintain as very good , implying a necessary adaptation of the correlator developed along the principles here outlined .",
    "the gem project started originally in south hemisphere ",
    "brazil ( torres et al.,1996 ; tello et a. 2007 ) , having a recent counterpart addition in the north hemisphere , after the installation of a modified telecom antenna in central portugal in a radio quiet site ( barbosa et al .",
    "2010 , in preparation ) .",
    "together , they will map more than 85% of the sky",
    ". the final application of these joint surveys will be the separation of the several component emissions from the cmbr and the milky way by experiments like the satellite planck surveyor .",
    "for the northern part of sky and motivated by the needs of receiver stability we took advantage of the good performance of nowadays cots technologies and so adopted a superheterodyne solution for the receiver with a digital backend , with higher immunity to offsets introduced by the custom analogue electronics .",
    "this super heterodyne receiver will be located in the focus of a 9-meter cassegrain antenna and aims to achieve a sensibility of 300 k after 6 months of operation with 50% efficiency .",
    "the telescope has a final beam width of about 45 arcmin and the adopted gem survey strategy means it is capable of azimuthal rotation at constant elevation ( 60 deg ) , about 0.3 rpm of constant speed , so each sky pixel is observed about 0.5 seconds ( grossan et al . , in preparation ) .",
    "the azimuthal rotation if motivated by the needs of minimization of atmosphere and receiver noise fluctuations within a circular scan .",
    "thus , the combination of bandwidth and pixel integration time will be key parameters for the correlator algorithm to be implemented .",
    "the super heterodyne receiver chain schematics is shown in figure 1 and basically its gain properties are such it can amplify the sky signal into the detection range provided by the adcs dynamical range .        the incoming wave collected by the antenna is split in the two circular polarization hands ( rcp  right circular polarization and lcp- left circular polarization ) by the wave guide polarizer ( wgp ) .",
    "these signals are immediately amplified by cryocooled inp based low noise amplifier ( lna ) from the low noise factory , chalmers ( model lnf - lnc4_8a ) , followed by a second lna working at room temperature ( bergano et al .",
    "the inclusion of this second rf lna decreases the noise contribution of the following stages , the filter , the mixer and subsequent if chain .",
    "the rf signal is down converted to 600 mhz where it is amplified and filtered by an if chain with 200mhz of bandwidth consisting of a low noise if amplifier followed by an high gain amplifier in which the gain can be set .",
    "it is finally converted to zero if ( baseband ) in the form of in phase and quadrature components and these signals are digitized by four analog to digital converters ( adc ) at 200ms / s sampling rate , feeding a field programmable gate array ( fpga ) working at 100mhz where the cross correlation processing happens .",
    "the fpga cross - correlates the digitised samples of every component from each channel , computes the stokes parameters ( polarization )  _",
    "i , q , u _ and _ v _  and finally outputs these data parameters to a pc where they are time stamped with gps timing precision to which the pc is synchronized by having a dedicated gps receiver .",
    "the digital backend solution follows the current trend , taking advantage of fpgas flexibility capabilities , capable of providing the core of multi - purpose , re - programmable solutions to a wide variety of applications or just being building blocks of more complex signal processing systems .",
    "fpgas are extensively used now in receiver backends , from earth sensing radiometry digital backends ( bosch - lluis et al , 2006 ; camps et al . , 2006 ) to radioastronomy applications for alma , apex , mint among others , like digital correlator projects from radio to millimetre waves like ( fowler et al .",
    "2005 ; chang et al .",
    "2005 ; woods et al . 2009 ) beamformer boards and spectrometers ( herzen 1998 ; hotan 2008 ; klein 2006 among others ) .",
    "in particular , fpgas are core to processing solutions prior to final centralized processing .",
    "we cite top performance efforts led by the center for astronomy signal processing and electronics research ( casper ) at berkeley and radionet uniboard that will impact the next generation of radio telescopes and their wide surveys like skamp , mwa , lofar and the future square kilometer array .",
    "the mint ( millimeter interferometer ) cmb instrument was probably one of the first attempst to use cost effective fpgas for the core of digital backend based on design of the ovro digital correlator .",
    "however , as far as we know from the literature , this constitutes the first application of a digital backend for polarimetry detection in the field using cots components and a very competitive priced fpga .",
    "the requirements for implementing a full digital cross - correlator capable of computing the four stokes parameters would require a medium size fpga with less then 40 multipliers and less than 5000 logic elements ( le ) and we have no need for any of the special features available on the high performance fpgas .",
    "we selected an ep2c8q208c7 fpga from the cyclone ii family from altera that at the time of design represented a trade - off decision between cost and performance .",
    "it contains 36 9-bit - multipliers , 8256 logic elements and we opted for a 208 pins qfp ( quadrat flat pack ) package .",
    "the adcs required in order to maintain a total complex signal bandwidth of 200mhz would have to digitize ideally at 200ms / s , while in practice we have to allow a margin for the anti aliasing filter roll off .",
    "the adcs selected along with the signal conditioning amplifiers implemented accept 0,5 v peak - to - peak signal , while the amplitude of signals we will use in operation will be about half of the adc range .",
    "since the best adc performance occurs for differential signals , the signal conditioning before the adc is a differential amplifier that transforms the single ended signal in a differential and provide the required common mode voltage to the adcs .",
    "digital signals going into the fpga have already been interleaved inside the adcs , so each adc will present 16 bit to the fpga that contains two samples at each fpga reading cycle corresponding to sample n-1 and sample n. this allows a slower transfer rate to the fpga being now at 100mhz clock .",
    "total data transferred from the 4 adcs is 6.4gb / s . after processing and integrating several samples",
    "the data rate is slow enough to be transferred to a computer .",
    "the computer is a small form factor pc104 module ( amd lx800 500mhz from kontron1 ) with 256 mb ram and a 1 gb chip flash hard disk that interfaces the fpga by the isa bus . although pci bus is also available , we chose isa bus communications for simplicity of processes .",
    "this pc is responsible to format the data , flag it and store it locally and make it available through the network via ethernet ip using sftp ( secure file transfer protocol ) .",
    "the fpga configuration was developed in vhdl language using quartus ii v6.1 web edition software .",
    "the prototype was implemented on a four layer pcb containing the adcs and fpga .",
    "high speed digital design considerations were applied during this design stage .",
    "the prototype board is presented in figure 2 .",
    "one of the main concerns during the pcb design was to keep all the signal paths distances equal in order to avoid phase differences between signals .",
    "this is why the design is symmetric in their layout appearance ; there are four adcs , equally separated on the right and left side of the board , corresponding to the left and right hand circular polarization , respectively . on the upper end",
    "is the isa interface and on the lower end are the clock signals , triggers and programming connector of the fpga .",
    "the pcb has four layers .",
    "we use the top layer mainly for signals , all the analog and digital signals .",
    "immediately below is the ground layer , so all the lines can be considered microstrip transmission lines .",
    "the third layer is for power supplies .",
    "for the present design we have four different voltages being distributed , @xmath0,@xmath1 , @xmath2 , @xmath3 and @xmath4 .      the four stokes parameters _ ( s ) i , q , u , v _ describe the polarization state of any electromagnetic wave ( heiles et al . , 2004 and references therein ) .",
    "parameter is the total power received by the antenna in the two polarizations , _ q _ and _ u _ quantifies the power components of the linear polarization and _ v _ quantifies the amount of power in the circular polarization .",
    "using the circular polarization base formalism , the parameters can be described below as : @xmath5    the el and er indicate the electric field of the left and right circular polarizations .",
    "these equations will be implemented as the algorithm core running in the fpga for correlating the digitalized samples .",
    "the signals coming from the four adcs ( @xmath6 , @xmath7 , @xmath8 and @xmath9 ) , enter the fpga .",
    "then a stokes parameters calculation is performed followed by integration .",
    "after integration the data rate is considerably slower and then all data contained the polarimetric information is outputted to a pc104 [ 5 ] .",
    "a block diagram of the generic data flow from the adc to the pc104 is shown in figure 3 .        to fully represent a signal when it is converted to baseband ( or to zero if ) a phase and quadrature detection for each polarimeter channel ( rhcp and lhcp ) is performed .",
    "these baseband signals can be considered a complex representation of the original signal by its real and imaginary parts .",
    "therefore we have at the adc input the signal components as detailed in table 1 .    [ tab:1 ]    ll @xmath6 & @xmath10 + @xmath7 & @xmath11 + @xmath8 & @xmath12 + @xmath9 & @xmath13 +    considering equation 1 and the information in table 1 , it is possible to define how the stokes parameters are calculated from the signals in the four adcs , equation 2 .",
    "@xmath14    since the output of the adcs present two samples n0 and n1 at each cycle , stokes parameters would have to be calculated simultaneously for both n0 and n1 according to equation 3 and 4 .",
    "@xmath15    @xmath16    the stokes parameters would now require an integration over a long time to obtain the estimated pixel polarimetric information .",
    "this can generally be expressed as in the equation 5 .",
    "@xmath17      the code was written in vhdl and used a behavioral description coding style .",
    "this made the overall design considerably easier to read and understand .",
    "however carefull attention to timing details were necessary .",
    "as seen from the simulation , figure 4 , the 8 bit data samples received by the fpga are spaced in time by 10 nanoseconds and valid at the ascendant clock transition that should happen at the middle of the time where data is stable .",
    "if the data flow could be implemented as simple as depicted from the data flow previously described all the stokes parameters must be calculated on each transition and produce a result every 10ns .",
    "figure 5 shows a block diagram of the fpga implementation by representing it in four well defined data stages ; the input registering of data and clock synchronization , the calculations of stokes parameters , the integration and finally the output data interface .",
    "the very first task before performing any calculations consists on the synchronization of all the inputs , in order to guarantee that all data exists stable during a complete fpga clock cycle , regardless of residual delays from the adc - fpga interface .",
    "basically the data from the adcs is registered by a skewed fpga clock that is phase aligned with the center of data available from adcs . a second register stores this data with the main fpga clock .",
    "now all data is available at fpga clock and all samples now computed at the same time have the maximum time window available to be processed by the multiplication / addition logic necessary to implement the stokes parameter calculation .",
    "since the fpga receives two consecutive signal samples , the next step must implement a parallel processing of both samples . while the parallelization concept is easy to understand the simulation",
    "/ verification was actually quite morose since multiplications / additions in general do take a predictable time to compute but they may compute wrongly if we do not allow enough time for signals to stabilize .",
    "this is a considerable problem to simulate / debug since different data values may take slightly different times and if we are on the edge of the computation timing , wrong computations may happen . as a demonstrating example",
    ", we show , in figure 5 , that a square of a sample with eight bits needed 10.6ns to perform valid data when we would need less 10 ns for all the processing of equations in ( 3 ) or ( 4 ) . as referred above , one can see that although the first result is correct the following calculations are incorrect .",
    "the simulation indicates we need 3 ns for the propagation time therefore only 7 ns will remain to perform the multiplications , which is not possible in a commercial fpga with a speed grade of 7 , as advertised by the manufacturer ( altera ) .",
    "the solution is to slow down once more the speed of calculus by paralleling more functions in the fpga ( note that first parallelization occurred inside the adc ) .",
    "such parallelization of the data in two registers with twice more bits would extend the available time to 20ns figure 8 .        to detail this process",
    "we shall consider here only one adc . assuming that adc1 is in the n0 channel , all the samples are saved in the register _",
    "r_adc1_n0_t1 _ on the clock ascendant transition and in the register _",
    "r_adc1_n0_t2 _ on the descendant transition .",
    "figure 9 show the two registers now containing the information of one adc of two samples during 20 ns that is half the initial clock speed .",
    "the next step is to perform the calculations of each stoke parameter for channels n0 and n1 at the time instants t and t+1 , corresponding to the two registers as in the following expression :    @xmath18      the techniques employed above to allow the calculation of the stokes parameters have slow down the data rate considerably but increased the number of bits .",
    "the speeds required for the data transfer are still orders of magnitude slower than that to be used by the pc buses , isa or pci , available on the pc104 .",
    "the goal is now to integrate the stokes parameters producing a statistical estimation of its value .",
    "this is accomplished by performing successive additions on each of the parameters to extract their average . in figure 10",
    "we show a diagram of the architecture used to obtain this data integration .",
    "the processing undertaken by one parameter is shown in figure figure 9 .",
    "the others parameters will have the exact same structure .",
    "the input is the calculated stokes parameter and the output is a time integrated version , average , of the input .",
    "the input value is represented by 19 bits and here becomes reduced to 16bit by the first register that will only use the sixteen most significant bits ( msb ) of this value .",
    "apparently the accuracy is lowered , however we are processing a signal resulting from computation of 4 times 8bit signals that will not use the total dynamic range and do not require the full instantaneous resolution at any of the stages before integration . at early stages",
    "the signals are still random noise like signals and the fine resolution and sensitivity only appear after significant time integration .",
    "the first accumulator performs m sums of the parameter .",
    "this procedure is repeated again in a second stage to reduce the amount of information and at the same time to further integrate each parameter . at each integration level the time is increased by @xmath19 , so in the final register we have the most significant 16 bits at a rate of @xmath20 = 1310720 ns  1.3 ms .      with data available each 1.3 milliseconds , it is now possible to use one of the provided buses of the pc . for simplicity",
    ", we have chosen the isa bus .",
    "the interface diagram is represented in figure 10 .",
    "interfacing the isa bus using an 8 bits bus width , each parameter ( that has 16 bit ) will have to be transferred by two i / o bus cycles , one for the eight msb and again for the least significant bits ( lsb ) .",
    "to select all the parameters to be transferred on the bus read cycle we need 8 i / o address positions . a status register from the fpga to the pc",
    "was also considered to retrieve the communication status and other internal flags .",
    "this action results in an address range exceeding 8 positions .",
    "therefore 4bits of addressing were considered .",
    "the four lsb of the address bus are used by the multiplexer to select which parameter is sent to the bus .",
    "the control bus follows the classical isa i / o signaling protocol , i.e. the input / output read ( /iord ) and the address enable bits .",
    "the selection of this pc peripheral ( the fpga as seen by the pc104 ) is made at a at an address range of the traditional i / o space that was found free .",
    "the full fpga implementation was test benched and calibrated , using progressively higher data rates starting at 24 mhz , 50 mhz 75 mhz and finally 100 mhz .",
    "the full code implementation of the fpga used 16% of the logic elements and 89% of the embedded multipliers .",
    "the pc104 code was developed with basic i / o , time stamping and further processing of the samples . to efficiently control these tasks ,",
    "a new micro - linux distribution was generated in which high performance and low read / write memory needs were obtained so that a fan - less pc104 with solid - state disk could be used .",
    "it avoids , as much as possible , hard disk writing and includes ramdisk ( /var and /tmp @xmath21 /dev / ram0 ) , a deactivated swap area to avoid flash memory writings , since writing is a slow process on flash disks .",
    "it includes also interfaces for ethernet and external micro - controller , c code for added correlator data acquisition and sample timestamping synchronized via a dedicated gps receiver , code for interaction with the antenna attitude control system , data flagging and transport of other physical housekeeping data from the receiver .",
    "no gcc compiler is included , since the chip is not meant for code development and compilation and makes use of busybox 1.5 for further size - optimization . with only one ext3 partition and absence of x system",
    "it reduces the final distribution size to less than 58 mb .",
    "this distribution is now called lirae for `` linux for radio astronomy embedded '' and is based on a red hat linux 8.0 with a 2.4x kernel and is actually very suitable to be used in any small embedded system requiring small pcs and extremely low disk access despite intensive data operations .",
    "available upon request at http://www.av.it.pt/gem .",
    "a new digital backend with a complex correlator implemented in a cyclone ii fpga from altera was developed for a polarimetry application on the gem portugal project .",
    "this implementation is suitable to be used in other sky mapping or radio astronomy applications or in any intermediate processing chain of the parallel processing of several signal channels . the time required for multiplications along with the throughput required led us to use several interleaving mechanisms to slow down the speed enough to keep this design feasible on a low cost fpga .",
    "the large time integration and subsequent slower data rate at the fpga output allowed also the usage of a low cost pc104 solution and the usage of a traditional bus interface .",
    "this digital backend using competitive priced cots technology forms a full complex correlator and it is suitable for large sky area surveys . to the best of our knowledge",
    "this is the first application of a full digital backend for polarimetry detection in the field .",
    "the team acknowledges the portuguese foundation for science and technology ( fct ) for the financial support through projects ptdc / cte - ast/65925/2006 , poci / cte - ast/57209/2004 .",
    "rf acknowledges support from fct through a phd grant .",
    "db is supported through a cincia 2007 grant , funded by compete and qren programs .",
    "mb acknowledges support from panorama project .",
    "carl heiles , `` a heuristic introduction to radioastronomical polarization '' , astronomy department , uc berkeley .",
    "j. bergano , et al .",
    ", `` design of an if section for a galactic emission mapping experiment '' , conftel 2007 , an it and ieee sponsored conference , astro - ph/0702629 r. fonseca et al . , site evaluation and rfi spectrum measurements in portugal at the frequency range 0.408 - 10 ghz for a gem polarized galactic radio emission experiment , new astronomy , 11 , 551 - 556 , 2006 camps , a. , j. f marchan - hernandez , i. ramos - perez , x. bosch - lluis , new radiometer concepts for ocean remote sensing : description of the pau ( passive advanced unit ) , proceedings of the ieee international geoscience and remote sensing symposium , igarss 2006 , july 31-august 4 2006 , denver , colorado .",
    "camps , a. , j. f marchan - hernandez , i. ramos - perez , x. bosch - lluis , new radiometer concepts for ocean remote sensing : description of the pau ( passive advanced unit ) , proceedings of the ieee international geoscience and remote sensing symposium , igarss 2006 , july 31-august 4 2006 , denver , colorado .",
    "x. bosch - lluis , a. camps , j.f .",
    "marchan - hernandez , i. ramos - perez , r. prehn , b. izquierdo , x. banque , and j. yeste , fpga - based implementation of a polarimetric radiometer with digital beamforming , eee international conference on geoscience and remote sensing symposium , 2006 .",
    "igarss 2006 .",
    "parsons , a. ; backer , d. et al .",
    "petaop / second fpga signal processing for seti and radio astronomy , signals , systems and computers , 2006 .",
    "acssc 06 .",
    "fortieth asilomar conference on , http://dx.doi.org/10.1109/acssc.2006.355123 andrew woods , michael inggs and alan langman , accelerating a software radio astronomy correlator using fpga co - processors , 2009 symposium on application accelerators in high performance computing , july 2009 brian von herzen , signal processing at 250 mhz using high - performance fpga s , ieee transactions on very large scale integration ( vlsi ) systems , vol .",
    "2 , june 1998 bernd klein , sabine d. philipp , rolf gsten , ingo krmer and dorothea samtleben , a new generation of spectrometers for radio astronomy : fast fourier transfor spectrometer , 2006 , proc . of the spie , millimeter and submillimeter detectors and instrumentatio for astronomy iii .",
    "vol . 6275 , pp .",
    "627511 a. w. hotan , a new signal processing platform for radio astronomy , a&a 485 , 615 - 622 ( 2008 ) , doi : 10.1051/0004 - 6361:200809396 efstathiou , g. , c. lawrence , j. tauber et al , planck : the scientific program ( blue book ) , esa - sci(2005)1 j. m. kovac et al , detection of polarization in the cosmic microwave background using dasi , nature , vol 420 | 19/26 december 2002 e. m. leitch et al , measurement of polarization with the degree angular scale interferometer , nature , vol 420 , 19/26 december 2002 jarosik , n. , et.al , seven - year wilkinson microwave anisotropy probe ( wmap ) observations , submitted to astrophysical journal supplement series , arxiv:1001.4744v1 j. dunkley , five - year wilkinson microwave anisotropy probe ( wmap ) observations , astrophys.j .",
    "701:1804 - 1813 , 2009 , arxiv:0811.4280v2 s. torres , et al .",
    ", the gem project : an international collaboration to survey galactic radiation emission , astrophys.space sci . 240 ( 1996 ) 225 tello et al . , the 2.3 ghz continuum survey of the gem project , astronomy & ; astrophysics , arxiv:0712.3141 j. w. fowler , et al",
    ". , cmb observations with a compact heterogeneous 150 ghz interferometer in chile , astrophys .",
    "j. suppl . 156",
    "( 2005 ) 1 - 11 j. w. c. chang and r. b. .",
    ", `` bee2 : a high - end reconfigurable computing system , '' design & test of computers , ieee , vol .",
    "22 , pp.114 125 , 2005 ludovico de souza , john d. bunton , duncan campbell - wilson , roger j. cappallo , bart kincaid , a radio astronomy correlator optimized for the xilinx virtex-4 sx fpga , ieee 2007"
  ],
  "abstract_text": [
    "<S> the international galactic emission mapping project aims to map and characterize the polarization field of the milky way . in portugal </S>",
    "<S> it will cartograph the c - band sky polarized emission of the northern hemisphere and provide templates for map calibration and foreground control of microwave space probes like esa planck surveyor mission . </S>",
    "<S> the receiver system is equipped with a novel receiver with a full digital back - end using an altera field programmable gate array , having a very favorable cost / performance relation . </S>",
    "<S> this new digital backend comprises a base - band complex cross - correlator outputting the four stokes parameters of the incoming polarized radiation . in this document </S>",
    "<S> we describe the design and implementation of the complex correlator using cots components and a processing fpga , detailing the method applied in the several algorithm stages and suitable for large sky area surveys . </S>"
  ]
}