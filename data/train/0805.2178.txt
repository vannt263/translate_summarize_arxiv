{
  "article_text": [
    "0.2cm*notational warning * : in the sequel we shall use the following notations : @xmath0 \\nonumber \\\\",
    "j&:=&[0,\\infty)\\cup \\{\\infty\\ } \\nonumber \\\\   { \\mathbb q}_1&:=&{\\mathbb q}\\cap [ 0,1 ] \\nonumber \\\\ { \\mathbb q}_p&:=&\\left\\ { \\frac k { p^s } \\ , : \\ , s\\in { \\mathbb n } , \\ , 0\\leq k \\leq   p^s\\right\\ } , \\quad p\\geq 2\\nonumber\\end{aligned}\\ ] ]      we start with the stern - brocot ( sb ) tree @xmath1 , which is a way to order ( and thus to count ) the elements of @xmath2 , the set of positive rational numbers , so that every number appears ( and thus is counted ) exactly once ( see @xcite , @xcite and , for a modern account , @xcite ) .",
    "the basic operation needed to construct @xmath1 is the _ farey sum _ : given @xmath3 and @xmath4 in @xmath2 set @xmath5 one notes that the _ child _",
    "@xmath6 turns out to be in lowest terms whenever the _ parents _ @xmath3 and @xmath4 do .",
    "moreover , the child always lies somewhere in between its parents , e.g. , assuming @xmath7 , we have @xmath8 .    0.2cmstarting from the _ ancestors _ @xmath9 and @xmath10 ( written ` in lowest terms ' ) one then writes genealogically one generation after the other using the above operation :    0.5 cm    @xmath11 @xmath12    0.2 cm 5.17 cm @xmath13    0.5 cm 2.5 cm @xmath14 4.95 cm @xmath15    0.3 cm 1.15 cm",
    "@xmath16 2.3 cm @xmath17 2.3 cm @xmath18 2.4 cm @xmath19    0.3 cm 0.5 cm @xmath20 0.95 cm @xmath21 @xmath22 @xmath23 0.9 cm @xmath24 @xmath25 1.05 cm @xmath26 1.cm @xmath27    0.3 cm 0.2 cm @xmath28 0.25 cm @xmath29 0.3 cm @xmath30 0.3 cm @xmath31 0.3 cm @xmath32 0.32 cm @xmath33 0.31 cm @xmath34 0.3 cm @xmath35 0.3 cm @xmath36 0.33 cm @xmath37 0.32 cm @xmath38 0.32 cm @xmath39 0.32 cm @xmath40 0.33 cm @xmath41 0.33 cm",
    "@xmath42 0.33 cm @xmath43    0.5 cm    and so on .",
    "the easily verified property which makes the above interesting and useful is the following fact : if @xmath3 and @xmath4 are consecutive fractions at any stage of the construction then the unimodular relation @xmath44 is in force .",
    "0.2cmfinally , the subtree @xmath45 of @xmath1 having @xmath46 as root node and vertex set @xmath47 is called _",
    "farey tree_. it can be obtained exactly in the same way as @xmath1 taking as ancestors @xmath48 and @xmath49 instead of @xmath48 and @xmath50 .",
    "[ moppa ] let @xmath51 be the invertible map defined by @xmath52 and @xmath53 then @xmath54    _ proof _ it suffice to notice that @xmath55 , @xmath56 , @xmath57 and for @xmath58 we have @xmath59 .",
    "@xmath60    0.2cmanother structure we shall deal with is the _ dyadic _ tree @xmath61 , whose first two levels are as in @xmath45 and then can be constructed from the root node @xmath46 by writing under each vertex @xmath3 the pair @xmath62 and @xmath63 .",
    "the vertex set of @xmath61 is @xmath64 .",
    "we shall see later how it is related to @xmath1 and @xmath45 .",
    "every @xmath66 appears exactly once in the above construction and corresponds to a unique finite path on @xmath1 starting at the root node @xmath67 and whose number of vertices equals the _ depth _ of @xmath68 , i.e. the level of @xmath1 it belongs to .",
    "for @xmath69 one may just consider the path on the subtree @xmath45 which starts at the root node @xmath70 and whose number of vertices is the _ rank _ of @xmath68 .",
    "for @xmath66 we have ( x ) = [ x ] + rank(\\{x})+1 in order to properly code these paths we start recalling that every rational number @xmath66 has a unique finite continued fraction expansion @xcite @xmath71\\ ] ] with @xmath72 , @xmath73 for @xmath74 and @xmath75 .",
    "let @xmath66 then @xmath76 \\quad \\longrightarrow \\quad { \\rm depth}(x)= \\sum_{i=0}^n a_i\\ ] ]    _ proof .",
    "setting @xmath77 we have @xmath78 .",
    "let now @xmath79 $ ] be such that @xmath80 .",
    "then , in order to reach the leaf @xmath68 from the root @xmath13 one has first to move @xmath81 steps to the right , thus reaching the node @xmath82 .",
    "then , moving @xmath83 steps to the left one reaches @xmath84 @xmath85 further steps to the right reach the point @xmath86 and so on . in this way",
    ", one sees that the path to reach @xmath68 makes exactly @xmath87 turns and the length of the blocks within the @xmath88-st and the @xmath89-th turn is given by the partial quotient @xmath90 for @xmath91 , whereas the last block has length @xmath92 .",
    "more precisely , the blocks moving to the left are related to partial quotients with odd index , those moving to the right to those with even index .",
    "it then follows at once that @xmath93 .",
    "@xmath60    0.2cmthe argument sketched above actually allows us to say more . to this end",
    ", we shall first construct a matrix representation of the positive rationals .",
    "we start noting that a given @xmath94 can be uniquely decomposed as @xmath95 the neighbours @xmath96 and @xmath97 are thus the parents of @xmath68 as an element of @xmath1 .",
    "we then identify @xmath98 note that the left column bears on the right parent and viceversa . in this way",
    ", the root node yields the identity matrix : @xmath99 moreover , given @xmath100 which represents the fraction @xmath94 , the matrix @xmath101 represents the symmetric fraction @xmath102 , with @xmath103 in particular @xmath104 more generally , for @xmath105 , @xmath106 now , the point @xmath68 considered above has in turn a unique pair of ( left and right ) children , given by @xmath107 respectively .",
    "moreover , @xmath108 and @xmath109 in other words , the matrices @xmath110 and @xmath111 , when acting from the right , move to the left and right child in @xmath1 , respectively . together with the argument of the proof given above this yields the following result .",
    "[ codaggio ] to each entry @xmath112 there corresponds a unique element @xmath113 , for which we have the following two possibilities :    * @xmath79 $ ] , @xmath87 even @xmath114 @xmath115 * @xmath79 $ ] , @xmath87 odd @xmath114 @xmath116    as an easy consequence we have the    [ path ] let @xmath117 $ ] with @xmath75 and @xmath87 even .",
    "then its left and right children in @xmath1 are given by @xmath118 $ ] and @xmath119 $ ] , respectively .",
    "if instead @xmath87 is odd the expansions for @xmath120 and @xmath121 are interchanged .",
    "_ for @xmath87",
    "even and larger than one we have @xmath122 \\longleftrightarrow x = r^{a_0}l^{a_1}r^{a_2}\\cdots r^{a_n-1}$ ]",
    ". therefore @xmath123 and @xmath124 which yield the claim .",
    "a similar reasoning applies for @xmath125 and @xmath87 odd .",
    "@xmath60      one can extend the above construction by associating to each @xmath126 a unique _ infinite _ path in @xmath1 , or else a unique semi - infinite word in @xmath127 , in the natural way .",
    "first , to @xmath128 with infinite continued fraction expansion @xmath129 $ ] there will correspond the ( unique ) sequence @xmath130 , where now @xmath111 and @xmath110 are nothing but elements of a binary alphabet . for rational @xmath68 we can proceed as follows .",
    "first we set @xmath131 and @xmath132 .",
    "then note that each @xmath66 has two infinite paths which agree down to node @xmath68 : they are those starting with the finite sequence coding the path to reach @xmath68 from the root node according to proposition [ codaggio ] and terminating with either @xmath133 or @xmath134 .",
    "we shall agree that @xmath135 terminates with @xmath133 or @xmath134 according whether the number of its partial quotients of @xmath68 is even or odd . summarizing we have the following coding    * @xmath79 $ ] , @xmath87 even @xmath114 @xmath136 * @xmath79 $ ] , @xmath87 odd @xmath114 @xmath137 * @xmath129 $ ] @xmath114 @xmath130 .",
    "one easily checks that if @xmath138 denotes the lexicographic order on @xmath139 then @xmath140 finally , from the above it follows that for an irrational @xmath68 the infinite path on @xmath1 converging to @xmath68 coincides with the _ slow continued fraction algorithm _ ( see , e.g. , @xcite ) .",
    "0.5 cm given a number @xmath126 with continued fraction expansion @xmath141 $ ] , one may ask what is the number obtained by interpreting the sequence @xmath135 defined in section [ inf ] as the binary expansion of a real number in @xmath142 .",
    "the number so obtained , denoted @xmath143 , writes [ defi ] ( x)=0 .",
    "_ a_1 or , which is the same , ( x)=1-_k0(-1)^k 2 ^ -(a_0++a_k ) for instance @xmath144 and @xmath145 for all @xmath146 . setting @xmath147 and @xmath148",
    "we see that @xmath149 satisfies [ ? ] ( x ) = ?",
    "( x ) where @xmath150 is the map defined in lemma [ moppa ] and @xmath151 is the _",
    "minkowski question mark function _",
    "@xcite , which for @xmath152 $ ] is given by [ ? ? ? ] ?",
    "( x)=0 . _ a_2 differently said , for @xmath153 the number @xmath154 is obtained by interpreting the symbolic sequence corresponding to the path which starts from the root node @xmath46 and approaches @xmath68 along the farey tree @xmath45 as a binary expansion of a real number in @xmath142 .",
    "0.2cmwe now need a simple lemma .",
    "[ reci ] @xmath155 \\;\\longleftrightarrow \\ ; 1-x=\\left\\ { \\begin{array}{cl }   [ 0;1+a_2,a_3 , \\dots ] & { \\rm if}\\ a_1=1   \\\\[0.5 cm ] [ 0;1,a_1 - 1,a_2 , \\dots ] & { \\rm if}\\ a_1>1 \\end{array } \\right.\\ ] ]    _ proof . _ upon application of the identity @xmath156    the functions @xmath157 and @xmath158 satisfy the functional equations ?",
    "( x)+?(1-x)=1 , xi and ( x ) + ( 1/x)=1 , xj respectively .",
    "_ the equation for @xmath157 follows at once from lemma [ reci ] and ( [ ? ? ? ] ) .",
    "that for @xmath158 then follows by ( [ ? ] ) .",
    "@xmath60    0.2cmadditional properties of @xmath158 are inherited via ( [ ? ] ) from the following properties of @xmath157 ( see @xcite , @xcite , @xcite , @xcite ) :    * @xmath154 is strictly increasing from @xmath9 to @xmath159 and hlder continuous of order @xmath160 * @xmath69 iff @xmath161 * @xmath68 is a quadratic irrational iff @xmath162 is a ( non - dyadic ) rational * @xmath162 is a singular function : its derivative vanishes lebesgue - almost everywhere        0.2 cm for any pair @xmath3 and @xmath4 of consecutive fractions in @xmath1 the function @xmath158 ( as @xmath157 on @xmath45 ) equates their child to the arithmetic average .",
    "for instance we have ( p+pq+q ) = 12    therefore the functions @xmath158 and @xmath157 map the sb tree @xmath1 and the farey tree @xmath45 , respectively , to the _ dyadic tree _ @xmath61 mentioned above .",
    "note that the set @xmath163 of dyadic fractions belonging to the first @xmath164 levels of @xmath61 is the uniformly spaced sequence @xmath165 , @xmath166 . reducing to the lowest terms",
    "we get @xmath167 and so on .",
    "hence , an immediate consequence of the fact that @xmath168 is that @xmath143 and @xmath154 are the asymptotic distribution functions of the sequences of sb fractions and farey fractions , respectively .    [ distri ] set @xmath169 . since @xmath170 we have @xmath171 the same holds for @xmath157 with @xmath172 replaced by @xmath173 .",
    "in particular , the fourier - stieltjes coefficients of @xmath158 and @xmath157 are as in the following    [ fourier ] let @xmath174 then @xmath175 the same holds for the coefficients of @xmath157 with @xmath172 replaced by @xmath176 .",
    "0.5 cm let @xmath177 represent a number @xmath66 as above and write it as @xmath178 where @xmath179 and @xmath180 .",
    "let us denote by @xmath181 the positive rational number represented by the reversed matrix product @xmath182 .",
    "clearly @xmath183 but @xmath184 if and only if the sequence @xmath185 is a palindrome . the permutation map @xmath186 yields the permuted version @xmath187 of the sb tree whose first five levels are shown below ( the ancestors @xmath188 and @xmath50 are omitted ) .    0.5 cm    5.17 cm @xmath13    0.3 cm 2.4 cm @xmath14 @xmath15    0.3 cm 1.1 cm @xmath16 2.3 cm",
    "@xmath18 2.3 cm @xmath17 2.4 cm @xmath19    0.3 cm 0.5 cm @xmath20 0.9 cm @xmath24 @xmath22 @xmath26 0.9 cm @xmath21 @xmath25 1.1 cm @xmath23 @xmath27    0.3 cm 0.2 cm @xmath28 0.25 cm @xmath36 0.3 cm @xmath32 0.3 cm @xmath40 0.3 cm @xmath30 0.32 cm @xmath38 0.31 cm @xmath34 0.3 cm @xmath42 0.3 cm @xmath29 0.33 cm @xmath37 0.32 cm @xmath33 0.32 cm @xmath41 0.32 cm @xmath31 0.33 cm @xmath39 0.33 cm @xmath35 0.33 cm @xmath43    0.8 cm    [ desce ] under the ancestors @xmath48 and @xmath50 , the permuted sb tree @xmath189 can be constructed starting from the root node @xmath49 and writing under each vertex @xmath3 the set of descendants @xmath190 .    _",
    "note that @xmath191 and @xmath192 in other words , the matrices @xmath110 and @xmath111 , when acting from the left give but the left and right descendants , respectively .",
    "also note that if @xmath193 $ ] then @xmath194 $ ] and @xmath195 $ ] .",
    "therefore @xmath196this yields the claim .",
    "@xmath60    0.2 cm    the tree @xmath197 has been considered in @xcite where the authors argued that if we read it row by row , and each row from left to right , then for @xmath198 we can write the @xmath89-th element in the form @xmath199 , where @xmath200 is the number of hyperbinary representation of @xmath87 , namely the number of ways of writing the integer @xmath87 as a sum of powers of two , each power being used at most twice .",
    "for example @xmath201 and therefore @xmath202 .",
    "this property plainly entails that when reading from left to right any sequence of fractions with fixed depth the denominator of each fraction is the numerator of its successor .",
    "0.2cmwe finally define the corresponding permutation of both the farey tree @xmath45 and the dyadic tree @xmath61 , denoted @xmath203 and @xmath204 respectively .",
    "clearly we have @xmath205 ( see lemma [ moppa ] ) .",
    "reasoning as above one easily obtains the following simple genealogical rules :    [ genera ] under the ancestors @xmath48 and @xmath49 , the permuted trees @xmath206 and @xmath204 can be constructed starting from the root node @xmath46 and writing under each vertex @xmath3 the sets of descendants @xmath207 and @xmath208 , respectively .",
    "0.2cmthe first five levels of @xmath203 are    5.17 cm @xmath14    0.3 cm 2.4 cm @xmath16 5.1 cm @xmath17    0.3 cm 1.1 cm @xmath20 2.4 cm @xmath22 2.21 cm @xmath21 2.45 cm @xmath23    0.3 cm 0.5 cm @xmath28 0.9 cm @xmath32 @xmath30 1.05 cm @xmath34 0.8 cm @xmath29 1.05 cm @xmath33 1.1 cm @xmath31 0.905 cm @xmath35    0.3 cm 0.2 cm @xmath209 0.2 cm @xmath210 0.2 cm @xmath211 0.2 cm @xmath212 0.15 cm @xmath213 0.2 cm @xmath214 0.2 cm @xmath215 0.2 cm @xmath216 0.2 cm @xmath217 0.25 cm @xmath218 0.15 cm @xmath219 0.2 cm @xmath220 0.2 cm @xmath221 0.2 cm @xmath222 0.2 cm @xmath223 0.2 cm @xmath224 and the corresponding levels of @xmath204 are    5.17 cm @xmath14    0.3 cm 2.4 cm @xmath20 5.3 cm @xmath23    0.3 cm 1.1 cm @xmath225 2.3 cm @xmath33 2.5 cm @xmath30 2.45 cm @xmath226    0.3 cm 0.4 cm @xmath227 0.7 cm @xmath228 0.8 cm @xmath229 0.9 cm @xmath230 0.9 cm @xmath231 @xmath232 0.9 cm @xmath233 0.9 cm @xmath234    0.3 cm 0.1 cm @xmath235 0.1 cm @xmath236 0.1 cm @xmath237 0.1 cm @xmath238 0.15 cm @xmath239 0.2 cm @xmath240 0.2 cm @xmath241 0.2 cm @xmath242 0.2 cm @xmath243 0.25 cm @xmath244 0.2 cm @xmath245 0.2 cm @xmath246 0.2 cm @xmath247 0.2 cm @xmath248 0.2 cm @xmath249 0.2 cm @xmath250 0.8 cm    0.5 cm",
    "we now construct a sequence of random variables @xmath251 on @xmath2 defined recursively in the following way : set @xmath252 and if @xmath253 then either @xmath254 or @xmath255 , both with probability @xmath46 . the sequence @xmath256 can be regarded as a ( symmetric ) random walk on @xmath197 .",
    "[ rw ] the random walk @xmath256 enters any non - empty open interval @xmath257 almost surely .",
    "_ pick up an irrational number @xmath258\\in ( a , b)$ ] . then for @xmath87 large enough we can find a closed subinterval @xmath259 such that the c.f .",
    "expansion of each element of @xmath260 starts as @xmath261 $ ] . to fix the ideas and with no loss , let @xmath87 be odd .",
    "then , according to the above and proposition [ codaggio ] the path on @xmath197 starting from the root @xmath49 and entering @xmath260 ( for the first time ) will eventually end with the word @xmath262 .",
    "hence it has the form @xmath263 with prefix @xmath264 so that @xmath263 does not contain subwords equal to @xmath265 but @xmath265 itself .",
    "we now proceed by induction on the length @xmath266 of @xmath265 , calling @xmath267 the word of length @xmath266 . if @xmath268 then there is exactly one prefix @xmath269 of lenght @xmath270 for each @xmath271 ( e.g. if @xmath272 then @xmath273 is the only possible prefix ) occurring with probability @xmath274 .",
    "summing over the prefixes we get @xmath275 .",
    "theferore the claim is true for @xmath268 .",
    "now suppose it is true for @xmath276 .",
    "when passing to @xmath277 either @xmath278 or @xmath279 , hence we have two families of paths @xmath280 and @xmath281 , one of which being @xmath282 and thus , by the induction hypothesis , having probability @xmath46 .",
    "we are now left with all paths starting with the ` bad ' ones and eventually ending with @xmath283 .",
    "but then we can use the self - similarity of the tree and iterate the above construction .",
    "suppose for instance that the ` bad ' set was @xmath281 , that is @xmath278 .",
    "then at some point we will end up with the alternative @xmath284 and @xmath285 for some @xmath286 , and the ` good ' set @xmath284 has probability @xmath287 .",
    "iteration of this argument yields the probability @xmath288 which has to be added to the probability @xmath46 of the initial ` good ' set @xmath280 . @xmath60",
    "the above result can be easily extended to both @xmath203 and @xmath204 .",
    "however , it seems to be peculiar of the particular permutation which defines these trees , in particular it is plainly false for the original stern - brocot tree @xmath289 ( as well as for @xmath45 and @xmath61 ) .",
    "we shall see later a further generalisation .",
    "we shall now be dealing with a class transformations which generate the permuted trees @xmath197 , @xmath203 and @xmath204 , respectively , either one generation after the other or in genealogical way , i.e. producing elements with increasing depth .",
    "it was noticed in @xcite that the sequence @xmath290 of elements of @xmath189 satisfies the iteration [ itera ] x_i+1=,i0 we are thus led to study the map @xmath291 given by @xmath292 and [ map ] r(x):= , xr^+      1 .",
    "@xmath111 is an automorphism of @xmath293 2 .   for any @xmath126 , @xmath294 if and only if @xmath66 3 .",
    "@xmath111 counts the set @xmath295 in the following sense : let @xmath290 be the sequence obtained by reading @xmath189 row by row and each row from left to right ( except the zero - th one ) , then @xmath296 .",
    "_ one easily checks that @xmath111 is one - to - one and onto , with inverse r^-1(x ) = 2n+1 -1 x , x < 1 n , n0 .",
    "this proves 1 .",
    "statement 2 is immediate . moreover , if @xmath297 then @xmath298 so that @xmath299 .",
    "if instead @xmath79 $ ] with @xmath146 then @xmath300 so that @xmath301 since @xmath302 and @xmath303 .",
    "this yields the first part of statement 3 . to see the second part we start observing that if we write @xmath68 in the form @xmath304 with @xmath305 and @xmath306 we have @xmath307 .",
    "now if @xmath308 then @xmath309 and @xmath310 , namely @xmath68 and @xmath311 are left and right descendants of the fraction @xmath312 .",
    "if instead @xmath313 then @xmath68 is the right descendant of @xmath314 whereas @xmath311 is the left descendant of @xmath315 , and @xmath316 .",
    "@xmath60     note that , although the sequence @xmath317 defined in ( [ itera ] ) is dense in @xmath293 , it ` diffuses ' only logarithmically .",
    "indeed we have @xmath318 for @xmath319 and therefore @xmath320 .",
    "in fact , from what is proved below it follows that all orbits @xmath321 , @xmath126 , are dense and have this property .",
    "an automorphism of the unit circle with similar properties has been constructed in @xcite .",
    "we now restrict to the unit interval and consider two automophisms on it .",
    "the first one is the the map @xmath322 defined by ( see lemma [ moppa ] ) [ esse ] s(x):= r ^-1(x ) or else by @xmath323 and [ map ] s(x ) = , x[0,1 ) its inverse is s^-1(x ) = , x < 1 n , n1 the second is the classical _ von neumann - kakutani transformation _",
    "@xmath324 given by @xmath325 and t(x):= x+ 3 2^n+1 -1 , 1 - 1 2^n x < 1 - 1 2^n+1 , n1 it was defined in @xcite and is also called _ van der corput s transformation _ or else _ dyadic rotation_.        _ proof . _",
    "the left half follows immediately from ( [ esse ] ) . to see the right half part",
    "let @xmath153 be given by @xmath328 $ ] .",
    "we have @xmath329 $ ] so that @xmath330 = \\left\\ { \\begin{array}{cl } a_2 & { \\rm if}\\ a_1=1 \\\\[0.5 cm ] 0   & { \\rm if}\\ a_1>1 \\end{array } \\right .",
    "\\quad , \\quad \\left\\ {   \\frac x{1-x}\\right\\}=\\left\\ { \\begin{array}{cl } [ 0;a_3,a_4 , \\dots ] & { \\rm if}\\ a_1=1 \\\\[0.5 cm ] [ 0;a_1 - 1,a_2 , \\dots ]   & { \\rm if}\\ a_1>1 \\end{array } \\right.\\ ] ] and therefore [ esse1 ] s(x)=\\ {          . where for @xmath331 for some @xmath271 we set @xmath332=[a_0;a_1,a_2,\\dots , a_{k-1}+a_{k+1 } , \\dots]\\ ] ] if @xmath333",
    ". on the other hand , the map @xmath334 is also named dyadic rotation because of the following fact ( see , e.g. @xcite , p.120 ) : if we expand @xmath335 $ ] in base two , i.e. we write @xmath336 with @xmath337 , it acts as @xmath338 and for @xmath146 t(0 .",
    "_ n-10 _ n+1_n+2  )=0 .",
    "n-1 1_n+1_n+2  therefore if @xmath339 $ ] then using ( [ ? ? ? ] ) we find t(?(x))=\\ {          [ itera ] the maps @xmath340 and @xmath326 count the sets @xmath47 and @xmath64 , respectively .",
    "more specifically , let for instance @xmath341 be the sequence obtained by reading @xmath206 row by row and each row from left to right ( except the zero - th one ) , then @xmath342 .",
    "a similar statement holds for @xmath343 and @xmath326 .",
    "_ the first statement follows from the above as topological conjugacy preserves unique ergodicity and the system @xmath348 has this property . moreover , the lebesgue neasure @xmath349 is @xmath326-invariant so that by the above and ( [ ? ] ) the maps @xmath111 and @xmath340 preserve the measures @xmath350 and @xmath351 respectively.@xmath60      _ proof . _",
    "the system @xmath348 has this property .",
    "let us briefly recall how this is obtained .",
    "one start setting @xmath354 for @xmath355 and noticing that @xmath326 maps in an affine way @xmath356 onto @xmath357 for @xmath358 .",
    "clearly , these intervals are not ordered lexicographically but in the way induced by @xmath326 .",
    "for example , for @xmath359 we have @xmath360 .",
    "one may then write the so ordered intervals one above the other , thus making a stack which partitions the whole space .",
    "the action of @xmath326 is then that of climbing up one level in the @xmath87-stack but is not defined on the top level . at step @xmath361 , i.e. looking at the action of the iterates of @xmath326 on @xmath362 , the stack is cutted into two equal halves and the right half is stacked on the left half .",
    "this defines the action of @xmath326 on a finer partition of the space .",
    "this procedure eventually leads to the knowledge of @xmath326 on the whole space . finally , to get the same property for @xmath345 it will suffice to follow the above procedure with the family of intervals @xmath363 ( stacked in same order ) . clearly ,",
    "although all the intervals @xmath364 , @xmath365 do have the same length @xmath366 , the corresponding @xmath367 do not .",
    "a similar construction can be done for @xmath368 with the intervals @xmath369 .",
    "the last assertion follows again from the same property for @xmath348 along with topological conjugacy ( see , e.g. , @xcite , p.23 ) .",
    "@xmath60    0.2 cm finally , setting @xmath370 , the fourier - stieltjes coefficients of @xmath158 are c_n:= _ 0^e_n(x ) d(x ) by corollary [ fourier ] they can be computed as c_n",
    "= _ k 12^k_pq_k e_n(p q ) on the other hand , the unique ergodicity of @xmath344 following from corollary [ uniergo ] ensures that they can also be computed as ergodic means in a uniform way .",
    "an interesting question is whether @xmath373 as @xmath374 ( see @xcite ) .",
    "a solution to this question would give some insights into the degree of uniformity of the distribution of the dense sequence @xmath375 , @xmath376 , and in particular of the permuted stern - brocot sequence obtained setting @xmath377 .",
    "we now introduce three non - invertible maps which generate the trees @xmath189 , @xmath206 and @xmath343 genealogically , i.e. via descendants . with the notations of theorem [ conju ] ,",
    "the first one is the map @xmath378 given by [ g ] g(x)=\\ {          . and the third is _ doubling map _",
    "@xmath380 given by d(x)=2x ( mod 1 ) they are expansive orientation preserving piecewise analytic endomorphisms such that the sets @xmath381 , @xmath382 and @xmath383 are composed exactly by two points for each @xmath68 .",
    "more specifically @xmath384 both @xmath385 and @xmath386 fix the boundary points @xmath9 and @xmath159 , but for @xmath385 these are _ indifferent fixed points _",
    ", i.e. @xmath387 . more specifically , @xmath9 is a _ weakly repelling _ fixed point whereas @xmath159 is _",
    "weakly attracting_. on the other hand we can say that @xmath388 has two indifferent fixed points at @xmath9 and @xmath10 .",
    "the permuted tree @xmath189 can be constructed genealogically from its root @xmath49 by writing under each leaf @xmath68 the set of descendants @xmath381 .",
    "the same can be done for @xmath206 and @xmath204 starting from their root @xmath46 with the sets of descendants @xmath382 and @xmath383 , respectively .",
    "furthermore , we have the following commutative diagram @xmath389    0.2cm_proof . _",
    "the first assertion follows from lemma [ desce ] , eq .",
    "( [ inve ] ) and lemma [ genera ] .",
    "the proof of the conjugation between @xmath388 and @xmath385 is immediate .",
    "that for @xmath385 and @xmath386 can be obtained reasoning along the same lines as in the proof of theorem [ conju ] , starting from the observation that @xmath386 acts a the shift on binary expansions whereas the action of @xmath385 is the farey shift @xmath390 \\mapsto   [ 0;a_1 - 1,a_2 , \\dots]$ ] on the interval @xmath391 $ ] and @xmath392 \\mapsto   1-[0;a_2 , \\dots]$ ] on @xmath393 $ ] .",
    "then use lemma [ reci ] .",
    "we leave the details to the interested reader .",
    "conversely , using the maps @xmath388 , @xmath385 and @xmath386 one can retrace the path from a leaf @xmath68 in any of the trees @xmath1 , @xmath45 or @xmath61 back to the root .",
    "for instance , for @xmath112 let @xmath394 be the element which uniquely represents @xmath68 in @xmath395 with @xmath396 , according to proposition [ codaggio ] .",
    "one then sees that the following rule is in force : if @xmath397 then @xmath398 , @xmath399 then @xmath400 , for @xmath401 with @xmath402 so that @xmath403 .      the map @xmath386 preserves the lebesgue measure @xmath349 on @xmath404 , whereas the map @xmath385 preserves the a.c .",
    "infinite measure @xmath405 on @xmath404 , as one easily checks .",
    "this entails that @xmath388 preserves the ( infinite ) measure @xmath406 on @xmath407 .",
    "note that the entropy of @xmath408 is zero ( as well as that of @xmath409 ) . on the other hand , from the above theorem it follows that also the measure @xmath351 is invariant under @xmath385 ( as well as @xmath350 for @xmath388 ) and",
    "the entropy of @xmath410 is @xmath411 .",
    "therefore @xmath351 is the _ measure of maximal entropy _ for @xmath412 ( as well as @xmath350 for @xmath368 ) .    to the map @xmath388 we associate a _ generalised transfer operator _",
    "@xmath413 acting on @xmath414 as [ trang ] ( l_qf)(x)=_yg^-1(x ) or else ( l_qf)(x)=1 ( 1+x)^2q f(x 1+x ) + f(x+1 ) where @xmath415 is a real or complex parameter .",
    "we point out that a continuous fixed function for @xmath413 satisfies the functional equation f(x ) = f(x+1)+ 1 ( 1+x)^2q f(x 1+x ) which is called _ lewis - zagier three - term functional equation _ and is related to the spectral theory of the hyperbolic laplacian on the modular surface ( see @xcite and references therein ) .    in the same way ,",
    "the operators associated to @xmath386 and @xmath385 act on @xmath416 as [ dyatra ] f(x ) 1 2^q f(x 2 ) + 1 2^q f(x 2 + 1 2 ) and [ fartra ] f(x ) 1 ( 1+x)^2q f(x 1+x ) + 1 ( 2-x)^2q f(1 2-x ) respectively . for the spectral theory of an operator closely related to ( [ fartra ] )",
    "see @xcite and @xcite .",
    "let moreover @xmath419 , @xmath420 , be a pair of positive borel functions such that @xmath421 , @xmath422 .",
    "we now want to study the markov chain with state space @xmath407 where at each step , starting from a state @xmath371 , two transitions are possible towards the states @xmath423 and @xmath424 , with probabilities @xmath425 and @xmath426 respectively .",
    "note that for @xmath427 and @xmath428 , @xmath429 , this markov chain reduces to the random walk on @xmath197 discussed in theorem [ rw ] .",
    "we now briefly adapt to our context some basic facts about canonical markov chains associated to markov transfer operators ( see @xcite ; also @xcite for an application to the dyadic transfer operator ( [ dyatra ] ) ) .",
    "let @xmath430 be the markov operator acting as ( p f)(x)=p(0,x ) f(_0(x ) ) + p(1,x ) f(_1(x ) ) a measurable function @xmath431 satisfying @xmath432 is called @xmath433-_harmonic_. in the sequel we shall make the further assumption that the transition probabilities satisfy : [ sym1 ] p(s , 1/x ) = p(1-s , x ) , s\\{0,1 } , xj the symmetries ( [ sym0 ] ) and ( [ sym1 ] ) yield at once the following      a positive measure @xmath436 is called @xmath433-_invariant _ if @xmath437 , i.e. @xmath438 for all measurable @xmath414 . in turn , one readily realizes that this condition is equivalent to = p(s , ) , s\\{0,1 }      given @xmath376 let @xmath443 be the closure of the set of all possible paths starting at @xmath68 , i.e. u(x)= this is clearly a compact invariant set , in the sense that if @xmath444 then @xmath445 , @xmath446 .",
    "more generally , a compact subset @xmath447 of @xmath407 is called _ invariant _ if for all @xmath448 and all @xmath446 such that @xmath449 we have @xmath450 .    a first basic fact ( see @xcite , sec .",
    "3.4 ; or else @xcite , chap .",
    "2.4 ) is that for each @xmath371 there is a unique probability measure @xmath451 on @xmath440 such that _ x(c(i_1 ,  , i_n))=_k=1^n p(i_k,_i_k-1_i_1(x ) ) 0.2cmthe symmetries ( [ sym0 ] ) and ( [ sym1 ] ) entail the following      0.2cmfor @xmath452 let @xmath453 be the @xmath270-th coordinate function on @xmath440 and @xmath454 the subalgebra of @xmath455 generated by the first @xmath87 coordinates @xmath456 .",
    "the @xmath454 form a filtration in that @xmath457 .",
    "note that if @xmath458 then @xmath459 = \\sum_{(\\omega_1 , \\cdots ,   \\omega_n)\\in \\{0,1\\}^{n } } \\prod_{k=1}^n   p({\\omega_k},\\phi_{\\omega_{k-1}}\\circ \\cdots \\circ \\phi_{\\omega_{1}}(x))\\ ,   x(\\omega_1 , \\cdots , \\omega_n)\\ ] ] in particular , if there is @xmath431 s.t .",
    "@xmath460 then [ ide ] ie_x [ x ] = ( p^n h)(x )    0.2cmnow , having fixed @xmath376 , define [ mc ] w_0(x,):=x w_n(x,):= _ x_n()_x_1()(x),n1 the process @xmath461 defined on @xmath462 is a markov chain on @xmath407 with initial state @xmath68 and for any measurable function @xmath414 we have _",
    "n ( p^nf)(x)=_n ie_x [ f(w_n(x , ) ]    0.2cmmoreover , if @xmath431 is a measurable bounded @xmath433-harmonic function then we have @xmath463   & = & \\sum_{\\omega_{n+1 } \\in \\{0,1\\ } } p(\\omega_{n+1},x )   h(\\phi_{\\omega_{n+1}}\\circ \\cdots \\circ \\phi_{\\omega_{1}}(x ) ) \\nonumber \\\\ & = & ( ph)(\\phi_{\\omega_{n}}\\circ \\cdots \\circ \\phi_{\\omega_{1}}(x ) ) \\nonumber \\\\ & = & h(\\phi_{\\omega_{n}}\\circ \\cdots \\circ \\phi_{\\omega_{1}}(x ) ) \\nonumber \\\\ & = &   h(w_{n}(x,\\,\\cdot \\ , ) ) \\nonumber\\end{aligned}\\ ] ] in other words the sequence of random variables @xmath464 on @xmath462 is a bounded martingale ( relative to the filtration @xmath465 ) and therefore it converges pointwise @xmath466-a.e .",
    "the limit random variable @xmath467 satisfies [ cocycle ] h(x,)=h(__1(x ) , ) where @xmath468 is the left shift acting as @xmath469 .",
    "a bounded measurable function @xmath470 satisfying ( [ cocycle ] ) is said to be a _",
    "conversely , by ( [ ide ] ) @xmath471 may be recovered from the cocycle @xmath472 as [ boundary ] h(x ) = ie_x [ h(x , ) ]    note that @xmath430 has norm one .",
    "therefore if @xmath473 is an eigenfuction of @xmath433 corresponding to a real and positive eigenvalue then the sequence @xmath464 on @xmath462 is a supermartingale , which again converges @xmath466-a.e . to a limit cocycle @xmath472 .          setting @xmath476 in ( [ trang ] ) we have @xmath478 .",
    "one can then consider the markov ( i.e. normalised ) operator @xmath479 acting as @xmath480 .",
    "more esplicitly , [ p^(0 ) ] ( p^(0 ) f)(x)=1 2 f(x 1+x ) + 1 2 f(x+1 ) note that if @xmath471 is @xmath479-harmonic then , iterating ( [ p^(0 ) ] ) we get @xmath481 we therefore have the          _ proof .",
    "_ from the fact that the function @xmath158 is the distribution function of the ( permuted ) stern - brocot fractions ( cf .",
    "theorem [ distri ] ) and lemma [ desce ] one readily obtains that @xmath158 satisfies the functional equation 2(x ) = \\ {      .",
    "the claim now follows straightforwardly .",
    "@xmath60 0.2cmsetting @xmath484 we have that there are no compact invariant sets and according to ( @xcite , sec .",
    "iv ) ) @xmath485 is the only bounded continuous @xmath479-harmonic function .",
    "moreover , the unique probability measure @xmath486 on @xmath440 such that _ x^(0)(c(i_1 ,  , i_n))=2 ^ -n is atomless for each @xmath376 .",
    "the markov chain @xmath474 is then defined as in ( [ mc ] ) on the probability space @xmath487 . we summarize the above in the following          setting @xmath477 in ( [ trang ] ) we have @xmath490 where @xmath491 is the @xmath388-invariant density .",
    "we then consider the markov operator @xmath492 acting as @xmath493 , or [ fixpt ] ( p^(1 ) f)(x)=1 x+1 f(x 1+x ) + x 1+x f(x+1 ) if @xmath471 is @xmath492-harmonic then @xmath494        set moreover [ probba1 ] p(0,)=p(1,0)=0 , p(0,0)=p(1,)=1 and [ probba11 ] p(0,x)=1 x+1,p(1,x)=x x+1 , x(0 , ) they plainly satisfy the symmetry ( [ sym1 ] ) .",
    "moreover , from ( [ probba1 ] ) it follows that the singletons @xmath498 and @xmath499 are two _ disjoint compact invariant sets _ and from ( [ probba11 ] ) one sees that they are the only invariant sets of this type .",
    "0.2cmthe markov chain @xmath475 is now defined as in ( [ mc ] ) on the probability space @xmath500 , where @xmath501 is the transition measure on @xmath440 arising from the probabilities ( [ probba1 ] ) and ( [ probba11 ] ) .",
    "it satisfies the following      _ proof . _ from ( [ inve ] ) and ( [ probba11 ] ) it follows that the path of length @xmath87 starting at @xmath508 and having largest probability is that corresponding to the word @xmath509 .",
    "if instead @xmath510 it corresponds to @xmath511 . on the other hand we have @xmath512 as @xmath374 , proving the first assertion .",
    "the last is straigthforward .",
    "@xmath60 0.2cmnow , a path starting somewhere in @xmath407 and converging to @xmath9 corresponds to a sequence of the form @xmath513 for some @xmath146 .",
    "the symmetric sequence @xmath514 yields a corresponding path which converges to @xmath10 . by lemma [ symme ] ,",
    "if we let the first path start at @xmath68 and the second one at @xmath102 , all finite equal portions of them have the same probability .",
    "we can thus concentrate on the paths starting at @xmath68 and converging to @xmath9 . in turn",
    ", these can be put in a one - to - one correspondence with @xmath64 via the mapping @xmath515 another copy of @xmath64 is obtained via the mapping @xmath516 with the identification @xmath517 we set ^(1)_x(q_2 ) = _",
    "aq_2 ip^(1)_x ( ( a ) ) so that lemma [ atomic ] can be rephrased in the form [ cudue ] ip^(1)_x(q_2 ) + ip^(1)_x(1-q_2 ) = _",
    "x^        the space of bounded harmonic functions has dimension two .",
    "a basis for it is given by the functions @xmath518 where @xmath519=   { { \\rm { i\\!\\!\\!p}}}^{(1)}_{1/x } \\left [ \\lim_{n\\to \\infty } w_n\\left ( 1/x , \\,\\cdot \\,\\right ) = \\infty\\right]\\ ] ]    having fixed @xmath520 let @xmath521 be the tail event @xmath522 according to ( [ boundary ] ) , the cocycle @xmath523 associated to @xmath524 is @xmath525 note that , eq . ( [ cudue ] ) can be further rephrased as ^(1)_x + ip^(1)_x = _"
  ],
  "abstract_text": [
    "<S> this paper is devoted to a systematic study of a class of binary trees encoding the structure of rational numbers both from arithmetic and dynamical point of view . </S>",
    "<S> the paper is divided into two parts . </S>",
    "<S> the first one is a critical review of rather standard topics such as stern - brocot and farey trees and their connections with continued fraction expansion and the question mark function . in the second part </S>",
    "<S> we introduce a class of one - dimensional maps which can be used to generate the binary trees in different ways and study their ergodic properties . </S>",
    "<S> this also leads us to study some random processes ( markov chains and martingales ) arising in a natural way in this context .    </S>",
    "<S> 0.2cm0.2cmkeywords : stern - brocot tree , continued fractions , question mark function , rank - one transformations , transfer operators , martingales    0.2cm0.2cmmathematics subject classification ( 2000 ) : 11a55 , 11b57 , 37e05 , 37e25 , 37a30 , 37a45 </S>"
  ]
}