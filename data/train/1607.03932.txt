{
  "article_text": [
    "lattices or extended periodical systems constitute a central framework for several areas of research . for example , in solid - state physics periodical lattices are a fundamental starting point  @xcite , where many general predictions have been made without a direct experimental observation .",
    "the last decades , photonic lattices have emerged as key experimental setups where to study most of the predicted electronic properties , due to a direct observation of the optical wave - function using a simple ccd camera  @xcite . in this context , anderson localization  @xcite was directly observed , for the first time , in two - dimensional ( 2d ) waveguide arrays  @xcite and , then , also in one - dimensional ( 1d ) lattices  @xcite . in this case , the energy is trapped due to consecutive destructive interference from randomly distributed scatters ( sites or waveguides ) . before this very fundamental observation ,",
    "localization resulting as a balance between discreteness ( diffraction ) and nonlinearity ( self - focusing ) was observed in 1d  @xcite and 2d  @xcite lattices .",
    "nonlinear localized modes of this nature are known as discrete solitons or intrinsic localized modes  @xcite , and the conditions for existence and stability , in diverse contexts , are nowadays well understood  @xcite .",
    "the nonlinearity and larger intensities create effective defects regions , where the trapping potential changes locally . in this way",
    ", waves naturally get trapped at deeper potential wells . in the nonlinear case , this occurs in a perfectly periodic lattice ; however , this type of phenomena can also be observed in a linear regime by directly inserting a linear defect into a homogeneous system  @xcite .",
    "exponentially decaying localized modes are obtained in both linear and nonlinear cases , depending on the effective strength of the induced defect .",
    "therefore , these modes are not compact and high localization demands a very strong effective disturbance .    another interesting way to induce localization on a lattice originates from the understanding of the linear properties of a given unconventional array . in standard / conventional systems ( e.g. , square , hexagonal or honeycomb lattices ) the linear spectrum is always dispersive ( excepting some @xmath0-space points where the derivative becomes locally zero ) . as a result ,",
    "when exciting the lattice , for example using a single - site excitation , a set of linear extended modes will be excited and waves will propagate incoherently across the lattice , depending on their specific velocities .",
    "therefore , stationary localized patterns will be not observed for perfectly periodic linear standard lattices and the energy will diffuse only  @xcite .",
    "however , by carefully selecting the geometry of the lattice , a different kind of linear spectrum can be obtained . a flat band ( fb ) unconventional lattice possesses a unique linear spectrum .",
    "in these quasi-1d or 2d systems , a complete band ( not only a section of it ) is completely flat , implying zero dispersion and not diffraction at all for the states belonging to this band .",
    "diamond  @xcite , stub  @xcite , sawtooth  @xcite , kagome  @xcite or lieb  @xcite lattices are some examples of recent explored fb systems , in diverse physical contexts .",
    "these examples show the diversity of fabrication techniques and impressive possibilities for creating , in principle , any wished lattice . in all these geometries ,",
    "a fb is composed by a large set of degenerated localized linear modes , all of them propagating coherently along the lattice .",
    "moreover , these states occupy only few lattice sites being exactly compact ( zero tail ) , in a perfectly periodic linear lattice .",
    "this implies that the localization is always perfect and it does not depend on any external parameter .",
    "the special geometry of fb systems generates consecutive phase cancellations that , effectively , reduces the excited region to a mini - array of a given lattice . the linear combination of these localized states is thought to be important for applications in all - optical imaging transmission  @xcite , as a secure and compact mechanism of transporting information at a very low level of power .",
    "there are several attempts to find a simple method to construct fb lattices  @xcite .",
    "however , we have not found a direct , simple and general method to create any wished fb system with given specific features ( e.g. , having several zero dispersion bands ) .",
    "for example , ref .",
    "@xcite starts from a given 2d or 3d lattice , and constructs partial line graphs without much connection with the physics of the sub - lattices , which is of major relevance in our method . in ref .",
    "@xcite authors describe a collection of fb lattices to study bosons and fermions dynamics .",
    "they briefly mention that an important condition is that the wave - function may be zero at some connecting sites , in order to make impossible the transport across the lattice .",
    "it is important to notice that this is an important requirement but it is not complete .",
    "it is possible to excite any lattice with a profile having zero amplitudes at some connecting sites ; however , the energy could nevertheless diffuse and the fb will be not exclusively excited . to observe localization , as a result of the excitation of any fb , a mandatory condition is to excite the lattice by one of the modes of a given mini - array ( or a linear combination of them ) , that has zero amplitudes at the connecting sites .",
    "the additive destructive interference will make possible the cancellation of the amplitude at the connecting sites and the transport will be just forbidden .    in this work",
    ", we identify the key ingredients to construct arbitrary lattices possessing one or more flat bands , focusing on the consecutive addition of mini - arrays to form an extended lattice .",
    "our method is based on the knowledge of the fundamental linear modes belonging to a given mini - array , in order to assure the cancellation of phases at connector sites .",
    "the existence of a linear mode satisfying this condition constitutes a proof to guarantee the existence of a flat band , which is composed of compact localized states .",
    "different systems in quasi - one and two dimensions are generated with one or more flat bands ( it is straightforward to extend our method to 3d as well ) .",
    "additionally , we also show that it is possible to use our method to construct aperiodical systems having a set of compact modes forming a full fb .",
    "extra considerations as , for example , anisotropy , next - nearest neighbors interactions or local nonlinearity are also discussed . at the end , we study a ribbon lattice using a continuous model where we test our discrete predictions in a more realistic configuration .",
    "focusing on written and induced waveguide lattices  @xcite , we model the propagation of light in weakly coupled systems using a discrete linear schrdinger ( dls ) equation . in this model",
    ", a given waveguide mode weakly interacts with its close neighbors due to an evanescent interaction .",
    "the amplitude of the mode at the @xmath1-th waveguide position is given by @xmath2 , and its dynamical evolution is simply modelled as @xmath3 where @xmath4 is the propagation coordinate ( in other contexts , it corresponds to time  @xcite ) .",
    "@xmath5 corresponds to the propagation constant at the @xmath1-th site ( if the lattice is homogenous , we simply set @xmath6 , without loss of generality ) .",
    "@xmath7 describes the coupling interaction between the @xmath1-th and @xmath8-th sites . when constructing the lattice , these coefficients define all the linear interactions between close sites , according to a given lattice geometry .",
    "in fact , as we will discuss below , some fbs also survive when including next nearest - neighbors interactions ; of course , taking into account the exponentially decaying tendency of coupling constants with respect to separation distance  @xcite . for some fb lattices",
    "the anisotropy or next - nearest neighbors interactions destroy the flatness of the band .",
    "however , we will show that our method allows the construction of more robust systems , what is important to observe the fb phenomenology in real experiments  @xcite .    in general , the linear properties of any periodical system",
    "are contained in the definition of @xmath7 coefficients .",
    "we solve the stationary problem by using a plane wave ( bloch ) ansatz @xmath9 by inserting this into model ( [ dls ] ) , we obtain the following set of coupled stationary equations @xmath10 the number of sites per unitary cell defines the number of different amplitude @xmath11 to be considered .",
    "for example , in a system with three sites per unit cell ( e.g. , stub , lieb or kagome lattices ) , we will require three different amplitudes to characterize the linear properties of the system having three linear bands . by solving the eigenvalue problem ( [ sta ] )",
    ", we obtain the linear spectrum of a given lattice according to the interactions included in @xmath7 . along this work",
    ", we will consider a constant spatial period of @xmath12 , in order to simplify the expressions .",
    "let us start with the simplest possible mini - array : a dimer [ see fig .",
    "[ fig1](a)-left ] .",
    "this basic system describes two close waveguides interacting via a coupling coefficient @xmath13 .",
    "a dimer possesses two linear stationary modes : @xmath14 and @xmath15 [ symbolic notation @xmath16 and @xmath17 , respectively ] , as shown in fig .",
    "[ fig1](a)-right ( for simplicity , we do not include any mode normalization along the text ) .",
    "the frequency of these modes is @xmath18 and @xmath19 , respectively .",
    "now , we increase the system size by adding a `` connector '' site in between two vertically oriented dimers [ see fig .",
    "[ fig1](b ) ] .",
    "we include an additional coupling @xmath20 ( full line ) , which is determined by the specific geometry ( angle and distance  @xcite ) .",
    "immediately , we realize that the original dimer solution @xmath17 , located in any of the two dimers , also corresponds to a solution ( mode ) of this new composed system . for this mode ,",
    "( [ sta ] ) read @xmath21    . ]",
    "the phase difference between the non - zero amplitude sites allows the cancellation of the amplitude at the added connector site .",
    "the frequency of this mode , in the new composed system , remains equal to the one of the original dimer problem ( @xmath19 ) . by adding more connector sites and dimers ( mini - arrays ) , we are able to construct a full extended lattice , as the one shown in fig .  [ fig1](c )",
    "this lattice is known as rhombic or diamond lattice and has been recently studied experimentally in ref .  @xcite . as",
    "the @xmath17 mode is still a mode in the extended system , there will be as many of these modes as the number of mini - arrays ( dimers ) in the lattice , all of them having the same frequency @xmath19 . therefore , all these modes will form a completely degenerated flat band .",
    "we solve the linear problem ( [ sta ] ) for the full rhombic lattice , considering the unitary cell formed by three sites [ enclosed area in fig .",
    "[ fig1](c ) ] , and find the bands @xmath22 we realize that the mini - array mode is also an exact solution of the extended system forming a full flat band at @xmath19 , independent on the @xmath20 value .",
    "[ fig1](d ) shows the linear spectrum for this diamond lattice .",
    "the discreteness of the system and the symmetry at the connector site equation , when considering a linear mode of the mini - array , are the keys of success to create any lattice possessing , at least , one flat band . for the previous example , and assuming a @xmath17 mode ( or combinations of it ) as an initial condition at @xmath23 , the connector equation becomes @xmath24 because @xmath25 . considering this example and extending it to other configurations , we could claim that we can construct any fb lattice by connecting any given mini - array ( dimer , trimer , rhombus , etc . ) via different connector sites in different directions , assuring that the dynamical equation for this site may be strictly equal to zero .",
    "this is achieved by using a specific mini - array mode as an initial condition , what effectively allows the cancellation of phases at the connector site . in this way",
    ", we can construct a full lattice with a zero dispersion band , where this particular mini - array mode will be a degenerated solution of the extended system .",
    "one way to assure this is , for example , by choosing the connector sites coinciding with a node of a given mode of the mini - array .",
    "therefore , this mode will naturally become a mode of the flat band because it will preserve the symmetry at the dynamical connector site equation .",
    "of course , this method is not unique , but when it is successfully applied it assures the existence of a fb .",
    "another interesting example is based on a mini - array consisting of only three sites connected in a row , as sketched in fig .",
    "[ fig2]-left .",
    "this simple system possesses three linear stationary modes : @xmath26 as shown in fig .",
    "[ fig2]-right , with frequencies : @xmath27 , respectively .",
    "we will show that we can use two of these modes to construct two different fb lattices .",
    "we start our lattice composition by selecting one of the three linear modes of the mini - array . the first mode does not present any phase oscillation .",
    "therefore , it will not induce cancellation of transport on a given connector site , neither it will be associated to any flat band ( however , this could change by assuming very rear negative coupling constants  @xcite ) .",
    "the second @xmath28 mode is similar to the mode used for the dimer to create the rhombic lattice , but it has an extra zero amplitude site at the center [ see fig .",
    "[ fgcross](a ) ] .",
    "so , it becomes natural to use this null site to connect two mini - arrays .",
    "however , if we connect a second mini - array , for example , to the right , we would end up with a system that will not preserve the symmetry of the mini - array mode , and our method will simply not work ( there is a way to do it in a higher dimension , by rotating the mini - arrays in @xmath29 consecutively , obtaining a 3d fb spine - like ribbon ) .",
    "therefore , we add an extra connector site in between two mini - arrays as shown in fig .",
    "[ fgcross](b ) , using a horizontal coupling @xmath30 . as we expect",
    ", the trimer @xmath28 mode is also a solution of this new system [ see fig .",
    "[ fgcross](c1 ) ] , and it can be located in any of the two mini - arrays , or simultaneously in both .",
    "however , we realize that there is no only one fb candidate solution for this new composed system .",
    "interestingly , the inclusion of a connector site and the conservation of the zero amplitude site at the center of the original trimer , allow the generation of new linear localized states . in fig .",
    "[ fgcross](c2 ) we show a different mode , which still has a zero amplitude at the center of the three - sites mini - array .",
    "this mode is exactly equal to the stub fb mode  @xcite , although our composed system has additional sites below the central row . due to symmetry , this mode can also be located in the lower row as shown in fig .",
    "[ fgcross](c3 ) . as a consequence",
    ", another fb mode could be the one having equal amplitudes in the top and bottom rows while having a double negative amplitude at the central connector site [ see fig .  [ fgcross](c4 ) ] .",
    "this new mode preserves the zero amplitude at the mini - array center , which indeed would be the connection of the composed system to their surrounding .    .",
    "]    in this particular case , the inclusion of an out of axis connector site adds more complexity to the original trimer mini - array . therefore , in order to describe all the possible fb mode candidates , a new mini - array definition is required ; i.e. , a four sites mini - array as the region enclosed in fig .",
    "[ fgcross](d ) . additionally to preserving the original trimer mode ,",
    "now written with four components as @xmath31 , an extra mode appears with the same frequency @xmath32 .",
    "this mode has a profile @xmath33 or @xmath34 , where always the center site of the original three - sites mini - array remains zero .",
    "in fact , this new mode does not change our criterion for constructing fb systems .",
    "it tells us that the original three - sites mini - array was not enough to describe the new quasi-1d composed system , so we may consider a larger mini - array structure ( although it allowed the generation of a 3d fb spine - like ribbon lattice as commented above ) .",
    "now , by connecting several three - sites mini - arrays using several connector sites , we are able to construct a full cross lattice , as shown in fig .",
    "[ fgcross](d ) .",
    "we define the unitary cell of this lattice [ enclosed area in fig .",
    "[ fgcross](d ) ] , and solve the eigenvalue problem ( [ sta ] ) , finding that @xmath35 we plot these four bands in fig .",
    "[ fgcross](e ) .",
    "we find two dispersive and two degenerated flat ( @xmath32 ) bands .",
    "these zero dispersion bands are composed of the localized states shown in fig .",
    "[ fgcross](c ) , exactly the same obtained for the mini - array and for the composed small system [ fig .",
    "[ fgcross](b ) ] .",
    "we continue using the modes of the trimer mini - array , but this time we focus on the third one : @xmath36 [ see fig .  [ fgsaw](a ) ] .",
    "we add a connector site and couple a second three - sites mini - array , as shown in fig .",
    "[ fgsaw](b ) . as the coupling coefficient depends on the geometry , we allow the new system to have diagonal ( @xmath37 ) and horizontal ( @xmath30 ) , in principle different , coupling coefficients . by injecting the @xmath36 mode in the first mini - array ,",
    "we realize that an extra condition may be satisfied .",
    "if we write the stationary equations ( [ sta ] ) for the connector site amplitude , we get @xmath38 therefore , in order to have a zero amplitude at the connector site , a ratio @xmath39 is required . for this particular condition ,",
    "the third mode of the three - sites mini - array becomes a mode of the composed system as well .",
    "in fact , it can be located in three different positions in this new composed system , because the connector site forms also a similar mini - array with a different inclination .",
    "( thin ) , @xmath40 ( thick ) , and @xmath41 ( dashed ) . ]    by continue adding mini - arrays via connector sites , we are able to construct a full sawtooth lattice as the one sketched in fig .  [ fgsaw](c ) , where the unitary cell of four sites is denoted by an enclosed area .",
    "however , due to the sawtooth symmetry the four sites can be reduced to just two sites  @xcite .",
    "we solve the eigenvalue problem ( [ sta ] ) with this geometry and find two linear bands : @xmath42\\ , \\ ] ] where @xmath43 .",
    "if @xmath44 , the two bands reduce to @xmath45 ; i.e. , a flat band emerges for this particular ratio between coupling coefficients .",
    "in fact , this is exactly the same condition for the third mode to be a mode of the composed system .",
    "therefore , the @xmath36 mode is also a mode of a full sawtooth lattice , when satisfying the condition : @xmath44 . in fig .",
    "[ fgsaw](d ) we show the linear spectrum for three different values of @xmath46 , where we observe that the lower band becomes completely flat at this particular condition .",
    "now , we review our method for two - dimensional lieb fb lattices , which have received great attention recently  @xcite . we start by identifying the mini - array necessary to construct a standard lieb lattice . in fig .",
    "[ fglieb1](a ) we show a mini - array example consisting of eight sites forming a ring , including an anisotropy ( @xmath47 ) degree of freedom .",
    "this system possesses eight linear modes , but we will consider only two for our study : @xmath48 [ fig .",
    "[ fglieb1](b1 ) ] and @xmath49 [ fig .",
    "[ fglieb1](b2 ) ] .",
    "these two modes are degenerated with a frequency @xmath32 , due to a perfect cancellation of phases .",
    "we will construct a lieb 2d lattice by using the mini - array and first mode shown in figs .",
    "[ fglieb1](a ) and [ fglieb1](b1 ) , respectively . in this case , a zero site of the mini - array is used as a connector site ( there is no need to add an extra site , although when doing it a different fb lattice could be created as we will show below ) .",
    "[ fglieb2](a ) shows a composed system formed using the connection of two mini - arrays sharing a same connector site at one corner .",
    "as expected , the @xmath48 mode is also a solution of this composed system in any of the two mini - arrays , due to the perfect phase cancellation at the corner sites . by repeating this procedure in different directions , and using different corner sites ,",
    "we are able to construct a full 2d lieb lattice as shown in fig .",
    "[ fglieb2](b ) .",
    "the original mini - array mode can be located in different mini - arrays of the full lattice , all of them degenerated with @xmath32 .    . ]    solving eqs .",
    "( [ sta ] ) for this lattice geometry , which consider three sites per unit cell [ see enclosed region in fig .",
    "[ fglieb2](b ) ] , we find the corresponding linear spectrum @xmath50 as it is expected from our method , the degenerated mini - array modes form a complete zero - dispersion band at @xmath51 [ see fig .  [ fglieb2](c ) ] .",
    "additionally , two dispersive bands are found for this system as well  @xcite .",
    "we construct a `` lieb 2 '' lattice by using the mini - array and second mode shown in figs .  [ fglieb1](a ) and [ fglieb1](b2 ) , respectively .",
    "for this problem , we have zero amplitude sites at the sides of the mini - array .",
    "so , we add a new connector site to connect this mini - array to another one , as shown in the example presented in fig .",
    "[ fglieb3](a ) . if we inject the original stationary @xmath49 mode [ fig .",
    "[ fglieb1](b2 ) ] in one or both mini - arrays , it will also be a solution o the composed system , because the connector site remains zero .",
    "naturally , we can add several connector sites in the four sides of the original mini - array and connect more mini - arrays in different directions .",
    "in this way , we are able to compose a full new system that we named `` lieb 2 '' lattice , with a geometry shown in fig .",
    "[ fglieb3](b ) .    .",
    "]    this composed system possesses ten sites per unit cell [ see enclosed region in fig .",
    "[ fglieb3](b ) ] and , therefore , a linear spectrum having ten linear bands .",
    "the analytical form of these bands is not trivial , so we only present their plot in fig .  [",
    "fglieb3](c ) . by inspecting the spectrum ,",
    "we find two flat bands , both located at @xmath52 .",
    "the first one is composed of @xmath49 mini - array modes , that continue being solutions of the extended system [ see shaded area at the left - down corner of fig .  [ fglieb3](b ) ] . additionally , a new localized fb state appears in the region in between four mini - arrays .",
    "it has eight sites different to zero in a staggered sign sequence , what is necessary to cancel the transport to the rest of the lattice [ see right - down shaded region in fig .  [ fglieb3](b ) ] .",
    "for an isotropic configuration ( @xmath53 ) , all amplitudes have equal magnitude .",
    "however , for anisotropic lattices ( @xmath47 ) the relation of amplitudes becomes a bit more complicated . if we define the horizontal connector site amplitude as @xmath54 , the vertical connector site amplitude as @xmath55 , and the corner site amplitude as @xmath56 , then @xmath57 and @xmath58 .",
    "similar to the cross lattice case ( fig .",
    "[ fgcross ] ) , the appearance of this new localized state does not change our method , it only implies that the initial mini - array was not enough to describe the full new composed system .",
    "the number of fbs of a given lattice depends on the number of stationary modes that satisfy the symmetry condition at the connector sites of a given mini - array .",
    "therefore , by analizing the specific geometry , we can construct different lattices having more than only one fb .",
    "for example , the cross and the lieb 2 lattices present two fbs at frequency @xmath32 . as we discussed before ,",
    "the modes belonging to these two bands are spatially different , but both preserve the condition of having a zero amplitude at the connector sites , as the original mini - array mode does . therefore ,",
    "depending on the geometry and complexity of a given mini - array , it is possible to find additional compact linear modes which are also solutions of the small system , and that preserve the condition of cancelling the transport at the same connector site .    .",
    "]    now , we show explicitly how to construct a system possessing more than one flat band .",
    "we focus on a simple system , the so - called `` b2-ribbon '' . in fig .",
    "[ fgrib1](a)-left we show a four - sites mini - array , that possesses four linear modes , with three of them being useful for fb lattice composition . if we think on an horizontally oriented ribbon lattice , the two good modes ( useful for phase cancellation ) are the ones shown in fig .",
    "[ fgrib1](a)-right .",
    "these modes are denoted as @xmath59 and @xmath60 , with frequencies @xmath61 and @xmath62 , respectively .",
    "we immediately observe that when connecting two mini - arrays via a connector site [ as shown in fig .",
    "[ fgrib1](b ) ] , the dynamical equation for this site will be just zero , when initializing the system with one of these stationary modes ( the connector site is symmetrically coupled to the mini - arrays with a coefficient @xmath63 ) . by increasing the system size with more connectors and more mini - arrays , we are able to construct a full b2-ribbon lattice [ see fig .",
    "[ fgrib1](c ) ] .",
    "we compute the linear spectrum of this extended system , by identifying the unitary cell of this lattice [ enclosed region in fig .",
    "[ fgrib1](c ) ] .",
    "this cell contains five sites , therefore five linear bands are generated as fig .",
    "[ fgrib1](d ) shows .",
    "the analytical expressions for the three dispersive bands are not compact and we will not write them explicitly .",
    "the two zero dispersion bands are simply located at frequencies @xmath61 and @xmath62 , exactly at the same frequencies than the original mini - array modes .",
    "therefore , as expected , these two modes are also localized solutions for the extended system and generate two full flat bands .",
    "this example is one of the many possible configurations useful to create lattices presenting more than one fb .",
    "of course , this method could also be extended to full 2d lattices and not only to quasi-1d ribbons .",
    "in fact , the lattice lieb 2 ( see fig .  [ fglieb3 ] ) is an example of this . in general",
    ", the dimension is not important , the key point is to preserve the discreteness of the system that allows the cancellation of phases for the modes of the mini - array and , therefore , the cancellation of transport across the lattice .",
    "it is possible to construct aperiodical lattices by connecting different mini - arrays via connector sites .",
    "the particular mode of every mini - array will also be a mode of the full lattice and could form a dense band , of course depending on its particular frequency .",
    "this point is very interesting because aperiodical systems will present no dispersive bands at all , but could present full fbs composed of different states .",
    "therefore , the disorder could promote localization in the form of destructive interference of plane waves ( anderson localization  @xcite ) or due to a local geometric phase cancellation ( fb localization  @xcite ) .",
    "as our criterion does not depend on the periodicity , but on the discreteness of the system ( mini - array geometry ) , we can compose an aperiodical system as a sequence of different mini - arrays connected by several connector sites . this system will not be periodic , but still will preserve all the properties of the different coupled mini - arrays . in fig .",
    "[ diso](a ) we show an example of a small composed system , which includes eight different mini - arrays .",
    "we obtain its linear spectrum by numerically diagonalizing the corresponding coupling matrix @xmath7 , and plot @xmath64 versus eigenvalue number in fig .",
    "[ diso](b ) .",
    "as this system is not periodic , its spectrum does not form a soft curve  @xcite .",
    "additionally , we realize that all the mini - array modes [ fourteen in this case , see boxes in fig .",
    "[ diso](b ) ] , that satisfy the condition for having a zero amplitude at a given connector site , are also a solution of this extended system .",
    "this array is clearly aperiodic , but can be extended to form a periodical lattice by repeating the same pattern several times . by doing this , we would generate a new periodical system , but having a more complex unitary cell [ fig.[diso](a ) ] . therefore , the original mini - array states will also be a solution of the extended system and will form fourteen different degenerated flat bands .",
    "not all the lattices preserve their zero dispersion band when including next - nearest neighbor interactions .",
    "for example , a lieb lattice adds curvature to the original flat band when including diagonal coupling  @xcite , and the fb localized modes are simply lost .",
    "however , this is not an intrinsic problem of fb systems , the point is that the lattice geometry is just not the right one . in order to construct a lattice with a fb , which is robust against next - nearest neighbor interactions ,",
    "there is no need to add any new ingredient to our method .",
    "we just may chose the right geometrical configuration for connector sites to assure that when considering , for example , a diagonal coupling , the dynamical equation for the connector site continues being zero , when injecting a fb mode as an initial condition . for example",
    ", this occurs for the previous lieb 2 lattice [ fig .",
    "[ fglieb3](b ) ] . as we explained before",
    ", this lattice possesses two fb at @xmath32 .",
    "when including diagonal coupling coefficients , both fb survives but one of them shifts to a frequency @xmath65 , where @xmath63 corresponds to the next - nearest coefficient ( we can see that when @xmath66 , the band converges to its previous location ) .",
    "another example is the b2-ribbon lattice ( fig .",
    "[ fgrib1 ] ) . when including a diagonal interaction between vertices of the mini - array , the @xmath59 and @xmath60 modes shift their frequencies to @xmath67 and @xmath68 , respectively .",
    "therefore , the fbs also shift their frequencies to these values and the mode profiles preserves their perfect localization .      in typical photonics setups ,",
    "the anisotropy of crystals or of the waveguide modes is an important parameter to be taken into account when studying the linear properties of a given lattice .",
    "for example , in femtosecond written waveguide arrays  @xcite , the coupling interaction strongly depends on the elliptical profile of written waveguides ( although the silica buffer is essentially isotropic ) . on the other hand , photonic lattices induced in sbn",
    "photorefractive crystals  @xcite also presents a strong anisotropy , but caused by the crystal itself ( induced waveguides have a symmetrical profile ) .",
    "this consideration effectively implies that , for a fixed distance , the coupling also changes depending on their orientation ( @xmath47 )  @xcite .",
    "when computing the linear spectrum of a given lattice , the anisotropy could destroy the flatness of a previous flat band .",
    "for example , a kagome lattice has no any fb when horizontal coupling differ from the diagonal one  @xcite . however , there are several systems where this effect does not affect at all the flatness of the band , for example the cross or the lieb lattices .",
    "we already considered the anisotropy in our method from the very beginning , and we were able to construct robust systems presenting fbs .",
    "the only necessary condition is to have a balance between the mode amplitudes in terms of the different coupling interactions of the system .",
    "this essentially implies that the amplitude of fb modes will not have the same value at different positions .",
    "the most important consideration is that the connector dynamical equation must be zero from the beginning , when injecting a given mini - array mode .",
    "an interesting example is the lieb 2 lattice .",
    "this system has two fbs at @xmath32 . the first one is composed of localized modes having only four sites with amplitude different to zero [ left - down corner in fig .  [ fglieb3](c ) ] .",
    "as we can see , the cancellation of phases for this mode is always horizontal or vertical , therefore the anisotropy balance is not required and modes simply have equal amplitudes but different phases . on the other hand , the second flat band is composed of modes which cancel the transport by balancing vertical and horizontal interactions [ right - down corner in fig .",
    "[ fglieb3](c ) ] . therefore",
    ", a correction of amplitudes is required depending on a given anisotropy @xmath47 , as we explicitly described before .",
    "if we consider that different sites of the unitary cell could present different propagation constants ( determined by @xmath69 ) , an effective anisotropy is generated in the system .",
    "again , this is not a problem for the generation of fb lattices , however extra conditions for the balance of equations need to be fulfilled .",
    "essentially , by starting from a given mini - array with a defined configuration of @xmath69 , new modes need to be computed .",
    "then , by inspecting their symmetry one can realize if these modes are good candidates for spatial localization on an extended lattice .",
    "if the required balance is not achieved when the propagation constants are different , the coupling anisotropy could help to solve this .",
    "however , this overall balance could be too complex to be implemented in real experiments .",
    "one of the most common nonlinear interactions studied in diverse lattice systems corresponds to a cubic nonlinearity  @xcite . in optics",
    "this interaction arises from the kerr - effect , which is nothing else that an increment of the refractive index due to the intensity of a given beam . in bec s",
    ", this interaction originates from the scattering between particles and in solid - state physics from the interaction , for example , between phonons and electrons on a given lattice . in model ( [ dls ] ) , this nonlinear effect is written as @xmath70 , where @xmath71 corresponds to the strength of the nonlinear response . when looking for real solutions , the stationary problem to solve becomes simply @xmath72 in general , any fb mode possessing a set of @xmath73 amplitudes ( @xmath56 ) , but with alternating / staggered sign , has a very simple and compact form  @xcite .",
    "as the connector sites amplitudes remain zero , the total power , defined as @xmath74 , is just given by @xmath75 .",
    "the frequency of the nonlinear solution becomes @xmath76 ( where the frequency shift @xmath77 depends on the specific fb of a given lattice ) and , therefore , a very simple and exact relation between the frequency and power arises @xmath78 these nonlinear solutions are perfectly localized in a very compact spatial region .",
    "they are analytical compactons solutions  @xcite , which conserve their spatial profile in the whole range of parameters .",
    "they bifurcate at the fb position ( @xmath79 ) for a zero level of power ( @xmath80 ) .",
    "these solutions exist for positive and negative nonlinearity , with the corresponding shift on the sign frequency to assure that @xmath81 .    when the fb modes possess a more complex spatial profile , including differences in the magnitude of the amplitudes , a more complicated relation is required . for example , in linear sawtooth lattices the fb exists for a very specific value of coupling coefficients .",
    "additionally , the fb mode has a non symmetric profile of the form @xmath82 .",
    "therefore , when increasing the solutions power , the amplitudes will change and the perfect balance will be more tricky . ref .",
    "@xcite explores how to preserve this balance in a nonlinear context ( cubic and saturable ) , but allowing the system to also modify the coupling constants .      finally , we study the robustness of our method in a more realistic environment .",
    "although discrete models , based on nearest - neighbor interactions , describe very well the phenomenology observed in direct experiments  @xcite , a better prove of the stable propagation of localized fb modes is obtained by numerically solving a paraxial wave equation , @xmath83 here , @xmath84 describes the envelope of the electric field , @xmath85 is the wavenumber in free space , @xmath86 is the vacuum wavelength , and @xmath87 is the refractive index of the bulk material .",
    "the function @xmath88 defines the refractive index structure , which depends on the specific lattice geometry .",
    "@xmath89 corresponds to the transverse laplacian operator .    as an interesting example , we study a system possessing three fbs , as shown in fig .",
    "[ fgrib2 ] . a six - sites mini - array [ fig .",
    "[ fgrib2](a ) ] has three fb modes [ fig .",
    "[ fgrib2](b ) ] that cancel the amplitude at the connector site [ fig .",
    "[ fgrib2](c ) ] .",
    "the frequencies of these modes are @xmath90 , @xmath91 , and @xmath92 , respectively . when computing the linear spectrum [ considering the unitary cell shown in fig .",
    "[ fgrib2](d ) ] , we find seven linear bands [ see fig .",
    "[ fgrib2](e ) ] .",
    "four of them are dispersive and three are completely flat .",
    "the frequencies of the zero dispersion bands are exactly the same than the ones of the mini - array modes shown in fig .",
    "[ fgrib2](b ) , as expected from our method .    .",
    "]    to study this lattice in a more realistic configuration , we insert the lattice geometry in model ( [ model2 ] ) by defining the function @xmath88  @xcite .",
    "we assume elliptical waveguides  @xcite , what induces a strong effective anisotropy : @xmath93 .",
    "this does not affect the flatness of the three degenerated bands , it only implies a different balance between the fb modes amplitudes . considering standard parameters used in ref .",
    "@xcite ( @xmath94 , lattice period of @xmath95 m , propagation distance of @xmath96 cm , @xmath97 nm , and maximum index contrast of @xmath98 ) , we implement a beam propagation method to solve eq.([model2 ] ) numerically .    in fig .",
    "[ fgcont ] we show our results for three different input conditions .",
    "we observe that the three input profiles , corresponding to the three fb modes of a b3-ribbon lattice [ see fig .",
    "[ fgrib2](b ) ] , propagate a long distance without suffering noticeable distortion .",
    "in fact , fig .  [ fgcont](a ) shows the excitation of some outsider lobes , which are very weak in comparison to the central highly excited sites . in fig .",
    "[ fgcont](b ) and ( c ) only the mode profiles are observable , with essentially a zero background .",
    "this result is certainly very interesting because we are using discrete solutions as input conditions of a continuous model .",
    "it is well known that a discrete ( tight - binding ) model describes only the lower part of the spectrum of an , in principle , infinite band - gap system  @xcite .",
    "when thinking on corrections to the nearest - neighbors model ( [ dls ] ) , the first consideration to have in mind are diagonal or next - nearest neighbor interactions .",
    "the b3-ribbon lattice example is robust against to anisotropy and , also , to second order linear interactions .",
    "this is a good indication that the discrete predictions will be observable for long distances in a continuous ( realistic ) medium .",
    "however , as this is an approximation of a more complex system , which includes an infinite set of linear bands , after even longer distances the fb states may start to experience diffraction across the lattice .    , after propagating a distance @xmath96 cm , in a b3-ribbon lattice geometry .",
    "( a)-(c ) correspond to different output profiles , for the input conditions sketched on each figure . ]",
    "in this work , we developed a simple method to construct different fb lattices . by inspecting the mini - array mode profiles",
    ", we identify the good candidate modes for cancelling the transport across a full lattice , as a consequence of a local geometric phase cancellation at the connector sites .",
    "our method is based on the discrete properties of a given lattice and the right identification of the corresponding mini - array . in this way ,",
    "our method is able to explain all the already known fb lattice systems , but also give a simple receipt for inventing new ones . as our technique",
    "is based on the modes of a given mini - array , the lattice composition method will always give a complete fb , composed of spatially localized linear modes . by allowing the system to have extra interactions , we can also find robust lattices which preserve the localization of fb modes when including , for example , next nearest - neighbor interactions .",
    "this becomes very important when studying the lattice phenomenology experimentally , as we showed by numerically solving a continuous model .",
    "finally , we showed that some nonlinear fb lattices possess simple analytical compact solutions , which could be relevant when thinking on the mobility of strongly localized wave - packets  @xcite .",
    "authors acknowledge useful discussions with c. cantillano and b. real . the authors wish to thank programa icm p10 - 030-f and fondecyt grant no ."
  ],
  "abstract_text": [
    "<S> we develop a simple and general method to construct arbitrary flat band lattices . </S>",
    "<S> we identify the basic ingredients behind zero - dispersion bands and develop a method to construct extended lattices based on a consecutive repetition of a given mini - array . </S>",
    "<S> the number of degenerated localized states is defined by the number of connected mini - arrays times the number of modes preserving the symmetry at a given connector site . in this way </S>",
    "<S> , we create one or more ( depending on the lattice geometry ) complete degenerated flat bands for quasi - one and two - dimensional systems . </S>",
    "<S> we probe our method by studying several examples , and discuss the effect of additional interactions like anisotropy or nonlinearity . at the end , we test our method by studying numerically a ribbon lattice using a continuous description . </S>"
  ]
}