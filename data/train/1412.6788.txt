{
  "article_text": [
    "recently , several restricted models of quantum computation have been investigated that seem to lie between classical and quantum , in terms of their computational complexity . while unlikely to be universal for quantum computation , these models seem to have some nontrivial computational power , as they were shown to perform tasks considered hard for classical computers . unlike factoring",
    ", the tasks performed by these restricted models do not seem to be in np nor to be related to `` useful '' applications , making them less appealing from a practical point of view than the more standard applications of quantum computers , such as shor s factoring algorithm @xcite . on the other hand ,",
    "it is conceivable that these models are easier to implement in experimental settings , since they do not require the full power of quantum computation , and thus provide good candidates for intermediate milestones for the field .",
    "examples of these models include the one clean qubit model and generalizations @xcite , quantum circuits of constant depth three or greater @xcite , circuits of commuting 2-local quantum gates , also known as iqp @xcite , non - adaptive measurement - based quantum computation , known as mbcc ( measurement - based classical computation ) @xcite , and non - adaptive linear optics , also known as bosonsampling @xcite .",
    "however , even if these restricted models propose demonstrations closer to the reach of current technologies than universal quantum computers , there are still important technological challenges to overcome before we can provide compelling evidence that quantum systems can outperform classical computers .",
    "bosonsampling , for example , is in a sense more robust than the other models mentioned since its complexity claims hold even in an approximate setting , thus accommodating ( some level of ) experimental imperfections , and an experiment demonstrating interference of a few dozen photons in an interferometer of a few hundred modes already would provide evidence of the computational power of quantum systems long before any reasonable - sized implementation of shor s algorithm . even in this arguably more `` experimental - friendly '' scenario ,",
    "the best experiments reported so far all lie in the limited range of 3 - 4 photons @xcite .",
    "this motivates the study of further simplifications of these models , both from the practical point of view of bringing them even closer to experimental reality , as well as from a more conceptual point of view of understanding the origins of their complexity .    in this paper ,",
    "our main focus is on a restricted version of the bosonsampling model where the linear - optical circuits have only a constant number of layers of beam splitters , which we call constant - depth bosonsampling . using techniques similar to those used for constant - depth quantum circuits @xcite and iqp @xcite",
    "we will prove that , if it was possible to efficiently produce a sample from the _ exact _ output distribution of a linear optical experiment of depth four ( i.e.  with four sequential layers of beam splitters ) by only classical means , this would imply a large collapse in the structure of complexity classes ( namely , the polynomial hierarchy would collapse to its third level ) , which is considered a highly unlikely result .",
    "along the way we will construct a simple example of a circuit that is both in iqp and has depth four , thus at the intersection of two of the aforementioned restricted models  while this has been noticed before , we believe the presentation provided here may be of independent pedagogical interest .    optimizing the bosonsampling model in terms of depth is of special interest for recent experimental implementations , as several use an integrated approach to linear optics where interferometers consist of waveguides etched into e.g.  glass chips @xcite .",
    "while having the benefit of miniaturization , allowing for implementation of networks of several dozen beam splitters within a few centimeters of material , these approaches also often suffer from certain scalability issues  in particular , one can model losses by attributing a certain loss probability to each beam splitter a photon must transverse inside the chip , which leads to a decay of the signal that is exponential in the circuit depth . while further technological advances may mitigate this issue , this clearly motivates an investigation of how small the depth of an optical circuit needs to be to allow for some nontrivial complexity claim . in ref .",
    "@xcite , the authors show than an @xmath0-photon @xmath1-mode bosonsampling device can be parallelized to a circuit of o(@xmath0 log @xmath1 ) depth even in the approximate setting .",
    "our result shows that a depth of four is in fact already sufficient in the _ exact _ setting , and this result may be a first step in reducing the depth requirements of the original model .",
    "this paper is organized as follows . in",
    "we give some basic definitions and theoretical background . in",
    "we discuss some relations between postselection and complexity classes relevant for this work , outlining the main complexity argument leading to our result . in",
    "we give a brief overview of the klm scheme for quantum computing with linear optics . in",
    "we give a simplified proof of the ( previously known ) fact that an efficient classical algorithm for sampling from the exact output distribution of a depth - d quantum circuit would imply the collapse of the polynomial hierarchy to its third level , for any @xmath2 . in we",
    "show how the result of can be adapted to the setting of linear - optical circuits of depth four .",
    "finally , contains concluding remarks and remaining open questions .",
    "let us begin with a brief outline of the main complexity - theoretical argument behind our result .",
    "this reasoning is a simplified version of that used , e.g. , in refs .",
    "@xcite to prove similar results for different models .",
    "let a be some model of probabilistic computation .",
    "it may correspond to probabilistic classical computation ( bpp ) , quantum computation ( bqp ) , or some other restricted model such as circuits of commuting quantum gates ( iqp ) of ref .",
    "@xcite , quantum circuits of constant depth @xcite , or linear optical circuits ( lo ) such as those used for bosonsampling @xcite . for all of these cases",
    ", we can define a corresponding complexity class posta , or `` a with postselection '' .",
    "informally , consider a family of circuits from the restricted model a which have two registers , the output register ( @xmath3 ) which encodes the answer to some desired problem , and the postselection register ( @xmath4 ) which flags whether the computation succeeded or not .",
    "the class posta then corresponds to the set of problems for which there exists a family of circuits in a such that ( i ) the probability that the computation succeeds ( i.e.  the probability of observing a specific predetermined outcome on register @xmath4 ) is nonzero and ( ii ) conditioned on this success , the circuit solves the desired problem with probability @xmath5 for some arbitrary positive constant @xmath6 . for our purposes ,",
    "this informal definition will suffice , but a more formal definition of these classes can be found in refs .",
    "@xcite .",
    "two subtleties in the definition of posta should be pointed out .",
    "first , we were intentionally vague about what the output and postselection registers actually consist of , since these depend on the details of model a. if a corresponds to classical ( resp .",
    "quantum ) circuits , then @xmath3 and @xmath4 represent subsets of the output bits ( resp .",
    "qubits ) , and the success condition corresponds to obtaining some particular bit string on @xmath4 . however , if a corresponds to linear optics , then @xmath3 and @xmath4 correspond to a subset of the output modes , and the success condition will correspond to observing some configuration of photons in @xmath4 .",
    "the changes in the formal definitions necessary for each of these cases , however , are very straightforward .",
    "the second subtlety is in the size of the register @xmath4 . in some cases , such as when defining postbqp ( see , e.g. , ref .",
    "@xcite ) , @xmath4 is considered to be a single qubit without loss of generality , as it is trivial to encode , on a single qubit , whether poly@xmath7 output qubits are in a particular bit string using the operations available in bqp .",
    "however , the same is not true for other models , such as iqp , lo or constant - depth quantum circuits , due to the limited set of operations allowed , and there we must consider the most general case where @xmath4 is a polynomial - sized register .",
    "in fact , for these three cases it is possible to show that the probabilities associated with logarithmic - sized subsets of the output register can be computed efficiently classically @xcite , and only by looking at sufficiently large outputs can we obtain the models `` full '' computational power .",
    "now we invoke a set of well - known results from complexity theory which ultimately provide evidence that , even with the unrealistic power of postselection , classical computers still seem to be much less powerful than quantum computers ( for formal definitions of the complexity classes mentioned here , see refs .",
    "first , it is known that p with a postbpp oracle is contained within the third level of the polynomial hierarchy @xcite , which is a recursively - defined tower of complexity classes strongly conjectured to be infinite .",
    "second , a result by aaronson @xcite shows that postbqp is in fact equal to a complexity class known as pp . finally , a theorem by toda shows that p with a pp oracle contains the whole polynomial hierarchy @xcite .",
    "concatenating these results one can see that , if postbpp were equal to postbqp , the polynomial hierarchy would collapse to its third level , a surprising result that would contradict widely believed conjectures .",
    "suppose now that our restricted model a , mentioned above , is such that posta = postbqp .",
    "that is , suppose that a with postselection is as strong as bqp ( with postselection ) , even if a is not expected to be equal to bqp itself .",
    "then the previous paragraph proves that an efficient classical weak simulation of a ( by which we mean the ability to sample exactly from the output distribution produced by a device from a with only a classical computer and polynomial resources @xcite ) is unlikely to be possible . to see this , note that if we could program a classical computer to efficiently sample from the output distribution of a , then this would mean that posta @xmath8 postbpp , since we could just apply the same postselection on the output of the classical simulation that would be applied on the output of a. but , as argued before , this would lead to postbpp = postbqp and the collapse of the polynomial hierarchy .",
    "this relation , posta = postbqp , is in fact obtained for constant - depth circuits of depth greater than three @xcite , for iqp @xcite , for mbcc @xcite and for lo @xcite ( as we will review on the next section ) , and is the crucial reason why all of these restricted models are expected to be hard to simulate classically . in this work",
    ", we will show that the exact same relation holds for constant - depth linear optics , thus adding it to this set of restricted models .",
    "one important aspect of this postselection argument is that it only provides evidence that it is hard to sample from the _ exact _ output distribution of the corresponding device ( or at most from a distribution close within multiplicative error to the exact one , which is a very strong requirement given that most probabilities will be exponentially small @xcite ) . in this sense , bosonsampling seems to be more robust than the other models : the main contribution of ref .",
    "@xcite was to prove that , under some reasonable technical conjectures , this sampling should be classically hard even in an _ approximate _ sense ( more specifically , even if we change the task to sampling from any distribution close to the ideal one in total variation distance ) .",
    "this result , however , relies on different techniques than the postselection argument described and used here .      in 2001 a seminal work by knill , laflamme and milburn @xcite showed how to implement any quantum circuit in a scalable manner using only linear - optical elements and adaptive measurements .",
    "several variants have been developed since then , with the purpose of reducing the large ( but polynomial ) overheads in resources induced by the original construction . here",
    "we will limit our discussion to that variant which is more suitable for our purposes , but for a full review see e.g.  ref .",
    "@xcite .",
    "the klm scheme uses what is known as dual - rail encoding , where each qubit is encoded using one photon and two modes .",
    "each computational state corresponds to the photon being found in one of the modes , as such : @xmath9    it is easy to see that , in this encoding , any single - qubit gate can be implemented deterministically using an arbitrary two - mode transformation , as represented in .",
    "+    to obtain a universal gate set , we also need an entangling logical two - qubit gate @xcite .",
    "the simplest candidate is the @xmath10 gate , since it only acts nontrivially on the @xmath11 state , thereby only requiring two of the four modes involved in the two - qubit state to interact .",
    "it suffices to implement some two - mode transformation that adds a @xmath12 phase only if both modes are occupied by a single photon , and does nothing otherwise .",
    "this seems to require an interaction between the photons : informally , the physical transformation would affect one photon conditioned on the other photon `` being there '' .",
    "the crucial point of the klm scheme is that this interaction can be simulated by a measurement , at least probabilistically . in",
    "we depict an optical circuit due to knill @xcite which does precisely that . by adding two extra ancilla modes , each carrying a single photon , and upon measuring again one photon in each of these modes , as depicted in",
    ", the circuit is successful and implements a @xmath10 gate .",
    "this happens with probability 2/27 , and any other measurement outcomes results in a failure of the gate . if this was the only way to implement such transformations then scalable linear - optical quantum computing would be hopeless , as the overall success probability of any circuit would decrease exponentially with the number of two - qubit gates .",
    "the original klm paper also included an error - correcting step to deal with this issue , but we do not need to address it here  our interest is in the capabilities of linear optics with postselection , so we can implement any quantum circuit just by postselecting on the success of every gate and never have to worry about what happens when they fail .",
    "replacing error - correction with postselection on the klm scheme already shows that postlo = postbqp and thus , by the discussion in the previous section , provides evidence against a possible classical simulation of linear optics even in the non - adaptive setting .",
    "this was pointed out in ref .",
    "@xcite , but the authors go much further .",
    "they define a random instance of bosonsampling as    * preparation of @xmath1 photonic modes , the first @xmath0 containing one photon each ( with @xmath1 suitably larger than @xmath0 ) ; * evolution of these modes according to an @xmath13 random interferometer @xmath14 sampled from the uniform distribution ; and * measurement of the output in the coincidence basis ( i.e.  only considering outputs with a single photon per mode ) .    by relating the outcome probabilities to the permanents of certain sub - matrices of @xmath14 , together with very plausible conjectures about the hardness of computing the permanent for this particular ensemble of random matrices , the authors are able to provide the more robust result mentioned in the previous section without resorting to the postselection argument , as well as provide a worst - case / average - case equivalence conjecture for random bosonsampling instances .    in the next section",
    "we will consider a variation of bosonsampling where condition ( ii ) is replaced by    * evolution of these modes according to an @xmath13 interferometer composed of four layers of arbitrary two - mode transformations ;    remark that , in our model , the interferometers are not random , but rather they are constructed in a prescribed manner .",
    "also , from this point on we will only consider linear optical circuits where the inputs consist of each photon in a different mode [ i.e.  condition ( i ) ] .",
    "this is justified by the fact that both the klm scheme and the original bosonsampling model satisfy this condition , but also because initializing several of the @xmath0 photons in the same mode tends to make the simulation easier @xcite .",
    "let us begin with an alternative proof of the results found in ref .  @xcite . in that paper , the authors show that quantum circuits with depth three can simulate any arbitrary quantum circuit if postselection is allowed  from the discussion of this immediately means that an efficient classical weak simulation of such circuits would imply a collapse of the polynomial hierarchy .",
    "they also show that this depth is the smallest for which this holds by giving an explicit simulation for circuits of depth @xmath15 . for the present purposes ,",
    "the depth of a quantum circuit is defined as the number of layers of arbitrary two - qubit gates ( the authors in ref .",
    "@xcite use a different convention , including the final round of measurements in the depth count , but this only changes the definition of depth by one ) .",
    "we consider that gates acting on qubit pairs that share a common qubit ( e.g. , @xmath16 and @xmath17 ) can not be done simultaneously even if they commute .",
    "single - qubit gates do not contribute to the depth count since we can consider them as part of the nearest two - qubit gate which means , in particular , that we can choose initialization and measurements in any single - qubit basis without loss of generality .",
    "our starting point is an universal construction in the measurement - based model of quantum computing ( mbqc ) @xcite .",
    "we will restrict ourselves to a description of how the computation is performed , with no discussion on how its universality is proved  that would lie beyond the scope of this work , and we refer to @xcite and references therein .",
    "let @xmath18 be the family of brickwork graphs , such as in , parameterized by some size parameter @xmath0 ( i.e.  the graph has poly@xmath7 vertices ) .",
    "consider , then , the corresponding graph state @xmath19 , built as follows : ( i ) for each vertex in @xmath18 prepare a qubit in the @xmath20 state and ( ii ) for each edge in @xmath18 apply a @xmath10 gate between the two corresponding qubits .",
    "this generates a highly - entangled multi - qubit state , and the computation then proceeds by a sequence of single - qubit measurements on the qubits of @xmath19 . each measurement is done in one of a discrete set of bases , and their outcomes determine the bases of future measurements .",
    "the complete set of measurements , including the order in which they are performed and the dependence of some measurements on the results of others , is known as a _ measurement pattern_.    we now restate the following theorem , which is taken from @xcite ( we follow the result of @xcite for convenience , but the brickwork state was known to be universal for mbqc before that , see e.g.  @xcite ) :    [ thm : mbqc ] let @xmath18 be the brickwork graph shown in .",
    "the corresponding graph state is universal for measurement - based quantum computation .",
    "the computation is performed as follows :    * initialize a qubit in the @xmath21 state for every vertex of @xmath18 ; * apply @xmath10 gates according to the edges of @xmath18 ; * sequentially measure each qubit of @xmath19 in one the bases @xmath22    any poly - sized quantum circuit on @xmath0 qubits can be simulated in this way using some graph @xmath18 of poly@xmath7 size , and by a suitable choice of the measurement pattern which , furthermore , can be computed efficiently classically .    a formal proof of this result , found in ref .",
    "@xcite and references therein , gives explicit measurement patterns corresponding to gates in the universal set @xmath23 , and thus an explicit procedure to simulate any quantum computation .",
    "omitting further details from this proof , we would just like to point out that this protocol , described as a quantum circuit ( cf .  ) , inherits a temporal structure almost exclusively from the `` classical '' adaptation of measurements .",
    "in other words , preparation of the graph state only takes a few rounds of two - qubit gates , and the depth of the circuit stems from the fact that some qubits _ must _ be measured prior to others .",
    "now consider what happens if we replace adaptive measurements by postselection .",
    "that is , rather than making a measurement and conditioning future measurements on its outcome , we just _ postselect _ each measurement to a given outcome such that adaptation is unnecessary . as an example , suppose we measure one qubit in basis @xmath24 , with two possible outcomes labeled @xmath25 and @xmath26 , and the measurement pattern dictates that a second qubit must be measured either on basis @xmath27 or basis @xmath28 depending on the outcome of @xmath24 . this can be replaced simply by postselecting @xmath24 to the outcome @xmath25 and simultaneously measuring the second qubit in basis @xmath27 .",
    "doing this for every measurement effectively flattens out the temporal structure of the protocol , allowing us to perform all measurements in a single round ",
    "if this sounds too good to be true , recall that postselection is indeed an extremely unrealistic `` power '' .",
    "our goal is now basically reached , as the procedure described already constitutes a quantum circuit of depth three . to see this ,",
    "consider the circuit description of the mbqc protocol , as shown in . in this circuit",
    ", the depth count goes as follows : ( i ) a first round of @xmath10 gates ( green edges of ) ; ( ii ) a second round of @xmath10 gates ( red ) ; ( iii ) a third round of @xmath10 gates ( blue ) , followed by a round of single - qubit gates to prepare the measurement bases ( recall that neither state preparation in the @xmath20 state nor preparation for single - qubit measurements count for the depth ) .",
    "only three rounds of @xmath10 gates suffice because vertices of the brickwork state have degree at most three , as shown in",
    ". it should be clear by our arguments and that circuits of this form , when imbued with the power of postselection , can implement any computation in postbqp .",
    "we then conclude , by the previous discussion , that an efficient classical simulation of its output would imply collapse of the polynomial hierarchy .",
    "it is interesting that the mbqc approach is very well suited for this proof , since almost all the temporal structure lies in the adaptive measurements , which is precisely what we replace by postselection .",
    "curiously , all information about the computation _ also _ lies in the measurements , since the brickwork state does not depend at all on the underlying quantum computation ( except , of course , in its size ) .",
    "thus , it seems that all `` computational power '' ( to abuse the terminology ) of the constant - depth quantum circuit resides on the combinations of possible choices of measurement bases .",
    "an interesting open question is whether there is a natural way to randomly choose the measurement bases such that the final simulation is a particularly hard instance , similar to the worst - case / average - case equivalence conjectured for approximate bosonsampling @xcite .",
    "another curious aspect of this proof is that it encompasses several similar proofs for different models .",
    "the resulting circuit obtained by flattening out the adaptivity of mbqc has depth three , is an mbcc protocol ( by definition ) , and is in iqp , since it only uses gates diagonal in the @xmath29 basis .",
    "this is interesting , but maybe not specially surprising  the concept of gate teleportation is present , in one form or another , in all of these results , and is closely related to the historical origin of mbqc .",
    "we should also point out that , while this proof unifies several results , it does not provide concrete relations between these models  the resulting circuit lies at their intersection , but each model may have circuits that perform tasks outside of this intersection .      besides proving that a depth of three is sufficient for the hardness result , the authors in ref .",
    "@xcite also prove that it is necessary .",
    "this is done by giving an explicit simulation of any depth-2 circuit , which we briefly reproduce here .",
    "consider an arbitrary depth-2 circuit .",
    "that is , the qubits are initialized in the computational basis , undergo a first round of arbitrary two - qubit gates , followed by a second round of arbitrary two - qubit gates , and a final round of measurements .",
    "the simulation becomes straightforward if we reinterpret this as a two - round computation : first the qubits are prepared in arbitrary two - qubit states , and then they are measured in arbitrary two - qubit bases .",
    "the classical simulation then proceeds as follows :    * choose one particular measurement @xmath30 .",
    "this is a two - qubit measurement where each qubit may be entangled with some other qubit .",
    "thus , its outcome probabilities only depend on a four - qubit state and are trivially easy to compute in constant time . *",
    "compute the outcome probabilities and simulate @xmath30 by classically sampling a two - bit string from the corresponding distribution and fixing the output of the measurement accordingly .",
    "* project the two measured qubits onto the sampled bit string , and update the description of the two qubits entangled to them accordingly . these two qubits are now in an arbitrary , but known , two - qubit state . * the next measurement involving one of the qubits updated in ( iii ) is again a two - qubit measurement that depends only on an arbitrary four - qubit state . * repeat this procedure until all measurements have been fixed .",
    "this simulation samples from the same distribution as the corresponding quantum circuit .",
    "it is also an example of weak simulation since at no point we compute the probabilities associated with the full output of the circuit , only small two - bit strings at a time . as a consistency check",
    ", one could attempt to generalize this simulation for circuits of depth three .",
    "this would naturally fail , because the first measurement in step ( i ) would depend on an 8-qubit state , hence step ( iii ) would collapse the unmeasured qubits to an arbitrary 6-qubit state .",
    "but then , the next time we returned to step ( i ) the measurement might depend on the state of 14 qubits and so on , and the iteration is clearly disrupted .",
    "we now combine the previous results into one  the computational complexity of exactly simulating constant - depth bosonsampling .",
    "the first step is a rather straightforward concatenation of the results mentioned so far .",
    "consider a constant - depth circuit obtained from some universal mbqc protocol by replacing adaptive measurements with postselection , as in .",
    "now map the resulting quantum circuit to a linear - optical circuit using the constructions of . finally , replace the adaptive measurements of the klm protocol by postselection .",
    "the resulting circuit is naturally as strong as postbqp , and thus it can not have an efficient classical simulation unless the polynomial hierarchy collapses .",
    "let us now count the depth of the resulting optical circuit .",
    "the single - qubit gates can not be `` absorbed '' into the two - qubit gates anymore , as was done in , since in the linear - optical setting we have a dual - rail encoding where both single- and two - qubit gates correspond to two - mode transformations ( i.e.  the single qubit gates involve the two modes of a single qubit , while two - qubit gates involve two modes of different qubits ) .",
    "we will , however , absorb phase shifters into the closest beam splitter , and count layers of arbitrary two - mode transformations .",
    "the total count then goes as follows : one layer of balanced beam splitters for the preparation of the @xmath31 states , followed by six layers for the preparation of the entangled state ( i.e.  two for each layer of @xmath10 gates of the brickwork state , using the @xmath10 of ) . finally , one last layer of beam splitters and phase shifters for the preparation of measurement bases , and a round of measurements .",
    "this amounts to a total depth of eight .",
    "we can now use two tricks to reduce this depth count .",
    "first note that , according to , when we perform a @xmath10 gate , only one mode of each encoded qubit is involved , while the other remains idle . by a simple adaptation of the circuit of , we can use the second mode of each qubit to simultaneously implement the second round of @xmath10s . to do this , we include two @xmath32 phase shifters before the circuit of , resulting in a gate which , up to a global phase , only adds a minus sign to the photonic @xmath33 state .",
    "it is clear that , if we act with this gate on the modes encoding the @xmath34 state of two qubits , we obtain precisely a logical @xmath10 gate . by a clever alternation of which mode we use for each @xmath10 gate",
    ", we can build the long paths of the brickwork state ( i.e.  the red and green edges in ) using one round of @xmath10s , corresponding to two rounds of beam splitters .",
    "this reduces the overall depth to six .",
    "the second trick is to use a procedure similar to the usual gate teleportation @xcite , which can be found in ref .",
    "@xcite , to parallelize the third layer of @xmath10s .",
    "say we want to implement some faulty ( i.e.  probabilistic ) gate @xmath14 on a computational qubit , but without endangering the information stored in that qubit .",
    "we can then do the following : we prepare an auxiliary two - qubit state @xmath35 , implement @xmath14 on the second qubit of this auxiliary state , and , if @xmath14 succeeds , project the first qubit of the auxiliary state together with our original qubit on the @xmath36 state ( see ) . of course",
    ", in standard quantum computation ( i.e.  bqp ) we can not guarantee that a two - qubit measurement will project our qubits on the @xmath36 state , but for our purposes we can just postselect on observing this outcome .",
    "now notice that , if rather than being a two - qubit state , @xmath37 actually represents a state of one photon in two modes , the mathematical structure is exactly the same , and so it allows us to use an equivalent scheme to teleport the states of the _ modes _ in the klm scheme .",
    "since each @xmath10 gate only involves one mode of each qubit , as in , this allows us to implement the gate teleportation by teleporting only one mode , rather than a complete qubit , as shown in .",
    "thus , we can perform all the @xmath10 gates for the brickwork state in parallel , and just teleport the computational states around , in a very similar spirit to the original result of @xcite .",
    "this scheme , and how it can used to reduce the depth , is illustrated in .",
    "this reduces the total depth count to four .",
    "+    note that , of the two tricks mentioned , the second would already suffice to reduce the depth count to four .",
    "we presented the first as it may be of independent interest for the parallelization of linear - optical circuits even in future implementations of the full klm scheme .",
    "also , since in this setting we do not have to worry about the gates failing , it would be wasteful to do all the @xmath10 s in fresh ancilla modes rather than directly on the qubit themselves whenever possible .",
    "we can now also ask whether , besides being sufficient , a depth of four is also necessary for the preceding result .",
    "alas , unfortunately so far the answer seems to be no .",
    "a direct adaptation of the simulation of only proves that depth-2 linear optical circuits are classically simulable .",
    "our simulation follows the same basic principle as that described in , namely that we can re - interpret a depth-2 linear optical circuit as a two - mode preparation followed by a two - mode measurement .",
    "the main difference between the simulation of and the analogous for linear optics is the following : assuming that each mode is initialized with either zero or one photons ( i.e.  @xmath38 and @xmath39 ) , the state after the first layer of beam splitters can have some modes occupied by two photons ( i.e.  @xmath40 ) .",
    "thus one could argue that , when we do the iterative step of the simulation , the sample space changes from one step to the next , possibly disrupting the iteration .",
    "but , if we observe that no mode can ever have more than four photons , this can easily be accommodated into the simulation scheme as follows :    * choose a measurement @xmath30 .",
    "this is a two - mode measurement , where each mode has up to two photons and may be `` entangled '' with some other mode ( by which we mean `` mode entanglement '' , where two modes are written in a nonseparable state such as @xmath41 , not to be confused with `` real entanglement '' between two photons due to some interaction ) .",
    "thus , this measurement only depends on the states of four modes , each with up to two photons , and its probabilities can be computed in constant time . *",
    "compute the outcome probabilities and simulate @xmath30 by sampling from the corresponding distribution and fixing the output of the measurement accordingly .",
    "note that the space of outcomes can have from zero to four photons distributed in any way among the two measured modes .",
    "* project the two measured modes onto the sampled state , and update the description of the two unmeasured modes accordingly .",
    "they are now in an arbitrary , but known , two - mode state . by photon - number preservation ,",
    "the outcome fixed in ( ii ) determines the number of photons in the collapsed state , but it is easy to check that it can have at most two photons per mode . * the next measurement involving one of the modes collapsed in ( iii ) is again a two - mode measurement that depends only on a four - mode state .",
    "one caveat is that these four modes may now contain up to eight photons overall ( up to two per mode ) depending on previously fixed outcomes .",
    "nonetheless , any subsequent two - mode measurement can only detect four of these photons , so step ( ii ) can always be applied . *",
    "iterate this procedure until all measurements have been fixed .",
    "as should be clear , since we have only two layers of beam splitters , no mode can ever have more than two photons , except immediately prior to a measurement , in which it can have up to four photons .",
    "this guarantees that , even though the first measurement differ from subsequent measurements in the set of allowed states , this does not disrupt the iterative procedure .",
    "also note that this simulation seems to break down for more layers .",
    "if the optical circuit has depth three , say , then a first measurement could depend on the state of eight modes , and collapse the unmeasured modes into an arbitrary state of six modes .",
    "but then the next measurement involving these modes could depend on 14 modes , and so forth .",
    "since each new choice of measurement may depend on a larger number of modes , the iteration step fails .",
    "in this paper , we showed that the exact version of the bosonsampling result in section 4 of ref .",
    "@xcite already holds if the linear optical circuit has depth four , and also that it can not hold for depth two or lower .",
    "this seems to be a consequence of the fact that a probabilistic linear - optical @xmath10 gate must be constructed with at least two layers of beam splitters .",
    "this is natural , since it is known that ancilla modes and photons are necessary @xcite for the construction of the gate ( even probabilistically ) , and so a single layer of beam splitters would clearly not suffice to interact both the two computational modes and the ancilla modes in question .",
    "it can not be ruled out , of course , that an ingenious use of postselection might provide a construction for a hard - to - simulate depth-3 exact bosonsampling instance via completely different means .    besides the corresponding result for depth three",
    ", we leave another open question : is it possible to somehow close the depth gap between this result and the main result of ref .",
    "@xcite for approximate bosonsampling ? in the latter case ,",
    "the minimum necessary depth is o(@xmath0 log @xmath1 ) , for @xmath0 photons in @xmath1 modes , as shown in ref .",
    "@xcite , and for exact bosonsampling the minimal known depth , as we showed , is four .",
    "there are two natural routes to close this gap : either prove that the approximate bosonsampling result can be simplified , using a further parallelized scheme or possibly a matrix ensemble other than the uniform one , or give an efficient classical algorithm for approximate constant - depth bosonsampling ( thus showing that constant - depth and regular bosonsampling are indeed fundamentally different ) .",
    "the latter would not be too surprising : there exist problems for which the exact solution is hard ( e.g.  in @xmath42p ) , while an approximate solution is easy ( i.e.  in p ) , such as the permanent of positive matrices @xcite",
    ". another possibility would be to explicitly investigate the permanents of constant - depth interferometers .",
    "however , the unitary of a depth-4 interferometer is at most @xmath43-sparse , simply because a photon that enters one mode can not leave in more than @xmath43 different modes , and similarly a photon that exits in a particular mode can not have entered in more than @xmath43 different input modes .",
    "thus , these matrices obey a very special structure , very different from the uniform ensemble , and a worst - case / average - case equivalence allowing us to condition the hardness of their permanents on some plausible conjecture seems less likely .",
    "an approximate result for constant - depth bosonsampling would also have important consequences for the corresponding complexity classes . for example , it can contribute to the more general program of relating the different restricted models described so far .",
    "it is known that an arbitrary @xmath0-photon , @xmath1-mode linear - optical circuit can be simulated in bqp simply by treating each mode as an @xmath0-level system , and using a standard mapping from @xmath1 qudits to o(@xmath1 log @xmath0 ) qubits @xcite . as discussed in ref .",
    "@xcite , this mapping induces an o(log @xmath0 ) depth increase , simply because an arbitrary single - qudit gate will map to an arbitrary @xmath44log @xmath45-qubit circuit .",
    "this logarithmic depth increase suggests that arbitrary linear - optics might not be simulable by constant - depth quantum circuits .",
    "however , the same is not true for constant - depth linear optics . in an optical circuit consisting of a no - collision fock state input",
    "( e.g.  @xmath46 ) followed by a constant number of beam splitter layers , it is easy to see that no mode can have more than a constant number of photons .",
    "for example , if the optical circuit has depth four , no mode ever has more than 16 photons , which means that this system can be viewed simply as a collection of @xmath1 16-level systems .",
    "consequentially , simulating it on a quantum computer does not induce a logarithmic depth increase and it can , in fact , be simulated in constant depth .",
    "so we see that constant - depth linear optics is provably contained within constant - depth quantum computing ( although the second constant might not be three , as in ) , and so showing that a classical simulation of the former is unlikely even in the approximate scenario , along the lines of @xcite , might suggest an equivalent result for the latter .",
    "this would be the first evidence that other recent `` collapse - the - polynomial - hierarchy '' results might in fact be as robust as bosonsampling .",
    "finally , we would like to discuss possible implications of this result for current experimental efforts .",
    "to our knowledge , all bosonsampling experiments so far have been performed using integrated photonic circuits @xcite . in these devices ,",
    "the depth of the circuit is one of the leading causes of photon loss and exponential attenuation of the signal , so any optimization of the model in terms of depth should be beneficial for the experimental efforts .",
    "one drawback of the proof given here , however , is that it requires beam splitters acting between arbitrarily distant modes , a requirement that is not as well - suited for usual two - dimensional layouts of these devices .",
    "we believe our result may pave the way for practical simplifications of current experimental efforts , but we leave for future work to determine the exact trade - off between losses induced by the depth count and losses induced by having to engineer crossovers between the waveguides .",
    "the author would like to thank andrew childs and ernesto galvo for helpful and insightful discussions .",
    "this research was supported in part by brazilian funding agency cnpq ( conselho nacional de desenvolvimento cientfico e tecnolgico ) , and in part by the perimeter institute for theoretical physics .",
    "research at perimeter institute is supported by the government of canada through industry canada and by the province of ontario through the ministry of research and innovation .",
    "28 ifxundefined [ 1 ] ifx#1 ifnum [ 1 ] # 1firstoftwo secondoftwo ifx [ 1 ] # 1firstoftwo secondoftwo `` `` # 1''''@noop [ 0]secondoftwosanitize@url [ 0 ]  + 12$12  & 12#1212_12%12@startlink[1]@endlink[0]@bib@innerbibempty @noop * * ,   ( ) link:\\doibase 10.1103/physrevlett.81.5672 [ * * ,   ( ) ] link:\\doibase 10.1103/physrevlett.112.130502 [ * * ,   ( ) ] @noop `` , ''   ( ) ,   @noop * * ,   ( ) link:\\doibase 10.1098/rspa.2010.0301 [ * * , ( ) ] link:\\doibase    10.1103/physrevlett.112.140505 [ * * ,   ( ) ] @noop * * ,   ( ) link:\\doibase    10.1126/science.1231440 [ * * ,   ( ) ] link:\\doibase 10.1038/nphoton.2013.112 [ * * ,   ( ) ] link:\\doibase    10.1126/science.1231692 [ * * ,   ( ) ] link:\\doibase    10.1038/nphoton.2013.102 [ * * ,   ( ) ] link:\\doibase    10.1103/physrevlett.111.130503 [ * * ,   ( ) ] link:\\doibase 10.1038/nphoton.2014.135 [ * * ,   ( ) ] link:\\doibase    10.1038/nphoton.2014.152 [ * * ,   ( ) ] link:\\doibase 10.1098/rspa.2005.1546 [ * * ,   ( ) ] link:\\doibase 10.1137/s0097539792240467 [ * * ,   ( ) ] link:\\doibase 10.1137/0220053 [ * * ,   ( ) ] link:\\doibase 10.1038/35051009 [ * * ,   ( ) ] link:\\doibase    10.1103/revmodphys.79.135 [ * * ,   ( ) ] @noop _ _  ( ,  ) link:\\doibase 10.1103/physreva.66.052306 [ * * , ( ) ] link:\\doibase 10.1103/physrevlett.86.5188 [ * * ,   ( ) ] link:\\doibase 10.1146/annurev - conmatphys-020911 - 125041 [ * * ,   ( ) ] in  link:\\doibase 10.1109/focs.2009.36 [ _ _ ]  ( )  pp .",
    "link:\\doibase 10.1103/physreva.71.032318 [ * * ,   ( ) ] link:\\doibase 10.1038/46503 [ * * ,   ( ) ] link:\\doibase 10.1145/1008731.1008738 [ * * ,   ( ) ]"
  ],
  "abstract_text": [
    "<S> bosonsampling is a restricted model of quantum computation proposed recently , where a non - adaptive linear - optical network is used to solve a sampling problem that seems to be hard for classical computers . </S>",
    "<S> here we show that , even if the linear - optical network has a constant number ( greater than four ) of beam splitter layers , the exact version of the bosonsampling problem is still classically hard , unless the polynomial hierarchy collapses to its third level . </S>",
    "<S> this is based on similar result known for constant - depth quantum circuits and circuits of 2-local commuting gates ( iqp ) . </S>"
  ]
}