{
  "article_text": [
    "the authors thank e. saglamyurek , v. kiselyov and teraxion for discussions and technical support , the university of calgary s infrastructure services for providing access to the fiber link between the university s main campus and the foothills campus , sait polytechnic for providing laboratory space , and acknowledge funding by nserc , quantumworks , general dynamics canada , icore ( now part of alberta innovates technology futures ) , cfi , aaet and the killam trusts .",
    "in order to ensure the indistinguishability of photons arriving at charlie s and to allow bell state measurements in a real - world environment , we developed and implemented three stabilization systems ( see fig .  2 in the main text )",
    ": fully - automatic polarization stabilization , manual adjustment of photon arrival time , and manual adjustment of laser frequency .",
    "note that automating the frequency and timing stabilization systems is straightforward , particularly if the active control elements are placed in charlie s setup .",
    "the polarization stabilization system  @xcite employed an additional laser ( at charlie s ) and two polarization controllers ( one at alice s and one at bob s ) .",
    "every 10 s , charlie disabled data collection for 0.5 s and sent high intensity , vertically polarized stabilization light to alice and bob .",
    "this light was detected by photodiodes at alice s and bob s , and used to trigger their commercially available polarization controllers ( pocs ) , which were programmed to adjust the polarization of the stabilization light to vertical .",
    "this implies that alice s and bob s attenuated laser pulses , which were emitted horizontally polarized , both arrive horizontally polarized at charlie s .    to stabilize the frequency difference between alice s and bob s lasers , alice used a frequency shifter ( fs ) that employed a linear phase chirp via a serrodyne modulation signal applied to a phase modulator .",
    "whenever the error rate in the _ x - key _ increased significantly , charlie communicated the frequency difference after measuring the beat frequency by mixing their unmodulated and unattenuated laser outputs on the beam splitter .",
    "adjustments , in the worst case , were required every 30 minutes to maintain the difference below 10 mhz .    to enable temporal synchronization , charlie sent a master clock signal via a second set of fibers to alice and bob .",
    "roughly every minute , charlie measured the qubit arrival - time difference using his spds and high - resolution electronics and sent this information to alice and bob .",
    "they then adjusted their qubit generation times using function generators to apply a phase shift to the recovered master clock .",
    "this maintained the arrival - time difference under 30  ps .",
    "in mdi - qkd the secret key rate is given by @xmath47 where @xmath14 denotes the binary entropy function evaluated on @xmath15 , and @xmath16 describes the efficiency of error correction with respect to shannon s noisy coding theorem .",
    "furthermore , @xmath17 , @xmath18 , @xmath19 , and @xmath20 are gains ( @xmath21  the probability of a projection onto @xmath10 per emitted pair of pulses ) and error rates ( @xmath22  the ratio of erroneous to total projections onto @xmath10 ) in either the @xmath11- or @xmath23-basis for alice and bob sending single photons ( denoted by subscript  11 \" ) , or for pulses emitted by alice and bob with mean photon number @xmath0 and @xmath24 ( denoted by subscript  @xmath25 \" ) , respectively .",
    "while @xmath19 , and @xmath20 are directly accessible from experimental data , @xmath17 , @xmath18 have to be bounded using a decoy state method .",
    "we use a three - intensity decoy state method for the mdi - qkd protocol  @xcite that derives a lower bound for @xmath48 and @xmath49 and an upper bound for @xmath18 , to calculate a lower bound for the secure secret key rate .",
    "we denote the signal , decoy , and vacuum intensities by @xmath50 , @xmath51 and @xmath52 , respectively , for alice , and bob ( note that @xmath53 by definition ) . in our implementation alice and",
    "bob both select the same mean photon numbers for the three intensities and use channels of equal transmission . for compactness of notation",
    ", we omit the @xmath0 when describing the gains and error rates ( e.g. we write @xmath54 to denote the gain in the z - basis when alice and bob both send photons using the signal intensity ) . under these assumptions , the lower bound on @xmath48",
    "is given by + @xmath55    where the various @xmath56 denote the probabilities that a pulse with poissonian photon number distribution and mean @xmath0 contains exactly @xmath57 photons , and @xmath58 and @xmath59 are given by    @xmath60    similar equations are used to bound @xmath49 ( we replace the superscript @xmath11 by @xmath23 ) . finally , the error rate @xmath18 can then be computed as    @xmath61    where the upper bound holds if a lower bound is used for @xmath62 .",
    "note that @xmath63 , @xmath64 , @xmath65 and @xmath18 ( eqs .",
    "[ eqn : q11_bound]-[eqn : e11_bound ] ) are uniquely determined through measurable gains and error rates .    our analysis in [ ]",
    "determined that lowering @xmath66 as much as possible maximizes secret key rate . in these experiments ,",
    "we select @xmath67 in order to obtain statistically significant data in a reasonable amount of time ( see suplementary table  [ table_results2 ] )    c     @xmath29 & 22.85 km & @xmath68 & @xmath69 & @xmath70 & 0.0311(4 ) & @xmath71 & @xmath72 & @xmath73 & 0.270(2 ) + @xmath31 & 22.55 km & @xmath74 & @xmath75 & @xmath76 & 0.49(1 ) & @xmath77 & @xmath78 & @xmath79 & 0.494(2 ) + total loss @xmath80 & 9.1 db & @xmath81 & @xmath82 & @xmath83 & 0.47(1 ) & @xmath84 & @xmath85 & @xmath86 & 0.507(2 ) + @xmath50 & 0.396(4 ) & @xmath87 & @xmath88 & @xmath89 & 0.070(4 ) & @xmath90 & @xmath91 & @xmath92 & 0.277(2 ) + @xmath66 & 0.050(1 ) & @xmath93 & @xmath94 & @xmath95 & 0.47(3 ) & @xmath96 & @xmath97 & @xmath98 & 0.511(5 ) + @xmath12 & @xmath99 & @xmath100 & @xmath101 & @xmath102 & 0.48(3 ) & @xmath103 & @xmath104 & @xmath105 & 0.503(5 ) +   + fiber & spool & & + @xmath29 & 30.98 km & @xmath68 & @xmath106 & @xmath70 & @xmath107 & @xmath71 & @xmath108 & @xmath73 & 0.274(3 ) + @xmath31 & 34.65 km & @xmath74 & @xmath109 & @xmath76 & 0.51(2 ) & @xmath77 & @xmath110 & @xmath79 & 0.498(4 ) + total loss @xmath80 & 13.7 db & @xmath81 & @xmath111 & @xmath83 & 0.48(2 ) & @xmath84 & @xmath112 & @xmath86 & 0.499(4 ) + @xmath50 & 0.279(6 ) & @xmath87 & @xmath113 & @xmath89 & 0.082(5 ) & @xmath90 & @xmath114 & @xmath92 & 0.278(2 ) + @xmath66 & 0.050(1 ) & @xmath93 & @xmath115 & @xmath95 & 0.47(4 ) & @xmath96 & @xmath116 & @xmath98 & 0.50(1 ) + @xmath12 & @xmath117 & @xmath100 & @xmath118 & @xmath102 & 0.41(4 ) & @xmath103 & @xmath119 & @xmath105 & 0.50(1 ) +   + fiber & spool & & + @xmath29 & 40.80 km & @xmath68 & @xmath120 & @xmath70 & 0.053(2 ) & @xmath71 & @xmath121 & @xmath73 & 0.270(4 ) + @xmath31 & 40.77 km & @xmath74 & @xmath122 & @xmath76 & 0.51(2 ) & @xmath77 & @xmath123 & @xmath79 & 0.505(7 ) + total loss @xmath80 & 18.2 db & @xmath81 & @xmath124 & @xmath83 & 0.49(2 ) & @xmath84 & @xmath125 & @xmath86 & 0.501(6 ) + @xmath50 & 0.251(6 ) & @xmath87 & @xmath126 & @xmath89 & 0.129(8 ) & @xmath90 & @xmath127 & @xmath92 & 0.286(4 ) + @xmath66 & 0.050(1 ) & @xmath93 & @xmath128 & @xmath95 & 0.52(4 ) & @xmath96 & @xmath129 & @xmath98 & 0.51(1 ) + @xmath12 & @xmath130 & @xmath100 & @xmath131 & @xmath102 & 0.45(4 ) & @xmath103 & @xmath132 & @xmath105 & 0.51(1 ) +   + fiber & deployed & & + @xmath29 & 12.4 km & @xmath68 & @xmath133 & @xmath70 & 0.0323(6 ) & @xmath71 & @xmath134 & @xmath73 & 0.265(2 ) + @xmath31 & 6.2 km & @xmath74 & @xmath135 & @xmath76 & 0.50(1 ) & @xmath77 & @xmath136 & @xmath79 & 0.492(2 ) + total loss @xmath80 & 9.0 db & @xmath81 & @xmath137 & @xmath83 & 0.52(1 ) & @xmath84 & @xmath138 & @xmath105 & 0.512(2 ) + @xmath50 & 0.402(2 ) & @xmath87 & @xmath139 & @xmath89 & 0.071(3 ) & @xmath90 & @xmath140 & @xmath92 & 0.269(3 ) + @xmath66 & 0.050(1 ) & @xmath93 & @xmath141 & @xmath95 & 0.53(3 ) & @xmath96 & @xmath142 & @xmath98 & 0.502(6 ) + @xmath12 & @xmath143 & @xmath100 & @xmath144 & @xmath102 & 0.49(4 ) & @xmath103 & @xmath145 & @xmath105 & 0.501(6 ) +    [ table_results2 ]",
    "in this section we describe the assumptions underpinning secure key distribution in mdi - qkd as well as further technological and theoretical developments required for our current proof - of - principle demonstration to meet this goal .",
    "we note that any qkd system used to distribute secret key must be vetted against attacks arising from imperfections in its implementation .",
    "protection against such attacks requires the development of hardware that strives to be as ideal as possible , in conjunction with the development of security proofs that are able to take into account those imperfections that inevitably remain in any realistic implementation .",
    "( such proofs would bound the information leaked to an eavesdropper , which , in turn , allows removing it by means of privacy amplification ) .",
    "even for the heavily studied prepare - and - measure bb84 protocol , this is an area of ongoing research  @xcite , and more needs to be done for the new mdi - qkd protocol . yet",
    ", mdi - qkd constitutes a very important development in this context as it eliminates all potential attack strategies related to imperfections in the measurement apparatus , including arbitrary measurement - basis misalignment errors as well as detector attacks that have recently been shown to provide the eavesdropper full information about the key without leaving a trace  @xcite .",
    "remaining assumptions and required developments are :    1 .",
    "* quantum mechanics is correct and complete . *",
    "this assumption is generally believed to be true .",
    "* alice s and bob s laboratories are private . *",
    "this assumption entails that no undesired signals , e.g. rf electromagnetic radiation , escape from alice s and bob s apparatus when working in normal conditions .",
    "information gain through such passive observation can be avoided using appropriate shielding , which , as is standard in academic qkd implementations , we have not spent any particular effort on .",
    "furthermore , the assumption implies that eve can not actively obtain information about the experimental settings , e.g. by sending a probe , such as light , into the laboratories using the fiber that connects alice or bob , respectively , with the outside world , and analyzing the back reflection .",
    "this is often referred to as a trojan horse attack  @xcite . and",
    "finally , eve can not actively influence alice s or bob s devices to modify their functioning .",
    "protection against active attacks requires that the laboratories are isolated from signals sent by eve , e.g. using optical isolators or attenuators .",
    "no such countermeasures were realized in our proof - of - principle demonstration . however , their implementation is straightforward , at least in what concerns attenuators and isolators  @xcite .",
    "we emphasize that there is no need to protect charlie s laboratory ; the mdi - qkd protocol ensures that it can even be run by the eavesdropper .",
    "alice and bob send phase - randomized attenuated pulses of light produced by a laser operated well above threshold . *",
    "this ensures that the generated light pulses are correctly described by the density matrix @xmath146 , where @xmath147 is the poisson distribution with mean photon number @xmath0 , and @xmath148 denotes the density matrix of an @xmath149-photon fock state .",
    "this condition is easily met by generating every light pulse using a laser diode triggered by a short electrical pulse . however , as we carve qubits out of a laser beam with large coherence time using an intensity modulator , it is not fulfilled in our setup ( more precisely , subsequent pulses are coherent ) . yet",
    ", we point out that the solution to our problem is well understood and has been implemented before  @xcite : it simply requires adding a phase modulator that randomizes the global phase of each qubit .",
    "* the mean values of photons per pulse , as well as the encoded states are chosen randomly . *",
    "no random choices have been implemented in our current proof - of - principle demonstration .",
    "instead , we sent pulses with the same mean photon number and encoded the same qubit state during several minutes before changing the state or mean number .",
    "however , operating the phase and amplitude modulators that generate qubit states using adequate drivers connected to quantum random number generators is well understood  @xcite , and meeting the requirement of random modulation is straightforward , though time consuming .",
    "* alice and bob generate qubits in states that are sufficiently close to those that form two maximally conjugate bases . *",
    "these states were denoted in the main text as @xmath5 , @xmath6 , @xmath150 and @xmath151 , respectively .",
    "this assumption may currently not be satisfied ( see  @xcite for a detailed description of our experimental imperfections ) .",
    "for instance , considering states in different bases ( for which the overlap should be 0.5 ) , we find an average deviation of 0.074 , and for different states in the same basis ( for which we expect an overlap of zero ) , the average deviation is 0.013 . according to the analyses in  @xcite these overlaps , together with the current detector performance , are insufficient to securely distribute key .",
    "however , we point out that both proofs lead to very conservative bounds . for instance",
    ", the proof in  @xcite requires a state generation procedure that artificially increases error rates and applies non - tight bounds , and hence underestimates secure key rates .",
    "we believe that future investigations will rapidly improve proof techniques and yield higher secret key rates ( and result in secret key in cases in which current proofs predict no secret key ) .",
    "furthermore , we note that straightforward technological improvements allow reducing the maximum deviation from the ideal overlap values to around 1 part in 1000 .",
    "for instance , this can be accomplished by reducing ringing in our pulse generation by a factor of 5 , and using commercially - available , state - of - the - art intensity modulators that allow suppressing the background by an additional 10 - 20 db  @xcite .",
    "in addition , using state - of - the - art detectors with 93% quantum efficiency and 1khz noise  @xcite leads , according to simulation results with a theoretical model of mdi - qkd that we presented in  @xcite , to secret key rates similar to or above the ones reported in the main document , even using the conservative approach in  @xcite .",
    "* sufficiently weak correlations between qubit states and all degrees of freedom not used to encode the qubit . * in principle , the various states generated by alice and bob could have differences in other degrees of freedom ( i.e. polarization , spectral , spatial , or temporal modes ) , which could open a security loophole  @xcite if not properly quantified and taken into account during privacy amplification .",
    "however , for mdi - qkd , the link between correlations with unobserved degrees of freedom and eve s information gain is not yet clear .",
    "in particular , correlations are likely to degrade the visibility of the bsm , thus creating observable errors .",
    "the upper bound on eve s information gain , possibly zero , can only be assessed using plausible arguments based on the actual implementation of the setup supplemented by careful measurements .",
    "for instance , in our implementation , the use of a single laser to generate all qubits states and of a single - mode fiber to transmit qubits from alice , or bob , to charlie , respectively , makes it highly unlikely that correlation between states and photon spectra or spatial modes exist . furthermore",
    ", careful programming of the function generator that generates all states through interaction with the same intensity modulator makes it very plausible that no temporal distinguishability is observable in our experiment . and finally , the polarization beam splitter at the exit of alice s and bob s laboratories ensures equal polarization of all time - bin qubit states .",
    "* appropriate classical post - processing of the sifted key , i.e. error correction and privacy amplification*. note that while we have not implemented error correction , we have used a realistic estimation of the error correction efficiency  @xcite to determine the potential secret key rate of our system .",
    "furthermore , we did not consider finite key size effects in our proof - of - principle demonstration ( in other words , we assumed that we could run our qkd devices during an infinitely long time and produce an infinite amount of measured data ) , which , in the case of mdi - qkd , have so far only been investigated using an overly conservative approach  @xcite .",
    "* a short secret authentication key exists before starting qkd . *",
    "this key is used to authenticate the classical communication channel during error correction and privacy amplification . as we did not implement any of these post - processing steps , we did not need any pre - established secret key . in an actual implementation , this step can , for instance , be accomplished during a personal meeting between alice and bob .",
    "we recall that some of the above topics are currently not as thoroughly studied for mdi - qkd as for prepare - and - measure qkd . however , the ability to close all side channels in measurement devices represents a significant step forward in closing the gap between theoretical security proofs and experimentally viable implementations . in particular",
    ", it has , for the first time , allowed for the development of security proofs in qkd that take arbitrary state generation and measurement errors into account , even though the efficiency of the current approaches can certainly be increased .",
    "in addition , for actual key distribution , our experimental implementation has to be improved along the lines discussed above .",
    "we leave these interesting and important topics for future investigations and emphasize that our work has focused on previously undemonstrated requirements for mdi - qkd , such as the bell state measurement over deployed fiber , on improving the understanding of the capabilities and current limitations of our setup ( including optimization and efficiency calculations of a decoy state analysis ; for more information see  @xcite ) and on experimental demonstrations of the protocol over various distances as well as over deployed , real - world optical fiber .",
    "let us briefly discuss the ideal case in which the quantum states encoded into attenuated laser pulses , as well as the projection measurements , are perfect . to gain some insight into how the difference in the error rates , @xmath152 , arises , as above , or @xmath153 ) ,",
    "this is a shorthand for , e.g. @xmath154 and @xmath155  that is , the statement is valid for both the z- and x - bases .",
    "note that variables may take different values for each basis , e.g. @xmath156 .",
    "when this notation is used within an equation such as eq .",
    "[ eqn : photon_state ] , then the equation may be written for either the z- or x - basis . ] , we consider only the most likely case that can cause the detection pattern associated with a projection onto @xmath10 ( this projection occurs if the two detectors indicate detections with 1.4@xmath270.4 ns time difference ) .",
    "specifically , we consider only the case in which two photons arrive at the beam splitter .",
    "note that these photons can either come from the same person , or from different persons .    * z - basis : assuming that alice and bob both prepare states in the z - basis , only photons prepared in orthogonal states can cause a projection onto @xmath10 .",
    "this implies that one photon has to come from alice , and the other one from bob ( if generated by the same person , both photons would be in the same state ) .",
    "hence , taking into account bob s bit flip , alice and bob always establish identical bits , i.e. @xmath157 .",
    "* x - basis : assuming that both alice and bob prepare states in the x - basis , it is no longer true that only photons prepared in orthogonal states and by different persons can cause a projection onto @xmath10 .",
    "indeed , if the two photons have been prepared by the same person , it is possible to observe the detection pattern associated with a projection onto @xmath10 . in this case ,",
    "given that all detected photons have been prepared by either one or the other person , the detection does not indicate any correlation between the states prepared by alice and bob . in turn , this leads to uncorrelated key bits .",
    "thus , @xmath158 is determined by the probability that one photon arrived from each person relative to the probability that two photons arrived from the same person . a detailed analysis for attenuated laser pulses with poissonian photon number distribution , assuming an equal probability of photons arriving from either party , yields @xmath158 = 1/4 .",
    "n. gisin , g. ribordy , w. tittel and h. zbinden , quantum cryptography .",
    "phys . _ * 74 , * 145195 ( 2002 ) .",
    "v. scarani , h. bechmann - pasquinucci , n. j. cerf , m. duek , n. ltkenhaus and m. peev , the security of practical quantum key distribution .",
    "phys . _ * 81 , * 13011350 ( 2009 ) . c. h. bennett and g. brassard ,",
    "quantum cryptography : public key distribution and coin tossing .",
    "int . conf . on computer systems and signal processing _",
    "( bangalore , 1984 ) ( new york : ieee ) , pp .",
    "175 - 179 .",
    "p. w. shor and j. preskill , simple proof of security of the bb84 quantum key distribution protocol .",
    "lett . _ * 85 , * 441 - 444 ( 2000 ) .",
    "d. gottesman , h .- k .",
    "lo , n. ltkenhaus and j. preskill , security of quantum key distribution with imperfect devices .",
    "comp . _ * 4 , * 325 - 360 ( 2004 ) .",
    "d. stucki , n. walenta , f. vannel , r. t. thew , n. gisin , h. zbinden , s. gray , c. r. towery and s. ten , high rate , long - distance quantum key distribution over 250 km of ultra low loss fibres .",
    "_ new j. physics _ * 11 , * 075003 ( 2009 ) . t. schmitt - manderbach , h. weier , m. frst , r. ursin , f. tiefenbacher , th .",
    "scheidl , j. perdigues , z. sodnik , j. g. rarity , a. zeilinger and h. weinfurter , experimental demonstration of free - space decoy - state quantum key distribution over 144 km .",
    "lett . _ * 98 , * 010504 ( 2007 ) .",
    "m. sasaki _",
    "et al_. field test of quantum key distribution in the tokyo qkd network .",
    "express _ * 19 * ( 11 ) , 10387 - 10409 ( 2011 ) .",
    "http://www.idquantique.com , http://www.magiqtech.com .",
    "g. brassard , n. ltkenhaus , t. mor and b. c. sanders , limitations on practical quantum cryptography .",
    "lett . _ * 85 , * 1330 - 1333 ( 2000 ) .",
    "a. lamas - linares and c. kurtsiefer , breaking a quantum key distribution system through a timing side channel , _ opt . express _ ,",
    "* 15 * ( 15 ) , 9388 - 9393 ( 2007 ) .",
    "y. zhao , c .- h .",
    "f. fung , b. qi , c. chen and h .- k .",
    "lo , quantum hacking : experimental demonstration of time - shift attack against practical quantum key distribution systems .",
    "a _ * 78 , * 042333 ( 2008 ) .",
    "l. lydersen , c. wiechers , c. wittmann , d. elser , j. skaar and v. makarov , hacking commercial quantum cryptography systems by tailored bright illumination .",
    "_ nature photonics _ * 4 , * 686689 ( 2010 ) .",
    "l. lydersen , c. wiechers , c. wittmann , d. elser , j. skaar and v. makarov , thermal blinding of gated detectors in quantum cryptography .",
    "express _ * 18 * ( 26 ) , 27938 - 27954 ( 2010 ) .",
    "w. hwang , quantum key distribution with high loss : towards global secure communication .",
    "lett . _ * 91 , * 057901 ( 2003 ) .",
    "x. wang , beating the photon - number - splitting attack in practical quantum cryptography .",
    "_ * 94 * , 230503 ( 2005 ) .",
    "lo , x. ma and k. chen , decoy state quantum key distribution .",
    "lett . _ * 94 , * 230504 ( 2005 ) .",
    "lo , m. curty and b. qi , measurement - device - independent quantum key distribution .",
    "lett . _ * 108 * , 130503 ( 2012 ) .",
    "s. l. braunstein & s. pirandola , side - channel - free quantum key distribution .",
    "* 108 * , 130502 ( 2012 ) . c. h. bennett , g. brassard and n. d. mermin , quantum cryptography without bells theorem .",
    "lett . _ * 68 , * 557 - 559 ( 1992 ) .",
    "w. tittel and g. weihs , photonic entanglement for fundamental tests and quantum communication .",
    "inf . comp .",
    "_ * 1*(2 ) , 3 - 56 ( 2001 ) . e. biham , b. huttner and t. mor , quantum cryptographic network based on quantum memories .",
    "_ * 54 * , 2651 - 2658 ( 1996 ) .",
    "h. inamori , security of practical time - reversed epr quantum key distribution .",
    "_ algorithmica _ * 34 , * 340 - 365 ( 2002 ) .",
    "wang , three - intensity decoy state method for device independent quantum key distribution with basis dependent errors .",
    "n. sangouard , c. simon , h. de riedmatten and n. gisin , quantum repeaters based on atomic ensembles and linear optics .",
    "_ * 83 , * 33 - 80 ( 2011 ) . c. k. hong , z. y. ou and l. mandel , measurement of subpicosecond time intervals between two photons by interference .",
    "lett . _ * 59 , * 2044 - 2046 ( 1987 ) . l. mandel , photon interference and correlation effects produced by independent quantum sources .",
    "a _ * 28 , * 929 - 943 ( 1983 ) .",
    "a. rubenok , j. a. slater , p. chan , i. lucio - martinez and w. tittel , modelling mdi - qkd http://arxiv.org/abs/1204.0738 . z. l. yuan , a. w. sharpe , j. f. dynes , a. r. dixon and a. j. shields , multi - gigahertz operation of photon counting ingaas avalanche photodiodes . _ appl .",
    "lett . _ * 96 , * 071101 ( 2010 ) .",
    "f. marsili , v. b. verma , j. a. stern , s. harrington , a. e. lita , t. gerrits , i. vayshenker , b. baek , m. d. shaw , r. p. mirin and s. w. nam , detecting single infrared photons with 93% system efficiency .",
    "_ arxiv:1209.5774 _ ( 2012 )",
    ". i. lucio - martinez , p. chan , x. mo , s. hosier and w. tittel , proof - of - concept of real - world quantum key distribution with quantum frames .",
    "_ new j. phys . _ * 11 , * 095001 ( 2009 ) .",
    "f. bussires , j. a. slater , j. jin , n. godbout and w. tittel , testing nonlocality over 12.4 km of underground fiber with universal time - bin qubit analyzers .",
    "a _ * 81 * , 052106 ( 2010 ) .",
    "l. masanes , s. pironio and a. acn , secure device - independent quantum key distribution with causally independent measurement devices .",
    "_ nature communications _ * 2 , * 238 ( 2011 ) .",
    "e. woodhead and s. pironio , effects of preparation and measurement misalignments on the security of the bb84 quantum key distribution protocol .",
    "_ arxiv:1209.6479 _ ( 2012 ) .",
    "y. zhao , b. qi and h .- k .",
    "lo , experimental quantum key distribution with active phase randomization , _ appl .",
    "_ , * 90 * ( 4 ) , 044106 ( 2007 ) .",
    "k. tamaki , h .- k .",
    "lo , c .- h .",
    "f. fung and b. qi , phase encoding schemes for measurement device independent quantum key distribution and basis - dependent flaw .",
    "_ arxiv:1111.3413 _ ( 2012 ) .",
    "s. nauerth _",
    "information leakage via side channels in freespace bb84 quantum cryptography .",
    "_ new j. phys .",
    "_ * 11 , * 065001 ( 2009 ) .",
    "song , q .- y .",
    "wen , f .- z .",
    "guo and x .- q .",
    "tan , finite - key analysis for measurement - device - independent quantum key distribution , phys .",
    "a * 86 * , 022332 ( 2012 ) ."
  ],
  "abstract_text": [
    "<S> several vulnerabilities of single photon detectors have recently been exploited to compromise the security of quantum key distribution ( qkd ) systems . in this letter </S>",
    "<S> we report the first proof - of - principle implementation of a new quantum key distribution protocol that is immune to any such attack . </S>",
    "<S> more precisely , we demonstrated this new approach to qkd in the laboratory over more than 80 km of spooled fiber , as well as across different locations within the city of calgary . </S>",
    "<S> the robustness of our fibre - based implementation , together with the enhanced level of security offered by the protocol , confirms qkd as a realistic technology for safeguarding secrets in transmission . </S>",
    "<S> furthermore , our demonstration establishes the feasibility of controlled two - photon interference in a real - world environment , and thereby removes a remaining obstacle to realizing future applications of quantum communication , such as quantum repeaters and , more generally , quantum networks .    </S>",
    "<S> quantum key distribution ( qkd ) promises the distribution of cryptographic keys whose secrecy is guaranteed by fundamental laws of quantum physics@xcite . starting with its invention in 1984@xcite </S>",
    "<S> , theoretical and experimental qkd have progressed rapidly . </S>",
    "<S> information theoretic security , which ensures that secret keys can be distributed even if the eavesdropper , eve , is only bounded by the laws of quantum physics , has been proven under various assumptions about the devices of the legitimate qkd users , alice and bob@xcite . </S>",
    "<S> furthermore , experimental demonstrations employing quantum states of light have meanwhile resulted in key distribution over more than 100 km distance through optical fiber@xcite or air@xcite , qkd networks employing trusted nodes@xcite , as well as in commercially available products@xcite .    </S>",
    "<S> however , it became rapidly clear that some of the assumptions made in qkd proofs were difficult to meet in real implementations , which opened side channels for eavesdropping attacks . </S>",
    "<S> the most prominent examples are the use of quantum states encoded into attenuated laser pulses as opposed to single photons@xcite , and , more recently , various possibilities for an eavesdropper to remote - control or monitor single photon detectors@xcite . </S>",
    "<S> fortunately , both side channels can be removed using appropriately modified protocols . in the first case , randomly choosing between so - called signal or decoy states ( quantum states encoded into attenuated laser pulses with different mean photon numbers ) allows one to establish a secret key strictly from information conveyed by single photons emitted by the laser@xcite . </S>",
    "<S> ( we remind the reader that an attenuated laser pulse comprising on average @xmath0 photons contains exactly one photon with probability @xmath1 [ ] . ) furthermore , the recently proposed measurement - device independent ( mdi ) qkd protocol@xcite ( for closely related work see [ ] ) additionally ensures that controlling or monitoring detectors , regardless by what means , does not help the eavesdropper to gain information about the distributed key . </S>",
    "<S> note that , while the two most prominent side channels are removed by mdi - qkd , others remain open and have to be closed by means of appropriate experimental design ( see the supplemental material ) .    </S>",
    "<S> the mdi - qkd protocol is a clever time - reversed version of qkd based on the distribution and measurement of pairs of maximally entangled photons@xcite : in the idealized version , alice and bob randomly and independently prepare single photons in one out of the four qubit states @xmath2 $ ] , where @xmath3 . </S>",
    "<S> the photons are then sent to charlie , who performs a bell state measurement , i.e. projects the photons joint state onto a maximally entangled bell state@xcite . </S>",
    "<S> charlie then publicly announces the instances in which his measurement resulted in a projection onto @xmath4 and , for these cases , alice and bob publicly disclose the bases ( z , spanned by @xmath5 and @xmath6 , or x , spanned by @xmath7 ) used to prepare their photons . </S>",
    "<S> ( they keep their choices of states secret . ) </S>",
    "<S> identifying quantum states with classical bits ( e.g. @xmath80 , and @xmath9  1 ) and keeping only events in which charlie found @xmath10 and they picked the same basis , alice and bob now establish anti - correlated key strings . </S>",
    "<S> ( note that a projection of two photons onto @xmath10 indicates that the two photons , if prepared in the same basis , must have been in orthogonal states . ) bob then flips all his bits , thereby converting the anti - correlated strings into correlated ones . </S>",
    "<S> next , the so - called _ x - key _ is formed out of all key bits for which alice and bob prepared their photons in the x - basis ; its error rate is used to bound the information an eavesdropper may have acquired during photon transmission . furthermore , alice and bob form the _ z - key _ out of those bits for which both picked the z - basis . finally , they perform error correction and privacy amplification@xcite to the _ z - key _ , which results in the secret key .    as in the entanglement - based protocol , the time - reversed version ensures that eve can not gain information by eavesdropping photons during transmission or by modifying the device that generates entanglement  either the source of photon pairs or the projective two - photon measurement , respectively  without leaving a trace@xcite . </S>",
    "<S> furthermore , the outstanding attribute of the mdi - qkd protocol is that it de - correlates detection events ( here indicating a successful projection onto the @xmath10 bell state ) from the values of the @xmath11- and _ z - key _ bits and hence the secret key bits . in other words , all side channels related to the detection setup , </S>",
    "<S> regardless whether actively attacked or passively monitored , do not help eve gain information about the secret key .    </S>",
    "<S> unfortunately , the described procedure is currently difficult to implement for two reasons , first of which is the lack of practical single photon sources . </S>",
    "<S> however , it is possible to replace the true single photons by attenuated laser pulses of varying mean photon number ( i.e. signal and decoy states , as introduced above ) , and to establish the secret key using information only from joint measurements at charlie s that stem from alice and bob both sending single photons@xcite . </S>",
    "<S> this procedure results in the same security against eavesdropping as the conceptually simpler one discussed above . </S>",
    "<S> the secret key rate , @xmath12 , distilled from signal states , is then given by@xcite : @xmath13 where @xmath14 denotes the binary entropy function evaluated on @xmath15 , and @xmath16 describes the efficiency of error correction with respect to shannon s noisy coding theorem . </S>",
    "<S> furthermore , @xmath17 , @xmath18 , @xmath19 , and @xmath20 are gains ( @xmath21  the probability of a projection onto @xmath10 per emitted pair of pulses ) and error rates ( @xmath22  the ratio of erroneous to total projections onto @xmath10 ) in either the @xmath11- or @xmath23-basis for alice and bob sending single photons ( denoted by subscript  11 \" ) , or for pulses emitted by alice and bob with mean photon number @xmath0 and @xmath24 ( denoted by subscript  @xmath25 \" ) , respectively . while the latter are directly accessible from experimental data , the former have to be calculated using a decoy state method  @xcite ( see the supplemental material ) .    </S>",
    "<S> second , a crucial element for mdi - qkd as well as future quantum repeaters and networks is a bell state measurement ( bsm)@xcite . </S>",
    "<S> however , this two - photon interference measurement has not yet been demonstrated with photons that were generated by independent sources and have travelled through separate deployed fibers ( i.e. fibers that feature independent changes of propagation times and polarization transformations ) . to implement </S>",
    "<S> the bsm one requires that these photons be indistinguishable , i.e. arrive simultaneously within their respective coherence times , with equal polarization , and feature sufficient spectral overlap . yet , </S>",
    "<S> due to time - varying properties of optical fibers in a real - world environment , significant changes to photons indistinguishability can happen in less than a minute , as depicted in fig .  </S>",
    "<S> [ fig : drift ] . </S>",
    "<S> furthermore , the carrier frequencies of the signals generated at alice s and bob s generally vary . </S>",
    "<S> these instabilities make real - world bell state measurements without stabilization by means of active feedback impossible .     </S>",
    "<S> ( a ) drift of differential arrival time . variation of arrival time difference of attenuated laser pulses emitted at alice s and bob s after propagation to charlie . </S>",
    "<S> ( b ) variation in the overlap of the polarization states of originally horizontally polarized light ( emitted by alice and bob ) after propagation to charlie . </S>",
    "<S> both panels include temperature data ( crosses ) , showing correlation between variations of indistinguishability and temperature . </S>",
    "<S> in addition , despite local frequency locks , the difference between the frequencies of alice s and bob s lasers varied by up to 20 mhz per hour ( not shown ) . ]    hence , to enable mdi - qkd and pave the way for quantum repeaters and quantum networks , we developed the ability to track and stabilize photon arrival times and polarization transformations as well as the frequency difference between alice s and bob s lasers during all measurements ( for more information see the supplemental material ) . in order to ensure the indistinguishability of photons arriving at charlie s and to allow , for the first time </S>",
    "<S> , bell state measurements in a real - world environment , we developed and implemented three stabilization systems ( see fig .  </S>",
    "<S> [ fig : setup ] ) : fully - automatic polarization stabilization , manual adjustment of photon arrival time , and manual adjustment of laser frequency . </S>",
    "<S> note that automating the frequency and timing stabilization systems is straightforward , particularly if the active control elements are placed in charlie s setup .     </S>",
    "<S> aerial view showing alice ( located at sait polytechnic ) , bob ( located at the university of calgary ( u of c ) foothills campus ) and charlie ( located at the u of c main campus ) . </S>",
    "<S> also shown is the schematic of the experimental setup . </S>",
    "<S> optically synchronized using a master clock ( mc ) at charlie s , alice and bob ( not shown ; setup identical to alice s ) generated time - bin qubits at 2 mhz rate encoded into fourier - limited attenuated laser pulses using highly stable continuous - wave lasers at 1552.910 nm wavelength , temperature - stabilized intensity and phase modulators ( i m , pm ) , and variable attenuators ( att ) . </S>",
    "<S> the two temporal modes defining each time - bin qubit were of 500 ps ( fwhm ) duration and were separated by 1.4 ns . </S>",
    "<S> the qubits travelled through 12.4 and 6.2 km of deployed optical fibers to charlie , where a 50/50 beam splitter followed by two gated ( @xmath26 deadtime ) ingaas single photon detectors ( spd ) allowed projecting the bi - partite state onto the @xmath10 bell state . </S>",
    "<S> ( this projection occurred if the two detectors indicate detections with 1.4@xmath270.4 ns time difference . ) </S>",
    "<S> the mc , polarization controller ( poc ) and alice s frequency shifter ( fs ) are used to maintain indistinguishability of the photons upon arrival at charlie . </S>",
    "<S> these three feedback systems are detailed in the supplemental material . </S>",
    "<S> the individual setups for measurements using spooled fiber ( arrangement ( i ) ) are identical . ]    </S>",
    "<S> we verified that we could indeed maintain the indistinguishability of the photons by frequently measuring the visibility , @xmath28 , of the so - called hong - ou - mandel dip@xcite ( a two - photon interference experiment that is closely related to a bsm ) . on average </S>",
    "<S> we found @xmath28=47@xmath271% , which is close to the maximum value of 50% for attenuated laser pulses with a poissonian photon number distribution@xcite , and thereby confirm that real - world two - photon interference is possible .    to assess the feasibility of mdi - qkd </S>",
    "<S> , we implemented a proof - of - principle demonstration of mdi - qkd using the decoy state protocol proposed by wang@xcite . </S>",
    "<S> this protocol requires that alice and bob choose between three different mean photon numbers : two non - zero values referred to as signal and decoy as well as vacuum . </S>",
    "<S> we performed our experiments over four different distances ( henceforth referred to as setups ) comprising two different arrangements ( see fig .  </S>",
    "<S> [ fig : setup ] ) : ( i ) alice , bob and charlie are located within the same lab , and alice and bob are connected to charlie via separate spooled fibers of various lengths and loss . </S>",
    "<S> ( ii ) alice , bob and charlie are located in different locations within the city of calgary , and alice and bob are connected to charlie by deployed fibers of 12.4 and 6.2 km length , respectively . </S>",
    "<S> the fiber lengths and loss in each setup are listed in table 1 .        </S>",
    "<S> .length and loss ( @xmath29 , @xmath30 , @xmath31 , @xmath32 ) of the individual fiber links used to connect alice and charlie , and charlie and bob , respectively , for all tested setups . </S>",
    "<S> the table also lists the total length @xmath33 and total loss @xmath34 ( in db ) . </S>",
    "<S> the last line details measurements outside the laboratory with deployed fiber . [ cols=\"^,^,^,^,^,^,^,^ \" , ]     for each setup , we prepared all 4 combinations of alice and bob picking a state from the z - basis ( i.e. @xmath35 $ ] , where @xmath5 and @xmath6 denote time - bin qubits@xcite prepared in an early or late temporal mode ) , and all 4 combinations of picking a state from the x - basis ( i.e. @xmath36 $ ] ) . using a detailed model of our mdi - qkd system@xcite , we calculated the signal and decoy intensities that maximize the secret key rate produced by the decoy - state method for each setup . for our decoy intensity </S>",
    "<S> we generated attenuated laser pulses containing on average @xmath37 photons and for our signal intensities we used a mean photon number between @xmath38 and @xmath39 ( the optimal value depends on loss ) . </S>",
    "<S> for each of the four distance configurations listed in table 1 , and for each of the 16 pairs of qubit states , we performed measurements of all 9 combinations of alice and bob using the signal , decoy or vacuum intensity . </S>",
    "<S> we recorded the number of joint detections in which one detector indicated an early arriving photon ( or an early noise count ) , and the other detector indicated a late arriving photon ( or a late noise count ) , which , for time - bin qubits , is regarded as a projection onto the @xmath10-state@xcite . depending on the observed detection rates , measurements took between 2 and 35 minutes . </S>",
    "<S> this data yields the gains , @xmath40 and @xmath41 , and error rates , @xmath42 and @xmath43 , a subset of which is plotted in fig .  </S>",
    "<S> [ fig : results]a . </S>",
    "<S> a complete list of gains and error rates is presented in the supplemental material .     </S>",
    "<S> ( a ) measured error rates @xmath42 and @xmath43 for alice and bob either both using signal intensity or both using decoy intensity as a function of total loss , @xmath44 ( in db ) . </S>",
    "<S> we note that every other combination of intensities used in the decoy - state analysis requires alice or bob ( or both ) sending vacuum , and thus the error rate is @xmath45 and not plotted . </S>",
    "<S> ( b ) experimentally obtained and simulated secret key rates as a function of total loss , @xmath44 ( in db ) , with @xmath46 , for optimized mean photon numbers . </S>",
    "<S> experimental secret key rates are directly calculated from measured gains and error rates using the decoy state method@xcite ( see supplemental material for details ) . in both panels , the secondary x - axis shows distance assuming loss of 0.2 db / km . </S>",
    "<S> diamonds depict results obtained using deployed fibers ( see fig .  </S>",
    "<S> [ fig : setup]a ) ; all other data was obtained using fiber on spools . uncertainties ( one standard deviation ) were calculated for all measured points assuming poissonian detection statistics . </S>",
    "<S> we stress that the simulated values , computed using our model@xcite , do not stem from fits but are based on parameters that have been established through independent measurements . </S>",
    "<S> monte - carlo simulations using uncertainties in these measurements lead to predicted bands as opposed to lines ( for more details see the supplemental material ) . ]    </S>",
    "<S> we then computed secret key rates according to eq . </S>",
    "<S> [ eq : secret_key_rate ] after extracting @xmath17 and @xmath18 using wang s decoy state calculation@xcite and assuming an error correction efficiency @xmath16=1.14@xcite . as shown in fig .  </S>",
    "<S> [ fig : results]b , all our measurements , both outside and inside the laboratory , and using up to 80 km of spooled fiber between alice and bob , output a positive secret key rate . </S>",
    "<S> furthermore , using our model@xcite , we estimate that our setup allows secret key distribution up to a total loss of 18@xmath274.8 db , which is in agreement with our qkd results . assuming the standard loss coefficient for telecommunication fibers without splices of 0.2 db / km </S>",
    "<S> , this value corresponds to a maximum distance between alice and bob of 90@xmath2724 km . note that moving from our proof - of - principle demonstration to the actual distribution of secret keys requires additional developments , which are detailed in the supplemental material .    in summary </S>",
    "<S> , we have demonstrated that real - world quantum key distribution with practical attenuated laser pulses and immunity to detector hacking attacks is possible using current technology . </S>",
    "<S> our setup contains only standard , off - the - shelf components , its development into a complete qkd system follows well - known steps@xcite , and the extension to higher key rates using state - of - the - art detectors@xcite is straightforward . </S>",
    "<S> we also point out that mdi - qkd is well suited for key distribution over long distances , and we expect that further developments will rapidly push the separation between alice and bob beyond its current maximum of 250 km@xcite . finally , we remind the reader that the demonstrated possibility for bell state measurements in a real - world environment and with truly independent photons also removes a remaining obstacle to building a quantum repeater , which promises quantum communication such as qkd over arbitrary distances .    * </S>",
    "<S> note added : * we note that related experimental work has recently been reported in http://arxiv.org/abs/1207.0392 and http://arxiv.org/abs/1209.6178 . </S>"
  ]
}