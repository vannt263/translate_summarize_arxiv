{
  "article_text": [
    "we discuss the following ramsey - type question for 1-color-_avoiding _ paths in 3-colored transitive tournaments : problem 1.1 from a recent paper of loh @xcite .",
    "it is perhaps the simplest open generalization of the classical erds ",
    "szekeres theorem on monotone subsequences @xcite .",
    "[ ques : ramsey - for - general - tournaments ]    must every 3-coloring of the edges of the @xmath0-vertex transitive tournament contain a 1-color - avoiding directed path with at least @xmath1 vertices ?    in @xcite ,",
    "loh indirectly used the triangle removal lemma bound to show that there always exists a path of length @xmath5 ( beating the trivial bound of @xmath6 ) .",
    "later , wagner @xcite obtained the full @xmath1 bound for _ rainbow - triangle free _",
    "tournaments by using the recursive gallai decomposition of such tournaments ( cf .",
    "defintion [ def : undirected - gallai - rgbk ] below ) , the gallai  hasse ",
    "roy  vitaver theorem , and a suitable analog of the weighted ramsey s theorem used by fox , grinshpun , and pach @xcite for a similar _ undirected _ problem .",
    "generally one first asks for the asymptotics , but the exact @xmath1 threshold is natural for the following reason .",
    "first , the best constructions known achieve exactly @xmath1 . furthermore , suppose there were a counterexample @xmath7 on @xmath0 vertices , with longest path of length exactly @xmath8 , for some real @xmath9 . then taking the @xmath10-fold lexicographic `` power '' of @xmath7",
    "would yield a tournament on @xmath11 vertices with longest path of length exactly @xmath12giving arbitrarily large examples with _ exponent _ @xmath9 .",
    "we review the definition and properties of the lexicographic product of edge - colored graphs in definition [ def : lex - product - tournaments ] below .",
    "this leads to the following equivalent question .",
    "[ ques : l^0-ramsey - for - rgb - tournaments ] given a 3-colored @xmath0-vertex tournament @xmath7 , must the product of the longest 1-color - avoiding paths in each of the three colors always be at least @xmath13 ?    by taking lexicographic products of rotations",
    ", one sees that if the @xmath14 ( single - max ) bound holds , then the @xmath15 ( geometric mean ) bound should hold as well .",
    "the converse holds by pigeonhole .",
    "equality holds in question [ ques : l^0-ramsey - for - rgb - tournaments ] , for instance , when @xmath7 is a transitive path in one of the three colors , or a lexicographic product thereof .",
    "loh also implicitly introduced a related geometric problem about points in space .",
    "[ def : slice - increasing - sets ]    say a set of triples @xmath16 is _ slice - increasing _ if every pair of triples in the set is _ majority - comparable _ , i.e. given @xmath17 , the coordinate - wise difference @xmath18 has at least two nonzero coordinates of the same sign .",
    "this is equivalent to requiring that on each fixed coordinate - slice , the points are strictly increasing in each of the two remaining coordinates .",
    "[ ques : bounding - slice - increasing - sets ]    must a slice - increasing set @xmath19 ^ 3 $ ] satisfy @xmath20 ? = { \\{1,2,\\dots , n\\}}$ ] . ]    to be precise , loh noted that an ordered set ( definition [ def : ordered - triples ] ) is also slice - increasing ( * ? ? ?",
    "* lemma 2.2 and observation 2.2 ) , and that the question on bounding ordered sets is equivalent to question [ ques : ramsey - for - general - tournaments ] ( * ? ? ?",
    "* lemma 2.1 ) .",
    "so an affirmative answer to question [ ques : bounding - slice - increasing - sets ] would imply the same for question [ ques : ramsey - for - general - tournaments ] , while a negative answer for question [ ques : ramsey - for - general - tournaments ] would imply the same for question [ ques : bounding - slice - increasing - sets ] .",
    "[ rmk : tensor - power - trick ] again , the best constructions known achieve exactly @xmath21 points . by taking lexicographic powers , a counterexample for question [ ques : bounding - slice - increasing - sets ]",
    "would yield arbitrarily large counterexamples with exactly @xmath22 points for some _ exponent _ @xmath23 .",
    "we review the lexicographic product of triples in definition [ def : lex - product - triples ] below . by considering lexicographic products with rotations ,",
    "one obtains an _ equivalent _ problem on unequally - sized grids . in section [ sec : geometry - approaches ]",
    "we will discuss both of these viewpoints .",
    "[ ques : bounding - unequal - slice - increasing - sets ]    must a slice - increasing set @xmath24\\times[n_2]\\times[n_3]$ ] satisfy @xmath25 ?    given a slice - increasing set , one can extend the @xmath26 map of definition [ def : triples - to - tournament ] to get a _ non - transitive _ tournament , and then ask about the longest 1-color - avoiding paths . however ,",
    "in this paper we will mainly focus on transitive tournaments .",
    "[ ex : standard - slice - increasing - tight - example - sumsets ]    equality holds in question [ ques : bounding - unequal - slice - increasing - sets ] , for instance , when @xmath3 is the image of a map @xmath27 given by @xmath28 , where @xmath29 are real - valued , _ coordinate - wise strictly increasing _ , and _ injective _ functions defined on @xmath30 , respectively , and @xmath31 .",
    "( technically , @xmath3 has @xmath32 distinct @xmath33-coordinates , etc .",
    "so it is coordinate - wise order - isomorphic to a subset of @xmath34\\times[n_2]\\times[n_3]$ ] . )",
    "when @xmath35 $ ] with @xmath36 given by the linear map @xmath37 , one recovers a standard lexicographic construction for question [ ques : bounding - slice - increasing - sets ] .",
    "we now summarize our results and the organization of the paper . in the remainder of the introduction ,",
    "we build up to theorem [ thm : main - equivalences ] reducing the original question [ ques : l^0-ramsey - for - rgb - tournaments]or more precisely , the equivalent question [ ques : ramsey - for - rgbk - tournaments]to question [ ques : ramsey - for - canonical - rgbk - tournaments ] on special tournaments with a mixture of natural geometric and combinatorial properties ( see definitions [ def : geometric - tournament ] and [ def : canonical - fixed - points ] ) . to preserve the flow of the reduction argument",
    ", we will usually leave the more routine and technical ingredients to section [ sec : transformations ] and the appendices .",
    "as we will gradually clarify , our reduction process can be viewed as a _ saturation _ process that _ preserves _ ( global ) maximum lengths while _ locally _ increasing lengths .",
    "intuitively , this is why we get more structure at the end .",
    "theorem [ thm : main - theorem ] gives a positive answer to these questions for so - called _ undirected - gallai _ tournaments ( definition [ def : undirected - gallai - rgbk ] ) .",
    "in v1 of this paper , we were only able to prove the result for _ directed - gallai _ tournaments ( definition [ def : directed - gallai - rgbk ] ) .",
    "the technical improvement here essentially stems from wagner s use of the gallai ",
    "roy  vitaver theorem in @xcite .",
    "wagner @xcite actually shows that given any @xmath38-colored , @xmath0-vertex _ rainbow - triangle free _ tournament ( not necessarily transitive ) , there exists  for any fixed integer @xmath39a path on @xmath40 vertices using at most @xmath41 distinct colors .",
    "we will not say much more about these extensions , because serious difficulties remain in the @xmath42 problem ( even in the transitive case , which may be easier in view of the history for the @xmath43 problem ) .",
    "we do note , though , that it does not seem easy to embed the _ full _",
    "@xmath42 problem in these extensions , even after the reductions below .    the use of gallai decompositions , together with cauchy ",
    "schwarz ( or hlder ) , essentially forms a _ local - to - global _ argument .",
    "indeed , the proof can be interpreted as showing that any counterexample for question [ ques : ramsey - for - general - tournaments ] ( in the case of rainbow - triangle free tournaments , say ) would contain a _ smaller , more extreme _",
    "perhaps a more robust _ local - to - global _ argument ( not depending on such restrictive gallai partitioning ) could address all tournaments .    in section [ sec : weighted - e - s - and - etc .",
    "] we briefly review the _ weighting _ idea implicit in wagner s work , which we had independently used in v1 of the present paper .",
    "in particular , for the reader s convenience , we explicitly state a weighted version of erds  szekeres ( theorem [ thm : weighted - erdos - szekeres ] ) .",
    "we also mention an application to a problem of erdsdocumented by steele ( corollary [ cor : application - to - erdos - problem - steele ] ) , and connections to other problems and interpretations . in example",
    "[ ex : canonical - difficulties ] we briefly explain some serious difficulties we have had trying to further extend the proof of theorem [ thm : main - theorem ] , even after the reduction in theorem [ thm : main - equivalences ] .",
    "nonetheless , we have included some structural results and python code on the special tournaments ( definition [ def : canonical - fixed - points ] ) in sections [ sec : python - code ] , [ sec : structure - of - color - record - fixed - points ] , and [ sec : structure - of - canonical - tournaments ] , in case it helps future researchers .    finally , from a more geometric perspective",
    ", we discuss several approaches to the slice - increasing problem ( the equivalent questions [ ques : bounding - slice - increasing - sets ] and [ ques : bounding - unequal - slice - increasing - sets ] ) in section [ sec : geometry - approaches ] , leaving finer details to section [ sec : slice - increasing - sets ] at times in order to maintain coherence .      as in loh s paper @xcite",
    ", we will use the classical idea of recording lengths at each vertex .",
    "however , we will also play this @xmath44 map off against two other canonical transformations . for this",
    ", it will help to have the following basic definitions .",
    "[ def : ordered - triples ]    call a set of triples @xmath16 _ ordered _ if the triples can be listed as @xmath45 such that for every @xmath46 , the coordinate - wise difference @xmath47 has at least two strictly positive coordinates .",
    "a slice - increasing set @xmath3 is ordered if and only if the well - defined `` majority - comparable tournament '' on @xmath3 is acyclic .",
    "corollary [ cor : surfaces - formulation - of - total - order ] offers another interpretation .",
    "fix an ordered _ sequence _ of triples @xmath3 . for any coordinate @xmath48 ,",
    "let @xmath49 denote the length of the longest @xmath50-increasing sub__sequence _ _ of @xmath3 .",
    "[ ques : ramsey - for - ordered - triples ]    must an ordered set @xmath16 satisfy @xmath51 ?",
    "[ ques : original - triples - problem ]    must an ordered set @xmath24\\times [ n_2]\\times [ n_3]$ ] satisfy @xmath25 ?    [ def : rgbk - tournaments ]    an _",
    "-tournament _ is a transitive tournament @xmath7 on ordered vertices @xmath52 with each edge @xmath53 colored one of the four colors , , , .",
    "fix an -tournament @xmath7 . for any color class ,",
    "let @xmath54 denote the length of the longest -colored directed path in @xmath7 .",
    "this is abbreviated as @xmath55 when @xmath7 is clear .",
    "[ ques : ramsey - for - rgbk - tournaments ]    must an -tournament @xmath7 satisfy @xmath56 ?    of course , changing a -edge to , , or can never increase @xmath57 , @xmath58 , or @xmath59 .",
    "however , when translating between the triples ( geometric ) and tournament ( combinatorial ) formulations of the problem , it seems most natural to include a fourth `` wild color '' with geometric significance . in the same vein",
    "one may think of , , as `` primary colors '' , as we will gradually clarify below .",
    "we now define canonical transformations @xmath44 , @xmath26 , and @xmath60 as follows .",
    "we also state their basic properties , but leave the simple proofs to section [ sec : transformations ] to preserve the flow of the introduction .    [",
    "def : tournament - to - triples ] for an -tournament @xmath7 , define @xmath61 to be the following ordered set of @xmath62 triples .",
    "each vertex @xmath63 of @xmath7 records the triple @xmath64 where @xmath65 denotes the length of the longest xyz - colored path _ ending _ at @xmath63 .",
    "is colored x , at least two of the sets , , contain x , so @xmath66 strictly increases in at least two coordinates . ]",
    "[ prop : reduction - by - record ] transformation @xmath44 sends an -tournament @xmath7 to an ordered set of triples @xmath67 with @xmath68 and @xmath69 .    [ def : triples - to - tournament ]    for an ordered set @xmath16 , define @xmath70 to be the following -tournament on @xmath71 vertices . for every @xmath46 , edge @xmath72",
    "is assigned a color via @xmath73 , @xmath74 , @xmath75 , @xmath76 where a @xmath77 indicates a _ strict _ coordinate increase , while a @xmath78 indicates a _ weak _ coordinate decrease .",
    "suppose one perturbs @xmath3 to @xmath79 via the map @xmath80 . for small @xmath81 ,",
    "the set @xmath79 lies in coordinate - general position , and @xmath82 .",
    "[ prop : reduction - by - color ]    transformation @xmath26 sends an ordered set @xmath16 to an -tournament @xmath7 with @xmath83 and @xmath84 .",
    "[ def : dual ] given a tournament @xmath7 , define @xmath85 to be the tournament with all edge directions flipped , but edge colors preserved .",
    "theorem [ thm : main - equivalences ] relies on the following basic observations .",
    "let @xmath7 be an -tournament .",
    "if the ordered set @xmath86 satisfies question [ ques : ramsey - for - ordered - triples ] , then tournament @xmath7 satisfies question [ ques : ramsey - for - rgbk - tournaments ] .",
    "proposition [ prop : reduction - by - record ] implies @xmath69 , so the bound @xmath56 is equivalent to @xmath51 .",
    "let @xmath67 be an ordered set .",
    "if the -tournament @xmath87 satisfies question [ ques : ramsey - for - rgbk - tournaments ] , then set @xmath3 satisfies question [ ques : ramsey - for - ordered - triples ] .",
    "proposition [ prop : reduction - by - color ] implies @xmath84 , so the bound @xmath51 is equivalent to @xmath56 .",
    "let @xmath7 be an -tournament .",
    "if @xmath85 satisfies question [ ques : ramsey - for - rgbk - tournaments ] , then so does @xmath7 .",
    "paths are merely reversed under @xmath60 , so their lengths are preserved .    for the statement of theorem [ thm : main - theorem ]",
    "it will help to have the following definition .",
    "[ def : canonically - has - property - p ] let @xmath7 be an -tournament .",
    "say @xmath7 _ canonically - almost has _",
    "property @xmath88 if one can apply some finite composition of the maps @xmath89 and @xmath60 to @xmath7 to obtain a tournament @xmath90 with property @xmath88 .",
    "the reduction tools above tell us that an -tournament @xmath7 satisfies question [ ques : ramsey - for - rgbk - tournaments ] if and only if @xmath7 _ canonically - almost _ satisfies question [ ques : ramsey - for - rgbk - tournaments ] .",
    "furthermore , one has the following helpful stabilization result , which motivates definition [ def : canonical - fixed - points ] ( canonical tournaments ) below .",
    "[ prop : stabilization - to - canonical - tournaments ] an -tournament stabilizes after finitely many applications of @xmath89 and @xmath91 .    by proposition [ prop : color - record - rgk - stability ] , each transformation weakly increases the number of -edges , with equality if and only if the the tournament is fixed under the transformation .",
    "so the process stabilizes after repeatedly applying the two transformations at most as many times as the number of edges of @xmath7 .",
    "we single out the following two classes of tournaments obtained through various compositions of @xmath26 , @xmath44 , and @xmath60 .",
    "[ def : geometric - tournament ]    call an -tournament _ geometric _ if it lies in the image of @xmath26 .    by proposition [ prop :",
    "image - of - color - is - blah - transitive ] , a tournament is geometric if and only if is transitive in each of the color classes , , , , , ( and intersections thereof ) .",
    "geometric tournaments are also _ interval - connected _ ( proposition - definition [ propdef : rgbk - interval - connected ] ) in each primary color .",
    "[ ques : ramsey - for - geometric - rgbk - tournaments ]    must a _ geometric _",
    "-tournament @xmath7 satisfy @xmath56 ?    [ def : canonical - fixed - points ]    call an -tournament _ canonical _ if it is fixed under both @xmath89 and @xmath91 .",
    "canonical tournaments are certainly geometric",
    ". see appendix [ sec : structure - of - canonical - tournaments ] for a full classification of canonical tournaments ( theorem [ thm : classification - of - canonical - tournaments ] ) and other structural properties .",
    "corollaries [ cor : every - vertex - belongs - to - max - paths ] and [ cor : k - saturation - of - canonical ] give some justification for the label `` canonical '' .",
    "[ ques : ramsey - for - canonical - rgbk - tournaments ]    must a _ canonical _ -tournament @xmath7 satisfy @xmath56 ?",
    "we start with a classical definition arising from gallai s classification of rainbow - triangle free _ undirected _ complete graphs @xcite .",
    "we phrase it in a slightly nonstandard way amenable to the `` -blind generalizations '' below .",
    "[ def : gallai - in - avoiding - formulation ] define the class of _ gallai _ -colored undirected complete graphs recursively as follows .    1 .",
    "the single - vertex graph is gallai .",
    "2 .   suppose @xmath92 has a _ base decomposition _",
    ", meaning a vertex - partition into @xmath93 _ strictly smaller nonempty _ gallai graphs @xmath94 , where the edges between two distinct blocks @xmath95 use _ at most one _ of the colors , , , and the edges between the various blocks @xmath94 _ in total _ use _ at most two _ of the colors , , .",
    "then @xmath92 is gallai .    furthermore , given a gallai graph ,",
    "call any such recursive sequence of vertex - partitions a _ ( recursive )",
    "gallai decomposition_.    we now explicitly recall the original motivation for the previous definition .    [ thm : gallai - original - rgb - colored ]    let @xmath92 be a rainbow - triangle free -colored undirected complete graph",
    ". then @xmath92 is gallai .",
    "in fact , @xmath92 is always disconnected in one of , , , and if @xmath92 is disconnected in color , then the -connected components form a base decomposition of @xmath92 .",
    "see gyrfs  simonyi ( * ? ? ?",
    "* theorem a ) for a clearer isolation of the result .",
    "we now give four natural related notions , which define the context of theorem [ thm : main - theorem ] .",
    "[ def : undirected - gallai - rgbk ] call an -tournament _ undirected - gallai _ if it has an _ undirected , -blind _ gallai decomposition .",
    "this is defined recursively , word - for - word as in definition [ def : gallai - in - avoiding - formulation ] , without additional conditions on -edges .",
    "[ propdef : undirected - gallai - vs - rainbow - triangle - free ]    an -tournament @xmath7 is undirected - gallai if and only if it is _ morally rainbow - triangle free _ , meaning that one can assign each -edge of @xmath7 a new primary color among to get a rainbow - triangle free tournament @xmath90 .    a morally rainbow - triangle free tournament @xmath7 is automatically undirected - gallai by theorem [ thm : gallai - original - rgb - colored ] and the -blindness of definition [ def : undirected - gallai - rgbk ] .",
    "conversely , one proves recursively that an undirected - gallai tournament is morally rainbow - triangle free : note that at each level , the base decomposition is , modulo -edges , the blowup of a 2-colored graph .    sometimes it is more natural to require direction , as follows . but the reader can already safely skip to theorems [ thm : main - equivalences ] and [ thm : main - theorem ] below for our concrete results .",
    "[ def : directed - gallai - rgbk ] call an -tournament _ directed - gallai _ if it has a _ directed , -blind _ gallai decomposition , meaning an undirected , -blind decomposition where the base decomposition @xmath96 at each step must be _ directed _ , in the sense that for @xmath46 , the vertices in @xmath97 are all directed towards the vertices in @xmath98 .    a transitive rainbow - triangle with edges , , is directed - gallai ( and undirected - gallai ) ,",
    "while a transitive rainbow - triangle with edges , , is not directed - gallai ( nor undirected - gallai ) .",
    "[ def : morally - k - free - rgbk ] call an -tournament @xmath7 _ morally -free _ if one can assign each -edge of @xmath7 a new _ primary color _ among to get a -free _ geometric _ tournament @xmath90 .    by proposition",
    "[ prop : image - of - color - is - blah - transitive ] , a -free tournament is geometric if and only if it is transitive in all color combinations , or equivalently if it is single - color - transitive and rainbow - triangle free . for such tournaments we may apply theorem [ thm : gallai - original - rgb - colored ] as follows .    [",
    "prop : geometric - k - free - is - directed - gallai ]    any -free geometric -tournament is directed - gallai .",
    "since the tournament @xmath7 is -colored and rainbow - triangle free , it has an a priori _ undirected , -blind _ decomposition by theorem [ thm : gallai - original - rgb - colored ] .",
    "however , suppose for every base decomposition in the recursion we use connected components in a disconnected color , as allowed by the second clause of theorem [ thm : gallai - original - rgb - colored ] .",
    "then we in fact obtain a _ directed , -blind _",
    "decomposition by the interval - connectivity observation of proposition - definition [ propdef : rgbk - interval - connected ] .",
    "we now relate the previous three definitions .",
    "[ prop : morally - k - free - implies - directed - gallai ] if an -tournament is directed - gallai , it is undirected - gallai . if it is morally -free , it is directed - gallai and undirected - gallai .",
    "a directed decomposition is automatically an undirected decomposition as well .    by definition [ def : morally - k - free - rgbk ] ,",
    "take a -free geometric tournament @xmath90 obtained from a morally -free tournament @xmath7 by changing each -edge to a primary color . by proposition [ prop : geometric - k - free - is - directed - gallai ]",
    ", @xmath90 has a directed , -blind gallai decomposition .",
    "by -blindness it is in fact a directed , -blind gallai decomposition for @xmath7 as well .",
    "[ thm : main - equivalences ]    questions [ ques : ramsey - for - general - tournaments ] , [ ques : l^0-ramsey - for - rgb - tournaments ] , [ ques : ramsey - for - ordered - triples ] , [ ques : original - triples - problem ] , [ ques : ramsey - for - rgbk - tournaments ] , [ ques : ramsey - for - geometric - rgbk - tournaments ] and [ ques : ramsey - for - canonical - rgbk - tournaments ] are all equivalent .",
    "reduction tools @xmath26 and @xmath44 show that question [ ques : ramsey - for - ordered - triples ] ( ramsey for triples ) is equivalent to question [ ques : ramsey - for - rgbk - tournaments ] ( ramsey for tournaments ) .",
    "an affirmative answer to question [ ques : ramsey - for - ordered - triples ] would directly imply the same for question [ ques : original - triples - problem ] ( bounding triples ) .",
    "conversely , an affirmative answer to the latter would imply the same for the former , by using @xmath99 , which sends an ordered set @xmath16 to an `` efficiently - packed '' ordered set @xmath100\\times[\\ell_y]\\times[\\ell_z]$ ] .",
    "it remains to show equivalence of the tournament questions .",
    "we already showed questions [ ques : ramsey - for - general - tournaments ] and [ ques : l^0-ramsey - for - rgb - tournaments ] are equivalent .",
    "question [ ques : l^0-ramsey - for - rgb - tournaments ] is equivalent to the superficially more general question [ ques : ramsey - for - rgbk - tournaments ] , since changing s to primary colors can not increase 1-color - avoiding path lengths , locally or globally .",
    "finally , question [ ques : ramsey - for - canonical - rgbk - tournaments ] is equivalent to the ostensibly more general questions [ ques : ramsey - for - rgbk - tournaments ] and [ ques : ramsey - for - geometric - rgbk - tournaments ] .",
    "this immediately follows from proposition [ prop : stabilization - to - canonical - tournaments ] , which says that every -tournament is canonically - almost ( definition [ def : canonically - has - property - p ] ) canonical .    in view of theorem [ thm : main - equivalences ] reducing question [ ques : ramsey - for - general - tournaments ] to question [ ques : ramsey - for - canonical - rgbk - tournaments ] , our following ( main ) theorem is in some sense most immediately useful in the case that @xmath7 is canonical ( definition [ def : canonical - fixed - points ] ) .",
    "however , we state it in natural generality for convenience of the reader .",
    "[ thm : main - theorem ]    let @xmath7 be an -tournament . if @xmath7 is canonically - almost morally -free , canonically - almost directed - gallai , canonically - almost undirected - gallai , _ or _ canonically - almost morally rainbow - triangle free , then @xmath7 satisfies question [ ques : ramsey - for - rgbk - tournaments ] .    by proposition [ prop : morally - k - free - implies - directed - gallai ] and proposition - definition [ propdef : undirected - gallai - vs - rainbow - triangle - free ] , we immediately reduce to the case of rainbow - triangle free tournaments .",
    "the result now follows by ( * ? ? ?",
    "* theorem 1.6 ) .    if one starts with a geometric or even canonical tournament , and replaces each with ( say ) to get a merged color , then one has transitivity in all combinations of , , _ except _ so not quite a -free geometric tournament in general .",
    "[ ex : canonical - difficulties ]    not all canonical tournaments are morally -free , directed - gallai , undirected - gallai , or morally rainbow - triangle free . to see this",
    ", it suffices by proposition [ prop : morally - k - free - implies - directed - gallai ] and proposition - definition [ propdef : undirected - gallai - vs - rainbow - triangle - free ] to find canonical tournaments that are not undirected - gallai . in section [ sec : python - code ] we give an 8-vertex example found by random search .",
    "it may still be possible to completely reduce question [ ques : ramsey - for - general - tournaments ] to the situation of theorem [ thm : main - theorem ] , using other transformations .",
    "for example , the set of canonical tournaments is _ not _ stable under lexicographic product , even though the set of geometric tournaments is .",
    "for the definition and statement of basic properties , see definition [ def : tournament - to - triples ] and proposition [ prop : reduction - by - record ] above .    by definition ,",
    "@xmath3 has @xmath62 triples .",
    "now consider any @xmath33-increasing sequence of @xmath101 triples @xmath102 in @xmath3 .",
    "then @xmath103 since triples in @xmath3 have positive integer coordinates .",
    "but by definition , @xmath104 simply records the length of the longest -path ending at the @xmath105th vertex of @xmath7 . in particular ,",
    "@xmath106 , so @xmath107 .",
    "conversely , let @xmath108 be an -path in @xmath7 of length @xmath101 .",
    "then @xmath109 ( because any -path ending at @xmath110 can be extended via the -edge @xmath111 for @xmath112 ) , so @xmath113 is an @xmath33-increasing sequence of @xmath101 triples .",
    "thus @xmath114 .",
    "we conclude that @xmath115 . similarly , @xmath116 and @xmath117 .",
    "the equality is a little subtle .",
    "it is certainly not true that @xmath118 is an -path in @xmath7 whenever @xmath102 is an @xmath33-increasing sequence of triples in @xmath3 . for a more striking instance of the subtlety of the @xmath44 map ,",
    "see proposition [ prop : color - record - rgk - stability ] below .      for the definition and statement of basic properties ,",
    "see definition [ def : triples - to - tournament ] and proposition [ prop : reduction - by - color ] above .    by definition , @xmath7 has @xmath71 vertices .",
    "furthermore , by definition , an edge @xmath119 is -colored if and only if @xmath47 has strictly positive @xmath33-coordinate .",
    "so a directed path @xmath118 in @xmath7 is -colored if and only if the sequence of triples @xmath102 in @xmath3 is @xmath33-increasing .",
    "thus @xmath120 . similarly , @xmath121 and @xmath122",
    "we now classify geometric -tournaments ( definition [ def : geometric - tournament ] ) .",
    "what really matters for theorem [ thm : main - theorem ] is the easy ( only if ) direction , but we have included both directions for conceptual clarity .",
    "[ prop : image - of - color - is - blah - transitive ] an -tournament is geometric if and only if it is transitive in each of the color classes , , , , , .    if @xmath7 is geometric , then it is easy to check each of the transitivity conditions , because an -edge , for instance , is equivalent to a weak @xmath123-decrease , whereas a -edge is equivalent to a strict @xmath123-increase .",
    "conversely , suppose an abstract tournament @xmath7 satisfies the transitivity conditions .",
    "then we may construct @xmath124 inductively . indeed , once @xmath125 have been constructed , transitivity in and allows @xmath126 to either be sandwiched between some two unique neighboring terms of @xmath125 , or else uniquely placed at one of the two ends .",
    "this completes the induction .",
    "after analogously creating @xmath127 and @xmath128 , the resulting list of triples @xmath129 must be ordered , and it maps to @xmath7 under @xmath26 . to see this",
    ", note that for @xmath46 , the difference - type of @xmath47 matches the color of @xmath130 in @xmath7 on each of the coarse comparisons vs. ( @xmath33-coordinate ) , vs. ( @xmath131-coordinate ) , and vs. ( @xmath123-coordinate ) , all by construction .",
    "so they exactly match .    in the converse ,",
    "all that matters is the order - isomorphism classes of ( i.e. permutations corresponding to ) the sequences @xmath124 ; @xmath127 ; and @xmath128 .",
    "concretely , @xmath7 is geometric if and only if it is transitive in each of , , , , and every rainbow - triangle has color on the `` long '' edge .",
    "one may also think of transitivity in and as follows : if @xmath132 with @xmath133 colored , then certainly @xmath134 is also .",
    "but a partial converse holds as well : if @xmath134 is , then one of @xmath133 must be .",
    "we can use the partial converse as follows .",
    "[ propdef : rgbk - interval - connected ]    let @xmath7 be a geometric -tournament",
    ". then @xmath7 is _ interval - connected _ in each color class @xmath135 ( and unions thereof ) , meaning that every connected component in class consists of a full interval of indices @xmath136 $ ] .    by transitivity in the complement @xmath137 , we know that for any -colored edge @xmath119 , the interval @xmath136 $ ] is -connected : in fact , each @xmath138 is directly -connected to one of the endpoints @xmath139 .",
    "but then for any _ undirected _",
    "-path @xmath140 ( with @xmath141 ) , the union of the ( undirected ) intervals @xmath142,\\dots,[i_{\\ell-1},i_\\ell]$ ] must be -connected as well . by the intermediate value theorem",
    ", this union of intervals contains the ( undirected ) interval @xmath143 $ ] .",
    "we conclude that any -component is a full interval : one can take @xmath144 to be the smallest vertex of the component , and @xmath105 to be the largest .",
    "see definition [ def : dual ] above .",
    "[ def : lex - product - tournaments ]    given -tournaments @xmath145 , define the _ lexicographic product _",
    "@xmath146 to be the -tournament on lexicographically - ordered vertices @xmath147 such that the edge @xmath148 inherits the color of @xmath149 unless @xmath150 , in which case it inherits the color of @xmath151 .",
    "this can also be interpreted in terms of blowups , where one places a copy of @xmath152 at each vertex of @xmath153 .",
    "we document the following basic properties of lexicographic products of tournaments .",
    "[ prop : lex - product - tournament - properties ]    the lexicographic product of tournaments is associative but noncommutative .",
    "in particular , powers are uniquely defined .",
    "also , for tournaments @xmath145 one has @xmath154 , and @xmath155 for any color class .",
    "[ def : lex - product - triples ]    given arbitrary sets of triples @xmath156 _ endowed with embeddings _",
    "@xmath157\\times[m_1]\\times[n_1]$ ] and @xmath158\\times[m_2]\\times[n_2]$ ] , define the _ lexicographic product _ @xmath159 to be the embedded set @xmath160\\times [ m_1m_2]\\times [ n_1n_2]$ ] consisting of triples of the form @xmath161 , with @xmath162 and @xmath163 .",
    "[ prop : lex - product - triple - properties ]    the lexicographic product of _ embedded _ sets of triples is associative but noncommutative . in particular ,",
    "powers are uniquely defined .",
    "also , for embedded sets of triples @xmath156 one has @xmath164 . if @xmath156 are furthermore slice - increasing ( resp . ordered ) , then @xmath159 is slice - increasing ( resp .",
    "ordered ) as well .",
    "slice - increasing sets are actually stable under a less canonical generalization of definition [ def : lex - product - triples ] .",
    "indeed , given slice - increasing sets @xmath165 , let @xmath166 be coordinate - wise strictly increasing functions . suppose that @xmath167 are _ injective _ on @xmath168 , respectively , where for @xmath169 , we define @xmath170 ( resp .",
    "@xmath171 ; @xmath172 ) to be the coordinate projection of @xmath173 onto the @xmath33-axis ( resp . @xmath131-axis ; @xmath123-axis ) .",
    "consider the image @xmath3 of the map @xmath174 given by @xmath175 . then @xmath3 is slice - increasing .",
    "it will be convenient to make the following definition .",
    "[ def : rbk - tournament - and - geometric ]    an _",
    "-tournament _ is a -free -tournament .",
    "call an -tournament _ geometric _ if it is geometric as an -tournament , or equivalently if it is transitive in each of the color classes , , , .",
    "the following _ weighting idea _ is implicit in the work of wagner @xcite ( and was also used in v1 of the present paper ) , but for the reader s convenience we state and prove it explicitly .",
    "[ thm : weighted - erdos - szekeres ]    let @xmath176 be an -tournament ( resp . geometric -tournament ) on @xmath177 vertices .",
    "consider any _ nonnegative _ reals @xmath178 and @xmath179 .",
    "let @xmath180 and @xmath181 , where @xmath182 and @xmath183 run over paths ( resp .",
    "cliques ) in @xmath176 of color and , respectively . then @xmath184    for @xmath185 we recover the unweighted version",
    ".    first , throw out all vertices @xmath186 with @xmath187 .",
    "now by scaling and rational approximation , reduce to the case of distinct _ positive integer _",
    "weights @xmath188 . in this case",
    "we can give a combinatorial reformulation .",
    "let @xmath189 be the -tournament ( resp .",
    "geometric -tournament ) on @xmath190 vertices formed by blowing up vertex @xmath191 into the standard lexicographic tournament on @xmath192\\times[r_i]$ ] , explicitly with the following coloring : the directed edge @xmath193 is colored if @xmath194 , and otherwise ( if @xmath195 but @xmath196 ) .",
    "then we merely wish to show that the product of the respective lengths @xmath197 and @xmath198 of the longest - and - paths of @xmath189 is at least @xmath199 .",
    "this immediately follows from the usual erds  szekeres ( or more precisely , the -tournaments generalization , proven as usual using @xmath44 for color classes and ) .      at the end of his review (",
    "* section 12 ) , steele mentions a `` question posed by erds(1973 ) for which there seems to have been no progress '' :    given @xmath200 distinct real numbers determine @xmath201 over all subsets @xmath202 $ ] of indices @xmath203 such that @xmath204 is monotone .",
    "[ cor : application - to - erdos - problem - steele ]    in the above situation , @xmath205 , if we use the convention that the empty sum is @xmath206 .",
    "construct the usual transitive -tournament on vertices @xmath207 , with @xmath53 colored ( say ) if @xmath208 , and if @xmath209 .",
    "if @xmath177 maximizes @xmath210 , then @xmath211 for all @xmath212 , so @xmath213 by theorem [ thm : weighted - erdos - szekeres ] , as desired .      in this section , we briefly discuss the geometric -free case of theorem [ thm : main - theorem ] .",
    "it has clean geometric interpretations and connections to other problems .",
    "for instance , the result has a _ local - to - global _ interpretation : suppose every triangle avoids one of the three colors .",
    "then by the geometric transitivity properties , there is a @xmath214-vertex sub - tournament  not just a path  avoiding one of the three colors ( cf .",
    "ramsey discussion in section [ subsec : ramsey - and - szabo - tardos ] ) .",
    "observe the following `` -flat '' tight construction for question [ ques : ramsey - for - ordered - triples ] .",
    "start with the list @xmath215 and take the lexicographic product with its two cyclic rotations , in any order .",
    "( it is easy to check that the product is -free under @xmath26 . )",
    "the product may be embedded in the `` -flat '' plane @xmath216 .",
    "this can be viewed as a `` -flat '' version of the usual equality case for question [ ques : original - triples - problem ] , where one starts with the list @xmath217 instead , and the product is no longer -free under @xmath26 .",
    "let @xmath218 ^ 3 $ ] be a sequence of triples such that for @xmath46 , the triples @xmath219 and @xmath220 strictly increase in two coordinates _ and weakly decrease in the third coordinate_. then theorem [ thm : main - theorem ] only directly gives a bound of @xmath221 .",
    "however , using the fact that @xmath3 is constrained to @xmath222 ^ 3 $ ] , one can in fact get a linear bound : see proposition [ prop : linear - bound - on - k - free - slice - increasing - sets ] below .",
    "in this section , we explore various geometric approaches to bounding the size of a constrained slice - increasing set ( questions [ ques : bounding - slice - increasing - sets ] and [ ques : bounding - unequal - slice - increasing - sets ] ) . although for the original transitive tournament problem one really cares about ordered sets ( question [ ques : original - triples - problem ] ) , most of the ideas below apply more generally to slice - increasing sets .",
    "we will try to clarify when we believe one may be able to truly leverage the ordering , such as in section [ subsec : l^2-slice - counts - approach ] . at a higher level , note that the reduction in theorem [ thm : main - equivalences ] only applies to ordered triples and their associated tournaments ; for geometric facts related to the reduction , we direct the interested reader to theorem [ thm : classification - of - color - record - fixed - points ] , theorem [ thm : classification - of - canonical - tournaments ] , and corollary [ cor : min - above , max - below ] .      in section [ subsec : grids - intro ]",
    "we introduce two - dimensional `` grid views '' ( definition [ def : projection - and - grid - view - of - triples ] ) for visualizing sets @xmath223 , to be used throughout section [ sec : geometry - approaches ] . in section",
    "[ subsec : ramsey - and - szabo - tardos ] we give a ramsey perspective to question [ ques : bounding - slice - increasing - sets ] , and show ( in theorem [ thm : szabo - tardos - transfers - to - slice - increasing - bounds ] ) that any nontrivial bound on a problem of szaband tardos would transfer over to the problem of bounding slice - increasing sets . in section [ subsec : l^2-slice - counts - approach ] we suggest a natural @xmath4-question on slice - counts with vaguely possible connections to representation theory ; again , any nontrivial bound would transfer over to the problem of bounding slice - increasing sets . in section [ subsec : joints - problem - inspiration ] we observe a surprising overlap between tight examples for question [ ques : bounding - slice - increasing - sets ] and the joints problem ( * ? ? ?",
    "* theorem 1.1 ) .",
    "when it would take us too far astray to discuss a given approach in too much greater detail , we will refer accordingly to appendix [ sec : slice - increasing - sets ] for the interested reader .",
    "the `` grid view '' hinges on ( * ? ? ?",
    "* observation 2.1 ) that no two triples in a slice - increasing set agree in exactly two coordinates .",
    "[ def : projection - and - grid - view - of - triples ]    let @xmath223 be any set of triples for which no two triples agree in _ exactly _ two coordinates .",
    "let @xmath224 denote the @xmath225-plane _ projection _ of @xmath3 , so that @xmath226 is injective . to obtain the _",
    "@xmath225-grid view _ of @xmath3 ,",
    "we leave a square @xmath227 _ empty _ or _ unlabeled _ if @xmath228 , and otherwise fill it in with the unique _ label _ @xmath229 such that @xmath230 .",
    "one can do the same for the @xmath231-plane and @xmath232-plane .    before continuing",
    ", it will help to reformulate the ordered induced matching language of loh ( * ? ? ?",
    "* lemma 2.2 and observation 2.2 ) .",
    "note that @xmath33-slices and @xmath131-slices of @xmath223 correspond to the rows and columns of the @xmath225-grid view , respectively , while the @xmath123-slices correspond to labeled squares with a given label .",
    "[ obs : basic - grid - observations ]    let @xmath223 be a slice - increasing ( or ordered ) set .",
    "then in the @xmath225-grid view of @xmath3 , any fixed row or column has increasing labels , and any fixed label @xmath123 appears in coordinate - wise increasing squares @xmath233 .",
    "the `` @xmath123-corners '' @xmath234 and @xmath235 are empty for each pair @xmath46 ( * ? ? ?",
    "* lemma 2.2 ) .",
    "we first show that any `` flat '' subset of a _ constrained _ slice - increasing subset is small . with care , one could reformulate this section in terms of _ ordered surfaces _ : see section [ subsec : ordered - surfaces - appendix ] .",
    "[ prop : primary - ordered - surfaces - are - small ]    if a slice - increasing set @xmath19 ^ 3 $ ] has a subset @xmath236 _ avoiding at least one of the difference - types @xmath237 _ , then @xmath238 .",
    "suppose @xmath236 avoids @xmath239 .",
    "since @xmath236 is slice - increasing , it contains at most a single point on every @xmath123-slice , so @xmath238 .    as observed in section [ subsubsec : k - flatness ] , a naive application of theorem [ thm : main - theorem ] only shows that a -free geometric tournament @xmath240 with @xmath241 ^ 3 $ ] has @xmath242 .",
    "but we can do much better , not only for ordered sets , but for any slice - increasing set .",
    "[ prop : linear - bound - on - k - free - slice - increasing - sets ]    if a slice - increasing set @xmath19 ^ 3 $ ] has a subset @xmath236 _ avoiding difference - type @xmath243 _ , then @xmath244 .    without loss of generality @xmath245 , and",
    "use the @xmath225-grid view .",
    "purge rows with at most 1 point to get a new slice - increasing set @xmath79 of size at least @xmath246 .",
    "if column @xmath33 of @xmath79 has 3 points @xmath247 , @xmath248 , @xmath249 in increasing order , then row @xmath250 can not contain any other points of @xmath3 : a point @xmath251 with @xmath252 would create a @xmath243-type difference directed from @xmath253 , while a point @xmath251 with @xmath254 would create a @xmath243-type difference directed towards @xmath255 .",
    "thus every column of @xmath79 in fact has at most 2 points , so @xmath256 and we conclude @xmath257 .      in @xcite",
    ", szaband tardos asked for the asymptotics of @xmath258 , the largest number @xmath177 such that any set @xmath16 of size @xmath0 has a subset @xmath236 of size @xmath177 that avoids at least one of the four _ strict _ difference - types @xmath259 .    strictly speaking",
    ", they also have a requirement that all of the @xmath33-coordinates are distinct .",
    "however , by slightly perturbing the points of @xmath3 into coordinate - general position , one can only make it harder to find such @xmath236 , because _ strict _ difference - types are stable under small perturbation .",
    "so both versions of the problem are equivalent to the version with @xmath3 required to be in coordinate - general position .    there are arbitrarily large @xmath0 with @xmath260 , for some absolute constant @xmath261 .",
    "the examples @xmath3 achieving this bound can be taken in coordinate - general position .",
    "in particular , it is _ not _ true that @xmath262 for all @xmath0 , as one might initially hope .",
    "however , as szaband tardos suggest ( * ? ? ?",
    "* section 4 , remark 3 ) , it still seems likely that @xmath258 is substantially larger than the trivial bound @xmath6 .",
    "we now show that such a nontrivial lower bound would give nontrivial upper bounds on slice - increasing sets .",
    "[ thm : szabo - tardos - transfers - to - slice - increasing - bounds ]    let @xmath19 ^ 3 $ ] be a slice - increasing set . then @xmath263 .",
    "in particular , if there exists @xmath264 such that @xmath265 for all @xmath0 , then @xmath266 .",
    "perturb @xmath3 to @xmath267 via a real linear map @xmath268 for some _ positive _ @xmath269 such that @xmath270 is invertible .",
    "observe that @xmath270 converts difference - types @xmath271 into type @xmath272 .",
    "take a subset @xmath273 of @xmath79 of size @xmath274 , with inverse @xmath236 , such that @xmath273 avoids one of the four possible strict difference - types .    *",
    "if @xmath273 avoids @xmath243 , then so does @xmath236 .",
    "so in this case , proposition [ prop : linear - bound - on - k - free - slice - increasing - sets ] gives @xmath275 , as desired .",
    "* otherwise , by cyclic symmetry , without loss of generality suppose @xmath273 avoids @xmath272 .",
    "we claim that @xmath236 avoids @xmath239 . indeed ,",
    "suppose @xmath276 and @xmath277 lie in @xmath236 such that @xmath278 ; @xmath279 ; and @xmath280 .",
    "then after perturbation , @xmath281 and @xmath282 still .",
    "if @xmath283 , then similarly @xmath284 ; but @xmath284 even if @xmath285 , by the observation that @xmath270 converts @xmath271 differences into @xmath272 differences .",
    "so regardless , the perturbed difference is type @xmath272 , contradicting the assumption on @xmath273 .",
    "so indeed @xmath236 avoids @xmath239 , and @xmath286 by proposition [ prop : primary - ordered - surfaces - are - small ] .",
    "this shows @xmath263 .",
    "now suppose @xmath287 uniformly for some exponent @xmath288 .",
    "then @xmath289 , so @xmath290 for all @xmath291 and @xmath3 . to remove the constant in front",
    ", we consider lexicographic `` powers '' of @xmath3 , as in remark [ rmk : tensor - power - trick ] .",
    "we give one possible heuristic for why the szab ",
    "tardos problem can not get the expected @xmath21 bound on the slice - increasing sets problem . consider the perturbation @xmath270 used in the proof of theorem [ thm : szabo - tardos - transfers - to - slice - increasing - bounds ] . if @xmath3 is _ ordered _ , then @xmath292 has the same ordering  in fact we have an equality of geometric tournaments , @xmath293 .",
    "if we properly extend @xmath26 to slice - increasing sets , then we instead have an equality of _ non - transitive _ tournaments . if one could prove that every @xmath0-vertex non - transitive 3-colored tournament has a simple directed 1-color - avoiding path of length @xmath1 , then the slice - increasing problem would be completely resolved .",
    "however , if one applies szab  tardos to @xmath292 , then one is looking for 1-color - avoiding _ cliques _ in the _ non - transitive _ 3-colored tournament @xmath293 .",
    "one can show every cyclic triangle in @xmath70 is rainbow with edges @xmath294 in some order , so 1-color - avoiding cliques in @xmath70 are also 1-color - avoiding paths .",
    "but a priori , 1-color - avoiding paths need not be 1-color - avoiding cliques .",
    "( it may be that they are when @xmath71 is far from general position , but that would require nontrivial proof . )      the previous remark suggests that for the slice - increasing problem itself , it may help to do one of the following .",
    "* from the ramsey perspective , try not to find 1-color - avoiding cliques , but something closer to paths .",
    "we do not know of a simple geometric way to think about paths without going through the transformation machinery of section [ sec : transformations ] .",
    "furthermore , some additional complications arise for non - transitive tournaments , such as the need to avoid cycles when discussing paths .",
    "* use the fact that when @xmath295 , the set @xmath3 is _ far from general position_the coordinate - slices in a given orientation contain at least @xmath296 points on average . as a first example",
    ", one can extend the proof of proposition [ prop : linear - bound - on - k - free - slice - increasing - sets ] to _ count _ the number of @xmath243-type differences ( say ) appearing in a large slice - increasing set . for more on the pair - counting approach ,",
    "see section [ subsec : edge - counts - appendix ] .      by observation [ obs : basic - grid - observations ] , if some @xmath123-slice has @xmath297 points , then in the @xmath225-grid view , the corresponding @xmath123-labels occupy the main diagonal of an otherwise empty @xmath298 grid . but the known tight examples @xmath19",
    "^ 3 $ ] for question [ ques : bounding - slice - increasing - sets ] have the same number of points @xmath299 on each slice , so on average , these @xmath298 grids of @xmath300 points will cover each square of @xmath222 ^ 2 $ ] exactly once .",
    "this motivates the following @xmath4 questions .",
    "positive progress on any of them would lead to positive progress on the original slice - increasing questions , by cauchy ",
    "schwarz .",
    "let @xmath19 ^ 3 $ ] be a slice - increasing set",
    ". for @xmath301 $ ] , let @xmath302 denote the size of the @xmath123-slice @xmath303 .",
    "is @xmath304 always at most @xmath305 ?",
    "whenever @xmath306 , one has @xmath307 by cauchy ",
    "however , there are arbitrarily large slice - increasing examples with @xmath308 , for some _ exponent _ @xmath309 . to see this",
    ", it suffices  by the lexicographic `` powers '' trick in remark [ rmk : tensor - power - trick]to find a single slice - increasing example with @xmath310 .",
    "the smallest we have been able to find is the following set @xmath311\\times [ 6]\\times [ 4]$ ] , shown in the @xmath225-grid view . @xmath312 here the list @xmath313 has sum of squares @xmath314 .",
    "this example was constructed by `` doubling '' a `` tight '' example for @xmath315 , and then inserting in one more number in the bottom - right fourth of the grid .",
    "we have not been able to find similar ordered examples , due to the observation below .",
    "so the following two questions are still open .",
    "a positive answer to either would completely resolve the original ordered problems .",
    "let @xmath19 ^ 3 $ ] be an ordered set .",
    "for @xmath301 $ ] , let @xmath302 denote the size of the @xmath123-slice @xmath303 .",
    "is @xmath304 always at most @xmath316 ?",
    "let @xmath86 for a canonical tournament @xmath7 . for @xmath317",
    "$ ] , let @xmath302 denote the size of the @xmath123-slice @xmath303 . is @xmath304 always at most @xmath318 ?    consider the @xmath225-grid view of an ordered set @xmath223 .",
    "suppose for some @xmath319 , a pair of @xmath320-labeled squares share a `` corner '' with a pair of @xmath321-labeled squares .",
    "then by observation [ obs : basic - grid - observations ] they form a @xmath322 sub - grid as follows : @xmath323 ( here the marks the overlapping corner ) .",
    "furthermore , this @xmath322 sub - grid is empty except for the aforementioned @xmath324 labels .    without loss of generality",
    "assume the is on the lower - right corner of the sub - grid .",
    "since @xmath3 is slice - increasing , observation [ obs : basic - grid - observations ] already rules out all but the upper - left corner of the sub - grid . a slice - increasing set might have a label @xmath50 in that square , forcing @xmath325 .",
    "but such a @xmath50-square would violate the ordering condition , definition [ def : ordered - triples ] , with the red squares : specifically , the @xmath321 on the bottom - most row , and the @xmath320 on the right - most column .",
    "this intuitively seems powerful , but it is `` local '' so we have not figured out to use it well .      if @xmath304 is large , then as a first `` global '' step , there must be many -edges and -edges in @xmath70 : see section [ subsubsec : l^2-large - implies - edge - lower - bound ] .",
    "these questions bear some resemblance to the following foundational result from representation theory",
    ". it would be interesting if it could be applied to the problem at hand , since to our knowledge most applications of representation theory to extremal combinatorics are instead based on character theory .",
    "let @xmath326 be a finite - dimensional unital associative algebra over an algebraically closed field @xmath10 .",
    "then @xmath326 has finitely many irreducible representations @xmath327 up to isomorphism , and @xmath328 .",
    "example [ ex : standard - slice - increasing - tight - example - sumsets ] gives slice - increasing sets @xmath19 ^ 3 $ ] with @xmath21 points , defined by certain coordinate - wise strictly increasing functions @xmath29 .",
    "suppose @xmath29 are affine maps , e.g. @xmath329 in the most standard example",
    ". then each of the @xmath330 coordinate - slices of @xmath3 consists of collinear points lying on some _ increasing _ line @xmath101 .",
    "let @xmath331 be the set of these @xmath330 lines .",
    "then each point @xmath332 of @xmath3 lies on exactly three lines @xmath333 of @xmath331 , where @xmath334 ( resp .",
    "@xmath335 ; @xmath336 ) denotes the line of @xmath331 contained in the slice @xmath337 ( resp .",
    "@xmath338 ; @xmath339 ) .",
    "since @xmath333 are _ increasing _ on their respective slices , one easily checks that they are _ non - coplanar_.    in this example , each of the @xmath21 points of @xmath3 is a _ joint _ of @xmath331 : an intersection of three _ non - coplanar _ lines .",
    "but @xmath340 , so up to an absolute constant , @xmath331 is a tight example for the joints problem @xcite .",
    "one can say more , at the very least when @xmath341 . here",
    "there are three canonical ways to partition @xmath3 into @xmath299 planes with @xmath291 points each , and any two of these @xmath342 planes with different `` orientations '' ( cf .",
    "section [ subsec : ordered - surfaces - appendix ] ) intersect in one of the lines of @xmath331 .",
    "of course , for slice - increasing sets @xmath19 ^ 3 $ ] in general , the @xmath330 slices will not be lines , but instead _ monotone discrete curves_. so the polynomial method of @xcite ( or subsequent simplifications ) may not directly extend .",
    "however , one may be able to leverage the special positions of these monotone curves .",
    "also , perhaps by using lexicographic products ( definition [ def : lex - product - triples ] ) , one could reduce to a more polynomial - like situation .",
    "the first two authors thank their mentor , ben yang , for suggesting the problem , for suggesting the incidence geometry connections in sections [ subsec : l^2-slice - counts - approach ] and [ subsec : joints - problem - inspiration ] , and for countless invigorating discussions throughout the mit spur 2016 program .",
    "they also thank profs .",
    "david jerison and ankur moitra for their support and advice , the spur program for the opportunity to conduct this research project , and dr .",
    "slava gerovitch for directing the program .",
    "the second author also thanks po - shen loh for helpful lectures and classes throughout the years at the math olympiad summer program .",
    "we starting by linking to the following three python programs , in case they are helpful .    1 .",
    "https://repl.it/cc7k/61 generates random tournaments , implements the @xmath26 , @xmath44 , and @xmath60 maps , and has a function checking whether an arbitrary -tournament is undirected - gallai ( definition [ def : undirected - gallai - rgbk ] ) .",
    "2 .   given an -tournament of @xmath7 , https://repl.it/ccyp/25 tests whether random blowups of @xmath7 satisfy question [ ques : ramsey - for - rgbk - tournaments ] .",
    "3 .   https://repl.it/cci2/103 randomly tests questions [ ques : bounding - unequal - slice - increasing - sets ] and [ ques : original - triples - problem ] .",
    "by random search we were able to find a canonical -tournament @xmath87 on @xmath343 vertices that is _ not _ undirected - gallai ; the visualization here was created with mathematica .",
    "the ordered set @xmath86 is @xmath344 to check that @xmath7 is canonical , one can verify the properties of @xmath3 required by the characterization in theorem [ thm : classification - of - canonical - tournaments ] . to check that @xmath7 does not have an undirected , -blind gallai decomposition ,",
    "one notes that the blocks in a valid base decomposition must be unions of the connected components in whatever primary color the base graph avoids .",
    "in this section we study -tournaments in the image of @xmath89 , which turn out to coincide with the fixed points of @xmath89 .",
    "the main result is the following classification , which we use in appendix [ sec : structure - of - canonical - tournaments ] to classify canonical tournaments .",
    "[ thm : classification - of - color - record - fixed - points ]    let @xmath7 be an -tournament .",
    "the following are equivalent .    1 .",
    "@xmath7 is fixed under @xmath89 .",
    "@xmath7 lies in the image of @xmath89 .",
    "tournament @xmath7 is geometric . for each color class @xmath345 ,",
    "the -stratification ( definition [ def : c - stratification ] ) of @xmath7 is geometric ( definition [ def : stratification - is - geometric ] ) , and the -minimal vertices ( definition [ def : c - minimal - vertices ] ) form an increasing -colored path .",
    "4 .   @xmath87 for some _ reduced set _",
    "@xmath67 : an ordered set of triples such that for each coordinate @xmath346 and @xmath347 with @xmath50-coordinate @xmath348 , there exists a point @xmath349 with @xmath50-coordinate exactly @xmath350 , such that @xmath351 has at least two positive coordinates .",
    "furthermore , if @xmath7 satisfies any of these equivalent conditions , then the only @xmath3 that works in ( 4 ) is @xmath86 .",
    "\\(1 ) clearly implies ( 2 ) , while ( 2 ) implies ( 3 ) by propositions [ prop : stratification - class-1-properties ] ( stratification properties ) and [ prop : reduced - graph - structure ] ( reduced graph structure ) below .",
    "now take a tournament @xmath7 satisfying ( 3 ) .",
    "define @xmath352 .",
    "we first show that @xmath3 is a reduced set . without loss of generality",
    "let @xmath353 .",
    "consider the -stratification @xmath354 of @xmath7 . by definition , @xmath355 ( i.e. the longest -path of @xmath7 ending at @xmath356 has length @xmath357 )",
    "if and only if @xmath358 .",
    "so if @xmath359 with @xmath360 , then by considering @xmath361 ( where it is important that the stratification is geometric , and that the -minimal vertices form a -colored path ) , we see that the triple @xmath362 corresponding to @xmath363 has @xmath33-coordinate @xmath350 , and is strictly less than @xmath364 in at least two coordinates since @xmath365 in @xmath7 .",
    "so @xmath3 is reduced .",
    "also , if @xmath366 in @xmath7 is -colored ( say ) , then by the geometric -stratification , @xmath367 is _ not _ strictly less than @xmath368 , so @xmath53 can not become -colored under @xmath89 . by proposition [ prop : color - record - rgk - stability ]",
    ", we conclude that @xmath369 .",
    "so ( 3 ) implies ( 4 ) and ( 1 ) .",
    "finally , take a tournament @xmath87 satisfying ( 4 ) .",
    "to finish , it suffices to show that @xmath7 satisfies ( 2 ) .",
    "in fact , we claim that @xmath86 .",
    "take the @xmath10th triple @xmath359 .",
    "then the longest -path in @xmath7 ending at the @xmath10th vertex has length not only _ at most _",
    "@xmath126 ( since the @xmath33-coordinates of @xmath3 are all positive integers , and an -edge requires an @xmath33-increase in the triples of @xmath3 ) , but _ at least _",
    "@xmath126 , by the @xmath33-traceback property in the definition of reduced sets .",
    "thus @xmath86 , as desired .      for the reader s convenience , we start with an immediate corollary of proposition [ prop : image - of - color - is - blah - transitive ] .    [",
    "cor : blah - transitivity - stated - for - class-1-rgbk ]    an -tournament in the image of @xmath89 is transitive in each of the color classes , , , , , , , , , . as a corollary ,",
    "the notions of directed path and ( undirected ) clique coincide for each of these color classes .",
    "[ prop : color - record - rgk - stability ]    applying transformation @xmath370 to an -tournament has the effect of possibly changing some edges to color , but leaving all other edges unchanged .",
    "the same holds for the dual conjugate @xmath371 .",
    "let @xmath372 be our original transitive tournament and @xmath373 be the result of the transformation .",
    "let @xmath196 be two vertices of @xmath372 such that @xmath374 is -colored for some @xmath375 , say @xmath376 .",
    "let @xmath63 correspond to triple @xmath276 and @xmath377 to @xmath378 under transformation @xmath44 .",
    "we claim that @xmath379 and @xmath380 .",
    "this is simply because any -colored path of length @xmath131 ending at @xmath63 can be extended by @xmath374 to an -colored path of length @xmath381 ending at @xmath377 and similarly for -colored paths .",
    "therefore the edge @xmath382 has orientation @xmath383 or @xmath243 so in @xmath373 , the edge @xmath374 is -colored . thus if an edge is color in @xmath7 for some @xmath375 , then it is still color in @xmath90 .",
    "so an edge of color can only change to ( or stay the same ) , and an edge of color can not change .",
    "note that @xmath60 merely reverses edge directions without changing colors .",
    "so the statement for @xmath89 respects @xmath60 .",
    "[ def : c - stratification ] given an -tournament @xmath7 , define the _",
    "-stratification _ as the vertex - partition @xmath384 where @xmath385 if and only if the longest -colored path ending at @xmath63 has length @xmath101 . for example , if @xmath386 , then @xmath387 .",
    "[ def : stratification - is - geometric ]    if @xmath388 , call the -stratification @xmath384 _ geometric _ if for @xmath389 and @xmath390 with @xmath391 , the edge @xmath392 is -colored if and only if @xmath46 .",
    "[ prop : stratification - traceback ]    consider the -stratification @xmath384 of an arbitrary -tournament @xmath7 .",
    "then for each @xmath393 with @xmath394 , there is a vertex @xmath395 with @xmath391 and -colored edge @xmath392 .",
    "suppose @xmath393 for @xmath396 .",
    "then there exists an -colored path of length @xmath186 that ends at @xmath63 .",
    "let @xmath397 be the second - to - last vertex in this path .",
    "clearly @xmath395 .",
    "[ prop : stratification - class-0-properties ]    consider the -stratification @xmath384 of an arbitrary -tournament @xmath7 .",
    "then @xmath46 for every -edge @xmath392 with @xmath389 and @xmath390 .",
    "if @xmath392 is -colored , then any -colored path ending at @xmath397 can be extended by @xmath398 , so @xmath399 .",
    "sometimes we can say more .",
    "[ prop : stratification - class-1-properties ]    a tournament in the image of @xmath89 has geometric -stratification for each @xmath388 .    without loss of generality @xmath386 . consider the -stratification @xmath400 of a tournament @xmath401 .",
    "proposition [ prop : stratification - class-0-properties ] ( applied to @xmath90 , not @xmath7 ) says that color implies @xmath46 , or equivalently that @xmath402 implies color .",
    "it remains to prove the converse , i.e. that when @xmath403 , every edge @xmath392 from @xmath404 to @xmath405 is -colored .    for clarity ,",
    "say @xmath90 has vertex - list @xmath406 , while @xmath372 has vertex - list @xmath407 .",
    "let @xmath219 be the triple that corresponds to vertex @xmath408 under transformation @xmath44 .",
    "we claim that @xmath356 lies in @xmath409 if and only if @xmath410 , or in other words that the length @xmath101 of the longest -path in @xmath90 ending at @xmath356 equals the length @xmath367 of the longest -path in @xmath7 ending at @xmath408 .    *",
    "let @xmath411 be an -path in @xmath373 ending at @xmath356 . then @xmath412 .",
    "these @xmath33-coordinates are positive integers , so @xmath413 , and @xmath414 .",
    "proof of proposition [ prop : reduction - by - record ] . ) * conversely , consider a length-@xmath357 -path in @xmath372 ending at @xmath408 . by proposition [ prop : color - record - rgk - stability ] , is preserved under @xmath370 , so such an -path becomes an -path in @xmath373 ending at @xmath356 .",
    "thus @xmath415 , meaning @xmath416 .",
    "this proves the claim .",
    "finally , suppose @xmath417 and @xmath418 with @xmath419 and @xmath420 .",
    "then @xmath421 by the claim , so by definition of @xmath90 , edge @xmath422 is -colored , as desired .    intuitively , we obtain geometric properties from @xmath26 , combinatorial properties from @xmath44 , and a compatible mixture from their composition .",
    "the proof also shows , up to definition - chasing , that @xmath423 , so @xmath89 is idempotent .",
    "[ def : c - minimal - vertices ]    for a tournament @xmath7 with -stratification @xmath384 , define @xmath424 to be the _",
    "smallest _ vertex in set @xmath327 and let the _",
    "-reduced graph _ @xmath425 be the transitive sub - tournament induced by these _ -minimal vertices _ @xmath426 .",
    "[ prop : reduced - graph - structure ]    suppose @xmath7 lies in the image of @xmath89",
    ". then the -reduced graph @xmath425 is -colored with @xmath427 , and transitive in each of , , , , .",
    "analogous statements hold for the -reduced graph and the -reduced graph .",
    "proposition [ prop : stratification - traceback ] ( traceback ) implies @xmath428 .",
    "in particular , @xmath429 , so edge @xmath430 must be -colored by proposition [ prop : stratification - class-1-properties ] .",
    "for transitivity see corollary [ cor : blah - transitivity - stated - for - class-1-rgbk ] .    in the proof of theorem [ thm : classification - of - canonical - tournaments",
    "] we will use the following stratification - free characterization of minimal vertices .",
    "[ prop : stratification - free - characterize - minimal - vertex ]    suppose @xmath7 lies in the image of @xmath89 , and fix a color class @xmath388 .",
    "then @xmath431 is the smallest vertex in @xmath7 , while for @xmath394 , the @xmath186th -minimal vertex @xmath432 is the smallest vertex @xmath433 with a -colored edge from @xmath363 .    for @xmath434 ,",
    "note that the first vertex clearly lies in @xmath435 , so @xmath431 .",
    "now suppose @xmath394 .",
    "then by proposition [ prop : stratification - class-1-properties ] , a vertex @xmath436 has -colored edge _ from _ @xmath363 if and only if @xmath437 ; it is important here that @xmath363 is the smallest vertex in @xmath438 , by proposition [ prop : reduced - graph - structure ] . but again by proposition [ prop : reduced - graph - structure ] , the smallest vertex in @xmath439 is @xmath432 , as desired .",
    "the following extends the interval - connectivity observation from proposition - definition [ propdef : rgbk - interval - connected ] .",
    "[ prop : basic - description - b - connected - components ]    suppose @xmath7 lies in the image of @xmath89 .",
    "then the connected -components of @xmath7 are interval - connected .",
    "each -component is a union of _ consecutive _",
    "-strata @xmath327 .",
    "furthermore , for @xmath46 , _ if _ the -strata @xmath327 and @xmath440 lie in _ different _",
    "-components , _ then _ @xmath441 absolutely , i.e. @xmath442 for all @xmath389 and @xmath390 .",
    "proposition - definition [ propdef : rgbk - interval - connected ] gives interval - connectivity , since @xmath7 is geometric .",
    "each -stratum is a -clique by the easy half of proposition [ prop : stratification - class-1-properties ] , hence trivially -connected . now take indices @xmath443 , and suppose that @xmath444 are in the same -component .",
    "since @xmath445 by proposition [ prop : reduced - graph - structure ] , interval - connectivity implies that @xmath446 also lies in the same -component , so @xmath440 lies in the same -component .",
    "furthermore , for @xmath46 , the -strata @xmath327 and @xmath440 have no -edges between them if and only if there are no pairs of vertices @xmath447 and @xmath393 with @xmath442 .",
    "( see proposition [ prop : stratification - class-1-properties ] . )",
    "this is in turn equivalent to having @xmath448 absolutely .",
    "the -components of a tournament @xmath7 in the image of @xmath89 are absolutely ordered , with all edges directed from smaller components to larger components .",
    "[ thm : classification - of - canonical - tournaments ]    let @xmath7 be an -tournament .",
    "the following are equivalent .    1 .",
    "@xmath7 is canonical , i.e. fixed under @xmath89 and @xmath91 .",
    "tournament @xmath7 is geometric . for each color class @xmath345 ,",
    "the -stratification ( definition [ def : c - stratification ] ) of @xmath7 is geometric ( definition [ def : stratification - is - geometric ] ) , and the -minimal vertices ( definition [ def : c - minimal - vertices ] ) form an increasing -colored path , as do the -maximal vertices ( definition [ def : dual - stratification - and - maximal - vertices ] ) .",
    "the dual -strata ( definition [ def : dual - stratification - and - maximal - vertices ] ) are the usual -strata _ in reverse_. 3 .",
    "@xmath87 for some ordered set @xmath3 such that @xmath3 and @xmath449 are both reduced sets of triples belonging to @xmath450 ( see theorem [ thm : classification - of - color - record - fixed - points ] ) .    furthermore",
    ", if @xmath7 satisfies any of these equivalent conditions , then the only @xmath3 that works in ( 3 ) is @xmath86 .",
    "first suppose ( 1 ) holds . both @xmath7 and @xmath85",
    "are fixed points of @xmath89 , so by theorem [ thm : classification - of - color - record - fixed - points ] and proposition [ prop : canonical - max - vertices - properties ] , ( 2 ) holds as well . on the other hand , suppose ( 2 ) holds .",
    "then by theorem [ thm : classification - of - color - record - fixed - points ] , @xmath7 is fixed under @xmath89 .",
    "since the dual -strata coincide with the usual -strata in reverse , the -stratification of @xmath85 is geometric . and",
    "since the -maximal vertices are increasing , the -minimal vertices of @xmath85 are increasing as well .",
    "so theorem [ thm : classification - of - color - record - fixed - points ] also shows that @xmath85 is fixed under @xmath89 , so ( 1 ) holds .",
    "to finish , we prove the equivalence of ( 2 ) and ( 3 ) .",
    "if ( 2 ) and ( 1 ) hold , then theorem [ thm : classification - of - color - record - fixed - points ] first shows that @xmath87 for @xmath352 , and @xmath3 is reduced .",
    "one then checks that @xmath449 coincides with @xmath451 , which is reduced by theorem [ thm : classification - of - color - record - fixed - points ] .",
    "so ( 3 ) holds .",
    "conversely , if ( 3 ) holds , then one can check that @xmath452 , so ( 2 ) holds by theorem [ thm : classification - of - color - record - fixed - points ] applied in reverse .",
    "[ def : dual - stratification - and - maximal - vertices ]    given a color class and an -tournament @xmath7 , define the _ dual -strata _ and _ -maximal vertices _ as the strata and vertices of @xmath7 corresponding under @xmath60 to the -strata and -minimal vertices of @xmath85 , respectively .    the term `` maximal '' is unambiguous by the following proposition .",
    "[ prop : canonical - max - vertices - properties ]    if @xmath7 is canonical , then its -maximal vertices coincide with the maximal vertices in the usual -strata @xmath453 , and @xmath454 are the dual -strata .",
    "we prove by strong induction on @xmath455 that the @xmath186th dual stratum is precisely @xmath456 , and that the @xmath186th maximal -vertex is the largest vertex in @xmath456 .",
    "suppose @xmath455 and assume the result holds up to @xmath350 .",
    "take the maximal vertex @xmath408 in the @xmath186th dual stratum . by the dual of proposition [ prop : reduced - graph - structure ]",
    ", there exists a length @xmath457 -path ending at vertex @xmath408 , so @xmath408 lies in @xmath458 , hence in @xmath456 ( as @xmath459 are the dual strata up to @xmath350 , by the inductive hypothesis ) . on the other hand , by the dual of proposition [ prop :",
    "stratification - free - characterize - minimal - vertex ] , @xmath408 is    * the largest vertex @xmath460 in @xmath461 if @xmath434 ; and * the largest vertex @xmath460 with an -edge directed towards @xmath462 ( the largest vertex of @xmath463 , by the inductive hypothesis ) if @xmath394 .    either way , by proposition [ prop : stratification - class-1-properties ] we conclude that @xmath408 is the largest vertex @xmath464 , so every vertex @xmath465 has an -edge directed towards @xmath408 by proposition [ prop : stratification - class-1-properties ] .",
    "so the @xmath186th dual stratum is a subset of @xmath456 , while @xmath456 is a priori a subset of the union of the first @xmath186 dual strata .",
    "but the first @xmath350 dual strata are @xmath459 by the inductive hypothesis .",
    "so the @xmath186th dual stratum is precisely @xmath456 , with largest vertex @xmath408 , completing the induction .",
    "we now give two results suggesting that canonical tournaments are indeed `` canonical '' in some meaningful way .",
    "[ cor : every - vertex - belongs - to - max - paths ]    fix @xmath345 .",
    "each vertex @xmath63 of a canonical tournament @xmath7 belongs to an -colored path of maximum vertex - length @xmath55 . in particular , under @xmath44 , the last vertex of @xmath7 has coordinates @xmath466 .    use minimal vertices before @xmath63 , and maximal vertices after @xmath63 .",
    "the following result contrasts canonical tournaments with general tournaments , whose edges can often be changed to without increasing longest 1-color - avoiding path lengths , by proposition [ prop : color - record - rgk - stability ] .",
    "[ cor : k - saturation - of - canonical ]    if some edge @xmath119 colored @xmath467 in a canonical tournament @xmath7 is changed to , then the length of the longest -avoiding path strictly increases ( and as usual , the other two weakly increase ; in fact , they stay the same ) .",
    "say @xmath376 .",
    "then @xmath357 is either in the same , or an earlier , -stratum as @xmath186 .",
    "there is a maximum -path ending at @xmath186 using minimal vertices , and a maximum -path starting at @xmath357 using maximal vertices .",
    "if the edge @xmath119 is changed to , then these two paths can be concatenated to increase the length of the longest -path ( in fact , by exactly 1 plus the difference of the stratum numbers of @xmath357 and @xmath186 ) .",
    "let @xmath7 be canonical , and consider the @xmath225-grid view ( definition [ def : projection - and - grid - view - of - triples ] ) of @xmath86 .",
    "then for any @xmath468\\times[\\ell({\\textup{rbk}\\xspace})]$ ] , there exists both    * a labeled square immediately above ( i.e. in same column ) or immediately to the right ( i.e. in same row ) of @xmath469 , _ unless and only unless _ @xmath469 is labeled and simultaneously maximal in its row and column ; and * a labeled square immediately below ( i.e. in same column ) or immediately to the left ( i.e. in same row ) of @xmath469 , _ unless and only unless _ @xmath469 is labeled and simultaneously minimal in its row and column .",
    "the only difficulty is addressing the case where @xmath469 is unlabeled . in this case , suppose , for contradiction , that both of the following hold .",
    "* there is no labeled square immediately to the right of @xmath469 , or equivalently , the maximum in _ row _",
    "@xmath131 is @xmath470 for some @xmath471 .",
    "* there is no labeled square immediately above @xmath469 , or equivalently , the maximum in _ column _ @xmath33 is @xmath472 for some @xmath473 .",
    "now let @xmath474 be the maximum in _ column _ @xmath397 , so that @xmath475 and @xmath476 .",
    "similarly , let @xmath477 be the maximum in _ row _ @xmath63 , so that @xmath478 and @xmath479 .",
    "the point is that @xmath480 and @xmath481 together imply @xmath482 by the required ordering of the -maximal vertices @xmath483 , while @xmath484 and @xmath485 together imply @xmath486 by the required ordering of the -maximal vertices @xmath487 .",
    "but the former implies @xmath488 ( as @xmath489 ) while the latter implies @xmath490 ( as @xmath491 ) , giving our desired contradiction .",
    "this is entirely dual and only requires @xmath7 to be fixed under @xmath89 .",
    "[ cor : min - above , max - below ]    let @xmath7 be canonical , and consider the @xmath225-grid view ( definition [ def : projection - and - grid - view - of - triples ] ) of @xmath86 .",
    "then for any @xmath468\\times[\\ell({\\textup{rbk}\\xspace})]$ ] not in the @xmath225-projection @xmath492 , there exists a _",
    "@xmath123-coordinate among squares immediately above or to the right of @xmath469 , as well as a _ largest _",
    "@xmath123-coordinate among squares immediately below or to the left of @xmath469 .",
    "this is saying something about how row @xmath131 interacts with column @xmath33 .",
    "can we do some counting along these lines ? is there a useful three - dimensional fact along these lines ?",
    "a _ strict ordered surface _ is the zero - locus @xmath493 of a coordinate - wise strictly monotone function @xmath494 .",
    "the _ orientation _",
    "type @xmath495 records the coordinate - wise directions of @xmath496 , with a @xmath77 ( resp .",
    "@xmath497 ) corresponding to a coordinate - wise increase ( resp .",
    "decrease ) .",
    "fix an orientation @xmath498 .",
    "say a set of points _",
    "completely avoids _ the orientation @xmath499 if there do not exist _ distinct _",
    "points @xmath500 of the set with coordinate - wise difference @xmath501 _ weakly of sign type _",
    "@xmath499 , meaning of sign type @xmath502 where each _ strict _ @xmath77 ( resp .",
    "@xmath497 ) in @xmath499 is replaced with a _ weak _ @xmath503 ( resp .",
    "@xmath78 ) .        by symmetry ,",
    "assume @xmath505 .",
    "first suppose @xmath506 for some coordinate - wise strictly increasing function @xmath494 .",
    "suppose @xmath507 and @xmath508 are points of @xmath236 with @xmath509 weakly of sign type @xmath499 , i.e. @xmath510 ; @xmath511 ; and @xmath512 . then @xmath513 . in particular , equality holds , so strictness of @xmath496 forces @xmath514 .",
    "thus @xmath236 completely avoids the orientation @xmath499 .",
    "conversely , suppose @xmath236 completely avoids the orientation @xmath505 .",
    "we construct a @xmath243-surface through @xmath236 by induction on @xmath515 , where the base case @xmath516 is obvious .",
    "now suppose @xmath517 and take a strict ordered surface @xmath518 , with @xmath519 increasing in @xmath520 , containing all of @xmath236 except possibly a point @xmath332 . if @xmath521 is zero , we are done .",
    "now suppose it is nonzero .",
    "* if @xmath522 , then we modify as follows to get the desired @xmath496 : add @xmath523 to @xmath524 whenever @xmath525 coordinate - wise . *",
    "if @xmath526 , then we instead modify as follows : subtract @xmath527 from @xmath524 whenever @xmath528 coordinate - wise .    in each case",
    ", @xmath529 since @xmath236 completely avoids orientation @xmath499 .",
    "so the resulting @xmath496 vanishes on @xmath530 , still vanishes on @xmath531 , and still remains strictly increasing in each coordinate .",
    "this completes the induction .",
    "first , suppose @xmath3 is ordered and take three points @xmath534 in order . by pigeonhole , without loss of generality assume their @xmath33-coordinates are strictly increasing .",
    "then their @xmath33-coordinates are distinct , and whenever @xmath535 , either @xmath536 or @xmath537 .",
    "so these three points completely avoid the orientation @xmath538 , which by theorem [ thm : characterization - of - strict - ordered - surface - points ] gives a @xmath499-type strict ordered surface through @xmath539 .",
    "conversely , suppose @xmath3 is _ not _ ordered .",
    "then the well - defined majority - comparable tournament on @xmath3 is _ not _ acyclic , so there are three points @xmath539 forming a cycle . by cyclicity , no edge can be weakly of sign type @xmath243 .",
    "since @xmath3 is slice - increasing , each edge must instead be _ strictly _ of sign type @xmath272 , @xmath532 , or @xmath533 .",
    "again by cyclicity , no two edges can have the same sign type .",
    "so @xmath539 do _ not _ completely avoid any of the orientations among @xmath272 , @xmath532 , and @xmath533 .",
    "thus by theorem [ thm : characterization - of - strict - ordered - surface - points ] , these three points do not lie on a strict ordered surface of any permissible orientation .",
    "the three points @xmath540 , @xmath541 , and @xmath542 are ordered .",
    "even though they lie on the plane @xmath543a strict ordered surface with orientation @xmath243 not listed  they also lie on a strict ordered surface of permissible orientation .",
    "first , we note that the `` overlapping @xmath123-corners '' idea of section [ subsec : l^2-slice - counts - approach ] and the `` l - shape''-counting method of proposition [ prop : linear - bound - on - k - free - slice - increasing - sets ] extend separately to give the following edge - type lower bounds .",
    "we refer to differences of type @xmath239 as -edges , and so on , by slight extension of the @xmath26 definition for ordered sets ( definition [ def : triples - to - tournament ] ) .      1",
    ".   an arbitrary set @xmath19 ^ 3 $ ] has at least @xmath545 -edges ( resp . - ; - ) coming from pairs of points on the same @xmath123-slice ( resp .",
    "@xmath131- ; @xmath33- ) .",
    "2 .   if @xmath546 , then @xmath3 has at least @xmath547 -edges ( resp . - ; - ) coming from pairs of points on different @xmath123-slices ( resp .",
    "@xmath131- ; @xmath33- ) .",
    "3 .   if @xmath548 , then @xmath3 has at least @xmath549 -edges and -edges total , for any pair of primary colors @xmath550 .",
    "( if @xmath3 is slice - increasing in only two of the three coordinate - orientations , the proof still gives something slightly weaker . )",
    "4 .   if @xmath548 , then @xmath3 has at least @xmath549 -edges .",
    "( this holds even if @xmath3 is slice - increasing in only two of the three coordinate - orientations . )",
    "if @xmath551 and @xmath552 , then there are at least @xmath553 -edges such that @xmath554 while @xmath555 .",
    "( this holds even if @xmath3 is only @xmath33- and @xmath131- slice - increasing . )",
    "we give the proofs below in order . in all cases",
    "the edges we count actually have some additional structure , as the proofs themselves will clarify .",
    "the concrete results do not seem to directly apply to the original problems , since we have not been able to prove any nontrivial _",
    "bounds on edge - counts .",
    "but perhaps some of the methods will inspire interested readers .",
    "curiously , for @xmath556 with @xmath291 sufficiently large , the first and third bounds are , up to symmetry , sharp up to an absolute constant .",
    "take for @xmath3 the image of the map @xmath557 ^ 3\\to { \\mathbb{r}}^3 $ ] given by @xmath558 . here",
    "it turns out that color classes and are both dense , with around half of the edges each , while and are not dense .",
    "indeed , we check that @xmath560 is colored as follows .    *",
    "if @xmath561 and @xmath562 , i.e. the first coordinate increase is in position 3 .",
    "the -edges are all `` trivial '' of type @xmath563 , with @xmath564 fixed .",
    "total : @xmath565 . * if @xmath566 and @xmath567 and @xmath568 . in particular",
    "this requires the first coordinate increase to be in position 2 .",
    "total : at most @xmath569 if we forget the @xmath570 condition ( in which case we are including some s as well , about half - half split ) . *",
    "if @xmath571 and @xmath572 lexicographically . in particular",
    "this requires the first coordinate increase to be in position 1 .",
    "total : at most @xmath573 if we forget the @xmath574 condition ( in which case we are including some s as well , about half - half split ) .",
    "* otherwise .",
    "most of these come from when @xmath575 and @xmath576 lexicographically , and the other from @xmath566 and @xmath577 but @xmath578 .",
    "total : @xmath579 .",
    "recall the @xmath4-idea of section [ subsec : l^2-slice - counts - approach ] .",
    "explicitly , @xmath581 , where @xmath582 denotes the number of ( label - induced ) corners overlapped at square @xmath583 ^ 2 $ ] . for convenience set @xmath584 for @xmath585 .",
    "each @xmath228 gives rise to @xmath586 `` trivial '' -edges ( coming from @xmath123-slices ) and @xmath587 `` nontrivial '' -edges .",
    "furthermore , each @xmath588-type edge contributes to at most 2 of the corners @xmath228 .    if @xmath589 , then by convexity @xmath590 , so @xmath591 . now by convexity of the quadratic @xmath592 vanishing at @xmath206 , we obtain @xmath593 as long as @xmath594 . but",
    "@xmath546 by assumption , and @xmath595 trivially in general , so @xmath596 .",
    "thus @xmath594 and our valid bound simplifies to @xmath597 , as desired .",
    "consider the @xmath225-grid view .",
    "counting increasing ( resp . decreasing )",
    "l - shapes gives a lower bound on -edges ( resp .",
    "-edges and -edges combined ) .",
    "we will only explicitly write out the proof for increasing l - shapes .",
    "asymptotically , if @xmath598 and @xmath599 , then we get a count on the order of @xmath600 . in the proof",
    "below , one can roughly think of the factor @xmath291 as choosing a column , the first @xmath601 as choosing a corner for the l , and then @xmath602 as the two endpoints of the l.        purge rows with at most @xmath604 points ( where @xmath604 may be non - integral ) to get a new good set @xmath79 of size @xmath605 , where @xmath606 .",
    "if column @xmath33 of @xmath79 has @xmath607 points @xmath608 ( in increasing order ) , then there must be at least @xmath609 -edges coming from increasing l - shapes whose corner lies on column @xmath79 : the contribution of @xmath610 comes from corner @xmath611 . on the other hand , each such -edge belongs to at most 2 such l - shapes .",
    "we obtain a lower bound @xmath612 which is at least @xmath613 by convexity of the quadratic @xmath614 .",
    "choosing @xmath615 gives a lower bound of @xmath616 , as desired .",
    "if @xmath551 and @xmath552 , then we can similarly count l - shapes with @xmath554 while @xmath555 .",
    "we will only use that @xmath3 is @xmath33- and @xmath131- slice - increasing .",
    "first purge rows with at most @xmath617 points ( where @xmath604 may be non - integral ) to get a new set @xmath79 of size @xmath605 , where @xmath618 .",
    "take a column @xmath33 of @xmath79 with @xmath607 points @xmath608 ( in increasing order ) .",
    "for each value of @xmath619 $ ] , let @xmath620 ( resp .",
    "@xmath621 ) denote the number of points @xmath622 with @xmath623 and @xmath624 ( resp .",
    "@xmath625 ) .",
    "we estimate @xmath626 : ( x , y)\\in s_z } \\min(\\nu_y,\\eta_y)$ ] by finding @xmath627 $ ] length-@xmath177 disjoint intervals @xmath628 ( independent of column @xmath33 ) covering @xmath222 $ ] , containing the @xmath131-coordinates of exactly @xmath629 points among @xmath608 , respectively , so that @xmath630",
    ". then the sum @xmath631 is at least @xmath632 .",
    "thus our contribution of `` @xmath131-bounded '' increasing l - shapes with corner on column @xmath33 is at least @xmath633:(x , y)\\in s_z}(d-1 - 2\\cdot \\alpha/8)\\cdot \\min(\\nu_y,\\eta_y ) & \\ge ( -1+\\alpha/4)\\sum_{j=1}^{u } ( a_j-1)(a_j-2)/4 \\\\ & \\ge ( -1+\\alpha/4)u\\cdot ( -1+e / u)(-2+e / u)/4 ,   \\end{aligned}\\ ] ] where the @xmath634 correction term excludes possibilities with @xmath635 or @xmath636 . for the final bound , we sum over all columns , and divide by 2 for possible over - counting : @xmath637 i.e. @xmath638 .",
    "note that @xmath639 since @xmath640 and @xmath641 by assumption .",
    "also , @xmath642 , and @xmath643 implies @xmath644 .",
    "so @xmath645 , as desired .",
    "p. etingof , o. golberg , s. hensel , t. liu , a. schwendner , d. vaintrob , and e. yudovina , _ introduction to representation theory _ , student mathematical library 59 , amer .",
    "soc . , providence , ri , 2011 .",
    "parts appear in http://arxiv.org/abs/0901.0827v5 ."
  ],
  "abstract_text": [
    "<S> we discuss two approaches to a recent question of loh : must a 3-colored transitive tournament on @xmath0 vertices have a 1-color-_avoiding _ path of vertex - length at least @xmath1 ? </S>",
    "<S> this question generalizes the erds  </S>",
    "<S> szekeres theorem on monotone subsequences .    </S>",
    "<S> first , we define three canonical transformations on these tournaments called color , record , and dual . </S>",
    "<S> we use these to establish a reduction to special tournaments with natural geometric and combinatorial properties . in many cases ( including all known tight examples ) , these tournaments have recursive gallai decompositions . </S>",
    "<S> not all relevant tournaments have gallai decompositions , but those that do satisfy the desired @xmath1 bound by recent work of wagner , roughly analogous to earlier work of fox , grinshpun , and pach on a similar _ undirected _ problem . </S>",
    "<S> second , we consider the related geometric problem of bounding _ slice - increasing _ sets @xmath2 ^ 3 $ ] , which  under an additional ordering hypothesis on @xmath3was shown by loh to be equivalent to the original question . in particular , we establish a rigorous connection from a problem of szab and tardos , raise a stronger @xmath4-question on slice - counts , and mention a surprising overlap with the joints problem . </S>"
  ]
}