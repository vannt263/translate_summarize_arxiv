{
  "article_text": [
    "in constraint satisfaction problems ( csp ) a set of variables is required to simultaneously satisfy a series of constraints .",
    "one can equivalently define an energy function as the number of unsatisfied constraints of a given assignment of the variables , and rephrase the csp as the quest for a zero energy groundstate configuration .",
    "this analogy with low temperature physics triggered an intensive research effort within the statistical mechanics community .",
    "more precisely , one line of approach for these problems consists in looking for typical properties of randomly generated large instances .",
    "this translates into the presence of quenched disorder in the corresponding physical model .",
    "the constraints to be satisfied are generally contradicting each other , and the definition of the random instances does not involve an underlying finite dimensional space ; in consequence these problems fall into the category of mean - field spin glasses , for which a set of analytical tools have been developed during the last decades  @xcite .",
    "the most famous example of random csp is the random @xmath0-sat ensemble .",
    "statistical mechanics studies have led to two kind of results for this problem . on the one hand ,",
    "qualitative and quantitative predictions have been made about the various phase transitions encountered for the typical behaviour of large instances when the control parameter governing the amount of frustration is varied .",
    "the satisfiability transition marks the sudden disappearance of the solutions ( zero - energy groundstates ) .",
    "there exist rigorous results on the properties of this transition  @xcite and bounds  @xcite on its possible location .",
    "statistical mechanics has complemented these results with an heuristic way to compute this threshold hence yielding quantitative conjectures on its value  @xcite . another important contribution",
    "has been the suggestion of other phase transitions in the satisfiable regime , that concerns the geometrical organization of the set of solutions inside the configuration space  @xcite . for large enough frustration , but below the satisfiability transition , the solutions can be grouped in clusters of nearby solutions , each cluster being separated from the others .    on the other hand attention",
    "has also been paid to algorithmic issues , that is to procedures aiming at solving csp , by finding their solutions or proving that no solution exist .",
    "these algorithms can be roughly divided in two broad categories : local search and sequential assignment procedures . in the first one , which has also been studied with statistical mechanics methods  @xcite",
    ", a random walk is performed in the configuration space , with transition rules tuned to bias the walk towards the solutions .",
    "this kind of algorithm is called incomplete : it can not prove the absence of solution if it fails to find one .",
    "the second category proceeds differently : at some step of the algorithm only one part of the variables has a definite value , the others being still free .",
    "each step thus corresponds to the choice of one free variable and of the value it will be assigned to , the csp on the remaining variables being consequently simplified .",
    "the heuristics guiding these choices can be more or less elaborate . in the simplest cases one only takes into account simple properties of the free variables , such as the number of their occurences in the remaining csp .",
    "a rigorous analysis of these simple ( `` myopic '' ) approaches is possible and is at the basis of most of the lower bounds on the satisfiability transition  @xcite .",
    "such algorithms can be made complete if backtracking is allowed , i.e. choices which have led to a contradiction can be corrected in a systematic way .",
    "this complete version of the procedure is called the dpll algorithm  @xcite .",
    "one outcome of the statistical mechanics studies of random csp has been the proposal of an incomplete sequential assignment algorithm called survey propagation inspired decimation  @xcite , which proved to be very efficient on satisfiable random instances close to the satisfiability transition .",
    "this algorithm relies on the clustering picture of the solution space in the satisfiable regime .",
    "unfortunately its theoretical analysis is much more difficult than for myopic ones . indeed",
    "the heuristics of choice of the variables to be assigned is based on the result of a message passing iterative computation which depends on the whole remaining csp in an intricate way .",
    "more generally the analysis of message - passing decimation procedures is difficult and there are few results on this issue , with the notable exception of  @xcite for the so - called warning propagation algorithm on overconstrained satisfiability formulas .    in this paper",
    "we provide an analytical description of an algorithm similar to survey propagation , yet simpler .",
    "it has been studied numerically in  @xcite .",
    "a part of our results were published in  @xcite , the method developed there was also applied to another family of csp in  @xcite . in the sequential assignment procedure under investigation the choice of the value of the assigned variable",
    "is made at each step according to the belief propagation message passing algorithm ( instead of survey propagation ) .",
    "it aims at mimicking the following ideal procedure .",
    "after a certain number of variables has been assigned , one can define the uniform probability measure over the solutions of the csp which are still compatible with the previous choices .",
    "if one were able to compute the marginal probabilities of this ( conditional ) probability measure and use them to draw the value of the newly assigned variable at each step , one would construct an uniform sampler of the solutions of the original csp , and this would in particular lead to an algorithm for finding one solution of the csp .",
    "the computation of these marginal probabilities is a computationally intractable task ; belief propagation is a fast heuristic algorithm , widely used for inference problems  @xcite , which is often able to compute good approximations of these marginal probabilities . analyzing the behaviour of the belief inspired decimation procedure",
    "thus amounts to control the error which accumulates at each step by using the bp approximate estimates of the marginal probabilities instead of the exact ones .",
    "a theoretical understanding and quantitative description of the deviations between exact and bp - computed marginal probabilities for graphical models is a formidable open problem that we shall not attack directly in this paper .",
    "we will instead perform a theoretical analysis of the putative algorithm based on an hypothetic exact marginal computation .",
    "this analysis will be obtained by a generalization of the cavity method which is able to deal with the partially decimated csp encountered along the execution of the algorithm , and to compute the extended phase diagram of these problems .",
    "this approach is technically similar to the computation of franz - parisi quenched potentials  @xcite .",
    "the relevance of this theoretical analysis for the understanding of the approximate bp implementation will then be argued on the basis of a comparison with extensive numerical simulations .",
    "the paper is organized as follows . in sec .",
    "[ sec_thought ] we give a more precise definition of the ideal decimation procedure sketched above and explain how an approximate realization of this idea can be performed in practice .",
    "[ sec_cav ] is devoted to the cavity method for decimated formulas that provides an analytical description of the ideal decimation procedure . in the next two sections we apply this formalism to two specific csp , and compare its predictions to the results of numerical simulations of the bp guided decimation algorithm .",
    "we begin in sec .",
    "[ sec_xor ] with the xor - satisfiability problem , a well - studied simple example for which many results can be checked with alternative techniques .",
    "we then turn to the case of @xmath0-satisfiability random instances in sec .",
    "[ sec_sat ] .",
    "we draw our conclusions in sec .",
    "[ sec_conclu ] .",
    "more technical details are deferred to an appendix .",
    "a constraint satisfaction problem ( csp ) is defined on a set of @xmath1 variables @xmath2 , taking values in a finite alphabet .",
    "we shall denote @xmath3 the global configuration of the variables , and for a subset @xmath4 of the indices @xmath5 we call @xmath6 the partial configuration of the variables in @xmath4",
    ". the solutions of the csp are the configurations which simultaneously satisfy @xmath7 constraints ( also called clauses in the following ) , each of them being specified by a function @xmath8 of a subset @xmath9 of the variables .",
    "the function @xmath10 takes value 1 ( resp . 0 ) whenever the constraint is satisfied ( resp .",
    "unsatisfied ) .",
    "a csp admits a natural representation in terms of a factor graph  @xcite , i.e. a bipartite graph where one type of vertex ( variable node ) is associated to each variable @xmath11 , another type ( function node ) to each constraint @xmath12 .",
    "an edge links the @xmath13th variable node with the @xmath14th function node whenever the constraint @xmath10 depends on @xmath15 , i.e. in the notation introduced above whenever @xmath16 .",
    "we shall similarly denote @xmath17 the set of function nodes which depend on the @xmath13th variable , and define the distance between two variable nodes @xmath13 and @xmath18 as the minimal number of constraint nodes encountered on a path of the factor graph joining @xmath13 and @xmath18 .    in the following",
    "we will concentrate on two examples of csp , both on binary variables that we shall represent by ising spins , @xmath19 :    * @xmath0-xorsat .",
    "each constraint @xmath14 depends on @xmath0 distinct variables @xmath20 , and requires the product of the corresponding spins to take a given value @xmath21 : @xmath22 where here and in the following @xmath23 is the indicator function of an event .",
    "this condition is easily seen to be equivalent to a constraint on the value of the exclusive or of @xmath0 boolean variables , hence the name of the problem .",
    "* @xmath0-sat .",
    "the constraint @xmath14 depends again on @xmath20 , but imposes the configuration of these @xmath0 variables to avoid one out of the @xmath24 possible ones , @xmath25 where @xmath26 are fixed constants defining the constraint .",
    "equivalently , one requires the logical or of @xmath0 literals ( a boolean variable or its negation ) to evaluate to true .    from a computational complexity point of view",
    "these two problems are very different .",
    "the decision version of a csp consists in determining whether it admits at least one solution , i.e. one configuration satisfying all constraints simultaneously .",
    "the @xmath0-xorsat decision problem belongs to the easy , polynomial p complexity class  @xcite for any value of @xmath0 .",
    "one can indeed use gaussian elimination to check if the associated system of linear equations modulo 2 is solvable .",
    "@xmath0-sat is on the contrary np - complete for all @xmath27 : no algorithm able to decide the satisfiability of every @xmath0-sat formula in a time bounded by a polynomial of the formula size is known .    despite this deep difference in the worst - case point of view",
    ", these two families of problems share common features in their `` average complexity '' behavior . by this",
    "we mean the random ensembles of instances that have been extensively studied in the computer science and statistical physics literature and that are defined as follows .",
    "a random @xmath0-xorsat formula is generated by drawing in an independent , identical way @xmath7 constraints ; the @xmath0-uplet of indices @xmath9 is drawn uniformly among the @xmath28 possible ones , and the coupling constant @xmath29 is taken to be @xmath30 with equal probability one half .",
    "the generation of a random @xmath0-sat formula is similar , with for all constraints @xmath14 the @xmath0 constants @xmath31 being taken independently equal to @xmath30 with equal probability .",
    "these random ensembles exhibit a rich phenomenology in the thermodynamic limit @xmath32 with @xmath33 fixed .",
    "in particular a satisfiability phase transition occurs at a value @xmath34 ( which depends on the value of @xmath0 and on the problem , sat or xorsat , under consideration ) : random formulas with @xmath35 are , with high probability , satisfiable , whereas for @xmath36 they are unsatisfiable . here and in the following `` with high probability '' ( w.h.p . )",
    "means with a probability going to one in the above stated thermodynamic limit . to be more precise , for xorsat",
    "this statement has been proven and the values of @xmath34 have been computed  @xcite . for sat random formulas",
    "this satisfiability transition is , strictly speaking , only a conjecture .",
    "the existence of a tight threshold @xmath37 has been proven in  @xcite , but not the convergence of @xmath37 , that could in principle oscillate between the bounds on its possible location  @xcite .",
    "it is however most probable that the values of @xmath34 computed within the statistical mechanics framework  @xcite are exact .",
    "besides the satisfiability transition other interesting phenomena occurs in the satisfiable phase @xmath35 . in this regime",
    "the formula are w.h.p .",
    "satisfiable and in fact admits an exponential number of solutions ; however there are structural phase transitions at which the properties of the set of solutions change qualitatively . to describe the set of solutions it is convenient to introduce the uniform probability measure on this set , @xmath38 where the normalizing factor @xmath39 is the number of solutions of the csp .",
    "note that this probability measure is itself a random object , as it depends on the instance of the csp under study , and that it is defined only for the satisfiable instances , which is the case w.h.p . in the regime @xmath40",
    "we are considering here .    in the xorsat ensemble of random formulas",
    "there is a single structural phase transition in the satisfiable regime  @xcite , known as the clustering transition with a threshold denoted @xmath41 . for lower values of the connectivity @xmath42 ,",
    "the set of solutions is well - connected . on the contrary for @xmath43",
    "the exponential number of solutions gets splitted in an exponential number @xmath44 $ ] of clusters , separated from each other in the configuration space .",
    "the rate of growth @xmath45 of the number of clusters is usually called the complexity , it decreases when @xmath42 grows and vanishes at the satisfiability threshold .",
    "in the clustered phase each cluster contains the same exponential number of solutions ( with a rate of growth called internal entropy ) .",
    "the structure of xorsat is sufficiently simple for a clear - cut definition of the clusters to be possible .",
    "in fact the clustering transition corresponds to a percolation transition in the associated factor graph , where an extensive 2-core discontinuously appears .",
    "the structure of the satisfiable phase of the random satisfiability ensemble is richer  @xcite . at the clustering transition  @xcite",
    "the exponentially numerous clusters have , contrarily to xorsat , a large diversity of internal entropies .",
    "this leads , for @xmath46 , to another transition , the condensation one at @xmath47 .",
    "when @xmath48 the measure ( [ eq_def_mu ] ) is splitted in an exponential number of clusters , while for @xmath49 almost all solutions are contained in a sub - exponential number of clusters .",
    "these various phase transitions can be characterized in terms of the strength of the correlations between variables .",
    "the clustering @xmath41 is related to the appearance of long - range point - to - set correlations , or in other words to the possibility of reconstruction of the value of a variable given the values of all the variables at a large distance from it  @xcite . at the condensation transition",
    "non trivial correlations are already revealed by the correlation functions between a finite number of variables  @xcite .",
    "the study presented in this paper is based on the analysis of an ideal procedure to find the solutions of a csp , that we discuss here more precisely .",
    "consider a satisfiable csp instance , and the uniform measure @xmath50 over its solutions defined in  ( [ eq_def_mu ] ) .",
    "let us also introduce a subset @xmath51 of the variables , and a partial configuration of these variables @xmath52 compatible with at least one solution of the instance .",
    "we can thus define a conditional version of @xmath53 , @xmath54 , which is the uniform measure over the solutions of the formula compatible with @xmath52 : @xmath55 the normalization @xmath56 counts the number of solutions compatible with the partial assignment of the variables in @xmath51 .",
    "a possible procedure for sampling from @xmath50 goes as follows .",
    "choose arbitrarily a permutation of @xmath5 , denoted @xmath57 , and call @xmath58 for @xmath59 , @xmath60 .",
    "construct now sequentially a configuration @xmath61 , assigning at time @xmath62 the value @xmath63 ; to this aim draw @xmath64 according to the marginal of the conditioned measure @xmath65 , and set @xmath66 .",
    "it is easy to see that after @xmath62 steps of the algorithm the partial configuration @xmath67 is distributed according to the marginal law of @xmath50 .",
    "in particular the final configuration @xmath61 obtained when the @xmath1 variables are assigned is a uniformly chosen solution of the csp .",
    "this simple algorithm would thus provide a uniform sampler of the solution set of any csp ; it is however only meant as a thought experiment .",
    "indeed , computing exactly the probabilities @xmath68 is in general a @xmath69p - complete problem , with no polynomial algorithm known until now , and we shall thus content ourselves with faster yet approximative means for computing these marginal probabilities . before introducing them",
    "let us discuss further the idealized procedure .",
    "the analytical description of the dynamics followed by this ideal process seems very difficult : at each time step the probability of the evolution @xmath70 depends in a non - trivial way on all the choices made in the previous steps .",
    "however the description of the process at a given point of its evolution is very simple . as noted above @xmath67",
    "is distributed according to the marginal of @xmath50 .",
    "one can state this in a slightly different way : @xmath67 can be obtained by drawing uniformly a solution @xmath61 from @xmath50 , retaining the configuration of the variables in @xmath71 , and discarding the rest of the configuration .",
    "we shall further assume that the permutation @xmath57 is drawn uniformly at random , such that @xmath71 is a random set of @xmath62 variables among @xmath1 .",
    "in the thermodynamic limit we shall define @xmath72 , the fraction of assigned variables , and consider for simplicity that @xmath73 is built by retaining independently each variable with probability @xmath74 ( we only make an error of order @xmath75 on the fraction of variables thus included in @xmath51 ) .",
    "these considerations lead us to the definition of an ensemble of csp instances parametrized by @xmath42 and @xmath74 , generalizing the original one which corresponds to @xmath76 . explicitly",
    "this ensemble of formulas corresponds to the following generation process :    1 .   draw a satisfiable csp with parameter @xmath42 2 .   draw a uniform solution @xmath61 of this csp 3 .",
    "choose a set @xmath51 by retaining each variable independently with probability @xmath74 4 .",
    "consider the residual formula on the variables outside @xmath51 obtained by imposing the allowed configurations to coincide with @xmath61 on @xmath51 .",
    "let us emphasize that , apart from simple cases like the xorsat model , these ensembles do not coincide in general with randomly uniform formulas conditioned on their degree distributions .",
    "the fact that the generation of the configuration @xmath61 depends on the initial csp induces non - trivial correlations in the structure of the final formula .",
    "we shall see in the following how to adapt the statistical mechanics techniques to compute the typical properties of such generalized formulas , and in particular to determine the phase transition thresholds in the @xmath77 plane .",
    "one characterization of these random ensembles is the quenched average residual entropy , @xmath78 \\ , \\qquad   z(\\ut_d ) = \\sum_{\\us } \\prod_{a=1}^m \\psi_a(\\us_{\\da } ) \\",
    ", \\i(\\us_d = \\ut_d ) \\ , \\label{eq_omega}\\ ] ] where the three expectation values correspond to the three steps of the definition above .",
    "this quantity is similar , yet distinct , from the franz - parisi quenched potential  @xcite .",
    "the definition of the latter also involves a `` thermalized '' reference configuration @xmath61 , but is given by the free - energy of the measure on the configurations at a given hamming distance from @xmath61 .",
    "in other words the two real replicas @xmath79 and @xmath61 are coupled uniformly across the variables in franz - parisi quenched potential , whereas in the definition of @xmath80 they are coupled infinitely strongly on @xmath51 where they are forced to coincide , and not at all outside @xmath51 .",
    "the computations presented in the rest of the paper can however be easily adapted to obtain the usual quenched potential .",
    "we shall characterize the reduced measure @xmath54 more precisely by computing other quantities besides @xmath81 .",
    "the existence of clusters in this measure will be tested by the computation of the long - range point - to - set correlations and the complexity of the typical clusters .",
    "we recall in this section the bethe - peierls approximation for statistical models defined on factor graphs and show how to adapt it to partially decimated csps .",
    "let us first consider a probability measure with a weight funcion which can be factorized as in eq .",
    "( [ eq_def_mu ] ) , with @xmath10 some a priori arbitrary positive functions .",
    "the bethe approximation for the computation of the partition function @xmath39 consists in extremizing the following expression , @xmath82 over the unknown @xmath83 .",
    "these are probability measures on the alphabet of @xmath15 , defined on the directed edges of the factor graph , which we shall call messages for reasons that will become clear below .",
    "the extremization of the bethe approximation for @xmath84 leads to a set of equations between the messages , @xmath85 where the ( edge - dependent ) functions @xmath86 and @xmath87 are defined by @xmath88 with @xmath89 and @xmath90 ensuring the normalization of @xmath91 and @xmath92 .",
    "when the factor graph is a tree the log partition function is exactly given by  ( [ eq_lnz ] ) evaluated on the unique solution of the stationarity equations  ( [ eq_bp2 ] ) , see for instance  @xcite .",
    "the messages @xmath91 ( resp .",
    "@xmath92 ) are then the marginal probabilities for @xmath15 of a modified measure corresponding to a factor graph where all factor nodes around @xmath13 except @xmath14 have been removed ( resp . only @xmath14 has been removed ) . from the knowledge of the messages solution of  ( [ eq_bp2 ] ) one can compute the marginal probability of the variables in the full factor graph law  ( [ eq_def_mu ] ) , for instance the marginal probability of variable @xmath13 reads @xmath93 with again @xmath94 fixed by normalization . in general factor graphs do contain loops , in that case ( [ eq_lnz],[eq_bp2],[eq_marginal ] ) are only approximations , at the basis of the so - called belief propagation algorithm discussed in more details below .",
    "the bethe approximation can be easily adapted to the case where the configuration is forced to the value @xmath52 on a subset of the sites @xmath95 , that is to the conditional measure  ( [ eq_def_mu_cond ] ) .",
    "the estimation of the conditioned log partition function follows from  ( [ eq_lnz ] ) : @xmath96 where the messages @xmath97 depend on the imposed partial configuration @xmath52 .",
    "they indeed obey the same equations  ( [ eq_bp2 ] ) , complemented with the boundary conditions @xmath98 when @xmath95 .      the ideal sampling algorithm described in sec .",
    "[ sec_oracle ] can not be practically implemented , because the computation of the marginals of the probability law @xmath99 has generically a cost exponential in the number of variables .",
    "one can however mimic this procedure , using a faster yet approximate estimation of the marginals of @xmath99 by means of the belief propagation algorithm .",
    "this modification of the ideal sampler , which will be called bp guided decimation in the following , thus corresponds to ( for a given csp instance ) :    1 .",
    "choose a random order of the variables , @xmath57 , call @xmath60 , @xmath100 2 .   for @xmath59",
    ": 1 .   find a fixed point of the bp equations ( [ eq_bp1 ] ) with the boundary conditions @xmath101 when @xmath102 2 .",
    "draw @xmath64 according to the bp estimation of @xmath103 given in ( [ eq_marginal ] ) 3 .",
    "set @xmath66    the belief propagation part of the algorithm corresponds to step 2.(a ) .",
    "it amounts to search for a stationary point of the bethe approximation for the log partition function , in an iterative manner .",
    "the unknowns of the bethe expression , @xmath92 ( resp .",
    "@xmath91 ) , are considered as messages passed from a variable to a neighboring clause ( resp . from a clause to a variable ) . in a random sequential order a message , say @xmath92 , updates itself by recomputing its value from the current messages sent by its neighbors @xmath104 , according to the equation in  ( [ eq_bp2 ] ) . if the factor graph of the formula were a tree , these iterations would converge in a finite number of updates to the unique fixed point solution of  ( [ eq_bp2 ] ) . on generic factor graphs",
    "there is no guarantee of convergence of these iterations , in practical implementations one has thus to precise the definition of the algorithm , giving criterions to stop the iterations of the bp updates , we shall come back to this point in sec .",
    "[ sec_sat_results ] .",
    "the definition of the probability measure conditioned on the choice of the reference configuration @xmath52  ( [ eq_def_mu_cond ] ) and the subsequent derivation of the bp equations only make sense if the formula admits at least one solution compatible with @xmath52 . in the analysis of the ideal algorithm",
    "this is automatically the case as soon as the initial formula is satisfiable .",
    "however this can fail in the course of the bp guided decimation algorithm because the marginals used to generate the configuration @xmath61 are only approximate .",
    "the bp equations are no longer well defined when there are no solutions of the formula compatible with @xmath52 .",
    "this shows up for instance in the computation of the message sent by a variable @xmath13 to a clause @xmath14 ; whenever the product @xmath105 vanishes for all possible values of @xmath15 the message @xmath92 can no longer be normalized , a contradiction has occured between the strong requests imposed by the clauses in @xmath106 .",
    "the bp guided decimation algorithm has then to stop and fails to construct a solution of the formula .",
    "this mechanism which unveils the contradictions in the choice of @xmath52 , and the fact that no solution is compatible with it , is actually equivalent to the unit clause propagation ( ucp ) algorithm well known in computer science .",
    "for concreteness let us recall its functioning in the case of satisfiability formulas .",
    "ucp takes in input a list of variables and a list of clauses .",
    "if all clauses have length greater or equal to 2 it stops .",
    "otherwise it chooses one of the unit clauses ( i.e. of length 1 ) .",
    "the variable in this unit clause must be fixed to the value satisfying the clause for the constructed configuration of variables to be a solution of the formula .",
    "the logical implications of this assignment are then drawn .",
    "all the clauses where the fixed variable appeared with the same sign as in the unit clause can be removed from the formula , as they are automatically satisfied .",
    "all clauses where it appeared with the opposite sign are effectively reduced in length , as the fixed variable will never satisfy them .",
    "this process is iterated as long as unit clauses are present in the formula .",
    "if clauses of length 0 are produced during the propagation of logical implications , then the input formula was not satisfiable : the logical implications required at least one of the variables to take simultaneously its two possible values . if no contradictions occur , the set of variables that appeared in unit clauses during the process are termed logically implied , their value being uniquely determined by the input formula .",
    "it turns out that an equivalent formulation of the ucp rule for drawing logical implications can be given in terms of a message passing procedure known as warning propagation ( wp )  @xcite .",
    "the messages @xmath107 that wp sends along edges of the factor graph are projections of those of bp , where the only informations retained is whether a value of the variable @xmath15 is authorized ( @xmath108 ) or not ( @xmath109 ) : @xmath110 the projection of the bp equations  ( [ eq_bp1 ] ) leads to recurrence equations on the wp messages , @xmath111 monotonicity arguments can be used to show that these recurrence equations , initialized with the permissive value of the messages @xmath112 , converge to a unique fixed point independent on the order of updates of the messages .",
    "moreover this fixed point contains the same information as revealed by ucp : a contradiction occurs in ucp if and only if there is a variable @xmath13 such that @xmath113 if no contradiction occurs the set of variables logically implied by ucp corresponds to the variables @xmath13 such that there is only one authorized value @xmath15 for it , @xmath114 this correspondance was explicitly shown in the case of satisfiability formulas in  @xcite . in our practical implementation of the bp guided decimation algorithm we check , after each assignment of a variable @xmath115 , whether a contradiction in the partial configuration @xmath67 can be detected by ucp / wp . according to the pseudocode above we do not immediately assign the variables which are logically implied by @xmath67 ; please note however that this does not modify at all the subsequent steps of the algorithm , as the bp equations effectively take into account the effect of these logical implications .",
    "we also emphasize the fact that in general there are variables which can only take one value under the law @xmath116 , yet that are not unveiled as logically implied by ucp / wp ; if this were the case ucp would always be succesful on any satisfiable formula ( and incidentally one would have p = np ) , which is of course well known to be wrong .    as a final remark on the bp guided decimation algorithm ,",
    "let us emphasize another difference with the theoretical analysis .",
    "in practice we apply the algorithm to uniformly generated formula of csp , with @xmath35 , which are typically satisfiable in the thermodynamic limit , but we can not systematically exclude unsatisfiable instances as in the analysis of the ideal algorithm .",
    "the goal of the cavity method is to compute the typical properties in the thermodynamic limit of graphical models defined on random factor graphs , and in particular the average entropy of the associated random csp . in the simplest situation , known as the replica symmetric ( rs ) case ,",
    "the hypothesis of the method is that the bethe - peierls approximation is asymptotically exact for the large random factor graphs of the ensemble considered . for concreteness",
    "we explain it in a setting encompassing the @xmath0-(xor)sat formulas , that is where each of the @xmath117 constraints imply @xmath0 randomly chosen variables .",
    "the prediction for the average log partition function then follows by averaging  ( [ eq_lnz ] ) , @xmath118 =   & -&\\alpha k \\ , \\e\\left[\\ln\\left(\\sum_\\s \\nu(\\s ) \\eta(\\s )   \\right)\\right ]    \\nonumber \\\\ & + & \\alpha \\ , \\e\\left[\\ln\\left(\\sum_{\\s_1,\\dots,\\s_k } \\psi(\\s_1,\\dots,\\s_k ) \\ , \\eta_1(\\s_1 ) \\dots \\eta_k(\\s_k )   \\right)\\right ] + \\e\\left[\\ln\\left(\\sum_\\s \\nu_1(\\s ) \\dots \\nu_l(\\s ) \\right ) \\right ] \\ . \\label{eq_lnz_av}\\end{aligned}\\ ] ] let us detail the justification and the meaning of the right hand side of this relation .",
    "we have first used the translational invariance in the definition of the random ensemble : each term in the sums of eq .",
    "( [ eq_lnz ] ) contributes on average in the same way .",
    "moreover we have introduced the random variable @xmath119 ( resp .",
    "@xmath120 ) , whose distribution can be constructed as follows : drawing a random factor graph , finding the solution of the bp equations  ( [ eq_bp1 ] ) , picking a random edge @xmath121 of the factor graph , and setting @xmath122 ( resp .",
    "@xmath123 ) . the averages in the right hand side of ( [ eq_lnz_av ] ) are thus over independent copies of @xmath119 and @xmath120 , over the random constraint function @xmath124 , and over a poisson random variable @xmath125 of mean @xmath126 .",
    "this last quantity is the degree of an uniformly chosen variable inside such a factor graph .",
    "the equations fixing the distributions of the random variables @xmath119 and @xmath120 can be obtained either looking for the stationary points of  ( [ eq_lnz_av ] ) or interpreting the bp equations  ( [ eq_bp1 ] ) in the random graph perspective .",
    "both reasoning leads to the distributional equations @xmath127 these equations have to be interpreted as equalities between distributions of random variables .",
    "the @xmath128 ( resp .",
    "@xmath129 ) are independent copies of the random variable @xmath119 ( resp .",
    "@xmath120 ) , @xmath125 is a poissonian random variable of parameter @xmath126 , and @xmath86 and @xmath87 have been defined in  ( [ eq_bp1],[eq_bp2 ] ) , @xmath86 being itself random because of the choice of the constraint function @xmath124 .",
    "the rs cavity method is based on the assumption of asymptotic correctness of the bethe - peierls approximation , which can be rephrased as the existence of a single pure state ( or cluster ) in the probability law @xmath53 . a complementary statement of the rs method concerns the local description of the law @xmath53 .",
    "let us consider an arbitrary variable node @xmath130 , and its depth @xmath131 neighborhood , that is the set of variables at graph distance smaller or equal than @xmath131 from @xmath130 . in such random graph ensembles",
    "this neighborhood is , with high probability , a galton - watson random tree with poissonian offspring of mean @xmath126 for the variable nodes ( the constraint nodes being of course always of degree @xmath0 ) . in the rs case the marginal of the law @xmath53 for the variables in this neighborhood converges in distribution to the law of a finite tree of depth @xmath131 , the only effect of the rest of the graph being summarized in a single message @xmath119 acting on the boundary ( the depth @xmath131 variables ) , drawn independently with the fixed point distribution solution of eq .",
    "( [ eq_msg_rs ] ) . in other words the depth @xmath131 variables",
    "would be considered independent if the constraints inside the depth @xmath131 neighborhood around @xmath130 were removed .    in the context of random csps",
    "the rs assumption is only valid for small values of the density of constraints @xmath42 .",
    "when this parameter grows the solution space splits into a large number of pure states ( clusters ) , which induces non - trivial correlations between the variables of the graphical model .",
    "the cavity method at the level of the first step of replica symmetry breaking ( 1rsb ) is able to describe this situation  @xcite .",
    "let us sketch some of its important features without entering into technical details .",
    "the assumption of the 1rsb method is that the bethe - peierls approximation can still be used , but only for the probability measures restricted to a single pure state ; to each such pure state is associated a solution of the bp equations  ( [ eq_bp1 ] ) . in order to handle the proliferation of pure states",
    "one introduces , on each directed edge of a given factor graph , a probability distribution , with respect to the choice of the pure states , of the corresponding bp messages .",
    "the 1rsb equations linking these distributions on adjacent edges depend on the parisi parameter @xmath132 , which controls the relative importance of the pure states in the sampling of the corresponding bp messages , according to their internal sizes . a slightly more explicit interpretation of the 1rsb equations has been given in  @xcite .",
    "there it was shown that the distribution over pure states can be viewed as a distribution over far - away boundary conditions , with a specific probability measure over these boundary conditions depending on @xmath132 .",
    "a special role is played by the value @xmath133 . in this case",
    "the far - away boundary conditions are themselves drawn from the original gibbs measure . the clustering transition , that is the appearance of a non - trivial solution of the 1rsb equations at @xmath133 , can thus be related to the existence of long - range correlations of a particular type ( so called point - to - set ) in the gibbs measure , as first discussed in  @xcite .",
    "these correlations measure the influence on a variable @xmath130 of fixing a subset @xmath134 of variables , for instance @xmath135 the set of variables at distance exactly @xmath136 from @xmath130 , to a reference value drawn from the equilibrium probability measure . using the notation of conditional probability defined in eq .",
    "( [ eq_def_mu_cond ] ) the typical long range point - to - set correlation reads @xmath137 where the expectation is over the equilibrium configuration @xmath61 and the factor graph model . in an unclustered regime",
    "the influence of the distant boundary vanishes , @xmath138 , while in the presence of clustering @xmath139 . in the latter case",
    "one can moreover compute the complexity of relevant clusters , that is the logarithm of the degeneracy of the clusters which bears the vast majority of the weights of the probability measures ( at the leading exponential precision ) by computing the difference in entropy of the conditional and original measures , @xmath140 and @xmath50 .",
    "the so - called condensation transition is signalled by a vanishing of this complexity .",
    "we shall come back in the next subsection on the technical details of the 1rsb @xmath133 computations , generalizing it to the case of partially decimated formulas .",
    "we turn now to the extension of the cavity method to partially decimated factor graphs .",
    "our goal is to compute the residual entropy ( [ eq_omega ] ) by averaging the bethe expression ( [ eq_lnz_ut_d ] ) with respect to the distribution of the conditional messages @xmath97 .",
    "the randomness of these objects has several origins : ( i ) the choice of the factor graph ( ii ) the generation of the reference configuration @xmath61 from the uniform measure @xmath53 ( iii ) the selection of the decimated variables in @xmath51 , each independently with probability @xmath74 .",
    "the difficulty of this computation arises from the correlation between ( i ) and ( ii ) , the measure @xmath53 being itself defined in terms of the factor graph .",
    "this dependence can however be handled within the context of the cavity method .",
    "let us suppose indeed that the local properties of the original measure @xmath50 are well described by the assumptions of replica symmetry , that is for @xmath141 $ ]  @xcite .",
    "] . we can thus perform the computation in the random tree model that corresponds locally to the random graph one . in this case the generation of the reference configuration @xmath61 of a tree factor graph model can be done recursively , in a broadcasting way , thanks to the markov property of such probability laws .",
    "the value of the root @xmath142 is first drawn with its marginal probability computed from the incoming messages according to ( [ eq_marginal ] ) .",
    "then the configuration of the neighbors of @xmath130 can be drawn conditioned on the value of @xmath142 , and the process can be iterated away from the root .",
    "once the reference configuration @xmath61 has been generated in such a way , the messages @xmath97 can be computed , their dependence on @xmath61 arising from the condition @xmath98 for variables @xmath13 in the decimated set @xmath51 . at this point , for a given tree , reference configuration @xmath61 and set @xmath51 , each directed edge of the factor graph bears a pair of messages , for instance @xmath143 on the edge from constraint @xmath14 to variable @xmath13 .",
    "we can now define the random variable @xmath144 which has the distribution of @xmath143 when one takes into account the randomness in the choice of the tree , of the set @xmath51 and of the reference configuration @xmath61 , the latter being conditioned on @xmath145 .",
    "moreover the positive integer @xmath136 indexes the depth of the random tree construction .",
    "we shall also introduce random variables having the same distribution as @xmath146 .",
    "for the sake of clarity in the following we actually introduce two versions of these random variables , @xmath147 and @xmath148 , the former being additionally conditioned on @xmath149 .",
    "the equations defining these random variables by recurrence on @xmath136 can now easily be written , @xmath150 where we defined @xmath151 , and @xmath152 where @xmath125 is a poisson random variable of parameter @xmath126 and @xmath153 are independent copies of @xmath144 .",
    "finally one has @xmath154 where the @xmath155 are independent copies of @xmath156 , and the configuration @xmath157 is drawn according to @xmath158 = \\frac{1}{z } \\psi(\\t , \\t_1,\\dots,\\t_{k-1 } )   \\eta_1(\\t_1 ) \\dots \\eta_{k-1}(\\t_{k-1 } ) \\ . \\label{eq_broadcast}\\ ] ] let us emphasize that the function @xmath124 used in the broadcasting generation of @xmath157 is the same ( random ) constraint function as the one used to compute @xmath86 in ( [ eq_pair_nu ] ) , and that the messages @xmath128 are the same in ( [ eq_pair_nu ] ) and ( [ eq_broadcast ] ) .",
    "we shall discuss a numerical procedure for solving these equations on the example of satisfiability formulas in sec .",
    "[ sec_sat ] .",
    "the prediction of the cavity method for the average residual entropy  ( [ eq_omega ] ) can finally be expressed in terms of these random variables , @xmath159 \\nonumber \\\\ & + & \\alpha \\ , \\e \\left [ \\sum_{\\t_1,\\dots,\\t_k }",
    "\\frac{\\psi(\\t_1,\\dots,\\t_k )   \\eta_1(\\t_1 ) \\dots \\eta_k(\\t_k)}{\\sum_{\\t'_1,\\dots,\\t'_k }   \\psi(\\t'_1,\\dots,\\t'_k )   \\eta_1(\\t'_1 ) \\dots",
    "\\eta_k(\\t'_k ) } \\ln \\left (   \\sum_{\\s_1,\\dots,\\s_k } \\psi(\\s_1,\\dots,\\s_k ) \\teta_1^{\\ , \\t_1}(\\s_1 ) \\dots   \\teta_k^{\\ , \\t_k}(\\s_k ) \\right ) \\right ] \\nonumber \\\\ & + & ( 1-\\theta ) \\ , \\e \\left [ \\sum_\\t   \\frac{\\nu_1(\\t ) \\dots \\nu_l(\\t)}{\\sum_{\\t'}\\nu_1(\\t ' ) \\dots \\nu_l(\\t ' ) } \\ln\\left ( \\sum_\\s \\nu_1^\\t(\\s ) \\dots",
    "\\nu_l^\\t(\\s ) \\right ) \\right ] \\ , \\label{eq_omega_cav}\\end{aligned}\\ ] ] where as before @xmath125 is a poisson random variable of parameter @xmath126 and the various @xmath160 are independent copies of the corresponding random variables , with the @xmath161 limit kept understood .",
    "we shall now discuss an important issue that we kept under silence , namely the definition of the initial condition @xmath162 .",
    "let us first make the connection between the computation just presented and the @xmath133 1rsb description of non - decimated formulas , that is consider for a while the case @xmath76 .",
    "we shall call @xmath163 the initial condition @xmath164 , with @xmath119 a random variable solution of the rs fixed point equation ( [ eq_msg_rs ] ) .",
    "it is easy to show that with such an initial condition @xmath165 for all values of @xmath136 , and that ( [ eq_omega_cav ] ) reduces to the rs prediction ( [ eq_lnz_av ] ) for the average entropy .",
    "if on the contrary one considers the initial condition @xmath166 defined by @xmath167 and iterates the recursion equations ( [ eq_pair_teta],[eq_pair_eta],[eq_pair_nu ] ) , one reproduces the @xmath133 computations in the form of  @xcite .",
    "this should not be a surprise  : the interpretation of the @xmath133 1rsb formalism presented above was precisely the study of the effect of a far away boundary , which is implemented here in this initial condition and in the limit @xmath161 . in an unclustered phase the two initial conditions lead to the same random variable @xmath168 in the large @xmath136 limit , the effect of the far away boundary vanishes at long distance and the correlation function ( [ eq_correl ] ) is equal to 0 .",
    "if on the contrary the two initial conditions do not lead to the same limit when @xmath136 diverges the correlation function remains positive , signaling the presence of clustering in the solution space . in that case the value of ( [ eq_omega_cav ] ) computed with the initial condition @xmath166 is the internal entropy of the relevant clusters , the difference between ( [ eq_lnz_av ] ) and ( [ eq_omega_cav ] ) is ascribed to the complexity , the degeneracy of the relevant clusters .",
    "we now come back to the decimated case @xmath169 .",
    "the two initial conditions are still relevant and have the same interpretation with the measure @xmath50 replaced by @xmath116 .",
    "suppose indeed that the point - to - set correlation criterion were to be tested for the typical properties of @xmath116",
    ". then one would compute the generalization of ( [ eq_correl ] ) , @xmath170 where the expectation would include an average over the set @xmath51 of @xmath171 variables .",
    "this is precisely what is realized by the two initial conditions followed by the recursion relations ( [ eq_pair_teta],[eq_pair_eta],[eq_pair_nu ] ) for this value of @xmath74 .",
    "again we shall conclude on the absence of clustering in @xmath116 when the two initial conditions have the same @xmath172 limit , and obtain the typical complexity of the clusters from the difference in the values of ( [ eq_omega_cav ] ) for the two different initial conditions .",
    "another quantity which can be interesting to compute is the amount of logical implications , in the ucp / wp sense explained in sec .  [",
    "sec_bpguided ] , induced by the choice of the partial reference solution @xmath52 .",
    "let us define as @xmath173 \\ , \\ ] ] the average fraction of variables which have been explicitly assigned or which can be logically deduced from these assignments .",
    "a motivation for the study of this quantity , as explained in  @xcite , is that @xmath174 is the average number of the newly implied variables as a single assignment step is performed .",
    "the size of this set of variables , and in particular its possible divergence with the formula size when @xmath175 is discontinuous , should thus be a measure of the sensitivity of the decimation procedure with respects to small errors made by the bp version of the procedure with respects to the ideal one .",
    "the computation of @xmath175 can be performed , within the rs assumptions on the local structure of the probability law @xmath50 , in the locally equivalent random tree model . for",
    "a generic csp one can reproduce the reasoning above , replacing the conditional messages @xmath176 by their wp counterparts @xmath177 according to the projection defined in  ( [ eq_projection ] ) .",
    "this leads to the similar definition of sequences of random pairs of variables , @xmath178 , @xmath179 and @xmath180 , which obeys recursion equations analogous to eqs .",
    "( [ eq_pair_teta],[eq_pair_eta],[eq_pair_nu ] ) , @xmath181 @xmath182 the function @xmath175 can then be computed as @xmath183 \\ , \\ ] ] in the @xmath161 limit .",
    "this form of the computation is valid for any csp ; in some particular cases one can however devise a more efficient ( and numerically more precise ) formulation , using the specific form of the constraints rules to replace the wp message in the second entry of the random pair by a probability of implication .",
    "we refer the reader to  @xcite for further details on this computation for random satisfiability formulas .",
    "we apply in this section the general formalism developed above to the ensemble of xor - satisfiability formulas . as we shall see",
    "great simplifications occur for this simple model , and the study of both the decimated ensemble of random formulas and of the bp guided decimation algorithm can in fact be performed with simpler methods  @xcite .",
    "it is however an instructive toy model to begin with before handling the more involved case of satisfiability formulas , and has deep connections with information theory , in particular with the low density parity check codes .",
    "the analysis of the `` maxwell decoder '' in  @xcite is actually very tightly related with the content of this section .",
    "the constraints of a xorsat csp have been defined in eq .",
    "( [ eq_psi_xorsat ] ) .",
    "the set of solutions of such a csp exhibits some simplifying symmetries , even in the decimated case where some variables are fixed to a given value .",
    "it is indeed easy to realize that a non - decimated variable is either fixed to + 1 in all the solutions , or fixed to -1 , otherwise it takes the value + 1 in exactly half of the solutions and -1 in the other half . consequently the bp messages @xmath91 and @xmath92 can be restricted to a set of three possible types , that we shall encode with three - valued numbers @xmath184 and @xmath185 according to the following correspondence : @xmath186 with these notations the bp equations ( [ eq_bp2 ] ) can be rewritten as @xmath187 the second expression is well defined as long as no contradictions are detected , which means that the conditions in the last two lines are not fulfilled simultaneously .",
    "the boundary condition for a decimated variable @xmath188 is @xmath189 for all neighboring interactions @xmath190 .    due to the symmetry of the model",
    "the bp equations ( [ eq_bp_xorsat ] ) can actually be regarded as wp equations that express the simplifications of the unit propagation rule .",
    "the first equation reflects the fact that a constraint imposes the value of one of its variables if and only if the @xmath191 other variables are fixed ( either by decimation or by propagation of logical implications ) , the second means that a variable is fixed as soon as one of its neighboring clauses imposes its value .      following the general formalism introduced in sec .  [ sec_cav ] for the treatment of decimated csps and the parametrization of the bp messages in terms of @xmath192 and @xmath193 , we have to find the distributions of the random variables @xmath194 , @xmath195 and @xmath196 for @xmath197 .",
    "these are the solutions of eqs .",
    "( [ eq_pair_teta],[eq_pair_eta],[eq_pair_nu ] ) specialized to the functions @xmath86 , @xmath87 and @xmath124 of the xorsat model",
    ". the relevant solution of this equation takes a particularly simple form which allows for an analytic solution .",
    "the results of  @xcite imply indeed that the set of solutions of a non - decimated @xmath0-xorsat formulas is described by the trivial solution of the rs equation , @xmath198 .",
    "moreover the value of the conditional message @xmath199 can not be equal to @xmath200  : by definition @xmath199 describes the measure where the reference solution has been drawn conditional on its value at the root being @xmath201 , whereas @xmath202 would mean that all solutions compatible with the values of the reference on some subset of variables @xmath51 have @xmath200 at the root , which is in contradiction with the hypothesis . in consequence the solution of ( [ eq_pair_teta],[eq_pair_eta],[eq_pair_nu ] ) can be looked for under the form : @xmath203 inserting these forms in ( [ eq_pair_teta],[eq_pair_eta],[eq_pair_nu ] ) leads to the following equations  : @xmath204 \\ , \\qquad   y_{\\ell+1 } = \\phi_\\ell^{k-1 } \\ ,   \\label{eq_xor_x_y_phi}\\ ] ] which can be closed under a single recursion equation on @xmath205 , @xmath206    ) for 3-xorsat .",
    "left panel : @xmath207 , right panel : @xmath208 . on each of the plot",
    "the three curves are for different values of @xmath74 ( growing from bottom to top).,title=\"fig:\",width=302 ] ) for 3-xorsat .",
    "left panel : @xmath207 , right panel : @xmath208 . on each of the plot",
    "the three curves are for different values of @xmath74 ( growing from bottom to top).,title=\"fig:\",width=302 ]    the fixed point equation @xmath209 has between one and three distinct solutions on @xmath210 $ ] , depending on the values of @xmath42 and @xmath74 ( examples of the various situations are provided on fig .",
    "[ fig_xor_recurs ] ) .",
    "a quick analysis of the equation shows that for @xmath211 , with @xmath212 the equation ( [ eq_xor_phi ] ) admits a single solution for all values of @xmath74 .",
    "if on the contrary @xmath213 , there exists a range of @xmath74 , denoted @xmath214 $ ] , where eq .",
    "( [ eq_xor_phi ] ) admits three solutions in @xmath210 $ ] . in that case",
    "we shall call @xmath175 ( resp .",
    "@xmath215 ) the smallest ( resp .",
    "the largest ) of these three solutions . some examples of these curves are shown in fig .",
    "[ fig_xor_phi ] , and the lines @xmath216 are displayed in fig .",
    "[ fig_xor_lines ] .    ) for @xmath217 . left panel : @xmath207 , right panel : @xmath208 .",
    "the solid line is @xmath175 , the dashed line in the right panel is @xmath215 , the largest fixed point solution of eq .",
    "( [ eq_xor_phi]).,title=\"fig:\",width=302 ] ) for @xmath217 . left panel : @xmath207 , right panel : @xmath208 .",
    "the solid line is @xmath175 , the dashed line in the right panel is @xmath215 , the largest fixed point solution of eq .",
    "( [ eq_xor_phi]).,title=\"fig:\",width=302 ]     plane for the ensemble of 3-xorsat decimated random formulas , the three critical lines meet at @xmath218.,width=302 ]    the expression of @xmath80 given in eq .",
    "( [ eq_omega_cav ] ) can be computed using the ansatz ( [ eq_xor_ansatz ] ) , @xmath219 ) ] \\ , \\ ] ] where the limit @xmath161 is kept understood . using the relations between @xmath220 , @xmath221 and @xmath222 stated in ( [ eq_xor_x_y_phi ] )",
    ", one can express this residual entropy in terms of @xmath222 , @xmath223 \\ . \\label{eq_xor_homega}\\ ] ] when @xmath211 the fixed point solution of ( [ eq_xor_phi ] ) is unique , hence @xmath224 is a smoothly decreasing function of @xmath74 , as plotted on the left panel of fig .",
    "[ fig_xor_omega ] . for larger values of @xmath42 ,",
    "i.e. @xmath213 , we have seen above that there exists a range of parameter @xmath225 $ ] where two solutions of ( [ eq_xor_phi ] ) , @xmath175 and @xmath215 , coexists .",
    "on the right panel of fig .",
    "[ fig_xor_omega ] one can see that the two branches of the entropy , @xmath226 and @xmath227 cross each other at an intermediate value @xmath228 $ ] , which is also plotted in function of @xmath42 in the phase diagram fig .",
    "[ fig_xor_lines ] .",
    "it is natural ( and we shall argue in the following that it is the correct choice ) to consider that in the region of coexistence the relevant branch is the one leading to the largest entropy , @xmath229 $ ] , which thus exhibits a discontinuity in its slope when @xmath74 crosses @xmath230 .",
    "a direct justification of this choice will be given in the next subsection , here we argue in its favour on the basis of the cavity method .",
    "the two boundary conditions discussed in sec .",
    "[ sec_cav_dec ] corresponds to @xmath231 ( @xmath163 ) and @xmath232 ( @xmath166 ) .",
    "when the fixed point solution of ( [ eq_xor_phi ] ) is unique both initial conditions lead to the same limit @xmath175 in the large @xmath136 limit , which leads to the conclusion that there is no clustering in the solution space of the decimated formula for these values of @xmath42 and @xmath74 .    in the region of coexistence",
    "these two initial conditions yield , respectively , @xmath233 and @xmath234 as @xmath136 diverges .",
    "one is thus led to assign the difference @xmath235 to the complexity of the decimated formula , that is the contribution of the entropy due to the presence of clusters in the measure @xmath236 .",
    "this interpretation is valid only when the complexity is positive , that is in the range @xmath237 $ ] .",
    "a condensation transition occurs when the threshold @xmath230 is crossed . in the region",
    "@xmath238 $ ] only a subextensive number of clusters are relevant , and the total entropy is equal to their internal entropy .",
    "the latter being given by the thermodynamic computation with the initial condition @xmath166 , one concludes that @xmath239 for @xmath240 $ ] .     for 3-xorsat . left panel : @xmath241 , right panel : @xmath242 .",
    "the solid line is the true entropy @xmath229 $ ] , the dashed lines are the two irrelevant branches , @xmath243$].,title=\"fig:\",width=302 ]   for 3-xorsat .",
    "left panel : @xmath241 , right panel : @xmath242 .",
    "the solid line is the true entropy @xmath229 $ ] , the dashed lines are the two irrelevant branches , @xmath243$].,title=\"fig:\",width=302 ]      it is instructive to rederive the above results on xor - satisfiability decimated formulas by more direct means .",
    "let us first show that for this computation one can assume that the formula is unfrustrated ( i.e. @xmath244 for all constraints ) and that in the reference solution @xmath61 all variables are fixed to @xmath245 .",
    "suppose indeed that the formula has been generated with random @xmath246 . as we have conditioned the ensemble of formulas on satisfiable ones , there is at least one solution ,",
    "call it @xmath247 . by the gauge transformation @xmath248 , the solutions @xmath79 of the original problem are in bijection with the solutions @xmath249 of the unfrustrated model .",
    "consider furthermore a reference solution @xmath61 of the unfrustrated model and a set @xmath51 of variables , such that the decimated problem to solve reads @xmath250 applying now the gauge transformation @xmath251 , noting that @xmath61 is a solution of the unfrustrated model , one reduces the problem to @xmath252 having get rid of the signs in the constraints and in the reference solution , the size and the structure of the set of solutions of the decimated problem can be deduced from the underlying hypergraph of constraints  @xcite .",
    "the initial hypergraph is drawn uniformly with @xmath253 clauses of length @xmath0 among @xmath1 variables .",
    "a fraction @xmath74 of the variables are fixed to + 1 , and can thus be eliminated from the constraints which are reduced in size .",
    "unit clause propagation can then be run to propagate these simplifications .",
    "the details of this computation are deferred to appendix  [ app_xor ] , we only quote here the results .",
    "when ucp stops , there are @xmath254 variables unassigned , with @xmath175 the smallest fixed point solution of ( [ eq_xor_phi ] ) .",
    "the simplified formula contains constraints of all lengths @xmath255 $ ] , more precisely there are @xmath256 clauses of length @xmath257 .",
    "the unassigned variables have a poisson degree distribution with average @xmath258 .    at this point",
    "the structure of the solutions of this reduced formula can be studied with the leaf removal algorithm  @xcite .",
    "the details are again deferred to appendix  [ app_xor ] .",
    "one finds that the presence of an extensive 2-core is equivalent to eq .",
    "( [ eq_xor_phi ] ) admitting more than one solution , i.e. if @xmath213 and in the interval @xmath259 $ ] .",
    "if this is the case , the larger solution @xmath124 gives the fraction of the variables which are either fixed at the end of ucp , or in the backbone of the ucp - reduced formula .",
    "the difference between the number of variables and the number of clauses in the 2-core is @xmath260 . in the interval",
    "@xmath261 $ ] this quantity is positive , hence it is interpreted as the entropy of the number of solutions of the 2-core , i.e. the complexity of the reduced formula . in @xmath238",
    "$ ] the negative complexity is due to rare events , typically the 2-core only contains a sub - exponential number of solutions , hence the discontinuity in slope of @xmath81 at this condensation transition @xmath230 .",
    "for @xmath262 ( the usual dynamical threshold ) the original formula already has a 2-core , hence @xmath263 in this case .",
    "similarly @xmath264 for @xmath265 , the satisfiability transition of the standard ensemble .",
    "let us remark that the density of clauses of length 2 in the ucp - reduced formula reads @xmath266 .",
    "when @xmath74 reaches @xmath267 from below this density reaches @xmath268 and thus the sub - formula made of length 2 clauses percolates .",
    "indeed @xmath267 is the point of disappearance of the solution @xmath175 from the eq .",
    "( [ eq_xor_phi ] ) , hence by the implicit function theorem the derivatives with respect to @xmath222 of the two sides of eq .",
    "( [ eq_xor_phi ] ) are equal at that point .",
    "we present in this section the results of numerical experiments performed with the bp guided decimation algorithm . according to the definitions given in the general setting , these experiments consisted in generating a random xorsat formula ( with @xmath269 with probability one half ) and assigning step by step the value of the variables .",
    "the variables were assigned in an uniformly random order .",
    "each time a variable is assigned the bp equations ( [ eq_bp_xorsat ] ) are iterated until convergence is reached or a contradiction is detected ( that is a variable @xmath13 receives at least two contradicting messages @xmath270 and @xmath271 from the neighboring clauses ) .",
    "as long as no contradiction is found , the value of the next variable to be assigned is drawn according to the bp estimation of its marginal probability . in this simple model",
    "this bp marginal is either completely unbiased ( when all incoming messages @xmath192 from the neighboring clauses vanish ) , in which case the value of the variable is @xmath30 with equal probability , or completely biased , and the assignment is nothing more than the validation of an implication of previous choices .",
    "a run of this algorithm is successful if it assigns the value of the @xmath1 variables without encountering any contradiction , the configuration obtained at the end of the process is then a solution of the formula .    ) ) , which vanishes for @xmath213 , the symbols are the results of numerical simulations on 800 formulas of size @xmath272 variables for each value of @xmath42 .",
    "right panel : the solid line is the curve @xmath273 , symbols indicate the mean and variance ( over unsuccesful runs ) of the fraction of variables assigned before a contradiction is detected , from numerical simulations on 800 formulas of size @xmath272 variables for each value of @xmath42.,title=\"fig:\",width=302 ] ) ) , which vanishes for @xmath213 , the symbols are the results of numerical simulations on 800 formulas of size @xmath272 variables for each value of @xmath42 .",
    "right panel : the solid line is the curve @xmath273 , symbols indicate the mean and variance ( over unsuccesful runs ) of the fraction of variables assigned before a contradiction is detected , from numerical simulations on 800 formulas of size @xmath272 variables for each value of @xmath42.,title=\"fig:\",width=302 ]    in the left panel of fig .",
    "[ fig_xor_prob_halt ] we present the probability of successful runs , with respect to the choice of the formula and to the randomness in the course of the run ( order of the variables and free choices for unbiased marginals ) .",
    "it goes to a finite value in the thermodynamic limit ( which can be computed analytically , see below ) for @xmath274 , and to 0 for @xmath213",
    ". a further piece of information is given in the right part of fig .",
    "[ fig_xor_prob_halt ] about the number of steps performed by the algorithm ( i.e. the number of variables assigned ) before it stops .",
    "let us call this random variable @xmath275 and the associated fraction @xmath276 .",
    "we plotted the mean and variance ( represented by error bars ) of @xmath277 , computed only on unsuccesful runs . for @xmath274",
    "one finds that @xmath277 converges in the thermodynamic limit to a non trivial random variable . on the contrary in the regime where the algorithm fails w.h.p .",
    "( i.e. for @xmath213 ) the variance of @xmath277 vanishes at large @xmath1 ( this result was obtained by performing the simulations at various sizes , which is not shown on the plot ) . in this case @xmath277",
    "concentrates around its mean , which is found to coincide with the function @xmath273 defined above ( see in particular the inset of the right panel of fig .",
    "[ fig_xor_prob_halt ] ) .",
    "these numerical observations can now be interpreted in the light of the analytical computations performed above , which were mimicking the decimation process using the perfect marginals instead of the bp estimation .",
    "the threshold @xmath278 above which the bp guided decimation algorithm fails w.h.p .",
    "coincides with the point where the evolution in the @xmath77 phase diagram has to cross the transition lines drawn on fig .",
    "[ fig_xor_lines ] , and in particular to penetrate the region @xmath279 $ ] where the 2-core of the residual formula only admits a sub - exponential number of solutions when the perfect marginals are used for the decimation . in this case",
    "the algorithm is naturally very sensitive to the small mistakes made by the bp algorithm , which destroy the few solutions of the 2-core .",
    "the fact that the residual formula is no longer satisfiable remains however unnoticed until a fraction @xmath273 of the variables have been assigned . at this point",
    "the fraction @xmath175 of decimated and logically implied variables has a finite discontinuity ( see right panel of fig .",
    "[ fig_xor_phi ] ) , which means that the assignment of a few new variables triggers an avalanche of implications of extensive size .",
    "the extensive subgraph of newly implied variables will contain implication cycles which , if some mistakes have been done in the previous assignment steps , will lead to contradictions .",
    "more quantitatively , it was underlined above that @xmath273 marked the percolation of the subformula of length 2 clauses which supports the propagation of the logical implications .",
    "the simplifying symmetries of the xor - satisfiability formulas are such that bp guided decimation is here almost equivalent to the unit clause propagation algorithm with random heuristic ( and also to the random pivoting gaussian elimination algorithm of  @xcite ) .",
    "the only slight difference between the two lies in the order in which the variables are treated , the logical implications being propagated as soon as they are detected in ucp . in the bp description of the algorithm the implication is effectively taken into account by the propagation of the messages , even if the variable is not explicitely declared as assigned .",
    "the behavior of ucp on xor - satisfiability formulas has been studied in  @xcite , the results we just found are in agreement with the ones of this paper .",
    "in particular the phase diagram in fig .",
    "[ fig_xor_lines ] reproduces the left panel of fig . 3 in  @xcite , apart from the difference in the definition of the vertical time axis explained above .",
    "the equivalence with ucp allows also the computation of the probability of success in the thermodynamic limit for @xmath274 .",
    "a detailed derivation for satisfiability formulas can be found in  @xcite , we state here the result without proof ,",
    "@xmath280 \\qquad \\text{with } \\quad   f(t ) = \\alpha k ( k-1 ) t^{k-2 } ( 1-t ) \\ .\\ ] ] for @xmath217 this expression can be further simplified , @xmath281 \\ . \\label{eq_xor_prob}\\ ] ] this function is plotted as a solid line in the left panel of fig .",
    "[ fig_xor_prob_halt ] and agrees with the results of the numerical experiments .",
    "we turn in this section to the case of random satisfiability formulas .",
    "we shall first apply the analytical cavity formalism to this particular model , then present the results of numerical experiments with the bp guided decimation algorithm and confront the two approaches .",
    "let us begin by expliciting the bp equations  ( [ eq_bp2 ] ) for the satisfiability constraints defined in  ( [ eq_psi_sat ] ) . as the variables @xmath15 are binary the messages @xmath282 can be parametrized with a single real for each , that we shall denote @xmath283 , under the form : @xmath284 as we included the coupling contant @xmath285 in these definitions a positive value of , for instance @xmath185 , does not indicate a bias of @xmath15 towards the value @xmath286 in the absence of clause @xmath14 , but rather towards the value @xmath287 that does satisfy @xmath14 .",
    "the message sent by a clause to one of its variables is then found to be @xmath288 to give the explicit form of the other set of bp equations it is advisable to introduce some further definitions . we shall call @xmath289 ( resp .",
    "@xmath290 ) the set of clauses in @xmath17 which are satisfied by @xmath291 ( resp .",
    "@xmath292 ) , that is @xmath293 .",
    "moreover we let @xmath294 ( resp .",
    "@xmath295 ) denote the set of clauses in @xmath106 agreeing ( resp . disagreeing ) with @xmath14 on the value",
    "@xmath13 should take . in formulae , @xmath296 , @xmath297 . with these notations",
    "the message sent by a variable to a clause reads @xmath298 while the marginal probability of a variable @xmath13 reads from ( [ eq_marginal ] ) : @xmath299 finally when a subset of variables @xmath51 is fixed to a reference configuration @xmath52 , the bp equations ( [ eq_bp_sat_1],[eq_bp_sat_2 ] ) are complemented with the boundary condition @xmath300 when @xmath95 .",
    "note that in all the numerical implementations of these equations we keep the hyperbolic tangent of the messages @xmath192 and @xmath193 which are free from this apparent singularity in the definition of @xmath193 around a decimated variable .",
    "the replica symmetric version of the cavity method for non - decimated random satisfiability formulas , following the general formalism recalled in sec .",
    "[ sec_cav_usual ] , corresponds to a probabilistic interpretation of the bp equations ( [ eq_bp_sat_1],[eq_bp_sat_2 ] ) applied to random factor graphs .",
    "as the cardinality of @xmath106 converges to a poisson random variable of parameter @xmath126 and the sign @xmath285 in the constraints definition are @xmath30 with probability one half , it follows that @xmath301 and @xmath302 converge to two independent poisson random variables with parameter @xmath303 , denoted @xmath304 and @xmath305 below .",
    "one has thus to look for the solution of the distributional equations corresponding to ( [ eq_bp_sat_1],[eq_bp_sat_2 ] ) for the random variables @xmath193 and @xmath192 : @xmath306 in these equations @xmath307 are independent copies of @xmath193 , @xmath308 and @xmath309 are independent copies of @xmath192 .    a numerical determination of the fixed point distributions solutions of these equations can be achieved by the population dynamics method , revivified in this context by  @xcite .",
    "this consists in representing the random variable @xmath192 ( resp .",
    "@xmath193 ) by a sample of @xmath310 elements @xmath311 ( resp .",
    "@xmath312 ) .",
    "the sample representing @xmath193 is initialized arbitrarily , for instance @xmath313 for all @xmath314 $ ] , then the two samples are updated alternatively as follows .",
    "a new sample representing @xmath192 is obtained from the representation of @xmath193 by , independently for each @xmath314 $ ] :    * drawing @xmath191 indices @xmath315 independently , uniformly in @xmath316 $ ] * setting @xmath317    subsequently the sample of @xmath193 is updated , for each @xmath18 , by :    * drawing @xmath304 and @xmath305 , two poisson random variables of mean @xmath318 * drawing @xmath319 indices @xmath320 independently , uniformly in @xmath316 $ ] * setting @xmath321    the replica symmetric description of the solution space of random satisfiability formulas ( first obtained with replica computations in  @xcite ) is only valid for low enough values of @xmath42 .",
    "the 1rsb analysis at @xmath133 , described in generic terms in sec .",
    "[ sec_cav_usual ] , has been performed on the satisfiability ensemble in  @xcite . for @xmath46",
    "one finds a clustering transition at @xmath41 and a condensation one at @xmath47 , before the satisfiability transition @xmath34 determined in  @xcite ( for instance @xmath322 , @xmath323 and @xmath324 for @xmath325 ) . in the intermediate regime @xmath326 $ ] the complexity of the relevant clusters is positive and vanishes at @xmath47 , a point beyond which most of the solutions are contained in a sub - exponential number of clusters .",
    "the value @xmath217 happens to be a particular case , for which the intermediate regime with a positive complexity is absent , that we shall not consider in the following .",
    "let us now apply the formalism of sec .",
    "[ sec_cav_dec ] to ensemble of decimated random satisfiability formulas . using the parametrization ( [ eq_param_sat ] ) of the messages the random variables @xmath148 , @xmath147 and @xmath144 becomes random pairs of reals , respectively @xmath196 , @xmath194 and @xmath195 for @xmath197 . in the same spirit as we include the coupling constants in the definitions ( [ eq_param_sat ] ) of the fields @xmath192 and @xmath193 , we also `` gauge '' the definition of these random variables such that @xmath327 ( resp .",
    "@xmath328 ) corresponds to the message @xmath329 where @xmath52 is drawn conditional on @xmath330 satisfying ( resp .",
    "not satisfying ) clause @xmath14 .",
    "the recursion equations ( [ eq_pair_teta],[eq_pair_eta],[eq_pair_nu ] ) then reads @xmath331 where @xmath332 are two independent poisson random variables of parameter @xmath318 and the @xmath333 and @xmath334 are independent copies of @xmath195 . finally eq .",
    "( [ eq_pair_nu ] ) translates into @xmath335 where the configuration of the variables @xmath157 is drawn with one of the two following probability laws according to the value of @xmath201 , @xmath336 =   \\prod_{i=1}^{k-1 } \\frac{1+\\t_i \\tanh h_i } { 2 } \\ , \\label{eq_sat_broadp}\\ ] ] or @xmath337 =   \\frac{1-\\i(\\t_1=\\dots=\\t_{k-1}=-1 ) } { 1-\\prod_{i=1}^{k-1}\\frac{1-\\tanh h_i}{2 } }   \\prod_{i=1}^{k-1 } \\frac{1+\\t_i \\tanh h_i } { 2 } \\ . \\label{eq_sat_broadm}\\ ] ] the fields @xmath338 are the same for the computation of @xmath192 in ( [ eq_sat_pair_2 ] ) and in the probability law of the @xmath330 s expressed in ( [ eq_sat_broadp],[eq_sat_broadm ] ) .",
    "the two initial conditions correspond to @xmath339 for the initialization called @xmath163 , and @xmath340 for @xmath166 .",
    "finally the average entropy of the decimated random formulas reads from ( [ eq_omega_cav ] ) @xmath341 \\nonumber \\\\ & + & \\alpha \\ , \\e \\left [ \\sum_{\\t_1,\\dots,\\t_k }   \\frac{1-\\i(\\t_1=\\dots=\\t_k=-1 ) } { 1-\\prod_{i=1}^k\\frac{1-\\tanh h_i}{2 } }   \\prod_{i=1}^k \\frac{1+\\t_i \\tanh h_i } { 2 } \\ln \\left ( 1-\\prod_{i=1}^k\\frac{1-\\tanh \\th^{\\t_i}_i}{2 } \\right ) \\right ] \\nonumber \\\\ & + & ( 1-\\theta ) \\ , \\e \\left [ \\sum_\\t   \\frac{1+\\t \\tanh\\left(\\sum_{i=1}^{l_+ } u_i - \\sum_{i=1}^{l_- } v_i\\right)}{2 } \\ln\\left ( \\sum_\\s \\prod_{i=1}^{l_+ } \\frac{1+\\s \\tanh u^\\t_i}{2 } \\prod_{i=1}^{l_- } \\frac{1- \\s \\tanh v^{-\\t}_i}{2 } \\right)\\right ] \\ . \\label{eq_omega_sat}\\end{aligned}\\ ] ]    a numerical determination of the distribution of the random variables @xmath194 and @xmath195 can be performed by a population dynamics algorithm .",
    "we introduce two population of @xmath310 triplets of reals , @xmath342 and @xmath343 , such that , for instance , the empirical distribution of @xmath344 after @xmath136 steps of the algorithm is a good approximation of the random variable @xmath345 . in the initialization step of the algorithm the @xmath338 s",
    "are drawn according to the fixed point solution of eq .",
    "( [ eq_sat_rs ] ) , which is obtained from a preliminary rs population dynamics procedure . for the initial condition @xmath163 ( resp .",
    "@xmath166 ) one sets @xmath346 ( resp .",
    "@xmath347 ) for all @xmath348 $ ] .",
    "then the following two kind of updates are iterated @xmath136 times .",
    "a new sample of @xmath343 is obtained by , independently for each @xmath314 $ ] :    * drawing @xmath191 indices @xmath315 independently , uniformly in @xmath316 $ ] * setting @xmath317 * independently for @xmath349 * * with probability @xmath74 set @xmath350 and @xmath351 * * otherwise set @xmath352 , and @xmath353 * generating a configuration @xmath157 from the law @xmath354 $ ] defined in eq.([eq_sat_broadp ] ) * setting @xmath355 * generating a configuration @xmath157 from the law @xmath356 $ ] defined in eq.([eq_sat_broadm ] ) * setting @xmath357    subsequently the sample of @xmath342 is updated , for each @xmath18 , by :    * drawing @xmath304 and @xmath305 , two poisson random variables of mean @xmath318 * drawing @xmath319 indices @xmath320 independently , uniformly in @xmath316 $ ] * setting @xmath321 , @xmath358 and @xmath359    after a large number of these iterations has been performed the determination of the residual entropy ( [ eq_omega_sat ] ) is easily obtained : the expectation values can be interpreted as empirical averages over the population .",
    "we have implemented this numerical procedure and performed the computation for various values of @xmath42 and @xmath74 .",
    "the results for @xmath325 are as follows . for small enough values of @xmath42 the large @xmath136 limit of the recursion relations  ( [ eq_sat_pair_1],[eq_sat_pair_2 ] )",
    "is found to be independent of the initial condition @xmath163 or @xmath166 used , and the residual entropy density @xmath81 is a smoothly decreasing function .",
    "this quantity is plotted for @xmath360 on the left panel of fig .",
    "[ fig_sat_omega ] . for larger values of @xmath42",
    "there appears a regime @xmath225 $ ] in which the two initial conditions leads to different fixed point solutions of  ( [ eq_sat_pair_1],[eq_sat_pair_2 ] ) , signaling the presence of non - trivial long range point - to - set correlations in the decimated formula .",
    "the two branches of @xmath81 are plotted in the right panel of fig .",
    "[ fig_sat_omega ] for @xmath361 , and are found to cross each other at @xmath362 $ ] . for @xmath363 $ ] the branch with the highest value of @xmath80 corresponds to the @xmath163 initialization , the situation being reversed for @xmath364 $ ] . as explained on the simpler xorsat example , we interpret these results as following from the existence of a positive complexity of relevant clusters in the regime @xmath237 $ ] . in this case",
    "the highest branch of @xmath81 is the total entropy of the decimated formula , while the difference between the two branches is its complexity . on the contrary for @xmath238 $ ]",
    "the upper branch is the only relevant one , the total entropy is dominated by the subexponential number of clusters around a typical reference solution @xmath61 .",
    "the three critical lines are displayed in the @xmath77 of fig .",
    "[ fig_sat_lines_thermo ] , which also shows that , as follows from their definitions , @xmath365 ( resp .",
    "@xmath366 ) reaches the horizontal axis @xmath76 at the usual dynamic transition @xmath41 ( resp .",
    "condensation threshold @xmath47 ) .",
    "we estimated the location of the critical point where @xmath367 and @xmath230 merge to be @xmath368 , @xmath369 , by interpolation of the results obtained for values of @xmath42 slightly larger .",
    "of 4-sat random formulas . left panel : @xmath360",
    ", @xmath81 is smoothly decreasing .",
    "right panel : @xmath361 , the inset is a zoom around the singular point of @xmath81.,title=\"fig:\",width=302 ]   of 4-sat random formulas . left panel : @xmath360 , @xmath81 is smoothly decreasing .",
    "right panel : @xmath361 , the inset is a zoom around the singular point of @xmath81.,title=\"fig:\",width=302 ]     plane , from bottom to top @xmath365 , @xmath366 and @xmath273 .",
    "symbols result from the population dynamics algorithm , lines are guides to the eye.,width=302 ]      we proceed now with the computation of the fraction of logically implied variables , following the lines sketched in sec .",
    "[ sec_cav_phi ] ( the same results were presented in  @xcite with a slightly different formulation ) .",
    "let us first discuss the warning propagation equations for satisfiability formulas . according to the projection equations  ( [ eq_projection ] ) one has to identify the situations in which a single value of a variable @xmath15 is allowed by a bp message .",
    "for the messages sent by a clause to a variable this can only happen when the variable is forced to satisfy the clause , i.e. @xmath370 , in which case we define the wp message to be @xmath371 , otherwise @xmath372 .",
    "a message @xmath92 sent from a variable to a clause can allow both values of variable @xmath15 , or force it to the value satisfying @xmath14 ( @xmath373 ) , or to the value disastifying it ( @xmath374 ) .",
    "it is only the latter case that shall be propagated by the wp equations , we thus affect the value @xmath375 to the first two situations and @xmath376 to the latter .",
    "the wp equations read with these definitions : @xmath377 for a variable @xmath188 the boundary condition reads @xmath378 .    in order to compute the average fraction of logically implied variables , within the assumptions of the rs cavity method on the local description of the uniform probability measure",
    "@xmath50 , we introduce the sequences of random variables @xmath379 , @xmath380 and @xmath381 as defined in sec .  [ sec_cav_phi ]",
    ". it turns out that not all the values of @xmath201 have to be considered .",
    "consider for instance the random variable @xmath381 .",
    "its distribution is by definition the one of @xmath382 , in the random tree model of depth @xmath136 , rooted at variable @xmath13 which appears solely in the clause @xmath14 .",
    "depending on @xmath201 the reference configuration @xmath61 is drawn conditional on @xmath330 either satisfying ( if @xmath383 ) or not satisfying ( @xmath384 ) the constraint @xmath14 . in the latter case @xmath385 is necessarily equal to 0 : at least one of the variables in @xmath386 must satisfy @xmath14 in @xmath61 , and this variable can not be forced to its opposite value by @xmath52 . we can hence restrict our attention to @xmath387 , which is found to obey @xmath388 the probability that the random variable @xmath389 equals @xmath390 is indeed the probability that , conditional on @xmath330 satisfying the root clause @xmath14 , the configuration of the @xmath191 other variables in @xmath386 are drawn to the values unsatisfying @xmath14 .    for similar reasons the right hand side of this equation does not depend on @xmath391 and we can complete this equation with the recursion on @xmath392 and @xmath393 , which read @xmath394 where as usual @xmath332 are two poisson random variables of parameter @xmath395 and the @xmath396 and @xmath397 are independent copies of @xmath387 .",
    "finally the average fraction of either decimated or directly implied variables can be obtained as @xmath398 \\ . \\label{eq_sat_phi}\\ ] ] these recursion equations can be solved numerically using the same kind of population dynamics as explained above , updating in turns populations of pairs @xmath399 and @xmath400 .",
    "the two kind of initial conditions already discussed correspond here to @xmath401 for @xmath163 , and @xmath402 for @xmath166 .",
    "this numerical resolution leads to the following results for @xmath325 . at small enough values of @xmath42",
    "the two initial conditions lead to the same large @xmath136 limit , the function @xmath175 is smoothly increasing ( see left panel of fig .  [ fig_sat_phi ] ) . for larger values of @xmath42",
    "there exists a range of parameter @xmath403 $ ] where the quantity ( [ eq_sat_phi ] ) , computed from the initial condition @xmath166 , is strictly greater than the one reached from @xmath163 . in this coexistence regime",
    "we shall call @xmath215 , in analogy with the notations used for the xorsat model , the upper branch obtained from @xmath166 , see for instance the right panel of fig .",
    "[ fig_sat_phi ] . the function @xmath222 ( resp .",
    "@xmath124 ) is discontinuous at @xmath404 ( resp .",
    "@xmath405 ) .",
    "these two thresholds are the two upper curves in the phase diagram of fig .",
    "[ fig_sat_lines_both ] , which also contains for comparison a repetition of the phase diagram of fig .",
    "[ fig_sat_lines_thermo ] .",
    "the two regimes for the behaviour of @xmath175 are separated by the value @xmath406 .    at this point",
    "the reader might be puzzled by the apparent contradiction between these results and those of the previous subsection .",
    "consider indeed some parameters @xmath407 and @xmath408 $ ] .",
    "we claimed in the previous subsection that the large @xmath136 limit of the random variable @xmath194 was independent of the initial condition in @xmath409 , whereas we just found that @xmath410 does depend on it .",
    "as the latter variable is a projection of the former , this statement is at first sight paradoxical .",
    "this apparent contradiction can however be resolved by a closer inspection of the relationship between the two random variables .",
    "one has indeed @xmath411 while the two apparently contradictory statements are @xmath412 the resolution of the paradox relies on the non - commutativity of the limits @xmath161 and @xmath413 .",
    "more explicitly , under the initialization @xmath163 there is a positive probability for a field @xmath414 to have -1 as its large @xmath136 limit , yet remaining strictly superior to -1 as long as @xmath136 is finite .",
    "if the limit @xmath413 is taken before @xmath161 these fields do not participate to @xmath415 , which is thus found to be smaller in the initialization @xmath163 with respect to @xmath166 . yet",
    "if the limit @xmath161 is performed first this positive fraction of the fields @xmath414 ( with initialization @xmath163 ) reach their limit @xmath416 , hence making possible the first statement of eq .",
    "( [ eq_puzzle ] ) .",
    "we checked explictly this phenomenon by constructing a coupling of the two initializations and solved it with the population dynamics algorithm .     of assigned and logically implied variables in 4-sat random formulas , left : @xmath417 , right : @xmath418.,title=\"fig:\",width=302 ]   of assigned and logically implied variables in 4-sat random formulas , left : @xmath417 , right : @xmath418.,title=\"fig:\",width=302 ]     plane .",
    "the three lines in the bottom of the figure are those of fig .",
    "[ fig_sat_lines_thermo ] , the upper two are @xmath419 defined in sec .  [ sec_sat_phi ] from the discontinuities of @xmath175 and @xmath215 .",
    "the filled circles show the location @xmath420 of the slowest convergence of the bp iterations in the bp guided decimation algorithm , see sec .",
    "[ sec_sat_results_cvg].,width=302 ]      we have run the belief propagation guided decimation algorithm for many random 4-sat formulas .",
    "the sizes of the formulas studied are @xmath421 , with @xmath42 varying between @xmath422 and @xmath423 .",
    "the number of formulas analyzed varies with @xmath42 , but it is always larger than 2000 for @xmath424 , larger than 1200 for @xmath425 , larger than 400 for @xmath426 and between 360 and 25 ( increasing @xmath42 ) for @xmath427 .      some technical details about the numerical implementation of the bp guided decimation algorithm were given in  @xcite ( see also appendix a of  @xcite for details on the representation of bp messages and probabilities ) .",
    "the main numerical bottleneck in applying the bp guided decimation algorithm is the convergence of the iterative method for solving the bp equations , described in section  [ sec_bpguided ] .",
    "this iterative scheme is known to be a fast way of finding a fixed point of the bp equations , although sometimes it may not converge .",
    "lack of convergence may be due to different reasons : in case long range correlations develop , multiple bp fixed points appear and the convergence of bp to one of these fixed point can not be guaranteed ; on the other hand , when a single bp fixed point exists , convergence problems can be typically cured by the use of a damping term  @xcite . in all our numerical simulations",
    "we have used a damping term of intensity 0.1 , that is , when we update a message x , we do not assign to it directly the new value xnew , but rather the weighted sum 0.9 * xnew + 0.1 * x. we have verified that under these conditions the convergence ( if any ) is always exponentially fast in the number of iterative steps ( although sometimes with an exponent very small ) . because of the exponentially fast convergence , our arbitrary choice of considering bp equations solved when the maximal change in any bp message is below @xmath428 turns out to be very reasonable : indeed an accuracy of @xmath429 can be reached by simply doubling the running time .",
    "anyhow , in order to avoid entering a never - ending loop we have also fixed a maximum number of iterations equal to 1000 ; when this limit is reached non - converged bp messages are used to compute marginals and to proceed with the decimation .",
    "the last comment about technical issues regards the initialization of bp messages before the iterative solving procedure is applied . at the beginning ,",
    "when the formula is still not decimated , bp messages are initialized in a random way assigning to each @xmath430 a random value uniformly distributed between @xmath431 and @xmath432 . after each variable decimation",
    ", one can choose to keep the bp messages obtained from the last iterative procedure or to re - initialize them along the same random way described above . in principle",
    ", if a single bp fixed point exists and if this is reached by the iterative method , then the starting point should be irrelevant .",
    "moreover , one would expect that the bp fixed points of two formulas differing in just a variable are very close , and that starting from the one already reached should help convergence ( with respect to start from random messages ) .",
    "this intuition turns out to be wrong .",
    "we have strong numerical evidence that a random re - initialization of bp messages after each decimation strongly enhances the performances of the algorithm .",
    "a possible explanation is the following .",
    "our numerical procedure does not produce a perfect estimation of the marginal probabilities ( in particular when the stopping criterion used is the maximal number of iterations ) ; if messages are not re - initialized small errors may easily accumulate in the same direction , while a random re - initialization of bp messages results in a partial neutralization of these errors .       for random 4-sat formulas of various sizes .",
    "the vertical line marks the value @xmath368 beyond which the analytical computations predicted a condensation transition in the residual entropy @xmath81.,scaledwidth=60.0% ]    as a first result , we show in fig .  [",
    "fig : succprob ] the success probability for the bp guided decimation algorithm , i.e. the fraction of formulas which have been solved by this algorithm .",
    "the numerical data clearly point to an algorithmic threshold @xmath433 very close to the theoretical prediction of the point @xmath368 ( marked by a vertical line in fig .",
    "[ fig : succprob ] ) above which phase transitions occur in the thermodynamic properties of the decimated ensemble of random formulas . for @xmath434 a large @xmath1 formula",
    "is solved with positive probability by the bp guided decimation algorithm .",
    "the appearance of a jump in the function @xmath175 at @xmath435 [ see below for a more detailed analysis of @xmath175 ] , with a consequent avalanche of directly implied variables during the decimation of formulas with @xmath437 , does not have any visible effect on the success probability .",
    "this phenomenon has however a trace in the random variable @xmath277 , that is the fraction of variables assigned before the discovery of a contradiction during the unsuccesful runs .",
    "the distribution of this random variable is shown in fig .  [ fig_sat_halting ] for two values of @xmath42 ( below and above @xmath433 ) .",
    "one can see a maximum in this distribution for values of @xmath74 slightly smaller than @xmath438 , the point of discontinuity of @xmath175 .",
    "( left panel ) and @xmath439 ( right panel ) .",
    "vertical lines show the value of @xmath438 where @xmath175 is discontinuous.,title=\"fig:\",width=302 ]   ( left panel ) and @xmath439 ( right panel ) .",
    "vertical lines show the value of @xmath438 where @xmath175 is discontinuous.,title=\"fig:\",width=302 ]     of decimated variables . from left to right @xmath440 , @xmath441 , @xmath418 , @xmath360.,scaledwidth=80.0% ]    in the following we are going to present data only in the region @xmath434 . in order to reduce finite size effects",
    "we will concentrate only on formulas which have been actually solved by our algorithm .",
    "the study of the convergence probability and of the average convergence time for the iterative method used to solve the bp equations provides very useful information , as it allows to identify the most difficult formulas , which should appear close to the threshold .",
    "in fig .  [",
    "fig : convtimes ] we show both the probability that the bp fixed point is not reached after 1000 iterations ( upper panels ) and the average number of iterations required to converge ( lower panels ) .",
    "non - converged instances count with 1000 in the average .",
    "four values of @xmath42 are shown ( from left to right ) , @xmath417 , @xmath442 , @xmath443 and @xmath444 , and @xmath445 is not shown since in that region nothing of interest takes place .",
    "we see that , for small values of @xmath42 , by increasing the size of formulas the probability that bp does not converge in 1000 steps reduces considerably , thus suggesting that in the large @xmath1 limit the typical running time of bp is below 1000 for any @xmath74 value . on the contrary , for larger values of @xmath42 , the probability that bp does not converge is not varying very much with @xmath1 and seems to remain positive even in the large @xmath1 limit , thus suggesting that the typical number of iterations required to make bp converge is larger than 1000 for some values of @xmath74 .    the overall picture we get from fig .",
    "[ fig : convtimes ] is very clear . for any @xmath42 value",
    ", the decimation procedure initially produces formulas which are more and more difficult to solve and the running time of bp thus increases with @xmath74 . the running time ( or equivalently the probability of not converging in a fixed number of iterations ) has a maximum at a value @xmath420 and then decreases again . by increasing @xmath42",
    ", @xmath446 decreases and the running time at @xmath447 increases .",
    "it is natural to expect that the maximum running time should diverge at the threshold @xmath433 ; moreover , if one assumes that this phenomenon is related to the critical point @xmath278 marking the end of the ( first - order ) condensation transition line @xmath366 for @xmath448 , one should expect that @xmath420 is a precursor of the transition line @xmath366 in the phase @xmath274 . the data of @xmath420 plotted with filled circles in fig .",
    "[ fig_sat_lines_both ] are in agreement with this intuition , showing in particular that @xmath420 reaches values very close to @xmath449 for the largest values of @xmath42 the algorithm is able to handle .",
    "we measured the entropy of decimated formulas along the execution of the bp guided decimation algorithm , using the bethe approximation stated in ( [ eq_lnz_ut_d ] ) .",
    "when comparing these results with the analytic prediction presented in section  [ sec_sat_omega ] , a lot of care is required in dealing with cases where bp did not converge to a fixed point . indeed in these cases the marginal probabilities do not satisfy the consistency constraints and the resulting value for the entropy may be quite far from the correct one . in order to avoid this problem",
    "we have adopted a drastic , but safe approach : we take the average over only those formulas for which the algorithm always converged before reaching the 1000 iterations limit .",
    "a possible criticism to this approach is that we are taking the average over the simplest formulas , thus obtaining a biased estimate for the residual entropy .",
    "if this criticism is well founded we should observe a dependence of the average residual entropy upon the value of maximal number of iterations .",
    "actually we do not observe any variation by doubling the maximal number of iterations .     of decimated variables for @xmath440 ( upper curves ) and @xmath418 ( lower curves ) .",
    "the symbols correspond to the analytical predictions presented in sec .",
    "[ sec_sat_omega ] , the lines to the numerical simulations of the bp guided decimation algorithm for various sizes.,scaledwidth=60.0% ]    in fig .",
    "[ fig : entropy ] we plot the residual entropy as a function of @xmath74 for three different sizes ( lines ) together with the analytical predictions of sec .",
    "[ sec_sat_omega ] ( points with errors ) . for @xmath450 ,",
    "even the @xmath424 data are almost superimposed to the analytic result . on the contrary , for @xmath451 finite size effects",
    "are much more evident and only @xmath426 data start to be compatible with the analytical computations in the thermodynamic limit .",
    "it is also worth noticing that the function @xmath81 shows its point of maximum curvature close to @xmath447 .",
    "more in general the curvature of @xmath81 seems to be somehow related to the typical running time of bp .       of assigned and logically implied variables for @xmath452-sat formulas of density @xmath440 and @xmath418 .",
    "the insets detail the results at @xmath418 for the decimation and backward algorithm , see the text for details.,scaledwidth=70.0% ]    we also keep track of the fraction of logically implied variables in the partially decimated formulas , measuring it with the wp algorithm ( equivalent to ucp as explained in sec .",
    "[ sec_bpguided ] ) . in the main panel of fig .",
    "[ fig : phioftheta ] we plot the function @xmath175 computed analytically ( solid curves ) . for @xmath417",
    "the function @xmath175 is smoothly increasing and the numerical data follow this curve so nicely that only the @xmath424 data is hardly visible , the rest being perfectly superimposed to the analytic curve . for @xmath418",
    "the function @xmath175 is multivalued in the interval @xmath403 $ ] and the two curves plotted in the main panel correspond to the two branches @xmath175 and @xmath215 defined in sec .",
    "[ sec_sat_phi ] .",
    "the numerical data for @xmath418 are shown in the insets for clarity .",
    "the left inset corresponds to the decimation algorithm ( which indeed increases @xmath74 during the run ) .",
    "the right inset reports the data gathered while running the _ backward _ algorithm which works as follows .",
    "after a succesful run of the bp guided decimation algorithm we use the solution @xmath61 constructed as the reference one , and variables are unfixed one by one in the reverse fixing order : in this way at any @xmath74 value the residual formula is exactly the same the decimation algorithm had to work with .",
    "the only differences between the two algorithms are the initial values for the wp and bp messages : in the backward algorithm all messages are set initially according to the solution found in @xmath453 , namely @xmath454 and @xmath378 for all edges",
    ". then the updates of wp and bp are run as usual for the edges outside the decimated ones .",
    "the numerical data shown in the insets suggest that , although finite size effects are huge , in the large @xmath1 limit the decimation ( resp .",
    "the backward ) algorithm follow the lower branch @xmath175 ( resp .",
    "upper branch @xmath215 ) curve shown in the main panel . as predicted by the analytical computation , for @xmath455 the fraction of variables which are frozen ( either assigned or directly implied by wp ) , @xmath175 , has a hysteresis loop when",
    "the number of assigned variables @xmath74 is increased and decreased across the interval @xmath403 $ ] , the backward algorithm used when decreasing @xmath74 corresponding to the @xmath166 boundary condition of the infinite tree computation . the hysteresis loop obtained by looking at the wp messages is reported with a full line in fig .",
    "[ fig : wpandbp ] ( where data for @xmath456 and @xmath418 are used ) .    , for @xmath418 .",
    "the full lines correspond to the wp results in the decimation and backward algorithm , the dashed lines to the analysis of the bp messages.,scaledwidth=60.0% ]    the apparent paradox discussed at the end of sec .",
    "[ sec_sat_phi ] shows up here again , at the level of the single sample analysis instead of the computation on the infinite tree : the forward and backward procedure allows us to construct two distinct fixed points of the wp equations on the same partially decimated formula ( see points a and b in fig .",
    "[ fig : wpandbp ] ) , while the success probability of the algorithm is still positive for this value of @xmath42 and the residual entropy of fig .",
    "[ fig : entropy ] has no singularity .",
    "in addition to the above discussion on the non - commutativity between the projection from wp to bp and the limit of infinite depth tree / number of iterative updates , it is worth noting that with the initial condition used in the backward algorithm the warning propagation procedure corresponds actually to the whitening construction ( see for instance  @xcite ) , starting from the solution found at the end of the forward algorithm .",
    "the interpretation of the number of frozen variables in a and b is thus different : a corresponds to the variables which are logically implied ( in the ucp sense ) in the partially decimated formula . on the other hand b counts the number of constrained variables in the core  @xcite of the reference solution of the partially decimated formula ( the one reached by the decimation ) . the existence of distinct wp fixed points would be a sign of a positive sp complexity if one assumed these fixed points to be exponentially numerous .",
    "even when this assumption is correct it does however not lead to a contradiction with the inexistence of thermodynamically relevant clusters or long - range correlations as defined in  ( [ eq_correl2 ] ) .",
    "the former corresponds indeed to a 1rsb computation with parisi parameter @xmath457 and the latter to @xmath133 .",
    "we checked indeed that computing the residual entropy with the backward algorithm yields the same result as with the decimation one , whereas in presence of an extensive thermodynamical complexity we would have obtained only the contribution from the internal entropy of the cluster around the reference solution .",
    "more indications come from the study of bp fixed point messages . in fig .",
    "[ fig : wpandbp ] we plot the fraction of variables that receive bp messages forcing it to a unique value ( bp frozen ) and the fraction of variables which are extremely biased under the bp messages , i.e. the less probable value has a probability smaller than @xmath458 ( bp prob@xmath459 ) .",
    "the fraction of bp frozen variables again shows hysteresis : in the decimation algorithm bp frozen variables perfectly coincide with wp frozen variables , while in the backward algorithm bp frozen variables are a little more than wp frozen variables because of the numerical impossibility of keeping marginals arbitrarily small .",
    "what is more interesting is that the fraction of extremely biased variables ( bp prob@xmath459 ) does not show any sign of hysteresis : the same smooth curve is followed by the decimation algorithm as well as by the backward algorithm .",
    "this observation suggests that bp marginals obtained by the two algorithms are exactly the same , except for ( almost ) completely frozen variables .",
    "we have seen that the behaviour of the ensemble of decimated random formulas is richer in the satisfiability case than for xor - satisfiability , with in particular the appearance of two sets of critical lines , one describing the thermodynamic properties , @xmath81 , and the other the singularities of the logical implications , @xmath175 .",
    "the common wisdom is however that when the length @xmath0 of the clauses gets large the satisfiability model gets simpler , notably allowing some tight rigorous results  @xcite , and in fact becomes very similar to the xor - satisfiability one .",
    "we shall hence briefly discuss now the large @xmath0 limit of our results for the decimated ensembles .",
    "let us begin with the xor - satisfiability case ; the results of sec .",
    "[ sec_xor ] having an explicit form , they can be easily turned in asymptotic expansions for large @xmath0 .",
    "for instance the threshold @xmath278 given in eq .",
    "( [ eq_xor_alpha _ * ] ) is found to behave as @xmath460 , while the clustering threshold @xmath41 is @xmath461 and the condensation threshold @xmath47 goes to 1 in the large @xmath0 limit .",
    "one can also study the behaviour of the transition line @xmath366 in the last of these three asymptotic scales ( i.e. for @xmath42 constant with respects to @xmath0 ) .",
    "after a short computation , which consists in expanding the fixed point solutions @xmath175 and @xmath215 of eq.([eq_xor_phi ] ) , and the associated entropies ( [ eq_xor_homega ] ) , one finds that the two leading orders are @xmath462 .     and",
    "@xmath463 for @xmath0-satisfiability , left : @xmath325 , right : @xmath464 .",
    "the dashed lines are the @xmath0-xorsatisfiability critical lines , with a rescaling of @xmath24 on their clause density.,title=\"fig:\",width=302 ]   and @xmath463 for @xmath0-satisfiability , left : @xmath325 , right : @xmath464 .",
    "the dashed lines are the @xmath0-xorsatisfiability critical lines , with a rescaling of @xmath24 on their clause density.,title=\"fig:\",width=302 ]    large @xmath0 asymptotic expansions of the non - decimated ( @xmath76 ) ensemble of @xmath0-satisfiability were performed for the clustering and condensation thresholds in  @xcite and in  @xcite for the satisfiability one .",
    "the leading order of the clustering threshold is @xmath465 , while both condensation and satisfiability occurs for values of @xmath42 around @xmath466 ( see  @xcite for the subleading corrections , which are different for @xmath47 and @xmath34 ) .",
    "consider now the fraction of decimated or implied variables @xmath175 , computed for the satisfiability ensemble according to eqs .",
    "( [ eq_sat_uw_dist],[eq_sat_hw_dist ] ) . in the large @xmath0 limit",
    "a crucial simplification occurs thanks to the concentration , at the leading order , of the @xmath193 and @xmath192 random variables solutions of the rs equation ( [ eq_sat_rs ] ) around 0 . from this fact follows easily ( compare with eqs .",
    "( [ eq_xor_ansatz],[eq_xor_x_y_phi ] ) ) that the functions @xmath175 and @xmath215 , for satisfiability random formulas of clause density @xmath42 , approach the corresponding functions of xor - satisfiability formulas of clause density @xmath467 . in consequence",
    "this correspondence holds for the lines @xmath463 , and the critical point @xmath468 of satisfiability is expected to scale as @xmath469 .",
    "the asymptotic study of the thermodynamic lines @xmath216 is slightly more involved because of the continuous nature of the second member of the pair in the random variable @xmath470 , whereas it can only take two values in @xmath471 .",
    "one can however notice that a consistent ansatz in the large @xmath0 limit is to assume @xmath472 , that is all non strictly forcing messages are approximated as completely unbiased . if this hypothesis is correct the distinction between @xmath273 ( resp .",
    "@xmath365 , @xmath278 ) and @xmath438 ( resp .",
    "@xmath473 , @xmath468 ) should vanish in the large @xmath0 limit .",
    "we have not attempted to obtain a formal proof of this statement but repeated the determination of the satisfiability phase diagram for @xmath464 .",
    "the results presented in fig .  [ fig_compax ] ( and in tab .",
    "[ tab_thr ] for the values of the thresholds ) confirms the intuition stated above .",
    "the two sets of critical lines are much closer for @xmath464 than @xmath325 , and also in better agreement with the xor - satisfiability values ( dashed lines , with a rescaling factor of @xmath24 on the @xmath42 axis ) .",
    "finally an expansion of the residual entropy at the leading order leads us to conjecture that asymptotically @xmath474 , as obtained explicitly in the xor - satisfiability case .",
    "the datas of @xmath366 obtained by the population dynamics algorithm for @xmath464 ( not shown ) are already in good agreement with this asymptotic form .",
    "we have also performed bp guided decimation simulations for @xmath464 , and found an algorithmic threshold @xmath433 between 16 and @xmath475 .",
    "this range is clearly above the appearance of the jump in @xmath175 , thus confirming the results presented in sec .",
    "[ sec_sat_results_cvg ] for @xmath325 , but it also a little bit below the thermodynamic triple point ( mainly because for @xmath464 the constraint on the maximum number of iterations produces a more drastic effect ) .",
    ".values of the thresholds @xmath278 and @xmath468 , and the associated fraction of decimated variables @xmath449 and @xmath476 , for random @xmath0-satisfiability formulas , @xmath477 . [ cols=\"^,^,^,^,^\",options=\"header \" , ]",
    "in this article we have introduced analytical tools that allows computations similar to the franz - parisi quenched potential for diluted mean - field systems .",
    "we have precisely defined ensembles of partially decimated random csp and refined their analytical description initiated in  @xcite .",
    "these methods have been applied to xor - satisfiability random formulas , putting known results  @xcite in a slightly different perspective , and to the satisfiability case which presents a much richer phase diagram .",
    "these computations are expected to describe the behaviour of an hypothetic ideal decimation algorithm based on an oracle able to compute exact marginal probabilities in large graphical models .",
    "we have then confronted these results with the outcomes of extensive simulations of the bp guided decimation algorithm , which is a practical , approximate implementation of the ideal procedure . in the case of xor - satisfiability formulas",
    "the interpretation of the comparison is very clear and can in fact be confirmed by rigorous calculations .",
    "the satisfiability problem is much more difficult ; the interpretation of the results of the bp decimation should be based on a precise description of the `` small '' errors made by bp , which somehow accumulate along the decimation for large enough values of @xmath42 and can not avoid conflicting choices in the decimated variables .",
    "lacking such a refined control of bp we have to turn to a more intuitive explanation , based on the analysis of the ideal algorithm .",
    "the algorithmic threshold @xmath433 for bp decimation on random 4-satisfiability formulas is found to be very close to the value @xmath278 above which clustering and condensation transitions do occur in the @xmath77 plane .",
    "one is thus led to conjecture more generally that the presence of a condensed regime , in which bp is expected to fail because of replica symmetry breaking effects , will coincide with the bp decimation threshold for generic csp .",
    "it is fair to say that we first found the numerical results reported in this work quite surprising .",
    "we initially expected  @xcite the bp guided decimation algorithm to fail when @xmath175 develops a jump , that is when the assignment of a single variable produces an avalanche of @xmath478 forced variables : in this situation , we expected that a contradiction would be generated with high probability .",
    "our numerical results clearly show this is not the case : the algorithm we have studied is able to fix _ at the same time _ a finite fraction of variables without entering a contradiction .",
    "moreover , as soon as a thermodynamical condensation transition is taking place , for @xmath479 , the success probability falls down to zero sharply .",
    "the most natural explanation to these observations is that the marginals used by the algorithm to fix variables are extremely close to true marginals for any @xmath480 ( and this is clearly a very good news for the use of bp even very close to the clustering threshold ) and not so good above @xmath278 .",
    "still some small differences between bp marginals and true marginals are expected even below @xmath278 , mainly given by @xmath481 corrections to the bethe approximation  @xcite and to the precision used to solve bp equations ( @xmath482 in our case ) .",
    "then , why these small differences between true marginals and bp estimations do not affect the success probability of the algorithm before @xmath278 , while they become relevant above @xmath278 ? maybe because the nature of these errors changes crossing @xmath278 .",
    "roughly speaking , below @xmath278 they have a statistical origin and produce random perturbations of intensity @xmath481 and @xmath483 ( in a sense that should be precised ) : if these errors are largely uncorrelated , when summing @xmath478 of these we still get errors of order @xmath75 and @xmath484 , which are very small . on the contrary , above @xmath278 , deviations from true marginals are _ systematic _ , because of long range correlations : in this case errors are strongly correlated and summing @xmath478 of these produces a contradiction with high probability .",
    "let us also sketch a few possible directions for future research . apart from the computation of the usual franz - parisi potential , the analytical formalism can be adapted to other csp models besides the satisfiability and xor - satisfiability cases treated here .",
    "for instance the case of coloring should be relatively easy because of the triviality of the rs description ( as in xorsat ) , and relates to the recent study of  @xcite .",
    "it would also be interesting to perform simulations of the bp decimation algorithm on coloring formulas ( this was done in  @xcite but with a bias in the choice of the decimated variable ) , and check whether our conjecture on the closeness of @xmath433 and @xmath278 holds in this case .",
    "a more rigorous analysis of the bp guided decimation algorithm would be welcome , and should be easier to perform in the large @xmath0 limit . until very recently the highest clause densities where",
    "algorithms were rigorously shown to succeed in finding solutions were @xmath485  @xcite .",
    "our rough analysis suggest that the threshold of success for bp guided decimation should be on that scale too , with @xmath486 .",
    "it has been shown very recently in  @xcite that a polynomial time algorithm can find solutions of formulas with densities up to @xmath487 , which corresponds to the scale of the dynamic threshold @xmath488 .",
    "on the algorithmic side many variations on the simplest procedure studied in this paper are more efficient ( and notably the survey propagation algorithm  @xcite ) , yet seems much more difficult to tackle analytically .",
    "a slight modification of the bp decimation algorithm where the order of the assignments is not uniformly random but treats in priority variables with the most biased marginals already changes substantively the highest value of @xmath42 where formulas are solved with positive probability  @xcite . other interesting directions to explore",
    "would be more efficients procedures for the resolution of the bp equations ( for instance double - loop algorithms  @xcite ) , the use of reinforcement strategies  @xcite instead of explicit decimation , or the coordinated decimation of groups of variables  @xcite .",
    "we warmly thank andrea montanari with whom part of this work was done and who made important suggestions .",
    "we are also grateful to francesco zamponi and lenka zdeborova for a critical reading of the manuscript .",
    "this work has been partially funded by the phc galileo program for exchanges between france and italy .",
    "we present in this appendix some details on the computations discussed in sec .",
    "[ sec_xor_direct ] .",
    "the properties of decimated xorsat formulas will be derived through the analysis of two algorithms which act on the formula and which can be described by the differential equation method  @xcite .",
    "two successive steps will be performed  : the logical implications of the decimation of a fraction @xmath74 of the variables are first drawn with unit propagation .",
    "then the structure of the set of solutions of the reduced formula is analyzed by the leaf removal algorithm .",
    "this approach has been developed for @xmath0-xorsat formulas in  @xcite and generalized to arbitrary degree distributions in  @xcite , we reproduce here their results for the sake of self - containedness .      as explained at the beginning of sec .",
    "[ sec_xor_direct ] we can assume here the formula to be an unfrustrated ( @xmath244 ) set of @xmath117 equations of the form  ( [ eq_psi_xorsat ] ) , each involving @xmath0 indices chosen uniformly at random among the @xmath1 variables .",
    "a fraction @xmath74 of the variables are then set to @xmath286 , and can then be removed from the clauses where they appeared .",
    "let us call @xmath489 the number of clauses with @xmath257 non decimated variables , and @xmath490 the number of variables which appears in @xmath125 clauses ( note that a decimated variable does not appear in any clause after the above simplification step ) .",
    "one obtains : @xmath491 consider now the action of the unit propagation algorithm . as long as clauses of length @xmath492 are present in the formula ,",
    "one of them is chosen randomly , the single variable it contains is fixed to @xmath286 , and is then removed from the other clauses it appeared in .",
    "the formula obtained after @xmath493 steps of this procedure is uniformly random , conditional on the values of @xmath494 , so that the analysis of the process amounts to follow these random variables . at each time step @xmath495",
    "they vary by a bounded random increment whose distribution depends only on the current values @xmath494 and not on the previous history of the process . in consequence",
    "the reduced quantities @xmath496 and @xmath497 concentrate around their average values  @xcite , solutions of the following set of differential equations : @xmath498 \\ . \\label{eq_xor_up_2}\\end{aligned}\\ ] ] these expressions arise because the variable selected in the unit clause is present in @xmath125 clauses with probability proportional to @xmath499 ; apart from the unit clause , the @xmath500 other occurences of the variable take place in clauses of length @xmath257 with probability proportional to @xmath501 .    in order to solve these equations we introduce the generating function of the initial distribution of degrees of the variables , @xmath502 . equation  ( [ eq_xor_up_1 ] ) is solved for any @xmath503 by @xmath504 , where @xmath505 is the solution of @xmath506 one can then insert this expression of @xmath507 in ( [ eq_xor_up_2 ] ) and solve to obtain @xmath508 the differential equations  ( [ eq_xor_up_1],[eq_xor_up_2 ] ) only make sense if @xmath509  : the procedure stops when no more unit clause can be selected , i.e. at the reduced stopping time @xmath510 .    for the initial degree distribution given in ( [ eq_xor_init_1 ] ) one obtains for the derivative of the generating function : @xmath511 , hence by integration of ( [ eq_xor_up_a ] ) @xmath512 plugging this result in the expression ( [ eq_xor_up_rho ] ) of @xmath513 , one finds that @xmath514 is the smallest solution of @xmath515 defining finally @xmath516 , one realizes that @xmath222 is the smallest solution of eq .",
    "( [ eq_xor_phi ] ) : this quantity gives the fraction of variables that are either fixed by the decimation or by the propagation of logical implications . when all these implications are taken into account , the degree distributions of the reduced formula reads @xmath517 in consequence the number of non - trivial clauses is @xmath518      we shall now analyze the set of solutions of random unfrustrated formulas with degree distributions given by ( [ eq_xor_init2_1],[eq_xor_init2_2 ] ) . following  @xcite",
    ", we consider the action of the leaf removal algorithm on such a hypergraph .",
    "each leaf removal step consists in picking at random one variable of degree 1 ( a leaf ) , and remove the single clause it appeared in .",
    "this simplification is repeated until no leaf is left in the graph , which provokes the stopping of the algorithm .",
    "there are two possible situations at that point : either all clauses have been removed , or there remains a non empty 2-core , that is the maximal subgraph of the original formula in which all variables have degree at least 2 . in both cases",
    "the total entropy is given ( in units of @xmath519 ) by the initial number of variables minus the initial number of clauses .",
    "in the former case the set of solutions is unclustered , while in the latter the solutions are split into an exponential number of clusters .",
    "each cluster corresponds to one solution of the 2-core formula , hence the complexity , i.e. the exponential rate of the number of clusters , is given by the difference between the number of variables and of clauses in the 2-core .",
    "each cluster contains an exponential number of solutions , this internal entropy being associated to the degeneracy arising from the freedom in the choice of the value of the leaf variables when reinserted in the formula in the reverse order with respect to their removal .",
    "the evolution of the degree connectivities during the execution of the leaf removal algorithm can be computed in a very similar manner with respect to the unit propagation case sketched above . with a slight abuse of notation",
    "we denote again @xmath520 and @xmath521 the average number of variables and constraints of degrees @xmath125 and @xmath257 after @xmath522 steps of the leaf removal algorithm .",
    "these quantities obey the following set of differential equations : @xmath523 \\ . \\label{eq_xor_leaf_2}\\end{aligned}\\ ] ] these equations are essentially the same as ( [ eq_xor_up_1],[eq_xor_up_2 ] ) with the role of @xmath524 and @xmath525 being exchanged ( in the leaf removal algorithm one picks a variable of degree 1 , in unit clause propagation it is a clause of degree 1 ) .",
    "they can thus be solved with the same technique .",
    "let us define the generating function of the clause lengths at the beginning of the leaf removal , @xmath526 . at all times",
    "@xmath527 , where @xmath528 is solution of @xmath529 the distribution of the variable degrees is then found to be @xmath530 the stopping time of the leaf removal algorithm is given by @xmath531 . a non - trivial 2-core exists at this stopping time if and only if @xmath532 . as the function @xmath528 is decreasing in time ( see eq .  ( [ eq_xor_leaf_b ] ) ) , the value @xmath533 can also be defined as the largest solution in @xmath210 $ ] of @xmath534    let us now apply these results to the degree distributions ( [ eq_xor_init2_1],[eq_xor_init2_2 ] ) of the formula obtained at the end of the unit propagation .",
    "these imply the following form of the derivative of the clause length generating function : @xmath535 the solution of the equation ( [ eq_xor_leaf_bstar ] ) is either @xmath536 , or the largest strictly positive solution of @xmath537 \\ .\\ ] ] defining @xmath538 , one realizes that the equation on @xmath539 is equivalent to @xmath124 being the largest solution of eq .",
    "( [ eq_xor_phi ] ) .",
    "we have thus justified one of the statement made in sec .",
    "[ sec_xor_direct ]  : when there is only one solution to eq .",
    "( [ eq_xor_phi ] ) , @xmath540 or in other terms @xmath536 .",
    "this means that the leaf removal algorithm does not stop before having emptied the complete formula , there is no 2-core and the solution space is not clustered . on the contrary the existence of the multiple solutions @xmath541 corresponds to @xmath542 and hence to the presence of a non - trivial 2-core in the hypergraph of constraints .",
    "this latter case corresponds to @xmath213 and @xmath225 $ ] .",
    "let us conclude with the justification of the expressions of the entropy and complexity given in sec .",
    "[ sec_xor ] .",
    "we have seen that the number of non - implied variables at the end of the unit propagation procedure is @xmath543 , while the number of non - trivial clauses is given in eq .",
    "( [ eq_xor_up_mprime ] ) . in the region of the @xmath77 plane where there is a single solution of eq .",
    "( [ eq_xor_phi ] ) the entropy ( [ eq_xor_homega ] ) is given ( in units of @xmath544 ) by the difference between the number of variables and constraints , in agreement with the results of  @xcite .",
    "when a non - empty 2-core subsists at the end of the leaf removal algorithm , one can compute from the solution of ( [ eq_xor_leaf_1],[eq_xor_leaf_2 ] ) at the stopping time @xmath514 the number of variables and clauses in the 2-core : @xmath545 \\ , \\\\",
    "m_{\\rm core } & = & n \\alpha   \\left[\\psi ^k -\\phi^k - k \\phi^{k-1 } ( \\psi - \\phi ) \\right ] \\",
    ".\\end{aligned}\\ ] ] it is then easy to verify that @xmath546 .",
    "when this quantity is positive , that is in the interval @xmath547 $ ] , it is equal to the entropy density associated with the exponential number of solutions of the 2-core . on the contrary when it is negative",
    "the 2-core with more clauses than variables has only a subexponential number of solutions ( recall that we conditioned from the beginning on the formula being satisfiable and on the reference configuration unveiled being a solution ) .",
    "one can show in this case that the entropy arising from the variables outside the 2-core is given by @xmath548 , hence the total entropy of the decimated formula is always given by @xmath549 $ ] , the largest branch as plotted in the right panel of fig .",
    "[ fig_xor_omega ] ."
  ],
  "abstract_text": [
    "<S> we introduce a version of the cavity method for diluted mean - field spin models that allows the computation of thermodynamic quantities similar to the franz - parisi quenched potential in sparse random graph models . </S>",
    "<S> this method is developed in the particular case of partially decimated random constraint satisfaction problems . </S>",
    "<S> this allows to develop a theoretical understanding of a class of algorithms for solving constraint satisfaction problems , in which elementary degrees of freedom are sequentially assigned according to the results of a message passing procedure ( belief - propagation ) . </S>",
    "<S> we confront this theoretical analysis to the results of extensive numerical simulations . </S>"
  ]
}