{
  "article_text": [
    "orthogonal frequency division multiple access ( ofdma ) is regarded as a promising technology in the future wireless communications , due to its advantages of high spectral efficiency and resistance to multipath fading .  on the other hand ,",
    "cooperative relaying is able to enhance the transmission range , system capacity and reliability .",
    "thus , the relay - assisted ofdma system has been  attracting intensive research interests in both academia and industry since it can provide cooperative diversity , channel diversity and multiuser diversity gains at the same time .",
    "although the transmission quality of wireless systems can be improved with cooperative communications , the new challenges due to the dramatic increase of power cost and traffic demands in wireless communications  have been increasingly prominent .",
    "about half of the mobile service provider s annual operating expenses are power costs and base stations ( bss ) consume over80% of the total energy of the network as claimed by  fehske _ et al . _",
    "@xcite and feng _ et al .",
    "moreover the largest fraction of greenhouse gas emissions caused by radio networks come from access networks , and mostly from bss .",
    "then the needs for energy saving of radio networks advocate green radio communications .",
    "green radio communications will not only help mobile operators to enhance the energy efficiency of bss but also reduce the emissions of co@xmath0 by using renewable energy  sources ( _ e.g. , _ wind and solar power ) to supply wireless communications in addition to the constant alternating current ( ac ) from utility grid , e.g. , the works by ho _ et al . _ @xcite and  niyato _ et al_. @xcite .",
    "as to the relay - assisted transmission powered by renewable energy source , like the idea of demand response in @xcite-@xcite  the relay selection and radio resource allocation should be adaptive to the variations in harvested renewable energy in order to ensure the quality of service ( qos ) of mobile users with the minimum ac energy .",
    "in addition , the joint design of relay selection , subcarrier allocation and power control in relay - assisted ofdma networks  is a challenge since all the considered variables are coupled together , let alone the mentioned time - varying renewable energy generation .    in this paper , we consider a downlink ofdma relay - assisted network consisting of multiple relay stations and a bs , which is powered by hybrid energy , _",
    "i.e. , _ renewable energy and constant ac from the grid .",
    "although the renewable energy provided by harvester is free , it is intermittent over time due to time - varying solar and wind patterns .  in order to smooth the uncertain supply of renewable source ,",
    "an energy storage device is equipped with the bs to buffer the intermittent renewable energy generation .",
    "since the capacity of energy storage device and data buffer at the bs  are finite , it is necessary to propose  a joint design in order to coordinate the downlink transmission , radio resource allocation and energy management of the storage device in order to maximize the throughput utility  with the least grid energy in a long - term manner .  in summary ,",
    "the contributions of this paper are as follows :    * from the perspective of network operator , we formulate a stochastic optimization problem to keep a balance between the throughput utility and on - grid energy consumption , which are usually two conflicting objectives . *",
    "an online algorithm _",
    "free _ is proposed to regulate the downlink data requests , allocate radio resource and manage  energy in the  storage device under the constraints of finite buffer size and storage capacity . *",
    "the proposed _",
    "free _ can arbitrarily approach the optimal tradeoff between system throughput and on - grid  energy consumption  by theoretic analysis and simulation results .",
    "the rest of this paper is organized as follows .",
    "section ii presents a review of related works .",
    "section iii describes the system model and the components of the system .",
    "section iv casts the problem into a stochastic optimization problem .",
    "section v presents an online algorithm to jointly allocate resource and manage energy .",
    "section vi analyzes the performance of the  proposed algorithm .",
    "simulations are provided in section vii .",
    "the paper is concluded in section viii .",
    "since this paper considers the scenario of relay - based cooperative networks with hybrid energy supply , the related works on cooperative communications are first reviewed and then some latest results on renewable energy powered communications are discussed .    various cooperative communication schemes such as",
    "amplify - and - forward ( af ) and decode - and - forward ( df ) have been proposed in the literature feifei_gao-@xcite .",
    "compared with  a df relay decoding , re - modulating and retransmitting the received signal , an af one simply amplifies and retransmits the signal towards destinations without decoding .",
    "_ in  @xcite and shen _",
    "et al_. in yanyanshen proposed power control for fairness in af relay networks .",
    "the power control of multiple users  with af relays are considered by zappone _",
    "et al_. in  @xcite  and by cheung _",
    "et al_. in @xcite for energy - efficiency . depending on the channel condition and performance criterion ,",
    "df may outperform af , or vice versa . for df relay strategy ,",
    "@xcite-@xcite considered the resource allocation by solving a class of static optimization problem .",
    "the joint design of congestion control and relay resource allocation for lte - a was proposed in @xcite by solving a stochastic optimization problem .",
    "et al_. in  @xcite proposed three greedy algorithms for multiuser multiple relay networks to maximize the network utility and comprehensive theoretical analysis was given to measure the worst performance .",
    "different from the assumption of half - duplex at relay , li _",
    "et al_. in @xcite proposed a full - duplex cooperative communication scheme .  in this paper ,",
    "the energy - aware  relay - assisted transmission aims to balance the throughput utility and on - grid energy consumption .",
    "since the transmission power of relays is coupled with the power allocation of the bs , which is supplied by hybrid energy , the relay power allocation , transmission mode selection ( cooperative transmission or direct transmission ) and subcarrier allocation are all affected by queue states , residual energy in storage device .",
    "this makes the radio resource allocation problem significantly different from the aforementioned works .    to reduce the consumption of on - grid energy in wireless access networks ,",
    "there are some works considering that the transmitter is powered by hybrid energy source @xcite-@xcite .",
    "this paper considers that the transmitter is also powered by hybrid energy source in a relay - assisted cooperative communication scenario , where an online joint resource allocation and energy management algorithm is proposed with lower computational complexity compared with the dynamic programming based ones in @xcite-@xcite .",
    "compared against @xcite",
    "the salient feature of the proposed algorithms in this paper is that its implementation is independent of the energy harvesting profiles .  for the delay / throughput optimal transmission with renewable energy sources ,",
    "the schemes ontransmission power control and energy management in battery for point - to - point transmissions were proposed in @xcite - huanghuang .",
    "the network planning problem with sustainable energy sources in ofdma relay networks was considered by zheng _",
    "_ in shen_relay_renew to ensure network connectivity and users qos requirements",
    ".  to further reduce the circuit energy consumption of cellular networks , the bss or relay stations ( rss ) can be switched into sleep mode dynamically  by utilizing the spatial and temporal fluctuations of traffic loads and inter - cell cooperation @xcite-@xcite .",
    "the most related work also includes @xcite , where ahmed _ et al .",
    "_ consider power control for a cooperative system consisting of one energy harvesting ( eh ) source and one eh relay communicating to one destination .",
    "almost all the above works assume that either the data buffer or the storage device is infinite to make their problem tractable . also the prior knowledge on random events is needed in their designs . in this paper ,",
    "the trade - off between throughput utility and grid energy consumption is considered for multi - user / multi - relay networks under the constraints of finite data and energy buffer .",
    "an online algorithm is designed without relying on any statistical information .",
    "we consider the downlink transmission in a two - hop relay - assisted network , which consists of a set of users @xmath1 indexed by @xmath2 a set of rss @xmath3 indexed by @xmath4 and one bs indexed by @xmath5.@xmath6ofdma is employed over both hops and the whole bandwidth @xmath7 is equally divided into @xmath8 subcarriers with sub - bandwidth @xmath9 the set of subcarriers is @xmath10 and the subcarrier is indexed by @xmath11 .",
    "the noise at each receiver on each subcarrier is zero - mean circular symmetric complex gaussian with variance @xmath12  the system is assumed to be a time - slotted one with equal time interval normalized to be unit time .",
    "hereafter @xmath13 is assumed to be one without loss of generality .",
    "the bs can transmit directly to each user or  employ one of the rss for cooperative communications .",
    "if the cooperative communication is adopted , each transmission consists of two stages . in the first stage",
    ", the bs communicates with rss and users on some subcarriers . in the second stage ,",
    "the selected rs on the same subcarriers helps the bs transmit to the user with decode - and - forward ( df ) strategy with the same codebook as that of the bs .",
    "let @xmath14 denote the set of rs , user and subcarrier matching indicator , where @xmath15 indicates that the bs can communicate with user @xmath16 via relay @xmath4 over the @xmath17 subcarrier , and @xmath18 otherwise .",
    "note that @xmath19 means that the bs will communicate to user @xmath20 over subcarrier @xmath11 directly and @xmath21 otherwise .",
    "an exclusive subcarrier assignment is enforced such that at most one user or one user - relay pair can be allocated to a single subcarrier .",
    "also , on one subcarrier , only one transmission mode ( cooperative or direct ) is allowed . _",
    "_  _ _ these constraints are as follows,@xmath22 @xmath23    we use @xmath24 to denote the achievable rate by the bs transmitting to user @xmath16 directly over the @xmath17 subcarrier .",
    "we have @xmath25where @xmath26 denotes the bs s transmission power on the @xmath17 subcarrier and @xmath27 is the channel gain from the bs to user @xmath16 over subcarrier @xmath11 .",
    "@xmath28 is the gap to shannon capacity , which is mainly determined by modulation techniques and the target bit - error rate .",
    "when the bs is communicating with user @xmath16 assisted by rs @xmath4 over the @xmath17 subcarrier , the achievable rate is given by @xcite , @xmath29where `` @xmath30 '' in @xmath31 is due to the half duplex forward constraint , @xmath32 is the channel gain from the bs to rs @xmath4 on subcarrier @xmath33 @xmath34 is the channel gain from rs @xmath4 to user @xmath16 on the @xmath17 subcarrier and @xmath35 is the allocated relay power by rs @xmath4 for user @xmath16 over the @xmath17 subcarrier .  for notional simplicity",
    "we define @xmath36 @xmath37 @xmath38 as the normalized channel gains for the rest of the paper .",
    "we use @xmath39 @xmath40 @xmath41 to denote the collection of  all the channel state information at time slot @xmath42 .",
    "it is assumed that @xmath43 belongs to a finite  space that has arbitrarily large size and is independent and identically distributed ( i.i.d . ) at every slot .",
    "considering the bs may communicate with user @xmath16 directly or with the assistance of selected relay over some subcarriers , the transmission rate for user @xmath16 is @xmath44    denote @xmath45 and @xmath46 as the total transmission power constraint for the bs and rss , respectively , @xmath47@xmath48where @xmath49 , @xmath50 in addition , there are the power mask constraints@xmath51 on each subcarrier for the bs and rss  to avoid the adjacent cell interference , @xmath47@xmath52the determination of @xmath53 is out of the scope of this paper and is given a priori .      at the bs there are random arrival packets with rate @xmath54 packets / slot at the end of  time slot @xmath42 waiting for transmission to user @xmath55 each user s packets are stored in one of @xmath56 data queues corresponding to each destination before they can be sent out .",
    "the packet arrival process @xmath57 $ ] is assumed to bei.i.d over each time slot and @xmath58 = \\lambda _ { n},$ ] @xmath59  among the arrival packets , only @xmath60 of @xmath54 are admitted into each user s  buffer with queue length @xmath61 in time slot @xmath42 by a flow control mechanism .",
    "the data queue is updated as @xmath62 ^{+}+r_{n}\\left ( t\\right ) , \\text { } \\forall n\\in \\mathcal{n } , \\label{33}\\]]where @xmath63 ^{+}=\\max \\left\\ { 0,x\\right\\ } $ ] , and @xmath64 is the service rate of user @xmath16 given in @xmath65 . to quantitatively measure the balance between the transmission request @xmath60 and service rate @xmath66 the definition of stability is given first .",
    "a queue @xmath67 is strongly stable if : @xmath68a network is strongly stable if all individual queues of the network are strongly stable .    in the following ,",
    "strong stability is also referred to stability .      actually , the power consumption of bs or  rss consists of two parts .",
    "one part is the dynamic  transmission power of the power amplifier denoted as @xmath69 and the other part is @xmath70  the static power consumption of the radio frequency chains including power dissipation in the mixer , transmit filters and digital - to - analog converters @xcite @xcite .",
    "thus the power consumption of the bs and relay @xmath4 can be expressed as @xmath71 and @xmath72 , respectively .",
    "since the bs dominates the energy consumption in cellular networks @xcite , its required energy can be taken not only from the renewable energy generator but also from the power grid . due to the investment cost each rs",
    "is only powered by grid . to `` smooth '' the intermittent renewable energy supply",
    ", we introduce an energy storage device to the bs .",
    "the harvested renewable energy is first put into the storage device and then withdrawn to supply the bs .",
    "if the residual energy in the storage is not enough , the bs will be supplied by the grid .",
    "since the storage device has a limited size , we have to cope with charging and discharging properly .",
    "let @xmath73 with @xmath74 $ ] denote the harvested energy from the  renewable source at time slot @xmath42 .",
    "only @xmath75 of the renewable energy is actually charged into the storage device , where @xmath76 $ ] .",
    "the energy level @xmath77 at the storage device is updated as an energy queue @xcite : @xmath78where @xmath79 is the total power withdrawn from the storage device to supply the bs at time slot @xmath42 . as it can be found later , the energy management of the bs is designed based on @xmath77 instead of the profile of @xmath80  there is a maximum discharge rate constraint @xmath81 for the storage device",
    ".  the energy level in the storage device should be always available and can not exceed the storage capacity @xmath82 .",
    "therefore , at each time slot , we should ensure that @xmath83@xmath84    the bs s power consumption @xmath85 is supplied by @xmath86 from the storage device and @xmath87 from power grid directly with @xmath88 , _",
    "@xmath89@xmath90 is used to take into account the hardware and line constraint of bs power supply  system .",
    "thus the total energy withdrawn from the power grid at time slot @xmath42 is @xmath91 . for the bs being able to be supplied by storage device or power grid",
    "independently , it is assumed that @xmath92 and @xmath93 the important notations of this paper are listed in table [ table 1 ] .",
    ".notations [ cols=\"<,<\",options=\"header \" , ]",
    "the objective of the network operator is to maximize the total utility of the average throughput for each user with the least on - grid energy consumption . here",
    "the utility function @xmath94 is assumed to be non - decreasing , non - negative and concave , which is used to maintain fairness in resource allocation @xcite . since there are some random events in the system , such as random arrival packets towards each user and renewable energy generation ,  it is more reasonable to optimize the objective in a long - term manner .",
    "basically the system stability should be maintained .",
    "since the maximum system utility and the least on - grid energy consumption are usually two conflicting objectives , we will find a policy to solve the following stochastic optimization problem to achieve optimal tradeoff between them ,    @xmath95    where @xmath96is the time - average admitted rate of user @xmath16 , and @xmath97is the time - average on - grid energy consumption and the expectations are taken with respect to the random events . @xmath98 and @xmath99 are two constants introduced to make a tradeoff between throughput utility and on - grid energy consumption",
    ". denote the optimal objective value of @xmath100 as @xmath101 due to c1 and the bounded on - grid energy consumption , we can always find a constant @xmath102 such that @xmath103 in @xmath104 if @xmath105 is chosen as @xmath106  the objective function of @xmath104 is also known as the parametric form in solving the energy efficiency maximization problem @xcite .    in problem @xmath107 the current energy management policy",
    "is coupled with future ones due to the iteration @xmath108 _ i.e. _ , the current energy management policy may have impacts on the future energy charging or discharging action for the energy storage device .",
    "this coupling nature together with unknown statistics of renewable energy generation makes @xmath104 difficult .",
    "denote @xmath109 @xmath110 as the time - average value of the expected energy withdrawn from the storage device and the input  renewable energy , respectively . by summing @xmath111 from the  initial state to @xmath112 and taking expectations on both sides",
    ",  we have @xmath113since the energy level in the storage device satisfies @xmath114 , we have @xmath115 after dividing both sides of @xmath116 by @xmath42  and  taking limitation of @xmath117 . since the objective function of @xmath104 is a function of the time average , to make it tractable we transfer it to an optimization problem with a time averaged objectivefunction .",
    "we instead consider @xmath118 to tackle the time - coupling difficulties in @xmath111 and the  objective function in @xmath104.@xmath119where @xmath120 is an auxiliary variable , and @xmath121 @xmath122 @xmath123 which can be understood as the lower bound of @xmath124 as shown in c1. in the following section , we will use virtual queue technique to satisfy the time average constraint c1.  denote the optimal objective value of @xmath125 as @xmath126 . by ch5 of @xcite",
    ", we have @xmath127 now , there is no time correlation on the energy level of storage device in @xmath118 .",
    "using the theory of lyapunov optimization , @xmath118 can be solved by an online algorithm to achieve the close - to - optimal performance subject to system stability .",
    "since the buffer size at the bs is finite , to ensure that each data queue @xmath61 at the bs has a deterministic upper bound @xmath128 with @xmath129 where @xmath130 , we introduce the following virtual queue , @xmath131 ^{+}+x_{n}\\left ( t\\right ) , \\text { } \\forall n\\in \\mathcal{n } \\label{1}\\]]whose stability can satisfy the constraint c1 in @xmath132    it is observed that in @xmath133 the decision variables @xmath134 and @xmath135 are coupled together .",
    "we decompose the system problem @xmath125 into joint  flow control ,  resource allocation and energy management ( _ free _ ) by lyapunov optimization method in each time slot .",
    "its design principle is to minimize the upper bound of lyapunov drift minus system objective function greedily without knowing the profile ofstochastic events .",
    "the detailed derivation can be found in the proof of theorem [ theo : nearoptimal ] .",
    "11 ] illustrates that the coupled dynamics in _ free _",
    "are coordinated by queue states @xmath136 although _ free _ are designed to solve @xmath118 online and separately , theorem [ theo : nearoptimal ] demonstrates that it can approach the optimal solution of @xmath104 asymptotically .",
    "its detailed design is as follows . in the following",
    ", the joint flow control , wireless resource allocation and energy management in _ free _  will be described in detail .          at each time slot @xmath42",
    ", the bs decides the admission data rate @xmath137 to  the data buffer of each user as the solution to the following problem , @xmath138the problem @xmath139 is  corresponding to one part of the upper bound of lyapunov drift plus penalty in @xmath140the solution to the above problem is @xmath141 in @xmath142 the tradeoff between system utility and on - grid energy is not explicitly considered .",
    "it can be intuitively understood that more saved on - grid energy will result in a smaller @xmath143 and a larger @xmath61 subsequently by @xmath144 . then according to @xmath142 more arrival packets",
    "will be dropped in order to mitigate congestion .",
    "thus , on - grid energy is saved with a compromise of throughput .",
    "the potential admitted rate @xmath120 is the solution to the following problem , @xmath145if @xmath94 is differentiable , @xmath120 is updated as @xmath146where @xmath147 is a parameter set according to the system performance requirement and is to be specified in section vi .",
    "we determine the power control , rs selection and subcarrier allocation by solving the following optimization problem based on the measurement of channel states and queue states at the beginning of each time slot .",
    "@xmath148the optimization problem @xmath149 has zero - duality - gap if the number of subcarrier goes to infinity @xcite jianweihuang .",
    "we introduce the lagrange multipliers @xmath150 and @xmath151 to relax the power constraints @xmath152 and solve @xmath149 by lagrangian  dual decomposition .",
    "the lagrange function is @xmath153the dual function is @xmath154 .$},$ ] which can be decomposed into @xmath8 independent subproblems,@xmath155where @xmath156if direct transmission towards user @xmath16 is adopted over subcarrier @xmath11 , or@xmath157if relay - assisted transmission is chosen .",
    "we first consider the direct transmission @xmath158 to find the optimal @xmath159@xmath160the optimal  transmission power of the bs over subcarrier @xmath11 is obtained as @xmath161where @xmath162 and@xmath163 in the case of @xmath164 , @xmath165 in @xmath166 is obtained by solving the derivative of @xmath167 to @xmath165 being equal to zero . after substituting @xmath166 into @xmath158",
    "we can obtain the optimal @xmath168 given that the bs transmits to user @xmath20 over subcarrier @xmath11 directly .    in the case of cooperative transmission , we consider the following two cases @xmath169 and @xmath170 for the objective function @xmath171 .",
    "@xmath172@xmath173where @xmath174",
    "[ theo : opt_power ] the optimal transmission power allocation for problem @xmath169 is as follows :    * if @xmath175 @xmath176where @xmath177 * if @xmath178 @xmath179    the optimal solution to problem @xmath170 is    * if @xmath180 @xmath179 * if @xmath181 @xmath182 @xmath183",
    ".    the proof can be found in appendix a.    some intuitive explanations for _ theorem [ theo : opt_power ] _ are given below .    _",
    "_  _ _ for the solution to problem @xmath169 , it can be found that in the case of @xmath184 if the second hop channel gain @xmath185 is relatively low compared with @xmath186 , which may result in @xmath187 the bs will ask no relay for help transmission to avoid more electricity withdrawn from power  grid to supply the relay . moreover , for the same case , if @xmath188 is large enough , which may result in a large @xmath189 the bs has to ask relay @xmath4 for helping transmission to alleviate congestion of user @xmath16 s buffer . in the aforementioned situation ,",
    "the bs transmits with @xmath190 since there is enough residual energy in the storage device and the objective function of @xmath169 is increasing with respect to @xmath191 if @xmath192 due to less residual energy in the storage device , the combination of  relay @xmath193 the bs and user @xmath16 is not suitable for transmission over subcarrier @xmath11 to avoid withdrawing too much electricity from the grid .    _ _  _ _ by the above description , it may be concluded some subcarriers will be abandoned temporarily due to their low energy efficiency . at the same time the abandoned subcarriers can be used by other cells belonging to the same operator .",
    "the abandoned subcarriers can also be re - used by the same cell after a while when the channel conditions turn to be better.therefore , the network operator will not waste any resource or revenue from a long term and global point of view .    by substituting the optimal transmission power in _ theorem theo : opt_power _ to @xmath171 the optimal @xmath194 is obtained .",
    "then the subcarrier allocation and relay selection can be achieved by @xmath195note that in @xmath196 @xmath197 can be the index of a rs or referred to the bs if direct transmission is adopted .",
    "the associated dual problem of @xmath149 is @xmath198 which can be solved by standard subgradient method @xmath199 and @xmath200 @xmath201 .",
    "@xmath202 ^{+ } \\notag\\end{aligned}\\]]@xmath203 ^{+},\\text { }   \\notag\\end{aligned}\\]]where @xmath204 is the iteration index in time slot @xmath205 @xmath63 ^{+}\\hat{=}\\max \\left\\ { 0,x\\right\\ } $ ] and @xmath206 is step size at the @xmath207 iteration .",
    "the convergence of @xmath199 and @xmath200 can be guaranteed by a diminishing step size @xmath206 @xcite .    in practice ,",
    "the subproblems @xmath169 and @xmath170 are solved by each rs locally for @xmath208 times during one iteration @xmath204 and the computational complexity at each relay is @xmath209 which is the same as @xcite .",
    "and then each relay transmits the optimal @xmath210 to the bs for the final subcarrier allocation .",
    "the deployment of a certain amount rss to proper place is also important in utilizing the cooperative diversity and has been extensively investigated in @xcite and @xcite .",
    "a candidate place is where a rs can not only serve users better than direct transmission but also be easy to access on - grid power .",
    "candidate place can be the roof of a building , where rss serve users in the building .",
    "thus the number of candidate places in a considered area is finite . since the joint deployment of rs and resource allocation problem is np - hard , heuristic algorithm will be considered .",
    "firstly , all candidate places are deployed with rss .",
    "users requiring relay are associated to the rs with the minimum _ rte _ which is defined as the quotient of user s throughput requirement and achievable throughput with unit transmission power and subcarrier .",
    "then subcarriers are allocated among rss and bs to satisfy each user s throughput requirement proportionally .",
    "the transmission power of bs and rss can be obtained by waterfilling .",
    "secondly , calculate each rs s energy efficiency value , which is defined as the total achievable throughput divided by the rs s energy consumption .",
    "sort all rss in an ascending order based on its energy efficiency value .",
    "thirdly , try to delete the first rs from and candidate place and re - connect its users to other rss based on the _ rte _ criterion in the first step .",
    "subcarriers and transmission power are re - allocated .",
    "if each user s throughput requirement is satisfied , try to delete the second rs and repeat .",
    "if the removal of the @xmath211 rs can not satisfy users throughput requirements , the algorithm outputs the deployment of @xmath204 rss in the last round . due to space limitation",
    ", we do not evaluate the heuristic rs placement .",
    "its idea is similar with @xcite , which has demonstrated good performance with low time complexity .      at each time slot @xmath42 ,",
    "the bs manages the energy level in its storage device based on local information by solving the following problem:@xmath212\\end{array } ,   \\label{24}\\]]where @xmath213 is a parameter to be specified in section vi .",
    "the optimal solution to @xmath214 has the following threshold structure :    \\1 ) if @xmath215 then @xmath216 @xmath217 where @xmath218 is the solution to @xmath219and @xmath220    \\2 ) if @xmath221 then @xmath222 @xmath223 @xmath224    the solution to @xmath214 depends on the current energy level in the energy storage device without knowing any statistic information on renewable energy .",
    "the detailed implementation of the proposed joint policy _ free _ can be found in fig .",
    "[ fig . 1 ] .",
    "although the _ free _ policy seems to be implemented separately , the proof of theorem [ theo : nearoptimal ] demonstrates that the solutions to subproblems @xmath225 @xmath226 @xmath149 and @xmath214 minimize the upper bound of system lyapunov drift plus cost function greedily .",
    "the _ _  free _ _ can solve the system optimization problem @xmath104 while maintaining stability at the same time , which is formally stated in proposition [ prop : boundsq ] and theorem [ theo : nearoptimal ] .",
    "this section states the properties of proposed algorithm _ free_.    [ theo : energylevel ] for @xmath227 and @xmath228the energy level in the energy storage device satisfies @xmath229 \\text { , } \\forall t. \\label{27}\\ ] ]",
    "the proof can be found in appendix b.    the above results demonstrate that although _ free _ solves @xmath125 without considering the constraints  @xmath111-@xmath230 the energy level in storage device is feasible in each time slot .",
    "the following proposition characterizes the boundedness of data queue . by recalling @xmath231",
    "it is noted that @xmath232 can be regarded as a charging threshold for the battery and be implemented by the algorithm .",
    "based on @xmath233and @xmath234 the maximum @xmath235 is mostly determined by @xmath236 which should be at least larger than the summation of the maximum charging rate @xmath237 and the maximum withdrawing rate @xmath238 we can understand the lower bound of @xmath82 by the following observation . to maintain the feasible value of residual energy in the battery , @xmath239 is obtained by adding @xmath240 and @xmath241 together , _ _",
    "i.e.__@xmath242 @xmath243    [ prop : boundsq ] initialize @xmath244 @xmath245 .",
    "the data buffer backlogs yield the deterministic bounds @xmath246  for @xmath247 @xmath248    the proof can be found in appendix c.    in the above results , given@xmath249 the designed _ free _ can guarantee that the actual queue length is limited by @xmath128 in each time slot and the virtual queue also has a deterministic upper bound @xmath250 theorem [ theo : nearoptimal ] further proves _ free _ designed for the relaxed problem @xmath118 can approach the optimal solution of original problem@xmath251 asymptotically .",
    "[ theo : nearoptimal ] given @xmath252the proposed algorithm _",
    "free _ can achieve the near optimal performance : @xmath253and a bounded virtual queue@xmath254where @xmath255 is a positive variable , @xmath256 is the optimal objective value of @xmath104 and @xmath257 is defined as @xmath258    before we give the formal proof , the following lemma is needed .    if the packet arrival process @xmath259 channel state @xmath260 and renewable energy generation@xmath261 are i.i.d . , then there exists a randomized stationary policy @xmath262 that takes feasible flow control , radio resource allocation and energy management only based on thecurrent system state @xmath263 at every time slot @xmath42 while satisfying the constraints in problem @xmath118 and results in the following conditions:@xmath264where @xmath265 belongs to the network region @xmath266 which is the set of network capacities under all possible control policies",
    ". there also exists another randomized stationary policy @xmath267 that only depends on the system state and the following conditions hold , @xmath268 .",
    "@xmath269{l } \\mathbb{e}\\left\\ { o^{rs^{\\prime } } \\left ( t\\right ) \\right\\ } \\!=\\!\\mathbb{e}\\left\\ { \\delta ^{rs^{\\prime } } \\left ( t\\right ) w\\left ( t\\right ) \\right\\ } , \\\\",
    "\\mathbb{e}\\left\\ { x_{n}^{rs^{\\prime } } \\left ( t\\right ) \\right\\ } \\!=\\!\\mathbb{e}\\left\\ { \\mu _ { n}^{rs^{\\prime } } \\left ( t\\right ) \\right\\ } \\!=\\!\\mathbb{e}\\left\\ { r_{n}^{rs^{\\prime } } \\left ( t\\right ) \\right\\ } \\!=\\!\\kappa _ { n}\\!-\\!\\epsilon , \\\\ \\mathbb{e}\\left\\",
    "{ \\phi \\sum_{n=1}^{n}f\\left ( r_{n}^{rs^{\\prime } } \\left ( t\\right ) \\right ) \\right\\ } \\!-\\!\\mathbb{e}\\left\\ { \\varphi p^{rs^{\\prime } } \\left ( t\\right ) \\right\\ } \\!=\\!\\mathcal{v}_{2\\epsilon } , \\end{array}\\]]where @xmath270 is a positive value that can be chosen arbitrarily close to zero . according to @xcite , we have @xmath271 as @xmath272    the proof process of theorem [ theo : nearoptimal ] is described in the following .    the average performance bound @xmath273 is obtained by comparing the lyapunov drift of _ free _ with the aforementioned randomized stationary policy .",
    "we use lyapunov optimization technique to derive the performance bound .",
    "let @xmath274 where @xmath275 @xmath276  define the lyapunov function as @xmath277 \\!\\!+\\!\\!\\frac{1}{2}\\!\\left ( \\!s\\!\\left ( t\\right ) \\!\\!-\\!\\!\\theta \\right ) ^{2 }   \\notag\\end{aligned}\\ ] ]                define the conditional lyapunov drift as follows , @xmath278where the conditional expectation is taken over the system queue .",
    "the drift of the first two items in @xmath279 can be found in@xmath6xingzheng_tvt . according to the battery dynamics in @xmath280 the drift of the third item in @xmath279 is@xmath281by subtracting @xmath282 from the conditional drift of @xmath279 , we have@xmath283where @xmath257",
    "is defined in @xmath284 and @xmath285 is the set of rss that assist the transmissions towards user @xmath16,@xmath286@xmath287@xmath288@xmath289it can be found that the subproblems @xmath226 @xmath225 @xmath149 and @xmath214 in _ free _ minimizes @xmath290 on the right hand side of @xmath291 over all possible solutions including the randomized stationary policy . substituting@xmath6the randomized stationary policy @xmath267 into @xmath292 and substituting policy @xmath293 into @xmath294 and @xmath295 on the right hand side of @xmath291",
    "it is obtained that , @xmath296if @xmath297 by theorem 5.4 in @xcite , it is obtained that @xmath298 and@xmath299hold . since the virtual  queue @xmath300 is stable by @xmath298 _ _ , _ _ we have @xmath301 hence we have @xmath302where the first inequality is due to the  non - decreasing property of @xmath303 and the second inequality is jensen s inequality .",
    "note that @xmath304 holds for all @xmath305 due to @xmath306 as @xmath307 and @xmath308 we have @xmath273 in _ theorem [ theo : nearoptimal ] _ by substituting @xmath309 into @xmath304 .",
    "although the designed per - slot sub - problems @xmath225 @xmath310 @xmath311 @xmath214 without considering the future network performance , jointly solve @xmath118 instead of @xmath107 the resulted solution can approach the optimal objective value of @xmath104 arbitrarily by regulating @xmath235 .",
    "this result is reasonable since a larger storage ( a larger @xmath312 ) can store more renewable energy to save on - grid energy to achieve a larger objective value .",
    "the result in _ theorem [ theo : nearoptimal ] _ is based on the assumption of i.i.d stochastic process .",
    "it can be generalized to non i.i.d .",
    "markov modulated scenarios using the techniques developed in neely_book2006 @xcite .",
    "this section presents the simulation results for the proposed algorithm _ free .",
    "_ a cell with 2 km radius is considered , where eight  mobile users are uniformly distributed in the cell and four rss are assumed to be uniformly placed in the midway of bs and cell boundary .",
    "the simulation parameters are set as follows except for other specification . in every time slot ,",
    "the bs receives new packets with destinations of the corresponding users according to an i.i.d poisson arrival process with average rate of @xmath313 packets / s .",
    "the packet size has an  exponential distribution with mean packet size of @xmath314 bits / packet .",
    "the buffer size for each user is @xmath315 packets .",
    "the total bandwidth is @xmath315 mhz with @xmath316 subcarriers .",
    "the channel gain of any transmission pair in networks consists of a small - scale rayleigh fading component and a large - scale path loss component with path loss factor of @xmath317 the noise level is assumed to be @xmath318 w and the gap to capacity is set to be @xmath319 .",
    "the static power consumption of the bs is @xmath320 w and its maximum transmission power is @xmath321 w without particular specification . for any rs ,",
    "its static power consumption is @xmath322 w and the maximum transmission power is @xmath315 w. the power mask on each subcarrier is @xmath323 w. the capacity of the bs  storage device is @xmath324 wh unless otherwise specified .",
    "the maximum discharge rate  of the storage device is @xmath325 w. the maximum power from the grid to supply the bs directly is @xmath326 . the average  generated solar power has two states corresponding to sunny day and cloudy day : @xmath327 wh with probability @xmath328 and @xmath329 wh@xmath330with@xmath6probability @xmath331 , respectively @xcite .",
    "the parameter @xmath332is set as @xmath333 the utility function is chosen as @xmath334    firstly , we verify the stability of proposed algorithms . from fig .",
    "[ fig . 3 ] to fig .",
    "[ fig . 5 ] , it is observed that all the actual queues @xmath335 , virtual queues @xmath336 and energy level @xmath337 in the storage device have the trend of stability .",
    "especially fig .",
    "3 ] shows that all actual queues are smaller than the upper bound of @xmath315 packets and fig .",
    "4 ] demonstrates that all virtual queues are bounded , which verifies the results in _ proposition [ prop : boundsq ] _ and @xmath298__. _ _ fig .",
    "5 ] demonstrates the results in _ theorem [ theo : energylevel ] _ that the  energy level in the storage device of the bs is always nonnegative and below the capacity of storage device .",
    "the simulations are run for @xmath338 iterations  and the results in fig .",
    "[ fig . 6 ] to fig .",
    "10 ] are obtained by averaging the last @xmath314 iterations .",
    "it is shown that the time - average  tradeoff value in @xmath104 grows with the increase of @xmath235 , which verifies @xmath339 it is further noticed that with @xmath340 the time average objective value increases slower than that with @xmath341 , since a larger @xmath56 in @xmath257 @xmath284 brings a larger gap between the optimal objective value and actual value . to decrease the gap ,",
    "a larger @xmath235 is needed .",
    "[ fig . 6 ] also demonstrates that even with the same @xmath56 the system objective value degrade a little when all the channel state is measured with 30% uncertainty , _",
    "i.e. _ @xmath342 where @xmath343 is the real channel gain , @xmath344 is channel uncertainty and @xmath345 the measured channel gain .        the tradeoff between the system throughput and on - grid energy consumption is shown in fig .",
    "[ fig . 7 ] , which is depicted by decreasing @xmath99 gradually while @xmath98 and @xmath235 are fixed . in order to measure the effects of renewable energy and cooperative relay , _ free _",
    "is compared with the other two schemes : the scheme with hybrid energy powered bs without relay , and the scheme with both rss and bs powered by on - grid energy alone .",
    "the compared schemes are also designed by lyapunov optimization . in fig .",
    "it is found that for on - grid energy consumption smaller than 182the system throughput of _ free _ is even smaller than the scheme with hybrid energy powered  bs only .",
    "this range corresponds to a larger @xmath346 which forces _ free _ to give up using most rss to save on - grid energy .",
    "however the rss are still there generating constant power consumption @xmath347 without any throughput contribution . as @xmath99 continues to decrease ,",
    "more rss are employed by _",
    "free _ to obtain more throughput than the scheme with hybrid energy powered  bs only .",
    "it is also found that mostly the scheme with cooperative rss powered by on - grid energy alone is not energy - efficient compared with the other two schemes . when more on - grid energy is consumed , its throughput is larger than the scheme with bs only but still smaller than _ free .",
    "_ thus , we can see that the benefits due to renewable energy and cooperative relay depend on proper parameter setting .    in fig .",
    "9 ] we compare _ free _ with the other  two related works in @xcite  and @xcite .",
    "lagrange dual decomposition method and discrete particle swarm optimization method are adopted respectively by @xcite and @xcite for resource allocation in cooperative relay networks , _",
    "i.e. _ , to pursue @xmath348for fair comparison , we assume that the bss in @xcite and wangtao_tvt are also powered by hybrid energy . we assume there is a heuristic renewable energy management scheme for @xcite and wangtao_tvt . with the heuristic scheme , the harvested energy is always charged into the battery as long as there is enough space , and the bs always uses the saved renewable energy with priority .",
    "since the two related works do not consider flow control , we measure the time average  service rate and the time average on - grid energy consumption with the decreasing @xmath349 it is found in fig .",
    "9 ] that the performance of _ free _ outperforms the other two schemes , since it adapts the resource allocation to the arrival packets and battery states .",
    "moreover , the performance of wangtao_tvt is better than @xcite , since the former takes into account dynamic channel state explicitly .        in fig .",
    "10 ] , we use the fairness index @xmath350 to measure the fairness .",
    "if all users have the same throughput , @xmath351 is @xmath352 it is found that with the number of user from 10 to 60 , the proposed scheme maintains better fairness compared with the throughput maximization scheme .",
    "in this paper , we consider to optimize the tradeoff between downlink throughput utility and on - grid energy consumption of an ofdma cellular network with the assistance of multiple rss .",
    "the bs is powered by the conventional utility grid and the  renewable energy .",
    "a joint design of flow control , radio resource allocation and energy management is proposed to handle the coupling between the energy consumption of the cooperative network and the storage energy allocation . the joint design scheme , namely _",
    "free _ can be implemented by exploiting the local channel states , buffer states and energy states .",
    "technical proof is established to ensure that _ free _ can produce a close - to - optimal performance while allowing finite data buffer and energy storage device .",
    "simulation results show that _ free _ demonstrates better performance compared with other schemes .",
    "if @xmath356 , then the optimal transmission power of the bs over subcarrier @xmath11 is @xmath357 substituting @xmath358 into @xmath359 the optimal @xmath360 is @xmath361where @xmath362 is the solution to @xmath363 then based on the definition of @xmath360 in @xmath364 the optimal @xmath35 is @xmath365        let the objective of @xmath170 be @xmath371 since the objective function of @xmath170 is decreasing with respect to @xmath372 the optimal value is @xmath373 there are two cases to be considered for the optimal @xmath26 . if @xmath180 then the optimal transmission power of the bs is @xmath374 if @xmath181 the optimal value is @xmath375 where the  optimal @xmath26 in the case of @xmath376 is obtained by solving @xmath377 considering the power mask and non - negative constraints .",
    "we now use the induction method to derive @xmath378 .",
    "initially , without any action on the storage device , @xmath379 holds . supposing @xmath378 holds for time slot @xmath42 , we will prove it holds for slot @xmath380 .",
    "there are the following three cases to be considered .",
    "@xmath403 supposing that @xmath404 , we have two cases . @xmath405 @xmath406 obviously , @xmath407 according to the dynamics of @xmath408 @xmath409 if @xmath410 then @xmath411 according to @xmath412 .",
    "thus , we have @xmath413 .",
    "99 a. fehske , j. malmodin , g. biczok , and g. fettweis , the global carbon footprint of mobile communications - the ecological and economic perspective ,  _ ieee commun . mag .",
    "55 - 62 , aug . 2011 .",
    "d. feng , c. jiang , g. lim , leonard j. cimini , jr . ,",
    "g. feng , and g. y. li ,  a survey of energy - efficient wireless communications , \" _ ieee commun .",
    "surveys & tuts .",
    "167 - 178 , first quarter 2013 .",
    "y. huang , s. mao ,  on quality of usage provisioning for electricity scheduling in microgrids , \" _ ieee syst .",
    "j. , _ vol .",
    "619 - 628 , jun .",
    "r. yu , c. zhang , x. zhang , l. zhou , k. yang ,  hybrid spectrum access in cognitive - radio - based smart - grid communications system , \" _  ieee  syst .",
    "j. _ , vol .",
    "577 - 587 , jun .",
    "y. wu , v.kn .",
    "lau , d.h.k .",
    "tsang , l.p .",
    "qian , l. meng ,  optimal energy scheduling for residential smart grid with centralized renewable energy source , \" _ ieee syst .",
    "j. _ , vol .",
    "562 - 576 , jun . 2014 .",
    "d. wang , z. li , and x. wang ,  joint optimal subcarrier and power allocation for wireless cooperative networks over ofdm fading channels , \" _ ieee trans . veh .",
    "_ , vol.61 , no.1 , pp.249 - 257 , jan . 2012 .",
    "yanyan shen , gang feng , bo yang , xinping guan ,  fair resource allocation and admission control in wireless multi - user amplify - and - forward relay networks , \" _ ieee trans .",
    "_ , vol.61 , no.3 , pp.1383 - 1397 , mar . 2012 .",
    "a. zappone , z. chong , e. jorswieck , s. buzzi ,  energy - aware competitive power control in relay - assisted interference wireless networks , \"  _ ieee trans .",
    "wireless commun .",
    "1860 - 1871 , apr . 2013 .",
    "cheung , s. yang , l. hanzo ,  maximizing energy - efficiency in multi - relay ofdma cellular networks , \" in _ proc .",
    "ieee globecom _ ,",
    "atlanta , us , 09 - 13 dec 2013 .",
    "available online : http://eprints.soton.ac.uk/351291/1/main.pdf      w.k.n .",
    "derrick , r. schober ,  resource allocation and scheduling in multi - cell ofdma decode - and - forward relaying networks \" , _ ieee trans .",
    "wireless commun . , _",
    "vol.10 , pp.2246 - 2258 , jul .",
    "m. alam , j. mark , x.  shen ,  relay selection and resource allocation for multi - user cooperative ofdma networks , \" _ ieee trans .",
    "wireless commun .",
    "12 , no . 5 , pp.2193 - 2205 ,  may 2013 .",
    "j. tang , b. mumey , k. zhubayev , r.s .",
    "wolff ,  leveraging cooperative , channel and multiuser diversities for efficient resource allocation in wireless relay networks , \" _ ieee j. sel .",
    "areas commun .",
    "1789 - 1797 , oct . 2012 .",
    "p. li , s. guo , w. zhuang ,  optimal transmission scheduling of cooperative communications with a full - duplex relay , \" _ ieee trans .",
    "parallel distrib .",
    "_ , vol . 25 , no .",
    "9 , pp . 2353 - 2363 , sept .",
    "2014 .",
    "d. w. k. ng , e. s. lo , r. schober ,  energy - efficient resource allocation in ofdma systems with hybrid energy harvesting base station \" , _ ieee trans .",
    "wireless commun .",
    "12 , no . 7 , pp . 3412 - 3427 , jul .",
    "p. he , l. zhao , s. zhou , z. s. niu , recursive water - filling for wireless links with energy harvesting transmitters , _ ieee tran .",
    "3 , pp.1232 - 1241 , mar .",
    "o. ozel , k. tutuncuoglu , j. yang , s. ulukus , a. yener ,  transmission with energy harvesting nodes in fading wireless channels : optimal policies , \" _ ieee j. sel .",
    "areas commun .",
    "29 , no . 8 , pp . 1732 - 1743 , sept .",
    "t. zhang , w. chen , z. han , z. cao ,  a cross - layer perspective on energy harvesting aided green communications over fading channels , \"  _ proc .",
    "ieee infocom , _ turin , italy , apr .",
    "14 - 19 , 2013 .",
    "h. huang , v. k. n. lau ,  decentralized delay optimal control for interference networks with limited renewable energy storage , \" _ ieee trans .",
    "signal process .",
    "2552 - 2561 , may 2012 .",
    "z. zheng , l.x .",
    "cai , r. zhang , x. shen ,  rnp - sa : joint relay placement and sub - carrier allocation in wireless communication networks with sustainable energy \" , _ ieee trans .",
    "wireless commun .",
    "10 , pp . 3818 - 3828 , oct .",
    "2012 .",
    "k. son , h. kim , y. yi , b. krishnamachari ,  base station operation and user association mechanisms for energy - delay tradeoffs in green cellular networks , \"",
    "_ ieee j. sel .",
    "areas commun .",
    "29 , no . 8 , pp . 1525 - 1536 , aug .",
    "s. zhou , a. j. goldsmith , z. niu ,  on optimal relay placement and sleep control to improve energy efficiency in cellular networks , \" _ proc .",
    "ieee icc _ ,",
    "pp . 1 - 6 , 2011 .",
    "i. ahmed , a. ikhlef , r. schober , r. k. mallik ,  power allocation for conventional and buffer - aided link adaptive relaying systems with energy harvesting nodes , \" _ ieee trans .",
    "wireless commun .",
    "3 , pp.1182 - 1195 , mar .",
    "j. laneman , d. tse , g. wornell , cooperative diversity in wireless networks : efficient protocols and outage behavior ,  _ ieee trans .",
    "theory , _ vol .",
    "30623080 , dec .",
    "2004 . c. gao , w. zhang , j. tang , c. wang , s. zou , s. su ,  relax , but do not sleep : a new perspective on green wireless networking , \" in _ proc .",
    "ieee infocom _ ,",
    "toronto , canada , apr .",
    "w. liao , m. li , s.  salinas , p. li , m.s .",
    "pan ,  energy - source - aware cost optimization for green cellular networkswith strong stability , \" _",
    "ieee trans . emerging topics comput .",
    "1 , preprints , doi:10.1109/tetc.2014.2386612 .",
    "m. neely , _",
    "stochastic network optimization with application to communication and queueing systems_. morgan & claypool publishers , 2010 .",
    "y. li , m. sheng , y. shi , x. ma , w. jiao ,  energy efficiency and delay tradeoff for time - varying and interference - free wireless networks , \" _ ieee trans .",
    "wireless commun .",
    "_ , vol . 13 , no .",
    "5921 - 5931 , nov .",
    "t. c .- y . ng and",
    "w. yu , joint optimization of relay strategies and resource allocations in a cooperative cellular network ,  _ ieee journal on selected areas in communications _ , vol .",
    "328 - 339 , feb .",
    "j. huang , v. g. subramanian , r. agrawal , r. berry ,  joint scheduling and resource allocation in uplink ofdm systems for broadband wireless access networks , \" _ ieee j. sel .",
    "areas commun .",
    "226 - 234 , feb . 2009 .",
    "b. johansson , p. soldati , m. johansson , mathematical decomposition techniques for distributed cross - layer optimization of data networks , \" _ ieee j. sel .",
    "areas commun . _ ,",
    "24 , no . 8 , pp . 1535 - 1547 , aug .",
    "w. li , j. lei , t. wang , et al .",
    ", `` dynamic optimization for resource allocation in relay aided ofdma systems under multi - service , '' _ ieee trans .",
    "_ , to be published .",
    "[ online ] .",
    "available : http://ieeexplore.ieee.org/xpls/abs_all.jsp?arnumber=7056500&tag=1    x. zhu , b. yang , c. chen , l. xue , x. guan , f. wu , cross - layer scheduling for ofdma - based cognitive radio systems with delay and security constraints ,  _ ieee trans . veh .",
    "_ , to be published .",
    "[ online ] .",
    "available : http://ieeexplore.ieee.org/xpl/login.jsp?tp=&arnumber=7012108"
  ],
  "abstract_text": [
    "<S> this paper investigates the energy efficient  resource allocation for orthogonal frequency division multiple access ( ofdma ) relay systems , where the system is supplied by the conventional utility grid and a renewable energy generator equipped with a storage device . </S>",
    "<S> the optimal usage of radio resource depends on the characteristics of the renewable energy generation and the mobile traffic , which exhibit both temporal and spatial diversities . </S>",
    "<S> lyapunov optimization method is used to decompose the problem into the joint flow control , radio resource allocation and energy management without knowing a priori knowledge of system statistics . </S>",
    "<S> it is proven that _ _  </S>",
    "<S> _ _ the proposed algorithm can result in close - to - optimal performance with capacity limited data  buffer and storage device . </S>",
    "<S> simulation results show that the flexible tradeoff between the system utility and the conventionalenergy consumption can be achieved . compared with other schemes , </S>",
    "<S> the proposed algorithm demonstrates better performance .    </S>",
    "<S> cooperative relay , ofdma , renewable energy , stochastic optimization . </S>"
  ]
}