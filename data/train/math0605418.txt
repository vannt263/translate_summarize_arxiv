{
  "article_text": [
    "from various hyperbolic cone constructions it is known that every bounded , complete metric space can appear as the visual boundary of a gromov hyperbolic space . here",
    "visual boundary means the boundary of a gromov hyperbolic space endowed with a visual metric . in order to study the relation of ( rough geodesic ) gromov hyperbolic spaces and @xmath1-spaces in terms of asymptotic methods , it is of major importance to understand which metric spaces can appear as visual boundaries of @xmath1-spaces .",
    "surprisingly enough , due to our knowledge there does not appear any necessary condition for this in the literature .",
    "one of the main purposes of this paper is to provide a first such condition , namely a four point relation , which we will call the _ ptolemy inequality _ :    [ thm : ptolemy ] let @xmath2 be the boundary of a @xmath0-space endowed with a bourdon or a hamenstdt metric @xmath3 .",
    "let @xmath4 , then    @xmath5    equality holds if and only if the convex hull of the four points is isometric to an ideal quadrilateral in the hyperbolic plane @xmath6 such that the geodesics @xmath7 and @xmath8 are the diagonals .",
    "note that the formulation of this four point inequality is mbius invariant .",
    "thus , if the metric @xmath9 is replaced by a mbius equivalent metric , the inequality is invariant .",
    "therefore it holds for all bourdon metrics and also for all hamenstdt metrics on @xmath2 ( for a discussion of these metrics compare section [ subsec : catminusone ] ) . as a consequence",
    "the inequality is well adapted to the geometry of the boundary of a @xmath0-space .",
    "it is a classical theorem attributed to ptolemy ( 85 - 165 ) , that if @xmath10 are points in this order on a circle in the euclidean plane , then we have equality in this formula .",
    "the classical ptolemy theorem is equivalent to the _ if direction _ of the equality discussion in theorem [ thm : ptolemy ] .",
    "we will obtain the inequality from a detailed study of the proof of a result of bourdon @xcite .",
    "we use theorem [ thm : ptolemy ] to study the relation between gromov hyperbolic spaces and @xmath0-spaces .",
    "clearly every @xmath0-space is gromov hyperbolic . since",
    "gromov hyperbolicity is not a local curvature condition , the opposite is not true in general . given a gromov hyperbolic space @xmath11 one can ask the following question : is @xmath11 rough isometric to some @xmath0-space @xmath12 ? here a map @xmath13 between metric spaces",
    "is called a _ rough isometric embedding _ , if there exists a constant @xmath14 such that @xmath15 if in addition the image @xmath16 is @xmath17-dense , then @xmath18 is called a _",
    "rough isometry_.    we look for answers to this question for gromov hyperbolic spaces which are _ visual _ ( see section [ sec : hypspace ] ) .",
    "the visual condition can be viewed as a quasiisometry - invariant version of the condition of extendable geodesics . for simplicity of the exposition",
    "the reader may think that @xmath11 is a geodesic space with a basepoint @xmath19 such that for every point @xmath20 there exists @xmath21 such that @xmath22 lies on a geodesic @xmath23 .",
    "coming back to our question we remark that gromov hyperbolicity is invariant under arbitrary scaling of the metric while the @xmath0-condition is only invariant under scaling with factors @xmath24 .",
    "therefore the formulation of the problem is not yet good enough for our purposes .",
    "if @xmath25 is a metric space , we can consider the whole family of scaled metric spaces @xmath26 with @xmath27 and look for a distinguished normalization .",
    "we use the asymptotic upper curvature bound @xmath28 defined in @xcite as a normalization ( see section [ sec : hypspace ] ) .",
    "this normalization is only possible if @xmath28 is finite . in the case that @xmath29 , the space @xmath11 looks very much like a tree .",
    "we call a visual gromov hyperbolic space _ treelike _ if @xmath30 .",
    "this definition is justified by the result in @xcite , that a visual gromov hyperbolic space with @xmath31 is rough isometric to a tree provided that in addition @xmath32 is doubling .",
    "since trees are @xmath0 , it is not a substantial restriction to consider only nontreelike spaces .",
    "thus in the sequel we will consider only nontreelike visual gromov hyperbolic spaces .",
    "let @xmath11 be such a space , then we can normalize @xmath11 such that @xmath33 .",
    "we call the normalized metric on @xmath11 the critical metric and use the symbol @xmath34 for it .",
    "* main question * : let @xmath35 be a nontreelike visual gromov hyperbolic space endowed with its critical metric @xmath34 .",
    "does there exist a @xmath0 space @xmath12 , such that @xmath35 is rough isometric to @xmath12 ?    in",
    "this setting one can reformulate the bonk - schramm embedding result ( compare @xcite ) .",
    "it says that under the doubling condition on @xmath32 the answer to this question is _ almost yes _ in the sense that one only needs an arbitrarily small scaling of the critical metric to obtain the desired rough isometry",
    ". more precisely the bonk - schramm result ( which relies on the assouad embedding theorem ) implies the following :    [ thm : bonkschramm ] let @xmath35 be a nontreelike visual gromov hyperbolic space endowed with its critical metric .",
    "assume in addition that the boundary @xmath32 is doubling .",
    "then for every positive @xmath36 there exists a rough isometry of @xmath37 to a @xmath0-space @xmath12 .",
    "actually in @xcite it was proven more explicitly that for every positive @xmath36 there exists a number @xmath38 , such that @xmath37 is rough isometric to a convex subset @xmath12 of the standard hyperbolic space @xmath39 .",
    "we want to remark that it follows from the definition of the critical metric , that @xmath40 can not be rough isometric to a @xmath0 space for any @xmath41 ( compare remark [ rem : critexp ] ) .    a related embedding result can be obtained by combining results of lang - schlichenmaier ( see @xcite ) and alexander - bishop ( see @xcite ) .",
    "[ thm : lsab ] let @xmath35 be as above and assume now that the boundary @xmath32 has finite assouad nagata dimension . then there exists some @xmath36 such that @xmath37 is rough isometric to a @xmath0-space .",
    "details for a proof of this theorem will be given elsewhere .",
    "just note that by a theorem of lang - schlichenmeier every metric space of finite assouad nagata dimension admits a snowflake embedding into a product of a finite number of metric trees .",
    "this product certainly is a @xmath42-space .",
    "now alexander - bishop construct @xmath43-spaces as certain metric warped products with fibers that are @xmath42-spaces . in order to establish the validity of theorem [ thm : lsab ] , it only remains to verify that the fiber s @xmath42-metric actually yields a visual metric on the boundary at infinity of such a @xmath43 warped product .",
    "the embedding statement of theorem [ thm : lsab ] then just follows exactly as the one of theorem [ thm : bonkschramm ] .",
    "+ although the proof of theorem [ thm : lsab ] needs some constant @xmath44 bounded away from @xmath45 ( more precisely : the proof of theorem 1.3 in @xcite needs this constant ) , it is unknown if the result is true for any positive @xmath36 ( similar as in the bonk - schramm - assouad result ) .",
    "one main result of our paper is the existence of an example of a gromov hyperbolic space @xmath35 such that the optimal @xmath44 for which @xmath37 is rough isometric to a @xmath0-space is bounded away from @xmath45 .",
    "this implies in particular that the main question as stated above has a negative answer .",
    "[ theo - main ] there exists a visual gromov hyperbolic space @xmath35 with the following property .",
    "if @xmath46 , then there does not exist a @xmath0-space @xmath12 which is rough isometric to @xmath47 .",
    "however , @xmath48 is rough isometric to a @xmath0-space .",
    "our result allows now to reformulate the question more quantitatively and to introduce a new invariant @xmath49 for visual nontreelike gromov hyperbolic spaces :    * questions : * let @xmath35 be a visual gromov hyperbolic space with its critical metric .",
    "does there exist some @xmath50 such that @xmath37 is rough isometric to a @xmath0-space ?",
    "if such @xmath44 exists , what is the supremum @xmath49 of these @xmath44 ?",
    "is @xmath51 rough isometric to some @xmath0-space ?",
    "note that the set @xmath44 , such that @xmath47 is rough isometric to some @xmath0-space is either empty or an interval of the form @xmath52 or @xmath53 $ ] with @xmath54 .",
    "we give an outline of the paper .",
    "let @xmath11 be a gromov hyperbolic space .",
    "we denote by @xmath55 the boundary at infinity of @xmath11 . given a basepoint @xmath19",
    ", the expression @xmath56 defines a quasi - metric on @xmath57 , here @xmath58 denotes the gromov product",
    ".    if @xmath59 and @xmath60 are different basepoints then the quasi - metrics @xmath56 and @xmath61 are bi - lipschitz .",
    "thus the bi - lipschitz class @xmath62 $ ] of the quasi - metric @xmath63 is well defined and does not depend on the basepoint .",
    "if we scale the metric on @xmath11 by a factor @xmath44 , then the gromov product @xmath58 is transformed into @xmath64 and the corresponding quasi - metric on @xmath57 is taken to the power @xmath44 .",
    "thus it is reasonable to consider the whole family @xmath65 of quasi - metrics and not only the particular quasi - metric @xmath66 .    given a general quasi - metric space @xmath67 we can associate to @xmath68 a critical exponent @xmath69 $ ] ( see section [ subsec : quasimetric ] ) . if @xmath70 , we say that @xmath71 is the critical quasi - metric on @xmath57 .",
    "in the case that @xmath11 is a visual gromov hyperbolic space , consider @xmath55 endowed with the quasi - metric @xmath72 . then there is a relation of the critical exponent @xmath73 of @xmath68 and the asymptotic upper curvature bound @xmath28 defined in @xcite .",
    "indeed it holds @xmath74 .    if @xmath11 is nontreelike ( i.e. @xmath75 )",
    ", then one can scale the metric on @xmath11 in a unique way , such that @xmath56 ( where now the gromov product is taken with respect to the scaled metric ) is in the critical class .",
    "this corresponds to the scaling @xmath76 . in this way we find a distinguished metric @xmath34 on @xmath11 .",
    "we are interested in the question , if one can embed @xmath11 rough isometrically into some @xmath0-space @xmath12 .",
    "the existing embedding theorems work in the following way .",
    "first find an embedding of the boundary @xmath77 into the boundary of some @xmath0-space , i.e. a map @xmath78 , where @xmath2 is the boundary of some @xmath12 .",
    "then one extends this embedding to an embedding @xmath79 .",
    "the idea of the extension is easily explained in the case that @xmath11 is a geodesic gromov hyperbolic space with extendable geodesics .",
    "given a basepoint @xmath80 and an arbitrary point @xmath20 , there exists a point @xmath81 and a geodesic @xmath82 , such that @xmath83 .",
    "the extension @xmath84 is now defined as follows .",
    "choose some basepoint @xmath85 .",
    "now define @xmath86 to be the point on the geodesic @xmath87 such that @xmath88 .",
    "bonk and schramm proved that @xmath84 is a rough isometric embedding if and only if @xmath18 is a bi - lipschitz map . in this case",
    "@xmath84 is a rough isometry onto the convex hull of @xmath89 , which turns out to be @xmath0 itself .    using this extension construction ,",
    "the embedding problem can be reduced to an embedding problem @xmath90 , where @xmath57 is some complete bounded quasi - metric space , and @xmath2 is the boundary of a @xmath0-space ( endowed with a bourdon metric ) .    to discuss this embedding problem , we recall here the definition of a snowflake map .",
    "a map @xmath90 between quasi metric spaces is called a _",
    "@xmath91-snowflake map _ , if there exists @xmath92 such that for all @xmath93 @xmath94    this means that the quasi - metric @xmath95 embeds bi - lipschitz into the metric space @xmath2 . in the case that @xmath68 is critical , we conclude in particular that @xmath96 and @xmath97 can only occur , if the critical quasi - metric @xmath68 is actually bi - lipschitz to a metric .",
    "thus we have the following : let @xmath11 be a nontreelike visual gromov hyperbolic space , then @xmath47 can be rough isometrically embedded into a @xmath0-space , if there exists a @xmath44-snowflake map from @xmath32 to the boundary @xmath2 of a @xmath0-space .    to obtain our example",
    "we denote with @xmath57 the unit ball in @xmath98 , i.e. a point @xmath81 is a sequence @xmath99 with @xmath100 .",
    "we prove    [ thm : snowflaketheorem ] for @xmath101 there does not exist a @xmath91-snowflake embedding @xmath90 where @xmath2 is a space satisfying the ptolemy inequality .",
    "however we show there exists a @xmath102-snowflake map of @xmath57 into some hilbert space , which is the boundary of the infinite dimensional hyperbolic space ( see section [ sec : example ] ) . + finally note that theorem [ thm : snowflaketheorem ] is sharp with respect to our methods of proof in the following sense : what we actually prove is that @xmath57 does not admit a @xmath91-snowflake embedding into a metric space satisfying the ptolemy inequality for @xmath101 .",
    "however , in section [ sec - ptolemy ] we prove    [ prop - sqrt - ptolemy ] let @xmath25 be an arbitrary metric space .",
    "then @xmath103 satisfies the ptolemy inequality .",
    "thus , if we want to obtain a non embedding theorem similar in spirit to theorem [ thm : snowflaketheorem ] with snowflake parameters @xmath104 , then we need other necessary conditions for a metric space to appear as bourdon or hamenstdt metrics on the boundary of @xmath105-spaces .",
    "+ we would like to emphazise that the most natural candidate allowing such a non embedding result seems to be the unit ball in @xmath106 . + it is a pleasure to thank sergei buyalo , mario bonk , alexander lytchak and urs lang for many discussions about hyperbolic spaces .",
    "a _ quasi - metric space _ is a set @xmath57 with a function @xmath107 which satisfies the conditions :    \\(1 ) @xmath108 for every @xmath109 , @xmath110 and @xmath111 if and only if @xmath112 ;    \\(2 ) @xmath113 for every @xmath109 , @xmath110 ;    \\(3 ) @xmath114 for every @xmath109 , @xmath115 , @xmath116 and some fixed @xmath117 .",
    "let @xmath67 be a quasi - metric space . by @xmath62 $ ]",
    "we denote the bi - lipschitz class of @xmath68 , i.e. for a map @xmath118 we have @xmath119 $ ] if and only if there exists @xmath120 such that for all @xmath121 @xmath122    we are interested in obtaining a metric on @xmath57 . since the only problem is the triangle inequality , the following approach is very natural .",
    "define a map @xmath123 $ ] , @xmath124 where the infimum is taken over all sequences @xmath125 in @xmath57 . by definition @xmath126 satisfies the triangle inequality .",
    "we call this approach to the triangle inequality the _ chain approach_.    for a quasi - metric @xmath68 we denote with @xmath127 the pseudometric which we obtain when applying the chain approach to @xmath68 .",
    "the problem with the chain approach is that @xmath128 could be @xmath129 for different points @xmath130 and axiom ( 1 ) is not longer satisfied for @xmath131 .",
    "frink @xcite realized that the chain approach works for @xmath132-quasi - metric spaces .",
    "[ pro:2quasimetric ] let @xmath68 be a @xmath132-quasi - metric on a set @xmath57 and let for @xmath121 , @xmath124 where the infimum is taken over all sequences @xmath125 in @xmath57 .",
    "then @xmath126 is a metric on @xmath57 with @xmath133 .",
    "if @xmath67 is a quasi - metric space , then @xmath134 is a 2-quasi - metric if @xmath135 is sufficiently small .    a quasi - metric space @xmath67 is called _ lm - space _ ( lipschitz metrizable ) , if @xmath136 $ ] .",
    "hence a quasi - metric space is lm if and only if the following two conditions hold :    \\(1 ) the chain approach gives a metric .",
    "\\(2 ) the metric from the chain approach is bi - lipschitz to @xmath68 .",
    "clearly the lm property is a bi - lipschitz invariant .",
    "one easily proves the following : if @xmath68 is lm , then @xmath134 also is lm for every @xmath137 .",
    "note that @xmath134 is a @xmath132-quasi - metric for @xmath138 small enough .",
    "thus to every quasi - metric space @xmath67 which is not bi - lipschitz to an ultrametric one can associate in a unique way a _ critical exponent _",
    "$ ] with the property : @xmath134 is lm for all @xmath139 and @xmath134 is not lm for all @xmath140 .",
    "[ rem : critexp ] it follows from the definition of the critical exponent , that for every @xmath140 there can not exist a bi - lipschitz map @xmath141 , where @xmath2 is a metric space .",
    "we shortly discuss the situation @xmath142 .",
    "it follows from @xcite :    [ thm : critex ] let @xmath67 be a doubling quasi - metric space",
    ". then @xmath143 if and only if @xmath68 is bi - lipschitz to an ultrametric .",
    "without the doubling assumption theorem [ thm : critex ] fails in general .",
    "this follows from an example due to leonid kovalev : @xmath144 the set of integers @xmath145 endowed with the metric @xmath126 , where @xmath146 . for this metric",
    "the critical exponent @xmath73 is @xmath147 , but @xmath148 is not bi - lipshitz equivalent to an ultrametric .",
    "nevertheless , we call ( ad hoc ) a quasi - metric @xmath68 _ ultrametriclike _ if @xmath142",
    ".      let @xmath11 be a metric space",
    ". for @xmath149 let @xmath150 the space @xmath11 is called _",
    "@xmath151-hyperbolic _ if for @xmath152 @xmath153 in the sense that the two smallest of the three numbers differ by at most @xmath151 .",
    "@xmath11 is called _ hyperbolic _ , if it is @xmath151-hyperbolic for some @xmath154 .",
    "the relation ( [ eq : de - eq1 ] ) is called the _",
    "@xmath151-inequality _ with respect to the point @xmath80 .",
    "if @xmath11 satisfies the @xmath151-inequality for one individual basepoint @xmath19 , then it satisfies the @xmath155-inequality for any other basepoint @xmath156 ( see for example @xcite ) .",
    "thus , to check hyperbolicity , one has to check this inequality only for one basepoint .",
    "let @xmath11 be a hyperbolic space and @xmath80 be a base point .",
    "a sequence @xmath157 of points @xmath158 _ converges to infinity , _ if @xmath159 two sequences @xmath157 , @xmath160 that converge to infinity are _ equivalent _ if @xmath161 using the @xmath151-inequality , one easily sees that this defines an equivalence relation for sequences in @xmath11 converging to infinity .",
    "the _ boundary at infinity _",
    "@xmath32 of @xmath11 is defined as the set of equivalence classes of sequences converging to infinity .    for points",
    "@xmath162 , @xmath163 we define their gromov product by @xmath164 where the infimum is taken over all sequences @xmath165 , @xmath166 .",
    "note that @xmath167 takes values in @xmath168 $ ] and that @xmath169 if and only if @xmath170 . in a similar way we define for @xmath171 , @xmath172 @xmath173    if @xmath11 is @xmath151-hyperbolic and if @xmath174 , then @xmath175 is a @xmath151-triple .",
    "this implies that the expression @xmath176 defines a @xmath177-quasi - metric on @xmath32 where @xmath178 .",
    "a gromov hyperbolic space is called _ visual _ , if there exists a point @xmath80 and a constant @xmath179 such that for every @xmath20 there exists @xmath21 with @xmath180 .    roughly speaking , in a visual gromov hyperbolic space the position of a point @xmath22 is ( up to a universal constant ) , given by some point @xmath21 and the distance @xmath181 from the basepoint .",
    "it turns out that for these spaces almost all information is encoded in the properties of @xmath32 .    on the other hand ,",
    "if some bounded metric space @xmath2 is given , then it is possible to construct a gromov hyperbolic space @xmath11 such that @xmath32 as a set coincides with @xmath2 and the quasi - metric @xmath56 is bi - lipschitz to the given metric on @xmath2 ( see for example @xcite ) .    also the following holds .",
    "let @xmath11 be a visual gromov hyperbolic space .",
    "then @xmath32 , endowed with the quasi - metric @xmath72 , is bi - lipschitz to an ultrametric if and only if @xmath11 is rough isometric to a tree .    in @xcite the notion @xmath28 of an upper asymptotic curvature bound",
    "is introduced . in the case of visual gromov",
    "hyperbolic spaces this notion is strongly related to the critical exponent of the quasi - metric @xmath56 on @xmath32 .",
    "the following relation holds ( see theorem 1.5 in @xcite ) : @xmath182 .    a visual gromov hyperbolic space is called _ treelike _ , if @xmath30 .",
    "this definition is motivated by the following result ( see @xcite ) :    let @xmath11 be a visual gromov hyperbolic space .",
    "assume in addition that @xmath32 is doubling .",
    "then @xmath183 if and only if @xmath11 is rough isometric to a tree .",
    "let now @xmath11 be a @xmath0 space , i.e. @xmath11 is a complete geodesic metric space , such that triangles are thinner than comparison triangles in the hyperbolic plane @xmath6 .",
    "in particular @xmath11 is also gromov hyperbolic .",
    "let @xmath184 . given @xmath20 and @xmath185 there exists a unique geodesic segment @xmath186 from @xmath22 to @xmath187 .",
    "if @xmath188 are different points , there is also a unique geodesic line @xmath189 joining these points .    given a point @xmath19 and points @xmath188 we denote by @xmath190 the local angle at @xmath22 , i.e. the angle between the initial directions of the geodesics from @xmath191 and @xmath192 . by @xmath193",
    "we denote the asymptotic comparison angle .",
    "i.e. let @xmath194 be the point on the ray @xmath195 with distance @xmath196 to @xmath59 .",
    "let @xmath197 be the comparison triangle in @xmath6 , and let @xmath198 be the angle of this triangle at @xmath199 .",
    "then @xmath200 . let @xmath201 be the bourdon metric ( with basepoint @xmath59 ) .",
    "indeed bourdon proved @xcite that this expression is a metric and satisfies the triangle inequality .",
    "one can also express @xmath202 in terms of the gromov product and obtains the formula @xmath203 , i.e. in the @xmath0 situation the bourdon metric corresponds to the quasi - metric considered earlier . for the convenience of the reader",
    "we give a proof of this formula .",
    "the computation is in the hyperbolic plane @xmath6 .",
    "the triangle @xmath197 has a limit ideal triangle given by geodesic rays @xmath204 starting from @xmath199 with angle @xmath205 .",
    "we then have @xmath206 where @xmath207 is the distance in @xmath6 . from the hyperbolic law of cosine @xmath208 and the trigonometric formula @xmath209",
    ", we easily obtain @xmath210 as @xmath211 .",
    "hence , the claim .",
    "bourdon metrics with respect to different basepoints are mbius equivalent . thus given a fixed bourdon metric @xmath9 on @xmath2",
    ", we have for an arbitrary @xmath80 that @xmath212 the mbius invariance can be seen as follows .",
    "let @xmath156 be a different basepoint , then a trivial computation shows for @xmath213 that @xmath214 a formula which extends to points @xmath188 .",
    "thus @xmath215 where @xmath216 and @xmath217 .",
    "this clearly implies that @xmath218 is mbius equivalent to @xmath202 .",
    "we should mention here that hamenstdt @xcite introduced ( even earlier ) a metric on @xmath219 , where @xmath11 is a hadamard manifold with curvature @xmath220 and @xmath221 is a distinguished point .",
    "we do not describe her construction verbatim but modify her construction such that it works also for general @xmath0 spaces : fix a point @xmath221 and consider a busemann function @xmath222 for the point @xmath223 .",
    "define the gromov product with respect to this busemann function , i.e. @xmath224 which also extends to points at infinity .",
    "the corresponding _ hamenstdt metric _",
    "@xmath225 is then defined as @xmath226 .",
    "if @xmath222 is the busemann function at @xmath223 such that @xmath227 for some point @xmath80 , then one easily computes @xmath228 and by straightforward calculation one obtains the formula @xmath229 which also extends to infinity .",
    "hence @xmath230 thus the hamenstdt metric can be obtained by involution at the point @xmath223 from the bourdon metric and in particular these metrics are mbius equivalent .",
    "note that by definition @xmath225 is only a quasi - metric on @xmath231 , since the involution of an arbitrary metric does not necessarily satisfy the triangle inequality .",
    "however in our situation the triangle inequality @xmath232 is equivalent to the ptolemy inequality @xmath233 which is proved in the next section . thus @xmath225 is actually a metric .",
    "this observation can be considered as the first application of the ptolemy inequality . as a sideremark of this observation",
    "we formulate this in larger generality :    let @xmath131 be an arbitray metric space . for @xmath81 consider the involution @xmath234 , @xmath235 .",
    "then @xmath236 is a metric for all @xmath81 iff @xmath126 satisfies the ptolemy inequality .",
    "observe that the @xmath0 condition implies that @xmath237 .",
    "however the following holds : if @xmath238 then @xmath239 .",
    "( @xmath238 implies that @xmath240 and hence @xmath239 . )",
    "thus we conclude that @xmath241 with equality if and only if @xmath59 lies on the geodesic @xmath189 .",
    "we will use the following    [ lem : sincomp ] let @xmath11 be a @xmath0 space , @xmath242 be different points and @xmath80 , then @xmath243 equality holds if and only if the geodesics from @xmath7 and @xmath8 intersect in the point @xmath59 .",
    "we have @xmath244 equality holds if and only if @xmath245 , which is equivalent to @xmath59 lying on @xmath246 .",
    "we start this section with a proof of proposition [ prop - sqrt - ptolemy ] , which states that the square root of any metric space satisfies the ptolemy inequality .",
    "the following proof is due to alexander lytchak : + * proof of proposition [ prop - sqrt - ptolemy ] : * let @xmath247 be an ordered quadrupel in @xmath25 and set @xmath248 , @xmath249 , @xmath250 , @xmath251 , @xmath252 and @xmath253 . without loss of generality we may assume that @xmath254 our claim follows , once we verify that @xmath255 .",
    "we prove this inequality by showing that for suitable @xmath256 , @xmath257 and @xmath258 one obtains @xmath259 .",
    "+ the numbers @xmath260 , @xmath261 and @xmath262 are obtained as follows .",
    "first set @xmath263 and @xmath264 .",
    "then choose @xmath262 such that @xmath265 without loss of generality we may assume that the relations ( [ eqn - rel1 ] ) are satisfied .",
    "it follows that @xmath266 and @xmath267 from which we deduce @xmath268 and @xmath269 .",
    "now the inequality @xmath270 implies @xmath271 from which the claim follows .",
    "@xmath272    next we prove    [ thm : comparison ] let @xmath2 be the boundary of a @xmath0-space with a bourdon or hamenstdt metric @xmath273 .",
    "let @xmath4 , then    @xmath5    equality holds if and only if the convex hull of the @xmath274 is isometric to an ideal quadrilateral in @xmath6 , such that the geodesics @xmath7 and @xmath8 intersect .",
    "we note that this is a mbius invariant comparison statement .",
    "i.e. if the equality is true for some metric @xmath273 , then it also true for every mbius equivalent metric .",
    "thus this kind of comparison result is suitable for the boundary of a @xmath0-space .",
    "* proof of theorem [ thm : comparison ] : * we use an idea from the proof of lemma 3.1 in bourdon s paper @xcite .",
    "consider the geodesic @xmath8 in our @xmath0-space . by continuity",
    "there exists a point @xmath275 with @xmath276 .",
    "denote this angle by @xmath277 .",
    "thus , by lemma [ lem : sincomp ] we obtain the following estimate @xmath278 let @xmath279 and @xmath280 , then the same argument shows @xmath281 since @xmath282 we see @xmath283 and @xmath284 . since @xmath285 we obtain @xmath286 and @xmath287 . consequently @xmath288 and also @xmath289 .",
    "it follows @xmath290 and hence @xmath291 since @xmath292 , we obtain the ptolemy inequality .    if we have equality , then we have actually equality in all estimates .",
    "this implies now the rigidity statement by the following arguments . by lemma [ lem : sincomp ] the diagonals @xmath7 and @xmath8 intersect at the point @xmath22 .",
    "furthermore we have equality for the angles @xmath293 , @xmath294 , @xmath295 , @xmath296 .",
    "this implies by standard rigidity results that the ideal triangles @xmath297 are isometric to triangles in @xmath6 . since",
    ", moreover , the angles at @xmath22 add up to @xmath298 we finally see that the span of @xmath10 is isometric to an ideal quadrilateral in the hyperbolic plane . @xmath272    * examples : * at the end of this section we give two examples .",
    "we show that any four point metric space which satisfies the ptolemy inequality can be mbius embedded into the boundary of some @xmath0-space .",
    "then we give an example of a metric space ( of six points ) satisfying the ptolemy inequality but which can not be mbius embedded into the boundary of a @xmath0-space .",
    "let us first consider a four point metric space @xmath299 with metric @xmath126 which satisfies the ptolemy inequality .",
    "let @xmath300 , @xmath301 , @xmath302 , @xmath303 , @xmath304 , @xmath305 .",
    "we define a new metric @xmath306 on @xmath12 by setting @xmath307 , @xmath308 , @xmath309 .",
    "any nonsingular triangle in @xmath310 has the distances @xmath311 and since the numbers @xmath312 satisfy the triangle inequality by the ptolemy inequality , also @xmath311 satisfies the triangle inequality .",
    "we can ( after renumbering the points ) assume that @xmath313 .",
    "finally we scale the metric and let @xmath314 , @xmath315 , @xmath316 .",
    "this new metric is mbius equivalent to @xmath126 and thus we can start with this metric .",
    "the ptolemy inequality now says @xmath317 .",
    "define the angles @xmath318 and @xmath277 such that @xmath319 and @xmath320 .",
    "then @xmath321 implies @xmath322 .",
    "let @xmath323 be the ideal triangle @xmath324 in @xmath6 , such that @xmath325 .",
    "now glue four triangles @xmath326 cyclically together to obtain an ideal quadrilateral formed from hyperbolic pieces with cone angle @xmath327 .",
    "thus the space is @xmath0 , and by construction the bourdon metric at the cone point coincides with our given metric .    to obtain the six point example we start with some general remark .",
    "let @xmath11 be a @xmath0-space and let @xmath328 .",
    "let @xmath273 be some fixed bourdon or hamenstdt metric on @xmath2 .",
    "assume that there are points @xmath329 such that we have equality in the ptolemy inequality . then by the equality case above the geodesics @xmath7 and @xmath8 intersect in some point @xmath20 .",
    "let @xmath330 be the positive numbers such that @xmath331 @xmath332 note that @xmath333 , since @xmath22 lies on the corresponding geodesics .",
    "since we have equality in the ptolemy inequality , we see that @xmath334 .",
    "let @xmath335 such that @xmath336 @xmath337 then by the above calculations @xmath318 and @xmath338 is the intersection angle of the geodesics @xmath7 and @xmath8 .",
    "an immediate consequence is :    let @xmath10 be points in @xmath2 with equality in the ptolemy inequality",
    ". assume in addition that @xmath339 .",
    "then the four points span a hyperbolic quadrilateral and the geodesics @xmath7 and @xmath8 intersect orthogonaly .",
    "to construct our example consider first the standard hyperbolic 3-space @xmath340 .",
    "let @xmath341 and consider three geodesics through @xmath59 which are pairwise orthogonal .",
    "we denote by @xmath342 , @xmath343 , the endpoints of these geodesics .",
    "then the bourdon metric @xmath202 satisfies @xmath344 for @xmath343 and all other distances are equal to @xmath345 .",
    "we now define on this 6 point space @xmath346 another metric @xmath273 .",
    "therefore choose @xmath347 numbers close to @xmath45 .",
    "define @xmath348 for @xmath343 .",
    "@xmath349    @xmath350    @xmath351    if the numbers @xmath352 are close to @xmath45 , then the triangle inequality is still satisfied . note that for the three four - point - configurations @xmath353 , @xmath354 , @xmath355 we have still equality in the corresponding ptolemy inequality .",
    "one easily checks that all other four - point - configurations still satisfy the ptolemy inequality if @xmath352 are close to @xmath45 .",
    "we claim that the metric space @xmath356 can not be mbius embedded into the boundary of a @xmath0-space . assume to the contrary that it embeds into @xmath32 . then by the above lemma the three geodesics @xmath357 intersect pairwise orthogonaly .",
    "let us first assume that the three geodesics intersect in one common point @xmath20 .",
    "then the above lemma together with the fact , that each pair of geodesics spans a hyperbolic quadrilateral implies that the metric @xmath358 coincides with the metric @xmath202 in @xmath340 .",
    "but note that ( for @xmath352 different from 1 ) , the metic @xmath202 is not mbius equivalent to the metric @xmath273 : e.g. @xmath359    thus the three geodesics do not intersect in a common point .",
    "hence we obtain three intersection points @xmath360 of the corresponding geodesics which form a triangle with three right angles .",
    "since the space is @xmath0 , such a triangle can not exist .",
    "+ finally note that every @xmath361-space satisfies the ptolemy inequality .",
    "this follows from the fact that the euclidean plane satisfies the ptolemy inequality ( which is classical ) , and the fact that every four point configuration in a @xmath361-space admits a subembedding into the euclidean plane ( compare @xcite , p. 164 ) .",
    "the proof is inspired by results of enflo ( compare @xcite and @xcite ) .",
    "let @xmath362 , where @xmath11 is a @xmath0 space .",
    "on @xmath2 we consider a bourdon metric .",
    "an @xmath363 cube in a metric space is a subset of @xmath364 points which are indexed by the set @xmath365 .",
    "thus a @xmath132-cube in @xmath2 are four points @xmath366 , @xmath367 , @xmath368 , @xmath369 . on the set of indices we consider the hamming metric @xmath370 ,",
    "i.e. the distance between two indices is the number of different entries .",
    "the points @xmath371 , @xmath372 are called vertices . a pair of points @xmath371",
    ", @xmath373 is called a @xmath126-diagonal , if @xmath374 .",
    "the @xmath45-diagonals are also called _",
    "sides_. the distance @xmath375 is called the length of the diagonal .",
    "we denote by @xmath376 .",
    "thus @xmath377 is the set of @xmath378-sequences of length @xmath379 containing exactly @xmath363 entries @xmath45 .",
    "note that @xmath380 is even for @xmath381",
    ".    we will first consider certain homothetic embeddings of the cube @xmath365 into @xmath377 where @xmath382 . for @xmath383",
    "consider the map @xmath384 defined by @xmath385 , @xmath386 . for a sequence @xmath387",
    "we define @xmath388 by @xmath389 . for example consider @xmath390 , which maps    @xmath391 ; @xmath392 ; @xmath393 ; @xmath394 .",
    "these maps are homotheties with factor 2 , i.e. for every multiindex @xmath395 and for all @xmath396 we have @xmath397 .",
    "[ theo - cubes ] for every @xmath398 there exists some @xmath399 with the following property : let @xmath2 be a metric space satisfying the ptolemy inequality and let @xmath400 be a map into @xmath2 , such that @xmath401 if @xmath402 for some @xmath403 ( recall that 2 is the minimal nontrivial distance ) .",
    "then there exists a multiindex @xmath177 with @xmath387 , such that the map @xmath404 is a map of an @xmath363-cube into @xmath2 such that there exists a diagonal in @xmath365 the image of which under @xmath405 has length @xmath406 .",
    "the proof is by induction on @xmath363 , where the case @xmath407 is trivial .",
    "let us assume that the result is true for the value @xmath408 , with @xmath409 being the corresponding @xmath379-value .",
    "let @xmath410 we define @xmath411 and will show now that the result is true for @xmath412 .",
    "let therefore @xmath413 be a map as in the statement of the theorem .",
    "for @xmath414 we define canonical embeddings @xmath415 by @xmath416 , where we put the entry @xmath45 at the @xmath417th additional place , i.e. at the @xmath418th place of the sequence .",
    "we now apply the induction hypothesis to the @xmath419 .",
    "thus for every @xmath417 there exists a multiindex @xmath420 such that the maps @xmath421 satisfy the requirement of the statement .",
    "there are only @xmath422 different multi - indices . by the choice of @xmath423",
    "we see that there exists a common multiindex @xmath424 with @xmath425 such that at least @xmath426 of the maps @xmath427 satisfy the requirement of the statement . since the cube @xmath428 has @xmath429 diagonals , there are at least two of the @xmath417 s ( lets call them @xmath430 ) , where the same diagonal in the image has length @xmath431 .",
    "let @xmath432 be the endpoints of the diagonal .",
    "define @xmath433 and @xmath434 and consider the multiindex @xmath177 which is obtained from @xmath424 by extending it through @xmath435 .",
    "we show that the map @xmath436 contains a diagonal of length @xmath437 .",
    "note that restricted to @xmath438 this map coincides with @xmath439 and restricted to @xmath440 with @xmath441 .",
    "we consider the images @xmath442 , @xmath443 , @xmath444 , @xmath445 of the corresponding four points in @xmath365 .",
    "we have @xmath446 by induction hypothesis .",
    "furthermore we have @xmath447 by assumption on @xmath448 . by theorem [ thm :",
    "comparison ] this implies that the product @xmath449 which implies that at least one of the diagonals @xmath450 or @xmath451 has length @xmath406 .",
    "we now prove theorem [ thm : snowflaketheorem ] .",
    "assume that there exists a @xmath452-snowflake map @xmath453 , where @xmath57 is the unit ball in @xmath98 .",
    "let @xmath398 be given and let @xmath454 as above .",
    "consider the map @xmath455 , @xmath456 .",
    "here we consider @xmath457 as a sequence in @xmath98 ( with m entries of value @xmath458 and all other values @xmath129 ) .",
    "thus @xmath459 is just a scaling map the image of which lies on the unit sphere of @xmath57 .",
    "we consider @xmath460 and apply theorem [ theo - cubes ] to it .",
    "note that for @xmath461 with @xmath402 we have @xmath462 since @xmath463 and the snowflake property of @xmath464 . if @xmath465 have distance @xmath466 , then @xmath467 and hence @xmath468 by the snowflake property . by theorem [ theo - cubes ]",
    "there exists a diagonal , i.e. points @xmath469 with @xmath466 , such that @xmath470 thus @xmath471 which implies ( since we can choose @xmath363 arbitrarily large and independent from @xmath472 ) that @xmath473 .",
    "let @xmath57 be as above the unit ball in @xmath98 .",
    "we construct in this section a @xmath102-snowflake map @xmath90 , where @xmath2 is the boundary of some @xmath0-space @xmath11 .",
    "therefore we first give a @xmath102-snowflake embedding of @xmath57 into the hilbert space @xmath474 .    by the assouad embedding theorem there",
    "exists @xmath475 and a bi - lipschitz embedding @xmath476 , i.e. a @xmath102 snowflake map @xmath477 .",
    "thus there is some constant @xmath472 , such that @xmath478 where we consider the euclidean metric on @xmath479 . now",
    "the map @xmath480 , @xmath481 satisfies also @xmath482 for all @xmath121 .",
    "thus by @xmath483 the space @xmath57 is mapped into a bounded ball of a hilbert space and @xmath483 is a @xmath102-snowflake map .    to map it to the boundary of a @xmath0 space , we consider as @xmath11 the infinite dimensional version of the hyperbolic space in the unit ball model .",
    "the boundary @xmath2 is the unit sphere in a hilbert space .",
    "the relation is as in the classical euclidean situation with the classical stereographic projection @xmath484 , @xmath485          the inversion @xmath489 of the extended @xmath490 with respect to the sphere @xmath491 , @xmath492 , @xmath493 , restricted to the standard unit sphere @xmath494 , coincides with the stereographic projection , @xmath495 .",
    "thus @xmath496 as well as its inverse @xmath497 are mbius maps .",
    "we put @xmath498 and denote by @xmath68 the standard metric on @xmath487 , @xmath499 , canonically extended to @xmath500 .",
    "we use the same notation @xmath68 for the induced metric on @xmath494 , and for the induced metric on @xmath501 .",
    "we can generalize this classical situation to the infinite dimensional case , by replacing @xmath502 by @xmath474 , and @xmath487 by @xmath503 with an additional @xmath129-coordinate .",
    "then the unit sphere @xmath504 in @xmath503 is the boundary of the infinite dimensional hyperbolic space , where the bourdon metric ( with respect to the origin ) is the metric @xmath505 .",
    "the map @xmath506 restricted to the bounded subset @xmath507 is bi - lipschitz .",
    "thus @xmath508 , @xmath509 , is a snowflake map .",
    "thomas foertsch,11em= viktor schroeder , + institut fr mathematik institut fr mathematik + universitt bonn universitt zrich + beringstr .",
    "1 winterthurer strasse 190 + d-53111 bonn ch-8057 zrich , switzerland + foertsch@math.uni-bonn.de +"
  ],
  "abstract_text": [
    "<S> using a four points inequality for the boundary of @xmath0-spaces we study the relation between gromov hyperbolic spaces and @xmath0-spaces . </S>"
  ]
}