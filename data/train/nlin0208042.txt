{
  "article_text": [
    "a cellular automaton ( ca ) is a discrete dynamical system consisting of a regular array of cells@xcite .",
    "each cell takes only a finite number of states and is updated in discrete time steps .",
    "although the updating rules are simple , cas often exhibit very complicated time evolution patterns which resemble natural phenomena such as chemical reactions , turbulent flow , nonlinear dispersive waves and solitons .",
    "a typical ca exhibiting a solitonic behaviour is the box and ball system ( bbs ) which is a reinterpretation of the ca proposed by takahashi and satsuma@xcite .",
    "the bbs is _ integrable _ in the sense that it is obtained from the kdv equation through a limiting procedure called ultradiscretization@xcite .",
    "it can also be obtained from a two dimensional integrable lattice model and its relation to combinatorial @xmath0 matrices of @xmath1 is well established@xcite .",
    "the original box - ball system is defined as a dynamical system of a finite number of balls in an _ infinite _ one dimensional array of boxes .",
    "however , it is possible to extend the time evolution rule to a system consisting of a _ finite _ number of boxes with periodic boundary conditions@xcite .",
    "the bbs with periodic boundary condition ( pbbs ) is also connected to the combinatorial @xmath0 matrix of @xmath1 and , its time evolution rule is represented as a boolean recurrence formula related to the algorithm for calculating the @xmath2th root . as a ca , the pbbs is composed of a finite number of cells , and it can only take on a finite number of patterns .",
    "hence the time evolution of the pbbs is necessarily periodic . in the present article",
    ", we investigate the fundamental cycle , _",
    "i.e. _ , the shortest period of the discrete periodic motion of the pbbs . in section 2 , we review the pbbs and present its conserved quantities .",
    "the formula for the total number of patterns for a given set of conserved quantities is also presented . in section 3",
    ", we define several notions which are necessary to prove the formula for the fundamental cycle .",
    "the fundamental cycle for an arbitrary initial state is derived in section 4 .",
    "section 5 is devoted to the concluding remarks .",
    "let us consider a one dimensional array of @xmath3 boxes . to be able to impose a periodic boundary condition",
    ", we assume that the @xmath3th box is the adjacent box to the first one .",
    "( we may imagine that the boxes are arranged in a circle . )",
    "the box capacity is one for all the boxes , and each box is either empty or filled with a ball at any time step .",
    "we denote the number of balls by @xmath4 , such that @xmath5 .",
    "the balls are moved according to a deterministic time evolution rule .",
    "there are several equivalent ways to describe this rule .",
    "for example ,    1 .   in each filled box , create a copy of the ball .",
    "2 .   move all the copies once according to the following rules .",
    "3 .   choose one of the copies and move it to the nearest empty box on the right of it .",
    "4 .   choose one of the remaining copies and move it to the nearest empty box on the right of it .",
    "5 .   repeat the above procedure until all the copies have moved .",
    "delete all the original balls .",
    "an example of the time evolution of the pbbs according to this rule is shown in fig .",
    "[ fig : pbbs-1 ] .",
    "it is not difficult to prove that the obtained result does not depend on the choice of the copies at each stage and that it coincides with the evolution rule of the original bbs when @xmath3 goes to infinity .",
    "an advantage of the above description is that we can easily extend the evolution rule to the system with many kinds of balls and many kinds of box capacities . in the present article , however , we restrict ourselves to the pbbs with only one kind of ball and with box capacity one , and we revert to the following description which is more convenient to determine the fundamental cycle .",
    "we denote an empty box by @xmath6 and a filled box by @xmath7 .",
    "then the pbbs is regarded as a dynamical system of a finite sequence of @xmath6s and @xmath7s .",
    "because of the periodic boundary condition , we consider the last entry in the sequence to be adjacent to the first entry .",
    "( in this sense , the sequence should be regarded as a ring which consists of @xmath6s and @xmath7s . )",
    "we say two sequences are _ equivalent _ if one coincides with the other by translation .",
    "for example , the sequence @xmath8 is equivalent to @xmath9 .",
    "the updating rule of the sequence is given as :    1 .",
    "connect all the @xmath10s in the sequence with arc lines .",
    "2 .   neglecting the @xmath11 pairs which were connected in the first step ,",
    "connect all the remaining @xmath12 with arc lines .",
    "repeat the above procedure until all the @xmath7s are connected to @xmath6s .",
    "4 .   interchange every @xmath7 and @xmath6 which are connected to each other by an arcline .",
    "this rule is illustrated in fig .",
    "[ fig : pbbs-2 ] and some examples of time evolutions of the pbbs are shown in figs .  [ fig : pbbs-3 ] .    just as the original bbs@xcite",
    ", the pbbs has a number of conserved quantities .",
    "let @xmath13 be the number of the @xmath11 pairs in a state of the pbbs , which are connected with arc lines in the first step of the above time evolution rule .",
    "similarly , we denote by @xmath14 the number of @xmath11 pairs connected in the 2nd step , by @xmath15 those in the 3rd step , ... , and by @xmath16 those in the last step .",
    "clearly @xmath17 .",
    "for example , in the state shown in fig .",
    "[ fig : pbbs-2 ] , @xmath18 .",
    "[ conservation ] the numbers @xmath19 in the weakly decreasing series of integers @xmath20 are conserved quantities for the time evolution of the pbbs .    to prove proposition [ conservation ] , we prepare two lemmas .",
    "the number of @xmath10s in a state of the pbbs is equal to that of @xmath21s , for they coincide with the number of the set of consecutive 1 s ( or 0 s ) . according to the evolution rule",
    ", a @xmath10 at @xmath22 turns into a @xmath21 at @xmath23 and all the @xmath21s at @xmath23 are created in this way .",
    "hence we find that the number of @xmath10s at @xmath22 is equal to that of @xmath21s at @xmath23 .",
    "thus we have the following lemma :    [ lemma1 ] the number of @xmath10s in the pbbs does not change in time .",
    "it also coincides with the number of @xmath21s at each time step .",
    "when we eliminate the @xmath10s in a state , we obtain a new sequence .",
    "hereafter we call this operation _",
    "@xmath11-elimination_. ( in order to associate this new sequence to the state of a pbbs with a smaller number of boxes and balls , we have to determine the position of the first entry of the sequence .",
    "we shall consider this problem in the subsequent section however , as it is not necessary for the proof considered here . )",
    "the operation _",
    "@xmath24-elimination _ is defined in a similar way . by @xmath11-elimination ,",
    "all the series of consecutive @xmath7s and consecutive @xmath6s in the state have their length reduced by one .",
    "the @xmath24-elimination has the same effect on the state , hence , the sequence obtained by @xmath24-elimination is equivalent to the one by @xmath11-elimination . when the sequence obtained by @xmath11-elimination is updated according to the time evolution rule , it becomes equivalent to the sequence obtained by @xmath24-elimination on the state in the next time step .",
    "( this fact is easily understood from fig .  [",
    "fig : pbbs-2 ] . )",
    "thus we have    [ lemma2 ] both @xmath11-elimination and @xmath24-elimination commute with the updating rule of the pbbs , that is , the sequence obtained by @xmath11-elimination ( or @xmath24-elimination ) at @xmath23 is equivalent to the one updated from the sequence obtained by @xmath11 elimination ( or @xmath24-elimination ) at @xmath22 .    from lemma [ lemma1 ] ,",
    "@xmath13 does not change in time . since @xmath14 is the number of @xmath10s in the sequence obtained by @xmath11-elimination , from lemma [ lemma1 ] and [ lemma2 ] , it is also a conserved quantity in time . repeating the @xmath11-elimination and using lemma [ lemma1 ] and [ lemma2 ]",
    ", we find that all the @xmath25 are conserved in time . since @xmath20 is a weakly decreasing series of positive integers",
    ", we can associate it with a young diagram with @xmath25 boxes in the @xmath26-th column ( @xmath27 ) .",
    "then the lengths of the rows are also weakly decreasing positive integers , and we denote them @xmath28 where @xmath29 .",
    "the set @xmath30 is an alternative expression of the conserved quantities of the system .",
    "let @xmath31 , and @xmath32 then , for a fixed number of boxes @xmath3 and conserved quantities @xmath33 , the number of possible states of the pbbs @xmath34 is given by the following proposition .",
    "[ statescount ] @xmath35    although the proposition can be proved by elementary combinatorial arguments , it is convenient to use notions defined in subsequent sections and we thus refer the proof to appendix a. the fact , however , that the right hand side of ( [ numberofstates ] ) is an integer is confirmed using the lemma :    [ lemma3 ] let @xmath36 be @xmath37 positive integers and suppose that the @xmath38 do not have a common divisor , @xmath39 , @xmath40 .",
    "if there exists a @xmath41 such that @xmath42 then @xmath41 is an integer .",
    "let the boxes be numbered @xmath43 from left to right .",
    "accordingly , the position of an entry in the associated @xmath24 sequence is denoted by the number of the corresponding box .",
    "because of the periodic boundary condition , we always use the convention that the numbers are defined in @xmath44 , that is , @xmath45 , and an inequality such as @xmath46 means that @xmath47 . in order to explain some important features of the pbbs",
    ", we assign an integer index to every entry of the sequences obtained at each time step in the updating rule . precisely speaking , we define the map @xmath48 in the following way .    1",
    ".   choose the @xmath11 pairs in the construction of the conserved quantity @xmath13.if the positions of @xmath7s and @xmath6s are @xmath49 and @xmath50 respectively , then @xmath51 @xmath52 .",
    "2 .   next ,",
    "choose the @xmath11 pairs for the conserved quantity @xmath14 . if the positions of @xmath7s and @xmath6s are @xmath53 and @xmath54 respectively , then @xmath55 @xmath56 .",
    "3 .   similarly , the indices @xmath57 are assigned to the positions of the @xmath11 pairs in the construction of @xmath58 .",
    "4 .   for the positions of @xmath6s which are not connected with @xmath7s in the construction of the conserved quantities ,",
    "the indices are @xmath59 .",
    "we say that the entry ( @xmath6 or @xmath7 ) in the position @xmath26 at time @xmath22 has index @xmath60 . from this definition , we notice that @xmath61 entries take the largest index @xmath62 . furthermore ,",
    "if we denote the number of entries of index @xmath41 by @xmath63 , then @xmath63 does not change in time and is given as @xmath64 for example , the indices of the sequence    * 16@  c 0 & 0 & 0 & 1 & 1 & 1 & 0 & 0 & 1 & 1 & 0 & 1 & 1 & 0 & 0 & 0    are given as    * 16@  c -4&-@xmath65 & -@xmath65 & 4 & 2 & 1 & -1 & -2 & 3 & 1 & -1 & 2 & 1 & -1 & -2 & -3    using the index , we define _ solitons _ and their position .",
    "a soliton consists of @xmath7s in a @xmath24 sequence and can be determined by the following process .    1",
    ".   choose one of the @xmath7s whose index is @xmath62 .",
    "we suppose its position is @xmath66 .",
    "2 .   choose the @xmath7 which is the nearest @xmath7 with index @xmath67 in the counterclockwise direction from the position @xmath66 .",
    "( _ i.e. _ to the  right \" of that position . )",
    "let @xmath68 be its position .",
    "similarly , let @xmath69 be the position of its ( counterclockwise ) nearest @xmath7 with index @xmath70 .",
    "4 .   repeat the procedure until the @xmath7 at @xmath71 is determined .",
    "then we define the set of @xmath7s at @xmath72 to constitute a soliton with length @xmath62 and position @xmath71 .",
    "perform the same procedure starting from one of the other @xmath73 @xmath7s with index @xmath62 , and repeat it until all the @xmath61 solitons with length @xmath62 have been determined .",
    "the largest index of the remaining @xmath7s is @xmath74 .",
    "repeat the above procedure to the remaining @xmath7s and determine all @xmath75 solitons with length @xmath74 .",
    "8 .   in a similar manner , we determine @xmath76 solitons with length @xmath77 , @xmath78 solitons with length @xmath79 , ... , and finally we determine @xmath80 solitons with length @xmath81 .    in fig .  [ fig : solitons ] , there are eight solitons ( length @xmath82 @xmath83 @xmath84 , length @xmath85 @xmath83 @xmath84 , length @xmath86 @xmath83 @xmath86 , and length @xmath84 @xmath83 @xmath82 ) .",
    "the @xmath7s with @xmath87 at the bottom constitute the largest soliton and those with @xmath88 constitute the second largest soliton .",
    "their position is marked by @xmath89 .",
    "next , we define the notion of _ a block_. recall that we drew arc lines between @xmath11 pairs to determine the time evolution of pbbs . as is shown in fig .",
    "[ fig : solitons ] , a state of the pbbs is divided into disjoint @xmath24 sequences of such arc lines .",
    "we call each disjoint sequence _ a block_. for example , there are two blocks in fig .",
    "[ fig : solitons ] .",
    "the following properties of a block are obvious from its definition .    1 .   the numbers of @xmath6s and @xmath7s in a block are the same .",
    "there is only one soliton with the largest length in each block .",
    "3 .   after time evolution @xmath90 ,",
    "all the @xmath6s in a block at @xmath22 , turn into @xmath7s , and all the @xmath7s into @xmath6s .",
    "if the length of the largest soliton in a block is @xmath91 , the @xmath7 at the left edge of the block has index @xmath91 and the @xmath6 at the right edge of the block has index @xmath92 .",
    "the length of a block is twice the sum of the lengths of solitons contained in the block .",
    "the following proposition , which plays an important role in subsequent proofs is a direct consequence of the definition of soliton and block .",
    "[ solitonicnature ] suppose that @xmath7s at the positions @xmath93 constitute a soliton with length @xmath94 , and that the @xmath6s which form the @xmath11 pairs with these @xmath7s are at the positions @xmath95 .",
    "the @xmath7 at @xmath96 has index @xmath41 and the @xmath6 at @xmath97 has index @xmath98 .",
    "then ,    1 .",
    "if an entry is located between @xmath99 and @xmath96 , the absolute value of its index is less than @xmath41 .",
    "2 .   if an entry is located between @xmath100 and @xmath101 , the absolute value of its index is less than or equal to @xmath41 .",
    "3 .   if we eliminate all the @xmath7s at @xmath93 and all @xmath6s at @xmath95 , the entries with positions inbetween @xmath99 and @xmath96 and @xmath97 and @xmath101 @xmath102 constitute disjoint blocks . 4 .   let @xmath103 be the difference of the number of @xmath7s and @xmath6s contained between @xmath104 and @xmath41 , then @xmath105 .",
    "in particular , @xmath106 iff @xmath107 and @xmath108 for @xmath109 . similarly , let @xmath110 be the difference of the number of @xmath6s and @xmath7s contained between @xmath41 and @xmath111 , then @xmath112 .",
    "in particular , @xmath113 iff @xmath114 .",
    "let us discuss some important properties of such a block .",
    "we assume that the length of the largest soliton in the block is @xmath94 , and that it is constituted by @xmath7s at positions @xmath93 , where @xmath7 at @xmath96 forms a @xmath11 pair with @xmath6 at @xmath97 ( @xmath115 ) .",
    "first we divide a block into two parts .",
    "[ fig : block ] )    the _ right part _ of a block is the @xmath24 sequence which is located on the right side ( counterclockwise ) from the position of the largest soliton in the block .",
    "in other words , the right part is the sequence from @xmath116 to @xmath111 .",
    "the remainder is called the _ left part _ of the block .",
    "it is the sequence from @xmath117 to @xmath71 .",
    "the following properties are obvious .    1 .",
    "the number of @xmath7s in the left part is greater by @xmath94 than that of @xmath6s . on the contrary ,",
    "the number of @xmath7s in the right part is less by @xmath94 than that of @xmath6s .",
    "2 .   the entries at the edges of the left part are @xmath7 and those of the right part are @xmath6 .",
    "furthermore , from the rule for making @xmath11 pairs , we have the following proposition .",
    "[ 01sequence ]    1 .   in any sequence starting from the left edge of the left part , the number of @xmath7s is greater than that of @xmath6s .",
    "2 .   in any sequence ending at the right edge of the left part",
    ", the number of @xmath7s is greater than that of @xmath6s .",
    "3 .   in any sequence ending at the right edge of the right part , the number of @xmath6s is greater than that of @xmath7s .",
    "4 .   in any sequence starting from the left edge of the right part ,",
    "the number of @xmath6s is greater than or equal to that of @xmath7s .    the statements 1 and 3 are obvious .",
    "for the statement 2 , we assume that the sequence starts from position @xmath41 and that @xmath118 . from proposition",
    "[ solitonicnature ] , there can only be solitons with length less than or equal to @xmath119 inbetween @xmath120 and @xmath121 . from proposition [ solitonicnature]-2 and -3 , the difference of the number of @xmath6s and @xmath7s between @xmath41 and @xmath122 is less than or equal to @xmath119 . on the other hand ,",
    "there are @xmath123 more @xmath7s than @xmath6s between @xmath124 and @xmath71 .",
    "hence statement 2 holds .",
    "the statement 4 is proved in the similar manner .",
    "next we discuss some features of the time evolution of solitons .",
    "a state of pbbs at time step @xmath125 is divided into blocks .",
    "we pay attention to a single one of them .",
    "the following proposition is essential to understand the movement of solitons .",
    "[ blockinvariance ] in a block , the number and type of solitons at @xmath125 do not change at @xmath22 .",
    "furthermore , the position of the solitons at @xmath22 does not depend on the pattern outside the block at @xmath125 .",
    "the above proposition is proved by induction using the lemmas given below .",
    "let @xmath94 be the length of the largest soliton in the block .",
    "the position of its components is denoted by @xmath126 and that of the pairing @xmath6s by @xmath127 .",
    "we refer to the sequence which , at @xmath22 , is updated from the left ( right ) part of the block at @xmath125 as the left ( right ) part at @xmath22 .",
    "[ fig : att ] shows the left and right parts at @xmath22 which are updated from the state shown in fig .",
    "[ fig : block ] .    [ lemma4 ] for @xmath128 , if @xmath10s are eliminated in the left part at @xmath22 , there are at least three consecutive @xmath6s in the left edge . if further @xmath11-elimination is possible and is performed on the sequence , there are at least four consecutive @xmath6s in the left edge . in general ,",
    "if @xmath11-elimination is performed @xmath123 times ( @xmath129 ) , there remain at least @xmath130 consecutive @xmath6s in the left edge .",
    "recall that all the @xmath6s in a block at @xmath125 turn into @xmath7s , and all the @xmath7s into @xmath6s . from proposition",
    "[ 01sequence]-2 we have that every @xmath7 in the left part at @xmath22 has its pair @xmath6 within the left part .",
    "let @xmath103 be the difference of the number of @xmath6s and @xmath7s inbetween @xmath104 and @xmath41 . from proposition [ 01sequence]-1 or",
    "[ solitonicnature]-4 we find that @xmath131 } \\delta(k ) \\ge 1 $ ] .",
    "suppose that @xmath132 at @xmath133 @xmath134 , then the entry at @xmath135 is @xmath7 and the entry at @xmath136 is @xmath6 .",
    "hence , if we eliminate @xmath10s , the @xmath7s at @xmath135 are removed .",
    "let @xmath137 be the set of positions @xmath138\\}$ ] . since @xmath139,there are at least three @xmath6s in the left edge of the reduced sequence .",
    "to prove the lemma , proceed in a similar manner .",
    "[ lemma5 ] suppose that @xmath128 .",
    "in the left part at @xmath22 , if we perform @xmath11-elimination @xmath140 times , only @xmath94 consecutive @xmath6s remain and no @xmath7 is left .    as in the proof of lemma [ lemma4 ] , we consider the difference @xmath103 .",
    "since @xmath11-elimination always erases a @xmath7 and @xmath6 simultaneously , the value @xmath103 also indicates the difference of @xmath6 and @xmath7 in the reduced sequence , between its left edge @xmath104 and the entry at the ( original ) position @xmath41 . from proposition",
    "[ solitonicnature]-4 , @xmath103 ( @xmath141 ) can only take its maximum value @xmath94 at @xmath142 .",
    "on the other hand , from lemma [ lemma4 ] , at least @xmath94 consecutive @xmath6s remain after @xmath140 @xmath11-eliminations .",
    "hence only @xmath94 consecutive @xmath6s can remain in the left part at @xmath22 .",
    "[ lemma6 ] in the left part , the number and type of solitons at @xmath125 do not change at @xmath22 except for the largest soliton .",
    "furthermore , the position of the solitons at @xmath22 does not depend on the pattern outside the block at @xmath125 .",
    "if @xmath143 , there is no @xmath7 in the left part at @xmath22 and the above statement becomes trivial .",
    "we therefore suppose @xmath128 .",
    "consider a state of a smaller pbbs of the same size as the left part in consideration .",
    "we assume that the pattern of the state coincides with the left part at @xmath125 except for the @xmath7s which constitute the largest soliton , which all are replaced with @xmath6s .",
    "the number of @xmath6s in this state is greater than that of @xmath7s , by an amount of @xmath94 .",
    "if we update according to the time evolution rule , this pattern is exactly equal to that of the left part at @xmath22 ( proposition [ solitonicnature]-3 ) . since the number and type of solitons does not change in the sequence ( proposition [ conservation ] ) , to prove the lemma , it suffices to show that no @xmath7 of the left part belongs to a soliton whose position is outside that part and that no @xmath7 from the outside belongs to a soliton whose position is in the left part .    from proposition [ 01sequence]-2 , @xmath7 does not form a pair with @xmath6 at the right edge ( at the position @xmath71 ) , which , at the same time , means that no @xmath7 forms a pair with @xmath6 in the outside .",
    "( remember that a pair means a @xmath7 and a @xmath6 which are connected by an arc line according to the time evolution rule at @xmath22 . )",
    "since the pattern of the left part at @xmath22 is the same as the sequence considered above , the indices of @xmath7s coincide with those of that sequence .",
    "hence the largest index of the left part at @xmath22 is at most @xmath140 .",
    "there are @xmath94 more @xmath6s than @xmath7s in the left part at @xmath22 , and the index of the @xmath6 at @xmath71 is less than or equal to @xmath144 .",
    "since the largest index in the left part is at most @xmath140 , from proposition [ solitonicnature]-1 , a @xmath7 in the left part does not belong to a soliton whose position is outside the left part .",
    "there are at least two consecutive @xmath6s in the left edge of the left part at @xmath22 .",
    "the index of the second @xmath6 from the left edge is at most @xmath145 , and , by proposition [ solitonicnature]-1 , no @xmath7 in the outside belongs to a soliton whose position is in the left part if its index is less than or equal to @xmath145 .",
    "suppose that a @xmath7 of index @xmath41 ( @xmath146 ) outside the left part constitutes a soliton with @xmath7s inside , whose indices are @xmath147 .",
    "when we perform @xmath11-elimiantion @xmath148 times , from lemma [ lemma4 ] we have that there are at least two consecutive @xmath6s between the inside @xmath7 with index @xmath149 and the outside @xmath7 of index @xmath41 , which contradicts our definition of a soliton .",
    "thus we find that no @xmath7 on the outside constitutes a soliton whose position is in the left part , which completes the proof .    as for the right part , we have the following lemmas .",
    "[ lemma7 ] for @xmath150 , if @xmath10s are eliminated in the right part at @xmath22 , there are at least three consecutive @xmath7s in the right edge . if possible , further @xmath11-elimination is performed , there are at least four consecutive @xmath7s in the right edge . in general ,",
    "if @xmath11-elimination is performed @xmath123 times ( @xmath129 ) , there remain at least @xmath130 consecutive @xmath7s in the right edge .",
    "the proof is analogous to the proof of lemma [ lemma4 ] .",
    "[ lemma8 ] if we eliminate @xmath10s in the right part at @xmath22 , @xmath151 times , the reduced sequence consists of @xmath94 consecutive @xmath7s and no @xmath6 .",
    "let @xmath152 @xmath153 be the set of positions of the entries in the right part at @xmath22 which remain after @xmath123 @xmath11-eliminations and that do not constitute @xmath130 consecutive @xmath7s in the right edge . then ,",
    "as in the proof of lemma [ lemma4 ] , we have an inequality : @xmath154 . for @xmath155",
    ", this inequality implies that the sequence has the form @xmath156 hence , by applying @xmath11-elimination @xmath151 times , we obtain a pattern with @xmath94 consecutive @xmath7s and no @xmath6 .",
    "now we give the proof of proposition [ blockinvariance ] from proposition [ 01sequence]-4 , any sequence starting from the left edge of the right part at @xmath22 contains a number of @xmath7s , larger than or equal to that of @xmath6s .",
    "( recall that @xmath6 and @xmath7 in a block at @xmath125 turn to @xmath7 and @xmath6 at @xmath22 . )",
    "hence a @xmath6 in the right part at @xmath22 forms a pair with one of the @xmath7s in the right part , and the pair is not affected by the outside pattern .",
    "there are just @xmath94 @xmath7s which do not form pairs with inside @xmath6s .",
    "these @xmath7s are those obtained by @xmath11-eliminations as in lemma [ lemma8 ] .",
    "if their indices at @xmath22 are @xmath157 , then since the index of @xmath6 at @xmath71 is at most @xmath144 and all the indices in the right part are less than or equal to @xmath94 ( lemma [ lemma8 ] ) , no @xmath7 outside the right block can belong to the inside solitons ( proposition [ solitonicnature]-1 ) and the @xmath94 @xmath7s constitute a soliton with length @xmath94 whose position does not depend on the outside pattern .",
    "in fact , its position is always @xmath111 .",
    "then , together with lemma [ lemma6 ] , the solitons in the block do not depend on the outside pattern .",
    "in other words , the positions of solitons at @xmath22 , exactly coincide with those in the case where no other block exists in the state . according to proposition [ conservation ] ,",
    "the solitons are preserved in time evolution and the proposition is proved . therefore we now only have to show that the indices of the @xmath94 consecutive @xmath7s , which are obtained by @xmath11-eliminations in the right block at @xmath22 , are @xmath157 . by the definition of a block , the entry at @xmath158 is necessarily @xmath6 , and the @xmath7 at the right edge @xmath111 forms a pair with it .",
    "hence its index is @xmath84 and the statement is true for @xmath159 .    when we eliminate all the @xmath10s in the state , the right edge of the  reduced \" block is @xmath7 ( lemma [ lemma7 ] ) .",
    "since all the blocks , for which the largest soliton was of length @xmath84 , are eliminated , and since the other blocks have at least one @xmath6 in the left edge , this @xmath7 forms a pair with a @xmath6 and its index is @xmath86 and the statement is true for @xmath143 .",
    "similarly , when we eliminate the @xmath10s once more , the right edge of the reduced block is still @xmath7 ( lemma [ lemma7 ] ) . since all the blocks with the largest soliton",
    "whose length @xmath143 are eliminated , lemma [ lemma4 ] assures that the next right entry of the @xmath7 is @xmath85 .    repeating this argument",
    ", we find that the consecutive @xmath7s have indices @xmath160 , which completes the proof .    in the above proof",
    ", we have also shown that the position of the largest soliton at @xmath22 is the right edge of the block . from proposition",
    "[ solitonicnature]-3 and the fact that the length of the block is twice the sum of the lengths of solitons in the block , we obtain the following corollary    [ scatteringlength ] the position of the largest soliton is updated to the right edge of the block . the difference between the position of the largest soliton at @xmath22 and that at @xmath125 is @xmath161 .    since the @xmath6s in the right part at @xmath22 form pairs with the @xmath7s in the right part",
    ", we have    [ rightpartcoinsidence ] the pattern of the right part at @xmath125 coincides with the pattern in the same region at @xmath23 .",
    "finally the movement of solitons is expressed by the theorem :    [ solitonmovement ] suppose that a pbbs has @xmath4 solitons .",
    "let @xmath162 and @xmath163 @xmath164 be the positions and lengths of the solitons at @xmath125 . then , their positions at @xmath22 , @xmath165 @xmath164 , satisfy @xmath166 \\qquad   \\mbox{\\rm modulo $ n$},\\ ] ] where the soliton at @xmath165 has length @xmath163 and the coefficients @xmath167 ( @xmath168 ) satisfy @xmath169 . in particular , if @xmath170 is the position of the largest soliton , @xmath171 or @xmath84 .",
    "we prove the theorem by induction on the number of solitons @xmath4 . for @xmath172 ,",
    "the statement is trivial ( @xmath173 ) .",
    "let @xmath174 and assume that the theorem is true for @xmath175 .",
    "when there are @xmath176 solitons , if the state at @xmath125 consists of multiple blocks , the latter part of proposition [ blockinvariance ] can be applied to each block and the theorem is proved .",
    "when the state consists of one block , as shown in the proof of lemma [ lemma6 ] , except for the largest soliton the other solitons in the left part are updated as if the largest soliton did not exist .",
    "hence they satisfy ( [ solitonformula ] ) by the induction hypothesis .",
    "let @xmath177 be the position of the largest soliton at @xmath125 . from corollary [ scatteringlength ] , @xmath178 , \\label{moveoflargest}\\end{aligned}\\ ] ]",
    "where @xmath179 if the @xmath26th soliton is in the right part and otherwise @xmath180 .",
    "hence the largest soliton satisfies ( [ solitonformula ] ) .    on the other hand , by proposition [ rightpartcoinsidence ] , the solitons in the right part at @xmath22 are supposed to move to their positions at @xmath125 if there is no soliton outside the region . by the induction hypothesis",
    "this movement satisfies ( [ solitonformula ] ) . then , if the @xmath26th soliton is in the right part at @xmath22 , @xmath181 , @xmath182 ,   \\quad   \\mbox{modulo $ n$}\\ ] ] where @xmath183 and @xmath184 when the @xmath185th or @xmath26th soliton is outside the right part . since @xmath179 for the @xmath26th soliton in the right part , if we put @xmath186 , @xmath187 @xmath188 , then @xmath189 .",
    "\\quad   \\mbox{modulo $ n$}\\ ] ] thus the theorem also holds true for @xmath190 , which completes the proof .",
    "so far , we have not obtained concrete expressions for @xmath191 , however , theorem [ solitonmovement ] and corollary [ scatteringlength ] are enough to determine the fundamental cycle of the pbbs for a given initial state .    in the subsequent section , we shall use some properties of solitons with length @xmath84 .",
    "hereafter we often refer to such a soliton as a _",
    "@xmath84-soliton_. the following proposition is easily obtained from proposition [ solitonicnature ]    [ 1-soliton - pattern ] let @xmath192 be the position of a 1-soliton .",
    "the entry at @xmath193 is necessarily a @xmath6 .",
    "if the entry at @xmath194 is @xmath7 , then its index is greater than @xmath86 . on the contrary , if the entries at @xmath195 are @xmath196 , then @xmath192 is the position of a 1-soliton . similarly if the entries at @xmath195 are @xmath197 and the index of @xmath7 at @xmath194 is greater than two , then @xmath192 is the position of a 1-soliton . in particular , if the entries from @xmath194 to @xmath198 are @xmath199 , then @xmath192 is the position of a 1-soliton .    as for the movement of the 1-soliton",
    ", we have    [ move-1-soliton ] the position of a 1-soliton is updated by @xmath200 or @xmath201 .",
    "first we assume that the distance between the 1-solitons is at least @xmath85 .",
    "let @xmath192 be the position of a @xmath84-soliton at @xmath22 .",
    "the entry at @xmath193 must be @xmath6 .",
    "if the entry at @xmath202 is @xmath7 , then the entries from @xmath192 to @xmath202 form a pattern @xmath196 at @xmath23 and we see that the position changes by @xmath200 .    when the entry at @xmath202 is @xmath6 , then the entry at @xmath194 is @xmath6 by proposition [ 1-soliton - pattern ] .",
    "the index of @xmath6 at @xmath202 is either @xmath59 or @xmath98 @xmath203 . if it is @xmath59 , the entries from @xmath192 to @xmath202 become a @xmath196 pattern at @xmath23 and we have that the position changes by @xmath200 .",
    "if it is @xmath98 , the index of @xmath6 at @xmath194 , @xmath204 , satisfies @xmath205 , hence the entries from @xmath206 to @xmath202 are updated as either @xmath207 or @xmath199 . by proposition [ 1-soliton - pattern ] , the position of the soliton is @xmath194 and hence it changes by @xmath201 .",
    "when the distance between the 1-solitons is just @xmath86 , they form a sequence like @xmath208 .",
    "let @xmath192 be the position of the leftmost 1-soliton .",
    "then we repeat the same arguments as above and find that all the solitons move by @xmath200 when the entry at @xmath209 is @xmath7 or @xmath6 with index @xmath59 and by @xmath201 when it is @xmath6 with index @xmath98 .",
    "in this section , we consider the fundamental cycle ( the shortest period ) of a pbbs for a given initial state .",
    "a key idea to determine the fundamental cycle is to establish a relation between the pbbs and the one obtained from it by @xmath11-elimiantion . for a given state of the pbbs , we obtain a pattern of the state of a smaller pbbs by @xmath11-elimination .",
    "a soliton with length @xmath94 ( @xmath150 ) turns into a soliton with length @xmath151 , and a 1-soliton disappears .",
    "however , it is convenient to think of it as turning into a _ @xmath210-soliton _ a soliton with length @xmath210 which has no entry but has a _ position_. to make the idea clear , consider the following example .",
    "a state @xmath211 contains two 1-solitons , the @xmath7s which are underlined . by @xmath11-elimination",
    ", we obtain a new pattern @xmath212 in this new sequence , however , we can denote the places where @xmath84-solitons existed before the 10-elimination as @xmath213 so we may think that @xmath210-solitons exist between two consecutive entries separated by a @xmath89 . of course , the notion of a _",
    "@xmath210-soliton _ only has meaning when we eliminate @xmath84-solitons by @xmath11-elimination .",
    "an advantage to consider the @xmath210-solitons is that we can devise a reverse operation for @xmath11-elimination .",
    "i.e. we can reconstruct the original state from the new sequence if we allow the existence of @xmath210-solitons .",
    "when there are solitons with the same length , we can define the _ effective distance _ between two of them with respect to the notion of a @xmath210-soliton .",
    "[ effective - distance ] when there are two solitons with the same length , we perform @xmath11-elimination repeatedly and turn them into @xmath210-solitons .",
    "we denote the distance between these two @xmath210-solitons by the effective distance between them .    here the distance between the two @xmath210-solitons is understood as the number of entries between them .",
    "for example , the effective distance between the above two @xmath84-solitons is five .",
    "an important property of the effective distance is    [ conservation - distance ] the effective distance between two solitons does not change in time .    by lemma [ lemma2 ]",
    ", @xmath11-elimination commutes with the updating rule of a pbbs .",
    "hence it is enough to prove the proposition for two @xmath84-solitons .",
    "if there is no soliton with length more than one , the proposition is trivial . if the @xmath84-solitons themselves form blocks , _",
    "i.e. _ , if they do not belong to a block together with a larger soliton , the statement of the proposition is also obvious because they will move by @xmath200 and the number of @xmath10s between the two solitons does not change at the next time step .    at time",
    "@xmath22 , let us consider the block to which one of the @xmath84-solitons belongs .",
    "the block is composed of consecutive @xmath7s and @xmath6s and they change to @xmath6s and @xmath7s at the next time step .",
    "let @xmath16 and @xmath214 , respectively , be the position of the @xmath7 at the left edge of the block and of the @xmath6 at the right edge .",
    "suppose that there are @xmath215 @xmath10s on the right of the @xmath84-soliton in the block , and @xmath216 @xmath10s on the left of it .",
    "( hence there are @xmath217 @xmath10s in the block . ) when we eliminate @xmath10s at @xmath22 the number of entries in the block decreases by @xmath218 .",
    "let the distance between the @xmath210-soliton and the right ( left ) edge of the reduced block be @xmath219 ( @xmath220 ) .    from proposition [ move-1-soliton ] , the @xmath84-soliton moves by @xmath200 or @xmath201 in the next time step .",
    "if it moves by @xmath200 , the number of @xmath10s in the block which exist to the right of the @xmath84-soliton does not change .",
    "( we take into account the @xmath10 at the right edge of the block as well . )",
    "since the total number of @xmath10s does not change in a block at @xmath22 , the number of @xmath10s to the left of the @xmath84-soliton does not change either . on the other hand , when it moves by @xmath201 , the number of @xmath10s to its right increases by one and the number of those on its left decreases by one . hence",
    ", if we eliminate @xmath10s at @xmath23 , the distance between the @xmath210-soliton and the @xmath7 next to the right edge of the block , which was originally at the position @xmath221 , is also @xmath219 in both cases .",
    "it is also clear that the distance between the @xmath210-soliton and the @xmath6 next to the left edge , which was at the position @xmath222 , is also @xmath220 .",
    "therefore , when we perform @xmath11-elimination , the position of the @xmath210-soliton in the reduced block does not change by the updating rule , where the reduced block at @xmath23 is defined as the sequence starting from the @xmath6 which was at @xmath222 to the @xmath7 which was at @xmath221 . since the distance between the reduced blocks does not change under time evolution , even for a block of @xmath210-soliton obtained from a block of @xmath84-solitons , the effective distance between two @xmath84-solitons does not change in time evolution , which completes the proof .    from the above proposition , we know that the effective distance is also a conserved quantity of the pbbs .",
    "the pbbs sometimes has some hidden symmetry which makes it difficult to determine the fundamental cycle .",
    "the symmetry appears when there are solitons with the same length .",
    "suppose that there are more than one solitons with length @xmath94 . by applying @xmath11-elimination for @xmath94 times ,",
    "these solitons turn into @xmath210-solitons .",
    "let @xmath223 be the size of the reduced pbbs .",
    "we denote the positions of the @xmath210-solitons in this reduced pbbs by @xmath224 . here",
    "@xmath19 is understood as the position of the right box adjacent to the @xmath185th @xmath210-soliton .",
    "let @xmath225 be the smallest positive integer which satisfies @xmath226 ( note that the positions are defined modulo @xmath223 . )",
    "the number @xmath225 ( @xmath227 ) is a divisor of @xmath223 and we put @xmath228 . by proposition",
    "[ conservation - distance ] , @xmath229 does not change in time .",
    "in this situation , we define the effective symmetry as follows .",
    "[ effective - symmetry ] let @xmath229 be the positive integer defined above .",
    "then , the solitons with length @xmath94 in the pbbs are said to have effective translational symmetry of order @xmath229 .",
    "for example , a sequence @xmath230 has three @xmath84-solitons . by @xmath11-elimination , we have @xmath231 _ i.e. _ ; @xmath232 , @xmath233 and hence the @xmath84-solitons have effective translational symmetry of order @xmath85 .",
    "now we fix the system and its initial state at @xmath234 . as in section 1",
    ", we consider a pbbs with @xmath3 boxes .",
    "we assume that the initial state has @xmath235 solitons with length @xmath163 @xmath236 , where @xmath29 .",
    "we also put @xmath31 , and @xmath237 the initial state turns to a state of a smaller pbbs by @xmath11-elimination . by",
    "pbbs _ , we denote the pbbs which has as an initial state , the one obtained by @xmath238 times @xmath11-elimination performed on the original initial state .",
    "the position of the origin of the @xmath41-th pbbs can be determined arbitrarily .",
    "the size of the @xmath41-th pbbs , @xmath239 , is given as @xmath240 in particular , @xmath241 .",
    "the pbbs is then updated according to the time evolution rule and after some time period it will take the same pattern as the initial state except for some translation .",
    "we call such period as a _ relative cycle_. the shortest relative cycle is called _ the fundamental relative cycle_. apparently , the fundamental cycle is a relative cycle and an integer multiple of the fundamental relative cycle .",
    "the following lemma is used to establish the relation between the fundamental cycle of the @xmath41-th pbbs and the fundamental relative cycle of the @xmath176-th pbbs .",
    "[ lemma9 ] when the smallest soliton has length @xmath242 in a pbbs , the fundamental relative cycle of the pbbs coincides with that of the reduced pbbs obtained by @xmath11-elimination .    from lemma [ lemma2 ] , we have that the fundamental relative cycle of the pbbs is the relative cycle of the reduced pbbs .",
    "since the number of solitons does not change by @xmath11-elimination in this case , we can reconstruct the pattern from the reduced pattern by adding @xmath10s to the left of the solitons .",
    "thus the fundamental relative cycle of the reduced pbbs is also a relative cycle of the original pbbs .    for a pattern in a pbbs which contains at @xmath22 a @xmath84-soliton",
    ", we obtain a pattern for a reduced pbbs by @xmath11-elimination .",
    "the @xmath84-soliton turns into a @xmath210-soliton in that pattern .",
    "if we now shift this pattern such that the position of this @xmath210-soliton is situated at the left ( the midpoint between the position @xmath210 and @xmath84 ) , we can define a map from a sequence of the pbbs to a sequence of the reduced pbbs .",
    "we shall denote this map by @xmath243 .",
    "here @xmath244 denotes the position of the @xmath84-soliton .",
    "for example , a sequence @xmath245 is mapped by @xmath246 to @xmath247 where @xmath89 denotes the position of @xmath210-soliton .",
    "an important property of this map is that it commutes with time evolution , namely ,    [ lemma10 ] let @xmath248 be a sequence of a pbbs at @xmath22 with a @xmath84-soliton at position @xmath244 .",
    "then we have @xmath249 where @xmath250 denote the time evolution in the reduced pbbs .    by lemma [ lemma2 ] ,",
    "the sequence @xmath251 is equivalent to @xmath252 .",
    "hence it suffices to show that the position of one specific soliton coincides in both sequences .",
    "the sequence @xmath248 consisits of blocks .",
    "first we consider the case where the @xmath84-soliton at @xmath244 itself constitutes a block .",
    "let @xmath220 be the distance between the @xmath84-soliton at @xmath22 and the right edge of the block nearest to it on the left . since the position of the largest soliton in the block becomes the right edge of the block ( corollary [ scatteringlength ] ) , after @xmath11-elimination , there are @xmath253 @xmath6s between the @xmath210-soliton and the nearest soliton on its left .",
    "namely , the position of the soliton nearest to it on the left , is @xmath254 . on the other hand ,",
    "the blocks of the sequence @xmath255 are obtained by eliminating all the @xmath10s , changing indices @xmath41 to @xmath149 and @xmath98 to @xmath256 @xmath257 , and letting the position of the @xmath210-soliton be the midpoint between the entries at position @xmath210 and @xmath84 . since the updating rule is equivalent to changing @xmath6s in the block to @xmath7s and @xmath7s to @xmath6 , we find that the position of the largest soliton in the block becomes @xmath254 at @xmath23 .",
    "thus , we find that relation ( [ commuting.property ] ) holds .",
    "next we consider the case where the @xmath84-soliton belongs to a block together with a larger soliton . as is shown in the proof of proposition [ conservation - distance ] , the distance ( number of entries ) between the @xmath210-soliton and the right edge of the block at @xmath22 , coincides with that between the position of the largest soliton and the @xmath210-soliton at @xmath23 .",
    "since the distance from the @xmath210-soliton to the right edge is equal to the position of the largest soliton of the block in @xmath252 , the position of the largest soliton in the block in @xmath251 coincides with that in @xmath252 , which completes the proof .    from this lemma , and because the effective distance between @xmath84-solitons does not change by proposition [ conservation - distance ] , we find that the positions of all the @xmath210-solitons in @xmath255 coincide with those in @xmath251 .",
    "we state this fact as a lemma :    [ lemma11 ] the positions of all the @xmath210-solitons in @xmath255 coincide with those in @xmath251    using these lemmas , we can prove the key proposition :    [ fundamental - relation ] the fundamental cycle of the @xmath41-th pbbs is a relative cycle of the @xmath176-th pbbs . if the smallest solitons in the @xmath176-th pbbs do not have effective translational symmetry , it is the fundamental relative cycle of the @xmath176-th pbbs .",
    "we denote the pattern at @xmath22 of the @xmath176-th pbbs by @xmath248 .",
    "we choose one of the @xmath84-soliton and denote its position at @xmath22 by @xmath244 . without loss of generality , we can assume the sequence of the @xmath41-th system at @xmath234 to coincide with @xmath258 . by lemma [ lemma10 ]",
    ", we have @xmath259 where @xmath250 is the time evolution operator for the @xmath41-th pbbs .",
    "therefore we find @xmath260 if @xmath261 is the fundamental cycle of the @xmath41-th pbbs , ( [ commutativity ] ) implies @xmath262 since by lemma [ lemma11 ] the above relation holds up to the position of @xmath210-solitons , @xmath263 is equivalent to @xmath264",
    ". therefore @xmath261 is a relative cycle of the @xmath176-th pbbs .",
    "conversely , if @xmath261 is the fundamental relative cycle of the @xmath176-th pbbs , @xmath263 is equivalent to @xmath264 , and @xmath265 .",
    "however , if the @xmath84-solitons in the @xmath176-th pbbs do not have the effective translational symmetry , @xmath192 must be @xmath266 by lemma [ lemma11 ] .",
    "thus we find @xmath267 which means that @xmath261 is a cycle of the @xmath41-th pbbs .",
    "since @xmath261 is the shortest relative cycle of the @xmath176-th pbbs and the fundamental cycle of @xmath41-th pbbs is a relative cycle of the @xmath176-th pbbs , @xmath261 is the fundamental cycle of the @xmath41-th pbbs .",
    "now we determine the fundamental cycle of the pbbs for a given initial state .",
    "we divide the initial states into two cases .",
    "first we assume that no soliton has effective translational symmetry .",
    "since there are only solitons with length @xmath268 and the size of the system is @xmath269 , the fundamental cycle of the first system @xmath270 is obtained as @xmath271 where @xmath272 denotes the least common multiple of @xmath269 and @xmath268 . during this period",
    ", a soliton passes the origin ( the position of the @xmath210-soliton ) of the first pbbs exactly @xmath273 times , where @xmath274    from proposition [ fundamental - relation ] , the fundamental relative cycle of the second pbbs is @xmath270 .",
    "the fundamental cycle @xmath275 is an integer multiple of the relative cycle . to determine @xmath275 , we look for the distance @xmath276 over which the largest soliton will move during the period @xmath270 .",
    "since the largest soliton in the second pbbs has length @xmath277 and it collides @xmath273 times with each one of the smaller solitons during the fundamental relative cycle , by corollary [ scatteringlength ] , we obtain @xmath278 hence , the fundamental cycle of the second system is given as @xmath279 , where @xmath280 during this period @xmath275 , the largest soliton passes @xmath281 times through the origin of the second pbbs , where @xmath282 in a similar manner , the largest soliton in the third pbbs has length @xmath283 and its shift during the period @xmath275 is given as @xmath284 the fundamental cycle @xmath285 is given as @xmath286 , where @xmath287 and it passes the origin @xmath288 times , where @xmath289 repeating the above procedure , we find that the fundamental cycle of the pbbs is given by the following theorem    [ maintheorem1 ] when there is no effective translational symmetry of solitons in a pbbs , the fundamental cycle @xmath261 of the pbbs is given as @xmath290 where @xmath291 is obtained recursively as @xmath292 here @xmath293 and @xmath239 @xmath294 are defined as in ( [ ell_j ] ) and ( [ n_j ] ) .    in order to rewrite this formula in a compact way , we note first that @xmath295 equation ( [ s_k - n_k - relation ] ) is proved by induction . we give a proof in appendix b. noticing the identity @xmath296 we have @xmath297 where @xmath298 and @xmath299 the map @xmath300 @xmath301 is naturally extended to the map @xmath302 as @xmath303 } 3^{\\max[a_2,b_2 ] } 5^{\\max[a_3,b_3 ] } 7^{\\max[a_4,b_4]}\\cdots \\quad ( a_j , b_j \\in \\z ) .",
    "\\label{extensionlcm}\\end{aligned}\\ ] ] we also define @xmath304 _ etc .",
    "_ , as @xmath305 . from ( [ new - t_k ] ) and ( [ q_k ] ) we obtain , @xmath306 and @xmath307",
    "thus we have @xmath308 hence , from ( [ fundamental - cycle ] ) , we obtain    [ fundamentalcorollary ] @xmath309    for example , the pbbs with the initial state @xmath310 has four types of solitons with lengths 5 , 4 , 2 , and 1 .",
    "the values of the parameters are caluculated as @xmath311 , @xmath312 , @xmath313 , @xmath314 , @xmath315 , @xmath316 , @xmath317 , @xmath318 and @xmath319 .",
    "hence its fundamental cycle is @xmath320    * case 2 * _ solitons with effective translational symmetry _",
    "the main difference with the previous case is that the fundamental cycle of the @xmath41-th pbbs is a relative cycle of the @xmath176-th pbbs , but not necessarily the fundamental relative cycle .",
    "when the largest solitons do not have effective symmetry however , the fundamental relative cycle can be determined easily and the above arguments require only slight modification . in the first pbbs",
    "the @xmath210-solitons , obtained by @xmath11-elimination on the second pbbs , are arranged periodically . if we put @xmath321 , @xmath322 is the period of the translational symmetry .",
    "hence the fundamental relative cycle of the second pbbs @xmath323 is given as @xmath324 if we put @xmath325 a largest soliton collides with @xmath210-solitons exactly @xmath326 times during the period @xmath323 .",
    "hence , in the second pbbs , the largest soliton moves the distance @xmath327 where @xmath328 .",
    "similarly , the fundamental relative cycle of the third pbbs is @xmath329 we can proceed in a similar manner to the above and find that all the formulae given in theorem [ maintheorem1 ] hold with the change @xmath330 , @xmath331 _ etc . _ , that is , the fundamental cycle @xmath261 of the pbbs is given as @xmath332 where @xmath333 is obtained recursively as @xmath334 here @xmath335 , @xmath336 , @xmath337 is the order of the effective translational symmetry of the @xmath41th largest solitons for @xmath338 , @xmath339 , and @xmath293 and @xmath239 @xmath294 are defined as in ( [ ell_j ] ) and ( [ n_j ] ) .",
    "however , as in this case , there is no relation like ( [ s_k - n_k - relation ] ) , we so far have not found a compact expression like ( [ mainformula ] ) .    when the largest soliton has effective translational symmetry , the determination of the fundamental cycle becomes a little complicated .",
    "for example , the sequence of the first pbbs @xmath340 is updated as @xmath341 where @xmath89 denotes the @xmath210-solitons obtained from the second pbbs . apparently , the fundamental relative cycle of the second pbbs is just one time step .",
    "although the largest soliton moves only two boxes , the distance between a pattern at @xmath22 and the same pattern at @xmath23 is eight .",
    "hence , in this example , we have to think of the largest soliton as being shifted by a distance of eight boxes . in general",
    ", when we shift the largest solitons by @xmath342 , the sequences coincide up to translation . here",
    "@xmath337 denotes the order of the effective translational symmetry of the @xmath41th largest solitons .",
    "then the fundamental relative cycle of the second pbbs is given as @xmath343 the distance separating it from the same pattern , @xmath344 , is calculated as follows .",
    "let @xmath345 be a solution to the diophantine equation @xmath346 then @xmath347 in this expression , @xmath348 is the number of @xmath210-solitons between a largest soliton at @xmath22 and the ` corresponding ' largest soliton at @xmath349 ; @xmath350 is the number of largest solitons between the largest soliton at @xmath349 which ` really ' moved during the time period @xmath323 and the corresponding largest soliton at @xmath349 .",
    "hence , in the second pbbs , the shift of the largest soliton is considered to be @xmath351 when @xmath352 , the second pbbs also has translational symmetry and the fundamental relative cycle of the third pbbs becomes @xmath353 , where @xmath354 the shift of the largest solitons in the third pbbs is obtained in a similar manner as @xmath355 where @xmath356 is a solution to the diophantine equation @xmath357 the fundamental relative cycle of the fourth pbbs is obtained from @xmath358 in a similar manner to ( [ newet_2 ] ) . repeating the same procedure , we obtain the fundamental cycle of the pbbs as @xmath359 , where @xmath360\\nonumber \\\\             & & \\quad + \\prod_{i=3}^{j-1}t_i^ { * }   \\left [                  2\\left(\\frac{n_1+n_2}{k_2}p_2+n_3^{*}q_2\\right )            \\left(\\sum_{i=3}^j \\ell_j\\right ) + \\frac{n_2}{k_2 } p_2 \\right]\\nonumber \\\\           & & \\qquad \\quad \\cdots \\nonumber \\\\             & & \\qquad + 2\\left ( \\frac{\\sum_{i=1}^{j-1 } n_i}{k_{j-1}}p_{j-1 }              + n_j^ { * } q_{j-1 }",
    "\\right)\\ell_j + \\frac{n_{j-1}}{k_{j-1 } } p_{j-1 } \\label{news_j}\\end{aligned}\\ ] ] and @xmath361 is a solution to the diophantine equation @xmath362    therefore we have found a formula to obtain the fundamental cycle of the pbbs for an arbitrary initial state .",
    "[ nexttheorem1 ] the fundamental cycle @xmath261 of the pbbs is given as @xmath363 where @xmath364 is obtained recursively from ( [ recursion2 ] ) if the largest solitons have no effective translational symmetry , or from ( [ newt_j ] ) in the general case .",
    "in this article , we have shown a formula to determine the fundamental cycle of a pbbs for a given initial state .",
    "the pbbs is obtained from the ultradiscretization of the discrete toda equation with periodic boundary condition .",
    "since the toda equation with periodic boundary conditions has quasiperiodic solutions which are expressed by theta functions associated to hyperelliptic curves@xcite , one may expect that the fundamental cycle has some relation with the period matrices of the theta functions .",
    "establishing such a relation is a problem we wish to address in the future .",
    "although we have treated the pbbs with box capacity one and with only one kinds of balls , it can be extended to the case with box capacity larger than one and many kinds of balls .",
    "the determination of the fundamental cycle for such an extended pbbs is also a future problem .",
    "finally , we wish to point out one important property of the original bbs which can be derived from the results in the previous sections .",
    "note that the bbs corresponds to the case of the pbbs where the number of boxes @xmath365 .",
    "the solitons are defined in exactly the same way and they are also conserved in time . from corollary [ scatteringlength ] ,",
    "lemma [ lemma10 ] and [ lemma11 ] , we obtain    [ ninfty ] in the original bbs , after sufficient time steps , the solitons are arranged according to the order of their lengths and move freely .    in the bbs ,",
    "solitons as defined here behave like _ solitons _ in nonlinear differential equations , which justify the use of the word ` soliton ' .",
    "* acknowledgements * the authors are grateful to prof",
    ". j. satsuma and dr .",
    "r. willox for helpful comments on the present work .",
    "99    s. wolfram , _ cellular automata and complexity _ , addison - wesley , reading , ma ( 1994 ) .",
    "d. takahashi and j. satsuma , _",
    "jpn . _ * 59 * , 3514 ( 1990 ) .",
    "d. takahashi , proceedings of the international symposium on nonlinear theory and its applications , nolta93 , 555 ( 1991 ) . t. tokihiro , d. takahashi , j. matsukidaira and j. satsuma , _ phys .",
    "lett . _ * 76 * , 3247 ( 1996 ) .",
    "k. fukuda , m. okado , and y. yamada , _ int .",
    "phys . _ * a 15 * , 1379 ( 2000 ) .",
    "g. hatayama , k. hikami , r. inoue , a. kuniba , t. takagi , and t. tokihiro , _ j. math . phys . _",
    "* 42 * , 274 ( 2001 ) .",
    "f. yura and t. tokihiro , _ j. phys . a : math .",
    "gen . _ * 35 * , 3787 ( 2002 ) .",
    "d. yoshihara , _",
    "master thesis of university of tokyo _ ( in japanese ) ( 2001 ) .",
    "m. kac and p. van moerbeke , _ proc .",
    "usa _ * 72 * , 1627 , 2879 ( 1975 ) .",
    "e. date and s. tanaka , _ prog .",
    "phys . _ * 55 * , 457 ( 1976 ) ; _ prog .",
    "suppl . _ * 59 * , 107 ( 1976 ) .",
    "m. torii , d. takahashi and j. satsuma , physica * d92 * , 209 ( 1996 ) .",
    "we use the terminology of sections 2 and 3 . for a given state of the pbbs",
    ", we construct a state of the @xmath41-th pbbs by performing @xmath11-elimination @xmath238 times .",
    "in particular , after @xmath62 eliminations , we obtain a sequence of @xmath366 consecutive @xmath6s .",
    "we then fix the position of one of such @xmath6s . to obtain a state of the first system",
    ", we should put @xmath61 @xmath210-solitons next to these consecutive @xmath6s .",
    "the number of such possible configurations is @xmath367 .",
    "each configuration corresponds to a state of the first system . to obtain a state of the second system",
    ", we put @xmath75 @xmath210-solitons next to the previous state .",
    "the number of possible configurations is @xmath368 . repeating this procedure",
    ", we see that the number of states for a fixed @xmath6 is @xmath369 there are @xmath3 possibilities for the position of the fixed @xmath6 , but any one of @xmath366 @xmath6s gives the same results .",
    "thus we find that the number of states @xmath34 is given as @xmath370",
    "we prove ( [ s_k - n_k - relation ] ) by induction .",
    "since @xmath371 , @xmath372 and @xmath373 , we have @xmath374\\\\ & = & t_1\\left [ ( \\ell_1+\\ell_2)+\\frac{\\ell_1}{n_1}\\cdot 2n_2 \\ell_2 \\right]\\\\ & = & \\frac{t_1}{n_1}\\left [ \\ell_1\\left ( \\ell_0 + 2n_1(\\ell_1+\\ell_2 )   + 2 n_2 \\ell_2 \\right ) + \\ell_0 \\ell_2   \\right]\\\\ & = & r_1 n_2 + \\frac{t_1\\ell_2 \\ell_0}{n_1}.\\end{aligned}\\ ] ] hence ( [ s_k - n_k - relation ] ) is true for @xmath375 .",
    "suppose that ( [ s_k - n_k - relation ] ) holds up to @xmath376 @xmath377 .",
    "we rewrite @xmath378 as @xmath379 + 2 r_{m-1 } n_m \\ell_m \\label{a0}\\end{aligned}\\ ] ] using the relation @xmath380 and @xmath381 , we have @xmath382 \\label{a1}\\end{aligned}\\ ] ] by the induction hypothesis , @xmath383 and @xmath384 consecutive use of the induction hypothesis yields , @xmath385 substituting ( [ a2 ] ) into ( [ a1 ] ) , we obtain @xmath386 therefore ( [ s_k - n_k - relation ] ) is proved ."
  ],
  "abstract_text": [
    "<S> we investigate a soliton cellular automaton ( box - ball system ) with periodic boundary conditions . </S>",
    "<S> since the cellular automaton is a deterministic dynamical system that takes only a finite number of states , it will exhibit periodic motion . </S>",
    "<S> we determine its fundamental cycle for a given initial state . </S>"
  ]
}