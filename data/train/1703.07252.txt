{
  "article_text": [
    "the development of reliable attitude ( i.e. orientation ) estimators is a key requirement for efficient automatic control of drones .",
    "most existing attitude observers exploit the measurements of an imu under the assumption of weak accelerations of the vehicle to justify the direct use of accelerometer measurements for the estimation of the gravity direction in a body - fixed frame @xcite .",
    "the violation of this assumption , when the vehicle undergoes sustained accelerations , jeopardizes the accuracy of the attitude estimate ( cf .",
    "@xcite ) . to overcome this problem velocity - aided attitude observers",
    "have been developed in the literature by fusing imu measurements with the vehicle s linear velocity measurements done either in an inertial frame @xcite or in a body - fixed frame  @xcite .",
    "the present paper addresses a new problem of velocity - aided attitude estimation where the vehicle s linear velocity is measured partly in a body - fixed frame and partly in an inertial frame",
    ". a motivating application of this work is related to quadrotor uav navigation in situations where linear velocity s components along two body axes orthogonal to the thrust direction and expressed in a body - fixed frame can be derived from accelerometer measurements combined with an aerodynamic linear drag model @xcite and where the linear velocity s vertical component expressed in an inertial frame can be obtained from barometer measurements .",
    "the important nonlinearities resulting from the use of such measurements render the design of an attitude observer significantly more complex than when all the linear velocity s components are measured in a single frame , either inertial or body - fixed .",
    "they also exclude the possibility of proving semi - global , or almost - global , stability results similar to these derived in @xcite and @xcite in the simpler case of complete linear velocity measurements in a single frame .",
    "the design of the observers proposed in this paper are adapted from a recent deterministic riccati observer design framework @xcite that relies on the solutions to the continuous riccati equation ( cre ) and encompasses ekf solutions .",
    "accordingly , good conditioning of the solutions to the cre and , subsequently , exponential stability of the obtained observers rely on conditions of _ uniform observability _ whose satisfaction calls for a specific analysis .",
    "since only local stability is demonstrated simulation results are useful to get complementary indications about the performance and the size of the basin of attraction of these observers .",
    "the paper is organised as follows .",
    "notation , system equations , and the measurements involved in the observer design are specified in section [ sec : preliminary ] . in the same section some basic definitions and conditions about system observability",
    "are recalled , together with elements of the deterministic riccati observer design framework proposed in @xcite . in section [ sec : observerdesign ] the observers expressions are specified , and an analysis of associated observability conditions is carried out in section [ sec : observability_analysis ] .",
    "simulation results illustrating the performance of the observers and showing that their domain of convergence can be large are reported in section [ sec : simulation ] .",
    "a short concluding section follows .",
    "@xmath0 @xmath1 denotes the canonical basis of @xmath2 and @xmath3_\\times$ ] denotes the skew - symmetric matrix associated with the cross product , i.e. , @xmath4_\\times v = u \\times v , \\forall u , v \\in \\mathbb{r}^3 $ ] .",
    "the identity matrix of @xmath5 is denoted as @xmath6 and @xmath7 , @xmath8 ( the unit 2-sphere ) , is the projection operator onto the plane orthogonal to @xmath9 .",
    "note that @xmath10_\\times^2 $ ] , @xmath8 .",
    "+ @xmath0 @xmath11 denotes an inertial frame attached to the earth , typically chosen as the north - east - down frame , and @xmath12 is a body - fixed frame whose origin is the vehicle s center of mass @xmath13 .",
    "+ @xmath0 the vehicle s attitude is represented by a rotation matrix @xmath14 of the frame @xmath15 relative to @xmath16 .",
    "the column vectors of @xmath17 correspond to the vectors of coordinates of @xmath18 expressed in the basis of @xmath16 .",
    "the element at the intersection of the @xmath19 row and @xmath20 column of @xmath17 is denoted as @xmath21 , with @xmath22 .",
    "+ @xmath0 @xmath23 and @xmath24 are the vectors of coordinates of the vehicle s linear and angular velocities expressed in @xmath15 .",
    "the linear velocity expressed in @xmath16 is denoted as @xmath25 so that @xmath26 .",
    "the vehicle s attitude satisfies the differential equation @xmath27_\\times \\vspace{-0.1cm}\\ ] ] we assume that the vehicle is equipped with an imu consisting of a 3-axis gyrometer that measures the angular velocity @xmath24 and of a 3-axis accelerometer that measures the _ specific acceleration _",
    "@xmath28 , expressed in @xmath15 . using the flat non - rotating earth assumption",
    ", we have @xcite @xmath29_\\times v + a_{\\mathcal b } + g r^\\top e_3 \\vspace{-0.1cm}\\ ] ] where @xmath30 is the gravity constant .",
    "a 3-axis magnetometer is also integrated in many imus to measure of the normalized earth s magnetic field vector expressed in @xmath15 .",
    "let @xmath31^\\top \\in s^2 $ ] denote the known normalised earth s magnetic field vector expressed in @xmath16 .",
    "the vectors @xmath32 and @xmath33 are usually assumed to be non - collinear so that @xmath17 can be estimated from the observation ( measurements ) in the body - fixed frame of the gravity vector and of the earth s magnetic field vector .",
    "the magnetometer thus measures @xmath34 .",
    "we further assume that the vehicle is equipped with sensory devices that provide measurements of the two first components of @xmath35 and the third component of @xmath36 , i.e. , @xmath37 , @xmath38 and @xmath39 .",
    "a possible combination of sensors providing such measurements in the case of a flying drone was evoked in the introduction . to summarize , we assume that the available measurements are @xmath37 and @xmath38 ( that may be provided by an onboard accelerometer ) , @xmath39 ( that may be provided by an onboard barometer ) , and @xmath40 ( that is provided by an onboard magnetometer ) .      the following definitions and conditions are classical and just recalled here for the sake of completeness .",
    "consider a linear time - varying ( ltv ) system @xmath41 with @xmath42 the system state vector , @xmath43 the system input vector , and @xmath44 the system output vector .",
    "( instantaneous observability ) system is instantaneously observable if @xmath45 , @xmath46 can be calculated from the input @xmath47 , the output @xmath48 , and the time - derivatives @xmath49 .",
    "[ lemobservabilityinstantaneous ] ( see @xcite ) define the observation space at @xmath50 as the space generated by @xmath51 with @xmath52 , @xmath53 . then , system is instantaneously observable if @xmath54 .",
    "( uniform observability ) system is uniformly observable if there exists @xmath55 , @xmath56 such that @xmath57 @xmath58 with @xmath59 the transition matrix associated with @xmath60 , i.e. such that @xmath61 with @xmath62 .",
    "@xmath63 is called the observability gramian of system . when is satisfied one also says that the pair @xmath64 is uniformly observable .",
    "the following useful condition , derived in @xcite , points out a sufficient condition for uniform observability .",
    "[ lemobservabilityuniform ] ( see @xcite ) if there exists a matrix - valued function @xmath65 of dimension @xmath66 @xmath67 composed of row vectors of @xmath68 , @xmath69 , @xmath70 , such that for some positive numbers @xmath71 and @xmath57 @xmath72 then the observability gramian of system satisfies condition .",
    "[ rem1 ] it is noticeable that system can be uniformly observable but not instantaneously observable .",
    "instantaneous observability of system does not either imply uniform observability .",
    "for instance , the matrix @xmath73 involved in lemma [ lemobservabilityuniform ] may be always of full rank with the determinant of @xmath74 converging to zero ( while remaining positive ) and such that condition is not satisfied .",
    "however , if there exists @xmath56 such that @xmath75 then the system is both instantaneously observable and uniformly observable .",
    "the proposed observer design is adapted from the deterministic observer design framework reported in @xcite .",
    "consider the nonlinear system @xmath76 with @xmath77^\\top$ ] , @xmath78 ( the closed unit ball in @xmath79 ) , @xmath80 , @xmath44 , @xmath81 a continuous matrix - valued function uniformly bounded w.r.t . @xmath50 and uniformly continuous w.r.t .",
    "@xmath82 of the form @xmath83 and @xmath84 a continuous matrix - valued function uniformly bounded w.r.t . @xmath50 and uniformly continuous w.r.t .",
    "apply the input @xmath85 with @xmath86 and @xmath87 a symmetric positive definite matrix solution to the following cre @xmath88 with @xmath89 a symmetric positive definite matrix , @xmath90 bounded continuous symmetric positive semidefinite , and @xmath91 bounded continuous symmetric positive definite .",
    "then , from theorem 3.1 and corollary 3.2 in @xcite , @xmath92 is locally exponentially stable when @xmath93 and @xmath94 are both larger than some positive matrix and the pair @xmath95 , with @xmath96 is uniformly observable .",
    "let @xmath97 and @xmath98 denote the estimates of @xmath17 and @xmath35 , respectively .",
    "the proposed observers are of the form @xmath99_\\times \\\\ & \\!\\!\\!\\!\\!\\!\\!\\ ! \\dot{\\hat v } = -[\\omega]_\\times\\hat v + a_{\\mathcal b } + g \\hat r^\\top e_3 - \\sigma_v \\end{array}\\right . \\vspace{-0.cm}\\ ] ] where @xmath100 are innovation terms specified thereafter . defining the observer errors @xmath101",
    "then the observer s objective is the exponential stability of @xmath102 or @xmath103 .",
    "these two possibilities are studied next .    from , and , one verifies that the dynamics of @xmath104 satisfy @xmath105_\\times \\\\ & \\!\\!\\!\\!\\!\\!\\!\\ !",
    "\\dot{\\tilde v } = -[\\omega]_\\times \\tilde v + g \\hat r^\\top ( \\tilde r^\\top - i_3 ) e_3 + \\sigma_v \\end{array}\\right . \\vspace{-0.cm}\\ ] ] while the dynamics of the error @xmath106 are @xmath107_\\times   - [ \\omega - \\sigma_r]_\\times \\bar r\\\\ & \\!\\!\\!\\!\\!\\!\\!\\ ! \\dot{\\tilde v } = -[\\omega]_\\times \\tilde v + g ( \\bar r^\\top - i_3)\\hat r^\\top e_3 + \\sigma_v \\end{array}\\right . \\vspace{-0.cm}\\ ] ] the next step consists in working out first order approximations of the error systems and complemented with first order approximations of the measurement equations .",
    "the application to these approximations of the riccati observer design framework reported in @xcite ( see section [ subsec : riccati ] ) will then provide us with the equations of the proposed observers .    for this application",
    "we need to make the following technical ( but non - restrictive ) assumption .",
    "[ assumpvombound ] the vehicle s velocities @xmath108 and @xmath109 are bounded in norm by some positive numbers @xmath110 and @xmath111 , i.e. @xmath112 and @xmath113 .",
    "first order approximations of the attitude error equations are derived by considering ( local ) minimal parametrizations of the three - dimensional group of rotations @xmath114 .",
    "the parametrizations here chosen are the vector part @xmath115 ( resp .",
    "@xmath116 ) of the rodrigues unit quaternion @xmath117 ( resp .",
    "@xmath118 ) associated with @xmath119 ( resp .",
    "@xmath120 ) .",
    "rodrigues formula relating @xmath121 ( resp .",
    "@xmath122 ) to @xmath119 ( reps .",
    "@xmath120 ) are @xmath123_\\times ( \\tilde q_0 i_3 + [ \\tilde q]_\\times )   \\\\ \\bar r = i_3 + 2 [ \\bar q]_\\times ( \\bar q_0 i_3 + [ \\bar q]_\\times ) \\end{array } \\vspace{-0.1cm}\\ ] ] from these relations , and using also the fact that @xmath124 by definition of a unit quaternion , one deduces @xmath125_\\times + o(|\\tilde \\lambda|^2 ) , \\quad \\mathrm{with } \\,\\ , \\tilde \\lambda \\triangleq 2 \\tilde q   \\\\",
    "\\bar r = i_3 + [ \\bar \\lambda]_\\times   + o(|\\bar \\lambda|^2),\\quad \\mathrm{with } \\,\\ , \\bar \\lambda \\triangleq 2 \\bar q \\end{array } \\vspace{-0.1cm}\\ ] ] then , in view of the dynamics of @xmath119 and @xmath120 in and one verifies ( see also @xcite ) that the time - variations of @xmath126 and @xmath127 satisfy the following equations @xmath128_\\times \\bar \\lambda + \\sigma_r+ o(|\\omega||\\bar\\lambda|^2 ) + o(|\\bar\\lambda| |\\sigma_r| ) \\end{array}\\vspace{-0.cm}\\ ] ] as for the dynamics of @xmath129 one obtains , depending on the parametrization @xmath130 or @xmath127 used for the attitude error @xmath131_\\times \\tilde v + g \\hat r^\\top[e_3]_\\times \\tilde \\lambda   + \\sigma_v +   o(|\\tilde \\lambda|^2)\\\\ \\dot{\\tilde v } = -[\\omega]_\\times \\tilde v   + g [ \\hat r^\\top e_3]_\\times \\bar \\lambda + \\sigma_v +   o(|\\bar \\lambda|^2 ) \\end{array } \\vspace{-0.cm}\\ ] ]    concerning the measurement of @xmath39 , in combination with the use of @xmath126 , one has @xmath132_\\times \\tilde \\lambda + e_3^\\top \\hat r \\tilde v + o(|\\tilde \\lambda||\\tilde v| ) + o(|v||\\tilde \\lambda|^2 ) \\end{split}\\ ] ] and , in combination with the use of @xmath127 @xmath133_\\times \\bar \\lambda + e_3^\\top \\hat r \\tilde v + o(|\\bar \\lambda||\\tilde v| ) + o(|v||\\bar \\lambda|^2 ) \\end{split}\\ ] ] as for the measurement of @xmath40 one obtains respectively @xmath134_\\times \\tilde \\lambda + o(|\\tilde\\lambda|^2)\\\\ \\hat r m_{\\mathcal b } - m_{\\mathcal i } = \\hat r ( \\bar r^\\top - i_3 ) \\hat r^\\top m_{\\mathcal i } = [ m_{\\mathcal i}]_\\times \\hat r\\bar \\lambda",
    "+ o(|\\bar\\lambda|^2 ) \\end{array}\\vspace{-0.cm}\\ ] ] note that one may also use the approximation @xmath135 when using the parametrization @xmath126 for the attitude error .    in view of the previous relations , by setting the system output vector equal to @xmath136 one obtains ltv first order approximations in the form with @xmath137_\\times & \\!\\!-[\\omega]_\\times \\end{bmatrix}\\ ! , \\ , c \\!=\\ !",
    "\\begin{bmatrix } 0_{1\\times 3 } & \\!\\!e_1^\\top   \\\\ 0_{1\\times 3 }   & \\!\\!e_2^\\top \\\\",
    "-e_3^\\top [ \\hat r \\hat v]_\\times & \\!\\!e_3^\\top \\hat r \\\\   [ m_{\\mathcal i}]_\\times & \\!\\!0_{3\\times 3 } \\end{bmatrix } \\end{split}\\right . \\!\\!\\!\\!\\!\\",
    "] ] when using the parametrization @xmath126 , and @xmath138_\\times & \\!\\!0_{3\\times 3}\\\\ g [ \\hat r^\\top e_3]_\\times & \\!\\!-[\\omega]_\\times \\end{bmatrix}\\ ! , \\ , c \\!=\\ !",
    "\\begin{bmatrix } 0_{1\\times 3 } & \\!\\!e_1^\\top   \\\\ 0_{1\\times 3 }   & \\!\\!e_2^\\top \\\\ -e_3^\\top \\hat r [ \\hat v]_\\times & \\!\\!e_3^\\top \\hat r \\\\",
    "[ m_{\\mathcal i}]_\\times \\hat r & \\!\\ ! 0_{3\\times 3 } \\end{bmatrix } \\end{split}\\right . \\!\\!\\!\\!\\!\\ ] ] when using the parametrization @xmath127 .    from there",
    "the observer associated with either one of the attitude error parametrizations is given by with @xmath139 and @xmath140 determined from the input @xmath141 calculated according to and .",
    "according to ( * ? ? ?",
    "* corollary 3.2 ) , good conditioning of the solutions @xmath142 to the cres and exponential stability of the previously derived observers rely on the uniform observability of the pair @xmath95 obtained by setting @xmath143 in the expressions of the matrices @xmath144 and @xmath145 derived previously .    in view of one",
    "has @xmath146 g r^\\top[e_3]_\\times & \\!\\!-[\\omega]_\\times \\end{bmatrix } , \\,\\ , c^\\star \\!=\\ !",
    "\\begin{bmatrix } \\begin{bmatrix } 0_{2\\times 3 } \\\\[1ex ] -e_3^\\top [ v]_\\times \\end{bmatrix } & \\delta \\\\   [ m_{\\mathcal i}]_\\times & \\!\\!0_{3\\times 3 } \\end{bmatrix } % \\vspace{-0.1cm}\\ ] ] when using @xmath126 and , in view of @xmath147_\\times & \\!\\!0_{3\\times 3}\\\\[1ex ] g[r^\\top e_3]_\\times & \\!\\!-[\\omega]_\\times \\end{bmatrix } , \\,\\ , c^\\star \\!=\\ !",
    "\\begin{bmatrix } \\begin{bmatrix } 0_{2\\times 3 } \\\\[1ex ] -e_3^\\top [ v]_\\times r \\end{bmatrix } & \\delta \\\\   [ m_{\\mathcal i}]_\\times r & \\!\\!0_{3\\times 3 } \\end{bmatrix } % \\vspace{-0.1cm}\\ ] ] when using @xmath127 .",
    "define @xmath148 , with @xmath149 . from lemma [ lemobservabilityuniform ]",
    "the pair @xmath150 is uniformly observable if @xmath151 , @xmath152 such that @xmath153 straightforward calculations yield @xmath154_\\times e_3 e_3^\\top r + g[e_3]_\\times r \\pi_{e_3}[\\omega]_\\times \\\\ d_{2,2 } & = \\delta^\\top \\delta -[\\omega]_\\times\\pi_{e_3}[\\omega]_\\times \\end{split}\\right.\\ ] ] in the case of the @xmath126 parametrization , and @xmath155_\\times e_3 e_3^\\top r + g [ e_3]_\\times r \\pi_{e_3}[\\omega]_\\times ) \\\\ d_{2,2 } & = \\delta^\\top \\delta -[\\omega]_\\times\\pi_{e_3}[\\omega]_\\times \\end{split}\\right.\\ ] ] in the case of the @xmath127 parametrization .",
    "the determination of more explicit conditions whose satisfaction ensures uniform observability ( and thus local exponential stability of the proposed observers ) is not an easy task .",
    "however , it is possible to work out particular cases for which the stronger condition @xmath156 is satisfied .",
    "both instantaneous observability and uniform observability of the pair @xmath150 are then granted ( see remark [ rem1 ] ) .",
    "the following lemma points out such particular cases .",
    "its proof is based on the fact that is equivalent to @xmath157 which , by simple computations , is also equivalent to @xmath158 and @xmath57 @xmath159_\\times [ e_3]_\\times x\\big|^2 \\\\ & \\quad\\,\\,\\ , + \\left((e_3 \\!\\times\\ ! v)^\\top \\ !",
    "! \\left((e_3 \\!\\times\\ !",
    "\\dot v)^\\top \\!x \\right)^2 \\\\ & \\quad\\,\\,\\ , + y_1 ^ 2 + y_2 ^ 2 + \\left((r^\\top e_3)^\\top y\\right)^2 + \\big|[e_3]_\\times [ \\omega]_\\times y \\big|^2 \\\\ & \\quad\\,\\,\\ , + 2g(r^\\top [ re_3]_\\times [ e_3]_\\times x)^\\top ( [ e_3]_\\times [ \\omega]_\\times y)\\\\ & \\quad\\,\\,\\ , + 2 ( ( v \\!\\times\\ !   e_3)^\\top \\!x ) \\left((r^\\top e_3)^\\top y\\right ) \\;\\geq\\ ; \\mu ( |x|^2 + |y|^2 ) \\end{split}\\ ] ]    [ iolemma ] assume that @xmath160 then , condition is satisfied in the following cases :    1 .",
    "motion along the vertical direction , i.e. @xmath161 ; 2 .",
    "pure translation , i.e. @xmath162 ; 3 .",
    "slow motion such that @xmath163 , with @xmath110 and @xmath111 standing for the bounds of @xmath36 and @xmath164 defined in assumption [ assumpvombound ] .",
    "( proof in appendix [ appendix1 ] ) .",
    "some comments about condition are in order .",
    "this condition indicates that the gravity direction expressed in the body - fixed frame @xmath165 , i.e. @xmath166 , never crosses the plane spanned by @xmath167 and @xmath168 or approaches it asymptotically . for instance , if @xmath169 then both observability conditions and are not satisfied since in that case the last row and last column of @xmath170 ( given by ) are equal to zero .",
    "however , this very particular situation of non observability is not supposed to occur in the case of quadrotor uav navigation .",
    "now @xmath166 may temporarily cross the plane @xmath171 thus leading to the violation of condition as well as of the instantaneous observability condition .",
    "but the condition of uniform observability may still be satisfied in this case .",
    "[ uolemma ] assume that @xmath172 then , condition is satisfied in the same three cases as in lemma [ iolemma ] and also in the case of persistently accelerated translational motion such that @xmath173 , @xmath174 : @xmath175    ( proof in appendix [ appendix2 ] ) .",
    "[ remarkmagabsence ] in the case where magnetometer measurements are absent the observability condition is never satisfied . indeed , by inspection of the expression of @xmath176 ( given in relation ) from which the term @xmath177 , is removed one easily verifies that the third row and third column of this matrix are equal to zero .",
    "one also verifies that the third row and third column of @xmath178 ( and @xmath179 ) are equal to zero .",
    "therefore , the third row and third column of @xmath170 are equal to zero .",
    "this clearly forbids the satisfaction of the condition .",
    "simulations are conducted on a model of a vertical take - off and landing ( vtol ) aerial drone , also used in @xcite .",
    "the vehicle is stabilised along a circular reference trajectory , with the linear velocity expressed in the inertial frame @xmath16 given by @xmath180 $ ] @xmath181 , with @xmath182 .",
    "due to aerodynamic forces the vehicle s orientation varies in large proportions .",
    "the normalized earth s magnetic field and the gravity constant are respectively equal to @xmath183 $ ] and @xmath184 .    in the absence of other works addressing the same problem of coupled velocity - aided attitude estimation ,",
    "comparisons are only carried out for the two observers here proposed .",
    "we call _ observer 1 _ ( resp .",
    "_ observer 2 _ ) the observer derived with the parametrization @xmath126 ( resp .",
    "@xmath127 ) .",
    "both observers are tuned analogously to kalman - bucy filters where the matrices @xmath185 and @xmath186 are interpreted as covariance matrices of the additive noise on the system state and output respectively .",
    "the following parameters are chosen for both observers : @xmath187    two simulations are reported hereafter .    @xmath188 * simulation 1 : * in this simulation , the observers are simulated in the ideal case ( i.e. noise - free measurements ) for a set of initial attitude and velocity estimates corresponding to the following initial estimation errors @xmath189 ( m / s ) \\\\[1ex ] & \\tilde q(0 ) = [ \\cos(\\frac{\\pi}{2 } ) ; \\sin(\\frac{\\pi}{2 } ) e_1 ] \\end{array}\\right.\\ ] ] this extreme case corresponds to an initial attitude error of @xmath190 in roll w.r.t . the true attitude .",
    "the time evolutions of the estimated and real attitudes , represented by euler angles , along with the estimated and real velocity are shown in figs .",
    "[ figsimu1a ] and [ figsimu1b ] , respectively .",
    "both observers ensure the asymptotic convergence of the estimated variables to the real values despite the extremely large initial estimation errors .",
    "their convergence rates are similar and quite satisfactory .    @xmath188",
    "* simulation 2 : * this simulation is conducted with the same initial condition as in simulation 1",
    ". however , the measurements are now corrupted by gaussian zero - mean additive noises with standard deviations reflecting the above choice of @xmath191 ( @xmath192 for @xmath39 and @xmath193 and @xmath194 for @xmath40 ) and of @xmath185 ( @xmath195 for @xmath164 and @xmath196 for @xmath197 ) . moreover , they are discretized with update frequencies of @xmath198 , for the measurements of @xmath199 , @xmath38 , @xmath39 and @xmath40 , and of @xmath200 , for the measurements of @xmath164 and @xmath201 .",
    "the results reported in figs .",
    "[ figsimu2a ] and [ figsimu2b ] indicate that important noises and low update frequencies of the measurements only marginally affect the overall performance of both observers .",
    "in this paper , a new problem of coupled velocity - aided attitude estimation has been addressed and two nonlinear observers have been proposed on the basis of a recent deterministic riccati observer design framework . they are supported by comprehensive stability and observability analysis , and also by convincing simulation results .",
    "this research was supported by the french _ agence nationale de la recherche _ via the astrid scar ( anr-12-astr-0033 ) and robotex ( anr-10-eqpx-44 ) projects .      * case 1 * : in this case @xmath202 and @xmath203_\\times [ e_3]_\\times x\\big|^2    \\\\ & \\quad\\!\\!\\!\\!+y_1 ^ 2 + y_2 ^ 2 + \\left((r^\\top e_3)^\\top y\\right)^2 -   \\varepsilon_r \\big|[e_3]_\\times [ \\omega]_\\times y \\big|^2 \\\\ & \\quad \\!\\!\\!\\ !",
    "+ \\!\\left(\\frac{g}{\\sqrt{1\\!+\\!\\varepsilon_r } } r^\\top [ re_3]_\\times [ e_3]_\\times x   + \\sqrt{1\\!+\\!\\varepsilon_r } [ e_3]_\\times [ \\omega]_\\times y\\right)^2   \\\\ & \\!\\!\\!\\ ! \\geq\\ , |m_{\\mathcal{i } } \\!\\times\\ ! x|^2 \\ !",
    "+ \\!\\frac{\\varepsilon_r g^2}{1+\\varepsilon_r}\\big|[re_3]_\\times [ e_3]_\\times x\\big|^2    \\\\ & \\quad\\!\\!\\!\\ !   + y_1 ^ 2 + y_2 ^ 2 + \\left((r^\\top e_3)^\\top y\\right)^2 -   \\varepsilon_r \\omega_{max}^2 |y|^2 \\end{split}\\ ] ]    with @xmath204 such that @xmath205 : @xmath206 a number @xmath207 satisfying this inequality is calculated next .",
    "defining @xmath208 one gets @xmath209 & \\geq \\frac{1}{3 } ( \\gamma_3 y_3)^2 - \\frac{1}{2}(\\gamma_1 y_1 + \\gamma_2 y_2)^2 \\\\[1ex ] & \\geq \\frac{1}{3 } ( \\gamma_3 y_3)^2 - ( \\gamma_1 y_1)^2 - ( \\gamma_2 y_2)^2   \\vspace{-.cm } \\end{array}\\ ] ] when using the following young inequalities @xmath210 & ( \\gamma_1 y_1 + \\gamma_2 y_2)^2 \\leq 2((\\gamma_1 y_1)^2 + ( \\gamma_2 y_2)^2 ) \\end{array }   \\vspace{-.cm}\\ ] ] since @xmath211 one deduces from that @xmath212 & \\geq ( 1-\\gamma_1 ^ 2 ) y_1 ^ 2 + ( 1-\\gamma_2 ^ 2 ) y_2 ^ 2 + \\frac{1}{3 } \\gamma_3 ^ 2 y_3 ^ 2 -   \\varepsilon_r \\omega_{max}^2 |y|^2   \\\\[1ex ] & \\geq ( \\frac{1}{3 } \\gamma_3 ^ 2 -   \\varepsilon_r \\omega_{max}^2 ) |y|^2 + \\frac{2}{3 } \\gamma_3 ^ 2 ( y_1 ^ 2+y_2 ^ 2)\\\\[1ex ] & \\geq \\mu_y^{r } |y|^2   \\vspace{-.2 cm } \\end{array}\\ ] ] with @xmath213 .",
    "therefore , any number @xmath207 such that @xmath214 ensures that @xmath215 in is positive .",
    "let us now consider the term @xmath216_\\times [ e_3]_\\times x\\big|^2 $ ] involved in the last inequality of . by simple computations one obtains @xmath217_\\times [ e_3]_\\times x \\!=\\ !",
    "\\begin{bmatrix } -r_{3,3 } & 0 & 0 \\\\ 0&-r_{3,3 } & 0 \\\\ r_{1,3 } & r_{2,3 } & 0\\end{bmatrix } \\!x \\!=\\ ! \\begin{bmatrix }   -r_{3,3 } x_1 \\\\ -r_{3,3 } x_2\\\\ r_{1,3 } x_1 \\!+ \\!r_{2,3 } x_2\\end{bmatrix}\\vspace{-.1cm}\\ ] ] thus , defining @xmath218 and using one deduces that @xmath219_\\times [ e_3]_\\times x\\big|^2 \\\\[1ex ] & \\!\\!\\!\\!= ( m_{3 } x_2 \\!-\\ ! m_{2",
    "} x_3)^2 \\!+\\ ! ( m_{3 } x_1 \\!-\\ !",
    "m_{1 } x_3)^2 \\!+\\ ! ( m_{2 } x_1 \\!-\\ ! m_{1 } x_2)^2 \\\\ & + \\bar\\varepsilon_r r_{3,3}^2 ( x_1 ^ 2+x_2 ^ 2 ) + \\bar\\varepsilon_r ( r_{1,3 } x_1 \\!+ \\!r_{2,3 } x_2)^2 \\\\[1ex ] & \\!\\!\\!\\!\\geq ( m_{3 } x_2 \\!-\\ ! m_{2",
    "} x_3)^2 \\!+\\ ! ( m_{3 } x_1 \\!-\\ !",
    "m_{1 } x_3)^2 + \\bar\\varepsilon_r \\rho^2 ( x_1 ^ 2+x_2 ^ 2 )   \\\\[1ex ] & \\!\\!\\!\\!=   { \\tiny\\left(\\ ! \\sqrt{m_{3}^2\\!+\\!\\frac{\\bar\\varepsilon_r\\rho^2}{2}}x_2 \\!-\\ ! \\frac{m_{2}m_3}{\\sqrt{m_{3}^2 + \\frac{\\bar\\varepsilon_r\\rho^2}{2 } } }   x_3 \\!\\right)^2 } \\\\ & +   \\left(\\!\\sqrt{m_{3}^2\\!+\\!\\frac{\\bar\\varepsilon_r\\rho^2}{2 } } x_1 \\!-\\ ! \\frac{m_1 m_3}{\\sqrt{m_{3}^2 + \\frac{\\bar\\varepsilon_r\\rho^2}{2 } } }   x_3 \\!\\right)^2 \\\\ & + \\frac{\\bar\\varepsilon_r \\rho^2}{2 } ( x_1 ^ 2+x_2 ^ 2 )   + \\frac{(m_1 ^ 2 + m_2 ^ 2 ) \\bar\\varepsilon_r\\rho^2}{2m_{3}^2 + \\bar\\varepsilon_r\\rho^2 } x_3 ^ 2 \\\\[1ex ] & \\!\\!\\!\\ !   \\geq \\mu_x^{r }   |x|^2 \\end{array } \\vspace{-.1cm}\\ ] ] with @xmath220 .",
    "this number is positive since @xmath221 and @xmath33 are non - collinear by assumption . from ,",
    ", one then deduces that @xmath222 with @xmath223 .",
    "this concludes the proof of the first case .",
    "* case 2 * : the proof proceeds analogously to the proof of the first case . since @xmath162 , the left - hand side of satisfies @xmath224_\\times [ e_3]_\\times x\\big|^2 \\!-\\!\\varepsilon_t v_{max}^2 ( x_1 ^ 2 + x_2 ^ 2 ) \\end{split}\\ ] ] with @xmath225 specified hereafter .",
    "relation is now replaced by @xmath226_\\times [ e_3]_\\times x\\big|^2 -\\varepsilon_t v_{max}^2 ( x_1 ^ 2+x_2 ^ 2 ) \\\\ & \\geq   \\left(\\frac{g^2 \\rho^2}{2 } -\\varepsilon_t v_{max}^2\\right ) ( x_1 ^ 2+x_2 ^ 2 )   + \\frac{(m_1 ^ 2 + m_2 ^ 2 ) g^2\\rho^2}{2m_{3}^2 + g^2\\rho^2 } x_3 ^ 2 \\\\ & \\geq \\min\\left(\\frac{g^2 \\rho^2}{2 } -\\varepsilon_t v_{max}^2 , \\frac{(m_1 ^ 2 + m_2 ^ 2 ) g^2\\rho^2}{2m_{3}^2 + g^2\\rho^2 } \\right ) |x|^2 \\\\ & \\geq \\mu_x^{t } |x|^2 \\end{split}\\!\\!\\!\\ ! \\vspace{-.cm}\\ ] ] with @xmath227 .",
    "this number is positive if @xmath228 is chosen such that @xmath229 .",
    "relation is now replaced by @xmath230      * case 3 * : using the same procedure as the one used to derive relations , , and one deduces that @xmath234_\\times [ e_3]_\\times x\\big|^2 \\!-\\!\\varepsilon_1 v_{max}^2(x_1 ^ 2+x_2 ^ 2)\\\\ & + y_1 ^ 2 + y_2 ^ 2 + \\frac{\\varepsilon_1}{1+\\varepsilon_1}\\left((r^\\top e_3)^\\top y\\right)^2 -   \\varepsilon_2 \\omega_{max}^2 |y|^2 \\\\ & \\geq \\left(\\frac{\\varepsilon_2 g^2\\rho^2}{2(1+\\varepsilon_2 ) } \\!-\\!\\varepsilon_1 v_{max}^2 \\right)(x_1 ^ 2+x_2 ^ 2 ) +   \\frac{(m_1 ^ 2 + m_2 ^ 2 ) \\bar\\varepsilon_2\\rho^2}{2m_{3}^2 + \\bar\\varepsilon_2\\rho^2 } x_3 ^ 2 \\\\ & + \\left ( \\frac{\\varepsilon_1 \\rho^2}{3(1+\\varepsilon_1 ) } -   \\varepsilon_2 \\omega_{max}^2\\right ) |y|^2 \\end{split}\\ ] ]    with @xmath235 and @xmath236 chosen such that @xmath237 \\displaystyle\\frac{\\varepsilon_1}{1+\\varepsilon_1 } > \\alpha_2 \\varepsilon_2 , \\,\\ , \\mathrm{with } \\,\\ , \\alpha_2 \\triangleq \\frac{3\\omega_{max}^2}{\\rho^2 } \\end{array}\\right.\\ ] ] one then verifies that positive solutions of @xmath238 and @xmath239 to exist if @xmath240 or , equivalently , if @xmath163 .",
    "from here follows immediately .",
    "condition is equivalent to the following : @xmath241^\\top \\in \\mathbb{r}^6 $ ] , @xmath57 @xmath242^\\top \\!\\!\\in \\mathbb{r}^6 , \\forall t\\geq 0 \\vspace{-.1cm}\\ ] ] we only develop the proof for the first case .",
    "the proofs for the three other cases proceed analogously to the proof of the first case and the proof of lemma [ iolemma ] .",
    "using the fact that @xmath243 one deduces that @xmath244 & \\geq\\frac{1}{\\delta } \\int_t^{t+\\delta } ( |m_{\\mathcal{i } } \\!\\times\\ ! x|^2 \\ !",
    "+ \\!\\frac{\\varepsilon_r g^2}{1+\\varepsilon_r}\\big|[r(s)e_3]_\\times [ e_3]_\\times x\\big|^2    \\\\[1ex ] & \\quad + y_1 ^ 2 + y_2 ^ 2 + \\left((r(s)^\\top e_3)^\\top y\\right)^2 -   \\varepsilon_r \\omega_{max}^2 |y|^2)ds   \\\\[1ex ] & \\geq \\min\\left(\\frac{\\bar\\varepsilon_r}{2 } , \\frac{(m_1 ^ 2 + m_2 ^ 2 ) \\bar\\varepsilon_r } { 2m_{3}^2 + \\bar\\varepsilon_r } \\right ) \\left(\\frac{1}{\\delta } \\int_t^{t+\\delta }    r_{3,3}^2(s ) ds \\right ) |x|^2",
    "\\\\[1ex ] & + \\frac{1}{3 } \\left(\\frac{1}{\\delta } \\int_t^{t+\\delta }",
    "r_{3,3}^2(s ) ds - 3 \\omega_{max}^2\\varepsilon_r\\right ) |y|^2 \\end{array } \\vspace{-.1cm}\\ ] ] with @xmath245 and @xmath246 .",
    "therefore , holds if the `` persistent excitation '' condition is satisfied .",
    "99 g. allibert , r. mahony , and m. bangura .",
    "velocity aided attitude estimation for aerial robotic vehicles using latent rotation scaling . in _",
    "conf . on robotics and automation _ ,",
    "pages 15381543 , 2016 .",
    "p. batista , c. silvestre , and p. oliveira .",
    "sensor - based globally asymptotically stable filters for attitude estimation : analysis , design , and performance evaluation . , 57(8):20952100 , 2012 . s. bonnabel , p. martin , and p. rouchon .",
    "symmetry - preserving observers .",
    ", 53(11):25142526 , 2008 .",
    "r. w. brockett .",
    "system theory on group manifolds and coset spaces .",
    ", 10(2):265284 , 1972 . h. f. grip , t. i. fossen , t. a. johansen , and a. saberi . a nonlinear observer for integration of gnss and imu measurements with gyro bias estimation . in _ american cont .",
    "_ , pages 46074612 , 2012 . t. hamel and c. samson .",
    "riccati observers for the non - stationary pnp problem . submitted to _",
    "ieee trans . on automatic control _ , 2016 , available at https://hal.archives-ouvertes.fr/hal-01326999 .",
    "attitude estimation for accelerated vehicles using gps / ins measurements . , 18(7):723732 , 2010 .",
    "hua , g. ducard , t. hamel , r. mahony , and k. rudin .",
    "implementation of a nonlinear attitude estimator for aerial robotic vehicles .",
    ", 22(1):201213 , 2014 .",
    "hua , p. martin , and t. hamel .",
    "stability analysis of velocityaided attitude observers for accelerated vehicles .",
    ", 63:1115 , 2016 .",
    "a. khosravian , j. trumpf , r. mahony , and t. hamel .",
    "state estimation for invariant systems on lie groups with delayed output measurements .",
    ", 68:254265 , 2016 .",
    "r. mahony , t. hamel , and j .-",
    "m . pflimlin .",
    "nonlinear complementary filters on the special orthogonal group . , 53(5):12031218 , 2008 .",
    "r. mahony , v. kumar , and p. corke .",
    "multirotor aerial vehicles : modeling , estimation , and control of quadrotor . , 19(3):2032 , 2012 .",
    "p. martin and e. salaun .",
    "an invariant observer for earth - velocity - aided attitude heading reference systems . in _",
    "ifac world congr .",
    "_ , pages 98579864 , 2008 .",
    "p. martin and e. salaun .",
    "design and implementation of a low - cost observer - based attitude and heading reference system .",
    ", 18(7):712722 , 2010 .",
    "p. martin and e. salaun .",
    "the true role of accelerometer feedback in quadrotor control . in _",
    "conf . on robotics and automation _ ,",
    "pages 16231629 , 2010 .",
    "a. roberts and a. tayebi . on the attitude estimation of accelerating rigid - bodies using gps and imu measurements . in _ ieee conf . on dec . and cont .",
    "_ , pages 80888093 , 2011",
    ". g. g. scandaroli .",
    "visuo - inertial data fusion for pose estimation and self - calibration .",
    "phd thesis , universit nice sophia antipolis , 2013 .",
    "g. troni and l. l. whitcomb .",
    "preliminary experimental evaluation of a doppler - aided attitude estimator for improved doppler navigation of underwater vehicles . in _",
    "conf . on robotics and automation _ ,",
    "pages 41344140 , 2013 ."
  ],
  "abstract_text": [
    "<S> motivated by drone autonomous navigation applications we address a novel problem of velocity - aided attitude estimation by combining two linear velocity components measured in a body - fixed frame and a linear velocity component measured in an inertial frame with the measurements of an inertial measurement unit ( imu ) . </S>",
    "<S> the main contributions of the present paper are the design of riccati nonlinear observers , which may be viewed as deterministic versions of an extended kalman filter ( ekf ) , and an analysis of observability conditions under which local exponential stability of the observer is achieved . reported simulation results further indicate that the observers domain of convergence is large . </S>"
  ]
}