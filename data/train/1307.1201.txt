{
  "article_text": [
    "music has rich internal structures . embedded in any visualization of musical structure is a notion of the closeness and/or similarity ( or equivalently a notion of the distance and/or dissimilarity ) between various musical elements .",
    "this paper considers the implications of several different distance - measures applied at the level of notes , of chords / scales , and of rhythms .",
    "two themes emerge .",
    "ideas of musical similarity tend to be compound , to express relationships more complex than are easily visualized in ( linear ) euclidean space ; each notion of closeness corresponds to a space with different topological structure .",
    "second , even ( apparently ) small changes in the definition of a distance function can lead to large changes in the global ( topological ) shape of the resulting space .",
    "the implication is that there is not really a single `` master '' space in which all musical phenomena can be placed .",
    "rather , different notions of distance between different kinds of musical events can be legitimately described in various ways , as having their own kind of local and global structure .",
    "a large literature shows many ways to visualize and analyze musical structures . to name a few examples : musical scores present notes in a two - dimensional array , euler s classical _ tonnetz _ represents musical intervals in a lattice as do modern generalizations @xcite , partch @xcite draws the tonality diamond where the two axes represent significant musical intervals , chew @xcite visualizes musical progressions along a spiral array , and computer - based music visualizers @xcite display moving patterns in real time as music progresses .",
    "lewin @xcite suggests the application of simplicial complexes and homology to music theory and mazzola @xcite considers actions by the symmetric group on @xmath0-tuples .",
    "more recently , callender , quinn , and tymoczko @xcite-@xcite explore a topological approach to musical spaces using the voice - leading metric ; the result is a space they call an orbifold .",
    "topological considerations have also been used in @xcite and @xcite to cluster melodies and so play a role in the discovery of musical motives .",
    "several different notions of distance applicable to musical situations are discussed in section [ sec : distances ] and are intended to motivate both the mathematical analyses in section [ sec : symm ] .",
    "section [ sec : pershomology ] reviews the idea of persistent homology , which is then applied to musical data in section [ sec : simulations ] .    throughout the paper ,",
    "several interesting spaces are encountered , not all of which can be described as open subsets of @xmath1 .",
    "each of the distance functions corresponds to a particular topological space , and these spaces can often be described concretely as products of basic spaces like the circle @xmath2 and the closed ball @xmath3 .",
    "occasionally , somewhat more elaborate spaces arise , such as twisted products ( fibre bundles ) and higher - dimensional spheres .",
    "a collection of simulations examine a series of increasingly complex sets of musical data using the betti numbers of persistent homology .",
    "applications begin with simple note and chord sequences to verify that the method is capable of displaying common - sense musical intuition . in some of the examples , the song data spans much of the underlying topological space while in other examples the musical data occupies only a small part of the space .",
    "both situations may be interesting .",
    "finally , an online supplement @xcite is available which contains additional figures and examples that augment the presentation within the paper .",
    "one of the oldest visualizations of musical structure represents temporal cycles as spatial circles : saf al - din al - urmaw , the 13th century theoretician from baghdad , represents both musical and natural rhythms in a circular notation in the _ book of cycles _ @xcite .",
    "time moves around the circle ( usually in a clockwise direction ) and events are depicted along the periphery . since the `` end '' of the circle is also the `` beginning , '' this emphasizes the repetition inherent in rhythmic patterns .",
    "anku @xcite argues that african music is perceived in a circular ( rather than linear ) fashion that makes the necklace notation , shown here in figure [ fig : yoruba ] , particularly appropriate .        in this",
    "setting , musical events are sounds occurring at times specified by their position around the circumference of the circle .",
    "there are two different notions of the closeness of events in this representation . in one notion ,",
    "two events are close if they occur near each other in time ( for instance , events represented by the points labelled @xmath4 and @xmath5 are closer together than events represented by the points @xmath6 and @xmath7 . in the second notion ,",
    "events are close if they occur at ( or near ) the same position in each cycle .",
    "thus an event at @xmath4 ( which occurs the first time through the cycle ) is identical to another event that occurs in a later cycle at @xmath4 . with only the first notion of proximity in time",
    ", the natural representation would be a line segment @xmath8 $ ] ; with the repetitions of the cyclical pattern , the line is transformed into a circle @xmath2 .    to be concrete , the distance between two events occurring at times @xmath9 and @xmath10 is @xmath11 and where one unit of time represents one period of the rhythm .",
    "call this the _ necklace distance _",
    ", indicated by the subscript @xmath12 .",
    "the necklace metric on the space of repetitive rhythms is equivalent to the natural metric on the quotient space @xmath13 .",
    "the slash notation indicates the conversion of the linear structure of the reals to a cyclic structure , by considering two numbers equivalent if they differ by an integer .",
    "music , of course , has aspects other than rhythm .",
    "the fundamentals of complex tones are generally perceived as a function of frequency in a logarithmic fashion .",
    "thus the @xmath14 hz `` distance '' from @xmath15 to @xmath16 is perceived to be the same size as the @xmath17 hz `` distance '' from @xmath18 to @xmath19 ( refer to figure [ fig : circle - of - notes ] for the origin of these numerical values ) .",
    "accordingly , it is reasonable to consider a measure that operates on @xmath20 frequency rather than on frequency itself .",
    "a metric like @xmath21 captures this .",
    "but there is also a second notion of closeness operating in the pitch domain , on the set of positive reals @xmath22 , that of octave equivalence .",
    "for example , the @xmath15 note at @xmath23 hz and the high @xmath15 at @xmath24 hz are closely identified .",
    "this is what happens when a man sings along with a woman ( or when a woman sings along with a child ) : the `` same '' note is actually a factor of two apart in frequency .",
    "these two notions of nearness combine to suggest measuring distance between frequencies as @xmath25 for example , the distance @xmath26 between the two c notes an octave apart , is zero .",
    "this means that @xmath27 is not a metric ( because metrics must satisfy the `` identity of indiscernibles , '' that is , @xmath28 ) . but",
    "( [ eqn : distancepc ] ) does induce a metric on the quotient space determined by the equivalence relation @xmath29 . in musical terms , this may be interpreted as a measure of distance between `` pitch classes '' @xcite , since it identifies all @xmath15s , all @xmath16s , etc . into equivalence classes and so ( [ eqn : distancepc ] ) is called the _ pitch - class _ distance on @xmath22 , as indicated by the subscript @xmath30 .",
    "again , two notions of closeness have combined to turn the space of pitch - class notes into the natural metric on the quotient space @xmath13 .     and",
    "@xmath31 ) around the edge of a circle , and to overlay notes that are an octave apart ( i.e , those which are distance zero apart in the pitch class metric ( [ eqn : distancepc ] ) ) such as low @xmath15 and high @xmath15.,width=384 ]    of course , music contains more than just isolated pitch classes and temporal cycles .",
    "one way to combine time and pitch information is with a time - delay embedding , which is a common practice in time series analysis .",
    "suppose that a melody consists of a sequence of notes with fundamental frequencies at @xmath32 . these may be combined into pairs ( a two - dimensional time - delay embedding ) by creating the sequence of vectors @xmath33 , @xmath34 , @xmath35 , @xmath36 .",
    "the distances between such vectors can be calculated by adding the distances between the pitches element - wise using the pitch - class metric ( [ eqn : distancepc ] ) .",
    "for example , the distance between pairs @xmath37 and @xmath38 is @xmath39 .",
    "the collection of all pairs of frequencies under this distance measure can be thought of as the torus @xmath40 .",
    "similarly , a @xmath7-dimensional time - delay embedding ( where the @xmath41 are gathered into vectors of size @xmath7 ) can be visualized as the @xmath7-fold product @xmath42    it may also be useful to generalize the distance measure to consider scalar harmony consisting of multiple pitches sounding simultaneously .",
    "the most straightforward generalization of the pitch - class metric is to add the ( pitch - class ) distances between all elements of the vectors , as was done for the time - delay embeddings .",
    "this distance measure distinguishes chord inversions : for instance , a @xmath15-major chord in root position ( @xmath15-@xmath43-@xmath44 ) would be distant from a @xmath15-major chord in third position ( @xmath44-@xmath15-@xmath43 ) . while this may be desirable in some musical situations",
    ", it is undesirable when looking for structures that involve musical key , where ( say ) all @xmath15-major chords should be identified irrespective of inversion and all @xmath15 major scales are identified irrespective of the order in which the pitches are listed .",
    "for example , the ascending @xmath15-major scale and the descending @xmath15-major scale are both the same entity , and the distance should reflect this realm of musical perception .",
    "another example showing the shortcomings of ( [ eqn : distancepc ] ) is when two voices are sounding simultaneously .",
    "the pairs @xmath34 and @xmath45 both mean that same two notes are heard . using the pitch - class metric , these are unequal .",
    "this can be addressed by permuting the elements and calculating the minimum over all the permutations . to be precise ,",
    "let @xmath46 and @xmath47 be two @xmath0-tuples , and define the distance @xmath48 where @xmath49 ranges over all possible permutations of size @xmath0 , and @xmath50 is the pitch - class distance of ( [ eqn : distancepc ] ) .",
    "this _ chord - class distance _ is the smallest of the pitch - class distances between @xmath9 and all permutations of @xmath10 .",
    "hence it is invariant with respect to chord and scale inversion ; all reorderings of the elements of @xmath9 and @xmath10 are placed in the same equivalence class ( and have zero distance from each other ) . the quotient space induced by the chord - class distance",
    "is called the _",
    "symmetric product_. specifically , given a space @xmath51 , the @xmath0-fold symmetric product is denoted @xmath52 , and @xmath53 is the symmetric group acting on @xmath54 by permuting the coordinates of @xmath54 . the chord - class distance induces a metric on @xmath55 , as described in section [ sec : symm ] .",
    "a further extension of these ideas combines a length @xmath56 time - delay embedding of @xmath57-note chords . describing the structure of these spaces",
    "concretely requires some work as in section [ sec : symm ] .",
    "another complication is that there may not always be exactly @xmath0 elements in each of the chords : for instance , one of the voices may become momentarily silent or two of the voices may converge to the same pitch .",
    "this can be handled by exploiting the @xmath0-th finite subset subspace , and leads to some of the more complex spaces encountered in the analysis .    as a further extension to rhythmic patterns such as those of figure [ fig : yoruba ] ,",
    "consider extending the distance metric to one which measures the distance between complete rhythmic sequences ( rather than the distance between individual timed events ) . in this case ,",
    "an appropriate measure is one which considers any two sequences equal if they are circular shifts of each other .",
    "let @xmath9 and @xmath10 be @xmath0-vectors that define the times of events in a cycle with period 1 . then the _ rhythm distance",
    "_ between @xmath9 and @xmath10 is @xmath58 where @xmath59 ranges over all cyclic shifts and @xmath60 is the distance defined in ( [ eqn : distancerhy ] ) . under this measure ,",
    "all three of the named rhythms in figure [ fig : yoruba ] are the same since they are cyclical shifts of each other . in this case",
    ", the topology will be given by the subsymmetric product @xmath61 , which is the quotient of the @xmath0-times product of the circle @xmath62 and the subgroup @xmath63 of circular shifts .",
    "finally , a standard metric that can be applied to finite subset spaces is the _ hausdorff distance _ which defines the distance between two finite subsets of a metric space @xmath64 as    @xmath65",
    "this section provides the tools needed to interpret the examples in section [ sec : simulations ] , which analyze musical data using persistent homology .",
    "sections [ sec : def ] , [ sec : spaces ] , and [ sec : finitesubspaces ] describe auxiliary _ natural _ spaces on which it is possible to analyze the input ( musical ) data .",
    "these spaces admit their own notion of ( metric ) geometry compatible with section [ sec : distances ] , and it is through the lens of these geometries that persistent homology will be applied .",
    "the use of such auxiliary geometries is a commonly - occurring theme in topology .",
    "for example , @xcite gives a detailed discussion and connections to subjects such as the _ shape theory _ of @xcite .",
    "section [ sec : homol ] summarizes the basics of homology in and section [ sec : pershomology ] considers persistent homology .",
    "the examples of section [ sec : simulations ] show that the persistent homology of data is influenced by the topological features of the ambient metric spaces in which they live .      given a pair of topological spaces @xmath51 and @xmath66 , the _ product _ of the two",
    "is denoted @xmath67 .",
    "for example , if @xmath68 is the circle , @xmath40 is called a _",
    "torus_. similarly , @xmath69 is _ two circles_. the @xmath0-fold product of @xmath51 , denoted @xmath54 , is the set of all @xmath0-tuples of elements of @xmath51 .",
    "thus @xmath70 .",
    "observe that elements of @xmath54 consist of @xmath0 ordered elements of @xmath51 .",
    "for example , @xmath71 if and only if @xmath72 and @xmath73 .",
    "the @xmath0-fold _ symmetric product _ of @xmath51 is the quotient of @xmath54 , by the action of the _ symmetric group _",
    "@xmath53 , that is , @xmath52 where @xmath74 is the set of all one - to - one onto functions @xmath75 acting on @xmath54 on the right .",
    "elements of @xmath76 consist of @xmath0 unordered elements of @xmath51 and so @xmath77 in @xmath76 if and only if there is a permutation @xmath78 such that @xmath79 for all @xmath80 .",
    "given an arbitrary subgroup @xmath63 , the _ sub - symmetric product _",
    "@xmath81 is the quotient @xmath61 . in @xmath81 , @xmath82 if and only if there is a permutation @xmath83 such that @xmath79 for all @xmath84 .",
    "a frequently - useful variant on the idea of the product of two spaces is the notion of a _",
    "fibre bundle_. a fibre - bundle is a continuous function @xmath85 which is ` locally trivial ' in the sense that for every @xmath86 there is a neighbourhood @xmath87 and a homeomorphism @xmath88 where @xmath89 .",
    "@xmath90 is called ` the fibre over @xmath91 ' of the fibre bundle .",
    "the map @xmath92 must satisfy that @xmath93 , where @xmath94 is the projection map onto the first coordinate @xmath95 .    a product @xmath96 is a fibre bundle with @xmath97 , @xmath98 and @xmath99 , with @xmath100 given by @xmath101 .",
    "one should think of a fibre bundle as a space that is locally a product in that the map @xmath92 gives a way of locally identifying nearby fibres .",
    "the mbius band is an example of one such space , as we will see in section [ sec : spaces ] .",
    "a fibre bundle with fibre a disc is called a _ disc bundle_.      a classical result of morton @xcite states that @xmath55 is a disc bundle over @xmath68 which is orientable if and only if @xmath0 is odd .",
    "this means that when @xmath0 is odd , the local homeomorphisms @xmath92 from the definition of a bundle assemble to give a homeomorphism @xmath102 .",
    "the space @xmath103 is a mbius band , and when @xmath0 is even , @xmath55 is similar to a mbius band in that the local homeomorphisms of the fibres assemble into a mirror reflection of the fibre .",
    "morton gives a general prescription for studying sub - symmetric products @xmath104 .",
    "the basic idea is to consider the equivalence of @xmath68 and @xmath105 .",
    "this makes it possible to think of @xmath106 as @xmath107 where @xmath108 denotes the semi - direct product and a homomorphism @xmath109 the semi - direct product @xmath110 is defined as pairs @xmath111 with multiplication defined as @xmath112 . ] of @xmath44 with @xmath113 , equivalently it is denoted @xmath114 and denotes the wreath product is a synonym for @xmath108 where @xmath44 acts on @xmath113 via the regular representation @xmath63 .",
    "] of @xmath115 with @xmath44 .",
    "complex multiplication gives a @xmath44-equivariant map @xmath116 where the action of @xmath44 on the target @xmath68 is trivial .",
    "similarly , @xmath44 acts on @xmath117 via the inclusion @xmath118 making @xmath119 @xmath44-equivariant . denoting the kernel of the addition function @xmath120 by @xmath121 and @xmath122",
    ", this means that there is a fibre bundle @xmath123 moreover , morton identifies the monodromy of the bundle .",
    "[ mortonthm ] the space @xmath104 is a fibre bundle over @xmath68 , with fibre @xmath124 and monodromy induced by the map @xmath125 of @xmath126 .    the other main result in morton s paper is the identification of the quotient @xmath124 as a disc in the case @xmath127 .",
    "a key argument is that the region @xmath128 is a fundamental domain for the action of @xmath129 on @xmath126 . since there are no identifications on the boundary , this _ is _ the fibre .",
    "it s an exercise to check the monodromy is orientation preserving if and only if @xmath0 is odd .",
    "there are only two disc bundles over a circle : the trivial product bundle @xmath130 and the mbius bundle @xmath131 .",
    "the ` center ' ( @xmath132-section ) of the disc bundle consists of the equally - spaced points @xmath133 .",
    "depending on the group @xmath44 , @xmath104 fibers over a product of different numbers of circles .",
    "as will become clear , the fibres can be discs , spheres , and more varied spaces .",
    "the space @xmath134 can be described explicitly , for all @xmath44 with @xmath135 , and for a wide variety of ` useful ' groups @xmath44 with arbitrary @xmath0 .",
    "[ ex : orderedtuples ] for @xmath44 the trivial group , @xmath136 .",
    "this is the space of ordered @xmath0-tuples of octave - reduced notes . for @xmath137 ,",
    "this is the torus @xmath138 .",
    "[ ex : symm ] the space @xmath139 is a product of @xmath68 and the lower - dimensional symmetric product .",
    "this is the space of ordered pairs , where the first element is an octave - reduced note , and the 2nd element is an unrelated @xmath140-note chord .",
    "more generally , @xmath141 provided @xmath142 .",
    "[ ex : chordspace ] the space of @xmath0-note chords ( under chord - class distance measure ( [ eqn : distancecc ] ) ) is the symmetric product of the circle , i.e. , @xmath143 .",
    "morton s theorem [ mortonthm ] shows that @xmath55 fibers over @xmath68 with fiber a disc , and the bundle is orientable precisely when @xmath0 is odd .",
    "there are only two disc bundles over a circle , the trivial ( therefore orientable ) one , and the non - orientable one .",
    "the first is a product @xmath144 while the latter can be thought of as a generalized mbius band , @xmath145 , and in the case @xmath137 it is the mbius band .",
    "[ ex : s1xs2 ] for @xmath146 , the space @xmath147 represents the 3-note melody space , i.e. the space of triples of octave - reduced notes , where we only remember the cyclic ordering of the notes .",
    "we show in section [ ex : s1xs2 ] this space is homeomorphic to @xmath148 .",
    "[ ex : orbifold ] the 4-part voice - leading measure of callender et .",
    "@xcite-@xcite is equivalent to the chord - class distance function ( [ eqn : distancecc ] ) and so the symmetric product @xmath149 is the nonorientable orbifold identified in @xcite-@xcite and explored and popularized by tymoczko in @xcite-@xcite .",
    "similar arguments can be used to identify the sub - symmetric products @xmath150 .",
    "the subgroup lattice for @xmath151 consists of : @xmath152 , two different cyclic subgroups of order @xmath153 , @xmath154 in two different ways ( disjoint cycles and not ) , @xmath155 , @xmath156 , and @xmath157 .",
    "the corresponding spaces @xmath150 can all be described as disc bundles over products of circles . also , for example , it is possible to explicitly address the topological structure in the case of a @xmath56-term time - delay embedding of @xmath57-note chords .",
    "[ prop : delaychords ] when @xmath158 , and @xmath159 , @xmath160    @xmath161 can be considered a subgroup of @xmath53 by partitioning @xmath162 into @xmath57 sets of size @xmath56 .",
    "this is the subgroup of @xmath53 that preserves the partition .",
    "there is a function @xmath163 given by grouping together the @xmath57-note chords .",
    "it is continuous by the properties of product and quotient space and one - to - one and onto by design .",
    "since both spaces are compact hausdorff spaces , this function is a homeomorphism .    given two fibre bundles @xmath164 for @xmath165 the product is naturally a fibre bundle @xmath166 , where @xmath167 .",
    "the fibre of the product is @xmath168 the product of the fibres of the individual maps .",
    "since @xmath169 is a disc bundle over @xmath68 which is orientable only when @xmath57 is odd , @xmath134 is therefore a disc bundle over @xmath170 which is orientable if and only if @xmath57 is odd .",
    "the case of @xmath171 , where @xmath172 is the subgroup of @xmath151 generated by a @xmath173-cycle is analogous to example [ ex : s1xs2 ] , and is similarly involved .",
    "the space @xmath174 represents 4-pitch melody space , and example b.1 presents a brief derivation of its homotopy - type .",
    "the space @xmath174 can be analyzed via its morton bundle , as shown in electronic supplement appendix b.      the @xmath0-th _ finite subset space _ of a topological space @xmath51 is the collection of all subsets of @xmath51 with at least one , and no more than @xmath0 elements , denoted @xmath175 .",
    "it is given the quotient topology via the map @xmath176 which sends @xmath177 .",
    "thus @xmath178 in @xmath179 , i.e. the subset space does not keep track of the number of times an element occurs but only keeps track of the binary information that ` an element is in the set , or not . ' this differs from @xmath180 in that @xmath181 in @xmath180 .",
    "thus @xmath76 can be thought of as being the ` multi - sets ' with precisely @xmath0 elements , counting repetition .",
    "tuffley studied the finite subset spaces of @xmath68 in his dissertation .",
    "the space @xmath182 can be identified with @xmath68 .",
    "the space @xmath183 is a mbius strip , with @xmath184 .",
    "the space @xmath185 is homeomorphic to @xmath186 , moreover if @xmath185 is visualized as the @xmath187-sphere , @xmath188 sits in it as a trefoil knot .",
    "more generally , @xmath189 has the homotopy - type of an odd - dimensional sphere of dimension @xmath0 or @xmath190 if @xmath0 is odd or even respectively . the inclusion @xmath191 induces multiplication by @xmath153 on @xmath192 .",
    "the complement of @xmath193 in @xmath189 has the homotopy - type of a @xmath194-torus knot complement .    in particular , note that the quotient map @xmath195 is one - to - one except on the subspace mapping to @xmath183 .",
    "sitting inside @xmath196 this is the subspace of the form @xmath197 where @xmath198 .",
    "note that @xmath199 and @xmath200 are mapped to the same object in @xmath185 .",
    "so @xmath196 is equivalent to @xmath201 and the map @xmath195 is one - to - one except on the boundary , where it collapses the torus boundary of @xmath196 to the mbius band @xmath183 .",
    "the idea of homology was first introduced by poincar ; a modern treatment can be found in @xcite .",
    "singular homology is the result of a compromise between the geometric intuition of a ` hole ' and the desire to have something that is readily computable .",
    "the @xmath202-th homology group of a space @xmath51 , @xmath203 , is an abelian group whose non - zero elements are objects that detect combinatorial @xmath202-dimensional ` holes ' in @xmath51 .",
    "the precise definition is in the language of simplices and simplicial complexes .",
    "let @xmath204 be the standard @xmath0-simplex , then a _ singular n - simplex _ in a space @xmath51 is a continuous function @xmath205 .",
    "the _ boundary _ of @xmath49 is denoted @xmath206 and is defined as the formal sum over the bounding @xmath140-singular simplices , precisely , @xmath207}$ ] where @xmath208 $ ] indicates we are restricting to the @xmath57-th face of the @xmath0-simplex and parametrizing the face by lexicographically ordering the vertices .",
    "thus the boundary of a @xmath209-simplex is @xmath210 .",
    "in general , this is the orientation assigned to the boundary as one learns in stokes theorem , in multi - variable calculus .",
    "the _ group of singular @xmath0-chains _ in @xmath51 is denoted @xmath211 and defined as the group of formal sums of singular @xmath0-simplices in @xmath51 .",
    "the boundary map extends to a linear map @xmath212 , and the _ @xmath0-th homology group _",
    "@xmath213 is defined as the kernel of @xmath214 modulo the image of @xmath215 . in the case of a simplicial complex , for the purposes of computing homology it is known one can replace the arbitrary continuous functions @xmath49 with the characteristic maps of the simplicial complex .",
    "thus if the simplicial complex is finite , computing the homology of the complex becomes a polynomial - time computation in the number of input simplices .",
    "other work using homology in music theory can be found in @xcite and @xcite .",
    "abelian groups have two standard invariants , the rank and torsion subgroup .",
    "the _ torsion subgroup _ of an abelian group is the subgroup of elements of finite order , so in the group @xmath216 , the torsion subgroup would be @xmath217 . taking the abelian group modulo",
    "its torsion subgroup ( provided this group is finitely - generated ) , the minimal number of generators is called the _ rank _ of the original abelian group .",
    "if this group is not finitely generated , the group is said to have infinite rank .",
    "hence the group @xmath216 has rank @xmath218 .",
    "the rank of the @xmath202-th homology group of @xmath51 , @xmath203 , is called the _",
    "@xmath202-th betti number _ of @xmath51 , and is typically denoted @xmath219 . for example",
    ", the only invariant of @xmath220 is @xmath221 , and this is the number of path - components of @xmath51 .",
    "the number of linearly independent loops in @xmath51 that do not bound discs is @xmath222 .",
    "when the space is a circle , @xmath223 so there is one independent loop .",
    "similarly , @xmath224 and there are two linearly independent circles in the torus , correspondingly @xmath225 .",
    "homology can be somewhat subtle .",
    "if @xmath51 is the klein bottle , @xmath226 , there is a torsion subgroup corresponding to the circle in the klein bottle that does not reverse orientation ; in this case @xmath227 since betti numbers ignore torsion .",
    "introduced by carlsson and his coworkers @xcite as a way of parsing large data sets , persistent homology takes as its starting point the functoriality of homology .",
    "precisely , if @xmath228 is a continuous function , there is an induced homomorphism of homology groups @xmath229 , given by composing the singular simplices in @xmath51 with @xmath230 .",
    "this allows a comparison between the homology groups of two spaces .",
    "let @xmath231 be a collection of points in a space @xmath51 where there is a notion of distance @xmath232 .",
    "the _ singular homology groups _",
    "@xmath233 are used to represent the general shape of the @xmath234-neighborhood of @xmath231 in @xmath51 , where @xmath235 .",
    "figure [ fig : pointcloudfig ] shows a set @xmath231 consisting of 21 points and the @xmath234-neighborhoods for five cases . for @xmath236 , the only non - trivial homology group is @xmath237 .",
    "the top - middle figure shows @xmath238 , and @xmath239 is the only non - trivial homology group . in the third figure ,",
    "all homology groups of @xmath240 are trivial ( the homology groups of a point ) . as @xmath234 increases yet further to 2.4 , a single large circle appears , generating a @xmath209-dimensional homology class . for still larger @xmath234 ( such as 3.5 ) ,",
    "@xmath241 is approximately a disc , and all homology groups disappear , with the exception of a single @xmath242 class .",
    "points and @xmath241 for @xmath243 , and @xmath244,width=336 ]    the _ barcode _ of a point cloud @xmath231 in @xmath51 is a record of how the homology of the epsilon - neighborhood @xmath241 varies as a function of @xmath234 . if @xmath245 , @xmath246 so there is an induced map of homology groups @xmath247 .",
    "if a homology class in @xmath248 is mapped to a non - trivial homology class in @xmath249 , it is said to _ persist _ over the interval @xmath250 $ ] and the _ bar _ associated to a homology class is the largest interval over which it persists .",
    "the _ barcode _ of the point cloud @xmath231 is the record of all the bars over a range of @xmath234 . reading a barcode from left - to - right over the @xmath234-axis",
    ", bars may appear and disappear .",
    "a new bar means that a new homology class appears at that @xmath234 ; the bar remains for as long as that homology class persists , and then it vanishes .",
    "for example , in figure [ fig : pointcloudfig ] , consider the seven left - most points . for small @xmath234 ,",
    "these are isolated and each appear as a separate line in the barcode . by @xmath238 ,",
    "these seven lines merge together into a single line .",
    "all 21 lines merge into one by @xmath251 and a single @xmath252 line persists for all larger @xmath234 .",
    "figures [ fig : kingsstandardrhythm1d ] , [ fig : majorscale ] , [ fig : abbotts1d ] , [ fig : abbotts2d ] etc .",
    "provide many examples of barcodes .",
    "unfortunately , as described above , the computation of persistent homology requires knowledge of more than just the point data @xmath231 .",
    "the intermediate step of considering @xmath241 requires knowledge of the distance function on the entire space @xmath51 , which can be difficult to compute .",
    "a simplicial complex @xmath253 ( called the _ vietoris - rips complex _ ) , which depends only on the distance relation between individual points in @xmath231 , can be used to approximate @xmath241 .",
    "the simplicial complex @xmath253 is constructed inductively .",
    "@xmath231 is the vertex - set of @xmath253 . for every pair of points of @xmath231 separated by less than @xmath234",
    "one adds an edge to the simplicial complex .",
    "similarly , for every @xmath254-tuple of points of @xmath231 which are pairwise distance less than @xmath234 apart , one adds an @xmath0-simplex to the simplicial complex . the simplicial complex @xmath253 is the result of this inductive procedure .",
    "thus persistent homology should be viewed as a coarse measure of the shape of the data @xmath231 _ as an abstract space_. theorem 2.3 of adler et .",
    "@xcite gives a sufficient criterion for @xmath233 and @xmath255 to be isomorphic , although the preconditions of their theorem almost never hold with the data considered in this paper .",
    "for @xmath234 small , the structure is always the same ; @xmath256 , as all points are separated from all other points . for @xmath234 larger than the diameter of @xmath231 , the structure is simple to describe ; @xmath253 consists of a single simplex whose vertex set is @xmath231 . in between small and large @xmath234",
    "there may be a wide variety of homology groups .",
    "homology classes that persist over a significant @xmath234-interval are called _ persistent _ and frequently reflect interesting underlying structure in the data set @xmath231 .",
    "a number of applications have begun to appear in areas such as image processing @xcite and in the analysis of biological data @xcite .",
    "this section analyzes a number of musical pieces ( some contrived and some from various standard repertoires ) using persistent homology by turning raw musical data ( in this case , note - level midi data ) into a collection of points . using the appropriate distance measures ( [ eqn : distancerhy])-([eqn : distancecyc ] )",
    ", it is straightforward to calculate the distance between every pair of points in the data .",
    "the javaplex software @xcite , designed to `` calculate the persistent homology of finite simplicial complexes ... generated from point cloud data , '' can be used to calculate the barcodes for a given set of data .",
    "see section [ sec : pershomology ] for the basics of persistent homology , and how to read the barcodes .",
    "the input is a set of distances ( between all points in the point - cloud ) and the output is a set of plots that show the betti numbers as a function of the persistence parameter @xmath234 .",
    "the first example translates the `` ewe '' rhythm of figure [ fig : yoruba ] into the set of time points @xmath257 the distance is calculated between every pair of these time points under the necklace metric ( [ eqn : distancerhy ] ) , and this set of distances is the `` point cloud '' that is input into the javaplex software .",
    "the resulting barcodes are shown in figure [ fig : kingsstandardrhythm1d ] .",
    "barcodes for king s `` standard rhythm '' @xcite of figure [ fig : yoruba ] show the distribution of time intervals in the rhythm in the top ( dimension 0 ) plot and show the circular structure with betti numbers @xmath258 and @xmath259 in the bottom ( dimension 1 ) plot . using the distance function ( [ eqn : distancerhy ] ) ,",
    "the largest distance between elements is 0.5 , and the diameter of the space , homeomorphic to @xmath2 , is also 0.5 .",
    "[ fig : kingsstandardrhythm1d],title=\"fig:\",width=460 ]   varies .",
    "barcodes for king s `` standard rhythm '' @xcite of figure [ fig : yoruba ] show the distribution of time intervals in the rhythm in the top ( dimension 0 ) plot and show the circular structure with betti numbers @xmath258 and @xmath259 in the bottom ( dimension 1 ) plot . using the distance function ( [ eqn : distancerhy ] ) ,",
    "the largest distance between elements is 0.5 , and the diameter of the space , homeomorphic to @xmath2 , is also 0.5 .",
    "[ fig : kingsstandardrhythm1d],title=\"fig:\",width=460 ]    the dimension 0 barcode shows the clustering of the points in time . in the sequence ( [ eqn : ewerhy ] ) , the minimum distance is @xmath260 , and this occurs in two places , between the third and fourth elements of the set , and again between the 11th and the first elements .",
    "accordingly , the barcode shows two lines that vanish when @xmath234 reaches @xmath261 .",
    "since the largest distance between any two adjacent time points is @xmath262 , all the points merge into one cluster at @xmath263 . to see why this happens ,",
    "imagine that a balloon is placed around each of the small circles in figure [ fig : yoruba ] .",
    "when the radius of the balloon is small , each balloon is isolated and contains no other circles than the one at its center .",
    "but as the balloons are inflated ( which corresponds to increasing @xmath234 ) , the balloons around point @xmath4 and @xmath9 grow large enough to touch the points @xmath5 and @xmath264 .",
    "this is the radius at which the first two lines in the upper figure disappear , the points @xmath4 and @xmath5 are now encompassed by the same balloon ( and similarly for the points @xmath264 and @xmath9 ) .",
    "as the balloons inflate still further , they grow to include other points that are two time units apart ; at this size , all adjacent points are now connected .",
    "this situation is shown in the dimension 1 barcode which displays a persistent @xmath265 bar from @xmath266 .",
    "this is the anticipated cycle around the necklace . with @xmath258 and @xmath259 ,",
    "the complete structure is indeed the circle @xmath2 . while this is not surprising , it is useful to verify that the simulation method and the analysis agree .",
    "all three of the rhythms indicated in figure [ fig : yoruba ] have identical barcodes because the rhythms are circular shifts of each other and hence contain the same collection of rhythmic intervals .      to verify that the distance function ( [ eqn : distancepc ] ) makes sense , consider the @xmath15-major scale consisting of the eight notes @xmath267 with frequencies given starting at @xmath268 hz .",
    "the data is defined by a matrix of distances between all pairs of the eight notes using the pitch - class distance on @xmath22 .",
    "the resulting barcodes are shown in figure [ fig : majorscale ] .",
    "-major scale show seven distinct lines in the top ( one corresponding to each note ) for small @xmath234 .",
    "two half steps merge at @xmath269 and the whole steps merge at @xmath270 , at which point the circle @xmath2 with @xmath271 appears .",
    "the distance function used is ( [ eqn : distancepc ] ) and the diameter of the space @xmath2 is again 0.5 .",
    "[ fig : majorscale],title=\"fig:\",width=460 ] -major scale show seven distinct lines in the top ( one corresponding to each note ) for small @xmath234 .",
    "two half steps merge at @xmath269 and the whole steps merge at @xmath270 , at which point the circle @xmath2 with @xmath271 appears . the distance function used is ( [ eqn : distancepc ] ) and the diameter of the space @xmath2 is again 0.5 .",
    "[ fig : majorscale],title=\"fig:\",width=460 ]    these two plots are straightforward to interpret",
    ". when the size parameter @xmath234 is small , there are seven distinct notes .",
    "though we input eight notes , the high @xmath15 has exactly the same distances to all the other notes as the low @xmath15 under the pitch - class distance ( [ eqn : distancepc ] ) .",
    "since the distance from the high @xmath15 to the low @xmath15 is zero , the barcode merges these two tones even at @xmath272 .",
    "when @xmath234 reaches @xmath261 , the two half steps ( the intervals between @xmath43-@xmath90 and @xmath273-@xmath15 ) merge .",
    "when @xmath234 reaches @xmath262 , the five remaining connected components ( all the major seconds ) merge into one .",
    "thus @xmath274 for all greater @xmath234 . at @xmath275",
    ", the dimension 1 code shows a single component , which persists until @xmath276 .",
    "this @xmath277 feature is @xmath2 , and corresponds to the circular structure illustrated in figure [ fig : circle - of - notes ] .",
    "the input data for example of figure [ fig : majorscale ] was built specifically with the circular structure of figure [ fig : circle - of - notes ] in mind , so it is perhaps unsurprising that the circle appears .",
    "will such shapes appear in real music ?",
    "the website @xcite contains a large selection of traditional melodies , with most tunes available in both sheet music and as standard midi files .",
    "the musical score for `` abbott s bromley horn dance '' is shown in figure c1 and the corresponding barcodes are shown in figure [ fig : abbotts1d ] .",
    "the distance between note pairs is given by ( [ eqn : distancepc ] ) .    )",
    "show many of the same features as the major scale barcodes of figure [ fig : majorscale ] .",
    "the distribution of whole and half steps are clear from the @xmath278 code for small @xmath234 while @xmath2 appears again in @xmath265 for @xmath279 .",
    "[ fig : abbotts1d],title=\"fig:\",width=460 ] ) show many of the same features as the major scale barcodes of figure [ fig : majorscale ] .",
    "the distribution of whole and half steps are clear from the @xmath278 code for small @xmath234 while @xmath2 appears again in @xmath265 for @xmath279 .",
    "[ fig : abbotts1d],title=\"fig:\",width=460 ]    the top barcode in figure [ fig : abbotts1d ] shows eight lines , which correspond to the eight notes that appear in the score ( observe again the insensitivity to octave ) .",
    "four disappear at @xmath280 , which correspond to the four half steps ( @xmath281-@xmath90 , @xmath282-@xmath43 , @xmath273-@xmath15 , and @xmath283-@xmath282 ) .",
    "three more disappear at @xmath275 . along with the constant bar ,",
    "these correspond to the four whole steps ( @xmath43-@xmath281 , @xmath44-@xmath19 , @xmath19-@xmath273 , and @xmath15-@xmath283 ) .",
    "all of these join into one bar for all larger @xmath234 .",
    "the region @xmath279 is characterized by @xmath258 ( one connected component ) and @xmath259 , one circle .",
    "this is again the circular structure @xmath2 .",
    "in fact , all the melodies from the website @xcite show this same structure , though the number of half and whole steps changes to reflect the scale of the piece , and the exact extent of the @xmath284 region is somewhat variable .      while it might appear from the above examples that the analysis requires the pitches to be subsets of the semitones of the western equal - tempered scale",
    ", they can assume any possible values .",
    "the turkish makam tradition utilizes many tones / pitches that are distinct from the western pitches , and it is instructive to look at the bar codes for one such piece .",
    "a data base of 1700 makams available online @xcite contains midi and score data .",
    "about a hundred of the makams are from the mode ussak , and these were analyzed using the javaplex software .",
    "the barcodes for a typical example are presented in figure [ fig : ussak1d ] . like the western pieces , as @xmath234 increases , the pitches merge together .",
    "unlike the equal tempered pieces , however , there are many different intervals between various pitches and so the bars of the code merge together at somewhat staggered values ( rather than at one or two discrete @xmath234 values ) .",
    "nonetheless , the structure of the underlying space is revealed by the merging of all the pitches in the dimension zero barcode by @xmath285 and the emergence of the dimension 1 bar at about this same value .",
    "again , this represents the circular @xmath2 structure .    )",
    "show many of the same features as the barcodes of figure [ fig : abbotts1d ] , though some significant dissimilarities are also apparent .",
    "the occurrence of many different intervals is apparent in the staggered appearance of the dimension 0 barcode ( top ) .",
    "again , the circle appears in the bottom barcode for @xmath286 .",
    "[ fig : ussak1d],title=\"fig:\",width=460 ] ) show many of the same features as the barcodes of figure [ fig : abbotts1d ] , though some significant dissimilarities are also apparent .",
    "the occurrence of many different intervals is apparent in the staggered appearance of the dimension 0 barcode ( top ) .",
    "again , the circle appears in the bottom barcode for @xmath286 .",
    "[ fig : ussak1d],title=\"fig:\",width=460 ]      the analyses of figures [ fig : majorscale ] and [ fig : abbotts1d ] may be somewhat naive because they suppress temporal information in the melody .",
    "a time - delay embedding considers successive pairs ( or more ) of elements and so recovers some of the temporal relationships ; it is a common procedure in time series analysis .",
    "for this approach the appropriate distance function is ( [ eqn : distancepc ] ) .",
    "building a matrix of all such distances for `` abbott s bromley horn dance '' and calculating the barcodes gives figure [ fig : abbotts2d ] .     without the time - delay .",
    "the top picture shows the dimension 0 barcodes , the second shows the dimension - one barcodes , continuing through the dimension - four barcodes .",
    "the distance function ( [ eqn : distancepc ] ) is applied to each element of 2-vectors ( which consist of consecutive pairs of note values ) , and then summed .",
    "the topological space in which this is embedded is @xmath287 , the @xmath137 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath288 , which is close to the diameter of the complete space .",
    "[ fig : abbotts2d],title=\"fig:\",width=460 ]    without the time - delay .",
    "the top picture shows the dimension 0 barcodes , the second shows the dimension - one barcodes , continuing through the dimension - four barcodes . the distance function ( [ eqn : distancepc ] )",
    "is applied to each element of 2-vectors ( which consist of consecutive pairs of note values ) , and then summed .",
    "the topological space in which this is embedded is @xmath287 , the @xmath137 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath288 , which is close to the diameter of the complete space .",
    "[ fig : abbotts2d],title=\"fig:\",width=460 ]    without the time - delay .",
    "the top picture shows the dimension 0 barcodes , the second shows the dimension - one barcodes , continuing through the dimension - four barcodes .",
    "the distance function ( [ eqn : distancepc ] ) is applied to each element of 2-vectors ( which consist of consecutive pairs of note values ) , and then summed .",
    "the topological space in which this is embedded is @xmath287 , the @xmath137 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath288 , which is close to the diameter of the complete space .",
    "[ fig : abbotts2d],title=\"fig:\",width=460 ]    without the time - delay .",
    "the top picture shows the dimension 0 barcodes , the second shows the dimension - one barcodes , continuing through the dimension - four barcodes .",
    "the distance function ( [ eqn : distancepc ] ) is applied to each element of 2-vectors ( which consist of consecutive pairs of note values ) , and then summed . the topological space in which this is embedded",
    "is @xmath287 , the @xmath137 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath288 , which is close to the diameter of the complete space .",
    "[ fig : abbotts2d],title=\"fig:\",width=460 ]    without the time - delay .",
    "the top picture shows the dimension 0 barcodes , the second shows the dimension - one barcodes , continuing through the dimension - four barcodes .",
    "the distance function ( [ eqn : distancepc ] ) is applied to each element of 2-vectors ( which consist of consecutive pairs of note values ) , and then summed .",
    "the topological space in which this is embedded is @xmath287 , the @xmath137 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath288 , which is close to the diameter of the complete space .",
    "[ fig : abbotts2d],title=\"fig:\",width=460 ]    the dimension @xmath132 barcodes ( the top plot in figure [ fig : abbotts2d ] ) can be interpreted as showing the distances between consecutive pairs of notes as the melody progresses over time .",
    "thus there are 11 pairs of notes that are at a distance of one - half step , since 11 lines end at @xmath289 .",
    "there are 19 pairs that differ by a whole step since 19 lines end at @xmath263 . above this value ,",
    "all pairs have merged into a single connected component .",
    "this can be interpreted as saying that the melody progresses primarily by stepwise motion , and that no pairs of tones are isolated from any other pairs of tones ( though of course there are many individual pairs with larger distances ) .",
    "the dimension @xmath209 barcodes ( the second plot in figure [ fig : abbotts2d ] ) shows the number of independent circles present at each value of @xmath234 , the dimension @xmath153 barcodes ( the third plot ) show the number of closed oriented 2-cycles ( such as hollow spheres ) as a function of @xmath234 , and the dimension @xmath187 barcodes ( the bottom plot ) show the distribution of 4-cycles .",
    "for this example , the embedding space is the torus @xmath40 , as in example [ ex : orderedtuples ] .",
    "this is our first encounter with barcodes beyond the dimension of the underlying metric space , which is two for the space @xmath40 . in brief what we see",
    "is a decreasing number of bars ( as the dimension increases ) and the persistence intervals of these bars appears to shrink as the dimension increases .",
    "this is a typically - observed phenomenon with data that respects a simple distribution , like a gaussian @xcite .",
    "more precisely , what one typically sees in the barcodes of a gaussian field is a void supporting no homology in the centre of the distribution , while homology classes get sparser ( and higher dimensional ) as one approaches the void from the outside . in this case , there is one 1-dimensional homology class that persist over a fairly wide interval , indicating the data diverge somewhat from this expectation . in this case",
    "it is due to the relative diversity of two - note sequences starting with an @xmath43 , and the relative sparsity of other combinations",
    ".    the higher dimensional barcodes are few and have relatively short persistence intervals so they represent relatively insignificant features of the data .",
    "moreover , the fact that they represent cycles that can not exist in the parameter - space @xmath40 further indicates the idiosyncratic nature of these cycles .",
    "this is reinforced by analyses of other songs from the same set ( not shown here ) of 2d time - delay embeddings which have analogous ( but different ) groupings of higher order barcodes .",
    "longer temporal information can be incorporated by using longer time - delay embeddings .",
    "if a melody consists of a sequence of notes with pitches at @xmath32 , these can be combined into three - tuples ( a three - dimensional time - delay embedding ) by creating the sequence @xmath290 , @xmath291 , @xmath292 .",
    "the distances between such three - tuples can be calculated by adding the distances between the notes element - wise using the pitch - class distance .",
    "building a matrix of all such distances for `` abbott s bromley horn dance '' and calculating the barcodes gives figure c2 .",
    "again , it is straightforward to interpret the dimension @xmath132 barcodes as distances between three - tuples of notes in the melody .",
    "since the embedding here is @xmath293 by example [ ex : orderedtuples ] , the higher dimensional structures are again linked to the pieces being analyzed .",
    "a well known structure in music theory is the `` circle of fifths , '' shown here in figure [ fig : circle - of - fifths ] , which is taken from the wikipedia article of the same name @xcite .",
    "the circle of fifths is a standard way musicians and composers talk about the close relationships between musical scales and keys , and represents another way of interpreting the distance between musical chords and scales .",
    "the appropriate distance function is ( [ eqn : distancecc ] ) , and it is reasonable to ask if the circle of fifths can be recovered from a data analysis .    , width=288 ]    consider a progression that moves around the circle of fifths : @xmath15 major to @xmath44 major to @xmath283 major etc , all the way back to @xmath90 and finally @xmath15 .",
    "for the present example , each key is represented by its major scale , a seven note set of pitches .",
    "inputting these sets into javaplex and calculating the barcodes gives figure [ fig : circleoffifths ] . under the distance ( [ eqn : distancecc ] ) , scales that are a fifth apart ( such as @xmath15 major and @xmath44 major ) have a distance of @xmath261 .",
    "this explains the twelve lines that merge down to a single connected set at @xmath289 in the dimension @xmath132 ( top ) plot . for @xmath294",
    ", the dimension 1 barcode shows a single persistent bar ; this is precisely the circle of fifths .",
    "as shown in example [ ex : chordspace ] , the space in which scale ( and/or chord ) progressions lie is an @xmath0-fold symmetric product of the circle . as constructed in this section , the circle of fifths",
    "can then be interpreted as twelve points in @xmath295 .",
    "observe that the circular structure of figure [ fig : circle - of - fifths ] is not used in any way to draw the barcodes : rather , a set of scales ( along with a metric on those scales ) are the only inputs to the software .",
    "the barcodes then exhibit a structure that can be interpreted as identical to the circle .",
    "there are also some higher dimensional features for larger @xmath234 .",
    "the circle of fifths has dihedral symmetry  specifically , the symmetry group of a regular @xmath296-sided planar polygon ( a _ dodecagon _ ) .",
    "interestingly the metric is not that of a regular dodecagon . in this case , the distance function is like the seam of a baseball  stretching off course in places , then turning back later .",
    "precisely , the @xmath0-th and @xmath297-th note are within @xmath298 of each other _ for all @xmath0_. so the triple consisting of the @xmath0-th , @xmath297-th and @xmath299-th notes form a triangle in the vietoris - rips complex for each @xmath0 , provided @xmath300 , and they _ do not _ provided @xmath301 . since there are @xmath296 notes , that gives @xmath173 triangles being attached to the vietoris - rips complex near @xmath302 .",
    "attachment of any of these triangles removes the only @xmath303-class in the vietoris - rips complex for @xmath301 .",
    "this is because the generator of the @xmath303-class is the sum of the edges consisting of consecutive chords in the cyclic order of the circle of fifths .",
    "moreover , the edge consisting of the @xmath0-th note and the @xmath297-th note is readily computed to be a boundary .",
    "thus , all four of the triangles remove the same @xmath303-class from the chain complexes for @xmath301 , so the union of the four triangles not only removes the @xmath303-class but contributes three @xmath304-classes , via a direct meyer - vietoris argument .     in the dimension 1 plot . under the chord - class distance function ( [ eqn : distancecc ] ) the space is @xmath305 ( this is the @xmath306 case of example [ ex : chordspace ] ) and the total diameter of the space is 3.5 while the maximum distance between any two elements is 0.5 .",
    "[ fig : circleoffifths],title=\"fig:\",width=460 ]   in the dimension 1 plot . under the chord - class distance function ( [ eqn : distancecc ] )",
    "the space is @xmath305 ( this is the @xmath306 case of example [ ex : chordspace ] ) and the total diameter of the space is 3.5 while the maximum distance between any two elements is 0.5 .",
    "[ fig : circleoffifths],title=\"fig:\",width=460 ]   in the dimension 1 plot . under the chord - class distance function ( [ eqn : distancecc ] )",
    "the space is @xmath305 ( this is the @xmath306 case of example [ ex : chordspace ] ) and the total diameter of the space is 3.5 while the maximum distance between any two elements is 0.5 .",
    "[ fig : circleoffifths],title=\"fig:\",width=460 ]      the musical score to bach s chorale no .",
    "19 is shown in figure d1 .",
    "a midi file of this piece , from @xcite , is parsed to extract the four voices .",
    "the distances between all four - part chords are calculated according to the chord - class distance ( [ eqn : distancecc ] ) , and the results are input to the javaplex software in order to draw the barcodes , which are shown in figure d2 .",
    "the dimension 0 barcode shows a large number of chords that are separated by @xmath289 , a somewhat smaller number of chords that are separated by a distance of @xmath263 , and two chords separated by @xmath307 . above this value ,",
    "all chords merge into one connected component .    the dimension 1 barcode in figure d2 shows @xmath308 connected components and one circle @xmath309 for @xmath310 , and this structure then changes to @xmath258 and @xmath309 for @xmath311 .",
    "features such as these appear to be unique identifiers of the particular pieces , meaning that other bach chorales from the same data set have different betti numbers that occur over different ranges of @xmath234 .",
    "it is also easy to include temporal information with a time - delay embedding of the chords .",
    "some care must now be taken with the distance function since it is a mixture of the chord - class ( [ eqn : distancecc ] ) and the sum - of - elements distance useful in time - delay embeddings as in section [ timedelay1 ] and [ timedelay2 ] . to be explicit , suppose that a sequence of 3-note chords @xmath312 , @xmath313 , @xmath314 , @xmath315 is gathered into time - delay pairs to form 6-tuples @xmath316 , @xmath317 , @xmath318 .",
    "then the distance between pairs of such 6-tuples is the time - delay embedding distance @xmath319 observe that under this measure , the distance between notes within a single chord is measured differently from the distance between the same notes when they occur at different times .",
    "an example of the resulting barcodes is shown in figure c1 for a 2d time - delay embedding of 3-note chords .",
    "the barcode shows between several circles for @xmath234 in the region of 0.5 indicating some structure in the chord pattern .",
    "the underlying space is described in proposition [ prop : delaychords ] for the case of a @xmath320-term time - delay embedding of @xmath321-note chords .",
    "figure d3 shows the two - dimensional time - delay embedding of the bach s chorale no .",
    "19 , where the zero dimensional plot is interpreted directly in terms of the distribution of chord pairs and how they cluster under the chord - class distance .",
    "again , there is a collection of persistent @xmath265 circles and scattered entries in the dimension 2 and 3 barcodes .",
    "repetitive rhythmic patterns with period @xmath0 may be written in the timeline notation as elements of @xmath322 where each `` 1 '' represents the occurrence of a pulse and each `` 0 '' represents silence .",
    "for instance , the 16-beat _ clave son _ can be transcribed as @xmath323 table [ tab : afro - cuban ] shows a variety of afro - cuban rhythms each of which is the basis of a traditional or popular musical style . from a musical perspective",
    ", it is clear that some such rhythms can be thought of as `` more alike '' than others : they may be performed in similar musical styles , they may occur close together geographically , or there may be cultural ties between groups that prefer certain patterns over others .",
    "it is intuitively plausible that rhythms may be `` close together '' or `` far apart '' based on similarities and differences in the set of temporal intervals that define the rhythms .",
    "an appropriate notion of distance in this case is ( [ eqn : distancecyc ] ) , which considers all patterns related by a cyclic shift to be identical . in this case",
    ", the underlying ambient space would be @xmath324 , a space consisting of @xmath325-tuples that represent onset times in a temporal cycle .",
    "technically , the rhythm space should be the subspace of distinct @xmath325-tuples , but @xmath324 has the correct metric on this subspace so we create no special notation for this situation .",
    ".some afro - cuban rhythms [ cols=\"<,^,^,^,^,^,^,^,^,^,^,^,^,^,^,^,^ \" , ]     [ tab : afro - cuban ]    considering the six rhythmic patterns of table [ tab : afro - cuban ] as 6 points in the space , the barcode is shown in figure e1 .",
    "the lack of betti numbers for @xmath326 with @xmath327 is indicative of the underlying curiosity of this data as a metric space ",
    "the distance between the points is as if the points were the vertices of a graph with the distance being the _ metric graph _ distance .",
    "precisely , given a graph whose edges are labelled with positive numbers , the _",
    "metric distance _ between two vertices is the minimum ( over all paths ) of the sum of all edge lengths along a path from one point to the other . in this case",
    "it is a metric graph where all edges have length @xmath328 .",
    "see figure e2 .",
    "there are two main contributions of this paper .",
    "first , it augments the current state of the art in understanding the topological structure of musical spaces by presenting several new and expanded examples of distance functions and the spaces they imply .",
    "the techniques are drawn from classical topology , and may be readily applied to a wide variety of distance measures .",
    "the development emphasizes the importance that even small details of the distance function can have on the global structure of the space , and shows that ( generalized ) circles and discs appear frequently among the spaces because of the dual nature of the distance functions : the pitch - based distances measure proximity in absolute pitch and proximity after octave reduction , the temporal distances measure proximity in time and proximity in phase around the rhythmic cycle .",
    "the second contribution is the application of persistent homology to musical data .",
    "time - delay embeddings allow the method to exploit the time - dependent nature of musical data . using this tool ,",
    "the betti numbers ( and hence homology classes ) can be calculated directly from time - pitch data . to verify that the tool makes sense ,",
    "we have presented a number of cases where features are known and then verified that the topological analysis is able to recover those features using only the note - level data . as far as we know , this is the first time such a validation has been attempted . when looking at more complicated musical data , the results of the low dimension homology classes are usually easy to interpret . in contrast , the meaning of the higher - dimensional betti numbers is less clear . in part",
    "this is due to the developing nature of persistent homology as a field , and we suspect that once the persistent homology of gaussian fields is better understood , it will help in the understanding of barcodes such as those presented here",
    ".    1    catanzaro m. `` generalized _ tonnetze_. '' _ j math music , _ 2011;2:117139 .",
    "partch h. _ genesis of a music .",
    "_ new york : da capo press , 1974 .",
    "chew , e. `` the spiral array : an algorithm for determining key boundaries . '' in anagnostopoulou c , ferrand m , smaill a , editors . _ music and artificial intelligence - second international conference _ , icmai 2002 , edinburgh , scotland , uk , sept , 2002 .",
    "music visualization , http://en.wikipedia.org/wiki/music_visualization    lewin d. _ generalized musical intervals and transformations .",
    "_ new haven : yale university press ; 1987 .",
    "mazzola g. _ geometrie der tne_. birkhuser , 1990 .",
    "callender c , quinn i , tymoczko d. `` generalized chord spaces . ''",
    "presented at the john clough memorial conference , university of chicago , 9 july 2005 .",
    "callender c , quinn i , tymoczko d. `` generalized voice - leading spaces . '' _",
    "science_. 2008;320(5874):3460348 .",
    "buteau c , mazzola g. `` motivic analysis according to rudolph reti : formalization by a topological model . '' _ j. math . and music _ , 2008;2:117 - 134 .",
    "buteau c. `` motivic spaces of scores through rubatos melotoprubette '' . in : mazzola g , noll t ,",
    "lluis puebla e , editors . _",
    "perspectives in mathematical and computational music theory _ , osnabrck series on music and computation .",
    "osnabrck : electronic publishing osnabrck ; 2004;330342 .",
    "sethares w , budney r , `` electronic supplement to _ topology of musical data _",
    ", '' http://    saf al - din al - urmaw , _ kitb al - adwr _ 1252 , trans .",
    "r. erlanger in _ la musique arabe _ , paul geuthner , paris , 1938 .",
    "anku w. `` circles and time : a theory of structural organization of rhythm in african music . ''",
    "_ music theory online _ , 2000;6(1 ) .",
    "balzano l , ellenberg j. _ understanding persistent homology and plex using a networking dataset .",
    "king a. `` employments of the `` standard pattern '' in yoruba music . '' _ african music _ , 1961;2(3 ) .",
    "rahn j. _ basic atonal theory _",
    ", prentice - hall international , 1980 .",
    "carlsson g , zomorodian a , collins a , guibas l. _ persistence barcodes for shapes_. eurographics symposium on geometry processing . 2004 .",
    "kendal , d g. `` a survey of the statistical theory of shape . ''",
    "_ statistical science _ , 1989;4(2):87120 .",
    "morton h r. , _ symmetric products of the circle .",
    "1967;63:349352 .",
    "tymoczko d. `` the geometry of musical chords . '' _ science _ 2006;313(5783):7274 .",
    "tymoczko d. _ geometry of music _ , 2010 .",
    "tuffley c. _ finite subset spaces of @xmath68 _ , alg .",
    "topology 2002;2:11191145 .",
    "hatcher a. `` algebraic topology , '' cambridge university press , 2001 .",
    "nestke a. `` paradigmatic motivic analysis . '' in : mazzola g , noll t , lluis puebla e , editors .",
    "_ perspectives in mathematical and computational music theory _ , osnabrck series on music and computation .",
    "osnabrck : electronic publishing osnabrck ; 2004:343365 .",
    "mazzola , g. `` singular homology on hypergestures . ''",
    "_ j. math .",
    "music . _ 2012;6:4960 .",
    "carlsson g. `` topology and data , '' _ bulletin of the american mathematical society _",
    ", 2009;46(2):255308 .",
    "adler r j , bobrowski o , borman m s , subag e , weinberger s. _ persistent homology for random fields and complexes , _ institute of mathematical statistics , beachwood , ohio . 2010;124143 .",
    "singh g , memoli f , ishkhanov t , carlsson g , sapiro g , ringach d. `` topological structure of population activity in primary visual cortex . ''",
    "_ journal of vision _ , 2008;8(11):118 .",
    "javaplex , http://code.google.com/p/javaplex/    peterson c. `` traditional music . '' http://www.cpmusic.com/tradmus.html    m k. `` a turkish makam music symbolic database for music information retrieval : symbtr . ''",
    "_ proceedings of ismir_. 2012 .",
    "http://compmusic.upf.edu/node/140    circle of fifths , http://en.wikipedia.org/wiki/circle_of_fifths    classical midi archives , http://www.classicalarchives.com/",
    "this document is the electronic supplement for the article topology of musical data by sethares and budney .",
    "for the subgroup @xmath146 , @xmath147 represents the 3-note melody space .",
    "analogous to morton s study of symmetric products , this is homeomorphic to @xmath148 .",
    "this can be shown by recognizing that morton s bundle ( theorem [ mortonthm ] ) @xmath329 is trivial , and the fibre is a sphere . to see this , observe that a fundamental domain in figure [ fig : fundamentaldomain ] for the action of @xmath330 on @xmath126 is the quadrilateral with vertices @xmath331 , @xmath332 , @xmath333 and @xmath334 ( the red quadrilateral ) .",
    "the argument proceeds in two steps .",
    "first , @xmath335 is the dual of the hexagonal lattice ; it is the triangulation of the plane by equilateral triangles .",
    "take the hexagon centered at the origin , dual to the triangular lattice .",
    "this has vertices @xmath332 , @xmath333 together with their cyclic permutations ( given by the action of @xmath336 ) .",
    "accordingly , the fundamental domain of the @xmath330 is one third of the hexagon , the quadrilateral described above . within the red polygon",
    ", the two top edges are glued together by a translation - rotation , while the two bottom edges are glued together by a counter - clockwise @xmath337 rotation about the origin . from this perspective",
    "the fiber is naturally a triangulated @xmath338 , using precisely two triangles .",
    "the triangulation can be viewed as the union of two identical triangles along their common boundary .",
    "the monodromy has two fixed points ( the centres of the triangles ) and is rotation by @xmath339 at those fixed points .",
    "figure [ fig : fundamentaldomain ] shows a view ` down ' the @xmath126 plane in @xmath340 , viewed from the perspective of the @xmath341 axis .",
    "the green dots indicate the points lying outside the @xmath126 plane , while the black dots are in the @xmath126 plane .",
    "the red quadrilateral is the fundamental domain of the @xmath330 action on @xmath126 , while the union of the yellow and red polyhedrons is the fundamental domain for the action of @xmath342 on @xmath126 ( the hexagonal lattice ) .",
    "a section of the bundle is realized by all the @xmath187-note melodies where all three notes equally spaced ; these are the fixed - points of the monodromy @xmath343 above .",
    "there are two such natural sections : one where the three notes are cyclically increasing , and one where the notes are cyclically decreasing in pitch . since the bundle is trivial ,",
    "there are many other sections , but since the monodromy only has the two fixed points , no other sections are pitch - translates of a point in the fiber .",
    "this argument explains example [ ex : s1xs2 ] .",
    "[ tl][tl][1][0]@xmath91 [ tl][tl][1][0]@xmath344 [ tl][tl][1][0]@xmath345 [ tl][tl][1][0]@xmath346 [ tl][tl][1][0]@xmath347 [ tl][tl][1][0]@xmath348 [ tl][tl][1][0]@xmath349 [ tl][tl][1][0]@xmath350 [ tl][tl][1][0]@xmath351 [ tl][tl][1][0]@xmath352 [ tl][tl][1][0]@xmath353 [ tl][tl][1][0]@xmath349 , title=\"fig:\",width=226 ] , title=\"fig:\",width=188 ]",
    "a common way of representing the betti numbers of a space used in topology is called the poincar polynomial . given a space @xmath51 , the poincar polynomial is the function @xmath354 where @xmath219 is the @xmath202-th betti number of @xmath51 , i.e. @xmath355 . the poincar polynomial of a circle @xmath68 is @xmath356 since the only non - trivial homology groups are @xmath242 and @xmath303 , both are free abelian on one generator .",
    "similarly , for the @xmath0-sphere @xmath357 .",
    "a consequence of the knneth theorem is that the poincar polynomials of a product are the products of the poincar polynomials of the individual spaces .",
    "see @xcite for details of the knneth theorem and poincar polynomials .",
    "@xmath358 thus , in the case of theorem [ prop : delaychords ] , @xmath359 similarly , @xmath360    [ ex : symm4modz4 ] @xmath174 can be analyzed via its morton bundle .",
    "the fibre of the map @xmath361 is @xmath362 .",
    "let @xmath363 represent the standard basis vectors in @xmath364 .",
    "the lattice @xmath335 is generated by the set @xmath365 , which makes the vertices of a cuboctahedra .",
    "the tessellation of @xmath126 dual to this lattice is the rhombic dodecahedral tessellation .",
    "so a fundamental domain for the @xmath342-action on @xmath126 is the rhombic dodecahedron centred at the origin , such that the centres of the faces correspond to the set @xmath365 .",
    "the action of @xmath156 on the rhombic dodecahedron is given by rotation by @xmath366 about an axis through the origin and a vertex of valence @xmath173 , followed by the antipodal map .",
    "the fundamental domain of the @xmath367-action on @xmath126 is a parallepiped .",
    "this can be seen by expressing the rhombic dodecahedron as a union of @xmath173 isometric parallepipeds which @xmath156 permutes cyclically .",
    "the parallelepipeds correspond to the vertices of the regular tetrahedron vertices , the orthogonal projects of @xmath368 , in particular the intersection of the four parallelpipeds consists of only the origin .",
    "the identifications on the boundary of the parallelpiped folds two of the faces on themselves , and identifies two pairs of faces .",
    "this leaves the fiber with a cw - structure with @xmath173 @xmath132-cells , @xmath187 @xmath209-cells , @xmath153 @xmath187-cells and a single @xmath187-cell .",
    "the @xmath153-cell attaching maps are null , so the fiber has the homotopy - type of the wedge @xmath369 attach a @xmath187-cell via the sum of twice the characteristic maps of the @xmath153-spheres respectively .",
    "the result is the fibre @xmath362 has the homology groups @xmath370 , @xmath371 , @xmath372 and @xmath373 . in particular , @xmath374 is not a manifold . since non - torsion @xmath304 elements are in the image of the quotient map @xmath375 , the monodromy acts trivially on the homology of the fiber .",
    "so the homology groups of @xmath374 are isomorphic to that of a product bundle , @xmath370 , @xmath376 , @xmath372 , @xmath377 , and @xmath378 .",
    ", [ fig : abbotts2d ] , [ fig : abbotts3d ] , and [ fig : bromleyschords3d ] .",
    "[ fig : abbottssheet],width=460 ]    ) show a remarkable array of features that represent both the structure of the space and the structure of the individual piece .",
    "the dimension 0 plot is straightforward ( showing the number of melodic 3-tuples at each distance ) , the dimension 1 and 2 plots contain a fascinating collection of circles and higher dimensional analogs that persist over a nontrivial range of @xmath234 .",
    "the distance function is ( [ eqn : distancepc ] ) applied to each element of the 3-vector , and then summed .",
    "the topological space in which this is embedded is @xmath379 , the @xmath306 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath380 , which is close to the diamater 1.5 of the complete space .",
    "[ fig : abbotts3d],title=\"fig:\",width=460 ] ) show a remarkable array of features that represent both the structure of the space and the structure of the individual piece .",
    "the dimension 0 plot is straightforward ( showing the number of melodic 3-tuples at each distance ) , the dimension 1 and 2 plots contain a fascinating collection of circles and higher dimensional analogs that persist over a nontrivial range of @xmath234 .",
    "the distance function is ( [ eqn : distancepc ] ) applied to each element of the 3-vector , and then summed .",
    "the topological space in which this is embedded is @xmath379 , the @xmath306 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath380 , which is close to the diamater 1.5 of the complete space .",
    "[ fig : abbotts3d],title=\"fig:\",width=460 ] ) show a remarkable array of features that represent both the structure of the space and the structure of the individual piece .",
    "the dimension 0 plot is straightforward ( showing the number of melodic 3-tuples at each distance ) , the dimension 1 and 2 plots contain a fascinating collection of circles and higher dimensional analogs that persist over a nontrivial range of @xmath234 .",
    "the distance function is ( [ eqn : distancepc ] ) applied to each element of the 3-vector , and then summed .",
    "the topological space in which this is embedded is @xmath379 , the @xmath306 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath380 , which is close to the diamater 1.5 of the complete space .",
    "[ fig : abbotts3d],title=\"fig:\",width=460 ] ) show a remarkable array of features that represent both the structure of the space and the structure of the individual piece .",
    "the dimension 0 plot is straightforward ( showing the number of melodic 3-tuples at each distance ) , the dimension 1 and 2 plots contain a fascinating collection of circles and higher dimensional analogs that persist over a nontrivial range of @xmath234 .",
    "the distance function is ( [ eqn : distancepc ] ) applied to each element of the 3-vector , and then summed .",
    "the topological space in which this is embedded is @xmath379 , the @xmath306 case of example [ ex : orderedtuples ] .",
    "the maximum distance between elements of the performance is @xmath380 , which is close to the diamater 1.5 of the complete space .",
    "[ fig : abbotts3d],title=\"fig:\",width=460 ]    ) . under this distance ,",
    "the diamater of the space is 4.5 and the maximum distance between elements is 1.25 , suggesting that the data sits in a small ` ball ' and occupies only a small portion of the full space .",
    "[ fig : bromleyschords3d],title=\"fig:\",width=460 ] ) . under this distance ,",
    "the diamater of the space is 4.5 and the maximum distance between elements is 1.25 , suggesting that the data sits in a small ` ball ' and occupies only a small portion of the full space .",
    "[ fig : bromleyschords3d],title=\"fig:\",width=460 ]",
    "and [ fig : bachchorale19 - 2d ] .",
    "[ fig : bachchorale19],width=460 ]    ) .",
    "the space is the nonorientable bundle @xmath381 ( this is the @xmath382 case of example [ ex : chordspace ] ) and the total diamater of the space is 2.0 while the maximum distance between any two elements is 1.0 .",
    "this indicates that the data sits in a small ` ball ' and fills only a small percent of the full space of chords .",
    "[ fig : bachchorale19 - 1d],title=\"fig:\",width=460 ] ) .",
    "the space is the nonorientable bundle @xmath381 ( this is the @xmath382 case of example [ ex : chordspace ] ) and the total diamater of the space is 2.0 while the maximum distance between any two elements is 1.0 .",
    "this indicates that the data sits in a small ` ball ' and fills only a small percent of the full space of chords .",
    "[ fig : bachchorale19 - 1d],title=\"fig:\",width=460 ] ) .",
    "the space is the nonorientable bundle @xmath381 ( this is the @xmath382 case of example [ ex : chordspace ] ) and the total diamater of the space is 2.0 while the maximum distance between any two elements is 1.0 .",
    "this indicates that the data sits in a small ` ball ' and fills only a small percent of the full space of chords .",
    "[ fig : bachchorale19 - 1d],title=\"fig:\",width=460 ]    ) . according to proposition",
    "[ prop : delaychords ] with time delay @xmath320 and chord - size @xmath383 .",
    "the diameter of the space is @xmath173 and the maximum distance between elements is @xmath384 .",
    "[ fig : bachchorale19 - 2d],title=\"fig:\",width=460 ] ) . according to proposition",
    "[ prop : delaychords ] with time delay @xmath320 and chord - size @xmath383 .",
    "the diameter of the space is @xmath173 and the maximum distance between elements is @xmath384 .",
    "[ fig : bachchorale19 - 2d],title=\"fig:\",width=460 ] ) . according to proposition",
    "[ prop : delaychords ] with time delay @xmath320 and chord - size @xmath383 .",
    "the diameter of the space is @xmath173 and the maximum distance between elements is @xmath384 .",
    "[ fig : bachchorale19 - 2d],title=\"fig:\",width=460 ] ) . according to proposition",
    "[ prop : delaychords ] with time delay @xmath320 and chord - size @xmath383 .",
    "the diameter of the space is @xmath173 and the maximum distance between elements is @xmath384 .",
    "[ fig : bachchorale19 - 2d],title=\"fig:\",width=460 ]",
    "under the rhythm distance ( [ eqn : distancecyc ] ) . the max distance between elements",
    "is @xmath385 .",
    "[ fig : afro - cubanrhythms0],width=460 ]     [ tl][tl][1][0]bn [ tl][tl][1][0]g [ tl][tl][1][0]r [ tl][tl][1][0]sh [ tl][tl][1][0]cs [ tl][tl][1][0]so @xmath386{figures / metric_graph}\\ ] ]"
  ],
  "abstract_text": [
    "<S> the musical realm is a promising area in which to expect to find nontrivial topological structures . </S>",
    "<S> this paper describes several kinds of metrics on musical data , and explores the implications of these metrics in two ways : via techniques of classical topology where the metric space of all - possible musical data can be described explicitly , and via modern data - driven ideas of persistent homology which calculates the betti - number bar - codes of individual musical works . </S>",
    "<S> both analyses are able to recover three well known topological structures in music : the circularity of octave - reduced musical scales , the circle of fifths , and the rhythmic repetition of timelines . </S>",
    "<S> applications to a variety of musical works ( for example , folk music in the form of standard midi files ) are presented , and the bar codes show many interesting features . </S>",
    "<S> examples show that individual pieces may span the complete space ( in which case the classical and the data - driven analyses agree ) , or they may span only part of the space .    persistent homology , topological structure , metrics on musical data , melodic analysis , rhythm analysis , circle of fifths </S>"
  ]
}