{
  "article_text": [
    "in a @xmath1cdm universe , haloes grow hierarchically through mergers and gas cools in the centers of these haloes .",
    "the evolution of collisionless dark matter particles at large scales has been studied extensively at unprecedentedly high resolutions , given the meteoric rise in computational power and the relative simplicity of these simulations @xcite .",
    "the formation of cosmic structure on the scale of galaxies , however , has been incredibly difficult to model @xcite ; the difficulty arises primarily because baryonic physics at this scale is governed by a wide range of dissipative and/or nonlinear processes , some of which are poorly understood @xcite .",
    "dark matter plays an essential role in galaxy formation ; broadly speaking , dark matter haloes are ` cradles ' of galaxy formation .",
    "it is well - established that haloes grow hierarchically through mergers and gas cools in these haloes ; the evolution of galaxies , however , is dictated by a wide variety of baryonic processes that are discussed later in this paper . while baryonic physics plays a crucial role in the outcome of gaseous interactions , the story always starts with gravitational collapse .",
    "the connection between these two regimes ( i.e. the galaxy - halo connection ) is an important problem in modern cosmology .",
    "there are two prevalent techniques used to understand galaxy formation and evolution alongside n - body dark matter simulations : semi - analytical models ( hereafter , sam ) and simulations that include both hydrodynamics and gravity .",
    "the former is a post de facto technique that combines dark matter only simulations with approximate physical processes at the scale of a galaxy . for a general ,",
    "exhaustive review of the motivation of sams and a comparison of different sams , the reader is referred to @xcite and @xcite .",
    "n - body + hydrodynamical simulations ( hereafter , nbhs ) evolve baryonic components using fluid dynamics alongside regular dark matter evolution with subgrid models .",
    "the biggest advantage of nbhs over sams is the self - consistent way in which gaseous interactions are treated by the hydrodynamical codes . for a comparison of different hydrodynamical codes ,",
    "the reader is referred to @xcite .    in recent years , the number of hydrodynamical simulations that somewhat reproduce observed global galaxy properties",
    "has been on the rise @xcite .",
    "the rise has been due to the rapid increase in computational power .",
    "moreover , the subgrid models used in hydrodynamical simulations have been significantly improved for star formation @xcite , black hole formation , and accretion @xcite .",
    "lastly , the numerical techniques used in hydrodynamical simulations have gotten vastly more robust @xcite .",
    "another technique often used to create quick mock catalogs is subhalo abundance matching ( sham ) @xcite .",
    "sham assumes a monotonic relationship between the stellar mass of a galaxy and host dm halo s mass to populate a dark matter only simulation with galaxies .",
    "the similarities and the differences between sham and the techniques presented in this paper are presented in section [ disc ] .",
    "however , it must be noted that the computational costs associated with both nbhs and sam s are high ; illustris took a total of 19 million cpu hours to run and the largest eagle simulation took 4.5 million cpu hours @xcite .",
    "most sams , by construction , are meant to be significantly faster than nbhs ; however , they still require an appreciable amount of computational power .",
    "for example , consider the open source galacticus sam put forth in @xcite ; a halo of mass @xmath2 is evolved in around 2 seconds and a halo of mass @xmath3 is evolved in around 1.25 hours .",
    "a very rough order of magnitude estimate for about 500,000 dark matter haloes , with an average evolution time of approximately 2 minutes ( corresponding to about @xmath4 ) , implies the time taken for galacticus to build merger trees to @xmath5 is @xmath6 cpu hours .",
    "the inherent complexity of physical processes and the computational costs associated with a fully self - consistent treatment motivate a lot of the assumptions that sams make and the subgrid models employed in nbhs .    in @xcite ( hereafter referred to as k16 ) , we explored the application of supervised machine learning ( ml ) techniques to the problem of galaxy formation and evolution in the backdrop of sams .",
    "machine learning is a subfield of computer science that provides a platform to learn complex , non - trivial relationships in large data sets .",
    "ml has previously been applied to astronomy with considerable success @xcite . as shown in k16",
    ", ml enabled the inference of some complex physical phenomena and provided a unique and powerful framework to explore the connection between the dark matter regime ( large scale ) and the baryonic regime ( smaller , galaxy scales ) .    in this previous work ,",
    "the millennium simulation @xcite along with the @xcite sam was used to train a few ml algorithms @xcite to predict the total stellar mass , stellar mass in the bulge , the hot gas mass , cold gas mass , and the black hole mass .",
    "the results obtained were promising for the hot gas mass , stellar mass in the bulge , and the total stellar mass with regression scores ( @xmath7 ) of 0.99 , 0.77 , and 0.78 respectively ; the distributions for each of these masses , the bh mass - bulge mass relation , and the stellar mass - halo mass relation were also reproduced well .",
    "the cold gas mass prediction using solely dm inputs was less robust ( @xmath8 ) with severe underpredictions ; it was shown that the cold gas mass prediction was not robust because of ml s inability to pick up on the time evolution of the mass cooling ode prescribed in @xcite by itself .",
    "the analysis was repeated with the inclusion of the cooling radius and the hot gas mass ( two important ingredients in cooling ode ) over the last two snapshots and significantly better results were obtained ( @xmath9 ) .",
    "these promising results raise a very interesting question : can ml techniques reproduce a numerically and physically reasonable population of galaxies if trained on an n - body + hydrodynamical simulation ?",
    "furthermore , can we apply these trained ml algorithms to an n - body only simulation and reproduce a statistically reasonable population of galaxies that capture the essence of hydrodynamical simulations ( i.e. essentially mimic a hydrodynamical simulation in a dark matter only simulation ) ?",
    "furthermore , in k16 , we also discussed @xcite , where key processes were parametrized as a function of halo mass and redshift . in @xcite , the physics from an nbhs",
    "is extracted using the same technique and are used within a sam to explore whether a similar population of galaxies can be created .",
    "furthermore , in @xcite , an analytical model to capture the stellar , gas , and metal content of galaxies is presented .",
    "the promising results presented in both these papers combined with results from k16 place further confidence in the approach presented in this paper .    in this paper",
    ", we explore the feasibility of using ml to populate an hydrodynamical simulation . for our study",
    ", we use the illustris simulation presented in @xcite , and @xcite , one of the highest resolution and most ambitious n - body + hydrodynamical simulation attempted to date .",
    "the illustris simulation has been able to reproduce a wide variety of observed galaxy properties .",
    "we extract the internal dark matter halo properties from the public database @xcite and use the corresponding galaxy masses and star formation rate of each for our training and testing . to test the validity of our model , we make predictions at multiple epochs : @xmath10 . a key difference between this work and k16",
    "is the absence of merger tree history in the present work . we chose to exclude the merger history because we empirically found that their inclusion did not make a substantial difference to our results and excluding the merger history lets us train our algorithms very quickly ( down from hours to minutes ) .",
    "this work enables the exploration of some key questions in galaxy formation physics .",
    "how much information can be extracted from the dark matter substructures about the evolution of galaxies inside ? can similar populations of galaxies be reproduced in the case of nbhs where the physics employed is vastly more complicated ? can the approximate rules of galaxy formation be modeled by a machine to build a phenomenological model that is orders of magnitude quicker than traditional galaxy formation models ?    it must be emphasized here that no baryonic processes are included in our inputs and no explicit baryonic recipes are included in our model .",
    "our model is phenomenological ; it does not seek to replace existing galaxy formation models .",
    "instead , it serves as a powerful tool to explore the connection between dark matter haloes and their baryonic counterparts .",
    "the paper is organized as follows . in section [ db ] ,",
    "we discuss general details about the illustris simulation , the data extraction , the basics of machine learning , and the primary algorithms we used . in section [ rd ] , we present the results we obtained when the ml algorithms were applied to the illustris data . in section [ disc ] , we evaluate the effectiveness of our model , point out specific deficiencies in the results we obtained , and compare the ml simulated galaxies and the illustris galaxies . in section [ cl ] ,",
    "we conclude the paper with an extensive summary of our findings and a discussion of future work .",
    "in this section , we briefly discuss the data extraction from the set of illustris simulations and the ml algorithms that were used in our analyses .",
    "we discuss general details and briefly outline how key physical processes are handled in illustris .",
    "next , we briefly review the basics of ml and discuss the techniques that were employed in this work .",
    "finally , we discuss our reasons for choosing illustris .",
    "what follows is only a brief overview of the illustris simulations . for a thorough description of the physical models employed and the simulation code ,",
    "the reader is referred to the following papers : @xcite .",
    "the suite of illustris simulations uses the state - of - the - art hydrodynamical code arepo @xcite to evolve resolution elements in a box of size ( @xmath11 mpc)@xmath12 to @xmath5 .",
    "the cosmology employed in the simulations is consistent with wmap9 : @xmath13 , @xmath14 , @xmath15 , @xmath16 and @xmath17 , and the hubble constant is @xmath18 km s@xmath19 mpc@xmath19 .",
    "three different n - body + hydrodynamical simulations were ran : illustris-1 with @xmath20 particles , illustris-2 with @xmath21 particles and illustris-3 with @xmath22 particles .",
    "a set of n - body dark matter only simulations with the same number of particles were also ran with the same cosmology .",
    "hydrodynamical equations in the illustris simulation are solved using arepo , a novel quasi - lagrangian moving mesh code that uses voronoi cells .",
    "the mesh is used to solve the eulerian equations using finite volume techniques , while being completely galilean invariant .",
    "the gravitational forces are calculated using the standard treepm method @xcite , where short - range forces are calculated using a hierarchical octree algorithm and long - range forces are calculated using a particle mesh method .",
    "substructure in the illustris simulation is identified through two different algorithms : friends of friends ( fof ) @xcite and subfind @xcite .",
    "fof was applied to the snapshots with a linking length of 0.2 times the mean dark matter particle separation to find dark matter haloes , with at least 32 dark matter particles .",
    "the corresponding stellar , gas , and black hole elements are attached to the dark matter haloes as described in @xcite . to find gravitationally bound structures in the simulation , a modified version of subfind was used . at @xmath5 , 7,713,601",
    "fof groups were found with more than 32 particles and 4,366,546 subhaloes were identified @xcite .",
    "illustris includes the treatment of several key physical processes that shape ( quite literally , sometimes ) galaxy formation and evolution .",
    "the simulation includes treatments of gas cooling with self - shielding corrections , star formation , black hole seeding , black hole accretion , agn feedback ( thermal quasar - mode , thermal - mechanical radio mode , radiative feedback ) , supernovae feedback , stellar evolution with associated chemical enrichment , stellar mass loss , and star formation feedback .",
    "the fifteen or so free parameters that are related to the modeling of the subresolution processes are finely tuned to the history of the star formation rate history and the stellar mass function at @xmath5 .    due to the limited resolution of large nbhs , a subgrid treatment of star formation is required .",
    "like many previous simulations @xcite , the star formation recipe used in illustris is an effective equation of state , where stars form above a certain gas density of ( @xmath23 ) with a star formation time scale ( @xmath24 ) .",
    "the values used in illustris are : @xmath25 @xmath26 and @xmath27 gyr .",
    "the stochastic prescription for star formation follows the kennicutt - schmidt law and adopts a chabrier initial mass function .",
    "the cooling rate of gas in illustris is calculated as a function of gas density , temperature , metallicity , the radiation fields of agn , and the ionising background radiation from galaxies and quasars .",
    "the primordial cooling is calculated and combined with the cooling due to metals , by using cloudy @xcite .",
    "when a stellar particle is formed in the illustris simulation , it inherits the metallicity of the local gas .",
    "star particles slowly return mass to the interstellar medium to account for mass loss from aging stellar populations .",
    "stellar feedback is modelled through a wind scheme with a velocity scaling based on the local one - dimensional dark matter @xmath28 @xmath29 .",
    "every fof group above @xmath30 is seeded with a supermassive black hole with mass @xmath31 .",
    "illustris includes treatments for both quasar mode and radio mode feedback @xcite , depending on what the accretion rate is at a particular time .",
    "the mass accretion is defined by a bondi - hoyle - lyttleton based eddington - limited rate given by : @xmath32\\ ] ] a novel prescription for radiative agn feedback is implemented by assuming an average agn sed and a bolometric , luminosity - dependent scaling ; this model is further described in @xcite .    for this work",
    ", we extracted the subfind catalogs @xcite at four epochs : @xmath33 from http://illustris.org[`http://illustris.org ` ] . the following dark matter (",
    "sub)halo properties were used as the inputs to our ml algorithms : @xmath34 , @xmath35 , @xmath36 , @xmath37 , @xmath28 , @xmath38 , and @xmath39 .",
    "@xmath34 is the total mass of the subhalo , @xmath40 refers to the different components of the spin , @xmath28 denotes the velocity dispersion , @xmath38 is the maximum circular velocity in the subhalo , and @xmath39 is the number of dm particles bound to the subhalo .",
    "we use these to predict the following attributes that accumulate through cosmic time due to a wide range of processes : @xmath41 , @xmath42 , @xmath43 , @xmath44 , metallicity , and @xmath45 .",
    "@xmath41 is the total gas mass in the subhalo . to make our training and testing set , we pose two constrains : @xmath46 and @xmath47",
    "no minimum on the number of stellar particles was imposed to end up with a more dynamic range of masses ; the larger range enables us to apply results from a lower resolution simulation to a higher resolution simulation .",
    "the number of ( sub)haloes at @xmath10 are : @xmath48 and @xmath49 respectively .",
    "the training sample , @xmath50 of the catalog , was randomly chosen from the illustris simulation .",
    "the other @xmath51 was used for the testing and the comparisons shown in section [ gp ] .    in the growing climate of scientific reproducibility",
    ", we follow the trend of making all out data code available at : http://github.com/professorbrunner/ml-sims[`http://github.com/professorbrunner/ml-sims ` ] .      in this section ,",
    "we briefly discuss the basics of machine learning and we also provide the pseudocode for and briefly discuss the ml algorithm that performed the best in our analyses .",
    "machine learning is a popular field in computer science , with a wide variety of applications in a number of other areas .",
    "the basic idea of ml algorithms is to ` learn ' approximate relationships between the input data and the output data without any explicit analytical prescription being used .",
    "supervised learning techniques are provided some training data ( x , y ) and they try to learn the mapping",
    "g(x @xmath52 y ) in order to apply this mapping to the test data .",
    "machine learning has been applied to several subfields in astronomy with a lot of success ; see , for example , @xcite .",
    "a majority of the applications of ml in astronomy have either been in classification problems such as star - galaxy classification @xcite , galaxy morphology classification @xcite or have been regression applications like : photometric redshift estimation @xcite , estimation of stellar atmospheric parameters @xcite , and determining stellar labels from spectroscopic data @xcite .",
    "we use various statistics later in the paper to quantify the effectiveness of ml in predicting the galaxy properties .",
    "first , we use the standard mean squared error ( mse ) metric , which is defined as : @xmath53 here , @xmath54 is the @xmath55 value of the actual test set and @xmath56 is the @xmath55 value of the predicted set .",
    "furthermore , to quantify the effectiveness of the ml algorithms , we use the base mse ( @xmath57 ) defined as : @xmath58 here , @xmath59 is the mean of the training data set .",
    "@xmath57 is an extremely naive prediction of the error since each test point is simply predicted as the mean of the training dataset .",
    "the ratio of @xmath57 to @xmath60 is an indicator of the goodness of fit .",
    "the value of this fraction very much depends on the distribution of the quantity under consideration .",
    "if the mean is a good predictor for the quantity being considered , @xmath57 will be very low as well leading to a smaller ratio.our motivation in using this metric was supplementary ; the primary indicators of goodness of fit are @xmath7 and pearson correlation , which are defined below .",
    "we will also be using the following two metrics to check for the robustness of the prediction : the pearson correlation and the coefficient of determination ( ` regression score ' ) .",
    "the pearson correlation is written as : @xmath61 and @xmath7 as : @xmath62    @lcccccc    extremely randomized trees     + * inputs * : a training set @xmath63 corresponding to * @xmath64 * input - output vectors , where + * * x**=@xmath65 and * * y**=@xmath66 , m ( number of trees in the ensemble ) , + k ( number of random splits screened at each node ) and @xmath67 ( number of samples + required to split a node ) + * outputs * : an ensemble of m trees : @xmath68 + _ * step 1 * _ : randomly select @xmath69 inputs @xmath70 where @xmath71 .",
    "+ _ * step 2 * _ : for each selected input variable @xmath72 in @xmath73 : +  compute the minimal and maximal value of @xmath74 in the set : @xmath75 + and @xmath76 +  randomly select a cut - point @xmath77 in the interval [ @xmath75 , @xmath76 ] +  return the split in the interval @xmath79 + _ * step 3 * _ : select the best split @xmath80 such that score(@xmath80 , s ) = @xmath81 score(@xmath82 , s ) + * _ step 4 _ * : using @xmath80 , split @xmath63 into @xmath83 and @xmath84 + * _ step 5 _ * : for @xmath83 and @xmath84 , check the following conditions : +  @xmath85 or @xmath86 is lower than @xmath67 +  all input attributes @xmath65 are constant in @xmath85 or @xmath86 +  the output vector @xmath66 is constant in @xmath85 or @xmath86 + * _ step 6 _ * : if any of the conditions in step 5 are satisfied , stop .",
    "we re at a leaf node .",
    "+ if none of the conditions are satisfied , repeat steps 1 through 5 .",
    "+      the primary algorithm used in this work was extremely randomized trees @xcite ( ert ) .",
    "ert is an ensemble technique that build on a weak learner ( decision trees , in this case ) .",
    "the essence of ert is to build a large ensemble of regression trees where both the attribute and split - point choice are randomized while splitting a tree node .",
    "we provide pseudocode for the full algorithm in table [ symbols ] , which closely follows the algorithm outlined in @xcite . in the algorithm ,",
    "the score is the reduction in the variance .",
    "for the two subtrees @xmath87 and @xmath88 corresponding to the split @xmath80 , the score(@xmath80 , s ) , abbreviated to @xmath89 , is given by : @xmath90    the estimates produced by the @xmath91 trees in the ert ensemble are finally combined by averaging @xmath92 over all trees in the ensemble .",
    "the use of the original training data set in place of a bootstrap sample ( as is done for random forests ) is done to minimize bias in the prediction .",
    "furthermore , the use of both randomization and averaging is aimed at reducing the variance of the prediction @xcite .",
    "the added randomness corresponds to uncorrelated errors and mitigates bias in the predictions .",
    "we used the implementation of ert found in the python package , scikit - learn @xcite .",
    "in this section , we present our results of applying ml techniques to the illustris simulation .",
    "the following attributes are predicted at multiple epochs : gas mass , stellar mass , black hole mass , stellar mass inside the half - mass radius , star formation rate , metallicity , and @xmath0 color .",
    "we perform our analysis for @xmath33 and present our results in this paper for @xmath5 and @xmath93 .",
    "the rest can be found in the linked github repository .",
    "we also exclude the stellar half mass results as these are incredibly similar to the stellar mass results .",
    "the structure of this section is as follows . for each physical attribute that is predicted ,",
    "we provide a table summarizing some basic statistical quantities that are indicative of the goodness of fit at @xmath94 . @xmath57 and",
    "the @xmath60 are listed for each technique .",
    "the factor reduction of the @xmath60 is also listed to test the relative performance of the algorithms to quantify how much they are learning .",
    "finally , the pearson correlation between the predicted and the true data set and the coefficient of determination ( @xmath7 ) are also listed .",
    "we provide a hexbin plot ( on a log scale ) of the predicted quantity versus the quantity in illustris . for the hexbin plot ,",
    "a gridsize of 30 was used and the colormap was logarithmically scaled .",
    "a violinplot is also shown to compare the distributions of a particular physical attribute in illustris galaxies and the ml galaxies . to provide an object - by - object comparison , for both redshifts",
    ", a plot showing the number density of galaxies as a function of the attribute is shown for both the illustris and ml simulated galaxies and a plot showing the ratio of @xmath95 to @xmath96 is shown as a function of @xmath96 .",
    "we also provide , when appropriate , a plot showing how the ml and illustris galaxies follow a given observational constraint .      in table",
    "[ table2 ] and figures [ figure1 ] , [ f2 ] , and [ f23 ] , the results for the gas mass prediction are shown .",
    "there are several physical processes that play a role in how gas mass is accumulated through cosmic time .",
    "changes in the gas mass are driven by four key processes : gas cooling , cosmic accretion , feedback , and turning into stars and stars returning gas mass through gas recycling .",
    "as we can see in the two plots and the table provided , ml is able to approximate the combined effects of these processes reasonably well .    in figure",
    "[ f23 ] , the gas mass function for the illustris and the ml simulated galaxies at both @xmath5 and @xmath93 is shown alongside a binned plot of the fraction @xmath97 as a function of @xmath98 .",
    "the mass function plot shows that the ml prediction at both epochs matches up very well with the illustris galaxies .",
    "furthermore , the fraction plot serves as a good object - by - object comparison of the ml and illustris galaxies .",
    "the binned fraction plot shown in figure [ f23 ] shows high scatter at lower masses , which is consistent with what is shown in the hexbin plot , but shows an average value of @xmath99 for the ratio of @xmath100 to @xmath98 .",
    "the statistically consistent results ( from the hexbin plots ) along with the mass function and the fraction plots imply that the population of ml simulated galaxies is consistent with the population of illustris galaxies at both epochs .",
    ".gas mass statistics [ cols=\"<,^,^,^,^,^,^\",options=\"header \" , ]     the combined stellar mass mse was @xmath101 using all attributes .",
    "the results show that @xmath28 provides the tightest bound on @xmath42 , and @xmath40 does not contain as much information . in the second round , we can see that @xmath28 together with @xmath102 provides an even tighter bound on @xmath42 .",
    "overall , the most information about the stellar mass is contained in @xmath28 , @xmath102 , @xmath34 , and @xmath103 .",
    "these results are consistent with what was found in the feature importance section above .",
    "the low mse produced by just @xmath102 and @xmath28 suggests that these inputs get pretty close to reproducing the lowest recorded mse ( @xmath101 ) .",
    "the relatively simplistic forward feature selection study shows how many dm halo properties are needed to reproduce results from hydrodynamical simulations .",
    "a thorougher study that explores the effects on all galaxy attributes using a more sophisticated feature selection technique is a part of a future study .",
    "the results presented above show that machine learning techniques are able to reproduce a strikingly similar population of galaxies to a full - blown hydrodynamical simulation by using only important physical properties of the dark matter halo in which the galaxy resides .",
    "the following physical attributes were predicted for each galaxy : gas mass , stellar mass , black hole mass , sfr , stellar metallicity , and @xmath0 color .",
    "there are two central differences between this work and the results presented in k16 .",
    "first , we are using an n - body + hydrodynamical simulation where the baryonic physics employed is vastly more complicated and the treatment of physical processes is self - consistent .",
    "second , the merger history was not included in our analyses reducing the computation time to a matter of minutes .    in the results shown previously ,",
    "a wide variety of observed physical relationships are reproduced : the bh - bulge mass relation , the stellar mass - halo mass relation , sfr - stellar mass relation , ssfr - stellar mass relation , and color - stellar mass relation .",
    "the fact that these important observational constraints are consistent with the illustris galaxies is very promising .",
    "the reproduction of these relations is important because along with numerical and statistical robustness , the results show that the population of galaxies that is produced using ml is also physically consistent with the population of galaxies found in illustris .",
    "it is important to note here that our model is a purely phenomenological one . unlike shams",
    ", ml does not presuppose any relationship between the dark matter haloes and the galaxies residing in the haloes .",
    "ml , therefore , does not offer a replacement for sams or nbhs ; instead , it can be used as a tool to explore the halo - galaxy connection and could be used as an analysis tool to explore how different simulation physics influences structure formation in the universe .",
    "an interesting note here is the similarity between our model and the methodology of shams @xcite .",
    "both methods in question use physical halo properties to make statements about the properties of the galaxies that the haloes hold .",
    "a subtle , but important , distinction between the two methods must be made .",
    "shams a priori assume that a relationship between the dark matter halo and the galaxy residing in the halo exists but ml does not make this assumption . indeed , the reproduction of the smhm places confidence in the key assumption that most shams make : observable properties of galaxies are monotonically related to the dynamical properties of dark matter substructures . however , the ml technique is different from shams in several ways .",
    "first and foremost , ml is able to recover a wider variety of galaxy properties .",
    "second , ml , unlike shams , does not assume any relation between any galaxy / halo property .",
    "ml is , essentially , going in `` blind '' and trying to learn the relationships that already exist .",
    "furthermore , there is no fine - tuning involved .",
    "we would like to emphasize though that shams provide a more prescriptive understanding ( and are physically motivated ) as compared to ml s phenomenological nature and provide valuable physical insight that ml can not .",
    "we posit that ml could prove to be a useful analysis tool in the context of the future study of hydrodynamical simulations because of its ability , by construction , to mimic hydrodynamical simulations .",
    "the results obtained give a unique and powerful look into the halo - galaxy connection that is somewhat similar to that which we presented in k16 .",
    "we are able to quantitatively and qualitatively show that there is a surprisingly strong environmental halo dependence for galaxy formation and evolution .",
    "the key difference between this work and k16 is that the results obtained herein show that the results obtained in k16 are valid in the context of n - body + hydrodynamical simulations .",
    "furthermore , the computational costs associated with ml in the context of nbhs is miniscule .",
    "the full pipeline ( preprocessing , running ml algorithms and plotting ) took a total of 4 minutes for @xmath5 and 6 minutes for @xmath93 , making ml 2 - 4 orders of magnitude faster than sams and 3 - 6 orders of magnitude faster than nbhs .",
    "a recurring discrepancy that we find between our results and the results presented in illustris is the smaller scatter in our results ( i.e. a lower standard deviation in ml galaxies compared to the illustris galaxies ) .",
    "we believe that this is simply because of the lack of information .",
    "machine learning is not able to fully learn the combined effects of the physical processes underlying the accumulation of some of the attributes simply because there just is nt enough information in the underlying dark matter properties about an attribute .",
    "for instance , as shown in figure [ f18 ] , the scatter between illustris and the ml galaxies is very similar",
    ". we would perhaps expect this because the relation between stellar mass and halo properties has been extensively studied and is the basis of shams .",
    "however , the scatter between the ml and illustris galaxies is nt as similar for , say , the color - stellar mass relation .",
    "we argue that this is because ml algorithms are able to obtain only a limited amount of information about the color from the dm properties and are unable to perfectly fit the relation .",
    "therefore , given the scatter in ml for the smhm and the robust predictions for stellar mass , we are inclined to believe that the scatter is indeed physical but incomplete in some cases due to a lack of information in the dm properties about baryonic evolution .    however , the goal of this work is not to exactly model each physical process with high accuracy and produce a numerically identical set of galaxies ; instead , the goal is to explore the halo - galaxy connection in the backdrop of nbhs using a new technique and to evaluate how much information can be extracted from the dark matter properties about the eventual baryonic evolution of galaxies .",
    "the results shown in this work demonstrably show that a numerically , statistically , and physically robust population of galaxies is produced by ml when the algorithms are trained and tested on a robust n - body + hydrodynamical simulation . by",
    "physically robust , we mean that the combined effects of the physical processes that play a role in the evolution of one of the attributes above is at least approximately captured by ml algorithms .",
    "we believe that the ml simulated population of galaxies is physically robust for three reasons : statistical consistency with illustris , the reproduction of various mass functions , and the positive results obtained from an object - by - object comparison .",
    "we note that there is noticeable scatter in the object - by - object comparison , especially at lower masses ; however , the binned fraction plots demonstrably show that the ml recovered set of galaxies is , by and large , consistent with what is found in illustris .",
    "the relative simplicity , the computational efficiency , and the physically consistent population of galaxies that is produced cements ml as an invaluable analysis tool in future galaxy formation studies .",
    "our current approach does not replace any current galaxy formation models ; instead , the applicability of ml lies in supplementing , validating , and extending current models . in a forthcoming work",
    ", ml is used to train algorithms on an nbhs and applied to completely independent n - body only simulations to populate the n - body only simulations with galaxies by , essentially , mimicking an nbhs .",
    "however , these mock galaxy catalogs are created in the order of minutes .     for the simulated ml galaxies and illustris galaxies .",
    "both quantities are binned using the halo mass .",
    "the two different shadings ( blue for illustris and green for ml ) represent the standard deviation at each binned point.,width=317 ]     for the simulated ml galaxies and illustris galaxies .",
    "both quantities are binned using the halo mass .",
    "the two different shadings ( blue for illustris and green for ml ) represent the standard deviation at each binned point.,width=317 ]     at @xmath5 as a function of stellar mass for the simulated ml galaxies and illustris galaxies .",
    "both quantities are binned using the stellar mass .",
    "the two different shadings ( blue for illustris and green for ml ) represent the standard deviation at each binned point.,width=317 ]        another important point is the role of the subgrid models in n - body + hydrodynamical simulations .",
    "the subgrid models employed in illustris are fairly similar to the prescriptions used in sams .",
    "however , there are more free parameters in sams that can be fine - tuned better but lead to degeneracies .",
    "even though the method used to evolve physical quantities in hydrodynamical simulations is significantly more sophisticated , the same underlying physics helps explain why ml is successful at reproducing a physically reasonable population of galaxies .",
    "the success of ml in modeling galaxy formation is a statement on the ability of ml to infer these subgrid models and global observational constraints in the midst of hydrodynamical evolution .",
    "overall , the results presented in this paper and our previous work on sams quantitatively show that an appreciable amount of information about galactic formation and evolution can be extracted from dark matter substructures . by reproducing some fundamental observational constraints ,",
    "we show that ml is able to mimic a full - blown hydrodynamical simulation reasonably well , but 6 orders of magnitude faster .",
    "in this work , a variety of ml techniques were used to reconstruct a set of galaxies in an nbhs using solely the dm halo physical properties . using the illustris simulation to train and test the ml algorithms , the gas mass , stellar mass , bh mass , sfr , and @xmath0 are predicted .",
    "ml provides an incredibly unique and powerful framework for this particular problem for three reasons : simplicity of ml algorithms , computational efficiency of ml algorithms , and their ability to model incredibly complex relationships .",
    "the results shown in this work demonstrably show that a numerically , statistically and physically robust population of galaxies is produced by ml when the algorithms are trained and tested on an n - body + hydrodynamical simulation .",
    "our primary conclusions are as follows :    1 .",
    "exploring the extent of the influence of dark matter haloes and its environment on galaxy formation and evolution is a non - trivial problem with poorly defined inputs and mappings .",
    "the problem is even murkier in the backdrop of hydrodynamical simulations , where the evolution is vastly more sophisticated and self - consistent with fewer fine - tuned parameters .",
    "ml offers a powerful framework to explore this problem .",
    "2 .   using the illustris simulation , a few important physical properties of dark matter haloes were used to predict the gas mass , stellar mass , black hole mass , sfr , stellar metallicity , and @xmath0 color .",
    "no baryonic processes were explicitly included in our analysis .",
    "we used extremely randomized trees for our analyses .",
    "a remarkably similar population of galaxies is reconstructed when the ml algorithms are trained and tested on the illustris simulation .",
    "the individual physical attributes are generally predicted quite well with few discrepancies .",
    "the ml simulated galaxies match up with the illustris galaxies by following a variety of global constraints : the bh - bulge mass relation , the stellar mass - halo mass relation , sfr - stellar mass relation , ssfr - stellar mass relation , and color - stellar mass relation .",
    "4 .   a recurring , and important , discrepancy was the noticeably smaller scatter ( lower standard deviation ) for a given attribute in the ml galaxies compared to the illustris galaxies .",
    "we believe that this is simply because of the lack of information .",
    "machine learning is not able to fully learn the combined effects of the physical processes underlying the accumulation of some of the attributes simply because there just is nt enough information in the underlying dark matter properties about , say , the stellar metallicity .",
    "however , the goal of this work was not to construct a population of galaxies that is numerically identical . instead , the goal of this work goal was to evaluate how much information can be extracted from the dark matter only properties about the eventual baryonic evolution of galaxies . if the ml simulated galaxies are physically reasonable , which they are , then the approximate mapping found by ml between the dark matter halo properties and the galaxy properties solidifies ml s role in future galaxy formation studies .",
    "the conclusion is clear : ml is able to mimic how galaxies are evolved in an nbhs approximately well .",
    "furthermore , ml is able to recreate the population of galaxies in about 4 minutes in contrast to millions of hours , prompting its effectiveness in future galaxy formation studies .",
    "the success of ml algorithms at modeling galaxy formation reasonably well in an nbhs opens up a wide variety of avenues for future work .",
    "most notably , in a forthcoming work , we adopt this methodology to train an ml algorithm on illustris ( n - body + hydro ) and apply it to three separate n - body only simulations ( illustris - dark , bolshoi , and dark sky ) to mimic an nbhs to populate an n - body only simulation with galaxies in the order of minutes .",
    "the approach laid out in this work could help with the rapid creation of mock galaxy catalogs for upcoming surveys .",
    "we would like to thank the referee for useful comments that improved the presentation of our results .",
    "hmk and rjb acknowledge support from the national science foundation grant no .",
    "hmk has been supported in part by funding from the las honors council at the university of illinois and by the the office of student financial aid at the university of illinois .",
    "hmk also thanks support from the shodor foundation and blue waters .",
    "rjb has been supported in part by the center for advanced studies at the university of illinois .",
    "mjt is supported by the gordon and betty moore foundation s data - driven discovery initiative through grant gbmf4561 .",
    "the illustris-1 simulation was run on the curie supercomputer at cea / france as part of prace project ra0844 , and the supermuc computer at the leibniz computing centre , germany , as part of gcs - project pr85je .",
    "the further simulations were run on the harvard odyssey and cfa / itc clusters , the ranger and stampede supercomputers at the texas advanced computing center through xsede , and the kraken supercomputer at oak rridge national laboratory through xsede ."
  ],
  "abstract_text": [
    "<S> we extend a machine learning ( ml ) framework presented previously to model galaxy formation and evolution in a hierarchical universe using n - body + hydrodynamical simulations . in this work , we show that ml is a promising technique to study galaxy formation in the backdrop of a hydrodynamical simulation . </S>",
    "<S> we use the illustris simulation to train and test various sophisticated machine learning algorithms . by using only essential dark matter halo physical properties and no merger history , </S>",
    "<S> our model predicts the gas mass , stellar mass , black hole mass , star formation rate , @xmath0 color , and stellar metallicity fairly robustly . </S>",
    "<S> our results provide a unique and powerful phenomenological framework to explore the galaxy - halo connection that is built upon a solid hydrodynamical simulation . </S>",
    "<S> the promising reproduction of the listed galaxy properties demonstrably place ml as a promising and a signicantly more computationally efficient tool to study small - scale structure formation . </S>",
    "<S> we find that ml mimics a full - blown hydrodynamical simulation surprisingly well in a computation time of mere minutes . </S>",
    "<S> the population of galaxies simulated by ml , while not numerically identical to illustris , is statistically robust and physically consistent with illustris galaxies and follows the same fundamental observational constraints . </S>",
    "<S> machine learning offers an intriguing and promising technique to create quick mock galaxy catalogs in the future .    </S>",
    "<S> [ firstpage ]    galaxies : halo  galaxies : formation  galaxies : evolution  cosmology : theory  large - scale structure of universe </S>"
  ]
}