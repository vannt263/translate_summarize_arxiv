{
  "article_text": [
    "the local cohomology modules @xmath3 for finitely generated modules  @xmath0 over noetherian rings  @xmath1 have been studied for several decades .",
    "when @xmath4 is a maximal ideal of @xmath1 the local cohomology of  @xmath0 is fairly well - understood ( and reasonably well - behaved ) , but for general ideals  @xmath4 much less is known , and the behavior can be quite bad .",
    "for instance , hartshorne @xcite has shown that the bass numbers of  @xmath3 need not be finite for general  @xmath4 and  @xmath1 .",
    "recently , however , some progress has been made in special cases . when  @xmath1 is a regular local ring containing a field , lyubeznik  @xcite , and huneke and sharp  @xcite",
    "have shown that  @xmath3 has finite bass numbers . in the same spirit ( albeit by different techniques )",
    ", yanagawa  @xcite has shown that if  @xmath9 is the canonical module of a simplicial and normal semigroup ring and  @xmath4 is a monomial ideal , then  @xmath10 has finite bass numbers .",
    "our approach is a substantial generalization of that found in  @xcite .",
    "we consider a noetherian ring  @xmath1 graded by a semigroup  @xmath2 , and modules over  @xmath1 graded by  @xmath8 . in this setting",
    ", we introduce a functor called the _ ech hull _",
    "( section  [ sec : cech ] ) , which allows us to recover the full local cohomology of a finitely generated module  @xmath0 from the portion of the local cohomology that lies in those graded degrees which are elements of  @xmath2 ( section  [ sec : localcoh ] ) .",
    "this piece of the local cohomology is often easier to understand than the entire module ; in particular it is finitely generated when .",
    "using this fact we prove several finiteness results for the local cohomology of @xmath8-graded modules over semigroup rings ( section  [ sec : finiteness ] ) . in particular we show ( without cohen - macaulay hypotheses ) that when  @xmath6 is simplicial , @xmath3 has finite bass numbers .",
    "we also prove the converse , constructing a local cohomology module with infinite - dimensional socle when  @xmath6 is not simplicial ( section  [ sec : infinite ] ) .",
    "are polyhedral in nature , exploiting a new combinatorial structure , the _ essential set _ of a semigroup ( section  [ sec : essential ] ) . properties of the essential set govern the associated primes , and to some extent the module structure , of the local cohomology of the canonical module .",
    "let  @xmath2 be a cancellative , commutative semigroup , and  @xmath8 its grothendieck group , i.e.  the group obtained from @xmath2 by adjoining an inverse for every element .",
    "( the reader may safely assume for the purposes of this paper that @xmath2 is _",
    "affine_that is , a finitely generated submonoid of @xmath11 with @xmath12 ; indeed , we will make this assumption starting in section  [ sec : semigroups ] .",
    "however , we hope that the extra generality in this section and the next will be useful for more general semigroup gradings , such as those arising in the cox homogeneous coordinate rings of toric geometry @xcite . )",
    "we say a ring @xmath1 is _",
    "@xmath2-graded _ and an @xmath1-module @xmath0 is @xmath8-graded if we are given direct sum decompositions @xmath13 such that @xmath14 and @xmath15 .",
    "the category of @xmath8-graded modules is henceforth denoted by @xmath16 .",
    "a morphism @xmath17 in @xmath16 is a degree - preserving @xmath1-module homomorphism ; i.e.  a map  @xmath18 of @xmath1-modules such that @xmath19 .",
    "we denote by @xmath20 the @xmath21-module of such morphisms and by @xmath22 the @xmath8-graded @xmath1-module @xmath23 here , the @xmath8-graded @xmath1-module @xmath24 is the _ shift of @xmath25 by @xmath26 _ , defined by @xmath27 .    for a subset @xmath28 closed under the action of @xmath2",
    ", we define the _ @xmath29-graded part _",
    "@xmath30 to be @xmath31 we frequently consider the case in which @xmath32 for some @xmath33 . in particular , taking  @xmath34 yields the part of @xmath0 graded by elements of @xmath2 . taking @xmath29-graded parts is functorial and exact , for any @xmath29 .",
    "the theory we develop below revolves around the following question : to what extent can we recover a module @xmath0 from its @xmath2-graded part @xmath34 ? if @xmath0 is finitely generated , for example , then although we may not be able to get @xmath0 from @xmath34 , we can shift by some @xmath35 to get @xmath36 .",
    "therefore , the question is more meaningful for infinitely generated modules , such as the local cohomology modules of a finitely generated module .",
    "we will find that these belong to a certain class of modules that can be recovered from @xmath2-graded parts of other modules by a functor @xmath37 that we call the _ ech hull _ , as defined by the next result .",
    "the functor @xmath38 taking @xmath2-graded parts has a right adjoint @xmath37 ; that is , there exists a functor @xmath37 and natural isomorphisms @xmath39 for any @xmath40 .    given @xmath25",
    ", we explicitly construct @xmath41 by defining @xmath42 the multiplication maps @xmath43 are given by taking @xmath44 to @xmath45 .",
    "this is well - defined since multiplication by @xmath46 is a degree zero map @xmath47 .",
    "note that if @xmath35 then @xmath48 , so @xmath49 whence @xmath50 .",
    "therefore , given an element of @xmath51 , taking its @xmath2-graded part gives an element of @xmath52 .",
    "this last module is @xmath53 ( since degree zero maps from @xmath34 to @xmath25 must land in @xmath54 ) , so we have produced a natural map @xmath55 .",
    "conversely , if @xmath56 then for each @xmath57 we have a map @xmath58 this is well - defined since if @xmath59 and @xmath60 , then @xmath61 , so we can evaluate @xmath62 .",
    "we thus obtain a well - defined element of @xmath51 , whose @xmath2-graded part is just @xmath18 .",
    "this gives the natural inverse map for our bijection .",
    "it is clear by looking at the graded pieces of @xmath37 that it is left exact but not right exact , and that its derived functors are given in terms of @xmath5 modules ; that is @xmath63 since @xmath64 is supported on @xmath65 , both the ech hull and its derived functors depend only on the @xmath2-graded part of @xmath0 .",
    "[ rk : poly ] the ech hull was defined in @xcite for polynomial rings . in this case",
    "@xmath66 , @xmath67 $ ] , and @xmath68 where @xmath69 is obtained from @xmath26 by zeroing out the negative coordinates . thus our definition of @xmath37 agrees with the one in @xcite .",
    "note that the ech hull is exact in this case , since @xmath70 is free for all @xmath26 , so the @xmath5 modules that make up the graded pieces of @xmath71 vanish .",
    "[ ex : cech ] let @xmath72 be the semigroup generated by @xmath73,@xmath74 , and @xmath75 , so that @xmath76 is a lattice of index 2 . take @xmath77 $ ] , graded by @xmath2 . if @xmath78 , then @xmath79 and @xmath80 have the same parity . if @xmath79 and @xmath80 are even , or if @xmath79 and @xmath80 have the same sign , then @xmath64 is free . on the other hand ,",
    "if @xmath79 is odd and negative while @xmath80 is odd and positive , then @xmath64 is generated in degrees @xmath81 and @xmath82 .",
    "moreover , one has an exact sequence : @xmath83 splicing homological and graded shifts of this short exact sequence together gives a free resolution @xmath84 of @xmath64 such that @xmath85 . since @xmath2 is symmetric in @xmath79 and @xmath80 , a similar result holds with @xmath79 and @xmath80 reversed",
    ".    we now have free resolutions of @xmath64 for every @xmath33 , and we can use them to compute the cech hull and its derived functors . for instance , consider the module @xmath86 consisting of a single copy of the residue field @xmath87 , supported in a degree @xmath88 satisfying @xmath89 . then for @xmath90 , we find that @xmath91 is only nontrivial if @xmath92 . since equation  ( [ eqn : cech ] ) implies that @xmath93 it follows that @xmath94 .",
    "in contrast , @xmath95 for @xmath96 can only be nonzero in degrees @xmath26 for which @xmath79 and @xmath80 are odd and of differing sign , since @xmath64 is free otherwise .",
    "suppose we have such an @xmath26 , and let @xmath84 be the corresponding free resolution of @xmath26 constructed above .",
    "then @xmath97 is nonzero if ( and only if ) one of the generators of @xmath98 sits in degree @xmath88 . referring to the expression for the degrees of the @xmath98 in terms of @xmath26 ( and remembering that we assumed @xmath89 ) ,",
    "we find that @xmath99 is nonzero if and only if @xmath100 and @xmath101 or if @xmath102 and @xmath103 . in other words , @xmath104 vanishes except when @xmath105 . moreover , @xmath106 is supported in those degrees @xmath26 such that @xmath79 is odd and negative and @xmath103 , while @xmath107 is supported in those degrees @xmath26 such that @xmath79 is odd and negative and @xmath108 .    to summarize , when @xmath89 , we have :    * @xmath94 * @xmath109(-1,-v + u - 1)$ ] * @xmath110(-1,-v + u + 1)$ ]    and all other derived functors of @xmath37 vanish . here ,",
    "@xmath111 $ ] is the element corresponding to @xmath112 .",
    "in this section we study the interaction of the ech hull with the functor @xmath113 , which takes a module @xmath0 to the submodule annhilated elementwise by some power of the ideal @xmath4 .",
    "if @xmath4 is graded , then @xmath113 takes the category @xmath16 of @xmath8-graded modules to itself .",
    "[ prop : commute ] if @xmath1 is noetherian , then @xmath37 and @xmath113 commute : @xmath114 .",
    "henceforth we assume @xmath1 is noetherian .",
    "in proposition  [ prop : spectral ] we shall apply the spectral sequence of a composite functor to the functors @xmath115 and @xmath116 . in order to do this",
    "we use the fact that both @xmath113 and @xmath37 take injectives to injectives . for @xmath113",
    "this is standard ; for @xmath37 this follows from lemma  [ lemma : cj ] , whose extra precision is vital for section  [ sec : finiteness ] .",
    "[ lemma : cj ] let @xmath117 be an indecomposable injective in @xmath16 .",
    "then @xmath118 if @xmath119 , and @xmath120 otherwise",
    ". in particular , @xmath37 takes injectives to injectives .",
    "the first statement is clear , since @xmath37 depends only on the @xmath2-graded portion of a module .",
    "the last statement follows from the others , using the fact that every injective is a direct sum of indecomposable injectives ( this uses the noetherian hypothesis ) .    for the remaining statement , write @xmath121 for some prime @xmath122 of @xmath1 and @xmath112 .",
    "then @xmath123 is an essential submodule of @xmath117 , so since @xmath124 is nonzero , @xmath125 is nonzero .",
    "now @xmath125 is an essential submodule of @xmath123 ( since @xmath126 is an integral domain ) , so it is an essential submodule of @xmath117 .",
    "thus in particular @xmath124 is an essential submodule of @xmath117 .",
    "the inclusion @xmath127 induces a map @xmath128 , by the adjointness property of @xmath37 .",
    "moreover , @xmath129 is injective , since it restricts to the identity on the essential submodule @xmath124 .",
    "thus @xmath117 is a direct summand of @xmath130 , since @xmath117 is injective .",
    "we claim that @xmath130 is an essential extension of @xmath117 , from which the result follows immediately .",
    "let @xmath131 be a nonzero homogeneous element .",
    "then there is an @xmath132 such that @xmath133 is nonzero , and then @xmath134 is a nonzero element of @xmath124 .",
    "thus @xmath130 is an essential extension of @xmath124 and hence of @xmath117 as well .",
    "[ prop : spectral ] let @xmath0 be a graded @xmath1-module .",
    "there are spectral sequences @xmath135 and @xmath136 described by @xmath137    these are spectral sequences for the composite functors @xmath138 and @xmath115 @xcite , using proposition  [ prop : commute ] along with lemma  [ lemma : cj ] and the fact that @xmath113 takes injectives to injectives .",
    "[ ex : poly ] we return to the case of remark  [ rk : poly ] ; that is , @xmath139 $ ] . here",
    "@xmath37 is exact , and so the spectral sequences @xmath135 and @xmath136 both collapse .",
    "the proposition simply says that @xmath140 .",
    "the right derived functors of the ech hull measure the degree to which this equality fails in other rings .    ultimately , the goal of this section is theorem  [ thm : spectral ] , which describes how the local cohomology modules of @xmath0 can be reconstructed from a finite collection of submodules thereof , using the ech hull and its derived functors . after a choosing a certain @xmath112 ,",
    "this is accomplished by a spectral sequence @xmath141 that only depends on the ( finitely generated ) @xmath2-graded parts of the local cohomology modules of @xmath142 , since @xmath143 depends only on the @xmath2-graded part of @xmath144 .    for this approach to work",
    ", we of course need @xmath145 to be a local cohomology module . to this end",
    ", we use the spectral sequence @xmath136 .",
    "although the filtration that arises from @xmath136 is generally nontrivial , we avoid this nuisance by replacing @xmath0 with a suitable @xmath8-graded shift , forcing @xmath146 to collapse in low cohomological degree .",
    "we find this suitable shift in corollary  [ cor : shift ] using proposition  [ prop : pinnacle ] , which is interesting in its own right .",
    "[ prop : pinnacle ] let @xmath147 be a minimal injective resolution of a finitely generated module @xmath148 . let @xmath122 be a homogeneous prime of @xmath1 , let @xmath149 be a homogeneous maximal ideal containing @xmath122 , and let @xmath150 .",
    "if every indecomposable summand of @xmath151 has nonzero @xmath2-graded part , then every indecomposable summand of @xmath152 isomorphic to a shift of @xmath153 has nonzero @xmath2-graded part .",
    "inverting all homogeneous elements outside @xmath149 fixes all shifts of @xmath153 as well as @xmath154 , so we assume henceforth that @xmath149 is the unique maximal homogeneous ideal of @xmath1 .",
    "we begin with the case @xmath155 . using @xmath156 to denote the localization by all homogeneous elements outside of @xmath122 , it is a standard fact ( in @xcite , for instance ) that @xmath157 is an essential extension .",
    "therefore , we need only show that every indecomposable submodule of the free @xmath158-module @xmath159 has nonzero @xmath2-graded part .",
    "choose a homogeneous element @xmath160 , and define @xmath161 by the exact sequence @xmath162 where @xmath163 is multiplication by @xmath79 .",
    "the long exact sequence for @xmath164 provides a right exact sequence @xmath165 for the appropriate submodule @xmath166 .",
    "tensoring with @xmath167 yields an isomorphism @xmath168 since multiplication by @xmath79 becomes the zero map .",
    "nakayama s lemma implies that @xmath169 , and hence @xmath159 , is generated by elements in degrees @xmath170 such that @xmath171 .",
    "now @xmath172 is the @xmath173 cohomology of the complex @xmath174 , whose socle subcomplex @xmath175 ( the inclusion being induced by the surjection @xmath176 ) is equal to @xmath177 .",
    "the hypothesis on @xmath178 in the proposition implies that @xmath179 must in fact equal its @xmath2-graded part .",
    "given any degree @xmath170 for which @xmath180 , we therefore can find a homogeneous element @xmath132 such that @xmath181 .",
    "note that @xmath122 annihilates @xmath161 and hence also @xmath182 , so we can always find our element @xmath183 outside of @xmath122 .",
    "when we invert @xmath183 to form the localization @xmath159 , any generator @xmath80 in degree @xmath184 can be replaced by the generator @xmath185 whose degree is in @xmath2 .",
    "this concludes the case where @xmath155 .",
    "the general case proceeds by induction on @xmath186 , replacing @xmath1 with its homogeneous localization at a prime containing @xmath122 and having dimension @xmath187 .",
    "recall that the _ bass number _ of a module @xmath0 at the prime @xmath122 in cohomological degree @xmath188 is the number of indecomposable summands isomorphic to a shift of @xmath153 appearing at the @xmath189 stage in any minimal injective resolution of @xmath0 .",
    "these numbers are always finite if @xmath0 is finitely generated , but may in general be infinite .",
    "[ cor : shift ] suppose @xmath1 has a unique maximal homogeneous ideal @xmath149 .",
    "let @xmath148 be a finitely generated @xmath1-module , and @xmath190 be a positive integer .",
    "then there exists @xmath112 such that for all @xmath191 ,    1 .",
    "@xmath192 , and 2 .",
    "@xmath193 if @xmath194    since @xmath0 is finitely generated , the bass numbers of @xmath0 at @xmath149 are finite .",
    "thus @xmath154 is a finite direct sum of indecomposables for each @xmath195 .",
    "these can be moved to have nonzero @xmath2-graded part by some shift @xmath196 .",
    "lemma  [ lemma : cj ] and proposition  [ prop : pinnacle ] together then imply that @xmath37 fixes @xmath197 in cohomological degree @xmath190 and less for all @xmath191 .",
    "[ remark : shift ] if @xmath1 is a ring with only finitely many homogeneous primes ( e.g.  a semigroup ring ) , then the conclusion of corollary  [ cor : shift ] holds for any @xmath0 with finite bass numbers , as then @xmath0 has an injective resolution with finitely many summands in each cohomological  degree .",
    "[ ex : can ] let @xmath198 be a finitely generated semigroup , and let @xmath199 $ ] , graded by @xmath2 .",
    "ishida @xcite constructed a dualizing complex for @xmath1 , in which each indecomposable injective appears without shift .",
    "when @xmath1 is cohen - macaulay , this is an injective resolution of the canonical module @xmath200 that is fixed by the ech hull .",
    "hence corollary  [ cor : shift ] holds for @xmath200 with @xmath201 .",
    "it follows that for @xmath202 we have @xmath203 so @xmath204 converges to @xmath205 .",
    "thus @xmath206 likewise converges to a filtration of @xmath205 .",
    "we will use this fact in the next section ( proposition  [ prop : canonical ] ) to compute @xmath205 for @xmath4 prime .",
    "the phenomenon predicted by corollary  [ cor : shift ] is clearly illustrated in example  [ ex : cech ] : as @xmath207 and @xmath208 increase , the derived functors of @xmath209 in positive cohomological degrees @xmath210 vanish .",
    "[ thm : spectral ] suppose @xmath1 has a unique homogeneous maximal ideal .",
    "let @xmath0 be a finitely generated @xmath1-module , and @xmath190 be a positive integer .",
    "then there exists @xmath112 such that for all @xmath211 , the spectral sequence @xmath212 converges to a local cohomology module for @xmath213 .",
    "choose @xmath26 as in corollary  [ cor : shift ] .",
    "then for all @xmath191 , @xmath214 hence if @xmath213 , @xmath215 .",
    "since @xmath216 converges to the former by proposition  [ prop : spectral ] , the result follows .",
    "injective resolutions are rarely finite , so no matter which @xmath26 is chosen in theorem  [ thm : spectral ] , @xmath136 really can converge to something other than @xmath217 in large cohomological degrees .",
    "for example , if we take @xmath2 , @xmath1 , and @xmath86 as in example  [ ex : cech ] , then @xmath218 vanishes for @xmath219 and any @xmath4 . on the other hand",
    ", we have @xmath220 for @xmath221 and @xmath222 nonzero for @xmath223 , so the nonvanishing derived functors of @xmath37 cause @xmath224 to fail to converge to local cohomology in these degrees .",
    "however , since @xmath217 vanishes in sufficiently high cohomological degrees , choosing @xmath190 large in the theorem does show how the collection of @xmath2-graded parts @xmath225 for all @xmath226 determine the entire local cohomology modules . as we shall see in section  [ sec : semigroups ] , the @xmath2-graded portion of a local cohomology module is often much easier to understand than the local cohomology module itself .",
    "one of the ways of understanding local cohomology @xmath227 in terms of finitely generated modules is by taking limits ( over @xmath228 ) of modules @xmath229 .",
    "unfortunately , these limits are frequently quite badly behaved ( see @xcite , for example ) . here , we bypass them entirely , in the case where @xmath199 $ ] is an affine semigroup algebra over a field @xmath87 , by constructing the graded pieces of @xmath230 in terms of the derived functors @xmath231 of @xmath232 for a _ single fixed _",
    "@xmath228 , using theorem  [ thm : spectral ] .",
    "in order for this to work , we need to know what the @xmath2-graded part of local cohomology looks like .",
    "in sections  [ sec : semigroups][sec : infinite ] , we set @xmath77 $ ] , an affine semigroup algebra graded by @xmath233 , which is not assumed normal . such a ring satisfies the hypotheses of corollary  [ cor : shift ] , so that all of the machinery of the previous sections applies . for @xmath7",
    "$ ] we also have a simpler expression for the ech hull . in what follows ,",
    "@xmath2 is viewed as contained in @xmath7 $ ] via @xmath234 .",
    "[ prop : cechsemigroup ] when @xmath77 $ ] and @xmath148 , we have @xmath235 .",
    "if @xmath35 , we have a commutative diagram : @xmath236 where the vertical arrows are isomorphisms and the bottom arrow is induced by the inclusion of @xmath237 in @xmath238 .    by definition ,",
    "@xmath239 multiplication by @xmath240 induces an injection @xmath241 ; this is an isomorphism since both of these modules are supported in the same degrees .",
    "moreover , one has the following commutative diagram : @xmath242 from which the rest of the proposition follows immediately .",
    "[ lemma : ext ] let @xmath243 be an indecomposable injective , and @xmath4 an ideal of  @xmath1",
    ". there exists @xmath244 such that for all @xmath245 , @xmath246    suppose @xmath4 is not contained in @xmath122 .",
    "then some element of @xmath4 acts as a unit on @xmath126 , so @xmath247 and the result is trivial .",
    "thus it suffices to show this result for @xmath4 contained in @xmath122 . in this case @xmath248 , so it suffices to show that @xmath249 ; i.e.  that every element of @xmath124 is killed by @xmath250",
    ".    let @xmath251 be a linear functional that takes nonnegative values on @xmath2 , such that if @xmath252 , then @xmath253 .",
    "then @xmath153 is supported in those degrees @xmath254 such that @xmath255 .",
    "thus @xmath117 is supported in those degrees @xmath254 such that @xmath256 .",
    "suppose @xmath245 .",
    "let @xmath257 and @xmath258 be nonzero homogeneous elements of degrees @xmath259 and @xmath186 , respectively .",
    "then @xmath260 because @xmath252 and @xmath261 because @xmath262 .",
    "thus @xmath263 lies in degree @xmath264 and @xmath265 , so @xmath266 , as required .",
    "now we can apply the lemma to describe @xmath2-graded parts of local cohomology .",
    "[ prop : ext ] let @xmath148 be finitely generated , and @xmath4 be a graded ideal of @xmath1 . fix a nonnegative integer @xmath188 .",
    "then there exists @xmath267 such that for any @xmath268 , @xmath269    let @xmath147 be an injective resolution for @xmath0 , and choose @xmath270 sufficiently large that @xmath271 agree for every @xmath268 and every inedecomposable injective summand @xmath25 appearing in cohomological degree @xmath188 or lower in @xmath147 .",
    "then the first @xmath188 right derived functors of @xmath272 and @xmath273 agree on @xmath0 ; since @xmath274 is exact this means @xmath275 .",
    "[ ex : can ] if @xmath2 is saturated and @xmath276 then the power of @xmath4 in proposition  [ prop : ext ] can be set equal to @xmath277 ; i.e. @xmath278 since the indecomposable summands of the injective resolution of @xmath200 are unshifted  @xmath153 s .",
    "[ cor : qfinite ] if @xmath148 is finitely generated , @xmath279 is finitely generated .",
    "[ cor : cechfinite ] let @xmath148 be finitely generated .",
    "then @xmath3 has a finitely generated essential submodule if and only if for some @xmath280 the natural map @xmath281 is an injection .",
    "suppose @xmath3 has a finitely generated essential submodule @xmath25",
    ". then we can shift @xmath25 so that all of its generators have degrees in @xmath2 ; i.e.  there exists @xmath254 such that @xmath282 . since the map @xmath283 is injective on its @xmath2-graded part , it is injective on @xmath284 ; since @xmath284 is essential the map is injective everywhere .",
    "conversely , @xmath285 is an essential submodule of @xmath286 and hence of @xmath287 . by corollary  [ cor : qfinite ]",
    "it is finitely generated .",
    "the upshot of the above is that since the spectral sequence @xmath135 depends only on the @xmath2-graded parts of the local cohomology modules which appear in it , we can just replace these local cohomology modules with the corresponding @xmath288-modules .    [",
    "thm : extspectral ] let @xmath0 be a finitely generated module over @xmath67 $ ] , and @xmath190 be a positive integer",
    ". then there exists @xmath112 such that for all @xmath191 , there exists @xmath289 making the spectral sequence @xmath290 converge to a local cohomology module for @xmath213 . taking degree @xmath184 parts for any @xmath291 yields a spectral sequence of iterated ext modules , @xmath292    this is immediate from theorem  [ thm : spectral ] and proposition  [ prop : ext ] .",
    "[ ex : poly2 ] returning to the setting of example  [ ex : poly ] , we find using this theorem that if @xmath0 is a @xmath11-graded module over a polynomial ring in @xmath293 variables and @xmath4 is a monomial ideal , then there exist @xmath289 and @xmath294 such that @xmath295 .",
    "this generalizes a result proved independently by musta @xcite and terai @xcite .",
    "for saturated @xmath2 , theorem  [ thm : extspectral ] takes an especially nice form for canonical modules . recall that a _ face _ of @xmath2 is the set of degrees of elements outside a prime ideal of @xmath1 .",
    "[ prop : canonical ] suppose @xmath1 is normal and of dimension  @xmath293 .",
    "let @xmath122 be a prime of @xmath1 , corresponding to an @xmath190-dimensional face of @xmath2",
    ". then @xmath296",
    ".    @xmath297 by example  [ ex : can ] and theorem  [ thm : extspectral ] .",
    "since @xmath126 is a dimension  @xmath190 cohen - macaulay quotient of the cohen - macaulay ring @xmath1 of dimension  @xmath293 , the module @xmath298 is nonzero only when @xmath299 , in which case it is @xmath300 .",
    "thus the spectral sequence degenerates , and @xmath301 .",
    "[ ex : har ] let @xmath2 be the semigroup on four generators @xmath302 and one relation @xmath303 , and @xmath77 $ ] . in @xcite",
    ", hartshorne shows that for the ideal @xmath304 , the local cohomology module @xmath305 has a finitely generated essential submodule while @xmath306 has an infinite dimensional socle , supported in degrees @xmath307 for @xmath308 .",
    "this is consistent with proposition  [ prop : canonical ] , which says that infinite - dimensional socles must arise from a nonvanishing higher derived functor of the ech hull .",
    "see section  [ sec : infinite ] for a combinatorial explanation of why this bad behavior occurs , in the context of its generalization to arbitrary affine semigroup rings .",
    "letting @xmath233 be affine as in the previous section , the above machinery allows us to make strong statements about local cohomology over @xmath77 $ ] . indeed , the fact that local cohomology modules `` come from '' the derived functors of the ech hull forces certain structure on them .",
    "this structure is codified in the notion of a _ straight _",
    "module , a common generalization of notions due to miller @xcite ( who defined _ @xmath309-determined modules _ over a polynomial ring for @xmath310 ) and yanagawa @xcite ( who defined straightness for a restrictive class of modules over semigroup rings ) .",
    "one obtains from theorem  [ thm : extspectral ] that local cohomology modules over semigroup rings are straight when shifted appropriately . over a simplicial ( and not necessarily normal )",
    "semigroup ring this forces them to have finite bass numbers ( theorem  [ thm : finite ] ) .",
    "the key to all this is the following definition .    _",
    "[ defn : straight ] let @xmath233 be affine and @xmath311 $ ]",
    ". the category @xmath312 of _ straight _",
    "@xmath1-modules is the smallest subcategory of the @xmath8-graded modules @xmath16 such that ( 1 ) all indecomposable injectives @xmath117 satisfying @xmath313 are in @xmath312 ; ( 2 ) finite direct sums of modules in @xmath312 are in @xmath312 ; and ( 3 ) if @xmath129 is a homomorphism of straight modules , then @xmath314 and @xmath315 are straight .",
    "_    [ prop : cechstraight ] let @xmath148 be finitely generated",
    ". then @xmath316 is straight .    by definition ,",
    "a finite direct sum of straight modules is straight .",
    "thus if @xmath317 is a complex of finite direct sums of indecomposable injectives , and each indecomposable injective in @xmath317 has nontrivial @xmath2-graded part , then @xmath317 is a complex of straight modules , and the cohomology of @xmath317 is straight .",
    "in particular , if @xmath318 is the ech hull of an injective resolution @xmath147 of @xmath0 , then @xmath319 is a complex of straight modules by lemma  [ lemma : cj ] .",
    "thus its cohomology is straight , as required .",
    "[ cor : locstraight ] let @xmath148 be finitely generated .",
    "then there exists an element @xmath320 such that @xmath321 is straight .    by theorem  [ thm : extspectral ] and proposition  [ prop : cechstraight ]",
    ", we have @xmath35 such that @xmath321 is the limit of a spectral sequence of straight modules .",
    "this spectral sequence yields a _ finite _ filtration of @xmath321 whose associated graded modules are straight .",
    "straight modules have a number of useful properties . in particular , the fact that they can be `` built out of '' indecomposable injectives with nontrivial @xmath2-graded part by taking kernels , cokernels , and finite direct sums forces many of their graded pieces to be isomorphic to each other .",
    "[ prop : straight ] let @xmath0 be a straight module over @xmath67 $ ] . then :    1 .   @xmath34 is finitely generated .",
    "@xmath322 is straight for all @xmath35 .",
    "3 .   multiplication by @xmath323 is an isomorphism @xmath324 whenever @xmath280 and @xmath320 satisfy @xmath325 .",
    "if the above three properties hold for @xmath0 and @xmath25 , then they also hold for @xmath326 , as well as @xmath314 and @xmath315 for any @xmath327 .",
    "thus it suffices to check that if @xmath117 is an indecomposable injective , and @xmath124 is nonzero , then @xmath117 has the above properties .",
    "@xmath124 is clearly finitely generated , and if @xmath124 is nonzero , so is @xmath328 , so the first two properties are clear .    for the third property ,",
    "note that @xmath120 by lemma  [ lemma : cj ] .",
    "thus in particular , @xmath329      \\hbox{and } &    j_{a + \\beta } &    ( \\cech j)_{a + \\beta } &    \\hom_r(r_{q+a+\\beta } , j ) .",
    "\\end{array}\\ ] ] the hypothesis in part  3 says that @xmath330 , whence multiplication by @xmath323 is an isomorphism @xmath331 , as required .",
    "the third property of proposition  [ prop : straight ] motivates the following definition .",
    "[ defn : essential ] an _ essential point for @xmath2 _ is an element @xmath332 such that if @xmath35 and @xmath333 , then @xmath334 is a unit .",
    "the _ essential set _",
    "@xmath335 is the @xmath2-set generated by the essential points ; i.e.  @xmath335 is the union @xmath336 over essential points @xmath337 .",
    "we will use combinatorial properties of the essential set @xmath335 to prove the main result of  this section , theorem  [ thm : finite ] , which is algebraic .",
    "however , we postpone the proofs of the combinatorics to section  [ sec : essential ] , where we investigate the structure of the essential set in more detail .    [ prop : essential ] if @xmath0 is straight , then @xmath338 is an essential submodule of @xmath0 .",
    "suppose @xmath339 , and choose an essential point @xmath337 with   and @xmath340 , using lemma  [ lemma : exists ] .",
    "proposition  [ prop : straight ] shows that multiplication by @xmath341 is an isomorphism @xmath342 .",
    "thus any submodule of @xmath0 containing @xmath79 contains @xmath343 .",
    "observe that the results in this section so far have used no extra hypotheses on the affine semigroup @xmath2 .",
    "since our goal involves simplicial semigroups , this will change starting now .",
    "[ prop : strfinite ] let @xmath2 be an affine semigroup whose saturation is simplicial modulo units , and @xmath0 a straight module over @xmath7 $ ]",
    ". then the bass numbers of @xmath0 are finite .",
    "taking @xmath344 as in proposition  [ prop : simplicial ] , we find that @xmath345 , so @xmath346 .",
    "since @xmath322 is straight , @xmath347 is finitely generated .",
    "thus @xmath338 is finitely generated , so @xmath0 has a finitely generated essential submodule by proposition  [ prop : essential ] .",
    "in particular , its bass numbers in cohomological degree zero are finite . moreover ,",
    "if @xmath147 is a minimal injective resolution of @xmath0 , then @xmath348 is straight because it has a @xmath2-graded essential submodule @xmath347 .",
    "therefore @xmath349 is straight , whence the result follows by induction on the cohomological degree .",
    "the bass numbers of such an @xmath0 at ungraded primes are also finite , by results of @xcite .",
    "[ thm : finite ] let @xmath2 be an affine semigroup whose saturation is simplicial modulo units . if @xmath0 is a finitely generated @xmath8-graded @xmath7$]-module , then the bass numbers of @xmath3 are finite , for any @xmath2-graded ideal @xmath4 .",
    "this is immediate from proposition  [ prop : strfinite ] and corollary   [ cor : locstraight ] .",
    "[ cor : cechsimplicial ] suppose @xmath2 is affine , with @xmath6 simplicial modulo units , and let @xmath350 be finitely generated over @xmath67 $ ]",
    ". then there exist @xmath280 and @xmath244 such that @xmath351    since the bass numbers of @xmath3 are finite , by remark  [ remark : shift ] there exists @xmath254 such that @xmath287 is fixed by the ech hull .",
    "then @xmath287 is the cech hull of its @xmath2-graded part and the result follows from proposition  [ prop : ext ] .",
    "the essential set , introduced in definition  [ defn : essential ] , fleshes out in some detail the combinatorics hidden in an affine semigroup . since we believe this combinatorics is of independent interest , we determine in theorem  [ thm : normal ] , proposition  [ prop : irrelevant ] , and the comments in between , the structure of the essential set in the saturated case , along with its relation to hilbert bases , monomial modules , irrelevant ideals of toric varieties , and alexander duality . the rest of the section we devote to providing the necessary relations between essential sets of unsaturated semigroups and those of their saturations , including the results already applied in section  [ sec : finiteness ] .",
    "we need a bit of notation .",
    "associated to an affine semigroup @xmath2 are its _ facets _ @xmath352 ; these are the degrees of homogeneous elements outside of the @xmath183 codimension - one @xmath2-graded primes of @xmath7 $ ] .",
    "there are unique primitive integer - valued linear functionals @xmath353 on @xmath8 , nonnegative on @xmath2 , such that @xmath354 .",
    "given @xmath112 , define @xmath355 to be the vector @xmath356 , and let @xmath357 be the vector obtained from @xmath358 by replacing its negative entries with zeros .",
    "[ lemma : tauplus ] suppose @xmath2 is saturated",
    ". then @xmath359 if and only if @xmath360 .",
    "in particular , @xmath337 is an essential point if and only if @xmath361 for all nonunits @xmath344 in some generating set for @xmath2 .",
    "since @xmath2 is saturated , @xmath362 is the set of lattice points @xmath170 inside the polyhderon defined by @xmath363 .",
    "this is the polyhedron defined by the inequalities @xmath364 , and the first claim follows easily .",
    "the map @xmath365 takes @xmath2 to the semigroup @xmath366 isomorphic to the quotient of @xmath2 by its group of units . as a consequence ,",
    "the definition of essential point translates to : @xmath337 is an essential point if and only if @xmath361 for all nonunits @xmath35 .",
    "but since @xmath367 is nonnegative on @xmath2 for all @xmath188 , the second statement follows .",
    "the lack of nontrivial units in @xmath366 endows it with a unique minimal set @xmath368 of semigroup generators , called the _",
    "hilbert basis of @xmath366_. each element of @xmath368 imposes a condition that @xmath26 must satisfy to be essential . to express this condition ,",
    "define , for @xmath369 , the set @xmath370 for some @xmath188 such that @xmath371 .",
    "observe that @xmath372 is a union of half - spaces , and is defined in such a way that @xmath373 .",
    "[ thm : normal ] if @xmath2 is saturated then the essential set @xmath335 consists entirely of essential points .",
    "furthermore , @xmath374 .",
    "the second sentence follows from lemma  [ lemma : tauplus ] and the remarks following it because @xmath375 generates @xmath2 . since @xmath372 is stable under the action of @xmath2",
    ", @xmath376 is @xmath2-stable , too .",
    "thus the essential points already form a @xmath2-set , which therefore equals @xmath335 .",
    "we consider once again the semigroup @xmath2 generated by three elements @xmath377 such that @xmath378 .",
    "@xmath251 embeds @xmath2 in @xmath379 by sending @xmath79 to @xmath75 , @xmath80 to @xmath73 , and @xmath380 to @xmath74 ; the image of @xmath8 in @xmath379 is the sublattice of index @xmath381 consisting of pairs @xmath88 such that @xmath207 and @xmath208 have the same parity .",
    "the points @xmath73 , @xmath74 and @xmath75 form a hilbert basis for @xmath366 .",
    "@xmath382 consists of those points @xmath88 in @xmath379 with @xmath383 ; similarly @xmath384 consists of those points with @xmath385 .",
    "finally @xmath386 consists of points with either @xmath207 or @xmath208 nonnegative .",
    "thus the essential points are those points @xmath112 such that @xmath358 has one of the following forms :    1 .",
    "@xmath387 for some odd positive @xmath208 2 .",
    "@xmath388 for some odd positive @xmath207 3 .",
    "@xmath88 for @xmath389 nonnegative and with the same parity    figure 1 shows the essential set embedded in @xmath379 via @xmath251 .",
    "the spots ( both hollow and solid ) represent elements of @xmath8 ; solid spots are essential points .",
    "the regions in which @xmath390 remain constant are enclosed by dotted lines .",
    "note in particular that there is an essential point in every region , and that the essential points form a @xmath2-set , as predicted by the theorem .",
    "if we refer back to example  [ ex : cech ] , we see that the socles of @xmath391 computed there lie within the essential set , as proposition  [ prop : essential ] and proposition  [ prop : cechstraight ] predict .",
    "also note that @xmath392 .",
    "one will be able to translate @xmath335 so that it lies in @xmath2 precisely when @xmath2 is simplicial ; this is the content of proposition  [ prop : simplicial ] , which is the central goal of this section .    ,",
    "@xmath74 , and @xmath73 ]    the essential set @xmath335 is related to a number of other notions already playing roles in the study of semigroup algebras and toric varieties .",
    "for instance , the subset @xmath394 of @xmath395 is a _ monomial module _",
    "@xcite , so @xmath335 might be called a _ skew monomial module _ inside the lattice @xmath8 . to get a better picture ,",
    "@xmath396 is a `` fuzzy neighborhood '' of a certain union @xmath397 of orthants , in the sense that there is a vector @xmath398 such that @xmath399 .",
    "in fact , each set @xmath372 contains and approximates the union @xmath400 of half - spaces , and @xmath401 ; our @xmath380 can be any vector with @xmath402 for all @xmath403 and all @xmath188 .",
    "we can get an even better handle on @xmath397 in the case where @xmath2 is the cone over @xmath404 , an integral polytope in @xmath405 .",
    "for each face @xmath146 of @xmath2 , let @xmath406 be the indices of functionals vanishing on @xmath146 ; similarly , for @xmath398 , let @xmath407 .",
    "for instance , if @xmath408 is a facet then @xmath409 , and @xmath410 if and only if @xmath411 and @xmath412 for all @xmath413 .",
    "the polynomial ring @xmath414 $ ] is the _",
    "cox homogeneous coordinate ring _",
    "@xcite of the projective toric variety @xmath415 whose isomorphism class and embedding in projective space are determined by @xmath404 .",
    "the cox ring comes equipped with the _ irrelevant ideal _",
    "@xmath416 .",
    "[ prop : irrelevant ] if @xmath37 is the ech hull over @xmath417 , then @xmath418 if and only if @xmath419 .",
    "equivalently , the @xmath414$]-submodule @xmath420 $ ] is the shift by @xmath421 of the ech hull @xmath422 of the ideal @xmath423 _ alexander dual _ to @xmath424  @xcite ,  ( * ? ? ?",
    "* lecture  vi ) .    in the case where @xmath425 is a simple polytope ,",
    "so the corresponding projective toric variety is simplicial , @xmath423 is the stanley - reisner ideal for the simplicial polytope polar to @xmath425 .",
    "the equivalence of the two statements is  ( * ? ? ?",
    "* lemma  2.11 ) .",
    "note that @xmath426 is , a priori , a submodule of @xmath427 $ ] since the latter is the injective hull of @xmath424 and the former is an essential extension . now",
    "@xmath428 if and only if @xmath429 for some face  @xmath146 by remark  [ rk : poly ] . on the other hand , @xmath430 precisely when @xmath431 for some @xmath188 with @xmath432 ; that is , when @xmath433",
    ". therefore , @xmath434 if and only if @xmath435 for some @xmath436 .",
    "this occurs if and only if @xmath429 for some face @xmath146 , because : @xmath437 for all @xmath438 ; and each @xmath436 lies in the relative interior of some @xmath146 , so @xmath439 for this @xmath146 .",
    "we conclude that @xmath428 if and only if @xmath440 .",
    "we illustrate this for the semigroup @xmath2 of example  [ ex : har ] ; that is , the semigroup on four generators @xmath302 with the relation @xmath441 .",
    "if we order the four facets appropriately , @xmath251 embeds @xmath8 in @xmath442 by sending @xmath79 to @xmath443 , @xmath80 to @xmath444 , @xmath207 to @xmath445 and @xmath208 to @xmath446 . the image",
    "@xmath447 is the lattice consisting of points @xmath448 with @xmath449 .",
    "now @xmath450 is the set of @xmath448 in @xmath442 such that either @xmath344 or @xmath293 is nonnegative .",
    "thus , if @xmath112 is an essential point , with @xmath451 , then either @xmath344 or @xmath293 is nonnegative .",
    "similarly , using the other elements of the hilbert basis , we find that :    * either @xmath259 or @xmath293 is nonnegative . *",
    "either @xmath259 or @xmath186 is nonnegative . *",
    "either @xmath344 or @xmath186 is nonnegative .",
    "note that in this example , the irrelevant ideal @xmath424 of proposition  [ prop : irrelevant ] is generated by the elements @xmath452 and @xmath453 in the polynomial ring @xmath454 $ ] .",
    "the ech hull of this ideal is thus supported precisely on those @xmath455 such that at least one of the pairs @xmath456 consists of strictly positive integers .",
    "therefore , an element of @xmath442 fails to be in this support if and only if its negative satisfies the above four conditions .",
    "to summarize , those elements @xmath26 of @xmath8 such that @xmath457 is not in the support of @xmath458 are essential points , as proposition  [ prop : irrelevant ] predicts .    the conditions on @xmath358 given above , together with the fact that @xmath459 ( and therefore @xmath460 ) , imply that @xmath26 is an essential point if ( and only if ) at most one of @xmath461 is negative .",
    "note that no finite shift will take all of the essential points inside of @xmath2 , since one has essential points @xmath26 whose negative coordinate is @xmath462 for any natural number @xmath190 . in particular , the degrees of the socle elements of @xmath463 produced in example  [ ex : har ] are a set of essential points whose negative coordinates are unbounded below .",
    "more generally , the fact that we can not shift the essential set into @xmath2 means that we can not rule out the possibility of local cohomology having infinite bass numbers .",
    "in fact , we will construct a local cohomology module with infinite bass numbers whenever the essential set can not be shifted into @xmath2 ( corollary  [ cor : socle ] ) .    during our proof of theorem  [ thm :",
    "finite ] , we needed certain results about the structure of @xmath335 . in order to obtain them in the generality we used in section  [ sec : finiteness ]",
    ", we no longer assume that @xmath2 is saturated .",
    "we begin with a lemma used in the proof of proposition  [ prop : essential ] .",
    "[ lemma : exists ] given @xmath112 , there exists some essential point @xmath337 with @xmath464 .    any element @xmath280 satisfying @xmath465 must also satisfy @xmath466 for all @xmath467 , where @xmath468 is the partial order by componentwise comparison .",
    "the set of possibilities for @xmath469 satisfying this condition is bounded above , and thus has a maximal element @xmath470 .",
    "moreover , @xmath471 if and only if @xmath472 is a unit of @xmath2 .",
    "this proves that @xmath337 is an essential point .",
    "the major combinatorial result used in the previous section is the fact that if @xmath6 is ( modulo its units ) simplicial , then @xmath335 can be shifted inside of @xmath2 . therefore , we want an analog to lemma  [ lemma : tauplus ] which holds even for semigroups which are not saturated .",
    "the key tool relating the combinatorics of a semigroup to the combinatorics of its normalization is provided by the next lemma .",
    "while a purely combinatorial proof of this lemma is available , the commutative algebra below is shorter and more conceptual .",
    "recall that a _ face _ of @xmath2 is the set of degrees of elements outside a prime ideal of @xmath7 $ ] .",
    "[ lemma:2 ] let @xmath146 be a face of @xmath2 .",
    "there exists @xmath473 such that @xmath474 , where @xmath475 is the _ partial saturation of @xmath2 at @xmath146_.    let @xmath476 $ ] and @xmath477 $ ] .",
    "then , letting @xmath478 $ ] be the prime ideal such that @xmath479 $ ] , the @xmath1-algebra @xmath480 is the intersection @xmath481 of the homogeneous localization at @xmath122 with the normalization .",
    "the lemma calls for a homogeneous element outside of @xmath122 to be in the _ conductor ideal _",
    "@xmath482 such an element exists precisely when @xmath483 ; i.e.  when the localizations @xmath484 and @xmath485 are equal .",
    "but @xmath486 because @xmath487 .    when @xmath488 , then @xmath489 , and this is the well - known fact that every semigroup @xmath2 contains an element @xmath344 with @xmath490 .    with lemma  [ lemma:2 ] in hand ,",
    "we can now find a sufficient condition under which @xmath491 .",
    "let @xmath492 be the subset consisting of functionals vanishing on the face @xmath146 of @xmath2 .",
    "[ lemma:3 ] let @xmath493 , and suppose we have @xmath280 such that @xmath494 for all @xmath495",
    ". then @xmath491 .    noting that @xmath496 for @xmath497 , the hypothesis on @xmath498 implies that the intersections with @xmath2 are contained in @xmath499 .",
    "therefore , it is enough to show that @xmath500 this follows by adding @xmath254 or @xmath501 to both sides of the equality in lemma  [ lemma : fact3 ] , below , and setting respectively @xmath502 or @xmath503 .",
    "[ lemma : fact3 ] if @xmath504 and @xmath505 , then @xmath506 .",
    "we show @xmath507 , which obviously equals @xmath508 .",
    "now @xmath509 , because @xmath2 contains @xmath508 ; and @xmath510 , because @xmath511 when @xmath512 , by definition of @xmath513 .",
    "we are now in a position to state and prove the unsaturated analog of lemma  [ lemma : tauplus ] .",
    "[ prop : tauplusb ] choose @xmath514 so that @xmath515 for all @xmath188 and @xmath146 .",
    "suppose @xmath35 , @xmath280 , and .",
    "then @xmath516 .",
    "let @xmath146 be the smallest face of @xmath2 containing @xmath344 .",
    "then for all @xmath367 not vanishing on @xmath146 , we have @xmath517 , so @xmath518 ( as otherwise the @xmath189 coordinates of @xmath519 and @xmath520 are unequal ) .",
    "thus @xmath521 , and by lemma  [ lemma:3 ] we have @xmath516 , as required .    the approximation to theorem",
    "[ thm : normal ] in the unsaturated case is as follows .",
    "[ cor : unsaturated ] let @xmath368 be the hilbert basis for @xmath366 , and @xmath514 be as in proposition  [ prop : tauplusb ]",
    ". then @xmath522 .",
    "pick , for each @xmath436 , an element @xmath523 with @xmath524 .",
    "suppose @xmath337 is an essential point .",
    "setting @xmath525 and @xmath526 in proposition  [ prop : tauplusb ] , we have .",
    "just as before theorem  [ thm : normal ] , we have @xmath527 , and this holds for all @xmath436 .",
    "[ prop : simplicial ] suppose @xmath6 is simplicial ( modulo units ) .",
    "then there exists @xmath528 such that @xmath529 .",
    "the hypothesis on @xmath2 means precisely that for each @xmath530 , the image @xmath366 contains an element @xmath531 in its hilbert basis whose unique nonzero coordinate is @xmath532 . observe that @xmath533 is a half - space by definition . setting @xmath534 , we find that @xmath535 . by corollary  [ cor : unsaturated ]",
    "we may take @xmath536 for any @xmath537 satisfying @xmath538 .",
    "in this section we prove our principal result concerning semigroup rings , theorem  [ thm : converse ] , by combining theorem  [ thm : finite ] with its converse , namely that if @xmath6 is not simplicial then one can always find an ideal @xmath4 for which local cohomology is not well - behaved .",
    "we avoid dealing with nontrivial units here , since they add nothing to the content , but obscure the statement .",
    "[ thm : converse ] let @xmath2 be an affine semigroup of dimension @xmath293 with trivial unit group ( but not necessarily saturated ) .",
    "the following are equivalent :    1 .",
    "@xmath6 is simplicial .",
    "2 .   for every @xmath2-graded ideal @xmath4 and",
    "every finitely generated @xmath2-graded @xmath7$]-module @xmath0 , the bass numbers of @xmath3 are finite .",
    "3 .   for every @xmath2-graded prime @xmath122 of dimension  2 , @xmath539})$ ]",
    "has finitely generated socle .",
    "this theorem provides a proof and generalization of example  [ ex : har ] .",
    "the key to our argument is yanagawa s computation of the local cohomology of the canonical module @xmath540}$ ] over a normal semigroup ring @xmath7 $ ] @xcite . to state it ,",
    "let @xmath541 be linear functionals which vanish on the facets @xmath352 of @xmath2 and take nonnegative integer values on @xmath2 , as in the previous sections . for the sake of simplicity",
    "we assume that @xmath2 has no nonzero units .",
    "choose a hyperplane @xmath542 transverse to the real cone @xmath543 generated by @xmath2 , so that @xmath544 is a polytope of dimension @xmath545 ) - 1 $ ] whose faces ( including the empty face @xmath546 ) correspond to the primes of @xmath7 $ ] .",
    "_ let @xmath547 correspond to @xmath548 ( so @xmath549 corresponds to @xmath550 , for example ) .",
    "define the polyhedral cell subcomplex @xmath551 of @xmath552 for any face @xmath553 and @xmath112 .",
    "_    [ thm : yancanonical ] ( * ? ? ?",
    "* @xmath554theorem 6.1 ) let @xmath2 be saturated and @xmath122 be a graded prime of @xmath7 $ ] , corresponding to a face @xmath555 of @xmath404",
    ". then @xmath556})_\\alpha \\cong \\hh_{i-1}(\\of,\\of(\\alpha))$ ] for all @xmath112 .",
    "we will apply this when @xmath122 has dimension  @xmath381 ; that is , when @xmath555 is an edge of @xmath404 .",
    "[ prop : twoface ] if @xmath122 corresponds to the edge @xmath555 and @xmath2 is saturated , then :    1 .",
    "@xmath557})_{\\alpha } = 0 $ ] if @xmath558 for some @xmath188 such that @xmath559 .",
    "2 .   @xmath557})_{\\alpha } = 0 $ ] if @xmath560 for all @xmath188 such that @xmath561 .",
    "3 .   @xmath557})_{\\alpha } = k$ ] if neither of the above conditions holds .",
    "suppose the first condition holds .",
    "if @xmath562 contains @xmath555 , then @xmath563 misses @xmath146 entirely , so @xmath564 , and the zeroth relative homology is zero . otherwise , @xmath565 is a vertex of the edge @xmath555 , and @xmath566 contains at least that vertex .",
    "thus the relative homology is again zero .    if the second condition holds , but the first does not , then @xmath560 for all  @xmath188 .",
    "this implies @xmath566 is the void complex  not even @xmath567 , so the zeroth relative homology is still zero .    in the third case , @xmath566 consists of just the empty face @xmath546 , and the zeroth relative homology is the number of connected components of @xmath555 .",
    "[ cor : socle ] let @xmath555 be an edge of @xmath404 such that there exists a facet @xmath568 of @xmath404 with @xmath569 .",
    "let @xmath122 be the prime of @xmath7 $ ] corresponding to @xmath555",
    ". then if  @xmath2 is saturated , @xmath557})$ ] has an infinite - dimensional socle .",
    "every nonzero element @xmath570})$ ] is annihilated by some power of the maximal ideal of @xmath7 $ ] . to see this , suppose @xmath79 is homogeneous of degree @xmath26 , and assume that for some @xmath571 , we had @xmath572 for all @xmath244 .",
    "then , by proposition  [ prop : twoface ] , @xmath573 for all  @xmath190 and all  @xmath188 such that @xmath559 .",
    "thus @xmath574 for all such @xmath188 , so @xmath575 for all such @xmath188 . but",
    "the intersection of all such @xmath562 is empty , so @xmath576 .    if @xmath569 , then choose @xmath112 such that @xmath577 and @xmath560 for @xmath578 . proposition  [ prop : twoface ] implies that @xmath557})_{\\alpha}$ ] is nonzero and killed by some power of the maximal ideal , so @xmath557})$ ] has nontrivial socle .",
    "suppose its socle were finite - dimensional .",
    "then there would exist @xmath280 such that @xmath579 is maximal among the socle degrees in @xmath8 .",
    "but since @xmath577 , we have @xmath580 , so @xmath581 .",
    "moreover the local cohomology is nontrivial in degree @xmath582 . taking a nonzero element of @xmath557})_{2\\beta}$ ] and multiplying it by a sufficiently large power of the maximal ideal then yields a socle element in a degree @xmath184 with @xmath583 , which is a contradiction .",
    "_ proof of theorem  [ thm : converse]_. @xmath584 is theorem  [ thm : finite ] , and @xmath585 is because @xmath586}$ ] is finitely generated over @xmath7 $ ] . for @xmath587",
    ", the unsaturated case follows from the saturated case .",
    "indeed , any @xmath6-graded ideal @xmath588 $ ] is generated up to radical by elements @xmath589 in @xmath7 $ ] ( high powers of any homogeneous generating set for @xmath4 will do ) .",
    "if @xmath0 is any @xmath590$]-module , the cohomology of the ech complex @xmath591 on these generators is therefore a module over both @xmath590 $ ] and @xmath7 $ ] . as such",
    ", it is simultaneously the local cohomology of @xmath0 over @xmath590 $ ] with support on @xmath588 $ ] and over @xmath7 $ ] with support on @xmath592 $ ] .",
    "furthermore , any socle element of a @xmath590$]-module is also a socle element over @xmath7 $ ] , since the maximal ideal of @xmath7 $ ] is contained in the maximal ideal of @xmath590 $ ] .    thus by corollary  [ cor : socle ] , it suffices to produce , for any polytope @xmath593 simplex , an edge @xmath555 of @xmath404 that misses some facet .",
    "equivalently , it suffices to show that if @xmath404 is a polytope in which every edge meets every facet then @xmath404 is a simplex .",
    "let @xmath594 be a facet , and @xmath251 a linear functional supporting @xmath555 , nonnegative on @xmath404 .",
    "suppose @xmath251 takes a minimal nonzero value at a vertex @xmath595 .",
    "if more than one vertex of @xmath404 lies off of @xmath555 , there is an edge ( necesasarily missing @xmath555 ) connecting @xmath208 to some vertex at which @xmath596 .",
    "thus , if every edge meets every facet , there can be only one vertex of @xmath404 lying off of each facet , and @xmath404 must be a simplex .",
    "it has been seen above that affine semigroup rings provide a wealth of examples and counterexamples to general questions about local cohomology in singular varieties . in particular , they shed some light on some of the general questions posed by huneke on local cohomology @xcite :        section  [ sec : semigroups ] provides a possibility for answering question  1 :  relate the vanishing of local cohomology in a given cohomological degree to the vanishing of @xmath5 modules in that cohomological degree and lower .",
    "theorem  [ thm : extspectral ] establishes this link for graded modules over semigroup rings ; we believe that such a connection exists in significantly more generality , but we are unaware of how to relate infinitely generated modules to finitely generated ones without resorting to a grading .",
    "the key concept is that of a certain kind of `` constancy '' , provided here by the cech hull .",
    "this type of constancy is reminiscent of the characteristic  0 regular local case , in which the modules in question are treated as @xmath597-modules @xcite .",
    "perhaps the right generalization of @xmath597-module to the singular setting will provide the appropriate notion of constancy to bridge finitely generated ext modules and local cohomology .    a partial answer to question  2 in the general (",
    "local , ungraded ) case concerns numerical criteria on the heights of primes and cohomological degress involved @xcite . in the semigroup - graded case",
    ", finite generation can be viewed as a convex - geometric problem , dealing with @xmath2-graded degrees in which the summands in a minimal injective resolution are nonzero .",
    "we expect in the @xmath2-graded case for these considerations to yield geometric and combinatorial criteria in addition to the general numerical criteria . for the canonical module of a normal semigroup ring , for instance , local cohomology at a graded prime ideal @xmath122 of @xmath1",
    "is finitely generated if and only if it vanishes , since proposition  [ prop : canonical ] expresses such cohomology in terms of derived functors of @xmath37 , which are never finitely generated if they are nonzero , or in terms of @xmath598 , which is also never finitely generated .          both 3a and",
    "3b should have concrete combinatorial answers in the semigroup case , at least when @xmath0 is a canonical module .",
    "in fact , we expect the essential set to play a pivotal role in answering these and the following refinement of 3a : for which cohomological degrees @xmath188 and graded ideals @xmath4 is a given prime of @xmath7 $ ] associated to @xmath599})$ ] ?    as for question  3b , it seems to be connected with the kinds of singularities which appear in the normalization of the ring @xmath1 .",
    "whether this holds in more generality than simply for semigroup rings is an interesting question .",
    "for instance , one can try classifying the singularities of a ring @xmath1 or ideals @xmath4 for which the modules @xmath3 can have infinite bass numbers ( or , for that matter , which primes can appear with infinite bass number ) . even in the case of a semigroup ring",
    ", we do not have satisfactory answers to these last questions .",
    "finally , is there a global version of the ech hull that works for toric varieties , and if so , what is its relation to the ech hull over the cox homogeneous coordinate ring @xcite ? more generally , for varieties with a torus action , can a global ech hull give information about cohomology with support on subvarieties fixed pointwise by subgroups of the acting torus ? in the toric case , properties of a global ech hull will be governed by the group of weil divisors modulo cartier divisors , introduced by thompson to control resolutions of singularities @xcite .    acknowledgements .",
    "the authors wish to thank bernd sturmfels and kohji yanagawa for their useful suggestions .",
    "both authors were partially supported by the national science foundation , and the second was partially supported by the alfred p. sloan foundation ."
  ],
  "abstract_text": [
    "<S> given a module @xmath0 over a ring @xmath1 which has a grading by a semigroup @xmath2 , we present a spectral sequence that computes the local cohomology @xmath3 at any graded ideal @xmath4 in terms of @xmath5 modules . </S>",
    "<S> this method is used to obtain finiteness results for the local cohomology of graded modules over semigroup rings ; in particular we prove that for a semigroup @xmath2 such that @xmath6 is simplicial , and a finitely generated module @xmath0 over @xmath7 $ ] which is graded by @xmath8 , the bass numbers of @xmath3 are finite for any @xmath2-graded ideal @xmath4 of @xmath7 $ ] . </S>",
    "<S> conversely , if @xmath6 is not simplicial , one can find a graded ideal @xmath4 and graded @xmath1-module @xmath0 such that the local cohomology module @xmath3 has infinite - dimensional socle . </S>",
    "<S> we introduce and exploit the cominatorially defined _ essential set _ of a semigroup . </S>"
  ]
}