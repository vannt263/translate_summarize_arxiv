{
  "article_text": [
    "the disto collaboration has constructed a large - acceptance magnetic spectrometer to provide broad kinematic coverage of multi - particle final states involving charged particles produced in @xmath0 scattering .",
    "examples include the measurement of polarization observables in reactions such as @xmath1 , with @xmath6 representing a hyperon or a hyperon resonance ( @xmath7 or @xmath3 ) , and the study of vector meson ( @xmath8 and @xmath5 ) production in @xmath9 interactions  @xcite .",
    "these measurements are now in progress at laboratoire nationale saturne ( lns ) in saclay . in experiment lns - e213 ,",
    "the high - quality polarized proton beam , with kinetic energies ranging between 1.6 and 2.9 gev , hits a liquid hydrogen target positioned in the center of a magnet that provides a strong magnetic field with cylindrical symmetry .",
    "the saturne accelerator provides , at 2.9 gev , every 4 s a spill of protons with a flat top of 0.5 s. at 1.6 gev the interspill time can be decreased down to 2 s. a sketch of the setup is shown in fig .",
    "[ fig_expapp ] . superimposed on the layout is a simulated event of the reaction @xmath10 .",
    "the detectors are arranged in two arms on both sides of the beam pipe ( not shown in the figure ) .",
    "tracking detectors comprise two pairs of cylindrical scintillating fiber ( sf ) chambers ( two stereo layers , _ u - v _ planes , and one horizontal _ y _ plane ) and two pairs of _ u - v - y _ planar multi wire proportional chambers ( mwpc ) .",
    "the 2492 fibers and 3202 wires of the tracking detectors are equipped with discriminator / latch electronics ( pcos iii ) . a scintillation counter hodoscope and a plane of vertically segmented cerenkov counters",
    "follow the tracking detectors .",
    "the hodoscope and the fiber chambers feed the level-1 trigger that makes decisions based on the multiplicity of charged prongs and on the topology of the events . the 32 scintillation counters and the 48 cerenkov counters are equipped with fera adc / tdc to allow readout of pulse height and timing information for particle identification .",
    "the data acquisition system , shown in fig .  [ fig_daq_chain ] , is based on a single vme crate , housing the data acquisition ( daq ) cpu , four risc processors and the interface to the front - end crates .",
    "the daq cpu is connected to a silicon graphics ( sgi ) workstation through a parallel bus and to a dec / alpha workstation through a vme eltec  @xcite cpu and the local area network ( lan ) ethernet line .",
    "the workstations permit on - line monitoring and control of the experiment .",
    "the vme cpus and the workstations share the same disks using the nfs protocol .",
    "the daq processor is a commercial vme board equipped with a 68030 cpu , the ces  @xcite model fic8232 , running the os/9 operating system .",
    "it performs the following tasks :    * set - up of the pcos iii and fera front - end electronics through a standard camac interface ; * collection of events from a triple port ecl memory where they have been stored by the pcos and fera controllers during the saturne extraction time ; * dispatching of the events , via the vme bus , to the four risc r3000 cpus ; * collection of events for tape recording on dlt cassettes through the on - board scsi interface ; * production of `` spy '' events for the monitoring workstations .",
    "the on - line programs are written in fortran and c and , as far as the monitoring is concerned , are based on the paw  @xcite system developed at cern .",
    "the optional r3000 filter algorithms are written and compiled on the sgi workstation , taking advantage of the same cpu used in both systems , and down - loaded through the parallel bus .",
    "the disto on - line data acquisition system architecture may be partitioned into several hardware and software components , discussed separately below .      the disto hardware architecture , shown in fig .",
    "[ fig_daq_chain ] , is made up of the following elements      the mwpc and sf multi - anode photomultiplier s outputs are digitized by the multiwire proportional chamber operating system ( pcos iii )  @xcite .",
    "the system contains the circuitry to amplify , discriminate , delay , latch and encode the signals arriving from the tracking detectors .",
    "it includes 16-channel amplifier / discriminator cards ( n277vg from nanometrics  @xcite ) , 32-channel delay and latch modules ( model 2731a ) , a system controller ( model 2738 ) and a camac databus interface and buffer ( model 4299 ) .",
    "this system allows very large data rates , by using fast encoding to process valid events extremely rapidly and high - speed transfer of the data at 10 mhz , 10 times the maximum rate of camac .",
    "the system uses the facility offered by pcos iii to allow computer control of discriminator thresholds and of the ripple - thru delays .",
    "the first option is used to measure the efficiency `` plateau '' of the chambers , the second one allows for an easy tuning of the delay in the coincidence circuits .",
    "the 5694 channels are housed in 9 crates .",
    "the digitized data containing the the address of the hit wires are picked - up directly from the ecl output port of the system controller .",
    "the on - board multi - crate interconnection facility , which in principle allows daisy - chaining of up to 16 crates , was not used due to timing problem on the ecl ports when more than 5 crates were included in the assembly . instead",
    ", a new fifo / multiplexer module was specially designed to record the data of the 9 crates in parallel and write them sequentially on a single ecl output port .",
    "the 9 internal fifo are able to record the 736 words per crate given by a crate completely fired .",
    "the 9 crates are interconnected , also , through the lecroy databus system .",
    "it is employed to send commands and set - up parameters to the pcos system ( logical address , threshold , delay and test pattern ) .",
    "the scintillation and cerenkov counter s analog information ( charge and time intervals ) are converted into digital format by the fast encoding and readout adc ( fera ) and fast encoding and readout tdc ( feret)@xcite . the heart of the system is the module 4300b , a charge sensitive 10/11 bit analog to digital converter ( conversion time of about @xmath11 ) , the model 4301 fera driver and the model 4303 time - to - charge converter .",
    "the 4301 fera driver distributes signals common to the system , such as gate , fast clear and handshake signals , via the command bus .",
    "it also receives data from the fast data bus , which collects data from all model 4300s in the system , and translates it for transmission via the on - board ecl - bus ( 10 megawords / sec readout ) .",
    "the last 4300 module of the assembly is a special module able to write a flag word used as an event separator .",
    "the camac data - way is used for status register and pedestal set - up , remote testing and control readout modes .",
    "the data are recorded in the dual daisy - chained triple port memory modules of the acquisition system via a 30-m long ecl - bus cable for high speed ( 10 mhz ) readout .",
    "a special ecl bus multiplexer module was designed to allow fast switching of pcos and fera ecl signals sharing the same vme triple port memory .",
    "the pcos / fera ecl - bus data multiplexing , the event busy flag signaling the digitization and read - out phase in progress , and the cpu read - out busy signals are made by several commercial and home - made nim modules .",
    "the read - out of the buffer stored on the triple - port ecl memory by the data acquisition ( daq ) cpu is triggered at the end of the machine extraction cycle using a camac status - a module  @xcite . the status - a module is the heart of the synchronization between hardware and software , it signals that raw data are ready to the acquisition task , end - of - readout , selects the acquisition mode ( single event or multi - event for each readout ) , and starts , stops , and reset the scalers .",
    "another camac crate houses the programmable - threshold discriminators and logic matrices to select various level-1 triggers .",
    "the heart of the hardware architecture is a vme crate housing a multiprocessor system , memory and interfaces .",
    "the master cpu is the 68030 equipped with 16 mb of dual port ram and connected by the scsi bus to a 1 gb hd through the os9 operating system ; this board carries out three tasks : the run - control , the acquisition program and the recording program .",
    "a battery of four risc cpus r3000 carry out the optional run - time analysis and filter task to produce good recorded events .",
    "the task performed during this experiment is simply to swap the ecl - memory data .    a triple port 1 mb memory collects the data ( single - event or multiple events per burst ) from the front - end pcos and fera electronics using its ecl input .",
    "a 8210 camac interface connects the 68030 cpu to the camac , pcos and fera systems .",
    "the vertical bus vic 8250 is used to insert the silicon graphics workstation on the vme - bus , and the ethernet also links it to the os9 68030 cpu .",
    "the medium used to record the data is `` digital linear tape '' ( dlt ) .",
    "it allows a very high storage capacity of 20 gbytes with hardware compression , high data transfer rates , fast seeking time , and last but not least , good reliability .",
    "it is connected to the daq cpu through the built - in scsi-2 interface .",
    "the disto trigger system , described in detail elsewhere  @xcite , is completely managed by the daq system .",
    "two configurations of trigger set - up were used throughout the experiment :    1 .",
    "multiparticle trigger for the @xmath1 and @xmath12 measurements",
    "monitor trigger for @xmath9 elastic scattering reactions used to check and normalize the primary measurements .",
    "the trigger is completely configurable by software by an independent program which produces two configuration files ready to be downloaded by daq to the level-1 trigger camac modules .",
    "the number of beam spills for each trigger configuration can be selected at run - time by an appropriate choice of two parameters included in the set - up file .",
    "the daq software is organized as different tasks all running concurrently and cooperatively on different processors in the vme crate .",
    "the run control , recording and acquisition tasks run under the operating system os9 on the 68030 processor .",
    "the paw based monitoring task runs under unix in the sgi and dec workstations and the 2nd level trigger task runs on a battery of four risc cpu processors .    in the context scheme of fig .",
    "[ fig_contest ] the structure of the system is shown together with its environment .",
    "disto_daq includes all the tasks , with the exception of monitoring , which together with the front - end electronics , the trigger system , the operator interface and the raw data analysis make up its environment .",
    "an overview of disto_daq is presented in fig .",
    "[ fig_daq ] .",
    "the manage readout is the central part of the acquisition .",
    "it receives raw_data from the front - end electronics and creates the buffers for the 2nd level trigger , for the monitoring and for the raw data analysis processor .",
    "moreover at the start of run it is able to initialize and check the dynamical hardware configuration and set all parameters . in the testing phase",
    "it can compute the fera pedestals , the pcos delays and execute front - end electronic tests . during acquisition",
    "the task is able to compute the trigger type and include or inhibit the fera pedestal subtraction and zero and overflow suppression as determined by the configuration file .",
    "the hardware configuration parameters and all other information to set up the system ( delays , thresholds , mapping logic addresses , pedestals , trigger type , etc . ) are supported by disk files , which one can edit and download at the start of run .",
    "operation of the data acquisition system is managed by the run - control sub - system , consisting of a concurrent process and one operator interface .",
    "run - control manages all other daq sub - system tasks following a common state machine model with state transition corresponding to operator commands to start , stop , pause or end a run ( period of data taking ) .",
    "a simplified state machine is displayed in fig .",
    "[ fig_state_machine ] .",
    "all the synchronizations between various tasks are performed by the use of shared dual port memories on the vme - bus .",
    "the event building is carried out by both hardware and software systems .",
    "[ fig_daq_chain ] and fig .  [ fig_daq ] ) first",
    ", the event components coming from the detector readout electronics are collected into two cascaded triple port ecl memories .",
    "in particular , the trigger signal makes the nine pcos crates start to send their data in parallel to nine fifo modules that subsequently transfers data sequentially on the ecl bus connected by the multiplexer to the ecl memory .",
    "next , a signal switches the multiplexer input , linking it to the ecl bus coming from the fera system .",
    "the fera starts to send its data on the ecl bus to the memory , queuing them after the pcos data .",
    "the last fera data is the marker event separator , necessary because all events produced during the saturne spill are queued in the same memory . at the end of this time a signal communicates to the acquisition task that the data of the burst are ready in the memory and the software phase starts .",
    "the first step taken by the acquisition task is to build the event buffer , containing all of the events produced during the burst .",
    "inserted at the top of the buffer is the header information : buffer length , run number , error types , trigger information and so on .",
    "following the header comes scaler and register data .",
    "last , pcos and fera data for each event , stored in the triple port ecl memory , are inserted .",
    "the complete buffer is delivered to the first free risc processor running the second trigger level which produces a buffer optionally containing only filtered events ready to be saved on the tape . the same buffer is delivered to the sgi and dec workstations for the raw data analysis processing . the buffer communication between the tasks is synchronized using software flags .",
    "the data taking was monitored using two independent systems . in the sgi workstation a sampling of the data is made to monitor the detectors performances and give an event display .",
    "the dec workstation monitors the cerenkov detector and gives another on - line event display .",
    "these tasks are made on both workstations under the paw system  @xcite developed at cern .",
    "the acquisition system task architecture is based on a states structure ( fig .",
    "[ fig_state_machine ] ) .",
    "all the tasks are organized around the same algorithm state machine ( asm ) .",
    "moreover the tasks are structured and organized around a hierarchical configuration .",
    "the run control ( master task ) controls the asm , receives the operator commands by keyboard and delivers them to all other tasks ( slaves ) .",
    "the tasks execute the operations expressed by the command and change the present state ; at the end , all the tasks ( also the run control ) are always in the same state indicated by the asm .",
    "the asm is composed of 5 states :    sleeping : :    this is an idle state ; at the start all the tasks enter in this state .",
    "ready : :    in this state the system is ready for whatever operation .",
    "+    it is possible to return to sleeping or to go to testing state to    execute tests on the system hardware components or to go to the active    state to start data acquisition .",
    "active : :    this is the data acquisition state .",
    "testing : :    in this state the system can do several tests on all the system    hardware components .",
    "pause : :    it is the state to suspend ( temporarily ) the data acquisition .",
    "the run control also has control of the general system state , continually monitoring the real task situation , showing possible abnormal conditions .",
    "the structure used to synchronize all the operations is a shared memory housed in the vme bus .",
    "the disto data acquisition system architecture , in spite of its apparent complexity , is simple and compact .",
    "it has proven to be extremely efficient and fast due to the choice of putting some key components in hardware ( such as digitization and buffering ) , therefore only a small part of the software has to manage the real - time aspects of the data flow .    at present",
    "the system is able to collect data at a rate greater than 10000 ev / burst with the fera zero and overflow suppression ( the pcos is intrinsically zero suppressed ) .",
    "the event size is 240 bytes for the multiparticle trigger and 160 bytes for the @xmath13 elastic scattering monitor trigger .",
    "the trigger rate is presently reduced to @xmath14 ev / burst for multiparticle trigger and @xmath15 ev / burst for monitor trigger , by a sharp trigger topology request and beam intensity modulation , in order to minimize the off - line correction due to read - out dead - time . in production running of the experiment",
    "the mean read - out time is @xmath16 and , consequently , the dead - time is 15% for multiparticle trigger and 10% for monitor trigger .",
    "these rates were obtained for an instantaneous luminosity of @xmath17 @xmath18 s@xmath19 .",
    "we wish to thank s. gallian , and g. maniscalco for their contribution to the daq and detectors electronic .",
    "we are moreover greatly grateful to g. abbrugiati , g. giraudo , and m. mucchi , for their effort in the design and construction of scintillating fiber detectors .",
    "we are particularly indebted to n. dibiase for the essential support since the beginning of the experiment .",
    "the continous help of the whole saturne staff was essential for the success of this work ."
  ],
  "abstract_text": [
    "<S> the disto collaboration has built a large - acceptance magnetic spectrometer designed to provide broad kinematic coverage of multi - particle final states produced in @xmath0 scattering . </S>",
    "<S> the spectrometer has been installed in the polarized proton beam of the saturne accelerator in saclay to study polarization observables in the @xmath1 ( @xmath2 or @xmath3 ) reaction and vector meson production ( @xmath4 and @xmath5 ) in @xmath0 collisions . </S>",
    "<S> the data acquisition system is based on a vme 68030 cpu running the os/9 operating system , housed in a single vme crate together with the camac interface , the triple port ecl memories , and four risc r3000 cpu . </S>",
    "<S> the digitization of signals from the detectors is made by pcos iii and fera front - end electronics . </S>",
    "<S> data of several events belonging to a single saturne extraction are stored in vme triple - port ecl memories using a hardwired fast sequencer . </S>",
    "<S> the buffer , optionally filtered by the risc r3000 cpu , is recorded on a dlt cassette by daq cpu using the on - board scsi interface during the acceleration cycle . </S>",
    "<S> two unix workstations are connected to the vme cpus through a fast parallel bus and the local area network . </S>",
    "<S> they analyze a subset of events for on - line monitoring . </S>",
    "<S> the data acquisition system is able to read and record 3500 ev / burst in the present configuration with a dead time of 15% . </S>"
  ]
}