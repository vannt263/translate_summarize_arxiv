{
  "article_text": [
    "cross - dispersed spectroscopy makes possible to acquire information of wide spectral regions in a single exposure , by projecting several dispersion axes on the detector simultaneously . as a consequence ,",
    "the reduction process required to analyze this kind of data is complicated , since different diffraction orders need to be selected , extracted , calibrated independently and combined in the final step .",
    "this difficulty led many authors to develop methods and software packages for the reduction of cross - dispersed and echelle spectra ( e.g. * ? ? ? * ; * ? ? ? * ; * ? ? ?",
    "* ; * ? ? ?",
    "in the past decade the near infrared ( nir ) has also been explored by cross - dispersed spectrographs , such as spex @xcite at the nasa infrared telescope facility ( irtf ) , with a resolving power of @xmath1 2000 and reaching from 0.8 to 5.5@xmath0 m .",
    "other examples are triplespec @xcite and the folded - port infrared echellette ( fire ) @xcite , achieving r @xmath1 2600 and r @xmath1 6000 respectively , and covering roughly the same wavelength domain ( 0.8 - 2.4@xmath0 m ) .",
    "another instrument of similar capabilities is the ohio state infrared imager / spectrometer ( osiris ) , currently installed at the southern astrophysics research observatory ( soar ) , attached to the 4.1 m telescope .",
    "osiris provides spectral coverage from 1.0@xmath0 m to 2.4@xmath0 m in cross - dispersed mode , with a resolving power of @xmath1 1200 . high resolution ( r @xmath1 3000 ) long - slit modes are also available , but multi - band spectroscopy of this kind suffers from differences in aperture and seeing .",
    "however , reduction of nir spectra has a complexity of its own , mostly related to telluric spectral features , both in absorption and emission , and black body radiation due to the telescope itself .",
    "a rich literature has been developed on the subject ( e.g. * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "there are currently no specific software packages available for the reduction of cross - dispersed spectra taken with osiris .",
    "aiming at providing a fast and highly automated task , we developed the xdspres ( acronym for cross - dispersed spectra reduction script ) package .",
    "the cl language was chosen due to the availability of almost all of the basic tasks needed to perform the reduction in the image reduction and analysis facility ( iraf ) software @xcite .    in ",
    "[ sec : osiris ] we describe main aspects of the instrument , focusing on its effects on the reduction process . in ",
    "[ sec : reduction ] we describe the general steps towards a fully reduced spectrum , as well as the approach adopted by the xdspres package to each of these steps , and finally in  [ sec : summary ] we give a brief summary .",
    "in this section we discuss the main aspects of the cross - dispersed mode of osiris , with special attention to those characteristics that are relevant to the reduction process .",
    "a complete description of the instrument can be found in its on line user s manual .",
    "the detector is a 1024x1024 hawaii array @xcite , sensitive to wavelengths of up to 2.5@xmath0 m .",
    "equation [ eq : linearity ] models the non - linear behavior of the array , which only becomes critical above 28,000 counts .",
    "usually the detector is read only at the end of the integration , but since it can be read non - destructively different sampling methods could be implemented .",
    "a residual image is sometimes seen , specially when bright sources are observed in acquisition mode .",
    "this means that eventually some of the first spectra taken after the target acquisition images have to be discarded .",
    "residuals have approximately 2% of the intensity of the original source , and it should not be a problem to science exposures that have typical counts below one thousand .",
    "@xmath2    in cross - dispersed mode osiris projects almost six orders on the detector , from which three are extracted .",
    "wavelength coverage for each of the extracted orders are 1.2 - 1.5 , 1.5 - 1.9 and 1.9 - 2.35@xmath0 m , for the j , h and k bands respectively , all of them with r @xmath1 1200",
    ". orders that are not extracted include a small portion of the j band ( 1.0 - 1.2@xmath0 m ) , and second order duplicates of the j band , located to the right of the k band .",
    "figure [ fig : sky ] shows an example of sky spectrum where the three main orders are evident .",
    "orders that are not extracted are also visible in figure [ fig : flats ] .    from figure",
    "[ fig : sky ] it can also be noted that dispersion axes are nearly vertical , meaning that within a given aperture each line corresponds to a particular wavelength .",
    "the misalignment between detector lines and wavelength coordinate are less than one pixel from one end of the slit to the other , or less than one third of the full width at half maximum ( fwhm ) of a emission line in the j band . therefore corrections to dispersion axis orientation were not attempted , and all extractions assume a vertical dispersion .",
    "in cross - dispersed mode , flat field images are taken with the cross - dispersing grism already positioned , which results in a spectrum of the flat field lamp , rather than an evenly illuminated image . since the main purpose of a flat field is to identify pixel - to - pixel variations which are intrinsic to the detector , the continuum that corresponds to the spectral energy distribution of the lamp has to be removed .",
    "moreover , two sets of flat fields are needed , one with the flat field lamp on and another with the lamp off .",
    "the later is required because thermal radiation from the telescope becomes appreciable in the low energy end of the spectrum , as it can be seen in fig .",
    "[ fig : flats ] . typical sets consist of 10 exposures of each kind .",
    "the _ xdflat _ task automates the preparation of a normalized flat field image , which will be later used to correct the science images .",
    "first it applies a linearity correction to all flat field images , according to equation [ eq : linearity ] .",
    "then both sets ( flat - on and flat - off ) are averaged independently , and the resulting flat - off image is subtracted from the flat - on .",
    "we have omitted a figure showing the subtracted flat because it is visually identical to the flat - on .",
    "the only noticeable difference is the suppression of a few hot pixels at the lower portion of the image .    to remove the spectrum of the flat field lamp _ xdflat _ begins by extracting each order .",
    "apertures are identified by a centering algorithm ( apfind ) that searches for three local maxima in the central lines of the chip .",
    "the peaks are assumed to be separated by more than 30 pixels and have an approximate width of 80 pixels .",
    "aperture sizes are reevaluated by setting the borders at 20% of the peak intensity of each order .",
    "a tracing algorithm ( aptrace ) moves in regular five pixel steps along the dispersion axis , assessing changes in peak location for each order , leading to a two - dimensional description of the aperture position .",
    "the aperture tracing function , a second order legendre polynomial , is fitted to predefined sample regions of the chip that are less affected by scattered light .",
    "errors in the two - dimensional aperture border definitions are usually below three pixels .",
    "a 30th order legendre polynomial is fit to the spectrum , which is then normalized .",
    "such a high order polynomial is justified by the complex pattern produced by the flat field lamp as it passes through the spectrometer , as shown by figure [ fig : flatj ] .",
    "artificial oscillations at the apertures limits are ignored after extraction .",
    "typical rms of the fit is below 5000 adu , which may seem high but actually amounts to roughly 2% of the average signal .",
    "the final flat - field image has all its pixel counts set to 1 , except those on the regions occupied by the spectrum , which are replaced by the ratio between the original count and the fitted polynomial .",
    "in the nir spectral region the atmosphere plays an important role . besides a significant telluric absorption ,",
    "several atmospheric emission lines are entangled with the spectrum of the astronomical source ( see figure [ fig : sky ] for a sample spectrum of the sky , where the j , h and k bands are identified ) .",
    "the process of removing telluric emission lines is commonly known as sky subtraction , or sky chopping , and the angular size of the target dictates whether additional off - source exposures are required . in the case of point sources , which occupy only a small fraction of the slit , one can take exposures with the source in two different positions along the slit , and later subtract subsequent images .",
    "this is the technique employed to obtain the spectra of standard stars , and it makes more efficient use of telescope time .",
    "when extended sources are concerned , a separate set of exposures taken from a nearby dark region of the sky is needed , a process commonly referred to as nodding .",
    "the _ doosiris _ task was developed to reduce spectra from extended sources , therefore it assumes that a set of sky exposures was taken along with the science exposures , in order to remove the telluric emission lines .",
    "there are two ways by which users can inform the software about the nature of each image , namely : interactively identifying them via _ sao image ds9 _ , or providing an ascii file with the type of exposure with respect to its numerical order . for further details",
    "refer to the xdspres manual .",
    "no attempt was made to provide a software solution for identifying different types of exposures , as specific criteria regarding the spectrum of the astronomical target would have to be predefined , adding , in our judgement , unnecessary complexity to the code .    nodding patterns that make best use of telescope time",
    "use each sky exposure in more than one subtraction , as in o - s - o or o - s - o - o - s .",
    "it is thus impractical to simply subtract a combination of sky images from an equivalent combination of target ones . instead of assessing the relevant physical quantities , a routine searches for the best telluric calibrator based on the file name index , assuming that these are sequentially numbered after the time of exposure .",
    "extraction of science spectra follows the same procedures that were described in section [ sec : flat ] .",
    "the sky spectrum is extracted using the same aperture definitions of the target spectrum .",
    "wavelength calibration is based on strong oh lines present in the sky exposures , a sample of which is shown in figure [ fig : skyspec ] .",
    "as of the moment of the publication of this paper , osiris presents what appears to be an illumination problem that produces lines across the detector , in the direction perpendicular to the dispersion axis .",
    "since these lines can lead to confusion in the oh line identification process , a high order polynomial is used to fit and remove the vertical profile identified between columns 980 and 1024 ( see figure [ fig : background ] ) .",
    "interactive line identification is usually the best option , and since the dispersion function is almost linear there is no need for manually identifying more than four well spaced features .",
    "if the dispersion function fitting was successful , the unidentified features will match those in the line list provided with xdspres , which was extracted from @xcite .",
    "_ doosiris _ also provides an option to automatically identify oh features in the spectrum of the sky that uses the _ reidentify _",
    "task , which requires a previously identified image . for @xmath1 20 identified features ,",
    "typical residuals are below 2 pixels , which translates into roughly @xmath3 50 km s@xmath4",
    ".      the subtraction of sky exposures from the on source images , obviously can only account for emission features of the atmosphere . to deal with the more subtle problem of removing atmospheric absorption _ doosiris _ by default uses the spectrum of an a0v star , that should be obtained just before or after the science images .",
    "if the observed standard star has a different spectral type , the model atmosphere spectra , mentioned below , have to be replaced accordingly .",
    "the standard star , being a point source , do not need a separate set of sky exposures , because it occupies only a small fraction of the slit .",
    "_ doosiris _ is prepared to manage two or three different star positions on the slit . in either case",
    "subsequent exposures are subtracted and the resulting images are summed ; a sample of this sum can be seen in figure [ fig : star_sub ] .",
    "after division by the normalized flat field image , both spectra are extracted and summed .",
    "the spectrum of an a0v is almost devoid of metallic absorption lines , but the h lines that are present need to be eliminated before it can be applied to the science spectrum as a telluric calibrator .",
    "the method employed here follows the reasoning of @xcite , but with a different implementation .",
    "it basically consists in dividing the spectrum of the standard star by a model atmosphere of vega , obtained from r. kurucz .",
    "first the model of vega was smoothed by a gaussian with @xmath5 equal to the fwhm measured in a near calibration lamp , to match the resolving power of the standard star .",
    "a spline was then adjusted to the continuum , leading to a purely absorption spectrum .",
    "the later is provided with the xdspres package .",
    "the actual division of the reference star is performed by the _ telluric _",
    "task , which allows for the shifting and scaling of the model .",
    "figure [ fig : tell_star ] shows a comparison between the observed spectrum of the standard star and a model atmosphere for vega .",
    "once the absorption lines due to the stellar atmosphere have been removed , the spectrum becomes essentially a black body with telluric features .",
    "its normalization by a polynomial that acts as a pseudo - continuum returns a purely telluric spectrum .",
    "unabsorbed regions , that translate into sample regions for continuum fitting , were identified with the aid of nso / kitt peak fts data produced by nsf / noao .",
    "this division of the science spectrum also allows shifting and scaling .",
    "some of the strongest telluric bands can not be fully removed .",
    "additionally , the high absorption in these regions causes a significant decrease in s / n .    the same polynomial employed as a pseudo - continuum for the reference star",
    "is later used to produce an independent sensitivity function for each aperture , by comparing it to a black body of 9480 k. this procedure restores the correct slope of the spectrum regardless of the accuracy in absolute flux .",
    "the later is estimated from the exposure time and magnitude of the standard star , which has to be provided by the user .",
    "figure [ fig : stages ] shows the effects of telluric line removal and flux calibration to a sample spectrum .",
    "one would expect that a good flux calibration leads to a perfect alignment of the spectrum between different apertures .",
    "although generally true , it has been observed that agreement is harder to achieve where the h and k bands meet .",
    "strong telluric absorption bands near 1.9@xmath0 m difficult the evaluation of the sensibility function causing large deviations in the final spectrum .",
    "figure [ fig : complete ] shows a completely reduced spectrum encompassing the whole spectral range .",
    "we have presented the xdspres cl - based package , consisting of the _ xdflat _ and _ doosiris _ tasks , aimed at being a complete reduction facility for cross - dispersed spectra taken with the osiris spectrometer , currently installed at the soar telescope .",
    "this particular instrument provides a relatively large spectral coverage , being able to project the full range between 1.2@xmath0 m and 2.35@xmath0 m over the detector in a single exposure .",
    "the blazing of different orders in the same image adds complexity to the already lengthy reduction of infrared spectroscopy data .",
    "xdspres automatically performs the more mechanical and time consuming steps of the reduction , at the same time that it allows considerable user interaction in the more subjective stages .",
    "in addition , the possibility of a fast reduction provides means to make site adjustments to the observation strategy . as a sample of actually published data that was fully reduced with the xdspres tasks ,",
    "see @xcite . the complete software package and",
    "its documentation is available to the community at the web site _",
    "http://www.if.ufrgs.br/@xmath1ruschel / software_.      we thank an anonymous referee for very interesting comments that increased considerably the quality of the present paper .",
    "drd thanks the support from the brazilian research funding agency cnpq .",
    "osiris is a collaborative project between the ohio state university and cerro tololo inter - american observatory ( ctio ) and was developed through nsf grants ast 90 - 16112 and ast 92 - 18449 .",
    "ctio is part of the national optical astronomy observatory ( noao ) , based in la serena , chile .",
    "noao is operated by the association of universities for research in astronomy ( aura ) , inc . under cooperative agreement with the national science foundation .",
    "this work has been done with observations from the soar telescope , a collaboration among the ministrio da cincia e tecnologia / brazil , noao , unc and msu ."
  ],
  "abstract_text": [
    "<S> we present a description of the cl - based package xdspres , which aims at being a complete reducing facility for cross - dispersed spectra taken with the ohio state infrared imager / spectrometer , as installed at the soar telescope . </S>",
    "<S> this instrument provides spectra in the range between 1.2@xmath0 m and 2.35@xmath0 m in a single exposure , with resolving power of r @xmath1 1200 . </S>",
    "<S> xdspres consists of two tasks , namely _ xdflat _ and _ doosiris_. the former is a completely automated code for preparing normalized flat field images from raw flat field exposures . </S>",
    "<S> _ doosiris _ was designed to be a complete reduction pipeline , requiring a minimum of user interaction . </S>",
    "<S> general steps towards a fully reduced spectrum are explained , as well as the approach adopted by our code . </S>",
    "<S> the software is available to the community through the web site _ </S>",
    "<S> http://www.if.ufrgs.br/@xmath1ruschel / software_. </S>"
  ]
}