{
  "article_text": [
    "historically , the constraint - programming ( cp ) community has focused on developing open , extensible optimization tools , where the modeling and the search procedure can be specialized to the problem at hand .",
    "this focus stems partially from the roots of cp in programming languages and partly from the rich modeling language typically found in cp systems .",
    "while this flexibility is appealing for experts in the field , it places significant burden on practitioners , reducing its acceptance across the wide spectrum of potential users . in recent years however , the constraint - programming community devoted increasing attention to the development of black - box constraint solvers .",
    "this new focus was motivated by the success of mixed - integer programming ( mip ) and sat solvers on a variety of problem classes .",
    "mip and sat solvers are typically black - box systems with automatic model reformulations and general - purpose search procedures .",
    "as such , they allow practitioners to focus on modeling aspects and may reduce the time to solution significantly .",
    "this research is concerned with one important aspect of black - box solvers : the implementation of a robust search procedure . in recent years",
    ", various proposals have addressed this issue . impact - based search",
    "( ibs ) @xcite is motivated by concepts found in mip solvers such as strong branching and pseudo costs .",
    "subsequent work about solution counting can be seen as an alternative to impacts @xcite that exploits the structure of cp constraints .",
    "the weighted - degree heuristic ( wdeg ) @xcite is a direct adaptation of the sat heuristic vsids@xcite to csps that relies on information collected from failures to define the variable ordering .",
    "this paper proposes activity - based search ( abs ) , a search heuristic that recognizes the central role of constraint propagation in constraint - programming systems .",
    "its key idea is to associate with each variable a counter which measures the activity of a variable during propagation .",
    "this measure is updated systematically during search and initialized by a probing process .",
    "abs has a number of advantages compared to earlier proposals .",
    "first , it does not deal explicitly with variable domains which complicates the implementation and runtime requirements of ibs .",
    "second , it does not instrument constraints which is a significant burden in solution - counting heuristics .",
    "third , it naturally deals with global constraints , which is not the case of wdeg since all variables in a failed constraint receive the same weight contribution although only a subset of them is relevant to the conflict .",
    "abs was compared experimentally to ibs and wdeg on a variety of benchmarks .",
    "the results show that abs is the most robust heuristic and can produce significant improvements in performance over ibs and wdeg , especially when the problem complexity increases .",
    "the rest of the paper is organized as follows .",
    "sections [ sec : impact ] and [ sec : wdeg ] review the ibs and wdeg heuristics .",
    "section [ sec : activity ] presents abs .",
    "section [ sec : experimental ] presents the experimental results and section [ sec : ccl ] concludes the paper .",
    "impact - based search was motivated by the concept of pseudo - cost in mip solvers .",
    "the idea is to associate with a branching decision @xmath0 a measure of how effectively it shrinks the search space .",
    "this measure is called the _",
    "impact _ of the branching decision .",
    "[ [ formalization ] ] formalization + + + + + + + + + + + + +    let @xmath1 be a csp defined over variables @xmath2 , domains @xmath3 , and constraints @xmath4 .",
    "let @xmath5 denote the domain of variable @xmath6 and @xmath7 denote the size of this domain .",
    "a trivial upper - bound on the size of the search space of @xmath8 is given by the product of the domain sizes : @xmath9 at node @xmath10 , the search procedure receives a csp @xmath11 , where @xmath12 and @xmath13 is the constraint posted at node @xmath14 . labeling a variable @xmath15 with value @xmath16 adds a constraint @xmath17 to @xmath18 to produce , after propagation , the csp @xmath19 .",
    "the contraction of the search space induced by a labeling @xmath17 is defined as @xmath20 @xmath21 when the assignment produces a failure since @xmath22 and @xmath23 whenever @xmath24 , i.e. , whenever there is almost no domain reduction . an _",
    "estimate _ of the impact of the labeling constraint @xmath17 over a set of search tree nodes @xmath25 can then be defined as @xmath26 actual implementations ( e.g. , @xcite ) rely instead on @xmath27 where @xmath28 is a parameter of the engine and the subscripts in @xmath29 and @xmath30 denote the impact before and after the update .",
    "clearly , @xmath31 yields a forgetful strategy , @xmath32 gives a running average that progressively decays past impacts , while a choice @xmath33 favors past information over most recent observations .",
    "the ( approximate ) impact of a variable @xmath15 at node @xmath10 is defined as @xmath34 to obtain suitable estimates of the assignment and variable impacts at the root node , ibs simulates all the @xmath35 possible assignments . for large domains ,",
    "domain values are partitioned in blocks .",
    "namely , for a variable @xmath15 , let @xmath36 with @xmath37 .",
    "the impact of a value @xmath38 ( @xmath39 ) is then set to @xmath40 . with partitioning , the initialization costs drop from @xmath41 propagations to @xmath42 propagations ( one per block ) .",
    "the space requirement for ibs is @xmath43 , since it stores the impacts of all variable / value pairs .",
    "[ [ the - search - procedure ] ] the search procedure + + + + + + + + + + + + + + + + + + + +    ibs defines a variable and a value selection heuristic .",
    "ibs first selects a variable @xmath15 with the largest impact , i.e. , @xmath44 .",
    "it then selects a value @xmath45 with the least impact , i.e. , @xmath46 .",
    "neither @xmath47 nor @xmath48 are guaranteed to be a singleton and , in case of ties , ibs breaks the ties uniformly at random .    as any randomized search procedure",
    ", ibs can be augmented with a restart strategy .",
    "a simple restarting scheme limits the number of failures in round @xmath14 to @xmath49 and increases the limit between rounds to @xmath50 where @xmath51 .",
    "wdeg maintains , for each constraint , a counter ( weight ) representing the number of times a variable appears in a failed constraint , i.e. , a constraint whose propagation removes all values in the domain of a variable .",
    "the weighted degree of variable @xmath15 is defined as @xmath52 \\mbox { s.t . }",
    "x \\in vars(c ) x \\wedge |futvars(c)|>1\\ ] ] where @xmath53 is the set of uninstantiated variables in @xmath54 .",
    "wdeg only defines a variable selection heuristic : it first selects a variable @xmath15 with the smallest ratio @xmath55 .",
    "all the weights are initialized to 1 and , when a constraint fails , its weight is incremented .",
    "the space overhead of wdeg is @xmath56 for a csp @xmath57 .",
    "abs is motivated by the key role of propagation in constraint - programming solvers .",
    "contrary to sat solvers , cp uses sophisticated filtering algorithms to prune the search space by removing values that can not appear in solutions .",
    "abs exploits this filtering information and maintains , for each variable @xmath15 , a measure of how often the domain of @xmath15 is reduced during the search .",
    "the space requirement for this statistic is @xmath58 .",
    "abs can _ optionally _ maintain a measure of how much activity can be imputed to each assignments @xmath17 in order to drive a value - selection heuristic .",
    "if such a measure is maintained , the space requirement is proportional to the number of distinct assignments performed during the search and is bounded by @xmath59 formalization + + + + + + + + + + + + +    given a csp @xmath1 , a cp solver applies a constraint - propagation algorithm @xmath60 after a labeling decision .",
    "@xmath60 produces a new domain store @xmath61 enforcing the required level of consistency . applying @xmath60 to",
    "@xmath62 identifies a subset @xmath63 of affected variables defined by @xmath64 the _ activity _ of @xmath15 , denoted by @xmath65 , is updated at each node @xmath10 of the search tree by the following two rules : @xmath66 where @xmath67 is the subset of affected variables and @xmath68 be an age decay parameter satisfying @xmath69 .",
    "the aging only affects free variables since otherwise it would quickly erase the activity of variables labeled early in the search .",
    "the activity of an assignment @xmath17 at a search node @xmath10 is defined as the number of affected variables in @xmath70 when applying @xmath60 on @xmath71 , i.e. , @xmath72 as for impacts , the activity of @xmath17 over the entire tree can be estimated by an average over all the tree nodes seen so far , i.e. , over the set of nodes @xmath25 .",
    "the estimation is thus defined as @xmath73 once again , it is simpler to favor a weighted sum instead @xmath74 where the subscripts on @xmath75 capture the estimate before and after the update . when the value heuristic is not used , it is not necessary to maintain @xmath76 _ which reduces the space requirements without affecting variable activities . _",
    "[ [ the - search - procedure-1 ] ] the search procedure + + + + + + + + + + + + + + + + + + + +    abs defines a variable ordering and possibly a value ordering .",
    "it selects the variable @xmath15 with the largest ratio @xmath77 , i.e. , the most active variable per domain value .",
    "ties are broken uniformly at random .",
    "when a value heuristic is used , abs selects a value @xmath45 with the least activity , i.e. , @xmath78 .",
    "the search procedure can be augmented with restarts .",
    "the activities can be used `` as - is '' to guide the search after a restart .",
    "it is also possible to reinitialize activities in various ways , but this option was not explored so far in the experimentations .    [",
    "[ initializing - activities ] ] initializing activities + + + + + + + + + + + + + + + + + + + + + + +    abs uses probing to initialize the activities .",
    "consider a path @xmath79 going from the root to a leaf node @xmath10 in a search tree for the csp @xmath1 .",
    "this path @xmath79 corresponds to a sequence of labeling decisions @xmath80 in which the @xmath81 decision labels variable @xmath82 with @xmath83 .",
    "if @xmath84 is the subset of variables whose domains are filtered as a result of applying @xmath60 after decision @xmath85 , the activity of variable @xmath15 along path @xmath79 is defined as @xmath86 where @xmath87 @xmath88 if @xmath15 was never involved in any propagation along @xmath79 and @xmath89 if the domain of @xmath15 was filtered by each labeling decision in @xmath79 .",
    "also , @xmath90 when @xmath91 ( no aging ) and path @xmath79 is followed .",
    "now let us now denote @xmath92 the set of all paths in some search tree of @xmath62 .",
    "each such path @xmath93 defines an activity @xmath94 for each variable @xmath15 .",
    "ideally , we would want to initialize the activities of @xmath15 as the average over all paths in @xmath92 , i.e. , @xmath95 abs initializes the variables activities by sampling @xmath92 to obtain an estimate of the mean activity @xmath96 from a sample @xmath97 .",
    "more precisely , abs repeatedly draws paths from @xmath92 .",
    "these paths are called _ probes _ and the @xmath81 assignment @xmath98 in a probe @xmath99 is selected uniformly at random as follows : ( 1 ) @xmath82 is a free variable and ( 2 ) value @xmath100 is picked from @xmath101 . during the probe execution ,",
    "variable activities are updated normally but no aging is applied in order to ensure that all probes contribute equally to @xmath96 .",
    "observe that some probes may terminate prematurely since a failure may be encountered ; others may actually find a solution if they reach a leaf node .",
    "moreover , if if a failure is discovered at the root node , singleton arc - consistency @xcite has been established and the value is removed from the domain permanently .    the number of probes is chosen to provide a good estimate of the mean activity over the paths .",
    "the probing process delivers an empirical distribution @xmath102 of the activity of each variable @xmath15 with mean @xmath96 and standard deviation @xmath103 .",
    "since the probes are iid , the distribution can be approximated by a normal distribution and the probing process is terminated when the 95% confidence interval of the t - distribution , i.e. , when @xmath104\\ ] ] is sufficiently small ( e.g. , within @xmath105 of the empirical mean ) for all variables @xmath15 with @xmath106 being the number of probes ,    observe that this process does not require a separate instrumentation .",
    "it uses the traditional activity machinery with @xmath91 .",
    "in addition , the probing process does not add any space requirement : the sample mean @xmath96 and the sample standard deviation @xmath103 are computed incrementally , including the activity vector @xmath107 for each probe as it is completed .",
    "if a value heuristic is used the sampling process also maintains @xmath108 for every labeling decision @xmath17 attempted during the probes .",
    "[ [ the - configurations ] ] the configurations + + + + + + + + + + + + + + + + + +    all the experiments were done on a macbook pro with a core i7 at 2.66ghz running macos 10.6.7 .",
    "ibs , wdeg , and abs were were all implemented in the comet system @xcite . since the search algorithms",
    "are in general randomized , the empirical results are based on 50 runs and the tables report the average ( @xmath109 ) and the standard deviation @xmath110 of the running times in seconds . unless specified otherwise , a timeout of 5 minutes was used and runs that timeout were assigned a @xmath111 runtime .",
    "the following parameter values were used for the experimental results : @xmath112 in both ibs and abs , @xmath113 ( slow aging ) , and @xmath114 .",
    "experimental results on the sensitivities of these parameters will also be reported .",
    "for every heuristic , the results are given for three strategies : no restarts ( @xmath115 ) , fast restarting ( @xmath116 ) or slow restarting ( @xmath117 ) .",
    "depending on which strategy is best across the board .",
    "the initial failure limit is set to @xmath118 .",
    "[ [ search - algorithms ] ] search algorithms + + + + + + + + + + + + + + + + +    the search algorithms were run on the exact same models , with a single line changed to select the search procedure . in our experiments , ibs does _ not _ partition the domains when initializing the impacts and _ always _ computes the impacts exactly .",
    "both the variable and value heuristics break ties randomly . in wdeg , no value heuristic is used : the values are tried in the sequential order of the domain .",
    "ties in the variable selection are broken randomly .",
    "all the instances are solved using the same parameter values as explained earlier .",
    "no comparison with model - counting heuristic is provided , since these are not available in publicly available cp solvers .",
    "[ [ benchmarks ] ] benchmarks + + + + + + + + + +    the experimental evaluation uses benchmarks that have been widely studied , often by different communities .",
    "the multi - knapsack and magic square problems both come from the ibs paper @xcite .",
    "the progressive party has been a standard benchmark in the local search , mathematical - programming , and constraint - programming communities , and captures a complex , multi - period allocation problem .",
    "the nurse rostering problem @xcite originated from a mathematical - programming paper and constraint programming was shown to be a highly effective and scalable approach .",
    "the radiation problem is taken from the 2008 minizinc challenge @xcite and has also been heavily studied .",
    "these benchmarks typically exploit many features of constraint - programming systems including numerical , logical , reified , element , and global constraints .",
    "[ [ multi - knapsack ] ] multi - knapsack + + + + + + + + + + + + + +            .experimental results on multi - knapsack .",
    "[ cols= \" < ,",
    "< , > , > , > , > , > , > \" , ]     [ [ sensitivity - to - the - sample - size ] ] sensitivity to the sample size + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    figure [ expe : ci ] illustrates graphically the sensitivy of abs to the confidence interval parameter @xmath119 used to control the number of probes in the initialization process .",
    "the statistics are based on 50 runs of the non - restarting strategy .",
    "the boxplots show the four main quartiles for the running time ( in seconds ) of abs with @xmath119 ranging from 0.8 down to 0.05 .",
    "the blue line connects the medians whereas the red line connects the means .",
    "the circles beyond the extreme quartiles are outliers .",
    "the left boxplot shows results on ` msq-10 ` while the right one shows results on the optimization version of ` knap1 - 4 ` .",
    "the results show that , as the number of probes increases ( i.e. , @xmath119 becomes smaller ) , the robustness of the search heuristic improves and the median and the mean tend to converge .",
    "this is especially true on ` knap1 - 4 ` , while ` msq-10 ` still exhibits some variance when @xmath120 .",
    "also , the mean decreases with more probes on ` msq-10 ` , while the mean increases on ` knap1 - 4 ` as the probe time becomes more important .",
    "the value @xmath121 used in the core experiments seem to be a reasonable compromise .",
    ".,title=\"fig : \" ] .,title=\"fig : \" ]    [ [ sensitivity - to - gamma - aging ] ] sensitivity to @xmath68 ( aging ) + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    figure [ expe : gamma ] illustrates the sensitivity to the aging parameter .",
    "the two boxplots are once again showing the distribution of running times in seconds for 50 runs of ` msq-10 ` ( left ) and ` knap1 - 4 ` ( right ) .",
    "what is not immediately visible on the figure is that the number of timeouts for ` msq-10 ` increases from @xmath122 for @xmath113 to @xmath123 for @xmath124 .",
    "overall , the results seem to indicate that the slow aging process is desirable .",
    ".,title=\"fig : \" ] .,title=\"fig : \" ]      figure [ expe : relspeed ] depicts the behavior of abs and ibs on ` radiation # 9 ` under all three restarting strategies .",
    "the @xmath15 axis is the running time in a logarithmic scale and the @xmath125 axis is the objective value each time a new upper bound is found .",
    "the three red curves depict the performance of activity - based search , while the three blue curves correspond to impact - based search .",
    "what is striking here is the difference in behavior between the two searches .",
    "abs quickly dives to the optimal solution and spends the remaining time proving optimality . without restarts ,",
    "activity - based search hits the optimum within 3 seconds . with restarts",
    ", it finds the optimal solution within one second and the proof of optimality is faster too .",
    "ibs slowly reaches the optimal solution but then proves optimality quickly .",
    "restarts have a negative effect on ibs .",
    "we conjecture that the reduction of large domains may not be such a good indicator of progress and may bias the search toward certain variables .",
    "figure [ expe : histo ] provide interesting data about activities on ` radiation # 9 ` .",
    "in particular , figure [ expe : histo ] gives the frequencies of activity levels at the root , and plots the activity levels for all the variables .",
    "( only the variables not fixed by singleton arc - consistency are shown in the figures ) .",
    "the two figures highlight that the probing process has isolated a small subset of the variables with very high activity levels , indicating that , on this benchmark , there are relatively few very active variables .",
    "it is tempting to conjecture that this benchmark has backdoors @xcite or good cycle - cutsets @xcite and that activity - based search was able to discover them , but more experiments are needed to confirm or disprove this conjecture .",
    "robust search procedures is a central component in the design of black - box constraint - programming solvers .",
    "this paper proposed activity - based search , the idea of using the activity of variables during propagation to guide the search .",
    "a variable activity is incremented every time the propagation step filters its domain and is aged otherwise .",
    "a sampling process is used to initialize the variable activities prior to search .",
    "activity - based search was compared experimentally to the ibs and wdeg heuristics on a variety of benchmarks .",
    "the experimental results have shown that abs was significantly more robust than both ibs and wdeg on these classes of benchmarks and often produces significant performance improvements .",
    "m.  w. moskewicz , c.  f. madigan , y.  zhao , l.  zhang , and s.  malik .",
    "chaff : engineering an efficient sat solver . in _ proceedings of the 38th annual design automation conference _ , dac 01 , pages 530535 , new york , ny , usa , 2001 .",
    "n.  nethercote , p.  j. stuckey , r.  becket , s.  brand , g.  j. duck , and g.  tack .",
    "minizinc : towards a standard cp modelling language . in _ in : proc . of 13th international conference on principles and practice of constraint programming _ , pages 529543 .",
    "springer , 2007 .",
    "p.  schaus , p.  van  hentenryck , and j .- c .",
    "scalable load balancing in nurse to patient assignment problems . in w .-",
    "j . van hoeve and j.  hooker , editors , _ integration of ai and or techniques in constraint programming for combinatorial optimization problems _ , volume 5547 of _ lecture notes in computer science _ , pages 248262 .",
    "springer berlin / heidelberg , 2009 .",
    "r.  williams , c.  p. gomes , and b.  selman .",
    "backdoors to typical case complexity . in _ proceedings of the 18th international joint conference on artificial intelligence _ , 11731178 , san francisco , ca , usa , 2003 ."
  ],
  "abstract_text": [
    "<S> robust search procedures are a central component in the design of black - box constraint - programming solvers . </S>",
    "<S> this paper proposes activity - based search , the idea of using the activity of variables during propagation to guide the search . </S>",
    "<S> activity - based search was compared experimentally to impact - based search and the wdeg heuristics . </S>",
    "<S> experimental results on a variety of benchmarks show that activity - based search is more robust than other heuristics and may produce significant improvements in performance . </S>"
  ]
}