{
  "article_text": [
    "empirical stellar spectral libraries are crucial for many areas of astronomical research that include , but are not limited to , simple assignment of stellar spectral types by - eye , more complicated machine learning spectral typing , and modeling the spectral energy distributions and stellar populations of galaxies . the determination of stellar properties such as surface gravity , metallicity and effective temperature is often completed by comparisons to empirical templates with known parameters , or modeled spectra .",
    "stellar template libraries are also an important teaching resource , from examples of stellar spectra for introductory classes , to detailed radiative transfer at the graduate level . with the advent of the large synoptic survey telescope ( lsst ;",
    "* ) and many other large surveys , photometric data sets of unprecedented size will be available to astronomers .",
    "lsst will not include a spectrograph , and so the characterization of stellar parameters must be based entirely on the available photometric data . in preparation for lsst",
    ", @xcite created a machine learning technique , which was taught to determine metallicities solely from photometric colors , using sloan digital sky survey ( sdss ) stellar spectra with log @xmath1 , [ fe / h ] , and @xmath2 measurements from the segue stellar parameters pipeline ( sspp ; * ? ? ? * ) .",
    "the pipeline , however , is only quoted to be accurate for spectral types f through mid - k ( outside this temperature range may be accurate but requires further testing ) , excluding a large portion of stellar parameter space . in the modern age of these large surveys",
    ", data sets will be so large that individual analyses will be infeasible , and machine learning or other statistical techniques will become increasingly important . to accurately train machines , datasets with known properties that cover the entire range of parameter space is needed .",
    "empirical spectral libraries have a rich history in stellar astronomy ( e.g. , an atlas of digital spectra of cool stars : @xcite ; pickles : @xcite ; elodie : @xcite ) , but each has limitations , and none of them include a range of m star properties . because of the complex molecular rich atmospheres of low - temperature stars , estimates of log @xmath1 and [ fe / h ] have only become accurate within the last few years ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , and were therefore unavailable when these libraries were assembled .",
    "the elodie library is also limited by its small wavelength coverage ( 3900  6800  ) , which does not include many of the longer - wavelength features necessary for studying low - mass stars metallicities and surface gravities ( e.g. , na i at 8200  ) .",
    "numerous groups have used sdss to create partial libraries of specific effective temperature regions because of the wide wavelength coverage and vast number of spectroscopic and photometric observations available . in the solar mass regime ( 4,500  7,500 k )",
    ", @xcite created the sloan extension for galactic exploration and understanding ( segue ) sspp and estimated @xmath2 , log @xmath1 , and [ fe / h ] for over 100,000 stars . in the low - mass regime , @xcite first assembled a sample of m , l and t dwarf single object spectra .",
    "@xcite improved upon the sample by creating co - added templates for active and non - active low - mass stars ( m0-l0 ) , and @xcite extended the templates through the spectral subtype of l6 .",
    "@xcite expanded the library further by compiling co - added templates of low - mass ( and low - metallicity ) subdwarfs .",
    "however , there is no single source library that covers parameter space in the low - mass end ( m dwarf metallicities and surface gravities ) through the high - mass regime .",
    "synthetic template libraries are also used widely throughout astronomy and are extremely useful tools , since the parameters like log @xmath1 , [ fe / h ] , and @xmath2 are model inputs and can span a wider parameter space than any empirical template library .",
    "many of these complete model libraries are available to the public ( e.g. , kurucz : @xcite ; bt settl : @xcite ) .",
    "however , the models must use simplifications such as plane parallel , local thermal equilibrium , etc .",
    ", to create these synthetic spectra @xcite .",
    "synthetic stellar spectra are also limited because of incomplete lists of line opacities , and a lack of knowledge of input parameters for pressure broadening models @xcite .",
    "this is especially problematic for the complex , molecular - rich atmospheres of low - mass stars , where the model spectra do not exactly match the observed spectra across all wavelengths .",
    "empirical libraries are therefore still extremely important both to constrain models and to use in regimes where the models are limited .    with a new",
    ", complete stellar template library , spectral typing and determinations of other important stellar properties will improve .",
    "in addition , the templates can be used in more complicated stellar population modeling .",
    "stellar population synthesis models have long been used as a tool to assemble model galaxies from the co - addition of individual stellar spectra ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "many studies have used these model galaxies to determine basic galactic properties such as mass - to - light ratios ( m / l ) and to refine the tully - fisher relation ( e.g. , * ? ? ?",
    "recently , this method has been used to study the initial mass function ( imf ) in distant galaxies and has led to a growing body of evidence that the imf is not constant as previously thought , but can change depending on the environment ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "the debate over the form of the imf is concentrated in the low - mass end of the stellar sequence ( @xmath3 ) , where estimates of its form produce different numbers of low - mass stars that span at least an order of magnitude . to disentangle the low - mass stars from the spectrum of an elliptical galaxy ,",
    "whose light is completely dominated by red giants , @xcite examined absorption features ( na i and feh ) that are prominent in low - mass , main - sequence stars and inferred the abundance of low - mass stars , and hence an imf . a leading hypothesis for the physical parameter that best correlates with changes in the imf is metallicity . to explore this scenario",
    "further , we need a template library with high quality low - mass stars that include metallicity variations and a wavelength coverage that includes these dwarf sensitive features ( na i at 8200   and feh at 9919  ) .    in this paper , we present a library of empirical stellar spectra for spectral types o5-l3 .",
    "our library separates out luminosity classes ( dwarf and giant ) for spectral types a0 through m8 , and contains metallicity bins for spectral types a3 through m8 .",
    "we do not include white dwarfs in our sample ; several catalogs of sdss white dwarfs can be found in other studies ( e.g. , * ? ? ?",
    "the templates were created by the co - addition of individual stellar spectra from sdss s baryon oscillation spectroscopic survey ( boss ) .",
    "boss contains over 500,000 well - calibrated stellar spectra spanning wavelengths 3,600  10,400   at a resolution of @xmath4 @xcite .",
    "this stellar template library spans stellar parameter space and contains wavelength coverage that is not available from other empirical libraries .",
    "in addition , because each object has photometry associated with it , we can use this library to identify empirical photometric relations among spectral type , metallicity , surface gravity and color .",
    "along with the templates , we are also releasing a revised version the  hammer \" spectral type facility @xcite , dubbed  pyhammer \" .",
    "the original code assigns an automatic spectral type by measuring a variety of spectral lines / features and performing a least - squares minimization .",
    "the code also allows the user to complete visual spectral fitting .",
    "we have rewritten the code in python using our templates for comparison , and augmented the code to assign a metallicity , in addition to a spectral type .",
    "we also include a gui for visual spectral typing .    in the following sections , we present the methods for determining the spectral type , the radial velocity ( section [ rv ] ) , the surface gravity ( section [ logg ] ) , and the metallicity ( section [ metallicity ] ) .",
    "we then describe the co - addition process ( section [ coadd ] ) .",
    "next , we describe the results from the spectroscopic data of the templates ( section [ results : spec ] ) , and the photometric data ( section [ results : phot ] ) . finally we draw conclusions for our templates in section [ conclusions ] .",
    "we also include an appendix , which describes the  pyhammer \" spectral typing code released along with this paper .",
    "we selected and co - added spectra in bins of metallicity ( [ fe / h ] ) , surface gravity and spectral type to create our empirical catalog .",
    "since no universal pipeline or technique exists for determining metallicities and surface gravities over the full range of stellar temperatures , we used a combination of techniques to extract this information from individual spectra , dependent on their spectral type .",
    "we separated the spectra into the following six spectral classification categories , each of which have a different method for the determination of parameters : o and b stars ; a stars ; f , g and early k stars ; late k and early m stars ; and late m stars .",
    "our catalog contains templates for early - type l stars as well , but we did not separate by surface gravity or metallicity for the l subclasses because the majority of the metal sensitive and surface gravity sensitive features are in the infrared .",
    "@xcite assembled a library of ultracool dwarfs , which uses both original sdss spectra and newer boss spectra , and has been spectroscopically classified ( using the original ",
    "hammer \" program ) .",
    "we therefore selected all of the spectra taken with boss , and used those for our l dwarf templates .    to ensure the quality of all of the spectra and photometry , we applied some basic quality cuts within our initial sdss casjobs query .",
    "we measured the signal - to - noise in each of the five photometric bands .",
    "we included the object if the median value of the five signal - to - noise values ( from each band ) was greater than ten .",
    "we also required that the spectra to be classified as a star ( not a galaxy or qso ) , and to be taken with the boss spectrograph .",
    "we required that the errors in the photometry be less than 0.1 mag in each individual band that is included in the final co - added photometry , and that the photometry in that band was not flagged for being deblended , containing a cosmic ray , or saturated .",
    "finally , we required that the extinction in the _ r_-band be less than 0.25 mag for the object to be included , which we found effectively removed any spectra that were visibly altered by extinction .    once the spectra were selected , we visually classified each of the spectra using the  hammer \" spectral type facility @xcite .",
    "we then calculated a radial velocity ( section [ rv ] ) to shift each spectrum into its rest frame before further spectral analysis and/or co - addition .",
    "we separated the spectra into metallicity ( section [ metallicity ] ) and surface gravity ( section [ logg ] ) bins when applicable .",
    "there are some holes in our template coverage across parameter space , where we could not find boss spectra at all the metallicity / spectral type / surface gravity values .",
    "once segregated , each spectrum was cataloged and co - added to create empirical spectral templates ( section [ coadd ] ) .        for the o , b , and a stars , we used the spectroscopic radial velocities from the sdss spectroscopic reduction pipeline @xcite .",
    "the spectro1d pipeline performs two estimates of radial velocities : a cross - correlation with stellar templates from sdss commissioning spectra with known radial velocities , and a comparison of emission lines to common galaxy and quasar emission lines .",
    "the final radial velocity is chosen from the method with the highest confidence level .",
    "the quoted accuracy is about 1015 km @xmath5 @xcite .",
    "stars with effective temperatures between 4,500  7,500k ( @xmath6k4-f0 ) fall within the temperature range where @xcite quote that the sspp produces reliable stellar parameters ( e.g. , metallicities , surface gravities , effective temperatures , and radial velocities ) .",
    "we used the radial velocities determined by the sspp for these intermediate temperature stars .",
    "the sspp determined the radial velocity shifts by cross correlating the templates with the elodie templates @xcite , a method which was shown to be more reliable than the original sdss spectroscopic reduction pipeline in @xcite .",
    "however , the elodie library is not complete , and if no matching template existed , the sspp adopted the original radial velocity determined by the spectro1d pipeline .",
    "the radial velocities determined by cross correlation to the elodie templates have reported uncertainties of 59 km @xmath5 @xcite .      to determine the radial velocities for the lowest - temperature stars",
    ", we chose to perform our own cross correlation with the m dwarf template library from @xcite , for spectral subclasses k5 through m9 , and @xcite for the l dwarfs .",
    "the cross correlation method examines three regions of the spectrum ( 50006000  , 60007000  , and 80009000  ) , and for each region performs a cross correlation .",
    "the minimum of the cross correlation function is recorded , and a sigma clipped median of the measurements from all the regions is reported as the radial velocity .",
    "we calculated an uncertainty from the standard deviation of all the individual radial velocity measurements ( in each region ) added in quadrature with the precision at which radial velocities can be calculated from boss s resolution .",
    "we take this radial velocity precision to be @xmath7 km @xmath5 as determined by @xcite in a comparison with high precision radial velocity measurements of hyades cluster members . in the comparison with the hyades cluster",
    ", @xcite found radial velocities that were on average 4 km @xmath5 more precise than the standard sdss pipeline s radial velocities .",
    "for the templates with a signal - to - noise ratio ( snr ) @xmath8 we find a median uncertainty of @xmath9 km @xmath5 .",
    "the radial velocity code used to compute these values will be available with the pyhammer code .",
    "further descriptions of the code , and tests of its accuracy are given in the appendix .",
    "for the highest temperature stars ( o and b ) , we did not separate by surface gravity . even though we do not distinguish between dwarf and giant stars , we can eliminate white dwarf contaminants from our sample , which are the vast majority of non - main - sequence stars in this temperature regime @xcite . to address this contamination ,",
    "we cross matched our sample with the @xcite catalog of sdss white dwarfs to remove the majority of the contaminants .",
    "we also spectroscopically vetted our sample of white dwarfs during the visual spectral classification process , removing any sources with significant line broadening associated with the extreme surface gravities of white dwarfs .",
    "this white dwarf vetting process was also applied to a - type stars .      according to stellar evolution models",
    ", giants do not spend much time in the a star color regime @xcite . in a uniform sample",
    ", we could assume that the majority of the a stars in our sample were main sequence stars and would not need to be separated by surface gravity .",
    "however , due to the sdss target selection , previous studies have shown that a significant portion of halo stars with a star colors are giants called blue horizontal branch stars ( bhb ; * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , making surface gravity estimates necessary .",
    "because a stars do not fall within the conservative temperature range for which @xcite state that the sspp parameters are accurate , @xcite independently determined the surface gravities for over 10,000 stars with a - star colors in sdss by measuring the width of the wings of the balmer absorption lines .",
    "stars with higher surface gravities should exhibit noticeably broader lines because of increased pressure broadening .",
    "@xcite then compared the results of their surface gravity values to the results reported by the sspp and found @xmath10 of stars fell into the same category ( dwarf or giant ) , thus extending the temperature range for which the sspp can be trusted to distinguish main - sequence from giant a - type stars .",
    "we therefore adopted the sspp method and separated our a stars into a main sequence and a giant bin , using the same criteria listed in @xcite , where a bhb giant had log @xmath11 and a main sequence star had log @xmath12 . for more information about how the sspp calculated surface gravities see section [ fgklogg ] .    in figure",
    "[ f : alogg ] , which shows the distribution of a star surface gravities , we see two distinct populations of a - type stars .",
    "the distribution is very similar to the previous work on surface gravities of a stars by @xcite .",
    "figure [ f : alogg ] also validates our visual vetting process to remove white dwarfs , since there are no stars with surface gravities in the white dwarf range ( typically log @xmath13 ) in our sample .",
    "we can then be relatively confident that white dwarf contamination in our o and b stars is also minimal .",
    "distribution of all the stars selected ( and spectral typed ) as a stars .",
    "there are two distinct populations : one centered around log @xmath14 and one around log @xmath15 .",
    "the population with lower surface gravity is consistent with blue horizontal branch giants , while the higher surface gravity population is composed of main sequence stars and/or blue stragglers . the dashed line at log @xmath16 marks the distinction between main sequence stars ( to the right of the line ) and bhb giants ( to the left of the line ) .",
    "]      the sspp computes an extremely robust calculation of stellar parameters based on both sdss spectroscopy and photometry .",
    "reported surface gravities from the sspp use ten different methods , each of which determines a surface gravity estimate .",
    "most of these methods are well tested , and include : minimization of spectra and photometry compared to models @xcite , neural network approaches @xcite , spectral line fits as a function of broadband colors @xcite , and measurements of well known surface gravity sensitive lines ( ca i : 4226.7 , mgh : 5200 ; * ? ? ? * ) . after a surface gravity",
    "is returned by each of these methods , statistical outliers are removed from the sample and the final bi - weight average of the log @xmath1 of the star is returned @xcite",
    ". the sspp returns surface gravities to an accuracy of @xmath17(log @xmath18 dex within the spectral range of f , g , and early k stars @xcite .",
    "we split the spectra into two different surface gravity bins representative of giants and dwarfs .",
    "the padova stellar evolution tracks @xcite specify a temperature , surface gravity , and evolutionary phase ( e.g. , subgiant , giant , supergiant , white dwarf ) for each initial mass . using this information , we chose to call anything with @xmath19 log @xmath12 a main sequence dwarf star , and anything with log @xmath20 a giant star .",
    "we do not include any stars with log @xmath1 values between 3.2 and 3.8 , but keep this range as a buffer zone , because stars with different temperatures turn off the main sequence at slightly different log @xmath1 values .",
    "anything with log @xmath21 is considered a white dwarf .",
    "we did not separate into giants , subgiants and supergiants because any further separation resulted in too few spectra for each bin .      to distinguish low - temperature dwarfs from giants we followed the steps in @xcite .",
    "since giants are intrinsically bright , and thus have to be at large distances in sdss , they will not exhibit observable proper motions . to isolate main sequence stars",
    ", we required that the proper motion in ra or dec be greater than two times the error in the proper motion , while the giant stars must have proper motions less than two times the error in the proper motion .",
    "this proper motion cut however , introduces a high percentage of extra - galactic source contamination in the giant category because elliptical galaxies spectra often resemble m stars ( since m giants are the main observable constituent ) , and also will not have any measurable proper motion .",
    "@xcite note this problem in isolating m giants , and use a @xmath22 color cut ( equation 5 in * ? ? ?",
    "* ) , which @xcite show effectively separates the two populations .",
    "main sequence and giant stars also occupy distinct locations on the @xmath23 color diagram @xcite . to use the ir color cuts ( equations 1  3 in * ? ?",
    "* ) that make use of the dwarf - giant distinction in ir color space , we matched all of our sdss targets with the corresponding targets from the two micron all - sky survey ( 2mass ) , which provided us with @xmath24 , @xmath25 , and @xmath26-band photometry for each object .",
    "@xcite conclude that using all of the m giant photometric and proper motion cuts returns approximately @xmath27 m giants ( contaminants include : dwarfs , galaxies , other sources ) .",
    "contamination in the m dwarf category should be minimal , since any giant close enough to have a measured proper motion would saturate the sdss detectors .    to remove the remainder of the non - giant contaminants from our m giant category",
    ", we resorted to visual inspection of the spectra .",
    "we found a few carbon star and extragalactic sources , which could easily be identified spectroscopically . to spectroscopically distinguish dwarfs from giant stars , we focused on the gravity sensitive features , na i ( 8200  ) and the calcium triplet ( @xmath68600  ) . the na i doublet is extremely sensitive to gravity @xcite and is only strong in dwarf stars , while the calcium triplet is more prominent in giant stars @xcite .",
    "after our spectroscopic classification , we conservatively removed @xmath28 of the selected stars and we expect the vast majority of our remaining spectra are true m giants .",
    "we do not separate o and b - type stars by metallicity .",
    "the metallicity history of the disk of the milky way is well constrained in time @xcite , with recent measurements of metal content being roughly solar metallicity .",
    "since o and b stars have such short lifetimes ( @xmath29 million years ) and the majority of stars are formed within the disk , we can assume that the majority have metallicities ( [ fe / h ] ) between 0.0 and 0.5 dex .",
    "because a stars have significant lifetimes ( up to a couple billion years ) , we expect there to be a larger spread in metallicities than found in o and b stars .",
    "previous studies of a stars within sdss have also shown a much larger spread in metallicity than the metallicity histories of the milky way disk predict ( e.g. , * ? ? ?",
    "* ) , making it important to determine metallicity estimates for these stars .",
    "since the halo does not have ongoing star formation , we would expect the only low - metallicity stars to be low - mass stars , because a stars formed when the galaxy was on average lower - metallicity would have evolved off the main sequence .",
    "however , low - metallicity ( [ fe / h ] @xmath30 ) a stars with surface gravities comparable to main sequence stars ( dubbed  blue stragglers \" ) are observed in the halo with high frequencies @xcite . because a stars have effective temperatures @xmath31 k , and are therefore outside the quoted accuracy limits of the sspp , we tested the sspp metallicity outputs by comparing to synthetic stellar models .",
    "we used the phoenix models ( bt settl grid ; * ? ? ? * ) and compared different metallicities of the same temperature to determine the most metal sensitive lines .",
    "synthetic models of a stars are reliably accurate because their absorption profiles are relatively simple ( do not contain molecules or dust ) , yet they are not quite hot enough to be dominated by non - local thermodynamic equilibrium metal line - blanketing @xcite . figure [ f : adivision ] shows the ca ii k line ( 3933.7  ) , which is by far the most metal sensitive line and remains metal sensitive for temperatures from 7400 k ",
    "9800 k. above 9800 k , the effective temperature is so high that the ca ii k line is weak and the depth of the ca ii k absorption line is on the same order as the uncertainties , making metallicity estimates for a0 through a2 stars unreliable .",
    "= 0.5 for different spectral subtypes @xcite .",
    "the ca ii k line shows the largest dependence on metallicity for a stars . for the a8 ( top ) and a4 ( middle ) stars ,",
    "there are significant changes between the metallicity bins .",
    "while the a1 ( bottom ) spectrum does show changes in ca ii k line depth , they are not significant enough changes for us to confidently separate out metallicity bins based on the equivalent width of the ca ii k line . ]",
    "we created metallicity estimates by determining the equivalent width of the ca ii k line for different metallicity bt settl models @xcite .",
    "we used models with a log @xmath1 value of @xmath32 . to determine the equivalent widths of the bt settl models , we first changed the resolution to match that of boss ( r=2000 ) .",
    "we processed all of the models through the  hammer \" spectral typing facility to accurately compare the effective temperature based models to the the spectral typed boss spectra .",
    "effective temperature and spectral type should be roughly one to one , but are not necessarily regularly spaced throughout the entire stellar spectral sequence . to construct the metallicity bins , we measured the equivalent width of ca ii k for stars with metallicities of [ fe / h ] = -2.0 through [ fe / h ] = + 0.5 ( with bin sizes of @xmath33 dex ) , for the equivalent model of each spectral subtype .",
    "we calculated a 5-sigma clipped average of the regions to the left ( 4010   4030  ) and to the right ( 3913 3933  ) of the feature to fit a continuum value . depending on the temperature of the model spectrum , we either defined a 12   region ( for stars with @xmath34 k ) or a 6   region ( for stars with @xmath35 k ) around the central wavelength of 3933.7  , to completely encase the absorption line . using the equivalent widths of the ca ii k lines measured from the model spectra",
    ", we identified a relation between metallicity and the strength of the ca ii k absorption line ( table [ t : astar ] ) .",
    "we then measured the equivalent width of the line using the same numerical integration technique on all the boss spectra , which were first shifted into their rest frame using the radial velocities ( see section [ rv ] ) .",
    "we then separated the spectra into metallicity bins using the equivalent width regions in table [ t : astar ] .",
    "c c c c c c l    a3 & 0.2 & 0.35 & 0.56 & 0.74 & 0.92 + a4 & 0.36 & 0.56 & 0.87 & 1.10 & 1.50 + a6 & 0.44 & 0.63 & 1.00 & 1.30 & 1.66 + a7 & 0.53 & 0.84 & 1.35 & 1.71 & 2.00 + a8 & 0.62 & 1.05 & 1.39 & 2.19 & 2.63 + a9 & 0.74 & 1.24 & 1.97 & 2.62 & 3.09 +    [ t : astar ]    we compared our metallicity estimates to those from the sspp as both a sanity check , and as validation that the sspp can determine metallicity estimates passed the quoted upper temperature limit .",
    "we find that @xmath36 of the sspp estimates are within 1 bin of our estimates .",
    "we expect this type of spread within 1 bin since even with small uncertainties in [ fe / h ] ( @xmath37 dex ) , the spectra can be placed in an adjacent bin .",
    "we can conclude that the sspp and measurements of the ca ii k line are in relative agreement . with this validation , we continue to use our derived ca ii k metallicity bins , and are confident that these cuts represent real changes in metallicity .      the metallicity estimate returned by the sspp uses a combination of 12 different methods , which include all the same spectral template fitting , neural network approaches , and photometry comparisons as mentioned in section [ fgklogg ] .",
    "however , for metallicity estimates , different lines that are known to be metal sensitive ( instead of gravity sensitive ) are used @xcite , including the ca ii h and k lines ( @xmath38  ) and the ca ii triplet ( @xmath39  ) . after determining metallicities in all these ways ,",
    "statistical outliers were removed from the sample and the final bi - weight average of the metallicity of the star is returned @xcite in the same way as was done for the log @xmath1 values .",
    "this method is accurate to @xmath17([fe / h ] ) = 0.11 dex @xcite .",
    "low mass stars molecule rich atmospheres make them extremely difficult to model @xcite , and therefore we can not use the same method as the a stars ( comparison to models ) to measure their metallicities .",
    "recent work using m dwarfs with wide binary fgk companions have led to several new techniques for estimating m dwarf metallicities .",
    "@xcite uses @xmath40 absorption features in k5 through m4 dwarfs that are shown to be metal sensitive to estimate metallicities to a precision of @xmath41 dex for the metallicity range @xmath42[fe / h]@xmath43 .",
    "we employed the @xcite method and measured metallicities for over 3,000 individual m dwarfs ( no giants ) .",
    "each spectrum was separated into a metallicity bin : [ fe / h ] @xmath44 ; -1.0 @xmath45 [ fe / h ] @xmath46 ; @xmath47 [ fe / h ] @xmath48 ; @xmath49 [ fe / h ] @xmath50 ; and [ fe / h ] @xmath51 .      the majority of methods for determining the metallicity for late - type m dwarfs ( m5-m8 ) use ir spectral features ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ) , which are not within the boss spectral coverage .",
    "@xcite also showed that the spread in the @xmath52 color around the stellar locus in a @xmath53 color diagram is primarily due to metallicity .",
    "we obtained @xmath54 and @xmath26-band photometry by matching the sdss catalog with the 2mass catalog .",
    "we therefore separated the m dwarf spectra ( not giants ) into rough metallicity bins using ir color cuts equation 15 in @xcite , which have a precision between @xmath55 dex and @xmath33 dex .",
    "we created three metallicity bins : [ fe / h ] @xmath56 ; @xmath47 [ fe / h ] @xmath48 ; and [ fe / h ] @xmath57 . even though the uncertainties are relatively high , the overlap between the high and low metallicity bins should be minimal since the difference in metallicity between our low and high metallicity bin is greater than the 0.5 dex uncertainty stated by @xcite .",
    "the boss spectra are logarithmically spaced and in vacuum wavelengths . using the radial velocities determined as described above , we shifted all of the spectra into their rest frames .",
    "we used a similar method to @xcite , except our wavelength grid was spaced evenly in logarithmic space ( intervals of 5 km s@xmath58 ) instead of linearly spaced .",
    "the flux was then inserted ( without interpolation ) into the appropriate location on the flux grid corresponding to the shifted wavelength .",
    "the flux grids were then normalized to the flux at 8000  .",
    "the spectral resolution is increased in this process because the shifts in radial velocity can be measured to precisions of @xmath59 km s@xmath58 and were added into a grid with a spacing of 5 km s@xmath58 .",
    "the process is essentially combining many low resolution spectra into a higher resolution template , and is very similar to the  drizzle \" process used to combine astronomical images @xcite . during the co - addition , we also corrected for a spike in flux located around 5600    present in many of the spectra , caused by stitching the spectra from the red and blue boss cameras together .",
    "finally , we trimmed the grids at 3650   and 10200  , to avoid areas that were not complete after the radial velocity shifts .",
    "we also propagated the uncertainty reported by boss for each spectrum throughout this process and calculated the standard deviation of the co - added templates at each spectral channel for each template .",
    "c c c c c c l    o5 & 10 & 1.015 & 1.013 & 0.892 & 0.912 + b6 & 5 & 0.986 & 1.019 & 0.834 & 1.029 + a6_-0.5_dwarf & 3 & 0.953 & 1.003 & 0.788 & 0.979 + f6_+0.0_dwarf & 29 & 0.648 & 0.965 & 0.881 & 0.985 + g6_-1.5_giant & 13 & 0.587 & 0.975 & 0.922 & 0.987 + k5_-0.5_dwarf & 11 & 0.588 & 0.781 & 0.954 & 0.991 + m4_+0.5_dwarf & 7 & 1.010 & 0.672 & 1.053 & 0.902 + l1 & 34 & 0.613 & 1.391 & 1.043 &",
    "0.683 +    [ t : spectra ]    we present a subset of our 324 template spectra in table [ t : spectra ] ; the full table is available for download in the online journal .",
    "each entry displays the number of boss spectra co - added to create the template , along with measurements of 29 spectral indices .",
    "the spectral indices , which are ratios of the flux in the region of the absorption feature divided by the continuum flux , are the features used by pyhammer to estimate the spectral type and metallicity ( see section [ pyhammerestimates ] for details on the spectral indices ) .",
    "figures [ f : obaspec ] through [ f : mkspec ] display a subset of the template spectra .",
    "all of the spectra are available in fits formats by clicking on the link for the data behind the figures , and online in sdss formatted fits binary tables , or in standard fits format in a public dropbox folder . for those interested in the complete sample , all the individual boss spectra co - added for each template are available in a zenodo repository , organized by the spectral type , luminosity class , and metallicity , or by contacting the corresponding author .",
    "figures [ f : label_highmass ] and [ f : label_lowmass ] show one spectrum from each spectral class , with all of the prominent absorption features labeled .",
    "these figures will be especially useful in the classroom .",
    "the templates and associated figures can be used by introductory students first viewing stellar spectra , as well as the seasoned astronomer , who may not have seen high - quality spectra that span the entire optical wavelength and parameter space .",
    "figure [ f : metalspec ] shows an expanded view of the ca ii k and na i d metal sensitive features in different regions of the spectra ( 3933 and 5890  , respectively ) .",
    "the ca ii k line is prominent in high - temperature stars , while the na i d lines are almost absent . in low - temperature stars ,",
    "the trend is the opposite .",
    "we find that the na i d lines are a useful metallicity indicator for f through early m - type stars , and the ca ii k line to be a useful metallicity indicator for a and f stars .",
    "the higher metallicity spectra have deeper absorption features ( larger equivalent widths ) for both of these features . in the bottom panel of figure",
    "[ f : metalspec ] , the lowest metallicity templates also show very few features outside of the neutral sodium d doublet and are virtually flat for the f6 and g5 spectra .",
    "the k3 and m1 spectra have very few low - metallicity spectra that are co - added to create the templates , and are therefore more noisy than their higher metallicity counterparts , yet still show a lack of real absorption features .",
    "figure [ f : dwarfgiantspec ] is similar to figure [ f : metalspec ] except it shows differences between dwarf and giant spectra for a range of spectral types . because g and k stars were selected with the sspp , we have metallicities for both the dwarf and the giant star , and therefore show the same metallicity and spectral type .",
    "the top panel of figure [ f : dwarfgiantspec ] shows the entire spectrum for both a dwarf and a giant spectrum for the spectral classes g5 , k3 and m0 . the continua ( even without features ) are slightly different , with more flux in giants coming from the red end , and more flux in the dwarfs coming from the blue end of the spectrum .",
    "the bottom panels show a closer look at three absorption features , which which are sensitive to surface gravity ( bottom left : mg b / mgh and na i d , bottom right : ca ii triplet ) .",
    "the mg b and mgh feature around 5100   is absent in metal poor giants , weaker in population i giants as compared to dwarfs , and prominent in dwarfs @xcite .",
    "the m giant does not include a metallicity estimate , but because the mg / mgh feature is absent , we can assume it is a sub - solar metallicity giant .",
    "the na i d lines are also often used as an age indicator since the feature is extremely strong in dwarfs and nearly non - existent in giants @xcite .",
    "alkali atoms in general are all extremely sensitive to density because the sole valence electron can easily be perturbed by small changes in pressure @xcite , making sodium transitions good surface gravity ( and age ) indicators .",
    "lastly , the equivalent width of the calcium triplet around 8600   is known to be larger in giants than in dwarfs @xcite , which our spectra show in the the bottom left panel .    in our sample ,",
    "we find low - metallicity k giants , but no high - metallicity k giants or late - type m giants ( of any metallicity ) .",
    "stellar evolution models show that low and high - metallicity giants occupy two different temperature regimes .",
    "stars with lower metallicity become hotter giants since they can not cool as efficiently , while higher metallicity giants can cool more quickly and therefore occupy the late - type m giant regime @xcite . with the stellar evolution models in mind ,",
    "the lack of late - type giants is expected in the sdss data ; there is a strong bias in the metallicity of the giants we can observe with sdss . because of the sight lines observed in the sdss footprint , the most distant stars ( i.e. giants ) are located at high galactic latitudes .",
    "the stars located at large distances above the galactic plane are on average between 0.5 and 1.0 dex more metal poor than their closer counterparts @xcite .",
    "therefore , in sdss we do not expect to see many ( high metallicity ) m - type giants , which is validated by @xcite who find that less than 2% of stars redder than a spectral type of k5 in a magnitude limited sdss field were giants .",
    "along with these templates , we are releasing a computing product ( dubbed  pyhammer \" ) , which can assign both an automatic estimate of spectral type and metallicity , and/or be used to visually classify spectra .",
    "pyhammer uses the templates from this paper as comparisons to automatically determine the spectral type and an estimate of the metallicity by measuring prominent line indices and performing a weighted least squares minimization .",
    "the gui then allows the user to visually compare their spectra to the templates and visually determine the spectral type and metallicity .",
    "this code is based on the  hammer \" spectral typing facility @xcite , but has been updated to include metallicity information and now is in python ( instead of idl ) .",
    "we have also added a component to determine the radial velocity of the stars , and improved on the automatic guessing method .",
    "the pyhammer code is unique because it does not use synthetic spectra to determine metallicities and spectral types , and both has an automatic and visual or  by - eye \" component .",
    "details of the code ( including how to download and operate it ) can be found in the appendix .      along with the spectra ,",
    "we report average photometric colors for each template .",
    "table [ table : photometry ] shows a sample of our templates with the photometry information . the full table , which includes each template with all of the color information and associated uncertainties is available to download in ascii format in the online journal .",
    "the colors are averaged over each individual spectrum co - added in a template , after those with bad photometry are removed ( i.e. , flagged for being deblended , containing a cosmic ray , or saturated ) .",
    "the rms is the standard deviation of all of the colors for the individual spectra , and the @xmath17 is the propagated uncertainty in photometry provided by sdss . on average",
    ", the low metallicity templates have bluer colors than the high metallicity templates .",
    "a comparison with @xcite indicates that the colors are comparable .",
    "figure [ f : colorcolor_metal ] shows graphically the trend that low - metallicity stars are bluer on average .",
    "the overall trends ( ignoring metallicity ) are almost identical to those shown in @xcite , however when metallicity information is added , the spread in the main sequence seems to be almost entirely due to metallicity . the top two plots in figure [ f : colorcolor_metal ] show an especially significant distinction between the low and high - metallicity stars , which demonstrates that the _ u - g _ color is extremely useful for differentiating metallicities . this trend seems to be valid from f dwarfs through",
    "mid - type m dwarfs ( @xmath6m4 ) .",
    "the a stars seem to hold to the same trend , however the photometry is not as spread out in that region of color - space , making it extremely difficult to accurately distinguish metallicities . beyond the mid - type m dwarfs , the light emitted in the _",
    "u_-band is too faint to report an accurate _",
    "u_-band measurement .",
    "other studies of stars in sdss ( e.g. , * ? ? ?",
    "* ) have observed color trends with metallicity in the past , however metallicity information for low - mass stars was not available for those studies .",
    "figure [ f : colorcolor_dg ] shows three color - color diagrams demonstrating the color difference between luminosity classes .",
    "in general , all of the plots show the trend that giants emit more light in redder wavelengths than dwarfs . to ensure this trend is not an effect of extinction , we compared the average extinction of each template in each band ( provided by the sdss database ) .",
    "we find the difference in average extinction between the dwarf and giant templates to be smaller than the propagated errors in extinction provided by sdss , leading us to conclude that any significant change in color is not an effect of extinction and thus , a real physical effect .",
    "for the higher temperature stars ( f / g ) , we can only see the trend for bins of low metallicity because we do not have many templates for high - metallicity giants at high temperatures , and for low - temperature stars ( k / m ) we can only see the trend for high metallicities because we do not have many low - temperature , low - metallicity dwarf templates .",
    "however , with a complete set of data , we expect this trend to persist for all metallicity bins .",
    "we see the most separation between dwarf and giant stars for the lowest temperature stars ( k / m ) . k and",
    "m stars contain many large molecular features and absorption lines , so this prominent color difference can be attributed to the surface gravity affecting the strength of many of these lines .",
    "the higher temperature stars do not show any separation in most cases ( a - type , g / k - type ) , and a slight separation around @xmath60 ( f - type stars ) .",
    "c c c c c c c c c c c c c c    o5v & - & -0.24 & 0.14 & 0.02 & -0.51 & 0.02 & 0.02 & -0.36 & 0.02 & 0.02 & -0.31 & 0.02 & 0.02 + o7v & - & -0.31 & 0.05 & 0.01 & -0.47 & 0.01 & 0.01 & -0.32 & 0.01 & 0.01 & -0.34 & 0.02 & 0.02 + a3v & + 1.0 & 1.2 & 0.04 & 0.02 & -0.02 & 0.05 & 0.02 & -0.08 & 0.01 & 0.02 & -0.05 & 0.04 & 0.03 + a3v & 0.0 & 1.17 & 0.01 & 0.01 & -0.07 & 0.03 & 0.01 & -0.12 & 0.02 & 0.01 & -0.07 & 0.02 & 0.01 + a3v & -0.5 & 1.12 & 0.04 & 0.02 & -0.09 & 0.02 & 0.01 & -0.1 & 0.02 & 0.01 & -0.09 & 0.02 & 0.02 + m0v & 1.0 & 2.84 & 0.05 & 0.04 & 1.29 & 0.05 & 0.01 & 0.57 & 0.03 & 0.01 & 0.3 & 0.02 & 0.01 + m0v & 0.5 & 2.59 & 0.03 & 0.01 & 1.28 & 0.01 & 0.0 & 0.58 & 0.01 & 0.0 & 0.35 & 0.01 & 0.0 + m0v & 0.0 & 2.46 & 0.03 & 0.01 & 1.26 & 0.01 & 0.0 & 0.56 & 0.01 & 0.0 & 0.33 & 0.01 & 0.0 + f0iii & -0.5 & 1.25 & 0.01 & 0.02 & 0.27 & 0.0 & 0.01 & 0.07 & 0.02 & 0.01 & 0.05 & 0.0 & 0.02 + f0iii & -1.0 & 1.21 & 0.03 & 0.01 & 0.2 & 0.03 & 0.01 & 0.05 & 0.02 & 0.01 & 0.01 & 0.01 & 0.01 + f0iii & -1.5 & 1.16 & 0.05 & 0.01 & 0.18 & 0.03 & 0.01 & 0.04 & 0.02 & 0.01 & 0.02 & 0.01 & 0.01 + f1iii & -1.0 & 1.29 & 0.0 & 0.02 & 0.13 & 0.0 & 0.01 & -0.04 & 0.0 & 0.01 & 0.01 & 0.0 & 0.02 + [ table : photometry ]",
    "using data taken with the sdss boss spectrograph , we have compiled a new empirical stellar template library .",
    "our template library :    * covers spectral types o5 through l3 * includes dwarf and giant separation for spectral types a0 through m8 * contains metallicity [ fe / h ] bins for spectral types a3 through m8 * reports averaged photometric colors ( in sloan bands ) for all the co - added stars in each template , along with a propagated errors and standard deviations    along with the templates , we have released the pyhammer code for assigning a spectral type and metallicity automatically ( or by visual inspection ) .",
    "this code is based on the  hammer \" spectral typing facility , written by @xcite , but includes metallicity information and is now written in python .",
    "the automatic spectral typing portion of code returns the exact spectral type we determined using the original",
    " hammer \" code and metallicity we determined using the methods described in section [ metallicity ] over 50% of the time .",
    "the spread in the spectral type was 1.5 spectral sub - types , and a spread in the metallicity was 0.4 dex .",
    "visual spectral typing allows for direct comparison between input spectra and our empirical templates in an easy to use gui .",
    "the code is available on github",
    ".    the library of empirical stellar spectra will be important for a wide range of research topics from extragalactic to galactic astronomy , planetary system stellar characterization , and even as an astronomical teaching tool . with large photometric surveys such as lsst",
    ", machine learning techniques will become increasingly important to quickly characterize large amounts of data .",
    "along with releasing our templates , we will provide lists of the individual boss spectra co - added to construct each template .",
    "this combination of information will be an ideal training set for machine learning , and can extend the work of @xcite on f , g , and k stars to both higher and lower mass stars .",
    "the templates also provide the necessary tool for characterizing stellar populations in other galaxies , especially for studies of the imf .",
    "scrutiny of the low - mass end of the imf , has led many people to suggest it changes form in different environments ( i.e. different metallicity environments ) .",
    "our catalog represents the first empirical template library with metallicity and surface gravity separation for low - mass ( m - type ) stars .",
    "the catalog and the new  pyhammer \" spectral typing facility will be a useful tool for the community as a whole .    the authors would like to thank phil muirhead and chris theissen for reading this manuscript and providing much helpful feedback .",
    "the authors would also like to thank dylan morgan , chris theissen , conor robinson and philip phipps for help developing the  pyhammer \" code . a.a.w . also acknowledges the support of the nsf grants ast-1109273 and ast-1255568 along with research corporation for science advancement s cottrell scholarship .",
    "funding for the sdss and sdss - ii has been provided by the alfred p. sloan foundation , the participating institutions , the national science foundation , the u.s .",
    "department of energy , the national aeronautics and space administration , the japanese monbukagakusho , the max planck society , and the higher education funding council for england .",
    "the sdss web site is @xmath61 .",
    "the sdss is managed by the astrophysical research consortium for the participating institutions .",
    "the participating institutions are the american museum of natural history , astrophysical institute potsdam , university of basel , university of cambridge , case western reserve university , university of chicago , drexel university , fermilab , the institute for advanced study , the japan participation group , johns hopkins university , the joint institute for nuclear astrophysics , the kavli institute for particle astrophysics and cosmology , the korean scientist group , the chinese academy of sciences ( lamost ) , los alamos national laboratory , the max planck institute for astronomy ( mpia ) , the max planck institute for astrophysics ( mpa ) , new mexico state university , ohio state university , university of pittsburgh , university of portsmouth , princeton university , the united states naval observatory , and the university of washington .",
    "this publication makes use of data products from the two micron all - sky survey , which is a joint project of the university of massachusetts and the infrared processing and analysis center / california institute of technology , funded by the national aeronautics and space administration and the national science foundation .",
    "this publication also makes use of data products from the wide - field infrared survey explorer , which is a joint project of the university of california , los angeles , and the jet propulsion laboratory / california institute of technology , funded by the national aeronautics and space administration .",
    "in this appendix , we explain in detail the automatic , and visual spectral typing code , dubbed  pyhammer \" .",
    "the code automatically outputs best estimates for the radial velocity , spectral type , and metallicity ( when metallicity information is available : a3 - m8 ) .",
    "we also present the methods for determining these estimates , tests to determine the accuracy / precision of these methods , and the resulting accuracy for each parameter determined .",
    "there is also a visual , or  by - eye",
    "\" spectral typing feature , which allows the user to visually compare the input spectrum to any of the template spectra in a gui window .",
    "the pyhammer code is available on github and we have set up an email address for questions , comments and suggestions .",
    "the general procedure of the code is to first interpolate the input spectrum onto the same wavelength grid as our templates and convert to vacuum wavelengths ( if necessary ) to allow for direct comparison .",
    "we then measure 34 spectral indices and color regions given in table [ table : hammer ] ( all in vacuum wavelengths ) and make an initial estimate of the spectral type using these indices . with that spectral type estimate",
    ", we can determine the radial velocity by cross correlating the spectrum with the corresponding template .",
    "we then shift the input spectrum to its rest frame , and re - measure the 34 spectral indices to determine a more accurate estimate of the spectral type and metallicity .",
    "the radial velocity cross correlation method is based on an idl procedure ` xcorl ` @xcite , which was translated into python by @xcite .",
    "the cross correlation method examines three regions of the spectrum ( 5000 - 6000  , 6000 - 7000  , and 7000 - 8000  ) , and for each region performs a cross correlation .",
    "the shift that produces a minimum in the cross - correlation function is recorded , and a sigma - clipped median of the measurements from all the regions is reported as the radial velocity .    to test the radial velocity code , we compared our measured radial velocities to previously measured radial velocities across the full spectral range . since there were three different methods ( one for o , b , and a - type stars , one for f , g , k - type stars , and one for m - type stars ) used for the initial radial velocity calculations , each with different uncertainties , we chose a sample of spectra in each of the temperature regimes with which to compare our radial velocities .",
    "for the f , g and k - type stars , we compared our radial velocities to radial velocities derived in the sspp , which are accurate to @xmath679 km s@xmath58 ( see section [ fgk : rv ] ) . to validate the radial velocities for the low - temperature stars , we compared the radial velocities of the @xcite sample of m dwarfs , derived by cross correlation with @xcite m dwarf templates , to our measured radial velocities .",
    "the m dwarf radial velocities reported in the sample ( boorv field ) are accurate to @xmath610 km s@xmath58 . for the higher temperature stars , we compared our radial velocities to the radial velocities derived from the sdss pipeline , which are accurate to 10 15 km s@xmath58 ( see section [ oba : rv ] ) , making this comparison the least accurate .",
    "the results are shown in figure [ f : rv ] .",
    "for all the comparisons the difference between the two radial velocities peaks around 0 km s@xmath58 . instead of computing a simple standard deviation , we recorded the value which encloses 34% of the data both above and below the median .",
    "we find this to be more representative than a standard deviation because the distributions are not true gaussians ( especially for the o and b - type stars ) .",
    "we find a median value of -1.2 km s@xmath58 between our measurements and the sspp values for the g dwarfs .",
    "the  1-sigma \" spreads above and below the median are 7.9 km s@xmath58 and -10 km s@xmath58 respectively . for the low - temperature stars",
    ", we find a median of 2.2 km s@xmath58 , a ",
    "1-sigma \" upper and lower bound of 10.8 km s@xmath58 and -7.1 km s@xmath58 respectively .",
    "the high - temperature stars have the lowest precision , with a median of -1.6 km s@xmath58 , an upper bound of 10.7 km s@xmath58 and a lower bound of -22.7 km s@xmath58 .",
    "the high - temperature distribution contains many outliers , which we believe is due to a combination of higher uncertainty in the sdss pipeline for high - mass stars than the 10 15 km s@xmath58 quoted values , and higher errors in our calculated radial velocities because of fewer absorption lines ( especially in o stars ) .",
    "our analysis of figure [ f : rv ] leads us to conclude that our radial velocity measurements have comparable uncertainties to those given by previous measurements for mid - temperature and low - temperature stars , with an uncertainty of @xmath62 km s@xmath58 .",
    "the radial velocities of the high - temperature stars are on par or slightly less accurate than previous measurements , with uncertainties on the order of 15 - 20 km s@xmath58 .              to assign an initial estimate of the spectral type and metallicity , we compared the input spectrum to the template spectra in the following manner .",
    "we first measured 34 spectral indices ( table [ table : hammer ] ) from each individual spectrum that was used to create the templates .",
    "for all spectra of a given spectral type and metallicity ( i.e. , each template ) , we measured the weighted mean and variance of each index for all of the co - added spectra , where the weight is the variance in the index value due to uncertainties in the observed spectrum .",
    "we repeated this process for all spectral types and metallicities .",
    "to reduce computation time , the results of this procedure were saved to an external file and not repeated each time the code was run .",
    "we compared the input spectrum to each template by computing a chi - squared value that compares the spectral indices measured from the input spectrum to the weighted mean indices described above .",
    "the variance used in the chi - squared calculation is the variance among indices of multiple stars of the same template type as described above .",
    "we reported the spectral type and metallicity of the template that produces the minimum chi - squared as the initial estimate .",
    "we chose to use indices instead of doing a chi - squared minimization of the entire spectrum because spectral indices are normalization independent , robust against missing data , and take less computational time .",
    "we tested the automatic spectral typing by running the code on the individual spectra that were used in constructing the templates and compared the estimated metallicity and spectral type to the actual metallicity and spectral type we determined .",
    "the results are shown in figure [ f : spt_compare ] .",
    "both comparisons show good agreement , with over 50% of the estimates exactly the same as the determined spectral types and metallicities .",
    "the spread in both comparisons is also extremely small , with the standard deviation being 1.5 spectral subtypes in the spectral - type comparison , and 0.4 dex in the metallicity comparison .",
    "we conclude that even without the additional visual inspection , the automatic spectral typing and metallicity estimates are within one metallicity bin and one spectral subtype over 80% of the time .",
    "c c c l ca ii k & 3923.7 - 3943.7 & 3943.7 - 3953.7 + h@xmath63 & 4086.7 - 4116.7 & 4136.7 - 4176.7 + ca i 4227 & 4216.7 - 4236.7 & 4236.7 - 4256.7 + g - band & 4285.0 - 4315.0 & 4260.0 - 4285.0 + h@xmath64 & 4332.5 - 4347.5 & 4355.0 - 4370.0 + fe i 4383 & 4378.6 - 4388.6 & 4355.0 - 4370.0 + fe i 4404 & 4399.8 - 4409.8 & 4414.8 - 4424.8 + h@xmath65 & 4847.0 - 4877.0 & 4817.0 - 4847.0 + mg i & 5152.7 - 5192.7 & 5100.0 - 5150.0 + na d & 5880.0 - 5905.0 & 5910.0 - 5935.0 + ca i 6162 & 6150.0 - 6175.0 & 6120.0 - 6145.0",
    "+ h@xmath66 & 6548.0 - 6578.0 & 6583.0 - 6613.0 + cah2 & 6814.0 - 6845.0 & 7042.0 ,",
    "7046.0 + cah3 & 6960.0 - 6990.0 & 7042.0 - 7046.0 + tio5 & 7126.0 - 7135.0 & 7042.0 - 7046.0 + vo 7434 & 7430.0 - 7470.0 & 7550.0 - 7570.0 + vo 7445 & 7350.0 - 7400.0 , 0.5625 ; 7510.0 - 7560.0 , 0.4375 & 7420.0 - 7470.0 + vo - b & 7860.0 - 7880.0 , 0.5 ; 8080.0 - 8100.0 , 0.5 & 7960.0 - 8000.0 + vo 7912 & 7900.0 - 7980.0 & 8100.0 - 8150.0 + rb - b & 7922.6 - 7932.6 , 0.5 ; 7962.6 - 7972.6 , 0.5 & 7942.6 - 7952.6 + na i & 8177.0 - 8201.0 & 8151.0 - 8175.0 + tio8 & 8400.0 - 8415.0 & 8455.0 - 8470.0 + tio 8440 & 8440.0 - 8470.0 & 8400.0 - 8420.0 +",
    "cs - a & 8496.1 - 8506.1 , 0.5 ; 8536.1 - 8546.1 , 0.5 & 8516.1 - 8526.1 + ca ii 8498 & 8483.0 - 8513.0 & 8513.0 - 8543.0 + crh - a & 8580.0 - 8600.0 & 8621.0 - 8641.0 + ca ii 8662 & 8650.0 - 8675.0 & 8625.0 - 8650.0 + fe i 8689 & 8684.0 - 8694.0 & 8664.0 - 8674.0 + feh & 9880.0 - 10000.0 & 9820.0 - 9860.0 + color region 1 & 4550 - 4650 & 4160 - 4210 + color region 2 & 5700 - 5800 & 4160 - 4210 + color region 3 & 7480 - 7580 & 4160 - 4210 + color region 4 & 9100 - 9200 & 4160 - 4210 + color region 5 & 10100 - 10200 & 4160 - 4210 +        detailed instructions on running pyhammer as well as more advanced features of the code are provided in the readme file in github , and in the ` help ' menu ( available when the visual classification guis are displayed ) .",
    "here , we will give a brief overview of how to run the code and a description of some of the features available .",
    "after starting the code ( type  python pyhammer.py \" on the command line ) , an initial gui window will appear , allowing the user to enter the name of ( or create ) the input and output files , specify a path to the spectra files , skip straight to the by - eye spectral typing ( as opposed to doing the automatic spectral typing first ) , and apply a signal - to - noise cut - off .",
    "skipping directly to the eye check stage should only be done if the automatic spectral typing has already been completed at an earlier time .",
    "if the user does not skip the automatic spectral typing , the program determines the radial velocity , metallicity and spectral type and writes these to the output file ( pyhammerresults.csv by default ) . if the user supplies a signal - to - noise cut - off , any spectrum with a median signal to noise ratio ( calculated simply as the median flux divided by the median uncertainty over the entire spectrum ) lower than the specified value is written to rejectspectra.csv .",
    "there is an example input file ( exampleinputfile.txt ) and a few spectra in the test_case folder to demonstrate how the input file should be set up , and to aid the first time user .",
    "a screenshot of the gui for the visual spectral typing is shown in figure [ f : gui ] .",
    "the gui allows the user to display the spectra and the templates on the same plot , allowing for direct comparisons .",
    "all of the normal matplotlib graphing buttons are functional , and shown in the top left corner of the gui in figure [ f : gui ] . by pushing the magnifying glass button",
    ", the user can zoom in on specific regions of the spectrum . while zoomed in the user can use the four sided arrow to scroll .",
    "finally , by pressing the home button , the graph will be taken to the original view . in the ` options ' menu at the top of the screen there are four different viewing options for the graph .",
    "the user can choose to display or not display the template rms ( in transparent blue ) .",
    "the user can also smooth the spectrum , and lock the smoothing since by default every new spectrum loaded will be unsmoothed .",
    "the smoothing option runs a simple boxcar smoothing over the input spectrum , which reduces noise and allows for easier comparisons for low signal to noise spectra .",
    "finally if the spectra are from sdss , the user can choose to remove the known false spike in the spectra at 5580  , created by the stitching together of the red end and blue end of the spectra .",
    "along with simply clicking through different templates on the bottom part of the gui shown in figure [ f : gui ] , there are many options designed to make visual spectral typing easier .",
    "the ` earlier ' and ` later ' buttons change the spectral subtype by one each time , where ` earlier ' scrolls to lower numbered subtypes ( e.g. , m4 to m3 or m0 to k7 ) , and the ` later ' to higher numbered subtypes . while the ` lower ' and ` higher '",
    "buttons change the metallicity by one bin ( 0.5 dex ) with each click .",
    "there are also buttons with other options , which have been adopted from the original hammer code .",
    "the ` odd ' button allows the user to input their own note into the space where the spectral type would normally be stored .",
    "we have set a few standard ` odd ' spectral types like white dwarf ( wd ) , white dwarf+m dwarf binary ( wdm ) , carbon star , galaxy ( gal ) and unknown , but the user may also type anything he or she would like into this space .",
    "finally , the user can proceed to the next spectrum from their input list or return to a previous spectrum using the ` back ' , ` next ' buttons .",
    "each of these buttons also has a keyboard shortcut so the entire visual spectral typing can be done with only a keyboard ( to speed up the process ) . for more information on the keyboard shortcuts",
    "go to the ` help ' menu and click on the ` keys ' tab in the pyhammer help window ."
  ],
  "abstract_text": [
    "<S> we present a library of empirical stellar spectra created using spectra from the sloan digital sky survey s baryon oscillation spectroscopic survey ( boss ) . </S>",
    "<S> the templates cover spectral types o5 through l3 , are binned by metallicity from -2.0 dex through + 1.0 dex and are separated into main sequence ( dwarf ) stars and giant stars . with recently developed m dwarf metallicity indicators </S>",
    "<S> , we are able to extend the metallicity bins down through the spectral subtype m8 , making this the first empirical library with this degree of temperature _ and _ metallicity coverage . </S>",
    "<S> the wavelength coverage for the templates is from 3650   through 10200   at a resolution better than r@xmath0 . using the templates </S>",
    "<S> , we identify trends in color space with metallicity and surface gravity , which will be useful for analyzing large data sets from upcoming missions like lsst . along with the templates , we are releasing a code for automatically ( and/or visually ) identifying the spectral type and metallicity of a star . </S>"
  ]
}