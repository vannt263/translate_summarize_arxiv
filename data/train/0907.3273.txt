{
  "article_text": [
    "the efficient market hypothesis ( emh ) , that no one with finite capital can consistently outperform the market , is the fundamental assumption in the theory of financial engineering . in mathematical finance",
    "the efficient market hypothesis is formulated as the martingale property of price processes of tradable assets such as stocks .",
    "often the martingale assumption is replaced by a more convenient assumption of `` random walk '' .",
    "although exact formulation of random walk depends on literature ( e.g.  ( * ? ? ?",
    "* chapter 2 ) , @xcite ) , the usual assumption is that the price process observed at equi - spaced time points has independent increments with mean zero , after adjustment of the systematic trend .",
    "however there are many empirical studies showing that stock price processes are not random walks ( e.g.  @xcite , @xcite ) .",
    "note that the class of martingales is larger than the class of random walks with zero expected increment ( @xcite ) .",
    "this implies that rejecting the hypothesis of random walk does not necessarily mean rejecting the hypothesis of martingale .",
    "therefore it is desirable to _ directly _ test the martingale assumption of stock price processes without assuming a random walk .",
    "we propose to test the martingale hypothesis of price processes based on our previous works on `` limit order '' type betting strategies ( @xcite ) in the framework of game - theoretic probability by shafer and vovk ( @xcite ) and an adaptation of the result by dubins and schwarz @xcite to positive measure - theoretic martingales . as discussed in section [ subsec : nonnegative - martingale - and - test ] , betting strategies in game - theoretic probability naturally yield sequential testing procedures for the measure - theoretic martingale hypothesis .",
    "moreover our strategies in @xcite are of very simple form and provide convenient testing procedures .",
    "our testing procedures depend on the direction of a price process ( `` ups '' and `` downs '' ) at times , when the process hits fixed horizontal grids of prices .",
    "we call these time points _ hitting times_. thus our procedures are very much different from procedures based on increments of price processes observed at equi - spaced time points",
    ".    one advantage of our testing procedure ( compared to equi - spaced procedures ) is that we do not have to worry about specifications of distributions of the increments , such as the the heaviness of the tail of the distribution of the increments , because in our procedures the amount of the increments are fixed by the given grids of prices .",
    "our procedure depends only on the ups or the downs of the price process between hitting times .",
    "this is contrasted with problems of model specifications for testing emh in standard approaches ( e.g.  @xcite ) .",
    "our approach is similar to the approach of testing emh based on algorithmic complexity of the ups and downs of price processes in @xcite and @xcite .",
    "in fact , it is well known that betting strategies and compression algorithms of binary strings are essentially equivalent ( * ? ? ? * chapter 6 ) .",
    "however the approaches of @xcite and @xcite are based on price movements observed at equi - spaced time points and therefore they are different from ours .",
    "the organization of this paper is as follows . in section [ sec : preliminary ] we summarize results on betting strategies in the framework of game - theoretic probability of shafer and vovk ( @xcite ) and explain that these betting strategies naturally lead to sequential testing procedures for the null hypothesis of measure - theoretic martingale . in section [ sec : martingale ]",
    "we propose our procedure for testing martingale properties of price processes based on limit order type betting strategies .",
    "we give numerical results of testing martingale properties of some japanese stock price processes in section [ sec : numerical ] , where numerical examinations are also added for the effect of transaction costs on capital processes .",
    "we conclude our paper with some remarks in section [ sec : discussion ] .",
    "in this section we give an exposition on betting strategies in game - theoretic probability based on our earlier results in @xcite , @xcite and @xcite . in section [ subsec : nonnegative - martingale - and - test ]",
    "we also remark the important fact that these betting strategies can be used for testing the null hypothesis of measure - theoretic martingale .      for simplicity of exposition",
    "we consider the biased - coin tossing game .",
    "this game is a discrete time game played by two players called `` investor '' and `` market '' .",
    "investor enters the game with the initial capital of @xmath0 . for each round investor",
    "first decides how much to bet and then market ( after seeing the investor s move ) decides the outcome . in the biased - coin tossing game ,",
    "the outcome chosen by market is either 1 ( `` up '' ) or 0 ( `` down '' ) .",
    "the formal protocol of the game is written as follows .",
    "biased - coin game + * protocol : *    = 6 @xmath1 and @xmath2 are given .",
    "+ for @xmath3 : + investor announces @xmath4 .",
    "+ market announces @xmath5 .",
    "+ @xmath6 .",
    "+ end for    we call @xmath7 the risk - neutral probability .",
    "investor can choose @xmath8 based on the past moves @xmath9 of market .",
    "suppose that investor adopts a strategy @xmath10 , which is a function specifying @xmath8 based on @xmath11 with some initial value @xmath12 .",
    "@xmath13 then investor s capital at the end of round @xmath14 is written as @xmath15 a betting strategy @xmath10 of investor is called _ prudent _ if investor is never bankrupt when using @xmath10 , i.e.   @xmath16 for all @xmath14 and for all @xmath17 .    in the framework of game - theoretic probability of shafer and vovk ( @xcite )",
    "there is no probabilistic assumption on the behavior of market .",
    "therefore market in the above biased - coin game may even be adversarial to investor .",
    "however the usual measure - theoretic assumption on the behavior of market is that market is oblivious to investor s moves and chooses @xmath18 independently as @xmath19 , ignoring investor s bet @xmath8 .",
    "we write this null hypothesis as @xmath20 where @xmath21 .",
    "note that the mutual independence of @xmath18 , @xmath22 , is also implied by @xmath23 for the biased - coin game , because the outcome @xmath18 is binary .",
    "if @xmath10 is a prudent strategy , then under @xmath23 , @xmath24 is a usual measure - theoretic non - negative martingale .    by the markov inequality for non - negative measure - theoretic martingales ( cf .",
    "chapter ii , section 57 of @xcite ) we have the following sequential testing procedure for @xmath23 .",
    "[ prop : martingale - test ] let @xmath25 be given . reject the null hypothesis @xmath26 as soon as @xmath27 , where @xmath10 is a prudent strategy .",
    "this procedure has the significance level @xmath28 .",
    "the intuitive interpretation of this proposition is as follows .",
    "@xmath23 corresponds to the efficient market hypothesis ( emh ) .",
    "investor can disprove emh by beating market , i.e. , if he can multiply his capital many times by an appropriate betting strategy .",
    "if investor can make his capital 100 times larger than his initial capital @xmath29 , then @xmath23 is rejected at the significance level of 1% .",
    "we can also use ville s inequality ( section 2.5 of @xcite , page 100 of @xcite ) , which is now commonly known as doob s supermartingale inequality ( ( 57.10 ) of @xcite ) . from game - theoretic viewpoint",
    "the following procedure is not very much different from the procedure in the above proposition , because it corresponds to stop betting after the hitting time @xmath27 .",
    "[ prop : martingale - test - doob ] let @xmath25 be and @xmath30 be given . reject the null hypothesis @xmath26 if @xmath31 , where @xmath10 is a prudent strategy .",
    "this procedure has the significance level @xmath28 .",
    "we have stated the above propositions for the protocol of biased - coin game .",
    "however as in @xcite we can consider more complicated protocols , such as the bounded - forecasting game , where for each round market chooses @xmath18 in the bounded interval @xmath32 $ ] .",
    "the measure - theoretic interpretation of the null hypothesis @xmath23 in ( [ eq : null - hypothesis ] ) is that @xmath33 , @xmath22 , are ( uniformly bounded ) martingale differences . in this form",
    ", the null hypothesis @xmath23 does not place any distributional assumptions on @xmath18 , except for the martingale property .",
    "therefore we are directly testing the assumption of martingale property .",
    "as long as @xmath10 is a prudent strategy , we can test @xmath23 by proposition [ prop : martingale - test ] .",
    "although the biased - coin game of the previous subsection is very simple , we can analyze a continuous time game between investor and market with the biased - coin game of the previous subsection , by embedding it into continuous time by a limit order type strategy .    consider a continuous time game between investor and market .",
    "market chooses a price path @xmath34 , @xmath35 , of a financial asset .",
    "we assume that @xmath34 is continuous and positive .",
    "investor enters the market at time @xmath36 with the initial capital of @xmath37 and he will buy or sell any amount of the asset at discrete time points @xmath38 .",
    "let @xmath39 denote the amount of the asset he holds for the time interval @xmath40 .",
    "then the capital of investor @xmath41 at time @xmath42 is written as @xmath43 by defining @xmath44 , we rewrite ( [ eq:2 - 1 ] ) as @xmath45    in limit order type strategy , investor takes some constant @xmath46 and decides the trading times @xmath47 as follows .",
    "after @xmath48 is determined , let @xmath49 be the first time after @xmath48 when either @xmath50 happens .",
    "let @xmath51 denote the _ waiting times _ between two successive trading times . in terms of @xmath52 ,",
    "the waiting times @xmath53 are determined by @xmath54 this process leads to a discrete time coin - tossing game embedded in the continuous time game in the following manner .",
    "let @xmath55 and @xmath56    now we have the following discrete time coin - tossing game .    embedded discrete time coin - tossing game + * protocol : *    = 6 @xmath57 .",
    "+ for @xmath3 : + investor announces @xmath4 .",
    "+ market announces @xmath58 .",
    "+ @xmath59 .",
    "+ end for    combining the embedded discrete time coin - tossing game with proposition [ prop : martingale - test ] , we can test whether a continuous price process chosen by market is a measure - theoretic martingale .",
    "suppose that the price process @xmath34 of market is a positive measure - theoretic martingale .",
    "we write this null hypothesis as @xmath60 under @xmath61 , for every @xmath62 , @xmath18 s in the embedded coin - tossing game satisfy the null hypothesis @xmath23 in ( [ eq : null - hypothesis ] ) with @xmath63 .",
    "therefore any prudent strategy for the embedded coin - tossing game can be used as a sequential testing procedure of @xmath61 by proposition [ prop : martingale - test ] .",
    "a particularly useful betting strategy can be given from bayesian viewpoint as shown in the next section .      a simple betting strategy for the biased - coin game is given by a bayesian consideration ( @xcite ) . by the embedded coin - tossing game",
    ", it can be applied to the continuous time game .",
    "let @xmath64 denote the number of heads and let @xmath65 denote the number of tails up to round @xmath14 in the biased - coin game .",
    "fix @xmath66 .",
    "we call the following strategy of investor a beta - binomial strategy ( with the hyperparameters @xmath67 ) : @xmath68 the capital process @xmath69 for this strategy is explicitly written as @xmath70 where @xmath71 for @xmath72 and non - negative integer @xmath73 . since @xmath69 in ( [ eq : baysian - capital ] ) is always non - negative , we have a sequential test of @xmath23 by proposition [ prop : martingale - test ] .",
    "an advantage of the beta - binomial strategy is that the asymptotic behavior of the capital process is easy to study by stirling s formula .",
    "when @xmath74 and @xmath75 are all large , we can evaluate the log capital as @xmath76 where @xmath77 denotes the kullback - leibler information between @xmath78 and @xmath79 .",
    "now we move onto the embedded coin - tossing game .",
    "suppose that investor trades in a finite time interval @xmath80 $ ] and he uses the bayesian strategy in ( [ eq:2 - 5 ] ) for the embedded coin - tossing game .",
    "we define @xmath81 by @xmath82 .",
    "capital @xmath83 at @xmath84 for large @xmath85 is written as @xmath86 since @xmath87 , we have @xmath88      this subsection is a part which is rather independent of the previous sections .",
    "here we show a generality of the high - frequency limit order strategy developed in @xcite , which implies that when the asset price @xmath34 follows the geometrical brownian motion , our strategy automatically incorporates the well - known constant proportional betting strategy originated with kelly ( @xcite ) and yields the likelihood ratio in the girsanov s theorem for geometric brownian motion .",
    "the convergence results in this subsection are of measure - theoretic almost everywhere convergence .",
    "let @xmath34 be subject to the geometrical brownian motion with drift @xmath89 and volatility @xmath90 .",
    "then @xmath91 where @xmath92 denotes the standard brownian motion . in the following we write @xmath93",
    "we let @xmath94 and let @xmath95 depend on @xmath96 in such a way that @xmath97 .",
    "similarly we denote @xmath98 , @xmath99 . define @xmath100 we call @xmath101 the total @xmath102-variation of @xmath103 in the interval @xmath80 $ ] .",
    "then we have @xmath104 and hence we can evaluate @xmath105 note that when @xmath106 is a process symmetric around the origin with @xmath107 , we have @xmath108 and the main term  @xmath109 in the right - hand side indicates the even rebalanced strategy between the asset and the cash .",
    "let us consider @xmath110 , where @xmath111 , @xmath112 . from the taylor expansion @xmath113 with @xmath114",
    ", we have @xmath115 the log capital @xmath116 is expressed as @xmath117 and hence when @xmath118 , the main terms in the right - hand side of @xmath119 , @xmath120 provide the likelihood ratio of the unique martingale measure known as the girsanov s theorem , and we obtain @xmath121      the bayesian strategy in previous subsections is a simple strategy based on the past number of ups and downs only .",
    "the strategy does not exploit possible autocorrelations in the ups and downs of the price process .",
    "multistep bayesian strategy , in particular the markov type strategy in @xcite is very efficient in exploiting possible autocorrelations . in this paper",
    "we just use the first - order markov strategy .    for the biased - coin game the strategy is given as @xmath122 where @xmath123 and @xmath124 can have different values .",
    "it incorporates the information on the last move @xmath125 of market .",
    "we use the beta - binomial strategy separately for the case of @xmath126 and @xmath127 with hyperparameters @xmath128 .",
    "let @xmath129 and @xmath130 .",
    "denote the numbers of pairs @xmath131 , @xmath132 , by @xmath133 , respectively .",
    "the capital @xmath134 for this strategy is given by @xmath135 by stirling s formula the asymptotic behavior of @xmath69 is easily derived .",
    "we can apply the above first - order markov strategy to the embedded coin - tossing game for continuous price paths .",
    "in @xcite the performance of the strategy for small grid size @xmath136 is analyzed as follows . under some regularity conditions , if the price process path has the hlder exponent @xmath137 , then @xmath138",
    "in section [ subsec : limit - order ] we have already shown that we can test @xmath61 in ( [ eq : continuous - martingale ] ) by limit order type betting strategy .",
    "it is an important fact that the converse is also true .",
    "if the null hypothesis @xmath23 in ( [ eq : null - hypothesis ] ) holds for embedded discrete time coin - tossing game for every @xmath62 , then @xmath61 holds .",
    "this fact can be proved by adapting the result of dubins and schwartz @xcite to positive martingales .",
    "a more rigorous and modern treatment of the result of dubins and schwartz is given in chapter v of @xcite .",
    "recently vovk @xcite gave a complete generalization of these results to game - theoretic framework .",
    "however for our purposes , the arguments given in @xcite are sufficient and more suitable , because they are based on similar ideas to our limit order type strategies .    [",
    "prop : equivalence ] let @xmath34 , @xmath35 , be a continuous positive stochastic process with @xmath139 such that almost all of whose paths are nowhere constant and @xmath140 , @xmath141",
    ". then the following three conditions are equivalent .    1 .",
    "@xmath142 is a martingale .",
    "2 .   @xmath142 is a path - dependent and future - independent time change of the standard geometric brownian motion .",
    "3 .   for every @xmath143",
    ", the directions @xmath144 , @xmath145 , in ( [ eq : def - xn ] ) are independently and identically distributed with @xmath146 and they are independent of the waiting times @xmath147 .    since",
    "our proof is a simple adaptation of the proof in @xcite we only give an outline of the proof .",
    "the implications 2 @xmath148 1 and 1 @xmath148 3 are obvious",
    ". therefore it suffices to prove 3 @xmath148 2 . by examining the proof in @xcite , we note that the only difference in our proof is the finite dimensional distributions of @xmath103 at the trading times @xmath149 . for simplicity",
    "we consider the distribution of @xmath150 for any fixed @xmath102 . now consider a sequence of increasingly finer horizontal grids @xmath151 in the logarithmic scale for @xmath52 .",
    "then @xmath150 ca be written @xmath152 where @xmath153 , @xmath154 , are i.i.d .",
    "@xmath155 random variables with @xmath156 .",
    "the mean and the variance of @xmath157 are given by @xmath158 as @xmath159 , these converge to @xmath160 and @xmath102 , respectively . also by the central limit theorem @xmath150 is distributed according to @xmath161 . considering any finite number trading times , we see that finite - dimensional distributions are the same as the geometric brownian motion . now an argument similar to @xcite shows that @xmath142 satisfies 2 .    because of proposition [ prop : equivalence ] it is natural to test the martingale hypothesis ( [ eq : continuous - martingale ] ) by testing that the directions @xmath144 , @xmath145 , are i.i.d .",
    "\\{0 , 1 } valued random variables with the probability @xmath162 . note that we can interpret the distribution of the waiting times as nuisance parameters of the null hypothesis .    in the next section we use two strategies and",
    "associated sequential tests .",
    "the first strategy is a simple bayesian strategy of section [ subsec : bayesian ] concerning the success probability @xmath162 .",
    "the second strategy is the first - order markov strategy of section [ subsec : markov ] for testing independence .",
    "in this section we give some numerical examples on the stock price data from the tokyo stock exchange .",
    "the data are the stock minute prices from june 1st to july 31st in 2006 for three japanese companies softbank , ihi , and sony listed on the first section of the tse , which were adapted from bloomberg lp .",
    "usually there are 270 minute price data a day .",
    "we employed a simple bayesian strategy and a markov strategy .",
    "the former did not show significant results .",
    "this is because the empirical probabilities of heads ( @xmath163 in table 1 ) are close to @xmath164 .",
    "however we obtained significant results by the first - order markov strategy for three companies with common values @xmath165 .",
    "the results are shown in figures 115 .",
    "figures 15 are for softbank , figures 610 are for ihi and figures 1115 are for sony . in each figure",
    ", fn denotes the first round such that the markov capital mk satisfies @xmath166 , and ft denotes the approximate time of fn in minutes . by proposition [",
    "prop : martingale - test ] , @xmath167 corresponds to the significance level of @xmath168 .",
    "we also exhibit processes of empirical probabilities @xmath169 , and processes of hlder exponents @xmath170 , which are given in the following manner . @xmath171",
    "the relation ( [ eq:5 - 1 ] ) between the conditional probability and the hlder exponent is one of the results obtained in @xcite .",
    "these typical values are summarized in table 1 .",
    "figure 1 : minute prices of softbank + figure 2 : capital process of markov + strategy + figure 3 : log capital process of markov + strategy + figure 4 : processes of empirical + probabilities @xmath172 + figure 5 : processes of hlder exponents + @xmath170                        figure 6 : minute prices of ihi + figure 7 : capital process of markov + strategy + figure 8 : log capital process of markov + strategy + figure 9 : processes of empirical + probabilities @xmath172 + figure 10 : processes of hlder exponents +  @xmath170                        figure 11 : minute prices of sony + figure 12 : capital process of markov +  strategy + figure 13 : log capital process of markov +  strategy + figure 14 : processes of empirical +  probabilities @xmath172 + figure 15 : processes of hlder exponents +  @xmath170                        [ tab:1 ]       .typical values for three stock minute prices [ cols=\"^,>,>,>,>,>,>,>,>\",options=\"header \" , ]     from a practical point of view , the interesting question is not if the markets are efficient , but rather it is whether there are profitable trading opportunities after taking transaction costs into account .",
    "thus we examine the effect of transaction costs on the markov strategy .",
    "let investor pay the transaction cost at round @xmath14 specified by @xmath173 which is proportional to the traded monetary amount .",
    "then his capital at the end of round @xmath14 is expressed as @xmath174 where @xmath175 at the start of round @xmath14 investor again considers the maximization of @xmath176\\end{aligned}\\ ] ] with respect to @xmath177 , where @xmath178 and @xmath179 denote the conditional beta - binomial distributions for the market s limit order type moves .",
    "this results in his strategy summarized by the following scheme .",
    "@xmath180 figures 16 - 18 compare the log capital processes of markov strategy with transaction costs for softbank , ihi and sony . in each figure , three kinds of log capital processes @xmath181 and @xmath182 are exhibited , which correspond to the unit costs @xmath183 and @xmath184 , respectively .",
    "table 2 @xmath185 and table 3 @xmath186 show the capital values @xmath187(ft ) , @xmath188(ft ) , @xmath189(ft ) , and the numbers of holding rounds hn in the total fn rounds are also provided .",
    "table 4 lists the critical values @xmath190 of unit costs which reduce the final amounts of markov capitals mk(ft ) to @xmath191(ft ) @xmath192 ( less than the initial capital ) for the first time .",
    "we see that for softbank and ihi , the markov capitals are severely reduced by @xmath190 which is even within ten percent of @xmath136 ( limit order size ) , but these may depend on brands as seen in sony .",
    "the efficient market hypothesis has been continuously discussed by many researchers .",
    "some well known researchers ( e.g.  @xcite,@xcite ) argue that emh is by and large true despite some observed irregularities .",
    "however , from the literature we observe the following general tendencies .",
    "1 ) random walk hypotheses , without time - scale transformation , seem to be more often rejected than accepted .",
    "2 ) there is only few literature dealing directly with the martingale hypothesis .",
    "this is probably due to the non - parametric nature of the hypothesis and the difficulty in statistical modeling .",
    "3 ) as advocates of emh argue , even professional investors do not have effective investing strategies outperforming the market .",
    "4 ) some classes of martingale models , especially those with varying volatility , have been proposed and fitted to empirical data . but their theoretical implications for effective investing strategies are not clear .    in this paper",
    "we presented a simple general method for directly testing the hypothesis of martingale , by using limit order type investing strategies in asset trading games .",
    "the reciprocal of the capital process of an investing strategy can be used as a @xmath193-value of test statistic for testing the hypothesis of martingale property . by our markov type strategy",
    "we have shown that the martingale property of some japanese stocks are rejected with very small @xmath193-values .",
    "it should be noted that our numerical experiments may not be realistic for two reasons .",
    "first , there is the problem of transaction cost . to test the martingale hypothesis ,",
    "we have used a high frequency limit - order type strategy . in actual markets",
    "high frequency trading incurs a high trading cost and we have examined this point in section [ sec : numerical ] by proportional - type transaction costs .",
    "we found that they greatly reduce the capital , although this may depend on brands .",
    "second point is the reaction of the price to the amount of trading . in the usual measure - theoretic assumption",
    ", the amount of trading does not affect the price process .",
    "however in actual markets , large demand from the traders will immediately affect the price , thwarting the possibility of indefinitely large gain .",
    "these points may affect the practical applicability of the proposed strategies , but they do not affect the conclusion that the martingale hypothesis is rejected .    for the numerical experiments of section [ sec : numerical ] we have tried several grid sizes ( common to all processes ) and showed a grid size @xmath194 which exhibits a significant result ( nominal level of 0.1% ) .",
    "therefore there is a problem of multiple testing and to adjust for multiple testing we can use the bonferroni correction .",
    "since we have used bayesian type simple strategy and its markov type variant with only several choices of grid sizes , the conclusion of section [ sec : numerical ] is clearly valid with 1% significance level .",
    "masayuki kumon , akimichi takemura and kei takeuchi . capital process and optimality properties of a bayesian skeptic in coin - tossing games .",
    "_ stochastic analysis and applications_. * 26 * , 11611180 , 2008 .",
    "kei takeuchi , masayuki kumon and akimichi takemura .",
    "multistep bayesian strategy in coin - tossing games and its application to asset trading games in continuous time .",
    "conditionally accepted to _",
    "stochastic analysis and applications_."
  ],
  "abstract_text": [
    "<S> we propose procedures for testing whether stock price processes are martingales based on limit order type betting strategies . </S>",
    "<S> we first show that the null hypothesis of martingale property of a stock price process can be tested based on the capital process of a betting strategy . in particular with high frequency markov type strategies we find that martingale null hypotheses are rejected for many stock price processes .    </S>",
    "<S> _ keywords and phrases : _ betting strategy , efficient market hypothesis ( emh ) , game - theoretic probability , sequential test . </S>"
  ]
}