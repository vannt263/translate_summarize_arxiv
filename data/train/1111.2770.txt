{
  "article_text": [
    "the atacama large millimeter / submillimeter array ( alma ) , an international astronomy facility , is a partnership of europe , east asia , and north america in cooperation with the republic of chile .",
    "alma is a general - purpose radio telescope with 66 antennas or more at a high altitude site ( about 5100 m ) in the atacama desert of northern chile @xcite .",
    "alma intends to provide precise images of all kinds of astronomical objects in the wavelength range from 0.3 mm to 3 mm and achieve angular resolution of .",
    "alma consists of the 12m - array composed of fifty or more 12-m antennas and the atacama compact array ( aca ) composed of twelve 7-m antennas ( 7m - array ) and four 12-m antennas ( total power ( tp)-array ) ( see figure [ fig : alma ] ) .",
    "the purpose of the 12m - array is to obtain spatial frequency components between 15 m (= 12 m @xmath2 close packing ratio (= 1.25 ) ) and the maximum baseline length toward target objects by interferometric method .",
    "the aca mainly intends to obtain short spatial components including those of zero - baseline length in interferometric and single - dish observations with the 7m - array and the tp - array , respectively .",
    "the obtained components by the three arrays are combined to construct high fidelity images of the target objects .",
    "the images lack little for spatial information between zero - baseline and the maximum baseline lengths @xcite .",
    "( 85mm,85mm)figure01.eps    the correlator is a key element to realize high fidelity imaging of various astronomical targets . in aperture synthesis observations ,",
    "astronomical signals received at the antennas are correlated to produce astronomical fringes .",
    "total power is derived from auto - correlation of the signals received in single - dish observations .",
    "since the correlator plays an important role in this processing , we have developed a new fx method correlator for the aca ( hereafter , referred to as `` aca correlator '' ) , which calculates fourier transform ( denoted as `` f '' ) and then performs cross - multiplication ( denoted as `` x '' ) .",
    "for the 12m - array , nrao and european groups developed a different type of correlator called `` 64-antenna correlator '' ( @xcite ) .    at the start of our development , the number of fast fourier transform ( fft ) points was in the order of 10000 at most .",
    "however , alma requires the highest frequency resolution of 5 khz or less for 2 ghz if - band , which indicates that about one million fft points are necessary .",
    "there was no fx correlator with such a huge number of fft points at the time .",
    "hence , as a first step , we developed a prototype fx correlator in order to verify its design and implementation @xcite , as well as basic performance prior to the development of the aca correlator .    in this paper , we describe specifications and requirements in section [ sec : specs_reqs ] , design in section [ sec : design ] , hardware implementation in section [ sec : hw_implementation ] , and function and performance verification in section [ sec : verification ] .",
    "the main purpose of the aca is to provide short - baseline and total - power data of various astronomical objects with high precision .",
    "these data are combined with longer - baseline data obtained by the 12m - array for high fidelity imaging of astronomical objects @xcite .",
    "as the aca is sometimes used as a single array for observations , it is also required to have reasonable imaging capabilities @xcite .",
    "thus , the aca correlator should have ( 1 ) the capability to process receiver signals from up to 16 alma aca antennas , ( 2 ) the high processing performance sufficient to calculate a large quantity of correlation spectra among all the aca antennas , ( 3 ) the high precision processing enough to achieve high spectral dynamic range and ( 4 ) a low sensitivity loss .",
    "in addition to them , there are requirements for correlator functions , sub - array mode and full - array mode , data reception of digitized receiver signals , delay tracking in a long baseline , sideband processing , spectral configuration , temporal integration , compatibility with the 64-antenna correlator and operations at the alma array operation site . the details of alma specifications and requirements for the aca correlator are summarized in table [ tbl : acafx_spec ] .",
    "ll input & + number of sub - arrays & 2 ( tp - array/7m - array ) + number of antennas & 16 + & + & + output per if band pair & + number of auto - correlation & 16 antennas + number of cross - correlation & 120 baselines + number of polarization & 4 polarizations +   + & + sensitivity loss & @xmath3 8.3 % + baseline length & @xmath3 15 km +   + sideband processing & sideband separation , sideband rejection + & + & + operation at the high site & about 5100 m above sea level +    [ [ processing - of - auto -- and - cross - correlation - spectra ] ] processing of auto- and cross - correlation spectra : + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    the aca correlator is required to have the ability to process auto- and cross - correlation ( including cross - polarization ) in all combinations of all the aca antennas .",
    "[ [ spectral - dynamic - range ] ] spectral dynamic range : + + + + + + + + + + + + + + + + + + + + + + +    in the auto- and cross - correlation processing , high precision processing is required to achieve high spectral dynamic ranges of alma .",
    "its specifications are 10000:1 for the measurement of weak spectral lines near stronger ones and 1000:1 for weak lines in the presence of strong continuum emission ( see figure [ fig : alma_spdyn ] ) .",
    "( 74mm,85mm)figure02.eps    [ [ sensitivity - loss ] ] sensitivity loss : + + + + + + + + + + + + + + + + +    low sensitivity loss smaller than 12 % is required for the alma digital system including digitizer and correlator . since alma adopts a 3-bit digitizer whose sensitivity loss is 3.7 % , the allowable sensitivity loss is less than 8.3 % within the aca correlator .    [ [ sub - array - mode - and - full - array - mode ] ] sub - array mode and full - array mode : + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    tp - array shall be independently operated as a single - dish telescope to obtain total power data , while 7m - array shall be operated as an interferometer to obtain short - baseline data .",
    "two arrays shall also operate together as a single array ( full - array ) for high accuracy calibration .",
    "hence , the aca correlator is required to have two operational modes : the sub - array mode to perform simultaneous data processing of tp - array and 7m - array and the full - array mode to operate two arrays as a single array .",
    "( 78mm,85mm)figure03.eps    [ [ reception - of - digitized - receiver - signals ] ] reception of digitized receiver signals : + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    alma has dual polarization receivers , where four if bands of 2 ghz bandwidth are available for every polarization in each observational band ( see figure [ fig : alma_baseband ] ) . the single if band is referred to as a baseband , and two basebands paired in different polarizations are called a baseband pair .",
    "the data of four baseband pairs , whose total bandwidth is 16 ghz , are digitized by 3-bit 4 gsps digitizers and sent to the aca and 64-antenna correlators through optical fibers with common digital format between the aca and the 12m - array .",
    "the aca correlator should be capable of receiving the formatted data from 16 aca antennas .",
    "[ [ baseline - length ] ] baseline length : + + + + + + + + + + + + + + + +    alma spreads its antennas at the array operation site , and the longest distance between the antennas reaches about 15 km ( @xcite ) . since the arrival time of a signal wavefront from a target differs from antenna to antenna , the delay of the wavefront should be compensated before the signals are correlated .",
    "thus , the delay compensation should be frequent enough to keep the sensitivity loss to 8.3 % or less in the aca correlator .",
    "[ [ sideband - processing ] ] sideband processing : + + + + + + + + + + + + + + + + + + + +    alma adopts a two - single sideband ( 2sb ) receiver system between band 3 ( 84 - 116 ghz ) and band 8 ( 385 - 500 ghz ) , because the 2sb system has advantages in spectral - line observations , polarization observations and calibration observations from the viewpoint of signal - to - noise ratio ( @xcite ) . for band 9",
    "( 602 - 720 ghz ) and band 10 ( 787 - 950 ghz ) , the dsb system is adopted because of its high technical difficulty in developing the 2sb system .",
    "thus , the aca correlator requires sideband rejection capability including sideband separation by 90-degree phase switching or lo offset ( see section [ subsec : lo_offset ] ) .",
    "the sideband processing in the 2sb system is also effective to improve the sideband rejection ratio , which is only 7 db in alma requirements .",
    "[ [ spectral - configuration ] ] spectral configuration : + + + + + + + + + + + + + + + + + + + + + + +    in spectroscopic observations with alma , it is necessary to perform spectroscopy of an appropriate if band frequency range with an appropriate frequency resolution , because required frequency range and resolution vary depending on astronomical objects to be observed .",
    "hence , alma requires flexible spectral configurations up to 32 frequency ranges with different frequency resolutions in every baseband pair .",
    "these multiple frequency ranges are called sub - bands in alma .",
    "the widest bandwidth of a sub - band is 2 ghz and the narrowest is 31.25 mhz .",
    "the highest frequency resolution is 5 khz or less in a sub - band of 31.25 mhz bandwidth .",
    "it is also required that these sub - bands can be overlapped by another .",
    "[ [ temporal - integration ] ] temporal integration : + + + + + + + + + + + + + + + + + + + + +    according to the alma requirements , the aca correlator shall be capable of performing 1 ms and 16 ms temporal integration in the mode to output auto - correlation only and both of auto- and cross - correlation , respectively .",
    "further temporal integration is performed by post - processing computers .",
    "[ [ compatibility - with - the-64-antenna - correlator ] ] compatibility with the 64-antenna correlator : + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    functional and data compatibility between the aca correlator and the 64-antenna correlator is very important , because the frontend , backend and lo subsystems are all common to the aca and the 12m - array , and their output data are combined as previously mentioned .",
    "thus , the aca correlator is required to provide a mode compatible with the 64-antenna correlator for sideband processing , spectral configuration , and temporal integration .",
    "[ [ operations - at - the - high - site ] ] operations at the high site : + + + + + + + + + + + + + + + + + + + + + + + + + + + +    the correlator hardware shall be designed by taking maintainability and cooling function into account , because it is installed at the high site at about 5100 m above sea level .",
    "according to the alma specifications and requirements for the aca correlator described in the previous section , we decided on a correlation method and designed a processing flow and correlator functionality in detail .",
    "the processing flow of the aca correlator is shown in figure [ fig : acafx_flow ] .",
    "for the aca correlator , we selected a conventional fx method @xcite from several methods , i.e. , fx , xf and their enhanced methods .",
    "normal fft in the fixed - point arithmetic has been studied in analysis and simulation , and its characteristics are well known .",
    "thus , the normal fft is deemed to be suitable to realize low sensitivity of 8.3 % or less and a high spectral dynamic range of 10000:1 required in alma .",
    "in addition , the fx correlators have the advantage of providing more flexible spectral configuration than other methods . since the conventional fx correlator always performs spectroscopy of input signals using fourier transform in the highest frequency resolution , it is easy to output requested multiple frequency ranges with necessary frequency resolutions by choosing the highest frequency resolution spectra and summing them up . having such flexibility is important for general purpose telescopes such as alma .",
    "another advantage is frequency response of sinc squared function as a result of the calculation sequence of `` f '' and `` x '' @xcite .",
    "the response has relatively steep edge and low sidelobe level among the methods .",
    "this feature is suitable for precise imaging , which is one of the main goals of alma .    regarding the fx method ,",
    "two enhanced methods have been proposed : a polyphase fx correlator by @xcite and an ffx correlator by @xcite .",
    "the polyphase fx correlator uses a polyphase filter bank instead of a normal fft and the filter bank can suppress spectral leakage better than normal fft .",
    "the polyphase fx correlator can also provide multiple frequency resolutions by cascading the polyphase filter banks .",
    "on the other hand , the ffx correlator performs a 2-stage fourier transform .",
    "the 1st stage fourier transform provides spectra of full bandwidth , and the 2nd stage fourier transform calculates spectra with higher frequency resolution from several parts of the full bandwidth spectra .",
    "the 1st stage fourier transform functions as a digital filter bank .",
    "the developed ffx correlator has been used in the atacama submillimeter telescope experiment ( aste ) .",
    "these two methods can also provide multiple frequency ranges with necessary frequency resolutions required in alma . however , their available ranges and resolutions depend on the cascading ways and performance of basic processing units ( polyphase filter bank for the polyphase fx method and fft for the ffx method ) .",
    "this suggests that the polyphase fx and ffx methods are more complex in correlator hardware composition and less flexible in spectral configuration compared to the conventional fx correlator .",
    "thus , we decided to adopt the conventional fx method , although it requires more computational performance than the two enhanced fx methods .    on the other hand",
    ", the 64-antenna correlator adopts an enhanced xf method .",
    "the conventional xf method performs correlation ( denoted as `` x '' ) and then fourier transform ( denoted as `` f '' ) .",
    "hence , frequency resolution depends on the number of available correlation lags and bandwidth , which means that the highest frequency resolution is usually achieved with the narrowest bandwidth only . to compensate for the inflexibility in the spectral configurations ,",
    "the 64-antenna correlator is equipped with a digital tunable filter bank .",
    "such a type of correlators are called an fxf correlator after its filter bank ( denoted as `` f '' ) . in this method , signals are filtered by each bandpass filter in the filter bank , and separately processed using the normal xf method .",
    "thus , it can provide more flexible spectral configurations than the conventional xf correlator within the limits of the digital filter bank and the number of available correlation lags .",
    "( 44mm,85mm)figure04.eps      correlation between different antennas shall be performed using the same signal wavefront from the target astronomical object .",
    "however , the arrival time of the same wavefront differs from antenna to antenna depending on their locations . cancelling out such time difference",
    "is called `` delay compensation '' .",
    "the aca correlator performs delay compensation in two methods : coarse delay compensation and residual delay compensation .",
    "the coarse delay compensation is a method to shift digitized data in the time domain according to the time difference .",
    "since the data is shifted by a unit of a sample , the minimum step is 250 ps (= 1 sample / 4 ghz ) .",
    "remaining delay error smaller than 1 sample is compensated in the residual delay compensation after fft .    if the delay error is serious , the phase slope heavily inclines in the frequency domain . as a result of this ,",
    "sensitivity loss is caused by phase rotation within one frequency channel .",
    "to prevent the loss , it is necessary to perform the compensation frequently .",
    "the maximum sensitivity loss is roughly estimated by @xmath4 .",
    "@xmath5 is the maximum frequency offset from the phase rotation center , which is 4 ghz in the alma .",
    "@xmath6 is the maximum delay change , which is 3.6 ns s@xmath7 @xmath2 [ interval of delay compensation ( sec ) ] at the baseline length of 15 km .",
    "thus , the aca correlator performs both of the two delay compensations at an interval of 1 ms in order to keep the sensitivity loss to less than 1 % at the maximum baseline length of 15 km .      to meet the scientific requirements for frequency resolution",
    ", the aca correlator adopts a fft segment length of 1,048,576(=@xmath8 ; hereafter described as 1 m ) points .",
    "using a long segment length allows observations with very high frequency resolution , but at the same time increases susceptibility to electro - magnetic interference ( emi ) and dc offset arising in the vicinity of analog - to - digital converters ( digitizer ) , because the spurious signals are amplified by 1024 times compared to the system noises through fft calculations . to avoid harmful overflows caused by them , high frequency spurious ( hfs ) cancellation and low frequency spurious ( lfs ) cancellation are implemented by the aca correlator .",
    "the digitizers are placed in an environment where high - frequency emi is present , such as reference clocks , their harmonics and their cross modulated waves .",
    "since the emi is synchronous to a digitizer clock , they form a `` fixed '' pattern waveform , whose length is a multiple of a digitizer clock period and a reciprocal of the lowest frequency of such emi .",
    "these spurious signals may cause overflows in the fixed - point arithmetic fft and degrade output data connected to the overflow points through the fft butterfly network . in order to avoid the overflows in fft operations ,",
    "the `` fixed '' pattern waveform of the hfs signal should be measured and subtracted from the input data before the fft operations . to subtract the hfs signal ,",
    "the `` fixed '' pattern waveform is measured before the fft segmentation as follows : input i - th ( @xmath9 ) time - series data are accumulated into the j - th bin , where @xmath10 is the remainder of @xmath11 divided by the fixed pattern length , until a sufficiently accurate pattern is obtained .",
    "the required accuracy is determined by the required spectral dynamic range , which is 1/1000 or less in voltage ( corresponding to -60 db relative to @xmath12 ) .",
    "thus , the sufficient accuracy , 1/1000 root - mean - square of the input data , will be achieved by 2@xmath13 times accumulation every bin .",
    "after this accumulation , the bins values are normalized by the number of accumulation ( @xmath8 ) and subtracted by the average across the whole pattern in order to nullify the dc component in the pattern ( see equation [ eq : hfsc ] ) .",
    "the pattern length is selected to be 960 (= @xmath14 ) in order to subtract sin waves synchronous to the digitizer clock , whose frequencies are any integer weighted sum of the combination of the following frequencies ; 4000/2 , 4000/3 , 4000/4 , 4000/5 , 4000/6 , 4000/8 , 4000/10 , 4000/12 , 4000/15 , 4000/16 , 4000/20 , 4000/24 , 4000/30 , 4000/32 , 4000/40 , 4000/48 , 4000/60 , 4000/64 , 4000/80 , 4000/96 , 4000/120 , 4000/160 , 4000/192 , 4000/240 , 4000/320 , 4000/480 , 4000/960 ( mhz ) .",
    "@xmath15    another emi may arise due to electric leaks from power supply lines and magnetic fluxes leaked from cooling fan motors .",
    "since the frequency of such emi is lower than the highest frequency resolution ( 3.815 khz ) of the aca correlator , this type of emi affects the dc channel of 1m - point fft .",
    "the dc offset of the digitizer also contributes to the dc channel .",
    "leakage of the digitizer clock itself is aliased and may also appear in the dc channel .",
    "this may cause overflow in the fft operation .",
    "thus , the dc offset of the lfs signal should be also subtracted from the input data before the fft operations .",
    "the lfs offset is measured by averaging input time - series data within an fft segment after the fft segmentation ( see equation [ eq : lfsc ] ) .",
    "the lfs detection provides sufficient signal - to - noise ratio , which is 1/1000 of root - mean - square of the input data and the same as that of hfs detection , with an fft segment . for this reason",
    ", the lfs signal is detected in real time every fft segment , and its cancellation is performed for the detected fft segment . note that 180-degree phase switching also suppress the dc offset , but does not prevent the 1m - point fft from overflow .",
    "this is because the 180-degree phase switching subtracts dc offset after temporal integration over its switching complete cycle , which is performed after the correlation multiplication following the 1m - point fft .",
    "@xmath16      the fft is required to be performed at 1,048,576(=@xmath8 ) or more points in order to achieve the highest frequency resolution of 5 khz in the 2 ghz bandwidth .",
    "the 1 m spectral points fft provides the highest frequency resolution of 2 ghz / 512k frequency channels (= 1m - point / 2 ; k@xmath17 ) = 3.815 khz , which is higher than 5 khz required by alma and is equivalent to the highest frequency resolution of the 64-antenna correlator .",
    "besides , there is no disadvantage in terms of compatibility between the aca and the 12m - array .",
    "thus , we decided to adopt 1 m spectral points fft .",
    "the bit length of the fft calculations is driven by the required spectral dynamic range and sensitivity loss .",
    "the spectral dynamic range of 10000:1 requires that the calculation bias within the aca correlator be less than -60 db relative to @xmath12 , assuming strong astronomical signals of 1/100 @xmath12 at the highest frequency resolution .",
    "this suggests 10-bit or more accuracy is needed in the fft calculations , while longer bit length is preferable to decrease calculation noise caused by number rounding . for these reasons ,",
    "16-bit fixed - point fft calculation is adopted .",
    "number rounding also affects the spectral dynamic range and sensitivity , but this is necessary because finite bit length is used in the digital processing .",
    "truncation or clip of unnecessary bits in the number rounding adds some calculation bias and noise to original values and , consequently has an adverse impact on the spectral dynamic range and sensitivity .",
    "the bias is avoidable by using `` convergent rounding '' . in this method ,",
    "a value whose fraction is not 0.5 is rounded to its nearest integer , and a value with a fraction of 0.5 is rounded to even integer nearest to the value .",
    "the aca correlator adopts this method where it is available .",
    "however , since the noise is inevitable , the correlator adopts as long bit - length as possible .    in the 1m - point fft operation ,",
    "4-gsps time series data of finite length is used as input data , and each data segment is called fft segment . since 4-gsps data is used to obtain correlation data of 1 or 16 ms integration corresponding to 4 @xmath2 @xmath18 or 64 @xmath2 @xmath18 samples , 1m - point fft is necessary to be initiated every 250 @xmath19 or 10@xmath20 samples .",
    "this indicates that 1m - point fft lacks 48576 (= 2@xmath13 - 10@xmath20 ) samples . to make up the difference ,",
    "two approaches were discussed : to pad zeros for the data shortage ; and to have adjacent fft segments overlapped .",
    "if zeros are padded for the data shortage , it means to apply rectangular window function , whose length is 10@xmath20 points to fft segment .",
    "this introduces convolution of fft results of the rectangular function to the original fx frequency response profile , which is sinc@xmath21 function . in order to avoid such degradation ,",
    "adjacent fft segments are overlapped by about 5 % of a segment length .",
    "the alma system adopts 180-degree phase switching for bias and spurious cancellation and 90-degree phase switching for sideband rejection and sideband separation . since the lo system , where phase is modulated , is common to the aca and the 12m - array , it is required to apply the same phase switching specifications to them . the switching base time and switching pattern length of the 180-degree phase switching are 125 @xmath19 and 128 , respectively . since the 180-degree and 90-degree phase switchings are nested , the switching base time of the 90-degree phase switching is equal to the switching completion cycle of the 180-degree phase switching , which is 16 ms (= 125 @xmath19 @xmath2 128 patterns ) .",
    "phase switching patterns are common to the 90-degree and 180-degree phase switching , and hence , switching completion cycle of the 90-degree phase switching is 2048 ms (= 16 ms @xmath2 128 patterns ) .",
    "128 walsh functions are candidate patterns for these phase switchings ( @xcite )",
    ". however , the aca can not freely choose patterns from them , because switching base time needs to be a multiple of fft operation interval ( 250 @xmath19 ) of the aca correlator in order to avoid sensitivity loss by a phase change within a fft segment .",
    "in addition , the pattern length of 128 is not necessary , because the number of the aca antennas is only 16 .",
    "thus , we choose available walsh functions for the aca with the following two conditions .",
    "the first is that they are two or four consecutive patterns with an effective switching base time of 250 @xmath19 (= 125 @xmath19 @xmath2 2 ) or 500 @xmath19(= 125 @xmath19 @xmath2 4 ) .",
    "the second is that the switching pattern length is 32 ( = 16 x 2 consecutive patterns ) , 64 ( = 32 x 2 consecutive patterns or 16 x 4 consecutive patterns ) or 128 ( = 32 x 4 consecutive patterns ) with an effective switching complete cycle of 16 or 32 .",
    "detailed results are summarized in @xcite .",
    "the residual delay compensation is used to compensate delay errors smaller than 1 sample . in the residual delay compensation , phase slope of voltage spectra in the frequency domain , which is caused by residual delay error ,",
    "is compensated by increasing or decreasing spectral phase in proportion to both of the delay error and the frequency offset from tracking frequency .",
    "the 1m - point fft outputs 512k 16-bit complex values ( voltage spectra ) every baseband of 16 antennas .",
    "all of the values are needed to be transferred to the x - part to calculate all correlation spectra over 2-ghz bandwidth by correlation multiplication .",
    "the total required data rate of a baseband pair is 16-bit @xmath2 2 ( real- and imaginary - part of the complex values ) @xmath2 512k frequency channels @xmath2 2 polarizations @xmath2 16 antennas / 250@xmath19 ( effective time length of 1 fft segment ) @xmath22 2150 tbps . in order to reduce the data rate from the f - part to the x - part and hardware size of the x - part , the complex values are re - quantized to 4-bit real and 4-bit imaginary numbers at the output of the f - part .",
    "the word length of the re - quantization is determined by a trade - off between possible data deterioration and impact of hardware size .",
    "receiver signals in alma are already deteriorated by the 3-bit digitizer , which adds noise of about 3.7 % of the signal power @xcite .",
    "a 3 , 4 or 5-bit re - quantizer adds another 3.7 % , 1.1 % or 0.34 % , respectively , which were estimated by re - quantization simulation using a monte carlo method .",
    "if there is no other noise in the correlator , the selection of 3-bit , 4-bit or 5-bit corresponds to a sensitivity loss of 7.3 % , 4.8 % and 4.0 % or increase of observation time of 16 % , 10 % and 9 % compared to the case without the re - quantization , respectively .",
    "the hardware cost of a correlation multiplier is approximately proportional to the square of the word length at its input . in terms of total size of the aca correlator , increase of several percentages",
    "is expected by adoption of 5-bit re - quantization instead of 4-bit re - quantization .",
    "since the 3-bit choice would reduce the sensitivity too much and a 5-bit solution would not be affordable , we decided to choose 4-bit solution .",
    "another method to suppress spurious signals and unwanted sidebands , is to adopt the lo offset in addition to the 180-degree and 90-degree phase switching .",
    "an lo offset adds slightly shifted frequency offset to the lo frequency of the antennas ( modulation ) and subtracts the frequency offset before correlation ( demodulation ) as shown in figure [ fig : lo_offset ] . since the frequency of an unwanted sideband and common spurious signal mixed between the modulation and the demodulation",
    "is differently shifted at each antenna by the demodulation , the unwanted sideband and the spurious signals can be cancelled by correlation operation .",
    "the aca correlator realizes the demodulation of the lo offset by shifting frequency channels after 1m - point fft and before correlation multiplication .",
    "the minimum step of the frequency channel shift is 30.5 khz (= 3.815 khz @xmath2 8 frequency channels ) , which is the same as that of the 64-antenna correlator .",
    "the maximum value is about 39.1 mhz .",
    "( 121mm,85mm)figure05.eps      correlation multiplication of every pair of voltage spectra is calculated by complex multiplication , which multiplies one complex value by the complex conjugate of the other complex value . in the case of different antennas or different polarizations of the same antenna , cross - correlation spectrum ( cross - power spectrum )",
    "is produced , while in the case of the same antenna and the same polarization , auto - correlation spectrum ( auto - power spectrum ) is obtained by the correlation multiplication of identical voltage signals .",
    "180-degree phase switching is also implemented for bias and spurious cancellation ( see section [ subsec:90d_phase_sw ] for details ) .",
    "note that 180-degree phase switching is not effective in suppressing dc offsets and spurious signals in higher frequency resolution of the 64-antenna correlator , because maximum lags ( time offsets ) between two antennas ( e.g. @xmath23 in the frequency resolution of 8 khz ) becomes comparable with the switching base time ( 125 @xmath19 ) , and the timing offset caused by the lags can not be ignored between their two walsh functions .",
    "this is an inherent problem of the xf - method correlators , however it can be avoided by setting the switching base time to a multiple of fft segment length with the fx - method correlators .",
    "after the correlation multiplication , spectra of requested frequency ranges corresponding to sub - bands are selected and then integrated up to the requested frequency resolutions ( see figure [ fig : acafx_sub - band ] ) .",
    "the maximum number and bandwidth of sub - bands are 32 and 2 ghz , respectively .",
    "the available spectral integration is 1 , 2 , 4 , 8 , 16 , 32 , 64 , 128 , 256 , 512 and 1024 frequency channels @xmath2 3.815 khz .",
    "if integrations larger than 1024 frequency channels @xmath2 3.815 khz are needed , further integration is performed by post - processing computers . in the spectral integration ,",
    "two types of integration methods are available .",
    "one is non - weighted spectral integration , which just adds up spectral data without weighting in the frequency domain .",
    "the other is frequency profile synthesis , which performs the convolution of weighting function in the frequency domain .",
    "this function is prepared for the frequency profile compatibility with the 64-antenna correlator .",
    "the aca correlator and the 64-antenna correlator adopt different correlation methods , which are fx and xf , respectively .",
    "these two correlation methods provide different frequency responses for their correlation spectra . however , the combined imaging of the aca and the 12m - array data is required in alma .",
    "hence , we implement the frequency profile synthesis function to retain the frequency profile compatibility . the detailed analysis and implementation are described in @xcite .",
    "( 85mm,85mm)figure06.eps    in the temporal integration with the aca correlator , integration time of 16 ms and 1 ms are prepared for interferometric observations ( auto- and cross - correlation spectra of all the antennas and baselines ) and single - dish observations ( auto - correlation and cross - polarization spectra of all antennas ) , respectively .",
    "the spectral and temporal integrations satisfy the alma system requirements and allow the compatibility with the 64-antenna correlator .",
    "we have implemented the designed functions on the aca correlator , whose specifications are summarized in table [ tbl : acafx_spec ] .",
    "ll input & + number of antennas & 16 + & + processing bandwidth per input & 2 ghz + sampling speed per input & 4 gsps + number of bits per sample & 3 bits + number of optical input & 12 per antenna , 192 in total + timing signal & 48 ms timing event signal +   + & + & + & + & + function & + correlation method & fx + number of sub - arrays & 2 + maximum delay compensation & 15 km + & + sideband separation & 90-degree phase switching + & + spectral integration & @xmath24 + frequency profile synthesis & yes + & + environment conditions & + temperature & 22 - 28 @xmath25c + humidity & 10 - 90 % ( no condensation ) + altitude & aos ( 5100 m ) + emc & cispr class b +      for the hardware design , we adopted five policies : 1 ) distributed processing ; 2 ) use of common modules and card structures ; 3 ) use of optical transmission in long - distance data transmission ; 4 ) efficient cooling ; and 5 ) distributed power supplies . distributed processing allows performance reduction of each processor sharing the task and enables us to use simple but general - purpose processing chips such as fpgas with a low frequency .",
    "this also allows distributed heat sources , which has a merit in thermal dissipation .",
    "the use of common modules and card structures reduces the number of case / card types , and realizes simple mounting and accordingly simple maintenance operations .",
    "optical transmission is more reliable than electrical in the bulk / long distance data transmission within the aca correlator ( e.g. 500 gbps data in total are transferred from the f - part to the x - part ) and between the aca correlator and post - processing computers .",
    "the aca correlator is installed in the array operation site ( aos ) technical building at an altitude of about 5100 m. cooling function is designed to maintain sufficient efficiency in an environment where only half as much air is available as at sea level .",
    "stable electric power is supplied to each electrical component by `` dc power generation and voltage conversion '' placed close to the components .    based on these policies ,",
    "we have designed the aca correlator hardware as follows : the aca correlator consists of four quadrants , each of which processes a baseband pair .",
    "the quadrant is mainly divided into three parts : data transmission system receiver and fft processor ( dfp ) modules ; correlation and integration processor ( cip ) modules ; and monitor & control interface ( mci ) module , as shown in figure [ fig : acafx_subsystem ] .",
    "the dfp module , corresponding to the f - part of the fx - method correlator , receives optical signals transmitted from each antenna , restores observation data , and performs fft processing of the restored data .",
    "the cip module , corresponding to the x - part of the fx correlator , performs correlation multiplication among voltage spectra ( fft outputs ) , and outputs auto- and cross - correlation spectra at various temporal and spectral resolutions .",
    "the mci module is responsible for monitoring and control of the dfp and cip modules in a quadrant , and has the function to interface with a control computer as well .",
    "these three types of modules adopt a common module / card structure , which consists of a motherboard , processing cards such as fft and correlation multiplication , a power supply unit and a cooling fan unit ( see figure [ fig : module ] ) .",
    "the processing cards are aligned in parallel within a module so that the air entering from the front side of a module goes straight through a module , and is exhausted from the back side .",
    "each module is equipped with a switching power supply unit for ac - dc conversion from ac230 v to dc12 v. the generated dc12 v is converted to an appropriate voltage ( e.g. dc1.2 v for fpgas ) by dc - dc converters , which are distributed to a motherboard and cards in order to supply necessary electric power to each electric component at a short distance .",
    "we adopted this method , because it is difficult to send stable electric power with low voltage and high current ( e.g. dc1.2 v/80 a for a fft card ) over a long distance .",
    "optical transmission is used to realize reliable transmission of bulk data ( 3.125 gbps per optical fiber ) between the modules over a long distance ( up to about 3 m ) .",
    "for the communications between the mci module and the other modules , 100 base - t ethernet is used through a network switch . for remote operations",
    ", the electric power of the correlator can be controlled using network outlets which are controllable from computers through ethernet .",
    "48-ms timing signal and 125 mhz reference signal from the backend subsystem are received at the reference signal distributor ( rsd ) panel , and are distributed to each quadrant through the panel . as a result ,",
    "a quadrant of the aca correlator is composed of eight dfp modules , four cip modules , one mci module , one rsd panel ( installed only in the first quadrant ) , one ethernet controlled outlet and one network switch .",
    "figure [ fig : quadrant ] shows a quadrant of the aca correlator installed at the aos .",
    "( 122mm,85mm)figure07.eps    ( 85mm,85mm)figure08.eps    ( 85mm,85mm)figure09.eps      the dfp module has two types of processing cards , which are data transmission system receiver ( dts - rx ) cards ( figure [ fig : dts - rx_card ] ) for optical data reception and fft cards ( figure [ fig : fft_card ] ) for 1m - point fft operation .",
    "one dfp module has two dts - rx cards and eight fft cards .",
    "the dts - rx card is composed of two parts .",
    "one is the dts ( data transmission system ) fiber optical receiver ( for ) , and the other is the dts deformatter ( dfr ) .",
    "for receives 3-bit 4 gsps optical signals from the antennas , which are separately transmitted every bit , and converts them into electric signals . for on the dts - rx card processes a baseband pair signal of an antenna . for the reception ,",
    "a pin photo diode is used by taking the necessary input power level into account .",
    "this level is between 0 dbm and -16 dbm .",
    "dfr decodes embedded frame information from the electric signals according to the procedures described in @xcite .",
    "then , dfr applies coarse delay compensation ( see section [ subsec : coarse_delay ] ) to the retrieved data per bit and joins three 1-bit data together into one 3-bit data stream .",
    "finally , a baseband pair is separated into two basebands by polarization , and , if necessary , data acquisition for hfs detection ( see section [ subsec : spurious_signal_cancellation ] ) are performed and fft segments of @xmath8 data are constructed .",
    "the fft segments are combined in a data transfer unit , which is 4 fft segments @xmath2 2 baseband pairs @xmath2 2 antennas , and are transmitted to the fft cards .",
    "( 85mm,85mm)figure10.eps      the fft card is equipped with two types of fpga : fpga for fft and fpga for control ( see figure [ fig : fft_card ] ) .",
    "the fft fpga ( xilinx virtex-4 lx60 ) performs 1m - point fft and related processing , hfs cancellation and lfs detection & cancellation before fft ( see section [ subsec : spurious_signal_cancellation ] ) , residual delay compensation ( see section [ subsec : residual_delay ] ) , re - quantization ( see section [ subsec : re - quantization ] ) and lo offset demodulation ( see section [ subsec : lo_offset ] ) . on the other hand , the control fpgas ( xilinx virtex-4 lx80 ) allocate the segmented data transferred from the dts - rx cards to the fft fpgas , and transmit fft outputs collected from the fft fpgas to the cip modules . for these communications , the control fpga requires more input / output pins and adopts larger fpga than the fft fpga .",
    "the data transfer is operated in units of 2 antennas @xmath2 2 polarizations @xmath2",
    "512k 4-bit complex @xmath2 4 fft segments .",
    "one fft card has eight fft fpgas .",
    "a pair of the fpgas processes 1m - point fft operation of 16 fft segments , corresponding to a unit of data transfer from the dts - rx card , every 32 ms .",
    "hence , one fft card processes 64 fft segments , and 512 fft operations in total are performed by eight fft cards of a dfp module every 32 ms .",
    "the processing is performed in parallel by eight pairs of the fpgas within a dfp module as shown in figure [ fig : acafx_proc ] .",
    "each fpga pair is responsible for fft segments with different time slots .",
    "this parallel processing in the time domain has advantages in design and manufacturing , because common data processing can be applied to all parallel processors and uniform design and manufacturing procedure can be adopted . if different processes are in parallel ( e.g. butterfly operations and twiddle factor multiplication in fft ) , we have to design and manufacture them individually .",
    "the parallel processing has also an advantage in thermal dissipation .",
    "since it allows one fft card to take longer processing time than single processing , we can reduce power consumption of each fpga by decreasing the clock frequency to drive them .",
    "the total power consumption of the whole system does not change much because of the increase in the number of fpgas .",
    "however , we can avoid local heat concentration .",
    "the distributed heat - sources with lower power consumption lead to the reduction of cooling fans ; small fans attached to each fpga can be replaced with a few larger fans that are common to fpgas and consume less electricity in total .",
    "furthermore , we can reduce failures associated with fan failures .",
    "another advantage is the flexibility of spectral processing .",
    "one fft card can easily access all 512k - point voltage spectra , which are halves of 1m - point fft outputs , because spectral data are distributed to fft cards in the time domain instead of frequency domain .",
    "after the fft operations , voltage spectra are compensated for residual delay , scaled to the appropriate input level of the 4-bit re - quantizer and re - quantized to 4-bit ( this scaling is compensated after the correlation multiplication in the cip modules ) .",
    "finally , the 4-bit re - quantized voltage spectra are shifted in the frequency channel domain for lo offset demodulation if required , and then , transferred to the cip modules .",
    "( 85mm,85mm)figure11.eps    ( 93mm,85mm)figure12.eps      in the cip module , there are two types of processing cards : cip cards ( figure [ fig : cip_card ] ) for correlation multiplication ; and mti cards ( figure [ fig : mti_card ] ) for data output .",
    "one cip module has eight cip cards and two mti cards .",
    "one cip module has eight cip cards , each of which is connected with a fft card in each of eight dfp modules by one - to - one optical connections .",
    "this means that each cip card receives all voltage spectra of dual polarizations of all antennas with different time slots and processes them in parallel with 32 cip cards (= 4 cip modules @xmath2 8 cip cards ) as shown in figure [ fig : acafx_proc ] .",
    "each cip card can obtain power spectra in all combinations of the voltage spectra by correlation multiplication and easily access all spectra of full bandwidth ( 2 ghz or 524,288 frequency channels ) .",
    "hence , it is available to realize flexible frequency processing such as multiple sub - bands and multiple resolutions ( e.g. coarse spectra of 2 ghz full bandwidth and fine spectra of maser emission in close - up ) .",
    "only the power spectra of polarization pairs and frequency ranges required for users are integrated to 1 ms ( corresponding to four fft segments ) in the time domain and to half the output frequency spacing in the frequency domain .",
    "the parallel processing results are transferred to mti cards through electric serial bus dedicated to bulk data transfer .",
    "its maximum data rate is still 16k - point 20-bit power spectra per antenna / baseline after the temporal and spectral integration , corresponding to about 2.8 gbps , although available transfer rate of the serial bus is 2.5 gbps for actual data .",
    "in addition , 20-bit or more accuracy is needed for the transfer in order to achieve calculation bias less than -60 db relative to @xmath12 , which is required for spectral dynamic range of 10000:1 .",
    "thus , `` differential transfer method '' , or `` @xmath26 transfer method '' , is adopted to realize both data - rate reduction and effective 20-bit data transfer .    in the differential transfer ,",
    "only the difference between adjacent data in the frequency domain are transmitted and received except for the first data of each sub - band . here , the difference is taken between `` present modulator input '' and `` previous demodulator output '' instead of `` previous modulator input '' in order to avoid permanent demodulation output error after a difference overflow due to the limited word length of the transmitted data .",
    "thus , when the spectra are sufficiently smooth by scaling at the re - quantization , the bit rate of the transfer decreases dramatically .",
    "( 85mm,85mm)figure13.eps      within a cip module , correlation spectra are integrated to 1 ms in each of the eight cip cards and are transferred to two mti cards .",
    "the mti card performs further temporal integration to 4 ms , rescaling to compensate for scaling at the 4-bit re - quantization in the dfp modules and frequency profile synthesis / remaining non - weighted spectral integration .",
    "further temporal integration to 16 ms is performed while the spectra are being passed to one another among four mti cards of two cip modules .",
    "final correlation spectra are distributed to eight mti cards on four cip modules by a similar bucket brigade method and are output to aca - cdps . in this transfer between mti cards ,",
    "normal data transfer is performed because data rate is decreased by further temporal and spectral integration .",
    "( 85mm,85mm)figure14.eps      the mci module is an interface with the aca correlator control computer",
    ". the aca - ccc controls the aca correlator with user datagram protocol ( udp ) through ethernet .",
    "we adopt udp because time - sensitive control is required for delay compensation , processing start and stop , and other operations , although its reliability is lower than transmission control protocol ( tcp ) in terms of error correction .",
    "the mci module contains cards for power control and reference signal distribution .",
    "the card controls power - on and power - off of other modules .",
    "when the mci module is turned on , it starts to power on other modules sequentially in order to avoid large rush current .",
    "when the mci module is turned off , it immediately turns off other modules . since electric power for a mci module",
    "is supplied through a network controllable outlet , an operator can remotely power - on and power - off the aca correlator by controlling the outlet .",
    "the card also distributes 48 ms timing clock to other modules .",
    "the clock is used as base clock in the alma system and is provided from a central reference distributor .",
    "we verified the design and actual implementation of the aca correlator by conducting functionality , stability and performance tests . in the tests ,",
    "a known digital input signal was used to the aca correlator with typical configuration parameters , and its outputs were checked to confirm that they were consistent with 64-bit floating - point arithmetic results for the design verification , and/or bit - accurately coincident with the aca correlator simulator results for the implementation verification . in the performance test , 1-bit digitized thermal noise was also input in order to evaluate upper limits of calculation bias and sensitivity loss that occurred within the aca correlator .",
    "the 64-bit floating - point arithmetic was performed using interactive data language ( idl ; http://www.ittvis.com/productservices/idl.aspx ) on linux pcs .",
    "we used the fft function implemented on idl for 1m - point fft calculations .",
    "other functions were realized by 64-bit floating - point addition , subtraction , multiplication , division and their combinations . since",
    "all correlation calculations are processed by using a simple fx operation with 64-bit floating - point arithmetic , an ideal correlation result can be expected at the output .",
    "thus , by checking that the correlator results are consistent with the 64-bit floating - point arithmetic results , we can verify that our design is correct .",
    "however , we can not check that implemented processing is identical with what we designed by using the 64-bit floating - point arithmetic , because detailed calculation methods ( e.g. number rounding ) are different between the arithmetic and the correlator hardware . for the purpose of the implementation verification",
    ", we developed an aca correlator simulator ( hereafter c++ simulator ) , which is a bit - accurate software simulator written in c++ by using fft library provided by xilinx ( http://www.xilinx.com/products/ipcenter/fft.htm ) .",
    "since this simulator is equipped with most of the functions of the actual aca correlator such as fft , correlation multiplication , re - quantization , and integration in the time and frequency domain and accepts the same digital data as the aca correlator , it can calculate exact values equivalent to the aca correlator .",
    "thus , by checking if the correlator results are bit - accurately coincident with simulator results , we can verify that the implemented processing is identical with what we designed .      at first",
    ", we conducted functional tests to check the basic processing functions of the aca correlator : fft ; re - quantization ; correlation multiplication ; and spectral and temporal integration .",
    "figure [ fig : sft03x ] shows an example of the functional tests , where computationally generated 3-bit correlated gaussian white noises were used as input to the aca correlator .",
    "the input data were common to almost all the antennas except for antenna 1 . the data correlated with the common input was used for antenna 1 .",
    "the amplitude plots of the auto- and cross - correlation spectra show flat spectra .",
    "the phases of the cross - correlation spectra distribute around 0 radian .",
    "these are as expected from the input data .",
    "correlation coefficient @xmath27 of figure [ fig : sft03x]c is estimated to be 0.0374 by the following equation : @xmath28 this is consistent with 0.0374 , which is calculated by 64-bit floating - point arithmetic from the same input data .",
    "these facts confirm that our algorithm design of the basic processing functions of the aca correlator are correct .",
    "in addition , we also confirmed that all correlation spectra are bit - accurately coincident with the c++ simulator results .",
    "thus , it is verified that the basic processing is implemented as designed .",
    "( 85mm,85mm)figure15.eps    figure [ fig : sft04a]a shows an example of a comparison of auto - correlation spectra between 64-bit floating - point arithmetic and aca correlator results .",
    "input signal is a mixture of gaussian like profile signal and gaussian white noise , which are computationally generated .",
    "figure [ fig : sft04a]c is a plot which zooms in on the band center of figure [ fig : sft04a]a .",
    "these amplitude plots indicate that they are well consistent with each other , as shown in the ratio plots ( figure [ fig : sft04a]b and [ fig : sft04a]d ) between them .",
    "the mean , standard deviation , maximum and minimum of the ratio is 0.999921 , 0.000271 , 1.001065 and 0.998501 , respectively .",
    "thus , they are coincident with each other within the accuracy of the measurements , and our basic design of the processing functions has been confirmed to be correct .",
    "note that the bit - accurate coincidence is also confirmed in this test .",
    "( 85mm,85mm)figure16.eps    figure [ fig : sft56a ] shows an example of other functional tests .",
    "this test was performed to check the lo offset function ( see also section [ subsec : lo_offset ] ) .",
    "input signal was computationally generated by mixing gaussian - like profile signal , which was located in the center of 2 ghz bandwidth , with gaussian white noise .",
    "thus , the gaussian - like profile is expected to be seen at the frequency channels offset from the band center by lo offset parameters .",
    "figure [ fig : sft56a]a and figure [ fig : sft56a]b show the signal shift to 2560 and 1536 frequency channels from 2048 frequency channel according to lo offset parameters , which are + 512 and -512 of antenna 6 and antenna 7 , respectively .",
    "the frequency channel shifts are also confirmed by binary comparison between the data with lo offset and without lo offset . as a result of the opposite frequency shifts ,",
    "no gaussian - like profile signal is seen in cross - correlation between antenna 6 and antenna 7 as shown in figure [ fig : sft56a]c .",
    "( 85mm,85mm)figure17.eps    the integration time is 16 ms .",
    "[ fig : sft56a ]      the data reception and processing stability of the aca correlator were verified by running the correlator for eight hours . in the stability tests , known test data",
    "was repeatedly input to the correlator through optical fibers , and output correlation products were checked to see that they were bit - accurately coincident with c++ simulator results in real - time .",
    "table [ tbl : sft8687 ] shows the results of the two tests , which were conducted in the full - array and sub - array modes .",
    "this can be interpreted that all input data were successfully processed and all output correlation products were correct for eight hours .",
    ".stability test results [ cols=\"^,^,^\",options=\"header \" , ]      as described in section [ sec : specs_reqs ] , the aca correlator is required to achieve a spectral dynamic range of 10000:1 and sensitivity loss less than 2-bit quantization , which corresponds to 12 % .",
    "since the sensitivity loss includes 3-bit digitization , whose loss is 3.7 % , the available error budget for the correlator is 8.3 % .",
    "hence , we designed the calculation bias and sensitivity loss added within the aca correlator to be less than 1/10@xmath20 of the system temperature @xmath12 and 8.3 % , respectively . however , their verification by actual tests is difficult , especially that of spectral dynamic range , within a finite time .",
    "the number of combinations of available correlator configurations is almost infinite , because there are many parameters in sub - arrays , sub - bands , polarizations , temporal integration time , delay , phase switching , lo offset and so on .",
    "in addition , the integration time necessary for the verification of the spectral dynamic range is about 3000 days with the following equation assuming the highest frequency resolution of 3.815 khz and the strong line emission of 1/100 of @xmath12 .",
    "thus , we verified the requirement by analytical and simulation study , which will be reported elsewhere .",
    "@xmath29 } } }   = \\frac{1}{10000 } \\frac{t_{sys}}{100}\\ ] ] in actual tests , we checked the following two items within the limited correlator configurations and available integration time .",
    "the first is that calculation bias is smaller than the accuracy of the measurements and is not significantly detected .",
    "the second is that additional sensitivity loss caused by the correlator is consistent with that by 4-bit re - quantization within the accuracy of the measurement and is smaller than the allowable loss of 8.3 % .",
    "we verified the calculation bias by using two 1-bit digitized incoherent thermal noises as input for the aca correlator and accordingly integrating cross - correlation products over eight hours .",
    "if the correlator internally generates any artificial biases larger than @xmath30 , it is expected that such biases appear in amplitude and phase plot and , that noise level does not fall below the level determined by @xmath31 .",
    "figure [ fig : spt01b_ch ] shows the amplitude and phase plots of cross - correlation spectra integrated over eight hours .",
    "these plots clearly show that there is neither harmful sporadic event caused by digital processing nor harmful spurious artificial signal .",
    "note that the two input signals had weak correlation with each other .",
    "this was caused by signal leakage within the analog noises generated .",
    "the lo offset was used to cancel this correlated component .",
    "figure [ fig : spt01b_tm ] shows the root - mean - square ( rms ) of amplitude of 8192 cross - correlation spectra as a function of the total integration time .",
    "it is clear that the noise level decreases in proportion to @xmath32}^{-1/2}$ ] .",
    "these results indicate that the calculation bias added in the aca correlator is smaller than @xmath33 , the level obtained in eight hours integration .",
    "( 85mm,85mm)figure18.eps    ( 85mm,85mm)figure19.eps      sensitivity loss within the aca correlator has been evaluated by using computationally generated gaussian white noises at the input , whose effective duration is 512 ms and their correlation coefficient is 0.104 .",
    "table [ tbl : spt02b ] shows averages and standard deviations of 2048-channel auto-/cross - correlation spectra , whose frequency resolution is 3.815 khz , at the total integration time of 512 ms .",
    "thus , sensitivity loss is estimated to be 0.9 % by the calculation of @xmath34 .",
    "this value is comparable with the sensitivity loss by 4-bit re - quantization , which is estimated to be 1.1 % by a monte carlo simulation .",
    "this evaluation result demonstrates that sensitivity loss is dominantly determined by 4-bit re - quantization as expected and the loss is much smaller compared to the allowable loss of 8.3 % .",
    "ccccc & & + & @xmath35 & @xmath36 & @xmath35 & @xmath36 + auto - correlation 0 & 18113972 & 396372 & 17947951 & 371919 + auto - correlation 1 & 18120062 & 404172 & 17949807 & 376595 + cross - correlation 0 - 1 & 1792962 & 404727 & 1755886 & 399979 +   +   +   +   +",
    "we have developed the aca correlator , which is a digital spectro - correlator system with an fx architecture .",
    "the aca correlator can process all correlation products including cross - polarization among up to sixteen antennas .",
    "it also realizes flexible spectral processing such as multiple frequency resolutions and multiple frequency ranges by adopting the fx method with parallel processing in the time domain .",
    "furthermore , processing compatibility with the 64-antenna correlator is ensured in data reception , sideband processing such as phase switching and lo offset , spectral and temporal integration , and frequency response weighting .",
    "we have verified the design and implementation of the developed correlator by using known digital data as input signal and comparing its outputs with outputs of 64-bit floating - point arithmetic and the c++ simulator .",
    "the verification results have confirmed that the hardware outputs are consistent with the 64-bit floating - point arithmetic outputs and coincident with outputs from the c++ simulator .    in the verification of the correlator performance , it is confirmed that there is no significant artificial bias in the spectra integrated over eight hours and that rms and noise level decreases in proportion to @xmath32}^{-1/2}$ ] .",
    "the sensitivity loss is also confirmed to be much lower than the allowable loss of the aca correlator .",
    "we would like to acknowledge the alma project members for supporting the development and installation of the aca correlator .",
    "we are especially grateful to manabu watanabe , munetake momose and koh - ichiro morita for their technical discussion and constructive comments .",
    "finally , we would like to express our gratitude to andre gunst who provided constructive comments and suggestions for this paper .",
    "beasley , a.j .",
    ", murowinski , r. , and tarenghi , m. , 2006 , proc .",
    "spie , 6267 , 626702 bunton , j. , 2003 , alma memo 447 chikada , y. , ishiguro , m. , hirabayashi , h. , morimoto , m. , and morita , k. , 1987 , proc .",
    "ieee , 75 , 1203 emerson , d.t . , 2006 , alma memo 565 escoffier , r.p . ,",
    "comoretto , g. , wevver , baudry , a. , broadwell , c.m . , greenberg , j.h . ,",
    "treacy , r.r . ,",
    "cais , p. , quertier , b. , camino , p. , bos , a. , and gunst , a.w .",
    "2007 , , 462 , 801 freund r.w . , 2002 , alma memo 420 iguchi , s. , and kawaguchi , n. , 2002 , ieice trans .",
    "commun . , 85 , 1806 iguchi , s. , 2005 , , 57 , 643 iguchi , s. , and okuda , t. , 2008 , , 60 , 857 iguchi , s. , et al . , 2009 , , 61 , 1 kamazaki , t. , okumura , s.k . , chikada , y. , 2008 , alma memo 580 kamazaki , t. , okumura , s.k . , chikada , y. , 2008 , alma memo 581 okumura , s.k . ,",
    "iguchi , s. , chikada , y. , and okiura , m. , 2002 , pasj , 54 , l59 thompson , a.r . ,",
    "moran , j.m . ,",
    "swenson , g.w .",
    "jr , 2999 , interferometry and synthesis in radio astronomy ( a wiley - interscience publication , new york ) weinreb , s. , 1963 , a digital spectral analysis technique and its application to radio astronomy ( rle technical report 412 )"
  ],
  "abstract_text": [
    "<S> we have developed an fx - architecture digital spectro - correlator for the atacama compact array ( aca ) of the atacama large millimeter / submillimeter array . </S>",
    "<S> the correlator is able to simultaneously process four pairs of dual polarization signals with the bandwidth of 2 ghz , which are received by up to sixteen antennas . </S>",
    "<S> it can calculate auto- and cross - correlation spectra including cross - polarization in all combinations of all the antennas , and output correlation spectra with flexible spectral configuration such as multiple frequency ranges and multiple frequency resolutions . </S>",
    "<S> its spectral dynamic range is estimated to be higher than @xmath0 relative to @xmath1 from processing results of thermal noise for eight hours with a typical correlator configuration . </S>",
    "<S> the sensitivity loss is also confirmed to be 0.9 % with the same configuration . in this paper , we report the detailed design of the correlator and the verification results of the developed hardware . </S>"
  ]
}