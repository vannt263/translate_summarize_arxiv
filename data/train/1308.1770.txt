{
  "article_text": [
    "crowd dynamics has recently attracted the interests of a rapidly increasing number of scientists .",
    "analytical and numerical analysis are effective tools to investigate , predict and simulate complex behaviour of pedestrians , and numerous engineering applications welcome the support of mathematical modelling .",
    "growing population densities combined with easier transport lead to greater accumulation of people and increase risk of life threatening situations .",
    "transport systems , sports events , holy sites or fire escapes are just few examples where uncontrolled behaviour of a crowd may end up in serious injuries and fatalities . in this field ,",
    "pedestrian traffic management is aimed at designing walking facilities which follow optimal requirements regarding flow efficiency , pedestrians comfort and , above all , security and safety .    from a mathematical point of view , a description of human crowds is strongly non standard due to the intelligence and decision making abilities of pedestrians .",
    "their behaviour depends on the physical form of individuals and on the purpose and conditions of their motion .",
    "in particular , pedestrians walk with the most comfortable speed @xcite , tend to maintain a preferential direction towards their destination and avoid congested areas . on the contrary , in life",
    "threatening circumstances , nervousness make them move faster @xcite , push others and follow the crowd instead of looking for the optimal route @xcite . as a consequence ,",
    "critical crowd conditions appear such as  freezing by heating  and  faster is slower ",
    "phenomena @xcite , stop - and - go waves , transition to irregular flow @xcite and arching and clogging at bottlenecks @xcite .    in order to describe this complex crowd dynamics ,",
    "numerous mathematical models have been introduced , belonging to two fundamentally distinct approaches : microscopic and macroscopic . in the microscopic framework pedestrians",
    "are treated as individual entities whose trajectories are determined by physical and social laws .",
    "examples of microscopic models are the social force model @xcite , cellular automata models @xcite , ai - based models @xcite .",
    "macroscopic description treats the crowd as a continuum medium characterized by averaged quantities such as density and mean velocity .",
    "the first modelling attempt is due to hughes @xcite who defined the crowd as a  thinking fluid  and described the time evolution of its density using a scalar conservation law .",
    "current macroscopic models use gas dynamics equations @xcite , gradient flow methods @xcite , non linear conservation laws with non classical shocks @xcite and time evolving measures @xcite . at an intermediate level ,",
    "kinetic models derive evolution equations for the probability distribution functions of macroscopic variables directly from microscopic interaction laws between individuals , see for example @xcite and @xcite and references therein .",
    "also , recently introduced approaches include micro - macro coupling of time - evolving measures @xcite and mean - field games @xcite .",
    "these models are good candidates to capture the effects of individual behavior on the whole system .    in this paper we shall analyze and compare two macroscopic models describing the time evolution of the density of pedestrians .",
    "the first one , introduced by hughes @xcite , consists of a mass conservation equation supplemented with a phenomenological relation between the speed and the density of pedestrians .",
    "the second one involves mass and momentum balance equations so is of second order type .",
    "it was proposed by payne and whitham @xcite to describe vehicular traffic and adopted to describe pedestrian motion by jiang et al .",
    "it consists of the two - dimensional euler equations with a relaxation source term . in both models ,",
    "the pedestrians optimal path is computed using the eikonal equation as was proposed by hughes @xcite .    in order to simulate realistic behaviour",
    "we consider two dimensional , continuous walking domains with impenetrable walls and exits as pedestrians destination . to our knowledge",
    "the only available results using hughes model concern simulations of flow of pedestrians on a large platform with an obstacle in its interior @xcite . in the case of the second order model jiang",
    "@xcite considered the same setting and showed numerically the formation of stop - and - go waves . however , none of the above works analyzed complex crowd dynamics .",
    "behaviour at bottlenecks and evacuation process was not considered in any of the previous works .",
    "the first aim of this paper is to provide a more detailed insight into the properties of macroscopic models of pedestrian motion . in particular , we compare hughes model and the second order model analyzing the formation of stop - and - go waves and flows through bottlenecks .",
    "our simulations suggest that hughes model is incapable of reproducing neither such waves nor clogging at a narrow exit .",
    "it appears to be also insensitive to the presence of obstacles placed in the interior of the walking domain , which can be crucial in the study of evacuation .",
    "this is why in the second part of the paper we restrict ourselves only to the second order model    we focus on the study of the evacuation of pedestrians through a narrow exit .",
    "this problem is an important safety issue because of arching and clogging appearing in front of the exit , which can interrupt the outflow and result in crushing of people under the pressure or the crowd .",
    "experimental studies are rare due to the difficulties in reproducing realistic panic behaviour @xcite , while numerical simulations are available mainly in the microscopic framework .",
    "for example helbing et al .",
    "@xcite analyzed the evacuation of two hundred people from a room through a narrow door and in @xcite the issue of optimal design of walking facilities was addressed with genetic algorithms . at first",
    "we show the dependence of the solutions on different parameters of the model .",
    "more precisely , we consider the effect on the evacuation of the strength of the interpersonal repealing forces and the desired speed of pedestrians",
    ". both of these parameters may indicate the nervousness and the level of panic of pedestrians .    in order to improve evacuation , hughes",
    "@xcite suggested that suitably placed obstacles can increase the flow through an exit .",
    "this idea is an inversion of the braess paradox @xcite , which was formulated for traffic flows and states that adding extra capacity to a network can in some cases reduce the overall performance . in the case of crowd dynamics , placing an obstacle may be seen intuitively as a worse condition .",
    "nevertheless , it is expected to lower the internal pressure between pedestrians and their density in front of the exit and as a result preventing from clogging .",
    "this phenomenon has been studied experimentally in case of granular materials by zuriguel et al .",
    "@xcite who analyzed the outflow of grains from a silo and found out the optimal height above the outlet of an obstacle which reduces the blocking of the flow by a factor of one hundred . in case of pedestrians , to our knowledge , so far this problem has been studied only numerically .",
    "helbing et al .",
    "@xcite using the social force model observed that a single column placed in front of the exit decreases the pressure between the column and the door and may prevent from clogging . in the same framework , different shapes and placements of obstacles were studied in @xcite with an indication of the formation of the so called  waiting zone  in front of the exit .",
    "frank and dorso in @xcite studied the effects of a column and a longitudinal panel assuming in the social force model that pedestrians change their direction away from an obstacle until the exit becomes visible .",
    "following the idea of hughes @xcite , we try to improve the evacuation of pedestrians using properly tuned obstacles placed in front of the exit .",
    "motivated by the numerical simulations in which clogging appears when a large group of pedestrians reached the exit simultaneously , we give an example of a system of five circular columns arranged in the shape of a triangle opened towards the exit .",
    "we show that this system of obstacles effectively creates an area with lower density in front of the door and reduces the clogging .",
    "this paper is organized as follows : in section  [ sec : models ] we explain in detail macroscopic models and in section  [ sec : numericalscheme ] we describe numerical approximation of the models .",
    "section  [ sec : results ] is devoted to the numerical results .",
    "at first we present error analysis and comparison between the two macroscopic models .",
    "then we analyze the evacuation of pedestrians from a room .",
    "we consider a two dimensional connected domain @xmath0 corresponding to some walking facility .",
    "it is equipped with an exit which models the destination of the crowd motion and can contain obstacles .",
    "the boundary of the domain @xmath1 is composed of the outflow boundary @xmath2 and the wall @xmath3 , which , as obstacles , is impenetrable for the pedestrians . in this",
    "setting we consider a macroscopic model introduced by payne - whitham for vehicular traffic flow in @xcite and by jiang et al . in @xcite to describe crowd dynamics .",
    "the model derives from fluid dynamics and consists of mass and momentum balance equations with source term .",
    "denoting by @xmath4 the density of pedestrians and by @xmath5 their mean velocity the model reads    @xmath6    where @xmath7 describes the average acceleration caused by internal driving forces and motivations of pedestrians .",
    "more precisely , it consists of a relaxation term towards a desired velocity and the internal pressure preventing from overcrowding @xmath8 the unit vector @xmath9 describes the preferred direction pointing the objective of the movement of pedestrians and will be defined in the next section .",
    "the function @xmath10 characterizes how the speed of pedestrians changes with density .",
    "various speed - density relations are available in the literature , see @xcite . for our simulations",
    "we choose the exponential dependence @xmath11 where @xmath12 is a free flow speed , @xmath13 is a congestion density at which the motion is hardly possible and @xmath14 is a positive constant .",
    "the parameter @xmath15 in ( [ eq : vectorf ] ) is a relaxation time describing how fast pedestrians correct their current velocity to the desired one . the second term in ( [ eq : vectorf ] ) models a repulsive force modeling the volume filling effect and is given by the power law for isentropic gases @xmath16    model ( [ eq : mainsystem ] ) is referred to as a second order model as it consists of mass and momentum balance equations completed with a phenomenological law describing the acceleration .",
    "a simpler system , which is a first order model , was introduced by hughes @xcite .",
    "it is composed of a scalar conservation law @xmath17 where @xmath18 , closed by a speed - density relation @xmath10 given by .",
    "the models ( [ eq : mainsystem ] ) , have to be completed by defining the vector field @xmath19 . following the works of hughes , we assume that the pedestrians movement is opposite to the gradient of a scalar potential @xmath20 , that is @xmath21 the potential @xmath20 corresponds to an instantaneous travel cost which pedestrians want to minimize and is determined by the eikonal equation @xmath22 where @xmath23 is a density dependent cost function increasing with @xmath4 . in the simplest case we could prescribe @xmath24 , which gives the potential @xmath25 in the case of convex domains .",
    "pedestrians want to minimize the path towards their destination but temper the estimated travel time by avoiding high densities .",
    "the behaviour can be expressed by the ",
    "density driven  rearrangement of the equipotential curves of @xmath20 using the following cost function @xcite @xmath26    instead of coupling the mass and momentum balance laws with an eikonal equation , another possible approach has been recently introduced in @xcite : the transport equation is interpreted as a gradient flow in the wasserstein space , which has the advantage of providing existence results despite the non - smooth setting .",
    "let us now present the numerical scheme on unstructured triangular mesh that we used to perform numerical simulations .",
    "the model of pedestrian flow couples equations of different nature , i.e. a two dimensional non - linear system of conservation laws with sources , coupled with the eikonal equation through the source term . in this section we describe a finite volume scheme built on dual cells for systems ( [ eq : mainsystem ] ) and and a finite element method based on the variational principle for problem ( [ eq : eikonal ] ) .",
    "the numerical simulations are carried out using the multidisciplinary platform num3sis developed at inria sophia antipolis @xcite .",
    "the models of pedestrian motion ( [ eq : mainsystem ] ) and can be put in the form @xmath27 where in the case of the second order model ( [ eq : mainsystem ] ) @xmath28 denotes the unknowns vector , density and momentum , and @xmath29 for the first order model we take @xmath30 , @xmath31 and @xmath32 .    according to the framework of finite volume schemes",
    ", we decompose the domain @xmath1 into @xmath33 non overlapping , finite volume cells @xmath34 , @xmath35 , given by dual cells centered at vertices of the triangular mesh .",
    "for each cell @xmath34 we consider a set of @xmath36 neighbouring cells @xmath37 , @xmath38 . by @xmath39",
    "we denote the face between @xmath34 and @xmath40 , @xmath41 its length and @xmath42 is a unit vector normal to the @xmath39 pointing from the center of the cell @xmath34 towards the center of the cell @xmath40 .",
    "the solution @xmath43 of the system ( [ eq : mainsystemmatrix ] ) on a cell @xmath34 is approximated by the cell average of the solution at time @xmath44 , that is @xmath45 a general semi - discrete finite volume scheme for ( [ eq : mainsystemmatrix ] ) can be defined as @xmath46 where @xmath47 is a numerical flux function .",
    "the spatial discretization of the source term @xmath48 is treated by a pointwise approximation @xmath49    in order to obtain a numerical approximation using a finite volume scheme we have to compute numerical fluxes @xmath47 across the face @xmath39 between control cells @xmath50 and @xmath51 along the direction @xmath42 . despite the fact that the model is two dimensional , these fluxes are computed using a one - dimensional approximation .",
    "the homogeneous part of the model coincides with the isentropic gas dynamics system for which many solvers are available , ( see @xcite ) .",
    "however , the occurrence of vacuum may cause instabilities and not all of them preserve non negativity of the density .",
    "we use the first order hll approximate riemann solver @xcite .",
    "it assumes that the solution consists of three constant states separated by two waves with speeds @xmath52 and @xmath53 corresponding respectively to the slowest and fastest signal speeds .",
    "it is  positivity preserving  under certain conditions on the above numerical wave speeds @xcite that is @xmath54 where @xmath55 is the sound speed , @xmath56 is the normal component of the velocity and @xmath57 are averaged roe velocity and sound speed respectively .    for the numerical function in the case of the first order model we use the lax - friedrichs flux    [ eq : laxfriedrichsflux ] @xmath58,\\ ] ] with the numerical viscosity coefficient @xmath59 given by @xmath60",
    "the last equality is justified by the fact that @xmath19 is a unit vector .",
    "the difficulty in the time discretization of equation ( [ eq : semidiscretescheme ] ) lies in the non linear coupling of the models with the eikonal equation ( [ eq : eikonal ] ) in the flux for the first order model and in the source term for the second order one .",
    "this is why we apply explicit time integration method .",
    "denoting the time step by @xmath61 , the density at the time step @xmath62 is obtained by using an explicit euler method with the splitting technique between the transport and the source terms @xmath63 where the numerical flux function @xmath64 depends explicitly on @xmath65 .",
    "the stability is achieved under the cfl condition @xmath66 . in case of the second order model",
    "@xmath67 is the maximal value of the characteristic wave speed of the homogeneous part of the system ( [ eq : mainsystem ] ) .",
    "for the first order model , using the speed - density relation ( [ eq : speed ] ) , the maximal wave speed is given by @xmath68 due to the same argument @xmath69 used for the computation of the coefficient @xmath59 in the lax - friedrichs flux ( [ eq : laxfriedrichsflux ] ) .",
    "the value of @xmath14 is set to @xmath70 in the following computations .      to obtain the solution at time step @xmath62 we need to compute the direction vector @xmath19 defined by ( [ eq : directionvector ] ) .",
    "it means that we have to solve the eikonal equation ( [ eq : eikonal ] ) and compute the gradient of its solution .",
    "equation ( [ eq : eikonal ] ) is a special case of the static hamilton - jacobi equation , for which many numerical methods have been developed such as level - set methods @xcite , fast marching and fast sweeping methods @xcite , semi - lagrangian scheme @xcite , finite volume or finite element schemes @xcite .",
    "we implement the bornemann and rasch algorithm @xcite belonging to the last of the above approaches thus it is easier to implement on unstructured triangular meshes with respect to other methods .",
    "it is a linear , finite element discretization based on the solution to a simplified , localized dirichlet problem solved by the variational principle .",
    "having found the potential @xmath20 we calculate its gradient using the nodal @xmath71 galerkin gradient method .",
    "it is related to cell @xmath34 and is computed by averaging the gradients of all triangles having node @xmath72 as a vertex . in two dimensions",
    "it has the form @xmath73 where @xmath74 are triangles with the considered node @xmath75 as a vertex , @xmath76 counts for vertices of @xmath74 and @xmath77 is a @xmath71 basis function associated with vertex @xmath76 .",
    "we perform simulations on a two - dimensional domain @xmath0 with boundary @xmath78 , see fig  [ fig : domain ] .",
    "we set the outflow boundary @xmath2 far from the exit of the room through which pedestrians go out so that the outflow rate does not influence the flow through the door .",
    "we assume pedestrians can not pass through walls , but can move along them : we impose free - slip boundary conditions @xmath79    in order to implement in the case of the second order model we compute the fluxes @xmath80 through boundary facets using an interior state @xmath81 and a corresponding ghost state @xmath82 .",
    "in particular , we choose @xmath83 at wall boundary @xmath3 and @xmath84 , @xmath85 for the outflow @xmath2 .",
    "[ rem : wall ] for the numerical flux function @xmath80 we use the hll approximate riemann solver @xcite .",
    "however , our numerical simulations show that the condition ( [ eq : slipcondition ] ) is not satisfied at the wall boundary .",
    "sub iterations would be needed at each time step to converge to the correct solution.to reduce the computational cost , after computing @xmath86 in we set to zero at wall boundary nodes the component of the velocity normal to the boundary . adding the source term preserves the slip - wall boundary condition .",
    "( mass conservation ) it is essential that there is no loss of the mass through the wall boundary during numerical simulation . the hll solver @xcite with the ghost state defined by ( [ eq : ghostcell ] ) satisfies this condition when ( [ eq : slipcondition ] ) holds .",
    "in fact , let us consider four possible combinations of minimum and maximum wave speeds ( [ eq : wavespeeds ] ) .",
    "using we get @xmath87 at the wall boundary , where the last equality is due to remark  [ rem : wall ] .",
    "then we always have @xmath88 , where @xmath89 .",
    "therefore the flux @xmath80 is always in the center region of the hll solver , that is @xmath90 and its first component is zero if @xmath82 is defined by ( [ eq : ghostcell ] ) .    [ cols=\"^ \" , ]",
    "in this study , two pedestrian flow models have been analyzed in the context of macroscopic modelling of evacuation of pedestrians from a room through a narrow exit .",
    "error analysis has been carried out for numerical validation of a finite - volume scheme on unstructured grid.various test - cases have been considered to quantify the influence of the model parameters on the behaviour of solutions and to measure the ability of the models to reproduce some of the phenomena occurring in the evacuation of high density crowds .",
    "more precisely , numerical experiments show that the classical hughes type model can not reproduce stop - and - go waves or clogging at bottlenecks . on the other hand ,",
    "it was verified numerically that the second order model captures better the structure of interactions between pedestrians and is able to produce the above behaviours . however , even this model is still far from being validated and should be verified and calibrated with realistic experiments .",
    "in fact , we have pointed out that values of some of its parameters have a significant effect on the formation of the above phenomena so their tuning is essential .",
    "for some particular choices of the parameters the evacuation through a narrow exit was analyzed and an example of the inverse braess paradox was given .",
    "it was shown that using a particular configuration of obstacles it is possible to reduce the clogging at the exit and increase the outflow .",
    "analysis of more realistic settings are to be considered at the next step .",
    "this research was supported by the european research council under the european union s seventh framework program ( fp/2007 - 2013 ) / erc grant agreement n. 257661 .",
    "n.  bellomo and a.  bellouquid . on the modelling of vehicular traffic and crowds by kinetic theory of active particles . in _ mathematical modeling of collective behavior in socio - economic and life sciences _ , number  2 in modeling and simulation in science , engineering and technology , pages 215221 .",
    "birkhuser boston , 2010 .",
    "a.  seyfried , m.  boltes , j.  khler , w.  klingsch , a.  portz , t.  rupprecht , a.  schadschneider , b.  steffen , and a.  winkens .",
    "enhanced empirical data for the fundamental diagram and the flow through bottlenecks . in _ pedestrian and evacuation dynamics _ ,",
    "pages 145  156 .",
    "berlin / heidelberg , springer , 2010 ."
  ],
  "abstract_text": [
    "<S> we analyze numerically two macroscopic models of crowd dynamics : the classical hughes model and the second order model being an extension to pedestrian motion of the payne - whitham vehicular traffic model . </S>",
    "<S> the desired direction of motion is determined by solving an eikonal equation with density dependent running cost , which results in minimization of the travel time and avoidance of congested areas . </S>",
    "<S> we apply a mixed finite volume - finite element method to solve the problems and present error analysis for the eikonal solver , gradient computation and the second order model yielding a first order convergence . </S>",
    "<S> we show that hughes model is incapable of reproducing complex crowd dynamics such as stop - and - go waves and clogging at bottlenecks . finally , </S>",
    "<S> using the second order model , we study numerically the evacuation of pedestrians from a room through a narrow exit .     </S>",
    "<S> istituto per le applicazioni del calcolo `` mauro picone '' , consiglio nazionale delle ricerche , via dei taurini 19 , i-00185 roma , italy ( mtwarogowska@gmail.com ) . ]     </S>",
    "<S> inria sophia antipolis - mditerrane , opale project - team , 2004 , route des lucioles  bp 93 , 06902 sophia antipolis cedex , france ( paola.goatin@inria.fr , regis.duvigneau@inria.fr ) ] </S>"
  ]
}