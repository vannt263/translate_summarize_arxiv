{
  "article_text": [
    "by enabling the wireless devices to scavenge energy from the environment , energy harvesting has become a promising solution to provide perpetual lifetime for energy - constrained wireless networks ( e.g. , the wireless sensor networks ) @xcite . in particular , with the ability to cater to the mobility of the wireless nodes , the ambient radio - frequency ( rf ) signals have been considered as a vital and widely available energy resource to power wireless communication networks @xcite . in recent point - to - point energy transfer experiments",
    "@xcite , wireless power of 3.5mw and 1uw have been harvested from the rf signals at distances of 0.6 and 11 meters , respectively . moreover , in the experiment - based study in @xcite , the harvested energy from multiple energy transmitting sources is shown to be additive , which can be exploited to extend the operation range of wireless charging . due to the appealing features of the rf - based energy harvesting , the _ wireless powered communication network _ ( wpcn ) @xcite , in which the wireless nodes exploit the harvested rf energy to power their information transmissions , has attracted growing attentions .",
    "different from traditional wireless networks , where the wireless nodes can draw energy from reliable power supplies ( e.g. , by connecting to the power grid or a battery ) , due to the wireless fading channels , the random movement of the wireless nodes , as well as the employed energy harvesting techniques , the amount of energy that can be harvested in a wpcn is generally uncertain . as a result , to meet the quality - of - service ( qos ) requirement of the information transmission , the designed transmission schemes must be adaptive to the dynamics of the harvested rf energy .",
    "although challenging , by assuming completely or partially known knowledge of the energy arrival processes , effective transmission schemes have been proposed in , e.g. , @xcite-@xcite .",
    "however , the adopted energy arrival models in the above studies do not apply to the rf - based energy harvesting scenario .",
    "there has been a growing research interest focusing on a point - to - point or point - to - multipoint rf energy harvesting system , where a single transmitter transmits energy to a single wireless node or multiple wireless nodes , respectively ( e.g. , in @xcite , @xcite , and @xcite ) . in particular",
    ", in @xcite the authors studied a point - to - multipoint system , where the energy transfer from an access point ( ap ) to multiple wireless nodes is separated from the information transfer from each of the wireless nodes to the ap in time domain . by exploiting the harvested energy at each wireless node , @xcite investigated the optimal time allocation for energy transfer and information transfer , so as to maximize the system throughput with fairness consideration .",
    "moreover , since the rf signals may also carry information besides energy , simultaneous wireless information and power transfer ( swipt ) has been studied in the literature ( see e.g. @xcite , @xcite ) , where more sophisticated receiver design is involved .",
    "in addition , we also noticed there are some works focusing on energy - efficient design for other applications ( e.g. , @xcite-@xcite ) .",
    "however , most of the existing work , including the above mentioned ones , did not consider optimal transmission scheme design in a _ large - scale _ wpcn with a very large number of wireless nodes , mainly due to the following reasons : 1 ) it is difficult to design a scalable transmission scheme that can be efficiently implemented with the increasing number of wireless nodes ; and 2 ) due to the wireless fading channels as well as the random placement of both energy transmitters and wireless nodes , it is challenging to analytically characterize the harvested rf energy by a wireless node from multiple energy transmitters .",
    "it came to our attention that stochastic geometry , as a novel way to analyze large - scale communication networks , provides a set of powerful mathematical tools for modeling and designing the wireless networks @xcite .",
    "moreover , the mathematical tools ( e.g. , probability generating functional ( pgfl ) of a poisson point process ( ppp ) ) , which facilitate the interference analysis in a wireless communication network @xcite , can also help characterize the harvested rf energy in a wpcn  @xcite , @xcite .    in this paper , by using tools from stochastic geometry ,",
    "we aim at optimizing bidirectional energy harvesting and information transmission in a large - scale wpcn .",
    "we consider a new type of dual - function aps which are able to coordinate energy / information transfer to / from the wireless nodes .",
    "we also consider two types of networks models . as illustrated in fig .",
    "[ fig : network_model ] , in type - i network model , the wireless nodes ( e.g. , the portable electronic devices or the unmanned vehicles @xcite ) are assumed to independently move in the system over frames , while the locations of the aps are fixed . in type - ii network model , however , the aps ( e.g. , the wireless charging vehicles @xcite ) are assumed to independently move in the system over frames , while the locations of the wireless nodes are fixed .",
    "we show that the wireless node s downlink ( dl ) energy harvesting performance and the uplink ( ul ) information transfer performance can be identically characterized for both types of network models .",
    "moreover , depending on whether each wireless node deploys a rechargeable battery , we consider two cases with battery - free and battery - deployed wireless nodes , respectively , and study the effects of battery storage .",
    "for both cases , we maximize the _ spatial throughput _ of the wireless nodes , which is defined as the total throughput that is achieved by the wireless nodes per unit network area averaged over all information transmission phases ( bps / hz / unit - area ) @xcite .",
    "the key contributions of this paper are summarized as follows .    *",
    "_ novel harvest - then - transmit protocol to power a large - scale network : _ in section ii , we propose a new harvest - then - transmit protocol by extending that in @xcite , where each time frame is partitioned into a dl phase for energy transfer from the aps to the wireless nodes , and an ul phase for information transfer from each wireless node to its associated ap .",
    "we show that the proposed harvest - then - transmit protocol is scalable and thus can be efficiently implemented in a large - scale network .",
    "* _ problem formulation and simplification for spatial throughput maximization : _ in section iii , by jointly optimizing time frame partition between the dl and ul phases and the wireless nodes transmit power , we formulate the spatial throughput maximization problem under a successful information transmission probability constraint . to make the problem analytically tractable , we simplify the problem by utilizing the equivalence of the successful information transmission probability constraint to a transmission probability constraint plus a minimum transmit power constraint . * _ spatial throughput maximization for battery - free wireless nodes : _ in section iv , we solve the spatial throughput maximization problem in the battery - free case , by studying the effects of the ap density and the wireless node density . we also show that at the optimality the wireless nodes generally prefer to select a small transmit power , for obtaining large transmission opportunity .",
    "* _ spatial throughput maximization for battery - deployed wireless nodes : _ in section v , we first study an ideal infinite - capacity battery scenario , and show that all the feasible time frame partition and ul transmit power are optimal , since energy stored in the battery is sufficient over time .",
    "we then extend our study to the practical finite - capacity battery scenario . by proposing a new tight lower bound for the transmission probability",
    ", we approximately solve the spatial throughput maximization problem .",
    "we note only limited studies in @xcite , @xcite , @xcite , and @xcite have adopted stochastic geometry to study the large - scale communication networks enabled by energy harvesting .",
    "different from these existing studies , we consider the wpcn where dual functional aps transmit energy and receive information to / from wireless nodes .",
    "moreover , we focus on characterizing optimal tradeoffs between the dl energy transfer and the ul information transfer , for both battery - free and battery - deployed cases , and theoretically analyze the impact of battery storage on the network throughput performance . in addition , different from most existing studies based on stochastic geometry that only focused on average system performance of one snapshot , in this paper , we pursue a long - term average system analysis , and successfully obtain tractable system performance in both dl and ul .",
    "we consider a wpcn with stochastically deployed aps and wireless nodes , where each wireless node harvests energy broadcast by the aps , and then uses the harvested energy to support its information transmission to the associated ap . as shown in fig .  1 , we assume either the wireless nodes or the aps move in the system . in this section ,",
    "we first present the detailed operations at each wireless node for both battery - free and battery - deployed cases , and then develop the network model based on stochastic geometry .",
    "we consider that each ap has reliable power supply ( e.g. , by connecting to the power grid or equipping with large - capacity battery storage in type - i or type - ii network model , respectively ) , while each wireless node is not equipped with any embedded energy sources but an rf energy harvesting device . thus , the wireless nodes are able to harvest the energy broadcast by the aps , and use them to support their information transmissions to the aps . similar to the practical radio frequency identification ( rfid ) system that coexists with the reader network over the same frequency ( around 915mhz ) @xcite , we assume all the aps and wireless nodes operate over the same frequency band .",
    "we also assume all the aps and wireless nodes are each equipped with a single antenna , as in the case of the wireless sensor networks .",
    "we partition energy transfer and information transfer in time domain , frequency bands ( like @xmath0 time slots in this paper ) , we can assign @xmath1 bands for energy harvesting and the remaining @xmath2 bands for information transmission . to optimally decide @xmath1 and the ul transmit power @xmath3 , there exists similar tradeoff as in the time - partition - based model studied here . ] as shown in fig .  2 .",
    "we assume the network is frame - based in time and consider a harvest - then - transmit protocol for the wireless nodes .",
    "specifically , we assume each frame consists of @xmath4 slots , indexing from @xmath5 to @xmath6 , and all the slots are synchronized among aps and wireless nodes . in each frame",
    ", we assign slot @xmath5 to slot @xmath7 , @xmath8 , to the aps for broadcasting energy in the dl phase , and assign the remaining slots , i.e. , slot @xmath1 to slot @xmath6 , to the wireless nodes for transmitting information in the ul phase .",
    "we denote the transmit power of the aps and the wireless nodes as @xmath9 and @xmath10 , respectively .",
    "we assume @xmath11 , where @xmath12 is the maximum allowable transmit power of each wireless node .",
    "it is worth noting that to design a _ scalable _",
    "transmission scheme for a large - scale wpcn ( e.g. , wireless sensor or rfid networks ) , where the wireless nodes usually operate at low transmit power , we consider the same @xmath3 and @xmath1 for each wireless node , and optimize @xmath3 and @xmath1 globally for a homogeneous stochastic network as will be shown later .",
    "thus , wireless nodes do not need to communicate and coordinate in interference management , which is easy to implement in practice .",
    "moreover , due to the wireless fading channels as well as the low energy harvesting efficiency of today s rfid technology @xcite , the amount of energy that can be collected in one slot is usually small , and is difficult to be effectively exploited by the wireless nodes . as a result , as in the practical energy harvesting devices , e.g. , the p2110 power harvester receiver @xcite designed by the powercast corporation , we consider that a small - sized capacitor is integrated in the circuits of the energy harvesting device , based on which , the harvested energy from slot @xmath5 to slot @xmath7 in the dl phase can be accumulated without the usage of additional battery , and then entirely boosted out for exploitation by each wireless node ( for ul transmission or battery charging ) , as shown in fig .  2 . for each wireless",
    "node @xmath13 , denote @xmath14 as the amount of energy harvested in dl slot @xmath15 of frame @xmath16 , @xmath17 , @xmath18 , and @xmath19 as the total amount of energy harvested in the dl phase of frame @xmath16 .",
    "we have @xmath20 .",
    "we denote @xmath21 as the amount of energy that is available to wireless node @xmath13 at the beginning of the ul phase of frame @xmath16 . in the following , depending on whether a wireless node is equipped with a rechargeable battery ( or any other energy storage devices ) to store the total harvested dl energy @xmath19 in each frame @xmath16",
    ", we consider two cases with battery - free and battery - deployed wireless nodes , respectively . in each case , by applying a @xmath3-threshold based ul transmission decision as in the literature ( e.g. , @xcite , @xcite , and @xcite ) , we model the evolvement of @xmath21 over @xmath16 . for convenience ,",
    "we assume a normalized unit slot time in the sequel without loss of generality , and thus we can use the terms of energy and power interchangeably .      as show in fig .",
    "2 , in each frame @xmath16 , due to the lack of energy storage , the wireless nodes manage the harvested energy in a myopic manner , i.e. , all the harvested energy @xmath19 is consumed within the current frame @xmath16 .",
    "moreover , if @xmath22 , wireless node @xmath13 decides to transmit information with power @xmath3 in the ul phase ; otherwise , it stays silent in the ul phase of frame @xmath16 .",
    "since the unused amount of energy in the current frame ( i.e. , @xmath23 , if @xmath22 , or @xmath19 , otherwise ) will not be kept for future use , for any @xmath24 , we can easily obtain @xmath25      unlike the battery - free case , by deploying a rechargeable battery in the device circuit , the wireless nodes can store the unused energy in the current frame for future use , as long as the battery capacity allows .",
    "thus , the harvested energy can be exploited more effectively in the battery - deployed case than that in the battery - free case in general .",
    "as shown in fig .",
    "2 , in each frame @xmath16 , if the battery level at the beginning of the ul phase , given by @xmath21 , is no smaller than the required ul transmit power @xmath3 , the wireless node decides to transmit in the ul ; otherwise , it stays silent in the ul phase .",
    "let the battery capacity be @xmath26 with @xmath27 . for any @xmath24 , given @xmath28 , by subtracting the consumed energy in the ul phase of frame @xmath29 and adding the harvested energy in the dl phase of frame @xmath16 , we obtain @xmath21 as @xmath30 where @xmath31 and the indicator function @xmath32 if @xmath33 is true , and @xmath34 otherwise .",
    "note that @xmath35 is an ideal scenario with infinite - capacity battery .",
    "it is easy to find that in this scenario , for any @xmath24 , ( [ eq : s_f_storage ] ) is reduced to @xmath36    at last , in the ul transmission , for both cases with battery - free and battery - deployed wireless nodes , we assume there is no transmission coordination between the wireless nodes for simplicity , as in @xcite .",
    "we thus adopt independent transmission scheduling for the wireless nodes . specifically , to reduce the potentially high interference level in the ul due to the independent transmissions of the wireless nodes",
    ", we assume that if a wireless node @xmath13 decides to transmit , it randomly selects a slot from slot @xmath1 to slot @xmath6 in the ul phase with equal probability of @xmath37 , and transmits its information in this slot with transmit power @xmath3 to its nearest ap , as in @xcite and @xcite , for achieving good communication quality .",
    "the ul information transmission is successful if the received signal - to - interference - plus - noise - ratio ( sinr ) at the ap is no smaller than a target sinr threshold , denoted by @xmath38 .",
    "based on the operations of the wireless nodes and the aps , in this subsection , we develop the network model based on stochastic geometry , and then characterize the harvested energy of the wireless node in each frame .    as shown in fig .  1",
    ", we consider two types of network models , which are type - i network model , with moving wireless nodes and static aps , and type - ii network model , with moving aps and static wireless nodes . in both types of networks models , we assume the wireless nodes and the aps are initialized as two independent homogeneous ppps , denoted by @xmath39 , of wireless node density @xmath40 , and @xmath41 , of ap density @xmath42 , respectively . in type - i network model , we assume all the aps stay at their initialized locations in all frames , while the wireless nodes independently change their locations in each frame based on the random walk model considered in @xcite . specifically , at the beginning of each frame , each wireless node is independently displaced from its previous location in the proceeding frame to a new location in the current frame ; and stays at its new location within the current frame .",
    "according to the displacement theorem in @xcite , the homogeneous ppp @xmath39 is preserved by the independently displaced wireless nodes in each frame .",
    "similarly , in type - ii network model , we assume the wireless nodes stay at their initialized locations in all frames , while the aps are independently displaced over frames as the wireless nodes in type - i network model .",
    "clearly , the homogeneous ppp @xmath41 is also preserved by the independently displaced aps in each frame in type - ii network model .",
    "let @xmath43 and @xmath44 , where @xmath45 denote the coordinates of the aps and wireless nodes , respectively .",
    "as in the existing literature that studied wireless charging based on stochastic geometry ( e.g. , @xcite , @xcite , and @xcite ) , we assume rayleigh flat fading channels with path - loss . we also assume the rayleigh fading channels vary independently over different time slots . in each slot @xmath15 of a particular frame , the radio signal transmitted by an ap / wireless node is received at the origin with strength @xmath46 and @xmath47 , respectively , where @xmath48 and @xmath49 are the distances from ap @xmath50 or wireless node @xmath51 to the origin @xmath52 , respectively , @xmath53 and @xmath54 are independent and identically distributed ( i.i.d . ) exponential random variables with unit mean to model rayleigh fading in slot @xmath15 from ap @xmath50 or wireless node @xmath51 to the origin , respectively , and @xmath55 is the path - loss exponent .    in both type - i and type - ii network models , due to the stationarity of the homogeneous ppp @xmath41 , we focus on a typical wireless node in the dl phase , which is assumed to be located at the origin , without loss of generality . for notational simplicity , for the typical wireless node , we omit the lowerscript @xmath13 and use @xmath56 and @xmath57 to denote the amount of energy that is harvested in a particular dl slot @xmath15 and over all dl slots of frame @xmath16 , respectively , and use @xmath58 to denote the amount of available energy for ul phase in frame @xmath16 . since the harvested energy is obtained from the received rf signals , as in the existing studies on wireless powered energy harvesting ( e.g.",
    ", @xcite , @xcite , @xcite , @xcite and @xcite ) , for any slot @xmath15 of frame @xmath16 , @xmath59 , @xmath60 , we have @xmath61 is the energy harvesting efficiency . as a result , by summing @xmath56 over all slots in the dl phase of frame @xmath16",
    ", we obtain @xmath62 where @xmath63 follows erlang distribution with shape @xmath1 and rate @xmath64 . by applying the pgfl of the ppp",
    ", we obtain the laplace transform and the complementary cumulative distribution function ( ccdf ) of @xmath57 in the following proposition .    [",
    "proposition : z_f_distribution ] the laplace transform of @xmath57 is @xmath65 where @xmath66 is the gamma function . when @xmath67 , for any given @xmath68 , the ccdf for @xmath57 is given as @xmath69 where @xmath70 is the error function .",
    "proposition [ proposition : z_f_distribution ] is proved by using a approach similar to that in @xcite for deriving the interference distribution in a ppp , with the notice that for a random variable @xmath71 , @xmath72 , and thus is omitted here for brevity .",
    "it is clear that proposition [ proposition : z_f_distribution ] holds for both type - i and type - ii network models . by increasing @xmath1 in ( [ eq : z_f_ccdf ] ) , the term @xmath73 increases , and thus the ccdf of @xmath57 increases for a given @xmath74 , as expected .",
    "moreover , due to the singularity of the path - loss law @xmath75 at the origin , the average energy arrival rate is @xmath76 .",
    "however , this does not necessarily mean that each wireless node can always harvest sufficient energy , as the probability that a wireless node can be very close to an ap is very small in any frame in general .",
    "in addition , although from proposition [ proposition : z_f_distribution ] , the distribution of @xmath57 is identical for each wireless node in each frame @xmath16 , since the harvested energy of each wireless node comes from the same set of aps in @xmath77 in all frames , it is easy to verify that in both type - i and type - ii network models , for each wireless node , its harvested energy @xmath57 s are not mutually independent over time frames in general ; and for any two wireless nodes locating in different locations in space @xmath77 , their harvested energy are also not mutually independent in each frame in general .",
    "since whether a wireless node can transmit in the ul and the corresponding transmission performance are both strongly depend on the characteristics of @xmath57 s , similar to the case in @xcite , such correlations between @xmath57 s over both time frames and space yield challenges for tractable analysis of the wireless nodes communication performance as well as the system throughput .    from @xcite , we observe similar correlation between @xmath57 s over both time frames and space @xmath77 , which is determined by the variation of the fading channels as well as the mobility of the wireless nodes or the aps in type - i or type - ii network model , respectively . from ( [ eq : z_f_def ] ) , due to the independently varied fading channels between any aps and any wireless nodes over all slots in all frames as well as the independent location change of either the wireless nodes or the aps over frames in the considered models , which can decorrelate the distance between any aps and any wireless nodes over frames , it is thus easy to verify that @xmath57 s correlations over both time frames and space are weak in general .",
    "moreover , due to the serious path loss for energy transfer and the generally low energy harvesting efficiency @xmath78 , the harvested energy by each wireless node is only dominated by its near aps . by noticing that the independent location change of either the wireless nodes or the aps over time frames can also decouple each wireless node s",
    "dominated aps over time frames , it is expected that @xmath57 s correlations over both time frames and space are very weak .",
    "therefore , to obtain tractable results , we apply the following independent assumption on the harvested energy @xmath57 s .    in both type - i and type - ii network models ,",
    "@xmath57 s are mutually independent for each wireless node over frames and mutually independent for any two different wireless nodes in @xmath77 in each frame .    by assumption 1 ,",
    "@xmath57 s become i.i.d .",
    "random variables over both time frames and space @xmath77 .",
    "we also successfully validate the feasibility of assumption 1 later in section vi - a by simulation .",
    "in the next section , based on the i.i.d .",
    "@xmath57 s and their identical distribution given in proposition [ proposition : z_f_distribution ] , we will focus on the system communication metrics in the ul phase , and present the formulation of the spatial throughput maximization problem .",
    "in this section , we focus on studying the information transmission in the ul phase as system metrics .",
    "we first analyze the point process formed by the wireless nodes that transmit in each slot of the ul phase , and characterize the successful information transmission probability of the typical wireless node in the ul .",
    "then by studying the effects of the design variables @xmath1 and @xmath3 , we formulate the spatial throughput maximization problem under a successful information transmission probability constraint .",
    "since the successful information transmission probability constraint is very complicated , we will further simplify it by finding equivalent constraints , which yields an equivalent spatial throughput maximization problem with a simpler structure , as explained later .",
    "first , we define the _ transmission probability _ as the probability that the typical wireless node can transmit in the ul .",
    "since @xmath58 is determined by @xmath57 in both battery - free and battery - deployed cases , given in ( [ eq : s_f_no_storage ] ) and ( [ eq : s_f_storage ] ) , respectively , under assumption 1 with i.i.d @xmath57 s over time frames for each wireless nodes , it is easy to verify that @xmath79 and thus @xmath80 is ergodic over frame @xmath16 for both battery - free and battery - deployed cases . as a result , as in @xcite , since only the wireless nodes with @xmath81 can transmit to their associated aps , the transmission probability , denoted by @xmath82 , is defined as @xmath83    from section  ii - a , in both type - i and type - ii network models , if a wireless node decides to transmit in the ul based on the transmission probability @xmath82 , it randomly selects one slot from the total @xmath2 slots in the ul phase to transmit .",
    "thus , in the ul phase under both network models , the point process formed by the wireless nodes that transmit in each time slot is of the identical active wireless node density , which is denoted by @xmath84 and given as @xmath85 due to the correlated harvested energy for different wireless nodes in each frame , as discussed in section ii - b , the point process formed by the active wireless nodes in each ul slot is not a ppp in general .",
    "however , _ as a direct result by applying assumption 1 with i.i.d .",
    "@xmath57 s for different wireless nodes in each frame , the active wireless nodes transmissions in each ul slot become independent , which yields a homogeneous ppp for each ul slot , denoted by @xmath86 , of identical density @xmath87 , in both type - i and type - ii network models .",
    "_ we also successfully validate such ppp assumption in the ul slot later in section vi - a by simulation .",
    "next , since each active wireless node only selects one slot in the ul phase to transmit , we focus on a particular slot in the ul , and analyze the typical wireless node s information transmission performance in the ul based on the ppp @xmath86 , under both type - i and type - ii network models . similar to the dl phase studied in section ii - b , due to the stationarity of @xmath88",
    ", we assume the typical wireless node s associated ap is located at the origin in the ul phase , without loss of generality .",
    "for ease of notation , we omit the time slot index and use @xmath89 to denote the rayleigh fading channel from the typical wireless node locating at @xmath90 to the origin .",
    "suppose @xmath91 is the random distance between the typical wireless node and its associated ap .",
    "let @xmath92 be the noise power .",
    "we then define the _ successful information transmission probability _ as @xmath93 , which gives the probability that the received sinr at the typical ap is no smaller than the target level @xmath94 and can be written as @xmath95 , the probability density function ( pdf ) of @xmath96 can be easily found by using the null probability of a ppp , which is given by @xmath97 for @xmath98 @xcite .",
    "given a generic transmission probability @xmath82 , we derive the expression of @xmath99 , defined in ( [ eq : p_suc_def ] ) . by applying the pgfl of a ppp @xcite",
    ", we explicitly express @xmath99 for a given @xmath82 in the following proposition .",
    "[ proposition : p_suc ] given the transmission probability @xmath82 , the successful information transmission probability for the typical wireless node is @xmath100 where @xmath101 , with @xmath102 , and @xmath103 .",
    "when @xmath67 , ( [ eq : p_suc_general ] ) admits a closed - form expression with @xmath104 where @xmath105 , @xmath106 , and @xmath107 is the standard gaussian tail probability .",
    "proposition [ proposition : p_suc ] is proved using a method similar to that for proving theorem 2 in @xcite , and thus is omitted for brevity .",
    "clearly , proposition [ proposition : p_suc ] also holds for both type - i and type - ii network models as proposition [ proposition : z_f_distribution ] .",
    "it is observed from both ( [ eq : p_suc_general ] ) , for a general @xmath108 , and ( [ eq : p_suc_4 ] ) , for @xmath67 , by decreasing the transmission probability @xmath82 , due to the reduced active wireless node density @xmath84 , given in ( [ eq : lambda_a ] ) , the interference level in the ul phase is reduced , and thus @xmath93 is increased .    in the next subsection , by applying proposition [ proposition : p_suc ] , we formulate the spatial throughput maximization problem . it is worth noting that since identical dl and ul performance are obtained for type - i and type - ii network models , same spatial throughput maximization problem formulation and corresponding solutions are obtained for the two models , and thus we will not differentiate the two models in the sequel of this paper .",
    "we focus on the effects of the number of slots @xmath1 assigned to the dl phase and the ul transmit power @xmath3 to investigate the interesting tradeoff between the energy transfer in the dl and the information transfer in the ul . by increasing @xmath1 at a fixed @xmath3 , from ( [ eq : z_f_def ] ) , we observe that the harvested energy @xmath57 in the dl increases , and thus the transmission probability @xmath82 is increased . as a result ,",
    "the successful information transmission probability @xmath93 in the ul , given in ( [ eq : p_suc_general ] ) for a general @xmath108 or ( [ eq : p_suc_4 ] ) for @xmath67 , is decreased .",
    "similarly , by increasing @xmath3 at a fixed @xmath1 , we observe a decreased transmission probability @xmath82 in ( [ eq : trans_prob_def ] ) , and thus an increased @xmath93 in the ul . in the following ,",
    "we design @xmath1 and @xmath3 to optimize the network performance .    specifically , to ensure the qos for each wireless node",
    ", we apply a _ successful information transmission probability constraint _ such that @xmath109 , with @xmath110 , for any dl slot allocation @xmath1 and ul transmit power @xmath3 .",
    "similar to @xcite , we define the _ spatial throughput _ of the considered wpcn as the total throughput that is achieved by the wireless nodes over all the slots in the ul phase per unit network area ( bps / hz / unit - area ) .",
    "moreover , given the receiver sinr threshold @xmath94 , we suppose the uplink information transmission is successful , if the information can be coded at a rate @xmath111 with @xmath112 . assuming @xmath113 , the spatial throughput is then given by @xmath114 where procedure @xmath115 is obtained by applying ( [ eq : lambda_a ] ) . to be precise , @xmath116 should be scaled by the successful information transmission probability @xmath93",
    "; but since @xmath93 is ensured to be very close to @xmath64 given @xmath117 , this factor is omitted for ease of notation as in @xcite and @xcite .",
    "it is also easy to find that due to @xmath82 defined in ( [ eq : trans_prob_def ] ) , @xmath116 is a function of @xmath1 and @xmath3 .",
    "moreover , in each frame consisting of @xmath0 slots , since we should at least assign one slot to ul phase for information transmission , we have @xmath118 . hence , under the successful information transmission probability constraint",
    ", we formulate the spatial throughput maximization problem as @xmath119    it is noted that problem ( p1 ) involves integer programming , due to @xmath120 . moreover , since the expression of @xmath93 in proposition [ proposition : p_suc ] is very complicated , it is difficult to analyze the effects of @xmath1 and @xmath3 to ensure @xmath121 , and thus solve problem ( p1 ) . in the following proposition for the case of @xmath67 , which is a typical channel fading exponent in wireless communications ,",
    "we successfully find the equivalent constraints to @xmath121 , which can be used for formulating an equivalent problem to problem ( p1 ) with a simpler structure .",
    "[ proposition : p_suc_constraint_equivalent ] when @xmath67 , as @xmath122 , the successful information transmission probability constraint @xmath121 is equivalent to a transmission probability constraint @xmath123 with @xmath124 and @xmath125 , where @xmath126 is the unique solution to @xmath127",
    ".    please refer to appendix [ appendix : proof_euqivalent_trans_prob ] .",
    "since we assume @xmath117 to assure satisfied qos in the ul transmission , proposition [ proposition : p_suc_constraint_equivalent ] can be well applied in our considered system . moreover",
    ", the noise power @xmath128 provides a valid minimum transmit power level for @xmath129 , denoted by @xmath130 , which is important to assure a sufficiently large @xmath93 in a noise - dominant network . to avoid the trivial case without any valid decision for @xmath3",
    ", we assume @xmath131 .    finally , for ease of analysis",
    ", we focus on the case of @xmath67 in the sequel",
    ". does not affect the main results of this paper .",
    "moreover , for other cases with @xmath132 , the spatial throughput maximization problem can be similarly studied by using the modeling methods provided in this paper . ] by applying proposition [ proposition : p_suc_constraint_equivalent ] , we find an equivalent problem to problem ( p1 ) , which is given by @xmath133 clearly , problem ( p2 ) has transformed the successful information transmission probability constraint in ( p1 ) to an equivalent transmission probability constraint on @xmath82 . in the next two sections ,",
    "we solve problem ( p2 ) for both battery - free and battery - deployed cases , and study the effects of battery storage on the achievable throughput .",
    "due to the limited circuit size of some wireless devices , it is hard to install a sizable battery for these devices to store the harvested energy .",
    "thus , the use of battery - free wireless devices is growing in many wireless applications ( e.g. , the body - worn sensors for health monitoring ) . in this section ,",
    "we focus on the spatial throughput maximization problem for the battery - free wireless nodes .",
    "we first derive the transmission probability @xmath82 and the spatial throughput @xmath116 .",
    "we then substitute @xmath82 and @xmath116 into problem ( p2 ) and solve the spatial throughput maximization problem , by finding the optimal solution of @xmath134 and @xmath135 .",
    "first , we derive the transmission probability @xmath82 . in the battery - free case , as introduced in section ii - a , the wireless node operates with its available energy according to ( [ eq : s_f_no_storage ] ) .",
    "thus , by substituting ( [ eq : s_f_no_storage ] ) into ( [ eq : trans_prob_def ] ) , we obtain the expression of @xmath82 in the battery - free case as @xmath136 where procedure @xmath115 follows from our assumption in section ii - b , which gives i.i.d .",
    "@xmath57 s for the typical wireless node over frames , and procedure @xmath137 follows from ( [ eq : z_f_ccdf ] ) , by replacing @xmath138 with @xmath3 .",
    "note that since the error function @xmath139 when @xmath33 is sufficiently large , from ( [ eq : rho_no_storage ] ) , @xmath140 , by adopting sufficiently large @xmath1 , @xmath141 , and/or @xmath142 . by substituting ( [ eq : rho_no_storage ] ) into ( [ eq : spatial_throughput_def ] ) , we obtain the spatial throughput for the battery - free case as @xmath143 in addition , by substituting ( [ eq : rho_no_storage ] ) into ( [ eq : p_suc_4 ] ) , the expression of @xmath93 in the battery - free case can also be easily obtained .",
    "next , by substituting @xmath82 , given by ( [ eq : rho_no_storage ] ) , and @xmath116 , given by ( [ eq : throughput_batter_free ] ) , into problem ( p2 ) , we obtain the spatial throughput maximization problem for the battery - free case as @xmath144    it is observed that in problem ( p3 ) , both the objective function and the transmission probability constraint , given by ( [ eq : rho_constraint_bf ] ) , are related to the error function .",
    "note that the error function @xmath145 increases over @xmath146 , and then converges to its maximum value @xmath64 when @xmath33 is sufficiently large .",
    "suppose at @xmath147 , we have @xmath148 , where we assume @xmath149 is sufficiently large such that when @xmath150 , @xmath151 holds with an ignorable absolute error , which is no larger than @xmath152 . under such a tight approximation , to help solve problem ( p3 )",
    ", we calculate @xmath145 over @xmath153 as : @xmath154    it is also observed that in problem ( p3 ) , the maximum achievable spatial throughput over all @xmath120 and @xmath155 $ ] is @xmath156 , and it is achieved when the transmission probability @xmath157 , i.e. , @xmath158 by applying ( [ eq : erf ] ) to ( [ eq : rho_no_storage ] ) .",
    "moreover , for any given wireless node density @xmath40 , if the ap density @xmath141 is sufficiently large , such that @xmath159 holds for any @xmath120 , the transmission probability constraint given in ( [ eq : rho_constraint_bf ] ) of problem ( p3 ) is always satisfied , and thus any @xmath120 and @xmath155 $ ] that satisfy ( [ eq : rho_1_v_e ] ) is optimal to problem ( p3 ) .",
    "however , if @xmath141 is too small , the transmission probability constraint in ( [ eq : rho_constraint_bf ] ) may not be able to be satisfied with any @xmath120 and @xmath155 $ ] , and thus problem ( p3 ) has no solution .",
    "therefore , in the following theorem , by taking the wireless node density as a reference , we divide the ap density into three regimes , each with different optimal solutions to problem ( p3 ) , and present for these optimal solutions the resulting maximized spatial throughput in each regime .",
    "[ theorem : p - nb ] in the battery - free case , the optimal solutions @xmath134 and @xmath135 to problem ( p3 ) are determined as follows , where in each ap density regime , the corresponding maximum spatial throughput @xmath160 is obtained by substituting the optimal @xmath134 and @xmath135 to ( [ eq : throughput_batter_free ] )",
    ".      please refer to appendix [ appendix : proof_theorem ] .    for the battery - free case , due to the lack of energy storage , the amount of available energy for the ul phase in each frame is strongly affected by the time - varying dl channel fading , and",
    "thus may often be of a small value . as a result",
    ", we observe from theorem [ theorem : p - nb ] that _ to obtain more opportunity to transmit in the ul , the wireless nodes prefer to set @xmath174_. moreover , given the wireless node density @xmath175 , by increasing the ap density @xmath141 , we observe _",
    "double _ performance improving effects in the wpcn : 1 ) in the dl phase , the amount of harvested energy at each wireless node in the dl phase increases over @xmath141 ; 2 ) in the ul phase , due to the largely shortened distance between each wireless node and its associated ap by increasing @xmath141 , the desired signal strength at the ap is substantially increased , which dominates over the increased interference effects in the ul.we thus find the resulting successful information transmission probability in the ul phase is increased . as a result ,",
    "the successful information transmission probability constraint becomes loose by adopting a large ap density ; and thus from theorem [ theorem : p - nb ] , both the number of optimal solutions and the maximized spatial throughput are non - decreasing over @xmath141 .",
    "initialize @xmath176 , @xmath177 , and @xmath178 .",
    "set @xmath179^{\\!-2}$ ] .",
    "set @xmath180 ; set @xmath181 ; set @xmath182 , @xmath183 , and @xmath184 .",
    "return @xmath134 , @xmath135 , and @xmath160 .",
    "in this section , we consider the case with battery - deployed wireless nodes , as shown in fig .  2 and discussed in section ii - a . in the following ,",
    "we first study the ideal scenario with infinite - capacity battery , i.e. , @xmath35 , to help understand the effects of deploying a battery for improving the network performance .",
    "then , we focus on a more practical scenario with a finite - capacity battery , i.e. , @xmath185 .",
    "one can imagine that the network performance of the scenario with @xmath185 is upper bounded by that with @xmath35 .      in this subsection",
    ", we consider the ideal scenario with @xmath35 , for which the battery level @xmath58 evolves over frames according to ( [ eq : s_f_storage_inf ] ) . in the following ,",
    "we derive the transmission probability @xmath82 and the spatial throughput @xmath116 in this scenario . then by substituting @xmath82 and @xmath116 into problem ( p2 )",
    ", we provide the optimal solutions @xmath134 and @xmath135 for the infinite - capacity scenario .",
    "first , we study the transmission probability @xmath82 . unlike the battery - free case , by deploying batteries to store the harvested energy over frames , the time - varying channel effects on the available amount of energy in the ul phase is largely alleviated in the battery - deployed case . when @xmath35 , all the harvested energy @xmath57 in each frame can be stored in the battery and used by the following frames .",
    "moreover , note that the average energy arrival rate in the dl phase of each frame is @xmath76 , as explained in section ii - b , which is much larger than the required transmit power @xmath186 in the ul phase .",
    "thus , as the harvested energy accumulates in the battery over frames , we obtain the following proposition .    [",
    "proposition : rho_storage_inf ] given infinite - capacity battery , the typical node s ul transmission probability is @xmath187    please refer to appendix [ appendix : proof_rho_inf_b ] .    from proposition [ proposition : rho_storage_inf ] , in the infinite - capacity scenario , the aps rf signals can be considered as a _",
    "reliable _ energy source for the wireless nodes .",
    "next , by substituting ( [ eq : rho_storage_inf ] ) into ( [ eq : spatial_throughput_def ] ) , which is the objective function in problem ( p2 ) , we obtain the spatial throughput in the infinite - capacity battery case as @xmath188 , which is a constant and is the maximum achievable spatial throughput of @xmath116 .",
    "since @xmath116 is a constant , the objective function in problem ( p2 ) is also a constant .",
    "thus , the spatial throughput maximization problem degenerates to a feasibility problem , given by @xmath189    by observing the constraints in problem ( p4 ) , the optimal solutions @xmath134 and @xmath135 of the spatial throughput maximization problem are given by any arbitrary point in the rectangular feasible region defined by ( [ eq : s_n ] ) and ( [ eq : s_p ] ) .",
    "unlike the optimal solutions in the battery - free case , given in theorem [ theorem : p - nb ] , where @xmath134 and @xmath135 are correlated , @xmath134 and @xmath135 here can be independently selected for the infinite - capacity battery case . moreover , since the transmission probability @xmath157 , the wireless nodes can always have opportunity to transmit in the ul with sufficient energy .",
    "thus , we find any transmit power level @xmath190 $ ] is optimal in the infinite - capacity battery scenario .",
    "this is in sharp contrast to the battery - free case , where the optimal transmit power level is the minimum transmit power @xmath191 in general .",
    "however , similar to the battery - free case results shown in theorem [ theorem : p - nb ] , since the number of feasible @xmath1 s is non - decreasing over @xmath141 from ( [ eq : s_n ] ) , the number of optimal solution pairs ( @xmath134 and @xmath135 ) is non - decreasing over @xmath141 .",
    "moreover , we note that if @xmath192 , which is the high ap density regime defined for the battery - free case in theorem [ theorem : p - nb ] , any @xmath193 is optimal for the infinite - capacity battery case .",
    "this is because the transmission probability constraint given in problem ( p2 ) is always satisfied and the ul transmission interference is small due to the close distance between each wireless node and its associated ap .      in this subsection , we consider a practical scenario with finite - capacity battery , i.e. , @xmath185 , in which the network performance is upper and lower bounded by that in the infinite - capacity battery scenario and battery - free case , respectively .",
    "since the stored energy is capped by @xmath26 , the battery level evolution , given in ( [ eq : s_f_storage ] ) , and thus the transmission probability @xmath82 , defined in ( [ eq : trans_prob_def ] ) , are all dependent on @xmath26 .",
    "it is hence difficult to find an exact expression of @xmath82 for the finite - capacity battery scenario @xcite . as a result , we focus on providing effective bounds to @xmath82 . in the following ,",
    "we first provide closed - form lower and upper bounds of @xmath82 , based on which , a special case with @xmath157 is obtained .",
    "since the tightness of these closed - form bounds can not be assured , we then provide another lower bound , which is relatively tighter to @xmath82 but can only be obtained numerically . at last , by applying the obtained bounds of @xmath82 , we study the spatial throughput maximization problem for the finite - capacity battery scenario .      by noticing from ( [ eq : s_f_storage ] ) and ( [ eq : trans_prob_def ] )",
    ", the transmission probability @xmath194 increases over the battery capacity @xmath26 .",
    "we thus find the transmission probability in the finite - capacity battery scenario is upper and lower bounded by that in the infinite - capacity battery scenario , given in ( [ eq : rho_storage_inf ] ) , and that in the battery - free case , given in ( [ eq : rho_no_storage ] ) , respectively .",
    "however , it is noted that both ( [ eq : rho_no_storage ] ) and ( [ eq : rho_storage_inf ] ) are constants and thus can not flexibly capture the variation of @xmath82 over different values of capacity @xmath26 .",
    "it is also noted that @xcite has proposed a lower bound , @xmath195 , where @xmath196 is the root of @xmath197 $ ] , under the condition that @xmath198 .",
    "although such a lower bound exponentially increases over @xmath26 and can also be applied in our considered system as @xmath76 , it may not be tight when @xmath26 is small .",
    "for example , when @xmath199 , the lower bound @xmath195 provided in @xcite is @xmath5 , which is even smaller than the lower bound given in ( [ eq : rho_no_storage ] ) .",
    "as a result , we combine both lower bounds given in ( [ eq : rho_no_storage ] ) and @xcite to provide a tighter lower bound in the following proposition .    [ proposition : rho_bound_closedform ] for the finite - capacity battery case , the transmission probability @xmath82 satisfies @xmath200 , where @xmath201 , with @xmath202 ^ 2 $ ]",
    ".    please refer to appendix [ appendix : proof_rho_finite_b ] .",
    "it is noted that when @xmath203 , the lower bound given in proposition [ proposition : rho_bound_closedform ] equals @xmath64 , and thus we obtain the following corollary .",
    "[ corollary : rho=1 ] for the finite - capacity battery case , if @xmath203 , @xmath157 .",
    "although the lower and upper bounds provided in proposition [ proposition : rho_bound_closedform ] are in closed - form , their tightness to the actual @xmath82 of the finite - capacity case can not be assured for arbitrary @xmath26 and other parameters .",
    "thus , in the following , we provide an alternative lower bound to @xmath82 which is tight in general .",
    "the tight lower bound of @xmath82 is obtained by modeling the battery level as a discrete - time markov chain @xcite . in the following ,",
    "we first quantize @xmath26 , @xmath57 , and @xmath3 , and then based on the resulting battery level , we develop the discrete - time markov chain with finite number of states . by finding the steady - state probabilities of the markov chain ,",
    "we novelly derive a tight lower bound to the transmission probability @xmath82 , which is not in closed - form but can be computed efficiently .",
    "first , we quantize the battery capacity @xmath26 , the harvested energy @xmath57 , and the required transmit power @xmath3 of the typical wireless node , such that the battery level only has a finite number of values .",
    "specifically , let @xmath204 represent the quantization step size , which assures @xmath205 , with @xmath206 and @xmath207 denoting ceiling and floor operations of @xmath208 , respectively .",
    "we reduce @xmath26 and @xmath57 to @xmath209 and @xmath210 , respectively , and increase @xmath3 to @xmath211 .",
    "clearly , under these operations , the resulting battery level is a lower bound to @xmath58 in ( [ eq : s_f_storage ] ) , which is denoted by @xmath212 , given as @xmath213 with initial @xmath214 . for any @xmath215",
    ", we have @xmath216 . by replacing @xmath58 with @xmath212 in ( [ eq : trans_prob_def ] )",
    ", we obtain a lower bound to @xmath82 , which is denoted by @xmath217 .",
    "it is easy to verify that when @xmath218 is sufficiently small , @xmath217 is a tight lower bound to @xmath82 , which is expected to outperform the bounds in proposition [ proposition : rho_bound_closedform ] .",
    "moreover , when @xmath219 , we have @xmath220 due to @xmath221 .",
    "next , we derive @xmath217 by analyzing the distribution of @xmath212 via markov - chain theory .",
    "let @xmath222 and @xmath223 . from ( [ eq : s_f_storage_low ] ) , given @xmath224 with @xmath225 , @xmath212 is independent of @xmath226 .",
    "thus , @xmath227 satisfies the markov property and is hence a discrete - time markov chain , with the state space given by @xmath228 .",
    "let @xmath229 represent the transition probability from state @xmath230 to @xmath231 , with @xmath232 .",
    "if @xmath233 , the battery level @xmath234 is below the capacity limit @xmath235 , and thus @xmath236 if @xmath237 , state transition from @xmath13 to @xmath238 includes all events that can cause battery saturation , and thus @xmath239 by combining ( [ eq : p_ji_j ] ) and ( [ eq : p_ji_v0 ] ) , we obtain @xmath240 where in each case , @xmath241 is only determined by the distribution of @xmath57 .",
    "denote @xmath242 $ ] as the steady - state probabilities of the markov chain , and @xmath243 as the state transition probability matrix with the @xmath244-th element given by @xmath241 . by jointly solving @xmath245 and @xmath246 , or applying @xmath247 with a randomly initialized state probabilities @xmath248 $ ] and @xmath249",
    ", we can find the value of @xmath250 , @xmath251 $ ] , and thus obtain @xmath252 .",
    "since there is no general expression to each @xmath250 , @xmath217 can only be obtained numerically in general . in algorithm 2 , by reducing @xmath218 to repeatedly calculate @xmath217 until an absolute error bound , denoted by @xmath253 is satisfied , we present a simple procedure to calculate @xmath217 , which ensures @xmath254 .",
    "initialize @xmath218 and @xmath255 , and set @xmath256 and @xmath257 .",
    "set @xmath258 .",
    "set @xmath259 .",
    "calculate @xmath260 , @xmath261 , and @xmath243 .",
    "find @xmath262 , such that @xmath263 , and set @xmath252 .",
    "return @xmath217 .",
    "the computational complexity of algorithm 2 is determined by the values of @xmath218 and @xmath255 as well as the efficiency to find the steady - state probabilities of @xmath262 . as a result",
    ", it is generally difficult to find the complexity order of algorithm 2 analytically , as in @xcite .",
    "intuitively , when @xmath218 is very small , due to the resulting large size of the state transition probability matrix @xmath243 , algorithm 2 may not be computationally efficient .",
    "however , it is worth noting that algorithm 2 is essentially an _ off - line _ algorithm .",
    "moreover , since it is not only difficult to find an exact expression of @xmath82 , but also computationally prohibitive to obtain @xmath82 by network - level simulation , the tight lower bound @xmath217 provided by algorithm 2 is important for analytical study of the actual transmission probability and thus the spatial throughput .",
    "for example , as will be shown later , @xmath217 can help evaluate the performance of other lower or upper bounds , and maximize the spatial throughput for a finite - capacity battery case with any designed parameters .",
    "we consider two cases , which are @xmath264 and @xmath265 , respectively , for spatial throughput maximization .",
    "we have @xmath157 from corollary [ corollary : rho=1 ] in the former case , but no exact expression of @xmath82 in the latter case .",
    "first , we consider the case with @xmath266 .",
    "similar to the infinite - capacity battery case , when @xmath267 , the spatial throughput @xmath116 becomes a constant .",
    "thus , by substituting @xmath267 into problem ( p2 ) , and adding the constraint @xmath266 , or equivalently , @xmath268 ^ 2 $ ] , the spatial throughput maximization problem degenerates to a feasibility problem , given by @xmath269 ^ 2 \\!\\big ) .",
    "\\label{eq : p_finite}\\end{aligned}\\ ] ]    it is observed that the optimal solutions @xmath134 and @xmath135 to problem ( p5 ) are arbitrary values that locate in the feasible region , defined by ( [ eq : n_finite ] ) and ( [ eq : p_finite ] ) .",
    "it is also observed that due to the reduced battery capacity , the feasible region of problem ( p5 ) for the finite - capacity battery case is reduced , as compared to that of problem ( p4 ) for the infinite - capacity battery case .",
    "unlike problem ( p4 ) , where @xmath134 and @xmath135 can be independently selected in its feasible region , @xmath134 and @xmath135 of problem ( p5 ) may be correlated , due to the added constraint @xmath270 ^ 2 $ ] to ensure @xmath271 .",
    "similar to both battery - free and infinite - capacity battery cases , due to the non - decreased feasible region , we also find that the number of optimal solutions is non - decreasing over the ap density @xmath141 .",
    "next , we focus on the case with @xmath272 . due to the lack of exact expression of @xmath82 and thus @xmath116 , given in ( [ eq : spatial_throughput_def ] ) , we exploit algorithm 2 to study the spatial throughput maximization problem , as defined by problem ( p2 ) . specifically , for any @xmath273 $ ] and @xmath274 , we first apply algorithm 2 to find a tight lower bound @xmath217 to @xmath82 .",
    "then based on @xmath217 , if the transmission probability constraint @xmath275 is satisfied , we can obtain a non - zero tight lower bound of the spatial throughput @xmath116 , which is denoted by @xmath276 ; otherwise , we set @xmath277 . after finding all @xmath276 s over @xmath278 $ ] and @xmath274 , we can easily find the optimal solutions @xmath134 and",
    "@xmath135 that maximizes @xmath279 . from ( [ eq : spatial_throughput_def ] ) , if @xmath280 by adopting a sufficiently small @xmath255 in algorithm 2 , we have @xmath281 , over any @xmath273 $ ] and @xmath274 .",
    "therefore , the obtained @xmath134 and @xmath135 can be seen as tight approximations to the actual optimal dl slots and ul transmit power , respectively .",
    "a numerical example is provided in section vi - b to find the maximized spatial throughput based on algorithm  2 .",
    "numerical results are provided in this section . in the following ,",
    "we first validate the analytical results , and then further study the transmission probability and spatial throughput for both battery - free and battery - deployed cases .",
    "this subsection validates the analytical results obtained in section ii and section iii by simulation .",
    "we validate the feasibility of assumption 1 for independent @xmath57 s , and the homogeneous ppp assumption for the point process formed by the active wireless nodes in the ul slot .",
    "we also find that the distribution of @xmath57 in proposition [ proposition : z_f_distribution ] and @xmath93 in proposition [ proposition : p_suc ] can be similarly validated by using the methods in the existing literature ( e.g. , @xcite and @xcite ) .",
    "we focus on the battery - free case in type - i network model , and find similar validation results for the battery - deployed case in type - i network model as well as both cases in type - ii network model .",
    "specifically , at the beginning of each frame , we generate @xmath41 for aps and @xmath39 for wireless nodes in a square of @xmath282\\!\\times\\![0\\textrm{m},1000\\textrm{m}]$ ] , according to the method described in @xcite . then at the beginning of each slot within a frame , we independently and uniformly relocate all the wireless nodes in the considered area . to take care of the border effects , we focus on sampling the wireless nodes that locate in the interim square with side length @xmath283 m , @xmath284 . unless otherwise specified , in this subsection , we set @xmath285 , @xmath286 , @xmath287w , @xmath288 , and @xmath289 .",
    "all simulation results are obtained based on an average over 4000 frame realizations .",
    "s.,scaledwidth=47.0% ]    first , we validate the feasibility of assumption 1 .",
    "since the correlations between @xmath57 s are similar over time frames and space @xmath77 , we focus on validating that @xmath57 s can be viewed independent over space @xmath77 . specifically , we randomly select two wireless nodes and index them with @xmath290 and @xmath291 , respectively . the two wireless nodes independently and uniformly change their locations over frames in the interim square with length @xmath283 m .",
    "we consider two scenarios , where in the first scenario , we set @xmath292 m and @xmath293w , and in the second scenario , we set @xmath294 m and @xmath295w . clearly , both wireless nodes are of smaller mobility in the former scenario and larger mobility in the latter one . moreover , since @xmath296 , the two wireless nodes are of limited mobility over frames in both scenarios . in fig .  [",
    "fig : z_f ] , we evaluate and compare the marginal probability product @xmath297 with the joint probability @xmath298 over the ap density @xmath141 in both scenarios .",
    "it is observed from fig .",
    "[ fig : z_f ] that in both scenarios , for any ap density , the gap between the marginal probability product and the joint probability is tightly approaching zero ; and especially when ap density is reasonably large , such gap decreases to be zero . hence",
    ", the harvested energy of these two wireless nodes in one frame is tightly approaching to be independent , and thus can be viewed as independent .",
    "moreover , by comparing the two scenarios , it is observed that when the wireless nodes are of smaller mobility in the first scenario , the gap between marginal probability product and the joint probability is comparatively large when @xmath141 is quite small ( e.g. , @xmath299 ) .",
    "this is mainly because when @xmath141 is quite small , the dominate aps are more correlated for wireless nodes with smaller mobility , as compared to that with larger mobility .",
    "however , the resulted correlation is rapidly reduced as @xmath141 is reasonably increased . therefore",
    ", assumption 1 can be well applied in the considered wpcn .",
    "next , we validate the poisson assumption for the point process formed by the active wireless nodes in the ul slot . according to @xcite ,",
    "a point process on @xmath77 is _ fully _ characterized by its void probability on an arbitrary compact subset of @xmath77 .",
    "we evaluate and compare the void probability of the actual point process in the ul slot with that of the assumed ppp @xmath86 in the interim square with side length @xmath283 , by setting @xmath300 , in fig .",
    "[ fig : void ] . from @xcite , given @xmath283 , the void probability of @xmath86 in the interim square is given by @xmath301 .",
    "we set @xmath302 and @xmath295w .",
    "it is observed from fig .",
    "[ fig : void ] that the void probabilities of both the assumed ppp and the actual point process in the ul decrease over the increased interim area with side length @xmath283 , as expected .",
    "moreover , since assumption 1 can be well applied , as its direct result to obtain the ppp @xmath88 in the ul , it is observed that for any @xmath283 , the void probability of the assumed ppp @xmath88 is tightly close to that of the actual point process in the ul , which validates the ppp assumption for the point process in the ul .",
    "in addition , from ( [ eq : trans_prob_def ] ) and ( [ eq : lambda_a ] ) , since the density @xmath84 is determined by the distribution of @xmath57 , the successful validation of the assumed ppp @xmath86 also implies the correctness of the derived @xmath57 s distribution in proposition 2.1 under assumption  1 .",
    "this subsections studies the transmission probability and the spatial throughput .",
    "unless otherwise specified , in this subsection , we reasonably set @xmath287w , @xmath303dbm , @xmath304 , @xmath285 , @xmath305 , and @xmath306 .",
    "moreover , we set @xmath307 for calculating @xmath145 in ( [ eq : erf ] ) , where @xmath308 is obtained as @xmath309 .",
    "similarly , @xmath126 is obtained by numerically solving @xmath310 as given in proposition [ proposition : p_suc_constraint_equivalent ] .",
    "we also observe that similar performance can be obtained by using other parameters .      since the transmission probabilities for the battery - free and infinite - capacity battery cases are obtained exactly , as given in ( [ eq : rho_no_storage ] ) and ( [ eq : rho_storage_inf ] ) , respectively , we focus on the transmission probability for the finite - capacity battery case .",
    "we set @xmath311 , @xmath312 , @xmath313 , and @xmath314w .",
    "[ fig : batter_finite_rho ] compares the closed - form lower and upper bounds of @xmath82 , given in proposition [ proposition : rho_bound_closedform ] , and the tight lower bound , given by algorithm 2 , over the battery capacity @xmath26 . by adopting algorithm 2",
    ", we set the absolute error @xmath315 , and initialize @xmath316 .",
    "first , it is observed from fig .",
    "[ fig : batter_finite_rho ] that the tight lower bound by algorithm  2 monotonically increases over battery capacity @xmath26 as expected ; and as the actual transmission probability , it is bounded by the upper and lower bounds provided in proposition [ proposition : rho_bound_closedform ] , respectively .",
    "next , for the closed - form lower bound by proposition [ proposition : rho_bound_closedform ] , it is observed when the capacity is small with @xmath317 , a constant lower bound is obtained as @xmath318 ; and when @xmath319 , the lower bound is given by @xmath320 , which generally captures the variation of the transmission probability , by taking the tight lower bound by algorithm 2 as a reference . moreover , as @xmath26 increases , we observe both lower bounds by algorithm 2 and proposition [ proposition : rho_bound_closedform ] approach to the upper bound @xmath157 , and that by algorithm 2 becomes tight to @xmath157 when @xmath26 is large .",
    "furthermore , noticing that @xmath321 is the transmission probability in the battery - free case , given in ( [ eq : rho_no_storage ] ) , we observe that it is always lower than the tight lower bound by algorithm 2 in the battery - deployed case as expected .",
    "we study the spatial throughput in both battery - free and battery - deployed cases . in the battery - free case , by applying theorem [ theorem : p - nb ] , we focus on showing the effects of the ap density @xmath141 and wireless node density @xmath175 on the maximized spatial throughput . in the battery - deployed case , we focus on the challenging finite - capacity battery case with @xmath322 , and exploit algorithm 2 to help find the maximized spatial throughput .",
    "[ fig : batter_free_optimal_r ] shows the maximized spatial throughput over the ap density in the battery - free case , by applying theorem [ theorem : p - nb ] .",
    "we consider two scenarios , with wireless node density @xmath323 and @xmath324 , respectively , where for each scenario , the low , medium and high ap regimes are given by @xmath325 , @xmath326 , and @xmath327 , respectively .",
    "first , for both scenarios , it is observed that by increasing @xmath141 , the maximized spatial throughput slowly increases in the low ap density regime , and after @xmath328 , it rapidly increases in the medium ap density regime and achieves its maximum achievable spatial throughput @xmath156 at some point in this regime ; and after this point , it remains as the constant @xmath156 over all the medium and high ap density regimes . since in both scenarios , we observe that @xmath156 is achieved far before @xmath141 reaches to its high density regime , for ease of illustration , we only show the low ap density regime and part of the medium ap density regime in fig .",
    "[ fig : batter_free_optimal_r ] for both scenarios .",
    "next , it is observed that the maximum achievable spatial throughput @xmath156 is larger for the scenario with a larger @xmath329 , as compared to the scenario with @xmath323 . moreover , in the scenario with a larger @xmath324 , due to the increased interference level , to achieve @xmath156 under the successful information transmission probability constraint , more aps are needed to be deployed to reduce the distance between the wireless nodes and their associated aps , so as to improve the desired signal strength and thus the successful information transmission probability .",
    "[ fig : batter_finite_r ] shows the spatial throughput for the finite - capacity battery case over @xmath1 and @xmath3 , where we set @xmath305 , @xmath330w , @xmath331w , @xmath311 , and @xmath312 . by applying algorithm 2 with @xmath315 and initialized @xmath316",
    ", we use the method presented in section [ section : stm_finite ] to compute @xmath276 over all feasible @xmath1 and @xmath3 , and take the obtained @xmath276 as a tight approximation to @xmath116 .",
    "we find the optimal solutions that maximize @xmath276 are @xmath332 and @xmath333w in fig .",
    "[ fig : batter_finite_r ] . thus , similar to the battery - free case in theorem [ theorem : p - nb ] ,",
    "the wireless nodes prefer to choose @xmath334 , which assures a large transmission probability @xmath82 .",
    "moreover , with small @xmath332 in the dl phase , the ul phase is assigned with @xmath335 slots , which helps effectively reduce the ul interference by the independent scheduling .",
    "in addition , since a smaller @xmath3 yields an increased @xmath82 , and thus requires a smaller @xmath1 to satisfy the transmission probability constraint in problem ( p2 ) , it is observed from fig .",
    "[ fig : batter_finite_r ] that the feasible region of @xmath1 becomes smaller as @xmath3 decreases .",
    "in this paper , we studied the optimal tradeoff between the energy transfer and information transfer in a large - scale wpcn , for both battery - free and battery - deployed wireless nodes .",
    "we proposed a new time - partition - based harvest - then - transmit protocol and modeled the network based on homogeneous ppps . by using tools from stochastic geometry",
    ", we characterized the distribution of the harvested energy in the dl and the successful information transmission probability in the ul .",
    "we studied the resulting transmission probability and successfully solved the spatial throughput maximization problem for both battery - free and battery - deployed cases .",
    "moreover , by comparing the network performance in the battery - free , infinite - capacity battery , and finite - capacity battery cases , we investigated the effects of battery storage on the system spatial throughput .",
    "we first present three lemmas .",
    "let @xmath344 .",
    "it is easy to verify that @xmath345 monotonically increases over @xmath153 , as shown in fig .",
    "[ fig : equivalent_p_suc ] . as a result",
    ", @xmath346 is equivalent to @xmath340 .",
    "moreover , since @xmath347 , we need @xmath341 ; otherwise , no valid @xmath348 $ ] exists to meet @xmath339 .",
    "lemma [ lemma : appendix_equivalent_p_suc_1 ] thus follows .",
    "let @xmath350 .",
    "while @xmath342 is the unique solution to @xmath351 , we have @xmath352 is the unique solution to @xmath353 .",
    "notice that @xmath342 is a function of @xmath354 , and as shown in fig .",
    "[ fig : equivalent_p_suc ] , when @xmath354 increases , both @xmath342 and @xmath352 increase .",
    "first , since @xmath126 is the unique solution to @xmath355 , it is easy to obtain that when @xmath356 , @xmath357 is the unique solution to @xmath358 . in other words , when @xmath356 , we obtain @xmath359 .",
    "next , by expanding @xmath360 , we have @xmath361 $ ] .",
    "we thus can easily obtain @xmath362 , and @xmath363 , i.e. , @xmath345 and @xmath364 are getting closer as @xmath33 increases . as a result , as illustrated in fig .",
    "[ fig : equivalent_p_suc ] , it is easy to verify the followings : 1 ) when @xmath365 , due to the big gap between @xmath345 and @xmath364 , we have @xmath366 , as illustrated by case 1 with @xmath367 and @xmath368 ; and 2 ) due to the increasingly small gap between @xmath345 and @xmath364 as @xmath354 increases , when @xmath369 , we have @xmath370 , as illustrated by case 2 with @xmath371 and @xmath372",
    ". lemma [ lemma : appendix_equivalent_p_suc_2 ] thus follows .",
    "it has been shown from the proof of lemma [ lemma : appendix_equivalent_p_suc_2 ] that @xmath375 .",
    "on the other hand , when @xmath376 , since @xmath377 , we have @xmath378 , or equivalently , @xmath379 , by substituting @xmath380 . as a result , @xmath381 , as @xmath374 .",
    "lemma [ lemma : appendix_equivalent_p_suc_3 ] thus follows .",
    "therefore , since @xmath382 in ( [ eq : p_suc_4 ] ) , from lemma [ lemma : appendix_equivalent_p_suc_1 ] and lemma [ lemma : appendix_equivalent_p_suc_2 ] , ( [ eq : p_suc_4 ] ) is equivalent to @xmath383 with @xmath384 . from lemma [ lemma : appendix_equivalent_p_suc_3 ]",
    ", we can obtain @xmath385 with @xmath374 . by substituting the expression of @xmath386 and @xmath387 , we find @xmath388 is equivalent to the transmission probability constraint with @xmath389 .",
    "proposition [ proposition : p_suc_constraint_equivalent ] thus follows .",
    "we note a different proof based on random walk theory for proposition [ proposition : rho_storage_inf ] was provided in @xcite .",
    "compared to @xcite , by exploiting the distribution of @xmath57 , the proof presented in the following is much simpler . from ( [ eq : s_f_storage ] ) , we have @xmath414 under assumption 1 with i.i.d .",
    "@xmath57 s , it is easy to verify that the point processes at the end of the dl phase of each frame are i.i.d .",
    "ppps , each with density @xmath141 .",
    "thus , @xmath415 gives the harvested energy over all @xmath16 i.i.d ppps , which is equivalent to the harvested energy in a ppp of density @xmath416 .",
    "hence , we can easily obtain that for any given @xmath417 , @xmath418 , which is equal to @xmath64 when @xmath16 is sufficiently large . as a result , from ( [ eq : trans_prob_def ] ) and ( [ eq : appx_s_f_geq ] ) , we obtain @xmath419 since @xmath420",
    ", we have @xmath157 .",
    "proposition [ proposition : rho_storage_inf ] thus follows .",
    "since both @xmath421 and @xmath195 are lower bounds of @xmath420 , it is easy to find that @xmath200 holds .",
    "this proof mainly derives the expression of @xmath196 by solving @xmath422=0 $ ] , or equivalently , @xmath423 . from the laplace",
    "transform of @xmath57 given in proposition [ proposition : z_f_distribution ] , it is easy to find that @xmath424 , and thus @xmath196 by letting @xmath423 .",
    "proposition [ proposition : rho_bound_closedform ] thus follows .",
    "a. m. zungeru , l. m. ang , s. prabaharan , and k. p. seng , `` radio frequency energy harvesting and management for wireless sensor networks , '' _ green mobile devices netw . : energy opt . scav . tech .",
    "_ , crc press , pp .",
    "341 - 368 , 2012 .",
    "o.  ozel , k.  tutuncuoglu , j.  yang , s.   ulukus , and a.  yener , `` transmission with energy harvesting nodes in fading wireless channels : optimal policies , '' _ ieee j. sel .",
    "areas commun .",
    "29 , no . 8 , pp .  1732 - 1743 , sep .",
    "2011 .",
    "y.  c.  jin , y.  g.  wen , and q.  h.  chen , `` energy efficiency and server virtualization in data centers : an empirical investigation , '' _ ieee infocom workshop on communications and control for sustainable energy systems : green networking and smart grids _ , mar .",
    "2012 .    y.  c.  jin , y.  g.  wen , z.  q.  zhu , and q.  h.  chen , `` an empirical investigation of the impact of server virtualization on energy efficiency for green data center , '' _ the computer journal _ , oxford journals , vol .",
    "51 , no .  8 , pp .  968 - 975 , aug .",
    "w.  w.  zhang , y.  g.  wen , k.  guan , d.  kilper , h.  y.  luo , and d.  p.  wu , `` energy - efficient mobile computing under stochastic wireless channel , '' _ ieee trans .",
    "wireless commun .",
    "_ , vol . 12 , no .",
    "9 , pp . 4569 - 4581 , sep .",
    "2013 .",
    "l. xie , y. shi , y. t. hou , and h. d. sherali , `` making sensor networks immortal : an energy - renewable approach with wireless power transfer , '' _ ieee / acm trans .",
    "1748 - 1761 , dec . 2012 .",
    "y.  l.  che , r.  zhang , y.  gong and l.  duan , `` on spatial capacity of wireless ad hoc networks with threshold based scheduling , '' _ ieee trans .",
    "wireless commun .",
    "_ , vol . 13 , no . 12 , pp . 6915 - 6927 , oct .",
    "note that in the first constraint of ( p3 ) , for the left - hand side , we have @xmath390 , and for the right - hand side , we have @xmath391 .",
    "thus , by comparing the upper bound of @xmath392 with the upper and lower bounds of @xmath393 , respectively , we obtain the following three regimes of the ap density @xmath141 :    1 .   if @xmath394 , i.e. , in the high ap density regime , it is clear the first constraint in problem ( p3 ) can always hold .",
    "thus , any @xmath120 and @xmath155 $ ] are feasible to problem ( p3 ) .",
    "note that @xmath116 achieves its maximum value when @xmath395 and @xmath174 . as a result ,",
    "if @xmath395 and @xmath174 satisfy ( [ eq : rho_1_v_e ] ) for assuring @xmath157 , we find any pair of @xmath134 and @xmath135 that satisfy ( [ eq : rho_1_v_e ] ) are optimal to problem ( p3 ) , and @xmath396 ; otherwise , we have @xmath397 and thus @xmath398 , with @xmath399 and @xmath400 .",
    "2 .   if @xmath401 , i.e. , in the medium ap density regime , a unique @xmath402 clearly exists , since otherwise , the condition @xmath403 can not hold .",
    "it is thus easy to verify that the first constraint in problem ( p3 ) holds if and only if @xmath404 . as a result",
    ", the feasible region for problem ( p3 ) is given by any @xmath405 and @xmath155 $ ] .",
    "at last , by using the similar method as in the case of high ap density regime , we can easily find @xmath134 , @xmath135 and @xmath160 as stated in theorem [ theorem : p - nb ] .",
    "if @xmath406 , i.e. , in the low ap density regime , if @xmath407 at @xmath170 , which gives the largest value of the right - hand side in the first constraint of ( p3 ) , the first constraint of problem ( p3 ) can not hold , and thus there is no feasible solution ; otherwise , there exists optimal @xmath134 and @xmath135 , which yield @xmath397 . as shown in algorithm 1 , since for any given @xmath1 , @xmath408 achieves its minimum value when @xmath409 , we use @xmath410 to check whether an @xmath1 is feasible , by searching over @xmath120 . after finding a feasible @xmath1",
    ", we then calculate the corresponding @xmath411 that maximizes @xmath412 .",
    "finally , by comparing all the feasible @xmath1 s and their corresponding @xmath3 s , we can find optimal @xmath134 and @xmath135 that maximizes @xmath116 .",
    "clearly , by searching over @xmath120 , algorithm 1 is of complexity or of @xmath413 ."
  ],
  "abstract_text": [
    "<S> wireless charging is a promising way to power wireless nodes transmissions . </S>",
    "<S> this paper considers new dual - function access points ( aps ) which are able to support the energy / information transmission to / from wireless nodes . </S>",
    "<S> we focus on a large - scale wireless powered communication network ( wpcn ) , and use stochastic geometry to analyze the wireless nodes performance tradeoff between energy harvesting and information transmission . </S>",
    "<S> we study two cases with battery - free and battery - deployed wireless nodes . for both cases , </S>",
    "<S> we consider a harvest - then - transmit protocol by partitioning each time frame into a downlink ( dl ) phase for energy transfer , and an uplink ( ul ) phase for information transfer . by jointly optimizing frame partition between the two phases and the wireless nodes transmit power , </S>",
    "<S> we maximize the wireless nodes spatial throughput subject to a successful information transmission probability constraint . for the battery - free case , </S>",
    "<S> we show that the wireless nodes prefer to choose small transmit power to obtain large transmission opportunity . for the battery - deployed case , </S>",
    "<S> we first study an ideal infinite - capacity battery scenario for wireless nodes , and show that the optimal charging design is not unique , due to the sufficient energy stored in the battery . </S>",
    "<S> we then extend to the practical finite - capacity battery scenario . </S>",
    "<S> although the exact performance is difficult to be obtained analytically , it is shown to be upper and lower bounded by those in the infinite - capacity battery scenario and the battery - free case , respectively . </S>",
    "<S> finally , we provide numerical results to corroborate our study .    wireless powered communication networks ( wpcn ) , harvest - then - transmit protocol , radio - frequency ( rf ) energy harvesting , stochastic geometry , spatial throughput maximization , battery storage .    </S>",
    "<S> [ section ] [ section ] [ section ] [ section ] [ section ] [ section ] [ section ]    [ section ] </S>"
  ]
}