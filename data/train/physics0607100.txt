{
  "article_text": [
    "community detection in complex networks has attracted a lot of attention in the last years ( for a review see  @xcite ) .",
    "the main reason is that complex networks  @xcite are made of a large number of nodes and that so far most of the quantitative investigations were focusing on statistical properties disregarding the roles played by specific subgraphs . detecting communities ( or _ modules",
    "_ ) can then be a way to identify relevant substructures that may also correspond to important functions . in the case of the world wide web , for instance",
    ", communities are sets of web pages dealing with the same topic  @xcite .",
    "relevant community structures were also found in social networks  @xcite , biochemical networks  @xcite , the internet  @xcite , food webs  @xcite , and in networks of sexual contacts  @xcite .    loosely speaking",
    "a community is a subgraph of a network whose nodes are more tightly connected with each other than with nodes outside the subgraph .",
    "a decisive advance in community detection was made by newman and girvan  @xcite , who introduced a quantitative measure for the quality of a partition of a network into communities , the so - called _",
    "modularity_. this measure essentially compares the number of links inside a given module with the expected value for a randomized graph of the same size and degree sequence .",
    "if one takes modularity as the relevant quality function , the problem of community detection becomes equivalent to modularity optimization .",
    "the latter is not trivial , as the number of possible partitions of a network in clusters increases exponentially with the size of the network , making exhaustive optimization computationally unreachable even for relatively small graphs .",
    "therefore , a number of algorithms have been devised in order to find a good optimization with the least computational cost .",
    "the fastest available procedures uses greedy techniques  @xcite and extremal optimization  @xcite , and are at present time the only algorithms capable to detect communities on large networks .",
    "more accurate results are obtained through simulated annealing  @xcite , although this method is computationally very expensive .",
    "modularity optimization seems thus to be a very effective method to detect communities , both in real and in artificially generated networks .",
    "the modularity itself has however not yet been thoroughly investigated and only a few general properties are known .",
    "for example , it is known that the modularity value of a partition does not have a meaning by itself , but only if compared with the corresponding modularity expected for a random graph of the same size  @xcite , as the latter may attain very high values , due to fluctuations  @xcite .    in this paper",
    "we focus on communities defined by modularity .",
    "we will show that modularity contains an intrinsic scale which depends on the number of links of the network , and that modules smaller than that scale may not be resolved , even if they were complete graphs connected by single bridges .",
    "the resolution limit of modularity actually depends on the degree of interconnectedness between pairs of communities and can reach values of the order of the size of the whole network .",
    "it is thus _ a priori _ impossible to tell whether a module ( large or small ) , obtained through modularity optimization , is indeed a single module or a cluster of smaller modules .",
    "this result thus introduces some caveats in the use of modularity to detect community structure .    in section  [ sec2 ]",
    "we recall the notion of modularity and discuss some of its properties . section  [ sec3 ] deals with the problem of finding the most modular network with a given number of nodes and links . in section  [ sec4 ]",
    "we show how the resolution limit of modularity arises . in section  [ sec5 ]",
    "we illustrate the problem with some artificially generated networks , and extend the discussion to real networks .",
    "our conclusions are presented in section  [ sec6 ] .",
    "the modularity of a partition of a network in modules can be written as  @xcite @xmath2 , \\label{eq : mod}\\ ] ] where the sum is over the @xmath3 modules of the partition , @xmath4 is the number of links inside module @xmath5 , @xmath0 is the total number of links in the network , and @xmath6 is the total degree of the nodes in module @xmath5 . the first term of the summands in eq .",
    "( [ eq : mod ] ) is the fraction of links inside module @xmath5 ; the second term instead represents the expected fraction of links in that module if links were located at random in the network ( under the only constraint that the degree sequence coincides with that in the original graph ) .",
    "if for a subgraph @xmath7 of a network the first term is much larger than the second , it means that there are many more links inside @xmath7 than one would expect by random chance , so @xmath7 is indeed a module .",
    "the comparison with the null model represented by the randomized network leads to the quantitative definition of community embedded in the _ ansatz _ of eq .",
    "( [ eq : mod ] ) .",
    "we conclude that , in a modularity - based framework , a subgraph @xmath7 with @xmath4 internal links and total degree @xmath6 is a module if @xmath8 let us express the number of links @xmath9 joining nodes of the module @xmath5 to the rest of the network in terms of @xmath4 , i.e. @xmath10 with @xmath11 .",
    "so , @xmath12 and the condition ( [ eq2 ] ) becomes @xmath13 ^ 2>0 , \\label{eq2bis}\\ ] ] from which , rearranging terms , one obtains @xmath14 if @xmath15 , the subgraph @xmath7 is a disconnected part of the network and is a module if @xmath16 which is always true . if @xmath17 is strictly positive , eq .  ( [ eq2ter ] ) sets an upper limit to the number of internal links that @xmath7 must have in order to be a module .",
    "this is a little odd , because it means that the definition of community implied by modularity depends on the size of the whole network , instead of involving a `` local '' comparison between the number of internal and external links of the module . for @xmath18 one",
    "has @xmath19 , which means that the total degree internal to the subgraph is larger than its external degree , i.e. @xmath20 . the attributes `` internal '' and `` external '' here mean that the degree is calculated considering only the internal or the external links , respectively . in this case , the subgraph @xmath7 would be a community according to the `` weak '' definition given by radicchi et al .",
    "@xcite .    for @xmath18 the right - hand - side of inequality  ( [ eq2ter ] )",
    "is in the interval @xmath21 $ ] .",
    "a subgraph of size @xmath4 would then be a community both within the modularity framework and according to the weak definition of radicchi et al .",
    "if @xmath18 and @xmath4 is less than a quantity in the interval @xmath21 $ ] .",
    "sufficient conditions for which these constraints are always met are then @xmath22 in section  [ sec4 ] we shall only consider modules of this kind .    according to eq .",
    "( [ eq2 ] ) , a partition of a network into actual modules would have a positive modularity , as all summands in eq .",
    "( [ eq : mod ] ) are positive . on the other hand , for particular partitions",
    ", one could bump into values of @xmath23 which are negative .",
    "the network itself , meant as a partition with a single module , has modularity zero : in this case , in fact , @xmath24 , @xmath25 , and the only two terms of the unique module in @xmath23 cancel each other .",
    "usually , a value of @xmath23 larger than @xmath26 is a clear indication that the subgraphs of the corresponding partition are modules .",
    "however , the maximal modularity differs from a network to another and depends on the number of links of the network . in the next section we shall derive the expression of the maximal possible value @xmath27",
    "that @xmath23 can attain on a network with @xmath0 links .",
    "we will prove that the upper limit for the value of modularity for any network is @xmath28 and we will see why the modularity is not scale independent .",
    "in this section we discuss of the most modular network which will introduce naturally the problem of scales in modularity optimization . in ref .",
    "@xcite , the authors consider the interesting example of a network made of @xmath3 identical complete graphs ( or ` cliques ' ) , disjoint from each other . in this case , the modularity is maximal for the partition of the network in the cliques and is given by the sum of @xmath3 equal terms . in each clique",
    "there are @xmath29 links , and the total degree is @xmath30 , as there are no links connecting nodes of the clique to the other cliques .",
    "we thus obtain @xmath31= m\\left(\\frac{1}{m}-\\frac{1}{m^2}\\right)=1-\\frac{1}{m } , \\label{eq3}\\ ] ] which converges to @xmath28 when the number of cliques goes to infinity .",
    "we remark that for this result to hold it is not necessary that the @xmath3 connected components be cliques .",
    "the number of nodes of the network and within the modules does not affect modularity .",
    "if we have @xmath3 modules , we just need to have @xmath32 links inside the modules , as long as this is compatible with topological constraints , like connectedness . in this way ,",
    "a network composed by @xmath3 identical trees ( in graph theory , a forest ) has the same maximal modularity reported in eq .",
    "( [ eq3 ] ) , although it has a far smaller number of links as compared with the case of the densely connected cliques ( for a given number of nodes ) .",
    "a further interesting question is how to design a _ connected _ network with @xmath33 nodes and @xmath0 links which maximizes modularity . to address this issue",
    ", we proceed in two steps : first , we consider the maximal value @xmath34 for a partition into a fixed number @xmath3 of modules ; after that , we look for the number @xmath35 that maximizes @xmath34 .",
    "let us first consider a partition into @xmath3 modules .",
    "ideally , to maximize the contribution to modularity of each module , we should reduce as much as possible the number of links connecting modules .",
    "if we want to keep the network connected , the smallest number of inter - community links must be @xmath36 .",
    "for the sake of clarity , and to simplify the mathematical expressions ( without affecting the final result ) , we assume instead that there are @xmath3 links between the modules , so that we can arrange the latter in the simple ring - like configuration illustrated in fig .  [ fig1 ] .",
    "design of a connected network with maximal modularity .",
    "the modules ( circles ) must be connected to each other by the minimal number of links.,width=188 ]    the modularity of such a network is @xmath37 , \\label{eq4}\\ ] ] where @xmath38 it is easy to see that the expression of eq .",
    "( [ eq4 ] ) reaches its maximum when all modules contain the same number of links , i.e. @xmath39 . the maximum is then given by @xmath40=1-\\frac{m}{l}-\\frac{1}{m}. \\label{eq6}\\ ] ] we have now to find the maximum of @xmath34 when the number of modules @xmath3 is variable . for this purpose",
    "we treat @xmath3 as a real variable and take the derivative of @xmath34 with respect to @xmath3 @xmath41 which vanishes when @xmath42 .",
    "this point indeed corresponds to the absolute maximum @xmath27 of the function @xmath34 .",
    "this result coincides with the one found by the authors of  @xcite for a one - dimensional lattice , but our proof is completely general and does not require preliminary assumptions on the type of network and modules .",
    "since @xmath3 is not a real number , the actual maximum is reached when @xmath3 equals one of the two integers closest to @xmath35 , but that is not important for our purpose , so from now on we shall stick to the real - valued expressions , their meaning being clear .",
    "the maximal modularity is then @xmath43 and approaches @xmath28 if the total number of links @xmath0 goes to infinity .",
    "the corresponding number of links in each module is @xmath44 .",
    "the fact that all modules have the same number of links does not imply that they have as well the same number of nodes .",
    "again , modularity does not depend on the distribution of the nodes among the modules as long as the topological constraints are satisfied .",
    "for instance , if we assume that the modules are connected graphs , there must be at most @xmath45 nodes in each module .",
    "the crucial point here is that modularity seems to have some intrinsic scale of order @xmath46 , which constrains the number and the size of the modules . for a given total number of nodes and links",
    "we could build many more than @xmath46 modules , but the corresponding network would be less `` modular '' , namely with a value of the modularity lower than the maximum of eq .",
    "( [ eq8 ] ) .",
    "this fact is the basic reason why small modules may not be resolved through modularity optimization , as it will be clear in the next section .",
    "we analyze a network with @xmath0 links and with at least three modules , in the sense of the definition of formula  ( [ eq2quater ] ) ( fig .",
    "[ fig2 ] ) .",
    "we focus on a pair of modules , @xmath47 and @xmath48 , and distinguish three types of links : those internal to each of the two communities ( @xmath49 and @xmath50 , respectively ) , between @xmath47 and @xmath48 ( @xmath51 ) and between the two communities and the rest of the network @xmath52 ( @xmath53 and @xmath54 ) . in order to simplify the calculations we express the numbers of external links in terms of @xmath49 and @xmath50 , so @xmath55 , @xmath56 and @xmath57 , with @xmath58 . since @xmath47 and @xmath48 are modules by construction , we also have @xmath59 , @xmath60 and @xmath61 ( see section  [ sec2 ] ) .     scheme of a network partition into three or more modules .",
    "the two circles on the left picture two modules , the oval on the right reprensents the rest of the network @xmath52 , whose structure is arbitrary.,width=302 ]    now we consider two partitions @xmath62 and @xmath63 of the network . in partition @xmath62 , @xmath47 and @xmath48 are taken as separate modules , and in partition @xmath63 they are considered as a single community .",
    "the split of the rest of the network is arbitrary but identical in both partitions .",
    "we want to compare the modularity values @xmath64 and @xmath65 of the two partitions .",
    "since the modularity is a sum over the modules , the contribution of @xmath52 is the same in both partitions and is denoted by @xmath66 . from eq .",
    "( [ eq : mod ] ) we obtain @xmath67 ^ 2+\\frac{l_2}{l}+\\nonumber\\\\   & & -\\left[\\frac{(a_2+b_2 + 2)l_2}{2l}\\right]^2 ; \\label{eq9}\\end{aligned}\\ ] ] @xmath68 ^ 2 .",
    "\\label{eq10}\\end{aligned}\\ ] ] the difference @xmath69 is @xmath70/(2l^2 ) .",
    "\\label{eq11}\\ ] ] as @xmath47 and @xmath48 are both modules by construction , we would expect that the modularity should be larger for the partition where the two modules are separated , i.e. @xmath71 , which in turn implies @xmath72 . from eq .",
    "( [ eq11 ] ) we see that @xmath73 is negative if @xmath74 we see that if @xmath75 , i.e. if there are no links between @xmath47 and @xmath48 , the above condition is trivially satisfied",
    ". instead , if the two modules are connected to each other , something interesting happens .",
    "each of the coefficients @xmath76 , @xmath77 , @xmath78 , @xmath79 can not exceed @xmath80 and @xmath49 and @xmath50 are both smaller than @xmath81 by construction but can be taken as small as we wish with respect to @xmath0 . in this way , it is possible to choose @xmath49 and @xmath50 such that the inequality of eq .",
    "( [ eq12 ] ) is not satisfied .",
    "in such a situation we can have @xmath82 and the modularity of the configuration where the two modules are considered as a single community is larger than the partition where the two modules are clearly identified .",
    "this implies that by looking for the maximal modularity , there is the risk to miss important structures at smaller scales .",
    "to give an idea of the size of @xmath49 and @xmath50 at which modularity optimization could fail , we consider for simplicity the case in which @xmath47 and @xmath48 have the same number of links , i.e. @xmath83 . the condition on @xmath84 for the modularity to miss the two modules also depends on the fuzziness of the modules , as expressed by the values of the parameters @xmath76 , @xmath77 , @xmath78 , @xmath79 . in order to find the range of potentially `` dangerous '' values of @xmath84 , we consider the two extreme cases in which    * the two modules have a perfect balance between internal and external degree ( @xmath85 , @xmath86 ) , so they are on the edge between being or not being communities , in the weak sense defined in  @xcite ; * the two modules have the smallest possible external degree , which means that there is a single link connecting them to the rest of the network and only one link connecting each other ( @xmath87 ) .    in the first case , the maximum value that the coefficient of @xmath0 can take in eq .",
    "( [ eq12 ] ) is @xmath88 , when @xmath89 and @xmath90 , @xmath91 , so we obtain that eq .",
    "( [ eq12 ] ) may not be satisfied for @xmath92 which is a scale of the order of the size of the whole network . in this way",
    ", even a pair of large communities may not be resolved if they share enough links with the nodes outside them ( in this case we speak of `` fuzzy '' communities ) .",
    "a more striking result emerges when we consider the other limit , i.e. when @xmath87 . in this case",
    "it is easy to check that eq .",
    "( [ eq12 ] ) is not satisfied for values of the number of links inside the modules satisfying @xmath93 if we now assume that we have two ( interconnected ) modules with the same number of internal links @xmath94 , the discussion above implies that the modules can not be resolved through modularity optimization , not even if they were complete graphs connected by a single link . as we have seen from eq .",
    "( [ eq14 ] ) , it is possible to miss modules of larger size , if they share more links with the rest of the network ( and with each other ) . for @xmath95",
    "the conclusion is similar but the scales @xmath96 are modified by simple factors .",
    "we begin with a very schematic example , for illustrative purposes . in fig .",
    "[ fig3](a ) we show a network consisting of a ring of cliques , connected through single links .",
    "each clique is a complete graph @xmath97 with @xmath3 nodes and has @xmath98 links .",
    "if we assume that there are @xmath99 cliques , with @xmath99 even , the network has a total of @xmath100 nodes and @xmath101 links .",
    "( * a * ) a network made out of identical cliques ( which are here complete graphs with @xmath3 nodes ) connected by single links .",
    "if the number of cliques is larger than about @xmath46 , modularity optimization would lead to a partition where the cliques are combined into groups of two or more ( represented by a dotted line ) .",
    "( * b * ) a network with four pairwise identical cliques ( complete graphs with @xmath3 and @xmath102 nodes , respectively ) ; if @xmath3 is large enough with respect to @xmath103 ( e.g. @xmath104 , @xmath105 ) , modularity optimization merges the two smallest modules into one ( shown with a dotted line).,width=188 ]    the network has a clear modular structure where the communities correspond to single cliques and we expect that any detection algorithm should be able to detect these communities .",
    "the modularity @xmath106 of this natural partition can be easily calculated and equals @xmath107 on the other hand , the modularity @xmath108 of the partition in which pairs of consecutive cliques are considered as single communities ( as shown by the dotted lines in fig .",
    "[ fig3](a ) ) is @xmath109 the condition @xmath110 is satisfied if and only if @xmath111 in this example , @xmath3 and @xmath99 are independent variables and we can choose them such that the inequality of formula ( [ eq18 ] ) is not satistied .",
    "for instance , for @xmath112 and @xmath113 , @xmath114 and @xmath115 . an efficient algorithm looking",
    "for the maximum of the modularity would find the configuration with pairs of cliques and not the actual modules .",
    "the difference @xmath116 would be even larger if @xmath99 increases , for @xmath3 fixed .",
    "the example we considered was particularly simple and hardly represents situations found in real networks .",
    "however , the initial configuration that we considered in the previous section ( fig .  [ fig2 ] ) is absolutely general , and the results make us free to design arbitrarily many networks with obvious community structures in which modularity optimization does not recognize ( some of ) the real modules .",
    "another example is shown in fig .",
    "[ fig3](b ) .",
    "the circles represent again cliques , i.e. complete graphs : the two on the left have @xmath3 nodes each , the other two @xmath102 nodes .",
    "if we take @xmath104 and @xmath105 , the maximal modularity of the network corresponds to the partition in which the two smaller cliques are merged [ as shown by the dotted line in fig .",
    "[ fig3](b ) ] .",
    "this trend of the optimal modularity to group small modules has already been remarked in @xcite , but as a result of empirical studies on special networks , without any complete explanation .    in general",
    ", we can not make any definite statement about modules found through modularity optimization without a method which verifies whether the modules are indeed single communities or a combination of communities .",
    "it is then necessary to inspect the structure of each of the modules found . as an example , we take the network of fig .  [ fig3](a ) , with @xmath113 identical cliques , where each clique is a @xmath97 with @xmath112 .",
    "as already said above , modularity optimization would find modules which are pairs of connected cliques . by inspecting each of the modules of the ` first generation ' ( by optimizing modularity , for example )",
    ", we would ultimately find that each module is actually a set of two cliques .",
    "we thus have seen that modules identified through modularity optimization may actually be combinations of smaller modules . during the process of modularity optimization",
    ", it is favorable to merge connected modules if they are sufficiently small .",
    "we have seen in the previous section that any two interconnected modules , fuzzy or not , are merged if the number of links inside each of them does not exceed @xmath117 .",
    "this means that the largest structure one can form by merging a pair of modules of any type ( including cliques ) has at least @xmath118 internal links . by reversing the argument",
    ", we conclude that if modularity optimization finds a module @xmath119 with @xmath120 internal links , it may be that the latter is a combination of two or more smaller communities if @xmath121 this example is an extreme case , in which the internal partition of @xmath119 can be arbitrary , as long as the pieces are modules in the sense discussed in section  [ sec2 ] . under the condition ( [ eq19 ] )",
    ", the module could in principle be a cluster of loosely interconnected complete graphs .",
    "on the other hand , the upper limit of @xmath120 can be much larger than @xmath1 , if the substructures are on average more interconnected with each other , as we have seen in section  [ sec4 ] .",
    "in fact , fuzzy modules can be combined with each other even if they contain many more than @xmath117 links .",
    "the more interconnected the modules , the larger will be the resulting supermodule . in the extreme case in which all submodules are very fuzzy",
    ", the size @xmath120 of the supermodule could be in principle as large as that of the whole network , i.e. @xmath122 .",
    "this result comes from the extreme case where the network is split in two very fuzzy communities , with @xmath81 internal links each and @xmath123 between them . by virtue of eq .",
    "( [ eq14 ] ) , it is favorable ( or just as good ) to merge the two modules and the resulting structure is the whole network .",
    "this limit @xmath122 is of course always satisfied but suggests here that it is important to carefully analyze all modules found through modularity optimization , regardless of their size .",
    "the probability that a very large module conceals substructures is however small , because that could only happen if all hidden submodules are very fuzzy communities , which is unlikely .",
    "instead , modules with a size @xmath124 or smaller can result from an arbitrary merge of smaller structures , which may go from loosely interconnected cliques to very fuzzy communities .",
    "modularity optimization is most likely to fail in these cases .    in order to illustrate this theoretical discussion ,",
    "we analyze five examples of real networks :    1 .   the transcriptional regulation network of _ saccharomyces cerevisiae _",
    "( yeast ) ; 2 .",
    "the transcriptional regulation network of _ escherichia coli _ ; 3 .",
    "a network of electronic circuits ; 4 .   a social network ; 5 .",
    "the neural network of _ caenorhabditis elegans_.    we downloaded the lists of edges of the first four networks from uri alon s website  @xcite , whereas the last one was downloaded from the website of the collective dynamics group at columbia university  @xcite .    in the transcriptional regulation networks ,",
    "nodes represent operons , i.e. groups of genes that are transcribed on to the same mrna and an edge is set between two nodes a and b if a activates b. these systems have been previously studied to identify motifs in complex networks  @xcite .",
    "there are @xmath125 nodes , @xmath126 links for yeast , @xmath127 nodes and @xmath128 links for _",
    "e. coli_. electronic circuits can be viewed as networks in which vertices are electronic components ( like capacitors , diodes , etc . ) and connections are wires .",
    "our network maps one of the benchmark circuits of the so - called iscas89 set ; it has @xmath129 nodes , @xmath130 links . in the social network we considered , nodes are people of a group and links represent positive sentiments directed from one person to another , based on questionnaires : it has @xmath131 nodes and @xmath132 links .",
    "finally , the neural network of _ c. elegans _ is made of @xmath133 nodes ( neurons ) , connected through @xmath134 links ( synapsis , gap junctions ) .",
    "we remark that most of these networks are directed , here we considered them as undirected .",
    "first , we look for the modularity maximum by using simulated annealing .",
    "we adopt the same recipe introduced in ref .",
    "@xcite , which makes the optimization procedure very effective .",
    "there are two types of moves to pass from a network partition to the next : individual moves , where a single node is passed from a community to another , and collective moves , where a pair of communities is merged into a single one or , vice versa , a community is split into two parts .",
    "each iteration at the same temperature consists of a succession of @xmath135 individual and @xmath33 collective moves , where @xmath33 is the total number of nodes of the network .",
    "the initial temperature @xmath136 and the temperature reduction factor @xmath137 are arbitrarily tuned to find the highest possible modularity : in most cases we took @xmath138 and @xmath137 between @xmath139 and @xmath140 .",
    "we found that all networks are characterized by high modularity peaks , with @xmath141 ranging from @xmath142 ( _ c . elegans _ ) to @xmath143 ( _ e .",
    "the corresponding optimal partitions consist of @xmath144 ( yeast ) , @xmath145 ( _ e .",
    "coli _ ) , @xmath146 ( electronic ) , @xmath147 ( social ) and @xmath148 ( _ c . elegans _ ) modules ( for _ e. coli _ our results differ but are not inconsistent with those obtained in  @xcite for a slighly different database ; these differences however do not affect our conclusions ) .",
    "in order to check if the communities have a substructure , we used again modularity optimization , by constraining it to each of the modules found . in all cases",
    ", we found that most modules displayed themselves a clear community structure , with very high values of @xmath23 .",
    "the total number of submodules is @xmath149 ( yeast ) , @xmath150 ( _ e .",
    "coli _ ) , @xmath151 ( electronic ) , @xmath152 ( social ) and @xmath153 ( _ c . elegans _ ) , and is far larger than the corresponding number at the modularity peaks . the analysis of course is necessarily biased by the fact that we neglect all links between the original communities , and it may be that the submodules we found are not real modules for the original network . in order to verify that , we need to check whether the condition of eq .",
    "( [ eq2 ] ) is satisfied or not for each submodule and we found that it is the case .",
    "a further inspection of the communities found through modularity optimization thus reveals that they are , in fact , clusters of smaller modules .",
    "the modularity values corresponding to the partitions of the networks in the submodules are clearly smaller than the peak modularities that we originally found through simulated annealing ( see table  [ tab1 ] ) . by restricting modularity optimization to a module",
    "we have no guarantee that we accurately detect its substructure and that this is a safe way to proceed .",
    "nevertheless , we have verified that all substructures we detected are indeed modules , so our results show that the search for the modularity optimum is not equivalent to the detection of communities defined through eq .",
    "( [ eq2 ] ) .",
    ".[tab1 ] results of the modularity analysis on real networks . in the second column ,",
    "we report the number of modules detected in the partition obtained for the maximal modularity .",
    "these modules however contain submodules and in the third column we report the total number of submodules we found and the corresponding value of the modularity of the partition , which is _ lower _ than the peak modularity initially found . [",
    "cols=\"^,^,^,^\",options=\"header \" , ]     the networks we have examined are fairly small but the problem we pointed out can only get worse if we increase the network size , especially when small communities coexist with large ones and the module size distribution is broad , which happens in many cases  @xcite . as an example , we take the recommendation network of the online seller amazon.com . while buying a product , amazon recommends items which have been purchased by people who bought the same product . in this way it is possible to build a network in which the nodes are the items ( books , music ) , and there is an edge between two items @xmath62 and @xmath63 if @xmath63 was frequently purchased by buyers of @xmath62 .",
    "such a network was examined in ref .",
    "@xcite and is very large , with @xmath154 nodes and @xmath155 edges .",
    "the authors analyzed the community structure by greedy modularity optimization which is not necessarily accurate but represents the only strategy currently available for large networks .",
    "they identified @xmath156 communities whose size distribution is well approximated by a power law with exponent @xmath80 . from the size distribution , we estimated that over @xmath157 of the modules have sizes below the limit of eq .",
    "( [ eq19 ] ) , which implies that basically all modules need to be further investigated .",
    "in this article we have analyzed in detail modularity and its applicability to community detection .",
    "we have found that the definition of community implied by modularity is actually not consistent with its optimization which may favour network partitions with groups of modules combined into larger communities .",
    "we could say that , by enforcing modularity optimization , the possible partitions of the system are explored at a coarse level , so that modules smaller than some scale may not be resolved .",
    "the resolution limit of modularity does not rely on particular network structures , but only on the comparison between the sizes of interconnected communities and that of the whole network , where the sizes are measured by the number of links .",
    "the origin of the resolution scale lies in the fact that modularity is a sum of terms , where each term corresponds to a module . finding the maximal modularity is then equivalent to look for the ideal tradeoff between the number of terms in the sum , i.e. the number of modules , and the value of each term .",
    "an increase of the number of modules does not necessarily correspond to an increase in modularity because the modules would be smaller and so would be each term of the sum .",
    "this is why for some characteristic number of terms the modularity has a peak .",
    "the problem is that this `` optimal '' partition , imposed by mathematics , is not necessarily correlated with the actual community structure of the network , where communities may be very heterogeneous in size , especially if the network is large .",
    "our result implies that modularity optimization might miss important substructures of a network , as we have confirmed in real world examples . from our discussion",
    "we deduce that it is not possible to exclude that modules of virtually any size may be clusters of modules , although the problem is most likely to occur for modules with a number of internal links of the order of @xmath1 or smaller .",
    "for this reason , it is crucial to check the structure of all detected modules , for instance by constraining modularity optimization on each single module , a procedure which is not safe but may give useful indications .",
    "the fact that quality functions such as the modularity have an intrinsic resolution limit calls for a new theoretical framework which focuses on a local definition of community , regardless of its size .",
    "quality functions are still helpful , but their role should be probably limited to the comparison of partitions with the same number of modules .",
    "acknowledgments. we thank a. barrat , c. castellano , v. colizza , a. flammini , j. kertsz and a. vespignani for enlightening discussions and suggestions .",
    "we also thank u. alon for providing the network data .",
    "m.  e.  j.  newman , eur .",
    "j. b * 38 * , 321 - 330 ( 2004 ) .",
    "l.  danon , a.  daz - guilera , j.  duch and a.  arenas , j. stat .",
    ". , p. p09008 , ( 2005 ) .",
    "barabsi and r.  albert , rev .",
    "phys . * 74 * , 47 - 97 ( 2002 ) .",
    "m.  e.  j.  newman , siam review * 45 * , 167 - 256 ( 2003 ) .",
    "r.  pastor - satorras and a.  vespignani , _ evolution and structure of the internet : a statistical physics approach _",
    "( cambridge university press , cambridge , 2004 ) .        m.  girvan and m.",
    "e.  j.  newman , proc .",
    "sci . * 99 * , 7821 - 7826 ( 2002 ) .",
    "d.  lusseau and m.  e.  j.  newman , proc .",
    "london b * 271 * , s477-s481 ( 2004 ) .",
    "l.  adamic and n.  glance , proc .",
    "@xmath158 int .",
    "workshop on link discovery , 36 - 43 ( 2005 ) .",
    "p.  holme , m.  huss and h.  jeong , bioinformatics * 19 * , 532 ( 2003 ) .",
    "s.  l.  pimm , theor .",
    "* 16 * , 144 ( 1979 ) ; a.  e.  krause , k.  a.  frank , d.  m.  mason , r.  e.  ulanowicz and w.  w.  taylor , nature * 426 * , 282 ( 2003 ) .",
    "garnett , j.  p.  hughes , r.  m.  anderson , b.  p.  stoner , s.  o.  aral , w.  l.  whittington , h.  h.  handsfield and k.  k.  holmes , sexually transmitted diseases * 23 * , 248 - 257 ( 1996 ) ; s.  o.  aral , j.  p.  hughes , b.  p.  stoner , w.  l.  whittington , h.  h.  handsfield , r.  m.  anderson and k.  k.  holmes , american journal of public health * 89 * , 825 - 833 ( 1999 ) .",
    "m.  e.  j.  newman and m.  girvan , phys .",
    "e * 69 * , 026113 ( 2004 ) .",
    "m.  e.  j.  newman , physical review e * 69 * , 066133 ( 2004 ) .",
    "a. clauset , m.  e.  j.  newman and c. moore , phys .",
    "e * 70 * , 066111 ( 2004 ) .",
    "j.  duch and a.  arenas , phys .",
    "e * 72 * , 027104 ( 2005 ) .",
    "r.  guimer , m.  sales - pardo and l.  a.  n.  amaral , phys .",
    "e * 70 * , 025101(r ) ( 2004 ) .",
    "j.  reichardt and s.  bornholdt , preprint cond - mat/0603718 ( 2006 ) ."
  ],
  "abstract_text": [
    "<S> detecting community structure is fundamental to clarify the link between structure and function in complex networks and is used for practical applications in many disciplines . </S>",
    "<S> a successful method relies on the optimization of a quantity called modularity [ newman and girvan , phys . </S>",
    "<S> rev . </S>",
    "<S> e * 69 * , 026113 ( 2004 ) ] , which is a quality index of a partition of a network into communities . </S>",
    "<S> we find that modularity optimization may fail to identify modules smaller than a scale which depends on the total number @xmath0 of links of the network and on the degree of interconnectedness of the modules , even in cases where modules are unambiguously defined . </S>",
    "<S> the probability that a module conceals well - defined substructures is the highest if the number of links internal to the module is of the order of @xmath1 or smaller . </S>",
    "<S> we discuss the practical consequences of this result by analyzing partitions obtained through modularity optimization in artificial and real networks . </S>"
  ]
}