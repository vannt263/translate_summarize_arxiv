{
  "article_text": [
    "the problem of ranking in various contexts has become increasingly important in machine learning .",
    "many datasets require some form of ranking to facilitate identification of important entries , extraction of principal attributes , and to perform efficient search and sort operations .",
    "modern internet and e - commerce applications have spurred an enormous growth in such datasets : google s search engine , citeseer s citation database , ebay s feedback - reputation mechanism , netflix s movie recommendation system , all accumulate a large volume of data that needs to be ranked .",
    "these modern datasets typically have one or more of the following features that render traditional ranking methods ( such as those in social choice theory ) inapplicable or ineffective : ( 1 ) unlike traditional ranking problems such as votings and tournaments , the data often contains _ cardinal scores _ instead of ordinal orderings ; ( 2 ) the given data is largely _ incomplete _ with most entries missing a substantial amount of information ; ( 3 ) the data will almost always be _ imbalanced _ where the amount of available information varies widely from entry to entry and/or from criterion to criterion ; ( 4 ) the given data often lives on a large _ complex network _ , either explicitly or implicitly , and the structure of this underlying network is itself important in the ranking process .",
    "these new features have posed new challenges and call for new techniques . in this paper",
    "we will look at a method that addresses them to some extent .",
    "a fundamental problem here is to globally rank a set of _ alternatives _ based on scores given by _",
    "voters_. here the words ` alternatives ' and ` voters ' are used in a generalized sense that depends on the context .",
    "for example , the alternatives may be websites indexed by google , scholarly articles indexed by citeseer , sellers on ebay , or movies on netflix ; the voters in the corresponding contexts may be other websites , other scholarly articles , buyers , or viewers",
    ". the ` voters ' could also refer to groups of voters : e.g.  websites , articles , buyers , or viewers grouped respectively by topics , authorship , buying patterns , or movie tastes .",
    "the ` voters ' could even refer to something entirely abstract , such as a collection of different criteria used to judge the alternatives .",
    "the features ( 1)(4 ) can be observed in the aforementioned examples . in the ebay",
    "/ netflix context , a buyer / viewer would assign cardinal scores ( 1 through 5 stars ) to sellers / movies instead of ranking them in an ordinal fashion ; the ebay / netflix datasets are highly incomplete since most buyers / viewers would have rated only a very small fraction of the sellers / movies , and also highly imbalanced since a handful of popular sellers / blockbuster movies will have received an overwhelming number of ratings while the vast majority will get only a moderate or small number of ratings . the datasets from google and citeseer have obvious underlying network structures given by hyperlinks and citations respectively . somewhat less obvious are the network structures underlying the datasets from ebay and netflix , which come from aggregating the pairwise comparisons of buyers / movies over all sellers / viewers .",
    "indeed , we shall see that in all these ranking problems , graph structures naturally arise from _ pairwise comparisons _ , irrespective of whether there is an obvious underlying network ( e.g.  from citation , friendship , or hyperlink relations ) or not , and this serves to place ranking problems of seemingly different nature on an equal graph - theoretic footing .",
    "the incompleteness and imbalance of the datasets could then be manifested as the ( edge ) sparsity structure and ( vertex ) degree distribution of pairwise comparison graphs .    in collaborative filtering applications ,",
    "one often encounters a personalized ranking problem , when one needs to find a global ranking of alternatives that generates the most consensus within a group of voters who share similar interests / tastes . while the statistical ranking problem investigated in this paper plays a fundamental role in such personalized ranking problems",
    ", there is also the equally important problem of clustering voters into interest groups , which our methods do not address .",
    "we would like to stress that in this paper we only concern ourselves with the ranking problem but not the clustering problem .",
    "so while we have made use of the netflix prize dataset to motivate our studies , our paper should not be viewed as an attempt to solve the netflix prize problem .",
    "the method that we will use to analyze pairwise rankings , which we represent as edge flows on a graph , comes from _ discrete _ or _ combinatorial hodge theory_. among other things , combinatorial hodge theory provides us with a mean to determine a global ranking that also comes with a ` certificate of reliability ' for the validity of this global ranking . while hodge theory is well - known to pure mathematicians as a corner stone of geometry and topology , and to applied mathematician as an important tool in computational electromagnetics and fluid dynamics , its application to statistical ranking problems has , to the best of our knowledge , never been studied .    in all our proposed methods ,",
    "the graph in question has as its vertices the alternatives to be ranked , voters preferences are then quantified and aggregated ( we will say how later ) into an edge flow on this graph .",
    "hodge theory then yields an orthogonal decomposition of the edge flow into three components : a _ gradient flow _ that is globally acyclic , a _",
    "harmonic flow _ that is locally acyclic but globally cyclic , and a _ curl flow _ that is locally cyclic .",
    "this decomposition is known as the _ hodge decomposition_. the usefulness of the decomposition lies in the fact that the gradient flow component induces a global ranking of the alternatives . unlike the computationally intractable kemeny optimal , this may be easily computed via a linear least squares problem .",
    "furthermore , the @xmath0-norm of the least squares residual , which represents the contribution from the sum of the remaining curl flow and harmonic flow components , quantifies the validity of the global ranking induced by the gradient flow component .",
    "if the residual is small , then the gradient flow accounts for most of the variation in the underlying data and therefore the global ranking obtained from it is expected to be a majority consensus .",
    "on the other hand , if the residual is large , then the underlying data is plagued with cyclic inconsistencies ( i.e.  intransitive preference relations of the form @xmath2 ) and one may not assign any reasonable global ranking to it",
    ".    we would like to point out here that cyclic inconsistencies are not necessarily due to error or noise in the data but may very well be an inherent characteristic of the data . as the famous impossibility theorems from social choice theory @xcite have shown , inconsistency ( or , rather , intransitivity ) is inevitable in any societal preference aggregation that is sophisticated enough .",
    "social scientists have , through empirical studies , observed that preference judgement of groups or individuals on a list of alternatives do in fact exhibit such irrational or inconsistent behavior . indeed in any group decision making process , a lack of consensus is the norm rather than the exception in our everyday experience .",
    "this is the well - known _ condorcet paradox _",
    "@xcite : the majority prefers @xmath3 to @xmath4 and @xmath4 to @xmath5 , but may yet prefer @xmath5 to @xmath3 .",
    "even a single individual making his own preference judgements could face such dilemma  if he uses multiple criteria to rank the alternatives .",
    "as such , the cyclic inconsistencies is intrinsic to any real world ranking data and should be thoroughly analyzed .",
    "hodge theory again provides a mean to do so .",
    "the curl flow and harmonic flow components of an edge flow quantify respectively the local and global cyclic inconsistencies .",
    "loosely speaking , a dominant curl flow component suggests that the inconsistencies are of a local nature while a dominant harmonic flow component suggests that they are of a global nature .",
    "if most of the inconsistencies come from the curl ( local ) component while the harmonic ( global ) component is small , then this roughly translates to mean that the ordering of closely ranked alternatives is unreliable but that of very differently ranked alternatives is reliable , i.e.  we can not say with confidence whether the ordering of the @xmath6th , @xmath7th , @xmath8th ranked items makes sense but we can say with confidence that the @xmath9th , @xmath10th , @xmath11th items should be ordered according to their rank .",
    "in other words , condorcet paradox may well apply to items ranked closed together but not to items ranked far apart .",
    "for example , if a large number of gourmets ( voters ) are asked to state their preferences on an extensive range of food items ( alternatives ) , there may not be a consensus for their preferences with regard to hamburgers , hot dogs , and pizzas and there may not be a consensus for their preferences with regard to caviar , foie gras , and truffles ; but there may well be a near universal preference for the latter group of food items over the former group . in this case , the inconsistencies will be mostly local and we should expect a large curl flow component . if in addition the harmonic flow component is small , then most of the inconsistencies happen locally and we could interpret this to mean that the global ranking is valid on a coarse scale ( ranking different groups of food ) but not on a fine scale ( ranking similar food items belonging to a particular group ) .",
    "we refer the reader to section  [ exp : netflix ] for an explicit example based on the netflix prize dataset .",
    "when studied in conjunction with robust regression and compressed sensing , the three orthogonal subspaces given by hodge decomposition provide other insights . in this paper",
    "we will see two results involving @xmath1-optimizations where these subspaces provide meaningful and useful interpretations in the primal - dual way : ( a ) the @xmath1-projection of an edge flow onto the subspace of gradient flows has a dual problem as the maximal correlation over bounded cyclic flows , i.e.  the sum of curl flows and harmonic flows ; ( b ) the @xmath1 -approximation of a sparse cyclic flow , has a dual problem as the maximal correlation over bounded locally acyclic flows .",
    "these results indicate that the three orthogonal subspaces could arise even in settings where orthogonality is lost .",
    "the main contribution of this paper is in the application of hodge decomposition to the analysis of ranking data .",
    "we show that this approach has several attractive features : ( i ) it generalizes the classical borda count method in voting theory to data that may have missing values ; ( ii ) it provides a way to analyze inherent inconsistencies or conflicts in the ranking data ; ( iii ) it is flexible enough to be combined with other techniques : these include other ways to form pairwise rankings reflecting prior knowledge and the use of @xmath12 minimization in place of @xmath13 minimization to encourage robustness or sparsity . although relatively straightforward and completely natural , the @xmath12 aspects of hodge theory in section  [ l1 ] has , to the best of our knowledge , never been discussed before .",
    "we emphasize two conceptual aspects underlying this work that are particularly unconventional : ( 1 ) we believe that obtaining a global ranking , which is the main if not the sole objective of all existing work on rank aggregation , gives only an incomplete picture of the ranking data  one also needs a ` certificate of reliability ' for the global ranking .",
    "our method provides this certificate by measuring also the local and global inconsistent components of the ranking data .",
    "( 2 ) we believe that with the right mathematical model , rank aggregation need not be a computationally intractable task .",
    "the model that we proposed in this paper reduces rank aggregation to a linear least squares regression , avoiding usual np - hard combinatorial optimization problems such as finding kemeny optima or minimum feedback arc sets .",
    "hodge and helmholtz decompositions are of course well - known in mathematics and physics , but usually in a continuous setting where the underlying spaces have the structure of a riemannian manifold or an algebraic variety .",
    "combinatorial hodge theory _ that we presented here is arguably a trivial case with the simplest possible underlying space  a graph .",
    "many of the difficulties in developing hodge theory in differential and algebraic geometry simply do not surface in our case .",
    "however this also makes combinatorial hodge theory accessible  the way we developed and presented it essentially requires nothing more than some elementary matrix theory and multivariate calculus .",
    "we are unaware of similar treatments in the existing literature and would consider our elementary treatment a minor expository contribution that might help popularize the use of hodge decomposition and the graph helmholtzian , possibly to other areas in data analysis and machine learning .      in section [ main ]",
    "we introduce the main problem and discuss how a pairwise comparison graph may be constructed from data comprising cardinal scores by voters on alternatives and how a simple least squares regression may be used to compute the desired solution .",
    "we define the _ combinatorial curl _ , a measure of local ( triangular ) inconsistency for such data , and also the _ combinatorial gradient _ and _ combinatorial divergence_. section [ skew ] presents a purely matrix - theoretic view of hodge theory , but at the expense of some geometric insights .",
    "these are covered when we formally introduce hodge theory in section [ hodge ] .",
    "we first remind the reader how one may construct a @xmath14-dimensional simplicial complex from any given graph ( the pairwise comparison graph in our case ) by simply filling - in all its @xmath15-cliques for @xmath16",
    ". then we will introduce combinatorial hodge theory for a general @xmath14-dimensional simplicial complex but focusing on the @xmath17 case and its relevance to the ranking problem .",
    "in section [ imply ] we discuss the implications of hodge decomposition applied to ranking , with a deeper analysis on the least squares method in section [ main ] .",
    "section [ l1 ] extends the analysis to two closely related @xmath1-minimization problems , the @xmath1-projection of pairwise ranking onto gradient flows and the @xmath1-approximate sparse cyclic ranking .",
    "a discussion of the connections with kemeny optimization and borda count in social choice theory can be found in section  [ social ] .",
    "numerical experiments on three real datasets are given in section  [ exp ] to illustrate some basic ideas in this paper .",
    "let @xmath18 be a finite set .",
    "we will adopt the following notation from combinatorics : @xmath19 in particular @xmath20 would be the set of all unordered pairs of elements of @xmath18 and @xmath21 would be the set of all unordered triples of elements of @xmath18 ( the sets of ordered pairs and ordered triples will be denoted @xmath22 and @xmath23 as usual ) .",
    "we will not distinguish between @xmath18 and @xmath24 .",
    "ordered and unordered pairs will be delimited by parentheses @xmath25 and braces @xmath26 respectively , and likewise for triples and @xmath27-tuples in general .",
    "we will use positive integers to label alternatives and voters .",
    "henceforth , @xmath18 will always be the set @xmath28 and will denote a set of alternatives to be ranked . in our approach to statistical ranking , these alternatives would be represented as vertices of a graph .",
    "@xmath29 will denote a set of voters . for @xmath30 ,",
    "we write @xmath31 to mean that alternative @xmath32 is preferred over alternative @xmath33 .",
    "if we wish to emphasize the preference judgement of a particular voter @xmath34 , we will write @xmath35 .    since our approach mandates that we borrow terminologies from graph theory , vector calculus , linear algebra , algebraic topology , as well as various ranking theoretic terms",
    ", we think that it would help to summarize some of the correspondence here .",
    "[ c]l|l|l|l|l**graph theory * * & * linear algebra * & * vec .",
    "calculus * & * topology * & * ranking * + function on & vector in @xmath36 & potential & @xmath37-cochain & score + vertices & & function & & function + edge flow & skew - symmetric & vector field & @xmath38-cochain & pairwise + & matrix in @xmath39 & & & ranking + triangular flow & skew - symmetric hyper- & tensor field & @xmath40-cochain & triplewise + & -matrix in @xmath41 & & & ranking    as the reader will see , the notions of gradient , divergence , curl , laplace operator , and helmholtz operator from vector calculus and topology will play important roles in statistical ranking .",
    "one novelty of our approach lies in extending these notions to the other three columns , where most of them have no well - known equivalent .",
    "for example , what we will call a _ harmonic ranking _ is central to the question of whether a global ranking is feasible .",
    "this notion is completely natural from the vector calculus or topology point - of - view , they correspond to solutions of the helmholtz equation or homology classes .",
    "however , it will be hard to define harmonic ranking directly in social choice theory without this insight , and we suspect that it is the reason why the notion of harmonic ranking has never been discussed in existing studies of ranking in social choice theory and other fields .",
    "the main problem discussed in this paper is that of determining a global ranking from a dataset comprising a set of alternatives ranked by a set of voters . this is a problem that has received attention in fields including decision science @xcite , financial economics @xcite , machine learning @xcite , social choice @xcite , statistics @xcite , among others .",
    "our objective towards statistical ranking is two - fold : like everybody else , we want to deduce a global ranking from the data whenever possible ; but in addition to that , we also want to detect when the data does not permit a statistically meaningful global ranking and in which case characterize the data in terms of its local and global inconsistencies .",
    "let @xmath42 be the set of alternatives to be ranked and @xmath43 be a set of voters .",
    "the implicit assumption is that each voter would have _ rated _ , i.e.  assigned cardinal scores or given an ordinal ordering to , a small fraction of the alternatives . but no matter how incomplete the rated portion is , one may always convert such ratings into _ pairwise rankings _ that has no missing values as follows . for each voter @xmath34 ,",
    "the _ pairwise ranking matrix _ of @xmath44 is a skew - symmetric matrix @xmath45 , i.e.  for each ordered pair @xmath46 , we have @xmath47 informally , @xmath48 measures the ` degree of preference ' of the @xmath32th alternative over the @xmath33th alternative held by the @xmath44th voter .",
    "studies of ranking problems in different disciplines have led to rather different ways of quantifying such ` degree of preference ' . in section [ exmp :",
    "netflix ] , we will see several ways of defining @xmath48 ( as score difference , score ratio , and score ordering ) coming from decision science , machine learning , social choice theory , and statistics . if the voter @xmath44 did not compare alternatives @xmath32 and @xmath33 ,",
    "then @xmath48 is considered a missing value and set to be @xmath37 for convenience ; this manner of handling missing values allows @xmath49 to be a skew - symmetric matrix for each @xmath34 .",
    "nevertheless we could have assigned any arbitrary value or a non - numerical symbol to represent missing values , and this would have not affected our algorithmic results because of our use of the following weight function .",
    "define the _ weight function _",
    "@xmath50 as the indicator function @xmath51 therefore @xmath52 iff @xmath53 is a missing value .",
    "note that @xmath54 $ ] is a symmetric @xmath55-valued matrix ; but more generally , @xmath56 may be chosen as the capacity ( in the graph theoretic sense ) if there are multiple comparisons of @xmath32 and @xmath33 by voter @xmath44 .",
    "the pairs @xmath25 for which @xmath57 for some @xmath34 are known as _ crucial pairs _ in the machine learning literature ( we thank the reviewers for pointing this out ) .    our general paradigm for statistical ranking is to minimize a weighted sum of pairwise loss of a global ranking on the given data over a model class @xmath58 of all global rankings .",
    "we begin with a simple sum - of - squares loss function , @xmath59 where the _ model class _ @xmath60 is a subset of the skew - symmetric matrices , @xmath61 any @xmath62 induces a global ranking on the alternatives @xmath63 via the rule @xmath31 iff @xmath64 .",
    "note that ties , i.e.  @xmath31 and @xmath65 , are allowed and this happens precisely when @xmath66 .",
    "for ranking data given in terms of cardinal scores , this simple scheme preserves the magnitudes of the ratings , instead of merely the ordering , when we have globally consistent data ( see definition [ def : consistency ] ) .",
    "moreover , it may also be computed more easily than many other loss functions ( though the computational cost depends also on the choice of @xmath58 ) .",
    "this simple scheme is not as restrictive as it first seems .",
    "for example , kemeny optimization in classical social choice theory may be realized as a special case where @xmath67 and @xmath58 is the _ kemeny _ model class , @xmath68 the function @xmath69 takes nonnegative numbers to @xmath38 and negative numbers to @xmath70 .",
    "a binary valued @xmath71 is the standard scenario in binary pairwise comparisons @xcite ; in this context , a global ranking is usually taken to be synonymous as a kemeny optimal .",
    "we will discuss kemeny optimization in greater details in section [ social ] .",
    "a graph structure arises naturally from ranking data as follows .",
    "let @xmath72 be an undirected graph whose vertex set is @xmath18 , the set of alternatives to be ranked , and whose edge set is @xmath73 i.e.  the set of pairs @xmath26 where pairwise comparisons have been made .",
    "we call such @xmath74 a _ pairwise comparison graph_. one can further associate weights on the edges as capacity , e.g.  @xmath75",
    ".    a pairwise ranking can be viewed as _ edge flows _ on @xmath74 , i.e.  a function @xmath76 that satisfies @xmath77 it is clear that a skew - symmetric matrix @xmath78 $ ] induces an edge flow and vice versa .",
    "so henceforth we will not distinguish between edge flows and skew - symmetric matrices and will often write @xmath79 in place of @xmath80 .",
    "we will now borrow some terminologies from vector calculus .",
    "an edge flow of the form @xmath81 , i.e.  @xmath62 , can be regarded as the _ gradient _ of a function @xmath82 , which will be called a _ potential _",
    "function ( or _ negative potential _ , depending on sign convention ) . in the context of ranking ,",
    "a potential function is a _ score function _ or _",
    "utility function _ on the set of alternatives , assigning a score @xmath83 to alternative @xmath32 .",
    "note that any such function defines a _ global ranking _ as discussed after . to be precise",
    ", we define gradient as follows .",
    "[ def : grad ] the * combinatorial gradient * operator maps a potential function on the vertices @xmath82 to an edge flow @xmath84 via @xmath85 an edge flow that has this form will be called a * gradient flow*.    in other words , the combinatorial gradient takes global rankings to pairwise rankings .",
    "pairwise rankings that arise in this manner will be called _ globally consistent _ ( formally defined in definition [ def : consistency ] ) .",
    "given a globally consistent pairwise ranking @xmath86 , we can easily solve @xmath87 to determine a score function @xmath88 ( up to an additive constant ) , and from @xmath88 we can obtain a global ranking of the alternatives in the manner described after . observe that the set of all globally consistent pairwise rankings in may be written as @xmath89 .    for convenience , we will drop the adjective ` combinatorial ' from ` combinatorial gradient ' .",
    "we may sometimes also drop the adjective ` pairwise ' in ` globally consistent pairwise ranking ' when there is no risk of confusion .",
    "the optimization problem can be rewritten in the form of a weighted @xmath0-minimization on a pairwise comparison graph @xmath90\\ ] ] where @xmath91 an optimizer thus corresponds to an @xmath0-projection of a pairwise ranking edge flow @xmath92 onto the space of gradient flows .",
    "we note that @xmath93 = \\sum_{\\alpha}w^{\\alpha}$ ] is a symmetric nonnegative - valued matrix .",
    "this choice of @xmath94 is not intended to be rigid .",
    "one could for example define @xmath94 to incorporate prior knowledge of the relative importance of the paired comparisons as judged by the voters",
    ".    an interesting variation of this scheme is an analogous @xmath1-projection onto the space of gradient flows , @xmath95 .",
    "\\label{eq : mainl1}\\ ] ] its solutions are more robust to outliers or large deviations in @xmath96 as may be regarded as the _ least absolute deviation _ ( lad ) method in robust regression .",
    "we will discuss this problem in greater details in section [ robust ] .",
    "combinatorial hodge theory will provide a geometric interpretation of the optimizer and residuals of as well as further insights on . before going deeper into the analysis of such optimization problems , we present several examples of pairwise ranking arising from applications .",
    "humans are unable to make accurate preference judgement on even moderately large sets .",
    "in fact , it has been argued that most people can rank only between 5 to 9 alternatives at a time @xcite .",
    "this is probably why many rating scales ( e.g.  the ones used by amazon , ebay , netflix , youtube ) are all based on a @xmath97-star scale . hence one expects large human - generated ranking data to be at best partially ordered ( with chains of lengths about @xmath97 to @xmath98 , if @xcite is accurate ) . for most people , it is a harder task to rank or rate @xmath99 movies than to compare the movies a pair at a time . in certain settings such as tennis tournaments and wine tasting ,",
    "only pairwise comparisons are possible .",
    "pairwise comparison methods , which involve the smallest partial rankings , is thus natural for analyzing ranking data",
    ".    pairwise comparisons also help reduce bias due to the arbitrariness of rating scale by adopting a relative measure . as we will see in section [ exmp : netflix ] , pairwise comparisons provide a way to handle missing values , which are expected because of the general lack of incentives or patience for a human to process a large dataset . for these reasons ,",
    "pairwise comparison methods have been popular in psychology , statistics , and social choice theory @xcite .",
    "such methods are also getting increasing attention from the machine learning community as they may be adapted for studying classification problems @xcite .",
    "we will present two very different instances where pairwise rankings arise : recommendation systems and exchange economic systems .",
    "the generic scenario in recommendation systems is that there are @xmath100 voters rating @xmath27 alternatives .",
    "for example , in the netflix context , viewers will rate a movie on a scale of 5 stars @xcite ; in financial markets , analysts will rate a stock or a security by 5 classes of recommendations @xcite . in these cases , we let @xmath101\\in\\mathbb{r}^{m\\times n}$ ] represent the voter - alternative matrix .",
    "@xmath102 typically has a large number of missing values ; for example , the dataset that netflix released for its prize competition contains a viewer - movie matrix with 99% of its values missing .",
    "the standard problem here is to predict these missing values from the given data but we caution the reader again that this is _ not _ the problem addressed in our paper . instead of estimating the missing values of @xmath102 , we want to learn a global ranking of the alternatives from @xmath102 , without having to first estimate the missing values .",
    "even though the matrix @xmath102 may be highly incomplete , we may aggregate over all voters to get a pairwise ranking matrix using one of the four following methods .    1 .",
    "* arithmetic mean of score differences : * the score difference refers to @xmath103 .",
    "the arithmetic mean over all customers who have rated both @xmath32 and @xmath33 is @xmath104 this is translation invariant .",
    "geometric mean of score ratios : * assuming @xmath105 .",
    "the score ratio refers to @xmath106 .",
    "the ( log ) geometric mean over all customers who have rated both @xmath32 and @xmath33 is @xmath107 this is scale invariant .",
    "* binary comparison : * here @xmath108 .",
    "its average is the probability difference that the alternative @xmath33 is preferred to @xmath32 than the other way round , @xmath109 this is invariant up to a monotone transformation .",
    "* logarithmic odds ratio : * as in the case of binary comparison , except that we adopt a logarithmic scale @xmath110 this is also invariant up to a monotone transformation .",
    "each of these four statistics is a form of `` average pairwise ranking '' over all voters .",
    "the first model leads to the concept of _ position - rules _ in social choice theory @xcite and it has also been used in machine learning recently @xcite .",
    "the second model has appeared in multi - criteria decision theory @xcite .",
    "the third and fourth models are known as _ linear model _ @xcite and _ bradley - terry model _",
    "@xcite respectively in the statistics and psychology literature .",
    "there are other plausible choices for defining @xmath96 , e.g.  @xcite , but we will not discuss more of them here .",
    "it suffices to note that there is a rich variety of techniques to preprocess raw ranking data into the pairwise ranking edge flow @xmath96 that serves as input to our hodge theoretic method .",
    "however , it should be noted that the @xmath0- and @xmath1-optimization on graphs in and may be applied with any of the four choices above since only the knowledge of @xmath96 is required but the sum - of - squares and kemeny optimization in and require the original score difference or score order data be known for each voter .",
    "a purely exchange economic system may be described by a graph @xmath72 with vertex set @xmath42 representing the @xmath27 goods and edge set @xmath111 representing feasible pairwise transactions .",
    "if the market is complete in the sense that every pair of goods is exchangeable , then @xmath74 is a complete graph .",
    "suppose the exchange rate between the @xmath32th and @xmath33th goods is given by @xmath112 then the exchange rate matrix @xmath113 $ ] is a _ reciprocal matrix _ ( possibly with missing values ) , i.e.  @xmath114 for all @xmath115 .",
    "the reciprocal matrix was first used in the studies of paired preference aggregation by saaty @xcite ; it was also used by ma @xcite to study currency exchange markets .",
    "a pricing problem here is to look for a _",
    "universal equivalent _ which measures the values of goods ( this is in fact an abstraction of the concept of money ) , i.e.  @xmath116 such that @xmath117 in complete markets where @xmath74 is a complete graph , there exists a universal equivalent if and only if the market is _ triangular arbitrage - free _ , i.e.  @xmath118 for all distinct @xmath119",
    "; since in this case the transaction path @xmath120 provides no gain nor loss over a direct exchange @xmath121 .",
    "such purely exchange economic system is equivalent to pairwise ranking via the logarithmic map , @xmath122 the triangular arbitrage - free condition is then equivalent to the transitivity condition in , i.e. @xmath123 so asking if a universal equivalent exists is the same as asking if a global ranking @xmath82 exists so that @xmath81 with @xmath124 .      upon constructing pairwise rankings from the raw data , we need a statistics to quantify the inconsistency in the pairwise rankings . again",
    "we will borrow a terminology from vector calculus and define a notion of _ combinatorial curl _ as a measure of triangular inconsistency .    given a pairwise ranking represented as an edge flow @xmath86 on a graph @xmath72",
    ", we expect the following ` consistency ' property : following a loop @xmath125 where each edge is in @xmath126 , the amount of the scores raised should be equal to the amount of the scores lowered ; so after a loop of comparisons we should return to the same score on the same alternative . since the simplest loop is a triangular loop @xmath127 , the ` basic unit ' of inconsistency should be triangular in nature and this leads us to the combinatorial curl in definition [ def : curl ] .",
    "we will first define a notion analogous to edge flows .",
    "the _ triangular flow _ on @xmath74 is a function @xmath128 that satisfies @xmath129 i.e.  an odd permutation of the arguments of @xmath130 changes its sign while an even permutation preserves its sign - tensor and may be represented as a skew - symmetric hypermatrix @xmath131 \\in\\mathbb{r}^{n\\times n \\times n}$ ] , much like an edge flow is an alternating @xmath40-tensor and may be represented by a skew - symmetric matrix @xmath78 \\in\\mathbb{r}^{n \\times n}$ ] .",
    "we will often write @xmath132 in place of @xmath133 . ] .",
    "a triangular flow describes _ triplewise rankings _ in the same way an edge flow describes pairwise rankings .",
    "[ def : curl ] let @xmath86 be an edge flow on a graph @xmath72 .",
    "let @xmath134 be the collection of triangles with every edge in @xmath126 .",
    "we define the * combinatorial curl * operator that maps edge flows to triangular flows by @xmath135    in other words , the combinatorial curl takes pairwise rankings to triplewise rankings .",
    "again , we will drop the adjective ` combinatorial ' when there is no risk of confusion .",
    "the skew - symmetry of @xmath86 , i.e.  @xmath136 , guarantees that @xmath137 is a triangular flow , i.e. @xmath138    the curl of a pairwise ranking measures its triangular inconsistency .",
    "this extends the _ consistency index _ of kendall and smith @xcite , which counts the number of circular triads , from ordinal settings to cardinal settings .",
    "note that for binary pairwise ranking where @xmath139 , the absolute value @xmath140 may only take two values , @xmath38 or @xmath141 .",
    "the triangle @xmath142 contains a cyclic ranking or _",
    "circular triad _ if and only if @xmath143 .",
    "if @xmath74 is a complete graph , the number of circular triads has been shown @xcite to be @xmath144   ^{2}.\\ ] ]    for ranking data given in terms of cardinal scores and that is generally incomplete , curl plays an extended role in addition to just quantifying the triangular inconsistency .",
    "we now formally define some ranking theoretic notions in terms of the combinatorial gradient and combinatorial curl .",
    "[ def : consistency ] let @xmath145 be a pairwise ranking edge flow on a pairwise comparison graph @xmath146 .    1 .",
    "@xmath86 is called * consistent * on @xmath147 if it is curl - free on @xmath148 , i.e. @xmath149 note that this implies that @xmath150 for every permutation @xmath151 .",
    "@xmath86 is called * globally consistent * if it is a gradient flow of a score function , i.e. @xmath152 3 .",
    "@xmath86 is called * locally consistent * or * triangularly consistent * if it is curl - free on every triangle in @xmath153 , i.e.  every @xmath141-clique of @xmath74 .",
    "clearly any gradient flow must be curl - free everywhere , i.e.  the well - known identity in vector calculus @xmath154 is also true for combinatorial curl and combinatorial gradient ( a special case of lemma [ lem : close ] ) .",
    "so global consistency implies local consistency .",
    "a qualified converse may be deduced from the hodge decomposition theorem ( see also theorem [ thm : consistency ] ) : a curl - free flow on a complete graph must necessarily be a gradient flow , or putting it another way , a locally consistent pairwise ranking must necessarily be a globally consistent pairwise ranking when there are no missing values , i.e.  if the pairwise comparison graph is a complete graph ( every pair of alternatives has been compared ) .",
    "when @xmath74 is an incomplete graph , the condition that @xmath86 is curl - free on every triangle in the graph will not be enough to guarantee that it is a gradient flow .",
    "the reason lies in that curl only takes into account the triangular inconsistency ; but since there are missing edges in the pairwise comparison graph @xmath74 , it is possible that non - triangular cyclic rankings of lengths greater than three can occur .",
    "for example , figure [ fig : harmonic ] shows a pairwise ranking that is locally consistent on every triangle but globally inconsistent , since it contains a cyclic ranking of length six .",
    "fortunately , hodge decomposition theorem will tell us that all such cyclic rankings lie in a subspace of _ harmonic rankings _",
    ", which can be characterized as the kernel of some combinatorial laplacians .",
    "we will see in this section that edge flows , gradient flows , harmonic flows , and curl flows can all be represented as specially structured skew - symmetric matrices . in this framework , the hodge decomposition theorem may be viewed as an orthogonal direct sum decomposition of the space of skew - symmetric matrices into three subspaces . a formal treatment of combinatorial hodge theory will be given in section [ hodge ] .",
    "recall that a matrix @xmath155 is said to be _ skew - symmetric _ if @xmath156 for all @xmath157 .",
    "one knows from linear algebra that any square matrix @xmath102 may be written uniquely as a sum of a symmetric and a skew - symmetric matrix , @xmath158 we will denote are @xmath159 ( lie algebra of @xmath160 ) and @xmath161 ( second exterior product of @xmath36 ) but we avoided these since we use almost no lie theory and exterior algebra . ]",
    "@xmath162 it is perhaps interesting to note that semidefinite programming takes place in the cone of symmetric positive definite matrices in @xmath163 but the optimization problems in this paper take place in the exterior space @xmath164 .",
    "one simple way to construct a skew - symmetric matrix is to take a vector @xmath165^{\\top}\\in\\mathbb{r}^{n}$ ] and define @xmath86 by @xmath166 note that if @xmath167 , then @xmath168 since it can be expressed as @xmath169 with @xmath170^{\\top}\\in \\mathbb{r}^{n}$ ] .",
    "these are in a sense the simplest type of skew - symmetric matrices  they have the lowest rank possible for a non - zero skew - symmetric matrix ( recall that the rank of a skew - symmetric matrix is necessarily even ) . in this paper , we will call these _ gradient _ matrices and denote them collectively by @xmath60 , @xmath171    for @xmath172 , we define the set of @xmath173-_consistent _ matrices as @xmath174 we can immediately observe every @xmath175 is @xmath173-_consistent _ for any @xmath172 , i.e.  @xmath176 .",
    "conversely , a matrix @xmath86 that satisfies @xmath177 is necessarily a gradient matrix , i.e.@xmath178    given @xmath179 , it is straightforward to verify that both @xmath60 and @xmath180 are subspaces of @xmath181 .",
    "the preceding discussions then imply the following subspace relations : @xmath182 since these are strict inclusions in general , several complementary subspaces arise naturally .",
    "with respect to the usual inner product @xmath183 , we obtain orthogonal complements of @xmath60 and @xmath180 in @xmath164 as well as the orthogonal complement of @xmath60 in @xmath180 , which we denote by @xmath184 : @xmath185 we will call the elements of @xmath184 _ harmonic _ matrices as we shall see that they are discrete analogues of solutions to the laplace equation ( or , more accurately , the helmholtz equation ) .",
    "an alternative characterization of @xmath184 is @xmath186 which may be viewed as a discrete analogue of the condition of being simultaneously curl - free and divergence - free .",
    "more generally , this discussion applies to any weighted inner product @xmath187 .",
    "the five subspaces @xmath188 of @xmath164 play a central role in our techniques .",
    "as we shall see later , the helmholtz decomposition in theorem [ thm : helmholz ] may be viewed as the orthogonal direct sum decomposition @xmath189",
    "in this section we will give a brief introduction to combinatorial hodge theory , paying special attention to its relevance in statistical ranking .",
    "one may wonder why we do not rely on our relatively simple matrix view in section [ skew ] .",
    "the reasons are two fold : firstly , important geometric insights are lost when the actual motivations behind the matrix picture are disregarded ; and secondly , the matrix approach applies only to the case of @xmath40-dimensional simplicial complex but combinatorial hodge theory extends to any @xmath15-dimensional simplicial complex . while so far we did not use any simplicial complex of dimension higher than @xmath40 in our study of statistical ranking , it is conceivable that higher - dimensional simplicial complex could play a role in future studies",
    ".      let @xmath72 be a pairwise comparison graph . to characterize the triangular inconsistency or curl",
    ", one needs to study the triangles formed by the @xmath141-cliques - clique of @xmath74 is just a complete subgraph of @xmath74 with @xmath15 vertices . ] , i.e.  the set @xmath190 a combinatorial object of the form @xmath191 where @xmath192 , @xmath172 , and @xmath193 for all @xmath194 is called a @xmath40-dimensional simplicial complex .",
    "this is a generalization of the notion of a graph , which is a @xmath38-dimensional simplicial complex . in particular , given a graph @xmath195 , the @xmath40-dimensional simplicial complex @xmath196 is called the @xmath141-_clique complex _ of @xmath74 .    more generally , a _ simplicial complex _ @xmath197 is a vertex set @xmath42 together with a collection @xmath198 of subsets of @xmath18 that is closed under inclusion , i.e.  if @xmath199 and @xmath200 , then @xmath201 . the elements in @xmath198 are called _",
    "simplices_. for example , a @xmath37-simplex is just an element @xmath202 ( recall that we do not distinguish between @xmath203 and @xmath18 ) , a @xmath38-simplex is a pair @xmath204 , a @xmath40-simplex is a triple @xmath205 , and so on . for @xmath206 ,",
    "a @xmath15-simplex is a @xmath207-element set in @xmath208 and @xmath209 will denote the set of all @xmath15-simplices in @xmath198 . in the previous paragraph ,",
    "@xmath210 , @xmath211 , @xmath212 , and @xmath213 . in general , given any undirected graph @xmath72 , one obtains a @xmath214-dimensional simplicial complex @xmath215 called the @xmath15-__clique complex__-clique is a @xmath214-simplex .",
    "] of @xmath74 by ` filling in ' all its @xmath33-cliques for @xmath216 , or more precisely , by setting @xmath217 .",
    "the @xmath15-clique complex of @xmath74 where @xmath15 is maximal is just called the clique complex of @xmath74 and denoted @xmath218 .    in this paper",
    ", we will mainly concern ourselves with studying the @xmath141-clique complex @xmath219 where @xmath74 is a pairwise comparison graph .",
    "note that we could also look at the simplicial complex @xmath220 where @xmath221 where @xmath222 . for @xmath223 ,",
    "we get @xmath224 but for general @xmath225 we get a subcomplex of @xmath224 . we have found this to be a useful multiscale characterization of the inconsistencies of pairwise rankings but the detailed discussion will have to be left to a future paper .",
    "we will now introduce some discrete exterior calculus on a simplicial complex where potential functions ( scores or utility ) , edge flow ( pairwise ranking ) , triangular flow ( triplewise ranking ) , gradient ( global ranking induced by scores ) , curl ( local inconsistency ) become just special cases of a much more general framework .",
    "we will now also define the notions of _ combinatorial divergence _ and _ combinatorial laplacians_. a @xmath37-dimensional combinatorial laplacian is just the usual graph laplacian but the case of greatest interest to us is the @xmath38-dimensional combinatorial laplacian , or what we will call the _ graph helmholtzian_.    let @xmath226 be a simplicial complex and recall that @xmath227 denotes its set of @xmath15-simplices . a @xmath15-dimensional * cochain * is a real - valued function on @xmath15-tuples of vertices that is alternating on each of the @xmath15-simplex and @xmath37 otherwise , i.e.  @xmath228 such that@xmath229 for all @xmath230 and all @xmath231 , the permutation group on @xmath232 elements , and that@xmath233 the set of all @xmath15-cochains on @xmath226 is denoted @xmath234 .    for simplicity we will often just write @xmath235 for @xmath234 . in particular",
    ", @xmath236 is the space of potential functions ( score / utility functions ) , @xmath237 is the space of edge flows ( pairwise rankings ) , and @xmath238 is the space of triangular flows ( triplewise rankings ) .    the @xmath15-cochain space @xmath235 can be given a choice of inner product . in view of the weighted @xmath0-minimization for our statistical ranking problem , we will define the following inner product on @xmath237 , @xmath239 for all edge flows @xmath240 . in the context of a pairwise comparison graph @xmath74",
    ", it may not be immediately clear why this defines an inner product since we have noted after that @xmath241 $ ] is only a nonnegative matrix and it is possible that some entries are @xmath37 .",
    "however observe that by definition @xmath242 iff no voters have rated both alternatives @xmath32 and @xmath33 and therefore @xmath243 by and so any edge flow @xmath86 will automatically have @xmath244 by .",
    "hence we indeed have that @xmath245 iff @xmath246 , as required for an inner product ( the other properties are trivial to check ) .    the operators @xmath247 and @xmath248 are all special instances of coboundary maps as defined below .",
    "the @xmath15th * coboundary * operator @xmath249 is the linear map that takes a @xmath15-cochain @xmath250 to a @xmath207-cochain @xmath251 defined by @xmath252    note that @xmath253 is omitted from @xmath33th term in the sum , i.e.  coboundary maps compute an alternating difference with one input left out . in particular , @xmath254 , i.e.  @xmath255 , and @xmath256 , i.e.  @xmath257 .    given a choice of an inner product @xmath258 on @xmath235 , we may define the adjoint operator of the coboundary map , @xmath259 in the usual manner , i.e.  @xmath260 .",
    "the * combinatorial divergence * operator @xmath261 is the adjoint of @xmath262 , i.e. @xmath263    divergence will appear in the minimum norm solution to and can be used to characterize @xmath264 . as usual",
    ", we will drop the adjective ` combinatorial ' when there is no cause for confusion .    for statistical ranking",
    ", it suffices to consider the cases @xmath265 .",
    "let @xmath74 be a pairwise comparison graph and @xmath218 its clique complexit does not matter whether we consider @xmath218 or @xmath224 or indeed any @xmath266 where @xmath267 ; the higher - dimensional @xmath15-simplices where @xmath267 do not play a role in the coboundary maps @xmath268 . ] .",
    "the cochain maps , @xmath269 and their adjoint , @xmath270 have the following ranking theoretic interpretation with @xmath271 representing the spaces of score or utility functions , pairwise rankings , and triplewise rankings respectively , @xmath272 in summary , the formulas for combinatorial gradient , curl , and divergence are given by @xmath273 with respect to the inner product @xmath274 on @xmath237 .",
    "as an aside , it is perhaps worth pointing out that there is no special name for the adjoint of @xmath248 coming from physics because in @xmath141-space , @xmath237 may be identified with @xmath238 via a property called _ hodge duality _ and in which case @xmath248 is a self - adjoint operator , i.e.  @xmath275 .",
    "this will not be true in our case .",
    "if we represent functions on vertices by @xmath27-vectors , edge flows by @xmath276 skew - symmetric matrices , and triangular flows by @xmath277 skew - symmetric hypermatrices , i.e. @xmath278\\in\\mathbb{r}^{n\\times n}\\mid x_{ij}=-x_{ji}\\}=\\mathcal{a},\\\\ c^{2 }   &   = \\{[\\phi_{ijk}]\\in\\mathbb{r}^{n\\times n\\times n}\\mid\\phi_{ijk}=\\phi_{jki}=\\phi_{kij}=-\\phi_{jik}=-\\phi_{ikj}=-\\phi_{kji}\\},\\end{aligned}\\ ] ] then in the language of linear algebra introduced in section [ skew ] , we have the following correspondence @xmath279 where @xmath280 .",
    "coboundary maps have the following important property .",
    "[ closedness][lem : close ] @xmath281 .    for @xmath282 , this and its adjoint",
    "are well - known identities in vector calculus , @xmath283 ranking theoretically , the first identity simply says that a global ranking must be consistent .",
    "we will now define combinatorial laplacians , higher - dimensional analogues of the graph laplacian .",
    "let @xmath226 be a simplicial complex .",
    "the @xmath15-dimensional * combinatorial laplacian * is the operator @xmath284 defined by @xmath285    in particular , for @xmath282 , @xmath286 is a discrete analogue of the scalar laplacian or laplace operator while for @xmath287 , @xmath288 is a discrete analogue of the vector laplacian or helmholtz operator . in the context of graph theory ,",
    "if @xmath289 , then @xmath290 is called the graph laplacian @xcite while @xmath291 is called the _",
    "graph helmholtzian_.    the combinatorial laplacian has some well - known , important properties .",
    "[ lem : betti ] @xmath292 is a positive semidefinite operator .",
    "furthermore , the dimension of @xmath293 is equal to @xmath15th betti number of @xmath226 .",
    "we will call a cochain @xmath294 _ harmonic _ since they are solutions to higher - dimensional analogue of the laplace equation @xmath295 strictly speaking , the laplace equation refers to @xmath296 .",
    "the equation @xmath297 is really the _",
    "helmholtz equation_. but nonetheless , we will still call an edge flow @xmath298 a harmonic flow .",
    "we now state the main theorem in combinatorial hodge theory .",
    "[ hodge decomposition theorem][thm : hodge ] @xmath234 admits an orthogonal decomposition @xmath299 furthermore , @xmath300    an elementary proof targeted at a computer science readership may be found in @xcite . for completeness",
    "we include a proof here .",
    "we will use lemma [ lem : close ] .",
    "first , @xmath301 . since @xmath302 , taking adjoint yields @xmath303 , which implies that @xmath304 .",
    "therefore @xmath305\\cap\\ker ( \\delta_{k-1}^{\\ast})=[\\operatorname*{im}(\\delta_{k}^{\\ast})\\cap\\ker ( \\delta_{k-1}^{\\ast})]\\oplus\\lbrack\\ker(\\delta_{k})\\cap\\ker(\\delta_{k-1}^{\\ast})]=\\operatorname*{im}(\\delta_{k}^{\\ast})\\oplus\\lbrack\\ker(\\delta _ { k})\\cap\\ker(\\delta_{k-1}^{\\ast})]$ ] .",
    "it remains to show that @xmath306 .",
    "clearly @xmath307 .",
    "for any @xmath308 where @xmath309 , lemma [ lem : close ] again implies @xmath310 , but @xmath311 , which implies that @xmath312 .",
    "similarly for @xmath313 .",
    "hence @xmath314 .    while hodge decomposition holds in general for any simplicial complex and in any dimension @xmath15 , the case",
    "@xmath315 is more often called the _ _ helmholtz decomposition theorem__. we will state it here for the special case of a clique complex .    [ helmholtz decomposition theorem][thm : helmholz ] let @xmath72 be an undirected , unweighted graph and @xmath218 be its clique complex .",
    "the space of edge flows on @xmath74 , i.e.  @xmath316 , admits an orthogonal decomposition @xmath317 furthermore , @xmath318    the clique complex @xmath218 above may be substituted with any @xmath266 with @xmath319 ( see footnote [ foot : higher ] ) .",
    "the equation says that an edge flow is harmonic iff it is both curl - free and divergence - free .",
    "figure [ fig : hodge ] illustrates .",
    "[ fig : hodge ]    to understand the significance of this theorem , we need to discuss the ranking theoretic interpretations of each subspace in the theorem .    1 .",
    "@xmath320 denotes the subspace of pairwise rankings that are the gradient flows of score functions .",
    "thus this subspace comprises the _ globally consistent _ or _",
    "acyclic _ pairwise rankings . given any pairwise ranking from this subspace",
    ", we may determine a score function on the alternatives that is unique up to an additive constantnote that @xmath321 is the set of constant functions on @xmath18 and so @xmath322 . ]",
    "and then we may rank all alternatives globally in terms of their scores .",
    "@xmath323 denotes the subspace of _ divergence - free _ pairwise rankings , whose total in - flow equals total out - flow for each alternative @xmath202 .",
    "such pairwise rankings may be regarded as _ cyclic _",
    "rankings , i.e.  rankings of the form @xmath324 , and they are clearly _",
    "inconsistent_. since @xmath325 , cyclic rankings have zero projection on global rankings . 3 .",
    "@xmath326 denotes the subspace of _ curl - free _ pairwise rankings with zero flow - sum along any triangle in @xmath218 .",
    "this corresponds to _ locally consistent _",
    "( i.e.  triangularly consistent ) pairwise rankings .",
    "note that by the closedness lemma @xmath327 and so @xmath328 .",
    "in general , the globally consistent pairwise rankings induced by gradient flows of score functions only account for a subset of locally consistent rankings .",
    "the remaining ones are the locally consistent rankings that are not globally consistent and they are precisely the harmonic rankings discussed below .",
    "@xmath329 denotes the subspace of _ harmonic _ pairwise rankings , or just harmonic rankings in short .",
    "it is the space of solutions to the helmholtz equation .",
    "harmonic rankings are exactly those pairwise rankings that are both _",
    "curl - free _ and _ divergence - free_. these are only locally consistent with zero curl on every triangle in @xmath153 but are not globally consistent .",
    "in other words , while there are no inconsistencies due to small loops of length @xmath141 , i.e.  @xmath330 , there are inconsistencies along larger loops of lengths @xmath331 , i.e.  @xmath332 .",
    "so these are also cyclic rankings .",
    "rank aggregation on @xmath333 depends on the edge paths traversed in the simplicial complex ; along homotopy equivalent paths one obtains consistent rankings .",
    "figure [ fig : harmonic ] gives an example of harmonic rankings .",
    "@xmath334 denotes the subspace of _ locally cyclic _ pairwise rankings that have non - zero curls along triangles . by the closedness lemma , @xmath335 and",
    "so this subspace is in general a proper subspace of the divergence - free rankings ; the orthogonal complement of @xmath336 in @xmath337 is precisely the space of harmonic rankings @xmath333 discussed above .",
    "we now state two immediate implications of the helmholtz decomposition theorem when applied to statistical ranking .",
    "the first implication is that it gives an interpretation of the solution and residual of the optimization problem ; these are respectively the @xmath0-projection on gradient flows and divergence - free flows . in the context of statistical ranking and in the @xmath0-sense ,",
    "the solution to gives the nearest globally consistent pairwise ranking to the data while the residual gives the sum total of all inconsistent components ( both local and harmonic ) in the data .",
    "the second implication is the condition that local consistency guarantees global consistency whenever there is no harmonic component in the data ( which happens iff the clique complex of the pairwise comparison graph is ` loop - free ' ) .      in order to cast our optimization problem in the hodge theoretic framework",
    ", we need to specify relevant inner products on @xmath338 . as before , the inner product on the space of edge flows ( pairwise rankings ) @xmath237 will be a weighted euclidean inner product @xmath339 for @xmath340 .",
    "we will let the inner products on @xmath236 and @xmath238 be the unweighted euclidean inner product @xmath341 for @xmath342 and @xmath343 .",
    "we note that other inner products can be chosen ( e.g.  the inner products on @xmath236 and @xmath238 could have been weighted ) with corresponding straightforward modification of but this would not change the essential nature of our methods .",
    "we made the above choices mainly to keep our notations uncluttered .",
    "the optimization problem is then equivalent to an @xmath0-projection of an edge flow representing a pairwise ranking onto @xmath344 , @xmath345 the helmholtz decomposition theorem then leads to the following result about the structures of the solutions and residuals of . in theorem",
    "[ thm : l2 ] below , we assume that the pairwise ranking data @xmath92 has been estimated from one of the methods in section [ exmp : netflix ] .",
    "the least squares solution @xmath88 will be a score function that induces @xmath346 , the @xmath0-nearest global ranking to @xmath92 . since @xmath88 is only unique up to a constant ( see footnote [ foot : gradker ] ) , we determine a unique minimum norm solution @xmath347 for the sake of well - posedness ; but nevertheless any @xmath88 will yield the same global ordering of alternatives .",
    "the least squares residual @xmath348 represents the inconsistent component of the ranking data @xmath92 .",
    "the magnitude of @xmath348 is a ` certificate of reliability ' for @xmath88 ; since if this is small , then the globally consistent component @xmath346 accounts for most of the variation in @xmath92 and we may conclude that @xmath88 gives a reasonably reliable ranking of the alternatives .",
    "but even when the magnitude of @xmath348 is large , we will see that it may be further resolved into a global and a local component that determine when a comparison of alternatives with respect to @xmath88 is still valid .",
    "[ thm : l2 ]    a.   [ a ] solutions of satisfy the following normal equation @xmath349 and thus the minimum norm solution is @xmath350 where @xmath351 indicates a moore - penrose inverse .",
    "the divergence in is given by @xmath352 and the matrix representing the graph laplacian is given by @xmath353_{ij}=\\begin{cases } \\sum_{i}w_{ii } & \\text{if } j = i,\\\\ -w_{ij } & \\text{if } j\\text { is such that } \\{i , j\\}\\in e,\\\\ 0 & \\text{otherwise.}\\end{cases}\\ ] ] b.   [ b ] the residual @xmath354 is divergence - free , i.e.  @xmath355 .",
    "moreover , it has a further orthogonal decomposition @xmath356 where @xmath357 is a local cyclic ranking accounting for local inconsistencies and @xmath358 is a harmonic ranking accounting for global inconsistencies .",
    "in particular , the projections are given by @xmath359    the normal equation for the least squares problem @xmath360 is@xmath361 , , and @xmath362 are obvious upon substituting @xmath363 and @xmath364 .",
    "the expressions for divergence and graph laplacian in ( [ a ] ) follow from their respective definitions .",
    "the helmholtz decomposition theorem implies@xmath365 obviously @xmath366 .",
    "since @xmath367 is a least squares residual , we must have @xmath368 .",
    "these observations yield , as@xmath369 the expression for the projection in is standard .    in the special case",
    "when the pairwise ranking matrix @xmath74 is a complete graph and we have an unweighted euclidean inner product on @xmath237 , the minimum norm solution @xmath347 in satisfies @xmath370 and is given by @xmath371 in section [ social ] , we shall see that this is the well - known _ borda count _ in social choice theory , a measure that is also widely used in psychology and statistics @xcite . since @xmath74 is a complete graph only when",
    "the ranking data is complete , i.e.  every voter has rated every alternative , this is an unrealistic scenario for the type of modern ranking data discussed in section [ intro ] . among other things ,",
    "the hodge theoretic framework generalizes borda count to scenarios where the ranking data is incomplete or even highly incomplete .    in ( [ b ] ) the locally cyclic ranking component",
    "is obtained by solving @xmath372 the above equality implies that there is no need to first solve for @xmath373 before we may obtain @xmath130 ; one could get it directly from the pairwise ranking data @xmath92 .",
    "note that the solution is only determined up to an additive term of the form @xmath374 since by virtue of , @xmath375 for the sake of well - posedness , we will seek the unique minimum norm solution given by @xmath376 and the required component is given by @xmath377 .",
    "the reader may have noted a parallel between the two problems @xmath378 indeed in many contexts , @xmath88 is called the _ scalar potential _ while @xmath130 is called the _",
    "vector potential_. as seen earlier in definition [ def : grad ] , an edge flow of the form @xmath374 for some @xmath379 is called a gradient flow ; in analogy , we will call an edge flow of the form @xmath380 for some @xmath381 a _ curl flow_.    we note that the @xmath0-residual @xmath373 , being divergence - free , is a cyclic ranking .",
    "much like , the divergence - free condition is satisfied by a whole family of edge flows that differs from @xmath373 only by a term of the form @xmath380 since @xmath382 because of .",
    "the subset of @xmath237 given by @xmath383 is called the _ homology class _ of @xmath373 .",
    "the harmonic ranking @xmath358 is just one element in this class . in general",
    ", it will be dense in the sense that it will be nonzero on almost every edge in @xmath126 .",
    "this is because in addition to the divergence - free condition , the harmonic ranking must also satisfy the curl - free condition by virtue of .",
    "so if parsimony or sparsity is the objective , e.g.  if one wants to identify a small number of conflicting comparisons that give rise to the inconsistencies in the ranking data , then the harmonic ranking does not offer much information in this regard . to better understand ranking inconsistencies via the structure of @xmath373 ,",
    "it is often helpful to look for elements in the same homology class with the _ sparsest support _ , i.e. @xmath384    the widely used convex relaxation replacing the @xmath385-`norm ' by the @xmath1-norm may be employed @xcite , i.e. @xmath386 a solution @xmath387 of such an @xmath1-minimization problem is expected to give a sparse element @xmath388 , which we call an @xmath1-_approximate sparse generator _ of @xmath373 , or equivalently , of @xmath358 .",
    "we will discuss them in detail in section [ sparse ] .",
    "the bottom line here is that we want to find the shortest cycles that represent the global inconsistencies and perhaps remove the corresponding edges in the pairwise comparison graph , in view of what we will discuss next in section [ local - global ] .",
    "one plausible strategy to get a globally consistent ranking is to remove a number of problematic ` conflicting ' comparisons from the pairwise comparison graph .",
    "since it is only reasonable to remove as few edges as possible , this translates to finding a homology class with the sparsest support .",
    "this is similar to the minimum feedback arc set approach discussed in section [ compare ] .",
    "we will end the discussion of this section with a note on computational costs . solving for a global ranking @xmath347 in only requires the solution of an @xmath389 least squares problem , which comes with a modest cost of @xmath390 flops ( @xmath391 ) . as we note later in section  [ exp : pagerank ] , for web ranking analysis such a cost is no more than computing the pagerank . on the other hand , the analysis of inconsistency is generally harder . for example , evaluating curls requires @xmath392 flops and this is @xmath393 in the worst case . since an actual computation of @xmath394 involves solving a least squares problem of size @xmath395 , the computation cost incurred is of order @xmath396 .",
    "nevertheless , any sparsity in the data ( when @xmath397 ) may be exploited by choosing the right least squares solver .",
    "for example , one may use the general sparse least squares solver lsqr @xcite or the new minres - qlp @xcite that works specifically for symmetric matrices .",
    "we will leave discussions of actual computations and more extensive numerical experiments to a future article .",
    "it suffices to note here that it is in general harder to isolate the harmonic component of the ranking data than the globally consistent component .      in this section",
    ", we discuss a useful result , that local consistency implies global consistency whenever the harmonic component is absent from the ranking data .",
    "whether a harmonic component exists is dependent on the topology of the clique complex @xmath224 .",
    "we will invoke the recent work of kahle @xcite on such topological properties of random graphs to argue that harmonic components are exceedingly unlikely to occur .    by lemma [ lem : betti ] , the dimension of @xmath333 is equal to the first betti number @xmath398 of the underlying simplicial complex @xmath226 .",
    "in particular , we know that @xmath399 if @xmath400 , and so the harmonic component of any edge flow on @xmath226 is automatically absent when @xmath400 ( roughly speaking , @xmath400 means that @xmath226 does not have any @xmath38-dimensional holes ) .",
    "this leads to the following result .",
    "[ thm : consistency ] let @xmath219 be a @xmath141-clique complex of a pairwise comparison graph @xmath401 .",
    "if @xmath224 does not contain any @xmath38-loops , i.e.  @xmath402 , then every locally consistent pairwise ranking is also globally consistent . in other words ,",
    "if the edge flow @xmath403 is curl - free , i.e. @xmath404 for all @xmath147 , then it is a gradient flow , i.e.  there exists @xmath405 such that @xmath406    this follows from the helmholtz decomposition theorem since @xmath407 and so any @xmath86 that is curl - free is automatically in @xmath344 .",
    "when @xmath74 is a complete graph , then we always have that @xmath408 and this justifies the discussion after definition [ def : consistency ] about the equivalence of local and global consistencies for complete pairwise comparison graphs . in general , @xmath74 will be incomplete due to missing ranking data ( not all voters have rated all alternatives ) but as long as @xmath224 is _ loop - free _ , such a claim still holds . in finance , this theorem translates into the well - known result that `` triangular arbitrage - free implies arbitrage - free . ''",
    "the theorem enables us to infer global consistency from a local condition  whether the ranking data is curl - free .",
    "we note that being curl - free is a strong condition . if we instead have `` triangular transitivity '' in the ordinal sense , i.e.  @xmath409 implies @xmath410 , then there is no result analogous to theorem [ thm : consistency ] .    at least for erds - rnyi random graphs , the betti number @xmath411 could only be non - zero when the edges are neither too sparse nor too dense . the following result by kahle @xcite quantifies this statement .",
    "he showed that @xmath411 undergoes two phase transitions from zero to nonzero and back to zero as the density of edges grows .",
    "[ kahle 2006][thm : kahle ] for an erds - rnyi random graph @xmath412 on @xmath27 vertices where the edges are independently generated with probability @xmath413 , its clique complex @xmath218 almost always has @xmath414 , except when @xmath415    without getting into a discussion about whether erds - rnyi random graphs are good models for pairwise ranking comparison graphs of real - world ranking data , we note that the netflix pairwise comparison graph has a high probability of having @xmath414 if kahle s result applies .",
    "although the original customer - product rating matrix of the netflix prize dataset is highly incomplete ( more than @xmath416 missing values ) , its pairwise comparison graph is very dense ( less than @xmath417 missing edges ) . in other words ,",
    "@xmath413 ( probability of an edge ) and @xmath27 ( number of vertices ) are both large and so is not satisfied .",
    "hodge theory is by and large an @xmath0-theory : inner products on cochains , adjoint of coboundary operators , orthogonality of hodge decomposition , are all naturally associated with ( weighted or unweighted ) @xmath0-norms . in this section",
    ", we will take an oblique approach and study the @xmath1-aspects of combinatorial hodge theory in the context of statistical ranking , with robustness and parsimony ( or sparsity ) being our two obvious motivations .",
    "we will study two @xmath1-norm minimization problems : ( 1 ) the @xmath1-projection on gradient flows ( globally consistent rankings ) , which we show to have a dual problem as correlation maximization over bounded divergence - free flows ( cyclic rankings ) ; ( 2 ) an @xmath1-approximation to find sparse divergence - free flows ( cyclic rankings ) homologous to the residual of the @xmath0-projection , which we show to have a dual problem as correlation maximization over bounded curl - free flows ( locally consistent rankings ) .",
    "we observe that the primal versus dual relation is revealed as an ` @xmath344 versus @xmath337 ' relation in first case and an ` @xmath336 versus @xmath418 ' relation in the second case .",
    "we have briefly mentioned this problem in section [ main ] as an @xmath1-variation of the least squares model for statistical ranking . here",
    "we will derive a duality result for .",
    "as before , we assume a pairwise comparison graph @xmath72 and an edge flow @xmath419 that comes from our ranking data .",
    "consider the following minimization problem , @xmath420{rcl}\\min &   & \\vert x-\\bar{y}\\vert_{1,w}\\\\ \\mathrm{s.t .",
    "} &   & x=\\operatorname*{grad}s,\\\\ &   & x =- x^{\\top } , \\end{array } \\label{eq : l1}\\ ] ] which may be regarded as the @xmath1-projection onto a closed subset @xmath421 in a finite - dimensional norm space is simply the unique point @xmath422 that is nearest to @xmath86 in the norm .",
    "] of an edge flow @xmath92 onto the space of gradient flows , @xmath423 in other words , we attempt to find the nearest globally consistent ranking @xmath374 to the pairwise ranking @xmath92 as measured by the @xmath1-norm .",
    "such a norm is often employed in robust regression since its solutions will be relatively more robust to outliers or large deviations in the ranking data @xmath92 when compared to the @xmath0-norm in @xcite .",
    "the computational cost paid in going from to is that of replacing a linear least squares problem with a linear programming problem .",
    "recall that the minimum norm @xmath0-minimizer is given by @xmath424 and the @xmath0-residual is given by @xmath425 .",
    "hence @xmath426 where @xmath427 .",
    "it follows that the @xmath1-minimizers in may be characterized by refers to the _ set _ of all minimizers .",
    "the addition of sets here is just the usual minkowski sum.]@xmath428 the deviation from the minimum norm @xmath0-minimizer @xmath429 is a ` median gradient flow ' extracted from the cyclic residual @xmath373 , which moves the @xmath1-residual @xmath430 _ outside _ the space of divergence - free flows ; here @xmath431    on the other hand , in the dual problem to , we search for a solution _ inside _ the space of divergence - free flows .",
    "more precisely , the dual form of the @xmath1-projection searches within a space of bounded divergence - free flows for a flow that is maximally correlated with @xmath92 . before we state this theorem , we note that the inner product defined in for skew - symmetric matrices representing edge flows , @xmath432 also defines an inner product over @xmath39 if the symmetric weight matrix @xmath241 $ ] has no zero entries , i.e.  @xmath433 for all @xmath434 .",
    "we will assume that this is the case in the following proposition .",
    "[ thm : duall1 ] the @xmath1-projection problem has the following dual problem , @xmath420{rcl}\\max &   & \\langle x,\\bar{y}\\rangle_{w}\\\\ \\mathrm{s.t . } &   & |x_{ij}|\\leq1,\\\\ &   & \\operatorname*{div}x=0,\\\\ &   & x =- x^{\\top}. \\end{array } \\label{eq : l1dual}\\ ] ]    this follows from standard duality theory for linear programming .",
    "see @xcite for example .",
    "proposition [ thm : duall1 ] shows that for @xmath1-projections , the dual problem searches in the orthogonal complement of the primal domain . the primal search space is the space of gradient flows @xmath344",
    "while the dual search space is the space of divergence - free flows @xmath337 .",
    "recall that for @xmath0-projections , gradient flows correspond to the solutions while divergence - free flows correspond to the residuals .",
    "so the solution - residual split in the @xmath0-setting is in this sense analogous to the primal - dual split in @xmath1-setting .",
    "an optimal @xmath1-minimizer of can only be decided up to a constant from the complementary conditions , @xmath435 the constraint @xmath436 may be imposed to remove this extra degree of freedom .      in the discussion at the end of section [ structure ] , we mentioned that an @xmath1-approximate sparse cyclic ranking for @xmath373 may be formulated as the following @xmath1-minimization problem , @xmath420{rcl}\\min &   & \\vert x - r^{\\ast}\\vert_{1}\\\\ \\mathrm{s.t .",
    "} &   & x=\\operatorname*{curl}^{\\ast}\\phi,\\\\ &   & x =- x^{\\top}. \\end{array } \\label{eq : sparsegen}\\ ] ] this is equivalent to @xmath437 which is in turn equivalent to @xmath438 where @xmath439 is the harmonic component in @xmath373 . the chief motivation for this minimization problem has been explained at the end of section [ structure ]  we would like to identify the edges of conflicting pairs in a pairwise comparison graph so that we may have the option of removing them to get a globally consistent ranking .    both and are @xmath1-norm minimizations over some pairwise ranking flows .",
    "the main difference between them lies in that the former model searches over @xmath344 , the space of gradient flows , i.e.  where @xmath440 , while the latter model searches over @xmath441 , the space of curl flows , i.e.  where @xmath442 . the number of free parameters in @xmath374 is just @xmath443 but the number of free parameters in @xmath380 is @xmath444 , which is typically of the order @xmath390 .",
    "therefore we expect to be able to get a residual for that is much sparser than the residual for simply because we are searching over a much larger space . as an illustration , figure [ fig : harm_l1 ] shows the results of these two optimization problems on the same data .",
    "-optimizations , and , with the same harmonic ranking .",
    "for simplicity we set weights @xmath445 .",
    "the arrows in the picture indicate the edge flow direction of pairwise rankings .",
    "a. a harmonic ranking flow @xmath446 ; b. the @xmath1-projection on the gradient flows by ( i.e.  @xmath447 where @xmath448 ) ; c. the @xmath1-projection residual in ( i.e.  @xmath449 ) ; d. the approximate sparse cycles by ( i.e.  @xmath450 where @xmath451 ) ; e. the @xmath1-projection on locally cyclic flows by ( i.e.  @xmath452 ) . ]",
    "the next proposition shows that the dual problem of also maximizes correlation with the given pairwise ranking flow @xmath373 but over bounded curl - free flows instead of bounded divergence - free flows as in .",
    "[ thm : dualsparse ] let the inner product be as defined in , i.e. @xmath453 the dual problem of the @xmath1-minimization is @xmath420{rcl}\\max &   & \\langle x , r^{\\ast}\\rangle_{w}\\\\ \\mathrm{s.t .",
    "} &   & |x_{ij}|\\leq w_{ij}^{-1},\\\\ &   & \\operatorname*{curl}x=0,\\\\ &   & x =- x^{\\top}. \\end{array}\\ ] ]    similar to proposition [ thm : duall1 ] with @xmath247 replaced by @xmath454 .",
    "as we can see , @xmath248 in proposition [ thm : dualsparse ] plays the role of @xmath455 in proposition [ thm : duall1 ] in the dual problem and @xmath454 in proposition [ thm : dualsparse ] plays the role of @xmath247 in proposition [ thm : duall1 ] in the primal problem .",
    "there is a slight difference on the upper bounds for @xmath456 , due to the fact that uses a weighted @xmath1-norm while uses an unweighted @xmath1-norm . in both propositions ,",
    "the primal and dual search spaces are orthogonal complements of each other as given by the helmholtz decomposition theorem .",
    "these two problems thus exhibit a kind of structural duality .",
    "social choice theory is almost undoubtedly the discipline most closely associated with the study of ranking , having a long history dating back to condorcet s famous treatise in 1785 @xcite and a large body of work that led to at least two nobel prizes @xcite .",
    "the famous impossibility theorems of arrow @xcite and sen @xcite in social choice theory formalized the inherent difficulty of achieving a global ranking of alternatives by aggregating over the voters .",
    "however it is still possible to perform an approximate rank aggregation in reasonable , systematic manners . among the various proposed methods , the best known ones are those by condorcet @xcite , borda @xcite , and kemeny @xcite .",
    "in particular , the kemeny approach is often regarded as the best approximate rank aggregation method under some assumptions @xcite .",
    "it is however np - hard to compute and its sole reliance on ordinal information may be unnatural in the context of score - based cardinal data .",
    "we have described earlier how the minimization of over the gradient flow model class @xmath457 leads to a hodge theoretic generalization of borda count but the minimization of over the kemeny model class @xmath458 leads to kemeny optimization . in this section",
    ", we will discuss this connection in greater detail .",
    "the following are some desirable properties of ranking data that have been widely studied , used , and assumed in social choice theory .",
    "a ranking problem is called _ complete _ if each voter in @xmath459 gives a total ordering or permutation of all alternatives in @xmath18 ; this implies that @xmath460 for all @xmath34 and all distinct @xmath115 , in the terminology of section [ main ] .",
    "it is _ balanced _ if the pairwise comparison graph @xmath72 is @xmath15-regular with equal weights @xmath461 for all @xmath462 .",
    "a complete and balanced ranking induces a complete graph with equal weights on all edges .",
    "moreover , it is _ binary _ if every pairwise comparison is allowed only two values , say , @xmath463 without loss of generality .",
    "so @xmath464 if voter @xmath44 prefers alternative @xmath33 to alternative @xmath32 , and @xmath465 otherwise .",
    "ties are disallowed to keep the discussion simple .",
    "classical social choice theory often assumes complete , balanced , and binary rankings .",
    "however , these are all unrealistic assumptions for modern data coming from internet and e - commerce applications .",
    "take the netflix dataset for illustration , a typical user @xmath44 of netflix would have rated at most a very small fraction of the entire netflix inventory .",
    "indeed , as we have mentioned in section [ exmp : netflix ] , the viewer - movie rating matrix has @xmath416 missing values .",
    "moreover , while blockbuster movies would receive a disproportionately large number of ratings , since just about every viewer has watched them , the more obscure or special interest movies would receive very few ratings .",
    "in other words , the netflix dataset is highly incomplete and highly imbalanced .",
    "therefore its pairwise comparison graph is expected to have a sparse edge structure if we ignore pairs of movies where few comparisons have been made .",
    "lastly , as we have discussed in section [ exmp : pairwise ] , most modern ranking datasets including the netflix one are given in terms of ratings or scores on the alternatives by the voters ( e.g.  one through five stars ) .",
    "while it is possible to ignore the cardinal nature of the dataset and just use its ordinal information to construct a binary pairwise ranking , we would be losing valuable information  for example , a 5-star versus 1-star comparison is indistinguishable from a 3-star versus 2-star comparison when one only takes the ordinal information into account .",
    "therefore , one is ill - advised to apply methods from classical social choice theory to modern ranking data directly .",
    "we will see in the next section that our hodge theoretic extension of borda count adapts to these new features in modern datasets , i.e.  incomplete , imbalanced , cardinal data , but still restricts to the usual borda count in social choice theory for data that is complete , balanced , and ordinal / binary .",
    "the reader may wonder why the impossibility theorems of social choice theory do not invalidate our hodge theoretic approach .",
    "one reason is given in the previous paragraph , namely , we work under different assumptions : our ranking data is incomplete , imbalanced , cardinal , and so these impossibility results do not apply . in particular , these impossibility theorems are about _ intransitivity _ , i.e.  whether one might have @xmath466 , which is an ordinal condition ; but our approach deals with _ inconsistency _ ,",
    "i.e.  whether one might have @xmath467 , which is a cardinal condition .",
    "the second and more important reason is that we do not merely seek a global ranking but also a locally cyclic ranking and a harmonic ranking , with the latter two components accounting for the cyclic inconsistencies in the ranking data .",
    "we acknowledge at the outset that not all datasets can be reasonably assigned a global ranking but can sometimes be cyclic in nature .",
    "so we instead seek to analyze ranking data by examining its three constituting components : global , local , harmonic .",
    "the magnitude of the cyclic ( local + harmonic ) component then quantifies the inconsistencies that impede a global ranking .",
    "we do not always regard the cyclic component , which measures the cardinal equivalent of the impossibilities in social choice theory , as noise . in our framework",
    ", the data may be ` explained ' by a global ranking only when the cyclic component is small ; if that is not the case , then the cyclic component is an integral part of the ranking data and one has no reason to think that the global component would be any more informative than the cyclic component .",
    "the basic idea of kemeny s rule @xcite is to minimize the number of pairwise mismatches from a given ordering of the alternatives to a voting profile , i.e.  the collection of total orders on the alternatives by each voter .",
    "the minimizers are called the _ kemeny optima _ and are often regarded as the most reasonable candidates for a global ranking of the alternatives . to be precise",
    ", we define the binary pairwise ranking associated with a permutation @xmath468 ( the permutation group on @xmath27 elements ) to be @xmath469 . given two total orders or permutations on the @xmath27 alternatives , @xmath470 , the _ kemeny distance _ ( also known as _ kemeny - snell _ or _",
    "kendall @xmath471 distance _ ) is defined to be @xmath472 i.e.  the number of pairwise mismatches between @xmath151 and @xmath471 . given a voting profile as a set of permutations on @xmath473 by @xmath100 voters , @xmath474 , the following combinatorial minimization problem @xmath475 is called _ kemeny optimization _ and is known to be np - hard @xcite with respect to @xmath27 when @xmath476 .",
    "for binary - valued rankings with @xmath67 , the optimization problem @xmath477 counts up to a constant the number of pairwise mismatches from a total order .",
    "hence for a complete , balanced , and binary - valued ranking problem , our minimization problem becomes kemeny optimization if we replace the subspace @xmath60 by the discrete subset @xmath478 .",
    "another well - known method for rank aggregation is the _ borda count _",
    "@xcite , which assigns a voter s top @xmath32th alternative a _ position - based score _ of @xmath479 ; the global ranking on @xmath18 is then derived from the sum of its scores over all voters .",
    "this is equivalent to saying that the global ranking of the @xmath32th alternative is derived from the score @xmath480 i.e.  the alternative that has the most pairwise comparisons in favor of it from all voters will be ranked first , and so on .",
    "as we have found in , the minimum norm solution of the @xmath0-projection onto gradient flows is given by @xmath481 where @xmath5 is a positive constant .",
    "hence for a complete , balanced , and binary ranking problem , the hodge theoretic approach yields the borda count up ( to a positive multiplicative constant that has no effect on the ordering of alternatives by scores ) .",
    "the following theorem gives three equivalent characterizations of when @xmath482 .",
    "note that here we do not assume that the data is complete and balanced .",
    "[ thm7 ] suppose that @xmath67 .",
    "the following optimization problems are all equivalent :    a.   [ h ] the weighted least squares problem , @xmath483 where @xmath484 b.   [ i ] the linear programming problem , @xmath485 where @xmath486 is the set @xmath487 c.   [ j ] the weighted @xmath1-minimization problem , @xmath488 where @xmath489 is the set @xmath490 d.   [ k ] the minimum feedback arc set of the weighted directed graph @xmath491 , whose vertex set is @xmath18 , directed edge @xmath492 iff @xmath493 with weight @xmath494 .    assuming ( [ h ] ) . since @xmath139",
    ", we obtain @xmath495 \\\\ &   = c - 2\\sum\\nolimits_{i , j } x_{ij } \\sum\\nolimits_{\\alpha } w^{\\alpha}_{ij } y^{\\alpha}_{ij}\\\\ &   = c - 2 \\sum\\nolimits_{i , j } w_{ij } x_{ij } \\bar{y}_{ij}\\ ] ] where @xmath5 is a constant that does not depend on @xmath86 .",
    "so the problem becomes @xmath496 since @xmath478 is a discrete set containing @xmath497 points , a linear programming problem over @xmath478 is equivalent to searching over its convex hull , i.e.  @xmath486 , which gives ( [ i ] ) .",
    "( [ k ] ) can also be derived from .",
    "consider a weighted directed graph @xmath498 where an edge @xmath499 iff @xmath500 , and in which case has weight @xmath501 .",
    "is equivalent to finding a directed acyclic graph by reverting a set of edge directions whose weight sum is minimized .",
    "this is exactly the minimum feedback arc set problem .",
    "finally , we show that ( [ j ] ) is also equivalent to the minimum feedback arc set problem . for any @xmath502 , the transitive region",
    ", there is an associated weighted directed acyclic graph @xmath503 where an edge @xmath504 iff @xmath505 , and in which case has weight @xmath506 . note that an optimizer of has either @xmath507 or @xmath508 on an edge @xmath462 , which is equivalent to the problem of finding a directed acyclic graph by deleting a set of edges from @xmath498 such that the sum of their weights is minimized .",
    "again , this is exactly the minimum feedback arc set problem .",
    "the set @xmath486 is the convex hull of the _ skew - symmetric permutation matrices _ @xmath509 as defined in @xcite .",
    "the set @xmath489 is called the _ transitive pairwise region _ by saari @xcite , which comprises @xmath497 cones corresponding to each of the @xmath497 permutations on @xmath18 .",
    "it is known that the minimum feedback arc set problem in ( [ k ] ) is np - hard , and therefore , so are the other three . moreover ,",
    "( [ j ] ) provides us with some geometric insights when we view it alongside with , the @xmath0-projection onto gradient flows @xmath510 which we have seen to be a hodge theoretic extension of borda count .",
    "we will illustrate their differences and similarities pictorially via the following example borrowed from saari @xcite .",
    "consider the simplest case of three - item comparison with @xmath511 . for simplicity",
    ", we will assume that @xmath512 and @xmath513 $ ] .",
    "figure [ fig : representcube ] shows the unit cube in @xmath514 .",
    "we will label the coordinates in @xmath514 as @xmath515 $ ] ( instead of the usual @xmath516 $ ] ) .",
    "the shaded plane corresponds to the set where @xmath517 in the unit cube .",
    "note that this set is equal to the model class @xmath60 because of . on the other hand , the transitive pairwise region",
    "@xmath489 consists of the six orthants within the cube with vertices @xmath518,[-1,-1,-1]\\}$ ] .",
    "we will write @xmath519 the hodge theoretic optimization is the @xmath0-projection onto the plane @xmath520 , while by ( [ j ] ) , the kemeny optimization is the @xmath1-projection onto the aforementioned six orthants representing the transitive pairwise region @xmath489 .    in the general setting of social choice theory ,",
    "the following theorem from @xcite characterizes the order relations between the kemeny optimization and the borda count .",
    "[ saari - merlin 2000]the kemeny winner ( the most preferred ) is always strictly above the kemeny loser ( the least preferred ) under the borda count ; similarly the borda winner is always strictly above the borda loser under the kemeny rule .",
    "there is no other constraint in the sense that the two methods may generate arbitrary different total orders except for those constraints .",
    "the kemeny rule has several desirable properties in social choice theory which the borda count lacks @xcite .",
    "the kemeny rule satisfies the condorcet rule , in the sense that if an alternative in @xmath18 wins all pairwise comparisons against other alternatives in @xmath18 , then it must be the overall winner .",
    "a condorcet winner is any alternative @xmath32 such that @xmath521 .",
    "note that the condorcet winner may not exist in general but kemeny or borda winners always exist .",
    "however , if a condorcet winner exists , then it must be the kemeny winner .",
    "on the other hand , borda count can only ensure that the condorcet winner is ranked strictly above the condorcet loser ( least - preferred ) .",
    "another major advantage of the kemeny rule is its consistency in global rankings under the elimination of alternatives in @xmath18 .",
    "the borda count and many other position - based rules fail to meet this condition . in fact , the kemeny rule is the unique rule that meets all three of following : ( 1 ) satisfies the condorcet rule , ( 2 ) consistency under elimination , and ( 3 ) a natural property called neutral ( that we will not discuss here ) .",
    "see @xcite for further details .    despite the many important features that the kemeny rule has , its high computational cost ( np - hard ) makes simpler rules like borda count attractive in practice , especially when there is large number of alternatives to be ranked .",
    "moreover , in cardinal rankings where it is desirable to preserve the magnitude of score differences @xcite and not just the order relation , using the hodge theoretic variant of borda count with model class @xmath60 becomes more relevant than kemeny optimization with model class @xmath478 .    .",
    "the transitive region consists of six orthants whose corresponding vertices belong to @xmath518,[-1,-1,-1]\\}$ ] .",
    "the borda count or @xmath522 is the @xmath0-projection onto the shaded plane while the kemeny optimization or @xmath523 is the @xmath1-projection onto the transitive region.,scaledwidth=50.0% ]",
    "we present three examples of hodge theoretic ranking analysis of real data with the hope that these preliminary results would illustrate some basic ideas of our approach .",
    "the first example is about movie ranking on a subset of netflix data .",
    "we show that ( i ) the use of pairwise ranking together with hodge decomposition reduces temporal drift bias , and ( ii ) the triangular curls provide a metric for characterizing inconsistencies in the ranking data .",
    "the second example illustrates the use of hodge decomposition for finding a universal equivalent or price function ( i.e.  global ranking ) in a currency exchange market where triangular arbitrage - free implies arbitrage - free ( i.e.  harmonic component is @xmath37 ) .",
    "the third example describes how the global ranking component in hodge decomposition may be used to approximate pagerank via reversible markov chains .",
    "the netflix prize dataset contains about @xmath524 movies rated by @xmath525 customers over @xmath526 months from november 1998 to december 2005 .",
    "each customer rated @xmath527 movies on average and around @xmath416 of the ratings are absent from the customer - product matrix .",
    "we do not seek to address the netflix prize problem of ratings prediction here .",
    "instead we take advantage of this rare publicly available dataset and use it to test the rank aggregation capabilities of our method .",
    "we would like to aggregate viewers ratings into a global ranking on movies , and to measure the reliability of such a global ranking .",
    "note that such rank aggregation could be _ personalized _ if one first collects the ratings from viewers who share similar tastes with an individual .",
    "this could then be used for rating prediction if desired which is not pursued here .    for reasons that we will soon explain",
    ", we restrict our selections to movies that received ratings on all of the @xmath526 months .",
    "there are not many such movies  only @xmath528 in all .",
    "several of these have monthly average scores that show substantial upward or downward drifts . in figure",
    "[ fig : movie6 ] , we show the temporal variations in scores of six of these ( numerical indices in the netflix dataset are given in parentheses ) : ` dune ` ( 17064 ) , ` interview with the vampire ` ( 8079 ) , ` october sky ` ( 12473 ) , ` shakespeare in love ` ( 17764 ) , ` the waterboy ` ( 14660 ) , and ` witness ` ( 15057 ) .",
    "such temporal variations make it dubious to rank movies by simply taking average score over all users , as ratings over different time periods may not be comparable under the same scale .",
    "it is perhaps worth noting that understanding the temporal dynamics in the netflix dataset has been a key factor in the approach of bell and koren @xcite .",
    "we will see below that the use of pairwise ranking and hodge decomposition provides an effective method to globally rank the movies and detect any inherent inconsistency and that is furthermore robust under temporal variations .",
    "* formation of pairwise ranking . * : :    since pairwise rankings are relative measures , we expect that they    will reduce the effect of temporal drift .",
    "we employ three of the    statistics described in section  [ exmp : netflix ] to form our pairwise    rankings , using only ratings by the same customer in the same month .",
    "we compute the _ arithmetic mean of score differences _ ,",
    "@xmath529 the    _ geometric mean of score ratios _ ,    @xmath530    and _ binary comparisons _ , @xmath531",
    "since there is nothing to suggest    that a logarithmic scale is relevant , the logarithmic odds ratio gives    rather poor result as expected and we omitted it .",
    "for comparison , we    compute the mean score of each movie over all customers , ignoring the    temporal information .",
    "a reference score is collected independently    from mrqe ( movie review query engine ) ,    the largest online directory of movie reviews on the internet . *",
    "global ranking by hodge decomposition . * : :    we then solve the regression problem in to obtain a projection of    pairwise ranking flows onto gradient flows , given by    theorem  [ thm : l2]([a ] ) . note that in this example , the pairwise ranking    graph is complete with @xmath532 nodes .",
    "table  [ tab : nflix ]    collects the comparisons between different global rankings .",
    "the    reference order of movies is again via the mrqe scores . * inconsistencies and curls . *",
    ": :    since the pairwise ranking graph is complete , its clique complex is a    simplex with @xmath532 vertices and so the harmonic term in    the hodge decomposition is always zero .",
    "hence the residual in    theorem  [ thm : l2 ] is just the curl projection , i.e.  @xmath533 .",
    "we will define two indices of inconsistency to evaluate the results .",
    "the first , called _ cyclicity ratio _",
    ", is a measure of global    inconsistency given by    @xmath534    while the second , called _ relative curl _ , quantifies the local    inconsistency , and is given by the following function of edges and    triangles ,    @xmath535 note that on every    triangle @xmath536 the curl    @xmath537 measures the    total sum of cyclic flow , therefore @xmath538 measures the    magnitude of its induced edge flow relative to the gradient edge flow    of the global ranking @xmath429 .",
    "if @xmath538    has absolute value larger than @xmath38 , then the average    cyclic flow has an effect larger than the global ranking    @xmath429 , which indicates that the global ranking    @xmath429 might be inconsistent on the pair of items .",
    "table  [ tab : nflix ] shows that in terms of cyclicity ratio , the best global ranking is obtained from hodge decomposition of pairwise rankings from binary comparisons , which has the smallest cyclicity ratio , @xmath539 .",
    "this global ranking is quite different from merely taking mean scores and a better predictor of mrqe .",
    "a closer analysis of relative curls allows us to identify the dubious scores .",
    "we will see that the placement of ` witness ` and ` october sky ` according to the global ranking contains significant inconsistency and should not be trusted .",
    "this inconsistency is largely due to the curls in the triangles @xmath540 in fact , there are only two relative curls whose magnitudes exceed @xmath38 ; both occurred on triangles that contain the edge @xmath541 : the relative curl of @xmath542 with respect to @xmath543 is @xmath544 while that of @xmath545 with respect to @xmath543 is @xmath546 .",
    "as we can see from table  [ tab : nflix ] , the inconsistency ( large curl ) manifests itself as _ instability _ in the placement of ` witness ` and ` october sky `  the results vary across different rank aggregation methods with no possibility of consensus . this illustrates the use of curl as a certificate of validity for global ranking .",
    "this example illustrates a globally consistent pairwise ranking on a complete graph using currency exchange data taken from yahoo !  finance . consider a currency exchange market with @xmath18 representing a collection of seven currencies , usd , jpy , eur , cad , gbp , aud , and chf . in this case",
    ", @xmath72 is a complete graph since every two currencies in @xmath18 are exchangeable .",
    "table  [ tab : currency ] shows the exchange rates . by logarithmic",
    "transform the exchange rates can be converted into pairwise rankings as in example  [ exmp : currency ] .",
    "the global ranking is the solution in ( where @xmath547 ) defines an _ universal equivalent _ which measures the ` value '  of each currency .",
    "as the reader can easily check , the logarithmic transform of the data in table  [ tab : currency ] is curl - free ( up to machine precision ) , which in this context means triangular arbitrage - free . in other words",
    ", there is no way one could profit from a cyclic exchange of any three currencies in @xmath18 .",
    "since @xmath74 is a complete graph , the data has no harmonic components ; so hodge decomposition tells us that local consistency must imply global consistency , which in this context means arbitrage - free . in other words",
    ", there is no way one could profit from a cyclic exchange of any number of currencies in @xmath18 either .",
    "we apply hodge theoretic ranking to the problem of web ranking , which we assumed here to mean any static linked objects , not necessarily the world wide web .",
    "as we shall see hodge decomposition provides an alternative to pagerank @xcite and hits @xcite .",
    "in particular , it gives a new way to approximate pagerank and enables us to study the inconsistency or cyclicity in pagerank models .",
    "consider a link matrix @xmath548 where @xmath549 is the number of links from site @xmath32 to @xmath33 .",
    "there are two well - known spectral approach to computing the global rankings of websites from @xmath548 , hits and pagerank .",
    "hits computes the singular value decomposition @xmath550 , where the primary left - singular vector @xmath551 gives the _ hub ranking _ and the primary right - singular vector @xmath552 gives the _ authority ranking _",
    "( both @xmath551 and @xmath552 are nonnegative real - valued by the perron - frobenius theorem ) .",
    "pagerank constructs from @xmath548 a markov chain on the sites given by@xmath553 where @xmath27 is the number of sites and @xmath554 trades - off between markovian link jumps and random surfing .",
    "it is clear that we may define an edge flow via@xmath555 however what property does such a flow capture in pagerank ? to answer this question we will need to recall the notion of a reversible markov chain : an irreducible markov chain with transition matrix @xmath556 and stationary distribution",
    "@xmath557 is _ reversible _ if @xmath558 therefore a reversible markov chain @xmath556 has a pairwise ranking flow induced from a global ranking , @xmath559 where @xmath560 gives the global ranking . as we mentioned in section",
    "[ sec : pairwise ] , @xmath560 may be viewed as defining a _ negative potential _ on webpages if we regard ranking as being directed from a higher potential site to a lower potential site .",
    "this leads to the following interpretation .",
    "let @xmath561 be the best reversible approximate of the pagerank markov chain @xmath556 , in the sense that@xmath562 then the stationary distribution of @xmath561 , denoted by @xmath563 , is a gibbs - boltzmann distribution on webpages with potential @xmath564 , i.e. @xmath565 where @xmath429 is given by the hodge projection of @xmath566 onto the space of gradient flows .",
    "hence the hodge decomposition of edge flow in gives the stationary distribution of a best reversible approximate of the pagerank markov chain .",
    "we may further compute the hodge decomposition of iterated flows , @xmath567 clearly when @xmath568 , the global ranking given by hodge decomposition converges to that given by pagerank .",
    "the benefit of the hodge theoretic approach lies in that ( i ) it provides a way to approximate the pagerank stationary distribution ; and ( ii ) it enables us to study the inconsistency or cyclicity in pagerank markov model .",
    "the cost of computing the global ranking by hodge decomposition in theorem  [ thm : l2]([a ] ) only involves a least squares problem of the graph laplacian , which is less expensive than eigenvector computations in pagerank . for the benefit of readers unfamiliar with numerical linear algebra",
    ", it might be worth pointing out that even the most basic algorithms for linear least squares problems guarantee global convergence in a finite number of steps whereas there are ( a ) no algorithms for eigenvalue problems that would terminate in a finite number of steps as soon as the matrix dimension exceeds @xmath9 ; and ( b ) no algorithms with guaranteed global convergence for arbitrary input matrices .    to illustrate this discussion",
    ", we use the uk universities web link structure dataset .",
    "the dataset contains the number of web links between @xmath569 uk universities in 2002 .",
    "independent of this link structure is a research score for each university , rae 2001 , performed during the 5-yearly research assessment exercise .",
    "the rae scores are widely used in uk for measuring the quality of research in universities .",
    "we used @xmath570 universities by eliminating four that are missing either rae score , in - link , or out - link .",
    "the data has also been used by @xcite recently but for a different purpose .",
    "table [ tab : page ] summarizes the comparisons among nine global rankings : rae 2001 , in - degree , out - degree , hits authority , hits hub , pagerank , hodge rank with @xmath571 , and @xmath9 , respectively .",
    "we then use kendall @xmath471-distance @xcite to count the number of pairwise mismatches between global rankings , normalized by the total number of pairwise comparisons .",
    "we introduced combinatorial hodge theory to statistical ranking methods based on minimizing pairwise ranking errors over a model space . in particular , we proposed a hodge theoretic approach towards determining the global , local , and harmonic ranking components of a dataset of voters scores on alternatives .",
    "the global ranking is learned via an @xmath0-projection of a pairwise ranking edge flow onto the space of gradient flows .",
    "we saw that among other connections to classical social choice theory , the score recovered from this global ranking is a generalization of the well - known borda count to ranking data that is cardinal , imbalanced , and incomplete .",
    "the residual left is the @xmath0-projection onto the space of divergence - free flows .",
    "a subsequent @xmath0-projection of this divergence - free residual onto the space of curl - free flows then yields a harmonic flow .",
    "this decomposition of pairwise ranking data into a global ranking component , a locally cyclic ranking component , and a harmonic ranking component , is called the helmholtz decomposition .",
    "consistency of the ranking data is governed to a large extent by the structure of its pairwise comparison graph ; this is in turn revealed in the helmholtz decomposition associated with the graph helmholtzian , the combinatorial laplacian of the @xmath141-clique complex .",
    "the sparsity structure of a pairwise comparison graph imposes certain constraints on the topology and geometry of its clique complex , which in turn decides the properties of our statistical ranking algorithms .",
    "in addition one may use an @xmath1-approximate sparse cyclic rankings to identify conflicts among voters . the @xmath1-minimization problem for this",
    "has a dual given by correlation maximization over bounded curl - free flows .",
    "on the other hand , the @xmath1-projection on the gradient flows , which we view as a robust variant of the @xmath0-version , has a dual given by correlation maximization over bounded cyclic flows .",
    "k.j .  arrow , `` general economic equilibrium : purpose , analytic techniques , collective choice , '' nobel memorial lecture , december 12 , 1972 , pp .",
    "109131 in : assar lindbeck ( ed . ) , _ nobel lectures : economic sciences 19691980 _ , world scientific , singapore , 1992 .",
    "choi , _ iterative methods for singular linear equations and least - squares problems _ , ph.d .",
    "thesis , stanford university , stanford , ca , 2006 .",
    "( http://www.stanford.edu/group/sol/dissertations/sou-cheng-choi-thesis.pdf )                                              f.  mosteller , `` remarks on the method of paired comparisons : ii .",
    "the effect of an aberrant standard deviation when equal standard deviations and equal correlations are assumed , '' _ psychometrika _ , * 16 * ( 1951 ) , no .  2 , pp .",
    "203206 .",
    "f.  mosteller , `` remarks on the method of paired comparisons : iii .  a test of significance for paired comparisons when equal standard deviations and equal correlations are assumed , '' _ psychometrika _ , * 16 * ( 1951 ) , no .  2 , pp .",
    "207218 .                  a.k .",
    "sen , `` the possibility of social choice , '' nobel lecture , december 8 , 1998 , pp .",
    "178215 in : torsten persson ( ed . ) , _ nobel lectures : economic sciences 19962000 _ , world scientific , singapore , 2003 ."
  ],
  "abstract_text": [
    "<S> we propose a number of techniques for obtaining a global ranking from data that may be incomplete and imbalanced  characteristics that are almost universal to modern datasets coming from e - commerce and internet applications . </S>",
    "<S> we are primarily interested in cardinal data based on scores or ratings though our methods also give specific insights on ordinal data . from raw ranking data , </S>",
    "<S> we construct pairwise rankings , represented as edge flows on an appropriate graph . </S>",
    "<S> our statistical ranking method exploits the graph helmholtzian , which is the graph theoretic analogue of the helmholtz operator or vector laplacian , in much the same way the graph laplacian is an analogue of the laplace operator or scalar laplacian . </S>",
    "<S> we shall study the graph helmholtzian using combinatorial hodge theory , which provides a way to unravel ranking information from edge flows . </S>",
    "<S> in particular , we show that every edge flow representing pairwise ranking can be resolved into two orthogonal components , a gradient flow that represents the @xmath0-optimal global ranking and a divergence - free flow ( cyclic ) that measures the validity of the global ranking obtained  if this is large , then it indicates that the data does not have a good global ranking . </S>",
    "<S> this divergence - free flow can be further decomposed orthogonally into a curl flow ( locally cyclic ) and a harmonic flow ( locally acyclic but globally cyclic ) ; these provides information on whether inconsistency in the ranking data arises locally or globally .    </S>",
    "<S> when applied to statistical ranking problems , hodge decomposition sheds light on whether a given dataset may be globally ranked in a meaningful way or if the data is inherently inconsistent and thus could not have any reasonable global ranking ; in the latter case it provides information on the nature of the inconsistencies . an obvious advantage over the np - hardness of kemeny optimization </S>",
    "<S> is that the discrete hodge decomposition may be easily computed via a linear least squares regression . </S>",
    "<S> we also investigated the @xmath1-projection of edge flows , showing that this has a dual given by correlation maximization over bounded divergence - free flows , and the @xmath1-approximate sparse cyclic ranking , showing that this has a dual given by correlation maximization over bounded curl - free flows . </S>",
    "<S> we discuss connections with well - known ordinal ranking techniques such as kemeny optimization and borda count from social choice theory . </S>"
  ]
}