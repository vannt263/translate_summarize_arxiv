{
  "article_text": [
    "the popularity of video streaming has considerably increased in the last decade .",
    "indeed , recent studies have shown that video streaming is responsible for 25 - 40% of all internet traffic  @xcite .",
    "the two dominant sources for video streaming traffic in north america are netflix and youtube  @xcite .",
    "youtube is also the most popular source of video streaming traffic in europe and latin america  @xcite .    despite this popularity ,",
    "little is known about the strategies used by youtube and netflix to stream their videos .",
    "these strategies might have a fundamental impact on the network traffic .",
    "tcp is used to transport this traffic , but if this traffic is rate controlled by the application , and this rate is lower than the end - to - end available bandwidth , the traffic characteristics will not be the one of a standard tcp flow .",
    "this might have an impact on the network and the traffic coming from other applications .",
    "in addition , most of the streaming sessions are interrupted due to lack of interest  @xcite .",
    "because of this , the streaming strategies may have a significant impact on the network traffic .",
    "indeed , the amount of video downloaded but not watched is an overhead for the network .    in this paper",
    ", we present an in depth network traffic analysis of youtube and netflix .",
    "in particular , we consider the impact of the application ( web browsers and the applications for mobile devices ) , and the container ( flash  @xcite , html5  @xcite , silverlight  @xcite ) , on the characteristics of the traffic between the source and the viewer .",
    "then we present a mathematical model to evaluate the impact of the streaming strategy on the aggregate data rate of video streaming traffic .",
    "our contributions are the following :    1)we identify three different streaming strategies with fundamentally different traffic properties ranging from bulk tcp file transfer to non - ack clocked traffic .",
    "\\2 ) we detail the network traffic characteristics of the three streaming strategies currently used by youtube and netflix .",
    "3)we show that the streaming strategy depends on the application and the container used to stream videos .",
    "therefore , the increased adoption of one could have a significant impact on the network traffic characteristics .",
    "for instance , following a massive adoption of html5 instead of flash , or an increase in the usage of mobile applications .",
    "\\4 ) we derive a mathematical model to evaluate the impact of the streaming strategies on the stochastic properties of the aggregate video streaming traffic .",
    "our model can be used to dimension the network for video streaming . in particular , it sheds light on the importance of the different video streaming parameters for traffic engineering . for example , we show that an increase in the video encoding rates shall produce smoother aggregate video streaming traffic .",
    "we also present the video streaming parameters that can be adapted to minimize the amount of unused bytes on user interruptions due to lack of interest .",
    "the remainder of the paper is organized as follows .",
    "in we provide an overview of video streaming .",
    "we then present the three different streaming strategies we identified in .",
    "we discuss the datasets and measurement techniques in .",
    "we detail the network characteristics of the streaming strategies used by youtube and netflix in . in we",
    "present our model and discuss the potential impact of these streaming strategies on the aggregate video streaming traffic .",
    "we discuss the related work in and present our conclusions in .",
    "video streaming enables viewers to start video playback while the content is being downloaded .",
    "the two dominant sources for video streaming traffic in the internet are netflix and youtube  @xcite .",
    "users can view netflix and youtube videos either on pcs , using a web browser , or on mobile devices , using a web browser or a mobile application .",
    "a mobile application is the native netflix or youtube application running on mobile devices . in this paper , for the mobile devices",
    ", we exclusively consider the native youtube and netflix applications for the ios and android devices .",
    "youtube , one of the most popular sites for user generated videos , supports two containers for video streaming , adobe flash  @xcite and html5  @xcite .",
    "adobe flash , henceforth referred to as flash , is the default container when youtube is accessed via a pc .",
    "users need to install a proprietary plugin for viewing flash videos .",
    "html5 supports videos that do not require any proprietary plugins .",
    "html5 is the default container when youtube videos are streamed using the native mobile application for android and ios .",
    "recently , youtube has started supporting _",
    "high definition _ ( hd ) streaming .",
    "the default container for hd videos is flash .",
    "netflix uses microsoft silverlight  @xcite to stream videos . as of today",
    ", netflix does not support any other containers for video streaming even though netflix is leveraging html5 for streaming . while streaming to a web browser",
    "requires a silverlight plugin , the mobile devices require the native netflix application .    netflix and youtube use tcp to stream videos . during a typical streaming session ,",
    "apart from the video content , the streaming servers send other auxiliary data .",
    "for example , the auxiliary data includes details of related videos and advertisements . in this paper , we restrict ourselves to the tcp connections that are used to transfer the video content .",
    "we are interested in these tcp connections because these connections contribute to the bulk of the traffic generated by video streaming .",
    "in this section , we present the three different streaming strategies that we identified using the experiments described in .",
    "our goal here is to synthesize the main characteristics of those strategies and present some of their advantages and disadvantages .    during a typical streaming session ,",
    "the video content is transferred in two phases : a _ buffering phase _ followed by a _",
    "steady state phase_. during the buffering phase , the data transfer rate is limited by the end - to - end available bandwidth . in",
    ", the slope of the line during the buffering phase is the end - to - end available bandwidth .",
    "the video player begins playback when a sufficient amount of data is available in its buffer .",
    "video playback does not wait for the buffering phase to end .    in the steady state phase ,",
    "the average download rate is slightly larger than video encoding rate .",
    "we call the ratio of the average download rate during the steady state phase and the video encoding rate the _ accumulation ratio_. an accumulation ratio of at least one is desirable because an accumulation ratio lower than one can cause the video playback to interrupt due to empty buffers .",
    "an accumulation ratio larger than one implies that the amount of video content present in the players buffer increases during the steady state phase , which improves the resilience to transient network congestion .",
    "the average download rate in the steady state phase is achieved by periodically transferring one block of video content .",
    "these periodic transfers produce cycles of on - off periods . during each on period ,",
    "a block of data is transferred at the end - to - end available bandwidth that can be used by tcp ; the tcp connection is idle during the off periods .",
    "the slope of the download amount during the on periods in represents the end - to - end available bandwidth .",
    "we call the amount of data transferred in one cycle the _ block size_.    the buffering phase ensures that the player has a sufficient amount of data to compensate for the variance in the end - to - end available bandwidth during video playback",
    ". the reduced transfer rate in the steady state phase ensures that the amount of video content does not overwhelm the video player while keeping the amount of buffered data during the buffering phase constant or increasing .",
    "the reduced data transfer rate is important for mobile devices which may not be able to store the entire video .",
    "we also believe that the reduced rate during the steady state phase reduces the load on the streaming infrastructure .",
    "the reduced load can increase the number of videos that can be streamed in parallel .",
    "we use the existence of the steady state phase and the technique used to throttle the data transfer rate in the steady state phase to identify the underlying streaming strategy .",
    "we observe the following three streaming strategies for netflix and youtube videos .",
    "\\1 ) _ no on - off cycles_. for this streaming strategy , all data is transferred during the buffering phase . as a consequence , we do not observe a steady state phase for this streaming strategy .",
    "an advantage of this strategy is that it requires no complex engineering at the server and the client .",
    "the video streaming session can be considered as a simple file transfer session .",
    "one disadvantage of this strategy is that it can overwhelm the player and cause a large amount of unused bytes if users interrupt the video playback .",
    "\\2 ) _ short on - off cycles_. we define this streaming strategy as the periodic transfer of blocks of size less than 2.5  mb ( called an on period ) followed by an idle period ( called the off period ) .",
    "the goal of this streaming strategy is to maintain an accumulation ratio which is slightly larger than one .",
    "this is achieved by a periodic transfer of a block of data followed by an off period .",
    "an off period is observed only when the average data transfer rate is smaller than the end - to - end available bandwidth .",
    "we do not observe off periods , and short on - off cycles , when the end - to - end available bandwidth is less than or equal to the average data transfer rate .",
    "this strategy ensures that the client is not overwhelmed by the amount of data sent by the server .",
    "\\3 ) _ long on - off cycles_. this streaming strategy produces a traffic pattern that resembles the periodic execution of buffering phases following long idle periods . the primary difference between this strategy and the strategy of short on - off cycles",
    "is the amount of data transferred in a cycle . the amount of data transferred during the on periods for this strategy is larger than 2.5  mb . for a given average rate during the steady state phase ,",
    "the cycle duration for the strategy of long on - off cycles is longer than the cycle duration for the strategy of short on - off cycles .",
    "this streaming strategy is a hybrid of the no on - off cycles and short on - off cycles streaming strategies .",
    "we now present the six datasets used in our measurements and the technique used to capture the tcp packets while streaming the videos in each dataset .",
    "we first created four datasets of youtube videos and two datasets of netflix videos .",
    "the _ youflash _ , _ youhtml _ , _ youhd _ , and _ youmob _ dataset contain youtube videos while the _ netpc _ and the _ netmob _ dataset contain netflix videos .    for the _ youflash _ , _ youhd _ , _ youhtml _ , and _ youmob _ dataset , we respectively searched for flash videos , hd videos , html5 videos , and videos that can be played by the native ios and android application .",
    "the _ youflash _ and _ youhd _ datasets respectively contain randomly selected 5000 flash videos and 2000 hd videos .",
    "the _ youhtml _ dataset contains 2500 videos from the _ youflash _ dataset and 500 videos from the _ youhd _ dataset ; these videos can be played using the html5 player . for the _ youmob _ dataset",
    ", we searched for videos using the native youtube application on an ipad .    the videos in the _ youflash _ and _ youhd _ datasets have encoding rates from 0.2  mbps to 1.5  mbps , and 0.2  mbps to 4.8  mbps respectively .",
    "the videos in the _ youflash _ dataset have a default resolution of either 240p or 360p while videos in the _ youhd _ dataset have a default resolution of 720p .",
    "the videos in the _ youflash _ and _ youhd _ dataset are streamed using flash as the default container . the encoding rate of videos in the _ youhtml _ and _ youmob _ dataset is from 0.2  mbps to 2.5  mbps , 0.2  mbps to 2.7  mbps respectively . when using the html5 container to stream videos to pcs",
    ", youtube uses 360p as the default resolution ; users need to manually switch to a higher resolution such as 720p for viewing the video in hd .",
    "as it is currently not possible to view hd videos using html5 on pcs without manual intervention , we believe that the fraction of users viewing hd videos using html5 on pcs will be small . in this paper , for pcs",
    ", we restrict our study to flash videos played at the default resolution , hd videos streamed using flash , and html5 videos streamed at the default resolution of 360p .",
    "we use the default setting because finamore  _ et  al . _",
    "@xcite observed that users use the default player configuration while streaming youtube videos .",
    "we henceforth refer to videos in the _ youflash _ dataset as flash videos , videos in the _ youhd _ dataset as hd videos , and videos in the _ youhtml _ dataset as html5 videos .    for netflix datasets , we collected the list of 11208 videos available for watching instantly as of 20-may-2011",
    ". then , we randomly selected 200 videos from this list for the _ netpc _ dataset .",
    "for the _ netmob _ dataset we randomly selected 50 videos from _",
    "netpc _ dataset .",
    "we now present the list of software tools used for our measurements .",
    "we used internet explorer 9  @xcite , mozilla firefox 4.0  @xcite , and google chrome 10.0  @xcite ( henceforth referred to as chrome ) for streaming videos on pcs .",
    "these three browsers have a combined usage share of more than 80%  @xcite . for flash videos",
    ", we installed the flash plugin 10.2 in each of these browsers .",
    "for netflix videos , we installed microsoft silverlight 4.0.60310 .",
    "for html5 videos , we installed the webm codec in internet explorer as youtube uses webm  @xcite as the default codec used for html5 videos .",
    "firefox and chrome have a built - in support from webm .",
    "we used tcpdump  @xcite on linux and windump  @xcite on windows to capture the packets exchanged between the web browser and the streaming servers . to study the streaming strategies used for mobile applications",
    ", we used an android ( version 2.2 ) smart - phone and an ipad ( ios version 4.2.1 ) .",
    "we used the native youtube and netflix applications , developed by youtube and netflix respectively for these mobile devices .",
    "we captured the packets exchanged during video streaming in the following manner . when a pc was used for streaming videos , we serially iterated through the list of videos in each dataset and performed the following steps for each video .",
    "we first started tcpdump , or windump depending on the operating system , to capture the packets exchanged .",
    "we then started a web browser and loaded the url of a video on the same machine to start the video streaming session .",
    "we stopped the streaming session and the packet capture after 180 seconds . for native mobile applications we first started the packet capture on a machine that can access the packets exchanged between the mobile application and the streaming server .",
    "we then started the video streaming .",
    "we stopped the packet capture and streaming after 180 seconds .",
    "we performed our measurements from the following four locations .",
    "\\1 ) a 100 mbps wired connection connected to the internet through a 500 mbps link .",
    "we refer to this network as the _ research network _ in the rest of the paper .",
    "\\2 ) a 54 mbps wi - fi connection behind a adsl router with typical download rate of 7.7 mbps and an upload rate of 1.2 mbps .",
    "this network is referred to as the _ residence network _ in the rest of the paper .",
    "\\3 ) a 100  mbps wired connection connected to the internet through a 1  gbps link .",
    "we refer to this network as the _ academic network _ in the rest of the paper .",
    "\\4 ) a 100mbps wired connection behind a cable modem connected to the comcast isp ; we observe a typical download rate of 20mbps and an upload rate of 3mbps in this network .",
    "we refer to this network as the _ home network _ in the rest of the paper .",
    "the research and the residence networks are based in france , while the academic and the home networks are based in the united states of america .",
    "the youtube measurements were carried out from each of these four locations .",
    "the netflix measurements were carried out only in the academic and home networks because netflix currently does not stream videos to france .",
    "for the native mobile applications , the youtube measurements were carried out in the _ research _",
    "network by using a 54  mbps wi - fi connection ; the netflix measurements were carried out using a 54  mbps wi - fi connection in the _ academic _ network .",
    "the youtube measurements were carried out from 01-feb-2011 to 30-may-2011 .",
    "the netflix measurements were carried out from 20-may-2011 to 14-jun-2011 .",
    "the goal of this section is to present an in depth analysis of youtube and netflix traffic and to show that the video streaming traffic generated by youtube and netflix can be classified in the three streaming strategies discussed in .     container & flash & html5 & flash hd & silverlight internet explorer & short & short & no & short mozilla firefox & short & no & no & short google chrome & short & long & no & short ios ( native ) & [ 4]0.18not applica - ble & multiple & [ 4]0.18not applica - ble & short android ( native ) & & long & & long    summarizes our finding on the strategies used to stream netflix and youtube videos .",
    "while using the flash container , we observed that the applications do not throttle the rate of data transfer ; rate control if any is performed by the youtube servers .",
    "therefore , in , the streaming strategy is independent of the application used for flash videos and hd videos . for html5 videos",
    ", we observed that the youtube servers do not explicitly control the data transfer rate . because , the applications use their own techniques to throttle the data transfer rate , we observe that the streaming strategies for html5 videos depend on the application used .",
    "we observed that netflix uses short on - off cycles for streaming videos to pcs irrespective of the web browser .",
    "however , the streaming strategies differ for the native mobile applications ; we observe short on - off cycles for ipad and long on - off cycles for android .    to characterize the traffic we use three different metrics : the amount downloaded during the buffering phase , the blocks size , and the accumulation ratio . to compute the accumulation ratio",
    "we need the encoding rate of the videos . for videos using the flash container ,",
    "we obtain the video encoding rate from the header of the video file being streamed . for html5 videos , youtube uses webm as the default codec . during our measurements , we were unable to determine the encoding rate of html5 videos because we observed an invalid entry for the frame rate in the header of the webm files",
    ". therefore , we estimate the encoding rate of html5 videos by dividing the content - length present in the http response by the duration of the video . for netflix videos , we do not use the accumulation ratio because the encoding rate used by netflix depends on the end - to - end available bandwidth  @xcite .    in this section",
    ", we first detail the streaming strategies used by youtube and netflix in and respectively .",
    "we then discuss the implications of these strategies in .",
    "we now detail the buffering phase and the steady state phase of the three streaming strategies used by youtube .",
    "we observe short on - off cycles for flash videos regardless of the browser used , and for html5 videos when internet explorer is used .    in , we present a representative trace observed while streaming one flash video and one html5 video ; the videos were streamed using internet explorer ( ie ) in the research network . for both the videos , in",
    ", we observe a buffering phase followed by a steady state phase . during the steady state phase the download amount increments in short steps .",
    "we present the evolution of the tcp receive window for the two streaming sessions in . in this figure",
    "we observe that the tcp receive window periodically becomes empty when streaming the html5 video .",
    "this implies that internet explorer throttles the download rate of the html5 video by periodically pulling data from the tcp buffers . in",
    ", we do not observe such explicit rate control by internet explorer when streaming the flash video .",
    "this implies that , for the flash video , the youtube servers throttle the rate of data transfer by periodically pushing the video content .",
    "we observe this behavior for flash videos regardless of the browser .",
    "we do not present the supporting figures due to space constraints .",
    "we now detail the buffering phase and the steady state phase when youtube videos are streamed using the strategy of short on - off cycles .",
    "we use the videos in the _ youflash _ and _ youhtml _ dataset for these measurements .",
    "+    * i ) buffering phase . * in we observe that for most of the videos in the _ youflash _ dataset , youtube sends approximately 40  seconds worth of playback data during the buffering phase . the playback time is calculated by dividing the amount downloaded during the buffering phase by the video encoding rate .",
    "we present the cumulative distribution ( cdf ) of the playback time in .",
    "the steep slope for the distribution of the playback time is because of the strong correlation ( correlation coefficient = 0.85 ) between the video encoding rate and the amount downloaded during the buffering phase .    for the residence and the academic networks , in",
    ", we observe a smaller amount of buffering .",
    "the smaller amount could be an artifact of our technique used to measure the amount downloaded during the buffering phase ; we consider the start time of the first off period as the end of the buffering phase .",
    "this technique is sensitive to packet losses and we observed higher packet retransmissions , median of 1.02% and 0.76% respectively , in the residence network and the academic network .    for html5 videos ,",
    "in we observe that the amount of data downloaded during the buffering phase is not strongly correlated to the video encoding rate ( correlation coefficient = 0.41 ) .",
    "the results presented in are for the research network .",
    "we make similar observations for other networks .    in summary , we observe that the youtube servers push 40  seconds of playback data during the buffering phase for flash videos . for html5 videos ,",
    "internet explorer typically downloads from 10  mb to 15  mb during the buffering phase .",
    "therefore , the buffering phase for html5 videos streamed to internet explorer can be more aggressive .",
    "for example , for a video encoding rate of 1  mbps , 10  mb corresponds to 80  seconds of playback time .",
    "[ sec : shortonoffsteady ]    * ii ) steady state phase .",
    "* we now show that youtube servers periodically transfer 64 kb blocks during the steady state phase to attain an accumulation ratio of 1.25 for flash videos . in we",
    "present the distribution of the block sizes observed while streaming videos in the _ youflash _ dataset ; we observe that 64  kb is the dominant block size in each network .",
    "the smaller block sizes observed in the residence and academic networks are because of packet losses that cause tcp retransmission timeouts .",
    "we observe block sizes larger than 64  kb when retransmissions due to packet losses merge multiple short on - off cycles to form a larger on - off cycle . in",
    "we observe an accumulation ratio of approximately 1.25 for the majority of the streaming sessions in each network .    for html5 on internet explorer ,",
    "in we observe that 256 kb is the dominant block size in each network . as in the case of flash videos ,",
    "packet losses cause the block sizes to increase or decrease when internet explorer is used to stream html5 videos . in",
    "we present the distribution of the accumulation ratio when internet explorer is used to stream html5 videos . in this figure",
    ", we observe a wide range of accumulation ratios .",
    "we believe this wide range is an artifact of our technique , or the technique used by the media player , to determine the encoding rate of html5 videos . the mean and median accumulation ratio across all the measurements presented in is 1.06 and 1.04 respectively .    in summary ,",
    "flash videos , and html5 videos on internet explorer , use short on - off cycles .",
    "the dominant block size for flash videos is 64  kb and it is 256  kb for html5 on internet explorer .      in",
    "we present a representative trace for the long on - off cycles .",
    "we observe off periods in the order of 60 seconds during this measurement which was carried out in the research network using the chrome browser .",
    "we observe that the tcp receive window periodically becomes empty in .",
    "this shows that chrome throttles the data transfer rate by periodically pulling large blocks of data resulting in long on - off cycles .",
    "we make similar observations when html5 videos are streamed using the native youtube application for android devices .",
    "we now present our observations on the buffering phase and the steady state phase when long on - off cycles are used to stream youtube videos ; we used the videos in the _ youhtml _ and _ youmob _ dataset for our measurements .",
    "* i ) buffering phase . * during our measurements we observed that the amount downloaded during the buffering phase by chrome and android is independent of the video encoding rate . in each network",
    ", we observe a scatter plot similar to the one presented for internet explorer in .",
    "we do not present these figures due to lack of space .",
    "we observe that while chrome typically downloads between 10  mb and 15  mb during the buffering phase , the native youtube application for android downloads from 4  mb to 8  mb during the buffering phase .    *",
    "ii ) steady state phase . * in we present the distribution of the block sizes when long on - off cycles were observed when streaming youtube videos . in this figure we observe block sizes larger than 2.5  mb for most of the streaming sessions ;",
    "the measurements carried out in the research network using chrome and android are presented as _ rsrch .",
    "( cr ) _ , and _ rsrch .",
    "_ , respectively in .",
    "we observe a mean and median accumulation ratio of 1.34 and 1.29 for chrome , and 1.24 and 1.15 for android in the research networks .",
    "we do not present these results because we observe a wide range of accumulation ratios .",
    "we believe this wide range to be an artifact of our estimation process of the video encoding rate .    in summary , chrome and android",
    "periodically pull blocks that have a size larger than 2.5  mb to throttle the download rate in the steady state phase .",
    "we now use two videos from the _ youmob _ dataset to show that ipad uses more than one strategy for streaming youtube videos ; we call these two videos video1 and video2 .    for video1 , in",
    ", we observe periodic buffering followed by short on - off cycles .",
    "further , we observe that 37 different tcp connections were successively used for the data transfer in the first 60 seconds . for each connection ,",
    "the http get request contained the range of data requested for a given connection .",
    "the amount of data transferred in each tcp connection varied from 64  kb to 8  mb . in comparison , for video2 ,",
    "we observe short on - off cycles in ; only one tcp connection was used to transfer the video contents .",
    "+    in we observe that the block size used during a streaming session depends on the video encoding rate .",
    "a given youtube video may be available in multiple resolutions and the native youtube application chooses a resolution according to available network and device capabilities  @xcite .",
    "this implies that streaming strategies for mobile devices with large screens such as the ipad may depend on end - to - end available bandwidth .",
    "the measurements presented in were carried out in the research network which has sufficient bandwidth for streaming high resolution videos .    in summary , we observe that the streaming strategy depends on the encoding rate , and the end - to - end available bandwidth , for an ipad .",
    "we observe the streaming strategy of no on - off cycles when neither the server nor the client limit the rate of data transfer .",
    "the whole video is downloaded during the buffering phase ; such video streaming sessions do not contain a steady state phase .",
    "this streaming strategy is observed for the following two cases : html5 videos on firefox , and for flash hd videos .    in",
    "we observe that the download rate for hd videos is not correlated to the encoding rate .",
    "we make a similar observation for html5 videos on firefox .",
    "the measurements presented in were carried out in the research network .",
    "we made similar observations for the other networks used in our measurements . to ensure that this behavior is not due to a large buffering phase , we selected 50 hd videos and 50 html5 videos from the _ youhd _ and _ youhtml _ dataset that have a duration larger than 1200 seconds .",
    "for each of these videos , we did not observe a steady state phase during the entire streaming session .",
    "tcp is an ack - clocked protocol  @xcite .",
    "the ack clock enables the tcp source to estimate the end - to - end available bandwidth before sending a packet .",
    "this estimate is used to determine the size of the tcp congestion window .",
    "allman  _ et  al . _",
    "@xcite suggest that the tcp congestion window be reset after idle periods in the order of a retransmission timeout .",
    "this reset ensures that the tcp source does not overwhelm the network without probing the end - to - end available bandwidth .    in",
    "we present the distribution of the amount of data received during the first round - trip time of the on periods in the research network .",
    "this amount is a conservative estimate of the tcp congestion window at the beginning of an on period . for short on - off cycles we observed off periods of duration between 0.2  seconds to 5  seconds while for the long on - off cycles we observed off periods up to 80  seconds long . in",
    "we observe that the congestion window is not reset after the off periods .",
    "for example , for flash videos , we observe that the entire block of 64  kb is sent without probing the end - to - end available bandwidth .",
    "the curves in represent the minimum of the tcp congestion window and the block size used during the steady state phase . because the block size depends on the streaming strategy , and thus the application",
    ", we observe different curves for each application in .",
    "this observation is important as the absence of an ack - clock can increase the loss rate in the networks .",
    "+    we now use one video from the _ netpc _ dataset and one video from the _ netmob _ dataset to provide an overview of the strategies used to stream netflix videos .",
    "presents the evolution of the download amount for the first 100 seconds from the beginning of video download . in",
    "we observe short on - off cycles when web browsers and the native application for the ipad is used to stream the netflix videos . in , we observe long on - off cycles when netflix videos are viewed using the native mobile application for android .",
    "the measurements presented in were carried out in the academic network .",
    "we now use the videos in _",
    "netpc _ and _ netmob _ dataset to study the buffering and steady state phases .       +    in , we observe that the amount downloaded during the buffering phase depends on the application , web browser ( for pcs ) or the native mobile application .",
    "in , for pcs we observe download amounts in the order of 50  mb ; however , for the native ipad application we observe download amounts in the order of 10  mb .",
    "we now present a possible reason for this behavior .",
    "each netflix video is available in different encoding rates .",
    "akhshabi  _ et  al . _",
    "@xcite show that when a netflix streaming session begins , the video fragments of all the available encoding rates are downloaded during the buffering phase . we hypothesize that the encoding rates for an ipad may be selected from a subset of available encoding rates . in",
    "we observe that the amount of data downloaded during the buffering phase by the native android application is in the order of 40  mb .",
    "this is significantly larger than what we observe for the native ipad application .       +    in and we observe that the block sizes used to stream netflix videos depend on the application , web browser or the native mobile application .",
    "for example , we observe large blocks when netflix videos are streamed using the native android application .",
    "these large blocks produce long on - off cycles such as those observed in . for the strategy of short on - off cycles , we observe that the majority of the blocks have a size smaller than 2.5  mb .",
    "these blocks are however slightly larger than the 64  kb and 256  kb blocks we observed when short on - off cycles were used to stream youtube videos .    during our measurements we observed that netflix uses a large number of tcp connections to transfer the video contents to pcs and the ipad .",
    "we are currently not able to speculate the reasons for this behavior .",
    "we observed ack - clocks when a new connection was used to send a block of data ; we did not observe ack - clocks when a connection was used to send more than one block .",
    "we observe ack clocks when netflix videos are streamed using the native mobile application for android .",
    "we have not presented these results due to lack of space .",
    "& short on - off engineering complexity & not required & receive buffer occupancy & large & moderate & small unused bytes on user interruption & large amount & moderate amount & small amount    in this section we detail the network characteristics of youtube and netflix traffic and show that strategies used to stream youtube and netflix videos depend on the application and the container . for the flash container ,",
    "we observe the streaming strategy is independent of the application used .",
    "this is because the applications do not control the data transfer rate ; rate control , if any , is performed by the youtube servers .",
    "however the youtube servers do not limit the data transfer rate when streaming html5 videos ; each application uses its own strategy to stream html5 videos .",
    "we therefore observe a wide range of patterns for the buffering phase and the steady state phase for html5 videos .",
    "when netflix videos are streamed to web browsers we observe the same streaming strategy regardless of the of the web browser .",
    "however , the strategy is different for the native mobile application for the android device and the ios device .    in",
    "we summarize the difference between the three streaming strategies .    of the three streaming strategies we identified ,",
    "the streaming strategies of no on - off cycles is a tcp file transfer .",
    "therefore , we believe that this strategy requires no complex engineering at the application layer .",
    "the other two streaming strategies , short on - off cycles and long on - off cycles , explicitly restrict the data transfer rate at the application layer .",
    "we therefore believe that engineering is required at the application layer for the strategies of short on - off cycles and long on - off cycles .",
    "the strategies of short on - off cycles and long on - off cycles achieve their goals by restricting the amount downloaded during the buffering phase followed by restricting the data transfer rate according to a desired accumulation ratio .",
    "a small accumulation ratio and buffering amount is desirable because it reduces the amount of unused bytes in the buffers of the players .",
    "this is also important for mobile devices that may have storage constraints .",
    "the amount of unused bytes is also important because recent studies have shown that users tend to interrupt the video download due to lack of interest @xcite .",
    "the strategies of short on - off cycles and long on - off cycles limit the data transfer rate at the application layer .",
    "we show that the traffic characteristics while using these strategies might not be the one of a standard tcp flow .",
    "for example , we show the absence of ack - clocks in the tcp connections used to stream netflix and youtube videos .",
    "we can therefore conclude that migration from one application to another , or from one container to another , can impact the aggregate video streaming traffic .",
    "for example , migration from flash to html5 , and increase in the usage of mobile devices are two possibilities that can not be ruled out .",
    "we present a mathematical model to study this impact in the following section .",
    "in and , we show that the application and the container determine the strategy to stream videos . in this section",
    ", we present a mathematical model to express the stochastic properties of the aggregate video streaming traffic as a function of the video parameters .",
    "our model can be used to dimension the network and quantify the impact of migrating from one strategy to another .",
    "we first develop our model for the case of users that do not interrupt the video download .",
    "we then study the impact of user interruption due to lack of interest on the accumulation ratio and the amount of data downloaded in the buffering phase .",
    "we then quantify the amount of bandwidth wasted when users interrupt the video download due to lack of interest .    for our model , we assume that the video streaming sessions arrive according to a homogeneous poisson process with rate @xmath0 .",
    "we use the measurements performed by yu  _ et  al . _",
    "@xcite for the poisson assumption of the arrival rate .",
    "let @xmath1 , @xmath2 , denote the arrival time of the @xmath3-th video .",
    "we assume that @xmath4th video is streamed at a fixed encoding rate , @xmath5 , and has a fixed duration ( length ) , @xmath6 ; the size of the @xmath3-th video is @xmath7 .",
    "we also assume that the network is over provisioned : the end - to - end available bandwidth is larger than the video encoding rate for each video streaming session .",
    "this hypothesis is validated by our measurements presented in . indeed , for the videos in _",
    "dataset we observed an accumulation ratio larger than one , which implies that the download rate , and hence the end - to - end available bandwidth , is larger than the video encoding rate .",
    "we now model the aggregate data rate of video streaming traffic when users do not interrupt the video download .",
    "we first examine the strategy of no on - off cycles where the whole video is downloaded at the end - to - end available bandwidth .",
    "we assume the time required to download the @xmath3-th video is @xmath8 . for the @xmath3-th video , the video download is _ active _ at time @xmath9 when @xmath10 .",
    "let @xmath11 denote the download rate of the @xmath3-th video at time @xmath9 ; @xmath12 when @xmath13 and @xmath14 .",
    "let @xmath15 denote the aggregate data rate of the video streaming traffic at time @xmath9 .    according to barakat  _ et  al . _",
    "@xcite , the mean and variance of the aggregate data rate are : @xmath16 = \\lambda \\mathds{e}[s_n ] , \\label{eqn : meanpaper}\\\\ & v_r = \\mathds{e}[r^{2}(t ) ] - ( \\mathds{e}[r(t)])^{2}= \\lambda \\mathds{e}[\\int_{0}^{d_n}x_{n}^{2}(u)du],\\label{eqn : varpaper}\\end{aligned}\\ ] ] respectively    when the download rate of the @xmath3-th video is a constant @xmath17 , substituting @xmath18 , @xmath19 , and @xmath20 for @xmath21 , in equations  [ eqn : meanpaper ] and [ eqn : varpaper ] yields : @xmath22 & = & \\lambda \\mathds{e}[e_n]\\mathds{e}[l_n ] , \\label{eqn : meannoonoff}\\\\ v_{r}&= & \\lambda \\mathds{e}[e_n]\\mathds{e}[l_n]\\mathds{e}[g_n ] .",
    "\\label{eqn : varnoonoff}\\end{aligned}\\ ] ] equations  [ eqn : meannoonoff ] and [ eqn : varnoonoff ] give the mean and variance of the aggregate data rate of video streaming traffic when the strategy of no on - off cycles is used to stream videos .",
    "we now show that when users do not interrupt the video download , _ the mean and variance of the data rate are independent of the streaming strategy used_. let @xmath23 denote the time required to download the video when the video contents are downloaded using either the short on - off cycles or the long on - off cycles streaming strategy . for the @xmath3-th video ,",
    "the download rate is @xmath17 during the on periods and 0 in the off periods . if the download rate does not change during the data transfer , then @xmath24 , which leads to the same variance as in . using the same argument and the framework in barakat  _ et  al . _",
    "@xcite , one can extend this result to higher moments of the aggregate traffic .",
    "therefore , when users do not interrupt the video downloads , we conclude the following :    1 .   equations [ eqn : meannoonoff ] and [ eqn : varnoonoff ] can be used to dimension the network for video streaming .",
    "a simple rule would be to set the bitrate of links carrying video streaming traffic to @xmath25 + \\alpha \\sqrt{v_r}$ ] , where @xmath26 is a constraint on the tolerable bandwidth violations .",
    "2 .   the mean and variance of the aggregate data rate of video streaming traffic are independent of the underlying streaming strategies used , and hence the required bandwidth .",
    "this is important as video services , where the users are expected to view the whole video and not interrupt the video download , can safely select a streaming strategy that can be optimized for other goals such as server load without overwhelming the network .",
    "an increase in the video encoding rate , for example when youtube increases the default video resolution , shall increase the aggregate rate of video traffic .",
    "however , because the variance is a _ linear _ function of the video encoding rate , the aggregate traffic shall be _ smoother _ than the aggregate traffic observed at lower encoding rates .",
    "@xmath0 & arrival rate of videos streaming sessions . + @xmath3 & number of videos .",
    "+ @xmath5 & encoding rate of the @xmath3-th video .",
    "+ @xmath6 & duration ( or length ) of the @xmath3-th video .",
    "+ @xmath27 & buffering amount for the @xmath3-th video .",
    "+ @xmath28 & buffering amount for the @xmath3-th video in terms of playback time . + @xmath29 & size of the @xmath3-th video @xmath7 .",
    "+ @xmath30 & the accumulation ratio for the @xmath3-th video .",
    "+ @xmath31 & users interrupt the @xmath3-th video after time @xmath32 .",
    "+ @xmath15 & aggregate data rate of streaming traffic at time @xmath9 .",
    "+ @xmath33 & aggregate amount of bandwidth wasted at time @xmath9 when users interrupt video download due to lack of interest .",
    "+      users can interrupt a streaming session due to various reasons such as poor playback quality or lack of interest in the given video .",
    "when a user interrupts the video download due to lack of interest , the data downloaded but not used by the player is wasted .",
    "the wastage of network resources can be quantified using the amount of unused bytes .",
    "the amount of unused bytes due to lack of interest is important because gill  _ et  al . _",
    "@xcite observe that 80% of the video interruptions in a campus network are due to lack of user interest .",
    "according to finamore  _ et  al . _",
    "@xcite , 60% of the youtube videos are watched for less than 20% of their durations",
    ". similarly , huang  _ et  al . _",
    "@xcite show that viewing time decreases as the duration of the video increases .",
    "we now present the impact of the buffering amount and the accumulation ratio on the amount of unused bytes .",
    "we assume that the user interrupts the download of the @xmath3-th video after time @xmath34 from the start of the video playback .",
    "we further assume that the amount downloaded in the buffering phase is @xmath27 , @xmath35 , and the time required for downloading this amount is negligible . if @xmath17 is the average download rate in the steady state phase , then the amount of data that can be downloaded up to time @xmath34 is @xmath36 .",
    "we keep denoting the encoding rate and duration of the @xmath3-th video as @xmath5 and @xmath6 respectively .",
    "thus , the interruption of the @xmath3-th video shall take place before the whole video has been downloaded only if @xmath37    we now assume the download rate of the @xmath3-th video is limited by the accumulation ratio @xmath38 , @xmath39 .",
    "we also assume that @xmath40 , where @xmath31 , @xmath41 , is the fraction of the @xmath3-th video watched before interruption .",
    "can now be written as @xmath42    when @xmath43 , where @xmath28 is the amount of playback time buffered in the buffering phase , the left hand side of can be written as @xmath44 in we observed a buffering of 40  seconds worth of playback , and an accumulation ratio of 1.25 for flash videos . when a user interrupts the video download after watching 20% of the video , substituting @xmath45 seconds , @xmath46 , and @xmath47 yields @xmath48 seconds .",
    "this implies that , assuming a fast buffering , youtube flash videos that have a duration smaller than @xmath49 seconds will be downloaded before the viewers have seen @xmath50 of the video .",
    "we now use the amount of unused bytes to obtain the average bandwidth wasted due to user interruption .",
    "when the @xmath3-th user interrupts the video download at time @xmath34 , then the amount of bytes downloaded is @xmath51 .",
    "the total amount of bytes consumed by the player up to time @xmath34 is @xmath52 .",
    "therefore , the amount of unused bytes is @xmath53 , and the average bandwidth wasted is given by @xmath54 = \\lambda\\mathds{e}[min(b_n+g_n\\tau_n , e_nl_n ) -e_n\\tau_n ] .",
    "\\label{eqn : meanuserintwasted}\\ ] ] when the accumulation ratio of the @xmath3-th video is @xmath30 and the user interrupts the video after viewing @xmath31 fraction of the video , then substituting @xmath55 in yields @xmath54 = \\lambda \\mathds{e}[e_n]\\mathds{e}[min(b'_n + k_n\\beta_nl_n , l_n ) - \\beta_nl_n ] .",
    "\\label{eqn : meanuserintwastedaccbeta}\\ ] ]    in summary , provides a condition to limit the amount of unused bytes when users interrupt the video download due to lack of interest .",
    "equations [ eqn : meanuserintwasted ] and [ eqn : meanuserintwastedaccbeta ] can be used to compute the amount of bandwidth wasted due to user interruptions .",
    "maier  _ et  al . _",
    "@xcite , and labovitz  _ et  al . _",
    "@xcite , show that video streaming contributes to 25 - 40% of all http traffic . due to its growing popularity ,",
    "video streaming has received considerable attention in the last few years .",
    "a significant amount of research has been on the video contents characterization on youtube and on viewing patterns on youtube .",
    "cha  _ et  al . _",
    "@xcite study the popularity of videos and propose caching techniques to enhance the user experience .",
    "zink  _ et  al . _",
    "@xcite study the viewing patterns in a campus network and suggest proxy caches for enhancing the user experience and reducing the network traffic .",
    "gill  _ et  al . _",
    "@xcite study the viewing patterns in a campus network and show that 80% of user interrupts in their campus were due to lack of user interest .",
    "similarly , finamore  _ et  al . _",
    "@xcite show that 60% of the youtube videos are watched for less than 20% of their duration .",
    "these works are orthogonal to ours .",
    "indeed , we focus on the network traffic characterization of youtube and netflix , not on the content characterization .",
    "plissonneau  _ et  al . _",
    "@xcite , saxena  _ et  al . _",
    "@xcite , and alcock  _ et  al . _",
    "@xcite observe rate limitations on youtube traffic .",
    "they do not identify the streaming strategies discussed in our paper .",
    "akhshabi  _ et  al . _",
    "@xcite only observed a rate limitation in the steady state phase for netflix .",
    "saxena  _ et  al . _",
    "@xcite show that the youtube videos streamed using the servers of google have a buffering phase , whereas the legacy servers of youtube do not show this buffering phase .",
    "alcock  @xcite only characterized the strategy for short on - off cycles for flash videos on youtube .    to the best of our knowledge , we are the first to identify and characterize the three streaming strategies used by youtube and netflix . moreover",
    ", we derive a mathematical model to study the aggregate traffic due to video streaming .",
    "therefore , our work enhances significantly previous knowledge on video streaming .",
    "in this paper , we present an in depth traffic characterization of netflix and youtube .",
    "we identify three different streaming strategies with fundamentally different traffic properties .",
    "we show that netflix and youtube adapt the streaming strategy depending on the application and the container used .",
    "this is a concern as it means that a sudden change of application or container in a large population might have a significant impact on the network traffic .",
    "considering the very fast changes in trends this is a real possibility , the most likely being a change from flash to html5 along with an increase in the use of mobile devices .",
    "we derive a model for the aggregate traffic generated by the different streaming strategies .",
    "we use this model to show that streaming videos at high resolutions can result in smoother aggregate traffic while at the same time linearly increase the aggregate data rate due to video streaming .",
    "we also show how the amount buffered and the accumulation ratio can be adapted considering the user interruptions due to lack of interest .",
    "however , we did not consider the impact of the three different streaming strategies on the network loss rate .",
    "we believe that it will have less impact than the wasted bandwidth due to lack of users interest that we studied in this paper .",
    "it is anyway a possible area of improvement .",
    "the research leading to these results has received funding from the the french national research agency ( anr ) - connect project ( www.anr-connect.org ) .",
    "this work was supported by the aro under grant muri w911nf-08 - 1 - 0233 . the views and conclusions contained in this document",
    "are those of the authors and should not be interpreted as representing the official policies , either expressed or implied of the aro ."
  ],
  "abstract_text": [
    "<S> video streaming represents a large fraction of internet traffic . surprisingly , little </S>",
    "<S> is known about the network characteristics of this traffic . in this paper , we study the network characteristics of the two most popular video streaming services , netflix and youtube . </S>",
    "<S> we show that the streaming strategies vary with the type of the application ( web browser or native mobile application ) , and the type of container ( silverlight , flash , or html5 ) used for video streaming . </S>",
    "<S> in particular , we identify three different streaming strategies that produce traffic patterns from non - ack clocked on - off cycles to bulk tcp transfer . </S>",
    "<S> we then present an analytical model to study the potential impact of these streaming strategies on the aggregate traffic and make recommendations accordingly . </S>"
  ]
}