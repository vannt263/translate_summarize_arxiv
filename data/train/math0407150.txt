{
  "article_text": [
    "our goal in this paper is the introduction of a technique for the study of intersection theoretic invariants in the birational class of a given variety @xmath0 . assuming resolution of singularities we introduce an ` integral ' , defined over the category @xmath1 of _ modifications _ of ( that is , proper and birational maps onto ) @xmath0 , with values in the limit @xmath2 of the chow groups ( with rational coefficients ) of the modifications .",
    "we will refer to the category @xmath1 as the _ modification system _ of @xmath0 .",
    "the push - forward of the integral to a variety @xmath3 is called its _ manifestation _ in @xmath3 .",
    "if two varieties @xmath0 and @xmath4 admit a modification from a common source then the corresponding systems @xmath1 and @xmath5 can be identified , in the sense that they share their main structures ; for example , their chow groups are isomorphic .",
    "it is thus natural to look for invariants of @xmath0 which can be expressed in terms of @xmath1 : such invariants have , via the identification of the latter with @xmath5 , a natural manifestation as invariants of @xmath4 .",
    "such invariants must really be reflections of invariants of the birational class of @xmath0 .",
    "we find that _ chern classes _ are such an invariant .",
    "more precisely , we can evaluate the total ( homology ) chern class of the tangent bundle of a nonsingular variety @xmath0 as the manifestation in @xmath0 of an integral @xmath6 over @xmath1 ( proposition  [ chernns ] ) . by the mechanism described above",
    ", the chern class of @xmath0 has a natural manifestation in the chow group of any variety @xmath4 sharing its modification system , even if no morphism exists between @xmath0 and @xmath4 .",
    "( this operation does _ not _ agree with the naive process of pulling back the class from @xmath0 to a common modification and pushing - forward to @xmath4 ; it is considerably subtler . )    in the proper generality , the integral is defined over any constructible subset @xmath7 of a system , and applies to a divisor @xmath8 of the system ( these notions are defined in   [ divis ] and  [ conssub ] ; constructible subsets and cartier divisors of @xmath0 provide important examples ) .",
    "the ` integral ' is defined by intersection - theoretic means in  [ integral ] , and is shown (  [ properties ] ) to satisfy additivity with respect to @xmath7 , a change - of - variables formula with respect to proper birational maps @xmath9 , and the ` normalization ' property with respect to chern classes mentioned above .",
    "the mere existence of such an operation triggers several applications : precise comparison results for chern classes and numbers of birational varieties , new birational invariants for nonsingular varieties , ` stringy ' chern classes of singular varieties , invariants of singularities as contributions to a zeta function .",
    "these topics are discussed in  [ applications ] .",
    "for example , the relation with chern classes implies immediately that chern numbers @xmath10 of complete nonsingular @xmath11-dimensional varieties in the same @xmath12-equivalence class coincide .",
    "this is pointed out in  [ otherk ] ; theorem  [ spell ] and corollary  [ elgen ] give a blueprint to obtain identities involving chern numbers of birational varieties regardless of their @xmath12-equivalence .",
    "stringy chern classes may be defined by taking the lead from the normalization mentioned above : since @xmath6 recovers @xmath13 $ ] when @xmath0 is nonsingular , we can define the _ stringy _ chern class of @xmath0 , for ( possibly ) singular varieties @xmath0 , to be the identity manifestation of @xmath6 ( and again , the definition of these objects through an integral provides us simultaneously with a consistent choice of manifestations for all varieties birational to @xmath0 ) .",
    "there is an important subtlety hidden in this definition : if @xmath0 is singular , our integral depends on the consistent choice of a _ relative canonical divisor _ for modifications @xmath14 from a nonsingular source , and there is more than one possible such choice . using khler differentials leads to what we call the ` @xmath15  flavor ' of the integral ; this provides a stringy notion which is defined for arbitrary singular varieties . in birational geometry",
    "it is customary to use a notion arising from the double dual of @xmath16 , which leads to the ` @xmath17  flavor ' of our integral .",
    "the corresponding stringy chern class is defined for @xmath18-gorenstein varieties admitting at least one log resolution with log discrepancies greater than zero , that is , with log terminal singularities .",
    "if @xmath0 is complete , the degree of its @xmath17-stringy chern class agrees with victor batyrev s stringy euler number ( @xcite , with @xmath19 ; the stringy euler number for a kawamata pair @xmath20 is the degree of @xmath21 ) .",
    "an example comparing the two flavors is given in ",
    "[ compare ] .",
    "the delicate issue of the definition of the integral ( and hence of the stringy classes ) over varieties with non log - terminal singularities is discussed in  [ negative ] , but we fall short of a definition in this case .",
    "there is a different way to extract invariants for possibly singular varieties @xmath22 from the integral defined here : one may embed @xmath22 in a nonsingular ambient variety @xmath0 , then take the integral of the divisor @xmath23 _ over the constructible set  @xmath7 of @xmath1 determined by  @xmath22 . _",
    "we prove ( theorem  [ csmconn ] ) that ( in characteristic  0 ) the identity manifestation of this integral agrees with a known invariant , that is , the chern - schwartz - macpherson class of @xmath22 .",
    "in fact , there is a very tight connection between the identity manifestation of any integral and macpherson s natural transformation , discussed in  [ csm ] . in particular ,",
    "the stringy chern classes of a singular variety @xmath0 can be written as explicit linear combinations of chern - schwartz - macpherson classes of subvarieties of  @xmath0 , as the image through macpherson s natural transformation of a specific constructible function @xmath24 on @xmath0 .",
    "this constructible function appears to us as a much more basic invariant of @xmath0 than the stringy euler number or chern class obtained from it ; it would be worth studying it further .",
    "it should be noted that the theory of chern - schwartz - macpherson classes is _ not _ an ingredient of the integral introduced here ; thus , the result mentioned above provides us with a candidate for a possible alternative treatment of chern - schwartz - macpherson classes ( in the chow group with rational coefficient ) , relying solely on canonical resolution of singularities .",
    "the original definition of macpherson in @xcite relied on transcendental invariants ; other approaches , such as the one in @xcite , appear to require generic smoothness or be otherwise bound to characteristic zero for more fundamental reasons .",
    "( canonical ) resolution of singularities is essential for our approach , in two respects .",
    "first , the integral is defined by pushing forward a weighted @xmath18-linear combination of classes , defined in a nonsingular variety suitably ` resolving ' the data (  [ intdef ] ,  [ arbdef ] ) ; this exists by virtue of resolution of singularities .",
    "second , the key independence on the choice of resolving variety ( claim  [ indepclaim ] , theorem  [ key ] ) is a technical exercise relying on the factorization theorem of @xcite , which uses resolution of singularities ( cf .",
    "remark  ( 3 ) , p.  533",
    ", in @xcite ) .",
    "resolution of singularities appears to be the only obstruction to extending the integral defined here to positive characteristic .",
    "our guiding idea in this paper is an attempt to mimic some of the formalism of _ motivic integration _",
    "( as developed by jan denef and franois loeser ) in a setting carrying more naturally intersection - theoretic information . while motivic integration is not used in the paper , the reader may notice several points of contact ; in particular , the degree of our integral agrees with an expression which arises naturally in that context ( see especially remark  [ denloecon ] and claim  [ contact ] ) .",
    "this observation was at the root of our previous work along these lines , @xcite .",
    "we found the excellent survey  @xcite particularly useful as a guide to motivic integration and its applications , and refer to this reference in several place .",
    "we note that a different and powerful approach to ` motivic chern classes ' has appeared in the recent work  @xcite .",
    "also , shoji yokura has examined inverse systems of algebraic varieties for intersection - theoretic purposes , in @xcite .",
    "the most powerful approach to date to defining ` stringy ' characteristic classes for singular variety appears to be the one by lev borisov and anatoly libgober ( @xcite and @xcite ) . while we have not checked this too carefully , it is essentially inevitable that the ( @xmath17 flavor of the ) stringy chern class introduced here should agree with a suitable specialization of the _ elliptic orbifold class _ introduced in @xcite , definition  3.2",
    ". it is worth mentioning that the factorization theorem of @xcite is also at the root of the approach of borisov and libgober , as it reduces the key independence to the analysis of the behavior of the invariants through blow - ups .",
    "accordingly , our theorem  [ key ] could likely be derived as a corollary of theorem  3.5 in @xcite .    in this connection",
    "we would like to suggest that a notion of ` elliptic integration ' could be defined using borisov - libgober s elliptic classes analogously to what we have done here for chern classes .",
    "it would be very interesting if an analog of theorem  [ csmconn ] were to hold for such a notion , linking it to a functorial theory generalizing the theory of chern - schwartz - macpherson classes and macpherson s natural transformation ( maybe the theory proposed in @xcite ? ) .",
    "lev borisov informs me that he and libgober have entertained the idea of studying relations of their work with other characteristic classes for singular varieties , such as chern - mather classes .",
    "the inverse limit of the modification system of a variety @xmath0 exists as a ringed space , and heisuke hironaka calls it the _ zariski space _ of  @xmath0 ( @xcite , chapter  0 ,  6 ) .",
    "we prefer to work throughout with the inverse system of modifications , while systematically taking limits of structures ( chow groups , etc . )",
    "associated to it . as modification systems",
    "are closely related to hironaka s _ vote toile , _ matilde marcolli has suggested that we could name the operation defined here _ celestial integration .",
    "_ we will show due restraint and use this poetic term very sparingly . in any case",
    "we warmly thank her , as well as ettore aldrovandi and jrg schrmann , for extensive discussions on the material presented here .",
    "thanks are also due to the max - planck - institut fr mathematik in bonn for hospitality during the summer of 2004 , when a substantial part of this work was done .",
    "[ [ prep ] ]    we work over any algebraically closed field @xmath25 over which canonical resolution of singularities  la hironaka and the factorization theorem of @xcite hold .    in this section",
    "we introduce the objects ( ` modification systems ' ) over which the integration will take place . roughly speaking ,",
    "a modification system consists of the collection of varieties mapping properly and birationally onto a fixed variety @xmath0 .",
    "a modification system carries a number of natural structures , all obtained by taking direct or inverse limits of corresponding structures on the individual varieties in the collection : thus the _ chow group _ of a modification system is the inverse limit of the chow groups ( under push - forward ) ; a _ divisor _ is an element of the direct limit of the groups of cartier divisors ( under pull - back ) ; and so on .",
    "the key advantage of working with modification system is that , thanks to embedded resolution , the information carried by many such structures can in fact be represented in terms of a divisor with normal crossings and nonsingular components on one nonsingular modification of @xmath0 .",
    "thus , for example , arbitrary subschemes of @xmath0 may be described in terms of divisors of the corresponding modification system ( cf .",
    "remark  [ remdivis ] ) .",
    "[ [ modsystdef ] ]    the main sense in which the quick description given in  [ prep ] is imprecise is that working with the _ varieties _ mapping to @xmath0 is inadequate ; it is necessary to work with the proper , birational _ maps _ themselves .",
    "let @xmath0 be an irreducible variety over @xmath25 .",
    "the _ modification system _ @xmath1 of @xmath0 is the category whose objects are the proper birational maps @xmath14 , and morphisms @xmath26 are commutative diagrams of proper birational maps @xmath27^\\alpha \\ar[dr]_{\\pi_1 } & & v_2 \\ar[dl]^{\\pi_2 } \\\\ & x } \\ ] ]    we often ( but not always ) denote by @xmath28 the source of @xmath29 . if @xmath29 and @xmath30 are objects of a modification system @xmath1 , we say that @xmath29 _ dominates _",
    "@xmath30 if there is a morphism @xmath31 in @xmath1 .",
    "[ domin ] every pair @xmath32 , @xmath33 in @xmath1 is dominated by some object @xmath29 of @xmath1 .",
    "in fact , @xmath29 may be chosen so that its source @xmath28 is nonsingular , and its exceptional divisor has normal crossings and nonsingular components in @xmath28 .",
    "in fact , modification systems have products : if @xmath32 , @xmath33 are in @xmath1 , the component @xmath34 of @xmath35 dominating @xmath36 and @xmath37 makes the diagram @xmath38_{\\alpha_1 } \\ar[dr]^{\\alpha_2 } \\ar[dd]^\\pi \\\\ v_1 \\ar[dr]_{\\pi_1 } & & v_2 \\ar[dl]^{\\pi_2}\\\\ & x } \\ ] ] commute , with @xmath29 proper and birational and satisfying the evident universal property .",
    "this implies the first assertion .",
    "the second assertion follows from embedded resolution of singularities .",
    "[ [ equivdef ] ]    modification systems are inverse systems under the ordering @xmath39 @xmath29 dominates @xmath30 .",
    "we want to identify systems ` with the same limit ' ; in our context , this translates into the following .",
    "two systems @xmath1 , @xmath5 are _ equivalent _ if there are objects @xmath40 in @xmath1 and @xmath41 in @xmath5 with isomorphic source ; that is , if there exists a variety @xmath42 and proper birational maps @xmath43 and @xmath44 : @xmath45_{\\pi_x } \\ar[dr]^{\\pi_y}\\\\ x & & y } \\ ] ]    the transitivity of this notion follows from lemma  [ domin ] .",
    "[ immed ] if @xmath1 and @xmath5 are equivalent , then every object @xmath46 of @xmath5 is dominated by an object @xmath47 whose source is the source of an object of @xmath1 .",
    "this follows immediately from lemma  [ domin ] : since @xmath1 and @xmath5 are equivalent , there are objects @xmath40 , @xmath41 in @xmath1 , @xmath5 resp . , with a common source @xmath42 ; any object @xmath47 dominating both @xmath41 and @xmath46 : @xmath48 \\ar[dr ]   \\ar@/_1pc/[ddrr]_{\\sigma } \\\\ & v\\ar[dl]^{\\pi_x } \\ar[drrr]_{\\pi_y } & & { v_\\rho } \\ar[dr]^\\rho\\\\ x & & & & y } \\ ] ] satisfies the requirement .",
    "[ [ copy ] ]    a proper birational morphism @xmath49 determines a covariant functor @xmath50 by composition : @xmath51 ; @xmath1 and @xmath5 are then trivially equivalent systems .    via this functor , the category @xmath5 is realized as a _ full _ subcategory of @xmath1 .",
    "indeed , every morphism @xmath52 in @xmath1 is given by a proper birational map @xmath53 such that @xmath54 ; but then @xmath32 and @xmath55 agree on a nonempty open set ( on which they are isomorphisms ) , hence they agree everywhere .",
    "in other words , every morphism @xmath56 is induced by a morphism @xmath57 in @xmath5 .",
    "in particular , any object @xmath58 of @xmath1 determines a modification system equivalent to @xmath1 and equal to a ` copy ' of @xmath59 ; we will denote this system by @xmath60 .",
    "two systems @xmath1 , @xmath5 are equivalent if and only if they both contain a copy of a third system  @xmath59 .    as mentioned in ",
    "[ prep ] , standard structures can be defined on modification systems by taking limits of the same structures on the ( sources of the ) objects in the system .",
    "the foregoing considerations imply that any functorial structure defined in this fashion will be preserved under equivalence of systems .",
    "we will explicitly need very few such structures : chow groups , divisors , constructible sets .",
    "these are presented in the next few sections .",
    "[ [ chow ] ]    for @xmath42 a variety , we denote by @xmath61 the chow group of @xmath42 , _ tensored with @xmath18 _ ( rational coefficients appear to be necessary for the integral introduced in  [ integral ] ) .",
    "the modification system @xmath1 determines the inverse system of chow groups @xmath62 ( under push - forwards ) , as @xmath29 ranges over the objects of @xmath1 .",
    "the _ chow group _ of @xmath1 is the limit @xmath63    that is , an element of the chow group of @xmath1 is the choice of a class @xmath64 in @xmath62 for each object @xmath29 of @xmath1 , with the condition that if @xmath65 is a morphism then @xmath66 . we say that @xmath64 is the _",
    "@xmath29-manifestation _ of this element of @xmath2 .",
    "if @xmath0 is complete , we may define the _ degree _ of a class @xmath67 , @xmath68 as the degree of ( the zero - dimensional component of ) any manifestation @xmath69 of @xmath70 ; indeed , this is clearly independent of  @xmath29 .",
    "next , we observe that equivalent systems have isomorphic chow groups .",
    "[ isoeq ] for all objects @xmath46 of @xmath1 , @xmath71 .",
    "if @xmath47 is an object of @xmath60 then @xmath72 is an object of @xmath1 .",
    "the identity homomorphism @xmath73 induces compatible homomorphisms @xmath74 for all @xmath47 ; and hence a homomorphism @xmath75 .",
    "lemma  [ domin ] gives the inverse homomorphism .",
    "more precisely , for @xmath29 in @xmath1 there exists a @xmath30 dominating both @xmath29 and @xmath46 : @xmath76 \\ar[dd]^{\\pi ' } \\ar[dr]\\\\ v_\\rho \\ar[dr]_\\rho & & v_\\pi \\ar[dl]^\\pi\\\\ & x } \\ ] ] push - forwards yield a homomorphism @xmath77 , which is easily seen to be independent of the chosen @xmath30 dominating @xmath29 and @xmath46 , and to satisfy the necessary compatibility , giving a homomorphism @xmath78 by the universal property of the inverse limit .",
    "checking that the two compositions are the identity is equally straightforward .",
    "[ isoeq2 ] equivalent systems have isomorphic chow groups .    indeed , equivalent systems @xmath1",
    ", @xmath5 contain a copy of a third system @xmath59 , cf .  ",
    "[ copy ] . by lemma  [ isoeq ] , @xmath79 .",
    "note however that these isomorphisms are not canonical , as they depend on the choice of a common source of objects in @xmath1 and @xmath5 .",
    "a canonical isomorphism is available if the common source is chosen ; for example , for a given proper birational map @xmath80 .",
    "[ [ divis ] ]    divisors are arguably the most important structure within a modification system .",
    "the group of divisors of @xmath1 is the direct limit of the groups of cartier divisor of sources of objects of @xmath1 .",
    "explicitly :    [ divisdef ] let @xmath1 be a modification system .",
    "a _ divisor _",
    "@xmath8 of @xmath1 is a pair @xmath81 , where @xmath29 is an object of @xmath1 and @xmath82 is a cartier divisor on the source @xmath28 of @xmath29 , modulo the equivalence relation : @xmath83    that is : @xmath84 and @xmath85 determine the same divisor of @xmath1 if they agree after pull - backs .",
    "[ remdivis ]    * divisors of @xmath0 determine divisors of @xmath1 by pull - backs .",
    "in fact , every proper subscheme @xmath3 of @xmath0 determines a divisor of @xmath1 , namely @xmath86 , where @xmath87 is the blow - up along @xmath3 , and @xmath88 is the exceptional divisor . *",
    "in particular , if @xmath0 is smooth then every canonical divisor of @xmath0 determines a divisor of @xmath1 .",
    "if @xmath1 and @xmath5 are equivalent , the corresponding canonical divisors need not agree ; if they do , then @xmath0 and @xmath4 are in the same _ @xmath12-equivalence class . _",
    "this notion has been thoroughly studied by chin - lung wang ( for @xmath18-gorenstein varieties ) , see @xcite . *",
    "as we are assuming that resolution of singularities hold , every divisor of @xmath1 admits a representation @xmath89 in which the source @xmath28 of @xmath29 is nonsingular , and  @xmath90 is supported on a divisor with normal crossings and nonsingular components . *",
    "divisors act on the chow group : if @xmath8 is a divisor and @xmath91 , for every object @xmath46 we can find a dominating @xmath92 such that @xmath8 is represented by @xmath81 , and set @xmath93 the projection formula guarantees that this is independent of the chosen @xmath29 , and that the resulting classes satisfy the compatibility needed to define an element @xmath94 .",
    "* equivalent systems have isomorphic divisor groups .",
    "indeed , if @xmath1 and @xmath5 are equivalent , and @xmath95 represents a divisor on @xmath1 , then ( by lemma  [ immed ] ) we may assume that @xmath28 is a source of an object of @xmath5 , so that @xmath82 represents a divisor on @xmath5 ; and , conversely , divisors of @xmath5 determine divisors of @xmath1 .",
    "+ as in  [ chow ] , these identifications are canonical once a common source is chosen .",
    "[ [ conssub ] ]    a second main character in the definition of the integral is the notion of constructible subset .",
    "a _ constructible subset _",
    "@xmath7 of a modification system @xmath1 is a pair @xmath96 , where @xmath29 is an object of @xmath1 and @xmath97 is a constructible subset of @xmath28 , modulo the equivalence relation : @xmath98    that is : @xmath99 and @xmath100 determine the same subset of @xmath1 if they agree after preimages through the system .    * as for divisors , note that the constructible subsets of a system are in one - to - one correspondence with constructible subsets of equivalent systems .",
    "* by resolution of singularities , every constructible subset of a system may be represented by a pair @xmath96 where @xmath29 has nonsingular source , and @xmath97 is obtained by taking unions and complements of nonsingular hypersurfaces meeting with normal crossings .",
    "* one can take unions or intersections of constructible subsets , by performing these operations in a @xmath28 in which all terms admit representatives .",
    "we say that @xmath7 is _ closed , locally closed , etc . _",
    "if it is represented by a closed , locally closed , etc .",
    "[ [ section ] ]    more structures could be considered easily , such as maps from a modification system to a variety , or constructible functions on a modification system , etc .",
    "we will only have fleeting encounters with such notions , and the reader should have no difficulties filling in appropriate definitions as needed .",
    "[ [ section-1 ] ]    _ caveat on terminology . _ in this section we introduce the ` integration ' operation on a modification system .",
    "as the reader may now expect the appearance of a measure , a special class of functions , and other ingredients of a good theory of integration , we hasten to warn that none will be given here .",
    "our guiding idea comes from _ motivic integration _ ( see e.g. , eduard looijenga s bourbaki survey , @xcite ) .",
    "a motivic integral is obtained from a suitable measure on the arc space of a variety @xmath0 ; the objects to which it is applied are in the form @xmath101 , where @xmath53 is a constructible function on the space . in practice , most applications are to the case in which @xmath53 is the order function of a divisor on @xmath0 ; and resolution of singularities allows one to further restrict attention to functions arising from a divisor with normal crossings and nonsingular components . in this case",
    "the integral can be computed explicitly , bypassing motivic measure entirely : see for example alastair craw s `` user - friendly formula '' ( theorem 2.15 in @xcite or  3.6 in @xcite )",
    ".    our definition is motivated by such formulas . as pointed out in  [ modsysts ] ,",
    "most structures of importance in the context of modification systems are encoded by normal crossing divisors , so we feel free to cut the middle man and offer the ` user - friendly ' analog as our definition . it would be interesting to interpret our definition in terms of a measure ( be it on the modification system , or perhaps on its arc space ) , but this does not appear to be necessary for applications .",
    "one advantage of this approach is that it comes with a built - in change - of - variables formula .",
    "we pay the price for this benefit by having to prove independence of the choice of representative for the divisor .",
    "in motivic integration the analogous formula is proved to agree with the definition based on a measure , so the corresponding independence is automatic ; while the change - of - variables formula requires an argument .",
    "[ [ relcandiv ] ]    let @xmath0 be an irreducible variety , let @xmath8 be a divisor in the modification system @xmath1 of @xmath0 ( cf .   [ divis ] ) , and let @xmath7 be a constructible subset of @xmath1 ( cf .   [ conssub ] )",
    ". the rest of this section is devoted to the definition of an element @xmath102 while the definition is rather transparent , proving that it does not depend on the various choices will require a certain amount of technical work .",
    "simple properties of this definition , and applications , will be discussed in later sections and will not involve the more technical material in the present one .",
    "we have to define an element @xmath103 of @xmath2 , and this is equivalent to defining all of its manifestations in @xmath62 , as @xmath29 ranges over the objects of @xmath1 . in order to streamline the exposition",
    ", we will begin by assuming that @xmath7 is closed , and that @xmath8 , @xmath7 , and the _ relative canonical divisor _ are in a particularly favorable position in @xmath28 ; the definition in this case is given in ",
    "[ intdef ] .",
    "the definition for all objects of @xmath1 is given in ",
    "[ arbdef ] , and the extension to constructible subsets @xmath7 is completed in   [ constr ] .",
    "the notion of relative canonical divisor requires a discussion .",
    "if @xmath104 is a birational morphism of nonsingular varieties , we will denote by @xmath105 the divisor of the jacobian of  @xmath29 ; so if @xmath106 is a canonical divisor of @xmath0 , then @xmath107 is a canonical divisor of @xmath42 .",
    "this notion behaves well with respect to composition of maps , in the sense that if @xmath108 is a birational morphism of nonsingular varieties , then @xmath109    we must call the attention of the reader to the fact that there are several ways to extend this notion to the case in which @xmath0 may be _ singular .",
    "_ necessary requirements from our viewpoint are that    1 .",
    "[ agreens ] the notion agrees with the one recalled above in the nonsingular case ; 2 .",
    "[ getdivnc ] if @xmath104 is a proper birational morphism , with @xmath42 nonsingular , then there exists a @xmath30 dominating @xmath29 and such that @xmath110 is a divisor with normal crossings and nonsingular components in  @xmath111 ; and 3 .",
    "[ funrcd ] ( * ) holds for @xmath112^\\alpha & v \\ar[r]^\\pi & x}$ ] , with @xmath42 and @xmath34 nonsingular , assuming @xmath105 is a divisor .",
    "note that we are not requiring that @xmath105 be a divisor _ for all _ @xmath29 .",
    "this may lead to some confusion as we will nevertheless stubbornly refer to any @xmath105 as a relative canonical _ divisor , _ since it determines a divisor in the system ( cf .",
    "remark  [ remdivis ] ) .    one simple possibility , which has the advantage of working without further assumptions on @xmath0 , is the following . if @xmath14 is a birational morphism of @xmath11-dimensional varieties , there is an induced morphism of sheaves of khler differentials @xmath113 if @xmath42 is nonsingular , so that @xmath114 is locally free , the image of this morphism may be written as @xmath115 for an @xmath116-ideal sheaf @xmath117 . by composing with a sequence of blow - ups @xmath118",
    "we may ensure that the ideal @xmath119 in @xmath120 corresponding to @xmath121 is principal , thus @xmath122 for a cartier divisor @xmath110 on @xmath123 .",
    "in fact , by the same token @xmath110 may be assumed to be a divisor with normal crossings and nonsingular component , as promised .",
    "this notion of @xmath105 gives what we call the ` @xmath15 flavor ' of the integral .",
    "a second possibility , which is more natural in the context of birational geometry , will be mentioned later (  [ singclass ] ) and gives the ` @xmath17 flavor ' .",
    "it should be noted that , for @xmath0 singular , the value of the integral will depend on the chosen notion of relative canonical divisor , cf .",
    "example  [ compare ] ; but the basic set - up and properties do not depend on this choice , so we will not dwell further on this important point until later sections . by requirement ( [ agreens ] ) above , the integral is univocally determined if the base  @xmath0 is nonsingular .",
    "[ [ intdef ] ]    let @xmath29 be an object of @xmath1 , @xmath105 be the relative canonical divisor of @xmath29 , and let @xmath124 , @xmath125 . _ we assume that @xmath28 is nonsingular , @xmath105 is a divisor , and there exists a divisor @xmath88 of @xmath28 , with normal crossings and nonsingular components @xmath126 , @xmath127 , such that @xmath128 with @xmath129 ; further , we assume that @xmath22 is @xmath28 or the union of a collection of components @xmath130 of @xmath88 , and we let @xmath131 be the whole family of subsets of @xmath132 , if @xmath133 , or the subfamily of those subsets which meet @xmath134 if @xmath135 . _    in other words , we essentially require @xmath29 to be a ` log resolution ' for the relevant data .",
    "we will say that @xmath29 ( or , more loosely , @xmath28 ) _ resolves _",
    "@xmath8 , @xmath7 if it satisfies these assumptions .",
    "the condition that no @xmath136 be @xmath137 is undesirable , but necessary for the present set - up .",
    "ideally one would like to replace this with the weaker request that @xmath136 be @xmath138 for all @xmath139 , which suffices for the expression in definition  [ mandef ] to make sense . but",
    "this would come at the price of having certain manifestations of the integral remain undefined ; more importantly , the argument given here does not suffice to prove that this would lead to consistent definitions in the presence of multiplicities  @xmath137 .    this issue is discussed further and illustrated with an example in  [ negative ] .",
    "[ mandef ] if @xmath29 resolves @xmath8 , @xmath7 , then the manifestation of @xmath140 in @xmath62 is defined to be @xmath141\\ ] ]    here @xmath142 is the dual of the bundle of differential forms with logarithmic poles along @xmath88 .",
    "its chern class serves as a shorthand for a longer expression , cf .",
    "lemma  [ necfacts ] , ( [ log ] ) .",
    "[ support ]    * the expression given in definition  [ mandef ] is supported on @xmath22 ; it should be viewed as the push - forward to @xmath28 of an element of @xmath143 . * if @xmath126 is a component which does not belong to @xmath22 , and for which @xmath144 , then the given expression is independent of whether @xmath126 is counted or not in  @xmath88 ( exercise ! ) .",
    "[ [ altexp ] ]    the expression given in definition  [ mandef ] can be written in several alternative ways , some of which are rather suggestive , and sometimes easier to apply .",
    "for example , for @xmath145 let @xmath146 equal the intersection @xmath147 ; this is a nonsingular subvariety of @xmath28 since @xmath88 is a divisor with normal crossings and nonsingular components . also , denote by @xmath148 be the divisor @xmath149 , as well as its restriction to subvarieties of @xmath28 ; note that @xmath148 intersects the subvariety @xmath146 along a divisor with normal crossings and nonsingular components .",
    "then the given expression of @xmath140 in @xmath62 equals @xmath150 } { \\prod_{i\\in i } ( 1+m_i)}\\quad.\\ ] ]    if @xmath133 , so that @xmath131 is the whole family of subsets of @xmath132 , then trivial manipulations show that the class equals a linear combination of the chern classes of the subvarieties  @xmath146 : @xmath151\\quad.\\ ] ] equally trivial manipulations show that the same class can be written as a weighted average of @xmath152-twists of the chern class of @xmath28 : @xmath153\\ ] ] where @xmath154 , and @xmath155 ; as @xmath156 , the top - dimensional term in this expression equals @xmath157 $ ] , as it should .",
    "[ [ arbdef ] ]    we have to define the manifestation of @xmath140 in @xmath158 , for arbitrary objects @xmath46 of @xmath1 . by principalization and",
    "embedded resolution of singularities , for any divisor @xmath8 and closed subset @xmath7 , every object @xmath46 in @xmath1 is dominated by an object @xmath29 resolving @xmath8 , @xmath7 .",
    "[ closeds ] let @xmath8 be a divisor of @xmath1 , and let @xmath7 be a closed subset of @xmath1 . for arbitrary @xmath46 in @xmath1 ,",
    "let @xmath53 be a proper birational map such that @xmath92 resolves @xmath8 , @xmath7 .",
    "then the manifestation of @xmath140 in @xmath158 is defined to be @xmath159    of course we have to prove that this expression does not depend on the choice of a resolving @xmath29 dominating @xmath46 , and we note that this will also immediately imply that the manifestations do define an element of the inverse limit @xmath2 .",
    "to establish the independence on the choice , we have to prove that if @xmath160 and @xmath161 both resolve @xmath8 , @xmath7 , then the two push - forwards @xmath162 to @xmath158 , @xmath163 , coincide .",
    "this is our next task .    by the factorization theorem of @xcite",
    ", there exists an object @xmath29 dominating both @xmath32 and @xmath33 : @xmath164_{\\beta_1 } \\ar[dr]^{\\beta_2}\\\\ v_{\\pi_1 } \\ar[dr]_{\\alpha_1 } & & v_{\\pi_2 } \\ar[dl]^{\\alpha_2}\\\\ & v_\\rho \\ar[d]_{\\rho } \\\\ & x } \\ ] ] and such that @xmath165 decomposes as a sequence of maps @xmath166_{\\beta_i } \\ar[r]^{\\gamma_1 } & \\cdots   \\ar[r]^{\\gamma_r } & v_{\\pi_i } } \\ ] ] with each @xmath167 a sequence of blow - ups followed by a sequence of blow - downs .",
    "further , the centers of these blow - ups may be chosen to intersect the relevant divisors with normal crossings .",
    "we should note that @xcite assumes the varieties to be complete ; we can reduce to this case by working in the modification system @xmath168 of a completion @xmath169 of @xmath0 , and then taking the inverse image of @xmath0 throughout the system .",
    "[ indepclaim ] if @xmath32 and @xmath33 resolve @xmath8 , @xmath7 , then so do all the intermediate stages in the resolution .",
    "in particular , so does @xmath29 ; further , @xmath170 for @xmath163 .",
    "claim  [ indepclaim ] immediately implies the sought independence on the choices .",
    "its proof will occupy us for the next several subsections . here",
    "we simply remark that the fine print in @xcite ( specifically part ( 6 ) of theorem 0.3.1 ) yields the first part of the claim , as it guarantees that the inverse images of the distinguished normal crossing divisors in @xmath171 are normal crossing divisors ; it is easily checked that all multiplicities remain @xmath172 throughout the resolution .",
    "what remains to be proved is the claimed compatibility between the manifestations in @xmath28 and @xmath171 ; by the recalled structure of the @xmath165 s , it suffices to prove this in the particular case in which @xmath173 , @xmath174 are blow - ups along nonsingular centers meeting the relevant divisors in @xmath36 , @xmath37 with normal crossings .",
    "[ [ upshot ] ]    the upshot of the preceding considerations is that the independence of definition  [ closeds ] on the choices follows from the minimalist case of a particularly favorable blow - up , that is , the precise statement given below .",
    "notation :    * @xmath42 is a nonsingular irreducible variety ; * @xmath175 is a normal crossing divisor with nonsingular components @xmath126 , @xmath127 , in @xmath42 ; * @xmath108 is the blow - up of @xmath42 along a nonsingular subvariety @xmath176 of codimension @xmath177 , meeting @xmath88 with normal crossings ; * @xmath178 is the exceptional divisor of the blow - up , and @xmath179 is the proper transform of @xmath126 , @xmath127 ; let @xmath180 ; * @xmath181 ;    * note that @xmath182 is a divisor with normal crossings and nonsingular components ( since @xmath176 meets @xmath88 with normal crossings ) .",
    "also , note that @xmath183 .",
    "this is engineered to match the rle of the normal crossing divisor vis - a - vis the given divisor @xmath8 of the modification system , cf .",
    " [ intdef ] : if @xmath8 is represented by @xmath184 on @xmath42 and @xmath185 on @xmath34 , @xmath104 is proper and birational , and @xmath186 as in  [ intdef ] , then @xmath187 as needed in order for @xmath34 to again satisfy the assumptions given in  [ intdef ] . * the hypothesis that @xmath176 meets @xmath88 with normal crossings implies that at most @xmath177 components @xmath126 contain @xmath176 .",
    "hence @xmath188 if all @xmath129 for @xmath189 , guaranteeing that the assumption on multiplicities specified in ",
    "[ intdef ] is satisfied in @xmath34 if and only if it is satisfied in @xmath42 .",
    "lastly , we must deal with @xmath7 :    * @xmath190 is either the whole family of subsets of @xmath132 , or the family of subsets of @xmath132 having nonempty intersection with a fixed @xmath191 ; * @xmath192 is the whole family of subsets of @xmath193 in the first case ; in the second case , @xmath192 depends on whether any of the divisors @xmath194 for @xmath195 contains the center @xmath176 of blow - up : * if none of the @xmath194 contains @xmath176 , then @xmath196 ; * if some of the @xmath194 contain @xmath176 , then @xmath197 .",
    "this messy recipe encodes a rather simple situation . on @xmath42 , @xmath7",
    "is represented by either @xmath42 itself or by a union @xmath198 , as required in  [ intdef ] . in the first case , @xmath7 is represented by @xmath34 on @xmath34 ; in the second case , it is represented by either the union @xmath199 , if no @xmath194 contains @xmath176 , or by @xmath200 if some @xmath194 do contain @xmath176 .",
    "the prescription follows the fate of the distinguished families @xmath190 , @xmath192 through this predicament .",
    "we are finally ready to state the main result , which will complete the proof of claim  [ indepclaim ] , and hence of the independence of definition  [ closeds ] on the choices .",
    "[ key ] with notation as above , @xmath201    [ [ section-2 ] ]    we prove theorem  [ key ] in  [ jbbisall ] and  [ jbbisnotall ] .",
    "the argument essentially amounts to careful bookkeeping , but is not completely straightforward .",
    "we collect a few necessary preliminaries in this subsection .",
    "let @xmath42 be a nonsingular variety , @xmath176 a nonsingular subvariety of codimension @xmath177 , @xmath202 the blow - up of @xmath42 along @xmath176 , and let @xmath203 be the exceptional divisor .",
    "[ necfacts ] the following hold in @xmath61 .    1",
    ".   [ log ] let @xmath88 be a divisor with normal crossings and nonsingular components @xmath126 , @xmath127 , in @xmath42",
    ". then @xmath204 2 .   [ w ] @xmath205)=c(tv)\\cap [ v]+(d-1)\\cdot c(tb)\\cap   [ b]$ ] .",
    "[ f ] @xmath206)=d\\cdot c(tb)\\cap [ b]$ ] .",
    "[ wf ] @xmath207 \\right)=c(tv)\\cap [ v]-c(tb)\\cap [ b].}$ ] 5 .",
    "[ factors ] let @xmath126 , @xmath127 , be nonsingular hypersurfaces of @xmath42 meeting with normal crossings , and let @xmath179 be the proper transform of @xmath126 in @xmath34",
    ". assume at least one of the @xmath126 contains @xmath176 .",
    "then @xmath208\\right)= \\frac{c(tv)}{\\prod_{j\\in j}(1+e_j)}\\cap [ v]\\quad.\\ ] ]    ( [ log ] ) the equivalent statement @xmath209 @xmath210 follows by a residue computation , see @xcite , 3.1 .    ( [ w ] )",
    "this follows from theorem  15.4 in @xcite .",
    "( [ f ] ) let @xmath211 be the projection @xmath212 , so that the class @xmath206)$ ] is the push - forward to @xmath61 of the class @xmath213)\\in a_*b$ ] .",
    "the exceptional divisor is identified with the projectivization of the normal bundle @xmath214 ; therefore its tangent bundle fits in the euler sequence @xmath215 & \\mathcal o \\ar[r ] & \\underline\\alpha^ * n_bv\\otimes \\mathcal   o(1 ) \\ar[r ] &   tf \\ar[r ] & \\underline\\alpha^ * tb \\ar[r ] & 0 } \\quad.\\ ] ] hence @xmath216 and by the projection formula @xmath217)=c(tb)\\cap \\underline\\alpha _ * (   c((\\underline\\alpha^*n_bv\\otimes \\mathcal o(1))/\\mathcal o)\\cap [ f ] ) \\quad.\\ ] ] since @xmath211 has relative dimension @xmath218 over @xmath176 , and @xmath219 has rank  @xmath218 , only the top chern class of this bundle survives the push - forward through @xmath211 .",
    "this class may be evaluated using @xcite , example  3.2.2 , yielding the stated result .",
    "( [ wf ] ) this can also be easily deduced from theorem  15.4 in @xcite ; or write @xmath220=c(tw)\\cap [ w]-c(tf)\\cap [ f]\\ ] ] and apply ( [ w ] ) and ( [ f ] ) .",
    "( [ factors ] ) if @xmath126 does not contain @xmath176 , then @xmath179 is the pull - back of @xmath126 ; by the projection formula all such terms can be factored out of both sides of the identity , so we may assume without loss of generality that @xmath126 contains @xmath176 for _ all _ @xmath127 , with @xmath221 .",
    "let @xmath222 , with @xmath223 .",
    "the formula is immediate if @xmath176 is a hypersurface , so we may assume @xmath176 has codimension @xmath224 .",
    "then @xmath225 is the blow - up of @xmath226 along @xmath176 ; and the other hypersurfaces @xmath126 , @xmath227 , cut out a divisor with normal crossings and nonsingular components along @xmath226 , containing @xmath176 . also note that @xmath228 , and @xmath229=c(tf_r)\\cap [ f_r]$ ] .",
    "if @xmath230 , @xmath231\\\\ = \\frac{c(tw)}{(1+f)\\prod_{1\\le j < r}(1 + f_j)}\\cap[w ] -\\frac{c(tf_r)}{(1+f)\\prod_{1\\le j < r}(1+f_j ) } \\cap[f_r]\\end{gathered}\\ ] ] and the needed equality follows if it is known for smaller , nonempty @xmath132 . thus , we are reduced to proving @xmath232\\right)= \\frac{c(tv)}{1 + e}\\cap[v]\\ ] ] for any nonsingular hypersurface @xmath88 containing the center @xmath176 of the blow - up , where @xmath233 denotes the proper transform of @xmath88 . for this , rewrite the left - hand - side as @xmath234 \\\\",
    "= c(tw)\\cap [ w]-c(tf)\\cap [ f]-c(t{{\\widetilde{e}}})\\cap [ { { \\widetilde{e}}}]+ c(t(f\\cap { { \\widetilde{e}}}))\\cap   [ f\\cap { { \\widetilde{e}}}]\\end{gathered}\\ ] ] and use ( [ w ] ) and ( [ f ] ) to compute the push - forward : @xmath235+(d-1)\\cdot c(tb)\\cap [ b])-d\\cdot c(tb)\\cap [ b ] - ( c(te)\\cap [ e]\\\\ + ( d-2)\\cdot c(tb)\\cap [ b])+ ( d-1)\\cdot c(tb)\\cap [ b ] = c(tv)\\cap [ v ] - c(te)\\cap [ e]\\quad,\\end{gathered}\\ ] ] agreeing with the right - hand - side : @xmath236 - c(te)\\cap [ e]=c(tv)\\cap \\left(1-\\frac e{1+e}\\right)\\cap   [ v]=\\frac{c(tv)}{1+e } \\cap [ v]\\ ] ] and concluding the proof .    in characteristic  0 , parts ( [ w ] ) and ( [ f ] ) are ( even more ) immediate from the functoriality of chern - schwartz - macpherson classes .    [ [ jbbisall ] ]    in this subsection we prove theorem  [ key ] under the hypothesis that @xmath190 is the whole family of subsets of @xmath132 . in this case , and using ( [ log ] ) in lemma  [ necfacts ] , the statement to prove is @xmath237\\right)\\\\ = \\frac{c(tv)}{\\prod_{j\\in j}(1+e_j ) } \\prod_{j\\in j}\\left(1+\\frac{e_j}{1+m_j}\\right)\\cap [ v]\\end{gathered}\\ ] ] with @xmath238 .",
    "first , observe that if @xmath126 does _ not _ contain @xmath176 , then @xmath239 ; by the projection formula , all factors involving such components can be factored out .",
    "thus we may assume that all @xmath126 contain @xmath176 , without loss of generality .",
    "second , with this additional assumption we can prove a stronger statement , not binding @xmath240 : we claim that , with @xmath240 an indeterminate , @xmath241\\right)\\\\ = \\frac{c(tv)}{\\prod_{j\\in j}(1+e_j ) } \\prod_{j\\in j}\\left(1+\\frac{e_j}{1+m_j}\\right)\\cap [ v ] -\\frac{m-\\sum_{j\\in j } m_j}{(m+d)\\prod_{j\\in j}(1+m_j ) } c(tb)\\cap [ b]\\end{gathered}\\ ] ] if all @xmath126 contain @xmath176 .    if @xmath242 , that is , @xmath176 is itself a hypersurface of @xmath42 , then @xmath53 is an isomorphism and ( * ) is immediately verified ( note that in this case @xmath132 consists of at most one element ; and if @xmath243 contains @xmath176 then @xmath244 , @xmath245 in @xmath246 ; the statement follows from the identity @xmath247 ) .    therefore , we may assume @xmath248 . formula ( * ) is then proven by induction on the size of @xmath132 . if @xmath249 , the statement is @xmath250\\right)\\\\ = c(tv)\\cap [ v]-\\frac{m}{m+d } c(tb)\\cap [ b]\\quad.\\ ] ] to prove this , rewrite the left - hand - side as @xmath251\\right)\\quad;\\ ] ] distributing and using ( [ w ] ) and ( [ f ] ) from lemma  [ necfacts ] : @xmath252+(d-1)\\cdot c(tb)\\cap [ b]-   \\frac{(m+d-1)d}{m+d } \\cdot c(tb)\\cap [ b]\\ ] ] gives the stated result .    if @xmath222 with @xmath223 , split off the @xmath225 term from the left - hand - side of ( * ) :",
    "@xmath253\\ ] ] equals @xmath254\\\\ -\\frac{m_r}{1+m_r } \\frac{c(tw)}{(1+f_0)\\prod_{j=1}^{r-1}(1+f_j)}\\frac{f_r}{1+f_r } \\left(1+\\frac{f_0}{m+d}\\right)\\prod_{j=1}^{r-1}\\left(1+\\frac{f_j}{1+m_j}\\right ) \\cap [ w]\\end{gathered}\\ ] ] now note that @xmath255=c(tf_r)\\cap [ f_r]$ ] ; that @xmath225 is the blow - up of @xmath226 along @xmath176 ( since @xmath256 , and @xmath248 ) ; and that the other components cut @xmath226 , @xmath225 along a divisor with normal crossings . in other words , the induction hypothesis may be applied to both summands in this expression .",
    "care must be taken for the rle of @xmath240 in the second summand : as the codimension of @xmath176 in @xmath225 is @xmath257 , the denominator @xmath258 must be viewed as @xmath259 . therefore , applying the induction hypothesis evaluates the push - forward as@xmath260 -\\frac{m-\\sum_{j=1}^{r-1 } m_j}{(m+d)\\prod_{j=1}^{r-1}(1+m_j ) } c(tb)\\cap   [ b]\\\\ -\\frac{m_r}{1+m_r}\\frac{c(te_r)}{\\prod_{j=1}^{r-1}(1+e_j ) } \\prod_{j=1}^{r-1}\\left(1+\\frac{e_j}{1+m_j}\\right)\\cap [ e_r ] + \\frac{m_r}{1+m_r}\\frac{(m+1)-\\sum_{j=1}^{r-1 } m_j}{(m+d ) \\prod_{j=1}^{r-1}(1+m_j ) } c(tb)\\cap [ b]\\end{gathered}\\ ] ] and now ( * ) follows by reabsorbing the @xmath226 term and performing trivial algebraic manipulations : @xmath261\\\\ -\\left(\\frac{m-\\sum_{j=1}^{r-1 } m_j}{(m+d)\\prod_{j=1}^{r-1}(1+m_j ) } -\\frac{m_r}{1+m_r}\\frac{m+1-\\sum_{j=1}^{r-1 } m_j}{(m+d ) \\prod_{j=1}^{r-1}(1+m_j)}\\right ) c(tb)\\cap [ b]\\\\ = \\frac{c(tv)}{\\prod_{j=1}^r(1+e_j ) } \\prod_{j=1}^r\\left(1+\\frac{e_j}{1+m_j}\\right)\\cap [ v ] -\\frac{m-\\sum_{j=1}^r m_j}{(m+d)\\prod_{j=1}^r(1+m_j ) } c(tb)\\cap [ b]\\end{gathered}\\ ] ] as needed .",
    "this proves ( * ) .    setting @xmath262 in ( * )",
    "concludes the proof of theorem  [ key ] for @xmath263 the whole family of subsets of @xmath132 .",
    "[ [ jbbisnotall ] ]    now assume that @xmath190 consists of the subsets of @xmath132 having nonempty intersection with a given @xmath191 .",
    "let @xmath264 , and @xmath265 .",
    "as the proof of theorem  [ key ] in this case uses essentially the same techniques as those employed in  [ jbbisall ] , we provide fewer details .    the statement to prove depends on whether some of the @xmath194 , @xmath195 , contain @xmath176 or not .",
    "using lemma  [ necfacts ] ( [ log ] ) , the claim can be rewritten as follows :    ( @xmath266 ) _ if none of the @xmath194 contains @xmath176 for @xmath267 , _ then @xmath268 \\right ) \\\\ = \\frac{c(tv)}{\\prod_{j\\in",
    "j}(1+e_j ) }   \\sum_{\\ell=1}^s\\frac{e_\\ell}{1+m_\\ell}\\prod_{i>\\ell}\\left(1 + \\frac{e_i}{1+m_i}\\right ) \\cap [ v]\\end{gathered}\\ ] ]    ( @xmath269 ) _ if some of the @xmath194 contain @xmath176 for @xmath195 , _ then @xmath270 \\right . \\\\ + \\left.\\frac{c(tw)}{(1+f_0)\\prod_{j\\in j}(1+f_j ) } \\sum_{\\ell=1}^s\\frac{f_\\ell}{1+m_\\ell}\\prod_{i>\\ell}\\left(1 + \\frac{f_i}{1+m_i}\\right)\\cap [ w ] \\right ) \\\\ = \\frac{c(tv)}{\\prod_{j\\in",
    "j}(1+e_j ) }   \\sum_{\\ell=1}^s\\frac{e_\\ell}{1+m_\\ell}\\prod_{i>\\ell}\\left(1 + \\frac{e_i}{1+m_i}\\right ) \\cap [ v]\\end{gathered}\\ ] ]    by the projection formula we may factor out all terms corresponding to components not containing @xmath176 ; in particular , we may assume @xmath271 , and the needed formula becomes @xmath272 \\right ) \\\\ = \\frac{c(tv)}{\\prod_{j\\in j}(1+e_j ) }   \\prod_{j\\in j}\\left(1+\\frac{e_j}{1+m_j}\\right ) \\cap [ v]\\end{gathered}\\ ] ] with all @xmath126 containing @xmath176 .",
    "this is precisely the formula proved in  [ jbbisall ] .    by the projection formula we may , once more ,",
    "assume that all @xmath126 contain  @xmath176 .",
    "consider first the terms in the @xmath273 with @xmath274 , on the left - hand - side : @xmath275\\quad,\\quad 2\\le \\ell\\le s\\quad.\\ ] ] we claim that each of these terms pushes forward to the corresponding term in the @xmath273 on the right - hand - side : @xmath276\\ ] ] ( note : this is not so for the @xmath277 term !",
    "claim  [ explcom ] ) . to verify this , we argue as we did in  [ jbbisall ] .",
    "the formula is clear if @xmath176 has codimension  1 ; if @xmath176 has larger codimension , then @xmath278 is the blow - up of @xmath194 along @xmath176 ( since all @xmath126 contain  @xmath176 ) , and an induction on the number of factors reduces the verification to proving that @xmath279\\right ) = \\frac{c(tv)}{\\prod_{j\\in j}(1+e_j ) }   \\cap [ v]\\ ] ] if @xmath221 ( this is where the hypothesis @xmath274 is used ) .",
    "this is proved in lemma  [ necfacts ] ,  ( [ factors ] ) .",
    "clearing the terms with @xmath274 from both sides of @xmath280 , we are reduced to proving that @xmath270 \\right . \\\\ + \\left.\\frac{c(tw)}{(1+f_0)\\prod_{j\\in j}(1+f_j ) } \\frac{f_1}{1+m_1}\\prod_{i>1}\\left(1+\\frac{f_i}{1+m_i}\\right)\\cap [ w ] \\right ) \\\\",
    "= \\frac{c(tv)}{\\prod_{j\\in j}(1+e_j ) }   \\frac{e_1}{1+m_1}\\prod_{i>1}\\left(1 + \\frac{e_i}{1+m_i}\\right ) \\cap [ v]\\end{gathered}\\ ] ] and this is implied by the following explicit computation :    [ explcom ] if all @xmath126 contain @xmath176 , @xmath281 , then : @xmath282 \\right ) \\\\",
    "= \\frac{c(tv)}{\\prod_{j=1}^r(1+e_j ) }   \\frac{e_1}{1+m_1}\\prod_{i>1}\\left(1 + \\frac{e_i}{1+m_i}\\right ) \\cap [ v ] -\\frac{1}{\\prod_{j=1}^r(1+m_j)}\\cdot c(tb)\\cap [ b]\\quad,\\end{gathered}\\ ] ] @xmath283 \\right ) \\\\",
    "= \\frac{1}{\\prod_{j=1}^r(1+m_j)}\\cdot c(tb)\\cap [ b]\\quad.\\end{gathered}\\ ] ]    the first formula is clear if @xmath242 ( note that in this case @xmath284 necessarily , since the @xmath126 meet with normal crossings ) .    if @xmath285 then each @xmath179 is the blow - up of @xmath126 along @xmath176 . if @xmath286 , splitting off the last factor and using @xmath287 shows that the general case follows from the case @xmath284 :",
    "@xmath288 \\right ) \\\\ = \\frac{c(tv)}{(1+e_1 ) }   \\frac{e_1}{1+m_1}\\cap [ v ] -\\frac{1}{(1+m_1)}\\cdot c(tb)\\cap [ b]\\quad.\\end{gathered}\\ ] ] now this is equivalent to @xmath289 \\right ) \\\\",
    "= c(te_1)\\cap [ v]-c(tb)\\cap [ b]\\quad,\\ ] ] which follows from ( [ wf ] ) in lemma  [ necfacts ] ( as @xmath290 is the blow - up of @xmath243 along @xmath176 ) .    for the second formula ,",
    "note that , for distinct @xmath291 , @xmath292\\right ) = ( d - m)\\cdot c(tb)\\cap [ b]\\quad:\\ ] ] indeed , the intersection of the corresponding divisors @xmath293 is nonsingular , of dimension @xmath294 ( since the divisor @xmath295 has normal crossings ) , and @xmath296 is the class of the exceptional divisor of its blow - up along @xmath176 ; so this follows from lemma  [ necfacts ] , ( [ f ] ) .",
    "therefore , rewriting the left - hand - side of the stated formula as @xmath297\\right)\\ ] ] and expanding the @xmath298 gives @xmath299\\ ] ] we leave to the reader the pleasant task of proving that this expression equals the right - hand - side of the stated formula .",
    "this concludes the proof of ( @xmath269 ) , and hence of theorem  [ key ] .",
    "[ [ section-3 ] ]    at this stage the integral @xmath300 is defined for all _ closed _",
    "subsets @xmath7 of @xmath0 and all @xmath8 . the definition for _",
    "locally closed _",
    "subsets is now forced upon us : set @xmath301 if @xmath7 is the complement of a closed subset @xmath302 in a closed subset @xmath303 .    of",
    "course we have to show that this is independent of the choices of the closed subsets @xmath304 : that is , if @xmath304 , @xmath305 are closed in @xmath1 , and @xmath306 as subsets of @xmath1 , we have to prove that @xmath307 by comparing both sides with the intersection with @xmath308 , we may assume that @xmath309 , and hence that @xmath310 and @xmath311 .",
    "the needed equality is then the one arising from @xmath312 that is , the following form of ` inclusion - exclusion ' :    [ incexc ] if @xmath7 , @xmath313 are closed in @xmath1 , and @xmath8 is a divisor , then @xmath314    the formula is clear if @xmath7 or @xmath313 equal @xmath1 , so we may assume that both are proper closed subsets .",
    "it is enough to verify the statement for manifestations over a @xmath29 in @xmath1 resolving @xmath8 and @xmath7 , @xmath313 , @xmath315 , and hence @xmath316 .",
    "we may assume all are combinations of components of a normal crossing divisor @xmath317 : that is , the subsets have ideals locally generated by @xmath318 , @xmath319 , @xmath320 , @xmath321 respectively , where @xmath322 denotes a local generator for @xmath126 .",
    "note that the ideal of @xmath323 in @xmath28 must be the sum of the ideals of @xmath7 and @xmath313 , to wit @xmath324 this implies that if @xmath325 and @xmath326 , then the corresponding components @xmath327 , @xmath328 have empty intersection",
    ".    now denote by @xmath329 , @xmath330 , @xmath331 , @xmath332 the corresponding families of subsets @xmath333 .",
    "it suffices to prove that the individual contributions of each @xmath145 to the expressions defining the integrals ( as in definition  [ mandef ] ) satisfy the relation in the statement .",
    "the only case in which this is not trivially true is when @xmath334 and @xmath335 , and hence @xmath336 , but @xmath337 . in this case",
    "@xmath338 contains indices @xmath339 , @xmath340 , such that @xmath341 , @xmath342 ; as observed above , this implies that @xmath343 .",
    "but then @xmath344 , and hence the contribution of @xmath338 to all the integrals is zero . so the statement is verified in this case as well , concluding the proof .",
    "[ [ constr ] ]    finally , constructible sets are finite disjoint unions of locally closed subsets .",
    "if @xmath345 , with @xmath346 locally closed in @xmath1 , and @xmath8 is a divisor in @xmath1 , we define @xmath347 if @xmath346 is represented by @xmath348 in @xmath349 , this element of @xmath158 is in fact the image of a class in @xmath350 , cf .  remark  [ support ] .",
    "the integral @xmath140 ought to be independent of the ambient system  @xmath1 containing @xmath7 , but we only know instances of this principle .",
    "for example , if @xmath0 is nonsingular and @xmath7 is represented by @xmath351 , with @xmath22 a subvariety of @xmath0 , then the manifestation of @xmath352 in @xmath0 resides naturally in @xmath143 , and is independent of @xmath0 , at least in characteristic  0 : indeed , we will see (  [ csmintro ] ) that it equals the chern - schwartz - macpherson class of @xmath22 .",
    "our argument will however rely on the theory of these classes ; we feel that there should be a more straightforward justification , in the style of the computations performed in this section .",
    "[ [ addit ] ]    _ inclusion - exclusion . _",
    "the notion @xmath103 introduced in  [ integral ] is additive in @xmath7 by definition ( cf .  ",
    "[ constr ] ) , and along the way we have had to prove a simple form of inclusion - exclusion , that is , lemma  [ incexc ] .",
    "this implies full inclusion - exclusion , that is : if @xmath353 , then @xmath354 this is useful for explicit computations .",
    "for example , assume @xmath7 is represented by @xmath355 , with @xmath22 a subvariety of @xmath0 ; then @xmath22 may be written as the intersection of hypersurfaces @xmath356 , and inclusion - exclusion reduces the computation of the integral over @xmath7 to the integral over constructible sets represented by hypersurfaces of @xmath0 .",
    "[ [ cov ] ]    _ change - of - variables formula .",
    "_ let @xmath357 be a proper birational map , with relative canonical divisor @xmath358 .",
    "here we need that for proper birational maps @xmath359 , with @xmath42 nonsingular , @xmath360 ; for example @xmath4 could be nonsingular , cf .",
    "( [ funrcd ] ) in   [ relcandiv ] .",
    "recall that @xmath1 and @xmath5 are then equivalent , and that consequently corresponding notions of divisors and constructible subsets coincide , cf .  remarks  [ remdivis ] and  [ remconssub ] ; and @xmath361 by lemma  [ isoeq ] .",
    "so the integral of a divisor @xmath8 over a constructible subset @xmath7 is defined in both modification systems , and lands in the same target .    for all @xmath7 and @xmath8 , and denoting by @xmath358 the divisor in @xmath1 represented by @xmath362 ,",
    "@xmath363    it is enough to prove the equality of manifestations in a variety @xmath42 resolving @xmath8 and @xmath7 : @xmath364^{\\pi_y } \\ar@/_1pc/[rr]_{\\pi_x } & y \\ar[r]^\\rho & x } \\ ] ] and this is clear from definition  [ mandef ] , since @xmath365 as divisors in the modification system , by  ( [ funrcd ] ) in   [ relcandiv ] .",
    "[ [ chernsimp ] ]    _ chern classes . _",
    "if @xmath0 is nonsingular and @xmath90 is a nonsingular hypersurface of @xmath0 , let @xmath8 be the corresponding divisor of @xmath1 , represented by @xmath366 .",
    "then @xmath367-\\frac12 \\cdot c(td)\\cap [ d]\\quad.\\ ] ] indeed , the identity @xmath368 already resolves @xmath8 , @xmath1 ; applying definition  [ mandef ] gives @xmath369= c(tx)\\cdot \\left(1-\\frac12\\cdot \\frac{d}{1+d}\\right)\\cap[x]\\ ] ] with the given result .",
    "in particular , @xmath370\\quad:\\ ] ] that is , the identity manifestation of the integral of @xmath371 realizes a ` chern class measure ' on the variety .",
    "this observation is extended readily to _",
    "nonsingular _ subvarieties of @xmath0 :    [ chernns ] assume that @xmath0 is nonsingular , and @xmath372 is represented by @xmath351",
    ". then @xmath373\\quad.\\ ] ]    let @xmath87 be the blow - up of @xmath0 along @xmath22 , with exceptional divisor @xmath88 .",
    "then @xmath29 resolves @xmath23 , @xmath7 , and @xmath374 , with @xmath375 . applying definition  [ mandef ] and lemma",
    "[ necfacts ] , ( [ log ] ) gives @xmath376}d\\quad;\\ ] ] from which the statement follows , by lemma  [ necfacts ] , ( [ f ] ) .",
    "we extend this remark to _ singular _ subvarieties in  [ csm ] .",
    "it is worth noting that the class in proposition  [ chernns ] is only one manifestation of the integral .",
    "manifestations in varieties mapping to @xmath0 amount to specific lifts of the total chern class of @xmath0 .",
    "for example , if @xmath176 is a nonsingular subvariety and @xmath377 is the blow - up of @xmath0 along @xmath176 , with exceptional divisor @xmath88 , then @xmath378-\\frac{d-1}d\\cdot c(te)\\cap [ e]\\ ] ] according to definition  [ mandef ] ( in one of the forms listed in  [ altexp ] ) .",
    "manifestations in other varieties are obtained as push - forwards from the manifestation in a blow - up ( cf .   [ arbdef ] ) .",
    "explicit examples can be found in example  [ diffman ] .",
    "[ [ csmintro ] ]    let @xmath0 be a nonsingular variety . in  [ chernsimp ] we have observed that the symbol @xmath379 behaves as a ` chern class measure ' in the identity manifestation of the integral defined in  [ integral ] , with respect to _ nonsingular _ subvarieties @xmath22 .",
    "that is : @xmath373\\ ] ] if @xmath7 is the constructible subset of @xmath7 represented by @xmath351 .",
    "it is natural to ask what class @xmath380 computes if @xmath22 is not required to be nonsingular .",
    "[ csmconn ] in characteristic  0 @xmath381 the chern - schwartz - macpherson class of @xmath22 .",
    "the chern - schwartz - macpherson class generalizes in a beautifully functorial fashion the chern class of the tangent bundle of a nonsingular variety .",
    "the reader is addressed to @xcite for the original work of robert macpherson ( over @xmath382 ) , and to @xcite for a discussion over arbitrary algebraically closed fields of characteristic  0 .",
    "an equivalent notion had been defined earlier by marie - hlne schwartz , cf .",
    "@xcite for results comparing the two definitions .",
    "the characteristic  0 restriction in the statement of theorem  [ csmconn ] is due to the fact that a good theory of chern - schwartz - macpherson classes does not seem to be available in other contexts .",
    "also , we have used the factorization theorem for birational maps in the definition of the integral , and this relies on resolution of singularities .",
    "in fact , we will work over @xmath382 in this section for simplicity of exposition , although everything can be extended without difficulty to arbitrary algebraically closed fields of characteristic  0 .",
    "theorem  [ csmconn ] will follow from a more general result , linking the integral to _ macpherson s natural transformation .",
    "_    [ [ remind ] ]    a quick reminder of related notions is in order .    a _ constructible function _ on a variety  @xmath0 is a linear combination of characteristic functions of closed subvarieties : @xmath383 , where @xmath384 and @xmath385 if @xmath386 , @xmath23  otherwise .",
    "thus a subset of @xmath0 is constructible if and only if its characteristic function is .",
    "constructible functions form a group @xmath387 .",
    "taking euler characteristic of fibers makes the assignment @xmath388 a covariant functor under proper maps .",
    "more explicitly , if @xmath389 is a proper map , and @xmath3 is a subvariety of @xmath390 , then the function @xmath391 defined by @xmath392 is constructible ; extending by linearity defines a push - forward @xmath393 .",
    "macpherson proved that there exists a unique natural transformation @xmath394 from the functor @xmath203 to a homology theory  in this paper we use chow group with @xmath18-coefficients , denoted @xmath395 , which also grants us the luxury of using constructible functions with @xmath18-coefficients  such that if @xmath22 is nonsingular , then @xmath396\\in a_*s$ ] . for arbitrary constructible @xmath397 , @xmath398 is the class denoted @xmath399 in  [ csmintro ] .",
    "an immediate application of the functoriality of the notion shows that , if the ambient @xmath0 is complete , then the degree of @xmath399 agrees with the topological euler characteristic @xmath400 .",
    "[ [ idsfun ] ]    let @xmath0 be a nonsingular variety over an algebraically closed field of characteristic  0 , and let @xmath8 , @xmath7 resp .",
    "be a divisor and a constructible set in @xmath1 .",
    "if @xmath22 is represented by @xmath401 , and @xmath402 , denote by @xmath403 the constructible set represented by @xmath404 .",
    "[ idsdef ] we define a function @xmath405 by @xmath406    ( recall that the manifestation on the right - hand - side may be viewed as a class in @xmath407 , cf .  ",
    "[ constr ] , so its degree is well - defined even if @xmath0 is not complete . )",
    "the main result of this section is that the identity manifestation of the integral defined in  [ integral ] corresponds to @xmath408 via macpherson s transformation :    [ ids ] the function @xmath408 is constructible , and",
    "@xmath409    this result shows that , at the level of the identity manifestation , the function @xmath408 contains at least as much information as the integral of @xmath410 over @xmath7 .",
    "we could in fact define a constructible function _ of the system  @xmath1 , _ that is , an element of the _ inverse limit _ of the groups of constructible functions through the system ( with push - forward as defined in  [ remind ] ) , by setting @xmath411 indeed , the following ` change - of - variables ' formula holds : if @xmath412 , then @xmath413 ( exercise ! ) the naturality of @xmath394 yields a homomorphism from the group of constructible functions of the system to @xmath2 , and the image of the ` celestial ' constructible function @xmath414 through this homomorphism is the celestial integral .",
    "shoji yokura has studied the _",
    "limit of the groups of constructible functions of an inverse system of varieties , and associated chern classes , in @xcite .",
    "[ [ idslemmas ] ]    the proof of theorem  [ ids ] , given in  [ idsproof ] , relies on two lemmas .",
    "we will use the following notation : if @xmath88 is a divisor with components @xmath126 , @xmath127 , and @xmath145 , then @xmath415 denotes the complement of @xmath416 in @xmath417 .",
    "[ csmlemma ] let @xmath42 be a nonsingular variety , and let @xmath88 a divisor with normal crossings and nonsingular components @xmath126 , @xmath127 .",
    "then for all @xmath145 @xmath418\\quad.\\ ] ]    denote by @xmath146 the intersection @xmath419",
    ". then @xmath146 is nonsingular since @xmath88 has normal crossings , and its normal bundle in @xmath42 has chern class @xmath420 , hence ( using lemma  [ necfacts ] , ( [ log ] ) ) @xmath421 = \\frac{c(te_i)}{\\prod_{i\\not\\in i}(1+e_i)}\\cap [ e_i]\\quad,\\ ] ] and we have to show that this equals @xmath422 now observe that @xmath423 is a divisor with normal crossings in @xmath146 ; the needed formula follows then immediately from ( * ) in  2.2 of @xcite ( top of p.  4002 ) .",
    "[ denloe ] let @xmath42 , @xmath34 be nonsingular varieties ; @xmath108 be a proper birational map ; @xmath88 a divisor with normal crossings and nonsingular components @xmath126 , @xmath127 , in @xmath42 ; @xmath203 a divisor with normal crossings and nonsingular components @xmath424 , @xmath425 , in @xmath34 ; and @xmath136 , @xmath426 integers such that @xmath427 finally , let @xmath22 be a constructible subset of @xmath42 .",
    "then @xmath428    by additivity of euler characteristics we may assume that @xmath22 is closed . the factorization theorem of @xcite reduces the statement to the case of a blow - up along a nonsingular center meeting @xmath88 with normal crossings , which is worked out for the universal euler characteristic in proposition  2.5 in @xcite .",
    "[ denloecon ] with @xmath429 a point , and @xmath430 , lemma  [ denloe ] states that @xmath431 with @xmath432 and @xmath430 again , the statement is that @xmath433 these formulas have been known for a long time  they were first proved by methods of @xmath434-adic integration in @xcite ( theorem  6.1 ) , and franois loeser informs me that he and jan denef knew them as early as 1987 ; and that while aware of the implication for chern - schwartz - macpherson classes , they did not mention it for lack of applications at the time .",
    "these formula were later recovered ( again by denef and loeser ) by using motivic integration ( see for example the survey  @xcite , ",
    "4.4.3 ) .",
    "in fact , this is the ` point of contact with motivic integration ' mentioned in the introduction :    [ contact ] let @xmath0 be complete . with notations as in  [ intdef ] , and @xmath435 as above , @xmath436    this follows immediately from the definition and from lemma  [ csmlemma ] , since the degree of @xmath437 equals the euler characteristic .",
    "this formula allows us to relate invariants introduced by using our integral with other invariants arising naturally from considerations in motivic ( and/or @xmath434-adic ) integration , such as the _ stringy euler number , _ cf .",
    " 7 of @xcite .",
    "[ [ idsproof ] ]    _ proof of theorem  [ ids ] .",
    "_    let @xmath438 be an object of @xmath1 resolving @xmath8 and @xmath7 , cf .",
    " [ intdef ] .",
    "thus there is a divisor @xmath88 with normal crossings and nonsingular components @xmath126 , @xmath127 , in @xmath42 , such that @xmath439 and @xmath89 represents @xmath8 ; and @xmath7 is represented by @xmath401 , where @xmath432 or @xmath440 for some @xmath191 .",
    "first , we are going to show that @xmath441 with push - forward of constructible functions defined as in  [ remind ] ; in particular , this shows that @xmath408 is constructible .    in order to show ( @xmath442 ) ,",
    "evaluate the right - hand - side at a @xmath402 : @xmath443 by lemma  [ denloe ] , this may be evaluated after replacing @xmath29 with an object dominating it and resolving @xmath8 and @xmath403 ( represented by @xmath444 , cf .   [ idsfun ] ) ; that is , we may assume that @xmath444 is a collection of components of @xmath88 , indexed by @xmath445 .",
    "let @xmath446 be the family of subsets of @xmath132 meeting @xmath447 .",
    "then we may rewrite the right - hand - side of ( @xmath442 ) as @xmath448 now using lemma  [ csmlemma ] and the fact that the degree of the chern - schwartz - macpherson class agrees with the euler characteristic , this equals the degree of @xmath449 = \\left({\\int_{{{\\mathcal s}}_p}{1\\hskip-3.5pt1}({{\\mathcal d}})\\,d\\mathfrak c_x}\\right)_\\pi\\,.\\ ] ] finally , the degree is preserved after push - forward , so this equals @xmath450 , concluding the proof of @xmath451 .",
    "now apply @xmath394 to both side of @xmath451 , and use lemma  [ csmlemma ] again . as in  [ intdef ] , denote by @xmath131 the family of subsets of @xmath132 if @xmath432 , and the subfamily of subsets meeting @xmath134 otherwise .",
    "this gives @xmath452 concluding the proof of theorem  [ ids ] .",
    "[ [ claimproof ] ]    theorem  [ ids ] implies theorem  [ csmconn ] . to see this ,",
    "assume @xmath397 is constructible . then @xmath453",
    "if @xmath454 , since then @xmath455 ; if @xmath456 and @xmath0 is nonsingular then @xmath457 because then @xmath403 is represented by @xmath458 , so the integral computes @xmath459 $ ] , see   [ chernsimp ] .",
    "this shows that @xmath460 if @xmath0 is nonsingular , and hence @xmath461 by theorem  [ ids ] .",
    "theorem  [ csmconn ] implies in particular that the identity manifestation of the integral of @xmath371 over a subvariety @xmath22 of a nonsingular @xmath0 is independent of the ambient variety  @xmath0 .",
    "we do not know to what extent integrals are independent of the ambient variety , cf .",
    " [ constr ] .",
    "[ [ section-4 ] ]    given the close connection between the integral defined in ",
    "[ integral ] and macpherson s natural transformation , we feel that a more thorough study of modification systems ought to yield a novel approach to the theory of chern - schwartz - macpherson classes .",
    "the left - hand - side of the formula in theorem  [ csmconn ] could be taken as the _ definition _ of the class , and a good change - of - variable formula for arbitrary proper maps should amount to the naturality of this notion .",
    "with this ( hypothetical ) set - up , a proof of resolution of singularity in positive characteristic would imply an automatic upgrade of the theory of chern - schwartz - macpherson classes in that context .    in any case",
    ", if @xmath22 is any subvariety of a nonsingular variety @xmath0 , theorem  [ csmconn ] affords many new manifestations of the chern - schwartz - macpherson class of @xmath22 : for example , if @xmath438 is any proper birational map , then @xmath462 is a distinguished lift of @xmath399 in @xmath61 .",
    "these manifestations surely inherit good functoriality properties from @xmath399 , and it would be interesting to explore these properties .",
    "[ [ section-5 ] ]    the mere existence of an integral satisfying the properties in  [ properties ] has some immediate applications .",
    "for example , assume that @xmath0 and @xmath4 are nonsingular complete birational calabi - yau varieties .",
    "let @xmath42 be any resolution of indeterminacies of a birational map between @xmath0 and @xmath4 : @xmath45_{\\pi_x } \\ar[dr]^{\\pi_y}\\\\ x \\ar@{-->}[rr ] & & y } \\ ] ] then @xmath463 , hence by change of variables (  [ cov ] ) @xmath464 for all @xmath7 .",
    "applying to @xmath465 the whole system , and using that the integral of @xmath371 evaluates the total chern class (  [ chernsimp ] ) , shows that the chern classes of @xmath0 and @xmath4 agree _ as elements of _ @xmath361 .",
    "the same argument shows that any two nonsingular complete birational varieties in the same @xmath12-equivalence class ( cf .",
    "remark  [ remdivis ] ) have the same total chern class in their ( equivalent ) modification systems .",
    "this clarifies the main result of @xcite .",
    "[ [ otherk ] ]    the advantage of the more through investigation developed here over the work in @xcite is that we can now move away from the hypothesis that the varieties are in the same @xmath12-class ; in fact , this can be done in several ways .",
    "for example , assume we have a resolution of indeterminacies of a birational map between two varieties @xmath0 and  @xmath4 , as above : @xmath45_{\\pi_x } \\ar[dr]^{\\pi_y } \\\\ x \\ar@{-->}[rr ] & & y } \\ ] ] with @xmath40 and @xmath41 proper and birational . the varieties",
    "@xmath0 and @xmath4 need not be complete , or nonsingular .",
    "the relative differentials of @xmath40 , @xmath41 determine divisors @xmath466 , @xmath467 of the equivalent modification systems @xmath1 , @xmath5 .",
    "let @xmath468 , @xmath469 be any divisors such that @xmath470 .    [ spell ] with these notations , and for all constructible subsets @xmath7 : @xmath471    the proof is again an immediate application of change - of - variables .    numerical consequences may be extracted from this formula .",
    "recalling that divisors act on chow groups of modification systems ( remark  [ remdivis ] ) :    [ elgen ] with notations as above : @xmath472 for all @xmath473 .    indeed : @xmath474 .",
    "specializing to the identity manifestation and taking degrees , in the particular case in which @xmath0 and and @xmath4 are nonsingular complete varieties _ in the same @xmath12-equivalence class , _ taking @xmath475 , and @xmath465 the whole modification system , this gives the equality : @xmath476 for all @xmath473 , with @xmath477 .    for @xmath478",
    "this is the well - known equality of euler characteristics of varieties in the same @xmath12-class ( see for example @xcite ) ; for @xmath479 it can be derived as a consequence of the equality of hodge numbers , which follows from the change of variable formula in motivic integration , and theorem  3 in ( @xcite ) .",
    "the equality for all @xmath480 should also be a very particular case of the fact that complex elliptic genera are preserved through @xmath12-equivalence , cf .",
    "@xcite ; and @xcite , where this is byproduct of the definition of elliptic genera of singular varieties ( answering a fundamental question raised by burt totaro , @xcite , p.  758 ) .    even for varieties in the same @xmath12-equivalence class ,",
    "corollary  [ elgen ] is substantially stronger than @xmath481 .",
    "for example , let @xmath482 be subvarieties of @xmath0 , @xmath4 resp .",
    ", such that @xmath483 .",
    "then @xmath484 again take @xmath475 ; and note that @xmath485 , @xmath486 represent the same constructible subset in the modification system , then apply theorem  [ csmconn ] .",
    "more generally , judicious choices for @xmath468 , @xmath469 may express interesting data on @xmath4 in terms of data on @xmath0 ; the simplest example is probably @xmath487 it is often possible to express @xmath468 , @xmath469 in terms of divisors arising from subschemes of @xmath0 , @xmath4 , and corollary  [ elgen ] may be used to derive the equality of certain combinations of chern numbers of @xmath0 , @xmath4 , and of these subschemes ; in fact , theorem  [ spell ] should simply be viewed as a notationally convenient way to encode a large number of such identities . in general",
    ", these identities tend to appear rather complicated , a lesson also learned through the work of lev borisov and anatoly libgober , and chin - lung wang .",
    "a very simple prototypical situation is presented in example  [ chernnos1 ] .",
    "[ [ birinv ] ]    some of the information exploited in  [ otherk ] is also captured by the following invariant . for a nonsingular @xmath0 ,",
    "consider the set of classes @xmath488 as @xmath489 ranges over the divisors of @xmath1 obtained by pulling back the effective canonical divisors of @xmath0 .",
    "_ this is a birational invariant _ of complete nonsingular varieties .",
    "indeed , so is @xmath490 , and the change - of - variable formula ensures that the integrals of corresponding divisors coincide .",
    "taking degrees of the classes in @xmath491 one obtains a subset of @xmath492 which is likewise a birational invariant , and may be amenable to calculation . for example :    let @xmath0 be a nonsingular complete algebraic variety , and assume that @xmath0 is birational to a calabi - yau manifold @xmath4",
    ". then @xmath493    indeed @xmath494 must be the single class @xmath495 , whose identity manifestation is the total chern class of @xmath4 by  [ chernsimp ] .",
    "for @xmath8 a divisor of @xmath1 , and @xmath496 a variable , we can consider the formal expression @xmath497\\ ] ] ( see  [ negative ] for a discussion of issues arising in letting the multiplicities be variables ) .",
    "this ` celestial zeta function ' is a very interesting object , which deserves further study .",
    "for example :    [ topzetafun ] assume @xmath0 is complete , and @xmath8 is the divisor corresponding to the zero - scheme of a section @xmath498 of a line bundle on @xmath0",
    ". then the degree of @xmath499 equals the topological zeta function of @xmath498 .",
    "we are referring here to the topological zeta function of @xcite , see also  6 in @xcite , and we are abusing the terminology since classically the topological zeta function is defined for @xmath500 ; this case can be recovered by compactifying @xmath240 to @xmath501 , then taking the integral over the constructible subset represented by @xmath502 ) .",
    "proposition  [ topzetafun ] is proved easily by arguing as in  [ idsproof ] to relate @xmath499 to a combination of euler characteristics of subsets in the relevant normal crossing divisor in a resolution , thereby matching the expression in  6.6 of @xcite .",
    "the connection with the topological zeta function hints that the poles of @xmath499 carry interesting information ; a version of the _ monodromy conjecture _ ( @xcite ,  6.8 ) can be phrased in terms of @xmath499 . for an explicit computation of @xmath3 , see example  [ zetaex ] .",
    "the identity manifestation of the class @xmath503 generalizes the total chern class of the tangent bundle to possibly singular  @xmath0 .",
    "we loosely refer to this class as the _ stringy _ chern class of @xmath0 , for reasons explained below .",
    "there actually are different interpretations of this formula , depending on the notion used to define the relative canonical divisor , cf .   [ relcandiv ] , and they lead to different classes .",
    "one important alternative to the possibility presented in  [ relcandiv ] , applicable to @xmath18-gorenstein varieties , is to let @xmath504 be the _",
    "double - dual _ of the sheaf @xmath505 ( where @xmath477 ) .",
    "this is a divisorial sheaf , corresponding to a weil divisor @xmath506 ; concretely , @xmath506 may be realized as the closure in @xmath0 of a canonical divisor of the nonsingular part of @xmath0 .",
    "the @xmath18-gorenstein property amounts to the requirement that a positive integer multiple @xmath507 of @xmath506 is cartier .",
    "if @xmath104 is a proper birational map , we can formally set @xmath508 to be a ( ` fractional ' ) divisor such that @xmath509 .",
    "this definition satisfies the properties mentioned in ",
    "[ relcandiv ] , hence it leads to an alternative notion of integration in the modification system of  @xmath0 .    in practice ,",
    "the procedure sketched here assigns well - defined multiplicities  @xmath510 to the components of the exceptional locus of @xmath29 , giving the input needed for the definition of the integral . for more technical and contextual information on the construction of @xmath504 ,",
    "see for example @xcite .",
    "the class @xmath511 obtained from this notion has some right to be called the _ stringy chern class _ of @xmath0 , following current trends in the literature ( see e.g.  @xcite ,  7.7 ) ; if @xmath0 is complete then the degree of its zero - dimensional component equals the _ stringy euler number _ of @xmath0 , by claim  [ contact ] .",
    "if @xmath0 admits a crepant resolution , the stringy chern class of @xmath0 is simply the image in @xmath0 of the chern class of any such resolution .",
    "one difficulty with this notion is that it allows for the possibility that some of the multiplicities @xmath512 in definition  [ mandef ] may be @xmath137 , in which case our integral is simply undefined ; this may occur if the singularities of @xmath0 are not log - terminal .",
    "this annoying restriction may be circumvented in certain cases ( cf .",
    " [ negative ] ) but appears to be necessary for the time being .",
    "example  [ compare ] illustrates a clear - cut case in which the classes obtained from the two notions of relative canonical divisor considered here differ .",
    "the choice of a notion for relative canonical divisors determines a constructible function @xmath513 as in definition  [ idsdef ] . by theorem  [ ids ] , the corresponding stringy class is the image via macpherson s natural transformation of this constructible function ; which should hence be called the _ stringy _ constructible function on @xmath0 .",
    "( the analogous notion for a kawamata pair @xmath20 would be the @xmath17 flavor of @xmath514 . )    from our perspective these functions are more fundamental than their incarnation as stringy euler numbers or chern classes : the information carried by a stringy constructible function amounts to a list of strata of @xmath0 , and coefficients associated to these strata , from which the invariants can be reconstructed by taking corresponding linear combinations of the invariants of the strata .",
    "an alternative viewpoint would associate to the stringy function a corresponding _ stringy characteristic cycle _ in the cotangent bundle of a nonsingular ambient variety containing  @xmath0 .",
    "it is natural to guess that stringy characteristic cycles admit a natural , intrinsic description .",
    "it would be interesting to provide alternative computations of the stringy functions ( or characteristic cycles ) , possibly in terms similar to those describing other invariants such as the local euler obstruction ( which corresponds to the chern - mather class under macpherson s transformation ) .",
    "it would also be interesting to compare the stringy class(es ) to other notions of chern classes for singular varieties , such as fulton s or fulton - johnson s ( cf .",
    "@xcite , example  4.2.6 ) .",
    "we include here a few explicit examples of computations of the integral introduced in this paper .",
    "[ [ dintsex ] ]    in  [ chernsimp ] we have seen that if @xmath397 are nonsingular , and @xmath7 is represented by @xmath515 , then @xmath516 computes the chern class of @xmath22 .",
    "more generally , if @xmath8 is represented by @xmath366 , with @xmath90 a nonsingular hypersurface intersecting @xmath22 transversally , then @xmath517-\\frac 12\\cdot c(t(d\\cap s))\\cap [ d\\cap s]\\quad.\\ ] ] indeed , the blow - up of @xmath0 along @xmath22 resolves @xmath8 , @xmath7 , and the formula is obtained easily from definition  [ mandef ] and lemma  [ necfacts ] . note that this shows that @xmath518 where @xmath519 denotes the subset of @xmath520 represented by @xmath521 ; that is , the left - hand - side is independent of the ambient nonsingular variety @xmath0 in this case ( cf .   [ constr ] ) .    [ [ idsex ] ]    an alternative ( and more powerful ) way to view the same computation is through the use of the function  @xmath408 introduced in  [ idsfun ] .    in the same situation ( @xmath0 nonsingular , @xmath8 represented by @xmath366 with @xmath522 a nonsingular hypersurface ) ,",
    "let @xmath402 ; for fun , consider a multiple @xmath523 of @xmath90 .",
    "if @xmath524 , then @xmath525 ; if @xmath526 , by definition we can compute @xmath527 as the degree of @xmath528}{m+n } + \\frac{[e\\cup { { \\widetilde{d}}}]}{(1+m)(m+n)}\\right)\\ ] ] where @xmath529 is the blow - up of @xmath0 along @xmath434 , @xmath88 is the exceptional divisor , @xmath530 is the proper transform of @xmath90 , and @xmath477 .",
    "a straightforward computation evaluates this as @xmath531 , and hence @xmath532 as should be expected .    now if @xmath7 is represented by @xmath351 , then @xmath533 and by theorem  [ ids ] @xmath534 generalizing the formula of example  [ dintsex ] to a constructible @xmath22 with arbitrary singularities and intersecting @xmath90 as it wishes .",
    "[ [ dnotdiv ] ]    as we observed in remark  [ remdivis ] , every subscheme of @xmath0 determines a divisor in  @xmath1 , which may be integrated .",
    "for example , let @xmath0 be nonsingular , and let @xmath535 be a nonsingular subvariety of codimension  @xmath177 ; and let @xmath536 be the divisor corresponding to  @xmath3 , and @xmath537 the @xmath496-multiple of this divisor .",
    "then @xmath538   - \\frac m{d+m}\\cdot c(tz)\\cap [ z]\\quad.\\ ] ] indeed , @xmath539 , where @xmath87 is the blow - up along @xmath3 , and @xmath88 is the exceptional divisor ; as @xmath374 , definition  [ mandef ] gives the @xmath29 manifestation as @xmath540+\\frac{[e]}{m+d}\\right ) \\quad,\\ ] ] from which the stated formula is straightforward ( use lemma  [ necfacts ] ) .    of course there are divisors of @xmath1 which do not correspond to subschemes of @xmath0 .",
    "for example , suppose @xmath522 is a nonsingular hypersurface containing a nonsingular subvariety  @xmath3 of codimension  @xmath177 , and let @xmath8 , @xmath536 be the divisors of @xmath1 corresponding to @xmath90 , @xmath3 .",
    "then @xmath541 is not represented in @xmath0 , even as a subscheme ( if @xmath542 ) .",
    "it is however represented by a divisor in the blow - up along @xmath3 ( in fact , as the proper transform of  @xmath90 ) and one computes easily that @xmath543   -\\frac 12 \\cdot c(td)\\cap[d]+ \\frac 1{2d}\\cdot c(tz)\\cap [ z]\\quad.\\ ] ]    [ [ diffman ] ]    the chern class of @xmath544 manifests itself in @xmath545 as @xmath546+\\frac 32 [ l_1]+\\frac 32 [ l_2 ] + 3[{{\\mathbb{p}}}^0]\\quad,\\ ] ] where @xmath547 and @xmath548 denote lines in the two rulings .",
    "this is obtained by considering the projection to @xmath544 from a point  @xmath434 of a nonsingular quadric  @xmath549 in @xmath550 : the blow - up of @xmath551 at @xmath434 resolves @xmath23 , @xmath552 , and the computation in this blow - up is straightforward .    similarly , the chern class of @xmath545 manifests itself in @xmath544 as @xmath553+\\frac 52 [ { { \\mathbb{p}}}^1 ] + 4[{{\\mathbb{p}}}^0]\\quad.\\ ] ]    the denominators in these two expressions imply the ( otherwise evident , in this case ) fact that the birational isomorphisms between @xmath544 and @xmath545 does not extend to a regular map in either direction .",
    "[ [ chernnos1 ] ]    a simple situation illustrating theorem  [ spell ] consists of a birational morphism resolved by a blow - up and a blow - down : @xmath554{resolve1}\\ ] ] assume that @xmath0 and @xmath4 are nonsingular and complete , @xmath555 , @xmath556 are nonsingular subvarieties , and @xmath557 , with @xmath88 the exceptional divisor for both blow - ups .",
    "let @xmath558 , @xmath559 be the codimension of @xmath560 , @xmath561 respectively . by theorem  [ spell ] , and using the same notation for subvarieties of @xmath0 , @xmath4 and for the corresponding divisors of the modification systems , @xmath562 for any divisor @xmath8 .",
    "for example , representing @xmath8 by @xmath563 in the blow - up gives @xmath564 from which , evaluating the right - hand - side ( using example  [ dnotdiv ] ) and taking degrees : @xmath565 which is of course easy to check otherwise . with the same choice of @xmath8",
    ", applying corollary  [ elgen ] with @xmath479 and taking degrees gives a slightly more mysterious identity for other chern numbers . with @xmath566 , and denoting @xmath567 , etc .  for @xmath568 $ ] ,  etc .",
    ", one finds that @xmath569 must equal @xmath570 making other choices for @xmath8 , and varying  @xmath480 , one easily gets a large number of such identities .    if @xmath571 the chern numbers @xmath10 for @xmath0 and @xmath4 coincide ( @xmath0 and @xmath4 are in the same @xmath12-equivalence class , in this case , cf .  ",
    "[ otherk ] ) .    if @xmath572 , then @xmath42 is isomorphic to @xmath4 , and the identities compare chern numbers of a variety @xmath0 and of its blow - up along a subvariety @xmath560 .",
    "let @xmath0 be a complete nonsingular surface , @xmath522 a nonsingular curve , and @xmath8 represented by @xmath366 .",
    "then the identity manifestation of @xmath499 is @xmath573+\\frac { [ d]}{1+m}\\right)\\ ] ] and hence @xmath574 where @xmath575 , @xmath400 are the canonical divisor and euler characteristic of @xmath22 . by the adjunction formula ,",
    "the ` interesting term ' is a multiple of the euler characteristic of  @xmath90 .",
    "now assume that @xmath90 has a single singular point , consisting of an ordinary cusp .",
    "the data @xmath8 , @xmath1 is resolved by @xmath576 , obtained by a sequence of three blow - ups .",
    "@xmath577{cusp}\\ ] ] the pull - back of @xmath578 to @xmath529 is the divisor @xmath579 where @xmath530 is the proper transform of @xmath90 , and @xmath243 , @xmath580 , @xmath581 are ( proper transforms of ) the successive exceptional divisors .    applying definition  [ mandef ] ( in one of the equivalent forms in  [ altexp ] ) , the @xmath29 manifestation of @xmath499 is @xmath582-\\frac m{1+m}\\cdot c(t{{\\widetilde{d}}})\\cap [ d]\\\\ -\\frac{1 + 2m}{2 + 2 m } c(te_1)\\cap [ e_1 ] -\\frac{2 + 3m}{3 + 3 m } c(te_2)\\cap [ e_2 ] -\\frac{4 + 6m}{5 + 6 m } c(te_3)\\cap [ e_3]\\\\ + \\left(\\frac m{1+m}\\cdot\\frac{4 + 6m}{5 + 6 m } + \\frac { 1 + 2m}{2 + 2m}\\cdot\\frac{4 + 6m}{5 + 6 m } + \\frac { 2 + 3m}{3 + 3m}\\cdot\\frac{4 + 6m}{5 + 6m}\\right)[p]\\end{gathered}\\ ] ] where @xmath583 $ ] is the class of a point . taking degrees , we get @xmath584 comparing with the nonsingular case , we can think of @xmath585 as the contribution of the cusp to the zeta function .",
    "the fact that this term has a pole at @xmath586 is a trivial instance of the ` monodromy conjecture ' , see  6.8 in @xcite .",
    "we consider the poster example illustrating the distinction between @xmath505 and @xmath504 (  [ relcandiv ] ,   [ singclass ] ) , cf .",
    "@xcite ,  1.8 , and @xcite ,  7.5 .",
    "let @xmath240 be a nonsingular variety , and @xmath587 a subvariety with the following property : there is a nonsingular subvariety @xmath176 of @xmath0 such that the proper transform @xmath529 of @xmath0 in the blow - up @xmath588 of @xmath240 along @xmath176 is nonsingular , and meets the exceptional divisor @xmath88 transversally .",
    "@xmath589_\\pi \\ar[r]^j & { { { \\widetilde{m } } } } \\ar[d]^{\\overline\\pi } & e \\ar@{_(-}[l ] \\ar[d]\\\\ x \\ar[r]^i & m & b \\ar@{_(-}[l ] } \\ ] ]    let @xmath477 , and let @xmath177 be the codimension of @xmath176 in @xmath0 ; thus , @xmath257 is the dimension of the ( nonsingular ) fibers of @xmath590 over @xmath591 .",
    "[ normhyp ] ( @xmath15 flavor . ) with @xmath105 defined as in  [ relcandiv ] , @xmath592    to see this , note that @xmath593 is surjective , hence the image of @xmath594 in @xmath595 is the same as the image of @xmath596 . at a point of @xmath529 along @xmath88 , by hypothesis we may assume @xmath529 has local coordinates @xmath597 , part of a system of coordinates of @xmath588 ( the other coordinates of @xmath588 being  @xmath23 along @xmath529 ) , mapping to @xmath240 according to @xmath598 , @xmath599 , @xmath600 .",
    "here @xmath601 is the local equation of @xmath88 in @xmath588 . with these coordinates ,",
    "the only element of the evident basis of @xmath602 surviving in @xmath595 is @xmath603 , which maps to @xmath604 .",
    "thus the image of @xmath594 in @xmath595 is @xmath605 , and the claim follows .    for the computation of the fancier @xmath508 , we will assume further that @xmath0 is a hypersurface in @xmath240 .",
    "let @xmath606 be as above , with @xmath248 , and let @xmath25 be the multiplicity of @xmath0 along @xmath176 .",
    "[ omegahyp ] ( @xmath17 flavor . ) with @xmath607 defined as in  [ singclass ] , @xmath608    indeed , as @xmath506 agrees with the canonical divisor on the nonsingular part of @xmath0 , whose complement has codimension  @xmath609 in @xmath0 , the adjunction formula works as usual : @xmath610 .",
    "thus @xmath506 is cartier , and @xmath611 ( cf .",
    "@xcite , p.  350 ) .",
    "note that the multiplicity of this divisor is @xmath137 for @xmath612 ; this corresponds to the case in which the singularity is not log - terminal . from our perspective , this limits computations of integrals using this divisor to the case @xmath613 ( cf .",
    " [ negative ] ) .",
    "the two ` stringy ' chern classes corresponding to the two flavors of relative canonical divisors are respectively as follows :    [ stringyclasses ] @xmath614\\\\ \\tag{$\\omega$ } & { c_{\\text{\\rm sm}}}(x)+\\frac 1{d+1-k}\\cdot \\left(\\frac{(1-k)^{d+1}-1}k+k\\right ) \\cdot c(tb ) \\cap [ b ] \\qquad k < d+1\\end{aligned}\\ ] ]    since @xmath529 resolves the data for the integral this is a straightforward application of the definition , which we leave to the reader . to obtain the given form ( in terms of the chern - schwartz - macpherson class of  @xmath0 ) , use theorem  [ ids ]",
    "the conventional stringy euler number of @xmath0 is the degree of the @xmath17 stringy chern class , hence @xmath615 by the second formula .    for this special class of hypersurfaces one can compute that @xmath616 the euler characteristic of the milnor fiber of @xmath0 at any of its singularities , while @xmath617 , the _ local euler obstruction _ of @xcite .",
    "it follows that @xmath618 giving a more intrinsic flavor to the coefficients appearing in proposition  [ stringyclasses ] .",
    "for example , the first class may be rewritten @xmath619\\quad.\\ ] ]    taking degrees in proposition  [ stringyclasses ] gives explicit formulas for the corresponding stringy euler characteristics .",
    "the second formula in proposition  [ stringyclasses ] shows that there is no direct generalization of the @xmath17-stringy class to the non - log - terminal case . on the other hand",
    ", the @xmath15 flavor offers an alternative which conveys essentially the same information ( at least for this simple - minded class of examples ) , and generalizes to arbitrary singular varieties .",
    "[ [ section-6 ] ]    according to the definition given in  [ integral ] , @xmath140 is simply _ undefined _ if the multiplicities of the components of the relevant divisors in a resolving variety happen to be @xmath137 .",
    "it would be desirable to weaken this restriction , and we devote this final section to some musing on this issue .",
    "this is not unimportant : for example , the invariant introduced in  [ birinv ] is vacuous if the variety has no effective canonical divisors ; allowing integration over non - effective divisors would enhance its scope .",
    "also , allowing negative coefficients would extend the range of the definition of stringy invariants to certain non - log terminal singularities .",
    "the key definition  [ mandef ] , that is , the manifestation of an integral on a resolving variety , may be formally computed so long as none of the multiplicities equals  @xmath620 ; this would therefore appear to be a more natural requirement than the stated one ( that is , @xmath129 for all @xmath480 ) for a resolving variety .",
    "the difficulty with adopting the same definition with @xmath621 is purely in the proof of independence on the choice of resolving variety : while @xmath621 may be satisfied for two chosen resolving varieties , it may fail at some stage in the sequence of varieties connecting them through the use of the factorization theorem . in other words , the first sentence in claim  [ indepclaim ]",
    "does not hold as stated for this more relaxed definition .",
    "this difficulty is also raised in a very similar context by willem veys , @xcite ,  8.1 , question  1 .",
    "one would like to show that if two varieties resolve the data @xmath8 , @xmath7 with all multiplicities @xmath138 , then the resulting expressions agree after push - forward . in particular , this would answers affirmatively veys question .",
    "we note that allowing multiplicities  @xmath137 may cause some manifestations of the integral to remain undefined ; in such cases the integral would not exist as an element of the chow group @xmath2 , although it may still carry useful information .",
    "the condition @xmath622 adopted in  [ integral ] avoids this problem in the simplest way .",
    "[ flop ] the quadric cone @xmath623 with equation @xmath624 is singular at one point .",
    "this singularity may be resolved in several ways : blowing up along the plane @xmath625 or along the plane @xmath626 produces two ` small ' resolutions @xmath627 , @xmath628 in which the singular point is replaced by a @xmath629 .",
    "both these resolutions are dominated by the blow - up @xmath529 of @xmath0 at the vertex ; in this blow - up the singularity is replaced by a copy @xmath88 of @xmath545 .",
    "the birational morphism from @xmath627 to @xmath628 is a classical example of _ flop .",
    "_ @xmath630 \\ar[dr ] \\ar[dd]_\\pi\\\\ x_- \\ar[dr]_{\\pi_- } & & x_+ \\ar[dl]^{\\pi_+ } \\\\ & x } \\ ] ] the equation @xmath631 cuts out a cartier divisor @xmath90 on @xmath0 , consisting of the union of the planes @xmath625 , @xmath626 ( these components are not themselves cartier divisors ) .",
    "we are interested in integrating the divisor @xmath632 represented by @xmath633 .",
    "the relative canonical divisor ( @xmath17 flavor ) is @xmath23 in both @xmath627 and @xmath628 , since these are isomorphic to @xmath0 away from the distinguished @xmath629 s .",
    "the divisor @xmath90 pulls back via @xmath634 to the union @xmath635 of two nonsingular divisors @xmath636 , @xmath637 meeting transversally , so we can formally apply definition  [ mandef ] and write @xmath638+\\frac{[d_1 ^ -]}{1 - 2}+\\frac{[d_2 ^ -]}{1 - 2}+ \\frac{[d_1 ^ -\\cap d_2 ^ -]}{(1 - 2)^2}\\right)\\ ] ] this can be evaluated easily , and pushes forward to @xmath639+[d]\\ ] ] in @xmath640 $ ] .",
    "an entirely analogous expression may be written in @xmath628 , with the same push - forward to @xmath0 .",
    "this is as expected from claim  [ indepclaim ] .",
    "however , the proof given in  3 does not work in this case .",
    "the blow - up / blow - down through @xmath529 does give a factorization of the flop . the inverse image @xmath641 consists of three components meeting with normal crossings : two components @xmath642 , @xmath643 dominating the two components of @xmath90 , and the exceptional divisor @xmath88 .",
    "the relative canonical divisor is @xmath88 ( as shown in claim  [ omegahyp ] ) , so @xmath644 thus , @xmath88 appears with the forbidden multiplicity @xmath620 ; the corresponding formal application of definition  [ mandef ] : @xmath645+\\frac{[d_1]}{1 - 2}+\\frac{[d_2]}{1 - 2}+\\frac{[e]}{1 - 1 } \\right.\\\\ \\left.+\\frac{[d_1\\cap d_2]}{(1 - 2)^2}+\\frac{[d_1\\cap e]}{(1 - 2)(1 - 1 ) } + \\frac{[d_2\\cap e]}{(1 - 2)(1 - 1)}+\\frac{[d_1\\cap d_2\\cap e]}{(1 - 2)^2 ( 1 - 1)}\\right)\\end{gathered}\\ ] ] appears hopelessly nonsensical .",
    "we are now going to illustrate on this example how some information may be extracted from such ` meaningless ' expressions in certain cases . in an earlier version of this paper",
    "we in fact claimed that the same approach used on this example can be applied in the general case ; that appears to have been overly optimistic .",
    "i am grateful to lev borisov and wim veys for pointing out problems with the original argument .",
    "the idea is to view the multiplicity of @xmath90 as a variable @xmath496 .",
    "the basic formula guaranteeing independence on the resolution becomes an equality of _ rational functions _ with coefficients in the chow group .",
    "the proof of claim  [ indepclaim ] goes through verbatim in this context , and shows that the corresponding expression is well defined as a rational function ; therefore , so must be the expression obtained by specializing @xmath496 to the needed multiplicity .",
    "in example  refflop , the @xmath634 manifestation of the integral of @xmath523 is @xmath646+\\frac{[d_1 ^ -]}{1+m}+\\frac{[d_2 ^ -]}{1+m}+ \\frac{[d_1 ^ -\\cap d_2 ^ -]}{(1+m)^2}\\right)\\ ] ] the @xmath29 manifestation makes sense as a rational function in @xmath496 : @xmath645+\\frac{[d_1]}{1+m}+\\frac{[d_2]}{1+m}+\\frac{[e]}{2+m } \\right.\\\\ \\left.+\\frac{[d_1\\cap d_2]}{(1+m)^2}+\\frac{[d_1\\cap e]}{(1+m)(2+m ) } + \\frac{[d_2\\cap e]}{(1+m)(2+m)}+\\frac{[d_1\\cap d_2\\cap e]}{(1+m)^2 ( 2+m)}\\right)\\end{gathered}\\ ] ] and an explicit computation evaluates this as @xmath647+[d_2])+\\frac{3+m}{2+m}\\,[e]\\\\ + \\frac{(2+m)(4 + 3m)}{(1+m)^2}\\,[d_1\\cap d_2 ] -\\frac{3+m}{1+m}\\,[e]^2+\\frac{(2+m)(3+m)}{(1+m)^2}\\,[p]\\end{gathered}\\ ] ] where @xmath648 $ ] is the class of a point .    the many cancellations clearing several of the factors of @xmath649 at denominator may appear surprising at first , but they are forced by the strong constraints imposed on the situation by the geometry of the flop : this class must push - forward _ as a rational function _ to the @xmath634 and @xmath650 manifestations , which have no such factors ; hence only the terms that are collapsed by the push - forwards are allowed to have poles at @xmath651 . in this example , the only such term is @xmath88 ( as @xmath652 and all other terms survive push - forward to @xmath627 and @xmath628 ) . pushing forward to @xmath0 gives the identity manifestation : @xmath653+\\frac{3 + 2m}{1+m}[d ] + \\frac{(2+m)(4 + 3m)}{(1+m)^2}[l]+\\frac{(3+m)(2+m)}{(1+m)^2}[p]\\quad,\\ ] ] where @xmath134 is the class of a line .",
    "for @xmath651 , this agrees ( of course ) with the class given in example  [ flop ] . for @xmath654",
    "we obtain the ( @xmath17 flavor of the ) _ stringy chern class _ of @xmath0 , according to the definition given in ",
    "[ singclass ] ( and in agreement with proposition  [ stringyclasses ] ) : @xmath639 + 3[d]+8[l]+6[p]\\quad.\\ ] ]    as a last comment on this example , note that the situation is rather different concerning the @xmath15 flavor of the relative canonical divisor : this is @xmath655 for @xmath29 ( by claim  [ normhyp ] ) , while it is _ not a divisor _ for @xmath634 and @xmath650 : for these maps , @xmath15 is tightly wrapped around the distinguished  @xmath629 . in particular ,",
    "the @xmath15 flavor of @xmath656 can not be computed by applying definition  [ mandef ] to @xmath627 or @xmath628 , as these do not resolve the data .",
    "it may be computed by working in @xmath529",
    ".      a similar approach should work if , as in example  [ flop ] , the key data comes from a divisor on @xmath0 , for this guarantees that the multiplicities on the two resolutions can be compatibly promoted to variables , and claim  [ indepclaim ] shows that the corresponding rational functions have the same push - forward in  @xmath0 .",
    "in fact , this attack to the question is not novel : see remark  3.11 in @xcite for a very similar approach ; and the idea of attaching variable terms to problematic multiplicities has been championed by veys with success in important cases ( @xcite , @xcite ) .",
    "the conclusion to be drawn from the preceding considerations is that the best setting in which to define the integrals considered in this paper may in fact be a ` decoration ' of the chow group of a modification system @xmath1 by variables attached to all divisors of @xmath1 .",
    "the integral of a divisor should properly be considered as a rational function with coefficients in the chow group .",
    "the poles and ` residues ' of such rational functions may carry valuable information , as suggested by the connection with topological zeta functions encountered in ",
    "[ applications ] .            victor  v. batyrev .",
    "birational calabi - yau @xmath11-folds have equal betti numbers . in _",
    "new trends in algebraic geometry ( warwick , 1996 ) _ , volume 264 of _ london math .",
    "lecture note ser .",
    "_ , pages 111 .",
    "cambridge univ . press ,",
    "cambridge , 1999 .",
    "brasselet and m .- h .",
    "sur les classes de chern dun ensemble analytique complexe . in _ the euler - poincar characteristic ( french )",
    "_ , volume  83 of _ astrisque _ , pages 93147 .",
    "france , paris , 1981 .",
    "jan denef and franois loeser .",
    "geometry on arc spaces of algebraic varieties . in _",
    "european congress of mathematics , vol .",
    "i ( barcelona , 2000 ) _ , volume 201 of _ progr .",
    "_ , pages 327348 .",
    "birkhuser , basel , 2001 .",
    "miles reid . young person s guide to canonical singularities . in _ algebraic geometry , bowdoin , 1985 ( brunswick , maine , 1985 )",
    "_ , volume  46 of _ proc .",
    "pure math .",
    "_ , pages 345414 .",
    "amer . math .",
    "providence , ri , 1987 ."
  ],
  "abstract_text": [
    "<S> we introduce a notion of integration on the category of proper birational maps to a given variety @xmath0 , with value in an associated chow group . </S>",
    "<S> applications include new birational invariants ; comparison results for chern classes and numbers of nonsingular birational varieties ; ` stringy ' chern classes of singular varieties ; and a zeta function specializing to the topological zeta function .    in its simplest manifestation , </S>",
    "<S> the integral gives a new expression for chern - schwartz - macpherson classes of possibly singular varieties , placing them into a context in which a ` change - of - variable ' formula holds . </S>"
  ]
}