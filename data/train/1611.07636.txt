{
  "article_text": [
    "in this paper , we ask the following question : _ is it possible at all to design good mechanisms for multi - type housing markets ? _ in multi - type housing markets  @xcite , there are multiple types of items , each agent is initially endowed one item of each type .",
    "the goal is to design mechanisms without monetary transfer to ( re)allocate items to the agents based on their preferences over _ bundles _ of items , such that each agent gets one item of each type .",
    "multi - type housing markets are often described using examples of houses and cars as metaphors for indivisible items . however , the allocation problem is applicable to many other types of items and scarce resources .",
    "for example , students may want to exchange papers and dates for presentation  @xcite ; in cloud computing , agents may want to allocate multiple types of resources , including cpu , memory , and storage  @xcite ; patients may want to allocate multiple types of medical resources , including surgeons , nurses , rooms , and equipments  @xcite .",
    "mechanism design for single - type housing markets is a well - established field in economics , often referred to as _ housing markets _  @xcite . in housing markets ,",
    "the most sensible solution concept is the _ strict core _ , which is the set of allocations where no group of agents have incentive to deviate by exchanging their initial endowments within the group .",
    "strict core is desirable because it is an intuitive stable solution , and when agents preferences are linear orders , the strict core allocation always exists and is unique , which can be computed in polynomial time by gale s celebrated _ top - trading - cycles ( ttc ) _",
    "algorithm  @xcite .",
    "ttc enjoys many desirable axiomatic properties including _ individual rationality _ , _ pareto optimality _ , and _ group strategy - proofness_. many extensions of ttc to other single - type housing markets have been proposed and studied .",
    "see more details in related work .",
    "in sharp contrast to the popularity of housing markets , there is little research on multi - type housing markets , despite their importance and generality .",
    "a potential reason for the absence of positive results is that the strict core can be empty or multi - valued in multi - type housing markets  @xcite .",
    "therefore , as  @xcite   noted : _ `` positive results of this section [ on housing markets ] no longer hold in an economy in which one agent can consume multiple houses or multiple types of houses''_. this is the problem we address in this paper and provide a number of positive results , a first in this field .      in this paper , we present novel algorithms building on ai techniques in preference representation and reasoning for allocation in multi - type housing markets .",
    "we assume that agents preferences are represented by arbitrary acyclic _ cp - nets _",
    "different agents may have arbitrarily different cp - net structure .",
    "we also assume that agents preferences are _ lexicographic _ , meaning that agents have arbitrary importance orders over item types .",
    "we propose the following natural extension of ttc , which we call _ multi - type ttc ( mttc ) _ for multi - type housing markets .",
    "mttc builds a directed bipartite graph in each round , where agents and items are two separated groups of vertices .",
    "there is an edge @xmath1 , where @xmath2 is an agent and @xmath3 is agent @xmath4 s initial type-@xmath5 endowment , if ( 1 ) the most important type for agent @xmath2 , from which she has not obtained an item , is type @xmath5 , and ( 2 ) @xmath3 is agent @xmath2 s top - ranked type-@xmath5 item among remaining type-@xmath5 items . for any type @xmath5 and any agent @xmath4",
    ", there is an edge @xmath6 .",
    "then , mttc finds and implements all cycles as ttc does , but only removes the items in the cycle .",
    "the agents always remain in the graph .",
    "we note that in mttc , a cycle may involve items of multiple types .",
    "our main theorem is the following :    * theorem  [ thm : mttc ] . * _ for lexicographic preferences , mttc runs in polynomial - time and satisfies _ strict - core - selection _ ( which implies _ pareto optimality _ and _ individual rationality _ ) , _ non - bossiness _ , and _",
    "strong group strategy - proofness _ when agents can not lie about importance orders over types .",
    "_    we note that theorem  [ thm : mttc ] s assumption on lexicographic preferences are not only very mild given agents can have arbitrarily different cp - net structure and importance orders , but also an extension of naturalistic decision making structures studied in cognitive science literature for ordering items based on multiple criteria  @xcite .",
    "this positive result is especially surprising when it is put in comparison with similar research in _ combinatorial voting _",
    ", where negative results emerge as soon as agents do not share similar cp - net structures  @xcite .",
    "we also prove an impossibility theorem to show that theorem  [ thm : mttc ] can not be improved by allowing agents to lie about the importance order . as for computing other strict cores ,",
    "we prove that , it is conp - complete to check whether a given allocation is in the strict core , even for two types of items and agents with separable preferences w.r.t .",
    "the same importance order .",
    "this hardness result is unexpected due to relatively small number of bundles ( @xmath7 ) , and the simplicity of the underlying preference structures .",
    "furthermore , the same problem for single - type housing market can be easily computed in polynomial time .",
    "we also prove that it is np - hard to check whether the strict core is non - empty .",
    "we expect that the availability of @xmath8 will allow development of many applications for multi - type housing markets , especially those discussed in the beginning of the introduction .",
    "housing markets are closely related to _ house allocation _",
    ", where agents do not have initial endowments , and _ matching _ , where houses also have preferences over agents . see",
    "@xcite for a recent survey . in the past decade , housing markets has been a popular topic under _ multi - agent resource allocation _",
    "@xcite .",
    "many subsequent works in economics and ai extend the standard , single - type housing markets . for example , agents may be indifferent between houses  @xcite .",
    "agents may desire multiple houses  @xcite .",
    "some agents may not have initial endowments  @xcite .    in our setting ,",
    "agent s preferences are represented by the celebrated cp - nets  @xcite .",
    "a cp - net allows agents to specify preferences over items within each type given other items allocated to her . in general , a cp - net represents a _ partial order _ over bundles of items .",
    "cp - nets have been heavily used in combinatorial voting , see for example  @xcite , but negative results often emerge as soon as agents cp - nets do not line up . _ lexicographic orders _",
    "@xcite are special linear orders that extend some cp - nets , where agents can specify importance orders over types .    previously , @xcite   proposed a cp - net - like language and  @xcite   used lexicographic orders to model agents preferences over bundles of items of a single type .",
    "@xcite   characterized strategy - proof mechanisms for multi - type house allocation , when agents preferences include lexicographic preferences . to the best of our knowledge ,",
    "our paper is the first time that cp - nets and lexicographic preferences are investigated in multi - type housing markets .",
    "@xcite   assumed that agents have separable and additive preferences .",
    "this assumption is in general incomparable to our assumptions on agents preferences , because preferences represented by cp - nets are generally not separable , except when the cp - net has no edges .",
    "therefore , our positive results are _ not _ obtained by putting further restrictions on agents preferences .",
    "there has been very little work on multi - type housing markets after  @xcite s negative results  @xcite .",
    "these papers focus on a different solution concept called _ coordinate - wise core rule _ , which are composed of type - wise strict - core allocations .",
    "we show that this naturally corresponds to the output of mttc when agents have separable and lexicographic preferences with a common importance order .",
    "we consider a market consisting of a set @xmath9 of _ agents _ with @xmath10 _ types _ of indivisible items . for any @xmath11 , there are @xmath12 items of type @xmath5 , denoted by @xmath13 .",
    "for each item @xmath14 , @xmath15 is the type of @xmath14 , that is , @xmath16 .",
    "each agent @xmath17 initially owns exactly one item of each type , and her endowment is denoted by a @xmath18-vector @xmath19 .",
    "w.l.o.g .",
    "in this paper we let @xmath20 .",
    "let @xmath21 be the set of all _ bundles _ , each of which is represented by a @xmath18-vector .",
    "we will often use vectors such as @xmath22 and @xmath23 to represent bundles , and for any @xmath11 , let @xmath24_i$ ] denote the type-@xmath5 item in @xmath22 .",
    "a _ multi - type housing market _",
    "@xmath25 is given by the tuple @xmath26 .",
    "each agent desires to consume exactly one item of each type , and her preferences are represented by a linear order over @xmath27 .",
    "a _ preference profile _",
    "@xmath28 is a collection of agents preferences . in any multi - type housing market @xmath25 ,",
    "an allocation @xmath29 is a mapping from @xmath30 to @xmath31 such that for any @xmath32 , @xmath33 is the bundle allocated to @xmath34 .",
    "since no item is allocated twice , we have that for any @xmath35 and any @xmath11 , @xmath36_i\\ne [ a(j')]_i$ ] . given a market @xmath25 , a _ mechanism _",
    "@xmath37 is a function that maps agents profile @xmath38 to an allocation in @xmath25 .",
    "a mechanism @xmath37 satisfies _ individually rationality _ if for any profile @xmath38 , no agent prefers her initial endowment to her allocation by @xmath37 .",
    "@xmath37 satisfies _ pareto optimality _",
    "if for any profile @xmath38 , there does not exist an allocation @xmath29 such that ( 1 ) every agent weakly prefers her allocation in @xmath29 to her allocation in @xmath39 , and ( 2 ) some agent strictly prefers her allocation in @xmath29 to that in @xmath39 .",
    "@xmath37 is _ non - bossy _ if for any profile @xmath38 , no agent can change any other agent s allocation without changing her own by reporting differently .",
    "@xmath37 is _ strategy - proof _ if for each agent , falsely reporting her preferences is not beneficial .",
    "a mechanism satisfies _",
    "strong group strategy - proofness _ if there is no group of agents @xmath40 who can falsely report their preferences so that ( 1 ) every agent in @xmath40 gets a weakly preferred bundle , and ( 2 ) at least one agent in @xmath40 gets a strictly preferred bundle .",
    "an allocation @xmath29 is said to be _ weakly blocked _ by a _ coalition _",
    "@xmath41 , if the agents in @xmath40 can find an allocation @xmath42 of their initial endowments so that each agent weakly prefers allocation in @xmath42 to that in @xmath29 , and some agent is strictly better off in @xmath42 than in @xmath29 .",
    "the _ strict core _ of a market is the set of all allocations that are not weakly blocked by any coalition .",
    "a mechanism @xmath37 is _ strict - core - selecting _ , if for any profile @xmath38 , @xmath39 is always in the strict core .",
    "a ( directed ) cp - net @xmath43 over @xmath27 is defined by    a directed graph @xmath44 , called the _ dependency graph _ , and    for each @xmath45 , there is a conditional preference table @xmath46 that contains a linear order @xmath47 over @xmath45 for each valuation @xmath48 of the parents of @xmath45 in @xmath49 , denoted @xmath50 .",
    "each cpt - entry @xmath47 carries the following meaning : my preferences over type @xmath5 is @xmath47 given that i get items @xmath51 , and these preferences are independent of other items i get .",
    "an agents preferences are _ separable _ if there are no edges in the dependency graph .",
    "each cp - net @xmath43 represents a partial order @xmath52 , which is the transitive closure of preference relations represented by all cpt entries , which are @xmath53 .",
    "for example , figure  [ fig : cp_eg ] illustrates a separable cp - net .",
    "there are two types : houses ( h ) and cars ( c ) , with two items per type . since the preferences are separable , there is no edge in the dependency graph ( in the left of the figure ) .",
    "the cpts are shown in the middle of the figure  [ fig : cp_eg ] , and the partial order represented by the cp - net is shown in the right .",
    "let @xmath54 $ ] be a linear order over the types .",
    "a cp - net is @xmath55-legal , if there is no edge @xmath56 with @xmath57 in its dependency graph .",
    "lexicographic extension _ of an @xmath58-legal cp - net @xmath43 is a linear order @xmath59 over @xmath27 , where for any @xmath60 , any @xmath61 , any @xmath62 , and any @xmath63 , if @xmath64 in @xmath43 , then @xmath65 .",
    "in other words , the agent believes that type @xmath66 is most important type to her , @xmath67 is the second most important type , etc . in a lexicographic extension , @xmath55 is called the _ importance order_.    in this paper an agent s preferences are _ lexicographic _ , which means that each agent s ranking is a lexicographic extension of a cp - net .",
    "we note that the cp - net does not need to be separable and the importance order can be different .",
    "suppose the agent s preferences is lexicographic w.r.t .",
    "the separable cp - net in figure  [ fig : cp_eg ] and the importance order @xmath68 , then her preferences are @xmath69",
    ". if her importance order is @xmath70 , then her preferences are @xmath71 .",
    "c    ccc    [ cols=\"^,^\",options=\"header \" , ]     [ lem : nb ] for any multi - type housing market @xmath25 , any profile @xmath38 , and any agent @xmath34 , let @xmath72 be any market where agent @xmath34 changes her top bundle to be @xmath73 and other agents preferences are the same , then @xmath74 .",
    "w.l.o.g .",
    "let @xmath75 and @xmath76 be the set of cycles that involve agent @xmath34 in @xmath77 .",
    "let @xmath78 .",
    "by lemma  [ lem : mttcs = mttc ] , there exists @xmath79 such that @xmath80 .",
    "we next prove that @xmath81 can be applied to @xmath72 and the output is the same as @xmath82 . to see this , we will examine two parallel runs of the execution of @xmath81 with input @xmath38 and with input @xmath72 , respectively . for any @xmath83 ,",
    "let @xmath84 and @xmath85 denote the graphs of @xmath86 in the beginning of round @xmath87 w.r.t .",
    "@xmath38 and @xmath72 , respectively .",
    "we claim that for all @xmath88 , @xmath89 by induction .",
    "the base case of @xmath90 is straightforward .",
    "suppose the claim is truth for all @xmath91 .",
    "then if the @xmath92-th cycle in @xmath93 is not in @xmath94 , then @xmath95 because all agents except agent @xmath96 have the same preferences in @xmath38 and in @xmath72 .",
    "if the @xmath92-th cycle in @xmath93 is in @xmath94 , then suppose agent @xmath96 points to an item @xmath97 in @xmath84 .",
    "this means that @xmath98_i = o_i$ ] .",
    "therefore , agent @xmath96 also points to @xmath99 in @xmath85 .",
    "this proves that @xmath89 for all @xmath88 .",
    "therefore , @xmath81 can be successfully applied to @xmath72 and the allocation is the same as @xmath100 . by lemma  [ lem : mttcs = mttc ]",
    ", @xmath101 is the same as the output of @xmath81 on @xmath72 , which proves the lemma .",
    "* step 4 : @xmath8 satisfies non - bossiness . *",
    "suppose for the sake of contradiction @xmath8 does not satisfy non - bossiness . w.l.o.g .",
    "let @xmath25 and @xmath72 denote two markets where only agent @xmath96 s preferences are different , @xmath102 , yet @xmath103 .",
    "let @xmath104 denote the market obtained from @xmath25 by letting agent @xmath96 s top - ranked bundle to be @xmath105 .",
    "by lemma  [ lem : nb ] , @xmath106 and @xmath107 , which is a contradiction .",
    "* step 5 : @xmath8 is strong group - strategyproof when the agents can not lie about the importance orders .",
    "* suppose for the sake of contradiction that the proposition is not true in a multi - type housing market @xmath25 .",
    "let @xmath38 denote the truthful profile , @xmath108 denote the group of strategic agents , and @xmath72 denote the untruthful profile where preferences of all truthful agents are the same as in @xmath38 .",
    "let @xmath109 denote the profile obtained from @xmath72 by letting the top - ranked bundle of all agents @xmath110 be @xmath111 . by sequentially applying lemma  [ lem : mttcs = mttc ] to all agents in @xmath40",
    ", we have that @xmath112 . in particular",
    ", all agents in @xmath40 get the same bundles in @xmath113 as those in @xmath101 .",
    "we now compare side by side two parallel runs of two @xmath86 algorithms : @xmath114 and @xmath115 .",
    "we will define @xmath81 and @xmath116 dynamically .",
    "starting with @xmath90 , let @xmath84 and @xmath117 denote the graphs of @xmath86 at the beginning of round @xmath87 for input @xmath38 and input @xmath109 , respectively .",
    "if there is a common cycle @xmath118 in @xmath84 and @xmath117 , then we let both @xmath81 and @xmath116 implement @xmath118 , and move on to the next round .    because @xmath119 , there exists a round @xmath87 such that @xmath84 and @xmath117 does not have a common cycle .",
    "let @xmath120 be the earliest such round .",
    "we note that for any @xmath121 , the outgoing edge of @xmath34 in @xmath122 and that in @xmath123 must be same , because @xmath34 is truthful and the remaining items in @xmath122 and in @xmath123 are the same .",
    "let @xmath118 denote an arbitrary cycle in @xmath122 .",
    "it follows that there exists @xmath110 such that @xmath124 and @xmath125 , where @xmath126 .",
    "because no agent is allowed to lie about the importance order , and the allocation of all previous rounds are the same in @xmath81 and in @xmath116 , we must have @xmath127 , @xmath128 is in @xmath84 , and the items agent @xmath34 gets in all previous rounds in @xmath81 is the same as that in @xmath129 .",
    "therefore , agent @xmath34 strictly prefers @xmath99 to @xmath128 give her allocation of more important types in previous rounds in @xmath81/@xmath129 .",
    "we note that because agent @xmath34 s top - ranked bundle is her final allocation in @xmath113 , agent @xmath34 must get @xmath128 in @xmath113 . because agent @xmath34 gets @xmath99 in @xmath100 , we have that @xmath130 .",
    "this contradicts the assumption that none of agents in @xmath40 is strictly worse off in @xmath113 .",
    "therefore , @xmath8 is strong group - strategyproof when agents can not lie about the importance orders .",
    "@xmath8 is not strategy - proof w.r.t .  only misreporting the importance order ( i.e.  without misreporting local preferences over types ) .",
    "consider the preferences in figure  [ fig : mttc ] .",
    "we recall that when agents are truthful , the output of @xmath8 is @xmath131 to agents @xmath132 , respectively ( example  [ eg : mttc ] ) . if agent @xmath96 misreport the importance order as @xmath133 without misreporting any preferences over types , then the output of @xmath8 is @xmath134 to agents @xmath132 , respectively .",
    "we note that agent @xmath96 prefers @xmath135 to @xmath136 .",
    "this proves the proposition .",
    "the strict core of a multi - type housing market can be multi - valued , even when agents preferences are separable and lexicographic w.r.t .  the same order .",
    "consider the preferences in figure  [ fig : mttc ] .",
    "let @xmath42 denote the allocation such that @xmath137 .",
    "for the sake of contradiction , suppose @xmath40 be a blocking coalition to @xmath42 .",
    "we can observe that agents @xmath138 each receive their top bundles in @xmath42 and have no incentive to participate in a coalition .",
    "therefore @xmath139 .",
    "however , it can be verified that @xmath42 is pareto optimal .",
    "further , agent @xmath140 can not benefit by not participating since @xmath141 .",
    "this means that there is no coalition that blocks @xmath42 , which is a contradiction .",
    "the next theorem states that , not only is @xmath8 susceptible to misreporting importance order , but also , all mechanisms that satisfies individual rationality and pareto optimality do .",
    "we note the @xmath8 satisfies _ strict - core - selecting _ , which implies individual rationality and pareto optimality .",
    "[ thm : impossibility ] for any multi - type housing market @xmath25 with @xmath142 and @xmath0 , there is no mechanism that satisfies individually rationality , pareto optimality , and strategy - proofness , even when agents preferences are lexicographic and separable .    for the sake of contradiction ,",
    "let @xmath37 be any mechanism that is individually rational , pareto - optimal and strategy - proof .",
    "consider the agents lexicographic and separable preferences @xmath38 as in figure  [ fig : eg_impossibility ] .",
    "explicitly , @xmath38 is the following + @xmath96 : @xmath143 others .",
    "+ @xmath144 : @xmath145 others .",
    "+ @xmath140 : @xmath146 others .",
    "the only individually rational allocations are :    1 .",
    "2 .   @xmath148 .",
    "3 .   @xmath149",
    ".    only ( i ) and ( ii ) are also pareto - optimal",
    ".    since @xmath37 is individually rational and pareto optimal , @xmath39 must be either @xmath147 , or @xmath148 .",
    "we will show that in either case there is some agent who has an incentive to misreport her preferences .",
    "suppose @xmath150 .",
    "then , consider the case where agent @xmath96 misreports her lexicographic order as @xmath151 .",
    "agent @xmath96 s preferences over bundles is @xmath152 others .",
    "the allocation @xmath147 is not individually rational w.r.t .",
    "the profile with agent @xmath96 s misreported preferences .",
    "the only allocation that is both individually rational and pareto optimal w.r.t .",
    "the misreported preferences is @xmath148 .",
    "therefore , @xmath37 must select this allocation .",
    "note that agent @xmath96 does strictly better , @xmath153 , when she misreports .",
    "this contradicts the assumption that @xmath37 is strategy - proof .",
    "suppose @xmath154 .",
    "then consider the case where agent @xmath140 misreports her lexicographic order as @xmath151 , and her local preferences over type @xmath96 as @xmath155 .",
    "agent @xmath140 s preference over bundles is @xmath156 others .",
    "the only allocation that is both individually rational and pareto optimal w.r.t .",
    "the profile with agent @xmath140 s misreported preferences is @xmath147 .",
    "therefore , @xmath37 must select this allocation .",
    "note that agent @xmath140 gets a strictly better bundle , @xmath157 , when she misreports her preferences.this contradicts the assumption that @xmath37 is strategy - proof .",
    "therefore , such a mechanism @xmath37 does not exist .",
    "this proves the theorem .",
    "given a multi - type housing market @xmath25 , agents preferences @xmath38 , and an allocation @xmath29 , we are asked whether @xmath29 is a strict core allocation w.r.t .",
    "@xmath25 .",
    "instrictcore is co - npc even when agents have separable lexicographic preferences over @xmath158 types .",
    "we start by noting that given a blocking coalition @xmath40 and an allocation @xmath42 it is easy to check whether @xmath40 blocks @xmath29 when agents have lexicographic preferences .",
    "we show a reduction from 3-sat .",
    "an instance of 3-sat is given by a formula @xmath159 in 3-cnf , consisting of clauses @xmath160 involving boolean variables @xmath161 that can take on values in \\{0,1 } , and we are asked whether there is a valuation of the variables that satisfies @xmath159 .",
    "[ eg:3sat ] @xmath162 is a formula in 3-cnf involving variables @xmath163 and clauses @xmath164 .",
    "we will use this example to illustrate the proof .",
    "given an arbitrary instance @xmath165 of 3-sat , we construct an instance @xmath166 of instrictcore where @xmath38 is a profile of lexicographic preferences over @xmath167 types where all agents have the same importance order @xmath168 , and an allocation @xmath29 as follows :    every agent @xmath2 is initially endowed with the bundle @xmath169_1,[a]_2)$ ] .",
    "we will represent agents lexicographic preferences in @xmath38 with importance order @xmath168 for every agent , and their allocated items in @xmath29 by 2 directed graphs @xmath170 , one for each type .",
    "@xmath170 have a node for each agent .",
    "a @xmath171 edge @xmath172 in @xmath173 represents    the preference @xmath174_k \\succ [ a]_k$ ] , and    the allocation @xmath175_k = [ b]_k$ ] .",
    "a @xmath176 edge @xmath172 indicates a strict preference @xmath174_k \\succ [ a(a)]_k$ ] .",
    "the absence of an edge @xmath172 indicates @xmath174_k \\prec [ a]_k$ ] .",
    "the graph @xmath177 corresponding to example  [ eg:3sat ] is in figure  [ fig : g1 ] .",
    "formally , we construct @xmath177 as follows :    * for each variable @xmath178 , for each @xmath179 , we add @xmath171 edges @xmath180 and @xmath181 . * for each variable @xmath178 , for each @xmath179 , we add @xmath171 edges @xmath182 and @xmath183 . * for @xmath184 , we add a @xmath171 edge @xmath185 and @xmath176 edges @xmath186 . * for @xmath184",
    ", we add @xmath171 edges @xmath187 . * for each of @xmath188 , we add @xmath171 edges @xmath189 . *",
    "we add @xmath171 edges @xmath190 .",
    "* finally , we add @xmath171 edges @xmath191 , @xmath176 edges @xmath192 .",
    "we illustrate the construction of @xmath193 in figure  [ fig : g2 ] .",
    "formally , @xmath193 is constructed as :    * for @xmath184 , for @xmath194 , we add @xmath171 edges @xmath195 .",
    "* for @xmath184 , we add @xmath171 edges @xmath196 * we add @xmath171 edges @xmath197 .",
    "* for every clause @xmath198 , if @xmath178 is a literal in @xmath198 , we add @xmath176 edges @xmath199 ( similarly , we add @xmath176 edges to and from @xmath200 is the literal @xmath201 is involved in clause @xmath198 ) .",
    "* we add @xmath171 edges @xmath202 .",
    "@xmath38 is the profile of lexicographic preferences where agent has the importance order @xmath168 over types and every agents local preferences over items of type @xmath96 and type @xmath144 are represented by the graphs @xmath177 and @xmath193 respectively .",
    "this completes the construction .",
    "we briefly illustrate the idea behind the rest of the proof using example  [ eg:3sat ] .",
    "consider the satisfying valuation @xmath203 .",
    "it is easy to verify that there is a coalition of agents @xmath204 .",
    "when agents in @xmath40 receive items according to the edges in the cycle involving all of them in @xmath177 , they all receive an item of type @xmath96 that is weakly preferred over their item in @xmath29 according to their local preferences given by @xmath177 .",
    "agents @xmath205 and @xmath206 strictly improve over their allocations in @xmath29 according to their preferences in @xmath193 by exchanging items with agents @xmath207 and @xmath208 respectively .",
    "now , consider the negative example of the valuation and @xmath209 and the coalition @xmath210 . note that agents @xmath205 and @xmath206 do not strictly improve over their allocations of type @xmath96 in @xmath29 .",
    "they must improve over their items of type @xmath144 .",
    "however , agent @xmath206 can only receive a strictly worse item of type @xmath144 compared to her allocation in @xmath29 from the agents in @xmath40 .    at a high level , we use the construction in graph @xmath177 to ensure that the valuation of variables is consistent by ensuring that for any variable @xmath178 , we may only exclusively have either agents @xmath211 or @xmath200 in any blocking coalition .",
    "we use @xmath193 to ensure that if there is a coalition that includes every agent @xmath198 , then there is a satisfying valuation of the boolean variables that satisfies all clauses .",
    "we now proceed with the formal proof .",
    "( @xmath212 ) if @xmath165 is a yes instance , then @xmath166 is a no instance .",
    "let @xmath213 be a valuation that satisfies the formula @xmath159 in instance @xmath165 .",
    "we will show the existence of a blocking coalition in @xmath166 .",
    "consider the coalition @xmath40 :    * @xmath214 , if @xmath215 ( similarly @xmath216 ) , then @xmath217 , @xmath218 and @xmath219 ( similarly @xmath200 , @xmath201 ) .",
    "* @xmath220 , @xmath221 .",
    "* @xmath222 .",
    "we will now construct an allocation @xmath42 on @xmath40 that weakly improves every agents allocation over @xmath29 and is strictly improving for some agent .",
    "we will construct @xmath42 by identifying cycles in the graph and assigning every agent in a cycle the item of the agent she is pointing at .",
    "consider the graph @xmath177 and the allocations corresponding to the cycle :    * edges @xmath223 .",
    "* if @xmath224 , the edge @xmath225 .",
    "( similarly , @xmath226 ) * for every @xmath184 , if @xmath215 , the edges @xmath227 and the edge @xmath181 . * for every @xmath228 , if @xmath229 and @xmath230 , the edge @xmath185 . *",
    "if @xmath231 , the edge @xmath232 .    in @xmath193 , consider the allocations corresponding to the cycles :    * for @xmath233 , let @xmath5 be the lowest number such that @xmath234 satisfies clause @xmath198 , and let @xmath215 , then a cycle involving @xmath176 edges @xmath199 .",
    "( similarly if @xmath235 , a cycle involving @xmath236 ) .",
    "* for the remaining agents @xmath218 ( or @xmath237 ) , agents @xmath219 ( or @xmath238 ) and agents @xmath239 , a self loop .",
    "in the allocation @xmath42 constructed by implementing the cycles we identified , every agent receives a weakly improving bundle over their allocated bundle in @xmath29 since they receive items of both types that are weakly preferred according to their local preferences . the agents @xmath198 and @xmath211 ( or @xmath200 ) corresponding to a satisfying valuation of the variable @xmath178 involved in clause @xmath198 , receive strictly improving bundles by receiving strictly preferred items of type @xmath144 in @xmath42 compared to @xmath29 according to their local preferences .",
    "lastly , note that @xmath42 is an allocation on @xmath40 since none of the items allocated in @xmath42 were initially endowed to any agent outside @xmath40 .",
    "this shows that @xmath40 is a blocking coalition and @xmath42 is a weakly improving allocation on @xmath40 , and strictly improving for some agents in @xmath40 .",
    "therefore , @xmath166 is a no instance .",
    "( @xmath240 ) if @xmath166 is a no instance , @xmath165 is a yes instance .",
    "we are given that @xmath166 is a no instance .",
    "let @xmath40 be a coalition that blocks @xmath29 w.r.t .",
    "preferences in @xmath38 and let @xmath42 be an allocation on @xmath40 such that    @xmath241 , and    @xmath242    .",
    "@xmath243  we start by proving some simple properties about the membership of agents in @xmath40 that are specific to our construction . throughout , we will use the fact that @xmath42 must be an allocation where    @xmath244 such that @xmath245_1 \\prec [ a(a)]_1 $ ] , and    @xmath246 , if @xmath245_1 = [ a(a)]_1 $ ] , then we must have that @xmath245_2 \\succeq [ a(a)]_2 $ ]    .",
    "otherwise , if there is some agent @xmath247 for which the allocation @xmath42 fails to satisfy either of these conditions , then @xmath248 .",
    "[ lem : xij ] for any @xmath184 , any @xmath249 ,    if @xmath218 , then @xmath250_1 = [ 1_i^{j+1}]_1 = [ a(1_i^j)]_1 , 1_i^{j+1 } \\in s$ ] , and    if any @xmath237 , then @xmath251_1 = [ 0_i^{j+1}]_1 = [ a(0_i^j)]_1 , 0_i^{j+1 } \\in s$ ] .",
    "let there be some agent @xmath252 , such that @xmath250_1 \\neq [ 1_i^{j+1}]_1 $ ] . then , according to her local preferences in @xmath177 , @xmath250_1 \\prec [ a(1_i^j)]_1 $ ] and by her importance order @xmath168 , @xmath253 .",
    "this is a contradiction to our assumption that @xmath42 is an improving allocation for every agent in @xmath40 .",
    "[ lem : xij1 ] for any @xmath184 , any @xmath254 ,    if @xmath218 , then @xmath255_1 = [ 1_i^j]_1 $ ] and @xmath256 , and    if @xmath237 , then @xmath257_1 = [ 0_i^j]_1 $ ] and @xmath258 .    by lemma  [ lem : xij ]",
    ", @xmath211 must be assigned @xmath259_1 $ ] ( or if @xmath260 , one of the items @xmath261_1 , [ 0_{i+1}^1]_1 $ ] , or @xmath262_1 $ ] ) .",
    "then , the item @xmath263_1 $ ] must be assigned to another agent in @xmath40 .",
    "suppose an agent @xmath264 is assigned @xmath263_1 $ ] in @xmath42 .",
    "however , according to the preferences in @xmath177 , for every agent @xmath2 other than @xmath265 , the item @xmath263_1 $ ] is strictly worse than their allocated type-@xmath96 item in @xmath29 . then , @xmath266 according to @xmath38 , a contradiction to our assumption that @xmath42 is weakly improving for every agent in @xmath40 .",
    "[ lem : allxij ] for any @xmath184 , any @xmath267 ,    if @xmath268 , then for every @xmath194 , @xmath269_1 = [ a(1_i^j)]_1 $ ] and @xmath219 , and    if @xmath270 , then for every @xmath194 @xmath271_1 = [ a(0_i^j)]_1 $ ] and @xmath238 .    .    if @xmath268 , by lemma  [ lem : xij ] , for every @xmath272 agent @xmath273 and @xmath250_1 = [ a(1_i^j)]_1 $ ] , and by lemma  [ lem : xij1 ] , for every @xmath274 , agent @xmath218 and @xmath250_1 = [ a(1_i^j)]_1 $ ] . if @xmath275 , @xmath276_1 = [ a(1_i^{k_i})]_1 $ ] and @xmath219 .",
    "[ lem : xij2 ] for any @xmath184 , any @xmath194 , if @xmath218 and @xmath250_1 \\preceq [ a(1_i^j)]_1 $ ] , then either @xmath250_2 = [ 1_i^j]_2 = [ a(1_i^j)]_2 $ ] or @xmath250_2 = [ c_i^j]_2 $ ] .    every other type-@xmath144 item is strictly worse than @xmath277_2 $ ] according to agent @xmath211 s local preferences in @xmath193 . if @xmath250_2 \\notin \\{[1_i^j]_2,[c_i^j]_2\\}$ ] , then @xmath278 according to her preferences in @xmath177 and @xmath193 , a contradiction to our assumption that @xmath42 is improving for every agent in @xmath40 .",
    "[ cl : cj ] let any agent @xmath279 , then for every @xmath233    @xmath280_1 = [ a(c_j)]_1 = [ c_{j+1}]_1 , c_{j+1 } \\in s$ ] ,    if @xmath280_2 \\notin \\{[a]_2 : a\\allowbreak~ \\text{is an agent}~\\allowbreak0_i^j~\\allowbreak\\text{or}~\\allowbreak1_i^j~\\allowbreak\\text{corresponding\\allowbreak~ to the valuation \\allowbreak of a variable}~\\allowbreak x_i~\\allowbreak\\text{that\\allowbreak~ satisfies\\allowbreak~ clause}~c_j\\}$ ] then , @xmath281_2 = a(c_j)$ ] , and    @xmath282 , and @xmath283 .    .    if @xmath284 , by the preferences in @xmath177 , we must have that @xmath280_1 = [ a(c_j)]_1 = [ c_{j+1}]_1 $ ] and @xmath285 ( and if @xmath286 , @xmath287_1 = [ a(c_m)]_1 = [ e_2]_1 $ ] and @xmath288 ) since every other item of type @xmath96 is strictly worse .",
    "now , the item @xmath289_1 $ ] must be assigned to some agent in @xmath40 . however , the only agent for whom the assignment of @xmath289_1 $ ] is weakly beneficial is the agent @xmath290 ( or if @xmath75 , the agent @xmath291 ) . by induction",
    "we must have that if @xmath279 , every agent @xmath198 and the agents @xmath239 are in @xmath40 and their allocation of items of type @xmath96 is the same in @xmath42 and in @xmath29 .",
    "this proves part ( i ) .    to prove part ( ii ) ,",
    "let us examine @xmath193 .",
    "every other item of type @xmath144 is strictly worse than @xmath292_2 $ ] according to @xmath198 s local preferences in @xmath193 . if she receives any other item of type @xmath144 , then @xmath293 , a contradiction to our assumption that @xmath42 is improving for every agent in @xmath40",
    "finally , agents @xmath291 and @xmath294 must be assigned @xmath295_2 $ ] and @xmath262_2 $ ] respectively since they do not strictly improve on their item of type @xmath96 in @xmath42 .",
    "this completes the proof of part ( iii ) .",
    "[ lem : di ] for every @xmath296 .",
    "we provide a proof by contradiction that if @xmath297 , then @xmath40 must involve every agent in our construction and that there is no allocation @xmath42 that improves over @xmath29 .",
    "[ cl : di1 ] if @xmath297 , @xmath298_1 = [ 0_i^1]_1 = [ a(d_i)]_1 $ ] and @xmath299 .",
    "let us examine @xmath177 .",
    "if @xmath297 , we must have that @xmath298_1 = [ 0_i^1]_1 = [ a(d_i)]_1 , 0_i^1 \\in s$ ] , since every other item is strictly worse according to her local preferences over type @xmath96 .",
    "[ cl:0ijdi ] if @xmath297 , then for every @xmath200 , @xmath271_1 = [ a(0_i^j)]_1 $ ] and @xmath300_1 = [ a(0_i^j)]_1 = [ d_i]_1 $ ] .",
    "if @xmath297 , the claim follows from claim  [ cl : di1 ] , lemma  [ lem : allxij ] , and the fact that @xmath301 $ ] must be assigned to @xmath302 if @xmath238 according to the preferences of every other agent in @xmath177 .",
    "[ cl : alldi ] if a @xmath303 , then    for every @xmath304 , @xmath297 and @xmath305 , and    for every @xmath306 , agent @xmath221 and @xmath307 .",
    "let us examine @xmath193 .",
    "for every @xmath308 , if @xmath297 , we must have that @xmath298_2 = [ d_{i+1}]_2 = [ a(d_i)]_2 , d_{i+1 } \\in s$ ] .",
    "suppose for some @xmath228 , @xmath298_2 \\neq [ d_{i+1}]_2 $ ] , then @xmath298_2 \\prec [ a(d_i)]_2 $ ] . for @xmath309",
    ", we must have that @xmath310_2 = [ c_{n}]_2 = [ a(d_m)]_2 $ ] and that @xmath311 .",
    "together with claim  [ cl : di1 ] this proves part ( i ) of the claim .    part ( ii ) of the claim",
    "is proved by claim  [ cl : cj ] and the following argument .",
    "first we show that @xmath312 can not enter into an exchange with an agent @xmath313 ( or @xmath314 ) corresponding to a valuation of @xmath178 that satisfies @xmath312 .",
    "if @xmath312 receives @xmath315_2 $ ] ( or @xmath316_2 $ ] ) , then by lemma  [ lem : allxij ] , claim  [ cl:0ijdi ] and lemma  [ lem : xij2 ] , the agent @xmath313 ( or @xmath314 ) must be assigned @xmath317_2 $ ] since she can not be assigned a strictly improving item of type @xmath96 in @xmath42 .",
    "let us consider agents @xmath198 in the order @xmath318 .",
    "we know that @xmath221 and the item @xmath319_2 $ ] must already be assigned to another agent . then , @xmath198 must exchange items with an agent @xmath211 ( or @xmath200 ) corresponding to a valuation of the variable @xmath178 that satisfies @xmath198",
    ".    if @xmath297 , then by claim  [ cl : alldi ] , claim  [ cl : di1 ] , claim  [ cl:0ijdi ] , lemma  [ lem : allxij ] and lemma  [ lem : xij2 ] , @xmath40 must be the set of all agents , and that the weakly improving allocation @xmath42 is exactly the allocation @xmath29 .",
    "this is a contradiction to our assumption that @xmath42 is weakly improving for every agent but also strictly improving for some agent .",
    "@xmath243  the final key step is to establish that any blocking coalition @xmath40 involves all of the agents @xmath198 , and for every @xmath184 , either all of @xmath320 or all of @xmath321 .",
    "[ lm : satblock ] every weakly blocking coalition @xmath40 consists of all the agents @xmath322 , and @xmath323 , either    all agents @xmath320 , or    all agents @xmath321 .",
    "we start by showing that every blocking coalition @xmath40 must include at least one of the agents @xmath324 , or @xmath198 since these are the only agents with @xmath176 incoming or outgoing edges and every allocation @xmath42 that strictly improves over @xmath29 must involve an assignment corresponding with one of these edges .",
    "if any @xmath279 or any @xmath325 or any @xmath326 , then @xmath222 , every @xmath221 and for every @xmath184 , either every agent @xmath218 or every @xmath237    suppose @xmath279 .",
    "let us examine her preferences in @xmath177 . by claim  [ cl : cj ] , for @xmath188",
    ", we must have that @xmath280_1 = [ c_{j+1}]_1 = [ a(c_j)]_1 $ ] , and @xmath285 . by induction , @xmath311 .",
    "if @xmath311 , we must have that @xmath327_1 = [ e_2]_1 = [ a(c_n)]_1 , e_2 \\in s$ ] since every other item of type @xmath96 is worse according to @xmath177 .    if @xmath288 then either @xmath328_1 = [ 1_1 ^ 1]_1 $ ] , and @xmath329 or @xmath328_1 = [ 0_1 ^ 1]_1 $ ] , and @xmath330 since these are the only two items that are weakly preferred over @xmath331_1 $ ] .    for any @xmath184 ,",
    "if @xmath268 , then by lemma  [ lem : allxij ] , for every @xmath194 , @xmath218 and @xmath219 .",
    "( similarly , if for any @xmath184 , any @xmath270 , then for every @xmath194 , agent @xmath237 ) .    for @xmath228 ,",
    "if @xmath219 , then either @xmath332 or @xmath333 since in the case that @xmath178 is not assigned one of the items @xmath261_1 $ ] or @xmath334_1 $ ] in @xmath42 , any other item of type @xmath96 assigned to her must be worse than @xmath335_1 $ ] according to the preferences in @xmath177 , a contradiction to our assumption that @xmath42 is weakly improving for every agent in @xmath40 .",
    "similarly , if @xmath238 , then either @xmath332 or @xmath333 .     finally , if @xmath336 ( or @xmath337 )",
    ", then we must have that @xmath338 , since @xmath295_1 $ ] is the only item that is weakly better than her allocation in @xmath29 according to @xmath177 .",
    "if @xmath338 , we must have that @xmath339 since @xmath340_1 $ ] is the only item that is weakly preferred over @xmath341_1 $ ] according to @xmath177 .",
    "thus , if any agent @xmath342 or @xmath201 is in @xmath40 , then we must have @xmath339 .",
    "we have already established that the existence of any @xmath221 implies that for every @xmath184 , either all @xmath218 or all @xmath237 .",
    "finally , we will show that there is no blocking coalition @xmath40 such that for some @xmath184 , any @xmath343 the agents @xmath218 and @xmath344 .",
    "suppose for the sake of contradiction that such a coalition exists .",
    "we must have by lemma  [ lem : xij ] , lemma  [ lem : xij1 ] and lemma  [ lem : di ] that both @xmath345 .",
    "however , by lemma  [ lem : di ] , we know that @xmath346 which implies that both @xmath347 and @xmath337 must get @xmath295_1 $ ] in @xmath42 since every other item is strictly worse than their allocations in @xmath29 according to preferences in @xmath177 .",
    "this is impossible since items are unique and indivisible .",
    "[ lem : xij1noimprovement ] if @xmath218 , @xmath250_1 = [ a(1_i^j)]_1 = [ 1_i^{j+1}]_1 $ ] ( if @xmath348_1 $ ] ) .    every other item of type @xmath96 is strictly worse for agent @xmath211 according to @xmath177 .",
    "similarly , if @xmath237 , @xmath251_1 = [ a(0_i^j)]_1 = [ 0_i^{j+1}]_1 $ ] ( if @xmath349_1 $ ] ) .",
    "@xmath243  we will now prove that : _ if there is a coalition @xmath40 that blocks @xmath29 , there is a satisfying assignment to @xmath159 .",
    "_    we now describe the construction of a valuation @xmath213 that satisfies the formula @xmath159 in the instance @xmath165 by examining @xmath193 and argue that such a valuation must exist .",
    "we start by noting that since agents @xmath198 and agents @xmath350 can not strictly improve over their allocations of type @xmath96 according to preferences in @xmath177 , they must weakly improve their allocation of items of type @xmath144 .",
    "let us examine @xmath193 .",
    "we know by lemma  [ lem : di ] that none of the agents @xmath302 are in @xmath40 .",
    "we have also shown that @xmath339 .",
    "agent @xmath205 must receive an item @xmath351_2 $ ] ( or @xmath352 $ ] ) where the corresponding valuation of the variable @xmath178 satisfies @xmath205 and the agent @xmath353 ( or @xmath354 ) is in @xmath40 . otherwise ,",
    "every other item of type @xmath144 is strictly worse than her allocated item of type @xmath144 in @xmath29 and together with the fact that @xmath205 does not receive a strictly better item of type @xmath96 in @xmath42 , we have that @xmath355 , a contradiction to our assumption that @xmath42 is weakly improving for every agent in @xmath40 .",
    "further , agent @xmath353 ( or @xmath354 ) must receive the item @xmath340_2 $ ] since every other item is strictly worse . set @xmath356 to be @xmath96 if @xmath205 gets @xmath351_2 $ ] and to @xmath216 if @xmath205 gets @xmath352_2 $ ] in @xmath42 .",
    "similarly , agent @xmath206 can not assigned @xmath340_2 $ ] since it must be assigned to some agent @xmath353 ( or @xmath354 ) and agent @xmath206 must exchange items with agent an agent @xmath357 ( or @xmath358 ) that corresponds to a satisfying valuation of a variable @xmath178 that satisfies clause @xmath206 . by an inductive argument , we must have that for every @xmath306 , agent @xmath198 receives the item of an agent @xmath211 or @xmath200 that is in @xmath40 which corresponds to a satisfying valuation of variables @xmath178 that satisfies the clause @xmath198 .",
    "for each clause , set @xmath356 to be @xmath96 if @xmath198 gets @xmath263_2 $ ] and to @xmath216 if @xmath198 gets @xmath359_2 $ ] in @xmath42 . note that each clause @xmath198 is satisfied by a variable whose value is consistent with the final value according to @xmath356 since the value of @xmath356 can never change once set by lemma  [ lm : satblock ] .",
    "the agents involved correspond to a consistent valuation of the variables and all of the clauses must be satisfied simultaneously .",
    "this completes the proof .",
    "given an instance @xmath165 of 3-sat , we can construct in polynomial time , a corresponding instance @xmath166 of instrictcore , such that @xmath165 is a yes instance iff @xmath166 is a no instance .",
    "given a multi - type housing market @xmath25 , agents preferences @xmath38 , and an allocation @xmath29 , we are asked whether the strict core of @xmath25 is non - empty .",
    "strictcorenonempty is np - hard .",
    "we will show a reduction from 3-sat .",
    "an instance @xmath165 of 3-sat is given by a formula @xmath159 in 3-cnf consisting of clauses @xmath360 involving boolean variables @xmath361 , and we are asked whether there is a valuation of the variables that satisfies @xmath159 .",
    "each clause @xmath198 is a disjunction of exactly @xmath140 literals @xmath362 .",
    "each literal @xmath363 is either the variable ( _ positive _ literal ) @xmath178 or its negation ( _ negative _ literal ) @xmath201 .",
    "each of @xmath364 corresponds to the _ positive _ or _ negative _ literal of one of the variables @xmath361 .",
    "@xmath243  we define the following ordering @xmath365 on positive and negative literals of the boolean variables where positive literals are ranked over negative literals and literals of variables with lower index are ranked over literals of higher index .",
    "let @xmath366 be any two literals .",
    "then , @xmath367 if either :    @xmath368 and if either    @xmath369 , or    @xmath370 and @xmath371 .",
    "@xmath372 , @xmath369 and @xmath373 .",
    "the order on the literals in example  [ eg:3sat ] is @xmath374 .",
    "@xmath243  for every clause @xmath375 , the literals are indexed so that @xmath376",
    ".    we construct an instance @xmath166 of cne as follows :    * for every clause @xmath198 , add the agents @xmath377 . * for every variable @xmath178 , add agents @xmath178 .",
    "* for every variable @xmath178 , add agents @xmath378 for every clause @xmath198 that involves variable @xmath178 .",
    "* agents @xmath379 : @xmath380 others . if @xmath381 , replace @xmath382 with @xmath205 . for @xmath383 , if @xmath384 , replace @xmath385 with @xmath386 . *",
    "agents @xmath387 : @xmath388 others . *",
    "agents @xmath389 : @xmath390 others . *",
    "agents @xmath211 : * * if @xmath391 , @xmath392 others .",
    "if @xmath260 , replace @xmath393 with @xmath394 .",
    "* * if @xmath395 , @xmath396 others .",
    "if @xmath260 , replace @xmath393 with @xmath394 .",
    "* agents @xmath200 : * * if @xmath397 , @xmath398 others .",
    "if @xmath260 , replace @xmath399 with @xmath400 .",
    "* * if @xmath401 , @xmath402 others . if @xmath260 , replace @xmath399 with @xmath400 . * agents @xmath178 : @xmath403 others .",
    "each agent @xmath404 is initially endowed with a bundle @xmath405 . + high level idea :    * the preferences are structured so that type-@xmath96 items are used to track satisfaction of individual clauses , while type-@xmath144 are used to ensure a consistent valuation of the boolean variables and satisfaction of all clauses .",
    "* borrowing from the example 2.2 in  @xcite , if @xmath377 only receive each others items in an allocation , there is a blocking coalition . for an allocation to be individually rational and stable , agent",
    "@xmath379 must receive an item of type @xmath96 from an agent @xmath211 or @xmath200 .",
    "[ eg : konishi][example 2.2 in  @xcite ] consider the multi - type housing market with agents @xmath406 , @xmath167 types and the following preferences .    * agent 1 : @xmath407 others .",
    "* agent 2 : @xmath408 others .",
    "* agent 3 : @xmath409 others .",
    "the strict core is empty for the market above .",
    "( @xmath240 ) if @xmath165 is a yes instance , @xmath166 is a yes instance .",
    "we start by define a lexicographic order @xmath410 on valuations . given two valuations @xmath411 ,",
    "let @xmath5 be the lowest value such that @xmath412 and @xmath413 differ .",
    "we rank @xmath414 over @xmath415 if @xmath416 ( @xmath413 must be @xmath417 ) .    in the example  [ eg:3sat ]",
    ", the valuation @xmath418 is ranked over @xmath419 .",
    "let @xmath420 be the set of satisfying valuations to @xmath159 .",
    "let @xmath213 be the top ranked satisfying valuation according to @xmath410 .",
    "we will construct an allocation @xmath29 w.r.t .",
    "the valuations in @xmath213 that is a core allocation . +",
    "* allocation @xmath29 : *    * @xmath421 if @xmath363 is the highest ranked literal according to @xmath365 that satisfies @xmath198 when @xmath234 .",
    "if @xmath422 , replace @xmath211 with @xmath200 .",
    "* @xmath423 .",
    "* @xmath424 . * @xmath425 * * @xmath426 , if @xmath427 is the highest ranked literal according to @xmath365 that satisfies @xmath198 when @xmath428 . * * @xmath429 , otherwise .",
    "+ if @xmath260 , replace @xmath393 with @xmath430 * @xmath431 * * @xmath432 , if @xmath433 is the highest ranked literal according to @xmath365 that satisfies @xmath198 when @xmath428 . * * @xmath434 , otherwise .",
    "+ if @xmath260 , replace @xmath399 with @xmath430 * @xmath435 .",
    "suppose , for the sake of contradiction that @xmath40 blocks @xmath29 .",
    "let @xmath42 be an improving allocation on @xmath40 .",
    "we will show that @xmath42 corresponds to a satisfying assignment to @xmath159 that is ranked lower than @xmath213 , and @xmath42 must be strictly worse for some agent in @xmath40 .",
    "we start by showing that @xmath40 must involve at least one of the agents @xmath436 , or @xmath200 .",
    "if either of @xmath387 or @xmath389 are in @xmath40 for some @xmath233 , then we must have that all the agents @xmath377 are in @xmath40 .",
    "if @xmath437 , we must have that @xmath438 , otherwise , @xmath387 gets a strictly worse allocation in @xmath42 .",
    "if @xmath438 , we must have at least one of the agents @xmath387 or @xmath439 , otherwise she gets a strictly worse bundle in @xmath42 than in @xmath29 .",
    "if only @xmath440 , and @xmath441 , neither agent can strictly improve over their allocation in @xmath29 .",
    "therefore , we must have @xmath439 .",
    "let @xmath442_1 = [ o(1_i^j)]_1 $ ] ( or @xmath200 ) and @xmath443_1 = [ o(1_{i^*}^j)]_1 $ ] ( or @xmath444 ) .",
    "then agent @xmath445 ( or @xmath444 ) corresponds to a literal @xmath446 in clause @xmath198 that is ranked weakly on top of @xmath363 according to @xmath365 .",
    "otherwise , @xmath379 is strictly worse off in @xmath42 than in @xmath29 according to the preferences in the construction , a contradiction to our assumption that @xmath42 is improving for every agent in @xmath40 .    if any one of @xmath439 , then every agent @xmath439 .",
    "every agent @xmath379 must be assigned @xmath443_2 = [ o(c_{j+1}^1)]_2 $ ] , otherwise she is strictly worse off in @xmath42 .",
    "this also implies that @xmath447 ( if @xmath448 , replace @xmath449 with @xmath96 ) .    if @xmath218 ( or @xmath200 ) , then @xmath450 ( @xmath399 ) and @xmath256 ( @xmath451 ) . for agent @xmath211 to weakly improve her allocation in @xmath42 over her allocation in @xmath29",
    ", we must have @xmath250_2 = [ o(1_i^{j+1})]_2 $ ] ( if @xmath452 , replace @xmath393 with @xmath453 ) .",
    "otherwise , @xmath211 is strictly worse off in @xmath42 .",
    "some agent in @xmath40 must receive the item @xmath454 $ ] .",
    "let agent @xmath455 be assigned item @xmath454 $ ] in @xmath42 , then by her reported preferences , agent @xmath2 is strictly worse off with her allocation in @xmath42 compared to her allocation in @xmath29 , a contradiction to our assumption that @xmath42 is improving for every agent in @xmath40 .    for some pair @xmath456 , we can not have both @xmath457 .",
    "suppose we have both @xmath211 and @xmath458 in @xmath40 , then we must have both @xmath459 and @xmath460 .",
    "however both of the agents @xmath459 and @xmath461 must be assigned the single item @xmath462_2 $ ] in @xmath42 to weakly improve over their allocation in @xmath29 .",
    "therefore one of the two agents must be strictly worse off in @xmath42 , a contradiction to our assumption that allocations in @xmath42 are weakly preferred over @xmath29 by every agent in @xmath40 .",
    "we have shown that @xmath40 must include all the agents @xmath379 corresponding to clauses @xmath198 , for every @xmath5 either all of the agents @xmath211 or all of the agents @xmath200 and that for every @xmath198 , an agent @xmath211 or @xmath200 corresponding to a valuation of a variable @xmath178 that satisfies @xmath198 .",
    "let @xmath414 be the valuation that is constructed as follows : for every clause @xmath198 , if @xmath379 receives a type-@xmath96 item endowed to agent @xmath211 , we set @xmath416 .",
    "note that every @xmath198 receives such an item and this corresponds to a valuation of the variable @xmath178 that satisfies @xmath198 , and that once a variable takes a value , it is never changed again i.e. the value of @xmath412 is always consistent with a value that satisfies all clauses @xmath198 considered previously .",
    "therefore , the values of the variables in @xmath414 constitutes a satisfying valuation .",
    "now , consider the allocation @xmath42 where the pairs of agents @xmath463 ( or @xmath200 ) exchanging items of type @xmath96 is the same as in the allocation @xmath29 .",
    "then @xmath42 is not a strictly improving allocation over @xmath29 for any agent in @xmath40 , a contradiction to our assumption on the allocation @xmath42 .",
    "let @xmath464 be the smallest value such that @xmath465 .",
    "if @xmath466 , then @xmath414 is ranked over @xmath213 by @xmath410 , a contradiction to our assumption that @xmath213 is the highest ranked satisfying valuation .    if @xmath467 , ( then @xmath468 ) , then consider the agent @xmath198 who was assigned the type-@xmath96 item of @xmath445 in @xmath29 . by the construction of @xmath29 , @xmath198 must either receive the type-@xmath96 item of an agent @xmath469 in @xmath42 where @xmath470 , or of an agent @xmath471 in @xmath42 . in either case ,",
    "@xmath198 is strictly worse off in @xmath42 compared to @xmath29 since it corresponds to a lower ranked literal according to @xmath365 .",
    "this is a contradiction to our assumption that every agent is weakly better off with their allocations in @xmath42 compared to @xmath29 .",
    "( @xmath212 ) if @xmath166 is a yes instance , @xmath165 is a yes instance .",
    "suppose @xmath29 is a core allocation .",
    "every agent @xmath379 must receive an item of type @xmath96 from an agent @xmath211 ( or @xmath200 ) where the corresponding literal of @xmath178 satisfies clause @xmath198 i.e. we must have that @xmath442_1 = [ o(1_i^j)]_1 $ ] ( similarly @xmath472_1 $ ] )",
    ".    for the sake of contradiction let @xmath379 not receive an item from an agent @xmath211 ( or @xmath200 ) .",
    "then there are two cases : either @xmath377 are assigned each others items or one of them is assigned the initial endowment of some other agent .",
    "if @xmath377 are only assigned each others initial endowments , then by our construction of the preferences of agents @xmath377 by adapting example  [ eg : konishi ] there is always a blocking coalition to every such allocation , a contradiction to our assumption that @xmath29 is in the core .",
    "if @xmath387 or @xmath389 is assigned the initial endowment of an agent other than @xmath473 or @xmath389 , then the resulting allocation is not individually rational by the construction of agents preferences , a contradiction .",
    "if @xmath379 is assigned the initial endowment of an agent other than an agent @xmath211 or @xmath200 corresponding to a satisfying assignment for the clause @xmath198 , then again the resulting allocation is not individually rational .",
    "if @xmath211 ( or @xmath200 ) exchanges her item type-@xmath96 item with an agent @xmath379 , then none of the agents @xmath458 ( similarly , @xmath474 ) can exchange items with some other agent @xmath475 .    for the sake of contradiction , let @xmath211 and @xmath458 exchange their items of type @xmath96 with agents @xmath379 and @xmath475 i.e they get @xmath476_1 = [ o(c_{j}^1)]_1 $ ] and @xmath477_1 = [ o(c_{j'}^1)]_1 $ ] respectively . then agents @xmath478 and @xmath458 must get the assignments @xmath277_2 = [ o(1^{j+1})]_2 $ ] and @xmath477_2 = [ o(0_i^{j'+1})]_2 $ ] respectively .",
    "if @xmath218 ( or similarly , @xmath200 ) , and @xmath454_2 $ ] is assigned to another agent , then we must have that @xmath277_2 = [ o(1_i^{j+1})]_2 $ ] , otherwise the allocation @xmath29 is not individually rational .    by an inductive argument , we must have that the agents @xmath459 and @xmath461 must both be assigned the single indivisible item @xmath462_2 $ ] for @xmath29 to be individually rational , a contradiction to our assumption that @xmath29 is in the core since every core allocation must also be individually rational .    each agent",
    "@xmath178 receives either one of @xmath479_2 $ ] or @xmath480_2 $ ] since an agent can only receive a single item of a given type . by our argument immediately above , if @xmath481 receives @xmath479_2 $ ] in @xmath29 , then only agents @xmath211 can exchange items with agents @xmath379 and none of the agents @xmath200 can exchange items with an agent @xmath379 .",
    "now , consider the construction of a satisfying valuation @xmath213 as follows : for every clause @xmath198 , if @xmath442_1 = [ o(1_i^j)]_1 $ ] ( similarly , @xmath200 ) , set @xmath229 which must be an assignment to the variable @xmath178 that satisfies clause @xmath198 .",
    "we have already shown that such an assignment exists for every clause @xmath198 .",
    "further , once @xmath356 is set to a value , it can never change as we have already shown that if there is some @xmath198 such that @xmath442_1 = [ o(1_i^j)]_1 $ ] there is no @xmath482 such that @xmath483_1 = [ o(0_i^{j'})]_1 $ ] .",
    "therefore at every point where we verified the satisfaction of a clause @xmath198 , the value of the variable @xmath178 in @xmath356 that satisfied @xmath198 is the same as the final value of @xmath356 .",
    "therefore , @xmath213 satisfies @xmath159 .",
    "this completes the proof .",
    "we propose @xmath8 for multi - type housing markets with lexicographic preferences , and prove that it satisfies many desirable axiomatic properties .",
    "there are many future directions in mechanism design for multi - type housing markets .",
    "are there good mechanisms when agents demand more than one item of some type ?",
    "can we design strategy - proof mechanisms under other assumptions about agents preferences , such as lp - trees  @xcite ?",
    "what is the computational complexity of manipulation under @xmath8 ?",
    "what if agents preferences are partial orders such as cp - nets only ?",
    "research was sponsored by the army research laboratory and was accomplished under cooperative agreement number w911nf-09 - 2 - 0053 ( the arl network science cta ) .",
    "the views and conclusions contained in this document are those of the authors and should not be interpreted as representing the official policies , either expressed or implied , of the army research laboratory or the u.s .",
    "government is authorized to reproduce and distribute reprints for government purposes notwithstanding any copyright notation here on .",
    "lirong xia acknowledges national science foundation under grant iis-1453542 for support ."
  ],
  "abstract_text": [
    "<S> we study _ multi - type housing markets _ , where there are @xmath0 types of items , each agent is initially endowed one item of each type , and the goal is to design mechanisms without monetary transfer to ( re)allocate items to the agents based on their preferences over _ bundles _ of items , such that each agent gets one item of each type . in sharp contrast to classical housing markets , </S>",
    "<S> previous studies in multi - type housing markets have been hindered by the lack of natural solution concepts , because the strict core might be empty .    </S>",
    "<S> we break the barrier in the literature by leveraging ai techniques and making natural assumptions on agents preferences . </S>",
    "<S> we show that when agents preferences are lexicographic , even with different importance orders , the classical top - trading - cycles mechanism can be extended while preserving most of its nice properties . </S>",
    "<S> we also investigate computational complexity of checking whether an allocation is in the strict core and checking whether the strict core is empty . </S>",
    "<S> our results convey an encouragingly positive message : _ it is possible to design good mechanisms for multi - type housing markets under natural assumptions on preferences . _ </S>"
  ]
}