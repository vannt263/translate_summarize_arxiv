{
  "article_text": [
    "the main objective of this paper is to present a simple and efficient numerical method for solving backward stochastic differential equations with convex and homogeneous drivers .",
    "such equations are fundamental modeling tools for continuous - time dynamic risk measures with brownian filtration , but may also arise in other applications .",
    "the key property of dynamic risk measures is _ time - consistency _ , which allows for dynamic programming formulations .",
    "the discrete time case was extensively explored by detlfsen and scandolo @xcite , bion - nadal @xcite , cheridito _ et al . _",
    "@xcite , fllmer and penner @xcite , fritelli and rosazza gianin @xcite , frittelli and scandolo @xcite , riedel @xcite , and ruszczyski and shapiro @xcite .    for the continuous - time case , coquet , hu , mmin and peng @xcite discovered that time - consistent dynamic risk measures , with brownian filtration , can be represented as solutions of _ backward stochastic differential equations _",
    "( bsde ) @xcite ; under mild growth conditions , this is the only form possible .",
    "specifically , the @xmath0-part solution of one - dimensional bsde , defined below , measures the risk of a variable @xmath1 at the current time @xmath2 : @xmath3 with the driver @xmath4 being interpreted as a `` risk rate . ''",
    "the @xmath5-measurable random variable @xmath1 is usually a function of the terminal state of a certain stochastic dynamical system .",
    "inspired by that , barrieu and el karoui provided a comprehensive study in @xcite ; further contributions being made by delbean , peng , and rosazza gianin @xcite , and quenez and sulem @xcite ( for a more general model with levy processes ) .",
    "in addition , application to finance was considered , for example , in @xcite .",
    "using the convergence results of briand , delyon and mmin @xcite , stadje @xcite finds the drivers of bsde corresponding to discrete - time risk measures .",
    "motivated by an earlier work on risk - averse control of discrete - time stochastic process @xcite , ruszczyski and yao @xcite formulate a risk - averse stochastic control problem for diffusion processes .",
    "the corresponding dynamic programming equation leads to a decoupled forward  backward system of stochastic differential equations .",
    "while forward stochastic differential equations can be solved by several efficient methods , the main challenge is the numerical solution of , where @xmath1 represents the future value function . in particular , zhang @xcite and touzi _ et al .",
    "_ @xcite use backward euler s approximation and regression .",
    "such an approach , however , is not well - suited for risk measurement , because it does not preserve the monotonicity of the risk measure . alternatively , ksendal @xcite directly attacks continuous - time risk - averse control problem with jumps by deriving sufficient conditions .",
    "algorithms based on maximum principle were investigated by ludwig _",
    "_ @xcite .",
    "our idea is to derive a recursive method based on risk - averse dynamic programming , so that the approximation becomes a time - consistent coherent risk measure in discrete time .",
    "the paper is organized as follows . in section [ s : problem ] , we quickly introduce the concept of a dynamic risk measure and review its properties . in section [",
    "s : dual - control ] we recall the dual representation of a dynamic risk measure and formulate an equivalent stochastic control problem .",
    "the optimality condition for the dual control problem , a special form of a maximum principle , are derived in section [ s : maximum - principle ] .",
    "sections [ s : integrand ] and [ s : estimates ] estimate the errors introduced by using constant processes as dual controls . in section [ s : discrete - approximation ] we present the whole numerical method with piecewise constant dual controls and analyze its rate of convergence .",
    "finally , in section [ s : risk - management ] , we illustrate the efficacy of our approach on a two - stage risk management model .",
    "given a complete filtered probability space @xmath6 with filtration @xmath7}$ ] generated by @xmath8-dimensional brownian motion @xmath9}$ ] , we consider the following stochastic differential equation : @xmath10,\\ ] ] with measurable @xmath11\\times{\\mathbb{r}}^n\\to { \\mathbb{r}}^n$ ] , and @xmath12\\times{\\mathbb{r}}^n\\to { \\mathbb{r}}^n\\times{\\mathbb{r}}^d$ ] .",
    "we introduce the following notation .",
    "@xmath13 : = \\mathbb{e}[\\,\\cdot\\,|\\,\\mathcal{f}_t]$ ] ;    @xmath14 : the set of @xmath15-valued @xmath16-measurable random variables @xmath17 such that @xmath18<\\infty$ ] ; for @xmath19 , we write it @xmath20 ;    @xmath21 $ ] : the set of @xmath15-valued adapted processes @xmath22 on @xmath23 $ ] , such that @xmath24 } : = \\mathbb{e}_t\\big [ \\int_t^t |y_s|^2\\,d s\\big ] < \\infty$ ] ; for @xmath25 we write it @xmath26 $ ] ;    @xmath27\\times{\\mathbb{r}}^n)$ ] the space of functions @xmath28\\times{\\mathbb{r}}^n\\to{\\mathbb{r}}$ ] whose has derivative up to @xmath29-th , in the meanwhile , all those derivatives are continuous and bounded ; for @xmath30 , we denote by @xmath31 ;    @xmath32 : the space of lipschitz continuous functions @xmath33 .",
    "we make following assumptions about the drift and volatility terms .",
    "[ a : sde ]    ii    @xmath34 $ ] ;    the functions @xmath35\\times\\mathbb{r}^n)$ ] , the constant @xmath36 denotes the lipschitz constants @xmath37 , and we also assume @xmath38\\times\\mathbb{r}^d.\\end{aligned}\\ ] ]    our intention is to evaluate risk of a terminal cost generated by the forward process : @xmath39,\\ ] ] where @xmath40 is bounded , and @xmath41 is a dynamic risk measure consistent with the filtration @xmath7}$ ] .",
    "we refer the reader to @xcite for a comprehensive discussion on risk measurement and filtration - consistent evaluations .    special role in the dynamic risk theory is played by _ @xmath4-evaluations _ which defined by one - dimensional backward stochastic differential equations of the following form : @xmath42,\\ ] ] with @xmath43 $ ] defined to be equal to @xmath44 .",
    "the driver @xmath4 is jointly lipschitz in @xmath45 , and the process @xmath46 $ ] .    as proved in @xcite every @xmath47-consistent nonlinear evaluation that is dominated by a @xmath4-evaluation with @xmath48 with some @xmath49",
    "is in fact a @xmath4-evaluation for some @xmath4 ; the dominance is understood as follows : @xmath50 - \\rho_{0 , t}[\\xi ] \\leq \\rho_{0 , t}^{\\nu , \\mu}[\\eta]\\ ] ] for all @xmath51 .",
    "[ p : nonev ] for all @xmath52 and all @xmath53 , the following properties hold :    iii    * generalized constant preservation * : if @xmath54 , then @xmath55=\\xi$ ] ;    * time consistency * : @xmath56 = \\rho^g_{s , t}[\\,\\rho^g_{t , t}[\\,\\xi\\,]\\,]$ ] , for all @xmath57 ;    * local property * : @xmath58= { \\mathbbm{1}}_a \\rho^g_{t , t}[\\,\\xi\\,]+{\\mathbbm{1}}_{a^c } \\rho^g_{t , t}[\\,\\xi'\\,]$ ] , for all @xmath59 .    from now on , shall focus exclusively on @xmath4-evaluations as dynamic risk measures , and we shall skip the superscript @xmath4 in @xmath60 .",
    "the evaluation of risk is equivalent to the solution of a _ decoupled _ forward  backward system of stochastic differential equations . an important virtue of this system is its _ markov property _ :",
    "@xmath61= v(t , x_t),\\ ] ] where @xmath62\\times{\\mathbb{r}}^n\\to { \\mathbb{r}}$ ] .",
    "we have @xmath63,\\quad ( t , x)\\in [ 0,t]\\times{\\mathbb{r}}^n,\\ ] ] where @xmath64 is the solution of the system restarted at time @xmath2 from state @xmath65 : @xmath66,\\quad x_t^{t , x } = x,\\ ] ] and @xmath67 $ ] is the ( deterministic ) value of @xmath68 in the backward equation with terminal condition @xmath69 .",
    "numerical methods for solving forward equations are very well understood ( see , e.g. , @xcite ) .",
    "we focus , therefore , on the backward equation .",
    "so far , a limited number of results are available for this purpose .",
    "the most prominent is the euler method with functional regression ( see , e.g. , @xcite ) .",
    "our intention is to show that for drivers satisfying additional coherence conditions , a much more effective method can be developed , which exploits time - consistency , duality theory for risk measures , and the maximum principle in stochastic control .",
    "we further restrict the risk measures under consideration to coherent measures , by making the following additional assumption about the driver  @xmath4 .",
    "[ a : riskmeasure ] the driver @xmath4 satisfies for almost all @xmath70 $ ] the following conditions :    iii    @xmath4 is deterministic and independent of @xmath0 , that is , @xmath71\\times { \\mathbb{r}}^d\\to{\\mathbb{r}}$ ] , and @xmath72 ;    @xmath73 is convex for all @xmath70 $ ] ;    @xmath74 is positively homogeneous for all @xmath70 $ ] .    under these conditions",
    ", one can derive further properties of the evaluations @xmath75 $ ] for @xmath70 $ ] , in addition to the general properties of @xmath47-consistent nonlinear expectations stated in proposition [ p : nonev ] .",
    "[ t : geval - prop ] suppose @xmath4 satisfies assumption [ a : riskmeasure ] .",
    "then the dynamic risk measure @xmath76 has the following properties :    iv    * translation property * : for all @xmath77 and @xmath78 , @xmath79 = \\rho_{t , r}[\\xi]+\\eta , \\quad \\text{a.s.};\\ ] ]    * convexity * : for all @xmath80 and all @xmath81 such that , @xmath82\\leq \\lambda \\rho_{t , r}[\\xi]+(1-\\lambda)\\rho_{t , r}[\\xi'],\\quad \\text{a.s.}.\\ ] ]    * positive homogeneity * : for all @xmath77 and all @xmath83 such that @xmath84 , we have @xmath85 = \\beta \\rho_{t , r}[\\xi ] , \\quad \\text{a.s.}.\\ ] ]    it follows that under assumption [ a : riskmeasure ] , the operators @xmath86 constitute a family of _ coherent _ conditional measures of risks .    particularly important for us",
    "is the dual representation of the risk measure @xmath87}$ ] , which is based on the dual representation of the driver @xmath4 : @xmath88 where @xmath89 is a bounded , convex , and closed set in @xmath15 .",
    "the following statement specializes the results of barrieu and el karoui @xcite to our case .",
    "[ thm : coherentdual ] suppose assumption [ a : riskmeasure ] is satisfied .",
    "then @xmath90 = \\sup_{\\mu\\in\\mathcal{a}_{t , t}}\\mathbb{e}\\big[\\,\\vargamma_{t , t } \\varphi(x_t^{t , x})\\,\\big],\\end{aligned}\\ ] ] where @xmath91 is the space of @xmath92-valued adapted processes on @xmath93 $ ] , and the process @xmath94}$ ] satisfies the stochastic differential equation : @xmath95,\\quad \\vargamma_{t , t } = 1.\\end{aligned}\\ ] ] moreover , a solution @xmath96 of the optimal control problem  exists .",
    "the following lemma provides a useful estimate .",
    "[ c : gamma - bound ] a constant @xmath97 exists , such that for all @xmath98 and all @xmath99 that satisfy , we have @xmath100    using it isometry , we obtain the chain of relations @xmath101 if @xmath102 is a uniform upper bound on the norm of the subgradients of @xmath103 we deduce that @xmath104 , @xmath105 $ ] , where @xmath106 satisfies the ode : @xmath107 , with @xmath108 . consequently ,",
    "@xmath109 the convexity of the exponential function yields the postulated bound .",
    "the dual representation theorem allows us to transform the risk evaluation problem to a stochastic control problem .",
    "our objective now is to approximate the evaluation of risk on a short interval @xmath110 so that it reduces the functional optimization problem to vector optimization . to proceed",
    ", we have to first investigate the corresponding maximum principle of the control problem .",
    "[ sec:3.1 ] in this section , we decipher the optimality conditions of the stochastic control problem . since only the process @xmath111}$ ] is controlled , the analysis is rather standard . for completeness , we repeat some important steps here .",
    "suppose @xmath96 is the optimal control ; then , for any @xmath112 and @xmath113 , we can form a perturbed control function @xmath114 it is still an element of @xmath115 , due to the convexity of the sets @xmath92 . the processes @xmath116 , @xmath117 and @xmath118 are the state processes under the controls @xmath96 , @xmath119 , and @xmath120 , respectively .",
    "we linearize the state equation about @xmath116 to get , for @xmath121 $ ] , @xmath122\\;dw_s,\\quad \\eta^\\mu_t = 0.\\end{aligned}\\ ] ] it is evident that this equation has a unique strong solution .",
    "denote @xmath123 - \\eta_s^\\mu,\\quad s\\in[0,t].\\ ] ] the following result justifies the usefulness of the linearized equation .",
    "[ lem : est1 ] @xmath124    we first prove that @xmath125 we have @xmath126 by it isometry , @xmath127 where @xmath102 is a constant . since the first integral on the right hand side converges to 0 , as @xmath128 , the gronwall inequality yields .",
    "we can now prove . combining and",
    ", we obtain the stochastic differential equation for @xmath129 : @xmath130-\\hat{\\mu}_s\\eta_s^\\mu - \\hat\\vargamma_{t , s}(\\mu_s - \\hat{\\mu}_s)\\bigg\\}\\;dw_s\\\\ & = \\bigg\\ { \\frac{1}{\\alpha}\\hat{\\mu}_s\\big [ \\vargamma^\\alpha_{t , s}-\\hat\\vargamma_{t , s}\\big ] + ( \\mu_s-\\hat{\\mu}_s)\\big[\\vargamma^\\alpha_{t , s}-\\hat\\vargamma_{t , s}\\big ] - \\hat{\\mu}_s\\eta_s^\\mu \\bigg\\}\\;dw_s\\\\ & = \\bigg\\ { \\hat{\\mu}_s { h}_s^\\alpha + ( \\mu_s-\\hat{\\mu}_s)\\big[\\vargamma^\\alpha_{t , s}-\\hat\\vargamma_{t , s}\\big]\\bigg\\}\\;dw_s . \\ ] ] since the processes @xmath131 and @xmath132 are bounded , it isometry yields again @xmath133 where @xmath102 is constant . by the gronwall inequality , using , we get the desired result .",
    "the convergence result above directly leads to the following variational inequality .",
    "[ lem : vi ] for any @xmath134 we have @xmath135\\leq 0.\\end{aligned}\\ ] ]    since @xmath96 is the optimal control , @xmath136\\leq 0.\\ ] ] lemma [ lem : est1 ] leads to @xmath137 =    \\mathbb{e}\\big[\\xi_t\\eta_{t}^\\mu\\big]\\leq 0,\\ ] ] as required .",
    "we now express the expected value in as an integral , to obtain a pointwise variational inequality ( the maximum principle ) . to this end",
    ", we introduce the following backward stochastic differential equation ( the _ adjoint equation _ ) : @xmath138,\\ ] ] with @xmath139 . by construction , @xmath140=\\mathbb{e}\\big[\\,\\hat{p}_t\\eta_{t}^\\mu\\,\\big]$ ] . applying the it formula to the product process @xmath141",
    ", we obtain @xmath142\\big)\\;dw_s   + { k}_s   \\hat{\\vargamma}_{t , s}(\\mu_s - \\hat{\\mu}_s)\\;ds.\\ ] ] if follows that @xmath143 = \\mathbb{e}\\bigg[\\,\\int_t^{t }   { k}_s\\hat{\\vargamma}_{t , s}(\\mu_s - \\hat{\\mu}_s)ds\\,\\bigg].\\ ] ] we can summarize our derivations in the following version of the maximum principle .",
    "we define the hamiltonian @xmath144 : @xmath145    for almost all @xmath146 $ ] , with probability 1 , @xmath147    for any @xmath134 , we define the set @xmath148 : { k}_s\\hat{\\vargamma}_{t , s}(\\mu_s - \\hat{\\mu}_s ) > 0\\,\\}.\\ ] ] we construct a new control @xmath149 : @xmath150 the measurability and adaptedness of @xmath151 can be easily verified .",
    "it follows from and that @xmath152 \\le 0.\\ ] ] by the construction of @xmath151 , @xmath153 since the integrand is positive on @xmath154 , the product measure of @xmath154 must be zero .",
    "we also make a stronger assumption about the drift and diffusion terms of the forward system , and about the terminal cost function .",
    "[ a : c01b ] the functions @xmath155\\times\\mathbb{r}^n)$ ] , and @xmath156 for all @xmath157 $ ] and all @xmath158 .",
    "consider the forward ",
    "backward system and .",
    "the key to our further estimates is the following regularity result about the integrand @xmath159 in the adjoint equation .",
    "[ l : linear ] a constant @xmath97 exists , such that for all @xmath98 , and all @xmath158 , @xmath160    the quasilinear parabolic partial differential equation corresponding to the forward  backward system  has the following form ( see , _ e.g. _",
    "@xcite ) , @xmath161 with the boundary condition @xmath162 . due to the linearity of the driver of",
    ", the terms with @xmath163 can be collapsed .",
    "then the equation is the feynman - kac equation for @xmath164 , \\quad s\\in [ t , t],\\ ] ] where @xmath165\\;ds+ \\sigma(s,\\tilde{x}^{t , x}_s)\\;dw_s,\\quad s\\in [ t ,",
    "t],\\quad \\tilde{x}^{t , x}_s = x.\\ ] ] ma and yong @xcite consider it on page 195 in formula ( 1.12 ) . under assumption",
    "[ a : c01b ] , the equation has a classical solution @xmath166 , and then the process @xmath167,\\ ] ] is the solution of the adjoint equation . by (",
    "8.1.1 ) , a process @xmath168 $ ] exists , such that the process @xmath169 satisfies the following @xmath170-dimensional bsde : @xmath171g_s + \\sigma_x(s,\\tilde{x}^{t , x}_s)h_s \\big)\\;ds - \\int_t^t h_s \\;dw_s.\\ ] ] we obtain the following estimate : @xmath172 the first term on the right hand side of can be bounded with the help of assumption  [ a : c01b ] : @xmath173 where @xmath174 , @xmath175 , and @xmath176 are some universal constants .",
    "it follows from that @xmath177g_s + \\sigma_x(s,{\\tilde{x}}_s)h_s \\big)\\;ds + \\int_t^r h_s \\;dw_s.\\end{aligned}\\ ] ] therefore , the second term on the right hand side of can be bounded as @xmath178 . integrating these estimates into",
    ", we obtain with a universal constant @xmath97 .",
    "to reduce an infinite dimensional control problem to a finite dimensional vector optimization , we partition the interval @xmath179 $ ] into @xmath180 short pieces of length @xmath181 , and develop a scheme for evaluating the risk measure by using constant dual controls on each piece .",
    "we denote @xmath182 , for @xmath183 .    for simplicity , in addition to assumption [ a : riskmeasure ]",
    ", we assume that the driver @xmath4 does not depend on time , and thus all sets @xmath184 are the same .",
    "we denote them with the symbol  @xmath185 ; as we shall see later on this is not a major restriction .",
    "if the system s state at time @xmath186 is @xmath65 , then the value of the risk measure is then the optimal value of problem . by dynamic programming , @xmath187.\\ ] ]",
    "the risk measure @xmath188 $ ] is defined by problem , with terminal time @xmath189 and the function @xmath190 replaced by @xmath191 .",
    "equivalently , it is equal to @xmath192 , in the corresponding forward",
    " backward system on the interval @xmath193 $ ] : @xmath194 under assumption [ a : c01b ] , the function @xmath195 is the classical solution of the associated hamilton  jacobi ",
    "bellman equation : @xmath196 with the terminal condition @xmath197 .",
    "suppose we use a constant control in the interval @xmath193 $ ] : @xmath198,\\end{aligned}\\ ] ] where @xmath199 solve the adjoint equation corresponding to : @xmath200,\\quad p_{t_{i+1 } } = v\\big(t_{i+1},x_{t_{i+1}}^{t_i , x}\\big).\\ ] ] we still use @xmath116 to denote the state evolution under the optimal control , while @xmath117 is the process under control @xmath119 defined in .",
    "it is well - known that the value function @xmath195 of the system  is in @xmath201\\times{\\mathbb{r}}^n)$ ] ; see , for example , ( * ? ? ?",
    "therefore , the bounds developed in section [ s : integrand ] remain valid for the processes @xmath199 in .",
    "our objective is to show that a constant @xmath97 exists , independent of @xmath65 , @xmath180 , and @xmath202 , such that the approximation error on the @xmath202th interval can be bounded as follows : @xmath203   \\le c \\delta^{\\frac{3}{2}}.\\ ] ] the fact that we do not know @xmath204 will not be essential ; later , we shall generate even better constant controls by discrete - time dynamic programming .",
    "we can now derive some useful estimates for the constant control function .",
    "[ lem : estimates1 ] a constant @xmath97 exists , such that for all @xmath65 , @xmath180 and @xmath202 @xmath205 \\le c \\delta^{\\frac{3}{2}}.\\end{aligned}\\ ] ]    from we get : @xmath206 then the left hand side of can be written as follows : @xmath207}\\quad\\\\ & = -{\\mathbb{e}}\\bigg [ \\int_{t_{i}}^{t_{i+1 } } k_t\\hat{\\mu}_t\\;dt \\int_{t_{i}}^{t_{i+1}}(\\hat{\\mu}_s - \\mu_s)\\hat{\\vargamma}_{t_{i},s}\\;dw_s\\,\\bigg]\\\\ & \\quad +   { \\mathbb{e}}\\bigg [ \\int_{t_{i}}^{t_{i+1 } } k_t\\;dw_t \\int_{t_{i}}^{t_{i+1}}(\\hat{\\mu}_s - \\mu_s)\\hat{\\vargamma}_{t_{i},s}\\;dw_s\\,\\bigg ] .",
    "\\end{aligned}\\ ] ] the first term on the right hand side of can be bounded by the cauchy - schwarz inequality and the it isometry : @xmath208}\\quad\\\\ & \\le \\left({\\mathbb{e}}\\bigg [ \\bigg(\\int_{t_{i}}^{t_{i+1 } } k_s\\hat{\\mu}_s\\;ds\\bigg)^2\\bigg]\\right)^{\\frac{1}{2}}\\left ( { \\mathbb{e}}\\bigg [ \\bigg(\\int_{t_{i}}^{t_{i+1 } } ( \\hat{\\mu}_s - \\mu_s)\\hat{\\vargamma}_{t_{i},s}\\;dw_s\\bigg)^2\\bigg]\\right)^{\\frac{1}{2}}\\\\ & \\le c_1 \\delta \\bigg(\\int_{t_{i}}^{t_{i+1 } } { \\mathbb{e}}\\big [ ( \\hat{\\mu}_s - \\mu_s)^2\\hat{\\vargamma}_{t_{i},s}^2\\big ] \\;ds\\bigg)^{\\frac{1}{2 } } \\le c_1c_2 \\delta^{\\frac{3}{2}},\\end{aligned}\\ ] ] where @xmath174 and @xmath175 are some constants .",
    "the second term on the right hand side of can be evaluated as follows : @xmath209 = { \\mathbb{e}}\\bigg [ \\int_{t_{i}}^{t_{i+1 } } k_s(\\hat{\\mu}_s - \\mu_s)\\hat{\\vargamma}_{t_{i},s}\\;ds\\,\\bigg]}\\quad\\\\ & = { \\mathbb{e}}\\bigg [ \\int_{t_{i}}^{t_{i+1 } } ( k_s\\hat{\\mu}_s \\hat{\\vargamma}_{t_{i},s } - k_{t_{i}}\\hat{\\mu}_{t_{i } } ) \\;ds\\,\\bigg ] + { \\mathbb{e}}\\bigg[\\big ( \\int_{t_{i}}^{t_{i+1 } } \\big(k_{t_{i } } - k_s\\hat{\\vargamma_s}\\big)\\hat{\\mu}_{t_{i } } \\;ds\\,\\bigg]\\\\ & = { \\mathbb{e}}\\bigg[\\big ( \\int_{t_{i}}^{t_{i+1 } } \\big ( \\sigma_{a}(k_s\\hat{\\vargamma}_{t_{i},s})- \\sigma_{a}(k_{t_{i}})\\big)\\;ds\\,\\bigg]+ { \\mathbb{e}}\\bigg[\\big ( \\int_{t_{i}}^{t_{i+1 } } \\big(k_{t_{i } } - k_s\\hat{\\vargamma}_{t_{i},s}\\big)\\hat{\\mu}_{t_{i } } \\;ds\\,\\bigg].\\end{aligned}\\ ] ] here , @xmath210 is the support function of the set @xmath185 .    by lemma [",
    "c : gamma - bound ] , a constant @xmath176 exists , such that @xmath211 . since the support function is lipschitz continuous , we can write the following estimate ( again , @xmath212 is a sufficiently large constant ) @xmath209}\\\\ & \\le c_4   \\int_{t_{i}}^{t_{i+1}}{\\mathbb{e}}\\big [ |k_s\\hat{\\vargamma}_{t_{i},s } - k_{t_{i}}|\\big]\\;ds \\le c_4   \\int_{t_{i}}^{t_{i+1}}{\\mathbb{e}}\\big [ |k_s(\\hat{\\vargamma}_{t_{i},s}-1)| + |k_s - k_{t_{i}}|\\big]\\;ds \\\\ & \\le c_4   \\left(\\int_{t_{i}}^{t_{i+1}}\\|\\hat{\\vargamma}_{t_{i},s}-1\\|^2\\;ds\\right)^{\\frac{1}{2 } } \\left(\\int_{t_{i}}^{t_{i+1}}\\|k_s\\|^2\\;ds\\right)^{\\frac{1}{2 } } + c_4   \\left(\\int_{t_{i}}^{t_{i+1}}\\|k_s - k_{t_{i}}\\|^2\\;ds\\right)^{\\frac{1}{2}}\\\\ & \\le c \\delta^{\\frac{3}{2}},\\end{aligned}\\ ] ] where @xmath97 is a sufficiently large constant . in the last step we used lemma [",
    "l : linear ] .",
    "we also have the estimate below :    [ lem : estimates2 ] a constant @xmath97 exists , such that for all @xmath65 , @xmath180 , and @xmath202 @xmath213    \\le c \\delta^{\\frac{3}{2}}.\\end{aligned}\\ ] ]    we proceed as in the proof of the previous lemma .",
    "we use and express the left hand side of as follows : @xmath214}\\quad\\\\ & = -{\\mathbb{e}}\\bigg [ \\int_{t_{i}}^{t_{i+1 } } k_t\\hat{\\mu}_t\\;dt \\int_{t_{i}}^{t_{i+1}}(\\hat{\\vargamma}_{t_{i},s } - \\vargamma_{t_{i},s})\\mu_s\\;dw_s\\,\\bigg]\\\\ & \\quad +   { \\mathbb{e}}\\bigg [ \\int_{t_{i}}^{t_{i+1 } } k_t\\;dw_t \\int_{t_{i}}^{t_{i+1}}(\\hat{\\vargamma}_{t_{i},s } - \\vargamma_{t_{i},s})\\mu_s\\;dw_s\\,\\bigg ] .",
    "\\end{aligned}\\ ] ] the first term on the right hand side of can be dealt with by the cauchy - schwarz inequality and it isometry , exactly as before : @xmath215\\right|}\\\\ & \\le \\left({\\mathbb{e}}\\bigg [ \\bigg(\\int_{t_{i}}^{t_{i+1 } } k_s\\hat{\\mu}_s\\;ds\\bigg)^2\\bigg]\\right)^{\\frac{1}{2 } } \\left(\\int_{t_{i}}^{t_{i+1}}{\\mathbb{e}}\\big [ ( \\hat{\\vargamma}_{t_{i},s } - \\vargamma_{t_{i},s})^2|\\mu_s|^2\\big]\\;ds \\right)^{\\frac{1}{2 } } \\le   c_1 \\delta^{\\frac{3}{2}}.\\end{aligned}\\ ] ] to estimate the second term , consider two controlled state processes : @xmath216 taking the difference yields , @xmath217 by it isometry , @xmath218 \\le c_2|t - t_{i}|.\\ ] ] thus , we can write the bound : @xmath219\\right|}\\quad\\\\ & = \\left| { \\mathbb{e}}\\bigg [ \\int_{t_{i}}^{t_{i+1 } } k_s(\\hat{\\vargamma}_{t_{i},s } - \\vargamma_{t_{i},s})\\mu_s\\;ds\\bigg]\\right| \\\\ & \\le c_1 \\left(\\int_{t_{i}}^{t_{i+1 } } { \\mathbb{e}}\\big[|k_s|^2\\big]\\;ds\\right)^{\\frac{1}{2 } } \\left(\\int_{t_{i}}^{t_{i+1 } } { \\mathbb{e}}\\big [ ( \\hat{\\vargamma}_{t_{i},s}-\\vargamma_{t_{i},s})^2\\big ] \\;ds\\right)^{\\frac{1}{2 } } \\le   c \\delta^{\\frac{3}{2}},\\end{aligned}\\ ] ] where @xmath97 is a sufficiently large constant .",
    "we can now compare the value of the functional with the value achieved by a constant control @xmath119 .",
    "[ thm : main ] suppose assumptions [ a : sde ] , [ a : riskmeasure ] , and [ a : c01b ] are satisfied .",
    "then a constant @xmath97 exists , independent on @xmath65 , @xmath180 and @xmath202 , such that inequality holds .",
    "using , we obtain @xmath220\\\\   = { \\mathbb{e}}\\left[v\\big(t_{i+1},x_{t_{i+1}}^{t_i , x}\\big)\\int_{t_{i}}^{t_{i+1 } } ( \\hat{\\mu}_s - \\mu_s)\\hat{\\vargamma}_{t_i , s}\\;dw_s\\right]\\\\    \\quad + { \\mathbb{e}}\\left[v\\big(t_{i+1},x_{t_{i+1}}^{t_i , x}\\big)\\int_{t_{i}}^{t_{i+1}}(\\hat{\\vargamma}_{t_i , s } - \\vargamma_{t_i , s})\\mu_s\\;dw_s\\right].\\end{gathered}\\ ] ] combining the estimates from lemmas [ lem : estimates1 ] and [ lem : estimates2 ] , we obtain the postulated result .",
    "an even smaller error than can be achieved by choosing the _ best _ constant control in the interval @xmath193 $ ] . for a constant @xmath221 , where @xmath222 , the dual state equation has a closed - form solution , the exponential martingale : @xmath223 it follows that an @xmath224 approximation of the risk measure can be obtained by solving the following simple vector optimization problem : @xmath225 : = \\max_{\\nu\\in a}{\\mathbb{e}}\\big[v\\big(t_{i+1},x_{t_{i+1}}^{t_i , x}\\big ) \\exp\\big(\\nu ( w_{t_{i+1}}-w_{t_i } ) -\\frac{\\delta}{2}|\\nu|^2\\big)\\big].\\ ] ] opposite to",
    ", we do not need to know @xmath204 to solve this problem .    by theorem [ thm : main ] , @xmath226 \\le c\\delta^{\\frac{3}{2}}.\\ ] ]    by construction , the approximating measure of risk @xmath227 $ ] is coherent and satisfies all properties ( i)-(iii ) of theorem [ t : geval - prop ] .",
    "the time - consistency of dynamic risk measure leads to the nested form below : @xmath228 = \\rho_{t_0 , t_1}\\bigg[\\rho_{t_1 , t_2}\\big [ \\dots \\rho_{t_{n-2 } , t_{n-1}}\\big[\\rho_{t_{n-1 } , t_n}\\big[\\varphi(x_t)\\big]\\big]\\dots\\big]\\bigg].\\ ] ] by using optimal constant dual controls on each interval @xmath229 , we may approximate this composition by dynamic programming . for @xmath230",
    "we define @xmath231 .",
    "then , for @xmath232 , and for @xmath158 , we restart the diffusion from @xmath65 at time @xmath186 as in . having obtained @xmath233 , we can calculate the approximate risk measure on the interval @xmath193 $ ] : @xmath234 = \\max_{\\nu\\in a}{\\mathbb{e}}\\big[\\tilde{v}_{i+1}\\big(x^{t_i , x}_{t_{i+1}}\\big )   \\exp\\big(\\nu ( w_{t_{i+1}}-w_{t_i } ) -\\frac{\\delta}{2}|\\nu|^2\\big)\\big].\\ ] ]    suppose assumptions [ a : sde ] , [ a : riskmeasure ] , and [ a : c01b ] are satisfied .",
    "then a constant @xmath97 exists , such that for all @xmath180 and @xmath65 we have : @xmath235 in particular , @xmath236 .",
    "the result follows by backward induction .",
    "it is obviously true for @xmath230 .",
    "if it is true for @xmath237 , we can easily verify it for @xmath202 . by the translation property of",
    "@xmath238 $ ] and we obtain : @xmath239 \\\\ & \\le v(t_{i},x ) - \\tilde{\\rho}^x_{t_i , t_{i+1}}\\big [ v\\big(t_{i+1},x_{t_{i+1}}^{t_i , x}\\big)\\big ] + c \\delta^{\\frac{3}{2 } } \\le c ( n - i ) \\delta^{\\frac{3}{2}},\\end{aligned}\\ ] ] as required .    in practice ,",
    "the forward process is simulated in an approximate way , for example , by _",
    "euler s method _ : @xmath240 it is well known that for small @xmath110 , the error of this euler scheme is @xmath241 .",
    "since @xmath242 is a normal random vector , streamlined calculation of the risk measure is possible . denoting by @xmath243 a standard normal random vector with independent components",
    ", we can simplify the calculation of the risk measure in as follows : @xmath244.\\ ] ] observe that the same normal random vector @xmath243 is used in both terms of this expression .",
    "our earlier assumption of time - homogeneity of @xmath4 is barely a restriction after discretization , because @xmath4 can be piecewise @xmath245-hlder continuous between the grid points .",
    "as long as the risk aversion does not change abruptly , the numerical method developed can be easily adapted to the case of a time - dependent driver .",
    "after the credit crunch , the management of risk is an increasingly important function of any financial institution .",
    "the primary goal is to have sufficient capital reserves against potential losses in the future .",
    "such risk management is divided into two stages : _ scenario generation _ and _ portfolio re - pricing_.    scenario generation refers to the construction of sample paths over a given time horizon .",
    "this is also called the _ outer stage _ , where monte carlo simulation is used to generate paths of systems governed by stochastic differential equations .",
    "repricing of portfolio amounts to the computation of the portfolio value at a certain time horizon .",
    "the portfolio may consist of derivative securities with nonlinear payoffs that , in conjunction with financial models , require monte carlo simulation for this _ inner stage _ as well ( see figure [ fig : twostage ] ) .",
    "thus , in real world application , the risk measurement requires calculation of a two - level nested monte carlo simulation .",
    "lastly , the risk evaluation is done by a risk measure @xmath246 , a functional that maps future random exposure to a real number .",
    "examples of risk measure can be _ value at risk _ , _ conditional value at risk _ , _ probability of loss _ , _",
    "etc_. such evaluation structure leads to a challenging computation task .",
    "especially , the inner step simulation has to be done for each scenario generated in the first stage .",
    "a lot of research has been done to address the computation issue , to name a few , gordy and juneja @xcite , lee and glynn @xcite , lesnevski _ et al .",
    "_ @xcite and rockafellar and uryasev @xcite",
    ".      the common objective is measuring the risk of a portfolio of assets at the risk horizon @xmath247 , while standing at time @xmath248 .",
    "we denote the current wealth , _ i.e. _ , the net present value of portfolio , by @xmath249-measurable random variable @xmath250 ( a known quantity ) . at time @xmath251 , the value of the portfolio is then a @xmath252-measurable random variable @xmath253 . in almost all real - world applications , we assume a probabilistic model of the evolution of uncertainty between @xmath248 and @xmath251 , for example , a stochastic differential equation .",
    "suppose the outcome @xmath254 is a set of possible future scenarios , each of which incorporates sufficient information so as to determine all asset prices at the risk horizon .",
    "then , in each scenario @xmath255 , the portfolio has value @xmath256 .",
    "the _ mark - to - market ( mtm ) _ loss of this portfolio at time @xmath251 in scenario @xmath257 is given by @xmath258 the usual risk measurement is static in the sense that it evaluates the risk of exposure at risk horizon only at current time @xmath248 .",
    "if one wants to check the risk at an intermediate point of the risk horizon , the whole model has to be re - run .",
    "given the computation efforts of nested simulation , it can be very burdensome .",
    "in addition , re - simulating can cause inconsistency of risk evaluation , which is also undesired .",
    "in our work , we use dynamic risk measure and the approximation algorithm proposed in section [ s : discrete - approximation ] , to measure the risk associated with the portfolio dynamically . in this way",
    ", the risk can be monitored continuously and consistently , in other words , for any time instant @xmath2 within the risk horizon , the evolution of risk can be traced .    to better illustrate the dynamic risk evaluation ,",
    "let us consider a specific example , a portfolio consisting of a long position in a single put vanilla option , which expires at time @xmath259 and has strike price @xmath102 .",
    "the underlying stock , say _ abc _ , follows a geometric brownian motion with an initial price @xmath260 , mean @xmath119 and volatility @xmath261 , in other words , under the real - world probability measure @xmath262 , its dynamics is given by the following sde : @xmath263.\\end{aligned}\\ ] ] here , @xmath264 is @xmath262-brownian motion . let us also set a flat interest rate level @xmath265 ; therefore , under the risk - neutral pricing framework , we have the stock dynamics : @xmath266 where @xmath267 is a @xmath268-brownian motion . with these specifications ,",
    "the initial value of the put can be easily calculated by the _ black - scholes ( bs ) _ formula , which yields @xmath269 here @xmath180 stands for the cumulative distribution function of normal distribution and @xmath270 , \\\\",
    "d_- ( \\tau , x ) & = \\frac{1}{\\sigma\\sqrt{\\tau}}\\big[\\ln\\frac{x}{k } + ( r - \\frac{1}{2}\\sigma^2)\\tau\\big].\\end{aligned}\\ ] ] let us fix a risk horizon @xmath251 , denote the price of at the risk horizon as @xmath271",
    ". then , the exposure ( mtm ) at time @xmath251 is the difference of initial put price @xmath272 and the risk - neutral price of the option at time @xmath251 , i.e. , @xmath273.\\end{aligned}\\ ] ] here , to get @xmath271 , we have to simulate the path of stock under the real - world measure , _",
    "i.e. _ , according to . then , to compute the right - hand side , we only need to work out the second term ; again , it can be computed analytically by the bs formula .",
    "it is well known that the loss function @xmath190 is lipschitz in the state .",
    "we are now in the situation to apply a dynamic risk measure , @xmath274 : = y_t,\\quad \\textit{where } \\quad y_t = \\varphi(s_\\tau ) + \\int_t^\\tau g(s , z_s)\\;ds - \\int_t^\\tau z_s\\;dw_s,\\,\\,t\\in[0 , \\tau],\\end{aligned}\\ ] ] which enables us to view the risk at any time @xmath275 $ ] .    as for the implementation details , instead of using monte carlo simulation",
    ", we use a tree model for the outer stage .",
    "our risk evaluation algorithm reduces the functional optimization to vector optimization at every time discretization step .",
    "however , since backward induction has to be implemented , the state space also needs to be discretized , which makes the tree structure appealing .    for a diversified portfolio",
    ", we shall do multiple outer loop simulations as well as inner loop simulations , because multiple assets are involved .",
    "also , more sophisticated underlying dynamics is possible , such as stochastic volatility , local volatility model , in which cases monte carlo simulation has to be performed . at the risk horizon , all exposures should be netted before the @xmath4-evaluation through our algorithm for bsde .",
    "we now present the numerical results based on the following data : @xmath276 for risk evaluation , we specify the generator to be : @xmath277 where the parameters @xmath278 and @xmath279 model risk aversion .",
    "the corresponding set of ambiguity is then : @xmath280 with @xmath281 , and @xmath282 fix @xmath283 , at time @xmath248 , given @xmath252-measurable loss @xmath190 in .",
    "table [ tab : convergence table ] and figure [ fig : convergence ] summarize the valuation when varying the step size and risk tolerance @xmath284 .",
    "we can observe convergence of the numerical method , as the step size decreases , uniformly over the whole range of @xmath284 .",
    "as we can observe , if the stock _ abc _ becomes volatile , the risk of the portfolio should increase , because volatility implies uncertainty .",
    "moreover , since the current stock price is @xmath285 , as the strike price increases , the risk also goes up , which indicates being engaged in an out - of - money trade is riskier than at - the - money or in - the - money .",
    "thus , the risk surface constructed coincides with intuition , which validates the risk evaluation approximation .",
    "lee , s.h . , glynn , p.w .",
    ", _ computing the distribution function of a conditional expectation via monte carlo simulation : discrete conditioning spaces , _ acm transactions on modeling and computer simulation , 13(3 ) , 235 - 258 , 2002 ."
  ],
  "abstract_text": [
    "<S> we propose a numerical recipe for risk evaluation defined by a backward stochastic differential equation . </S>",
    "<S> using dual representation of the risk measure , we convert the risk valuation to a stochastic control problem where the control is a certain radon - nikodym derivative process . by exploring the maximum principle , we show that a piecewise - constant dual control provides a good approximation on a short interval . </S>",
    "<S> a dynamic programming algorithm extends the approximation to a finite time horizon . </S>",
    "<S> finally , we illustrate the application of the procedure to risk management in conjunction with nested simulation . </S>",
    "<S> + keywords : dynamic risk measures , forward  </S>",
    "<S> backward stochastic differential equations , stochastic maximum principle , risk management </S>"
  ]
}