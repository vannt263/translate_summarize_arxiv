{
  "article_text": [
    "the weak order on a coxeter group @xmath4 is a partial order on @xmath4 which plays a significant role in many areas of algebra and algebraic combinatorics as grassmannian geometry and schubert calculus ( see @xcite ) .",
    "moreover , it is closely related to the geometry of the root system associated with a coxeter group ( see @xcite , @xcite , @xcite , or @xcite ) , and to the theory of quasi - symmetric functions ( see @xcite for a general survey ) thanks to the stanley symmetric functions .",
    "these functions were introduced by stanley in @xcite , in order to enumerate the reduced decompositions of any permutation @xmath5 in the symmetric group @xmath6 , equivalently enumerating the maximal chains from the identity to @xmath5 in the weak order on @xmath6 , and turned out to be of fundamental importance in many areas of algebra ( see @xcite ) . in @xcite , lam generalized stanley s work to the affine coxeter group of type @xmath7 .    in this paper",
    "we introduce a new family of posets , defined from a digraph together with a valuation on its vertices . here",
    ", we focus exclusively on the case where the digraph is simple and acyclic , in which case the corresponding poset has a rich combinatorial structure .",
    "it appears that many well - known posets can be described within this theory , and after a careful case by case study , we show that the weak order on coxeter groups of type @xmath7 , @xmath8 and @xmath9 , the flag weak order on the wreath product @xmath3 ( see @xcite ) , and the up - set ( resp .",
    "down - set ) lattice of any finite poset , admit such a description .",
    "the study of this family of posets will be further developed in @xcite , in which we will show how they can be used to study two long - standing conjectures of matthew dyer on the geometry of root systems in infinite coxeter groups ( see @xcite and @xcite ) .",
    "moreover , in another subsequent publication we will highlight connections which exist between our theory and tamari and cabrian lattices . note that except for the case of coxeter groups of type @xmath7 , the content of @xcite will not overlap the content of the current paper .",
    "indeed , @xcite is mainly centred on algebraic and geometric aspects of this construction , while here we develop the combinatorial ones : we give a new formula for the values of the mbius function and we provide a new combinatorial model for the maximal chains in the weak order on coxeter groups of type @xmath7 , @xmath9 and @xmath8 .",
    "our construction relies on a generalization of the notion of linear extension of a finite poset to simple acyclic digraph , and leads us to associate quasi - symmetric functions with each element of our posets , as it is the case for linear extensions in the context of @xmath10-partitions ( see @xcite ) .",
    "it seems that most of the functions associated with an element do not give much insights about the underlying poset structure .",
    "however , the form of the underlying digraph sometimes leads to a canonical choice among these quasi - symmetric functions , which occurs when considering the digraphs associated with types @xmath7 and @xmath8 .",
    "in these two cases , we show ( following a similar methods as in @xcite and @xcite ) that the canonical quasi - symmetric functions which arise are exactly the stanley and lam s symmetric functions .    in the author s opinion",
    ", the connections between our construction and quasi - symmetric functions presented in section  [ secquasi ] just scratch the surface and would require a more exhaustive study . moreover , our results suggest that the construction presented here could be generalized so as to obtain the weak order on any coxeter group , and thus may lead to a generalization of stanley symmetric functions to a wider class of coxeter groups",
    ". a good starting point would be to look for a combinatorial description of type @xmath9 stanley symmetric functions , using the digraph introduced here .",
    "+ the paper is organised as follows : in section  [ secdef ] we define the family of posets from _ valued digraphs _",
    ", which are couples of a simple acyclic digraph together with a valuation on its vertices .",
    "we exhibit some general properties of these posets , namely they are _ graded complete meet semi - lattices _ in the general case , _ graded complete lattices _ when the underlying digraph is finite , and we give a simple and explicit formula to compute the values of their _",
    "mbius function_. in section  [ secweak ] , we show that the ( right ) weak order on coxeter groups @xmath0 , @xmath1 and @xmath2 , the flag weak order on @xmath3 , and the up - set ( resp .",
    "down - set ) lattice of any finite poset can be described thanks to this theory . in section  [ secquasi ]",
    ", we exhibit a link between these posets and the theory of quasi - symmetric functions .",
    "more precisely , we explain how the series associated with any _ @xmath10-partition _ ( see @xcite ) , the stanley symmetric functions , and lam s generalization naturally arise from this description . +",
    "* acknowledgements . *",
    "parts of the current paper have been accepted to fpsac  2015 as an extended abstract ( see @xcite ) .",
    "we begin with some standard definitions about poset theory and graph theory .",
    "a poset is a couple @xmath11 , where @xmath10 is a set and @xmath12 is a binary relation which is _ reflexive _ , _ antisymmetric _ , and _",
    "transitive_. a poset @xmath13 is called a _",
    "complete meet ( resp .",
    "join ) semi - lattice _ if and only if every subset @xmath14 of @xmath13 has an _ infimum _ ( resp .",
    "_ supremum _ ) in @xmath13 , _",
    "i.e. _ there exists @xmath15 in @xmath13 such that if @xmath16 and @xmath17 ( resp .",
    "@xmath18 ) for all @xmath19 , then @xmath20 ( resp .",
    "@xmath21 ) .",
    "if @xmath13 is both a complete join and meet semi - lattice , then we say that @xmath13 is a _",
    "complete lattice_. a _ lower set _ of @xmath13 is a subset @xmath7 of @xmath13 such that for all @xmath22 and @xmath23 in @xmath10 , if @xmath17 then @xmath24 .",
    "it is classical that the lower sets of @xmath13 ordered by inclusion form a lattice ( see @xmath253 in @xcite ) .",
    "a _ simple digraph _ is a couple @xmath26 , where @xmath27 is the set of _ vertices _ of @xmath28 , and @xmath29 is a subset of @xmath30 called the set of _ arcs _ of @xmath28 .",
    "a _ cycle _ of @xmath28 is a finite sequence @xmath31 of vertices of @xmath28 such that @xmath32 for all @xmath33 , where the indices are taken modulo @xmath34 .",
    "a graph @xmath28 is called _ acyclic _ if it does not have any cycle . on each vertex @xmath35 of @xmath28 , we define the statistic @xmath36 called the _ out - degree _ of @xmath35 , and which is possibly infinite .",
    "+ we now present a method to obtain all lower sets of a finite poset @xmath13 .",
    "since @xmath13 is finite , there exists @xmath37 in @xmath13 which is a minimum , that is if @xmath38 in @xmath13 , then @xmath39 .",
    "let @xmath40 be the finite poset obtained by removing @xmath37 from @xmath13 .",
    "then , there exists @xmath41 in @xmath42 which is a minimum and we can define the poset @xmath43 obtained by removing @xmath41 in @xmath42 , and so on .",
    "finally , we end with an injective sequence @xmath44 $ ] of elements of @xmath13 .",
    "this sequence is a linear extension of @xmath13 by construction .",
    "furthermore , one can easily prove by induction that all the linear extensions of @xmath13 can be obtained by this way .    in a certain sense , this method `` peels '' a finite poset element by element , in order to obtain a family of sequences which give rise to an interesting family of sets ( here , the lower sets ) . here",
    ", we propose to apply a similar principle to a simple acyclic digraph .",
    "namely , we will peel the digraph vertex by vertex , with respect to a constraint given by a valuation on its vertices .",
    "it will give rise to a family of sequences of vertices of the graph , then to a family of subsets of vertices having an interesting poset structure once ordered by inclusion .",
    "we start with the definition of the valuation on the vertices of a simple acyclic digraph .",
    "let @xmath26 be a simple acyclic digraph .",
    "a valuation @xmath45 is called an _ out - degree compatible valuation _ on @xmath28 ( ocv ) if and only if for all @xmath46 , we have @xmath47 a pair @xmath48 , where @xmath28 is a simple acyclic digraph and @xmath49 is an ocv , is called a _ valued digraph_.    in what follows , @xmath50 will denote a valued digraph . recall that our aim is to generalize the method which peels finite posets to valued digraphs .",
    "thus , we first need to specify which vertices of a valued digraph can be peeled .",
    "this is the point of the following definition .",
    "a vertex @xmath35 of @xmath28 is called _ erasable _ in @xmath51 if and only if :    * @xmath52 ; * for all @xmath53 such that @xmath54 , we have @xmath55 .",
    "we now introduce the _ peeling process _ , which is indeed a generalisation of the process on finite posets presented in the introduction of this section .",
    "[ defpeelseq ] given @xmath48 a valued digraph , we construct recursively two sequences : a sequence @xmath56 $ ] of elements of @xmath27 , and a sequence @xmath57 of valued digraphs as follows .    1 .",
    "let @xmath58 .",
    "2 .   if there is not any erasable vertex in @xmath59 , the process stop . otherwise ,",
    "choose @xmath35 a vertex of @xmath60 which is erasable in @xmath59 , and set @xmath61 .",
    "1 .   let @xmath62 be the simple acyclic directed graph obtained by removing the vertex @xmath63 in @xmath60 and all the arcs of the form @xmath64 or @xmath65 in @xmath60 .",
    "2 .   let @xmath66 be the ocv on @xmath62 such that @xmath67 if @xmath68 is an arc of @xmath60 , and @xmath69 otherwise . then set @xmath70 and iterate step 2 .",
    "a sequence @xmath71 coming from this process is called a _ peeling sequence _ of @xmath72 , and we denote by @xmath73 the set of all peeling sequences of @xmath72 .",
    "recall that the lower sets of any finite poset @xmath13 are the initial sections of some linear extension @xmath13 , and we can extend this notion to valued digraph in the natural way .",
    "let @xmath56 $ ] be a peeling sequence of @xmath72 .",
    "the _ initial sections _ of @xmath71 are the sets of the form @xmath74 , @xmath75 . by convention",
    ", @xmath76 is an initial section of @xmath71 .",
    "the set of the initial sections of all the peeling sequences of @xmath72 will be denoted by @xmath77 .",
    "finally , recall that the lower sets of any finite poset gives rise , once ordered by inclusion , to a classical lattice called its down - set lattice . once again , this concept naturally generalizes to valued digraphs , and the posets we will consider all along this paper are the posets @xmath78 for some valued digraphs @xmath72 .    consider @xmath72 as depicted in the upper left corner of figure  [ figfpsacex ] .",
    "the peeling sequences of @xmath72 are @xmath79 $ ] and @xmath80 $ ] , thus @xmath81        we finish this section with stating our main results concerning the properties of @xmath78 . the proofs",
    "are given in section  [ sectionproof ] .",
    "[ lattice ] let @xmath48 be a valued digraph , the poset @xmath78 is a graded complete meet semi - lattice , and its rank function is @xmath82 .",
    "moreover , if @xmath28 is finite , then @xmath78 is a complete lattice .",
    "we also have an explicit formula for the values of the mbius function of the poset @xmath78 . for the sake of clarity",
    ", we give the formula only for the couples of the form @xmath83 , @xmath84 , but a similar one can be stated for all couples in @xmath77 .",
    "[ mobius ] let @xmath84 , @xmath85 and @xmath86 , we have two cases .    1 .   if @xmath87 , then @xmath88 .",
    "2 .   otherwise , @xmath89 .",
    "in this section , we provide the proofs of theorems  [ lattice ] and [ mobius ] .",
    "both proofs rely on an intrinsic characterization of the elements of @xmath77 ( proposition  [ technic ] ) and on a technical lemma ( lemma  [ techlem ] ) , which we give here .",
    "[ technic ] let @xmath48 be a valued digraph and @xmath7 be a finite subset of vertices of @xmath28 , then @xmath84 if and only if :    1 .   for all @xmath90 , @xmath91 ; 2 .   for all @xmath92 , @xmath93",
    "assume that @xmath84 , _",
    "i.e. _ there exists @xmath56\\in ps({\\mathcal{g}})$ ] and @xmath94 such that @xmath95 .",
    "let @xmath35 be a vertex of @xmath28 , then we divide our study into two cases .",
    "* if @xmath22 , then there exists @xmath96 such that @xmath61 , and we obviously have @xmath97 furthermore , by definition of the peeling process , we have @xmath98 .",
    "hence , @xmath35 satisfies point ( 1 ) . *",
    "if @xmath99 , then set @xmath100 the sequence associated with @xmath71 . by definition of the peeling process , we have @xmath101 . hence , @xmath35 satisfies point ( 2 ) .",
    "conversely , assume that @xmath7 satisfies both points ( 1 ) and ( 2 )",
    ". we will prove that @xmath84 recursively on @xmath102 .",
    "if @xmath103 , then set @xmath35 the vertex of @xmath28 such that @xmath104 .",
    "we have @xmath52 thanks to point ( 1 ) , and point ( 2 ) implies that for all @xmath105 such that @xmath106 we have @xmath107 .",
    "hence , @xmath35 is erasable in @xmath72 , so that @xmath84 .",
    "let @xmath108 be such that the property is true and assume that @xmath109 .",
    "we first prove that there exists a vertex in @xmath7 which is erasable .",
    "since @xmath28 is acyclic and @xmath7 is finite , there exists @xmath110 such that for all @xmath24 , @xmath111 .",
    "then , by point ( 1 ) , we have @xmath112 . again , since @xmath28 is acyclic and @xmath7 is finite , there exists @xmath35 in @xmath7 such that @xmath52 and for all @xmath24 , if @xmath113 then @xmath114 .",
    "furthermore , for all @xmath110 such that @xmath112 , if there exists @xmath115 such that @xmath116 , then @xmath117 by point ( 2 ) .",
    "consequently , this vertex @xmath35 is erasable and can be peeled at the first step of the peeling process .",
    "thus , if we set @xmath118 the valued digraph obtained with the peeling process after we peeled the vertex @xmath35 , then @xmath119 and @xmath120 clearly satisfies points ( 1 ) and ( 2 ) in @xmath118 .",
    "therefore , by induction we have @xmath84 .",
    "we finish with a technical lemma .",
    "[ techlem ] let @xmath121 and denote by @xmath122 the set @xmath123 . if there exists @xmath124 such that @xmath52 , then there exists @xmath125 which is erasable in @xmath72 .",
    "let @xmath125 be such that @xmath126 . for all @xmath127 ,",
    "there exists @xmath128 such that @xmath129 .",
    "therefore , if @xmath130 , then by proposition  [ technic ] we have @xmath131 .",
    "assume by contradiction that for all @xmath124 such that @xmath52 , there exists @xmath132 such that @xmath133 and @xmath106 .",
    "since @xmath122 is finite , this implies that there is a cycle in @xmath28 , which is absurd .",
    "hence , there exists an erasable vertex of @xmath72 in @xmath122 , and this ends the proof .",
    "we divide the proof of theorem  [ lattice ] into two distinct steps .",
    "first , we prove that @xmath78 is a graded poset ( proposition  [ propgradedposet ] ) .",
    "then , we prove that it is a meet semi - lattice ( corollary  [ coromeet ] ) , constructing explicitly the infimum of any subset of @xmath77 .",
    "let us begin with a proposition , which immediately implies that @xmath78 is graded .",
    "[ propgradedposet ] let @xmath7 and @xmath9 be two elements of @xmath77 , and denote by @xmath108 and @xmath134 the cardinality of @xmath7 and @xmath9 , respectively .",
    "if @xmath135 , then there exists @xmath56\\in ps({\\mathcal{g}})$ ] such that @xmath136 and @xmath137 .",
    "consequently , @xmath138 is graded with rank function @xmath139 .    since the case @xmath140 is obvious , we assume that @xmath141 .",
    "let us now perform the peeling process on @xmath72 , in order to construct the claimed peeling sequence . since @xmath84 , we begin with constructing the sequence @xmath71 by peeling the first @xmath108 elements @xmath142 in @xmath7 .",
    "consequently , @xmath143 .",
    "let us now consider the valued digraph @xmath144 coming from the peeling process after we peeled @xmath142 . by definition of @xmath145",
    ", @xmath146 is a subset of vertices of @xmath147 .",
    "we will prove that @xmath148 is in @xmath149 checking that @xmath148 satisfies both points ( 1 ) and ( 2 ) of proposition  [ technic ] . by construction , for all @xmath150 we have @xmath151 , and @xmath152 since @xmath153 , we have by proposition  [ technic ] that @xmath154 , so that @xmath155 then , @xmath148 satisfies point ( 1 ) of proposition  [ technic ] . using similar arguments ,",
    "we show that @xmath148 also satisfies point ( 2 ) of proposition  [ technic ] .",
    "hence , there exists a peeling sequence @xmath156 $ ] of @xmath145 such that @xmath157 , and finally , the sequence @xmath56 $ ] is a peeling sequence of @xmath72 such that @xmath158 and @xmath159 .",
    "this ends the proof of the proposition .",
    "we end the proof of theorem  [ lattice ] showing that @xmath78 is a meet semi - lattice . for that purpose ,",
    "we construct explicitly the infimum ( also called the _ meet _ ) of a set @xmath121 . +",
    "* construction of the meet .",
    "* let @xmath14 be a subset of @xmath77 and @xmath122 be the intersection of all the elements of @xmath14 , we will construct recursively a set @xmath160 as follows .    if for all @xmath124 , @xmath161 , we set @xmath162 .",
    "otherwise , let @xmath163 be an erasable vertex of @xmath72 and start the peeling process by peeling this vertex .",
    "we denote by @xmath164 the obtained valued digraph .",
    "then , for all @xmath165 , we have @xmath166 .",
    "therefore , we can again apply lemma  [ techlem ] to @xmath167 seen as a subset of vertices of @xmath168 : if for all @xmath169 we have @xmath170 , then we set @xmath171 ; otherwise , let @xmath172 be an erasable vertex of @xmath173 and perform the peeling process peeling this @xmath174 in @xmath173 .",
    "we repeat this procedure until there is not any erasable vertex left ( this process always ends , since @xmath122 is finite ) , and we set @xmath148 the resulting set . by construction , @xmath160 .",
    "+ at first glance , this set @xmath148 does not appear to be well defined , and seems to depend heavily on the choices of vertices made at each step of its construction .",
    "the next proposition shows that is not the case .",
    "[ propverifmeet ] let @xmath84 .",
    "if @xmath175 , then @xmath176 .    we split the proof into two cases .    *",
    "if for all @xmath125 we have @xmath55 , then , by definition of the peeling process , we have that @xmath177 .",
    "* if there exists @xmath125 such that @xmath112 , then @xmath178 .",
    "thus there exists @xmath56 \\in ps({\\mathcal{g}})$ ] and @xmath94 such that @xmath179 .",
    "let us denote by @xmath180 the sequence of valued digraphs associated with @xmath71 and let @xmath181 $ ] be in @xmath73 such that @xmath182 .",
    "+ assume by contradiction that @xmath183 and consider @xmath184 minimal such that @xmath185 .",
    "we have that @xmath186 is a vertex of @xmath147 and , by minimality , for all @xmath187 there exists @xmath188 such that @xmath189 .",
    "let us now compute the value of @xmath190 . by definition of the peeling process , we have @xmath191 however , for all @xmath187 we have @xmath192 , so that @xmath193 thus , @xmath194 and this is absurd by construction of @xmath148 , hence @xmath176 .",
    "this ends the proof    as @xmath195 by construction , proposition  [ propverifmeet ] implies the following corollary .",
    "[ coromeet ] the set @xmath148 is the infimum of @xmath14 .",
    "finally , note that if the underlying graph @xmath28 is finite , then we obviously have that @xmath27 , the set of all the vertices of @xmath28 , satisfies points ( 1 ) and ( 2 ) of proposition  [ technic ] .",
    "consequently , @xmath196 and the poset @xmath78 is bounded .",
    "thus , @xmath78 is a lattice since it is a meet semi - lattice ( more precisely , it is a complete lattice ) , and this ends the proof of theorem  [ lattice ] .",
    "the proof of this formula is purely combinatorial , and is based on the well - known _ inclusion - exclusion principle _",
    "( see @xmath252 in @xcite ) .",
    "we first introduce some notations : for all @xmath84 , we denote by @xmath197 $ ] the set @xmath198 .",
    "let @xmath7 , @xmath199 and @xmath200 be as defined in theorem  [ mobius ] , for all @xmath201 , let us denote by @xmath202 the infimum of @xmath203 .",
    "we begin the proof with a technical lemma .",
    "[ lemmob ] let @xmath201 , we have @xmath204 if and only if @xmath205 .",
    "obviously , @xmath206 .",
    "thanks to lemma  [ techlem ] , if @xmath205 , then there exists @xmath207 which is erasable in @xmath72 , so that the infimum of @xmath208 is not @xmath76 .",
    "the proof of the converse implication is based on similar arguments .",
    "an immediate consequence of the meet semi - lattice structure of @xmath209 is that , for all @xmath7 and @xmath9 in @xmath77 , @xmath197\\cap[\\emptyset , b]=[\\emptyset , a \\wedge b]$ ] where @xmath210 is the infimum of @xmath211 .",
    "this basic remark leads to the claimed formula .",
    "first , we have @xmath212\\setminus\\{a\\ } = \\bigcup_{x \\in \\mathcal{f}(a)}[\\emptyset , a_{\\{x\\}}].\\ ] ] then , by the inclusion - exclusion principle , we have @xmath213\\setminus\\{a\\}\\right| = \\sum_{\\emptyset \\neq s\\subseteq \\mathcal{f}(a)}(-1)^{|s|+1}\\ \\left| \\bigcap_{x \\in s}[\\emptyset , a_{\\{x\\ } } ] \\right|=\\sum_{\\emptyset \\neq s\\subseteq \\mathcal{f}(a)}(-1)^{|s|+1}\\ \\left| [ \\emptyset , a_{s } ] \\right|.\\ ] ] once applied to the mbius function of @xmath209 , this gives rise to the following identity : @xmath214}\\mu(\\emptyset , b).\\ ] ] by definition of the mbius function , @xmath215}\\mu(\\emptyset , b)=1 $ ] if @xmath216 , and 0 otherwise .",
    "hence , thanks to lemma  [ lemmob ] , if @xmath217 , then @xmath89 .",
    "otherwise , equation  ( [ eqmob ] ) becomes @xmath218 theorem  [ mobius ] follows immediately .",
    "in this section , we show several examples of classical posets which can be described using valued digraphs .",
    "we first recall the definition of weak order on a coxeter groups .",
    "let @xmath4 be a coxeter group with generating set @xmath14 , the _ weak order _ on @xmath4 is the poset @xmath219 , defined as follows : we say that @xmath220 if and only if there exists @xmath221 in @xmath14 such that @xmath222 and @xmath223 .",
    "it is well - known that @xmath219 is a complete meet semi - lattice when @xmath4 is infinite , a complete lattice when @xmath4 is finite , and that its mbius function takes values into @xmath224 ( see @xcite and @xcite ) .",
    "hence , it is natural to look for an interpretation of the weak order through the theory developed in previous sections .",
    "indeed , such an interpretation exists in some cases , and we give an explicit description for the following list of posets .",
    "[ theolistposet ] for each poset @xmath225 in the following list , there exists an explicit valued digraph @xmath72 such that @xmath225 is isomorphic to @xmath78 :    * @xmath219 where @xmath226 and @xmath227 is the ( right ) weak order on @xmath4 ; * @xmath228 , called the flag weak order on @xmath3 ; * the up - set ( resp . down - set ) lattice of any finite poset .",
    "we prove theorem  [ theolistposet ] with a careful case - by - case study , which is done in the following sections .",
    "more precisely , in section  [ sectsym ] we provide a candidate of valued digraph associated with the weak order on @xmath0 , and we prove that this candidate indeed provides a description of the weak order on @xmath0 in section  [ sectionsymproof ] . similarly , in section  [ sectb ] we construct a valued digraph associated with @xmath1 , and we prove in section  [ sectiontypebproof ] that this valued digraph describe the weak order on @xmath1 .",
    "section  [ sectaffinea ] is devoted to the study of the weak order on @xmath229 .",
    "finally , in sections  [ sectionflagweak ] and [ sectiondownset ] we study the cases of the flag weak order and the up - set lattice , respectively .",
    "recall that @xmath0 is the coxeter group with generating set @xmath230 and with coxeter matrix @xmath231 given by @xmath232 for all @xmath233 , and @xmath234 otherwise . as usual",
    ", we identify @xmath0 with the symmetric group @xmath6 , identifying the generator @xmath235 with the _ simple transposition _ of @xmath6 which exchanges the integers @xmath236 and @xmath237 .",
    "+ when we try to find a valued digraph @xmath48 such that @xmath238 is isomorphic to @xmath78 , the first problem arising is that , on the one hand we have a poset whose elements are permutations , and on the other hand we have a poset whose elements are sets . in order to overcome this difficulty ,",
    "let us consider a canonical set associated with each permutation @xmath239 , its _ inversion set _ : @xmath240 ^ 2\\ | \\ a < b \\ { \\rm and } \\",
    "\\sigma^{-1}(a ) >",
    "\\sigma^{-1}(b ) \\}.\\ ] ]    there is a deep connection between inversion sets and the weak order on @xmath6 .",
    "that is , we have the following well - known property ( see @xcite ) . for any @xmath241 ,",
    "@xmath242 this property allows us to clarify our goal : we are looking for a valued digraph @xmath48 such that ,    1 .",
    "the vertices of the graph are indexed by couples of integers @xmath243 ^ 2 $ ] such that @xmath244 ; 2 .",
    "the digraph structure of @xmath28 , together with the valuation @xmath49 , imply that @xmath77 is constituted exactly of the sets of the form @xmath245 , @xmath239 .",
    "there is a convenient way to represent the set @xmath246 ^ 2 \\ | \\ a < b \\}$ ] , considering the _ @xmath34-th staircase diagram _ , namely the ferrers diagram of the partition @xmath247 of size @xmath248 . on the left of figure  [ figfpsac03 ] ,",
    "the diagram associated to the case @xmath249 is represented .",
    "the coordinates of each box can be read thanks to the circled integers on the diagonal . from now on",
    ", we identify @xmath250 with the set @xmath246 ^ 2 \\ | \\ a < b \\}$ ] .",
    "as shown in the middle of figure  [ figfpsac03 ] , one can easily visualize the inversion set of any element of @xmath6 as a subset of boxes in @xmath250 .",
    "note that the set made of all the boxes of the diagram corresponds to the inversion set of the _ reverse permutation _",
    "@xmath251 \\in s_n$ ] , which is the maximal element in the weak order .",
    "we can define a digraph structure @xmath28 on the staircase diagram @xmath250 ( where the vertices are the boxes of the diagram ) , thanks to a classical combinatorial object associated to each box @xmath252 , _ the hook based on @xmath253 _ , denoted @xmath254 , consisting of @xmath253 and all the boxes which are on the right and below @xmath253 ( see figure  [ figfpsac03 ] , on the right ) : we say that there is an arc from @xmath253 to @xmath255 if and only if @xmath256 and @xmath257 . obviously , the resulting digraph @xmath28 is acyclic , and the out - degree of any box is an even number .",
    "thus , if we set @xmath49 the function defined by @xmath258 , then the couple @xmath259 is a valued digraph .",
    "let us summarize this construction in a definition .",
    "[ defvalgrsym ] let @xmath26 be the digraph such that @xmath260 ^ 2 \\ | \\ a < b \\ } \\ { \\rm and } \\",
    "e:=\\{(\\mathfrak{c},\\mathfrak{d})\\in \\lambda_n^2 \\",
    "| \\ \\mathfrak{c}\\neq \\mathfrak{d } \\ { \\rm and } \\",
    "\\mathfrak{d } \\in h(\\mathfrak{c } ) \\}.\\ ] ] we denote by @xmath261 the valued digraph such that for all @xmath262 @xmath263    one can check that the posets @xmath264 obtained in the cases @xmath265 , 3 and 4 are isomorphic to the weak order on @xmath266 , @xmath267 and @xmath268 , respectively .",
    "as stated in the following theorem , this situation is in fact general .",
    "[ symcase ] the posets @xmath269 and @xmath264 are isomorphic .",
    "the next section is dedicated to the proof of theorem  [ symcase ] .      in this section",
    ", we will show that @xmath270 which immediately implies theorem  [ symcase ] .",
    "we divide our proof into three steps .",
    "first , for any permutation @xmath239 we define a statistic @xmath271 on @xmath272 ( definition  [ defstatisticsym ] ) , which we characterize using the notion of _ adjacency _ ( see lemma  [ lemsymtech ] ) .",
    "we then use this to give a combinatorial interpretation of the valuations @xmath273 appearing when we perform the peeling process on @xmath274 ( see proposition  [ propsymcombinatint ] ) . finally , using this combinatorial interpretation",
    ", we prove that @xmath275 @xmath276 ( see proposition  [ techsym ] and corollary  [ corolfinala ] ) .",
    "we begin with the definition of the statistic @xmath271 .",
    "[ defstatisticsym ] let @xmath239 and @xmath277 .",
    "then , we set : @xmath278    let @xmath239 and @xmath279 , we say that @xmath280 and @xmath281 are _ adjacent _ in @xmath5 if and only if @xmath282 .",
    "one can clearly visualize two adjacent entries of a permutation @xmath283 , using the _ window notation _ of @xmath5 .",
    "that is , @xmath280 and @xmath281 are adjacent in @xmath5 if and only if @xmath279 and @xmath284.\\ ] ] this notion is linked to the weak order thanks to the following well - known property : for all @xmath241 we have @xmath285 and @xmath286 if and only if @xmath287 can be obtained from @xmath5 by swapping positions of two adjacent entries of @xmath5 and we say that @xmath287 _ covers _",
    "@xmath5 , denoted by @xmath288 .",
    "this can be transposed to the context of inversion sets using equation   as follows : for all @xmath241 , we have @xmath289 for @xmath280 and @xmath281 two adjacent entries of @xmath5 .",
    "note that if @xmath280 and @xmath281 are two adjacent entries of @xmath5 , then @xmath290 , but the converse is not true .",
    "we now provide a characterization of the statistic @xmath271 .",
    "[ lemsymtech ] let @xmath239 and @xmath291 .",
    "then , we have @xmath292    let @xmath293 be a reduced decomposition of @xmath5 and denote by @xmath294 the permutation @xmath295 , @xmath296 ( with the convention that @xmath297 ) .",
    "we will prove by induction on @xmath236 that the lemma is true for @xmath294 .",
    "note that the property is obviously true for @xmath298 .",
    "let @xmath299 be such that the property is true .",
    "for the sake of clarity , let us denote by @xmath300 the integer @xmath301 . since @xmath302 is reduced , we have @xmath303 , thus there exists a unique @xmath304 in @xmath305 .",
    "we now show how one can deduce the value of @xmath306 from both @xmath307 and @xmath304 .    *",
    "( case @xmath308 with @xmath309 ) the permutation @xmath310 is obtained from @xmath294 by exchanging the position of the integer @xmath280 with the position of the integer @xmath108 . moreover , since @xmath311 , @xmath280 and @xmath108 are adjacent in @xmath312 .",
    "however , @xmath313 , thus @xmath108 lies strictly between @xmath280 and @xmath281 in the window notation of @xmath294 , _",
    "i.e. _ we have @xmath314.\\ ] ] hence , it is no longer the case in @xmath310 , so that @xmath315 . * if @xmath316 with @xmath309 , then with similar arguments we show that @xmath315 .",
    "* in all other cases , both @xmath317 and @xmath318 either lie between @xmath280 and @xmath281 in @xmath294 , or they do note , and this is also true for @xmath310 . therefore , we have @xmath319 .",
    "finally , by induction hypothesis , @xmath310 satisfies the property , and this ends the proof .    for the sake of clarity , we introduce the following useful notation .    [ defultraimp ] let @xmath48 be a valued digraph and @xmath84 , we denote by @xmath320 the valued digraph obtained after removing all the elements of @xmath7 in @xmath72 using the peeling process .",
    "we are now able to provide a combinatorial interpretation of @xmath321 for some @xmath322 .",
    "[ propsymcombinatint ] let @xmath322 , if there exists @xmath239 such that @xmath323 , then for all @xmath277 , we have @xmath324 .",
    "let @xmath277 , by construction of @xmath259 , there is an arc from @xmath325 to @xmath326 if and only if @xmath327 or @xmath328 with @xmath309 .",
    "thus , by definition of the peeling process , we have @xmath329 moreover , we obviously have @xmath330 .",
    "consequently , thanks to lemma  [ lemsymtech ] , we have @xmath331 which ends the proof .    finally , we are now able to prove the main property of this section , which immediately leads to the proof of theorem  [ symcase ] ( see corollary  [ corolfinala ] ) .",
    "[ techsym ] let @xmath322 , @xmath239 such that @xmath323 and @xmath332 .",
    "then , @xmath280 and @xmath281 are adjacent in @xmath5 if and only if @xmath325 is erasable in @xmath333 .",
    "assume that @xmath280 and @xmath281 are adjacent in @xmath5 , then @xmath290 .",
    "let @xmath334 be such that there is an arc from @xmath326 to @xmath325 , thus we have @xmath335 with @xmath336 or @xmath337 with @xmath338 .",
    "since @xmath280 and @xmath281 are adjacent in @xmath5 , we have in the first case that @xmath281 is between @xmath280 and @xmath339 in the window notation of @xmath5 , _",
    "i.e _ we have @xmath340,\\ ] ] and we have in the second case that @xmath280 is between @xmath134 and @xmath281 in @xmath5 . in both cases , @xmath341 .",
    "consequently , @xmath325 is erasable in @xmath333 .",
    "we now prove the converse implication .",
    "let @xmath342 be erasable in @xmath333 , and assume by contradiction that @xmath280 and @xmath281 are not adjacent in @xmath5 .",
    "then , there exists @xmath343 which is between @xmath280 and @xmath281 in @xmath5 and since @xmath344 , we have @xmath345 or @xmath346",
    ".    * case @xmath345 .",
    "let @xmath347 be maximal such that @xmath348 and @xmath347 is between @xmath280 and @xmath281 in @xmath5 , and let @xmath108 be an integer which is between @xmath347 and @xmath281 in @xmath5 ( if such a @xmath108 exists ) , we have : * * by maximality of @xmath347 , @xmath349 ; * * since @xmath290 , @xmath350 .",
    "+ thus , @xmath351 , which is absurd since @xmath325 is erasable and there is an arc from @xmath352 to @xmath325 . * the case @xmath346 leads to a similar contradiction .",
    "this proves that @xmath280 and @xmath281 are adjacent in @xmath5 , and this ends the proof .",
    "[ corolfinala ] @xmath353 .",
    "let @xmath354 \\in ps({\\mathcal{a}})$ ] , since @xmath355 , @xmath37 and @xmath356 are adjacent in @xmath357 by proposition  [ techsym ] .",
    "let @xmath358 be the permutation which has @xmath359 as inversion set , then , using recursively proposition  [ techsym ] , we show that for all @xmath360 , there exists a permutation @xmath361 which has @xmath362 as inversion set .",
    "this is enough to prove the corollary .",
    "this concludes the proof of theorem  [ symcase ] .",
    "recall that @xmath1 is the coxeter group with generating set @xmath363 , and with coxeter matrix @xmath231 given by @xmath232 for all @xmath364 , @xmath365 and @xmath234 otherwise .",
    "this group can be seen as the group of the _ signed permutations _",
    "@xmath287 of the set @xmath366:=\\{-n,\\ldots,-1,1,\\ldots , n \\}$ ] satisfying @xmath367 for all @xmath368 . within this interpretation , @xmath369 is the signed permutation such that @xmath370 and @xmath371 for all @xmath372 , and @xmath235 is the permutation which exchange the positions of @xmath236 and @xmath237 ( and also the positions of @xmath373 and @xmath374 ) . in",
    "what follows , we will sometimes represent an element @xmath287 in @xmath1 by its _ full window notation _",
    ", that is : @xmath375.\\ ] ]    our aim in this section is to provide an interpretation of @xmath376 using our theory .",
    "first , we need to find a candidate of valued digraph . for that purpose",
    ", we follow the same method as in section  [ sectsym ] , using a good notion of inversion set .",
    "it is important to note that we will not use the notion of inversion set coming from root systems here .",
    "indeed , the combinatorial techniques we use here heavily depend on the interpretation of @xmath1 as a set of permutations , and not as a set of reflections .",
    "the drawback of this approach is that we will have to relate by ourselves these inversion sets to the weak order on @xmath1 .",
    "fortunately , most of the technical points have already been accomplished in @xcite .",
    "we begin with associating to each element @xmath287 of @xmath1 a @xmath9-inversion set , defined by : @xmath377 ^ 2 \\ | \\ a < b , \\ |a| \\leq b \\ { \\rm and } \\",
    "\\omega^{-1}(a ) >",
    "\\omega^{-1}(b ) \\}.\\ ] ]    let us now relate @xmath9-inversion set to the weak order on @xmath1 .",
    "for that purpose , we will need a definition and a result coming from @xcite , which we now give .",
    "see  ( * ? ? ?",
    "* eq.(8.2 ) ) let @xmath378 , the @xmath9-inversion number of @xmath287 is the quantity @xmath379 ^ 2\\ |\\ a < b \\ { \\rm and } \\",
    "\\omega(a)>\\omega(b ) \\}| \\\\ & + \\ |\\{(a , b)\\in[n]^2\\ |\\ a\\leq b \\ { \\rm and } \\",
    "\\omega(-a)>\\omega(b ) \\}.|\\end{aligned}\\ ] ]    [ lembrentbjorntypeb ] ( see ( * ? ? ?",
    "* eq . ( 8.6 ) ) ) let @xmath378 and @xmath380 $ ] , we have @xmath381 we also have @xmath382 .    the statistic @xmath383 is related to @xmath9-inversion sets , thanks to the following lemma .",
    "[ leminvb - invb ] for all @xmath378 , we have @xmath384 .    we have @xmath385 ^ 2\\ |\\ a < b \\ { \\rm and } \\",
    "\\omega(a)>\\omega(b ) \\}| \\\\   & \\qquad + \\ |\\{(a , b)\\in[n]^2\\ |\\ a\\leq b \\ { \\rm and } \\",
    "\\omega(-a)>\\omega(b ) \\}.| \\\\   = & \\ |\\{(a , b)\\in[\\pm n]^2 \\ | \\ a < b , \\",
    "|a|\\leq b \\ \\text{and } \\",
    "\\omega(a)>\\omega(b ) \\ } \\\\ = & \\ |{{\\rm",
    "inv}}_b(\\omega)|,\\end{aligned}\\ ] ] which is the expected result .",
    "we now begin to prove that @xmath9-inversion sets can be used to study @xmath376 .",
    "that is , we will show that for all @xmath386 we have @xmath387    we start with defining the equivalent of the notion of adjacency in type @xmath9 .",
    "[ defadjab ] let @xmath378 and @xmath244 be in @xmath366 $ ] , we say that @xmath280 and @xmath281 are _",
    "@xmath9-adjacent _ in @xmath287 if and only if the following two conditions are true :    1 .",
    "@xmath388 , 2 .",
    "@xmath280 and @xmath281 are adjacent in @xmath287 ( seen as a permutation of @xmath366 $ ] , _ i.e. _ the full window notation of @xmath287 is of the form @xmath389.\\ ] ]    it appears that the notion of @xmath9-adjacency plays the same role in type @xmath9 as the usual notion of adjacency do in type @xmath7 , as shown in the next proposition .",
    "[ proptechinvb ] let @xmath378 and @xmath390 , there exists @xmath325 such that @xmath391 , and such that @xmath392 is obtained from @xmath287 by swapping the positions of @xmath280 and @xmath281 and the positions of @xmath393 and @xmath394 in @xmath287 .",
    "then , we have two possibilities :    * if @xmath280 and @xmath281 are @xmath9-adjacent in @xmath287 , then @xmath395 and @xmath396 ; * if @xmath280 and @xmath281 are not @xmath9-adjacent in @xmath287 , then @xmath397 and @xmath398 .",
    "this is a consequence of lemma  [ leminvb - invb ] together with lemma  [ lembrentbjorntypeb ] and definition  [ defadjab ] .",
    "an immediate consequence of proposition  [ proptechinvb ] is the following proposition .",
    "[ propbadja ] let @xmath386 . then , @xmath399 if and only if there exists @xmath400 $ ] @xmath9-adjacent in @xmath287 such that @xmath401 .",
    "proposition  [ propbadja ] implies the direct implication ( @xmath402 ) of .",
    "note that a proof of the converse implication of , which is of fundamental importance for our purpose , will follow from the results of section  [ sectiontypebproof ] ( see corollary  [ corolequivinvweakb ] ) , and we will postpone till there .",
    "let us now introduce a way to visualize @xmath9-inversion sets .",
    "first , note that the @xmath9-inversion set of any element of @xmath1 is a subset of @xmath403 ^ 2\\ | \\",
    "|a|<b \\}$ ] .",
    "one can easily represent the set @xmath403 ^ 2\\ | \\",
    "|a|<b \\}$ ] considering the _ shifted diagram _",
    "@xmath404 of the partition @xmath405 , as depicted on figure  [ fig1 ] .",
    "the coordinates of each box can be read thanks to the circled integers .    from now on ,",
    "we identify @xmath406 with the set @xmath403 ^ 2\\ | \\",
    "|a|<b \\}$ ] .",
    "we now define a digraph structure @xmath28 on @xmath406 ( where the vertices are the boxes of the diagram ) , using the equivalent of hooks of ferrers diagrams in the shifted case , namely _ shifted hooks _ ( as depicted on the right of figure  [ fig1 ] ) .",
    "the shifted hook based on @xmath325 in @xmath406 is formally defined by @xmath407 following the methods of section  [ sectsym ] , we define a digraph structure @xmath28 on @xmath406 by saying that there is an arc from @xmath253 to @xmath255 in @xmath28 if and only if @xmath256 and @xmath255 is in the shifted hook based on @xmath253 .",
    "it appears that @xmath28 is acyclic and the out - degree of any box is an even number , so that the valuation @xmath408 is an ocv on @xmath28 .",
    "thus , @xmath409 is a valued digraph .",
    "let us summarize this construction in a definition .",
    "let @xmath26 be the digraph such that @xmath410 we denote by @xmath411 the valued digraph such that for any @xmath412 @xmath263    one can easily check that the poset @xmath413 is isomorphic to the weak order on @xmath376 when @xmath265 or 3 .",
    "this situation is in fact general , as stated in the following theorem .",
    "[ theotypb ] the posets @xmath376 and @xmath413 are isomorphic .",
    "the proof of this theorem follows the exact same pattern as the one of theorem  [ symcase ] .",
    "however , many technical difficulties appear in the @xmath1 case , so that we detail completely the proofs in the following section .      in this section",
    ", we will show that @xmath414 which will imply theorem  [ theotypb ] .",
    "we follow the same method as in section  [ sectionsymproof ] and we divide our proof into three steps . first ,",
    "for any @xmath378 we define a statistic @xmath415 on @xmath416 ( definition  [ defstatb ] ) .",
    "then by using the notion of adjacency ( see [ defadjab ] ) in @xmath1 we provide an alternative definition of @xmath415 ( lemma  [ lemalterdefstatb ] ) , leading to a combinatorial interpretation of the valuations appearing when one performs the peeling process on @xmath417 ( proposition  [ typebproptech ] ) . finally , we prove that @xmath418 by using this combinatorial interpretation ( corollary  [ corolprincb ] ) .",
    "moreover , as a consequence we will obtain the converse implication of ( corollary  [ corolequivinvweakb ] ) , so that @xmath413 and @xmath376 are isomorphic .",
    "+ we begin with the definition of the statistic @xmath415 .",
    "[ defstatb ] let @xmath378 and @xmath419 .",
    "we define the statistic @xmath420 as follows :    * if @xmath421 , then @xmath422 ; * if @xmath423 , then @xmath424 .",
    "the statistic @xmath415 admits the following characterization .",
    "[ lemalterdefstatb ] let @xmath378 , and @xmath419 , then we have @xmath425    let @xmath293 be a reduced decomposition of @xmath287 and denote by @xmath426 the signed permutation @xmath295 , @xmath296 .",
    "we will prove by induction on @xmath236 that the lemma is true for @xmath426 .",
    "the property is obviously true for @xmath357 .",
    "let @xmath299 be such that the property is true .",
    "for the sake of clarity , let us denote by @xmath300 the integer @xmath427 .",
    "since @xmath302 is reduced , we have @xmath303 , hence there exists a unique @xmath304 in @xmath428 .",
    "we now show how one can deduce the value of @xmath306 from both @xmath307 and @xmath304 .",
    "we split our study into three cases    * ( case @xmath308 with @xmath309 and @xmath429 ) @xmath430 is obtained from @xmath426 by swapping the positions of @xmath280 and @xmath108 and the positions of @xmath431 and @xmath394 .",
    "furthermore , @xmath280 and @xmath108 are adjacent in @xmath426 and @xmath432 , so that we have @xmath433.\\ ] ] we now distinguish two sub - cases . * * if @xmath421 , then the full window notation of @xmath287 has one of the three following forms : @xmath434 , \\\\ { \\rm or } \\ & [ \\ldots , \\ a \\ , \\ k \\ , \\ldots , \\ b \\ , \\ldots , \\ -k \\ , \\ -a \\ , \\ldots ] , \\\\ { \\rm or } \\ & [ \\ldots , \\ -k \\ , \\ -a \\ , \\ldots , \\ a \\ , \\ k \\ , \\ldots , \\ b \\ , \\ldots].\\end{aligned}\\ ] ] therefore , in all cases either both @xmath431 and @xmath394 are between @xmath280 and @xmath281 in @xmath426 , or both @xmath431 and @xmath394 are not between @xmath280 and @xmath281 .",
    "hence , it is again the case in @xmath430 , so we have @xmath315 .",
    "moreover , we also have @xmath435 * * if @xmath436 , then we have @xmath437,\\ ] ] so that both @xmath108 and @xmath431 lie between @xmath280 and @xmath394 in @xmath426 , and it is no longer the case in @xmath430 . hence ,",
    "by definition of @xmath438 , we have @xmath315 .",
    "furthermore , we also have @xmath435 * ( case @xmath316 or @xmath439 with @xmath309 ) using similar arguments as in the previous case , we show that @xmath315 ( notice that the case @xmath440 can not occur thanks to the condition @xmath388 ) and @xmath435 * otherwise , we have that both @xmath317 and @xmath318 either lie between @xmath280 and @xmath281 in @xmath426 , or do not lie between @xmath280 and @xmath281 ( and similarly for @xmath441 and @xmath442 ) . thus , it is still true in @xmath430 , so that @xmath319 and @xmath443    by induction hypothesis @xmath430 satisfy the property , so that the lemma is proved .",
    "we now give a combinatorial interpretation of @xmath321 for some @xmath444    [ typebproptech ] let @xmath322 , if there exists @xmath378 such that @xmath445 , then for all @xmath419 , we have @xmath446 .    note that @xmath447 .",
    "thus , by the definitions of the underlying digraph of @xmath417 using shifted hooks and of the peeling process , and thanks to lemma  [ lemalterdefstatb ] , the property follows .",
    "proposition  [ typebproptech ] allows us to link the poset @xmath413 and the weak order on @xmath1 , as it is shown in the next proposition .",
    "[ propbadjeras ] let @xmath444 .",
    "if there exists @xmath378 such that @xmath445 , then for all @xmath448 , we have that @xmath325 is erasable in @xmath449 if and only if @xmath280 and @xmath281 are adjacent in @xmath287 .",
    "let @xmath450 and assume that @xmath280 and @xmath281 are adjacent in @xmath287 .",
    "our aim is to prove that @xmath325 is erasable in @xmath449 .",
    "first , note that @xmath451 .",
    "let @xmath452 be such that there is an arc from @xmath326 to @xmath325 .",
    "we will prove that @xmath453 .",
    "equivalently , we will show that @xmath454 . by definition of the underlying digraph of @xmath417",
    ", we have only three cases which we now detail .    *",
    "( @xmath455 such that @xmath456 )",
    ". since @xmath280 and @xmath281 are adjacent in @xmath287 , we have that @xmath457 and @xmath339 are adjacent in @xmath287 .",
    "moreover , we have @xmath458 , so that @xmath457 is on the left of @xmath347 in the window notation of @xmath287 .",
    "it follows that we have @xmath459.\\ ] ] however , we have @xmath460 by hypothesis , hence @xmath461 . *",
    "( @xmath462 with @xmath463 ) .",
    "we have that @xmath134 and @xmath347 are adjacent in @xmath287 .",
    "moreover , we have @xmath464 , so that we have @xmath465.\\ ] ] nevertheless , we have @xmath463 by hypothesis , hence @xmath461 . * ( @xmath466 with @xmath467 ) .",
    "first , note that we have @xmath468 .",
    "moreover , we have @xmath469 , so that @xmath470 .",
    "we thus have @xmath471 .",
    "assume by contradiction that @xmath472 , then @xmath473 , hence we have @xmath474 consequently , there is an arc from @xmath325 to @xmath325 in the underlying graph of @xmath417 , and this is absurd .",
    "therefore , we have @xmath475 .",
    "+ let us now show that @xmath431 lies between @xmath457 and @xmath347 in @xmath287 . by hypothesis , we have @xmath476,\\ ] ] but @xmath287 is a signed permutation , so that we have @xmath477.\\ ] ] however , @xmath478 , hence we have @xmath479.\\ ] ] therefore , if @xmath480 , then we have @xmath461 . if @xmath473 , then we have @xmath481,\\ ] ] and we also have @xmath482 , so that @xmath461    in all cases , we have @xmath461 , but @xmath483 by proposition  [ typebproptech ] , hence @xmath484 .",
    "thus , we just proved that for all box @xmath485 , if there is an arc from @xmath253 to @xmath325 , then @xmath486 .",
    "consequently , @xmath325 is erasable in @xmath449 .",
    "let us now prove the converse .",
    "let @xmath450 be erasable in @xmath449 and assume by contradiction that @xmath280 and @xmath281 are not adjacent in @xmath287 .",
    "we divide the study into two cases .    *",
    "( case @xmath487 ) since @xmath393 and @xmath281 are not adjacent in @xmath287 , there exists @xmath108 lying between @xmath393 and @xmath281 in @xmath287 . by symmetry ,",
    "both @xmath108 and @xmath431 lie between @xmath393 and @xmath281 , thus we can suppose that @xmath488 . furthermore , @xmath489 , so that @xmath490 .",
    "let us consider @xmath336 minimal lying between @xmath280 and @xmath281 and let @xmath134 be an integer lying between @xmath393 and @xmath339 in @xmath287 ( if such a @xmath134 exists ) .",
    "then , we have @xmath491,\\ ] ] so that @xmath134 is between @xmath393 and @xmath281 in @xmath287 .",
    "moreover , we have the following facts : * * by minimality of @xmath339 , @xmath492 ; * * since @xmath489 , @xmath493 + consequently , @xmath494 , hence @xmath495 .",
    "however , there is an arc from @xmath496 to @xmath497 , and this is a contradiction since @xmath497 is erasable . *",
    "( case @xmath421 ) there exists @xmath108 lying between @xmath280 and @xmath281 such that either @xmath490 or @xmath498 . in the first case , similar arguments as in the previous case lead to a contradiction with the fact that @xmath325 is erasable . in the second case , we consider @xmath499 maximal lying between @xmath280 and @xmath281 .",
    "we have the following two sub - cases . * * if @xmath500 , then for each @xmath134 between @xmath339 and @xmath281 in @xmath287 , we have either @xmath501 by maximality , or @xmath502 because @xmath503 .",
    "thus , @xmath504 , so that @xmath505 .",
    "but there is an arc from @xmath506 to @xmath325 , hence it contradicts the fact that @xmath325 is erasable .",
    "* * if @xmath507 , then we will prove that @xmath508 .",
    "for that purpose , assume by contradiction that @xmath508 .",
    "thus , there exists @xmath134 between @xmath393 and @xmath509 in @xmath287 such that @xmath510 .",
    "then , we have @xmath511 . moreover , since @xmath287 is a signed permutation we have @xmath512,\\ ] ] but @xmath339 is between @xmath280 and @xmath281 in @xmath287 , hence we have @xmath513.\\ ] ] therefore , we have @xmath511 and by maximality of @xmath339 , we have @xmath514 . since @xmath339 is between @xmath280 and @xmath281 in @xmath287 ,",
    "thanks to [ equationintermedtypeb ] , we have @xmath515 . eventually , we have @xmath516 , and this is absurd since @xmath503 . consequently , we have @xmath508 , so that @xmath517 .",
    "but there is an arc from @xmath518 to @xmath325 , hence it contradicts the fact that @xmath325 is erasable .    finally , in all cases we obtain a contradiction .",
    "thus , @xmath280 and @xmath281 are adjacent in @xmath287 and this concludes the proof .    with proposition  [ propbadjeras ] , one can prove the following result using exactly the same method as in the proof of corollary  [ corolfinala ] .",
    "[ corolprincb ] @xmath519 .",
    "this result has the following important consequence ( which gives the converse direction of ) .",
    "[ corolequivinvweakb ] let @xmath520 , then @xmath285 if and only if @xmath521 .",
    "the direct direction is given by , and we now prove the converse .",
    "assume that @xmath522 , then there exist @xmath523\\in ps({\\mathcal{b}})$ ] and @xmath524 two integers such that @xmath525 and @xmath526 .",
    "then thanks to corollary  [ corolprincb ] and proposition  [ propbadja ] , there exist @xmath527 such that @xmath528 , and this ends the proof .",
    "consequently , thanks to corollary  [ corolprincb ] the posets @xmath413 and @xmath376 are isomorphic .",
    "this concludes the proof of theorem  [ theotypb ] .",
    "recall that @xmath2 is the coxeter group with generating set @xmath529 , and with coxeter matrix given by @xmath530 if @xmath531 ( where the indices are taken modulo @xmath34 ) , and @xmath532 otherwise .",
    "this group can be seen as the group of the _ affine permutations _ , that is , the group of all the bijections @xmath533 such that :    1 .   for all",
    "@xmath108 and @xmath134 in @xmath534 , @xmath535 ; 2 .   @xmath536 .",
    "thanks to this interpretation , we identify @xmath235 with the affine permutation swapping positions of the integers @xmath537 and @xmath538 , for all @xmath539 .",
    "we are going to follow the same method of the previous sections . in order to find a candidate of valued digraph ,",
    "we consider a notion of @xmath8-inversion set adapted to the case of @xmath229 ( see definition  [ defaffinv ] ) .",
    "after we checked that this notion is effectively related to the weak order on @xmath229 ( see property  [ eqinvaffineweak ] ) , we propose a graphical interpretation of @xmath8-inversion sets using _",
    "cylindrical diagrams_. once again , this representation carries a natural notion of hooks , called _ cylindrical hooks _ , which leads us to define a digraph structure on a cylindrical diagram as in sections  [ sectsym ] and [ sectb ] .",
    "then , we define a valued digraph using the resulting digraph , and we check that the obtained lattice is indeed isomorphic to @xmath540 .",
    "we point out that , as in section  [ sectb ] , the notion of @xmath8-inversion set we use here does not come from a root system of @xmath229 .",
    "this choice gives the same benefits ( a `` permutation point of view '' on the weak order ) and disadvantages ( we will have to relate @xmath8-inversion sets to the weak order by ourselves ) as in section  [ sectb ] .",
    "fortunately , once again most of technical points have already been studied in @xcite .",
    "we associate to each affine permutation @xmath5 an @xmath8-inversion set , define as follows : @xmath541\\times \\mathbb{n}^ * \\ |   \\ a < b , \\ { \\rm and } \\",
    "\\sigma^{-1}(a)>\\sigma^{-1}(b ) \\},\\ ] ]    ( see  ( * ? ? ?",
    "* eq . ( 8.30 ) ) ) .",
    "let @xmath542 , the @xmath8-inversion number of @xmath5 is the quantity @xmath543\\times \\mathbb{n}^*\\ |\\ a < b \\ { \\rm and } \\",
    "\\sigma(a)>\\sigma(b ) \\}|\\ ] ]    note that we clearly have @xmath544 for all @xmath542 .",
    "[ lembrentbjorntypeaffine ] let @xmath542 and @xmath545 $ ] , we have @xmath546    we now begin to prove that @xmath8-inversion sets can be used to study @xmath540 . that is , we will show that we have @xmath547    we start with defining the equivalent of the notion of adjacency in type @xmath8 .",
    "[ defaffinv ] let @xmath542 and @xmath548 \\times \\mathbb{n}^*$ ] .",
    "we say that @xmath280 and @xmath281 are _",
    "@xmath8-adjacent _ in @xmath5 if and only if @xmath244 and @xmath549 .",
    "we are now able to state the lemma which connects @xmath8-inversion sets to @xmath540 .",
    "[ lemaffadja - cover ] let @xmath542 and @xmath550 .",
    "then , there exists @xmath325 such that @xmath551 , @xmath244 and @xmath552 is obtained from @xmath5 by swapping positions of the integers @xmath553 and @xmath554 for all @xmath539 , and we have two possibilities :    * if @xmath280 and @xmath281 are adjacent in @xmath5 , then @xmath555 and @xmath556 ; * if @xmath280 and @xmath281 are not adjacent in @xmath5 , then @xmath557 and @xmath558 .",
    "this is an immediate translation of the results in lemma  [ lembrentbjorntypeaffine ] in terms of @xmath8-adjacency .",
    "an immediate consequence of lemma  [ lemaffadja - cover ] is that holds .    as in section  [ sectb ] , note that the converse implication holds , and it is also a by - product of the following results .",
    "we now introduce a convenient way to represent @xmath8-inversion sets .",
    "first , note that for all @xmath542 and for all @xmath559 such that @xmath551 and @xmath560 , since @xmath5 is an affine permutation we have @xmath561 .",
    "thus , each @xmath8-inversion is a subset of @xmath562 this set can be represented by a diagram , which we denote by @xmath563 , as depicted in figure  [ figaffinetype1 ] .",
    ", scaledwidth=65.0% ]    from now on , we identify @xmath563 with the set @xmath564 this diagram @xmath563 can be thought as an infinite version of the diagram associated with the symmetric group rolled around a cylinder . with this point of view , @xmath563 naturally carries a notion of hooks , which we call _ cylindrical hooks _ , as depicted on the right of figure  [ figaffinetype1 ] .",
    "more formally , for all @xmath565 , the cylindrical hook based on @xmath325 is the subset @xmath566 of @xmath563 defined by : @xmath567    consequently , we can define a digraph structure @xmath28 on @xmath563 using cylindrical hooks .",
    "that is , for all @xmath568 , there is an arc from @xmath253 to @xmath255 in @xmath28 if and only if @xmath569 and @xmath570 .",
    "notice that the out - degree of a box of @xmath563 is generally not an even number , so that we can not define the valuation as in the previous sections .",
    "nevertheless , after some tests it appears that the valuation @xmath49 defined for all @xmath571 by @xmath572 which is just the number of boxes which are below @xmath325 in the graphical representation of @xmath563 , seems to lead to the expected description of the weak order on @xmath229 . before moving to the proof that is",
    "is indeed the case , let us summarize this construction in a definition .",
    "let @xmath26 be the digraph defined by @xmath573 we denote by @xmath574 the valued digraph such that for all @xmath565 , @xmath575    our aim is now to prove that @xmath576 is isomorphic to @xmath540 .",
    "this can be done following exactly the same method as in section  [ sectiontypebproof ] , and we refer the reader to the introduction of section  [ sectiontypebproof ] for the detail of the different steps .",
    "we first define the statistic on the affine permutations , which will lead us to the combinatorial interpretation of the valuations appearing when one perform the peeling process on @xmath577 .",
    "let @xmath542 and @xmath578 .",
    "we set @xmath579    we then have the following alternative definition of the statistic @xmath271    [ lemtechaffin ] for all @xmath542 and @xmath580 , we have @xmath581    the proof is similar as the one of lemma  [ lemsymtech ] .    thanks to lemma  [ lemtechaffin ] , we have the following proposition .",
    "let @xmath582 , if there exists @xmath542 such that @xmath583 , then for all @xmath584 we have @xmath324 .    the proof is similar as the one of proposition  [ propsymcombinatint ] .",
    "we can now state and prove the main proposition of this section .",
    "let @xmath582 , if there exists @xmath542 such that @xmath583 , then @xmath325 is erasable in @xmath585 if and only if @xmath280 and @xmath281 are @xmath8-adjacent in @xmath5 .",
    "once again , the proof is similar to that of proposition  [ techsym ] .",
    "eventually , we have the following three corollaries that conclude this section .    @xmath586 .",
    "let @xmath587 .",
    "then , @xmath588 .",
    "[ theoaffine ] the two posets @xmath576 and @xmath540 are isomorphic .      in this section ,",
    "we consider an order on @xmath589 ( introduced by adin , brenti and roichman in @xcite ) , called the _",
    "flag weak order _ , that generalizes the weak order on the symmetric group . in order to define this new poset ,",
    "let us first introduce some notations and definitions .",
    "we denote by @xmath590 the ( additive ) cyclic group of order @xmath591 and by @xmath592 the group @xmath593 , \\ \\sigma \\in s_n   \\}\\ ] ] with the group operation given by @xmath594 where the sums @xmath595 are taken modulo @xmath591",
    ". this group is usually called the group of _ @xmath591-colored permutations _ , i.e. bijections @xmath596 of the set @xmath597 onto itself such that : @xmath598 note that the group @xmath592 can also be viewed as a _",
    "complex reflection group_. however , once again it is the  permutation point of view \" on @xmath592 which will allow us to apply our theory here .    before moving to the definition of the flag weak order",
    ", we introduce some useful notations taken from @xcite .",
    "[ defflagstat ] let @xmath599 be in @xmath592 , we define :    1 .",
    "@xmath600 ; 2 .",
    "@xmath601 ; 3 .",
    "@xmath602 ; 4 .",
    "@xmath603 , called the _ flag inversion number _ of @xmath604 .",
    "let us now present the philosophy behind the definition of the flag weak order , by first recalling the definition of the weak order on the symmetric group .",
    "the definition of @xmath269 can be decomposed into two distinct steps :    * first , we consider a specific set @xmath14 of generator of @xmath6 ( here the simple transpositions ) ; * then , we consider a statistic @xmath605 on @xmath6 ( here the length ) and we define the weak order to be the reflexive and transitive closure of the relation defined by : @xmath606 @xmath607    the flag weak order is defined by following a similar pattern :    * first , we define a special generating set of @xmath592 , denoted by @xmath608 ; * then , we define the flag weak order to be the reflexive and transitive closure of the relation defined by : @xmath609 @xmath610    as one can notice , the only difference with the definition of @xmath269 is that we swapped the length with the flag inversion number ( see definition  [ defflagstat ] ) .",
    "let us now formalize this construction in a definition .",
    "we denote by @xmath7 and @xmath9 the two subsets of @xmath592 defined by @xmath611 , \\",
    "a_i=((\\delta_{i1},\\ldots,\\delta_{ii},\\ldots,\\delta_{in}),s_i ) \\right\\ } , \\",
    "\\text{and } \\\\",
    "b&=\\left\\{b_i\\in g(r , n ) \\",
    "i \\in [ n ] , \\",
    "b_i=((\\delta_{i1},\\ldots,\\delta_{ii},\\ldots,\\delta_{in}),id ) \\right\\},\\end{aligned}\\ ] ] where @xmath235 is the @xmath236-th elementary transposition of the symmetric group and @xmath612 if @xmath613 , and 0 otherwise .",
    "the _ flag weak order _",
    "@xmath614 on @xmath592 is the reflexive and transitive closure of the relation @xmath615 defined by : @xmath616    the following lemma provide a complete description of covering relations in the flag weak order .",
    "[ caraccover ] let @xmath617 and @xmath618 .",
    "then , @xmath619 covers @xmath604 in the flag weak order if and only if one of the two following situations occur :    1 .",
    "there exists @xmath620 such that @xmath621 and @xmath622 ; 2 .",
    "there exists @xmath364 such that @xmath623 , @xmath624 and @xmath625 .",
    "we now have enough general informations about the flag weak order to propose a valued digraph which describes the flag weak order .",
    "the key point leading us to the construction of this valued digraph is that the elements of @xmath7 `` look like '' the simple transpositions of @xmath6 .",
    "that is , they act on @xmath591-coloured permutations as simple transpositions act on permutation , by swapping the positions of two adjacent entries .",
    "furthermore , one can note that the function @xmath626 is an injective poset morphism from @xmath269 to @xmath627 .",
    "thus , the flag weak order contains a sub - poset isomorphic to the weak order on @xmath6 .",
    "using this facts as hints and after some `` guess and try '' tests on the example of @xmath628 , the author found out a candidate of valued digraph , which is depicted on figure  [ figexflag ] .",
    ", scaledwidth=50.0% ]    once again , the digraph structure of this diagram is given implicitly , using a suitable notion of hook .",
    "a bit more formally , we say that for all boxes @xmath253 and @xmath255 in this diagram , there is an arc from @xmath253 to @xmath255 if and only if @xmath569 and @xmath255 is either in the same row and on the right of @xmath253 , or in the same column and below @xmath253 . with this definition , one can check that the resulting poset is indeed isomorphic to @xmath629 .",
    "let us now generalize and formalize this construction to the case of @xmath591 and @xmath34 arbitrary , by first defining the diagram .",
    "we set @xmath630 where @xmath631 ^ 2 \\ | \\ a <",
    "b \\right\\ } , \\\\   \\text{and } \\ v_{b , r , n}&:=\\left\\ { ( a , b ) \\in \\mathbb{z } \\times [ n ] \\ | \\",
    "-b(r-1 ) \\leq a \\leq -1 \\right\\}.\\end{aligned}\\ ] ]     with its coordinates , scaledwidth=52.0% ]    note that we have @xmath632 ( see section  [ sectsym ] ) , and we will sometimes use this notation . let us now define the notion of hook associated with the diagram @xmath633 , being suggested by its graphical representation ( see figure  [ figexflag2 ] ) .",
    "let @xmath634 , we denote by @xmath635 the subset of @xmath633 defined by :    * if @xmath636 then @xmath637 * if @xmath638 , then @xmath639    eventually , we can now define the valued digraph .",
    "let @xmath26 be the digraph defined by @xmath640 we denote by @xmath641 the valued digraph such that for all @xmath634 @xmath642    we represent on figure  [ figflag3 ] the valued digraph @xmath643 .",
    "as one can see , this is exactly the valued digraph depicted on figure  [ figexflag ] .",
    "our aim is now to show that @xmath644 and @xmath627 are isomorphic , by constructing an explicit poset isomorphism . for that purpose",
    ", we will split our study into two distinct steps : we will first construct a bijection between @xmath645 and @xmath592 ( see definition  [ defflagbij ] and proposition  [ flag1 ] ) , and then we will show that this bijection is in fact a poset isomorphism ( see theorem  [ flag2 ] ) .",
    "we begin with a lemma , which shows how we can associate a permutation with each element of @xmath645 .",
    "[ flagsym ] let @xmath646 , then @xmath647 is the inversion set of a permutation in @xmath0 .",
    "let us denote by @xmath122 the set @xmath647 and by @xmath648 the set of arcs of @xmath274 , where @xmath274 is the valued digraph associated to @xmath269 defined in section  [ sectsym ] . since @xmath649 , if @xmath650 , then @xmath122 is the inversion set of a permutation thanks to corollary  [ corolfinala ] .",
    "we still have to show that @xmath122 is in @xmath651 .",
    "first , notice that for all @xmath253 in @xmath652 , we have @xmath653 , where @xmath254 is the hook based on @xmath253 in @xmath250 defined in section  [ sectsym ] .",
    "thus , by definition of the underlying digraph of @xmath654 , for all @xmath655 we have @xmath656 consequently , for all @xmath262 , if @xmath657 , then by proposition  [ technic ] we have @xmath658 and the converse inequality holds when @xmath659 .",
    "thus , @xmath122 is in @xmath651 by proposition  [ technic ] , and this ends the proof .",
    "thanks to lemma  [ flagsym ] , one can associate to each element of @xmath645 a permutation in @xmath6 . what remains to understand",
    "is how to associate a color to each value of the permutation . for that purpose",
    ", we introduce a new notation .",
    "let @xmath660 and @xmath661 $ ] , we define the following two quantities @xmath662    [ flagcolor ] let @xmath660 and @xmath661 $ ] . then , we have @xmath663    by definition , for all @xmath664 and @xmath665 , we have @xmath666 .",
    "thus , we have for all @xmath664 @xmath667 let us consider the following set @xmath668 clearly , we have @xmath669",
    ". moreover , by definition we have for all @xmath670 that @xmath671 we thus have @xmath672 by proposition  [ technic ] .",
    "therefore , we have @xmath673 to prove the converse inequality , we consider the set @xmath674 for all @xmath675 , we have @xmath676 let us now fix @xmath677 in @xmath678 .",
    "we will show by backward induction on @xmath23 that @xmath679 . by definition , each arc having @xmath680 as starting point has an element of @xmath652 as ending point .",
    "moreover , such an arc has its ending point in row @xmath236 , so that we have @xmath681 thus , @xmath682 by proposition  [ technic ] , and one can finish the induction using similar arguments . consequently , @xmath683 is empty .",
    "however , we have @xmath684 , so that @xmath685 combining [ eqflagproof2 ] and [ eqproofflag1 ] , we have the expected result .",
    "thanks to lemma  [ flagcolor ] and lemma  [ flagsym ] , we are now able to associate a @xmath591-colored permutation to each element of @xmath645 .",
    "[ defflagbij ] let @xmath660 .",
    "we denote by @xmath686 the unique permutation such that @xmath687 , and we denote by @xmath688 the sequence defined by @xmath689 we denote by @xmath690 the map from @xmath645 to @xmath592 defined by @xmath691    in what follows , we will show that the function @xmath690 is a poset isomorphism between @xmath644 and @xmath627 .",
    "we first give a technical lemma , which is useful for both step of our proof .",
    "[ flagleft ] let @xmath660 and @xmath638 .",
    "then , @xmath692 @xmath693 @xmath694 on the representation of @xmath654 as a diagram , this means that if a box of @xmath695 is in @xmath696 , then all the boxes which are strictly on its left and in the same row are also in @xmath696 .",
    "let @xmath108 in @xmath534 be such that @xmath697 and assume that @xmath698",
    ". by proposition  [ technic ] , we have @xmath699 let us consider @xmath700 such that @xmath701 . by construction of the underlying digraph of @xmath654 , we have @xmath702 .",
    "moreover , @xmath703 is also in @xmath29 , so that @xmath704 finally , by definition of @xmath49 we have @xmath705 , hence we have @xmath706 thus , @xmath707 by proposition  [ technic ] , and this concludes the proof .    [ flag1 ]",
    "the function @xmath690 is a bijection .",
    "let us first prove that @xmath690 is injective .",
    "let @xmath708 such that @xmath709 .",
    "then @xmath710 , hence @xmath711 , so that @xmath712 . therefore",
    ", we have @xmath713 for all @xmath714 $ ] .",
    "let us now fix @xmath714 $ ] , by definition of @xmath715 we have @xmath716 so that @xmath717 .",
    "thus , the number of boxes that are in @xmath718 and in row @xmath719 equals the number of the boxes that are in @xmath720 and in row @xmath719 .",
    "however , thanks to lemma  [ flagleft ] , these boxes are left - justified in @xmath695 , hence we have @xmath721 thus , @xmath722 so @xmath723 , and this proves that @xmath690 is injective .",
    "we now prove that @xmath690 is surjective .",
    "let @xmath724 , we denote by @xmath725 the quantity defined by @xmath726 and we define the following sets : @xmath727 , \\",
    "u_i=\\{(x , i ) \\ | \\",
    "-i(r-1 ) \\leq x < -(i - r_i)(r-1)+c_{\\sigma^{-1}(i ) } \\}.\\ ] ] we will prove that @xmath728 is in @xmath645 . for that purpose ,",
    "let us consider @xmath729 and divide our study into four cases .    1 .",
    "( case @xmath730 ) . following a similar method as in the proof of lemma  [ flagsym ]",
    ", one can show that @xmath731 2 .",
    "( case @xmath732 ) . a similar argument",
    "as in case ( 1 ) shows that @xmath733 3 .",
    "( case @xmath734 ) .",
    "we set @xmath735 . by definition of @xmath736",
    ", we have @xmath737 but @xmath738 by definition of the digraph , hence we have @xmath739 4 .   ( case @xmath740 ) . a similar argument as in case ( 3 ) shows that @xmath741    consequently , @xmath660 thanks to proposition  [ technic ] , and by construction we have @xmath742 .",
    "thus , @xmath690 is surjective , and this conclude the proof .",
    "we now prove that @xmath690 is a morphism of posets .",
    "[ flag2 ] let @xmath743 , we have that @xmath696 covers @xmath744 in @xmath644 if and only if @xmath745 covers @xmath746 in the flag weak order .",
    "we set @xmath747    assume that @xmath696 covers @xmath744 in @xmath644 .",
    "since @xmath644 is graded , there exists @xmath748 such that @xmath749 we will prove that @xmath745 covers @xmath746 using lemma  [ caraccover ] .",
    "there are two cases .    *",
    "( case @xmath750 ) .",
    "we have that @xmath287 is obtained from @xmath5 by swapping positions of @xmath35 and @xmath23 . moreover , by definition of @xmath690 we have the following two facts : @xmath751 so that @xmath35 and @xmath23 are adjacent in @xmath5 .",
    "it remains to show that @xmath752 .",
    "for the sake of clarity , let us denote by @xmath236 the integer @xmath753 , and assume by contradiction that @xmath754 .",
    "since we have @xmath755 we thus have @xmath756 , and this contradicts lemma  [ flagcolor ] .",
    "therefore , we have @xmath757 , so that @xmath758 covers @xmath604 in @xmath592 by lemma  [ caraccover ] . *",
    "( case @xmath759 ) . as in the previous case ,",
    "let us denote by @xmath236 the integer @xmath753 , and assume by contradiction that @xmath760 . by definition , we have @xmath761 so that @xmath762 , which is absurd . thus , we have @xmath763 and it is clear that @xmath764 . consequently , @xmath758 covers @xmath604 by lemma  [ caraccover ] .",
    "we now prove the converse . if @xmath765 , then @xmath766 , so that @xmath744 is obtained from @xmath696 by adding just one box in the @xmath236-th line of @xmath695 by lemma  [ flagleft ] .",
    "thus @xmath744 covers @xmath696 . if @xmath767 , then a straightforward calculation using the definition of the function @xmath690 shows that @xmath768 , so that @xmath744 covers @xmath696 .",
    "this concludes the proof .    as an immediate consequence of propositions [ flag1 ] and [ flag2 ]",
    ", we have the following corollary , which concludes this section .",
    "the posets @xmath627 and @xmath644 are isomorphic .      in this section ,",
    "we consider @xmath11 a finite poset .",
    "let us denote by @xmath26 the digraph defined by @xmath769 it is clear that @xmath28 is a simple acyclic digraph , and we denote by @xmath770 the valued digraph such that for all @xmath771 , @xmath112 .",
    "[ proplinearextens ] the set @xmath772 equals the set of the linear extensions of @xmath10 .",
    "let us perform the peeling process on @xmath773 . by definition of @xmath49 ,",
    "a vertex @xmath771 is erasable in @xmath773 if and only if we have the following property : @xmath774 @xmath775 _ i.e. _ @xmath15 is a minimum of @xmath776 . let us denote by @xmath777 the valued digraph obtained after we peeled a minimum element @xmath15 of @xmath10 , and denote by @xmath778 the poset @xmath779 .",
    "clearly , we have @xmath780 therefore , applying the peeling process on @xmath773 is equivalent to performing on @xmath10 the process described in the introduction of section  [ secdef ] .",
    "it follows that each peeling sequence of @xmath773 is a linear extension of @xmath10 .",
    "the converse implication can be easily proved by induction on the cardinality of @xmath10 .",
    "we have the following immediate corollary .",
    "the poset @xmath781 is isomorphic to the down - set lattice of @xmath776 .",
    "note that one can obtain the up - set lattice of @xmath776 by the same method , considering the same digraph @xmath28 endowed with the valuation @xmath782 defined by @xmath783",
    "symmetric functions can be defined as the homogeneous formal power series @xmath784 in countable infinitely many variables being invariant under the action of the symmetric group .",
    "that is , for any monomial @xmath785 appearing in @xmath786 and for any simple transposition @xmath787 , the monomials @xmath122 and @xmath788 have the same coefficient , where @xmath788 denote the monomial obtained by permuting the variables @xmath789 and @xmath790 in @xmath122 .",
    "quasi - symmetric functions admits a similar definition .",
    "we say that @xmath784 is a _ quasi - symmetric function _ if and only if for any monomial @xmath785 appearing in @xmath786 and for any simple transposition @xmath791 such that not both @xmath789 and @xmath790 appear in @xmath122 , then @xmath122 and @xmath788 have the same coefficient in @xmath786 .",
    "in particular , symmetric functions are quasi - symmetric functions .    a useful basis of the space of quasi - symmetric functions ( of degree @xmath34 ) is given by the _ fundamental quasi - symmetric functions _ , introduced by gessel in @xcite ( see also @xcite  ( 7.81 ) ) .",
    "they are defined as follows : for any @xmath792 $ ] we set @xmath793 that we will generally denote @xmath794 when there is no ambiguity .",
    "the first occurrence of quasi - symmetric function goes back to the thesis work of stanley , via the notion of @xmath10-partition which generalizes the concept of classical partition of an integer .",
    "a @xmath10-partition is the couple of a finite poset @xmath10 ( with @xmath795 ) , together with a given bijection @xmath796 from @xmath10 to @xmath797 $ ] . for any linear extension",
    "@xmath798 $ ] of @xmath10 , let @xmath799 be the set of all the indices @xmath800 $ ] such that @xmath801 , called the _ descent set _ of @xmath71 .",
    "stanley associates in @xcite a formal power series with the @xmath10-partition @xmath802 as follows : @xmath803 where the sum is over all linear extensions of @xmath10 .",
    "note that this is a classical reformulation of the original definition , that we give in the following proposition .",
    "thanks to section  [ sectiondownset ] , we have that the notion of peeling sequence is a generalization of linear extension of a finite poset to a valued digraph .",
    "thus , it is natural to look for a generalization of to the case of valued digraphs .",
    "this is the point of this section .",
    "we begin with introducing a useful notation .",
    "let @xmath48 be a valued digraph .",
    "for all @xmath812 we denote by @xmath813 the set defined by @xmath814 \\",
    "\\left|   \\begin{aligned } & a=\\{z_1,\\ldots , z_{|a|}\\ } \\\\ & \\exists [ x_1,x_2,\\ldots]\\in ps({\\mathcal{g } } ) \\ \\text{such that } \\",
    "x_i = z_i \\ \\text{for all } \\",
    "i\\leq |a| \\end{aligned } \\right .",
    "\\right\\}.\\ ] ]    a straightforward way to generalize the series @xmath815 would be to consider a bijection @xmath816 from the vertices of @xmath72 to @xmath817 , and directly adapt to this new context .",
    "however , in the sequel we will need a slightly more general definition , which is inspired by the _ column - strictness conditions _ introduced in @xcite and @xcite .",
    "a set of _ generalized columns _ of @xmath72 is a family @xmath818 of subsets of @xmath27 .",
    "let @xmath84 , @xmath819 be a set of generalized columns and @xmath804 be a function from @xmath7 to @xmath820 .",
    "we say that @xmath804 is a _ @xmath821-semi - standard function _ if and only if there exists @xmath798\\in ps_a({\\mathcal{g}})$ ] such that :      such a peeling sequence is called a _ @xmath804-compatible peeling sequence _ of @xmath7 .",
    "we denote by @xmath823 the set of all the @xmath821-semi - standard functions ( when there is no ambiguity , we will simply denote it by @xmath824 ) .",
    "finally , we define the formal power series @xmath825      let @xmath827 , @xmath828 and @xmath829 such that @xmath830 and @xmath831 .",
    "let @xmath798 $ ] be a @xmath804-compatible peeling sequence of @xmath7 and denote by @xmath832 the function from @xmath7 to @xmath805 defined by @xmath833 we will prove that @xmath71 is a @xmath832-compatible sequence . since @xmath829 ,",
    "then @xmath832 is weakly increasing along @xmath834 $ ] .",
    "assume by contradiction that there exists @xmath835 such that @xmath836 and @xmath837 .",
    "then , we have @xmath838 and this contradicts the fact that @xmath71 is @xmath804-compatible . therefore , @xmath71 is @xmath832-compatible , hence @xmath832 is an @xmath821-semi - standard function , and this is enough to prove that @xmath826 is quasi - symmetric .",
    "this concludes the proof .",
    "let @xmath776 be a finite poset , @xmath802 be a @xmath10-partition and @xmath773 be the valued digraph defined in section  [ sectiondownset ] .",
    "we set @xmath840 and @xmath841 a set of generalized columns of @xmath773 . then @xmath842    as suggested before , we could have defined @xmath839 associating a descent set to each element of @xmath843 in the obvious way and then summing all the associated fundamental quasi - symmetric functions .",
    "however , it seems not to be any particular reason to expect these two definitions to coincide in general .",
    "it should be interesting to investigate if there exists some valued digraphs with a choice of generalized columns for which this equality occurs .",
    "let @xmath72 be a valued digraph , @xmath819 be a set of generalized columns of @xmath72 and @xmath7 be an element of @xmath77 .",
    "then , the coefficient of @xmath844 in @xmath839 is equal to the number of maximal chain from @xmath76 to @xmath7 in @xmath78 .        in this section ,",
    "we consider the valued digraph @xmath259 associated with the weak order on @xmath0 ( see section  [ sectsym ] ) .",
    "since @xmath274 can be seen as the ferrers diagram of the partition @xmath250 , we have a natural choice for a set of generalized columns , given by the columns of @xmath274 .",
    "surprisingly , the series which arise from this choice of generalized columns are the well - known stanley symmetric functions of type @xmath7 ( see @xcite ) .",
    "let us first recall the definition of stanley symmetric functions .      in @xcite ,",
    "the authors give a characterization of such function indexed by a permutation @xmath239 , in terms of sums over a set of tableaux called _ balanced labellings _ of the _ rothe diagram _ of @xmath5 .",
    "we will prove that the series arising from our description are exactly the stanley symmetric functions .",
    "we follow the same method as them .",
    "note that another method consists in constructing an explicit bijection between these balanced labellings and the elements of @xmath849 , but we will not detail this here .",
    "there exists @xmath108 such that @xmath864 , hence @xmath280 and @xmath281 are adjacent in @xmath865 and @xmath361 is obtained from @xmath865 by swapping the positions of @xmath280 and @xmath281 .",
    "let us assume that the position of @xmath280 and @xmath281 in @xmath361 is preserved in @xmath5 , that is we have @xmath866 \\ \\ \\ \\text{and } \\ \\ \\ \\sigma=[\\sigma(1),\\ldots , b , a,\\ldots,\\sigma(n)].\\ ] ] in that case , the permutation @xmath287 obtained from @xmath5 by swapping the positions of @xmath281 and @xmath280 satisfy @xmath858 , which is exactly the expected result .",
    "we still have to prove that is true . for that purpose",
    ", we will show that @xmath867 and @xmath868 for all @xmath869 , implying that the positions of @xmath280 an @xmath281 stay the same in @xmath870 .",
    "assume by contradiction that there exists @xmath869 such that @xmath871 .",
    "then , we have @xmath872 because @xmath804 is weakly increasing along @xmath71 . but @xmath873 and @xmath325 are in the same column of @xmath250 , and this is absurd by definition of @xmath874 .",
    "similarly , assume by contradiction that there exists @xmath869 such that @xmath875 .",
    "then , for all @xmath876 we have @xmath877 ( otherwise @xmath878 and @xmath879 would be both in the column @xmath880 , but it is impossible since @xmath804 takes the value @xmath881 on both of them ) , hence we have @xmath882.\\ ] ] thus , we have @xmath883 , and this contradicts the minimality of @xmath855 .            clearly , if such a bijection exists , then is true .",
    "we split our proof into two step : first , we will define a function satisfying all the required conditions ; then , we will prove that it is bijection , constructing its reverse function .",
    "* let @xmath853 be the leading cell of @xmath804 ; * let @xmath857 be such that @xmath894 and set @xmath895 and @xmath896 the two integers such that @xmath897 and @xmath898 ; * repeat this procedure swapping @xmath5 with @xmath287 and @xmath804 with @xmath899 , and so on .",
    "let us now check that this pair of sequences satisfies conditions ( 1 ) , ( 2 ) and ( 3 ) . clearly , we have @xmath900 , and thanks to lemma  [ techstansym ] @xmath901 is in @xmath848 . we still have to prove that @xmath902 whenever @xmath889 .",
    "we will prove the contrapositive : let @xmath719 be such that @xmath903 , and denote by @xmath280 and @xmath281 the two integers such that @xmath904 , \\\\ s_{i_1}\\cdots s_{i_{j}}&=[\\ldots , b , a,\\ldots].\\end{aligned}\\ ] ] our aim is now to prove that @xmath905 is strictly smaller than @xmath906 .",
    "assume by contradiction that @xmath907 , and consider the three following cases .",
    "* if @xmath908 , then @xmath901 is not reduced , which is absurd .",
    "* if @xmath909 , then there exists @xmath457 such that we have @xmath910 , \\\\",
    "s_{i_1}\\cdots s_{i_{j+1}}&=[\\ldots , b , c , a,\\ldots].\\end{aligned}\\ ] ] however , @xmath325 and @xmath911 are in the same column of @xmath250 , and by hypothesis we have @xmath912 , and this contradicts the fact that @xmath851 . * if @xmath913 , then there exists two integers @xmath457 and @xmath347 such that @xmath914 , \\\\ s_{i_1}\\cdots s_{i_{j+1}}&=[\\ldots , b , a,\\ldots , d , c,\\ldots].\\end{aligned}\\ ] ] and this contradicts the fact that @xmath326 is a leading - cell ( of @xmath915 , see the iterative definition of the sequences above ) . indeed , we have @xmath916 and @xmath917 , which contradicts the minimality of @xmath918 .      * step 2 : construction of the reverse function .",
    "* let @xmath920 and @xmath921 be a sequence of integers such that @xmath902 whenever @xmath889 .",
    "it is easy to associate a function @xmath922 to this pair of sequences : let @xmath923_{1 \\leq i \\leq \\ell(\\sigma ) } \\in ps_{{{\\rm inv}}(\\sigma)}({\\mathcal{a}})$ ] be the sequence such that for all @xmath719 , @xmath924 , \\\\ s_{i_1}\\cdots s_{i_{j+1}}&=[\\ldots , b_j , a_j,\\ldots].\\end{aligned}\\ ] ] then , we define @xmath922 by @xmath925 for all @xmath719 .",
    "let us first show that @xmath891 .",
    "in order to do so , let us consider @xmath926 such that @xmath927 .",
    "we will prove that @xmath928 , implying that @xmath804 is in @xmath929 .",
    "consider the sequence @xmath930 , and assume by contradiction that this sequence is decreasing .",
    "then , for all @xmath931 we have either @xmath932 , \\\\ \\text{and } \\",
    "s_{i_1}\\cdots s_{i_{q+1}}&=[\\ldots , a_j , c,\\ldots],\\end{aligned}\\ ] ] or we have @xmath933 , \\\\ \\text{and } \\",
    "s_{i_1}\\cdots s_{i_{q+1}}&=[\\ldots , d , c,\\ldots , a_{j},\\ldots].\\end{aligned}\\ ] ] in other words , we obtain @xmath934 from @xmath935 either by swapping positions of @xmath936 with an integer just on its left , or by swapping positions of two integers being on the left of @xmath936 . therefore , we @xmath937 , which is absurd .",
    "thus , there exists @xmath938 such that @xmath939 , but @xmath901 is reduced , so that @xmath940 .",
    "consequently , we have @xmath941 by definition so @xmath928 .",
    "in order to complete the proof , we just have to show that this function is the inverse of @xmath690 , and this can be easily done recursively : assume by contradiction that @xmath942 is not the leading cell of @xmath804",
    ". then , there exists @xmath943 such that @xmath944 and @xmath945 .",
    "therefore , we have @xmath946,\\ ] ] so that there is an integer @xmath134 such that @xmath947 and @xmath948 , so that we have @xmath949 and this is absurd . repeating this argument",
    ", we have the expected property by induction , and this ends the proof .",
    "this construction leads to a combinatorial interpretation of @xmath950 as a sum over a set of tableaux ( which are depicted on figure  [ figpostertab ] ) : let us consider a permutation @xmath239 and denote by @xmath7 its inversion set @xmath951 seen as as subset of boxes of @xmath250 .",
    "clearly , @xmath7 inherits the digraph structure and the valuation of @xmath274 .",
    "moreover , @xmath7 defines a valued digraph because @xmath322 ( in a sense , @xmath7 define a `` sub - valued digraph of @xmath274 '' ) , so that we can perform the peeling process on it .",
    "obviously , the arising sequences are precisely the elements of @xmath952 , and we can represent each element of @xmath952 as a tableau of shape @xmath7 .",
    "that is , let @xmath953\\in ps_a({\\mathcal{a}})$ ] , then @xmath71 can be represented as a tableau of shape @xmath7 where the box @xmath954 is filled by the integer @xmath236 .",
    "these tableaux can be seen as the equivalent counterpart of standard tableaux within our theory .",
    "similarly , we can define a family of `` semi - standard '' tableaux by the following way : let @xmath953\\in ps_a({\\mathcal{a}})$ ] , we construct a tableau of shape @xmath7 by putting an integer @xmath955 in the box @xmath954 , satisfying the following two conditions :    1 .",
    "the sequence @xmath956 is weakly increasing along @xmath71 ; 2 .",
    "a given integer can not appear twice in the same column ( equivalently , if @xmath957 and @xmath954 and @xmath186 are in the same column , then @xmath958 ) .",
    "clearly , these tableaux are in bijection with the elements of @xmath824 . therefore , if we denote by @xmath959 the monomial @xmath960 where @xmath961 is the number of occurrences of @xmath236 in a tableau @xmath962 obtained by the previous method , then the stanley symmetric function @xmath950 is the sum over all the tableaux of these monomials @xmath959 .          in this section",
    "we apply the same method used in the previous section to the valued digraph @xmath574 , associated with the weak order on @xmath2 ( see section  [ sectaffinea ] ) . once again",
    ", the graphical representation of @xmath28 as a diagram leads to a natural choice for a set of generalized columns , given by the usual columns of @xmath28 .",
    "as in the @xmath0 case , the series arising from this choice of generalized columns is known , namely the affine stanley symmetric function , introduced by lam in @xcite . note that a combinatorial interpretation in terms of tableaux of this series has already been provided by yun and yoo in @xcite , and the one arising from our model is very similar .",
    "therefore , the proofs are similar .          an affine permutation @xmath542 is called cyclically decreasing if there exists a cyclically decreasing sequence @xmath965 such that @xmath886 is a reduced decomposition of @xmath5 ( note that @xmath357 is cyclically decreasing by convention ) . for any @xmath969 ,",
    "a _ cyclically decreasing factorization _ of @xmath287 is an expression of @xmath287 as a product @xmath970 such that :        let @xmath975 , @xmath976 , @xmath923 \\in ps_{{{\\rm inv}}(\\omega)}(\\widetilde{a})$ ] be a @xmath804-compatible peeling sequence and @xmath977 be the reduced decomposition of @xmath287 associated with @xmath71 .",
    "we define the following factorization of @xmath287 : @xmath978 where @xmath979 is defined as follows : for all @xmath719 ,          it remains to show that @xmath979 is cyclically decreasing for all @xmath108 .",
    "if @xmath981 , then it is clear . let @xmath108 be such that @xmath988 , hence there exists @xmath524 such that @xmath989 . if @xmath990 , @xmath979 is obviously cyclically decreasing .",
    "we now focus on the case @xmath835 .",
    "assume by contradiction that there exists @xmath991 such that @xmath992 .",
    "without loss of generality , we can suppose that @xmath993 is minimal with this property . as usual",
    ", we will denote by @xmath994 the affine permutation @xmath995 .",
    "we have that @xmath996 is obtained from @xmath994 by swapping the positions of all the pair of integers @xmath997 and @xmath998 , @xmath999 . for the sake of clarity , we will just say that the positions of @xmath1000 and @xmath1001 are swapped .",
    "let us now split the study into two cases .    *",
    "if for all @xmath1002 we have @xmath1003 , then the position of @xmath1004 remains unchanged in each @xmath1005 .",
    "thus , by minimality of @xmath993 , @xmath1006 , which is absurd since @xmath1007 and @xmath1008 are in the same column and @xmath1009 . *",
    "if there exists @xmath1010 such that @xmath1011 , then there exists an integer @xmath368 such that we have @xmath1012 \\ \\ \\text{and } \\ \\",
    "\\omega_{j+1}=[\\ldots , a_u , m,\\ldots].\\ ] ] since we have @xmath1013 $ ] , there exists @xmath1014 such that @xmath1015 \\ \\ \\text{and } \\ \\",
    "\\omega_{j'+1}=[\\ldots , b_u , m,\\ldots].\\ ] ] therefore , we have @xmath1016 which is absurd since @xmath1017 and @xmath1018 are in the same column .",
    "thanks to proposition  [ techstanaff ] , we have a map which associate to each @xmath1020 a cyclically decreasing factorization @xmath1021 .",
    "moreover , we clearly have that @xmath1022 consequently , we just have to show that this function is a bijection to prove the theorem .",
    "let us construct the reverse function : let @xmath1021 be a cyclically decreasing factorization of @xmath287 . consider any cyclically decreasing reduced decomposition of @xmath1023 and concatenate them to get a reduced decomposition of @xmath287 , _",
    "i.e. _ @xmath1024 . let @xmath923_i \\in ps_{{{\\rm inv}}(\\omega)}(\\widetilde{a})$ ] be the peeling sequences canonically associated with this reduced decomposition , and we define a function @xmath804 from @xmath1025 to @xmath805 by the following way : @xmath1026 clearly this function @xmath804 does not depends on the cyclically decreasing reduced decomposition chosen for each @xmath1023 , but depends only on the cyclically decreasing factorization of @xmath287 .",
    "let us prove that @xmath804 is in @xmath1027 as usual , we denote @xmath1028 .",
    "set @xmath108 such that @xmath1029 , @xmath1030 , and @xmath1031 .",
    "now assume that there exists @xmath1032 such that @xmath1033 with @xmath1034 . without loss of generality",
    ", we can suppose that @xmath1035 is maximal with this property , and that @xmath993 is minimal with this property . once again , there are two cases .    *",
    "if for all @xmath1036 , @xmath1037 , then the position of @xmath1004 remains unchanged in @xmath1038 .",
    "hence by minimality of @xmath993 we have @xmath1039 , which is absurd since @xmath979 is cyclically decreasing .",
    "* if there exists @xmath1036 such that @xmath1011 , then there exists @xmath1040 such that @xmath1041 since @xmath1042 is just on the left of @xmath1004 in @xmath1043 .",
    "hence we found @xmath1044 such that there exists @xmath1045 with @xmath1046 , which is absurd by maximality of @xmath1035 .",
    "ira m. gessel , _ multipartite p - partitions and inner products of skew schur functions_. in combinatorics and algebra ( boulder , colo . , 1983 ) ,",
    "volume 34 of contemp .",
    ", p 289 - 301 .",
    "soc . , providence , ri , 1984            r. stanley , _ enumerative combinatorics .",
    "vol . 1 _ , volume 62 of _ cambridge studies in advanced mathematics_. cambridge university press , cambridge , 1999 .",
    "with a foreword by gian - carlo rota and appendix 1 by sergey fomin ."
  ],
  "abstract_text": [
    "<S> we construct a poset from a simple acyclic digraph together with a valuation on its vertices , and we compute the values of its mbius function . </S>",
    "<S> we show that the weak order on coxeter groups @xmath0 , @xmath1 , @xmath2 , and the flag weak order on the wreath product @xmath3 introduced by adin , brenti and roichman , are special instances of our construction . </S>",
    "<S> we conclude by associating a quasi - symmetric function to each element of these posets . in the @xmath0 and @xmath2 cases , </S>",
    "<S> this function coincides respectively with the classical stanley symmetric function , and with lam s affine generalization . </S>"
  ]
}