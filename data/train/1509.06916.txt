{
  "article_text": [
    "the mobile ad hoc network ( manet ) represents a kind of self - organizing network architecture , which consists of mobile nodes communicating with each other without centralized infrastructure and management @xcite .",
    "since manet can be deployed and reconfigured rapidly at very low cost , it serves as an appealing candidate for many critical applications , such as disaster relief , battlefield communication and emergency rescue @xcite . to support the design and applications of manets , the studies on their fundamental performance",
    "have been extensively reported . despite much research activity",
    ", however , the lack of a general capacity theory for manets is still a long standing open problem and becomes an obstacle on the development and commercialization of such networks @xcite .",
    "since the pioneer work of gupta and kumar @xcite , extensive scaling law ( i.e. order sense ) results on the capacity of ad hoc networks have been reported in literature , which mainly focus on the study of asymptotic per node throughput behavior as the number of network nodes increases . the results in @xcite indicate that for a static ad hoc network , its per node throughput diminishes to zero as the number of network nodes tends to infinity .",
    "later , grossglauser and tse demonstrated in @xcite that with the help of node mobility , a @xmath0 constant per node throughput is achievable in a manet . inspired by the seminar work of @xcite , lots of studies",
    "have been devoted to the analysis on the scaling laws of manets throughput under various mobility models @xcite , and under various network scenarios @xcite . for a survey on the scaling law results of manets throughput , readers are referred to @xcite and references therein .",
    "although scaling laws are helpful to grasp the general trend of manet performance , they provide a little insight into its real achievable throughput . in practice , however , a thorough understanding on the real achievable throughput of manets is of great concern for network engineers , since it serves as an instruction guideline for network design and optimization .    by now , some initial and helpful results are available on the exact throughput capacity study of manets , i.e. to derive the exact expressions for the throughput capacity of such networks . for the regular manhattan and ring networks ,",
    "mergen and tong @xcite derived their throughput capacity in closed - form .",
    "et al_. @xcite explored the exact capacity of cell - partitioned manets , and revealed a fundamental tradeoff between the throughput capacity and packet delay in such networks . following this line ,",
    "et al_. @xcite extended the tradeoff results in @xcite to a multicast scenario .",
    "et al_. @xcite considered a more general network scenario with a general setting of transmission range and derived its capacity under the group - based scheduling .",
    "et al_. further explored the exact throughput capacity of manets with packet redundancy @xcite and power control @xcite .",
    "recently , chen _",
    "et al_. studied the exact throughput capacity of manets with directional antennas @xcite and explored the efficient approximations for the exact throughput capacity of manets with aloha protocol @xcite .",
    "it is notable , however , that one common limitation of all these studies is that to make their analysis tractable , they all assume the relay buffer of a node , which is used for temporarily storing packets of other nodes , has an infinite buffer size",
    ". this assumption does not hold for a practical manet , where the buffer size of a mobile node is usually limited due to both its storage space limitation and computing capability limitation .",
    "thus , for the practical capacity study of manets , the constraint on buffer size should be carefully addressed . notice that the throughput capacity modeling with practical limited - buffer constraint still remains a technical challenge .",
    "this is mainly due to the lack of a general theoretical framework to efficiently characterize the highly complicated buffer occupancy behaviors in such networks .    as a step to address above limitations ,",
    "this paper studies the exact throughput capacity for a class of manets , where each node is associated with a shared and limited relay buffer to temporarily store the packets of other nodes @xcite and the flexible two - hop relay routing scheme is adopted for packet forwarding .",
    "the two - hop reply serves as an important routing protocol for practical manets @xcite , since it is simple and can be implemented easily in a distributed fashion . also , the two - hop reply is efficient in the sense that it has the capability of achieving the throughput capacity under many important manet scenarios @xcite . for this class of buffer - limited manets , as a thorough extension of our previous work @xcite ,",
    "this paper develops a general theoretical framework to enable the analytical study on their exact throughput capacity to be conducted .",
    "the main contributions are summarized as follows :    * for one buffer - limited manet concerned in this paper , we first provide theoretical analysis to reveal the inherent relationship between its throughput capacity and its relay buffer blocking probability ( rbp ) .",
    "* for the analysis of rbp , a novel theoretical framework based on the embedded markov chain theory is then developed to capture the complicated queuing process in a relay buffer . with the help of the framework and also the queueing theory ,",
    "the rbp under any exogenous input rate and the closed - form expression for exact throughput capacity are then derived .",
    "* case studies are further provided under two typical transmission scheduling schemes to illustrate how our theoretical framework can be applied for exact throughput capacity analysis under one given transmission scheduling scheme .",
    "the corresponding capacity optimization issue and scaling law performance are also explored . * finally , extensive simulation and numerical results",
    "are provided to demonstrate the efficiency of our theoretical framework on capturing the throughput behavior of a buffer - limited manet and to illustrate the impacts brought by the buffer constraint .",
    "the remainder of this paper is outlined as follows .",
    "section  [ section : preliminaries ] introduces the system models , routing scheme and definitions involved in this study .",
    "we present the overall framework for throughput capacity analysis in section  [ section : throughput_capacity ] , and then develop an embedded markov chain - based framework in section  [ section : markov ] for the evaluation of rbp and exact throughput capacity .",
    "section  [ section : case_study ] deals with the case studies , capacity optimization issue and scaling law results , and section  [ section : simulation ] provides the simulation and numerical results .",
    "finally , we provide the related work in section  [ section : related_work ] and conclude this paper in section  [ section : conclusion ] .",
    "this section presents the system models , buffer constraint , routing scheme and basic definitions involved in this study .",
    "table  [ table : notations ] summarizes the main notations .    to symbol & quantity @xmath1 & number of nodes @xmath2 &",
    "the network is partitioned into @xmath3 cells @xmath4 & relay buffer size @xmath5 & exogenous packet arrival rate @xmath6 & relay - buffer blocking probability @xmath7 & throughput capacity @xmath8 & the probability that a node selects to execute s - r transmission when it gets access to the wireless channel and can not execute the s - d transmission    [ table : notations ]      as illustrated in fig .",
    "[ fig : system_models ] that we consider a time - slotted and cell - partitioned network with @xmath1 mobile nodes and @xmath3 non - overlapping equal cells , where the nodes roam from cell to cell over the network according to the independent and identically distributed ( i.i.d ) mobility model @xcite , and during a time slot the total amount of data that can be transmitted from a node to another is fixed and normalized to one packet . with the i.i.d mobility model",
    ", each node independently selects a cell among all cells with equal probability at the beginning of each time slot and then stays in it during this time slot , so the location of each node is i.i.d and uniformly distributed over all cells in each time slot , and between time slots the distributions of nodes locations are independent .",
    "we adopt the i.i.d .",
    "mobility model here mainly due to the following reasons .",
    "first , the mathematical tractability of this model allows us to gain important insights into the structure of throughput capacity analysis .",
    "second , as illustrated in @xcite and to be demonstrated in section  [ subsection : simulation_results ] , the throughput capacity result derived under this model can be applied to other typical mobility models like the random walk model .",
    "third , the analysis under this model provides a meaningful theoretical performance result in the limit of infinite mobility @xcite .",
    "notice that the mobility model determines the distributions of nodes locations and thus the opportunity that nodes encounter with each other , so it will affect the throughput capacity that can be achieved , as to be shown in section  [ section : markov ] and section  [ section : case_study ] .",
    "we consider the permutation traffic model widely used in previous literature @xcite , where @xmath1 distinct unicast traffic flows exist in the network , each node is the source of one flow and meanwhile the destination of another flow .",
    "we assume that the exogenous ( self - generated ) packet arrival at each node follows the i.i.d bernoulli process with mean rate @xmath5 packets / slot .          as illustrated in fig .",
    "[ fig : system_models ] that we consider a practical node model similar to that of previous studies on buffer - limited wireless networks @xcite , where each node maintains two independent queues , one local queue with unlimited buffer size for storing the exogenous packets of its own flow and one shared relay queue with fixed size @xmath4 for storing the relay packets coming from all other @xmath9 traffic flows .",
    "the local queue follows the fifo ( first - in - first - out ) discipline .",
    "the relay queue follows the quasi - fifo ( q - fifo ) discipline , i.e. , the packets destined to the same node in the relay queue follow the fifo discipline .",
    "we adopt this node model here mainly due to the following reasons .",
    "first , in a practical network , each node usually reserves a much larger buffer space for storing its exogenous packets rather than the relay packets .",
    "second , even though the local buffer space is not enough when bursty traffic comes , the upper layer ( like transport layer ) can execute congestion control to avoid the loss of local packets .",
    "third , as illustrated in fig .",
    "[ fig : system_models ] that the local queue serves as an ingress for exogenous packets entering a manet , so it is actually an external module of the manet and its buffer size does not affect the maximal achievable throughput the manet can support .",
    "finally , the relay queue serves as an important internal module of a manet for storing and forwarding relay packets , so its buffer size has a critical impact on the network throughput performance .",
    "routing scheme.,width=316 ]    to support the efficient operation of buffer - limited manets , we extend the two hop relay ( 2hr ) algorithm @xcite and consider a more flexible two hop relay scheme with parameter @xmath8 ( 2hr-@xmath8 for short ) , which incorporates both a control parameter @xmath8 for transmission control and a handshaking mechanism for avoiding unnecessary packet loss .    regarding the 2hr scheme , for a tagged flow @xmath10 with source node @xmath11 and destination node @xmath12 ,",
    "when @xmath11 gets access to the wireless channel in a time slot , it will transmit a packet directly to @xmath12 ( s - d transmission ) if @xmath12 is within its transmission range ; otherwise with probability @xmath13 , @xmath11 selects to transmit a self - generated packet to a relay node ( s - r transmission ) , or deliver a packet of other nodes to the corresponding destination ( r - d transmission ) .",
    "notice that under the buffer - limited scenario , when node @xmath11 executes the s - r transmission while the relay queue of the receiver is full , then the transmission will not be successful and the transmitted packet will be lost .",
    "to facilitate the operation of buffer - limited manets and improve the throughput performance , we adopt here the 2hr-@xmath8 scheme , which is an extension of the 2hr scheme in the following two aspects .",
    "first , as illustrated in fig .",
    "[ fig : routing_scheme ] that we introduce a parameter @xmath8 to flexibly control the probability that @xmath11 selects to conduct s - r transmission , i.e. , when @xmath11 gets access to the wireless channel and node @xmath12 is not within its transmission range , @xmath11 selects to transmit a self - generated packet to a relay with probability @xmath8 , and deliver a packet of other nodes to the corresponding destination with probability @xmath14 .",
    "thus , @xmath8 represents the level of selfishness of a node , from @xmath15 ( fully selfless ) to @xmath16 ( fully selfish ) , and it is expected that @xmath8 should be set appropriately according to the network settings to achieve the optimal throughput performance .",
    "second , to avoid the unnecessary packet loss in s - r transmission , the 2hr-@xmath8 scheme further adopts a handshake mechanism to confirm the relay - buffer occupancy state of a receiver , where the s - r transmission will be conducted only when the relay queue of the intended receiver is not full .",
    "* relay - buffer blocking probability ( rbp ) * : for a buffer - limited manet with the 2hr-@xmath8 scheme and a given exogenous packet arrival rate @xmath5 to each node , the _ relay - buffer blocking probability _",
    "@xmath6 of a node is defined as the probability that the relay queue of this node is full .",
    "* throughput * : the _ throughput _ of a flow is defined as the time average of number of packets that can be delivered from its source to its destination .    * throughput capacity and optimal throughput capacity * : for a buffer - limited manet with the 2hr-@xmath8 scheme , its _ throughput capacity _",
    "@xmath7 is defined as the maximal achievable per - flow throughput the network can support , independent of the arrival rate .",
    "the _ optimal throughput capacity _",
    "@xmath17 is defined as the maximum value of throughput capacity @xmath7 optimized over the control parameter @xmath8 , i.e. , @xmath18}t_c$ ] .",
    "for a buffer - limited manet with the 2hr-@xmath8 scheme , we denote by @xmath19 , @xmath20 and @xmath21 the probabilities that in a time slot a node gets access to the wireless channel and selects to execute s - d , s - r and r - d transmission respectively . with the help of these basic probabilities",
    ", we can establish the following theorem regarding the throughput capacity of the network .",
    "[ theorem : throughput_capacity ] for a buffer - limited manet with the 2hr-@xmath8 scheme , its throughput capacity @xmath7 is determined as @xmath22 where @xmath23 is the unique solution of the following equation @xmath24    to prove the theorem , we first demonstrate that there exists an unique solution @xmath23 for the equation  ( [ eq : lambda_equal_mu ] ) , and then show that the throughput is @xmath5 when packet arrival rate @xmath25 , but the throughput is always @xmath23 when @xmath26 .    from our system models , it is clear that each flow experiences the same service process without priority , so the queuing process of each flow is identical and we can focus on a tagged flow in our analysis . under the 2hr-@xmath8 routing scheme , the delivering process of a packet from its source to destination involves at most two stages .",
    "the first stage is the queuing process at its source node , while the second stage is the queuing process at one relay node if the packet is not directly delivered to its destination .",
    "concerning the first stage queuing process , the local queue there can be modeled as a bernoulli / bernoulli queue with arrival rate @xmath5 and service rate @xmath27 determined as @xmath28    we can easily see that : 1 ) when @xmath29 , we have @xmath30 , so @xmath31 ; 2 ) as @xmath5 increases , @xmath6 tends to increase , leading to a decrease in @xmath27 ; 3 ) when @xmath32 , we have @xmath33 , @xmath34 . based on these properties of service rate @xmath27 , we know that there exists an unique @xmath35 such that @xmath36 .    considering a time interval",
    "@xmath37 $ ] , we denote by @xmath38 and @xmath39 the number of packets being buffered in all local queues and all relay queues at time slot @xmath40 , respectively . since the total number of exogenous arrival packets during this interval is @xmath41 , then the throughput @xmath42 is determined as @xmath43    since the relay - buffer of each node has a fixed size @xmath4 , then @xmath44 and @xmath45 .    for the case @xmath25 ,",
    "we denote by @xmath46 the queue length of the local queue , then the expectation @xmath47 of @xmath46 is given by @xcite @xmath48 since when @xmath25 , we have @xmath49 , so the queue length @xmath47 is bounded in this case . thus , @xmath50 and @xmath51 .    when @xmath26 , then @xmath34 , leading to an increasing number of packets buffered in the local queues . by applying the law of large numbers",
    ", we have that as @xmath52 @xmath53 based on ( [ eq : throughput ] ) , we then have @xmath54 when @xmath26 .",
    "thus , the throughput capacity @xmath7 of the concerned network is determined as @xmath55    notice that for the heterogeneous network scenario , the network level capacity region is defined by a vector @xmath56 , where @xmath57 denotes the maximum packet arrival rate of node @xmath58 that the network can stably support .",
    "for the homogeneous network scenario considered in this paper , the behavior of each node is the same , so we have @xmath59 .",
    "thus , the network level capacity here reduces to the per node capacity as expressed in ( [ eq : general_throughput_capacity ] ) .",
    "the result in theorem  [ theorem : throughput_capacity ] indicates that for the throughput capacity analysis of the concerned manet , we need to determine rbp @xmath6 in such network . to address this issue ,",
    "in this section we first utilize a two - dimensional markov chain ( mc ) to depict the complicated state transitions of a relay queue , then convert the two - dimensional mc into a new embedded markov chain ( emc ) to obtain its one - step transition probability , such that a complete theoretical framework is developed to enable the rbp and thus the exact throughput capacity of the concerned manet to be derived .      without loss of generality , we focus on the relay queue of a general node and use a two - tuple @xmath60 to denote the state that the relay queue contains @xmath58 packets and these packets",
    "are destined for @xmath61 distinct destination nodes , here @xmath62 , @xmath63 when @xmath64 and @xmath65 when @xmath66 . as illustrated in fig .",
    "[ fig : transition_cases ] that when the relay queue is in state @xmath60 at current time slot , only one of the following transitions may happen in the next time slot :    * case 1 : transition from @xmath60 to @xmath67 , i.e. , a packet enters the relay queue and this packet is destined for a destination same as one of packet(s ) already in the queue .",
    "* case 2 : transition from @xmath60 to @xmath68 , i.e. , a packet enters the relay queue and the destination of this packet is different from all packet(s ) in the queue . *",
    "case 3 : transition from @xmath60 to @xmath69 , i.e. , a packet from the relay queue is delivered to its destination , but there still exist other packet(s ) in the relay queue destined for this destination .",
    "* case 4 : transition from @xmath60 to @xmath70 , i.e. , a packet from the relay queue is delivered to its destination , and none of the remaining packet(s ) in the relay queue is destined for this destination . *",
    "case 5 : transition from @xmath60 to @xmath60 , i.e. , no packet entering into or departing from the relay queue .    based on above transitions , the state machine of the relay queue",
    "can then be modeled as a discrete - time finite - state markov chain illustrated in fig .",
    "[ fig : state_machine ] , where @xmath71 denotes the set of states @xmath72 .",
    "it is easy to see that the total number of states of the markov chain in fig .",
    "[ fig : state_machine ] is @xmath73 , so the markov chain will become too complicated to be solved when @xmath4 is big .",
    "notice also that for the analysis of rbp @xmath6 , the limiting distribution on each set @xmath71 rather than the limiting distribution on each state @xmath60 is of concern . for these reasons ,",
    "we apply the novel `` markov chain collapsing '' @xcite technique to convert the markov chain in fig .",
    "[ fig : state_machine ] into a new emc illustrated in fig .",
    "[ fig : embedded_markov ] , where @xmath71 denotes the state that the relay queue contains @xmath58 packets and @xmath74 denotes the one - step transition probability from @xmath71 to @xmath75 .    with the help of the emc model in fig .",
    "[ fig : embedded_markov ] and also the markov chain model in fig .",
    "[ fig : state_machine ] , we can establish the following lemmas regarding the evaluation of @xmath74 and also the limiting distribution of the emc .",
    "[ lemma : transition ] the one - step transition probability @xmath74 of the emc in fig .",
    "[ fig : embedded_markov ] is determined as @xmath76 where @xmath77 .",
    "see [ appendix : transition ] for the proof .",
    "[ lemma : limit_distribution ] the limiting distribution @xmath78 of the emc exists and is unique , and it is given by @xmath79 where @xmath80 and @xmath81 .",
    "see [ appendix : limit_distribution ] for the proof .      based on above emc - based framework",
    ", we now provide analysis on the rbp @xmath6 and the exact throughput capacity @xmath7 , as summarized in following theorem .",
    "[ theorem : t_c ] ( * main result * ) for a concerned manet with @xmath1 mobile nodes , where each node is allocated with a relay - buffer of fixed size @xmath4 and the 2hr-@xmath8 scheme is adopted for packet delivery , its rbp is determined by the following equation @xmath82 and its throughput capacity @xmath7 is determined as @xmath83    notice that when the emc is on state @xmath84 , the relay queue is full .",
    "it indicates that rbp @xmath6 is just equal to the limiting distribution @xmath85 , so ( [ eq : blocking_pro ] ) follows . since @xmath86 , equation  ( [ eq : blocking_pro ] ) contains only one unknown quantity @xmath6 . by solving equation  ( [ eq : blocking_pro ] ) , we",
    "can then obtain the rbp @xmath6 under any exogenous packet arrival rate @xmath5 .    from theorem  [ theorem : throughput_capacity ]",
    "we know that as @xmath5 approaches @xmath23 , @xmath87 tends to @xmath16 .",
    "substituting @xmath88 into ( [ eq : blocking_pro ] ) , we have @xmath89 the formula ( [ eq : throughput_capacity ] ) then follows by substituting ( [ eq : pb_tc ] ) into ( [ eq : general_throughput_capacity ] ) .    [ remark : applicable ] it is notable that our emc - based framework for throughput capacity analysis is very general in the sense that it can be applied to other network models ( like the continuous network model @xcite ) and other mobility models ( like the random walk mobility model ) , as long as they lead to the same steady distributions of the nodes locations as the i.i.d mobility model .",
    "based on theorem  [ theorem : t_c ] , we have the following corollaries ( see [ appendix : corollaries ] for the proofs ) .",
    "[ corollary : b_grow ] for a network with @xmath90 , its throughput capacity @xmath7 increases as relay - buffer size @xmath4 grows .",
    "[ corollary : tc_alpha_0.5 ] with the setting of @xmath91 , i.e. , each node executes s - r and r - d transmission with equal probability , @xmath7 is determined as @xmath92    [ corollary : tc_infinity ] when the relay - buffer size @xmath4 tends to infinity , the throughput capacity @xmath7 is determined as    @xmath93",
    "the results in theorem  [ theorem : t_c ] indicate for the evaluation of throughput capacity of a manet concerned in this paper , we need to determine the probabilities @xmath19 and @xmath20 in the network , which are further related to the schemes adopted for transmission scheduling . to demonstrate the applicability of our embedded markov chain - based framework for throughput capacity analysis , this section provides case studies under two typical transmission scheduling schemes , i.e. , local transmission scheduling ( lts ) and group - based transmission scheduling ( gts ) .",
    "the related issues of capacity optimization and scaling law performance will be also explored .",
    "we first provide analysis of throughput capacity under the lts scheme @xcite , where two nodes within the same cell can forward one packet during a time slot , and nodes within different cells can not communicate .",
    "same as @xcite , the node / cell density @xmath94 is assumed to be @xmath95 ( independent of @xmath1 ) and without loss of generality , @xmath1 is assumed to be even and source - destination pairs are composed as : @xmath96 .",
    "we denote by @xmath97 and @xmath98 the probabilities that there are at least two nodes in a cell and there is at least one source - destination pair in a cell , respectively .",
    "based on the results of @xcite , we then have @xmath99    at a time slot , the total transmission opportunity in the network is @xmath100 , which is shared equally by all nodes , so we have    @xmath101    similarly , @xmath102 combining with @xmath103 , we have @xmath104    substituting ( [ eq : p_sd ] ) and ( [ eq : p_sr ] ) into ( [ eq : throughput_capacity ] ) , we can see that the throughput capacity under the lts scheme is determined as @xmath105    from corollary  [ corollary : tc_infinity ] we can see that when @xmath91 and @xmath106 , then ( [ eq : tc_lts ] ) is reduced to the capacity result in @xcite , i.e. , @xmath107 .    regarding the optimal throughput capacity @xmath17 and the corresponding optimal setting of @xmath108 under the lts scheme , we have the following theorem .    [ theorem : optimization ] for a concerned manet with the 2hr-@xmath8 scheme and a fixed relay - buffer size @xmath4 , its optimal throughput capacity @xmath17 under the lts scheme is determined as @xmath109 and the corresponding optimal transmission ratio @xmath108 is given by @xmath110 , where @xmath111 @xmath112 is the derivative of @xmath113 , and @xmath114 is determined by the following equation @xmath115=(1+\\gamma^*)\\mathrm{c}_b h'(\\gamma^ * ) .",
    "\\label{eq : gamma^*}\\ ] ]    we define @xmath116 ( i.e. , @xmath117 , @xmath118 ) , and @xmath119 . from ( [ eq : tc_lts ] ) we can see that the optimal throughput capacity @xmath17 is determined as @xmath120}t_c \\nonumber \\\\ & = \\frac{1}{d}p_1+\\frac{1}{d}(p_0-p_1 ) \\cdot \\mathop { \\max } \\limits_{\\alpha \\in [ 0,1 ] } \\left \\ { \\alpha \\left ( 1-\\frac{\\mathrm{c}_b \\cdot \\beta^b}{\\sum_{i=0}^b { \\mathrm{c}_i \\cdot \\beta^i}}\\right ) \\right \\ } \\nonumber \\\\ & = \\frac{1}{d}p_1+\\frac{p_0-p_1}{d } \\frac{1}{\\mathop { \\min } \\limits_{\\gamma \\geq 0}g(\\gamma)}. \\label{eq : optimization}\\end{aligned}\\ ] ]    we can see that : 1 ) @xmath121 is an elementary function @xcite , so it is continuous and differentiable on the interval @xmath122 ; 2 ) @xmath123 , @xmath124 and @xmath125 . according to the extreme value theorem @xcite , there must exists @xmath126 such that @xmath127 for @xmath128 and @xmath129 , so equation  ( [ eq : gamma^ * ] ) follows",
    ". then formula ( [ eq : tc^ * ] ) follows by substituting @xmath130 into ( [ eq : optimization ] ) .",
    "based on theorem  [ theorem : optimization ] we have the following corollary .    [",
    "corollary : optimal_alpha ] for any setting of @xmath1 and @xmath4 , @xmath131 ; when @xmath106 , @xmath132 and @xmath133 .",
    "see [ appendix : optimal_alpha ] for the proof .    with the help of exact expression of throughput capacity ( [ eq : tc_lts ] ) , the achievable scaling law under the lts scheme can be further explored , as shown in the following corollary .",
    "[ corollary : scaling_law ] when the number of nodes in the concerned manet tends to infinity , each node can achieve a throughput @xmath134 as @xmath135    see [ appendix : scaling_law ] for the proof .",
    "[ remark : scaling_law ] notice that corollary  [ corollary : scaling_law ] is the first time to reveal an achievable order sense ( in @xmath136 form ) on per node throughput of a buffer - limited manet , not just an upper bound ( in @xmath137 form ) provided in @xcite , and it indicates that as @xmath1 increases , the concerned manet can still achieve a non - vanishing throughput as long as its relay - buffer size @xmath4 grows at least linearly with @xmath1 .",
    "we further conduct analysis on throughput capacity under the gts scheme @xcite . with gts scheme ,",
    "all cells are divided into different groups , where any two cells in the same group have a horizontal and vertical distance of some multiple of @xmath138 cells .",
    "thus , the manet has @xmath139 groups and each group contains @xmath140 cells . each group becomes active every @xmath139 time slots and a node in an active cell can transmit one packet to another node within a horizontal and vertical distance of @xmath141 cells . based on the protocol model @xcite , to ensure that concurrent transmissions are not interfering with each other , @xmath138 is determined as @xcite @xmath142    considering a given time slot and a given active cell @xmath143 , we denote by @xmath144 the probability that there are at least one node within @xmath143 and another node within the transmission range of @xmath143 , and denote by @xmath145 the probability that there are at least one source - destination pair within the transmission range of @xmath143 and for each of such pair(s ) , at least one of its two nodes is within @xmath143 .",
    "based on the results of @xcite , we have @xmath146 , \\label{eq : p3_gts } \\\\ & p_4=\\frac{1}{m^{2n}}[m^{2n}-(m^4 - 2l+1)^{n/2 } ] , \\label{eq : p4_gts}\\end{aligned}\\ ] ] where @xmath147 .",
    "notice also that @xmath148 , @xmath149 and @xmath150 . by substituting these results into ( [ eq : throughput_capacity ] ) , the throughput capacity under the gts scheme",
    "is then determined as @xmath151    we can see that when @xmath91 and @xmath106 , then ( [ eq : tc_gts ] ) is reduced to the capacity result in @xcite , i.e. , @xmath152 . based on the proofs similar to that of theorem  [ theorem : optimization ] and corollary [ corollary : scaling_law ] , we have the following corollary regarding the optimal throughput capacity @xmath17 and scaling law under the gts scheme .    for a concerned manet",
    ", its optimal throughput capacity @xmath17 under the gts scheme is determined as @xmath153 and the corresponding optimal transmission ratio @xmath108 is given by @xmath110 , where @xmath113 and @xmath130 are determined by ( [ eq : h(gamma ) ] ) and ( [ eq : gamma^ * ] ) , respectively .",
    "the order of throughput capacity @xmath134 under the gts scheme is determined as @xmath154",
    "in this section , we first provide the simulation results to validate our theoretical framework for the throughput capacity analysis of buffer - limited manets , and then apply our theoretical results to illustrate the performance of such networks .      for the validation of our framework",
    ", a c++ simulator was developed to simulate the packet delivery process in the concerned manets under both lts and gts schemes @xcite .",
    "in addition to the i.i.d mobility model , the random walk model was also implemented in the simulator . under the random walk model , at the beginning of each time slot , every node independently selects a cell among its current cell and its @xmath155 adjacent cells with equal probability @xmath156 , then stays in it until the end of this time slot @xcite .",
    "two network scenarios of ( @xmath157 ) and ( @xmath158 ) are considered in the simulation , where we set @xmath159 and @xmath160 for the gts scheme @xcite . to simulate the throughput",
    ", we focus on a specific node and count its received packets over a period of @xmath161 time slots , and then calculate the averaged number of packets this node can receive per time slot .",
    "the system load @xmath162 is defined as @xmath163 , and @xmath7 is given by ( [ eq : tc_lts ] ) and ( [ eq : tc_gts ] ) for the lts and gts , respectively .      to validate the throughput capacity results ( [ eq : tc_lts ] ) and ( [ eq : tc_gts ] )",
    ", we provide plots of throughput versus system load @xmath162 in fig .",
    "[ fig : throughput_simulation ] .",
    "it can be observed from fig .",
    "[ fig : throughput_simulation ] that the simulation results agree well with the theoretical ones under both lts and gts schemes , indicating that our framework is highly efficient in capturing the throughput behaviors of concerned buffer - limited manets .",
    "we can see from fig .",
    "[ fig : throughput_simulation ] that just as theorem  [ theorem : throughput_capacity ] predicates that for a concerned manets , its throughput increases linearly with @xmath162 when @xmath164 and then keeps as a constant @xmath7 determined by ( [ eq : general_throughput_capacity ] ) when @xmath165 . a further observation of fig .",
    "[ fig : throughput_simulation ] indicates that for a network under the random walk mobility model , its throughput performance is very similar to that under the i.i.d mobility model .",
    "this is expected since according to remark  [ remark : applicable ] and @xcite , nodes in the network with i.i.d mobility model and random walk model have the same steady distribution , leading to the same throughput capacity performance under these two mobility models .",
    "vs. relay - buffer size @xmath4.,width=288 ]     vs. number of nodes @xmath1.,width=288 ]    with the help of our theoretical results , we illustrate here the impacts of network parameters on the throughput capacity .",
    "notice that for a concerned manet its overall throughput behavior under the lts is very similar to that under the gts , so we consider the lts scheme here only for illustration .",
    "we first summarize in fig .",
    "[ fig : tc_vs_b ] how throughput capacity @xmath7 varies with relay - buffer size @xmath4 under two network scenarios of @xmath166 and @xmath167 , where @xmath8 is fixed as @xmath13 .",
    "we can see from fig .",
    "[ fig : tc_vs_b ] that just as discussed in corollary  [ corollary : b_grow ] , the throughput capacity of a buffer - limited manet can be improved by adopting a larger relay - buffer in such network . a careful observation of fig .",
    "[ fig : tc_vs_b ] shows that as @xmath4 increases the capacity @xmath7 first increases quickly and then gradually converges to a constant determined by corollary  [ corollary : tc_infinity ] .",
    "this observation indicates we can determine a suitable buffer size @xmath4 according to the requirement on network capacity such that a graceful trade - off between capacity performance and buffer cost can be achieved .    to further illustrate the impact of buffer constraint on the throughput capacity ,",
    "we show in fig .",
    "[ fig : tc_vs_n ] the relationship between @xmath7 and @xmath1 under three typical relay - buffer settings , i.e. , @xmath4 is fixed as a constant ( @xmath168 here ) , @xmath169 and @xmath106 .",
    "we can see from fig .",
    "[ fig : tc_vs_n ] that in general @xmath7 decreases as @xmath1 increases , but as @xmath170 , @xmath7 vanishes to @xmath15 when @xmath4 is fixed , while a non - zero constant throughput capacity can still be achieved when @xmath169 or @xmath106 .",
    "these behaviors are expected , since the result in corollary  [ corollary : scaling_law ] indicates that to achieve a non - vanishing throughput capacity in the concerned manet , its relay - buffer size @xmath4 should grow at least linearly with @xmath1 .     vs. transmission ratio @xmath8.,width=288 ]      to illustrate the optimal throughput capacity , we show in fig .",
    "[ fig : tc_vs_alpha ] the impact of transmission ratio @xmath8 on throughput capacity @xmath7 under the settings of @xmath171 , @xmath172 and @xmath173 .",
    "we can see from fig .",
    "[ fig : tc_vs_alpha ] that under a given setting of @xmath4 , as @xmath8 increases @xmath7 first increases and then decreases , and just as discussed in theorem  [ theorem : optimization ] that there exists an optimal @xmath108 to achieve the optimal throughput capacity @xmath17 .",
    "this is mainly due to the reason that the effects of @xmath8 on @xmath7 are two folds . on one hand",
    ", a larger @xmath8 will lead to a higher probability of conducting s - r transmission ; on the other hand , a larger @xmath8 will result in a higher rbp thus a lower opportunity of conducting the s - r transmission . as a summary , in order to improve the throughput performance of a buffer - limited manet , nodes should cooperate with each other , and they should be neither too selfish nor too selfless .    based on the results of theorem  [ theorem : optimization ] , we illustrate in fig .",
    "[ fig : optimal_ratio ] how the optimal transmission ratio @xmath108 is related to @xmath4 and @xmath1 .",
    "we can see that just as proved in corollary  [ corollary : optimal_alpha ] that @xmath108 increases as @xmath4 grows while it decreases as @xmath1 grows , and the optimal transmission ratio never exceeds @xmath13 .",
    "these behaviors indicate that in a network with the fixed number of nodes @xmath1 , if we upgrade the capacity of each node by adopting a larger relay - buffer , we should accordingly allocate a higher probability for s - r transmission ( i.e. , nodes should be more selfish ) , to achieve the optimal throughput capacity . on the other hand , when the relay - buffer size of each node is fixed , if we increase the scale of the network by accommodating more nodes , we should accordingly increase the probability of r - d transmission ( i.e. , nodes should be more selfless ) , to release the relay - buffer space and thus guarantee the optimal throughput capacity there .",
    "a significant amount of work has been devoted to the performance analysis of wireless ad hoc networks , among which some initial studies focused on the buffer - limited network scenarios .    herdtner and",
    "chong @xcite explored the throughput - storage tradeoff in manets and showed that the per node capacity under the finite buffer constraint can not achieve @xmath0 even though node mobility is utilized .",
    "later , eun and wang @xcite considered tcp / aqm system and developed a doubly - stochastic analytical model to study the tradeoff among link utilization , packet loss , and buffer size .",
    "@xcite developed a theoretical framework for throughput analysis in delay tolerant networks ( dtns ) .",
    "they derived closed - form expressions for the per node throughput capacity of a sparse network which consists of one source - destination pair and several mobile relay nodes with limited buffer size , and further extended their results to the multi - cast network scenarios @xcite .",
    "@xcite studied the node buffer occupancy behaviors in static random wireless networks with intermittent connectivity and provided some scaling results of fundamental achievable lower bound for the occupied buffer size .",
    "@xcite focused on the buffer management policies in dtns .",
    "they demonstrated that drop - tail and drop - front policies are sub - optimal and meanwhile proposed an optimal buffer management policy based on global knowledge about the network . following this line , elwhishi _ et al . _",
    "@xcite developed a new message scheduling framework for epidemic @xcite and spray - wait @xcite forwarding routings in dtns with finite buffer to optimize either the message delivery ratio or message delivery delay .",
    "in this paper , we first revealed the inherent relationship between the throughput capacity and relay - buffer blocking probability in a buffer - limited manet with the 2hr-@xmath8 scheme , and then developed an embedded markov chain - based framework to fully characterize the complicated packet delivery processes of the concerned manet . based on this framework , we derived the throughput capacity in closed form and further conduct cases studies under two typical transmission scheduling schemes to illustrate the impacts of some key network parameters on throughput capacity .",
    "it is expected the theoretical framework developed in this paper will be also helpful for exploring the throughput capacity of buffer - limited manets under other mobility models and other transmission schemes .",
    "the results in this paper indicate that in large scale manets a non - zero constant throughput capacity can still be guaranteed as long as its relay - buffer size grows at least linearly with network size .",
    "another interesting finding of this paper is that for throughput capacity optimization in such manets , the optimal setting of transmission ratio in the 2hr-@xmath8 scheme there increases with the relay - buffer size but decreases with the network size , and it never exceeds @xmath13 .",
    "notice that the theoretical framework and closed - form results for per node throughput capacity developed in this paper is based on the i.i.d mobility model , so one of our future research directions is to develop theoretical models for other more realistic mobility models , like the inter - meeting time based mobility model .",
    "notice that each local queue is a bernoulli / bernoulli queue with exogenous packet arrival rate @xmath5 , so the output process of the local queue is also a bernoulli flow with rate @xmath5 due to the reversible property of bernoulli / bernoulli queue @xcite .",
    "based on the property of the i.i.d mobility model we know that for a specific node , except itself and its destination , each of the remaining @xmath9 nodes will equal likely to serve as its relay .",
    "similarly , for each node serving as a relay , except itself and its source , all the remaining @xmath9 nodes will equal likely to forward packets to it . from ( [ eq : mu_s ] ) we know that the ratio of s - r transmission to the service rate @xmath27 is @xmath174 .",
    "hence , the packet arrival rate at a relay queue @xmath175 is determined as    @xmath176    we denote by @xmath177 the transition probability from state @xmath60 to set @xmath178 , @xmath179 . since",
    "when a relay queue is full , its packet arrival rate will be @xmath15 .",
    "thus , we have @xmath180    notice that the transition probability @xmath74 of the emc is the `` set - averaged '' transition probability of the original markov chain @xcite , then we have    @xmath181    where @xmath182 is the conditional probability that relay queue is in state @xmath60 given that it belongs to the set @xmath71 . substituting ( [ eq : lambda_r ] ) into ( [ eq : trans ] ) we have @xmath183    a node gets a r - d transmission opportunity with probability @xmath21 , and due to the i.i.d mobility model , this opportunity arises for each of the @xmath9 destination nodes with equal probability .",
    "thus , we have @xmath184 based on ( [ eq : trans ] ) , it is clear that in order to obtain @xmath185 , we should derive the conditional probability @xmath186 . to address this issue",
    ", we utilize the _ occupancy _ approach ( chapter 1 in @xcite ) .",
    "when the relay queue has @xmath58 packets being buffered , where each packet may be destined for any one of the @xmath9 destination nodes , the number of all possible cases @xmath187 is given by    @xmath188    suppose that these @xmath58 packets are destined for @xmath61 distinct destination nodes , the number of cases @xmath189 is given by @xmath190 due to the i.i.d mobility model , each of these cases occurs with equal probability . according to the _ classical probability _",
    ", @xmath186 is then determined as    @xmath191    it can be easily verified that @xmath192 . substituting ( [ eq : conditional_pro ] ) into ( [ eq : trans ] ) we have    @xmath193",
    "based on the lemma  [ lemma : transition ] , the one - step transition probability matrix @xmath194 of the emc is given by @xmath195 .",
    "\\label{eq : transition_matrix}\\ ] ]    from the transition matrix ( [ eq : transition_matrix ] ) and the state machine in fig .",
    "[ fig : embedded_markov ] , we can see that : 1 ) the emc is _ irreducible _ ; 2 ) each state @xmath71 is _ recurrent _ , @xmath62 ; 3 ) the period of each state @xmath71 is @xmath16 , so each state is _ aperiodic_. based on these properties , we know that the emc is ergodic , so its limiting distribution exists and is unique , which is just the stationary distribution of the emc @xcite",
    ". thus , we have    @xmath196    combining ( [ eq : balance_equation ] ) with the normalization equation @xmath197 , the results ( [ eq : pi_0 ] ) and ( [ eq : pi_i ] ) then follow .",
    "* proof of corollary  [ corollary : b_grow ] : * let @xmath198 , then    @xmath199    since @xmath200 and @xmath201 then @xmath202 substituting the result into @xmath203 , the corollary  [ corollary : b_grow ] then follows .",
    "* proof of corollary  [ corollary : tc_alpha_0.5 ] : * when @xmath91 , then @xmath204 , and ( [ eq : throughput_capacity ] ) is simplified as    @xmath205    since @xmath206   \\nonumber \\\\ & = \\frac{1}{(n-3 ) ! } \\cdot \\frac{(n-2+b)\\times \\cdots \\times ( b+1)}{n-2 } \\nonumber \\\\ & = \\binom{n-2+b}{b } , \\label{eq : sum_simple}\\end{aligned}\\ ] ] substituting ( [ eq : sum_simple ] ) into ( [ eq : tc_1 ] ) , the corollary  [ corollary : tc_alpha_0.5 ] then follows .    * proof of corollary  [ corollary : tc_infinity ] : * for the case @xmath91 , since @xmath207 , substituting it into ( [ eq : tc_alpha_0.5 ] ) we have @xmath208    for the case @xmath209 , we have @xmath210 and @xmath211   \\nonumber \\\\ & = \\frac{1}{(n-3 ) ! } \\cdot \\left(\\beta^{n-3}+\\beta^{n-2}+\\cdots+\\beta^{n-3+b } \\right)^{(n-3 ) }   \\nonumber \\\\ & = \\frac{1}{(n-3 ) ! } \\cdot \\left ( \\sum_{i=0}^{n-3+b } \\beta^i \\right)^{(n-3 ) } \\nonumber \\\\ & = \\frac{1}{(n-3 ) ! } \\left(\\frac{1-\\beta^{n-2+b}}{1-\\beta } \\right ) ^{(n-3 ) } , \\label{eq : sum_beta}\\end{aligned}\\ ] ] where @xmath212 denotes the @xmath61-th order derivative of @xmath213 .",
    "since @xmath214 we have @xmath215 and then @xmath216 since @xmath217 substituting it into ( [ eq : throughput_capacity ] ) we have @xmath218    for the case @xmath219 , we have @xmath220 and @xmath221 since @xmath222 then @xmath223 substituting it into ( [ eq : throughput_capacity ] ) we have @xmath224",
    "considering @xmath225 $ ] , the first order derivative of @xmath121 is    @xmath226-(1+\\gamma)\\mathrm{c}_b h'(\\gamma ) } _ { ( a ) }   \\}. \\nonumber\\end{aligned}\\ ] ]    for @xmath227 , when @xmath228 , @xmath229 is determined as @xmath230 when @xmath231 , we assume that @xmath232 where @xmath233 and @xmath234 are the abbreviations of @xmath113 and @xmath112 under @xmath231 , respectively . when @xmath235 , we have @xmath236 \\nonumber \\\\ & -(1+\\gamma)\\cdot \\mathrm{c}_{k+1}\\cdot [ h_k+\\gamma h'_k+\\mathrm{c}_k ] \\nonumber \\\\ & = \\underbrace{\\gamma^2 h_k(h_k+\\mathrm{c}_k)}_{(b_1 ) } + \\gamma^2 \\mathrm{c}_k ( h_k+\\mathrm{c}_k ) + \\underbrace{\\gamma \\mathrm{c}_{k+1 } h_k}_{(c_1 ) } \\nonumber \\\\ & + \\underbrace{\\gamma \\mathrm{c}_k \\mathrm{c}_{k+1}}_{(d_1 ) } -\\underbrace{(1+\\gamma)\\mathrm{c}_{k+1}h_k}_{(c_2)}-\\underbrace{\\gamma(1+\\gamma)\\mathrm{c}_{k+1}h'_k}_{(b_2 ) } \\nonumber \\\\ & -\\underbrace{(1+\\gamma)\\mathrm{c}_k\\mathrm{c}_{k+1}}_{(d_2)}. \\nonumber\\end{aligned}\\ ] ] since @xmath237 \\nonumber \\\\ & < \\gamma [ h_k(h_k+\\mathrm{c}_k)-(1+\\gamma)\\mathrm{c}_k h'_k ] \\leq 0 , \\nonumber\\end{aligned}\\ ] ] combining @xmath238,@xmath239 and @xmath240,@xmath241 we have @xmath242 according to the above mathematical induction , we can conclude that @xmath243 for @xmath244 and @xmath245 .",
    "thus , @xmath121 monotonically decreases when @xmath225 $ ] , so we know that @xmath246 and @xmath247 .    for the limiting case @xmath106 , from ( [ eq : tc_infinity ] ) , ( [ eq : p_sr ] ) and ( [ eq : p_rd ] ) we can easily see that @xmath132 and @xmath133 .",
    "as @xmath170 we have"
  ],
  "abstract_text": [
    "<S> available throughput performance studies for mobile ad hoc networks ( manets ) suffer from two major limitations : they mainly focus on the scaling law study of throughput , while the exact throughput of such networks remains largely unknown ; they usually consider the infinite buffer scenarios , which are not applicable to the practical networks with limited buffer . as a step to address these limitations </S>",
    "<S> , this paper develops a general framework for the exact throughput capacity study of a class of buffer - limited manets with the two - hop relay . </S>",
    "<S> we first provide analysis to reveal how the throughput capacity of such a manet is determined by its relay - buffer blocking probability ( rbp ) . </S>",
    "<S> based on the embedded markov chain theory and queuing theory , a novel theoretical framework is then developed to enable the rbp and closed - form expression for exact throughput capacity to be derived . </S>",
    "<S> we further conduct case studies under two typical transmission scheduling schemes to illustrate the applicability of our framework and to explore the corresponding capacity optimization as well as capacity scaling law . </S>",
    "<S> finally , extensive simulation and numerical results are provided to validate the efficiency of our framework and to show the impacts brought by the buffer constraint .    </S>",
    "<S> mobile ad hoc networks ; throughput capacity ; finite buffers ; two - hop relay ; queuing analysis </S>"
  ]
}