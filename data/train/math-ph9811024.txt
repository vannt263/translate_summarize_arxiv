{
  "article_text": [
    "in this article we give a self - contained explanation of the relation between ribbon graphs ( combinatorial data ) , algebraic curves defined over @xmath1 ( algebraic and arithmetic data ) , and strebel differentials on riemann surfaces ( analytic data ) .    for a given riemann surface",
    ", we ask when it has the structure of an algebraic curve defined over the field @xmath1 of algebraic numbers . a theorem of belyi @xcite answers this question saying that a nonsingular riemann surface is an algebraic curve defined over @xmath1 if and only if there is a holomorphic map of the riemann surface onto @xmath2 that is ramified only at @xmath3 , @xmath0 and @xmath4 .",
    "such a map is called a _",
    "belyi map_.    grothendieck discovered that there is a natural bijection between the set of isomorphism classes of connected ribbon graphs and the set of isomorphism classes of belyi maps .",
    "thus a ribbon graph defines a riemann surface with a complex structure and , moreover , its algebraic structure over @xmath1 .",
    "if we start with a belyi map , then the corresponding ribbon graph is just the inverse image of the interval @xmath5 $ ] of @xmath2 .",
    "grothendieck called these graphs _ child s drawings _ ( _ dessins denfants _ ) .",
    "we refer to @xcite for more detail on this subject .",
    "another correspondence between ribbon graphs and riemann surfaces , this time between metric ribbon graphs and arbitrary riemann surfaces , has been known since the work of harer , mumford , penner , thurston , and others ( see @xcite ) . in this second correspondence",
    ", a ribbon graph arises as the union of critical leaves of a measured foliation defined on a riemann surface by a meromorphic quadratic differential called a _ strebel differential _ @xcite .",
    "when the riemann surface is defined over @xmath1 , it coincides with the same surface that is given by the grothendieck correspondence between ribbon graphs and algebraic curves defined over @xmath1 .    in this paper",
    "we give constructive proofs of these facts using _ canonical coordinate systems _ arising from strebel differentials on a riemann surface .",
    "the child s drawings , belyi maps and strebel differentials are related in a very simple way , and they are explicitly described in terms of simple formulas .",
    "although these formulas could be written down in a few pages ( see section  [ sect : belyi ] ) , for the sake of completeness we have included a detailed description of the theory which relates metric ribbon graphs and moduli spaces of riemann surfaces with marked points .",
    "in section  [ sect : ribbon ] , we give a definition of ribbon graphs and their automorphisms .",
    "thurston s _ orbifolds _ and their euler characteristics are defined in section  [ sect : orbifold ] . with these preparations , in section  [",
    "sect : metric ] we prove that the space of all isomorphism classes of metric ribbon graphs ( i.e. , ribbon graphs with a positive real number assigned to each edge ) is a differentiable orbifold . since a simplicial complex can be arbitrarily singular , this statement is not trivial . in section  [",
    "sect : strebel ] , we review strebel differentials on a riemann surface , and construct a canonical coordinate system .",
    "the natural bijection between the space of metric ribbon graphs and the moduli space of riemann surfaces with marked points is given in section  [ sect : combi ] by means of an explicit construction of the strebel differential in terms of canonical coordinates corresponding to a metric ribbon graph .",
    "finally , in section  [ sect : belyi ] , we give an explicit formula for the belyi map corresponding to an arbitrary ribbon graph in terms of these canonical local coordinates .",
    "the correspondence between metric ribbon graphs , quadratic differentials and the moduli space of riemann surfaces is well - known to specialists .",
    "moreover , formulas for these correspondences have appeared in the literature , in more or less explicit form .",
    "nevertheless , the authors believe that our formulation of this correspondence is more precise , and leads to a simple formulation of some properties of algebraic curves defined over @xmath1 , which may be useful for further study .",
    "the authors thank bill thurston for explaining his work @xcite to them .",
    "they are also grateful to francesco bottacin and regina parsons who has made valuable suggestions and improvements to the article . the work is partially supported by funding from the university of california , davis , the university of wisconsin , eau claire , and the nsf .",
    "a graph is a finite collection of points and line segments connected in certain ways , and a ribbon graph is a graph drawn on an oriented surface . a more careful definition of these objects is necessary when we consider their _",
    "isomorphism classes_.    [ def : graph ] a _ graph _",
    "@xmath6 consists of a finite set @xmath7 of _ vertices _ and a finite set @xmath8 of _ edges _ , together with a map @xmath9 from @xmath8 to the set @xmath10 of unordered pairs of vertices , called the _ incidence relation_. an edge and a vertex are said to be incident if the vertex is in the image of the edge under @xmath9 .",
    "the quantity @xmath11 gives the number of edges that connect two vertices @xmath12 and @xmath13 .",
    "the _ degree _ , or _",
    "valence _ , of a vertex @xmath12 is the number @xmath14 which is the number of edges incident to the vertex .",
    "a loop , that is , an edge with only one incident vertex , contributes twice to the degree of its incident vertex .",
    "the degree of every vertex is required to be positive ( no isolated vertices ) .",
    "the _ degree sequence _ of @xmath15 is the ordered list of degrees of the vertices : @xmath16 where the vertices are arranged so that the degree sequence is non - decreasing .    in this article ,",
    "for the most part , we shall consider only graphs whose vertices all have degree at least @xmath17 .",
    "[ def : traditional graph isomorphism ] a _ traditional graph isomorphism",
    "_ @xmath18 from a graph @xmath6 to another graph @xmath19 is a pair of bijective maps @xmath20 that preserve the incidence relation , i.e. , a diagram @xmath21 commutes .",
    "the traditional graph automorphism is not the natural notion when we consider graphs in the context of riemann surfaces and feynman diagram expansions .",
    "the reason is that the above definition of a graph does not distinguish between the half - edges , so that one can not distinguish which vertex is associated to which half - edge , and thus the group of traditional group automorphisms is smaller than the automorphism group we will need to consider .",
    "one can treat the notion of graphs with distinguished half edges independently , but it is possible to embed the theory of such graphs within the ordinary definition of graphs by introducing the notion of the _ edge refinement _ of a graph @xmath22 , which is the graph @xmath23 with the middle point of each edge of @xmath15 added as a degree 2 vertex , where @xmath24 denotes the set of all these midpoints of edges .",
    "the set of vertices of @xmath25 is the disjoint union @xmath26 , and the set of edges is the disjoint union @xmath27 because the midpoint @xmath28 divides the edge @xmath29 into two parts .",
    "the incidence relation is described by a map @xmath30 because each edge of @xmath25 connects exactly one vertex of @xmath31 to a vertex of @xmath24 .",
    "an edge of @xmath25 is called a _",
    "half - edge _ of @xmath15 . for every vertex @xmath32 of @xmath15 , the set @xmath33",
    "consists of half - edges incident to @xmath34 .",
    "note that we have @xmath35    [ def : graph automorphism ] let @xmath6 be a graph without vertices of degree less than @xmath17 . the _ automorphism group _",
    "@xmath36 is the group of traditional graph automorphisms of the edge refinement @xmath25 .",
    "for example , the graph with one degree @xmath37 vertex and two edges has @xmath38 as its automorphism group , while the traditional graph automorphism group is just @xmath39 ( figure  [ fig : graph automorphism ] ) .    0.5 in    [ def : connectedness ] let @xmath15 be a graph .",
    "two edges @xmath40 and @xmath41 are _ connected _ if there is a vertex @xmath34 of @xmath15 such that both @xmath40 and @xmath41 are incident to @xmath34 .",
    "a _ sequence of connected edges _ is an ordered set @xmath42 of edges of @xmath15 such that @xmath43 and @xmath44 are connected for every @xmath45 .",
    "a graph @xmath15 is _ connected _ if for every pair of vertices @xmath34 and @xmath46 of @xmath15 , there is a sequence of connected edges ( [ eq : sequence of connected edges ] ) for some integer @xmath47 such that @xmath40 is incident to @xmath34 and @xmath48 is incident to @xmath46 .    in this article",
    "we consider only connected graphs .",
    "[ def : ribbon graph ] a _ ribbon graph _ ( or _ fatgraph _ ) is a graph @xmath49 together with a cyclic ordering on the set of half - edges incident to each vertex of @xmath15 .",
    "a ribbon graph can be represented on a positively oriented plane ( a plane with counter - clockwise orientation ) as a set of points corresponding to the vertices , connected by arcs for each edge between the points corresponding to its incident vertices , arranged so that the cyclic order of edges at a vertex corresponds to the orientation of the plane .",
    "intersections of the arcs at points other than the vertices are ignored .",
    "the half edges incident to a vertex can be replaced with thin strips joined at the vertex , with the cyclic order at the vertex determining a direction on the boundaries of the strip ( figure  [ fig : cross road ] ) .",
    "the strips corresponding to the two half edges are connected following the orientation of their boundaries to form ribbons , determining a figure which is no longer planar , but is an oriented surface with boundary given by the boundaries of the ribbons ( figure  [ fig : cyclic order and ribbon graph ] ) .",
    "thus a ribbon graph can be considered as an oriented surface with boundary , as is illustrated by figure  [ fig : ribbon graph ] .",
    "[ def : ribbon graph automorphism ] an automorphism of a ribbon graph @xmath50 is an automorphism of the underlying graph that preserves the cyclic ordering of half - edges at every vertex .    since we deal mainly with ribbon graphs from now on , we use the notation @xmath36 for the automorphism group of a ribbon graph @xmath15 .",
    "the characteristic difference between a graph and a ribbon graph is that the latter has a _",
    "boundary_.    [ def : boundary of a ribbon graph ] let @xmath51 be a ribbon graph , where @xmath52 denotes the cyclic ordering of half - edges at each vertex . a _ directed edge _",
    "@xmath53 is an ordering @xmath54 and @xmath55 of the half - edges that form the edge @xmath29 .",
    "boundary component_(hole ) of @xmath50 is a cyclic sequence of connected directed edges @xmath56 such that the half - edges @xmath57 and @xmath58 are incident to a vertex @xmath59 of @xmath15 , with @xmath57 immediately preceding @xmath58 with respect to the cyclic order assigned to the half - edges at @xmath59 .",
    "the ribbon graphs of figure  [ fig : cyclic order and ribbon graph ] and figure  [ fig : ribbon graph ] have only one boundary component .",
    "we denote by @xmath60 the _ number of boundary components _ of a ribbon graph @xmath50 .",
    "[ def : automorphism fixing boundary components ] the group of ribbon graph automorphisms of @xmath50 that preserve the boundary components is denoted by @xmath61 , which is a subgroup of @xmath62 .    since a boundary component of a ribbon graph",
    "is defined to be a cyclic sequence of directed edges , the topological realization of the ribbon graph has a well - defined orientation and each boundary component has an induced orientation that is compatible with the cyclic order .",
    "thus we can attach an oriented disk to each boundary component of a ribbon graph @xmath50 so that the total space , which we denote by @xmath63 , is a compact oriented topological surface .    the attached disks and the underlying graph @xmath64 of a ribbon graph @xmath50 defines a cell - decomposition of @xmath65 .",
    "let @xmath66 denote the number of vertices and @xmath67 the number of edges of @xmath15 .",
    "then the genus @xmath68 of the closed surface @xmath65 is determined by a formula for the euler characteristic : @xmath69    the ribbon graph of figure  [ fig : cyclic order and ribbon graph ] has two vertices , three edges and one boundary component .",
    "thus the surface @xmath63 is a torus .",
    "the ribbon graph of figure  [ fig : ribbon graph ] has three vertices , six edges and one boundary component .",
    "thus the genus of the closed surface @xmath63 associated with this ribbon graph is 2 .    in the next section we study _ metric ribbon graphs _",
    ", which are ribbon graphs with a _",
    "metric _ , that is , an assignment of a positive real number ( length ) to each edge of the graph .",
    "the set of all metrics on @xmath15 determines a topological space homeomorphic to @xmath70 , on which the automorphism group of the ribbon graph acts .",
    "we wish to study the structure of the space of isomorphism classes of metrics under this action .",
    "a graph automorphism can act trivially on the space of metrics on @xmath15 , and this happens precisely when the automorphism preserves the edges of @xmath15 , but possibly interchanges some of its half - edges .",
    "let us determine all ribbon graphs that have a non - trivial graph automorphism acting trivially on the set of edges .",
    "[ def : exceptional graphs ] a ribbon graph @xmath15 is _ exceptional _ if the natural homomorphism @xmath71 of the automorphism group of @xmath15 to the permutation group of edges is _ not _ injective .",
    "let @xmath15 be an exceptional graph and @xmath72 a nontrivial automorphism of @xmath15 .",
    "since none of the edges are interchanged by @xmath73 , the graph can have at most two vertices .",
    "if the graph has two vertices , then @xmath73 interchanges the vertices while all edges are fixed .",
    "the only possibility is a graph with two vertices of degree @xmath74 , @xmath75 , as in figure  [ fig : cyclic order and ribbon graph ] and in figure  [ fig : exception1 ] below .",
    "if @xmath74 is odd , then it has only one boundary component , as in figure  [ fig : cyclic order and ribbon graph ] .",
    "the genus of the surface @xmath65 is given by @xmath76 for an even @xmath74 , the graph has two boundary components , as in figure  [ fig : exception1 ] , and @xmath77 in both cases , the automorphism group is the product group @xmath78 with the factor @xmath39 acting trivially on the set of edges .",
    "when @xmath15 has two boundary components , then @xmath79 which is a factor of ( [ eq : exceptional automorphism 1 ] ) .",
    "note that @xmath80 acts faithfully on the set of edges in this case .",
    "of course , in the case of one boundary component , @xmath80 coincides with @xmath36 , so it does not act faithfully .    to obtain the one - vertex case",
    ", we only need to contract one of the edges of the two - vertex case considered above .",
    "the result is a graph with one vertex of degree @xmath81 , as shown in figure  [ fig : exception2 ] .",
    "when @xmath47 is even , the graph has only one boundary component , and the genus of the surface @xmath65 is @xmath82 if @xmath47 is odd , then the graph has two boundary components and the genus is @xmath83 the automorphism group is @xmath84 , but the action on @xmath85 factors through @xmath86 here again , in the 2 component case the automorphism group fixing the boundary , @xmath87 , acts faithfully on the set of edges .",
    "we have thus classified all exceptional graphs .",
    "these exceptional graphs appear for arbitrary genus @xmath88 .",
    "the graph of figure  [ fig : exception1 ] has two distinct labelings of the boundary components , but since they can be interchanged by the action of a ribbon graph automorphism , there is only one equivalence class of ribbon graphs with labeled boundary over this underlying ribbon graph .",
    "the automorphism group that preserves the boundary is @xmath89 .",
    "thus the space of metric ribbon graphs with labeled boundary is @xmath90 .",
    "the change of labeling , or the action of @xmath91 , has a non - trivial effect on the graph level , but does not act at all on the space @xmath90 .",
    "the space of metric ribbon graphs is also @xmath90 , which is not the @xmath91-quotient of the space of metric ribbon graphs with labeled boundary .",
    "the other example of an exceptional graph , figure  [ fig : exception2 ] , gives another interesting case .",
    "this time the space of metric ribbon graphs with labeled boundary and the space of metric ribbon graphs without referring to the boundary are both @xmath92 .",
    "the group @xmath91 of changing the labels on the boundary has again no effect on the space .",
    "the analysis of exceptional graphs shows that labeling all edges does not induce labeling of the boundary components of a ribbon graph .",
    "however , if we label all half - edges of a ribbon graph , then we have a labeling of the boundary components as well .",
    "we will come back to this point when we study the orbifold covering of the space of metric ribbon graphs by the space of metric ribbon graphs with labeled boundary components .",
    "a space obtained by patching pieces of the form @xmath93 together was called a _ @xmath34-manifold _ by satake @xcite and an _ orbifold _ by thurston @xcite . from the latter",
    "we cite :    [ def : definition of orbifold ] an _ orbifold _",
    "@xmath94 is a set of data consisting of    1 .   a hausdorff topological space @xmath95 that is called the _ underlying space _ , 2 .",
    "a locally finite open covering @xmath96 of the underlying space , 3 .",
    "a set of homeomorphisms @xmath97 where @xmath98 is an open subset of @xmath99 and @xmath100 is a finite group acting faithfully on @xmath98 .    whenever @xmath101 , there is an injective group homomorphism @xmath102 and an embedding @xmath103 such that @xmath104 for every @xmath105 and @xmath106 , and such that the diagram below commutes . @xmath107",
    "the space @xmath108 is called an orbifold _ locally modeled on @xmath99 modulo finite groups_. an orbifold is said to be _",
    "differentiable _ if the group @xmath100 is a finite subgroup of the orthogonal group @xmath109 acting on @xmath99 , and the local models @xmath110 are glued together by diffeomorphisms .",
    "[ def : orbifold covering ] a surjective map @xmath111 of an orbifold @xmath112 onto @xmath113 is said to be an _ orbifold covering _ if the following conditions are satisfied :    1 .   the map @xmath114 induces a surjective continuous map @xmath115 between the underlying spaces , _ which is not generally a covering map of the topological spaces_. 2 .   for every @xmath116",
    ", there is an open neighborhood @xmath117 , an open subset @xmath118 , a finite group @xmath119 a subgroup @xmath120 , and homeomorphisms @xmath121 and @xmath122 such that the diagram below commutes .",
    "@xmath123 3 .   for every @xmath124",
    ", there is an open neighborhood @xmath34 of @xmath125 , an open subset @xmath126 , a finite group @xmath127 , a subgroup @xmath128 , and a connected component @xmath129 of @xmath130 making the diagram below commute .",
    "@xmath131    if a group @xmath132 acts on a riemannian manifold @xmath133 properly discontinuously by isometries , then @xmath134 is an example of a differentiable covering orbifold .",
    "given point @xmath135 of an orbifold @xmath108 , there is a well - defined group @xmath136 associated to it .",
    "let @xmath137 be a local open coordinate neighborhood of @xmath138 .",
    "then the isotropy subgroup of @xmath132 that stabilizes any inverse image of @xmath135 in @xmath139 is unique up to conjugation .",
    "we define @xmath136 to be this isotropy group . when the isotropy group of @xmath135 is non - trivial , then @xmath135 is said to be a",
    "_ singular _ point of the orbifold .",
    "the set of non - singular points is open and dense in the underlying space @xmath95 .",
    "orbifold cell - decomposition _ of an orbifold is a cell - decomposition of @xmath95 such that the group @xmath136 is the same along each stratum .",
    "we denote by @xmath140 the group associated with a cell @xmath141 .",
    "thurston extended the notion of the _ euler characteristic _ to orbifolds .",
    "[ def : orbifold euler characteristic ] if an orbifold @xmath108 admits an orbifold cell - decomposition , then we define the _ euler characteristic _ by @xmath142    the next theorem gives us a useful method to compute the euler characteristic .",
    "[ thm : euler characteristic and covering ]",
    "let @xmath143 be a covering orbifold .",
    "we define the _ sheet number _ of the covering @xmath114 to be the cardinality @xmath144 of the preimage @xmath145 of a non - singular point @xmath124 .",
    "then @xmath146    we first observe that for an _ arbitrary _ point @xmath125 of @xmath113 , we have @xmath147 let @xmath148 be an orbifold cell - decomposition of @xmath113 , and @xmath149 a division of the preimage of @xmath150 into its connected components . then @xmath151    [ cor : orbifold rn mod g ] let @xmath132 be a finite subgroup of @xmath152 that acts on @xmath153 by permutation of the coordinate axes . then @xmath154 is a differentiable orbifold and @xmath155    we note that in general @xmath156 unless @xmath132 acts on @xmath153 faithfully .",
    "[ ex : rn mod sn ] let us study the quotient space @xmath157 .",
    "we denote by @xmath158 the interior of a regular @xmath159-hyperhedron of @xmath160 dimensions .",
    "thus @xmath161 is a line segment , @xmath162 is an equilateral triangle , and @xmath163 is a regular tetrahedron .",
    "the space @xmath153 is a cone over @xmath164 : @xmath165 the closure @xmath166 has @xmath159 vertices @xmath167 .",
    "let @xmath168 be the midpoint of the line segment @xmath169 , @xmath170 the barycenter of the triangle @xmath171 , etc .",
    ", and @xmath172 the barycenter of @xmath164 .",
    "the @xmath160-dimensional region @xmath173 which is the convex hull of the set of @xmath159 points @xmath174 , is the fundamental domain of the @xmath152-action on @xmath164 induced by permutation of vertices",
    ". it can be considered as a cell complex of the orbifold @xmath157 .",
    "it has @xmath175 @xmath47-cells for every @xmath47 ( figure  [ fig : tetrahedron ] ) .",
    "the isotropy group of each cell is easily calculated .",
    "for example , the isotropy group of the 2-cell @xmath176 is @xmath177 where @xmath178 is the permutation group of the specified letters .",
    "the definition of the euler characteristic ( [ eq : euler - thurston ] ) and a computation using ( [ eq : orbifold covering ] ) gives an interesting combinatorial identity @xmath179 the @xmath152-action of the cell - decomposition of @xmath180 gives a cell - decomposition of @xmath164 itself , and hence a cell - decomposition of @xmath153 .",
    "we call this cell - decomposition the _ canonical cell - decomposition _ of @xmath153 , and denote it by @xmath181 . for every subgroup @xmath182 , the fixed point set of an element of @xmath132 is one of the cells of @xmath181 .",
    "in particular , @xmath181 induces a cell - decomposition of the orbifold @xmath154 , which we call the _ canonical orbifold cell - decomposition _ of @xmath154 .",
    "the goal of this section is to show that the space of all metric ribbon graphs with fixed euler characteristic and number of boundary components forms a differentiable orbifold .",
    "the metric ribbon graph space could a priori have complicated singularities , but it turns out that it only has quotient singularities given by certain finite group actions on euclidean spaces of a fixed dimension .",
    "this is due to the behavior of the local deformations of a metric ribbon graph .",
    "the deformations of a metric ribbon graph which we will discuss below are related to certain questions in computer science .",
    "we refer to @xcite for more detail .",
    "let @xmath183 denote the set of all isomorphism classes of connected ribbon graphs @xmath50 with no vertices of degree less than @xmath17 such that @xmath184 where @xmath66 , @xmath67 and @xmath185 denote the number of vertices , edges and boundary components of @xmath15 , respectively .",
    "if an edge @xmath29 of @xmath50 is incident to two _ distinct _ vertices @xmath186 and @xmath187 , then we can construct another ribbon graph @xmath188 by removing the edge @xmath29 and joining the vertices @xmath186 and @xmath187 to a single vertex , with the cyclic order of the joined vertex determined by the cyclic order of the edges incident to @xmath186 starting from the edge following @xmath29 up to the edge preceding @xmath29 , followed by the edges incident to @xmath187 starting with the edge following @xmath29 and ending with the edge preceding @xmath29 .",
    "the ribbon graph @xmath189 is called a _ contraction _ of @xmath50 . a _",
    "partial ordering _ can be introduced into @xmath183 by defining @xmath190 if @xmath191 is obtained by a series of contractions applied to @xmath192 .",
    "since contraction decreases the number of edges and vertices by one , a graph with only one vertex is a minimal graph , and a _ trivalent _ graph ( a graph with only degree @xmath17 vertices ) is a maximal element .",
    "every graph can be obtained from a trivalent graph by applying a series of contractions .",
    "the inverse operation to the contraction of a ribbon graph is _",
    "expansion_. every vertex of degree @xmath193 of a ribbon graph @xmath15 can be _ expanded _ by adding a new edge as shown in figure  [ fig : expansion ] .     +   +    in the process of expansion of an ribbon graph @xmath15 , we identify two expanded graphs if there is a ribbon graph isomorphism from one to the other that preserves all the original half - edges of @xmath15 .",
    "thus when we expand a vertex of degree @xmath193 , there are @xmath194 ways of expanding it by adding an edge .",
    "the situation is easier to understand by looking at the _ dual graph _ of figure  [ fig : dual graph ] , where the arrows again indicate the contraction map .",
    "consider the portion of a ribbon graph consisting of a vertex of degree @xmath193 and @xmath195 half - edges labeled by the numbers @xmath0 through @xmath195 .",
    "we denote this portion by @xmath196 .",
    "the dual graph of @xmath196 is a convex polygon with @xmath195 sides . the process of expansion by adding an edge to the center vertex of @xmath196 corresponds to drawing a diagonal line between two vertices of the @xmath195-gon , as in figure  [ fig : dual graph ] .",
    "the number @xmath194 corresponds to the number of diagonals in a convex @xmath195-gon . expanding the graph further corresponds to adding another diagonal to the polygon in such a way that the added diagonal does not intersect with the existing diagonals except at the vertices of the polygon .",
    "the expansion process terminates after @xmath197 iterations , the number non - intersecting diagonals which can be placed in a convex @xmath195-gon .",
    "note that such a maximal expansion is trivalent at the internal vertices , and its dual defines a triangulation of the polygon .",
    "the number of all triangulations of a @xmath195-gon is equal to @xmath198 which is called the _",
    "catalan number_.    a _ metric _ ribbon graph is a ribbon graph with a positive real number assigned to each edge , called the _ length _ of the edge . for a ribbon graph @xmath199 , the space of isomorphism classes of metric ribbon graphs with @xmath15 as the underlying graph is a differentiable orbifold @xmath200 where the action of @xmath36 on @xmath201 is through the natural homomorphism @xmath202 for the exceptional graphs @xmath203 in definition  [ def : exceptional graphs ] , we have @xmath204    for integers",
    "@xmath88 and @xmath159 satisfying @xmath205 we define the space of isomorphism classes of metric ribbon graphs satisfying the topological condition ( [ eq : topology of gamma ] ) by @xmath206 each component ( [ eq : space of metric ribbon graphs ] ) of ( [ eq : space of metric ribbon graphs for gn ] ) is called a _ rational cell _ of @xmath207 .",
    "the rational cells are glued together by the contraction operation in an obvious way .",
    "a rational cell has a natural quotient topology .",
    "let us compute the dimension of @xmath207 .",
    "we denote by @xmath208 the number of vertices of a ribbon graph @xmath15 of degree @xmath74 .",
    "since these numbers satisfy @xmath209 the number @xmath67 of edges takes its maximum value when all vertices have degree @xmath17 . in that case , @xmath210 holds , and we have @xmath211    to prove that @xmath212 is a differentiable orbifold , we need to show that for every element @xmath213 , there is an open neighborhood @xmath214 of @xmath215 , an open disk @xmath216 , and a finite group @xmath217 acting on @xmath218 through orthogonal transformations such that @xmath219    [ def : epsilon neighborhood ] let @xmath220 be a metric ribbon graph , and @xmath221 a positive number smaller than the half of the length of the shortest edge of @xmath215 .",
    "the _ @xmath222-neighborhood _ @xmath214 of @xmath215 in @xmath223 is the set of all metric ribbon graphs @xmath224 that satisfy the following conditions :    1 .",
    "2 .   the edges of @xmath224 that are contracted in @xmath215 have length less than @xmath222 .",
    "3 .   let @xmath226 be an edge of @xmath224 that is not contracted and corresponds to an edge @xmath29 of @xmath215 of length @xmath227 .",
    "then the length @xmath228 of @xmath226 is in the range @xmath229    the length of an edge of @xmath230 that is not contracted in @xmath231 is greater than @xmath222 .",
    "the topology of the space @xmath223 is defined by these @xmath222-neighborhoods .",
    "when @xmath231 is trivalent , then @xmath214 is the @xmath222-neighborhood of @xmath232 in the usual sense .",
    "[ def : space of expansions ] let @xmath199 be a ribbon graph and @xmath25 its edge - refinement .",
    "we choose a labeling of all edges of @xmath25 , i.e. , the half - edges of @xmath15 .",
    "the set @xmath233 consists of @xmath15 itself and all its expansions .",
    "two expansions are identified if there is a ribbon graph isomorphism of one expansion to the other that preserves the original half - edges coming from @xmath25 .",
    "the _ space of metric expansions _ of @xmath15 , which is denoted by @xmath234 , is the set of all graphs in @xmath233 with a metric on each edge .    to understand the structure of @xmath234 , let us consider the expansion process of a vertex of degree @xmath193 .",
    "since expansion is essentially a local operation , the whole picture can be seen from this local consideration .",
    "let @xmath196 denote the tree graph consisting of a single vertex of degree @xmath195 with @xmath195 half - edges attached to it .",
    "although @xmath196 is not the type of ribbon graph we are considering , we can define the space @xmath235 of metric expansions of @xmath196 in the same way as in definition  [ def : space of expansions ] . since the edges of @xmath196 correspond to half - edges of our ribbon graphs , we do not assign any metric to them .",
    "thus @xmath236 .",
    "as we have noted in figure  [ fig : dual graph ] , the expansion process of @xmath196 can be more effectively visualized by looking at the dual polygon .",
    "a maximal expansion corresponds to a triangulation of the starting @xmath195-gon by non - intersecting diagonals .",
    "since there are @xmath197 additional edges in a maximally expanded tree graph , each maximal graph is a metric tree homeomorphic to @xmath237 .",
    "there is a set of @xmath238 non - intersecting diagonals in a @xmath195-gon that is obtained by removing one diagonal from a triangulation @xmath239 of the @xmath195-gon , or removing another diagonal from another triangulation @xmath240 .",
    "the transformation of the tree graph corresponding to @xmath239 to the tree corresponding to @xmath240 is the so - called _",
    "fusion move_. if we consider the trivalent trees as _ binary trees _",
    ", then the fusion move is also known as _ rotation _ @xcite .",
    "two @xmath241-dimensional cells are glued together along a @xmath242-dimensional cell .",
    "the number of @xmath241-dimensional cells in @xmath243 is equal to the catalan number .",
    "[ thm : complete expansion scheme ] the space @xmath235 is homeomorphic to @xmath244 , and its combinatorial structure defines a cell decomposition of @xmath244 , where each cell is a convex cone with vertex at the origin . the origin , corresponding to the graph @xmath196 , is the only @xmath3-cell of the cell complex .",
    "the group @xmath245 acts on @xmath235 through orthogonal transformations with respect to the natural euclidean structure of @xmath244 .    in @xcite ,",
    "the rotation distance between the top dimensional cells of @xmath235 was studied in terms of hyperbolic geometry , which has a connection to the structure of binary search trees .",
    "draw a convex @xmath195-gon on the @xmath246-plane in @xmath247-space .",
    "let @xmath248 be the set of vertices of the @xmath195-gon , and consider the set @xmath249 of all functions @xmath250 an element @xmath251 can be represented by its function graph @xmath252 let us denote by @xmath253 the convex hull of @xmath254 in @xmath255 .",
    "if we view the convex hull from the top , we see a @xmath195-gon with a set of non - intersecting diagonals .     +    viewing the convex hull from the positive direction of the @xmath256-axis",
    ", we obtain a map @xmath257 where we identify @xmath243 with the set of arrangements of non - intersecting diagonals of a convex @xmath195-gon .",
    "a generic point of @xmath258 corresponds to a triangulation of the @xmath195-gon as in figure  [ fig : convex hull ] , but special points give fewer diagonals on the @xmath195-gon .",
    "for example , if @xmath259 is a constant function , then the function graph @xmath254 is flat and the top view of its convex hull is just the @xmath195-gon without any diagonals in sight .",
    "this consideration leads us to note that the map @xmath260 factors through @xmath261 where @xmath262 is the space of affine maps of @xmath263 to @xmath264 .",
    "such an affine map induces a map of @xmath248 to @xmath264 , but the image is flat and no diagonals are produced in the @xmath195-gon .",
    "the map @xmath265 of ( [ eq : map of rd-3 to x ] ) is surjective , because we can explicitly construct a function @xmath259 that corresponds to an arbitrary element of @xmath243 .",
    "we also note that the inverse image of an @xmath266-diagonal arrangement ( @xmath267 ) is a cone of dimension @xmath266 with vertex at the origin .",
    "it is indeed a convex cone , because if two points of @xmath268 correspond to the same diagonal arrangement of @xmath243 , then every point on the line segment connecting these two points corresponds to the same arrangement . to see this ,",
    "let @xmath269 , and let a function @xmath249 satisfy @xmath270 then @xmath259 can be thought of an element of the quotient space ( [ eq : r d-3 ] ) .",
    "take two such functions @xmath259 and @xmath88 that correspond to the same @xmath266-diagonal arrangement of the @xmath195-gon .",
    "the line segment connecting these two functions is @xmath271 where @xmath272 .",
    "this means that the point @xmath273 is on the vertical line segment connecting @xmath274 and @xmath275 for all @xmath276 thus the top roof of the convex hull @xmath277 determines the same arrangement of the diagonals on the @xmath195-gon as @xmath253 and @xmath278 do .    since the inverse image of an @xmath266-diagonal arrangement is an @xmath266-dimensional convex cone , it is homeomorphic to @xmath279 .",
    "hence @xmath243 defines a cell decomposition of @xmath244 , which is homeomorphic to @xmath235 , as claimed .",
    "the convex @xmath195-gon on the plane can be taken as a regular @xmath195-gon centered at the origin .",
    "the cyclic group @xmath245 naturally acts on @xmath248 through rotations .",
    "this action induces an action on @xmath258 through permutation of axes , which is an orthogonal transformation with respect to the standard euclidean structure of @xmath280 .",
    "a rotation of @xmath248 induces a rotation of the horizontal plane @xmath263 , thus the space of affine maps of @xmath263 to @xmath264 is invariant under the @xmath245-action .",
    "the action therefore descends to the orthogonal complement @xmath281 in @xmath258 .",
    "thus @xmath245 acts on @xmath282 by orthogonal transformations with respect to its natural euclidean structure .",
    "[ ex : expansion of degree 6 ] the space of metric expansions of a vertex of degree @xmath283 is a cell decomposition of @xmath255",
    ". there are nine @xmath0-cells , twenty - one @xmath284-cells , and fourteen @xmath17-cells . in figure",
    "[ fig : deg6 expansion ] , the axes are depicted in the usual orientation , with the vertical axis representing the @xmath256 coordinate .",
    "the @xmath285-action on @xmath255 is generated by the orthogonal transformation @xmath286    [ thm : space of expansions ] let @xmath287 . then @xmath288 the combinatorial structure of @xmath233 determines a cell decomposition of @xmath289 .",
    "the group @xmath36 acts on @xmath234 as automorphisms of the cell complex , which are orthogonal transformations with respect to its natural euclidean structure through the homeomorphism ( [ eq : space of expansions ] ) .",
    "the action of @xmath36 on the metric edge space @xmath232 may be non - faithful ( when @xmath15 is exceptional ) , but its action on @xmath290 is always faithful except for the case @xmath291 .",
    "the expansion process of @xmath15 takes place at each vertex of degree @xmath37 or more .",
    "since we identify expansions only when there is an isomorphism fixing all original half - edges coming from @xmath15 , the expansion can be done independently at each vertex .",
    "let @xmath292 be the list of vertices of @xmath15 and @xmath293 the degree of @xmath294 .",
    "we arrange the degree sequence of @xmath15 as @xmath295 note that @xmath296 is the number of vertices of @xmath15 .",
    "then @xmath297 and the second factor is homeomorphic to @xmath298 where @xmath299 the group @xmath300 acts naturally on @xmath301 through orthogonal transformations because each factor @xmath302 acts on @xmath303 through orthogonal transformations if @xmath304 , and the symmetric group @xmath305 acts on @xmath306 by permutations of factors , which are also orthogonal transformations .    since @xmath36 is a subgroup of @xmath307 , it acts on @xmath301 through orthogonal transformations .",
    "it s action on @xmath232 is by permutations of axes , thus it is also orthogonal in the standard embedding of @xmath232 into @xmath308 .",
    "therefore , @xmath36 acts on @xmath234 through orthogonal transformations with respect to the natural euclidean structure of @xmath234 .",
    "the action of @xmath36 on @xmath309 is faithful because all half - edges of @xmath15 are labeled in @xmath234 , except for the case @xmath291 .",
    "there are only two graphs in @xmath310 , and both are exceptional .",
    "thus the @xmath36-action on @xmath234 has a redundant factor @xmath39 for @xmath310 .",
    "[ thm : rg is an orbifold ] the space @xmath311 of metric ribbon graphs is a differentiable orbifold locally modeled by @xmath312    for every ribbon graph @xmath313 , there is a natural map @xmath314 assigning to each metric expansion of @xmath15 its isomorphism class as a metric ribbon graph . since the @xmath36-action on @xmath234 induces ribbon graph isomorphisms , the map ( [ eq : local covering ] ) factors through the map @xmath315 of the quotient space : @xmath316 the inverse image @xmath317 of the @xmath222-neighborhood @xmath318 is an open subset of @xmath234 that is homeomorphic to a disk .",
    "we claim that @xmath319 is a homeomorphism for every metric ribbon graph @xmath231 if @xmath221 is chosen sufficiently small compared to the shortest edge length of @xmath231 .",
    "take a point @xmath320 , and let @xmath321 be two inverse images .",
    "the ribbon graph isomorphism @xmath322 that brings @xmath323 to @xmath324 preserves the set @xmath325 of contracting edges .",
    "since @xmath326 modulo the contracting edges @xmath325 is the graph @xmath231 , @xmath322 induces an automorphism @xmath327 .",
    "thus @xmath322 factors into the product of an automorphism @xmath328 of @xmath15 and a permutation of @xmath325 . as an element of @xmath234 , a permutation of contracting edges in @xmath325 fixes the element .",
    "thus @xmath324 is an @xmath328-image of @xmath323 in @xmath234 .",
    "this shows that ( [ eq : local homeo ] ) is a natural bijection .",
    "since the topology of the space of metric ribbon graphs is determined by these @xmath222-neighborhoods , the map @xmath315 is continuous .",
    "thus for a small enough @xmath222 , we have a homeomorphism ( [ eq : local homeo ] ) .",
    "the metric ribbon graph space is covered by local coordinate patches @xmath329 where @xmath330 is a differentiable orbifold .",
    "let @xmath331 be a metric ribbon graph in the intersection of two coordinate patches",
    ". then @xmath332 and @xmath333 .",
    "there is a small @xmath334 such that @xmath335 if we label the edges of @xmath336 that are not contracted in @xmath15 , then we have an embedding @xmath337 that induces @xmath338 these inclusion maps are injective diffeomorphisms with respect to the natural differentiable structure of @xmath234 .",
    "the same is true for @xmath339 and @xmath340 .",
    "this implies that the local coordinate neighborhoods of ( [ eq : coordinate covering ] ) are patched together by diffeomorphisms .",
    "the local map @xmath315 of ( [ eq : local homeo ] ) is not a homeomorphism if @xmath222 takes a large value . in particular , @xmath341 does not map injectively to @xmath223 via the natural map @xmath315 .",
    "[ thm : euler characteristic of rg ] the euler characteristic of @xmath223 as an orbifold is given by @xmath342 for @xmath291 , we have @xmath343    since the @xmath36-action on @xmath232 is through the representation @xmath344 we have the canonical orbifold cell decomposition of @xmath345 defined in example  [ ex : rn mod sn ] .",
    "gluing all these canonical cell decompositions of the rational cells of the orbifold @xmath223 , we obtain an orbifold cell decomposition of the entire space @xmath223 . to determine the isotropy subgroups of each orbifold cell , we need the local model ( [ eq : local homeo ] ) .",
    "we note that the @xmath36-action on @xmath346 is faithful if @xmath347 .",
    "if @xmath36 acts on @xmath232 faithfully , then the contribution of the rational cell @xmath345 to the euler characteristic of @xmath223 is @xmath348 but if @xmath15 is exceptional , then the rational cell @xmath349 is itself a singular set of @xmath350 .",
    "the contribution of the euler characteristic of @xmath223 from this rational cell is thus @xmath351 summing all these , we obtain the formula for the euler characteristic .",
    "the case of @xmath291 is still different because all graphs in @xmath310 are exceptional .",
    "the general formula ( [ eq : euler characteristic of rg ] ) gives @xmath352 , but since the factor @xmath39 of @xmath36 acts trivially on @xmath234 , the factor @xmath284 has to be modified .",
    "the computation of ( [ eq : euler characteristic of rg ] ) was first done in @xcite using a combinatorial argument , and then in @xcite and @xcite using an asymptotic analysis of hermitian matrix integrals .",
    "the result is    @xmath353    for every @xmath354 and @xmath355 subject to @xmath356 .",
    "let @xmath357 denote the set of isomorphism classes of connected ribbon graphs with labeled boundary components subject to the topological condition ( [ eq : topology of gamma ] ) , and @xmath358 the space of metric ribbon graphs with labeled boundary components , where @xmath359 is the automorphism group of a ribbon graph @xmath15 preserving the boundary labeling .",
    "the same argument of the previous section applies without any alteration to show that @xmath360 is a differentiable orbifold locally modeled by @xmath361 the definition of the space of metric expansions @xmath234 does not refer to the labeling of the boundary components of a ribbon graph @xmath15 , but it requires labeling of all half - edges of @xmath15 . as we noted at the end of section  [ sect : ribbon ] , labeling of the half - edges induces an order of boundary components .",
    "thus every expansion of @xmath15 appearing in @xmath234 has a boundary labeling that is consistent with the boundary labeling of @xmath15 .",
    "[ thm : orbifold covering of rg ] for every genus @xmath354 and @xmath362 subject to ( [ eq : gn condition ] ) , the natural _ forgetful _ projection @xmath363 is an orbifold covering of degree @xmath364 .",
    "let @xmath15 be a ribbon graph .",
    "we label the boundary components of @xmath50 , and denote by @xmath365 the set of all permutations of the boundary components .",
    "the cardinality @xmath366 of @xmath365 is @xmath364 .",
    "the automorphism group @xmath62 acts on the set @xmath365 , and by definition the isotropy subgroup of @xmath62 of each element of @xmath365 is isomorphic to the group @xmath80 .",
    "the orbit space @xmath367 is the set of ribbon graphs with labeled boundary .",
    "thus the inverse image of the local model @xmath368 by @xmath369 is the disjoint union of @xmath370 copies of @xmath371 : @xmath372 since the projection restricted to each local model @xmath373 is an orbifold covering of degree @xmath374 , the map @xmath375 is an orbifold covering of degree @xmath376 since the projection of ( [ eq : forget ] ) is just a collection of @xmath377 of ( [ eq : local orbifold covering ] ) , @xmath378 is an orbifold covering of degree @xmath364 as desired .    as an immediate consequence",
    ", we have    [ cor : euler characteristic of rg with boundary ] the euler characteristic of @xmath379 is given by @xmath380",
    "a riemann surface is a patchwork of complex domains .",
    "let us ask the question in the opposite direction : if we are _ given _ a compact riemann surface , then how can we find coordinate patches that represent the complex structure ? in this section we give a canonical coordinate system on a riemann surface once a finite number of points on the surface and the same number of positive real numbers are chosen .",
    "the key technique is the theory of strebel differentials @xcite . using strebel differentials",
    ", we can encode the holomorphic structure of a riemann surface in the combinatorial data of ribbon graphs .",
    "let @xmath141 be a compact riemann surface .",
    "we choose a finite set of labeled points @xmath381 on @xmath141 , and call them _ marked points _ on the riemann surface .",
    "the bridge that connects the complex structure of a riemann surface and combinatorial data is the _ strebel differential _ on the riemann surface .",
    "let @xmath382 be the canonical sheaf of @xmath141 . a holomorphic _ quadratic differential",
    "_ defined on @xmath141 is an element of @xmath383 , where @xmath384 denotes the symmetric tensor product of the canonical sheaf . in a local coordinate @xmath256 on @xmath141 , a quadratic differential @xmath385",
    "is represented by @xmath386 with a locally defined holomorphic function @xmath387 . with respect to a coordinate change @xmath388 , the local expressions @xmath389",
    "transform by @xmath390 a _ meromorphic _ quadratic differential on @xmath141 is a holomorphic quadratic differential @xmath385 defined on @xmath141 except for a finite set @xmath391 of points of @xmath141 such that at each _ singularity _ @xmath392 of @xmath385 , there is a local expression @xmath393 with a meromorphic function @xmath394 that has a pole at @xmath395 .",
    "if @xmath396 has a pole of order @xmath397 at @xmath392 , then we say @xmath385 has a pole of order @xmath397 at @xmath395 .",
    "let @xmath386 be a meromorphic quadratic differential defined on @xmath141 .",
    "a real parametric curve @xmath398 parameterized on an open interval @xmath399 of a real axis is a _ horizontal leaf _ ( or in the classical terminology , a horizontal _ trajectory _ ) of @xmath385 if @xmath400 for every @xmath401 .",
    "if @xmath402 holds instead , then the parametric curve @xmath403 of ( [ eq : parametric curve ] ) is called a _ vertical leaf _ of @xmath385 .",
    "the collection of all horizontal or vertical leaves form a _",
    "real codimension 1 foliation _ on the riemann surface @xmath141 minus the singular points and zeroes of @xmath385 .",
    "there are three important examples of the foliations for our study .",
    "[ ex : qdhol ] let @xmath404 .",
    "then the horizontal lines @xmath405 are the horizontal leaves of @xmath385 , and @xmath406 are the vertical leaves for every @xmath407 .",
    "each of these defines a simple foliation on the complex plane @xmath408 . in figure",
    "[ fig : hol ] , horizontal leaves are described by straight lines , and vertical leaves are indicated by broken lines .",
    "if a quadratic differential @xmath409 is holomorphic and non - zero at @xmath410 , then on a neighborhood of @xmath411 we can introduce a _",
    "canonical coordinate _ @xmath412 it follows from ( [ eq : qdtransform ] ) that in the @xmath413-coordinate the quadratic differential is given by @xmath414 .",
    "therefore , the leaves of @xmath385 near @xmath411 look exactly as in figure  [ fig : hol ] in the canonical coordinate . this explains the classical terminology of horizontal and vertical trajectories .",
    "we remark here that although the coordinate @xmath415 is called _ canonical _ , still there is an ambiguity of coordinate change @xmath416 with an arbitrary complex constant @xmath417 .    using the canonical coordinate ,",
    "it is obvious to see the following :    [ prop : existence of leaves ] let @xmath418 be an open riemann surface and @xmath385 a holomorphic quadratic differential on @xmath418 .",
    "then for every point @xmath419 , there is a unique horizontal leaf and a vertical leaf passing through @xmath420 .",
    "moreover , these leaves intersect at a right angle with respect to the conformal structure of @xmath418 near @xmath420 .    when a holomorphic quadratic differential has a zero , then the foliation behaves differently .",
    "[ ex : qdzero ] let @xmath421 .",
    "then @xmath422 half rays @xmath423 give the horizontal leaves that have @xmath424 on the boundary ( the straight lines of figure  [ fig : zero ] ) , and another set of @xmath422 half rays @xmath425 gives the vertical leaves ( the broken lines of figure  [ fig : zero ] ) .",
    "the foliation becomes quite wild at singularities of @xmath385 .",
    "however , the situation is milder around a quadratic pole with a negative real coefficient .",
    "[ ex : qdpole ] let @xmath426 . then every concentric circle centered at @xmath3",
    ", @xmath427 is a horizontal leaf , and all the half - rays @xmath428 give the vertical leaves .",
    "we note that all horizontal leaves are compact curves ( figure  [ fig : pole ] ) .",
    "the fundamental theorem we need is :    [ thm : strebel theorem ] let @xmath88 and @xmath159 be integers satisfying that @xmath429 and @xmath430 a smooth riemann surface of genus @xmath88 with @xmath159 marked points @xmath431 .",
    "choose an ordered @xmath159-tuple @xmath432 of positive real numbers .",
    "then there is a unique meromorphic quadratic differential @xmath385 on @xmath141 satisfying the following conditions :    1 .",
    "@xmath385 is holomorphic on @xmath433 .",
    "2 .   @xmath385 has a double pole at each @xmath392 , @xmath434 .",
    "the union of all noncompact horizontal leaves forms a closed subset of @xmath141 of measure zero . 4 .",
    "every compact horizontal leaf @xmath328 is a simple loop circling around one of the poles , say @xmath392 , and it satisfies @xmath435 where the branch of the square root is chosen so that the integral has a positive value with respect to the positive orientation of @xmath328 that is determined by the complex structure of @xmath141 .",
    "this unique quadratic differential is called the _ strebel differential_. note that the integral ( [ eq : compactlength ] ) is automatically a real number because of ( [ eq : horizontal leaf ] ) . every noncompact horizontal leaf of a strebel differential defined on @xmath141 is bounded by zeros of @xmath385 , and every zero of degree @xmath266 of @xmath385 bounds @xmath436 horizontal leaves ,",
    "as we have seen in example  [ ex : qdzero ] .    let @xmath437 be a noncompact horizontal leaf bounded by two zeros @xmath438 and @xmath439 of @xmath440 .",
    "then we can assign a positive real number @xmath441 by choosing a branch of @xmath442 near @xmath411 and @xmath443 so that the integral becomes positive .",
    "as before , the integral is a real number because @xmath403 is a horizontal leaf .",
    "we call @xmath444 the _ length _ of the _ edge _ @xmath403 with respect to @xmath385 .",
    "note that the length ( [ eq : leaf length ] ) is independent of the choice of the parameter @xmath445 .",
    "the length is also defined for any compact horizontal leaf by ( [ eq : compactlength ] ) . thus every horizontal leaf has a uniquely defined length , and hence the strebel differential @xmath385 defines a _ measured _ foliation on the open subset of the riemann surface that is the complement of the set of zeroes and poles of @xmath385 .",
    "around every marked point @xmath392 there is a foliated disk of compact horizontal leaves with length equal to the prescribed value @xmath446 .",
    "as the loop becomes larger in size ( but not in length , because it is a constant ) , it hits zeroes of @xmath385 and the shape becomes a polygon ( figure  [ fig : polygon ] ) .    let the polygon be an @xmath266-gon , @xmath447 the noncompact horizontal leaves surrounding @xmath392 , and @xmath328 a compact horizontal leaf around the point .",
    "then we have @xmath448 we note that some of the @xmath449 s may be the same noncompact horizontal leaf on the riemann surface @xmath141 .",
    "the collection of all compact horizontal leaves surrounding @xmath392 forms a punctured disk with its center at @xmath392 .",
    "glue all these punctured disks to noncompact horizontal leaves and the zeroes of the strebel differentials , and fill the punctures with points @xmath450 .",
    "then we obtain a compact surface , which is the underlying topological surface of the riemann surface @xmath141 .",
    "[ cor : cor to strebel ] let @xmath88 and @xmath159 be integers satisfying ( [ eq : gn condition 2 ] ) , and @xmath451 a nonsingular riemann surface of genus @xmath88 with @xmath159 marked points and an ordered @xmath159-tuple of positive real numbers .",
    "then there is a unique cell - decomposition @xmath452 of @xmath141 consisting of @xmath453 @xmath3-cells , @xmath454 @xmath0-cells , and @xmath159 @xmath284-cells , where @xmath453 is the number of zeroes of the strebel differential @xmath385 associated with ( [ eq : pointed riemann surface with ordered numbers ] ) , and @xmath455    the @xmath3-cells , or the _ vertices _ , of @xmath452 are the zeroes of the strebel differential @xmath385 of ( [ eq : pointed riemann surface with ordered numbers ] ) .",
    "the @xmath0-cells , or the _ edges _ , are the noncompact horizontal leaves that connect the @xmath3-cells .",
    "since each @xmath0-cell has a finite positive length and the union of all @xmath0-cells is closed and has measure zero on @xmath141 , the number of @xmath0-cells is finite .",
    "the union of all compact horizontal leaves that are homotopic to @xmath392 ( together with the center @xmath392 ) forms a @xmath284-cell , or a _ face _ , that is homeomorphic to a @xmath284-disk .",
    "there are @xmath159 such @xmath284-cells .",
    "the formula for the euler characteristic @xmath456 determines the number of edges .",
    "the @xmath0-skeleton , or the union of the @xmath3-cells and @xmath0-cells , of the cell - decomposition @xmath452 that is defined by the strebel differential is a ribbon graph .",
    "the cyclic order of half - edges at each vertex is determined by the orientation of the riemann surface .",
    "a vertex of the graph that comes from a zero of degree @xmath266 of the strebel differential has degree @xmath436 .",
    "thus the graph we are considering here does not have any vertices of degree less than @xmath17 . since each edge of the graph has the unique length by ( [ eq : leaf length ] ) ,",
    "the graph is a metric ribbon graph .",
    "let us give some explicit examples of the strebel differentials .",
    "we start with a meromorphic quadratic differential which is not a strebel differential , but nonetheless an important example because it plays the role of a building block .",
    "[ ex : meromorphic diff on p1 ] consider the meromorphic quadratic differential @xmath457 on @xmath2 .",
    "it has simple poles at @xmath3 and @xmath0 , and a double pole at @xmath4 .",
    "the line segment @xmath5 $ ] is a horizontal leaf of length @xmath458 .",
    "the whole @xmath2 minus @xmath5 $ ] and infinity is covered with a collection of compact horizontal leaves which are confocal ellipses @xmath459 where @xmath417 and @xmath460 are positive constants that satisfy @xmath461 we have @xmath462 under ( [ eq : ellipses ] ) .",
    "the length of each compact leaf is @xmath0 .",
    "[ ex : example m11 ] recall the _",
    "weierstrass elliptic function _ @xmath463 defined on the elliptic curve @xmath464 of modulus @xmath465 with @xmath466 , where @xmath467 and @xmath468 are defined by @xmath469 let @xmath256 be a coordinate on @xmath470 .",
    "it is customary to write @xmath471 and @xmath472 the quantities @xmath467 , @xmath468 and @xmath473 s satisfy the following relation : @xmath474 let us consider the case when @xmath475 .",
    "we have @xmath476 , @xmath477 , @xmath478 and @xmath479 .",
    "in particular , the elliptic curve is defined over @xmath480 .",
    "the weierstrass @xmath481-function maps the interior of the square spanned by @xmath482 biholomorphically onto the upper half plane , and the boundary of the square to the real axis ( see for example , @xcite ) .",
    "a strebel differential is given by @xmath483 the series expansion of ( [ eq : p - function ] ) tells us that the horizontal leaves near @xmath3 are closed loops that are centered at the origin .",
    "the differential @xmath385 has a double zero at @xmath484 , which we see from the weierstrass differential equation @xmath485 the real curve @xmath486 is a horizontal leaf , because on the edge @xmath487 the weierstrass function @xmath488 takes values in @xmath489 $ ] .",
    "the curve @xmath490 is also a horizontal leaf , because on the edge @xmath491 the function @xmath488 takes values in @xmath492 $ ] . in the above consideration we used the fact that @xmath488 is an even function : @xmath493 an extra @xmath39 symmetry comes from the transformation property @xmath494",
    "to prove that ( [ eq : strebel on ei ] ) is indeed a strebel differential , we just note that @xmath385 is the pull - back of the building block @xmath495 of ( [ eq : building block ] ) via a holomorphic map @xmath496 indeed , @xmath497 the inverse image of the interval @xmath5 $ ] is the degree @xmath37 ribbon graph with one vertex , two edges and one boundary component ( figure  [ fig : square ] ) .",
    "another interesting case is @xmath498 , which corresponds to @xmath499 , @xmath500 , and @xmath501 again the elliptic curve is defined over @xmath480 .",
    "the zeroes of @xmath488 are @xmath502 the weierstrass function @xmath488 maps the line segment @xmath503 onto @xmath5 $ ] , @xmath504 to @xmath505 , and @xmath506 to @xmath507 , respectively ( figure  [ fig : triangle ] ) .",
    "a strebel differential is given by @xmath508 and the non - compact leaves form a regular hexagonal network , which possesses a @xmath509-symmetry ( figure  [ fig : hexagon ] ) .",
    "we note that ( [ eq : strebel on eomega ] ) is the pull - back of the building block @xmath495 via a map @xmath510 indeed , we have @xmath511    we can now construct the canonical coordinate system by using the strebel differential once we give @xmath159 marked points on a riemann surface and an @xmath159-tuple of real numbers .",
    "let @xmath512 be the set of data of ( [ eq : pointed riemann surface with ordered numbers ] ) , and @xmath385 the strebel differential associated with the data .",
    "we recall that for every point of a vertical leaf there is a horizontal leaf intersecting perpendicularly at the point ( proposition  [ prop : existence of leaves ] ) . since the set of compact horizontal leaves of @xmath385 forms an open dense subset of @xmath141 , which is indeed the disjoint union of punctured open @xmath284-disks , every vertical leaf of @xmath385 extends to one of the points @xmath392 .",
    "in particular , a vertical leaf starting at a zero of @xmath385 should end at one of the poles .",
    "[ thm : canonical triangulation of a riemann surface ] the set of all vertical leaves that connect zeroes and poles of @xmath385 , together with the cell - decomposition @xmath452 of @xmath141 by the noncompact horizontal leaves , defines a _ canonical triangulation _ @xmath513 of @xmath141 .",
    "the cell - decomposition @xmath452 of @xmath141 defined by the noncompact horizontal leaves of @xmath385 defines a polygonalization of @xmath141 .",
    "each polygon figure  [ fig : polygon ] has a unique center , which is a pole of @xmath385 .",
    "the vertical leaves that connect zeroes and poles supply the edges necessary for a triangulation of each polygon ( figure  [ fig : polygontriang ] ) .",
    "let @xmath514 denote a ribbon graph consisting of zeroes of @xmath385 as vertices and noncompact horizontal leaves of @xmath385 as edges . by the property of the strebel differential",
    ", we have @xmath515 in particular , the closed surface associated with the ribbon graph @xmath514 is the underlying topological surface of the riemann surface @xmath141 . for every edge @xmath29 of @xmath514 ,",
    "there are two triangles of @xmath513 that share @xmath29 . gluing these two triangles along @xmath29",
    ", we obtain a diamond shape as in figure  [ fig : strip ] .",
    "this is the set of all vertical leaves that intersect with @xmath29 .",
    "let @xmath34 and @xmath46 be the endpoints of @xmath29 , and give a direction to @xmath29 from @xmath34 to @xmath46 .",
    "we allow the case that @xmath29 has only one endpoint . in that case",
    ", we assign an arbitrary direction to @xmath29 . for a point @xmath516 in the triangles ,",
    "the canonical coordinate @xmath517 maps the diamond shape to a strip @xmath518 of infinite height and width @xmath227 in the complex plane , where @xmath227 is the length of @xmath29 . we identify the open set @xmath519 as the union of two triangles on the riemann surface @xmath141 by the canonical coordinate @xmath256 ( figure  [ fig : strip ] ) .",
    "the local expression of @xmath385 on @xmath519 is of course @xmath520    let the degree of @xmath34 be @xmath266 .",
    "we note that every quadratic differential has an expression @xmath521 around a zero of degree @xmath522 .",
    "so we use ( [ eq : q at zero ] ) as the expression of the strebel differential @xmath385 on an open neighborhood @xmath523 around @xmath34 with a coordinate @xmath413 such that @xmath34 is given by @xmath524 . on the intersection @xmath525",
    "we have @xmath526 from ( [ eq : q in ue ] ) and ( [ eq : q at zero ] ) . solving this differential equation with the initial condition that @xmath424 and @xmath524 define the same point @xmath34",
    ", we obtain the coordinate transform @xmath527 where @xmath52 is an @xmath266th root of unity .",
    "thus @xmath519 and @xmath523 are glued on the riemann surface @xmath141 in the way described in figure  [ fig : glue z and w ] .",
    "since we have @xmath528 around a quadratic pole @xmath392 , we can choose a local coordinate @xmath529 on an open disk @xmath530 centered at @xmath392 such that @xmath531 the coordinate disk @xmath530 , which is the union of the horizontal leaves that are zero - homotopic to @xmath392 , can be chosen so that its boundary consists of a collection of edges @xmath532 for some @xmath533 .",
    "let @xmath534 be the canonical coordinate on @xmath535 .",
    "equations ( [ eq : q in ue ] ) and ( [ eq : q at pole pj ] ) give us a differential equation @xmath536 its solution is given by @xmath537 where @xmath403 is a constant of integration .",
    "since the edges @xmath532 surround the point @xmath392 , the constant of integration for each @xmath534 is arranged so that the solution @xmath529 of ( [ eq : u = z ] ) covers the entire disk .",
    "the precise form of gluing function of open sets @xmath535 s and @xmath530 is given by @xmath538 where the length @xmath539 satisfies the condition @xmath540    the open coordinate charts @xmath519 s , @xmath523 s and @xmath530 s cover the whole riemann surface @xmath141 .",
    "we call them the _ canonical coordinate charts_.    [ def : canonical coordinate system ] the _ canonical coordinate system _ of the data @xmath541 is the covering @xmath542 of the riemann surface @xmath141 by the canonical coordinate charts , where the union is defined by the gluing functions ( [ eq : z = w ] ) and ( [ eq : u = z final ] ) .",
    "we note that the canonical coordinate @xmath256 we have chosen for the strip @xmath519 around an edge @xmath29 depends on the direction of the edge .",
    "if we use the opposite direction , then the coordinate changes to @xmath543 where @xmath227 is the length of @xmath29 , as before .",
    "this change of coordinate does not affect the differential equations ( [ eq : diff eq z = w ] ) and ( [ eq : diff eq z = u ] ) , because @xmath544",
    "we have defined the space of metric ribbon graphs with labeled boundary components by @xmath545 the strebel theory defines a map @xmath546 where @xmath547 is the _ moduli space _ of riemann surfaces of genus @xmath88 with @xmath159 ordered marked points . in what follows ,",
    "we prove that the map @xmath73 is bijective .",
    "the case of @xmath291 is in many ways exceptional . for @xmath548 ,",
    "all strebel differentials are explicitly computable .",
    "thus we can construct the identification map @xmath549 directly .",
    "this topic is studied at the end of this section .",
    "we also examine the orbifold covering @xmath550 there .",
    "the product group @xmath153 acts naturally on @xmath551 .",
    "therefore it acts on the space @xmath552 through the bijection @xmath73 .",
    "however , the @xmath153-action on @xmath553 is complicated .",
    "we give an example in this section which shows that the action does not preserve the rational cells .",
    "[ thm : mgn = rggn ] there is a natural bijection @xmath554    the proof breaks down into three steps . in step  1 ,",
    "we construct a map @xmath555 we then prove that the map descends to @xmath556 by considering the action of the graph automorphism groups preserving the boundary order in step  2 . from the construction of step  1",
    "we will see that @xmath557 is a right - inverse of the map @xmath73 of ( [ eq : mgn to rggn ] ) , i.e. , @xmath558 is the identity of @xmath360 . in step",
    "3 we prove that @xmath557 is also a left - inverse of the map @xmath73 .",
    "our starting point is a metric ribbon graph @xmath231 with labeled boundary components .",
    "we label all edges , and give an arbitrary direction to each edge . to",
    "each directed edge @xmath53 of @xmath231 , we assign a strip @xmath559 of infinite length and width @xmath227 , where @xmath227 is the length of @xmath29 ( see figure  [ fig : strip2 ] ) .",
    "the open real line segment @xmath560 is identified with the edge @xmath53 .",
    "the strip @xmath561 has a complex structure defined by the coordinate @xmath256 , and a holomorphic quadratic differential @xmath562 on it .",
    "every horizontal leaf of the foliation defined by this quadratic differential is a horizontal line of length @xmath227 .",
    "if we use the opposite direction of @xmath53 , then @xmath561 should be rotated @xmath563 about the real point @xmath564 , and the coordinate is changed to @xmath565 .",
    "let @xmath34 be a degree @xmath266 vertex of @xmath15 .",
    "there are @xmath266 half - edges attached to @xmath34 , although some of them may belong to the same edge .",
    "let @xmath566 be the cyclic order of the half - edges chosen at @xmath34 .",
    "we give a direction to each edge by defining the positive direction to be the one coming out from @xmath34 , and name the edges @xmath567 .",
    "if an edge goes out as a half - edge number @xmath74 and comes back as another half - edge number @xmath47 , then we use the convention that @xmath568 , where @xmath569 denotes the edge @xmath48 with the opposite direction .",
    "we denote by @xmath570 the length of @xmath43 .",
    "let us place the vertex @xmath34 at the origin of the @xmath413-plane .",
    "we glue a neighborhood of the boundary point @xmath3 of each of the strips @xmath571 together on the @xmath413-plane by @xmath572    an open neighborhood @xmath523 of @xmath524 is covered by this gluing , if we include the boundary of each @xmath573 .",
    "it follows from ( [ eq : zeroglue ] ) that the expression of the quadratic differential @xmath574 changes into @xmath575 in the @xmath413-coordinate for every @xmath74 .",
    "so we define a holomorphic quadratic differential @xmath385 on @xmath523 by ( [ eq : q - differential at zero ] ) . note that @xmath385 has a zero of degree @xmath522 at @xmath524 . at least locally on @xmath523 , the horizontal leaves of the foliation defined by @xmath385 that have @xmath34 as a boundary point",
    "coincide with the image of the edges @xmath576 via ( [ eq : zeroglue ] ) .",
    "next , let us consider the case when edges @xmath577 form an oriented boundary component @xmath365 of @xmath15 , where the direction of @xmath578 is chosen to be compatible with the orientation of @xmath365 . here",
    "again we allow that some of the edges are actually the same , with the opposite direction .",
    "as before , let @xmath539 be the length of @xmath48 , and put @xmath579 this time we glue the upper half of the strips @xmath580 ( or the lower half , if the edge has the opposite direction ) into the unit disk of the @xmath529-plane by @xmath581 we note that the entire unit disk on the @xmath529-plane , which we denote by @xmath582 , is covered by this gluing , if the boundary lines of the strips are included .",
    "it follows from this coordinate transform that @xmath583 thus the holomorphic quadratic differential @xmath385 naturally extends to a meromorphic quadratic differential on the union @xmath584 which has a pole of order 2 at @xmath585 with a negative real coefficient .",
    "the horizontal leaves of the foliation defined by @xmath385 are concentric circles that are centered at @xmath585 , which correspond to the horizontal lines on @xmath586 through ( [ eq : poleglue ] ) .",
    "note that the length of a compact horizontal leaf around @xmath585 is always @xmath587 .",
    "now define a compact riemann surface @xmath588 by gluing all the @xmath523 s , @xmath582 s and the strips @xmath561 s by ( [ eq : zeroglue ] ) and ( [ eq : poleglue ] ) : @xmath589 since there are two directions for every edge @xmath29 , both the upper half part and the lower half part of a strip @xmath561 are included in the union of all @xmath582 s .",
    "thus the union ( [ eq : c gamma ] ) is compact .",
    "the riemann surface @xmath588 has @xmath590 marked points each of which is the center of the unit disk @xmath582 .",
    "the ordering of the boundary components of the ribbon graph determines an ordering of the marked points on the riemann surface .",
    "attached to each marked point we have a positive real number @xmath591 .",
    "the riemann surface also comes with a meromorphic quadratic differential whose local expressions are given by @xmath574 , ( [ eq : q - differential at zero ] ) , and ( [ eq : poledifferential ] ) .",
    "it is a strebel differential on @xmath588 .",
    "the metric ribbon graph corresponding to this strebel differential is , by construction , exactly the original graph @xmath231 , which has a natural ordering of the boundary components .",
    "thus we have constructed a map ( [ eq : inversemap ] ) .",
    "let us consider the effect of a graph automorphism @xmath592 on ( [ eq : c gamma ] ) .",
    "let @xmath593 be the marked points of @xmath588 , and @xmath594 the corresponding positive numbers .",
    "we denote by @xmath595 the edges of @xmath15 , and by @xmath596 the corresponding strips with a choice of direction .",
    "then the union of the closures of these strips cover the riemann surface minus the marked points : @xmath597 a graph automorphism @xmath598 induces a permutation of edges and flip of directions , and hence a permutation of strips @xmath596 and a change of coordinate @xmath599 to @xmath600 .",
    "if @xmath259 fixes a vertex @xmath34 of degree @xmath266 , then it acts on @xmath523 by rotation of angle an integer multiple of @xmath601 , which is a holomorphic automorphism of @xmath523 .",
    "the permutation of vertices induced by @xmath259 is a holomorphic transformation of the union of @xmath523 s .",
    "since @xmath259 preserves the boundary components of @xmath15 , it does not permute @xmath582 s , but it may rotate each @xmath582 following the effect of the permutation of edges . in this case ,",
    "the origin of @xmath582 , which is one of the marked points , is fixed , and the orientation of the boundary is also fixed .",
    "thus the graph automorphism induces a holomorphic automorphism of @xmath602 .",
    "this holomorphic automorphism preserves the ordering of the marked points .",
    "thus we conclude that ( [ eq : inversemap ] ) descends to a map @xmath557 which satisfies @xmath603 .",
    "we still need to show that @xmath604 is the identity map of @xmath605 , but this is exactly what we have shown in the previous section .",
    "this completes the proof of theorem  [ thm : mgn = rggn ] .",
    "let us consider the complex projective line @xmath606 with three ordered marked points , to illustrate the equality @xmath607 and the covering map @xmath608 the holomorphic automorphism group of @xmath606 is @xmath609 , which acts on @xmath606 triply transitively . therefore , we have a biholomorphic equivalence @xmath610 in other words , @xmath611 is just a point .",
    "choose a triple @xmath612 of positive real numbers .",
    "the unique strebel differential is given by @xmath613 where @xmath614 the behavior of the foliation of the strebel differential @xmath385 depends on the _ discriminant _",
    "@xmath615    @xmath616 .",
    "the graph is trivalent with two vertices and three edges , as given in figure  [ fig : case1 ] .",
    "the two vertices are located at @xmath617 and the length of edges @xmath618 , @xmath619 and @xmath620 are given by @xmath621 note that positivity of @xmath622 and @xmath620 follows from @xmath616 .",
    "the space of metric ribbon graphs with ordered boundary in this case is just @xmath623 because there is only one ribbon graph with boundary order of this type and the only graph automorphism that preserves the boundary order is the identity transformation .",
    "the natural @xmath624-action on the space of @xmath625 induces faithful permutations of @xmath618 , @xmath619 and @xmath620 through ( [ eq : cace1 length ] ) .",
    "the geometric picture can be easily seen from figure  [ fig : case1a ] .",
    "the normal subgroup @xmath509 of @xmath624 acts on @xmath2 as rotations about the axis connecting the north pole and the south pole , where the poles of figure  [ fig : case1a ] represent the zeroes ( [ eq : roots ] ) of the strebel differential .",
    "note that the three non - compact leaves intersect at a zero of @xmath385 with @xmath626 angles .",
    "the action of the whole group @xmath624 is the same as the dihedral group @xmath627 action on the triangle @xmath628 . as a result , @xmath624 acts faithfully on @xmath629 as its group of permutations .",
    "the special case @xmath630 is of particular interest .",
    "the strebel differential ( [ eq : strebel differential on p1 ] ) is the pull - back of the building block @xmath495 of ( [ eq : building block ] ) via a rational map @xmath631 and the ribbon graph figure  [ fig : case1 ] is the inverse image of the interval @xmath5 $ ] of this map .",
    "there are three ribbon graphs with labeled boundary components in this case , whose underlying graph has 1 vertex of degree @xmath37 and two edges ( figure  [ fig : case2 ] ) .",
    "the vertex is located at @xmath633 .",
    "each of the three graphs corresponds to one of the three factors , @xmath634 , @xmath635 , and @xmath636 , of the discriminant being equal to @xmath3 .",
    "for example , when @xmath637 , and the lengths of the edges are given by @xmath638 the @xmath624-action on @xmath639 interchanges the three types of ribbon graphs with boundary order in case  2 .",
    "the automorphism group of the ribbon graph of case  2 is @xmath39 , and only the identity element preserves the boundary order .",
    "the underlying graph is of degree @xmath17 with two vertices and three edges , but the topological type is different from case  1 ( figure  [ fig : case3 ] ) .",
    "the two vertices are on the real axis located at @xmath641 there are again three different ribbon graphs with ordered boundary , each of which corresponds to one of the three factors of the discriminant being negative .",
    "for example , if @xmath642 , then the length of edges are given by @xmath643 @xmath620 is positive because @xmath640 .    in case  2 and case  3",
    ", the automorphism group of the ribbon graph without ordered boundaries is @xmath39 . in every case",
    ", we can make the length of edges arbitrary by a suitable choice of @xmath644 .",
    "the discriminant @xmath645 divides the space @xmath623 of triples @xmath644 into 7 pieces : 3 copies of @xmath623 along the @xmath646 , @xmath647 and @xmath648 axes where the discriminant is negative , the center piece of @xmath623 characterized by positivity of the discriminant , and 3 copies of @xmath649 separating the 4 chambers that correspond to the zero points of the discriminant ( figure  [ fig : 03partition ] ) : @xmath650    the product group @xmath623 acts on the space of @xmath612 by multiplication , but the action does not preserve the canonical rational cell - decomposition of @xmath651 .",
    "indeed , this action changes the sign of the discriminant .",
    "the three @xmath623 s along the axes are equivalent under the @xmath624-action on the space of @xmath644 , and each has a @xmath91-symmetry .",
    "the three walls separating the chambers are also equivalent under the @xmath624-action , and again have the same symmetry .",
    "only the central chamber is acted on by the full @xmath624 .",
    "thus we have @xmath652    the multiplicative group @xmath653 acts naturally on the ribbon graph complexes @xmath223 and @xmath552 by the multiplication of all the edge lengths by a constant .",
    "since the graph automorphism groups @xmath36 and @xmath80 act on the edge space @xmath232 through a permutation of coordinate axes , the multiplicative @xmath653-action and the action of the graph automorphism groups commute . therefore , we have well - defined quotient complexes @xmath654 and @xmath655 .",
    "since @xmath232 is a cone over the @xmath656-dimensional regular @xmath67-hyperhedron @xmath657 and since the graph automorphism groups act on the hyperhedron , the quotient of each rational cell is a rational simplex @xmath658 thus the quotient complexes @xmath654 and @xmath655 are rational simplicial complexes .",
    "these quotient complexes are orbifolds modeled on @xmath659 where @xmath132 denotes either @xmath36 or @xmath80 . from ( [ eq : space of expansions ] ) , we have @xmath660 since @xmath657 is homeomorphic to @xmath661 , the quotient complexes are topological orbifolds .    on the moduli space @xmath662 , the multiplicative group @xmath653 acts on the space of @xmath159-tuples @xmath153 through the multiplication of constants .",
    "the action has no effect on @xmath547 .",
    "thus we have the quotient space @xmath663 the bijection of theorem  [ thm : mgn = rggn ] is equivariant under the @xmath653-action , and we have @xmath664 this gives us an orbifold realization of the space @xmath665 as a rational simplicial complex .",
    "when @xmath666 , the space @xmath667 consists of just a point .",
    "therefore , we have a rational simplicial complex realization @xmath668",
    "we have shown that a metric ribbon graph defines a riemann surface and a strebel differential on it .",
    "one can ask a question : when does this riemann surface have the structure of an algebraic curve defined over @xmath1 ? using belyi s theorem @xcite , we can answer this question .",
    "[ cor : trivalent belyi map ] a nonsingular riemann surface @xmath141 has the structure of an algebraic curve defined over @xmath1 if and only if there is a belyi map @xmath670 such that the ramification degrees over @xmath3 and @xmath0 are @xmath17 and @xmath284 , respectively",
    ". such a belyi map is called _",
    "trivalent_.    let @xmath141 be an algebraic curve over @xmath1 and @xmath671 a belyi map .",
    "then the composition @xmath672 of @xmath673 and @xmath674 of ( [ eq : rational map of p1 to p1 ] ) gives a trivalent belyi map .",
    "we first note that @xmath675 thus the ramification points of @xmath676 are @xmath677 , @xmath678 , @xmath679 , and @xmath680 the critical values of @xmath676 are @xmath681 and @xmath682 and the ramification degrees at @xmath0 and @xmath3 are @xmath284 and @xmath17 , respectively .",
    "@xmath676 sends @xmath683 to @xmath4 , at which it is also ramified .",
    "since @xmath673 is not ramified at @xmath684 , @xmath685 , @xmath458 , or @xmath284 , the composed map @xmath259 is ramified only at @xmath3 , @xmath0 , and @xmath4 with the desired ramification degrees .    the inverse image of the interval @xmath5 $ ] via @xmath676 is a ribbon graph of figure  [ fig : belyi03 ] .",
    "this graph is obtained by adjoining two circles of radius @xmath0 that are centered at @xmath3 and @xmath0 together with a common boundary at @xmath458 .",
    "[ thm : riemann surface over q - bar ] let @xmath231 be a metric ribbon graph with no vertices of degree less than @xmath17 .",
    "it gives rise to an algebraic curve defined over @xmath1 if all the edges have the same length , which can be chosen to be @xmath0 .",
    "the metric ribbon graph determines a unique belyi map @xmath686 such that the child s drawing associated with @xmath259 is the edge refinement of @xmath687 .",
    "the strebel differential @xmath385 on @xmath588 is the pull - back of the building block @xmath495 of ( [ eq : building block ] ) via the belyi map , i.e. , @xmath688      let @xmath231 be a metric ribbon graph whose edges all have length @xmath0 , @xmath588 be the riemann surface defined by the metric ribbon graph , and @xmath385 the strebel differential on @xmath588 whose noncompact leaves are @xmath231 .",
    "we take the canonical triangulation @xmath513 of theorem  [ thm : canonical triangulation of a riemann surface ] and the canonical coordinate system of definition  [ def : canonical coordinate system ] .    for every edge @xmath29 of @xmath231",
    ", we define a map from a triangle with base @xmath29 into @xmath2 as follows .",
    "the triangle can be identified with the upper half of the strip of figure  [ fig : strip2 ] .",
    "so we define @xmath689 we note that ( [ eq : map from strip to p1 ] ) is equivalent to @xmath690        at a vertex @xmath34 to which @xmath29 is incident , the canonical coordinate is given by @xmath694 as in ( [ eq : zeroglue ] ) , where @xmath266 is the degree of @xmath34 and @xmath47 is an integer . in terms of the @xmath413-coordinate ,",
    "the map ( [ eq : map from strip to p1 ] ) is given by @xmath695 this expression does not depend on the choice of an edge attached to @xmath34 , hence the map ( [ eq : map from strip to p1 ] ) extends consistently to a neighborhood of @xmath34 .",
    "the map is ramified at @xmath696 with local ramification degree @xmath266 .",
    "finally , let us consider a boundary component of @xmath231 consisting of @xmath47 edges . from ( [ eq : poleglue ] )",
    ", we have a local coordinate @xmath529 on the boundary disk that is given by @xmath697 where @xmath74 is an integer . then @xmath698 noting that @xmath699 we have @xmath700 this map sends @xmath585 to @xmath701 , and is independent of the choice of edge around @xmath585 and branch of the logarithm function .",
    "the map ( [ eq : belyi map u to p1 ] ) is equivalent to the relation @xmath702 we have thus shown that the map ( [ eq : map from strip to p1 ] ) extends to a holomorphic map @xmath259 from the whole riemann surface @xmath588 onto @xmath2 that is ramified only at @xmath703 .",
    "the unique strebel differential @xmath385 is given by @xmath704 .",
    "conversely , let @xmath141 be a nonsingular algebraic curve defined over @xmath1 .",
    "let @xmath669 be a trivalent belyi map .",
    "then the inverse image of the interval @xmath5 $ ] via @xmath259 is the edge refinement of a trivalent metric ribbon graph on @xmath141 whose edge length is @xmath0 everywhere .",
    "it is the union of noncompact leaves of the strebel differential @xmath704 on @xmath141 .",
    "starting from this child s drawing , we recover the complex structure of @xmath141 .",
    "theorem [ thm : riemann surface over q - bar ] does not completely characterize which metric ribbon graphs correspond to algebraic curves defined over @xmath1 . furthermore , in grothendieck s _",
    "dessin denfant _ graphs which have vertices of degree 2 and 1 also appear .",
    "it is possible to incorporate the vertices of degree 2 coming from these child s drawings in terms of usual ribbon graphs ( those with no vertices having degree less than 3 ) by sharpening the statement of the theorem as follows .",
    "[ cor : degree 2 graphs ]",
    "let @xmath231 be a metric ribbon graph , such that the ratios of the lengths of its edges are all rational , ( so they can be chosen to be positive integers ) . then there is a unique belyi map @xmath705 , such that if @xmath706 is the metric graph obtained by replacing each edge of length @xmath159 with @xmath159 edges of length 1 by inserting @xmath707 vertices of degree 2 in the edge , then the child s drawing associated with @xmath259 is the edge refinement of @xmath706 .",
    "in addition , the strebel differential @xmath385 on @xmath588 is given by @xmath708 .",
    "essentially , the only change in the proof of the theorem needed is to replace the map @xmath709 from the strip associated with an edge @xmath29 with the map @xmath710 .",
    "this will add @xmath707 additional zeros on the edge , each with ramification degree @xmath284 .    to obtain the complete classification of metric ribbon graphs which correspond to algebraic curves defined over @xmath1",
    ", we shall have to consider ribbon graphs which have vertices of degree 1 .",
    "in the theory of strebel differentials , vertices of degree 1 correspond to poles of order 1 of the quadratic differential .",
    "there is a uniqueness theorem concerning strebel differentials which have poles of order at most 2 as well .",
    "see theorem 7.6 in @xcite for a precise statement of the result .    for our purposes , we really only need to address the question of how to construct a riemann surface corresponding to a metric ribbon graph .",
    "the reader can easily verify that the construction of a riemann surface corresponding to a metric ribbon graph given in theorem [ thm : mgn = rggn ] still applies when we allow the graphs to have vertices of degree 1 or 2 .",
    "furthermore , the construction also yields a quadratic differential , which has poles of order 1 for vertices of degree 1 , and neither a pole nor a zero for vertices of degree 2 ( although they will lie on the critical trajectories ) .",
    "the same methods as in theorem [ thm : riemann surface over q - bar ] allow one to construct a belyi map from the riemann surface corresponding to this more general type of ribbon graph , by associating the metric ribbon graph with all edges having length 1 to the graph .",
    "putting this all together , we come up with the following .",
    "this correspondence is given as follows .",
    "a ribbon graph @xmath15 corresponds to a metric ribbon graph @xmath711 with all edges having length 1 , giving rise to a riemann surface @xmath712 and a strebel differential @xmath385 which is the pullback of the quadratic differential @xmath495 by the unique belyi map from @xmath712 to @xmath2 whose associated child s drawing is the edge refinement of @xmath713 .",
    "moreover , this correspondence between ribbon graphs and belyi maps agrees with the grothendieck correspondence .",
    "grothendieck s use of the terminology _ child s drawing _ to illustrate the relationship between graphs and algebraic curves emphasizes how strange and beautiful it is that a deep area of mathematics can be described in such simple terms . in our construction , we have shown how to take a child s drawing , associate a metric ribbon graph to it , construct a riemann surface equipped with a quadratic differential , as well as a belyi map from this surface to @xmath2 .",
    "it is amazing how much information is concealed within such a simple picture ."
  ],
  "abstract_text": [
    "<S> it is well known that there is a bijective correspondence between metric ribbon graphs and compact riemann surfaces with meromorphic strebel differentials . in this article </S>",
    "<S> , it is proved that grothendieck s correspondence between _ </S>",
    "<S> dessins denfants _ and belyi morphisms is a special case of this correspondence . for a metric ribbon graph with edge length @xmath0 , an algebraic curve over @xmath1 and </S>",
    "<S> a strebel differential on it is constructed . </S>",
    "<S> it is also shown that the critical trajectories of the measured foliation that is determined by the strebel differential recover the original metric ribbon graph . </S>",
    "<S> conversely , for every belyi morphism , a unique strebel differential is constructed such that the critical leaves of the measured foliation it determines form a metric ribbon graph of edge length @xmath0 , which coincides with the corresponding dessin denfant . </S>"
  ]
}