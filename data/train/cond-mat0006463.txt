{
  "article_text": [
    "in recent years many microsimulation models of financial markets are being developed @xcite ( see @xcite for a review ) .",
    "all these models emphasize some aspects of the traders and their behaviour . in @xcite agents",
    "aggregate in percolation lattices to model the tendency of traders to imitate each other ; in a variant @xcite of this model the agents are allowed to diffuse on the lattice to induce autocorrelation in volatility ; in @xcite the agents are equipped with a capital that they reinvest and accumulate while in @xcite the authors distinguish among liquidity and stocks at the current nominal price . moreover ,",
    "some models ( the first example is found in @xcite ) take into account the different tendency to follow a _ perceived price _ for the assets while @xcite illustrates different strategies for value trades some of which are much more realistic than the simple random buy / sell / inactive choice of @xcite .",
    "the present model incorporated many of these features into a single versatile model .",
    "the main goal is to give an easy way to implement different key issues in modeling the stock market , to understand the relevance and the mutual influence of certain factors that other models have treated separately , and to investigate the necessary and sufficient conditions determining the factors which actually drive the empirical observed facts in real markets .",
    "the word `` agents '' in the title of this article can be misleading due to the fact that traders in financial markets are also called _ agents_. instead we refer to the idea of agents in the `` agent - based models '' in the simulation and modeling paradigm .",
    "the modeling and simulation of real systems consisting of agents that cooperate with each other has emerged as an important field of research .",
    "they are regarded as a consistent paradigm enabling an important step forward in empirical sciences , technology and theory @xcite .",
    "to model the dynamics of a complex system composed of interacting entities with their internal complex structure and dynamics has many appealing points : self organization strategies and decentralized control , emergent behaviour , autonomous behaviour , cooperative capacity and aggregation , and spatial mobility .",
    "the purpose of the model hereafter described is to provide a relatively simple description of the price formation in a stock market .",
    "the agents paradigm is most suited to accomplish this task .",
    "our personal experience in modeling other complex systems rather than financial markets ( in biology and in particular in immunology @xcite ) tell us that complex systems need versatile and powerful methods to be simulated with a certain degree of realism .",
    "this paper is organized as follows : in section [ md ] we will present the model , in section [ discussion ] we will discuss its dynamics presenting the results of some simulations and in section [ conclusions ] we point out some further developments .",
    "in this model we consider two kinds of agents representing what are called _ chartists _ and _ fundamentalists _ @xcite .",
    "the first are traders and speculators whose strategy depends exclusively on the price history .",
    "they are known also as _",
    "technical traders_. for the time being , we model the chartists as traders who base their decision only on the `` current '' value of the price and not on a real historical evaluation of the `` trend '' .",
    "the other kind of traders , the fundamentalists , consider the `` fundamental '' value to determine the `` right '' price of an asset .",
    "to do so we consider an artificially generated time series as the perceived just price for the traded asset .",
    "+ fundamentalists are also called _ value - traders_. value - strategies are based on perceived value , that is a model for what something ought to be worth , which not necessarily corresponds to the actual value .",
    "the perceived value is inherently subjective and at a first approximation it is considered external information .",
    "basically , value strategies tend to buy when an asset is undervalued and sell when it is over - valued .",
    "this distinction between the two kind of traders is mostly reflected in the different way they decide , at each time step , to buy or to sell a stock .",
    "this will be treated in section [ trading ] .",
    "each agent @xmath0 is represented by some attributes .",
    "the order at time @xmath1 @xmath2 , indicates respectively the decision to buy , to sell or to stay inactive .",
    "the capital @xmath3 of agent @xmath0 at time @xmath1 is the current amount of money or credits .",
    "each agent starts with a certain capital of money with which ( s)he can buy stocks .",
    "the decision to buy / sell is then constrained by the availability of stocks to be sold or funds to buy other stocks .",
    "agents reinvest their profit and accumulate capital .",
    "the number of owned stocks of agent @xmath0 is indicated by @xmath4 . at each time step",
    ", the owned stocks account for the actual wealth of the trader with the current nominal price of the asset @xmath5 .    along with the agents we need to define how an asset is represented in our artificial stock market ,",
    "that is , how the price is determined .",
    "the current price @xmath5 is computed every time step by a single market maker .",
    "while the traders observe the actual price or the perceived price and submit orders @xmath6 , the market maker fills all orders at the new price @xmath7 according to a certain increasing function of the excess demand @xmath8 where @xmath9 denotes the total excess demand a time @xmath1 .",
    "the form of the function @xmath10 is usually very complicated and also takes into account exogenous factors ( for example the market maker wants to adjust the price so as to eliminate eventual profit opportunities ) . for sake of simplicity",
    "we set the new price proportional to the square root of total supply and demand ( as in @xcite ) @xmath11 on the other side , to model the fundamentalist behaviour , we need to define the perceived value @xmath12 of the asset .",
    "this include an exogenous source of information hitting the market , thus @xmath12 can be arbitrarily modeled as an exogenous stochastic process ( @xcite ) with the relative changes drawn from a gaussian with zero mean and standard deviation @xmath13 : @xmath14 where @xmath15 .",
    "note that the fundamental value @xmath12 is perceived at the same time and in the same way by all the fundamentalist traders .",
    "in @xcite also the case in which there are diverse perceived values is studied .",
    "+ at each time step both @xmath5 and @xmath12 are updated as specified above . in particular @xmath5",
    "is updated with eq([pricing ] ) where the strategy @xmath6 for each agent @xmath0 is determined by the trading rule described in the next section .",
    "the time corresponding to a single iteration should be thought as the time scale on which the fastest traders observe and react to price , e.g. , a minute to a day . in section [ discussion ] we will determine approximatively the time scale of the model just looking at the outcome of a simulation .",
    "this section describes the logic which rules the trading activity . at each time",
    "step each agent decides , independently from the others , if to buy , to sell or not to trade .",
    "the probability to stay inactive is @xmath16 where @xmath17 is the activity parameter as in @xcite . in the case",
    "they choose to trade , a different decision path is followed by the two types of traders .",
    "[ [ fundamentalist - strategy ] ] fundamentalist strategy + + + + + + + + + + + + + + + + + + + + + + +    fundamentalists tend to follow the `` right '' price @xmath12 . at each time",
    "step the decision to buy or sell proceeds as follows : 0.2cm(a ) if they own stocks then they check if it is appropriate to sell : if @xmath18 then they sell , otherwise they buy another stock . if they can not buy because no money is left , then they stay inactive .",
    "0.2cm(b ) in the case they do not own any stock , they check if it is appropriate to buy , that is , if @xmath19 .",
    "if @xmath19 and if they have enough money , they buy , otherwise they stay inactive .",
    "0.2cmnote that this is similar to the `` order - based value strategy '' in @xcite that buys _ until prices match values_. that strategy is consider unrealistic because it is not bounded by any risk constraint . in the present rule , instead , the upper / lower bound is given respectively by the limited amount of capital of the agents and by the number of stocks they own .",
    "[ [ chartist - strategy ] ] chartist strategy + + + + + + + + + + + + + + + + +    chartists follow the market price @xmath5 .",
    "they are not influenced by any external source of information . at each time step",
    "they decide as follows : 0.2cm(a ) if they own stocks , then they ask if it is appropriate to sell , that is , if the average price they paid for all the stocks they have bought up to then is lower than @xmath5 .",
    "for example if one has invested @xmath20 ( with @xmath21 ) in two stocks and if @xmath22 then selling one of those stock will be a profit opportunity . if this does not hold and ( s)he has money , ( s)he will buy another stock .",
    "0.2cm(b ) in the case they do not own stocks , they simply flip a coin to decide whether to buy or to do nothing .    0.2cmcase ( b ) gives a larger degree of randomness to the behaviour of the chartists .      at this stage of formulation",
    "the agents follow independent strategies .",
    "thus , the excess demand @xmath23 is the sum of independent identically distributed random variables and for the central limit theorem determines a gaussian distribution of the histogram of log - return which is different from what is observed in the real markets @xcite .    to obtain a deviation from normality we need to take into account _ herding _ behaviour that has already been demonstrated to determine ( at least in part ) the fat tail property of the distribution of returns @xcite",
    "+ instead of determining a priori the clusters distribution as in percolation models we just allow the agents to diffuse on the grid and to aggregate inside each single lattice site ( in @xcite self - organized percolation is used to have percolating clusters without setting the system to the critical point ) .    to give spatial mobility to the agents we model the market as a _ lattice",
    "gas_. agents are placed randomly on a regular hexagonal ( honeycomb ) two - dimensional lattice @xmath24 ( six links at @xmath25 ) with toroidal boundary conditions .",
    "each site of the lattice may potentially contain all the agents . at each time step , agents diffuse uniformly to a neighboring site .",
    "the diffusion determines a re - shuffling of agents inside each single lattice site and changes the impact on the price fluctuations .",
    "now , the decision of each agent to buy , sell or stay inactive is determined in two phases : first , each agent makes his choice according to his actual situation and potential benefit from the activity as specified by the trading strategy in section [ trading ] , then , in the second phase , the single agent s strategy is aggregated to a simple collective strategy . in this last phase",
    "the agent s decisions @xmath6 are weighted by the _ influence strength _",
    "@xmath26 in a kind of proportional vote described below .",
    "+ in the spirit of nowak et al .",
    "@xcite ( see also @xcite ) the decision of each agent affects and gets affected by other agents on the basis of its influence strength .",
    "the influence strength of agent @xmath0 is represented as a real number @xmath26 .",
    "if we assign a much larger influence to some traders among the totality ( call them _ leaders _ ) , the dynamics of the model will be dependent on how many leaders are present .",
    "leaders are chosen uniformly among the two classes of traders , chartists and fundamentalists .",
    "we represent a group of traders by those agents contained in same lattice site .",
    "so , each group of traders forms a collective system .",
    "we also want a group to be dominated by a _ leader _ so that we can set the number of leaders equal to @xmath27 given that @xmath28 where @xmath29 indicates the total number of agents .",
    "the influence among agents found in the same lattice site works as follows : each agent @xmath0 imposes his / her strategy according to the influence strength @xmath26 . for each @xmath30 determined by the trading strategy",
    "discussed above , we sum the influence strength of each agent that is following strategy @xmath31 and we normalize it to the total so to get values between zero and one to be interpreted as probabilities ( @xmath32=1 $ ] ) : @xmath33 = {                \\sum_{i : x^{(i)}=x } s^{(i ) }                % \\mathrel{\\mathop{\\sum}_{i : x^{(i)}=x } } s^{(i ) }           } /{\\sum_i",
    "s^{(i ) } } \\label{randweel}\\ ] ] where the index @xmath0 runs over all agents contained in that lattice site",
    ". then we update agents strategy @xmath34 using a _ random wheel _ with probability @xmath35 $ ] , @xmath36 $ ] and @xmath37 $ ] given by eq([randweel ] ) .",
    "a collective system arises from the coherent behaviour of a group of strongly interacting constituents .",
    "it also has a weak external coupling . in our case ,",
    "the collective can be treated as an individual whose strategy has a distribution of buy / sell / inactive which is determined by the single agent s actual strategy @xmath34 through eq([randweel ] ) .",
    "this means that if exactly one agent is a leader and he has chosen strategy @xmath38 then @xmath39 \\gg pr[x]$ ] for the other choices @xmath31 .",
    "thus , the fraction of agents in that collective that will follow strategy @xmath38 is large .",
    "if more than one leader , say two , is present in the same site and their decision is different , then they will compete to determine the majority strategy . on average half of the traders",
    "will follow one leader and the other half will follow the other .",
    "and so on for the other possibilities . in general ,",
    "if we set more than one single leader in each site ( on average ) , their competition will destroy the effects of the herding behaviour .",
    "this determines , as confirmed by numerical simulations , a gaussian distribution of returns .",
    "+ in conclusion we decide to set on average a single leader ( or less ) in each lattice site .",
    "it is worth to note that even in this case the dynamics of each collective group is equivalent to that of a single agent ( the leader ) with combined capital .",
    "following this reasoning one would expect a distribution of return with no fat tails at all .",
    "in fact the effect of the collective strategies of the leaders with combined capital would end up to zero when summed over the whole grid just because the uniformity of the collectives dimension which is about @xmath40 on average .",
    "the results show a clear deviation from a gaussian instead . why this happens ?",
    "the answer is found considering the synergy between the trading rule of section [ trading ] and the collective formation mechanism described in [ aggregate ] ; the collective groups influenced by a fundamentalist leader are coupled ( weakly , but they do ) by means of the fundamental price that is perceived by all of them equally .",
    "so , while the _ chartists collectives _ , being totally uncoordinated , only produce noise , it happens that fundamentalists leaders occasionally end up with the same decision to buy or sell , driving a large fraction of all the traders to follow the same decision .",
    "the re - shuffling given by the diffusion of agents can also be interpreted as a change of preference , in the same way people decide to trust to another brokerage agency or bank . moreover",
    ", not all lattice sites will contain a leader . in these `` leader free '' sites",
    "no collective if formed and the behaviour of the agents is totally independent .",
    "another remarkable mechanism given by the diffusion is that one agent that leaves a group whose leadership is fundamentalist for a group whose leadership is chartist will end up in a _ behaviour s change _ much like the fundamentalist - noisy switch in @xcite .",
    "when the number of fundamentalists is higher than that of chartists , the price @xmath5 tracks closely the perceived value @xmath12 .",
    "this is both trivial and unrealistic .",
    "in fact , evidence from real market data suggests that , while prices track values over the very long term , large deviations are the rule rather than the exception @xcite .",
    "the opposite situation results in too random fluctuations given the random behaviour of the chartists with the price that does not follows the value .",
    "so , a non trivial dynamics is obtained for @xmath41 . in this case",
    "we observe periods in which the price follows the fundamental price followed by periods of apparently independent fluctuations .",
    "for this purpose we set @xmath42 and @xmath43 for a certain @xmath44 .",
    "the value of this parameter is found observing that the collective dynamics depends on its dimension .",
    "if the collective systems are too small we do not get any herding behaviour .    to avoid too large fluctuations of the price around the fundamental price",
    ", we can also get rid of another parameter and set the activity @xmath45 .",
    "figure [ price ] refers to a simulation with @xmath46 and @xmath47 running for @xmath48 time steps .",
    "the influence strength of the leader is set to 100 while the remaining agents have influence strength one .",
    "the diffusion speed is set to @xmath49 . as in @xcite half of",
    "the agents start with one stock while the remaining with no stocks . in this way",
    "we obtain a balance between an initial number of people willing to sell and people willing to buy that would produce an artificial initial bubble or valley whose amplitude depends on the number of market participants . besides it is worth to note that the initial amount of capital each agent is equipped with , induces the ability of the market price @xmath5 to follow the fundamental value @xmath12 when this strongly deviates from the initial value @xmath50 .",
    "to see this fact just consider the case in which the agents own little initial capital , then @xmath5 is limited by the global capacity of the agents to buy .",
    "on the other hand , the price @xmath5 is limited from below by the amount of initial stocks we equip the agents with ; the greater it is , the larger will be a potential fall of the price @xmath5 to follow the fundamental value @xmath12 .",
    "these and other related questions will be investigated elsewhere .",
    "another consequence coming from the constraint given by the availability of funds / stocks is that , given the trading rule described above , the activity of the agents is not uniform .",
    "in fact , agents may end up with the decision to stay inactive either if they want to sell but they do not own stocks or they want to buy but they do not have money .",
    "figure [ price ] shows the price @xmath5 to follow the fundamental price @xmath12 apart of some large occasional deviations .",
    "the standard deviation of the price is @xmath51 while @xmath52 giving an _ excess volatility _ of 2.3% .",
    "+ in the small chart at the bottom of the same figure we show the traded volume @xmath53 computed each time step ( in contrast to reality where it is computed every certain period of time , e.g. , day or week but not instantaneously ) . because in this model we do not require to match the sell / buy orders , we compute the volume as @xmath54 .",
    "in fact the model does not require that each buy order should match a sell order because the balance is assured to be made involving a market maker outside the model itself .",
    "the figure shows an increase in volume when @xmath55 because , according to the trading rule , fundamentalists trade much more in proximity of the fundamental value .",
    "this is opposed to periods in which they either ( a ) sell all stocks they own because the price is higher than the perceived value and wait to buy a new stock when the price is lower than its expected value or ( b ) they have already invested all the capital and can not buy other stocks even if appropriate ( see also plots of wealth [ wealth ] ) .",
    "figure [ wealth ] bottom panel shows the average wealth per agent computed as the sum of both liquidity and stocks for the actual nominal price of all agents .",
    "the upper plot shows the average profit per capita and the middle plot the average number of stocks per capita .",
    "it seems that a kind of synchronization exist between chartists and fundamentalist : when one buys the other sells .",
    "this is given by the balance of the fundamentalists to the escaping force of the chartists .",
    "in fact fundamentalists trade to put the market on track again . in this view",
    "the chartists globally exercise a great indirect influence on the fundamentalists actions .",
    "the same phenomena are observed in lls s model @xcite taking into account fundamentalists and trend followers ( they call them _ extrapolating investors _ ) .    0.1 cm to better investigate the final distribution of capital we run a large simulation involving two million agents and running for 15000 time steps .    in figure [ weahis ]",
    "is shown the histogram of agent s wealth - change distribution .",
    "it shows a power law in the central part with slope -1.3 and wide tails .",
    "so the central part of the distribution is consistent with a pareto - like distribution @xcite .",
    "it is noticeable the fact that the initial uniform distribution ( all agents start with same capital ) is strongly reshaped over a sufficiently long run ( indeed over shorter run the final distribution of wealth is gaussian - like , not shown ) .",
    "0.1cmthis qualitative picture of the model dynamics must be enhanced by a more quantitative assessment that the model reproduces the features of market price time series .",
    "plot [ histo ] shows the histogram of log - return @xmath56 for the same simulation of figure [ price ] and [ wealth ] .",
    "the excess kurtosis of the distribution is 4.58 .",
    "moreover , the histogram has fat tails and power law decay @xmath57 in the central part leading to exponent @xmath58 ( see inset plot ) roughly consistent with empirical studies @xcite .",
    "figure [ histo2 ] show the comparison of the return of the market price @xmath5 and those of the fundamental price @xmath12 .",
    "the deviation is clear ; the exogenous source of information is transformed into something else by the endogenous dynamics of the market participant as already demonstrated in @xcite .",
    "0.1cmanother relevant property of market price dynamics is the absence of correlation of return and the persistence of long range correlation of volatility @xcite .",
    "volatility of stock price changes is a measure of how much the market is liable to fluctuate and can be defined in different ways . in the following",
    "we define the volatility as the square of return @xmath59 .",
    "figure [ volatility ] shows the autocorrelation function of volatility defined as @xmath60/ [ < v_t^2",
    "> - < v_t>^2 ] $ ] .",
    "empirical studies show that the autocorrelation of volatility in real data follows a power law decay with exponent between 0.1 and 0.3 @xcite .",
    "instead we found a slope @xmath61 that is one order of magnitude less .",
    "other empirical studies of large data bases @xcite show that the cumulative distribution of the volatility is consistent with a power - law asymptotic behaviour characterized by an exponent @xmath62 .",
    "figure [ volathist ] shows the histogram of volatility computed for both fundamental @xmath12 and actual price @xmath5 .",
    "in particular a regression in log - log shows an exponent of -1.67 of the histogram of @xmath63 .    in summary , the model is not yet able to perfectly match some empirical findings and more work is required .",
    "0.1cmto obtain a rough estimation of the time scale of the simulated market we filtered out the time series of return @xmath64 from the complete series at intervals of increasing size @xmath65 . in figure",
    "[ scale ] we show the histogram of the filtered series for different time lags ( this is a slightly simpler procedure than the time - aggregation used in @xcite ) .",
    "a crossover to a gaussian is observed for @xmath66 suggesting that the time scale of the simulation shown in all figures but fig .",
    "[ weahis ] is of the order of half day per time step . indeed , empirical observations tell that a crossover to a gaussian is found on time scales approximatively of one month @xcite .",
    "there is no doubt that a more rigorous argument would be given estimating the excess kurtosis of the filtered series and determining the crossover when the filtered series with a certain @xmath65 have excess kurtosis about zero .",
    "unfortunately this would require a huge amount of data points because the kurtosis depends on the estimation of the fourth moment .",
    "we have described a new model to reproduce the price fluctuations of a single stock in an artificial stock exchange whose traders are modeled as chartists and fundamentalists .",
    "some of them have more influence than others and represent a brokerage agency where people go to ask for advice .",
    "they group together inside each lattice site to form a collective system and to follow a common strategy according to proportional voting .",
    "traders are free to diffuse on a two - dimensional lattice to model the tendency to change opinion and to follow a different advisor .",
    "the model is consistent with fat tails of histogram of returns and correlation of volatility .",
    "nevertheless much work still has to be done to better reproduce other empirical observed facts as the volatility and wealth distribution .",
    "+ the structure of the model is versatile enough to allow future expansion some of which are discussed below .",
    "we believe that a more realistic description of the agents behaviour and trading may allow to get further insight in the dynamics of price change as well as in the distribution of wealth among traders .",
    "0.1cmit has been made clear that the availability of capital strongly influences the dynamics of the model .",
    "thus , a non uniform initial wealth distribution ( some agents represent capitalists or large investors like banks who manage large capitals ) , may determine the power law of wealth distribution .",
    "besides , agents should be able to buy / sell more than just one stock at a time according to , for example , the availability of capital and difference between perceived value and actual price . + besides it is worth ( and the model will easily allow it ) to develop more realistic trading strategies like trend - following @xcite and/or divide the action among different choices ( more stocks and/or bonds with fixed income as in @xcite ) .",
    "m.  bernaschi , f.  castiglione , s.  succi , _ phys .",
    "* 61(2 ) * , 1851 - 1854 ( 2000 ) ; s.  succi , f.  castiglione , m.  bernaschi , _ phys .",
    "lett . _ * 79(22 ) * , 4493 - 4496 ( 1997 ) ; m.  bernaschi , f.  castiglione , submitted to _",
    "acm trans . on modeling and computer simul . _"
  ],
  "abstract_text": [
    "<S> we describe a new model to simulate the dynamic interactions between market price and the decisions of two different kind of traders . they possess spatial mobility allowing to group together to form coalitions . </S>",
    "<S> each coalition follows a strategy chosen from a proportional voting `` dominated '' by a leader s decision . </S>",
    "<S> the interplay of both kind of agents gives rise to complex price dynamics that is consistent with the main stylized facts of financial time series . </S>",
    "<S> + the present model incorporates many features of other known models and is meant to be the first step toward the construction of an agent - based model that uses more realistic markets rules , strategies , and information structures .    </S>",
    "<S> _ keywords _ : financial market , agents - based models , lattice gas , social influence , collective analysis . </S>"
  ]
}