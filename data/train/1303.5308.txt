{
  "article_text": [
    "the motivating question for this article is classical and well - known , namely to determine the number @xmath1 of ( possibly reducible ) curves in @xmath2 of degree @xmath3 having @xmath4 nodes and passing through @xmath5 general points .",
    "this number @xmath1 is the degree of the severi variety .",
    "when @xmath6 , the curves in question are irreducible , so that @xmath1 coincides with the gromov  witten invariant @xmath7 , where @xmath8 .    despite its long history",
    ", there continues to be interest in the severi degree and much recent activity surrounding it . in @xcite",
    "di  francesco and itzykson conjectured that @xmath1 is given by a _",
    "node polynomial _",
    "@xmath9 for sufficiently large @xmath3 and fixed @xmath4 .",
    "the polynomiality of @xmath1 became part of gttsche s larger conjecture ( * ? ? ?",
    "* conjecture 4.1)recently established by tzeng in @xcite and independently by kool , shende , thomas @xcite  regarding the existence of universal polynomials enumerating curves on smooth projective surfaces . the so - called threshold of polynomiality , i.e.",
    ", the value @xmath10 such that the severi degree @xmath1 is given by a polynomial for all @xmath11 , has been steadily lowered . in the proof of theorem 5.1 of @xcite , fomin and",
    "mikhalkin showed that @xmath12 ; this was improved to @xmath13 by the first author in @xcite . in the past year",
    "the bound for @xmath10 was sharpened still further to at most @xmath14 ( for @xmath15 ) by kleiman and shende in @xcite ; this result establishes the threshold value conjectured by gttsche in @xcite .",
    "in addition to knowing the value of @xmath3 that ensures that @xmath1 is given by a polynomial is , of course , the issue of determining the node polynomials exactly .",
    "the node polynomials for the small numbers of nodes were known in the 19th century : @xmath16 the node polynomials for @xmath17 were obtained by vainsencher in @xcite , for @xmath18 by kleiman and piene in @xcite , and by the first author for @xmath19 in @xcite .",
    "we are particularly interested in the generating series for severi degrees @xmath20 and its formal logarithm @xmath21 writing the coefficients of @xmath22 explicitly , @xmath23 where the sum is over ordered partitions @xmath24 . for @xmath3",
    "sufficiently large and @xmath4 fixed , @xmath25 is given by a polynomial of degree @xmath26 .",
    "thus , _ a priori _ one would expect @xmath27 likewise to be a polynomial of degree @xmath26 .",
    "however , @xmath27 quite unexpectedly turns out to be _ quadratic_. this is a consequence of the gttsche  yau",
    " zaslow formula ( * ? ? ?",
    "* conjecture  2.4 ) ( see also @xcite and @xcite ) , rather recently proved by tzeng  ( * ? ? ?",
    "* theorem  1.2 ) using very sophisticated techniques .",
    "one goal of this paper is to establish the quadraticity of @xmath27 , for @xmath3 sufficiently large and fixed @xmath4 , in an elementary combinatorial way .    in section [ leg ]",
    "we describe what we call a _ long - edge graph _ , the main combinatorial tool to determine severi degrees .",
    "a long - edge graph is in fact nothing other than an ordered collection of _ templates _ , as defined in @xcite and @xcite .",
    "they were used there to calculate gromov ",
    "witten invariants , severi degrees , and node polynomials , but the perspective we take here is slightly different . in section [ laq ] , we establish theorem [ linearity ] , which shows that a certain polynomial constructed from a long - edge graph is linear",
    ". then in section [ templates ] we discuss templates from scratch and see that the quadraticity of @xmath27 follows , since it is a discrete integral of the linear polynomial of theorem [ linearity ] .",
    "finally , in section [ tropical ] , we explain how long - edge graphs arise from the tropical - geometric computation of severi degrees , via the notion of _ floor diagrams_.    one would hope to exploit the relationship between the quantities @xmath1 and @xmath27 by inverting ( [ qgen ] ) : @xmath28 explicitly , this gives @xmath29 again summing over ordered partitions @xmath24 . knowing that the quantities @xmath27 are quadratic in @xmath4 ( and in fact obtained from certain linear quantities , as explained below ) , and",
    "that only templates need to be used , one should be able to efficiently calculate the severi degrees .",
    "what is needed is a way to calculate these quadratic quantities in some simple way from the graph - theoretic combinatorics laid out herein , rather than from the cumbersome definition ( [ explicit ] ) .",
    "we intend to consider this problem further .",
    "while our formulas for @xmath30 are evidently not positive , a natural question is to find an inherently positive formula for the @xmath30 .",
    "this would be very desirable , as it might give further insight in  natural building blocks \" of long - edge graphs and floor diagrams , in regard of identity ( [ nisexpq ] ) .",
    "we also note that , in @xcite , f.  liu has recently and independently provided a combinatorial proof of the quadraticity of @xmath30 .",
    "we express appreciation to our colleagues sergei chmuntov , kyungyong lee , boris pittel , and kevin woods for their helpful comments and suggestions regarding this work . via the website mathoverflow",
    ", we received valuable insights into certain combinatorial issues , especially in postings by will sawin , richard stanley , gjergji zaimi , and david speyer .",
    "we thank eduardo esteves , dan edidin , abramo hefez , ragni piene , and bernd ulrich for arranging a most stimulating 12th alga meeting and to impa for hosting it .",
    "we are grateful to the referee for very useful comments that improved our exposition .",
    "finally , we offer our sincere gratitude to steven kleiman and aron simis for their many years of mathematical stimulation and guidance .",
    "consider an edge - weighted multigraph @xmath31 on a vertex set indexed by the set of nonnegative integers @xmath32 .",
    "if @xmath33 is an edge between vertex @xmath34 and vertex @xmath35 , we define the _ length _ @xmath36 of @xmath33 to be @xmath37 .",
    "denote the _ weight _ of @xmath33 by @xmath38 .",
    "[ longedgedef ] an edge - weighted multigraph @xmath31 is a _ long - edge graph _ if the following conditions hold :    1 .",
    "there are only finitely many edges . 2 .",
    "multiple edges are permitted , but not loops . 3 .",
    "the weights are positive integers .",
    "the graph has no short edges , where a _ short edge _ is an edge of length 1 and weight 1 .",
    "( thus all edges are _ long edges_. )    we will draw long - edge graphs by arranging the vertices in order from left to right , with edges as segments or arcs drawn strictly from left to right , and indicating only the weights of 2 or more",
    ". the _ multiplicity _",
    "@xmath39 of a long - edge graph @xmath31 is the product of the squares of the edge weights : @xmath40 its _ cogenus _ is @xmath41 summing over all edges .",
    "our definition is inspired by the _ floor diagrams _ of brugall and mikhalkin @xcite and fomin and mikhalkin s variant thereof @xcite .",
    "we discuss the precise relationship in section  [ tropical ] .    for each nonnegative integer @xmath34 ,",
    "let @xmath42 the sum taken over all edges lying over the interval @xmath43 $ ] , i.e. , edges beginning at or to the left of @xmath34 , and ending at or to the right of @xmath44 .",
    "[ allowdef ] given a positive integer @xmath3 , we say that a long - edge graph is _",
    "allowable for @xmath3 _ if it satisfies these three criteria :    1 .",
    "all of the vertices to the right of vertex @xmath45 have degree zero .",
    "( that is , there are no edges after vertex @xmath45 . )",
    "all edges incident to vertex @xmath45 , if any , have weight @xmath46 .",
    "3 .   each @xmath47 .",
    "note that if a long - edge graph @xmath31 satisfies criterion ( 3 ) in definition [ allowdef ] , then there is some value of @xmath3 for which it is allowable , and that if @xmath31 is allowable for a particular value of @xmath3 , it is allowable for all @xmath48 as well .",
    "[ legex ] the long - edge graph @xmath31 shown in figure [ gexample ] is allowable for all @xmath49 .",
    "note that @xmath50 and @xmath51 .",
    "in addition , @xmath52 for @xmath53 , @xmath54 , @xmath55 , and @xmath56 .     of example [ legex ] .",
    "]    if @xmath31 is allowable for @xmath3 , then we obtain its _ extended graph _",
    "@xmath57 by adding short edges to @xmath31 as follows : for each @xmath58 , add @xmath59 such edges over the interval @xmath43 $ ] .",
    "note that in @xmath57 the number of edges over @xmath43 $ ] will be exactly @xmath34 ( counting each edge with its multiplicity ) .",
    "if we subdivide each edge of @xmath57 by introducing one new vertex , we obtain a graph which we denote by @xmath60 .",
    "an _ ordering _ of @xmath60 is a linear ordering of its vertices that extends the ordering of the vertices @xmath32 of @xmath31 .",
    "( see figure [ gextgprime ] . )",
    "two such orderings are considered _ equivalent _ if there is an automorphism of @xmath60 preserving the vertices of @xmath31 .",
    "if @xmath31 is allowable for @xmath3 , then we define @xmath61 remarking that this is independent of @xmath3 ( as long as the graph is allowable for @xmath3 ) .",
    "if @xmath31 is not allowable for @xmath3 , then let @xmath62 .",
    "[ legexcontd ] the graphs @xmath63 and @xmath64 associated to the long - edge graph @xmath31 of example [ legex ] are shown in figure [ gextgprime ] . in any ordering of @xmath64 we require @xmath65 and @xmath66 .",
    "thus there are @xmath67 ( inequivalent ) orderings if @xmath68 ; there are @xmath69 orderings if @xmath70 and @xmath71 ; and there are @xmath72 orderings if both @xmath73 and @xmath74 are between vertices labeled @xmath75 and @xmath76 . hence @xmath77 .",
    "and @xmath64 associated to the graph @xmath31 of example [ legex ] and figure [ gexample ] . ]",
    "the significance of the constructions above is that they enable a combinatorial calculation of the severi degrees of @xmath0 .",
    "[ fmrecast ] the severi degree may be computed as @xmath78 where the sum is taken over all long - edge graphs of cogenus @xmath4 .",
    "note that , for each pair @xmath3 , @xmath4 , only finitely many terms of the sum above are nonzero .",
    "theorem [ fmrecast ] is essentially a recasting of ( * ? ? ?",
    "* theorem 1.6 , corollary 1.9 ) and ( * ? ? ? * theorem 3.6 ) ; see theorem [ fmcount ] below .    although @xmath79 is the quantity which enters into theorem [ fmrecast ] , for purposes of calculation we often find it more convenient to work with an `` automorphism - free '' and `` multiplicity - free '' quantity .",
    "suppose that the edges of @xmath31 have been labeled .",
    "then ( in the allowable cases ) we define @xmath80 to be the number of orderings of @xmath60 , so that @xmath81 where @xmath82 is the number of automorphisms of @xmath31 when the edges are unlabeled .",
    "( the vertices remain labeled , however . )",
    "see figure [ autofig ] for an example .",
    "note that the short edges added to create @xmath60 are considered to be unlabeled .",
    "any of these short edges which lie completely to the left or right of the edges of @xmath31 are irrelevant in the calculation of @xmath79 ; going forward , therefore , we usually will not display such edges .",
    ", we have @xmath83 and @xmath84 . ]",
    "[ nd1 ] we calculate @xmath85 .",
    "there are two types of long - edge graphs of cogenus one : either the graph has a single edge of length @xmath86 and weight @xmath46 , or a single edge of length @xmath46 and weight @xmath86 .",
    "they are shown in figure [ cyclstub ] ; we call them the _ cyclops _ and the _ stub _ , respectively .",
    "the cyclops @xmath87 $ ] has multiplicity @xmath46 and is allowable for @xmath3 if @xmath88 , while @xmath89 $ ] has multiplicity @xmath75 and is allowable for @xmath3 if @xmath90 .",
    "there are no non - trivial automorphisms .    .",
    "]    to obtain the extended graph @xmath91)$ ] , we add @xmath92 short edges over the interval @xmath93 $ ] , and @xmath94 short edges over @xmath95 $ ] ( as well as irrelevant edges further to the left or right ) .",
    "an ordering of @xmath87'_d$ ] is determined by the position of the new vertex on the long edge , and there are @xmath96 possible positions .",
    "( see figure [ cyclstub2 ] . ) similarly , @xmath97)$ ] is obtained by adding @xmath98 short edges over @xmath93 $ ] , and there are @xmath92 possible positions for the new vertex on the long edge .",
    "thus in the allowable cases we have @xmath99 } = 2k+1   \\quad\\text{and}\\quad n^{d,\\text{stub}[k ] } = 4(k-1).\\ ] ] hence @xmath100    . ]",
    "to calculate @xmath79 for more complicated graphs , it is useful to work with distributions of the new vertices on the long edges .",
    "a _ distribution _ is a function @xmath101 that associates , to each edge @xmath33 of @xmath31 , one of the @xmath36 intervals over which it lies .",
    "we say that an ordering of @xmath60 is _ consistent _ with @xmath101 if , in this ordering , each new long - edge vertex introduced by the subdivision process ( as described above ) lies within the interval specified by @xmath101 .",
    "let @xmath102 noting as before that this number is independent of @xmath3 , as long as the graph is allowable for @xmath3 .",
    "again we declare @xmath103 when @xmath31 is not allowable for @xmath3 .",
    "summing over all possible distributions , we have @xmath104    as above we often find it more convenient to work with the automorphism- and multiplicity - free quantity @xmath105 , noting that @xmath106 where @xmath107 is the number of automorphisms of @xmath31 consistent with @xmath101 .",
    "since the short edges added to create @xmath60 are considered to be unlabeled and therefore indistinguishable ( when they lie over the same interval ) , we have @xmath108 where @xmath109 is the number of times that @xmath110 $ ] appears as a value of @xmath101 , and where @xmath111 indicates a falling factorial ( i.e. , @xmath112 and we take @xmath113 to be @xmath46 ) . the product in formula ( [ falling ] )",
    "is taken over all @xmath114 ; however , all but finitely many factors have value @xmath46 .",
    "if we translate a long - edge graph @xmath31 rightward by @xmath94 units , we obtain another long - edge graph @xmath115 $ ] , which we will call an _ offset _ of @xmath31",
    ". in example [ nd1 ] , the graphs @xmath87 $ ] and @xmath89 $ ] are offsets of the graphs shown in figure [ cyclstubtemp ] , which we call the _ cyclops template _ and the _ stub template_. ( the general notion of a template is explained in section [ templates ] .",
    "the nomenclature originates with @xcite . )",
    "if @xmath101 is a distribution of @xmath31 , then @xmath116 $ ] is the distribution of @xmath115 $ ] defined in the obvious way : if @xmath117 $ ] then @xmath118)=[k+i , k+i+1]$ ] .",
    "note that , for any @xmath31 , we may choose a sufficiently large offset @xmath94 so that @xmath115 $ ] satisfies criterion ( 3 ) of definition [ allowdef ] .",
    "[ monicn ] @xmath119,\\delta[k])}$ ] is a monic polynomial in @xmath94 for sufficiently large @xmath94 .",
    "its degree is the number of edges of @xmath31 .",
    "by formula ( [ falling ] ) we have @xmath120,\\delta[k])}=\\prod_{i}(k+i - w_i+m_i)_{m_i}.\\ ] ]",
    "let @xmath31 be a long - edge graph satisfying criterion ( 3 ) of definition [ allowdef ] ; let @xmath121 be the number of edges of @xmath31 and let @xmath122 denote the set of edges .",
    "for each subset @xmath123 of @xmath122 , consider the subgraph with these edges ; for simplicity we also denote it by @xmath123 .",
    "note that any distribution @xmath101 is inherited by @xmath123 .",
    "we now consider , for each @xmath3 , the alternating sums @xmath124 and @xmath125 summing in both instances over all unordered partitions @xmath126 of @xmath122 , taking products over the blocks @xmath123 of @xmath126 , and denoting by @xmath127 the number of blocks . in view of proposition [ monicn ] , we know that @xmath128 is a polynomial whose degree is at most @xmath121 . in this section",
    "we show that , surprisingly , it is linear .",
    "the automorphisms make the formulas in ( [ qg ] ) and ( [ qgdelta ] ) look somewhat awkward , but if we use instead the automorphism- and multiplicity - free quantity @xmath129 then ( [ qgdelta ] ) becomes @xmath130    to provide some motivation for considering the particular alternating sums in ( [ qg ] ) and ( [ qgdelta ] ) , we show how they allow us to refine the generating series ( [ ngen ] ) and ( [ qgen ] ) .",
    "the _ disjoint union _ of the long - edge graphs @xmath131 is the graph @xmath132 obtained by taking the disjoint union of their edge sets .",
    "note that the cogenus @xmath133 is the sum @xmath134 . introducing a formal indeterminate @xmath135 for each long - edge graph @xmath31 ,",
    "let @xmath136 summing over all long - edge graphs @xmath31 .",
    "here we take @xmath137 to mean @xmath138 . equating the coefficients in ( [ bseries ] ) yields ( [ qg ] ) .",
    "theorem  [ fmrecast ] tells us that gttsche s generating series @xmath139 can be recovered from from @xmath140 by replacing each @xmath135 by @xmath141 .",
    "thus the same is true for their logarithms : @xmath142 can be recovered from @xmath143 by the same replacement .",
    "this means that @xmath144 summing over all long - edge graphs of cogenus @xmath4 .",
    "we may refine further by taking into account the distributions : let @xmath145 so that ( [ qgdelta ] ) is the result of equating coefficients .",
    "since the generating series @xmath140 can be recovered from @xmath146 by replacing each @xmath147 by @xmath135 , the same replacement takes @xmath148 to @xmath143 .",
    "this means that @xmath149 summing here over all possible distributions for @xmath31 .",
    "[ qcalc ] we illustrate the calculation of @xmath150 for the graph @xmath31 shown in figure [ ltemplate ] , assuming that the graph is allowable for @xmath3 .",
    "( explicitly , we assume that @xmath151 and @xmath152 ) .",
    "note that @xmath153 , @xmath154 , and @xmath50 .",
    "there are three possible distributions of subdivision points , illustrated in figure [ subdivision ] , with automorphisms as indicated there .",
    "thus @xmath155     of example [ qcalc ] . ]    . ]",
    "labeling the three edges of @xmath31 by @xmath156 , @xmath157 , @xmath158 as in figure [ tempdist1 ] , we have @xmath159    . ]    similarly , as illustrated by figure [ tempdist2 ] , we have @xmath160 putting these results together , we find that @xmath161 when @xmath151 ( and @xmath3 is sufficiently large ) .     and @xmath162 .",
    "]    when @xmath94 is 0 or 1 , then every term in the computation involves a subgraph that is not allowable , so that @xmath163 in these cases . when @xmath164 , all proper subgraphs are allowable , so that only one term in the calculation is suppressed ; here @xmath165 ( which agrees with the general formula , although this appears to be a coincidence ) .",
    "when @xmath166 , only two of the five partitions contribute to the calculation of @xmath167 .",
    "[ linearity ] for each long - edge graph @xmath31 and each distribution @xmath101 , the polynomial @xmath168,\\delta[k])}$ ] is linear in @xmath94 for @xmath94 sufficiently large .",
    "thus @xmath169}$ ] is likewise linear in @xmath94 for @xmath94 sufficiently large .",
    "again let @xmath121 be the number of edges of @xmath31 . for @xmath170 ,",
    "the statement is clear .",
    "thus we assume that @xmath171 .",
    "translating to the right if necessary , we may assume that @xmath31 satisfies criterion ( 3 ) of definition [ allowdef ] .",
    "fix a value of @xmath3 for which @xmath31 is allowable .",
    "consider the extended graph @xmath172 associated to the edge - less graph : it has @xmath34 short edges over each interval @xmath110 $ ] , as @xmath34 runs from @xmath46 to @xmath3 .",
    "( see figure [ extempty ] . )",
    "associated to the graph with no edges . ]",
    "let @xmath173 be this set of short edges .",
    "to each edge @xmath33 of @xmath31 we associate a subset @xmath174 consisting of @xmath38 short edges over each interval covered by @xmath33 , except over the interval @xmath175 , where we take only @xmath176 edges . note that over the interval @xmath110 $ ] we require a total of @xmath177 edges .",
    "thus , by criterion ( 3 ) of definition [ allowdef ] , these subsets can be chosen to be disjoint .",
    "let @xmath178 be @xmath179 .",
    "figure [ propex ] presents an example .",
    "associated to the edges of a long - edge graph .",
    "we are assuming @xmath180 . ]    then for any subset @xmath123 of @xmath122 , the recipe for creating @xmath181 amounts to this : add to @xmath123 the edges of @xmath182 minus one short edge over each interval @xmath175 .",
    "an ordering of @xmath183 can be identified with an injection @xmath184 for which @xmath185 is one of the edges over @xmath175 .",
    "thus for any partition @xmath126 of @xmath122 , the product @xmath186 counts functions @xmath187 from @xmath122 to @xmath173 having the following properties :    1 .   for each edge",
    ", @xmath185 is one of the edges over @xmath175 .",
    "2 .   for each block @xmath123 of the partition , @xmath188",
    "is contained in @xmath189 .",
    "3 .   on each block",
    ", @xmath187 is injective .    applying this observation in ( [ qstar ] )",
    ", we can regard @xmath190 as a sum @xmath191 over functions satisfying the first condition , where in the inner sum we allow only those partitions that meet the other two conditions .",
    "we will call them _",
    "compatible partitions_. letting @xmath192 denote the contribution of @xmath187 to @xmath190 , note that @xmath193 , where @xmath194 ( recall that @xmath121 denotes the number of edges of @xmath31 . )    we first examine the case where @xmath187 is injective on the entire edge set of @xmath31 .",
    "create a new _ auxiliary graph _ @xmath195 as follows : take one vertex @xmath196 for each edge @xmath33 of @xmath31 ; if @xmath197 then draw an edge between @xmath198 and @xmath199 ( in particular if @xmath200 , then draw a loop ) ; replace any double edges by single edges . by condition",
    "( 2 ) , @xmath126 is a compatible partition for @xmath187 if and only if no block of the corresponding vertex partition of @xmath195 contains two adjacent vertices ; we say that @xmath126 is _ compatible _ with @xmath195 .",
    "( note the resemblance to the graph - theoretic notion of a coloring .",
    "also note that if @xmath195 has any loops , then no partition will be compatible . ) in figure [ graphh ] , we give an example to illustrate how @xmath195 is constructed . the graph depicted there has just two compatible partitions : the fine partition and the partition @xmath201 .",
    "[ graphlemma ] suppose that @xmath195 is a graph on @xmath121 vertices with @xmath171 .",
    "if @xmath195 has at most @xmath202 edges , then @xmath203 where the sum is taken over all compatible unordered partitions of the vertex set of @xmath195 , and @xmath127 is the number of blocks .",
    ", assuming that the function @xmath187 satisfies these conditions : @xmath204 , @xmath205 , @xmath206 .",
    "note that lemma [ graphlemma ] does not apply to @xmath195 since @xmath195 has more than a single edge .",
    "as @xmath31 is offset , however , only the set @xmath178 increases in cardinality and so the number of such functions only grows linearly with the offset @xmath94 . ]",
    "if @xmath195 has any loops , then @xmath207 . if @xmath195 has no loops , then we use induction on the number of edges .",
    "if @xmath195 has no edges , then the equation expresses a standard identity of the stirling numbers of the first and second kinds .",
    "( see ( * ? ? ?",
    "* proposition 1.9.1 ) , recalling that the stirling number of the first kind @xmath208 . ) otherwise chose an edge @xmath33 .",
    "let @xmath209 be the graph obtained by omitting it , and let @xmath210 be the graph obtained by identifying its two vertices @xmath73 and @xmath74 ( and then removing the loop and any redundant edges ) .",
    "let @xmath126 be a vertex partition compatible with @xmath209 .",
    "it is compatible with @xmath195 if and only if @xmath73 and @xmath74 belong to different blocks of it .",
    "if @xmath73 and @xmath74 belong to the same block of @xmath126 , then we obtain a compatible vertex partition of @xmath210 , and , moreover , one obtains all compatible partitions of @xmath210 in this way .",
    "note that both @xmath209 and @xmath210 both have fewer edges than @xmath195 .",
    "thus @xmath211    s.  chmutov has pointed out to us that the polynomial @xmath212 in lemma [ graphlemma ] is the value at @xmath213 of the derivative of the chromatic polynomial @xmath214 . to see this , note first that for a graph @xmath195 with @xmath94 connected components , the chromatic polynomial is divisible by @xmath215 .",
    "hence , @xmath216 if @xmath195 is disconnected .",
    "moreover , with the graphs @xmath209 , @xmath210 defined as in the proof of lemma [ graphlemma ] , we have the recurrence relation @xmath217 . thus the computation of @xmath218 for a connected graph @xmath195 reduces to the calculation of @xmath219 where the graph @xmath31 consists of a single point .",
    "but @xmath220 , so that @xmath221 , which agrees with @xmath222 .    returning to the proof of theorem [ linearity ] , note that for an injection @xmath187 we have @xmath223 , where @xmath195 is the auxiliary graph .",
    "also note that the number of edges in @xmath195 is bounded above by @xmath121 minus the number of values of @xmath187 which lie in @xmath178 .",
    "thus , by lemma [ graphlemma ] , we see that for an injection satisfying properties ( 1 ) , ( 2 ) , and ( 3 ) we have @xmath224 except in those cases where at most one of the values of @xmath187 lies in @xmath178 .",
    "we claim that the same is true for any function satisfying properties ( 1 ) , ( 2 ) , and ( 3 ) , and prove this claim by induction on the number of repeated values , by which we mean @xmath225 if @xmath226 then @xmath187 is injective .",
    "otherwise there is a pair of edges @xmath227 , @xmath228 of @xmath31 for which @xmath229 .",
    "define two new functions @xmath230 and @xmath231 as follows .",
    "suppose that @xmath232 ( where @xmath33 is either an edge of @xmath31 or the value @xmath233 ) .",
    "define @xmath230 to be the same as @xmath187 except that @xmath234 is redefined to be some other element of @xmath235 not in the image of @xmath187 ( i.e. , different from all other values ) .",
    "if there is no such unused element in @xmath236 , we simply enlarge @xmath236 ( and hence @xmath173 ) by throwing in one more element . to define @xmath231 ,",
    "let @xmath237 be the set obtained from @xmath122 by identifying @xmath227 and @xmath228 to a single element @xmath238 ; then @xmath187 factors through the quotient map @xmath239 followed by @xmath240 .",
    "let @xmath241 . note that for both @xmath230 and @xmath231 the value of @xmath242 has decreased",
    ".    now observe that any partition compatible with @xmath187 is likewise compatible with @xmath230 .",
    "going the other way , if @xmath126 is compatible with @xmath230 then there are two possibilities : ( 1 ) @xmath227 and @xmath228 belong to different blocks , so that @xmath126 is also compatible with @xmath187 , or ( 2 ) @xmath227 and @xmath228 belong to the same block , so that @xmath126 comes from a partition of @xmath237 compatible with @xmath231 .",
    "thus @xmath243 this completes the proof of the claim .",
    "finally we note that , as the offset @xmath94 varies , the sets @xmath236 associated to the edges of @xmath115 $ ] stay the same size , while the size of @xmath178 grows linearly .",
    "thus the number of functions having at most one of their values in @xmath178 is bounded by a linear function of @xmath94 .",
    "the contribution @xmath192 of each such function to @xmath168,\\delta[k])}$ ] is bounded by the constant @xmath158 which depends only on the number of edges in @xmath31 , and is thus independent of @xmath94 .",
    "thus the polynomial @xmath168,\\delta[k])}$ ] is linear in @xmath94 .",
    "we have already encountered examples of templates in section [ leg ] .",
    "now we provide the formal definition .",
    "it is inspired by ( * ? ? ?",
    "* definition 5.6 ) , where the term template was coined .",
    "[ tempdef ] the _ right end _ of a long - edge graph",
    "@xmath31 is the smallest vertex for which all vertices to the right have degree @xmath233 .",
    "a vertex between vertex @xmath233 and the right end is called an _ internal vertex_.",
    "an internal vertex is said to be _ covered _ if there is an edge beginning to the left of it and ending to the right of it . a nonempty long - edge graph @xmath31",
    "is called a _ template _ if every internal vertex is covered .",
    "the offset graph @xmath115 $ ] of a template @xmath31 is called an _ offset template_.    figure [ tempexamples ] shows an example of two long - edge graphs , one a template , and the other not .",
    "note , in particular , that in a template the vertex @xmath233 has nonzero degree ( and thus a template is never an allowable graph ) .",
    "and @xmath86 are not covered .",
    "the long - edge graph on the right is a template . ]",
    "[ lema ] each long - edge graph can be expressed in a unique way as a disjoint union of offset templates .",
    "break the graph at each non - covered vertex .",
    "[ lemb ] given @xmath244 , there are finitely many templates @xmath245 with cogenus @xmath4 .    since @xmath246 , there are at most @xmath4 edges , and there is an evident limit on the length and weight of each edge .",
    "[ vanishprop ] if a long - edge graph @xmath31 is not an offset template , then @xmath247 .",
    "hence @xmath248 .",
    "since @xmath31 is not an offset template , there must be an internal vertex @xmath73 that fails to be covered by an edge of @xmath31 .",
    "thus @xmath73 breaks @xmath31 into two subgraphs @xmath249 and @xmath250 , so that @xmath251 given any partition @xmath126 of the edge set of @xmath31 , we obtain partitions @xmath252 and @xmath253 of the edge sets of @xmath249 and @xmath250 .",
    "the blocks of @xmath252 are the nonempty subsets @xmath254 , where @xmath123 is a block of @xmath126 .",
    "we say that @xmath126 is _ consistent _ with @xmath252 and @xmath253 .",
    "we have @xmath255    we call @xmath126 _ allowable for @xmath3 _ if every one of its blocks is allowable for @xmath3 ; if @xmath126 is not allowable for @xmath3 , then @xmath256 now note that @xmath126 is allowable for @xmath3 if and only if both @xmath252 and @xmath253 are allowable for @xmath3 .",
    "thus in the sum of ( [ qbreak ] ) we need only consider the terms in which both @xmath252 and @xmath253 are allowable .",
    "fixing @xmath252 and @xmath253 , consider @xmath257 which is the constant @xmath258 times the alternating sum @xmath259 let @xmath260 and @xmath261 denote the numbers of blocks of @xmath252 and @xmath253 , respectively , and set @xmath262 .",
    "then the coefficient of @xmath263 is @xmath264 we prove that this evaluates to zero .",
    "consider the two sets @xmath265 and @xmath266 , and pair @xmath267 elements from each .",
    "this can be done in @xmath268 ways .",
    "construct @xmath269 subsets of the disjoint union @xmath270 , each of which is either a singleton or a pair of the form @xmath271 where @xmath272 , @xmath273 , and arrange them in order , always beginning with the subset containing @xmath274 .",
    "( equivalently , arrange in order up to a cyclic permutation of the subsets . )",
    "then the number of such ordered subsets of @xmath270 is @xmath275 ; call this set of arranged subsets @xmath276 .",
    "we define a bijection from @xmath276 to itself as follows .",
    "given an element of @xmath276 , read it in order ( with the subset containing @xmath274 always first ) . identify the first position where there is either a pair , or an element of @xmath156 that is immediately followed by an element of @xmath157 . in the first case , replace the pair @xmath271 with @xmath277 , @xmath278 ; in the second case , replace @xmath277 , @xmath278 with @xmath271 .",
    "note that this bijection changes the parity of @xmath267 .",
    "thus @xmath279    for each @xmath4 , the polynomial @xmath27 is quadratic in @xmath3 for @xmath3 sufficiently large .    by lemma [ lemb ] and proposition [ vanishprop ] , we may write @xmath280},\\ ] ] a sum over the finitely many templates @xmath245 of cogenus @xmath4 and over all @xmath94 for which @xmath281 $ ] is allowable for @xmath3 .",
    "for each such template , as @xmath3 varies the inner sum begins at a fixed lower limit and ends at an upper limit which is linear in @xmath3",
    ". furthermore the terms are linear in @xmath94 for @xmath94 sufficiently large .",
    "thus each inner sum is quadratic in @xmath3 for @xmath3 sufficiently large , and the same is true of the whole sum .",
    "in section  [ leg ] we defined long - edge graphs , and in theorem  [ fmrecast ] we asserted that one may compute the severi degree by computing a certain sum over such graphs . here",
    "we explain how these long - edge graphs arise , and explicate a proof of theorem  [ fmrecast ] .",
    "our route is through tropical geometry and the theory of floor diagrams , building on the work in @xcite and @xcite .",
    "we assume a familiarity with the basic notions of tropical plane curves .",
    "( see especially these two papers for treatments related to the present context . ) by mikhalkin s correspondence theorem ( * ? ? ?",
    "* theorem 1 ) , the classical severi degree @xmath1 is the same as its tropical counterpart .",
    "let @xmath282 be a tropical plane curve passing through a _ tropically generic _ point configuration ( see ( * ? ? ?",
    "* definition 4.7 ) ) .",
    "we create an _ associated graph _",
    "( in fact a weighted directed multigraph ) in the following manner ( see figure [ tropfloor ] for an example ) .",
    "define an _ elevator _ of @xmath283 to be any vertical edge , i.e. , any edge parallel to the vector @xmath284 .",
    "the _ multiplicity _ of an elevator is inherited from the multiplicity of that edge in the tropical curve .",
    "a _ floor _ of @xmath283 is a connected component of the union of all nonvertical edges .",
    "note that elevators may cross floors .",
    "we contract each floor to a point , creating the vertices of a graph .",
    "the directed edges of this graph correspond to the elevators , with their directions corresponding to the downward ( i.e. , @xmath285- ) direction of the elevators . for a curve of degree @xmath3",
    "there will be @xmath3 unbounded elevators , all of multiplicity @xmath46 , that we make adjacent to one additional vertex .",
    "note that the _ divergence _ @xmath286 has value @xmath46 at each vertex @xmath73 except the additional vertex , where the value is @xmath287 .",
    "if the tropical curve passes through a _ vertically stretched _ point configuration ( see ( * ? ? ?",
    "* definition 3.4 ) ) then what we have just defined is virtually the same as a _ floor diagram _ , as defined in ( * ? ? ?",
    "* section  1 ) ( c.f .",
    "also ( * ? ? ?",
    "* section  5.2 ) ) ; the corresponding floor diagram simply omits the additional vertex and its @xmath3 adjacent edges and carries a linear order on the remaining vertices ; see figure [ tropfloor ] again .        to obtain a long - edge graph from the associated graph",
    ", we would first like to order the vertices so that each edge goes from a smaller vertex to a larger one .",
    "in general this is impossible however , as shown in the example of figure [ escher ] .",
    "fomin and mikhalkin ( * ? ? ?",
    "* theorem 3.7 ) show ( c.f .",
    "also ( * ? ? ?",
    "* lemma  5.7 ) ) , however , that if the specified point conditions are vertically stretched , then , for each tropical curve of specified genus satisfying these point conditions , one indeed obtains a floor diagram ( with edge directions respecting the linear order of the floors ) .",
    "thus , by adding the additional vertex ( giving it the label @xmath45 ) and its @xmath3 incident edges , we obtain the associated graph . erasing all short edges ( those of weight 1 and length 1 )",
    ", we then get a long - edge graph . in the other direction , beginning with a long - edge graph , we can draw short edges so that @xmath288 , and then erase vertex @xmath45 and its incident edges .        the _ cogenus _ @xmath4 of a connected labeled floor diagram @xmath289 is @xmath290 , where @xmath291 denotes the genus of its underlying graph ; if @xmath289 is not connected , then @xmath292 where the @xmath293 s and @xmath294 s are the respective degrees ( i.e. , the number of vertices ) and cogenera of the connected components .",
    "the _ multiplicity _",
    "@xmath39 of @xmath289 is @xmath295 .",
    "these definitions are compatible with the earlier definitions for long - edge graphs .",
    "now suppose that @xmath31 is the long - edge graph obtained from the labeled floor diagram @xmath289 by the process just described .",
    "then a _ marking _ of @xmath289 , as defined in @xcite and @xcite , is equivalent to an ordering of @xmath296 , as defined in section  [ leg ] .",
    "let @xmath297 denote the number of equivalence classes of markings of @xmath289 .",
    "( two markings are _ equivalent _ if they differ by a vertex and edge - weight preserving graph automorphism . )",
    "e.  brugall and g.  mikhalkin ,  floor decompositions of tropical curves : the planar case , \" _ proceedings of 15th gkova geometry / topology conference ( gkova , 2008 ) _ , 6490 ,",
    "press , cambridge , ma , 2009 .            s.  kleiman and v.  shende with an appendix by i.  tyomkin ,  on the gttsche threshold , \" _ a celebration of algebraic geometry _",
    ", clay mathematics proceedings vol .",
    "18 , 429449 , amer",
    ".  math .",
    "soc .  for clay mathematics institute , providence , ri , 2013 .",
    "m.  kool , v.  shende , and r.  p.  thomas ,  a short proof of the gttsche conjecture , \" _ geom .",
    "_  * 15 * ( 2011 ) , no .",
    "1 , 397406 ."
  ],
  "abstract_text": [
    "<S> we study a class of graphs with finitely many edges in order to understand the nature of the formal logarithm of the generating series for severi degrees in elementary combinatorial terms . </S>",
    "<S> these graphs are related to floor diagrams associated to plane tropical curves originally developed in @xcite and used in @xcite and @xcite to calculate severi degrees of @xmath0 and node polynomials of plane curves . </S>"
  ]
}