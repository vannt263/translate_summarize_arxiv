{
  "article_text": [
    "* product - form networks .",
    "* a large literature deals with closed jackson networks also called gordon - newell networks .",
    "first they present an explicit product - form stationary distribution ( see @xcite ) .",
    "second they appear as complex systems in a wide range of applications as communication , computer , biology and transport networks .",
    "the problem is that this nice property turns out to be useless for large systems because of the exponential growth of the state space .",
    "some recent research describes the asymptotic behavior as these networks get large , in general both the number of nodes and customers and the ratio of the two numbers tending to some constant @xmath1 ( see @xcite , @xcite , @xcite and reference therein ) .",
    "the main result is the existence of a critical value of @xmath1 such that under this value , the system is stable with each finite set of queues being asymptotically independent with geometric distributions for queue lengths , while above this value , some queues , those with the maximum so - called utilization , behave as bottlenecks with a infinite mean number of customers while the others are stable .",
    "see also @xcite for recent advances on a multi - class model .",
    "* mean - field techniques .",
    "* however , such product - form networks do not cover the large framework of applications .",
    "without such a invariant measure , for homogeneous models , mean - field techniques allow to obtain the limiting steady - state of the system as it gets large .",
    "they are popular for two decades .",
    "the main idea is to obtain the limit of the empirical measure process as a dynamical system , deterministic solution of an ode , then to study the equilibrium points of this system . in general",
    ", it is proved that there is a unique equilibrium point .",
    "less easy to prove is that the invariant measure of the empirical measure process concentrates as the network gets large to this equilibrium point .",
    "it remains in most cases the hard part of the work .",
    "such convergence is out of the scope of the paper here .",
    "when the network is not homogeneous , the techniques can extend but are sometimes difficult to apply . to preserve a discrete state space ,",
    "the network is divided into clusters whose number remains fixed as the system gets large ( see @xcite in another context ) .    * motivation . * the target application here is bike - sharing systems . they have seen explosive growth last years , giving place to lot of research .",
    "velib in paris plays an important role , launching the largest program , even now the largestone outside china .",
    "the problem is to manage these systems in order to maintain resources , both bikes and available spots , where the users need them .",
    "redistribution by trucks is developed , though it affects only a small number of bikes ( around 3 000 moves by trucks per day in velib compared to 100 000 bike trips ) .",
    "incentives to users by the operator are more promising because more scalable .",
    "it is called natural regulation , made possible because the user can know the system state in real time via his smartphone for example .",
    "the issue which is addressed here is the impact of a two - choice strategy .",
    "it consists for the user to choose two stations to return his bike , then returning it in the least loaded one .",
    "if it regulates very well a homogeneous system ( see @xcite for details ) , one can wonder what happens in a heterogeneous system .",
    "more precisely , the system consists in the following : a user goes to a station , takes a bike and returns it to another station .",
    "but he has to face the lack of resources , both bikes and available spots . indeed , when arriving in a station with no bikes , the user has to decide , either to leave the system or to find a bike in a station nearby",
    ". then , when returning in a station with no available spot , to return in a station nearby . note that he has to return his bike due to the penalty in case he leaves the bike .",
    "the point here is that the user chooses his return station , by choosing between two stations near its destination the least loaded one .",
    "the operator can help the users to behave like by incentives .",
    "therefore the case where only a fraction of the customers choose is investigated .",
    "furthermore the dimensioning problem for the operator is addressed : to find the system fleet size and the station capacities in order to obtain a system which performs well .    * a model .",
    "* such a system can be seen as a closed network .",
    "customers are bikes , with a fixed fleet size .",
    "they go to two kinds of nodes : stations as one - server queues where the service time is the user inter arrival time to this station , and routes as infinite - server queues where the service time is the trip time on this route .",
    "the model is proposed in @xcite for a vehicle - sharing system .",
    "more precisely , in @xcite , the user leaves the system if no bike is available when he arrives at a station , and with stations of infinite capacity , a spot is always available when returning a bike .",
    "the main drawback of the previous models is that it does not take into account the finite capacity of the stations and the related strategies of the users to be able to return their bikes . for that , the model proposed here is more simple in some sense , while the biking users are not distinguished , but it is still a closed network , with one - server queues for stations , and one infinite - server queue containing the pool of biking users .    in this model ,",
    "when joining a saturated one - server queue , the customer reattempts in another queue , after a time with the same distribution , until he returns his bike .",
    "the model could be refined , taking into account the research of a bike for a customer arriving at a station with no bike , or taking a mean time for looking for a station to return the bike smaller than the mean trip time .",
    "we claim that these refinements do not change basically the study .",
    "the network is heterogeneous .",
    "indeed , queues are grouped in clusters . in each cluster , the queues have the same parameters .",
    "basically , clusters are large and the customer chooses two stations within a cluster . other models , may be more close for realistic ones , where some stations are isolated among stations with other parameters are out of the scope of the paper .",
    "even if mean - field techniques apply , the limiting steady - state would be analytically untractable except by numerical simulations of the dynamical system .    * the results . *",
    "the aim of the paper is to investigate the impact of a two choice strategy on the limiting steady - state of the queue lengths as the network gets large .",
    "the proposed method is mean - field .",
    "the limit as @xmath0 gets large of the empirical measure process is obtained and it is proved that it has a unique equilibrium point .",
    "the key argument is that the equilibrium point has a probabilistic interpretation , in term of the equilibrium point of the dynamical system associated to a open set of @xmath0 queues when joining the least loaded queue among two queues , with a arrival - to - service ratio @xmath2 in cluster @xmath3 , where @xmath4 is the unique solution of a fixed point equation .",
    "for that , a monotonicity property in the arrival rate is used",
    ". then the equilibrium point is indeed the concentration point of the queue length distributions as the system gets large .",
    "these results can be straightforwardly extended to the case where only a portion @xmath5 of customers joining cluster @xmath3 choose among two queues while the others go to one single queue .",
    "once these convergence results are stated , an interesting part is the analysis of the limit .",
    "the limiting queue length distribution can be viewed as a function of the total proportion of customers per queue @xmath6 by a parametric curve with parameter @xmath4 .",
    "it allows qualitative and quantitative results on the system limiting behavior .",
    "we analyze the probability that a station is empty or full ( of customers ) called _ system performance_. this quantity is minimal in a cluster for a very short interval of @xmath4 , corresponding nevertheless to a wide interval of @xmath6 .",
    "the value of the probabilities for queues in different clusters can be approximately derived as a function of @xmath6 on these plateaux , so this function is quite well understanding .",
    "the influence of the different parameters , as the number of queues per cluster , the capacities of the queues and the proportion of customers per queue @xmath6 , can be discussed .",
    "the main conclusion is that choosing the capacities and the total fleet size can just allow to obtain the best performance in one cluster . to decrease this value ,",
    "the number of stations per cluster must be changed , in order to balance the system .",
    "* related works . *",
    "though optimization is the main hot topic about bike - sharing systems ( see @xcite , @xcite , @xcite , @xcite , @xcite and others ) , few has been done to understand it as a heterogeneous stochastic network .",
    "it is mainly due to the complexity of the system .",
    "it is to our knowledge the first stochastic model devoted to bike - sharing systems is in @xcite . as a bcmp network @xcite",
    ", such a network has a product - form stationary measure . for a study of this large system ,",
    "see @xcite and reference therein .",
    "there are two companion papers of this one .",
    "first @xcite deals with a homogeneous model where different regulation strategies are explored .",
    "simple models to study the system behavior under incentives to choose and redistribution by trucks are proposed and analyzed .",
    "second , a model with clusters is proposed in @xcite but for a basic bike - sharing system , not taken into account incentives or redistribution .",
    "paper @xcite is a first step to work with a heterogeneous model .",
    "it allows to understand how to manage heterogeneity .",
    "our present work has a completely different content , focusing on two - choice strategy , even if section  [ sec : convergence ] has some similarities on methods used in @xcite , which are clearly presented .",
    "* outline of the paper .",
    "* section [ sec : model ] deals with the model description .",
    "section  [ sec : convergence ] presents mean - field convergence results . in section  [ sec : performance ] , the limiting stationary queue length distribution is investigated . as an example , for the two - cluster case , the probability that a queue is empty or full is studied as a function of @xmath6 .",
    "it gives its qualitative behavior as well as quantitative bounds . in section  [ sec : sizing ] , the influence of the parameters is discussed , especially for the sizing problem .",
    "section  [ sec : conclusion ] gives a discussion , mainly on model limitations , and the conclusion of the paper .",
    "this section deals with the description of a closed queueing network .",
    "the heterogeneity is modeled by clusters .",
    "the key point is to take into account the finite capacities at the one - server queues and the resulting route of the customers .",
    "moreover the behavior of the system under a two - choice strategy when joining the one - server queues is addressed .",
    "consider @xmath0 one - server queues numbered from @xmath7 to @xmath0 , one infinite - server queue numbered @xmath8 and a set of @xmath9 customers .",
    "unless queue @xmath8 is specified , let us call a queue a one - server queue .",
    "in the system , both @xmath0 and @xmath9 are large , with the total proportion of customers per queue @xmath10 tending to a constant @xmath6 as @xmath0 tends to infinity , which is a key quantity in terms of sizing .",
    "the queues are grouped in @xmath11 clusters , @xmath12 , such that , in each cluster , the queues have the same parameters .",
    "there are @xmath13 queues with capacity @xmath14 in cluster @xmath3 , with @xmath15 tending to @xmath16 , when @xmath0 gets large .",
    "a customer leaves a queue of cluster @xmath3 according to a poisson process with rate @xmath17 .",
    "if there is no customer in the queue , nothing happens .",
    "she joins the infinite - sever queue where service time has an exponential distribution with parameter @xmath18 .",
    "then she chooses to join cluster @xmath19 with probability @xmath20 .",
    "for that , she chooses two queues at random in cluster @xmath19 , and the system indicates the least loaded among the two queues , ties being solved at random .",
    "she returns at this queue if it is possible .",
    "otherwise , she remains in the infinite - server queue and thus reattempts selecting another cluster , after some time still exponentially distributed with parameter @xmath18 , then a third one if the two queues chosen in the second one are saturated , until she joins a one - server queue .",
    "all the interarrival and service times are assumed to be independent .",
    "the key state process is then described .",
    "let the process @xmath21 be defined where @xmath22 is the proportion of queues of cluster @xmath3 with more than or equal to @xmath23 customers at time @xmath24 ( the number of queues of cluster @xmath3 with more than @xmath23 customers divided by the number @xmath13 of queues of cluster @xmath3 ) .",
    "it is a time continuous markov process irreducible on the finite state space @xmath25 , whose @xmath26-matrix is given by , for @xmath27 , @xmath28 the first transition corresponds to the departure of a customer from a queue of cluster @xmath3 with @xmath23 customers ( to queue @xmath8 ) , while the second transition to the arrival of a customer in a queue of cluster @xmath3 with @xmath23 customers ( from queue @xmath8 ) .",
    "as @xmath0 gets large , the system behaves as the solution of a dynamical system .",
    "it is given by the following proposition .",
    "if @xmath29 converges in distribution to @xmath30 then the markov process @xmath31 converges in distribution to the unique solution @xmath32 of the following ode , for @xmath33 , @xmath34 with @xmath35 .",
    "the proof is classical and omitted .",
    "let us introduce the following notations .",
    "let @xmath33 .",
    "@xmath36 @xmath37 is called the utilization of a queue in cluster @xmath3 and @xmath38 the relative utilization of a queue in cluster @xmath3 .",
    "an equilibrium point of this dynamical system is thus a solution @xmath39 of @xmath40 where @xmath41    the proof of the uniqueness of the equilibrium point , i.e. the solution of equation   is given in @xcite .",
    "the sketch of the proof is recalled here for the clarity of the exposition .",
    "the proof is the following .",
    "first , let @xmath42 be fixed .",
    "there is a probabilistic interpretation for the equilibrium point @xmath43 of the ode  . by equation",
    ", @xmath44 is the limiting distribution of the stationary number of customers in a queue in a system of @xmath45 queues with the same capacity @xmath14 , where service times at each queue are independent with exponential distribution with mean @xmath7 and where the arrival process at the system is a poisson process with rate @xmath46 , customers choosing then two queues at random among the @xmath45 and going to the least loaded , ties being solved at random , where @xmath4 is solution of equation  .",
    "inter arrival times and service times are assumed to be independent .",
    "note that @xmath47 depends on all the @xmath44 , @xmath33 .",
    "thus its existence and uniqueness has to be proved .",
    "two main arguments are needed .",
    "first , let such a system of @xmath45 queues with a two - choice strategy be with a fixed arrival rate @xmath48 .",
    "there exists a unique equilibrium point @xmath49 for the associated dynamical system @xmath50 , limit as @xmath45 gets large of the process @xmath51 where @xmath52 is the vector of the proportion at time @xmath24 of queues with more than @xmath23 customers , @xmath53 .",
    "it is given by the following lemma .",
    "[ 2-choice - fp - existence ] there exists a unique solution @xmath54 of @xmath55    if @xmath56 is infinite , this result is known for a long time ( see for example @xcite or @xcite ) and have an explicit form @xmath57 in case of finite capacity , the result is given in @xcite , where the proof is detailed .",
    "nevertheless , an explicit expression is not available .",
    "second , the following monotonicity property is very useful .",
    "[ 2-choice - fp - monotonicity ] @xmath58 is an increasing function of @xmath4 .",
    "it can be proved by a coupling argument that , if @xmath59 then , for each @xmath23 , @xmath60 , for each @xmath61 , @xmath62 . as usual , such a proof is tedious but necessary to avoid mistakes .",
    "it has been skipped in @xcite .",
    "it is given here in appendix .",
    "taking the limit as @xmath0 tends to @xmath63 , it ends the proof .",
    "[ fp_uniqueness ] there exists a unique solution @xmath64 to equation  , given , for @xmath33 and @xmath65 , @xmath66 where @xmath4 is the unique solution of @xmath67    let @xmath39 be an equilibrium point of the dynamical system .",
    "then , by definition , @xmath39 is solution of  . by lemma [ 2-choice - fp - existence ] , @xmath68 where @xmath4 is given by equation  .",
    "therefore , the existence and uniqueness of @xmath39 reduces to the existence of such a @xmath4 solution of  .",
    "this equation can be rewritten as equation  .    by lemma  [ 2-choice - fp - monotonicity ] ,",
    "the right hand side of equation   is an increasing function of @xmath4 , from 0 to @xmath63 .",
    "thus there exists a unique @xmath69 solution of .",
    "the following proposition ensures that the limit as @xmath0 gets large of the stationary proportion of queues of cluster @xmath3 with more that @xmath23 customers is given by the equilibrium point of the ode i.e. @xmath66 .",
    "[ convergence_des_mesures_invariantes ] the sequence of invariant measures of @xmath31 converges as @xmath0 gets large to the dirac mass at @xmath39 i.e. @xmath70 converges to the deterministic vector @xmath39 , as @xmath0 tends to infinity .",
    "assume now that only a fraction @xmath5 of customers joining cluster @xmath3 choose among two queues when leaving the infinite - server queue .",
    "proposition  [ sysdeuxclusters ] can be rewritten as follows .",
    "if @xmath29 converges in distribution to @xmath30 then the markov process @xmath31 converges in distribution to the unique solution @xmath32 of the following ode , for @xmath33 , @xmath71 with @xmath35 .    then proposition  [ fp_uniqueness ]",
    "can also be rewritten as follows .",
    "[ fp_uniqueness_r ] there exists a unique solution @xmath64 to @xmath72 given , for @xmath33 and @xmath65 , by @xmath66 where @xmath4 is the unique solution of @xmath73",
    "the proof uses that lemma  [ 2-choice - fp - existence ] remains true in the extended framework .",
    "furthermore proposition  [ convergence_des_mesures_invariantes ] holds .    to conclude , convergence results adapt to the case where @xmath740,1[$ ] .",
    "it has a great importance in applications because in practice , only a fraction of users can follow incentives to go to a queue given by an advisor .",
    "in this model , by propositions  [ fp_uniqueness ] and  [ convergence_des_mesures_invariantes ] , @xmath4 is a parameter for @xmath6 by equation   and the limiting stationary state given by the @xmath75 s .",
    "thus , as @xmath0 tends to infinity , the limiting proportion of problematic queues in each cluster can be plotted by a parametric curve in @xmath4 as a function of the proportion @xmath6 of customers per queue and then the global limiting proportion of problematic queues .",
    "the aim is to investigate this function",
    ". it will reduce to study its behavior around the different minima of the limiting proportions of problematic queues in each cluster . in the following ,",
    "the system is always studied as it gets large even if the word limiting is not mentioned .",
    "[ perf_totale ] let @xmath12 be fixed .",
    "denote by @xmath76 the vector @xmath77 and by @xmath56 the vector @xmath78 .",
    "let @xmath79 where @xmath80 be the limiting global proportion of problematic queues .",
    "note that @xmath81 is the proportion of problematic queues in cluster @xmath3 , also denoted by @xmath82 in the following , with a slight abuse of notation , as the dependence on @xmath38 and @xmath14 is not explicitly expressed .",
    "note also that for @xmath83 , @xmath84 reduces to @xmath85 .",
    "unfortunately , there is no explicit form for @xmath86 as the capacity of the queues is finite .",
    "one can wonder whether the explicit expression of @xmath58 for @xmath87 can be used as a good approximation for @xmath88 , because in practice @xmath56 is equal to a few tens .",
    "in fact this approximation is far to be sufficient .",
    "take the homogeneous case @xmath83 .",
    "the behavior of the proportion of problematic queues around the minimum is described by a very short interval @xmath89 , @xmath4 close to @xmath7 ( see details in ( * ? ? ?",
    "* theorem 2 ) ) . for this interval , the previous approximation collapses .",
    "theorem 2 in @xcite fills this gap by describing precisely the behavior of the performance around its minimum . in the case of different clusters ,",
    "the situation is more complicated .",
    "the behavior of the curve when @xmath4 is not close to @xmath7 is also needed .",
    "for example for @xmath89 , the approximation when @xmath87 is used .",
    "the following section provides such approximations .",
    "it recalls first the result of theorem 2 in @xcite for the homogeneous case @xmath83 , when @xmath89 , @xmath4 close to @xmath7 , then gives approximations in the two cases @xmath89 and @xmath90 .      for that ,",
    "let us focus on the homogeneous case @xmath83 .",
    "for sake of simplicity , and with a slight abuse of notation , the notation @xmath39 is replaced by either @xmath91 or @xmath92 .",
    "the first lemma aims to rewrite equation    equation   is equivalent to @xmath93    indeed , by equation  , it holds , for @xmath60 , @xmath94 the equivalence follows .    to understand the behavior of the performance , the proportion of problematic queues denoted by @xmath85 and defined as @xmath95 has to be determined as long as @xmath96 which allows to obtain @xmath6 .",
    "these values are needed with the largest precision according to the value of parameter @xmath4 . for @xmath89 and close to @xmath7 ,    [ rho=1 ]    1 .   for @xmath97 $ ] , @xmath98 .",
    "@xmath99 and @xmath100 .",
    "[ fg_th2 ] in an homogeneous system with 2-choice incentives , the proportion of problematic queues @xmath101 is less than @xmath102 for all @xmath103 $ ] .",
    "the two previous results are proved in ( * ? ? ? * theorem 2 ) .    the following lemma deals with the case @xmath89 .    [ rho<1 ] for @xmath89 , ( i ) @xmath104 , + ( ii ) @xmath105 where @xmath106 .    for @xmath107 , @xmath108",
    "( see details in ( * ? ? ?",
    "* theorem 2 ) ) .",
    "then , using equation  , for @xmath60 , @xmath109 .",
    "thus the last inequality in ( ii ) holds .",
    "let @xmath110 . still using equation  , for @xmath60 , @xmath111 note that the proof of ( * ? ? ?",
    "* theorem 2 ) leads to @xmath112 , for each @xmath107 . if @xmath89 , a better bound can be obtained . using equation  , for @xmath60 , @xmath113 then by induction , for @xmath60 , @xmath114 . but",
    "@xmath115 , thus @xmath116",
    ". therefore @xmath117 by a direct recurrence , already in the proof of ( * ? ? ?",
    "* theorem 2 ) , @xmath118 , and therefore @xmath119 .",
    "it yields @xmath120 furthermore , to prove ( ii ) , @xmath121 where @xmath122 it ends the proof .    for @xmath90",
    ", queues tend to be overloaded .",
    "it is thus interesting to introduce the number @xmath123 of queues with more than @xmath23 empty slots , instead of the number of queues with more than @xmath23 customers .",
    "the study of @xmath124 leads to the following result .",
    "[ rho>1 ] for @xmath125 ,    1 .",
    "@xmath126 + where @xmath127 with @xmath128 , @xmath129 @xmath130 2 .",
    "@xmath131 .    * remark . *",
    "first here @xmath132 has not an explicit expression but is numerically computable .",
    "second , the value of @xmath133 is negligible for the practical values of @xmath56 .",
    "numerically , note first that @xmath6 is close to @xmath56 for @xmath134 .",
    "the mean capacity of stations in paris is more than @xmath135 , with a standard deviation of 13 . for @xmath134 and @xmath136 , @xmath137 which is negligible compared to @xmath7 .",
    "the proof is given in appendix .",
    "this section deals with the two - cluster case in order to have simple and readable results .",
    "the two clusters are numbered such that @xmath138 . by definition ,",
    "@xmath139 . as investigated in section  [ hom",
    "] , the interval of @xmath4 for which the proportion of problematic queues of cluster @xmath3 is minimal is very centered around @xmath140 . in the case of two clusters ,",
    "the trends are the following : the proportion of problematic queues in cluster @xmath7 is minimal on an interval corresponding to @xmath141 close to @xmath7 , i.e. for @xmath4 close to @xmath142 .",
    "this interval does not correspond to @xmath143 close to @xmath7 , thus does not match with the region where the proportion of problematic queues in cluster @xmath144 is minimal , which is very centered around @xmath145 .",
    "therefore there are two different regions where the proportion of problematic queues is minimal in each cluster .",
    "concerning the global proportion of problematic queues , there are two plateaux .",
    "the first one corresponds to @xmath145 and the second one to @xmath146 .",
    "a result similar to corollary  [ fg_th2 ] holds for the first plateau corresponding to @xmath145 .",
    "recall that as given in definition  [ perf_totale ] , @xmath81 is the proportion of problematic queues in cluster @xmath3 given by @xmath147 , @xmath148 is the global proportion of problematic queues in the system given by equation  , and @xmath6 is given as a function of @xmath4 by equation  .",
    "[ prop : premier palier ] in a two - cluster system with two - choice incentives , a first plateau corresponds to @xmath4 close to 1 and @xmath149 while @xmath150 .",
    "more precisely , @xmath151 for all @xmath6 in @xmath152.\\end{gathered}\\ ] ]    let @xmath4 be in @xmath153 $ ] . on one hand , by lemma  [ rho=1 ] , @xmath154 .    on the other hand , on this interval of @xmath4 ,",
    "@xmath155 $ ] .",
    "but @xmath156 let @xmath157 .",
    "by equation  , thus , @xmath158 and then , by definition of @xmath101 , @xmath159 as @xmath160 , by equation  , the sum of the two last terms of the right - hand side of equation   is less than @xmath161 . hence , @xmath162 furthermore , for @xmath163 , @xmath164 by lemma  [ rho=1 ] and @xmath165 , by lemma  [ rho<1 ] and the monotonicity of @xmath166 as a function of @xmath4 . then for @xmath145 , @xmath167 by lemma  [ rho=1 ] and @xmath168 , by lemma  [ rho<1 ] .",
    "then , for all @xmath169,\\ ] ] @xmath170 $ ] .",
    "it ends the proof .",
    "similarly , the following result holds .",
    "let us denote @xmath171 . only the case where @xmath172 will be investigated .",
    "a similar result will be proved in the other case .",
    "if @xmath172 , in a two - cluster system with two - choice incentives , a second plateau corresponds to @xmath173 and close to @xmath142 and @xmath174 while @xmath175 .",
    "more precisely , @xmath176 for all @xmath6 in @xmath177.\\end{gathered}\\ ] ] [ prop : second palier ]    let @xmath4 be in @xmath178 $ ] . by lemma  [ rho=1 ] , @xmath179 .",
    "then , because @xmath172 , by lemma  [ rho>1 ] , @xmath180 .    using the same two lemmas , taking @xmath181 , as @xmath182 is close to @xmath7 , @xmath183 and @xmath184 and taking @xmath146 , @xmath185 and @xmath186 . putting the last two arguments together",
    "ends the proof .",
    "first , the proportion of problematic queues @xmath82 in each cluster @xmath3 is plotted as a function of @xmath6 .",
    "the value of the different parameters are indicated in figure  [ fig : deux clusters 1 ] .",
    "[ h ]    0.45    table[x = x , y = y ] donnees / prob1.dat ;    0.45    table[x = x , y = y ] donnees / prob2.dat ;    both regions analysed in sections  [ premier_palier ] and  [ second_palier ] are observed for both clusters :    * a region where the proportion of problematic queues is very low , as for the 2-choice regulated homogeneous model .",
    "it corresponds to the interval @xmath187 $ ] of values of @xmath6 for cluster @xmath7 ( figure  [ fig : prob1 ] ) and @xmath188 $ ] for cluster 2 ( figure  [ fig : prob2 ] ) . * a region where the proportion of problematic queues is quasi constant , which matches the region where it is minimal for the other cluster . for cluster 1 ,",
    "it is interval @xmath188 $ ] and on this interval @xmath189 . for cluster 2 , on @xmath190 on @xmath187",
    "$ ] .    then figure  [ fig : prob ] plots the global proportion of problematic queues for the model with the same parameters .",
    "note the presence of the two plateaux :    * the first one for @xmath89 , @xmath4 close to @xmath7 , due to cluster1-queues . by equation  ,",
    "@xmath191 it corresponds to the interval @xmath188 $ ] of @xmath6 . by blue dashed lines ,",
    "the interval of @xmath6 @xmath192 $ ] determined in proposition  [ prop : premier palier ] is drawn .",
    "recall that on this interval , explicit bounds on performance are given . * a second one for @xmath4 close to @xmath142 , due to cluster2-queues . on this interval , @xmath193 this plateau corresponds to @xmath6 in @xmath187 $ ] .",
    "green dashed lines draw bounds obtained in proposition  [ prop : second palier ] , i.e. @xmath6 in @xmath194 $ ] .      0.7    table[x = x , y = y ] donnees / prob.dat ; table[x = x , y = y ] donnees / premierpalier.dat ; table[x = x , y = y ] donnees / secondpalier.dat ; table[x = x , y = y ] donnees / borne1.dat ; table[x = x , y = y ] donnees / borne2.dat ; table[x = x , y = y ] donnees / borne3.dat ; table[x = x , y = y ] donnees / borne4.dat ;    ( 10,40 ) ( 10,80 ) ( -192,30 ) ( -110,30 ) ( -155,90 ) ( -40,50 )      0.7    table[x = x , y = y ] donnees / prob.dat ; table[x = x , y = y ] donnees / premierpalier.dat ; table[x = x , y = y ] donnees / secondpalier.dat ; table[x = x , y = y ] donnees / borne1.dat ; table[x = x , y = y ] donnees / borne2.dat ; table[x = x , y = y ] donnees / borne3.dat ; table[x = x , y = y ] donnees / borne4.dat ;    ( 0,40 ) ( 0,80 ) ( -160,30 ) ( -110,30 ) ( -70,30 ) ( -40,30 )    0.7    table[x = x , y = y ] donnees / prob.dat ; ; table[x = x , y = y ] donnees / probgrandlmu.dat ; ;    eventually , figure  [ fig : influence lambda ] represents the influence of @xmath195 on the model . by definition  [ lambda ] , @xmath195",
    "is directly related to the load characteristics of the different clusters and generalizes @xmath196 when @xmath83 . by equation",
    ", @xmath195 appears in the expression of @xmath6 only by the term @xmath197 , increasing @xmath195 will shift the curve to the right just slightly modifying the different interval shape or size .",
    "the different cacacities do not change the performance for the plateaux .",
    "they change the intervals where these performances are achieved .",
    "the intervals are shifted to the right where the @xmath14 are larger .",
    "a large imbalance between queues increases the probability of problematic queues .",
    "the second plateau is also shifted to the right .",
    "a small cluster with the lowest utilisation , @xmath198 , gives a lower proportion of problematic queues .",
    "moreover , while @xmath199 is large , the plateaux are shifted to the right .    to conclude ,",
    "the worse configuration is a small cluster of queues with high utilization with respect to a large cluster of queues with low utilization .",
    "dimensioning a bike - sharing system means choosing both the capacities and the value of @xmath6 in order to have a minimum proportion of problematic queues . the fluctuations in time of the parameters",
    "is one of the problems to manage the system .",
    "fluctuations of parameters like arrival rates or probabilities to return in queues due for example to flows between housing and working areas , peak activities , etc .",
    "just affect quantity @xmath195 .",
    "the clusters are assumed to be fixed during the time , thus the vectors @xmath76 and @xmath56 are fixed .",
    "therefore , the problem reduces to obtain a system able to work for the different values of utilization , more precisely from a very low @xmath200 , close to @xmath8 to a maximum @xmath201 value of @xmath195 .",
    "* one - cluster case .",
    "*    one has to design a system able to work efficiently for different arrival rates .",
    "we consider a two - choice regulated homogeneous system where the capacity @xmath56 of the queues and also the proportion @xmath6 of customers per queue has to be determined .",
    "one has to manage a system working from @xmath202 to @xmath203 .",
    "the mean trip time does not vary over time . in corollary",
    "[ fg_th2 ] , an interval for @xmath6 @xmath204 $ ] is determined where the performance is very good .",
    "@xmath56 must be chosen such that both intervals for @xmath205 and @xmath206 have a non empty intersection , that is written @xmath207 it is equivalent to @xmath208 function @xmath209 is strictly increasing on @xmath210 and positive for @xmath211 .",
    "it admits an inverse function defined on @xmath2120,+\\infty[$ ] and it is just obtained when @xmath213 .",
    "for example , when @xmath214 , take just @xmath215",
    ". then @xmath6 must be taken between @xmath216 and @xmath217 .",
    "note that in practice , bounds are not so tight even if they provide an interval for @xmath6 where the performance is very weak .",
    "in fact this interval is very close to @xmath218 $ ] .",
    "a lower minimal value of @xmath56 can be expected . in the previous numerical example , this minimal value is not far from @xmath219 .",
    "it is commonly admitted that in paris @xmath6 is fixed to @xmath220 while in lyon to @xmath221 , @xmath56 being a mean value of the queue capacities .",
    "a data analysis would be necessary to discuss the relevancy of these choices .",
    "of course , a homogeneous model is a very rough picture of the system .",
    "* two - cluster case . * the same kind of dimensioning could be attempted in this case . because if the two plateaux , the idea is to manage the system in order to obtain the lowest proportion of problematic queues .",
    "there are two cases according which of the two plateaux give the best performance .",
    "the study is limited to one of these two cases , the other one being more intricate .",
    "if @xmath222 i.e. @xmath223 then one has to choose @xmath56 such that the first plateaux for @xmath224 and @xmath225 have a non empty intersection , that is written @xmath226 it is equivalent to @xmath227 then to @xmath228 moreover , for such a @xmath229 , @xmath6 must be taken between @xmath230 and @xmath231 .",
    "for example , when @xmath232 , @xmath233 , take just @xmath234 and for @xmath6 in the previous interval , the proportion of problematic queues is minimal equal to @xmath235 .",
    "via the analysis of the large closed network with two clusters and a two - choice strategy , the behavior of this model is quite well understood .",
    "the results underscore that , due of the heterogeneity , the system does not perform well in the sense that there there always a cluster with a non negligible proportion of problematic queues .",
    "it can not disappear by sizing the system .",
    "capacities and fleet size can be ajusted to obtain the lowest proportion of problematic queues , but this value is a function of the cluster size and imbalance of the stations .    in the dimensioning problem , knowing precisely the intervals where the proportion of problematic queues is low is crucial .",
    "bounds derived for that purpose do not seem to be tigh and need to be improved .",
    "moreover , this analysis should be extended to any number of clusters .    in applications , due to incentives ,",
    "only a fraction of users follow the rule . though the convergence results hold ,",
    "the behavior remains to understand .",
    "this is a challenging problem for future work .",
    "proof of lemma  [ 2-choice - fp - monotonicity ]      note that there is no explicit expression for the @xmath237 s for @xmath238 .",
    "if @xmath87 , using this expression  , it is clear that , for each @xmath23 , @xmath237 is an increasing function of @xmath4 .",
    "it leads to prove this strongest result .",
    "this result is proved by coupling .",
    "let @xmath4 and @xmath239 be such that @xmath240 .",
    "blue customers arrive according to a poisson process with parameter @xmath241 .",
    "independently , red customers arrive according to a poisson process with parameter @xmath242 .",
    "take two join - the - shortset - queue - among - two systems with @xmath0 queues described as previously . in system 1 , the arriving process is the process with blue customers . in system 2 ,",
    "the arriving process is the superposition of the processes with blue and red customers , which is poisson with parameter @xmath239 . in both systems ,",
    "blue customers have the same arriving and service times , and choose the same two queues , ties being solved with the same bernoulli random variables .",
    "let us define the two following operations : + - _ exchange _ a red and a blue customer means that they change both color and residual service times .",
    "+ - _ repaint _ a red in blue occurs at the arrival of a blue customer .",
    "this latest one is lost , but the red one ( already queuing ) takes his color ( blue ) and service time .",
    "we construct a coupling _ repainting _ sometimes a red customer in blue or _ exchanging _ a red and a blue customer , such that , at each time , at each queue , the blue customers are the _ same _ in both systems . _ the same _ means there is the same number of customers , in the same order , with the same residual service times , and at the beginning of the queue ( red are always behind ) .",
    "let this assertion at time @xmath24 be called @xmath243 .",
    "it implies that for each @xmath61 , @xmath244 .    for",
    "that we prove that , if @xmath245 is true just before an arrival or a departure of a customer , then it is true after this time .",
    "it is obvious at a departure time of a customer or at an arrival time of a red customer .    at an arrival time of a blue customer ,",
    "say time @xmath24 , let the two choosen queues be @xmath3 and @xmath19 .",
    "assume that @xmath246 .",
    "recall @xmath247 is true .",
    "prove @xmath243 distinguishing different cases .    * if @xmath248 and @xmath249 , then the blue customer is accepted in queue @xmath3 in both systems .",
    "so @xmath243 holds . * if @xmath248 and @xmath250 , then the blue customer is accepted in queue @xmath3 for system 2 . in system 1",
    ", there is a tie .",
    "if it is solved with the blue customer in queue @xmath3 , @xmath243 holds .",
    "otherwise it is solved with the blue customer in queue @xmath19 .",
    "but there is at least one red customer in queue @xmath19 , so repaint the first one in the queue in blue and the arriving blue customer ( in queue @xmath3 in system 2 ) in red .",
    "it means also that the service time of the arriving blue customer is exchanged with the residual service time of the red one .",
    "notice that this residual service time has also an exponential distribution with parameter @xmath7",
    ". thus @xmath243 holds . *",
    "if @xmath251 and @xmath252 , for example @xmath249 .",
    "thus in system 1 , the arriving blue customer goes to queue @xmath3 .",
    "there is a choice in system 2 and do as in case ( b ) . *",
    "if @xmath253 and @xmath254 , the blue customer is rejected in both systems .",
    "@xmath243 holds . * if @xmath253 and @xmath255 or @xmath256 .",
    "the arriving blue customer is accepted in system 1 , for example in queue @xmath3 .",
    "but the arriving blue customer is rejected in system 2 .",
    "nevertheless , in this case , there is one red customer in queue @xmath3 thus the first one is painted in blue , his remaining service time becomes the same as the service time of the blue customer accepted in system 1 .",
    "it is clear that his total service time has an exponential distribution with parameter 1 . *",
    "if @xmath248 and @xmath257 , in system 1 , the blue customer is accepted at queue @xmath3 , in system 2 at queue @xmath19 .",
    "but in system 2 , there is at least one red customer in @xmath19 , thus _",
    "exchange _ the first red one with the arriving blue one as in case ( b ) .",
    "thus @xmath243 holds .    moreover , it remains to check that process @xmath258 considered in this coupling is indeed a join - the - shortset - queue - among - two system with parameter @xmath259 .",
    "for that , it is sufficient to check that the random variable @xmath260 where @xmath261 , @xmath262 and @xmath263 are i.i.d .",
    "random variables , with exponential distribution with parameters @xmath7 , @xmath7 and @xmath4 , has an exponential distribution with parameters @xmath7 .",
    "it is straightforward , replacing first @xmath263 by @xmath24 .",
    "it yields from definition that , for @xmath266 , @xmath267 . plugging in equation  , for @xmath266 , @xmath268 .",
    "in particular , @xmath269 and @xmath270 . indeed , using that for @xmath145 , @xmath271 ( see the proof of ( * ? ? ?",
    "* theorem 2 ) for details ) , and applying lemma  [ 2-choice - fp - monotonicity ] , which implies that @xmath92 is an increasing function of @xmath4 , component by component , the following equation holds , @xmath272 but , by induction then simple algebra , for @xmath266 , @xmath273 for @xmath274 , summing the previous inequalities for @xmath3 from @xmath7 to @xmath56 , it holds that @xmath275      by induction , it is then easy to prove that for @xmath53 , @xmath280 . summing from @xmath7 to @xmath56 yields the first inequality of ( i ) .",
    "let us prove ( ii ) .",
    "by definition , @xmath281 plugging equation in it leads to ( ii ) .",
    "it ends the proof ."
  ],
  "abstract_text": [
    "<S> a heterogeneous closed network with @xmath0 one - server queues with finite capacity and one infinite - server queue is studied . </S>",
    "<S> a target application is bike - sharing systems . </S>",
    "<S> heterogeneity is taken into account through clusters whose queues have the same parameters . </S>",
    "<S> incentives to the customer to go to the least loaded one - server queue among two chosen within a cluster are investigated . by mean - field arguments , </S>",
    "<S> the limiting queue length stationary distribution as @xmath0 gets large is analytically tractable . </S>",
    "<S> moreover , when all customers follow incentives , the probability that a queue is empty or full is approximated . sizing the system to improve performance is reachable under this policy . </S>"
  ]
}