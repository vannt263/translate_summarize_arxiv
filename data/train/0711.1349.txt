{
  "article_text": [
    "cellular automata ( ca ) rules possessing additive invariants have been studied since early 90 s .",
    "the simplest form of an additive invariant is the sum of all site values over a finite lattice with periodic boundary conditions .",
    "rules with such an invariant are known as number - conserving rules , and they exhibit many interesting properties .",
    "for example , they can be viewed as systems of interacting particles @xcite . in a finite system ,",
    "the flux or current of particles in equilibrium depends only on their density .",
    "the graph of the current as a function of density characterizes many features of the flow , and is therefore called the fundamental diagram .",
    "fundamental diagrams of number - conserving ca exhibit intriguing singularities , which have been investigated extensively @xcite .",
    "although the general conditions for existence of additive invariants are known @xcite , not much is known about the distribution of ca rules possessing invariants in the space of all ca rules . in this paper",
    ", we will demonstrate that for the case of two - input rules , number - conserving ca are equivalent to so - called balanced sequences , and , therefore , can be enumerated .",
    "we will also show that the proportion of number - conserving rules among all ca rules is decreasing and tends to zero as the number of states increases .",
    "let @xmath1 be a finite set of states , equal to @xmath2 . given a positive integer @xmath3 ,",
    "let @xmath4 be a local function of one - dimensional cellular automaton , also called _",
    "ca rule_. the rule @xmath5 is _ number - conserving _ if , for all cyclic configurations @xmath6 of length @xmath7 , it satisfies @xmath8 the following characterization of number - conserving rules will be useful in subsequent considerations .",
    "it is a special case of a general result of hattori and takesue @xcite , which has been recently generalized and further developed by several other authors @xcite .",
    "a one - dimensional @xmath0-state @xmath3-input ca rule @xmath5 is number - conserving if , and only if , for all @xmath9 , it satisfies @xmath10    in this paper , we will be interested in enumeration of number - conserving rules .",
    "let @xmath11 be the number of number - conserving rules with @xmath3 inputs and @xmath0 states .",
    "the general formula for @xmath11 is not currently known , and finding such formula appears to be rather difficult .",
    "therefore , one could at first attempt to attack special cases .",
    "for @xmath3-input binary rules , first five terms of the sequence @xmath12 have been obtained by a direct computer - assisted search  @xcite .",
    "these terms are @xmath13 .",
    "unfortunately , closed - form expression for this sequence remains unknown .",
    "since @xmath14 is the smallest number of states yielding non - trivial ca , one could also consider a somewhat complementary case , namely the smallest @xmath3 which yields non - trivial rules , which is obviously @xmath15 .",
    "we will therefore attempt to find @xmath16 . for two - input rules ,",
    "condition ( [ nscond ] ) simplifies significantly , becoming @xmath17 obviously , we also require that all outputs of @xmath5 remain in the set @xmath1 , that is , @xmath18",
    "we will now demonstrate that conditions ( [ n2cond ] ) and ( [ bounds ] ) can be reduced to a set of double inequalities .",
    "first , it will be useful to write conditions ( [ n2cond ] ) and ( [ bounds ] ) separately for @xmath19 and @xmath20 cases .",
    "this yields @xmath21 where @xmath22 and @xmath23 .",
    "notice that for @xmath24 , eq .",
    "( [ a3 ] ) leads to @xmath25 .",
    "taking this into account , ( [ a3 ] ) becomes @xmath26 , hence we can treat @xmath27 for @xmath28 as `` free '' parameters . let us define @xmath29 by @xmath30 for all @xmath31 . using this notation , eq .",
    "( [ a1 ] ) becomes @xmath32 this means that conditions ( [ a1][a4 ] ) reduce to @xmath33 where @xmath34 , and @xmath35 .",
    "in other words , a number - conserving ca rule is uniquely defined by a sequence of @xmath0 integers @xmath36,@xmath37 , @xmath38 , @xmath39 satisfying the condition ( [ singlecond0 ] ) and the set of double inequalities ( [ singleconda ] ) and ( [ singlecondb ] ) .",
    "if we know the sequence @xmath40 , we can determine all outputs of @xmath5 by using equation ( [ outputs ] ) .",
    "we will say that @xmath40 is the _ defining sequence _ of @xmath5 .",
    "table 1 shows examples of number - conserving rules and their defining sequences for @xmath41 , and @xmath42 .    in what follows",
    ", it will be more convenient to work with slightly transformed version of inequality ( [ singlecondb ] ) .",
    "defining @xmath43 , @xmath44 , and rewriting ( [ singlecondb ] ) with these indices one obtains the following proposition .",
    "[ th2 ] two - input @xmath0-state ca rule @xmath5 is number - conserving if and only if for all @xmath45 @xmath46 where @xmath47 is a sequence of integers satisfying @xmath48 for all @xmath49 .",
    ".two - input number - conserving rules with two , three , and four states .",
    "each rule is represented by a sequence of output values @xmath50 , where @xmath51 for @xmath52 . in particular , for all @xmath53 one has @xmath54",
    ", i.e. , in each line the framed suffix @xmath55 is the defining sequence of the rule .",
    "[ cols= \" < , < , < \" , ]     conditions ( [ line1 ] ) and ( [ line2 ] ) can be simplified even further .",
    "first of all , ( [ line1 ] ) and ( [ line2 ] ) are equivalent to four inequalities @xmath56 for all @xmath49 .",
    "inequality ( [ part3 ] ) is equivalent to @xmath57 , but @xmath58 , thus we obtain @xmath59 .",
    "when @xmath60 , inequality ( [ part4 ] ) leads to @xmath61 for all @xmath62 , which means that @xmath36 is the largest term of the sequence .",
    "therefore , ( [ part4 ] ) is equivalent to @xmath63 for all @xmath64 .",
    "using this fact , the set of conditions ( [ line0][line2 ] ) becomes @xmath65 for all @xmath64 .",
    "note that the condition @xmath66 has been dropped , since it follows from ( [ p1 ] ) and ( [ p3 ] ) .",
    "now we have a system of inequalities with only one index , and they can be combined together .",
    "the lower bounds on @xmath67 are @xmath68 and @xmath69 , hence this yields @xmath70 .",
    "the upper bounds are @xmath71 , @xmath72 , and @xmath36 .",
    "the first of them is redundant , hence we have @xmath73 .",
    "all of this leads to a modified version of the previous proposition .",
    "[ mainprop ] two - input @xmath0-state ca rule @xmath5 is number - conserving if and only if for all @xmath45 @xmath46 where @xmath47 is a sequence of integers satisfying @xmath74 for all @xmath75 .",
    "an integer sequence @xmath29 satisfying ( [ balanced ] ) will be called _",
    "balanced sequence_. balanced sequences were introduced by sheppard @xcite as a representation of _ properly labelled balanced graphs _",
    ", introduced earlier by rosa  @xcite . proposition [ mainprop ]",
    "establishes one - to - one correspondence between balanced sequences and number - conserving ca rules with two inputs .",
    "enumeration of balanced sequences is a known combinatorial problem . in particular",
    ", one can show that the number of balanced sequences with @xmath0 terms is equal to @xmath76 when @xmath0 is even , and @xmath77 ! [ ( q+1)/2 ] !",
    "$ ] when @xmath0 is odd .",
    "the proof of this result can be found in @xcite , and will not be reproduced here . since the number of balanced sequences is equal to @xmath16 , we immediately obtain the following theorem .",
    "there exist @xmath16 number - conserving ca rules with two inputs and @xmath0 states , where    @xmath78    first ten terms of @xmath16 are 1 , 2 , 4 , 10 , 30 , 106 , 426 , 1930 , 9690 , 53578 .",
    "compared to the sequence representing the total number of ca rules with @xmath0 states , the sequence @xmath16 grows rather slowly .",
    "we will now show that number - conserving ca rules are becoming increasingly rare as the number of states increases . since the number of all two - input @xmath0-state ca rules is equal to @xmath79 , for the case when @xmath0 is even one needs to consider the limit @xmath80 using stirling s approximation @xmath81 , one obtains @xmath82 since @xmath83 the limit ( [ limq ] ) is equal to @xmath68 .",
    "for the case of odd @xmath0 a very similar computation yields the same result .",
    "this leads to the following corollary .",
    "the proportion of number - conserving rules among all ca rules with two inputs tends to zero as @xmath0 increases , that is , @xmath84",
    "we have demonstrated that there exist one - to - one correspondence between number - conserving two - input ca rules with @xmath0 states and balanced sequences of length @xmath0 .",
    "the method of generating and counting all balanced sequences of length @xmath0 has been described in @xcite .",
    "therefore , our result completely solves the enumeration problem for two - input number - conserving ca rules with @xmath0 states .    it should be possible to generalize this result to rules with larger neighbourhood sizes , by observing that eq .",
    "( [ nscond ] ) for @xmath20 becomes @xmath85 which further simplifies to @xmath86 .",
    "this means that @xmath87 for @xmath88 can again be treated as free parameters , and that an equivalent of proposition  [ th2 ] can be constructed .",
    "it is not immediately clear , however , how to count sequences satisfying the resulting set of inequalities .",
    "another interesting problem is the connection with graph theory .",
    "balanced sequences were originally proposed to represent properly labelled balanced graphs .",
    "this means that each number - conserving ca with two inputs has a natural representation as a labelled graph .",
    "graph representation can be useful to explore symmetries of number - conserving rules as well as some features of their dynamics .",
    "this problem is currently under investigation and will be reported elsewhere .",
    "one of the authors ( h.f . ) acknowledges financial support from nserc ( natural sciences and engineering research council of canada ) in the form of the discovery grant .",
    "h.  fuk .",
    "( 2000 ) . a class of cellular automata equivalent to deterministic particle systems . in a.",
    "t.  lawniczak s.  feng and r.  s. varadhan , editors , _ hydrodynamic limits and related topics _ , fields institute communications series , providence , ri ."
  ],
  "abstract_text": [
    "<S> we show that there exists a one - to - one correspondence between the set of number - conserving cellular automata ( ca ) with @xmath0 inputs and the set of balanced sequences with @xmath0 terms . </S>",
    "<S> this allows to enumerate number - conserving ca . </S>",
    "<S> we also show that number - conserving rules are becoming increasingly rare as the number of states increases . </S>"
  ]
}