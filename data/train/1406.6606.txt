{
  "article_text": [
    "this publication announces the software package written almost exclusively by the author for collisionless simulations of galaxies .",
    "i have developed the code over a period of almost 4 decades , and continue to make refinements ; it has now reached version 14 .",
    "pieces of the code have been described in a number of papers in the literature over the years @xcite the full source code is available , and may be downloaded and installed as described in  [ sec.download ] .",
    "the code may be copied freely ( see  1.2 ) , but people publishing results that use the software it provides should acknowledge the source and cite this paper .",
    "an on - line manual for use of the code is maintained at http://www.physics.rutgers.edu/@xmath1sellwood/manual.pdf .",
    "since this is comprehensive , i give only an outline here .",
    "the quality of any collisionless @xmath0-body simulation is almost entirely limited by the number of particles employed , which places a high premium on efficiency . for many applications of interest ,",
    "the 3d methods described here are tens to hundreds of times faster than the popular tree codes , and the 2d methods have a still greater performance advantage .",
    "however , speed comes at the cost of reduced flexibility and increased danger of compromised results from inappropriate use .",
    "while the code is neither as versatile nor as easy to use as other publicly available packages , the careful user should find the increased quality of the results obtainable is ample compensation for the effort required to learn how to use it .      to make use of an @xmath0-body code",
    ", one must first set up the model to be evolved and afterwards analyze the behavior of the simulation in order to draw conclusions .",
    "the package therefore supplies three integrated pieces of code :    1 .",
    "the most obvious , and in many ways the easiest part to develop and describe , is the code to compute the evolution of an @xmath0-body system .",
    "the program advances a pre - created file of particles in time for as long as is desired .",
    "this is the core of the code , where efficiency is key . at the end , and at intermediate times if desired , it creates a file with the full information about the state of the system , from which the evolution can be continued .",
    "analysis of the results is both more difficult to develop and to describe , largely because almost every project has a different scientific purpose , and therefore requires some piece of analysis that could be unique .",
    "however , most projects also make use of standard analyses of the system state and the code provides many such options .",
    "unlike most other publicly available codes , these standard analyses in the package are computed `` on - the - fly '' , and the results at each analysis step are saved in a file for later examination .",
    "the huge advantage of analysis on - the - fly is that the results are much more compact and can therefore be saved a frequent intervals without the inconvenience of large data storage and time - consuming analysis programs .",
    "the principal disadvantage is , of course , that a simulation must be rerun if a quantity was not measured in the first run .",
    "the analysis options are now well enough developed that this happens but rarely .",
    "3 .   by far the most difficult part of a successful @xmath0-body project is the creation of the desired initial set of particles from which to start the simulation .",
    "assigning initial positions and velocities of a specified system that is to be in equilibrium is generally hard , and it becomes especially difficult for a system , such as a disk galaxy , with multiple mass components : a disk , bulge , and a halo .",
    "the code package includes sophisticated software that can be used in some cases , but naturally not every possible option is anticipated .",
    "is a package of free software , distributed under the gnu general public license .",
    "this implies that the software may be freely copied and distributed .",
    "it may also be modified as desired , and the modified versions distributed as long as any changes made to the original code are indicated prominently and the original copyright and no - warranty notices are left intact .",
    "please read the general public license@xmath2 for more details .",
    "note that the author retains the copyright on the code .",
    "the code is written in standard fortran ( f90 ) and should compile without difficulty .",
    "the basic program uses ffts from the open access package fftpak @xcite that are bundled with the source code .",
    "the post - run analysis software requires the open access package pgplot.tjp/pgplot/ ]    however , some parts of the code do make use of the nag library , which is a commercial package . many institutes and",
    "universities may have it and even a very old version would be adequate .",
    "the package attempts to manage this aspect in as user - friendly manner as possible through the use of an environment variable .    the initialization program and",
    "the main @xmath0-body program should execute without the nag library for most applications .",
    "* thus most @xmath0-body simulations can be run without the nag library*. other goodies , such as parts of the analysis code , and essentially all the set - up software , make more extensive use of the nag library and without it , those wishing to use these powerful tools will have to make a significant programming effort to substitute routines from no - cost libraries .",
    "the main programs , , , and do not make use of mpi calls and can therefore be used only for running on a single processor .",
    "there is a separate set of executables , , , and that enable calculations on multiple processors , which therefore require a system with some version of mpi .",
    "even though these executables must be linked with mpi , they can also be used for running on a single processor if desired . throughout the documentation , the names of these programs are used without the extension to imply both versions .",
    "the installation assumes pgplot@xmath3 and a version of mpi are installed .",
    "the nag@xmath4 library is optional but , without it , many powerful features will be unavailable .",
    "proceed with the following steps :    1 .   to download the software ,",
    "go to the website enter your email address , click download and the file galaxy.tgz will download to your system automatically . (",
    "the email address will enable you to be notified when updates are available . )",
    "this gzipped @xmath5 mb tar file can be moved from your download directory to some convenient location in your directory tree and then unpacked with the command : + and all the files of the package will be created in the directory and subdirectories thereof .",
    "the scripts and makefile assume that the user will be using , and will need to be edited if a different compiler is desired .",
    "3 .   build libraries from the source code .",
    "( these two rebuild scripts use gfortran by default . ) + these scripts should create the two object libraries and in the main directory .",
    "4 .   to run in parallel , the package will need an implementation of mpi .",
    "the scripts and makefile assume openmpi and they will need to be edited if a different installation of mpi is to be used .",
    "the mpi compiler is assumed to be /opt / openmpi / gnu / bin / mpif90 + this script should create the additional object library in the directory .",
    "5 .   to inform the compiler of the location of the pgplot object library ,",
    "edit the line that begins pgplotlib = in the makefile ( in the progs subdirectory ) .",
    "decide whether the nag library is available .",
    "skip to step 7 if nag is unavailable , otherwise there are two additional steps : 1 .",
    "edit the line that begins naglib = in the makefile ( in the progs subdirectory ) to inform the compiler of the location of the nag object library .",
    "2 .   set the environment variable nag with the following command : + if this environment variable is not set , or if it is set to any other value , then a restricted fraction of the code will be compiled . while these programs are generally expected to execute normally , they could terminate gracefully with an explanatory message if a nag routine is required for some particular application .",
    "7 .   compile the code : + the make clean will not only tidy up the directory , but will move all the executables to the user s directory , which is presumed to be in the user s path . to update your path ,",
    "issue the command :    depending upon whether nag is available , the following executables of the package should now be ready for use :    analys , begin , beginmpi , cold , compress , corrplt , dfiter , dflook , finish , finishmpi , galaxy , galaxympi , isotropy , merge , modefit , plotpft , ptest , ptestmpi , smooth , start , startmpi , weed    without nag , only the following restricted set of programs can be used :    analys , begin , beginmpi , finish , finish mpi , galaxy , galaxympi , merge , ptest , ptestmpi    executables without the mpi suffix are for single processors only .",
    "the use of these programs is described in the on - line manual http://www.physics.rutgers.edu/@xmath1sellwood/manual.pdf .",
    "to      @xcite reported that ran @xmath6 times faster than the non - public tree code @xcite on a single processor . here",
    "i report further benchmark tests against the public tree code @xcite .",
    "while has been used quite extensively to simulate isolated galaxies , it was designed for cosmic structure formation calculations that can not be simulated with .",
    "this comparison is simply to highlight the relative efficiency of for isolated galaxies , and is in no way intended as a criticism of .",
    "[ fig.benchmarks ] shows the measured cpu ( wallclock ) time for identical files of equal - mass star particles in simulations with and .",
    "the timings shown are cpu seconds per step averaged over 100 time steps .",
    "the upper panels show scaling with @xmath0 for 8 cores ( left ) and 16 cores ( right ) , while the lower panels show scaling with the number of cores for @xmath7 ( left ) and @xmath8 ( right ) .",
    "all other numerical parameters were held fixed as the particle number and number of cores were varied .",
    "the opening angle used in was 0.5 radians and the particle softening length was @xmath9 .",
    "the left - hand panels are for an equilibrium plummer sphere , of core radius @xmath10 , using the spherical grid option of with surface harmonics @xmath11 included in the force determination .",
    "there were 4 time - step zones , and the grid was recentered every 8 time steps .",
    "the right - hand panels are for a thickened kt disk run using a cylindrical polar grid of size @xmath12 , with sectoral harmonics @xmath13 included in the force determination . in this case",
    ", there were 3 time - step zones , and the grid was not recentered .    as may be seen from the figure ,",
    "runs @xmath14 times faster than for spherical models consistently for all @xmath0 and regardless of the number of processors employed .",
    "for the disk model , the speed advantage of over gradually improves as @xmath0 is increased . because there is a fixed overhead for the grid force determination ,",
    "the running time for barely increases until @xmath15 , and for very large @xmath0 , can be @xmath16 times faster than .",
    "this free software comes with absolutely no warranty .",
    "users are welcome to make use of it , change it , and to redistribute it under certain conditions ",
    "see http://www.gnu.org/licenses/ for details .",
    "it is not expected that a would - be user could download the software provided and quickly run his / her desired simulation using it .",
    "the basic program should prove relatively easy to use as a `` black box '' and i provide a few test cases whose results the user should be able to reproduce without additional coding .",
    "but many possible pitfalls could vitiate results from hasty use in a new application and i anticipate that a capable prospective user would to need to gain many weeks of experience using the package before feeling sufficiently confident that results are publishable .    while the author welcomes reports of bugs in the distributed software , which he will attempt to fix , he is unable to provide help to modify it for some other application .",
    "the user should run the standard tests to ensure that the package has been properly installed , and report to the author if any of these tests fail on the user s system .",
    "but he can not offer help beyond that point .",
    "the author wishes to thank all the many collaborators and graduate students with whom he has worked over the years , many of whom have made helpful suggestions to improve or add to the software .",
    "especially noteworthy contributions have been made by my thesis advisor richard james , whose poisson solver @xcite is bundled verbatim with my code , and my students neil raha , david earn , victor debattista , and juntai shen .",
    "the scf option in the code originates from @xcite and i am grateful for their permission to include some of their code .",
    "joel berrier has assisted by testing pre - release versions of the package .",
    "this work was also supported in part by nsf grant ast/1108977 ."
  ],
  "abstract_text": [
    "<S> this posting announces public availability of the software package developed by the author over the past 40 years . it is a highly efficient code for the evolution of ( almost ) isolated , collisionless stellar systems , both disk - like and ellipsoidal . </S>",
    "<S> in addition to the @xmath0-body code galaxy , which offers eleven different methods to compute the gravitational accelerations , the package also includes sophisticated set - up and analysis software . </S>",
    "<S> this paper gives an outline of the contents of the package and provides links to the source code and a comprehensive on - line manual . while not as versatile as tree codes , the particle - mesh methods in this package are shown , for certain restricted applications , to be between 50 and 200 times faster than a widely - used tree code . </S>"
  ]
}