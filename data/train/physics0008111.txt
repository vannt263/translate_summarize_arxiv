{
  "article_text": [
    "options are financial contracts which give the holder the right to buy ( call options ) or sell ( put options ) commodities or securities for a predetermined exercise ( or strike ) price by a certain expiration date  @xcite .",
    "conventional european ( american ) options can be exercised only on ( at any time up to ) the expiration date .",
    "since the option confers on its holder a right with no obligation , it should carry a price at the time of contract .",
    "it is the classic work of black , scholes and merton  @xcite which suggested a strategy for determining a fair price for the option in a risk - free environment .",
    "closed - form valuation within the black - scholes - merton equilibrium pricing theory  @xcite is only possible for a small subset of financial derivatives . in the majority of cases",
    "one must appeal to numerical techniques such as monte carlo simulations , or finite difference methods and much of the effort in the field has been in developing efficient algorithms for numerically solving the black - scholes equation  @xcite .",
    "an alternative direction has been the evaluation of discrete - time , discrete - state stochastic models of the market on binomial and trinomial trees  @xcite .",
    "not only is this discrete approach intuitive and easily accessible to a less mathematically sophisticated audience ; but it also seems to us to be a more accurate description of market dynamics and better suited for evaluating more involved financial instruments .",
    "moreover , the few exact black - scholes results available can be recovered in the appropriate continuous - time trading limit .",
    "the main difficulty in pricing with binomial trees has been the non - monotonic numerical convergence and the dramatic increase in computational effort with increasing number of time steps  @xcite .",
    "for example , the state of the art calculations involve memory storage scaling linearly ( quadratically ) with the number of time steps , @xmath0 , for european ( american ) options , while the computation time increases like @xmath1 in both cases  @xcite .    in this paper",
    "we reconsider valuation on binomial trees from what we call a  forward looking \" prospective : we imagine acting as well - educated consumers who attempt to eliminate risk and estimate the future expected value of an option according to some reasonable dynamical model .",
    "we will regard the movement of the price on the tree as a random walk ( with statistical properties consistent with a risk - neutral world ) with  walls \" imposed by the nature of the option , such as the possibility of early exercise ( american options ) or the presence of barriers .",
    "the resulting mathematical formulation then has two conceptually distinct components : the first ingredient is an explicit description of the possible  walls \" . for example , in the case of barrier american options both the barrier and the  early exercise \" surface need to be specified .",
    "the second step will be to compute the probability that the price reaches particular values at every accessible point on the tree .",
    "this involves counting the number of paths reaching that point in the presence of  walls \" , a somewhat involved but exactly solvable combinatorics problem .",
    "once these two steps ( specifying the walls and computing the probabilities ) are accomplished the value of both european and american options , with and without barriers , can be written down explicitly . in an attempt to be pedagogical ,",
    "we will limit ourselves to the simplest put options : european , simple american and european with a straight  up - and - out \" barrier . although the calculation can be simply extended to the barrier american option that discussion merits a separate publication .",
    "as far as we know , in the case of trees explicit formulas like the ones we are proposing exist in the literature only in the simplest case of conventional european options  @xcite . for the more complicated case of american options ,",
    "the main issues are best summarized in the last chapter of neil chriss book  @xcite :  the true difficulty in pricing american options is determining exactly what the early exercise boundary looks like .",
    "if we could know this _ a priori _ for any option ( e.g. , by some sort of formula ) , we could produce pricing formulas for american options . \"",
    "below we propose a solution to this problem in the context of binomial trees .",
    "our formulation complements the earlier studies of american options in the limit of continuous - time trading  @xcite which also focus on the presence of an early exercise boundary for the valuation of path - dependent instruments .",
    "the study of the continuum limit of our formulas is instructive and will be left for a future publication .",
    "to establish notation we begin by dividing the life of an option , @xmath2 , into @xmath0 time intervals of equal length , @xmath3 .",
    "we assume that at each discrete time @xmath4 ( @xmath5 ) the stock price moves from its initial value , @xmath6 , to one of two new values : either up to @xmath7 ( @xmath8 ) or down to @xmath9 ( @xmath10 )  @xcite .",
    "this process defines a tree with nodes labeled by a two dimensional vector , @xmath11 ( @xmath12 ) and characterized by a stock price @xmath13 , the price reached at time @xmath14 after @xmath15 up and @xmath16 down movements , starting from the original price @xmath17 .",
    "the probability of an up ( down ) movement will be denoted by @xmath18 ( @xmath19 ) ; and thus each point on the tree is also characterized by the probability , @xmath20 , which represents the probability associated with a single path of @xmath21 time steps , @xmath15 ( @xmath16 ) of which involve an increase ( decrease ) in the stock price .",
    "computing the probability of connecting the origin with point @xmath11 requires , in addition to the single path probability , a factor counting _ the number _ of such possible paths in the presence of a barrier and/or the possibility of early exercise .",
    "the calculation of this degeneracy factor involves the details of each financial derivative and it will be discussed in turn for each of our examples .",
    "the binomial tree model introduces three free parameters , @xmath22 and @xmath18 .",
    "two of these are usually fixed by requiring that the important statistical properties of the random process defined above , such as the mean and variance , coincide with those of the continuum black - scholes - merton theory  @xcite .",
    "in particular , @xmath23 where @xmath24 is the risk - free interest rate , and the volatility , @xmath25 , is a measure of the variance of the stock price . we are left with one free parameter which can be chosen to simplify the theoretical analysis ; one might choose , for example , @xmath26  @xcite , which simplifies the tree geometry by arranging that an up motion followed by a down motion leads to no change in the stock price .",
    "this condition together with ( [ statprop1 ] ) and ( [ statprop2 ] ) implies : @xmath27 we stress that equations ( 1 - 5 ) are to be regarded as short - time approximations where terms higher order in @xmath28 were ignored .    with these definitions out of the way we can begin discussing the valuation of put options with strike price @xmath29 and expiration time @xmath2 .",
    "the simple european put option is a good illustration of our  forward looking \" approach .",
    "we are interested in all those paths on the tree which , at expiration time @xmath30 , reach a price , @xmath31 , for which the option should be exercised .",
    "that implies that @xmath32 $ ] , where @xmath33 refers to the integer part of the quantity in square brackets .",
    "the mean value of the option at expiration can then be written as a sum over all values of @xmath34 of the payoff at @xmath15 , @xmath35 , multiplied by the probability of realizing the price @xmath36 after @xmath0 time steps , @xmath37 $ ] .",
    "as already mentioned above , @xmath37 = \\aleph _ e [ n , j ] p_u ^j ( 1-p_u ) ^{n - j}$ ] , where @xmath38 $ ] counts the number of paths starting at the origin and reaching the price @xmath39 in @xmath0 time steps . for the case of conventional european options",
    "this is just the number of paths of @xmath0 time steps , with @xmath15 up and @xmath40 down movements of the price , and is thus given by the binomial coefficient , @xmath41 ~ = ~\\left ( \\begin{array}{c } n\\\\j \\end{array } \\right ) ~=~\\frac{n!}{j!(n - j)!}.\\ ] ]    the resulting expression for the mean value of the option at maturity is then discounted to the time of contract by the risk - free interest rate factor , @xmath42 , to determine the current expected value of the option : @xmath43 this expression is not new : it was first discussed by cox and rubinstein  @xcite who also showed that in the appropriate continuous trading - time limit ( @xmath44 ) ( [ valueev ] ) reduces to the black - scholes result  @xcite .",
    "we are now ready to extend ( [ valueev ] ) into an exact formula for the mean value of an european put option with a barrier .",
    "although our approach can be used for other barrier instruments , we consider the simplest case of an  up - and - out \" put option which ceases to exist when some barrier price , @xmath45 , higher than the current stock is reached . with the choice @xmath26 an explicit equation for the nodes of the tree which constitute the barrier can be written down : @xmath46 here , @xmath47 $ ] defines the first point just above the barrier , @xmath48 , and @xmath49 labels the last relevant point on the barrier corresponding to the time closest to the maturity of the option , i.e. , @xmath50 $ ] .    since the probability that any allowed path starting with the present stock price , @xmath17 , reaches an exercise price at maturity , @xmath51 , is still @xmath52 ( with @xmath53 ) the average value of the european barrier option",
    "can be written in a form similar to ( [ valueev ] ) : @xmath54~ p_u ^j ( 1-p_u)^{n - j } \\left ( x - s_0 u^j d^{n - j}\\right ) , \\ ] ] where @xmath55 $ ] is the number of paths @xmath0 time - steps long involving @xmath15 up and @xmath40 down movements of the price excluding those paths reaching any of the points on or above the barrier ( [ barrier ] ) . as we will explain below , @xmath55 $ ] is given by @xmath56 ~=~ \\left(\\begin{array}{c } n\\\\j \\end{array } \\right ) ~-~\\sum _ { h=0 } ^{h_m } \\aleph _ { eb } ^{res}[j_b + 1 + 2h , j_b + 1+h ] \\left ( \\begin{array}{c }",
    "n - j_b -1 -2h\\\\ j - j_b -1 -h \\end{array}\\right ) , \\ ] ] where the second term on the right - hand side represents the contribution from the unwanted paths which hit the barrier ( [ barrier ] ) before reaching an exercise point @xmath57 .    to understand the form of the excluded contribution in ( [ excluded ] ) we first note that reaching the excluded region requires that the path hits the barrier at least once .",
    "one might think that the number of unwanted paths can then be calculated by ( i ) counting the number of paths connecting the origin to a given point on the barrier ; ( ii ) multiplying this by the number of paths connecting that point on the barrier with the exercise point @xmath57  @xcite  this includes all paths which wander _ into _ the above - barrier region ; and finally ( iii ) summing over all points of the barrier ( [ barrier ] ) .",
    "however , a particular path reaching a given point on the barrier might have already hit any of the previous barrier points , and thus it would also be counted in the contribution in ( ii ) from all paths starting at the first barrier point reached by the particular path under consideration .",
    "thus , summing indiscriminately over barrier points would lead to overcounting unless , in ( i ) , we only include those paths which hit the barrier for the first time . in other words ,",
    "( i ) must only include paths starting from the origin which reach the particular point on the barrier without having previously visited any other barrier point .",
    "the number of such restricted paths ( reaching the point @xmath58 ) is what we denoted by @xmath59 $ ] in ( [ excluded ] ) .",
    "also note that the final sum over the length of the barrier is restricted to @xmath60 with @xmath61 , corresponding to the fact that , in general , the exercise point @xmath57 can not be reached from all points on the barrier .",
    "this completes our explanation of ( [ excluded ] ) .      to solve equations",
    "( [ recursione1 ] ) and ( [ recursione2 ] ) we first combine the sum on the right - hand side of ( [ recursione2 ] ) with the term on the left and rewrite the resulting equation in the form of a discrete convolution : @xmath68 \\left ( \\begin{array}{c } 2(h - l)\\\\ h - l \\end{array } \\right ) = \\left ( \\begin{array}{c } j_b + 1 + 2h\\\\ j_b + 1 + h \\end{array } \\right ) , \\ ] ] where the boundary condition , @xmath69=1 $ ] , is already included as the @xmath70 contribution to ( [ convolutione ] ) .",
    "note that ( [ convolutione ] ) can be solved by standard laplace transform ( or @xmath71-transform ) techniques  @xcite .",
    "since in applying these ideas to the more complicated american options we will lose the convolution form  the kernel will depend on @xmath72 and @xmath73 separately and not only through the difference , @xmath74  we will proceed in a more general way and stay in  configuration space \" until the very end .",
    "we prefer to regard ( [ convolutione ] ) as a matrix equation of the form : @xmath75 here @xmath76 and @xmath77 are @xmath78 dimensional vectors , with components @xmath79 $ ] and @xmath80 , @xmath81 , and the @xmath82 dimensional matrix , @xmath83 , can be written as , @xmath84_{h , l}~=~\\left ( \\begin{array}{c } 2(h - l)\\\\ h - l\\end{array}\\right ) \\theta \\left ( h - l\\right ) .\\ ] ] note that in ( [ matrixleb ] ) we have explicitly added a @xmath85 function ( @xmath86 for @xmath87 and vanishes otherwise ) to stress that @xmath88 is a lower triangular matrix with unity along and zeros above the diagonal .",
    "this simple observation allows us to rewrite ( [ matrixeqeb ] ) in the convenient form , @xmath89 where @xmath90 is a nilpotent matrix of order @xmath91 , @xmath92 for @xmath93 ; and @xmath94_{h.l}=\\left ( \\begin{array}{c } 2(h - l)\\\\h - l\\end{array}\\right ) \\theta ( h - l-1)$ ] .",
    "the nilpotent property of @xmath95 allows us to write down the explicit solution for ( [ matrixeqeb ] ) , @xmath96^{-1}{\\bf d}_{eb}~=~ \\sum _ { r=0 } ^{h_m } ( -1)^r { \\bf q}_{eb } ^r { \\bf d}_{eb},\\ ] ] which in turn leads to the following formula for the value of the option , @xmath97_{h , l}\\left ( \\begin{array}{c } j_b + 1 + 2l\\\\ j_b + 1 + l\\end{array}\\right ) \\\\ & \\times & p_u ^j ( 1-p_u)^{n - j } \\left ( x - s_0 u^j d^{n - j}\\right ) \\nonumber.\\end{aligned}\\ ] ] the lower limit , @xmath98 , on the external sum in ( [ priceres ] ) excludes all paths unaffected by the presence of the barrier ; also we have explicitly indicated the @xmath0 and/or @xmath15 dependence of the various quantities involved ; and have separated out the contribution to @xmath55 $ ] from unrestricted paths ( the first term on the right - hand side of ( [ excluded ] ) ) which simply leads to the value of the european put option given in ( [ valueev ] ) .",
    "we expect that , since we have an analytical formula , we should be able to recover the exact solution of the continuum black - scholes theory for this simplest of barrier options  @xcite as was already done for conventional european puts  @xcite .",
    "figure [ fig1 ] shows the numerical convergence of the binomial value of a representative  up - and - out \" european put option to its analytic value  @xcite .    the same general idea used in the case of european barrier options",
    "will now be used to write down an exact formula for the price of a simple american option , regarding the latter as an option with an early - exercise barrier .",
    "let us proceed in carrying out the program outlined above by assuming that the exb , i.e. , @xmath100 $ ] , is explicitly given . to begin our calculation we will need some very general properties of the barrier .",
    "these follow from two simple characteristics of early exercise : ( i ) if the point @xmath11 is an early exercise point , then so are all points  deeper in - the - money \" , @xmath106 ; and ( ii ) if two adjacent points at the same time step , @xmath107 and @xmath108 , are both early exercise points so is the point @xmath11 .",
    "( the latter property follows from a conventional ",
    "backwardation \" argument  @xcite which indicates that the average expected payoff at @xmath11 , discounted at the risk - free interest rate , is smaller than the actual payoff , thus making @xmath11 itself an early exercise point . )",
    "it is not hard to see that ( i ) and ( ii ) guarantee that the inner part of the early exercise region can not be reached without crossing the exb .",
    "thus , if we define @xmath109 to be the first time for which early exercise becomes possible and parametrize the points on the exb as @xmath110)$ ] with @xmath111 , it then follows that @xmath112 = 0 $ ] .",
    "moreover , the structure of the tree ensures that @xmath100 $ ] is a non decreasing function of @xmath21 ; more precisely , for each time step , @xmath113 $ ] either increases by one or remains the same .",
    "the formal expression for the price of an american option can be written down once one recognizes that once a path hits the exb the option expires and thus any point on the barrier can be reached at most once . as a result ,",
    "the value of the option is a sum of ( appropriately discounted ) payoffs along the barrier , weighted by the probability of reaching each point on the barrier without having visited the barrier at previous times .",
    "we can then write the expected value of an american option as : @xmath114 p_u ^{j_x [ i_a + h ] } ( 1-p_u ) ^{i_a + h - j_x [ i_a + h ] } \\left ( x - s_0 u^{j_x [ i_a + h ] } d^{i_a + h -j_x [ i_a + h ] } \\right ) , \\ ] ] where @xmath115 denotes the number of paths reaching the exb in @xmath116 time steps without having previously visited any points on the barrier .",
    "one last step is the determination of @xmath105 , the value of the american put at every point @xmath11 on the tree which , in turn , will allow us to derive the equation for the exb .",
    "this is easily done by simply translating the origin in ( [ valueavfin ] ) : @xmath140_{h , l}\\left ( \\begin{array}{c } i_a + l - i\\\\ j_x [ i_a +",
    "l ] -j \\end{array } \\right ) \\nonumber \\\\ & \\times & p_u ^{j_x [ i_a + h]-j } ( 1-p_u ) ^{i_a + h - j_x [ i_a + h ] -i+j}\\left ( x - s_0 u^{j_x [ i_a + h ] } d^{i_a + h -j_x [ i_a + h ] } \\right ) .\\end{aligned}\\ ] ] together with ( [ defsurface ] ) this then leads to the rather formidable - looking equation for the barrier height @xmath141 $ ] at the @xmath142-th time step ( @xmath143 ) , as a functional of the barrier position at all _ future _ time steps before expiration : @xmath144 } d^{i_a + k -\\tilde{j } [ i_a + k ] } \\right ) ~&=&~\\sum _ { { h , l , m}=k } ^{n - i_a } e^{-r(h - k)\\tau }   ( -1)^m \\left [ { \\bf q}_a ^m\\right ] _ { h , l}\\left ( \\begin{array}{c } l - k\\\\ j_x [ i_a + l ] - j_x [ i_a + k ] \\end{array } \\right ) \\nonumber\\\\&\\times &   p_u ^{j_x [ i_a + h]-j_x [ i_a + k ] } ( 1-p_u ) ^ { h - k - j_x [ i_a + h ] + j_x [ i_a + k]}\\\\&\\times&\\left ( x - s_0 u^{j_x [ i_a + h ] } d^{i_a + h -j_x [ i_a + h ] } \\right ) \\nonumber\\\\ \\label{exb2 } j_x [ i_a + k]~~&=&~ \\mbox{int}\\left \\{\\tilde{j } [ i_a + k ] \\right \\}.\\end{aligned}\\ ] ] [ it should now be clear that in ( [ valij ] ) @xmath15 must be restricted to points on the tree as the binomial coefficient @xmath145 -\\tilde{j } [ x_a + l ] \\end{array}\\right ) $ ] would be ill - defined  hence the choice ( [ defsurface ] ) . ] equations ( [ exb ] ) and ( [ exb2 ] ) for the boundary together with the formula for the value of the option , ( [ valueavfin ] ) , constitute an exact pricing strategy for a conventional american put .",
    "a similar formula for an american put with an  up - and - out \" barrier will be discussed in a future publication .",
    "it is instructive to consider equations ( [ valueavfin ] ) , ( [ exb ] ) and ( [ exb2 ] ) in the explicitly solvable case of a straight barrier .",
    "we begin with the observation that , at expiration , @xmath146 , ( [ exb ] ) reduces to the equation for @xmath147 $ ] , already defined in the case of the european option , and thus , the barrier goes through the point @xmath148 .",
    "moreover , starting from the exact point @xmath148 on the barrier and decreasing @xmath100 $ ] by one with each backward time step we reach @xmath149 along the straight line , @xmath100=i - n+j^*$ ] . recall that , since with each increasing time step , @xmath100 $ ] either increases by one or remains the same , this straight line represents a lower bound for the early exercise barrier .    for this straight barrier ( [ inversion ] ) and ( [ valueavfin ] ) reduce to , @xmath150~p_u ^h \\left ( 1-p_u \\right ) ^{n - j^ { * } } \\left ( x - s_0 u^h d^{n - j^{*}}\\right ) \\end{aligned}\\ ] ] with @xmath151    we expect that the result for the true barrier should approach the straight line formula for coarse enough time steps , @xmath152 , ( where this @xmath109 is the first time of early exercise in the limit of continuous - time trading ) .",
    "we have presented a scheme for pricing options with and without barriers on binomial trees . to the best of our knowledge",
    "ours is the first explicit derivation of exact formulas treating barriers on binomial trees .",
    "it is our expectation that in the limit of continuous - time trading we should be able to recover the few exact results available in the literature , especially for american options@xcite .",
    "we also hope that our explicit formulas may provide a framework for improving the efficiency of numerical computations .",
    "the authors dedicate this paper to professor ferdinando mancini , a remarkable teacher , colleague and friend , on the occasion of his 60th birthday .",
    "we are grateful to stanko barle for reading the manuscript and bringing the work of references @xcite and @xcite to our attention .",
    "finally , we acknowledge the hospitality of the nyu physics department where most of this work was conceived ."
  ],
  "abstract_text": [
    "<S> we reconsider the valuation of barrier options by means of binomial trees from a  forward looking \" prospective rather than the more conventional  backward induction \" one used by standard approaches . </S>",
    "<S> this reformulation allows us to write closed - form expressions for the value of european and american put barrier - options on a non - dividend - paying stock . </S>"
  ]
}