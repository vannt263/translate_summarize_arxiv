{
  "article_text": [
    "a _ totally positive _ matrix is a matrix with all positive minors . we extend this classical notion , as follows .",
    "define the _ totally nonnegative grassmannian _",
    "@xmath0 as the set of elements in the grassmannian @xmath1 with all nonnegative plcker coordinates .",
    "the classical set of totally positive matrices is embedded into @xmath0 as an open subset .",
    "the intersections @xmath2 of the _ matroid strata _ with @xmath0 , which we call the _ nonnegative grassmann cells , _ give an interesting subdivision of the totally nonnegative grassmannian .",
    "these intersections are actually cells ( unlike the matroid strata that might have a nontrivial geometric structure ) and they form a cw - complex .",
    "conjecturally , this is a regular cw - complex and the closures of the cells are homeomorphic to balls . fomin - zelevinsky s",
    "_ double bruhat cells _ ( for type @xmath3 ) are included into @xmath0 as certain special nonnegative grassmann cells @xmath2 .",
    "note that the subdivision of @xmath0 into the cells @xmath2 is a finer subdivision than the schubert decomposition .",
    "our `` elementary '' approach agrees with lusztig s general theory total positivity  @xcite and with the cellular decomposition of the nonnegative part of @xmath4 conjectured by lusztig and proved by rietsch  @xcite .",
    "another main object of the paper is a planar directed _ network _ drawn inside a disk with the boundary vertices @xmath5 ( and some number of internal vertices ) and with positive weights @xmath6 on the edges .",
    "we assume that @xmath7 boundary vertices @xmath8 are sources and the remaining @xmath9 boundary vertices @xmath10 are sinks .",
    "we allow the sources and sinks to be interlaced with each other in any fashion .",
    "for an acyclic network , we define the _ boundary measurements _ as @xmath11 , where the sum is over all directed paths @xmath12 in the network from a source @xmath8 to a sink @xmath10 , and the product is over all edges @xmath13 of @xmath12 .",
    "if a network has directed cycles , we introduce the sign @xmath14 into the weight of @xmath12 , where @xmath15 is the winding index that counts the number of full @xmath16 turns the path @xmath12 makes .",
    "we show that the power series for @xmath17 ( which might be infinite if @xmath18 has directed cycles ) always sums to a _ subtraction - free _ rational expression .",
    "we discuss the _ inverse boundary problem _ for such planar directed networks . in other words , we are interested in the information about networks that can be recovered from all boundary measurements @xmath17 .",
    "we characterize all possible collections of the measurements , describe all transformations of networks that preserve the measurements , and show how to reconstruct a network from the measurements ( up to these transformations ) . our work on",
    "this problem is parallel to results of curtis - ingerman - morrow @xcite on the inverse problem for ( undirected ) transistor networks .",
    "the inverse boundary problem for directed networks has deep connections with total positivity .",
    "the collection of all boundary measurements @xmath17 of a network can be encoded as a certain element of the grassmannian @xmath19 .",
    "this gives the boundary measurement map @xmath20 .",
    "we show that the image of the map @xmath21 is exactly the totally nonnegative grassmannian @xmath0 .",
    "moreover , the image of the set of networks with fixed combinatorial structure given by a graph @xmath18 ( with arbitrary positive weights on the edges of @xmath18 ) is a certain nonnegative grassmann cell @xmath2 .",
    "this gives the map from graphs @xmath18 to the set of grassmann cells .",
    "if the graph @xmath18 is reduced ( that is minimal in a certain sense ) then the map @xmath21 induces a rational subtraction - free parametrization of the corresponding cell @xmath2 .    for each cell @xmath2",
    "we describe one particular graph @xmath18 given by a @xmath22-diagram .",
    "these @xmath22-diagrams are fillings of young diagrams of shape @xmath23 with @xmath24 s and @xmath25 s that satisfy certain @xmath22-property .",
    "the shape @xmath23 corresponds to the schubert cell @xmath26 that contains @xmath2 .",
    "the @xmath22-diagrams have interesting combinatorial properties .",
    "there are several types of transformations of networks that preserve the boundary measurements .",
    "first of all , there are quite obvious rescaling of the edge weights @xmath6 at each internal vertex , which we call the _ gauge transformations .",
    "_ then there are transformations that allows up to switch directions of edges in the network",
    ". we can easily transform any network into a special form ( called a perfect network ) and then color the vertices into two colors according to some rule .",
    "we prove that the boundary measurement map @xmath21 is invariant under switching directions of edges that preserve colors of vertices .",
    "thus the boundary measurement map can now be defined for _ undirected _ planar networks with vertices colored in two colors .",
    "we call them _ plabic networks _",
    "( abbreviation for `` planar bicolored '' ) .",
    "finally , there are several _ moves _ ( that is local structure transformations ) of plabic networks that preserve the boundary measurement map .",
    "we prove that any two networks with the same boundary measurements can be obtained from each other by a sequence of these transformations .",
    "essentially , the only nontrivial transformation of networks is a certain _ square move .",
    "_ this move can be related to cluster transformation from fomin - zelevinsky theory of _ cluster algebras _",
    "@xcite . it is a variant of the _ octahedron recurrence _ in a disguised form .",
    "we show how to transform each plabic graph into a _",
    "reduced _ graph .",
    "we define _ trips _ in such graph as directed paths in these ( undirected ) graphs that connect boundary vertices @xmath8 and obey certain `` rules of the road . ''",
    "the trips give the _ decorated trip permutation _ of the boundary vertices .",
    "we show that any two reduced plabic graphs as related by the moves and correspond to the same grassmann cell @xmath2 if and only if they have the same decorated trip permutation .",
    "thus the cells @xmath2 are in one - to - one correspondence with decorated permutations .",
    "plabic graphs can be thought of as generalized wiring diagrams , which are graphical representations of reduced decompositions in the symmetric group .",
    "the moves of plabic graphs are analogues of the _ coxeter moves _ of wiring diagrams .",
    "plabic graphs also generalize fomin - zelevinsky s _",
    "double wiring diagrams _ @xcite .",
    "we also define _ alternating strand diagrams , _ which are in bijection with plabic graphs .",
    "these diagrams consist of @xmath27 directed strands that connect @xmath27 points on a circle and intersect with each other inside the circle in an alternating fashion .",
    "scott  @xcite used our alternating strand diagrams to study leclerc - zelevinsky s @xcite quasi - commuting families of quantum minors and cluster algebra on the grassmannian .",
    "we discuss the partial order on the cells @xmath2 by containment of their closures and describe it in terms of decorated permutations .",
    "we call this order the _ circular bruhat order _ because it reminds the usual ( strong ) bruhat order on the symmetric group . actually , the usual bruhat order is a certain interval in the circular bruhat order .",
    "we use our network parametrizations of the cells to describe how they are glued to each other .",
    "the gluing of a cell @xmath2 to the lower dimensional cells inside of its closure @xmath28 is described by sending some of the edge weights @xmath6 to @xmath24 .",
    "thus , for the cell @xmath2 associated with a graph @xmath18 , the lower dimensional cells in its closure are associated with subgraphs @xmath29 obtained from @xmath18 by removing some edges . in a sense , this is an analogue of the statement that , for a weyl group element with a reduced decomposition @xmath30 , all elements below @xmath31 in the bruhat order are obtained by taking subwords in the reduced decomposition .    for each plabic graph @xmath18 associated with a cell @xmath2",
    ", we describe a different parametrization of the cell by a certain subset of the plcker coordinates .",
    "this parametrization is related to the boundary measurement parametrization by the _",
    "chamber anzatz _ and a certain _ twist map _",
    "@xmath32 , where @xmath33 is the `` positive torus '' @xmath34 acting on @xmath0 .",
    "this construction is analogous to a similar construction of berenstein - fomin - zelevinsky  @xcite for double bruhat cells . in our setup , instead of chambers in ( double ) wiring diagrams , we work with regions of plabic graphs .    as an application , we obtain a description of berenstein - zelevinsky s _ string cones _ and polytopes  @xcite ( of type @xmath3 ) as _ tropicalizations _ of the boundary measurements @xmath17 .",
    "integer lattice points in these polytopes count the _ littlewood - richardson coefficients_. this explains the combinatorial description of the string cones from our earlier work  @xcite and the rule for the littlewood - richardson coefficients .",
    "our construction produces several different combinatorial objects associated with the cells @xmath2 .",
    "we give explicit bijections between all these objects .",
    "here is the ( incomplete ) list of various objects : totally nonnegative grassmann cells , totally nonnegative matroids , @xmath22-diagrams , decorated permutations , circular chains , move - equivalence classes of ( reduced ) plabic graph , move - equivalence classes of alternating strand diagrams .",
    "we also construct bijections between @xmath22-diagrams and other combinatorial objects such as permutations of a certain kind , rook placements on skew young diagrams , etc .",
    "williams  @xcite , steingrimsson - williams  @xcite , and corteel - williams  @xcite obtained several enumerative results on @xmath22-diagrams and related objects , and studied their combinatorial properties .    throughout the paper",
    "we use the following notation @xmath35:=\\{1,\\dots , n\\}$ ] and @xmath36:=\\{k , k+1,\\dots , l\\}$ ] .",
    "the word `` network '' means a graph ( directed or undirected ) together with some weights assigned to edges or faces of the graph .",
    "many results of this paper were obtained in 2001 .",
    "some results were announced by williams in ( * ? ? ?",
    "23 ) and ( * ? ? ?",
    "* appendix ) .",
    "acknowledgments : i would like to thank ( in alphabetical order ) sergey fomin , alexander goncharov , alberto grnbaum , xuhua he , david ingerman , allen knutson , george lusztig , james propp , konni rietsch , joshua scott , michael shapiro , richard stanley , bernd sturmfels , dylan thurston , lauren williams , and andrei zelevinsky for helpful conversations .",
    "in this section we review some classical facts about grassmannians , their stratifications , and matroids . for more details , see  @xcite .      for @xmath37 ,",
    "@xmath19 be the manifold of @xmath7-dimensional subspaces @xmath38 .",
    "it can be presented as the quotient @xmath39 , where @xmath40 is the space of real @xmath41-matrices of rank @xmath7 . here",
    "we assume that the subspace @xmath42 associated with a @xmath41-matrix @xmath3 is spanned by the row vectors of @xmath3 .",
    "recall that a _ partition _",
    "@xmath43 is a weakly decreasing sequence of nonnegative integers .",
    "it is graphically represented by its young diagram which is the collection of boxes with indexes @xmath44 such that @xmath45 , @xmath46 arranged on the plane in the same fashion as one would arrange matrix elements .",
    "there is a cellular decomposition of the grassmannian @xmath19 into a disjoint union of schubert cells @xmath26 indexed by partitions @xmath47 whose young diagrams fit inside the @xmath48-rectangle @xmath49 , that is @xmath50 .    the partitions @xmath47 are in one - to - one correspondence with @xmath7-element subsets @xmath51 $ ] .",
    "the boundary of the young diagram of such partition @xmath23 forms a lattice path from the the upper - right corner to the lower - left corner of the rectangle @xmath49 .",
    "let us label the @xmath27 steps in this path by the numbers @xmath52 consecutively , and define @xmath53 as set of labels of @xmath7 vertical steps in the path .",
    "the inverse map @xmath54 is given by @xmath55\\setminus i|$ ] , for @xmath56 .",
    "as an example , figure  [ fig : lambda_i ] shows a young diagram of shape @xmath57 that corresponds to the subset @xmath58 $ ] .",
    "( 0,0)(60,56 ) ( 0,40)(40,40 ) ( 0,30)(40,30 ) ( 0,20)(40,20 ) ( 0,10)(20,10 ) ( 0,0)(10,0 ) ( 0,40)(0,0 ) ( 10,40)(10,0 ) ( 20,40)(20,10 ) ( 30,40)(30,20 ) ( 40,40)(40,20 ) ( 42,40)(60,40)(60,0)(12,0 ) ( 5,5 ) ( 5,15 ) ( 5,25 ) ( 5,35 ) ( 15,15 ) ( 15,25 ) ( 15,35 ) ( 25,25 ) ( 25,35 ) ( 35,25 ) ( 35,35 ) ( 45,35 ) ( 43,35)@xmath59 ( 43,25)@xmath60 ( 23,15)@xmath61 ( 13,5)@xmath62 ( -10,20)@xmath7 ( 30,50)@xmath63 ( 120,33)@xmath64 , @xmath65 ( 120,20)@xmath66 ( 127,7)@xmath67    for @xmath68 , the _ schubert cell _ @xmath26 in @xmath19 is defined as the set of @xmath7-dimensional subspaces @xmath38 with prescribed dimensions of intersections with the elements of the opposite coordinate flag : @xmath69 is the linear span of coordinate vectors .    the decomposition of @xmath70 into schubert cells can be described using _",
    "gaussian elimination .",
    "_ we can think of points in @xmath19 as nondegenerate @xmath41-matrices modulo row operations . recall that according to gaussian elimination any nondegenerate @xmath41-matrix can be transformed by row operations to the canonical matrix in _ echelon form , _ that is a matrix @xmath3 such that @xmath71 for some @xmath72 $ ] , and all entries of @xmath3 to the left of these @xmath25 s and in same columns as the @xmath25 s are zero .",
    "in other words , matrices in echelon form are representatives of the left cosets in @xmath73 .",
    "let us also say that such echelon matrix @xmath3 is in _ @xmath74-echelon form _ if we want to specify that the @xmath25 s are located in the column set @xmath74 .",
    "for example , a matrix in @xmath75-echelon form , for @xmath64 and @xmath65 , looks like @xmath76 where `` @xmath77 '' stands for any element of @xmath78 .",
    "the schubert cell @xmath26 is exactly the set of elements in the grassmannian @xmath19 that are represented by matrices @xmath3 in @xmath74-echelon form , where @xmath79 .",
    "if we remove the columns with indices @xmath80 from @xmath3 , i.e. , the columns with the @xmath25 s , and reflect the result with respect the vertical axis , the pattern formed by the @xmath77 s is exactly the young diagram of shape @xmath23 .",
    "so an @xmath74-echelon matrix has exactly @xmath81 such @xmath77 s , which can be any elements in @xmath78 .",
    "this shows that the schubert cell @xmath26 homeomorphic to @xmath82 .",
    "thus the grassmannian @xmath19 has the disjoint decomposition @xmath83    for example , the @xmath77 s in the @xmath75-echelon form above correspond to boxes of the young diagram of shape @xmath84 .",
    "thus the schubert cell @xmath85 , whose elements are represented by matrices in @xmath75-echelon form , is isomorphic to @xmath86 .      for a @xmath41-matrix @xmath3 and a @xmath7-element subset",
    "@xmath51 $ ] , let @xmath87 denote the @xmath88-submatrix of @xmath3 in the column set @xmath74 , and let @xmath89 denote the corresponding _ maximal minor _ of @xmath3 . if we multiply @xmath3 by @xmath90 on the left , all minors @xmath91 are rescaled by the same factor @xmath92 . if @xmath93 is in @xmath74-echelon form then @xmath94 and @xmath95 .",
    "thus the @xmath96 form projective coordinates on the grassmannian @xmath19 , called the _ plcker coordinates , _ and the map @xmath97 induces the _ plcker embedding _",
    "@xmath98 of the grassmannian into the projective space .",
    "the image of the grassmannian @xmath19 under the plcker embedding is the algebraic subvariety in @xmath99 given by the _ grassmann - plcker relations : _",
    "@xmath100 for any @xmath101 $ ] . here",
    "we assume that @xmath102 ( labelled by an ordered sequence rather than a subset ) equals to @xmath103 if @xmath104 and @xmath105 for any permutation @xmath106 .",
    "an element in the grassmannian @xmath19 can also be understood as a collection of @xmath27 vectors @xmath107 spanning the space @xmath108 , modulo the simultaneous action of @xmath109 on the vectors .",
    "the vectors @xmath110 are the columns of a @xmath41-matrix @xmath3 that represents the element of the grassmannian .",
    "recall that a _ matroid _ of _ rank _",
    "@xmath7 on the set @xmath35 $ ] is a nonempty collection @xmath111}{k}$ ] of @xmath7-element subsets in @xmath35 $ ] , called _ bases _ of @xmath112 , that satisfies the _ exchange axiom : _    for any @xmath113 and @xmath80 there exists @xmath114 such that @xmath115 .",
    "an element @xmath116 of the grassmannian represented by a @xmath41-matrix @xmath3 gives the matroid @xmath117 whose bases are the @xmath7-subsets @xmath118 $ ] such that @xmath119 , or equivalently , @xmath74 is a base of @xmath117 whenever @xmath120 is a basis of @xmath108 .",
    "this collection of bases satisfies the exchange axiom because , if the left - hand side in a grassmann - plcker relation is nonzero , then at least one term in the right - hand side is nonzero .",
    "the grassmannian @xmath19 has a subdivision into _ matroid strata , _ also known as _ gelfand - serganova strata , _",
    "@xmath121 labelled by some matroids @xmath112 : @xmath122 in other words , the elements of the stratum @xmath121 are represented by matrices @xmath3 such that @xmath123 if and only if @xmath124 .",
    "the matroids @xmath112 with nonempty strata @xmath121 are called _ realizable _ over @xmath78",
    ". the geometrical structure of the matroid strata @xmath121 can be highly nontrivial .",
    "mnv  @xcite showed that they can be as complicated as essentially any algebraic variety .",
    "note that , for an element @xmath42 of the schubert cell @xmath26 , the subset @xmath125 is exactly the lexicographically minimal base of the matroid @xmath117 .",
    "this fact it transparent when @xmath42 is represented by a matrix in @xmath74-echelon form .",
    "in other words , the schubert cells can also be described as @xmath126 this implies that the decomposition of @xmath19 into matroid strata @xmath121 is a finer subdivision than the decomposition into schubert cells @xmath26 .",
    "the schubert decomposition depends on a choice of ordering of the coordinates in @xmath127 .",
    "the symmetric group @xmath128 acts on @xmath127 by permutations of the coordinates . for a permutation @xmath129 ,",
    "let @xmath130 be the permuted schubert cell .",
    "in other words , the cell @xmath131 is the set of elements @xmath116 such that @xmath125 is the lexicographically minimal base of @xmath117 with respect to the total order @xmath132 of the set @xmath35 $ ] .",
    "[ rec : common_ref_factorial ] the decomposition of the grassmannian @xmath19 into matroid strata @xmath121 is the common refinement of the @xmath133 permuted schubert decompositions @xmath134 , for @xmath129 ; see  @xcite . indeed",
    ", if we know the lexicographically minimal base in @xmath117 with respect any total order on @xmath35 $ ] then we can determine all bases of @xmath117 and thus determine the matroid stratum containing the element @xmath116 .",
    "it will be convenient for us use local affine coordinates on the grassmannian .",
    "let us pick a @xmath7-subset @xmath118 $ ] .",
    "let @xmath3 be a @xmath41-matrix that represents an element in @xmath19 such that @xmath119 , that is @xmath74 is a base of the corresponding matroid .",
    "then @xmath135 is the unique representative the left coset of @xmath136 such that @xmath137 is the identity matrix",
    ". then matrix elements of @xmath138 located in columns indexed @xmath139 give local affine coordinates on @xmath19 .",
    "in other words , we have the rational isomorphism @xmath140 in the case when @xmath74 is the lexicographically minimal base , the matrix @xmath138 is exactly the representative in echelon form .",
    "a matrix is called _ totally positive _ ( resp . , _ totally nonnegative _ ) if all its minors of all sizes are strictly positive ( resp . ,",
    "nonnegative ) . in this section",
    "we discuss analogues of these classical notions for the grassmannian .",
    "let us define the _ totally nonnegative grassmannian _",
    "@xmath141 as the quotient @xmath142 , where @xmath143 is the set of real @xmath41-matrices @xmath3 of rank @xmath7 with nonnegative _ maximal _ minors @xmath144 and @xmath145 is the group of @xmath88-matrices with positive determinant . the _ totally positive grassmannian _ @xmath146 is the subset of @xmath19 whose elements can be represented by @xmath41-matrices with strictly positive maximal minors @xmath147 .    for example",
    ", the totally positive grassmannian contains all @xmath41-matrices @xmath148 with @xmath149 , because any maximal minor @xmath91 of such matrix is a positive vandermonde determinant .",
    "clearly , @xmath150 is an open subset in @xmath19 and @xmath0 is a closed subset in @xmath19 of dimension @xmath151 .",
    "let us define _ totally nonnegative grassmann cells @xmath2 _ in @xmath0 as the intersections @xmath152 of the matroid strata @xmath121 with the totally nonnegative grassmannian , i.e. , @xmath153    let us say that a matroid @xmath112 is _ totally nonnegative _ if the cell @xmath2 is nonempty .",
    "note that the totally positive grassmannian @xmath150 is just the top dimensional cell @xmath154 , that is the cell corresponding to the complete matroid @xmath155}{k}$ ] .",
    "[ rem : cyclic_symmetry ] clearly , the notion of total positivity is not invariant under permutations of the coordinates in @xmath127 , and the class of totally nonnegative matroids is not preserved under permutations of the elements .",
    "this notion does however have some symmetries . for a @xmath41-matrix @xmath156 with the column vectors",
    "@xmath157 , let @xmath158 be the matrix obtained from @xmath3 by the cyclic shift of the columns and then multiplying the last column by @xmath159 .",
    "note that @xmath160 where @xmath161 is the cyclic shift of the subset @xmath74 .",
    "thus @xmath3 is totally nonnegative ( resp .",
    ", totally positive ) if and only if @xmath138 is totally nonnegative ( resp .",
    ", totally positive ) .",
    "this gives an action of the cyclic group @xmath162 on the sets @xmath0 and @xmath163 .",
    "this also implies that cyclic shifts of elements in @xmath35 $ ] preserve the class of totally nonnegative matroids on @xmath35 $ ] .    for @xmath164 and @xmath165",
    ", there are only three rank @xmath166 matroids on @xmath167 $ ] which are not totally nonnegative : @xmath168 , @xmath169 , @xmath170 .",
    "this set of matroids is closed under cyclic shifts of @xmath167 $ ] .",
    "interestingly , the totally nonnegative grassmann cells @xmath2 have a much simpler geometric structure than the matroid strata @xmath121 .    each totally nonnegative grassmann cell @xmath2 is homeomorphic to an open ball of appropriate dimension .",
    "the decomposition of the totally nonnegative grassmannian @xmath0 into the union of the cells @xmath2 is a cw - complex .    in section  [ sec :",
    "le - diagrams ] we will explicitly construct a rational parametrization for each cell @xmath2 , i.e. , an isomorphism between the space @xmath171 and @xmath2 ; see theorem  [ th : g_d ] . in section  [ sec : gluing ] we will describe how the cells are glued to each other .",
    "this next conjecture follows a similar conjecture by fomin - zelevinsky  @xcite on double bruhat cells .    the cw - complex formed by the cells @xmath2 is regular .",
    "the closure of each cell is homeomorphic to a closed ball of appropriate dimension .    according to remark  [ rec : common_ref_factorial ]",
    ", the matroid stratification of the grassmannian is the common refinement of @xmath133 schubert decompositions . for the totally nonnegative part of the grassmannian it is enough to take just @xmath27 schubert decompositions .",
    "[ th : cycles_are_enough ] the decomposition of @xmath0 into the cells @xmath2 is the common refinement of the @xmath27 schubert decompositions @xmath172 , where @xmath31 run over cyclic shifts @xmath173 , for @xmath174 $ ]",
    ".    this theorem will follow from theorem  [ th : sm = circ_necklace ] in section  [ sec : circ_bruhat ] .",
    "lusztig  @xcite developed general theory of total positivity for a reductive group @xmath18 using canonical bases .",
    "he defined the totally nonnegative part @xmath175 of any generalized partial flag manifold @xmath4 and conjectured that it is made up of cells .",
    "this conjecture was proved by rietsch  @xcite .",
    "marsh - rietsch  @xcite gave a simpler proof and constructed parametrization of the totally nonnegative cells in @xmath176 .",
    "this general approach to totally positivity agrees with our `` elementary '' approach .",
    "[ th : rietsch = equal ] in case of the grassmannian @xmath19 , rietsch s cell decomposition coincides with the decomposition of @xmath0 into the cells @xmath2 .",
    "i thank xuhua he and konni rietsch for the following explanation .",
    "according to  ( * ? ? ?",
    "* proposition 12.1 ) , rietsch cells are given by conditions @xmath177 and @xmath178 for _ some _ minors .",
    "actually , the paper  @xcite concerns with the case of @xmath179 , but the case of @xmath4 ( which includes the grassmannian ) can be obtained by applying the projection map @xmath180 , as it was explained in  @xcite .",
    "it follows that our cell decomposition of @xmath0 into the cells @xmath2 is a _ refinement _ of rietsch s cell decomposition . in section  [ sec : bruhat_intervals ] we will construct a combinatorial bijection between objects that label our cells and objects that label rietsch s cells , which will prove theorem  [ th : rietsch = equal ] .",
    "let us show how total positivity on the grassmannian is related to the classical notion of total positivity of matrices . for a @xmath41-matrix @xmath3 such that the square submatrix @xmath181}$ ] in the first @xmath7 columns is the identity matrix @xmath181}=\\id_k$ ] ,",
    "define @xmath182 , where @xmath183 is the @xmath184-matrix with entries @xmath185 : @xmath186    let @xmath187 denote the minor of matrix @xmath188 ( not necessarily maximal ) in the row set @xmath74 and the column set @xmath189 . by convention",
    ", we assume that @xmath190 .",
    "suppose that @xmath191 .",
    "there is a correspondence between the maximal minors of @xmath3 and all minors of @xmath188 such that each maximal minor of @xmath3 equals to the corresponding minor of @xmath188 .",
    "explicitly , @xmath192\\setminus",
    "i)\\cup \\tilde j}(a)$ ] , where @xmath193 is obtained by increasing all elements in @xmath189 by @xmath7 .",
    "exercise for the reader .",
    "note that matrices @xmath3 with @xmath181}=\\id_k$ ] are representatives ( in echelon form ) of elements of the top schubert cell @xmath194 , i.e. , the set of elements in the grassmannian with nonzero first plcker coordinate @xmath195}\\ne 0 $ ] .",
    "thus @xmath196 gives the isomorphism @xmath197 .",
    "the map @xmath196 induces the isomorphism between @xmath198 and the set of classical totally nonnegative @xmath199-matrices , i.e. , matrices with nonnegative minors of all sizes .",
    "this map induces the isomorphism between each totally nonnegative cell @xmath200 and a set of @xmath199-matrices given by prescribing some minors to be positive and the remaining minors to be zero .",
    "in particular , it induces the isomorphism between the totally positive part @xmath150 of the grassmannian and the classical set of all totally positive @xmath184-matrices .",
    "[ rem : fz_double_bruhat ] fomin - zelevinsky  @xcite investigated the decomposition of the totally nonnegative part of @xmath109 into cells , called the _",
    "double bruhat cells_. these cells are parametrized by pairs of permutations in @xmath201 .",
    "the partial order by containment of closures of the cells is isomorphic to the direct product of two copies of the bruhat order on @xmath201 .",
    "the map @xmath196 induces the isomorphism between the totally nonnegative part of the grassmannian @xmath202 such that @xmath195}\\ne 0 $ ] and @xmath203}\\ne 0 $ ] and the totally nonnegative part of @xmath109",
    ". moreover , it gives isomorphisms between the double bruhat cells in @xmath109 and _ some _ totally nonnegative cells @xmath204 ; namely , the cells such that @xmath205 , [ k+1,2k]\\in\\m$ ] .    in this paper we will extend fomin - zelevinsky s @xcite results on ( type @xmath3 ) double bruhat cells to all totally nonnegative cells @xmath2 in the grassmannian .",
    "we will see that these cells have a rich combinatorial structure and lead to new combinatorial objects .",
    "[ def : planar_networks ] a _ planar directed graph _ @xmath18 is a directed graph drawn inside a disk ( and considered modulo homotopy ) .",
    "we allow @xmath18 to have loops and multiple edges .",
    "we will assume that @xmath18 has @xmath27 _ boundary vertices _ on the boundary of the disk labelled @xmath5 clockwise .",
    "the remaining vertices , called the _ internal vertices , _ are located strictly inside the disk .",
    "we will always assume that each boundary vertex @xmath8 is either a _ source _ or a _ sink .",
    "_ even if @xmath8 is an _ isolated _ boundary vertex , i.e. , a vertex not incident to any edges , we will assign @xmath8 to be a source or a sink .",
    "a _ planar directed network _",
    "@xmath206 is a planar directed graph @xmath18 as above together with _",
    "strictly positive _ real weights @xmath207 assigned to all edges @xmath13 of @xmath18 .    for such network @xmath208 ,",
    "the _ source set _",
    "@xmath118 $ ] and the _ sink set _",
    "i$ ] of @xmath208 are the sets such that @xmath8 , @xmath210 , are the sources of @xmath208 ( among the boundary vertices ) and the @xmath10 , @xmath211 , are the boundary sinks .",
    "if the network @xmath208 is acyclic , that is it does not have closed directed paths , then , for any @xmath80 and @xmath212 , we define the _ boundary measurement _ @xmath17 as the finite sum @xmath213 where the sum is over all directed paths @xmath12 in @xmath208 from the boundary source @xmath8 to the boundary sink @xmath10 , and the product is over all edges @xmath13 in @xmath12 .",
    "if the network is not acyclic , we have to be more careful because the above sum might be infinite .",
    "we will need the following definition .    for a path @xmath12 from a boundary vertex @xmath8 to a boundary vertex @xmath10",
    ", we define its winding index , as follows .",
    "we may assume that all edges of the network are given by smooth curves ; thus the path @xmath12 is given by a continuous piecewise - smooth curve .",
    "we can slightly modify the path and smoothen it around each junction , so that it is given by a smooth curve @xmath214\\to\\r^2 $ ] , and furthermore make the initial tangent vector @xmath215 to have the same direction as the final tangent vector @xmath216 .",
    "we can now define the _ winding index _",
    "@xmath217 of the path @xmath12 as the signed number of full @xmath16 turns the tangent vector @xmath218 makes as we go from @xmath8 to @xmath10 ( counting counterclockwise turns as positive ) ; see example in figure  [ fig:2 ] .",
    "( 0,0)(100,100 ) ( 50,50)45 ( 5,50)(70,40)(50,65 ) ( 50,65)(20,30)(50,85 ) ( 50,85)(80,30)(60,20 ) ( 60,20)(50,50)(95,50 )    let us also give a recursive combinatorial definition of the winding index for a path @xmath12 with vertices @xmath219 ( where @xmath220 and @xmath221 are boundary vertices ) .",
    "if the path @xmath12 has no self - intersections , i.e. , all vertices @xmath110 in @xmath12 are different , then @xmath222 .",
    "suppose that @xmath12 has at least one self - intersection .",
    "let us find a _",
    "cycle _ in @xmath12 , that is a segment @xmath223 with vertices @xmath110 , @xmath224 $ ] , such that the vertices @xmath225 are distinct and @xmath226 .",
    "let @xmath227 be the path with vertices @xmath228 , i.e. , the path @xmath12 with erased cycle @xmath223 .",
    "we now have @xmath229 we can now determine the winding index of @xmath12 by repeatedly erasing cycles in @xmath12 until we get a path without self - intersections .",
    "note that in general the number of cycles in @xmath12 is not well - defined .",
    "indeed the number of cycles that we need to erase until we get a path without self - intersections may depend on the order in which we erase the cycles .",
    "however the number @xmath230 is a well - defined invariant of a path in a planar graph .",
    "for example , for the path shown on figure  [ fig:2 ] , we can erase a counterclockwise cycle and then two clockwise cycles . on the other hand , for the same path",
    ", we can also erase just one big clockwise cycle to get a path without self - intersections .",
    "let us now return to boundary measurements .",
    "let @xmath208 be a planar directed network as above , which is now allowed to have cycles .",
    "let us assume for a moment that the weights @xmath6 of edges in @xmath208 are formal variables .",
    "for a source @xmath8 , @xmath80 , and a sink @xmath10 , @xmath212 , we define the _ formal boundary measurement _ @xmath231 as the formal power series @xmath232 where the sum is over all directed paths @xmath12 in @xmath208 from @xmath8 to @xmath10 and the product is over all edges @xmath13 in @xmath12 .",
    "recall that a _ subtraction - free rational expression _ is an expression with positive integer coefficients that can be written with the operations of addition , multiplication , and division ( but subtraction is strictly forbidden ) , or equivalently , it is a quotient of two polynomial expressions with positive coefficients .",
    "for example , @xmath233 is subtraction - free .",
    "[ lem : mij ] the formal power series @xmath231 sums to a subtraction - free rational expression in the variables @xmath6 . [ lem : mij - subtraction - free ]    this statement follows from proposition  [ prop : minors - exact ] in the next section .",
    "we can now define the _ boundary measurements _ @xmath17 as the specializations of the formal boundary measurements @xmath231 , written as subtraction - free expressions , when we assign the @xmath6 to be the positive real weights of edges @xmath13 in the network @xmath208 .",
    "since the @xmath231 are subtraction - free and the weights @xmath6 of edges in @xmath208 are strictly positive , we will never get a zero in denominator .",
    "thus the boundary measurements @xmath17 are well - defined nonnegative real numbers for an arbitrary network .    for the network    ( -50,-20)(50,25 ) ( -50,0)2b1 ( 50,0)2b2 ( -20,0)2v1 ( 20,0)2v2 ( -60,0)@xmath234 ( 60,0)@xmath235    we have @xmath236 , which is a subtraction - free rational expression .",
    "if all weights of edges are @xmath237 , then the boundary measurement is @xmath238 .",
    "* inverse boundary problem .",
    "*    let us describe the _ gauge transformations _ of the weights @xmath6 .",
    "pick a collection of positive real numbers @xmath239 , for each internal vertex @xmath240 in @xmath208 ; and also assume that @xmath241 for each boundary vertex @xmath8 .",
    "let @xmath242 be the network with the same directed graph as the network @xmath208 and with the weights @xmath243 for each directed edge @xmath244 .",
    "in other words , for each internal vertex @xmath240 we multiply by @xmath245 the weights of all edges outgoing from @xmath240 , divide by @xmath245 the weights of all edges incoming to @xmath240 .",
    "then the network @xmath242 has the same boundary measurements as the network @xmath208 . indeed , for a directed path @xmath12 between two boundary vertices and for an internal vertex @xmath240 , we have to divide the weight @xmath246 of @xmath12 by @xmath245 every time when @xmath12 enters @xmath240 and multiply it by @xmath245 every time when @xmath12 leaves @xmath240 .",
    "we will see that there are also some local structure transformations of networks that preserve the boundary measurements .",
    "let us now describe the set of all possible collections of boundary measurements .",
    "for a network @xmath208 with @xmath7 boundary sources @xmath8 , @xmath80 , and @xmath63 boundary sinks @xmath10 , @xmath212 , it will be convenient to encode the @xmath247 boundary measurements @xmath17 , @xmath80 , @xmath212 , as a certain point in the grassmannian @xmath19 . recall that @xmath248 is the maximal minor of a matrix @xmath3 in the column set  @xmath189 .",
    "the collection of all @xmath249 , for @xmath7-subsets @xmath250 $ ] , form projective plcker coordinates on @xmath19 .",
    "[ def : bounary_measurement_map ] let @xmath251 be the set of planar directed networks with @xmath7 boundary sources and @xmath63 boundary sinks .",
    "define the _ boundary measurement map _ @xmath252 as follows . for a network @xmath253 with the source set @xmath74 and with the boundary measurements @xmath17 , the point @xmath254 is given in terms of its plcker coordinates @xmath255 by the conditions that @xmath256 and @xmath257 more explicitly , if @xmath258 , then the point @xmath254 is represented by the _ boundary measurement matrix _",
    "@xmath259 such that    1 .",
    "the submatrix @xmath260 in the column set @xmath74 is the identity matrix @xmath261 .",
    "the remaining entries of @xmath262 are @xmath263 , for @xmath264 $ ] and @xmath212 , where @xmath265 is the number of elements of @xmath74 strictly between @xmath266 and @xmath267 .",
    "note that the choice of signs of entries in @xmath262 ensures that @xmath268 , for @xmath80 and @xmath212 . clearly , we have @xmath269 .    [ ex : network_13_24 ] for a network @xmath208 with four boundary vertices , with the source set @xmath270 , and the sink set @xmath271 , we have    ( -55,-35)(200,35 ) ( -55,0)@xmath272 ( 0,0)30 ( 10,10)(21.2,21.2 ) ( 10,-10)(21.2,-21.2 ) ( -10,10)(-21.2,21.2 ) ( -10,-10)(-21.2,-21.2 ) ( -27,27)@xmath234 ( 27,27)@xmath235 ( 27,-27)@xmath273 ( -27,-27)@xmath274    ( 140,0)@xmath275    in this case , we have @xmath276 , @xmath277 , @xmath278 , @xmath279 .    the following two results establish a relationship between networks and total positivity on the grassmannian .    [",
    "th : net = gr ] the image of the boundary measurement map @xmath21 is exactly the totally nonnegative grassmannian : @xmath280    this theorem will follow from corollary  [ cor : n_subs_gr ] and theorem  [ th : g_d ] .",
    "[ def : subtraction_free_parametrization ] let us say that a _ subtraction - free rational parametrization _ of a cell @xmath281 is an isomorphism @xmath282 such that    1 .",
    "the quotient of any two plcker coordinates @xmath283 , @xmath113 , of the point @xmath284 can be written as a subtraction - free rational expression in the usual coordinates @xmath285 on @xmath171 .",
    "2 .   for the inverse map",
    "@xmath286 , the @xmath285 can be written as subtraction - free rational expressions in terms of the plcker coordinates @xmath249 .",
    "moreover , we say that such subtraction - free parametrization is _",
    "@xmath74-polynomial _ for given @xmath124 , if the quotients @xmath283 , for @xmath287 , are given by polynomials in the @xmath285 with nonnegative integer coefficients .",
    "let @xmath18 be a planar directed graph with the set of edges @xmath288 .",
    "clearly , we can identify the set of all networks on the given graph @xmath18 with the set @xmath289 of positive real - valued functions on @xmath288 .",
    "the boundary measurement map induces the map @xmath290    [ th : image_g_m_is_cell ] for a planar directed graph @xmath18 , the image of the map @xmath291 is a certain totally nonnegative grassmann cell @xmath2 .",
    "for a cell @xmath2 , let @xmath292 $ ] as the lexicographically minimal base of the matroid @xmath112 with respect to the linear order @xmath293 on @xmath35 $ ] .",
    "in particular , @xmath294 , whenever @xmath295 .",
    "[ th : net_to_gr_parametrization ] for any cell @xmath2 , one can find a graph @xmath18 such that the map @xmath291 is a subtraction - free rational parametrization of this cell .",
    "moreover , for @xmath296 , there is an acyclic planar directed graph @xmath18 with the source set @xmath297 such that @xmath291 is an @xmath297-polynomial parametrization of the cell @xmath2 .",
    "this theorem will follow from theorem  [ th : g_d ] .    in the next section",
    "we will prove that @xmath298 .",
    "in other words , we will prove that all maximal minors of the boundary measurement matrix @xmath262 are nonnegative .",
    "in this section we generalize the well - known _ lindstrm lemma _ to suit our purposes .",
    "since our graphs may not be acyclic , we will follow fomin s approach from the work on _ loop - erased walks _  @xcite , which extends the lindstrm lemma to non - acyclic graphs . the sources and sinks in our graphs may be interlaced with each other , which gives an additional complication .    for two @xmath7-subsets",
    "@xmath299 $ ] , let @xmath300 and @xmath301 . then @xmath302 . for a bijection @xmath303",
    ", we say that a pair of indices @xmath44 , where @xmath304 and @xmath305 , is a _ crossing , _ an _ alignment , _ or a _ misalignment _ of @xmath306 , if the two chords @xmath307 $ ] and @xmath308 $ ] are arranged with respect to each other as shown on figure  [ fig : crossing_alignment_misalignment ] .",
    "define the _ crossing number _",
    "@xmath309 of @xmath306 as the number of crossings of @xmath306 .",
    "( -50,-40)(50,40 ) ( 0,-40)crossing ( 0,0)30 ( 25.98,15)2b1 ( 25.98,-15)2b2 ( -25.98,-15)2b4 ( -25.98,15)2b5 ( -40,20)@xmath8 ( 40,20)@xmath310 ( -40,-20)@xmath10 ( 40,-20)@xmath311 ( -50,-40)(50,40 ) ( 0,0)30 ( 0,-40)alignment ( 25.98,15)2b1 ( 25.98,-15)2b2 ( -25.98,-15)2b4 ( -25.98,15)2b5 ( -40,20)@xmath8 ( 40,20)@xmath10 ( -40,-20)@xmath311 ( 40,-20)@xmath310 ( -50,-40)(50,40 ) ( 0,0)30 ( 0,-40)misalignment ( 25.98,15)2b1 ( 25.98,-15)2b2 ( -25.98,-15)2b4 ( -25.98,15)2b5 ( -40,20)@xmath8 ( 40,20)@xmath310 ( -40,-20)@xmath311 ( 40,-20)@xmath10    [ lem : plucker_coord_identity ] let @xmath312 be two @xmath7-element subsets in @xmath35 $ ] , @xmath300 and @xmath301 . also let @xmath313",
    ". then the following identity holds for the plcker coordinates in @xmath19 @xmath314 where the sum is over all @xmath315 bijections @xmath303 .",
    "note that , in the case @xmath316 , this identity is equivalent to a 3-term grassmann - plcker relation .    let us prove this identity for maximal minors @xmath248 of a matrix @xmath3 .",
    "we first show that the identity is invariant under permutations of columns of the matrix .",
    "let us switch two adjacent rows of @xmath3 with indices @xmath317 and @xmath318 and correspondingly modify the subsets @xmath74 and @xmath189 .",
    "then a minor @xmath319 switches its sign if @xmath320 ; and otherwise the minor and does not change .",
    "also note that the crossing number @xmath309 changes by @xmath321 if @xmath322 and @xmath323 ; and otherwise @xmath309 does not change .",
    "considering several cases according to which of the subsets @xmath324 , @xmath325 , @xmath326 , or @xmath35\\setminus ( i\\cup j)$ ] contain the elements @xmath317 and @xmath318 , we verify in all cases that both sides of the identity make the same switch of sign . using this invariance under permutations of columns we can reduce the problem to the case when @xmath327 $ ] and @xmath328\\cup [ k+1,k+r]$ ] .",
    "let us assume that @xmath256 .",
    "multiplying the matrix @xmath3 by @xmath329 on the left , we reduce the problem to the case when @xmath87 is the identity matrix . in this case ,",
    "@xmath330 and @xmath248 is the determinant of @xmath331-matrix @xmath183 , where @xmath332 , for @xmath333 $ ] .",
    "note that in this case @xmath334 and the crossing number equals @xmath335 , where @xmath336 is number of inversions in @xmath306 .",
    "thus we have the same determinant @xmath92 in the right - hand side .",
    "the case when @xmath337 follows by the continuity since we have already proved the identity for the dense set of matrices @xmath3 with @xmath119 .",
    "the following proposition gives an immanant expression for the maximal minors of the boundary measurement matrix @xmath262 ; see definition  [ def : bounary_measurement_map ] .",
    "[ prop : delta_pi_cn ] let @xmath208 be a network with @xmath27 boundary vertices , including @xmath7 sources @xmath8 , @xmath80 , and the boundary measurements @xmath17 , @xmath80 , @xmath338 .",
    "then the maximal minors of the boundary measurement matrix @xmath262 are equal to @xmath339 for any @xmath7-subset @xmath250 $ ] , where the sum is over all bijections @xmath303 from @xmath340 to @xmath301 .",
    "for example , for a network as in example  [ ex : network_13_24 ] , we have @xmath341 because both bijections @xmath342 have just one misalignment and no crossings , i.e. , @xmath343 .",
    "let us express both sides of the needed identity in terms of the plcker coordinates of the point @xmath254 ; see definition  [ def : bounary_measurement_map ] . then the identity can be reformulated as @xmath344 , which is equivalent to lemma  [ lem : plucker_coord_identity ] .    for a network @xmath208 ,",
    "let us define the _ formal boundary measurement matrix",
    "_ @xmath345 by in exactly the same way as the matrix @xmath262 ( see definition  [ def : bounary_measurement_map ] ) , but with the formal boundary measurements @xmath231 instead of the @xmath17 .",
    "the elements of the matrix @xmath346 are formal power series in the edge variables @xmath6",
    ". we will show that each maximal minor of @xmath346 sums up to a subtraction - free rational expression in the @xmath6 .",
    "note that proposition  [ prop : delta_pi_cn ] gives an expression for each maximal minor of @xmath346 as a certain alternating sum of products of the @xmath231 , which corresponds to the generating function for collections of paths in the network @xmath208 that connect the boundary vertices @xmath8 , @xmath347 with the boundary vertices @xmath10 , @xmath348 . let us show how to cancel the negative terms in this generating function .",
    "for the two sets @xmath349 and @xmath325 as above , we define an _",
    "admissible collection _",
    "@xmath350 of directed paths in @xmath208 by the following conditions :    1 .   the paths @xmath351 have no self - intersections .",
    "2 .   there is a bijection @xmath303 such that the path @xmath351 starts at the boundary vertex @xmath352 and ends at the boundary vertex @xmath353 , for @xmath354 .",
    "the bijection @xmath306 has no crossings , that is @xmath343 .",
    "4 .   the paths @xmath351 and @xmath355 have no intersections ( i.e. , common vertices ) whenever @xmath356 is an alignment and @xmath355 are allowed to intersect when @xmath356 is a misalignment of @xmath306 . ] of the bijection @xmath306 ; see figure  [ fig : crossing_alignment_misalignment ] .",
    "note that there are finitely many admissible collections of paths because there are finitely many paths without self - intersections .",
    "suppose that the @xmath357th path an admissible collection @xmath358 has vertices @xmath359 .",
    "let @xmath360 be the set of all cycles ( without self - intersections ) that start and end at the @xmath267th vertex @xmath361 of @xmath351 and do not pass through any of the earlier vertices @xmath362 in @xmath351 and any vertex of a path @xmath363 such that @xmath364 and @xmath365 is an alignment of @xmath306 .",
    "again note that all sets @xmath360 are finite .",
    "[ prop : subtraction_free_minor ] for any @xmath7-element subset @xmath250 $ ] and the sets @xmath324 and @xmath325 as above , the maximal minor @xmath248 of the matrix @xmath366 is given by the following subtraction - free rational expression : @xmath367 where the sum is over all admissible collections @xmath358 of paths , @xmath368 denotes the product of the variables @xmath6 over all edges @xmath13 in all paths in @xmath358 , and @xmath369 is the product of the @xmath6 over the edges of a cycle @xmath223 .",
    "[ prop : minors - exact ]    let @xmath370 be a directed path in @xmath18 . if @xmath12 has at least one self - intersection , then find the first self - intersection , that is the minimal index @xmath357 such that @xmath371 for some @xmath372 .",
    "let @xmath373 be the path obtained from @xmath12 by erasing the cycle @xmath374 .",
    "if @xmath375 still has a self - intersection then again erase the first cycle in @xmath375 to get another path @xmath376 , etc .",
    "finally , we obtain the path @xmath227 without self - intersections , called the _ loop - erased part _ of @xmath12 .    for any path @xmath377 without self - intersections ,",
    "all paths @xmath12 that have the loop - erased part @xmath378 can be obtained from @xmath227 by the following inverse procedure .",
    "let @xmath379 be the set of cycles that start and end at the vertex @xmath380 and avoid the vertices @xmath381 .",
    "then the paths @xmath12 are obtained from their loop - erased part @xmath227 by first inserting any number of cycles from @xmath382 ( in any order ) , then inserting any number of cycles from @xmath383 , etc .    according to proposition  [",
    "prop : delta_pi_cn ] and the definition   of the formal boundary measurements @xmath231 , the minor @xmath248 equals to the sum @xmath384 where the first sum is over all bijections @xmath303 , the second sum is over all collections of paths @xmath385 such that @xmath386 starts at the boundary vertex @xmath352 and end at the boundary vertex @xmath353 , and @xmath387 .",
    "let @xmath388 be the loop - erased parts of the paths @xmath389 .",
    "suppose that there is a pair of indices @xmath304 such that such that the loop - erased part @xmath351 intersects with @xmath390 ( i.e. , these paths have a common vertex ) and @xmath356 is either a crossing or an alignment for the bijection @xmath306 .",
    "let us find the lexicographically minimal such pair @xmath44 and find the first intersection vertex @xmath240 in the paths @xmath351 and @xmath390 .",
    "let @xmath391 be the family of paths , where the paths @xmath392 and @xmath393 are obtained from the path @xmath386 and @xmath390 by switchings their tails at the common vertex @xmath240 .",
    "this family of paths corresponds to the bijection @xmath394 obtained from @xmath306 by switching @xmath395 with @xmath396 . note that we have @xmath397 , because in @xmath398 we have replaced a crossing from @xmath306 by an alignment ( and maybe killed several other _ pairs _ of crossings of @xmath306 ) , or vise versa .",
    "also note that , if we apply this transformation of paths twice , we get the original family of paths and the whole path @xmath390 . if we find the first intersection of @xmath351 and @xmath355 and switch the tails , the operation may not be involutive .",
    "] @xmath385 .",
    "this implies that the contributions to @xmath248 of all families , for which one can find a pair @xmath44 as above , cancel each other .",
    "the surviving terms in @xmath248 correspond to families of paths @xmath385 with bijections @xmath306 such that @xmath343 and , for any alignment @xmath399 in @xmath306 , the paths @xmath351 and @xmath390 have no common points .",
    "that exactly means that the collection of the loop - erased parts @xmath350 is an admissible collection of paths and that all erased cycles at the @xmath267th vertex of @xmath351 belong to the set @xmath360 .",
    "finally , notice that @xmath400 equals the number of erased cycles in @xmath386 .",
    "thus the contribution of all terms with a given admissible family @xmath350 is @xmath401 which is equal to @xmath402 , as needed .",
    "proposition  [ prop : minors - exact ] implies lemma  [ lem : mij ] , because @xmath403 .",
    "since any minor of @xmath345 is a subtraction - free rational expression in the @xmath6 , we also deduce that any minor of the boundary measurement matrix @xmath262 is a nonnegative real number .",
    "thus the boundary measurement map @xmath21 sends any network into a point in the totally nonnegative grassmannian .",
    "[ cor : n_subs_gr ] we have @xmath298 .",
    "in this section we define -diagrams which are on one - to - one correspondence with totally nonnegative grassmann cells .    for a partition @xmath23 ,",
    "let us define a _",
    "@xmath404 of shape @xmath23 as a filling of boxes of the young diagram of shape @xmath23 with @xmath24 s and @xmath25 s such that , for any three boxes indexed @xmath405 , @xmath406 , @xmath407 , where @xmath408 and @xmath409 , filled with @xmath317 , @xmath410 , @xmath411 , correspondingly , if @xmath412 then @xmath413 ; see figure  [ fig : le_property ] . note that these three boxes should form a `` '' shaped pattern . , because it is the mirror image of `` l '' [ el ] .",
    "we follow english notation for drawing young diagrams on the plane . a reader who prefers",
    "another notation may opt to use one of the following alternative terms instead of @xmath22-diagrams : @xmath414-diagram , @xmath415-diagram , @xmath416-diagram , @xmath42-diagram , @xmath417-diagram , @xmath418-diagram , or @xmath419-diagram . ] for a -diagram @xmath404 , let @xmath420 be the number of @xmath25 s it contains .",
    "let @xmath421 be the set of @xmath22-diagrams whose shape @xmath23 fits inside the @xmath184-rectangle .",
    "( 0,0)(90,75 ) ( 0,60)(90,60 ) ( 0,60)(0,0 ) ( 0,0)(20,0)(20,10)(50,10)(50,30)(60,30)(60,40)(90,40)(90,60 ) ( 10,20 ) ( 37,20 ) ( 37,50 ) ( -10,20)@xmath422 ( -10,50)@xmath357 ( 10,70)@xmath267 ( 37,70)@xmath423    figure  [ fig : le_diagram ] shows an example of -diagram . here dots in boxes of the young diagram indicate that they are filled with @xmath25 s , and empty boxes are assumed to be filled with @xmath24 s .",
    "let us draw the _ hook _ for each box with a dot , i.e. , two lines going to the right and down from the dotted box .",
    "the -property means that every box of the young diagram located at an intersection of two lines should contain a dot .",
    "( 0,-5)(100,85 ) ( 0,80)(100,80 ) ( 0,60)(100,60 ) ( 0,40)(100,40 ) ( 0,20)(40,20 ) ( 0,0)(20,0 ) ( 0,80)(0,0 ) ( 20,80)(20,0 ) ( 40,80)(40,20 ) ( 60,80)(60,40 ) ( 80,80)(80,40 ) ( 100,80)(100,40 )    ( 10,0)(10,50)(100,50 ) ( 30,20)(30,50 ) ( 50,40)(50,70)(100,70 ) ( 90,40)(90,70 ) ( 10,50)3 ( 30,50)3 ( 50,50)3 ( 50,70)3 ( 90,50)3 ( 90,70)3    for a young diagram filled with @xmath24 s and @xmath25 s , let us say that that a @xmath24 is _ blocked _ if there is a @xmath25 somewhere above it in the same column . for example , the diagram shown on figure  [ fig : le_diagram ] has three blocked @xmath24 s : two in the first column and one in the second column .",
    "the -property can be reformulated in terms of blocked @xmath24 s , as follows .",
    "for each blocked @xmath24 , all entries to the left and in the same row as this @xmath24 are also @xmath24 s .",
    "[ rem : blocked_zeros ] one can use this observation to recursively construct -diagrams . suppose that we have a -diagram @xmath404 of shape @xmath23 whose last column contains @xmath424 boxes and @xmath410 blocked @xmath24 s .",
    "let @xmath425 be the -diagram of shape @xmath426 obtained from @xmath404 by removing the last column and the @xmath410 rows ( filled with all @xmath24 s ) that contain these blocked @xmath24 s in the last column .",
    "the shape @xmath426 of this diagram is obtained from @xmath23 by removing @xmath410 rows of maximal length and removing the last column .",
    "then @xmath425 can be any -diagram of shape @xmath426 .",
    "thus an arbitrary -diagram @xmath404 as above with prescribed @xmath24 s and @xmath25 s in the last column is constructed by picking an arbitrary -diagram @xmath425 as above and inserting rows filled with all @xmath24 s in the positions corresponding to the blocked zeros and then inserting the last column .",
    "a _ @xmath415-graph _ is a planar directed graph @xmath18 satisfying the conditions :    1 .",
    "the graph @xmath18 is drawn inside a closed boundary curve in @xmath427 .",
    "@xmath18 contains only vertical edges oriented downward and horizontal edges oriented to the left .",
    "3 .   for any internal vertex @xmath240 ,",
    "the graph @xmath18 contains the line going down from @xmath240 until it hits the boundary ( at some boundary sink ) and the line going to the right from @xmath240 until it hits the boundary ( at some boundary source ) .",
    "4 .   all pairwise intersections of such lines should also be vertices of @xmath18 .",
    "the graph may also contain some number of isolated boundary vertices , which are assigned to be sinks or sources .",
    "in other words , a @xmath415-graph @xmath18 is obtained by drawing several @xmath415-shaped hooks inside the boundary curve .",
    "@xmath415-network _ is a network with a @xmath415-graph .",
    "note that for an arbitrary @xmath415-network @xmath208 there is a unique gauge transformation of edge weights   that transforms the weights of all vertical edges into @xmath25 .",
    "figure  [ fig : gamma_network ] shows an example of @xmath415-graph .",
    "we displayed boundary sources by black vertices and boundary sinks by white vertices .",
    "-graph , height=115 ]    for a -diagram @xmath404 of shape @xmath23 , define _ -tableaux _ @xmath33 as nonnegative real - valued functions @xmath33 on boxes @xmath44 of the young diagram of shape @xmath23 such that and @xmath428 if and only if the box @xmath44 of the diagram @xmath404 is filled with a @xmath25 .",
    "there is a simple correspondence between -tableaux of shape @xmath23 that fit inside the rectangle @xmath49 and @xmath415-networks with @xmath7 boundary sources and @xmath63 boundary sinks modulo gauge transformations .",
    "let @xmath33 be a -tableau of shape @xmath429 .",
    "the boundary of the young diagram of @xmath23 gives the lattice path of length @xmath27 from the upper right corner to the lower left corner of the rectangle @xmath49 .",
    "let us place a vertex in the middle of each step in the lattice path and mark these vertices by @xmath5 as we go downwards and to the left .",
    "the vertices @xmath8 , @xmath80 , corresponding to the vertical steps in the lattice path will be the sources of the network and the remaining vertices @xmath10 , @xmath212 , corresponding to horizontal steps will be the sinks .",
    "notice that the source set @xmath74 is exactly the set @xmath125 as defined in section  [ ssec : schubert_cells ] .",
    "then connect the upper right corner with the lower left corner of the rectangle by another path so that together with the lattice path they form a closed curve containing the young diagram in its interior .",
    "for each box @xmath44 of the young diagram such that @xmath430 , draw an internal vertex in the middle of this box and draw the line that goes downwards from this vertex until it hits a boundary sink and another line that goes to the right from this vertex until it hits a boundary source . as we have already mentioned in section  [ sec : le - diagrams ] , the -property means that any intersection of such lines should also be a vertex ; cf .",
    "figure  [ fig : le_diagram ] .",
    "orient all edges of the obtained graph to the left and downwards . finally , for each internal vertex @xmath240 drawn in the middle of the box @xmath44 assign the weight @xmath431 to the horizontal edge @xmath13 that enters @xmath240 ( from the right ) .",
    "also assign weights @xmath432 to all vertical edges of the network .",
    "let us denote the obtained network @xmath433 .",
    "it is not hard to see that any @xmath415-network ( with the weights of all vertical edges equal to 1 ) comes from a -tableau in this fashion .",
    "we leave it as an exercise for the reader to rigorously prove this claim",
    ".     and the corresponding @xmath415-network @xmath433,height=115 ]    figure  [ fig : le_tableau_gamma ] gives an example of a -tableau and the corresponding @xmath415-network . in the -tableau",
    "only nonzero entries are displayed .",
    "in the @xmath415-network we marked the boundary vertices @xmath5 just by the numbers @xmath52 .",
    "the dotted lines indicate the boundary of the rectangle @xmath49 ; they are not edges of the @xmath415-network . in this example , @xmath434 and the source set is @xmath435 .",
    "for a -diagram @xmath436 , let @xmath437 be the set of -tableaux @xmath33 associated with @xmath404 .",
    "the map @xmath438 gives the isomorphism @xmath439 between the set of -tableaux @xmath33 with fixed -diagram @xmath404 and the set of @xmath415-networks ( modulo gauge transformations ) with the fixed graph @xmath18 corresponding to the -diagram @xmath404 as above .",
    "the boundary measurement map @xmath21 ( see definition  [ def : bounary_measurement_map ] ) induces the map @xmath440    recall definition  [ def : subtraction_free_parametrization ] of a subtraction - free parametrization .",
    "[ th : g_d ] for each -diagram @xmath436 , the map @xmath441 is a subtraction - free parametrization a certain certain totally nonnegative grassmann cell @xmath442 .",
    "this gives a bijection between -diagrams @xmath436 and all cells @xmath2 in @xmath0 .",
    "the -diagram @xmath404 has shape @xmath23 if and only if @xmath443 .",
    "the dimension of @xmath2 equals to @xmath420 .",
    "moreover , for @xmath404 of shape @xmath23 , the map @xmath441 is @xmath74-polynomial , where @xmath79 .",
    "theorem  [ th : g_d ] , together with corollary  [ cor : n_subs_gr ] , implies theorem  [ th : net = gr ] .",
    "moreover , it implies theorem  [ th : net_to_gr_parametrization ] .",
    "indeed , the parametrization @xmath441 is @xmath444-polynomial , where @xmath294 .",
    "the claim for other bases @xmath297 follows from the cyclic symmetry ; see remark  [ rem : cyclic_symmetry ] .",
    "in other words , take the -diagram corresponding to a cell @xmath2 as above , but assuming that the boundary vertices are ordered as @xmath445 .",
    "it gives an @xmath297-polynomial parametrization of @xmath2 .",
    "in this section we prove theorem  [ th : g_d ] by constructing the bijective map @xmath446 , which is inverse to the boundary measurement map .    the construction is based on the following four lemmas .",
    "let @xmath93 be a @xmath41-matrix in @xmath74-echelon form ; see section  [ ssec : schubert_cells ] .",
    "let @xmath447 be the first column - vector of @xmath3 that can be expressed as a linear combination of the previous column - vectors : @xmath448 .",
    "in other words , @xmath424 is the maximal integer such that @xmath449\\subseteq i$ ] .",
    "( here we exclude the trivial case @xmath450 when @xmath3 should be the identity matrix .",
    "but we allow @xmath451 when the first column of @xmath3 is zero . )",
    "then @xmath452 is the @xmath357th coordinate vector , for @xmath453 , and @xmath454 , that is the matrix @xmath3 has the following form : @xmath455    recall that @xmath143 is the set of @xmath41-matrices of rank @xmath7 with nonnegative maximal minors @xmath456 .",
    "we have @xmath457 .",
    "thus the condition @xmath458 implies that @xmath459 for @xmath453 .",
    "[ lem : le-1 ]    the matrix @xmath460 is obtained from the identity matrix @xmath461 by skipping its @xmath357th column and inserting the column @xmath462 in @xmath424th position .",
    "let @xmath463 $ ] be an index such that @xmath464 and there exists @xmath465 such that @xmath466 .",
    "then the condition @xmath467 implies that @xmath468 for all @xmath469 .",
    "in other words , the @xmath470-row of @xmath3 has only one nonzero entry @xmath471 .",
    "[ lem : le-2 ]    we will call an entry @xmath464 of the vector @xmath472 satisfying the condition in this lemma a _ blocked zero . _    for @xmath473",
    "we have @xmath474 because the @xmath267-th column of @xmath3 has only one nonzero entry @xmath475 for some @xmath476 .",
    "suppose that @xmath139 .",
    "then @xmath477 , where @xmath478|$ ] . on the other hand , @xmath479 .",
    "since by lemma  [ lem : le-1 ] @xmath480 , we deduce that @xmath481 .",
    "this implies that @xmath482 .",
    "[ lem : le-3 ] assume that the @xmath470-row of @xmath3 has only one nonzero entry @xmath471 for some @xmath463 $ ] .",
    "let @xmath183 be the @xmath483-matrix obtained from @xmath3 by removing the @xmath470-row and the @xmath470-column and inverting signs of the entries @xmath484 for @xmath485 and @xmath486 .",
    "then @xmath458 if and only if @xmath487 .    moreover , the maximal minors of the matrices @xmath3 and @xmath188 are equal to each other .",
    "more explicitly , @xmath488 if @xmath489 , and @xmath490 if @xmath491 , where @xmath193 means that we decrease elements @xmath492 in @xmath189 by @xmath25 .    the equality of the minors is straightforward ; it implies the first claim .",
    "[ lem : le-4 ] assume that there are no blocked zeros , that is @xmath493 and @xmath494 , for some @xmath495 $ ] .",
    "let @xmath496 be the @xmath497-matrix whose first @xmath424 columns are the first coordinate vectors ( as in the matrix @xmath3 ) and the remaining entries are @xmath498\\cup[d+1,k],\\\\[.05 in ] \\frac{a_{ij}}{x_i } +   \\frac{a_{i+1,\\,j}}{x_{i+1 } } &         \\text{if } i\\in [ s+1,d-1],\\\\[.05 in ] \\frac{a_{dj}}{x_d } & \\text{if } i = d , \\end{array } \\right.\\ ] ] for @xmath499 .",
    "then @xmath458 if and only if @xmath500 .",
    "moreover , if we fix a totally nonnegative cell @xmath154 and require that ( the coset of ) the matrix @xmath3 belongs to @xmath2 , then we can write all maximal minors @xmath501 as subtraction - free rational expressions in terms of the minors @xmath502 , @xmath503 . on the other hand",
    ", we can write the minors @xmath502 as nonnegative integer polynomials in terms of the minors @xmath501 and the @xmath504 , @xmath505 $ ] .    this gives a bijective correspondence between totally nonnegative cells @xmath506 that can contain a matrix @xmath3 of this form and totally nonnegative cells @xmath507 that can contain a matrix @xmath223 of this form .",
    "we will prove this lemma in section  [ sec : tails ] .",
    "note that the matrix @xmath223 is still in echelon form .",
    "let us illustrate this lemma by an example .",
    "let @xmath508 where @xmath509 and @xmath510 .",
    "then @xmath511 , @xmath512 , @xmath513 . on the other hand , @xmath514 , @xmath515 , @xmath516 , @xmath517 , @xmath518 , @xmath519 .",
    "let us prove the theorem , together with the additional claim that the map @xmath520 given by @xmath521 produces @xmath41-matrices in echelon form .",
    "the proof is by induction on @xmath27 .",
    "the cases when @xmath450 or @xmath522 are trivial , which provides the base of induction .",
    "assume that @xmath523 $ ] .",
    "assume by induction that the theorem is valid for all @xmath524 with @xmath525 .",
    "let @xmath3 be a @xmath41-matrix in @xmath74-echelon form that represents a point in @xmath526 , where @xmath79 .",
    "let us find the integer @xmath424 and the real numbers @xmath527 as above in this section ; see  . according to lemma  [ lem : le-1 ]",
    ", we have @xmath459 , for @xmath453 .",
    "note that we can uniquely determine the number @xmath424 and the set of indices @xmath357 with @xmath466 from the matroid @xmath112 , because these numbers are certain maximal minors of @xmath3 ; see lemma  [ lem : le-1 ] .",
    "suppose that there are @xmath528 blocked zeros in the vector @xmath472 .",
    "for each blocked zero @xmath464 , all entries in the @xmath470th row of @xmath3 are zero , except @xmath471 .",
    "let @xmath138 be the @xmath529-matrix obtained from @xmath3 by skipping the @xmath470th row and the @xmath470th column , for each blocked zero @xmath464 , and inverting signs of some entries , as in lemma  [ lem : le-3 ] .",
    "namely , we need to invert the sign of @xmath484 , @xmath530 , if and only if there is an odd number of blocked zeros @xmath464 with @xmath531 .",
    "according lemma  [ lem : le-3 ] , the maximal minors of @xmath3 are equal to the corresponding maximal minors of @xmath138 ( or to zero ) .",
    "thus the matroid @xmath532 associated with @xmath138 can be uniquely constructed from the matroid @xmath112 ; and vise versa , if we know the matroid @xmath532 and the positions of blocked zeros , then we can uniquely reconstruct the matroid @xmath112 .",
    "in particular , the schubert cell @xmath533 of @xmath138 corresponds to the young diagram of shape @xmath534 obtained by removing @xmath410 ( longest ) rows with @xmath63 boxes from the young diagram of @xmath23 .",
    "note that @xmath138 can be any @xmath161-echelon matrix , where @xmath535 , that represents a cell @xmath536 such that the vector @xmath537 with @xmath538 has no blocked zeros . by the induction hypothesis",
    ", we already know that the map @xmath539 is a bijection between -tableaux @xmath540 of shape @xmath534 such that the last column of @xmath540 contains no blocked zeros and the set of matrices @xmath138 as above .",
    "moreover , it gives a bijection between -diagrams @xmath541 corresponding to such tableaux and cells @xmath542 containing such matrices @xmath138 ; and the map @xmath539 gives a subtraction - free parametrization for each cell @xmath543 .",
    "let @xmath540 be the -tableau such that @xmath544 and @xmath541 be its -diagram .",
    "let @xmath33 be the -tableau ( and @xmath404 be its -diagram ) obtained from @xmath540 ( reps .",
    ", from @xmath404 ) by inserting @xmath410 rows filled with all @xmath24 s in the positions corresponding to blocked zeros in @xmath472 .",
    "then we have @xmath545 .",
    "indeed , the network @xmath433 is obtained from @xmath546 by inserting @xmath410 isolated sources in the positions corresponding to the blocked zeros .",
    "thus , according to definition  [ def : bounary_measurement_map ] , its boundary measurement matrix @xmath547 is obtained from @xmath548 by inserting , for each blocked zero @xmath549 , a row and a column in the @xmath470th positions with a single nonzero entry @xmath471 , and switching the signs of some entries @xmath484 . (",
    "the signs are switched because we insert additional elements @xmath470 into @xmath74 .",
    "these switches are exactly the same as in lemma  [ lem : le-3 ] . )",
    "note that all -diagrams and all -tableaux of shape @xmath23 with given entries in the last column are of this form ; see remark  [ rem : blocked_zeros ] .",
    "this implies that @xmath550 gives subtraction - free parametrizations with needed properties for the cells @xmath2 with some blocked zeros .",
    "let us now suppose that @xmath472 contains no blocked zeros , that is @xmath493 and @xmath551 .",
    "let @xmath223 be the matrix obtained from @xmath3 as in lemma  [ lem : le-4 ] .",
    "the matrix @xmath223 represents a point in @xmath552 .",
    "according to lemma  [ lem : le-4 ] , the matroid @xmath553 is uniquely determined by the matroid @xmath112 , and vise versa @xmath112 is uniquely determined by @xmath553 and positions of zeros in @xmath472 . in this case , the young diagram of @xmath554 is obtained from the young diagram of @xmath23 by removing the last column ( with @xmath424 boxes ) .",
    "note that @xmath555 can be any cell in @xmath556 and @xmath557 can be the echelon representative of any point in such cell .",
    "again , by the induction hypothesis , we already know that @xmath558 gives a subtraction - free parametrization for cells @xmath559 and that this map induces a bijection between all -diagrams @xmath560 of shape @xmath554 and these cells .",
    "let @xmath561 be the -tableau such that @xmath562 , and @xmath560 be its -diagram .",
    "let @xmath33 be the -tableau obtained from @xmath561 by inserting the last column filled with @xmath472 , and @xmath404 be the -diagram of @xmath33 , i.e. , @xmath404 is obtained from @xmath560 by inserting the last row filled with @xmath563 ( @xmath265 zeros followed by @xmath564 ones ) . according to remark  [ rem : blocked_zeros ] , any -diagram @xmath404 and any -tableau @xmath33 of shape @xmath23 without blocked zeros in the last column",
    "have this form .",
    "we claim that for this -tableau @xmath33 , we have @xmath565 .",
    "indeed , the network @xmath566 is obtained from @xmath433 by removing the @xmath564 internal vertices @xmath567 adjacent to the boundary sources @xmath568 , removing the vertical edges incident to the vertices @xmath569 , merging @xmath564 pairs of horizontal edges , erasing the weights @xmath570 , removing the sink @xmath571 , and shifting the labels of the boundary vertices @xmath8 , @xmath572 , by one ; see figure  [ fig : gamma_network_induction ] .",
    "the boundary measurements @xmath17 of the network @xmath433 are obtained from the boundary measurements of @xmath573 of @xmath566 by @xmath574 for @xmath505 $ ] , @xmath486 ; @xmath575 for @xmath576 $ ] , @xmath486 ; and @xmath577 for @xmath578 $ ] ; see figure  [ fig : gamma_network_induction ] .",
    "thus the boundary measurement matrix @xmath579 of @xmath433 is obtained from the matrix @xmath580 , by inserting the column @xmath581 in the @xmath582st position and changing other entries as @xmath583,\\\\ c_{ij } & \\text{otherwise , } \\end{array } \\right.\\ ] ] for @xmath486 ; and of course @xmath584 , for @xmath585 .",
    "notice that the @xmath586 is the inverse of the transformation @xmath587 from lemma  [ lem : le-4 ] .",
    "thus @xmath547 is the original matrix @xmath3 , as needed .",
    "now lemma  [ lem : le-4 ] implies that the map @xmath550 gives needed subtraction - free parametrizations for the cell @xmath2 without blocked zeros .    finally , note that the network @xmath433 is acyclic and its source set is @xmath79 .",
    "thus all boundary measurements @xmath17 are nonnegative polynomials in the edge weights . by proposition",
    "[ prop : subtraction_free_minor ] all maximal minors @xmath588 are given nonnegative polynomials and @xmath589 .",
    "this implies the last claim of theorem  [ th : g_d ] about @xmath74-polynomiality of the map @xmath441 .",
    "we can describe the map @xmath590 implicitly constructed in the above proof , which is inverse to the boundary measurement map , via the following recursive procedure .",
    "this procedure transforms points in the totally nonnegative part of a schubert cell @xmath591 into -tableaux @xmath33 of shape @xmath23 .",
    "it inserts nonnegative real numbers into boxes of the young diagram of shape @xmath23 starting with the rightmost column , then filling the next available rightmost column , etc .",
    "the procedure uses a variable matrix @xmath3 of variable dimensions .",
    "* procedure .",
    "* map from @xmath592 to -tableaux of shape @xmath23 .    1 .",
    "take the @xmath41-matrix @xmath3 in echelon form representing a point in @xmath593 .",
    "2 .   for the matrix @xmath3 ,",
    "find the integer @xmath424 and real numbers @xmath527 as in  .",
    "insert the nonnegative real numbers @xmath527 ( see lemma  [ lem : le-1 ] ) into the empty boxes of the rightmost available column of @xmath33 , skipping the boxes of @xmath33 which are already filled with @xmath24 s .",
    "3 .   let @xmath594 be the set of blocked indices .",
    "4 .   if @xmath595 , then for each index @xmath596 , invert the sign of entries @xmath484 , @xmath465 , @xmath486 , in the matrix @xmath3 , remove the @xmath470th row and the @xmath470th column from @xmath3 ( see lemma  [ lem : le-3 ] ) , and insert zeros in all boxes of @xmath33 to the left of the blocked zero @xmath549 .",
    "5 .   if the obtained matrix has @xmath24 rows , then stop . otherwise go to step ( 2 ) .",
    "if @xmath597 , then transform the matrix @xmath3 into the @xmath598-matrix as in lemma  [ lem : le-4 ] .",
    "if the obtained matrix has dimensions @xmath599 with @xmath600 then stop . otherwise , go to step ( 2 ) .",
    "in this section we prove lemma  [ lem : le-4 ] essential in the proof of theorem  [ th : g_d ] .",
    "let us identify a sequence @xmath601 of @xmath7-vectors with the @xmath41-matrix with the column vectors @xmath110 .",
    "we say that such sequence is _ totally nonnegative _ if all maximal @xmath88-minors of the corresponding matrix are nonnegative and at least one of these minors is strictly positive .    for a sequence @xmath602 , we define the _ @xmath470-tail _",
    "@xmath603 of @xmath604 as the set of sequences @xmath605 such that the concatenation @xmath606 of @xmath604 and @xmath31 is totally nonnegative : @xmath607 the set @xmath603 comes equipped with a _ stratification , _ that is a subdivision into the disjoint union of strata defined as follows .",
    "we say that @xmath608 are in the same _ stratum _ of @xmath603 if the the corresponding @xmath609-matrices @xmath610 and @xmath611 are in the same matroid strata , see section  [ ssec : matroid_strata ] , that is the maximal minor @xmath612 is nonzero if and only if the maximal minor @xmath613 is nonzero , for any @xmath7-element subset @xmath614 $ ] .",
    "let @xmath604 and @xmath240 be two sequences of vectors in @xmath108 , which are allowed to have different lengths .",
    "we say that the sequences @xmath604 and @xmath240 are _ tail - equivalent , _ and write @xmath615 , if , for any @xmath616 , we have    1 .   @xmath617 ; 2 .",
    "the stratifications of @xmath603 and @xmath618 are the same ; 3 .   for any stratum @xmath619 of @xmath603",
    ", there is a subtraction - free rational expression for each maximal minor @xmath620 in terms of the nonzero maximal minors @xmath621 , for @xmath622 ; and vise versa the minors @xmath621 can be written as subtraction - free rational expressions in terms of the @xmath620 on each stratum of @xmath618 .",
    "note that condition ( 3 ) actually implies conditions ( 1 ) and ( 2 ) .",
    "the following lemma is the main technical tool in our proof of theorem  [ th : g_d ]    let @xmath623 be a linearly independent set of vectors in @xmath108",
    ". then the following two sequences are tail - equivalent : @xmath624 where @xmath625 .",
    "[ le : tail - equivalent ]    for three subsets @xmath626 $ ] , @xmath627 $ ] , and @xmath628 $ ] with the total cardinality @xmath629 , let @xmath630 denote the determinant of the @xmath88-matrix with columns @xmath631 , @xmath632 , @xmath633 , where the vectors @xmath634 , @xmath635 , @xmath636 are taken in the order that agrees with the total order @xmath637 in other words , the @xmath638 are the maximal @xmath88-minors of the @xmath639-matrix formed by these column vectors .",
    "we can write each minor @xmath640 as a sum the minors @xmath641 by replacing each column vector @xmath635 in @xmath640 with the sum @xmath642 and expanding the result by the linearity .",
    "thus the nonnegativity of all minors @xmath643 implies that all minors @xmath644 are also nonnegative .",
    "moreover , if we know which minors @xmath643 are strictly positive , then we can determine which minors @xmath644 are strictly positive .",
    "in other words , we have @xmath645 and the stratification of @xmath603 refines the stratification of @xmath618 .",
    "the proof of the opposite claim is a little bit more elaborate .",
    "let us fix a stratum of @xmath618 .",
    "we will show that , for @xmath31 in this stratum , all minors @xmath638 can be written as subtraction - free rational expressions in terms of the nonzero minors @xmath644 . in particular , this would imply that all minors @xmath646 are nonnegative and we can determine which of these minors are strictly positive . thus we will get @xmath647 and deduce that the stratification of @xmath618 refines the stratification of @xmath603 .",
    "let us obtain subtraction - free rational expressions for the @xmath638 in terms of the @xmath648 by induction . clearly , we get such expressions when @xmath649 .",
    "let us assume that @xmath74 is nonempty . if @xmath650 or @xmath651 , then @xmath652 , because any vector @xmath634 and any @xmath424 vectors @xmath635 are linearly dependent .",
    "this provides the base of the induction .",
    "let us assume by induction we have already determined which of the minors @xmath653 are nonzero and wrote them as subtraction - free rational expressions for all triples of subsets @xmath161 , @xmath654 , @xmath655 such that @xmath656 .",
    "let us show that either @xmath657 or @xmath658 for some triple @xmath659 with @xmath660 , or else there is a triple of indexes @xmath661 such that @xmath662 ; @xmath663 ; @xmath664 ; and the collection of @xmath665 vectors @xmath666 and @xmath667 , for @xmath80 , @xmath114 , is linearly independent .",
    "let us give a criterion when a subsequence @xmath619 of vectors in @xmath668 is linearly independent .",
    "we can graphically present such collection @xmath619 of vectors by the graph @xmath669 on the set @xmath670 with some marked vertices where @xmath669 has the edge @xmath671 for each @xmath672 , @xmath669 has the marked vertex @xmath357 for each @xmath673 , and the vertices @xmath24 and @xmath651 are always marked .",
    "then @xmath619 is a linearly independent collection of vectors if and only if each connected component of the graph @xmath669 has at most one marked vertex .",
    "the following figure shows the graph @xmath669 for @xmath674 and @xmath675 .",
    "the vertex labels are displayed below the graph and the edge labels are displayed above the graph .",
    "the vector @xmath676 corresponds to the marked vertex @xmath677 and the vectors @xmath678 correspond to edges of @xmath669 labelled @xmath679 .",
    "the marked vertex @xmath677 belongs to the connected component of @xmath669 with the edges labelled @xmath680 . for this connected component",
    ", we have @xmath681 .",
    "now let @xmath619 be the collection of vectors @xmath667 , for @xmath80 and @xmath114 .",
    "if @xmath619 is linearly dependent , then @xmath657 .",
    "so we can assume that @xmath619 is linearly independent .",
    "let us pick any element @xmath663 and find the connected component of @xmath669 that contains the marked vertex @xmath410 .",
    "let @xmath682 be as above , i.e. , @xmath682 are the integers such that @xmath683 , @xmath684\\subset j$ ] , and @xmath664 .",
    "if @xmath685 , that is @xmath686\\subseteq j$ ] , then @xmath652 because the vectors @xmath687 are linearly dependent .",
    "( in this case the connected component of @xmath669 contains two marked points @xmath24 and @xmath410 . ) if @xmath688 , that is @xmath689 and @xmath690\\subset j$ ] , then the vectors @xmath691 in @xmath619 can be expressed in term of the vectors @xmath692 by a unimodular linear transformation .",
    "thus we can replace the columns @xmath691 in the minor @xmath638 with the columns @xmath693 without affecting the value of the minor .",
    "so we have @xmath694 , where we have already expressed the minor in the right - hand side by the induction hypothesis .",
    "thus we can assume that @xmath695 .",
    "analogously , we eliminate the cases @xmath696 and @xmath697 and assume that @xmath698 .",
    "suppose that the vertex @xmath699 belongs to a connected component of @xmath669 with a marked vertex @xmath700 , that is we have @xmath701 and @xmath702\\in j$ ] for some @xmath703 ( or just @xmath704\\in j$ ] when @xmath705 ) .",
    "in this case we can express the sequences of vectors @xmath706 and @xmath707 ( that belong to @xmath619 ) in terms of the consecutive sequences of vectors @xmath708 and @xmath709 by unimodular transformations , then join these two sequences into a single sequence and unimodularly transform it again into @xmath710 .",
    "the graph of the new sequence is obtained by merging two connected components of @xmath669 with marked points @xmath700 and @xmath410 into a single connected connected component .",
    "the new sequence of vectors is obtained from the old by skipping @xmath711 and adding @xmath712 .",
    "this transformation will not affect the value of the minor : @xmath713 , when @xmath714 . in the case when @xmath705 , we get @xmath715 . in all cases ,",
    "the minor @xmath638 is reduced to a minor which has already been expressed subtraction - freely by the induction hypothesis .",
    "so we can assume that the vertex @xmath699 does not belong to a connected component of @xmath669 with a marked vertex .",
    "similarly , we can eliminate the case when the vertex @xmath411 belongs to a connected component with a marked point .",
    "now the graph obtained from @xmath669 by adding the edges @xmath716 and @xmath717 still has at most one marked vertex in each connected component . by the above criterion",
    "this means that the set of vectors @xmath718 is linearly independent .",
    "if @xmath719 then the set of vectors @xmath720 forms a basis in @xmath108 , and thus the set of @xmath721 vectors @xmath722 linearly spans @xmath108 . in this case ( according to the exchange axiom ) we can complete the linearly independent subset @xmath723 of the latter set to a basis of @xmath108 . thus there exist a pair of elements @xmath724 such that @xmath725 is a basis of @xmath108 , or equivalently , @xmath726 .",
    "it follows that if @xmath727 for all pairs @xmath724 then @xmath652 . by the induction hypothesis we have already determined which of the minors @xmath728 are nonzero .",
    "thus we either deduce that @xmath652 or find a pair @xmath729 with nonzero ( and thus strictly positive ) minor @xmath728 .",
    "we can now assume that there exist five indexes @xmath730 and @xmath729 such that @xmath663 ; @xmath731\\setminus j$ ] ; @xmath732 $ ] ; and @xmath733 .",
    "for a subword @xmath265 in the word @xmath734 , let @xmath735 $ ] be a shorthand for the triple of subsets @xmath736 such that @xmath161 contains @xmath410 if and only if @xmath265 contains the letter @xmath410 , @xmath654 contains @xmath317 or @xmath411 if and only if @xmath265 contains the corresponding letter , @xmath655 contains @xmath737 or @xmath738 if and only if @xmath265 contains the corresponding letter , and all other entries in @xmath739 are the same as @xmath740 . for example , @xmath741}=\\delta_{i , j , k}$ ] and @xmath742 } = \\delta_{i , j\\cup\\{a , c\\},k\\setminus\\{x , y\\}}$ ] .",
    "let us write the following 3-term grassmann - plcker relations : @xmath743}\\cdot \\delta_{[abc ] } + \\delta_{[aby]}\\cdot \\delta_{[bcx ] } = \\delta_{[abx]}\\cdot \\delta_{[bcy]}\\,,\\\\[.1 in ] \\label{eq : abc - a } & & \\delta_{[axy]}\\cdot \\delta_{[abc ] } + \\delta_{[aby]}\\cdot \\delta_{[acx ] } = \\delta_{[abx]}\\cdot \\delta_{[acy]}\\,,\\\\[.1 in ] \\label{eq : abc - c } & & \\delta_{[cxy]}\\cdot \\delta_{[abc ] } + \\delta_{[acy]}\\cdot \\delta_{[bcx ] } = \\delta_{[acx]}\\cdot \\delta_{[bcy]}\\,.\\end{aligned}\\ ] ] by the induction hypothesis , for each minor in the above equations , except @xmath741}=\\delta_{i , j , k}$ ] , we have already proved its nonnegativity , determined if it is zero or strictly positive , and found a subtraction - free rational expression in terms of the minors @xmath648 .",
    "we also know that @xmath742}>0 $ ] .",
    "suppose that @xmath744}= 0 $ ] .",
    "replacing the column @xmath745 in this minor by the sum of two columns @xmath746 and @xmath747 , we get @xmath744 } = \\delta_{(i\\setminus\\{b\\})\\cup\\{a-1\\},j\\cup\\{c\\ } , k\\setminus\\{y\\ } } + \\delta_{i , j\\cup\\{c\\},k\\setminus\\{y\\ } } = 0 $ ] .",
    "the both summands in the right - hand size are nonnegative by the induction hypothesis and thus they should be zero . in particular , the second summand is @xmath748}= \\delta_{i , j\\cup\\{c\\},l\\setminus \\{y\\}}= 0 $ ] .",
    "similarly , replacing the column @xmath749 in @xmath744}$ ] by the sum of @xmath750 and @xmath751 , we get @xmath744 } =   % \\delta_{(i\\setminus\\{b\\})\\cup\\{c-1\\},j\\cup\\{a\\},l\\setminus\\{y\\ } }   \\delta_{[abx ] } +   \\delta_{(i\\setminus\\{b\\})\\cup\\{c\\},j\\cup\\{a\\},l\\setminus\\{y\\ } } = 0 $ ] and thus @xmath752 } = 0 $ ] .",
    "so the second term in the left - hand side and the term in the right - hand size of   are both zero , which implies that @xmath741}\\cdot \\delta_{[abc ] }   = 0 $ ] and thus @xmath741 } = 0 $ ] . similarly , when @xmath753}= 0 $ ] , we deduce that @xmath754}=\\delta_{[bcy]}=0 $ ] and thus again @xmath741 } = 0 $ ] .",
    "we obtain that , if @xmath744}= 0 $ ] or @xmath753}= 0 $ ] , then @xmath755 } = 0 $ ] .",
    "we can now assume that @xmath744}>0 $ ] and @xmath753}>0 $ ] .",
    "let us multiply both sides of equations   and   and divide the result by the nonzero expression @xmath744}\\cdot \\delta_{[acy]}$ ] . then subtract the resulting equation from   and finally divide it by @xmath742}>0 $ ] .",
    "we obtain the following subtraction - free expression for the minor @xmath741}$ ] : @xmath756 } =   \\frac{\\delta_{[axy]}\\cdot\\delta_{[cxy]}\\cdot \\delta_{[abc ] } } { \\delta_{[acx]}\\cdot \\delta_{[acy ] } } + \\frac{\\delta_{[axy]}\\cdot \\delta_{[bcx]}}{\\delta_{[acx ] } } + \\frac{\\delta_{[aby]}\\cdot\\delta_{[cxy]}}{\\delta_{[acy]}}.\\ ] ] since all minors in the right - hand side have already been expressed subtraction - freely from the minors @xmath644 we finally obtain a subtraction - free rational expression for @xmath755}$ ] .",
    "this finishes the proof of lemma .",
    "let us consider two matrices @xmath757 suppose that all maximal minors @xmath91 are nonnegative . according to lemma  [ le : tail - equivalent ] , all maximal minors @xmath758 should also be nonnegative and , if we prescribe which minors @xmath91 are zero and which are strictly positive , then we can express each minor @xmath758 as a subtraction - free rational expression in terms of the @xmath91 .",
    "the only nontrivial case is @xmath759 .",
    "let us show how to express the minor @xmath760 .",
    "we have @xmath761 , @xmath762 , @xmath763 , @xmath764 , @xmath765 , @xmath766 . if @xmath767 or @xmath768 , then either @xmath769 or @xmath770 . in both cases @xmath771 .",
    "if both minors @xmath772 and @xmath773 are nonzero , then @xmath774 indeed , this equality can be written as @xmath775 we leave the verification of the last identity as an exercise for the reader .",
    "[ lem : tail_plus_v ] for two tail - equivalent sequences of @xmath7-vectors @xmath776 , @xmath777 and a @xmath7-vector @xmath240 , the sequences @xmath778 and @xmath779 are tail - equivalent .    follows form the cyclic symmetry ; see remark  [ rem : cyclic_symmetry ] .",
    "the maximal minors of the @xmath780-matrix @xmath781 are equal to the corresponding maximal minors of @xmath782 .",
    "let us now prove lemma  [ lem : le-4 ] .",
    "we have @xmath783 and @xmath784 for @xmath785 $ ] .",
    "let @xmath786 be the first column vectors of the matrix @xmath3 rescaled by the positive factors : @xmath787 for @xmath788\\cup\\{d+1\\}$ ] , and @xmath789 for @xmath505 $ ]",
    ". then @xmath790 .",
    "also let @xmath623 be the linearly independent vectors given by @xmath791 for @xmath792 $ ] , and @xmath793 for @xmath785 $ ] .",
    "equivalently , these two sequences of vectors are related to each other , as follows : @xmath794 for @xmath788 $ ] , @xmath795 for @xmath505 $ ] , and @xmath796",
    ". lemmas  [ le : tail - equivalent ] and  [ lem : tail_plus_v ] imply that @xmath797 and @xmath798 are tail - equivalent .",
    "let @xmath799 and @xmath800 . the matrix @xmath801 is obtained from the matrix @xmath3 by multiplying the columns with indices @xmath802 $ ] by the factors @xmath803 .",
    "also note that the matrix @xmath804 is obtained from @xmath223 by first multiplying it on the left the unipotent upper - triangular matrix @xmath805 ( which preserves all maximal minors ) and then multiplying the rows by indices @xmath785 $ ] by the factors @xmath285 . here",
    "@xmath806 if @xmath807 , and @xmath808 otherwise .",
    "thus any maximal minor @xmath809 equals @xmath91 times some square - free product of the @xmath803 , @xmath810 $ ] , and @xmath811 } x_j$ ] .",
    "now the tail - equivalence @xmath812 implies that , assuming that @xmath3 belongs to a fixed cell @xmath2 , any maximal minor of @xmath223 can be written as a subtraction - free rational expression in the nonzero minors of @xmath3 ; and vise versa minors of @xmath3 can be expressed subtraction - freely in terms of the minors of @xmath223 and the @xmath285 . moreover , note that the minors of @xmath801 can be written just as sums of some minors of @xmath804 ;",
    "see the beginning of proof of lemma  [ le : tail - equivalent ] .",
    "thus a minor of @xmath3 can be written as a sum of some minors of @xmath223 multiplied by some products of the @xmath285 .",
    "in this section we show how to simplify the structure of a planar directed network without changing the boundary measurements @xmath17 .",
    "first of all , if the network @xmath208 contains any internal sources or sinks , then we can remove them with all their incident edges . indeed",
    ", a directed path connecting two boundary vertices can never pass through an internal source or sink .",
    "if @xmath208 contains an internal vertex of degree 2 , then we can remove this vertex , glue two incident edges @xmath813 and @xmath814 into a single edge @xmath13 with weight @xmath815 .    if @xmath208 contains a boundary vertex @xmath8 , say , a boundary source of degree @xmath816 , with incident edges",
    "@xmath817 , then we can pull these edges away from @xmath8 , create a new internal vertex @xmath569 connected with the source @xmath8 by an edge of weight 1 ( directed from @xmath8 to @xmath569 ) , and reattach the edges @xmath818 to @xmath569 . if @xmath451 , that is @xmath8 was an isolated vertex in @xmath208",
    ", then we create an additional loop at the new vertex @xmath569 , so that @xmath569 has degree @xmath59 .",
    "now suppose that @xmath208 contains an internal vertex @xmath240 of degree @xmath819 .",
    "let @xmath820 be the edges incident to @xmath240 in the clockwise order .",
    "if two adjacent edges @xmath818 and @xmath821 have the same orientation , say , towards the vertex @xmath240 , then we can again pull these two edges away from the vertex @xmath240 by creating a new vertex @xmath822 and a new edge from @xmath822 to @xmath240 with weight @xmath25 and attaching the edges @xmath818 and @xmath821 to the vertex @xmath822 .",
    "this transformation does not change the boundary measurements of the network .    however ,",
    "if the orientations of the edges @xmath817 alternate , then we can not make the above reduction . in this case",
    "we can do the following transformation of the network . remove the vertex @xmath240 and create a new cycle @xmath223 with vertices @xmath823 and , say , the clockwise orientation of edges .",
    "assign weights @xmath25 to all edges of the cycle .",
    "reattach the edges @xmath817 to the new vertices @xmath823 .",
    "multiply by 2 the weights of the edges @xmath818 which are oriented towards from the cycle ; see figure  [ fig : vertex_inflation ] .",
    "[ lem : inflaction_of_vertices ] the above transformation of networks does not change the boundary measurements @xmath17 .    first , let us assign variable weights @xmath285 to the edges @xmath824 of the new cycle .",
    "let @xmath12 be a directed path in the network @xmath208 that passes through a vertex @xmath240 .",
    "this path arrives to @xmath240 through some edge @xmath818 and leaves through @xmath825 . in the new network",
    "consider the infinite family of paths that go exactly as the path @xmath12 with the only exception that upon arrival to @xmath223 through the edge @xmath818 they can make several turns around @xmath223 before the departure through the edge @xmath825 .",
    "we may assume that @xmath304 .",
    "( otherwise cyclicly shift the labels ) .",
    "the contribution of a new path from this family to the corresponding boundary measurement will be the same as the weight of @xmath12 times the additional factor @xmath826 , where @xmath265 is the number of full turns around @xmath223 the path makes .",
    "indeed , we get the factor @xmath827 because every new turn changes the winding index by @xmath25 ; the factor 2 comes from the rescaled weight of the incoming edge @xmath818 in the network ; and the other factors correspond to the edges of the cycle @xmath223 the new path passes through .",
    "the total contribution of these paths to the boundary measurement is the weight of @xmath12 times @xmath828 .",
    "if the path @xmath12 passes through the vertex @xmath240 several times , then for each passage of @xmath12 through @xmath240 we will get a similar factor in the new network .",
    "if we now specialize the weights @xmath285 to @xmath25 the additional factors become @xmath829 .",
    "thus the boundary measurement do not change .",
    "thus a planar network can be transformed , without changing the boundary measurements , into a network with only trivalent internal vertices which are neither sources nor sinks . in other words ,",
    "the obtained network has only 2 types of internal vertices : the vertices with two incoming edges and one outgoing edge , and the vertices with one incoming edge and two outgoing edges ; see figure  [ fig : black_white_vertices ] .",
    "such trivalent networks belong to a more general class of networks , defined as follows .",
    "[ def : perfect ] a _ perfect network _",
    "@xmath208 is a planar directed network , in the sense of definition  [ def : planar_networks ] , such that    1 .",
    "each internal vertex @xmath240 either has exactly one incident edge directed away from @xmath240 ( and all other edges directed towards @xmath240 ) , or has exactly one incident edge directed towards @xmath240 ( all other edges directed away from @xmath240 ) .",
    "all boundary vertices",
    "@xmath8 in @xmath208 have degree 1 .",
    "the previous discussion implies the following claim .",
    "any planar directed network can be transformed without changing the boundary measurements into a perfect network with trivalent internal vertices .",
    "for an internal vertex @xmath240 of degree @xmath830 in a perfect network @xmath208 , define the number @xmath831 , called the _ color _ of @xmath240 , such that , if a vertex @xmath240 has exactly one outgoing edge then @xmath832 , and if @xmath240 has exactly one incoming edge then @xmath833 .",
    "( if @xmath240 has degree @xmath166 , then we can assign @xmath834 in any way . )",
    "we will display internal vertices with @xmath832 in black color , and vertices with @xmath833 in white color .",
    "[ lem : knn ] for a perfect network @xmath208 , we have @xmath835 , where @xmath7 is the number of sources and @xmath63 is the number of sinks in @xmath208 , the sum is over internal vertices @xmath240 .",
    "write two numbers at both ends of each directed edge @xmath836 in the network @xmath208 : a `` @xmath25 '' at the target @xmath837 and a `` @xmath838 '' at @xmath220 .",
    "clearly , the total sum of all written numbers is @xmath24 .",
    "the sum of written numbers at each internal vertex @xmath240 equals @xmath839 . on the other hand , at each boundary source we have a `` @xmath838 '' and at each boundary sink we have a `` @xmath25 . ''",
    "in this section we show that it does not really matter how edges are directed in a perfect network .",
    "[ th : switch_of_orientation ] let @xmath840 and @xmath841 be two perfect networks with @xmath7 sources and @xmath63 sinks such that :    1 .",
    "the graphs @xmath18 and @xmath842 are isomorphic as undirected graphs . 2 .",
    "each internal vertex @xmath240 of degree @xmath830 has the same color @xmath843 in the networks @xmath208 and @xmath242 .",
    "3 .   if @xmath13 is an edge that has the same orientation in @xmath208 and in @xmath242 , then @xmath844 .",
    "if @xmath208 contains an edge @xmath244 and @xmath242 contains the same undirected edge in the opposite orientation @xmath845 , then @xmath846 .",
    "then the boundary measurement map @xmath21 maps the networks @xmath208 and @xmath242 to the same point @xmath847 in the grassmannian @xmath19 .",
    "in other words , if we switch directions of some edges in a perfect network @xmath208 at the same time inverting their weights ( as shown in figure  [ fig : edge_switch ] ) so that the colors of internal vertices are preserved , then the boundary measurement @xmath254 will not change .",
    "( 0,0)(210,0 ) ( 0,0)(40,00 ) ( 20,7)@xmath737 ( 105,0)switches to ( 170,0)(210,00 ) ( 190,10)@xmath848    figure  [ fig : switch_equivalent_network ] shows two perfect networks obtained from each other by such switch of edge directions .",
    "their boundary measurement matrices are @xmath849 and @xmath850 .",
    "indeed , we have @xmath851 in @xmath208 , and @xmath852 in @xmath242 .",
    "these two matrices represent the same point in the grassmannian @xmath853 .",
    "( -100,-30)(170,15 ) ( -90,0)@xmath854 ( 140,0)@xmath855 ( -50,0)0b1 ( 50,0)0b2 ( -20,0)v1 ( 20,0)v2 ( -60,0)@xmath234 ( 60,0)@xmath235    ( -100,-15)(170,25 ) ( -90,0)@xmath856 ( 140,0)@xmath857 ( -50,0)0b1 ( 50,0)0b2 ( -20,0)v1 ( 20,0)v2 ( -60,0)@xmath234 ( 60,0)@xmath235    theorem  [ th : switch_of_orientation ] means that the maximal minors of the boundary measurement matrices for two networks @xmath208 and @xmath242 obtained by such switches of orientations of edges are related to each other , as follows .",
    "let @xmath208 and @xmath242 be two perfect networks satisfying conditions of theorem  [ th : switch_of_orientation ] .",
    "let @xmath161 be the source set of @xmath242 .",
    "then the minor @xmath858 is nonzero and , for any @xmath7-subset @xmath859 $ ] , we have @xmath860    we now proceed to proving theorem  [ th : switch_of_orientation ] by first checking two special cases : switching edges in a closed directed cycle and switching edges in a path between two boundary vertices .",
    "[ rem : perfect_network ] perfect networks @xmath208 have the following important property . if we pick a directed closed cycle @xmath223 in @xmath208 , then , for any vertex @xmath240 in @xmath223 , the edges that are incident to @xmath240 and do not belong to @xmath223 are either all directed towards @xmath240 or all directed away from @xmath240 .",
    "thus , for any directed path that hits @xmath223 at some point and later departs from @xmath223 , the arrival and departure points should be different from each other .",
    "the same property holds for a directed path joining two boundary vertices : another path can not arrive and depart from it at the same point .",
    "[ lem : switch_a_cycle ] let @xmath208 be a perfect network .",
    "let @xmath242 be the network obtained from @xmath208 by switching the directions of all edges in a closed directed cycle @xmath223 and inverting their weights .",
    "then the network @xmath242 has the same boundary measurements @xmath17 as the network @xmath208 .",
    "let @xmath823 be the vertices in the cycle @xmath223 , and let @xmath861 , @xmath453 , be the weights of edges in the cycle .",
    "( here we assume that @xmath862 . )",
    "consider a collection @xmath358 of directed paths connecting two boundary vertices in @xmath208 that are identical outside the cycle @xmath223 , but every time when paths enter @xmath223 they can make any number of turns around @xmath223 .",
    "suppose that paths from this collection enter @xmath223 through the vertex @xmath110 and leave through the vertex @xmath635 .",
    "note that @xmath863 because the network @xmath208 is perfect ; see remark  [ rem : perfect_network ] .",
    "we may assume that @xmath304 .",
    "( otherwise cyclicly shift the labels . ) since paths can make any number of turns around @xmath223 , this passage through @xmath223 contributes the factor @xmath864 to the sum of terms @xmath865 from the corresponding boundary measurement . for each passage of paths in @xmath358 through",
    "@xmath223 we get a similar factor .",
    "similarly , we have the collection of paths @xmath866 in the network @xmath242 identical to paths in @xmath358 outside of @xmath223 .",
    "since we switch directions of the cycle @xmath223 and invert its weights in the network @xmath242 , for each passage through @xmath223 with @xmath357 and @xmath267 as above , we now get the factor @xmath867 .",
    "this factor is actually equal to @xmath868 .",
    "thus the total contributions of paths from @xmath358 and @xmath866 to the boundary measurements in @xmath208 and @xmath242 , respectively , are the same .",
    "this implies that all boundary measurements in @xmath208 and @xmath242 are the same .",
    "compare this argument with the proof of lemma  [ lem : inflaction_of_vertices ] .",
    "we will need the following matrix identities .",
    "all matrices below are square matrices of size @xmath869 .",
    "let @xmath870 denote the the matrix whose @xmath44th entry is @xmath25 and all other entries are @xmath24 .",
    "let @xmath871 be the upper - triangular and @xmath872 be the strictly lower - triangular matrices filled with @xmath25 s in all allowed places .",
    "also let @xmath873 be the superdiagonal matrix filled with @xmath25 s , and let @xmath874 be the matrix filled with the formal variables @xmath875 .",
    "[ lem : xule ] for the @xmath876-matrices @xmath877 , @xmath878 , @xmath325 , @xmath879 as above , define the matrices @xmath880 , @xmath881 , @xmath882 , @xmath883 , @xmath884 , whose coefficients are power series in the @xmath875 .",
    "then the following identities hold    1 .",
    "2 .   @xmath886 .",
    "3 .   @xmath887 .",
    "4 .   @xmath888 .",
    "5 .   @xmath889 , for any @xmath890 $ ] .",
    "here @xmath25 denotes the identity matrix and @xmath891 is the kronecker delta .",
    "\\(1 ) we have @xmath892 , thus @xmath893 .",
    "notice that @xmath894 .",
    "thus @xmath895 .",
    "( 3 ) , ( 4 ) , ( 5 ) let us show that these follow from ( 1 ) and ( 2 ) .",
    "we have @xmath896 , which implies ( 3 ) .",
    "similarly , @xmath897 , which implies ( 4 ) . also @xmath898 .",
    "thus @xmath899 , which implies ( 5 ) .",
    "\\(2 ) the matrix @xmath223 expands as the alternating sum @xmath900 of all words @xmath31 in the alphabet @xmath901 such that @xmath31 has the form @xmath902 or @xmath903 , where the initial and/or the final letter `` @xmath877 '' can be replaced by the letter `` @xmath879 '' ; and the sign of @xmath31 is equal to @xmath904 , where @xmath905 is the total number of occurrences of letters `` @xmath877 '' and `` @xmath879 '' in @xmath31 .",
    "we need to show that the matrix @xmath223 has only one nonzero entry @xmath906 in the lower left corner .",
    "suppose that @xmath907 .",
    "let @xmath908 , where @xmath909 is the matrix given by the alternating sum of all words @xmath31 starting with `` @xmath910 '' ; and @xmath911 is given by the alternating sum of the remaining words starting with a letter `` @xmath877 '' or `` @xmath325 '' ( plus @xmath912 ) .",
    "for a fixed index @xmath913 , the contribution of a word @xmath914 to @xmath915 equals to the contribution of @xmath916 .",
    "thus the contribution of a word @xmath31 from @xmath917 equals to the sum of contributions of two words @xmath918 and @xmath919 from @xmath920 ( obtained from @xmath31 by erasing one or two initial letters ) .",
    "notice that that both words @xmath918 and @xmath919 come with signs opposite to the sign of @xmath31 . also note that any word in @xmath920 is of the form @xmath918 or @xmath919 .",
    "thus all terms from @xmath915 cancel all terms from @xmath921 , implying that @xmath922 .    in case",
    "when @xmath923 we can use the mirror image of the above argument to show that @xmath924 . in this case",
    "we need consider letters in the end of a word @xmath31 .",
    "thus @xmath924 unless @xmath925 .    in remains to prove that @xmath906 , or equivalently @xmath926 .",
    "we can express @xmath927 as the sum @xmath928 over @xmath929 $ ] such that @xmath930 .",
    "note that any word @xmath31 that starts or ends with an `` @xmath879 '' makes no contribution to @xmath931 .",
    "thus @xmath931 is given by the alternating sum @xmath932 over @xmath933 $ ] such that @xmath934 .",
    "let us use the involution principle to prove the equality @xmath935 .",
    "the product @xmath936 can be written as the sum of terms @xmath937 over pairs of sequences @xmath938 such that @xmath939 and @xmath940 .",
    "for @xmath941 , let us define the map @xmath942 from the set of such pairs of sequences to itself by @xmath943 then @xmath942 is an involution , that is @xmath944 .",
    "it preserves the monomial corresponding to @xmath945 and switches its sign .",
    "thus all terms in the product @xmath946 , except the constant term 1 , cancel each other .",
    "this implies the needed identity .",
    "[ lem : switch_a_path ] let @xmath208 be a perfect network , and let @xmath947 be a directed path in @xmath208 from the boundary vertex @xmath948 to the boundary vertex @xmath949 .",
    "let @xmath242 be the network obtained from @xmath208 by switching the directions of all edges in @xmath12 and inverting their weights .",
    "let @xmath17 and @xmath950 be the boundary measurements of the networks @xmath208 and @xmath242 , respectively .",
    "then @xmath951 , and the boundary measurements @xmath950 can be expressed through the boundary measurements @xmath17 , as follows :    1 .   if @xmath952 , then @xmath953 .",
    "2 .   if @xmath954 and @xmath955 , then @xmath956 .",
    "3 .   if @xmath957 and @xmath958 , then @xmath959 .",
    "4 .   if @xmath957 and @xmath955 , then @xmath960 , where @xmath74 is the source set of the network @xmath208 .",
    "this implies that the boundary measurement map @xmath21 maps the networks @xmath208 and @xmath242 to the same point @xmath961 in the grassmannian .",
    "the measurement @xmath962 is nonzero because there is at least one path from @xmath948 to @xmath949 in the network @xmath208 , e.g. , the path @xmath947 .",
    "let @xmath963 .",
    "we may assume that the path @xmath947 has no self - intersections , because we can get rid of all self - intersections using lemma  [ lem : switch_a_cycle ] .",
    "we may also assume that the weights of all edges in @xmath947 are @xmath25 .",
    "indeed , we can apply the same gauge transformation to the networks @xmath208 and @xmath242 that transforms the weights of all edges of @xmath947 , expect a single edge @xmath964 , into @xmath25 s .",
    "since the weight of @xmath965 produces same factors in both sides of all identities ( 1)(4 ) , we may assume that this weight in also @xmath25 .",
    "let us use the notation @xmath966 for the vertices @xmath967 of the path @xmath947 . for @xmath968\\cup\\{\\overline{1},\\dots,\\overline{m}\\}$",
    "] , let @xmath969 be the generating function for all directed paths in @xmath208 from @xmath8 to @xmath10 that have no common points with the path @xmath947 ( expect the first and the last point in @xmath12 ) .",
    "note that all paths @xmath12 should lie in one of the two networks on which the path @xmath947 subdivides the network @xmath208 .",
    "thus @xmath970 are the boundary measurements for these smaller networks .",
    "we have @xmath971 , because the network is perfect .",
    "let us also define the @xmath876-matrix @xmath972 such that @xmath973 if @xmath974 , @xmath975 if @xmath976 , and @xmath977 if @xmath978 .",
    "any path @xmath375 in @xmath208 from @xmath948 to @xmath949 first goes along the path @xmath947 ; then @xmath375 may depart from @xmath947 at some vertex @xmath979 and then arrive to @xmath947 at @xmath980 ; then @xmath375 may depart from @xmath947 again at @xmath981 and arrive at @xmath982 ; etc . let @xmath983 be the indices of these departure and arrival points .",
    "then we have @xmath984 , because @xmath375 coincides with @xmath947 on the segments from @xmath985 to @xmath986 . the total contribution to @xmath962 of all paths",
    "@xmath375 with given departure and arrival points is @xmath987 .",
    "indeed , each path @xmath375 breaks into segments between the departure and arrival points , which give the factors @xmath988 .",
    "the extra factor @xmath838 in the case when @xmath989 accounts for an extra cycle in @xmath375 that we get in this case because the path @xmath375 bumps into itself at the arrival point @xmath985 .",
    "this shows that @xmath990 where the sum is over departure - arrival sequences @xmath991 $ ] such that @xmath992 , for @xmath993 $ ] .",
    "the boundary measurement @xmath994 in the network @xmath242 is given by a similar expression where we need to sum over departure - arrival sequences such that @xmath995 for @xmath996 $ ] and we need to switch the signs of all @xmath997 .",
    "let @xmath3 , @xmath188 , @xmath223 , @xmath12 , @xmath998 be the matrices as in lemma  [ lem : xule ]",
    ". then @xmath999 and @xmath1000 .",
    "according to lemma  [ lem : xule](2 ) , we have @xmath906 . thus @xmath1001",
    ".    similarly , we can express other boundary measurements of the networks @xmath208 and @xmath242 in terms of these matrices .",
    "for @xmath1002 and @xmath1003 , we have @xmath1004 \\displaystyle m_{j_0,j } ' = \\sum_{c=1}^m p_{mc}\\ , \\hat m_{\\overline{c},j } , \\qquad   m_{i , i_0 } ' = \\sum_{c=1}^m \\hat m_{i,\\overline{c}}\\,q_{c1}. \\end{array}\\ ] ] according to parts ( 3 ) and ( 4 ) of lemma  [ lem : xule ] , we have @xmath1005 and @xmath1006 . thus @xmath956 and @xmath959 .",
    "we also have @xmath1007 } \\hat m_{i,\\overline{c}}\\,a_{cd } \\ ,",
    "\\hat m_{\\overline{d},j } , \\quad m_{i , j } ' = \\epsilon'\\cdot \\hat m_{i , j } + \\delta'\\cdot \\sum_{c , d\\in[m ] }   \\hat m_{i,\\overline{c}}\\,b_{cd}\\ , \\hat m_{\\overline{d},j},\\ ] ] where @xmath1008 if the cords @xmath1009 $ ] , @xmath1010 $ ] form a crossing ( see figure  [ fig : crossing_alignment_misalignment ] ) , @xmath1011 if the cords form an alignment , and @xmath1012 if the cords form a misalignment . by lemma  [ lem : xule](5 ) ,",
    "@xmath1013 . according to proposition  [",
    "prop : delta_pi_cn ] , the minor @xmath1014 is equal to @xmath1015 the above cords form an crossing , to @xmath1016 if the cords form an alignment , or to @xmath1017 if the cords form a misalignment . in all three cases ,",
    "we get @xmath1018 , as needed , which proves ( 4 ) .",
    "finally , note that the proved relations ( 1)(4 ) mean that @xmath1019 for all @xmath7-subsets @xmath859 $ ] such that @xmath1020 , where @xmath1021 is the source set of the network @xmath242 .",
    "since the @xmath247 quotients of the plcker coordinates @xmath1022 , for all such @xmath189 s , form a coordinate system on @xmath1023 , we deduce that the matrices @xmath262 and @xmath1024 represent the same point in the grassmannian @xmath19 , as needed .",
    "let @xmath1025 be the subset of edges of @xmath18 whose orientations are switched . for any internal vertex @xmath240 , the fact that the color @xmath834 is preserved implies that @xmath1025 contains zero or exactly two edges adjacent to @xmath240 .",
    "thus @xmath1025 is the disjoint union of several cycles and/or paths connecting pairs of boundary vertices .",
    "according to lemmas  [ lem : switch_a_cycle ] and  [ lem : switch_a_path ] we can switch the orientations of edges in these cycles and paths one by one without changing the boundary measurements .",
    "in this section we will define new weights @xmath1026 assigned to faces @xmath1027 of a network , which are obtained from the edge weights @xmath6 by a simple transformation .",
    "then we define plabic graphs and networks which are no longer directed .    for a planar graph @xmath18 (",
    "directed or undirected ) drawn inside a disk , let @xmath1028 be the set of its internal vertices , @xmath1029 be the set of its edges , and @xmath1030 be the set of its _ faces , _ that is the regions on which the edges subdivide the disk .",
    "let us say that a connected component of @xmath18 is _ isolated _ if it does not contain a boundary vertex ; let @xmath411 be the number of such isolated components .",
    "the euler formula says that @xmath1031 .",
    "if @xmath1032 , then all faces are simply connected .",
    "if @xmath1033 , then there are some faces which are not simply connected , because they contain isolated components inside of them . clearly , if we can always remove isolated components from a directed network without affecting the boundary measurements .",
    "[ lem : gauge_is_nontrivial ] suppose that @xmath18 is a planar directed graph without isolated components .",
    "then the space of directed networks with given graph @xmath18 , modulo the gauge transformations , is isomorphic to @xmath1034    in this case all gauge transformations are nontrivial . indeed ,",
    "if we have a gauge transformation @xmath1035 such that @xmath1036 for all edges @xmath13 , then we should have @xmath1037 for all vertices @xmath604 adjacent to the boundary vertices @xmath8 , then we should have @xmath1038 for all vertices @xmath240 adjacent to the vertices @xmath604 , etc .",
    "thus @xmath1039 for all internal vertices @xmath240 .",
    "this implies the first isomorphism .",
    "the euler formula @xmath1040 implies the second equality .",
    "let @xmath1041 be a face in a planar directed network @xmath206 .",
    "the exterior boundary of @xmath1027 consists of some edges @xmath1042 .",
    "if @xmath1027 is not simply connected then it has one or several holes corresponding to isolated components inside @xmath1027 .",
    "let @xmath1043 be the edges in these holes .",
    "( note that the same edge might occur twice in this sequence . )",
    "let us assume that the exterior boundary of @xmath1027 is oriented clockwise and the boundaries of all holes are counterclockwise .",
    "let @xmath1044 $ ] be the index set of edges @xmath818 whose orientations in the graph @xmath18 agree with the orientation of the boundary of @xmath1027 , and let @xmath1045\\setminus i^{+}$ ] be the index set of edges whose orientations disagree .",
    "then we define the _ face weight _ @xmath1026 of the face @xmath1027 in @xmath208 as @xmath1046 see figure  [ fig : face_weight ] .",
    "note that , if we switch directions of some edges inverting their weights ( as shown on figure  [ fig : edge_switch ] ) , then the face weights @xmath1026 will not change .",
    "there is one relation for the faces weights , namely , @xmath1047 .",
    "indeed , this product includes exactly one @xmath6 and exactly one @xmath1048 for each edge @xmath1049 .",
    "let @xmath1050 be the set of @xmath1051 such that @xmath1052 .",
    "[ lem : e / g = f ] for a planar directed graph @xmath18 , the map @xmath1053 defined as above gives the isomorphism @xmath1054    let us first assume that @xmath18 has no isolated components .",
    "we prove the claim by induction on @xmath1055 . by lemma  [ lem : gauge_is_nontrivial ] we already know that both sides have the same dimension .",
    "thus it is enough to show that the kernel of the map consists of a single point .",
    "let @xmath1056 be a point that maps to @xmath1057 with all @xmath1058 .",
    "we need to show that one can transform all edge weights @xmath6 into @xmath25 s by the gauge transformations .",
    "let us pick a face @xmath1059 adjacent to the boundary of the disk .",
    "the boundary of @xmath1060 contains a segment @xmath1061 of the boundary of the disk , and a path @xmath1062 $ ] . applying the gauge transformations at the vertices @xmath1063",
    ", we can transform all weights of the @xmath1064 edges in the path @xmath12 , except a single edge , into @xmath25 s .",
    "but , since we have @xmath1065 and @xmath1066 is the product of weights of edges in @xmath12 ( some of them might be inverted ) , we deduce that the weight of the last edge in @xmath12 should also be @xmath25 .",
    "we can now apply the induction hypothesis to the smaller graph @xmath842 , which is obtained from @xmath18 by removing the face @xmath1060 and replacing the segment @xmath1067 of the boundary of the disk with the path @xmath12 . by induction",
    ", all weights of edges in @xmath842 can be transformed into @xmath25 s by the gauge transformations at the internal vertices of the graph @xmath842 , that is the vertices in @xmath1068 .",
    "thus all weights @xmath6 of edges in @xmath18 are now transformed into @xmath25 s , as needed .    in the general case",
    ", we prove the claim by induction on the number @xmath411 of isolated components .",
    "we have already established the base case @xmath1032 .",
    "suppose that @xmath1033 .",
    "let @xmath842 be the graph obtained from @xmath18 by removing an isolated component @xmath1069 located in some face @xmath1027 of @xmath18 .",
    "let @xmath1070 be the face and edge sets of these two graphs , and also let @xmath1071 be the set of internal edges of @xmath1069 .",
    "the face weights for @xmath842 and @xmath1069 are the same as for the graph @xmath18 with a single exception : the face weight @xmath1026 for @xmath18 is obtained by multiplying the corresponding weight for @xmath842 by the product of all face weights for @xmath1069 . by induction",
    ", we have @xmath1072 .",
    "if @xmath1069 has no faces , i.e. , it is a tree , then @xmath1073 .",
    "otherwise , @xmath1069 breaks into several disjoint subgraphs @xmath1074 ( connected by paths ) , each of which is formed by a cycle with a small graph inside , so that each face of @xmath1069 belong to one of these graphs @xmath1075 . applying the induction hypothesis to each graph @xmath1075",
    ", we deduce that @xmath1076 .",
    "since the weights of the boundary edges in @xmath1069 can be arbitrary , we get @xmath1077",
    ". thus @xmath1078 , as needed .",
    "as we have already mentioned , isolated components do not affect the boundary measurements .",
    "the reason that we are considering graphs that might have isolated components will be clear below , when we define certain transformations of graphs . even if an original graph does not have isolated components , after performing several moves we might create such components .",
    "the boundary measurement map @xmath1079 , , now transforms into the map @xmath1080 . below we will use the face weights @xmath1026 instead of the edge weights @xmath6 . with these weights we no longer need to care about gauge transformations , and we no longer need to invert the weights when we switch edge directions ; see figure  [ fig : edge_switch ] .",
    "we can define the boundary measurements of a directed network @xmath208 purely in terms of the face weights @xmath1026 without using the edge weights @xmath6 . a directed path @xmath12 without self - intersections that connects two boundary vertices @xmath8 and @xmath10 subdivides the disk into two parts : the part that is on the right side of @xmath12 and the part on left of @xmath12 ( as we go from @xmath8 to @xmath10 ) .",
    "we define @xmath1081 as the product of the weights @xmath1026 for the faces in the right part of @xmath12 . also , for a clockwise ( resp .",
    ", counterclockwise ) closed cycle @xmath223 , define @xmath1082 as the product of the @xmath1026 for the faces @xmath1027 inside ( resp . , outside ) of @xmath223 .",
    "now , for an arbitrary path @xmath12 from @xmath8 to @xmath10 , we can remove cycles @xmath1083 and reduce it to a path @xmath227 without self - intersections . in this case , define @xmath1084 .",
    "for any directed path @xmath12 , we have @xmath1085 .",
    "it is enough to prove this equality of a path @xmath12 without self - intersections and also prove that @xmath1086 for a closed cycle @xmath223 . in all cases , the product of the @xmath1026 for all faces @xmath1027 in the right side of @xmath12 ( resp .",
    ", inside / outside of @xmath223 ) includes exactly one weight @xmath6 and exactly one weight @xmath1087 for all edges @xmath13 in the corresponding areas expect for the edges @xmath13 that belong to @xmath12 ( resp .",
    ", to @xmath223 ) .",
    "the remaining terms give the needed product of edge weights .",
    "thus the ( formal ) boundary measurements of a network can be defined as @xmath1088 cf . , .",
    "a _ planar bicolored graph , _ or simply a _ plabic graph _ is a planar ( undirected ) graph @xmath18 , defined as in definition  [ def : planar_networks ] but without orientations of edges , such that each boundary vertex @xmath8 is incident to a single edge , together with a function @xmath1089 on the set @xmath42 of internal vertices .",
    "as before , we will display vertices with @xmath832 in black color , and vertices with @xmath833 in white .    a _ plabic network _",
    "@xmath1090 is plabic graph @xmath18 together with positive real weights @xmath1091 assigned to faces @xmath1027 of @xmath18 such that @xmath1052 .",
    "a _ perfect orientation _ of a plabic graph or network is a choice of orientation of its edges such that each internal vertex @xmath240 with @xmath832 is incident to exactly one edge directed away from @xmath240 ; and each @xmath240 with @xmath833 is incident to exactly one edge directed towards @xmath240 . a plabic graph or network is called _ perfectly orientable _ if it has a perfect orientation .",
    "let us say that a plabic graph or network has _",
    "if its has @xmath27 boundary vertices and @xmath1093 .    one can think about plabic graphs as some kind of `` feynman diagrams , '' where the black and white vertices represent certain `` elementary particles '' of two types and edges represent `` interactions '' between these particles .",
    "according to lemma  [ lem : e / g = f ] , plabic networks with a choice of a perfect orientation correspond to perfect networks modulo gauge transformation .",
    "theorem  [ th : switch_of_orientation ] says that two perfect networks @xmath208 and @xmath242 that correspond to two orientations of the same plabic network should map into the same point @xmath1094 .",
    "lemma  [ lem : knn ] says a perfect orientation of a plabic graph of type @xmath1092 should have @xmath7 sources and @xmath63 sinks .",
    "thus the boundary measurement map @xmath21 gives a well defined map @xmath1095 for a perfectly orientable plabic graph @xmath18 , we have the induced map on the set @xmath1096 of plabic networks with the given graph @xmath18 : @xmath1097    note that not any plabic network is perfectly orientable .",
    "for example , a plabic network that contains an isolated component with a single vertex is not perfectly orientable .    for a plabic graph @xmath18 of type @xmath1092 and a perfect orientation @xmath1098 of @xmath18 , let @xmath1099 $ ]",
    "be the @xmath7-element source set of this orientation .",
    "define the _ matroid _ of @xmath18 as the set of the @xmath7-subsets @xmath1100 for all perfect orientations : @xmath1101    [ prop : plabic_matroid ] for any perfectly orientable plabic graph @xmath18 , the collection @xmath1102 is a totally nonnegative matroid .",
    "the boundary measurement map @xmath1103 sends plabic networks with the graph @xmath18 into the totally nonnegative grassmann cell @xmath1104 associated with this matroid : @xmath1105    in section  [ sec : matroids_perms ] we will prove that this inclusion is actually the equality ; see corollary  [ cor : im = cell ] .",
    "this proposition gives way to combinatorially determine the totally nonnegative grassmann cell corresponding to a planar network without any calculations of the boundary measurements .",
    "indeed , first transform a network into a perfect network ( see section  [ sec : perfection ] ) , then transform it into a plabic network ( forget orientations of edges but remember colors of vertices ) , and calculate the matroid @xmath1106 .",
    "figure  [ fig : perfect_orientations ] shows five perfect orientations of a plabic graph @xmath18 .",
    "recording their source sets , we obtain the following matroid with five bases @xmath1107 .",
    "let us give two additional combinatorial descriptions of the matroid @xmath1106 in terms of paths and in terms of matchings .",
    "let us fix a perfect orientation @xmath1098 of @xmath18 and let @xmath1108 .",
    "define the _ path matroid _ @xmath1109 as the set of @xmath7-element subsets @xmath250 $ ] such that the boundary vertices @xmath1110 can be connected with the boundary vertices @xmath1111 by a family of pairwise noncrossing directed paths in the graph @xmath18 with edge orientation @xmath1098 .",
    "let us say that a plabic graph @xmath18 is _ bipartite _ if any edge in @xmath18 joins two vertices of different colors ( assuming that the colors of all boundary vertices are white ) .",
    "note that we can easily make any plabic graph bipartite by inserting vertices of different color in the middle of unicolored edges . a _ partial matching _ in such graph",
    "@xmath18 is a subset @xmath1112 of edges such that each internal vertex is incident to exactly one edge in @xmath1112 .",
    "( but the boundary vertices can be incident to one or zero edges . )",
    "let @xmath1113 $ ] be the set of indices @xmath357 such that @xmath8 belongs an edge from @xmath1112 .",
    "define the _ matching matroid _",
    "[ lem : path_matchings ] for any plabic graph @xmath18 , we have @xmath1115 . also , if @xmath18 is a bipartite plabic graph , then @xmath1116 .    any perfect orientation @xmath1117 is obtained from the fixed perfect orientation @xmath1098 by switching edge directions in a family of noncrossing directed paths between boundary vertices or closed cycles .",
    "this implies that @xmath1118 . for a perfect orientation @xmath1098 in bipartite plabic graph , let @xmath1112 be the set of edges in @xmath18 directed from a black vertex to a white vertex .",
    "the map @xmath1119 is a bijection between perfect orientations and partial matchings , which implies that @xmath1120 .",
    "in this section we define several local transformation of plabic networks . in all transformations below , we change a small fragment in a network and sometimes change weights of adjacent faces .",
    "the weights of remaining faces are not changed .",
    "we will call the first three transformations ( m1)(m3 ) the _ moves , _ and the next three transformations ( r1)(r3 ) the _ reductions .",
    "_ we think of the moves as invertible transformations of networks , which we can perform in both directions . on the other hand",
    ", we will perform reductions only in one direction in order to simplify the structure of a network . essentially , the only nontrivial transformation of networks is the _ square move ; _ all other moves and reductions play an auxiliary role .",
    "( m1 ) square move .",
    "if a network has a square formed by four trivalent vertices whose colors alternate as we go around the square , then we can switch colors of these four vertices and transform the weights of adjacent faces as shown on figure  [ fig : square_move ] . in other words ,",
    "if @xmath1121 is the weight of the face inside the square and @xmath1122 are weights of the four adjacent faces , then we transform these weights as follows @xmath1123 in the case when some of the four areas marked by @xmath1122 in figure  [ fig : square_move ] belong to the same face ( connected outside of the shown fragment of the network ) , say , if @xmath1124 are in the same face , then its weight changes to @xmath1125 .",
    "( m2 ) unicolored edge contraction / uncontraction .",
    "if a network contains an edge with two vertices of the same color , then we can contract this edge into a single vertex with the same color ; see figure  [ fig : edge_contraction ] .",
    "the face weights @xmath1026 are not changed . on the other hand",
    ", we can also uncontract a vertex into an edge with vertices of the same color .",
    "( m3 ) middle vertex insertion / removal .",
    "if a network contains a vertex of degree @xmath166 , then we can remove this vertex and glue the incident edges together ; see figure  [ fig : vertex_removal ] .",
    "the face weights @xmath1026 are not changed . on the other hand",
    ", we can always insert a vertex ( of any color ) in the middle of any edge .",
    "( r1 ) parallel edge reduction .",
    "if a network contains two trivalent vertices of different colors connected by a pair of parallel edges , then we can remove these vertices and edges , glue the remaining pair of edges together , and transform the face weights as shown on figure  [ fig : edge_reduction ] .",
    "if @xmath1126 correspond to the same face , then we change its weight to @xmath1127 .",
    "( r2 ) leaf reduction .",
    "if a network contains a vertex ( leaf ) @xmath604 incident to a single edge @xmath1128 which in turn is incident to edges @xmath1042 , @xmath1129 , such that @xmath1130 , then we can remove the vertex @xmath604 together with the edge @xmath13 , disconnect the edges @xmath1042 , and assign the color equal to @xmath1131 to all newly created vertices of the edges @xmath1042 ; see figure  [ fig : leaf_reduction ] .",
    "if this operation joins several faces @xmath1132 into a single face @xmath1027 , then its weight @xmath1026 should be the product of weights of @xmath1132 .",
    "( note that is it possible all faces were already connected outside the shown fragment so that this transformation does not reduce the number of faces . in this case",
    "it creates new isolated components . )",
    "( r3 ) dipole reduction .",
    "if a network contains an isolated component @xmath223 that consists of a pair of vertices of different colors connected by an edge , then we can remove @xmath223 from the network ; see figure  [ fig : dipole_reduction ] .",
    "the edge weights are not changed .",
    "if forget about face weights in the above moves and reductions we obtain corresponding transformations of plabic graphs .",
    "let us say that two plabic networks ( or graphs ) are _ move - equivalent _ if they can be obtained from each other by moves ( m1)(m3 ) .",
    "similarly , two plabic networks ( graphs ) are _ move - reduction - equivalent _ if they can be transformed into the same network ( graph ) by moves ( m1)(m3 ) and reductions ( r1)(r3 ) .",
    "[ th : moves = boundary ] let @xmath208 and @xmath242 be two perfectly orientable plabic networks of the same type @xmath1092 .",
    "then the boundary measurement map @xmath1133 maps them into the same point @xmath1134 in the grassmannian @xmath19 if and only if the networks @xmath208 and @xmath242 are move - reduction - equivalent .",
    "we will prove this theorem in section  [ sec : matroids_perms ] . in one direction",
    "this claim can be verified by direct calculation .",
    "suppose that a plabic network @xmath242 is obtained from @xmath208 by performing a move ( m1)(m3 ) or a reduction ( r1)(r3 ) .",
    "then @xmath242 is perfectly orientable if and only if @xmath208 is perfectly orientable",
    ". if this is the case , then @xmath1134 .",
    "it is quite easy to check in all six cases that a perfect orientation of @xmath208 gives a perfect orientation of @xmath242 , and vise versa .",
    "the only nontrivial transformation of networks is the square move ( m1 ) .",
    "let us check that the boundary measurement map is invariant under this transformation .",
    "let us pick two perfect orientations of the networks @xmath208 and @xmath242 , say , the orientations whose parts in the transformed fragment are shown on figure  [ fig : square_move_arrow ] and which are are identical everywhere else .",
    "the transformation of face weights in the square move corresponds to the following transformations of weights of the four edges that form the square : @xmath1135 where we assume that the remaining edge weights are not changed .",
    "then for the both oriented network fragments shown on figure  [ fig : square_move_arrow ] , sums over paths from @xmath634 to @xmath635 in @xmath208 and @xmath242 are the same : @xmath1136 , @xmath1137 , @xmath1138 , @xmath1139 .",
    "thus all boundary measurements in the both networks should be the same , implying @xmath1134 .",
    "similarly , for the the parallel edge reduction ( r1 ) , let us pick a perfect orientation of edges as in figure  [ fig : edge_reduction_arrow ] .",
    "the transformation of face weights in this move correspond to the transformation of edge weights given by @xmath1140 . clearly , this transformation does not change the boundary measurements .",
    "for the remaining moves and reductions is it clear that @xmath1134 .",
    "figure  [ fig : square_move_arrow ] shows just one of several possible square moves in _ directed _ networks . if we pick another perfect orientation of the edges ( inverting the edge weights @xmath285 and @xmath1141 whenever we switch orientations )",
    ", then we get another legitimate square move .",
    "there are several special kinds of networks to which we can easily transform any plabic network using moves ( m2)(m3 ) and reductions ( r1)(r3 ) .    _",
    "loop removal : _ we can remove all loops ( i.e. , edges whose both ends are the same vertices ) from a network . by uncontracting some edges we can make all loops attached to trivalent vertices .",
    "then we apply the loop reduction shown on figure  [ fig : loop_reduction ] .",
    "this reduction follows from parallel edge reduction ( r1 ) .",
    "indeed , insert an additional vertex of different color to the loop using ( m3 ) , then uncontract this vertex into an edge using ( m2 ) , and apply parallel edge reduction ( r1 ) .",
    "let us call a network without loops _ loopless .",
    "_    _ leaf removal : _ we can also easily get rid of all leaves in a plabic network , except the leaves connected to boundary vertices .",
    "( let us call these special unremovable leaves the _ boundary leaves .",
    "_ ) indeed , if a leaf @xmath604 is attached to a vertex @xmath240 of the same color then we can just contract the edge @xmath1142 using move ( m2 ) .",
    "if colors of @xmath604 and @xmath240 are different , then we can remove the edge @xmath1142 using leaf reduction ( r3 ) if @xmath1143 .",
    "( if @xmath1144 then we can remove @xmath240 using ( r2 ) and if @xmath1145 then we can remove it by dipole reduction ( r3 ) . ) then similarly treat all newly formed leaves , etc .",
    "let us call a network _ leafless _ if it has no leaves , except the boundary leaves .",
    "_ contraction : _ any plabic network can be transformed into a network that has no unicolored edges , no non - boundary leaves , and no vertices of degree @xmath166 . indeed , first remove all non - boundary leaves , then contract all unicolored edges , then remove all new vertices of degree @xmath166 , then contract all new unicolored edges , etc .",
    "let us call such networks _",
    "contracted_.    _",
    "making the graph trivalent : _ on the other hand , we can first get rid of non - boundary leaves and vertices of degree @xmath166 , and then uncontract all vertices of degree @xmath819 by replacing them with trivalent trees .",
    "we obtain a network with all trivalent internal vertices ( expect boundary leaves ) .",
    "let us call such plabic networks _ trivalent .",
    "_    any plabic network can be transformed ( without changing the boundary measurements ) into a loopless contracted network . on the other hand",
    ", it can also be transformed into a loopless trivalent network .",
    "[ def : reduced_plabic ] let us say that a plabic network ( or graph ) is _ reduced _ if it has no isolated connected components and there is no network / graph in its move - equivalence class to which we can apply a reduction ( r1 ) or ( r2 ) .",
    "a _ leafless _",
    "reduced network / graph is a reduced network / graph without non - boundary leaves .",
    "we will see that reduced networks are exactly the networks without isolated component with the minimal possible value of @xmath1146 in its move - reduction - equivalence class , where @xmath1147 as in section  [ sec : plabic ] .",
    "note that if a network has no isolated components then all its move - equivalent networks have no isolated components , so there is no chance to apply dipole reduction ( r3 ) .",
    "in many cases it will be more convenient to use leafless reduced networks , to which we can easily transform any reduced network by the leaf removal procedure as described above .",
    "an arbitrary reduced network can obtained from a leafless one by uncontracting vertices into trees of the same color , then maybe inserting vertices of different color in the middle of new edges , then maybe uncontracting some of them into trees , etc . so that we can grow a bicolored tree of special kind at each vertex .    since we can never perform a leaf reduction ( r2 ) in a leafless graph , we obtain the following claim .    [",
    "lem : leafless_reduced ] a leafless plabic graph without isolated components is reduced if and only if it is impossible to transform it by the moves ( m1)(m3 ) into a graph where we can perform parallel edge reduction ( r1 ) .",
    "the next claim is the main result on reduced plabic graphs .",
    "[ th : reduced_plabic_parametrization ] let @xmath18 be a reduced plabic graph .",
    "then @xmath18 is perfectly orientable and the map @xmath1148 gives a subtraction - free rational parametrization of the corresponding totally nonnegative grassmann cell @xmath2 . in particular",
    ", the dimension of @xmath2 equals @xmath1149 .",
    "for any cell @xmath2 there is a reduced plabic graph @xmath18 such that @xmath1103 is a parametrization of @xmath2 .",
    "any two different parametrizations @xmath1103 and @xmath1150 of the same cell @xmath2 can be obtained from each other by the moves ( m1)(m3 ) .",
    "we will prove this theorem in section  [ sec : matroids_perms ] .",
    "[ rem : non - reduced ] for a non - reduced plabic graph @xmath18 without isolated components , the map @xmath1103 is either undefined ( when @xmath18 is not perfectly orientable ) or this map is not injective . indeed ,",
    "if we can do a reduction ( possibly after performing some moves ) , then we can decrease the number of needed parameters .",
    "in this section we give a criterion when a plabic graph is reduced and describe move - equivalence classes of reduced graphs .",
    "the results of this section can be related to thurston s work  @xcite on triple diagrams ( see remark  [ rem : thurston_moves ] ) .",
    "for an ( undirected ) plabic graph @xmath18 , a _",
    "trip _ is a directed path @xmath33 in @xmath18 such that    1 .",
    "@xmath33 either joins two boundary vertices ( _ one - way trip _ ) or it is a closed cycle that contains none of the boundary vertices ( _ round - trip _ ) .",
    "2 .   if @xmath33 arrives to an internal vertex @xmath240 with incident edges @xmath817 ( in the clockwise order ) though the edge @xmath818 , then it should leave @xmath240 through the edge @xmath1151 .",
    "( here indices @xmath357 in @xmath818 are taken modulo @xmath424 . ) in other words , @xmath33 obeys the following `` rules of the road '' : turn right at a black vertex , and turn left at a white vertex ; see figure  [ fig : trip_rules ] .",
    "( 0,-40)(170,36 )    ( 0,0)v1 ( 0,-30)0b1 ( -25.98,15)0b2 ( 25.98,15)0b3 ( 5,-30)(5,-2.89)(28.48,10.67 ) ( 23.48,19.33)(0,5.77)(-23.48,19.33 ) ( -5,-30)(-5,-2.89)(-28.48,10.67 )    ( 170,0)v1 ( 170,-30)0b1 ( 144.02,15)0b2 ( 195.98,15)0b3 ( 175,-30)(175,-2.89)(198.48,10.67 ) ( 193.48,19.33)(170,5.77)(146.52,19.33 ) ( 165,-30)(165,-2.89)(141.52,10.67 )    note that these trips in _",
    "undirected _ plabic graphs have nothing to do with paths in directed networks that we used in the definition of the boundary measurements .",
    "if two trips pass along the same edge in the same directions then they should be identical .",
    "if a trip passes along the same edge twice in the same direction then it is a round - trip .",
    "thus each edge of @xmath18 belongs to exactly two trips or to one trip with a self - intersection at this edge .",
    "each plabic graph @xmath18 with @xmath27 boundary vertices defines the _ trip permutation _",
    "@xmath1152 such that @xmath1153 whenever the trip that starts at the boundary vertex @xmath8 ends at the boundary vertex @xmath10 .    the following claim is established by direct examination .",
    "let a plabic graph @xmath842 is obtained from @xmath18 by one of the moves ( m1)(m3 )",
    ". then @xmath1154 .",
    "in other words , each one - way trip in @xmath18 is transformed into a one - way trip in @xmath842 with the same end points .",
    "also each closed trip in @xmath18 is transformed into a closed trip in @xmath842 .",
    "note that reductions ( r1)(r2 ) ( unlike the moves ) change the trip permutation .    for an edge @xmath13 with vertices of different colors",
    ", we say that two trips ( resp .",
    ", one trip ) that pass(es ) through the edge @xmath13 in two different directions have / has an _ essential intersection _ ( resp . ,",
    "_ essential self - intersection _ ) at this edge @xmath13 . all other ( self)-intersections are called _ inessential . _ note that in an inessential ( self)-intersection the trips do not cross but rather touch each other",
    "we can can always remove an inessential ( self)-intersection by performing edge contraction / uncontraction moves ( m2 ) .",
    "let us say that two trips @xmath1155 in @xmath18 have a _ bad double crossing _ if they have two essential intersections at edges @xmath813 and @xmath814 such that both trips @xmath1156 and @xmath1157 are directed from @xmath813 to @xmath814 .",
    "the following theorem gives a criterion when a plabic graph is reduced .",
    "[ th : reduced_criterion ] let @xmath18 be a leafless plabic graph without isolated connected components . then @xmath18 is reduced if and only if the following conditions hold    1 .   @xmath18 has no round - trips",
    "@xmath18 has no trips with essential self - intersections .",
    "@xmath18 has no pair of trips with a bad double crossing .",
    "if @xmath1158 then @xmath18 has a boundary leaf attached to the boundary vertex  @xmath8 .    note that condition ( 1 ) implies that @xmath18 contains no isolated connected components .",
    "a _ decorated permutation _",
    "@xmath1159 is a permutation @xmath1160 together with a coloring function @xmath1161 from the set of fixed points @xmath1162 to @xmath1163 .",
    "that is a decorated permutation is a permutation with fixed points colored in two colors .",
    "suppose for a moment that we have already established theorem  [ th : reduced_criterion ] .",
    "then we can decorate the trip permutation @xmath1164 of a _ reduced _ plabic graph @xmath18 by coloring each fixed point @xmath1165 to the color @xmath1166 , where is @xmath240 is the boundary leaf attached to the boundary vertex @xmath8 .",
    "this gives the _ decorated trip permutation _",
    "@xmath1167 of @xmath18 .",
    "[ th : moves = permutations ] let @xmath18 and @xmath842 be two reduced plabic graphs with the same number of boundary vertices .",
    "then the following claims are equivalent :    1 .",
    "@xmath18 can be obtained from @xmath842 by moves ( m1)(m3 ) .",
    "these two graphs have the same decorated trip permutation @xmath1168 .    since any reduced plabic graph can be transformed into a leafless graph by moves ( m2 ) and ( m3 ) , it is enough to prove theorem  [ th : moves = permutations ] for",
    "leafless reduced graphs .",
    "we will also need the following auxiliary claim .",
    "[ lem : square_face ] let @xmath18 be a reduced plabic graph such that @xmath1164 has no fixed points .",
    "let @xmath304 be two indices such that @xmath1169 or @xmath1170 and there is no pair @xmath1171 $ ] such that @xmath1172",
    ". then one can transform @xmath18 by moves ( m1)(m3 ) into a graph with a square face that is attached to the boundary interval @xmath1173 $ ] and has two other internal vertices @xmath604 and @xmath240 ; see figure  [ fig : square_boundary_face ] .    moreover , if @xmath1174 and @xmath1175 , and if @xmath18 is leafless and has no vertices of degree @xmath166 , then the boundary vertices @xmath8 and @xmath1176 are connected in @xmath18 by an edge .",
    "note that , for any pair @xmath304 such that @xmath1177 or @xmath1178 , either this pair itself satisfies the condition of lemma  [ lem : square_face ] or there is another pair inside the interval @xmath1179 $ ] that satisfies the condition of this lemma .    we will prove theorem  [ th : reduced_criterion ] , theorem  [ th : moves = permutations ] , and lemma  [ lem : square_face ] all together by induction on the number faces in @xmath18 .",
    "let us assume that @xmath18 is a leafless plabic graph with @xmath25 face and without isolated connected components .",
    "then @xmath18 consists of trees attached to the boundary vertices .",
    "since @xmath18 can not have non - boundary leaves , that means the @xmath18 contains only of boundary leaves attached to all boundary vertices .",
    "all such graphs are reduced because it is impossible to further reduce them and clearly they satisfy conditions in theorem  [ th : reduced_criterion ] .",
    "theorem  [ th : moves = permutations ] and lemma  [ lem : square_face ] are also trivial in this case .",
    "this gives the base of induction .",
    "let us now assume that @xmath18 is a leafless plabic graph with @xmath1180 faces and without isolated components . by the induction hypothesis",
    "we have already established theorems  [ th : reduced_criterion ] , and  [ th : moves = permutations ] , and lemma  [ lem : square_face ] for all graphs with fewer number of faces than in @xmath18 .    if a graph @xmath18 is not reduced then after performing some moves ( m1)(m3 ) we should be able to reform a parallel edge reduction ( r1 ) ; see lemma  [ lem : leafless_reduced ] .",
    "it is easy to see that right before the reduction one of the conditions ( 1)(4 ) in theorem  [ th : reduced_criterion ] fails . indeed",
    ", suppose that we get a pair of parallel edges between two vertices @xmath604 and @xmath240 of different color .",
    "then contract all unicolored edges and consider several cases : if @xmath1181 or @xmath1182 then ( 1 ) fails ; if @xmath1183 or @xmath1184 then ( 2 ) or ( 4 ) fails ; if @xmath1185 then ( 3 ) fails .",
    "note that moves ( m1)(m3 ) can never remove a failed condition ( 1)(4 ) .",
    "since moves ( m1)(m3 ) are invertible , that means that in the original graph @xmath18 we also get a failed condition ( 1)(4 ) .",
    "this proves theorem  [ th : reduced_criterion ] in one direction .",
    "let us prove theorem  [ th : reduced_criterion ] in the other direction .",
    "suppose that one the conditions ( 1)(4 ) in theorem  [ th : reduced_criterion ] fails .",
    "let us show that it is possible transform the graph @xmath18 by the moves ( m1)(m3 ) to a graph where we can perform reduction ( r1 ) .",
    "in all cases a segment of a problematic trip @xmath1156 ( or a pair segments in a pair of trips @xmath1156 and @xmath1157 ) surrounds an area @xmath3 that consists of some faces in @xmath18 .",
    "let us assume that @xmath3 is the area between closest essential ( self)-intersections so that there are no other essential ( self)-intersections of the @xmath1186 s inside @xmath3 .",
    "let us show that we can always undo all inessential ( self)-intersections of the @xmath1186 s using moves ( m2 ) .",
    "let us first contract all unicolored edges in @xmath18 .",
    "let @xmath240 be a vertex , say , with @xmath1187 and with incident edges @xmath817 ( in the clockwise order ) .",
    "suppose we have an inessential ( self)-intersection of the trip(s ) @xmath1186 at @xmath240 .",
    "that means that one of these trips arrives to @xmath240 through the edge @xmath825 and then leaves through @xmath1188 ( according to the `` rules of the road '' ) and then ( the same or the other ) trip arrives to @xmath240 through @xmath1189 and leaves through @xmath1190 .",
    "note that all edges @xmath1191 should be different .",
    "( otherwise we get an essential intersection . )",
    "we might get some other pairs of edges at the vertex @xmath240 corresponding to other passages through this vertex . since all these pairs of edges @xmath1192 , @xmath1193 ,",
    " are disjoint , we can always uncontract the vertex @xmath240 into a trivalent tree such that all these segments of paths no longer intersect .",
    "this argument shows that we may assume that the area @xmath3 is homeomorphic to a disk .",
    "let us remove all vertices of degree 2 from @xmath18 and contract all unicolored pairs of edges on the boundary of the disk @xmath3 so that colors of vertices now alternate as we go around the disk @xmath3 .",
    "remind that we assume that @xmath18 is leafless .",
    "suppose that the area @xmath3 contains only one face .",
    "let us consider several cases .",
    "i. suppose that @xmath3 is surrounded by a round - trip , say , a clockwise round - trip .",
    "if there is a white vertex @xmath240 on the boundary of @xmath3 , then all edges incident to @xmath240 should lie _ inside _ @xmath3 .",
    "thus there is a tree attached to @xmath240 , which is impossible because we assume that @xmath18 is leafless .",
    "so @xmath240 should have degree @xmath166 , which is again impossible because have removed all such vertices from @xmath18 .",
    "that mean that there is no white vertices on the boundary of @xmath3 .",
    "thus there is only one black vertex on the boundary of @xmath3 .",
    "so we get a loop ; see figure  [ fig : loop_reduction ] .",
    "this loop can be transformed into a pair of parallel edges",
    ". then we can apply reduction ( r1 ) , as needed . similarly ,",
    "if @xmath3 is surrounded by a counterclockwise round - trip , there is no black vertices on its boundary and thus @xmath3 is again formed by a loop .",
    "suppose that @xmath3 is surrounded by a segment of a trip with an essential self - intersection , say , a clockwise segment .",
    "again in this case there is no white vertices on the boundary @xmath3 , except the white vertex that belongs to the essential self - intersection .",
    "so the boundary of @xmath3 has at most two vertices , one black and one white .",
    "that means that we either get a loop or get a pair of parallel edges . in both cases",
    ", we can perform reduction ( r1 ) .",
    "the case when the area @xmath3 is surrounded by a segment of the trip that starts and ends at the same boundary vertex @xmath8 , is exactly the same as the case ii .",
    "suppose that @xmath3 is surrounded by a pair of segments @xmath1194 and @xmath1195 of two trips between a bad double crossing ; cf .",
    "figure  [ fig : double_crossing_bi ] .",
    "assume that the segment @xmath1194 is directed clockwise , then @xmath1195 is directed counterclockwise .",
    "the same argument as above shows that there are no white vertices on @xmath1194 and similarly there are no black vertices on @xmath1195 .",
    "that means that @xmath1194 consists of a single black vertex and @xmath1195 consists of a single white vertex .",
    "again the boundary of @xmath3 is formed by a pair of parallel edges , so that we can perform reduction ( r1 ) .",
    "let us now assume that @xmath3 has more that two faces .",
    "let @xmath1196 be the vertices on the boundary of @xmath3 ( in the clockwise order ) that have incident edges _ inside _ the area @xmath3 .",
    "using uncontractions ( m2 ) , we can transform the vertices @xmath1197 into trivalent vertices , i.e. , for each @xmath1197 there is now exactly one incident edge that lies inside of @xmath3 .",
    "then we obtain a smaller a plabic graph @xmath1198 ( with at least one trip ) inside the area @xmath3 . if @xmath1198 is not reduced then",
    "so is @xmath18 .",
    "assume that @xmath1198 is reduced .",
    "by the induction hypothesis we have already established all needed claims for the graph @xmath1198 .",
    "let @xmath1199 be the trip permutation of the graph @xmath1198 .",
    "note that @xmath1198 has no boundary leaves , because we assumed that @xmath18 is leafless .",
    "thus the trip permutation @xmath1200 has no fixed points .",
    "if @xmath3 is given by one segment of a trip , then all @xmath1197 s have the same color ( all white if the segment is clockwise , and all black if the segment is counterclockwise ) .",
    "for each pair @xmath1197 and @xmath1201 , the graph @xmath18 has one vertex of the opposite color between these two vertices . by the induction hypothesis lemma  [ lem : square_face ]",
    "holds for the graph @xmath1198 .",
    "so we can transform the graph @xmath1198 to a graph @xmath1202 that has a square face @xmath1027 attached to some boundary segment @xmath1203 $ ] .",
    "furthermore , in the case of a trip with an essential self - crossing we may assume that the boundary segment @xmath1203 $ ] does not contain this self - crossing .",
    "( just label the vertices @xmath1197 so that the self - crossing is between @xmath1204 and @xmath1205 . ) in the graph @xmath18 , the face @xmath1027 includes @xmath677 vertices ( because there is one extra vertex of @xmath18 between @xmath1206 and @xmath1207 ) .",
    "note that , as we go around @xmath1027 , the colors of the @xmath677 vertices can not change more than @xmath60 times .",
    "that means that we can always merge at least two vertices of @xmath1027 together by move ( m2 ) .",
    "if the colors of vertices change less than @xmath60 times , that means that we can transform a graph @xmath18 into a graph where we can perform a reduction ( r1 ) .",
    "if the colors change exactly @xmath60 times , then ( after some uncontractions for vertices that are not trivalent ) we can perform a square move for the face @xmath1027 . in the obtained graph @xmath842 ,",
    "the corresponding face now lies outside the area @xmath138 formed by the corresponding trip .",
    "thus the number of faces in @xmath138 is strictly less than the number of faces in @xmath3 .",
    "then we can repeatedly apply the same procedure until we get a graph where a problematic trip surrounds exactly one face .",
    "this case was already considered above .",
    "if the area @xmath3 is given by two segments @xmath1194 ( clockwise ) and @xmath1195 ( counterclockwise ) of two trips with a bad double crossing , then the @xmath1197 that belong to @xmath1194 are white and the @xmath1208 that belong to @xmath1195 are black ; see figure  [ fig : double_crossing_bi ] .",
    "suppose that there are two vertices @xmath1197 and @xmath1208 that both lie on the side @xmath1194 or both lie on @xmath1195 such that they are connected by a trip in @xmath1198 .",
    "we may assume that they are closest such vertices , so that the condition of lemma  [ lem : square_face ] holds .",
    "thus again we will can transform @xmath1198 to a graph that contain a square face attached to a segment in @xmath1194 or in @xmath1195 .",
    "then we can decrease the number of faces inside @xmath3 as above .",
    "otherwise all trips in @xmath1198 that start at @xmath1194 should end at @xmath1195 , and vise versa .",
    "( in particular , both @xmath1194 and @xmath1195 contain the same number of vertices . )",
    "let @xmath1209 be the last vertex in @xmath1195 and be the first vertex in @xmath1210 ; see figure  [ fig : double_crossing_bi ] .    if @xmath1211 or @xmath1212 , then the pair @xmath1213 satisfies condition of lemma  [ lem : square_face ] . thus again",
    "we can transform the adjacent face adjacent to @xmath1203 $ ] into a square and then apply square move ( m1 ) and reduce the number of faces inside of @xmath3 , as above .    in the remaining case we have @xmath1214",
    "are @xmath1215 .",
    "according to the second part of lemma  [ lem : square_face ] , in this case the vertices @xmath1216 and @xmath1217 are connected by an edge @xmath13 .",
    "thus the graph @xmath18 contains a square face below the edge @xmath13 , so again we can perform a square move ( m1 ) at this face and reduce the number of faces inside @xmath3 . thus in all cases we can repeatedly decrease the number of faces in @xmath3 until we get an area with one face .",
    "this finishes the inductive step in the proof of theorem  [ th : reduced_criterion ] .",
    "let us now prove theorem  [ th : moves = permutations ] and lemma  [ lem : square_face ] . in one direction theorem",
    "[ th : moves = permutations ] is straightforward because the moves ( m1)(m3 ) never change the decorated permutation @xmath1167 .",
    "let us assume that @xmath18 and @xmath842 two reduced graphs such that @xmath1218 .",
    "also assume that @xmath1219 .",
    "we will show that the graphs @xmath18 and @xmath842 can be obtained from each other by the moves ( m1)(m3 ) . by theorem",
    "[ th : reduced_criterion ] ( which is already proved for @xmath18 and @xmath842 ) all fixed points in @xmath1164 should correspond to boundary leaves in the graphs @xmath18 and @xmath842 , which should be located in the same positions and should have same colors ( given by the decoration in the decorated permutation @xmath1167 ) .",
    "thus , without loss of generality , we may assume that @xmath1164 has no fixed points .",
    "let us pick a pair @xmath304 satisfying the condition of lemma  [ lem : square_face ] .",
    "let us assume that @xmath1169 .",
    "( the other case is completely analogous . ) by theorem  [ th : reduced_criterion ] the trip @xmath33 in @xmath18 from @xmath8 to @xmath10 has no essential self - crossings , and we can eliminate inessential self - crossings by the moves ( m2 ) , as above .",
    "this trip @xmath33 subdivides the graph @xmath18 into two smaller graphs @xmath1220 and @xmath1221 , where @xmath1220 is the graph containing the boundary segment @xmath1222 .",
    "we may assume that the graph @xmath18 satisfies the property that @xmath1220 has the smallest possible number of faces for all graphs in the move - equivalence class of @xmath18 .",
    "( otherwise transform @xmath18 to such graph by the moves . )",
    "let us remove vertices of degree @xmath166 from @xmath18 and contract unicolored edges in @xmath33 .",
    "let @xmath1223 be the trip permutation for the graph @xmath1220 .",
    "the trip permutation @xmath1223 contains no fixed points .",
    "( they would correspond to boundary leaves in @xmath1220 , but we assume that @xmath18 is leafless . ) if there is a trip in @xmath1220 that starts and ends at @xmath33 , then using the same argument as above , we can transform @xmath1220 into a graph that has a square face attached to a segment of @xmath33 , then apply the square move at this face , and decrease the number of faces in @xmath1220 , which contradicts to our assumption of minimality of @xmath1220 .",
    "this means that all trips in @xmath1220 that start at a ( black ) vertex on @xmath33 should end at one of the vertices @xmath1224 , and vise versa .",
    "let @xmath1225 be the black vertices on @xmath33 as we go from @xmath8 to @xmath10 .",
    "if the trip of @xmath1220 that starts at @xmath1176 ends at a vertex @xmath1226 or the trip that ends at @xmath1176 starts at a vertex @xmath1227 , again by lemma  [ lem : square_face ] we can transform @xmath1220 to a graph that has a square face attached to @xmath1228 $ ] , then perform a square move , and thus reduce the number of faces in @xmath1220 , which contradicts to minimality of @xmath1220 . thus vertices @xmath1176 and @xmath1201 are connected by @xmath166 trips in both ways . by lemma",
    "[ lem : square_face ] , this implies that @xmath1176 and @xmath1201 should be connected by an edge .",
    "let us remove this edge and apply the same argument again to show that the vertices @xmath1229 and @xmath1230 are also connected an edge in @xmath18 , etc .",
    "there should be a white vertex in @xmath33 between two adjacent black vertices @xmath1231 , @xmath1207 in @xmath33 .",
    "if needed , we can also insert white vertices between @xmath8 and @xmath1201 and between @xmath1232 and @xmath10 , and then make all white vertices in @xmath33 trivalent .",
    "( so now @xmath18 might contain one or two leaves . )",
    "therefore we may assume that the trip @xmath33 in the graph @xmath18 goes along the boundary and has the form as shown in figure  [ fig : boundary_trip ] .",
    "note that if @xmath33 has this boundary form , then the trip permutation @xmath1233 of the graph @xmath1221 that lies outside of this boundary strip is uniquely determined by the trip permutation @xmath1164 of @xmath18 .",
    "we can also transform by the moves the second graph @xmath842 ( with @xmath1234 ) to the form where the trip @xmath540 from @xmath8 to @xmath10 has exactly the same boundary form as in figure  [ fig : boundary_trip ] .",
    "thus its part @xmath1235 outside the boundary strip has exactly the same trip permutation @xmath1236 as @xmath1221 . by induction hypothesis",
    ", this implies that @xmath1221 and @xmath1235 are move - equivalent .",
    "then @xmath18 and @xmath842 are move equivalent .",
    "this finishes the inductive step for theorem  [ th : moves = permutations ] .    in order to prove lemma  [ lem : square_face ] , notice that in the above boundary trip from @xmath8 and @xmath10 shown on figure  [ fig : boundary_trip ] the boundary segment @xmath1173 $ ] is adjacent to a square face .",
    "this proves the first claim of lemma  [ lem : square_face ] .",
    "now assume that @xmath1174 and @xmath1237 .",
    "again we can transform @xmath18 so that the trip @xmath33 from @xmath8 to @xmath1176 has the boundary form as above .",
    "let us remove leaves and vertices of degree @xmath166 .",
    "the trip @xmath33 contains at most one vertex  a white vertex @xmath240 . if @xmath33 contain a vertex @xmath240 , then the other trip @xmath1157 from @xmath1176 to @xmath8 goes away from @xmath33 at this vertex and then returns back to @xmath33 at the same vertex @xmath240 .",
    "let @xmath3 be the area surrounded by the part of @xmath1157 between two visits of @xmath240 .",
    "applying the same argument as above in proof of theorem  [ th : reduced_criterion ] ( the case of trip with a self - crossing ) , we can reduce the number of faces inside @xmath3 one by one until there is only one face left .",
    "now all other ( possible ) vertices on the boundary of @xmath3 can be contracted into a single black vertex .",
    "so the graph contains a pair of parallel edges and we can perform reduction ( r1 ) , which is impossible because we assume that @xmath18 is reduced .",
    "thus there is no vertex @xmath240 on the trip @xmath33 , that is @xmath8 and @xmath1176 are connected by an edge @xmath13 . by performing moves ( m1)(m3 )",
    "we can only insert middle vertices into @xmath13 and grow some trees at these vertices .",
    "but since we assume that the original graph @xmath18 is leafless and has no vertices of degree @xmath166 , the edge @xmath13 should be present in @xmath18 .",
    "this proves the second claim of lemma  [ lem : square_face ] .",
    "this finishes the inductive proof of theorem  [ th : reduced_criterion ] , theorem  [ th : moves = permutations ] , and lemma  [ lem : square_face ] .",
    "let us say that a _",
    "singleton _ is an isolated connected component with a single vertex and no edges .",
    "[ lem : any_plabic_reduced ] any plabic graph @xmath18 can be transformed by moves ( m1)(m3 ) and reductions ( r1)(r3 ) into a reduced plabic graph possibly together with some singletons .",
    "let us first apply the leaf removal procedure to @xmath18 .",
    "if the obtained graph has a non - singleton isolated component , then there is a round - trip @xmath33 in this component . we can decrease the number of faces inside @xmath33 and then apply a reduction as in the above proof . repeatedly applying reductions we end up with a reduced graph possibly together with some singletons .",
    "one can transform reduced plabic graphs into the following objects .",
    "an _ alternating strand diagram _ consists of @xmath27 directed curves , called the _ strands , _ which are drawn inside a disk and connect pairs of the boundary vertices @xmath5 such that the following conditions hold :    1 .   for any boundary vertex @xmath8 ,",
    "there is exactly one strand that enters @xmath8 and exactly one strand that leaves @xmath8 .",
    "2 .   no three strands can intersect at the same point .",
    "3 .   there is a finite number of pairwise intersection points of the strands .",
    "all intersection points are transversal , i.e. , the tangent vectors to the strands at the intersection points are independent .",
    "4 .   let @xmath619 be a strand , and let @xmath1238 be all points on @xmath223 where it intersects with other strands @xmath1239 as it goes from @xmath110 to @xmath635 .",
    "( the same strand might occur several times in this sequence . )",
    "then the orientations of the strands @xmath1240 at the points @xmath1241 alternate . in other words , if , say , @xmath1194 is oriented at @xmath220 from left to write ( with respect to @xmath619 ) then @xmath1195 is oriented at @xmath837 from right to left , @xmath1242 is oriented from left to right , etc",
    "a strand has no self - intersections , except the case when the strand is a loop ( clockwise or counterclockwise ) attached to a boundary vertex @xmath8 .",
    "if two strands have two intersection points @xmath604 and @xmath240 , then one of these strands is oriented from @xmath604 to @xmath240 and the other is oriented from @xmath240 to @xmath604 .",
    "needless to say that alternating strand diagrams are considered modulo homotopy .",
    "each alternating strand diagram @xmath404 has the _ decorated strand permutation _",
    "@xmath1243 such that @xmath1244 whenever @xmath404 has a strand from @xmath8 to @xmath10 and if there is a counterclockwise ( resp . , clockwise ) loop attached to @xmath8 ,",
    "then the fixed point @xmath357 is colored in black @xmath1245 ( resp .",
    ", white @xmath1246 ) .",
    "the right side of figure  [ fig : alternating_diagram ] displays an example of alternating strand diagram @xmath404 with the strand permutation @xmath1247 .",
    "note that the diagram where the points @xmath8 and @xmath311 are connected straight chords is not an alternating strand diagram .",
    "_ faces _ of an alternating strand diagram are the regions on which the strands subdivide the disk .",
    "there are 3 types of such faces : _ clockwise _ ( whose boundary is directed clockwise ) , _ counterclockwise _ ( whose boundary is directed counterclockwise ) , and _ alternating _ ( where directions of the strands alternate when we go around the face .",
    "all _ boundary faces , _",
    "i.e. , faces adjacent to a segment of the boundary of the disk , are alternating . for a clockwise or counterclockwise face",
    ", all its adjacent faces are alternating . on the other hands , an alternating face is adjacent to both clockwise and counterclockwise faces ( in an alternating order ) .",
    "a reduced plabic graph @xmath18 can be easily transformed into an alternating strand diagram @xmath1248 as follows :    1 .",
    "remove all non - boundary leaves and contract all unicolored edges in @xmath18 .",
    "2 .   draw a dot in the middle of each edge connecting two internal vertices , and also draw dots at the boundary vertices @xmath5 .",
    "3 .   for any black internal vertex @xmath240 ,",
    "connect the dots @xmath1249 ( in clockwise order ) on the incident edges by new edges @xmath1250 oriented counterclockwise .",
    "4 .   similarly ,",
    "for any white internal vertex @xmath240 , connect the adjacent dots @xmath1249 by new edges @xmath1251 oriented clockwise .",
    "we obtain a new directed graph where all internal vertices ( internal dots ) have degree @xmath60 and all boundary vertices @xmath8 have degree @xmath166 .",
    "the strands are directed paths in this graph connecting the boundary vertices @xmath8 and intersecting each other at the dots .",
    "theorems  [ th : reduced_criterion ] and  [ th : moves = permutations ] ( upon some observation of figure  [ fig : alternating_diagram ] ) imply the following result .",
    "the diagram @xmath1252 constructed from a reduced plabic graph @xmath18 as above is an alternating strand diagram .",
    "the map @xmath1253 is a bijection between reduced plabic graphs ( without non - boundary leaves and unicolored edges ) and alternating strand diagrams .",
    "trips in @xmath18 are transformed into strands of @xmath404 .",
    "thus diagram @xmath404 has the same decorated strand permutation @xmath1254 as the decorated trip permutation of @xmath18 .",
    "black ( resp .",
    ", white ) vertices in @xmath18 correspond to counterclockwise ( resp .",
    ", clockwise ) faces of @xmath404 . faces of @xmath18 correspond to alternating faces of @xmath404 .",
    "two alternating strand diagrams have the same decorated strand permutation if and only if they can be obtained from each other by the moves shown in figure  [ fig : alternating_moves ] .    in alternating strand diagrams weights",
    "are assigned only to alternating faces .",
    "these weights are transformed as shown on figure  [ fig : alternating_moves ] , where the subtraction - free transformation @xmath1255 is given by  .",
    "a special kind of alternating strand diagrams corresponds to thurston s triple diagrams  @xcite .",
    "triple diagrams defined below are thurston s minimal triple diagrams .",
    "note that this definition is slightly different from the one given in  @xcite .",
    "consider a disk with @xmath1256 boundary vertices @xmath1257 ( in the clockwise order ) on its boundary .",
    "triple diagram _ is a diagram with @xmath27 directed strands drawn inside the disk such that    1 .",
    "each strand starts a boundary vertex @xmath8 and ends at another vertex @xmath1258 . for each boundary vertex @xmath8 ( resp . ,",
    "@xmath569 ) there is exactly one strand starting ( resp . , ending ) at this vertex .",
    "only triple intersections of strands are allowed inside the disk such that the directions of the six rays at this point alternate ( as we go around the intersection point ) .",
    "strands have no self - intersections .",
    "if two strands intersect each other at two points @xmath604 and @xmath240 , then one of these strands is directed from @xmath604 to @xmath240 and the other strand is directed from @xmath240 to  @xmath604 .    the _ strand permutation _",
    "@xmath1259 of a triple diagram @xmath33 is given by @xmath1260 whenever @xmath33 contain a strand from @xmath8 to @xmath1258 .",
    "the map @xmath1261 from triple diagrams to alternating strand diagrams is quite simple : slightly deform each triple crossing of the strands in @xmath33 and replace it by 3 simple crossings so that the boundary of newly created triangle is oriented clockwise , then merge all pairs of boundary vertices @xmath8 and @xmath569 .",
    "we will call faces of a triple diagram the _ chambers . _",
    "a triple diagram has two types of chambers  the _ dark chambers _ whose boundary is oriented counterclockwise , and the _ light chambers _ with clockwise boundary .",
    "figure  [ fig : triple_diagram ] below shows a triple diagram with dark chambers colored in a darker shade .",
    "let us transform a triple diagram @xmath33 into an alternating strand diagram @xmath404 and then into a plabic graph @xmath18 , as above .",
    "we have the following correspondences : @xmath1262 figure  [ fig : triple_plabic ] shows the plabic graph @xmath18 associated with the triple diagram @xmath33 on figure  [ fig : triple_diagram ] .",
    "the following claim is straightforward .",
    "the above map identifies triple diagrams with alternating strand diagrams @xmath404 such that all clockwise faces of @xmath404 are triangles and @xmath404 has no clockwise loops attached to boundary vertices .",
    "equivalently , triple diagrams correspond to reduced plabic graphs ( without non - boundary leaves and unicolored edges ) such that all white vertices are trivalent and all boundary leaves are black .",
    "[ rem : thurston_moves ] thurston  @xcite proved that any two triple diagrams with the same strand permutation can be obtained from each other by certain moves .",
    "these moves can be related to the moves of alternating strand diagrams on figure  [ fig : alternating_moves ] .",
    "thurston ( * ? ? ?",
    "* theorem 1 ) showed that , for each permutation @xmath1263 , there is a triple diagram @xmath33 with strand permutation @xmath1264 .",
    "let us give another construction of a triple diagram @xmath33 with a given strand permutation @xmath306 , which is different from the construction in @xcite .",
    "note that both constructions are quite simple .",
    "we will arrange the vertices @xmath1257 on the @xmath737-axis in the @xmath1265-coordinate plane .",
    "we will draw a triple diagram in the half - space below the @xmath737-axis .",
    "each strand will be a continuous curve @xmath1266 , @xmath1267 $ ] such that @xmath1268 is monotonically increasing or monotonically decreasing function .",
    "let us call such special triple diagrams _ monotone . _    for a strand @xmath619 from @xmath8 to @xmath1258",
    ", we say that @xmath619 is _ rightward _ if @xmath1269 ( because it is directed from left to right ) , and we say that @xmath619 is _ leftward _ if @xmath1270 .",
    "let @xmath1271 denotes the strand starting at @xmath8 and @xmath1272 denotes the strand ending at @xmath1258 ( so each strand has two labels ) .",
    "we will draw all strands in @xmath33 by adding little pieces to them as we go from left to right .",
    "start with the vertices @xmath234 and @xmath1273 .",
    "if @xmath1274 , then draw a ( very short ) strand from @xmath234 to @xmath1273 . otherwise draw initial segments of the strands @xmath1194 and @xmath1275 attached to the vertices @xmath234 and @xmath1273 , so that we get two strands with loose ends",
    ". then proceed to the pair of vertices @xmath235 and @xmath1276 .",
    "if @xmath1277 then draw a short strand from @xmath235 to @xmath1276 . if @xmath1278 then attach the loose end of @xmath1275 to @xmath235 . if @xmath1279 then draw the initial segment of @xmath1195 , add a triple crossing of the strands @xmath1280 and attach the loose end of @xmath1194 to @xmath1276",
    "otherwise draw two initial segments of @xmath1195 and @xmath1281 , so that we get @xmath60 loose ends of strands .",
    "then proceed to the pair of vertices @xmath273 , @xmath1282 , etc .",
    "note that a each moment we have some number of loose strands with alternating directions ( right , left , right , left ,  ) as we list them from the bottom .",
    "so between an adjacent pair of rightward loose strands there is exactly one leftward loose strand , and vise versa .",
    "this means we can always switch two adjacent rightward ( resp . ,",
    "leftward ) loose strands by adding a triple crossing .",
    "suppose now that we process the pair of vertices @xmath1283 .",
    "if @xmath1284 , we just draw a short strand @xmath1285 .",
    "if @xmath1286 , then we extend the ( already drawn ) loose end of @xmath1272 all the way up by these `` adjacent transpositions '' and connect it with @xmath8 .",
    "similarly , if @xmath1287 , then we extend the loose end of @xmath1288 all the way up and connect it with @xmath569 .",
    "otherwise we just add two new strands @xmath1271 and @xmath1289 with loose ends . when we finish processing all boundary vertices , all loose ends should be attached to the corresponding vertices , and we obtain a triple diagram .",
    "notice that any pair of rightward strands ( or a pair of leftwards strands ) will not intersect more than once .",
    "( a leftward and a rightward strands can intersect many times but this is not prohibited . ) figure  [ fig : triple_diagram ] shows a monotone triple diagram obtained by this procedure for the permutation @xmath1290 .    [ prop : exist_monotone ] for each permutation @xmath1160 there is a monotone triple diagram @xmath33 with strand permutation @xmath1291 .    for any decorated permutation @xmath1292",
    "there is a reduced plabic graph @xmath18 with trip permutation @xmath1293 .",
    "note that monotone triple diagrams are quite similar to _",
    "double wiring diagrams _ of fomin - zelevinsky  @xcite .",
    "such triple diagrams are obtained by superimposing two usual wiring diagrams formed by all rightwards strands and by all leftward strands .",
    "these two wiring diagrams are shown in blue and red colors on figure  [ fig : triple_diagram ] .",
    "actually , double wiring diagrams from  @xcite are exactly the monotone triple diagrams in the case when @xmath1294 and @xmath1295\\to [ m+1,2m]$ ] , @xmath1296\\to [ m]$ ] .",
    "we will need the following property of monotone triple diagrams constructed above . for a permutation @xmath1160",
    ", we say that @xmath1297 $ ] is an _ anti - exceedance _ of @xmath306 if @xmath1298 .",
    "let @xmath1299 $ ] be the set of all anti - exceedances of @xmath306 .",
    "recall proposition  [ prop : plabic_matroid ] that combinatorially describes the matroid corresponding to a perfectly orientable plabic graph @xmath18 as the matroid @xmath1106 of source sets of perfect orientations of @xmath18 .    [ lem : monotone_lex_min ] let @xmath33 be a monotone triple diagram with strand permutation @xmath306 , and let @xmath18 be the associated reduced plabic graph . then @xmath18 is perfectly orientable and @xmath1300 is the lexicographically minimal base of the matroid @xmath1106 .    any other base of @xmath1106 is obtained from @xmath74 by replacing some entries @xmath1301 with some @xmath1302 such that @xmath1303 ,  , @xmath1304 .",
    "define the _ nose _ of a dark chamber @xmath223 in @xmath33 as its rightmost point , i.e. , the point with the maximal @xmath737-coordinate .",
    "the monotonicity of a triple diagram implies that each dark chamber has a unique nose .",
    "notice that @xmath1305 if and only if @xmath569 is not the nose of the dark chamber adjacent to the boundary segment @xmath1306 $ ] . in the triple diagram shown of figure  [ fig : triple_diagram ]",
    ", the elements of @xmath1307 correspond to the targets of the leftward strands ( shown in red ) .",
    "let us direct edges in of the plabic graph @xmath18 , as follows . for each black vertex @xmath604 of @xmath18 ( which corresponds to a dark chamber @xmath223 in @xmath33 )",
    "the only outgoing edge from @xmath604 goes to the white vertex at the nose of @xmath223 .",
    "each white vertex @xmath240 of @xmath18 ( triple crossing in @xmath33 ) is adjacent to three dark chambers @xmath1308 such that @xmath240 is the nose of @xmath1309 .",
    "then the @xmath59 edges incident to @xmath240 are directed away from @xmath1309 and towards @xmath1310 and @xmath1311 ; see figure  [ fig : triple_plabic ] .",
    "that means that this orientation of edges is perfect , which proves perfect orientability of @xmath18 .",
    "notice that , for this orientation of edges , the boundary source set @xmath74 is exactly the index set @xmath1312 of the `` noseless '' boundary vertices @xmath569 .",
    "any other perfect orientation of @xmath18 is obtained from the constructed one by switching edge directions in a family of noncrossing directed paths joining pairs of boundary vertices ; see lemma  [ lem : path_matchings ] .",
    "a directed path @xmath1313 in this digraph @xmath18 correspond to a sequence of dark chambers @xmath1314 in @xmath33 such that @xmath1309 and @xmath1315 are adjacent to the boundary segments @xmath1306 $ ] and @xmath1316 $ ] , and @xmath1317 is adjacent to the nose of @xmath1318 , for @xmath1319 $ ] . for each @xmath357 , the nose @xmath1317",
    "is located strictly to the right of the nose of @xmath1318 .",
    "that means that @xmath1320 for any directed path @xmath1313 .",
    "in other words , when we switch to any other perfect orientation of @xmath18 , we replace some sources @xmath1321 by other sources @xmath1302 such that @xmath1303 ,  , @xmath1304 .",
    "this implies that @xmath1322 is the lexicographically minimal source set of a perfect orientation of @xmath18 , i.e. , the lexicographically minimal base of @xmath1106 , as needed .",
    "[ cor : reduced_orientable ] any reduced plabic graph is perfectly orientable .",
    "let @xmath18 be a reduced plabic graph .",
    "we may assume that it has no boundary leaves , so that the trip permutation @xmath1164 has no fixed points .",
    "let @xmath842 be a reduced plabic graph coming from a monotone triple diagram as above such that @xmath842 has the same trip permutation @xmath1323 .",
    "by lemma  [ lem : monotone_lex_min ] , @xmath842 is reduced and by theorem  [ th : moves = permutations ] @xmath842 is move - equivalent to @xmath18 . since the moves never change perfect orientability , the graph @xmath18 is also perfectly orientable .",
    "note that not all plabic graphs are perfectly orientable .",
    "for example , if a a graph has a singleton ( isolated component with a single vertex ) , then it is not perfectly orientable .",
    "essentially this is the only obstruction for perfect orientability .",
    "indeed , any graph can be transformed into a reduced graph possibly together with some singletons ; see lemma  [ lem : any_plabic_reduced ] .",
    "such graph is perfectly orientable if and only if it has no singletons .",
    "a _ grassmann necklace _ is a sequence @xmath1324 of subsets @xmath1325 $ ] such that , for @xmath1297 $ ] , if @xmath1326 then @xmath1327 , for some @xmath1328 $ ] ; and if @xmath1329 then @xmath1330 . ( here indices @xmath357 are taken modulo @xmath27 . ) in particular , we have @xmath1331 .",
    "such necklaces are in bijection with decorated permutations . for a grassmann necklace @xmath1332",
    ", we construct the decorated permutation @xmath1333 such that    1 .   if @xmath1334 , @xmath1335 , then @xmath1177 ; 2 .   if @xmath1336 and @xmath1337 then @xmath1284 is colored in black @xmath1338 ; 3 .",
    "if @xmath1336 and @xmath1326 then @xmath1284 is colored in white @xmath1246 ;    where the indices @xmath357 are taken modulo @xmath27 .",
    "notice that as we transform @xmath444 to @xmath1339 , then to @xmath1340 , and so on until get get back to @xmath444 , we can remove an element @xmath357 at most once ( at the @xmath357-th step ) ; and thus we can add an element @xmath267 at most once .",
    "this shows that @xmath306 is indeed a permutation in @xmath128 .",
    "note that black fixed points of @xmath1292 are exactly the elements @xmath1297 $ ] that belong to none of the subsets @xmath1341 and white fixed points are exactly the elements @xmath1328 $ ] that belong to all subsets @xmath1341 .",
    "let us describe the inverse map from decorated permutations to grassmann necklaces .",
    "for a decorated permutation @xmath1159 of size @xmath27 , we say that @xmath1342 $ ] is an _ anti - exceedance _ of @xmath1292 if @xmath1298 or @xmath1343 and @xmath1344 .",
    "( that is we regard white fixed points as anti - exceedances . )",
    "let @xmath1345 $ ] be the set of all anti - exceedances in @xmath1292",
    ". for @xmath1346 $ ] , let us also define the _ shifted anti - exceedance set _",
    "@xmath1347 as the set of indices @xmath1297 $ ] such that @xmath1348 or ( @xmath1343 and @xmath1344 ) , where @xmath1349 is the cyclical shift of the usual linear order on @xmath35 $ ] : @xmath1350 , i.e. , @xmath1347 is the anti - exceedance set with respect to the linear order @xmath1349 .",
    "in particular , @xmath1351 .",
    "let @xmath1352 , where @xmath1353 , for @xmath1346 $ ] .",
    "[ lem : neck_perms ] the maps @xmath1354 and @xmath1355 are inverse to each other .",
    "they give a bijection between decorated permutations @xmath1292 of size @xmath27 and grassmann necklaces @xmath1332 of size @xmath27 .",
    "the proof of this lemma is quite straightforward ( an exercise for the reader ) .",
    "we can graphically present decorated permutation @xmath1292 by arranging the vertices @xmath5 clockwise on a circle , drawing straight directed chords @xmath307 $ ] , whenever @xmath1356 ; drawing a counterclockwise loop at @xmath10 for each black fixed point @xmath1357 ; and drawing a clockwise loop at @xmath1358 for each white fixed point @xmath1359 .",
    "for example , figure  [ fig : dec_permut ] shows the decorated permutation @xmath1292 with @xmath1360 with two fixed points @xmath60 and @xmath1361 colored @xmath1362 ( black ) and @xmath1363 ( white ) .",
    "this decorated permutation has the following shifted anti - exceedance sets @xmath1364 , @xmath1365 , @xmath1366 , @xmath1367 , @xmath1368 , @xmath1369 .",
    "( -60,-40)(60,50 ) ( 0,0)40 ( 34.64,20)2b1 ( 34.64,-20)2b2 ( 0,-40)2b3 ( -34.64,-20)4b4 ( -34.64,20)2b5 ( 0,40)4b6 ( 43.30,25)@xmath234 ( 43.30,-25)@xmath235 ( 0,-50)@xmath273 ( -43.30,-25)@xmath274 ( -43.30,25)@xmath1370 ( 0,50)@xmath1371    for a matroid @xmath1372}{k}$ ] of rank @xmath7 on the set @xmath35 $ ] , let @xmath1373 be the sequence of subsets in @xmath35 $ ] such that , for @xmath1297 $ ] , @xmath297 is the lexicographically minimal base of @xmath112 with respect to the shifted linear order @xmath1374 on @xmath35 $ ] .",
    "[ lem : im_necklace ] for a matroid @xmath112 , the sequence @xmath1375 is a grassmann necklace .",
    "let @xmath1376 . by the cyclic symmetry ,",
    "it is enough to check that @xmath1377 for some @xmath267 , or @xmath1378 .",
    "the subset @xmath1379 is the lex minimal base of @xmath112 ( with respect to the usual order on @xmath35 $ ] ) . if @xmath1380 then @xmath444 is also the lex minimal base with respect to the order @xmath1381 , and thus @xmath1382 .",
    "assume that @xmath1383 and @xmath1384 .",
    "let @xmath470 be the index such that @xmath1385 for all @xmath1386 and @xmath1387 .",
    "then @xmath1388 $ ] ( or @xmath1389 $ ] if @xmath1390 ) and @xmath112 has a circuit ( minimal dependence ) involving @xmath1391 and some of the @xmath1392 .",
    "that implies that , for any @xmath1393-element subset @xmath1394 $ ] , @xmath1395 is a base of @xmath112 if and only if @xmath1396 is a base .",
    "because of the lex minimality of @xmath444 and @xmath1339 , we have @xmath1397 for all @xmath1398 .",
    "thus @xmath1399 , as needed .",
    "recall that , for a plabic graph @xmath18 , the image of the boundary measurement map @xmath1103 belongs to a totally nonnegative grassmann cell @xmath2 where @xmath1400 ; see proposition  [ prop : plabic_matroid ] .",
    "[ prop : matorid_to_perm ] let @xmath18 be a reduced plabic graph , and let @xmath1401 be the associated matroid .",
    "then the grassmann necklace @xmath1375 of the matroid @xmath112 equals the necklace @xmath1402 corresponding to the decorated trip permutation of @xmath18 .",
    "black boundary leaves of @xmath18 correspond to isolated boundary sinks in directed network , which correspond to zeros of the matroid @xmath112 , i.e. , the elements @xmath1297 $ ] which do not appear in any base of @xmath112 .",
    "these elements never appear in the necklace @xmath1375 .",
    "they give black fixed points of the decorated permutation @xmath1403 , as needed .",
    "similarly , white boundary leaves of @xmath18 give cozeros of @xmath112 , i.e. , the element @xmath1297 $ ] that appear in all bases of @xmath112 .",
    "they give white fixed points in @xmath1403 .",
    "thus we can remove all boundary leaves and assume that the reduced plabic graph @xmath18 has no boundary leaves .",
    "then the trip permutation @xmath1164 has no fixed points .    according to the cyclic symmetry ( remark  [ rem : cyclic_symmetry ] )",
    "it is enough to show that the anti - exceedance set @xmath1404 equals the lexicographically minimal base @xmath74 of @xmath112 .",
    "let @xmath842 be the plabic graph with the same trip permutation obtained from a monotone triple diagram as shown in section  [ sec : alt_strand ] .",
    "then by theorem  [ th : moves = permutations ] the graphs @xmath18 and @xmath842 can be obtained from each other by moves ( m1)(m3 )",
    ". these moves never change the trip permutation @xmath1164 and never change the matroid @xmath1106 ( because they do not change the image @xmath1405 ) .",
    "thus the needed claim follows from lemma  [ lem : monotone_lex_min ] .",
    "now we can finally prove theorems  [ th : moves = boundary ] and  [ th : reduced_plabic_parametrization ] .",
    "let @xmath208 and @xmath242 be two perfectly orientable plabic networks with graphs @xmath18 and @xmath842 such that @xmath1406 . according to lemma  [ lem : any_plabic_reduced ]",
    ", we can transform these networks by the moves and reductions into networks with reduced graphs and maybe some singleton components .",
    "if there are singleton components then the graph(s ) are not perfectly orientable .",
    "thus we may assume that the plabic graphs @xmath18 and @xmath842 are reduced .",
    "the boundary measurement map sends @xmath208 and @xmath242 into into the same cell @xmath2 .",
    "thus , by proposition  [ prop : matorid_to_perm ] , the graphs @xmath18 and @xmath842 have the same necklaces @xmath1407 .",
    "thus by lemma  [ lem : neck_perms ] , the decorated trip permutations @xmath1408 and @xmath1408 are the same . according to theorem  [",
    "th : moves = permutations ] , the graphs @xmath18 and @xmath842 are move - equivalent .    we know that for any cell @xmath2 there is a plabic graph @xmath1069 such that @xmath1409 is a subtraction - free parametrization of @xmath2",
    "indeed , we can take the -diagram associated with @xmath2 ( see theorem  [ th : g_d ] ) and transform it into a plabic graph .",
    "the graph @xmath1069 must be reduced .",
    "( otherwise , we can kill some parameter and the map @xmath1409 would not be a parametrization ; see remark  [ rem : non - reduced ] . )",
    "thus again @xmath1069 has the same decorated trip permutation @xmath1410 and is move - equivalent to @xmath18 and @xmath842 .",
    "note that every time when we perform moves ( m1)(m3 ) , the face variables @xmath1026 are transformed by invertible subtraction - free rational maps .",
    "thus for the graph @xmath18 ( and any other graph obtained from @xmath1069 by the moves ) , the map @xmath1411 is obtained from @xmath1409 by a sequence of these reparametrization maps , and thus @xmath1411 is also a subtraction - free rational parametrization of @xmath2 .",
    "so any two networks with the same graph @xmath18 that maps into the same point in the grassmannian must be equal to each other .",
    "that means that if we transform the network @xmath242 by the moves into a network with the graph @xmath18 we will get the network @xmath208 . thus the networks @xmath208 and @xmath242 are move - equivalent .",
    "[ cor : im = cell ] for any perfectly orientable plabic graph @xmath18 ( not necessarily reduced ) that corresponds to the cell @xmath2 , we have @xmath1412 that is the image of @xmath1103 is the whole cell @xmath2 .    for a reduced graph @xmath18",
    "this follow from theorem  [ th : reduced_plabic_parametrization ] .",
    "other graphs can be transformed into reduced ones by the moves and reductions ( lemma  [ lem : any_plabic_reduced ] ) , but the moves and reductions do not change the image of the map @xmath1103 .",
    "in this section we show that each nonnegative grassmann cell @xmath2 is an intersection of @xmath27 schubert cells .",
    "then we combinatorially describe the partial order on the cells @xmath2 by containment of their closures .",
    "let us use notation of section  [ sec : matroids_perms ] .",
    "let us say that a decorated permutation @xmath1292 has _ type _",
    "@xmath1092 if @xmath1292 has size @xmath27 and it has @xmath7 anti - exceedances .",
    "also say that a grassmann necklace has _ type _",
    "@xmath1092 if it consists of @xmath7-element subsets in @xmath35 $ ] . clearly , the types of corresponding decorated permutations and grassmann necklaces are the same .",
    "[ th : sm_dec_perm ] the map @xmath1413 is a bijection between nonnegative grassmann cells @xmath281 and decorated permutations of type @xmath1092 .",
    "equivalently , the map @xmath1414 is a bijection between nonnegative grassmann cells in @xmath0 and grassmann necklaces of type @xmath1092 .    by theorems  [ th : reduced_plabic_parametrization ] and",
    "[ th : moves = permutations ] , all reduced plabic graphs with the same decorated trip permutation @xmath1292 correspond to the same nonnegative grassmann cell @xmath2 . by propositions  [ prop :",
    "plabic_matroid ] and  [ prop : matorid_to_perm ] , we have @xmath1415 .",
    "thus , two reduced plabic graphs with different trip permutations correspond to different grassmann cell .",
    "recall that @xmath1416 , for @xmath129 , are the permuted schubert cells ; see section  [ sec : grassmannian ] .",
    "let us also use the subset notation for these schubert cells @xmath1417 where @xmath1418 is the linear order on @xmath35 $ ] given @xmath132 , cf .",
    "section  [ ssec : matroid_strata ] .",
    "the cells @xmath1419 are exactly the cells @xmath131 labelled by subsets rather than partitions .",
    "each matroid strata @xmath121 is an intersection of several permuted schubert cells ; see remark  [ rec : common_ref_factorial ] . for a nonnegative grassmann cell @xmath2 only @xmath27 schubert cells are needed .",
    "let @xmath1420 be the long cycle .",
    "[ th : sm = circ_necklace ] let @xmath281 be a nonnegative grassmann cell , and let @xmath1421 be the grassmann necklace corresponding to @xmath112 .",
    "then @xmath1422 moreover , for any arbitrary collection of @xmath7-subsets @xmath1423 $ ] , the intersection in the right - hand - side is nonempty if and only if @xmath1424 is a grassmann necklace .",
    "note that @xmath1425 is exactly the shifted order @xmath1374 on @xmath35 $ ] . by the definition of @xmath1375",
    ", the cell @xmath2 belongs to the intersection of schubert cells in the right - hand - side .",
    "suppose that this intersection contains an element of another cell @xmath543 .",
    "then @xmath1426 , so the cell @xmath543 corresponds to the same decorated trip permutation @xmath1427 , which is impossible by theorem  [ th : sm_dec_perm ] .",
    "the second claim follows from lemma  [ lem : im_necklace ] .",
    "let @xmath1428 denotes the closure of the cell @xmath281 .",
    "define the partial order @xmath1429 on nonnegative grassmann cells such that @xmath1430 if and only if @xmath1431 . recall that the cell @xmath2 is given in the plcker coordinates by the conditions @xmath177 for @xmath124 , and @xmath1432 for @xmath1433 ;",
    "see section  [ set : tot_nonneg_grass ] .",
    "thus , for two nonempty cells , we have @xmath1430 if and only if @xmath1434 .",
    "recall that the partial order on the schubert cells by the containment has a simple combinatorial description @xmath1435 if and only if @xmath1436 ( meaning the inclusion of young diagrams ) ; see  @xcite .",
    "recall the standard bijection @xmath1437 between partitions @xmath429 and @xmath7-subsets @xmath51 $ ] ; see section  [ sec : grassmannian ] .",
    "let @xmath1438 be the inverse bijection .",
    "[ lem : lambdaji ] let @xmath2 be a nonnegative grassmann cell .",
    "let @xmath74 be the lexicographically minimal base of @xmath112 .",
    "then , for any other base @xmath287 , we have @xmath1439 .",
    "according to theorem  [ th : sm_dec_perm ] , lemma  [ prop : exist_monotone ] , and the second part of lemma  [ lem : monotone_lex_min ] , any base @xmath189 of @xmath112 is obtained from @xmath74 by switching some entries @xmath1301 with some @xmath1302 such that @xmath1303 ,  , @xmath1304 . but",
    "this exactly means that for the corresponding partitions we have @xmath1440 .",
    "let @xmath1421 be the grassmann necklace corresponding to a matroid @xmath111}{k}$ ] .",
    "let us also denote @xmath1441 the sequence of partitions @xmath1442 , for @xmath1297 $ ] .",
    "in other words , the partitions @xmath1443 are chosen so that @xmath1444 .    [",
    "prop : partial_order_lambda ] let @xmath1445 be two cells in @xmath0 , @xmath1441 and @xmath1446",
    ". then @xmath1447 if and only if @xmath1448 , for all @xmath1297 $ ] .",
    "if @xmath1448 for all @xmath1297 $ ] , then @xmath1447 , by theorem  [ th : sm = circ_necklace ] . on the other hand ,",
    "suppose that @xmath1447",
    ". then @xmath1434 . in particular ,",
    "the lexicographically minimal base @xmath74 of of @xmath112 is also a base of @xmath532 . by lemma",
    "[ lem : lambdaji ] , this implies that @xmath1449 .",
    "taking cyclic shifts and using the cyclic symmetry of the construction , we get @xmath1450 , for any @xmath1297 $ ] .",
    "let us now describe the partial order on the cells @xmath2 in terms of decorated permutations .",
    "the _ circular bruhat order _",
    "@xmath1451 is the partial order @xmath1429 on the set of decorated permutations of type @xmath1092 such that , for two decorated permutations @xmath1292 and @xmath1452 corresponding to the cells @xmath1104 and @xmath543 in @xmath0 , we have @xmath1453 if and only if @xmath1430 .",
    "[ lem : cb_top_bottom ] the circular bruhat order @xmath1451 has a unique top element given by the decorated permutation @xmath1454 , for @xmath1297 $ ] ( for @xmath522 , all fixed points of @xmath1455 are colored black , and for @xmath450 all fixed points of @xmath1455 are colored white ) .",
    "the circular bruhat order @xmath1451 has @xmath1456 minimal elements corresponding to the identity permutation permutation with some @xmath7 fixed points colored in white and remaining @xmath9 fixed points colored in black .",
    "the top element of @xmath1451 corresponds to the top cell @xmath281 , where @xmath155}{k}$ ] is the complete matroid of rank @xmath7 on @xmath35 $ ] . by lemmas  [ lem : neck_perms ] and  [ lem : im_necklace ]",
    ", this matroid corresponds to the grassmann necklace @xmath1373 with @xmath1457 , for @xmath1297 $ ] ( elements are taken modulo @xmath27 ) ; and this necklace corresponds to decorated permutation @xmath1458 .    on the other hand ,",
    "minimal elements of @xmath1451 correspond to 0-dimensional cells @xmath2 .",
    "these cells are fixed points of the torus action on the grassmannian @xmath19 . in other words",
    ", they correspond to matroids with a single base @xmath1459 . under the correspondence @xmath1460",
    ", the @xmath7 elements of @xmath74 give @xmath7 white fixed points of @xmath1292 and @xmath63 elements of @xmath35\\setminus i$ ] give @xmath63 black fixed points of @xmath1292 .",
    "for @xmath1461 $ ] , define the _ cyclic interval _",
    "@xmath1462^{cyc}$ ] as @xmath1463 if @xmath1464 , and as @xmath1465 if @xmath976 .",
    "in other words , a cyclic interval is a sequence of consecutive numbers arranged on a circle in the clockwise order . for a decorated permutation @xmath1292 and a pair",
    "@xmath1466 $ ] , let us define the number @xmath1467 as the number of shifted anti - exceedances @xmath357 of @xmath1292 with respect to the shifted order @xmath1468 such that @xmath1469^{cyc}$ ] .",
    "in other words , if @xmath1470 , then @xmath1471 . in particular , for a decorated permutation of type @xmath1092 , we have @xmath1472 , for any @xmath1473 $ ] .",
    "( here we take indices @xmath1474 modulo @xmath27 . )",
    "[ cor : rab_pi ] for two decorated permutations @xmath1292 and @xmath1452 of the same type , we have @xmath1453 if and only if @xmath1475 for all @xmath1461 $ ] .",
    "follows from proposition  [ prop : partial_order_lambda ] and the fact that , for two partitions @xmath1476 , we have @xmath1477 if and only if @xmath1478|\\leq |i(\\mu)\\cap[b]|$ ] for any @xmath1479 $ ] .",
    "recall , that we presented each decorated permutation @xmath1292 by a chord diagram ; see figure  [ fig : dec_permut ] . also recall _ crossings , alignments , _ and _ misalignments _ from section  [ sec : loop_erased ] .",
    "this notions can be adapted for decorated permutations , as follows .",
    "let @xmath1292 be a decorated permutation , and let @xmath1480 and @xmath1481 , @xmath863 , be a pair of chords ( or loops ) .",
    "we say that this pair is a _ crossing _ if @xmath1482^{cyc}$ ] and @xmath1483^{cyc}$ ] .",
    "we say that this pair is an _ alignment _ if @xmath1484^{cyc}$ ] and @xmath1485^{cyc}$ ] ; if @xmath1284 then @xmath357 must be colored @xmath1338 ( counterclockwise loop ) , and if @xmath1486 then @xmath267 must be colored @xmath1487 ( clockwise loop ) ; see figure  [ fig : cross_align ] . note that in a crossing the vertex @xmath8 is allowed to coincide with @xmath310 , and the vertex @xmath10 is allowed to coincide with @xmath311 .",
    "but a loop can never participate in a crossing . on the other hand , two chords in an alignment",
    "never have common vertices , but the vertex @xmath8 can coincide with @xmath311 and form a counterclockwise loop , and similarly @xmath1488 can form a clockwise loop . in particular , any counterclockwise loop forms an alignment with any clockwise loop .",
    "( -80,-40)(80,30 ) ( 0,-45)crossing : ( 0,0)30 ( 0,0)30150 - 150 ( 0,0)30 - 3030 ( 25.98,15)2b1 ( 25.98,-15)2b2 ( -25.98,-15)2b4 ( -25.98,15)2b5 ( -34.64,20)@xmath8 ( 45,20)@xmath310 ( -34.64,-20)@xmath10 ( 45,-20)@xmath311 ( -80,-40)(80,30 ) ( 0,0)30 ( 0,-45)alignment : ( 0,0)30150 - 150 ( 0,0)30 - 3030 ( 25.98,15)2b1 ( 25.98,-15)2b2 ( -25.98,-15)2b4 ( -25.98,15)2b5 ( -34.64,20)@xmath8 ( 45,20)@xmath311 ( -34.64,-20)@xmath10 ( 45,-20)@xmath310    let us say that a crossing as above is a _ simple crossing _ if there are no any other chords @xmath1489 such that @xmath1490^{cyc}$ ] and @xmath1491^{cyc}$ ] .",
    "similarly , a _",
    "simple alignment _ is an alignment such that there are not other chords @xmath1489 such that @xmath1490^{cyc}$ ] and @xmath1492^{cyc}$ ] . in other words , simple crossings and alignments",
    "should have no other chords that start on the left between @xmath8 and @xmath10 and end on the right between @xmath311 and @xmath310 .",
    "notice if @xmath1292 has a crossing / alignment then it should also have a simple crossing / alignment .",
    "( just pick the one where @xmath8 and @xmath10 are closest to each other . )    for two decorated permutations @xmath1493 of the same type , let @xmath1494 denotes the covering relation in the circular bruhat order .",
    "[ th : circ_bruhat_cover ] in the circular bruhat order @xmath1451 we have @xmath1494 if and only if the chord diagram @xmath1292 is obtained from the chord diagram of @xmath1452 by replacing a simple crossing with the corresponding simple alignment as shown on figure  [ fig : cover_rel ] .",
    "note again that we allow @xmath1495 and/or @xmath1496 . in this case",
    "@xmath1292 should have a counterclockwise loop at @xmath1497 and/or a clockwise loop at @xmath1498 . in the case when @xmath1495 and @xmath1496 , we can also switch @xmath357 and @xmath267 and get the decorated permutation clockwise loop at @xmath8 and counterclockwise loop at @xmath10 , which is also covered by @xmath1452 .",
    "( -50,-60)(170,40 ) ( 0,0)30 ( 0,0)30150 - 150 ( 0,0)30 - 3030 ( -34.64,20)@xmath8 ( 45,20)@xmath311 ( -34.64,-20)@xmath10 ( 45,-20)@xmath310 ( 25.98,15)2b1 ( 25.98,-15)2b2 ( -25.98,-15)2b4 ( -25.98,15)2b5 ( 0,-50)@xmath1292 ( 120,0)30 ( 120,0)30150 - 150 ( 120,0)30 - 3030 ( 85.36,20)@xmath8 ( 165,20)@xmath1499 ( 85.36,-20)@xmath10 ( 165,-20)@xmath1500 ( 145.98,15)2b21 ( 145.98,-15)2b22 ( 94.02,-15)2b24 ( 94.02,15)2b25 ( 120,-50)@xmath1452    one directly verifies that for any pair @xmath1292 and @xmath1452 related by `` undoing a crossing '' as above , we have @xmath1501 for any @xmath1461 $ ] .",
    "thus we have @xmath1502 .",
    "one the other hand , let @xmath1352 and @xmath1503 .",
    "then the relation @xmath1453 mean that @xmath297 is obtained from @xmath1504 by moving some elements `` to the right '' ( with respect to the linear order @xmath1374 on @xmath35 $ ] ) .",
    "we may assume that @xmath1505 .",
    "( otherwise cyclic shift all elements using the cyclic symmetry of the construction . )",
    "suppose that @xmath444 is obtained from @xmath1506 by switching the elements @xmath1507 with @xmath1302 , where @xmath1303 ,  , @xmath1304 .",
    "let @xmath1508 and @xmath1509 .",
    "then @xmath1510 and @xmath1511 because @xmath1512 belongs to the anti - exceedance set of @xmath1292 and @xmath1513 does not belong to this set .",
    "note that for @xmath1514^{cyc}$ ] , the set @xmath297 contains @xmath1512 and does not contain @xmath1513 .",
    "let @xmath1515 be the grassmann necklace such that @xmath1516 , for @xmath1514^{cyc}$ ] , and @xmath1517 otherwise .",
    "let @xmath1518 be the decorated permutation corresponding to @xmath1515 .",
    "then we have @xmath1519 and @xmath1292 is obtained from @xmath1518 by undoing a crossing .    in section  [ sec : gluing ]",
    "we will explicitly describe how the cells are glued to each other , which will explain where these `` undoings of crossings '' are coming from .",
    "let us define the _ alignment number _ @xmath1520 of a decorated permutation as the total number of pairs of chords ( or loops ) in @xmath1292 forming an alignment .",
    "the following claim is obtained by an easy verification .",
    "suppose that @xmath1292 is obtained from @xmath1452 by undoing a simple crossing as shown on figure  [ fig : cover_rel ] .",
    "then @xmath1521 .",
    "notice that the maximal element @xmath1455 in @xmath1451 has no alignments . on the other hand , all minimal elements",
    "@xmath1522 have @xmath247 alignments ; see lemma  [ lem : cb_top_bottom ] .",
    "also notice that the dimension of the top cell in @xmath0 is @xmath247 . as we go down from the top element @xmath1455 to a minimal element in @xmath1451 by undoing simple crossings , the alignment number @xmath1520 increases by 1 at each step . on the other hand",
    ", dimensions of the corresponding cells should drop by at least 1 at each step . since the dimension of the top cell is the same as the number of steps , we obtain the following claim .    [",
    "prop : cb_ranked ] for the decorated permutation @xmath1522 associated with a cell @xmath2 , we have @xmath1523 . the circular bruhat order is a ranked poset with the rank function @xmath1524 .",
    "let us now explain the reason why we call the partial order @xmath1451 the circular bruhat order .",
    "actually , one can embed the usual ( strong ) bruhat order on the symmetric group @xmath201 ( and also the product of two copies of the bruhat order ) into @xmath1525 as a certain interval .",
    "let @xmath1104 be a cell in @xmath1526 such that @xmath205,[k+1,2k]\\in \\m$ ] .",
    "such cells are exactly the _",
    "double bruhat cells _ of fomin - zelevinsky , see remark  [ rem : fz_double_bruhat ] .",
    "then the corresponding bruhat necklace @xmath1375 has the entries @xmath1527 $ ] and @xmath1528 $ ] .",
    "this means that the corresponding permutation @xmath1529 satisfies the following condition : @xmath1530\\to [ k+1,2k]$ ] and @xmath1531\\to [ k]$ ] .",
    "( such permutations have no fixed points so there is no need to decorate them . ) in other words , @xmath306 can be subdivided into two permutations from @xmath201 , as follows . for two permutations",
    "@xmath1532 , let @xmath1533 be the permutation in @xmath1534 , given by @xmath1535 and @xmath1536 for @xmath1537 , where @xmath1538 .    for two permutations @xmath1539 and @xmath1540 , where @xmath1541 we have @xmath1542 in the circular bruhat order @xmath1525 if and only if @xmath1543 and @xmath1544 in usual bruhat order on @xmath201 .",
    "the interval @xmath1545 $ ] in @xmath1525 is isomorphic to the direct product of two copies of the usual bruhat order on @xmath201 .    for permutations of the form @xmath1539 ,",
    "the description of the circular bruhat order from corollary  [ cor : rab_pi ] is equivalent to the well known description of the usual bruhat order on @xmath201 : @xmath1546 if and only if @xmath1547\\mid",
    "w(i)\\in[b]\\}|\\geq |\\{i\\in[a]\\mid w'(i)\\in[b]\\}|$ ] for any @xmath1548 $ ] .",
    "the second claim follows from the fact that any element element @xmath306 which is greater than @xmath1549 in @xmath1525 should have the form @xmath1533 .",
    "in this section , we will explicitly describe how the nonnegative grassmann cells @xmath2 are glued to each other using the network parametrization @xmath291 of the cells .",
    "let @xmath18 be a plabic ( undirected ) graph and let @xmath1550 be a perfect orientation of its edges . denote by @xmath1551 the corresponding directed graph . according to theorem  [ th : reduced_plabic_parametrization ] ( or theorem  [ th : image_g_m_is_cell ] ) , for each cell",
    "@xmath281 there is a a directed graph @xmath842 as above such that the boundary measurement map @xmath1552 maps @xmath1553 onto @xmath2 . by a slight abuse of notation",
    ", we will also denote by @xmath1552 the map @xmath1554 .",
    "the map @xmath1555 uniquely extends to the continuous map @xmath1556 .",
    "this claim is trivial for an acyclic graph @xmath842 .",
    "but we allow @xmath842 to have cycles .",
    "the uniqueness is clear because @xmath1557 is a dense subset in @xmath1558 .",
    "we need to check that @xmath1552 does not have have poles as some of the edge variables @xmath6 approach @xmath24 .",
    "this follows from proposition  [ prop : subtraction_free_minor ] , which gives a rational subtraction - free expression for each maximal minor @xmath248 of the @xmath41-matrix @xmath3 that represents @xmath1559 .",
    "( this matrix has @xmath1560 for the source set @xmath74 of @xmath842 . )",
    "note that the expression in the denominator contains the constant term @xmath25 .",
    "thus we can specialize any subset of edge variables @xmath6 to @xmath24 without getting a @xmath24 in the denominator .    clearly , the image of the map @xmath1561 belongs to the closure @xmath28 .",
    "moreover , this image consists of the union of some cells @xmath555 .",
    "indeed , these are the cells that correspond ( as in theorem  [ th : image_g_m_is_cell ] ) to all directed graphs @xmath1562 obtained from @xmath842 by removing some edges .",
    "let us show that the opposite is true .",
    "for any fixed ( perfectly orientable ) plabic graph @xmath18 and any point @xmath945 in the closure @xmath28 of the corresponding cell , there exists a directed graph @xmath842 obtained by a perfect orientation of edges of @xmath18 such that @xmath1563 .",
    "let @xmath1564 .",
    "let us pick the graph @xmath1551 for some perfect orientation @xmath1550 of @xmath18 .",
    "then we can find nonnegative functions @xmath15650,1]\\to \\r_{>0}$ ] on edges @xmath13 of @xmath842 such that @xmath1566 and each @xmath1567 is of the form @xmath1568 , where @xmath1569 and @xmath1570 is real - valued analytic function such that @xmath1571 .",
    "[ lem : no_poles ] for any collection of edge functions @xmath1567 as above one can apply gauge transformations at vertices and switch edge directions along some paths and/or closed cycles as in section  [ sec : edge_switch ] to transform the @xmath1567 into functions @xmath1572 that have no poles at @xmath1573 , for all edges @xmath13 .",
    "let @xmath1574 .",
    "we may assume that we have already transformed the edge functions by gauge transformations and switching edge directions so that @xmath1112 is a big as possible and the number of edges @xmath13 such that @xmath1575 is as small as possible ( for this @xmath1112 . )",
    "if @xmath1576 then the @xmath1567 have no poles .",
    "assume that @xmath1577 .",
    "for any directed edge @xmath244 such that @xmath1575 , where @xmath240 is an internal vertex , there should be an outgoing edge @xmath1578 from the vertex @xmath240 such that @xmath1579 .",
    "otherwise , @xmath1580 for all edges @xmath1578 outgoing from @xmath240 , and we could apply a gauge transformation @xmath1581 at this vertex so that @xmath1582 increases by @xmath1583 and the @xmath1584 decrease by @xmath1585 . for a sufficiently small @xmath1586 this would make the number of edges with @xmath1587 smaller , which is impossible by our assumption . similarly , there should be an edge @xmath1588 incoming to the vertex @xmath604 such that @xmath1589 .",
    "this means that we can always find a directed path @xmath12 in @xmath842 joining two boundary vertices ( or a closed cycle @xmath223 ) such that for all edges @xmath13 in this path / cycle we have @xmath1575 .",
    "let us switch directions of edges in @xmath12 ( or @xmath223 ) and invert the edge functions @xmath1567 for these edges ; see section  [ sec : edge_switch ] .",
    "this switch would transform the @xmath1587 into @xmath1590 for all edges in the path / cycle , so again this would make the number of edges with @xmath1575 smaller , which is impossible by our assumption .",
    "thus we should have @xmath1576 , as needed .    according to lemma  [",
    "lem : no_poles ] , the graph @xmath842 and the edge functions @xmath1591 can be chosen so that the @xmath1567 have no poles at @xmath1573 .",
    "that means that the point @xmath1592 belongs to the image of @xmath1561 .",
    "we have proved the following result .",
    "[ th : closure_sm_o ] for a cell @xmath2 , pick any ( perfectly orientable ) plabic graph @xmath18 such that @xmath1103 maps onto @xmath2 .",
    "then the closure of this cell equals @xmath1593 where @xmath1550 ranges over all perfect orientations of @xmath18 .",
    "assume that @xmath18 is a contracted plabic graph .",
    "( that is @xmath18 is without unicolored edges , non - boundary leaves , and vertices of degree @xmath166 ) . for each @xmath1551",
    ", we have @xmath1594 where the union is over directed graphs @xmath1562 obtained from @xmath842 by removing some edges ( but keeping all vertices ) .",
    "if we remove a directed edge @xmath244 where @xmath604 is a black vertex and @xmath240 is white , then @xmath604 will be an internal sink and @xmath240 will be an internal source in the obtained graph . instead of removing such edge @xmath13 ,",
    "we could remove all incoming edges to the vertex @xmath604 ( and get a graph with the same image of @xmath1595 ) .",
    "thus in the above union it is enough to take only graphs @xmath1562 obtained from @xmath842 by removing some white - to - black directed edges @xmath244 , i.e. , @xmath604 is white and @xmath240 is black .",
    "notice that such graphs @xmath1562 will be perfectly oriented graphs with the same coloring of vertices as in the graph @xmath18 .",
    "for a contracted plabic graph @xmath18 , let us say that a plabic graph @xmath1025 is a _ subgraph _ of @xmath18 , and write @xmath29 , if @xmath1025 is obtained from @xmath18 by removing some edges while keeping all vertices in @xmath18 .",
    "when we remove a nonleaf edge @xmath1596 attached to a boundary vertex , we need to create a new boundary leaf at @xmath8 , whose color is opposite to @xmath240 .",
    "when we remove an edge @xmath1597 between two boundary vertices , we need to create two boundary leaves at @xmath8 and @xmath10 of different colors .",
    "( so there are two different ways to `` remove '' such edge . )",
    "we are not allowed to remove boundary leaves .",
    "note that each perfect orientation of a plabic subgraph @xmath29 uniquely extends to a perfect orientation @xmath18 .",
    "( just direct all removed edges from white vertices to black vertices . )",
    "let us call a plabic graph _ almost - reduced _ if it consists of a reduced graph possibly together with some dipoles ( isolated components with a single edge and a pair of vertices of different colors ) .",
    "theorem  [ th : closure_sm_o ] and the above discussion implies that the closure @xmath28 is the union of @xmath1598 over all perfectly orientable plabic subgraphs @xmath29 .",
    "let us show that it is enough to take only almost - reduced plabic subgraphs @xmath1025 .",
    "let @xmath18 be a perfectly orientable contracted plabic graph .",
    "then @xmath18 has an almost - reduced plabic subgraph @xmath29 such that boundary measurement maps @xmath1103 and @xmath1599 have the same images in @xmath0 .",
    "note that if we remove the edge from a dipole , then we would create a graph with a singleton ( isolated component with a single vertex ) , which is not perfectly orientable .",
    "this is why we need to consider almost - reduced subgraphs ( and not just reduced ones ) .",
    "suppose that @xmath18 is not almost - reduced .",
    "let us pick its perfect orientation @xmath842 and transform this ( directed ) graph by the moves ( m1)(m3 ) into a ( directed ) graph @xmath1198 , where we can apply a reduction ( r1 ) or ( r2 ) ; see section  [ sec : transformations_plabic ] .",
    "then we can find an edge @xmath1600 in @xmath1198 directed from a white vertex @xmath604 to a black vertex @xmath240 such that by removing @xmath1601 from @xmath1198 we will not change the image of @xmath1602 .",
    "( we need to check @xmath59 possible directions of edges in ( r1 ) ; for ( r2 ) there is only one possible direction of edges ; see figures  [ fig : edge_reduction ] and  [ fig : leaf_reduction ] . )",
    "let us transform @xmath1198 back to @xmath842 by moves ( m1)(m3 ) and keep track of the `` marked for removal '' edge @xmath1601 . in all cases when we perform a move @xmath1603 and @xmath1069 has a white - to - black marked edge @xmath1588 , one can find a white - to - black edge @xmath1604 in @xmath1605 such that the maps @xmath1606 and @xmath1607 have the same image .",
    "the only case that needs a special attention is square move ( m1 ) .",
    "note that transformations of edge weights on figure  [ fig : square_move_arrow ] involve only weights of the four edges in the square .",
    "thus , if @xmath1588 is not one of these four edges , then we can just keep this edge @xmath1608 .",
    "if @xmath1588 is one of the four edges in the square , the we can pick @xmath1604 to be the edge opposite to @xmath1588 in the square .",
    "this shows that in the ( directed ) graph @xmath842 we can always find a white - to - black edge @xmath1578 whose removal does not change the image of the map @xmath291 . thus in the undirected graph @xmath18 we can find an edge @xmath13 whose",
    "removal preserves perfect orientability and does not change the image of @xmath1609 . if the graph @xmath1610 is still not almost - reduced then we can repeatedly remove its edges using this procedure until we get an almost - reduced graph with the same image of the boundary measurement map .",
    "we proved the following result .",
    "[ th : reduced_closure ] for a cell @xmath2 , and any reduced contracted plabic graph @xmath18 associated with this cell , we have @xmath1611 where @xmath1025 ranges over all almost - reduced plabic subgraphs @xmath29 .",
    "note that each term in the right - hand side of this expression is a certain cell @xmath543 inside the closure @xmath28 .",
    "each map @xmath1612 gives a parametrization of this cell .",
    "let us describe bases of the matroid @xmath112 using theorem  [ th : reduced_closure ] .",
    "any almost - reduced subgraph @xmath29 should contain at least one edge incident to each internal vertex @xmath240 of @xmath18 .",
    "( if we remove all edges incident to @xmath240 then we would get a graph , which is not perfectly orientable . )",
    "thus _ minimal _ almost - reduced subgraphs are the subgraphs containing exactly one edge at each internal vertex .",
    "these are partial matchings of @xmath18 , discussed in the end of section  [ sec : plabic ] .",
    "each minimal subgraph @xmath29 gives a cell @xmath543 that consists of a single point and @xmath532 contains a single base @xmath1613 . for any base of @xmath112 , there is a minimal subgraph of this form .",
    "we obtain the description @xmath112 equivalent to the matching matroid @xmath1614 from lemma  [ lem : path_matchings ] .",
    "there is an analogy between the usual bruhat order on a weyl group @xmath1615 and the circular bruhat order @xmath1451 , as follows .",
    "the cells @xmath2 are analogues of weyl group elements @xmath1616 ; plabic graphs @xmath18 are analogues of reduced decompositions @xmath30 ; plabic subgraphs @xmath29 are analogues of reduced subwords in a reduced decomposition",
    ". then theorem  [ th : reduced_closure ] corresponds to the following well - known description of the bruhat order on @xmath1615 . for @xmath30 , all elements @xmath604 such that @xmath1617 ( in the bruhat order ) have reduced decompositions obtained by taking subwords in @xmath1618 .",
    "this analogy can be made more precise .",
    "each type @xmath3 reduced decomposition @xmath1619 is graphically represented by a wiring diagram .",
    "we can transform the wiring diagram into a reduced plabic graph @xmath18 with @xmath1620 boundary vertices by replacing each crossing with a pair of trivalent vertices as shown on figure  [ fig : wiring_plabic ] .",
    "the trip permutation of @xmath18 is @xmath1621 , for @xmath1622 $ ] and @xmath1623 , for @xmath1624 $ ] .",
    "subgraphs @xmath29 obtained by removing some vertical edges of @xmath18 correspond to subwords in the reduced decomposition .",
    "note that two different subgraphs of @xmath1625 might correspond to the same cell in the closure @xmath28 .",
    "( similarly , to the situation when different two subwords in a reduced decomposition give the same weyl group element . )",
    "that means that possibly there are some nontrivial identifications of components in the right - hand side of expression in theorem  [ th : reduced_closure ] .",
    "this why the description of the geometrical structure of the closure @xmath28 is a nontrivial problem .",
    "conjecturally , the closure @xmath28 is homeomorphic to an open ball .",
    "( -10,-20)(220,70 ) ( 0,00)(20,00)(40,20)(60,20)(80,40)(100,40)(120,60)(140,60)(160,60)(180,60 ) ( 0,20)(20,20)(40,00)(60,00)(80,00)(100,00)(120,00)(140,00)(160,20)(180,20 ) ( 0,40)(20,40)(40,40)(60,40)(80,20)(100,20)(120,20)(140,20)(160,00)(180,00 ) ( 0,60)(20,60)(40,60)(60,60)(80,60)(100,60)(120,40)(140,40)(160,40)(180,40 ) ( -10,0)@xmath25 ( -10,20)@xmath166 ( -10,40)@xmath59 ( -10,60)@xmath60 ( 210,0)@xmath1626 ( 210,20)@xmath1627 ( 210,40)@xmath1628 ( 210,60)@xmath1629 ( 30,-10)@xmath1630 ( 70,-10)@xmath1631 ( 110,-10)@xmath1632 ( 150,-10)@xmath1630 ( -100,-10)(120,100 ) ( -30,0)@xmath234 ( -30,30)@xmath235 ( -30,60)@xmath273 ( -30,90)@xmath274 ( 120,90)@xmath1370 ( 120,60)@xmath1371 ( 120,30)@xmath1633 ( 120,00)@xmath1634 ( -20,0)0b1 ( -20,30)0b2 ( -20,60)0b3 ( -20,90)0b4 ( 110,90)0b5 ( 110,60)0b6 ( 110,30)0b7 ( 110,0)0b8 ( 15,8.66)v1 ( 15,21.34)v2 ( 45,38.66)v3 ( 45,51.34)v4 ( 75,8.66)v5 ( 75,21.34)v6 ( 75,68.66)v7 ( 75,81.34)v8    ( 0,-5)(130,50 ) ( 0,0)(30,30 ) ( 0,30)(30,0 ) ( 50,15)(80,15 )    ( 115,8.66)v1 ( 115,21.34)v2 ( 100,0)0b1 ( 130,0)0b2 ( 100,30)0b3 ( 130,30)0b4    let us now describe the covering relation @xmath1635 in the circular bruhat order using theorem  [ th : reduced_closure ] . suppose that the cell @xmath2 covers @xmath543 .",
    "let us pick a reduced contracted plabic graph @xmath18 such that @xmath1636 and @xmath18 has no leaves and vertices of degree @xmath166 . by theorem",
    "[ th : reduced_closure ] , there is an almost - reduced subgraph @xmath1625 such that @xmath1637 .",
    "note that if @xmath1025 is obtained from @xmath18 by removing two or more edges , then it number of faces drops by at least @xmath166 . by proposition  [ prop : cb_ranked ] , the circular bruhat order @xmath1451 is a ranked poset with the rank function equal @xmath1638 .",
    "thus the codimension of @xmath543 in @xmath1639 should be @xmath25 , that is @xmath1025 is obtained from @xmath18 by removing a _ single _ edge . in this case",
    "we can not create a dipole , so @xmath1025 should be reduced .",
    "let us call an edge @xmath13 in a reduced contracted plabic graph @xmath18 _ removable _ if @xmath1640 is a reduced plabic graph . by theorem",
    "[ th : reduced_closure ] , removable edges in @xmath18 are in one - to - one correspondence with the cells covered by @xmath1641 .",
    "let @xmath18 be a reduced contracted plabic graph with the decorated trip permutation @xmath1642 .",
    "for an edge @xmath13 , let @xmath1643 and @xmath1644 be the two trips in @xmath18 that contain @xmath13 ( and pass this edge in two different directions ) .",
    "the edge @xmath13 is removable if and only if the pair @xmath1645 and @xmath1646 is a simple crossing in the decorated trip permutation @xmath1292 . in this case the decorated trip permutation of @xmath1610 is obtained from @xmath1292 by replacing this simple crossing with the corresponding alignment ; see figure  [ fig : cover_rel ] .",
    "since we have already described covering relations in theorem  [ th : circ_bruhat_cover ] , this lemma follows",
    ". we can also easily deduce it from the reducedness criterion in theorem  [ th : reduced_criterion ] .",
    "the trips of @xmath1610 are exactly the same as the trips of @xmath18 , except that we need to switch tails of @xmath1156 and @xmath1157 at the their ( essential ) intersection point at @xmath13 . according to theorem  [ th : reduced_criterion ] ,",
    "the graph @xmath1647 is reduced if and only if the trips @xmath1156 and @xmath1157 have only one essential intersection at @xmath13 ; and there is no any other trip @xmath1648 that intersects the part of @xmath1156 before @xmath13 and then the part of @xmath1157 after @xmath13 ; and vise versa . the means that the pair @xmath1645 and @xmath1646 is a simple crossing in @xmath1292 . on the other hand , for a simple crossing in @xmath1292 , the corresponding pair of trips should intersect only once .",
    "otherwise , if they intersect @xmath1649 times , then there is another trip @xmath1648 that passes through , say , the second intersection point of @xmath1156 and @xmath1157 .",
    "this trip can not intersect the tails of @xmath1156 and @xmath1157 ( after all their intersection points ) .",
    "thus @xmath1648 should end at a boundary point between @xmath310 and @xmath311 .",
    "( here we assume that the vertices are arranged on the circle as in the crossing on figure  [ fig : cross_align ] and the word `` between '' means `` between in the clockwise order '' . ) similarly , @xmath1648 should start at a boundary point between @xmath10 and @xmath8 .",
    "so the crossing in @xmath1292 would not be simple . also if there is a trip @xmath1650 that first intersects with the initial part of @xmath1156 before @xmath13 and then intersects with the part of @xmath1157 after @xmath13 , then again the trip",
    "@xmath1650 would form an obstruction for a simple crossing .",
    "for a cell @xmath2 and a reduced contracted plabic graph @xmath18 such that @xmath1651 , the cells @xmath543 that are covered by @xmath2 are in one - to - one correspondence with removable edges @xmath13 of @xmath18 .",
    "they have the form @xmath1652 .",
    "let us show how to glue such adjacent cells @xmath2 and @xmath543 together . for",
    "a reduced plabic graph @xmath18 and a removable edge @xmath1653 , pick a perfect orientation @xmath1550 of @xmath1610 .",
    "let @xmath842 be the graph obtained by directing edges of @xmath18 so that the edge @xmath13 is directed from a white vertex to a black vertex and other edges are directed as in @xmath1550 .",
    "let @xmath1654 and @xmath1655 , be the edge and vertex sets of @xmath842 .",
    "let @xmath1656 be the space of edge weights @xmath1657 such that @xmath1658 , for @xmath1659 , and @xmath1660 .",
    "then @xmath1661    the map @xmath1662 induces the bijective map @xmath1663 the restriction of this map to the subset given @xmath207 is a parametrization of @xmath2 and the restriction of this map to the subset @xmath1664 is a parametrization of @xmath543 .",
    "rietsch constructed cellular decomposition of the totally nonnegative part of @xmath4 ; see @xcite . in this section",
    "we show that rietsch s cells are in one - to - one correspondence with the cells @xmath2 .",
    "let us fix the pair @xmath1092 as before .",
    "recall that a permutation @xmath129 is called _ grassmannian _ if @xmath31 is the minimal length representative of a left coset @xmath1665 .",
    "in other words , @xmath31 is a grassmannian permutation if @xmath1666 and @xmath1667 .    in case of the grassmannian @xmath19 , rietsch",
    "s cells are labeled by pairs of permutations @xmath610 in @xmath1668 such that @xmath1617 in the bruhat order on @xmath1615 and @xmath31 is a grassmannian permutation .",
    "let us construct a bijection between such pairs and @xmath22-diagrams .",
    "grassmannian permutations are in bijection with partitions @xmath1669 .",
    "this bijection can be described as follows .",
    "rotate the young diagram of shape @xmath23 by @xmath1670 counterclockwise and draw the wiring diagram with @xmath7 wires going along the rows of @xmath23 and @xmath9 wires going along the columns of @xmath23 .",
    "label both ends of the wires by numbers @xmath52 starting from the bottom .",
    "this wiring diagram represents a permutation @xmath1671 such that the wires connect the indices @xmath357 on the left with the @xmath1672 on the right ; see figure  [ fig : grass_perm ]",
    ". using our earlier notation , we can describe this permutation as @xmath1673 , where @xmath1674 , @xmath35\\setminus i(\\lambda ) = \\{j_1<\\cdots < j_{n - k}\\}$ ] , and @xmath1675 ; see section  [ sec : grassmannian ] .",
    "it is clear that the length @xmath1676 ( the number of inversions ) equals @xmath1677 .",
    "let @xmath404 be a -diagram of shape @xmath23 .",
    "again rotate it by @xmath1670 counterclockwise .- diagram .",
    "] for each box of @xmath23 filled with a @xmath25 in @xmath404 ( shown by a dot ) , we replace the corresponding crossing in the wiring diagram of @xmath1671 by an uncrossing , as shown on figure  [ fig : grass_le_diag ] .",
    "the obtained `` pipe dream '' is a wiring diagram of a certain permutation in @xmath128 , which we denote by @xmath1678 .",
    "[ th : le - bruhat ] the map @xmath1679 is a bijection between -diagrams of shape @xmath23 and permutations @xmath1680 such that @xmath1681 in the bruhat order on @xmath128 .",
    "the number of @xmath25 s in @xmath404 equals @xmath1682 .",
    "[ lem : distinguish_subword ] marsh - rietsch  ( * ? ? ?",
    "* lemma  3.5 ) let @xmath30 be a reduced decomposition of a weyl group element @xmath1616 .",
    "then , for any @xmath604 such that @xmath1617 in the bruhat order , there is unique subset @xmath1683 $ ] such that @xmath1684 and @xmath1685 , for all @xmath1686 $ ] , where @xmath1687 for @xmath114 and @xmath1688 otherwise .",
    "clearly , @xmath1684 should be a reduced decomposition .",
    "it is well - known that for any @xmath1617 there is a subword in a reduced decomposition @xmath30 which gives a reduced decomposition of @xmath604 ; see  @xcite . however , there are usually many such subwords .",
    "the above lemma describes one distinguished subword for each @xmath1617 .",
    "remark that the subset @xmath189 described in the lemma  [ lem : distinguish_subword ] is exactly the _ lexicographically minimal _ subset in @xmath1689 $ ] that produces a reduced decomposition of @xmath604 .    in type @xmath3 case ,",
    "the condition of lemma  [ lem : distinguish_subword ] have a simple combinatorial description .",
    "a reduced decomposition of @xmath31 corresponds to a wiring diagram @xmath1690 where the wires are not allowed to cross more than once .",
    "subwords in the reduced decomposition correspond to diagrams @xmath1691 obtained from @xmath1690 by replacing some crossings of with uncrossings ( like we did above for @xmath1671 ) .",
    "the condition of lemma  [ lem : distinguish_subword ] says that once two wires in @xmath1691 intersect with each other they can never intersect or even _ touch _ each other again . here",
    "`` touch '' means that the two wires participate in the same uncrossing of @xmath1691 .",
    "for example , this condition fails for the wiring diagram shown on figure  [ fig : grass_le_diag ] .",
    "indeed , the two wires whose left ends are labeled by @xmath60 and @xmath1361 intersect each other and then arrive to the same uncrossing . however ,",
    "if we take the mirror image of the condition ( with respect to the vertical axis ) then we will get exactly what we need .",
    "let @xmath1692 be the set of pipe dreams obtained from the wiring diagram of @xmath1671 by replacing some crossings with uncrossings so that the following conditions hold :    1 .",
    "two wires can intersect at most once .",
    "2 .   if two wires do intersect at point @xmath12 , then they can not participate in the same uncrossing to the left of @xmath12 .",
    "the set @xmath1692 corresponds to the subwords in a reduced decomposition of @xmath1671 that satisfy the ( mirror image ) of marsh - rietsch s condition .",
    "the set @xmath1692 is exactly the set of pipe dreams coming from -diagrams , as described above .",
    "recall that -diagrams @xmath404 can be described as follows .",
    "for any box @xmath737 filled with a @xmath24 in @xmath404 , either all boxes above @xmath737 or all boxes below @xmath737 are filled with @xmath24 s .",
    "let us translate this -condition in the language of pipe dreams .",
    "it says that , for any crossing of two wires at point @xmath12 , at least one of these wires does not participate in any uncrossing before @xmath12 . so that one of these wires goes directly from the boundary of @xmath23 ( from the north - west or from the south - west ) to the intersection point @xmath12 without making any turns .",
    "clearly , such pipe dreams belong to the set @xmath1692 .",
    "let us now show the opposite inclusion .",
    "suppose that the -condition fails at some point @xmath12 .",
    "that means that both wires intersecting at @xmath12 diverge from the straight course before @xmath12 .",
    "let @xmath3 and @xmath188 be the points where the wires make the last turns before arriving to @xmath12 ; see figure  [ fig : abcp ] .",
    "let us consider the rectangle @xmath1693 with the vertices @xmath1694 and another vertex @xmath223 .",
    "let us assume that our failed -condition was chosen so that the size of the rectangle @xmath1693 ( say , its perimeter ) is a small as possible .",
    "then any other wire that intersects with the side @xmath1695 or @xmath1696 of @xmath1693 can not make any turn in the rectangle @xmath1693 .",
    "indeed , if it makes a turn then it gives another failed -condition with a smaller rectangle .",
    "thus all other wires go straight through the rectangle @xmath1693 as shown on figure  [ fig : abcp ] .",
    "thus means that the two wires that intersect at @xmath12 should either intersect or touch each other at @xmath223 .",
    "this means that the condition describing the set @xmath1692 also fails .",
    "this proves theorem  [ th : le - bruhat ] and shows that our cells are in bijection with rietsch s cells .",
    "this implies theorem  [ th : rietsch = equal ] saying that these two cell decompositions coincide .",
    "the cells @xmath2 are in bijection with -diagrams ( theorem  [ th : g_d ] ) and also in bijection with decorated permutations ( theorem  [ th : sm_dec_perm ] ) . in this section",
    "we discuss the induced bijection between -diagrams and decorated permutations .",
    "let us pick a -diagram @xmath404 of shape @xmath68 , transform it into @xmath415-graph @xmath1697 , and then transform this graph into a plabic graph @xmath1698 ( see section  [ sec : perfection ] ) .",
    "in other words , we need replace @xmath60-valent vertices of @xmath1697 by pairs of trivalent vertices and color the vertices as shown on figure  [ fig : gamma_plabic ]",
    ". theorems  [ th : g_d ] and  [ th : sm_dec_perm ] , and proposition  [ prop : matorid_to_perm ] imply that the corresponding decorated permutation is the decorated trip permutation of the obtained graph .",
    "the map @xmath1699 is a bijection between -diagrams of shape @xmath47 and decorated permutations with the anti - exceedance set @xmath125 .",
    "the rules of the road for plabic networks ( see figure  [ fig : trip_rules ] ) translate into the rules of the road for @xmath415-graphs shown on figure  [ fig : gamma_rules ] .",
    "so the decorated permutation @xmath1292 corresponding to a -diagram @xmath404 can be described as follows .",
    "the empty rows ( columns ) or @xmath404 correspond to white ( black ) fixed points of @xmath1292 .",
    "for other entries we need to follow trips in the graph @xmath415-graph @xmath1700 .",
    "let us trace _ backwards _ the trip that ends at a boundary vertex @xmath8 located on a vertical segment of the boundary .",
    "we need to go from @xmath8 all the way to the left until we hit a @xmath415-turn or a @xmath1701-fork ( the first and the third segments shown on figure  [ fig : gamma_rules ] ) , then turn down and go until the first junction , then turn right and go until the first junction , then turn down , then right , etc .",
    "we need to keep going in this zig - zag fashion until we hit the boundary at a boundary vertex @xmath10 .",
    "then we should have @xmath1702 in the corresponding permutation .",
    "the rule for trips that end on a horizontal segment of the boundary is the symmetric to the above rule ( with respect to the axis @xmath1703 .",
    "steingrimsson - williams  @xcite investigated nice properties of this bijection @xmath1699 with respect to various statistics on permutations and -diagrams .",
    "let us give a simpler description of the bijection between -diagrams and decorated permutations using the bijection @xmath1679 constructed in section  [ sec : bruhat_intervals ] .",
    "let @xmath1704 be the grassmannian permutation associated with @xmath68 , where @xmath1705 , @xmath1706\\setminus i(\\lambda ) = \\{j_1<\\cdots < j_{n - k}\\ } $ ] , and @xmath1675 .",
    "[ lem : usn ] for a permutation @xmath1680 , we have @xmath1681 in the bruhat order if and only if @xmath1707 and @xmath1708 .    according to the well - known description of the bruhat order on @xmath128",
    ", we have @xmath1681 if and only if @xmath1709\\mid u(i)\\in [ b]\\ } \\leq \\{i\\in[a]\\mid w_\\lambda(i)\\in [ b]\\}$ ] , for any @xmath1461 $ ] .",
    "this translates into the needed inequalities .",
    "let us now describe the map @xmath1710 from permutations @xmath1681 to decorated permutations @xmath1292 with the anti - exceedance set @xmath125 .",
    "it is given by @xmath1711 , ",
    ", @xmath1712 ( with fixed points colored in white ) , and @xmath1713 ,  , @xmath1714 ( with fixed points colored in black ) .",
    "the map @xmath1715 is a bijection between the bruhat interval @xmath1716 and decorated permutations with anti - exceedance set @xmath125 .",
    "the map @xmath1717 is the bijection between -diagrams and decorated permutations , which coincides with the above map @xmath1699 .",
    "the first claim follows directly from lemma  [ lem : usn ] .",
    "the second claim is obtained by comparing the constructions of @xmath1718 and @xmath1719 .",
    "let @xmath1720 be the number of totally nonnegative cells in the grassmannian @xmath19 .",
    "recall that the _ eulerian number _",
    "@xmath1721 is the number of permutations @xmath129 such that @xmath31 has @xmath1722 descents : @xmath1723 \\mid w(i ) > w(i+1)\\ } = k-1 $ ] .      according to theorem  [ th : sm_dec_perm ] ,",
    "@xmath1720 is the number of decorated permutations @xmath1292 of size @xmath27 with @xmath7 anti - exceedances .",
    "if we remove black fixed points from @xmath1292 we get a usual permutation with @xmath7 anti - exceedances .",
    "it is well - know that the eulerian number count such permutations . the second claim is obtained from the known generating function for the eulerian numbers .",
    "let @xmath1731 be the generating function for the nonnegative cells @xmath281 counted according to their dimension . by theorem",
    "[ th : g_d ] , we have @xmath1732 where the sum is over -diagrams whose shape fits inside the rectangle @xmath49 , and @xmath420 denotes the number of 1 s in the diagram .",
    "teuton _ as a chesspiece that can move only downwards and to the right .",
    "in order to attack a piece , two teutons need to simultaneously charge from two different directions in a wedge - shaped formation .",
    "teuton placement _ is a placement of several teutons on a board such that no pair of teutons can attack another teuton . in other words ,",
    "a teuton placement is a subset @xmath619 ( possibly empty ) of boxes on some board ( say , a young diagram ) such that for any three boxes @xmath1736 in a -shaped pattern ( as on figure  [ fig : le_property ] ) , if @xmath1737 then @xmath1738 .          1 .   the number of nonnegative cells @xmath2 inside the schubert cell @xmath26 .",
    "2 .   the number of -diagrams of shape @xmath23 .",
    "the number of decorated permutations with anti - exceedance set @xmath125 .",
    "4 .   the number of teuton placements on the young diagram of shape @xmath23 5 .   the number of rook placements with @xmath27 rooks on the skew young diagram of shape @xmath1746 . 6 .   the number of permutations in the bruhat interval @xmath1747 . 7 .   the number of regions of the hyperplane arrangement @xmath1748 .",
    "it seems that , for many permutations @xmath129 , the number of regions in @xmath1749 equals to the number of elements in the bruhat interval @xmath1750 .",
    "for example , this is true for the longest permutation @xmath1751 .",
    "however this is not true for the four permutations in @xmath1752 with reduced decompositions @xmath1753[s_5 ] s_3 s_2 s_4 $ ] , where the terms is the brackets might be omitted .",
    "we suspect that the equality holds if and only if @xmath31 avoids the four patterns given by these permutations .",
    "the number of -diagrams @xmath404 of the triangular shape @xmath1754 such that @xmath404 contains no 1 s in the @xmath27 corner boxes equals @xmath133 .",
    "the bijection from this set of diagrams to permutations is constructed as follows . for @xmath1297 $ ] ,",
    "let @xmath1755 be the positions of 1 s in the @xmath357-th column of @xmath404 .",
    "the the permutation @xmath129 corresponding to @xmath404 is given by the following product of cycles : @xmath1756                                                  n.  e.  mnv : the universality theorems on the classification problem of configuration varieties and convex polytope varieties , in `` topology and geometry  rohlin seminar , '' o.  ya .",
    ", _ lecture notes in mathematics * 1346 * _ , springer , heidelberg .                  b.  sturmfels : totally positive matrices and cyclic polytopes , proceedings of the victoria conference on combinatorial matrix analysis ( victoria , bc , 1987 ) , _ linear algebra and its applications * 107 * _ ( 1988 ) , 275281 ."
  ],
  "abstract_text": [
    "<S> the aim of this paper is to discuss a relationship between total positivity and planar directed networks . </S>",
    "<S> we show that the inverse boundary problem for these networks is naturally linked with the study of the totally nonnegative grassmannian . </S>",
    "<S> we investigate its cell decomposition , where the cells are the totally nonnegative parts of the matroid strata . </S>",
    "<S> the boundary measurements of networks give parametrizations of the cells . </S>",
    "<S> we present several different combinatorial descriptions of the cells , study the partial order on the cells , and describe how they are glued to each other . </S>"
  ]
}