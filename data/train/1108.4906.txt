{
  "article_text": [
    "the set of efficiently produced quantum states of light is limited .",
    "it is especially difficult to produce non - classical non - gaussian superpositions",
    ". nevertheless , with quantum state engineering certain properties of accessible states can be modified or enhanced .",
    "in particular , measurement induced state operations which facilitate preparing a quantum state for some further tasks , allow filtering out states of required features and may lead to non - gaussian characteristics of the resulting states .",
    "often , they involve intensity measurements , for which crucial are threshold detectors , selecting fock states or their superpositions with sufficiently high population .",
    "examples of low - threshold detectors are realized with single photon on - off detectors or human eyes  @xcite .",
    "they can be applied in setups that perform povm measurements  @xcite leading to quantum operations . as a result , it is possible to block light of unwanted properties ( too low or too high intensity ) .",
    "more complicated filters for fock states utilize interference effects  @xcite .",
    "a more challenging task is to construct a filter selecting states of certain properties ( on request ) , while preserving quantum superpositions .",
    "this is very important for superpositions of the schrdinger - cat type .",
    "recently , macroscopic quantum superpositions became experimentally accessible for light in the form of the micro - macro singlet state  @xcite and the entangled bright squeezed vacuum  @xcite .",
    "in the former state , produced by optimal quantum cloning , a single photon is entangled with a `` macroscopic '' qubit in a polarization singlet state .",
    "the latter is a macroscopic analog of two - photon polarization bell states  @xcite .",
    "since these states combine quantum properties with macroscopic population and could enable efficient light - matter coupling , they are interesting for quantum information technology : quantum memory  @xcite , quantum key distribution  @xcite , quantum metrology  @xcite and macroscopic bell tests  @xcite . however , their distinguishability is low in analog detection and they are easily destroyed by losses  @xcite .",
    "special quantum state filtering applied to these states gives hope to solve the problem of detection and to enhance their properties useful for quantum technology tasks .",
    "we present a theory of a device capable of filtering out two - mode states of light with mode populations differing by more than a certain threshold .",
    "we call it modulus of intensity difference filter ( mdf ) .",
    "it performs a non - gaussian operation and works as quantum scissors  @xcite for general two - mode fock state superpositions .",
    "we show that , effectively , mdf filters out superpositions of n00n - like components , allowing an enhanced optical phase estimation with macroscopic quantum states of light .",
    "we also show that it improves distinguishability of `` macroscopic '' qubits in realistic scenarios .",
    "we propose a simple optical scheme , which gives an approximate operational implementation of such a filter for two orthogonal ( linear ) polarization modes .",
    "the field is fed into a polarization neutral ( tapping ) beam splitter of low reflectivity .",
    "the weak reflected modes are suitably interfered on a polarizing beam splitter oriented such that it selects diagonal and anti - diagonal polarization modes with respect to the original ones .",
    "the more an incoming two - mode fock state is unequally populated , the more the output modes are roughly equally populated . since the reflected and transmitted beams are correlated , estimating the modulus of population difference for the former gives an estimate for the latter .",
    "this effect is especially pronounced for highly populated states . after a photon - number measurement of the outputs of the polarizing beam splitter",
    ", a feed - forward loop can be used to let through a shutter the field , which was transmitted by the tapping beam splitter , only in the case of roughly equal counts at the outputs .",
    "such a field differs strongly in occupation number of the two modes , while information on which mode is more populated is non - existent .",
    "thus , a necessary condition for preserving superpositions is satisfied .",
    "the paper is organized as follows . in section [ sec2 ]",
    "we discuss the theoretical description and properties of modulus of intensity difference filter . in section [ sec3 ]",
    "we analyze the action of the theoretical mdf on `` macroscopic '' qubits , a part of micro - macro polarization singlet state .",
    "section [ sec4 ] is devoted to the operational scheme giving effectively an mdf .",
    "we define an mdf as a device which performs the following projection operation @xmath0 where @xmath1 is a two - mode fock state . for simplicity ,",
    "let us consider polarization modes .",
    "if @xmath2 the filter acts as `` quantum scissors ''  @xcite .",
    "it cuts out those fock components for which the modulus of occupation difference is below the threshold ( @xmath3 ) , and preserves the ones with the modulus of difference above it ( @xmath4 ) .     and @xmath5 denote numbers of photons in two orthogonal polarization modes.,title=\"fig:\",height=113]0.5 cm   and @xmath5 denote numbers of photons in two orthogonal polarization modes.,title=\"fig:\",height=113 ] +    we would like to comment on two key features of the filter . first of all , it estimates the absolute value of the difference instead of the difference .",
    "this procedure is experimentally more demanding , but it has an advantage . since all non - zero eigenvalues of the operator @xmath6 are equal to @xmath7 , the filter does not provide any information on which polarization mode was more populated .",
    "thus , if a qubit is encoded in highly populated polarization states , like e.g. in eq .",
    "( [ macro - qubits ] ) , it does not discriminate these states and filters them fairly .",
    "this property is important for all quantum protocols requiring state preparation without the state readout .",
    "the other main feature is that the filtering is performed in a `` yes''-``no '' manner : the exact value of the modulus is _ never _ measured .",
    "this is a key property for quantum protocols which require engineering preserving the superposition . for these reasons we call this",
    "device a filter .",
    "these features are the main difference between the mdf and the orthogonality filter ( of ) executing direct intensity difference measurements  @xcite .",
    "the of is the basic element in setups performing measurement induced operations on macroscopic polarization states  @xcite .",
    "contrary to the mdf which performs a non - destructive measurement , the of destroys superpositions and allows only for efficient state discrimination in detection , not filtering , and is not suitable for preselection strategies in bell tests  @xcite . in the case of a micro - macro singlet",
    ", it identifies the state and breaks entanglement .",
    "the action of the mdf and of is compared in fig .",
    "[ fig : filtering ] . mdf projects onto @xmath8 and @xmath9 area .",
    "superpositions of components belonging to @xmath8 and @xmath9 are preserved .",
    "of , combined with photomultipliers , projects the state on a fock state either in @xmath8 or @xmath9 , illustrated as a red or blue dot in fig .",
    "[ fig : filtering ] .",
    "let us analyze the action of the operator @xmath6 on specific `` macroscopic '' qubits ( macro - qubits ) , which are the macroscopic part of micro - macro polarization singlets .",
    "they are produced by optimal phase covariant quantum cloning via phase sensitive parametric amplification  @xcite of single photons of a defined polarization ( @xmath10 or @xmath11 , respectively ) @xmath12 where e.g. states @xmath1 represent @xmath13 photons in polarization state @xmath14 , and @xmath5 in @xmath15 , which in turn are defined as @xmath16 and @xmath17  @xcite , where @xmath18 and @xmath19 represent linear horizontal and vertical polarizations .",
    "the probability amplitudes equal @xmath20 , where @xmath21 is the parametric gain .",
    "due to a different parity of occupation numbers of the two polarizations , the states @xmath22 and @xmath23 are orthogonal .    in a recent experiment",
    "@xcite , realizations of such states contained up to @xmath24 photons on average .",
    "however , in high photon number regime the detectors are not single photon resolving , but distinguish counts varying by at least @xmath25 photons  @xcite .",
    "thus , macro - qubits are hardly distinguishable with direct detection  @xcite .    to overcome this problem ,",
    "an mdf could be used to enhance the distinguishability .",
    "two important traits of the states are crucial .",
    "the average number of photons in polarization @xmath10 in @xmath22 is three times higher than the number of photons in polarization @xmath26 , and _",
    "vice versa _ for @xmath23 .",
    "further , if one excludes superposition components with approximately identical numbers of photons in the two polarizations , this ratio increases .",
    "thus , an mdf would definitely increase the distinguishability of the states .",
    "imagine a scheme which uses an mdf , and behind it we place detection station which measures number of photons in the two polarization modes .",
    "in such a case the distinguishability may be quantified in terms of photon distributions @xmath27 and @xmath28 giving the probabilities of finding simultaneously @xmath13 photons in polarization @xmath10 and @xmath5 in  @xmath26 .",
    "for the filtered macro - qubits with the operator @xmath6 they equal ( see appendix  a ) @xmath29 where @xmath30 are renormalized @xmath31 , and @xmath32 is the kronecker delta .",
    "since the distribution @xmath33 is mirror reflected with respect to @xmath34 along the @xmath35 line , we divide the space @xmath36 into two triangular areas @xmath8 for @xmath37 and @xmath9 for @xmath38 .",
    "the distinguishability reads @xmath39 where @xmath40 is the probability of finding @xmath22 in @xmath41 and @xmath42 .",
    "it increases if @xmath22 ( @xmath23 ) starts to occupy mostly one of @xmath41 regions , e.g.  @xmath8 ( @xmath9 ) , with increasing @xmath43 .",
    "fully distinguishable ( indistinguishable ) states have @xmath44 ( @xmath45 ) .    originally , the photon - number distribution @xmath46 occupies both @xmath8 and @xmath9 and is almost equally distributed between them giving @xmath47 , independently of the gain @xmath21 , see fig .",
    "[ fig : qfuncideal]a . fig .",
    "[ fig : qfuncideal ] is plotted for @xmath48 .",
    "the filtering cuts out a stripe , @xmath49 wide , located symmetrically along the @xmath35 line . in fig .",
    "[ fig : qfuncideal]b we took @xmath50 .",
    "the state @xmath51 occupies two disjoint regions of space : the bottom ( @xmath8 ) and top ( @xmath9 ) triangles , but increasing the threshold from @xmath52 to @xmath53 reduces the contribution of @xmath54 in @xmath9 : the peak value goes down originally from @xmath55 to @xmath56 .",
    "simultaneously , the distribution peak in @xmath8 increases from @xmath57 to @xmath58 .",
    "similar behavior is observed for higher gains .",
    "the behavior of @xmath59 is identical but mirror reflected .",
    "thus , distinguishability increases .     for the macroscopic state @xmath22 computed for @xmath48 and filtering threshold @xmath60 ( a ) and @xmath50 ( b ) .",
    "@xmath13 and @xmath5 denote numbers of photons in two orthogonal polarization modes .",
    "the one - dimensional plots show values of @xmath34 for @xmath61 ( the left one ) and @xmath62 ( the bottom one ) , respectively.,title=\"fig:\",height=170 ] +   for the macroscopic state @xmath22 computed for @xmath48 and filtering threshold @xmath60 ( a ) and @xmath50 ( b ) . @xmath13 and @xmath5 denote numbers of photons in two orthogonal polarization modes .",
    "the one - dimensional plots show values of @xmath34 for @xmath61 ( the left one ) and @xmath62 ( the bottom one ) , respectively.,title=\"fig:\",height=170 ] +     for the macroscopic state @xmath22 computed for @xmath48 , filtering threshold @xmath50 and @xmath63 ( a ) and @xmath64 ( b ) of losses . @xmath13 and @xmath5 denote numbers of photons in two orthogonal polarization modes .",
    "the one - dimensional plots show values of @xmath34 for @xmath61 ( the left one ) and @xmath62 ( the bottom one ) , respectively.,title=\"fig:\",height=170 ] +   for the macroscopic state @xmath22 computed for @xmath48 , filtering threshold @xmath50 and @xmath63 ( a ) and @xmath64 ( b ) of losses . @xmath13 and @xmath5 denote numbers of photons in two orthogonal polarization modes .",
    "the one - dimensional plots show values of @xmath34 for @xmath61 ( the left one ) and @xmath62 ( the bottom one ) , respectively.,title=\"fig:\",height=170 ]    the effect of increased distinguishability remains even in the presence of losses .",
    "the losses can be modeled by a beam splitter ( bs ) with a reflectivity @xmath65 ( see appendix a ) put in front of an ideal detector .",
    "the @xmath54 distributions evaluated for @xmath48 , @xmath50 and @xmath63 and @xmath64 of losses are depicted in fig .",
    "[ fig : qfunc ] . the loss results in shifting the distribution towards the origin of the coordinates , i.e.  the vacuum state .",
    "the distribution peaks become smooth and symmetric .",
    "the edges along the threshold lines are blurred and the bigger the losses , the smaller the width of the gap .",
    "it disappears completely for @xmath64 of losses . with increasing losses",
    "the height of the upper and left peak first drops , and next increases , because the total probability over the whole space @xmath36 has to be 1 .     of macro - qubits",
    "( [ eq : distinguishability ] ) ) evaluated for gain @xmath48 and several threshold values @xmath66 as function of losses @xmath65.,title=\"fig:\",height=188 ] +    for states ( [ macro - qubits ] ) we have numerically computed their distinguishability @xmath67 for gain @xmath48 and several filtering thresholds @xmath66 as a function of losses , see fig .",
    "[ fig : visibilities ] . if no filtering is applied , then @xmath47 , but drops quickly to @xmath68 if @xmath69 .",
    "if @xmath43 increases , @xmath67 increases as well and approaches unity with a reasonable probability of success , e.g.  @xmath70 with @xmath71 .",
    "obviously , for @xmath72 the states become vacuum and we get @xmath45 independently of @xmath43 ( this is indicated by an open circle in the upper curves and a full circle in the solid line in fig .  [",
    "fig : visibilities ] ) .",
    "our scheme for an approximate realization of an mdf for polarization modes is shown in fig .",
    "[ fig : mzi]a . the setup in fig .",
    "[ fig : mzi]b shows its application for the measurement induced operations on quantum states .",
    "it uses tapping of the original field , with a polarization neutral bs of a low reflectivity ( fig .",
    "[ fig : mzi]b ) .",
    "the reflected beams , @xmath73 , @xmath74 are suitably interfered on a polarizing beam splitter ( pbs ) oriented such that it selects unbiased polarization modes with respect to the original ones ( fig .",
    "[ fig : mzi]a ) .",
    "the more an incoming two - mode fock state is unequally populated , the more the output modes are roughly equally populated .",
    "this effect is especially pronounced for highly populated states , and additionally for such states we expect strong population correlations between the original fields and the tapped one .",
    "thus , after a photon - number measurement of pbs outputs , a feed - forward loop can be used to let through a shutter the field , that was transmitted by the tapping bs .",
    "this happens only in the case of roughly equal counts at the outputs .",
    "such a field differs strongly in occupation number of the two modes , while information on which mode is more populated is non - existent ( a necessary condition for preserving superpositions ) .",
    "let us move to the details of operation of the part of the device shown in fig .",
    "[ fig : mzi]a .",
    "a two - mode @xmath75 , @xmath76 polarization light beam enters pbs which works in a basis @xmath77 , @xmath78 unbiased with respect to the basis in which we write the original superposition .",
    "for example , the beam could be defined in diagonal/ anti - diagonal basis , while pbs may select in left - handed / right - handed polarization basis .",
    "let us denote the annihilation operators of the polarization modes entering pbs by @xmath79 , @xmath74 .",
    "pbs transforms them according to the unitary operation such that its output mode operators equal @xmath80 , @xmath81 .",
    "the two orthogonally polarized exit beams @xmath77 and @xmath78 , propagate to a pair of detectors , which measure their photon numbers @xmath82 and @xmath83",
    ".    we will examine the work of the setup ( fig .",
    "[ fig : mzi]a ) by its action on a general two - mode polarization input state which is a fock state @xmath84 .",
    "detection behind pbs projects this state onto a two - mode fock state @xmath85 .",
    "the states @xmath86 form a basis in the considered subspace of photon states .",
    "note , that one can introduce a different indexation of the basis , namely @xmath87 , where @xmath88 and @xmath89 , which is one - to - one .",
    "let us denote such basis states @xmath90 .",
    "the states @xmath91 also form such a basis , which is related to the previous one via the unitary transformation of bs .",
    "the probability of obtaining @xmath91 from @xmath90 input is @xmath92 .",
    "however , @xmath93 due to the bi - stochastic nature of such quantum probabilities  @xcite . note that the measured total number of photons @xmath94 , if the initial state is @xmath90 , must be @xmath95 .",
    "let us change the variables @xmath96 and @xmath97 , so that they would correspond to the quantities useful for the further analysis of the filtering : the total sum @xmath98 and the population difference @xmath99 of the registered photons .",
    "the probability distribution of the occupation difference @xmath100 in the incoming modes @xmath75 and @xmath76 given that @xmath98 and @xmath101 were measured @xmath102 , due to the fact that under bs transformation @xmath103 is proportional to the kronecker delta @xmath104 , simplifies to the following @xmath105 the calculations that lead one to the formula closely resemble the ones presented in appendix b , for a slightly more general process .     in a superposition fock input state @xmath106 conditioned on the measurement of @xmath107 photons and @xmath108 ( a ) ,",
    "@xmath109 ( b ) , @xmath110 ( c ) at the pbs output .",
    "the vertical dashed lines show the threshold @xmath111 .",
    "the probability that @xmath112 is given by @xmath113.,title=\"fig:\",height=132 ] +   in a superposition fock input state @xmath106 conditioned on the measurement of @xmath107 photons and @xmath108 ( a ) , @xmath109 ( b ) , @xmath110 ( c ) at the pbs output .",
    "the vertical dashed lines show the threshold @xmath111 .",
    "the probability that @xmath112 is given by @xmath113.,title=\"fig:\",height=132 ] +   in a superposition fock input state @xmath106 conditioned on the measurement of @xmath107 photons and @xmath108 ( a ) , @xmath109 ( b ) , @xmath110 ( c ) at the pbs output .",
    "the vertical dashed lines show the threshold @xmath111 .",
    "the probability that @xmath112 is given by @xmath113.,title=\"fig:\",height=132 ] +    the analysis of eq .",
    "( [ distribution ] ) shows that for a fock state input with @xmath114 one finds @xmath115 with higher probability than @xmath116 . _",
    "vice versa _",
    ", when @xmath117 the result @xmath116 is more likely than @xmath115 @xcite .",
    "thus , the filter works probabilistically and for any outcome @xmath98 and @xmath101 obtained all values of @xmath100 are possible , but not equally probable .",
    "so we argue if @xmath97 and @xmath96 differ little , @xmath118 , @xmath119 is the most probable case , which means that a large initial population difference is anticipated . if @xmath97 and @xmath120 differ a lot , @xmath121 , we obtain that @xmath122 is favored and a small initial population difference has probably occurred . figs .",
    "[ fig : single_mzi_s200 ] depict the probability distribution @xmath123 plotted for exemplary values of @xmath107 , @xmath124 , @xmath125 and @xmath126 .",
    "the erratic shape of distributions in figs .",
    "[ fig : single_mzi_s200 ] reveals the interference between two non - zero fock states entering a beamsplitter .    imposing a filtering threshold in eq .",
    "( [ theoretical - preselection ] ) corresponds to fixing two independent threshold values .",
    "we choose a threshold value @xmath43 for which we check if @xmath127 .",
    "next , since the process is probabilistic ( is governed by the probability distribution @xmath123 ) , we fix the level of trust for it , i.e. the minimum probability , e.g. equal @xmath64 , with which the condition @xmath127 is fulfilled . the probability that the condition holds true",
    "is denoted by @xmath128 .",
    "it is evaluated by summing all probabilities @xmath123 of these possibilities where @xmath127 , i.e. for @xmath129 \\cup [ \\delta_{th } , s ] $ ] .",
    "thus , if for a fixed value of @xmath43 @xmath98 increases , the probability @xmath130 increases as well . in fig .  [",
    "fig : single_mzi_s200 ] we set @xmath111 . for @xmath126 , the probability of @xmath112 equals @xmath131 and thus , this event is discarded . for @xmath124 ,",
    "the probability is @xmath132 and the event is accepted .    in order to apply the mdf for the measurement induced operations , e.g.",
    "preparing the state for some further tasks , the whole setup must be like the one in fig .",
    "[ fig : mzi]b .",
    "a small portion of an incoming light is reflected ( tapped ) by a highly biased bs and examined by the scheme of fig .",
    "[ fig : mzi]a located in a feed - forward loop . since the reflected and transmitted beams are correlated , estimating the modulus of the population difference for the former gives an estimate for the latter . in this case",
    ", the mdf conditioned on the measurement outcome for the reflected beam , activates a shutter which passes or blocks the transmitted ( almost unaffected by tapping ) beam .",
    "it is worth noting that the tapping relies on the fact that a polarization neutral bs splits the average intensities of both polarizations proportionally to its transmitivity @xmath133 and reflectivity @xmath134 .",
    "this , in case of high photon numbers , means splitting with highest probability of photon numbers ( of incoming two - mode fock basis states ) also in this proportion and that the initial ratio of occupations of the two polarization modes in a fock component is preserved in the reflected and transmitted beams .",
    "we will illustrate the action of the tapping and the feed - forward loop from fig .",
    "[ fig : mzi]b using a fock state @xmath135 with an unknown initial population difference @xmath136 . after the tapping bs , @xmath67 photons of @xmath137",
    "are reflected from the first and @xmath138 photons of @xmath139 are reflected from the second input mode .",
    "the possible mode population differences equal @xmath140 in the reflected beam and @xmath141 in the transmitted beam , where @xmath142 $ ] , @xmath143 $ ] .",
    "the mode occupation difference registered at the detectors reads again @xmath144 .",
    "if the reflectivity of the tapping bs is @xmath145 , the analysis of the probability distribution for the bs shows that for highly populated input @xmath146 and @xmath147 .",
    "now , the problem is reduced to the previously discussed : from the analysis below eq .",
    "( [ distribution ] ) we know , that if the measured in mdf @xmath148 , than entering mdf difference @xmath100 and thus @xmath149 are large ; _ vice versa _ , if @xmath101 is large , @xmath150 and in consequence @xmath151 . in this setup",
    ", we directly set the threshold @xmath43 from eq .",
    "( [ theoretical - preselection ] ) for the transmitted beam , i.e. we require that @xmath152 , and the analysis of the reflected beam by mdf tells us the probability distribution of the population difference for the transmitted beam @xmath153 and thus , the probability @xmath154 with which this condition is fulfilled . only if it is high enough , the mdf opens the shutter .",
    "the above discussion applies also for fock superposition states .",
    "see appendix b for the complete calculus of the state evolution through the setup from fig .",
    "[ fig : mzi]b for an arbitrary superposition state and the derivation of the probability distribution of the population difference for the transmitted beam @xmath153 ( eq .  [ distribution ] ) .",
    "finally , we would like to mention that the assumption of the accurate measurement of @xmath97 and @xmath96 numbers is justified : a setup involving losses after the tapping bs is equivalent to a setup with losses introduced in the reflected beam before the detectors . in the latter case , losses account for the imperfect detection .",
    "thus , considering losses only in the transmitted part and perfect detection in the reflected part gives the full view . in experiments ,",
    "a measurement accuracy of 150 photons , together with mean photon numbers per mode @xmath155 , would give a very good relative accuracy .",
    "the discussion concerning weak invasibility of the mdf measurement on the beam leaving the shutter is moved to the appendix c.",
    "thus , we have shown that the mdf is feasible and allows one to perform a threshold measurement while maintaining quantum superpositions .",
    "it works for any highly populated two - mode polarization states containing a single frequency and wavevector mode .",
    "realization of such a device is demanding , but the properties of the mdf are worth the effort .",
    "the filter would be useful in the engineering of macroscopic quantum states of light . in the case of macro - qubits",
    "it circumvents the problem of inefficient detection , and improves distinguishability .",
    "thus , it makes them useful in quantum information and metrology protocols .",
    "-3 mm -3 mm    this work was supported by the eu fp7 marie curie career integration grant no .",
    "322150 `` qcat '' , mnisw grant no .",
    "2012/04/m / st2/00789 and fnp homing plus project .",
    "mz acknowledges eu q - essence project , mnisw ( ncn ) grant no .",
    "n202  208538 .",
    "mc acknowledges eu fp7 brisq2 project ( grant no .",
    "calculations were performed at ci task in gdask and cyfronet in krakw .",
    "after filtering with the operator @xmath6 the macro - qubits in eq .",
    "( [ macro - qubits ] ) take the form @xmath156 where the new probability amplitudes @xmath30 ensure the correct normalization .",
    "next , the filtered macro - qubits are subjected to losses , modeled by a bs with the reflectivity @xmath65 , which transforms them into mixed states @xmath157 is the bs probability amplitude for the bs reflecting of @xmath137 from @xmath158 photons .",
    "the photon number distribution for these states is @xmath159    @xmath160    where @xmath161 for @xmath162 ( @xmath163 ) .",
    "in this appendix we will present the evolution of an input state @xmath164 entering the setup depicted in fig .  [",
    "fig : mzi]b .    fig .",
    "[ schema_d ] illustrates each stage of the experiment performed by this setup . at stage 1",
    "this state impinges on a tapping bs , with the reflectivity coefficient @xmath75 , which acts independently on both polarization modes .",
    "this results in transformation @xmath165 .",
    "its action on a single polarization fock state reads @xmath166 the index @xmath75 ( @xmath133 ) corresponds to the reflected ( transmitted ) part .",
    "the input state is transformed to @xmath167 where @xmath168 next , in stage 2 , the reflected beam impinges on the pbs .",
    "it transforms the operators @xmath73 and @xmath74 according to the transformation @xmath80 , @xmath81 .",
    "the reflected part @xmath169 looks as follows @xmath170    after the pbs the state equals @xmath171",
    "@xmath172    in stage 3 the detectors detect two fock states @xmath91 and project the state @xmath173 to @xmath174    @xmath175    the coefficients @xmath176 are renormalized to ensure normalization of @xmath177 .    for the further discussion of the filtering process it is useful to compute the conditional photon number distribution for the transmitted beam @xmath178 @xmath179 we change the variables @xmath96 and @xmath97",
    "so that they were corresponding to the quantities useful for the filtering : the total sum of the registered photons @xmath180 and the difference in the occupation of the polarization modes @xmath144 .",
    "we obtain @xmath181 with @xmath182 , @xmath183 @xmath184 the probability distribution for the occupation difference in the transmitted beam @xmath149 is given by @xmath185    the filtering is performed in stage 4 of the experiment . here , the detectors readings are analyzed and only those events and realizations of @xmath186 are accepted where @xmath148 . depending on the result of measurement of @xmath101 , the shutter is opened or remains closed and the state is rejected .    -1 mm     in the transmitted beam @xmath133 after the shutter for the state in eq .",
    "( [ example2 ] ) with @xmath187 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c ) .",
    "the vertical dashed lines show the threshold @xmath191 .",
    "the probability that @xmath192 is given by @xmath193.,title=\"fig:\",width=264 ] +   in the transmitted beam @xmath133 after the shutter for the state in eq .",
    "( [ example2 ] ) with @xmath187 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c ) .",
    "the vertical dashed lines show the threshold @xmath191 .",
    "the probability that @xmath192 is given by @xmath193.,title=\"fig:\",width=264 ] +   in the transmitted beam @xmath133 after the shutter for the state in eq .",
    "( [ example2 ] ) with @xmath187 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c ) .",
    "the vertical dashed lines show the threshold @xmath191 .",
    "the probability that @xmath192 is given by @xmath193.,title=\"fig:\",width=264 ]    -5 mm    -5 mm      -1ex    we consider a simple superposition of fock states with fixed total photon number @xmath194 ( it allows avoiding the summation over @xmath195 in eq .",
    "( [ distribution ] ) ) and with a uniform distribution of the occupation difference @xmath196 @xmath197 in fig .",
    "[ probabilitydistributions ] we have depicted the probability distributions @xmath153 for this state with @xmath187 for three cases : @xmath124 , @xmath189 and @xmath190 for @xmath188 .",
    "these plots reveal that for small @xmath198 the most probable values of @xmath149 in the transmitted beam are large .",
    "the higher @xmath101 is , the more probable are the superposition components with @xmath199 to be present in the output beam .",
    "we took @xmath200 and the probabilities that @xmath192 equal : @xmath201 , @xmath202 , @xmath203 for @xmath124 , @xmath189 , @xmath190 , respectively .",
    "in reality , one would aim at applying the mdf to more complex quantum states , the superpositions like the one given in eq .",
    "( [ macro - qubits ] ) , which constitute a `` macroscopic '' qubit .",
    "the goal of the mdf apart form filtering of those states and increasing their distinguishability in classical detection , is to avoid discriminating between them .",
    "moreover , usually the experimental conditions are not perfect and in the analysis of the action of the filter one has to take into account the multi - mode character of the input state and the losses .",
    "we will discuss these issues in this section .",
    "( eq .  [ distribution ] ) in the transmitted beam @xmath133 after the shutter for @xmath204 for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c ) .",
    "the vertical dashed lines show the threshold @xmath205 .",
    "the probability that @xmath206 is given by @xmath207.,title=\"fig:\",width=264 ] +   ( eq .  [ distribution ] ) in the transmitted beam @xmath133 after the shutter for @xmath204 for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c ) .",
    "the vertical dashed lines show the threshold @xmath205 .",
    "the probability that @xmath206 is given by @xmath207.,title=\"fig:\",width=264 ] +   ( eq .  [ distribution ] ) in the transmitted beam @xmath133 after the shutter for @xmath204 for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c ) .",
    "the vertical dashed lines show the threshold @xmath205 .",
    "the probability that @xmath206 is given by @xmath207.,title=\"fig:\",width=264 ]    -5 mm    -5 mm    [ cols=\"^ \" , ]     -7 mm    -5 mm    imagine a source producing a micro - macro polarization singlet state of the form @xmath208 .",
    "the macroscopic part @xmath209 of the singlet is fed to the setup in fig .",
    "[ fig : mzi]b .",
    "the initial state reads @xmath210 the state passes through the whole setup in fig .",
    "[ fig : mzi]b . in fig .",
    "[ probabilitydistributionsdem ] we depicted the probability distributions @xmath153 ( eq .  ( [ distribution ] ) with @xmath211 ) for this state as a function of the population difference @xmath149 in the transmitted beam @xmath133 after the shutter . in our computation",
    "we assumed the gain @xmath48 , @xmath188 photons registered in the reflected beam and chose @xmath212 .",
    "the probabilities @xmath207 that @xmath206 are : @xmath213 , @xmath214 , @xmath215 for @xmath124 , @xmath189 , @xmath190 , respectively",
    ".    we also computed the photon number distributions ( useful for the distinguishability estimation ) for @xmath216 processed by the setup in fig .",
    "[ fig : mzi]b and compared them with the distributions obtained in theoretical filtering performed by @xmath6 which are displayed in fig .",
    "[ fig : qfuncideal ] .",
    "the photon number distribution for @xmath216 reads @xmath217     ( eq .  ( [ distributionmode ] ) ) in the transmitted beam @xmath133 after the shutter for the two - mode state in eq .",
    "( [ example3 ] ) for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c).,title=\"fig:\",width=264 ] +   ( eq .  ( [ distributionmode ] ) ) in the transmitted beam @xmath133 after the shutter for the two - mode state in eq .",
    "( [ example3 ] ) for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c).,title=\"fig:\",width=264 ] +   ( eq .  ( [ distributionmode ] ) ) in the transmitted beam @xmath133 after the shutter for the two - mode state in eq .",
    "( [ example3 ] ) for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c).,title=\"fig:\",width=264 ]    -5 mm    -5 mm    -1 mm   ( eq .  ( [ plosses ] ) ) in the transmitted beam @xmath133 after the shutter for the state in eq .",
    "( [ example3 ] ) subjected to @xmath218 of losses for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c).,title=\"fig:\",width=264 ] +   ( eq .  ( [ plosses ] ) ) in the transmitted beam @xmath133 after the shutter for the state in eq .",
    "( [ example3 ] ) subjected to @xmath218 of losses for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c).,title=\"fig:\",width=264 ] +   ( eq .  ( [ plosses ] ) ) in the transmitted beam @xmath133 after the shutter for the state in eq .",
    "( [ example3 ] ) subjected to @xmath218 of losses for @xmath48 assuming that @xmath188 photons were registered in the reflected beam and the difference measured by detectors was @xmath124 ( a ) , @xmath189 ( b ) , @xmath190 ( c).,title=\"fig:\",width=264 ]    -5 mm    -5 mm    where @xmath219 is given by eq .",
    "( [ pkl ] ) and @xmath220 is a set of @xmath98 for which the filter shutter is open , i.e.  the probability of @xmath152 evaluated for @xmath216 is greater than a given level of trust .",
    "we chose @xmath60 , @xmath221 , @xmath222 , @xmath223 and the level of trust @xmath64 .",
    "the distribution @xmath46 and the corresponding distinguishabilities are depicted in fig .",
    "[ macrophotonnumber ] .",
    "although there is no clear separation between the regions @xmath8 and @xmath9 here , still , some low - probability gap appears which results in the increase of the distinguishability . for @xmath60 , @xmath221 , @xmath222 and @xmath223 ,",
    "the distinguishabilities are @xmath224 , @xmath225 , @xmath226 and @xmath227 , respectively .",
    "-2 mm    let us consider two spatial or frequency modes in the input state in eq .",
    "( [ example3 ] ) . since the two modes are independent , the probability distribution @xmath228 resulting from detecting @xmath229 and @xmath230 photons in the detectors , where @xmath231 ( @xmath232 ) and @xmath233 ( @xmath234 ) are the contributions which come from the first ( second ) mode , is given by the convolution -3 mm @xmath235    this distribution is depicted in fig .",
    "[ probabilitydistributionsmultimode ] .",
    "we note that the filtering process is deteriorated by the increase of the mode number .",
    "for the same parameters as in the single mode case ( @xmath48 , @xmath236 , @xmath237 , @xmath222 , @xmath238 ) , but for lower threshold @xmath239 we achieved similar values of probabilities for a successful filtering @xmath240 equal to : @xmath241 , @xmath242 , @xmath243 for @xmath124 , @xmath222 , @xmath238 , respectively .",
    "next , we computed the probability distribution @xmath244 ( eq .",
    "( [ plosses ] ) with @xmath211 in appendix d ) for the state in eq .",
    "( [ example3 ] ) subjected to @xmath245 of losses , see fig .",
    "[ probabilitydistributionslosses ] .",
    "clearly , the filtering effect is preserved even for high losses .",
    "the higher gain and thus , the state population , the higher losses are tolerable .",
    "effectively , losses diminish the available threshold values in comparison to the ideal case .",
    "the probability distribution @xmath244 for the state in eq .",
    "( [ example3 ] ) subjected to losses @xmath65 reads"
  ],
  "abstract_text": [
    "<S> we discuss a device capable of filtering out two - mode states of light with mode populations differing by more than a certain threshold , while not revealing which mode is more populated . </S>",
    "<S> it would allow engineering of macroscopic quantum states of light in a way which is preserving specific superpositions . as a result </S>",
    "<S> , it would enhance optical phase estimation with these states as well as distinguishability of `` macroscopic '' qubits . </S>",
    "<S> we propose an optical scheme , which is a relatively simple , albeit non - ideal , operational implementation of such a filter . </S>",
    "<S> it uses tapping of the original polarization two - mode field , with a polarization neutral beam splitter of low reflectivity . </S>",
    "<S> next , the reflected beams are suitably interfered on a polarizing beam splitter . </S>",
    "<S> it is oriented such that it selects unbiased polarization modes with respect to the original ones . </S>",
    "<S> the more an incoming two - mode fock state is unequally populated , the more the polarizing beam splitter output modes are equally populated . </S>",
    "<S> this effect is especially pronounced for highly populated states . </S>",
    "<S> additionally , for such states we expect strong population correlations between the original fields and the tapped one . thus , after a photon - number measurement of the polarizing beam splitter outputs , a feed - forward loop can be used to let through a shutter the field , which was transmitted by the tapping beam splitter . </S>",
    "<S> this happens only if the counts at the outputs are roughly equal . </S>",
    "<S> in such a case , the transmitted field differs strongly in occupation number of the two modes , while information on which mode is more populated is non - existent ( a necessary condition for preserving superpositions ) . </S>"
  ]
}