{
  "article_text": [
    "in this paper we study the geometry of the stack @xmath22 of @xmath1-spin curves ( smooth algebraic curves @xmath9 with a line bundle ( invertible coherent sheaf ) @xmath10 and an isomorphism from the @xmath1th tensor power @xmath23 to the cotangent bundle @xmath24 ) , as well as the coarse moduli @xmath0 , and also the compactification @xmath17 of @xmath22 by _ coherent nets of @xmath1th roots _ over the stack of stable curves @xmath25 .",
    "spin curves provide a finite cover of the moduli of curves , distinct ( in the case of @xmath16 ) from the moduli of curves with level-@xmath1 structure . nor",
    "is it the same as the non - abelian level structures that have been studied recently by looijenga @xcite and pikaart - de  jong @xcite . in the case of @xmath26 , however , this space is a disjoint union of the modular curves @xmath27 for all @xmath28 dividing @xmath1 .",
    "this moduli space has many similarities to the moduli of stable maps , including the existence of classes analogous to gromov - witten classes and an associated cohomological field theory @xcite .",
    "but it is not the moduli of stable maps into any variety @xcite .",
    "it can , however , be described as a closed and open substack of the stack of stable maps of balanced twisted curves in the sense of abramovich and vistoli @xcite into a deligne - mumford stack ( see @xcite ) .",
    "these moduli spaces are especially interesting because of a conjecture of e. witten , first described in @xcite , relating the intersection theory on the ( compactified ) moduli space of @xmath1-spin curves and gelfand - dikii hierarchies of order @xmath1 .",
    "this conjecture is a generalization of an earlier conjecture of his , which was proved by kontsevich ( see @xcite and @xcite ) . as in the case of gromov - witten theory",
    ", one can construct a potential function from the intersection numbers of a cohomology class @xmath29 with the tautological @xmath30 classes associated to the universal curve .",
    "witten conjectures that the potential of the theory corresponds to the tau - function of the order-@xmath1 gelfand - dikii ( @xmath4 ) hierarchy . in genus zero ,",
    "the witten conjecture is true @xcite , but in higher genus it remains unproven .",
    "construction of the moduli stack @xmath22 , and its compactification @xmath17 , was done in @xcite for @xmath31 . for @xmath32",
    "several compactifications were constructed in @xcite .",
    "unfortunately , none of those compactifications is smooth for general @xmath1 , although the space @xmath33 of @xcite is smooth when @xmath1 is prime .",
    "this article has two main goals : first , to construct a geometrically meaningful compactification which is smooth for all @xmath1 , and second , to describe the irreducible and connected components of this compactification .        for any line bundle @xmath6 on the universal curve @xmath34 over the stack @xmath35 of stable curves",
    "we will denote by @xmath36 the stack of triples @xmath8 , where @xmath9 is a smooth curve of genus @xmath37 , @xmath10 is a line bundle on @xmath9 , and @xmath38 is an isomorphism @xmath11 .",
    "thus the stack @xmath22 of smooth spin curves is simply @xmath39 .",
    "we will compactify the stack @xmath40 for all @xmath1 , @xmath37 , and @xmath6 , by considering the stack of _ coherent nets of @xmath1th roots _ , as given in definition  [ coherent ] .",
    "although the definitions of families of these nets and the proofs of smoothness and other properties are relatively technical , the intuitive ideas are straightforward . moreover , for many applications ( for example , those in @xcite ) one only needs to know the definitions for geometric points of the stack , which are much simpler , the structure of the universal deformation , as described in theorem  [ univ ] , and the description of the irreducible components , as given in theorem  [ disjoint ] .",
    "the basic idea is simply that , up to isomorphism , an @xmath1th root @xmath10 of a bundle @xmath6 completely determines a whole collection ( net ) of roots @xmath41 for each @xmath28 dividing @xmath1 . on the boundary ,",
    "the limit of @xmath10 is a rank - one , torsion - free sheaf , but the degeneration of @xmath10 is no longer enough to completely specify a collection of @xmath28th roots , if @xmath1 is not prime , so that structure must be made explicit .",
    "moreover , since there are generally too many torsion - free sheaves in the limit of a degenerating invertible sheaf , we also need to rigidify the structure by explicitly specifying the isomorphisms @xmath42 and @xmath43 ( or comparable homomorphisms which are almost isomorphisms over a non - smooth curve ) .",
    "thus the geometric objects of interest will be a collection @xmath44 , called a net , of a rank - one torsion - free sheaf @xmath45 , for each @xmath28 dividing @xmath1 , and a homomorphism @xmath46 for each @xmath47 dividing @xmath28 dividing @xmath1 , such that @xmath48 is an isomorphism except where @xmath45 is not locally free .",
    "@xmath49 is the sheaf @xmath6 , and the @xmath46 should be compatible with one another in the obvious way ( see definition [ coh - quasi ] ) . to prevent certain anomalies ( including a potential failure to be separated ) , we also require that the length of the cokernel of @xmath46 at each singularity be @xmath50 .",
    "the details of these nets are described in section [ nets ] .    in the case",
    "that the underlying curve is smooth , or in fact , whenever @xmath51 is an invertible sheaf , then the entire structure is canonically determined by @xmath51 and the isomorphism @xmath52 . obviously , when @xmath1 is prime this collection consists only of the data of @xmath51 and @xmath53 .",
    "when the homomorphism @xmath54 fails to be an isomorphism at some point @xmath55 , the completion of the local ring of @xmath9 at @xmath55 is of the form @xmath56/xy$ ] , and @xmath51 corresponds to an @xmath57-module @xmath58 ; and @xmath54 corresponds to the homomorphism @xmath59 , @xmath60 , for some @xmath61 and @xmath62 , with @xmath63 if @xmath64 .",
    "the restriction on the length of the cokernel amounts to saying that @xmath65 must be exactly @xmath1 . thus if @xmath66 \\oplus   k[y]$ ] is the normalization of @xmath57 , the data of @xmath67 and @xmath54 over @xmath57 correspond exactly to the choice of a",
    "@xmath68-module @xmath69 with an isomorphism @xmath70 .",
    "so @xmath51 corresponds to a sheaf @xmath71 on the normalization @xmath72 of @xmath9 at @xmath73 which is locally free , and @xmath54 corresponds to an isomorphism @xmath74 where @xmath75 .",
    "the choices of @xmath61 and @xmath62 which may occur are , of course , controlled in large part by degree considerations .",
    "we will call the ( unordered ) pair @xmath76 the _ order _ of @xmath77 at @xmath55 .",
    "if @xmath51 is locally free at @xmath55 , then the order is @xmath78 .    when @xmath61 and @xmath62 are relatively prime , the sheaf @xmath51 and the homomorphism @xmath54 still completely determine the remainder of the structure @xmath44 .",
    "in fact , for any order @xmath76 of @xmath77 the order @xmath79 of @xmath80 is simply @xmath81 , and the pullback of @xmath45 to @xmath82 is @xmath83 , with the pullback of @xmath84 being the obvious inclusion homomorphism . when @xmath28 does not divide @xmath61 ( and hence @xmath62 ) , the order @xmath85 is not @xmath78 and @xmath45 is not locally free . in this case @xmath86 and @xmath84 are completely determined by @xmath87 .",
    "but when @xmath88 the sheaf @xmath89 is determined only up to its restriction to the normalization @xmath82 of @xmath9 at @xmath55 .",
    "an additional gluing datum is necessary ( if @xmath55 is a non - separating node of @xmath9 ) to construct @xmath89 from @xmath51 .    even when the sheaves @xmath45 are not locally free , to construct a cohomological field theory @xcite , and in particular to have a composition axiom , as in quantum cohomology , we need not only roots of @xmath6 , but also roots of @xmath90 , for marked points @xmath91 of @xmath9 and integers @xmath92 .",
    "letting @xmath93 be the vector of the orders of vanishing at the @xmath91 s , we call these _ roots _ ( or _ nets of roots _ ) _ of @xmath6 of type @xmath94_. we denote the stack of smooth roots of @xmath6 of type @xmath94 by @xmath95 , its compactification using coherent nets of roots by @xmath96 . when @xmath12 this is the stack of @xmath1-spin curves , and is denoted @xmath97 .",
    "it can be shown @xcite that the structure of such a coherent net of roots is actually equivalent to the data of a single invertible sheaf @xmath10 with an isomorphism @xmath98 on a twisted ( stacky ) curve @xmath99 in the sense of abramovich and vistoli @xcite , and the type @xmath94 corresponds to the indices of stackiness at the marked points of @xmath99 .",
    "unfortunately , the most general families of such nets of roots , without further restrictions , do not form a smooth stack .",
    "the additional conditions we must place on them , although technical to state , amount simply to insisting that only the most natural and best - behaved families will be included in the stack . in section [ background ] we recall some results from @xcite necessary to give these conditions , and in section [ power ] we describe these additional conditions , which are essentially equivalent to abramovich and vistoli s condition that stable maps should be _",
    "once the definitions are in place , it is relatively straightforward to describe the universal deformation and thus show that this stack is smooth .",
    "moreover , there is a natural morphism from this stack @xmath97 to the deligne - mumford stacks @xmath100 and @xmath101 of @xcite , making @xmath97 into the normalization of @xmath102 and @xmath101 , and in particular , @xmath97 ( and@xmath96 ) is a smooth deligne - mumford stack , finite over @xmath25 .",
    "this is described in section [ stack ]      in section  [ moduli ] we treat the geometry of the stack of spin curves and its coarse moduli space . in [ proj ] we cover basic properties such as projectivity . in [ 13 ]",
    "we discuss relations between the different spaces .",
    "finally , in [ 14 ] we treat the question of irreducibility .",
    "in particular , we first restrict to the complex numbers and use results of mess @xcite and powell @xcite on the torelli group , and results of birman @xcite on the kernel of the natural homomorphism from the mapping class group @xmath103 of genus @xmath37 surfaces with @xmath18 punctures to the group @xmath104 to give a set of generators ( finite when @xmath105 ) for the torelli group @xmath106 for all @xmath37 and @xmath18 .",
    "this result , and a characterization due to sipe @xcite of @xmath1-spin structures on a given curve as splittings of the gysin sequence for the punctured tangent bundle , allows us to study the monodromy action on the set of @xmath1-spin structures of a given curve . when @xmath37 is greater than one , and @xmath1 ( or any of the @xmath92 ) is odd , this action is transitive , and hence the moduli of @xmath1-spin curves of type @xmath94 is irreducible .",
    "it is well - known ( see @xcite or @xcite ) that @xmath107 is the disjoint union of two irreducible components .",
    "and when @xmath1 and all of the @xmath92 are even , there is a natural morphism @xmath108 : { \\overline{{{\\mathcal { s}}}}^{1/r,\\mathbf m}_{g , n}}\\rto   \\overline{{{\\mathcal { s}}}}^{1/2,\\mathbf{0}}_{g , n}$ ] described in section  [ 13 ] , which shows that @xmath109 must be the disjoint union of two at least two pieces .",
    "but we show that when @xmath110 monodromy acts transitively on the fibres of the morphism @xmath108 $ ] , so @xmath109 is actually the disjoint union of exactly two irreducible components .",
    "the case of @xmath19 has special arithmetic interest . when @xmath111 it is a classical fact that @xmath112 is the disjoint union of @xmath21 irreducible components , where @xmath21 is the number of divisors of @xmath1 . again using our description of the torelli group , we generalize this fact to show that @xmath113 is the disjoint union of @xmath114 components , where @xmath114 is the number of divisors of @xmath115 .    these results",
    "are then used to show that the irreducibility properties hold in any characteristic prime to @xmath1 .",
    "these irreducibility properties are important in the study of the picard group of @xmath17 @xcite , and also in the study of the cohomological field theory related to witten s conjecture @xcite .      by a _ curve _ we mean a reduced , complete , connected , one - dimensional scheme over a field .",
    "semi - stable curve of genus @xmath37 _ is a curve with only ordinary double points such that @xmath116 has dimension @xmath37 .",
    "and an _ @xmath18-pointed stable curve _ is a semi - stable curve @xmath9 together with an ordered @xmath18-tuple of non - singular points @xmath117 , such that at least three marked points or double points of @xmath9 lie on every smooth irreducible component of genus @xmath118 , and at least one marked point or double point of @xmath9 lies on every smooth component of genus one .",
    "a stable ( or semi - stable ) curve is a flat , proper morphism @xmath119 whose geometric fibres @xmath120 are ( semi ) stable curves . except where otherwise indicated",
    ", @xmath1 will be a fixed positive integer , and both @xmath37 and @xmath18 will be non - negative integers such that @xmath121 .    by _ line bundle _ we mean an invertible ( locally free of rank one ) coherent sheaf . by _",
    "canonical sheaf _ we mean the relative dualizing sheaf of a family of curves @xmath122 , and this sheaf will be denoted @xmath123 , or @xmath124 , or just @xmath125 .",
    "note that for a semi - stable curve , the canonical sheaf is a line bundle .",
    "when @xmath126 is @xmath127 , for an algebraically closed field @xmath128 , we will also write @xmath24 for @xmath123 .",
    "to begin we need the definition of torsion - free sheaves .    a _ relatively torsion - free sheaf _",
    "( or just torsion - free sheaf ) on a family of stable or semi - stable curves @xmath129 is a coherent @xmath130-module @xmath131 that is flat over @xmath126 , such that on each fibre @xmath132 the induced @xmath133 has no associated primes of height one .",
    "we will only be concerned with rank - one torsion - free sheaves .",
    "such sheaves are called _ admissible _ by alexeev @xcite and _ sheaves of pure dimension @xmath134 _ by simpson @xcite .",
    "of course , on the open set where @xmath135 is smooth , a torsion - free sheaf is locally free .    given an @xmath18-pointed nodal curve @xmath136 , a choice of @xmath137 , and a rank - one , torsion - free sheaf @xmath138 on @xmath9 , an _ @xmath1th quasi - root of @xmath138 of type @xmath139 _ is a pair @xmath140 consisting of a rank - one , torsion - free sheaf @xmath131 on @xmath9 , and an @xmath130-module homomorphism @xmath141 with the following properties :    1 .",
    "@xmath142 ; 2 .",
    "@xmath143 is an isomorphism on the open subset of @xmath9 where @xmath131 is locally free ; and 3 .   for each point @xmath55 of each fibre @xmath120 of @xmath9 where @xmath131 is not locally free , the length of the cokernel of @xmath143 at @xmath55 is @xmath144 .",
    "this definition of a quasi - root reduces to that of @xcite when the target @xmath138 is locally free .",
    "of course , when @xmath9 is smooth , any quasi - root is locally free and @xmath143 is simply an isomorphism .    as explained in @xcite , the last condition is necessary to ensure separatedness of the stack of quasi - roots of a given sheaf @xmath138 , and is actually a very natural condition .",
    "indeed , as indicated in the introduction , on a nodal curve @xmath9 over an algebraically closed field , each singularity ( point of @xmath9 where @xmath131 is not locally free ) of a quasi - root @xmath145 uniquely determines two positive integers @xmath61 and @xmath62 , summing to @xmath1 : these are the order of vanishing of @xmath143 on the pullback of @xmath131 ( mod torsion ) to each of the two branches of @xmath9 through the singularity .",
    "in particular , the completion of the local ring of @xmath9 at the singularity is of the form @xmath146/xy$ ] , and @xmath131 corresponds to an @xmath57-module @xmath147 ( * ? ? ? * , prop.3 ) .",
    "if @xmath138 is locally free , it corresponds to the free @xmath57-module @xmath57 , and @xmath143 corresponds to the homomorphism @xmath148 , @xmath149 , and @xmath150 if @xmath151 ( * ? ? ?",
    "if @xmath138 is not locally free , then it corresponds to an @xmath57-module @xmath152 and @xmath143 corresponds to the homomorphism @xmath153 @xmath154 , and @xmath155 for @xmath64 .",
    "condition ( 3 ) on the cokernel in the definition of a quasi - root is simply the condition that @xmath156 when @xmath138 is locally free , or @xmath157 if @xmath138 is not locally free .",
    "[ pair ] we will call the pair @xmath76 the _ order _ of @xmath158 at the singularity .    in order to produce a smooth stack , we must consider not just quasi - roots , but also coherent nets of quasi - roots ; and we must place some additional conditions on the families of these nets which we will explain in the next section .",
    "[ coh - quasi ] a _ type-@xmath139 , coherent net of @xmath1-quasi - roots _ of a rank - one torsion - free sheaf @xmath138 is a collection @xmath159 , consisting of a rank - one , torsion - free sheaf @xmath45 for every divisor @xmath28 of @xmath1 , and an @xmath160-module homomorphism @xmath161 for each @xmath47 dividing @xmath28 with the following properties :    1 .",
    "@xmath162 and @xmath163 2 .",
    "[ m - vect ] for each divisor @xmath28 of @xmath1 , and for each divisor @xmath47 of @xmath28",
    "let @xmath164 be the @xmath18-tuple @xmath165 such that @xmath166 is the unique , non - negative integer , less than @xmath167 , and congruent to @xmath168 .",
    "the homomorphism @xmath46 is required to make @xmath169 into a @xmath167 quasi - root of @xmath170 of type @xmath164 .",
    "the homomorphisms @xmath171 are compatible : + for any @xmath172 dividing @xmath47 dividing @xmath28 dividing @xmath1 , the homomorphism @xmath173 commutes with @xmath174 and @xmath175 ; that is the following diagram commutes.@xmath176    of course , if @xmath51 is locally free , then the entire net is completely determined by @xmath77 .",
    "since the type @xmath94 changes with different @xmath28 s dividing @xmath1 , a net of roots of @xmath138 of type @xmath94 is not the same as a net of roots of @xmath177 of type @xmath178 .",
    "still , for any @xmath28th root @xmath179 of @xmath138 of type @xmath94 , there is a uniquely determined @xmath28th root @xmath180 of @xmath138 of type @xmath181 for every @xmath181 congruent to @xmath182 ; namely , @xmath183 .",
    "thus the condition in definition  [ coh - quasi]([m - vect ] ) , requiring that @xmath139 change with the different divisors is not a restriction .",
    "indeed , we would get an isomorphic stack by insisting that all @xmath46 be roots of some other type congruent to @xmath184 .",
    "one advantage to the choice we have given here is that it allows the stack of curves with roots to obey something like the composition rules of quantum cohomology .",
    "in particular , near any marked point the structure should behave like a structure obtained by normalizing a node . in our case ,",
    "normalizing a non - locally - free @xmath28th quasi root at a singularity of the root yields a @xmath28th quasi root , whose type @xmath185 and @xmath186 at the normalized points is @xmath187 and @xmath188 where @xmath85 is the order of the @xmath28th root at the node , and thus the type of the normalized root is bounded between @xmath118 and @xmath189 , inclusive .",
    "when the root is locally free , composition rules like those of quantum cohomology still exist for these root nets , as explained in @xcite , but they are more subtle .    even considering coherent nets of quasi - roots is not quite sufficient to ensure a smooth stack . to describe the additional structure necessary to make the stack smooth we first recall some results on the local structure of a rank - one , torsion - free sheaf and some results from @xcite on the local structure of roots .",
    "let @xmath190 be the henselization of a local ring , of finite type over a field or an excellent dedekind domain , let @xmath191 be the maximal ideal of @xmath190 .",
    "every nodal curve @xmath192 has , at a node , a local ring whose henselization is isomorphic to @xmath57 , the henselization of @xmath193/xy-\\pi$ ] at @xmath194 for some @xmath195 .    over the ring @xmath57 , for each pair @xmath196 ,",
    "such that @xmath197 , define @xmath198 to be the @xmath57-module generated by two elements @xmath199 and @xmath200 , with the relations @xmath201 , and @xmath202 .    1",
    ".   any torsion - free @xmath67 of rank one over @xmath57 is isomorphic to an @xmath198 for some @xmath196 with @xmath197 .",
    "if @xmath203 are all in @xmath191 , and @xmath204 , then @xmath198 is isomorphic to @xmath205 if and only if there exists a unit @xmath206 such that @xmath207 , and @xmath208 .",
    "the condition that @xmath67 is an @xmath1th quasi - root of @xmath57 implies @xcite that in the above theorem @xmath209 and @xmath210 can be assumed to have the property @xmath211 in @xmath190 , for @xmath76 the order of the root , as described in definition [ pair ] , and with @xmath212 .",
    "moreover , if @xmath213 has an @xmath1th root in @xmath214 , then @xmath213 may be assumed to be @xmath134 . in particular",
    ", there is an tale cover of the base on which @xmath213 may be assumed to be @xmath134 .      in order to use faltings result , we need the definition of a local coordinate , which is really just a way of choosing parameters @xmath215 , @xmath216 , and @xmath217 . from the deformation theory of stable curves , we know that near a singularity @xmath55 of @xmath136 the complete local ring @xmath218 over @xmath219 is of the form @xmath220/(xy-\\pi)$ ] for some @xmath221 .",
    "and over some tale neighborhood @xmath222 of @xmath223 , there is an tale neighborhood @xmath224 of @xmath55 in @xmath225 with sections @xmath215 and @xmath216 in @xmath226 such that    1 .",
    "the ideal generated by @xmath215 and @xmath216 has the discriminant locus of @xmath136 as its associated closed subscheme .",
    "3 .   the obvious homomorphism @xmath228/(xy-\\pi)\\big )",
    "\\rightarrow { { \\mathcal o}}_{u,{{\\mathfrak p}}}$ ] induces an isomorphism on the completions @xmath229/(xy-\\pi)\\right ) { \\rto^{\\sim}}\\hat{{{\\mathcal o}}}_{u,{{\\mathfrak p}}}$ ] .",
    "[ local ] we call such a system a _ local coordinate _ for @xmath136 near @xmath55 .",
    "note that a local coordinate is not uniquely determined .",
    "it is only determined up to the equivalence relation generated by the following operations :    1 .",
    "pullback to tale covers .",
    "2 .   change by units : namely @xmath230 with @xmath231 , and @xmath232 .",
    "3 .   switching branches ; namely , interchanging @xmath215 and @xmath216 .",
    "if @xmath233 is a rank - one , torsion - free @xmath57-module , then any @xmath57-module homomorphism from @xmath234 to a torsion - free @xmath57-module must necessarily factor through the symmetric product @xmath235 @xcite .",
    "thus such a homomorphism can be defined in terms of where it takes the elements @xmath236    in @xcite it is shown that for any quasi - root @xmath237 there exists an invertible element @xmath238 such that for any @xmath239 the homomorphism @xmath38 takes @xmath240 to @xmath241 and for @xmath242 the homomorphism @xmath38 takes @xmath243 to @xmath244 , where @xmath245 and @xmath246 are nilpotent elements of @xmath57 , and are annihilated by @xmath247 .",
    "`` good '' quasi - roots are those for which @xmath245 and @xmath246 are all zero , and even better are those for which there is some @xmath248 such that @xmath249 and @xmath250 ; or @xmath251 and @xmath252 for @xmath253 .",
    "the former are called simply _ roots _ in @xcite and the latter are called _ pure roots _ ; this usage differs from that in this paper .",
    "the stacks of @xmath1th roots with these conditions form the compactifications @xmath254 and @xmath101 , respectively , of the stack of smooth spin curves with an @xmath1th root @xmath140 of @xmath125 . but",
    "neither of these stacks is smooth in general . in particular ,",
    "if @xmath255 $ ] is the universal deformation of a curve @xmath9 , then the universal deformation of a geometric point of @xmath256 with underlying curve @xmath9 and with order @xmath257 at the node defined by the vanishing of @xmath258 is @xmath259/(p^{u_i}_i - q^{v_i}_i)\\ ] ] where the root @xmath131 is locally of the form @xmath260 , and the forgetful morphism @xmath261 is given by @xmath262 .",
    "when @xmath263 for every @xmath264 , the universal deformation of a geometric point of @xmath265 is @xmath266 $ ] where @xmath267 and @xmath268 .",
    "and @xmath101 is clearly the normalization of @xmath269 in this case .",
    "indeed , @xmath101 is the normalization of @xmath254 whenever @xmath1 is prime . when @xmath270 this no longer holds ( see note [ gluenote])a fact not made clear in @xcite .",
    "the most important properties we need to know about @xmath271 are that it is a deligne - mumford stack , such that the forgetful morphism to @xmath35 is both proper and surjective , and the stack of smooth spin curves forms an open dense substack .",
    "moreover , no part of the proof of these properties depends on special properties of @xmath125 , and so for any line bundle @xmath6 defined on the universal curve @xmath272 over @xmath25 there is a deligne - mumford stack @xmath273 of curves with  good \" @xmath1th quasi - roots of @xmath6 , which is proper and surjects to @xmath25 .",
    "moreover the universal deformation of a geometric point of @xmath274 is exactly the same as that for @xmath271 .",
    "we want to describe the last condition for families of nets of roots necessary to make a smooth stack .",
    "intuitively , this amounts to insisting that the net be completely determined by the @xmath1th root @xmath275 , whenever the intermediate roots are not locally free at nodes . we will continue to use the notation of the previous section .      to define a general object and homomorphism of the net we will insist , as in the case of @xmath101 , that there be a @xmath276 such that @xmath277 and @xmath278 where the order of @xmath51 at the singularity defined by @xmath279 is @xmath280 for some positive integer @xmath281 . then locally @xmath282 and @xmath45 should be @xmath283 for some @xmath284 and @xmath285 , as explained below",
    "first we give some notation .",
    "let @xmath286 be two non - negative integers ( not necessarily the order of @xmath54 ) , either both zero or both positive , and let @xmath287 .",
    "given a local coordinate @xmath288 choose an element @xmath289 such that @xmath290 .",
    "now for any non - negative integers @xmath264 and @xmath291 summing to @xmath292 , we define @xmath293 also , we let @xmath294 be the free module @xmath295 then for any @xmath296 let @xmath297 and @xmath298 be the smallest non - negative integers , congruent ( respectively ) to @xmath299 and @xmath300 , and let @xmath301 and @xmath302 if @xmath292 divides @xmath299 ( and hence @xmath303 ) , then @xmath304 and @xmath305 , so @xmath306 . if , however , @xmath292 does not divide @xmath307 , then @xmath308 and @xmath309 . if @xmath310 , then @xmath311 .",
    "given a local coordinate @xmath288 , two non - negative integers @xmath61 and @xmath62 , either both zero or both positive , and an element @xmath312 , such that @xmath313 , as above , define the _",
    "@xmath28th power of @xmath314 _ to be the homomorphism @xmath315 as follows .",
    "again we let @xmath316 in @xmath317 .",
    "the @xmath28th power of @xmath314 is the composition of the canonical map @xmath318 with the map @xmath319 for @xmath320 and @xmath321 for @xmath322 , where @xmath323 and @xmath324 are the generators of @xmath325 , as described above .    to check that this map is well defined we must check that @xmath326 , @xmath327 , @xmath328 , and @xmath329 when @xmath304 , we also have potentially duplicate definitions since @xmath330 , so we must also check that @xmath331 . these relations are all easy to check , except in the special cases of @xmath332 or @xmath333 , where we must check , for example , @xmath334 . if @xmath304 then this amounts to showing that @xmath335 , but @xmath336 , and @xmath337 in this case , so the equality follows from the fact that @xmath338 .",
    "if @xmath297 and @xmath298 are non - zero , then we must show that @xmath339 .",
    "this follows from the definition of @xmath340 and @xmath341 , as well as the relation @xmath342 ; in particular , @xmath343 . thus we have a well - defined homomorphism @xmath344 .",
    "note that when @xmath310 the map @xmath345 is just the canonical isomorphism @xmath346 given by @xmath347 .",
    "when @xmath279 is zero , the @xmath28th power map reduces to just @xmath348 , and @xmath349 , and all other @xmath240 and @xmath243 for @xmath350 map to zero .",
    "thus the length of the cokernel of @xmath345 at the singularity of the central fibre is just @xmath351 when the target is not free ( i.e. @xmath297 and @xmath298 not zero and @xmath352 ) , and it is @xmath353 when the target is free ( @xmath304 and @xmath337 ) .",
    "consequently , the @xmath28th power map is always a special case of a local @xmath28th quasi - root of @xmath325 of order @xmath354 . in particular ,",
    "if @xmath51 is locally isomorphic to @xmath355 for @xmath356 and @xmath357 , the @xmath1th power map takes @xmath355 to @xmath358 and has order @xmath359 .",
    "given any two non - negative integers @xmath264 and @xmath291 , and any positive integer @xmath28 , it is easy to see that @xmath355 has a @xmath28th root exactly when the equivalences @xmath360 and @xmath361 can be solved for positive integers @xmath215 and @xmath216 . and",
    "if @xmath28 and @xmath362 are relatively prime , then a unique root always exists .      _",
    "an @xmath1th root _ of a rank - one , torsion - free sheaf @xmath138 on @xmath136 is an @xmath1th quasi - root @xmath140 of @xmath138 such that for each singularity @xmath55 of any fibre @xmath363 of @xmath136 , if @xmath131 is not locally free at @xmath55 , then there is a local coordinate @xmath288 , and a choice of @xmath279 in @xmath364 , such that if @xmath365 is the order of @xmath38 at @xmath55 and if @xmath366 , then letting @xmath367 and @xmath368 , we have that @xmath131 restricted to @xmath224 is isomorphic to @xmath369 and @xmath138 restricted to @xmath224 is isomorphic to @xmath325 , and such that the induced homomorphism @xmath370 is an @xmath1th power map with respect to @xmath279 .",
    "of course if @xmath126 is the spectrum of a field , then @xmath371 and every quasi - root is a root .",
    "thus the difference between roots and quasi - roots is in the way they vary in families .",
    "it is also worth noting that the stack of stable curves with @xmath1th roots of @xmath125 is exactly the stack @xmath372 of @xcite .",
    "[ coherent ] a _ coherent net of roots _ for a torsion - free sheaf @xmath138 on a nodal curve @xmath136 is a coherent net of quasi - roots @xmath159 with the property that for each singularity @xmath55 of any fibre of @xmath136 , if @xmath51 is not locally free , then there is a local coordinate @xmath288 and a choice of @xmath279 in @xmath364 , such that if @xmath365 is the order of @xmath373 at @xmath55 and @xmath366 then @xmath51 is isomorphic to @xmath374 , with @xmath375 @xmath376 and every @xmath46 is a @xmath167-power map with respect to the same parameter @xmath279 .    again , in the special case that @xmath126 is the spectrum of a field , every coherent net of quasi - roots is a coherent net of roots . if @xmath1 is prime , then a coherent @xmath1th - root net is simply an @xmath1th root .",
    "moreover , if @xmath45 is locally free , then @xmath45 uniquely determines all @xmath170 and all @xmath46 ( up to isomorphism ) such that @xmath377 .",
    "an _ isomorphism of two coherent root nets _ @xmath378 and @xmath379 is a set of isomorphisms @xmath380 which commute with the homomorphisms @xmath46 and @xmath381 .",
    "the properties of being an @xmath1th root or of being a coherent net of roots is independent of the choice of local coordinate .",
    "it suffices to show that for any @xmath382 for which there exists a local coordinate @xmath288 and an element @xmath289 with respect to which @xmath383 and @xmath384 and @xmath143 is a @xmath28th power map , and given any other local coordinate @xmath385 , then there exists an tale neighborhood @xmath386 of @xmath223 in @xmath387 and an tale neighborhood @xmath388 of @xmath55 in @xmath389 over @xmath386 and a choice of @xmath390 , such that with respect to the local coordinate @xmath391 , the sheaf @xmath131 is isomorphic to @xmath392 , the sheaf @xmath138 is isomorphic to @xmath393 , and @xmath143 is a @xmath28th power map with respect to @xmath390 .    after pulling back to an appropriate tale neighborhood @xmath388 over some tale @xmath394 , and after possibly switching branches ( interchanging @xmath215 and @xmath216 ) , we may assume that @xmath395 and @xmath396 for units @xmath397 , and @xmath398 with @xmath399 .",
    "if @xmath400 , then let @xmath401 and @xmath38 in @xmath402 be @xmath292th roots of @xmath403 and @xmath404 respectively . then @xmath405 , with respect to the coordinate @xmath406 is @xmath407 , which is isomorphic to @xmath408 , where @xmath409 and @xmath410 .",
    "thus we may take @xmath390 to be @xmath411 , and @xmath131 is isomorphic to @xmath412 with respect to the new coordinates @xmath413 .",
    "similarly , @xmath138 , which is isomorphic to @xmath414 with respect to the old coordinates is @xmath415 which is isomorphic to @xmath416 , where @xmath417 , and @xmath418 .",
    "thus , @xmath138 is isomorphic to @xmath393 with respect to the new coordinates @xmath413 .",
    "moreover , the @xmath28th power homomorphism @xmath345 with respect to the old coordinates gives @xmath419 ; whereas the @xmath28th power homomorphism @xmath420 with respect to the new coordinate gives @xmath421 .",
    "these agree because @xmath400 and @xmath422 .",
    "a similar computation shows that the @xmath28th power maps agree on @xmath243 , and thus the diagram    ( e(^v,^u)_old)^d & ^_d & e(^v , ^u)_old + & & + ( e(^v , ^u)_new)^d & ^_d & e(^v , ^u)_new +    commutes .    when the target sheaf is @xmath125 and @xmath1 is two , then coherent nets on smooth curves correspond to classical spin curves ( a curve and a theta - characteristic ) _ together with an explicit isomorphism @xmath423 . _",
    "[ target ] if the target sheaf is @xmath424 , then a coherent net of @xmath1th roots of @xmath425 on a smooth curve @xmath9 corresponds to an @xmath1-torsion point of the jacobian of @xmath9 , again with an explicit isomorphism of @xmath426 . in particular , the stack of coherent nets of @xmath1th roots of @xmath425 on smooth curves of genus one ( with one marked point ) forms a gerbe over the disjoint union @xmath427 of the modular curves @xmath27 of points of exact order @xmath28 , where @xmath28 divides @xmath1 . since the stack of nets of roots of @xmath425 on stable curves is the normalization with respect to @xmath25 of the stack of nets on smooth curves ( see theorem [ line ] ) , it forms a gerbe over the union of modular curves @xmath428 .",
    "it is easy to see that if @xmath45 is locally free , then for each @xmath47 dividing @xmath28 , @xmath429 , and @xmath46 are all canonically determined ( up to isomorphism ) as @xmath430 , @xmath431 , and @xmath432 .",
    "similarly if @xmath170 is not locally free , then @xmath170 and @xmath46 for each @xmath28 such that @xmath433 are canonically determined by @xmath51 and @xmath54 .",
    "in particular , off the singularities we have @xmath434 , and near the singularities @xmath170 is determined as a @xmath167-power of @xmath45 .",
    "thus tale descent shows that @xmath170 is globally determined ( up to isomorphism ) by @xmath51 . and",
    "this occurs precisely when @xmath47 does not divide @xmath435 ( or @xmath436 ) , where @xmath365 is the order of @xmath54 .",
    "in fact , the only additional information we gain from the coherent net of roots that is not inherent in the root @xmath437 is in the case that @xmath138 is locally free and@xmath438 . in this case , the coherent root net amounts to the choice of a locally free @xmath281th root @xmath89 of @xmath138 and a non - locally - free @xmath439th root of @xmath89 .",
    "the actual objects we wish to study are not just coherent root nets on a fixed curve , but rather , fixing an invertible sheaf @xmath6 on the universal curve @xmath440 over @xmath25 , we wish to study pairs @xmath441 of a curve @xmath136 and a coherent net of @xmath1th roots @xmath442 of the line bundle @xmath443 . of special interest",
    "is the case of @xmath444 and its twists by canonical sections .",
    "a genus-@xmath37 , @xmath18-pointed @xmath1-spin curve of type @xmath94 is a stable @xmath18-pointed curve @xmath136 of genus @xmath37 and a coherent net of @xmath1th roots of @xmath445 , where @xmath446 is the divisor of @xmath9 corresponding to the @xmath264th section @xmath447 .",
    "[ iso ] an isomorphism of @xmath1-spin curves @xmath448 and @xmath449 is a pair of isomorphisms @xmath450 where @xmath451 is an isomorphism of stable curves , and @xmath452 is an isomorphism of coherent nets of roots , compatible with the canonical isomorphism @xmath453 .    as explained in example [ target ] , if @xmath454 and @xmath455 then @xmath456 , and a smooth @xmath18-pointed @xmath1-spin curve of genus @xmath134 is determined by a @xmath18-pointed curve of genus @xmath134 with a point of order @xmath1 on the curve .",
    "however , the automorphisms of the underlying curve identify some of these @xmath1-spin structures . in particular , when @xmath457 and @xmath1 is odd , the elliptic involution acts freely on all the non - trivial @xmath1-spin structures , thus there are only @xmath458 isomorphism classes of @xmath1-spin structures on the generic @xmath134-pointed curve of genus @xmath134 .      for any @xmath37 and @xmath18",
    "such that @xmath121 , and for any @xmath18-tuple of integers @xmath459 , if @xmath6 is a line bundle on the universal curve @xmath460 over @xmath25 , then we define @xmath461 to be the stack of genus @xmath37 , @xmath18-pointed , stable curves , together with the data of a coherent net of @xmath1th - roots of @xmath6 of type @xmath94 on the curve . isomorphisms of these objects are analogous to those described in definition [ iso ] ( where @xmath462 is replaced by a general line bundle @xmath6 ) .",
    "the main result of this section is that @xmath461 is a smooth deligne - mumford stack over @xmath463 $ ] , which is proper ( finite ) over @xmath25 .",
    "we begin with some deformation theory . in @xcite",
    "it is claimed that the universal deformation of a pure spin curve over the spectrum of a field is the @xmath1-fold cover of the universal deformation of the underlying curve @xmath464 \\rto { \\operatorname{spec\\,}}\\mathfrak{o } [ [ t_1 ,   \\dots , t_{3g-3}]]\\ ] ] given by @xmath465 when @xmath466 ( and @xmath467 are the loci of singularities of the underlying curve where the spin structure is not locally free ) .",
    "this claim is correct for @xmath1 prime , and even for @xmath1 composite , provided that no singularity has order @xmath76 with @xmath468 .",
    "however , when @xmath469 , this is no longer correct , and the additional datum of the coherent net of roots is precisely what is needed to remedy the defect .",
    "[ univ ] let @xmath470 be a genus-@xmath37 , stable , @xmath18-pointed curve , and let @xmath6 be a line bundle defined on the universal universal deformation of the curve @xmath470 .",
    "let @xmath471 be a coherent net of @xmath1th roots of the restriction @xmath472 to @xmath470 .",
    "the universal deformation space of the curve @xmath470 with the net @xmath473 is the cover    @xmath474 \\rto { \\operatorname{spec\\,}}\\mathfrak{o}[[t_1 , \\dots , t_m , t_{m+1 } ,   \\dots , t_{3g-3+n}]]\\ ] ] where @xmath475 , and @xmath476 , and @xmath257 is the order of the @xmath264th singularity of @xmath477 . in particular , for any @xmath6 defined on the universal curve over @xmath25 , the stack of curves with a coherent net of roots of @xmath6 is smooth .    let @xmath478 $ ] .",
    "there exists a unique curve @xmath9 over @xmath479 induced from the universal deformation of @xmath470 over @xmath480 $ ] .",
    "moreover , on the smooth locus @xmath481 of @xmath482 , there is a unique extension of the net of roots @xmath483 on the special fibre to a net of roots @xmath484 on @xmath485 .",
    "similarly , about each singularity of the special fibre , there is a local coordinate with @xmath486 .",
    "@xmath487 uniquely determine the order @xmath365 , so one may define the obvious coherent root net on the neighborhood @xmath488 of the local coordinate ; namely , if @xmath366 and @xmath489 , @xmath376 , and if @xmath297 , and @xmath298 are defined as the smallest non - negative integers congruent @xmath490 to @xmath491 and @xmath492 , respectively , then let @xmath493 . the homomorphism @xmath46 is defined to be the obvious power map . to glue these different nets on @xmath485 and @xmath488 together requires descent data , in the form of @xmath1th roots of the transition functions @xmath494 of @xmath6 on the intersections @xmath495 . on the special fibre",
    "these data exist ; namely for each @xmath28 , local isomorphisms @xmath496 uniquely determine descent data on the special fibre as @xmath497 which are @xmath28th roots of @xmath498 .",
    "now @xmath497 has a unique extension to some @xmath499 defined on an tale cover of @xmath500 .",
    "this is true since it holds on the strict henselization of the local ring of any point , and since @xmath501 is quasi - compact , the small tale site @xmath502 is noetherian , and thus there exists an tale cover of @xmath500 on which @xmath499 can be defined .",
    "the fact that @xmath1 is invertible implies that the choice of @xmath499 is unique .",
    "thus we have uniquely determined descent data for @xmath503 and @xmath504 and thus a canonically defined , coherent net @xmath44 for @xmath6 .    for any deformation @xmath505 of @xmath506 over an artin local ring @xmath507 , there is a canonical morphism of @xmath508 to @xmath509 $ ] induced by the underlying curve . and for each singularity , ( say defined by @xmath510 there is a choice of an element @xmath511 such that @xmath512 , such that the deformation is a net of power maps with respect to @xmath513 .",
    "thus we have a homomorphism @xmath514 ( defined by @xmath515 ) lifting the map @xmath516\\rto s$ ] .",
    "the induced net of roots over @xmath517 is locally isomorphic to the given deformation @xmath44 .",
    "but the gluing data induced by this choice of @xmath513 may not be the same as those induced by @xmath518 .",
    "nevertheless , these gluing data differ at worst by an @xmath292th root of unity ; and , as explained below , one can replace @xmath513 with @xmath519 , for an appropriate @xmath292th root of unity @xmath520 , to get a different morphism @xmath521 which will induce not only local isomorphisms of the induced net with @xmath44 , but which will also induce global isomorphisms .",
    "this shows that the deformation over @xmath479 is versal . since the isomorphism functor for coherent nets is unramified ( lemma [ unram ] ) , the deformation is actually universal .",
    "[ gluenote ] the choice of gluing data is uniquely determined once an isomorphism @xmath522 is chosen at each singularity of the central fibre ; however , a different isomorphism can yield potentially different gluing data .",
    "the difference between two sets of gluing data induced in this way is root of unity ; indeed , any automorphism of @xmath523 compatible with a @xmath28th power map to a rank - one free module is easily seen to be of the form @xmath524 with @xmath525 , ( that is @xmath526 is mapped by @xmath527 , and such an automorphism induces a change in @xmath528 on the @xmath215 branch by @xmath403 and a change on the @xmath216 branch by @xmath404 . in particular ,",
    "if the order of the singularity of @xmath529 is @xmath365 and if @xmath530 and @xmath531 , then since @xmath529 has an @xmath292th power map to @xmath532 , which is locally free near the singularity , all automorphisms must induce a change in gluing data which is an @xmath292th root of unity .",
    "however , if @xmath376 and @xmath533 , the automorphism @xmath534 extends to an isomorphism @xmath535 . and , since @xmath536 , and @xmath400",
    ", there is a unique @xmath292th root of unity @xmath520 such that @xmath537 and @xmath538 .",
    "thus @xmath539 induces an isomorphism @xmath540 where @xmath541 .",
    "consequently , the different set of gluing data induced by the automorphism @xmath539 could also be induced by making a different choice of the parameter @xmath223 , but leaving the isomorphism @xmath542 unchanged .",
    "this also illustrates the flaw in the argument of @xcite that @xmath372 has a smooth universal deformation space ; in that case there is no @xmath292th power map , so an automorphism may induce an @xmath1th root of unity which is not an @xmath292th root of unity , and thus can not be induced by a different choice of @xmath543 . in particular , the deformation given there is not versal .    we can now prove the main theorem of this section .",
    "[ line ] for any line bundle @xmath6 on the universal curve @xmath544 over @xmath25 , the stack @xmath545 is the normalization of the stack of `` good '' quasi - roots @xmath546 ( see section [ local ] ) , and in particular , it is a smooth , proper deligne - mumford stack over @xmath463 $ ] , and the natural forgetful morphism @xmath547 is finite and surjective .",
    "the proof follows directly from the description of the universal deformation and the fact that the diagonal is representable , proper , and unramified ( lemma [ unram ] ) .",
    "in fact , it is easy to produce a scheme @xmath386 which is tale over @xmath545 , since there is a scheme @xmath126 which is an tale cover of @xmath548 , and for which there is a local coordinate such that  good \" quasi - roots @xmath140 of @xmath90 have the form @xmath198 with @xmath549 , and @xmath38 is defined as @xmath550 for @xmath551 and @xmath552 .    if @xmath386 is the scheme locally defined as @xmath553/(t^{v/\\ell}-p , t^{u/\\ell}-q)$ ] where @xmath76 is the order of @xmath140 at the singularity , and @xmath554 , then letting the universal net of @xmath1th roots defined on @xmath386 be the obvious one , with the different choices of gluing for @xmath555 indexed by the elements of @xmath556 , it is clear that @xmath386 is tale over @xmath545 , and that @xmath386 is the normalization of @xmath126 .",
    "[ unram ]    the relative ( over @xmath25 ) diagonal @xmath557 is representable , proper , and unramified .",
    "that is to say , given a stable curve @xmath136 , the functor of isomorphisms of coherent nets of roots of @xmath6 on @xmath136 is representable , proper , and unramified .",
    "of course , since the diagonal @xmath558 is representable , proper , and unramified @xcite , this lemma shows that the ( absolute ) diagonal @xmath559 also has those properties .",
    "the functor of isomorphisms of curves and quasi - roots of a given line bundle @xmath6 has all of the stated properties ( * ? ? ?",
    "* propositions 4.1.14 , 4.1.15 , and 4.1.16 ) . ,",
    "but they do not depend on any property of @xmath125 except the fact that it is a line bundle on the universal curve , thus the results are true for a general @xmath6 . ] but an isomorphism of a coherent net of roots is just a coherent system of isomorphisms of the underlying quasi - roots .",
    "thus the functor of isomorphisms of nets of roots is representable as the locus where the individual isomorphisms of the underlying quasi - roots all agree .",
    "to check properness we use the valuative criterion and check that any isomorphism on the generic fibre extends to the whole curve .",
    "since this holds for the individual isomorphisms of the underlying quasi - roots , the only additional thing to check is that the individual isomorphisms of the terms in the net are all compatible .",
    "but it is clear in the case that the base is a discrete valuation ring that any isomorphisms that are compatible on the generic fibre must also be compatible on the entire curve .    to check that",
    "the functor of isomorphisms is unramified , it suffices to check that any automorphism of a coherent root net over a ring @xmath190 with square - zero ideal @xmath560 , such that the automorphism is the identity over @xmath561 is the identity over @xmath190 . but",
    "again , the automorphisms of the underlying quasi - roots must be trivial on @xmath190 when they are trivial on @xmath562 , and thus the automorphism of the net is also trivial on @xmath190 .",
    "our chief interest is in @xmath1-spin curves , that is when @xmath6 is the canonical ( relative dualizing ) bundle of the universal curve .",
    "we denote the stack of @xmath18-pointed , genus-@xmath37 , stable @xmath1-spin curves of type @xmath94 by @xmath97 , smooth spin curves by @xmath563 and their coarse moduli spaces by @xmath109 and @xmath564 , respectively . in this section",
    "we study some basic geometric properties of these spaces and the relations between them , and we describe the configuration of their irreducible ( and connected ) components .",
    "since the stacks are all deligne - mumford , they have coarse moduli spaces which are _ a priori _ only algebraic spaces ( * ? ? ?",
    "* corollary 1.3.1 ) .",
    "but it is straightforward to see that in our case , the moduli spaces are actually projective schemes .",
    "the moduli spaces @xmath109 and @xmath564 are normal and projective ( respectively , quasi - projective ) .",
    "the coarse moduli space of any smooth algebraic stack is normal .",
    "( this can be seen from the proof of ( * ? ? ?",
    "* proposition 2.8 ) . )",
    "the natural forgetful map @xmath565 to the moduli @xmath566 of stable @xmath18-pointed curves is surjective and finite .",
    "thus any ample bundle on @xmath566 pulls back to an ample bundle on @xmath109 ( see ( * ? ? ?",
    "* proof of 3.11 ) ) .",
    "but it is well known that @xmath566 is projective ( e.g. , ( * ? ? ?",
    "* theorem 6.40 ) ) , and thus @xmath109 is also .",
    "there are several natural morphisms between the various stacks ( and moduli spaces ) .    1 .",
    "there is a canonical isomorphism from @xmath567 to @xmath568 where @xmath181 is @xmath18-tuple whose entries are all congruent to @xmath569 ; namely for any net @xmath44 of type @xmath94 , let @xmath379 be the net given by @xmath570 where @xmath91 is the @xmath264th marked point , and @xmath381 is the obvious homomorphism . because of this canonical isomorphism , we will often assume that all the @xmath92 lie between @xmath118 and @xmath144 ( inclusive ) .",
    "2 .   the universal curve over @xmath97 is easily seen to be the stack @xmath571 , where @xmath181 is the @xmath572-tuple @xmath573 ; and @xmath217 is the morphism which simply forgets the @xmath572st marked point .",
    "if @xmath574 is not congruent to zero @xmath575 , there is no such morphism , since the degree of @xmath576 is @xmath577 and the degree of @xmath462 is @xmath578 , but both can not be simultaneously divisible by @xmath1 , and thus at least one stack is empty .",
    "3 .   if @xmath292 divides @xmath1 and @xmath181 is the @xmath18-tuple @xmath579 such that @xmath166 is the least non - negative integer congruent @xmath580 , then there is a natural map @xmath581 } \\overline{{\\mathfrak { s}}}^{1/s,{\\mathbf{m}}'}_{g , n}$ ] defined by forgetting all of the terms in the net except those indexed by divisors of @xmath292 . + over a smooth curve , since the nets are determined by @xmath77 ( or @xmath582 for @xmath583 ) , this morphism @xmath584 $ ] is equivalent to replacing @xmath51 with @xmath585 , and @xmath54 with @xmath586 , where @xmath587 is the canonical inclusion . in the case that @xmath588 and @xmath292 are relatively prime , @xmath563 is actually a product @xmath589 this follows from the fact that on one hand , the obvious maps @xmath590 and @xmath591 induce a map from @xmath97 to the product . and on the other hand , the inverse of this map can be constructed as @xmath592 , where @xmath593 .",
    "it is not difficult to check that this map does not depend on the specific choice of @xmath401 and @xmath38 , and so is well - defined .        in the special case when @xmath1 is @xmath3 and @xmath595 ,",
    "it is known ( see @xcite or @xcite ) that @xmath596 is the disjoint union of two irreducible components @xmath597 and @xmath598 corresponding to the even and odd theta characteristics , respectively .",
    "we now extend these results for general @xmath37 , @xmath1 , @xmath18 , and @xmath139 , assuming the base field is @xmath594 .",
    "if @xmath599 , let @xmath600 , if @xmath19 , let @xmath601 be @xmath602 , and if @xmath603 , let @xmath604 be @xmath605 ; thus @xmath606 is either @xmath134 or @xmath3 for @xmath607 . for any genus @xmath37 , let @xmath608 be the number of positive divisors of @xmath604 , including @xmath609 and @xmath134 .    [ disjoint ] the moduli space @xmath109 is the disjoint union of @xmath610 irreducible components .    in the case of @xmath599 , @xmath462 has a unique @xmath1th root , if any , and so the coarse moduli @xmath611 is either empty or is isomorphic to the coarse moduli space @xmath612 for all @xmath1 , @xmath18 , and @xmath139 . in either case",
    "it is irreducible .",
    "of course the additional structure of the homomorphisms in the net prevents the stack @xmath613 from being isomorphic to the stack @xmath614 .",
    "consider now the case that @xmath595 .",
    "first , to see that the number of irreducible ( and connected ) components of @xmath109 is at least @xmath610 , consider the morphism @xmath615:{\\overline{{{\\mathcal { s}}}}^{1/r,\\mathbf m}_{g , n}}\\rto \\overline{{{\\mathcal { s}}}}^{1/{\\ell_{g , r}},{\\mathbf{m}}'}_{g , n}\\ ] ] since @xmath609 divides all of the @xmath92 , it will be enough to show that @xmath109 has @xmath610 disjoint irreducible components when @xmath1 divides all of the @xmath92 .",
    "but in this case @xmath109 is canonically isomorphic to @xmath616 , so it suffices to assume @xmath617 .    in the case of @xmath19",
    ", @xmath125 is trivial , and @xmath1th roots of @xmath125 are simply @xmath1-torsion points of the jacobian .",
    "this case follows from a classical fact .",
    "[ elliptic ] the moduli space of elliptic curves with an @xmath1-torsion point consists of one irreducible connected component for each positive divisor of @xmath1 .    indeed , if @xmath618 is represented as the quotient of @xmath619 for some lattice @xmath620 , and @xmath621 is represented as the quotient @xmath622 , giving an isomorphism @xmath623 , then a point corresponding to @xmath624 is in the irreducible component indexed by the divisor @xmath625 ( * ? ? ?",
    "* v.3.3 ) .    in the case",
    "that @xmath607 then @xmath609 is either @xmath134 or @xmath3 . in the first case",
    "there is nothing to prove , and in the second case the space @xmath626 is @xmath627 . in this case",
    "we have the following lemma , which is a generalization of its classical counterpart , and which completes the proof that for all @xmath37 , @xmath1 , @xmath18 , and @xmath94 the number of irreducible and connected components is at least @xmath610 .",
    "[ def - invar ] if @xmath92 is even for every @xmath264 , then the function @xmath628 , which takes @xmath629 to @xmath630 , is locally constant .",
    "the proof of lemma  [ def - invar ] is an easy generalization of mumford s proof ( * ? ? ?",
    "* section 1 ) of the corresponding result when @xmath631 .",
    "mumford s idea is to take a divisor @xmath632 of high degree and make a quadratic form @xmath210 on @xmath633",
    ". then we can express @xmath634 as the intersection of two maximal @xmath210-isotropic subspaces and use the fact @xcite that the dimension ( mod @xmath3 ) of such an intersection is constant under deformation .    to prove that there are no more irreducible components than @xmath610 we first note that when @xmath635 , and @xmath19 , the claim holds by lemma [ elliptic ] .",
    "similarly , if @xmath31 and @xmath595 then we have the following lemma .",
    "[ irred-2 ] if @xmath92 is even for every @xmath264 , and if @xmath636 and @xmath637 are the respective inverse images under @xmath638 of @xmath118 and @xmath134 , then @xmath636 and @xmath637 are irreducible .",
    "the proof of lemma  [ irred-2 ] is an easy generalization of cornalba s proof ( * ? ? ?",
    "* lemma 6.3 ) of the corresponding result when @xmath631 .",
    "cornalba s idea is to check the result explicitly for the cases @xmath19 and @xmath639 ( i.e. , write out all of the square roots of the canonical bundle  or in our case , the square roots of the bundle @xmath640 ) .",
    "and then one can use induction and a degeneration argument to reduce to the lower genus case .",
    "this argument works just as well for our case , except that in the case of @xmath19 and @xmath639 , all of the @xmath92 must be even to write out the square roots in the form needed to see that monodromy acts transitively on the even ( respectively , odd ) square roots .",
    "the proof of theorem [ disjoint ] now follows from the theorem below , which is a generalization of results of sipe @xcite and hain @xcite .",
    "[ transitive ] for any fixed , smooth curve @xmath9 of genus @xmath641 , if @xmath642 then the monodromy group acts transitively on the set @xmath643 $ ] of isomorphism classes of spin structures on @xmath9 ( where two spin structures that differ by an automorphism of @xmath9 are not considered to be isomorphic ) . and",
    "if @xmath644 then the monodromy group acts transitively on each fibre of the map @xmath643 \\xrightarrow{[r/\\ell_{g , r}(\\mathbf{m } ) ] }    \\overline{{{\\mathcal { s}}}}^{1/\\ell_{g , r},{\\mathbf{m}}'}_{g , n}[x]$ ] .    to prove theorem  [ transitive ]",
    ", we need to further study the action of the mapping class group on the fibres of @xmath564 over @xmath645 .",
    "in particular , note that if @xmath103 is the ( pure ) mapping class group for @xmath18-pointed curves , and if @xmath646 is the group of @xmath1-torsion points in the jacobian of a fixed curve @xmath647 \\in   { { { \\mathcal { m}}}_{g , n}}$ ] , then the group @xmath103 acts on the principal homogeneous @xmath646-space @xmath643 $ ] in a way compatible with the usual action of @xmath103 on @xmath646 .",
    "the monodromy action induces a homomorphism from @xmath103 into the group of affine ( with respect to @xmath646 ) , invertible transformations @xmath648 of @xmath643 $ ] .",
    "and we have the following diagram :    & & & & _ g , n + & & & & + 0 & & _ r x & ^t & a & & gl_2g(z / rz ) & & 1 +    here the horizontal sequence is exact , and the map @xmath126 simply takes an element @xmath649 to the automorphism that translates by @xmath649 .",
    "of course , since the mapping class group preserves the intersection product on @xmath650 , the image of @xmath103 in @xmath651 is a subgroup of the symplectic group @xmath652 and it is well known ( see , for example ( * ? ? ? *",
    "178 ) ) that the image of @xmath103 is all of @xmath653    we are especially interested in the elements of @xmath103 which act trivially on the homology @xmath650 .",
    "the subgroup @xmath106 of all such elements is called the _",
    "torelli group_. the main step in the proof of theorem  [ transitive ] is the following lemma .",
    "[ mono - lemma ] if @xmath607 , the image of the torelli group in the group of translations is the subgroup of @xmath646 generated by @xmath654 , and if @xmath19 then the image of the torelli group is generated by @xmath655 .",
    "more exactly , if @xmath67 is the image of @xmath103 in @xmath648 , then we have the following exact sequences .    for @xmath607 @xmath656 and for @xmath19",
    "@xmath657    the lemma implies theorem  [ transitive ] ( transitivity of the monodromy action ) in the case that @xmath658 . and on the other hand , if @xmath644 , then the map @xmath643 \\xrightarrow{[r/\\ell_{g , r}(\\mathbf{m } ) ] }",
    "{ { \\mathcal { s}}}_{g , n}^{1/\\ell,{\\mathbf{m } } ' } [ x]$ ] is equivariant under the action of the mapping class group , and any two spin structures that map to the same point of @xmath659 $ ] must differ by a point of @xmath660 .",
    "therefore , the orbits of the action of @xmath660 , and hence also the orbits of the action of @xmath103 , are exactly the fibres of this map .",
    "thus all that is necessary for the proof of theorem  [ transitive ] is to prove the lemma .",
    "the following proof generalizes and expands ideas from the results of hain @xcite and sipe @xcite .",
    "( of lemma [ mono - lemma ] ) rather than studying the @xmath1th roots of the bundle @xmath661 , it is convenient to dualize and study the action on the @xmath1th roots of the bundle @xmath662 , where @xmath663 is the tangent bundle to @xmath9 , let @xmath664 denote the @xmath665-bundle , obtained by removing the zero section from @xmath10 and retracting to the unit circle in each fibre .",
    "the euler class of @xmath664 is @xmath666 and is divisible by @xmath1 , so the end of the gysin sequence gives a short exact sequence @xmath667 if @xmath668 \\rightarrow x$ ] is a loop in @xmath9 that does not pass through any of the @xmath18 points @xmath91 , then there is a canonical lift of @xmath669 to a loop @xmath670 in @xmath664 , which is defined as @xmath671 .",
    "note that for any small loop @xmath672 , homotopic to zero , which does not pass through any of the @xmath91 , the lift @xmath673 corresponds to @xmath134 or @xmath674 in the group @xmath675 on the left side of the gysin sequence  .",
    "given any @xmath1th root @xmath676 of @xmath10 , there is a natural covering map of @xmath665-bundles @xmath677 , which induces a map @xmath678 , and thus a homomorphism @xmath679 .",
    "moreover , this map takes a lift @xmath673 of a small loop @xmath672 , homotopic to zero in @xmath9 , and maps it to @xmath680 . in other words ,",
    "the @xmath1th root induces a splitting of the gysin sequence .",
    "conversely , given any such splitting , there is a covering space of @xmath664 that can easily be seen to define an @xmath1th root of @xmath10 . in particular",
    ", we have the following fact , originally due to sipe @xcite in the case when @xmath631 .",
    "[ root - split ]    the @xmath1th roots of @xmath664 are in a natural one - to - one correspondence with the splittings of the sequence",
    ".    we will compute the action of certain elements of @xmath103 on @xmath681 .",
    "choose a basis for @xmath681 in the following way .",
    "first take an explicit choice of cycles @xmath682 which form a basis of @xmath683 , and such that for all @xmath684 , the intersection form @xmath685 , and @xmath686 if @xmath128 is not @xmath687 or @xmath688 .",
    "an example of such a collection of cycles is depicted in figure  [ basis ] .     a collection @xmath689 of cycles forming a basis for @xmath650 , such that the intersection form , and the intersection numbers for all other pairs are zero .",
    "]    we also insist that none of these cycles contain any of the @xmath18 marked points of @xmath9 .",
    "now lift these basis cycles in the usual way to @xmath690 .",
    "as before , take a small loop @xmath672 , which does not pass through any of the @xmath91 and is homotopic to zero , and lift it to @xmath673 .",
    "now the set @xmath691 gives a basis for @xmath681 , and it defines a splitting of the sequence . any other splitting is given by simply adding this splitting map @xmath692 to an element of @xmath693 . and given a splitting induced by @xmath694 , we will index the remaining @xmath1th roots by the corresponding @xmath134-cocycle .",
    "given any simple closed curve @xmath695 on @xmath9 that misses the marked points @xmath696 , there is a corresponding dehn twist @xmath697 that is an element of @xmath103 . using the picard - lefschetz theorem @xcite , one can show ( see , for example ( * ? ? ?",
    "* proposition 3.1 ) ) that the action of @xmath697 on the lift @xmath670 to @xmath664 of a cycle @xmath669 on @xmath9 is given by the following generalized picard - lefschetz formula .",
    "@xmath698 in particular , the action of @xmath697 on @xmath673 is trivial .     a bounding pair of simple closed curves , separating @xmath9 into @xmath699 and @xmath700 of genus @xmath701 and @xmath702 respectively , and containing the marked points @xmath703 and the points @xmath704 , respectively . ]",
    "now consider a cycle consisting of a bounding pair ( sometimes called a _ cut pair _ ) of simple closed curves @xmath705 and @xmath706 in @xmath9 which separate @xmath9 into two surfaces @xmath699 and @xmath700 and such that the cycle @xmath707 is homologous to zero .",
    "assume these two surfaces are of genus @xmath708 and @xmath709 , respectively , and assume that the points @xmath710 are in @xmath699 , and the remaining points are in @xmath700 as in figure  [ bpscc ] . if the cycles @xmath705 and @xmath706 have non - trivial intersection number with @xmath711 , then @xmath712 , and the generalized picard - lefschetz formula ( [ pl ] ) gives @xmath713 since the cycle @xmath714 is homologous to zero , the cycle @xmath715 in @xmath681 is an integral multiple ",
    "say @xmath716of @xmath673 .",
    "thus the action induced by @xmath717 on the set of @xmath1th roots of @xmath10 is simply the one that translates @xmath718 by the cocycle that takes @xmath711 to @xmath719 .",
    "we need , therefore , to compute @xmath720 . to this end , define a @xmath3-chain in @xmath664 , using , as in ( * ? ? ?",
    "* proposition 3.2 ) , a singular unit vector field on @xmath699 . to obtain this vector field , simply glue together @xmath721 copies of the field represented in figure  [ vectfield ] to make a vector field on the @xmath699 .     a singular vector field , which when joined to @xmath721 other such pieces , defines a singular vector field in @xmath722 , homeomorphic to @xmath699 . removing a small disc near each singularity",
    "gives a @xmath3-chain in @xmath664 with boundary @xmath723 plus @xmath724 @xmath134-cycles homologous to @xmath673 . ]    cutting out a small disc around each point where the vector field is singular , we obtain a surface in the unit tangent bundle @xmath725 bounded by @xmath726 , @xmath727 , and @xmath721 cycles homologous to @xmath673 .",
    "if we consider the vector field as a section of @xmath664 instead , singularities at the marked points @xmath728 do not require the removal of the corresponding discs , and the @xmath3-chain in @xmath664 is bounded by @xmath726 , @xmath729 , and by @xmath730 cycles homologous to @xmath673 .",
    "thus the action induced by @xmath717 on the set of @xmath1th roots of @xmath10 is translation by the cocycle that takes @xmath711 to @xmath731 , i.e. , it is @xmath732 times the poincar dual of @xmath705 .",
    "note that this is well - defined because the sum @xmath733 is divisible by @xmath1 .",
    "it is easy to see that for any basis cycle @xmath711 , for any integers @xmath708 and @xmath709 that sum to @xmath734 , and for any subset @xmath735 of the marked points , there is a bounding pair @xmath705 and @xmath706 that are each dual to @xmath711 , and which cut @xmath9 into two surfaces @xmath699 and @xmath700 of genera @xmath708 and @xmath709 respectively .",
    "moreover , this can be done so that @xmath699 contains the points @xmath735 , and @xmath700 contains the remaining marked points .",
    "thus the action of @xmath103 on the @xmath1th roots of @xmath10 includes all translations by elements in the subgroup @xmath736 if @xmath16 and @xmath737 if @xmath19 .",
    "proposition  [ torelli ] below shows that the torelli group is generated by dehn twists on bounding ( cut ) pairs , as above , and by dehn twists on separating simple closed curves ( also called bridges ) .",
    "thus all that remains in the proof of the lemma is to show that dehn twists along separating simple closed curves act trivially on @xmath643 $ ] .",
    "but this follows immediately from the generalized picard - lefschetz formula   and the fact that the intersection of a separating simple closed curve with the @xmath711 is zero .",
    "this completes the proof of the lemma and also the proof of theorem  [ transitive ] .",
    "the following proposition gives a set of generators for the torelli group in all genera greater than zero , and for all @xmath18 .",
    "although this result follows easily from known results , it does not seem to exist , as such , in the literature , so we include it here for completeness .",
    "[ torelli ] for @xmath595 and @xmath738 the torelli group @xmath106 is generated by dehn twists on bounding pairs of simple closed curves and dehn twists on separating simple closed curves .",
    "if @xmath739 , a finite subset of such twists generate @xmath106    in the case that @xmath740 and @xmath631 the result is due to powell @xcite , and johnson @xcite proved that a finite subset of these will suffice to generate @xmath741 . in the case of @xmath19 and @xmath631 or @xmath457 it is a classical fact that @xmath742 . and",
    "for @xmath639 and @xmath631 the result of the proposition was proved by g. mess @xcite , but no finite set of generators is known .    for every @xmath743 birman ( * ? ? ?",
    "* pp158 - 60 ) gives a finite collection of bounding pairs of simple closed curves ( unlike those of johnson , these bounding pairs may cut the surface so that one of the resulting pieces has genus zero ) such that dehn twists on these generate the kernel @xmath744 of the natural homomorphism @xmath745 , and since @xmath746 is surjective , we have an exact sequence @xmath747 by induction , the proposition holds for all @xmath18 .    for @xmath607 the number of elements in @xmath748 $ ] and @xmath749 $ ] is easily computed as the number of even , respectively odd , theta - characteristics times the degree of the morphism @xmath750 $ ] ( which is the order of the group @xmath751 ) . and",
    "it is known @xcite that of the @xmath752 square roots of @xmath24 , @xmath753 are even , and @xmath754 are odd ; so there are @xmath755 even elements in @xmath756 $ ] and @xmath757 odd , ( some of these elements may be identified by automorphisms of @xmath9 ) .    similarly , for @xmath19",
    "the number of elements in the component of @xmath758 indexed by @xmath28 is well - known ( * ? ? ?",
    "* prop 3.6 ( 2 ) ) , and easily calculated to be @xmath759 when @xmath9 has no automorphisms ( generically when @xmath760 ) .",
    "and the degree of @xmath761 $ ] is @xmath762 .    using the techniques of the proof of lemma  [ mono - lemma ] to calculate the action of various dehn twists on @xmath643 $ ]",
    ", it is not hard to see that , when @xmath763 , the stabilizer of one point in @xmath643 $ ] is not normal in @xmath103 .",
    "that is , the finite cover @xmath764 is not regular .",
    "this is an interesting contrast to the fact that the subgroup of @xmath103 which fixes _ all _ the points of @xmath643 $ ] is normal ( * ? ? ?",
    "* theorem c ) .",
    "although in the previous section we have been working over the complex numbers @xmath765 , @xmath1-spin curves form a smooth deligne - mumford stack over @xmath766 $ ] .",
    "moreover , as in the case of @xmath35 ( see @xcite ) , irreducibility in characteristic @xmath118 gives the same result in any characteristic relatively prime to @xmath1 .",
    "[ all - char ] for any field @xmath128 with characteristic prime to @xmath1 , the moduli space @xmath564 and and its compactification @xmath109 of pure spin curves over @xmath128 are irreducible if @xmath658 . in general , over any algebraically closed field , the moduli space is the disjoint union of @xmath610 irreducible components .",
    "the proof is essentially the same as for the case of @xmath767 , but we will sketch the main steps .    first , note that it is well - known and straightforward to prove ( * ? ? ?",
    "* lemma  2.3 ) that an algebraic stack is irreducible or connected if and only if its coarse moduli space has the same property .",
    "it is easy to see from the universal deformation of stable spin curves that the stack @xmath563 of smooth spin curves is an open dense substack of the stack @xmath97 of stable spin curves , and thus its irreducible components are the non - empty intersections of @xmath563 with the irreducible components of @xmath97 ( * ? ? ?",
    "* prop 4.15 ) .",
    "so it suffices to prove the theorem in the case of @xmath97 .",
    "since @xmath97 is smooth , its connected components are irreducible ( * ? ? ?",
    "* prop 4.16 ) .",
    "moreover , if for each @xmath292 in @xmath768 $ ] , we define @xmath769 to be the number of connected components of the geometric fibre of @xmath97 over @xmath292 , then @xmath769 is a constant function ( * ? ? ?",
    "* prop 4.17 ) .",
    "and finally , by theorem  [ transitive ] the assertion of theorem  [ all - char ] holds over @xmath765 for the moduli space @xmath109 , and thus for the stack @xmath97 .",
    "consequently the assertion must hold for both the stack and its moduli space over all algebraically closed fields . and in the case that @xmath658 the stack and its moduli space must be irreducible over any field .",
    "i wish to thank dan abramovich , steve humphries , and arkady vaintrob for helpful discussions and suggestions regarding this work .",
    "i am also grateful to heidi jarvis for help with typesetting .",
    "richard  m. hain , _ torelli groups and geometry of moduli spaces of curves _ , current topics in complex algebraic geometry ( berkeley , ca , 1992/93 ) , math .",
    "28 , cambridge univ . press , cambridge , 1995 , pp .",
    "97143 .                                  martin pikaart and johann de  jong , _ moduli of curves with non - abelian level structure _ , the moduli space of curves ( texel island , 1994 ) , progr .",
    "129 , birkhuser boston , boston , ma , 1995 , pp .",
    "483509 .",
    "to3em , _ algebraic geometry associated with matrix models of two - dimensional gravity _ , topological methods in modern mathematics ( stony brook , ny , 1991 ) , publish or perish , houston , tx , 1993 , pp .  235269 ."
  ],
  "abstract_text": [
    "<S> this article treats various aspects of the geometry of the moduli @xmath0 of @xmath1-spin curves and its compactification @xmath2 . </S>",
    "<S> generalized spin curves , or @xmath1-spin curves , are a natural generalization of @xmath3-spin curves ( algebraic curves with a theta - characteristic ) , and have been of interest lately because of the similarities between the intersection theory of these moduli spaces and that of the moduli of stable maps . in particular , these spaces are the subject of a remarkable conjecture of e. witten relating their intersection theory to the gelfand - dikii ( @xmath4 ) heirarchy . there is also a @xmath5-algebra conjecture for these spaces @xcite generalizing the the virasoro conjecture of quantum cohomology .    for any line bundle @xmath6 on the universal curve over the stack of stable curves </S>",
    "<S> , there is a smooth stack @xmath7 of triples @xmath8 of a smooth curve @xmath9 , a line bundle @xmath10 on @xmath9 , and an isomorphism @xmath11 . in the special case </S>",
    "<S> that @xmath12 is the relative dualizing sheaf , then @xmath13 is the stack @xmath14 of @xmath1-spin curves .    </S>",
    "<S> we construct a smooth compactification @xmath15 of the stack @xmath7 , describe the geometric meaning of its points , and prove that it is projective .    </S>",
    "<S> we also prove that when @xmath1 is odd and @xmath16 , the compactified stack of spin curves @xmath17 and its coarse moduli space @xmath2 are irreducible , and when @xmath1 is even and @xmath16 , @xmath2 is the disjoint union of two irreducible components . </S>",
    "<S> we give similar results for @xmath18-pointed spin curves , as required for witten s conjecture , and also generalize to the @xmath18-pointed case the classical fact that when @xmath19 , @xmath20 is the disjoint union of @xmath21 components , where @xmath21 is the number of positive divisors of @xmath1 . </S>",
    "<S> these irreducibility properties are important in the study of the picard group of @xmath17 @xcite , and also in the study of the cohomological field theory related to witten s conjecture @xcite . </S>"
  ]
}