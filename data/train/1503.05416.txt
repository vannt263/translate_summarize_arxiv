{
  "article_text": [
    "risk management or the problem of finding an optimal balance between expected returns and risk taking is a central topic of research within finance and economics . applications such as portfolio optimization , optimal stopping and liquidation problems have been of particular interest in the literature . in such applications",
    "it is common to consider utility functions of mean - variance type .",
    "mean - variance utility functions constitute an important subclass of the so called time inconsistent utility functions for which the bellman principle of dynamic programming does not hold .",
    "problems involving such utilities can therefore not be approached by the classical hamilton - jacobi - bellman equation .",
    "this question has been addressed in andersson and djehiche @xcite , bjrk and murgoci @xcite , bjrk , murgoci and zhou @xcite , djehiche and huang @xcite , ekeland and lazrak @xcite and ekeland and pirvu @xcite . in this paper",
    "we develop a method of studying a mean - variance setting of the celebrated principal - agent problem by means of the stochastic generalization of pontryagin s maximum principle .",
    "+ the precise structure of the principal - agent problem goes as follows : the principal employs an agent to manage a certain well - defined noisy asset over a fixed period of time . in return for his / her effort the agent receives a compensation",
    "according to some agreement , set before the period starts .",
    "it could for instance involve a lump - sum payment at the end of the period , a continuously paying cash - flow during the period , or both .",
    "depending on what information the principle has at hand to form an agreement , one distinguishes between two cases ; the _ full information_- and the _ hidden action - problem_. the full information case differs from the hidden action case in that the principal can observe the actions of the agent in addition to the evolution of the asset . therefore , under full information the principal is allowed to tailor a contract based on both outcome and effort , not only outcome as for hidden actions . in both cases the contract is constrained by the agent via a so called _ participation constraint _ , clarifying the minimum requirements of the agent to engage in the project . under hidden action",
    "the contract is further constrained by the _ incentive compatibility _ condition , meaning that as soon as a contract is assigned the agent will act as to maximize his / her own utility and not necessarily that of the principal .",
    "+ the pioneering paper in which the principal - agent problem first appears is holmstrm and milgrom @xcite .",
    "they study a time continuous model over a finite period in which the principle and the agent both optimize exponential utility functions . the principal rewards the agent at the end of the period by a lump - sum payment . as a result",
    "they find that the optimal contract is linear with respect to output .",
    "the paper @xcite is generalized in @xcite by shttler and sung to a mathematical framework that uses methods from dynamic programming and martingale theory to characterize contract optimality .",
    "+ the interest in continuous time models of the principal - agent problem has grown substantially since the first studies appeared . in @xcite , @xcite , @xcite , @xcite ( only to mention a few ) the authors analyze continuous time models in a classical setting , i.e. having one principal and one agent .",
    "such models are also covered in the recent book @xcite by cvitani and zhang .",
    "other models such as various multiplayer versions have been studied for instance in @xcite and @xcite . +",
    "our goal is to characterize optimal contracts in the classical setting of principal - agent problem under hidden action for time inconsistent utility functions .",
    "we consider two different modeling possibilities ; _ hidden action in the weak formulation _ and _ hidden contract in the strong formulation_. in the first model the agent has full information of the mechanisms behind the cash - flow and the principal wishes to minimize his / her mean - variance utility . in the latter model",
    "the agent does not know the structure of the cash - flow and has to protect him / her - self from high levels of risk by an additional participation constraint of variance type . to the best of our knowledge",
    "this has not previously been addressed in the literature . in order to carry the program through",
    "we use recent generalizations of pontryagin s stochastic maximum principle .",
    "the idea is to consider the principal - agent problem as a sequential optimization problem .",
    "we first consider the agent s problem of characterizing optimal choice of effort .",
    "then we proceed to the principal s problem which , by incentive compatibility , becomes a constrained optimal control problem of a forward - backward stochastic differential equation ( from now on fbsde ) .",
    "a similar scheme was considered in @xcite but without the non - standard mean - variance consideration . optimal control with respect to mean - variance utility functions have previously been studied in for instance zhou and li @xcite and andersson and djehiche @xcite .",
    "+ in the present literature of the principal - agent problem the paper closest to ours is @xcite , in which a similar maximum principle approach is used . the setting is classical ( without time inconsistent utility functions ) and the author finds a characterization for optimal choice of effort in the agent s problem . the full model involving the constrained principal s problem , however , is not considered .",
    "our contribution to the existing literature should be regarded as mathematical rather than economical .",
    "we present a general framework for solving a class of principal - agent problems , without claiming or investigating possible economical consequences .",
    "the main results of our study are presented in theorem [ hiddenactionmainthm ] and theorem [ hiddencontractmainthm ] in which a full characterization of optimal contracts is stated for two different models .",
    "+ the paper is organized as follows : in section 2 we introduce the mathematical machinery from stochastic optimal control theory that is necessary for our purposes .",
    "mean - variance maximum principles are then derived in section 3 by results from section 2 in two different but related cases .",
    "section 4 is devoted to fit the methods from previous sections into a principle - agent framework .",
    "we consider two different models under hidden action and find necessary conditions for optimality . finally in section 5",
    "we make the general scheme of section 4 concrete by a simple and fully solved example in the linear - quadratic ( lq)-setting .",
    "let @xmath0 be a fixed time horizon and @xmath1 be a filtered probability space satisfying the usual conditions on which a @xmath2-dimensional brownian motion @xmath3 is defined .",
    "we let @xmath4 be the natural filtration generated by @xmath5 augmented by all @xmath6-null sets @xmath7 , i.e. @xmath8 where @xmath9 .",
    "+ consider the following control system of mean - field type : @xmath10,s(t ) ) dt + \\sigma ( t , x(t),\\mathbb{e}[x(t ) ] ) dw_t , \\hspace{0.5 cm } t \\in ( 0,t]\\\\      x(0 ) = x_0      \\end{array } \\right.\\ ] ] with a cost functional of the form @xmath11,s(t ) ) dt + h(x(t),\\mathbb{e}[x(t ) ] ) \\right ] ,      \\label{introcostfunc1}\\ ] ] where @xmath12 \\times { \\mathbb{r}}\\times { \\mathbb{r}}\\times s \\rightarrow { \\mathbb{r}}$ ] , @xmath13 \\times { \\mathbb{r}}\\times { \\mathbb{r}}\\rightarrow { \\mathbb{r}}$ ] , @xmath14 \\times { \\mathbb{r}}\\times { \\mathbb{r}}\\times s \\rightarrow { \\mathbb{r}}$ ] and @xmath15 and @xmath16 is a non - empty subset .",
    "the control @xmath17 is _ admissible _ if it is an @xmath4-adapted and square - integrable process taking values in @xmath18 .",
    "we denote the set of all such admissible controls by @xmath19 $ ] . in order to avoid technicalities in regularity that are irrelevant for our purposes we state the following assupmtion . + * assumption 1 . *",
    "the functions @xmath20 , @xmath21 , @xmath22 and @xmath23 are @xmath24 with respect to @xmath25 and @xmath26 , where @xmath26 denotes the explicit dependence of @xmath27 $ ] .",
    "moreover , @xmath20 , @xmath21 , @xmath22 and @xmath23 and their first order derivatives with respect to @xmath25 and @xmath26 are bounded and continuous in @xmath25 , @xmath26 and @xmath28 .",
    "+ we are interested in the following optimal control problem : + * problem ( s ) .",
    "* minimize ( [ introcostfunc1 ] ) over @xmath19 $ ] .",
    "+ any @xmath29 $ ] satisfying @xmath30 } } \\mathcal{j}(s(\\cdot ) ) \\vspace{0.2cm}\\ ] ] is called an _ optimal control _ and the corresponding @xmath31 is called the _",
    "optimal state process_. we will refer to @xmath32 as an _ optimal pair_. + the following stochastic maximum principle for characterizing optimal pairs in problem ( s ) was found by buckdahn , djehiche and li in @xcite .",
    "let the conditions in assumption 1 hold and consider an optimal pair @xmath32 of problem ( s ) .",
    "then there exists a pair of processes @xmath33 satisfying the adjoint equation @xmath34 , \\bar{s}(t ) ) p(t ) + { \\mathbb{e}}[b_{\\tilde{x}}(t , \\bar{x}(t ) , { \\mathbb{e}}[\\bar{x}(t ) ] , \\bar{s}(t ) ) p(t)]\\right . \\\\      \\vspace{0.1cm}\\hspace{1.2cm}\\left .",
    "+ \\sigma_x ( t , x(t),\\mathbb{e}[\\bar{x}(t ) ] ) q(t ) + { \\mathbb{e}}[\\sigma_{\\tilde{x } } ( t , x(t),\\mathbb{e}[\\bar{x}(t ) ] ) q(t)]\\right.\\\\      \\vspace{0.1cm}\\hspace{1.2cm}\\left .",
    "- f_x(t , \\bar{x}(t ) , \\mathbb{e}[\\bar{x}(t ) ] ) , \\bar{s}(t ) ) - { \\mathbb{e}}[f_{\\tilde{x}}(t , \\bar{x}(t ) , \\mathbb{e}[\\bar{x}(t ) ] ) , \\bar{s}(t ) ) ] \\right\\ } dt\\\\      \\vspace{0.1cm}\\hspace{1.2cm}+ q(t ) dw_t , \\\\",
    "p(t ) = -h_x(\\bar{x}(t ) , { \\mathbb{e}}[\\bar{x}(t ) ] ) - { \\mathbb{e}}[h_{\\tilde{x}}(\\bar{x}(t ) , { \\mathbb{e}}[\\bar{x}(t ) ] ) ] ,      \\end{array }      \\right.\\ ] ] such that @xmath35 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ] where the hamiltonian function @xmath36 is given by @xmath37,s ) \\cdot p   + \\sigma(t , x,{\\mathbb{e}}[x ] ) \\cdot q - f(t , x,{\\mathbb{e}}[x],s)\\ ] ] for @xmath38 \\times { \\mathbb{r}}\\times s \\times { \\mathbb{r}}\\times { \\mathbb{r}}$ ] .",
    "[ prelthmsmp1 ]    it is important to remember that theorem [ prelthmsmp1 ] merely states a set of necessary conditions for optimality in ( s ) .",
    "it does not claim the existence of an optimal control .",
    "existence theory of stochastic optimal controls ( both in the strong and the weak sense ) has been a subject of study since the sixties ( see e.g. @xcite ) and , at least in the case of strong solutions , the results seem to depend a lot upon the statement of the problem . in the weak sense",
    "an account of existence results is to be found in @xcite ( theorem 5.3 , p. 71 ) .",
    "[ prelrmkexistence ]    restricting the space @xmath39 to be convex allows for a diffusion coefficient of the form @xmath40,s)$ ] , without changing the conclusion of theorem [ prelthmsmp1 ] . in the case of a non - convex control space",
    "the stochastic maximum principle with controlled diffusion was proven in @xcite and requires the solution of an additional adjoint bsde .",
    "we choose to leave this most general maximum principle as reference in order to keep the presentation clear .",
    "[ prelremarkthmsmp1 ]    as pointed out in remark [ prelrmkexistence ] it is a non - trivial task to prove the existence of an optimal pair @xmath32 in a general stochastic control model . under the additional assumptions ;",
    "+ * assumption 2 .",
    "* the control domain @xmath18 is a convex body in @xmath41 .",
    "the maps @xmath20 , @xmath21 and @xmath22 are locally lipschitz in @xmath42 and their derivatives in @xmath25 and @xmath26 are continuous in @xmath25 , @xmath26 and @xmath28 , + the following theorem provides sufficient conditions for optimality in ( s ) .    under assupmptions 1 and 2",
    "let @xmath43 be an admissible 4-tuple .",
    "suppose that @xmath23 is convex and further that @xmath44 is concave for all @xmath45 $ ] @xmath6-a.s . and @xmath46 , s , p(t ) , q(t ) ) , \\hspace{0.3 cm } \\text{a.e . }",
    "t \\in [ 0,t ] , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ] then @xmath32 is an optimal pair for problem ( s ) .",
    "the stochastic maximum principle has since the early days of the subject ( in pioneering papers by e.g. bismut @xcite and bensoussan @xcite ) developed a lot and does by now apply to a wide range of problems more general than ( s ) ( see for instance @xcite , @xcite @xcite , @xcite ) . for our purposes",
    "we need a refined version of theorem [ prelthmsmp1 ] , characterizing optimal controls in a fbsde - dynamical setting under state constraints .",
    "more precisely we wish to consider a stochastic control system of the form @xmath47 where @xmath48 \\times { \\mathbb{r}}^6 \\times s \\rightarrow { \\mathbb{r}}$ ] and @xmath49 , with respect to a cost - functional of the form @xmath50 ) + g(y(0 ) ) \\right ] ,      \\end{array }      \\label{prelcostfunc2}\\ ] ] and a set of state constraints @xmath51 ) + \\mathbf{g}(y(0 ) ) \\right ] : = \\vspace{0.3cm}\\\\      \\left (      \\begin{array}{l }          \\displaystyle{\\mathbb{e}}\\left [ \\int_0^t f^1(t , \\theta(t ) , s(t ) ) dt + h^1(x(t ) , { \\mathbb{e}}[x(t ) ] ) + g^1(y(0 ) ) \\right]\\\\          \\hspace{4cm}\\vdots\\\\          \\displaystyle{\\mathbb{e}}\\left [ \\int_0^t f^l(t , \\theta(t ) , s(t ) ) dt + h^l(x(t ) , { \\mathbb{e}}[x(t ) ] ) + g^l(y(0 ) ) \\right ]      \\end{array }      \\right ) \\in \\lambda ,      \\end{array }      \\label{prelstateconstraints}\\ ] ] for some closed and convex set @xmath52 . in the above expressions we have introduced @xmath53 , { \\mathbb{e}}[y(t ) ] , { \\mathbb{e}}[z(t)]),\\ ] ] in order to avoid unnecessarily heavy notation .",
    "the optimal control problem is : + * problem ( sc ) .",
    "* minimize ( [ prelcostfunc2 ] ) subject to the state constraints ( [ prelstateconstraints ] ) over the set @xmath19 $ ] . + to get a good maximum principle for ( sc ) we require some further regularity conditions ensuring solvability of ( [ prelfbsdesyst ] ) .",
    "these conditions are listed in the following assumptions and can be found in @xcite .",
    "+ * assumption 3 . * the functions @xmath54 are continuously differentiable and lipschitz continuous in @xmath55 , the functions @xmath23 , @xmath56 , @xmath57 , @xmath58 are continuously differentiable in @xmath25 and @xmath59 respectively , and they are bounded by @xmath60 , @xmath61 and @xmath62 respectively .",
    "+ * assumption 4 . *",
    "all derivatives in assumption 4 are lipschitz continuous and bounded .",
    "+ * assumption 5 .",
    "* for all @xmath63 , @xmath64 , @xmath65 , where we have @xmath66 and @xmath67 \\times \\omega \\rightarrow { \\mathbb{r}}^k \\big| \\hspace{0.1 cm } \\psi \\hspace{0.1 cm } \\text { is } \\mathbb{f}\\text{-adapted and } { \\mathbb{e}}\\left [ \\int_0^t |\\psi|^2 dt \\right ] < \\infty \\right\\},\\ ] ] and for each @xmath68 , @xmath69 .",
    "furthermore , there exists a constant @xmath70 such that @xmath71,\\\\          \\vspace{0.1cm}|\\varphi(x_1 ) - \\varphi(x_2)| \\leq c|x_1 - x_2| , \\hspace{0.2 cm } { \\mathbb{p}}\\text{-a.s},\\\\          \\text{for all } \\theta_1 , \\theta_2 \\in { \\mathbb{r}}^6 .",
    "\\end{array }      \\right.\\ ] ] * assumption 6 . * the functions @xmath72 and",
    "@xmath73 satisfy the following monotonicity conditions : @xmath74 for all @xmath75 , @xmath76 + in the spirit of @xcite we are now ready to formulate the state constrained stochastic maximum principle for fully coupled fbsdes of mean - field type",
    ".    let assumptions 3 - 6 hold and assume @xmath52 to be a closed and convex set .",
    "if @xmath77 is an optimal 4-tuple of problem ( sc ) , then there exists a vector @xmath78 such that @xmath79 satisfying the transversality condition @xmath80 \\rangle \\geq 0 , \\hspace{0.3 cm } \\forall v \\in \\lambda          \\label{preltransversalitycond}\\ ] ] and a 3-tuple @xmath81 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})$ ] of solutions to the adjoint fbsde @xmath82 \\right\\ } dt\\\\          \\vspace{0.2cm}\\hspace{0.9cm}+\\left\\ { c_z(t ) r(t ) - b_z ( t)p(t ) - \\sigma_z(t ) q(t ) + \\sum_{i=0}^l \\lambda_i f_z^i(t)\\right.\\\\      \\vspace{0.2cm}\\hspace{2cm}\\left .",
    "+ { \\mathbb{e}}[c_{\\tilde{z}}(t ) r(t ) - b_{\\tilde{z}}(t ) p(t ) - \\sigma_{\\tilde{z}}(t ) q(t ) + \\sum_{i=0}^l \\lambda_i f_{\\tilde{z}}^i(t ) ] \\right\\ } dw_t,\\\\      \\end{array}\\ ] ] @xmath83 \\right\\ } dt\\\\      \\vspace{0.2cm}\\hspace{9.5cm}+ q(t ) dw_t,\\\\          \\vspace{0.2cm}r(0 ) = \\sum_{i=0}^l \\lambda_i { \\mathbb{e } } [ g^i({\\bar y}(0 ) ) ] , \\\\",
    "p(t ) = -\\varphi_x({\\bar x}(t))r(t ) - \\sum_{i=0}^l \\lambda_i ( h_x^i({\\bar x}(t ) , { \\mathbb{e}}[{\\bar x}(t ) ] ) + { \\mathbb{e}}[h_{\\tilde{x}}^i({\\bar x}(t ) , { \\mathbb{e}}[{\\bar x}(t ) ] ) ] ) ,          \\end{array }          \\label{prelfbsdeconstsmp }      \\ ] ] such that @xmath84 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ] where the hamiltonian function @xmath36 is given by @xmath85 [ prelconstrainedsmpthm ]    as in remark [ prelremarkthmsmp1 ] , analogue principles also hold in theorem [ prelconstrainedsmpthm ] .",
    "the maximum principle in theorem [ prelconstrainedsmpthm ] without state constraints is an easy extension of the same result in @xcite and follows the proof _",
    "mutatis mutandis_. extending the result to allow for state constraints is a standard procedure and can be found for instance in @xcite .",
    "we are now going to fit the methods presented in section 2 to a mean - variance framework , i.e. we want to control a fbsde of mean - field type ( [ prelfbsdesyst ] ) with respect to either of the following two cases : + * ( i ) . *",
    "minimize @xmath86\\\\          \\hspace{0.5cm}\\displaystyle+ \\frac{r}{2 } \\text{var } \\left ( \\int_0^t \\phi ( t , \\theta(t ) , s(t ) ) dt + \\psi(x(t ) ) \\right ) ,      \\end{array }      \\label{mvcostfunc1}\\ ] ] over @xmath19 $ ] for some risk aversion @xmath87 . + * ( ii ) . *",
    "minimize @xmath88      \\label{mvcostfunc3}\\ ] ] over @xmath19 $ ] subject to a set of state constraints ( compare ( [ prelstateconstraints ] ) ) , including statements of the form @xmath89 in order to carry this through we introduce the auxiliary process @xmath90 which by it s lemma solves the sde @xmath91 here we adopt the simpler notational convention @xmath92 . by considering ( [ prelfbsdesyst ] ) with ( [ mvaux ] ) as an augmented dynamics we may rewrite ( [ mvcostfunc1 ] ) ( or analogously for the state constraint ( [ mvconstraintvar ] ) ) as @xmath93)^2 \\right ] .",
    "\\label{mvcostfunc2}\\ ] ] an optimal control problem involving the cost functional ( [ mvcostfunc2 ] ) is within the framework of section 2 , in particular theorem [ prelfbsdeconstsmp ] .",
    "+ for the principal - agent problem we are interested in the following : + * ( mv1 ) .",
    "* minimize ( [ mvcostfunc1 ] ) subject to the state constraint @xmath94 \\leq w_0,\\ ] ] for some finite @xmath95 over @xmath19 $ ] . + * ( mv2 ) .",
    "* minimize ( [ mvcostfunc3 ] ) subject to the state constraints @xmath96 \\leq w_0,\\\\          \\displaystyle\\mathcal{j}_{v}(s ) : = \\text{var}\\left ( \\int_0^t \\phi ( t , \\theta(t ) , s(t ) ) dt + \\psi(x(t ) ) \\right ) \\leq r_0 ,      \\end{array }      \\right.\\ ] ] for some finite @xmath97 and @xmath98 over @xmath19 $ ] . + it is now an easy task to formulate the stochastic maximum principles that characterize optimality in ( mv1 ) and ( mv2 ) respectively . in the two corollaries that follow we adopt the vector notation :",
    "@xmath99 @xmath100 and @xmath101    let assumptions 3 - 6 hold and let @xmath102 be three times differentiable . if @xmath77 is an optimal 4-tuple of ( mv1 ) , then there exists a vector @xmath103 such that @xmath104 and a 3-tuple @xmath105 ; \\mathbb{r } ) ) \\times ( l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r})))^2 \\times",
    "( l_{\\mathcal{f}}^2(0,t;\\mathbb{r}))^2 $ ] of solutions to the adjoint fbsde @xmath106 \\big\\ } dt\\\\          \\vspace{0.1cm}+\\left\\ { c_z(t ) r(t ) - \\textbf{b}^t_z(t ) \\cdot p(t ) - \\boldsymbol\\sigma^t_z(t ) \\cdot q(t ) + \\lambda_a u_z(t ) -",
    "\\lambda_p u_z(t ) \\right.\\\\",
    "\\vspace{0.1cm}\\hspace{2cm}+{\\mathbb{e } } [ c_{\\tilde{z}}(t ) r(t ) - \\textbf{b}^t_{\\tilde{z}}(t ) \\cdot p(t ) - \\boldsymbol\\sigma^t_{\\tilde{z}}(t ) \\cdot q(t ) + \\lambda_a u_{\\tilde{z}}(t ) - \\lambda_p u_{\\tilde{z}}(t ) ] \\big\\ } dw_t,\\\\      \\end{array}\\ ] ] @xmath107 \\big\\ } dt + q(t)dw_t ,      \\end{array }      \\label{mvcor1fbsde}\\ ] ] where @xmath108 ) \\end{pmatrix}\\ ] ] such that @xmath109 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ] where the hamiltonian function @xmath36 is given by @xmath110 [ mvsmpmv1 ]    let assumptions 3 - 6 hold and let @xmath111 be three times differentiable . if @xmath77 is an optimal 4-tuple of ( mv2 ) , then there exists a vector @xmath112 such that @xmath113 satisfying the transversality condition @xmath114 \\\\ v_2 - \\text{var}\\left ( \\int_0^t \\phi ( t , \\theta(t ) , s(t ) ) dt + \\psi(x(t ) ) \\right ) \\end{pmatrix } \\geq 0 , \\hspace{0.3 cm } \\forall \\hspace{0.1 cm } v_1",
    "\\leq w_0 , v_2 \\leq r_0          \\label{preltransversalitycond}\\ ] ] and a 3-tuple @xmath105 ; \\mathbb{r } ) ) \\times ( l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r})))^2 \\times ( l_{\\mathcal{f}}^2(0,t;\\mathbb{r}))^2 $ ] of solutions to the adjoint fbsde @xmath115 \\big\\ } dt\\\\          \\vspace{0.1cm}+\\left\\ { c_z(t ) r(t ) - \\textbf{b}^t_z(t ) \\cdot p(t ) - \\boldsymbol\\sigma^t_z(t ) \\cdot q(t ) + \\lambda_e u_z(t ) + \\lambda_p u_z(t ) \\right.\\\\          \\vspace{0.1cm}\\hspace{2cm}+{\\mathbb{e } } [ c_{\\tilde{z}}(t ) r(t ) - \\textbf{b}^t_{\\tilde{z}}(t ) \\cdot p(t ) - \\boldsymbol\\sigma^t_{\\tilde{z}}(t ) \\cdot q(t ) + \\lambda_e u_{\\tilde{z}}(t ) + \\lambda_p u_{\\tilde{z}}(t ) ] \\big\\ } dw_t,\\\\      \\end{array}\\ ] ] @xmath116 \\big\\ } dt + q(t)dw_t ,      \\end{array }      \\label{mvcor2fbsde}\\ ] ] where @xmath117 ) \\end{pmatrix}\\ ] ] such that @xmath118 , \\hspace{0.3 cm } { \\mathbb{p}}\\text{-a.s.}\\ ] ] where the hamiltonian function @xmath36 is given by @xmath119 [ mvsmpmv2 ]    the transversality condition ( [ preltransversalitycond ] ) specifies which multipliers @xmath120 satisfying ( [ prellagmult ] ) ( given @xmath121 $ ] ) that are of interest for characterizing optimality in ( mv2 ) .",
    "if we let @xmath122 it is clear by ( [ preltransversalitycond ] ) that @xmath123 .",
    "this narrows the set of multipliers to five distinct cases : + * ( i ) . * if @xmath124 , then @xmath125 .",
    "+ * ( ii ) .",
    "* if @xmath126 , then @xmath127 .",
    "+ * ( iii ) .",
    "* if @xmath128 and @xmath129 , then @xmath130cos@xmath131 , + @xmath132sin@xmath131 @xmath133.$ ] + * ( iv ) .",
    "* if @xmath128 and @xmath134 , then @xmath130cos@xmath131 , + @xmath132sin@xmath131 @xmath135.$ ] + * ( v ) .",
    "* if @xmath128 , then @xmath136 .",
    "+ each of the cases ( i)-(v ) are illustrated in figure [ mvfig1 ] .",
    "( -1,0 ) rectangle ( -6,2.5 ) ;    ( -1,0 )  ( -1,2.5 ) ; ( -1,2.5 ) ",
    "( -6,2.5 ) ;    ( -6,0 ) ",
    "( 1,0 ) node[anchor = north west ] @xmath137 ; ( 0,-0.5 )  ( 0,3.5 ) node[anchor = south east ] @xmath138 ;    ( -1,0.7 ) arc ( 90:180:0.7 cm ) ; ( -1.7,2.5 ) arc ( 180:270:0.7 cm ) ;    ( -4,0 ) circle ( 1.5pt ) ; ( -1,0 ) circle ( 1.5pt ) ; ( -1,1.25 ) circle ( 1.5pt ) ; ( -1,2.5 ) circle ( 1.5pt ) ; ( -4,2.5 ) circle ( 1.5pt ) ;    at ( -1,-0.3 ) @xmath139 ; at ( 0.3,2.5 ) @xmath140 ;    ( -0.04,2.5 )  ( 0.04,2.5 ) ;    ( -4,0 )  ( -4,0.7 ) ; ( -1,0 )  ( -1.5,0.5 ) ; ( -1,1.25 )  ( -1.7,1.25 ) ; ( -1,2.5 )  ( -1.5,2 ) ; ( -4,2.5 )  ( -4,1.8 ) ;    ( -5,2 ) node(a ) [ ] ( -6.5,3.5 ) node(b ) [ ] @xmath141 ; ( a ) .. controls + ( left:0.5 cm ) and + ( down:1 cm ) .. ( b ) ;",
    "we are now ready to state the principal - agent problem in the framework of sections [ preliminaries ] and [ meanvariancesmp ] and thereby develop a scheme for characterizing optimality . in the present literature two types of models seem to be the most popular ; _ the full information _ case and the _ hidden action _ case .",
    "our treatment will focus on the hidden action regime although similar techniques would apply also to the full information case .",
    "+ the principal - agent problem under hidden action ( or moral hazard ) is inspired by the seminal paper of holmstrm and milgrom @xcite and is well treated for instance in @xcite and @xcite . in what follows we first consider a mean - variance version of such a model , using the stochastic maximum principle as our main tool . for reasons of tractability ( and in line with the present literature ) we will have to consult weak solutions of sdes .",
    "we clarify this by referring to the model as _ hidden action in the weak formulation_. + we will also consider a simpler model under hidden action in which the information set of the principal is relaxed to a larger set .",
    "such a relaxation does not necessarily imply full information and we refer to this model as _ hidden contract in the strong formulation_.      consider a principal - agent model where output @xmath142 is modelled as a risky asset solving the sde : @xmath143 here @xmath0 and @xmath144 is a 1-dimensional standard brownian motion defined on the filtered probability space @xmath1 .",
    "for the diffusion we assume @xmath145 and @xmath146 < \\infty$ ] .",
    "the agent s level of effort is represented by a process @xmath147 , taking values in some predefined subset @xmath148 ( typically @xmath149 $ ] for some non - negative @xmath150 , or @xmath151 ) and is required to belong to the set @xmath152 $ ] , where @xmath153 : = \\ { e : [ 0,t ] \\times \\omega \\rightarrow e ; \\hspace{0.2 cm } e \\text { is } \\mathbb{f } \\text{-adapted } \\}\\ ] ] we consider the case of hidden actions meaning that the principal can not observe @xmath147 .",
    "output , however , is public information and observed by both the principal and the agent .",
    "before the period starts the principal specifies an @xmath154-adapted cash - flow @xmath17 ( typically non - negative ) for all @xmath45 $ ] , which compensates the agent for costly effort in managing @xmath155 .",
    "just as for the effort we assume @xmath156 for all @xmath45 $ ] and some subset @xmath157 and require @xmath158 $ ] , where @xmath159 : = \\ { s : [ 0,t ] \\times \\omega \\rightarrow s ;   \\hspace{0.2 cm } s \\text { is } \\mathbb{f}_x \\text{-adapted } \\}.\\ ] ] the principal is not constrained by any means and can commit to any such process @xmath158 $ ] .",
    "+ in this model we consider cost functionals @xmath160 and @xmath161 of the principal and the agent respectively of the following form : @xmath162      \\label{theproblemagentcost}\\ ] ] and @xmath163\\\\          \\hspace{1cm}\\displaystyle+ \\frac{r}{2 } \\text{var } \\left ( \\int_0^t \\phi ( t , x(t ) , s(t ) ) dt + \\psi(x(t ) ) \\right ) ,      \\end{array}\\ ] ] for some given risk aversion @xmath87 .",
    "the agent will accept @xmath17 and start working for the principal only if the participation constraint @xmath164 is fulfilled by @xmath28 for some , typically negative , constant @xmath139 .",
    "we assume _ incentive compatibility _ , meaning that the agent will act as to optimize @xmath161 in response to any given @xmath17 . the principal s problem is to minimize @xmath160 under the participation constraint and incentive compatibility . + a direct approach to the principal - agent problem as described above",
    "is , however , not mathematically tractable .",
    "therefore , in line with @xcite and @xcite we make the problem tractable by using the concept of weak solutions of sdes .",
    "that is , rather than having a model in which the agent controls @xmath155 itself we consider the _ density of output _ , @xmath165 , as the controlled dynamics where @xmath166 for a given function @xmath22 describing production rate and satisfying assumption 1 in section [ preliminaries ] .",
    "note that @xmath167 where @xmath168 and @xmath169 denotes the stochastic exponential .",
    "the key idea behind the weak formulation of the hidden action model , letting the agent control @xmath170 rather than @xmath142 , is that it allows us to consider @xmath171 as a fixed but random realization ( actually @xmath172 as a consequence of the regularity of @xmath21 ) . if @xmath165 is a martingale , which follows by assuming for instance the novikov condition or the bene condition ( see .",
    "@xcite p. 200 ) , we have by girsanov s theorem that the probability measure @xmath173 defined by @xmath174 makes the process @xmath175 defined by @xmath176 a @xmath177-brownian motion . in particular @xmath178 and @xmath179",
    "= \\\\",
    "\\hspace{0.3cm}\\displaystyle= \\mathbb{e } \\left [ \\int_0^t \\gamma^e(t)u(t , x(t),e(t),s(t))dt + \\gamma^e(t)v(x(t ) ) \\right ] .",
    "\\end{array }      \\label{hiddenactionagentcost}\\ ] ] we think of the principal - agent problem as divided into two coupled problems ; _ the agent s problem _ and _ the principal s problem_. + * the agent s problem ( weak formulation ) : * given any @xmath158 $ ] ( that we assume fulfills the participation constraint ) the agent s problem is to find a process @xmath180 $ ] such that the cost functional @xmath181,\\ ] ] is minimized , subject to the dynamics in ( [ hiddenactionagentdyn ] ) . + * the principal s problem ( strong formulation ) : * given that the agent s problem has an optimal solution @xmath182 in the weak formulation the principal s problem is to find a process @xmath29 $ ] , such that the cost functional @xmath183\\\\          \\hspace{1cm}\\displaystyle+ \\frac{r}{2 } \\text{var } \\left ( \\int_0^t \\phi ( t , x(t ) , s(t ) ) dt + \\psi(x(t ) ) \\right ) ,      \\end{array}\\ ] ] is minimized and @xmath184 \\leq w_0,\\ ] ] subject to the dynamics @xmath185 , \\\\",
    "x(0 ) = 0 .",
    "\\end{array } \\right.\\ ] ]    here we have chosen to formulate the principal s problem in the strong form rather than in the weak form , which seems to be most common in the literature . however , as pointed out in @xcite , because of adaptiveness this approach can be problematic in certain models .",
    "this is a fact that one should be aware of .    in this context",
    "the following definition is natural .",
    "an _ optimal contract _ is a pair @xmath186 \\times \\mathcal{s}[0,t]$ ] obtained by sequentially solving first the agents- and then the principal s problem .    in game theoretic terminology",
    "an optimal contract can thus be thought of as a stackelberg - equilibrium in a two - player non - zero - sum game .",
    "+ it is important to note that even though the principal can not observe the agent s effort , he / she can still offer the agent a contract by suggesting a choice of effort @xmath147 and a compensation @xmath17 . by incentive compatibility , however , the principal knows that the agent only will follow such a contract if the suggested effort solves the agent s problem . to find the optimal effort , @xmath182",
    ", the principal must have information of the agent s preferences , i.e. the functions @xmath42 and @xmath187 .",
    "the realism of such an assumption is indeed questionable but nevertheless necessary in our formulation due to the participation constraint . in order to make the intuition clear and to avoid any confusion",
    "we adopt the convention that the principal has full information of the agent s preferences @xmath42 and @xmath187 .",
    "this gives a tractable way of thinking of how actual contracting is realized .",
    "+ thus , the principal is able to predict the optimal effort @xmath182 of the agent s problem and thereby suggest an optimal contract @xmath188 , if it exists .",
    "+ the idea is to apply the methods from section [ preliminaries ] to characterize optimal contracts in the general principal - agent model presented above .",
    "however , since the control variable @xmath189 figures in the diffusion of ( [ hiddenactionagentdyn ] ) we require the following convexity assumption in order to avoid a second order adjoint process in the maximum principle : + * assumtion 7 : * the set @xmath190 is convex .",
    "+ the agent s hamiltonian in the weak formulation is @xmath191 and by theorem [ prelthmsmp1 ] any optimal control @xmath192 solving the agent s problem must maximise @xmath193 pointwisely .",
    "the pair @xmath194 solves the agent s adjoint bsde : @xmath195 if @xmath22 and @xmath42 both are differentiable in the @xmath189 variable and we assume that @xmath196 , maximizing @xmath193 translates into the first order condition @xmath197 which is in agreement with @xcite . before proceeding to the principal s problem we assume solvability of @xmath198 in ( [ hiddenactioncharofe ] ) and we write @xmath199 where @xmath200 is a function having sufficient regularity to allow for the existence of a unique solution to the fbsde ( [ theproblemfbsde ] ) below .",
    "based on the information given by @xmath201 the principal wishes to minimize the cost @xmath160 by selecting a process @xmath17 respecting ( [ theproblempartconst ] ) .",
    "the dynamics of the corresponding control problem is , in contrast to the sde of the agent s problem , a fbsde built up by the output sde coupled to the agent s adjoint bsde .",
    "more precisely : @xmath202 in order to characterize cash - flow optimality in the principal s problem we apply theorem [ mvsmpmv1 ] .",
    "the hamiltonian reads @xmath203 and for any optimal 4-tuple @xmath204 we have the existence of lagrange multipliers @xmath205 satisfying the conditions in theorem ( [ mvsmpmv1 ] ) .",
    "the adjoint processes @xmath206 solve the fbsde ( [ mvcor1fbsde ] ) , in which case @xmath207 before stating the full characterization of optimal contracts in the mean - variance principal - agent problem under hidden action we introduce the following technical assumption : + * ( pa1 ) . *",
    "all functions involved in the agent s problem satisfy assumption 1 from section [ preliminaries ] and the density of output is a martingale .",
    "the functions defining the principal s problem ( including composition with the map @xmath201 ) satisfy assumptions 2 - 6 , also from section [ preliminaries ] , and @xmath208 is three times differentiable . +    let the statements in ( pa1 ) and assumption 7 hold and consider the mean - variance principal - agent problem under hidden actions with risk aversion @xmath87 and participation constraint defined by @xmath97 .",
    "then , if @xmath188 is an optimal contract there exist numbers @xmath205 such that @xmath209 a pair @xmath210 solving the sde in ( [ hiddenactionadjbsde ] ) and a quintuple @xmath211 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})$ ] solving the adjoint fbsde ( [ mvcor1fbsde ] ) defined by ( [ theproblemfbsde ] ) such that , sequentially , @xmath212 and @xmath213 with hamiltonians @xmath193 and @xmath214 as in ( [ hiddenactionagham ] ) and ( [ hiddenactionprincham ] ) respectively . [ hiddenactionmainthm ]      we are now going to study a different type of mean - variance principal - agent problems called _ hidden contract _ models ( introduced in @xcite ) . comparing to the hidden action model in section [ mvhiddenactionwf ]",
    "the hidden contracts differ in two key aspects .",
    "first we relax the information set of the principal from @xmath154 to the full filtration generated by the brownian motion .",
    "secondly we treat the process @xmath17 as hidden , meaning that the agent reacts to the provided cash - flow given as an @xmath4-adapted process , without being aware of the underlying dependence of output .",
    "this explains the name hidden contract .",
    "+ the fact that the underlying mathematical structure of @xmath17 is unknown to the agent in the hidden contract model motivates the relevance of a mean - variance framework by an extended participation constraint ( compared to ( [ theproblempartconst ] ) ) . by requiring an upper bound for the variance of for instance",
    "the expected accumulated wealth provided by @xmath17 the agent can protect him / her - self from undesirable high levels of risk .",
    "the setup goes as follows : + consider a principal - agent model in which output @xmath142 is modelled as a risky asset solving the sde @xmath215 , \\\\",
    "x(0 ) = 0 .",
    "\\end{array } \\right.\\ ] ] here @xmath0 and @xmath144 is a 1-dimensional standard brownian motion defined on the filtered probability space @xmath1 .",
    "the functions @xmath22 and @xmath21 represent production rate and volatility respectively , and we assume both of them to satisfy assumption 1 from the section [ preliminaries ] .",
    "just as for the hidden action case we require any admissible effort process @xmath147 to be in @xmath152 $ ] .",
    "for the admissible cash - flows , however , we enlarge @xmath19 $ ] ( due to the extended flow of information to the principal ) to @xmath159 : = \\ { s : [ 0,t ] \\times \\omega \\rightarrow s ;   \\hspace{0.2 cm } s \\text { is } \\mathbb{f } \\text{-adapted } \\}.\\ ] ] we consider the cost functionals @xmath216 ,      \\label{mvhiddencontractagcost}\\ ] ] and @xmath217 ,      \\label{mvhiddencontractprinccost}\\ ] ] and the participation constraint : @xmath218 \\leq w_0,\\\\          \\displaystyle\\mathcal{i}_{a}(\\bar{e}(\\cdot);s ) : = \\text{var}\\left ( \\int_0^t \\phi ( t , x(t),\\bar{e}(t),s(t ) ) dt + \\psi(x(t ) ) \\right ) \\leq r_0 .",
    "\\end{array }      \\right .",
    "\\label{mvhiddencontractpartconst}\\ ] ] just as for the hidden action case in section [ mvhiddenactionwf ] we consider the agents- and the principal s problem sequentially .",
    "the precise statements are : + * the agent s problem .",
    "* given any @xmath158 $ ] ( fulfilling the participation constraint ) the agent s problem is to find a process @xmath180 $ ] minimizing ( [ mvhiddencontractagcost ] ) .",
    "+ * the principal s problem .",
    "* given that the agent s problem has an optimal solution @xmath182 the principal s problem is to find a process @xmath29 $ ] minimizing the cost functional ( [ mvhiddencontractprinccost ] ) subject to the participation constraint ( [ mvhiddencontractpartconst ] ) .",
    "+ the mathematical virtue of hidden contracts is the possibility of working solely in the strong formulation . for the agent s problem we are facing the hamiltonian @xmath219 therefore , by theorem [ prelthmsmp1 ] we have for any optimal pair @xmath220 the existence of adjoint processes @xmath194 solving the bsde : @xmath221 and the characterization @xmath222 for a.e .",
    "@xmath45 $ ] and @xmath223-a.s . + as in the hidden contract case we proceed into the principal s problem by assuming the existence of a function @xmath201 such that @xmath224 ( having sufficient regularity to allow for existence and uniqueness of a solution to ( [ mvhiddencontractfbsde ] ) ) .",
    "the principal is facing the problem of minimizing @xmath160 subject to ( [ mvhiddencontractpartconst ] ) by controlling the following fbsde : @xmath225 we now apply theorem [ mvsmpmv2 ] in order to characterize optimal cash - flows in the principal s problem .",
    "the associated hamiltonian is @xmath226 for any optimal 4-tuple @xmath227 of the principal s problem we have the existence of lagrange multipliers @xmath228 satisfying either of the conditions ( i)-(v ) in section [ preliminaries ] , with @xmath229 and @xmath230 and a triple of adjoint processes @xmath231 solving the fbsde ( [ mvcor2fbsde ] ) so that @xmath232 for the full characterization of optimality we require the following technical assumption : + * ( pa2 ) . * all functions involved in the agent s problem satisfy the assumption 1 from section [ preliminaries ] .",
    "the functions defining the principal s problem ( including composition with the map @xmath201 ) satisfy the assumptions 2 - 6 , also from section [ preliminaries ] , and @xmath233 is three times differentiable .",
    "+    let the statements in ( pa2 ) hold and consider the mean - variance principal - agent problem under hidden contract with participation constraints defined by the given parameters @xmath97 and @xmath98 . then , if @xmath188 is an optimal contract there exist numbers @xmath228 such that @xmath234 a pair @xmath210 solving the bsde in ( [ mvhiddencontractagentbsde ] ) and a quintuple @xmath211 ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(\\omega ; c([0,t ] ; \\mathbb{r } ) ) \\times l_{\\mathcal{f}}^2(0,t;\\mathbb{r})$ ] solving the adjoint fbsde ( [ mvcor2fbsde ] ) defined by ( [ mvhiddencontractfbsde ] ) such that , sequentially , @xmath235 and @xmath236 with hamiltonians @xmath193 and @xmath214 as in ( [ mvhiddencontractagham ] ) and ( [ hiddencontractprincham ] ) respectively .",
    "[ hiddencontractmainthm ]",
    "we now illustrate the method of section [ theproblem ] by considering a concrete example of hidden contract type . in order to find explicit solutions we choose a linear - quadratic setup . as a result",
    "we get optimal contracts adapted to the filtration generated by output .",
    "+ consider the following dynamics of production , @xmath237,\\\\          x(0 ) = 0 , \\hspace{0.3 cm } a , b \\in { \\mathbb{r}}\\text { and } \\sigma > 0 ,      \\end{array }      \\right.\\ ] ] and let the preferences of the agent and the principal be described by quadratic utility functions : @xmath238,\\\\      & & \\mathcal{j}_p ( s(\\cdot ) ) : = { \\mathbb{e}}\\left[\\int_0^t \\frac{s_t^2}{2 } dt - \\beta \\cdot \\frac{x(t)^2}{2 }   \\right ] .",
    "\\label{hiddencontractlqpayoff}\\end{aligned}\\ ] ] note that we are following the convention of section [ theproblem ] to consider cost- rather than payoff - functionals .",
    "thus , the agent s utility function should be interpreted as a desire to maintain a level of effort close to the compensation given by the cash - flow .",
    "we think of the parameters @xmath239 and @xmath240 as bonus factors of total production at time @xmath241 .",
    "for the participation constraint we require any admissible cash - flow @xmath242 to satisfy the following : @xmath243 where @xmath97 , @xmath98 and @xmath182 denotes the optimal effort policy of the agent given @xmath17 .",
    "+ assume that the principal offers the agent @xmath17 over the period @xmath244 .",
    "the hamiltonian function of the agent is @xmath245 so @xmath246 where the pair @xmath247 solves the adjoint equation @xmath248 turning to the principal s problem we want to control the fbsde @xmath249 optimally with respect to the cost function ( [ hiddencontractlqpayoff ] ) and the participation constraint ( [ hiddencontractlqconstr ] ) . the principal s hamiltonian is @xmath250 so @xmath251 where the quintuple @xmath252 solves the adjoint fbsde : @xmath253 - \\eta(t ) ) .      \\end{array } \\right .",
    "\\label{hiddencontractlqbsde}\\ ] ] in this case , however , the auxiliary process @xmath254 is the same as the output @xmath142 in which case @xmath255 - x(t))$ ] . to solve the bsde in ( [ hiddencontractlqbsde ] )",
    "we can make a general linear ansatz : @xmath256 + b_{21}(t){\\mathbb{e}}[r(t)],\\\\          \\vspace{0.1cm}p_1(t ) = a_{12}(t)x(t ) + b_{12}(t)r(t ) + a_{22}(t){\\mathbb{e}}[x(t ) ] + b_{22}(t){\\mathbb{e}}[r(t)],\\\\          p_2(t ) = a_{13}(t)x(t ) + b_{13}(t)r(t ) + a_{23}(t){\\mathbb{e}}[x(t ) ] + b_{23}(t){\\mathbb{e}}[r(t)].\\\\      \\end{array }      \\right .",
    "\\label{hiddencontractlqansatz}\\ ] ] using the standard procedure with it s lemma it is elementary ( but tedious ) to derive a set of twelve coupled riccati equations for the coefficients in ( [ hiddencontractlqansatz ] ) .",
    "a numerical example is presented in figure [ hiddencontractlqriccatisystfig ] below .",
    "we get the unique semi - explicit solution to the optimal contract @xmath258 , driven by the optimal dynamics @xmath259 .",
    "what remains is to find a feasible tripple @xmath260 so that the optimal contract fulfills the participation constraint in ( [ hiddencontractlqconstr ] ) .",
    "one way of finding such a triple is for instance by stochastic simulation of @xmath259 ( e.g. a simple euler - maruyama scheme ) and then estimate the payoff and the variance in ( [ hiddencontractlqconstr ] ) by monte - carlo techniques for different values of @xmath261 . in fig .",
    "[ hiddencontractlqexppayofffig ] we have included the results of such a scheme corresponding to case ( iv ) of the transversality condition in corollary [ mvsmpmv2 ] .    , @xmath262 and @xmath263 as functions of @xmath261 and @xmath131 ( relating to @xmath264 and @xmath265 via case ( iv ) ) based on @xmath266 sample paths at each point .",
    "parameter values : @xmath267.,scaledwidth=100.0% ]    note that @xmath268 satisfies the linear ode @xmath269 so @xmath270 and is by that @xmath154-adapted .",
    "therefore , in this model the optimal contract @xmath258 is @xmath154-adapted and coincides with the corresponding strong solution to the hidden action problem , i.e. when the information set of the principal is generated by output ."
  ],
  "abstract_text": [
    "<S> in this paper we study a generalization of the continuous time principal - agent problem allowing for time inconsistent utility functions , for instance of mean - variance type . using recent results on the pontryagin maximum principle for fbsdes </S>",
    "<S> we suggest a method of characterizing optimal contracts for such models . to illustrate this we consider a fully solved explicit example in the linear quadratic setting . </S>"
  ]
}