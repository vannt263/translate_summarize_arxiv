{
  "article_text": [
    "a janitor is walking through a museum in the morning , switching on the light in every room .",
    "the electric connections are a bit tricky , though . in every room",
    "is a button , but pressing this button toggles the light on / off not only in the same room but also in all neighboring rooms ! can the janitor light up the entire museum ?",
    "an equivalent version of this problem was introduced by sutner in 1989 @xcite , where this game is called the @xmath2-game on the graph of the museum . in the even more perverse @xmath0-game , a button lights only its neighbors but not its own room .",
    "such games have since been studied further by sutner @xcite , barua and ramakrishnan @xcite and goldwasser , klostermeyer and trapp @xcite .",
    "the commercially available `` lights out '' game has the same rules and has been studied independently by anderson and feil @xcite and , recently , by dyrkacz , eisenbud and maurer @xcite .",
    "several precursors exist , such as the _ gale - berlekamp switching game _ from the sixties @xcite , where there are switches that toggle entire rows and columns , and the _ merlin game _ studied by pelletier @xcite and stock @xcite , where the game board is no longer a grid .",
    "one should also note the similarity to the very general _ lightbulb networks _ of kauffman @xcite , where the light condition of any lightbulb at a given time is determined by some rule ( different for different lightbulbs ) depending only on the light of the neighbors in the previous time - step .    in its most general setting ,",
    "the @xmath0-game is played on a directed graph where every vertex has a button and a lamp . at the beginning",
    "all lamps are switched off . when a button is pressed the lamps are toggled on / off on all vertices",
    "to which there is an edge from the pressed vertex .",
    "the objective is to light as many lamps as possible .",
    "sutner @xcite studied , in particular , undirected graphs with a loop on every vertex ( so that every button toggles its local lamp ) .",
    "he proved that in this special case it is always possible to light every lamp .",
    "the proof used linear algebra in a clever way , and sutner remarked that no graph - theoretic proof was known .",
    "we will give such a proof , which also allows a generalization to a family of directed graphs .",
    "we use the convention that a loop on a vertex @xmath3 contributes to both the out - degree and the in - degree of @xmath3 .",
    "[ th : jonasgeneral ] if @xmath4 is a directed graph on vertex set @xmath5 , such that for each odd subset @xmath6 there is a vertex with odd out - degree in the induced subgraph on @xmath7 , then it is possible to light all lamps .    by induction over the number of vertices .",
    "the statement is trivially true for @xmath8 .",
    "suppose it holds for @xmath9 and consider the case @xmath10 .",
    "if we choose any vertex @xmath3 and remove it and all its edges from @xmath4 , then the induction hypothesis still applies so it is possible to light all lamps . call this an @xmath11-pressing with respect to @xmath3 .",
    "if we apply this @xmath11-pressing to @xmath4 ( that is , including @xmath3 ) , then either @xmath3 too lights up and we are finished , or @xmath3 is still dark .",
    "the only case left is when all @xmath12 such @xmath11-pressings leave one vertex dark .",
    "case 1 : @xmath12 is even .",
    "add all @xmath12 @xmath11-pressings .",
    "every vertex will be lit an odd number of times and hence end up lit .",
    "case 2 : @xmath12 is odd .",
    "then there is a vertex @xmath13 with odd out - degree .",
    "press the button at @xmath13 .",
    "let @xmath7 be the set of vertices now lit .",
    "then @xmath14 is odd and @xmath15 is even .",
    "now add the @xmath11-pressings with respect to each vertex in @xmath16 , one at a time .",
    "this will light the lamps in @xmath16 , while the lamps in @xmath7 will remain lit .",
    "we note that in order to satisfy the premise for single point subsets @xmath7 , the graph must have a loop on each vertex .",
    "if all other edges come in opposite pairs ( the undirected case ) , the number of edges in the subgraph induced by any odd subset @xmath7 is odd , so the premise will be satisfied in full and sutner s result follows .",
    "the following corollary extends this result to graphs with some of the edges bidirected ( i.e.  opposite pairs ) and some uni - directed ( i.e.  unpaired ) .",
    "[ co : jonas ] if @xmath4 is a directed graph on vertex set @xmath5 with a loop on every vertex , such that the set of uni - directed edges form a complete bipartite graph on @xmath5 , then it is possible to light all lamps .",
    "a complete bipartite graph on an odd vertex set @xmath7 has an even number of edges , as one of the parts must be even .",
    "thus the induced subgraph of @xmath4 on an odd subset @xmath6 has an odd number of edges ( there is an odd number of loops and the contribution from the bidirected edges is even ) and so some vertex must have odd out - degree . by theorem [ th : jonasgeneral ] ,",
    "all lamps can be lit .",
    "if we take the complete bipartite graph in the corollary to be the edgeless graph @xmath17 , then we obtain sutner s result . for the next case , @xmath18",
    ", the museum interpretation might be the following .",
    "some of the exhibition rooms have been converted into offices .",
    "buttons work as before ( own lamp and neighbors ) but a new room , _ the corridor _ , is special .",
    "the corridor button toggles all exhibition rooms ( and the corridor ) and all office buttons toggle the corridor .",
    "then all lamps can be lit !",
    "the parity argument used will of course work for any directed graph @xmath4 such that the induced subgraph of @xmath4 on any odd subset @xmath6 has an odd number of edges .",
    "the apparent greater generality of this statement is illusory , for this property holds only for @xmath4 such that the corollary applies ( exercise ! ) .",
    "on a directed graph where there is at least one edge directed to each lamp , more than half the vertices can always be lit .",
    "this is a very easy exercise in the probabilistic method : press each button with probability @xmath19 .",
    "then every lamp has probability one half of being lit , so the expected number of lit lamps is @xmath20 . since at least one combination (",
    "when no button is pressed ) has zero lit lamps , there must exist a combination with more than half the vertices lit .",
    "spencer @xcite uses a not much more sophisticated argument to show that in the special case of the gale - berlekamp switching game , substantially more than half the lamps can be lit regardless of the initial configuration .",
    "no such thing holds for the general @xmath0-game as can be seen from the following construction . for a positive integer @xmath11 , take @xmath21 lamps , labeled by the nonzero binary @xmath11-vectors .",
    "now introduce @xmath11 buttons , such that button @xmath22 toggles the @xmath23 lamps that have a one in position @xmath22 .",
    "evidently every combination of pressing buttons ( except for pressing none at all ) lights @xmath23 lamps , so this is the maximal number .",
    "although it would seem that the lamp - lighting game must be much more general on directed graphs than on undirected graphs , it turns out that in a very basic sense the games are equivalent : for each directed graph one can find an undirected graph on the same vertex set such that exactly the same configurations of lamps can be lit in the two games .",
    "the maximal number of lit lamps is related to the number of loops in the undirected graph .",
    "[ th : jonas2 ] suppose that @xmath24 is the maximal number of lamps that can be lit in the game on a directed graph @xmath4",
    ". then there is an undirected graph @xmath25 on the same vertex set , with @xmath24 loops , such that exactly the same subsets of lamps can be lit .",
    "let @xmath26 be the adjacency matrix of @xmath4 , that is , @xmath27 if there is an edge from @xmath22 to @xmath28 , zero otherwise .",
    "let @xmath29 be the @xmath22th row of @xmath30 .",
    "the starting position with all lights out is denoted by a vector of zeros , one for each lamp . pressing vertex @xmath22 has the effect of adding ( modulo 2 ) the corresponding row @xmath29 to the position vector .",
    "hence the space of all lightable lamp configurations is the row space of @xmath30 ( modulo 2 ) .",
    "an undirected graph @xmath25 with @xmath24 loops has an adjacency matrix @xmath31 that is symmetric and has @xmath24 ones on the main diagonal .",
    "we must show that such a matrix @xmath31 , with the same row space as @xmath30 , can be found .",
    "for convenience , renumber the lamps ( the columns of @xmath30 ) so that the first @xmath24 lamps constitute a maximal lightable subset of lamps .",
    "the row space of @xmath30 is preserved under gauss elimination to row echelon form . if necessary , renumber the @xmath24 first lamps so that , after elimination , the matrix has the block form @xmath32 where @xmath33 is an identity matrix of size @xmath34 , and @xmath35 is some arbitrary matrix .",
    "now , we know that the vector @xmath36 with @xmath24 ones lies in the row space",
    ". the only way we can obtain the first @xmath37 ones in a linear combination of the rows is by adding all the @xmath37 nonzero rows , so this sum must be @xmath38 .",
    "hence each of the first @xmath39 columns of @xmath35 has an odd number of ones , while the other columns have even numbers of ones .",
    "the matrix in ( [ eq : mat ] ) is row equivalent to the symmetric matrix @xmath40 a diagonal element of @xmath41 is the scalar product of the corresponding column of @xmath35 with itself ( mod 2 ) . hence it is zero if the column has an even number of ones , and one otherwise .",
    "therefore @xmath41 will have @xmath39 ones on the diagonal , so @xmath31 is a symmetric matrix with @xmath24 ones on the diagonal .    in particular ,",
    "every directed graph on which all lamps can be lit is equivalent to some undirected graph with a loop on every vertex .",
    "now let us return to the unfortunate janitor .",
    "when touring the museum , he may feel uncomfortable pressing buttons in rooms where the light is already on .",
    "is it possible for him to press buttons in dark rooms only ? in the usual museum topology ( an orthogonal grid )",
    "the answer is yes . more generally :    [ th : kimmo ] in each bipartite undirected graph with a loop on every vertex , one can light every lamp by pressing only vertices where the lamps are currently off .",
    "we know from sutner s theorem that there exists a subset @xmath42 of vertices such that if they are pressed , then all lamps will be lit .",
    "let @xmath43 and @xmath44 be the disjoint vertex sets in the bipartition of the graph . begin by pressing the vertices in @xmath45 in any order .",
    "since there are no edges between vertices in @xmath43 , the lamps on these vertices will all be off at the time they are pressed .",
    "we can now press the vertices in @xmath46 in any order .",
    "they must all be off , since we know that they will all be lit when we are done and they will only be toggled once in this process .",
    "a counter - example for arbitrary graphs looks as follows :    ( 40 , 40)(0 , -10 ) ( 0,0 ) ( 10,0 ) ( 20,0 ) ( 30,0 ) ( 15,10 ) ( 3,0)(1,0)4 ( 13,0)(1,0)4 ( 23,0)(1,0)4 ( 11,1)(1,2)3 ( 19,1)(-1,2)3    the only way to light all lamps is to press all the vertices of the triangle , and none of the other two",
    ". however , as soon as we have pressed one vertex in the triangle all its three vertices will be lit , so the next we press must be a lit vertex .",
    "a _ complete matching _ in a graph is a subset @xmath47 of the edges such that every vertex is incident to exactly one edge in @xmath47 .",
    "[ th : jonas3 ] let @xmath4 be an undirected graph . then every lamp configuration can be lit if and only if the number of complete matchings in @xmath4 is odd .    every lamp configuration can be lit if and only if the adjacency matrix @xmath30 is invertible modulo 2 .",
    "the determinant of @xmath30 modulo 2 is the sum over all coverings of the vertices of @xmath4 by disjoint directed circuits .",
    "since all circuits of length @xmath48 come in pairs ( two directions ) , they give zero contribution modulo 2 .",
    "it remains coverings of all vertices by disjoint circuits of length 2 ( undirected edges between pairs of vertices ) and length 1 ( loops ) , that is , precisely complete matchings .",
    "the adjacency matrix @xmath30 is invertible if and only if its determinant is nonzero modulo 2 , which is the case if the number of complete matchings is odd .",
    "barua and ramakrishnan @xcite and goldwasser , klostermeyer and trapp @xcite have determined , by methods entirely different from ours , for which sizes @xmath49 of orthogonal grids",
    "( with loops on every vertex ) that every lamp configuration can be lit .",
    "their answer is : if and only if @xmath50 and @xmath51 are relatively prime , where @xmath50 is the binary chebyshev polynomial defined by the recurrence : @xmath52 by theorem [ th : jonas3 ] , the result of barua and ramakrishnan is a statement about the parity of the number of complete matchings in a square grid with a loop on every vertex . but a complete matching in such a graph is precisely what is called a monomer - dimer tiling of the square grid ; the loops are monomers and edges covering two vertices are dimers .",
    "the number of monomer - dimer tilings of the @xmath1 grid is a famous open problem , cf .",
    "webpage @xcite .",
    "barua and ramakrishnan s result and our theorem [ th : jonas3 ] combine to the following partial result on the monomer - dimer problem .",
    "the number of monomer - dimer tilings of the @xmath1 grid is odd if and only if @xmath50 and @xmath51 are relatively prime modulo 2 .",
    "we conclude by finding the minimum number of lit lamps on the infinite orthogonal grid with a loop on each vertex .    pressing one vertex ( at the origin ,",
    "say ) lights five lamps . by pressing some neighbour vertices one",
    "can of course switch them off again , but in this process new lamps are lit .",
    "is it possible that pressing a complicated vertex pattern might result in fewer than five lit lamps ?",
    "we will prove that five is in fact the minimum and that the only way to light exactly five lamps is by pressing a _ mikado diamond _ ( see , and listen to , @xcite ) .",
    "these are diamond - shaped dot patterns that leave only the center lamp and the four extreme lamps lit ; the first mikado diamond is the single dot and each subsequent diamond doubles the size of the previous one .",
    "( 160 , 150)(0 , -140 ) ( 0,0 ) ( -10,-10 ) ( 0,-10 ) ( 10,-10 ) ( -20,-20 ) ( 20,-20 ) ( -30,-30 ) ( -20,-30 ) ( 0,-30 ) ( 20,-30 ) ( 30,-30 ) ( -40,-40 ) ( -20,-40 ) ( 0,-40 ) ( 20,-40 ) ( 40,-40 ) ( -50,-50 ) ( -40,-50 ) ( -30,-50 ) ( 30,-50 ) ( 40,-50 ) ( 50,-50 ) ( -60,-60 ) ( 0,-60 ) ( 60,-60 ) ( -70,-70 ) ( -60,-70 ) ( -40,-70 ) ( -30,-70 ) ( -10,-70 ) ( 0,-70 ) ( 10,-70 ) ( 30,-70 ) ( 40,-70 ) ( 60,-70 ) ( 70,-70 ) ( 0,-140 ) ( -10,-130 ) ( 0,-130 ) ( 10,-130 ) ( -20,-120 ) ( 20,-120 ) ( -30,-110 ) ( -20,-110 ) ( 0,-110 ) ( 20,-110 ) ( 30,-110 ) ( -40,-100 ) ( -20,-100 ) ( 0,-100 ) ( 20,-100 ) ( 40,-100 ) ( -50,-90 ) ( -40,-90 ) ( -30,-90 ) ( 30,-90 ) ( 40,-90 ) ( 50,-90 ) ( -60,-80 ) ( 0,-80 ) ( 60,-80 )      the five lamps property follows from the recursive construction indicated in the next figure .",
    "each mikado pattern is obtained by superposition of five mikado patterns of the next smaller size .",
    "it is clear that in this way we get another pattern leaving only the center lamp and the extreme lamps lit , for each the other eight lamps involved is lit twice , i.e. not at all .",
    "( 65 , 40)(-20 , -20 ) ( 0,0 ) ( 10,0 ) ( 20,0 ) ( -10,0 ) ( -20,0 ) ( 10,-10 ) ( 10,10 ) ( -10,-10 ) ( -10,10 ) ( 0,10 ) ( 0,-10 ) ( 0,20 ) ( 0,-20 ) ( 0,-19)(1,1)9 ( 0,1)(1,1)9 ( 0,-9)(1,1)9 ( -10,-9)(1,1)9 ( 10,-9)(1,1)9 ( 1,0)(1,1)9 ( -9,0)(1,1)9 ( -19,0)(1,1)9 ( -9,10)(1,1)9 ( -9,-10)(1,1)9 ( 1,0)(1,-1)9 ( -9,0)(1,-1)9 ( -19,0)(1,-1)9 ( -9,10)(1,-1)9 ( -9,-10)(1,-1)9 ( 0,-1)(1,-1)9 ( -10,9)(1,-1)9 ( 0,9)(1,-1)9 ( 0,19)(1,-1)9 ( 10,9)(1,-1)9      unexpectedly , one retrieves the smaller diamond by erasing every other row and every other column in the larger one .",
    "this is a consequence of the linear relation stating that the lamp at @xmath54 is dark : @xmath55 where @xmath56 is the button pressing matrix . where darkness rules , many such relations hold , and by adding the five relations belonging to lamp @xmath54 and its neighbors we obtain @xmath57 proving that darkness will prevail after the erasing process . by our next theorem , we must have retrieved the mikado diamond .    the distance between the leftmost and the rightmost lamp is @xmath58 for the @xmath24-th diamond .",
    "it is clear from the stated erasing property that increasing @xmath24 just means adding more detail to the same picture . for large @xmath24 ,",
    "the pattern is a fractal with a recurrent mikado - like figure appearing in all sizes and orientations .      to see that a set of pressed vertices can never light one , two or three lamps , consider the smallest rectangle ( with horizontal and vertical sides ) covering such a set .",
    "it is clear that at least one lamp just outside each of the four sides of the rectangle must be lit .",
    "any pattern that lights these four lamps only must have @xmath59 sloping boundaries , much the same as a mikado pattern but it is not immediately clear why all four boundaries should have size @xmath58 .",
    "however , considering the alternating pattern in the subdiagonal just inside the diagonal boundary , we can conclude that the lamp distances are at least even numbers .",
    "if we apply the erasing process to the pattern , we obtain a smaller pattern with exactly the same property , contradicting the assumed minimality .",
    "the same reasoning applies to the five lamps case also .",
    "first , note that the whole pattern must be symmetric , otherwise superposing its mirror image would cancel the four boundary lamps and leave at most two interior lamps lit .",
    "so the fifth lit lamp must be at the center and we can perform the erasing procedure until we are down to the smallest one - button mikado pattern .",
    "abc m. anderson and t. feil , turning lights out with linear algebra , _ mathematics magazine _ * 71 * ( 1998 ) , no .",
    "4 . r. barua and s. ramakrishnan , @xmath0-game , @xmath61-game and two - dimensional additive cellular automata , _ theoret .",
    "_ * 154 * ( 1996 ) , no .",
    "2 , 349366 . s. dyrkacz , d. eisenbud and s. maurer , in preparation ( 2000 ) . s. finch , two dimensional monomer - dimer constant , + http://www.mathsoft.com/asolve/constant/md/md.html w. gilbert and a. sullivan , _ the mikado _ or _",
    "the town of titipu _ , opera , 1885 .",
    "j. goldwasser , w. klostermeyer and g. trapp , characterizing switch - setting problems , _ linear and multilinear algebra _ * 43 * ( 1997 ) 121 - 135 .",
    "s. kauffman , _ at home in the universe .",
    "the search for laws of self - organization and complexity _ , viking , 1995 .",
    "d. pelletier , merlin s magic square , _ amer .",
    "math .  monthly _ ( 1987 ) , 143150 .",
    "j. spencer , _ ten lectures on the probabilistic method _ ,",
    "siam , philadelphia , 1987 , pp . 4549 .",
    "d. stock , merlin s magic square revisited , _ amer .",
    "monthly _ ( 1989 ) , 608610 .",
    "k. sutner , linear cellular automata and the garden - of - eden , _ math . intelligencer _",
    "* 11 * ( 1989 ) , no .",
    "2 , 4953 .",
    "k. sutner , the @xmath0-game and cellular automata , _ amer .",
    "monthly _ * 97 * ( 1990 ) , no .",
    "1 , 2434 .",
    "k. sutner , @xmath0-automata and chebyshev - polynomials , _ theoret .",
    "* 230 * ( 2000 ) , no . 1 - 2 , 4973 ."
  ],
  "abstract_text": [
    "<S> we answer some questions concerning the so called @xmath0-game of sutner . </S>",
    "<S> it is played on a graph where each vertex has a lamp , the light of which is toggled by pressing any vertex with an edge directed to the lamp .    for example </S>",
    "<S> , we show that every configuration of lamps can be lit if and only if the number of complete matchings in the graph is odd . in the special case of an orthogonal grid one </S>",
    "<S> gets a criterion for whether the number of monomer - dimer tilings of an @xmath1 grid is odd or even . </S>"
  ]
}