{
  "article_text": [
    "spam detection is a binary classification problem in which e - mail is classified as either ham ( legitimate e - mail ) or spam ( illegitimate or fraudulent e - mail ) .",
    "spam is very dynamic in terms of advertising new products and finding new ways to defeat anti - spam filters .",
    "the challenge in spam detection is to find the appropriate threshold between ham and spam leading to the smallest number of misclassifications , especially of legitimate e - mail ( false negatives ) . to avoid confusions ,",
    "ham and spam will be labeled as negatives and positives respectively .",
    "the vertebrate adaptive immune system , which is one of the most complex and adaptive biological systems , learns to distinguish harmless from harmful substances ( known as pathogens ) such as viruses and bacteria that intrude the body .",
    "these pathogens often evolve new mechanisms to attack the body and its immune system , which in turn adapts and evolves to deal with changes in the repertoire of pathogen attacks .",
    "a weakly responsive immune system is vulnerable to attacks while an aggressive one can be harmful to the organism itself , causing autoimmunity .",
    "given the conceptual similarity between the problems of spam and immunity , we investigate the applicability of the cross - regulation model of regulatory t - cell dynamics @xcite to spam detection .",
    "spam detection has recently become an important problem with the ubiquity of e - mail and the rewards of no - cost advertisement that can reach the largest audience possible .",
    "spam detection can target e - mail headers ( e.g. sender , receiver , relay servers ... ) or content ( e.g. subject , body ) .",
    "machine learning techniques such as support vector machines @xcite , naive bayes classifiers @xcite and other classification rules such as case - based reasoning @xcite have been very successful in detecting spam in the past .",
    "however , they generally lack the ability to track _ concept drift _ since they rely on training on fixed corpora , features , and rules .",
    "concept drift is the ( gradual or sudden ) change of thematic context ( often re - occurring ) over time such as new advertisement themes in spam and bayesian poisening , a technique used by spammers to surpass bayesian based spam filters . ideally , a system is capable of handling concept drift if it adapts quickly to the thematic change , distinguishing it from noise @xcite .",
    "research in spam detection is now focusing on detecting concept drifts in spam , with very promising results @xcite .",
    "other areas of intense development in spam - detection are social - based spam detection models @xcite as well as algorithms based on artificial immune system ( ais ) @xcite ( based on clonal selection ) @xcite ( based on abnet , an antibody network ) @xcite ( based on incremental clustering immune networks ) .",
    "the ais models are inspired by diverse responses and theories of the natural immune system @xcite such as negative selection , clonal selection , danger theory and the immune network theory .",
    "our bio - inspired spam detection algorithm is based instead on the cross - regulation model @xcite , which is a novel development in ais approaches to spam detection .",
    "since this dynamic model is quite compelling in the simplicity by which it achieves harmful / nonharmful discrimination , we expect it to be useful in also in spam / ham e - mail classification",
    ". moreover , its dynamic nature , in principle , makes it a good candidate algorithm to deal with concept drift in e - mail , which we start testing here .",
    "section [ sec : introduction ] offers a short review of the cross - regulation model @xcite .",
    "section [ sec : icrm ] presents the cross - regulation spam algorithm  our bio - inspired cross - regulation algorithm  and its application to the spam classification problem .",
    "section [ sec : results ] discusses the experiments and implementation of the model vis a vis other binary classification models . finally , in the last two sections , the discussion of the results and the conclusion follow .",
    "the cross - regulation model , proposed by carneiro et al .",
    "@xcite , aims to model the process of discriminating between harmless and harmful antigens  typically harmless self / nonself and harmful nonself .",
    "the model consists of only three cell types : effector t - cells ( e ) , regulatory t - cells ( r ) and antigen presenting cells ( a ) whose populations interact dynamically , ultimately to detect harmful antigens .",
    "e and r are constantly produced , while a are capable of presenting a collection of antigens to the e and r. t - cell proliferation depends on the co - localization of e and r as they form conjugates ( bind ) with the antigens presented by a cells ( this model assumes that a can form conjugates with a maximum of two e or r ) .",
    "the population dynamics rules of this model are defined by three differential equations , which can be , for every antigen being presented by an a , summarized by the following three laws of interaction :    1 .   if one or two e bind to antigen , they proliferate with a fixed rate .",
    "if one or two r bind to the antigen , they remain in the population .",
    "if an r binds together with an e to the same antigen , the r proliferates with a certain rate and the e remains in the population but does not proliferate .    finally , the e and r die at a fixed death rate .",
    "carneiro et al .",
    "@xcite showed that the dynamics of this system leads to a bistable system of two possible stable population concentration attractors : ( i ) the co - existence of both e and r types identifying harmless self antigens , or ( ii ) the progressive disappearance of r , identifying harmful antigens .",
    "in order to adopt the cross - regulation algorithm for spam detection , which we named the immune cross - regulation model ( icrm ) , one has to think of e - mails as analogous to the organic substances that upon entering the body are broken into constituent pieces by lysosome in a. in biology , these pieces are antigens ( typically protein fragments ) and in our bio - inspired algorithm they are words or features extracted from e - mail messages .",
    "thus , in this model , antigens are words or potentially other features ( e.g. bigrams , e - mail titles ) . for every antigen there exists a number of virtual e and r that interact with a ,",
    "each associated with a specific e - mail message , and whose role is to present , in distinct slots , a sample of the features of the respective e - mail message .",
    "therefore a , e and r have specific affinities @xmath0 , where @xmath1 and @xmath2 can bind to a slot of a , @xmath3 , only if @xmath4 and @xmath5 respectively .",
    "the general icrm algorithm is designed to be first trained on @xmath6 e - mails of `` self '' ( a user s outbox ) and harmless `` nonself '' ( a user s inbox )",
    ". however , in the results described here , it was not possible to directly obtain outbox data .",
    "we are working on collecting outbox data for future work .",
    "similarly , the icrm is also trained on `` harmful nonself '' ( spam arriving to a given user ) .",
    "training on or exposure to ham e - mails , in analogy with carneiro s et al model @xcite , is supposed to lead to a `` healthy '' dynamics denoted by the co - existence of both e and r with more of the latter .",
    "in contrast , training on or exposure to spam e - mails is supposed to result in much higher numbers of e than r. when e - mail features occur for the first time , a fixed initial number of e and r , for every feature , are generated .",
    "these initial values of e and r are different in the training and testing stages ; more weight to r for ham features , and more weight to e for spam features is given in the labeled training stage . while we specify different values for initializing the proportions of e and r associated with e - mail features , depending on whether the algorithm is in the training or the testing stage , the icrm is based on the exact same algorithm in both stages .",
    "the icrm algorithm begins when an e - mail is received and cycles through three phases for every received e - mail :    in the * pre - processing phase * , html tags are not stripped off and are treated as other words , as often done in spam - detection @xcite .",
    "all words constituting the e - mail subject and body are lowercased and stemmed using porter s algorithm after filtering out common english stop words and words of length less than 3 characters .",
    "a maximum of @xmath7 processed unique features ( words , in this case ) are randomly sampled and presented by the virtual a which corresponds to the e - mail .",
    "these virtual antigen presenting cells have @xmath8 binding slots ( that e and r can bind to ) per feature , i.e. @xmath9 slots per e - mail message .",
    "the breaking up of the e - mail message into constituent portions ( features ) is inspired by the natural process in biology , but is further enhanced in this model to select the first and last @xmath10 features in the e - mail .",
    "the assumption is that the most indicative information is in the beginning ( e.g. subject ) and the end of the e - mail ( e.g. signature ) , especially concerning ham e - mails .    in the * interaction phase * ,",
    "feature - specific @xmath11 and @xmath12 are allowed to bind to the corresponding antigens presented by a , which are arbitrarily ( uniform random ) located on its array of feature slots .",
    "every adjacent pair of a slots is dealt with separately : the @xmath12 for a given feature @xmath13 proliferate only if they do not find themselves sharing the same adjacent pair of a binding slots with @xmath11 , in which case only the @xmath11 , associated with feature @xmath14 , proliferate .",
    "the model assumes that novel ham features @xmath15 tend to have their @xmath16 suppressed by @xmath11 of other pre - occurring ham features @xmath14 because they tend to co - occur in the same message . as for the algorithm s parameters ,",
    "let @xmath8 be the number of a slots per feature .",
    "let ( @xmath17 , @xmath18 ) and ( @xmath19 , @xmath20 ) be the initial values of e and r for features occurring for the first time in the training stage for ham and spam , respectively .",
    "for the testing stage , we have ( @xmath21 , @xmath22 ) .",
    "moreover , @xmath23 , @xmath24 and @xmath25 . in the icrm implementation hereby presented , a major difference form carneiro s et al model @xcite was tried : the elimination of cell death .",
    "this is a rough attempt to provide the system with long term memory .",
    "cell death can lead to the forgetfulness of spam or ham features if these features do not reoccur in a certain period of time as shown later section [ sec : results ] .    in the * decision phase * ,",
    "the arriving e - mail is assessed based on the relative proportions of r and e for its @xmath7 sampled features .",
    "features with more r are assumed to correspond to ham while features with more e are more likely to correspond to spam .",
    "the proportions are then normalized to avoid decisions based on a few highly frequent features that could occur in both ham and spam classes . for every feature @xmath13 ,",
    "the feature score is computed as follows :    @xmath26    indicating an unhealthy ( spam ) feature when @xmath27 and a healthy ( ham ) one otherwise .",
    "@xmath28 varies between -1 and 1 . for every e - mail message @xmath29 , the e - mail immunity score is simply :    @xmath30    note that a spam e - mail with no text such as as the cases of messages containing exclusively image and pdf files , which surpass many spam filters , would be classified as spam in this scheme",
    "e - mail @xmath29 is considered spam if @xmath31 .",
    "similarly , e - mails with only a few features occurring for the first time , would share the same destiny , since the initial e is greater than r in the testing stage @xmath25 which would result in @xmath32 .",
    "given the assumption that personal e - mails ( i.e. e - mails sent or received by one specific user ) are more representative of a writing style , signature and themes , it would be preferable to test the icrm on e - mails from a personal mailbox . unfortunately , this is not offered by the most common spam corpus of _ _ spamassasin _ _ and similarly for _ _ ling - spam__. in addition , the icrm algorithm requires timestamped e - mails , since order of arrival affects final e / r populations .",
    "timestamped data is also important for analyzing concept drifts over time , thus we can not use the _ _",
    "pu1 _ _ data described by androutsopoulos et al .",
    "delany s spam drift dataset , introduced by delany et al .",
    "@xcite , meets the requirements in terms of timestamped and personal ham and spam however its features are hashed and therefore it is not easy to make tangible conclusions based on their semantics .",
    "the _ _ enron - spam _ _ preprocessed data perfectly meets the requirements as it has six personal mailboxes made public after the enron scandal .",
    "the ham mailboxes belong to the employees _ farmer - d , kaminski - v , kitchen - l , williams - w3 , beck - s and lokay - m_. combinations of five spam datasets were added to the ham data from _ spamassassin _ ( s ) , _ honeyproject _ ( h ) , _ bruce guenter _ ( b ) and _ georgios paliousras _ ( g ) spam corpora and then all six datasets were tokenized @xcite . in practice , some spam e - mails are personalized , which unfortunately can not be captured in this dataset since the spam data comes from different sources",
    ". only the first 1500 e - mails of every enron are used in this experiment .",
    "two forms of evaluation were conducted : the first and more common in spam detection evaluation is the static or offline evaluation using k - fold cross validation @xcite while the second is the dynamic or real - time evaluation using a sliding window that is particularly useful to study the model s capability of dealing with concept drifts in spam and/or ham over time .    in the * first evaluation * ,",
    "for each of the six enron sets , we ran each algorithm 10 times .",
    "each run consisted of 200 training ( 50% spam ) and 200 testing or validation ( 50% spam ) e - mails that follow in the timestamp order .",
    "from the 10 runs we computed variation statistics for the f - score , where @xmath33 and @xmath34 and @xmath35 measures of the classification of each test set , where tp , tn , fp and fn denote true positives , true negatives , false positive and false negatives respectively @xcite . ] , and accuracy performance .    in the * second evaluation * , for each of the six enron sets",
    ", we trained each algorithm on the first 200 e - mails ( 50% spam ) and then tested on a sliding window of 200 testing or validation ( 50% spam ) e - mails that follow in the order of time the email was received .",
    "the sliding shift was 10 e - mails and the range was between e - mail 201 and e - mail 2800 resulting in 260 slides ( from 1500 ham and 1500 spam only 100 ham and 100 spam are for training and the remaining 2800 are for validation ) . for every window we computed variation statistics of the percentage of fp ( misclassified ham ) and fn ( misclassified spam ) in addition to the f - score and accuracy .",
    "we also performed a linear regression of the proportions of false positives and false negatives , % fp and % fn , using least squares and computed the slope coefficients , the coefficient of determination @xmath36 for each  for the purpose of evaluating the effect of concept drift if any .      in the e - mail pre - processing phase",
    ", we used @xmath37 , @xmath38 , @xmath39 , @xmath40 , @xmath41 , @xmath42 , @xmath43 and @xmath44 .",
    "these initial e and r populations for features occurring for the first time are chosen based on the initial ratios chosen by carneiro et al .",
    "@xcite and were then empirically adjusted to achieve the best f - score and accuracy results for the six enron datasets . finally , the randomization seed was fixed in order to compare results to other algorithms and search for better parameters .",
    "the icrm was compared with two other algorithms that are explained in the following two subsections .",
    "the icrm was also tested on shuffled ( not in order of date received ) validation sets to study the importance of e - mail reception order .",
    "the results are shown in table [ table : two ] .",
    "we have chosen to compare our results with the multinomial naive bayes with boolean attributes @xcite which has shown great success in previous research @xcite . in order to fairly compare nb with icrm , we selected the first and last unique @xmath37 features .",
    "the naive bayes classifies an e - mail as spam in the testing phase if it satisfies the following condition :    @xmath45    where @xmath13 is the feature sampled from an e - mail , and @xmath46 and @xmath47 are the probabilities that this feature @xmath13 is sampled from a spam and ham e - mail respectively , while @xmath48 is the union of spam and ham e - mails .",
    "the results are shown in table [ table : two ] and plotted in figure [ fig : result ] .",
    "we previously developed the vtt as a linear binary classification algorithm and implemented it as a protein - protein abstract classification tool using bioliterature mining @xcite . for more details",
    "please refer to @xcite .",
    "the results are shown in table [ table : two ] , plotted in figure [ fig : result ] .",
    ".f - score and accuracy mean + /-",
    "sdev of 10 runs for 50% spam enron data sets with the first three columns using icrm ( the first one applied on ordered e - mail , the second one on shuffled timestamps of testing data and the third on on ordered e - mail but with icrm having cell death with death rate=0.02 ) , the fourth one using naive bayes and the last one using vtt .",
    "[ cols= \" < , < , < , < , < , < , < \" , ]     [ table : four ]    .",
    "the rest of the accuracy and fn / fp plots are available as supplementary material.,width=453,height=226 ]",
    "as clearly shown in table [ table : two ] , icrm , nb and vtt are very competitive for most enron datasets , indeed the performance of icrm is statistically indistinguishable from vtt ( f - score and accuracy p - values 0.15 and 0.63 for the paired t - test validating the null hypothesis of variation equivalence ) , though its slightly lower performance against nb is statistically significant ( f - score and accuracy p - values 0.01 and 0.02 for the paired t - test , rejecting the null hypothesis of variation equivalence with 0.05 level of significance ) .    however , the icrm can be more resilient to ham ratio variations as shown in table [ table : three ] and figure [ fig : spamratio ] . while the performance of both algorithms was comparable for 50% spam ( though significantly better for nb ) , the performance of nb drops for 30% spam ratio ( 5% lower f - score than icrm ) and 70% spam ratio ( 9% less accurate than icrm ) while icrm relatively maintains a good performance .",
    "the difference in performance is statistically significant , except for f - score of the 70% spam experiment , as the p - values obtained for our performance measures clearly reject the null hypothesis of variation equivalence : f - score and accuracy p - values are 0 and 0.01 for 30% spam , and accuracy p - value is 0.01 for 70% spam ( p - value for f - score is 0.5 for this case ) . while one could argue that nb s performance",
    "could well be increased , in the unbalanced spam / ham ratio experiments , by changing the right hand side of equation [ eq : three ] to 0.3 or 0.7 , this act would imply that , in real situations , one could know a priori the spam to ham ratio of a given user . the icrm model , on the other hand",
    ", does not need to adjust any parameter for different spam ratios  it is automatically more reactive to whatever ratio it encounters .",
    "it has been shown that spam to ham ratios indeed vary widely @xcite , hence we conclude that the icrm s ability to better handle unknown spam to ham ratio variations is more preferable for dynamic data classification in general and spam detection in particular .",
    "we have implemented icrm with death rate$ ] , where @xmath49 is the probability that an @xmath50 or @xmath12 would die for a previously occurring feature @xmath13 . ] = 0.02 . and without virtual cell death but the results showed negligible statistical differences ( f - score and accuracy p - values 0.02 and 0.04 ) although slightly in favor of no virtual cell death , as seen in table [ table : two ] .",
    "the icrm tested for spam variation and dynamic evaluation excluded cell death to speed up the algorithm , nonetheless , we are in the process of experimenting with heterogeneous death rates for the e , r cells of different features and more `` interesting '' features ( e.g. e - mail title , from , to , and cc features ) . since death rates affect the long - term memory of the system , this is something we intend to investigate more closely in future work .    in most enron sets ,",
    "shuffling the timestamps of received e - mails in the testing stages also only slightly reduced the icrm s performance ( f - score and accuracy p - values 0.07 and 0.04 for paired t - test ) , therefore , unlike what was expected , the timestamps of e - mails seem to be largely irrelevant  which undermines some of the justification for a dynamic approach to spam detection based on the cross - regulation model .",
    "nevertheless , we plan to study this further with additional data sets with much longer date ranges .",
    "the icrm was also very competative with nb , have shown to be very competitive in the dynamic evaluation .",
    "the evidence is in the first two columns ( f - score and accuracy ) of table [ table : four ] and in the supplementary material section .",
    "another notable feature of the icrm is that it seems to balance % fn and % fp more efficiently over time .",
    "conversely , nb tends to have high % fn and low % fp or vice versa . in order to quantify the balance between % fp and % fn ,",
    "we compute their means and standard deviations for all enrons in the last two columns of table [ table : four ] .",
    "while the largest mean in icrm does not exceed 12.08% ( enron 5 ) , it does reach 12.99% ( enron 1 ) 16.02% ( enron 3 ) and",
    "15% ( enron 4 ) in nb for % fp .",
    "however , in spam detection in particular , more importance is given to % fp ( ham misclassification ) which favors nb over icrm in most enron datasets .",
    "in future work , we will explore if enabling heterogeneous death rates for e and r cells can reduce % fp with the icrm . on the other hand , the icrm s more balanced % fn and % fp could be valuable for other binary classification problems where fp and fn are equally important  which is not the case in spam detection .",
    "we also computed slope coefficients @xmath51 , @xmath52 and their corresponding @xmath36 for the least square linear fit of % fn and % fp in order to study the behaviour of concept drift which would be manifested by high slopes  indicating decay in performance .",
    "however , the slopes are quite minimal as shown in the third and fourth columns of table [ table : four ] .",
    "indeed , the performance is essentially flat in time for both algorithms with slopes close to zero ( see plots in supplemental materials ) .",
    "therefore , there does not seem to be much concept drift in these datasets .",
    "the observations made based on the artificial immune system can help us guide or further deepen our understanding of the natural immune system .",
    "for instance , icrm s resilience to spam to ham ratio and its ability to balance between % fn and % fp show us how dynamic is our immune system and functional independently of the amount of pathogens attacking it .",
    "in addition , the three modifications made to the original model can be very insightful : the improvements made by training on both spam and ham ( rather than only ham or self ) reinforce the theories of both self and nonself antigen recognition by t - cells outside the thymus .",
    "the feature selection makes us wonder whether the actual t - cell to antigen binding is absolutely arbitrary .",
    "finally , the elimination of cell death may reinforce the theories behind long lived cells as far as long term memory is concerned .",
    "in this paper we have introduced a novel spam detection algorithm inspired by the cross - regulation model of the adaptive immune system .",
    "our model has proved itself competitive with both spam binary classifiers and resilient to spam to ham ratio variations in particular .",
    "the overall results , even though not stellar , seem quite promising especially in the areas of spam to ham ratio variation and also of tracking concept drifts in spam detection . this original work should be regarded not only as a promising bio - inspired method that can be further developed and even integrated with other methods but also as a model that could help us better understand the behavior of the t - cell cross - regulation systems in particular , and the vertebrate natural immune system in general .",
    "we thank jorge carneiro for his insights about applying icrm on spam detection and his generous support and contribution for making this work possible .",
    "we also thank florentino fdez - riverola for the very useful indications about spam datasets and work in the area of spam detection .",
    "we would also like to thank the flad computational biology collaboratorium at the gulbenkian institute in oeiras , portugal , for hosting and providing facilities used to conduct part of this research .",
    "abi - haidar , a. , kaur , j. , maguitman , a. , radivojac , p. , retchsteiner , a. , verspoor , k. , wang , z. , and rocha , l. ( 2008 ) .",
    "uncovering protein - protein interactions in abstracts and text using linear models and word proximity networks . .",
    "inpress .",
    "delany , s.  j. , cunningham , p. , and smyth , b. ( 2006a ) .",
    "ecue : a spam filter that uses machine leaming to track concept drift . in brewka , g. , coradeschi , s. , perini , a. , and traverso , p. , editors , _",
    "ecai 2006 , 17th european conference on artificial intelligence , pais 2006 , proceedings _ , pages 627631 .",
    "ios press ."
  ],
  "abstract_text": [
    "<S> this paper proposes a novel solution to spam detection inspired by a model of the adaptive immune system known as the cross - regulation model . </S>",
    "<S> we report on the testing of a preliminary algorithm on six e - mail corpora . </S>",
    "<S> we also compare our results statically and dynamically with those obtained by the naive bayes classifier and another binary classification method we developed previously for biomedical text - mining applications . </S>",
    "<S> we show that the cross - regulation model is competitive against those and thus promising as a bio - inspired algorithm for spam detection in particular , and binary classification in general . </S>"
  ]
}