{
  "article_text": [
    "in the information age , the internet is becoming a _ de facto _ public good , akin to roads , airports , or any other critical infrastructure  @xcite .",
    "more than a billion people are estimated to use the internet every day to communicate , search for information , share data , or do business  @xcite . on - line",
    "social networks are becoming an integral part of human social activities , increasingly affecting human psychology  @xcite .",
    "underlying all these processes is the internet infrastructure , composed , at the large scale , of connections between autonomous systems ( ass ) .",
    "an as is , roughly , a part of the internet owned and administered by the same organisation  @xcite .",
    "ass range in size from small companies , or even private users , to huge international corporations .",
    "there is no central internet authority dictating to any as what other ass to connect to .",
    "connections between ass are results of local independent decisions based on business agreements between as pairs .",
    "this lack of centralised engineering control makes the internet a truly self - organised system , and poses many scientific challenges .",
    "the one we address here is the sustainability of internet growth .",
    "the internet has been growing fast according to all measures  @xcite .",
    "for example , the number of ass increases by approximately @xmath0 every year  @xcite . despite its growth , the internet must sustainably perform its primary task  routing information packets between any two computers in the world . but can this function be really sustained ?",
    "to route information to a given destination in the internet today , all ass must collectively discover the best path to each possible destination , based on the current state of the global internet topology . as the number of destinations grows quickly",
    ", the amount of information each as has to maintain becomes a serious scalability concern , endangering the performance and stability of the internet  @xcite .",
    "worse yet , the internet is not static .",
    "its topology changes constantly due to failures of existing links and nodes , or appearances of new ones .",
    "each time such a change occurs anywhere in the internet , the information about this event must be diffused to all ass , which have to quickly process it to recompute new best routes .",
    "the constantly increasing size and dynamics of the internet thus leads to immense and quickly growing routing overheads , causing concerns among internet experts that the existing internet routing architecture may not sustain even another decade  @xcite ; parts of the internet have started sinking into black holes already  @xcite .    the scaling limitations with existing internet routing stem from the requirement to have a current state of the internet topology distributed globally .",
    "such global knowledge is unavoidable since routing has no source of information other than the network topology .",
    "routing in these conditions is equivalent to routing using a hypothetical road atlas , which has no geographic information , but just lists road network links , which are pairs of connected road intersections , abstractly identified .",
    "this analogy with road routing suggests that there are better ways to find paths in networks .",
    "suppose we want to travel from one geographic place to another .",
    "given the geographic coordinates of our starting point and destination , we can readily tell what direction brings us closer to our destination .",
    "we see that a coordinate system in a geometric space , coupled with a representation of the world in this space , simplify drastically our routing task . for simple and efficient network routing",
    "we thus need a map . constructing such a map for the internet",
    "boils down to assigning to each as its coordinates in some geometric space , and then using this space to forward information packets in the right directions toward their destinations . _",
    "greedy forwarding _ implements this routing in the right direction : upon reading the destination address in the packet , the current packet holder forwards the packet to its neighbour closest to the destination in the space . this greedy strategy to reach a destination",
    "is efficient only if the network map is congruent with the network topology . in the analogy with road routing , for example",
    ", this congruency condition means that there should exists a road path that stays approximately close to the geographic geodesic between the trip s starting and ending points .",
    "if the congruency condition holds , then the advantage of greedy forwarding is twofold .",
    "first , the only information that ass must maintain is the coordinates of their neighbours .",
    "that is , ass do not have to keep any per - destination information .",
    "second , once ass are given their coordinates , these coordinates do not change upon topological changes of the internet .",
    "therefore , ass do not have to exchange any information about ever - changing internet topology . taken together",
    ", these two improvements essentially eliminate the two scaling limitations mentioned above .    in our recent work",
    "@xcite we have shown that greedy forwarding is indeed efficient in internet - like _ synthetic _ networks embedded in geometric spaces , and that this efficiency is maximised if the space is hyperbolic .",
    "however , putting these ideas in practice needs a crucial piece of information : a map of the _ real _ internet in a hyperbolic space . here",
    "we present a method to find such a map .",
    "our method uses statistical inference techniques to find coordinates for each as in the hyperbolic space underlying the internet .",
    "guided by the inferred coordinates , greedy forwarding in the internet achieves efficiency and robustness , similar to those in synthetic networks .",
    "we also find that the method maps geo - politically close ass close to each other in the hyperbolic space .",
    "this finding suggests that our mapping method can be used for soft community detection in real networks , where by _ soft communities _ we mean groups of geometrically close nodes .",
    "to build a geographic map , one first has to model the earth surface , e.g. , by assuming that it is a sphere .",
    "similarly , we also need a geometric model of the internet space to build our map .",
    "the simplest candidate space is also a sphere , or even a circle , on which nodes are uniformly distributed , and connected by an edge with probability @xmath1 decreasing as a function of distance @xmath2 between nodes , conceptually similar to random geometric graphs  @xcite .",
    "however , this model fails to capture basic properties of the internet topology , including its scale - free node degree distribution . in  @xcite",
    ", we showed that to generate realistic network topologies in this geometric approach , we first have to assign to nodes their expected degrees @xmath3 drawn from a power - law distribution , and then connect pairs of nodes with expected degrees @xmath3 and @xmath4 with probability @xmath5 , where @xmath6 is distance @xmath2 rescaled by the product of the expected degrees , @xmath7 .",
    "we thus have a hybrid model that mixes geometry and topology  geometric characteristics , distances @xmath2 used in random geometric graphs , come in tandem with topological characteristics , expected degrees @xmath3 used in classical configuration models of random power - law graphs  @xcite . if we associate the expected degree @xmath3 of a node with its mass , then the connection probability @xmath8 , which is a measure of the interaction strength between two nodes , resembles newton s law of gravitation",
    ". therefore we call this model _ newtonian .",
    "_ however , according to einstein , we can treat gravity in purely geometric terms if we accept that the space is no longer flat , i.e. , if it is non - euclidean .",
    "following this philosophy we showed in  @xcite that the newtonian model is isomorphic to a purely geometric network model with node degrees transformed into a geometric coordinate making the space hyperbolic , i.e. , negatively curved .",
    "we call this model _ einsteinian .",
    "_    the main property of hyperbolic geometry is the exponential expansion of space illustrated in fig .",
    "[ fig:0 ] .",
    "for example , the area @xmath9 of a two - dimensional hyperbolic disc of radius @xmath10 grows with @xmath10 as @xmath11 .",
    "consequently , if we distribute nodes uniformly or quasi - uniformly over a hyperbolic disc , then from the euclidean perspective their density will grow exponentially with the distance from the disc centre .",
    "we illustrate this effect in fig .",
    "[ fig:1 ] , where we visualise a small - size sample network generated by our einsteinian model . in the model ,",
    "nodes are indeed distributed ( quasi-)uniformly within a hyperbolic disc of radius @xmath12 , which is a function of the network size .",
    "we see that the angular node density appears uniform , but the radial one does not ",
    "the number of nodes grows exponentially as we move away from the origin .",
    "the figure also shows a triangle connecting origin @xmath13 , and two nodes @xmath14 and @xmath15 by hyperbolic geodesics , i.e. , hyperbolically straight lines .",
    "the two geodesics emanating from the origin @xmath13 , @xmath16 and @xmath17 , are radial straight lines , and their hyperbolic lengths @xmath18 are equal to the radial coordinates of @xmath14 and @xmath15 : @xmath19 and @xmath20 .",
    "however , the hyperbolic geodesic between nodes @xmath14 and @xmath15 does not appear as a euclidean straight line , and its length is given by the hyperbolic law of cosines @xmath21 where @xmath22 is the angle between @xmath16 and @xmath17 .",
    "( the same formula with @xmath23 can be used to compute @xmath19 and @xmath20 . ) upon distributing nodes over the disc as described , we form scale - free networks in the model by connecting each pair of nodes @xmath24 and @xmath25 located at hyperbolic distance @xmath26 with the connection probability @xmath27 almost identical to the fermi - dirac distribution in statistical mechanics .",
    "it depends only on hyperbolic distances @xmath26 ( link energies ) , hyperbolic disc radius @xmath12 ( chemical potential ) , and parameter @xmath28 ( temperature ) controlling network clustering .",
    "this connection probability results in average node degrees exponentially decreasing with the distance from the origin , which we also observe in fig .",
    ". the combination of an exponentially increasing node density and exponentially decreasing average degree yields a power - law node degree distribution in the network .",
    "see appendix  [ model ] for further details .",
    ", rendering an image of the last author .",
    "[ fig:0],width=336 ]    .",
    "the radial density of nodes grows exponentially with the distance from the origin @xmath13 , while their average degree exponentially decreases , yielding a scale - free degree distribution .",
    "the red lines show triangle @xmath29 made of the hyperbolic geodesics connecting origin @xmath13 and two nodes @xmath14 and @xmath15 .",
    "geodesics @xmath16 and @xmath17 are the solid lines , while geodesic @xmath30 is the dashed curve .",
    "the thick blue links show the shortest path between nodes @xmath14 and @xmath15 in the network.[fig:1],width=336 ]",
    "as our goal is to build a realistic internet map , ready for routing and other applications , we have to find for each as its radial and angular coordinates @xmath31 maximising the efficiency of greedy forwarding .",
    "this specific task of maximising greedy forwarding efficiency calls for a mapping method different from existing techniques on embedding internet distances and graphs  @xcite . in view of our previous findings  @xcite that greedy forwarding",
    "is exceptionally efficient in internet - resembling synthetic networks , and that this efficiency is maximised in the einsteinian model , our strategy for the internet map construction is to maximise the congruency between the map and the model . in statistical inference",
    "@xcite , this goal is equivalent to maximising the likelihood that the observed data , i.e. , the internet topology , has been produced by the model .",
    "this likelihood is given by @xmath32^{1-a_{ij}},\\ ] ] where the elements @xmath33 of the internet adjacency matrix are equal to @xmath34 whenever there exists a connection between ass @xmath24 and @xmath25 , and to @xmath35 otherwise .",
    "while the adjacency matrix represents the observed data , the connection probability @xmath36 depends via eqs .",
    "( [ eq : p(x)],[eq : x ] ) on the as coordinates @xmath31 , which we try to infer .",
    "our best estimate for these coordinates are then those maximising the likelihood in eq .",
    "( [ eq : likelihood ] ) .",
    "although there are a plenty of methods to find maximum - likelihood solutions , e.g. , the metropolis - hastings algorithm  @xcite , they perform poorly and do not scale well on large datasets with abundant local maxima , which is the case with the internet . therefore , as important as a maximisation method is a heuristic approach helping the maximisation algorithm to find the optimal solution in a reasonable amount of time and with reasonable computational resources .",
    "our method is based on the following remarkable property of networks in our model ; the same property holds for the internet  @xcite .",
    "let @xmath37 be a given network with average degree @xmath38 and power - law degree distribution @xmath39 , and let @xmath40 be @xmath37 s subgraph composed of nodes with degree larger than some threshold @xmath41 , along with the connections among these nodes . the average degree in @xmath40 is then given by @xmath42  @xcite . in scale - free networks with exponent @xmath43 between @xmath44 and @xmath45 ,",
    "this internal average degree is thus a growing function of @xmath41 , which implies that subgraphs made of high degree nodes almost surely form a single connected component . using this property along with the statistical independence of the graph edges , it becomes possible to infer coordinates of ass in @xmath40 ignoring the remainder of the as graph .",
    "this property is practically important because the size of @xmath40 decreases very fast as @xmath41 increases , which speeds up likelihood maximisation algorithms tremendously . in a nutshell ,",
    "our method starts with a subgraph @xmath40 small enough for standard maximisation algorithms being able to reliably and quickly infer the coordinates of ass in @xmath40 .",
    "once these are found , we gradually increase @xmath41 to iteratively add layers of lower - degree ass .",
    "while doing so , we use the already inferred as coordinates as a reference frame to assign initial coordinates to newly added ass .",
    "this initial coordinate assignment significantly improves the convergence time of maximisation algorithms .",
    "all other details of our mapping method can be found in appendix  [ appendixc ] .",
    "in the map closely follows the einsteinian model prediction .",
    "the whole range of hyperbolic distances @xmath46 $ ] is binned , and for each bin the ratio of the number of connected as pairs to the total number of as pairs falling within this bin is shown .",
    "the distances between as pairs are computed using eq .",
    "( [ eq : x ] ) .",
    "the blue dashed line is the connection probability given by eq .",
    "( [ eq : p(x ) ] ) with @xmath47 and @xmath48 , which are the values used by the mapping method .",
    "[ fig:3],width=336 ]    . for the majority of countries ,",
    "their ass are localised in narrow regions .",
    "the exceptions are the us , eu , and uk . the first two exceptions are due the significant geographic spread of ass belonging to the us or eu , the latter actually representing not one country but a collection of countries . [ fig:4],width=336 ]",
    "we apply our mapping method to the internet as topology extracted from the archipelago project data  @xcite in june 2009 and described in appendix  [ ark ] , and visualise the results in fig .",
    "[ fig:2 ] .",
    "we observe striking similarity between this visualisation and the synthetic einsteinian network in fig .",
    "[ fig:1 ] . to confirm that the internet map we have obtained is indeed congruent with the einsteinian model , we juxtapose in fig .",
    "[ fig:3 ] the empirical connection probability between ass in the obtained internet map against the theoretical one in eq .",
    "( [ eq : p(x ) ] ) .",
    "we observe a clear similarity between the two . neither",
    "the sphere is a perfect model of the earth , nor the einsteinian model is an ideal abstraction of the internet structure .",
    "yet , the observed similarity between the empirical and theoretical connection probabilities in fig .  [ fig:3 ] suggests that hyperbolic metric spaces coupled with fermi - like connection probabilities are reasonable representations of the real internet space .    to investigate further the connections between the obtained map and internet reality , we show in fig .",
    "[ fig:2 ] the average angular position of all ass belonging to the same country , while in fig .",
    "[ fig:4 ] we draw the angular distributions of those ass .",
    "surprisingly , we find that even though our mapping method is completely geography - agnostic , it discovers meaningful groups or communities of ass belonging to the same country . furthermore , in fig .  [ fig:2 ]",
    "we find many cases of geographically or politically close countries placed close to each other in our hyperbolic map .",
    "the explanation of these surprising effects is rooted in the peculiar nature of our mapping method .",
    "if ass belonging to the same country , geographic region , or geo - political or economic group are connected more densely to each other than to the rest of the world , then this higher connection density translates to a higher attractive force that tries to place all such ass close to each other in our map .",
    "indeed , the term @xmath49 in eq .",
    "( [ eq : likelihood ] ) corresponds to the attractive force between connected nodes , while the term @xmath50^{1-a_{ij}}$ ] is the repulsive force between disconnected ones .",
    "this peculiar interplay between attraction within densely connected regions , and repulsion across sparsely connected zones , effectively maps closely the ass belonging to densely connected as groups .",
    "these observations build our confidence that our mapping method provides meaningful results reflecting peculiarities of the real internet structure , and suggest that the method can be adapted to discover the community structure  @xcite in other complex networks .",
    "the obtained internet map is ready for greedy forwarding .",
    "an as holding a packet reads its destination as coordinates , computes the hyperbolic distances between this destination and each of its as neighbours using eq .",
    "( [ eq : x ] ) , and forwards the packet to the neighbour closest to the destination . to evaluate the performance of this process , we perform greedy forwarding from each source to each destination as , and compute several performance metrics .",
    "the first metric is success ratio , which is the percentage of greedy paths that successfully reach their destinations .",
    "not all paths are expected to be successful as some might run into local minima .",
    "for example , an as might forward a packet to its neighbour who sends the packet back to the same as , in which case the packet will never reach the destination .",
    "we declare a path unsuccessful , if the packet is sent to the same as twice .",
    "the average success ratio of simple greedy forwarding in our internet map is remarkably high , @xmath51 , and more sophisticated greedy forwarding techniques , such as those described in  @xcite , can boost it to @xmath52 .",
    "given the discussed connections between our internet map and geography , one may conjecture that greedy forwarding simply mimics geographic routing following the geographically shortest paths .",
    "however , this conjecture is not true .",
    "geography is reflected in our map only along the angular coordinate , while the radial coordinate is a function of the as degree , making the space hyperbolic , see appendix  [ model ] .",
    "the geographic space is not hyperbolic , and if we use it for greedy forwarding , we obtain a much lower success ratio of approximately @xmath53 .",
    "we also tested modified geographic routing that tries to intelligently use as degrees , in spirit of our einsteinian model .",
    "nevertheless , this modification , although improving the success ratio to @xmath54 , still fails short compared to the results obtained using our hyperbolic map .",
    "the details of these experiments with geographic routing are in appendix  [ appendixh ] .",
    "the second metric is stretch , which tells us by how much longer the greedy paths are , compared to shortest paths in the internet topology .",
    "the average stretch is low , @xmath55 .",
    "the average hop - wise length of the shortest paths between selected sources and destinations is @xmath56 , so that the average length of greedy paths is @xmath57 .",
    "the low value of stretch indicates that greedy paths are close to optimal , i.e. , shortest paths .",
    "the shortest path between nodes @xmath14 and @xmath15 in fig .",
    "[ fig:1 ] , for example , is also the path found by greedy forwarding .",
    "somewhat unexpectedly , the greedy stretch is asymptotically optimal , i.e. , equal to @xmath34 , in scale - free , strongly clustered networks regardless what underlying space is used for greedy forwarding  @xcite .",
    "low stretch also implies that greedy forwarding causes approximately the same traffic load on nodes as shortest - path forwarding .",
    "given that shortest - path forwarding does not lead to high traffic load in scale - free networks  @xcite , this finding allays concerns that hyperbolic forwarding may cause traffic congestion abnormalities  @xcite .",
    "more details on this topic are in appendix  [ appendixl ] .    , and average stretch , @xmath58 , after removal of a given fraction of as nodes ( top left ) or links ( top right ) .",
    "the bottom plots show these two metrics after removing a number of the highest - degree nodes ( bottom left ) , and a fraction of links among highest - degree nodes ( bottom right ) .",
    "the links are first ranked by the product of node degrees that they connect , and then a fraction of top - ranked links are removed .",
    "the giant connected component is still present after all removals , but it drops to @xmath59 of the original graph after the removal of @xmath60 hubs . [ fig:6],width=336 ]    the two metrics above characterise the performance of greedy forwarding in the static internet topology .",
    "more important than that is how greedy forwarding performs in the dynamic topology , where links and nodes can fail .",
    "we randomly select a percentage of links and nodes , remove them from the mapped internet , recompute the success ratio and stretch after the removal , and present the result in the top plots of fig .",
    "[ fig:6 ] . even upon simultaneous failures of up to @xmath61 of as links or nodes  catastrophic events never happened in the internet history ",
    "we observe only minor degradation of the performance of greedy forwarding .",
    "that is , even catastrophic levels of damage to the internet does not significantly affect the performance of greedy forwarding , even though no as changes its position on the hyperbolic map",
    ".    a widely popularized feature of complex networks is their robustness with respect to random failures , and the lethality of failures of highest - degree hubs  @xcite .",
    "as expected we observe in the bottom plots of fig .",
    "[ fig:6 ] that removals of such hubs have a more detrimental effect on greedy forwarding as well .",
    "however , targeted removal of highest - degree ass in the internet is a rather unrealistic scenario since these large ass consist of thousands of routers whose simultaneous failure is a very rare and unlikely event .",
    "the explanation for the surprising efficiency of greedy forwarding with respect to random failures lies in the unique combination of the following two properties exhibited by scale - free , strongly clustered networks : high path diversity  @xcite , and congruency between hyperbolic geodesics and topologically shortest paths  @xcite .",
    "the latter is illustrated by the similar path patterns of the hyperbolic geodesic and topologically shortest path between nodes @xmath14 and @xmath15 in fig .",
    "[ fig:1 ] : they both first go to the high - degree core of the network , and then exit it in the appropriate direction to the destination . due to high path diversity , there are many disjoint shortest paths between the same source and destination , and thanks to the congruency , they all stay close to the corresponding hyperbolic geodesics .",
    "link and node failures affect some shortest paths , but others remain , and greedy forwarding can still find them using the same hyperbolic map .",
    "another form of internet dynamics is its rapid growth over years  @xcite .",
    "we show in appendix  [ appendixd ] that if the existing ass keep their hyperbolic coordinates fixed , while the ass joining the internet anew compute their coordinates using local information , then the performance of greedy forwarding does not significantly degrade , even at long time scales . in a nutshell ,",
    "the existing as coordinates are essentially static , as they can stay the same for years .    existing internet topology measurements including the archipelago data  @xcite",
    "are known to be incomplete and miss some as links .",
    "therefore a natural question is how this missing information affects the quality of the constructed map , and the performance of greedy forwarding in it .",
    "intuitively , since the performance of greedy forwarding is robust with respect to link removals , then we might expect it to be robust with respect to missing links as well .",
    "moreover , if the constructed map is used in practice , then greedy forwarding will see and use those links that topology measurements do not see .",
    "we might thus also intuitively expect greedy forwarding to perform better in practice than we report in this section , simply because those missing links , when used by greedy forwarding , would provide additional shortcuts between potentially remote ass .",
    "we confirm this intuition in appendix  [ appendixe ] with experiments emulating the missing link issue .",
    "therefore the routing results reported here should actually be considered as lower bounds for greedy routing performance that can be achieved in practice using the constructed hyperbolic internet map .",
    "we have constructed a hyperbolic map of the internet , and release this map with this paper  @xcite . the map can be used for essentially infinitely scalable internet routing .",
    "the amount of routing information that ass must maintain is proportional to the as degree , which is theoretically best possible since ass must always keep some information about their neighbours . routing communication overheads",
    "are also minimised , since ass do not exchange any routing information upon dynamic changes of the as topology .",
    "the presented solution thus achieves routing efficiency close to theoretically optimal , and resolves serious scaling limitations that the internet faces today .",
    "the mapping method we have employed is generic , and can be applied to other complex networks with underlying metric structures and heterogeneous degree distributions .",
    "we showed in  @xcite that a good indicator for the presence of an underlying metric structure is self - similarity of clustering in the network , while in  @xcite we showed that as soon as a metric space is present , and the network has a heterogeneous degree distribution , the metric distances can be rescaled such that the underlying geometry is effectively hyperbolic . roughly , self - similar clustering is responsible for the metric structure along the angular coordinate , while degree heterogeneity adds the radial dimension , and makes the space hyperbolic .",
    "applied to other networks , our mapping method can provide a different perspective on the community structure in networks . instead of trying to split nodes into discrete community sets  @xcite , it would naturally yield a continuous measure of similarity between nodes based on hyperbolic distances .",
    "more similar nodes would be located closer to each other , and form zones of higher connectivity density .",
    "it would be then up to an experimenter to define communities , if needed , as histograms of the node density in the hyperbolic space .",
    "the spectrum of potential applications of this network - mapping geometrisation agenda is wide .",
    "network mapping can reveal geometric forces effectively driving information signaling in the network ; examples include the brain  @xcite and cell signaling networks  @xcite .",
    "one can then potentially predict what network perturbations drive these networks to failures , such as brain disorders or cancer .",
    "other applications range from recommender systems  @xcite , where to have the right measure of similarity between consumers is a key , to epidemic spreading  @xcite and information theory of networks  @xcite .",
    "we have shown that the internet hyperbolic map is remarkably robust with respect to even substantial perturbations of the internet topology , implying that this map is essentially static .",
    "it does not significantly depend on topology dynamics , and can thus be computed only once .",
    "this property is desirable in view of long running times intrinsic to likelihood maximisation algorithms .",
    "our method improves their running times drastically , and the internet map computations take approximately a day on a modern computer .",
    "however , for substantially larger networks the running times may still be prohibitive even for one - time mapping .",
    "therefore , alternative methods for network mapping , not relying on likelihood maximisation , are highly desirable , and our work in this direction is underway .",
    "to synthesise a network with our einsteinian model , one has first to specify any desired network size @xmath62 , average degree @xmath38 , average clustering @xmath63 , and exponent @xmath64 of the power - law distribution @xmath65 of node degrees @xmath66 , @xmath67 .",
    "equipped with these target properties of the network topology , we first distribute quasi - uniformly @xmath62 nodes within a hyperbolic disc of radius @xmath68 , where @xmath69 is given by @xmath70 and @xmath71 $ ] is a function of @xmath63 . in the hyperbolic plane , the quasi - uniform node density means that the node angular coordinates @xmath72 $ ] are distributed uniformly , while their radial coordinates @xmath73 $ ] are distributed with density @xmath74 where @xmath75 .",
    "once all nodes are in place specified by their assigned coordinates , the hyperbolic distance @xmath26 between each pair of nodes @xmath24 and @xmath25 located at @xmath76 and @xmath77 is computed using eq .",
    "( [ eq : x ] ) . given these distances , each pair of nodes @xmath24 and @xmath25",
    "is then connected by a link with probability @xmath36 given by eq .",
    "( [ eq : p(x ) ] ) . after each node pair is examined and connected with probability @xmath36 , the network is formed , and we can compute the average degree @xmath78 of nodes located at distance @xmath10 from the origin .",
    "the result is @xmath79 which combined with eq .",
    "( [ eq : alpha ] ) yields the target degree distribution @xmath65 .",
    "the newtonian model is isomorphic to the einsteinian one via a simple change of variables reminiscent to eq .",
    "( [ eq : k(r ) ] ) : @xmath80 where @xmath3 is the expected degree of a node in the newtonian model , and @xmath81 is the minimum expected degree . see  @xcite for further details .",
    "[ appendixc ]    to find our hyperbolic internet map , we use the equivalence between the einsteinian@xmath82  @xcite and the newtonian@xmath83  @xcite models .",
    "this equivalence establishes a relationship in eq .",
    "( [ eq : kappa.vs.r ] ) between the expected degree @xmath3 of a node in the newtonian@xmath83 model , and its radial coordinate @xmath10 in the einsteinian@xmath82 model the angular coordinate @xmath84 is the same in both models .",
    "thus , for a given node @xmath24 we aim to find its expected degree and angular coordinate , @xmath85 , that best match the newtonian@xmath83 model .",
    "we then use the @xmath3-to-@xmath10 mapping to place nodes in the hyperbolic plane according to the einsteinian@xmath82 model .",
    "thanks to their equivalence , the newtonian@xmath83 and einsteinian@xmath82 models generate statistically the same network topologies . however , the efficiency of greedy forwarding in the einsteinian@xmath82 model is higher , because hyperbolic geodesics are exceptionally congruent with the topologically shortest paths in scale - free networks  @xcite .",
    "the reason for this congruency is that the _ effective _ distance used as an argument of the connection probability in the newtonian@xmath83 is actually hyperbolic  @xcite , and the einsteinian@xmath82 model simply translates this effective distance to the real hyperbolic one . for these reasons we prefer the einsteinian@xmath82 model for routing purposes ,",
    "although we use the newtonian@xmath83 one to find the internet map .",
    "we could use directly the einsteinian@xmath82 model for this purpose , but the newtonian@xmath83 model is technically simpler since the statistical inference in it can be performed independently for the two variables @xmath3 and  @xmath84 .",
    "we first recall the newtonian@xmath83 model , which generates networks according to the following steps :    1 .",
    "distribute @xmath62 nodes uniformly over the circle @xmath83 of radius @xmath86 , so that the node density on the circle is fixed to @xmath34  .",
    "2 .   assign to all nodes a hidden variable @xmath3 representing their expected degrees . to generate scale - free networks ,",
    "@xmath3 is drawn from the power - law distribution @xmath87 where @xmath81 is the minimum expected degree , and @xmath88 is the network average degree  .",
    "3 .   let @xmath3 and @xmath4 be the expected degrees of two nodes located at distance @xmath89 measured over the circle , where @xmath90 is the angular distance between the nodes .",
    "connect each pair of nodes with probability @xmath5 , where the _ effective _ distance @xmath91 , and @xmath92 is a constant fixing the average degree .",
    "the connection probability @xmath5 can be any integrable function .",
    "here we chose the fermi - dirac distribution @xmath93 where @xmath94 is a parameter that controls clustering in the network . with this connection probability ,",
    "parameter @xmath92 becomes @xmath95}.\\ ] ] the expected degree of a node with hidden variable @xmath3 is @xmath96 and , therefore , the degree distribution scales as @xmath97 for large @xmath66 .",
    "to go from the newtonian@xmath83 to the einstenian@xmath82 models , we leave the angular coordinate @xmath84 unchanged , while the radial coordinate of a node with expected degree @xmath3 is given by @xmath98 where the radius of the hyperbolic disk containing all nodes is @xmath99}.\\ ] ]      we now fit the real as graph to the model . specifically , given the measured as graph , we aim to find the set of coordinates @xmath85 , @xmath100 , that best match the newtonian@xmath83 model in a statistical sense .",
    "to do so , we use maximum likelihood estimation ( mle ) techniques .",
    "let us compute the posterior probability , or likelihood , that a network given by its adjacency matrix @xmath33 is generated by the newtonian@xmath83 model , @xmath101 .",
    "this probability is @xmath102 where function @xmath103 within the integral is the joint probability that the model generates the adjacency matrix @xmath33 , and the set of hidden variables @xmath85 . using bayes rule",
    ", we find the likelihood that the hidden variables take particular values @xmath85 in the network given by its observed adjacency matrix @xmath33 @xmath104 @xmath105 where @xmath106 is the prior probability of the hidden variables given by the model , @xmath107^{1-a_{ij}}\\ ] ] is the likelihood of finding @xmath33 if the hidden variables are @xmath108 , and @xmath109 @xmath110 the mle values of the hidden variables @xmath111 are then those that maximize the likelihood in eq .",
    "( [ likelihood ] ) or , equivalently , its logarithm , @xmath112 @xmath113 } , \\label{likelihoodfinal}\\ ] ] where @xmath114 is independent of @xmath115 and @xmath116 .",
    "the derivative of eq .",
    "( [ likelihoodfinal ] ) with respect to expected degree @xmath117 of node @xmath118 is @xmath119 @xmath120 the first term within the parenthesis is the expected degree of node @xmath118 , while the second term is its actual degree @xmath121 .",
    "therefore , the value @xmath122 that maximizes the likelihood is given by @xmath123 since @xmath122 can be smaller than @xmath81 in the last equation , we set @xmath124 we discuss a correction of this equation accounting for finite size effects is section  [ finte - size ] .",
    "having found the mle values for expected degrees @xmath3 , we now have to maximize eq .",
    "( [ likelihood ] ) with respect to angular coordinates @xmath84 .",
    "this task is equivalent to maximizing the partial log - likelihood @xmath125 @xmath126}. \\label{loglike}\\ ] ] the first term in this equation involves only pairs of connected nodes , whereas the second term accounts for pairs of disconnected ones . since the connection probability @xmath5 is a monotonously decreasing function of the effective distance @xmath6 , the first term in eq .",
    "( [ loglike ] ) is large if pairs of connected nodes are placed close to each other . in contrast , the second term is large if pairs of disconnected nodes are far apart .",
    "therefore the optimal mle solution will balance both effects , and place connected nodes as close as possible while keeping disconnected ones as far as possible .",
    "unfortunately , the maximization of eq .",
    "( [ loglike ] ) with respect to the angular coordinates can not be performed analytically .",
    "we thus have to rely on approximations . at their core lie mle algorithms , or kernels , which we discuss first .",
    "we present two such kernels , standard metropolis - hastings  ( smh )  @xcite , and our `` localized '' version of it  ( lmh ) .      in the * standard metropolis - hastings  ( smh ) * algorithm ,",
    "a node is chosen at random , and given a new angular position chosen uniformly in the interval @xmath127 $ ] .",
    "the change is accepted whenever the likelihood in eq .",
    "( [ loglike ] ) computed after the change , @xmath128  ) by @xmath129 .",
    "] , is larger than the likelihood computed with the old coordinate , @xmath130 .",
    "otherwise , the change is accepted with probability @xmath131 .",
    "the smh algorithm samples the angular phase space , and produces angular configurations with a probability proportional to the likelihood .",
    "the smh s computational complexity depends on a particular system to which smh is applied .",
    "we find that in our case the number of node moves sufficient for smh to converge is @xmath132 , meaning that the total running time complexity is @xmath133 , since each move attempt involves the @xmath134 computation of the likelihood change .",
    "our * localized metropolis - hastings  ( lmh ) * algorithm is not mh _ per se_. in fact it bears stronger resemblances to extremal optimization and genetic search algorithms than to mh .",
    "we first define the local contribution @xmath135 of node @xmath24 to the total log - likelihood @xmath136 in eq .",
    "( [ loglike ] ) : @xmath137},\\ ] ] so that @xmath138 .",
    "we can interpret function @xmath135 as the fitness of node @xmath24 , which we can then use to maximize the total likelihood . specifically , in lmh nodes are visited in rounds , and during each round all nodes are visited one by one . at each node visit",
    ", the node is moved to the angular position that maximizes its fitness @xmath135 , having fixed the positions of all other nodes at that particular node visit .",
    "an example of the log - likelihood landscape that a node sees during its move is shown in the top plot of fig .",
    "[ modelembedding ] .",
    "the total number of rounds of all - node visits needed for lmh to converge is of the order of the network average degree . indeed , even though after each node move , the fitness of other nodes changes , the node fitness is mostly affected by changes of coordinates of the node neighbors , whose average number thus roughly determines the number of rounds .",
    "the maximization of the fitness of a node takes @xmath139 time , having fitness @xmath135 sampled at intervals with @xmath140 .",
    "therefore for sparse graphs , the overall computational complexity of lmh is @xmath141 .",
    "applied to the real internet and synthetic internet - like networks below , both smh and lmh yield similar good results .",
    "however , we prefer lmh since by its localized nature , it can be implemented in a distributed manner , an important property for deployment in the real internet . even more importantly , with lmh",
    ", new - coming ass can compute their coordinates in a distributed manner _ without knowing the global internet topology_. indeed , to compute its coordinates using eq .",
    "( [ loglike - local ] ) , a new - coming as @xmath24 has to know the status of connections only to its neighbors ; the status of connections between any two ass other than @xmath24 does not contribute to @xmath135 in eq .",
    "( [ loglike - local ] ) .",
    "all results shown in this paper are for lmh .",
    "( eq .  ( [ loglike - local ] ) ) , having the coordinates of all other nodes fixed at an intermediate step of the mapping process .",
    "bottom : inferred angular coordinates vs.  real ones for the 250 most connected nodes in a synthetic @xmath83 network with the same properties as the real internet : @xmath142 , @xmath143 , @xmath144 , @xmath145 . the lmh kernel and alg .",
    "[ heuristic1 ] are used for coordinate inference.,width=336 ]      if we navly applied any mle kernel to the internet , we would have to wait forever for good results .",
    "we see in the top plot of fig .",
    "[ modelembedding ] that the characteristic likelihood profile has abundant local maxima .",
    "therefore an mle kernel is not guaranteed to converge to the global maximum in a reasonable amount of time .",
    "it is thus imperative to find a heuristic procedure , i.e. , an mle wrapper , helping an mle kernel to find its way towards the global maximum without being trapped in local maxima .",
    "this procedure is equivalent to using all available information to make an educated guess of the initial node coordinates .",
    "our mle wrapping strategy is based on statistical independence of edges in our graphs .",
    "thanks to this independence , the coordinates of a set of nodes can be inferred based only on the partial information contained in a subgraph formed by the nodes in the set , ignoring the rest of the network .",
    "consider a small subgraph of the whole network , for our purposes made of high degree nodes , and remove all nodes and connections not belonging to this subgraph .",
    "since edges in this subgraph are statistically independent of other edges , we can maximize the likelihood corresponding to the subgraph , and infer the coordinates of the nodes in it based only on this partial information . if the subgraph is small and dense enough , finding the optimal mle solution is easy .",
    "once this solution is found , we can add more nodes to the network , and use the previously inferred coordinates as the initial configuration for the new mle problem .",
    "however , this method works only if the subgraph forms a single connected component .",
    "this property holds for synthetic networks in our model , and for the real internet  @xcite .",
    "formally , let @xmath146 , with @xmath147 , be a set of predefined degrees , and let @xmath148 , @xmath149 , be the subgraphs formed by all nodes of degrees larger or equal to @xmath121 , plus all connections among them .",
    "we thus have @xmath150 , forming a hierarchy of nested subgraphs . the main idea behind",
    "our mle wrapper is to run the mle kernel , either smh or lmh , in iterations , starting with the smallest subgraph , and feeding the coordinates inferred at each iteration to the mle kernel at the next iteration .",
    "this idea must be implemented with care .",
    "first , subgraph @xmath151 is different from other subgraphs .",
    "indeed , in scale - free networks , all nodes of degrees larger than @xmath152 are connected almost surely .",
    "therefore all such nodes would appear identical to the mle kernel , which would thus place them all at the same location , something that we have to avoid . to solve this problem",
    ", we remove all connections among nodes of degree larger or equal to @xmath153 and start the wrapper algorithm with the @xmath154 iteration .",
    "second , iterating from @xmath148 to @xmath155 , we still need to specify the initial coordinates of the nodes that belong to @xmath155 but not to @xmath156 but not in @xmath157 , we check if they have at least two connections to nodes in @xmath157 .",
    "otherwise we postpone introducing such nodes to the first iteration when they start satisfying this condition . ] . while the assignment of random coordinates to new nodes is possible , it is much more efficient to try to maximize the likelihood in @xmath155 from the very beginning . in other words ,",
    "we assign to each new node @xmath158 the coordinate maximizing @xmath159}=\\ ] ] @xmath160}.\\ ] ] we note that node @xmath24 uses information contained only in @xmath161 to get its initial coordinate .",
    "after all new nodes corresponding to a given iteration are introduced and assigned initial coordinates , we apply the mle kernel to the resulting system .",
    "this heuristic mle wrapping procedure is summarized in alg .",
    "[ heuristic1 ] .",
    "activate nodes in @xmath162 assign random angular coordinates to nodes in @xmath162 remove links among nodes in @xmath162 @xmath163 label of new node in @xmath148 not active activate new node @xmath24 assign to node @xmath24 coordinate @xmath116 maximizing @xmath164}$ ] run the mle kernel on the set of active nodes    [ heuristic1 ]     for nodes of degrees @xmath165 .",
    "all other plots show the results of adding layers of lower degree nodes using the second mle wrapper with @xmath166 . according to alg .",
    "[ heuristic2 ] , nodes in newly added layers infer their coordinates using the coordinates of nodes in existing layers , without running the mle kernel , and the coordinates of existing nodes do not change as new nodes are added.,width=336 ]    in the bottom plot in fig .",
    "[ modelembedding ] we show the test results for this procedure wrapping the lmh kernel , applied to a synthetic newtonian@xmath83 network generated with the parameters similar to the real as graph .",
    "we observe that the inferred coordinates are very close to the real ones , except for a global phase shift , which can take any value in @xmath127 $ ] due to the rotational symmetry of the model .      as mentioned above",
    ", it is not necessary to consider the full graph to infer the coordinates of the most connected nodes .",
    "we now use this observation to speed up the mapping process significantly .",
    "specifically , we run our first mle wrapper up to a subgraph of a certain size , and then add the rest of the nodes assigning to them their coordinates maximizing eq .",
    "( [ likelihood_local ] ) _ without _ subsequent running the mle kernel , see alg .",
    "[ heuristic2 ] .",
    "this modification speeds the overall mapping process because once the coordinates of the coordinates of a relative small number of high degree nodes are inferred , the rest of the process takes @xmath132 steps to complete .",
    "this improvement reduces the total running time of the internet mapping to few hours on a standard computer .",
    "another practically important feature of this second mle wrapper is that new - coming ass compute their coordinates _ without existing ass changing their coordinates . _ in other words , once the as coordinates are inferred , they stay static as the internet grows .",
    "activate nodes in @xmath162 assign random angular coordinates to nodes in @xmath162 remove links among nodes in @xmath162 @xmath167 maximum layer with full mle calculations @xmath163 label of new node in @xmath148 not active activate new node @xmath24 assign to node @xmath24 coordinate @xmath116 maximizing @xmath164}$ ] run the mle kernel on the set of active nodes    [ heuristic2 ]        we apply this procedure up to nodes of degree @xmath45 .",
    "nodes of degree @xmath44 and @xmath34 must be analyzed separately since all nodes of degree @xmath34 , and @xmath168 of nodes of degree @xmath44 do not form any triangles . as a consequence",
    ", the mle kernel can not reliably infer their metric attributes , i.e. , their coordinates .",
    "therefore we assign to these nodes the angular coordinate of their ( highest - degree ) neighbors , which makes sense , especially for nodes of degree @xmath34 , since the only path to such nodes is via their neighbors .",
    "forwarding to such nodes is thus equivalent to forwarding to their neighbors .",
    "the test results of this second mle wrapper are shown in fig .",
    "[ modelembedding2 ] .",
    "the top left plot shows the inferred vs.  real coordinates in the same synthetic network for nodes with degrees @xmath169 using the first mle wrapper .",
    "the other plots show the corresponding coordinates for nodes with degrees larger than or equal to @xmath170 using the second mle wrapper with @xmath166 .",
    "that is , the mle kernel is not run for these nodes .",
    "we observe that the inference quality does deteriorate for smaller degrees , but it is remarkable that even in the worst case a majority of coordinates are correctly inferred .    as an additional test , we show in fig .",
    "[ modelembedding3 ] the empirical connection probability among nodes in each subgraph using the coordinates inferred by the second mle wrapper , compared to the connection probability @xmath171 used to generate the network .",
    "we observe a good agreement for high degree subgraphs , which slightly deteriorates for low degree nodes located at large effective distances @xmath6 .    to map the as graph",
    ", we used the lmh kernel wrapped with the second mle wrapper with @xmath166 and the subgraph hierarchy defined by @xmath172 , @xmath173 , @xmath174 , @xmath175 , @xmath176 , @xmath177 , @xmath178 , @xmath179 , @xmath180 , @xmath181 , @xmath182 , @xmath183 , @xmath184 , @xmath185 , @xmath186 , @xmath187 , @xmath188 , @xmath189 , @xmath190 , @xmath191 , @xmath192 , @xmath193 .",
    "our model has three parameters : the exponent @xmath43 of the degree distribution , the average degree @xmath38 , and the exponent @xmath194 of the connection probability .",
    "we estimate the exponent @xmath43 via the direct inspection of the degree distribution , yielding @xmath142 .",
    "the estimation of @xmath62 and @xmath38 is more involved for two reasons .",
    "first , the newtonian@xmath83 model generates nodes of zero degree which are included in the computation of the average degree , @xmath195 . however , in the real internet graph all nodes have non - zero degrees .",
    "therefore we first have to estimate the number of nodes @xmath62 in the model , based on the number of nodes @xmath196 we observe in the real graph .",
    "the relationship between the two numbers is @xmath197 where @xmath198 is the probability that a node has zero degree in the model .",
    "the second complication is due to finite size effects .",
    "these effects are particularly important when the exponent @xmath43 is close to @xmath44 , which is the case with the internet .",
    "suppose we generate a finite size network of @xmath62 nodes with our newtonian@xmath83 model with parameters @xmath43 , @xmath38 , and @xmath194 .",
    "since the network is finite , there is a cut - off value for the expected degree of a node , @xmath199 , which depends on the size of the network .",
    "the first moment of the distribution of expected degrees @xmath200 with this cut - off is @xmath201^{\\gamma-2 } \\right ) \\equiv \\bar{k } \\alpha(\\kappa_0,\\kappa_c).\\ ] ] in the thermodynamic limit @xmath202 and @xmath203 . however , if @xmath43 is close to @xmath44 , the approach to these limits is slow , and we have to take care of finite size corrections .",
    "accounting for these corrections , the expected degree of a node with hidden variable @xmath3 becomes @xmath204 with @xmath205 .",
    "this equation implies that the mle of the hidden variable @xmath3 of a node of degree @xmath66 changes from eq .",
    "( [ kappa * ] ) to @xmath206\\right)},\\ ] ] while the average degree including zero degree nodes in a finite size network becomes @xmath207 ^ 2 \\bar{k}.\\ ] ] if the average degree observed in the real internet graph is @xmath208 , our estimate of the parameter @xmath38 is then @xmath209 ^ 2 } \\bar{k}_{obs}. \\label{bark}\\ ] ] therefore , in order to estimate the values of @xmath62 and @xmath38 for a finite network , we first have to estimate the values of @xmath198 and @xmath210 .",
    "one can check  @xcite that @xmath211^{\\gamma-1 } \\gamma(1-\\gamma,\\alpha(\\kappa_0,\\kappa_c ) \\kappa_0 ) , \\label{pzero}\\ ] ] where @xmath212 is the incomplete gamma function .",
    "we can also relate the maximum degree @xmath213 observed in the real internet to the expected degree cut - off @xmath199 via @xmath214    we thus have six unknown values ",
    "namely , @xmath62 , @xmath198 , @xmath81 , @xmath199 , @xmath210 , and @xmath38and the system of six equations  ( [ eq : kappa0_fixed],[nfinite],[eq : alpha(k , k)],[bark],[pzero],[kmax ] ) involving them . substituting into these equations the given values of @xmath215 , @xmath216 , @xmath217 , and @xmath142 observed in the internet , we compute numerically @xmath218 , @xmath219 , @xmath220 , and @xmath221 , yielding @xmath222 and @xmath223 .       for the internet graph mapping.,width=336 ]    to estimate @xmath194 , we first compare clustering in synthetic networks with different @xmath194 s to the clustering observed in the internet , keeping all other parameters fixed .",
    "this procedure narrows down the possible values of @xmath194 to @xmath224 $ ] .",
    "we then generate internet maps for different values of @xmath194 within this range , and perform hyperbolic greedy forwarding in them .",
    "[ modelembedding6 ] shows the success ratio of greedy forwarding as a function of @xmath194 in this region .",
    "we observe that the success ratio increases as @xmath194 decreases , and then sharply drops at @xmath225 .",
    "the value of @xmath194 maximizing the success ratio is @xmath226 , and we used this value in our final internet map .",
    "we use the as internet topology of june 2009 extracted from the data collected by the archipelago active measurement infrastructure ( ark ) developed by caida  @xcite .",
    "the as topology contains @xmath227 ass and @xmath228 as links , yielding the average as degree @xmath229 .",
    "the maximum as degree is @xmath230 .",
    "the average clustering measured over ass of degree larger than @xmath34 is @xmath231 , yielding temperature @xmath48 , and hyperbolic disc radius @xmath47 .",
    "the exponent of the power - law as degree distribution is @xmath142 .",
    "this internet topology , along with the hyperbolic internet map , are released with this paper  @xcite .",
    "the as - to - country mapping is taken from the caida as ranking project  @xcite .",
    "it uses two methods for this task .",
    "the first method is _ ip - based_. it splits the ip address space advertised by an as into small blocks , and then maps each block to a country using  @xcite . if not all ip blocks of an as map to the same country , then the other , _ whois - based _ method is used , which reports the country where the as headquarters are located according to the whois database  @xcite .",
    "since large ass have points of presence in many countries , they tend to map to multiple countries using the ip - based method . therefore ,",
    "if we did not apply the whois - based method to them , they would no longer map to a single country .",
    "if we ignored such ass , the angular distributions of the remaining ass belonging to a given country would be even more localised , including the us , eu , and uk ass . in our hyperbolic map data , we release the as - to - country associations using both methods , ip+whois - based and ip - based .",
    "the latter has no country information for many ass with conflicting country mappings .",
    "to perform standard geographic routing we first map each as to a collection of geographic locations ( characterised by their latitudes and longitudes ) using the ip - based method , and then find the centre of mass for each collection .",
    "we thus obtain unique geographic coordinates for each as .",
    "we then perform standard greedy forwarding over the as topology , computing geographic distances between ass using the spherical law of cosines . for hyperbolised geographic routing",
    ", we keep the as angular coordinates equal to their geographic coordinates , but also , based on the as degree , we assign to each as a radial coordinate , according to the relationship between node degrees and radial positions in the three - dimensional einsteinian model , and then perform greedy forwarding in this three - dimensional hyperbolic space .",
    "bottom : normalized betweenness divided by number of routers in the as , with source and destination ass chosen with a probability proportional to the number of routers in them.,width=336 ]    in this section we measure a proxy for the amount of traffic that ass would have to handle under greedy forwarding .    in view of our finding",
    "that greedy forwarding follows almost always the shortest paths , we expect that the traffic load on an as under greedy forwarding is essentially the same as under shortest path forwarding .",
    "we confirm this expectation in fig .",
    "[ modelembedding9 ] where we juxtapose the normalized betweennesses corresponding to shortest path and greedy forwarding . to compute normalized betweenness , we select a large number of source / destination as pairs chosen uniformly at random among all ass .",
    "we then find two paths for each as pair using shortest path and greedy forwarding .",
    "normalized betweenness of a given as is then the fraction of all paths going through this as .",
    "we observe in fig .",
    "[ modelembedding9 ] that the normalized betweennesses for shortest path and greedy forwarding are almost identical as expected .",
    "we also observe in the top plot , that in agreement with the previous studies on this subject , e.g.  @xcite , the normalized betweenness grows as a power law of the as degree .",
    "this observation may create an impression that high - degree ass may suffer from traffic congestion problems . however , this impression is wrong not only because of the results in  @xcite , but also because of the following considerations .    in the real internet ,",
    "ass are not singular nodes but differently sized networks composed of ( many ) routers .",
    "the size of an as , measured by the number of routers in it , is roughly proportional to the as degree  @xcite .",
    "ass of different size generate and consume different volumes of traffic .",
    "also , a larger as can handle larger transit traffic volumes without being congested .",
    "these two observations suggest the following modifications to the top plot in fig .",
    "[ modelembedding9 ] .",
    "first , we model traffic with the more realistic assumption that the amount of traffic an as generates or consumes is proportional to the as size . that is , instead of choosing source and destination as pairs at random , we chose each as with a probability proportional to the number of routers in the as using the data from  @xcite .",
    "second , we divide the normalized betweenness value for each as by the number of routers in the as , thus estimating the per - router traffic load .",
    "the result shown in the bottom plot of fig .",
    "[ modelembedding9 ] demonstrates that the important large ass are , in fact , less prone to congestion problems .",
    "in this section we show that if the existing ass keep their hyperbolic coordinates fixed , while the ass joining the internet anew over years compute their coordinates in a localizing manner , i.e. , using the lmh kernel  ( [ loglike - local ] ) , then the performance of greedy forwarding does not significantly degrade , even at long time scales .    to demonstrate this we perform the following experiment .",
    "we replay the as internet growth from january 2007 to june 2009 similar to  @xcite . specifically , we obtain @xmath232 lists of ass observed in the internet at different dates as described in  @xcite",
    ". the as lists are linearly spaced in time with the interval of three months : time @xmath233 corresponds to january 2007 , @xmath234 is april 2007 , and so on until @xmath235 , june 2009 .",
    "we denote the obtained as lists by @xmath236 .",
    "the number of ass in @xmath237 is @xmath238 , while the numbers of new ass in @xmath239 with @xmath240 , but not in @xmath237 are @xmath241 , @xmath242 , @xmath243 , @xmath244 , @xmath245 , @xmath246 , @xmath247 , @xmath248 , @xmath249 , and @xmath250 .",
    "we then take our archipelago as topology  @xcite of june 2009 , and for each @xmath251 we remove from it all ass and their adjacent links that are not in @xmath236 , thus obtaining a time series of historical as topologies @xmath252 .",
    "we then embed @xmath253 using the smh kernel  ( [ loglike ] ) , but for each subsequent embedding of @xmath254 with @xmath255 , we keep the hyperbolic coordinates of ass in @xmath256 with @xmath257 fixed , and compute coordinates for the new ass using the lmh kernel  ( [ loglike - local ] )",
    ". that is , once an as appears at some time @xmath258 and gets its coordinates computed , using either the smh , @xmath233 , or lmh , @xmath259 , computations , the as then never changes its coordinates for the rest of the observation period . in fig .",
    "[ fig : topo_evol ] we show the average success ratio @xmath260 and stretch @xmath58 for greedy forwarding in @xmath252 .",
    "remarkably , we observe only minor variations of success ratio and stretch over more than @xmath261 years of rapid internet growth . the success ratio does decrease , but by less than @xmath262 .",
    "we thus conclude that greedy forwarding using our hyperbolic as map is quite robust with respect to internet historical growth .",
    "existing ass do not have to recompute their hyperbolic coordinates when new ass join the internet .",
    "recomputations of all as coordinates may be executed to improve the greedy forwarding performance , but the time scale for such recomputations exceeds the time scale of internet historical evolution , i.e. , years , thus exceeding by orders of magnitude the time scale of transient dynamics of failing as links and nodes , i.e. , seconds or minutes .",
    "that is why the existing as coordinates are essentially static , and can stay the same for years .     and stretch @xmath58 for greedy forwarding in the as internet growing from january 2007 ( @xmath233 ) to june 2009 ( @xmath235 ) with linear time steps ( @xmath263 ) of three months , e.g.",
    ", @xmath234 corresponds to april 2007.[fig : topo_evol],width=336 ]",
    "it is widely known that the existing measurements of the internet topology miss a number of as links  @xcite . however , in view of the robustness of greedy forwarding performance with respect to link removals , one could expect that its performance would be robust with respect to missing links as well . furthermore ,",
    "if our hyperbolic map is used in practice , then greedy forwarding will see and use those links that we do not see .",
    "therefore one can intuitively expect that , in this case , the efficiency of greedy forwarding will be actually higher than we report in this paper , simply because these links that we miss but greedy forwarding would not miss , would provide additional shortcuts between potentially remote ass .",
    "if so , the routing results presented in this paper should be considered as lower bounds .    to confirm this intuition ,",
    "we perform the following experiment .",
    "it is known that the majority of missing links in the internet are peer - to - peer links among provider ass of moderate size  @xcite . to emulate the missing link issue ,",
    "we thus remove a fraction ( ranging from @xmath264 to @xmath54 ) of links among nodes with degree above a certain threshold ( @xmath265 ) from our as graph .",
    "we then map these graphs with different numbers of emulated missing links to @xmath82 as described in section  [ sec : as - embedding ] to find hyperbolic coordinates for each as . using these maps with missing information ,",
    "we then consider two different greedy forwarding scenarios for each map :    1 .   in the first scenario ,",
    "we navigate an as graph mapped with a fraction of links removed , and compute the success ratio of greedy forwarding in the graph .",
    "this scenario tries to mimic the missing links issue directly .",
    "we have incomplete topology measurements of the real internet , but we have no other option as to use these measurements to map the internet to its hyperbolic space , and study navigability with this map , which we know miss some information .",
    "2 .   in the second scenario ,",
    "we use the hyperbolic map obtained with missing links , but we then add back those removed links , and navigate the complete graph .",
    "this scenario is motivated by the observation that even though our map is constructed with some links missing , these missing links will still be used by ass attached to them to forward information if this map is used in practice .",
    "the results of these two scenarios are shown in fig .",
    "[ modelembedding10 ] .",
    "as intuitively expected , our mapping is quite robust with respect to missing links : the success ratio decreases by less than @xmath266 even if up to @xmath53 of links are removed from the topology before we map it .",
    "also as expected , the missing links , when added back , increase the success ratio .",
    "that is , even though the map has been constructed using partial information , navigability improves when missing links are considered .",
    "these results confirm that the routing results reported in this paper are in reality lower bounds for the success ratio that can be achieved if our map is used in practice .",
    "in fact , one may somewhat paradoxically expect that the more links are missed in the measured internet topology we used for mapping , the better the success ratio would be in practice , since according to fig .",
    "[ modelembedding10 ] , the success ratio improvement due to re - adding of removed links tends to increase with the number of removed links .",
    "for the two scenarios described in the text .",
    "note that @xmath54 of missing links in this subgraph corresponds to @xmath53 of the total number of links in the network .",
    ", width=336 ]",
    "our approach belongs to a wide class of approaches proposing to reduce routing granularity to the level of autonomous systems  @xcite .",
    "the key difference between ours and the existing approaches in this class is that the latter require some form of routing on the dynamic as graph .",
    "as soon as the as topology changes , new as routes must be recomputed , so that routing communication overhead is unavoidable in this case . in our case",
    "such recomputations are not needed since as we have shown , the efficiency of greedy forwarding sustains in presence of failing as nodes and links , even though ass do not exchange any information about topology modifications , and do not change their hyperbolic coordinates , i.e. , even though they do not incur any communication overhead . a bulk of routing overhead in the internet today",
    "is due to traffic engineering and multihoming in the first place  @xcite .",
    "how the as - level routing class of approaches helps to deal with and reduce this overhead is discussed in the literature cited above .",
    "we thank m.  newman and m.  ngeles serrano for many useful suggestions and discussions , m.  ngeles serrano for suggesting the analogy with gravitation , a.  aranovich for help with fig .",
    "[ fig:0 ] , and y.  hyun , b.  huffaker , and a.  dhamdhere for help with the data .",
    "m.  b.  acknowledges support from dges grant no",
    ".  fis2007 - 66485-c02 - 02 , generalitat de catalunya grant no .  2009sgr838 , and nsf cns-0964236 .",
    "d.  k.  acknowledges support from nsf cns-0722070 and cns-0964236 , dhs n66001 - 08-c-2029 , and cisco systems ."
  ],
  "abstract_text": [
    "<S> the internet infrastructure is severely stressed . rapidly growing overheads associated with the primary function of the internet  routing information packets between any two computers in the world  cause concerns among internet experts that the existing internet routing architecture may not sustain even another decade . here </S>",
    "<S> we present a method to map the internet to a hyperbolic space . </S>",
    "<S> guided with the constructed map , which we release with this paper , internet routing exhibits scaling properties close to theoretically best possible , thus resolving serious scaling limitations that the internet faces today . </S>",
    "<S> besides this immediate practical viability , our network mapping method can provide a different perspective on the community structure in complex networks . </S>"
  ]
}