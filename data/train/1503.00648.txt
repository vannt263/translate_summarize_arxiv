{
  "article_text": [
    "the growth in the number of `` smart '' mobile devices and connection speeds has led to a high volume of mobile data traffic .",
    "cellular networks are currently overloaded and , despite a lot of planned improvements on the physical layer technologies , they are not expected to be able to keep up with the rapidly increasing user data demand  @xcite . radically reducing the communication distance by deploying , and _ offloading _ traffic to ,",
    "many `` small cells '' ( e.g. femto , pico , or even wifi ) is seen as the only viable solution  @xcite .",
    "nevertheless , this requires a large investment in upgrading the backhaul network , increasingly based on wireless links , which will often be the new performance bottleneck  @xcite . caching popular content at the `` edge '' ,",
    "i.e. on storage devices installed at small cell base stations could alleviate backhaul congestion  @xcite , and is supported by a number of real data studies suggesting a high amount of demand overlap between user requests  @xcite .    reducing the communication distance",
    "is taken yet a step further with the newly proposed paradigm of device - to - device ( d2d ) communication  @xcite .",
    "a device can store a ( popular ) content after consuming it , and give it directly to other neighboring devices also interested in it , offloading these requests from the main network .",
    "the connection between the two devices could be in - band ( cellular frequencies ) or out of band ( e.g. bluetooth , wifi direct ) . while d2d - based offloading normally assumes a content request",
    "will either be served _ immediately _ from a device currently in range or the cellular network , some recent works have suggested the use of _ opportunistic offloading _ through d2d : a device requesting some content might wait for some amount of time until it _ encounters _ another device sharing the content  @xcite , and go back to the main network if not found before some set deadline .    hence , more data could be offloaded from the main network through such d2d communication , perhaps at the expense of increased delay for some requests .",
    "such increased delays could sometimes be acceptable ( e.g. asynchronous requests , longer start - up or buffering delays easily amortized when considering large content ) . yet , in many cases , the operator will need to provide appropriate incentives to these users , either in the form of instantaneous price reductions  @xcite or low(er ) priced plans .",
    "what is more , operators will probably need to also provide incentives to the devices storing the content and acting as local _",
    "relays _ on their behalf , as this raises important battery consumption , storage , as well as privacy and security issues .",
    "the provision of these incentives constitutes another important form of cost for the operator , together with the costs of directly serving the content from the main ( mostly macro - cell based ) network , and that of installing , maintaining , and supporting with ample backhaul capacity , new small cells with large enough caches .",
    "it thus becomes increasingly important for an operator of such a future heterogeneous network ( hetnet ) with caching and d2d capabilities to be able to answer questions like : _ `` how much content can be offloaded by a given setup as a function of content demand patterns ? '' _ , _ `` is it worth investing in additional cell densification , or would it be more cost - efficient to provide incentives for d2d opportunistic offloading?''_.    to this end , in this paper we propose an analytical model that can be used to study the problem of `` offloading on the edge '' in a hetnet .",
    "although capturing all the fine details of possible setups and technologies would be a rather daunting task , we assume two main mechanisms being employed in the considered network , namely ( i ) caching on small cells and mobile devices , collectively referred to as `` edge nodes '' , and ( ii ) offloading requests through local , short range communications ( e.g. d2d or low power communication to local femto or pico base stations ) .",
    "we describe the `` offloading on the edge '' mechanism and propose a generic model that allows us to analytically study it ( section  [ sec : system - model ] ) .",
    "we proceed by deriving useful results for the performance of content delivery through this mechanism and the incurred costs , as a function of key system parameters ( section  [ sec : analysis - single - content ] ) .",
    "then , we study the total offloading cost and provide insights for content placement and dissemination strategies that minimize this cost ( section  [ sec : single - cost - optimization ] ) . finally , we validate our results through realistic simulations ( section  [ sec : single - validation ] ) and discuss related work ( section  [ sec : related ] ) . summarizing ,",
    "the main contributions of our work are :    * to our best knowledge , this is the first work jointly and analytically studying offloading through small cells , opportunistic d2d , and caching at both . *",
    "we provide closed - form analytical approximations applicable to a number of performance metrics and network setups .",
    "* we provide initial insights into the various design tradeoffs involved , as well as the efficient allocation of storage space among different contents .",
    "we consider a heterogeneous cellular network ( hetnet )  @xcite , composed of 3 sets of nodes :    _ macro - cell base stations _ ( @xmath0 ) : they provide full coverage to subscribed mobile nodes ( mns ) , but we assume their radio resources are congested .    _ small cells _ ( @xmath1 ) : these are shorter range , low power base stations ( e.g. femto and pico - cells , or even wifi access points ) dispersed in the area of coverage . they provide ample capacity to the few mns within range , and their communication cost to / from a mn is smaller  @xcite .",
    "hence , they can be used to offload some traffic from bss .",
    "however , the backhaul connection for these cells will often be wireless ( either to a bs or to an aggregation point ) and underprovisioned  @xcite .",
    "this makes a backhaul transmission to a small cell costly . to this end",
    ", each small cell is equipped with some storage capacity , as in  @xcite , where ( popular ) content could be cached to avoid duplicate backhaul accesses .",
    "_ mobile nodes _",
    "( @xmath2 ) : these include smartphones , tablets , netbooks , etc",
    ". mns can communicate with bss , scs ( if in range ) , and even other mns directly , if d2d communication is allowed .",
    "d2d communication potentially offers higher rates at lower interference levels  @xcite .",
    "yet , appropriate incentives from the operator might be needed . without loss of generality , we assume out - of - band communication ( e.g. wifi direct or bluetooth ) for d2d .",
    "we also assume that each mn also has some storage capacity ( normally less than that of a small cell ) for caching ( popular ) content .",
    "the number of nodes in each set is @xmath3 where @xmath4 denotes the cardinality of a set .      *",
    "_ content requests . _",
    "* we assume that each mn is interested in different contents over time ( e.g. videos , web pages , software updates , etc . ) , and that the same content may be of interest to multiple mns .",
    "this interest overlap is supported by recent studies ( e.g.  @xcite , to name a few ) , where the popularity distribution of contents is shown to be highly skewed . in the remainder , we will be assuming that the number of nodes interested in a content , the content popularity , is known in advance or can be estimated . for a number of applications , like _ push services _",
    "@xcite , this information can be known in advance by the cellular network .",
    "users are subscribed to a push service they are interested in ( e.g. news , series episodes , trending videos , etc . ) , and when a content ( of this service ) is created or published , the content provider starts distributing ( _ pushing _ ) it to them .",
    "similarly , users might subscribe to certain categories of contents , such as personalized internet radio stations like pandora and jango .",
    "the content of these pseudo - random streams of songs can be decided in advance , and thus the popularity of songs belonging to different streams can be estimated . * _ content delivery .",
    "_ * an operator can deliver a content to an interested mns in one of the following ways : ( i ) _ direct transmission _ from a bs ; ( ii ) _ offloading through scs and/or mns _ , where the operator transmits the content to some scs over the backhaul and stores it there , or instructs some mns to store a content for some time ( e.g. keeping in their cache a content they consumed ) .",
    "then , the operator can ask an interested mn within range of a sc or mn caching that content to retrieve it directly .    moreover",
    ", an operator can ask an mn interested in a content @xmath5 , but not _ currently _ within range of an sc or mn with content @xmath5 in its cache , to wait for an amount of time , let @xmath6 , until it _ moves _ within range of such an sc or mn .",
    "if this time expires , then the operator is obliged to deliver the content directly through the closest macro bs .",
    "while this _ delay - tolerant _ approach is in contrast to the usual ones considered for small cell and d2d based offloading  @xcite , it is likely that the small cell and ( d2d enabled ) mobile node density will not always be enough to offload enough traffic .",
    "hence , it is a valuable ( and complementary ) alternative , with potential benefits ( increased offloading ) and costs ( reduced qoe and potential monetary incentives ) .",
    "the goal of an offloading mechanism is to minimize the cost of delivering a set of contents over time to different nodes .",
    "hence , we need first to define a model for the costs involved in each phase of the `` offloading on the edge '' mechanism . + * _ @xmath7 initial placement costs : @xmath8 , @xmath9 . _ * + the content provider , at time @xmath10 , places the content to some edge nodes ( scs and/or mns ) . a content is placed to a sc through a backhaul ( wired or wireless ) transmission , and we denote this per placement cost as @xmath8 .",
    "a ( possible ) content placement to some mns takes place through a macro - cell bs transmission .",
    "we denote this transmission cost , which mainly depends on the load / congestion of the bss , as @xmath9 .    * _ @xmath7 opportunistic offloading costs : @xmath11 , @xmath12 . _ * + during time @xmath13 $ ] , the holders ( which are either scs or mns ) deliver the content to any requester they meet .",
    "we consider different costs for a sc - mn and a mn - mn ( or d2d ) transmission : @xmath11 and @xmath12 .",
    "the former cost depends on the operating cost ( transmission , energy consumption ) of an sc , whereas the latter might exist if a compensation ( or reward ) is given by operator to mns for each content they offload .    *",
    "_ @xmath7 delayed delivery cost : @xmath14 . _",
    "* + at time @xmath6 , the cellular network sends through macro - cell bss the content to every non - served requester .",
    "this cost relates both to the load of bs ( as @xmath9 ) and to a ( possible ) compensation to the mns for a delayed delivery .",
    "we denote this ( per transmission ) cost as @xmath15 .",
    "let us assume a content item ( e.g. a popular video file ) and a set of mns interested in it .",
    "the content provider , at time @xmath10 , places the content to the caches of some scs and/or mns .",
    "if by an expiry time @xmath6 ( if any ) , some of the interested mns have not met any edge node ( sc or mn ) with the content , they are served by a macro - cell bs , and macro - cell bss deliver it only at its expiry time , @xmath16 .",
    "although one could place contents during time @xmath17 as well , it has been shown ( for similar settings ) that placing contents at times @xmath17 leads to a sub - optimal performance  @xcite . ] .",
    "for the ease of reference , we define the following sets of `` edge nodes '' that are involved in the offloading process :    a",
    "_ requester _ of a content is a mobile node ( mn ) that ( a ) is interested in the content and ( b ) has not received it yet .",
    "we denote the set of requesters at time @xmath18 as @xmath19 .    a _ holder _ of a content is an edge node ( sc or mn ) that stores the content and will forward it to its requesters .",
    "we denote the set of holders at time @xmath18 as @xmath20 .",
    "we further denote the number of requesters and holders as : @xmath21 where @xmath22 and @xmath23    to model the level of participation of mns in the offloading mechanism , we make the following assumption .    [",
    "ass : cooperation ] a requester acts as a holder for a content it has received with probability @xmath24 $ ] .",
    "the probability @xmath25 is equal among all nodes and contents .",
    "the probability @xmath25 captures either the chance a node to forward the content ( e.g. it has enough resources at the time ) or the percentage of nodes who are `` contracted '' to help .",
    "finally , since edge nodes can exchange data only when they come within transmission range , the offloading is heavily affected by these _ meeting events _ between nodes .",
    "we assume the following class of node mobility .",
    "[ ass : heterogeneous - mobility ]   + @xmath7 the meeting events between two nodes @xmath26 , @xmath27 and @xmath28 , are given by a poisson process with rate @xmath29 .",
    "+ @xmath7 the meeting rates @xmath29 are drawn from an ( arbitrary ) probability distribution @xmath30 with mean value @xmath31 .",
    "+ @xmath7 meeting duration is negligible compared to the time intervals between nodes , but long enough for a content exchange .",
    "assumption  [ ass : heterogeneous - mobility ] is a tradeoff between realism ( heterogeneous @xmath29 ) and tractability ( poisson process ) .",
    "heterogeneous meeting rates are motivated by analysis of real mobility traces  @xcite , where not all people meet each other with the same frequency , and by the different communication ranges ( sc - mn and mn - mn ) .",
    "similar assumptions are common in related works  @xcite and have been shown to not be far from real mobility  @xcite . yet , in section  [ sec : single - validation ] , we test our results against realistic scenarios where node mobility departs from our assumptions and involves much more complexity .",
    "an operator , in order to optimize the offloading performance and cost , has to weigh its options and take decisions about : _ how to deliver _ each content ( directly or through offloading ) , _ how many copies _ of a content should be placed to different edge nodes , _ which contents to store _ in the sc and/or mn caches when their capacity is limited , etc .",
    "to this end , in this section , we provide the analytical results that are needed when trying to answer these questions . specifically , we provide simple , closed form expressions for the performance of the `` offloading on the edge '' mechanism ( section  [ sec : single - generic ] ) , and the costs it incurs ( section  [ sec : analysis - cost ] ) .",
    "the performance of the `` offloading on the edge '' mechanism depends on how much traffic it can offload and/or how fast are contents delivered . to answer these questions , we calculate the two main ( and most common ) performance metrics , namely the _ content delivery probability _ , and _ content delivery delay_.    first , we state the following lemma , in which we use a mean field approximation and a resulting system of odes to approximate the number of holders and requesters over time .",
    "[ thm : odes ] the fluid - limit deterministic approximation for the expected number of holders ( @xmath32 ) and requesters ( @xmath33 ) at time @xmath18 , is @xmath34 where @xmath35 and @xmath36 .    having assumed poisson meeting processes , we can model the dissemination of a content with a continuous markov chain , whose states correspond to the different sets of holders and requesters @xmath37 .",
    "[ fig : markov - chain ] shows a segment of this markov chain ; we present the different states with equal number of holders ( @xmath38 ) and requesters ( @xmath39 ) under the same group , which can be described by the tuples @xmath40 . to transition between states a _ content delivery _ , which takes place when a holder @xmath41 and a requester @xmath42 meet ,",
    "is needed : ( i ) _ content delivery to cooperative node . _",
    "the next state is @xmath43 and the transition rate @xmath44 ( ii ) _ content delivery to non - cooperative node . _",
    "the next state is @xmath45 and the transition rate @xmath46        statistics for the content dissemination process over time ( e.g. distribution of @xmath47 or @xmath48 ) , can be computed using the transition matrix of the markov chain of fig .",
    "[ fig : markov - chain ] .",
    "however , this would render the problem analytically ( and numerically , for large networks ) intractable . to this end , we approach the problem with a mean field approximation of stochastic reaction models  @xcite .",
    "we first form the _ drift equation _",
    "* theorem  1.4.1 ) for the expected number of holders , @xmath49\\equiv e\\left[h(t)\\right]$ ] , as : @xmath50}{dt } & = e\\left[\\lambda_{(m , n)\\rightarrow(m+1,n-1)}\\right ] = p_{c}\\cdot e\\left[\\sum_{i\\in\\mathcal{h}}\\sum_{j\\in\\mathcal{r}}\\lambda_{ij}\\right]\\end{aligned}\\ ] ] the expectation in the right side of the drift equation is difficult to compute , as it requires the computation of the probabilities over the whole state space @xmath37 . to this end",
    ", one can approximate @xmath51 $ ] with its deterministic equivalent @xmath52 .",
    "this approximation comes after neglecting the variability of @xmath32 around its mean value and becomes more accurate for larger systems  ( * ? ? ?",
    "* section  1.5 ) . based on the deterministic approximation and since ( a ) the rates @xmath29 are drawn independently from a distribution @xmath30 with mean value @xmath31 ( @xmath53=\\mu_{\\lambda}$ ] ) , and ( b ) the sum @xmath54 consists of @xmath55 terms , we can write @xmath56 \\approx h(t)\\cdot r(t)\\cdot \\mu_{\\lambda}\\ ] ] the higher the number of terms in the above sum , and the less the heterogeneity of the meeting rates ( i.e. the variance of @xmath30 ) , the more accurate the approximation in eq .   is .    substituting eq .   in the drift equation ( where @xmath57 ) , gives the ordinary differential equation ( ode ) for @xmath52 and @xmath52 : ( a ) @xmath32 is integer , whereas @xmath52 is a real number ; ( b ) the drift equation for @xmath32 contains expectations , while the respective ode for @xmath52 does not . ]",
    "@xmath58    proceeding similarly , the ode for the deterministic approximation of the number of requesters ( @xmath59 ) , is @xmath60    finally , solving the system of the odes of eq .",
    "and eq .  , gives the expressions of lemma  [ thm : odes ] .",
    "based on lemma  [ thm : odes ] we , now , proceed to the calculation of the performance metrics .",
    "let us consider a requester @xmath61 , and denote as @xmath62 the time it receives the content .",
    "the probability this ( random ) requester to receive the content by a time @xmath18 , i.e. @xmath63 , is equal to the _ percentage of offloaded contents _ by time @xmath18 .",
    "hence , we can write @xmath64 substituting the expression of lemma  [ thm : odes ] in eq .  , gives the following result for the content delivery probability    [ result : delivery - probability - single ] the probability a content to be delivered to a requester by time @xmath18 is given by @xmath65 where @xmath35 and @xmath36 .",
    "with respect to the average delay a requester experiences till it receives the content , we state the following result ( the proof is technical and can be found in appendix  [ appendix : proof - delay ] ) .",
    "we derive expressions for two cases : ( a ) the content does not expire ( i.e. @xmath66 ) , and ( b ) a macro - cell bs serves undelivered contents at time @xmath16 . .",
    "[ result : expected - delay - single ] the expected content delivery delay , under an expiry time @xmath67 , is given by + @xmath7 for @xmath68 :    e[t_d|ttl ] & = &    @xmath7 for @xmath69 :    e[t_d|ttl ] & = &    where @xmath35 and @xmath36 .",
    "incorporating the offloading costs ( section  [ sec : cost - model ] ) in our content dissemination model , and using the analytical results of section  [ sec : single - generic ] , we calculate the cost of a single content delivery in result  [ thm : lemma - single - cost ] .",
    "the expression we derive , gives the cost as a ( simple ) function of the system parameters ( e.g. @xmath70 , @xmath31 ) and the operator selected parameters ( e.g. @xmath71 , @xmath72 ) , providing , thus , the necessary information for the evaluation and tuning of the `` offloading on the edge '' mechanism .",
    "[ thm : lemma - single - cost ] the cost of `` offloading on the edge '' a content is given by @xmath73 where @xmath74 , and @xmath75 , @xmath76 and @xmath77 are given in lemma  [ thm : odes ] and result  [ result : delivery - probability - single ] .",
    "+ @xmath7 _ initial placement .",
    "_ the first two terms correspond to the initial placement phase : the cellular network operator , at time @xmath78 , places the content to @xmath71 scs and @xmath72 mns ; in total ( @xmath79 ) holders .",
    "the costs per content placement are @xmath8 and @xmath9 , respectively .",
    "+ @xmath7 _ opportunistic offloading .",
    "_ during the opportunistic offloading phase , i.e. @xmath17 , the average number of requesters that receive the content by an edge node is @xmath80 .",
    "if we denote with @xmath81 the percentage of requesters that receive the content by a sc , it is easy to see that the costs due to sc - mn and mn - mn content deliveries are @xmath82 respectively .",
    "to calculate the percentage @xmath81 we proceed as following :    at first , the total number of requesters that receive the content by time @xmath6 is @xmath83    second , the total number of requesters that receive the content in the interval @xmath84 $ ] , @xmath17 is @xmath85 the probability that a content delivery that takes place in the interval in the interval @xmath84 $ ] is due to a sc is equal to @xmath86\\ ] ] where @xmath71 is the number of sc holders ( which does not change over time ) , and @xmath32 the total number of holders at time @xmath18 .",
    "therefore , the number of requesters that receive the content by an sc holder in the interval @xmath84 $ ] is given by @xmath87 , and the total number of requesters that receive the content by an sc holder by time @xmath6 is @xmath88 using the expression of lemma  [ thm : odes ] for @xmath33 to calculate the above integral , we get @xmath89 where the last equality follows from the expression for @xmath32 given in lemma  [ thm : odes ] .",
    "now , @xmath81 easily follows from eq .   and eq .   @xmath90    @xmath7 _ delayed delivery .",
    "_ finally , the average number of requesters that do not receive the content before its expiry time , is given by @xmath91 .",
    "since , the cost of each content transmission at time @xmath16 is @xmath15 , the total cost of delayed delivery phase ( last line of the expression in lemma  [ thm : lemma - single - cost ] ) follows easily .",
    "in a real scenario , the network operator would have to offload simultaneusly many different contents . using the results of the previous section , the average performance or the total cost over all the contents can be calculated easily , by evaluating them for each content separately and then averaging or summing them , respectively .",
    "however , since some of the system parameters are controlled by the operator ( e.g. @xmath92 ) , they can be selected such that they lead to optimal performance . to this end , in this section , as an application of our analytical results , we study how offloading and caching can be designed in order to minimize the total cost .",
    "let us assume that the content provider has to deliver @xmath93 contents to their requesters .",
    "we denote the set of the contents as @xmath94 ( @xmath95 ) .",
    "since in a real scenario , not all contents are expected to be equally popular  @xcite , nor tolerate equal delays , we denote the popularity ( i.e. the number of initial requesters ) and the expiry time of each content @xmath96 as @xmath97 and @xmath98 , respectively .    under a given setting ( i.e. with certain mobility , cooperation , traffic , etc .",
    ", characteristics ) , what the cellular network can select , is the initial placement ( _ caching _ ) for each content @xmath96 ; namely , the number of sc and mn initial holders , @xmath99 and @xmath100 , respectively ( note that @xmath101 ) .",
    "therefore , if we denote as @xmath102 is the delivery cost of a content @xmath96 ( which is given by result  [ thm : lemma - single - cost ] ) , we can express the _ total _ cost optimization problem as    [ eq : optimization - problem - multi ]   + @xmath103 @xmath104 where @xmath105 and @xmath106 denote the vectors with components @xmath99 and @xmath100 ( @xmath96 ) , respectively , and @xmath107 is the caching capacity ( in number of contents ) of a sc node . ]",
    "@xmath108 .",
    "the costs @xmath102 in the objective function of problem  [ eq : optimization - problem - multi ] can be expressed as a function of the optimization variables ( result  [ thm : lemma - single - cost ] ) . as a result , well known numerical methods can be employed to solve problem  [ eq : optimization - problem - multi ] . in the following numerical example , we calculate the optimal content placement by solving problem  [ eq : optimization - problem - multi ] , apply the `` offloading on the edge '' mechanism , and demonstrate how it can reduce the total content delivery cost .    *",
    "_ numerical example : _ * we assume a network with @xmath109 scs , each of them having a storage capacity of @xmath110 contents .",
    "edge nodes meet each other with an average meeting rate @xmath111 meetings / sec ( equal to this of the real mobility trace  @xcite ) .",
    "the cellular network has to deliver @xmath112 contents of equal size and expiry time @xmath6 .",
    "content popularity is given by a bounded pareto distribution in the interval @xmath113 $ ] with shape parameter @xmath114  @xcite or @xmath115 .",
    "the ( normalized ) costs are @xmath116    fig .",
    "[ fig : numerical - example - cost - generic ] shows how the total content delivery cost decreases when the cellular network offloads contents on the edge nodes .",
    "specifically , we present the _ relative cost decrease _ , _ rcd _ , @xmath117 , where @xmath118 and @xmath119 denote the total cost of delivering the contents without and with offloading , respectively .",
    "high values of the _ rcd _ correspond to cases where the cost of `` offloading on the edge '' @xmath119 is small ( compared to the cost without offloading @xmath118 ) , whereas low values of the _ rcd _ indicate that the gain due to offloading is not significant .    in fig .",
    "[ fig : numerical - example - cost - generic - vs - ttl ] we present how _ rcd _ changes for different values of delay tolerance , @xmath6 , when the percentage of mns contributing to offloading is @xmath120 ( @xmath121 ) . in fig .",
    "[ fig : numerical - example - cost - generic - vs - pc ] we present the change of _ rcd _ for different mn cooperation levels ( @xmath25 ) and for a delay tolerance equal to @xmath122 .",
    "the two curves , in both figures , correspond to scenarios where content popularity is pareto distributed with exponent @xmath123 and @xmath124 .",
    "some important observations are the following : ( i ) higher values @xmath25 or @xmath6 lead to lower total offloading costs , i.e. the more willing an mn is to offload contents or to tolerate delays , the more effective the `` offloading on the edge '' becomes . in particular , for the presented scenarios , the content delivery cost can decrease up to @xmath125 for large @xmath6 values ( fig .",
    "[ fig : numerical - example - cost - generic - vs - ttl ] ) , while for large @xmath25 values the offloading cost can be @xmath126 less than the cost without offloading ( fig .",
    "[ fig : numerical - example - cost - generic - vs - pc ] ) .",
    "( ii ) the cost gains are larger for smaller pareto exponents @xmath127 .",
    "this is due to the fact that ( a ) for the more skewed distributions , i.e. @xmath115 , there exist more unpopular contents than in the case of @xmath123 , and ( b ) `` offloading on the edge '' ( and , in general , offloading mechanisms ) is more efficient when distributing popular contents .      under certain scenarios , analytical solutions for problem  [ eq : optimization - problem - multi ] can be found as well . in the remainder",
    ", we focus on two characteristic cases , which are analytically solvable , and provide useful insights for the system .",
    "[ [ section ] ]    we first consider the case where contents are offloaded only through scs ( i.e. when @xmath69 and @xmath128 , or equivalently , @xmath129 ) .",
    "this is the most common and feasible scenario considered in previous literature , since mns are not required to share their contents , and thus incentive mechanisms are easier to implement . in this case and for , as in the opposite case",
    ", offloading would cost more than directly delivering from the macro - cell bss . ]",
    "@xmath130 it can be proved that problem  [ eq : optimization - problem - multi ] is convex and we compute the analytical solution in result  [ thm : optimal - h0-no - coop - multiple ] . for notation simplicity",
    ", we consider equal expiry times @xmath131 , and cache sizes @xmath132 .",
    "however , result  [ thm : optimal - h0-no - coop - multiple ] can be easily modified for different with @xmath133 for each content .",
    "the expressions for @xmath99 remain the same , and only the expressions of @xmath134 and @xmath135 need to be modified . ]",
    "@xmath98 and @xmath107 values .",
    "[ thm : optimal - h0-no - coop - multiple ] under a base scenario ( @xmath69 , @xmath136 ) , the initial allocation @xmath105 that minimizes the total cost , is given by @xmath137 with @xmath138 , @xmath139 , @xmath140 , @xmath141 , and @xmath142    applying the method of lagrange multipliers  @xcite to problem  [ eq : optimization - problem - multi ] , gives ( for brevity we use the notation @xmath143 and @xmath144 ) : @xmath145 where @xmath146 and @xmath147 are the langrangian multipliers .",
    "using the expression of result  [ result : delivery - probability - single ] for the delivery probability , the offloading cost ( result  [ thm : lemma - single - cost ] ) of a content @xmath5 , in a base scenario , can be written as @xmath148    substituting @xmath102 from eq .   to eq .  , the differentiation over @xmath149 gives @xmath150\\ ] ]    the conditions for the lagrangian multipliers , i.e. @xmath151 imply that @xmath149 either    * is given by eq .   and",
    "@xmath152 , or * is equal to @xmath153 and @xmath154 , or * is equal to @xmath155 and @xmath156    from condition ( a ) , we calculate the limits of the interval within which the optimal @xmath149 is given by eq .  .",
    "to find the lower limit , @xmath134 , we set @xmath149 ( eq .   with @xmath152 )",
    "equal to @xmath155 and for the upper limit , @xmath135 , equal to @xmath153 , which give    [ eqs : l - u ] @xmath157    combining eq .   and eqs .  , we can express the optimal placement as @xmath158    the only unknown parameter in eq .",
    "is @xmath159 ( since we expressed @xmath134 and @xmath135 as functions of @xmath159 ) .",
    "lemma  [ thm : monotonicity ] , which we state and prove in appendix  [ appendix : lemma - monotonicity ] , suggests that the total cost , @xmath160 , is monotonically increasing with @xmath159 .",
    "therefore , the optimal placement policy corresponds to the smaller _ non - negative _ value of @xmath159 that satisfies the storage constraint , @xmath161 , and this proves the result .    in general",
    ", the value of the parameter @xmath159 can be found ( within some precision ) with e.g. a binary search .",
    "nevertheless , for a large number of contents , and given their popularity distribution , its value can be directly calculated using the corollary  [ thm : corollary ] , which follows after substituting the expression of result  [ thm : optimal - h0-no - coop - multiple ] and the popularity density function in the storage constraint @xmath162 .",
    "[ thm : corollary ] under a content popularity distribution @xmath163 , the parameter @xmath159 in result  [ thm : optimal - h0-no - coop - multiple ] is given by @xmath164 , where @xmath165 is the ( minimum ) solution of @xmath166    result  [ thm : optimal - h0-no - coop - multiple ] reveals how resources should be allocated : ( i ) the optimal allocation is logarithmic in popularity , with either large or small caches .",
    "( ii ) when capacity is limited , an extra factor ( @xmath159 ) is introduced , so that the _ relative _ allocation remains logarithmic , but the absolute allocation is reduced ( normalized ) as the number of contents increase , or total capacity decreases .",
    "( iii ) some low popularity contents might get no allocation , either because it does not help the offloading cost , or because there is not enough capacity for them .    * _ practical example : _ * assume an urban area covered by @xmath167 macro - cell bss and @xmath168 scs .",
    "on average , in this area reside @xmath169 users users per cell ( http://mobilesociety.typepad.com/mobile_life/2009/06/base-station-numbers.html ) . in an urban environment",
    ", users density is expected to be higher . ] with an average meeting rate @xmath111 meetings / sec  @xcite .",
    "the cellular network has to deliver @xmath170 contents ( e.g. youtube video files of an average size @xmath171  @xcite ) with expiry time @xmath172 and popularity given by a bounded pareto distribution in the interval @xmath113 $ ] with shape parameter @xmath114  @xcite .",
    "the costs are @xmath173 and @xmath174 .    substituting the given values , and taking the expectation over the popularity distribution",
    ", it follows that the necessary buffer size of a sc , @xmath175}{n_{sc}}\\cdot m\\cdot l$ ] , is approximately @xmath176 per content .",
    "this means that , even under very high traffic demand , the caching capacity of the scs would be adequate such that the last constraint of problem  [ eq : optimization - problem - multi ] is not violated ; e.g. for @xmath177 ( i.e. each user requests @xmath178 videos per @xmath179 minutes ! ) , the needed capacity is @xmath180 ( which is a feasible and relatively cheap investment ) .",
    "[ [ section-1 ] ]    we now consider the case where offloading takes place only through mn - mn communication ( @xmath68 ) and _ without _ content storing on scs ( i.e. @xmath181 ) .",
    "a content is initially sent by the bss to @xmath72 ( out of @xmath182 ) of its requesters , which start disseminating it to the other requesters . however",
    ", not all nodes might be willing to participate by acting as holders , which in our framework means that each node ( including the initial nodes in which the content is placed ) cooperates with probability @xmath25 .",
    "therefore , we can write @xmath183 also , as defined in lemma  [ thm : odes ] , @xmath184    as in the previous case , we assume equal expiry times @xmath131 .    [ thm : optimal - h0-mn - mn ] under an _ opportunistic mn - mn scenario _",
    "( @xmath68 , @xmath136 ) , the initial allocation @xmath106 that minimizes the total cost , is given by @xmath185 where @xmath186 , and @xmath187 and @xmath138 .",
    "the cost for offloading a content @xmath5 under an opportunistic mn - mn scenario , where @xmath188 and @xmath189 , is ( see result  [ thm : lemma - single - cost ] ) @xmath190 similarly , for @xmath188 and @xmath191 , the delivery probability @xmath192 can be written as @xmath193 where @xmath138 .",
    "substituting eq .   in eq .  , and",
    "taking the derivative over the initial number of transmissions @xmath100 , gives @xmath194 from eq .",
    "it follows that @xmath195 where @xmath196 therefore , when @xmath197 $ ] , the minimum cost is achieved for @xmath198 .",
    "otherwise , for @xmath199 $ ] , and since it must hold that @xmath200 $ ] , the minimum cost is achieved for the largest or lowest possible values of @xmath100 .    result  [ thm : optimal - h0-mn - mn ] reveals how content storage should be delivered when offloading only through mns is considered .",
    "as it can be seen , the initial allocation is much different that in the offloading through scs case ( see result  [ thm : optimal - h0-no - coop - multiple ] ) , and this is mainly due to the fact that some of the requesters get the content at the beginning .",
    "to validate our analysis , we compare the theoretical predictions against monte carlo simulations ( section  [ sec : model - validation ] ) .",
    "then , we evaluate the cost efficiency of `` offloading on the edge '' in scenarios with realistic traffic demand patterns ( section  [ sec : simulation - cost - efficiency ] ) .",
    "we first compare the theoretical results against monte carlo simulations on various synthetic scenarios .",
    "synthetic simulations allow us to create a number of different scenarios with varying parameters .",
    "we generate synthetic networks , conforming to the model of section  [ sec : analysis - preliminaries ] , as following : + ( i ) we choose a probability distribution @xmath30 and for each pair @xmath26 we draw randomly a meeting rate @xmath29 .",
    "+ ( ii ) we create a sequence of contact events for every pair in the network with rate ( poisson processes with rates @xmath29 ) .",
    "+ ( iii ) we select the content traffic parameters ( @xmath70 , @xmath92 , @xmath25 , @xmath71 , @xmath72 , @xmath153 ) , and we simulate a large number of content disseminations , choosing randomly each time the set of requesters and the set of holders ( note , however , that the set of holders depends also on the parameters @xmath71 , @xmath72 and @xmath153 ) .",
    "we have created many scenarios with different combinations of mobility ( @xmath30 ) and traffic ( @xmath70 , @xmath92 , @xmath25 , @xmath71 , @xmath72 , @xmath153 ) characteristics .",
    "we present here a representative subset of them , which allow us demonstrate the accuracy of our predictions and their sensitivity when varying certain parameters . in the presented scenarios we create nodes mobility according to a gamma distribution @xmath30 with mean value @xmath201 ( i.e. normalized value ) and variance @xmath202 ( or , equivalently , coefficient of variation @xmath203 )  @xcite .",
    "gamma distributions allow us to capture different levels of mobility heterogeneity by varying the value of @xmath204",
    ".    * content dissemination .",
    "* in fig .",
    "[ fig : synthetic - h(t)-prob ] we compare simulation results ( average values over the different runs ) of expected number of holders ( @xmath32 ) / requesters ( @xmath33 ) and content delivery probability @xmath192 with the respective theoretical predictions ( lemma  [ thm : odes ] and result  [ result : delivery - probability - single ] , respectively ) .",
    "considering the same content traffic parameters , we simulated scenarios with moderate ( @xmath205 ) and high ( @xmath206 ) mobility variance , in order to show how mobility heterogeneity affects the accuracy of our predictions .",
    "it can be seen that our predictions become more accurate for lower mobility heterogeneity ( @xmath205 ) .",
    "this is due to the mean field approximation of the transitions rates we used in the analysis ( see section  [ sec : single - generic ] ) . for scenarios with even lower mobility heterogeneity (",
    "e.g. @xmath207 - not shown in the plots ) the accuracy is even better .",
    "additionally , we need to highlight that these results correspond to an initial allocation of only one holder ( @xmath208 ) , which is the _ worst case _ scenario ( i.e. lowest accuracy of the mean field approximation , and , thus our predictions ) among the ones with the given mobility and traffic ( other than @xmath92 ) characteristics . in the same scenarios , when considering a few more initial holders , e.g. @xmath209 , theoretical results achieve an almost exact prediction .",
    "similar observations can be made in fig .  [",
    "fig : synthetic - delay ] , where we compare the theoretically predicted delivery delays with the respective simulation results . the results in fig .",
    "[ fig : synthetic - delay ] are in accordance with the above observations , i.e. the predictions accuracy increases for ( a ) lower @xmath204 , and ( b ) higher number of initial holders @xmath92 .",
    "* offloading cost .",
    "* we finally present results that validate the cost optimization analysis of section  [ sec : single - cost - optimization ] .",
    "[ fig : cost - single - synthetic ] shows the incurred cost for the cellular network ( y - axis ) under different number of initial holders @xmath92 ( x - axis ) for various generic traffic scenarios .",
    "different cooperation policies ( top plots : @xmath210 , middle plots : @xmath211 , and bottom plots : @xmath69 ) and expiry times @xmath6 ( or , equivalently , @xmath138 ) are considered .",
    "it can be seen that our results accurately predict the content dissemination cost .",
    "some remarkable observations about the optimal initial allocation of holders that can be made in fig .",
    "[ fig : cost - single - synthetic ] ( as well as in other scenarios we investigated ) are the following : ( i ) in many cases , offloading on the edge can significantly reduce the cost of a content dissemination . for instance , in the scenario shown in fig .",
    "[ fig : cost - single - synthetic ] ( bottom plot - bottom curve / black color ) , even without node cooperation ( @xmath69 ) , offloading on the edge can reduce the cost @xmath178 times , compared to the corresponding scenario without offloading ( i.e. @xmath212 ) .",
    "( ii ) an optimal initial allocation requires only a small number of ( initial ) storage resources , which in most of the cases we present is equal or less than @xmath213 of the content requesters .",
    "( iii ) the higher the allowed delay ( i.e. expiry time @xmath6 or parameter @xmath214 ) is , the larger the gain the cellular network can have is .",
    "for example , consider the red line ( @xmath215 ) in the bottom plot . increasing @xmath216",
    "the value of @xmath6 ( black line - @xmath217 ) can reduce the cost ( e.g. for @xmath218 which is close to the optimal allocation ) almost @xmath219 times .",
    "( lemma  [ thm : lemma - single - cost ] ) under different number of initial holders ( @xmath92 , x - axis ) for a synthetic mobility scenario with @xmath220 , @xmath221 , and @xmath222 .",
    "dashed lines correspond to theoretical predictions and markers to simulation results .",
    "we denote @xmath138.,title=\"fig:\"][fig : cost - single - synth ]      results of synthetic simulations demonstrate a significant accuracy of our predictions and verify the arguments used in the derivation of our results . in this section ,",
    "we present results in more challenging scenarios , where node mobility characteristics depart from our model assumptions .",
    "specifically , we use the tvcm  @xcite and slaw  @xcite mobility models , which have been shown to capture well real mobility patterns , like power - law flights  @xcite , community structure  @xcite , etc .",
    "the generated scenarios we present are + _ * tvcm scenario * _ : mobile nodes move in a square area @xmath223 , which contains three areas of interest ( communities ) .",
    "nodes move mainly inside their community ( @xmath224 of the time ) and leave it for a few short periods . macro - cell bss provide full coverage of the whole area , while @xmath225 non - overlapping ( placed on a grid ) small - cell base stations ( scs ) , with a communication range of @xmath226 , provide further connectivity .",
    "mobile nodes are equipped with _ d2d _ communication interfaces , for which we assume a range of  @xmath227 .",
    "+ _ * slaw scenario * _ : a square area of edge length @xmath228 is simulated , where mobile nodes either move or remain static for a maximum time of @xmath229 ( the other mobility parameters are set as in the source code provided by  @xcite ) .",
    "macro - cell bss cover the whole area and coexist with @xmath230 non - overlapping small - cells .",
    "communication ranges are set as above .    in fig .",
    "[ fig : traces - prob ] we present the delivery probability @xmath192 , along with the theoretical prediction , for two content traffic scenarios in the tvcm ( fig .",
    "[ fig : traces - prob - tvcm ] ) and slaw ( fig .",
    "[ fig : traces - prob - slaw ] ) traces .",
    "contents with popularity @xmath231 are initially cached to @xmath232 edge nodes ( half of which are mns ) .",
    "the mns participation in offloading is set to @xmath211 . in the tvcm trace ( fig .",
    "[ fig : traces - prob - tvcm ] ) it can be seen that the accuracy of our results is significant , despite the community structure of the network ( which can not be captured explicitly by our mobility assumption  [ ass : heterogeneous - mobility ] ) . in the slaw scenario ( fig .",
    "[ fig : traces - prob - slaw ] ) , our results overestimate the delivery probability .",
    "however , note here that the number of holders in the slaw scenario is smaller , and , thus , our approximation is expected to be less accurate . for scenarios with more initial holders the accuracy of the predictions increase ( see e.g. fig .  [",
    "fig : cost - single - slaw ] , where the accuracy is higher for higher @xmath92 values ) .",
    "although in some points the theoretical performance metrics deviate considerably from simulations ( e.g. @xmath213 ) , the accuracy of the cost metrics ( lemma  [ thm : lemma - single - cost ] ) is less affected .",
    "[ fig : cost - single ] shows the incurred cost for delivering a content to @xmath233 requesters ( y - axis ) under different number of initial holders @xmath92 ( x - axis ) .",
    "different initial placement policies ( @xmath234 ) , levels of mns participation ( @xmath25 ) , and expiry times @xmath6 are considered . in the majority of scenarios our results accurately predict the offloading cost . yet , even in the case where the predictions are less accurate ( e.g. in fig .",
    "[ fig : cost - single - slaw ] for @xmath235 ) , they can still capture the actual optimal initial allocation regimes .",
    "after validating our analysis , we now investigate the cost efficiency of the `` offloading on the edge '' mechanism in a realistic traffic scenario .",
    "we present results that demonstrate the effect of different system factors , and provide useful conclusions for cellular network operators .",
    "the parameters of the scenario we consider are the following : + _ @xmath7 popularity : _ content popularity has been shown to follow a power - law distribution  @xcite .",
    "thus , we draw the popularity of each content from a bounded - pareto distribution ( @xmath236 $ ] ) with shape parameter @xmath114  @xcite . + _ @xmath7 traffic intensity : _ mobile operators do not release real mobile traffic data . to this end , and since traffic demand is directly related to the number of mobile users that reside in an area , we infer traffic patterns from an available dataset of the gowalla _ location - based social network_. the gowalla dataset  @xcite contains information ( logs of position and time ) of user checkins ( through their mobile devices ) in different venues . in the scenarios we present , we create different number of contents during a @xmath237 time interval .",
    "the number of contents @xmath170 is proportional to the number of mobile users that checked - in a certain area ( we selected the most popular venue ) at the same time .",
    "the maximum number of concurrent contents is  @xmath238 .",
    "+ _ @xmath7 delay tolerance : _ we set equal expiry times @xmath6 for each content , and we consider different sets of scenarios with low ( @xmath122 ) , moderate ( @xmath239 ) , and high ( @xmath239 ) delay tolerance . + _ @xmath7 costs : _ the relative costs are set @xmath240 , values selected based on some data presented in  @xcite . +",
    "_ @xmath7 node mobility : _ we use the tvcm mobility scenario presented in the previous section .",
    "[ [ section-2 ] ]    we first consider the case of offloading through scs .",
    "we simulate two sets of scenarios with small ( @xmath241 ) or large ( @xmath242 ) caches .",
    "we choose the optimal initial caching policy of result  [ thm : optimal - h0-no - coop - multiple ] .    in fig .",
    "[ fig : varying - traffic - demand ] we present the total offloading cost ( marked lines ) incurred for the cellular network operator over different times of the day .",
    "the gray area shows the intensity of mobile users that reside in the considered area .",
    "the dashed line denotes traffic demand over time , or equivalently , the cost when content delivery _ without _ offloading is considered .    some interesting observations that follow from fig .",
    "[ fig : varying - traffic - demand ] are : + ( i ) under the optimal caching policy , `` offloading on the edge '' can significantly reduce the cost of content delivery , up to an order of magnitude , or even more in some cases .",
    "+ ( ii ) the `` offloading on the edge '' cost changes over time much smoother than traffic demand . in particular , for large caches ( cross / red line ) , the offloading cost curve is almost flat , despite the large peaks in traffic demand . in cellular networks , such temporal variations of the traffic intensity is an important issue , since operators are required to over - provision the network capacity ( high capex costs )  @xcite . as we show",
    ", `` offloading on the edge '' can amortize these costs . even under higher transmission costs",
    "@xmath243 than these we assumed , although the operating cost ( opex ) increases , the cost curve remains smooth , reducing thus a need for over - provisioning .",
    "+ ( iii ) large caching capacity has as a result a smoother cost curve ( cross / red vs circle / blue curves ) .",
    "this is a positive message for operators , because to equip scs with large enough caches is both feasible and inexpensive , as discussed in the example scenario of section  [ sec : optimizing - total - cost ] .",
    "+ ( iv ) comparing fig .",
    "[ fig : varying - traffic - demand - g05 ] and fig .",
    "[ fig : varying - traffic - demand - g01 ] , we see that the tolerated delay has also a significant effect on the smoothness of the cost curve ( higher @xmath6 values lead to smaller variations ) .",
    "this implies that an alternative way of avoiding the over - provision cost ( capex ) , is to give incentives ( opex ) to users for accepting delayed content .",
    "such solutions have been previously considered , e.g.  @xcite , however , our framework allows an easy investigation of their effects ( due to the closed - form results ) and an analytic approach of pricing policies , etc .",
    "[ [ section-3 ] ]    now , we evaluate the performance of offloading through mns .",
    "we simulate scenarios with different levels of node cooperation @xmath25 .",
    "we choose the optimal initial content placement policy of result  [ thm : optimal - h0-mn - mn ] .    in fig .",
    "[ fig : varying - traffic - demand - mn - mn - cost - vs - time ] we present the total offloading cost ( marked lines ) incurred for the cellular network operator over different times of the day .",
    "we simulate three scenarios with low , moderate and high delay tolerance ( @xmath244 ) , and @xmath120 of user cooperation in offloading ( @xmath121 ) . similarly to the offloading through scs case ( see e.g. fig .  [",
    "fig : varying - traffic - demand ] ) , for higher @xmath6 values , the cost decreases and its variations are smoother .",
    "however , it can be seen that improvement between the scenarios with @xmath239 and @xmath245 is not significant .",
    "this has an important implication for the system : although increasing the delay tolerance is beneficial for the operator , after a point or gradually ( depending on the scenario ) , the effects of this improvement become negligible . bearing in mind that user satisfaction decreases with @xmath6 indicates that there is a tradeoff , which should be carefully assessed by the system designer or considered for further optimization .    in fig .",
    "[ fig : varying - traffic - demand - mn - mn - cost - vs - time ] we show how the total offloading cost over a day period ( normalized to the respective cost without offloading ) changes with @xmath25 .",
    "it is evident that varying user cooperation does not have the same effects for different scenarios , and that the minimum total cost is achieved at different values of @xmath25 .",
    "this introduces one extra dimension , which can be used for system optimization as well .",
    "such optimization options ( with respect to @xmath6 , @xmath25 , etc . ) could lead to interesting conclusions , we intend to consider them in future research .",
    "in this section we discuss some important issues related to assumptions made implicitly or explicitly throughout our analysis and how they can be extended or removed to make our framework more generic .",
    "the mobility model we use allows heterogeneous meeting rates @xmath29 ( assumption  [ ass : heterogeneous - mobility ] ) in order to account for various node mobility patterns and communication ranges .",
    "however , applying the approximation of eq .",
    "( proof of lemma  [ thm : odes ] ) . as discussed earlier",
    ", this approximation becomes more accurate when the heterogeneity of the meeting rates ( i.e. the variance of @xmath246 ) decreases .",
    "] , leads to considering only the mean value of the meeting rates @xmath31 in the analytical results .",
    "although the same expressions could have been derived ( easier ) by using a homogeneous model , i.e. @xmath247 , our main motivation for considering heterogeneous rates is the following : we can easily incorporate further heterogeneous social characteristics ( related to mobility patterns ) , like ( i ) social selfishness ( where each node cooperation is related to their social ties )  @xcite , or ( ii ) smart , mobility - aware content placement algorithms ( where `` better '' holders are selected )  @xcite .",
    "these characteristics could not have been taken into account under a homogeneous mobility assumption .",
    "in our model we considered constant costs ( for the different transmission types ) .",
    "however , in different scenarios , there might exist some correlation between transmission costs and other system parameters .",
    "some examples could be : ( i ) the delayed content delivery cost @xmath15 might be a function of @xmath6 ( e.g. increasing with @xmath6 ) ; ( ii ) if multicasting is used for initial content placement to mns , the transmission cost @xmath9 might not be _ linearly _ related to @xmath72 ( i.e. the cost of multicasting a content to @xmath72 nodes , might not be equal to @xmath72 times the cost of a unicast transmission ) ; ( iii ) the mn - mn transmission cost @xmath12 might be related to the cooperation probability @xmath25 , e.g. the willingness of nodes to participate in offloading ( which is captured by @xmath25 ) might be higher when the reward for each offloaded content ( which is captured by @xmath12 ) increases .",
    "our results predicting the content dissemination performance and cost ( section  [ sec : analysis - single - content ] ) hold also when adopting such more generic cost models .",
    "what changes is the cost optimization problem ( problem  [ eq : optimization - problem - multi ] ) , which might need to be reformulated .",
    "however , even under the above examples ( as well as a number of other cost models ) , problem  [ eq : optimization - problem - multi ] can be still expressed in a closed form expression and thus be solved with known ( analytic or numerical ) methods .",
    "summarizing , since till now there is no common technology or cost policies applied in offloading systems , we prefered to assume a simple cost model with constant costs .",
    "nevertheless , as discussed above , our results can be extended for other cases as well .      the assumptions for the content dissemination ( e.g. non - increasing number of requesters , only initial placement to scs , etc .",
    ") can be extended and , thus , more generic scenarios can be captured and analysed in a similar manner . in the remainder , we demonstrate how our model and analysis is extended to include two extra characteristics , namely ( i ) content discards and ( ii ) bulk arrivals / departures of requesters .",
    "first , we extend to cases where contents can be discarded by edge nodes before their expiry time ( @xmath6 ) .",
    "for example , a mn whose battery level decreases , might stop storing and forwarding contents in order to save energy .",
    "as a second example , when a mn s cache is full and a new content is received , the mn needs to drop either one of the stored contents or the one just received . on the other hand",
    ", the state of the scs caches will be probably known by the cellular network and , thus , such cases can be avoided or controlled . to be able to analyze such content discards with a markovian framework , we use the following model    [ ass : dropping ] a mn drops a cached content with rate @xmath252 . the content dropping process is poisson and @xmath253 is equal among all holders and all contents .    under the above assumption , the ode of eq .",
    "can be turned into @xmath254 where the last term corresponds to the content discards by the mn - holders .",
    "second , we assume that at times @xmath255 either a number of new mns get interested in a content ( i.e. new requesters enter the system ) or some of the existing requesters lose their interest in the content ( i.e. they leave the system ) . we denote the numbers of such arriving / departing requesters at times @xmath255 as @xmath256 , where a value @xmath257 can be positive ( denoting arrivals ) or negative ( denoting departures ) . as a result ,",
    "the ode for the number of requesters @xmath33 over time ( see eq .  ) is given now by @xmath258 where @xmath259 is the _ dirac delta function_.    finally , solving the system of the odes of eq .",
    "and eq .  , gives the solution for the deterministic approximations for @xmath32 and @xmath33 for a generic scenario with content discards and bulk arrivals / departures of requesters .",
    "in this section we discuss works that are closer to ours , rather than studies which do not consider caching and/or delay tolerant delivery , and which are mainly based on pure infrastructure architectures , e.g. with wifi access points  @xcite or small - cell base stations  @xcite , or on the d2d paradigm  @xcite .",
    "mobile data offloading through opportunistic communications and epidemic content dissemination is studied in  @xcite . in the setting of  @xcite",
    ", copies of a content are distributed through the infrastructure to a subset of mobile nodes , which then start propagating them epidemically .",
    "the performance of different content `` pushing '' techniques ( e.g. slow / fast start ) is investigated through simulations on a real vehicular mobility trace .",
    "analytical approaches for pushing techniques can be found in  @xcite , which study the optimal selection of the number of initial and final content pushes .",
    "@xcite models the content dissemination as a control system and proposes an adaptive algorithm , _ hype _ , which aims to minimize the load of the cellular network by using real time measurements . on the other hand ,  @xcite uses a fluid limit approximation and focuses on the cost optimization problem . finally ,  @xcite takes into account fairness among different contents / nodes , and derives schedulers that maximize the throughput , under given mobility and wireless channel conditions .",
    "these studies , in contrast to our framework , assume that _ every _ user is willing to offload contents , even if they are _ not of her interest_. difficulties in devising incentive mechanisms or limitations of device capabilities , might render such settings unrealistic .    to this end ,",
    "@xcite consider a limited number of ( designated ) holders .",
    "@xcite proposes centralized algorithms for selecting the best set of available holders , in order to minimize the traffic load served by the infrastructure . in a different approach",
    ",  @xcite focuses on the effects of _ popularity _ ( number of requesters ) and _ availability _ ( number of holders ) on the performance of content delivery .",
    "our paper extends these works , by introducing generic offloading costs and policies , and deriving insightful , closed - form results for the optimal  caching .",
    "finally ,  @xcite proposes caching in femto - cells and user devices , in a different setting than ours , where users communicate with several holders simultaneously .",
    "d2d communication is controlled by a macro - cell bs , which is aware of the status of caches , location of users , and channel state information between them .",
    "the objective of the paper is to decide which files should be stored and on which helper node , a problem that is shown to be _ np - hard_. this problem is formally presented , studied in more detail , and extended for coded contents in  @xcite .",
    "in this work we studied `` offloading on the edge '' , a mechanism that employs edge nodes ( scs and/or mns ) to opportunistically offload popular content .",
    "we built a model that can capture heterogeneous traffic demand , user cooperation and mobility characteristics , and describe generic caching and offloading policies .",
    "based on our model , we derived closed - form expressions for predicting the offloading performance .",
    "these allowed us to analytically study the cost optimization problem , and provide results that shed light on how caching policies should be designed .",
    "realistic simulations verified  the insights that stem from our analysis , and led to useful conclusions .",
    "our closed - form expressions reveal how and to what extent each system parameter affects performance and cost .",
    "thus , they could be easily applied to sensitivity analysis , network planning and dimensioning , or design of pricing strategies ; issues that have recently attracted a lot of attention from network operators , who seek novel solutions to alleviate the effects of the rapidly growing traffic demand .",
    "k.  shanmugam , n.  golrezaei , a.  dimakis , a.  molisch , and g.  caire , `` femtocaching : wireless content delivery through distributed caching helpers , '' _ ieee transactions on information theory _ , vol .",
    "59 , no .  12 , dec 2013 .                y.  li , m.  qian , d.  jin , p.  hui , z.  wang , and s.  chen , `` multiple mobile data offloading through disruption tolerant networks , '' _ ieee transactions on mobile computing _ , vol .  13 , no .  7 , pp .",
    "15791596 , 2014 .",
    "k.  suh , c.  diot , j.  kurose , l.  massoulie , c.  neumann , d.  towsley , and m.  varvello , `` push - to - peer video - on - demand system : design and evaluation , '' _ selected areas in communications , ieee journal on _ , vol .  25 , no .  9 , pp . 17061716 , december 2007 .",
    "t.  hossmann , g.  nomikos , t.  spyropoulos , and f.  legendre , `` collection and analysis of multi - dimensional network data for opportunistic networking research , '' _ comput .",
    "communications _ , vol .",
    "35 , no .  13 , 2012 .    p.  sermpezis and t.  spyropoulos , `` understanding the effects of social selfishness on the performance of heterogeneous opportunistic networks , '' _ computer communications , elsevier , volume 48 _ , 04 2014 .",
    "n.  golrezaei , a.  molisch , a.  dimakis , and g.  caire , `` femtocaching and device - to - device collaboration : a new architecture for wireless video distribution , '' _ ieee comm . magazine _ ,",
    "51 , no .  4 , april 2013 .",
    "since a requester gets the content at time @xmath16 from a bs , if it has not received it earlier , we can write for the expected delay @xmath262 = ttl\\cdot ( 1-p\\{t_{d}\\leq ttl\\ } ) \\\\+ \\int_{0}^{ttl}t\\cdot p\\{t_{d}\\in[t , t+dt)\\}\\\\               = ttl\\cdot ( 1-p\\{t_{d}\\leq ttl\\ } ) + \\int_{0}^{ttl}t\\cdot \\frac{dp\\{t_{d}\\leq t\\}}{dt } \\cdot dt\\end{gathered}\\ ] ] where the last equality follows from eq .  .    using the expression of result  [ result : delivery - probability - single ] , we first compute the derivative @xmath263 , and , then , the integral in eq .  , and we get @xmath264   =    ttl\\cdot ( 1-p\\{t_{d}\\leq ttl\\ } ) \\\\",
    "+ \\frac{1}{p_{c}\\cdot r_{0}}\\cdot   \\left(\\frac{ttl\\cdot h_{0}\\cdot ( p_{c}\\cdot r_{0}+h_{0})\\cdot e^{\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } { p_{c}\\cdot r_{0}+h_{0}\\cdot e^{\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } \\right )",
    "\\\\      + \\frac{1}{\\mu_{\\lambda}\\cdot p_{c}\\cdot r_{0}}\\cdot \\ln\\left(\\frac{p_{c}\\cdot r_{0}+h_{0}}{p_{c}\\cdot r_{0}+h_{0}\\cdot e^{\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } \\right)\\end{gathered}\\ ] ] substituting the value of @xmath192 from result  [ result : delivery - probability - single ] in the above equation , after some algebraic manipulations , we can successively get @xmath264   =    \\frac{ttl\\cdot ( p_{c}\\cdot r_{0}+h_{0})}{p_{c}\\cdot r_{0 } }       \\\\      + \\frac{1}{\\mu_{\\lambda}\\cdot p_{c}\\cdot r_{0}}\\cdot \\ln\\left(\\frac{p_{c}\\cdot r_{0}+h_{0}}{p_{c}\\cdot r_{0}+h_{0}\\cdot e^{\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } \\right)\\\\      = \\frac{1}{\\mu_{\\lambda}\\cdot p_{c}\\cdot r_{0}}\\cdot \\ln\\left(\\frac{(p_{c}\\cdot r_{0}+h_{0})\\cdot e^{\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } { p_{c}\\cdot r_{0}+h_{0}\\cdot e^{\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } \\right)\\\\          = \\frac{1}{\\mu_{\\lambda}\\cdot p_{c}\\cdot r_{0}}\\cdot \\ln\\left(1+\\frac{p_{c}\\cdot r_{0}- e^{-\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } { h_{0}+p_{c}\\cdot r_{0}\\cdot e^{-\\mu_{\\lambda}\\cdot(p_{c}\\cdot r_{0}+h_{0})\\cdot ttl } } \\right)\\end{gathered}\\ ] ] which is the expression of result  [ result : expected - delay - single ] for @xmath68 .",
    "the expression for @xmath69 follows after taking the limit ( @xmath265 ) of the above expression .",
    "[ thm : monotonicity ] under a content placement policy given by eq .",
    ", the derivative of the total cost , @xmath160 , with respect to @xmath159 is @xmath266 = \\frac{1}{\\gamma}\\cdot\\left(1-\\frac{1}{1+\\frac{\\lambda_{0}}{\\phi_{1}}}\\right)\\cdot |a|    \\geq 0\\ ] ] where @xmath267 .",
    "the cost of a single content dissemination , eq .  , under the content placement policy of eq .",
    ", can be written as @xmath271 \\\\      & + \\phi_{2}\\cdot r_{0}^{\\theta}\\\\      & + ( \\phi_{3}-\\phi_{2})\\cdot r_{0}^{\\theta}\\cdot\\frac{1}{\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } } \\cdot \\left(1+\\frac{\\lambda_{0}-\\lambda_{\\theta}+\\mu_{\\theta}}{\\phi_{1 } } \\right ) \\\\ & = \\frac{\\phi_{1}}{\\gamma}\\cdot\\left[\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta}\\right)-\\ln\\left(1+\\frac{\\lambda_{0}-\\lambda_{\\theta}+\\mu_{\\theta}}{\\phi_{1 } } \\right ) \\right ] \\\\      & + \\phi_{2}\\cdot r_{0}^{\\theta}+\\frac{\\phi_{1}}{\\gamma}\\cdot \\left(1+\\frac{\\lambda_{0}-\\lambda_{\\theta}+\\mu_{\\theta}}{\\phi_{1 } } \\right){\\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ] taking its derivative , with respect to @xmath159 , gives @xmath272       & = -\\frac{\\phi_{1}}{\\gamma}\\cdot\\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{m}}\\ln\\left(1+\\frac{\\lambda_{0}-\\lambda_{\\theta}+\\mu_{\\theta}}{\\phi_{1 } } \\right ) \\right ] \\\\      & + \\frac{1}{\\gamma}\\cdot\\frac{d}{d\\lambda_{0 } } \\left[\\sum_{\\theta\\in\\mathcal{m}}\\left ( \\lambda_{0}-\\lambda_{\\theta}+\\mu_{\\theta}\\right ) \\right]{\\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ] because the terms including only the scenario parameters ( @xmath97 , @xmath214 , and costs ) do not depend on the selected resource allocation and , thus , on the parameter @xmath159 .",
    "regarding the first derivative term in eq .  , we proceed as following @xmath278 \\\\",
    "\\stackrel{\\text{{eqs.~\\eqref{eqs : langragian - parameters}}}}{= }       & \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{a}}\\ln\\left(1+\\frac{\\lambda_{0}}{c_{bh } } \\right ) \\right]\\\\       & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{b}}\\left(\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right)-\\gamma\\cdot n_{sc}\\right)\\right]\\\\      & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{c}}\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right ) \\right]\\\\ = & \\frac{d}{d\\lambda_{0}}\\left[|\\mathcal{a}|\\ln\\left(1+\\frac{\\lambda_{0}}{c_{bh}}\\right ) \\right]\\\\ & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{b}}\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right ) \\right]-\\gamma\\cdot n_{sc}\\cdot \\frac{d|\\mathcal{b}|}{d\\lambda_{0}}\\\\ & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{c}}\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right ) \\right]\\\\ = & |\\mathcal{a}|\\cdot \\frac{1}{c_{bh}}\\cdot \\frac{1}{1+\\frac{\\lambda_{0}}{c_{bh}}}+\\ln\\left(1+\\frac{\\lambda_{0}}{c_{bh}}\\right)\\cdot \\frac{d|\\mathcal{a}|}{d\\lambda_{0}}\\\\ & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{b}}\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right ) \\right]-\\gamma\\cdot n_{sc}\\cdot \\frac{d|\\mathcal{b}|}{d\\lambda_{0}}\\\\ & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{c}}\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right ) \\right ] { \\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ]      [ eqs : derivatives - for - sum-1 ] @xmath279 and , similarly , @xmath280 and @xmath281 \\\\      & = \\frac{\\sum_{\\theta\\in\\mathcal{b}^{'}}\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right)-\\sum_{\\theta\\in\\mathcal{b}}\\ln\\left(\\gamma\\cdot\\phi\\cdot r_{0}^{\\theta } \\right)}{d\\lambda_{0}}\\\\      & = \\frac{-\\int_{u}^{u+\\delta u}\\ln(\\gamma\\cdot\\phi\\cdot x)\\cdot m\\cdot \\rho(x)dx}{d\\lambda_{0}}\\\\      & \\approx -m\\cdot \\frac{\\ln(\\gamma\\cdot\\phi\\cdot u)\\cdot p(u)\\cdot \\delta u}{d\\lambda_{0}}\\\\      & \\stackrel{\\text{{eqs.~\\eqref{eqs : delta - l - u - definitions}}}}{= } - m\\cdot \\frac{e^{\\gamma\\cdot n_{sc}}}{\\gamma\\cdot   c_{bh}\\cdot\\phi}\\cdot \\ln(\\gamma\\cdot\\phi\\cdot u)\\cdot p(u)\\\\      & \\stackrel{\\text{{eqs.~\\eqref{eqs : l - u}}}}{= } - m\\cdot \\frac{e^{\\gamma\\cdot n_{sc}}}{\\gamma\\cdot   c_{bh}\\cdot\\phi}\\cdot p(u ) \\cdot \\left(\\gamma\\cdot n_{sc}+\\left(1+\\frac{\\lambda_{0}}{c_{bh}}\\right)\\right){\\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ] and , similarly , @xmath282 \\\\      & \\approx m\\cdot \\frac{1}{\\gamma\\cdot   c_{bh}\\cdot\\phi}\\cdot p(l)\\cdot \\ln\\left(1+\\frac{\\lambda_{0}}{c_{bh}}\\right){\\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ]      regarding the second derivative term in eq .  , we proceed as following @xmath284 \\\\",
    "\\stackrel{\\text{{eqs.~\\eqref{eqs : langragian - parameters}}}}{= }       & \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{a}}\\lambda_{0}\\right]+\\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{b}}(\\lambda_{0}+\\mu_{\\theta})\\right]+\\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{c}}(\\lambda_{0}-\\lambda_{\\theta})\\right]\\\\   =      & \\frac{d}{d\\lambda_{0}}\\left[\\lambda_{0}\\cdot |\\mathcal{a}|\\right]\\\\      & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{b}}\\left(-c_{bh}+\\gamma\\cdot c_{bh}\\cdot\\phi\\cdot e^{-\\gamma\\cdot n_{sc } } \\cdot r_{0}^{\\theta}\\right)\\right]\\\\      & + \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{c}}\\left(-c_{bh}+\\gamma\\cdot c_{bh}\\cdot\\phi\\cdot r_{0}^{\\theta}\\right)\\right]\\\\ =      & |\\mathcal{a}|+",
    "\\lambda_{0}\\cdot \\frac{d|\\mathcal{a}|}{d\\lambda_{0}}\\\\      & -c_{bh}\\cdot \\frac{d|\\mathcal{b}|}{d\\lambda_{0}}+\\gamma\\cdot c_{bh}\\cdot\\phi\\cdot e^{-\\gamma\\cdot n_{sc } } \\cdot \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{b}}r_{0}^{\\theta}\\right]\\\\      & -c_{bh}\\cdot \\frac{d|\\mathcal{c}|}{d\\lambda_{0}}+\\gamma\\cdot c_{bh}\\cdot\\phi\\cdot \\frac{d}{d\\lambda_{0}}\\left[\\sum_{\\theta\\in\\mathcal{c}}r_{0}^{\\theta}\\right]{\\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ] similarly as before , we get    [ eqs : derivatives - for - sum-2 ] @xmath285 and @xmath286 = \\frac{-\\int_{u}^{u+\\delta u}x\\cdot m\\cdot \\rho(x)dx}{d\\lambda_{0}}\\\\      & \\approx -m\\cdot \\frac{u\\cdot p(u)\\cdot \\delta u}{d\\lambda_{0}}\\\\      & \\stackrel{\\text{{eqs.~\\eqref{eqs : delta - l - u - definitions}}}}{= } -m\\cdot \\frac{\\delta l}{d\\lambda_{0}}\\cdot l\\cdot p(u)\\cdot e^{2\\cdot \\gamma\\cdot n_{sc}}\\\\      & \\stackrel{\\text{{eqs.~\\eqref{eqs : l - u}}}}{= } -m\\cdot \\frac{e^{\\gamma\\cdot n_{sc}}}{\\gamma\\cdot   c_{bh}\\cdot\\phi}\\cdot \\frac{1}{\\gamma\\cdot\\phi } \\cdot \\left(1+\\frac{\\lambda_{0}}{c_{bh}}\\right)p(u){\\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ] and , similarly , @xmath287 \\approx -m\\cdot \\frac{1}{\\gamma\\cdot   c_{bh}\\cdot\\phi}\\cdot \\frac{1}{\\gamma\\cdot\\phi } \\cdot \\left(1+\\frac{\\lambda_{0}}{c_{bh}}\\right)p(l){\\addtocounter{equation}{1}\\tag{\\theequation}}\\end{aligned}\\ ] ]"
  ],
  "abstract_text": [
    "<S> the rapid increase in data traffic demand has overloaded existing cellular networks . planned upgrades in the communication architecture ( e.g. lte ) , while helpful , are not expected to suffice to keep up with demand . as a result , extensive densification through small cells , caching content closer to or even at the device , and device - to - device ( d2d ) communications are seen as necessary components for future heterogeneous cellular networks to withstand the data crunch . </S>",
    "<S> nevertheless , these options imply new capex and opex costs , extensive backhaul support , contract plan incentives for d2d , and a number of interesting tradeoffs arise for the operator . in this paper </S>",
    "<S> , we propose an analytical model to explore how much local storage and communication through `` edge '' nodes could help offload traffic in various heterogeneous network ( hetnet ) setups and levels of user tolerance to delays . </S>",
    "<S> we then use this model to optimize the storage allocation and access mode of different contents as a tradeoff between user satisfaction and cost to the operator . </S>",
    "<S> finally , we validate our findings through realistic simulations and show that considerable amounts of traffic can be offloaded even under moderate densification levels . </S>"
  ]
}