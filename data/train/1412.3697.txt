{
  "article_text": [
    "the increasingly important role played by information technology and by the ubiquity and success of web - based retail shops is rapidly transforming our lives and buying patterns , and is producing a huge quantity of detailed data sets about customers preferences and habits .",
    "the availability of such data sets has made possible to study in a quantitative way how people select items in several different scenarions such as , for instance , how they choose movies to watch , books to read , or food to eat . in most of the cases ,",
    "the number of different items available on an online retail shop is so large that it is extremely difficult to have a clear idea of the specific products that would better fit the taste of each customer .",
    "hence the necessity to devise intelligent automatic systems to provide useful recommendations , based for instance on the knowlegde about previous purchases made by users . given its practical importance ,",
    "the study of recommendation systems is nowadays a very active research topic , with relevant contributions from different fields including computer science , economics , sociology , complex networks , and engineering  @xcite .",
    "the natural framework to represent selection or purchasing patterns is by means of a bipartite graph , namely a graph consisting of two distinct classes of nodes ( respectively associated to users and objects ) in which two nodes belonging to different classes are connected by an edge if the corresponding user has chosen or purchased that particular object . within this framework ,",
    "a recommendation is no more than the suggestion of ( a relatively small ) set of objects to which a specific user might be interested , and corresponds to a set of new potential edges in the bipartite graph . in many cases , an object",
    "is recommended to a user based on her similarity with other users , so that the definition of appropriate similarity measures is crucial for the development of efficient _ personalized recommendation systems_. various recommendation systems and algorithms have been proposed over the years , such as the collaborative filtering ( cf )  @xcite , methods based on diffusion across the user - object network  @xcite , and hybrid ( parametric ) combinations of different algorithms  @xcite . in most of the cases ,",
    "the quantification of similarity between two users is based on the number of objects which have been chosen by both users in the past . however , it is also possible to define a similarity between two objects based on the number of users who have chosen them .",
    "not always in the literature recommendations based on user similarity have been properly distinguished from those based on object similarity , and the predictions provided by these two types of recommendation systems have been usually compared while discarding the different nature of the similarity measures involved .    the question of which similarity measure is the most reliable in providing tailored and accurate recommendations is still a matter of open debate , and it is not clear yet how to choose one similarity definition or another for a specific recommendation task .",
    "this paper provides a contribution in this direction .",
    "in particular , we focus here on the duality user - similarity versus object - similarity , showing that it is possible to improve the quality of recommendation by making a combined use of the two classes of similarity .",
    "we start by proposing two new definitions of similarity based on heuristic arguments , and then we compare the accuracy of recommendations based on these definitions with the accuracy of other methods proposed in the literature . the first measure we propose takes into account the popularity of objects and the heterogeneity of user selection patterns , while the second one is based on the concept of pearson correlation  @xcite generalized to the case of binary vectors .",
    "we then show that any definition of similarity between users induces a definition of similarity between objects , and vice versa .",
    "this fact actually increases the number of different possible similarity definitions , and allows to consider recommendation methods which combine together user - similarities with object - similarities .",
    "we also test the robustness of different similarity measures against the presence of noise , by adding an increasing percentage of random edges to the actual bipartite graph , and we show that the measure based on generalised pearson correlation proposed in the paper is able to filter out noise more effectively than most of the other existing similarity measures .",
    "the paper is organized as follows . in section  [ measures ]",
    "we review different similarity measures proposed in the literature , we introduce two new definitions of similarity , and we show how to associate a recommendation score to an object starting from a given similarity definition . in section  [ validation ] we provide a brief description of three data sets corresponding to to user / object associations in different contexts , and we validate the performance of different recommendation strategies on the corresponding bipartite networks . in section  [ sec : specular ] we show how a measure of similarity between users can be transformed into an analogue measure of similarity measure between objects .",
    "we then investigate recommendation methods which combine the recommendation scores obtained from similarities between users and similarity between objects .",
    "finally , in section  [ randomization ] we study how the presence of spurious information in the data sets can affect the performance of recommendation , and we show that some recommendation strategies actually perform better than others in noisy data sets .",
    "let us consider a set of @xmath0 users and @xmath1 objects , where each user @xmath2 is associated to a subset of the @xmath1 objects she has expressed a preference for .",
    "this is for instance the case of users buying objects from an online retail shop , where each user is associated to each of the items she has bought from that website .",
    "such systems can be naturally represented by means of bipartite graphs , where users and objects are considered as two distinct classes of nodes .",
    "a bipartite graph can be described by a @xmath3 adjacency matrix @xmath4 whose entry @xmath5 is equal to 1 if and only if user @xmath6 is associated to object @xmath7 ( for instance , because @xmath6 has bought that object ) , and @xmath8 otherwise .",
    "notice that in a bipartite graph each edge always connects one user with one object . in the following",
    ", latin subscripts are associated to users , whereas greek ones are associated to objects .",
    "the total number of objects collected by a user @xmath6 is equal to the number of edges incident on the corresponding node @xmath2 of the graph , i.e. to the degree @xmath9 .",
    "similarly , the degree of object @xmath10 , defined as @xmath11 , is equal to the total number of users that have collected that object .    within this framework , making a _ recommendation _ for user",
    "@xmath6 corresponds to compiling a list of objects which have not already been chosen ( or bought ) by user @xmath6 but to which @xmath6 might be interested . in other words ,",
    "a recommendation is just a proposal of new potential edges of the bipartite graph whose one endpoint is node @xmath2 .",
    "the main hypothesis on which almost all recommendation systems rely is that the set of objects actually collected ( or bought ) by user @xmath6 represents a sample of her tastes and preferences , and can therefore be used to compile a profile of user @xmath6 and to predict which kind of objects @xmath6 might be interested .",
    "consequently , each recommendation systems relies on some measure of similarity . in general , it is possible to define a similarity @xmath12 for the ( ordered ) pair of users @xmath6 and @xmath13 and also a similarity @xmath14 between the pair of objects @xmath10 and @xmath15 , and various different definitions have been proposed in the literature  @xcite .",
    "_ similarity measures .",
    " _ a very simple way of quantifying the similarity between user @xmath6 and user @xmath13 is by counting the number of objects @xmath16 that they have in common : @xmath17 one of the limitations of @xmath16 is that it does nt take into account the differences in the total number of objects collected by each user .",
    "this problem can be somehow alleviated by using the so - called jaccard similarity  @xcite , defined as the ratio between the number of items collected by both users @xmath6 and @xmath13 , and the sum of the degrees of the two users : @xmath18    another widely used similarity measure is the one of the _ collaborative filtering _ ( cf ) approach , which is defined as @xmath19 in eq .",
    "( [ s - min ] ) , the similarity measure is proportional to the number of objects @xmath16 users @xmath6 and @xmath13 have in common , and inversely proportional to the smallest of the two degrees , i.e. to @xmath20 . in this way , if user @xmath6 has collected exactly one object , which has also been collected by @xmath13 who instead has degree @xmath21 , then @xmath22 , i.e. the similarity between two users is effectively determined by the user with the smallest degree .",
    "the jaccard and the collaborative filtering similarity do not take into account another type of heterogeneity , namely the fact that not all objects have the same popularity .",
    "intuitively , objects that have been collected by a relative large number of users ( in a limiting case , by all users ) , do not provide useful information for a personalised recommendation , for the simple reason that they are common to too many users , and therefore the fact that one user has collected them does not tell much about her tastes .",
    "hence , it might be a good idea to discount the contribution of an object to the similarity between two users by a function of the degree of the object .    the so called network - based inference ( nbi ) recommendation method  @xcite is based on a measure of similarity which takes into account the heterogeneity of users and objects ( this recommendation strategy is also called _ probabilistic spreading _ in a subsequent paper  @xcite ) .",
    "in this case , the similarity measure is defined as @xmath23 this is a similarity between objects , where the contribution of the user @xmath24 which collects the two objects @xmath25 and @xmath26 is discounted by the degree of that user @xmath27 , and the whole sum is divided by the degree of one of the two objects , according to the _ resource - allocation _ procedure defined by the authors in ref .",
    "@xcite .",
    "it is worth noting that this definition of similarity , like the analogous one @xmath28 investigated in @xcite , is asymmetric , meaning that @xmath29 , and @xmath30 .",
    "though asymmetry is not in general an issue for the recommendation task , it has been shown that better performance can be achieved by using symmetrized versions of these measures  @xcite .",
    "nevertheless , nbi has proved to be a quite reliable recommendation method , and in the following we will consider it as a reference to quantify the effectiveness of the recommendation strategies we propose .",
    "the two new recommendation methods we propose in this paper are based on symmetric similarity measures . specifically , the first measure we propose is @xmath31 we call it maximum degree weighted ( mdw ) similarity because the total number of objects collected by both @xmath6 and @xmath13 is weighted by the maximum of the degrees of the two users .",
    "moreover , the contribution of object @xmath10 is weighted by its degree @xmath32 .",
    "we note here that some recent studies have investigated the effect of a tunable power - law function of the degree , i.e. of similarity measures in which the contribution due to object @xmath10 is divided by @xmath33  @xcite .    in the following",
    ", we will briefly explain the rationale behind eq .",
    "( [ s - mdw ] ) .",
    "first of all , the contribution to the similarity measure of each object collected by both users is weighted with the degree of the object . in this way",
    ", popular objects will provide smaller contributions to the similarity between users .",
    "in particular , the value @xmath34 in the denominator allows to obtain a maximum contribution to similarity ( exactly equal to 1 ) if and only if @xmath35 and @xmath36 .",
    "this takes into account the very special case in which @xmath6 and @xmath13 are the only two users who have collected a certain object .",
    "secondly , the similarity measure is divided by the maximum of the degrees of the two users .",
    "as we explained above , this choice allows to properly take into account the existing heterogeneity in the number of selection made by each user .",
    "for instance , if we consider the similarity defined in eq .",
    "( [ s - min ] ) and we assume that users @xmath6 and @xmath13 have degree @xmath37 and @xmath38 and have exactly one object in common , then the contribution of that object to the similarity between the two users would be equal to @xmath39 .",
    "however , the contribution of the only object in common between @xmath6 and @xmath13 is equal to @xmath39 also when @xmath37 , and @xmath40 , despite one would argue that in the latter case the two users are more similar than in the former .    by dividing for the maximum of the degrees of the two users , the similarity measure given in eq .",
    "( [ s - mdw ] ) assigns a higher value of similarity to the two users in the latter case ( when @xmath37 and @xmath40 we get @xmath41 ) than in the former case ( i.e. , when @xmath37 and @xmath38 , for which we obtain @xmath42 ) .    a second similarity measure we propose here",
    "is based on the pearson correlation coefficient between binary vectors , and is defined as follows  @xcite : @xmath43 this measure , which is denoted in the following as binary pearson ( bp ) similarity , is based on the fact that the @xmath44 row @xmath45 of the adjacency matrix @xmath4 represents the profile vector of user @xmath6 , i.e. the set of objects selected by the user .",
    "if we have two users , @xmath6 and @xmath13 , who have collected @xmath32 and @xmath46 objects in total , respectively , and we consider the corresponding profile vectors @xmath47 and @xmath48 , then we have : @xmath49 where @xmath16 is the number of objects collected by both @xmath6 and @xmath13 .",
    "therefore the pearson s correlation coefficient between the two vectors is : @xmath50 which is identical to eq .",
    "( [ s - p ] ) .",
    "this similarity measure has some remarkable properties .",
    "first of all , it is invariant with respect to a rescaling of the system , i.e. with respect to a transformation @xmath51 , @xmath52 , @xmath53 , and @xmath54 , where @xmath55 is a positive integer .",
    "furthermore , @xmath56 can be interpreted in terms of the hypergeometric distribution @xmath57 .",
    "indeed , the mean value of @xmath57 is @xmath58 and the variance is @xmath59 .",
    "therefore @xmath56 is proportional to the standard score @xmath60 associated with observation @xmath16 according to the hypergeometric distribution @xcite :    @xmath61    this equation reveals that @xmath56 is conceptually different from all the other similarity measures introduced above . indeed , according to @xmath56 , the similarity between two users does not depend only on the number of objects selected by both users , @xmath16 , but it depends on the difference between @xmath16 and the number of shared objects that is expected under the hypothesis that the two users have picked the objects at random .",
    "therefore @xmath56 can also take negative values , and this fact influences the way in which a personalized recommendation value is obtained , as discussed in the reminder of this section .    _ constructing recommendation lists .",
    " _ once we have assigned a similarity value to each possible pair of users in the system , using a certain similarity measure , we need an algorithm to construct a recommendation list , i.e. a list of suggested objects which have not been yet collected by a certain user @xmath6 .",
    "the simplest way of constructing a recommendation list is the _ global ranking method _ ( grm ) .",
    "it consists in creating a user recommendation list by considering all the objects not collected by user @xmath6 in decreasing order of their degree .",
    "this method is not personalized , except for the fact that objects already collected by that user are excluded from the corresponding list .",
    "a more effective and widely used basic procedure is the _ collaborative filtering _",
    "( cf ) , which is based on the similarity measure given in eq .",
    "( [ s - min ] ) .",
    "the similarity scores between user @xmath6 and all the other users in the system are used to construct a personalized recommendation value @xmath62 , that is an estimation of how much user @xmath6 might be interested on object @xmath10 : @xmath63 the presence of the absolute value at the denominator is not necessary for many of the similarities presented above , being their values always positive .",
    "the only exception is the bp similarity , which may take both positive and negative values , thus requiring a proper normalization to avoid possible divergences . in the nbi recommendation method ,",
    "the recommendation value @xmath64 is defined in a quite different way @xmath65 in fact the computation of the recommendation value includes self similar terms ( @xmath66 ) which are not taken into account in eq .",
    "( [ eq : vu ] ) , and does not include any additional normalization factor .",
    "we considered three classical data sets of user - object associations , namely the movielens ( http://www.grouplens.org/node/73 ) database , where @xmath0 users have rated the @xmath1 movies , the jester jokes database ( http://eigenstate.berkeley.edu/dataset/ ) where we find records of users who have rated jokes , and the fine foods database ( https://snap.stanford.edu/data/web-finefoods.html ) , containing amazon reviews of fine foods .",
    "in all these databases users have rated items with an ordinal attribute . in our study",
    "we will perform recommendation procedures on the adjacency matrix of the corresponding bipartite network . for this reason , according to a similar choice done in other studies ( see ref .",
    "@xcite ) , we assume that a user has collected an object if and only if he has rated the object with a score higher or equal to a certain preselected threshold . in table",
    "[ table : db ] we report some information about the size of each data set and the values of the thresholds considered for the definition of the corresponding bipartite network .",
    "_ distributions of similarity values . ",
    "_ as a preliminary investigation , we evaluated the heterogeneity of the degree of users and objects in the three databases . in fig .",
    "[ db_f ] we show the degree distributions for the three databases used . with the only exception of the degree distribution of jokes ( objects ) in the jester jokes database , all the distributions exhibit relatively broad tails .",
    "this suggests that similarity measures which properly take into account degree heterogeneities should indeed provide better recommendations .",
    ".summary statistics of the three databases used in the paper [ cols=\"<,^,^,^,^,^ \" , ]     [ table : r ]    by analyzing the results summarized in table  [ table : r ] we see that the best results are obtained by different methods in different databases .",
    "moreover the two indicators @xmath67 and @xmath68 always single out a different method as the best one .",
    "however , an overall analysis shows that the best recommendation methods are nbi ( the best method according to @xmath69 in the movielens database and the best method according to @xmath68 in the fine foods database ) , mdw ( the best method according to to @xmath68 in the movielens and fine foods databases ) , and bp ( the best method according to @xmath70 in the jester jokes and in the fine foods databases ) .",
    "they clearly overcome the results obtained by grm , cf , and jaccard ( j ) .",
    "the most important difference between the recommendation methods compared in table  [ table : r ] is that while nbi is based on a definition of similarity among objects , all the other methods make use of similarity measures defined between users .    in general , it is possible to define a transformation rule to obtain a similarity score between users starting from a similarity between objects , and viceversa .",
    "in fact , the similarity between objects @xmath71 can be obtained from the similarity between users by appropriately swapping latin indexes with greek ones , and quantities defined for users with the analogous ones defined for objects : @xmath72 the transformation rule is valid in both directions from user to objects and from objects to users .",
    "we propose to define new recommendation scores by using the dual similarity measures obtained with the above defined transformation .",
    "for example , the recommendation value , which is the dual of eq .",
    "( [ eq : vu ] ) and is valid for objects instead of users , is obtained as : @xmath73 whereas the dual recommendation score of the nbi algorithm is @xmath74 it is interesting to note that according to the definition of the nbi we have @xmath75 this relation can be verified by replacing @xmath76 ( eq .  [ s - nbi ] ) with @xmath77 into the equations ( [ eq : fo ] ) and ( [ eq : fu ] ) , respectively .",
    "hence , nbi is invariant under the transformation rules of eq .",
    "( [ spec ] ) .",
    "it is interesting to investigate how the duality user / object similarity affects the quality of recommendation . to this aim",
    ", we propose to define a recommendation value @xmath78 which is the result the convex combination of the two recommendation values @xmath79 and @xmath80 obtained from the similarity between users and between objects , respectively . in formula : @xmath81 where the relative weight of the user and object recommendation values is controlled by the parameter @xmath82 $ ] , so that when @xmath83 we recover the recommendation score induced by the similarity between users , while for @xmath84 we have the recommendantion score corresponding to the similarity between objects .",
    "our hypothesis , which is validated in the following , is that better recommendations can be obtained by appropriately tuning the value of @xmath85 .",
    "the mean values @xmath67 for different recommendation methods are reported in fig .",
    "[ fig : sym ] , where the three panels show the results obtained in the three data sets .",
    "it is worth noting that the nbi algorithm is independent of @xmath85 .",
    "in fact , by using eq .",
    "( [ eq : f ] ) one verifies that @xmath86 in fig .",
    "[ fig : sym ] we notice that the cf recommendation method performs poorly for almost all the values of @xmath85 , in all the three data sets . in the case of movielens , three recommendation methods ( mdw ,",
    "nbi and bp ) perform in a similar way when only the user similarity measure is taken into account ( @xmath83 ) as we already noticed in the results summarized in table  [ table : r ] . on the other hand , for @xmath87 , i.e. , when only the object similarity measure is taken into account , the mdw method performs better than the others . in the case of the fine foods data set ,",
    "the bp similarity performs slightly better than the others for @xmath83 and for a relatively large range of @xmath85 values .",
    "when @xmath87 , the recommendation with the mdw measure performs slightly better . finally , in the jester jokes data set the bp similarity clearly outperforms all the others when @xmath88 , while for @xmath84 all the methods provide similar results , with the only exception of the cf recommendation , whose performance is much worse .    the richness of profiles observed in fig .",
    "[ fig : sym ] suggests that the performance of a recommendation method depends both on the specific database and on the specific linear combination of user and object recommendation values adopted .",
    "quite often , the best recommendation is not the one corresponding to @xmath88 or @xmath87 .",
    "some methods perform better at the user limit ( @xmath83 ) , others at the object limit ( @xmath84 ) , some of them for an intermediate value of @xmath85 .",
    "moreover , the specific shape of @xmath89 as a function of @xmath85 actually depends on the database .",
    "we would like to stress two interesting aspects of these results .",
    "first , some methods exhibit a convex profile of @xmath67 as a function of @xmath85 , where the minimum indicates the best linear combination of user and object recommendation values .",
    "second , the variability of the values of @xmath67 obtained by different recommendation systems is much higher for @xmath87 than for @xmath83 .",
    "in this section we analyse the robustness of recommendation systems against the presence of different sources of noise in the data sets .",
    "we consider three different kinds of randomization . in the first scenario",
    "we add a certain amount of random edges to the bipartite graph , mimicking erroneously reported user selections . in the second case",
    "we rewire a given percentage of the edges of the bipartite network by maintaining the degree of users unaltered ( while the degree distribution of object is in general modified ) .",
    "finally , in the third case we rewire a fraction of the edges of the graph by maintaining unaltered both the user and object degree distribution .    for the sake of simplicity",
    ", we show the results obtained for the three randomizing methods only for the movielens database . in fig .",
    "[ fig : m_rand ] we show the average rank quality index for the different methods with @xmath83 as a function of the percentage of edges randomly added or rewired . as expected",
    ", @xmath89 is an increasing function of the percentage of noise , signalling a degradation of the recommendation performance .",
    "however , the actual profile of @xmath89 depends on the specific recommendation method used .",
    "in fact , several curves crosses at different values of the induced randomness .",
    "this is clearly observed for the first and second kinds of randomization .",
    "we performed the same analysis also on the jester jokes and fine foods databases , and we report in fig .",
    "[ fig : j_rand ] the results corresponding to the first type of randomization ( addition of a fraction of random edges ) .",
    "the results show a prominent role of the bp similarity measure , which seems the most robust in dealing with noisy data sets .",
    "our findings suggest that the bp similarity measure is a good candidate to provide good and robust recommendations in databases where there is a high degree of uncertainty about the validity of records .",
    "in fact , while the use of the bp similarity does not give substantially better recommendation prediction in databases like movielens and fine foods , its performance is consistently higher in the case of jester jokes .",
    "we have considered three real - world users / items bipartite networks , we have investigated the performance of several traditional recommendation methods recently presented in the literature , and we have proposed two new similarity measures which take into account the heterogeneity of users and objects degrees .",
    "we showed that these two new similarity indexes can outperform traditional recommendation systems in most of the cases , even if there is a clear dependence of the results on the structural characteristics of the data set under study .",
    "then , we focused on hybrid recommendation systems based on the convex combination of the recommendation scores induced by the similarity between users and objects , parametrised by a coefficient @xmath85 .",
    "we showed that different outcomes can be obtained in personalized recommendation methods by using similarity between users , or between objects , or a combination of the two . in some cases ,",
    "the quality of recommendation as measured by the average rank quality index @xmath90 is a convex function of the parameter @xmath85 .",
    "this means that the combination of different recommendation scores might actually provide better performance with respect than the employment of user or object similarities alone and , more importantly , that depending on the data set at hand , the quality of recommendation can be actually optimised through an appropriate tuning of @xmath85 .",
    "conversely , for some similarity measures we observed a monotonically decreasing dependence of @xmath89 on @xmath85 , so that the best recommendation is obtained by using an object - based similarity .",
    "we finally investigated the robustness of recommendation systems to the addition and rewiring of edges , and the results suggested that the binary person correlation similarity can consistently outperform other similarity measures in noisy data sets .",
    "although we do not observe a specific recommendation method outperforming all the others in all conditions and for all the data sets considered , it seems that recommendations based on mdw and bp are able to produce better results than those using other similarity measures .",
    "however , our results show that the performance of the recommendation methods depends on both the specific investigated database and on the way similarities between users and objects are used to derive recommendation scores .    this work is partially supported by the epsrc project gale ep / k020633/1 .",
    "this research utilised queen mary s midplus computational facilities , supported by qmul research - it and funded by epsrc grant ep / k000128/1 .",
    "b. sarwar , g. karypis , j. konstan , and j. riedl .",
    "item - based collaborative filtering .",
    "www10 , acm 1 - 58113 - 348 - 0/01/0005 , 285 ( 2001 ) d. goldberg , d. nichols , b.m .",
    "oki , d. terry , commun .",
    "acm * 35 * 61 ( 1992 ) j.b .",
    "schafer , d. frankowski , j. herlocker , s. sen , _ collaborative filtering recommender systems . in : the adaptive web _ springer 291 ( 2007 ) .",
    "c . zhang , m. blatter , and y .- k .",
    "yu , _ phys",
    "lett . _ * 99 * 154301 ( 2007 ) ."
  ],
  "abstract_text": [
    "<S> we propose here two new recommendation methods , based on the appropriate normalization of already existing similarity measures , and on the convex combination of the recommendation scores derived from similarity between users and between objects . </S>",
    "<S> we validate the proposed measures on three relevant data sets , and we compare their performance with several recommendation systems recently proposed in the literature . </S>",
    "<S> we show that the proposed similarity measures allow to attain an improvement of performances of up to 20% with respect to existing non - parametric methods , and that the accuracy of a recommendation can vary widely from one specific bipartite network to another , which suggests that a careful choice of the most suitable method is highly relevant for an effective recommendation on a given system . </S>",
    "<S> finally , we studied how an increasing presence of random links in the network affects the recommendation scores , and we found that one of the two recommendation algorithms introduced here can systematically outperform the others in noisy data sets . </S>"
  ]
}