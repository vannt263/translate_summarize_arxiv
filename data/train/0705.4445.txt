{
  "article_text": [
    "the importance of networks in modern science can hardly be underestimated .",
    "the network representation , where the elementary units of a system become vertices connected by relational links , has proved very successful to understand the structure and dynamics of social , biological and technological systems , with the big advantage of a simple level of description  @xcite .",
    "the structure of a network can be studied at the global level , focusing on statistical distributions of topological quantities , like degree , clustering coefficient , degree - degree correlations , etc . , or at the local level , disclosing how nodes are organized according to their specific features .",
    "topologically , such local organization of the nodes is revealed by the existence of subsets of the network , called communities or modules , with many links between nodes of the same subset and only a few between nodes of different subsets .",
    "communities can be considered as relatively independent units of the whole network , and identify classes of nodes with common features and/or special functional relationships .",
    "for instance , communities represent sets of pages dealing with the same topic in the world wide web  @xcite , groups of affine individuals in social networks  @xcite , compartments in food webs  @xcite , etc .",
    "the problem of identifying communities in networks has recently turned into an optimization problem , involving a quality function introduced by newman and girvan  @xcite , called modularity .",
    "this function should evaluate the `` goodness '' of a partition of a network into communities .",
    "the general idea is that a subset of a network is a module if the number of internal links exceeds the number of links that one expects to find in the subset if the network were random .",
    "if this is the case , one infers that the interactions between the nodes of the subset are not random , which means that the nodes form an organized subset , or module . technically , one compares the number of links inside a given module with the expected number of links in a randomized version of the network that keeps the same degree sequence . the partition is the better , the larger the excess of links in each module with respect to the random case . in this way ,",
    "the best partition of the network is the one that maximizes modularity .",
    "optimizing modularity is a challenging task , as the number of possible partitions of a network increases at least exponentially with its size .",
    "indeed , it has been recently proven that modularity optimization is an np - complete problem  @xcite , so one has to give up the ambitious goal of finding the true optimum of the measure and content oneself with methods that deliver only approximations of the optimum , like greedy agglomeration  @xcite , simulated annealing  @xcite , extremal optimization  @xcite and spectral division  @xcite .",
    "we believe that the scientific community has been a little too fast in adopting modularity optimization as the most promising method to detect communities in networks . indeed , all research efforts focused on the creation of an effective algorithm to find the modularity maximum , without preliminary investigations on the measure itself and its possible limitations .",
    "only recently a critical examination has been performed , revealing that modularity has an intrinsic resolution scale , depending on the size of the system , so that modules smaller than that scale may not be resolved  @xcite .",
    "this represents a serious problem for the applicability of modularity optimization , especially when the network at study is large .",
    "the existence of this bias has also been revealed  @xcite in the hamiltonian formulation of modularity introduced by reichardt and bornholdt  @xcite , that leaves some freedom in the criterion determining whether a subset is a module or not .",
    "other doubts about modularity and its applicability were raised before the discovery of the resolution limit  @xcite .    in our opinion , the problems of modularity optimization call for a debate about the opportunity to use quality functions to detect communities in networks .",
    "this general issue , which has never been discussed in the literature on community detection , is the subject of this paper .",
    "we start with an analysis of modularity , where we illustrate its features as well as its limits .",
    "such analysis is a valuable guide to uncover the possible problems that arbitrary quality functions may have , to understand what determines these problems and what can be done to solve them .",
    "we will see that , while it is easy to define a quality function within classes of partitions with the same number of modules , it is not clear how to compare network splits that differ in the number of modules",
    ".    this paper reproposes some results of the recent work  @xcite , carried out in collaboration with dr .",
    "marc barthlemy , integrating them with new material and discussion . in section 2",
    "we introduce and analyze the modularity of newman and girvan ; in section 3 we deal with the general issue of quality functions and their applicability ; our conclusions are summarized in section 4 .",
    "the modularity of a partition in modules of a network with n nodes and l links can be written in different equivalent ways .",
    "we stick to the following expression @xmath0 , \\label{eq : mod}\\ ] ] where the sum is over the @xmath1 modules of the partition , @xmath2 is the number of links inside module @xmath3 and @xmath4 is the total degree of the nodes in module @xmath3 .",
    "any method of community detection is bound to start from stating what a community is . in the case of modularity the definition of community",
    "is revealed by each summand of eq .",
    "( [ eq : mod ] ) , where we distinguish two terms , @xmath5 and @xmath6 .",
    "the term @xmath7 is the fraction of links connecting pairs of nodes belonging to module @xmath3 , whereas @xmath8 represents the fraction of links that one would expect to find inside that module if links were placed at random in the network , under the only constraint that the degree sequence coincides with that in the original graph . in this way ,",
    "if @xmath7 exceeds @xmath8 , the subset @xmath3 of the network is indeed a module , as it presents more links than expected by random chance . the larger this excess of links , the better defined the module .",
    "we conclude that , within the modularity framework , a subgraph @xmath9 with @xmath2 internal links and total degree @xmath4 is a module if @xmath10 starting from this definition , newman and girvan deduced that the overall quality of the partition is given by the sum of the qualities of the individual modules , which is not straightforward , as we shall see in the next section .    if all subsets @xmath3 of the partition are modules , in the sense specified by eq .",
    "( [ eq2 ] ) , the modularity of the partition is positive , i.e. @xmath11 . on the other hand , modularity is a bounded function .",
    "since each summand can not be larger than the term @xmath7 , one has @xmath0 \\leq\\sum_{s=1}^{m}\\frac{l_s}{l}=\\frac{1}{l}\\sum_{s=1}^{m}l_s\\leq 1 .",
    "\\label{eq3}\\ ] ] in this way , for any network , @xmath12 has a well defined maximum . since the partition into a single module , i.e. the network itself , yields @xmath13 , as in this case @xmath14 and @xmath15 , we conclude that the maximal modularity is non - negative .",
    "practical applications suggest that partitions with modularity values of about @xmath16 correspond to well defined community structures . however , these numbers should be taken with a grain of salt : the modularity maximum usually increases with the size of the network at study , so it is not meaningful to compare the quality of partitions of networks of very different size based on the relative values of @xmath12 .",
    "moreover , the modularity maximum of a network yields a meaningful partition only if it is appreciably larger than the modularity maximum expected for a random graph of the same size  @xcite , as the latter may attain very high values , due to fluctuations  @xcite .",
    "let us consider two subsets @xmath17 and @xmath18 of a network .",
    "the total degree of each subset is @xmath19 for @xmath17 and @xmath20 for @xmath18 .",
    "we want to calculate the expected number of links connecting the two subsets in the null model chosen by modularity , i.e. a random network with the same size and degree sequence of the original network .    by construction",
    ", the total degrees of @xmath17 and @xmath18 in the randomized version of the network will be the same .",
    "each link of the network consists of two halves , or stubs , originating each from either of the nodes connected by the link .",
    "the probability that one of the stubs originates from a node of @xmath17 is @xmath21 ; similarly , the probability that the other stub of the link originates from a node of @xmath18 is @xmath22 .",
    "so , the probability that a link of the random network joins a node of @xmath17 with a node of @xmath18 is @xmath23 , where the factor two is due to the symmetry of the link with respect to the exchange of its two extremes .",
    "as there are @xmath24 links in total , the expected number @xmath25 of links connecting @xmath17 and @xmath18 is @xmath26 now we notice something interesting . in all our discussion",
    "we set no constraint on the parameters @xmath19 , @xmath20 and @xmath24 other than the trivial conditions @xmath27 and @xmath28 , as the total degree of either subset can not exceed the total degree of the network by construction .",
    "in particular , @xmath19 and @xmath20 could be much smaller than @xmath24 , and @xmath25 could be smaller than one .",
    "to simplify the discussion , we assume that both @xmath17 and @xmath18 have equal total degree , i.e. @xmath29 . in this case",
    ", the condition @xmath30 implies @xmath31 , or , equivalently , @xmath32 in this way , if the total degree of either subset is smaller than @xmath33 , the expected number of interconnecting links in the random network would be less than one , so if there is even a single link between them in the original network , modularity would merge @xmath17 and @xmath18 in the same module .",
    "this is because the two subsets would appear more connected than expected by random chance .",
    "we have made no hypothesis on the subsets : the number of nodes in them does not play a role in our argument , as it does not enter the definition of modularity , as well as the distribution of links inside them . for all we know , @xmath17 and @xmath18 could even be two complete graphs , or cliques , which represent the most tightly connected subsets one can possibly have , as every node of a clique is connected with all other nodes .",
    "we found that , regardless of that , optimizing modularity would make them parts of the same module , even if they appear very weakly connected , since they share only one link .",
    "some striking consequences of this finding are shown in fig .",
    "[ fig1 ] , where we present two schematic examples . in the first example",
    ", we consider a network made out of @xmath34 cliques , i.e. graphs with @xmath1 nodes and @xmath35 links .",
    "each clique is connected to two others by one link , forming a ring - like structure ( fig .",
    "[ fig1]a ) .",
    "we have @xmath36 cliques , so that the network has a total of @xmath37 nodes and @xmath38 links .",
    "the natural community structure of the network is represented by the partition where each module corresponds to a single clique .",
    "the modularity @xmath39 of this partition equals @xmath40 and we would expect that @xmath39 is the maximum modularity for this network . if this is true , @xmath39 should be larger than the @xmath12-value of any other partition of the network .",
    "let us consider the partition where the modules are pairs of consecutive cliques , delimited by the dotted lines in fig .",
    "the modularity @xmath41 of this partition is @xmath42    [ cols=\"^ \" , ]     we start with a set of @xmath43 nodes and @xmath24 links .",
    "we want to distribute the links among the nodes in order to build the ideal `` modular '' network .",
    "what kind of network is it ?",
    "intuitively , we expect that the network presents groups of nodes with the highest possible density of links between nodes of the same group , and the smallest possible number of connections between the groups .",
    "we assume that we have @xmath1 identical groups , for symmetry reasons .",
    "the highest density of links inside each group is attained when the latter is a complete graph .",
    "the ideal configuration should have @xmath44 interconnecting links , which is the minimum number of links necessary to keep the network connected .",
    "for the sake of symmetry , we instead use @xmath1 links , so that the cliques can be arranged in the ring - like structure schematically illustrated in fig .",
    ". the average degree of the network is fixed by construction to the value @xmath45 , and all nodes essentially have the same degree , with slight differences depending on their being connected or not to nodes of a different group . in this way",
    ", the cliques comprise @xmath46 nodes is in general not integer .",
    "therefore the statement means that some cliques have @xmath47 + 1 $ ] and some others @xmath47 + 2 $ ] nodes , with @xmath47 $ ] the integer part of @xmath48 , so to respect the constraint on the total number of nodes and links of the network . ] .",
    "the number of cliques is then approximately @xmath49 , which is an important constraint on the desired quality function , and a useful indication on how to group nodes into modules .    to test a quality function",
    ", one could identify the network partition that delivers the highest possible value of the measure , and check whether it coincides with the ideal partition that we have derived , or in which respect it is different from it .    in the case of newman - girvan modularity ,",
    "such partition can be easily determined  @xcite .",
    "we proceed in two steps : first , we consider the maximal value @xmath50 of modularity for a partition into a fixed number @xmath1 of modules ; after that , we look for the number @xmath51 that maximizes @xmath50 . again , the best configuration is the one with the smallest number of links connecting different modules .",
    "for simplicity we shall assume that there are @xmath1 bridges between the modules , so that the network resembles the one in fig .",
    "the modularity of such a network is @xmath52 , \\label{eq10}\\ ] ] where @xmath53 the maximum is reached when all modules contain the same number of links , i.e. @xmath54 .",
    "its value equals @xmath55=1-\\frac{m}{l}-\\frac{1}{m}. \\label{eq12}\\ ] ] we have now to find the maximum of @xmath50 when the number of modules @xmath1 is variable . for this purpose",
    "we treat @xmath1 as a real variable and take the derivative of @xmath50 with respect to @xmath1 @xmath56 which vanishes when @xmath57 .",
    "we conclude that the network with the highest possible modularity comprises @xmath58 modules , with each module consisting of about @xmath59 nodes and @xmath58 links .",
    "the resolution scale of modularity optimization emerges at this stage , where we see that the best possible partition requires modules with total degree of about @xmath60 .",
    "the modules in general are not cliques , at variance with those of the ideal network partition .",
    "this is due to the fact that the number of nodes inside the modules does not affect the value of the modularity of a partition .",
    "modifications of modularity do not improve the situation . as an example , we introduce a modified modularity @xmath61 , that differs from the original measure of newman and girvan in that the quality of the partition is not the sum , but the average value of the qualities of the modules .",
    "this is _ a priori _ a meaningful definition and its expression reads @xmath62 , \\label{eq14}\\ ] ] where the symbols have the same meaning as in eq .",
    "( [ eq : mod ] ) .",
    "again , we wish to find the network partition that delivers the highest possible value for @xmath61 .",
    "the procedure adopted for the original modularity applies in this case as well until eq .",
    "( [ eq12 ] ) , which now takes the form @xmath63 whose derivative with respect to @xmath1 is @xmath64 which vanishes when @xmath65 .",
    "so , the ideal network partition for the new modularity @xmath61 is a split in two communities of the same size , independently of the number of nodes and links of the network .",
    "the resolution scale of @xmath61 is then of the order of the size ( in degree ) of the two communities , which is @xmath24 .",
    "because of that , the optimization of @xmath61 delivers partitions in a small number of modules , which means that the network is examined at a coarser level with respect to the original modularity and the situation is much worse than before .",
    "quality functions allow to convert the problem of community detection into an optimization problem .",
    "this has big advantages , potentially , because one can exploit a wide variety of techniques and methods developed for other optimization problems . in this paper",
    "we used the modularity of newman and girvan as a paradigm to discuss the problem of the definition of a quality function suitable for community detection .",
    "we have seen that modularity can not scan the network below some scale , and that this may leave small modules undetected , even when they are easily identifiable .",
    "moreover , the identification of modules may be affected by the time evolution of the network , due to the fact that modularity s resolution scale varies with the size of the network .",
    "the main issue is how to build the quality function starting from the expression of the quality of a single community .",
    "we have seen that there are reliable ways to do it , when one wants to find the best partition in a fixed number of modules .",
    "modularity itself , for instance , is a possible prescription . instead",
    ", the problem of discriminating whether a partition of a network in @xmath36 modules is better than a partition in @xmath1 modules , with @xmath66 is more difficult to control , and so far unsolved .",
    "as long as this problem remains open , using the optimization of quality functions to identify communities will be unjustified ."
  ],
  "abstract_text": [
    "<S> community structure represents the local organization of complex networks and the single most important feature to extract functional relationships between nodes . in the last years </S>",
    "<S> , the problem of community detection has been reformulated in terms of the optimization of a function , the newman - girvan modularity , that is supposed to express the quality of the partitions of a network into communities . starting from a recent critical survey on modularity optimization , pointing out the existence of a resolution limit that poses severe limits to its applicability </S>",
    "<S> , we discuss the general issue of the use of quality functions in community detection . </S>",
    "<S> our main conclusion is that quality functions are useful to compare partitions with the same number of modules , whereas the comparison of partitions with different numbers of modules is not straightforward and may lead to ambiguities . </S>"
  ]
}