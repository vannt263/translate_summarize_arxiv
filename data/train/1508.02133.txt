{
  "article_text": [
    "throughout the paper we deal with directed multigraphs @xmath6 of a fixed out - degree @xmath0 with loops , where @xmath7 is a finite set of @xmath1 _ vertices _ and @xmath8 is a finite multiset of _",
    "edges_. for each @xmath9 there are exactly @xmath0 outgoing edges @xmath10 . these are simply called _ digraphs _ throughout the paper . for every vertex @xmath9 of a digraph @xmath11",
    ", the @xmath0 outgoing edges can be colored differently by one of the @xmath0 colors from a finite set @xmath12 , giving raise to a _",
    "deterministic finite ( semi)automaton _ @xmath13 with the set of states @xmath7 , the alphabet @xmath12 , and the transition function @xmath14 , where @xmath15 whenever an edge @xmath10 was colored by @xmath16",
    ". every such automaton @xmath17 is called a _ coloring _ of the digraph @xmath11 .",
    "thus we identify automata with colorings of their underlying digraphs .",
    "we extend the transition function @xmath18 to @xmath19 on subsets and words in the natural way . for @xmath20 ,",
    "where @xmath21 and @xmath22 , we also write shortly @xmath23 .",
    "automaton @xmath17 is called _ synchronizing _ if there exist a word @xmath24 and a state @xmath25 such that for every state @xmath26 we have @xmath27 .",
    "such a word @xmath24 is called _ reset _ ( or _ synchronizing _ ) word for @xmath17 .",
    "the length of the shortest synchronizing word of @xmath17 is called _ reset threshold _ and is denoted by @xmath28 .",
    "recent surveys of the theory of synchronizing automata may be found in  @xcite .    call a digraph _ primitive _ ( or _ aperiodic _ ) if it is strongly connected and the @xmath29 of all its cycles is equal to 1 .",
    "it is easy to show that an underlying digraph of a synchronizing automaton is primitive . in 1977",
    "adler , goodwyn and weiss conjectured  @xcite that every primitive digraph has a synchronizing coloring .",
    "this conjecture became widely known as the _ road coloring _ problem .",
    "it was arguably one of the most important conjectures in automata theory until it was finally proved by trahtman in 2007  @xcite .",
    "one of the goals of the present paper is to find the right quantitative formulation of the road coloring theorem .",
    "another part of our motivation comes from the algorithmic issues related to the road coloring problem . how to find a synchronizing coloring of a given digraph ?",
    "a non - trivial algorithm working in time @xmath30 is known for this task  @xcite . on the other hand , m .-",
    "bal suggested during her talk at ca nt 2012 that a random sampling of colorings in a search for a synchronizing one may lead to a simple and practically effective algorithm for the problem .",
    "since one can check whether a coloring is synchronizing in @xmath30 time , it remains to show that a random coloring is synchronizing with high probability . in our research",
    "we were partially motivated by this observation .",
    "there are other computational problems related to the synchronizing colorings of digraphs , such as deciding existence of a synchronizing coloring for a fixed reset word  @xcite , or for a fixed reset threshold  @xcite .",
    "also , several open problems concerning synchronizing automata and the road coloring problem have been stated by m.v .",
    "volkov  @xcite .    for a given @xmath0-out - regular digraph @xmath11 with @xmath1 vertices ,",
    "the @xmath31 is the number of synchronizing colorings to the number @xmath32 of all possible colorings .",
    "note that we distinguish edges of @xmath11 , i.e. two colorings are the same if all edges have the same color .",
    "therefore , there is always exactly @xmath32 different colorings of @xmath11 .",
    "a digraph @xmath11 is @xmath33 if its synchronizing ratio of @xmath11 is equal to 1 .    in this paper",
    "we perform an experimental and theoretical study on the synchronizing ratio of digraphs .",
    "our main contributions are as follows :    1 .",
    "we developed an efficient algorithm for enumerating and checking synchronizing ratios of nonisomorphic digraphs .",
    "using the algorithm , we performed extensive experiments revealing various phenomena concerning the synchronizing ratio .",
    "these provide evidence to state several conjectures and form a basis for further investigation .",
    "3 .   we found out that for small @xmath1 and @xmath0 there are no primitive strongly connected digraphs with synchronizing ratio less than @xmath4 , except for a single particular example for @xmath34 and @xmath5 .",
    "4 .   we constructed digraphs with synchronizing ratio @xmath2 , for every @xmath3 and @xmath35 .",
    "this shows that there are many examples with different synchronizing ratio in the range @xmath36 $ ] .",
    "a strongly connected component @xmath37 of a digraph @xmath6 is called a _ sink component _ if there are no edges going from @xmath37 to @xmath38 .",
    "it is _ reachable _ if for any vertex @xmath9 there is a directed path from @xmath39 to a vertex in @xmath37 .",
    "[ pro : nonsc ] if a digraph @xmath11 has a synchronizing coloring then it has a unique reachable sink component @xmath37 .",
    "furthermore , the synchronizing ratio of @xmath11 is equal to the synchronizing ratio of the digraph induced by @xmath37 .",
    "the proof of the first statement belongs to folklore .",
    "it is not hard to see that an arbitrary coloring @xmath17 of digraph @xmath11 is synchronizing if and only if the subautomaton @xmath40 induced by the sink component @xmath37 is synchronizing .",
    "therefore , the set of all colorings of @xmath11 can be divided into groups of equal size , each group containing the colorings with the same induced subcoloring of @xmath37 . since colorings from each group are altogether synchronizing or non - synchronizing , we obtain that the synchronizing ratio of @xmath11 is equal to the synchronizing ratio of the digraph induced by @xmath37 .",
    "since a one - vertex digraph is totally synchronizing we have the following corollary :    a digraph with a sink state is either totally synchronizing or none of its colorings is synchronizing .",
    "due to proposition  [ pro : nonsc ] the study of synchronizing ratios and totally synchronizing digraphs can be reduced to the case of strongly connected digraphs .",
    "surprisingly , the underlying digraphs of several automata presented in the literature appear to be totally synchronizing .",
    "one important example of such a digraph is well known to the community , see for example  @xcite .",
    "recall that the ern automaton @xmath41 ( @xcite ) can be defined as @xmath42 , where @xmath43 for @xmath44 , @xmath45 , @xmath46 , and @xmath47 for @xmath44 .",
    "the proof of the following folklore result has not yet appeared in the literature .",
    "the underlying digraph of @xmath41 is totally synchronizing .",
    "let @xmath48 be an arbitrary coloring of the underlying digraph of @xmath41 .",
    "it is well known that an automaton is synchronizing if and only if every pair of states @xmath49 is synchronizing , i.e. there is a word @xmath24 such that @xmath50 ( see  @xcite , or ( * ? ? ? * proposition  2.1 ) ) .",
    "we will show that any pair of states @xmath51 of @xmath48 satisfy this condition .",
    "let @xmath52 be the length of the shortest path from @xmath53 to @xmath54 .",
    "we will proceed by induction on @xmath52 .",
    "consider a pair @xmath55 ; without loss of generality we may assume that @xmath56 .    if @xmath57 then let @xmath58 be the letter on the edge from @xmath53 to @xmath59 .",
    "we apply @xmath58 so @xmath60 , and @xmath61 .",
    "consider the case @xmath62 .",
    "let @xmath63 be the letter on the loop on the state @xmath54 .",
    "if @xmath64 then let @xmath58 be the letter on the edge from @xmath53 to @xmath59 ; otherwise let @xmath65 . if @xmath66 then @xmath67 .",
    "otherwise we apply the letter @xmath58 , and in the same manner consider the pair @xmath68 .",
    "note that @xmath69 . following in this way , after at most @xmath70 steps",
    ", we will reach a pair @xmath71 .",
    "for @xmath71 we choose @xmath65 , we obtain @xmath72 .",
    "underlying digraphs of many other automata that appeared in literature are also totally synchronizing . in a similar fashion one can show that the underlying digraphs of the series of slowly synchronizing automata ( see  @xcite ) are totally synchronizing . also , almost all presented examples of automata with two cycle lengths have this property  @xcite .    for the sake of completeness we mention the following notions from related topics .",
    "a word @xmath24 is called _ totally synchronizing _ if @xmath24 is a reset word for any coloring of totally synchronizing digraph @xmath11 .",
    "see  @xcite for an analysis of totally synchronizing digraphs and words in some special classes of digraphs . a word over an alphabet @xmath12 is called",
    "_ @xmath1-synchronizing _ if it is a reset word for all synchronizing automata with @xmath73 states over the alphabet @xmath12 .",
    "see  @xcite for the introduction to the topic .",
    "we performed a series of experiments to reveal some properties of the synchronizing ratio of digraphs .",
    "these include both exhaustive enumeration of small digraphs and larger random digraphs .",
    "we are interested mostly in primitive strongly connected digraphs ( cf .  proposition  [ pro : nonsc ] ) .",
    "in the case of exhaustive enumeration we checked the synchronizing ratio of all nonisomorphic @xmath0-out - regular digraphs with a given @xmath1 vertices .",
    "to check as many cases as possible and obtain a large data set , we needed to design and implement our algorithms carefully .",
    "this is especially important during the exhaustive search , since the number of digraphs grows very fast with @xmath1 and @xmath0 .",
    "here we briefly describe our algorithms , skipping numerous technical improvements and tricks in the implementation .",
    "some of our ideas are based on  @xcite , where the ern conjecture was verified by an exhaustive enumeration for all binary automata up to @xmath74 states .    to determine the synchronizing ratio of a digraph",
    ", we can just enumerate all its colorings and count the synchronizing ones . checking",
    "whether a coloring ( automaton ) is synchronizing can be easily done in @xmath30 time @xcite .",
    "note that in many cases , some colorings give rise to the same particular automaton ( e.g.  if there are are two or more parallel edges @xmath75 then we can permute its colors obtaining the same automaton ) .",
    "also , every coloring has @xmath76 equivalent colorings obtained only by permuting the colors . using these facts we could greatly reduce the total number of really checked colorings for synchronization .",
    "checking whether a digraph is strongly connected and the @xmath29 of its cycles is 1 can be effectively done in @xmath77 time basing on the algorithms from  @xcite and @xcite , respectively .",
    "now , computing the synchronizing ratios of a set of random digraphs follows easily , and we can proceed this in parallel on a grid .",
    "however , in an exhaustive enumeration , the number of digraphs grows very fast in terms of @xmath1 and @xmath0 ( see  table  [ tab : exhaustive_results_2 ] ) , and the main problem was to deal with it .",
    "@xmath78 the set of all simple graphs with @xmath1 vertices .",
    "@xmath79 @xmath80 the canonical representation of @xmath81 .",
    "@xmath82 . count synchronizing colorings of @xmath83 .",
    "our algorithm for exhaustive checking of digraphs is summarized in  algorithm  [ alg : exhaustive ] .",
    "first , in line  1 , we generate all nonisomorphic simple graphs with @xmath1 vertices .",
    "a _ simple graph _ is a graph with undirected edges joining two distinct vertices .",
    "this can be done effectively by the algorithm from @xcite , implemented in package ` nauty ` .",
    "now , we can process each such a simple graph in parallel . in line  4 , for every simple graph @xmath11 we orient and multiply its edges so that there are at most @xmath0 outgoing edges for each vertex",
    "then we interpret the missing edges as loops . clearly",
    ", an isomorphic copy of every digraph can be obtained in this way from its underlying simple graph , and the digraphs obtained from two nonisomorphic simple graphs are also nonisomorphic .",
    "we can , however , obtain isomorphic digraphs from the same simple graph . in line  5",
    "we skip non - strongly connected and non - primitive digraphs . in line  6",
    "we compute the _ canonical representation _ of a generated digraph @xmath81 ; this is the lexicographically minimal representation among all digraphs isomorphic to @xmath81 ( cf .",
    "@xcite ) . to skip isomorphic copies obtained from the same simple graph , in line  3 we introduce the set @xmath82 of canonical representations of generated digraphs . then in line  7 , we check if an isomorphic copy of the digraph @xmath81 was already generated ; if not , in line  8 we insert it to the set .",
    "the set @xmath82 can be effectively implemented as a radix trie , allowing to perform both membership test and insertion in linear time , and providing some compression ( which is also important in view of the number of generated digraphs ) .",
    "finally , we can count synchronizing colorings of the generated digraph ( line  9 ) .",
    ".the minimum , average , and standard deviation of the number of synchronizing colorings of all strongly connected aperiodic @xmath0-out - regular digraphs with @xmath1 vertices [ cols=\"^,^,>,>,>,>,>\",options=\"header \" , ]      to deal also with larger digraphs , we performed additional experiments with random digraphs .",
    "we used the uniform model of a random digraph , that is , for every outgoing edge from a vertex @xmath39 we choose the destination vertex uniformly at random and independently from the other choices .    for @xmath5 we checked @xmath84 digraphs for every @xmath85 , and @xmath86 for @xmath87 .",
    "since the number of possible colorings grow very fast with @xmath0 , for @xmath88 we tested @xmath89 , and for @xmath90 we tested only @xmath91 .",
    "we additionally checked the same numbers of random of digraphs in the class of strongly connected aperiodic digraphs , within the same range of @xmath1 and @xmath0 .",
    "the results from random tests for larger @xmath1 show the same patterns as observed in those from exhaustive search .",
    "figure  [ fig : totally ] shows the fraction of totally synchronizing digraphs in random samples of strongly connected aperiodic digraphs .",
    "the picture is very similar in the class of all digraphs .",
    "in this section we present different examples of digraphs with particular values of the synchronizing ratio . according to our computational experiments the smallest possible value of the synchronizing ratio among all digraphs is equal to @xmath92 .",
    "this value is achieved by the digraph @xmath93 ( figure  [ fig:30 ] ) . by direct computation",
    "one can verify that only 30 colorings of @xmath93 are synchronizing .",
    "there is a 2-out - regular digraph with 6 states and the synchronizing ratio @xmath92 .",
    ".5 mm    ( 80,76)(0,-76 ) ( n1)(60.0,-16.0)@xmath94 ( n2)(76.0,-44.0)@xmath95 ( n3)(60.0,-72.0)@xmath96 ( n4)(20.0,-72.0)@xmath97 ( n5)(4.0,-44.0)@xmath98 ( n6)(20.0,-16.0)@xmath99 ( n1,n3 ) ( n1,n6 ) ( n2,n6 ) ( n2,n3 ) ( n3,n2 ) ( n3,n5 ) ( n4,n2 ) ( n4,n5 ) ( n5,n4 ) ( n5,n1 ) ( n6,n4 ) ( n6,n1 )    the exceptional example @xmath93 seems to be unique . we did not find any other digraph with this particular value of the synchronizing ratio .",
    "furthermore , according to our computational experiments the smallest value of the synchronizing ratio among all other @xmath0-out - regular digraphs seems to be equal to @xmath100 .",
    "there are many examples that reach this bound , and in the following theorem we construct a series of digraphs with this property .    for every @xmath101",
    "there is a @xmath0-out - regular digraph with @xmath1 vertices and the synchronizing ratio @xmath100 .",
    "we will define the digraph @xmath102 as follows ; see figure  [ fig : half ] .",
    "the set of vertices @xmath7 is @xmath103 .",
    "the edges @xmath104 and @xmath105 are of multiplicity 1 , the edges @xmath106 and @xmath107 are of multiplicity @xmath108 , and the edges @xmath109 are of multiplicity @xmath0 .",
    "consider now an arbitrary coloring of the digraph @xmath102 .",
    "let @xmath63 be the letter on the edge @xmath104 and @xmath58 be the letter on the edge @xmath105 .",
    "if @xmath66 then every letter acts as a permutation , and so the automaton is not synchronizing . if @xmath110 then @xmath111 is a reset word for the given coloring .",
    "hence , a coloring is synchronizing if and only if @xmath66 .",
    "therefore , the synchronizing ratio of @xmath102 is equal to @xmath100 .",
    ".5 mm    ( 80,90)(0,-90 ) ( n1)(40.0,-16.0)1 ( n)(4.0,-40.0)@xmath112 ( n2)(76.0,-40.0)2 ( n3)(72.0,-72.0)3 ( n-1)(8.0,-72.0)@xmath113 ( ndots)(40,-88)@xmath114 ( n , n1 ) ( n , n2 ) ( n2,n3 ) ( n2,n3 ) ( n1,n2 ) ( n-1,n ) ( n-1,n ) ( n3,ndots ) ( n3,ndots ) ( ndots , n-1 ) ( ndots , n-1 ) ( n1 )    ( 80,78)(-20,-90 ) ( n1)(40.0,-16.0)1 ( n)(4.0,-40.0)@xmath112 ( n2)(76.0,-40.0)2 ( n3)(72.0,-72.0)3 ( n-1)(8.0,-72.0)@xmath113 ( ndots)(40,-88)@xmath114 ( n , n1 ) ( n , n2 ) ( n , n2 ) ( n2,n3 ) ( n2,n3 ) ( n2,n3 ) ( n1,n2 ) ( n-1,n ) ( n-1,n ) ( n-1,n ) ( n3,ndots ) ( n3,ndots ) ( n3,ndots ) ( ndots , n-1 ) ( ndots , n-1 ) ( ndots , n-1 ) ( n1 ) ( n1 )    we generalize the above result to obtain digraphs with different values of the synchronizing ratio .    for every integers @xmath115 and @xmath116 there is a @xmath0-out - regular digraph with @xmath1 vertices and the synchronizing ratio @xmath117 .    we will define a digraph @xmath118 as follows ; see figure  [ fig : synch_frac ] .",
    "the set of vertices @xmath7 is @xmath103 .",
    "there are edges @xmath119 of multiplicity @xmath0 for every @xmath120 .",
    "there are edges @xmath119 of multiplicity @xmath108 for every @xmath121 . for every @xmath122",
    "the vertex @xmath123 has a loop .",
    "the remaining edges of multiplicity 1 are of the form @xmath124 for every @xmath122 .",
    "consider now an arbitrary coloring @xmath125 of the digraph @xmath118 .",
    "let @xmath126 be the letter of the edge @xmath124 and @xmath127 be the letter of the loop @xmath123 , for @xmath122 .",
    "we will show that the automaton @xmath125 is synchronizing if and only if @xmath128 for every @xmath53 .",
    "it will immediately imply that the synchronizing ratio of @xmath118 is equal to @xmath117 .    if @xmath129 for every @xmath53 then every letter acts as a permutation ; thus the automaton is not synchronizing .",
    "assume now that there is @xmath130 such @xmath131 , and let @xmath130 be the smallest integer with this property . in order to show that @xmath125 is synchronizing it remains to prove that any pair can be synchronized .",
    "let @xmath25 and @xmath132 be a pair of states . since the automaton is strongly connected , there is a word @xmath133 mapping @xmath25 to @xmath134 .",
    "let @xmath135 .",
    "let @xmath39 be a shortest word mapping @xmath136 to a state in @xmath137 .",
    "note that @xmath138 .",
    "now we have @xmath139 , and also @xmath140 , because @xmath116 . by the fact that @xmath130 is the smallest integer with the property @xmath131 we obtain @xmath141 , which concludes the proof .    .5 mm    ( 200,90)(0,-90 ) ( n1)(25,-16.0)1 ( n)(0,-40.0)@xmath112 ( n2)(50.0,-40.0)2 ( n31)(50.0,-82.0)@xmath142 ( n3)(75,-16)3 ( n4)(100,-40.0)4 ( n6)(150,-40.0)@xmath143 ( n7)(175,-16.0)@xmath144 ( n8)(200,-40.0)@xmath134 ( n9)(192,-72)@xmath145 ( n10)(150,-82.0)@xmath146 ( n-1)(8.0,-72.0)@xmath113 ( ndots)(100,-88)@xmath114 ( ndots2)(125,-40)@xmath114 ( n , n2 ) ( n , n1 ) ( n , n1 ) ( n1,n2 ) ( n1,n2 ) ( n-1,n ) ( n-1,n ) ( n-1,n ) ( ndots , n31 ) ( ndots , n31 ) ( ndots , n31 ) ( n31,n-1 ) ( n31,n-1 ) ( n31,n-1 ) ( n1 ) ( n3 ) ( n7 ) ( n2,n3 ) ( n2,n3 ) ( n3,n4 ) ( n3,n4 ) ( n6,n7 ) ( n6,n7 ) ( n7,n8 ) ( n7,n8 ) ( n8,n9 ) ( n8,n9 ) ( n8,n9 ) ( n9,n10 ) ( n9,n10 ) ( n9,n10 ) ( n10,ndots ) ( n10,ndots ) ( n10,ndots ) ( n2,n4 ) ( n6,n8 )    there exist many other digraphs with synchronizing ratio @xmath117 .",
    "note that we can replace the @xmath0-path @xmath147 of @xmath118 with any acyclic multigraph such that : any vertex is reachable from the vertex @xmath134 ; from any vertex we can reach the vertex @xmath112 ; and every path from @xmath134 to @xmath112 is of the same length @xmath148 .",
    "in this section we summarize all the conjectures and open problems .",
    "all of the conjectures are supported by experimental evidence .",
    "the conjecture was verified for small values of @xmath1 and @xmath0 ( see table  [ tab : exhaustive_results_1 ] ) .",
    "it implies that a uniformly random coloring of a primitive strongly connected digraph is synchronizing with probability at least @xmath149 , and hence it would justify the algorithm finding synchronizing coloring randomly .    to state the next conjecture ,",
    "let say that a @xmath150 in the distribution of the number of synchronizing colorings is a maximal interval of integers divisible by @xmath76 , such that there are no digraphs with the number of synchronizing colorings in this interval .",
    "thus the conjecture above states that for every @xmath0 and @xmath151 large enough there is the gap @xmath152 $ ] .    for every @xmath0 and @xmath153 ,",
    "there is an @xmath1 large enough such that there are at least @xmath154 gaps in the distribution of the number of synchronizing colorings of @xmath0-out - regular digraphs with @xmath1 vertices ."
  ],
  "abstract_text": [
    "<S> we deal with @xmath0-out - regular directed multigraphs with loops ( called simply _ digraphs _ ) . </S>",
    "<S> the edges of such a digraph can be colored by elements of some fixed @xmath0-element set in such a way that outgoing edges of every vertex have different colors . </S>",
    "<S> such a coloring corresponds naturally to an automaton . </S>",
    "<S> the road coloring theorem states that every primitive digraph has a synchronizing coloring .    in the present paper </S>",
    "<S> we study how many synchronizing colorings can exist for a digraph with @xmath1 vertices . </S>",
    "<S> we performed an extensive experimental investigation of digraphs with small number of vertices . </S>",
    "<S> this was done by using our dedicated algorithm exhaustively enumerating all small digraphs . </S>",
    "<S> we also present a series of digraphs whose fraction of synchronizing colorings is equal to @xmath2 , for every @xmath3 and the number of vertices large enough .    on the basis of our results we state several conjectures and open problems . </S>",
    "<S> in particular , we conjecture that @xmath4 is the smallest possible fraction of synchronizing colorings , except for a single exceptional example on 6 vertices for @xmath5 . </S>"
  ]
}