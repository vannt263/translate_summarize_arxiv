{
  "article_text": [
    "in model theory , and in s. shelah s classification theory in particular , one central program is the search for robust dividing lines among complete theories  dividing lines between intelligibility and non - structure . for a dividing line to be sufficiently interesting",
    ", one often desires that both sides of the line have interesting mathematical content .",
    "moreover , if such a dividing line has multiple characterizations coming from seemingly different contexts , this lends credence to the notion that the line is indeed important .",
    "the exemplar of this in model theory is the notion of stability , first introduced by s. shelah @xcite .",
    "both stable and unstable theories are inherently interesting , and stability enjoys many different characterizations , from cardinalities of stone spaces , to coding orders , to collapse of indiscernible sequences to indiscernible sets .",
    "another example of such a robust dividing line is nip ; like stability , there are important structures with theories on both sides of the line , and the model theory on both sides can be very rich .    in this paper , we focus on the notion of collapsing generalized indiscernibles as a means of characterizating / defining various model - theoretic dividing lines that are already well - established in the literature .",
    "it can be said that this work started with shelah s original characterization of stable theories , theorem ii.2.13 of @xcite .",
    "there he shows that a theory is stable if and only if every indiscernible sequence is an indiscernible set ( i.e. , the order of the sequence `` does not matter '' or is invisible to models of the theory ) . in a similar fashion , it can be shown that other well - known model - theoretic dividing lines can be characterized similarly by such `` collapse '' statements , which we formalize here . in order to carry this out",
    ", we must expand our definition of `` indiscernibility . '' a quintessential example of this phenomenon beyond stability is the third author s characterization of nip theories by ordered - graph indiscernibles . in @xcite",
    ", she shows that a theory is nip if and only if any indiscernible `` picture '' of the generic ordered graph is actually indiscernible _ without _ the graph structure ( i.e. , it collapses to order in the sense the the graph relation is invisible to models of the theory ) .    the project in this paper was also alluded to in the work of the first and second authors on op - dimension @xcite , and this will be discussed further in section [ sect_opdim ] below .",
    "generalized indiscernibles were first introduced by shelah ( see section vii.2 of @xcite ) , where they were used in the context of tree - indexed indiscernibles in the hope of understanding the tree property ( see , for example , theorem iii.7.11 of @xcite ) , but propose a slightly different formulation suggested by the second author in presently - unpublished work ",
    "see @xcite  which slightly simplifies some aspects of section [ sect_rosiness ] . for more on tree indiscernibles in particular ,",
    "see @xcite .",
    "* outline of the paper*. in section [ sect_indisc ] , we introduce all the relevant notation and notions for generalized indiscernibility , the ramsey property , and the modeling property .",
    "as noted above , this will mostly follow @xcite . in the remaining sections",
    ", we will apply this to specific cases , exhibiting the `` collapse '' characterizations of various dividing lines . in section [ sect_opdim ] ,",
    "we begin with the example of @xmath0-multi - order indiscernibles , first considered in @xcite , and show that collapse down to @xmath0 orders characterizes op - dimension @xmath0 ( theorem [ thm_opdimindisc ] below ) . in section [ sect_rosiness ] , we consider function - space indiscernibles , and show that collapse down to two indiscernible sequences characterizes rosiness ( theorem [ thm : collapse - result - rosiness ] below ) . in section [ sect_ntp2 ] , we consider convex equivalence relation indiscernibles , showing that ntp2 is equivalent to a dichotomy between collapsing down to an indiscernible sequence or having dividing witnessed by a particular formula ( theorem [ thm_ntp2 ] below ) .",
    "in this section , we review the definitions associated with structural ramsey theory : -like theories , the ramsey property , and the modeling property , and theories of indiscernibles .",
    "the development ( taking up subsections 2.0.1 through 2.2 ) is just a summary of that in @xcite , which in turn is based in large part on @xcite . in subsection 2.4 ,",
    "we formalize the notion of `` collapse of indiscernibles '' as it will be used in this article .      mirroring the notation used in @xcite",
    ", we adopt a somewhat eccentric streamlined notation for finite structures .    in order to save ourselves from writing `` ... is a finite structure '' and `` is a finite substructure of '' _ ad nauseum _ , we establish a slightly eccentric convention . with the one exception of @xmath1-embeddings ( see the next subsection ) , upper - case calligraphic letters  @xmath2 , @xmath3 and so forth  always denote _ infinite _ structures . on the other hand , lower - case gothic letters ",
    "@xmath4 and so forth  always denote _ finite _ structures .",
    "thus , @xmath5 , for example , means that @xmath6 is a finite ( induced ) substructure of @xmath2 .",
    "moreover , given a 1-sorted structure @xmath6 , @xmath7 is its universe ( a finite set ) , and @xmath8 is the cardinality of @xmath6 .",
    "we write @xmath9 , @xmath10 , @xmath11 for the sets of all embeddings @xmath12 , @xmath13 and @xmath14 , respectively . for an embedding @xmath15 in one of these sets , @xmath16 ( or @xmath17 )",
    "is the substructure of the codomain induced on the image of @xmath15 .",
    "although the machinery of theories of indiscernibles accomodates countably infinite relational languages ( even allowing finitely many constant symbols ) , in this article , the signature @xmath18 of every language of a -like theory @xmath19 will be finite relational .      since our languages will never have function symbols ,",
    "it is necessary to accommodate `` base theories '' that are not universal . to do this",
    ", we define the notion of a fragment  a surrogate for the quantifier - free formulas  and the notion of a -like theory , which is analogous to the universal theory of a genuine class . a theory in a language with a function symbol that is known to be a theory of indiscernibles can be converted to a purely relational theory over a base theory where the base theory states that the new relation symbol behaves as the old function symbol did .",
    "given a language @xmath20 , we define a _ fragment _ of @xmath20 to be a subset @xmath21 of @xmath20-formulas with the following closure properties :    * @xmath21 contains every quantifier - free @xmath20-formula .",
    "* @xmath21 is closed under taking boolean combinations and under changes of free variables .",
    "* @xmath21 is closed under taking subformulas .",
    "we write @xmath22 for the set of formulas of the form @xmath23 where @xmath24 . abusing the notation somewhat , we also write @xmath22 for the closure of this set under conjunctions and disjunctions .",
    "we say that @xmath21 is the _ trivial fragment _ if it is the set of quantifier - free formulas of @xmath20 .    given a language @xmath20 , a _",
    "-like theory _ is a pair @xmath25 , where @xmath21 is a fragment of @xmath20 and @xmath26 is a set of @xmath22-sentences , satisfying the following conditions :    * for all @xmath27 , there is a @xmath28 such that @xmath29 ( @xmath30 ) . * for @xmath31 and @xmath32 ( @xmath30 )",
    ", there are @xmath33 and @xmath34 ( @xmath30 ) such that @xmath35 .",
    "* there is a function @xmath36 such that for any @xmath37 and @xmath38 , there is an @xmath39 such that @xmath40 and @xmath41 .",
    "as with classes and -limits , -like theories support countably infinite generic models .",
    "the following proposition summarizes this fact .",
    "[ prop_comp ] let @xmath25 be a -like theory in @xmath20 .",
    "uniquely up to isomorphism , there is a countable @xmath20-structure @xmath2 such that :    * for all @xmath42 , @xmath43 .",
    "* for any @xmath44 with @xmath45 , for any @xmath46 , there is an @xmath47 such that @xmath48 .",
    "moreover , @xmath49 is @xmath50-categorical and model - complete relative to @xmath21 .",
    "[ defn_comp ] in the notation of proposition [ prop_comp ] , for a -like theory @xmath25 , @xmath51 is the _ @xmath21-model - completion of @xmath26_.    the structure @xmath52 is called the _ generic model _ of @xmath25 .    in the case that @xmath21 is the trivial fragment",
    ", @xmath51 is the usual model - completion of @xmath26 .",
    "here we give a list of all -like theories @xmath25 discussed in the paper .",
    "[ defn_index ]    * @xmath26 : stands for an arbitrary index theory * @xmath53 , @xmath54 : *",
    "* let @xmath55 be the @xmath0-sorted language with sorts @xmath56 and for each @xmath57 , a binary relation symbol @xmath58 on @xmath59 .",
    "let @xmath53 be the @xmath55-theory asserting that each @xmath58 is a linear ordering of @xmath59 .",
    "* * let @xmath60 be the trivial fragment .",
    "* @xmath61 : this is the theory of linear order ( see above ) * @xmath62 , @xmath63 : * * let @xmath64 be the @xmath65-sorted language with @xmath0 binary relations .",
    "let @xmath66 be the @xmath67-theory which asserts that @xmath58 is a linear order for each @xmath68 .",
    "* * let @xmath69 to be the trivial fragment .",
    "* @xmath70 , @xmath71 , @xmath63 : * * let @xmath72 be the two - sorted language with sorts @xmath73 and @xmath74 , two binary relation symbols @xmath75 and @xmath76 on @xmath73 and @xmath74 , respectively , and one more relation symbol @xmath77 . define @xmath70 to contain the following : * * *",
    "@xmath78 `` @xmath79 is an equivalence relation on @xmath74 . '' * * * @xmath80 . * * * `` @xmath75 is a linear order of @xmath73 '' and `` @xmath76 is a linear order of @xmath74 . ''",
    "* * * for all @xmath0 , @xmath81 * * let @xmath82 be the smallest fragment of @xmath72 containing the formula @xmath83 .",
    "* * for each @xmath54 , let @xmath84 be the the @xmath82-universal theory obtained from @xmath70 by adding the sentence @xmath85 * @xmath86 : * * let @xmath87 be a language with two binary relations .",
    "define the theory of _ convexly - ordered equivalence relations _",
    ", @xmath86 , to be the theory in @xmath88 given by defining @xmath89 to be an equivalence relation and @xmath90 to be a linear ordering such that equivalence classes are convexly ordered , i.e. the following holds in any model of @xmath86 : @xmath91 * * let @xmath21 denote the trivial fragment .    to conclude this subsection ,",
    "we introduce the notion of an indiscernible picture of a model of @xmath51 for a -like theory @xmath25 . of course , not all -like theories admit indiscernible pictures , but the definition is sensible even so .",
    "by @xmath92 we mean the formulas in the fragment @xmath21 satisfied by @xmath93 in @xmath2 .",
    "let @xmath25 be a -like theory , and let @xmath94 ( possibly uncountable ) .",
    "let @xmath95 be an infinite structure .",
    "an _ indiscernible picture _",
    "@xmath96 ( of @xmath2 ) is an injection @xmath97 such that for all @xmath54 and @xmath98 , @xmath99 by an indiscernible @xmath26-picture in @xmath95 , we mean an indiscernible picture @xmath100 of some @xmath94 .      in this subsection",
    ", we establish the twin properties that identify generalized indiscernibles ( theories of indiscernibles ) among all -like theories .",
    "the first of these  the finitary ramsey property  is precisely the hypothesis that allows the classical proof of the existence of indiscernible sequences ( via ramsey theorem and compactness ) to go through largely unchanged .",
    "let @xmath25 be a -like theory .",
    "* for @xmath42 , we say that @xmath25 has the @xmath6-ramsey property if for all @xmath101 and all @xmath28 , there is a @xmath33 such that for any coloring @xmath102 , there is an embedding @xmath103 such that for all @xmath104 , @xmath105 .",
    "( this condition is denoted by the rado partition arrow : @xmath106 . )",
    "* @xmath25 has the ramsey property if it has the @xmath6-ramsey property for every @xmath42 .",
    "the second batch of definitions is more clearly identifiable as characterizing a `` theory of indiscernibles .",
    "'' the reader may find it helpful to recall that for any infinite structure @xmath95 and any sequence @xmath107 , there is an indiscernible sequence @xmath108 ( in an elementary extension of @xmath95 ) `` patterned '' on @xmath107 .",
    "the first two definitions below ( of @xmath1-embeddings and -templates ) formalize the idea of patterning .",
    "the modeling property , then , uses these notions to describe what is , naturally , a `` theory of indiscernibles . ''",
    "let @xmath25 be a -like theory , and let @xmath109 . by an `` @xmath1-embedding @xmath110 , ''",
    "we mean a family @xmath111 of embeddings , where for each @xmath112 , @xmath113 is a finite model of @xmath26 containing @xmath114 .",
    "implicitly , there is a uniform bounding function @xmath115 such that @xmath116 for all @xmath112 .",
    "let @xmath25 be a -like theory , and let @xmath94 . in an arbitrary language @xmath117 ,",
    "let @xmath95 be some @xmath117-structure .",
    "we define an _ -template _ to be a family @xmath118 of maps @xmath119 ( @xmath54 ) satisfying the following :    * for all @xmath54 , @xmath120 , @xmath121 and @xmath122 , @xmath123 * for all @xmath124 , @xmath125 and @xmath126 , @xmath127    now , suppose @xmath128 , @xmath129 , @xmath130 is an indiscernible picture of @xmath3 in @xmath131 .",
    "we say that _ @xmath100 is patterned on @xmath118 _ if there is a family @xmath132 of patterning maps such that for all @xmath133 , @xmath134 and @xmath135 , @xmath136 .",
    "a -like theory @xmath25 with generic model @xmath94 is said to have the _ modeling property _ if for every infinite structure @xmath95 and every -template @xmath137 , there are @xmath128 and an indiscernible picture @xmath138 patterned on @xmath118 .",
    "finally , we can state the main characterization theorem connecting the ramsey property and the modeling property .",
    "a very - slightly weaker form of this theorem was proved in @xcite , and in @xcite , it was proved as one of a somewhat longer list of equivalent conditions .",
    "let @xmath25 be a -like theory",
    ". then @xmath25 has the finitary ramsey property if and only if it has the modeling property .",
    "a _ theory of indiscernibles _ is precisely a -like theory @xmath25 that has the modeling property ( equivalently , the finitary ramsey property ) .",
    "we hope that the following examples will be helpful to the reader in understanding the definitions that we have just laid down .",
    "[ example_mutuallyindiscernible ] @xmath139 is a -like theory , and @xmath140 is the theory asserting just that each @xmath141 is a dense linear order without endpoints . if @xmath142 is countable , then @xmath143 , which is extremely amenable .",
    "so by lemma 6.7 of @xcite we can conclude that @xmath139 is a theory of indiscernibles .",
    "now , consider an indiscernible picture @xmath96 , where @xmath95 is some infinite @xmath117-structure .",
    "we note that for @xmath144 and @xmath145 , @xmath146 , @xmath147 and @xmath148 may be of different sorts .",
    "however , each sequence @xmath149 ( @xmath150 ) is an indiscernible sequence in the usual sense , and moreover , the family @xmath151 comprises mutually indiscernible sequences in the sense that for each @xmath150 , @xmath152 is indiscernible over @xmath153 .",
    "[ defn_nmultiorder ] @xmath154 is a -like theory , and @xmath155 is the theory where each @xmath58 is a dense linear order and these orders are independent",
    ". then @xmath155 is @xmath50-categorical and admits elimination of quantifiers .",
    "moreover , @xmath66 is a theory of indiscernibles . for more details ,",
    "see definition 1.2 of @xcite , where this is called @xmath156 . also see corollary 1.4 of @xcite and theorem 4 of @xcite .",
    "@xmath70 is a @xmath82-universal theory .",
    "it is easy to see that @xmath157 is a -like theory .",
    "in fact , the model companion shares an automorphism group with that of the shelah tree @xmath158 from @xcite where @xmath159 is the meet in the partial tree order @xmath160 , @xmath161 is the lexicographical order on sequences , and @xmath162 is a unary predicate picking out the @xmath0-th level of the tree .",
    "identify leaves of @xmath163 with the one - point classes @xmath164 / \\bigcap_{1 \\leq 1 \\leq n } e_{x_i}$ ] .",
    "@xmath165 is a -like theory .",
    "a countable model of the model companion @xmath166 is a collection of densely ordered convex equivalence classes , each of which is a dense linear order .",
    "it probably is not surprising ( given an understanding of stable theories ) that for a given theory @xmath167 , not every indiscernible picture of a model of @xmath51 `` survives ''  sometimes , the indiscernible picture is already indiscernible relative to a reduct of @xmath25 .",
    "this phenomenon is the basis for our approach to dividing lines in this article , so obviously , we must formalize exactly what we mean .",
    "let @xmath19 and @xmath168 be -like theories in @xmath20 and @xmath169 , respectively , and let @xmath170 and @xmath171 be their respective generic models .",
    "* as usual , we say that @xmath172 is a reduct of @xmath173 , if there is a bijection @xmath174 such that for every formula @xmath175 of @xmath20 , there is a formula @xmath176 of @xmath169 such that @xmath177 for all @xmath178 .",
    "as all of the theories in question are @xmath50-categorical , this is equivalent to asserting that , up to the identification provided by @xmath179 , every complete type of @xmath51 over @xmath180 is equal to a ( finite ) union of complete types of @xmath181 over @xmath180 .",
    "we will say that @xmath19 is a reduct of @xmath168 if the generic model of the former is a reduct of the generic model of the latter .",
    "let @xmath19 and @xmath168 be theories of indiscernibles , and let @xmath167 be an arbitrary complete theory .",
    "assume @xmath19 is a reduct of @xmath168  so fix @xmath174 witnessing this , where @xmath172 and @xmath173 are the generic models of the two theories , respectively .    * let @xmath182 be an indiscernible picture of @xmath171 in a model @xmath95 of @xmath167 .",
    "we say that _",
    "@xmath100 collapses to @xmath19 _ if the composite @xmath183 is an indiscernible picture of @xmath172 in @xmath95 . *",
    "we say that _",
    "@xmath167 collapses @xmath168 to @xmath19 _ if every indiscernible picture @xmath182 of @xmath171 in a model @xmath95 of @xmath167 collapse to @xmath19 .",
    "we note that our formalization of collapse requires that a specific reduct is isolated before hand .",
    "although it is also possible ( presumably ) to speak of `` collapse '' without requiring that the remainder is anything in particular , this is _ not _ the approach we adopt here .",
    "although we can get similar collapse results for op - dimension and rosiness , for ntp2 , we will need to consider a slightly different notion .",
    "this is primarily because of the fact that , while stability , nip , op - dimension , and rosiness are characterized by the non - existence of a pattern with only existential criteria , ntp2 ( and likewise , ntp1 for that matter ) is characterized by the non - existence of a pattern with both existential and universal requirements .",
    "so we will need a notion of dividing across a fixed sequence @xmath100 to deal with the `` universal part '' of the pattern .",
    "[ defn_divideacross ] let @xmath184 be an indiscernible picture of @xmath94 , and let @xmath185 be an @xmath117-formula .",
    "we say that @xmath185 _ divides across @xmath100 _ if there is an indiscernible sequence @xmath186 in @xmath2 such that : @xmath187    notice that saying @xmath185 divides across @xmath100 , witnessed by @xmath186 , shows that @xmath188 divides over @xmath180 , since @xmath189 is an indiscernible sequence in @xmath95 . as usual , by compactness , this is equivalent to demanding that @xmath190 is @xmath191-inconsistent for some @xmath192 .",
    "we will use this notion in section [ sect_ntp2 ] below .",
    "we will introduce a specialized versions of dividing , namely `` dividing vertically . '' to connect diving to indiscernible collapse , we will also have a notion of _ coding _ formulas . though this definition depends on the specific index theory @xmath26 ,",
    "the basic idea is to have a single @xmath117-formula witnessing the collapse of a particular relation symbol in @xmath20 for a indiscernible picture @xmath100 .",
    "let @xmath167 be a complete first - order @xmath117-theory and let @xmath194 be a monster model for @xmath167 .",
    "there are many equivalent definitions for op - dimension given in @xcite .",
    "the main one of interest here will be the following .",
    "we say that a partial type @xmath195 has _ op - dimension _",
    "@xmath196 if there exists formulas @xmath197 and sequences @xmath198 for @xmath68 such that , for all functions @xmath199 , the following partial type is consistent @xmath200 we will call such @xmath201 an _ ird - pattern _ of length @xmath0 and depth @xmath202 in @xmath195 .",
    "we will also denote this by @xmath203 .",
    "we will write @xmath204 for @xmath205 .",
    "if the op - dimension of @xmath206 is @xmath196 for all @xmath0 , we say it is infinite and write @xmath207 .",
    "notice that by the modeling property in example [ example_mutuallyindiscernible ] , we may assume that the @xmath208 in the definition of op - dimension are such that @xmath209 is mutually indiscernible ( and indexed by @xmath210 or , in fact , any infinite order @xmath211 ) .",
    "notice that if @xmath212 has finite op - dimension , then in particular @xmath167 has nip in the sort of @xmath213",
    ". the converse does not hold .",
    "consider @xmath214 ( see definition [ defn_index ] ) .",
    "a partial type @xmath206 is stable if and only if @xmath215 .",
    "it is easy to check that the op - dimension of a partial type @xmath206 is bounded above by the dp - rank of @xmath206 ( any ird - pattern can be converted to an ict - pattern ) . in general , however , op - dimension can be much smaller ( e.g. , there are stable , non - strongly dependent theories ) . on the other hand , op - dimension enjoys many of the same properties as dp - rank , including subadditivity ( see theorem 2.2 of @xcite ) .",
    "that is , @xmath216 if @xmath167 is o - minimal ( or simply distal ) , then dp - rank and op - dimension coincide ( theorem 3.1 of @xcite ) .    for a partial type @xmath195 over a set @xmath217 ,",
    "the following are equivalent    1 .",
    "@xmath218 , 2 .   for all formulas",
    "@xmath219 , all sequences @xmath220 indiscernible over @xmath217 , and for all @xmath221 , there exists a partition of @xmath210 into convex sets @xmath222 such that , for all @xmath223 , the set @xmath224 is either finite or cofinite in @xmath225 .",
    "3 .   for all @xmath226 almost mutually indiscernible over @xmath217 and all @xmath221 ,",
    "there exists @xmath227 such that @xmath228 is almost indiscernible over @xmath229 .",
    "[ prop_118guinhillop ] for a partial type @xmath195 and @xmath230 , the following are equivalent :    1 .",
    "@xmath203 , 2 .",
    "there exists an indiscernible @xmath66-picture @xmath231 and a formula @xmath219 such that , for all @xmath68 and for all @xmath232 a cut of @xmath233 , there exists @xmath234 such that @xmath235 .    along similar lines , we can use collapse of indiscernible @xmath66-pictures to characterize op - dimension , supposing the ambient theory has nip .",
    "the following is the main result of this section .",
    "[ thm_opdimindisc ] suppose @xmath167 has nip .",
    "for a partial type @xmath195 and @xmath230 , the following are equivalent :    1 .",
    "@xmath236 , 2 .   for all indiscernible @xmath66-pictures @xmath231 ,",
    "there exists @xmath237 such that @xmath100 is an indiscernible picture for @xmath238    \\(1 ) @xmath239 ( 2 ) : suppose ( 2 ) fails .",
    "that is , there exists an indiscernible @xmath66-picture @xmath231 such that , for all @xmath237 , @xmath100 is not an indiscernible picture for @xmath238 .",
    "that is , there exists @xmath192 and @xmath240 such that @xmath241 we may assume the same @xmath191 works for all @xmath237 ( take the maximal such ) and the coordinates of @xmath242 are distinct and the coordinates of @xmath243 are distinct . without loss of generality , by reordering , suppose @xmath244 since transpositions generate the symmetric group on @xmath191 , we may assume that the @xmath245-order type of @xmath242 and @xmath243 differ by transposing two elements .",
    "that is , for some @xmath246 , @xmath247 since @xmath248 , there exists @xmath249 such that @xmath250 fix @xmath251 .",
    "we use this as a template to construct an ird - pattern of depth @xmath252 and length @xmath0 in @xmath206 , showing that @xmath203 ( and hence ( 1 ) fails ) .    for each @xmath237",
    ", choose @xmath253 such that , for all @xmath68 ,    * @xmath254 if @xmath255 for all @xmath256 , * @xmath257 if @xmath258 for all @xmath259 , * @xmath260 if @xmath261 for all @xmath259 .",
    "thereby , for all @xmath262 , for all @xmath263 , @xmath264 has the same @xmath58-order type as @xmath93 . in other words , for all @xmath262 , @xmath265 for each @xmath237 and @xmath266 , define @xmath267 as follows : for each @xmath68 ,    * @xmath268 for all @xmath269 , * @xmath270 .",
    "so , for @xmath271 , we are merely taking @xmath272 and stretching it , in the @xmath273th coordinate , across @xmath274 .",
    "now , for any @xmath275 , for any @xmath237 and any @xmath266 , we have    * @xmath276 for @xmath277 and , * @xmath278 for @xmath279 .    in other words , for any @xmath275 , @xmath266 , and @xmath237 ,    * @xmath280 for @xmath277 and , * @xmath281 for @xmath279 .",
    "after embedding into @xmath2 ( by first extending each @xmath58 arbitrarily to be a linear order ) , we see that , for all @xmath275 , @xmath266 , and @xmath237 , @xmath282 let @xmath283 , let @xmath284 for all @xmath275 , and let @xmath285 for all @xmath237 and @xmath266 . then , for all @xmath237 , @xmath266 , and @xmath275 , @xmath286 hence , @xmath287 and @xmath288 form an ird - pattern of depth @xmath252 and length @xmath0 in @xmath206 .",
    "since @xmath252 was arbitrary , by compactness , we get that @xmath203 , as desired .",
    "\\(2 ) @xmath239 ( 1 ) : suppose ( 1 ) fails , so @xmath203 . by proposition [ prop_118guinhillop",
    "] , there exists an indiscernible @xmath66-picture @xmath231 and a formula @xmath219 such that , for all @xmath237 and for all @xmath232 a cut of @xmath289 , there exists @xmath234 such that @xmath235 .",
    "since @xmath167 has nip , @xmath219 has nip , so fix @xmath251 such that @xmath290 has vc - dimension @xmath291 .",
    "that is , @xmath292    we show that ( 2 ) fails on @xmath100 .",
    "fix @xmath237 and suppose , by means of contradiction , that @xmath100 is an indiscernible picture for @xmath238 .",
    "fix any @xmath293 . by choice of @xmath252 ( i.e. , that @xmath252 is greater than the vc - dimension of @xmath290 ) , there exists @xmath294 such that @xmath295 let @xmath296 and @xmath297 .",
    "choose @xmath298 such that    * @xmath299 , and * for all @xmath300 and @xmath301 , @xmath302 .",
    "by indiscernibility with respect to @xmath303 , @xmath304 without loss of generality , by reordering , suppose @xmath305 , so we have @xmath306 where @xmath307 . now choose any @xmath232 a cut of @xmath289 with @xmath308 if and only if @xmath309 .",
    "therefore , there exists @xmath234 such that @xmath310 .",
    "in particular , @xmath311 this is a contradiction . hence ( 2 ) fails and we are done .",
    "note that we only use nip in the proof of theorem [ thm_opdimindisc ] , ( 2 ) @xmath239 ( 1 ) .",
    "however , this use is necessary . consider the theory @xmath167 of the random graph ( where @xmath312 ) and take @xmath313 $ ] in the homesort",
    "then , any indiscernible sequence is an indiscernible set ( either everything is @xmath314-connected or @xmath314-disconnected ) .",
    "that is , theorem [ thm_opdimindisc ] ( 2 ) holds for @xmath315 . on the other hand ,",
    "theorem [ thm_opdimindisc ] ( 1 ) fails for all @xmath0 ( i.e. , @xmath207 ) . to see this , notice that @xmath316 together with any distinct @xmath317 form an ird - pattern of length @xmath0 .",
    "indeed , for any @xmath199 , the type @xmath318 is consistent by saturation .",
    "if we assume that @xmath167 is o - minimal , since dp - rank and op - dimension coincide , then this collapse of multi - order indiscernibles characterizes dp - rank .",
    "there are several equivalent ways to define rosy theories , but for the sake of brevity , we present the one that is closest to the work we will carry in this article . this definition is based on the following notion of `` equivalence relation ranks '' as proposed in @xcite .",
    "we remark that when defined in terms of local -ranks or the behavior of -independence , it is very important to work with a theory that eliminates imaginaries ; that is , the class of rosy theories is strictly contained the class of `` real - rosy theories . ''",
    "however , the characterization in terms of equivalence relation ranks eliminates this discrepancy  a theory @xmath167 has finite equivalence relation ranks if and only if @xmath319 has finite equivalence relation ranks .",
    "let @xmath195 be a partial type , and let @xmath320 be a finite set of formulas @xmath321 such that for every @xmath322 , @xmath323 defines an equivalence relation .",
    "( we call such a @xmath320 a _ finite set of families of equivalence relations_. )    * @xmath324 * for a limit ordinal @xmath325 , @xmath326 if @xmath327 for all @xmath328 . *",
    "@xmath329 if there are a formula @xmath330 and a parameter @xmath322 such that , with @xmath331 , the set , @xmath332 is infinite . * @xmath333 if @xmath327 for every ordinal @xmath334 .",
    "[ fact : omega - is - infty ] let @xmath195 be a partial type , and let @xmath320 be a finite set of families of equivalence relations . by compactness , if @xmath335 , then @xmath333 .",
    "the key theorem of @xcite ( for our purposes ) is the following .",
    "let @xmath167 be a theory with big model @xmath194 .",
    "@xmath167 is rosy if and only if @xmath336 for every partial type @xmath195 and every finite set @xmath320 of families of equivalence relations .    in the remainder of this subsection",
    ", we define a variant of the equivalence relation ranks as a coding property , and we show that non - rosiness can also be characterized by `` coding equivalence relations . ''",
    "let @xmath167 be a theory with big model @xmath194 .",
    "for a formula @xmath337 , we say that @xmath338 _ codes equivalence relations _ if for every @xmath54 , there are @xmath339 of sort @xmath213 and @xmath340 of sort @xmath341 such that for all @xmath57 and @xmath342 , @xmath343    [ lemma : non - rosy - equals - coding ] let @xmath167 be a theory with big model @xmath194 , and assume @xmath167 eliminates imaginaries .",
    "@xmath167 is non - rosy if and only if there is a partitioned formula @xmath337 that codes equivalence relations in @xmath194 .",
    "first , suppose @xmath337 codes equivalence relations .",
    "then , let @xmath344 by compactness and the fact that @xmath337 codes equivalence relations , there are @xmath345 and @xmath346 such that for all @xmath347 and @xmath348 , @xmath343 now , we make a simple observation : let @xmath349 , and for each @xmath350 , let @xmath351 ; then , @xmath352 for every @xmath350 . from this",
    ", it follows immediately that @xmath353 , and this shows that @xmath167 is not rosy .",
    "conversely , suppose @xmath167 is not rosy . through simple coding tricks",
    ", we may assume that there is a single family of equivalence relations @xmath354 such that @xmath355 .",
    "from this , we recover @xmath356 and @xmath357 such that , for any @xmath358 and @xmath359 ( @xmath350 ) @xmath360 by the pigeonhole principle , we may assume that @xmath361 whenever @xmath362 .",
    "now , let @xmath54 be given . applying several automorphisms",
    ", we may assume that @xmath363 whenever @xmath364 satisfy @xmath362 ; then , for @xmath365 , we choose any @xmath366 .",
    "as @xmath0 was arbitrary , we have shown that @xmath367 codes equivalence relations .",
    "we have established that non - rosiness is equivalent to `` coding equivalence relations . '' in this subsection , develop of theory of indiscernibles that corresponds to the latter notion .",
    "@xmath157 is a theory of indiscernibles .",
    "first we prove that @xmath368 is a theory of indiscernibles .",
    "the base case follows since @xmath369 is interdefinable with the theory of linear order .",
    "now suppose the generic model of @xmath84 has extremely amenable automorphism group @xmath370 , and consider @xmath371 .",
    "call the @xmath372 simply @xmath373 for @xmath374 .",
    "the @xmath114 sort is finite and rigid .",
    "thus the automorphism group acts on the @xmath375 classes ( and permutes any point(s ) in the classes . ) adding a new equivalence relation cross - cuts each @xmath375 class .",
    "thus the automorphism group of the generic model of @xmath376 is @xmath377 , which we know to be extremely amenable .    to complete the argument for @xmath378",
    ", there are two ways to proceed .",
    "firstly , one can observe that the automorphism groups of the generic models of the @xmath368 s form a directed family of subgroups of the automorphism group of the generic model of @xmath378 , and that union of this family is dense the latter ; by lemma 6.7 of @xcite , it follows that @xmath378 is a theory of indiscernibles .",
    "a second approach would be to use compactness and the modeling properties of the @xmath368 s to prove that @xmath378 also has the modeling property .    now that we know what theory of indiscernibles to work with , we can state the main characterization theorem of this section .",
    "its proof comprises all of the next subsection .",
    "[ thm : collapse - result - rosiness ] let @xmath167 be a theory with big model @xmath194 , and assume @xmath167 eliminates imaginaries .",
    "@xmath167 is rosy if and only if every indiscernible @xmath70-picture in @xmath194 is an indiscernible @xmath379-picture via @xmath380 , @xmath381 .",
    "the proof of theorem [ thm : collapse - result - rosiness ] amounts to the conjunction of propositions [ prop : char - rosy - necessity ] and [ prop : char - rosy - sufficiency ] , which we prove in turn . throughout this subsection , assume that @xmath167 eliminates imaginaries .",
    "[ prop : char - rosy - necessity ] let @xmath167 be a theory with big model @xmath194 .",
    "if @xmath167 is rosy , then every indiscernible @xmath70-picture in @xmath194 is an indiscernible @xmath379-picture via @xmath380 , @xmath381 .    before proving this proposition",
    ", we will need to establish the following lemma .",
    "[ lemma : indisc - to - fs ] let @xmath167 be a theory with big model @xmath194 . if there is an indiscernible @xmath70-picture in @xmath194 that is not an indiscernible @xmath379-picture via @xmath380 , @xmath381 , then there is a formula @xmath382 that codes equivalence relations in @xmath194 .",
    "let @xmath383 be an indiscernible picture of the countable model @xmath384 , and suppose @xmath100 is not an indiscernible @xmath379-picture .",
    "in particular , there are @xmath385 , @xmath386 and @xmath387 in @xmath388 , @xmath389 and @xmath390 in @xmath391 , and a formula @xmath185 in the language of @xmath167 such that :    * @xmath392 and @xmath393 * @xmath394 * @xmath395 and @xmath396    by model - completeness and the indiscernibility of @xmath100 , we may assume that @xmath397 .",
    "we will also take the lemma as obvious in the case that @xmath398 ( using @xmath399 to code equivalence relations ) , so in all that follows , we assume @xmath400 .",
    "we may assume that @xmath401 and @xmath402 differ only in the following way : there are @xmath403 and @xmath404 such that for all @xmath405 , @xmath406 , @xmath407    let @xmath408 be the set of all functions @xmath409 satisfying the following conditions :    1 .   for all @xmath405 and @xmath410 , @xmath411 @xmath412 2 .",
    "for all @xmath413 and @xmath414 , for all @xmath404 , @xmath415 is a convex subset of @xmath416    then @xmath408 is precisely the set of functions @xmath417 that correspond naturally to quantifier - free - complete types @xmath418 extending @xmath419 ; we write @xmath420 and @xmath421 for the two directions of the bijection .",
    "let s also name the function @xmath422 given by , @xmath423it s clear that @xmath424 . for any @xmath425 , we define @xmath426 as follows :    * for @xmath427 , we say that @xmath428 is _ @xmath429-isolated _ if for all @xmath405 , @xmath430 . *",
    "set @xmath431 * finally , define @xmath432 by @xmath433    it is not hard to verify that @xmath432 remains in @xmath408 , and it is equally clear that for each @xmath425 , there is a number @xmath434 such that if @xmath435 , and @xmath436 for each @xmath437 , then @xmath438 .",
    "consequently , if @xmath439 and @xmath440 are the members of @xmath408 corresponding to @xmath441 and @xmath442 , then there is a `` path '' @xmath443 such that for each @xmath444 , either @xmath445 or @xmath446 .",
    "since @xmath447 and @xmath448 , by indiscernibility , there is an @xmath444 such that @xmath449 then , replacing @xmath450 with @xmath451 and @xmath452 with @xmath453 is sufficient for the claim .    by indiscernibility and model - completeness , we may further assume that @xmath454 whenever @xmath455 .    finally , taking @xmath456 and @xmath457 @xmath458 ( when @xmath459 ) it is not difficult to verify ( following @xcite ) that @xmath460 codes equivalence relations .",
    "( when @xmath461 , we use a similar definition of @xmath462 . )",
    "proving the contrapositive , if there is an indiscernible @xmath70-picture in @xmath194 that is not an indiscernible @xmath379-picture via @xmath380 , @xmath381 , then by lemma [ lemma : indisc - to - fs ] , there is a formula @xmath382 that codes function spaces in @xmath194 .",
    "then , by lemma [ lemma : non - rosy - equals - coding ] , the existence of a formula that codes equivalence relations in @xmath194 implies that @xmath167 is not rosy .",
    "[ prop : char - rosy - sufficiency ] let @xmath167 be a theory with big model @xmath194 .",
    "if every indiscernible @xmath70-picture in @xmath194 is an indiscernible @xmath379-picture via @xmath380 , @xmath381 , then @xmath167 is rosy .",
    "for the contrapositive , suppose @xmath167 is not rosy .",
    "by lemma [ lemma : non - rosy - equals - coding ] , there is a formula @xmath382 that codes function spaces in @xmath194 .",
    "we will use this fact to construct an indiscernible @xmath70-picture in @xmath194 that is not an indiscernible @xmath379-picture via @xmath380 , @xmath381 .    in this paragraph",
    ", we collect the data necessary to devise an -template . by compactness , there are @xmath463 and @xmath464 in @xmath194 such that @xmath465 for all @xmath347 and @xmath466 .",
    "let @xmath384 be the generic model , and let @xmath467 and @xmath468 be injective functions such that @xmath469 for all @xmath470 and @xmath471 . from these",
    ", we define our -template by setting @xmath472 whenever @xmath473 and @xmath474 .    by the modeling property of @xmath378",
    ", we recover an indiscernible picture @xmath475 patterned on @xmath118 , and we take it as obvious that @xmath100 is not an indiscernible @xmath379-picture via @xmath380 , @xmath381 .",
    "let @xmath167 be a theory with big model @xmath194 , and let @xmath185 be a partitioned formula of the language @xmath117 of @xmath167 . for @xmath101 ,",
    "@xmath185 is said to have the _",
    "@xmath191-tree property of the second kind _",
    "( @xmath191-tp2 ) in @xmath167 if there is a family @xmath476 in @xmath194 such that :              we will argue independently for why @xmath166 is a theory of indiscernibles .",
    "by @xcite , the finite models of @xmath86 form a ramsey class , and so by @xcite , @xmath166 is a theory of indiscernibles .",
    "these indiscernibles have already been widely used in the tp2 context , typically as _ array indiscernibles _ ( as described in @xcite ) where the language is composed of two linear orderings .",
    "we follow claim 2.19 in @xcite in the sense that the absence of tp2 in a theory is characterized by dynamics in the em - type of indiscernible sequences .",
    "namely , if the indiscernible sequence allows for a certain kind of consistency , it must then allow for more .",
    "since we are tracking the dynamics of formulas asserting consistency , as they show up in the em - type , it is helpful to make use of a notation from @xcite :          let @xmath483 be a countable model , and let @xmath484 be an indiscernible picture . for a formula @xmath485",
    ", we say that @xmath338 _ codes equivalence on @xmath100 _ if , for all @xmath486 with @xmath487 , @xmath488    [ lemma_strictpat_ntp2 ] let @xmath167 be a theory with big model @xmath194 .",
    "let @xmath475 be an indiscernible picture of @xmath483 .",
    "then @xmath100 does not collapse to order if and only if there exist a formula @xmath485 and an embedding @xmath489 such that @xmath338 codes equivalence on @xmath490 .    as before ,",
    "one direction is clear , so we show the other direction .",
    "suppose @xmath100 does not collapse to order .",
    "then , there are @xmath491-increasing @xmath0-tuples @xmath492 from @xmath100 such that @xmath493 but @xmath494 do not have the same complete type in @xmath194 .",
    "thus for some formula @xmath495 of the language of @xmath117 of @xmath167 , @xmath496 and @xmath497 .",
    "let @xmath498 , @xmath499 .",
    "in general , let @xmath500 be the set of all quantifier - free @xmath0-types @xmath501 where    * @xmath502 for all @xmath503 , * @xmath504 for all @xmath68 , * if @xmath505 , then @xmath506 for all @xmath503 , * if @xmath507 for some @xmath508 , then @xmath509 , and * if @xmath505 for @xmath510 , then @xmath511 .",
    "that is , @xmath500 are the set of all quantifier - free @xmath0-types realized by some @xmath491-ascending sequence of @xmath0-tuples in @xmath2 . hence @xmath512 .",
    "now form a graph @xmath513 with @xmath514 and , for @xmath515 , @xmath516 if there exists @xmath517 such that      that is , @xmath524 thinks @xmath525 is @xmath89-related to either @xmath526 or @xmath527 ( but not both , as they are @xmath89-unrelated ) and @xmath528 thinks that @xmath525 is @xmath89-unrelated to @xmath526 and @xmath527 .",
    "to each edge @xmath516 , we can associate a number @xmath529 of the size of the @xmath89-class in @xmath528 to which @xmath524 thinks @xmath525 is @xmath89-related , namely @xmath530 if @xmath521 and @xmath531 if @xmath522 .",
    "call this @xmath532 . the reader should check that @xmath533 is connected ( one can get between any two configurations by pulling apart or adding on a single element to an @xmath89-class iteratively ) . since @xmath100 is an indiscernible picture",
    ", it induces a vertex @xmath534-coloring of @xmath533 , namely @xmath535 where @xmath536 if and only if , for some ( equivalently any ) realization @xmath537 ( with @xmath538 ) , @xmath539 .",
    "hence , @xmath540 and @xmath541 .",
    "in particular , @xmath542 is non - constant .",
    "now choose an edge @xmath516 such that      since @xmath533 is connected and @xmath542 is non - constant , such an edge exists .",
    "let @xmath273 witness that @xmath545 is an edge , without loss suppose @xmath521 ( the argument for @xmath522 is similar ) , and let @xmath546 . without loss of generality ,",
    "suppose @xmath547 and @xmath548 ( by possibly swapping @xmath549 and @xmath550 ) .",
    "notice that , by minimal choice of @xmath544 , we have in fact that , for all @xmath551 , if @xmath552 then @xmath553 ( otherwise , we could find a path from @xmath554 to @xmath528 maintaining this condition of equality , hence contradicting the minimality of @xmath252 ) .",
    "similarly , for all @xmath551 , if @xmath555 then @xmath556 .",
    "now , for some realization @xmath557 , let @xmath558 by ultrahomogeneity , there exists an embedding @xmath559 such that @xmath560 and each element of @xmath561 is @xmath562 unrelated to both @xmath563 and @xmath564 .",
    "we claim @xmath338 codes equivalence on @xmath490 , as desired .",
    "recall the general definition of dividing across , given in definition [ defn_divideacross ] . for the specific case of convex equivalence relation indiscernibles",
    ", we define dividing vertically .",
    "one could also define the corresponding notion of dividing laterally .",
    "let @xmath483 be a countable model , and let @xmath484 be an indiscernible picture .",
    "for a formula @xmath485 , we say that @xmath338 _ divides vertically across @xmath100 _ if there exists an indiscernible sequence @xmath186 on @xmath2 with @xmath575 such that @xmath576    fix @xmath577 .",
    "if @xmath338 codes equivalence on @xmath100 , then @xmath338 does not divide vertically across @xmath100 .",
    "this is because , for any finite set @xmath578 of pairwise @xmath562-unrelated elements , there exists an element @xmath579 such that @xmath580 and @xmath581 for all @xmath582 .",
    "therefore , @xmath583 for all @xmath582 . by compactness , for any @xmath584 of pairwise @xmath562-unrelated elements ,",
    "@xmath585 is consistent .      1 .",
    "@xmath167 is ntp2 .",
    "2 .   for every indiscernible @xmath86-picture @xmath475 , for every formula",
    "@xmath485 , if @xmath586 does not divide vertically across @xmath100 , then @xmath185 does not divide across @xmath100 .",
    "let @xmath475 be an indiscernible picture of @xmath483 and suppose @xmath577 is such that @xmath338 does not divide vertically across @xmath100 .",
    "suppose @xmath338 divides across @xmath100  that is , we have an indiscernible sequence @xmath186 in @xmath2 such that @xmath190 is inconsistent . without loss ,",
    "suppose @xmath587 for all @xmath588 .",
    "the only two possibilities for @xmath186 are then      since @xmath338 does not divide vertically across @xmath100 , the second case can not hold .",
    "therefore , the first case holds .",
    "however , by compactness , @xmath591 is inconsistent for some @xmath192 .",
    "since @xmath100 is an indiscernible picture , for any @xmath562-related @xmath578 with @xmath592 , @xmath593 is inconsistent .",
    "therefore , for any @xmath594 so that @xmath595 is isomorphic to @xmath596 ( where @xmath597 iff @xmath598 ) , we have that @xmath599 is a witness to the fact that @xmath185 has @xmath191-tp2 in @xmath167",
    ". therefore , @xmath167 has tp2 .",
    "this completes the proof of 1@xmath6002 .",
    "let @xmath606 be the expansion of @xmath117 ( the language of @xmath167 ) with one new sort for @xmath2 and a new function symbol @xmath607 , and let @xmath118 be the set of sentences of @xmath608 that includes the diagram @xmath609 of @xmath2 , the elementary diagram @xmath610 of a model @xmath611 containing @xmath217 , and the sentences , @xmath612 for all @xmath613 . using @xmath217 to verify finite - satisfiability ,",
    "it s clear that @xmath118 has a model , and from this model , we recover a picture @xmath614 ( as a restriction of the interpretation of @xmath615 ) such that @xmath616 for all @xmath613 . using @xmath211 to make an -template @xmath617 , and",
    "with the modeling property of @xmath86 , we obatin an indiscernible picture @xmath618 patterned on @xmath619  so also satisfying statements ( [ array : thing1],[array : thing2 ] ) with @xmath100 in place of @xmath211 . in particular , @xmath620 thus the indiscernible picture given by @xmath100 does not collapse to order .",
    "moreover , by compactness and , for any set of pairwise @xmath562-unrelated elements",
    "@xmath584 , @xmath621 is consistent .",
    "thus , @xmath338 does not divide vertically across @xmath100 . on the other hand , for any set of pairwise @xmath562-related elements @xmath584 ,",
    "@xmath621 is inconsistent .",
    "hence @xmath338 divides across @xmath100 .",
    "therefore , we get a dichotomy for theories with ntp2 : either @xmath100 collapses to order or there exists @xmath577 and an embedding @xmath559 such that @xmath338 codes equivalence on @xmath490 . hence @xmath338 does not divide vertically across @xmath490 .",
    "then , the theorem says that @xmath338 does not divide across @xmath490 . in summary :      1 .",
    "@xmath167 is ntp2 .",
    "2 .   for every indiscernible @xmath86-picture @xmath475 ,",
    "either @xmath100 is an indiscernible @xmath61-picture or , for every formula @xmath485 that does not divide vertically across @xmath100 , @xmath185 does not divide across @xmath100 .",
    "note that the first condition in ( 2 ) above that @xmath100 be an indiscernible @xmath61-picture is a special case of the second condition , that for every formula @xmath622 that does not divide vertically across @xmath100 , @xmath219 does not divide across @xmath100 .",
    "this is because if @xmath100 collapses to order , then the type of @xmath623 in @xmath194 is constant for @xmath491-increasing tuples @xmath93 from @xmath2 , and so there is no distinction between dividing vertically across @xmath100 and dividing across @xmath100 .",
    "also note that the first condition in ( 2 ) on its own would not be good enough to imply ( 1 ) from the corollary ; look at the case where @xmath194 is a big model of @xmath166 .",
    "we can argue that the theory is nip , because basic relations are nip , and therefore the theory is ntp2 .",
    "however , it will not be the case that every indiscernible @xmath166-picture is an indiscernible @xmath61-picture .",
    "consider the example where the identity @xmath624 is used to make the -template on which indiscernible @xmath625 is patterned .",
    "clearly @xmath100 will not be an indiscernible @xmath61-picture , as the equivalence relation is present .",
    "one way to think of the ( 1 ) @xmath239 ( 2 ) direction of the above corollary is that , in a tp2 theory , the specific formula witnessing non - collapse to order may not express a distinction between consistency and inconsistency for @xmath290-types , for some @xmath290 , as that would create a witness to tp2 .",
    "thus we have a partial notion of collapse : in tp2 theories and for indiscernible @xmath86-pictures @xmath100 , there is some restricted set of formulas @xmath626 such that if @xmath491-increasing @xmath627 give @xmath628 disagreeing on their complete type in @xmath194 , it must be disagreement on some @xmath549 from this restricted set ."
  ],
  "abstract_text": [
    "<S> we use the notion of collapse of generalized indiscernible sequences to classify various model theoretic dividing lines . </S>",
    "<S> in particular , we use collapse of @xmath0-multi - order indiscernibles to characterize op - dimension @xmath0 ; collapse of function - space indiscernibles ( i.e. parameterized equivalence relations ) to characterize rosy theories ; and finally , convex equivalence relation indiscernibles to characterize ntp2 theories . </S>"
  ]
}