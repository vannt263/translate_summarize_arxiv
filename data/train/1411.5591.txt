{
  "article_text": [
    "of mathematics are usually settled in one of these three context : set theory , type theory or category theory .",
    "+ on the categorical side there are two quite different approaches : one focuses on the category of all categories whereas the second relies on the notion of topos .",
    "topoi are well - behaved categories modelled on the key examples of the category of sets and the categories of sheaves over a topological space , they can be conceived as categories of continuously variable sets .",
    "type theory is certainly the less known of these three outside the circle of logicians , for this reason we briefly sketch some of its features .",
    "+ type theories were introduced the first time by russell and whitehead in the celebrated _ principia mathematica _ as a way to overtake the paradoxes .",
    "self - reference is avoided imposing a stratification : atoms can be only elements of sets , sets can be only elements of `` sets of sets '' , and so on ; the type of a term , being the level of the stratification in which it takes place .",
    "contemporary type theories have some differences but they share the characterising tract to require every element to have a fixed type .",
    "moreover , types can be conceived as intensional sets .",
    "+ one of the most important features of type theory is the so - called _ curry - howard isomorphism _ ( although it is not an isomorphism ) , sometimes referred as the _ propositions - as - types _ paradigm .",
    "the underlying idea is that propositions are identified with the type of their proofs , conversely a term in a type is sometimes called a proof of this type .",
    "this symmetry extends to the logical connectives @xmath0 , @xmath1 , @xmath2 which correspond respectively to the type - theoretic product , the sum and the function type .",
    "moreover , normalisation theorems for proofs correspond to normalisation theorems for terms .",
    "+ the kind of theory of our interest is martin - lf type theory with intensional identity types , it is an intuitionistic type theory that formalizes dependencies i.e. families of types parametrised by a `` base type '' .",
    "some constructors are available : products , sums , well - founded trees , which produce a type from a family of types .",
    "moreover , types for the natural numbers and for finite sets are available and usually also a universe type is added .",
    "we will focus on tarski universes that are universes of names for small types , together with a constructor function which builds the small types from the names .",
    "one of the motivations for the development of martin - lf type theory was to extend the propositions - as - types correspondence to intuitionistic predicate logic , so that dependent products and dependent sums correspond respectively to universal and existential quantification .",
    "finally , the most distinctive feature of martin - lf type theory is its rich treatment of equality ; indeed , two kinds of equality are available , a _ definitional equality _ , that is a syntactical equality between terms , and a _ propositional equality _ that is the type corresponding to an equality in first order logic under the curry - howard isomorphism .",
    "moreover , the version of martin - lf type theory that will be discussed in this thesis has intensional identity types , where two terms can be equal in ( intensionally ) different ways accordingly to different proofs of their equality .",
    "one of the best successes of homotopy type theory is to give an homotopical interpretation of identity types .",
    "now we return to the three ways to approach foundations ; we will focus only on topoi on the categorical side ( for the reader interested in the formalisation of the category of all categories we refer to @xcite ) , so that we have a correspondence between topos theory , a kind of intuitionistic set theory and on the type - theoretic side , intuitionistic higher order logic , as in the following diagram :    @xmath3 \\ar@{<->}[rd]\\\\ & \\mbox{topoi } \\ar@{<->}[rr ] & & \\mbox{types } } \\ ] ]    for example , starting from set theory we can build the category of sets which is a topos",
    ". moreover , every topos has an internal language which allows to interpret type theory inside it . for more details about this tripos",
    "see @xcite .",
    "+ the content of this thesis can be seen as a path in a similar tripos that we shall sketch : the constituents are simplicial sets , homotopy type theory with a weak tarski universe and aczel s constructive set theory ( or constructive zermelo - fraenkel , czf for short ) .",
    "a remarkable example of topos is the one given by the category of simplicial sets .",
    "the idea behind singular homology is to describe the topology of a space using the algebraic structure of the singular simplices inside it .",
    "simplicial sets are an abstract combinatorial generalisation of euclidean simplicial complexes in which for each dimension a set of n - faces is provided , together with degeneracy and face maps that describe the structure of the complex : which faces are glued and which vertices are collapsed .",
    "this sequence of sets can be organised in a functor describing simplicial sets as a presheaf category .",
    "+ the simplicial set given by two vertices linked by a 1-face is the simplicial interval , which allows to define homotopies between simplicial maps , and to develop a theory of homotopy for simplicial sets",
    ". a careful analysis of the common features shared by topological and simplicial homotopy theory yields to the definition of model structure on a category that is an abstract playground for homotopy even in absence of an interval .",
    "a model structure consists in three distinguished classes of maps modelled on ( topological ) weak equivalences , serre fibrations and cofibration .",
    "we will see that identity types of martin - lf type theory , can be interpreted categorically using model structures .    the history of the interplay between type theory and homotopy begun with the groupoid interpretation of martin - lf type theory by hofmann and streicher @xcite in which identity types are interpreted as the @xmath4-sets of isomorphisms between two objects .",
    "+ the basic ideas about homotopy type theory were developed in independent work by awodey and warren @xcite and by voevodsky @xcite around 2006 .",
    "homotopy type theory can be synthetically described as martin - lf type theory with some further axioms and rules added , namely , the univalence axiom , some axioms needed to describe identity types of dependent products and possibly higher inductive types . the expression `` homotopy type theory '' , should be thought as a family of theories , as we usually refer to set theory .",
    "however , in order to simplify the exposition we will omit higher inductive types , which are also excluded from the presentation of the core theory given in @xcite . + the most important aspect of homotopy type theory is the _ univalence axiom _ ; in presence of a universe it can be stated as follows : under the curry - howard isomorphism we can form the types of identity and equivalence of any two small types , identical types are also equivalent so that there is a canonical map from the identity type to the equivalence one . the univalence axiom states that this map is itself an equivalence .",
    "it allows to obtain a proof of identity from a proof of equivalence , identifying equivalent objects , as it is done everyday in mathematical practice .",
    "+ more conceptually , the univalence axiom can be restated as a rule expressing the principle of _ indiscernibility of equivalents_. + this thesis will not deal with higher categories ( categories with objects , morphisms , morphisms between morphisms and so on where the associativity and unit conditions hold up to higher isomorphisms ) , but we need to mention these structures in order to properly contextualise it , providing motivations for the study of homotopy type theory . in fact",
    "model categories present a specific kind of @xmath5-categories in which all @xmath6-morphisms for @xmath7 are invertible , called @xmath8-categories .",
    "the generalisations of the notion of topos to the higher setting is still an open field of study , but it is conjectured that a good notion of @xmath8-topos should have some kind of homotopy type theory as internal language ( see @xcite and @xcite ) .",
    "+ hopefully , homotopy type theory can give some contribution to the long - standing open problem of the calculation of homotopy groups of sphere , in fact some classical calculations were already performed synthetically in homotopy type theory .    before talking about czf",
    "we need to briefly introduce predicativism : it is a flavour of constructivism , that does not allow the kind of circular arguments that provide the existence of an element quantifying over a totality to which this element belongs .",
    "a typical example is the definition of supremum as the least upper bound of a set of real numbers .",
    "+ czf is a predicative version of zf where the underlying logic is intuitionistic .",
    "the axioms of zf incompatible with predicative principles that are separation , powerset and foundation , are weakened . as a compensation ,",
    "some other axioms are strengthened in order to make them working predicatively .",
    "+ in the series of three articles @xcite @xcite and @xcite aczel developed the type - theoretic interpretation of constructive set theory building a model of czf from martin - lf type theory with extensional identity types as a justification of czf from the already established type - theoretic setting , and used it to justify some further axioms like choice principles and axioms for predicative inductive definitions ( namely the _",
    "regular extension axiom _ ) .",
    "we can finally see how the work of this thesis fits in the tripos : we take motivations from the model category of simplicial sets in order to justify the introduction of weak tarski universes and then construct a model of czf with dependent choices and the regular extension axiom from homotopy type theory with a weak universe .",
    "@xmath9\\\\ & \\mbox{sset } \\ar[rr ] & & \\mbox{hott + weak universe } } \\ ] ]      the first two chapters are devoted to algebraic topology , the former will deal with the basics of simplicial sets , presented without the language of model categories which are introduced in the second chapter , the definitions being motivated by the theory developed in first one .",
    "+ the third chapter provides an introduction to martin - lf type theory and to homotopy type theory .",
    "+ the fourth chapter , following the article @xcite , sketches the proof of the interpretation of type theory in the model category of simplicial sets , in particular of the univalence axiom .",
    "we will refer to the article for the many technical proofs involved , especially for the coherence issues needed to interpret the type - theoretic substitution .",
    "+ the fifth chapter presents czf and develops some basic constructions needed in the sequel .",
    "+ finally the last chapter contains the proof of the generalised type - theoretic interpretation . in this chapter ,",
    "proofs are given in detail .",
    "+ a recall of the basics of locally cartesian closed categories is confined in the appendix .",
    "+ in the chapters regarding simplicial sets ( namely , the first two and the fourth ) we will use freely the excluded middle , the axiom of choice and impredicative definitions . in the fourth chapter when dealing with the interpretation of type theory in simplicial sets we will assume the existence of two inaccessible cardinals .",
    "we assume the reader familiar with category theory , in particular the language of limits , colimits and adjunctions , with the basics of algebraic topology namely singular homology , higher homotopy groups of spaces , the long exact sequence of a fibration and the like . on the logical side",
    "we assume familiarity with intuitionism and constructivism , in particular some knowledge about natural deduction for intuitionistic logic ; for set theory just little familiarity with zermelo - fraenkel set theory is needed .",
    "we have tried to keep prerequisites to a minimum .",
    "+ for the reader in need to fill some gaps we suggest @xcite for category theory , and @xcite , @xcite , @xcite for algebraic topology , these three references has increasing categorical flavour . + finally , we mention @xcite for the logical prerequisites ( for its high readability and conceptual insights @xcite is warmly suggested to the italian reader ) .",
    "i am very grateful to prof .",
    "ieke moerdijk for the time he has spent following my work and for the idea he gave me to study homotopy type theory with a weakening of the notion of universe .",
    "+ i am in debt with prof .",
    "anna barbara veit for her wise suggestions and all the support and guidance during these years starting from my bachelor thesis .",
    "+ i also thank giovanni caviglia and urs schreiber for helpful discussions , benno van den berg for clearing my doubts about categorical interpretations of type theory , paolo salvatore for useful corrections and mike shulman for suggesting me the right definition of weak tarski universe .",
    "+ the stay at radboud universiteit nijmegen was partially funded by the international thesis scholarship granted by the university of rome 2 `` tor vergata '' .",
    "simplicial set is an abstract generalisation of geometrical simplices which are a standard tool in basic algebraic topology .",
    "simplicial sets turn out to be combinatorial models of nice topological spaces , encoding their homotopic structure and allowing explicit calculations .",
    "+ the theory of simplicial sets also provides an abstract playground for homotopy theory and allows to detect some common features with the classical theory of homotopy for topological spaces . a convenient axiomatisation yields to the definition of model categories , which are the usual setting for abstract homotopy theory .",
    "+ in the first two chapters we will use the axiom of choice , its main consequence is the existence theorem for minimal fibrations .",
    "+ the main source for the first two chapters is @xcite integrated with parts from @xcite and from these notes on simplicial homotopy theory @xcite .",
    "we now start with some basic definitions ; the abstract definition of simplicial sets can obscure at first the geometrical intuition of these objects .",
    "+ the intuition behind the formalism is that a simplicial set is a graded set whose elements of degree @xmath10 are @xmath10-simplices that can be glued along common boundaries .",
    "simplices of arbitrary dimension are allowed as well as degenerated simplices obtained collapsing some vertices .",
    "+ recall that the singular complex of a topological space is defined as @xmath11 , where @xmath12 is the standard euclidean @xmath10-simplex in @xmath13 , with face and degeneracy maps satisfying the simplicial identities .",
    "+ we want to express concisely this idea and have a similar description of a simplicial set in terms of maps from a `` standard simplex '' .",
    "recall that the statement of yoneda lemma have this structure : @xmath14 , hence we may choose to define simplicial sets as functors from an appropriate base category , morphisms as natural transformations and a `` standard @xmath10-simplex '' as an @xmath4-functor .",
    "so we start defining the base category , :    1 .    2 .",
    "the * simplicial category * , written @xmath15 , is the the category of finite ordinals and nondecreasing maps .",
    "we will denote its objects as @xmath16 $ ] .",
    "3 .   we will write @xmath17 \\to [ n]$ ] for the injective map which omits the value @xmath18 .",
    "4 .   we will write @xmath19 \\to [ n]$ ] for the surjective map which takes twice the value @xmath18 .",
    "[ decomposizione ]    1 .    2 .",
    "it is easy to check that these maps satisfy the so called _ cosimplicial identities _",
    "@xmath20 if @xmath21 + @xmath22 if @xmath23 + @xmath24 } \\quad \\ ; \\mbox { if } i = j \\ ;",
    "\\mbox { or } i = j+1\\\\ \\partial^{i-1 } \\sigma^{j } \\quad \\mbox { if } i > j+1\\\\ \\end{cases}$ ] 3 .",
    "it is straightforward to check that every nondecreasing map @xmath25 \\to [ n]$ ] can be written in a unique way as @xmath26 with @xmath27 , @xmath28 and @xmath29 .",
    "4 .   by the previous remarks",
    "@xmath15 can be identified with the category generated by the objects @xmath16 $ ] , the arrows @xmath30 and the cosimplicial identities . 5 .",
    "note that the epimorphisms are exactly the surjections , and that the monomorphisms are exactly the injections .",
    "hence , every epi is a split epi and every monic is a split monic .    1",
    "a * simplicial set * is an object in the functor category @xmath31 .",
    "+ similarly , a * simplicial object * in a category @xmath32 is an object in the functor category @xmath33 .",
    "+ a * cosimplicial object * is an object in the functor category @xmath34 .",
    "+ a * simplicial map * is a natural transformation in the appropriate functor category .",
    "the category of simplicial sets is written as @xmath35 .",
    "an @xmath10-*simplex * is an element @xmath36 $ ] .",
    "the * face maps * of a simplicial set @xmath37 are defined as @xmath38 .",
    "the * degeneracy maps * of a simplicial set @xmath37 are defined as @xmath39 .",
    "a * subsimplicial set * @xmath40 of a given simplicial set @xmath37 is a subfunctor of @xmath37 , i.e. a functor such that for each @xmath16 \\in \\delta$ ] we have @xmath41 \\subseteq x[n]$ ] , and for each map @xmath25 \\to [ n]$ ] that @xmath42 is a restriction of @xmath43 .",
    "the face and degeneracy maps of a simplicial set satisfy the _",
    "simplicial identities _ which are the dual of the previous stated identities .",
    "a simplicial set can be equivalently described as a sequence of sets @xmath44 with face and degeneracy maps satisfying the simplicial identities ; these maps are the abstract data encoding the structure of the simplicial set , telling us which simplices are faces of the others , which simplices are glued together and so on .",
    "+ note that the category of simplicial sets is complete and cocomplete , with limits and colimits calculated pointwise , as all presheaf categories .",
    "any element @xmath45 is called a * vertex*. 3 .   any image of a simplex @xmath46 under a face map is called a * face*. 4 .   similarly , any image of a simplex under a degeneracy map is called a * degeneracy*. 5",
    "a * nondegenerate simplex * @xmath46 is a simplex which is a degeneracy only of itself . + a * degenerate simplex * is a simplex which is not nondegenerate .",
    "a simplicial set is * finite * iff it has only a finite number of nondegenerate simplices .",
    "now we provide some examples of common simplicial sets and give a description of simplices in term of maps from a standard simplex :    the * standard @xmath10-simplex * is defined to be the complex @xmath47 \\mapsto \\delta([p],[n])$ ] and it is written @xmath48 $ ] .    geometrically , the interior of the standard @xmath10-simplex is represented by the identity map @xmath49 \\to [ n]$ ] , the faces are represented by the face maps @xmath50 \\to [ n]$ ] , and nondegenerate simplices are represented by injective monotone maps . therefore , the intuition of the standard simplex is just an the abstract combinatorial structure of the usual euclidean standard simplex .",
    "the * boundary * of the standard @xmath10-simplex , written @xmath51 $ ] , has nondegenerate @xmath52-simplices the non - identity injective monotone maps @xmath53 \\to [ n]$ ] .",
    "3 .   given a @xmath6 with @xmath54 the @xmath6-*horn * @xmath55 $ ] has non - degenerate @xmath52-simplices all injective order - preserving maps @xmath56 \\to [ n]$ ] except the identity and the injective order - preserving maps @xmath57 \\to [ n]$ ] whose image does not contain @xmath6 .",
    "the * simplicial circle * is the coequalizer of the pair of morphisms @xmath58 \\to \\delta[1]$ ] .",
    "the non - degenerate simplices of the boundary @xmath51 $ ] are exactly the ones of the standard @xmath10-simplex except the interior represented by the identity . + whereas the horn can be thought as obtained by the standard simplex omitting the interior and the face opposed to the @xmath6-th vertex .",
    "+    a * singular simplex * of a simplicial set @xmath37 is a simplicial map @xmath48 \\to x$ ] .",
    "+ the * category of simplices * of a given simplicial set @xmath59 is just the category of singular simplices and natural transformations between them .",
    "we write it as @xmath60 .    by the yoneda lemma we have the isomorphism @xmath61 , k ) \\cong k_n$ ] ; so simplices @xmath62 correspond to singular simplices , accordingly to our initial example of the singular complex of a topological space .    given a simplicial set @xmath59",
    ", it is the colimit of the functor @xmath63 which takes the singular simplex @xmath64 \\to k$ ] to @xmath48 $ ] itself .",
    "it is an immediate corollary of the well - known fact that every presheaf is canonically a colimit of representable functors .",
    "let @xmath32 be a category with small colimits , then the copresheaf category @xmath65 is equivalent to the category of adjunctions @xmath66 .",
    "we denote the image of a simplicial object @xmath67 under this equivalence by @xmath68 .",
    "start with an adjunction @xmath69 , and let consider the functor @xmath70 which takes @xmath16 $ ] to @xmath48 $ ] , then we can consider the composite @xmath71 .",
    "this defines a functor from adjunctions to copresheaves .",
    "+ conversely , given a cosimplicial object @xmath59 , there is a functor @xmath72 which takes a singular simplex @xmath64 \\to k$ ] to @xmath16 $ ] .",
    "we then have the corresponding restriction functor @xmath73 and the usual colimit functor @xmath74",
    ". then we define @xmath75 to be the image of @xmath67 under this composite functor .",
    "since a map of cosimplicial sets induces a functor @xmath76 this assignment actually defines a functor .",
    "+ the cosimplicial set @xmath77 is defined to have @xmath10-simplices @xmath78,y)$ ] , and the adjointness isomorphism is the composite @xmath79,y )   \\cong \\mbox{lim } \\mathcal c ( a[n],y ) \\cong \\mbox{lim } \\textbf{sset}(\\delta[n ] , \\mathcal c(a , y ) ) \\cong\\ ] ] @xmath80 , \\mathcal c(a , y ) ) \\cong \\textbf{sset}(k , \\mathcal c ( a , y))\\ ] ] since the identity map of @xmath48 $ ] is cofinal in the category @xmath81 $ ] , we get an isomorphism @xmath82 \\cong a[n]$ ] .",
    "conversely , if @xmath83 preserves limits , then there is a natural isomorphism @xmath84 ) \\otimes k \\cong fk$ ] .    1 .    2 .   by the previous theorem each functor @xmath85 gives rise to a functor @xmath86 , which in turn gives a bifunctor @xmath87 .",
    "we have an obvious functor @xmath88 that takes a simplicial set @xmath59 to the cosimplicial simplicial set @xmath89 $ ] . under the correspondence of the previous point",
    "we get the associated bifunctor which is simply the product on @xmath35 , since the product commutes with colimits .",
    "the functor @xmath90 has a right adjoint like all other presheaf categories with its usual description : @xmath10-simplices of @xmath91 are simplicial maps",
    "@xmath92 \\to l$ ] .",
    "now we recall the definition and the basic properties of a kind of convenient topological spaces that will be useful in the study of the topological spaces associated to a simplicial sets .    a * kelley space * @xmath37 is an hausdorff topological space such that a subset @xmath93 is closed whenever its intersection with each compact subset of @xmath37 is closed .",
    "we will write @xmath94 for the full subcategory of kelley spaces",
    ".    given an hausdorff topological space @xmath40 we can the associated topological space @xmath95 with the same underlying set , whose closed sets are the ones whose intersection with all compact subset of @xmath40 is closed in @xmath40 .",
    "@xmath95 is called the * kelleyfication * of the hausdorff space @xmath40 .",
    "the category of kelley spaces is a full coreflective subcategory of the category of hausdorff spaces .",
    "moreover , it is complete , cocomplete and cartesian closed with internal @xmath96 given by the kelleyfication of the @xmath4-space with the compact open topology .",
    "see chapter vii.8 in @xcite .",
    "note that we have a cosimplicial topological space @xmath97|$ ] . by the previous theorem it gives rise to an adjunction @xmath98 .",
    "@xmath99 is a left adjoint , therefore it preserves colimits .",
    "+ since @xmath100|$ ] is a compact hausdorff space and the category of kelley spaces @xmath94 is closed under colimits the functor @xmath101 takes values in @xmath94 .",
    "we call * geometric realisation * the functor @xmath102 defined in the previous remark . + its right adjoint @xmath103",
    "is called the * singular functor*. + we will give the same names for the functors @xmath104 and @xmath105 where we restrict to kelley spaces .    in order to help the reader to develop some intuition about simplicial sets we state the following :    the geometric realisation of a simplicial set is a cw - complex .    see section 1.3 in @xcite .",
    "the geometric realisation @xmath104 preserves finite products .",
    "since the product functor is a left adjoint it preserves colimits , therefore it suffices to show that the canonical map @xmath106 \\times \\delta[n ] | \\to |\\delta[m]| \\times | \\delta[n ] |$ ] is a homeomorphism .",
    "we will prove that the domain and the codomain are compact hausdorff spaces , hence it will suffice to show that this map is a bijection .",
    "+ we start with some combinatorial preliminaries studying the nondegenerate simplices of @xmath107 \\times \\delta[n]$ ] ; a @xmath108-simplex of this simplicial set is the same thing as a monotone map @xmath47 \\to [ m ] \\times [ n]$ ] , with the order in the codomain given by @xmath109 iff @xmath110 and @xmath111 .",
    "a nondegenerate @xmath108-simplex is an injective map @xmath47 \\to [ m ] \\times [ n]$ ] , then it can be thought as a chain in this ordered set .",
    "+ any chain can be extended to a maximal chain , and therefore any simplex in @xmath107 \\times \\delta[n]$ ] is a face of a nondegenerate @xmath112-simplex .",
    "such a maximal chain is a path in the ordered set @xmath113 \\times [ n]$ ] from @xmath114 to @xmath115 which goes only right or up .",
    "we can conveniently label the vertices of the rectangle @xmath113 \\times [ n]$ ] moving from left to right and then bottom up row by row . in this way we can label the maximal chains as @xmath116-subsets of @xmath117 ; of which there are @xmath118 .",
    "+ now , let @xmath119 for @xmath120 be the list of maximal chains of the rectangle @xmath113 \\times [ n]$ ] . given any chain @xmath121 ,",
    "let @xmath122 be the number of edges in @xmath121",
    ". from what we have said before is easy to check that the following is a coequalizer diagram :    @xmath123 \\rightrightarrows   \\coprod_{1 \\leq",
    "i \\leq { m+n \\choose m } } \\delta[n_{c(i ) } ] \\to \\delta[m ] \\times \\delta[n]\\ ] ]    where @xmath124 and @xmath125 are induced by the inclusions @xmath126 and @xmath127 , respectively .",
    "standard simplices are compact hausdorff , and since the geometric realisation commutes with coequalizers we get that @xmath128 \\times \\delta[n]|$ ] is a compact hausdorff space as well . +",
    "we now describe the maps @xmath129| \\to |\\delta[m]| \\times |\\delta[n]|$ ] , defined by the composite @xmath130 | \\to |\\delta[m ] \\times \\delta[n]| \\to |\\delta[m]| \\times |\\delta[n]|$ ] .",
    "we denote a point in @xmath131|$ ] as @xmath132 where @xmath133 and @xmath134 .",
    "suppose @xmath119 corresponds to the @xmath116-subset @xmath135 of @xmath136 whose complement is @xmath137 .",
    "we write @xmath138 , then @xmath139| \\times |\\delta[n]|$ ] where @xmath140 and @xmath141 .",
    "now it is easy to check that @xmath142 is injective .",
    "+ given a point @xmath143| \\times |\\delta[n]|$ ] we must find a chain @xmath119 and a point in @xmath130|$ ] whose image under @xmath142 is @xmath144 .",
    "we must also show that different choices of @xmath119 are related by a coequalizer diagram describing @xmath107 \\times \\delta[n]$ ] .",
    "+ to find @xmath119 we let @xmath145 and @xmath146 .",
    "we then write the set of @xmath147 and @xmath148 in descending order @xmath149 .",
    "each @xmath148 must be some @xmath150 .",
    "the set of the @xmath151 is an @xmath116-subset of @xmath152 so corresponds to a maximal chain @xmath119 .",
    "now let @xmath153 , where @xmath154 .",
    "then @xmath155 as required .",
    "it is not difficult to check that the ambiguity in the choice of @xmath119 corresponds exactly to points in @xmath156|$ ] .",
    "the geometric realisation @xmath104 preserves finite limits .",
    "it is sufficient to show that it preserves equalizers , for the details see lemma 3.2.4 in @xcite .",
    "a map @xmath157 of simplicial sets is a * weak equivalence * iff @xmath158 is a weak equivalence of topological spaces i.e. it induces isomorphisms of all homotopy groups .",
    "now we introduce the basic ingredients for the homotopy theory of simplicial sets that are anodyne extensions and kan fibrations .",
    "usually , the latter are easy to introduce using lifting properties , but also the former are often defined using lifting properties with respect to kan fibrations .",
    "this definition has the advantage of being quick , but it is not transparent at first sight , nor explicit .",
    "for that reason we prefer a slightly more explicit one .    given a morphism @xmath159 a morphism @xmath160 is a * retract * of @xmath124 iff it fits in a diagram    @xmath161^{u } \\ar[d]^{g }   & y   \\ar[d]^{f } \\ar[r]^{v }   & x   \\ar[d]^{g } \\\\ & x ' \\ar[r]^{u ' } & y ' \\ar[r]^{v ' } & x ' } \\ ] ]    such that @xmath162 and @xmath163 .",
    "a set @xmath67 of morphisms of simplicial sets is * saturated * iff    1 .",
    "it contains all isomorphisms ; 2 .",
    "it is stable under pushouts ; 3 .",
    "it is stable under retracts ; 4 .",
    "it is stable under countable compositions , i.e. if @xmath164 are morphisms in @xmath67 , then the canonical map @xmath165 is a morphism in @xmath67 ; 5 .",
    "it is stable under arbitrary direct sums .",
    "the intersection of all saturated sets contained in a given set of morphisms @xmath166 is called the * saturated set generated by @xmath166*.    the elements of the saturated set generated by all horn inclusions @xmath55",
    "\\hookrightarrow \\delta[n]$ ] with @xmath167 and @xmath168 are called * anodyne extensions*.    given a map @xmath169 and a map @xmath170 we say that @xmath18 has the * left lifting property * ( llp for short ) with respect to @xmath108 or that @xmath108 has the * right lifting property * ( rlp for short ) with respect to @xmath18 iff for every commutative square of the form :    @xmath171^{u } \\ar[d]_{i }   & e   \\ar[d]^{p } \\\\ &",
    "l \\ar[r]_{v } \\ar@{-->}[ru]^{w } & b   } \\ ] ]    there is an arrow @xmath172 such that @xmath173 and @xmath174 .",
    "a map @xmath175 of simplicial sets is a * kan fibration * or simply a fibration iff it has the right lifting property with respect to all anodyne extensions .",
    "a simplicial set @xmath37 is called a * kan complex * or a * fibrant object * iff the unique map @xmath176 is a kan fibration .",
    "kan fibrations satisfy the closure conditions dual to the ones of a saturated class .",
    "+ namely , every isomorphism is a fibration , they are stable under pullbacks , retracts and arbitrary products . moreover ,",
    "if @xmath177 are fibrations , the canonical projection @xmath178 is a fibration .",
    "the following theorem provides examples of kan fibrations .",
    "[ moore ] every simplicial group is a kan complex    see theorem 3.1.3 in @xcite .",
    "we state now a useful result .",
    "[ fibrefibration ] the fibres of a fibration over a connected base have the same homotopy type .",
    "see corollary 5.4.2 in @xcite .",
    "the elements of the saturated set generated by all boundary inclusions",
    "@xmath51 \\hookrightarrow \\delta[n]$ ] are called * cofibration*. + a simplicial set @xmath37 is * cofibrant * iff the unique map @xmath179 is a cofibration .    a map is a cofibration in @xmath35 iff it is a monomorphism .",
    "in particular every simplicial set is cofibrant .",
    "recall that the monomorphisms are exactly the injective maps .",
    "since boundary inclusions are injective and injective maps are closed under pushouts , countable compositions , coproducts and retracts we have that every cofibration is a monomorphism .",
    "+ conversely , given @xmath180 a monomorphism we prove that it is countable composition of pushouts of coproducts of boundary inclusions . by induction , define @xmath181 and having defined @xmath182 and an injection @xmath183 which is an isomorphism on simplices of dimension less than @xmath10 .",
    "then let @xmath184 denote the set of simplices not in the image of @xmath182 .",
    "each such simplex @xmath185 is necessarily nondegenerate and corresponds to a map @xmath48 \\to l $ ] . notice that the restriction of @xmath185 to the boundary factors uniquely through @xmath182 .",
    "define @xmath186 to be the pushout in the diagram :    @xmath187   \\ar[r ] \\ar[d ] & x_n   \\ar[d]^{p } \\\\",
    "& \\coprod_s \\delta[n ] \\ar[r ] & x_{n+1 } } \\ ] ]    then the inclusion @xmath183 extends to a map @xmath188 , which is the desired map .    the reader may ask why we have introduced a notion and proved immediately after that it is equivalent to a previous one .",
    "the reason is that cofibrations will give an essential part of the definition of model category , which we shall see in the next chapter .",
    "next we give another useful description of anodyne extensions .",
    "put @xmath189 to be the class of horn inclusions used in the definition of anodyne extension .",
    "let @xmath190 be the class of all inclusions of the form : @xmath191 \\times \\partial \\delta[n ] + \\ { e \\ } \\times \\delta[n ] \\hookrightarrow \\delta[1 ] \\times \\delta[n]\\ ] ] where @xmath192 and @xmath193 is another symbol for the coproduct .",
    "finally , let @xmath194 be the class of the more general inclusions : @xmath191 \\times y + \\ { e \\ } \\times x \\hookrightarrow \\delta[1 ] \\times x\\ ] ] where @xmath37 runs through all simplicial sets and @xmath40 through the subcomplexes of @xmath37 .",
    "the saturated sets generated by @xmath189 , @xmath190 and @xmath194 coincide .",
    "it proceeds reducing each class to the previous one .",
    "see section 2 , chapter iv in @xcite .    given two maps @xmath195 and @xmath170 , the induced map : @xmath196 is called the * pushout product * of the two maps .",
    "+ the object @xmath197 is also called pushout product .    given two monomorphisms @xmath198 and @xmath195 such that the first is an anodyne extension .",
    "then the map @xmath199 is an anodyne extension .",
    "let @xmath67 be the set of monomorphisms @xmath200 such that the induced morphism on the pushout product @xmath201 is an anodyne extension .",
    "it is easy to prove that @xmath67 is a saturated set , so that it is sufficient to check that @xmath67 contains @xmath194 .",
    "let then @xmath202 be a monomorphism , and let @xmath203 \\times y '   \\coprod \\ , \\ { e \\ } \\times x'$ ] and @xmath204 \\times x$ ] .",
    "we then have @xmath205 \\times ( y ' \\times x \\coprod x ' \\times y ) \\coprod \\ ; \\ { e \\}\\times x ' \\times x$ ] and @xmath206\\times x ' \\times x$ ] . so that the inclusion of @xmath207 into @xmath208 belongs to @xmath194 and that the inclusion of @xmath59 into @xmath209 belongs to @xmath67 .",
    "[ homfib ] if @xmath198 is a monomorphism and @xmath210 a kan fibration .",
    "then the induced map @xmath211 is a fibration .",
    "straightforward from the previous theorem , recalling that kan fibrations are defined using a lifting property in terms of anodyne extensions .",
    "[ factor ] any simplicial map can be factored as an anodyne extension followed by a fibration . moreover , the factorisation is functorial .",
    "consider the set @xmath209 of commutative diagrams of the form : @xmath212    \\ar[r ] \\ar[d ] & x   \\ar[d]^{f } \\\\ & \\delta[n ] \\ar[r ] & y } \\ ] ] and we sum over the set @xmath209 and form the pushout obtaining an anodyne extension @xmath18 :    @xmath213   \\ar[r ] \\ar[d]^{i } & x   \\ar[d]^{i^0 } \\\\ & \\coprod_l \\delta[n ] \\ar[r ] & x^1 } \\ ] ] so that we have the commutative diagram : @xmath214^{i^0 } \\ar[dr]^{f } & & x^1   \\ar[dl]_{f^1 } \\\\ &   & y & } \\ ] ] we apply the same process , now to @xmath215 obtaining @xmath216 and so on .",
    "finally , we put @xmath217 and define @xmath218 as the map induced by the @xmath219 .",
    "hence we have a factorisation @xmath220 where @xmath18 is anodyne , we have to check that @xmath108 is a fibration , so consider a commutative diagram : @xmath212    \\ar[r]^{h } \\ar[d ] & e   \\ar[d]^{p } \\\\ & \\delta[n ] \\ar[r ] & y } \\ ] ] and try to lift it . since @xmath55 $ ] has only finitely many non - degenerate simplices , @xmath221 factors through some @xmath222 ,",
    "but then we have a lifting in @xmath223 , and hence a diagonal filler in the starting square .",
    "+ note that functoriality follows by construction .",
    "a map @xmath18 is anodyne iff it has the left lifting property with respect to fibrations    factor @xmath18 as @xmath224 where @xmath225 in an anodyne extension and @xmath108 a fibration .",
    "since @xmath18 has the left lifting property with respect to @xmath108 we can find a diagonal filler : @xmath226^{j } \\ar[d]^{i } & e   \\ar[d]^{p } \\\\ & b \\ar@{=}[r ] \\ar@{-->}[ur]^{k } & b } \\ ] ] hence @xmath18 is a retract of @xmath225 , so an anodyne extension as well .",
    "a fibration @xmath227 is a * locally trivial * or a * fibre bundle * iff for every simplex @xmath228 \\to y$ ] of @xmath40 , the pullback fibration @xmath229 \\times_{y } x \\to \\delta[n]$ ] is isomorphic over @xmath48 $ ] to a product fibration @xmath230 \\times f \\to \\delta[n]$ ]",
    ".      given two maps of simplicial sets @xmath231 we say that a * homotopy * between them is a simplicial map @xmath232 \\times x \\to y$ ] such that @xmath233 and @xmath234 for all @xmath235 .    observe that by the definition of the @xmath4-complex a homotopy between two maps @xmath124 and @xmath125 can be equivalently described as @xmath236-simplex @xmath221 connecting the two vertices @xmath124 and @xmath125 i.e. @xmath237 and @xmath238 .",
    "hence we give the following more general definition .    given a simplicial set and @xmath239 two vertices , we say that @xmath235 is * homotopic * to @xmath240 , written @xmath241 iff there is a @xmath236-simplex @xmath242 such that @xmath243 and @xmath244 .    unfortunately ,",
    "as we shall see in the sequel , this relation is not an equivalence relation for arbitrary simplicial sets .",
    "however , we have the following result .",
    "if @xmath37 is a kan complex , then the homotopy of vertices is an equivalence relation .",
    "it is obviously reflexive , since if @xmath245 we have @xmath246 .",
    "if @xmath241 , we have a @xmath236-simplex @xmath247 connecting the two vertices . then we get a map @xmath248 \\to x$ ] which is @xmath249 on @xmath250 and @xmath247 on @xmath251 . because @xmath37 is fibrant , there is an extension of @xmath124 to a @xmath252-simplex @xmath253",
    ". then @xmath254 is the required homotopy from @xmath240 to @xmath235 . finally , for the transitivity suppose @xmath241 and @xmath255 , so that we have @xmath236-simplices @xmath256 and @xmath257 connecting respectively @xmath235 to @xmath240 , and @xmath240 to @xmath247 .",
    "then @xmath256 and @xmath257 define a map @xmath258 \\to x$ ] which is @xmath256 on @xmath251 and @xmath257 on @xmath259 . since @xmath37 is fibrant we can extend @xmath124 to a @xmath252-simplex @xmath260 .",
    "then @xmath261 is the required homotopy .    given a fibrant simplicial set @xmath37 and @xmath45 a vertex , the * @xmath10-th homotopy group * written @xmath262 is the set of equivalence classes of singular simplices",
    "@xmath263 \\to x$ ] that send @xmath51 $ ] to @xmath264 , under the equivalence relation defined by @xmath265 iff there is a homotopy @xmath266 \\times \\delta[n ] \\to x$ ] such that @xmath267 is @xmath268 on @xmath269 $ ] , @xmath270 on @xmath271 $ ] and is the constant map @xmath264 on @xmath272 \\times \\partial \\delta[n]$ ] .",
    "after this definition the reader may ask if the notion of weak equivalence can be equivalently defined requiring that the map induces isomorphisms in all simplicial homotopy groups .    using the fibrancy of @xmath37",
    "it can be shown that @xmath273 is an equivalence relation .",
    "+ given a map @xmath274 there is as usual an induced map @xmath275 , making @xmath276 functorial . + it is not clear from this definition if @xmath276 are actually groups , nor if the notion of weak equivalence can be equivalently defined requiring that the map induces isomorphisms in all simplicial homotopy groups .",
    "an answer to both questions is given by the following theorem that we state here although it requires notions from the next section :    let @xmath37 be a fibrant simplicial set and @xmath45 a vertex . then there is a natural isomorphism @xmath277 .",
    "see proposition 3.6.3 in @xcite .",
    "[ retractlem ] the vertex @xmath278 $ ] is a deformation retract of @xmath48 $ ] , in the sense that there is a homotopy @xmath279 \\times \\delta[n ] \\to \\delta[n]$ ] from the identity map to the constant map at @xmath10 , which sends @xmath272 \\times \\ { n \\}$ ] to @xmath280 .",
    "+ moreover , this homotopy restricts to a deformation retraction of @xmath281 $ ] onto its vertex @xmath10 .",
    "a simplex of @xmath272 \\times \\delta[n]$ ] is a chain in the ordered set @xmath282 \\times [ n]$ ] .",
    "hence a homotopy @xmath283 \\times \\delta[1 ] \\to \\delta[n]$ ] is the same as an ordered map @xmath282 \\times [ n ] \\to [ n]$ ] .",
    "we choose tha map that takes @xmath284 to @xmath6 and @xmath285 to @xmath10 .",
    "the corresponding homotopy is the desired @xmath267 .",
    "the standard simplex @xmath48 $ ] is not fibrant .",
    "+ indeed , in the previous lemma we have found a homotopy from the identity map of the standard simplex to the constant map @xmath264 .",
    "there no homotopy going in the opposite direction , because such a homotopy would be induced by a map of ordered sets that takes @xmath284 to @xmath10 and @xmath285 to @xmath6 , and there is no such map .",
    "hence homotopy is not an equivalence relation of the set of endomorphisms of @xmath48 $ ] , so that by theorem [ homfib ] the standard simplex can not be fibrant .",
    "suppose @xmath37 is a fibrant simplicial set , @xmath45 a vertex and @xmath286 \\to x$ ] a simplex such that @xmath287 for all @xmath18 .",
    "then @xmath288 = [ v ] \\in \\pi_n(x , v)$ ] iff",
    "there is an ( @xmath289)-simplex @xmath62 such that @xmath290 and @xmath291 for all @xmath292 .",
    "see lemma 3.4.5 in @xcite .",
    "we want to develop a simplicial analogue of serre long exact sequence , as a first step we construct the connecting map @xmath293 .",
    "+ let @xmath294 be a fibration of simplicial sets and @xmath45 a vertex .",
    "let @xmath83 denote the fibre of @xmath108 at @xmath295 .",
    "we now construct a map @xmath296 as follows : given a class @xmath288 \\in \\pi_n(y , p(v ) ) $ ] , let @xmath297 be the lift in the following diagram : @xmath212    \\ar[r]^{v } \\ar[d ] & x   \\ar[d]^{p } \\\\ & \\delta[n ] \\ar[r]^{\\alpha } \\ar@{-->}[ru]^{\\gamma } & y } \\ ] ] and define @xmath298 : = d_n(\\gamma)$ ] where @xmath299 is the @xmath10-th face map .",
    "the commutativity of the diagram implies that @xmath300 lies in the fibre , and it is easy to see that @xmath301 so that by the previous lemma @xmath302 \\in \\pi_{n-1}(f , v)$ ] .",
    "+ we should check that @xmath293 is well defined , but it is a standard exercise in lifting pushout products of anodyne extensions . for the details see lemma 3.4.8 in @xcite .",
    "let @xmath210 be a fibration between fibrant simplicial sets , ad @xmath45 a vertex .",
    "let @xmath83 denote the fibre of @xmath108 over @xmath295 .",
    "+ then we have an exact sequence of pointed sets : @xmath303    the proof is analogous to the standard one for topological spaces , for some details see lemma 3.4.9 in @xcite .      we know from theorem [ fibrefibration ] that the fibres of a fibrations are homotopy equivalent .",
    "now we would like to find some reasonable sufficient condition for a fibration to have isomorphic fibres .",
    "note that by definition every locally trivial morphism has isomorphic fibres , and as we shall see our condition will force the fibration to be a locally trivial one . + let start with some preliminary definitions on homotopy equivalences .",
    "two maps @xmath304 and @xmath305 are * fibre homotopy equivalent * iff there are maps @xmath306 and @xmath307 such that @xmath308 and @xmath309 , and there are homotopies from @xmath310 to the identity @xmath311 and from @xmath312 to the other identity @xmath313 that cover the constant homotopy of @xmath314 .",
    "let @xmath210 be a fibration of simplicial sets , and suppose @xmath315 are maps such that there is a homotopy from @xmath124 to @xmath125 .",
    "then the pullback fibrations @xmath316 and @xmath317 are fibre homotopy equivalent .",
    "see proposition 3.5.3 in @xcite .",
    "[ fibrecor ] let @xmath294 be a fibration of simplicial sets and let @xmath228 \\to y$ ] be a singular simplex in @xmath40 .",
    "then the pullback @xmath318 $ ] is fibre homotopy equivalent to the product fibration @xmath48 \\times f_n \\to \\delta[n]$ ] , where @xmath319 is the fibre of @xmath108 over the vertex @xmath320 .    by lemma [ retractlem ]",
    "the identity map of @xmath48 $ ] is homotopic to the constant map @xmath10 , hence the thesis follows from the previous theorem .    given a fibration @xmath294 , two @xmath10-simplices @xmath321",
    "are * @xmath108-related * written @xmath322 iff they represent vertices in the same path component of the same fibre of @xmath323,x ) \\to \\underline{\\mathit{hom}}(\\partial \\delta[n],x ) \\times_{\\underline{\\mathit{hom}}(\\partial \\delta[n],y ) } \\underline{\\mathit{hom}}(\\delta[n],y)$ ] .",
    "observe that thanks to theorem [ homfib ] @xmath324 is an equivalence relation .",
    "+ moreover , we can rewrite the definition as follows : @xmath322 iff @xmath325 , @xmath326 for all @xmath327 and there is a fibrewise homotopy stationary on the boundary @xmath266 \\times \\delta[n ] \\to x$ ] from @xmath235 to @xmath240 , i.e. @xmath328 is the constant homotopy and @xmath267 is constant on @xmath51 $ ] .",
    "a fibration @xmath294 is * minimal * iff @xmath322 entails @xmath329 , i.e. iff every path component of every fibre of the fibration @xmath330 has only one vertex .",
    "we underline the similarity between the defining condition for minimal fibrations and the - for the moment prosaic and imprecise - statement of univalence , that equivalent objects are equal .",
    "it is not surprisingly that we shall use minimal fibrations to prove that univalence holds in simplicial sets .",
    "minimal fibrations are stable under pullbacks .",
    "suppose @xmath210 be a fibration , every pullback square : @xmath331 \\ar[d]^{p ' } & x   \\ar[d]^{p } \\\\ & y ' \\ar[r ] & y } \\ ] ] induces a pullback square : @xmath332,x ' )    \\ar[r ] \\ar[d]^{\\underline{\\mathit{hom}}(i , p ' ) } & \\underline{\\mathit{hom}}(\\delta[n],x )   \\ar[d]^{\\underline{\\mathit{hom}}(i , p ) } \\\\ & p ' \\ar[r ] & p } \\ ] ] where @xmath333,y ' ) \\times_{\\underline{\\mathit{hom}}(\\partial \\delta[n],y ' ) } \\underline{\\mathit{hom}}(\\partial \\delta[n],x')\\ ] ] and @xmath334,y ) \\times_{\\underline{\\mathit{hom}}(\\partial \\delta[n],y ) } \\underline{\\mathit{hom}}(\\partial \\delta[n],x)\\ ] ] hence every fibre of @xmath335 is isomorphic to a fibre of @xmath330 .",
    "[ minimaleqiso ] let @xmath210 and @xmath336 be fibrations of simplicial sets , and that @xmath337 is a minimal fibration .",
    "suppose @xmath338 are two maps of simplicial sets over @xmath40 and suppose @xmath339 \\to z$ ] be a homotopy from @xmath124 to @xmath125 such that @xmath340 .",
    "+ if @xmath125 is an isomorphism so is @xmath124 .",
    "see lemma 3.5.6 in @xcite .",
    "[ minimalbundle ] let @xmath294 be a minimal fibration of simplicial sets , then @xmath108 is locally trivial .    since minimal fibrations are stable under pullbacks we have that the pullback of @xmath108 along any singular simplex @xmath228 \\to y$ ] is a minimal fibration @xmath341 $ ] .",
    "we know from corollary [ fibrecor ] that this map is fibre homotopy equivalent to the product fibration @xmath48 \\times f_n \\to \\delta[n]$ ] . by the previous theorem",
    "we obtain an isomorphism .",
    "[ minimalfibration ] let @xmath210 be a fibration of simplicial sets .",
    "then we can factor @xmath108 as @xmath342 , where @xmath343 is a minimal fibration and @xmath52 is a retraction onto a subsimplicial set @xmath344 .",
    "we give a sketch of the proof : by the axiom of choice let @xmath345 be a set of simplices of @xmath37 containing one simplex from each @xmath108-equivalence class .",
    "it is easy to check that it contains every degenerate simplex ( see lemma 3.5.8 in @xcite ) .",
    "let @xmath346 denote the set of all subsimplicial sets of @xmath37 whose simplices lie in @xmath345 .",
    "we put a partial order on @xmath346 induced by the one already present on subsimplicial sets of @xmath37 and by zorn s lemma we get a maximal subsimplicial set @xmath347 .",
    "+ if the restriction @xmath348 is a fibration it will be automatically minimal .",
    "we will show that @xmath343 is a retract of @xmath108 hence it will be a fibration .",
    "+ we apply again zorn s lemma , now to pairs @xmath349 where @xmath314 is a subsimplicial set of @xmath37 containing @xmath347 , and @xmath279 \\times z \\to x$ ] is a homotopy such that its restriction to @xmath350 is the inclusion , it maps @xmath351 into @xmath347 , it is constant on @xmath272 \\times x'$ ] , and @xmath328 is the constant homotopy of @xmath108 restricted to @xmath314 .",
    "let @xmath349 be a maximal pair , we must show that @xmath352 . if not consider a simplex @xmath353 \\to x$ ] of minimal dimension that does not belongs to @xmath314 .",
    "we then construct the following pushout square : @xmath354 \\ar[r ] \\ar[d ] & z   \\ar[d ] \\\\ & \\delta[n ] \\ar[r]^{x } & z ' } \\ ] ] where @xmath355 is the subsimplicial set of @xmath37 generated by @xmath314 and @xmath235 . finally , using the previous construction we can extend @xmath267 contradicting its maximality . for these remaining details",
    "see theorem 3.5.9 in @xcite .",
    "a map of topological spaces is a * serre fibration * iff it has the right lifting property with respect to all inclusions @xmath356 of the @xmath10-disk at ground zero of the cylinder over the @xmath10-disk .",
    "[ realisationserre ] let @xmath210 be a fibration of simplicial sets .",
    "then @xmath357 is a serre fibration of kelley spaces .",
    "the statement is obtained adding at first the hypothesis that @xmath108 is locally trivial and then the hypothesis is dropped .",
    "see corollary 3.6.2 in @xcite .",
    "are many different possible settings for an abstract theory of homotopy , perhaps the easiest way to define a homotopical structure on a category is to distinguish a suitable class of `` weak equivalences '' that contains the isomorphisms and is closed under some basic constructions , is then possible to form its _ homotopy category _",
    "localising with respect to this family of arrows . +",
    "but in a such general framework is difficult to manage the homotopy category and the weak equivalences ; a way to face this problem is to add more structure taking topological spaces and simplicial sets as guiding examples .",
    "the definition of model category adds two other classes of morphisms to the structure , namely a class of fibrations and a class of cofibrations .",
    "moreover , the presence of these maps allows to define well - behaved objects and the interaction of these two classes of maps gives a finer control on the homotopy category that turns out to be a quotient of the initial model category under a homotopy equivalence relation .",
    "+ the aim of this chapter is to give some basics in the theory of model categories and an outline of the proof that the category of simplicial sets admits a model structure .",
    "the proof uses the axiom of choice because it relies on the theory of minimal fibrations in particular on theorem [ minimalfibration ] .",
    "we start with some introductory definitions , motivated by the theory of simplicial sets that we have seen so far .    1 .    2 .",
    "recall that given a category @xmath32 its * category of arrows * , written @xmath358 , has arrows of @xmath32 as objects and commutative squares of @xmath32 as morphisms .",
    "3 .   given a category @xmath32 ,",
    "a * functorial factorisation * is a pair @xmath359 of functors @xmath360 such that for any arrow @xmath124 of @xmath32 we have a factorisation as @xmath361 .",
    "a * subcategory of weak equivalences * of a given category is a subcategory that contains all the isomorphisms and satisfies the _ 2-out - of-3 property _",
    "i.e. given any pair of composable maps @xmath124 and @xmath125 if two elements of the set @xmath362 are weak equivalences",
    "so is the third .",
    "following hovey s book we require that model structures has fixed functorial factorisations , instead of simply asking for the existence of a factorisation .",
    "this is needed in order to perform some constructions in a canonical way , which otherwise would depend on the choice of the factorisation .",
    "a * weak factorisation system * is a quadruple @xmath363 where the first two are classes of maps and @xmath359 is a functorial factorisation such that @xmath364 and @xmath365 .",
    "moreover , @xmath366 is the class of maps which have the left lifting property with respect to @xmath367 and conversely @xmath367 is the class of maps which have the right lifting property with respect to @xmath366 .",
    "notice that each of the two classes of a weak factorisation system determines the other .",
    "+ also , @xmath368 is exactly the class of isomorphisms since any map @xmath124 such that @xmath124 has the left lifting property with respect to to itself is an isomorphism .",
    "a * model structure * on a category consists in three subcategories @xmath369 , @xmath370 and @xmath371 , and two functorial factorisations @xmath359 and @xmath372 such that @xmath371 is a subcategory of weak equivalences , @xmath373 and @xmath374 are two weak factorisation systems .",
    "+ maps in @xmath371 are called * acyclic * of * weak equivalences*. maps in @xmath370 are called * cofibrations * and maps in @xmath369 are called * fibrations*. + a * model category * is a complete and cocomplete category together with a model structure .",
    "every complete and cocomplete category admits three trivial examples of model structure , the ones where one of the three classes @xmath370 , @xmath369 and @xmath371 is the class of isomorphisms and the other two are all maps . +",
    "since quillen axioms for model categories are self - dual , if a category @xmath32 has a model structure then also the opposite category admits one .",
    "the cofibration of @xmath375 are the fibration of @xmath32 and vice - versa .",
    "+ if @xmath32 is a model category , then every slice @xmath376 inherits a model structure , where a map is a fibration , cofibration or weak equivalence iff it is in @xmath32 . +",
    "given two model categories @xmath32 and @xmath377 we put on the product @xmath378 the model structure where a map @xmath379 is a fibration [ cofibration , weak equivalence ] iff both @xmath124 and @xmath125 are fibrations [ cofibrations , weak equivalences ] .",
    "+ the definitions of fibrant and cofibrant objects are the same as in the case of simplicial sets .",
    "note that if we factor the map @xmath179 into a cofibration followed by a trivial fibration we get a functor @xmath380 and a map @xmath381 such that @xmath382 is cofibrant and @xmath383 is a trivial fibration .",
    "+ dually , when we factor @xmath384 as a trivial cofibration followed by a fibration .",
    "the two functors defined above are called respectively * cofibrant replacement functor * and * fibrant replacement functor*.    if we have a factorization @xmath220 in a category such that @xmath124 has the left lifting property with respect to @xmath108 , then @xmath124 is a retract of @xmath18 .",
    "+ dually , if @xmath124 has the right lifting property with respect to @xmath18 , then it is a retract of @xmath108 .",
    "first suppose @xmath124 has the left lifting property with respect to @xmath108 .",
    "let consider the diagram with the lifting @xmath52 : @xmath385^{i } \\ar[d]_{f } & b   \\ar[d]^{p } \\\\ & c \\ar@{=}[r ] \\ar@{-->}[ru]^{r } & c } \\ ] ] hence @xmath124 is a retract of @xmath18 with retraction @xmath52 .    in a model category",
    "the three classes @xmath370 , @xmath369 and @xmath371 are closed under retracts .",
    "fibrations and cofibrations are closed under retracts because of the previous lemma . + for weak equivalences see proposition a.3.1 in @xcite .",
    "note that thanks to their characterisation in terms of lifting properties cofibrations are closed under pushouts and fibrations are closed under pullbacks .",
    "let @xmath32 a model category and @xmath377 a category with a distinguished class of `` weak equivalences '' satisfying the 2-out - of-3 property . if @xmath386 is a functor which takes trivial cofibrations between cofibrant objects to weak equivalences .",
    "then @xmath83 takes all weak equivalences between cofibrant objects to weak equivalences .",
    "we suppose that @xmath387 is a weak equivalence of cofibrant objects and factor @xmath388 into a cofibration followed by a trivial fibration @xmath389 .",
    "the pushout diagram : @xmath390 \\ar[d ] & a   \\ar[d ] \\\\ & b   \\ar[r ]   & a   + b } \\ ] ] shows that the inclusions @xmath391 and @xmath392 are cofibrations . by the 2-out - of-3 axiom we have that @xmath393 and @xmath394 are weak equivalences hence trivial cofibrations . by hypothesis",
    "we have that both @xmath395 and @xmath396 are weak equivalences . since @xmath397 is also a weak equivalence we conclude from the 2-out - of-3 property that @xmath398 is a weak equivalence , and hence that @xmath399 is a weak equivalence as required .",
    "a model category is * right proper * iff the pullback of a weak equivalence along a fibration is again a weak equivalence .",
    "+ it is * left proper * iff the pushout of a weak equivalence along a cofibration is again a weak equivalence .",
    "+ finally , a model category is * proper * iff it is both left and right proper .",
    "we now define morphisms and equivalences of model categories .",
    "let @xmath32 and @xmath377 be model categories .    1 .",
    "a functor @xmath386 is a * left quillen functor * iff @xmath83 is a left adjoint and preserves cofibrations and trivial cofibrations .",
    "2 .   a functor @xmath400 is a * right quillen functor * iff it is a right adjoint and preserves fibrations and trivial fibrations .",
    "3 .   an adjunction @xmath401 is a * quillen adjunction * iff @xmath83 is a left quillen functor iff @xmath402 is a right quillen functor .",
    "4 .   a quillen adjunction @xmath401 is a * quillen equivalence * iff for all cofibrant @xmath403 and all fibrant @xmath404 we have that @xmath405 is a weak equivalence iff @xmath406 is a weak equivalence .      given a category @xmath32 with a subcategory of weak equivalences @xmath371 we define its * homotopy category * , written @xmath407 as the localisation @xmath408 $ ] , obtained inverting formally all the arrows in @xmath371 .    observe that for arbitrary categories with a subcategory of weak equivalences a size issue emerges . indeed , due to the size of @xmath371 the homotopy category may have proper classes as @xmath4 even if the category @xmath32 has @xmath4-sets .",
    "+ we will state a theorem which guarantees that for model categories this phenomenon disappears , in fact the homotopy category turns out to be a quotient of the model category .",
    "now we focus on homotopies .",
    "observe that for simplicial sets and topological spaces , homotopies admit two dual descriptions : as maps from a cylinder @xmath409 or as paths in a path space @xmath410 .",
    "moreover , any cylinder retracts onto its base so that in particular we have a weak equivalence @xmath411 , similarly for the path space because paths can be contracted to their starting point .",
    "hence we split the notion of homotopy into left and right homotopies expressing some key properties in terms of fibrations , cofibrations and weak equivalences , using these two dual descriptions as guidance .",
    "let @xmath32 be a model category and @xmath412 two maps .    1 .",
    "a * cylinder object * for @xmath166 is a factorisation of the codiagonal @xmath413 into a cofibration @xmath414 followed by a weak equivalence @xmath415 .",
    "a * path object * for @xmath37 is a factorisation of the diagonal @xmath416 into a weak equivalence @xmath417 followed by a fibration @xmath418 . +",
    "a * very good path object * is a factorisation of the diagonal as a trivial cofibration followed by a fibration .",
    "3 .   a * right homotopy * from @xmath124 to @xmath125 is a map @xmath419 into some path object for @xmath37 such that @xmath420 and @xmath421 .",
    "we say that @xmath124 is * right homotopic * to @xmath125 , written @xmath422 iff there exists a right homotopy from @xmath124 to @xmath125 .",
    "a * left homotopy * from @xmath124 to @xmath125 is a map @xmath423 from some cylinder object for @xmath166 such that @xmath424 and @xmath425 .",
    "we say that @xmath124 is * left homotopic * to @xmath125 , written @xmath426 iff there exists a left homotopy from @xmath124 to @xmath125 .",
    "@xmath124 and @xmath125 are * homotopic * , written @xmath427 iff @xmath124 is both left and right homotopic to @xmath125 . 6 .",
    "@xmath124 is a * homotopy equivalence * iff there is a map @xmath428 such that @xmath429 and @xmath430 .",
    "notice that in any model category both cylinder and path objects exist , simply applying the factorisation to the codiagonal and the diagonal respectively .",
    "+ recalling the case of simplicial sets , we expect that some requirement on objects is needed in order to make homotopy relations into equivalence relations .",
    "let @xmath431 be two maps in a model category @xmath32 .",
    "we have the following :    1 .",
    "if @xmath67 is cofibrant , then left homotopy is an equivalence relation on @xmath432 .",
    "dually , if @xmath37 is fibrant , then right homotopy is an equivalence relation on @xmath433 2 .",
    "if @xmath67 is cofibrant , @xmath434 implies @xmath422 .",
    "dually , if @xmath37 is fibrant @xmath422 implies @xmath426 .",
    "3 .   let @xmath435 be the full subcategory of fibrant and cofibrant objects of @xmath32 .",
    "the homotopy relation on the maps of @xmath435 is an equivalence relation compatible with composition .",
    "see proposition 1.2.5 in @xcite .",
    "let @xmath32 be a model category and @xmath67 a cofibrant object .",
    "if @xmath274 is either a trivial fibration or a weak equivalence between fibrant objects , then the map @xmath436 induced by @xmath124 is a bijection .",
    "+ dually , if @xmath37 is a fibrant object and @xmath387 is either a trivial cofibration or a weak equivalence between cofibrant objects , then the map @xmath437 induced by @xmath124 is a bijection .",
    "let @xmath274 be a trivial fibration and consider the map induced by @xmath124 .",
    "since @xmath67 is cofibrant , any map @xmath438 has a lifting to @xmath37 , so the map is surjective even before passing to left homotopy .",
    "on the other hand , let @xmath439 be a cylinder for @xmath67 , and @xmath440 a left homotopy between @xmath441 .",
    "then the diagram : @xmath442^{(g , h ) } \\ar[d]_{(i_0 , i_1 ) } & x   \\ar[d]^{f } \\\\ & ia   \\ar[r ] ^{h } \\ar@{-->}[ru]^{k } & y   } \\ ] ] has a diagonal filler @xmath443 , which is a left homotopy between @xmath444 .",
    "thus the map induced by @xmath124 is also injective .",
    "the case when @xmath274 is a weak equivalence between fibrant objects follows from the first part of ken brown s lemma using the functor @xmath445 and bijections of sets as `` weak equivalences '' .    [ white ] if @xmath32 is a model category , then a map of @xmath435 is a weak equivalence iff it is a homotopy equivalence .",
    "let @xmath37 , @xmath40 and @xmath67 be objects in @xmath435 and @xmath446 be a weak equivalence .",
    "then by the previous lemma the map @xmath447 induced by @xmath124 is a bijection .",
    "taking @xmath448 we find a map @xmath449 such that @xmath450 .",
    "since @xmath451 it follows that @xmath452 .",
    "+ conversely , given @xmath37 and @xmath40 objects in @xmath435 and @xmath294 which is a homotopy equivalence , we consider at first the case when it is a fibration .",
    "we will show that @xmath108 is a weak equivalence .",
    "so let @xmath453 be a homotopy inverse for @xmath108 and @xmath454 be a left homotopy @xmath455 . since @xmath108 is a fibration",
    "there is a diagonal filler @xmath456 in the diagram : @xmath457^{p ' } \\ar[d]_{i_0 } & x   \\ar[d]^{p } \\\\ & iy   \\ar[r ] ^{h } \\ar@{-->}[ru]^{h ' } & y   } \\ ] ] we define @xmath458 , then @xmath459 and @xmath460 .",
    "we then have @xmath461 , so let @xmath462 be a left homotopy such that @xmath463 and @xmath464 . by the 2-out - of-3 property",
    ", @xmath59 is a weak equivalence , making @xmath465 a weak equivalence as well . from the diagram : @xmath466 \\ar[d]_{p } & x   \\ar@{=}[r ] \\ar[d]^{qp } & x   \\ar[d]^{p } \\ar[d]^{p } \\\\ & y   \\ar[r]^{q } & x   \\ar[r]^{p } & y   } \\ ] ] we see that @xmath108 is a retract of @xmath467 hence it is a weak equivalence .",
    "+ now we remove the additional hypothesis so let @xmath274 be an arbitrary homotopy equivalence .",
    "factor @xmath124 as @xmath468 with @xmath18 a trivial cofibration and @xmath108 a fibration .",
    "then @xmath314 is cofibrant and fibrant , so by the first part @xmath18 is a homotopy equivalence .",
    "it follows from the 2-out - of-3 property for the homotopy equivalences of @xmath435 that @xmath108 is a homotopy equivalence . then by the argument above @xmath108 is a weak equivalence ,",
    "hence @xmath124 is a weak equivalence .",
    "let @xmath469 be the quotient category modulo homotopy .",
    "there is an isomorphism of categories @xmath470 .",
    "see corollary 1.2.9 in @xcite .",
    "[ lemmarp ] in a model category , the pullback of a weak equivalence between fibrant objects along a fibration is a weak equivalence .",
    "therefore , a model category in which all objects are fibrant is right proper .",
    "dually for left properness .",
    "let @xmath471 be a weak equivalence between fibrant objects , in the following pullback square : @xmath472^{f ' } \\ar[d]^{w ' } & x   \\ar[d]^{w } \\\\ & y '   \\ar[r]^{f }   & y   } \\ ] ] we want to show that @xmath473 is a weak equivalence if @xmath124 is a fibration .",
    "first , consider a factorisation of @xmath474 as a weak equivalence followed by a fibration .",
    "@xmath475 and @xmath476 .",
    "since @xmath37 and @xmath40 are fibrant , @xmath477 and @xmath478 are trivial fibrations .",
    "the pullback of a trivial fibration is a weak equivalence , so we may suppose @xmath471 is a weak equivalence that has a retraction @xmath479 such that @xmath480 and @xmath52 is a trivial fibration .",
    "now consider the diagram : @xmath472^{w ' } \\ar[d]^{w ' } & y '   \\ar[d]^{u } \\ar[dr]^{1_{y ' } } \\\\ & y '   \\ar[r]^{v } \\ar[d]^{rf } & y   \\times_x y ' \\ar[r]^{p_2 } \\ar[d]^{p_1 } & y ' \\ar[d]^{rf } \\\\ & x   \\ar[r]^{w } & y   \\ar[r]^{r } & x } \\ ] ] where @xmath481 , @xmath482 and @xmath483 .",
    "now we have that @xmath484 and @xmath485 . also , @xmath486 and @xmath487 so the top left - hand square commutes .",
    "the lower left - hand square is a pullback , since the lower right - hand is and the two together are .",
    "similarly , the top left - hand square is a pullback since the lower left - hand square is and the two together are .",
    "it follows that @xmath488 , where @xmath489 is the pullback functor .",
    "@xmath52 is a trivial fibration , hence so is @xmath490 .",
    "since @xmath491 , @xmath492 is a weak equivalence in @xmath493 between fibrant objects .",
    "since the pullback functor preserves fibrations and trivial fibrations @xmath473 is a weak equivalence by ken brown s lemma .",
    "as we have seen in the previous section the axioms of a model category are powerful .",
    "hence we expect that in exchange it is difficult to build a model structure .",
    "this is indeed the case , in particular for simplicial sets .",
    "let @xmath32 be a complete and cocomplete category provided with a subcategory @xmath371 which has the 2-out - of-3 property .",
    "moreover , given other subcategories @xmath369 and @xmath370 and two other classes of maps @xmath494 and @xmath495 , such that @xmath496 and @xmath497 are weak factorisation systems . if the following hold :    1 .",
    "@xmath498 and @xmath499 ; 2 .   either @xmath500 or @xmath501 .",
    "then @xmath502 , @xmath370 and @xmath371 determine a model structure on @xmath32 .",
    "consider the case @xmath503 .",
    "we want to show @xmath504 , so let @xmath505 be a trivial cofibration .",
    "we factor @xmath18 as @xmath506 , with @xmath507 and @xmath508 . since @xmath18 is a weak equivalence and @xmath509 it follows that @xmath108 is a trivial fibration . since @xmath503 and @xmath18 is a cofibration",
    "there is a diagonal filler @xmath510 in the diagram : @xmath226^{j } \\ar[d]^{i } & e   \\ar[d]^{p } \\\\ & b   \\ar@{=}[r ] \\ar@{-->}[ru]^{d }   & b   } \\ ] ] it follows that @xmath18 is a retract of @xmath225 so @xmath511 .",
    "thus @xmath512 .",
    "in order to prove that the category of simplicial sets admits a model structure we choose @xmath369 , @xmath370 and @xmath513 to be the classes of kan fibrations , cofibrations and weak equivalences respectively . moreover , @xmath514 is the class of anodyne extensions and @xmath495 the one of maps with the right lifting property with respect to cofibrations .",
    "+ the following lemmas are quite easy to obtain .",
    "any simplicial map can be factored as a cofibration followed by a map which has the right lifting property with respect to cofibrations . moreover ,",
    "this factorisation is functorial .",
    "it is enough to repeat the argument of theorem [ factor ] .",
    "every anodyne extension is a trivial cofibration of simplicial sets    see proposition 3.2.3 in @xcite .",
    "if @xmath124 is a map of simplicial sets which has the right lifting property with respect to cofibrations , then it is a trivial fibration .",
    "see proposition 3.2.6 in @xcite .",
    "the hard part is condition @xmath515 in the recognition lemma .    if @xmath108 is a trivial kan fibration , then it has the right lifting property with respect to all cofibrations .    instead of breaking this proof into a chapter of lemmas",
    "we give here a sketch .",
    "+ the idea of the proof is to start with simple cases and generalise step by step : first of all we observe that if @xmath37 is a non - empty kan complex with no non - trivial homotopy groups , then the map @xmath176 has the rlp with respect to cofibrations .",
    "for the proof see proposition 3.4.7 in @xcite .",
    "+ next , if @xmath294 is a locally trivial fibration such that every fibre is non - empty and has no non - trivial homotopy groups , then @xmath108 has the rlp with respect to cofibrations . indeed ,",
    "since @xmath108 is locally trivial , a lift in the diagram : @xmath354   \\ar[r ] \\ar[d ] & x   \\ar[d]^{p } \\\\ & \\delta[n ]   \\ar[r]^{v }   & y   } \\ ] ] is equivalent to a lift in the diagram : @xmath354   \\ar[r]^{f } \\ar[d ] & \\delta[n ] \\times f   \\ar[d]^{\\pi_1 } \\\\ & \\delta[n ]   \\ar@{=}[r ]   & \\delta[n ]   } \\ ] ] a lift in this square is equivalent to an extension of the map @xmath516 \\to f$ ] to @xmath48 $ ] . by the hypotheses @xmath83 is a kan complex with no non - trivial homotopy groups so that we conclude by the first step .",
    "+ now we drop the hypothesis that @xmath108 is locally trivial : by theorem [ minimalfibration ] we factor @xmath517 as a minimal fibration followed by a retraction .",
    "@xmath52 can be chosen to have the rlp with respect to cofibrations , see theorem 3.5.9 in @xcite . since @xmath343 is a retract of @xmath108 , its fibres are retracts of the fibres of @xmath108 .",
    "every minimal fibration is locally trivial by theorem [ minimalbundle ] , hence we can apply the previous step .",
    "+ finally , we show that every trivial kan fibration has non - empty fibres which have no non - trivial homotopy groups .",
    "let @xmath83 be the fibre of @xmath108 over the vertex @xmath264 .",
    "thanks to theorem [ realisationserre ] and the exactness properties of the geometric realisation functor , we have that @xmath518 is the fibre of @xmath357 over the vertex @xmath519 .",
    "since @xmath357 is a weak equivalence , @xmath518 is non - empty and has no non - trivial homotopy groups .",
    "we conclude recalling that @xmath277 .",
    "hence we have obtained the following :    the category of simplicial sets admits a model structure where fibrations , cofibrations and weak equivalences defined as in the first chapter .",
    "we can not end this section without a mention to the standard model structure on topological spaces . as we have anticipated in the first chapter simplicial sets are combinatorial models for nice topological spaces . here",
    "we make this statement precise .",
    "the category of topological spaces admits a model structure whose fibrations are serre fibrations and weak equivalences are the usual weak equivalences .",
    "+ every object is trivially fibrant ; moreover , the cofibrant objects are the retracts cw - complexes .",
    "see chapter 2 section 4 in @xcite .",
    "the geometric realisation @xmath520 and the inclusion functor @xmath521 are quillen equivalences . +",
    "their composition gives a quillen equivalence from the model category of simplicial sets to the one of topological spaces , with their standard model structures .",
    "see corollary 2.4.24 and theorem 3.6.7 in @xcite .",
    "we conclude the section with this result that will play an important role in the interpretation of type theory in simplicial sets .",
    "the model structure on simplicial sets is proper .",
    "since every object is cofibrant it is left proper thanks to theorem [ lemmarp ] .",
    "+ for right properness just consider the diagram : @xmath472^{f ' } \\ar[d]^{w ' } & x   \\ar[d]^{w } \\\\ & y '   \\ar[r]^{f }   & y   } \\ ] ] where @xmath522 is a weak equivalence and @xmath124 a fibration .",
    "we apply the geometric realisation functor , thanks to theorem [ realisationserre ] and the definition of weak equivalence in simplicial sets it is enough to show that the model structure on topological spaces is right proper , but this is immediate , since every topological space is fibrant .",
    "when dealing with model categories we are mainly interested in their homotopy category , therefore is important to give definitions which descends reasonably in the homotopy category .",
    "for this reason we need to impose more than the usual structure on a model category to make a `` good notion '' of monoidal model category ; the key ingredient turns out to be closedness of the monoidal category .    given @xmath32 , @xmath377 and @xmath523 categories ,",
    "an * adjunction of two variables * from @xmath378 to @xmath523 is a quintuple @xmath524 where @xmath525 , @xmath526 and @xmath527 are functors and @xmath528 and @xmath529 are natural isomorphisms :    @xmath530    a * closed monoidal structure * on a category is an octuple @xmath531 where @xmath532 is a monoidal structure on @xmath32 and @xmath533 an adjunction of two variables .",
    "we have built the definition of closed monoidal category from an adjunction of two variables ; by analogy we want to define a convenient notion of quillen adjunction of two variables . we motivate the following definition using the examples provided in the chapter on simplicial sets by the importance of the pushout product .    given @xmath32 , @xmath377 and @xmath523 model categories , an adjunction of two variables @xmath534 is a * quillen adjunction of two variables * iff given a cofibration @xmath535 in @xmath32 and a cofibration @xmath536 in @xmath377 , the induced map @xmath537 is a cofibration in @xmath523 which is trivial if either @xmath124 or @xmath125 is .",
    "+ the left adjoint @xmath538 of a quillen adjunction of two variables is simply called * quillen bifunctor*. + by extension of the already established terminology we call @xmath539 the * pushout product * of @xmath124 and @xmath125 .",
    "the following lemma characterize the property of being a quillen bifunctor for a given adjunction of two variables .",
    "[ quillenbif ] let @xmath32 , @xmath377 and @xmath523 be model categories and @xmath540 an adjunction of two variables .",
    "then the following are equivalent :    1 .",
    "@xmath538 is a quillen bifunctor ; 2 .   given a cofibration @xmath541 in @xmath377 and a fibration @xmath542 in @xmath523 , the induced map : @xmath543 is a fibration in @xmath32 which is trivial if either @xmath125 or @xmath108 is ; 3 .   given a cofibration @xmath535 in @xmath32 and a fibration @xmath542 in @xmath523 , the induced map :",
    "@xmath544 is a fibration in @xmath377 which is trivial if either @xmath124 or @xmath108 is .",
    "it is a standard argument using the definition of adjunction .",
    "now we give the promised definition of monoidal model category , as before we impose a technical condition which is needed in order to obtain a well behaved homotopy category .",
    "we anticipate that this additional condition is automatic if the unit of the monoidal category is cofibrant , as it is in the main examples of simplicial sets and topological spaces .",
    "a * monoidal model category * is a closed category @xmath32 which is also a model category such that the two following conditions hold :    1 .",
    "the monoidal structure @xmath545 is a quillen bifunctor ; 2 .",
    "let @xmath546 be the cofibrant replacement for the unit @xmath346 of the monoidal structure , then the standard map @xmath547 is a weak equivalence for every cofibrant @xmath37 .",
    "similarly the standard map @xmath548 is a weak equivalence for every cofibrant @xmath37 .",
    "a * symmetric monoidal model category * is just a symmetric monoidal category and a model category whose monoidal and model structures satisfy the compatibility conditions of the above definition .    the standard model structure on simplicial sets forms a symmetric monoidal model category .",
    "the symmetric monoidal structure on @xmath35 is the one given by the cartesian product , the adjoint being the function complex @xmath549 .",
    "all objects are cofibrant , hence we just need to check that the product is a quillen bifunctor .",
    "thanks to the previous lemma and to theorem [ homfib ] we can conclude .",
    "mathematics there are some questions that we do nt want to answer , for example : `` is @xmath550 ? '' or `` can a finite simple group be a zero of the riemann zeta function ? '' .",
    "these questions arise from the nature of material set theory used as implicit foundation for everyday mathematics like zf where all mathematical entities are sets and a global membership predicate is available .",
    "it is not important to know if @xmath550 , because the answer depends on the particular set - theoretic construction used to build the model of @xmath551 , whereas we are interested in the structural properties of natural numbers , i.e. the ones expressible from the constant @xmath552 and the successor function . similarly , is common in mathematical papers and books to write `` let @xmath553 be a finite group and @xmath247 a complex number '' , meaning that the two variables range over fixed domains which can not conflict .",
    "moreover , this is exactly what is done in computer programming when variables are declared .",
    "+ types are an answer for the need to a formalism adherent to informal reasoning .",
    "they can be conceived as intensional sets , meaning that they are characterised by a global , holistic , essence or nature instead of being reduced to their elements .",
    "type theory has three main actors : terms , types and contexts . every term _ inhabits _ types , written @xmath554 , whereas _ contexts _ are finite ordered sets of inhabitation judgements like @xmath555 such that for each @xmath556 the expression @xmath557 can be inferred from the previous ones .",
    "+ type theories differ mainly for the type constructors which are admitted and by the rules , more or less powerful , that are used to manage these constructors .",
    "examples of common type constructors are function and product types : given two types @xmath67 and @xmath166 we can form the type of functions @xmath558 and the type of paris @xmath559 .",
    "we shall discuss in detail the constructors allowed in martin - lf type theory .",
    "+ as we have mentioned in the introduction a key feature of many type theories is the _ curry - howard isomorphism _ also called _ propositions - as - types paradigm _ , its starting point is an analogy between the syntactical rules used to define type - theoretic constructors and the ones used in natural deduction for intuitionistic logic .",
    "this yields to the interpretation of a proposition as the type of its proofs .",
    "we can not omit to mention the relationship between type theory and computer science . the first and most basic example is the one given by the _ lambda calculus _ used by church and his school to formalise the notion of computable function .",
    "moreover , the curry - howard correspondence can be further extended to programs and games .",
    "indeed , program specifications can be interpreted as types and programs verifying the specification as terms inside the type .",
    "similarly , games can be interpreted as the types of their winning strategies .",
    "+ as we shall see in the next section the curry - howard isomorphism can be seen as a type - theoretic implementation of the brouwer - heyting - kolmogorov interpretation of intuitionistic logic .",
    "+ for an example of more general type theories , without the proposition - as - types correspondence see @xcite .",
    "+ in the following table we sketch the most significant articulations of the correspondence :    [ cols=\"^,^\",options=\"header \" , ]     set induction is a weakening or a strengthening depending on the classical variant chosen for the foundation axiom .    the basic classical set - theoretic constructions like , pairs , products , disjoint unions and so on can be easily performed in czf in a straightforward way , sometimes minor changes are necessary to avoid non - constructive arguments .",
    "we discuss pairs because they give a simple example of constructive reformulation of a classical proof . as we have noticed before ,",
    "applying bounded separation to the set given by our form of pairing , we get the usual @xmath560 .",
    "this set is unique by extensionality .",
    "we form the usual pair @xmath561 and prove the following :    if @xmath562 , then @xmath563 and @xmath564 .",
    "the usual classical proof uses the excluded middle to say that @xmath563 or not , and reason by cases .",
    "instead we will argue focusing on the elements : @xmath565 is an element of the left - hand set , so it is also an element of @xmath566 , then either @xmath567 or @xmath568 , and in either cases @xmath569 .",
    "similarly @xmath570 or @xmath571 . in either cases @xmath572 or @xmath564 .",
    "if @xmath572 , then @xmath573 so that @xmath574 and hence @xmath566 must have a single element as well , so that @xmath575 .",
    "now we give some definitions about relations , and give an equivalent , version of subset collection .",
    "1 .    2 .   for a relation @xmath576",
    ", we write @xmath577 { \\draw ( 0,0.5 ) -- ( 1,0.5 ) ; \\draw [ < - ] ( 0.95,0.5 ) -- ( 1,0.5);}}}b $ ] iff @xmath578 is total , i.e. @xmath579 ; 3 .",
    "similarly , @xmath580 { \\draw ( 0,0.5 ) -- ( 1,0.5 ) ; \\draw [ < - ] ( 0.05,0.5 ) -- ( 0,0.5 ) ; \\draw [ < - ] ( 0.95,0.5 ) -- ( 1,0.5);}}}b$ ] iff @xmath581 ; 4 .",
    "a set @xmath582 of subsets of @xmath166 is * @xmath67-full * iff @xmath580 { \\draw ( 0,0.5 ) -- ( 1,0.5 ) ; \\draw [ < - ] ( 0.95,0.5 ) --",
    "( 1,0.5);}}}b$ ] implies that @xmath580 { \\draw ( 0,0.5 ) -- ( 1,0.5 ) ; \\draw [ < - ] ( 0.05,0.5 ) -- ( 0,0.5 ) ; \\draw [ < - ] ( 0.95,0.5 ) -- ( 1,0.5);}}}d $ ] for some @xmath583 .",
    "the subset collection scheme is equivalent to the following axiom : for all sets @xmath67 and @xmath166 , there exists a set @xmath582 that is an @xmath67-full set of subsets of @xmath166 .",
    "this axiom is a special case of the subset collection scheme where @xmath584 is chosen to be @xmath585 . for the converse we will combine the axiom above with strong collection : let @xmath582 be an @xmath67-full set of subsets of @xmath166 and suppose that @xmath586",
    ", we show that @xmath587 for some @xmath583 .",
    "let @xmath588 denote the formula @xmath589 . then by definition @xmath590 , so that by strong collection there is a set @xmath578 such that @xmath591 .",
    "hence @xmath592 { \\draw ( 0,0.5 ) -- ( 1,0.5 ) ; \\draw [ < - ] ( 0.95,0.5 ) -- ( 1,0.5);}}}b$ ] and @xmath593 .",
    "as @xmath582 is an @xmath67- full set of subsets of @xmath166 we can find a @xmath594 such that @xmath580 { \\draw ( 0,0.5 ) -- ( 1,0.5 ) ; \\draw [ < - ] ( 0.05,0.5 ) -- ( 0,0.5 ) ; \\draw [ < - ] ( 0.95,0.5 ) -- ( 1,0.5);}}}b$ ] .",
    "it follows that @xmath587 .",
    "we have the following chain of implications : powerset @xmath2 subset collection @xmath2 exponentiation axiom .",
    "the first implication is trivial . for the second one we consider besides every function @xmath387 , the associated @xmath595 defined by @xmath596 , and",
    "then we apply the axiom above to @xmath559 , in order to obtain @xmath582 , an @xmath67-full set of subsets of @xmath559 .",
    "now we want to ensure that any @xmath124 is in @xmath582 , so that applying bounded separation we can form the set of functions .",
    "@xmath597 is a total relation , therefore we can find a set @xmath583 such that @xmath598 { \\draw ( 0,0.5 ) -- ( 1,0.5 ) ; \\draw [ < - ] ( 0.05,0.5 ) -- ( 0,0.5 ) ; \\draw [ < - ] ( 0.95,0.5 ) -- ( 1,0.5);}}}d$ ] . as @xmath597 is a function @xmath599 , so that @xmath600 , as required .",
    "the two previous theorems show that the axiom of subset collection can be conceived as a strengthening of the exponentiation axiom that allows to manage total relations .",
    "the exponentiation axiom , together with the statement that @xmath601 has a powerset , is equivalent to the full powerset axiom .",
    "one direction is trivial , for the other the idea is that the set @xmath602 allows to define characteristic functions and therefore the set of all subsets .",
    "+ for any set @xmath67 let @xmath603 .",
    "this is a set by the exponentiation axiom , restricted separation and replacement . if @xmath604 , let @xmath605 be the set @xmath606 for @xmath607 .",
    "then @xmath608 and hence @xmath609 .",
    "hence @xmath582 is the powerset of @xmath67 .",
    "this theorem shows that in czf , finite sets can not have powersets .",
    "it may seem strange that the sets that are most accessible to our intuition lack powersets ; especially because finite sets provided to cantor the intuitive background for the introduction of powersets for arbitrary infinite sets , and therefore full impredicativity .",
    "probably , the best justification of this feature is again the type - theoretic interpretation of czf ; indeed , in martin - lf type theory function types are available and the types for finite sets have fully justified rules which provide only canonical elements , and ways to introduce and eliminate them .",
    "+ now we want to prove that czf with classical logic and zf prove the same theorems , we start with the following two lemmas :    [ powlem ] the exponentiation axiom and restricted excluded middle , together imply the powerset axiom .    by the previous theorem it is enough to prove that @xmath610 has a powerset .",
    "in fact we show that @xmath611 is its powerset .",
    "so let @xmath612 , by hypothesis @xmath613 .",
    "in the first case @xmath614 . whereas in the second @xmath615 . in either case @xmath616 .",
    "the full separation scheme is equivalent to the scheme : @xmath617 , where @xmath235 is not free in @xmath618 .    given full separation and a formula @xmath618 let @xmath619 where @xmath240 is not free in @xmath618 . then @xmath620 .",
    "+ conversely , the idea is to build a function from the hypothesis by strong collection such that @xmath621 is equivalent to @xmath622 and then to apply restricted separation .",
    "indeed , by assumption there is a set @xmath235 such that @xmath623 , for each @xmath624 .",
    "we may assume that @xmath625 in which case @xmath235 is uniquely determined by @xmath624 . by strong collection",
    "there is a function @xmath124 with domain @xmath67 such that @xmath626 . by restricted separation",
    "we can form the set @xmath627 .",
    "czf with classical logic and zf prove the same theorems .",
    "clearly zf contains all the theorems proved by czf with classical logic .",
    "conversely , by [ powlem ] the powerset axiom holds .",
    "full separation is also a theorem because for every formula @xmath618 we have @xmath628 , so choose @xmath629 if @xmath618 and @xmath615 if @xmath630 . in either case @xmath631 and we get full separation by the previous lemma .",
    "let @xmath632 be the unique set such that @xmath633 , which existence is given by the strong infinity axiom .",
    "as usual define @xmath634 and @xmath635 for every @xmath636 , which give rise to the successor function @xmath637 , defined by @xmath638 .",
    "the structure @xmath639 , satisfies the peano axioms .",
    "the first two axioms - that @xmath552 is a number and that the successor of a number is again a number - hold by definition .",
    "the third axiom says that @xmath552 is not in the image of the successor function ; indeed , @xmath640 has no elements . using set induction",
    "we easily obtain mathematical induction . + in order to prove the injectivity of @xmath185 we observe that every @xmath636 , @xmath235 is transitive ( i.e. @xmath641 ) , and such that @xmath642 .",
    "these properties follow easily by induction . + let @xmath643 be such that @xmath644 . as @xmath645",
    "we get @xmath646 , so that either @xmath647 or @xmath648 , and similarly with the roles of @xmath235 and @xmath240 shifted . if @xmath647 then @xmath649 for the transitivity , which is absurd .",
    "the only remaining possibility is that @xmath648 .    given a set @xmath166 the set @xmath582 is called the * transitive closure * iff @xmath650 , @xmath582 is transitive and for every transitive set @xmath37 such that @xmath651 , then @xmath652 .",
    "[ trans ] in czf every set has a transitive closure .",
    "let @xmath166 be any set .",
    "we can then form the sets defined inductively @xmath653 and @xmath654 , let now @xmath655 .",
    "as @xmath656 we have @xmath650 , and given @xmath657 , by definition @xmath658 for some @xmath10 , thus @xmath659 , and hence @xmath660 .",
    "finally , suppose that @xmath661 , where @xmath594 is a transitive set .",
    "by induction on @xmath10 one readily establish that @xmath662 , whence @xmath663 .",
    "let now discuss choice principles .",
    "it can be shown that the full axiom of choice implies unacceptable instances of the excluded middle . however , as we have seen in [ choice ] martin - lf theory validates the type - theoretic axiom of choice almost by definition . +",
    "a choice principle which can be justified constructively is the _ axiom of dependent choices_. it is usually stated in the following form : for every binary total relation @xmath664 on a given set @xmath37 ( i.e. @xmath665 such that @xmath666 ) , there exists a sequence @xmath667 such that @xmath668 for every @xmath669 .",
    "it allows to define sequences of elements whose choices depend over the previously chosen ones .",
    "+ we are interested in the axiom _ scheme _ ( dc for short ) of dependent choices , where the relation @xmath62 is replaced by an arbitrary formula with a free variable , and similarly the binary relation",
    "is replaced with an arbitrary formula with two free variables : for the sake of readability , given formulae @xmath670 and @xmath584 , we call @xmath588 the formula expressing that @xmath247 is a function , whose domain is @xmath632 , such that @xmath671 and for every natural number @xmath669 , @xmath672 holds .",
    "+ the axiom scheme of dependent choices is then the following :    @xmath673    it is easy to see that it is implied by the full axiom of choice ( in presence of full separation ) , and that in turn it implies the axiom of countable choice .",
    "+ dependent choice is sufficient to develop much of the usual choice - based classical mathematics , included large parts of functional analysis .",
    "indeed , the form with total relations is equivalent to the baire s lemma ( see @xcite for the bair lemma in complete metric spaces and @xcite for its version in locally compact hausdorff spaces ) .",
    "+ in @xcite , the axiom scheme of dependent choices is considered as a way to extend czf , justified by the type - theoretic interpretation where it holds for the terms of the type of sets .",
    "we emphasize that the the type - theoretic axiom of dependent choices and the interpretation inside the type of sets of the set - theoretic one , are not the same , although the former is used in the proof of the latter . in the next chapter",
    "we will see the generalisation of this proof to homotopy type theory with a weak tarski universe .",
    "+ in the previous mentioned article by peter aczel other choice principles are considered , a _ base _ is defined to be a set such that choice functions defined on it can always be found .",
    "presentation axiom _ states that every set is the surjective image of a base .",
    "the intended meaning is that surjective maps from a base - presentations - correspond to the concrete ways in which sets are given us .",
    "this axiom is again justified by the type - theoretic interpretation .",
    "we have not considered this kind of choice principles because they are not stable under category - theoretic constructions like taking sheaves ( see @xcite ) .",
    "+ finally , we discuss inductive definitions in czf and the role of the other axiom which can be possibly added : the regular extension axiom .",
    "we start with a discussion on classes in czf and inductively defined classes , then we introduce regular sets and the regular extension axiom and state the theorem asserting that every bounded inductive definition , inductively defines a set . + as in zf , classes can be treated implicitly as formulae with a free variable :    1 .    2 .",
    "given a set @xmath235 and a class @xmath674 we write @xmath675 iff @xmath676 ; 3 .",
    "@xmath674 is a * sublcass * of @xmath677 iff @xmath678 , which means @xmath679 ; 4 .",
    "the * union of classes * is defined as the logical disjunction : @xmath680 ; 5 .",
    "similarly , the * intersection of classes * is the conjunction : @xmath681 ; 6 .",
    "the * product of classes * is @xmath682 ; 7 .",
    "the * powerclass * is defined as @xmath683 ; 8 .",
    "the * class of sets * , written @xmath684 , is @xmath685 .    in the sequel",
    "we will use the notation @xmath686 for the formula @xmath674 interpreted as a class .",
    "+ proofs by transfinite recursion on ordinals are often used in the classical treatment of inductive definitions .",
    "but intuitionistic ordinals have a quite different behaviour , moreover accordingly to the constructive paradigm is generally preferable to build directly inductively defined classes .",
    "we start with the following definition :    for any class @xmath674 , the class @xmath37 is * @xmath674-closed * iff @xmath687 implies @xmath688 for every order pair @xmath689 .",
    "being the first encounter with a class defined as a formula we unwind the definition : @xmath37 is @xmath674-closed iff @xmath690 $ ] .    for any class @xmath674",
    ", there is a smallest @xmath674-closed class @xmath691 .",
    "refer to the theorem in section 4.2 of @xcite .",
    "usually a @xmath674-closed class is defined by a system of rules , it is straightforward to extract the class involved from the rules .",
    "for example , the class of natural numbers can be characterised as the smallest class @xmath632 closed under the rules : @xmath692 and @xmath693 if @xmath694 .",
    "the class generating @xmath632 is @xmath695 .",
    "+ because of the previous theorem , classes are sometimes called _ inductive definitions _ , accordingly to the use of the expression in the natural language .",
    "+ we now present the regular extension axiom and show its how it can be used to manage inductive definitions .",
    "a class @xmath67 is *",
    "regular * iff it is transitive , i.e. every element of @xmath67 is a subset of @xmath67 ; moreover , for every @xmath696 and relation @xmath697 if @xmath698 , then there is a set @xmath699 such that @xmath700    in particular if @xmath701 then ran@xmath702 .",
    "+ for example it is easy to check that @xmath632 is a regular set . + the * regular extension axiom * ( or rea for short ) states that :    * every set is a subset of a regular set .",
    "as we have seen in the previous theorem the class @xmath691 always exists , we expect that @xmath691 is a set whenever @xmath674 is a set , and in certain well - behaved cases when @xmath674 is a proper class .",
    "this is the case , but in czf , even when @xmath674 is a set , the regular extension axiom is needed .",
    "an inductive definition @xmath674 is * bounded * iff    1 .   for each set @xmath67",
    "the class @xmath703 is a set , it is a condition of smallness on the fibres ; 2 .",
    "there is a set @xmath166 such that if @xmath704 , then @xmath67 is an image of a set in @xmath166 , it is a condition of smallness for the elements in the image of @xmath674 .",
    "the set @xmath166 is called a * bound * for @xmath674 .",
    "observe that if @xmath674 is a set then it is automatically bounded with bound the .",
    "the class of natural numbers @xmath705 is bounded with bound @xmath611 .    in czf+rea ,",
    "every bounded inductive definition , inductively defines a set .",
    "see theorem 5.2 in @xcite .",
    "we have seen in the previous chapters the type theoretic interpretation of czf is the main conceptual justification of this kind of constructive set theory . in this chapter",
    "we shall generalise the standard interpretation to homotopy type theory with a weak tarski universe following the three articles by peter aczel @xcite , and selected parts of @xcite and @xcite .",
    "+ the generalisation has two main issues : firstly we need to reformulate statements and proofs when the russell style universe is replaced by a tarski one , and secondly to adapt every definitional equality given by the computation rule of the universe to an equivalence and make the necessary lemmas work with equivalences .",
    "the first issue is straightforward although tedious , whereas the second needs some actual rethinking especially in some points like in the discussion about dependent choices and mainly in lemma [ mainlem ] which uses the function extensionality axiom , and seems needed for the restricted separation axiom .",
    "+ we have to remark that some additional reformulations were needed because the kind of type theory used in @xcite ( and subsumed by @xcite ) has extensional identity types and a closed universe , i.e. an elimination rule for the universe stating a recursion principle over type constructors .",
    "+ in this chapter the set - theoretic symbol for equality will be denoted as @xmath706 .",
    "the idea behind the type - theoretical interpretation is to organize all small types in a well - founded tree as a @xmath707-type building a type of iterative sets , analogous to the usual cumulative hierarchy .",
    "then , to define a notion of extensional equality and use the type constructors to induce similar operations inside this type of sets .",
    "the * type of iterative sets * is defined as @xmath708 where @xmath402 is the universe .",
    "therefore we have the following rules which can be used as an alternative direct definition of the type of sets :    where for the sake of readability we have written @xmath709 instead of @xmath710 .",
    "the elimination and the computation rules for this type simply express transfinite recursion over the cumulative hierarchy .",
    "there is a function assigning @xmath711 and @xmath712 , to any @xmath713 .",
    "moreover , if @xmath714 , then @xmath715 and @xmath716 .",
    "we define @xmath717 by transfinite recursion on @xmath684 using the elimination rule for @xmath707-types : let @xmath582 be the constant family of types @xmath718 , hence it suffices to derive @xmath719 from @xmath720 and @xmath721 .",
    "we give the following definition : @xmath722 .",
    "now let @xmath723 and @xmath724 .",
    "we may think at these @xmath711 and @xmath725 as a presentation of the iterative set @xmath268 as the supremum of the image of the function @xmath726 .",
    "let @xmath727 be the language of set theory and @xmath728 the language obtained by adding to @xmath727 a constant for each term @xmath713 .",
    "now we give the definition of interpretation of a set theoretic formula in type theory . in order to do this",
    "we need to define a notion of extensional equality in @xmath684 .",
    "we define the * extensional equality * as a bisimulation relation by double transfinite recursion on the canonical elements of @xmath684 .",
    "explicitly @xmath729 is defined to be :    @xmath730    we can unwind this double transfinite recursion as the iteration of two simple recursions .",
    "we firstly define : @xmath731 and then @xmath732 .",
    "the extensional equality is an equality , i.e. for all @xmath733 we have a term inside the following types :    1 .   @xmath734 ; 2 .",
    "@xmath735 ; 3 .",
    "@xmath736 .",
    "we discuss the first , the other two require respectively a double and a triple transfinite recursion .",
    "we want to find a term in the type : @xmath737 a proof of this type is constructed by a single transfinite recursion starting from a proof @xmath738 , and is given by @xmath739 where @xmath740 , and similarly for @xmath741 .",
    "[ mainrem ] in order to manage the weakening of the universe we shall use often the principle of indiscernibility of identicals . + by the elimination rule for the identity types we have that a proof of the identity @xmath742 induces a proof of the extensional equality @xmath743 , for every @xmath744 .",
    "+ indeed , we define a family of types @xmath745 . by the previous theorem",
    "we have a proof @xmath746 , therefore by the elimination rule we obtain @xmath747 such that @xmath748 .",
    "for any @xmath713 we have a form of extensional canonicity : @xmath749 .",
    "+ indeed , let @xmath750 , by construction @xmath751 for all @xmath714 , then we have a canonical proof of the identity @xmath752 , hence by transfinite recursion over @xmath684 we get an identity term defined on all @xmath684 , namely @xmath753 , that induces a proof of the extensional equality @xmath754 , by the previous remark .",
    "we define the * type - theoretic interpretation * recursively on the structure of the formulae in @xmath728 :    1 .",
    "@xmath755 ; 2 .",
    "@xmath756 ; 3 .",
    "@xmath757 ; 4 .",
    "@xmath758 ; 5 .",
    "@xmath759 ; 6 .",
    "@xmath760 ; 7 .   @xmath761 ; 8 .",
    "@xmath762 ; 9 .",
    "@xmath763 ; 10 .",
    "@xmath764 .",
    "we say that a set theoretic formula @xmath765 is * valid * in the interpretation iff the type of the interpretation of its universal closure @xmath766 is inhabited .",
    "in order to prove our theorems we will perform the construction of a term in the type @xmath767 leaving the last step of @xmath768-abstraction always implicit .",
    "the first step for the construction of a model of czf in type theory is to take care of the underlying logic , i.e. the curry - howard correspondence .",
    "if @xmath769 in intuitionistic predicate logic and @xmath770 are valid in the interpretation then so is @xmath618 .",
    "see @xcite where it is shown without any use of the universe that the rules for intuitionistic natural deduction are particular cases of the rules for type - theoretic constructors .    the reformulation of the following lemma is not easy as the others and seems to need function extensionality to be carried out .",
    "[ mainlem ] for each restricted formula @xmath771 the type @xmath772 is equivalent to a small type .",
    "we prove the statement by induction on the structure of the formula .",
    "atomic restricted formulae are of the form @xmath773 or @xmath774 . in the first case",
    "we proceed by double transfinite recursion : we consider the judgement @xmath775 , suppose to have canonical terms @xmath714 , @xmath776 and to already have terms @xmath777 .",
    "now we want to find a term in the type : @xmath778 recalling the recursive definition of extensional equality we see that it is enough to prove that if we have a family of equivalences @xmath779 parametrized by a type @xmath780 , then forming the dependent product of this family give rise to a corresponding equivalence @xmath781 and similarly for the sum .",
    "+ so we have the following situation :    @xmath782^{\\tau } & b(x )   \\ar@/_1pc/[l]_{\\theta }   \\ar@/^1pc/[l]_{t }   } \\ ] ]    form the dependent product of these two types over @xmath780 , note that @xmath783 is constant over @xmath780 so we get simply the function type for it .",
    "we can easily define maps @xmath784 , @xmath785 and @xmath786 by composition , i.e. @xmath787 and similarly for the others .",
    "hence :    @xmath788   & ( el({\\mkern 1.5mu\\overline{\\mkern-1.5mu\\alpha\\mkern-1.5mu}\\mkern 1.5mu } ) \\to el(e ) ) \\ar[r]^{\\tau ' }   \\ar@/^1pc/[l ] \\ar@/_1pc/[l ] & ( \\pi x : el({\\mkern 1.5mu\\overline{\\mkern-1.5mu\\alpha\\mkern-1.5mu}\\mkern 1.5mu}))b(x ) \\ar@/^1pc/[l]^{t ' } \\ar@/_1pc/[l]_{\\theta ' } } \\ ] ]    where the first is the equivalence given by the rule of the weak universe .",
    "let @xmath789 .",
    "we just need to check that the homotopies @xmath790 and @xmath791 induce homotopies @xmath792 and similarly for @xmath791 .",
    "but is just an application of function extensionality , in fact for every @xmath793 we have a pointwise identification of the functions : @xmath794 , by function extensionality we get a proof of the identity @xmath795 for every @xmath796 .",
    "for @xmath791 the proof is analogous and simpler because we do nt have to manage a dependent product but just a function type .",
    "+ the case of dependent sums is similar and it relies on theorem [ idsum ] in order to construct an term in the identity type of the dependent sum . + for the other kind of atomic restricted formula we need to show that @xmath797 is equivalent to a small type .",
    "this follows exactly as in the case of extensional equality since we know that @xmath798 is equivalent to a small type .",
    "+ the rest of the induction is straightforward : the case of restricted quantification was already covered whereas the cases of connectives can be easily reconstructed following the kind of argument we needed to manage @xmath799 and @xmath800 with function extensionality and theorem [ idsum ] .",
    "in czf we say that @xmath268 is a * subset * of @xmath270 , written @xmath801 iff @xmath802 .",
    "the following are valid :    1 .",
    "@xmath803 ; 2 .",
    "@xmath804 ; 3 .",
    "@xmath805    a family of types over the type of iterative sets @xmath806 is * extensional * iff @xmath807 similarly , a set - theoretic formula @xmath771 is * extensional * iff @xmath808 $ ] .",
    "every formula in @xmath728 is extensional in every variable .",
    "as usual we proceed by induction on the structure of the formula .",
    "first of all consider the case of atomic formulae : @xmath809 is extensional because of the transitivity .",
    "so consider @xmath810 , we want to prove extensionality in the first variable , we have a term in @xmath811 and a term in @xmath812 and a simple application of transitivity is enough to obtain a term in @xmath813 .",
    "for extensionality in the other variable suppose that we have a term in the type @xmath814 , and we want a proof of @xmath815 .",
    "recalling the definition of extensional equality we have that for all @xmath816 exists a @xmath817 such that @xmath818 and we have the statement .",
    "+ the inductive steps for the non - atomic formulae are straightforward .    if @xmath819 is extensional in @xmath235 , then the structural defining axioms for the restricted quantifiers are valid .",
    "we give the details just in the case of the universal quantifier , the existential one is similar .",
    "we have a proof of @xmath820 \\times ( \\pi x : el({\\mkern 1.5mu\\overline{\\mkern-1.5muy\\mkern-1.5mu}\\mkern 1.5mu } ) ) \\llbracket \\phi(\\tilde{y}(x ) ) \\rrbracket$ ] , and we need a proof of @xmath821 $ ]",
    ". therefore we can suppose to have a proof given by a couple @xmath822 where @xmath823 .",
    "applying @xmath824 to @xmath825 we get a proof of @xmath826 , whereas @xmath827 is a proof of @xmath828 , so we have the desired term inside @xmath829 and we conclude with a @xmath768-abstraction on @xmath235 .",
    "+ conversely , we have a term in @xmath830 \\times ( \\pi x : v)[(\\sigma z : el({\\mkern 1.5mu\\overline{\\mkern-1.5muy\\mkern-1.5mu}\\mkern 1.5mu}))(x \\doteq \\tilde{y}(z ) ) \\to \\llbracket \\phi(x ) \\rrbracket]$ ] and we want a term in @xmath831 .",
    "consider @xmath832 , then @xmath833 and we know that for every @xmath834 such that @xmath835 we get a term in @xmath836 .",
    "we make the trivial choice @xmath837 and then we find a term in @xmath838 .    before the main theorem we state a triviality : the formula @xmath839 is valid .",
    "+ indeed , we already know that @xmath734 is valid , in fact we have constructed a term @xmath840 .",
    "define @xmath841 .",
    "in fact @xmath842 for each set @xmath268 and each term @xmath843 .",
    "+ from this simple fact is clear that @xmath780 has the right to be thought as the type of elements of the set @xmath268 .",
    "[ mainthm ] every basic axiom of czf is valid in the interpretation .",
    "we have already checked the defining schemes for the restricted quantifiers and the equality axiom @xmath844 .",
    "1 .   extensionality : the formula @xmath845 is extensional , so that by the previous lemma @xmath846 , and similarly @xmath847 , hence @xmath848 .",
    "2 .   set induction : let @xmath849 , we need to define for every set @xmath713 a function @xmath850 in order to conclude by @xmath768-abstraction .",
    "we define this function by transfinite recursion on the canonical elements of @xmath684 : we take a term @xmath851 and apply it to our set @xmath852 gaining a term in @xmath853 . in order to obtain a desired term in @xmath854",
    "we just need a function in @xmath855 which is given by the recursion hypothesis as follows @xmath856 .",
    "pairing : given sets @xmath857 we define @xmath858 by cases : @xmath859 and @xmath860 .",
    "now we want to use the equivalence given by the weak tarski universe in order to define an other function @xmath861 , we will take its supremum to be the pair @xmath862 .",
    "in fact let @xmath863 be the canonical term in the equivalence type + @xmath864^{\\tau } \\ar@/_2pc/[rr]^{g } & \\mathbf n_2 \\ar[r]^{g ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta }   & v } \\ ] ] + then we define @xmath865 and @xmath866 .",
    "in order to conclude it suffices to find a term in @xmath867 , consider now @xmath868 .",
    "thanks to the homotopy @xmath869 and by remark [ mainrem ] we have that @xmath870 so that from a term in @xmath871 we get a term in @xmath872 by an application of the transitivity of @xmath706 , therefore the term @xmath873 give rise to the desired term .",
    "union : the proof is similar to the previous one ; indeed , for every @xmath713 let @xmath874 .",
    "as before we want to apply the type constructor that matches the set theoretic operation , in this case it is clearly the dependent sum .",
    "define @xmath875 by the elimination rule on the pairs @xmath876 with @xmath877 and @xmath878 as @xmath879 , so that : + @xmath880 ^ -{\\tau } \\ar@/_2pc/[rr]^{g } & a \\ar[r]^{g ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta }   & v } \\ ] ] + and we take the corresponding set inside @xmath684 , namely @xmath881 . in order to conclude we want a term inside the type @xmath882 ; unwinding the definition of interpretation",
    "this type is equal to @xmath883 .",
    "now observe that @xmath884 so is enough to find a term inside @xmath885 ; and the needed term is @xmath886 .",
    "restricted separation : by a previous lemma every restricted formula @xmath771 give rise to a type equivalent to a small one .",
    "let @xmath887 be our formula restricted in all its variables except of @xmath235 which is free ; next consider @xmath888 which is bounded , so its interpretation @xmath889 is equivalent to a small type , in symbols @xmath890 .",
    "define @xmath891 by @xmath892 where @xmath877 and @xmath893 and the associated @xmath125 as usual : + @xmath782^{\\tau } \\ar@/_2pc/[rr]^{g } & a \\ar[r]^{g ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta }   & v } \\ ] ] + and",
    "we consider @xmath894 .",
    "now we want a term in @xmath895 . for the first half we define a function @xmath896 on @xmath67 by recursion over pairs as follows @xmath897 , and @xmath898 .",
    "hence @xmath899 give rise to the desired term for the first half of our axiom .",
    "the second half is similar : for @xmath900 and @xmath893 we define @xmath901 , as usual @xmath902 determines the desired term .",
    "strong collection : we start with a premiss , given a formula @xmath903 with at most @xmath235 and @xmath240 free , let @xmath904 be sets such that @xmath905 and for every @xmath906 we have this term @xmath907 . this yields a term in @xmath908 where we recall that @xmath909 .",
    "indeed , this term is @xmath910 . + now turn to the strong collection axiom : let @xmath584 as above and @xmath713 .",
    "we start with a term @xmath911 and we want to construct a term in the type @xmath912 . in order to achieve this consider the term @xmath913 in the dependent sum and project it @xmath914 and @xmath915 where @xmath916 and @xmath917 are the canonical projections .",
    "+ now define @xmath918 , so that @xmath919 and hence @xmath920 is the desired term . 7 .",
    "subset collection : given sets @xmath904 we use the equivalence given by the universe to perform type - theoretically the needed construction .",
    "consider @xmath921 so that @xmath922 and @xmath923 ; now define @xmath924 as @xmath925 and @xmath926 , given by our usual picture : + @xmath927^{\\tau } \\ar@/_2pc/[rr]^{g } & ( el({\\mkern 1.5mu\\overline{\\mkern-1.5mu\\alpha\\mkern-1.5mu}\\mkern 1.5mu } ) \\to el({\\mkern 1.5mu\\overline{\\mkern-1.5mu\\beta\\mkern-1.5mu}\\mkern 1.5mu } ) ) \\ar[r]^-{g ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta }   & v } \\ ] ] + let @xmath928 with at most @xmath492 , @xmath235 and @xmath240 free and let @xmath929 denote @xmath930 .",
    "finally let @xmath931 be another set and take @xmath932 to be a given term from which we wish to construct a term inside @xmath933 . then consider @xmath934 and @xmath935 , by which we construct @xmath936 .",
    "hence @xmath937 and @xmath938 so that @xmath939 gives us the desired term .",
    "infinity : let @xmath940 and @xmath941 be the canonical functions and @xmath942 , @xmath943 the associated functions defined on @xmath944 : + @xmath945^{\\tau_1 } \\ar@/_2pc/[rr]^{f_0 } & \\mathbf n_0 \\ar[r]^{f'_0 }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta_1 }   & v   } \\ ] ] + and + @xmath945^{\\tau_2 } \\ar@/_2pc/[rr]^{g_0 } & \\mathbf n_0 \\ar[r]^{g'_0 }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta_2 }   & \\mathbf n_0 } \\ ] ] + let @xmath946 .",
    "we have @xmath947 .",
    "now for every set @xmath713 define the function @xmath948 by cases as @xmath949 and @xmath950 ; consider the following diagram : + @xmath951^{\\tau_3 } \\ar@/_2pc/[rrr]^{h(\\alpha ) } & el({\\mkern 1.5mu\\overline{\\mkern-1.5mu\\alpha\\mkern-1.5mu}\\mkern 1.5mu } ) + el(n_1 ) \\ar[r]^-{\\tau_4 }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta_3 }   & el({\\mkern 1.5mu\\overline{\\mkern-1.5mu\\alpha\\mkern-1.5mu}\\mkern 1.5mu})+ \\mathbf n_1 \\ar[r]^-{h'(\\alpha ) } \\ar@<1ex>[l ] \\ar@/_1pc/[l]_-{\\theta_4 } & v } \\ ] ] + and define @xmath952 , @xmath953 and @xmath954 . by the kind of argument of lemma [ mainlem ] we know that @xmath955 is equivalent to @xmath956 , so that by composition we have an equivalence from @xmath957 to @xmath958 .",
    "+ we then form the supremum of this function @xmath959 .",
    "hence @xmath960 and by homotopy @xmath961 .",
    "+ now we prove that @xmath962 is valid . recall that @xmath963 , we have already found a term in the type in the middle .",
    "now we construct a term in the first type : consider firstly @xmath964 ; it yields a term in @xmath965 .",
    "+ finally define @xmath966 by cases as @xmath967 and @xmath968 .",
    "what we need is a term in @xmath969 and this is easy since @xmath970 gives rise to a term in the desired type .",
    "let @xmath971 be the term obtained in the type @xmath962 .",
    "+ then we define the set of natural numbers from the type @xmath972 , so define the map @xmath973 by recursion as @xmath974 and @xmath975 ; consider the diagram : + @xmath976^{\\tau_4 } \\ar@/_2pc/[rr]^{\\delta } & \\mathbf n \\ar[r]^{\\delta ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta_4 }   & v   } \\ ] ] + define the set of natural numbers as @xmath977 .",
    "first of all we check the validity of @xmath978 so we need a term in @xmath979 thanks to @xmath980 we have that @xmath981 together with @xmath982 gives rise to the desired term .",
    "+ similarly for @xmath983 we define @xmath984 by recursion as @xmath985 and @xmath986 so that by precomposition with @xmath987 we get the desired term .",
    "similarly for @xmath988 and we conclude as usual .",
    "now we focus on choice principle , we shall see that each instance of the set - theoretic axiom scheme of dependent choices is valid in the interpretation .",
    "+ first of all we prove in martin - lf type theory that the type theoretic scheme of dependent choice holds .    [ dc ]",
    "the following type is inhabited : @xmath989 \\to [ ( \\pi x : a)(b(x ) \\to ( \\sigma z : \\textbf n \\to a)g(x , z))]\\ ] ]    where @xmath990 $ ] .",
    "if @xmath124 is an element of the premiss i.e. @xmath991 then define @xmath992 and let :    @xmath993 @xmath994 @xmath995    now let @xmath554 and @xmath996 .",
    "then by recursion over @xmath972 we may define @xmath997 by @xmath998 and @xmath999 .",
    "observe that we can derive the following inhabitation judgements :    @xmath1000 @xmath1001 @xmath1002\\ ] ]    hence putting these three together we obtain the consequent of dc .    using the basic axiom it is easy to define the standard set - theoretic notions , interpreted in type theory .",
    "so for example a set @xmath713 is a _ relation _ iff the following holds @xmath1003 .",
    "+ let now introduce an useful function : if @xmath904 such that @xmath905 then define @xmath1004 .    1 .    2 .",
    "if @xmath904 with @xmath905 then @xmath1005 is a relation with domain @xmath268 and range @xmath270 ; 3 .",
    "if @xmath1006 such that @xmath297 is a relation with domain @xmath268 then , for some @xmath1007 with @xmath905 , @xmath1008 .    1 .    2 .",
    "let @xmath297 be the set @xmath1005 .",
    "then by choosing @xmath1009 we get a term in : @xmath1010 so that we have a proof of : @xmath1011 + hence @xmath297 is a relation whose domain is a subset of @xmath268 and whose range is a subset of @xmath270 . also ,",
    "by choosing @xmath1012 , we get : @xmath1013 thus @xmath268 is a subset of the domain of @xmath297 , and hence @xmath1014 has domain @xmath268 .",
    "similarly , @xmath1014 has range @xmath270 .",
    "3 .   let @xmath1015 be a relation with domain @xmath268 , then @xmath1016 . by the type - theoretic axiom of choice [ choice ]",
    "there is @xmath1017 such that @xmath1018 , so that if @xmath1019 then @xmath1007 with @xmath1020 and @xmath1021 .",
    "now we give a definition in type theory , which is internal to type theory and is not an extensional notion , but is closely related to choice principles and will be one of the key ingredient of the proof , being a bridge between the extensional equality @xmath706 and the intensional identity types of sets .",
    "a set @xmath713 is * injectively presented * iff for all @xmath1022 we have @xmath1023    [ dclem ] let @xmath713 be injectively presented .",
    "then :    1 .   if @xmath1024 , such that @xmath1020 and @xmath931 , then for all @xmath1025 we have @xmath1026 2 .   if @xmath1015 then @xmath297 is a function with domain @xmath268 iff @xmath1027 for some @xmath1007 such that @xmath1020 ; 3 .   if @xmath1028 such that @xmath1029 then @xmath1030    1 .    2 .",
    "let @xmath1007 such that @xmath1020 and @xmath931 , @xmath1031",
    ". then @xmath1032 iff @xmath1033 iff @xmath1034 iff @xmath1035 iff @xmath1036 .",
    "if @xmath1015 is a function with domain @xmath268 then it is in particular a relation with domain @xmath268 hence by the second part of the previous theorem there is @xmath1007 such that @xmath905 and @xmath1008 . as @xmath297 is a function with domain @xmath268 and @xmath1005",
    "is a relation with domain @xmath268 it follows that @xmath1037 .",
    "for the converse let @xmath1027 where @xmath1007 such that @xmath1020 . by the first part of the previous theorem @xmath297 is a relation with domain @xmath268 .",
    "also , for @xmath1038 , if @xmath1039 then by the first part of this theorem we have @xmath1040 .",
    "hence : @xmath1041 so that @xmath297 is a function with domain @xmath268 .",
    "4 .   let @xmath1028 such that @xmath1042 . then @xmath1043 iff @xmath1044 iff @xmath1045 .",
    "similarly for the converse .",
    "the set of natural numbers @xmath632 is injectively presented .",
    "first of all recall the definition of the set of natural numbers in type theory @xmath1046 with the usual diagram :    @xmath976^{\\tau } \\ar@/_2pc/[rr]^{\\delta } & \\mathbf n \\ar[r]^{\\delta ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta }   & v   } \\ ] ]    our goal is to prove @xmath1047 . in order to do this",
    "we split the map in three as : @xmath1048 .",
    "+ the latter is given as usual by the principle of indiscernibility of identicals , the second is simply the application of @xmath1049 to a path , whereas the first can be obtained by a routine double induction on @xmath972 on @xmath1050 and within that on @xmath1051 , at the key steps two terms are needed one for the empty set and one for the successors : @xmath1052 and @xmath1053 , extracting these is easy .",
    "the set - theoretic axiom of dependent choice is valid in the interpretation , more generally for any extensional family of types @xmath1054 over @xmath684 and for any family of types @xmath1055 over @xmath1056 extensional in each argument , such that @xmath1057 then for each @xmath713 such that @xmath1058 there is @xmath931 such that @xmath1059 is a function with domain @xmath632 , moreover @xmath1060 and for every @xmath636 and for all @xmath1061 @xmath1062 where @xmath1063 is the successor of @xmath235 .",
    "the idea is to use the type - theoretic axiom of dependent choice and then obtain the set - theoretic analogue using the fact that @xmath632 is injectively presented and the previous constructed function @xmath1005 .",
    "+ let @xmath713 be such that @xmath1058",
    ". then by the type theoretic axiom of dependent choice [ dc ] exists @xmath1064 such that @xmath1065 and @xmath1066 .",
    "then consider the diagram :    @xmath976^{\\tau } \\ar@/_2pc/[rr]^{c } & n \\ar[r]^{c ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta }   & v   } \\ ] ]    and define @xmath1067 , recall that @xmath1068 , hence @xmath1069 . if @xmath1070 .",
    "@xmath632 is injectively presented by the previous lemma then by the second part of [ dclem ] @xmath1059 is a function with domain @xmath268 . as @xmath1071 , by the usual trick it follows that @xmath1072 .",
    "+ finally , let @xmath1073 and @xmath1061 such that @xmath1074 and @xmath1075 .",
    "observe that @xmath1076 implies directly by the first part of [ dclem ] that @xmath1077 . in order to use the extensionality of the families @xmath166 and @xmath83 we just need the analogous for @xmath297 .",
    "so consider the successor internal to @xmath1078 given by @xmath1079 , we have that @xmath1080 , which is a simple calculation . therefore by the first part of [ dclem ] we obtain @xmath1081 , so that we have the thesis .",
    "finally , we study the regular extension axiom .",
    "rea is valid in the interpretation .    in czf",
    "every set is a subset of a transitive set , for example the transitive closure [ trans ] .",
    "hence it suffices to show that if @xmath1082 is transitive , then there is a regular set @xmath1083 such that @xmath1084 .",
    "then it suffices to show that @xmath1085 is transitive and that for each family of types @xmath83 over @xmath1056 we have :    * @xmath1086    where @xmath1087 .",
    "+ so let @xmath1082 be transitive and define @xmath1088 hence we have @xmath1089 and then @xmath1090 .",
    "now we form the @xmath707-type of this family : @xmath1091 , and the usual diagram :    @xmath1092 ^ -{\\tau } \\ar@/_2pc/[rr]^{h } & a \\ar[r]^{h ' }   \\ar@<1ex>[l ]   \\ar@/_1pc/[l]_{\\theta }   & v   } \\ ] ]    where @xmath1093 is defined by transfinite recursion over the @xmath707-type as @xmath1094 given @xmath1095 and @xmath1096 .",
    "we define the desired extension as @xmath1097 .",
    "+ now we prove an intermediate step : let @xmath1007 , if @xmath1098 for some @xmath1015 such that @xmath1099 for some @xmath1100 , then for every extensional family of types @xmath83 over @xmath1056 the @xmath1101 is valid .",
    "+ assume that @xmath1102 .",
    "recall the definition of @xmath268 , hence by the hypotheses we have @xmath1103 .",
    "hence by the type - theoretic axiom of choice there is an @xmath1104 such that the following condition @xmath1105 $ ] holds : @xmath1106 . + next consider the composition @xmath1107 and consider the supremum @xmath1108 .",
    "we define the desired set as @xmath1109 hence @xmath1110 and @xmath1111 .",
    "this yields to @xmath1112 by condition @xmath1105 $ ] .",
    "therefore we have @xmath1113 .",
    "as @xmath1098 we get @xmath1114 by extensionality , as desired . + now return to our set @xmath268 , we show that it is regular . for simplicity",
    "define @xmath1115 .",
    "let @xmath1116 then @xmath1117 for some @xmath1118 , we want a map : @xmath1119    and we build it on canonical terms : so by induction suppose @xmath1120 for @xmath1121 and @xmath1096 , then @xmath1122 .",
    "as @xmath1123 for @xmath1124 it follows that @xmath1125 . finally , note that the assumptions of the intermediate step hold with @xmath1126 .",
    "it remains to show that @xmath1127 .",
    "we show that @xmath1128 by set - induction on @xmath1129 . as inductive hypothesis",
    "we assume @xmath1130 .",
    "now if @xmath1131 then @xmath1132 for some @xmath1121 so the assumption of the intermediate step holds for @xmath1133 , hence @xmath1101 holds for @xmath1134 .",
    "as @xmath1135 is transitive by the induction hypothesis we have @xmath1125 , from this proof we want a proof of the thesis .",
    "+ note that @xmath1136 is equivalent to @xmath1137 .",
    "let start with some remarks : extensionality , set - induction and subset collection do not need any change in the previous theorems , the standard proofs generalise word by word . for the other axioms",
    "some changes are needed in order to handle the weakening of the universe .",
    "in particular the three nontrivial points are given by restricted separation and infinity which rely on lemma [ mainlem ] , and the discussion about dependent choices which needs few more words than the usual reformulations .",
    "+ observe that we have used function extensionality just for lemma [ mainlem ] .",
    "this yields to the question if it is necessary for the lemma and for restricted separation .",
    "however , we will not address this question here .",
    "we can not omit a brief comparison with the treatment of the cumulative hierarchy in @xcite .",
    "it is defined as an higher inductive type with the aim to provide a model of zfc ( for some improvements on the definition see @xcite ) .",
    "thank to its definition is possible to prove that for @xmath1138 the type @xmath1139 is inhabited . in spite of this result",
    "this notion seems unable to prove strong collection and subset collection .",
    "finally , in order to build the desired model of zfc an additional axiom is added to type theory , namely the set - theoretical axiom of choice , which yields full excluded middle .",
    "+ this generalised interpretation has implications on the status of the axiom of univalence , in fact univalence is a statement about the universe .",
    "now we know that weak univalent tarski universes - which are easier to obtain in semantics - are good as the strict ones , if we are interested in obtaining models of constructive set theory .",
    "+ therefore one may wonder if there are substantial differences between the consequences of the existence of strict univalent universes and weak ones .",
    "we expect that differences between these two variants emerge when the proof - theoretic and computational structure of the theory are analysed .",
    "indeed , the rules for the weak universe break the symmetry of the computational rules introducing equivalences instead of syntactical definitional equalities .",
    "+ in addition , this result may be seen as a hint that also ( some of ) the other coherence conditions can be weakened , hence that homotopical models can provide motivations and play a role in the development of type theoretical system with explicit substitution , as suggested in @xcite(for example they are studied in @xcite ) .",
    "these systems have strong syntactical motivations and are studied with the hope to fill the gap between type theories and concrete implementations , in fact substitutions are usually treated implicitly , hiding relevant computations in the meta - theoretical level .",
    "+ in our opinion the next step in the direction of the study of weak univalent universes is to check if they imply function extensionality . we expect this to be true .",
    "indeed , the main reason for the introduction of an extensional principle like function extensionality - with the risk to break the computational content of the theory - is the study of the models in which this principle is validated , which are also the main motivation for weak universes .",
    "this appendix we recall the very basics about locally cartesian closed categories , we refer the reader to @xcite chapter a1.5 .      observe that * cat * is not locally cartesian closed because pullback functors do not in general preserve coequalizers .",
    "given an object @xmath166 in @xmath32 we use the same letter for the unique morphism @xmath1141 , thus @xmath1142 denotes the right adjoint of the forgetful functor @xmath1143 .",
    "@xmath1144 is the product projection @xmath1145 .",
    "observe that @xmath1148 is the composite @xmath1149 , so if @xmath1150 exists we may define @xmath1151 as the composite @xmath1152 .",
    "+ conversely , suppose @xmath166 exponentiable",
    ". given @xmath387 form the pullback :      where @xmath1154 is obtained by adjunction from the projection @xmath1155 .",
    "now for any object @xmath582 of @xmath32 , morphisms @xmath1156 correspond to morphisms @xmath1157 such that @xmath1158 , and hence t morphisms @xmath1159 such that @xmath1160 is the product projection @xmath1161 , i.e. to morphisms @xmath1162 in @xmath1163 .",
    "it is straightforward to verify that this correspondence is natural in @xmath582 and @xmath124 .",
    "let @xmath32 be a category and @xmath1167 a functor .",
    "then there is a category @xmath1168 such that the slice category @xmath1169 is equivalent to the functor category @xmath1170 .",
    "moreover , if @xmath32 is small [ with small @xmath4-sets ] , then so is @xmath1168 .",
    "we define @xmath1168 as a category structured over @xmath32 its objects are the elements of the disjoint union of sets @xmath1171 , the underlying object of @xmath235 being the unique @xmath67 such that @xmath1172 .",
    "sources and targets are defined by @xmath1173 iff @xmath1174 .",
    "the fact that @xmath1168 is small ( or has small @xmath4-sets ) if @xmath32 is , follows automatically from the definition .",
    "+ given an object @xmath1175 of @xmath1176 , we define a functor @xmath1177 by : @xmath1178 if @xmath1172 , with @xmath1179 whenever this makes sense .",
    "it is clear that a morphism @xmath1180 in @xmath1176 induces a natural transformation @xmath1181 , so that @xmath674 becomes a functor @xmath1182 .",
    "+ conversely , given a functor @xmath1183 , let @xmath1184 denote the functor @xmath1185 defined by : @xmath1186 with @xmath1187 , for @xmath387 in @xmath32 , defined as the union of the functions @xmath1188 over all @xmath1172 .",
    "@xmath1184 comes equipped with an obvious natural transformation to @xmath83 , and @xmath677 itself is a functor @xmath1189 .",
    "it is easy to check that @xmath677 and @xmath677 are actually quasi - inverses .      by the previous lemma",
    "every slice is equivalent to another category of presheaves , then it suffices to show that @xmath1190 is cartesian closed .",
    "the idea of the proof is a common argument : if exponentials exists , their definition is forced by the yoneda lemma . indeed ,",
    "if @xmath1191 exists , then elements of @xmath1192 must correspond bijectively to morphisms @xmath1193 , and hence to morphisms @xmath1194 .",
    "the functor category @xmath1195 has small @xmath4-sets , so we take the set of all such morphisms as the definition of @xmath1192 on objects . given a morphism @xmath387 in @xmath32 , @xmath1196 is defined as the precomposition with @xmath1197 .",
    "+ next we define the evaluation map @xmath1198 by @xmath1199 where @xmath1200 and @xmath1172 . finally , given a morphism @xmath1201 we define its exponential transpose as @xmath1202 by @xmath1203 for @xmath1204 , @xmath387 and @xmath1205 .",
    "steve awodey , _ from sets to types , to categories , to sets_. in foundational theories of classical and constructive mathematics , the western ontario series in philosophy of science volume 76 , pages 113 - 125 , 2011 .",
    "charles e. blair , _ the baire category theorem implies the principle of dependent choices_. bulletin lacadmie polonaise des science , srie des sciences mathmatiques , astronomiques et physiques , volume 25 , number 10 , pages 933934 , 1977 .",
    "martin hofmann , thomas streicher , _ the groupoid interpretation of type theory_. in twenty - five years of constructive type theory ( venice 1995 ) , oxford logic guides volume 36 , pages 83 - 111 , oxford university press , 1998 .",
    "peter j. may , _ a concise course in algebraic topology_. chicago lectures in mathematics , the university of chicago press , 1999 .",
    "freely available at http://www.math.uchicago.edu/~may/concise/conciserevised.pdf"
  ],
  "abstract_text": [
    "<S> the aim of this thesis is to give a concise introduction to homotopy type theory , to aczel s constructive set theory and to simplicial sets and their homotopy theory in particular referring to their standard model structure , showing some of their interactions . </S>",
    "<S> + the original part of this thesis consists in the final chapter where we introduce in the type theoretic context a definition of weak tarski universe motivated by categorical models like the one given by simplicial sets . </S>",
    "<S> the weakening of this notion , although present in some imprecise form in mathematical folklore was not published before , at the best of our knowledge . </S>",
    "<S> moreover , we show using the axiom of function extensionality that the type theoretic interpretation of constructive set theory generalises to homotopy type theory with a weak tarski universe .        </S>",
    "<S> universit degli studi di roma tor vergata +   +   +   +   +   +    * advisors : *   + prof . </S>",
    "<S> anna barbara veit + prof . </S>",
    "<S> ieke moerdijk </S>"
  ]
}