{
  "article_text": [
    "let @xmath0 be a smooth projective curve over a field @xmath4 of genus @xmath8 , and let @xmath2 be an ample line bundle over @xmath0 .",
    "if @xmath9 , then there exist nonzero global sections @xmath10 such that the associated morphism @xmath11 is an embedding into projective space . in this paper",
    ", we would like to consider an analogous statement for a berkovich skeleton in non - archimedean geometry , in which projective space is replaced by tropical projective space , and an embedding is replaced by a homeomorphism onto its image preserving integral structures ( called a faithful tropicalization ) . in @xcite , we consider a version of this statement for higher dimensional varieties .    in the following , we assume that @xmath4 is an algebraically closed field which is complete with respect to a non - trivial non - archimedean value .",
    "we set @xmath12 .",
    "the @xmath13-dimensional tropical projective space is defined to be @xmath14 , where @xmath15 if there exists @xmath16 such that @xmath17 for any @xmath18 ( see @xcite ) .",
    "let @xmath6 denote the analytification of @xmath0 in the sense of berkovich , and let @xmath5 be a skeleton ( which is allowed to have ends ) of @xmath19 ; @xmath5 is a closed subset of @xmath20 and has an integral structure ( see  [ subsec : berko : skeleta ] for details ) .",
    "we say that @xmath5 has a _ faithful tropicalization associated to the linear system @xmath21 _ if there exist nonzero global sections @xmath10 satisfying the following property : if @xmath22 denotes the associated morphism , then the restriction of @xmath23 to @xmath5 is a homeomorphism onto its image preserving integral structures .",
    "( see  [ subsec : unimodular : faithful ] for details . )",
    "the following is our main result .",
    "[ theorem  [ thm : maintheorem : text ] ] [ thm : main : unimodular : faithful ] let @xmath4 be an algebraically closed field which is complete with respect to a non - trivial non - archimedean value .",
    "let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 , let @xmath5 be a skeleton of @xmath19 , and let @xmath2 be a line bundle over @xmath0 .",
    "suppose that @xmath24 then @xmath5 has a faithful tropicalization associated to @xmath21 .    if @xmath1 , then @xmath25 . as a consequence of theorem  [ thm : main : unimodular : faithful ] , we obtain the following result on tropicalization associated to the pluri - canonical systems .",
    "[ cor : faithful : canonical ] let @xmath4 , @xmath0 , and @xmath5 be as in theorem  [ thm : main : unimodular : faithful ] .",
    "suppose that @xmath1 .",
    "then @xmath5 has a faithful tropicalization associated to the pluri - canonical linear system @xmath26 for any @xmath27 .    as complementary results , we show that in low genera @xmath28 , the bound in theorem  [ thm : best : possible ] is optimal .",
    "[ thm : best : possible ] let @xmath4 be as in theorem  [ thm : main : unimodular : faithful ] . then there exist a smooth projective curve over @xmath4 of genus @xmath0 of genus @xmath29 resp .",
    "@xmath30 , @xmath31 , a line bundle @xmath2 of degree @xmath32 resp .",
    "@xmath29 , @xmath31 , and a skeleton @xmath5 of @xmath19 such that @xmath5 does _ not _ have a faithful tropicalization associated to @xmath21 .",
    "there are some results concerning tropicalization of skeleta .",
    "katz  markwig ",
    "markwig @xcite , baker ",
    "payne  rabinoff @xcite , gubler  rabinoff ",
    "werner @xcite , baker ",
    "rabinoff @xcite showed that , for a smooth projective variety @xmath0 , there exist nonzero rational functions @xmath33 of @xmath0 such that @xmath34 gives a faithful tropicalization of @xmath5 .",
    "in particular , if @xmath0 is a smooth projective curve , @xmath2 is an ample line bundle over @xmath0 , and if @xmath35 is a sufficiently large integer , then @xmath36 can be regarded as elements of @xmath37 , so that @xmath5 has a faithful tropicalization associated to @xmath38 .",
    "theorem  [ thm : main : unimodular : faithful ] tells us that one can bound @xmath35 effectively in the sense that , for any line bundle @xmath2 with @xmath7 , @xmath5 has a faithful tropicalization associated to @xmath21 .",
    "we remark that the tropicalization map is not injective on the whole @xmath19 .",
    "we also remark that , from a different perspective , hrushovski  loeser  poonen @xcite studies if @xmath19 is embedded in the euclidean space @xmath39 by a homeomorphism onto its image ( forgetting integral structures ) . in another direction ,",
    " musiker ",
    "yu @xcite and amini @xcite study embeddings of tropical curves associated to linear systems . we also remark that integral structures of berkovich skeleta are of interest in mirror symmetry through the work of kontsevich ",
    "soibelman @xcite .",
    "let us explain ideas of our proof of theorem  [ thm : main : unimodular : faithful ] .",
    "let @xmath40 be a semistable curve over the ring of integers @xmath41 of @xmath4 equipped with an isomorphism @xmath42 , and let @xmath43 be a line bundle over @xmath40 equipped with an isomorphism @xmath44 .",
    "we call such a pair @xmath45 a model of @xmath46 over @xmath41 .",
    "our basic strategy is to construct various models @xmath47 of @xmath46 and take nonzero global sections @xmath48 , which we regard as global sections of @xmath49 via the isomorphism @xmath50 , i.e. , we consider @xmath51 .",
    "then we consider a morphism @xmath52 defined by @xmath53 s , and we show that @xmath23 gives a faithful tropicalization .",
    "we explain in more detail . for simplicity , suppose now that a given skeleton is the canonical skeleton @xmath54 in @xmath19 , which is the associated skeleton of any deligne ",
    "mumford semistable curve @xmath55 with generic fiber @xmath0 and does not depend on the choice of such @xmath40 .",
    "then @xmath54 carries a natural structure of a compact @xmath56-metric graph , where @xmath57 denotes the value group of @xmath4 .",
    "each irreducible component @xmath58 of the special fiber @xmath59 gives a point @xmath60 $ ] of @xmath19 ( called the shilov point associated to @xmath58 ) , and to prove theorem  [ thm : main : unimodular : faithful ] , we need to , for example , separate such points by global sections of @xmath2 .",
    "a node of @xmath59 gives a segment @xmath61 of @xmath54 , and we need to , for example , separate points in @xmath61 , or separate a point in @xmath61 and a point in @xmath62 .",
    "then our construction of desired global sections of @xmath2 in theorem  [ thm : main : unimodular : faithful ] is divided mainly into two parts . in the first part",
    ", we use a theory of @xmath56-divisors over @xmath54 , which has been recently developed ( see , for example , @xcite , @xcite , @xcite , @xcite ) .",
    "we have the retraction map @xmath63 , which induces the specialization map @xmath64 from the divisor group on @xmath0 to the @xmath56-divisor group on @xmath54 .",
    "we take a divisor @xmath65 on @xmath0 such that @xmath66 . using riemann s inequality , the notion of reduced divisors on metric graphs , and so forth ,",
    "we construct various @xmath56-divisors @xmath67 on @xmath54 that are linearly equivalent to @xmath68 .",
    "then , to connect the first part and the second part , we use a raynaud s type theorem on the surjectivity between principal divisors under the specialization map ( see , for example , @xcite , @xcite , @xcite ) . in the second part , for each such @xmath56-divisor @xmath67 , we construct a `` good '' deligne  mumford model @xmath45 of @xmath46 such that @xmath69 = d$ ] , where @xmath58 runs through all the irreducible component of the special fiber @xmath70 and @xmath60 \\in \\gamma_{{\\operatorname{can}}}$ ] is the shilov point associated to @xmath58 . then we construct various `` good '' global sections @xmath71 of @xmath43 , and we consider the restriction @xmath72 .",
    "( we also need to consider global sections of @xmath73 for suitable vertical divisors @xmath74 of @xmath40 , which we call stepwise vertical divisors . ) finally , we show that , varying @xmath67 and @xmath75 , the global sections @xmath76 s of @xmath2 give a faithful tropicalization of @xmath0 .",
    "let us explain here why @xmath77 appears , even in a very rough form .",
    "first , for the proof , we use riemann s inequality ( @xmath78 if @xmath79 ) on @xmath80 , which requires `` @xmath8 . ''",
    "also , to show basepoint freeness and vanishing of cohomologies , we want @xmath81 ( or @xmath82 ) to be `` positive , '' which requires `` @xmath83 . ''",
    "then , combining the two , our method requires `` @xmath84 . '' when @xmath85 , theorem  [ thm : best : possible ] tells us that @xmath77 can not be reduced to @xmath86 , thus by our `` @xmath8 plus @xmath87 '' approach it is difficult to reduce @xmath77 further .",
    "however , a different approach may give a better lower bound for a faithful tropicalization , and it will certainly be an interesting problem to obtain the best lower bound .",
    "let @xmath88 .",
    "what is the best lower bound @xmath89 , which depends only on @xmath8 , with the following properties ?",
    "let @xmath0 be any smooth projective curve of genus @xmath8 over @xmath4 , let @xmath2 be any line bundle over @xmath0 , and let @xmath5 be any skeleton of @xmath19 . then , if @xmath90 , then @xmath5 has a faithful tropicalization associated to @xmath21 .",
    "( note that theorem  [ thm : main : unimodular : faithful ] gives @xmath91 . )    as explained as above , for the proof of theorem  [ thm : main : unimodular : faithful ] , we show the existence of `` good '' divisors on a metric graph , and then we lift them to divisors on a curve under the specialization map .",
    "we remark that , albeit from a different perspective , this type of lifting argument is sometimes quite successful in tropical geometry .",
    "for example , cools , draisma , payne and robeva @xcite gave a tropical proof of the brill - noether theorem .",
    "see also @xcite , @xcite , @xcite , @xcite , for example .",
    "the organization of this paper is as follows .",
    "section  [ sec : preliminaries ] is preliminary .",
    "we recall semistable models and semistable pairs , some known facts on berkovich spaces and tropical geometry .",
    "in particular , we recall the canonical skeleton @xmath54 for a model .",
    "we also give the definition of a faithful tropicalization . in ",
    "[ sec : models ] , we introduce the notion of a `` good '' model .",
    "further , for a given effective divisor on the canonical skeleton of @xmath19 , we construct a good model with a line bundle which is associated to a divisor that is a `` lifting '' of the divisor on the skeleton . in  [ sec : usuful : lemmas ] , we show several lemmas that are useful for constructing required sections .",
    "then we show that the canonical skeleton @xmath54 can be embedded into @xmath92 locally isometrically ( called a unimodular tropicalization ) . in  [ section : ftcan ]",
    ", we construct sections that separate points in @xmath54 , and establish a faithful tropicalization for @xmath54 . in  [ section : ft : lowgenus ] , we discuss the tropicalization in low genera . in ",
    "[ sec : ft : general : model ] , we establish a faithful tropicalization for an arbitrary skeleton with possible ends , thus completing the proof of theorem  [ thm : main : unimodular : faithful ] . here , we also give complementary results .",
    "originally , we essentially worked only over the completion of the algebraic closure of a discrete valued field , and the bound of the degree was @xmath93 . while we were making gradual improvement of our results , we had opportunities to give talks in several conferences and have fruitful discussions .",
    "we especially thank professor antoine ducros for helpful discussions , which lead us to work over any algebraically closed field that is complete with respect to a non - trivial non - archimedean value .",
    "an inclusion @xmath94 of sets allows the case @xmath95 .",
    "a _ variety _ over a field @xmath96 means a reduced separated scheme of finite type over @xmath96 .",
    "( we allow that a variety is reducible . )",
    "a _ curve _ is a variety of pure dimension @xmath30 . for a curve @xmath97 over @xmath96 , let @xmath98 denote the set of irreducible components of @xmath97 and let @xmath99 denote the set of non - smooth points of @xmath100 .",
    "connected curve @xmath67 in @xmath97 _ means a connected union of irreducible components of @xmath97 .",
    "we denote by @xmath101 the union of irreducible components of @xmath97 other than those in @xmath67 , that is , @xmath102 .",
    "a line bundle @xmath103 on @xmath97 is _ nef _ if @xmath104 for any @xmath105 .    throughout this paper",
    ", @xmath4 denotes an algebraically closed field which is complete with respect to a non - trivial non - archimedean value @xmath106 .",
    "we denote by @xmath41 the ring of integers of @xmath4 , by @xmath107 the maximal ideal of @xmath41 , and by @xmath96 the residue field @xmath108 .",
    "let @xmath109 be the valuation map given by @xmath110 , and let @xmath111 be the value group of @xmath4 .",
    "in this paper , we use notions on graphs .",
    "a _ finite graph _",
    "@xmath112 means a finite connected graph ( that is allowed to have loops and multiple edges ) , and we denote by @xmath113 and @xmath114 the set of vertices and the set of edges , respectively .",
    "we assign each edge @xmath115 length in @xmath56 .",
    "then the graph @xmath112 assigned with edge lengths gives a @xmath56-metric graph @xmath5 together with the set of vertices @xmath113 and the set of edges @xmath114 . a _ @xmath56-metric graph _",
    "@xmath5 is a connected metric graph such that there exists a finite graph @xmath112 assigned with edge lengths in @xmath56 that induces @xmath5 as above .",
    "such @xmath112 is called a _ @xmath56-rational model _ of @xmath5 .",
    "let @xmath5 be a @xmath56-metric graph with a set @xmath116 of vertices and a set @xmath117 of edges .",
    "we naturally regard @xmath116 as a finite subset of @xmath5 and each @xmath118 as a closed subset of @xmath5 .",
    "we take any @xmath118 and set @xmath119 .",
    "we call a vertex in @xmath120 an _ end vertex _ of @xmath61 , and we define the _ relative interior of @xmath61 _ by @xmath121 if @xmath61 is isometric to a closed interval , then @xmath122 ; if @xmath61 is a loop , then @xmath123 .    a point @xmath124 is a _ @xmath56-valued point _",
    "if the distance from @xmath125 to one ( hence any ) vertex @xmath126 of one ( hence any ) @xmath56-rational model @xmath112 of @xmath5 lies in @xmath56 .",
    "we denote by @xmath127 the set of @xmath56-valued points of @xmath5 .",
    "in this section , after recalling semistable models and semistable pairs , we briefly review some facts from berkovich spaces and tropical geometry , which we use later . then we define a unimodular and a faithful tropicalization associated to a linear system .",
    "our basic references for berkovich spaces and skeleta are @xcite , @xcite , and @xcite .",
    "we use the language of schemes ( rather than formal schemes ) , which might be more familiar for readers in algebraic geometry , even though actual proofs use formal geometry .",
    "this subsection is mainly to fix the notation .",
    "we recall semistable curves , semistable models and semistable pairs .",
    "we first recall the notion of semistable curves over schemes .",
    "let @xmath128 be a scheme .",
    "a _ semistable curve _ of genus @xmath129 over @xmath128 is a proper flat morphism @xmath130 whose geometric fibers @xmath131 are reduced , separated , connected , @xmath30-dimensional schemes that has only ordinary double points ( called nodes ) as singularities and satisfies @xmath132 . a semistable curve @xmath40 over a scheme @xmath128 is said to be _ strictly semistable _ ,",
    "if , for any scheme point @xmath76 of @xmath128 , any singular point of @xmath70 is defined over the residue field @xmath133 and any irreducible component of @xmath70 is geometrically irreducible and smooth .    for @xmath134",
    ", we say that @xmath135 is of _ connected type _ if the partial normalization @xmath136 of @xmath137 at @xmath135 is connected ; we say that @xmath135 is of _ disconnected type _ if otherwise .",
    "a line bundle @xmath43 over @xmath40 is _ vertically nef _",
    "if @xmath138 is nef for all geometric fibers @xmath131 . a semistable curve is a _",
    "mumford semistable curve _",
    "if @xmath1 and if the dualizing sheaf @xmath139 is vertically nef . a deligne ",
    "mumford semistable curve is a deligne ",
    "stable _ curve ( or simply a _",
    "stable _ curve ) if @xmath139 is ample .",
    "let @xmath40 be a semistable curve over a scheme @xmath128 .",
    "an irreducible component @xmath58 of @xmath131 is a _ @xmath140-curve _ if @xmath141 and @xmath142 , and is a _",
    "@xmath143-curve _ if @xmath141 and @xmath144 .",
    "if @xmath117 is a connected curve in @xmath131 such that each irreducible component is a @xmath143-curve , then @xmath117 is a chain , which we call a _",
    "@xmath143-chain_. by the adjunction formula , an irreducible component @xmath58 of @xmath131 is a @xmath140-curve if and only if @xmath145 , and @xmath58 is a @xmath143-curve if and only if @xmath146 .",
    "if @xmath131 does not contain a @xmath140-curve ( e.g. when @xmath147 is deligne ",
    "mumford semistable ) , a union @xmath117 of irreducible components is a @xmath143-chain if and only if @xmath117 is connected and @xmath148 .",
    "let @xmath117 be a @xmath143-chain in @xmath131 .",
    "we say that @xmath117 is _ of connected type _ if @xmath149 is connected , and @xmath117 is _ of disconnected type _ if @xmath149 is disconnected .",
    "note that if @xmath147 is a deligne ",
    "mumford semistable curve and @xmath117 is of disconnected type , then @xmath149 consists of two connected components each of whose arithmetic genus is positive .",
    "a @xmath143-chain @xmath117 is called a _ maximal _",
    "@xmath143-chain if @xmath150 is a @xmath143-chain with @xmath151 , then @xmath152 .",
    "let @xmath0 be a variety over @xmath4 .",
    "a _ model of @xmath0 over @xmath41 _ is a flat morphism @xmath153 of finite type equipped with an identification of the generic fiber of @xmath154 with @xmath0 .",
    "when @xmath0 is proper over @xmath4 , we require that a model be also proper over @xmath41 . the special fiber of @xmath40 is denoted by @xmath70 .",
    "for two models @xmath155 of @xmath0 over @xmath41 , we say that _",
    "@xmath156 dominates @xmath147 _ if the identity morphism on @xmath0 extends to a morphism @xmath157 .",
    "now let @xmath0 be a smooth projective curve over @xmath4 .",
    "a _ semistable model _ of @xmath0 over @xmath41 is a model @xmath158 such that @xmath40 is a semistable curve .",
    "if a semistable model @xmath40 is strictly semistable , then @xmath40 is said to be a _",
    "strictly _ semistable model .    if @xmath40 is deligne",
    " mumford semistable ( resp .",
    "mumford stable ) , then @xmath40 is said to be a _ deligne  mumford _",
    "semistable ( resp .",
    "mumford stable ) model of @xmath0 . by (",
    "* theorem  7.1 ) or ( * ? ? ?",
    "* corollary  4.23 and remark  4.24 ) , there exists a unique deligne ",
    "mumford stable model of @xmath0 .",
    "we denote the deligne  mumford stable model of @xmath0 by @xmath159 .",
    "it is known that the stable model is `` minimal '' in the sense that if @xmath147 is any semistable model of @xmath0 , then @xmath147 dominates @xmath160 .",
    "let @xmath2 be a line bundle over @xmath0 .",
    "let @xmath147 be a model of @xmath0 over @xmath41 .",
    "we would often like to consider a line bundle @xmath43 over @xmath40 extending @xmath2 .",
    "we say that a line bundle @xmath161 over @xmath147 is a _ model _ of @xmath2 if @xmath162 . in this case",
    ", we say that a pair @xmath163 is a _ model _ of @xmath46 . if @xmath40 is semistable ( resp .",
    "strictly semistable , deligne ",
    "mumford semistable , deligne ",
    "mumford stable ) , we say that @xmath163 is a",
    "_ semistable _",
    "( resp . _ strictly semistable _ , _ deligne  mumford semistable _ , _ deligne  mumford stable _ ) model of @xmath46 .",
    "let @xmath0 be a smooth projective curve over @xmath4 .",
    "let @xmath164 be a semistable model of @xmath0 .",
    "for a section @xmath165 of @xmath154 , we denote the image of @xmath166 by @xmath167 and the image of the special point of @xmath168 by @xmath169 .",
    "let @xmath170 be sections of @xmath154 .",
    "the pair @xmath171 is called a _",
    "semistable pair _",
    "if @xmath172 is contained in the smooth locus of @xmath154 and @xmath173 for @xmath174 .",
    "furthermore , the pair is called a _ strictly semistable pair _ if , in addition , @xmath147 is strictly semistable .",
    "we note that the definition of a strictly semistable pair is the same as in @xcite . indeed , since @xmath175 is contained in the smooth locus of @xmath154 , @xmath176 are prime cartier divisors on @xmath147 , and by the condition @xmath173 for @xmath174 , these cartier divisors have disjoint supports .",
    "a strictly semistable pair @xmath171 is said to be _ complete _ if for any @xmath140-curve @xmath177 , there exists an @xmath18 with @xmath178 such that @xmath179 .    for any strictly semistable pair @xmath171 , we add sections so that any @xmath140-curve in @xmath137 meets a section .",
    "we denote by @xmath180 the added sections .",
    "then @xmath181 is a strictly semistable pair and is complete .",
    "we say that @xmath181 is a _ completion _ of @xmath171 .",
    "let @xmath0 be a variety over @xmath4 . for each @xmath182 ,",
    "let @xmath183 denote the residue field .",
    "let @xmath19 be the _ berkovich analytic space _ associated to @xmath0 .",
    "( for details , see fundamental papers by berkovich @xcite . ) here we recall @xmath19 as a set and the underlying topology of @xmath19 . as a set , @xmath19",
    "is defined by @xmath184 the _ berkovich topology _ on @xmath19 is the weakest topology such that for any zariski open subset @xmath185 of @xmath0 and for any regular function @xmath186 , the map @xmath187 is continuous , where @xmath188 is the natural map given by @xmath189 .",
    "the set @xmath190 of @xmath4-valued points are naturally regarded as points of @xmath19 via @xmath191 for @xmath192 , where @xmath193 is the original value on @xmath194 .",
    "those points are called _",
    "classical points_. it is known that @xmath190 is dense in @xmath6 .",
    "there is another class of points of @xmath19 , called the _",
    "shilov points_. let @xmath195 be a model of @xmath0 .",
    "assume that any irreducible component of the special fiber @xmath70 is reduced .",
    "let @xmath58 be an irreducible component of @xmath137 and let @xmath196 be the generic point of @xmath58 . then one associates a unique absolute value @xmath197 on @xmath198 , which is characterized by for any @xmath199 , @xmath200 thus @xmath58 gives a point @xmath60 $ ] of @xmath19 , which we call the _ shilov point _",
    "associated to @xmath201 , or simply to @xmath58 . a shilov point associated to @xmath201 for some irreducible component @xmath58 of @xmath137",
    "is called a _ shilov point with respect to @xmath147_. in this paper , let @xmath202 denote the set of shilov points with respect to @xmath147 . if @xmath203 is another model of @xmath0 with reduced special fiber and with a surjective morphism @xmath204 , then we have @xmath205 . a point which is a shilov point with respect to some model",
    "is called a _",
    "shilov point_.    [ rem : type2points ] let @xmath206 be a shilov point . then for any @xmath207 , we have @xmath208 .",
    "one sees this from the maximum modulus principle ( * ? ? ?",
    "* proposition 6.2.1/4 ) with the description @xcite or from the description of @xmath209 in @xcite .",
    "we recall the reduction map associated to a model @xmath40 of @xmath0 . here",
    "we assume that @xmath0 is proper over @xmath4 .",
    "let @xmath210 be a point of @xmath6 .",
    "then we have a natural morphism @xmath211 .",
    "let @xmath116 be the ring of integers of @xmath212 with respect to @xmath213 .",
    "since @xmath116 is a valuation ring and @xmath195 is proper , the morphism @xmath211 extends uniquely to a morphism @xmath214 .",
    "let @xmath215 be the image of the special point of @xmath216 by this morphism .",
    "the assignment @xmath217 defines a map @xmath218 .",
    "we call this map the _ reduction map associated to @xmath147_.    if @xmath219 is a classical point and if @xmath166 is the corresponding section of the model @xmath195 guaranteed by the valuative criterion , then @xmath220 .",
    "we recall the notion of skeleta . for simplicity , in the sequel",
    ", we assume that @xmath0 is a smooth projective curve , although skeleta can be defined in a more general setting .",
    "let @xmath221 be an element with @xmath222 .",
    "we set @xmath223/(xy - \\varpi ) ) $ ] , and call @xmath224 a _",
    "standard model_.    let @xmath225/(xy-\\varpi))$ ] be the generic fiber of @xmath226 .",
    "we first define the skeleton @xmath227 .",
    "since @xmath228/(x y - \\varpi ) \\cong k [ y^{\\pm}]$ ] , we regard an element of @xmath228/(x y - \\varpi)$ ] as a laurent polynomial of @xmath229 . for any @xmath230 $ ] ,",
    "one constructs a unique value @xmath231 on the function field of @xmath228/(x y - \\varpi)$ ] such that , for any laurent polynomial @xmath232 , we have @xmath233 let @xmath234 be the generic point of @xmath235 .",
    "the assignment @xmath236 gives a map @xmath237 \\to \\mathscr{s}_k^{{{\\operatorname{an}}}}$ ] .",
    "it is known that this map is continuous and injective .",
    "the _ skeleton _",
    "@xmath238 of @xmath224 is defined by the image of this map .",
    "then the map @xmath237 \\to   s({{\\mathscr{s}}})$ ] is a homeomorphism with inverse    @xmath239    thus @xmath240 has a structure of @xmath30-simplex via the homeomorphism @xmath237",
    "\\cong s ( \\mathscr{s } ) $ ] .",
    "one sees that the end points of @xmath240 are the shilov points corresponding to the irreducible components of @xmath241 .",
    "let @xmath195 be a strictly semistable model of @xmath0 .",
    "we take any @xmath242 .",
    "then there exist @xmath243 such that @xmath244 and @xmath245 . by the same argument as in the proof of (",
    "* proposition  4.3 ) , one can take an open neighborhood of @xmath135 in @xmath40 and an tale morphism from this open subset to a standard model .",
    "furthermore , replacing the open neighborhood by a smaller one , we can take an affine open neighborhood @xmath246 of @xmath135 , an element @xmath247 with @xmath248 , and an tale morphism @xmath249/(x y - \\varpi_p))$ ] such that the special fiber @xmath250 consists of exactly two irreducible components and @xmath135 is a unique node of @xmath250 ( cf .",
    "* proposition  5.2 ) ) .",
    "we call @xmath251 a _ local tale atlas that distinguishes @xmath135_.    [ def : multiplicityatanodes ] we call @xmath252 the _ multiplicity _ ( of @xmath147 ) at @xmath253 .",
    "the multiplicity @xmath254 depends only on @xmath135 , and independent of the choice of @xmath255 .",
    "let @xmath195 be a strictly semistable model of @xmath0 .",
    "canonical @xmath30-simplex corresponding to @xmath135 _ is a closed subset @xmath257 characterized by the following conditions .    1 .   for any local tale atlas @xmath249/(x y - \\varpi_p))$ ] that distinguish @xmath135 , we have @xmath258 , where @xmath259 is the generic fiber of @xmath260 .",
    "the restriction to @xmath261 of the induced map @xmath262 gives a homeomorphism @xmath263 .",
    "note that the end points @xmath261 are the shilov points which correspond to the irreducible components of the special fiber of @xmath264 .",
    "the _ skeleton _",
    "@xmath265 associated to @xmath40 is defined to be @xmath266 which is a compact subset of @xmath19 .",
    "one sees that for any @xmath267 , we have @xmath268 if and only if @xmath269 ; if @xmath270 , then @xmath271 , where @xmath272 means the relative interior , and the points in @xmath273 are the shilov points associated to irreducible components of @xmath137 that contain @xmath274 and @xmath275 . thus @xmath256 has a canonical structure of simplicial set and is regarded as the dual graph of @xmath137 .",
    "note that the set @xmath276 \\mid c \\in { \\operatorname{\\operatorname{irr}}}(\\mathscr{x}_a ) \\",
    "\\}$ ] of shilov points with respect to @xmath147 is actually a set of vertices of this simplicial set .",
    "each canonical @xmath30-simplex is called an edge , and we denote by @xmath277 the set of edges .    it is known that @xmath278 has a canonical metric structure ( cf .",
    "* corollary  5.7 ) ) .",
    "we describe this canonical metric structure on @xmath265 .",
    "we take any @xmath242 and denote by @xmath279 the multiplicity at @xmath135 .",
    "the composition of the above homeomorphisms @xmath280 and @xmath281 $ ] ( see ) gives a homeomorphism @xmath282 $ ] .",
    "then , with respect to the canonical metric structure on @xmath261 induced from @xmath278 , this homeomorphism is an isometry ( ( * ? ? ?",
    "* theorem  5.15 ) and @xcite ) .",
    "furthermore , if @xmath58 and @xmath283 be the distinct irreducible components with @xmath284 , and if @xmath126 and @xmath285 be the shilov points of @xmath58 and @xmath283 , then the distance between @xmath126 and @xmath285 equals the multiplicity at @xmath135 .",
    "thus the skeleton @xmath256 has a structure of @xmath56-metric graph . for a node @xmath286 ,",
    "a point of @xmath261 that lies in @xmath287 \\cap \\lambda$ ] via the isometry @xmath288 $ ] is a @xmath56-rational point of @xmath256 we denote the set of @xmath56-rational points by @xmath289 .",
    "when we write the skeleton as @xmath5 , we write the subset of those points as @xmath290 , which is compatible with `` notation and convention '' in the introduction .    for a connected curve @xmath117 in @xmath137 , we set @xmath291 , which we call the _",
    "canonical @xmath30-simplex corresponding to @xmath117_. note that if @xmath117 is a chain in @xmath137 , then @xmath292 is isometric to a closed interval of length @xmath293 , where @xmath279 denote the multiplicity at @xmath135 .",
    "we recall skeleta associated to strictly semistable pairs , which generalize skeleta associated to strictly semistable models in  [ subsection : skeleta ] .",
    "see also @xcite .",
    "we set @xmath294 ) $ ] and let @xmath295 ) $ ] denote the generic fiber of @xmath296 .",
    "let @xmath297 be a section of @xmath296 given by @xmath298 \\to r [ y]/(y ) = r$ ] .",
    "we call @xmath299 the _ standard pair for ends_.    one defines the skeleton @xmath300 as follows . for any @xmath301 , one constructs a unique value @xmath302 on @xmath303 such that , for any @xmath304 $ ] , we have @xmath305 let @xmath234 be the generic point of @xmath306 .",
    "the assignment @xmath307 gives a map @xmath308 .",
    "it is known that this map is continuous and injective .",
    "the _ skeleton _",
    "@xmath309 of @xmath299 is defined by the image of this map .",
    "the map @xmath310 is a homeomorphism with inverse given by @xmath311 .",
    "the point @xmath196 in @xmath312 corresponding to @xmath313 is the shilov point associated to the special fiber of @xmath306 .",
    "we write @xmath314 for the relative interior of @xmath312 , i.e. , @xmath315 .",
    "let @xmath195 be a strictly semistable curve and let @xmath166 be a section .",
    "assume that @xmath316 is a strictly semistable pair .",
    "then there exist an affine open neighborhood @xmath317 of @xmath166 , an element @xmath318 with @xmath319 , and an tale morphism @xmath320 ) = \\mathscr{t}\\ ] ] such that the special fiber of @xmath264 is irreducible and @xmath321 .",
    "we call such an tale morphism a _ local tale atlas that distinguishes @xmath166_.      one defines the _ canonical end _",
    "@xmath322 associated to @xmath323 ; it is a closed subspace of @xmath324 which is characterized by the following conditions .    1 .   for any local tale atlas @xmath325 ) = \\mathscr{t}$ ] that distinguishes @xmath166 , we have @xmath326 , where @xmath327 is the generic fiber of @xmath317 .",
    "the restriction to @xmath328 of the induced map @xmath329 gives a homeomorphism @xmath330 .",
    "it is known that the endpoint of @xmath322 ( i.e. the point corresponding to @xmath313 ) is the shilov point associated to the irreducible component of @xmath137 that contains the point @xmath169 .",
    "the canonical metric structure on @xmath278 on @xmath328 gives an isometry of the natural homomorphism @xmath331 .",
    "let @xmath147 be a strictly semistable model of @xmath0 , and let @xmath171 be a strictly semistable pair .",
    "the _ skeleton _",
    "@xmath332 associated to @xmath171 is defined to be @xmath333    [ def : skeletongeneral ] a subset @xmath5 of @xmath19 is called a _ skeleton of @xmath6 _ if there exists a strictly semistable pair @xmath334 such that @xmath335 .",
    "we say a skeleton is _ complete _ if it is associated to a complete strictly semistable pair .",
    "note that ( [ align : definitionofskeleton ] ) makes sense even if @xmath336 , and thus the skeleton associated to a strictly semistable model of @xmath0 is indeed a skeleton in the sense of definition  [ def : skeletongeneral ] .",
    "one shows that @xmath337 for @xmath174 and that @xmath338 for any @xmath18 . on the other hand , for each @xmath339 , the boundary point @xmath340 is the shilov point associated to the irreducible component of @xmath137 which meets @xmath341 , and hence this point belongs to @xmath256 as well .",
    "thus @xmath332 is the space obtained by successive one - point sum of @xmath342 with @xmath343 at shilov points associated to the irreducible components that contain @xmath344 , respectively .",
    "the skeleton @xmath332 is equipped with a metric .",
    "for each @xmath341 , we have an isometry @xmath345 .",
    "we also consider @xmath56-rational points of @xmath339 via this isometry .",
    "thus one has the notion of @xmath56-rational points of @xmath332 , and we denote the union of the set of those points and @xmath346 by @xmath347 .",
    "when we write the skeleton as @xmath5 , we write the subset of @xmath56-rational points as @xmath290 .",
    "[ rmk : on : skeleton : complete ] for any strictly semistable pair @xmath334 , one can add sections @xmath348 to obtain a complete strictly semistable pair @xmath349 ( see  [ subsec : semistabe : pairs ] ) .",
    "thus any skeleton is a subset of the skeleton associated to a complete strictly semistable pair .      in this subsection",
    ", we recall some properties of skeleta .",
    "basic references are @xcite .",
    "as we have seen , a skeleton associated to a strictly semistable model has a structure of a simplicial set such that the set of irreducible components of the special fiber of the model coincides with the set of vertices . here , we give remarks on the relationship between the subdivision of this simplicial structure and strictly semistable models dominating the given model .",
    "the following propositions are essentially parts of ( * ? ? ?",
    "* theorem  4.11 ) .",
    "indeed , they follow from ( * ? ? ?",
    "* theorem  4.11 ) and the fact that an admissible formal model of smooth projective curve is algebraizable ( cf .",
    "* proposition 10.3.2 ) ) .",
    "[ prop : subdivision1 ] let @xmath0 be a smooth projective curve over @xmath4 , and let @xmath158 be a strictly semistable model of @xmath0 .",
    "let @xmath350 be a strictly semistable model of @xmath0 that dominates @xmath147 .",
    "we write @xmath157 for the morphism extending the identity morphism on @xmath0 .",
    "let @xmath351 be the set of irreducible components of @xmath352 such that each @xmath353 is a singleton of @xmath137 , and we assume that @xmath351 consists of @xmath143-curves .",
    "namely , we assume that @xmath354 is given by contracting only @xmath143-curves . for @xmath355 , let @xmath356 $ ] be the shilov point associated to @xmath357 .    1 .",
    "then @xmath358 as subsets of @xmath19 , and @xmath359 , \\ldots ,   [ e_m ] \\}$ ] .",
    "2 .   let @xmath242 , and we set @xmath360",
    ". then @xmath361 .",
    "the next proposition is a converse of proposition  [ prop : subdivision1 ] .",
    "[ prop : subdivision1:b ] let @xmath0 be a smooth projective curve of genus @xmath1 over @xmath4 and let @xmath158 be a strictly semistable model of @xmath0 .",
    "let @xmath362 be a finite subset of @xmath363 with @xmath364 .",
    "then there exists a unique up to a canonical isomorphism strictly semistable model @xmath350 of @xmath0 such that @xmath365 .",
    "further , @xmath156 has the following properties .    1 .",
    "there exists a unique morphism @xmath157 that extends the identity morphism on @xmath0 .",
    "any @xmath366 such that @xmath367 is a singleton is a @xmath143-curve .",
    "3 .   @xmath368 as subsets of @xmath6 .",
    "the next proposition treats @xmath140-curves .",
    "recall that , for a connected curve @xmath117 in @xmath70 , we write @xmath369 in @xmath265 .    [ prop : subdivision - model ] let @xmath0 be a smooth projective curve over @xmath4 and let @xmath158 be a strictly semistable model of @xmath0 .",
    "let @xmath117 be a connected curve in @xmath70 such that @xmath117 is a union of irreducible components @xmath370 with @xmath371 for @xmath372 .",
    "assume that @xmath373 is a @xmath140-curve and @xmath357 @xmath374 is a @xmath143-curve .",
    "we take @xmath375 with @xmath376 , and we set @xmath377 .",
    "let @xmath356 $ ] be the vertices in @xmath256 corresponding to @xmath357 .",
    "we set @xmath378 , \\ldots , [ e_r]\\}$ ] .    1 .",
    "there exists a unique strictly semistable model @xmath379 such that @xmath380 .",
    "further , the identity morphism on @xmath0 extends to a morphism @xmath381 .",
    "we have @xmath382 and @xmath383 \\}$ ] .",
    "3 .   let @xmath166 be a section of @xmath158 such that @xmath384 .",
    "set @xmath385 .",
    "note that @xmath386 and @xmath387 are strictly semistable pair , and let @xmath388 and @xmath389 be the corresponding canonical ends .",
    "then we have @xmath390 .",
    "let @xmath0 be a smooth projective curve over @xmath4 .",
    "let @xmath195 be a strictly semistable model of @xmath0 .",
    "then we have a unique strongly deformation retraction @xmath391 that is the identity on @xmath392 .",
    "indeed , one shows that for each connected component @xmath393 of @xmath394 , and the boundary @xmath395 consists of a unique point @xmath126 in @xmath396 , and the closure of @xmath393 is contracted to @xmath126 .",
    "we call @xmath297 the _ retraction map _ with respect to @xmath256 . note that the retraction map is also described in terms of valuation map ; see @xcite .",
    "[ rem.classical-imval ] it is known that @xmath397 ; see @xcite , where @xmath297 is denoted by @xmath209 .",
    "the following lemma gives us a more concrete description for the retraction map , and relates the reduction map and the retraction map .",
    "[ lem : retraction - reduction ] let @xmath158 be a strictly semistable model of @xmath0 .",
    "let @xmath218 be the reduction map .",
    "let @xmath398 with @xmath399 and let @xmath58 be an irreducible component of @xmath137 such that @xmath60 = \\tau ( x)$ ]",
    ". then @xmath400 .",
    "_ proof._this lemma follows from ( * ? ? ?",
    "* proposition  5.7 ) .    500      let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath401 .",
    "then we have a notion of the _ canonical skeleton _",
    "@xmath54 of @xmath19 , which is called the minimal skeleton in @xcite and uniquely determined from @xmath0 .",
    "it is described as follows : let @xmath195 be any deligne  mumford strictly semistable model of @xmath0 ; then @xmath402 as a subspace of @xmath19 .",
    "remark that @xmath54 does not depend on the choice of @xmath40 .",
    "furthermore , assume that @xmath1",
    ". then the canonical skeleton has a _",
    "canonical _ finite graph structure determined by the deligne  mumford _",
    "stable _ model .",
    "let @xmath160 be the stable model of @xmath0 . as is noted in ",
    "[ subsec : semistabe : models ] , there exists a deligne  mumford strictly semistable model @xmath147 that dominates @xmath160 .",
    "it follows that the set of shilov points @xmath403 with respect to @xmath160 is a subset of @xmath404 ( in fact , @xmath403 equals to the subset of @xmath405 consisting of the shilov points associated to non-@xmath143-curves ) , and hence @xmath403 is also a subset of @xmath54 .",
    "we give @xmath54 a finite graph structure so that @xmath403 is the set of vertices .",
    "let @xmath406 denote the set of edges with respect to this graph structure .",
    "note that this finite graph may have self - loops in general .",
    "we remark that , for any @xmath407 , @xmath261 makes sense .",
    "indeed , let @xmath147 be a deligne ",
    "mumford strictly semistable model of @xmath0 and let @xmath408 be the morphism extending the identity morphism on @xmath0 .",
    "let @xmath409 be the set of nodes of @xmath137 such that @xmath410 .",
    "then @xmath411 is a subset of @xmath54 and does not depend on the choice of @xmath147 .",
    "we set @xmath412 .",
    "note that @xmath413 .    we still keep the assumption that @xmath1 .",
    "notice that we use the following convention unless otherwise specified : when we say that @xmath126 is a vertex of @xmath54 , this means that @xmath414 ; when we say that @xmath61 is an edge , this means that @xmath415 , let @xmath147 be any deligne ",
    "mumford strictly semistable model of @xmath0 .",
    "let @xmath416 be the algebraic torus of dimension @xmath13 over @xmath4 with coordinates @xmath417 and let @xmath418 be the associated analytic space .",
    "then we have map @xmath419 called a _ tropicalization map of algebraic torus_.    we extend this tropicalization map from the analytic space associated to projective space to tropical projective space . here , let us recall the tropical projective spaces .",
    "as in the introduction , we set @xmath420 .",
    "@xmath13-dimensional tropical projective space _ is defined to be @xmath421 where @xmath422 satisfy @xmath423 if there exists @xmath16 with @xmath17 for all @xmath424 ( see @xcite ) .",
    "the equivalence class of @xmath125 in @xmath92 is written as @xmath425 .",
    "now , let @xmath426 be the @xmath13-dimensional projective space over @xmath4 with homogeneous coordinates @xmath427 and let @xmath428 denote the berkovich analytification of @xmath426 .",
    "then we define the tropicalization map to be @xmath429    the tropicalization map on ( [ eqn : trop : map ] ) extends that on ( [ eqn : trop : map : torus ] ) , which we make precise now .",
    "remark that tropical projective space is equipped with @xmath430 charts @xmath431 .",
    "we set @xmath432 . for each @xmath433",
    ", we have a natural homeomorphism @xmath434 thus @xmath117 is an @xmath13-dimensional euclidean space embedded in @xmath92 .",
    "further , for each @xmath435 , let @xmath436 be an open immersion .",
    "then we have @xmath437 .",
    "remark that @xmath438 for any @xmath439 .",
    "[ remark : integralstructure ] let @xmath440 .",
    "then we have an homeomorphism @xmath441 .",
    "it is clear from the definition of @xmath442 and @xmath443 that this restricts an isomorphism from @xmath444 to @xmath444 as @xmath445-modules , i.e. , @xmath446 is given by the multiplication of an element of @xmath447 .",
    "let @xmath97 be an irreducible closed subvariety of @xmath426 .",
    "fix an @xmath448 .",
    "then @xmath449 is an irreducible closed subvariety of @xmath450 .",
    "the results of bieri  groves and speyer  sturmfels ( cf .",
    "@xcite and ( * ? ? ?",
    "* theorem  3.3 ) ) describe the polytopal structure of @xmath451 .",
    "although we do not recall their results in full generality , we describe the polytopal structure when @xmath452 , because that is the case we are concerned . in this case , there exists a finite subset @xmath453 such that if @xmath454 is the set of closures of the connected components of of @xmath455 , then each @xmath456 is of form :    1 .",
    "@xmath457\\}$ ] , where @xmath458 , @xmath459 with @xmath460 , and @xmath461 , or ; 2 .",
    "@xmath462 with @xmath229 and @xmath463 as in ( 1 ) .    using the above illustration",
    ", we endow @xmath451 with a metric structure .",
    "indeed , we put a metric by lattice length : if @xmath456 is as in ( 1 ) ( resp .",
    "( 2 ) ) , then we identify @xmath464 with @xmath465 $ ] ( resp .",
    "@xmath466 ) via @xmath467 , and with this identification , @xmath464 is a metric space ; since @xmath468 , this metric structure does not depend on the choice of @xmath454 and is well - defined for @xmath451 .",
    "thus @xmath451 is a metric space .",
    "furthermore , the above metric structure on each @xmath451 gives a well - defined metric on @xmath469 .",
    "indeed , for each @xmath448 , since @xmath438 , we have a homeomorphism @xmath470 , and since @xmath451 has a metric structure , this homeomorphism induces a metric structure on @xmath469 .",
    "since the metric on @xmath451 is the lattice metric , one sees from remark  [ remark : integralstructure ] that this metric structure on @xmath469 does not depend on @xmath18 .",
    "thus @xmath469 is a metric space .",
    "remark that tropical geometry near the boundary @xmath471 is rather subtle ( see @xcite ) .",
    "however , for our purposes ( i.e. , for faithful tropicalizations ) , we will not need detailed analysis on the boundary , because the tropicalization of a skeleton is contained in @xmath117 , as we will see in the next subsection .",
    "let @xmath0 be a smooth projective curve over @xmath4 .",
    "let @xmath2 be a line bundle over @xmath0 .",
    "suppose that we are given nonzero global sections @xmath472 .",
    "associated to those sections , we define a map @xmath473 : let @xmath474 be the morphism induced by @xmath475 ; we define @xmath473 to be @xmath476 , where @xmath477 is the map in ( [ eqn : trop : map ] ) .",
    "we write @xmath478    let @xmath117 be the @xmath13-dimensional euclidean space embedded in @xmath479 as in the previous subsection .",
    "note that @xmath480 . indeed , since each @xmath481 has zero only at points in @xmath482 , @xmath483 for any @xmath484 , and hence @xmath485 .",
    "we describe @xmath486 in terms of the coordinates given by the homeomorphism @xmath487 for @xmath424 .",
    "we explain only the case @xmath488 , since the other cases are the same .",
    "we identify @xmath489 with @xmath490 .",
    "then @xmath491    let @xmath492 be a skeleton ( possibly with ends ) and write @xmath493 be the decomposition of @xmath5 as in .",
    "recall that @xmath5 is a metric space : @xmath494 is canonically identified with @xmath495 $ ] , where @xmath496 is the multiplicity at @xmath497 , and @xmath498 is canonically identified with @xmath499 . by the definition of @xmath5 , we have @xmath500 . since @xmath480",
    ", we thus have a map @xmath501 between metric spaces by restriction .",
    "thus the following definition makes sense .",
    "let @xmath0 , @xmath2 , and @xmath5 be as above .",
    "let @xmath502 be nonzero global sections of @xmath2 , and let @xmath503 denote the associated morphism .",
    "we call @xmath23 a _ unimodular tropicalization _ of @xmath5 if there exists a finite subset @xmath504 such that for the closure @xmath464 of any connected component of @xmath505 , the restriction map @xmath506 is an isometry .    roughly speaking , a unimodular tropicalization means a piecewise isometry .",
    "[ remark : unimodular ] let @xmath0 , @xmath5 , and @xmath2 be as above .",
    "let @xmath507 be global sections of @xmath2 ( @xmath508 ) .",
    "let @xmath509 be the associated morphism to @xmath510 and let @xmath511 be the associated morphism to @xmath512 .",
    "let @xmath61 be a connected subspace of @xmath5 .",
    "suppose that @xmath513 is an isometry .",
    "then @xmath514 is also an isometry . indeed , with the description on ( [ eq : trop : affine ] ) we have @xmath515 and @xmath516 .",
    "since the metric on the tropicalization is given by the lattice length , one then sees that if @xmath513 is an isometry , then so is @xmath514 .",
    "let @xmath0 , @xmath2 , and @xmath5 be as above .",
    "let @xmath502 be nonzero global sections of @xmath2 and let @xmath503 denote the associated morphism .",
    "we call @xmath23 a _ faithful tropicalization _ of @xmath5 if it is an injective unimodular tropicalization ; in other words , the restriction of @xmath23 to @xmath5 is a homeomorphism of @xmath5 onto its image preserving the metric .    in relation to faithful tropicalizations ,",
    "we recall the notion of @xmath56-rational polyhedral complexes and their integral structures , and remark that faithful tropicalizations are exactly homeomorphisms preserving integral structures .    here",
    "we describe @xmath56-rational polyhedral complexes of dimension at most one . a @xmath56-rational polyhedron @xmath166 in @xmath517 of dimension at most one is a subset defined by @xmath518 for some @xmath519 and @xmath520 .",
    "a @xmath56-rational polyhedral complex @xmath454 of dimension at most one on a hausdorff topological space @xmath97 is a finite collection of closed topological spaces @xmath521 such that @xmath464 is homeomorphic to a @xmath56-rational polyhedron @xmath166 in @xmath517 of dimension at most one with the following properties : any face of @xmath456 belongs to @xmath454 ; and , if @xmath464 and @xmath522 are in @xmath454 , then @xmath523 ( if non - empty ) are in @xmath454 .",
    "such a polyhedral complex @xmath454 is said to be of pure dimension one if @xmath524 is connected and not a singleton .",
    "a _ refinement _ of @xmath454 is a @xmath56-rational polyhedral complex @xmath525 with @xmath526 such that for any @xmath527 there exists @xmath456 with @xmath528 .",
    "let @xmath454 be a @xmath56-rational polyhedral complex of pure dimension one on @xmath97 .",
    "a member @xmath456 is said to be zero - dimensional ( resp .",
    "one - dimensional ) if the corresponding @xmath56-rational polyhedron @xmath166 in @xmath517 is zero - dimensional ( resp .",
    "one - dimensional ) .",
    "let @xmath529 be the union of all @xmath456 such that @xmath464 is zero - dimensional , and let @xmath530 be the union of all @xmath456 such that @xmath464 is one - dimensional",
    ". then @xmath529 ( resp .",
    "@xmath530 ) is naturally a manifold of dimension @xmath31 ( resp .",
    "@xmath30 ) with an integral structure .",
    "namely , for @xmath531 , this means nothing but that each member of @xmath529 is identified with a point in @xmath57 . for @xmath532 ,",
    "this means that there exists an open covering @xmath533 of @xmath530 and a homeomorphism @xmath534 such that the transition map @xmath535 is the restriction of the map @xmath536 , where @xmath537 and @xmath538 .",
    "let @xmath454 ( resp .",
    "@xmath539 ) be a @xmath56-rational polyhedral complex of pure dimension one on @xmath97 ( resp .",
    "@xmath540 ) . let @xmath541 be a continuous map .",
    "we say that the restriction of @xmath542 to @xmath543 is a homeomorphism onto @xmath544 preserving integral structures if there exists a refinement @xmath525 of @xmath454 ( resp .",
    "@xmath545 of @xmath539 ) with the following properties : @xmath546 and @xmath547 are bijective under @xmath542 ; there exist open coverings @xmath533 of @xmath548 , @xmath549 of @xmath550 and homeomorphisms @xmath534 , @xmath551 that give integral structures of @xmath548 and @xmath550 such that @xmath552 is a homeomorphism of the form @xmath536 , where @xmath553 and @xmath538 .",
    "let @xmath0 , @xmath2 , and @xmath5 be as above .",
    "let @xmath502 be nonzero global sections of @xmath2 and let @xmath503 denote the associated morphism .",
    "then each @xmath5 and @xmath554 is equipped with a natural structure of a @xmath56-rational polyhedral complex of dimension at most one , and @xmath23 is a faithful tropicalization of @xmath5 in the above definition if and only if @xmath555 is a homeomorphism of @xmath5 onto its image preserving integral structures .",
    "see @xcite , @xcite and @xcite for more details .",
    "in the proof of the main theorem  [ thm : main : unimodular : faithful ] , we need to construct many suitable global sections of a line bundle @xmath2 over @xmath0 which will give a faithful tropicalization for a skeleton . in our strategy , we will construct those global sections as global sections of @xmath161 for some `` good '' models @xmath556 of @xmath557 .",
    "therefore , we will need to construct various `` good '' models of @xmath557 , and to do that , we use the theory of divisors on graphs .    in this section ,",
    "we firstly define the notion of good models @xmath147 of @xmath0 .",
    "this is the prerequisite condition that a model @xmath45 of @xmath46 is `` good '' ( when the genus of @xmath0 is at least @xmath29 ) .",
    "we secondly recall some recent development on the divisor theory on @xmath56-metric graphs .",
    "we thirdly introduce the notion of islands of weighted @xmath56-metric graphs and prove some positivity result on divisors on @xmath56-metric graphs . in the last subsection of this section , we introduce the machinery that produces various `` good '' models @xmath556 which will be crucially used in the arguments .",
    "further , we use this machinery to construct a mode of @xmath557 which will be frequently used in the arguments .      in this subsection , we define the notion that a model @xmath40 of @xmath0 is `` good . '' on this model @xmath40 , we will construct a model @xmath45 of @xmath46 .",
    "let @xmath0 be a smooth projective curve defined over @xmath4 , and let @xmath158 be a strictly semistable model of @xmath0 .",
    "recall from  [ subsec : semistable : models : pairs ] that a @xmath143-chain is a connected curve in @xmath137 consisting of @xmath143-curves , and it is a _ maximal _",
    "@xmath143-chain if it is maximal with respect to the inclusion among @xmath143-chains .",
    "notice that two distinct maximal @xmath143-chains are disjoint .",
    "recall also from  [ subsec : semistable : models : pairs ] that a @xmath143-chain @xmath117 is of connected type if @xmath558 is connected , and is of disconnected type otherwise .    for a connected curve @xmath117 in @xmath137 ,",
    "let @xmath559 be the canonical @xmath30-simplex corresponding to @xmath117 ( cf .",
    " [ subsection : skeleta ] ) .",
    "suppose that @xmath117 is a @xmath143-chain in @xmath137 .",
    "then @xmath560 is a circle or a closed line segment in @xmath561 .",
    "the irreducible components @xmath562 having the properties that @xmath563 and @xmath564 give points in @xmath292 .",
    "those points are the boundary vertices of @xmath292 .",
    "[ def : symmetricmultiplicity ] let @xmath117 be a maximal @xmath143-chain of connected type in @xmath137 .",
    "we say that @xmath117 _ has symmetric multiplicities _ if it satisfies the following conditions .    1 .",
    "@xmath565 is odd and at least @xmath566 .",
    "put @xmath567 for @xmath568 .",
    "2 .   put @xmath569 .",
    "let @xmath570 be the irreducible components of @xmath117 such that @xmath571 for @xmath572 .",
    "let @xmath573 be the nodes of @xmath137 such that @xmath574 for @xmath575 , @xmath576 , and @xmath577 .",
    "for @xmath578 , let @xmath579 be the multiplicity at @xmath580 .",
    "then @xmath581 for @xmath582 .",
    "we have @xmath583 .",
    "( thus @xmath584 . )",
    "[ def : goodmodel : new ] let @xmath0 be a smooth projective curve of genus @xmath1 , and let @xmath147 be a strictly semistable model of @xmath0 .",
    "we say that @xmath147 is a _ good model _ if it satisfies the following conditions .    1 .",
    "the model @xmath147 is deligne  mumford semistable .",
    "2 .   for any @xmath585",
    ", there exists a @xmath143-chain @xmath117 such that @xmath586 .",
    "3 .   any maximal @xmath143-chain @xmath117 in @xmath137 of connected type has symmetric multiplicities .    we make clear the relationship between a good model @xmath147 and the canonical finite graph structure of the canonical skeleton @xmath54 with the set @xmath587 of vertices and the set @xmath588 of edges . recall that @xmath587 are given by the set of shilov points of the special fiber @xmath589 of the deligne ",
    "mumford stable model @xmath590 of @xmath0 , and an element of @xmath588 is characterized by the closure of a connected component of @xmath591 .",
    "we say that @xmath592 is _ of connected type _ if @xmath593 is connected , and @xmath592 is _ of disconnected type _ otherwise .",
    "[ lemma : make : clear ] let @xmath195 be a good model of @xmath0 , and let @xmath594 be the morphism extending the identity morphism on @xmath0 .    1 .",
    "there exist natural one - to - one correspondences between the following three sets : @xmath595 2 .",
    "let @xmath592 correspond to a maximal @xmath143-chain @xmath117 in @xmath70 under the natural correspondence in .",
    "then @xmath61 is of connected type resp . of disconnected type if and only if @xmath117 is of connected type resp . of disconnected type .    _",
    "proof._(1 ) since @xmath40 is deligne ",
    "mumford semistable , @xmath354 is given by contracting the @xmath143-curves of @xmath70 .",
    "for @xmath596 , we set @xmath597 . since @xmath40 satisfies the condition definition  [ def : goodmodel : new](ii ) , @xmath117 is not a singleton , and thus a maximal @xmath143-chain in @xmath70 .",
    "this gives a natural one - to - one correspondence between the first and the third sets .",
    "for a maximal @xmath143-chain @xmath117 in @xmath70 , we set @xmath598 as before .",
    "then @xmath599 , and this gives a natural one - to - one correspondence between the third and the second sets .",
    "finally , we remark that @xmath261 in  [ subsec : properties : skeleta ] is exactly @xmath292 .",
    "we have thus the natural correspondences : @xmath600    \\(2 ) the assertion follows from the definitions of being of connected type and of disconnected type .",
    "500    we finish this subsection by introducing the notation which we will frequently use .",
    "let @xmath147 be a good model of @xmath0 and let @xmath601 be the canonical morphism extending the identity morphism on @xmath0 . for each @xmath602 ,",
    "let @xmath494 denote the corresponding @xmath30-simplex in the skeleton @xmath54 .",
    "remark that if @xmath117 is the maximal @xmath143-chain with @xmath603 , then @xmath604 with the notation in ( [ eqn : correspondences ] ) .",
    "for a given compact subset @xmath605 , we set @xmath606 remark that for each @xmath607 , @xmath608 where @xmath117 is the maximal @xmath143-chain with @xmath609 .",
    "as in `` notation and conventions , '' let @xmath57 denote the value group of @xmath4 .",
    "we review the theory of divisors on @xmath56-metric graphs , which we use later .",
    "our basic references are amini , baker , brugall , and rabinoff  @xcite , baker and norine  @xcite , amini and caporaso  @xcite , and baker and rabinoff  @xcite .",
    "see also @xcite , @xcite .",
    "let @xmath5 be a @xmath56-metric graph ( see ` notation and conventions' ) .",
    "let @xmath610 be the free abelian group generated by the points in @xmath5 .",
    "the elements of @xmath610 are called _ divisors _ on @xmath5 .",
    "any divisor @xmath611 is uniquely written as a finite sum @xmath612 $ ] for @xmath613 .",
    "we set @xmath614 .",
    "the _ support _ @xmath615 of @xmath67 is the set of points with @xmath616 .",
    "the _ degree _ of @xmath67 is defined by @xmath617 .",
    "a divisor @xmath67 is _ effective _ , denoted by @xmath618 , if @xmath619 for any @xmath124 . for a subset @xmath128 of @xmath5",
    ", we set @xmath620    for a point @xmath124 , the valency @xmath621 denotes the number of segments emanating from @xmath125 .",
    "a _ rational function _ on @xmath5 is a continuous function @xmath622 such that there exists a finite subset @xmath623 of @xmath5 containing @xmath624 and @xmath542 is an affine map with integer slopes on @xmath625 .",
    "we denote by @xmath626 the set of rational functions on @xmath5 .    for @xmath627 and @xmath124 , we define @xmath628 to be the sum of outgoing slopes of @xmath542 at @xmath125 . then @xmath629 $ ] is a divisor on @xmath5 .",
    "the set of _ principal divisors _ on @xmath5 is defined by @xmath630 .    in studying divisors on graphs",
    ", it is often convenient to consider reduced divisors , which we are recalling now .",
    "( the notion of reduced divisors was adopted in @xcite to prove the riemann ",
    "roch formula for a finite graph . ) for any closed subset @xmath631 of @xmath5 and @xmath632 , the _ out - degree _ of @xmath126 from @xmath631 , denoted by @xmath633 , is defined to be the maximum number of internally disjoint segments of @xmath634 with an open end @xmath126 .",
    "for @xmath611 , a point @xmath635 is _ saturated _ for @xmath67 with respect to @xmath631 if @xmath636 , and _ non - saturated _ otherwise .",
    "we fix a point @xmath637 .",
    "a divisor @xmath638 is called a _ @xmath639-reduced divisor _ if @xmath117 is non - negative on @xmath640 , and every connected compact subset @xmath631 of @xmath640 contains a non - saturated point @xmath635 for @xmath117 with respect to @xmath631 .",
    "it is known that for any @xmath641 , there exists a unique @xmath639-reduced @xmath642 that is linearly equivalent to @xmath67 ( cf .",
    "@xcite , ( * ? ? ?",
    "* theorem  2.3 ) ) .    in this paper",
    ", we mainly consider divisors supported in @xmath127 .",
    "we set @xmath643 .",
    "the elements of this set is called _",
    "@xmath56-divisors _ on @xmath5 . for a @xmath56-divisor @xmath67 ,",
    "the complete linear system @xmath644 is defined by @xmath645    [ prop : reduced : lambda - div ] for any @xmath646 and for any @xmath647 , the @xmath639-reduced divisor @xmath648 that is linearly equivalent to @xmath67 is a @xmath56-divisor .",
    "further , @xmath649 if and only if @xmath650 .    _",
    "proof._we take any @xmath651 and @xmath647 .",
    "let @xmath642 be the @xmath639-reduced divisor that is linearly equivalent to @xmath67 .",
    "the first assertion @xmath652 follows from , for example , luo s algorithm to construct @xmath639-reduced divisors in @xcite .    for the second assertion",
    "it is obvious that if @xmath649 , then @xmath650 .",
    "the other implication follows from ( * ? ? ?",
    "* corollary  2.18 ) .    500    let @xmath653 denote the first betti number of @xmath5 .",
    "[ riemann s inequality on a metric graph ] [ prop : riformg ] if @xmath654 , then @xmath650 .    _",
    "proof._suppose that @xmath654 .",
    "take any @xmath655 and let @xmath648 be the @xmath639-reduced divisor with @xmath656 . since @xmath654 , the riemann ",
    "roch formula on metric graphs ( see ( * ? ? ?",
    "* proposition 3.1 ) , ( * ? ? ?",
    "* theorem  7.4 ) , or ( * ? ? ?",
    "* theorem  1.2 ) ) shows that there exists an effective divisor that is linearly equivalent to @xmath67 . by (",
    "* corollary  2.18 ) , it follows that @xmath649 .",
    "further , by proposition  [ prop : reduced : lambda - div ] , we have @xmath652 .",
    "thus @xmath657 , which shows the proposition .    500    [ rmk : on : reduced : divisors ] let @xmath651 and @xmath647 .",
    "let @xmath648 be the @xmath639-reduced divisor that is linearly equivalent to @xmath67",
    ". then @xmath658 . indeed , we set @xmath659 $ ] .",
    "since @xmath67 is a @xmath639-reduced divisor , it follows from the definition of @xmath639-reduced divisor that @xmath117 is also a @xmath639-reduced divisor . since @xmath660 , proposition  [ prop : reduced : lambda - div ] shows that @xmath661 .",
    "thus @xmath658 .      in this subsection",
    ", we show in proposition  [ prop : good : eff : div ] the existence of an effective divisor on a @xmath56-metric graph which will be used to construct good models @xmath45 of @xmath46 . here",
    "we use the theory of _ weighted _ @xmath56-metric graphs . for a general account of the theory of weighted metric graphs ,",
    "we refer to amini and caporaso  @xcite .",
    "a _ weighted _ @xmath56-metric graph @xmath662 is the pair of a @xmath56-metric graph @xmath5 and a function @xmath663 such that the set @xmath664 is finite and contained in @xmath290 .",
    "the function @xmath665 is called a weight function .",
    "the _ genus _ of @xmath666 is defined to be @xmath667 .",
    "let @xmath662 be a weighted @xmath56-metric graph .",
    "since @xmath668 , the following follows from proposition  [ prop : riformg ] .",
    "[ prop : riemann : inequality ] for @xmath669 , if @xmath670 , then @xmath650 .",
    "let @xmath662 be a weighted @xmath56-metric graph .",
    "assume now that @xmath671 and that there does not exist @xmath672 with @xmath673 and @xmath674 .",
    "then @xmath5 has a finite graph structure with the set of vertices @xmath675 .",
    "let @xmath676 denote the set of edges .",
    "an edge @xmath677 is called a _ bridge _ if @xmath678 is disconnected .",
    "let @xmath679 be the set of the bridges of @xmath5 , and we decompose @xmath680 into @xmath681 where each @xmath682 is a @xmath56-metric graph ( i.e. , @xmath682 is connected ) .",
    "we set @xmath683 .",
    "then @xmath684 is a weighted @xmath56-metric graph , and we have @xmath685 .",
    "since there does not exist @xmath672 with @xmath673 and @xmath674 , we have @xmath686 for each @xmath18 .",
    "we call each @xmath682 an _ island _ of a weighted @xmath56-metric graph @xmath666 .",
    "we show the existence of an effective divisor on @xmath5 whose restriction to each island is not trivial .",
    "[ prop : good : eff : div ]",
    "let @xmath662 be a weighted @xmath56-metric graph .",
    "assume that @xmath671 and that there does not exist @xmath672 with @xmath673 and @xmath674 .",
    "let @xmath687 .",
    "if @xmath670 , then there exists @xmath688 with the following properties    1 .",
    "@xmath689 , i.e. , @xmath117 is effective and linearly equivalent to @xmath67 .",
    "2 .   for any island @xmath682 of @xmath5",
    ", we have @xmath690 .",
    "3 .   for any bridge @xmath677",
    ", we have @xmath691 . for any edge @xmath677 that is not a bridge",
    ", we have @xmath692 .    _",
    "proof._suppose that @xmath670 .",
    "we construct such @xmath693 step by step .",
    "let @xmath679 be the set of the bridges of @xmath5 .    by riemann s inequality ( proposition  [ prop : riemann : inequality ] )",
    ", one has @xmath650 , so that there exists an effective divisor @xmath694 with @xmath695 .",
    "the divisor @xmath694 satisfies the condition ( i ) .    in this step ,",
    "we replace @xmath694 with @xmath696 so that @xmath696 satisfies the conditions ( i ) , ( ii ) , and the first condition in ( iii ) .",
    "we are going to show a stronger statement that , for any effective divisor @xmath697 with @xmath698 , there exists an effective divisor @xmath699 such that @xmath700 and @xmath701 for any island @xmath682 of @xmath5 .",
    "firstly , since any two points on a bridge are linearly equivalent to each other , we may assume that @xmath702 for any bridge @xmath703 ( @xmath178 ) .",
    "suppose that @xmath336 , i.e. , @xmath5 has no bridge . in this case , @xmath5 is the only island , and we have @xmath704 .",
    "thus it suffices to take @xmath705 .",
    "suppose that @xmath706 .",
    "let @xmath707 be the end vertices of @xmath708 .",
    "let @xmath709 and @xmath710 be the connected components of @xmath711 with @xmath712 and @xmath713 .",
    "we set @xmath714 and @xmath715 , where @xmath716 and @xmath717 .",
    "since @xmath718 we may assume without loss of generality that @xmath719 .",
    "we set @xmath720    \\in { \\operatorname{div}}_\\lambda(\\gamma^{\\prime}).\\ ] ] then @xmath721 and @xmath722 .",
    "since @xmath723 \\right ) = g ( \\bar{\\gamma}^{\\prime\\prime}),\\ ] ] riemann s inequality on @xmath724 ( cf .",
    "proposition  [ prop : riemann : inequality ] ) gives an effective divisor @xmath725 such that @xmath726.\\ ] ]    since @xmath709 and @xmath710 are subgraphs of @xmath5 , we naturally regard @xmath727 and @xmath728 as @xmath56-divisors on @xmath5 . since any two points on the bridge @xmath708 are linearly equivalent to each other , we see that @xmath729 .",
    "we replace @xmath694 with @xmath730 .    if @xmath731 ( resp .",
    "@xmath732 ) , then @xmath733 ( resp .",
    "@xmath710 ) is an island of @xmath5 , and we have @xmath734 ( resp .",
    "@xmath735 ) . if @xmath736 ( resp .",
    "@xmath736 ) , we repeat this argument to @xmath737 and @xmath738 ( resp . @xmath724 and @xmath739 ) .",
    "then we obtain @xmath699 that satisfies the conditions ( i ) and ( ii ) .",
    "also , we may assume that @xmath740 for any @xmath178 .    in the final step ,",
    "we replace @xmath696 with @xmath741 , so that @xmath741 satisfies the conditions ( i)(iii ) .",
    "suppose that @xmath61 is an edge that is not a bridge and that @xmath742 .",
    "let @xmath743 \\to e$ ] be a parameterization that restricts to an isometry @xmath744 .",
    "then there exist @xmath745 with @xmath746 -   [ \\gamma(t_2 ) ] \\geq 0 $ ] .",
    "we set @xmath747 and @xmath748 - [ t_2 ] +   [ \\gamma(t_1 -m ) ] + [ \\gamma(t_2 + m ) ] \\geq 0 $ ] .",
    "then we have @xmath749 , @xmath750 , and @xmath751 for any island @xmath682 . applying this argument for all such @xmath61 repeatedly",
    ", we obtain @xmath752 that satisfy the conditions ( i)(iii ) .",
    "500    in the rest of this subsection , we explain how weighted @xmath56-metric graphs arise as skeleta associated to strictly semistable models of smooth projective curves over @xmath4 .    let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 and let @xmath147 be a strictly semistable model of @xmath0 .",
    "let @xmath753 be the associated skeleton . recall that we put @xmath754 \\mid c \\in { \\operatorname{\\operatorname{irr}}}({{\\mathscr{x}}}_s)\\}$ ] , the set of shilov points with respect to @xmath147 .",
    "we define a weight function @xmath755 by letting @xmath756)$ ] be the geometric genus of @xmath562 and letting @xmath674 for any @xmath757 .",
    "then @xmath662 is a weighted @xmath56-metric graph .",
    "one sees that @xmath758 .",
    "further , @xmath759 if and only if @xmath665 is trivial .",
    "[ eg : can : seleton : weighted ] let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 .",
    "suppose that @xmath401 .",
    "we construct a weighted @xmath56-metric graph that is canonical for @xmath0 . indeed in this case",
    ", we have the canonical skeleton @xmath54 of @xmath19 .",
    "we take any deligne  mumford semistable model @xmath40 of @xmath0 , and we define the weight function @xmath665 from @xmath147 as above .",
    "note that @xmath665 does not depend on the choice of deligne  mumford semistable models @xmath40 of @xmath0 .",
    "thus we obtain a weighted @xmath56-metric graph @xmath760 for @xmath0 .",
    "we call @xmath761 the _ canonical weighted skeleton of @xmath19_. remark that since @xmath147 is deligne ",
    "mumford semistable , one sees that there does not exist @xmath672 with @xmath673 and @xmath674 .",
    "let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 , and now we assume that @xmath1 .",
    "then the canonical weighted skeleton @xmath760 of @xmath19 is equipped with a finite graph structure with the set of vertices @xmath762 .",
    "let @xmath763 denote the set of edges .",
    "notice that @xmath764 and @xmath765 .",
    "as remarked in example  [ eg : can : seleton : weighted ] , there does not exist @xmath766 with @xmath673 and @xmath674 .",
    "canonical weighted skeleta @xmath761 for genus @xmath1 are important examples on which one can apply proposition  [ prop : good : eff : div ] .",
    "[ remark : valence : stable ] with the notation above , suppose that @xmath767 .",
    "then @xmath665 is trivial and @xmath768 .",
    "let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 .",
    "assume that @xmath1 .",
    "let @xmath769 be the canonical skeleton of @xmath0 .",
    "let @xmath770 be the retraction map ( cf .",
    "the paragraph before remark  [ rem.classical-imval ] ) . since @xmath771 , the restriction of @xmath297 to @xmath190 gives the map @xmath772 ( still denoted by @xmath297 ) . since @xmath4 is algebraically closed , we have @xmath773 . by linearity and remark  [ rem.classical-imval ] ,",
    "we extend @xmath297 to @xmath774 this map @xmath775 is called a _",
    "specialization map_. note that @xmath775 preserves degrees and linearly equivalent classes ( cf .",
    "* lemma  2.1 ) )    let @xmath13 be a line bundle over @xmath0 . we take a divisor",
    "@xmath776 with @xmath777 , and we consider @xmath778 .",
    "since @xmath775 preserves linear equivalent classes , the linear system @xmath779 does not depend on the choice of @xmath780 .",
    "we denote @xmath779 by @xmath781 .",
    "let @xmath40 be a strictly semistable model of @xmath0 .",
    "for a line bundle @xmath782 over @xmath40 , we set @xmath783 \\in { \\operatorname{div}}_{\\lambda } ( \\gamma_{{\\operatorname{can}}})\\ ] ] we show the following proposition , which will be the starting point to construct various good strictly semistable models @xmath45 .",
    "[ prop : pregoodmodel : pre ] let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath1 .",
    "let @xmath13 be a line bundle over @xmath0 and let @xmath784 .",
    "then there exists a strictly semistable model @xmath785 of @xmath786 with the following properties    1 .",
    "@xmath147 is a good model in definition  [ def : goodmodel : new ] .",
    "2 .   @xmath787 .",
    "further , if @xmath788 is a deligne  mumford strictly semistable model of @xmath0 , then we may take @xmath40 so that @xmath40 dominates @xmath788 , i.e. , there exists a morphism @xmath789 extending the identity morphism on @xmath0 .    _",
    "proof._*step 1 . *",
    "we take @xmath790 such that @xmath791 .",
    "we set @xmath792 then @xmath793 . we take a @xmath794 such that @xmath795 .",
    "remark that our @xmath796 coincides with the group of @xmath56-rational principal divisors in @xcite .",
    "then by ( * ? ? ?",
    "* theorem  1.1 ) , which proves raynaud s type theorem on the surjectivity between principal divisors under the specialization map , there exists a principal divisor @xmath797 on @xmath0 such that @xmath798 .",
    "we have @xmath799 . since @xmath4 is algebraically closed , we write @xmath800 with @xmath801 .",
    "let @xmath802 be a deligne ",
    "mumford strictly semistable model of @xmath0",
    ". then proposition  [ prop : subdivision1:b ] gives a deligne ",
    "mumford strictly semistable model @xmath803 such that @xmath804 .",
    "( note that , since @xmath805 , @xmath806 is deligne  mumford semistable . )    we modify @xmath807 to obtain a good model .",
    "let @xmath808 be the nodes such that there does not exist @xmath143-chain @xmath117 with @xmath809 .",
    "let @xmath810 be the canonical @xmath30-simplex corresponding to @xmath580 .",
    "take a @xmath56-valued points @xmath811 in @xmath812 and put @xmath813 . then by proposition  [ prop :",
    "subdivision1:b ] , there exists a model @xmath814 of @xmath0 such that @xmath815 . by the construction",
    ", @xmath816 satisfies the condition ( ii ) in definition  [ def : goodmodel : new ] . since @xmath817 , @xmath816 is deligne ",
    "mumford semistable .",
    "remark that @xmath818 dominates @xmath819 .",
    "next , we modify @xmath816 to make a model that satisfies the condition ( iii ) in definition  [ def : goodmodel : new ] .",
    "let @xmath117 be a maximal @xmath143-chain of connected type .",
    "put @xmath820 .",
    "let @xmath821 be the irreducible components of @xmath117 with a numbering such that @xmath822 for @xmath823 .",
    "let @xmath824 be the distinct nodes such that @xmath825 where the numbering is given in such a way that @xmath826 for @xmath827 , @xmath828 , and @xmath829 .",
    "take @xmath830 such that @xmath831 and @xmath832 ( we may have @xmath833 ) .",
    "we set @xmath834 in the skeleton @xmath835 .",
    "there exists a unique nontrivial isometry @xmath836 such that @xmath837 , and @xmath838 , where @xmath839 is the set of end vertices of @xmath292 .",
    "there exists a unique point @xmath840 with @xmath841 .",
    "we can take a finite set of @xmath56-valued points @xmath842 of @xmath843 such that @xmath844 , [ e_1 ] , \\ldots , [ e_{r-1}]$ ] , @xmath845 $ ] , @xmath846 and @xmath847 .",
    "note that @xmath848 , [ e_r]\\ } \\right)$ ] is odd , and we write this number by @xmath849 . furthermore , adding @xmath56-valued points to @xmath850 if necessary , we may and do assume that @xmath568 and @xmath850 satisfies the following condition : let @xmath851 ) \\in m_e$ ] be a point that is nearest to @xmath844 $ ] and let @xmath852 be a point that is the nearest to @xmath853 ; then the distance between @xmath844 $ ] and @xmath854 equals the distance between @xmath853 and @xmath855 .    for all maximal @xmath143-chains @xmath117 of connected type ,",
    "we take @xmath842 as above , and we set @xmath856 . by proposition  [ prop : subdivision1:b ] , there exists a strictly semistable model @xmath195 such that @xmath857 and @xmath147 dominates @xmath858 . since @xmath859 , @xmath147 is deligne  mumford semistable . by the construction",
    ", @xmath147 satisfies the condition ( iii ) in definition  [ def : goodmodel : new ] .",
    "thus @xmath40 is a good model in definition  [ def : goodmodel : new ] .",
    "* step 3 . *",
    "finally , we construct a line bundle @xmath860 on @xmath147 which satisfies the condition of the proposition .",
    "let @xmath861 be as in step  1 .",
    "we note that @xmath862 .",
    "let @xmath863 be the corresponding section to @xmath864 guaranteed by the valuative criterion .",
    "by lemma  [ lem : retraction - reduction ] , for any @xmath355 , there exists a unique @xmath865 such that @xmath866 , where @xmath867 by the definition of the reduction map @xmath868 . since @xmath869",
    ", @xmath172 is a cartier divisor on @xmath147 .",
    "we define a line bundle @xmath782 on @xmath40 to be @xmath870 .",
    "we see that @xmath871 .    for any @xmath872",
    ", we have by lemma  [ lem : retraction - reduction ] , @xmath873 )   = d([c]).\\ ] ] this shows that @xmath874 . thus the model",
    "@xmath785 satisfies the conditions ( i ) and ( ii ) , which completes the proof of the proposition .",
    "500    now , via proposition  [ prop : pregoodmodel : pre ] , we construct a model @xmath45 of @xmath46 , which will be frequently used to construct various global sections of @xmath2 .",
    "recall from the previous subsection that we have the canonical weighted skeleton @xmath761 of @xmath19 for a smooth projective curve of genus @xmath1 .",
    "[ prop : pregoodmodel ] let @xmath0 be a smooth projective curve of genus @xmath1 over @xmath4 and let @xmath2 be a line bundle over @xmath0 .",
    "suppose that @xmath875 .",
    "let @xmath876 . then there exist a strictly semistable model @xmath877 such that @xmath147 is a good model of @xmath0 in definition  [ def : goodmodel : new ] and such that as a divisor on the canonical skeleton @xmath54 , @xmath878 \\geq 0,\\ ] ] where @xmath879 .",
    "further , we may take @xmath43 so that the following properties are also satisfied    1 .   for any island @xmath682 of @xmath761",
    ", we have @xmath880)}\\right\\vert_{{\\gamma_i}}}\\right ) \\geq 1 $ ] .",
    "2 .   for any edge @xmath881",
    ", we have @xmath880)}\\right\\vert_{{{\\mathrm{relin}(e)}}}}\\right ) \\leq 1 $ ] .",
    "furthermore , if @xmath788 is a deligne  mumford strictly semistable model of @xmath0 , then we may take @xmath40 so that @xmath40 dominates @xmath788 , i.e. , there exists a morphism @xmath789 extending the identity morphism on @xmath0 .    _",
    "proof._set @xmath882 .",
    "we take @xmath776 with @xmath883 . since @xmath884",
    ", we have @xmath885 \\right ) \\geq    g = g(\\bar{\\gamma}_{{\\operatorname{can}}}).\\ ] ] then , by proposition  [ prop : good : eff : div ] , we take @xmath886\\right\\vert$ ] satisfying the conditions ( i)(iii ) of proposition  [ prop : good : eff : div ] . now , apply proposition  [ prop : pregoodmodel : pre ] to @xmath887 \\in \\left|\\tau_{\\ast } ( \\tilde{d})\\right| = \\left|\\tau_{\\ast } ( l)\\right| $ ] , and we obtain a good model @xmath40 of @xmath0 and a line bundle @xmath888 with @xmath889 such that @xmath890 $ ] .",
    "further , if @xmath788 is a deligne  mumford strictly semistable model of @xmath0 , then we may take @xmath40 so that @xmath40 dominates @xmath788 , i.e. , there exists a morphism @xmath789 extending the identity morphism on @xmath0 .",
    "set @xmath891 .",
    "then , since @xmath117 satisfies the conditions ( ii ) and ( iii ) in proposition  [ prop : good : eff : div ] , it is straightforward to see that @xmath161 has the required properties .    500",
    "let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 and let @xmath2 be a line bundle over @xmath0 . in this section , we prove that if @xmath1 and @xmath892 , then the canonical skeleton of @xmath0 has a unimodular tropicalization associated to @xmath21 .",
    "we begin by showing some lemmas which will be frequently used not only in this section but also in the following sections .",
    "we say that a line bundle @xmath2 is _ free _ at a point @xmath135 if @xmath135 is not a base point of @xmath2 .",
    "we would often like to show that a line bundle is free at a point .",
    "the following simple lemma serves for this purpose . recall that @xmath96 denotes the residue field of the ring of integers @xmath41 of @xmath4 .",
    "[ lemma : nonbasepoint ] let @xmath67 be a semistable curve over @xmath96 , let @xmath2 be a line bundle over @xmath67 , and let @xmath893 .",
    "we set @xmath894 .    1 .",
    "assume that @xmath135 is a regular point of @xmath67 .",
    "if @xmath895 , then @xmath2 is free at @xmath135 .",
    "2 .   assume that @xmath135 is a node of @xmath67 .",
    "let @xmath896 be the partial normalization of @xmath67 at @xmath135 .",
    "if @xmath897 , then @xmath2 is free at @xmath135 .    _",
    "proof._(1 ) by the serre duality , @xmath895 is equivalent to @xmath898 . from the exact sequence @xmath899",
    ", we then have @xmath900 .",
    "thus @xmath2 is free at @xmath135 .",
    "\\(2 ) let @xmath901 be the maximal ideal of @xmath902 at @xmath135 .",
    "we claim that , if @xmath903 , then @xmath2 is free at @xmath135 . indeed , by the serre duality , @xmath903 is equivalent to @xmath904 ( cf .",
    "* theorem  iii.7.6 ) ) . by the same argument as ( 1 ) using the exact sequence @xmath905",
    ", we obtain the claim .    as is noted in the proof of (",
    "* theorem  1.2 ) , we have @xmath906 thus we get the assertion .    500    in view of lemma  [ lemma : nonbasepoint ] , we would often like to show the vanishing of global sections of a certain line bundle .",
    "the following lemmas serve for this purpose .",
    "[ lemma : vanishing0 ] let @xmath67 be a connected proper reduced curve over @xmath96 and let @xmath103 be a line bundle over @xmath67 . if @xmath103 is nef and @xmath907 , then @xmath908 .    _",
    "proof._let @xmath909 .",
    "since @xmath104 , we see that @xmath910 if and only if @xmath911 .",
    "we take any @xmath912 .",
    "then @xmath913 is either zero or nowhere vanishing . on the other hand , there exists @xmath914 with @xmath915 , and we have @xmath916 . since @xmath67 is connected , we have @xmath917",
    ".    500    [ lemma : vanishing : a ] let @xmath67 be a connected proper reduced curve over @xmath96 and let @xmath103 be a line bundle over @xmath67 .",
    "let @xmath117 be a curve in @xmath67 and set @xmath918 .",
    "assume that @xmath919 , @xmath920 is nef and @xmath921",
    ". then @xmath908 .    _",
    "proof._our argument is similar to the proof of lemma  [ lemma : vanishing0 ] .",
    "we take any @xmath912 . for any @xmath922 , since @xmath104",
    ", @xmath913 is either zero or nowhere vanishing . on the other hand , @xmath923 .",
    "since @xmath67 is connected , we have @xmath917 .    500    [ lemma : vanishing7 ] let @xmath67 be a proper reduced curve over @xmath96 with at most nodes as singularities , and let @xmath103 be a line bundle over @xmath67 .",
    "let @xmath117 be a curve in @xmath67 and set @xmath918 .",
    "regard @xmath924 as a cartier divisor on @xmath150 .",
    "suppose that @xmath925 and @xmath926",
    ". then @xmath908 .    _",
    "proof._take any @xmath927 .",
    "since @xmath925 , we have @xmath928 , so that @xmath929 .",
    "this means that via a natural inclusion @xmath930 , @xmath931 . since @xmath932 , @xmath933",
    "it follows that @xmath934 .",
    "this proves @xmath908 .",
    "500    now let @xmath0 be a smooth projective curve over @xmath4 and let @xmath40 be a strictly semistable model of @xmath0 . using the above lemmas , we give a sufficient condition in terms of @xmath56-metric graphs that a line bundle over @xmath40 is free at a node @xmath935 .",
    "[ lemma : freeatnode : graphversion : emptyset ] let @xmath0 and @xmath147 be as above .",
    "let @xmath936 be the associated skeleton .",
    "let @xmath161 be a line bundle over @xmath40 .",
    "let @xmath585 and denote by @xmath261 the corresponding @xmath30-simplex in @xmath5 .",
    "set @xmath937 .",
    "assume that that @xmath938 cf . .",
    "further , assume that , for any connected component @xmath709 of @xmath939 , we have @xmath940 . then @xmath161 is free at @xmath135 .    _",
    "proof._to ease notation , we set @xmath941 .",
    "note that @xmath938 means that @xmath103 is nef .",
    "let @xmath942 is the partial normalization at @xmath135 .",
    "let @xmath150 be any connected component of @xmath136 .",
    "then by our assumption , @xmath943 is nef and @xmath944 . by lemma  [ lemma : vanishing0 ]",
    ", we have @xmath945 . by lemma  [ lemma : nonbasepoint](2 )",
    ", @xmath946 is free at @xmath135 .    since @xmath947",
    ", we have @xmath948 . by the serre duality , @xmath949 .",
    "thus by the base - change theorem , the natural homomorphism @xmath950 is surjective .",
    "since @xmath946 is free at @xmath135 , this concludes that @xmath161 is free at @xmath135 .",
    "500    in the next lemma , we consider a case where @xmath951 is not effective .",
    "[ lemma : freeatnode : graphversion : nonemptyset ] let @xmath0 , @xmath147 , @xmath5 , @xmath161 , @xmath952 , @xmath135 , and @xmath261 be as in lemma  [ lemma : freeatnode : graphversion : emptyset ] .",
    "set @xmath953 .",
    "assume that @xmath954 and that there exists a connected component @xmath955 of @xmath939 satisfying @xmath956 .",
    "further , assume the following .    1 .   for any connected component @xmath709 of @xmath939 with @xmath957 , @xmath958 .",
    "2 .   there exist @xmath959 and distinct connected components @xmath960 of @xmath961 such that 1 .",
    "@xmath962 for any @xmath963 , and 2 .   for any @xmath964 ,",
    "the valence of @xmath965 at @xmath126 is at least @xmath966 , where @xmath967 is the closure of @xmath968 in @xmath955 .",
    "then @xmath161 is free at @xmath135 .    _",
    "proof._let @xmath942 is the partial normalization at @xmath135 . via @xmath969",
    "we identify @xmath970 with @xmath971 . for @xmath972 ,",
    "let @xmath60 $ ] denote the corresponding point in @xmath973 . to ease notation",
    ", we set @xmath941 .    [ claim : in : lemma : freeatnode : graphversion : nonemptyset ] we have @xmath974 .    _",
    "proof._we set @xmath975 \\in \\gamma_1 } c$ ] , and @xmath976 \\in \\gamma^{\\circ}_{1j } }   c$ ] for @xmath963 .",
    "we take @xmath977 such that @xmath978 , \\ldots , [ c_r]\\}$ ] .",
    "our assumption says that @xmath979 is the connected component of @xmath980 such that @xmath981 .",
    "further , by ( ii)(a ) , each @xmath982 is a connected component of @xmath983 , @xmath984 is nef , and @xmath985 .",
    "lemma  [ lemma : vanishing0 ] gives @xmath986    take any @xmath987 .",
    "set @xmath988 , which we regard as a cartier divisor on @xmath989 .",
    "then , by the condition ( ii)(b ) , @xmath990 .",
    "since @xmath989 is irreducible , lemma  [ lemma : vanishing0 ] tells us that @xmath991    by and , lemma  [ lemma : vanishing7 ] gives @xmath992 . since @xmath993",
    ", we have @xmath994 .",
    "since @xmath995 is nef , we obtain by lemma  [ lemma : vanishing : a ] that @xmath996 .",
    "if @xmath997 be any connected component of @xmath939 with @xmath998 , then by @xmath999 is nef and @xmath1000 by the assumption ( i ) . by lemma  [ lemma : vanishing0 ]",
    ", we get @xmath1001 .",
    "thus @xmath974 .",
    "500    by this claim , we obtain that @xmath974 , noting that @xmath1002 , and lemma  [ lemma : nonbasepoint ] shows that @xmath1003 is free at @xmath135 .",
    "then the same argument as in the proof of lemma  [ lemma : freeatnode : graphversion : emptyset ] concludes that @xmath43 is free at @xmath135 .    500      let @xmath0 be a smooth projective curve over @xmath4 and let @xmath55 be a strictly semistable model of @xmath0 . since @xmath147 is a local - ringed space , we have the notion of cartier divisors on @xmath147 . in this paper",
    ", divisors always mean cartier divisors .",
    "let @xmath1004 denote the group of divisors on @xmath147 .    for any @xmath872",
    ", let @xmath1005 denote the absolute value on the function field @xmath1006 that gives the shilov point associated to @xmath58 . for any @xmath1007 , @xmath1008 is called the _ order of @xmath542 along @xmath58 .",
    "_    let @xmath1009 be a divisor of @xmath40 .",
    "let @xmath8 be a local equation of a divisor @xmath1009 at @xmath196 , i.e. , a rational function on @xmath40 such that @xmath1010 on a neighborhood of @xmath196 in @xmath147 .",
    "we define _ order of @xmath1011 along @xmath58 _ to be @xmath1012 .",
    "remark that @xmath1013 does not depend on the choice of @xmath8 , and that @xmath1014 ( cf .",
    "remark  [ rem : type2points ] ) .    for a divisor @xmath1009 ,",
    "its support @xmath1015 is the locus on @xmath147 at which the local equation of @xmath1009 is not a locally invertible regular function .",
    "remark that @xmath1015 is a closed subset of @xmath147 .",
    "a divisor @xmath1009 on @xmath147 is said to be _ vertical _ if the restriction of @xmath1009 to @xmath0 is trivial , which is equivalent to @xmath1016 .",
    "let @xmath150 be a connected curve in @xmath137 .",
    "assume that @xmath150 satisfies the following conditions ( f ) :    * there exists a @xmath1017 such that for any @xmath1018 , the multiplicity of @xmath147 at @xmath135 equals @xmath1019 .",
    "then we define a vertical divisor @xmath1020 as follows . for each @xmath1018 , take a local tale atlas @xmath1021/(xy - \\varpi_p))\\ ] ] that distinguishes @xmath135 , where @xmath247 with @xmath1022 ( cf .",
    "  [ subsection : skeleta ] ) .",
    "we take @xmath251 in such a way that @xmath1023 defines the branch @xmath58 at @xmath135 with @xmath1024 .",
    "then there exists a unique divisor @xmath1020 characterized by the properties that    1 .   for any @xmath1018",
    ", @xmath1020 has a local equation @xmath1025 on @xmath255 ; 2 .",
    "@xmath1026 on some neighborhood of @xmath1027 ; 3 .",
    "@xmath1020 is trivial on some neighborhood of @xmath1028 .",
    "remark that @xmath1020 does not dependent on the choice of the local atlas at @xmath135 nor of @xmath1029 and that @xmath1020 has support @xmath150 .",
    "we call @xmath1020 the _ fundamental vertical divisor with support @xmath150_. the number @xmath1019 is called the _ multiplicity of @xmath1020_. the fundamental vertical divisor with support @xmath150 for some connected curve @xmath150 is simply called a _ fundamental vertical divisor_.    [ rem : restrictionofcartierdivisor ] let @xmath1020 be a fundamental vertical divisor on @xmath147 .",
    "let @xmath67 be a connected curve with @xmath1030 .",
    "then @xmath1031 is a reduced cartier divisor on @xmath67 with support @xmath1032 .",
    "this can be checked by using a local equation of @xmath1020 at each point of @xmath1032 .",
    "[ lem : forinjectivity ] let @xmath0 be a smooth projective curve over @xmath4 and let @xmath158 be a strictly semistable model of @xmath0 .",
    "let @xmath8 be a non - zero rational function on @xmath147 .",
    "let @xmath1033 be a @xmath445-linear combination of fundamental vertical divisors .",
    "assume that there exists an open subset @xmath264 of @xmath147 such that @xmath1034 and @xmath1035 is effective .",
    "then the following holds , where for any @xmath872 , @xmath60 $ ] denotes the shilov point associated to @xmath58 .    1 .",
    "we have @xmath1036)| \\geq { \\operatorname{ord}}_c ( \\mathscr{w})$ ] .",
    "furthermore , if @xmath1037 is trivial at the generic point of @xmath58 , then @xmath1038 ) | = { \\operatorname{ord}}_c ( \\mathscr{w})$ ] .",
    "2 .   let @xmath242 and let @xmath1039 be distinct irreducible components with @xmath1040 .",
    "let @xmath23 be the affine function on @xmath261 with @xmath1041 ) = { \\operatorname{ord}}_{c_i } ( \\mathscr{w})$ ] for @xmath1042 .",
    "then @xmath1043 for any @xmath1044 .",
    "furthermore , if @xmath1037 is trivial at @xmath135 , then @xmath1045 .    _",
    "proof._assertion ( 1 ) follows from the definition of @xmath1046 .",
    "let us prove ( 2 ) .",
    "we take a distinguished local tale morphism @xmath1047/(xy - \\varpi_p))$ ] such that @xmath1048 .",
    "we may assume that , in the special fiber , @xmath1049 is defined by @xmath1025 and @xmath1050 by @xmath1051 .",
    "since @xmath1052 is a @xmath445-linear combination of fundamental vertical divisors , we have a local equation of @xmath1052 of the form @xmath1053 for some @xmath1054 and @xmath1055 , and then @xmath1056 . put @xmath1057 . since @xmath1035 is effective , @xmath1058 is regular on @xmath255 and hence @xmath1059 on @xmath261 .",
    "thus we obtain @xmath1060 .",
    "if @xmath1035 is trivial at @xmath135 , then @xmath1058 is an invertible regular function around @xmath135 and hence @xmath1061 . in this case",
    ", we have @xmath1062 .",
    "500      in this subsection , we define the stepwise vertical divisors associated to an oriented edge of disconnected type and those associated to an edge of connected type .",
    "they will be mainly used to construct a tropicalization map that is unimodular over the edge .",
    "since we use orientations on edges of disconnected type , we fix the notation .",
    "let @xmath592 be an edge of disconnected type .",
    "let @xmath1063 be the length of @xmath61 .",
    "then there are exactly two isometries from @xmath1064 $ ] to @xmath61 , and an _ orientation",
    "_ means one of the choices of those isometries .",
    "once an orientation on @xmath61 is given , we usually denote by @xmath1065 the edge @xmath61 with the orientation , and we call this an _ oriented edge_. for an oriented edge @xmath1065 with orientation @xmath1066 \\to e$ ] , we call @xmath1067 the _ head of @xmath1065 _ and call @xmath1068 the _ tail of @xmath1065_.    let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 .",
    "assume that @xmath1 in this subsection .",
    "let @xmath147 be a strictly semistable model of @xmath0 .",
    "as before , let @xmath160 denote the stable model of @xmath0 .",
    "let @xmath61 be an edge of @xmath54 , namely , @xmath1069 ; see the last paragraph in   [ subsec : properties : skeleta ] .",
    "let @xmath117 be the corresponding maximal @xmath143-chain in @xmath137 ( cf .",
    "lemma  [ lemma : make : clear ] ) .",
    "first , we consider the case where @xmath61 is of disconnected type .",
    "fix an orientation on @xmath61 , and let @xmath1065 denote the oriented edge with this orientation .",
    "let @xmath639 be the end vertex on @xmath61 that is the head of @xmath1065 .",
    "let @xmath1070 be the irreducible component of @xmath137 with @xmath844 = v_0 $ ] .",
    "let @xmath1071 be the irreducible components of @xmath117 , where we put the numbering in such a way that @xmath1072 for @xmath1073 .",
    "remark that this numbering is unique for @xmath1065 . since @xmath61 is of disconnected type , @xmath558 consists of two connected components ; let @xmath67 be the connected components with @xmath1074 and let @xmath1075 be the other ones .",
    "let @xmath580 denote the node with @xmath574 for @xmath1076 and let @xmath1077 be the node with @xmath1078 .",
    "let @xmath1079 with @xmath832 .",
    "see the figure below .",
    "@xmath1080    for each @xmath1081 ,",
    "the connected curve @xmath1082 satisfies the condition ( f ) in  [ subsec : fvd ] , and let @xmath1083 be the fundamental vertical divisor associated to @xmath1082 .",
    "further , we set @xmath1084 , which we call the _ stepwise vertical divisor associated to @xmath1065 . _ for the opposite orientation @xmath1085 , we also have the stepwise vertical divisor @xmath1086 .",
    "when we say a _ stepwise vertical divisor for @xmath61 _ , we mean @xmath1087 or @xmath1086 .",
    "we compute the degree of the stepwise vertical divisor over each @xmath1088 . by remark  [ rem : restrictionofcartierdivisor ]",
    ", we have @xmath1089 for multiplicities , we have @xmath1090 where @xmath1091 is the multiplicity at @xmath1092 , which also equals the length of the canonical @xmath30-simplex @xmath1093 corresponding to @xmath1092 ( cf . ",
    "[ subsection : skeleta ] ) .",
    "next , we consider the case where @xmath61 is of connected type . here",
    ", we assume that @xmath117 has symmetric multiplicities ( cf . definition  [ def : symmetricmultiplicity ] ) , and let @xmath1094 be the irreducible components of @xmath117 with the numbering such that @xmath1095 for @xmath1096 .",
    "let @xmath1070 be the irreducible component of @xmath558 with @xmath1097 and let @xmath1098 be the irreducible component of @xmath558 with @xmath1099 .",
    "remark that @xmath1100 if and only if @xmath61 is a loop .",
    "let @xmath580 denote the node with @xmath1101 for @xmath1102 .",
    "see the figure below .",
    "@xmath1103    since @xmath117 has symmetric multiplicities , the connected curve @xmath1104 satisfies condition ( f ) in  [ subsec : fvd ] for each @xmath1105 , and hence we have the fundamental vertical divisor @xmath1083 with support @xmath1104 .",
    "remark that the divisor @xmath1106 does not depend on such numbering of the irreducible components of @xmath117 , and hence well - defined for @xmath61 .",
    "we set @xmath1107 , which we call the _ stepwise vertical divisor associated to @xmath61 .",
    "_    we compute the degree of the stepwise vertical divisor over each @xmath1088 .",
    "if @xmath61 is a loop , then @xmath1108 , and noting remark  [ rem : restrictionofcartierdivisor ] , we obtain @xmath1109 if @xmath61 is not a loop , then @xmath1110 , and we have @xmath1111    for multiplicities , we have @xmath1112 in any case , where @xmath1091 is the multiplicity at the node @xmath1092 , which equals the length of the canonical @xmath30-simplex @xmath1093 corresponding to @xmath1092 ( cf . ",
    "[ subsection : skeleta ] ) .",
    "let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8",
    ". from here on to the end of this section , assume that @xmath1 .",
    "let @xmath2 be a line bundle over @xmath0 .",
    "in this subsection , we fix an edge @xmath1113 .",
    "let @xmath45 be a model of @xmath46 such that @xmath40 is a good model in definition  [ def : goodmodel : new ] .",
    "for a node @xmath1114 , let @xmath261 denote the canonical @xmath30-simplex corresponding to @xmath135 in @xmath1115 . recall that @xmath1116 ( cf .",
    "( [ align : nodes : subset ] ) ) .",
    "[ def : edge - base : section ] a nonzero global section @xmath1117 is called an _",
    "@xmath61-base section _ if @xmath1118 for any @xmath1119 .",
    "we define the notion of edge - unimodularity sections for an edge according to the type of the edge .",
    "assume that @xmath592 is of disconnected type    a nonzero global section @xmath1117 is called an _ @xmath61-unimodularity section _ if there exists an orientation on @xmath61 such that @xmath1120 is effective and trivial on some neighborhood of @xmath1121 , where @xmath1065 denotes the oriented edge .",
    "the next lemma asserts that @xmath61-base section and an @xmath61-unimodularity section give a tropicalization map which is unimodular over the edge @xmath61 .",
    "[ lemma : actuallyunimodular : discon ] let @xmath592 be an edge of disconnected type .",
    "let @xmath45 be a model of @xmath46 such that @xmath40 is a good model in definition  [ def : goodmodel : new ] .",
    "let @xmath1122 be an @xmath61-base section and let @xmath1123 be an @xmath61-unimodularity section .",
    "set @xmath1124 and @xmath1125 , which are non - zero global sections of @xmath2 .",
    "we define a function @xmath1126 by @xmath1127 .",
    "let @xmath1063 denote the length of @xmath61 .",
    "then @xmath1128 gives an isometry @xmath1129 $ ] .    _",
    "proof._we define the rational function @xmath8 on @xmath147 by @xmath1130 .",
    "since @xmath1131 is an @xmath61 unimodularity section , there exists an oriented edge @xmath1065 such that @xmath1132 is effective and trivial over some neighborhood of @xmath1133 .",
    "since @xmath1134 does not have zero on some neighborhood of @xmath1133 , there exists an open neighborhood @xmath264 of @xmath1133 such that @xmath1135 is trivial .",
    "we use the notation used in ",
    "[ subsection : stepwise ] ; in particular , we have @xmath1136 , @xmath844 $ ] is the head of @xmath1065 , @xmath1137 , @xmath1138 and @xmath574 for @xmath1139 . for each @xmath1140",
    ", we take a local tale atlas @xmath1141/ ( xy - \\varpi_{i}))$ ] that distinguishes @xmath580 such that @xmath1142 . exchanging @xmath125 and @xmath229 if necessary",
    ", we may assume that in the special fiber @xmath1143 of @xmath1144 , the branch @xmath1145 at @xmath580 is defined by @xmath1146 .",
    "since @xmath1135 is trivial , @xmath8 is a local equation of @xmath1087 at each @xmath580 .",
    "since we have ( [ eqn : ordvdisconnected ] ) , it follows that for any @xmath1140 , there exists a unit @xmath1147 such that @xmath1148 over @xmath1144 ; indeed , see the properties ( i)(iii ) in the definition of fundamental vertical divisor and the definition of @xmath1087 in  [ subsec : fvd ] .",
    "note that @xmath1149 . since @xmath1150 , @xmath1151 .",
    "it follows from lemma  [ lem : forinjectivity](1 ) that @xmath1128 maps @xmath810 to @xmath1152 $ ] isometrically .",
    "this shows that @xmath1128 maps @xmath1153 to @xmath1154 $ ] isometrically .",
    "500      assume that @xmath592 is of connected type . in this case",
    ", we divide @xmath61 at the middle point of @xmath61 into two @xmath30-simplices , and let @xmath708 denote one of them .",
    "a nonzero global section @xmath1117 is called an _ @xmath708-unimodularity section _ if @xmath1155 is effective and trivial on some neighborhood of @xmath1156 .",
    "[ lemma : actuallyunimodular : conn ] let @xmath592 be of connected type and let @xmath708 be as above .",
    "let @xmath45 be a model of @xmath46 such that @xmath40 is a good model in definition  [ def : goodmodel : new ] .",
    "let @xmath1122 be an @xmath61-base section and let @xmath1157 be an @xmath708-unimodularity section .",
    "set @xmath1124 and @xmath1158 , which are non - zero global sections of @xmath2 .",
    "we define a function @xmath1159 by @xmath1160 .",
    "let @xmath1161 denote the length of @xmath708 .",
    "then @xmath1162 gives an isometry @xmath1163 $ ] .",
    "_ proof._we can prove the lemma in a similar way as in lemma  [ lemma : actuallyunimodular : discon ] , so we omit a proof .    500      in this subsection , we first prove the following proposition  [ prop : existence : sections : stronger ] to complete the proof of a unimodular tropicalization of the canonical skeleton .    [ prop : existence : sections : stronger ] let @xmath0 be a smooth projective curve of genus @xmath1 over @xmath4 and let @xmath2 be a line bundle over @xmath0 .",
    "suppose that @xmath7 .",
    "let @xmath592 .    1 .",
    "suppose that @xmath61 is of disconnected type .",
    "fix an orientation on @xmath61 and let @xmath1065 denote the oriented edge . then there exist a model @xmath45 of @xmath46 such that @xmath40 is a good model in definition  [ def : goodmodel : new ] , and that there exist an @xmath61-base section @xmath1164 and an @xmath61-unimodularity section @xmath1165 .",
    "more strongly , there exist a section @xmath1165 such that @xmath1166 is effective and is trivial on some neighborhood of @xmath1167 not only on some neighborhood of @xmath1133 .",
    "2 .   suppose that @xmath61 is of connected type .",
    "let @xmath708 be a half of @xmath61 , that is , a @xmath30-simplex that appears by subdividing @xmath61 at the middle point .",
    "then there exist a model @xmath45 of @xmath46 such that @xmath40 is a good model in definition  [ def : goodmodel : new ] , and that there exist an @xmath61-base section @xmath1164 and an @xmath708-unimodularity section @xmath1168 .    to prove proposition  [ prop : existence : sections : stronger ] , we first show the following lemma based on proposition  [ prop : pregoodmodel ] .",
    "[ lemma : forbasesectionut : dc ] let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath1 and let @xmath2 be a line bundle over @xmath0 . take an edge @xmath592 .",
    "let @xmath126 be an end vertex of @xmath61 .",
    "let @xmath45 be a model of @xmath557 such that @xmath147 is a good model in definition  [ def : goodmodel : new ] and such that @xmath1169 \\geq 0 $ ] on @xmath54 satisfying the conditions ( i ) and ( ii ) in proposition  [ prop : pregoodmodel ] , where @xmath937",
    ". then the following holds .    1 .",
    "the line bundle @xmath161 is free at any @xmath602 .",
    "2 .   suppose that @xmath61 is of disconnected type .",
    "put the orientation on @xmath61 with origin @xmath126 and let @xmath1065 denote the oriented edge .",
    "then @xmath1170 is free at any @xmath602 .",
    "3 .   suppose that @xmath61 is of connected type .",
    "divide @xmath61 into two @xmath30-simplices at the middle point of @xmath61 , and let @xmath708 be one of them that contains @xmath126 .",
    "then @xmath1171 is free at any @xmath1172 .    _",
    "proof._(1 ) we take any @xmath602 . to show the freeness of @xmath43 at @xmath497 , we use lemma  [ lemma : freeatnode : graphversion : emptyset ] . since @xmath1169 \\geq 0 $ ] , we have @xmath1173 . since @xmath494 is a part of the bridge @xmath61 , any connected component @xmath709 of @xmath1174 contains an island @xmath682 of @xmath5 , and proposition  [ prop : pregoodmodel](i ) shows that @xmath1175 .",
    "it follows from lemma  [ lemma : freeatnode : graphversion : emptyset ] that @xmath43 is free at @xmath497 .",
    "\\(2 ) one can similarly show the freeness of @xmath1170 at @xmath497 as in ( 1 ) .",
    "indeed , let @xmath1176 the end vertex of @xmath61 with @xmath1177 . by",
    ", we have @xmath1178 + [ v^\\prime ] $ ] .",
    "since @xmath1169 \\geq 0 $ ] , we have @xmath1179 .",
    "as in the proof of ( 1 ) , any connected component @xmath709 of @xmath1174 contains an island @xmath682 of @xmath5 , and proposition  [ prop : pregoodmodel](i ) shows that @xmath1180 .",
    "it follows from lemma  [ lemma : freeatnode : graphversion : emptyset ] that @xmath1181 is free at @xmath497 .",
    "\\(3 ) if @xmath61 is not a loop , then let @xmath1176 be the end vertex of @xmath61 other than @xmath126 ; if @xmath61 is a loop , then set @xmath1182 .",
    "let @xmath853 denote the middle point of @xmath61 . by and , we have @xmath1183 - [ v^\\prime ] + 2[w ] $ ] .",
    "we take any @xmath1172 .",
    "suppose that @xmath1184 .",
    "then , since @xmath1169 \\geq 0 $ ] , we have @xmath1185 .",
    "since @xmath494 is a part of the bridge @xmath61 of connected type , @xmath1174 is connected , and proposition  [ prop : pregoodmodel](i ) shows that @xmath1186 .",
    "it follows from lemma  [ lemma : freeatnode : graphversion : emptyset ] that @xmath1187 is free at @xmath497 .",
    "suppose that @xmath1188 .",
    "since @xmath1169 \\geq 0 $ ] , this means that @xmath1189 .",
    "we use lemma  [ lemma : freeatnode : graphversion : nonemptyset ] . in this case",
    ", we let @xmath1190 and @xmath1191 .",
    "since @xmath1192 satisfies the condition ( ii ) in proposition  [ prop : pregoodmodel ] , we have @xmath1193}\\right\\vert_{{\\mathrm{relin}(e)}}}\\right ) \\leq 1 $ ] .",
    "it follows that @xmath1194}\\right\\vert_{{\\gamma\\setminus\\mathrm{relin}(e)}}}\\right )   = \\deg\\left(d_{\\mathscr{m}}-[v]\\right )   -   \\deg\\left({\\left.{d_{\\mathscr{m}}-[v]}\\right\\vert_{{\\mathrm{relin}(e)}}}\\right )   \\geq g - 1 \\geq 1.\\ ] ] since @xmath1195 , we have @xmath1196)(v ' ) = -1 $ ] .",
    "further , we have @xmath1197 .",
    "it follows form the above inequality that there exists @xmath1198 such that @xmath1199 and @xmath1200)(u ) \\geq 1 $ ] .",
    "let @xmath1201 be the connected component of @xmath1202 that contains @xmath853 , and let @xmath1203 be the connected component of @xmath1202 that contains @xmath1204 .",
    "note that @xmath1205 .",
    "indeed , since @xmath1206 , we have @xmath1207 ; on the other hand , since @xmath1208 , @xmath1209 .",
    "we have @xmath1210 ) = 2 \\geq 1 ,",
    "\\quad \\deg\\left({\\left.{d_{\\mathscr{m}(- \\mathscr{v}_{e})}}\\right\\vert_{{\\gamma_{12}^\\circ}}}\\right )   \\geq \\deg(u ) = 1.\\ ] ] further , if we set @xmath1211 for @xmath1212 , then the valence of @xmath1213 at @xmath1176 is at least @xmath1214 .",
    "thus we conclude by lemma  [ lemma : freeatnode : graphversion : nonemptyset ] that @xmath1187 is free at @xmath497",
    ".    500    _ proof of proposition  [ prop : existence : sections : stronger ] .",
    "_ we construct a model @xmath556 .",
    "we take an end - vertex @xmath126 of @xmath61 as follows : if @xmath61 is of disconnected type , we take @xmath126 to be the head of @xmath1065 ; if @xmath61 is of connected type , we take @xmath126 such that @xmath1215 ( for ( 2 ) ) .",
    "we apply proposition  [ prop : pregoodmodel ] , where we take @xmath126 as @xmath125 .",
    "then we get a strictly semistable model @xmath45 such that @xmath1169 \\geq 0 $ ] on @xmath54 satisfying the conditions ( i)(ii ) in proposition  [ prop : pregoodmodel ] , where @xmath937 . by lemma  [ lemma :",
    "forbasesectionut : dc](1 ) , @xmath43 is free at any @xmath242 , which implies that there exists a global section of @xmath1122 that does not vanish at any @xmath602 . in particular , this show the existence of an @xmath61-base section for @xmath61 .",
    "suppose that @xmath61 is of disconnected type and we show ( 1 ) .",
    "by lemma  [ lemma : forbasesectionut : dc](2 ) , @xmath1181 is free at any @xmath1216 , which implies that there exists a global section of @xmath1217 that does not vanish at any @xmath602 .",
    "let @xmath1218 be the image of @xmath1219 by the natural inclusion @xmath1220 .",
    "then @xmath1218 satisfies the required condition .",
    "this completes the proof of ( 1 ) .",
    "suppose that @xmath61 is of connected type and we show ( 2 ) .",
    "the same argument as above which uses lemma  [ lemma : forbasesectionut : dc](3 ) instead of lemma  [ lemma : forbasesectionut : dc](2 ) shows the existence of an @xmath708-unimodularity section .    500    now , we are ready to construct a unimodular tropicalization of the canonical skeleton @xmath54 .",
    "in fact , we construct a tropicalization map that is not only unimodular but also separate two points which are in some special positions . to do this we prove one more lemma .",
    "[ lemma : es : d - c ] let @xmath61 be an edge of disconnected type",
    ". put an orientation on @xmath61 and let @xmath1065 denote the oriented edge .",
    "let @xmath955 be the connected component of @xmath1221 containing the head of @xmath1065 , and let @xmath1222 be the other connected component .",
    "let @xmath163 be a strictly semistable model of @xmath557 such that @xmath147 is a good model in definition  [ def : goodmodel : new ] .",
    "let @xmath1134 and @xmath1223 be global sections of @xmath161 such that    1 .",
    "@xmath1224 for any @xmath242 2 .",
    "@xmath1225 is effective and trivial on some neighborhood of @xmath1167 .",
    "let @xmath8 denote the rational function that is the restriction to @xmath0 of the rational function @xmath1226 on @xmath147 .",
    "set @xmath1227 .",
    "let @xmath1063 denote the length of @xmath61",
    ". then @xmath1228 and @xmath1229 .",
    "for any @xmath1230 , we have @xmath1231 equals @xmath31 of @xmath1063",
    ".    _ proof._by the definition of @xmath8 , there exists an open neighborhood @xmath264 of @xmath1167 such that @xmath1232 is trivial over @xmath264 .",
    "first , we take any @xmath1230 .",
    "let @xmath1049 and @xmath1050 be the irreducible components of @xmath137 such that @xmath1233 . by the definition of @xmath1087 , we have @xmath1234 for @xmath1042 .",
    "by lemma  [ lem : forinjectivity ] , it follows that @xmath1235 . since @xmath1236 , this proves @xmath1228 .",
    "next , we take any @xmath1237 .",
    "let @xmath1238 and @xmath1239 be the irreducible components of @xmath137 such that @xmath1240 . by the definition of @xmath1087 , we have @xmath1241 for @xmath1042 .",
    "by lemma  [ lem : forinjectivity ] , it follows that @xmath1242 . since @xmath1243 , this proves @xmath1229 .    500    [ theorem : ut : canonical ] let @xmath0 be a smooth projective curve of genus @xmath1 over @xmath4 , and",
    "let @xmath2 be a line bundle over @xmath0 .",
    "suppose that @xmath875 . then there exist non - zero sections @xmath1244 such that the map @xmath473 defined by @xmath1245 gives a unimodular tropicalization of the canonical skeleton @xmath54 .",
    "furthermore , we can take @xmath512 in such a way that @xmath23 has the following properties .    1 .",
    "suppose that @xmath1246 is of disconnected type .",
    "then @xmath1247 is an isometry .",
    "2 .   suppose that @xmath1246 is of connected type .",
    "let @xmath1248 be the canonical involution of @xmath61 , and @xmath1249 be the set of @xmath1248-fixed points .",
    "let @xmath1250 and @xmath1251 be the closures of the connected components of @xmath1252 respectively . then @xmath1253 is an isometry , and @xmath1254 is an isometry .",
    "3 .   let @xmath1246 be of disconnected type .",
    "let @xmath1255 be points such that @xmath125 and @xmath229 do not belong to the same connected component of @xmath1256",
    ". then @xmath1257 and @xmath1258 .    _",
    "proof._we write @xmath1259 , where @xmath703 ( @xmath1260 ) is an edge of disconnected type , and @xmath703 ( @xmath1261 ) is an edge of connected type .    for @xmath1260 ,",
    "we give an orientation to @xmath61 and let @xmath1065 denote the oriented edge . then proposition  [ prop : existence : sections : stronger](1 )",
    "gives a model @xmath47 of @xmath46 such that @xmath703-base section @xmath1262 and a section @xmath1263 such that @xmath1264 is effective and trivial on some neighborhood of @xmath1167 .",
    "in particular , @xmath1265 is an @xmath703-unimodularity section .    for @xmath1266",
    ", we divide @xmath703 into two @xmath30-simplices at the middle point and let @xmath1267 and @xmath1268 be the @xmath30-simplices arising from this subdivision . for @xmath1269 , proposition  [ prop : existence : sections : stronger](2 ) gives a model @xmath1270 of @xmath46 and an @xmath1271-base section @xmath1272 and an @xmath1273-unimodularity section @xmath1274 .",
    "we consider @xmath1275 for @xmath1260 , and @xmath1276 for @xmath1266 .",
    "we denote them by @xmath1277 .",
    "set @xmath1278 .",
    "further , since @xmath2 is basepoint free , we take a global section @xmath1279 such that @xmath512 generate @xmath2 at any point of @xmath0 .",
    "then it is straightforward from lemmas  [ lemma : actuallyunimodular : discon ] and [ lemma : actuallyunimodular : conn ] that the map @xmath23 determined by @xmath512 give a unimodular tropicalization of @xmath54 satisfying the properties ( i ) and ( ii ) .",
    "furthermore , this tropicalization also satisfies ( iii ) . indeed ,",
    "since @xmath125 and @xmath229 do not belong to the same island , there exists a bridge @xmath607 such that there exists an connected component @xmath955 of @xmath1256 such that @xmath1280 , and the other connected component @xmath1222 contains @xmath229 . for this @xmath61 with an orientation , since there exists a global section that satisfies ( i ) of lemma  [ lemma : es : d - c ] among @xmath1281 ( @xmath1260 ) and there exists one that satisfies ( ii ) of lemma  [ lemma : es : d - c ] among @xmath1282 ( @xmath1260 ) , we see from lemma  [ lemma : es : d - c ] that condition ( iii ) of the theorem is satisfied",
    "let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath8 and let @xmath2 be a line bundle over @xmath0 . in this section , assume that @xmath1 .",
    "let @xmath1283 be the canonical skeleton of @xmath19 .",
    "if @xmath875 , then we have already constructed enough global sections of @xmath2 which give a unimodular tropicalization of @xmath5 . however , we have not yet obtained a faithful tropicalization . in view of theorem  [ theorem : ut : canonical](i)(ii)(iii ) , we still need to construct global sections of @xmath2 that separate distinct points @xmath1284 of the canonical skeleton like below , where @xmath160 is the stable model of @xmath0 over @xmath41 :",
    "@xmath1285 for some @xmath607 of connected type , and @xmath125 and @xmath229 belong to different connected components of @xmath1286 , where @xmath1287 is the middle point of @xmath61 ; 2 .",
    "@xmath1288 and @xmath1289 for some distinct @xmath1290 ; 3 .",
    ".    we will construct global sections which take care of ( i ) in   [ subsection : as ] , ( ii ) in ",
    "[ subsection : es ] , and ( iii ) in ",
    "[ subsection : vs ] .      in this subsection",
    ", we construct global sections which will be used to separate points in an edge of connected type .",
    "[ lemma : asdivisor ] let @xmath607 be of connected type .",
    "let @xmath147 be a good model of @xmath0 .",
    "then there exist exactly two fundamental vertical divisors @xmath1292 and @xmath1293 on @xmath147 such that @xmath1294 and @xmath1295 are the two @xmath30-simplices in @xmath61 that arise by dividing @xmath61 at the middle points .",
    "_ proof._let @xmath117 be the chain of @xmath143-curves in @xmath137 with @xmath609 ( cf .",
    "lemma  [ lemma : make : clear ] ) .",
    "since @xmath147 is a good model , @xmath565 is odd and not less than @xmath566 , say , @xmath1296 .",
    "let @xmath570 denote the irreducible components of @xmath117 with the numbering such that @xmath1095 for @xmath1297 ; see the second figure in ",
    "[ subsection : stepwise ] .",
    "let @xmath1070 and @xmath1098 denote the irreducible components of @xmath558 with @xmath376 with @xmath1298 , respectively . for each @xmath1299 ,",
    "let @xmath580 denote the node with @xmath1300 and let @xmath579 denote the multiplicity of @xmath147 at @xmath580 .",
    "since @xmath147 is a good model , we have @xmath1301 .",
    "it follows that there exist fundamental vertical divisors @xmath1302 whose support equals @xmath1303 and @xmath1304 whose support equals @xmath1305 , and actually , @xmath1302 and @xmath1304 are the required ones .",
    "it is obvious that there are no other fundamental vertical divisors with the required properties .    500    [ separating divisor for an edge of connected type ] [ def : assymetric : divisor ] let @xmath607 be of connected type .",
    "let @xmath147 be a good model of @xmath0 .",
    "a fundamental divisor @xmath1306 is called a _ separating divisor for @xmath61 _ if it equals @xmath1292 or @xmath1293 as in lemma  [ lemma : asdivisor ] .    [ separating section for an edge of connected type ] [ def : asymmetric : section : along :",
    "e ] let @xmath607 be of connected type .",
    "let @xmath1192 be a model of @xmath557 with @xmath147 good .",
    "let @xmath71 be a nonzero global section of @xmath161 .",
    "we call @xmath71 a _ separating section for @xmath61 _ if there exists a separating divisor @xmath1306 for @xmath61 such that @xmath1307 is effective and is trivial on some neighborhood of @xmath1308 .",
    "let @xmath708 and @xmath1309 be the @xmath30-simplices that arise by dividing @xmath61 at the middle point .",
    "remark that there exists a unique separating divisor @xmath1306 with @xmath1310 . in this case , @xmath1311 .",
    "the following lemma shows that if @xmath61 is an edge of connected type , then an @xmath61-base section ( cf .",
    "definition  [ def : edge - base : section ] ) and a separating section for @xmath61 will be useful to separate points in @xmath1312 .",
    "[ lemma : asymmetric : section : separate : new ] let @xmath592 be of connected type .",
    "let @xmath1313 be an @xmath61-base section and let @xmath1314 be a separating section for @xmath61 .",
    "we set @xmath1315 and @xmath1316 , and we set @xmath1317 , which is a nonzero rational function on @xmath0 .",
    "let @xmath1318 and @xmath1319 be the two @xmath30-simplices that arise by subdividing @xmath61 at the middle point .",
    "then , for any @xmath1320 and @xmath1321 , we have @xmath1322 .    _",
    "proof._since @xmath1314 is a separating section for @xmath61 , there exists a separating divisor @xmath1306 for @xmath61 as in definition  [ def : asymmetric : section : along : e ] .",
    "note that @xmath1323 equals @xmath1318 or @xmath1319 . without loss of generality , we assume that @xmath1324 .",
    "we set @xmath1325 .",
    "this is a rational function and is regular over some neighborhood of @xmath1121 .",
    "furthermore , @xmath1326 is effective over that neighborhood .",
    "set @xmath1327 .",
    "remark that @xmath542 is the restriction of @xmath8 to the generic fiber . then by lemma  [ lem : forinjectivity ]  ( 1 )",
    ", we have @xmath1328 for @xmath1329 . by lemma  [ lem : forinjectivity ]  ( 2 )",
    ", it follows that @xmath1328 for @xmath1330 . on the other hand ,",
    "since @xmath1314 does not vanish at any @xmath1331 , lemma  [ lem : forinjectivity ] gives us @xmath1332 for @xmath1333 .",
    "this proves the lemma .",
    "500    therefore , for any edge @xmath61 of connected type , we want to construct a model of @xmath557 that has an @xmath61-base section and a separating section for @xmath61 .",
    "in fact , we prove the following .    [ prop : model : as ] suppose that @xmath1334 .",
    "then for any @xmath607 of connected type , there exists a model @xmath45 of @xmath557 with @xmath40 good such that there exist an @xmath61-base section and a separating section for @xmath61 of @xmath161 .    _",
    "proof._fix an @xmath607 of connected type .",
    "let @xmath1287 be the middle point of @xmath61 .",
    "applying proposition  [ prop : pregoodmodel ] for @xmath1335 , we obtain a model @xmath556 of @xmath557 with the following properties , where @xmath879 :    1 .",
    "@xmath147 is a good model of @xmath0 in definition  [ def : goodmodel : new ] , 2 .",
    "@xmath952 is vertically nef , @xmath1336 , and @xmath1337 ; see ( [ eqn : def : dm ] ) for @xmath1338 .",
    "remark that @xmath1339 .",
    "we prove that there exists an @xmath61-base section of @xmath161 .",
    "take any @xmath1119 and put @xmath1340 .",
    "since @xmath135 is of connected type , @xmath1341 is connected . by condition ( ii ) above , @xmath1342 is effective and has positive degree . by lemma  [ lemma :",
    "freeatnode : graphversion : emptyset ] , it follows that @xmath161 is free at @xmath135 , which shows the existence of an @xmath61-base section .",
    "it remains to show that @xmath161 has a separating section for @xmath61 .",
    "let @xmath708 and @xmath1309 be the @xmath30-simplices arising by dividing @xmath61 at @xmath1287 . since @xmath147 is a good model , lemma  [ lemma : asdivisor ] gives a separating divisor @xmath1306 on @xmath147 for @xmath61 with @xmath1343 .",
    "remark that @xmath1344 .    set @xmath1345 .",
    "we show that @xmath1346 is free at any @xmath1172 by using lemma  [ lemma : freeatnode : graphversion : emptyset ] ane lemma  [ lemma : freeatnode : graphversion : nonemptyset ] .",
    "take any @xmath1172 and set @xmath1347 .",
    "since @xmath497 is of connected type , @xmath1341 is connected .",
    "set @xmath1348 . to calculate @xmath1349 ,",
    "let @xmath117 be the maximal @xmath143-chain with @xmath609 ( cf .",
    "lemma  [ lemma : make : clear ] ) ; let @xmath1350 be the irreducible components of @xmath117 , where the numbering is given in such a way that @xmath1351 for @xmath1352 and @xmath1353 ; let @xmath1354 be the irreducible component of @xmath137 with @xmath1355 , and put @xmath1356 $ ] ; further , put @xmath1357 $ ] for @xmath1358 . then @xmath1359 ) - [ v_0 ] + [ w_{\\ell + 1 } ] +   [ w_{2 \\ell - 1}],\\ ] ] and @xmath1360 is effective , where we remark that @xmath1361 is the middle point of @xmath61 .",
    "if @xmath1362 , then @xmath1349 is effective and has positive degree , and hence @xmath1346 is free at @xmath497 by lemma  [ lemma : freeatnode : graphversion : emptyset ] .    we suppose that @xmath1363",
    ". then @xmath1364 , and @xmath1365 for any @xmath124 .",
    "thus @xmath1366 .",
    "let @xmath1367 be the connected component of @xmath1368 such that @xmath1369 .",
    "then @xmath1370 ) \\geq 1 $ ] .",
    "since @xmath1371 and @xmath1372 , it follows that @xmath1373 . since @xmath1374 and @xmath1375",
    ", this means that @xmath1376 .",
    "it follows that there exists a connected component @xmath1377 of @xmath1368 such that @xmath1378 and @xmath1379 .",
    "since the valence of @xmath1380 at @xmath639 is at least @xmath1381 , lemma  [ lemma : freeatnode : graphversion : nonemptyset ] , therefore , concludes that @xmath1346 is free at @xmath497 .",
    "since @xmath1346 is free at @xmath497 , there exists a global section @xmath1382 of @xmath1383 such that @xmath1384 for any @xmath1385 .",
    "let @xmath76 be the image of @xmath1386 by the natural homomorphism @xmath1387 .",
    "then it is straightforward to see that @xmath76 is a separating section for @xmath61 .    500      we keep the setting that @xmath1388 .",
    "let @xmath61 be an edge of @xmath5 , that is , @xmath415 .",
    "further , let @xmath542 be another edge of @xmath5 .",
    "we want to separate a point in @xmath1312 and a point in @xmath542 .    note that if @xmath61 is of disconnected type , we have actually done this separation .",
    "indeed , let @xmath23 be the tropicalization map as in theorem  [ theorem : ut : canonical ] .",
    "if @xmath61 is of disconnected type , then @xmath542 is contained in a connected component of @xmath1389 . by condition ( iii ) in theorem  [",
    "theorem : ut : canonical ] , we obtain @xmath1390 , and thus @xmath1391 separates a point in @xmath1312 and a point in @xmath542 .    therefore , we consider the case where @xmath61 is of connected type . in this subsection ,",
    "let @xmath1392 .",
    "further , assume that @xmath61 is of connected type and that @xmath1393 .",
    "let @xmath147 be a good model of @xmath0 and let @xmath117 be the maximal @xmath143-chain corresponding to @xmath61 ( cf .",
    "lemma  [ lemma : make : clear ] ) .",
    "then since @xmath117 has symmetric multiplicities , there exists a unique fundamental vertical divisor @xmath1394 with support @xmath117 ( cf .",
    "  [ subsec : fvd ] ) .",
    "[ edges - separating sections ] let @xmath163 be a model of @xmath557 such that @xmath147 is a good model .",
    "a nonzero global section @xmath71 of @xmath161 is called an _ @xmath1395-separating section _ if @xmath1396 is effective and is trivial at any @xmath1397 .",
    "the following lemma shows the merit of edges - separating sections .",
    "[ lemma : es : separate : edges ] let @xmath163 be a model of @xmath557 with @xmath147 good .",
    "let @xmath1134 be an @xmath61-base section and let @xmath1223 be an @xmath1395-separating section of @xmath161 .",
    "set @xmath1398 , which is a nonzero rational function on @xmath0 .",
    "further , set @xmath1227 .",
    "then for any @xmath1288 and any @xmath1289 , we have @xmath1328 and @xmath1399 , and in particular , @xmath1257 .    _",
    "proof._this lemma is shown by the same argument as the proof of lemma  [ lemma : asymmetric : section : separate : new ] .",
    "500    in this subsection , we aim to take an @xmath61-base section and an @xmath1395-separating section for a suitable model of @xmath557 .",
    "our goal is the following proposition .",
    "[ prop : model : es ] assume that @xmath1400 .",
    "let @xmath61 and @xmath542 be distinct edges of @xmath54 with @xmath61 of connected type .",
    "then there exists a model @xmath556 of @xmath557 with @xmath147 good such that @xmath161 has an @xmath61-base section and an @xmath1401-separating section .    to show proposition  [ prop : model : es ] , we use the following proposition .",
    "[ prop : sep : edges ] let @xmath61 and @xmath542 be as above .",
    "then there exists a model @xmath1192 of @xmath557 with the following properties .    1 .",
    "the model @xmath147 is a good model .",
    "2 .   for any @xmath1402",
    ", @xmath161 is free at @xmath135 .",
    "3 .   let @xmath1403 be the stepwise vertical divisor for @xmath61 .",
    "set @xmath1404 .",
    "then for any @xmath1405 , @xmath1346 is free at @xmath497 .",
    "indeed , proposition  [ prop : model : es ] is deduced from proposition  [ prop : sep : edges ] as follows .",
    "take a model @xmath556 as in proposition  [ prop : sep : edges ] .",
    "then since @xmath161 is free at any @xmath1406 , there exists a global section @xmath1134 of @xmath161 such that @xmath1407 for any such @xmath135 .",
    "thus we have an @xmath61-base section .",
    "since @xmath1408 is free at any @xmath1409 , there exists a global section @xmath1223 of @xmath1346 such that @xmath1410 for any such @xmath497 .",
    "let @xmath71 be the image of @xmath1223 by the canonical injection @xmath1411 .",
    "then it is obvious that @xmath1412 is effective and is trivial at any @xmath1409 .",
    "since @xmath1413 is effective and is trivial at any @xmath1414 , it follows that @xmath1415 is effective and is trivial at any @xmath1414 .",
    "thus @xmath71 is an @xmath1401-separating section , and proposition  [ prop : model : es ] is deduced .",
    "now , the goal is to show proposition  [ prop : sep : edges ] .",
    "we will prove it according to the position of @xmath61 and @xmath542 in @xmath5 .",
    "the construction of a model will be done separately according to the following two cases :    1 .",
    "@xmath542 is of disconnected type , or @xmath542 is of connected type and @xmath1416 is connected ; 2 .",
    "@xmath542 is of connected type and @xmath1416 is not connected .    for case ( a )",
    ", we may take the same kind of models obtained by proposition  [ prop : pregoodmodel ] as before , but for case ( b ) , we need to construct another kind of model",
    ". the construction will be done below .",
    "[ remark:(ii)isautomatic ] this is a remark for condition ( ii ) in proposition  [ prop : sep : edges ] . with the notation in this proposition , set @xmath879 .",
    "suppose that @xmath1338 ( see ( [ eqn : def : dm ] ) for the definition ) is effective and has positive degree .",
    "then for any @xmath1402 , @xmath161 is free at @xmath135 ; indeed , since @xmath61 is of connected type , @xmath1417 is connected , and hence the conclusion follows from lemma  [ lemma : freeatnode : graphversion : emptyset ] . therefore ,",
    "as far as @xmath952 is nef and has positive degree , condition ( ii ) always holds .      to take case of case  ( b ) in the proof of proposition  [ prop : sep : edges ] , we construct a suitable model . remark that under the situation of ( b ) , @xmath61 nor @xmath542 is a loop .",
    "further , remark that @xmath1416 has exactly two connected components , because @xmath61 and @xmath542 are of connected type .",
    "recall that @xmath0 is a smooth projective curve over @xmath4 of genus @xmath1 and @xmath2 is a line bundle over @xmath0 .    [",
    "prop : separation : special2 ] assume that we are under the situation of case  ( b ) , that is , @xmath61 and @xmath542 are edges of connected type such that @xmath1418 is not connected , where @xmath1388 .",
    "let @xmath955 and @xmath1222 be the connected components of @xmath1418 .",
    "suppose that @xmath875 .",
    "then there exists a model @xmath163 of @xmath557 such that @xmath147 is good and @xmath1419 for @xmath1420 , where @xmath879 .    to construct a model as in proposition  [ prop : separation : special2 ] , we will apply proposition  [ prop : pregoodmodel : pre ] together with the following lemma .",
    "[ lemma : separation : special1 ] we keep the notation of proposition  [ prop : separation : special2 ] .",
    "let @xmath646 be a divisor with @xmath1421 .",
    "then there exists an effective divisor @xmath1422 such that @xmath1423 and @xmath1424 for @xmath1425 .    _",
    "proof._first , we assume that @xmath1426 .",
    "let @xmath854 and @xmath1427 be the end vertices of @xmath542 . then using proposition  [ prop : riformg ]",
    ", we obtain an effective divisor @xmath117 such that @xmath1428 + [ w_2 ] \\sim d$ ] .",
    "thus we are done .    in the remaining of the proof , we assume that @xmath1429 .",
    "since we have @xmath1430 by the assumption of the lemma and since @xmath1431 , it follows that @xmath1432 .",
    "in particular , @xmath759 .",
    "note that @xmath1433 for any @xmath1434 . to see that by contradiction , assume that @xmath1435 for some @xmath18 .",
    "if @xmath1436 is a singleton or a chain , then the valence of @xmath5 at @xmath1437 ( and at @xmath811 ) should be @xmath29 , but that is impossible by remark  [ remark : valence : stable ] .",
    "thus @xmath682 is a tree with at least three vertices at which @xmath682 has valence @xmath30 .",
    "take a valence @xmath30 point @xmath1204 of @xmath682 with @xmath1438 and @xmath1439 .",
    "then @xmath1204 is a point at which @xmath5 also has valence @xmath30 .",
    "however , that is impossible by remark  [ remark : valence : stable ] .",
    "thus @xmath1433 .",
    "let @xmath1440 be the middle point of @xmath542 . by proposition",
    "[ prop : reduced : lambda - div ] , we take the @xmath1440-reduced divisor @xmath1441 with @xmath1442 . since @xmath1443 , @xmath1444 is effective and @xmath1445 ( cf .",
    "remark  [ rmk : on : reduced : divisors ] ) .",
    "[ claim.reduced:divisor:new3 ] if @xmath1446 for some @xmath1434 , then @xmath1447 .    _",
    "proof._by symmetry on @xmath1042 , we may and do assume that @xmath1448 .",
    "let @xmath1449 be the topological space obtained from @xmath5 by contracting @xmath1222 to a singleton , and let @xmath1450 be the natural surjective map .",
    "remark that @xmath1451 . via @xmath1452",
    ", we endow @xmath1449 with a @xmath56-metric graph structure . remark that @xmath1453 is an isometry from @xmath1454 to @xmath1455 .",
    "let @xmath1456 be the pushout of @xmath1444 by @xmath1452 ; in this situation , since @xmath1448 , it is the divisor supported on @xmath1457 that coincides with @xmath1458 via the isometry @xmath1453 .",
    "we prove that @xmath1459 is an @xmath1460-reduced divisor .",
    "to argue it by contradiction , suppose that @xmath1459 is not an @xmath1460-reduced divisor .",
    "then there exists a connected compact subset @xmath631 of @xmath1461 such that any point in @xmath1462 is saturated for @xmath1463 .",
    "the set @xmath1464 is a connected compact subset of @xmath1465 . since @xmath1466 , @xmath1467 .",
    "it follows that @xmath1452 is a homeomorphism over @xmath1462 , and hence @xmath1468 .",
    "since @xmath1452 is a homeomorphism over @xmath1462 and over @xmath1469 , it follows that any point in @xmath1470 is saturated for @xmath1444 .",
    "however , that contradicts that this is @xmath1440-reduced .",
    "this shows that @xmath1471 is @xmath1460-reduced .    since @xmath1472 , @xmath1473 , and hence @xmath1474 . by remark  [ rmk : on : reduced : divisors ] , it follows that @xmath1475 .",
    "thus @xmath1447 , as required .",
    "500    let us prove the lemma . since @xmath1476 , if @xmath1477 for @xmath1434 , then we are done .",
    "suppose that @xmath1478 for some @xmath1434 .",
    "then by claim  [ claim.reduced:divisor:new3 ] , @xmath1447 . set @xmath1479 $ ] , which is thus effective . since @xmath1440 is the middle point of @xmath542 , @xmath1480 \\sim [ w_1 ] + [ w_2]$ ] , and hence @xmath1481 + [ w_2]$ ] .",
    "we have @xmath1482 + [ w_2 ] ) \\cap \\gamma_1 \\neq \\emptyset$ ] for any @xmath1042 , this shows the lemma .    500    _ proof of proposition  [ prop : separation : special2 ] .",
    "_ take a divisor @xmath780 on @xmath0 such that @xmath1483 .",
    "let @xmath770 be the retraction map .",
    "then @xmath1484 , and hence by lemma  [ lemma : separation : special1 ] , there exists an @xmath1485 such that @xmath1486 and @xmath1487 . by proposition  [ prop : pregoodmodel : pre ] , there exist a good model @xmath147 of @xmath0 and a line bundle @xmath952 over @xmath147 such that @xmath1488 .",
    "set @xmath891 . then by construction , @xmath163 is a model that has the required properties in proposition  [ prop : separation : special2 ] .",
    "500      we fix the following notation .",
    "let @xmath639 and @xmath1489 denote the end vertices of @xmath61 ; remark that @xmath1490 when @xmath61 is a loop .",
    "let @xmath1287 be the middle point of @xmath61 ; when @xmath61 is a loop , @xmath1287 is the point antipodal to @xmath639 .",
    "fix an arbitrary @xmath1405 .",
    "set @xmath1491 .",
    "note that @xmath1341 is connected if and only if @xmath542 is of connected type . if @xmath1341 is not connected , it has exactly two connected components , each of which contains some island of the canonical weighted skeleton @xmath1492 .",
    "our argument goes according to the cases ( a ) or ( b ) above .",
    "* case ( a ) .",
    "* applying proposition  [ prop : pregoodmodel ] , we obtain a model @xmath1192 with the following properties , where @xmath1493 :    1 .",
    "@xmath147 is a good model ; 2 .   @xmath1494 $ ] is effective ; 3 .",
    "@xmath1494 $ ] has positive degree over any connected component of @xmath1495 .    since @xmath1338 is effective and has positive degree , @xmath161 is free at any @xmath1402 ( cf .",
    "remark  [ remark:(ii)isautomatic ] ) .",
    "thus it remains to show that @xmath1496 is free at @xmath497 .",
    ". then @xmath1498 ) - [ v_0 ' ] + 2 [ v_1 ] .\\ ] ] remark that @xmath1349 is effective over @xmath1499 .",
    "suppose that @xmath1500 . then @xmath1349 is effective , and by condition ( iii ) above , @xmath1349 has positive degree on any connected component of @xmath1501 .",
    "thus lemma  [ lemma : freeatnode : graphversion : emptyset ] concludes that @xmath1346 is free at @xmath497 .",
    "suppose that @xmath1502 . to show that @xmath1346 is free at @xmath497",
    ", we are going to use lemma  [ lemma : freeatnode : graphversion : nonemptyset ] .",
    "since @xmath1494 $ ] is effective , we then have @xmath1503 and @xmath1504 for any other @xmath124 .",
    "if @xmath1505 is a connected component of @xmath1341 with @xmath1506 , then @xmath1507 has positive degree by condition ( iii ) above .",
    "let @xmath1508 be the connected component of @xmath1341 with @xmath1509 .",
    "since @xmath639 and @xmath1489 are the end vertices of @xmath61 ( possibly @xmath1490 ) , @xmath1510 .",
    "further , let @xmath1511 be the connected component of @xmath1512 containing @xmath1513 . since @xmath1514",
    ", we have @xmath1515 .    under the setting of ( a ) , the valence of @xmath1516 at @xmath1489 is at least @xmath29 .    _ proof._first ,",
    "suppose that @xmath542 is of disconnected type .",
    "then , since @xmath61 is of connected type , @xmath1517 is connected .",
    "since @xmath1518 is the connected component of @xmath1519 containing @xmath1312 , it follows that the valence of @xmath1516 at @xmath1489 can not be @xmath30 , and thus it is at least @xmath29 .",
    "next , suppose that @xmath542 is of connected type . by assumption",
    ", @xmath1520 is connected .",
    "it follows that the valence of @xmath1516 at @xmath1489 can not be @xmath30 , and hence it is at least @xmath29 .",
    "500    by this claim , lemma  [ lemma : freeatnode : graphversion : nonemptyset ] concludes that @xmath1346 is free at @xmath497 in this case",
    ".    * case ( b ) . * in this case , since @xmath61 is not a loop , @xmath1521 . by the assumption",
    ", @xmath1522 is not connected .",
    "let @xmath1523 and @xmath1508 be the connected components of @xmath1524 with @xmath1525 and @xmath1509 , respectively .",
    "remark that one of the connected components of @xmath1526 is contained in @xmath1523 , and the other is contained in @xmath1508 . by proposition  [ prop : separation : special2 ] , there exists a model @xmath1192 of @xmath557 with the following properties , where we put @xmath1527 :    1 .",
    "@xmath147 is a good model ; 2 .",
    "@xmath1338 is effective , and @xmath1528 and @xmath1529 have positive degree .    since @xmath1338 is effective and has positive degree , it remains to show that @xmath1346 is free at @xmath497 ( cf .",
    "remark  [ remark:(ii)isautomatic ] ) . set @xmath1530 .",
    "then @xmath1531 - [ v_0 ' ] + 2 [ v_1]$ ] .",
    "remark that @xmath1532 if @xmath1533 , then @xmath1342 is effective and has positive degree , and hence lemma  [ lemma : freeatnode : graphversion : emptyset ] concludes that @xmath1346 is free at @xmath497 .",
    "we suppose that @xmath1534 .",
    "first , suppose moreover that @xmath1535 or @xmath1536 . by symmetry , we may and do assume that @xmath1535",
    ". then @xmath1503 .",
    "further , @xmath1537 has two connected components @xmath1538 and @xmath1539 .",
    "we have @xmath1540 .",
    "we now prove that @xmath1541 . by the choice of the model @xmath163 , @xmath1542 .",
    "since @xmath1503 , we have @xmath1543 .",
    "it follows that @xmath1544 .",
    "since @xmath1349 coincides with @xmath1338 on @xmath1511 , we indeed have @xmath1541 .",
    "furthermore , since @xmath1341 is connected and since @xmath1367 and @xmath1511 are the distinct connected components of @xmath1545 , the valence of @xmath1546 at @xmath1489 is at least @xmath29 . by lemma  [ lemma : freeatnode : graphversion : nonemptyset ] , this concludes that @xmath1346 is free at @xmath497 .",
    "finally , we consider the case where @xmath1547 . in this case , @xmath1548 has three connected components @xmath1549 , @xmath1512 , and @xmath1513 . since @xmath1550",
    ", we have @xmath1551 . since @xmath1552 and @xmath1553",
    ", it follows that @xmath1554 and @xmath1555 .",
    "thus @xmath1556 and @xmath1557 .",
    "we also have @xmath1558 .",
    "furthermore , we have @xmath1559 and the valences at @xmath639 and @xmath1489 of @xmath1341 are at least @xmath29 .",
    "thus by lemma  [ lemma : freeatnode : graphversion : nonemptyset ] , @xmath1346 is free at @xmath497 .",
    "this completes the proof of proposition  [ prop : sep : edges ] .",
    "500      we keep the setting that @xmath1283 is the canonical skeleton of @xmath0 . in this subsection , we construct a model which has global sections that separate vertices .",
    "we begin with the definitions of global sections of models which will be used to separate vertices .",
    "let @xmath1560 be vertices , and let @xmath1049 and @xmath1050 be the irreducible components of @xmath137 with @xmath1561 = v_1 $ ] and @xmath1562 = v_2 $ ] .",
    "let @xmath556 be a deligne ",
    "mumford semistable model of @xmath557 .    1 .",
    "we call @xmath1563 a _ @xmath1287-base section _ if @xmath1118 for some @xmath1564 .",
    "suppose that @xmath1565 .",
    "we call @xmath1566 a _ @xmath1567-separating section _ if @xmath1568 and @xmath1569 as a global section of @xmath1570 and one of @xmath1571 , respectively .",
    "the following lemma shows a merit of a vertex - base section and a vertices - separating section in separating vertices of @xmath5 .",
    "[ lemma : vertices - separating ] let @xmath1560 be distinct vertices .",
    "let @xmath556 be a deligne ",
    "mumford semistable model of @xmath557 .",
    "let @xmath1134 be a @xmath1287-base section and let @xmath1223 be a @xmath1567-separating section .",
    "set @xmath1572 and @xmath1573 .",
    "then @xmath1574 and @xmath1575 , and in particular , @xmath1576 .    _",
    "proof._let @xmath1049 and @xmath1050 be the irreducible components of @xmath137 corresponding to @xmath1287 and @xmath1577 , respectively",
    ". then @xmath1578 and @xmath1579 .",
    "thus the lemma follows .",
    "500    the goal of this subsection is the following proposition .    [ prop : existence : sep : sections ] let @xmath1560 be distinct vertices .",
    "assume that @xmath875 .",
    "then there exists a deligne ",
    "mumford semistable model @xmath556 of @xmath557 such that @xmath161 has a @xmath1287-base section and a @xmath1567-separating section or such that @xmath161 has a @xmath1577-base section and a @xmath1580-separating section .",
    "[ remark : already : done : vs ] suppose that @xmath1287 and @xmath1577 belong to different islands of the canonical weighted skeleton @xmath761 .",
    "let @xmath23 be the tropicalization as in theorem  [ theorem : ut : canonical ] . then by condition ( iii ) in this theorem",
    ", we have @xmath1581 .",
    "therefore , for our purpose to construct a faithful tropicalization , we do not have to take care of such @xmath1287 and @xmath1577 .",
    "in fact , in the proof of theorem  [ theorem : ut : canonical ] , we have already shown proposition  [ prop : existence : sep : sections ] for such @xmath1287 and @xmath1577 .",
    "therefore , we only have to prove this proposition in the case where @xmath1287 and @xmath1577 belong to the same island .",
    "we prove some technical lemmas , which are similar to lemmas  [ lemma : freeatnode : graphversion : nonemptyset ] and [ lemma : freeatnode : graphversion : emptyset ] , respectively . in these lemmas",
    ", we do not need to assume that @xmath1 or @xmath1283 .",
    "[ lemma : freeatregular : graphversion : effective ] let @xmath0 be a smooth projective curve over @xmath4 and let @xmath2 be a line bundle over @xmath0 .",
    "let @xmath45 be a model with @xmath40 strictly semistable and let @xmath5 be the associated skeleton ( not necessarily @xmath1283 ) .",
    "set @xmath937 and @xmath1582 $ ] .",
    "let @xmath1049 be an irreducible component of @xmath137 and set @xmath1583 \\in v ( \\mathscr{x } ) $ ] .",
    "suppose that @xmath1584 $ ] is effective and has positive degree .",
    "then @xmath161 is free at any @xmath1585 .    _",
    "proof._take any @xmath1586 .",
    "it suffices to show that @xmath161 is free at @xmath135 . since @xmath1584 $ ] is effective and has positive degree , @xmath1587 is nef and has positive degree . by lemma  [ lemma : vanishing0 ]",
    ", it follows that @xmath1588 , and hence @xmath1589 as well . by lemma  [ lemma : nonbasepoint ]",
    "( 1 ) , @xmath946 is free at @xmath135 . since @xmath1590 by the serre duality ,",
    "@xmath1591 is surjective by the base - change theorem .",
    "since @xmath946 is free at @xmath135 , this concludes that @xmath161 is free at @xmath135 .",
    "500    [ lemma : freeatregular : graphversion ] let @xmath0 , @xmath2 , @xmath163 , @xmath5 , @xmath952 , @xmath1338 , @xmath1049 , and @xmath1287 be as in lemma  [ lemma : freeatregular : graphversion : effective ] .",
    "suppose that @xmath1338 is effective and that @xmath1592 .",
    "further , suppose that there exist connected components @xmath955 and @xmath1222 of @xmath1593 ( possibly @xmath1594 ) such that :    1 .",
    "@xmath1595 for any @xmath1596 ; 2 .",
    "the valence of @xmath1597 at @xmath1287 is at least @xmath29 .",
    "then @xmath161 is free at any @xmath1585 .    _",
    "proof._take any @xmath1598 .",
    "it suffices to show that @xmath161 is free at @xmath135 . set @xmath1599",
    "\\in \\gamma_j } c$ ] for @xmath1269 .",
    "then each @xmath1600 ( @xmath1269 ) is a connected component of @xmath1601 .",
    "set @xmath1602 .",
    "[ claim : in : lemma : freeatregular : graphversion ] we have @xmath1603 .",
    "_ proof._by condition ( i ) of the lemma , @xmath1604 is nef and has positive degree for @xmath1605 . by lemma  [ lemma : vanishing0 ] , it follows that @xmath1606 for @xmath1607",
    ". set @xmath1608 further , set @xmath1609 , which is a cartier divisor on @xmath1049 .",
    "then by condition ( ii ) and @xmath1610 , @xmath1611 , and hence by lemma  [ lemma : vanishing0 ] , @xmath1612 . by lemma  [ lemma :",
    "vanishing7 ] , it follows that @xmath1613 . since @xmath1338 is effective , @xmath1614 is nef , and hence lemma  [ lemma : vanishing7 ] gives us @xmath1603 .",
    "500    by the above claim and lemma  [ lemma : nonbasepoint ]  ( 1 ) , @xmath946 is free at @xmath135 .",
    "furthermore , it follows from the claim that @xmath1615 , and hence @xmath949 by the serre duality . by the base - change theorem",
    ", it follows that the natural map @xmath1616 is surjective .",
    "since @xmath946 is free at @xmath135 , this concludes that @xmath161 is free at @xmath135 .",
    "500      the following lemma gives us a sufficient condition for a model to have a vertices - separated section .",
    "[ lemma : exist : vert : sep : sections ] let @xmath1560 with @xmath1565 .",
    "let @xmath556 be a strictly semistable model of @xmath557 .",
    "assume that there exists a @xmath1617 such that @xmath1287 and @xmath1618 belong to the same connected component of @xmath1619 and such that @xmath1620 - [ v_1']$ ] is effective .",
    "then there exists a @xmath1580-separating section of @xmath161 .    _",
    "proof._let @xmath1049 , @xmath1050 , and @xmath1238 be the irreducible components of @xmath137 such that @xmath1561 = v_1 $ ] , @xmath1562 = v_2 $ ] , and @xmath1621 = v_1'$ ] . by the assumption of the lemma ,",
    "let @xmath955 be the connected component of @xmath1619 such that @xmath1622 .",
    "since @xmath1620 - [ v_1']$ ] , we remark that @xmath1623 . set @xmath1624",
    "\\in \\gamma_1 } c $ ] .",
    "fix a point @xmath1625 . set @xmath1626 , which is a nontrivial effective cartier divisor on @xmath1050 .",
    "first , we show that @xmath1627 is free at @xmath274 . since @xmath1628 is nef and since @xmath1629 and @xmath1630",
    ", it follows that @xmath1631 is nef and has positive degree .",
    "since @xmath979 is connected , lemma  [ lemma : vanishing0 ] gives us @xmath1632 .",
    "we have @xmath1633 by the adjunction formula . by the serre duality",
    ", it follows that @xmath1634 . by lemma  [ lemma : nonbasepoint ] , @xmath1635 is free at @xmath274 .",
    "it follows that there exists a global section @xmath234 of @xmath1636 such that @xmath1637 .",
    "note that @xmath1638 . extending @xmath234 to be zero outside of @xmath979",
    ", we obtain a global section @xmath1639 of @xmath1640 such that @xmath1641 as a global section of @xmath1642 .",
    "since @xmath1643 , we have @xmath1644 .    since @xmath1645 is nef and has positive degree , @xmath1646 , and thus @xmath1647 by the serre duality .",
    "by the base - change theorem , the natural map @xmath1648 is surjective .",
    "it follows that there exists a global section @xmath1649 such that @xmath1650 .",
    "it is clear that @xmath1223 is a @xmath1580-separating section of @xmath161 .",
    "500    _ proof of proposition  [ prop : existence : sep : sections ] .",
    "_ we may and do assume that @xmath5 is not a singleton .",
    "as noted in remark  [ remark : already : done : vs ] , we only consider the case where @xmath1287 and @xmath1577 belong to the same island , which we assume in the following .    * case 1 . *",
    "suppose that @xmath1619 is connected . by proposition  [ prop : pregoodmodel ]",
    ", there exists a model @xmath1192 of @xmath557 with the following properties , where @xmath879 :    1 .",
    "@xmath147 is a good model ; 2 .   @xmath1651 $ ] is effective .",
    "suppose that @xmath1652 .",
    "then applying lemma  [ lemma : exist : vert : sep : sections ] in place of @xmath1653 with @xmath1654 , respectively , we see that @xmath161 has a @xmath1567-separating section .",
    "further , since @xmath1651 $ ] is effective , lemma  [ lemma : freeatregular : graphversion : effective ] shows that @xmath161 is free at any point of @xmath1655 .",
    "thus @xmath161 has a @xmath1287-base section , which proves the proposition .    in the following ,",
    "therefore , we assume that @xmath1656 .",
    "then , since @xmath1657 ) \\geq g \\geq 2 $ ] , we have @xmath1658)}\\right\\vert_{{\\gamma \\setminus \\ { v_2 \\ } } } } \\right ) \\geq 1 $ ] .",
    "it follows that there exists a @xmath1659 such that @xmath1651 - [ v_1']$ ] is effective . by lemma  [ lemma :",
    "exist : vert : sep : sections ] , @xmath161 has a @xmath1580-separating section .",
    "let us prove the existence of @xmath1577-base section .",
    "we have now @xmath1660 ) ( v_2 ) \\leq 0 $ ] . if @xmath1661 ) ( v_2 ) = 0 $ ] , then @xmath1662 $ ] is effective as well as has positive degree , and hence lemma  [ lemma : freeatregular : graphversion : effective ] shows that @xmath161 is free at any @xmath1663 .",
    "this implies that @xmath161 has @xmath1577-base section .",
    "we suppose that @xmath1661 ) ( v_2 ) = -1 $ ] .",
    "then @xmath1664 . since @xmath1565 and @xmath1287 belongs to the same island as @xmath1577",
    ", @xmath1665 is not an island of @xmath1492 , and hence the valence of @xmath5 at @xmath1577 is at least @xmath29 .",
    "further , @xmath1619 is connected by the assumption of case  1 . by lemma  [ lemma :",
    "freeatregular : graphversion ] , it follows that @xmath161 is free at any point in @xmath1666 .",
    "thus there exists a @xmath1577-base section of @xmath161 .",
    "* case 2 . *",
    "suppose that @xmath1593 is connected .",
    "then by case  1 , there exists a model @xmath1192 such that @xmath161 has a @xmath1287-base section and a @xmath1567-separating section .",
    "* case 3 . *",
    "suppose that @xmath1593 and @xmath1619 are not connected .",
    "let @xmath1667 be the connected component of @xmath1668 to which @xmath1287 belongs .",
    "set @xmath1669 and @xmath1670 .",
    "remark that @xmath1671 and @xmath1672 .",
    "remark also that @xmath1673",
    ".    * subcase 3.1 . *",
    "suppose that @xmath5 has a bridge @xmath61 . since @xmath1312 is contained in one of the connected component of @xmath1674 , one of the following holds :    1 .",
    "@xmath1287 and @xmath1312 are contained in the same connected component of @xmath1619 ; 2 .",
    "@xmath1577 and @xmath1312 are contained in the same connected component of @xmath1593    by symmetry , we may and do assume that ( i ) holds without loss of generality",
    ". then we remark that @xmath1675 .    by proposition  [ prop : pregoodmodel ]",
    ", there exists a strictly semistable model @xmath1192 of @xmath557 with the following properties , where @xmath879 :    1 .",
    "@xmath1651 $ ] is effective ; 2 .",
    "@xmath1676 \\right)}\\right\\vert_{{\\gamma ' } } } \\right ) \\geq 1 $ ] for any island @xmath1449 of @xmath5 .",
    "since @xmath1675 , there exists an island @xmath1518 of @xmath5 such that @xmath1677 . by conditions ( i ) and ( ii ) above , it follows that there exists a @xmath1678 such that @xmath1651 - [ v_1']$ ] is effective .",
    "since @xmath1287 and @xmath1618 belong to the same connected component of @xmath1619 , lemma  [ lemma : exist : vert : sep : sections ] concludes that @xmath161 has a @xmath1580-separating section .    in the rest of this subcase",
    ", we construct a @xmath1577-base section of @xmath161 .",
    "suppose that @xmath1679 .",
    "then @xmath1680 $ ] is effective and has positive degree . using lemma  [ lemma : freeatregular : graphversion : effective ] , as in the last paragraph of case  1",
    ", we see that @xmath161 has a @xmath1577-base section of @xmath161 .",
    "suppose that @xmath1681 .",
    "then @xmath1682 , and hence @xmath1661 ) ( v_2 ) = - 1 $ ] .",
    "let @xmath1683 be the island of @xmath5 with @xmath1684 .",
    "since @xmath1682 , it follows from condition ( ii ) above that there exists a connected component @xmath1685 of @xmath1686 such that @xmath1687 .",
    "we claim that the valence of @xmath1688 at @xmath1577 is at least @xmath29 . to show that by contradiction , assume that the valence is @xmath30 .",
    "then there exists a unique edge @xmath1309 such that @xmath1689 and such that @xmath1577 is an end vertex of @xmath1309 .",
    "since the valence is @xmath30 , @xmath1309 is not a loop .",
    "since @xmath1685 is a connected component of @xmath1686 , the uniqueness of @xmath1309 implies that @xmath1690 is not connected .",
    "since @xmath1683 is an island of @xmath5 , it follows that @xmath1309 is a bridge of @xmath5 .",
    "however , since an island of @xmath666 never contains a bridge of @xmath666 by definition , that is a contradiction .",
    "now , we apply lemma  [ lemma : freeatregular : graphversion ] , and then it turns out that @xmath161 is free at any @xmath1691 .",
    "thus @xmath161 has a @xmath1577-base section .",
    "* subcase  3.2 .",
    "* we consider the case where @xmath666 does not have a bridge . in this case",
    ", we need one more lemma .",
    "[ lemma : goodmodel : vs ] let @xmath1287 , @xmath1577 , @xmath1667 , @xmath955 , and @xmath1222 be as in the beginning of case  3 .",
    "assume that @xmath666 does not have a bridge .",
    "then there exists a model @xmath163 of @xmath557 such that @xmath1651 $ ] is effective and and such that one of the following holds , where @xmath879 :    1 .",
    "there exists an @xmath1692 such that @xmath1693 - [ v_1 ' ] $ ] is effective ; 2 .",
    "@xmath1652 .    _",
    "proof._to prove the above lemma , we use the following claim .    [ claim : goodmodel : vs : divisorongraph ] we keep the setting of lemma  [ lemma : goodmodel : vs ] .",
    "let @xmath1422 with @xmath1694 .",
    "suppose that for any @xmath1695 , @xmath1696 is trivial .",
    "then there exists an @xmath1697 such that @xmath1698 .    _",
    "proof._*step 1 . *",
    "we prove that @xmath955 does not contain a bridge of @xmath5 .",
    "to argue by contradiction , assume that there exists a bridge @xmath61 of @xmath1492 such that @xmath1675 . recall that @xmath1699 , @xmath1700 , and @xmath1701",
    "then we can take an island @xmath1449 of @xmath666 such that @xmath1702 . by proposition  [ prop : good : eff : div ] , there exists an @xmath1695 such that @xmath1703 , which shows that @xmath1704 .",
    "however , this contradicts the assumption of the claim .",
    "* step 2 . *",
    "we prove @xmath1705 .",
    "to argue by contradiction , assume that @xmath1706 . recall that @xmath955 is not a singleton , @xmath1699 , and that @xmath1672 .",
    "since @xmath955 does not have a bridge by step  1 , it follows that @xmath955 can not be a tree .",
    "thus @xmath1707 .",
    "since @xmath955 does not have a bridge , we see that @xmath955 is a circle .",
    "it follows that @xmath1708 is connected , and hence @xmath1709 is connected .",
    "however , this contradicts to the assumption on @xmath1287 of case  3 .",
    ".    * step 3 . * since @xmath1694 , there exists an @xmath1695 by proposition  [ prop : riemann : inequality ] . by the assumption of the claim , @xmath1710 , and hence we regard @xmath1711 as a divisor on @xmath1222 . since @xmath1712 , step  2 gives us @xmath1713 .",
    "then since @xmath1714 ) \\geq g ( \\gamma_2)$ ] , proposition  [ prop : riformg ] shows that there exists an effective @xmath1715 such that @xmath1716 \\sim e'$ ] as divisors on @xmath1222 .",
    "regard @xmath1716 $ ] as a @xmath56-divisor on @xmath5 , which we denote by @xmath1717 .",
    "then , since @xmath1699 and @xmath1672 , we have @xmath1718 on @xmath5 as well , and @xmath1698 .",
    "this completes the proof of the claim .",
    "500    let us prove lemma  [ lemma : goodmodel : vs ] .",
    "take a divisor @xmath1719 such that @xmath1720 , and consider a linear system @xmath1721 on @xmath5 . by (",
    "* lemma  2.1 ) , this linear system does not depend on the choice of @xmath1722 . set @xmath1723 $ ]",
    ". then @xmath1694 . by proposition  [ prop : riemann :",
    "inequality ] , @xmath78 .",
    "we divide our argument into two cases . first",
    ", suppose that there exists an @xmath1695 such that @xmath1724 .",
    "then there exists a @xmath1725 such that @xmath1726 .",
    "we set @xmath1727 $ ] .",
    "remark that @xmath1728 . by proposition  [ prop : pregoodmodel : pre ]",
    ", there exists a good model @xmath147 and a line bundle @xmath952 over @xmath147 such that @xmath1488 .",
    ". then @xmath1651 = d - [ v_1 ] = e'$ ] , which is effective .",
    "further , the above construction immediately shows that @xmath556 is a model of @xmath1729 which satisfies condition ( i ) of lemma  [ lemma : goodmodel : vs ] .",
    "this completes the proof of the lemma in this case .",
    "next , suppose that there does not exist an @xmath1695 such that @xmath1724 .",
    "then by claim  [ claim : goodmodel : vs : divisorongraph ] , there exists an @xmath1697 such that @xmath1698 .",
    "set @xmath1730 $ ] . by the same way as in case  1 ,",
    "we construct a model @xmath163 such that @xmath1488 , where @xmath1731 .",
    "note that @xmath1651 = e''$ ] is effective .",
    "further , it is straightforward to see that this model satisfies ( ii ) of lemma  [ lemma : goodmodel : vs ] .",
    "thus we obtain the lemma .",
    "500    now , we return to the proof of proposition  [ prop : existence : sep : sections ] , subcase  3.2 .",
    "we take a model @xmath163 as in lemma  [ lemma : goodmodel : vs ] .",
    "suppose that this model satisfies ( i ) in lemma  [ lemma : goodmodel : vs ] .",
    "then by lemma  [ lemma : exist : vert : sep : sections ] , @xmath161 has a @xmath1580-separating section .",
    "further , by the same argument using lemma  [ lemma : freeatregular : graphversion ] as before , @xmath161 has a @xmath1577-base section .",
    "thus proposition  [ prop : existence : sep : sections ] holds in this case .",
    "suppose that @xmath163 satisfies ( ii ) in lemma  [ lemma : goodmodel : vs ] .",
    "then by lemma  [ lemma : exist : vert : sep : sections ] , @xmath161 has a @xmath1567-separating section .",
    "further , since @xmath1732 where @xmath1731 , the same argument using lemma  [ lemma : freeatregular : graphversion : effective ] as before shows that @xmath161 has a @xmath1287-base section .",
    "this completes the proof of proposition  [ prop : existence : sep : sections ] .",
    "500      we construct a faithful tropicalization of the canonical skeleton .",
    "[ theorem : ft : canonical ] let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath1 , and let @xmath2 be a line bundle on @xmath0 .",
    "suppose that @xmath875 .",
    "then there exist @xmath1733 such that the map @xmath473 defined by @xmath1734 gives a faithful tropicalization of @xmath54 .    _",
    "proof._*step 1 . * by theorem  [ theorem : ut : canonical ] , we take @xmath1735 such that the map @xmath1736 defined by @xmath1737 satisfies conditions ( i)(iii ) in that theorem for @xmath1738 . remark that @xmath1739 is unimodular , in particular .",
    "* step 2 . *",
    "we take care of the separation of points in the interior of an edge .",
    "we set @xmath1740 . for each @xmath1741 , proposition  [ prop : model : as ] gives us a model @xmath1742 of @xmath557 such that @xmath1743 has an @xmath703-base section @xmath1744 and a separating section @xmath1745 for @xmath703 .",
    "set @xmath1746 and @xmath1747 for @xmath1748 , and set @xmath1749 .",
    "define a map @xmath1750 by @xmath1751 .",
    "since @xmath1739 is unimodular , so is @xmath1752 ( cf .",
    "remark  [ remark : unimodular ] ) .",
    "let @xmath1753 be distinct points that belong to the interior of come common edge @xmath61 .",
    "if @xmath61 is of disconnected type , then @xmath1754 by condition ( i ) in theorem  [ theorem : ut : canonical ] , and hence @xmath1755 .",
    "suppose that @xmath61 is of connected type .",
    "we divide @xmath61 at the middle point and let @xmath708 and @xmath1309 be the @xmath30-simplices arising from this division .",
    "if @xmath1756 or @xmath1757 , then by condition ( ii ) in theorem  [ theorem : ut : canonical ] , we have @xmath1758 and hence @xmath1755 .",
    "if @xmath1759 and @xmath1760 , then by and lemma  [ lemma : asymmetric : section : separate : new ] , we obtain @xmath1755 .",
    "thus @xmath1752 separate distinct two points that belong to the interior of the same edge .",
    "* step 3 . *",
    "we take care of separation of two distinct points such that one of those points is not a vertex .",
    "we put a numbering to the elements of @xmath1761 and let @xmath1762 denote this set . for each",
    "@xmath18 , proposition  [ prop : model : es ] gives us a model a model @xmath1742 of @xmath557 such that @xmath1743 has an @xmath703-base section @xmath1744 and an @xmath1763-separating section @xmath1764 .",
    "set @xmath1765 and @xmath1766 for @xmath1767 , and set @xmath1768 .",
    "consider the map @xmath1769 defined by @xmath1770 .",
    "remark that since @xmath1752 is unimodular , so is @xmath1771 ( cf .",
    "remark  [ remark : unimodular ] ) .",
    "let @xmath1772 be distinct points .",
    "assume that not both of @xmath1284 are not vertices .",
    "then we are going to show that @xmath1773 . without loss of generality , we may and do assume that there exists an edge @xmath61 with @xmath1288 .",
    "if @xmath1774 , then @xmath1755 , and hence @xmath1773 .",
    "suppose that @xmath1775 .",
    "then there exists an edge @xmath542 with @xmath1393 such that @xmath1289 .",
    "we write @xmath1776 for some @xmath1777 . by lemma  [ lemma : es : separate : edges ] , @xmath1778 , and hence @xmath1773 .",
    "thus @xmath1773 if @xmath1779 and not both of @xmath125 and @xmath229 are vertices .    * step 4 . *",
    "we take care of separation of two distinct vertices .",
    "set @xmath1780 for any @xmath1781 , proposition  [ prop : existence : sep : sections ] gives us a model @xmath1782 such that @xmath1783 has a @xmath126-separating section and a @xmath1784-separating section or has a @xmath853-separating section and a @xmath1785-separating section .",
    "noting that , we take a ( indexed ) subset @xmath1786 in such a way that :    * the model @xmath1787 has a @xmath811-base section @xmath1788 and a @xmath1789-separating section @xmath1790 ; * for any @xmath1791 , there exists a unique @xmath1792 such that @xmath1793 .",
    "set @xmath1794 and @xmath1795 for @xmath1796 , and set @xmath1797 .",
    "we define @xmath1798 by @xmath1799 .",
    "since @xmath1771 is unimodular , so is @xmath23 ( cf .",
    "remark  [ remark : unimodular ] ) .",
    "take any distinct @xmath1800 . if @xmath126 and @xmath853 do not belong to some common island , then by condition ( iii ) in theorem  [ theorem : ut : canonical ] @xmath1801 , and",
    "hence @xmath1802 .",
    "suppose that @xmath126 and @xmath853 belong to the same island . then we can write @xmath1803 or @xmath1804 for some @xmath1792 . by lemma  [ lemma :",
    "vertices - separating ] , it follows that @xmath1805 , and hence @xmath1802 .",
    "this completes the proof of the theorem .",
    "let @xmath0 be a smooth projective curve of any genus @xmath8 .",
    "let @xmath147 be a strictly semistable model of @xmath0 .",
    "we say that @xmath147 is _ minimal _ if @xmath137 does not have a @xmath140-curve .",
    "remark that in the case where @xmath401 , @xmath147 is minimal if and only if @xmath147 is deligne  mumford semistable .",
    "let @xmath5 be a skeleton of @xmath19 .",
    "we say that @xmath5 is _ minimal _ if there exists a minimal model @xmath147 of @xmath0 with @xmath1806 .",
    "remark that if @xmath5 is minimal , then any model @xmath156 with @xmath1807 is minimal .    in the previous section ,",
    "we have shown the existence of faithful tropicalization of the minimal skeleta when @xmath1 . in this section",
    ", we prove that when @xmath1808 .",
    "the existence of faithful tropicalization of a minimal skeleton is trivial when @xmath1809 . indeed , suppose that @xmath1809 . then a minimal skeleton @xmath5 is a point .",
    "therefore , if @xmath1810 , then there exists two non - zero sections @xmath1811 , and the tropicalization with respect to those sections gives a faithful tropicalization of @xmath5 .",
    "we assume that @xmath1812 .",
    "then , we have two possibilities of the configuration of the minimal skeleton @xmath5 : one is a singleton ; the other is a circle . if @xmath5 is a singleton , then the existence of faithful tropicalization is again trivial . indeed , if @xmath1813 , then there exist two nontrivial sections @xmath1811 , and the tropicalization with respect to those sections gives a faithful tropicalization of @xmath5 .",
    "assume that @xmath1814 .",
    "let @xmath5 be the minimal skeleton of @xmath19 .",
    "since @xmath401 , it is the canonical skeleton .",
    "since there is nothing to do if @xmath5 is a singleton , assume that @xmath5 is a circle .",
    "we fix a point @xmath655 in the following argument .",
    "further , we write @xmath1815 .",
    "[ def : goodmodel : g=1 ] let @xmath147 be a deligne  mumford strictly semistable model of @xmath0 .",
    "we say that @xmath147 is _ good _ if there exists a @xmath1816 such that @xmath1817 = v_0 $ ] and such that @xmath1818 is a @xmath143-chain with symmetric multiplicities .",
    "[ lemma : pregoodmodel : g=1 ] assume that @xmath1813 .",
    "then for any @xmath1819 , there exists a model @xmath1192 of @xmath557 such that @xmath147 is good in the above sense and such that @xmath1820 - [ y]$ ] is effective .    _",
    "proof._take a divisor @xmath780 on @xmath0 with @xmath1821",
    ". then @xmath1822 and the linear system @xmath1823 does not depend on the choice of @xmath780 . since @xmath1824 - [ y ] )",
    "\\geq 1 $ ] , @xmath1825 by proposition  [ prop : riemann : inequality ] .",
    "thus there exists an effective @xmath1826 such that @xmath1827 + [ y ] \\sim \\tau_{\\ast } ( \\tilde{d } ) $ ] . by the same argument as in the proof of proposition  [ prop : pregoodmodel : pre ] , we construct a model @xmath556 of @xmath557 such that @xmath147 is good in the above sense and such that @xmath1828 + [ y]$ ] .",
    "it is clear that this model satisfies the desired conditions .",
    "500    let @xmath1829 be a model of @xmath46 , and let @xmath71 be a nontrivial global section of @xmath161 .",
    "we call @xmath71 a _ base section _ if @xmath1118 for any @xmath242 .",
    "suppose furthermore that @xmath147 is good , and then we define the stepwise vertical divisor @xmath1403 by the same way as in   [ subsection : stepwise ] .",
    "we call @xmath71 a _ unimodularity section _ if @xmath1412 is effective and trivial over some neighborhood of @xmath1167 .",
    "[ prop : model : us : g=1 ] assume that @xmath1813 .",
    "then there exists a model @xmath1829 such that @xmath147 is good and @xmath161 has a base section and a unimodularity section .    _",
    "proof._apply lemma  [ lemma : pregoodmodel : g=1 ] for @xmath1830 , and we obtain a model @xmath163 of @xmath557 with @xmath147 good such that @xmath1831 $ ] is effective . by the same argument using lemma  [ lemma : freeatnode : graphversion : emptyset ] as in the proof of lemma  [ lemma : forbasesectionut : dc ]  ( 1 ) , we show that @xmath161 is free at any @xmath242 , and then by the same argument as the proof of proposition  [ prop : existence : sections : stronger ] , we obtain a base section .",
    "we set @xmath1832 , where @xmath1815 . by the same argument as in the proof of lemma  [ lemma : forbasesectionut : dc ]",
    "( 3 ) , we see that @xmath1346 is free at any @xmath242 . by the same argument as the roof of proposition  [ prop : existence : sections : stronger ] , we obtain a unimodularity section of @xmath161 .",
    "500    let @xmath147 is a good model of @xmath0 , and let @xmath1817 \\in { \\operatorname{\\operatorname{irr } } } ( \\mathscr{x}_s ) $ ] with @xmath1817 = v_0 $ ] . since the maximal @xmath143-chain @xmath1818 has symmetric multiplicity , we can consider a separating divisor @xmath1306 for @xmath61 as definition  [ def : assymetric : divisor ] also in this setting .",
    "let @xmath161 be a model of @xmath2 .",
    "we call a nonzero global section @xmath76 of @xmath161 an _ separating section _ if there exists a separating divisor @xmath1306 ( for @xmath61 ) such that @xmath1833 is trivial at any @xmath1834 .",
    "assume that @xmath1813 .",
    "then there exists a model @xmath1829 of @xmath557 such that @xmath147 is good in the above sense and such that @xmath161 has a base section and a separating section .    _",
    "proof._let @xmath1835 be the point antipodal to @xmath639 .",
    "apply lemma  [ lemma : pregoodmodel : g=1 ] for @xmath1836 and @xmath1837 , and we obtain a model @xmath163 of @xmath557 with @xmath147 good such that @xmath1838 - [ v_1]$ ] is effective . by the same argument of step  2 in the proof of proposition  [ prop : model : as ] , one shows that @xmath161 has a base section .",
    "we set @xmath1839 . by the same argument of step  3 in the proof of proposition  [",
    "prop : model : as ] , one sees that @xmath1346 is free at any @xmath1840 , and hence there exists a section @xmath1841 such that @xmath1410 for any @xmath1840 . by the same argument of the last paragraph of the proof of proposition  [ prop : model : as ]",
    ", this shows the existence of a separating section of @xmath161 .",
    "500    since we have a model that has a base section and a unimodularity section , the same argument as the proof of theorem  [ theorem : ut : canonical ] gives us a unimodular tropicalization of @xmath1283 .",
    "furthermore , since we have a model that has a base section and a separating section , the same argument as the proof of theorem  [ theorem : ft : canonical ] gives us a faithful tropicalization of @xmath5 .    together with the remarks in ",
    "[ section : case : singleton ] , we have shown the following theorem .    [ thm : ft : low : genus ] let @xmath0 be a smooth projective curve of genus @xmath1808 , and let @xmath5 be a minimal skeleton of @xmath19 .",
    "let @xmath2 be a line bundle over @xmath0 .",
    "suppose that @xmath1842 then there exist @xmath1843 such that the tropicalization map @xmath1844 defined by @xmath1845 gives a faithful tropicalization of @xmath5 .",
    "in this section , we prove the main theorem . since we have remark  [ rmk : on : skeleton : complete ] , we focus on a complete skeleton . in this section ,",
    "let @xmath0 be a smooth projective over @xmath4 of genus @xmath129 , and let @xmath2 be a line bundle over @xmath0 .",
    "let @xmath5 be a complete skeleton of @xmath6 .",
    "then there exists a complete strictly semistable pair @xmath1846 with @xmath1847 .",
    "recall that @xmath1848 .",
    "we set @xmath1849 of @xmath482 ; this is well - defined for @xmath5 and does not depend on the choice of @xmath1846 .",
    "we call each element of @xmath1850 a _ leaf of @xmath5_. remark that each leaf @xmath1851 is the limit point of the end @xmath498 , that is , @xmath1852 is the closure of @xmath339 in @xmath6 .",
    "remark also that @xmath1853 and hence @xmath1854 .",
    "since @xmath1846 is a strictly semistable pair , @xmath1855 are all distinct .",
    "the special fiber @xmath137 has @xmath140-curves , in general .",
    "applying proposition  [ prop : subdivision - model ] to @xmath147 successively , we obtain a morphism @xmath1856 , where @xmath1857 does not have a @xmath140-curve .",
    "we call @xmath1858 a _ minimal model of @xmath0 under @xmath147_. if @xmath401 , then @xmath1858 is a deligne ",
    "mumford semistable curve and is uniquely characterized by @xmath1859 . if @xmath1809 , on the other hand , then @xmath1858 is not necessarily unique .",
    "let @xmath1856 be as above .",
    "by the definition of @xmath354 , there exists a unique connected curve @xmath67 in @xmath137 such that @xmath354 restricts to an isomorphism @xmath1860 .",
    "remark that @xmath1861 .    for each @xmath355",
    ", we fix the following notation . since @xmath1862 is a strictly semistable pair , we consider the end @xmath1863 in @xmath5 .",
    "we have @xmath1864 .",
    "let @xmath1865 be a chain of curves in @xmath137 characterized by @xmath1866 \\in \\gamma \\mid c \\in { \\operatorname{\\operatorname{irr}}}(e^i ) \\ } = v ( \\mathscr{x } ) \\cap   \\delta ( \\mu   \\circ \\sigma_i ) $ ] .",
    "we write the irreducible components of @xmath1865 for @xmath1867 in such a way that the vertex @xmath1868 $ ] is the boundary point of @xmath1869 and @xmath1870 for @xmath1871 .",
    "note that @xmath1872 .",
    "let @xmath1873 denote the node in @xmath137 with @xmath1874 for @xmath1871 .",
    "remark that @xmath1875 and that this is isometric to a closed half line .",
    "assume that @xmath1876 .",
    "for each @xmath1877 , the partial normalization at @xmath1873 has exactly two connected components .",
    "let @xmath1878 be the one which contains @xmath1879 .",
    "remark that @xmath1880 is the connected component of @xmath1881 that contains @xmath1882 , where @xmath67 is the curve in @xmath137 such that @xmath354 restricts to the isomorphism @xmath1883 , as above .",
    "we regard @xmath1878 as a curve in @xmath137 .",
    "then @xmath1878 satisfies the condition ( f ) in   [ subsec : fvd ] .",
    "let @xmath1884 be the fundamental vertical divisor with support @xmath1878 .",
    "using those fundamental divisors , we define a vertical effective divisor on @xmath147 for a leaf : let @xmath1885 be a leaf of @xmath5 , and let @xmath18 be the one with @xmath1886 ; we set @xmath1887 which we call the _ stepwise vertical divisor associated to @xmath1885 .",
    "_ by definition , @xmath1888 if and only if @xmath1889 . remark that @xmath1890 if @xmath1891 .",
    "[ remark : order : stepwise : leaf ] we calculate the order of @xmath1892 at each irreducible component of @xmath137 .",
    "suppose that @xmath1891 .",
    "then @xmath1893 , which is a tree of irreducible components .",
    "for any @xmath909 , we have @xmath1894 . for each @xmath1895 , let @xmath1896 denote the distance between @xmath1868 $ ] and @xmath1897 $ ]",
    ". then @xmath1898 . to see the order of @xmath1899 at the other irreducible components , we take any @xmath1900 .",
    "since @xmath1901 is a tree of irreducible components , there exists a unique @xmath1902 such that @xmath1903 $ ] is the point in @xmath1904 \\mid 1 \\leq \\alpha \\leq r_i \\}$ ] that is the nearest to @xmath60 $ ] . using this @xmath1905",
    ", we have @xmath1906 .",
    "[ def : basesection : wbsection : leaf ] let @xmath1885 be a leaf of @xmath5 .",
    "let @xmath1907 be a strictly semistable pair with @xmath1908 , let @xmath1858 be a minimal model of @xmath0 under @xmath147 , and let @xmath1856 be the morphism extending the identity .",
    "let @xmath161 be a line bundle over @xmath147 such that @xmath1192 is a model of @xmath557 . set @xmath1909 .",
    "let @xmath71 be a global section of @xmath161 .    1 .",
    "we call @xmath71 a _ base section _ if @xmath1118 for any @xmath1910 .",
    "we call @xmath71 a _ @xmath1885-unimodularity section _ if for the @xmath1911 with @xmath1912 , @xmath1913 is trivial at any @xmath1910        [ lemma : faithful : ends ] let @xmath1885 be a leaf of @xmath5 .",
    "let @xmath1907 , @xmath1856 , and @xmath161 be as in definition  [ def : basesection : wbsection : leaf ] .",
    "let @xmath1914 be a base section of @xmath161 and let @xmath1915 be a @xmath1885-unimodularity section of @xmath161 .",
    "set @xmath1916 and @xmath1917 .",
    "further , set @xmath1918 , which is a non - zero rational function on @xmath0 .",
    "define @xmath1919 by @xmath1327 .",
    "let @xmath1920 be the one with @xmath1886 . then the following hold .    1 .",
    "the map @xmath23 gives an isometry from @xmath1921 to @xmath1922 .",
    "2 .   for any @xmath1923 , @xmath23 maps @xmath1924 to a constant . further , if @xmath1925 , then @xmath23 maps @xmath1926 to @xmath31 .",
    "the map @xmath23 maps @xmath1927 to @xmath31 .",
    "_ proof._set @xmath1928 , which is a non - zero rational function on @xmath147 .",
    "note that @xmath1929 . by definition",
    ", there exists an open neighborhood @xmath264 of @xmath1930 such that @xmath1931 is trivial on @xmath264 .",
    "let @xmath1865 be the chain in @xmath137 such that @xmath1866 \\mid c \\in { \\operatorname{\\operatorname{irr}}}(e^i ) \\ } = v ( \\mathscr{x } ) \\cap \\delta ( \\mu \\circ \\sigma_i)$ ] .",
    "let @xmath1932 denote the length of the corresponding path @xmath1933 .",
    "( remark that with the notation in remark  [ remark : order : stepwise : leaf ] , @xmath1932 equals the distance between @xmath1868 $ ] and @xmath1934 $ ] in @xmath5 , which is denoted by @xmath1935 . ) since @xmath1931 is trivial on @xmath264 , the calculation in remark  [ remark : order : stepwise : leaf ] shows that @xmath23 gives an isometry from @xmath1936 to @xmath1937 $ ] .",
    "let @xmath1938 be a local equation of the cartier divisor @xmath172 and we take @xmath1055 such that @xmath1939 .",
    "then there exists a rational function @xmath1204 on @xmath147 such that @xmath1204 is a unit regular function on some open neighborhood of @xmath172 and satisfies @xmath1940 . since @xmath1941 gives an isometry from @xmath498 to @xmath1942",
    ", @xmath1943 gives an isometry from @xmath498 to @xmath1944 .",
    "since we have the simplicial decomposition @xmath1945 , this concludes that @xmath23 gives an isometry from @xmath1946 to @xmath1947 .",
    "thus we have ( 1 ) .",
    "take any @xmath1948 with @xmath1923 .",
    "suppose that @xmath1925 .",
    "recall that @xmath1886 .",
    "we use the notation in   [ subsection : setup : notation ] .",
    "it follows from @xmath1949 that @xmath1950 .",
    "this means in particular that @xmath1951 \\in \\delta ( \\mu \\circ \\sigma_j )   \\ } = \\emptyset$ ] . since @xmath1952",
    ", it follows that for any @xmath1953 with @xmath60 \\in \\delta ( \\mu \\circ \\sigma_j ) $ ] , we have @xmath1954 .",
    "further , since @xmath1955 and @xmath1956 , @xmath1957 is trivial on some neighborhood of @xmath1958 .",
    "since @xmath1931 is trivial on @xmath264 , this shows that @xmath1959 .",
    "suppose that @xmath1960 .",
    "since @xmath1961 , we have @xmath1962 .",
    "we write @xmath1963 and @xmath1964 as in the notation fixed in   [ subsection : setup : notation ] .",
    "since @xmath1960 , there exists @xmath1965 such that @xmath1966 for @xmath1967 and @xmath1968 for @xmath1969 .",
    "let @xmath1970 be the distance between @xmath1868 $ ] and @xmath1971 $ ] in @xmath5 .",
    "for any @xmath1972 , remark  [ remark : order : stepwise : leaf ] tells us @xmath1973 .",
    "furthermore , let @xmath1974 such that @xmath1975 .",
    "then @xmath1976 is a local equation of @xmath1977 on some neighborhood of @xmath1958 .",
    "since @xmath1978 is trivial over @xmath264 , this shows that @xmath1979 .",
    "thus we have @xmath1980 , which completes the proof of ( 2 ) .",
    "let @xmath67 be the curve in @xmath137 such that @xmath1981 restricts to an isomorphism @xmath1860 .",
    "for any @xmath1982 , @xmath8 is invertible at @xmath497 by the definition of @xmath1885-unimodularity sections , and it follows that @xmath1943 maps @xmath494 to @xmath31 . since @xmath1861 , @xmath23 maps @xmath1983 to @xmath31 .",
    "this shows ( 3 ) .",
    "thus we prove the lemma .",
    "[ def : gooddmmodel : end ] fix a leaf @xmath1885 of @xmath5 . let @xmath1192 be a model of @xmath557 .",
    "we call @xmath1192 a _ good model for @xmath1885 _ if it satisfies the following conditions , where @xmath1986 .    1 .",
    "the model @xmath147 is a strictly semistable model of @xmath0 such that @xmath1987 and @xmath137 does not have a @xmath140-curve , namely , @xmath147 is minimal .",
    "2 .   let @xmath1988 be the irreducible component of @xmath137 with @xmath1989 and set @xmath1990 $ ] .",
    "then @xmath1991 $ ] is effective , where @xmath1992 $ ] .",
    "we have @xmath1993 .",
    "further , if @xmath1 , then for any island @xmath1449 of @xmath761 , we have @xmath1994)}\\right\\vert_{{\\gamma ' } } } \\right ) \\geq 1 $ ] .",
    "suppose that @xmath147 is strictly semistable and minimal model of @xmath0 .",
    "further , suppose that @xmath401 .",
    "then @xmath147 is a deligne ",
    "mumford strictly semistable model of @xmath0 .",
    "thus the condition @xmath1995 , which is a part of condition ( i ) in definition  [ def : gooddmmodel : end ] , is automatically satisfied in this case .          _",
    "proof._we set @xmath2003 and @xmath2004 $ ] .",
    "then @xmath2005 $ ] , and thus @xmath2006 is effective by definition  [ def : gooddmmodel : end ]  ( ii ) and has positive degree by definition  [ def : gooddmmodel : end ]  ( iii ) .",
    "\\(1 ) suppose that @xmath2007 .",
    "then there exists a unique @xmath2008 such that @xmath2009 , and let set @xmath1583 \\in v ( \\mathscr{x } ) $ ] . by definition  [ def : gooddmmodel : end ]  ( iii ) , @xmath2010 \\right ) \\geq 1 $ ] . if @xmath2011 $ ] is effective , then @xmath2012 is nef and has positive degree , and hence by lemma  [ lemma : vanishing0 ] , we obtain @xmath2013 .",
    "suppose that @xmath2011 $ ] is not effective",
    ". then @xmath2014 ) ( v_1 ) = -1 $ ] , and @xmath1287 is the only point at which @xmath2011 $ ] is negative . by the same argument as the proof of claim  [ claim : in : lemma : freeatregular : graphversion ]",
    ", we obtain @xmath2015 , which shows the first equality .",
    "since @xmath2016 , the other equality follows from that equality .",
    "\\(2 ) suppose that @xmath602 .",
    ". then @xmath2018 is effective and has positive degree .",
    "further , by definition  [ def : gooddmmodel : end ]  ( iii ) , the same argument as in the proof of claim  [ claim : in : lemma : freeatnode : graphversion : nonemptyset ] shows that @xmath2002 .          _",
    "proof._assertion ( 1 ) follows from lemma  [ lemma : nonbasepoint ] and lemma  [ lemma : vanishing : for : ends : new-1 ] .",
    "we prove ( 2 ) . for any @xmath2021",
    ", we have @xmath1999 by lemma  [ lemma : vanishing : for : ends : new-1 ]  ( 1 ) , and hence @xmath2022 .",
    "for any @xmath602 , if @xmath2023 is the partial normalization at @xmath497 , then @xmath2002 by lemma  [ lemma : vanishing : for : ends : new-1 ]  ( 2 ) , and hence @xmath2024 . by lemma  [ lemma : nonbasepoint ]",
    ", it follows that @xmath946 is base - point free .",
    "further , since @xmath2025 , we have @xmath2026 by the serre duality , and hence the base - change theorem tells us that the natural homomorphism @xmath2027 is surjective .",
    "this shows that @xmath161 is free at any @xmath2020 .          1 .",
    "there exist sections @xmath2030 of @xmath195 such that @xmath1846 is a strictly semistable pair with @xmath1847 .",
    "2 .   let @xmath1858 be a minimal model of @xmath0 under @xmath147 ( cf .",
    "  [ subsection : setup : notation ] ) . then there exists a line bundle @xmath2031 on @xmath1858 such that @xmath2032 is a good model for @xmath1885 and @xmath2033 .",
    "suppose that @xmath1 .",
    "then @xmath802 is a deligne ",
    "mumford strictly semistable model of @xmath0 . since @xmath875 , we take a model @xmath2038 as in proposition  [ prop : pregoodmodel ] in place of @xmath125 with @xmath2039 such that the identity on @xmath0 extends to a morphism @xmath2040",
    ". set @xmath2041 and let @xmath161 be the pullback of @xmath2042 to @xmath147 . then by the construction of @xmath819 and @xmath147 , we have @xmath2043 , and @xmath556 has the required properties .",
    "suppose that @xmath1814 and that the canonical skeleton is not a singleton . then similar argument using lemma  [ lemma : pregoodmodel : g=1 ] instead of proposition  [ prop : pregoodmodel ] constructs a model with the required properties .",
    "suppose that @xmath1814 and that the canonical skeleton is a singleton , or suppose that @xmath1809 . in this case , @xmath2044 is a smooth proper model , and there exists a line bundle @xmath2045 over @xmath2044 such that @xmath2046 .",
    "set @xmath2047 and let @xmath2048 be the morphism extending the identity on @xmath0 .",
    "set @xmath2049 .",
    "then it is straightforward to check that @xmath1192 has the required properties .",
    "_ proof of proposition  [ prop : main : ft : ends ] .",
    "_ we take a model @xmath2050 as in proposition  [ prop : good : gamma - model : ends ] .",
    "we show that @xmath2051 has a base section and a @xmath1885-unimodularity section . by condition ( ii ) in proposition  [ prop : good : gamma - model : ends ] , there exist sections @xmath2030 of @xmath195 such that @xmath1846 is a strictly semistable pair with @xmath2052 .",
    "recall that there exists a unique connected curve @xmath67 in @xmath137 such that @xmath1856 restricts to an isomorphism @xmath1860 .",
    "recall from ",
    "[ subsection : setup : notation ] that @xmath1901 is the connected component of @xmath1881 with @xmath1956 .",
    "first , we construct a base section . by lemma  [ lemma :",
    "vanishing : for : ends : new ]  ( 2 ) , there exists an @xmath2053 such that for any @xmath2054 , @xmath2055 holds .",
    "set @xmath2056 . since @xmath2057 , where @xmath2058 , we have @xmath2059 for any @xmath1910 .",
    "this shows that @xmath2060 is a base section .",
    "next , we construct a @xmath1885-unimodularity section . by replacing the numbering @xmath2030 if necessary , we may and do assume that @xmath2061 .",
    "we set @xmath2062 , where @xmath1892 is the stepwise vertical divisor associated to @xmath1885 ( cf .",
    "( [ align : stepwise : for : ends ] ) ) .",
    "we have @xmath2063 , where @xmath2064 is the point with @xmath2065 .",
    "since @xmath2066 , we have @xmath2067 .",
    "it follows that @xmath2068 since @xmath2069 is an isomorphism , it follows from lemma  [ lemma : vanishing : for : ends : new ] that @xmath2070 is basepoint free .",
    "thus there exists @xmath2071 such that @xmath2072 for any @xmath2073 . since @xmath2074 is a finite set of points , @xmath2075 .",
    "further , it follows from a similar calculation to ( [ eqn : degreepositivetype ] ) that @xmath2076 .",
    "thus @xmath2077 .",
    "it follows that there exists a ( unique ) section @xmath2078 such that @xmath2079 . since @xmath2072 for any @xmath2073",
    ", @xmath2080 is nowhere vanishing over @xmath1881 .",
    "in particular , we have @xmath2081 for any @xmath2082 .    put @xmath2083 .",
    "put @xmath2084 . by the adjunction formula , we see that @xmath2085 where @xmath2086 . note that it follows from lemma  [ lemma : vanishing : for : ends : new-1](1 ) that @xmath2087 since @xmath2069 is an isomorphism , @xmath2088 by lemma  [ lemma : vanishing : for : ends : new-1 ]  ( 1 ) .",
    "thus we have @xmath2089 .",
    "we prove @xmath2090 .",
    "take any connected component @xmath1901 of @xmath1881 .",
    "we compute @xmath2091 by using the adjunction formula .",
    "since @xmath2092 , as noted above , we have @xmath2093 .",
    "let @xmath2094 be the point with @xmath2095 .",
    "then we have @xmath2096 , and hence @xmath2097 . applying the riemann",
    " roch formula on @xmath1901 for @xmath2098 , we see that @xmath2099 .",
    "since @xmath2100 , it follows that @xmath2101 . by lemma  [ lemma : vanishing7 ] , we obtain @xmath2102 .    by the serre duality , @xmath2103 . by the base - change theorem",
    ", it follows that the restriction @xmath2104 is surjective .",
    "thus there exists a global section @xmath2105 such that @xmath2106 . for any @xmath2082 , since @xmath2107 , we have @xmath2108 .",
    "let @xmath71 be the image of @xmath2109 by the natural inclusion @xmath2110 .",
    "then it is straightforward to see that @xmath71 is a @xmath1885-unimodularity section .",
    "thus we complete the proof of the proposition .",
    "[ thm : maintheorem : text ] let @xmath0 be a smooth projective curve over @xmath4 of genus @xmath129 .",
    "let @xmath5 be a skeleton of @xmath19 .",
    "let @xmath2 be a line bundle over @xmath0 .",
    "suppose that @xmath24 then there exist @xmath1733 such that the map @xmath2111 defined by @xmath1734 gives a faithful tropicalization of @xmath5 .    _",
    "proof._let @xmath2112 be a minimal skeleton of @xmath5 ( cf .",
    "the beginning of   [ section : ft : lowgenus ] ) .",
    "remark that @xmath2112 is the canonical skeleton if @xmath1 . by theorem  [ theorem : ft : canonical ]",
    "if @xmath1 and by theorem  [ thm : ft : low : genus ] if @xmath2113 , there exist @xmath2114 such that the map @xmath2115 defined by @xmath2116 gives a faithful tropicalization of @xmath2112 .",
    "we may and do assume that @xmath5 is a complete skeleton ( cf .",
    "remark  [ rmk : on : skeleton : complete ] ) .",
    "let @xmath2117 be the set of leaves of @xmath5",
    ". for each @xmath2118 , proposition  [ prop : main : ft : ends ] gives us a model @xmath2119 such that @xmath1743 has a base section @xmath2120 and @xmath864-unimodularity section @xmath2121 .",
    "set @xmath2122 and @xmath2123 for @xmath355 , and set @xmath2124 .",
    "further , we set @xmath2125 . since @xmath2126 is gives a faithful tropicalization of @xmath2112 , @xmath23 also gives a faithful tropicalization of @xmath2112 .",
    "furthermore , it follows from lemma  [ lemma : faithful : ends ] that this actually gives a faithful tropicalization of @xmath5 .",
    "indeed , by lemma  [ lemma : faithful : ends ]  ( 1 ) , we see that this map gives a unimodular tropicalization and is injective not only over @xmath2112 but also over @xmath2127 .",
    "further , by lemma  [ lemma : faithful : ends ]  ( 2 ) , we see that it separates two points that lie on two distinct ends . finally by lemma  [ lemma : faithful : ends ]  ( 3 )",
    ", we see that it separates any points on @xmath2112 and on @xmath2127 .",
    "thus we obtain theorem  [ thm : main : unimodular : faithful ] .        in this section ,",
    "we show complementary results , which shows that the bounds in theorem  [ thm : maintheorem : text ] for @xmath2128 are optimal .",
    "first , we consider the case of genus @xmath31 . in this case , we have the following obvious result .",
    "[ prop : complement:0 ] let @xmath2 be a line bundle over @xmath2129 of degree @xmath31 , that is , @xmath2130 .",
    "then for any non - zero global sections @xmath512 of @xmath2 , the image of the tropicalization map @xmath2131 defined by @xmath2132 is a singleton .",
    "[ prop : complement:1 ] let @xmath0 be a mumford  tate smooth projective curve over @xmath4 of genus @xmath30 .",
    "let @xmath2 be a line bundle over @xmath0 of degree @xmath29 .",
    "then the canonical skeleton @xmath54 does not have a faithful tropicalization associated to the linear system @xmath21 .    _",
    "proof._it is classically known that for any global sections @xmath2135 , the associated morphism @xmath2136 decomposes into the composition of a double covering @xmath2137 and a morphism @xmath2138 .",
    "this means that the tropicalization @xmath2139 factors though @xmath2140 . since the first betti number of @xmath2140 is @xmath31 , the image of @xmath2141 has the first betti number @xmath31 . on the other hand , @xmath2142",
    "this shows that @xmath54 is not homeomorphic to @xmath2141 .",
    "thus @xmath23 is not a faithful tropicalization of @xmath54 .",
    "[ prop : complement:2 ] let @xmath0 be a mumford  tate smooth projective curve of over @xmath4 genus @xmath29 . then the canonical skeleton @xmath54 does not have a faithful tropicalization associated to the bicanonical linear system @xmath2143 .    _",
    "proof._let @xmath1248 be a hyperelliptic involution of @xmath0 .",
    "then for any global sections @xmath2144 , the associated tropicalization @xmath2145 decomposes into the composition of : the natural surjection @xmath2137 , which is the analytification of the quotient of the hyperelliptic involution ; a morphism @xmath2138 ; and the tropicalization @xmath428 .",
    "since @xmath2146 simply connected , so is @xmath2147 , and hence @xmath2148 is simply connected .",
    "on the other hand , since @xmath0 is a mumford  tate curve , @xmath54 is not simply connected .",
    "thus @xmath23 can not give a homeomorphism from @xmath54 to @xmath2148 .",
    "m. baker and j. rabinoff , _ the skeleton of the jacobian , the jacobian of the skeleton , and lifting meromorphic functions from tropical to algebraic curves _ , int .",
    "res . not .",
    "imrn * 2015 * , no .",
    "16 , 74367472 ."
  ],
  "abstract_text": [
    "<S> for a smooth projective curve @xmath0 of genus @xmath1 , global sections of any line bundle @xmath2 with @xmath3 give an embedding of the curve into projective space . </S>",
    "<S> we consider an analogous statement for a berkovich skeleton in non - archimedean geometry , in which projective space is replaced by tropical projective space , and an embedding is replaced by a homeomorphism onto its image preserving integral structures ( called a faithful tropicalization ) . </S>",
    "<S> let @xmath4 be an algebraically closed field which is complete with respect to a non - trivial non - archimedean value . </S>",
    "<S> suppose that @xmath0 is defined over @xmath4 and that @xmath5 is a skeleton ( that is allowed to have ends ) of the analytification @xmath6 of @xmath0 in the sense of berkovich . </S>",
    "<S> we show that if @xmath7 , then global sections of @xmath2 give a faithful tropicalization of @xmath5 into tropical projective space . </S>"
  ]
}