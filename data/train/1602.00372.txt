{
  "article_text": [
    "we study the scheduling of multiple processors to perform tasks with deadlines under random processing cost .",
    "each task requires a certain amount of processing time before its deadline , and failure to fulfill its request incurs non - completion penalty .",
    "different from most existing deadline scheduling models , our formulation allows the instantaneous processing cost to be time - variant and stochastic . we seek to characterize an optimal scheduling policy that minimizes the long - term expected total cost ( the sum of processing cost and non - completion penalty ) .",
    "although the results derived in this technical note generally apply to the aforementioned framework , we will focus on the scheduling of phev charging that may have significant impacts on both the reliability and efficiency of the next generation electric power grids .    becoming popular in many countries , phevs ( plug - in hybrid electric vehicles ) may achieve significant market share over the next decade .",
    "however , the charging of a large number of phevs can add considerable stress to an existing power grid , especially at the distribution network level @xcite .",
    "the scheduling of charging phevs receives much attention in recent years @xcite . to minimize the load variance through phev charging , a few recent papers propose several approaches based on game theoretic analysis @xcite and decentralized optimization @xcite .",
    "although dynamic programming based approaches have been employed to study the optimal control of power management for a single phev @xcite , there lacks a dynamic framework ( on the scheduling of charging multiple phevs ) that explicitly incorporates the stochasticity in both phev arrivals and charging costs .",
    "this work is intimately related to the literature on deadline scheduling . for a single processor scheduling problem",
    ", it is well known that the earliest deadline first ( edf ) policy @xcite and the least - laxity first ( llf ) policy @xcite are optimal , if it is feasible to finish all tasks before their deadlines .",
    "when the completion of all tasks is not feasible , it has been demonstrated that edf and llf may perform poorly @xcite .",
    "closer to the present work , the authors of @xcite conduct a dynamic programming based approach to characterize optimal scheduling policies for the delivery of messages that would extinct after their individual deadlines . in the aforementioned literature processing capacity ( of each individual processer ) is usually assumed to be constant over the entire operation interval . as noted in @xcite , the scheduling of phev charging is fundamentally different , since the cost associated with phev charging is time - varying and stochastic ( due to the inherent volatility in renewable generation and system load ) .    in this note",
    ", we consider a system with multiple ( possibly a large number of ) phevs and an underlying power grid with renewable generation .",
    "a system operator schedules the charging of phevs so as to minimize the long - run average cost .",
    "the formulated dynamic program ( dp ) incorporates _ arbitrary _ randomness in both the charging cost and the phev arrival processes .",
    "the main contribution of this technical note is to establish in particular , we show the * less laxity and longer remaining processing time * ( lllp ) principle : priority should be given to vehicles that have less laxity and longer remaining processing times , if the non - completion penalty ( as a function of the additional time needed to complete the task ) is convex .",
    "for a given heuristic policy , we show that an lllp - based `` interchanging '' policy can not be worse than the original heuristic .",
    "this result holds on every sample path and is robust against arbitrary random arrival process and charging cost",
    ". we also show ( under some additional mild assumptions ) the existence of an optimal stationary policy that always gives priority to vehicles with less laxity and longer remaining processing times .",
    "heuristic policies that violate the lllp principle , such as the well known earliest deadline first ( edf ) policy , can result in significant performance loss .",
    "we consider an infinite - horizon discrete time model . as in @xcite , we assume that each vehicle reports its arrival time , departure time , and charging request to the system operator at its arrival .",
    "the system operator uses all information available at the current stage ( _ i.e. _ , the current system state of the dp to be formulated in section [ sec : dp ] that includes the states of all arrived vehicles , the operating condition of the power system , as well as the prediction on future phev arrivals ) to schedule the charging of phevs .",
    "we study the scheduling problem of @xmath0 phev chargers . for @xmath1",
    ", we refer to the vehicle that is connected to the @xmath2th charger as vehicle @xmath2 . at stage @xmath3 ,",
    "let @xmath4 denote the set of chargers that are connected to electric vehicles , and @xmath5 denote the number of vehicles connected to chargers . for each vehicle",
    "@xmath6 , let @xmath7 and @xmath8 be its arrival and departure time , respectively . under the assumption that both arrival and departure occur at the beginning of each stage , vehicle @xmath2 can be charged from stage @xmath7 through stage @xmath9 .",
    "we assume that @xmath10 , i.e. , every vehicle stays at a facility for at least one stage , and at most @xmath11 stages .    for every @xmath12 , let @xmath13 denote its * remaining processing time * at stage @xmath3 , i.e. , the number of time units of charging needed to meet vehicle @xmath2 s charging request under a time - invariant constant charging rate .",
    "we assume that the processing time of each vehicle is no greater than @xmath14 . at stage @xmath3 , for every @xmath12 , we use a two - dimensional vector , @xmath15 , to denote the * state of vehicle @xmath2 * , where @xmath16 is the number of remaining stages of the vehicle at charger @xmath2 . for notational convenience , for @xmath17 we let @xmath18 .    for every @xmath19 , @xmath20 if vehicle @xmath2 is charged at stage @xmath3 , and @xmath21 otherwise",
    "a feasible * action * at stage @xmath3 , @xmath22 , is an @xmath0-dimensional vector with @xmath23 for every @xmath2 .",
    "let @xmath24 denote the total number of vehicles charged at stage @xmath3 , _",
    "i.e. _ , @xmath25 . for a vehicle @xmath12",
    ", if it remains connected to charger @xmath2 at stage @xmath26 , its state * evolves according to * @xmath27 . for an empty charger @xmath17 ,",
    "if a vehicle arrives at stage @xmath26 then @xmath28 and the state of charger @xmath2 becomes the initial state of this vehicle .    at stage @xmath3 , let @xmath29 denote the * state of grid * , where the set @xmath30 is assumed to be finite .",
    "the state of grid incorporates all the currently available information on all exogenous factors that have impacts on the cost associated with phev charging , such as the level of renewable generation and its prediction , the system load ( excluding the phev charging load @xmath24 ) and its prediction , and the current time .",
    "the evolution of the state of grid depends on the current state @xmath31 and the aggregate action @xmath32 .",
    "the * charging cost * at stage @xmath3 @xmath33 depends on the aggregate action @xmath24 and the state of grid @xmath31 .    at stage @xmath3 , let @xmath34 be the * state of demand * , where @xmath35 is assumed to be finite .",
    "the state of demand @xmath36 contains all the currently available information on future phev arrivals , and completely determines the joint probability distribution on the number of arrival vehicles in the future and their initial states .",
    "the state of demand evolves as a time - homogeneous markov chain , whose state transition is assumed to be independent of the state of the grid @xmath31 and the action @xmath37 .",
    "in this section , we formulate the scheduling problem as an infinite - horizon dynamic program ( dp ) by introducing its state space , admissible action set , transition probabilities , stage cost , and average - cost objective function .    at each stage @xmath3 ,",
    "the * system state * , @xmath38 , consists of the states of all chargers , @xmath39 , the state of grid @xmath31 , and the state of demand @xmath36 .",
    "let @xmath40 denote the set of all possible system states .",
    "note that the size of state space grows exponentially with the number of chargers , @xmath0 .",
    "reasonable values of @xmath0 , @xmath11 , and @xmath14 lead to very high dimensions , and make a direct solution to the dp impossible .",
    "we use @xmath41 to denote the set of feasible actions at stage @xmath3 under system state @xmath42 .",
    "the * transition probability * of the system state depends on the current system state , @xmath43 , and the current action @xmath37 . , the evolution of @xmath31 depends only on the aggregate action @xmath24 , and the evolution of @xmath36 is completely exogenous . ]",
    "since the state transition is independent of the stage index @xmath3 , we use @xmath44 to denote the transition probability from state @xmath43 to @xmath45 , under the action @xmath46 .    at each stage @xmath3 , the * stage cost * @xmath47 consists of two parts : the charging cost @xmath33 and the non - completion penalty .",
    "let @xmath48 denote the set of vehicles that will leave at stage @xmath26 , i.e. , @xmath49 the stage cost function at stage @xmath3 is can incorporate the maximum capacity constraint on all the @xmath0 phev chargers by including an element @xmath50 such that the charging cost becomes higher than the highest possible non - completion penalty @xmath51 if @xmath52 . on the other hand ,",
    "our formulation omits the power flow constraints within a distribution network and can not incorporate capacity constraints on any subset of the @xmath0 chargers . ]",
    "@xmath53 where the penalty function @xmath54 with @xmath55 maps the number of uncharged battery units to its non - completion penalty ( resulting from greenhouse gas emission or / and customers inconvenience ) .",
    "since both the set of system states and the set of feasible actions are finite , the stage cost is bounded .    a feasible * policy * @xmath56 is a sequence of decision rules such that @xmath57 for every @xmath3 and @xmath42 . given an initial system state @xmath58 ,",
    "the time - averaged cost achieved by a policy @xmath59 is given by @xmath60 where the expectation is over the distribution of future system state @xmath61 ( induced by the policy @xmath59 ) .",
    "since the state evolution of the formulated dp does not depend on the time index and the state space is finite , there exists an optimal stationary policy @xmath62 , and the limit on the right hand side of exists @xcite .",
    "next we give an illustrative example of the general dp framework constructed above .",
    "our formulation incorporates the objective of minimizing load variance ( that has been extensively explored in the literature @xcite ) . in this special case ,",
    "the state of grid @xmath31 is set to be the net system load ( _ i.e. _ , the difference between system load and renewable generation ) excluding phev charging .",
    "the charging cost is given by : @xmath63 where @xmath64 is a strictly convex function that maps the total ( net ) system load to generation cost ; a commonly used cost function is quadratic , e.g. , @xmath65 @xcite .",
    "note that if the incremental non - completion penalty @xmath66 is set to be larger than the incremental charging cost @xmath67 , for every @xmath68 , @xmath69 , and @xmath70 , the deadline requirement of each vehicle becomes a `` hard constraint '' , in that it is optimal to fulfill all charging requests before their deadlines , as long as it is feasible to do so .",
    "@xmath71    although the state of grid @xmath31 and the state of demand @xmath36 are modeled as stationary markov chains , it is worth noting that the time dependency of the grid status ( e.g. , renewable generation and system load ) and phev arrivals can be incorporated by including in the states @xmath31 and @xmath36 a periodic markov chain that describes the evolution of local time .    the dp framework constructed in sections [ sec : model ] and",
    "[ sec : dp ] is general .",
    "the only conditions on @xmath31 required by the lllp principle ( that will be formally stated and proved in theorem [ prop : update ] ) are : i ) the charging cost at each stage @xmath3 is of the form @xmath72 , which depends only on the aggregate action @xmath24 and @xmath31 , and ii ) the evolution of @xmath31 depends only on @xmath24 ( but not on @xmath73 for any @xmath2 ) . in other words ,",
    "the lllp principle holds regardless of the detailed model used by the operator to describe the power grid dynamics ( e.g. , information included in the state @xmath31 , its evolution , and the exact form of charging cost ) . @xmath71",
    "in this section we establish the main result of this technical note . in section [ sec : op1 ] , we first define a partial order over the set of vehicle states : a vehicle with less laxity and a longer remaining processing time has a higher - order state . for any given ( possibly non - stationary ) heuristic policy that violates the lllp principle ,",
    "we construct an interchanging policy that gives priority to the vehicle with a higher - order state .",
    "we show that on every sample path , the interchanging policy can only reduce the ex - post ( realized ) cost , compared with the original heuristic ( cf .",
    "theorem [ prop : update ] ) . in section [ sec : op3 ] , under some mild assumptions on the evolutions of the grid state @xmath31 and the state of demand @xmath36 , we show the existence of an optimal stationary policy that follows the lllp principle .      for every vehicle @xmath74 , its * laxity * ( at stage @xmath3 )",
    "is defined by @xmath75 note that for a vehicle @xmath2 with @xmath76 , its laxity @xmath77 is the maximum number of stages it can tolerate before the time it has to be put on uninterrupted battery charging .",
    "we are now ready to define a partial order over the set of all possible vehicle states .",
    "[ def : part ] for two vehicles @xmath78 , we say @xmath79 ( vehicle @xmath80 has priority over @xmath2 ) if @xmath80 has less laxity and longer remaining processing time , i.e. , @xmath81 , @xmath82 , and at least one of these two inequalities strictly holds .",
    "@xmath71    it is not hard to check that the relation @xmath83 is reflexive , antisymmetric , and transitive , and therefore is a partial order .",
    "we also note that if vehicle @xmath80 has less laxity and a later deadline than vehicle @xmath2 , i.e. , if @xmath84 and @xmath85 , then we must have @xmath79 .    at a system state @xmath42 , two vehicles @xmath2 and @xmath80 are _ incomparable _ , if @xmath84 and @xmath86 , or @xmath87 and @xmath88 . in this case ,",
    "which vehicle should have higher priority depends on future system dynamics . on the other hand ,",
    "if vehicle @xmath80 has priority over vehicle @xmath2 , we argue that priority should always be given to vehicle @xmath80 , regardless of future system dynamics .",
    "this result requires the penalty function to be convex , as stated in the following assumption .",
    "[ a : convex ] the incremental non - completion penalty is non - negative and non - decreasing , i.e. , @xmath89    the non - completion penalty may come from the inconvenience caused to customers as well as the potential environmental damage caused by the emission of phevs combustion engines .",
    "we note that environmental damage is usually considered to be convex with respect to greenhouse gas emission @xcite .",
    "[ def : update ] suppose that at some system state @xmath42 , vehicle @xmath80 has priority over @xmath2 , and that a policy @xmath90 charges vehicle @xmath2 but not @xmath80",
    ". let @xmath91 .",
    "we now formally define the * interchanging policy * @xmath92 ( generated from the policy @xmath59 with respect to vehicles @xmath2 and @xmath80 at state @xmath42 ) as follows .    1",
    ".   we first let @xmath93 for @xmath94 , and then update the sequence of decision rules @xmath95 as follows .",
    "policy @xmath96 charges @xmath80 instead of @xmath2 at state @xmath42 .",
    "that is , @xmath97 is the same as @xmath98 except that its @xmath2th component is @xmath99 and its @xmath80th component is @xmath100 . + following the state @xmath101 , for any ( realized )",
    "sequence of system states that would occur with positive probability under the policy @xmath59 , @xmath102 , there exists a corresponding sequence of system states following the state - action pair @xmath103 , @xmath104 .",
    "the corresponding state @xmath105 differs from @xmath106 only on the states of vehicles @xmath2 and @xmath80 : @xmath107 for @xmath108 , and @xmath109 for @xmath110 .",
    "3 .   for every @xmath102 ,",
    "let @xmath111 be the set of stages that policy @xmath59 charges vehicle @xmath80 but not @xmath2 , before vehicle @xmath2 s departure .",
    "if the set @xmath112 is empty , let shows that for @xmath113 , whenever the policy @xmath59 charges vehicle @xmath80 at state @xmath114 , it is feasible to charge vehicle @xmath80 at the corresponding state @xmath115 , i.e. , @xmath116 . ]",
    "@xmath117 , for @xmath113 , i.e. , the interchanging policy @xmath96 agrees with the original policy @xmath59 after stage @xmath3 . +",
    "if @xmath112 is not empty , let @xmath118 be its minimal element . at stages @xmath119 , let @xmath117 .",
    "at stage @xmath118 , policy @xmath96 charges vehicle @xmath2 instead of @xmath80 , i.e. , @xmath120 is the same as @xmath121 except that its @xmath2th component is @xmath100 and its @xmath80th component is @xmath99 .",
    "@xmath71    [ l : update ] an interchanging policy @xmath96 is feasible .    the proof of lemma [ l : update ] is given in appendix a , where we show that the action taken by policy @xmath96 at every system state is feasible .",
    "[ prop : update ] suppose that assumption [ a : convex ] holds let @xmath96 be the interchanging policy generated from a policy @xmath59 .",
    "for every @xmath122 and along every sample path from stage @xmath26 through stage @xmath123 , the total ( realized ) cost resulting from the interchanging policy @xmath96 can not be higher than that achieved by the original policy @xmath59 .",
    "@xmath124    it follows from definition [ def : update ] that the interchanging policy always charges an equal number of vehicles as the original policy .",
    "since the evolution of @xmath125 depends only on the total number of charged vehicles at each stage @xmath3 , the two policies result in the same system dynamics . as a result ,",
    "following the state @xmath42 , for every sequence of system states that would occur with positive probability under the policy @xmath59 , @xmath102 , there exists a corresponding sequence of system states , @xmath126 , which will occur with equal probability under policy @xmath96 .",
    "if the set and the sequence @xmath104 are introduced in definition [ def : update ] .",
    "] @xmath112 is empty , then @xmath127 ; otherwise , we have @xmath128 where @xmath118 be the minimum element in the set @xmath112 .",
    "we further note that the two policies , @xmath59 and @xmath96 , are identical after stage @xmath129 . as a result , to prove this theorem , it suffices to show that for every realization of system states under the policy @xmath59 , @xmath102 , and the corresponding realization of system states under the policy @xmath96 , @xmath130 , @xmath131 we now prove eq . by discussing the following two cases :",
    "\\1 . if @xmath112 is not empty , for every pair of system state realizations , @xmath132 and @xmath126 , both polices must result in the same ex - post cost , i.e. , the equality holds in .",
    "if @xmath112 is empty , then whenever @xmath59 charges @xmath80 , it must also charge @xmath2 , for @xmath133 . for a sequence of system",
    "states realized under @xmath59 , @xmath132 , let @xmath134 denote the remaining processing time of vehicle @xmath2 at its deadline @xmath8 .",
    "that is , @xmath135 , where @xmath136 is the action on vehicle @xmath2 at state @xmath137 according to policy @xmath59 .",
    "similarly , @xmath138 is defined for the corresponding sequence @xmath126 under the interchanging policy @xmath96 . since @xmath80 has priority over @xmath2 at @xmath42 , it is straightforward to check ( from the definition of @xmath96 in definition [ def : update ] ) that @xmath139 , @xmath140 , and @xmath141",
    ". it follows from assumption [ a : convex ] that @xmath142 .",
    "note that this inequality implies the desired result in , since the two policies , @xmath59 and @xmath96 , result in the same cost except possible different penalties for not fulfilling vehicle @xmath2 s and @xmath80 s charging requests .    before ending this section we make some brief discussion on the intuition behind the lllp principle .",
    "we consider a simple * two - vehicle example*. at stage @xmath99 , the states of the two vehicles are @xmath143 and @xmath144 .",
    "note that vehicle @xmath145 has priority to vehicle @xmath100 , according to the lllp principle .",
    "if vehicle @xmath100 is charged at stage @xmath99 , then the vehicle is fully charged ( and not available for charging ) at stage @xmath100 ; on the other hand , if only vehicle @xmath145 is charged at stage @xmath99 , then both vehicles are available for charging at stage @xmath100 .",
    "the lllp principle argues that the latter situation is preferable , because    * in the latter situation , the operator has a larger set of feasible actions at stage @xmath100 ; * under convex penalty functions , remaining processing time should be split among multiple vehicles .    under random charging cost and convex non - completion penalty ,",
    "it is always desirable to have a larger number of smaller unfinished tasks that can be processed simultaneously when charging cost becomes lower in the future .    although an interchanging policy @xmath96 can not be worse than the original heuristic , it may still be ( sometimes obviously ) suboptimal , since it does not fully utilize the extra `` flexibility '' provided by the lllp principle . note that @xmath96 charges @xmath2 but not @xmath80 at stage @xmath118 ( cf . definition [ def : update ] ) .",
    "a natural way to improve @xmath96 is to charge both @xmath2 and @xmath80 at stage @xmath118 under certain circumstances , e.g. , when the laxity of vehicle @xmath80 is small or it is cheap to charge an additional vehicle at stage @xmath118 .",
    "this intuition can be illustrated by the aforementioned two - vehicle example .",
    "the charging cost at stage @xmath99 , @xmath100 , @xmath145 is @xmath146 , @xmath99 , and @xmath147 , respectively ( here @xmath24 denotes the number of vehicles charged at stage @xmath3 ) .",
    "consider an edf policy @xmath59 that charges vehicle @xmath100 at stage @xmath99 , and charges vehicle @xmath145 at stages @xmath100 and @xmath145 . according to definition [ def : update ] , @xmath148 ( when policy @xmath59 violates the lllp principle ) and @xmath149 .",
    "the unique optimal policy gives priority to vehicle @xmath145 at stage @xmath3 ( following the lllp principle ) , and charges both vehicles at stage @xmath118 .",
    "@xmath71      in this subsection , we show the existence of an optimal stationary policy that always follows the lllp principle .",
    "the following technical assumption is made to guarantee that the minimum average cost does not depend on the initial state .",
    "[ a : ini ] we assume the following .",
    "* under every @xmath150 , there is positive probability that no vehicle arrives at the next stage .",
    "* there exists a special state of grid @xmath151 such that for some positive integer @xmath152 , for every initial state @xmath153 , and under the sequence of zero aggregated charging decisions , @xmath154 , state @xmath155 is visited with positive probability at least once within the first @xmath152 steps . *",
    "the state of demand @xmath156 evolves as an ergodic markov chain .",
    "note that assumption [ a : ini].2 holds if without phev charging , ( e.g. , in a model with @xmath157 ) , the state of grid evolves as an ergodic markov chain .",
    "although assumption [ a : ini].3 requires that @xmath156 is ergodic , the time dependency of phev arrival process can be incorporated by including in the state @xmath36 a periodic markov chain that describes time evolution .    [ prop : ini ] suppose that assumption [ a : ini ] holds .",
    "the minimum average cost is equal for all initial states , i.e. , @xmath158 where @xmath159 is    we pick up a state @xmath160 , and define a * special system state * @xmath161 where @xmath162 is the special state of grid defined in assumption [ a : ini].2 . at this special system state ,",
    "all charging facilities are empty with state @xmath163 . according to proposition 7.4.1 of @xcite , to show the desired result we only need to argue that , for every initial system state @xmath164 and under all policies , the special system state is visited with positive probability at least once within the first @xmath165 steps , with @xmath152 being the integer defined in assumption [ a : ini].2 .",
    "under assumption [ a : ini].1 , the probability that no vehicle arrives within the first @xmath166 stages is positive , and if this is the case , all charging facilities are empty from stage @xmath11 to stage @xmath167 , regardless of the policy used by the operator . in this case , since no vehicle is charged from stage @xmath11 to stage @xmath168 , assumption [ a : ini].2 implies that with positive probability the special state @xmath155 is visited at least once from stage @xmath11 to stage @xmath167 .",
    "also , since @xmath156 is an ergodic markov chain , the probability that the state @xmath169 is visited at least once from stage @xmath11 to stage @xmath167 is positive .",
    "since the evolutions of @xmath156 and @xmath125 are assumed to be independent , for all initial system states and under all policies , the special system state @xmath170 is visited with positive probability at least once from stage @xmath11 to stage @xmath167 .",
    "[ prop : property ] suppose that assumptions [ a : convex ] and [ a : ini ] hold .",
    "there exists an optimal stationary policy @xmath171 that always follows the lllp principle .",
    "that is , at every system state @xmath172 , if the @xmath2th component of @xmath173 is @xmath100 ( vehicle @xmath2 is charged ) , then for every vehicle @xmath80 such that @xmath174 at @xmath43 , the @xmath80th component of @xmath173 must also be @xmath100 ( vehicle @xmath80 must be charged ) .",
    "the proof of theorem [ prop : property ] is given in appendix b. since the state space is finite , there exists an optimal stationary policy ( cf .",
    "page @xmath175 of @xcite ) .",
    "the crux of our proof centers on showing that any optimal stationary policy can be mapped to an optimal stationary policy that follows the lllp principle , through an optimality condition ( bellman s equation ) based argument .",
    "in this section , we compare the performance of three stationary heuristic policies , the edf ( earliest deadline first ) policy and two llf ( least laxity first)-based heuristic policies .",
    "we consider a case with @xmath176 chargers , i.e. , @xmath177 ( large enough to accept all arriving vehicles in our simulation ) .",
    "the state of grid reflects the maximum capacity available for phev charging , i.e. , the cost function associated with @xmath178 is given by @xmath179 where @xmath51 is an upper bound on the highest possible non - completion penalty that could incur to all vehicles in the set @xmath180 .",
    "obviously , the operator should never charge more than @xmath31 vehicles at stage @xmath3 .",
    "the states of grid , @xmath181 , are assumed to be independent and identically distributed random variables that are uniformly distributed over @xmath182 . since we have assumed zero charging cost as an approximation for the case where the charging cost is much smaller than the non - completion penalty , in our simulation the only source of cost is non - completion penalty .    for simplicity",
    ", we consider a case where the number of arriving vehicles is a time - invariant constant , and the initial states of arriving vehicles are independent and identically distributed random variables .",
    "in particular , the number of stages for which a newly arrived vehicle @xmath2 will stay at a charging facility , @xmath183 , is uniformly distributed over the set @xmath184 ( i.e. , @xmath185 ) , and the time needed to fulfill its request , @xmath186 , is uniformly distributed over the set @xmath187 .    for a system state @xmath42 ,",
    "let @xmath188 be the number of vehicles in the set @xmath180 that are not fully charged . at a system state @xmath42 ,",
    "the stationary edf policy charges the first @xmath189 vehicles with the earliest departure times . for two vehicles that have the same deadline , @xmath59 charges the one with less laxity . at a system state @xmath42 ,",
    "both llf - based policies charge the first @xmath189 vehicles with the least laxity . for two vehicles with the same laxity ,",
    "the llsp ( least laxity and shorter remaining processing time ) policy gives priority to the vehicle with shorter remaining processing time ( an earlier departure time ) , while the lllp ( least laxity and longer remaining processing time ) policy gives priority to the vehicle that has longer remaining processing time .",
    "[ fig : phev ]   trajectories for each arrival rate on the horizontal axis and time - averaged cost on the vertical axis , with non - completion penalty @xmath190.,title=\"fig:\",width=259 ]    [ fig : phev ]   trajectories for each arrival rate on the horizontal axis and time - averaged cost on the vertical axis , with non - completion penalty @xmath191.,title=\"fig:\",width=259 ]    the time - averaged cost resulting from the three heuristic policies ( edf , llsp , and lllp ) are compared in fig.1 and fig .",
    "2 , for two different non - completion penalty functions @xmath190 and @xmath191 . for both penalty functions , the numerical results show that the lllp policy achieves the lowest time - averaged cost , and that llsp significantly outperforms edf .",
    "we note that the performance gap between llsp and lllp is much more significant under quadratic non - completion penalty .",
    "this is because the lllp policy distributes the total remaining processing time to a larger number of vehicles with smaller remaining processing times , which in turn leads to lower non - completion penalty when the penalty function @xmath192 is strictly convex . indeed , under the linear penalty function",
    ", the lllp policy reduces the time - averaged cost by @xmath193 ( compared to the llsp policy ) when the arrival rate is less than @xmath194 ; while under the quadratic penalty function , the performance gap between llsp and lllp is much larger , and remains above @xmath195 ( of the cost resulting from llsp ) even when the arrival rate ranges in @xmath196 .",
    "we formulate the scheduling problem of charging multiple phevs as a markov decision process . using an interchange argument",
    ", we prove the less laxity and longer remaining processing time ( lllp ) principle : priority should be given to vehicles that have less laxity and longer remaining processing times , if the non - completion penalty function is convex and the operator does not discount future cost .",
    "we note that the lllp principle is a partial characterization on the optimal scheduling policy , and that there may exist many stationary policies that do not violate the lllp principle .",
    "a plausible future research direction is to compare and rank these heuristic policies in stylized models with more structures in system dynamics .",
    "to argue the feasibility of the interchanging policy @xmath96 , we will show that    1 .   in period @xmath118",
    "when the original policy @xmath59 first charges vehicle @xmath80 but not @xmath2 , it is feasible for the interchanging policy to charge vehicle @xmath2 ; 2 .   in period @xmath119 ,",
    "whenever the original policy @xmath59 charges vehicle @xmath80 , it is feasible for the interchanging policy to charge vehicle @xmath80 .",
    "it is straightforward to check the first point , i.e. , at the stage @xmath118 it is feasible for the interchanging policy @xmath96 to charge vehicle @xmath2 .",
    "this is because the original policy @xmath59 charges vehicle @xmath2 at stage @xmath3 but the interchanging policy does not , and the interchanging policy does not charge vehicle @xmath2 whenever the original policy @xmath59 does not , at every stage before @xmath118 .",
    "we now prove the second point .",
    "we first consider the case where the original policy @xmath59 first charges vehicle @xmath80 but not @xmath2 at stage @xmath118 .",
    "since at state @xmath38 , vehicle @xmath80 has priority over @xmath2 , and the policy @xmath59 charges vehicle @xmath2 but not @xmath80 , we must have @xmath197 and @xmath198 at state @xmath199 . before stage @xmath118 ( for @xmath119 )",
    ", whenever the policy @xmath59 charges vehicle @xmath80 at state @xmath114 , it also charges vehicle @xmath2 .",
    "it follows that for @xmath119 , whenever the policy @xmath59 charges vehicle @xmath80 at @xmath114 , we must have @xmath200 , which implies that @xmath201 , i.e. , it is feasible for the interchanging policy to charge @xmath80 .",
    "a similar argument applies to the case where the set @xmath112 is empty ( @xmath202 ) , and the deadline of vehicle @xmath80 is no later than @xmath2 s .",
    "we have @xmath203 . before vehicle",
    "@xmath2 s departure ( for @xmath108 ) , whenever the policy @xmath59 charges vehicle @xmath80 at state @xmath114 , it also charges vehicle @xmath2 .",
    "it follows that for @xmath108 , whenever the policy @xmath59 charges vehicle @xmath80 at @xmath114 , we have @xmath200 , and therefore @xmath201",
    ".    we finally consider the case where @xmath204 and the deadline of @xmath80 is later than @xmath2 s .",
    "we have @xmath205 . at state @xmath137",
    ", we know vehicle @xmath80 s laxity must be strictly less than vehicle @xmath2 s , i.e. , @xmath206 if @xmath207 , then we have @xmath208 . if @xmath209 , since the policy @xmath59 does not charge vehicle @xmath2 at state @xmath137 , it does not charge vehicle @xmath80 , because the set @xmath112 is empty . in this case",
    ", we have @xmath210 and @xmath211 . in either case , for @xmath212 , we have @xmath213 .",
    "it follows that for @xmath212 , @xmath214 .",
    "we first introduce a necessary and sufficient condition for the optimality of a stationary policy .",
    "this condition will be used later in the proof . under assumption",
    "[ a : ini ] , the minimum average cost @xmath215 , together with an @xmath216-dimensional vector @xmath217 , satisfies the following bellman s equation : @xmath218 where @xmath219 denotes the set of feasible actions at system state @xmath220 .",
    "it is known that a stationary policy @xmath171 is optimal , i.e. , @xmath221 for all @xmath220 , if @xmath222 attains the minimum in for each @xmath223 @xcite .",
    "let @xmath224 be a solution to the bellman s equation in .",
    "for every @xmath225 , @xmath226 ( usually referred to as the differential cost for state @xmath220 ) is the minimum , over all policies , of the difference between the expected cost to reach the special state @xmath170 ( cf . ) from @xmath220 for the first time and the cost that would be incurred if the cost per stage were equal to the minimum average @xmath215 at all states .",
    "the differential cost for state @xmath220 can be written as @xmath227 where @xmath56 . in the proof of lemma [",
    "prop : ini ] we have shown that for any initial state @xmath220 , the special system state is visited with positive probability at least once within the first @xmath228 steps , which implies that @xmath229 is finite for every @xmath230 .",
    "we next employ a simple interchange argument to prove the existence of an optimal stationary policy that follows the lllp principle .",
    "let @xmath231 be an optimal stationary policy , and suppose that there exists a system state @xmath38 such that the @xmath2th component of @xmath232 is @xmath100 , the @xmath80th component of @xmath232 is @xmath99 , and that @xmath79 .",
    "since @xmath233 and @xmath174 , we must have @xmath234 .",
    "we argue that another stationary policy @xmath235 , which agrees with the decisions made by the policy @xmath231 except that @xmath235 charges vehicle @xmath80 instead of @xmath2 at the system state @xmath42 , must also be optimal .    for the state @xmath42 , the optimal stationary policy @xmath231 attains the minimum in @xcite . to argue that the stationary policy @xmath235 is optimal",
    ", we only need to show that the stationary policy @xmath235 also attains the minimum in , i.e. , @xmath236 \\displaystyle   \\le g({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t,\\mu({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t ) ) + \\sum\\nolimits_{{\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_{t+1 } \\in { \\mathcal{x } } } p_{{\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t,{\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_{t+1 } } ( \\mu({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t ) ) h({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_{t+1 } ) .",
    "\\end{array}\\ ] ]    for every @xmath237 such that @xmath238 , there exists a corresponding system state @xmath239 that occurs with equal probability under the policy @xmath235 .",
    "the system state @xmath240 is the same as @xmath241 except that @xmath242 and @xmath243 . for every system state @xmath237 that occurs with positive probability under the policy @xmath231",
    ", we will show that @xmath244 which implies the result in .    for every system state @xmath237 that occurs with positive probability under the policy @xmath231 ,",
    "since the state space is finite , there exists a policy @xmath245 that attains the minimum on the right hand side of for the state @xmath199 . for the policy @xmath246 ( a non - stationary policy that agrees with the stationary policy @xmath231 from stage @xmath99 through @xmath3 ) , consider its interchanging policy @xmath247 with respect to vehicles @xmath2 and @xmath80 of state @xmath42 ( cf .",
    "definition [ def : update ] ) . in the proof of theorem [ prop : update",
    "] , we have shown that compared to the original policy @xmath59 , the interchanging policy @xmath96 can not increase the total cost realized on any trajectory ( from stage @xmath3 through stage @xmath129 ) . ] that would occur with positive probability ( cf .",
    "it follows that @xmath248 \\displaystyle \\le g({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t , \\mu({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t ) ) + g({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_{t+1 } , \\nu_{t+1}({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_{t+1 } ) ) + { \\ensuremath{\\mathbb{e}}}_{\\pi}\\left\\ { { \\sum\\nolimits_{k = t+2}^{t+w } { g ( { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_k , \\nu_k ( { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_k ) ) } } \\right\\ } , \\end{array}\\ ] ] where the expectations are over future system states from stage @xmath249 through @xmath129 induced by the policy @xmath96 and @xmath59 , respectively . for stages",
    "@xmath113 , since at least one vehicle ( @xmath2 or @xmath80 ) is at a charging facility , the special system state is defined prior to eq . . ]",
    "is not reached , and therefore @xmath250 for any action @xmath251 .",
    "after stage @xmath129 , the two policies @xmath59 and @xmath96 result in the same expected cost .",
    "we therefore have @xmath252   \\displaystyle \\le g({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t,\\bar \\mu({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t))+\\tilde g(\\bar { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_{t+1},\\bar \\nu_{t+1}({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_{t+1 } ) )    + \\mathop { \\limsup } \\limits_{t \\to \\infty } { \\ensuremath{\\mathbb{e}}}_{\\bar \\pi}\\left\\ { { \\sum\\nolimits_{k = t+2}^{t+t } ( { \\tilde g(\\bar { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_k , \\bar \\nu_k(\\bar { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_k ) ) } - \\lambda ) } \\right\\}\\\\[9pt ]   \\displaystyle \\le g({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t,\\mu({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t ) ) + \\tilde g({{\\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_{t+1 } , \\nu_{t+1}({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_{t+1 } ) )    + \\mathop { \\limsup } \\limits_{t \\to \\infty } { \\ensuremath{\\mathbb{e}}}_{\\pi}\\left\\ { { \\sum\\nolimits_{k = t+2}^{t+t } ( { \\tilde g ( { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_k ,   \\nu_k(\\bar { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_k ) ) } - \\lambda ) } \\right\\}\\\\[9pt ]   \\displaystyle = g({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t,\\mu({\\ensuremath{\\boldsymbol{\\mathrm{x}}}}_t))+h ( { { \\ensuremath{\\boldsymbol{\\mathrm{x}}}}}_{t+1 } ) + \\lambda ,   \\end{array}\\ ] ] where the first inequality follows from the definition of @xmath253 in , the second inequality follows from , and the last equality is true because the policy @xmath246 attains the minimum on the right hand side of with an initial state @xmath199 .    we have shown the inequality in holds for for every @xmath237 such that @xmath254 .",
    "it follows from that the stationary policy @xmath235 attains the minimum in , and is therefore optimal .",
    "since the state space is finite , by repeating this interchange argument for finitely many times , we can construct an optimal stationary policy that follows the lllp principle at all system states .",
    "m. c. caramanis and j. m. foster , `` coupling of day ahead and real - time power markets for energy and reserves incorporating local distribution network costs and congestion , '' in _ proc . of ieee allerton annual conference _ , illinois , usa , 2010 .",
    "k. clement - nyns , e. haesen , and j. driesen , `` the impact of charging plug - in hybrid electric vehicles on a residential distribution grid , '' _ ieee trans .",
    "power systems _ , vol .",
    "1 , pp . 371 - 380 , 2010 .            c. goebel and d. s. callaway , `` using ict - controlled plug - in electric vehicles to supply grid regulation in california at different renewable integration levels , '' _ ieee trans . on smart grid _",
    "729 - 740 , 2013 .",
    "q. huang , q. s. jia , z. qiu , x. guan , and g. deconinck , `` matching ev charging load with uncertain wind : a simulation - based policy improvement approach , '' _ ieee trans . on smart grid _ , vol . 6 , no .",
    "1425 - 1433 , 2015 .",
    "e. l. karfopoulos , and n. d. hatziargyriou , `` a multi - agent system for controlled charging of a large population of electric vehicles , '' _ ieee transactions on power systems _ , vol .",
    "28 , no.2 , pp .",
    "1196 - 1204 , 2013 .",
    "s. j. moura , h. k. fathy , d. s. callaway , and j. l. stein , `` a stochastic optimal control approach for power management in plug - in hybrid electric vehicles , '' _ ieee trans .",
    "control system technology _ , vol .",
    "545 - 555 , 2011 .",
    "a. subramanian , m. garcia , a. domnguez - garca , d. callaway , k. poolla , and p. varaiya , `` real - time scheduling of deferrable electric loads , '' in _ proc .",
    "of 2012 american control conference _ ,",
    "montreal , canada , 2012 ."
  ],
  "abstract_text": [
    "<S> we consider the scheduling of multiple tasks with pre - determined deadlines under random processing cost . </S>",
    "<S> this problem is motivated by the potential of large scale adoption of plug - in ( hybrid ) electric vehicles ( phevs ) in the near future . </S>",
    "<S> the charging requests of phevs usually have deadline constraints , and the electricity cost associated with phev charging is usually random due to the uncertainty in both system load and renewable generation . </S>",
    "<S> we seek to properly schedule the battery charging of multiple phevs so as to minimize the overall cost , which is derived from the total charging cost and the penalty for not completing charging before requested deadlines . through a dynamic programming formulation , </S>",
    "<S> we establish the less laxity and longer remaining processing time ( lllp ) principle that improves any charging policy on a sample - path basis , when the non - completion penalty is a convex function of the additional time needed to fulfill the uncompleted request . </S>",
    "<S> specifically , the lllp principle states that priority should be given to vehicles that have less laxity and longer remaining processing times . </S>",
    "<S> numerical results demonstrate that heuristic policies that violate the lllp principle , for example , the earliest deadline first ( edf ) policy , can result in significant performance loss </S>",
    "<S> .    plug - in hybrid electric vehicle , dynamic programming , demand response , deadline scheduling </S>"
  ]
}