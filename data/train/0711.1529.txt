{
  "article_text": [
    "algebraic set theory provides a general framework for the study of category - theoretic models of set theories  @xcite .",
    "the fundamental objects of interest are pairs @xmath0 consisting of a category  @xmath1 equipped with a distinguished family of maps @xmath2 , whose elements are referred to as small maps .",
    "the category  @xmath1 is thought of as a category of classes , and @xmath2 as the family of functions between classes whose fibers are sets .",
    "the research in the area has been following two general directions : the first is concerned with isolating axioms for the pair @xmath3 that guarantee the existence in @xmath1 of a model for a given set theory ; the second is concerned with the study of constructions , such as that of internal sheaves , that allow us to obtain new pairs @xmath0 from given ones , in analogy with the existing development of topos theory  ( * ? ? ?",
    "* chapter  5 ) .",
    "the combination of these developments is intented to give general methods that subsume the known techniques to define sheaf and realizability models for classical , intuitionistic , and constructive set theories  @xcite .",
    "our aim here is to contribute to the study of the construction of internal sheaves in algebraic set theory .",
    "the starting point of our development is the notion of a lawvere - tierney coverage .",
    "if our ambient category @xmath1 were an elementary topos , lawvere - tierney coverages would be in bijective correspondence with lawvere - tierney local operators on the subobject classifier of the topos .",
    "however , since @xmath1 is assumed here to be only a heyting pretopos , we work with the more general lawvere - tierney coverages . as we will see , when @xmath1 is a category of internal presheaves , these correspond bijectively to the grothendieck coverages considered in  @xcite .",
    "therefore , our development gives as a special case a treatment of the construction of internal sheaves relative to those grothendieck sites , extending the results in  @xcite .",
    "given a lawvere - tierney coverage , we can define an associated universal closure operator on the subobjects of @xmath1 . while in the topos - theoretic context this step is essentially straightforward",
    ", within our setting it requires an application of the collection axiom for small maps .",
    "once a closure operation is defined , we can define the notion of internal sheaf as in the standard topos - theoretic context .",
    "our main result asserts that the category of internal sheaves for a lawvere - tierney coverage is a heyting pretopos and that it can be equipped with a family of small maps satisfying the same axioms that we assumed on the small maps @xmath2 in the ambient category @xmath1 .",
    "the first part of this result involves the definition of an associated sheaf functor , a finite - limit preserving left adjoint to the inclusion of sheaves into @xmath1 .",
    "even if our proof follows the spirit of the topos - theoretic argument due to lawvere  @xcite , there are two main differences .",
    "first , since the argument involves the construction of power - objects , which in our setting classify indexed families of small subobjects , our proof requires a preliminary analysis of locally small maps , which form the family of small maps between sheaves .",
    "we will apply this analysis also to prove the second part of our main result , which involves the verification that locally small maps between sheaves satisfy the axioms for a family of small maps .",
    "secondly , we need to avoid using exponentials , since we do not assume them as part of the structure for the ambient category  @xmath1 .    in recent years",
    ", there has been substantial work devoted to isolating axioms on  @xmath0 that provide a basic setting for both directions of research mentioned above .",
    "let us briefly consider two such possible settings .",
    "the first , to which we shall refer as the exact setting , involves assuming that  @xmath1 is a heyting pretopos , and that  @xmath2 satisfies a a weakening of the axioms for small maps introduced in  @xcite .",
    "the second , to which we shall refer as the  bounded exact setting , involves assuming that @xmath1 is a heyting category , that @xmath2 satisfies not only the axioms for small maps of the exact setting , but also the axiom asserting that for every object @xmath4 , the diagonal @xmath5 is a small map , that universal quantification along small maps preserves smallness of monomorphisms , and finally that @xmath1 has quotients of bounded equivalence relations , that is to say equivalence relations given by small monomorphisms  @xcite .",
    "categories of ideals provide examples of the bounded exact setting  @xcite .",
    "the exact completion and the bounded exact completion of syntactic categories of classes arising from constructive set theories provide other examples of the exact setting and of the bounded exact setting , respectively  ( * ? ? ?",
    "* proposition 2.10 ) . neither setting is included in the other , and they are somehow incompatible . indeed ,",
    "if we wish to avoid the assumption that every equivalence relation is given by a small monomorphism , which is necessary to include constructive set theories  @xcite within the general development , it is not possible to assume both that @xmath1 is exact and that every object has a small diagonal .",
    "each setting has specific advantages . on the one hand ,",
    "the assumption of exactness of @xmath1 is useful to define an internal version of the associated sheaf functor  @xcite . on the other hand , the assumption that diagonals are small has been applied in the coalgebra construction for cartesian comonads  @xcite and to establish results on @xmath6-types  ( * ? ? ?",
    "* proposition  6.16 ) .",
    "the choice of developing our theory within the exact setting is motivated by the desire for the theory to be appropriately general .",
    "even for the special case of grothendieck sites , the assumption that the ambient category is exact seems to be essential in order to define the associated sheaf functor without additional assumptions on the site  @xcite . in the bounded exact",
    "setting , benno van den berg and ieke moerdijk have recently announced a result concerning internal sheaves on a site  ( * ? ? ?",
    "* theorem 6.1 ) , building on previous work of ieke moerdijk and erik palmgren  @xcite and benno van den berg  @xcite . apart from the axioms for small maps that are part of the bounded exact setting , this result assumes a further axiom for small maps , the exponentiation axiom , and the additional hypothesis that the grothendieck site has a basis .",
    "we prefer to avoid these assumptions since , for reasons of proof - theoretic strength , the grothendieck site that provides a category - theoretic version of the double - negation translation can not be shown to have a basis within categories of classes arising from constructive set theories  @xcite .",
    "we begin by stating precisely the axioms for small maps that we are going to work with . as in  @xcite , we assume that @xmath1 is a heyting pretopos , and that  @xmath2 is a family of maps in  @xmath1 satisfying the axioms ( a1)-(a7 ) stated below .    1",
    ".   the family @xmath7 contains isomorphisms and is closed under composition .",
    "2 .   for every pullback square of the form @xmath8^{k } \\ar[d]_{g } &",
    "x \\ar[d]^{f } \\\\ b \\ar[r]_{h } & a } \\ ] ] if @xmath9 is in @xmath7 , then so is @xmath10 .",
    "3 .   for every pullback square as ( [ equ : pb ] ) ,",
    "if @xmath11 is an epimorphism and @xmath12 is in @xmath7 , then @xmath9 is in @xmath7 .",
    "4 .   the maps @xmath13 and @xmath14 are in @xmath7 .",
    "if @xmath9 and @xmath10 are in @xmath7 , then @xmath15 is in @xmath7 .",
    "6 .   for every commutative triangle of the form @xmath16^{h } \\ar[dr]_{f } &     & y \\ar[dl]^{g } \\\\                       & a   &   } \\ ] ] where @xmath17 is an epimorphism , if @xmath9 is in @xmath7 , then @xmath18 is in @xmath7",
    ". 7 .   for map @xmath9 in @xmath2 and every epimorphism @xmath19",
    ", there exists a quasi - pullback diagram of the form @xmath20 \\ar[d]_{g } & p \\ar@{->>}[r]^{p } & x \\ar[d]^{f } \\\\ b \\ar@{->>}[rr]_{h } & & a } \\ ] ] where @xmath10 is in @xmath7 and @xmath21 is an epimorphism .",
    "we refer to  ( a2 ) as the pullback stability axiom , to  ( a3 ) as the descent axiom , to  ( a6 ) as the quotients axiom , to  ( a7 ) as the collection axiom .",
    "our basic axiomatisation of small maps involves one more axiom . in order to state it ,",
    "we need some terminology . given a family of maps @xmath2 satisfying ( a1)-(a7 ) , an @xmath2-object is an object  @xmath22 such that the unique map @xmath23 is in @xmath2 . for a fixed object @xmath24 ,",
    "an @xmath25-indexed family of @xmath2-subobjects is a subobject @xmath26 such that its composite with the first projection @xmath27 is in @xmath2 .",
    "we abbreviate this by saying that the diagram @xmath28 is an indexed family of  @xmath2-subobjects .",
    "recall that , writing @xmath29 for the evident indexed family of subobjects consisting of the graph of a map @xmath9 , it holds that  @xmath30 is in @xmath2 if and only if @xmath31 is an indexed family of @xmath2-subobjects .",
    "axiom ( p1 ) , stated below , expresses that indexed families of @xmath2-subobjects can be classified .    1 .   for each object @xmath22 of @xmath1",
    "there exists an object @xmath32 of @xmath1 , called the power object of @xmath22 , and an indexed family of @xmath2-subobjects of @xmath22 @xmath33 called the membership relation on  @xmath22 , such that for any indexed family of @xmath2-subobjects @xmath28 of @xmath22 , there exists a unique map @xmath34 fitting in a double pullback diagram of the form @xmath35 \\ar@ { > ->}[d ] & \\ni_x \\ar@ { > ->}[d ] \\\\ a \\times x \\ar[r ] \\ar[d ] & { \\mathcal{p}}(x ) \\times x \\ar[d ] \\\\ a \\ar[r]_{\\chi_s } & { \\mathcal{p}}(x ) \\ , . } \\ ] ]    writing @xmath36 for the lattice of @xmath25-indexed families of @xmath2-subobjects of @xmath22 , axiom ( p1 ) can be expressed equivalently by saying that for every map @xmath37 , the functions @xmath38 defined by pulling back @xmath39 , are a family of bijections , natural in  @xmath25 . in the following ,",
    "we often omit the subscript in the membership relation .",
    "our basic axiomatisation of small maps involves only axioms ( a1)-(a7 ) and ( p1 ) .",
    "therefore , when we speak of a family of small maps without further specification , we mean a family @xmath2 satisfying axioms ( a1)-(a7 ) and ( p1 ) . in this case , elements of @xmath2 will be referred to as small maps , and we speak of small objects and indexed families of small subobjects rather than @xmath2-objects and indexed families of @xmath2-subobjects , respectively .",
    "one can also consider an alternative axiomatisation of small maps by requiring , in place of ( p1 ) , the axioms of exponentiability ( s1 ) and weak representability ( s2 ) , stated below .    1 .",
    "if @xmath9 is in @xmath7 , then the pullback functor @xmath40 has a right adjoint , which we write @xmath41 .",
    "2 .   there exists a map @xmath42 in @xmath7 such that every map @xmath9 in @xmath7 fits in a diagram of form @xmath43_f & y \\ar[l ] \\ar[r ] \\ar[d ] & e \\ar[d]^u \\\\   a         & b \\ar@{->>}[l]^h \\ar[r ] & u   } \\ ] ] where @xmath21 is an epimorphism , the square on the left - hand side is a quasi - pullback and the square on the right - hand side is a pullback .    the axiomatisation of small maps with ( a1)-(a7 ) and ( s1)-(s2 ) is a slight variant of the one introduced in  @xcite .",
    "the only difference concerns the formulation of the weak representability axiom , which was first introduced in  @xcite .",
    "this is a weakening of the representability axiom in  ( * ? ? ?",
    "* definition  1.1 ) .",
    "the weakening involves having a quasi - pullback rather than a genuine pullback in the left - hand side square of the diagram in  ( [ equ : rep ] ) .",
    "example  [ exa : classes ] and example  [ exa : setoid ] illustrate how the weaker form of representability in ( s2 ) is the most appropriate to consider when working within exact categories without assuming additional axioms for small maps .",
    "see  @xcite for other forms of representability . this axiomatisation is a strengthening of the one consisting of  ( a1)-(a7 ) and ( p1 ) . on the one hand",
    ", the combination of  ( s1 ) and ( s2 ) implies  ( p1 ) , since the proof in  @xcite carries over when weak representability is assumed instead of representability  @xcite .",
    "on the other hand , example  [ exa : topos ] shows that there are examples satisfying ( p1 ) but not  ( s2 ) .",
    "let us also recall that ( p1 )  implies  ( s1 ) by an argument similar to the usual construction of exponentials from power objects in a topos  ( * ? ? ?",
    "* proposition 5.17 ) .",
    "we will make extensive use of the internal language of heyting pretoposes  @xcite this is a form of many - sorted first - order intuitionistic logic which allows us to manipulate objects and maps of @xmath1 syntactically . as an illustration of the internal language ,",
    "let us recall that for any map @xmath44 , we have a direct image map  @xmath45 .",
    "assuming @xmath46 to be small , there is also an inverse image map @xmath47 , which is related to  @xmath48 by the internal adjointness expressed in the internal language as follows : @xmath49 the internal language allow us also to give a characterisation of small maps .",
    "indeed , a map @xmath50 is small if and only if the following sentence is valid : @xmath51 the sentence in  ( [ equ : logchasmall ] ) can be understood informally as expressing that the fibers of @xmath9 are small .",
    "formulation of some of the axioms for small in the internal language can be found in  @xcite .",
    "for @xmath52 and a formula  @xmath53 where @xmath54 is a free variable , we define the restricted quantifiers by letting @xmath55 for an object @xmath22 of @xmath1 , anonymous variables of sort @xmath22 are denoted as  @xmath56 . in particular , for a formula @xmath57 of the internal language , we write @xmath58 for the result of universally quantifying over a variable that does not appear in @xmath57 . similar notation is adopted also for existential quantification .",
    "we end this section with some examples of heyting pretoposes equipped with families of small maps .",
    "example  [ exa : topos ] shows that our development of internal sheaves applies to elementary toposes  ( * ? ? ? * chapter v ) , while example  [ exa : classes ] and example  [ exa : setoid ] show that it includes important examples for which the ambient category @xmath1 is not an elementary topos .",
    "note that neither example  [ exa : classes ] nor example  [ exa : setoid ] satisfies the representability axiom of  ( * ? ? ?",
    "* definition 1.1 ) , but only the weak representabily axiom , as stated in ( s2 ) above .",
    "furthermore , neither of these examples satisfies the additional axiom that every object @xmath22 of @xmath1 has a small diagonal map @xmath59 .",
    "[ exa : topos ] consider an elementary topos @xmath1 and let @xmath2 consist of all maps in @xmath1 .",
    "it is evident that the axioms ( a1)-(a7 ) and ( p1 ) are verified , while ( s2 ) is not .",
    "[ exa : classes ] consider constructive zermelo - fraenkel set theory ( @xmath60 ) , presented in  @xcite .",
    "we take @xmath61 to be the exact completion  @xcite of the corresponding category of classes  @xcite , considered as a regular category . by the general theory of exact completions ,",
    "the category @xmath1 is a heyting pretopos and the category of classes of @xmath60 embeds faithfully in it  @xcite .",
    "we write the objects of @xmath1 as @xmath62 , where @xmath22 is a class and @xmath63 is an equivalence relation on it .",
    "a map @xmath64 in @xmath1 is a relation @xmath65 that is functional and preserves the equivalence relation , in the sense made precise in  @xcite .",
    "we declare a map @xmath64 to be small if it fits into a quasi - pullback of the form @xmath20^(.43)k \\ar[d]_g & x / r_x \\ar[d]^f \\\\ b \\ar@{->>}[r]_(.43)h         & a / r_a } \\ ] ] where @xmath11 is an epimorphism and @xmath10 is a function of classes whose fibers are sets .",
    "this family satisfies the axioms ( a1)-(a7 ) and ( s1)-(s2 ) by a combination of the results on the category of classes of @xmath60 in  @xcite with those on small maps in exact completions in  ( * ? ? ?",
    "* section  4 ) .",
    "[ exa : setoid ] consider martin - lf s constructive type theory with rules for all the standard forms of dependent types and for a type universe reflecting them  @xcite .",
    "@xmath1 to be the corresponding category of setoids , which has been shown to be a heyting pretopos in  ( * ? ? ?",
    "* theorem  12.1 ) .",
    "we declare a map @xmath9 in @xmath1 to be small if it fits into a quasi - pullback of the form @xmath20^k \\ar[d]_g & x \\ar[d]^f \\\\ b \\ar@{->>}[r]_h         & a } \\ ] ] where @xmath11 is an epimorphism and @xmath10 is a map such that for every @xmath66 the setoid @xmath67 , as defined in  ( * ? ? ?",
    "* section 12 ) , is isomorphic to setoid whose carrier and equivalence relation are given by elements of the type universe .",
    "this family satisfies the axioms ( a1)-(a7 ) and ( s1)-(s2 ) by combining the results on display maps in  ( * ? ? ?",
    "* section 4 ) with those on setoids in  ( * ? ? ? * section 12 ) .",
    "let @xmath1 be a heyting pretopos equipped with a family of small maps @xmath2 satisfying axioms ( a1)-(a7 ) and ( p1 ) .",
    "we define the object of small truth values @xmath68 by letting @xmath69 . by the universal property of @xmath68",
    ", it is immediate to see that we have a global element @xmath70 . to simplify notation , for @xmath71",
    ", we write @xmath72 instead of @xmath73 .",
    "for example , this allows us to write @xmath74 instead of @xmath75 .",
    "note , then , that the monomorphism @xmath76 is the map @xmath70 . in a similar fashion",
    ", @xmath77 is equivalent to @xmath78 , for every @xmath71 and every formula  @xmath57 of the internal language .",
    "this is because @xmath78 is an abbreviation for @xmath79 .",
    "the internal language is used in definition  [ thm : ltcov ] to specify what will be our starting point to introduce a notion of sheaf .",
    "[ thm : ltcov ] let @xmath0 be a heyting pretopos with a family of small maps .",
    "a lawvere - tierney coverage in @xmath1 is a subobject @xmath80 making the following sentences valid in @xmath1    1 .",
    "@xmath81 , 2 .   @xmath82 $ ] .",
    "[ rem : lawvere - tierney ] our development of internal sheaves relative to a lawvere - tierney coverage generalises the existing theory of internal sheaves relative to a lawvere - tierney local operator in an elementary topos  @xcite . indeed ,",
    "when @xmath1 is an elementary topos and @xmath2 consists of all maps in @xmath1 , as in example  [ exa : topos ] , lawvere - tierney coverages are in bijective correspondence with lawvere - tierney local operators  ( * ? ? ?",
    "* a.4.4.1 ) .",
    "the correspondence is given by the universal property of @xmath68 , which is the subobject classifier of @xmath1 , via a pullback square of the form @xmath83 \\ar@ { > ->}[d ] & 1 \\ar[d]^{\\top } \\\\",
    "{ \\omega_{\\mathcal{s}}}\\ar[r]_{j } & { \\omega_{\\mathcal{s}}}}\\ ] ] the verification of the correspondence between the axioms for a lawvere - tierney coverage and those for a lawvere - tierney local operator is a simple calculation . since in the general",
    "the monomorphism @xmath84 may fail to be small , we focus on lawvere - tierney coverages .    from now on , we will work with a fixed lawvere - tierney coverage as in definition  [ thm : ltcov ] .",
    "our first step towards defining sheaves is to construct a universal closure operator on subobjects , that is to say a natural family of functions @xmath85 for @xmath4 , satisfying the familiar monononicity , inflationarity , and idempotency properties  ( * ? ? ?",
    "* a.4.3 ) .",
    "note that we do not need to require meet - stability , since this follows from the other properties by the assumption that the operator is natural  ( * ? ? ?",
    "* lemma a.4.3.3 ) .",
    "naturality of the operator means that for @xmath46 , the diagram below commutes @xmath86^{{\\mathbf{c}}_y } \\ar[d]_{f^ * } & & { \\operatorname{sub}_{}}(y ) \\ar[d]^{f^ * } \\\\ { \\operatorname{sub}_{}}(x ) \\ar[rr]_{{\\mathbf{c}}_x }         & & { \\operatorname{sub}_{}}(x ) } \\ ] ] we define the universal closure operator associated to the lawvere - tierney coverage by letting , for @xmath87 @xmath88    [ thm : uniclos ] the family @xmath89 , for @xmath4 , associated to a lawvere - tierney operator is a universal closure operator .",
    "first , we verify that the operator is natural .",
    "this is immediate , since for a subobject @xmath90 we have @xmath91 for inflationarity , let @xmath87 , @xmath54 and assume that @xmath92 holds . then",
    ", define @xmath71 by letting @xmath93 .",
    "we have that @xmath94 holds by ( c1 ) , and that @xmath95 holds by assumption .",
    "monotonicity is immediate by the definition in  ( [ equ : cl ] ) .",
    "idempotence is the only part that is not straightforward , since it makes use of the collection axiom for small maps . for @xmath87 ,",
    "we need to show that @xmath96 .",
    "let @xmath54 and assume that there exists @xmath71 such that @xmath94 and @xmath97 hold .",
    "for @xmath98 and @xmath99 , let us define @xmath100 by the definition in  ( [ equ : cl ] ) , @xmath97 implies @xmath101 we can apply collection and derive the existence of @xmath102 such that @xmath103 define @xmath104 by @xmath105 .",
    "we wish to show that @xmath106 and @xmath107 hold , which will allow us to conclude @xmath108 , as required . to prove that @xmath106 holds",
    ", we observe that @xmath109 therefore @xmath110 .",
    "since we have @xmath94 by hypothesis , axiom  ( c2 ) for a lawvere - tierney coverage allows to derive @xmath106 , as required . by definition of @xmath104",
    ", we note that @xmath111 holds if and only if for every @xmath112 we have @xmath113 .",
    "but since @xmath112 implies @xmath113 , we obtain @xmath107 , as desired .",
    "let us point out that the proof of proposition  [ thm : uniclos ] makes use of the collection axiom for small maps .",
    "this is analogous to the application of the type - theoretic collection axiom in  ( * ? ? ?",
    "* lemma 5.4 ) .",
    "[ thm : closvscov ] given a universal closure operator on @xmath1 , it is possible to define a lawvere - tierney coverage @xmath80 by taking @xmath114 to be the closure of the subobject @xmath115 . the closure operator induced by @xmath114 coincides with the given one if and only if the latter satisfies the equation in  ( [ equ : cl ] ) .",
    "therefore , we are considering here only a special class of universal closure operators . restricting to this special class",
    "allows us to develop a treatment of sheaves without assuming additional axioms for small maps , such as that asserting that every monomorphism is small .",
    "focusing on the class of universal closure operations determined by lawvere - tierney coverages captures an appropriate level of generality .",
    "first , as we will see below , they correspond precisely to the grothendieck sites considered in  @xcite . secondly , as we will see in section  [ sec : asssft ] and section  [ sec : smams ] , they allow us to develop the construction of internal sheaves .",
    "for an example of a universal closure operator that does not seem to satisfy the equation in  ( [ equ : cl ] ) , consider the double - negation universal closure operator , defined by mapping a subobject @xmath87 into the subobject @xmath116 .",
    "the induced lawvere - tierney coverage is given by @xmath117 .",
    "without the assumption of further axioms for small maps , the universal closure operator associated to this lawvere - tierney coverage may be different from the double - negation closure operator . within our setting , therefore , the category - theoretic counterpart of the double - negation translation has to be developed by working with the universal closure operator associated to the lawvere - tierney coverage @xmath118",
    ".    we shall be particularly interested in the closure of the membership relation @xmath119 , which we are going to write as @xmath120 for @xmath54 and @xmath52 , the definition in  ( [ equ : cl ] ) implies @xmath121    having defined a universal closure operator on @xmath1 , we can define a notion of sheaf and introduce the family of maps that we will consider as small maps between sheaves . in order to do this ,",
    "we define a monomorphism @xmath122 to be _ dense _ if it holds that @xmath123 .",
    "[ thm : ltsheaf ] an object @xmath22 of @xmath1 is said to be a separated if for every dense monomorphism @xmath122 the function @xmath124 induced by composition with @xmath125 , is injective .",
    "equivalently , @xmath22 is a separated if and only if for every map @xmath126 there exists at most one extension @xmath127 making the following diagram commute @xmath128^(.45){v } \\ar@ { > ->}[d]_{m } & x \\\\ a \\ar@/_/[ur]_{u } & } \\ ] ] we say that @xmath22 is a sheaf if the function in  ( [ equ : shemap ] ) is bijective .",
    "equivalently ,  @xmath22 is a sheaf if and only if every map @xmath126 has a unique extension @xmath127 as in  ( [ equ : diagshe ] ) .",
    "definition  [ thm : jsmall ] defines what it means for a map in @xmath1 to be locally small .",
    "as explained further in section  [ sec : class ] , the idea underlying this notion is that a map is locally small if and only if each of its fibers contains a small dense subobject . by their very definition ,",
    "locally small maps are stable under pullback , since the properties of the defining diagrams all are .",
    "[ thm : jsmall ] a map @xmath9 in @xmath1 is said to be _ locally small _ if its graph @xmath129 fits in a diagram of the form @xmath130 \\ar@ { > ->}[d ] & x \\ar@ { > ->}[d ] \\\\",
    "b \\times x \\ar[r ] \\ar[d]_{\\pi_b } & a \\times x \\ar[d]^{\\pi_a } \\\\",
    "b \\ar@{->>}[r]_h & a } \\ ] ] where @xmath21 is an epimorphism , @xmath131 is an indexed family of small subobjects of @xmath22 , and the canonical monomorphism @xmath132 is dense .",
    "an indexed family of subobjects @xmath133 is said to be an indexed family of locally small subobjects if the composite map @xmath134 is locally small .",
    "we write @xmath135 for the full subcategory of @xmath1 whose objects are sheaves , and  @xmath136 for the family of locally small maps in @xmath135 . the aim of the remainder of the paper is to prove the following result . as fixed in section  [ sec : asthp ] , a family of small maps is required to satisfy only axioms  ( a1)-(a7 ) and ( p1 ) .",
    "[ thm : main ] let @xmath137 be a heyting pretopos with a family of small maps . for every lawvere - tierney coverage @xmath114 in @xmath1 , @xmath138 is a heyting pretopos equipped with a family of small maps .",
    "furthermore , if @xmath2 satisfies the exponentiability and weak representability axioms , so does @xmath136 .",
    "theorem  [ thm : main ] concerns only the axioms for small maps discussed in section  [ sec : asthp ] . to obtain sheaf models for constructive , intuitionistic , and classical set theories ,",
    "it is necessary to consider additional axioms for small maps in  @xmath1 and show that they are preserved by the construction of internal sheaves .",
    "we expect that the preservation of some axioms for small maps by the construction of internal sheaves requires the assumption of additional conditions on the lawvere - tierney coverage .",
    "we leave the treatment of these issues to future research .",
    "let us point out that our preference for assuming the weak representability axiom of  @xcite rather than the representability axiom of  @xcite is due to the fact that it does not seem possible to prove that the latter is preserved by our construction without the assumption of additional axioms for small maps .    before developing the theory required to prove theorem  [ thm : main ] , we explain how this result subsumes the treatment of sheaves for a grothendieck site .",
    "let @xmath139 be a small internal category in @xmath1 .",
    "smallness of @xmath139 means that both its objects @xmath140 and its arrows @xmath141 are given by small objects in @xmath1 .",
    "we write category @xmath142 of internal presheaves over  @xmath139 .",
    "it is well - known that @xmath142 is a heyting pretopos .",
    "when @xmath140 and @xmath141 have small diagonals , so that both the equality of objects and that of arrows is given by a small monomorphism , it is possible to equip @xmath142 with a family of small maps , consisting of the internal natural transformations that are pointwise small maps in @xmath1  @xcite .",
    "lawvere - tierney coverages in @xmath142 are in bijective correspondence with grothendieck coverages with small covers on @xmath139 , as defined in  @xcite .",
    "to explain this correspondence , we need to recall some terminology and notation .",
    "a sieve  @xmath143 on @xmath144 is a subobject @xmath145 , where we write @xmath146 for the yoneda embedding of @xmath147 .",
    "such a sieve can be identified with a family of arrows with codomain @xmath147 that is closed under composition , in the sense that for every pair of composable maps @xmath148 and @xmath149 in @xmath139 , @xmath150 implies @xmath151 . for a sieve @xmath143 on @xmath147 and arrow @xmath148",
    ", we write @xmath152 for the sieve on @xmath153 defined by letting @xmath154 recall from  @xcite that a grothendieck coverage with small covers on @xmath139 consists of a family @xmath155 such that elements of @xmath156 are small sieves , and the conditions of maximality ( m ) , local character ( l ) , and transitivity ( t ) hold :    1 .",
    "2 .   if @xmath148 and @xmath158 , then @xmath159 .",
    "3 .   if @xmath158 , @xmath160 is a small sieve on @xmath147 , and for all @xmath161 we have @xmath162 , then @xmath163 .",
    "the object @xmath68 in @xmath142 is given by @xmath164 . condition ( l ) means that this family is a subpresheaf of @xmath68 , while conditions ( m ) and ( t ) for a grothendieck coverage are the rewriting of conditions ( c1 ) and ( c2 ) for a lawvere - tierney coverage . by instanciating the general notion of definition  [ thm : ltsheaf ]",
    "we obtain a notion of sheaf , which can be shown to be equivalent to the familiar notion of a sheaf for a grothendieck coverage , and a notion of small map .",
    "writing @xmath165 for the category of internal sheaves , and @xmath166 for the corresponding family of small maps , theorem  [ thm : main ] implies the following result .",
    "[ thm : cormain ] let @xmath0 be a heyting pretopos with a family of small maps .",
    "let @xmath167 be a small category with small diagonals equipped with a grothendieck coverage with small covers .",
    "then @xmath168 is a heyting pretopos with a family of small maps .",
    "furthermore , if @xmath2 satisfies the exponentiability and weak representability axioms , so does @xmath136 .",
    "we conclude the section by explaining in more detail how corollary  [ thm : cormain ] relates to similar results in the existing literature .",
    "first , it extends the main result of  @xcite by considering the preservation not only of the structure of a heying pretopos , but also of the axioms for small maps .",
    "corollary  [ thm : cormain ] neither implies nor is implied by the corresponding results in  @xcite .",
    "this is because the axiomatisation of small maps considered here is rather different to the one considered in  @xcite .",
    "the axiomatisation in  @xcite takes as motivating example a class of small maps within the category of setoids that is different from the one considered here .",
    "furthermore , locally small maps and pointwise small maps between sheaves coincide in  @xcite , while they do not here .",
    "finally , the result on construction of internal sheaves announced in  @xcite , which considers the preservation of axioms for small maps that we do not study here , involves additional assumption on the grothendieck sites , which are not part of the hypotheses of corollary  [ thm : cormain ] .",
    "we begin by characterising locally small maps in the internal language , analogously to how small maps are characterised in  ( [ equ : logchasmall ] ) . for each object @xmath22 , define an equivalence relation @xmath169 by letting @xmath170 informally , @xmath171 holds whenever @xmath172 and @xmath173 have the same closure . using the exactness of the heyting pretopos @xmath1 , we define @xmath174 as the quotient of @xmath32 by @xmath175 , fitting into an exact diagram of the form @xmath176^(.42){\\pi_1 } \\ar@<-0.75ex>[r]_(.42){\\pi_2 } &   { \\mathcal{p}}(x ) \\ar@{->>}[r]^(.44){[\\ ; \\cdot \\ ; ] } &   { \\mathcal{p}_{j_{}}}(x ) \\ , . } \\ ] ] the quotient map @xmath177 is to be interpreted as performing the closure of a small subobject of @xmath22 .",
    "the exactness of the heyting pretopos @xmath1 is exploited here in a crucial way to define @xmath174 . in particular , without further assumptions on the lawvere - tierney coverage , the equivalence relation in  ( [ equ : relequ ] ) can not be shown to be given by a small monomorphism .",
    "we define a new indexed family of subobjects of @xmath22 , @xmath178 , by letting , for @xmath54 and @xmath179 , @xmath180 \\land x { \\ , \\overline{\\in } _ { } \\,}s \\big ) \\ , .\\ ] ] in particular , for @xmath181 and @xmath182 , this gives @xmath183   { \\leftrightarrow}x { \\ , \\overline{\\in } _ { } \\,}s$ ] , which is to say that the following squares are pullbacks @xmath184 \\ar@ { > ->}[d ] & { \\ , \\ni_j \\ , } \\ar@ { > ->}[d ] \\\\",
    "{ \\mathcal{p}}(x ) \\times x \\ar[r ] \\ar[d ] & { \\mathcal{p}_{j_{}}}(x ) \\times x \\ar[d ] \\\\ { \\mathcal{p}}(x ) \\ar[r]_{[\\ , \\cdot \\ , ] } & { \\mathcal{p}_{j_{}}}(x ) } \\ ] ] this definition of @xmath185 and of the relation @xmath175 imply that @xmath174 satisfies a form of extensionality , in the sense that for @xmath186 it holds that @xmath187 from diagram ( [ equ : pbpj ] ) , we also see that @xmath185 is closed in @xmath188 , since it is closed when pulled back along an epimorphism . given a map @xmath9 , it is convenient to define , for @xmath189 , @xmath52 , @xmath190 \\ , .\\ ] ]    [ thm : logjsmall ] a map @xmath9 is locally small if and only if the following sentence is valid : @xmath191    first , let us assume that @xmath9 is locally small . by definition  [ thm : jsmall ] there is a diagram @xmath130 \\ar@ { > ->}[d ] & x \\ar@ { > ->}[d ] \\\\ b \\times x \\ar[r ] \\ar[d ] & a \\times x \\ar[d ] \\\\ b \\ar@{->>}[r]_h & a } \\ ] ] where @xmath131 is an indexed family of small subobjects of @xmath22 , @xmath21 is an epimorphism , and the monomorphism @xmath132 is dense .",
    "there is a classifying map @xmath192 such that @xmath193 , and the commutativity of the diagram implies @xmath194 while the density of @xmath132 implies @xmath195 given @xmath189 , there exists @xmath196 such that @xmath197 and so , defining @xmath198 , we obtain the data required to prove the statement . for the converse implication , assume  ( [ equ : logsmall ] ) .",
    "we define @xmath199 and @xmath200 we have that @xmath131 is small by construction and that the projection @xmath11 is an epimorphism by hypothesis . since @xmath201 we have that @xmath132 is dense by the definition of @xmath202 .",
    "we could have considered maps @xmath203 satisfying the condition @xmath204 this amounts to saying that each fiber of @xmath30 is the closure of a small subobject .",
    "let us call such maps closed - small . for maps with codomain a separtated object , and so for maps with codomain a sheaf ,",
    "these definitions coincide , so either would give our desired class of small maps on @xmath135 .",
    "however , considered on the whole of @xmath1 , they generally give different classes of maps , each retaining different properties .",
    "for instance , closed - small subobjects of @xmath22 are classified by @xmath174 , while locally small subobjects may not be classified . on the other hand , locally small maps satisfy axioms ( a1)-(a7 ) in @xmath1 , whereas the closed - small maps may not , since the identity map on a non - separated object will not be closed - small .",
    "thus , the choice of either as the extension of local smallness from @xmath135 to @xmath1 is a matter of convenience .",
    "we conclude this section by showing how locally small closed subobjects can be classified .",
    "this is needed in section  [ sec : peejay - and - asf ] for the proof of the associated sheaf functor theorem .",
    "[ thm : usefullemma ] an indexed family of subobjects @xmath28 is an indexed family of locally small subobjects if and only if there exists a diagram of the form @xmath130 \\ar@ { > ->}[d ] & s \\ar@ { > ->}[d ] \\\\",
    "b \\times x \\ar[r ] \\ar[d]_{\\pi_b } & a \\times x \\ar[d]^{\\pi_a } \\\\",
    "b \\ar@{->>}[r]_h & a } \\ ] ] where @xmath21 is an epimorphism , @xmath205 is an indexed family of small subobjects of @xmath22 , and the canonical monomorphism @xmath206 is dense .",
    "assume @xmath28 to be an indexed family of locally small subobjects .",
    "by definition  [ thm : jsmall ] , this means that the composite @xmath134 is a locally small map , which in turn implies that there exists a diagram of the form @xmath207 \\ar@ { > ->}[d ] & s \\ar@ { > ->}[d ] \\\\ b \\times s \\ar[r ] \\ar[d]_{\\pi_b } & a \\times s \\ar[d]^{\\pi_a } \\\\ b \\ar@{->>}[r]_h & a } \\ ] ] where @xmath21 is an epimorphism , @xmath208 is an indexed family of small subobjects of @xmath209 , and the canonical monomorphism @xmath206 is dense .",
    "the composite @xmath210   & b \\times s \\ar@ { > ->}[r ] & b \\times a \\times x \\ar[r ]   & b \\times x } \\ ] ] can be shown to be a monomorphism using the commutativity of the diagram in  ( [ equ : diaggg ] ) .",
    "we obtain an indexed family of small subobjects @xmath211 , which clearly satisfies the required property .",
    "observe that @xmath212 is a family of locally small subobjects of @xmath22 , as witnessed by the diagram @xmath213 \\ar@ { > ->}[d ] & { \\ , \\ni_j \\ , } \\ar@ { > ->}[d ] \\\\ { \\mathcal{p}}(x ) \\times x \\ar[r ] \\ar[d ] & { \\mathcal{p}_{j_{}}}(x ) \\times x \\ar[d ] \\\\ { \\mathcal{p}}(x ) \\ar@{->>}[r]_{[\\ , \\cdot \\ , ] } & { \\mathcal{p}_{j_{}}}(x ) } \\ ] ] the pullback of @xmath214 along a map  @xmath215 is therefore an @xmath25-indexed family of locally small closed subobjects of @xmath22 .",
    "we write @xmath216 for the lattice of such subobjects .",
    "[ what - peejay - classifies ] for every object @xmath22 , the object @xmath174 classifies indexed families of locally small closed subobjects of @xmath22 , which is to say that for every such family @xmath28 there exists a unique map @xmath217 such that both squares in the diagram @xmath218 \\ar@ { > ->}[d ] & & { \\ , \\ni_j \\ , } \\ar@ { > ->}[d ] \\\\ a \\times x \\ar[rr]^(.45){\\phi_s \\times 1_x } \\ar[d]_{\\pi_a } & & { \\mathcal{p}_{j_{}}}(x )   \\times x \\ar[d]^{\\pi_{{\\mathcal{p}_{j_{}}}(x ) } } \\\\ a \\ar[rr]_{\\phi_s } & & { \\mathcal{p}_{j_{}}}(x ) } \\ ] ] are pullbacks .",
    "equivalently , the functions @xmath219 given by pulling back @xmath220 are a family of bijections , natural in @xmath25 .",
    "let an indexed family as in the statement be given , together with data as in lemma  [ thm : usefullemma ] . by the universal property of @xmath32 , we get a classifying map @xmath221 . using the naturality of the closure operation",
    ", we obtain @xmath222 where the last equality is a consequence of the density of @xmath160 in @xmath223 .",
    "therefore , we have a sequence of pullbacks of the form @xmath224 & { \\ , \\overline{\\ni } _ { } \\,}\\ar[l ] \\ar@ { > ->}[d ] & b \\times_a s \\ar[r ] \\ar[l ]   \\ar@ { > ->}[d ]   & s \\ar@ { > ->}[d ] \\\\ { \\mathcal{p}_{j_{}}}(x ) \\times x \\ar[d ] & { \\mathcal{p}}(x ) \\times x   \\ar[l ] \\ar[d ] &   b \\times x \\ar[r ]   \\ar[l ] \\ar[d ] & a \\times x \\ar[d ] \\\\ { \\mathcal{p}_{j_{}}}(x ) & { \\mathcal{p}}(x ) \\ar@{->>}[l]^{[\\ , \\cdot \\ , ] }   & b   \\ar@{->>}[r]_h",
    "\\ar[l]^{\\chi_t } & a } \\ ] ] this , combined with the epimorphism @xmath225 , allows us to show that @xmath226 but the definition of @xmath174 as a quotient ensures that for a given @xmath189 , there is a unique @xmath179 satisfying @xmath227 for all @xmath54 . hence , by functional completeness we obtain the existence of a map @xmath217 such that @xmath228 as required .",
    "[ sec : asssft ]    we are now ready to define the associated sheaf functor @xmath229 , the left adjoint to the inclusion @xmath230 of the full subcategory of sheaves into @xmath1 . given @xmath4 , define @xmath231 to be the composite @xmath232^(.39 ) { \\ { \\ , \\cdot \\ , \\ } }   & { \\mathcal{p}}(x )   \\ar@{->>}[r]^(.45 ) { [ \\ , \\cdot \\ , ] } & { \\mathcal{p}_{j_{}}}(x ) \\ , . } \\ ] ] to define the associated sheaf functor , first factor @xmath233 as an epimorphism @xmath234 followed by a monomorphism @xmath235 .",
    "then , define @xmath236 to be the closure of the subobject @xmath237 in @xmath174 @xmath238 the unit of the adjunction @xmath239 is then defined as the composite of @xmath234 with the inclusion @xmath240 . we need to show that  @xmath236 is indeed a sheaf and that it satisfies the appropriate universal property .",
    "the proof of the former involves the verification that @xmath174 is a sheaf .",
    "this , in turn , requires further analysis of the notion of locally small map , which we carry out next .",
    "we say that a map is dense if it factors as an epimorphism followed by a dense monomorphism . for monomorphisms",
    "this definition agrees with the definition of dense monomorphism given in section  [ sec : myltsheaves ] .",
    "it is immediate to see that the pullback of a dense map is again dense , and a direct calculation shows that dense maps are closed under composition",
    ". it will be convenient to introduce some additional terminology : we refer to a commutative square of the form @xmath241 \\ar[r ] & x \\ar[d ] \\\\",
    "b \\ar[r ] & a } \\ ] ] such that the canonical map @xmath242 is dense as a _ local quasi - pullback_. note that every dense map @xmath243 fits into a local quasi - pullback of the form @xmath244^h \\ar@ { > ->}[d]_m & a \\ar[d]^{1_a } \\\\ b ' \\ar@{->>}[r]_p & a } \\ ] ] where @xmath245 and @xmath246 are respectively the dense monomorphism and the epimorphism forming the factorisation of @xmath247 .",
    "the diagram is a local quasi - pullback because the map @xmath248 is @xmath125 itself .",
    "let us also observe that if both squares in a diagram @xmath249 \\ar[d ] & y \\ar[r ] \\ar[d ] & x \\ar[d ] \\\\",
    "c \\ar[r ]         & b \\ar[r ]         & a } \\ ] ] are local quasi - pullbacks , then the whole rectangle is also a local quasi - pullback .",
    "this implies that any finite pasting of local quasi - pullbacks is again a local quasi - pullback .",
    "we establish a very useful factorisation for dense mononomorphisms .",
    "[ lemma : handy - factorisation ] every dense monomorphism @xmath250 can be factored as @xmath251^m \\ar@ { > ->}[dr]_h & & b ' \\ar@{->>}[dl]^p   \\\\              & a & } \\ ] ] where @xmath245 is a small dense monomorphism and @xmath246 is an epimorphism .",
    "let us define @xmath252 . by the definition of closure in  ( [ equ : cl ] ) and the assumption that @xmath247 is dense , the projection @xmath253 is an epimorphism . furthermore , there is a monomorphism @xmath254 defined by mapping @xmath255 into @xmath256 .",
    "diagrammatically , we have a pullback of the form @xmath244 \\ar@ { > ->}[d]_m    & 1 \\ar@ { > ->}[d]^{\\top } \\\\ b ' \\ar[r]_{\\pi_1 }   &   j   } \\ ] ] the map @xmath257 is small and dense . it is small because it is the pullback of the map @xmath70 , which is small by the definition of @xmath68 , along the inclusion @xmath80 .",
    "it is dense by the very definition of closure in  ( [ equ : cl ] ) .",
    "therefore , preservation of smallness and density along pullbacks implies that @xmath254 is small and dense , as required .",
    "lemma  [ lemma : handy - factorisation ] exploits in a crucial way the fact that the closure operation , and hence the notion of density , are determined by a lawvere - tierney coverage .",
    "indeed , it does not seem possible to prove an analogue of its statement for arbitary closure operations without assuming further axioms for small maps .",
    "[ j - small - as - j - q - pb ] a map @xmath203 is locally small if and only if it fits into a local quasi - pullback square of the form @xmath258^k \\ar[d]_g & x \\ar[d]^{f } \\\\ b \\ar@{->>}[r]_h         & a } \\ ] ] where @xmath21 is an epimorphism and @xmath10 is small .    assuming that @xmath203 is locally small , the required diagram is already given by definition  [ thm : jsmall ] . for the converse implication ,",
    "consider a diagram as in  ( [ equ : givendiag ] ) .",
    "consider the factorisation of the canonical map @xmath242 as an epimorphism followed by a monomorphism , say @xmath259 .",
    "we have a diagram of form @xmath260 \\ar@ { > ->}[d ] & t \\ar@ { > ->}[d ] \\ar[r ] & x \\ar@ { > ->}[d ] \\\\",
    "b \\times y \\ar[r ] \\ar[d]_{\\pi_b } & b \\times x \\ar[d]^{\\pi_b } \\ar[d ] \\ar[r ]   &   a \\times x \\ar[d]^{\\pi_a } \\\\",
    "b \\ar[r]_{1_b } & b \\ar@{->>}[r]_h & a } \\ ] ] by the quotients axiom for small maps @xmath131 is a family of small subobjects .",
    "furthermore , @xmath132 is dense by construction .",
    "note that the map @xmath261 in lemma  [ j - small - as - j - q - pb ] is also dense , since it is the composition of the pullback of an epimorphism with a dense map .    [ lemma : j - smallness - is - local ] [ lemma : j - smallness - is - local-2 ] [ j - small - as - j - q - pb-2 ] a map @xmath9 is locally small if and only if it fits into a pullback diagram of the form @xmath262^k \\ar[d]_g & x \\ar[d]^f \\\\ b \\ar[r]_h   & a } \\ ] ] where @xmath11 is dense and @xmath10 is locally small .",
    "assume to be given a diagram as ( [ equ : testproof ] ) . by the factorisation of dense maps as epimorphisms followed by dense monomorphisms and lemma  [ j - small - as - j - q - pb ] , it is sufficient to prove the statement when @xmath11 is a dense monomorphism .",
    "we construct a diagram of the form @xmath263 \\ar[d ] \\ar@{}[dr]|{(5 ) } &   z                 \\ar[r ] \\ar[d ] \\ar@{}[dr]|{(3 ) } &   y                 \\ar[r]^k \\ar[d]_g \\ar@{}[dr]|{(1 ) } &   x \\ar[d]^f                          \\\\ b '                \\ar[r ] \\ar[d]_{n } \\ar@{}[drr]|{(4 ) } &   c                 \\ar@{->>}[r ]         &   b                 \\ar[r]^h \\ar[d]_m   \\ar@{}[dr]|{(2 ) } &   a                 \\ar[d]^{1_a } \\\\",
    "a ''               \\ar@{->>}[rr]_{p ' }        &                                           &   a '                 \\ar@{->>}[r]_{p }         &   a } \\ ] ] the given diagram is in ( 1 ) .",
    "first , factor @xmath11 using lemma  [ lemma : handy - factorisation ] as a small dense monomorphism @xmath264 followed by an epimorphism @xmath265 .",
    "the resulting commutative square in ( 2 ) is a local quasi - pullback since @xmath125 is dense .",
    "next , apply lemma  [ j - small - as - j - q - pb ] to the locally small map @xmath10 so as to obtain the local quasi - pullback in  ( 3 ) with @xmath266 a small map and @xmath267 an epimorphism .",
    "next , we apply the collection axiom to the small map @xmath268 and the epimorphism @xmath269 , so as to obtain the quasi - pullback in  ( 4 ) where @xmath270 is a small map and @xmath271 is an epimorphism .",
    "finally , we construct the pullback square in  ( 5 ) to obtain another small map @xmath272 .",
    "the whole diagram is a local quasi - pullback , and we can apply lemma  [ j - small - as - j - q - pb ] to deduce that @xmath9 is locally small . the converse implication is immediate since locally small maps are stable under pullback .",
    "corollary  [ thm : addthis ] shows that the assumption of being an epimorphism for the map @xmath11 in lemma  [ j - small - as - j - q - pb ] can be weakened .",
    "[ thm : addthis ] if a map @xmath9 fits into a local quasi - pullback diagram of the form @xmath273_g \\ar[r]^k & x \\ar[d]^f \\\\ b \\ar[r]_h             & a } \\ ] ] where @xmath10 is small and @xmath11 is dense , then @xmath9 is locally small .",
    "given the diagram in  ( [ equ : secondgivendiag ] ) , we construct the following one @xmath20 \\ar[d]_{g } & b \\times_a x \\ar[r ] \\ar[d]^{g ' } & x   \\ar[d]^f \\\\ b \\ar[r]_{1_b }         & b             \\ar[r]_h         & a } \\ ] ] the left - hand side square is a local quasi - pullback by assumption .",
    "so , by lemma  [ j - small - as - j - q - pb ] , the map @xmath274 is locally small .",
    "the right - hand side square is a pullback by definition .",
    "so , by proposition  [ lemma : j - smallness - is - local ] , the map @xmath9 is locally small , as desired .",
    "we exploit our characterisation of locally small maps in the proof of the following proposition .",
    "[ thm : pjsheaf ] for every object @xmath22 of @xmath1 , @xmath174 is a sheaf .    by proposition  [ what - peejay - classifies ]",
    ", it suffices to show that every dense monomorphism @xmath122 induces by pullback an isomorphism @xmath275 let us define a proposed inverse @xmath276 as follows . for a family of locally small closed subobjects @xmath131 , we define @xmath277 here , we view @xmath160 as a subobject of @xmath278 via composition with the evident monomorphism @xmath279 .",
    "we need to show that the result is a locally small family , and that @xmath276 and @xmath280 are mutually inverse .",
    "first , note that @xmath280 is just intersection with @xmath281 .",
    "therefore , for a locally small closed family @xmath282 we have @xmath283 where we used the naturality of the closure operation , that @xmath284 , and the assumption that @xmath160 is closed .",
    "this also shows that @xmath285 becomes locally small over @xmath202 when pulled back along the dense monomorphism @xmath122 . by proposition  [ lemma : j - smallness - is - local-2 ]",
    ", it is locally small over @xmath25 , as required .",
    "finally , for a locally small closed family @xmath28 , we have @xmath286 as desired .",
    "[ thm : clsubsh ] a subobject of a sheaf is a sheaf if and only if it is closed .",
    "let @xmath287 be a monomorphism , and assume that @xmath22 is a sheaf .",
    "we begin by proving that if @xmath209 is closed , then it is a sheaf .",
    "for this , assume given a dense monomorphism @xmath288 and a map @xmath289 .",
    "define @xmath290 to be @xmath291 . by the assumption that @xmath22 is a sheaf",
    ", there exists a unique @xmath292 making the following diagram commute @xmath244^f \\ar@ { > ->}[d]_m & s \\ar@ { > ->}[r]^i & x   \\\\ a \\ar@/_1pc/@{.>}[urr]_{\\bar{g } }      &   & } \\ ] ] we have @xmath293 where the first inequality follows from adjointness .",
    "therefore , @xmath294 factors through @xmath295 , extending @xmath289 as required",
    ". uniqueness of this extension follows by the uniqueness of @xmath294 and the assumption that @xmath296 is a monomorphism .    for the converse implication , we need to show that if @xmath209 is a sheaf then it is closed .",
    "the monomorphism @xmath297 is dense and therefore the identity @xmath298 has an extension @xmath299 with @xmath300 .",
    "but by the preceding part , we know that @xmath301 is a sheaf and that @xmath302 . therefore , both @xmath303 and @xmath304 are extensions of @xmath305 to @xmath301 . since @xmath209 is a sheaf , they must be equal . thus @xmath125 and @xmath306 are mutually inverse , and so @xmath307 as desired .",
    "lemma  [ thm : pjsheaf ] and lemma  [ thm : clsubsh ] imply that the object @xmath236 is a sheaf for every @xmath4 , since @xmath236 is a closed subobject of the sheaf @xmath174 . in order to show that we have indeed defined a left adjoint to the inclusion , we need the following lemma  [ thm : next ] , concerning the map @xmath239 , which was defined at the beginning of the section , using the map @xmath308 taking @xmath54 into @xmath309 : { \\mathcal{p}_{j_{}}}(x)$ ] .",
    "[ thm : next ] for every @xmath4 , we have @xmath310 in @xmath311 .    for @xmath312",
    ", we have @xmath313 as required .",
    "generally , a map @xmath314 with @xmath315 is called _ codense_.    [ thm : uniprop ] [ thm : asf ] for every @xmath4 , @xmath316 is the associated sheaf of @xmath22 , in the sense that for every map @xmath46 into a sheaf @xmath317 , there exists a unique @xmath318 making the following diagram commute @xmath232^(.43){\\eta_x } \\ar@/_1pc/[dr]_f & { \\mathbf{a}}(x ) \\ar[d]^{\\bar{f } } \\\\                    & y } \\ ] ] the resulting left adjoint @xmath229 preserves finite limits .",
    "given @xmath46 , @xmath319 is a pullback of @xmath320 .",
    "since @xmath321 is a sheaf , lemma  [ thm : clsubsh ] implies that @xmath317 is closed , and hence @xmath319 is closed in @xmath322 .",
    "but certainly @xmath323 and therefore @xmath324 since any epimorphism is the coequaliser of its kernel pair , @xmath30 factors uniquely through the codense epimorphism @xmath325 .",
    "since @xmath317 is a sheaf , the map from @xmath326 to @xmath317 extends uniquely along the dense monomorphism @xmath327 , giving a unique factorisation of @xmath30 through @xmath328 as desired .    to show that the associated sheaf functor preserves finite limits",
    ", we may proceed exactly as in  @xcite , since the argument there uses only the structure of a heyting category on @xmath1 and the fact that the associated sheaf functor is defined by embedding each object @xmath22 by a codense map into a sheaf . in particular , injectivity of the sheaf in which @xmath22 is embedded",
    "is not required to carry over the proof .",
    "theorem  [ thm : uniprop ] allows us to deduce proposition  [ thm : sheaves - is - hpretopos ] , which contains the first part of theorem  [ thm : main ] . after stating it , we discuss in some detail the structure of the category @xmath135 .",
    "[ thm : sheaves - is - hpretopos ] the category @xmath135 is a heyting pretopos .",
    "this is an immediate consequence of theorem  [ thm : uniprop ] .",
    "we discuss the relationship between the structure of @xmath1 and that of @xmath135 is some detail . here and subsequently",
    ", operations in @xmath1 , will be denoted without subscript , such as @xmath329 , while their counterparts in @xmath135 will be denoted with subscript , such as @xmath330 .",
    "limits in @xmath135 are just limits in @xmath1 , since sheaves are closed under limits .",
    "colimits are the sheafifications of colimits taken in @xmath1 , since the associated sheaf functor , being a left adjoint , preserves colimits .",
    "the lattice @xmath331 is the sub - lattice of closed elements of @xmath332 . here",
    ", the closure operation is a reflection and therefore meets in @xmath331 are meets in @xmath332 , and joins in @xmath331 are closures of joins in @xmath332 .",
    "moreover , for @xmath333 , we have @xmath334 therefore @xmath335 and so @xmath336 is closed .",
    "thus , the implication of @xmath332 restricts so as to give implication in @xmath331 .",
    "since limits in @xmath337 agree with limits in @xmath1 , the inverse image functors in @xmath135 are just the restrictions of the inverse image functors of @xmath1 .",
    "it is clear that the sheafification of a dense monomorphism @xmath338 is an isomorphism , since for any sheaf @xmath22 we have @xmath339 therefore , epimorphisms in  @xmath135 are precisely the dense maps in @xmath1 , since coequalisers in @xmath135 are sheafifications of coequalisers in @xmath1 , and dense maps are the sheafifications of epimorphisms of @xmath1 .",
    "we have seen before that dense maps are stable under pullback . consequently , quasi - pullbacks in @xmath135 are exactly those squares that are local quasi - pullbacks in @xmath1 .",
    "if @xmath340 is an equivalence relation in @xmath135 , it is also an equivalence relation in @xmath1 , so has an effective quotient @xmath341 in @xmath1 .",
    "its sheafification @xmath342 is then a coequaliser for @xmath343 in sheaves ; but this is an effective quotient for @xmath175 , since @xmath344 and @xmath175 is closed in @xmath322 , as it is a subsheaf .",
    "images in @xmath135 are the closures of images in @xmath1 . for @xmath345",
    ", @xmath346 is the least subsheaf of @xmath317 throught which @xmath30 factors , so the least closed subobject of @xmath317 containing @xmath347 , which can be readily identified with @xmath348 .",
    "consequently , the corresponding forward image functor @xmath349 is given by @xmath350 dual image functors in @xmath135 are again just the restrictions of the dual images functors of @xmath1 , since if @xmath87 is closed so is @xmath351 , and therefore @xmath352 .",
    "these give us an immediate translation from the internal logic of @xmath135 into that of @xmath1 .",
    "within this section , we study locally small maps between sheaves , completing the proof of theorem  [ thm : main ] . the associated sheaf functor followed by the inclusion of sheaves into @xmath1 preserves dense maps . indeed , avoiding explicit mention of the inclusion functor ,",
    "if  @xmath11 is dense then we have @xmath353 but @xmath354 is a dense map , and so its image is dense in @xmath355 .",
    "also , if @xmath22 is a sheaf then @xmath356 is easily seen to be an isomorphism .",
    "[ thm : natjquasi ] for every @xmath46 in @xmath1 , the naturality square @xmath232^(.45){\\eta_x } \\ar[d]_f & { \\mathbf{a}}(x )   \\ar[d]^{{\\mathbf{a}}(f ) } \\\\ y \\ar[r]_(.45){\\eta_y } & { \\mathbf{a}}(y ) } \\ ] ] is a local quasi - pullback .",
    "the canonical map @xmath357 , which we wish to show to be dense , factors through @xmath358 as in the diagram below : @xmath359        \\ar@/^1pc/[drr ]        \\ar@/^2pc/[drrr]^f        \\ar@/_1pc/[ddr]_{1_x }    &                                     &                            &                          \\\\                         &    x \\times_{{\\mathbf{a}}(y ) } y           \\ar[d ] \\ar[r ]     &   { \\mathbf{a}}(x ) \\times_{{\\mathbf{a}}(y ) } y     \\ar[d ] \\ar[r ]     &   y                              \\ar[d]^{\\eta_y }   \\\\                                                 &    x                              \\ar[r]_{\\eta_x }   &   { \\mathbf{a}}(x )                        \\ar[r]_{{\\mathbf{a}}(f ) }   &   { \\mathbf{a}}(y )                                       } \\ ] ] the map @xmath360 is a pullback of @xmath328 and therefore it is dense .",
    "we just need to show that @xmath361 is dense . for this ,",
    "let us consider the following diagram , in which each square is a pullback @xmath232^{{\\cong}}\\ar@/_1pc/[dr]_{(f , f ) } & \\gamma_f \\ar[r ] \\ar[d ]    & x \\times_{{\\mathbf{a}}(y ) } y \\ar[r ] \\ar[d ] &   x \\ar[d]^f \\\\   & \\delta_y \\ar[r ] \\ar@/_1pc/[dr]_{{\\cong } } &   { \\mathbf{c}}(\\delta_y ) \\ar[r]^(.53){\\pi_1 } \\ar[d]^{\\pi_2 } & y \\ar[d]^{\\eta_y } \\\\   &                         & y \\ar[r]_{\\eta_y } & { \\mathbf{a}}(y ) } \\ ] ] we then have the following chain of isomorphisms of subobjects of @xmath362 @xmath363 therefore , the map @xmath361 can be identified as the map @xmath364 , which is dense .",
    "[ cor : j - smallness - from - asf ]    a.   if @xmath46 is small , then @xmath365 is locally small .",
    "b.   if @xmath50 is locally small , then there is some small map @xmath10 and dense @xmath366 such that the following diagram is a pullback @xmath367 \\ar[d]_{{\\mathbf{a}}(g ) } & x \\ar[d]^{f } \\\\ { \\mathbf{a}}(b ) \\ar[r]_h                 & a } \\ ] ]    since the components of the unit of the adjunction are dense maps , part @xmath368 follows from corollary  [ thm : addthis ] and lemma  [ thm : natjquasi ] . for part @xmath369 , use the definition of locally small map to get a dense map @xmath11 and an indexed family of subobjects @xmath370 , together with a diagram of form @xmath20 \\ar@ { > ->}[d ] & x \\ar@ { > ->}[d ] \\\\",
    "b \\times x \\ar[r ] \\ar[d ] & a \\times x \\ar[d ] \\\\",
    "b \\ar[r]_h & a } \\ ] ] such that @xmath371 is dense .",
    "then , let @xmath10 be the evident map , which is small .",
    "the required square can be readily obtained by recalling that @xmath229 preserves pullbacks , sends dense monomorphisms to isomorphisms , and preserves dense maps .",
    "corollary  [ cor : j - smallness - from - asf ] allows us to regard the family of locally small maps as the smallest family of maps in @xmath135 containing the sheafifications of the small maps in @xmath1 and closed under descent along dense maps .",
    "[ lemma : compositions - j - small ]    a.   identity maps are locally small .",
    "b.   composites of locally small maps are locally small",
    ".    all identities are trivially locally small . for composition ,",
    "suppose @xmath50 and @xmath372 are locally small .",
    "we construct the diagram @xmath373 \\ar[d ] \\ar@{}[dr]|{(5 ) } &   z \\ar[r ] \\ar[d]^h \\ar@{}[dr]|{(3 ) } &    y \\times_x x ' \\ar[r ] \\ar[d]^{f '' } \\ar@{}[dr]|{(2 ) } &   x ' \\ar[d]^{f ' } \\\\ y ' \\ar[r ] \\ar[d ] \\ar@{}[drr]|{(4 ) } &   c \\ar@{->>}[r ]         &   y \\ar[r ] \\ar[d]^{g } \\ar@{}[dr]|{(1 ) } &   x \\ar[d]^f \\\\ b ' \\ar@{->>}[rr ]        &                     &   b \\ar@{->>}[r]_{p }         &   a}\\ ] ] as follows .",
    "we begin by applying lemma  [ j - small - as - j - q - pb ] to @xmath374 so as to obtain the local quasi - pullback ( 1 ) , where @xmath10 is a small map and @xmath375 is an epimorphism .",
    "then , we construct the pullback ( 2 ) and obtain the locally small map @xmath376 .",
    "we can apply lemma  [ j - small - as - j - q - pb ] to it so as to obtain the local quasi - pullback in  ( 3 ) , where @xmath377 is a small map and @xmath378 is an epimorphism .",
    "next , we apply the collection axiom to the small map @xmath379 and the epimorphism @xmath378 , so as to obtain ( 4 ) , where @xmath380 is a small map and @xmath381 is an epimorphism . finally , ( 5 ) is a pullback and therefore @xmath382 is small since @xmath377 is so . to conclude that the composite of @xmath372 and @xmath9 is locally small , it is sufficient to apply lemma  [ j - small - as - j - q - pb ] to the whole diagram , which is a local quasi - pullback since it is obtained as the pasting of local quasi - pullbacks .",
    "[ thm : quotients - in - sheaves ] for every commutative diagram of the form @xmath383^{d } \\ar[dr]_{f } &    & x ' \\ar[dl]^{f ' } \\\\                    & a & } \\ ] ] if @xmath9 is locally small and @xmath384 is dense , then @xmath385 is locally small .    by lemma",
    "[ j - small - as - j - q - pb ] we have a local quasi - pullback @xmath386^{k } \\ar[d]_{g } & x \\ar[d]^f \\\\   b \\ar@{->>}[r]_{h } & a } \\ ] ] where @xmath10 is a small map and @xmath21 is an epimorphism . since @xmath9 is @xmath387 , we can expand the diagram above as follows @xmath388^{k } \\ar[dr ] \\ar@/_1pc/[ddr ] \\ar@/_2pc/[dddr]_{g } &    &    \\\\      & b \\times_a x   \\ar[d ] \\ar[r ] & x \\ar[d]^{d }    \\\\           & b \\times_a x ' \\ar[d ] \\ar[r ] & x ' \\ar[d]^{f ' } \\\\      & b              \\ar[r]_{h }         & a } \\ ] ] the map @xmath389 is dense since it is the composite of the dense map @xmath242 with the pullback of the dense map @xmath384 . hence , the commutative square @xmath386^(.43){d \\",
    ", k } \\ar[d]_{g } & x ' \\ar[d]^{f ' } \\\\   b \\ar[r]_{h } & a } \\ ] ] is a local quasi - pullback , and so @xmath385 is locally small .",
    "[ lemma : strong - collection - in - sheaves ] let @xmath390 be sheaves . for every locally small map @xmath9 and every dense map @xmath391",
    ", there exists a local quasi - pullback of the form @xmath20 \\ar[d]_g & p \\ar[r ] & x \\ar[d]^f \\\\ b \\ar[rr]_h        &           & a } \\ ] ] where @xmath10 is locally small and @xmath11 is dense .",
    "given such a pair , we construct the diagram @xmath392   \\ar[dd]_e   \\ar@{}[ddr]|{(2 ) }    &   p \\ar[dd]^{d } \\\\ z ' \\times_c z \\ar[r ] \\ar[d ]   \\ar@{}[dr]|{(6 ) } & z \\ar[r ] \\ar[d ]   \\ar@{}[drr]|{(4 ) } & y \\times_x p \\ar[r ] \\ar@/^1pc/[urr]^{1_{y",
    "\\times_x p } }    & y ' \\ar[d ] &              & \\\\ z ' \\ar[r ] \\ar[d ]   \\ar@{}[drrrr]|{(5 ) }      & c \\ar[rr ]        &        &   b '   \\ar[r ] \\ar@{}[uur]|{(3 ) } &   y \\ar[r ] \\ar[d ] \\ar@{}[dr]|{(1 ) }   & x \\ar[d]^{f } \\\\ c ' \\ar[rrrr ]      &                    &             & & b \\ar[r ]   & a}\\ ] ] as follows .",
    "the commutative square ( 1 ) is obtained by applying lemma [ j - small - as - j - q - pb ] to @xmath9 . in particular , it is a local quasi - pullback .",
    "diagram ( 2 ) is a pullback . to construct ( 3 )",
    ", first we factor the dense map @xmath393 first as an epimorphism @xmath394 followed by a dense monomorphism @xmath395 , and then we factor the dense monomorphism as a small dense monomorphism @xmath380 followed by an epimorphism @xmath396 by lemma  [ lemma : handy - factorisation ] .",
    "we can then apply the collection axiom in @xmath1 to construct a diagram in ( 4 ) which is a quasi - pullback . by the definition of quasi - pullback and the fact that @xmath380 is dense",
    ", it follows that @xmath266 is a dense map since it is the composition of a dense map with an epimorphism .",
    "we apply again the collection axiom to construct ( 5 ) , and finally ( 6 ) is obtained by another pullback .",
    "since the pasting of ( 1 ) and ( 5 ) is a local quasi - pullback and the map @xmath397 is dense , the resulting diagram @xmath398 \\ar[d ] & p \\ar[r]^{d } & x \\ar[d]^{f } \\\\ c ' \\ar[rr ] &   & a } \\ ] ] is a local quasi - pullback as well .",
    "note that some of the objects in the diagram above need not be sheaves , since they have been obtained by applying the collection axiom in @xmath1 . to complete the proof",
    ", it suffices to apply the associated sheaf functor , so as to obtain the diagram @xmath399 \\ar[d ] & p \\ar[r]^{d } & x \\ar[d]^{f } \\\\ { \\mathbf{a}}(c ' ) \\ar[rr ] &   & a } \\ ] ] this provides the required diagram , since the associated sheaf functor preserves dense maps and pullbacks and sends small maps into locally small maps .",
    "[ thm : small - maps - in - sheaves ] the family @xmath136 of locally small maps in @xmath135 satisfies the axioms for a family of small maps .",
    "lemma  [ lemma : compositions - j - small ] proves axiom ( a1 ) . axiom  ( a2 ) , asserting stability under pullbacks , holds by the very definition of locally small map , as observed before definition  [ thm : jsmall ] .",
    "axiom  ( a3 ) follows by proposition  [ lemma : j - smallness - is - local ] .",
    "axioms ( a4 ) and ( a5 ) follow from the corresponding axioms in @xmath1 , using the fact that sheafification of small maps is locally small and the fact that the initial object and the coproducts of @xmath135 are the sheafification of the initial object and of coproducts in @xmath1 , respectively . lemma  [ thm : quotients - in - sheaves ] proves axiom ( a6 ) , and lemma  [ lemma : strong - collection - in - sheaves ] proves axiom ( a7 ) .",
    "axiom  ( p1 ) follows by proposition  [ what - peejay - classifies ] and lemma  [ thm : clsubsh ] .    the theorem asserting that the category internal sheaves over a lawvere - tierney local operator in an elementary topos is again an elementary topos  @xcite can be seen as following from a special case of proposition  [ thm : sheaves - is - hpretopos ] and proposition  [ thm : small - maps - in - sheaves ] . indeed , elementary toposes are examples of our setting , as explained in example  [ exa : topos ] , and lawvere - tierney coverages are equivalent to lawvere - tierney local operators , as explained in remark  [ rem : lawvere - tierney ] . by proposition  [ thm : sheaves - is - hpretopos ] , we know that the category of sheaves is a heyting pretopos , and by proposition  [ thm : small - maps - in - sheaves ] we know that it has a subobject classifier .",
    "[ thm : wrep - in - sheaves ] if the family of small maps @xmath2 in @xmath1 satisfies the exponentiability and weak representability axiom , so does the family of locally small maps @xmath136 in @xmath337 .    since we know by proposition  [ thm : small - maps - in - sheaves ] that axiom ( p1 ) holds for @xmath136 and ( p1 ) implies ( s1 ) , as recalled in section  [ sec : asthp ] , we have that ( s1 ) holds for @xmath136 . for ( s2 ) , we need to show that there exists a locally small map @xmath400 in @xmath135 such that every locally small map @xmath9 fits into a diagram of form @xmath401_f & y \\ar[d ] \\ar[r ] \\ar[l ] & e_j \\ar[d]^{u_j } \\\\    a         & b \\ar[r ] \\ar@{->>}[l]^h         & u_j } \\ ] ] where the left - hand square is a quasi - pullback , the right - hand side square is a pullback and @xmath21 is an epimorphism .",
    "let @xmath42 the weakly representing map for small maps in @xmath1 , which exists by our assumption that @xmath2 satisfies ( s2 ) .",
    "we define @xmath402 to be its sheafification , @xmath403 . given @xmath404 locally small ,",
    "let us consider a diagram @xmath405_g \\ar[r]^h & x \\ar[d]^f \\\\ b \\ar[r]_h & a } \\ ] ] as in part @xmath369 of corollary  [ cor : j - smallness - from - asf ] .",
    "in particular , @xmath10 is small in @xmath1 . by the weak representability axiom for small maps applied to @xmath10",
    ", we obtain a diagram of form @xmath401_f & { \\mathbf{a}}(y ) \\ar[l ] \\ar[d ] & { \\mathbf{a}}(z ) \\ar[r ] \\ar[d ]   \\ar[l ] & { \\mathbf{a}}(e ) \\ar[d]^{{\\mathbf{a}}(u ) }   \\\\ a         & { \\mathbf{a}}(b )   \\ar[l ]        & { \\mathbf{a}}(c ) \\ar[r ] \\ar[l ]         & { \\mathbf{a}}(u ) } \\ ] ] this is obtained by applying the associated sheaf functor to the diagram expressing that @xmath10 is weakly classified by @xmath42 and to the one in  ( [ equ : recall ] ) , recalling that @xmath406 if @xmath22 is a sheaf .",
    "the desired conclusion follows by recalling that the associated sheaf functor preserves dense maps and pullbacks .",
    "the combination of proposition  [ thm : sheaves - is - hpretopos ] , proposition  [ thm : small - maps - in - sheaves ] , and proposition  [ thm : wrep - in - sheaves ] provides a proof of theorem  [ thm : main ] .",
    "we may note that for a locally small sheaf @xmath22 , witnessed by an epimorphism @xmath407 and an indexed family of small subobjects @xmath408 , fitting in a diagram @xmath35^{k } \\ar@ { > ->}[d ] & x \\ar@ { > ->}[d ] \\\\ b \\times x \\ar[r ] \\ar[d ] & 1 \\times x \\ar[d ] \\\\ b \\ar@{->>}[r]_{h } & 1 } \\ ] ] with @xmath409 dense , an exponential of the form @xmath410 , where @xmath317 is a sheaf , can be constructed explicitly as the quotient of @xmath411 by the equivalence relation defined by @xmath412 \\ , .\\ ] ]    of course , if @xmath1 has more structure than we have assumed so far , or satisfies stronger axioms , we would like these to be preserved by the construction of internal sheaves .",
    "for example , it is immediate to see that if  @xmath1 has small diagonals , so does @xmath135 , and that existence of a universal object in  @xmath1 in the sense of  @xcite implies the existence of a universal object in @xmath135 .",
    "we wish to thank the organizers of the summer school on topos theory in haute - bodeux ( belgium ) , where the idea for the research described here was first discussed .",
    "some of the research was conducted during visits of the second author to carnegie mellon university , for which he wishes to express his gratitude .",
    "he also wishes to thank the centre de recerca matemtica ( barcelona ) for its support .",
    "s.  awodey , c.  butz , a.  simpson , and t.  streicher , _ relating topos theory and set theory via categories of classes _ , tech .",
    "report cmu - phil-146 , department of philosophy , carnegie mellon university , 2003 .",
    "b.  nordstrm , k.  petersson , and j.  m. smith , _ martin - lf type theory _ ,",
    "handbook of logic in computer science ( s.  abramski , d.  m. gabbay , and t.  s.  e. maibaum , eds . ) , vol .  5 , oxford university press , 2000 .",
    "m.  rathjen , _",
    "realizability for constructive zermelo - fraenkel set theory _ , logic colloquium 03 ( j.  vnnen and v.  stoltenberg - hansen , eds . ) , lecture notes in logic , vol .",
    "24 , association for symbolic logic and ak peters , 2006 , pp ."
  ],
  "abstract_text": [
    "<S> we present a solution to the problem of defining a counterpart in algebraic set theory of the construction of internal sheaves in topos theory . </S>",
    "<S> our approach is general in that we consider sheaves as determined by lawvere - tierney coverages , rather than by grothendieck coverages , and assume only a weakening of the axioms for small maps originally introduced by joyal and moerdijk , thus subsuming the existing topos - theoretic results . </S>"
  ]
}