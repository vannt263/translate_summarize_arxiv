{
  "article_text": [
    "the collider detector at fermilab ( cdf )  @xcite operating at the runii tevatron collider is a complex general purpose detector and has many subsystems . for the simulation of each subdetector",
    ", one needs geometry , a digitizer to generate hits , a menu to change digitizer s configuration , and an object to keep a simulated event .",
    "the simulation framework allows to plug these pieces into the existing software system and hides complicated details of their interaction from the user . to achieve these goals ,",
    "the framework design is based upon a mixture of generic programming and object oriented principles .",
    "this mix , rather than a pure object oriented solution , allows the framework to be easily expandable while retaining as much time efficiency as possible .",
    "the cdf detector simulation framework is integrated into an ac++  @xcite application used to process events at the cdf experiment .",
    "the tracking of particles through matter is performed by the geant3  @xcite package .",
    "the cdf software uses the same geometry for event reconstruction and simulation .",
    "the cdf geometry package provides the volume description and geometry tree creation .",
    "the cdf geometry was designed to allow seamless transition to geant4 if desired .",
    "it can be converted to a geant3 or geant4 geometry .",
    "an output event of the simulation contains data in the same format as raw detector data plus monte carlo truth information .",
    "the main simulation executable , cdfsim , allows generation of physics events with different generators such as herwig v6.5 , pythia v6.2 , isajet v7.51 , wgrad , wbbgen , grappa ( grace for @xmath0 ) , vecbos , bgenerator , minbiasgenerator , singleparticle .",
    "les houches accords - a universal interface between matrix element generators and parton shower mc programs - is implemented in herwig , pythia and grappa .",
    "in addition to decay routines internal to each mc generator , particle decays can be simulated by three decay packages - qq v9.1 , evtgen and tauola .",
    "the cdfsim executable may be used with different configurations of subdetectors , different geometry levels , and physics processes depending on desired accuracy versus time efficiency .",
    "the following sub - detectors are simulated :    * silicon detectors ( svx , isl ) * central outer tracker ( cot ) * muon systems * time - of - flight system ( tof ) * calorimeters * cherenkov luminosity counters ( clc ) * forward detectors ( miniplug , bsc , rps )    in addition , the cdf geometry contains a detailed description of passive material elements , in particular within the silicon detectors .",
    "the flow diagram in figure  [ sim - f1 ] shows how the various generators are incorporated within the ac++ framework .",
    "the ac++ modules are shown in order of execution from top to bottom .",
    "a hepevt common block is used for communication between different generators and decay packages .",
    "the geninputmanager module creates an instance of the cdfrn class which interfaces to the clhep random number generators .",
    "cdf unified the usage of the various random number generators used throughout the simulation code including all generator packages .",
    "this ensures statistically independent production of large monte carlo samples on the cdf production farms .",
    "cdfrn manages the random engines of its clients and allows restoring and saving of current engine configurations .",
    "the geninputmanager and randomgenmanager are followed by a sequence of generator modules and decay modules .",
    "the combination of enabled modules from this sequence is checked at the ac++ framework level for user setup errors .",
    "each module has an interface to the generator / decay package controlling the access to the underlying fortran routines .",
    "the generator or decay package modifies the hepevt common block .",
    "after the event has been processed by all enabled generators and decay packages , the hepevt common block is converted into a persistent object and added to the event record .",
    "after this step , a sequence of generator level filters can be evoked to reject events based on user chosen selection criteria .",
    "finally , the position of the primary interaction vertex is generated by the genprimvert module which allows to take beam line information from the cdf data base depending on a chosen run number .",
    "this information is also added to the event record .",
    "the diagram in figure  [ sim - f2 ] shows the relationship between different components of the simulation framework .",
    "the boxes represent ac++ modules in order of execution from top to bottom .",
    "an instance of the cdf geometry is created by the geometrymanager module at the beginning of the job .",
    "the siminitmanager module initializes geant3 , passes the cdf geometry to geant3 , and obtains the information which simulation configuration is used .",
    "the simulationcontrol module instantiates the simulation elements requested by the siminitmanager .",
    "the simulation elements are processed by a simulation base which is implemented as an abstract factory owned by simulationcontrol .",
    "each simulation element consists of a geometry , a configuration menu , a digitizer , and an object to keep the monte carlo event data .    during the event processing the simulationcontrol module interacts with geant3 and",
    "passes to it the monte carlo particles from the generator .",
    "inside an active detector volume , geant3 calls a user defined stepping routine and control is passed to the digitizer of the corresponding simulation element .",
    "this action is dispatched by the simulation base .",
    "the digitizer creates hits , depending on the configuration menu , and adds the information to the monte carlo event data .",
    "after tracing of particles with geant3 is finished , the hit information from the mc event data object is converted into the persistent object and added to the event record .    at the beginning of each simulation",
    "run , information from the cdf data base may be accessed to obtain noise , calibrations or alignment constants used for the simulation job .",
    "in the following subsections the current status of the simulation of the different subdetectors is described including a discussion of the simulation performance compared to collision data .",
    "the runii silicon detector consists of seven double sided layers and one single sided layer mounted on the beampipe covering a total radial area from 1.5 - 28  cm .",
    "the silicon vertex detector covers the full tevatron luminous region and allows for standalone silicon tracking up to a pseudo - rapidity @xmath1 .",
    "the geometry of the silicon detectors has been implemented in great details in the simulation including passive materials and allows for detector misalignment .",
    "the main purpose of simulating the silicon detector is to describe the charge deposition of traversing tracks on the silicon strips well enough to evaluate silicon tracking performance .",
    "the basic distributions to model are the number of strips included in a charge cluster and the cluster shape .",
    "three charge deposition models ( cdm ) are implemented in the simulation framework : geometric , parametric and physical .",
    "the geometric model is based purely on geometry .",
    "the total amount of charge deposited on a sensor is calculated by geant3 based on an unrestricted landau distribution .",
    "the amount of charge deposited on each strip is a fraction of the entire charge proportional to the path length of the particle in the vicinity of the strip .",
    "the result of this method is that for tracks at a certain incident angle , all strips in the cluster have the same amount of charge deposited .",
    "the cluster length and shape in silicon data is considerably more complicated due to various physics effects such as @xmath2-rays .",
    "the parametric model is based on the physics effects simulated by geant3 .",
    "however , the geant3 results have been parameterized into template distributions to increase the speed of the code .",
    "the important effects that are included in this model are energy deposition using a restricted landau distribution with @xmath2-ray production above a cutoff value , capacitive charge sharing between strips , and noise .",
    "this cdm has been further tuned to data .",
    "the physical model simulates the physics of charge deposition from first principals .",
    "the basic idea is to have the capability of monitoring , predicting and comparing the electrical behavior of the real detector with the expectations from theory .",
    "the physics described by this model includes continuous energy loss using a restricted landau distribution with @xmath2-ray production , convolution of landau fluctuations with a gaussian , magnetic field effects , diffusion of electrons , holes , and noise .",
    "in addition to these effects , the charge inversion of a sensor can be simulated .            in figure  [ svx - f1 ]",
    "cdf silicon data are compared with simulation using the parametric cdm .",
    "the cluster length ( left ) and cluster profile ( right ) are compared for both the axial side ( top ) and stereo side ( bottom ) of layer1 .",
    "the intrinsic silicon resolution is displayed in figure  [ svx - f1 ] .",
    "unbiased axial residuals ( layer2 ) are compared between data and mc .",
    "silicon simulation and data are in good agreement .",
    "cdf s central outer tracker contains 30,200 sense wires arranged in 96 layers combined into four axial and four stereo superlayers .",
    "it also provides d@xmath3/d@xmath4 information for particle identification .",
    "the default drift model used in the cot simulation is based on the garfield package  @xcite , a general drift chamber simulation program .",
    "the default garfield parameters are scaled to describe the data .",
    "an example of the performance of cot simulation is displayed in figure  [ cot - f1 ]        which shows a comparison of track residuals between data and mc .",
    "the track residual is calculated as the hit displacement minus track displacement after applying track quality cuts .",
    "the simulation ( histogram ) is in a good agreement with the data ( points ) .",
    "figure  [ cot - f2 ] is a comparison of @xmath5 events generated with pythia to @xmath6  data obtained from an inclusive high @xmath7 muon data set with a muon trigger threshold of 18  gev/@xmath8 .",
    "shown is the distribution of signed track curvature ( charge/@xmath7 ) for primary tracks with impact parameter @xmath9  mm . the data ( points ) are reasonably well described by the monte carlo ( histogram ) .    ) for primary tracks with impact parameter @xmath9  mm in @xmath10 data ( points ) and mc events ( histogram).,width=302 ]      one of the new devices in the cdfii detector is a time - of - flight system with a resolution of about 100  ps .",
    "it employs 216 three - meter - long scintillator bars with photomultiplier tubes ( pmt s ) at each end located between the outer radius of the cot and the superconducting solenoid ( see figure  [ tof - f1 ] ) .",
    "the time - of - flight system is designed for the identification of kaons with a 2@xmath11-separation between @xmath12 and @xmath13 for @xmath14  gev/@xmath8 .",
    "the energy deposition of the incident particle as well as the time at entry and exit points are simulated by geant3 .",
    "this information is translated into tdc and adc counts .",
    "three response parameterizations with different levels of detail in the parameterization are implemented .",
    "one of the models uses a simple analytic form to parametrize time and adc count .",
    "two other models use calibration parameters from tof data .",
    "figure  [ tof - f2 ] shows a comparison of the time distribution between collision data and simulated events .",
    "crosses with error bars denote data and the histogram represents the simulation .",
    "the upper ( lower ) plots are a comparison of the time distribution for the east ( west ) channels before ( top ) and after ( bottom ) time - walk correction .",
    "the comparison indicates reasonable agreement between data and simulation allowing for further tuning of the simulation .",
    "there are four muon sub - systems in cdf : central muon detector ( cmu ) , central muon upgrade detector ( cmp ) , central muon extension ( cmx ) , and intermediate muon detector ( imu ) .",
    "figure  [ muon - f1 ] shows the location of the muon systems in azimuth @xmath15 and pseudorapidity @xmath16 .     and pseudorapidity @xmath16 . , width=302 ]    the central calorimeters act as a hadron absorber for the muon detection system .",
    "the cmu consisting of four layers of planar drift chambers is located directly outside the central calorimeters .",
    "the cmu system covers @xmath17 and can be reached by muons with @xmath7 in excess of 1.4  gev/@xmath8 . to reduce the probability of misidentifying penetrating hadrons as muon candidates in the central detector region",
    ", four additional layers of drift chambers ( cmp ) are located behind 0.6  m of steel outside the cmu system . to reach these two detectors , particles produced at the primary interaction vertex",
    "must traverse material totaling 5.4 and 8.4 pion interaction lengths , respectively .",
    "the cmx is located in the pseudorapidity interval @xmath18 extending the polar acceptance of the muon system .",
    "this detector consists of free - standing conical sections at the four corners of the central detector with eight 15 degree wedges .",
    "the imu identifies muons over the rapidity range @xmath19 by a 4-layer barrel of drift tubes ( bmu ) and scintillators ( wsu , bsu , tsu ) .",
    "all muon systems have adc / tdc read - out .",
    "the runii upgrades to the muon system almost double the central muon coverage compared to runi and extent it up to @xmath20 .",
    "the most challenging part in the muon simulation is the description of the complicated geometry of the muon systems , while tuning of the digitization to muon trigger data is straight forward .",
    "special efforts were made to compare simulation to real data with the aim of checking the geometry description .",
    "the study was done for cmp , cmu , and cmx using muons from @xmath5 and @xmath21 in data and simulation .",
    "the overall description of the data is good . as an example of the numerous studies , figure  [ muon - f2 ] shows a comparison of simulation and data for the number of muons per stack in the north wall .",
    "the cherenkov luminosity counters  @xcite are used to measure the tevatron luminosity at cdf .",
    "the clc acceptance for @xmath0 inelastic processes is estimated from the simulation and adds a major contribution to the luminosity uncertainty .",
    "an excellent clc simulation performance is therefore critical .",
    "the generation and propagation of cherenkov photons is fully simulated by geant3 and then corrected for photo - cathode efficiencies .",
    "the hit count in the clc is sensitive to the material traversed by particles between the interaction point and the clc counters .",
    "therefore , the detector geometry in front of and in the vicinity ( back - scattering ) of the clc needs to be described with high accuracy .",
    "monte carlo and data are in good agreement as can be seen in figure  [ clc - f1 ] .",
    "it shows a comparison of amplitude distributions in the three layers of the clc counters .",
    "dots are monte carlo ( pythia ) , the red ( west ) and blue ( east ) histograms are minimum bias data .",
    "the distributions are normalized to the single particle peak .",
    "the resulting uncertainty on the cdf luminosity calculation due to the clc simulation is less than @xmath22 .",
    "the cdf calorimeters  @xcite provide separate electromagnetic ( em ) and hadronic ( had ) measurements as shown in figure  [ cal - f1 ] .",
    "the central electromagnetic ( cem ) and hadronic ( cha ) calorimeters ( @xmath23 ) employ a projective tower geometry back to the nominal interaction point with a segmentation of @xmath24 .",
    "the sampling medium is composed of scintillators layered with lead absorbers in the electromagnetic calorimeter and steel in the cha .",
    "the energy resolution for the cdf central calorimeter is @xmath25^{1/2}$ ] for electromagnetic showers and @xmath26^{1/2}$ ] for hadrons with @xmath27 measured in gev .",
    "a layer of proportional chambers ( ces ) , with wire and strip readout , is located six radiation lengths deep in the cem calorimeter , approximately near shower  maximum for electromagnetic showers .",
    "the ces provides a measurement of electromagnetic shower profiles in both the @xmath15- and @xmath28-directions .",
    "proportional chambers located between the solenoid and the cem comprise the central preradiator detector ( cpr ) , which samples the early development of electromagnetic showers in the material of the solenoid coil , providing information in @xmath29-@xmath15 only .",
    "in addition , the forward calorimeters have been replaced in runii by a new scintillator tile based plug calorimeter which covers the range @xmath30 and gives good electron identification up to @xmath31 .",
    "the plug electromagnetic calorimeter also has fine grained shower profile detectors at electron shower maximum , and preshower pulse height detectors at approximately @xmath32 depth .",
    "the calorimeter cell segmentation is summarized in table  [ calseg ] .",
    "a comparison of the central and plug calorimeters is given in table  [ plugcomp ] .",
    "l|c|c @xmath33 range & @xmath34 & @xmath35 + 0 . - 1.1 ( 1.2 h ) & @xmath36 & @xmath37 + 1.1 ( 1.2 h ) - 1.8 & @xmath38 & @xmath37 + 1.8 - 2.1 & @xmath38 & @xmath39 + 2.1 - 3.64 & @xmath36 & 0.2 @xmath40 0.6 +    l|c|c & central & plug + em : & & + thickness & @xmath41 & @xmath42 + sample ( pb ) & @xmath43 & @xmath44 + sample ( scint . ) & 5 mm & 4.5 mm + wls & sheet & fiber + light yield & @xmath45 pe / gev & @xmath46 pe / gev + sampling res .",
    "& @xmath47 & @xmath48 + stoch",
    "@xmath49 & @xmath50 + shower max .",
    "( cm ) & 1.4@xmath51(1.6 - 2.0 ) z & @xmath52 uv + pre - shower seg .",
    "( cm ) & @xmath53 z & by tower + hadron : & & + thickness & @xmath54 & @xmath55 + sample ( fe)&1 to 2 in . & 2 in . + sample ( scint . ) & 10 mm & 6 mm + wls & finger & fiber + light yield & @xmath56 pe / gev & @xmath57 pe / gev +    the main objective for the calorimeter simulation is speed .",
    "the simulation of the cdf calorimeters is based on the gflash  @xcite parameterization package interfaced with the geant3 simulation .",
    "the simulation of em and had showers in gflash is initiated when particles undergo inelastic interactions inside the calorimeter volume .",
    "gflash uses a mixture - level geant3 geometry description for the cdf calorimeters .",
    "it handles the spatial distribution of the deposited energy and the energy loss of particles inside the geometry volumes .",
    "the gflash parameters are tuned .",
    "the basic idea of the tuning process is first to bring the response of the electromagnetic calorimeter into agreement with data and then tune the hadron response by adjusting gflash parameters to match pion testbeam data and @xmath58  collision data .",
    "the tuning of gflash is split according to the two sets of parameters that control the fraction of visible energy produced in the active medium , and the energy and depth dependent spatial distribution of the various components of the shower model .    to tune em showers , 8 - 227",
    "gev electrons from test beam data were used .",
    "the energy scale and resolution for electrons was verified using @xmath59 .",
    "the hadronic shower shape was tuned to test beam data and minimum bias data .",
    "high @xmath7 tuning was done using high @xmath7 pions test beam data in the energy range 7 - 227  gev ( mainly 57  gev ) for cha and 8 - 227  gev for pha .",
    "the low @xmath7 tuning process uses isolated low @xmath7 tracks from minimum bias data .",
    "the minimum - ionizing - particle ( mip ) peak is measured in the em compartments with pions . the hadronic energy scale in the tuning procedure",
    "is set by the response of 57  gev pions in the central and plug calorimeters .",
    "since there are no test beam data available for the wall calorimeter , the energy scale of wha is set to cha .",
    "once the mip distribution and the hadron energy scale are set , the logarithmic energy dependence of the calorimeter response can be tuned .",
    "finally , for the tuning of the lateral shower profile , tracks obtained from minimum bias events measured in the central part of the cdf detector are used .",
    "the available energy range was 0.5 - 2.5  gev .",
    "distributions between simulation and testbeam as well as collision data for different particle momenta . , width=302 ]    figure  [ cal - f3 ]     ( top ) and 40  gev@xmath60 ( bottom ) muons .",
    ", width=302 ]    figure  [ cal - f2 ] shows a comparison of the @xmath59 distributions between simulation and testbeam as well as collision data at low @xmath61 for different particle momenta . the calorimeter response in the simulation yields excellent agreement with data . as",
    "another example of calorimeter simulation performance , compares the energy deposition of muons in the cdf calorimeter .",
    "data are shown as dashed lines and mc as solid .",
    "the two top plots show the energy distributions for 4  gev@xmath60 muons from @xmath62 in the hadronic ( left ) and electromagnetic ( right ) calorimeters .",
    "the two bottom plots show these distributions for 40  gev@xmath60 muons from @xmath63  decays . again",
    ", excellent agreement is seen between data and monte carlo .",
    "the gflash based calorimeter simulation is about one hundred times faster then the geant3 shower simulation for a typical top quark event .",
    "we described the overall design of the cdf detector simulation framework which is based on the geant3 package and integrated into an ac++ application used to process events in the cdf experiment .",
    "the cdf simulation framework is shown to be flexible , easily extensible , and efficient .",
    "it is hiding complex infrastructure details from a user and suitable for large scale monte carlo production .",
    "subdetectors are successfully implemented within the cdf simulation framework .",
    "we discussed details of the simulation of specific detector components and in particular the performance of the cdf simulation which shows good agreement with @xmath58  collider data .",
    "a further upgrade to geant4 is possible through the low level api without affecting the client s code .",
    "the cdf detector simulation project is the summary of a collective effort of cdf institutions working on implementing and tuning simulation for the many cdf subdetectors .",
    "the authors would like to thank all the members of the cdf simulation group for their support and fruitful discussion .",
    "this work is supported by the u.s .",
    "department of energy under grant de - fg02 - 91er40682 ."
  ],
  "abstract_text": [
    "<S> the cdf detector simulation framework is integrated into an ac++ application used to process events in the cdf experiment . </S>",
    "<S> the simulation framework is based on the geant3 package . </S>",
    "<S> it holds the detector element geometry descriptions , allows configuration of digitizers at run - time and manages the generated data . </S>",
    "<S> the design is based on generic programming which allows for easy extension of the simulation framework . </S>",
    "<S> the overall design , details of specific detector components and in particular the performance of the cdf simulation compared to collider data are described . </S>"
  ]
}