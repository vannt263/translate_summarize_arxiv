{
  "article_text": [
    "the 10.6gev @xmath0 collider cesr at cornell university in ithaca , new york , has served as an outstanding particle physics research facility for over 20 years .",
    "the measured peak luminosity is @xmath1 .",
    "its unique detector , constructed and operated by the cleo collaboration , has been able to provide a wealth of results from its focus on b meson studies and a variety of other topics such as charm and tau physics . since the year 2000",
    ", the cleo iii detector ( @xcite ) has operated with a 4 layer si vertex detector , and a particle identification system based on _ ring imaging cherenkov _ ( rich ) detectors .    due to the greatly increased luminosity during the cleo iii phase ,",
    "a new readout and computing system was designed to cope with higher demands ( @xcite,@xcite ) . throughout the development process",
    ", object oriented principles were applied consequently , resulting in a coherent and easily extensible set of software components that now cover all aspects of cleo computing .",
    "part of this is the cleo iii database domain , implemented in an object database management system ( @xcite ) .",
    "six individual online databases for alarms , program code , histograms , run setup data , run statistics data , and constants , comprise this system . all are implemented as c++ database servers , accessible to the distributed software components via corba communication interfaces ( @xcite,@xcite ) .",
    "two online databases , for run statistics and constants , are also used in the cleo _ offline _ analysis framework .",
    "this framework is used for all cleo physics analysis tasks , such as detector calibration , track reconstruction , monte carlo data generation , and user analysis .",
    "it is based on a lightweight on - demand data delivery approach , as described elsewhere in these proceedings ( @xcite ) .",
    "the cleo iii phase has ended in 2003 .",
    "the storage ring is in the process of being converted to a charm factory ( _ cesr - c_,@xcite ) , adapted for center of mass energies between 3gev and 5gev .",
    "it will serve as a new research tool for precision charm quark measurements , searches for new physics , and @xmath2 lepton studies .",
    "it is expected to provide an array of quantum chromo dynamics ( qcd ) results that permit comparison to the most recent generation of lattice qcd calculations with unprecendented precision .    since the original facility was not constructed for this energy domain , a set of superconducting wiggler magnets",
    "is installed to ensure luminosities around @xmath3 .",
    "several of these devices are already in operation ; the upgrade will be completed in early 2004 . in parallel ,",
    "the cleo detector , now called cleo - c , is undergoing modifications to allow operation at those lower energies .",
    "unfortunately , shortly after its deployment , the cleo iii vertex detector developed severe particle detection inefficiencies .",
    "this effect reduced its usability considerably by causing limitations in secondary vertex identification . in preparation for cleo - c",
    ", it was replaced with a 6 layer conventional vertex drift chamber .",
    "the data structure of a cleo constants object is determined by the user , who writes a definition file in c - style syntax , e.g. :    ....      name : richchannel      {      uint32       channeladdress      uint16       crate    selectby      uint16       threshold      uint16       pedestal      } ....    the cleo build system reads this file and autogenerates a number of source code files for object database storage , database server management , corba interfacing , client data access , and java classes for graphical user interfaces .",
    "this code is compiled and made available to all higher level software ( online and offline ) in libraries and java archives .",
    "a single constants dataset , called a _",
    "constants version _ , consists of one of more instances ( lines ) of data in the form of the described structure , such as the four integers in the above example . in cleo",
    ", some versions have reached ca .",
    "230000 lines .",
    "every dataset receives a unique _ version number _ when it is written to the database . in addition",
    ", a usage tag and run validity range can be associated with each constants version .",
    "users usually do not have write access to the constants database . instead",
    ", a user can create new constants objects programmatically , store them as ascii file , and then submit them to the central constants management system for installation .",
    "after applying some consistency checks and safeguards , that system writes the new data to the database and updates validity information .    after 2 years of operations ,",
    "the cleo constants database had proven to be a reliable design that was extendable for new data types .",
    "it became clear that separate copies of the full database were needed for online operation , track reconstruction processing , public analysis , and remote site monte carlo generation .",
    "for that purpose , the protected online database was designated to be the _ master database _ ,",
    "i.e. the only existing copy available for write access",
    ". a number of copies acted as _ slave mirrors _ , readonly versions that were updated from the master as needed .",
    "this scheme allowed minimization of the load on the master , a requirement for smooth and independent online detector operation .",
    "despite the success in some areas , experience revealed that the constants database system was designed in a way that did not match the predominant usage patterns .",
    "performance degraded with increased database size , causing concern for online operation .",
    "hard disk and cpu contention on the server nodes could lead to wait times of minutes for a single request .",
    "the system could not be expected to scale well for the rising number of clients .",
    "this situation led to the decision to rewrite all constants database access code to ensure future scalability and efficiency .",
    "a data object that is stored in an object database requires a unique identifier ( object identifier , oid ) for data management within the database and for retrieval .",
    "such an object can have almost any shape , typically expressed in a c - style structure ( or a c++-style class ) .",
    "a certain overhead for oid and storage is necessary and typically amounts to 2030 bytes , in addition to the space needed by the object itself . retrieving",
    "an object also entails a certain computing overhead that is mostly independent of object size . from this fact",
    "we conclude that it is desirable to keep the number of objects retrieved in a single database transaction small .",
    "this notion was not part of the original constants database design : a cleo constants version , with a structure as described in the above example , could have many lines .",
    "the original system architects had implemented this as a series of many oids , one per line .",
    "the consequence was considerable overhead in storage space and cpu time needed for retrieval : a download request always asked for a complete constants version , i.e. many oids .",
    "in addition , an inefficient search algorithm that often had to iterate through a large number of objects contributed to a steady decline in download performance as data volume rose over time .",
    "another limitation became relevant when new versions for one of the existing data types were created in greater numbers than originally foreseen .",
    "since every object must have a unique oid , the number of objects in any part of a database is limited . in this case",
    ", there could not be more than @xmath4 versions .",
    "a workaround was possible , but only at the expense of more complicated data distribution and longer search times .    in the data organization domain ,",
    "the original system violated a basic rule of database design : data normalization : the data contents of a constants version was stored not only together with its version number , but also with its usage information ( usage tag and run validity range ) .",
    "in such a setup , one is severely limited in how data access can be managed .",
    "it is , for example , not possible to associate more than one validity range - usage tag combination efficiently with an object , since a search with a certain tag and run number requires examination of many data objects .",
    "since cleo required several such combinations , a cumbersome set of separate structures had to be invented to provide this functionality .",
    "the maintenance of those structures was particularly arduous .",
    "* one oid per constants version * no linear search on retrieval * copious oid space for a large number of versions * constants data stored independently of usage information * navigational elements that allow flexible usage management incorporated into the basic design    according to these requirements , the new design consolidated all lines of one constants version into a single database object .",
    "this approach reduces a database query to the retrieval of one object ; download pattern and storage structure are exactly matched .",
    "the new organization now permits very fast data retrieval through a set of management structures that can be traversed quickly . a lookup with a usage tag and run number",
    "is organized so that a validity list is searched in a tag dictionary , which then holds a direct reference to the desired data object .",
    "the need for linear object searches was completely eliminated by using indexed version lists and hash maps for fast lookup via dynamic usage tags .",
    "loading an object with a specified version number is as easy as opening a version list and dereferencing it with the version number as array index .    with the number of database",
    "objects greatly reduced , the available oid space is now considerably larger than needed for the lifetime of the cleo experiment . at the same time , the space requirements are less than half of the original needs .",
    "a remarkable success story of object oriented client - server design was also the fact that the client interfaces did not have to be modified at all , since the redesign could remain completely confined to the database server implementation .",
    "this allowed a smooth transition of all running build and production systems .    for an illustration of the performance improvement that was achieved through the redesign , see figure  [ fig : averagetimes ] . while the average load time of a single constants version ( @xmath50.2s ) , requested by regular physics reconstruction and analysis programs , were already an improvement from intermediate changes , the new system was able to reduce this time by more than a factor of five .",
    "the distribution is much narrower , which translates into a fast , responsive , and reliable behaviour .",
    "since a single analysis job can request over 100 different constants versions , the impact on real world operation is dramatic .",
    "the generic trend in the high energy and nuclear physics computing community to purchase commercial software for their ever growing production systems has generated many varied experiences .",
    "physicists do not write their own corba implementations , but they have realized that their database needs may be different from what industry requires , and that developing solutions on their own is possible and may turn out to be the better way . of concern for the entire community",
    "is the fact that the widely used commercial implementation of an object database management system by objectivity inc .",
    "( @xcite ) is being deprecated by almost all major collaborations for their large scale data storage needs .",
    "a variety of reasons is cited :    * the physics community is reluctant to adopt software without access to the source code , since its computing systems are usually highly non - standard implementations that require customization .",
    "* an object database does not match traditional data access and usage patterns . * large scale data storage with an object database requires a highly sophisticated and finetuned setup and time consuming expert operation . * financial means in public research are limited .",
    "although those issues are of little direct consequence for the project described here , because of the much smaller database sizes , a decline in overall acceptance will have an impact on product pricing , availability , and support .",
    "similarly , the situation continues to be challenging with regard to platform support .",
    "third party software packages , such as corba implementations , make inroads into the linux world at a slow pace .",
    "but the linux on intel platform is in the process of displacing all other hardware / operating system combinations in the field .",
    "this situation has placed limitations on what can be done with commercial software , and may prove a confining factor in future upgrades of the cleo computing systems .",
    "9 clns report 94/1277 .",
    ", presentation at computing in high energy and nuclear physics 2000 , padova , italy .",
    ", presentation at computing in high energy and nuclear physics 2001 , beijing , china .",
    "objectivity object database , by objectivity inc . , version 5.2 .",
    "see http://www.objectivity.com .",
    "corba ( common object request broker architecture ) is an industry standard for remote method invocation , see http://www.omg.org .",
    "visibroker by inprise , version 5.1 .",
    "references can be found on http://www.inprise.com/visibroker . c.  jones , _ reconstruction and analysis on demand _ , presentation at this conference , psn thjt002 . for a summary ,",
    "see d.g .",
    "cassel , cornell university , lepp , _ cleo - c and cesr - c : a new frontier of weak and strong interactions _ , proceedings of the international conference on the structure and interactions of the photon and 14th international workshop on photon - photon collisions ( photon 2001 ) , 301 - 308 ."
  ],
  "abstract_text": [
    "<S> after the successful conclusion of the cleo iii phase , the cleo experiment at the cornell electron positron storage ring cesr is preparing for its transition to cleo - c . </S>",
    "<S> this new program contains a wide array of physics studies at @xmath0 collisions at center of mass energies between 3gev and 5gev that will provide new insights into qcd . </S>",
    "<S> because the existing silicon vertex detector needed to be replaced within a short time , a 6 layer vertex drift chamber has been installed in spring 2003 . at the same time , the existing ring imaging cherenkov detector , along with a conventional drift chamber , e.m . </S>",
    "<S> calorimeter and muon chambers , will continue to be part of the experiment .    </S>",
    "<S> the cleo constants database system must provide efficient access to detector and analysis constants for a wide variety of purposes , such as hardware configuration , online operation and monitoring , calibration , and the complete cleo analysis framework . </S>",
    "<S> since the original project , implemented through the objectivity object database management system , did not meet those requirements , the system was redesigned from the ground up , using the same technology . </S>",
    "<S> it is currently being introduced into the production environment without significant interruptions . in this presentation </S>",
    "<S> , we will outline the specifications of the constants database system , and then report on the process that led to the redesign . </S>",
    "<S> performance comparisons and insights on relevant design aspects will be shown . </S>"
  ]
}