{
  "article_text": [
    "in ordinary linear algebra over a field , the space of @xmath1 labeled points on a line in @xmath6 is a rather simple one .",
    "consider this space of all @xmath5 matrices whose columns lie on a line . by translating the points ( an action corresponding to adding a constant to each row of the matrix )",
    ", we can assume that the first point lies at the origin .",
    "modulo this translation , this space of matrices then has an obvious cone point , namely the zero matrix .",
    "removing this matrix yields the space of all matrices with first column zero whose remaining @xmath7 columns lie on a unique line .",
    "this line is chosen from the pencil @xmath8 of lines through the origin , and each point lying on the line has one parameter in @xmath9 , so the space is just @xmath10 .    when one is not working over a field , the story is more complicated .",
    "our goal is to investigate the space of @xmath1 points on a line in tropical @xmath2-space , i.e. @xmath2-space over the tropical semiring @xmath11 , where tropical addition @xmath12 is defined via @xmath13 , and tropical multiplication @xmath14 is defined via @xmath15 .",
    "this space , viewed as a subset of @xmath16 as in the usual case , contains some trivial behavior ( translation and dilation ) ; when this is removed , what remains is an interesting polytopal complex .",
    "we will use tropical geometry to give a simple , pictorial decomposition of this complex .    aside from being of intrinsic interest , this space also has connections to another burgeoning area of mathematics , the study of phylogenetic trees .",
    "it is often convenient to work in projective space rather than @xmath6 ; indeed , all tropical geometry naturally takes place in @xmath17 . here",
    ", the tropical grassmannian @xmath18 parametrizes the space of lines  @xcite , which is equivalent to the space of phylogenetic trees with @xmath2 leaves  @xcite , i.e. @xmath2 present - day species .",
    "if we consider the case of @xmath1 points on a line in @xmath2-space , this represents the more general case of having @xmath1 species on a tree with @xmath2 leaves . in real life , of course , the data will not work out exactly , but by seeing how close the closest fit of all @xmath2-dimensional trees is to the data given to us by the @xmath1 species ( namely the distance data between them ) , we can come up with a likelihood estimate that the species fit into a tree with few branches .",
    "for instance , suppose we are trying to resolve where a fossil species fits into the ancestry tree of three present - day species .",
    "if it is related , the four species should comprise a good approximation of four points on a line in three - space ; if it is far - flung , they should not ( though of course there will be a line in four - space which approximates them well . )",
    "furthermore , determining where on the tree it lies gives us an estimate of where it lies as far as the history goes : is it the common ancestor of the three species ?",
    "is it a direct ancestor of one of them but not the other two ?",
    "such questions can be resolved by fitting a tree to the data .",
    "therefore , understanding the space of such @xmath1-point configurations is important for the study of phylogenetic trees . the simplicial complex description we obtain will dissect this space into simple chambers , making it easy to test the data against a possible tree of best fit in each chamber .",
    "another motivation for the study of the tropical semiring comes from the field of optimization .",
    "a matrix has _ barvinok rank _ @xmath19 if it can be expressed as the ( tropical ) sum of @xmath19 matrices of tropical rank one but not as the sum of @xmath20 such matrices  @xcite ; a @xmath5 matrix has tropical rank one if all of its rows are tropical scalar multiples of each other , which is the same thing as saying that its @xmath21-th entry is equal to @xmath22 for some @xmath23 .",
    "the name comes from work of alexander barvinok and his collaborators , who showed that the traveling salesman problem can be solved in polynomial time if the barvinok rank of a matrix is fixed  @xcite .",
    "the smallest nontrivial case is barvinok rank two , where there exists a polynomial - time recognition algorithm  @xcite .",
    "the space of @xmath1 points on a line turns out to be equivalent to the space of @xmath3 matrices of tropical rank two , where the _ tropical rank _ of a matrix is defined to be the size of its largest tropically nonsingular square minor . in ordinary linear algebra ,",
    "the translated definitions of tropical rank and barvinok rank are equivalent ( both being equal to ordinary rank ) , but over the tropical semiring barvinok rank can be much bigger .",
    "however , tropical rank is always less than or equal to barvinok rank  @xcite , meaning that the space of matrices with barvinok rank two is a subset of the space of matrices with tropical rank two , and indeed it is a subcomplex .",
    "we will investigate this subcomplex along with the larger complex of matrices of tropical rank two .",
    "we conjecture that the larger complex is shellable , proving this for @xmath4 ; however , the subcomplex of barvinok rank - two matrices is decidedly not , and even has torsion in its homology .",
    "we determine this homology for @xmath4 and give a description of this complex for general @xmath2 .",
    "throughout this paper , it will prove convenient to work in _ _ t__ropical projective space @xmath17 .",
    "every tropically linear subspace @xmath24 has the property that if @xmath25 is in @xmath24 , then so is @xmath26 for all @xmath19 ; this is even true for any algebraic variety .",
    "for this reason , @xmath27 is the natural setting for tropical geometry , since the tropical geometry of @xmath6 is merely a cylinder over the tropical geometry of @xmath27 . whenever we refer to homology in this paper ,",
    "we mean reduced homology .",
    "the rank of a matrix , and therefore of the point configuration consisting of its columns , can be defined in many different ways .",
    "we review three relevant definitions given in  @xcite , which are all equivalent over a field but inequivalent over the tropical semiring .",
    "the _ tropical rank _ of a matrix @xmath28 is the largest @xmath29 such that @xmath28 has a tropically nonsingular @xmath30 minor .",
    "a square matrix is tropically singular if the tropical determinant @xmath31 } m_{i\\sigma(i ) } ) = { \\rm min}_{\\sigma\\in s_n } ( \\sum_{i\\in [ n ] }   m_{i\\sigma(i)})\\ ] ] achieves the indicated minimum twice .",
    "the tropical rank of a matrix is equal to the dimension of the tropical convex hull of its columns , defined to be the set of all tropical linear combinations of those columns , i.e. the dimension of the image of the matrix .",
    "this image has lineality space @xmath32 , and its image in tropical projective space is a polytopal complex .",
    "this definition of rank is combinatorially nice , and is connected to the study of phylogenetic trees : @xmath1 points form a tree metric if and only if the negated distance matrix has tropical rank two , in which case the tropical convex hull of the columns of this matrix is a realization of the tree . like ordinary polytopes ,",
    "tropical convex hulls satisfy a farkas lemma and have a facet description . for more on tropical convex hulls ,",
    "see  ( @xcite , @xcite ) .",
    "another etymology for the tropical operations is as the image of the ordinary operations on a power series ring @xmath33 under the degree map sending a power series to its minimal exponent .",
    "this allows us to define linear subspaces as the tropical vanishing sets of linear ideals , effecting the following definition .",
    "the _ kapranov rank _ of a matrix @xmath28 is the smallest @xmath29 such that there exists a linear ideal @xmath34 $ ] of codimension @xmath29 such that each column of @xmath28 is in the tropical vanishing set @xmath35 .",
    "a vector @xmath36 is in the tropical vanishing set @xmath35 if for each @xmath37 , the leading term of @xmath38 with respect to the weight vector @xmath39 ( i.e. weight 1 on @xmath40 and weights @xmath41 on the @xmath42 s ) is not a monomial .",
    "the notion of kapranov rank of course accompanies the study of linear subspaces .",
    "the definition of tropical vanishing set is the natural one under the conception of the tropical semiring as coming from this power series ring ; another way to put it is that the tropical vanishing set of an ideal is the image under the degree map of the ordinary vanishing set of the ideal in @xmath43 . for more on tropical algebraic geometry and the study of linear subspaces ,",
    "see ( @xcite , @xcite ) .",
    "our final definition of rank arises naturally in the field of optimization .",
    "the _ barvinok rank _ of a matrix @xmath28 is the smallest @xmath29 such that @xmath28 is the tropical sum of @xmath29 tropically rank - one matrices .",
    "a matrix has tropical rank one if its columns ( equivalently , rows ) are tropical scalar multiples of each other .",
    "we will use the following more tractable reformulation of barvinok rank .",
    "@xcite the barvinok rank of a matrix @xmath44 is the smallest @xmath29 such that its columns lie in the tropical convex hull of @xmath29 points in @xmath27 .",
    "our goal is to investigate the space of @xmath1 labeled points all lying on a line in @xmath27 .",
    "these configurations correspond to @xmath5 matrices of kapranov rank two .",
    "there are two reasons why this ( rank two instead of rank one ) is the natural definition of points on a line .",
    "first of all , because of the projectivization , it is natural to investigate point configurations in @xmath27 , where everything has one smaller dimension .",
    "this is essentially akin to reverse homogenization ; if we have @xmath1 points on an arbitrary affine line in ordinary @xmath6 , in order to get them into a linear subspace one needs to add a dimension .",
    "another natural reason to investigate rank two matrices is that , with no additive identity , there is no such thing as a rank - zero matrix .",
    "the structure of rank - one matrices is uninteresting ; with any of the three definitions of rank above , these matrices are given by @xmath45 for some choice of @xmath42 s and @xmath46 s .",
    "this is because in tropical projective space , where all the geometry lives , these point configurations are just @xmath1 copies of the same point .    in the rank two case , we have the following result .",
    "@xcite[rk2eq ] the properties of having tropical rank two and kapranov rank two are equivalent .",
    "a matrix enjoying these properties has barvinok rank at least two .",
    "the set of matrices of barvinok rank two therefore comprises a subset of the matrices with tropical or kapranov rank two .",
    "we will investigate this set , which is relevant in the field of optimization , along with the larger set of matrices of tropical or kapranov rank two , which are @xmath1-point configurations on a tropical line in @xmath27 .",
    "as for the computation of this set , one way to do it is via grbner basis methods .",
    "the definition of tropical rank above means that we can look at the grbner fans for all @xmath47 determinants of a @xmath5 matrix of indeterminates ; for each , we then pick out the subcomplex where the initial form is not a monomial , and intersect these over all @xmath47 minors .",
    "this immediately gives a polyhedral decomposition of this space , which will obviously have cone point equal to the zero matrix ; removing this yields a polytopal complex .",
    "we can do the same thing to look at the space of @xmath5 matrices of tropical rank @xmath29 .",
    "similarly , it follows from results in  @xcite that the space of @xmath5 matrices of kapranov rank @xmath29 is the no - monomial subcomplex of the grbner fan of the ideal generated by all @xmath48 determinants of a @xmath5 matrix of indeterminates .",
    "since these determinants do not form a grbner basis , these two are not in general the same , although proposition  [ rk2eq ] implies that these complexes are the same in our case of @xmath49 .",
    "our goal is to use geometry in order to get a more explicit , evocative , and tractable definition of this polyhedral complex .",
    "the first step is to mod out by translations . adding a constant to each column",
    "does not change the point configuration or the tropical rank of a matrix . similarly , adding a constant to a row merely translates the point configuration , which does not change its rank .",
    "a note of caution is in order : we must at each step check that we do this in a continuous fashion , so as to preserve the structure of the space , since obviously we can distort the space by picking a bad choice of representatives from the cosets of the translation action .",
    "we will describe a general continuous translation process in section  [ general ] .",
    "after normalizing in this manner , we then investigate the interesting part of the space by removing the cone point given by the zero matrix to produce a polytopal complex , which we denote by @xmath50 .",
    "in particular , we use tropical geometry to give a smaller and more informative polyhedral decomposition than the one given by the grbner fans , and demonstrate how this can be used to compute homology of the resulting polyhedral complex .",
    "this geometric description is useful in proving that the complex is shellable for @xmath4 ; we conjecture that this is true in general .    from this description",
    ", it will also be apparent that the @xmath5 matrices of barvinok rank two comprise a subcomplex , which we denote by @xmath51 .",
    "this subcomplex has interesting homology , which again is most easily computable via the use of the description emanating from tropical geometry .",
    "we give a complete description and analysis of these complexes for @xmath4 ; for @xmath52 and small @xmath1 we present computational results .",
    "in this section , we give a general discourse on @xmath5 matrices of tropical rank two , giving a general geometrically inspired polytopal decomposition of the complex consisting of the interesting part of this space .",
    "we use this polyhedral decomposition to show that the complex is pure of dimension @xmath53 , as is the subcomplex @xmath51 of matrices of barvinok rank two .",
    "first , we describe how to construct a canonical line given a set of @xmath1 points on a line in @xmath27 .",
    "let @xmath54 be the tropical convex hull of the @xmath1 points ; this is the union of all tropical line segments between pairs of points , and is a tree . by a result in  @xcite , tropical line segments between two points are the concatenation of ordinary line segments , whose slopes are all 0/1-vectors , such that the slopes taken along the path from @xmath25 to @xmath55 form a descending chain in the boolean poset . at any node of this tropical line segment , it follows immediately that the slopes of the one or two outgoing line segments are 0/1-vectors with disjoint supports . note that a given such line segment , since we are working in @xmath27 where @xmath56 , has two distinct 0/1 slopes , @xmath25 and @xmath57 , where both are 0/1 vectors with complementary supports .",
    "when we talk about the slope of an outgoing line segment from a point @xmath58 to a point @xmath59 , we mean the one of these which is a positive multiple ( in the ordinary sense ) of @xmath60 .    therefore , given any node of the tropical convex hull , the slopes of the outgoing line segments are all 0/1-vectors with disjoint supports in @xmath61",
    "; if two supports intersected , then taking points in those directions would yield a tropical line segment violating the property of the previous paragraph . at each node where the union of these supports is not @xmath61 ,",
    "we add an outgoing leaf to infinity in the positive @xmath42-direction for every @xmath62 not in the union .",
    "( note that if an original point is on a coordinate leaf , this has the effect of extending that leaf . )",
    "construction of a canonical line from six points in @xmath63 lying on a line .",
    "the coordinate leaves are labeled with their direction ; the points as well as the other nodes of the tree comprising their convex hull are labeled with their coordinates . ]",
    "we claim that this produces a tropical line , as in figure  [ canline ] .",
    "this follows immediately from the fact that it produces a tree with leaves heading to infinity in the coordinate directions , and 0/1 slope vectors which satisfy the zero tension condition .",
    "any such tree is in fact a tropical line  @xcite .",
    "we call this the line generated by the @xmath1 points in question .",
    "we now employ our translation reduction .",
    "the leaf in the direction of the first coordinate has an endpoint ; we translate ( the line and ) the point configuration so that this point is sent to @xmath64 .",
    "this action is easily checked to be continuous , since continuously moving the points moves this tropical line continuously .",
    "similarly , the zero matrix consisting of all @xmath1 points at the origin is clearly a cone point for this set of representatives for the cosets under translation , since to find a line containing the @xmath19-dilates of a point set , we need merely to dilate the line by a factor of @xmath19 .",
    "thus , modding out by this translation action yields a polyhedral complex .",
    "the faces of this complex will be enumerated as follows .",
    "first , pick a tree with @xmath2 labeled leaves ( the coordinate directions . )",
    "we fix @xmath65 to be the endpoint of the leaf in the first coordinate direction .",
    "then , for each of the @xmath1 points , pick a combinatorial place on the tree for it : on a leaf , on an interior segment , or at a node . to obtain a valid face , we require that the @xmath1 points must regenerate the prescribed tree ; this is a combinatorial condition , stating that every internal node of the tree must lie on a segment between two of the @xmath1 selected points .",
    "this setup of a fixed tree with labeled leaves and fixed combinatorial locations for the points will be the combinatorial object corresponding to our cone .",
    "see figure  [ splittree ] for some examples .",
    "the corresponding cone consists of all @xmath1-point configurations which produce this particular combinatorial tree .",
    "this cone is described by several parameters : the lengths of the internal edges of the tree ( which fixes the nodes ) , and for each point on a leaf or an interior segment , its distance from an adjacent node .",
    "these cones partition the space , since each @xmath1-point configuration generates a tree via the process described above .",
    "there is then a linear isomorphism from the set of feasible points in the parameter space to the space of all @xmath1-point configurations which are in the described cone ; there is clearly a linear map , and since each interior segment is actually in the convex hull of the point configuration , changing its length will change the point configuration , so the map is injective .",
    "( this is why we had to carefully augment the partial tree given by the tropical convex hull of the points , as opposed to taking any line containing them . )",
    "feasible points in the parameter space satisfy the following inequalities : for each point on an interior segment @xmath66 , its distance from @xmath67 must be at least zero and at most the length of @xmath66 , and for each point on a leaf , its distance from its incident vertex must be at least zero .",
    "this polyhedron is affinely isomorphic to the corresponding face of the complex .",
    "it is full - dimensional inside the parameter space , whose dimension is equal to the number of points on segments or leaves plus the number of interior edges .",
    "we can compute the facets of this cone simply : they are the results when an inequality in the parameter space is set to zero . setting the length of an interior segment to zero defines a facet only when there are no points on that segment ; this corresponds to contracting an interior edge of the configuration .",
    "the other facets consist of sliding a point on the interior segment @xmath66 to either @xmath67 or @xmath68 .    from this",
    ", we can prove easily and satisfyingly that the complex is pure .",
    "this is also implied by the classical theorem of bieri and groves  @xcite , which states that the tropical vanishing set @xmath35 is a pure polyhedral complex if @xmath69 is prime ( here @xmath69 is the ideal of all @xmath47 subdeterminants of a @xmath5 matrix of indeterminates ) ; however , that proof is algebraic and not enlightening regarding the complex at hand .",
    "we can construct a maximal cone which has a given cone as a face as follows .",
    "first , slide each point at a vertex onto one of the adjacent segments ; choose a leaf when the vertex is a leaf of @xmath54 , and a segment in @xmath54 otherwise .",
    "this cone clearly has the original cone as a face .",
    "let @xmath54 be the convex hull of the resulting configuration .     how to find a cone of maximal dimension containing an arbitrary cone .",
    "the first step involves moving points off vertices ; the second step involves splitting the tree at its non - trivalent nodes . ]",
    "we now claim that the only internal nodes of the tree generated by @xmath54 are nodes incident on two ordinary line segments from @xmath54 . indeed ,",
    "if a leaf of @xmath54 were at an internal node , it would be incident on a leaf of the tree by construction , and we would have moved it onto that leaf in the first step .",
    "consequently , each internal node of this tree has at least two line segments of @xmath54 adjacent to it .",
    "if this node is not trivalent , insert a bridge into it to split the node into two parts in such a way that not all the incoming line segments of @xmath54 are on the same side ( see figure  [ splittree ] ) ; then the resulting point configuration generates the split tree . letting this bridge go to length yields the original cone , so we have constructed a cone with the original cone as a face .",
    "keep doing this until the tree is trivalent ; the final cone will again have the original cone as a face .",
    "this process is depicted in figure  [ splittree ] .    since its tree is trivalent , this cone it has @xmath70 interior edges .",
    "its dimension is therefore equal to @xmath70 plus the number of points on an interior segment or a leaf , which is all @xmath1 of them .",
    "so the dimension of the cone is equal to @xmath71 , the maximum possible for any cone in our decomposition , and it has the original cone as a face . therefore the polyhedral complex is pure of dimension @xmath71 , and the polytopal complex is pure of dimension @xmath53 .",
    "it is easy to check that our operations do not change the property of having barvinok rank two ( which means that the points are all in the tropical convex hull of two points , which can be taken to be two of the original points ) , and so by the same reasoning , the subcomplex of point configurations of barvinok rank two is also pure ( as a polytopal complex ) of dimension @xmath53 .    the polytopal complex we have given is much smaller than the complex given by the grbner decomposition . considering only the facets",
    ", the grbner decomposition distinguishes the order of all the points on the interior segments , as well as the order of all but the two furthest - out points on each coordinate leaf .",
    "our decomposition does neither , and hence has far fewer facets .    as constructed , however , our complex has the drawback of not being a simplicial complex , which makes its homology somewhat harder to compute .",
    "the number of facets of a cone is easy to compute : it is the number of internal segments with no points , plus the number of points on leaves , plus twice the number of points on internal segments . by some easy dimension - counting",
    ", this cone will be a simplex whenever no internal segment has multiple points .",
    "we can refine our decomposition to make it simplicial by specifying the order of the points on internal segments .",
    "this still yields a decomposition much smaller than the grbner one , especially when @xmath1 is much bigger than @xmath2 , such as in the case where @xmath2 is fixed and we are investigating these complexes for arbitrary @xmath1 .    in the remaining two sections , we will use this small , geometric decomposition to investigate the cases of @xmath4 and @xmath52 , giving a nice combinatorial description of both @xmath72 and @xmath73 and using this to compute their homology and shell the former . for @xmath52 ,",
    "we present experimental results and give an expanded geometric picture for the specific case of @xmath74 and @xmath52 , using this to interpret geometrically the duality given by transposing the matrix .",
    "in this section , we investigate the case of @xmath1 points on a line in the tropical projective plane @xmath75 .",
    "this is equivalent to considering the space of @xmath76 matrices of tropical rank two , or the points in the tropical determinantal variety @xmath35 , where @xmath69 is the ideal generated by all @xmath47 minors of a @xmath76 matrix of indeterminates .",
    "we consider this space of matrices .",
    "modding out by the uninteresting parts as in section  [ general ] leaves us with the space of @xmath1 points on the standard line with apex @xmath77 , not all on the relative interior of one branch ( if @xmath1 points all lie on the same branch of a line , the process in section  [ general ] will generate the line where one of them is the apex . )",
    "we now investigate this polytopal complex .",
    "each point can either be at the apex @xmath78 , or on branch 1 , 2 , or 3 ; therefore , each matrix @xmath28 has an associated length-@xmath1 string in the alphabet @xmath79 , which we denote by @xmath80 .",
    "let @xmath81 denote the topological closure of @xmath82 , where @xmath83 is a string of length @xmath1 in that alphabet .",
    "we then have the following proposition .    as @xmath83 ranges over all length-@xmath1 strings in @xmath79 , excepting the strings all of whose entries are identical , the sets @xmath81 are simplicial cones forming a simplicial complex .",
    "the facets of @xmath81 are of the form @xmath84 , where @xmath85 ranges over all strings identical to @xmath83 except that one non - zero character has been changed to 0 .",
    "this is a special case of the general procedure of section  [ general ] .",
    "explicitly , @xmath81 is defined by the following set of inequalities and equalities on the matrix @xmath28 :    @xmath86    the matrices @xmath28 with @xmath87 are those for which the inequalities are all strict . the facets of @xmath81 correspond to setting one of the inequalities to an equality , which corresponds to changing an @xmath88 to 0 .",
    "this produces @xmath84 , where @xmath89 except that @xmath90 while @xmath91 .",
    "the cone has as many facets as dimensions , and hence is simplicial .",
    "this simplicial complex @xmath72 is easy to describe .",
    "the dimension of a cone is equal to the number of nonzero entries ( subtract one to get the dimension of the corresponding simplex . )",
    "the facets are the strings with no zeroes , except that the strings @xmath32 , @xmath92 , and @xmath93 are not present ; there are @xmath94 of these .",
    "the extreme rays ( points of the complex ) are the strings with one nonzero entry ; there are @xmath95 of these . except for the top dimension ,",
    "the number of @xmath19-faces of the simplicial complex is equal to @xmath96 .",
    "the complex @xmath72 is shellable .",
    "we exhibit an explicit shelling of @xmath72 .",
    "its facets are all strings of length @xmath1 in the alphabet @xmath97 excepting @xmath98 , and the intersection of two facets @xmath81 and @xmath84 is equal to @xmath99 , where @xmath100 is equal to 0 unless @xmath101 , in which case it is equal to both of them .",
    "we construct the `` snake ordering '' of the ternary strings of length @xmath1 recursively as follows .",
    "if @xmath102 , we have @xmath103 .",
    "if @xmath104 , denote by @xmath105 the string @xmath83 minus its first letter . then we define @xmath106 if :    @xmath107    the proof is then complete with the following lemma .",
    "the snake ordering , with any subset of the facets @xmath32 , @xmath92 , and @xmath93 removed , is a valid shelling order for the simplicial complex which remains .",
    "the proof is by induction . for @xmath102 ,",
    "the lemma is trivial . for @xmath108 ,",
    "it is easily checked .",
    "suppose @xmath109 ; we need to check that if @xmath106 , then there exists some @xmath110 such that @xmath111 is a facet of @xmath85 and @xmath112 .    if @xmath113 , then by the inductive hypothesis we are done , since the set of facets with @xmath114 for fixed @xmath19 are listed in either the snake ordering or its reverse ; these orderings are isomorphic , and the facets missing are some subset of @xmath32 , @xmath92 , and @xmath93 .",
    "next , suppose @xmath115 . in general",
    ", we can define @xmath116 by setting @xmath117 for @xmath118 and setting @xmath119 to be anything less than @xmath120 .",
    "the only case in which this fails is the case where @xmath121 , @xmath122 , and @xmath32 is removed . in this case , since @xmath123 , there exists some @xmath124 with @xmath125 .",
    "then define @xmath116 via @xmath117 for @xmath126 and @xmath127 .",
    "since @xmath109 , @xmath116 is not the all-2 s vector , so it has not been removed .",
    "furthermore , @xmath110 , since @xmath128 is even and @xmath129 because @xmath130 is minimal in the snake ordering on @xmath131-strings .",
    "therefore , @xmath116 is as desired , completing the proof .",
    "we can now easily compute the homology of @xmath72 .",
    "@xmath132 , and @xmath133 for @xmath134 .",
    "since the complex is shellable , from the mayer - vietoris sequence for reduced homology , it immediately has only top homology , which is free of some rank . to compute this rank",
    ", it suffices to compute the euler characteristic of the complex .",
    "up to a sign , this is equal to :    @xmath135    so @xmath136 is free of rank @xmath137 as desired .",
    "thus , unlike the classical case , the space of @xmath1 points on a line gets exponentially complicated ( at least topologically ) as @xmath1 grows large , even in two - space .",
    "it is worthwhile to note that this description of the simplicial complex is in general much smaller than the natural grbner description ( although not for @xmath138 , where it is a minimal simplicial refinement of the non - simplicial grbner - derived complex . )",
    "the facets of the grbner - derived complex in general correspond to not only a distribution of the points among the branches , but also an ordering of all but the two furthest points on each branch .",
    "this makes them far more numerous ; for example , for @xmath139 , our complex has 2184 facets and 21 extreme rays , while the grbner decomposition of the same space has 48510 facets and 378 extreme rays .",
    "in the @xmath76 case , the subspace of all matrices of barvinok rank two ( which we will call @xmath73 ) exhibits quite different behavior . as in the case of tropical rank two ,",
    "the property of having barvinok rank two is translation - independent , so as before we can reduce to the case of @xmath1 points on the standard line .",
    "similarly , dilation does not change the barvinok rank of a matrix , so we can pass to the simplicial complex description .",
    "a matrix has barvinok rank two if and only if the corresponding point configuration is contained in the convex hull of two points ; in our simplicial complex description , this is equal to the union of the simplicial cones corresponding to strings including only @xmath78 and two of @xmath97 , or the union of the facets corresponding to length-@xmath1 ternary strings containing only two distinct symbols .",
    "this subcomplex naturally breaks up into three parts , one for each pair of symbols ; we will call these @xmath140 , @xmath141 , and @xmath142 .",
    "all three of these parts are isomorphic .",
    "@xmath140 is the union of facets corresponding to all length-@xmath1 strings of 1 s and 2 s , except for the all-1 s and all-2 s vectors ; this object is , as a simplicial complex , equal to the boundary of the @xmath1-dimensional crosspolytope with the interiors of two opposite facets removed .",
    "these three crosspolytopes , which are homotopy equivalent to @xmath143 , are spliced together along the boundaries of the missing facets , so we have for instance @xmath144 equal to the boundary of the would - be facet @xmath32 , namely @xmath145 , where @xmath146",
    ". we will denote the homological sum @xmath147 by @xmath148 $ ] , and we will similarly denote the would - be homological boundary of the missing facets @xmath92 and @xmath93 by @xmath149 $ ] and @xmath150 $ ] respectively .    computing the homology of this object is not too hard via a mayer - vietoris sequence .",
    "@xmath140 , @xmath142 , and @xmath141 have homology only in dimension @xmath151 , while the intersection @xmath152 also has homology only in dimension @xmath151 , and the intersection @xmath153 only has homology in dimensions 0 and @xmath151 .",
    "consequently , by the mayer - vietoris sequence , @xmath154 , and the only other possible homology is in dimensions @xmath151 and @xmath7 .    to compute these homologies , we need to compute the cycles in @xmath140 , @xmath141 , and @xmath142 ; all computations are essentially the same .",
    "the homology of @xmath140 is generated by the cycle @xmath148 $ ] . for a facet in @xmath140 , which corresponds to a string of 1 s and 2 s ,",
    "define @xmath155 , where @xmath29 is the number of @xmath156 s in the string .",
    "then it is easy to see that the homological boundary @xmath157 is precisely @xmath148+(-1)^n [ 2]$ ] .",
    "we must now consider two cases .",
    "first , suppose @xmath1 is even ; then @xmath148+[2]$ ] is a boundary , as is @xmath149+[3]$ ] and @xmath148+[3]$ ] .",
    "this immediately implies that @xmath158+{\\mathbb{z}}[2]+{\\mathbb{z}}[3])/([1]+[2 ] , [ 1]+[3 ] , [ 2]+[3 ] ) \\cong { \\mathbb{z}}/2{\\mathbb{z}}.\\ ] ]    meanwhile , @xmath159 is given by the @xmath131-cycles whose boundary is zero , i.e. @xmath160+[2 ] ) +   y([2]+[3 ] ) + z([1]+[3 ] ) = 0\\}$ ] .",
    "however , this is just the zero vector @xmath161 , so @xmath162 for @xmath1 even .    similarly , when @xmath1 is odd , the boundaries are @xmath148-[2]$ ] , @xmath149-[3]$ ] , and @xmath150-[1]$ ] .",
    "we then have @xmath163 + { \\mathbb{z}}[2 ] + { \\mathbb{z}}[3])/([1]-[2 ] , [ 1]-[3 ] , [ 2]-[3 ] ) \\cong { \\mathbb{z } } , { \\rm and } \\\\ h_{n-1}(b_{3,n } ) & = &   \\{x , y , z \\mid x([1]-[2 ] ) + y([1]-[3 ] ) + z([2]-[3 ] ) = 0\\ } \\cong { \\mathbb{z}}.\\end{aligned}\\ ] ]    we have proven the following theorem about the homology of the ( interesting component of ) the space of @xmath76 matrices of barvinok rank two .",
    "the nonzero homology of the simplicial complex @xmath73 is given by :    @xmath164    again , our simplicial complex description is far more informative than the grbner decomposition . for @xmath139 ,",
    "the subcomplex of barvinok rank two has 378 facets in our presentation and 27720 in the grbner one .",
    "figure  [ 3x3-figure ] shows the situation for @xmath138 , that is , @xmath47 matrices of rank two .",
    "the space of all @xmath47 matrices of tropical rank two turns out to be the 2-skeleton of the product of two triangles , @xmath165 .",
    "this is represented as a schlegel diagram in 3-space , a triangular prism with a third parallel triangle inside it joined to the other two in the obvious way .",
    "the grbner decomposition corresponds to precisely this complex ; our description corresponds to subdividing the squares into two triangles to make the complex , the dotted lines in the figure .",
    "one can see the three - dimensional homology @xmath166 as the five empty three - dimensional chambers .",
    "the barvinok subcomplex consists of the union of all faces whose vertices only have two distinct numbers ; this is the union of the nine squares in the grbner decomposition , and none of the triangles .",
    "this union is evidently a torus , the union of three triangular prisms missing caps ( or three octahedra with missing opposite facets . )",
    "the derived cross - polytopal decomposition of @xmath73 suggests the following conjecture .    for all @xmath167 and @xmath1 , the complex @xmath168 of @xmath169 matrices of barvinok rank two is a manifold .",
    "this is obviously true for @xmath73 from the decomposition into crosspolytopes . as we will see in the next section ,",
    "@xmath170 has a more complicated decomposition , but the complexity of this decomposition is still independent of @xmath1 , and its homology is small .",
    "all homology calculations in this section were done using the topaz package of polymake  @xcite .    in this section ,",
    "we discuss the case of @xmath1 points on a line in @xmath171 , which corresponds to the space of all @xmath172 matrices of tropical rank two . we will give a complete , nice geometric description along the lines of section  [ twod ] for the case of @xmath173 matrices of tropical rank two , and point out the subcomplex of matrices of barvinok rank two .",
    "we will also present homology computations for small values of @xmath1 for these two complexes ; as in the @xmath138 case , the barvinok subcomplex appears to have periodic behavior with small homology , while the full complex has only free top homology , suggesting that the complex may be shellable .",
    "lines in @xmath171 have the form shown in figure  [ line3space ] . unlike in @xmath75 ,",
    "not all lines are translates of each other .",
    "there are three distinct classes of lines , depending on which directions are paired with each other , plus a degenerate case in which all four coordinate directions come together at a single point . the line shown in figure  [ line3space ] has directions 1 and 2 paired and directions 3 and 4 paired . in @xmath27 , the line will look like a tree with @xmath2 leaves heading off in the coordinate directions ; the slopes of the intermediate segments are as necessary for the zero tension condition .",
    "for instance , in figure  [ line3space ] , at the interior point @xmath174 , there are three segments going out , with slopes @xmath175 , @xmath176 , and @xmath177 .",
    "these slopes ( taken with magnitudes so that they are 0/1-vectors ) add up to @xmath178 , which is equal to 0 in @xmath171 .    deconstructing the complex @xmath179 geometrically can be done as in section  [ general ] , by drawing all trivalent trees with four labeled leaves and then placing the points on the leaves and/or interior segments .",
    "there are three such trees corresponding to the three pairings of the directions @xmath180 . for each tree",
    ", we can place each of the points @xmath180 on one of five segments .",
    "some of these placements , however , do not yield facets",
    ". in particular , there must be at least one point placed on one of the two leaves on each side of the tree ; otherwise , the points will not generate the tree in question . by inclusion - exclusion , this yields that the number of facets of this decomposition is @xmath181 .",
    "the non - simplicial facets are the ones with two points on the interior segment ; there are @xmath182 of these . in order to get a simplicial decomposition",
    ", we must break these each into two simplices by specifying the order of the interior points ; this turns the 144 simplices into 288 , for a total of 1536 simplices in our simplicial complex .",
    "there are 58 extreme rays .",
    "however , we can come up with an even smaller description by combining some of these simplices , again using geometry .",
    "the fundamental observation is the following : if two of the points are on a leaf , and one point is on the interior segment , then the fourth point can be anywhere in a two - dimensional orthant with apex equal to the interior point and directions equal to the positive coordinate directions of the two coordinates on the other side of the bridge from the leaf .",
    "we represent this by drawing a box around the relevant parts of the tree to denote that the point can be anywhere in this box .",
    "this particular situation is represented by picture 1 in figure  [ 8pics4x4 ] .",
    "the eight different ways ( up to symmetry ) that four points can be on a line .",
    "the boxes in pictures 1 , 2 , 5 , and 6 indicate that those points can be anywhere in a two - dimensional cone ; the box in picture 4 indicates that the point inside it can be anywhere in a three - dimensional cone . ]",
    "the eight pictures in figure  [ 8pics4x4 ] represent the eight different types of cones we use for a smaller polytopal decomposition , along with the number of cones in each symmetry class ( since we can assign the directions and points arbitrarily to a given picture . )",
    "this creates a decomposition with f - vector @xmath183 ( i.e. 34 extreme rays , and 772 facets . )",
    "what we wish to highlight here is the description of the complex in terms of valid pictures . as with our somewhat larger 1536-simplex decomposition ,",
    "it is clear from the pictures what the facets of each cone are ; inside a box , they correspond to moving the point in the box to a facet of the box , while outside the boxes they correspond to the previously described operation .",
    "two of our symmetry classes , pictures 4 and 6 , are not simplicial .",
    "picture 4 represents the case where three of the points are on a coordinate leaf and the remaining point is anywhere in the three - dimensional cone given by the closest point , which really means , from an inequality perspective , that it is inside all of the three - dimensional cones at each of the points .",
    "we can make this simplicial by specifying which of the points is the lowest , thus breaking this into three smaller subcones .",
    "similarly , in picture 6 , each point in a two - dimensional cone must be inside both two - dimensional cones with apex a point on the interior segment ; distinguishing the order of the two interior points again makes this simplicial .",
    "this introduces some extra faces of lower dimension as well , making the @xmath38-vector @xmath184 .",
    "computing the homology of this @xmath179 yields that @xmath185 and that all other homology groups are zero .",
    "this , along with the shelling for @xmath72 , yields the following conjecture .    for all @xmath167 and @xmath1",
    ", the complex @xmath186 consisting of @xmath169 matrices of tropical rank two is shellable .",
    "this conjecture is further strengthened by the computation ( using similar methods ) that @xmath187 also has only top homology ( @xmath188 , to be precise . )",
    "an example of duality .",
    "the configuration on the left , a cone in the class of picture 5 in figure  [ 8pics4x4 ] , is dual to the configuration on the right , a cone in the class of picture 8 .",
    "transposing the matrices in the left - hand cone yields the matrices in the right - hand cone . ]",
    "another nice feature of the geometric description given by the eight pictures in figure  [ 8pics4x4 ] is that the duality of the simplicial complex is clearly present .",
    "since we are describing the space of @xmath173 matrices of tropical rank two , the map given by transposition should be an involution , and indeed we can see this in the simplicial complex . in each picture",
    ", there are four points and four leaves , and by looking at the relative distances between the points and the leaves , we can draw a dual picture where the points become the leaves and the leaves become the points .",
    "for instance , consider figure  [ dualpic ] . in the left - hand diagram ,",
    "leaf 1 is closest to a , second closest to c , and equidistant from b and d. leaf 2 is closest to d , then b , then c , then a. point a ( which can be anywhere in a two - dimensional cone ) is closest to leaves 1 and 4 , and furthest from leaves 2 and 3 ; the rest of the points and leaves can have their distances to members of the other category similarly ordered . in the right - hand diagram ,",
    "the same orderings hold , except that the points are now represented by leaves and vice versa .",
    "( the points 1 and 4 can be on leaf a in either order in the cone represented by the right - hand diagram . )    in this fashion , we can compute that a cone in the class of picture 1 will be dual to another cone in that class , as the upper - left leaf becomes the point in the box , the two points on the upper - left leaf become the two leaves of the box , and so on .",
    "similarly , the cones in picture 2 are dual to other cones in picture 2 , the cones in picture 3 are dual to the cones in picture 6 ( after those cones are split into simplices by distinguishing the order of points on the initial segment ) , the cones in picture 4 are dual to each other ( again after distinguishing the bottom point to make them simplicial ) , the cones in picture 5 are dual to the cones in picture 8 ( as in figure  [ dualpic ] ) , and the cones in picture 7 are dual to each other .",
    "meanwhile , the subcomplex of barvinok rank - two configurations , @xmath189 , is easily picked out ; this is the union of the facets corresponding to pictures 1 , 3 , 4 , and 6 .",
    "computing the homology yields some interesting results reminiscent of the @xmath73 case ; @xmath190 .",
    "thus it has top homology @xmath191 , and torsion in dimensions 1 and 2 . computing homology for @xmath192 yields similarly striking results ; we get @xmath193 . finally , @xmath194 .    as in the three - dimensional case",
    ", there is a suggestive way to decompose the barvinok subcomplex @xmath170 ; indeed , a similar technique works for @xmath168 .",
    "the facets of @xmath195 which are in @xmath170 are those where the points are contained in the convex hull of two points ; that is , the configurations where no pair of leaves on the same side of the bridge contain points .",
    "these decompose into twelve classes , depending on the direction of the bridge ( three choices ) and a choice of a leaf from each side which is allowed to contain points ( four choices . )",
    "these twelve classes of cones intersect predictably ; for instance , the class in figure  [ barv44 ] shares facets with three other classes as depicted . if we could now bound the homology of each of these classes and of their intersections ( each of which corresponds to a picture ) independent of @xmath1 , we could then bound the homology of the entire complex .",
    "the picture on the right - hand side represents a class of four points in @xmath171 of barvinok rank two , namely the class where all four points are in the indicated region of the indicated tree .",
    "the three pictures on the left are three other classes sharing facets with the class on the right ; the shared facet class is given by four points on the indicated region of the picture labeling the edge . ]",
    "furthermore , each class has a nice combinatorial description as a complex .",
    "its faces correspond to length-@xmath1 strings in the alphabet @xmath196 , where @xmath156 and @xmath197 correspond to the leaves , @xmath198 corresponds to the interior segment , @xmath199 and @xmath200 correspond to the intersection points of the two leaves with the interior segment , and @xmath201 corresponds to the central point in the case where the interior segment has length 0 .",
    "the set of strings corresponding to actual faces consists of all strings with the following properties :    * if the string contains @xmath201 , it contains none of @xmath202 .",
    "* the string does not contain only the symbols @xmath203 or only the symbols @xmath204 .",
    "the dimension of the cone is equal to the number of 1 s , 2 s , and 3 s , plus one if the string does not contain any @xmath201 s ( i.e. corresponds to an unfused picture . ) the intersection rule is also easy to give combinatorially .",
    "we simply intersect the strings coordinate - wise , via the following intersection table , which just corresponds to finding the largest picture which is contained in both component pictures .",
    "@xmath205    after doing the coordinate - wise intersection , if there are any c s in the resulting string , change all the a s , b s , and 3 s to c s .",
    "the final string then corresponds to the intersection of the two cones .",
    "this procedure works for higher @xmath2 as well , yielding a decomposition of @xmath51 into simple picture classes which intersect nicely with each other , and whose members also intersect via a similar coordinate - wise intersection rule ; the number of such classes does not depend on @xmath1 . in this fashion",
    ", it seems reasonably likely that the behavior we have observed holds in general : that the homology of @xmath51 does not increase in complexity as @xmath1 gets large .",
    "in this paper , we have demonstrated how the complex @xmath50 of @xmath5 matrices with tropical rank two has a nice decomposition , which in general is much smaller than the grbner decomposition , and which can be expressed in terms of pictures .",
    "in addition , the space @xmath51 of @xmath5 matrices of barvinok rank two is a subcomplex , and both complexes are pure . for dimension three , we show that @xmath50 is shellable , while @xmath51 has periodic and small homology ; we conjecture that these are true for arbitrary @xmath2 and @xmath1 .",
    "the above framework of pictures can also be implemented for rank higher than two .",
    "the rank - two case is the most important for two reasons : first of all , it has a phylogenetic interpretation , and second of all , we have a good description of lines . in rank",
    "higher than two , tropical and kapranov ranks diverge , although they agree in the case of corank one ( @xmath1 points on a hyperplane . ) in addition , the space of @xmath29-planes in @xmath27 is in general a complicated one .",
    "nonetheless , the methods we have presented here may well be applicable to such a study .",
    "this work was completed while the author held the aim postdoctoral fellowship 2003 - 2008 .",
    "i would also like to thank bernd sturmfels for comments on a preliminary version , and the referee for many helpful comments and revisions .",
    "99 a. barvinok , d.s .",
    "johnson , and g.j .",
    "`` the maximum traveling salesman problem under polyhedral norms '' , in `` integer programming and combinatorial optimization '' , _ lecture notes in computer science _ * 1412 * , springer , berlin , 1998 , 195201 ."
  ],
  "abstract_text": [
    "<S> the tropical semiring @xmath0 has enjoyed a recent renaissance , owing to its connections to mathematical biology as well as optimization and algebraic geometry . in this paper , we investigate the space of labeled @xmath1-point configurations lying on a tropical line in @xmath2-space , which is interpretable as the space of @xmath1-species phylogenetic trees . </S>",
    "<S> this is equivalent to the space of @xmath3 matrices of tropical rank two , a simplicial complex . </S>",
    "<S> we prove that this simplicial complex is shellable for dimension @xmath4 and compute its homology in this case , conjecturing that this complex is shellable in general . </S>",
    "<S> we also investigate the space of @xmath5 matrices of barvinok rank two , a subcomplex directly related to optimization , giving a complete description of this subcomplex in the case @xmath4 . </S>"
  ]
}