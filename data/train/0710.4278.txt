{
  "article_text": [
    "in industrial inspection , there is an ever - growing demand for highly accurate , non - destructive measurements of three - dimensional object geometries .",
    "a variety of optical sensors have been developed to meet these demands  @xcite .",
    "these sensors satisfy the requirements at least partially .",
    "numerous applications , however , still wait for a capable metrology .",
    "the limitations of those sensors emerge from physics and technology  the physical limits are determined by the wave equation and by coherent noise , while the technological limits are mainly due to the space - time - bandwidth product of electronic cameras .",
    "closer consideration reveals that the technological limits are basically of information - theoretical nature .",
    "the majority of the available optical 3d sensors need large amounts of raw data in order to obtain the shape .",
    "a lot of redundant information is acquired and the expensive channel capacity of the sensors is used inefficiently  @xcite . a major source of redundancy is the shape of the object itself : if the object surface @xmath0 is almost planar , there is similar height information at each pixel . in terms of information theory",
    "the surface points of such objects are `` correlated '' ; their power spectral density @xmath1 decreases rapidly . in order to remove redundancy",
    ", one can apply spatial differentiation to whiten the power spectral density ( see fig .",
    "[ spectra ] ) . fortunately , there are optical systems that perform such spatial differentiation .",
    "indeed , sensors that acquire just the local slope instead of absolute height values are much more efficient in terms of exploiting the available channel capacity .",
    "further , reconstructing the object height from slope data reduces the high - frequency noise since integration acts as a low - pass filter .",
    "there are several sensor principles that acquire the local slope : for _ rough surfaces _ , it is mainly the principle of shape from shading  @xcite . for _ specular surfaces _ , there are differentiating sensor principles like the differential interference contrast microscopy or deflectometry  @xcite .",
    "deflectometric scanning methods allow an extremely precise characterization of optical surfaces by measuring slope variations as small as @xmath2arcsec  @xcite .",
    "full - field deflectometric sensors acquire the two - dimensional local gradient of a ( specular ) surface . using `` phase - measuring deflectometry '' ( pmd )  @xcite , for example",
    ", one can measure the local gradient of an object at one million sample points within a few seconds .",
    "the repeatability of the sensor described in  @xcite is below @xmath3arcsec with an absolute error less than @xmath4arcsec , on a measurement field of @xmath5 mm  @xmath6  @xmath5 mm and a sampling distance of @xmath7 mm .    in several cases",
    "it is sufficient to know the local gradient or the local curvature ; however , most applications demand the height information as well . as an example we consider eyeglass lenses . in order to calculate the local surface power of an eyeglass lens by numerical differentiation , we only need the surface slope and the lateral sampling distance . but for quality assurance in an industrial setup , it is necessary to adjust the production machines according to the measured shape deviation .",
    "this requires height information of the surface .",
    "another application is the measurement of precision optics . for the optimization of these systems sensors",
    "are used to measure the local gradient of wavefronts  @xcite . to obtain the shape of these wavefronts , a numerical shape reconstruction method is needed .      in the previous section we stated that measuring the gradient instead of the object height is more efficient from an information - theoretical point of view , since redundant information is largely reduced .",
    "using numerical integration techniques , the shape of the object can be reconstructed locally with high accuracy .",
    "for example , a full - field deflectometric sensor allows the detection of local height variations as small as _ a few nanometers_.    however , if we want to reconstruct the global shape of the object , low - frequency information is essential . acquiring _ solely the slope _ of the object reduces the low - frequency information",
    "substantially ( see fig .",
    "[ spectra ] ) . in other words",
    ", we have a lot of _ local _ information while lacking _ global _ information , because we reduced the latter by optical differentiation . as a consequence , small measuring errors in the low - frequency range will have a strong effect on the overall reconstructed surface shape .",
    "this makes the reconstruction of the global shape a difficult task .",
    "furthermore , one - dimensional integration techniques can not be easily extended to the two - dimensional case . in this case",
    ", one has to choose a path of integration .",
    "unfortunately , noisy data leads to different integration results depending on the path@xcite . therefore",
    ", requiring the integration to be path independent becomes an important condition ( `` integrability condition '' ) for developing an optimal reconstruction algorithm ( see sections  [ problem ] and  [ optimal ] ) .",
    "we consider an _ object surface _ to be a twice continuously differentiable function @xmath8 on some compact , simply connected region @xmath9 .",
    "the integrability condition implies that the gradient field @xmath10 is _ curl free _ , i.e. every path integral between two points yields the same value .",
    "this is equivalent to the requirement that there exists a potential @xmath11 to the gradient field @xmath12 which is unique up to a constant .",
    "most object surfaces measurable by deflectometric sensors fulfill these requirements , or at least they can be decomposed into simple surface patches showing these properties .",
    "measuring the gradient @xmath12 at each sample point @xmath13 yields a discrete vector field @xmath14 .",
    "these measured gradient values usually are contaminated by noise ",
    "the vector field is not necessarily curl free .",
    "hence , there might not exist a potential @xmath11 such that @xmath15 for all @xmath16 . in that case",
    ", we seek a least - squares approximation , i.e.  a surface representation @xmath11 such that the following error functional is minimized  @xcite : @xmath17 ^ 2 + \\left[z_y({\\bf x}_i)-q({\\bf x}_i)\\right]^2.\\ ] ]",
    "in the case of one - dimensional data , integration is a rather straightforward procedure which has been investigated quite extensively  @xcite . in case of two - dimensional data , there",
    "exist mainly two different approaches to solve the stated problem  @xcite . on the one hand ,",
    "there are _ local methods _ : they integrate along predetermined paths .",
    "the advantage of these methods is that they are simple and fast , and that they reconstruct small local height variations quite well .",
    "however , they propagate both the measurement error and the discretization error along the path . therefore , they introduce a global shape deviation .",
    "this effect is even worse if the given gradient field is not guaranteed to be curl free : in this case , the error also depends on the chosen path . on the other hand , there are _ global methods _ :",
    "they try to minimize @xmath18 by solving its corresponding euler - lagrange equation@xcite @xmath19 where @xmath20 and @xmath21 denote the numerical @xmath22- and @xmath23-derivative of the measured data @xmath24 and @xmath25 , respectively .",
    "the advantage of global methods is that there is no propagation of the error ; instead , the error gets evenly distributed over all sample points . unfortunately , the implementation has certain difficulties .",
    "methods based on finite differences are usually inefficient in their convergence when applied to strongly curved surfaces  @xcite .",
    "therefore , they are mainly used for nearly planar objects . another approach to solve eq .",
    "( [ poisson ] ) is based on fourier transformation  @xcite .",
    "integration in the fourier domain has the advantage of being optimal with respect to information - theoretical considerations  @xcite .",
    "however , fourier methods assume a periodic extension on the boundary which can not be easily enforced with irregularly shaped boundaries in a two - dimensional domain .    in general , it is crucial to note that the reconstruction method depends on the slope - measuring sensor and the properties of the acquired data .",
    "for example , slope data acquired by shape from shading is rather noisy , exhibits curl , and is usually located on a full grid of millions of points . here",
    ", a fast subspace approximation method like the one proposed by frankot and chellappa  @xcite is appropriate . on the other hand , wavefront reconstruction deals with much smaller data sets , and the surface",
    "is known to be rather smooth and flat . in this case",
    ", a direct finite - difference solver can be applied  @xcite .",
    "deflectometric sensors deliver a third type of data : it consists of very large data sets with rather small noise and curl , but the data may not be complete , depending on the local reflectance of the measured surface .",
    "furthermore , the measuring field may have an unknown , irregularly shaped boundary .",
    "these properties render most of the aforementioned methods unusable for deflectometric data . in the following sections",
    ", we will describe a surface reconstruction method which is especially able to deal with slope data acquired by sensors such as phase - measuring deflectometry .",
    "the desired surface reconstruction method should have the properties of both _ local and global _ integration methods : it needs to _ preserve local details _ without propagating the error along a certain path .",
    "it also needs to minimize the error functional of eq .",
    "( [ approx_functional ] ) , hence yielding a _ globally optimal solution _ in a least - squares sense .",
    "further , the method should be able to deal with _ irregularly shaped boundaries _ , _ missing data points _ , and it has to be able to reconstruct surfaces of a large variety of objects with steep slopes and _ high curvature values_. it should also be able to _ handle large data sets _ which may consist of some million sample points .",
    "we now show how to meet these challenges using an analytic interpolation approach .",
    "a low noise level allows _ interpolation _ of the slope values instead of approximation .",
    "interpolation is a special case which has the great advantage that we can ensure that small height variations are preserved . in this paper",
    "we will only focus on the interpolation approach as analytic reconstruction method . for other measurement principles like shape from shading",
    ", an approximation approach might be more appropriate .",
    "the basic idea of the integration method is as follows : we seek an analytic interpolation function such that its gradient interpolates the measured gradient data .",
    "once this interpolation is determined , it uniquely defines the surface reconstruction up to an integration constant . to obtain the analytic interpolant",
    ", we choose a generalized hermite interpolation approach employing _ radial basis functions _ ( rbfs )  @xcite .",
    "this method has the advantage that it can be applied to _ scattered data_. it allows us to integrate data sets with holes , irregular sampling grids , or irregularly shaped boundaries .",
    "furthermore , this method allows for an optimal surface recovery in the sense of eq .",
    "( [ approx_functional ] ) ( see section  [ optimal ] below ) .    in more detail : assuming that the object surface fulfills the requirements described in section  [ problem ] , the data is given as pairs @xmath26 , where @xmath27 and @xmath28 are the measured slopes of the object at @xmath29 in @xmath22- and @xmath23-direction , respectively , for @xmath30 .",
    "we define the interpolant to be @xmath31 where @xmath32 and @xmath33 , for @xmath34 , are coefficients and @xmath35 is a radial basis function . hereby , @xmath36 and @xmath37 denote the analytic derivative of @xmath38 with respect to @xmath22 and @xmath23 , respectively .",
    "this interpolant is specifically tailored for gradient data  @xcite . to obtain the coefficients in eq .",
    "( [ interpolant ] ) we match the analytic derivatives of the interpolant with the measured derivatives : @xmath39 this leads to solving the following system of linear equations  @xcite : @xmath40      \\\\[-0.7em ]      $ \\phi_{x y}(\\mathbf{x}_i-\\mathbf{x}_j)$ & $ \\phi_{y y}(\\mathbf{x}_i-\\mathbf{x}_j)$\\\\      \\end{tabular } }      \\right)}_{a \\ , \\in \\ , m^{2n\\times2n } }      \\underbrace{\\left (      \\mbox{\\begin{tabular}{c }       $ \\alpha_i$\\\\      \\\\[-0.7em ]        \\\\[-0.7em ]        $ \\beta_i$      \\end{tabular } }      \\right)}_{\\alpha \\ , \\in \\ , m^{2n\\times1 } }      =      \\underbrace{\\left (      \\mbox{\\begin{tabular}{c }       $ p(\\mathbf{x}_j)$\\\\          \\\\[-0.7em ]        \\\\[-0.7em ]        $ q(\\mathbf{x}_j)$      \\end{tabular } }      \\right)}_{d \\ , \\in \\ , m^{2n\\times1}}.\\ ] ] + using the resulting coefficients @xmath41 we then can apply the interpolant in eq .",
    "( [ interpolant ] ) to reconstruct the object surface . for higher noise levels an _ approximation _ approach is recommended . in this case",
    ", we simply reduce the number of basis functions so that they do not match the number of data points any more . the system @xmath42 in eq .",
    "( [ linear_system ] ) then becomes overdetermined and can be solved in a least - squares sense .",
    "the interpolation approach employing radial basis functions has the advantage that it yields a _",
    "unique _ solution to the surface recovery problem : within this setup , the interpolation matrix in eq .",
    "( [ linear_system ] ) is always symmetric and positive definite .",
    "further , the solution satisfies a _ minimization principle _ in the sense that the resulting analytic surface function has minimal energy  @xcite .",
    "we choose @xmath38 to be a wendland s function  @xcite , @xmath43 , with @xmath44 this has two reasons : first , wendland s functions allow to choose their continuity according to the smoothness of the given data .",
    "the above wendland s function leads to an interpolant which is three - times continuously differentiable , hence guaranteeing the integrability condition .",
    "second , the compact support of the function allows to adjust the support size in such a way that the solution of eq .",
    "( [ linear_system ] ) is stable in the presence of noise .",
    "it turns out that the support size has to be chosen rather large in order to guarantee a good surface reconstruction  @xcite .",
    "the amount of data commonly acquired with a pmd sensor in a single measurement is rather large : it consists of about one million sample points .",
    "this amount of data , which results from a measurement with high lateral resolution , would require the inversion of a matrix with @xmath45 entries ( eq .  ( [ linear_system ] ) ) . since we choose a large support size for our basis functions to obtain good numerical stability the corresponding matrix is not sparse .",
    "it is obvious that this large amount of data can not be handled directly by inexpensive computing equipment in reasonable time .    to cope with such large data sets we developed a method which first splits the data field into a set of overlapping rectangular patches .",
    "we interpolate the data on each patch separately .",
    "if the given data were height information only , this approach would yield the complete surface reconstruction . for slope data ,",
    "we interpolate the data and obtain a surface reconstruction _ up to a constant of integration _",
    "( see fig .",
    "[ mirror_fit](a ) ) on each patch . in order to determine the missing information we apply the following fitting scheme :",
    "let us denote two adjacent patches as @xmath46 and @xmath47 and the resulting interpolants as @xmath48 and @xmath49 , respectively .",
    "since the constant of integration is still unknown the two interpolants might be on different height levels .",
    "generally , we seek a correcting function @xmath50 by minimizing @xmath51 this fitting scheme is then propagated from the center toward the borders of the data field to obtain the reconstructed surface on the entire field ( see fig .  [ mirror_fit](b ) ) .    in the simplest case , the functions @xmath52 are chosen to be constant on each patch , representing the missing constant of integration .",
    "if the systematic error of the measured data is small , the constant fit method is appropriate since it basically yields no error propagation .",
    "for very noisy data sets it might be better to use a planar fit , i.e.  @xmath53 , to avoid discontinuities at the patch boundaries .",
    "this modification , however , introduces a propagation of the error along the patches .",
    "the correction angle required on each patch to minimize eq .",
    "( [ lsqfit ] ) depends on the noise of the data .",
    "numerical experiments have shown that in most cases the correction angle is at least ten times smaller than the noise level of the measured data .",
    "using this information we can estimate the global height error which , by error propagation , may sum up toward the borders of the measuring field  @xcite : @xmath54 where @xmath55 is the standard deviation of the correction angles , @xmath56 is the patch size , and @xmath57 is the number of patches .",
    "suppose we want to integrate over a field of @xmath5 mm ( which corresponds to a typical eyeglass diameter ) , assuming a realistic noise level of @xmath58arcsec and a patch size ( not including its overlaps ) of @xmath59 mm . with our setup ,",
    "this results in @xmath60 patches , with a maximal tipping of @xmath61arcsec per patch . according to eq .",
    "( [ globaltilt ] ) , the resulting global error caused by propagation of the correction angles is _ only @xmath62nm_.    we choose the size of the patches as big as possible , provided that a single patch can still be handled efficiently . for the patch size in the example ,",
    "@xmath63 points ( including @xmath64 overlap ) correspond to a @xmath65 interpolation matrix that can be inverted quickly using standard numerical methods like cholesky decomposition .",
    "a final remark concerning the runtime complexity of the method described above : the complexity can be further reduced in case the sampling grid is regular . since the patches all have the same size and the matrix entries in eq .",
    "( [ linear_system ] ) only depend on the distances between sample points , the matrix can be inverted once for all patches and then applied to varying data on different patches , as long as the particular data subset is complete . note that eq .",
    "( [ interpolant ] ) can be written as @xmath66 , where @xmath67 is the evaluation matrix .",
    "then , by applying eq .",
    "( [ linear_system ] ) we obtain @xmath68 , where the matrix @xmath69 needs to be calculated only once for all complete patches .",
    "if samples are missing , however , the interpolation yields different coefficients @xmath70 and hence forces to recompute @xmath69 for this particular patch .",
    "using these techniques , the reconstruction of @xmath71 surface values from their gradients takes about @xmath72 minutes on a current personal computer .",
    "first , we investigated the stability of our method with respect to noise .",
    "we simulated realistic gradient data of a sphere ( with @xmath5 mm radius , @xmath5 mm  @xmath6  @xmath5 mm field with sampling distance @xmath73 mm , see figure  [ noise_sphere](a ) ) and added uniformly distributed noise of different levels , ranging from @xmath74 to @xmath75arcsec .",
    "we reconstructed the surface of the sphere using the interpolation method described in section  [ method ] . hereby , we aligned the patches by only adding a constant to each patch .",
    "the reconstruction was performed for @xmath76 statistically independent slope data sets for each noise level .    depicted in figure  [ noise_sphere](b ) is a cross - section of the absolute error of the surface reconstruction from the ideal sphere , for a realistic noise level of @xmath58arcsec .",
    "the absolute error is less than @xmath77 nm _ on the entire measurement field_. the local height error corresponding to this noise level is about @xmath78 nm .",
    "this demonstrates that the dynamic range of the global absolute error with respect to the height variance ( @xmath79 mm ) of the considered sphere is about @xmath80 .",
    "the graph in figure  [ noise_sphere](c ) depicts the mean value and the standard deviation ( black error bars ) of the absolute error of the reconstruction , for @xmath76 different data sets and for different noise levels .",
    "it demonstrates that for increasing noise level the absolute error grows only linearly ( linear fit depicted in gray ) , and even for a noise level being the _ fifty - fold of the typical sensor noise _ the global absolute error remains in the _ sub - micrometer regime_. this result implies that the reconstruction error is smaller than most technical applications require .",
    "another common task in quality assurance is the detection and quantification of surface defects like scratches or grooves .",
    "we therefore tested our method for its ability to reconstruct such local defects that may be in a range of only a few nanometers .",
    "for this purpose , we considered data from a pmd sensor for small , specular objects .",
    "the sensor has a resolvable distance of @xmath81 m  laterally and a local angular uncertainty of about @xmath76arcsec  @xcite . in order to quantify the deviation of the perfect shape",
    ", we again simulated a sphere ( this time with @xmath76 mm radius and @xmath82 mm  @xmath6  @xmath82 mm data field size ) .",
    "we added parallel , straight grooves of varying depths from @xmath83 to @xmath4 nm and of @xmath84 m  width and reconstructed the surface from the modified gradients .",
    "the perfect sphere was then subtracted from the reconstructed surface .",
    "the resulting reconstructed grooves are depicted in figure  [ groove_sphere](a ) .",
    "the grooves ranging from @xmath4 down to @xmath72 nm depth are clearly distinguishable from the plane .",
    "figure  [ groove_sphere](b ) shows that all reconstructed depths agree fairly well with the actual depths .",
    "note that each groove is determined by only @xmath72 inner sample points .",
    "the simulation results demonstrate that our method is almost free of error propagation while preserving small , local details of only some nanometers height .",
    "so far , we used only simulated data to test the reconstruction .",
    "now , we want to demonstrate the application of our method to a real measurement .",
    "the measurement was performed with a phase - measuring deflectometry sensor for very small , specular objects .",
    "it can laterally resolve object points with a distance of @xmath85 nm , while having a local angular uncertainty of about @xmath86arcsec .",
    "the object under test is a part of a wafer with about @xmath87 nm height range .",
    "the size of the measurement field was @xmath4 m  @xmath6  @xmath5 m .",
    "depicted in figure  [ wafer ] is the reconstructed object surface from roughly three million data values .",
    "both the global shape and local details could be reconstructed with high precision .",
    "we motivated why the employment of optical slope - measuring sensors can be advantageous .",
    "we gave a brief overview of existing sensor principles .",
    "the question that arose next was how to reconstruct the surface from its slope data .",
    "we presented a method based on radial basis functions which enables us to reconstruct the object surface from noisy gradient data .",
    "the method can handle large data sets consisting of some million entries .",
    "furthermore , the data does not need to be acquired on a regular grid  it can be arbitrarily scattered and it can contain data holes .",
    "we demonstrated that , while accurately reconstructing the object s global shape , which may have a _ height range of some millimeters _ , the method preserves _ local height variations on a nanometer scale_.    a remaining challenge is to improve the runtime complexity of the algorithm in order to be able to employ it for inline quality assurance in a production process .",
    "the authors thank the deutsche forschungsgemeinschaft for supporting this work in the framework of sfb 603 .",
    "i.  weingrtner and m.  schulz , `` novel scanning technique for ultra - precise measurement of slope and topography of flats , aspheres , and complex surfaces , '' in _ optical fabrication and testing _ , ( 1999 ) , no .",
    "3739 in proc .",
    "spie , pp .",
    "27482 .",
    "m.  c. knauer , j.  kaminski , and g.  husler , `` phase measuring deflectometry : a new approach to measure specular free - form surfaces , '' in _ optical metrology in production engineering _ , , w.  osten and m.  takeda , eds .",
    "( 2004 ) , no .",
    "5457 in proc .",
    "spie , pp .",
    "366376 .",
    "j.  kaminski , s.  lowitzsch , m.  c. knauer , and g.  husler , `` full - field shape measurement of specular surfaces , '' in _",
    "fringe 2005 , the 5th international workshop on automatic processing of fringe patterns _ , , w.  osten , ed .",
    "( springer , 2005 ) , pp .",
    "372379 .",
    "s.  lowitzsch , j.  kaminski , m.  c. knauer , and g.  husler , `` vision and modeling of specular surfaces , '' in _ vision , modeling , and visualization 2005 _ , , g.  greiner , j.  hornegger , h.  niemann , and s.  m. , eds .",
    "( akademische verlagsgesellschaft aka gmbh , 2005 ) , pp . 479486 .",
    "j.  pfund , n.  lindlein , j.  schwider , r.  burow , t.  blumel , and k.  e. elssner , `` absolute sphericity measurement : a comparative study of the use of interferometry and a shack - hartmann sensor , '' opt .",
    "* 23 * , 742744 ( 1998 ) .",
    "a.  agrawal , r.  chellappa , and r.  raskar , `` an algebraic approach to surface reconstruction from gradient fields , '' in `` ieee international conference on computer vision ( iccv ) , '' , vol .  1 ( 2005 ) ,",
    "vol .  1 , pp .",
    "174181 .          c.  elster and i.  weingrtner ,",
    "`` high - accuracy reconstruction of a function @xmath88 when only @xmath89 or @xmath90 is known at discrete measurement points , '' in `` x - ray mirrors , crystals , and multilayers ii , '' ( 2002 ) , no .",
    "4782 in proc .",
    "spie , pp .",
    "1220 .",
    "s.  ettl , j.  kaminski , and g.  husler , `` generalized hermite interpolation with radial basis functions considering only gradient data , '' in _ curve and surface fitting : avignon 2006 _ , , a.  cohen , j .- l .",
    "merrien , and l.  l. schumaker , eds .",
    "( nashboro press , brentwood , 2007 ) , pp .",
    "141149 .           of a typical smooth object and ( b ) its derivative @xmath91 , together with ( c ) the power spectral density of the surface @xmath1 and ( d ) of its slope @xmath92 ( all in arbitrary units ) .",
    "the power spectral density shows that differentiation reduces redundancy , contained in the low frequencies .",
    ", width=627 ]            nm  down to @xmath83 nm . after the reconstruction ,",
    "the sphere was subtracted to make the grooves visible .",
    "the actual , reconstructed grooves are depicted in ( a ) full - field and in ( b ) cross - section.,width=529 ]"
  ],
  "abstract_text": [
    "<S> we present a novel method for reconstructing the shape of an object from measured gradient data . </S>",
    "<S> a certain class of optical sensors does not measure the shape of an object , but its local slope . </S>",
    "<S> these sensors display several advantages , including high information efficiency , sensitivity , and robustness . for many applications , however , it is necessary to acquire the shape , which must be calculated from the slopes by numerical integration . </S>",
    "<S> existing integration techniques show drawbacks that render them unusable in many cases . </S>",
    "<S> our method is based on approximation employing radial basis functions . </S>",
    "<S> it can be applied to irregularly sampled , noisy , and incomplete data , and it reconstructs surfaces both locally and globally with high accuracy . </S>"
  ]
}