{
  "article_text": [
    "this document assumes basic knowledge of the computing _ grid _ concept , which is a paradigm for the modern distributed computing and data handling . for a general introduction to grid computing the reader",
    "is referred to eg .",
    "the most common starting point for constructing a computing grid is the globus toolkit  @xcite .",
    "this toolkit provides a grid api and developing libraries as well as basic grid service implementations .",
    "the nordugrid  @xcite project is a common effort by the nordic countries to create a grid infrastructure , making use of the available middleware . through the european datagrid project ( edg )",
    "@xcite the nordugrid project has had extensive experience with the globus toolkit and with deploying and using a grid testbed . during this",
    "we have found some shortcomings in the globus toolkit and some problems with the edg testbed architecture that we would like to address on a grid testbed in the nordic countries . in this paper",
    "we present a proposal for a grid architecture for a production testbed at the lhc  @xcite experiments .",
    "it is not the intent to define a general grid system , but rather a system specific for batch processing suitable for problems encountered in high energy physics .",
    "interactive and parallel applications have not been considered .",
    "it is our goal to deploy a grid testbed based on this architecture for the lhc data challenges in the nordic countries .",
    "we will start by describing the various components of the system .",
    "focus will be given to the components which we have developed ourselves or taken from others , but heavily modified .",
    "after the description we will give a review of the task flow and the communication between the various components .",
    "it is assumed that the reader is familiar with the major components of the globus toolkit since the nordugrid testbed architecture uses this as the foundation .",
    "an example is the underlying security model - the grid security infrastructure ( gsi ) - which is a based on the ` x`.509 certificate system and takes care of authentication and authorisation and the gris and giis of the information system ( for an explanation of the gris , giis , vo terms see  @xcite and  @xcite ) .",
    "one of the aims of the architecture was to make the system able to install on top of an existing globus installation .",
    "rather than modifying the globus toolkit , we have made a clear boundary between the two architectures , thus enabling them to coexist and try out this new system without destroying an already working globus installation .",
    "the _ computing element _ ( ce ) is the backend of the system .",
    "it is where the execution of the application is performed .",
    "this is a very general element which can be anything from a single processor to complex computing clusters . in our case",
    "it is at present limited to simple pbs ( portable batch system ) clusters .",
    "one of our basic ideas about grid implementations is that it should not impose any restriction on the local site",
    ". therefore it should be possible to use existing computing clusters and place them on the grid with minor or no special reconfiguration .",
    "one thing that we have stressed , which should not be imposed on the site , is that the individual worker nodes ( wn s ) of the cluster can not be required to have direct access to the internet .",
    "this excludes dependence on eg .",
    "global filesystems like afs and direct download from the internet from any wn .",
    "grid services will thus only be run from a front - end machine .",
    "this scenario does not however exclude the use of local network filesystems and nfs is actually often used for cluster - wide application distribution .",
    "similar to the computing element , the _ storage element _ ( se ) is the common term for another of the basic grid resources - storage",
    ". the storage can be as simple as a standard filesystem or eg .",
    "a database .",
    "the authorisation is handled using grid credentials ( certificates ) .",
    "a se can be _ local _ or _ remote _ to a ce . here _",
    "local _ means that access is done via standard filesystem calls ( eg .",
    "open , read and close ) and is usually realised by a nfs server .",
    "a remote se is usually a stand - alone machine running eg .",
    "gridftp  @xcite server with local file storage .",
    "data replication is done by services running on the se .",
    "a dedicated pluggable gridftp server is beeing developed for use on the se . at the moment a simple file access plugin exists . the main reason for this is to have a way to provide a consistent certificate - based data access to the data .",
    "at least one other grid solution to a certificate - based filesystem exists  @xcite .",
    "one advantage of the gridftp approach is that it is done entirely in user space and thus is very portable .",
    "the information about replicated data is contained in the _  replica  catalog _ ( rc ) .",
    "this is an entirely add - on component to the system and as such is not a requirement .",
    "a stable , robust , scalable and reliable information system is the cornerstone of any kind of grid system . without a properly working information system",
    "it is not possible to construct a functional grid .",
    "the globus project has laid down the foundation of a grid information system with their ldap - based metacomputing directory service ( mds )  @xcite .",
    "the nordugrid information system is built upon the globus mds .",
    "the information system described below forms an integral part of the nordugrid testbed architecture . in our testbed , the nordugrid mds plays a central role : all the information related tasks , like resource - discovery , grid - monitoring , authorised user information , job status monitoring , are exclusively implemented on top of the mds .",
    "this has the advantage that all the grid information is provided through a uniform interface in an inherently scalable and distributed way due to the globus mds .",
    "moreover , it is sufficient to run a single mds service per resource in order to build the entire system . in the nordugrid testbed",
    "a resource does not need to run dozens of different ( often centralized ) services speaking different protocols : the nordugrid information system is purely globus mds built using only the ldap protocol .    the design of a grid information system is always deals with questions like how to represent the grid resources ( or services ) , what kind of information should be there , what is the best structure of presenting this information to the grid users and to the grid agents ( i.e. brokers ) .",
    "these questions have their technical answers in the so - called ldap schema files .",
    "the globus project provides an information model together with the globus mds .",
    "we found their model unsuitable for representing computing clusters , since the globus schema is rather single machine oriented .",
    "the edg suggested a different ce model which we have evaluated  @xcite . the edg s ce - based schema fits better for computing clusters .",
    "however , its practical usability was found to be questionable due to improper implementation .",
    "because of the lack of a suitable schema , nordugrid decided to design its own information model ( schema ) in order to properly represent and serve its testbed",
    ". a working information system , as part of the nordugrid architecture , has been built around the schema .",
    "nevertheless , nordugrid hopes that in the not - so - far future a usable common grid information model will emerge .",
    "we think that the experience of the nordugrid users gained with our working system will provide a useful feedback for this process .",
    "the nordugrid testbed consists of different resources ( they can be referred as services ) , located at different sites .",
    "the list of implemented grid services contains computing resources ( linux clusters operated by pbs ) , ses ( at the moment basically disk space with a gridftp server ) and rcs .",
    "the designed information model naturally maps these resources onto a ldap - based mds tree , where each resource is represented by an mds entry . in this tree",
    ", each nordugrid resource operates as a separate gris .",
    "the various resources ( gris s ) can be grouped together to form virtual organisations ( vo ) which are served by a giis ( i.e. in our present testbed configuration , the resources within a country are grouped together to form a vo ) .",
    "the structure created this way is called a _",
    "hierarchical mds tree_.    the nordugrid schema is a true mirror of our architecture : it contains information about computing clusters ( nordugrid - cluster objectclass ) , storage elements ( nordugrid - se objectclass ) and replica catalogs ( nordugrid - rc objectclass ) . in fig .",
    "[ fig : mdstree ] , a part of the nordugrid mds tree  @xcite is shown .",
    "the clusters provide access to different pbs queues which are described by the nordugrid - pbsqueue objectclass ( fig .",
    "[ fig : pbsqueue ] shows an example queue entry ) . under the queue entries ,",
    "the nordugrid - authuser and the nordugrid - pbsjob entries can be found grouped in two distinct sub - trees ( the branching is accomplished with the nordugrid - info - group objectclass ) .",
    "the nordugrid - authuser entry contains all the user - dependent information of a specific authorised grid user . within the user entries",
    ", the grid users can find , among other things , how many cpus are available for them in that specific queue , what is the disk space a job can consume , what is an effective queue length ( taking into account the local unix mappings ) , etc . the nordugrid - pbsjob entries ( see fig .",
    "[ fig : pbsjob ] an example ) describe the grid jobs submitted to a queue .",
    "the detailed job information includes the job s unique grid i d , the certificate subject of the job s owner and the job status .     the norway branch of the nordugrid mds tree , width=453 ]            the nordugrid information system has been designed to be able to effectively serve the user interface ( ui ) ( job status query commands , free resource discovery utilities ) , the brokering agent ( in the present implementation it is integrated with the ui s job submission command ) and a general grid user who can access the grid information either directly with a simple ldapsearch or through an ldap - enabled grid portal .",
    "in our model , job management is handled by a single entity which we call the _  grid  manager _ ( gm ) .",
    "it is the job of the gm to process user requests and prepare them for execution on the ce .",
    "it also takes care of post - processing the jobs before they leave the ce . in the globus toolkit context , the gm takes care of what is normally done by the globus job - manager backend scripts .",
    "in fact it is installed in a similar way to a standard globus jobmanager and can work perfectly together with already existing jobmanagers .",
    "authorisation and authentication is still done by the globus gatekeeper .",
    "the status of each job is recorded in a special status directory which also contains informational files needed by the gm .",
    "the grid manager uses a job i d assigned by the globus gatekeeper / jobmanager to distinguish between job requests .",
    "it starts by creating a session directory reachable by the wn and parsing the job request .",
    "the job request is passed in a resource specification language .",
    "this specifies , among other things , the list of input files needed for the job execution .",
    "the grid manager then proceeds to download files to the session directory from remote ses or copy files from local ses as specified by the job request.files can also be uploaded by the user submitting the job .",
    "once all files are in place the gm submits the job to the local scheduling system ( pbs ) .",
    "all information about job status must be retrieved through the mds .",
    "communication to the job such as cancellation is handled through the gm as a specific rsl requests .",
    "when the job leaves the wn(s ) it is the responsibility of the gm to clean up afterwards .",
    "the gm also manages the output files and uploads them to local or remote storage elements and registers uploaded files to the replica catalog .",
    "in contrast to eg . the grid implementation in the edg , the nordugrid _  user  interface  ( ui ) _ has significantly more responsibility .",
    "this is mainly due to the choice of having the resource broker placed at the ui rather than having it as a central service .",
    "we found that the edg implementation with a central broker , where all job requests as well as data payload had to pass through , would be a single point of failure and non - scalable .",
    "the nordugrid ui is at present command - line driven , while a web based solution is foreseen in the future .",
    "the ui is responsible for generating the user request in a _ resource specification language _",
    "( rsl ) based on the user input .",
    "the rsl we use has additional attributes to those provided by the globus toolkit  @xcite .",
    "this xrsl has been enhanced to support enriched input / output capabilities and more specification of pbs requirements .",
    "all unneeded globus attributes has been deprecated .",
    "the ui matches the request or job options with the available resources as reported by the mds , and returns a list of matching resources .",
    "job options can reflect eg .",
    ":    * required cpu time * required system type * required disk space * required runtime environment ( eg . application software ) * required memory * required data from se s",
    "in this section we describe the life of a job and expose the functions of the various components of the nordugrid architecture .",
    "an overview of the system with task flow can be seen in fig .",
    "[ fig : taskflow ] .        the numbers on the figure refers to tasks which we describe below .    1 .",
    "the user interface does a filtered query against the giis and query the replica catalog to get the location of input data .",
    "based on these responses and its brokering algorithm the broker within the ui selects a remote resource .",
    "2 .   the ui contacts the selected resource by submitting the xrsl file to the gatekeeper of the resource , along with the ( resolved by the broker ) physical file names .",
    "the gatekeeper does the required authentication and authorisation and passes the job request to the grid manager .",
    "4 .   grid manager creates the session directory and downloads or copies files from storage elements to this directory 5 .",
    "user interface uploads input files and executables via gridftp to the session directory of the job 6 .",
    "after all files are pre - staged , the grid manager submits the job to the local resource management system ( pbs ) 7 .",
    "pbs schedules and executes the job on the worker nodes in the normal way 8 .   on request ,",
    "information providers collect job , user , queue and cluster information , disk usage information and writes the information to the mds 9 .",
    "job status information is retrieved from the mds , the user interface monitors the job status by querying the information system .",
    "e - mail notification to the user during the various job stages by the grid manager is also possible . 10 . user interface may cancel and clean jobs by sending rsl request with special attribute set through the gatekeeper to the grid manager .",
    "the grid manager will then take care of stopping the job and removing the job session directory if requested 11 .",
    "when the job finishes the grid manager moves requested output results to storage elements and does registration in the replica catalog as specified by the user .",
    "the grid manager takes care of cleaning up the session directory after its lifetime has exceeded , too while the directory exists , the user interface can download the specified output files produced by the job . 12 .",
    "giis queries gris on demand based on cache timeout values in order to provide fresh enough information .",
    "the single giis in the figure really represents a whole virtual organisation hierarchy . in nordugrid testbed",
    "the hierarchy has a central nordugrid giis which connects to country level giis s .",
    "the country level giis s either connects directly to resources or have an institutional layer in between .    in the figure data and control connections are specified . in designing the system we have been very conscious about the location of data bottlenecks and places where the system will have scalability problems .",
    "the only data intensive transfers occur between the computing element and the storage elements and the user interface . in contrast to the edg there is no single point where all data has to pass through .",
    "all transfers are truly peer - to - peer .",
    "a very early prototype implementation of the architecture exists and is being tested and further developed .",
    "scalability tests still has to be performed .",
    "in order to have a functional testbed within a short time - frame , there are some areas which we have not given much attention and have taken simple but still secure and functional solutions . in the future we plan to include , for example a more advanced authorisation and accounting system .    once we get experience with the system we are going to make the broker more sophisticated and make it able to perform user dependent choices such as rc location and preferred resource selection .",
    "we are very grateful for the developers of the globus project for their willingness to answer questions and providing an open development environment with access to early version of their toolkit .",
    "k. czajkowski , s. fitzgerald , i. foster , c. kesselman : _ grid information services for distributed resource sharing_. proceedings of the tenth ieee international symposium on high - performance distributed computing ( hpdc-10 ) , ieee press , august 2001 .",
    "k. czajkowski , i. foster , n. karonis , c. kesselman , s. martin , w. smith , s. tuecke : _ a resource management architecture for metacomputing systems .",
    "ipps / spdp 98 workshop on job scheduling strategies for parallel processing , pp .",
    "62 - 82 , 1998 ."
  ],
  "abstract_text": [
    "<S> this document gives an overview of a grid testbed architecture proposal for the nordugrid project . </S>",
    "<S> the aim of the project is to establish an inter - nordic testbed facility for implementation of wide area computing and data handling . </S>",
    "<S> the architecture is supposed to define a grid system suitable for solving data intensive problems at the large hadron collider at cern . </S>",
    "<S> we present the various architecture components needed for such a system . </S>",
    "<S> after that we go on to give a description of the dynamics by showing the task flow . </S>"
  ]
}