{
  "article_text": [
    "in astronomy , raw ccd images from telescopes can not be directly used for scientific purposes .",
    "firstly , several instrumental effects must be removed . generally speaking",
    ", data reduction is the transformation of raw data into a form suitable for analysis .",
    "the following processes are required to achieve this goal :    * removal of instrumental signatures , such as bias offset , dark currents , field curvature ( caused by projecting the spherical sky onto a flat ccd plane ) , and fringe patterns ; * masking of unwanted signals , such as cosmic rays , stellar halos and satellite tracks ; * photometric and astrometric calibration ; * co - addition of individual frames .",
    "the theli ( transforming heavenly light into image ) pipeline was initially developed for wfi cameras ( it consists of 8 ccd chips of 2k@xmath34k each ) mounted on the eso 2.2  meter max planck telescope .",
    "it has a modular design allowing it to be adapted to other single- or multi - chip cameras with considerable ease .",
    "the primary goal of developing the theli pipeline was to reduce weak lensing data ; therefore , more emphasis was laid on the accurate alignment of galaxies for each exposure ( precise astrometry , rather than photometry ) , acquiring the highest possible resolution and accurate noise mapping .",
    "through the course of the data reduction process the theli pipeline uses well - tested astronomical software .",
    "this allows for easy exchange whenever a new algorithm or a better implementation becomes available .",
    "the preliminary tools in the theli pipeline are the ldac software @xcite , the terapix software @xcite , eclipse and qfits tools and imcat utilities .",
    "next , the processing a set of optical images in the eso bands b , r , and i is described .",
    "our initial data set consisted of @xmath4  gigabytes of raw exposures : science frames of 7 different galaxy groups and calibration frames taken in 3 successive nights with wfi at eso 2.2 m .",
    "prior to the reduction procedure all objects are treated in the same manner , i.e. we suppose the same calibration frames for all of the science frames .",
    "algorithms in the pipeline which remove instrument effects ( such as bad ccd pixels and fringe patterns ) and which can be considered constant during the period of our observation ( 3 nights ) , are described further .",
    "firstly , each file s header is updated with the necessary keywords for the pipeline .",
    "the image is then divided into the number of chips in the ccd ( which constitutes 8 ccd chips in a wfi mosaic ) . from this step on",
    ", the pipeline works on individual chips rather than whole images , thereby enhancing the speed and enabling us to do multi - chip processing on multi cpus .      in the first step , following a preliminary inspection of all exposures of a given type ( bias , flat field ) , the pipeline identifies a typical count level and rejects outliers , e.g. darks with too - short exposure time or over - saturated skyflats .",
    "the acceptable range is defined by the user . since eso wfi",
    "is constantly cooled to a stable temperature of 167k @xcite and dark current is negligible , many observers do not take dark frames .",
    "we will describe their usage when appropriate , however it should be noted that we have not had or processed dark frames .",
    "each frame is overscan - corrected ( oc ) and trimmed : overscan region is trimmed off the image .",
    "master bias and master dark frames are created by ( median or arithmetic ) averaging of individual bias and dark frames . the pipeline uses master dark to identify bad pixels .      in general ,",
    "the sensitivity and the illumination of a ccd is not homogeneous .",
    "sensitivity can change from pixel to pixel , while the shift in illumination is considerable only at larger scales of distance . to make surface brightness homogeneous , we utilise a flat - field pattern . due to the dependence of the flux of radiation of astronomical objects and the sky background on the filter used , the tasks described below need to be carried out separately for each filter .",
    "an 8@xmath38 binned mosaic of corrected science frames is created to check the run process . at this stage",
    ", we looked at binned mosaics to check if pre - reduction was performed correctly .",
    "using ds9 software , we manually omitted out - of - focus data , and masked extended defects like satellite tracks and bright star reflections .",
    "the pipeline creates a weight frame for each science frame .",
    "hot / cold pixels are detected by studying the master dark , saturated pixels are identified by thresholding the science frames ; cosmic rays are discovered by sextractor @xcite in connection with eye @xcite , and manual masks are added using the ldac utilities .",
    "global weight and flag frames are made for each ccd chip .",
    "flag frames are integer fits in which 0 denotes good pixels and every other value denotes a certain defect .",
    "the values are used when producing weights .",
    "global weights contain information about bad pixels of all images from that chip .",
    "we group science frames into sets , depending on the objects they contain .",
    "our pointings are : hcg48 , hcg62 , hcg67 , ngc3557 , ngc3923 , ngc4697 and rx - j2114.3 - 6800 .",
    "we run the reduction process on each pointing and subsequently add the reduced individual frames .",
    "the initial step in astrometery is to detect high s / n objects using sextractor and to generate a catalogue of non - saturated stars . by comparing this catalogue to the usno - b1 catalogue , a zero - order",
    ", single shift astrometric solution is calculated for each image .",
    "the ccds in multi - chip cameras can be rotated unintentionally with respect to each other .",
    "in addition , due to a large field of view , the sky must be considered to be a spherically curved surface .",
    "the next step is to estimate third - order polynomials for the astrometric solution for each chip , using the scamp package @xcite developed by terapix .",
    "exposures are taken under varying conditions : parameters such as airmass and background radiation differ from one night of observation to another .",
    "therefore , during the first part of photometric calibration , images should be calibrated relatively .",
    "this is done by the ldac relphotpm program .",
    "relphotom takes tables of overlapping exposures as input and calculates the mean deviation of magnitudes : @xmath5 where @xmath6 and @xmath7 @xmath8",
    "are fields , @xmath9 denotes objects present in both exposures , and @xmath10 are measurement errors of the magnitude , and finds the relative zero point magnitude by @xmath11 minimisation : @xmath12 ^ 2.\\ ] ] in this case we neglect variant photometric conditions which affect each spectral type in a different way .",
    "sky background is calculated using sextractor background check image for every large - object - subtracted frame , and is subtracted from all science images .",
    "a re - sampled image is made using the astrometric solution polynomials calculated in astrometry step and stored in each chip s header .",
    "offers two tools for image co - adding : swarp and eis drizzle .",
    "our tool of choice is the former . using all input images ( which are related to a single output pixel ) in our sample",
    ", swarp calculates the final results using the weighted mean method .",
    "a weight image is also produced , as well as a flag image .",
    "weight image plays a key role in source detection of the final image @xcite , for a comparison between weighted and un - weighted source detection .",
    "as described above , we need to match object information from different channels .",
    "generally there are two cases when it is necessary to consult two or more catalogues :    1 .   when there is given a catalogue in a particular filter and it is desired to cross - match it with a reference catalogue , like a standard star magnitude catalogue .",
    "2 .   when there are multiple observations of a source in different filters . in this case , one needs to deal with multiple channels ( in our case : b , r and i ) .",
    "since sextractor s detection is not perfect in terms of source coordinates , one has to take one catalogue as a reference catalogue and treat the others as search catalogues ; therefore , for each object in a certain channel , information from the other channels will be found and added , as to make a `` matched and merged '' catalogue .",
    "with the final coadd images along with their weights in hand in b , r and i filters , one would produce several plots to show the qualification of data reduction . throughout this ,",
    "two of them are very important : mag - count histogram and mag - error in mag scatter plot . as shown in fig.[fig1a ] we have plotted the mag - count histogram for ngc3923 field of galaxies ( note that stars have been separated from galaxies using sextractor s class_star parameter larger than 0.95 as a criteria .",
    "seven outliers have been removed , since they were only round - shaped galaxies ) .",
    "as seen , the count drops from magnitude 22.5 ; this is called completeness limit .",
    "it shows that our data obtained with this instrument is trustworthy up to this completeness limit ( note that the count should be raised with respect to the fainter objects ) .    the other plot , which is important in astronomical data reduction , is the mag - error in mag scatter plot as we showed in fig.[fig1b ] .",
    "this plot reveals which data is trustworthy and which data is not based on our scientific goal .",
    "it demonstrates that for objects with magnitude around 22.5 the error in magnitudes increase very fast ; therefore objects fainter than 22.5 are not suitable for this kind of investigation .    as a fundamental parameter in astronomy photometric data , seeing associated with the individual pointings ( in r band ) ranged from 0.75 to 1.1  arcsec , and",
    "the average seeing of the co - added image has been measured to be 0.89  arcsec .",
    "the authors acknowledge ipm for providing computational facilities and also appreciate reza mansouri , habib g. khosroshahi and alireza molaeinezhad for useful discussions and guidance .    7 bertine .",
    "2001 , in _ mining the sky : proceedings of the mpa / eso / mpe workshop held at garching , germany , july 31  august 4 , 2000 , eso astrophysics symposia _ , eds . : bandaya.j .",
    ", zaroubis . & bartelmannm . , springer - verlag , 353 bertine .",
    "2006 , asp conf .",
    "series , 351 , 112 bertine .",
    "& arnoutss .",
    "1996 , a&as , 117 , 393 bertine .",
    ", melliery . ,",
    "2002 , asp conf .",
    "series , 281 , 228 deul , e.w . , 1999 .",
    "ldac pipeline v 1.3 documentation ( draft version ) erbent .",
    ", schirmerm . ,",
    "2005 , astronomische nachrichten , 326 , 432 the wide - field imager handbook , issue 2.0 , may 4th 2005"
  ],
  "abstract_text": [
    "<S> in this paper we review theli ( erben & schrimer , 2005 ) , an image processing pipeline developed to reduce multi - pointing optical images taken by mosaic ccd cameras . </S>",
    "<S> this pipeline works on raw images by removing several instrumental contaminations , implementing photometric calibration and astrometric alignment , and constructing a deep co - added mosaic image complemented by a weight map . </S>",
    "<S> we demonstrate the procedure of reducing ngc3923 images from raw data to the final results . </S>",
    "<S> we also demonstrate the quality of our data reduction strategy using mag - count and mag - error in mag plots . emphasis is mainly placed on photometric calibration which is of great interest to us due to our scientific case . based on the cross - association of the extracted catalogue against a reference catalogue of stellar magnitudes , </S>",
    "<S> zero - point calibration is performed . our data reduction strategy and the method employed for cross - correlating large catalogues </S>",
    "<S> is also presented . + * key words : * methods : data analysis  techniques : image processing    @xmath0physics department , sharif university of technology , azadi ave . , </S>",
    "<S> tehran , iran + @xmath1school of astronomy , institute for research in fundamental sciences , opposite araj , artesh highway , tehran , iran + @xmath2physics and astronomy department , university of california riverside , 900 university ave . , </S>",
    "<S> riverside , ca 92521 , usa + </S>"
  ]
}