{
  "article_text": [
    "magic is the world - wide largest imaging air cherenkov telescope ( iact ) .",
    "it aims at studying gamma ray emission from the high energy phenomena and the violent physics processes in the universe , at the lowest energy threshold among existing iacts .",
    "an overview about the gamma ray astronomy with iacts is given in @xcite .",
    "magic is a unique detector in that it will cover the presently unexplored energy range between gamma ray satellite missions and other ground - based cherenkov telescopes @xcite .",
    "the camera of the magic telescope consists of 576 photomultiplier tubes ( pmts ) , which deliver about 2 ns fwhm fast pulses to the experimental control house .",
    "the currently used read - out system @xcite is relatively slow ( 300 msamples / s ) . to record the pulse shape in detail , an artificial pulse stretching to about 6.5 ns fwhm",
    "this causes more light of the night sky to be integrated , which acts as additional noise .",
    "thus the analysis energy threshold of the telescope is limited , and the selection efficiency of the gamma signal from different backgrounds is reduced .    for the fast cherenkov pulses ( 2  ns fwhm ) , a fadc with 2  gsamples / s can provide at least four sampling points .",
    "this permits a reasonable reconstruction of the pulse shape and could yield an improved gamma / hadron separation based on timing .",
    "such an ultra - fast read - out can strongly improve the performance of magic .",
    "the improved sensitivity and the lower analysis energy threshold will considerably extend the observation range of magic , and allow one to search for very weak sources at high redshifts .    a few fadc products with @xmath0  gsamples / s and a bandwidth @xmath1  mhz are available commercially ; they are , however , very expensive and power - consuming .",
    "to reduce the cost of an ultra - fast read - out system , a 2  gsamples / s read - out system has been developed at the max - planck - institut fr physik in munich .",
    "it uses the novel technique of fiber - optic multiplexing , an approach possible because the signal duration ( few ns ) and the trigger frequency ( typically @xmath21  khz ) result in a very low duty cycle for the digitizer .",
    "the new technique uses a single fadc of 700 mhz bandwidth and of 2  gsamples / s to digitize 16 read - out channels consecutively .",
    "the analog signals are delayed by using optical fibers .",
    "a trigger signal is generated using a fraction of the light , which is branched off by fiber - optic light splitters before the delay fibers . with the fiber - optic multiplexing a cost reduction of about 85%",
    "is achieved compared to using one fadc per read - out channel .",
    "the suggested 2 gsamples / s multiplexed ( mux ) fadc system will have a 10 bit amplitude resolution . for large signals the arrival time of the cherenkov pulse can be determined with a resolution better than 200 ps .",
    "the system is relatively simple and reliable .",
    "all optical components and the fadcs are commercially available , while the multiplexer electronics has been developed at the mpi in munich .",
    "two prototype multiplexers , for 32 channels in total , were built and tested in - situ as read - out of the magic telescope in la palma in august 2004 .    in section [ sec : fadc_magic ] the magic experiment is briefly described in the context of the data acquisition ( daq ) system using ultra - fast fadcs .",
    "the specifications of the ultra - fast read - out are described in section [ sec : mux_description ] , followed by the measured performance for the mux - fadc prototype in laboratory tests ( section [ sec : lab_tests ] ) and as read - out of the magic telescope ( section [ sec : lapalma_test ] ) .",
    "finally , section [ sec : discussion ] is dedicated to discussions and conclusions .",
    "since the details of the magic telescope are described elsewhere @xcite , only items relevant to the fadc system are presented in this section .",
    "figure [ fig : iact_principle ] shows the working principle of an air cherenkov telescope .",
    "a high energy gamma ray entering the earth s atmosphere initiates a shower cascade of electrons and positrons .",
    "these radiate cherenkov light , which is collected by the mirror and focussed onto the pmt camera of the magic telescope .",
    "the main background originates from much more frequent showers induced by isotropic hadronic cosmic rays .",
    "monte carlo ( mc ) based simulations predict different time structures for gamma and hadron induced shower images as well as for images of single muons .",
    "the timing information is therefore expected to improve the separation of gamma events from the background events @xcite .",
    "figure [ fig : timing_gamma_had_differences ] shows the mean amplitude ( a , c ) and time ( b , d ) profiles for gamma ( c , d ) and hadron ( a , b ) induced air showers images on the camera plane of the magic telescope .",
    "the impact parameter is fixed to 120 m and the initial gamma energy is set to 100 gev , while the proton energy is set to 200 gev .",
    "the profiles are obtained by averaging over many simulated showers @xcite .",
    "although the total shower duration of gamma and hadron induced air showers is comparable , the photon arrival time varies smoothly over the gamma shower image while hadron shower images are structured in time .",
    "the time structure of the image can also provide essential information about head and tail of the shower .",
    "the magic read - out chain , including the pmt camera , the analog - optical link , the majority trigger logic and fadcs , is schematically shown in figure [ fig : magic_read - out_scheme ] .",
    "the response of the pmts to sub - ns input light shows a pulse of fwhm of 1.0 - 1.2 ns and rise and fall times of 600 and 700 ps correspondingly @xcite . by modulating vertical cavity surface emitting laser ( vcsel ) diodes in amplitude the ultra - fast analogue signals from the pmts",
    "are transferred via 162 m long , multimode graded index 50/125 @xmath3 m diameter optical fibers to the counting house @xcite . after transforming the light back to an electrical signal",
    ", the original pmt pulse has a fwhm of about 2.2 ns and rise and fall times of about 1ns .        in order to sample this pulse shape with the present 300  msamples / s fadc system ,",
    "the pulse is stretched to a fwhm of @xmath4 ns ( the original pulse is folded with a stretching function of about 6ns ) .",
    "this implies a longer integration of lons and thus the performance of the telescope on the analysis level is degraded .",
    "because the current magic fadcs have a resolution of 8 bit only , the signals are split into two branches with a factor of 10 difference in gain .",
    "one branch is delayed by 55 ns and then both branches are multiplexed and consecutively read out by one fadc . the fadc system can be read out with a maximum sustained rate of 1 khz . a 512 kbytes fifo memory allows short - time trigger rates of up to 50 khz",
    "the magic collaboration is going to improve the performance of its telescope by installing a fast ( @xmath5  gsamples / s ) fadc system , which fully exploits the intrinsic time structures of the cherenkov light pulses .",
    "the requirements for such a system are the following :    * 10  bit resolution at a 2  gsamples / s sampling rate * @xmath6 mhz bandwidth of the electronics chain including the fadc * up to 1  khz sustained event trigger rate * dead time @xmath7 .",
    "it is interesting to note that in experiments where fadcs are used to read out a multichannel detector in the common event trigger mode , only a tiny fraction of the fadc memory depth is occupied by the signal while the rest is effectively `` empty '' @xcite .",
    "one can try to correct this `` inefficiency of use '' by `` packing '' the signals of many channels sequentially in time into a single fadc channel , i.e. by multiplexing .    following this simple idea ,",
    "a multiplexing system with fiber - optic delays has been developed for the magic telescope .",
    "the block diagram is shown in figure [ fig : mux_concept ] .",
    "the ultrafast fiber - optic multiplexer consists of three main components :    * fiber - optic delays and splitters * multiplexer electronics : fast switches and controllers * ultra - fast fadcs .",
    "after the analog optical link between the magic pmt camera and the counting house the optical signals are split into two parts .",
    "one part of the split signal is used as an input to the trigger logic .",
    "the other part is used for fadc measurements after passing through a fiber - optic delay line of a channel - specific length .",
    "the multiplexer electronics operates in the following way : the common trigger from the majority logic unit opens the switch of the first channel and allows the analog signal to pass through and be digitized by the fadc .",
    "all the other switches are closed during this time .",
    "when the digitization window for the first channel is over the corresponding switch is closed .",
    "the closed switch strongly attenuates the signal transmission by more than 60 db for the fast magic signals .",
    "then the switch number two is opened such that the accordingly delayed analog signal from the second channel is digitized and so forth , one channel at a time until the last one is measured . in this way one",
    "`` packs '' signals from different channels in a time sequence which can be digitized by a single fadc channel .    because of the finite rise and fall times of the gate signals for the switches and because of some pick - up noise from the switch one has to allow for some switching time between the digitization of two consecutive channels .",
    "the gating time for each channel was set to 40 ns , of which the first and last 5 ns are affected by the switching process .    for the use in magic a @xmath8 multiplexing ratio was chosen .",
    "16 channels are read out by a single ultra - fast fadc channel .",
    "the chosen multiplexing ratio is a compromise between    * dead time : the digitization of one event takes 16 * 40  ns=640  ns . during this time",
    "no other event can be recorded .",
    "compared to the maximum sustained trigger rate of up to 1 khz this dead time is negligible . * noise due to cross - talk through the closed switches : the attenuated noise of the other channels could influence the active signal channel .",
    "* cost of the fadcs * mechanical constraints , e.g. board size , length of wires and fibers .",
    "optical fibers were chosen for the analog signal transmission between the pmt camera and the counting house because they are lightweight , compact , immune to electro - magnetic pick - up noise and provide no pulse dispersion and attenuation @xcite .",
    "the signal attenuation at 1 km fiber length is about 2.3 db for the chosen 850 nm wavelength of the vcsels .",
    "the analog signal transmission offers a dynamic range larger than 60 db .    using fiber - optic delays",
    "ultra - fast analog signals can be delayed by several hundreds of ns .",
    "thus a large number of successively delayed signals can be multiplexed and read out by a single channel fadc .",
    "part of the analog signal has to be split off before the delay lines for trigger . therefore",
    "fiber - optic splitters of type @xmath9 are used .",
    "figure [ fig : delay_oben ] shows a module containing two optical delay lines of 142 m and 150 m length , corresponding to a delay of 710 ns and 750 ns .",
    "figure [ fig : grin_splitter_module ] shows a module of four graded index ( grin)-type fiber - optic splitters with 50:50 splitting ratio ( for a technical description see @xcite ) .",
    "the modules have standardized outer dimensions and can be assembled in 3u hight 19  crates .",
    "the splitters and optical delay lines are commercially available from the company sachsenkabel @xcite .              the multiplexer electronics consist of four stages .",
    "the first stage is a fiber optic receiver , where the signals from the optical delay lines are converted back to electrical pulses using pin diodes . in a second stage ,",
    "part of the electrical signal is branched off and transferred to a monitor output .",
    "the third stage consists of ultra - fast switches which are activated one at a time . in the last stage",
    "all 16 channels are summed to one output .",
    "the multiplexed signals are then transferred via 50 @xmath10 coaxial cables to the fadc channels .",
    "table [ table : mux_board_specifications ] summarizes the specifications of the multiplexer electronics .",
    ".__specifications of the electronics for analog signal multiplexing . _ _ [ cols= \" < , < \" , ]      each data file contains 120 events of two ultra - fast fadc channels with 1300 recorded fadc samples per event .",
    "the recorded raw data are converted into the usual root - based magic raw data format @xcite , which provides the flexibility to adjust the number of recorded samples for each pixel .",
    "for each event the signals of 16 pmts of the magic camera are sequentially digitized by one fadc channel .",
    "as an example , figure [ fig : raw_fadc_ped_open ] shows the raw data for 120 superimposed randomly triggered pedestal events . between every two consecutive channels the switch noise is visible",
    ".    for calibration purposes the magic pmt camera",
    "can be uniformly illuminated by a fast led light pulser located in the center of the telescope dish @xcite .",
    "figure [ fig : raw_fadc_13uv ] shows the raw data of 16 consecutively read - out channels for 120 superimposed calibration events .",
    "the calibration signal pulses are clearly visible on the signal baseline .",
    "the gain difference from channel to channel is mainly due to a spread in the gain of the vcsel and receiver diodes of the analog optical link .",
    "the additional spread due to small differences in the fiber - optic splitters and a signal attenuation in the delay lines is small .            for each channel",
    "the pedestal level and pedestal rms are calculated from either a pedestal run with random triggers or directly from the data . for the pedestal calculation a fixed number of fadc samples at a fixed position in the digitization window is used .    for the signal reconstruction",
    "a fixed number of fadc samples is integrated .",
    "the integration interval was chosen to be 4 fadc samples ( corresponding to 4 * 3.33 ns = 13.33 ns ) for the current magic fadcs .",
    "for the mux - fadcs a window size of 10 fadc samples is chosen , corresponding to a 5 ns integration window .",
    "the reconstructed signal @xmath11 is then given by : @xmath12 where @xmath13 is the i - th fadc sample after the trigger .",
    "the signal arrival time relative to the first fadc sample after the trigger , @xmath14 , is reconstructed as the first moment of the fadc time samples used to calculate the reconstructed signal : @xmath15      the calibration system of the magic telescope consists of intensity controlled fast led light pulsers of different colors and intensities that illuminate the magic camera homogeneously @xcite .",
    "using the laboratory measured excess noise factor of the magic pmts the conversion constant between reconstructed signals in fadc counts and photo electrons can be determined .",
    "the common magic calibration algorithms and software were successfully applied to the ultra - fast digitization .",
    "figure [ fig : cam_phel_oldfadc ] shows the distribution of the mean number of photo electrons per pixel reconstructed with the current 300 msamples / s fadc system and the mux - fadc system .",
    "the magic camera was illuminated with uv calibration pulses of about 2.5 ns fwhm . as expected , the mean reconstructed number of photo electrons is the same for the 32 split channels used in the mux - fadc tests as for all the other magic read - out channels .",
    "small differences in the cable length of the magic analog optical link , the fiber - optic delays and transition times in the pmts introduce arrival time differences between of the pulses in different read - out channels of up to a few ns .",
    "these relative channel to channel time differences can also be calibrated using the led pulser .",
    "one can determine the mean time difference between all pixels with respect to a reference pixel .",
    "in the calibration procedure of the cosmics events this timing difference is corrected for .",
    "in addition , the event to event variation of the timing difference between two read - out channels for the led pulser provides a measure of the timing accuracy .",
    "figure [ fig : time_resolution ] shows the distributions of the determined timing resolution of the current 300 msamples / s fadcs together with the timing resolution of the mux - fadcs .",
    "the timing accuracy strongly depends on the signal to noise ratio and the width of the input light pulse .",
    "the mux - fadcs yield a better timing resolution by more than a factor of three compared to the current fadc system using the simple and stable timing extraction algorithm of equation ( [ time_extractor ] ) .",
    "cosmics shower data were recorded to study in detail the interplay of the ultra - fast mux - fadc system with the magic trigger logic .",
    "it also provides valuable input for the magic mc simulations of the ultra - fast digitization system , e.g. about the pulse shapes for cosmics events .    in figure",
    "[ fig : shape_event95]a one can see the pulse shape in a single pixel for a typical cosmics event . by overlaying the recorded fadc samples of many events after adjusting to the same arrival time , the average reconstructed pulse shapes can be calculated .",
    "figure [ fig : shape_event95]b shows the comparison of the average reconstructed pulse shapes recorded with the current 300 msamples / s magic fadcs , including the 6ns pulse stretching , and with the mux - fadcs .",
    "the average reconstructed pulse shape for cosmics events has a fwhm of about 6.3 ns for the current fadc system and a fwhm of about 3.2 ns for the mux - fadc system .",
    "figure [ fig : event95]a shows a magic pmt camera display with the reconstructed signal after calibration in photo electrons for a typical cosmics event . for the same event figure [ fig : event95]b shows the reconstructed arrival time after correction for the cannel - to - channel time differences .          in the data recorded by an iact ,",
    "the electronics noise together with the lons fluctuations is superimposed on the cherenkov signal from air - showers .",
    "the noise from the lons can be simulated as the superposition of the detector response to single photo electrons , arriving at a given rate but randomly distributed in time .",
    "this can be quantified using the noise autocorrelation function @xmath16 , the correlation between the read - out samples @xmath17 and @xmath18 : @xmath19 where @xmath20 and @xmath21 are the fadc samples @xmath17 and @xmath18 for a pedestal event .",
    "figure [ fig : autocorr_new ] shows the noise autocorrelation for the current magic fadc system and the mux - fadc system with open camera ( i.e. exposed to lons ) , normalized to the pedestal rms . in the same plot , the noise autocorrelation for the mux - fadc system with closed camera ( no lons ) , normalized to the pedestal rms for an open camera , is shown .",
    "the noise autocorrelation of the current fadc system extends to several ns since the pulse is stretched by 6 ns . for the mux - fadc system with no pulse shaping",
    "there is still a considerable noise autocorrelation for an open camera .",
    "the noise autocorrelation mostly disappears in case of a closed camera with electronics noise only .",
    "figure [ fig : cam_noise_oldmux ] shows the distributions of the integrated noise ( integrated pedestal rms after calibration in photo electrons ) per pixel for the current fadc system and for the mux - fadc system .",
    "the shorter integration time used for the pulse reconstruction with the mux - fadc system yields a reduction of the effective integrated noise by about 40% .",
    "using the new mux - fadc system the noise contributions due to the lons may even be resolved into individual pulses .",
    "figure [ fig : pedestal_vs_time ] shows a typical example for the signals in a pedestal event ( random triggers ) .",
    "the pedestal does not vary in an uncorrelated way .",
    "instead most of the pedestal variations are due to peaks on the signal baseline .",
    "the rate of the peaks was studied to verify whether it is compatible with the rate of lons photo electrons .",
    "a window of 6 slices is slid over the fadc samples of randomly triggered pedestal events . the first window position after the switch noise where the sum of the fadc samples exceeds the pedestal level by at least 3 fadc counts",
    "was chosen .",
    "figure [ fig : noise_arrival_time_int_3]a shows the arrival time distribution of the first noise peak .",
    "the distribution can be fit by an exponential function with a rate @xmath22 of @xmath23 this corresponds to an integrated lons charge of about 1.3 photo electrons per 10 ns integration window , which is in good agreement with the expected lons rate .",
    "figure [ fig : noise_arrival_time_int_3]b shows the pulse shape of the selected noise peak averaged over many events .",
    "it has a fwhm of about 2.6  ns .",
    "this corresponds to the response of the instrument to a @xmath24-function input pulse ( single lons photo electrons have no internal time structure ) .",
    "the mean charge of the noise peak corresponds within errors to the mean charge for a single photo electron .",
    "the 8 bit amplitude resolution in the test setup was somewhat limiting the resolution of the single photo electrons due to the lons . with the higher resolution of 10 bit with the full mux - fadc system even a continuous calibration of the read - out chains using the single photo electrons shall be possible .    .",
    "b ) average reconstructed shape of the lons noise peaks .",
    "the fwhm is about 2.6  ns.__,title=\"fig : \" ] .",
    "b ) average reconstructed shape of the lons noise peaks .",
    "the fwhm is about 2.6  ns.__,title=\"fig : \" ]      the response of the magic telescope to gamma ray showers and to background was simulated in detail @xcite .",
    "both the currently used 300 msamples / s readout chain and the ultra - fast digitization were simulated .",
    "figure [ fig : single_ph_el_mc_fit ] shows the reconstructed single photo electron spectrum of a simulated pedestal run .",
    "the highest integral of 8 fadc slices ( 4  ns ) was searched for in a fixed digitization window of 20  slices ( 10  ns ) .",
    "the leftmost peak corresponds to electronics noise only .",
    "the right part of the distribution corresponds to the response of the pmt to one or more photo electrons .        in figures [ fig : time_resolution_old_new ] the signal and arrival time resolutions of the current and the mux - fadc system are compared using mc simulations . for both mc simulations the same lons conditions are assumed as well as the same electronics noise level . in the simulation",
    "no intrinsic transit time spread of the pmts of about 250 ps per photo electron was taken into account .",
    "the input light pulse has a fwhm of 1  ns as expected for gamma - ray induced showers .",
    "contrary to the simple signal and arrival time extraction algorithms used above , a dedicated numerical fit to the fadc samples using a known pulse shape @xcite has been applied to illustrate the theoretically achievable resolution .",
    "figure [ fig : time_resolution_old_new]a shows the resolution of the reconstructed pulse arrival time as a function of the input signal .",
    "the mux - fadc system improves the timing resolution by nearly a factor of 2 .",
    "figure [ fig : time_resolution_old_new]b shows the resolution of the reconstructed charge as a function of the input charge . with the mux - fadc system the charge resolution improves by a factor of two .",
    "the ultra - fast fiber - optic multiplexed fadc prototype read - out system was successfully tested during normal observations of the magic telescope in la palma .",
    "the fiber - optic splitters and delays are commercially available and comply with the required specifications for the use in the ultra - fast mux - fadc read - out system . the 10 bit 2 gsamples / s fadcs from acqiris",
    "have been developed for magic , and are available now as a commercial product .",
    "thus the ultra - fast fadc read - out has grown to a mature technology which is ready for the use as a standard read - out system for the magic telescope and other high - speed data acquisition applications .",
    "the multiplexing of 16 channels into one ultra - fast fadc allows one to greatly reduce the price of an ultra - fast read - out system .",
    "the mux - fadc read - out reduces the costs by about 85% compared to using one ultra - fast fadc per read - out channel .",
    "also the power consumption of the read - out system is greatly reduced .",
    "the ultra - fast mux - fadc system allows to skip the artificial pulse stretching and thus to use a shorter integration window for the cherenkov pulses .",
    "the reduction of the pulse integration window from 13.33  ns ( 4 samples with 3.33 ns per sample ) for the current magic fadc system to 5  ns ( 10 samples with 0.5 ns per sample ) for the mux - fadc system corresponds to a reduction of the integrated lons charge by a factor of about 2.7 .",
    "consequently , the rms noise of the lons is reduced by about 40% .",
    "the recorded images of the air showers are usually , at least for energies above 100 gev , characterized by so - called hillas parameters @xcite . in order to prepare raw shower images for the hillas parameter calculation it is necessary to apply so - called tail cuts to reject pixels with a low signal to noise ratio .",
    "all pixels with signals below 3 times their noise rms ( mainly due to lons ) are rejected ( dynamic image tail cut cleaning ) .",
    "a reduction in the noise rms translates into lower image cleaning levels .",
    "thus a larger part of the shower image , or in other words a shower image of a higher signal to noise ratio , can be used to calculate hillas parameters .",
    "this is especially important for low energy events where the signals of only a few pixels are above the image cleaning levels .",
    "the image quality of the air showers will improve with the ultra - fast read - out system .",
    "this will allow the reduction of the analysis energy threshold of the magic telescope .",
    "the ultra - fast fadc system also provides an improved resolution of the timing structure of the shower images . as indicated by mc simulations @xcite gamma showers , cosmic ray showers and the so called single muon events",
    "have different timing structures .",
    "thus the ultra - fast fadc read - out can enhance the separation power of gamma showers from backgrounds .",
    "after the successful prototype test of the ultra - fast mux - fadc read - out system it is ready to be installed as a future read - out of the magic telescope .",
    "the authors thank r. maier and t. dettlaf from the electronics workshop of mpi for the layout , design and production of the mux - fadc electronics .",
    "we also acknowledge the very good collaboration with the companies acqiris and sachsenkabel ."
  ],
  "abstract_text": [
    "<S> ground - based atmospheric air cherenkov telescopes ( acts ) are successfully used to observe very high energy ( vhe ) gamma rays from celestial objects . </S>",
    "<S> the light of the night sky ( lons ) is a strong background for these telescopes . </S>",
    "<S> the gamma ray pulses being very short , an ultra - fast read - out of an act can minimize the influence of the lons . </S>",
    "<S> this allows one to lower the so - called tail cuts of the shower image and the analysis energy threshold . </S>",
    "<S> it could also help to suppress other unwanted backgrounds .    fast </S>",
    "<S> flash analog - to - digital converters ( fadcs ) with gsamples / s are available commercially ; they are , however , very expensive and power consuming . here </S>",
    "<S> we present a novel technique of fiber - optic multiplexing which uses a single 2 gsamples / s fadc to digitize 16 read - out channels consecutively . </S>",
    "<S> the analog signals are delayed by using optical fibers . </S>",
    "<S> the multiplexed ( mux ) fadc read - out reduces the cost by about 85% compared to using one ultra - fast fadc per read - out channel .    two prototype multiplexers , each digitizing data from 16 channels , were built and tested . </S>",
    "<S> the ultra - fast read - out system will be described and the test results will be reported . </S>",
    "<S> the new system will be implemented for the read - out of the 17  m diameter magic telescope camera .    </S>",
    "<S> ,    ,    ,    ,    fast digitization , fadc , multiplexer , analog fiber - optic link , cherenkov imaging telescopes , gamma - ray astronomy . </S>"
  ]
}