{
  "article_text": [
    "the game developed by walter penney is not particularly well known and we think that half the fun is to be found in playing the game with your friends .",
    "therefore we would like to take this first foray into the development of the game as an introduction and a lesson .",
    "the game is classically not played with suited cards ( as is its treatment in @xcite ) , but instead with a fair coin .",
    "we discuss penney s probabilistic game in the light of the coin .",
    "imagine that two players , and , are to play penney s game .",
    "then we may assume , without loss of generality , that has challenged , and for that reason it falls first to to elect a `` binary '' ( though it is perhaps more natural to consider it either `` heads '' or `` tails '' ) sequence of length three .",
    "it s easy to see that there are eight such sequences , and let us suppose that has ( lucklessly ) chosen @xmath0  that is , the sequence of three heads one after the other .    in response , also chooses a sequence .",
    "let us pointedly suppose that chooses the sequence @xmath1 .",
    "then the game proceeds as follows :    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ a coin is flipped repeatedly until either the first or second player s sequence is observed . in that case , the player whose sequence is found first is declared the winner , and we say that this player has won the `` trick . ''",
    "as many tricks as one likes may be played , and the player who wins the most tricks wins overall .",
    "for example , the following sequence may result from a fair coin , @xmath2 then we can by inspection confirm that the sequence chosen by occurs at the eighth 3-sequence ( immediately preceding elected 3-sequence ) .",
    "then we have that has won this particular trick .",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    what makes this game particularly interesting is that there exists an _ optimal _ strategy that may be taken by the second player ( in this case  ) such that they may gain a probabilistic advantage over the first player ( here , ) .",
    "we formalize this notion in the following definition .",
    "we say that a 3-sequence of binary random variables is a strategy .",
    "furthermore , such a strategy @xmath3 is optimal for another strategy @xmath4 iff the probability that the sequence @xmath3 will occur before the sequence @xmath4 ( and thereby winning the trick ) is larger than @xmath5 .",
    "we denote this probability using the notation , @xmath6      the word `` non - transitive '' may at first be rather intimidating , but as it happens almost everyone has been met with a non - transitive game at one point in their lives or another . we begin by defining a non - transitive relationship .    a relationship between strategies @xmath3 , @xmath4 , and @xmath7",
    "is said to be non - transitive if @xmath3 is optimal for @xmath4 and @xmath4 is optimal for @xmath7 , but @xmath3 is not optimal for @xmath7 .",
    "this is quite easy to find in everyday life , especially among young children !",
    "if one considers carefully , then it should be apparent that the classical game of rock - paper - scissors constitutes a non - transitive game .",
    "as we are playing a slightly different game in rock - paper - scissors , we shall for this section only consider a _ strategy _ to be one of the game s namesake possibilities .",
    "then we know that rock is optimal for scissors , and that scissors is optimal for paper .",
    "but if rock - paper - scissors were a transitive game , then rock would be optimal for paper .",
    "indeed , this is not the case , and in fact just the opposite since paper is optimal for rock !",
    "therefore , rock - paper - scissors is a non - transitive game .",
    "similarly , the penney ante game is also a non - transitive game , which is what makes it interesting . unlike rock - paper - scissors , however , where rock _ always _ beats scissors",
    ", it is conceivable in the penney ante game that a sub - optimal strategy may still win !",
    "thus , optimality must be defined in terms of probabilities rather than in terms of absolute properties .",
    "the penney ante game is a non - transitive game .    as will follow from exhaustive proof later in the paper",
    ", we will have that @xmath8 has an optimal counterpart in @xmath1 .",
    "furthermore , @xmath9 is optimal for @xmath1 . in a transitive game",
    ", this would suggest that @xmath9 is optimal for @xmath8 , but indeed they are not , for each element in the strategy is simply the `` negation '' of the corresponding element of the other .",
    "thus , if one strategy were sub - optimal , one could make it optimal by relabeling the sides of the coin .",
    "interestingly , penney s game exhibits what we suppose might be called a four - directional non - transitive relationship . continuing where we left off ,",
    "we will demonstrate later that the strategy @xmath10 is optimal for @xmath9 .",
    "but crucially we have at last that @xmath8 is optimal for @xmath10 .",
    "this is a result precisely opposite of what one would expect in a transitive game .",
    "[ lemma : hhh_response ] assume that elects the sequence @xmath0 and that in response chooses the sequence @xmath1 .",
    "then will win iff @xmath0 comprises the first sequence to appear .",
    "the direction @xmath11 is quite immediate as if the first sequence to appear is @xmath0 then has won by definition .",
    "the @xmath12 direction requires closer examination .",
    "suppose that the first sequence was not @xmath0 .",
    "then we have the implication that there must therefore be at least one @xmath13 within the first 3-sequence .",
    "then we have the following four possibilities for the next 2-sequence following the @xmath13 :    @xmath14 : : :    in this case , the total 3-sequence is @xmath1 , and so    wins the trick .",
    "@xmath15 : : :    since the sequence ends on a @xmath13 , nothing has changed    since we began , and we may take the sequence to `` reset '' in a sense    on the last occurring @xmath13 .",
    "@xmath16 : : :    from here , the sequence can either transition to a @xmath17 ( in    which case wins the trick ) , or to a @xmath13 , in which case we    can apply the logic in the point above .",
    "@xmath18 : : :    in this case , nothing has changed , so we may take the sequence to    reset on the last @xmath13 again .",
    "notice that in each of the four exhaustive conditions above , none allow for the possibility of winning the trick .",
    "therefore , we conclude that can not win if a @xmath13 has occurred within the first 3-sequence",
    ". therefore , can only win when the first three sequence does not contain @xmath13 , or in other words , if the first 3-sequence is @xmath0 .",
    "the probability that wins given that he selects the sequence @xmath0 and that plays optimally is , @xmath19 incidentally , the probability that wins under these conditions is @xmath20 .",
    "[ theorem : optimal ]    denote by @xmath21 a bernoulli random variable with parameter @xmath5 .",
    "then the sequence @xmath22 is a binary sequence of length three , which is analogous to the sequence chosen by in penney s game .",
    "then an optimal strategy for to assume is the sequence , @xmath23 where @xmath24 is the logical negation such that , @xmath25    the proof is fortunately very straightforward , and it requires only the confirmation that sequence has consistently a higher probability of occurring first than does s .",
    "the eight possible strategies can be enumerated completely .    from it",
    "is immediately clear that @xmath1 is optimal for @xmath0 .",
    "if we assume that takes the strategy @xmath8 , then predicts that the strategy @xmath1 is optimal .",
    "we can confirm this by calculating the probability that @xmath1 will occur before the sequence @xmath8 .",
    "@xmath26 therefore , we have via complementary events that , @xmath27 this confirms that @xmath1 is an optimal strategy for @xmath8 .",
    "this concludes the cases for which we provide a proof for the moment .",
    "let us next examine the case where has elected the 3-sequence @xmath28 and chooses @xmath8 .",
    "since both strategies depend on an initial result @xmath17 , we may assume without loss of generality that the first coin flip in the sequence yields @xmath17 .",
    "this proof is most easily understood via a markov chain argument , so we diverge here briefly to discuss markov chains and their relationship to penney s game .",
    "be the transition matrix of a markov chain .",
    "let the rows and columns of the transition matrix correspond to particular 3-sequences arising in the penney ante game .",
    "then the probability of transition from the 3-sequence @xmath29 to the sequence @xmath30 is given by the entry @xmath31 .",
    "[ theorem : markov ] let   be the transition matrix of a markov chain and let the row - vector @xmath32 denote a probability vector of the state distributions initially .",
    "then the probability of arriving in the 3-sequence @xmath29 after @xmath33 iterations of the game is , @xmath34 in fact , the states may be generalized beyond 3-sequences to any number of states existing in an abstract system .",
    "it is this property that makes the theorem so useful in applications .",
    "[ lemma : markov_penney ] we can now demonstrate how markov chains can be leveraged to address two further cases in penney s game .",
    "in particular , @xmath8 is optimal for both @xmath28 and @xmath10 .    in the first case , we consider @xmath28 .",
    "then predicts that should choose the strategy @xmath8 . in this case , we wish to understand @xmath35 .",
    "notice that the transition matrix ,  , for this game",
    "may be written , @xmath36 then it may be demonstrated computationally that we have asymptotically the following behavior of @xmath37 : @xmath38 let us denote @xmath39 .",
    "notice then that each of initial states are equally likely , each occurring with probability @xmath40 .",
    "therefore , provides , @xmath41 this shows that @xmath42 and that therefore , strategy is optimal for under these circumstances .    to demonstrate that @xmath8 is optimal for @xmath10 ,",
    "we proceed simply in the same manner .",
    "we do not reproduce here the calculations as we did in the previous case , but they are easy to check using a programming language such as matlab or python .",
    "let  be the transition matrix for the markov chain corresponding to the game where @xmath10 is strategy and @xmath28 is sequence",
    ". then we have that , @xmath43 it follows from here that , @xmath44 in turn , this provides the desired result .    as it happens , it is possible to demonstrate for each of the eight strategies in penney s game that the corresponding optimal strategy _ is _ optimal using a markov chain argument .",
    "however , in order to demonstrate a broader range of mathematics , we do not take that approach here .",
    "( hht ) at ( -1 , 0 ) @xmath8 ; ( htt ) at ( 1 , 1 ) @xmath10 ; ( tth ) at ( 3 , 0 ) @xmath9 ; ( thh ) at ( 1,-1 ) @xmath1 ; ( hhh ) at ( -1,-1 ) @xmath0 ; ( hth ) at ( -1 , 1 ) @xmath28 ; ( ttt ) at ( 3 , 1 ) @xmath45 ; ( tht ) at ( 3,-1 ) @xmath46 ;    ( htt )  ( hht ) ; ( hht ) ",
    "( thh ) ; ( thh )  ( tth ) ; ( tth )  ( htt ) ;    ( ttt )  ( htt ) ; ( hth )  ( hht ) ; ( hhh )  ( thh ) ; ( tht )  ( tth ) ;    we have already demonstrated proofs that yields an optimal strategy for the cases where chooses either of the 3-sequences @xmath0 or @xmath8 . by",
    ", we have immediately that gives the correct strategy for the cases where elects either of the strategies @xmath28 or @xmath10 .",
    "the remainder of the proof is not much work . in order to avoid the tedious repetition inherent in enumerating the remaining four cases",
    ", one can get away with simply observing that we could have arbitrarily relabeled the sides of our coin so that our `` heads '' side becomes our @xmath13 and the `` tails '' face represents @xmath17 .",
    "therefore , we may argue the last four cases via symmetry as follows .",
    "@xmath45 : : :    by symmetry and the result in , we have that @xmath10    is optimal for @xmath45 . @xmath9",
    ": : :    by the first part of the proof for , @xmath10 is an    optimal strategy . @xmath46",
    ": : :    by we have by symmetry that @xmath9 is optimal for    @xmath46 . @xmath1 : : :    by the same logic as in the prior point , @xmath9 is    also optimal for the strategy @xmath1 .",
    "this completes the proof that does indeed produce an optimal strategy for given any of the eight strategies that can elect . provides a visual reference for understanding the relationships between the strategies in the the penney ante game",
    "let   be the transition matrix of a markov chain .",
    "we say that a state @xmath29 is absorbing if @xmath47 such that the state may never be left .",
    "states that are not absorbing are called transient .",
    "a markov chain is itself absorbing if it contains at least one such state and if it is possible to transition to one of those states from any of the other states .",
    "be the transition matrix for an absorbing markov chain .",
    "then it is possible to `` shuffle around '' the states of ",
    "such that   has the form , @xmath48 let the matrix have @xmath49 absorbing states and @xmath50 transient states . then  is a @xmath51 matrix , and  is a @xmath52 matrix . as usual",
    ", @xmath53 indicates a @xmath54 identity matrix and @xmath55 is a @xmath56 matrix of zeros .",
    "our analysis relies primarily on the matrix .",
    "[ theorem : fundamental ] let   be the transition matrix for a markov chain in canonical form . then there exists a matrix called the fundamental matrix which is , @xmath57 furthermore , the entry @xmath58 is the expected number of times that a markov process with transition matrix   visits the transient state @xmath30 conditioned on the fact that it began in transient state @xmath29 .",
    "[ theorem : expectation ] leveraging the idea that penney s game may be viewed in the light of markov chains , we are to compute the expected number of rounds that will be played before a winner is determined in the case of a single trick .",
    "let @xmath59 be a vector whose @xmath60 entry is the expected number of iterations of the markov process beginning in state @xmath29 undergoes before it enters an absorbing state .",
    "then we may write that , @xmath61    by we have that  represents the expected number of times that a process beginning in any of the transient states visits each of the other transient states .",
    "thus , taking the summation of the rows of  yields the expected number of times that the process beginning in state @xmath29 is in any of the other transient states .",
    "this is the expected number of iterations before that process is absorbed .",
    "notice that @xmath62 is precisely the summation of the rows expressed as a matrix multiplication .",
    "c|cccccccc + & @xmath63 & @xmath64 & @xmath65 & @xmath66 & @xmath67 & @xmath68 & @xmath69 & @xmath70 + @xmath71 & 0 & 6 & 4 & 6 & 0 & 6 & 4 & 6 + @xmath72 & 2 & 0 & 4 & 6 & 0 & 6 & 4 & 6 + @xmath73 & 2 & 0 & 0 & 6 & 2 & 4 & 4 & 6 + @xmath74 & 2 & 0 & @xmath75 & 0 & 2 & @xmath76 & @xmath75 & @xmath77 + @xmath78 & @xmath77 & @xmath75 & @xmath76 & 2 & 0 & @xmath75 & 0 & 2 + @xmath79 & 6 & 4 & 4 & 2 & 6 & 0 & 0 & 2 + @xmath80 & 6 & 4 & 6 & 0 & 6 & 4 & 0 & 2 + @xmath81 & 6 & 4 & 6 & 0 & 6 & 4 & 6 & 0 +    we have now established the mathematical foundation that will allow us to present our main result .",
    "we calculate the expected number of flips of a coin that will occur before a winner is declared in penney s game .",
    "we assume that given the first player s sequence the second player will choose their strategy according to .",
    "this is , of course , dependent on knowing which of the eight possible initial circumstances ended up occurring .",
    "we exhibit these results in .",
    "we wish to draw attention to interesting symmetry that exists in the tabulation of the results that results from the symmetric nature of the game .    [",
    "theorem : expected_length ] for an instance of penney s game in which assumes the strategy @xmath3 and takes the optimal strategy as in , then the expected number of coin flips before a winner is declared is , @xmath82    consider that each of the initial states are equally probable , each occurring with frequency equal to @xmath40 .",
    "then the average time to absorption for a process beginning in either of @xmath3 or @xmath4 is clearly zero .",
    "additionally , the vector presents the average time to absorption for each of the six `` non - immediate - victory '' states .",
    "if we do not condition on any particular initial sequence at the beginning of the game , we may simply average together all of the expected times to absorption .",
    "however , it is important to note that in this case averaging these expected times to absorption will not yield the expected number of coins flipped before a winner is declared .",
    "this is because we are assumed to start with a given 3-sequence in each of these cases , yet it takes three coin flips to arrive there in the first place !",
    "hence , we introduce a supplement of three to each of our expected times to absorption to obtain the expected number of coins we must flip .",
    "this represents an approach that can serve as an alternative to the method using conway numbers proposed by nishiyama in @xcite .",
    "we show the expected number of coin tosses for each of the eight possible games in .",
    "if we assume that each of the strategies that can assume are equally likely , then we have that the expected number of coins flipped in penney s ante game is given by , @xmath84      it is possible to derive the probability @xmath85 for any pair of strategies arising from penney s game . here",
    ", we present a method that uses the fundamental matrix and another theorem from markov chain theory to derive these same probability values . but",
    "first , we present a critical result .",
    "let  be a @xmath86 matrix such that the value of @xmath87 is the probability that a markov process will be absorbed into the absorbing state @xmath30 given that it started in the transient state @xmath29 .",
    "then we may calculate  as , @xmath88        consider that if the game begins in the 3-sequence @xmath3 , then the probability of being absorbed into that state is one , yielding a probability of zero for the event that the process is absorbed into @xmath4 .",
    "the matrix @xmath92 gives the probability that the process is absorbed into @xmath3 given that it starts in any of the transient states .",
    "therefore , given that all eight initial states are equally likely , we have that the probability of the process terminating in @xmath3 is the average of the probabilities that it terminates in @xmath3 given an initial state .",
    "this yields the equation , @xmath93 to see that the equation for @xmath90 must hold in we need only confirm that @xmath94 is a complementary event to @xmath95 .",
    "this is easily seen to be true and so we obtain , @xmath96 this completes the proof .    5 nishiyama , yutaka . _ pattern matching probabilities and paradoxes as a new variation on penney s coin game_. international journal of pure and applied mathematics .",
    "volume 59 no .",
    "3 2010 , pages 357 - 366 .",
    "charles grinstead and laurie snell . _",
    "ginstead and snell s introduction to probabilitiy_. second edition .",
    "american mathematical society .",
    "july 4 , 2006 .",
    "walter penney , 95 penney - ante , _ journal of recreational mathematics _",
    ", 2 ( 1969 ) , 241 ."
  ],
  "abstract_text": [
    "<S> in late may of 2014 i received an email from a colleague introducing to me a non - transitive game developed by walter penney . </S>",
    "<S> this paper explores this probability game from the perspective of a coin tossing game , and further discusses some similarly interesting properties arising out of a markov chain analysis . in particular </S>",
    "<S> , we calculate the number of `` rounds '' that are expected to be played in each variation of the game by leveraging the fundamental matrix . additionally , i derive a novel method for calculating the probabilistic advantage obtained by the player following penney s strategy . </S>",
    "<S> i also produce an exhaustive proof that penney s strategy is optimal for his namesake game . </S>"
  ]
}