{
  "article_text": [
    "since their introduction by fomin and zelevinsky in @xcite , cluster algebras have been shown to be related to diverse areas of mathematics such as total positivity , quiver representations , teichmller theory , tropical geometry , lie theory , and poisson geometry .",
    "one of the main outstanding conjectures about cluster algebras is the _ positivity conjecture _ , which says that if one fixes a cluster algebra @xmath0 and an _ arbitrary _",
    "cluster @xmath1 , one can express each cluster variable @xmath2 as a laurent polynomial with _ positive coefficients _ in the variables of @xmath1 .",
    "there is a class of cluster algebras arising from _ surfaces with marked points _ , introduced by fomin , shapiro , and thurston in @xcite ( generalizing work of fock and goncharov @xcite and gekhtman , shapiro , and vainshtein @xcite ) , and further developed in @xcite .",
    "this class is quite large : ( assuming rank at least three ) it has been shown @xcite that all but finitely many skew - symmetric cluster algebras of _ finite mutation type _ come from this construction .",
    "note that the class of cluster algebras of finite mutation type in particular contains those of finite type .",
    "the goal of this paper is to give a combinatorial expression for the laurent polynomial which expresses any cluster variable in terms of any cluster , for any cluster algebra arising from a surface .",
    "an immediate corollary is the proof of the positivity conjecture for all cluster algebras arising from surfaces .    a _ cluster algebra _ @xmath0 of rank @xmath3 is a subalgebra of an _ ambient field _",
    "@xmath4 isomorphic to a field of rational functions in @xmath3 variables .",
    "each cluster algebra has a distinguished set of generators called _ cluster variables _ ; this set is a union of overlapping algebraically independent @xmath3-subsets of @xmath4 called _ clusters _ , which together have the structure of a simplicial complex called the _",
    "cluster complex_. see definition [ def : cluster - algebra ] for precise details .",
    "the clusters are related to each other by birational transformations of the following kind : for every cluster @xmath1 and every cluster variable @xmath5 , there is another cluster @xmath6 , with the new cluster variable @xmath7 determined by an _",
    "exchange relation _ of the form @xmath8 here @xmath9 and @xmath10 belong to a _",
    "coefficient semifield _ @xmath11 , while @xmath12 and @xmath13 are two monomials in the elements of @xmath14 .",
    "there are two dynamics at play in the exchange relations : that of the monomials @xmath12 and @xmath13 , which is encoded in the exchange matrix , and that of the coefficients",
    ".    a classification of finite type cluster algebras  those with finitely many clusters  was given by fomin and zelevinksy in @xcite .",
    "they showed that this classification is parallel to the famous cartan - killing classification of complex simple lie algebras , i.e.  finite type cluster algebras either fall into one of the infinite families @xmath15 , @xmath16 , @xmath17 , @xmath18 , or are of one of the exceptional types @xmath19 , or @xmath20 .",
    "furthermore , the _ type _ of a finite type cluster algebra depends only on the dynamics of the corresponding exchange matrices , and not on the coefficients",
    ". however , there are many examples of cluster algebras of geometric origin which  despite having the same _ type _  have totally different systems of coefficients .",
    "this motivated fomin and zelevinsky s work in @xcite , in which they studied the dependence of a cluster algebra structure on the choice of coefficients .",
    "one surprising result of @xcite was that there is a special choice of coefficients , the _ principal coefficients _ , which have the property that computation of explicit expansion formulas for the cluster variables in arbitrary cluster algebras can be reduced to computation of explicit expansion formulas in cluster algebras with principal coefficients .",
    "a corollary of this work is that to prove the positivity conjecture in geometric type , it suffices to prove the positivity conjecture for the class of principal coefficients .",
    "this takes us to the topic of the present work .",
    "our main results are combinatorial formulas for cluster expansions of cluster variables with respect to any seed , in any cluster algebra coming from a surface .",
    "our formulas are manifestly positive , so as a consequence we obtain the following result .",
    "[ main ] let @xmath21 be any cluster algebra arising from a surface , where the coefficient system is of geometric type , and let @xmath22 be any choice of initial cluster .",
    "then the laurent expansion of every cluster variable with respect to the cluster @xmath22 has non - negative coefficients .",
    "our results generalize those obtained in @xcite , where cluster algebras from the ( much more restrictive ) case of surfaces without punctures were considered .",
    "this work in turn generalized @xcite , which treated cluster algebras from unpunctured surfaces with a very limited coefficient system that was associated to the boundary of the surface .",
    "the very special case where the surface is a polygon and coefficients arise from the boundary was covered in @xcite , and also in unpublished work @xcite .",
    "see also @xcite .",
    "the recent paper @xcite gave an alternative formulation of the results of @xcite , using the language of perfect matchings as opposed to _",
    "many other people have worked on the problem of finding laurent expansions of cluster variables , and on the positivity conjecture .",
    "however , most of the results so far obtained have strong restrictions on the cluster algebra , the choice of initial cluster ( equivalently , initial seed ) , or on the system of coefficients .    in the case of rank 2 cluster algebras , the papers @xcite gave cluster expansion formulas in affine types .",
    "positivity in these cases was subsequently generalized to the coefficient - free rank 2 case in @xcite , using results of @xcite . in the case of finite type cluster algebras ,",
    "the positivity conjecture with respect to a bipartite seed follows from ( * ? ? ?",
    "* corollary 11.7 ) .",
    "other work @xcite gave cluster expansions for coefficient - free cluster algebras of finite classical types with respect to a bipartite seed .",
    "a recent tool in understanding laurent expansions of cluster variables is the connection to quiver representations and the introduction of the cluster category @xcite ( see also @xcite in type @xmath24 ) .",
    "more specifically , there is a geometric interpretation ( found in @xcite and generalized in @xcite ) of coefficients in laurent expansions as euler - poincar characteristics of appropriate grassmannians of quiver representations . using this approach , the works @xcite gave an expansion formula in the case where the cluster algebra is acyclic and the initial cluster lies in an acyclic seed ( see also @xcite in rank 2 ) ; this was subsequenty generalized to arbitrary clusters in an acyclic cluster algebra @xcite .",
    "note that these formulas do not give information about the coefficients .",
    "later , @xcite generalized these results to cluster algebras with principal coefficients that admit a categorification by a 2-calabi - yau category @xcite ; by @xcite and @xcite , such a categorification exists in the case of cluster algebras associated to surfaces with non - empty boundary .",
    "recently @xcite gave expressions for the @xmath25-polynomials in any skew - symmetric cluster algebra .",
    "however , since all of the above formulas are in terms of euler - poincar characteristics ( which can be negative ) , they do not immediately imply the positivity conjecture .    the work @xcite used the above approach to prove the positivity conjecture for coefficient - free acyclic cluster algebras , with respect to an acyclic seed .",
    "building on results of @xcite , nakajima recently used quiver varieties to prove the positivity conjecture for cluster algebras that have at least one bipartite seed , with respect to any cluster @xcite .",
    "this is a very strong result , but it does not overlap very much with our theorem [ main ] . note that a bipartite seed is in particular acyclic , but not every acyclic type has a bipartite seed ; the affine type @xmath26 , for example , does not . and",
    "the only surfaces that give rise to acyclic cluster algebras are the polygon , the polygon with one puncture , the annulus , and the polygon with two punctures ( corresponding to the finite types @xmath24 and @xmath27 , and the affine types @xmath28 and @xmath29 ) .",
    "all other surfaces yield non - acyclic cluster algebras , see ( * ? ? ?",
    "* corollary 12.4 ) .",
    "the paper is organized as follows .",
    "we give background on cluster algebras and cluster algebras from surfaces in sections [ sect cluster algebras ] and [ sect surfaces ] . in section [",
    "sect main ] we present our formulas for laurent expansions of cluster variables , and in section [ clusterexamples ] we give examples , as well as identities in the coefficient - free case . as the proofs of our main results",
    "are rather involved , we give a detailed outline of the main argument in section [ sec outline ] , before giving the proofs themselves in sections [ sect sbar ] to [ sec plain ] and [ sec finish ] . in section [ sect applications ] , we combine our results with those of @xcite and @xcite to give formulas for f - polynomials , g - vectors , and euler - poincar characteristics of quiver grassmannians .    recall that cluster variables in cluster algebras from surfaces correspond to _ ordinary arcs _ as well as arcs with _ notches _ at one or two ends .",
    "we remark that working in the generality of principal coefficients is much more difficult than working in the coefficient - free case . indeed ,",
    "once we have proved positivity for cluster variables corresponding to ordinary arcs , the proof of positivity for cluster variables corresponding to tagged arcs _ in the coefficient - free case _ follows easily , see proposition [ coeff - free ] and section [ sec quick ] . putting back principal coefficients requires much more elaborate arguments , see section [ sec finish ] .",
    "a crucial tool here is the connection to laminations @xcite .",
    "note that all cluster algebras coming from surfaces are skew - symmetric . in a sequel to this paper",
    "we will explain how to use folding arguments to give positivity results for cluster algebras with principal coefficients which are not skew - symmetric .",
    "acknowledgements : we are grateful to the organizers of the workshop on cluster algebras in morelia , mexico , where we benefited from dylan thurston s lectures .",
    "we would also like to thank sergey fomin and bernard leclerc for useful discussions .",
    "we begin by reviewing the definition of cluster algebra , first introduced by fomin and zelevinsky in @xcite .",
    "our definition follows the exposition in @xcite .      to define a cluster algebra  @xmath30 we must first fix its ground ring . let @xmath31 be a _",
    "semifield _ ,",
    "i.e. , an abelian multiplicative group endowed with a binary operation of _ ( auxiliary ) addition _",
    "@xmath32 which is commutative , associative , and distributive with respect to the multiplication in  @xmath11 .",
    "the group ring  @xmath33 will be used as a _ ground ring _ for  @xmath30 .",
    "one important choice for @xmath11 is the tropical semifield ; in this case we say that the corresponding cluster algebra is of _ geometric type_.    [ _ tropical semifield _ ] [ def : semifield - tropical ] let @xmath34 be an abelian group ( written multiplicatively ) freely generated by the @xmath35 .",
    "we define @xmath32 in @xmath36 by @xmath37 and call @xmath38 a _ tropical semifield_. note that the group ring of @xmath39 is the ring of laurent polynomials in the variables  @xmath40 .    as an _ ambient field _ for @xmath30 , we take a field @xmath41 isomorphic to the field of rational functions in @xmath3 independent variables ( here @xmath3 is the _ rank _ of  @xmath30 ) , with coefficients in  @xmath42 .",
    "note that the definition of @xmath41 does not involve the auxiliary addition in  @xmath11 .",
    "[ _ labeled seeds _ ] [ def : seed ] a _ labeled seed _ in  @xmath41 is a triple @xmath43 , where    * @xmath44 is an @xmath3-tuple of elements of  @xmath41 forming a _ free generating set _ over @xmath42 , * @xmath45 is an @xmath3-tuple of elements of @xmath11 , and * @xmath46 is an @xmath47 integer matrix which is _ skew - symmetrizable_.    that is , @xmath48 are algebraically independent over  @xmath42 , and @xmath49 .",
    "we refer to  @xmath22 as the ( labeled ) _",
    "cluster _ of a labeled seed @xmath43 , to the tuple  @xmath50 as the _ coefficient tuple _ , and to the matrix  @xmath51 as the _ exchange matrix_.    we obtain ( _ unlabeled _ ) _ seeds _ from labeled seeds by identifying labeled seeds that differ from each other by simultaneous permutations of the components in @xmath22 and  @xmath50 , and of the rows and columns of  @xmath51 .",
    "we use the notation @xmath52_+ = \\max(x,0)$ ] , @xmath53=\\{1 , \\dots , n\\}$ ] , and @xmath54    [ _ seed mutations _ ] [ def : seed - mutation ] let @xmath43 be a labeled seed in @xmath41 , and let @xmath55 $ ] . the _ seed mutation _",
    "@xmath56 in direction  @xmath57 transforms @xmath43 into the labeled seed @xmath58 defined as follows :    * the entries of @xmath59 are given by @xmath60 b_{ij } + \\sgn(b_{ik } ) \\ [ b_{ik}b_{kj}]_+   & \\text{otherwise . }",
    "\\end{cases}\\ ] ] * the coefficient tuple @xmath61 is given by @xmath62 y_j y_k^{[b_{kj}]_+ } ( y_k \\oplus 1)^{- b_{kj } } & \\text{if $ j \\neq k$}. \\end{cases}\\ ] ] * the cluster @xmath63 is given by @xmath64 for @xmath65 , whereas @xmath66 is determined by the _ exchange relation _ @xmath67_+ } + \\",
    "\\prod x_i^{[-b_{ik}]_+}}{(y_k \\oplus 1 ) x_k } \\ , .\\ ] ]    we say that two exchange matrices @xmath51 and @xmath68 are _ mutation - equivalent _ if one can get from @xmath51 to @xmath68 by a sequence of mutations .",
    "[ _ patterns _ ] [ def : patterns ] consider the _",
    "@xmath3-regular tree _",
    "@xmath69 whose edges are labeled by the numbers @xmath70 , so that the @xmath3 edges emanating from each vertex receive different labels .",
    "a _ cluster pattern _ is an assignment of a labeled seed @xmath71 to every vertex @xmath72 , such that the seeds assigned to the endpoints of any edge @xmath73 -\\!\\!\\!-\\!\\!\\!-\\\\[-.1 in ] \\scriptstyle { } \\end{array } \\ ! }",
    "t'$ ] are obtained from each other by the seed mutation in direction  @xmath57 .",
    "the components of @xmath74 are written as : @xmath75    clearly , a cluster pattern is uniquely determined by an arbitrary seed .",
    "[ _ cluster algebra _ ] [ def : cluster - algebra ] given a cluster pattern , we denote @xmath76 the union of clusters of all the seeds in the pattern .",
    "the elements @xmath77 are called _",
    "cluster variables_. the _ cluster algebra _ @xmath30 associated with a given pattern is the @xmath78-subalgebra of the ambient field @xmath41 generated by all cluster variables : @xmath79 $ ] .",
    "we denote @xmath80 , where @xmath81 is any seed in the underlying cluster pattern .",
    "the remarkable _ laurent phenomenon _ asserts the following .",
    "* theorem 3.1 ) [ laurent ] the cluster algebra @xmath30 associated with a seed @xmath81 is contained in the laurent polynomial ring @xmath82 $ ] , i.e.  every element of @xmath30 is a laurent polynomial over @xmath78 in the cluster variables from @xmath83 .",
    "let @xmath30 be a cluster algebra , @xmath84 be a seed , and @xmath85 be a cluster variable of @xmath30 .",
    "we denote by @xmath52_{\\sigma}^{\\acal}$ ] the laurent polynomial given by theorem [ laurent ] which expresses @xmath85 in terms of the cluster variables from @xmath84 .",
    "we refer to this as the _ cluster expansion _ of @xmath85 in terms of @xmath84 .",
    "the longstanding _ positivity conjecture _ @xcite says that even more is true .    _",
    "( positivity conjecture ) _ for any cluster algebra @xmath30 , any seed @xmath84 , and any cluster variable @xmath85 , the laurent polynomial @xmath52_{\\sigma}^{\\acal}$ ] has coefficients which are non - negative integer linear combinations of elements in @xmath11 .",
    "[ rectangular ] in cluster algebras whose ground ring is @xmath86 ( the tropical semifield ) , it is convenient to replace the matrix @xmath51 by an @xmath87 matrix @xmath88 whose upper part is the @xmath89 matrix @xmath51 and whose lower part is an @xmath90 matrix that encodes the coefficient tuple via @xmath91 then the mutation of the coefficient tuple in equation ( [ eq : y - mutation ] ) is determined by the mutation of the matrix @xmath92 in equation ( [ eq : matrix - mutation ] ) and the formula ( [ eq 20 ] ) ; and the exchange relation ( [ exchange relation ] ) becomes @xmath93_+ } \\prod_{i=1}^{m } u_i^{[b_{(n+i)k}]_+ }   + \\prod_{i=1}^n x_i^{[-b_{ik}]_+ } \\prod_{i=1}^{m } u_i^{[-b_{(n+i)k}]_+ } \\right).\\ ] ]      we say that a cluster algebra is of _ finite type _ if it has finitely many seeds .",
    "fomin and zelevinsky @xcite showed that the classification of finite type cluster algebras is parallel to the cartan - killing classification of complex simple lie algebras .",
    "more specifically , define the _ diagram _ @xmath94 associated to an @xmath95 exchange matrix @xmath51 to be a weighted directed graph on @xmath3 nodes @xmath96 , where @xmath97 is directed towards @xmath98 if and only if @xmath99 . in that case , we label this edge by the weight @xmath100 it was shown in @xcite that a cluster algebra @xmath80 is of finite type if and only @xmath94 is mutation - equivalent to an orientation of a finite type dynkin diagram . in this case , we say that @xmath51 and @xmath94 are of _ finite type .",
    "_    we say that a matrix @xmath51 ( and the corresponding cluster algebra ) has _ finite mutation type _ if its mutation equivalence class is finite , i.e. only finitely many matrices can be obtained from @xmath51 by repeated matrix mutations .",
    "a classification of all cluster algebras of finite mutation type with skew - symmetric exchange matrices was recently given by felikson , shapiro , and tumarkin @xcite .",
    "in particular , all but 11 of them come from either cluster algebras of rank 2 or cluster algebras associated with _ triangulations of surfaces _ ( see section [ sect surfaces ] ) .      fomin and zelevinsky introduced in @xcite a special type of coefficients , called _ principal coefficients_.    [ _ principal coefficients _ ] [ def : principal - coeffs ]",
    "we say that a cluster pattern @xmath101 on @xmath69 ( or the corresponding cluster algebra  @xmath30 ) has _ principal coefficients at a vertex  @xmath102 _ if @xmath103 and @xmath104 . in this case , we denote @xmath105 .",
    "[ rem : principal - tildeb ] definition  [ def : principal - coeffs ] can be rephrased as follows : a cluster algebra  @xmath30 has principal coefficients at a vertex  @xmath102 if @xmath30 is of geometric type , and is associated with the matrix @xmath106 of order @xmath107 whose upper part is @xmath108 , and whose complementary ( i.e. , bottom ) part is the @xmath95 identity matrix ( cf .",
    "* corollary  5.9 ) ) .",
    "the functions @xmath109 and @xmath110 _ ] [ def : aprin ] let  @xmath30 be the cluster algebra with principal coefficients at @xmath102 , defined by the initial seed @xmath111 with @xmath112 by the laurent phenomenon , we can express every cluster variable @xmath113 as a ( unique ) laurent polynomial in @xmath114 ; we denote this by @xmath115 let @xmath116 denote the laurent polynomial obtained from @xmath117 by @xmath118 @xmath119 turns out to be a polynomial @xcite and is called an _",
    "f - polynomial_.    knowing the cluster expansions for a cluster algebra with principal coefficients allows one to compute the cluster expansions for the `` same '' cluster algebra with an arbitrary coefficient system . to explain this",
    ", we need an additional notation .",
    "if @xmath25 is a subtraction - free rational expression over @xmath120 in several variables , @xmath121 a semifield , and @xmath122 some elements of  @xmath121 , then we denote by @xmath123 the evaluation of @xmath25 at @xmath124 .",
    "* theorem 3.7 ) [ th : reduction - principal ] let @xmath30 be a cluster algebra over an arbitrary semifield @xmath11 and contained in the ambient field @xmath41 , with a seed at an initial vertex @xmath102 given by @xmath125 then the cluster variables in  @xmath30 can be expressed as follows : @xmath126    when @xmath11 is a tropical semifield , the denominator of equation ( [ eq : xjt - reduction - principal ] ) is a monomial .",
    "therefore if the laurent polynomial @xmath117 has positive coefficients , so does @xmath113 .",
    "let  @xmath30 be the cluster algebra with principal coefficients at a vertex  @xmath102 , defined by the initial seed @xmath111 .",
    "let @xmath127 be any cluster algebra of geometric type defined by the same exchange matrix @xmath108 .",
    "if the positivity conjecture holds for @xmath30 , then it also holds for @xmath127 .",
    "building on work of fock and goncharov @xcite , and of gekhtman , shapiro and vainshtein @xcite , fomin , shapiro and thurston @xcite associated a cluster algebra to any _ bordered surface with marked points_. in this section we will recall that construction , as well as further results of fomin and thurston @xcite .",
    "[ _ bordered surface with marked points _ ] let @xmath128 be a connected oriented 2-dimensional riemann surface with ( possibly empty ) boundary . fix a nonempty set @xmath129 of _ marked points _ in the closure of @xmath128 with at least one marked point on each boundary component . the pair @xmath130 is called a _ bordered surface with marked points_. marked points in the interior of @xmath128 are called _ punctures_.    table [ table 1 ] gives examples of surfaces ( using notation of lemma [ ideal - tri ] ) .",
    "for technical reasons , we require that @xmath130 is not a sphere with one , two or three punctures ; a monogon with zero or one puncture ; or a bigon or triangle without punctures .",
    ".examples of surfaces [ cols=\"^,^,^,^,^,<\",options=\"header \" , ]     we define @xmath131 , @xmath132 .",
    "note that @xmath133 and that @xmath134 may be equal to @xmath135 even if @xmath136 .",
    "we now construct a triangulated polygon @xmath137 which is a union of fans @xmath138 , where each @xmath139 consists of @xmath140 triangles that all share the vertex @xmath141 .",
    "we will describe this precisely below ; see figure [ figsbar ] .",
    "* plot a rectangle with vertices @xmath142 .",
    "* label @xmath143 , @xmath144 , and @xmath145 by @xmath146 , @xmath147 , and @xmath102 , respectively . for @xmath148 ,",
    "plot the points @xmath149 and label @xmath150 by @xmath151 . for @xmath152 ,",
    "plot the points @xmath153 , and label @xmath154 by @xmath155 . *",
    "connect @xmath156 by a line segment with each point @xmath153 that lies between ( and including ) @xmath157 and @xmath158 , for @xmath159 .",
    "connect @xmath158 by a line segment with each point @xmath149 that lies between @xmath160 and @xmath151 , for @xmath161 . *",
    "if @xmath162 is odd , label @xmath163 by @xmath164 and otherwise label @xmath165 by @xmath164 .",
    "* label the interior arcs of the polygon by @xmath166 , in the order that a curve from @xmath146 to @xmath164 ( which intersects each only once ) would cross them .",
    "set @xmath167 label the boundary segments of the polygon by @xmath168 , starting at @xmath146 and going counterclockwise around the boundary of @xmath169 * each boundary segment @xmath170 not incident to @xmath146 or @xmath164 is the side of a unique triangle in the polygon , whose other sides project via @xmath171 to @xmath172 , for some @xmath57 .",
    "if the ideal triangle @xmath173 has three distinct sides , set @xmath174}$ ] . otherwise @xmath173 is self - folded : define @xmath175 to be the label of the radius in @xmath176 . *",
    "if @xmath170 is the segment between @xmath146 and @xmath147 , define @xmath175 to be the label of the arc between @xmath146 and @xmath177 in @xmath178 in the surface @xmath128 ( note @xmath179 ) .",
    "if @xmath170 is the other edge incident to @xmath146 , define @xmath175 to be the label of the third side of @xmath178 if @xmath178 is not self - folded ; and otherwise , define it to be the label of the radius in @xmath178 . *",
    "if @xmath170 is the segment between @xmath164 and @xmath180 , define @xmath175 to be the label of the arc between @xmath164 and @xmath180 in @xmath181 in @xmath128 ( note that @xmath182 ) .",
    "if @xmath170 is the other edge incident to @xmath164 , define @xmath175 to be the label of the third side of @xmath181 , if @xmath181 is not self - folded ; and otherwise define it to be the label of the radius in @xmath181 . *",
    "each of the triangles in this construction corresponds to an ideal triangle in @xmath23 .",
    "if the ideal triangle is not self - folded , then the constructed triangle may have the same orientation as the ideal triangle or the opposite one , but if the orientations do not match for one such pair of triangles then it does not match for any such pair of triangles .",
    "in the latter case , we reflect the whole polygon at the horizontal axis .",
    "* we will use @xmath183 to denote the arc in @xmath137 from @xmath146 to @xmath164 ; we call this the _ lift _ of @xmath184 .",
    "the result is a polygon @xmath137 with set of vertices @xmath185 and triangulation @xmath186 .",
    "its internal arcs are labeled @xmath166 , and the boundary segments are labeled @xmath187 . moreover , each triangle @xmath188 in @xmath186 corresponds to an ideal triangle in @xmath23 , and , if the ideal triangle is not self - folded , then the orientations of the two triangles match .",
    "let @xmath130 be a bordered surface with marked points , fix an ideal triangulation @xmath23 with internal arcs @xmath191 and boundary segments @xmath192 , and let @xmath21 be the associated cluster algebra with principal coefficients .",
    "note that the initial cluster variables of @xmath21 are @xmath193 . using the construction of @xmath137 and @xmath186 in the previous section",
    ", we will construct a related type a cluster algebra @xmath189 , and define a homomorphism @xmath190 from @xmath189 to the fraction field @xmath194 .      to this end",
    ", let @xmath137 be the polygon with triangulation @xmath186 constructed in section [ sect sbar ] . recall that its internal arcs are labeled @xmath166 , and its boundary segments are labeled @xmath187 .",
    "we define a @xmath195 exchange matrix @xmath196 as follows .",
    "the first @xmath197 rows are the signed adjacency matrix of the triangulation @xmath186 together with its boundary segments .",
    "the bottom @xmath198 rows are a copy of the @xmath199 identity matrix .",
    "we let @xmath200 , and denote the initial cluster by @xmath201 .",
    "we denote the coefficient variables by @xmath202 .",
    "we let @xmath203 be the tropical semifield .",
    "the following lemma is obvious .",
    "the @xmath197 coefficient variables of @xmath189 are encoded by both the boundary segments of @xmath137 and elementary laminations associated to the internal arcs of @xmath137 .    for each @xmath204 ,",
    "denote by @xmath205 the cluster variable obtained by mutation from @xmath201 in direction @xmath57 .",
    "[ prop acyclic ] @xmath189 is a cluster algebra of type @xmath206 , and its initial seed is acyclic .",
    "it follows that @xmath189 is generated over @xmath207 by the initial @xmath198 cluster variables and their first mutations , that is , the set @xmath208 .",
    "finally , the ideal of relations among these variables is generated by the @xmath198 exchange relations expressing @xmath209 in terms of other cluster variables .",
    "@xmath189 is of type @xmath206 with acyclic initial seed , because @xmath137 is a polygon with @xmath210 vertices , and each triangle in @xmath186 has at least one side on the boundary of @xmath137 .",
    "the last two statements now follows from ( * ? ? ?",
    "* theorem 1.20 and corollary 1.21 ) .      we will now define a homomorphism @xmath190 of @xmath211-algebras from the cluster algebra @xmath189 to the field of fractions @xmath212 of the cluster algebra @xmath213 .",
    "we will define @xmath190 on a set of generators of @xmath189 and then show that it is a well - defined homomorphism , by checking that the image of the @xmath198 exchange relations from proposition [ prop acyclic ] are relations in @xmath212 .",
    "definition of @xmath190 on the variables corresponding to arcs of @xmath186    if @xmath170 is an internal arc or boundary segment of @xmath186 ( so @xmath214 ) , define @xmath215 we make the convention that if @xmath175 is a boundary segment of @xmath128 , then @xmath216 . also recall that if @xmath175 is a loop in a self - folded triangle then the notation @xmath217 stands for the product @xmath218 , where @xmath219 is the radius and @xmath220 is the puncture in the self - folded triangle .",
    "definition of @xmath190 on the first mutations of the initial cluster variables define    @xmath221    definition of @xmath190 on the coefficients @xmath222    define    @xmath223    definition of @xmath190 on the whole cluster algebra by proposition [ prop acyclic ] , defining @xmath190 on the cluster variables and their first mutations , as well as on the generators of the coefficient group , is enough to define a homomorphism of @xmath224-algebras @xmath190 from @xmath189 , provided that @xmath190 is well - defined .",
    "note that @xmath190 is a map from @xmath189 to the field of fractions @xmath212 of @xmath213 , rather than a map to @xmath213 itself .",
    "the map @xmath190 is a well - defined homomorphism of @xmath211-algebras @xmath225    by proposition [ prop acyclic ] , it suffices to show that @xmath190 maps the @xmath198 exchange relations involving @xmath226 to relations in @xmath213 .",
    "we prove this by checking three cases : @xmath175 is not a loop or radius ; @xmath175 is a loop enclosing a radius @xmath219 ; and @xmath175 is a radius @xmath219 .    in all cases ,",
    "the exchange relation in @xmath189 is determined by the quadrilateral in @xmath186 with diagonal @xmath170 , which projects via @xmath171 to the quadrilateral in @xmath23 with diagonal @xmath175 .",
    "note that in all cases , the exchange relation in @xmath189 has the form @xmath227 where @xmath228 ranges over all arcs in @xmath229 following @xmath170 in clockwise order , and @xmath230 ranges over all arcs in @xmath229 following @xmath170 in counterclockwise order .    in the first case ( when @xmath175 is not a loop or radius ) , the local configuration of the triangulation is either that of figure [ figquad - case1a ] or figure [ figquad - case1b ] .",
    "the image of the exchange relation under @xmath190 is @xmath231 this is exactly the corresponding exchange relation (  ptolemy relation \" ) in @xmath21 .",
    "note that in theory we also need to consider configurations such as that in figure [ quad - caseextra ] , where one or both of the arcs    @xmath232 and @xmath233 are loops cutting out once - punctured monogons with puncture @xmath220 and radius @xmath219 .",
    "if say @xmath232 is such a loop , then the image of the exchange relation in @xmath234 contains @xmath235 .",
    "however , the resulting relation will still be an exchange relation in @xmath21 ( a  generalized ptolemy relation \" ) , by ( * ? ? ?",
    "* proposition 6.5 , lemma 7.2 , and definition 7.4 ) .",
    "now consider the case that @xmath175 is a loop enclosing the radius @xmath219 and puncture @xmath220 .",
    "see figure [ quad - case2 ]    for the local configuration .",
    "note that @xmath236 . in this case",
    "the exchange relation ( [ er ] ) is equal to @xmath237 and its image under @xmath190 is @xmath238 where @xmath239 is the arc obtained by flipping @xmath175 .",
    "since @xmath240 dividing by @xmath241 yields exactly the exchange relation for @xmath242 in @xmath21 , see equation ( 7.1 ) of @xcite .    finally consider the case that @xmath175 is a radius @xmath219 to a puncture @xmath220 ; let @xmath162 denote the corresponding loop around the puncture",
    ". see figure [ quad - case3 ] for the local configuration .",
    "note that the two boundary segments on the left - hand - side of the figure project to @xmath175 .    in this case",
    "the image of the exchange relation ( [ er ] ) under @xmath190 is @xmath243 since @xmath244 , this is an identity .",
    "this completes the proof .",
    "[ lem exchange ] let @xmath245 be an ideal triangulation of @xmath130 , and let @xmath246 be an arc in @xmath130 which is not in @xmath23 . let @xmath247 be the number of crossings between @xmath246 and @xmath23 . then there exist five , not necessarily distinct , arcs or boundary arcs @xmath248 and @xmath249 in @xmath130 such that    * each of @xmath250 and @xmath249 crosses @xmath23 fewer than @xmath247 times , * @xmath248 are the sides of an ideal quadrilateral with simply connected interior in which @xmath246 and @xmath249 are the diagonals .",
    "we prove the lemma by induction on @xmath251 .",
    "if @xmath252 , then let @xmath253 be the unique arc that crosses @xmath246 .",
    "then @xmath254 is a side of exactly two triangles in @xmath23 .",
    "we distinguish three cases according to how many of these triangles are self - folded , see figure [ figtriangles ] .    1 .",
    "if none of the two triangles is self - folded , then let @xmath255 and @xmath254 denote the three sides of one of them , and let @xmath256 and @xmath254 denote the three sides of the other , such that @xmath257 and @xmath258 ( and hence also @xmath259 and @xmath260 ) are opposite sides in the quadrilateral formed by the union of the two triangles . then these arcs satisfy ( a ) and ( b ) , see the left of figure [ figtriangles ] .",
    "if one of the two triangles is self - folded , then let @xmath259 and @xmath254 denote the two sides of the self - folded triangle , and let @xmath261 and @xmath254 denote the three sides of the other triangle . since @xmath262 crosses @xmath254 but not @xmath263 , it follows that @xmath254 is the loop of the self - folded triangle and @xmath264 is its radius . setting @xmath265",
    ", we obtain five arcs that satisfy conditions ( a ) and ( b ) , see the middle of figure [ figtriangles ] .",
    "the case where both triangles are self - folded is actually impossible , because two self - folded triangles that share a side can only occur on the sphere with three punctures , but this surface is not allowed , see the right of figure [ figtriangles ] .",
    "suppose that @xmath266 .",
    "choose an orientation of @xmath246 and denote its starting point by @xmath267 and its endpoint by @xmath228 ( note that @xmath267 and @xmath228 may coincide ) .",
    "label the @xmath57 crossing points of @xmath246 and @xmath23 by @xmath268 according to their order on @xmath246 , such that the crossing point @xmath269 is the closest to @xmath267 .",
    "let @xmath270 be the middle crossing point , more precisely , let @xmath271 .",
    "denote by @xmath272 the unique arc of the triangulation @xmath23 that crosses @xmath262 at the point with label @xmath270 , and let @xmath273 be the number of crossings between @xmath272 and @xmath262 .",
    "choose an orientation of @xmath272 and denote its starting point by @xmath230 and its endpoint by @xmath198 ( note again that @xmath230 and @xmath198 may coincide ) .",
    "as before with @xmath246 , label the @xmath219 crossing points of @xmath272 and @xmath262 by @xmath274 according to their order on @xmath272 ( see figure [ figtau ] ) .",
    "thus @xmath275 , @xmath276 .",
    "note that @xmath277 does _ not _ imply @xmath278 .",
    "choose @xmath162 so that @xmath279 is the middle crossing point .",
    "we will use @xmath272 and @xmath246 to construct the five arcs ( or boundary arcs ) of the lemma .",
    "let @xmath280 ( respectively @xmath281 ) denote the curve @xmath246 ( respectively @xmath272 ) with the opposite orientation . we will distinguish four cases :    1 .   _",
    "@xmath282 or @xmath283 and @xmath284 or @xmath285 .",
    "_ we define the arcs below , and we illustrate them as the dashed arcs in figure [ figrho ] , continuing the example of figure [ figtau ] .",
    "suppose first that @xmath286 .",
    "+ let @xmath287 be the arc that starts at @xmath267 and is homotopic to @xmath246 up to the crossing point @xmath288 , then , from @xmath288 to @xmath289 , @xmath290 is homotopic to @xmath272 , and from @xmath289 to @xmath228 , @xmath249 is homotopic to @xmath246 .",
    "note that @xmath249 and @xmath246 cross exactly once , namely at @xmath291 .",
    "+ in a similar way , we define @xmath292 in the special case where @xmath293 , ( respectively @xmath294 ) , we define @xmath295 where @xmath230 is the starting point of @xmath296 and @xmath198 is its endpoint . in particular , if @xmath297 then @xmath298 . + then @xmath299 form a quadrilateral with simply connected interior such that @xmath257 and @xmath258 are opposite sides , @xmath259 and @xmath260 are opposite sides , and @xmath246 and @xmath249 are the diagonals .",
    "the topological type of this quadrilateral is as in the left - hand - side of figure [ quadtypes ] . +",
    "this shows ( b ) .",
    "+ it remains to show ( a ) . by hypothesis",
    ", we have @xmath300 and @xmath301 .",
    "moreover , since the crossing points @xmath288 , and @xmath291 both lie on the same arc @xmath272 of the ideal triangulation , the arc @xmath262 must cross some other arc between the two crossings at @xmath302 and @xmath291 ; in other words , @xmath303 . similarly",
    ". also recall that @xmath305 .",
    "then , + @xmath306 in the case where @xmath293 , we have @xmath307 and in the case where @xmath308 , we have @xmath309 + this shows ( a ) .",
    "@xmath282 or @xmath283 and @xmath284 or @xmath310_. this case is illustrated in figure [ figrho2 ] .",
    "suppose first that @xmath286 .",
    "+ let @xmath311 be the arc that starts at at @xmath267 and is homotopic to @xmath246 up to the crossing point @xmath288 , then , from @xmath288 to @xmath289 , @xmath290 is homotopic to @xmath272 , and from @xmath289 to @xmath267 , @xmath249 is homotopic to @xmath312 . note that @xmath249 and @xmath246 cross exactly once , namely at the point @xmath291 . in a similar way ,",
    "let @xmath313 in the special case where @xmath293 , ( respectively @xmath308 ) , we define @xmath314 where @xmath230 is the starting point of @xmath296 and @xmath198 is its endpoint .",
    "note again that @xmath315 if @xmath297 .",
    "+ then @xmath299 form a quadrilateral with simply connected interior such that @xmath257 and @xmath258 are opposite sides , @xmath259 and @xmath260 are opposite sides , and @xmath246 and @xmath249 are the diagonals .",
    "the topological type of this quadrilateral is as in the right - hand - side of figure [ quadtypes ] .",
    "this shows ( b ) .",
    "it remains to show ( a ) . by hypothesis",
    ", we have @xmath300 and @xmath316 . as in case",
    "( 1 ) , the crossing points @xmath288 , and @xmath291 both lie on the same arc @xmath272 of the ideal triangulation , and thus the arc @xmath262 must cross some other arc between the two crossings at @xmath302 and @xmath291 ; in other words , @xmath303 .",
    "similarly @xmath317 . also recall that @xmath305 .",
    "then @xmath318 in the case where @xmath293 , we have @xmath319 and in the case where @xmath308 , we have @xmath320 + this shows ( a ) .",
    "@xmath321 and @xmath322 .",
    "_ this case follows from the case ( 1 ) by symmetry .",
    "@xmath321 and @xmath323 .",
    "_ this case follows from the case ( 2 ) by symmetry .",
    "the main technical lemma we need in order to complete the proof of our expansion formula for ordinary arcs is that @xmath324 .",
    "once we have this , the proof of our expansion formula for ordinary arcs will follow easily .      in this section we show that the constructions of @xmath137 and @xmath186 in section [ sect sbar ] are compatible with the map @xmath190 defined in section [ sect abar ] in a sense which we make precise in theorem [ phi - map ] .",
    "fix a bordered surface @xmath130 , an ideal triangulation @xmath325 , and let @xmath30 be the corresponding cluster algebra with principal coefficients with respect to @xmath23 . also fix an arc @xmath184 in @xmath128 .",
    "this gives rise to a polygon @xmath137 with a triangulation @xmath326 , a lift @xmath183 of @xmath184 in @xmath137 , a cluster algebra @xmath189 , a projection @xmath327 , and a homomorphism @xmath328 such that @xmath329    [ phi - map ] using the notation of the previous paragraph , we have that @xmath330    we prove theorem [ phi - map ] by induction on the number of crossings of @xmath184 and @xmath23 .",
    "when this number is zero , there is nothing to prove .",
    "otherwise , by lemma [ lem exchange ] , there exists a quadrilateral @xmath331 in @xmath128 with simply - connected interior , which has diagonals @xmath184 and @xmath332 , and sides @xmath333 .",
    "moreover , each of @xmath332 and the four sides crosses @xmath23 fewer times than @xmath184 does",
    ". see figure [ surfacequad ] for an example of a surface , an arc @xmath184 ( bold ) , and the corresponding quadrilateral with sides @xmath334 and diagonals @xmath184 and @xmath332 , as well as the triangulated polygons @xmath137 and @xmath335 .    by induction",
    ", we have five triangulated polygons @xmath335 , @xmath336 , five lifts @xmath337 , @xmath338 , in the respective polygons , five associated cluster algebras , and five different homomorphisms @xmath339 , @xmath340 , such that @xmath341    we let @xmath342 and @xmath343 denote the triangulations of @xmath335 and @xmath344 for @xmath345 . because @xmath137 , @xmath335 , and @xmath344 are polygons , the corresponding cluster algebras @xmath346 and @xmath347 are of type a. in type a , the cluster expansion formulas ( in terms of weights and heights of matchings ) of section [ sect cluster expansion formula ] are already known to be true @xcite . therefore , letting @xmath348 denote the formula given by theorem [ thm main ] , for @xmath349 we have @xmath350_{\\xx_{{\\widetilde{t}}_{\\gamma}}}^{{\\widetilde{{\\mathcal{a}}}}_{\\gamma } } & =   \\operatorname{match}_{{\\widetilde{s}}_{\\gamma } , { \\widetilde{t}}_{\\gamma } , \\tilde{\\gamma } }   ( x_{\\sigma_j^{\\gamma } } ,   y_{\\sigma_j^{\\gamma ' } } ) \\\\ [ x_{\\tilde{\\gamma'}}]_{\\xx_{{\\widetilde{t}}_{\\gamma'}}}^{{\\widetilde{{\\mathcal{a}}}}_{\\gamma ' } } & =   \\operatorname{match}_{{\\widetilde{s}}_{\\gamma ' } , { \\widetilde{t}}_{\\gamma ' } , \\tilde{\\gamma ' } }   ( x_{\\sigma_j^{\\gamma ' } } ,   y_{\\sigma_j^{\\gamma ' } } ) \\\\ [ x_{\\tilde{\\alpha_i}}]_{\\xx_{{\\widetilde{t}}_{\\alpha_i}}}^{{\\widetilde{{\\mathcal{a}}}}_{\\alpha_i } } & =   \\operatorname{match}_{{\\widetilde{s}}_{\\alpha_i } , { \\widetilde{t}}_{\\alpha_i } , \\tilde{\\alpha_i } }   ( x_{\\sigma_j^{\\alpha_i } } ,   y_{\\sigma_j^{\\alpha_i}}).\\end{aligned}\\ ] ]    using ( [ inductive - step ] ) and the fact that @xmath190 , @xmath339 and @xmath351 are homomorphisms , we have @xmath352    the matching formulas above use the combinatorics of six different triangulated polygons .",
    "we would like to view them all inside one polygon .",
    "to this end , consider the triangulated polygons @xmath137 and @xmath335 . because @xmath184 and @xmath332 intersect ( exactly once ) in @xmath128 , the local neighborhoods around the corresponding points in @xmath137 and @xmath335 coincide ( there are at least two triangles in common and perhaps more ) .",
    "therefore we can glue @xmath353 and @xmath354 together at this point , getting a larger polygon @xmath355 with triangulation @xmath356 .",
    "figure [ surfacequad ] shows the triangulated polygons @xmath137 and @xmath335 associated to @xmath184 and @xmath332 , and figure [ big - polygon ] shows the polygon @xmath355 obtained by glueing them together .    abusing notation , we denote the projection @xmath357 by @xmath171 .    up to isotopy , there are now four unique arcs which form the boundary of a quadrilateral @xmath358 with diagonals @xmath183 and @xmath337 , and these four arcs together with the set of triangles they pass through are isomorphic to @xmath359 in @xmath344 .",
    "therefore we can view the polygons @xmath335 and @xmath344 and the arcs @xmath337 and @xmath359 as sitting inside @xmath355 . using this observation together with equations ( [ align1 ] ) to ( [ align2 ] )",
    ", we get @xmath360 where @xmath361 denotes the specialization of @xmath362-variables from equation ( [ eq def 3 ] ) .    because @xmath363 and the @xmath364 form a quadrilateral in @xmath128 , we have a generalized ptolemy relation in @xmath30 of the form @xmath365 where @xmath366 and @xmath367 can be computed using the elementary laminations associated to the arcs of the triangulation @xmath23 .    on the other hand , since @xmath368 form a quadrilateral in @xmath355 , we have a generalized ptolemy relation in @xmath369 of the form @xmath370 where again @xmath371 and @xmath372 can be computed using the elementary laminations associated to the arcs of the triangulation @xmath373 .    because the cluster expansion formulas hold in type a , we can rewrite ( [ lift - ptolemy ] ) as @xmath374    now we specialize variables in the above formula , substituting @xmath217 for each @xmath375 and substituting @xmath376 for each @xmath222 as in equation ( [ eq def 3 ] ) . using equations ( [ align4 ] ) to ( [ align5 ] ) , this gives us @xmath377    we now state a lemma , which we will use immediately and prove momentarily .",
    "[ lemma - project ] @xmath378 and @xmath379 .",
    "using lemma [ lemma - project ] and comparing equation ( [ almost ] ) to equation ( [ s - ptolemy ] ) , we see that @xmath380 but now by equation ( [ eq useful ] ) , we get the desired result @xmath330    we now turn to the proof of lemma [ lemma - project ] .",
    "the monomials @xmath381 and @xmath382 are defined by equations ( [ s - ptolemy ] ) and ( [ lift - ptolemy ] ) and are computed by analyzing how the laminations associated to the arcs of @xmath23 and @xmath373 cut across the quadrilaterals @xmath383 and @xmath384 .    by the definition of shear coordinate , the only laminations which can make a contribution to the @xmath385 s ( respectively , @xmath386 s ) are those intersecting @xmath184 and two opposite sides of @xmath331 ( respectively , @xmath183 and two opposite sides of @xmath387 ) . in particular",
    ", these laminations must be a subset of the laminations @xmath388 ( respectively , @xmath389 , where @xmath166 are arcs of the triangulation of @xmath390 ) .",
    "we claim that for every such arc @xmath391 in @xmath23 which is _ not _ a loop or radius , the lamination @xmath392 has the same local configuration in @xmath331 as @xmath393 does in @xmath387 .",
    "( recall that @xmath394 . ) to see why this is true , recall that @xmath137 is constructed by following @xmath184 in @xmath128 , keeping track of which arcs it is crossing , and glueing together a sequence of triangles accordingly . in @xmath128",
    ", we can imagine applying an isotopy to @xmath332 , so that it follows @xmath184 as long as possible without introducing unnecessary crossings with arcs of the triangulation , before leaving @xmath184 to travel along a different side of the quadrilateral .",
    "recall that each elementary laminate @xmath392 is obtained by taking the corresponding arc @xmath391 and simply rotating its endpoints a tiny amount counterclockwise .",
    "so a laminate @xmath392 will make a nonzero contribution to the shear coordinates if and only if it crosses a side of @xmath331 ( say @xmath395 ) , then @xmath184 and @xmath332 , then the opposite side @xmath396 of @xmath331 , without crossing @xmath397 or @xmath398 in between . ( the corresponding arc @xmath391 will either have exactly the same crossings with @xmath331 , or it may have an endpoint coinciding with an endpoint of @xmath395 . ) in this case the lift @xmath399 of @xmath391 will be an arc of @xmath355 which is an internal arc common to both @xmath137 and @xmath335 ; it is clear by inspection that it will cut across the two opposite sides @xmath400 and @xmath401 of @xmath387 , see figure [ big - polygon ] .",
    "therefore the corresponding contributions to the shear coordinates will be the same from both the arc @xmath391 and its lift @xmath399 . since @xmath402",
    "if @xmath175 is not a loop or radius , we can henceforth ignore the contributions to the @xmath385-monomials which come from such arcs @xmath391 and their lifts @xmath399 .",
    "what remains is to analyze the contribution to the shear coordinates from a self - folded triangle in @xmath23 , and the contributions to the shear coordinates from its lift in @xmath403 .",
    "we will carefully analyze a representative example , and then explain what happens in the remaining cases .",
    "the leftmost figure in figure [ fig lamin ] shows the quadrilateral @xmath331 in @xmath128 ; @xmath184 is the arc bisecting it .",
    "we ve also displayed a self - folded triangle in @xmath23 with a loop @xmath404 and radius @xmath405 to a puncture @xmath220 .",
    "just to the right of this is the same quadrilateral , and the elementary laminations @xmath406 and @xmath407 . to the right of that",
    "is the quadrilateral @xmath387 , bisected by the arc @xmath183 . here , @xmath408 , @xmath409 , and @xmath410 are the lifts of @xmath404 and @xmath405 in @xmath387 ; @xmath411 and @xmath412 .",
    "the rightmost figure in figure [ fig lamin ] shows @xmath387 together with the elementary laminations @xmath413 , @xmath414 , and @xmath415 .",
    "computing shear coordinates , we get @xmath416 , and also @xmath417 .",
    "therefore the @xmath367 monomial in @xmath121 gets a contribution of @xmath418 , and the @xmath419 monomial in @xmath420 gets a contribution of @xmath421 .",
    "applying @xmath361 to this gives @xmath422 , as desired .",
    "figure [ fig lamin2 ] shows two more ways that a self - folded triangle from @xmath23 might interact with the quadrilateral @xmath331 .",
    "each row of the figure displays the self - folded triangle and the corresponding elementary laminations , and the lift of the self - folded triangle in @xmath403 and the corresponding elementary laminations .",
    "in the example of the top row , we have @xmath423 , @xmath424 , @xmath425 , @xmath426 , and @xmath427 . in the example of the second row",
    ", we have @xmath428 , @xmath429 , @xmath430 , @xmath431 , and @xmath432 .",
    "all other configurations of a self - folded triangle from @xmath23 either make no contribution to the shear coordinates indexed by @xmath184 ( in which case the same is true for the lift of that self - folded triangle ) , or come from either rotating or reflecting one of the configurations from figure [ fig lamin2 ] . we leave it as an exercise for the reader to check that just as in the example of figure [ fig lamin ] , the monomials corresponding to the shear coordinate @xmath433 map via @xmath361 to the monomials corresponding to the shear coordinate @xmath434",
    ".    it may seem that our arguments and figures rely on the assumption that the quadrilateral @xmath331 has four distinct edges and four distinct vertices .",
    "however , one can always slightly deform a quadrilateral with some identified vertices or edges to get a quadrilateral with four distinct edges and vertices ; see figure [ opening ] .",
    "it is not hard to see that the shear coordinates of a lamination with respect to a given arc are unchanged if we work instead with this deformation , so our arguments extend to this situation .",
    "this completes the proof of the claim , and hence the theorem .",
    "we are now ready to prove theorem [ thm main ] .",
    "we have fixed a bordered surface @xmath130 , an ordinary arc @xmath184 , and an ideal triangulation @xmath23 with internal arcs @xmath435 and boundary segments @xmath436 .",
    "this determines a cluster algebra @xmath0 with principal coefficients with respect to @xmath437 . from @xmath130 , @xmath23 , and @xmath184",
    "we have built a polygon @xmath137 with a  lift \" @xmath183 of @xmath184 , together with a triangulation @xmath186 with internal arcs @xmath438 and boundary segments @xmath439 we have a surjective map @xmath440 .",
    "furthermore , we have associated a type @xmath206 cluster algebra @xmath189 to @xmath137 , and a homomorphism @xmath190 from @xmath189 to @xmath441 .",
    "this map has the property that for each @xmath442 , @xmath443 .",
    "additionally , by theorem [ phi - map ] , @xmath324 .",
    "since @xmath189 is a type a cluster algebra , we can compute the laurent expansion of @xmath444 with respect to @xmath445 .",
    "more specifically , @xcite proved theorem [ thm main ] for unpunctured surfaces , which in particular includes polygons . at this point",
    "the reader may worry that theorem [ thm main ] can not be applied to @xmath189 , as @xmath189 is not simply a cluster algebra with principal coefficients associated to a triangulation  it has extra coefficient variables corresponding to the boundary segments of @xmath186 .",
    "however , consider the triangulated polygon @xmath446 that we obtain from @xmath353 by adding @xmath230 triangles around the boundary , each one with an edge at a boundary segment , and consider the corresponding cluster algebra @xmath447 with principal coefficients .",
    "this is still a type a cluster algebra so we can use the result of @xcite to apply theorem [ thm main ] to expand the cluster variable corresponding to @xmath183 with respect to @xmath448 in @xmath447 . and",
    "clearly the formula giving the laurent expansion of @xmath444 with respect to @xmath445 in @xmath189 is identical to the formula giving the laurent expansion of the cluster variable corresponding to @xmath183 with respect to @xmath448 in @xmath447",
    ".    therefore we can apply theorem [ thm main ] to get the cluster expansion of @xmath444 with respect to @xmath445 in @xmath189 : in other words , we build a graph @xmath449 , and the cluster expansion is given as a generating function for perfect matchings of this graph .",
    "the variables in the expansion are @xmath450 and @xmath451 .",
    "therefore , since @xmath190 is a homomorphism such that @xmath443 for @xmath452 , and @xmath453 , computing the laurent expansion for @xmath454 with respect to @xmath23 in @xmath0 amounts to applying a specialization of variables to the generating function for matchings in @xmath455 .",
    "it follows from the construction in section [ sect sbar ] that the unlabeled graph @xmath449 is equal to the unlabeled graph @xmath456 : this is because the triangulated polygon @xmath353 is built so that the local configuration of triangles that @xmath183 passes through is the same as the local configuration of triangles that @xmath184 passes through in @xmath23 .",
    "additionally , an edge of @xmath457 labeled @xmath458 corresponds to an edge of @xmath459 labeled @xmath460 .    comparing the definition of @xmath190 on the coefficients @xmath222 ( equation [ eq def 3 ] ) to the definition of the specialized height monomial ( definition [ height ] ) , we see now that applying @xmath190 to the generating function for matchings in @xmath449 yields exactly the formula of theorem [ thm main ] applied to @xmath128 , @xmath23 , and @xmath184 .",
    "this completes the proof of the theorem .",
    "in this section we will use proposition [ coeff - free ] together with our positivity result for ordinary arcs to prove the positivity result for notched arcs ( in the coefficient - free case ) .",
    "we begin by proving proposition [ coeff - free ] .    fix a bordered surface @xmath130 and an ideal triangulation @xmath23 of @xmath128 .",
    "let @xmath0 be the associated coefficient - free cluster algebra .",
    "consider a puncture @xmath220 , a different marked point @xmath461 , and an ordinary arc @xmath184 between @xmath220 and @xmath461 .",
    "consider a third marked point @xmath146 and an ordinary arc @xmath462 between @xmath220 and @xmath146 .",
    "let @xmath463 and @xmath464 be the two ordinary arcs between @xmath461 and @xmath146 which are sides of a bigon so that the triangles with sides @xmath465 and @xmath466 have simply - connected interior .",
    "see the left - hand - side of figure [ fig quadrilaterals ] .    then in @xmath0 , @xmath467 , which implies that @xmath468 in other words , the ratio @xmath469 is an invariant which we will call @xmath470 , which depends only on @xmath220 , and not the choice of ordinary arc @xmath184 incident to @xmath220 .",
    "if we take the same bigon with sides @xmath463 and @xmath464 and notch all three arcs emanating from @xmath461 , we get @xmath471 therefore @xmath472 .    so far we have treated the case where @xmath184 has two distinct endpoints .",
    "now suppose that @xmath184 is an ordinary loop based at @xmath220 which does not cut out a once - punctured monogon .",
    "then choose a marked point @xmath461 in the interior of @xmath184 , another marked point @xmath146 , and an ordinary arc from @xmath461 to @xmath146 which crosses @xmath184 once .",
    "let @xmath397 and @xmath395 be ordinary arcs between @xmath220 and @xmath146 , and @xmath398 and @xmath396 be ordinary arcs between @xmath220 and @xmath461 so that the @xmath364 form the sides of a quadrilateral with simply - connected interior .",
    "see the right - hand - side of figure [ fig quadrilaterals ] . then @xmath473 and @xmath474 , where @xmath475 .",
    "it follows that @xmath476 .",
    "what remains is to give an explicit expression for the quantity @xmath470 . for @xmath184 an ordinary arc with distinct endpoints ,",
    "we know that @xmath477 does not depend on the choice of @xmath184 , so we make the simplest possible choice",
    ". choose @xmath478 to be any arc of @xmath23 which is incident to @xmath220 , so that @xmath479 is in the initial cluster associated to @xmath23 .",
    "let @xmath461 denote the other endpoint of @xmath478 , and let @xmath162 be the loop based at @xmath461 cutting out a once - punctured monogon around @xmath220 .",
    "then @xmath480 , so @xmath481 .",
    "the variable @xmath479 is an initial cluster variable and we can compute the laurent expansion of @xmath482 using theorem [ thm main ] .",
    "it is easy to see that the graph @xmath483 consists of @xmath484 tiles with diagonals @xmath485 , where @xmath486 are the arcs of @xmath23 emanating from @xmath220 ( say in clockwise order around @xmath220 ) .",
    "the tiles are glued in an alternating fashion so as to form a ",
    "zig - zag \" shape , see figure [ zig - zag ] .",
    "also , @xmath478 is the label of the two outer edges of @xmath483 . now a straightforward induction on @xmath270 shows that applying theorem [ thm main ] to @xmath162 gives @xmath487 }   x_{\\tau_3 } x_{\\tau_4 }   \\cdots x_{\\tau_h})}{x_{\\tau_2}\\cdots   x_{\\tau_h}},\\ ] ] where @xmath488 is the cyclic permutation @xmath489 acting on subscripts .",
    "dividing this expression by @xmath490 gives the desired expression for @xmath470 .",
    "this completes the proof .",
    "fix a bordered surface @xmath130 , a tagged triangulation @xmath23 of the form @xmath491 where @xmath492 is an ideal triangulation , and let @xmath0 be the corresponding coefficient - free cluster algebra .",
    "then the laurent expansion of a cluster variable corresponding to a notched arc with respect to @xmath437 is positive .",
    "this follows immediately from our positivity result for cluster variables corresponding to ordinary arcs , together with proposition [ coeff - free ] .",
    "in this section , we prove the results of section [ sect notched ] , giving cluster expansion formulas for cluster variables corresponding to tagged arcs .",
    "we use algebraic identities for cluster variables to reduce the proofs of theorem [ thm single ] and theorem [ thm double ] to combinatorial statements about perfect matchings , @xmath262-symmetric matchings , and @xmath262-compatible pairs of matchings .    in particular",
    ", for the case of a tagged arc @xmath493 with a single notch at puncture @xmath220 ( theorem [ thm single ] ) , we use the equation @xmath494 and the fact that theorem [ thm main ] gives us matching formulas for two out of three of these terms . for the case of a tagged arc @xmath495 with a notch at both ends , punctures @xmath220 and @xmath461 ( theorem [ thm double ] )",
    ", we use an identity ( described in section [ subsect algdouble ] ) involving @xmath496 and three other cluster variables , where all other terms except @xmath496 have matching formulas from theorems [ thm main ] and [ thm single ] . in both of these cases ,",
    "the fact that the desired matching formulas for @xmath497 and @xmath496 satisfy combinatorial identities analogous to the algebraic identities coming from the cluster algebra completes the proofs of theorems [ thm single ] and [ thm double ] . before giving these proofs",
    ", we introduce some notation and auxiliary lemmas .",
    "we begin by describing the shape of the graph @xmath498 in more detail .",
    "let @xmath499 be the connected subgraph of @xmath500 consisting of the union of the tiles @xmath501 through @xmath502 ( see the notation of section [ sect notched ] and figure [ loopsnakegraph ] ) .",
    "[ hzeta ] it follows from the construction of @xmath498 in section [ sect graph ] and the fact that @xmath503 through @xmath504 all share a single endpoint , that @xmath499 contains no consecutive triple of tiles all of which lie in the same row or column .",
    "[ bendingassumpt ] since the arcs @xmath505 are the sides of a triangle in @xmath492 , and @xmath506 and @xmath507 share a vertex , it follows that in the graph @xmath498 either the three tiles @xmath508 , and @xmath501 or the three tiles @xmath508 and @xmath502 lie in a single row or column .",
    "thus , we may assume without loss of generality that tiles @xmath509 , @xmath510 , and @xmath501 lie in a single row and tiles @xmath509 , @xmath510 , and @xmath502 do not",
    ". see figure [ loopsnakegraphwv ] .",
    "[ twoends ] if @xmath511 is a perfect matching of @xmath498 then @xmath511 restricts to a perfect matching on at least one of its two ends .",
    "more precisely , @xmath512 is a perfect matching of @xmath513 , or the analogous condition must hold for @xmath514 .",
    "see figure [ loopsnakegraphwv ] .",
    "we let @xmath515 ( respectively @xmath516 ) denote the other vertex of the edge labeled @xmath504 ( respectively @xmath503 ) incident to @xmath517 ( respectively @xmath518 ) .",
    "suppose that @xmath511 is a perfect matching of @xmath498 whose restriction to each of the subgraphs @xmath519 is not a perfect matching .",
    "the restriction of @xmath511 to @xmath520 is not a perfect matching if and only if @xmath511 contains the edge labeled @xmath521 incident to vertex @xmath517",
    ". then @xmath511 must also contain the edge labeled @xmath522 on the same tile because otherwise the vertex @xmath515 could only be covered by the edge labeled @xmath506 and this would leave a connected component with an odd number of vertices to match together .    similarly , the restriction of @xmath511 to @xmath523 is not a perfect matching if and only if @xmath511 contains the edge labeled @xmath524 incident to vertex @xmath518",
    ". then @xmath511 must also contain the edge labeled @xmath507 incident to @xmath516 on this same tile .",
    "however , no perfect matching @xmath511 can contain all four of these edges since by remark [ hzeta ] , @xmath525 contains no consecutive triple of tiles lying in a single row or column .",
    "thus we have a contradiction .      for the proof of theorem [ thm single ]",
    ", we also need the following fact .",
    "[ yheight ] the minimal matching @xmath526 of @xmath498 is a @xmath184-symmetric matching .",
    "since @xmath526 and @xmath527 are the unique perfect matchings of @xmath498 using only boundary edges , it follows that exactly one out of @xmath528 , say @xmath529 , contains the edge labeled @xmath506 on the tile @xmath510 containing @xmath517 .",
    "the perfect matching @xmath529 can not contain the edge labeled @xmath507 on the adjacent tiles . as shown in figure [ figminm ] , the perfect matching @xmath529 contains other edges on the boundary in an alternating fashion .",
    "since the two ends of @xmath498 are isomorphic , continuing along the boundary in an alternating pattern , we obtain that @xmath529 is @xmath184-symmetric .",
    "its complement must also be @xmath184-symmetric , so both @xmath526 and @xmath527 are @xmath184-symmetric .",
    "we need to introduce a few more definitions before proving theorem [ thm single ] .",
    "let @xmath530 denote the induced subgraph obtained after deleting the vertices @xmath97 , @xmath531 of @xmath499 and all edges incident to those vertices .",
    "let @xmath532 ( resp .",
    "@xmath533 ) denote the subgraph of @xmath498 which is the union @xmath534 ( resp .",
    "@xmath535 ) . that is",
    ", we use a superscript @xmath536 to denote the removal of the @xmath537th side of a graph .",
    "[ _ symmetric completion _ ] fix a perfect matching @xmath511 of @xmath498 , and by lemma [ twoends ] , assume without loss of generality that @xmath511 restricts to a perfect matching on @xmath520 .",
    "therefore @xmath511 also restricts to a perfect matching on the complement , graph @xmath532 .",
    "we define the _ symmetric completion _ @xmath538 of @xmath539 to be the unique extension of @xmath539 to @xmath498 such that @xmath540 .",
    "( note that after adding edges to @xmath541 , only vertex @xmath517 is not covered .",
    "we add an edge incident to @xmath517 based on whether the edge incident to @xmath515 labeled @xmath506 is included so far . )",
    "it follows from this construction that the restriction @xmath542 is a perfect matching .",
    "[ _ sets @xmath543 and @xmath544 _ ] [ ppandsp ] for an ordinary arc @xmath262 ( including loops cutting out once - punctured monogons ) we let @xmath545 denote the set of perfect matchings of @xmath546 , and let @xmath547 denote the set of @xmath184-symmetric matchings of @xmath498 .",
    "we now prove theorem [ thm single ] by constructing a bijection @xmath548 between pairs @xmath549 in @xmath550 and perfect matchings @xmath551 in @xmath552 .",
    "this bijection will be weight - preserving and height - preserving , in the sense that if @xmath553 , then @xmath554 and @xmath555 .",
    "this gives @xmath556 after applying @xmath557 , the left - hand - side and first term on the right are the numerators for @xmath558 and @xmath454 given by theorem [ thm main ] , which allows us to express @xmath559 in terms of @xmath560 .    [ proof of theorem [ thm single ] ] as indicated above , we define a map @xmath561 @xmath562 where the edges of @xmath563 are placed on the subgraph @xmath564 or @xmath565 , respectively . in words , @xmath548 removes all of the edges from one of the two ends of the @xmath262-symmetric matching @xmath566 , and replaces those edges with edges from the perfect matching @xmath563 , thereby constructing a perfect matching @xmath551 of @xmath552 that it is not necessarily @xmath262-symmetric . by lemma [ twoends ] , either @xmath567 or @xmath568 is a perfect matching and so @xmath548 is well - defined .",
    "thus @xmath569 is a perfect matching of @xmath552 .",
    "we show that @xmath548 is a bijection by exhibiting its inverse .",
    "for @xmath570 , define @xmath571 a little thought shows that these two maps are inverses .",
    "we now show that the bijection @xmath548 is weight - preserving . without loss of generality ,",
    "@xmath567 is a perfect matching .",
    "if @xmath553 , then @xmath572 . we obtain @xmath573 since @xmath574 is defined to be @xmath575 , we conclude that @xmath548 is weight - preserving .",
    "to see that @xmath548 is height - preserving , we use lemma [ yheight ] , which states that @xmath576 is a @xmath262-symmetric matching . consequently ,",
    "using the same partitioning that showed that @xmath548 was weight - preserving , we can consider the following equation describing the symmetric difference of @xmath551 and @xmath576 : @xmath577 since the cycles appearing in the symmetric difference determine the height monomials , this decomposition implies that @xmath578hence @xmath548 is height - preserving .    because @xmath361 is weight- and height - preserving",
    ", we have ( [ preserve ] ) .",
    "applying @xmath557 gives @xmath579    we now use the identity @xmath580 and obtain @xmath581    comparing ( [ almost - single - proof ] ) and ( [ almost - single - proof2 ] ) yields the desired formula .",
    "we now give the algebraic portion of the proof of theorem [ thm double ] . for the purpose of computing the laurent expansion of @xmath582 with respect to @xmath23",
    ", we can assume that no tagged arc in @xmath23 is notched at either @xmath220 or @xmath461 , see remark [ assumption ] .",
    "in the statement below , the notation @xmath583 indicates @xmath269 or @xmath584 , based on whether it s argument is true or false .",
    "[ double - identity ] fix a tagged triangulation @xmath23 of @xmath130 which comes from an ideal triangulation , and let @xmath30 be the cluster algebra associated to @xmath130 with principal coefficients with respect to @xmath23 .",
    "let @xmath220 and @xmath461 be punctures in @xmath128 , and let @xmath462 be an ordinary arc between @xmath220 and @xmath461 .",
    "assume that no tagged arc in @xmath23 is notched at either @xmath220 or @xmath461 .",
    "then @xmath585    for simplicity , we assume for now that @xmath586 .",
    "( later we will lift the assumption . )",
    "choose a quadrilateral in @xmath128 with simply connected interior such that one of its diagonals is @xmath462 .",
    "( this involves the choice of two more marked points , say @xmath587 and @xmath588 . )",
    "label the ( ordinary ) arcs of the quadrilateral by @xmath589 and the other diagonal by @xmath590 , as in figure [ quad ] .",
    "note that there are four ways of changing the taggings around @xmath220 and @xmath461 , and for each we get a ptolemy relation .",
    "@xmath591    here , @xmath592 ( respectively @xmath593 ) is the monomial ( in coefficient variables ) coming from all laminations which do not spiral into @xmath220 or @xmath461 and which give a shear coordinate of @xmath269 ( respectively @xmath594 ) with @xmath462 , as in figure [ partition ] .",
    "we use definition 12.1 of @xcite to compute shear coordinates with respect to tagged arcs @xmath595 , @xmath596 , and @xmath597 .",
    "@xmath598 and @xmath599 are monomials coming from laminations which spiral into either the puncture @xmath220 or @xmath461 , respectively . since we have assumed that @xmath23 does not contain arcs with a notch at @xmath220 or @xmath461 , all laminates which spiral into @xmath220 or @xmath461 spiral counterclockwise .",
    "@xmath600 is the monomial coming from laminations that spiral into @xmath220 giving a shear coordinate of @xmath269 to @xmath462 ( equivalently , a shear coordinate of @xmath269 to @xmath596 ) .",
    "@xmath601 is the monomial coming from laminations that spiral into @xmath461 giving a shear coordinate of @xmath269 to @xmath462 ( equivalently , a shear coordinate of @xmath269 to @xmath595 ) .",
    "@xmath602 is the monomial coming from laminations that spiral into @xmath220 giving a shear coordinate of @xmath594 to @xmath595 ( equivalently , to @xmath597 ) .",
    "finally , @xmath603 is the monomial coming from laminations that spiral into @xmath461 giving a shear coordinate of @xmath594 to @xmath596 ( equivalently , to @xmath597 ) .",
    "see figure [ laminate - spiral ] .",
    "when we multiply equations ( [ p0 ] ) and ( [ p3 ] ) and subtract the product of ( [ p1 ] ) and ( [ p2 ] ) , some terms cancel .",
    "factoring the remaining terms , we find that @xmath604    we now want to interpret each of the terms @xmath605 , @xmath606 , @xmath607 , and @xmath608 as the left - hand - side of a ptolemy relation . to this end , let @xmath609 be the arc between @xmath587 and @xmath588 which is homotopic to the concatenation of @xmath463 and @xmath610 , so that @xmath609 and @xmath590 are opposite sides of a bigon with vertices @xmath587 and @xmath588 and internal vertex @xmath220",
    ". see figure [ bigon ] .",
    "the ptolemy relations concerning this bigon are @xmath611    here @xmath612 , and @xmath613 are monomials coming from laminations that intersect @xmath463 and @xmath610 as in figure [ bigon - shear ] .",
    "( see also ( * ? ? ?",
    "* figure 32 ) . )",
    "note that by our assumptions on @xmath23 , we do not have to worry about laminations that spiral clockwise into @xmath220 .    a laminate crossing @xmath590 and spiraling to @xmath220 must cross @xmath462 , so @xmath614 .",
    "therefore @xmath615 since laminates spiraling to @xmath220 correspond to tagged arcs incident to @xmath220 .",
    "similarly , letting @xmath616 be the arc between @xmath587 and @xmath588 homotopic to the concatenation of @xmath464 and @xmath184 , so that @xmath590 and @xmath616 are opposite sides of a bigon with the interior point @xmath461 , we get the following ptolemy relations .",
    "@xmath617 here , @xmath618 are defined just as @xmath619 were , with @xmath461 replacing @xmath220 .",
    "similar to above , @xmath620 , and @xmath621    we now have that @xmath622 so @xmath623    since the monomials @xmath624 and @xmath625 are defined by laminates crossing the quadrilateral as in figure [ partition ] ( which in turn come from tagged arcs of @xmath23 that have the same local configuration ) , it follows that @xmath626 this completes the proof when @xmath586 .    if @xmath627 , the proof is nearly the same . in this case ,",
    "one gets a contribution to the shear coordinates from the laminate @xmath628 associated to @xmath462 , see figure [ quad ] .",
    "equations ( [ p1 ] ) and ( [ p2 ] ) remain the same , and equations ( [ p0 ] ) and ( [ p3 ] ) become @xmath629 using the four ptolemy relations , i.e. ( [ p0])([p3  ] ) @xmath630([p1])([p2 ] ) , we get @xmath631 in this case @xmath632 and @xmath633 , and the proof continues as before .    there is a version of theorem [ double - identity ] which makes no assumptions on the notching of arcs in @xmath23 at @xmath220 or @xmath461 .",
    "although we wo nt use it later , we record the statement .",
    "fix a tagged triangulation @xmath23 of @xmath130 which comes from an ideal triangulation , and let @xmath30 be the cluster algebra associated to @xmath130 with principal coefficients with respect to @xmath23 .",
    "let @xmath220 and @xmath461 be punctures in @xmath128 , and let @xmath462 be an ordinary arc between @xmath220 and @xmath461 .",
    "then @xmath634 is equal to @xmath635 where @xmath636 ( respectively , @xmath637 ) is the number of ends of @xmath272 that are incident to the puncture @xmath220 with an ordinary ( respectively , notched ) tagging .    in the degenerate case of a bordered surface with two punctures @xmath220 and @xmath461 and only one other marked point @xmath587 , theorem [ double - identity ] still holds and the proof is analogous . here",
    "we let @xmath590 be a loop based at @xmath587 crossing @xmath462 exactly once , and define @xmath463 , @xmath638 , and @xmath610 as in figure [ figquad - mark3 ] .",
    "note that we can view @xmath639 and @xmath610 as the four sides of a degenerate quadrilateral with diagonals @xmath462 and @xmath590 .",
    "we then obtain the analogues of equations ( [ p0])-([p3  ] ) , replacing all instances of vertex @xmath588 with @xmath587 , @xmath184 with @xmath464 , @xmath640 with @xmath641 , @xmath625 with @xmath269 , and @xmath642 with @xmath643 .    in the degenerate case when @xmath644 , theorem [ double - identity ] also holds , but we need to make sense of notation such as @xmath645 when @xmath462 is a loop .",
    "see section [ sec dnl ] .",
    "we now use theorem [ double - identity ] to prove proposition [ prop double - special ] , where @xmath646 , and then theorem [ thm double ] , where @xmath647 . in both proofs",
    ", we will use theorems [ thm main ] and [ thm single ] to replace appearances of cluster variables @xmath454 , @xmath497 , and @xmath648 with generating functions of perfect ( and @xmath262-symmetric ) matchings of graphs @xmath649 , @xmath498 and @xmath650 .",
    "we are then reduced to proving combinatorial identities concerning these sets of matchings .",
    "[ minmaxprodint ] assume that the ideal triangulation @xmath492 contains the arc @xmath262 between the punctures @xmath461 and @xmath220 ( @xmath651 ) .",
    "let @xmath652 denote the loop based at puncture @xmath461 enclosing the arc @xmath184 and puncture @xmath220 , but no other marked points .",
    "let @xmath653 and @xmath654 denote the minimal and maximal matchings of @xmath500 , respectively .",
    "define @xmath655 , @xmath656 , and @xmath657 analogously .",
    "assume the local configuration around arc @xmath262 and punctures @xmath220 and @xmath461 is as in figure [ figlocalquad ] .",
    "let @xmath658 and @xmath521 through @xmath504 label the arcs that @xmath652 crosses as we follow it clockwise around puncture @xmath220 .",
    "analogously , let @xmath659 and @xmath660 through @xmath661 label the arcs that @xmath655 crosses as we follow it clockwise around puncture @xmath461 .",
    "then we have the following .",
    "@xmath662    there are analogous identies for @xmath655 , which we get by replacing @xmath220 with @xmath461 and switching the @xmath616 s and @xmath663 s .",
    "the minimal and maximal matchings are precisely those that contain only boundary edges .",
    "we distinguish between the two based on the fact that arcs @xmath504 , @xmath262 , and @xmath521 are assumed to be given in clockwise order , as are @xmath661 , @xmath262 , and @xmath660 .",
    "the edges of the minimal and maximal matchings both have a regular alternating pattern on the interior of @xmath525 ( resp .",
    "@xmath664 ) . see figure [ figint ] for the verification of equation ( [ loopminp ] ) .",
    "the weights in the other equation are analogous .",
    "the height monomial of a minimal matching is @xmath269 , and the height monomial of a maximal matching of a graph is the product of @xmath665 s , one for each label of a tile in the graph .",
    "thus , looking at the diagonals ( i.e. labels ) of the tiles in @xmath498 and @xmath650 completes the proof .",
    "[ proof of proposition [ prop double - special ] ] we define @xmath503 through @xmath504 and @xmath666 through @xmath661 as in lemma [ minmaxprodint ] . based on lemma [ minmaxprodint ]",
    ", it follows that @xmath667 @xmath668 is positive , since @xmath669 , @xmath670 , and thus the two negative terms cancel with terms coming from the product of laurent polynomials .",
    "since we assumed that @xmath23 does not contain any arcs with notches at @xmath220 or @xmath461 , it follows that @xmath671 , @xmath672 , @xmath673 , and @xmath674 . applying @xmath557 to ( [ matchint ] )",
    ", we obtain that @xmath675 is positive .",
    "since @xmath676 , @xmath677 is an initial cluster variable and the left - hand - side of ( [ matchint2 ] ) can be rewritten using remark [ rem : enough ] . theorem [",
    "double - identity ] then gives @xmath678 it follows that the cluster expansion of @xmath496 is positive .",
    "for the remainder of this section , we assume that @xmath262 ( as well as @xmath679 and @xmath495 ) is not in the tagged triangulation @xmath23 .",
    "we use the notation of definition [ ppandsp ] , and additionally we let @xmath680 denote the set of pairs of @xmath262-compatible matchings @xmath681 of @xmath682 , and let @xmath683 ( resp .",
    "@xmath684 , @xmath685 , and @xmath686 ) denote the set of perfect matchings of @xmath525 ( resp .",
    "@xmath530 , @xmath664 , and @xmath687 ) . following section",
    "[ sect notched ] , we label the tiles of @xmath498 so that they match the labels of the arcs crossed as we travel along @xmath652 in clockwise order : @xmath688 see figure [ loopsnakegraph ] .",
    "analogously , the tiles of @xmath689 are labeled so that they match the arcs crossed as we travel along @xmath655 in clockwise order : @xmath690 it follows that the tiles @xmath510 in both @xmath500 and @xmath689 have two adjacent sides labeled @xmath503 and @xmath504 , and the tiles @xmath691 contain two adjacent sides labeled @xmath666 and @xmath661 .",
    "we let @xmath692 denote the induced subgraph obtained from @xmath693 by deleting vertices @xmath97 and @xmath531 , and all edges incident to either of these two vertices .",
    "[ twoendssymmetric ] if @xmath511 is a @xmath184-symmetric matching of @xmath498 then @xmath511 can be partitioned into three perfect matchings of subgraphs in exactly one of the two following ways :    1 .",
    "@xmath694 , or 2 .",
    "@xmath695 .",
    "see figures [ loopsnakegraphwv ] and [ figminm ] .",
    "we will divide the set of @xmath184-symmetric matchings of @xmath498 into two classes , depending on whether or not they contain one of the edges labeled @xmath506 on the tiles containing vertex @xmath517 and @xmath518 . by definition ,",
    "a @xmath184-symmetric matching must contain both of these edges or neither .",
    "\\(1 ) if @xmath511 contains the specified edges , then @xmath511 must also contain the edge labeled @xmath503 that is incident to vertex @xmath517 .",
    "( otherwise , vertex @xmath517 could only be covered by the edge labeled @xmath521 and this would leave a connected component with an odd number of vertices to match together . ) filling in the rest of the edges on tiles @xmath691 through @xmath509 , we see that @xmath512 is a perfect matching .",
    "such a @xmath511 does not contain the edge labeled @xmath507 on the tile @xmath509 since that would also leave a connected component with an odd number of vertices .",
    "consequently , vertices @xmath518 and @xmath516 must be covered by edges from the tile @xmath502 .",
    "we conclude that the remainder of the set @xmath511 can be decomposed disjointly as the perfect matchings @xmath696 and @xmath697 .",
    "\\(2 ) if @xmath511 does not contain the specified edges , then @xmath511 must contain the edge labeled @xmath504 that is incident to @xmath518 .",
    "( otherwise the vertex where edges labeled @xmath504 and @xmath506 meet on that tile would not be covered by an edge of @xmath511 . ) filling in the rest of @xmath511 , we see that it restricts to a perfect matching on @xmath523 .",
    "since the edge labeled @xmath506 incident to @xmath515 is not in @xmath511 , the edge @xmath503 incident to @xmath517 can not be contained in @xmath511 .",
    "( otherwise vertex @xmath515 could only be covered by the edge labeled @xmath507 and this also leaves an odd number of vertices to match together . )",
    "we conclude that the rest of the set @xmath511 can be decomposed disjointly as the perfect matchings @xmath698 and @xmath699 .    as @xmath511 either contains or does not contain the specified edges , the proof is complete .",
    "[ rem : partition ] by lemma [ twoendssymmetric ] , it is impossible for both the edge labeled @xmath503 incident to @xmath517 ( resp .",
    "@xmath518 ) _ and _ the edge labeled @xmath504 incident to @xmath518 ( resp .",
    "@xmath517 ) to appear in a @xmath262-symmetric matching of @xmath498 . furthermore case ( 1 ) of lemma [ twoendssymmetric ] corresponds to the case where @xmath511 contains one edge labeled @xmath503 incident to @xmath517 or @xmath518 , but does not contain either edge labeled @xmath504 incident to @xmath517 or @xmath518 . case",
    "( 2 ) is the reverse , and analogous statements hold for edges labeled @xmath666 and @xmath661 in @xmath650 .",
    "we use this observation to partition various sets of matchings into disjoint sets .",
    "[ _ @xmath700 , @xmath701 , and @xmath702 _ ] [ partss ] for @xmath703 and @xmath704 , let @xmath700 ( resp .",
    "@xmath701 and @xmath705 denote the set of matchings in @xmath543 ( resp . @xmath544 and @xmath680 ) that contains at least one edge labeled @xmath706 and at least one edge labeled @xmath707 .    by remark [ rem : partition ]",
    ", we have the following .",
    "we let @xmath709 ( resp .",
    "@xmath710 ) denote the subset of perfect matchings of @xmath499 that contains the edge labeled @xmath503 ( resp .",
    "@xmath504 ) on the tile @xmath502 ( resp . @xmath711 .",
    "we define @xmath712 , @xmath713 , and @xmath714 analogously for graphs @xmath664 , @xmath715 , and @xmath716 .",
    "we also define the following .",
    "@xmath717 we define @xmath718 , @xmath719 , and @xmath720 analogously . in equations ( [ eqz1])-([eqz3 ] ) , @xmath721 is the height monomial with respect to the relevant subgraph .",
    "[ disjointpartition ] by remark [ bendingassumpt ] , we can assume without loss of generality that the tiles @xmath508 , and @xmath501 ( resp .",
    "@xmath722 , and @xmath723 ) all lie in a single row or column , while the tiles @xmath724 , and @xmath509(resp .",
    "@xmath725 , and @xmath726 ) do not",
    ". then @xmath727    the identity for @xmath728 follows directly from ( [ eq - part ] ) .",
    "we use ( [ eq - part2 ] ) to get @xmath729 by lemma [ twoendssymmetric ] , a @xmath262-symmetric matching @xmath730 of @xmath731 restricts to the disjoint union of perfect matchings of @xmath732 depending on whether @xmath730 contains an edge labeled @xmath503 or @xmath504 , respectively .",
    "accordingly , the weight @xmath733 respectively .    to calculate the height , we note that the minimal matching @xmath653 appears in the subset @xmath734 , so @xmath735 in the case that @xmath736 . on the other hand ,",
    "any @xmath262-symmetric matching in @xmath737 has a height monomial scaled by a factor of @xmath738 .",
    "thus @xmath739 in the case that @xmath740 .",
    "we thus can rewrite ( [ mmstar ] ) as @xmath741 thus showing the identity for @xmath742 ( and @xmath743 ) .",
    "the formula for @xmath744 follows by similar logic since specifying the four ends of a @xmath262-compatible pair of matchings of @xmath731 and @xmath745 also specifies which of the two cases of lemma [ twoendssymmetric ] we are in for both @xmath746 and @xmath747 .",
    "lemma [ disjointpartition ] immediately implies the following .",
    "[ mainlemma ] the expression @xmath748 equals @xmath749    the next two results describe how to simplify the three factors in ( [ threefactors ] ) .    [ firstfactor ] we have @xmath750    the main idea is that a superposition of two matchings corresponding to the first term on the left - hand - side of ( [ eqnfirstfactor ] ) can be decomposed into a superposition of two matchings corresponding to the second term on the left - hand - side of ( [ eqnfirstfactor ] ) in all cases except for one .",
    "this case corresponds to the right - hand - side of ( [ eqnfirstfactor ] ) .",
    "we denote by @xmath751 the multigraph given by the superposition of @xmath563 and @xmath566 .",
    "let @xmath563 be an element of @xmath752 and @xmath566 an element of @xmath753 . since @xmath649 is bipartite",
    ", it follows that @xmath754 consists of a disjoint union of cycles of even length ( including doubled edges which we treat as cycles of length two ) .    by definition",
    ", @xmath563 contains the edge labeled @xmath755 on the tile @xmath510 while @xmath566 contains the edge labeled @xmath504 on @xmath510 .",
    "similarly , @xmath563 contains the edge labeled @xmath666 on @xmath691 while @xmath566 contains the edge labeled @xmath661 on @xmath691 .",
    "consequently , the superposition @xmath754 contains at least one cycle of length greater than two , and one such cycle must contain the edges labeled @xmath503 and @xmath504 on the tile @xmath510 , and one must contain the edges labeled @xmath666 and @xmath661 on the tile @xmath691 .",
    "let @xmath57 be the number of cycles in @xmath754 of length greater than @xmath756 which do not involve edges on tiles @xmath510 or @xmath691 .",
    "then there are @xmath757 ways of decomposing @xmath754 into the superposition of two matchings , one from @xmath752 and one from @xmath753 .",
    "when @xmath754 has at least two cycles of length greater than @xmath756 , there are also @xmath757 ways to decompose @xmath754 into the superposition of two matchings with one from set @xmath758 and one from @xmath759 .",
    "thus we have a weight - preserving and height - preserving bijection between such superpositions .",
    "the superposition of the minimal matching @xmath760 and the maximal matching @xmath761 is of the form @xmath754 , but consists of a single cycle including all edges on the boundary of @xmath649 .",
    "recall that the sets @xmath762 and @xmath753 are disjoint .",
    "accordingly , a single cycle can not decompose into a superposition of an element of @xmath758 and an element of @xmath759 because @xmath763 and @xmath764 are the unique two perfect matchings of a single cycle including all edges on the boundary of @xmath649 .",
    "it follows that any superposition of an element in @xmath758 and an element in @xmath759 must contain at least two cycles , and is also of the form @xmath754 , with @xmath765 and @xmath766 .    in conclusion ,",
    "the only monomial not canceled in the difference on the left - hand - side of ( [ eqnfirstfactor ] ) corresponds to the superposition of @xmath763 and @xmath764 , which includes all edges on the boundary . to calculate the weight",
    ", we note that on every tile @xmath767 , for @xmath768 , there are exactly two adjacent tiles that include edges on the boundary with weight @xmath769 , see figure [ figglue ] . on the other hand , the tiles @xmath691 and",
    "@xmath510 only have one adjacent tile each with an edge on the boundary with weight @xmath770 ( resp .",
    "@xmath771 ) .",
    "the remaining two boundary edges of @xmath691 have weights @xmath772 and @xmath773 , while the other two boundary edges of @xmath510 have weights @xmath774 and @xmath775 .",
    "the product of heights is @xmath776 , the height monomial for the minimal matching multiplied by the height monomial for the maximal matching .",
    "this specializes to @xmath777 under the map @xmath557 .",
    "[ secondthirdfactor ] we have the following two identities : @xmath778 @xmath779    it suffices to prove the first identity .",
    "the idea is to show that almost all terms on the left - hand - side cancel except for two , which correspond to the two monomials on the right .",
    "recall the notation preceding lemma [ disjointpartition ] .",
    "the union of a perfect matching of @xmath780 ( resp .",
    "@xmath781 ) and the edge labeled @xmath504 ( resp .",
    "@xmath503 ) on @xmath501 ( resp .",
    "@xmath502 ) is an element of the set @xmath709 ( resp .",
    "@xmath710 ) .",
    "the minimal height of a matching in @xmath709 is @xmath738 while subset @xmath710 contains the perfect matching of @xmath525 with a height monomial of @xmath269 .",
    "we accordingly obtain the identities @xmath782 @xmath783 where the sum is over @xmath784 .",
    "there are exactly two perfect matchings of @xmath525 not in this intersection , therefore ( [ phiphi ] ) equals @xmath785 by inspection ( see the central subgraphs of figures [ loopsnakegraphwv ] and [ figminm ] ) , @xmath786 , @xmath787 , and @xmath788",
    ".    we can now prove theorem [ thm double ] .",
    "[ proof of theorem [ thm double ] ] we conclude from lemmas [ mainlemma ] , [ firstfactor ] , and [ secondthirdfactor ] that @xmath789    using theorem [ thm single ] , we have that @xmath790 and @xmath791 is equal to @xmath792    using ( [ lemmastar ] ) , we obtain @xmath793    comparing this to theorem [ double - identity ] and using @xmath790 yields @xmath794      the previous section proved our formula for cluster expansions of cluster variables corresponding to doubly - notched arcs between two distinct punctures @xmath220 and @xmath461 .",
    "it remains to understand the cluster variables corresponding to doubly - notched loops .",
    "in fact we will use the same strategy for doubly - notched loops as we used for doubly - notched arcs between two punctures , namely , we will show that our combinatorial formula for doubly - notched loops satisfies the identity of theorem [ double - identity ] .",
    "however , we need to explain how to interpret theorem [ double - identity ] when @xmath462 is a loop , namely an arc between points @xmath220 and @xmath461 where @xmath220 and @xmath461 happen to coincide . in this case",
    "it is not immediately clear how to interpret the symbols @xmath645 and @xmath795 ; a  singly - notched loop \" does not represent a cluster variable .    before defining the symbol @xmath645 , we need to introduce a simple operation on bordered surfaces and triangulations .",
    "[ _ augmentation _ ] fix a bordered surface @xmath130 , an ideal triangulation @xmath492 of @xmath128 , a puncture @xmath220 , and a loop @xmath462 based at @xmath220 with a choice of orientation .",
    "let @xmath796 be the first triangle of @xmath492 which @xmath462 crosses .",
    "we assume that @xmath796 is not self - folded , so we can denote the arcs of @xmath796 by @xmath797 and @xmath230 ( in clockwise order ) , with @xmath267 and @xmath230 incident to @xmath220 , @xmath267 and @xmath228 incident to a marked point @xmath798 , and @xmath228 and @xmath230 incident to a marked point @xmath587 .",
    "we then define the _ augmented bordered surface _ @xmath799 by adding a single puncture @xmath461 to @xmath130 , placing it inside @xmath796 .",
    "and we construct the _ augmented triangulation _",
    "@xmath800 from @xmath492 by adding three new arcs inside @xmath796 : an arc @xmath801 from @xmath461 to @xmath798 , an arc @xmath802 from @xmath461 to @xmath587 , and an arc @xmath803 from @xmath798 to @xmath587 ( so that @xmath803 and @xmath228 form a bigon with the puncture @xmath461 inside ) .",
    "see figure [ augment ] .",
    "[ _ the cluster algebra element corresponding to a singly - notched loop _ ] [ sloop ] fix a bordered surface @xmath130 and a tagged triangulation @xmath804 corresponding to an ideal triangulation @xmath492 , and let @xmath30 be the corresponding cluster algebra with principal coefficients with respect to @xmath23 .",
    "let @xmath462 be an ordinary loop based at @xmath220 , with a choice of orientation , and let @xmath595 denote the  tagged arc \" obtained from @xmath462 by notching at the final end of @xmath462 .",
    "we represent this  tagged arc \" by the curve ( with a self - intersection ) @xmath652 obtained by following the loop @xmath462 along its orientation , but then looping around the puncture @xmath220 and doubling back , again following @xmath462 .",
    "see figure [ dnloopreplacements ] .",
    "let @xmath500 be the graph associated to @xmath652 in section [ sect graph ] .",
    "then we define @xmath645 to be @xmath805 where the sum is over all @xmath462-symmetric matchings @xmath511 of @xmath806    [ augment - specialize ] using the notation of definition [ sloop ] , let @xmath800 denote the augmented triangulation corresponding to @xmath492 and @xmath462 , and let @xmath807 denote the arc in @xmath800 from @xmath461 to @xmath220 which is equal to @xmath462 after identification of @xmath220 and @xmath461 .",
    "we set @xmath808 , @xmath809 , @xmath810 , @xmath811 , @xmath812 , and @xmath813 .",
    "let @xmath814 denote the loop which is the ideal arc representing @xmath815 .",
    "then @xmath645 is equal to @xmath816 where the sum is over all @xmath807-symmetric matchings @xmath511 of @xmath817    in other words , @xmath645 can be obtained by taking the formula for @xmath818 given by theorem [ thm single ] , and making a simple substitution of variables .    by remark [ assumption ] , we can assume that the first triangle which @xmath652 crosses is not self - folded ; therefore we can augment @xmath492 .",
    "we defined the augmented triangulation @xmath800 so that the the sequence of diagonals crossed by the loop @xmath814 in @xmath355 is identical to the sequence of diagonals crossed by the curve @xmath652 in @xmath128",
    ". moreover , the local configurations of all triangles crossed is the same for both @xmath814 and @xmath652 , and after the substitution @xmath819 , @xmath820 , and @xmath821 , even their labels coincide .",
    "( note that it was essential for us to define @xmath800 so that in the neighborhoods around @xmath220 in both @xmath128 and @xmath355 , the two triangulations coincide . ) therefore , after this substitution , the labeled graphs @xmath822 and @xmath823 are equal .",
    "additionally , the notions of @xmath807-symmetric and @xmath462-symmetric matchings coincide , as do the crossing monomials .",
    "this proves the proposition .",
    "[ ptolemy - dloopspecialize ] fix a bordered surface @xmath130 and a tagged triangulation @xmath824 , and let @xmath30 be the corresponding cluster algebra .",
    "let @xmath462 be a loop based at a puncture @xmath220 in @xmath128 .",
    "choose a marked point @xmath588 enclosed by @xmath462 and a marked point @xmath587 which is not enclosed by @xmath462 .",
    "choose arcs @xmath463 and @xmath464 between @xmath220 and @xmath587 , and arcs @xmath184 and @xmath610 between @xmath220 and @xmath588 , so that @xmath825 and @xmath610 are the four sides ( in clockwise order ) of a quadrilateral with simply - connected interior .",
    "let @xmath590 denote the arc between @xmath587 and @xmath588 so that @xmath590 and @xmath462 are the two diagonals of this quadrilateral .",
    "choose the orientation for @xmath462 which starts at the corner of the quadrilateral between @xmath464 and @xmath184 , and ends at the corner between @xmath463 and @xmath610 , and define @xmath645 as in definition [ sloop ] .",
    "define @xmath795 in the same way , but using the opposite orientation for @xmath462 .",
    "let @xmath599 , @xmath598 , and @xmath826 be the monomials of shear coordinates coming from laminations as in figure [ bigon - laminate ] ( which shows a degeneration of figure [ laminate - spiral ] and [ partition ] ) .",
    "then we have ( [ p1 ] ) and ( [ p2 ] ) .",
    "it suffices to prove ( [ p1 ] ) .",
    "we augment @xmath128 and @xmath492 , and define arcs @xmath827 @xmath828 , and @xmath829 in @xmath355 , so that they are the same as the corresponding arcs in @xmath128 except that the endpoints of @xmath830 and @xmath807 are moved from @xmath220 to @xmath461",
    ". see figure [ open ] .",
    "the underlying triangulations are indicated by thin lines , and the sides of the quadrilateral are bold .    by proposition",
    "[ augment - specialize ] , after a simple specialization of variables ( obtained by equating @xmath801 , @xmath803 , @xmath802 with @xmath267 , @xmath228 , @xmath230 ) , @xmath645 is equal to @xmath818 .",
    "similarly , @xmath831 , @xmath832 , @xmath833 , @xmath834 , and @xmath835 . note that we are using the special nature of the augmentation @xmath836 of @xmath492 and the fact that it preserves the neighborhood around the puncture @xmath220 .",
    "finally , we know that in @xmath355 the equation ( [ p1 ] ) holds , so after the simple specialization above , the proposition holds .    the proof of theorem [ thm double ] for doubly - notched arcs can now be extended to loops .",
    "we ve now defined @xmath645 and @xmath795 , so the statement of theorem [ double - identity ] makes sense .",
    "( here @xmath837 is the number of ends of arcs of @xmath23 which are incident to @xmath220 . )",
    "moreover by proposition [ ptolemy - dloopspecialize ] , equations ( [ p1 ] ) and ( [ p2 ] ) hold , and the proof of theorem [ double - identity ] goes through with minimal modifications .",
    "we now have an algebraic counterpart for a singly - notched loop given by proposition [ sloop ] , which is analogous to our formula for singly - notched loops . using this , the proofs of section [ doublenotchedproofs ] go through for doubly - notched loops just as they did for doubly - notched arcs , with no changes necessary .",
    "this proves our combinatorial formula for cluster variables of doubly - notched loops as sums over @xmath184-compatible pairs of matchings .    when @xmath462 is a loop , is @xmath645 an element of the cluster algebra @xmath30 , or merely an element of @xmath194 ?",
    "fomin and zelevinsky showed @xcite that the laurent expansions of cluster variables can be computed from the somewhat simpler @xmath25-polynomials and @xmath838-vectors . in this section",
    "we invert this line of thought and compute the @xmath25-polynomials and @xmath838-vectors from our laurent expansion formulas .",
    "@xmath25-polynomials are obtained from laurent expansions of cluster variables with principal coefficients by setting all cluster variables equal to @xmath269 .",
    "thus the @xmath25-polynomial @xmath839 of a tagged arc @xmath262 is obtained from theorems [ thm main ] , [ thm single ] and [ thm double ] by deleting the weight and crossing monomials , and summing up only the specialized height monomials .",
    "for example , if @xmath262 is an ordinary arc then @xmath840 where the sum is over all perfect matchings @xmath511 of @xmath649 .",
    "it has been shown @xcite that the laurent expansion of any cluster variable @xmath454 with respect to a seed @xmath841 is homogeneous with respect to the grading given by @xmath842 and @xmath843 , where @xmath844 with @xmath269 at position @xmath537 . by definition ,",
    "the _ @xmath838-vector _ @xmath845 of a cluster variable @xmath454 is the degree of its laurent expansion with respect to this grading .",
    "using the fact that the minimal matching @xmath526 is of height @xmath269 , we see from theorem [ thm main ] that the @xmath838-vector is given by @xmath846 if @xmath262 is an ordinary arc .",
    "the same formula works for arcs with one or two notches , replacing @xmath847 by @xmath848 or @xmath849 , respectively .      in this section",
    "we compare our cluster expansion formula to the formulas of @xcite , which apply to all skew - symmetric cluster algebras , hence in particular , to all cluster algebras that are associated to surfaces .",
    "let @xmath850 be a rank @xmath3 cluster algebra with principal coefficients associated to a surface .",
    "we associate to the skew - symmetric matrix @xmath851 a quiver @xmath852 without loops or oriented 2-cycles , by letting @xmath853 be the vertex set and by drawing @xmath854 arrows from @xmath537 to @xmath855 if and only if @xmath99 .",
    "let @xmath128 be a potential on @xmath852 , and consider the corresponding jacobian algebra .",
    "this algebra is the quotient of the complete path algebra of @xmath852 by the jacobian ideal , which is the closure of the ideal generated by the partial cyclic derivatives of the potential . in @xcite ,",
    "the authors associate to any cluster variable @xmath454 in @xmath856 a finite - dimensional module @xmath857 over the jacobian algebra ( thus @xmath857 is a representation of the quiver @xmath852 whose maps satisfy the relations given by the jacobian ideal ) .",
    "furthermore , they prove that the @xmath25-polynomial of @xmath677 is given by the formula    @xmath858 where the sum is over all dimension vectors @xmath859 , @xmath583 denotes the euler - poincar characteristic , and @xmath860 is the @xmath239-grassmannian of @xmath857 , that is , the variety of subrepresentations of dimension vector @xmath239 . comparing this formula to our combinatorial formulas for @xmath839",
    ", we get the following results .      1 .   for an ordinary arc @xmath262 , the euler - poincar characteristic @xmath861 is the number of perfect matchings @xmath511 of @xmath649 such that the specialized height monomial @xmath862 is equal to @xmath863 .",
    "2 .   for an arc @xmath864 with one notched end",
    ", @xmath865 is the number of @xmath262-symmetric matchings @xmath511 of @xmath498 such that @xmath866 .",
    "3 .   for an arc @xmath867 with two notched ends ,",
    "@xmath861 is the number of @xmath262-compatible pairs @xmath549 of @xmath868 such that @xmath869 .        c. amiot , cluster categories for algebras of global dimension 2 and quivers with potential , to appear in _ ann .",
    ", arxiv:0805.1035 .",
    "i. assem , t. brstle , g. charbonneau - jodoin , p.g .",
    "plamondon , gentle algebras arising from surface triangulations , preprint , arxiv:0903.3347 a. berenstein , s. fomin , a. zelevinsky , cluster algebras iii : upper bounds and double bruhat cells , _ duke math . j. _ * 126 * ( 2005 ) , no .",
    "1 , 152 .        p. caldero and f. chapoton and r. schiffler , quivers with relations arising from clusters ( @xmath15 case ) , _ trans .",
    "_ * 358 * ( 2006 ) , no . 3 , 1347 - 1364 . , from triangulated categories to cluster algebras ,",
    "* 172 * ( 2008 ) , 169211 .",
    "p. caldero , b. keller , from triangulated categories to cluster algebras ii , _ ann .",
    "sci . cole norm .",
    "( 4 ) _ * 39 * ( 2006 ) , no . 6 , 9831009 .",
    "p. caldero and m. reineke , on the quiver grassmannian in the acyclic case , _ journ .",
    "pure appl .",
    "* 212 * ( 11 ) , 23692380 , 2008 .",
    "p. caldero and a. zelevinsky , laurent expansions in cluster algebras via quiver representations , _ mosc .",
    "j. _ * 6 * ( 2006 ) , no .",
    "3 , 411429 , g. carroll and g. price , two new combinatorial models for the ptolemy recurrence , unpublished memo ( 2003 ) .              v.",
    "fock and a. goncharov , moduli spaces of local systems and higher teichmller theory .",
    "hautes tudes sci . _",
    "103 ( 2006 ) , 1211 .",
    "v. fock and a. goncharov , cluster ensembles , quantization and the dilogarithm , preprint , arxiv : math.ag/0311149 . v. fock and a. goncharov , dual teichmller and lamination spaces .",
    "handbook of teichmller theory .",
    "i , 647684 , irma lect . math . theor .",
    "phys . , 11 , eur .",
    "zrich , 2007 .",
    "s. fomin , m. shapiro , and d. thurston , cluster algebras and triangulated surfaces .",
    "part i : cluster complexes , _ acta math . _",
    "* 201 * ( 2008 ) , 83 - 146 .",
    "s. fomin and d. thurston , cluster algebras and triangulated surfaces .",
    "part ii : lambda lengths , preprint ( 2008 ) , s. fomin and a. zelevinsky , cluster algebras i : foundations , _",
    "soc . _ * 15 ( 2002 ) , 497 - 529 .",
    "s. fomin and a. zelevinsky , cluster algebras ii : finite type classification , _ invent .",
    "_ * 154 ( 2003 ) , 63 - 121 . * *                g. musiker and j. propp , combinatorial interpretations for rank - two cluster algebras of affine type .",
    "_ electron .",
    "j. combin . _",
    "* 14 * ( 2007 ) , no .",
    "1 , research paper 15 , 23 pp . ( electronic ) .",
    "g. musiker , a graph theoretic expansion formula for cluster algebras of classical type , to appear in _ ann .",
    "_ , arxiv:0710.3574 ."
  ],
  "abstract_text": [
    "<S> we give combinatorial formulas for the laurent expansion of any cluster variable in any cluster algebra coming from a triangulated surface ( with or without punctures ) , with respect to an arbitrary seed . </S>",
    "<S> moreover , we work in the generality of _ principal coefficients_. an immediate corollary of our formulas is a proof of the positivity conjecture of fomin and zelevinsky for cluster algebras from surfaces , in geometric type . </S>"
  ]
}