{
  "article_text": [
    "the classical erds - szekeres theorem @xcite states the following : for every @xmath1 there is a smallest number @xmath2 such that any family of at least @xmath2 points in general position in @xmath3 contains @xmath0 points which are the vertices of a convex @xmath0-gon .",
    "there are hundreds of variants and generalizations of this result .",
    "the best known bounds for @xmath2 are @xmath4 see @xcite , @xcite .",
    "since @xmath5 , there is a huge gap between these bounds .",
    "we consider the following line or  dual \" version of this theorem : for every @xmath6 there is a smallest number @xmath7 such that any family of ( at least ) @xmath7 lines in general position in @xmath3 contains @xmath0 lines which determine the sides of an @xmath0-cell . to our surprise",
    "we could find almost no trace of this theorem in the literature .",
    "the only exception is the result of harborth and mller @xcite which states that for every @xmath0 , every pseudoline arrangement with sufficiently many pseudolines contains a subarrangement of @xmath0 pseudolines with a face that is bounded by all of them .",
    "the existence of @xmath7 follows from this .",
    "some clarification is needed .",
    "a finite family of lines is in general position if no three lines are concurrent , no two are parallel and no line is vertical . from now on we assume that every family of lines that we work with is in general position .",
    "let @xmath8 .",
    "a family of @xmath0 lines ( in general position , as we just agreed ) in the plane _ defines a @xmath9-cell _",
    "@xmath10 if @xmath10 is a connected component of the complement of the union of these lines , and the boundary of @xmath10 contains a segment from exactly @xmath9 of the lines .",
    "a @xmath9-cell is always convex , it is either bounded , and then it is a convex @xmath9-gon , or unbounded , and then its boundary contains exactly two half - lines .",
    "a family of @xmath0 lines is in _ convex position _ if it defines an @xmath0-cell .",
    "a family of lines _ spans _",
    "an @xmath0-cell if it contains @xmath0 lines in convex position .",
    "note that a family of @xmath11 lines always defines three @xmath12-cells and four @xmath11-cells out of which exactly one is a triangle .",
    "a family of @xmath13 points in the plane may not determine a convex @xmath13-gon but @xmath13 lines always define two @xmath13-cells , a bounded one and an unbounded one .",
    "here is a quick proof of the existence of @xmath7 .",
    "assume @xmath14 is a family of lines where the equation of @xmath15 is @xmath16 and the ordering is chosen so that @xmath17 .",
    "the triple of lines @xmath18 with @xmath19 is coloured red if the intersection of @xmath15 and @xmath20 lies below @xmath21 , and is coloured blue otherwise .",
    "ramsey s theorem implies that , for large enough @xmath22 , @xmath23 contains @xmath0 lines so that all of their triples are of the same colour .",
    "it is easy to see that these @xmath0 lines are in convex position .",
    "the @xmath0-cell defined by them is actually unbounded .",
    "note that , in general , the existence of a bounded @xmath0-cell can not be guaranteed .",
    "this is shown by the lines containing @xmath24 consecutive edges of a regular @xmath22-gon ( where @xmath22 is odd ) . here",
    "the lines define an unbounded @xmath0-cell .",
    "it is easy to see , or follows from proposition [ prop : atmost1 ] , that all other cells spanned by the lines have size at most four .",
    "the above argument gives a doubly exponential bound for @xmath22 .",
    "a single exponential bound follows from and from the fact that , in the projective plane , the point and line versions of the erds - szekeres problem are dual to each other . on the other hand , in the affine plane the point and line versions of the erds - szekeres theorem are not dual to each other : the dual of the convex hull of @xmath0 points is not a cell ( or an @xmath0-cell ) in the arrangement of lines dual to the points .",
    "however something can be saved from duality .",
    "namely , caps and cups go to cups and caps by duality and this will be discussed in detail in section  [ sec : upper ] . by this observation",
    "we obtain @xmath25 .    our main result establishes almost matching upper and lower bounds for @xmath26 .",
    "[ mainresult ] for @xmath1 we have @xmath27    here the lower bound is of order @xmath28 and the upper one is of order @xmath29 .",
    "so the lower bound is much larger than the one in , which is conjectured to be the true value of @xmath2 .",
    "thus one may wonder if this conjecture , the so called happy end conjecture , is correct or not .",
    "in later sections we study variants of the erds - szekeres problem for lines , most of them are inspired by variants of the original one .",
    "further information on the erds - szekeres theorem can be found in the surveys @xcite and @xcite .",
    "first we compare the known values of @xmath2 and @xmath7 for small values of @xmath0 in table  [ table : values ] .",
    "note that any two lines define a @xmath12-cell so @xmath30 but @xmath31 does not make much sense .",
    ".known values of @xmath2 and @xmath7 .",
    "[ cols=\"^,^,^\",options=\"header \" , ]     the exact value of @xmath32 was confirmed with the help of a computer @xcite .",
    "we determined the value of @xmath33 by a computer analysis of all possible configurations of @xmath34 lines . to do this",
    ", we used the database on tobias christ s home web - page http://www.inf.ethz.ch/personal/christt/line_arrangements.php containing all possible simple line arrangements of up to @xmath35 lines ( * ? ? ?",
    "* section 3.2.5 ) .",
    "the bound for @xmath36 is shown in figure  [ fig : esl_6 ] .    in principle ,",
    "a family of @xmath0 lines may define several @xmath0-cells , but this only happens for @xmath37 .",
    "[ prop : atmost1 ] a family of @xmath38 lines in the plane defines at most one @xmath0-cell .",
    "assume it defines two @xmath0-cells , @xmath10 and @xmath39 , say .",
    "there is a line in the family that separates @xmath10 and @xmath39 as otherwise they coincide .",
    "there are at most @xmath13 distinct lines that are tangent to both @xmath10 and @xmath39 . but",
    "every line in the family is tangent to both @xmath10 and @xmath39 , so @xmath40 .",
    "the original proof @xcite of the upper bound in uses cups and caps .",
    "a set of points @xmath41 , ordered by their @xmath42-coordinates , forms an _ @xmath0-cup _ if the point @xmath43 is below the line @xmath44 for every @xmath45 . if instead , @xmath43 is above the line @xmath44 for every @xmath46 , then this set forms an _",
    "@xmath0-cap_. for the line case we can do something similar .",
    "let @xmath47 be a family of @xmath0 lines in general position .",
    "we say that @xmath23 forms an _",
    "_ @xmath0-cap _ ) if @xmath23 defines an @xmath0-cell @xmath48 with the property that the intersection of @xmath48 with vertical line is a half - line bounded from below ( resp .",
    "we also call cell @xmath48 an _ @xmath0-cup _ or _ @xmath0-cap _ , respectively .",
    "clearly , any non - vertical line forms a @xmath49-cup and a @xmath49-cap at the same time , and any two non - vertical , intersecting lines form a @xmath12-cup and a @xmath12-cap at the same time .",
    "suppose that @xmath47 , @xmath1 and the equation for line @xmath15 is @xmath50 , @xmath51 .",
    "it is easy to see that @xmath23 forms an _ @xmath0-cup _ if @xmath15 is above @xmath52 for every @xmath45 .",
    "this is also equivalent to @xmath23 defining an unbounded @xmath0-cell open from above .",
    "similar observations hold for _ @xmath0-caps_.    with these definitions , the proof by erds and szekeres works in the line case almost without modification .    as mentioned before",
    ", there is a duality such that cups and caps for lines go to caps and cups for points .",
    "this is achieved by using the map @xmath53 which is a bijection between the set of non - vertical lines and the set of points in the plane .",
    "assume we are given three non - parallel lines ordered according to slope with equations @xmath16 for @xmath54 .",
    "these lines are concurrent if and only if the corresponding points @xmath55 are collinear .",
    "this is because both conditions are equivalent to the equation @xmath56 note that here @xmath57 is excluded by the general position condition .",
    "if the lines form a cup , then this equation will be an inequality and the left - hand side will be larger .",
    "the new inequality is equivalent to the points forming a cap .",
    "if instead the lines form a cap , then the points must form a cup .",
    "let @xmath58 be the smallest number of lines needed so that every family of @xmath59 lines contains either a @xmath9-cup or an @xmath60-cap . applying this duality to what was shown in @xcite",
    ", we immediately obtain the following .",
    "[ lem : cupcap ] @xmath61    as a consequence we obtain @xmath62 this is the same as the bound proved by erds and szekeres for @xmath2 . in the case of points however , this bound has been improved upon several times @xcite to finally obtain @xmath63 the techniques used to make these improvements do not readily translate to the line case , but based on the idea of kleitman and pachter @xcite , we can get the smallest possible improvement of @xmath49 .    let @xmath14 be a family of lines in general position ordered according to slope .",
    "let @xmath64 be the intersection of the lines of smallest and largest slopes in @xmath23 .",
    "suppose that @xmath64 has the largest @xmath65-coordinate of all intersections of lines of @xmath23 .",
    "if this condition holds , then @xmath23 is called a _ vertical configuration_.",
    "assume that @xmath23 does not contain @xmath0 lines in convex position .",
    "consider the set of all intersections of the lines , and take their convex hull @xmath48 .",
    "let @xmath64 be a vertex of @xmath48 , given by the intersection of lines @xmath66 and @xmath67 .",
    "take a line @xmath68 that avoids @xmath48 but @xmath64 is very close to it . any projective transformation which maps @xmath68 to the line at infinity",
    "has the property , that it does not change convexity of the lines since @xmath68 avoids @xmath48 . by a suitable such projective transformation",
    "we can make @xmath23 is a vertical configuration .",
    "so , in the sequel we assume that @xmath23 is a vertical configuration and the lines @xmath66 and @xmath67 correspond to @xmath69 and @xmath70 .",
    "let @xmath71 be the set of lines that form the last line , ( that is , the line of largest slope ) , of some @xmath72-cup in @xmath23 , and let @xmath73 be the set of lines that form the first line ( the line of smallest slope ) , of some @xmath72-cap in @xmath23 .",
    "suppose that @xmath74 .",
    "then there is an @xmath72-cup @xmath75 in increasing order , and an @xmath72-cap @xmath76 , also in increasing order such that @xmath77 .",
    "then , just like in the original erds - szekeres argument , either @xmath78 forms an @xmath0-cup , or @xmath79 , forms an @xmath0-cap , a contradiction .    therefore , @xmath80 and @xmath81 are disjoint .",
    "observe , that @xmath69 can not be the last line of an @xmath72-cup , so it is not in @xmath80 .",
    "if @xmath69 is in @xmath81 , then , using the fact that we have a vertical configuration , the @xmath72-cup starting with @xmath69 can be completed to an @xmath0-cell with the line @xmath70 ( see figure  [ fig : cupextend ] ) . as this is impossible , @xmath69 is not in @xmath81 either .",
    "let @xmath82 and @xmath83 .",
    "thus @xmath84 .",
    "form a cup , together with @xmath70 they are still in convex position . ]",
    "if @xmath85 , then by lemma [ lem : cupcap ] , it contains an @xmath0-cup or an @xmath72-cap .",
    "since @xmath0-cups are excluded , we have an @xmath72-cap , but then we have a line in both @xmath86 and @xmath81 , which is impossible .",
    "so @xmath87 . we can show similarly that @xmath88 .",
    "therefore , @xmath89 , so @xmath90 .",
    "an exponential lower bound follows from lemma  [ lem : cupcap ] .",
    "a family with @xmath91 lines that does not contain @xmath92-caps or @xmath93-cups can not contain an @xmath0-cell .",
    "this gives the bound @xmath94 .",
    "we will construct an example which gives the better lower bound of theorem  [ mainresult ] .",
    "some preparations are needed .",
    "if the lines @xmath95 form a cap or a cup , then they define an unbounded @xmath0-cell @xmath10 .",
    "clearly , any vertical line intersects @xmath10 .",
    "an @xmath0-cell @xmath10 defined by lines @xmath95 is _ unbounded to the right ( resp",
    ". left ) _ if it is unbounded and it is to the right ( resp . left ) of some vertical line .",
    "the two lines @xmath96 for which @xmath97 and @xmath98 are unbounded are called the _ end lines of @xmath10_.",
    "let @xmath23 be a family of lines and let @xmath99 apply an affine transformation of the plane @xmath100 , where @xmath101 .",
    "this transformation is the composition of a `` flattening '' @xmath102 , a scaling @xmath103 , a vertical shear transformation @xmath104 and finally , a translation @xmath105 . from this",
    ", it is not hard to see that a line with slope @xmath106 goes to a line with slope @xmath107 , hence the ordering of lines according to slope is preserved .",
    "vertical lines are mapped to vertical lines and their upward direction is also preserved , so cups , caps , and cells unbounded to the right and left remain invariant .",
    "we call these affine transformations _ unbounded - cell - preserving affine transformations_.    let @xmath66 be a non - vertical line , @xmath108 , and let @xmath23 be a family of lines .",
    "let @xmath109 be a family of lines satisfying the following conditions :    * the slopes of all lines in @xmath109 are within @xmath110 of the slope of @xmath66 ; * all intersections of the lines of @xmath109 are below the @xmath42-axis ; * the distance between any two intersections of the lines of @xmath109 is at most @xmath110 .",
    "it is easy to find a suitable unbounded - cell - preserving affine transformation such that the image of @xmath23 satisfies properties ( i ) , ( ii ) and ( iii ) .",
    "these new families will be used in the following construction . in each step",
    "we replace each line @xmath66 with a suitable family @xmath109 that was constructed previously .",
    "let @xmath9 and @xmath60 be positive integers .",
    "there is a family @xmath111 consisting of @xmath112 lines that spans no @xmath113-cap , no @xmath114-cap and no @xmath13-cell unbounded to the right .",
    "the construction is essentially the same as the one from lemma  [ lem : cupcap ] , obtained by dualising the construction of erds and szekeres for points .",
    "but here we have to be more careful .    for every positive integer @xmath9 , let @xmath115 , where @xmath66 is any horizontal line .",
    "none of these families contain a @xmath12-cap , @xmath12-cup or @xmath13-cell unbounded to the right .",
    "now suppose that we have families @xmath116 and @xmath117 satisfying the properties .",
    "let @xmath69 and @xmath118 be two lines , both of positive slopes such that @xmath118 has greater slope than @xmath69 .",
    "assume that they intersect above the @xmath42-axis .",
    "let @xmath110 be a very small number and let @xmath119 .",
    "see figure  [ fig : capcuplower ] .    , all the line intersections lie within the shaded regions . ]",
    "assume that @xmath120 defines a @xmath113-cup , then @xmath121 must contain lines from both @xmath122 and @xmath123 .",
    "but because @xmath69 has smaller slope than @xmath118 , @xmath121 can not contain more than one line from @xmath123 .",
    "since the lines in @xmath124 form a cap , it contains at most @xmath125 lines .",
    "this is a contradiction .",
    "we can show similarly that @xmath111 contains no @xmath114-cap .",
    "now assume that @xmath120 defines a @xmath13-cell @xmath10 unbounded to the right .",
    "let @xmath126 and @xmath127 be the end lines of @xmath10 .",
    "it is impossible for @xmath128 or @xmath129 , therefore we may assume that @xmath130 and @xmath131 .",
    "but then @xmath121 can define at most a @xmath12-cell unbounded to the right .",
    "observe , that if we reflect @xmath111 over a vertical line , we obtain a family of lines @xmath132 with no @xmath113-cup , no @xmath114-cap , and no @xmath13-cell unbounded to the left .    [",
    "prop : lower ] for any @xmath0 , there is a family with @xmath133 lines that does not contain @xmath0 lines in convex position .",
    "assume for simplicity that @xmath134 for some @xmath135 and let @xmath136 , where the lines @xmath15 are ordered according to slope and @xmath137 .",
    "applying a suitable unbounded - cell - preserving affine transformation , we can assume that every @xmath15 has positive slope and all intersections of the lines are above the @xmath42-axis .",
    "now define @xmath138 for some @xmath108 very small .",
    "the number of elements in @xmath23 is @xmath139    we now show that for @xmath140 , @xmath23 spans no @xmath0-cell .",
    "assume for a contradiction that @xmath141 defines an @xmath0-cell @xmath48 , @xmath142 .",
    "for any subset @xmath143 of size @xmath144 , let @xmath145 be the cell @xmath146 defined by @xmath147 which contains @xmath48 .    for each @xmath15",
    ", consider the set @xmath148 .",
    "observe , that for any @xmath46 , if @xmath149 is bounded or unbounded to the left , then @xmath150 , since no line in @xmath151 could intersect @xmath149 .",
    "if @xmath149 is unbounded to the right , then @xmath151 can contain at most one line .",
    "therefore , we can assume that for each @xmath46 , @xmath149 is a cup or a cap .",
    "we divide the proof into 4 cases depending on the cardinality of @xmath152 .",
    "the elements of @xmath153 are just the subscripts @xmath46 for which @xmath154 contains at least @xmath12 lines .    .",
    "]    _ case 1 .",
    "_ suppose that @xmath155 . by the previous observations , for each @xmath156",
    ", @xmath149 is a cup or a cap .",
    "assume that @xmath157 and @xmath158 are both cups , @xmath159 and @xmath160 .",
    "then the line in @xmath161 of the smallest slope can not intersect @xmath48 , which is a contradiction ( see part ( a ) of figure [ fig : cases ] ) .",
    "the case of two caps can be arranged the same way .",
    "_ if @xmath162 with @xmath163 , then @xmath121 must define an @xmath0-cell unbounded to the left .",
    "furthermore , @xmath164 defines a cap and @xmath165 defines a cup .",
    "this implies that @xmath166 contains at most @xmath167 lines .",
    "finally , there can be at most one other line in @xmath121 because @xmath15 , @xmath21 and the lines in @xmath168 form a cell unbounded to the left ( see part ( b ) of figure [ fig : cases ] ) .",
    "thus @xmath169 , a contradiction .",
    "_ suppose now that @xmath153 contains a single element , @xmath46 .",
    "let @xmath170 be an arbitrary element of @xmath164 and let @xmath171 .",
    "that is , remove all lines of @xmath164 from @xmath121 , except one .",
    "the cell @xmath145 is unbounded to the left , a cup , or a cap , otherwise the other lines in @xmath164 could not intersect it . since @xmath164 is a cup or cap , @xmath121 contains at most @xmath172 lines if @xmath145 is unbounded to the left , and at most @xmath173 lines if @xmath145 is a cup or cap .",
    "_ case 4 . _ if @xmath174 , then @xmath121 is essentially the same as a subset of @xmath175 .",
    "it therefore has at most @xmath167 elements .",
    "if @xmath176 , then a bound of @xmath177 can be obtained in the same way considering @xmath178 .    the lower bound in proposition  [ prop : lower ] is weaker than that in theorem  [ mainresult ] by a factor of @xmath12 .",
    "the better construction is a direct consequence of the following result .",
    "the proof is similar to that of proposition  [ prop : lower ] , so we only present the construction .",
    "the rest of the proof is left to the reader .",
    "[ th : lower ] let @xmath179 be an integer .",
    "if @xmath134 , there is a family of @xmath180 lines that spans no @xmath0-cell .",
    "if @xmath176 , there is a family of @xmath181 lines that spans no @xmath0-cell .",
    "first assume that @xmath134 and let @xmath137 .",
    "take a line @xmath66 with slope @xmath49 and a line @xmath182 slope @xmath183 intersecting above the @xmath42-axis .",
    "construct the families @xmath184 and @xmath185 , for some very small @xmath110 , each with @xmath22 lines .",
    "reflect both families about the @xmath42-axis and apply a vertical transformation so that all intersections are above the @xmath42-axis .",
    "let @xmath23 denote the resulting family of @xmath186 lines .",
    "let @xmath187 with the lines ordered according to slope as usual .",
    "the first @xmath22 lines are a reflected copy of @xmath188 and the last @xmath22 lines are a reflected copy of @xmath189 . the resulting configuration is shown in figure [ fig : lower ] .        finally , we consider @xmath190 for @xmath191 and @xmath192 for @xmath193 .",
    "the union of these families contains @xmath194 lines .",
    "an analysis similar to the one made in proposition [ prop : lower ] shows that it spans no @xmath0-cell .",
    "the case @xmath176 can be done using the union of the families @xmath195 and @xmath196 .",
    "these examples do not give optimal values for @xmath7 .",
    "for small @xmath0 , similar ideas can be used to give better examples .",
    "figure  [ fig : esl_6 ] shows a construction which implies @xmath197 .    .",
    "erds @xcite also asked the following question : given @xmath1 , is there an integer @xmath22 such that every family @xmath198 of @xmath22 points in general position contains @xmath0 points whose convex hull is an empty @xmath0-gon ?",
    "an @xmath0-gon is _ empty _ if no point of @xmath198 lies in its interior .",
    "the answer is positive for @xmath199 @xcite and negative for @xmath200 @xcite .",
    "the same question can be asked with lines instead of points .",
    "we want to find a subfamily @xmath121 of a family @xmath23 of lines that defines an @xmath0-cell such that no line of @xmath23 intersects the interior of this @xmath0-cell .",
    "such a cell is called an _",
    "empty _ @xmath0-cell .",
    "so the question is whether an arrangement @xmath23 of sufficiently many lines ( in general position ) defines an @xmath0-cell .",
    "here is an example showing that the answer is no for @xmath38 .",
    "for every @xmath201 let @xmath202 , and for every @xmath203 let @xmath204 .",
    "construct lines @xmath15 inductively with @xmath205 for every @xmath46 .",
    "first define @xmath206 and @xmath69 as any two lines through @xmath207 resp .",
    "@xmath208 so that @xmath209 is above the @xmath42-axis . for each @xmath210 , @xmath15 is the line through @xmath211 so that all the intersections between the lines @xmath212 are above @xmath15 and all points @xmath213 are below @xmath15 .",
    "the construction up to @xmath214 is shown on figure [ fig : noempty ] .",
    "it is easy to see that with each new line we create only bounded and unbounded cells of at most four sides .",
    "-cells for @xmath140 . ]",
    "there are other examples with no empty @xmath0-gon for @xmath38 .",
    "namely , there are arrangements of pseudo - lines in the euclidean plane for which all bounded cells are @xmath11-cells and @xmath13-cells .",
    "these can be found in @xcite , where it is shown that all such examples are stretchable .",
    "so what remains is to decide whether there is a family of @xmath22 lines in general position without empty @xmath11- or @xmath13-cells .",
    "there is always an empty @xmath11-cell : just choose a line @xmath68 from the family @xmath23 and let @xmath215 be the two lines whose intersection is closest to @xmath68 .",
    "it is easy to see that @xmath68 , @xmath66 and @xmath182 define an empty triangle of @xmath23 .",
    "this argument gives @xmath216 empty triangles ( when @xmath217 ) .",
    "the case of empty @xmath13-cells is wide open .",
    "we could only find one non - trivial example with no empty @xmath13-cell .",
    "this is shown in figure [ fig : no4cell ] .",
    "it is worth noting that there is no other example with this property in the range @xmath218 .",
    "this was confirmed by a computer .",
    "lines with no @xmath13-cells . ]",
    "the same question has been asked in the projective plane @xmath219 .",
    "it is not known whether in @xmath219 there is family of @xmath22 lines ( in general position ) with no empty @xmath13-cell for large @xmath22 .",
    "the only known non - trivial values for which there is such a family are @xmath220 ( see @xcite ) .",
    "it is known @xcite that in @xmath219 every family of @xmath221 lines ( in general position ) defines at least @xmath22 and at most @xmath222 empty @xmath11-cells . every line arrangement in the euclidean plane comes from a line arrangement in @xmath219 by choosing the line at infinity properly , and a @xmath11-cell in the projective plane gives rise to a @xmath11-cell in the euclidean plane .",
    "it follows that any simple arrangement of @xmath221 lines in the euclidean plane determines at least @xmath22 empty @xmath11-cells .",
    "this bound is sharp , as is shown by taking the lines forming the sides of a regular @xmath22-gon . for the upper bound we can argue in the following way . given a line arrangement of @xmath22 lines in @xmath3 , we can add to it the line at infinity to obtain @xmath223 lines in @xmath219 .",
    "the new line may create or destroy at most @xmath186 @xmath11-cells , therefore there could be at most @xmath222 empty triangles in the original arrangement in @xmath3 .",
    "some further examples , results and questions in this direction can be found in @xcite and in @xcite .    in the coloured versions ,",
    "every two - coloured point set in general position contains an empty monochromatic triangle , but it is unknown whether there is always an empty convex monochromatic quadrilateral .",
    "the case of lines is simpler .",
    "order the lines in the example in figure [ fig : noempty ] according to their intersection of the @xmath42-axis and colour them alternately red and blue .",
    "lines @xmath224 define no empty monochromatic @xmath11-cell or @xmath13-cell . for odd @xmath0",
    "there is no empty monochromatic @xmath12-cell either .",
    "in this section we extend the positive fraction erds - szekeres theorem from @xcite to the line case . given families of lines",
    "@xmath225 , a _ transversal _ is a set @xmath226 where @xmath227 for every @xmath46 .",
    "[ th : posfr ] for every @xmath0 there exists a number @xmath228 such that any family @xmath23 of lines with large enough @xmath229 contains subfamilies @xmath225 , each of size at least @xmath230 , such that every transversal of @xmath225 defines an @xmath0-cell .    the proof is based on the method from @xcite as refined in @xcite .",
    "assume that @xmath23 is a family of @xmath22 lines in general position and @xmath231 where @xmath232 .",
    "every @xmath106-tuple in @xmath23 contains a @xmath233-tuple that defines a @xmath233-cell .",
    "the usual double counting argument shows that the number of @xmath233-cells defined by @xmath233-tuples in @xmath23 is at least @xmath234    assume now that @xmath235 defines a @xmath233-cell @xmath10 with sides @xmath236 ( here @xmath237 for all @xmath46 ) where the sides are listed in the order they appear on the boundary of @xmath10 . here",
    "@xmath238 and @xmath239 are the two half - lines if @xmath10 is unbounded , otherwise the common point of @xmath238 and @xmath239 is the point of @xmath10 with the greatest @xmath65-coordinate .",
    "we say in this case that @xmath240 _ supports _ @xmath241 .",
    "it follows that @xmath23 has a @xmath242-element subset , say @xmath243 that supports at least @xmath244 @xmath233-tuples in @xmath23 that define a @xmath233-cell .",
    "the above inequality holds if @xmath0 is large enough .",
    "the lines in @xmath245 define a @xmath242-cell with sides @xmath246 . for @xmath247",
    "let @xmath248 denote the set of lines in @xmath23 that intersect @xmath249 and @xmath250 .",
    "we omit the simple proof of the following fact : every transversal of @xmath251 defines a @xmath252-cell .",
    "let @xmath253 be the @xmath0-th smallest number among the @xmath252 integers @xmath254 .",
    "it follows that @xmath255 showing that @xmath256 finally , let @xmath257 be the set of subscripts @xmath258 with @xmath259 .",
    "clearly , every transversal of the system @xmath248 , ( @xmath260 ) defines an @xmath0-cell .",
    "this proof , together with theorem  [ mainresult ] shows that one can choose @xmath228 roughly @xmath261 and large enough @xmath229 means @xmath262 which is about @xmath263    here is another positive fraction version of the erds - szekeres theorem for lines :    [ th : posfr2 ] for every integer @xmath264 there is @xmath265 such that the following holds .",
    "assume @xmath23 is a finite family of lines which is partitioned into nonempty subsets @xmath266 where @xmath267 .",
    "then there are @xmath0 subscripts @xmath268 and subsets @xmath269 with @xmath270 ( for all @xmath46 ) such that every transversal of the system @xmath271 defines an @xmath0-cell .    for the proof we need the so called same type lemma for lines from @xcite .",
    "three ( nonempty ) families @xmath272 of lines in general position in the plane are said to have the _ same type property _",
    "if for every @xmath273 and for every choice of @xmath274 , @xmath275 , no line in @xmath276 separates the intersection points @xmath277 and @xmath278 .",
    "next , let @xmath266 ( @xmath279 ) be finite families of lines with @xmath280 in general position .",
    "these families have the _ same type property _ if every three of them have it .",
    "here is the same type lemma for lines from @xcite .",
    "[ lem : stype ] for every @xmath279 there is a constant @xmath281 such that given finite and nonempty families , @xmath266 , of lines whose union is in general position , there are subfamilies @xmath282 with @xmath283 ( for every @xmath46 ) that have the same type property .",
    "the same type lemma guarantees the existence of subfamilies @xmath282 with @xmath283 ( for every @xmath46 ) with the same type property .",
    "let @xmath284 so here @xmath285 with @xmath286 .",
    "choose a line @xmath15 from every family @xmath287 .",
    "by theorem  [ mainresult ] , there are subscripts @xmath268 so that the lines @xmath288 define an @xmath0-cell @xmath10 .",
    "suppose first that it is unbounded , its vertices are @xmath289 in this order along the boundary of @xmath10 where @xmath290 for @xmath291 .",
    "we claim that the families @xmath292 satisfy the requirements . for every @xmath46 , @xmath293 , let @xmath294 .",
    "we want to prove that the set of these lines also define an @xmath0-cell .",
    "for this it suffices to show that for a fixed @xmath46 , replacing @xmath295 by @xmath296 in the system @xmath288 , the new system defines an @xmath0-cell as well . for simpler writing set @xmath297 and @xmath298 .",
    "assume @xmath299 and let @xmath300 be consecutive vertices of @xmath10 .",
    "set @xmath301 . by the same type property , @xmath182 intersects the segment @xmath302 $ ] as otherwise @xmath303 or @xmath304 would separate the points @xmath305 and @xmath306 .",
    "similarly @xmath182 intersects the segment @xmath307 $ ] .",
    "consequently @xmath182 intersects the boundary of the triangle @xmath308 on the segments @xmath302 $ ] and @xmath307 $ ] .",
    "so the new cell is indeed an @xmath0-cell .",
    "the same method works if @xmath10 is a bounded cell , just set @xmath309 , and write subscripts modulo @xmath0 .",
    "an almost identical approach is to be used when @xmath10 is unbounded and @xmath310 .",
    "we omit the straightforward ( but tedious ) details .",
    "the constant @xmath311 in the same type lemma is @xmath312 from @xcite , giving a doubly exponential ( in @xmath0 ) bound for @xmath313 .",
    "note further that theorem  [ th : posfr2 ] implies theorem  [ th : posfr ] , actually a slightly stronger version , but with a much weaker constant .",
    "we mention further that a very general theorem on semi - algebraic sets due to fox et al . in @xcite",
    "can also be used to prove theorems  [ th : posfr ] and [ th : posfr2 ] , but the resulting constants are again much weaker .",
    "for any point set @xmath10 in general position in the plane , let @xmath314 denote the interior points of @xmath10 , that is , those points of @xmath10 which are not on the boundary of the convex hull of @xmath10 .    the following conjecture of avis et .",
    "@xcite is closely related to the erds - szekeres theorem : for every @xmath0 there is a @xmath315 such that any point set @xmath10 in the plane with @xmath316 , contains a subset @xmath317 such that there are _ exactly _ @xmath0 points of @xmath10 in the convex hull of @xmath318 .",
    "it is known only that @xmath315 exists for @xmath319 ( see @xcite ) . however , the analogous problem for lines is very easy .",
    "let @xmath320 be a finite family of lines .",
    "assume a subfamily @xmath142 spans a cell @xmath321 , and at least @xmath0 lines from @xmath322 intersect @xmath321 .",
    "then there is a subset @xmath323 defining a cell @xmath48 , such that _ exactly _ @xmath0 lines from @xmath324 intersect @xmath48 .",
    "suppose that @xmath321 is a @xmath9-cell defined by the subfamily @xmath325 and @xmath321 is intersected by lines @xmath326",
    ", @xmath327 . let @xmath328 be a point on the boundary of @xmath321 which is not on any of the lines @xmath329 . for @xmath330 $ ] ,",
    "let @xmath331 be the segment ( or halfline ) @xmath332 .",
    "define a partial ordering among @xmath333 , @xmath334 $ ] , as follows .",
    "let @xmath335 if any only if @xmath331 and @xmath336 are disjoint and @xmath331 separates @xmath336 from point @xmath328 in @xmath321 .",
    "now let @xmath333 be a _ maximal _ ( minimal would do equally well ) element with respect to @xmath337 .",
    "then @xmath333 splits the cell @xmath321 into two cells ; let @xmath48 be the half containing the point @xmath328 .",
    "the lines bounding @xmath48 form a subfamily @xmath338 with @xmath339 .",
    "every line @xmath340 intersects @xmath48 , but no others .",
    "therefore , @xmath48 is intersected by @xmath341 lines .",
    "so we can always decrease the number of crossing lines by one .",
    "this proves the theorem .",
    "assume we have a family @xmath23 of @xmath22 lines and a family @xmath318 of @xmath22 points in the plane , in general position . given a ( possibly unbounded ) @xmath252-gon @xmath342",
    ", we say that @xmath342 is determined by @xmath343 if it has @xmath0 vertices from @xmath318 and @xmath0 edges that are subsets of @xmath0 lines form @xmath23 .",
    "can one always guarantee the existence of a @xmath252-gon determined by @xmath343 ?",
    "the answer to this question is no if @xmath344 .",
    "a simple example showing this can be obtained if @xmath23 defines a cup @xmath10 , and all the points in @xmath318 are separated from @xmath10 by every line in @xmath23 .",
    "something can still be done , for example if we allow @xmath318 to be translated .",
    "recall @xmath59 from section  [ sec : upper ] or from lemma  [ lem : cupcap ] .",
    "let @xmath345 .",
    "if @xmath23 is a family of at least @xmath22 lines and @xmath318 is a family of @xmath22 points , then there is a translation vector @xmath253 and a convex @xmath252-gon @xmath342 determined by @xmath346 .    because of the definition of @xmath59",
    ", @xmath23 spans a @xmath347-cup or @xmath347-cap .",
    "the analogous statement for points also holds for @xmath318 .",
    "if @xmath23 determines a @xmath347-cup and @xmath318 determines a @xmath347-cap ( or vice - versa ) then we can clearly find a vector @xmath253 and a @xmath348-gon determined by @xmath346 .",
    "therefore we may assume that @xmath23 spans a @xmath347-cup @xmath349 and @xmath318 determines a @xmath347-cup @xmath350 .",
    "here we order the lines by slope and the points by their @xmath42-coordinate .",
    "let @xmath351 be a point on the line @xmath352 and above all other lines @xmath15 .",
    "let @xmath66 be a line containing @xmath353 and having all the other points @xmath43 above it .",
    "after applying a translation on @xmath318 , we may assume that @xmath354 .",
    "there are two possibilities for the lines @xmath66 and @xmath352 , since they are symmetric we only deal with one of them .",
    "if the slope of @xmath352 is smaller than or equal to the slope of @xmath66 , let @xmath355 be a point in @xmath69 above all other lines @xmath15 , and @xmath356 for @xmath357 .",
    "then the @xmath252-gon @xmath342 with vertices @xmath358 is determined by @xmath343 .",
    "not surprisingly , the higher dimensional case of the erds - szekeres line theorem follows from the 2-dimensional one . indeed , suppose that @xmath359 and we have @xmath360 hyperplanes in general position in @xmath361 , that is , no two are parallel and no @xmath362 of them have a common point .",
    "then there are always @xmath0 among them , say @xmath363 and a convex polytope @xmath10 such that each @xmath364 contains a @xmath365-dimensional face of @xmath10 .",
    "the proof is easy : one chooses a 2-dimensional plane @xmath366 in general position in @xmath361 .",
    "the hyperplanes intersect @xmath366 in lines in general position that span an @xmath0-cell @xmath39 in @xmath366 , defined by lines @xmath367 .",
    "then @xmath39 is the intersection of @xmath366 with the cell @xmath10 which is a connected component of the complement of the union of @xmath363 .",
    "consequently @xmath10 has the required properties .    what happens",
    "if , instead of lines , a finite family @xmath23 of halfplanes is given in the plane ?",
    "in this case , no matter how large @xmath229 is , one ca nt find @xmath0 halfplanes whose intersection is a convex @xmath0-gon ( or @xmath0-cell ) .",
    "the example showing this comes from the regular convex @xmath22-gon which is the intersection of @xmath22 halfplanes : the family of the complementary halfplanes has no subset of size @xmath140 whose intersection is an @xmath0-cell .",
    "on the other hand , given @xmath368 halfplanes in the plane ( with their bounding lines in general position ) , there are always @xmath0 among them so that either their intersection , or the intersection of their complements is an @xmath0-cell .",
    "this is quite simple : the @xmath22 bounding lines define a @xmath252-cell @xmath10 and either half of the corresponding halfplanes contain @xmath10 or half of the complementary halfplanes contains it , and so they define a convex @xmath0-cell .",
    "research of the first and second authors was partially supported by erc advanced research grant no 267165 ( disconv ) , and research of the first and third authors by hungarian science foundation grant otka k 83767 and k 111827 .",
    "research of the third author was also supported by hungarian science foundation grant otka nn 102029 under the eurogiga programs compose and gradr .",
    "we would like to thank miguel raggi who offered to write the program that determined the value of @xmath33 .",
    "i.  brny and g.  krolyi , _ problems and results around the erds - szekeres convex polygon theorem _ , discrete and computational geometry ( tokyo , 2000 ) , lecture notes in comput .",
    "2098 , springer , berlin , 2001 , pp .",
    "91105 .              p.",
    "erds , _ some applications of graph theory and combinatorial methods to number theory and geometry _ , algebraic methods in graph theory , vol .",
    "i , ii ( szeged , 1978 ) , colloq . math .",
    "jnos bolyai , vol .  25 , north - holland , amsterdam , 1981 , pp ."
  ],
  "abstract_text": [
    "<S> according to the erds - szekeres theorem , for every @xmath0 , a sufficiently large set of points in general position in the plane contains @xmath0 in convex position . in this note </S>",
    "<S> we investigate the line version of this result , that is , we want to find @xmath0 lines in convex position in a sufficiently large set of lines that are in general position . </S>",
    "<S> we prove almost matching upper and lower bounds for the minimum size of the set of lines in general position that always contains @xmath0 in convex position . </S>",
    "<S> this is quite unexpected , since in the case of points , the best known bounds are very far from each other . </S>",
    "<S> we also establish the dual versions of many variants and generalizations of the erds - szekeres theorem . </S>"
  ]
}