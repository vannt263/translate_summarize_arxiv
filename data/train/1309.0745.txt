{
  "article_text": [
    "path optimization affects many of our daily activities . while much attention has been dedicated to routing algorithms for internet applications such as instant messengers and peer - to - peer systems  @xcite ,",
    "many other essential routing applications have attracted less attention ; from water distribution networks  @xcite , sensor networks  @xcite , military convoy movements  @xcite to journey planners  @xcite . in many applications ,",
    "enormous costs are incurred due to traffic congestion or non - essential and redundant capacity . due to the computational costs involved , most existing routing algorithms are static and based on selfish decisions , with non - adaptive routing tables indicating the shortest path to destinations regardless of local traffic  @xcite .",
    "dynamic routing protocols do exist , but they are either heuristic , probabilistic or insensitive to other individual path decisions which dynamically constitutes the traffic  @xcite . a more global approach that takes into account all individual path decisions is crucial for efficient use of over - stretched infrastructure .",
    "for instance , one may suppress congestion by minimizing overlaps with other routes , or decrease the number of active nodes by consolidating paths to reduce infrastructure demands or energy consumption .",
    "the latter is particularly important in the context of the internet as it can consume up to 4@xmath0 of the electricity generated  @xcite .",
    "future applications include individualized routing and optimal resource management of pre - booked air and road traffic .",
    "the difficulty in deriving a globally - optimal algorithm , in contrast to greedy local ones , lies in the simultaneous assignment of multiple interacting paths to minimize a global cost , as the optimal path between any particular source - destination pair depends on all other paths choices .",
    "such interaction is highly non - local , as paths between different source - destination pairs may partially overlap .",
    "existing algorithms either ignore these interactions  @xcite , or use heuristics to approximate them  @xcite ; both approaches result in sub - optimal solutions .",
    "a substantial effort has been devoted to the development of highly efficient routing methods , for instance multi - commodity flow algorithms  @xcite .",
    "however , most methods are based on weighted linear objective functions and real variables and aim specifically at satisfying capacity constraints ; they have limited flexibility in addressing the variety of non - linear cost functions one may want to optimize in different scenarios , especially concave costs and integer variables .",
    "a more detailed discussion is provided in section s4 of the _",
    "si appendix_.    here we employ statistical physics - based methods used in the study of interacting polymers  @xcite and spin glasses  @xcite to obtain both a macroscopic description of the routing problem and microscopic solutions for given instances ; the latter leads to a simple , generic and distributed routing optimization algorithm .",
    "the algorithm resembles message passing techniques that have been developed independently in a number of disciplines  @xcite and have been successfully applied to a variety of problems from prototyping  @xcite to solving hard computational problems  @xcite and control of complex systems  @xcite .",
    "here we demonstrate the potential and efficacy of our routing algorithm by applying it to random networks , individualized routing on the london subway network and the global airport network . together with other benchmark tests described in the _ si appendix _ , we demonstrate that our algorithm achieves better optimization compared to existing heuristics and state - of - the - art approximation algorithms in various routing scenarios ; moreover , it is distributed , principled and does not require fine - tuning of free parameters .",
    "in addition to the significant algorithmic advances , several macroscopic phenomena including a phase transition , scaling rules as a function of network size and non - monotonic growth in mean path length as a function of traffic volume are revealed ; these can not be obtained by numerical studies and provide new insights and understanding of optimal routing on sparse networks .",
    "consider a system of @xmath1 polymers interacting on a network of @xmath2 nodes .",
    "each node @xmath3 is connected to @xmath4 neighbors denoted by the set @xmath5 and the connectivity matrix @xmath6 when @xmath7 and @xmath8 are connected and zero otherwise .",
    "each polymer @xmath9 has two fixed ends and occupies a path described by a self - avoiding walk on the network , i.e. consecutive segments occupy topological neighbors and each polymer @xmath10 goes through a node at most once .",
    "we denote the variable @xmath11 when polymer @xmath10 occupies node @xmath7 and @xmath12 otherwise , and the number of polymers occupying @xmath7 as @xmath13 . to penalize or encourage polymer overlap",
    ", we define the hamiltonian @xmath14 to be a non - linear function of the normalized flow @xmath15 , namely @xmath16 the analytic solution and derived algorithm are generic for any @xmath17 .",
    "while the current framework focuses on undirected polymers and costs which incur at vertices , it is clear that in some applications costs incur at the edges and edges may be directed and weighted .",
    "our framework , derivation and algorithms accommodate costs on edges ( using a factor graph representation ) as well as directed and weighted polymers , making them suitable for most routing scenarios . the derivation and corresponding algorithms",
    "are given in _",
    "si appendix _ sec .",
    "we would like to point out that the algorithm presented below already accommodates directed traffic .",
    "this model is equivalent to a setting of @xmath1 source - destination pairs , which we term _ communications _ , each of which occupies a path on a network with @xmath2 nodes .",
    "the variable @xmath18 is thus the normalized traffic on node @xmath7 and @xmath14 the corresponding cost function . in the physical framework and the zero - temperature limit , we minimize @xmath14 to obtain the ground state of the system or the optimal path configuration of the corresponding routing system .",
    "some simple forms of @xmath14 are already meaningful , for instance @xmath19 , where the cases with @xmath20 penalize overlaps to suppress congestion while @xmath21 encourages overlaps to aggregate traffic  @xcite .",
    "the case of @xmath22 reduces to @xmath23 whose ground state corresponds to shortest - path routing .",
    "the main obstacle in accounting for the interaction between paths is in keeping track of the cost at local nodes or edges while maintaining path - integrity between the two end points and avoiding redundant loops .",
    "therefore , in addition to the cost at the various nodes , given by eq .",
    "( [ eq_hamiltonian ] ) , we introduced a technique used in polymer physics  @xcite , in the study of self - avoiding walks  @xcite , to enforce the appropriate path constraints .",
    "the method is based on representing each node as an @xmath24-component vector @xmath25 of length @xmath26 . denoting the angular integration over @xmath25 as @xmath27",
    ", it has been shown  @xcite that all positive moments of @xmath28 vanish in the limit @xmath29 except the second moment @xmath30 for any component @xmath31 in @xmath25 , where @xmath32 is a normalization constant .",
    "it then implies that when @xmath29 all nonvanishing terms that contribute in @xmath33 are of the form @xmath34 , where @xmath4 represents the @xmath7-th node index of the corresponding path / polymer segment ; these sequences represent self - avoiding paths over nodes @xmath35 , joining the end nodes @xmath36 and @xmath37  @xcite .",
    "each node that is part of these paths incurs a cost as in eq .",
    "( [ eq_hamiltonian ] ) ; a sum over all possible paths of all communications provides the partition function @xmath38 , as detailed in _",
    "si appendix _ sec .",
    "s1.1 . to obtain typical macroscopic properties one needs to average @xmath38 over topologies ( given a degree distribution ) and node - pair choices , termed _ quenched disorders _ in statistical physics .",
    "this requires the use of the replica or cavity methods of spin glass theory @xcite , as presented in _",
    "si appendix _ sec .",
    "the aim of the analysis is two - fold : ( 1 ) at the macroscopic level , we derive the stable traffic distribution @xmath39 in the limit of very large systems to obtain the average cost ( energy ) @xmath40 , the average path length , given by the total occupancy divided by @xmath1 , i.e. @xmath41 , and the average fraction of idle nodes given by @xmath42 , detailed in _",
    "si appendix _ sec .  s1.4 .",
    "angled brackets denote an average over @xmath39 , which includes averages over all variable states for a given network and over choices of network and end - point instances .",
    "( 2 ) at the microscopic level , the cavity based analysis  @xcite translates to an algorithm which optimizes path configuration in a principled , distributed and computationally efficient manner .      the analytical solutions for infinite systems translate into an optimization algorithm valid for finite systems , as detailed in _",
    "si appendix _ sec .",
    "the derived algorithm is based on sending a couple of messages @xmath43 and @xmath44 at the zero temperature limit , from node @xmath8 to node @xmath7 for each index @xmath10 ; these characterize the energy contributions of communication @xmath10 at edge @xmath45 , originated from the source and destination directions , respectively .",
    "the messages take the form : @xmath46 -\\min\\left[-\\phi'({{\\lambda_j^{\\nu * } } } ) , \\min_{\\substack{l , r\\in \\cl_j\\backslash\\{i\\}\\\\l\\neq r}}\\left[{{a_{l\\to j}^\\nu}}+{{b_{r\\to j}^\\nu}}\\right]\\right ] , \\\\ & \\hspace{-1.3cm}{{\\lambda_j^\\nu}}=0 \\\\",
    "\\cl_j\\backslash \\{i\\}}\\left[{{b_{l\\to j}^\\nu}}\\right ] , & \\hspace{-1.3cm}{{\\lambda_j^\\nu}}=1 \\\\",
    "\\displaystyle \\infty , & \\hspace{-1.5cm}{{\\lambda_j^\\nu}}=-1 \\end{cases } \\\\ \\label{eq_b } & { { b_{j\\to i}^\\nu}}= \\nonumber\\\\ & \\begin{cases } \\displaystyle \\min_{l\\in \\cl_j\\backslash \\{i\\}}\\left[{{b_{l\\to j}^\\nu}}\\right ] -\\min\\left[-\\phi'({{\\lambda_j^{\\nu * } } } ) , \\min_{\\substack{l , r\\in \\cl_j\\backslash\\{i\\}\\\\l\\neq r}}\\left[{{a_{l\\to j}^\\nu}}+{{b_{r\\to j}^\\nu}}\\right]\\right ] , \\\\ &   \\hspace{-1.3cm}{{\\lambda_j^\\nu}}=0 \\\\",
    "\\displaystyle \\infty , &   \\hspace{-1.3cm}{{\\lambda_j^\\nu}}=1 \\\\",
    "\\displaystyle 0 , &   \\hspace{-1.5cm}{{\\lambda_j^\\nu}}=-1 \\end{cases}\\end{aligned}\\ ] ] where @xmath47 for source and destination , respectively , and is zero otherwise ; the general cost function @xmath17 and the set of nodes in the neighborhood of node @xmath8 is denoted as @xmath48 .",
    "the value of @xmath49 is given by the solution of @xmath50 in @xmath51 \\right)\\right\\},\\end{aligned}\\ ] ] the step function @xmath52 takes values @xmath53 for @xmath54 and @xmath55 , respectively .",
    "solutions of  eq .",
    "( [ eq_gx ] ) are obtained by setting @xmath56 and a test integer @xmath57 starting from @xmath58 until a self - consistent @xmath50 is found . finally , after the set of messages in eqs .",
    "( [ eq_a ] ) and ( [ eq_b ] ) converges to non - fluctuating values , the optimal configuration of path @xmath10 on each node @xmath8 is given by @xmath59 \\right),\\end{aligned}\\ ] ] where @xmath49 is the solution of eq .",
    "( [ eq_gx ] ) after convergence , and @xmath60 if the communication @xmath10 passes through node @xmath8 and zero otherwise .",
    "the generalized algorithms which accommodate weighted and directed communications , generic costs on nodes and edges , as well as separate costs defined on directed edges are given in _",
    "si appendix _ sec .",
    "the computational complexities of these algorithms are discussed in _",
    "si appendix _ sec .",
    "s2.2 .    in some instances",
    "the iterative equations fail to converge , this suggests that solution space in the infinite system case is fragmented and non - ergodic ; this corresponds to__replica symmetry breaking _ _  ( rsb )  @xcite , a complicated energy landscape with numerous local minima that typically hinder algorithmic convergence ( details in _",
    "si appendix _ sec .",
    "this is typical in the case of hard computational problems .",
    "convergence is improved by assigning a random bias @xmath61 to each node  @xcite , akin to an external field , guiding the system to one of the local minima .",
    "these biases can be easily incorporated in the present formulism by replacing @xmath62 with @xmath63 for each node @xmath7 such that @xmath64 . in cases where a large number of source - destination pairs are identical",
    ", we further replace @xmath61 by @xmath65 for each communication @xmath10 to break the degeneracy brought about by eq .",
    "( [ eq_gx ] ) .",
    "details can be found in _",
    "si appendix _ sec .",
    "employing the suggested algorithm , we can optimize path choices using the cost @xmath66 .",
    "we illustrate the characteristic results obtained by applying the algorithm using two costs , with @xmath67 ( convex , @xmath20 ) and @xmath68 ( concave , @xmath21 ) , to a system of 10 source - destination pairs communicating on a random regular graph with @xmath69 and @xmath70 as shown in  fig . 1 .",
    "figure  1(a ) demonstrates how a cost with @xmath20 penalizes congestion : the blue , orange and violet communications are routed via non - shortest paths to avoid overlap , especially in the central congested part of the network .",
    "this holds when traffic is heavy and one aims to distribute it uniformly .",
    "in contrast to the reduced - congestion solutions , fig .",
    "1(b ) shows solutions obtained for @xmath71 , aimed at concentrating traffic .",
    "more specifically , the blue , orange and violet communications are all routed via the central congested part of the network that mainly consists of source and destination nodes , making best use of these nodes as relays and leaves many of the other nodes idle . in the case of the internet or transportation networks , idle nodes can be switched off to save resources .    to demonstrate the efficacy of the algorithm for more realistic systems we examine the performance of the algorithm on the london subway network based on real passenger source - destination data obtained by the oyster card system  @xcite .",
    "we report results for vertex costs only , but similar pictures have been obtained for edge costs and directed traffic .",
    "figure  3(a ) shows how congestion is reduced by the algorithm when @xmath67 is used and traffic is fairly uniform even in the central region ( see inset ) , at the cost of longer individual routes for global optimization .",
    "table  1 shows that the cost @xmath72 obtained by our algorithm is 20.5@xmath0 smaller than that of the shortest path configuration obtained by the commonly used dijkstra algorithm  @xcite , with only a slight increase in average path length by 5.8@xmath0 .",
    "practically , traffic optimization of this type may be achieved through differential pricing , or by auxiliary information provided either individually or globally . on the other hand , when @xmath68 is used , paths for the same passenger set are consolidated at major routes and stations as shown in fig .",
    "while the size of some of the nodes increases , other branches such as the ones passing through  holborn \" and  great portland street \" ( see inset ) are all but idle",
    ". this scenario may be relevant at times when the service is reduced for some reason , for instance a strike or at late evening ; service on the shared branches can remain active while the frequency of other less - loaded services decreases .    to better compare the solutions obtained in the two scenarios , we plotted the corresponding traffic at individual stations for the london underground data set in descending order ( for @xmath68 ) as shown in the inset of  fig .  2 .",
    "the optimized states of @xmath67 show less traffic for overloaded stations and higher traffic for less - loaded ones ; for instance ,  green park \" .",
    "[ cols=\"<,^,^,^,^ , > \" , ]     * table 1 . * a comparison of average cost @xmath73 and path length @xmath74 obtained by our algorithm ( p ) , the dijkstra algorithm ( d ) and the modified min - cap congestion aware algorithm ( mc )  @xcite at individual optimal @xmath75 for each instance .",
    "results are averaged over sets of source - destination pairs recorded in each 1 minute interval between 8:30 am  9:00 am on one wednesday in november 2009 for the london subway network , and 5 sets of 300 randomly drawn source - destination pairs for the global airport network .",
    "the values after the @xmath76 signs indicate to the corresponding standard error .",
    "[ tab_energydiff ]    similar experiments were carried out on the global airport network  @xcite . applying the optimization algorithm  ( [ eq_a]-[eq_b ] ) to",
    "the data one obtains the results presented in  fig .",
    "2 and fig .  5 .",
    "similar trends to those of the subway network are observed : air - traffic consolidates at airports that are on main routes in the case of @xmath68 , such as frankfurt , toronto and beijing ; while several popular airports such as tokyo , newark and hong kong show a reduced air - traffic in the case of @xmath68 represented by the red line .",
    "table  1 shows the cost obtained by our algorithm when @xmath67 is @xmath77 lower than that obtained by the dijkstra s shortest paths , with a slight increase in path length of @xmath78 .",
    "this may be due to the availability of a large number of alternative paths in airport network .",
    "we note that a lower cost is also achieved in the cases of @xmath68 .",
    "these results show that our algorithm optimizes a given generic cost , at a price of modest increase in the average path length .    to evaluate the performance of the suggested algorithm ( with @xmath67 only ) we compared our results against those obtained using a representative state - of - the - art congestion - aware routing algorithm , which we call the _ min - cap _  ( mc ) algorithm  @xcite , based on multi - commodity flow . as the latter aims to optimize a linear cost , we have introduced a tunable parameter @xmath79 such that the quadratic cost is optimized by an extensive search for an optimal @xmath75 ( see _ si  appendix _",
    "details are found in _",
    "si  appendix _  sec .  s4 .",
    "we emphasize that _ this comparison is limited to congestion - aware algorithms _",
    "( @xmath80 ) as we have not identified existing efficient optimization algorithms for concave costs that facilitate route consolidation , e.g. the results shown in figs .",
    "1(b ) , 3(b ) and 5(b ) .",
    "table  1 shows a modest gain in cost over the optimized mc results at individual @xmath75 for each run , far less than the gain obtained with respect to dijkstra s algorithm .",
    "nevertheless , our algorithm provides a lower energy for all @xmath79 values , unachievable by the mc algorithm even after fine - tuning ( see _ si  appendix _  fig .",
    "our algorithm also results in shorter average path length @xmath81 in addition to lower cost @xmath82 in random regular graphs ( see _ si appendix _",
    "table  s1 ) , used as a controlled benchmark problem .",
    "moreover , it is distributed , principled , does not require fine - tuning of free parameters and , most importantly , has the flexibility to accommodate any ( non - pathological ) cost function designed to address specific needs .      figure  4 illustrates the adaptivity of our algorithm after removing the london subway station  bank \" ( black node ) .",
    "nodes and edges which show an increase ( decrease ) in optimized traffic are colored red ( blue ) , respectively , with their size and thickness proportional to the magnitude of increase ( decrease ) .",
    "nodes and edges with no traffic changes are in white and black , respectively . in the case of optimization using @xmath83 , the original traffic through  bank \" is re - routed either via  embankment \" or via  old street \" . this re - distribution of traffic can not be achieved by ordinary algorithms such as routing tables , shortest - path or minimal weight routing without taking into account the interaction between paths .    on the other hand , in the case of @xmath68 , almost all the original traffic through ",
    "bank \" is diverted to  old street \" . as the original traffic via ",
    "bank \" is substantial ( see inset of fig .",
    "3(b ) ) , significant changes at some stations have to be made , although only a small number of stations are subject to re - routing compared to the case of @xmath67 .",
    "in addition to the microscopic solutions obtained , we would like to explore the macroscopic behavior of the system .",
    "we first examine the dependence of average path length @xmath84 on the number of interacting communications @xmath1 .",
    "random regular networks , erds - rnyi ( er ) and scale - free ( sf ) graphs are studied as they serve as standard benchmark problems and resemble overlay networks on the internet .",
    "theoretical results are obtained by solving numerically a set of recursive equations described in _ si  appendix",
    "_  sec .",
    "s1.4 ; simulation results are obtained using eqs .",
    "( [ eq_a ] ) and ( [ eq_b ] ) .",
    "the inset of  fig .",
    "6(a ) shows results obtained for random regular graphs .",
    "two remarkable phenomena are observed for both @xmath67 or @xmath68 : ( i ) average path length @xmath84 peaks at intermediate @xmath1 instead of increasing monotonously ; ( ii ) it approaches asymptotically the shortest path @xmath85 as @xmath86 ( formally , the value of @xmath84 when @xmath87 ) .",
    "small deviations between theory and simulations are due to finite size effects .",
    "the observed non - monotonic trends imply the existence of interesting routing phenomena . in the case of @xmath67",
    ", it implies that the system is very sensitive to congestion in the intermediate range of @xmath1 .",
    "particularly when @xmath1 is small , many communications are routed through longer routes as they face stiff competition for shorter ones . however , as @xmath1 increases further , traffic become more homogeneous and @xmath84 decreases since communications are routed via shorter routes as longer ones are equally congested , matching the experience of frustrated drivers on congested roads .",
    "this is reflected in the lower cost obtained by our algorithm in comparison with dijkstra algorithm , which peaks at 20% for intermediate @xmath1 as shown in  fig .",
    "similar trend is observed for @xmath88 as different communications co - operate to share routes in the intermediate range of @xmath1 .",
    "as @xmath1 increases further , traffic becomes more homogeneous and there is less advantage to prefer a busy but longer route , making shorter routes more cost - effective .",
    "we note that the peak in @xmath84 for the case of @xmath67 occurs at a smaller @xmath1 value compared to @xmath68 , implying that traffic homogeneity is achieved at smaller @xmath1 in the case of @xmath67 .    while similar behaviors are observed for er graphs ( see _ si appendix _ sec .",
    "s6 ) , sf networks show a much slower decrease of @xmath84 after attaining its maximum , possibly due to the intrinsic node degree inhomogeneity which leads to traffic inhomogeneity even at large @xmath1 .",
    "this suggests that shortest - path routing is effective when @xmath1 is large and topology is homogeneous , but not in networks with high degree variability .",
    "the scaling property of path lengths is shown in  fig .",
    "6(a ) . rescaled path length @xmath89 with @xmath67 at system sizes @xmath90 and @xmath91 , plotted as a function of the rescaled number of communication , @xmath92 fall on top of each other almost identically .",
    "a similar data collapse is also observed in er graphs shown in _",
    "si appendix _ sec .",
    "it implies that the non - monotonic behavior observed for path lengths , and thus the network sensitivity to congestion , depend on @xmath1 and @xmath2 only through @xmath92 .",
    "the latter is roughly proportional to the average traffic on a node since @xmath93 is proportional to the average shortest distance between any two nodes in random regular networks  @xcite and er graphs  @xcite . in other words ,",
    "the optimal behavior of routing on these graphs depends only on the average node traffic , regardless of system size and number of communications .",
    "the rescaling also appears in the reduced cost obtained by our algorithm as shown in  fig .",
    "note that theoretical results have been obtained in the infinite system limit ; finite @xmath2 values have been introduced here merely to determine the scaling properties of @xmath1 .",
    "we have also examined the fraction of idle node as a function of @xmath94 .",
    "this revealed a phase transition , an abrupt change in the fraction of idle nodes around the @xmath22 value ( see _ si appendix _ fig .",
    "s11 and sec .",
    "the implication is that even a small change in the power @xmath94 is sufficient to effectively power down unnecessary routers or close redundant subway stations , with little impact on the cost or average route length .",
    "optimal routing is one of many hard problems on networks that one should tackle in order to use limited and usually overstretched resources efficiently .",
    "the common characteristic of these problems is their global nature and thus the difficulty in solving them at both macroscopic and microscopic levels with limited computational resources . by applying methods from the physics of interacting polymers and disordered systems we obtained typical properties of routing problems and derive a readily applicable , principled , generic , distributed and adaptive routing algorithm .",
    "improvements over state - of - the - art algorithms in the intermediate traffic regime where @xmath95 are considerable but are modest in the very sparse and dense traffic regimes .",
    "these findings will have direct impact on a number of different research areas of practical and societal relevance , from traffic to communication and logistics ; but more importantly , may open the way for solving many other crucial and non - localized problems on networks .",
    "leighton t , rao s ( 1988 ) an approximate max - flow min - cut theorem for uniform multicommodity flow problems with applications to approximation algorithms",
    ". _ proceedings of foundations of computer science 29th annual symposium _ pp 422  431 .",
    "kim m , medard m ( 2004 ) robustness in large - scale random networks , proceedings of the ieee infocom conference .",
    "_ 23-rd annual joint conference of the ieee computer and communications societies _ 4:23642373 ."
  ],
  "abstract_text": [
    "<S> optimizing paths on networks is crucial for many applications , from subway traffic to internet communication . as global path optimization that takes account of all path - choices </S>",
    "<S> simultaneously is computationally hard , most existing routing algorithms optimize paths individually , thus providing sub - optimal solutions . </S>",
    "<S> we employ the physics of interacting polymers and disordered systems to analyze macroscopic properties of generic path - optimization problems and derive a simple , principled , generic and distributed routing algorithm capable of considering simultaneously all individual path choices . </S>",
    "<S> we demonstrate the efficacy of the new algorithm by applying it to : ( i ) random graphs resembling internet overlay networks ; ( ii ) travel on the london underground network based on oyster - card data ; and ( iii ) the global airport network . </S>",
    "<S> analytically derived macroscopic properties give rise to insightful new routing phenomena , including phase transitions and scaling laws , which facilitate better understanding of the appropriate operational regimes and their limitations that are difficult to obtain otherwise . </S>"
  ]
}