{
  "article_text": [
    "dynamical behavior of crowds has attracted many physicists over the last decades for its nontrivial characteristics @xcite .",
    "the motion of pedestrians can be regarded as a problem of a many - body system of  self - driven \" particles . in order to investigate the collective phenomena of the system ,",
    "many microscopic models have been developed : the social force model @xcite , the floor field ( ff ) model @xcite , the lattice gas model @xcite , etc .",
    "in addition to the simulations , much effort has also been devoted to experimental studies @xcite . in this research field ,",
    "the evacuation of crowds has been vigorously studied since it is of great importance to design buildings properly for the case of emergency , in the context of risk management @xcite .",
    "one remarkable phenomenon observed during evacuation is the clustering of pedestrians at bottlenecks such as exits ( _ arching _ ) . when more than one pedestrian tries to move to the same place , the _ conflict _ occurs , decreasing the outflow of pedestrians .",
    "the effect of the conflict is a dominant factor of total evacuation time ; however , only a few theoretical analyses have been performed so far @xcite . in previous studies ,",
    "the evacuation process from a single room has mainly been investigated . however , in an actual emergency , the pedestrian flow experiences many bottlenecks and merges together toward the exit . to the authors knowledge ,",
    "no systematic approach to evacuation from complex buildings has been proposed .",
    "this study provides a first step toward the understanding of the problem .",
    "first , as illustrated in fig . [ concept ] , we abstract the most important factors , i.e. , bottlenecks and their connectivity as a network . by considering this kind of a general network , one can apply our results to a broad range of practical problems . in this study , different from most other studies of networks ,",
    "each node itself has a complex dynamics ; we therefore begin by focusing on a single segment of the network .        in this paper ,",
    "the overall argument is based on the ff model , which is one of the well - established cellular automata models for describing the pedestrian dynamics .",
    "the model is convenient not only for simplicity and ease of use , but for its extensibility @xcite .",
    "the effect of the conflict was first implemented in the ff model by introducing the friction parameter in refs .",
    "@xcite . in the present study",
    ", we use a more general version of the friction parameter , namely , the _ friction function _ which was first proposed in ref . @xcite . the motion of pedestrians involved in the conflict is canceled with a certain probability determined by the friction function , which controls the strength of clogging and sticking among pedestrians .",
    "in addition to exits , we set an entrance providing the system with pedestrians with a certain probability every time step .",
    "the stochastic entrance is convenient for us to control the inflow of pedestrians @xcite , and by regarding it as inflow from an exit of the previous bottleneck , we can evaluate the effect of connectivity of the bottlenecks .",
    "the rest of this paper is organized as follows .",
    "section [ mod ] gives the definition of the model . in sec .",
    "[ sim ] , simulation results are shown . to explain the phenomenon analytically",
    ", we propose the second - order cluster approximation in sec .",
    "[ theo ] . finally , we summarize the argument in sec .",
    "we consider a two - dimensional lattice representing a room with an entrance and exit , consisting of @xmath0 sites labeled ( @xmath1 ) ( @xmath2 ) .",
    "each site can contain only one pedestrian at most . every time step pedestrians choose one destination site out of their five neighboring sites including the present site : ( @xmath1 ) , ( @xmath3 ) , ( @xmath4 ) , ( @xmath5 ) , and ( @xmath6 ) ( see fig .",
    "[ jump ] ) , according to two types of ffs .",
    "one of the ffs is the static ff ( @xmath7 ) describing the shortest distance to the exit site , and the other is the dynamic ff ( @xmath8 ) expressing the total number of pedestrians who have visited the site .",
    "the dynamic ff has the dynamics of diffusion and decay , unlike the static ff @xcite .",
    "the transition probability @xmath9 for a jump to the neighboring site ( @xmath1 ) is determined by the following expression : @xmath10 where @xmath11 and @xmath12 are non - negative sensitivity parameters , and @xmath13 stands for the normalization factor .",
    "@xmath14 returns @xmath15 for forbidden transitions such as to a wall , an obstacle , and neighboring occupied sites , and returns @xmath16 for other transitions . in this paper , the static ff is given by the @xmath17 norm as @xmath18 where ( @xmath19 ) and ( @xmath20 ) are the coordinates of the site ( @xmath1 ) and the exit site , respectively .",
    "on the other hand , we ignore the effect of the dynamic ff ( @xmath21 ) since it does not greatly affect the arguments in this work @xcite .    , and leave the area from the exit with the probability @xmath22.,width=264 ]      due to the use of parallel update it happens that more than one pedestrian tries to choose the same site , which is called the conflict .",
    "the simplest solution of the conflict is to choose one pedestrian randomly to move to the site , and keep other pedestrians at their present sites .",
    "however , in actual situations , pedestrian flow is often clogged by more than one pedestrian moving at the same time . to model this effect ,",
    "the friction parameter has been introduced @xcite , and many significant results have been obtained so far . in a recent study @xcite ,",
    "the friction function has been proposed to describe the effect more precisely . in the friction function , the number of pedestrians involved in the conflict , @xmath23 , is reflected to its resolution probability . in this paper , we assume @xmath24 in the following form as in ref .",
    "@xcite : @xmath25 here , @xmath26 $ ] is the friction coefficient representing the strength of the clogging irrelevant to @xmath23 .",
    "this @xmath24 is a monotonically increasing function of @xmath23 and @xmath27 .",
    "note that this choice of @xmath24 is one of the possible expressions .",
    "if one takes the friction function independent of @xmath23 , it coincides with the friction parameter .    each conflict is resolved with probability @xmath28 , and one of @xmath23 pedestrians is randomly selected to move to the site , otherwise , the conflict remains .      in each time step , a pedestrian is provided to an entrance site with the probability @xmath29 $ ] if the site is empty , and removed from an exit site with probability @xmath30 .",
    "( see fig .",
    "[ jump ] . ) in this paper , we assume that each room has enough space so that pedestrians at exit sites are smoothly accepted to the next room , namely , @xmath22 .",
    "in the following , we set @xmath31 @xcite .",
    "the dimensions of the simulation area are @xmath32 , and one entrance site and one exit site are set at @xmath33 and @xmath34 , respectively . in this section",
    "we see some simulation results , varying the inflow probability @xmath35 and the conflict coefficient @xmath27 .      in fig .",
    "[ fd ] , the average pedestrian outflow through the exit , @xmath36 , is plotted . here",
    ", the density @xmath37 is defined as the number of pedestrians in the room divided by the number of sites in the area , @xmath38 .",
    "we performed simulations for 100000 time steps for each inflow probability @xmath39 with the initial condition that no pedestrian is set in the system .",
    "the simulation results of the flux and density are averaged over every @xmath40 time steps .",
    "the relation between the flux and density is often referred to as the _ fundamental diagram _ in the context of traffic flow , and in vehicular traffic the _",
    "metastable state _ is observed in the fundamental diagram .",
    "the metastable state indicates an unstable state with high flux and density before falling to the jammed state , and at the same density we can see multiple fluxes corresponding to the metastable state and jammed state , in a certain regime of density .",
    "interestingly , the metastability is observed also in this problem . while in vehicular traffic flow",
    ", the metastability comes from the effect of inertia of vehicles ; in this case , the conflict plays an important role for pedestrian traffic .",
    "if the conflict occurs at the exit , outflow is decreased ; therefore , even for the small density of pedestrians in the system , the jammed flux can be observed by the concentration of pedestrians at the exit . on the other hand ,",
    "if the pedestrians are dispersed and in the state of free flow , the system can keep large flux .",
    "this is the mechanism by which the metastability is induced in the pedestrian bottleneck .",
    "consistent with these arguments , the metastability can not be observed when @xmath41 [ fig .",
    "[ fd](b ) ] .    next ,",
    "let us explain the fundamental behavior of the system .",
    "first , the free - flow phase ( see fig . [ sch ] ) can be observed for every @xmath35 and @xmath27 . in this phase ,",
    "large @xmath35 directly leads to large flux , corresponding to the linear relation between @xmath36 and @xmath37 . on the other hand , when the conflict occurs at the exit , the rate of outflow shrinks . if this outflow is smaller than inflow ( for large @xmath35 and @xmath27 ) , the density of pedestrians increases leading to congestion [ the congestion phase shown in fig .",
    "[ sch ] ( right ) ] .",
    "in contrast , if the inflow is not enough large , the conflict disappears , recovering the free flow .    here , if we take @xmath35 as a controllable parameter for a given @xmath27 , how can we optimize the inflow parameter ?",
    "the answer is to keep the inflow lower than the critical rate , which prevents the conflict at the exit from growing .",
    "we discuss this issue in the following sections in detail .        )",
    ".,width=264 ]      in this subsection , we analyze the phase transition from free flow to congestion in detail .",
    "figure [ rf ] shows the density and flux in the steady state and the _ transient _ state . here",
    ", the transient state is defined as the state of the system with free - flow initial conditions ( the room with no pedestrian ) at finite time steps and introduced to include the probability of the system having the phase transition . even in the parameter regime of the congestion",
    "the system might keep the metastable state for finite time steps .",
    "hence the expected value of the flux ( density ) in the transient state is larger ( lower ) than that in the steady state .",
    "these kinds of quantities are also important because the system does not always reach the stationary state in actual evacuation of crowds .    here , we summarize the simulation conditions in table [ simc ] . in the simulations , each plot of the transition state ( tr . )",
    "is obtained by averaging the flux or density over @xmath42 time steps and @xmath40 samples @xcite . on the other hand ,",
    "plots for the steady state ( st . ) are calculated by averaging over 1000000 time steps from @xmath43 to @xmath44 . for the st .",
    "plots , we adopted the initial condition that pedestrians occupy all the available sites to ensure the occurrence of the congested situation in the corresponding parameter regime .    in fig .",
    "[ rf ] ( b ) , the lines of the density jump at each critical @xmath35 , which correspond to the occurrence of the congestion .",
    "corresponding to the fact , the flux of pedestrians [ fig .",
    "[ rf ] ( a ) ] agrees with two types of lines : in the free - flow phase , the flux is determined only by the inflow probability ; on the other hand , in the parameter regime of the congestion , the flux is determined by the outflow .",
    "these two pedestrian fluxes are evaluated theoretically in the next section . moreover , the simulation results of the steady states imply that the situation near the exit can be assumed to be independent of the inflow probability in the congested situation . on the other hand , one can see the peak of the flux in the transient state . since the system does not always cause congestion even in the congestion regime of parameters ( metastability ) , the expected flux is higher than the congestion flux for @xmath35 around the critical value . if the inflow rate is large enough , the probability of the flux falling to the congested situation increases , and thus , the average flux decreases .",
    "figure [ acr ] shows the phase diagram of the system . for each @xmath27 ,",
    "the upper limit of the inflow rate to keep the free flow is depicted with the line derived in sec .",
    "[ cc ] . from a practical standpoint",
    ", it corresponds to the criteria for avoiding the congested situation .    .simulation conditions . [ cols=\"^,^,^\",options=\"header \" , ]     [ simc ]",
    "buildings have branches of passages , and the merging of the pedestrian flow is an important and complex problem in architectural design . in this subsection ,",
    "we present some simulation results to show a paradoxical effect of local improvement of the pedestrian flow . as more macroscopic systems than those in previous subsections",
    ", we consider the systems with three rooms and two types of connections : the center ( ce ) connection [ fig .",
    "[ ma](a ) ] and the corner ( co ) connection [ fig .",
    "[ ma](b ) ] . here",
    ", two rooms are connected to a room with an exit site like an entrance hall , and we do not provide pedestrians to each room after setting initial conditions . in ref .",
    "@xcite , it has been demonstrated that the exits at the corner has larger capacity of outflow than ones in the center because they have only two neighboring sites , and conflicts are reduced .",
    "therefore , at first sight , the corner connection seems to be better in the sense of swift evacuation .",
    "in fact , however , it is quite opposite , as shown in fig . [ merging ] .",
    "the simulations have been performed with an initial condition that 50 pedestrians are randomly distributed in each of two rooms other than the entrance hall . as expected , the evacuation time from each room to the entrance hall",
    "is improved by setting the connection at the corner , namely , @xmath45 ; however , the total evacuation time worsens as @xmath27 increases .",
    "accordingly , the rate of the local evacuation time @xmath46 decreases while that of the total evacuation time @xmath47 increases .",
    "this phenomenon is explained as follows .",
    "the total evacuation time is determined only by the outflow from the exit , and the local pedestrian flow to the entrance hall does not influence the total outflow directly .",
    "furthermore , the large inflow to the entrance hall will increase the density of pedestrians near the exit , which leads to the decrease of the outflow .",
    "in other words , if the local inflow is reduced by a strong bottleneck , the total outflow is improved conversely .",
    "thus , we can conclude that pedestrian flow should be dispersed not only spatially but also temporally , and the strong bottlenecks might be used for the total optimization .",
    "note that here we considered the situations that the effective inflow rate to the entrance hall is larger than the exit capacity , namely , they are in the congestion phase as a whole . if the exit has enough width , the local optimization directly improves the total evacuation time .",
    "let us analyze the pedestrian outflow in each phase and its critical conditions focusing on a single bottleneck . in this section , we consider the limit @xmath48 , where pedestrians surely move to the most desirable site .      in the free - flow phase ,",
    "the pedestrian flux is evaluated by the inflow .",
    "first , we consider a balance equation at the entrance site : @xmath49 here , @xmath50 is the probability of finding a pedestrian at the entrance site .",
    "since we assume @xmath48 , a pedestrian at the entrance site surely leaves the site ( with probability @xmath16 ) in the next time step . by solving the equation",
    ", we can evaluate the flux @xmath51 : @xmath52 this expression is shown in fig .",
    "[ rf ] ( a ) and well agrees with the simulation results .      in the congested situation ,",
    "the area near the exit is almost fully occupied .",
    "this fact enables us to estimate the outflow in the steady state . in the previous studies , the pedestrian density at the neighboring sites of the exit",
    "is approximately assumed to be @xmath16 @xcite .",
    "however , when the effect of the conflict is strong , this assumption does not give a good estimate .",
    "especially in this paper , since the effect of the conflict depends on the number of pedestrians involved , we have to take the configurations of pedestrians at the exit into consideration .",
    "hence , we adopt a second - order approximation here . in the approximation",
    ", we assume the probability of finding a pedestrian at the site where the exit is accessible with two jumps ( the second neighboring site ) to be @xmath16 ( see fig .",
    "[ appr ] ) .",
    "then , the states of the neighboring sites are characterized by four occupation numbers @xmath53 and @xmath54 , which take @xmath15 ( empty ) or @xmath16 ( occupied ) . by considering transition probabilities among these states ,",
    "we can obtain the probability distribution @xmath55 of finding each state in the steady state . here",
    ", the superscript corresponds to the occupation number of the exit , and the subscripts indicate one of its neighboring sites as shown in fig .",
    "[ appr ] . to reduce the dimension of the transition matrix",
    ", we use the following facts .",
    "first , we can easily find @xmath56 and @xmath57 . since no configuration of pedestrians can result in these states in the next time step , they are not realized in the stationary state .",
    "furthermore , by symmetry of the system , the equations @xmath58 are satisfied . with the normalization condition , the transition matrix is summarized as follows :    @xmath59    @xmath60    note that abbreviated notations @xmath61 , and @xmath62 are used .",
    "then , the pedestrian flux is given by    @xmath63    this expression is illustrated with simulation results in fig .",
    "[ rf ] ( a ) .",
    "when the effect of the conflict is dominant , the error becomes large . in this parameter region",
    ", pedestrians are not provided smoothly to the second neighboring sites due to the strong friction , and thus , the assumption of the approximation is not satisfied . on the other hand ,",
    "when the effect of the conflict is not strong , the approximation gives good evaluation .",
    ".,width=188 ]      in the previous subsections , we evaluated pedestrian flux in the free - flow situation @xmath51 and congested situation @xmath64 .",
    "when @xmath64 becomes smaller than @xmath51 , the system can not maintain the free - flow situation ; therefore we can obtain the critical condition regarding the inflow probability for a given @xmath27 from the condition , @xmath65 : @xmath66 this critical condition is compared with simulation results in fig .",
    "[ acr ] , and well describes the phase transition .    using this expression",
    ", we can control the inflow , preventing the occurrence of the congestion .",
    "for example , by securing additional routes and keeping the total inflow to one bottleneck lower than the outflow in the congested situation , the clustering at the exits can be avoided , which may shorten the total evacuation time .",
    "in this paper , we have taken a first step to treat the problems of multiple bottlenecks in evacuation process . to consider the problems , we focused on a part of the bottlenecks , using a stochastic entrance . through simulations , the metastable state of pedestrian flow arising from the effect of pedestrian conflicts",
    "is demonstrated .",
    "supported by approximate analyses we have derived the expressions for the pedestrian flux in the free - flow phase and congestion phase , and a critical condition of the inflow to prevent the congestion . furthermore , interesting phenomena related to the merging of pedestrian flow have been reported .",
    "the local improvement of the pedestrian flow sometimes causes more serious congestion .",
    "we believe we could give some hints for designing evacuation routes from a theoretical point of view . to validate these characteristics , some experimental studies would also be necessary .    in this paper , only simple situations have been focused on to concentrate on the essence of the problem . however , other factors such as the width of exits , multiple entrances and/or exits , route choice of pedestrians , obstacles , etc .",
    ", should also be investigated in combination with our study in future works .",
    "although we can obtain the explicit expression of @xmath64 by solving eqs .",
    "( [ trm ] ) and ( [ nc ] ) , the expression is very complicated in general .",
    "if we use the friction parameter @xmath67 @xcite independent of the pedestrian number , namely , @xmath68 , the expression will be relatively simple .",
    "here we show the result in the second - order approximation for this case , @xmath69 , and compare it with the previous result derived by first - order approximation @xcite . from simultaneous eqs .",
    "( [ trm ] ) and ( [ nc ] ) , we can derive @xmath70 on the other hand , ref .",
    "@xcite presented the expression derived by the first - order approximation , @xmath71 .",
    "the difference between these equations yields @xmath72 hence @xmath73 is asymptotic to @xmath74 in the @xmath75 limit , and we can conclude that the second - order approximation presented in this paper improves the prediction , especially when the effect of the conflicts is strong .    5 t. nagatani , rep .",
    "65 , 1331 ( 2002 ) .",
    "d. helbing , rev .",
    "73 , 1057 ( 2001 ) .",
    "d. helbing and p. molnar , phys .",
    "e 51 , 4282 ( 1995 ) . c. burstedde",
    ", k. klauck , a. schadschneider , and j. zittartz , physica a 295 , 507 ( 2001 ) .",
    "a. kirchner , h. klpfel , a. schadschneider , k. nishinari , and m. schreckenberg , physica a 324 , 689 ( 2003 ) .",
    "a. kirchner , k. nishinari , and a. schadschneider , phys .",
    "e 67 , 056122 ( 2003 ) .",
    "d. yanagisawa and k. nishinari , phys .",
    "e 76 , 061117 ( 2007 ) .",
    "d. yanagisawa , a. kimura , a. tomoeda , r. nishi , y. suma , k. ohtsuka , and k. nishinari , phys .",
    "e 80 , 036110 ( 2009 ) .",
    "d. yanagisawa , r. nishi , a. tomoeda , k. ohtsuka , a. kimura , y. suma , and k. nishinari , _ sice journal of control , measurement , and system integration _ 3 , 395 ( 2010 ) .",
    "t. ezaki , d. yanagisawa , k. ohtsuka , and k. nishinari , physica a 391 , 291 ( 2012 ) .",
    "y. suma , d. yanagisawa , and k. nishinari , physica a 391 , 248 ( 2012 ) . c. m. henein and t. white , physica a 373 , 694 ( 2007 )",
    ". w. song , x. xu , b. h. wang , and s. ni .",
    "physica a 363 , 492 ( 2006 ) .",
    "t. kretz , a. grnebohm , and m. schreckenberg , j. stat .",
    "10014 ( 2006 ) .",
    "a. seyfried , t. rupprecht , o. passon , b. steffen , w. klingsch , and m. boltes , transportation science 43 , 395 ( 2009 ) .",
    "r. w. perry , m. k. lindell , and m. r. greene , _ evacuation planning in emergency management _ ( lexington books , toronto , 1981 ) .",
    "the arguments are based on the flow rate of pedestrians through entrances and exits , which is not greatly influenced by the dynamic floor field in simple cases .",
    "see also @xcite . here",
    "we set ks large enough to make each pedestrian almost surely choose the most desirable site every time step and avoid irrational movement . on the other hand , we will approximately assume @xmath48 in theoretical analyses .",
    "accordingly , the simulation results with @xmath31 and theoretical analyses with @xmath76 are compared in fig .",
    "[ rf ] . strictly speaking",
    ", this quantity corresponds to the ` averaged ' transient state , rather than the transient state at timestep @xmath77 .",
    "the quantity is dependent on @xmath77 and converges to that of the steady state in the limit of @xmath78 ."
  ],
  "abstract_text": [
    "<S> we investigate the dynamics of the evacuation process with multiple bottlenecks using the floor field model . to deal with this problem , we first focus on a part of the system and report its microscopic behavior . </S>",
    "<S> the system is controlled by parameters of inflow and the competitiveness of the pedestrians , and large inflow leads to a congested situation . through simulations , </S>",
    "<S> the metastable state induced by conflicts of pedestrians is observed . </S>",
    "<S> the metastability is related to the phase transition from free flow to congestion . </S>",
    "<S> the critical condition of the transition is theoretically derived .    </S>",
    "<S> in addition , we give simulation results of situations with multiple bottlenecks . </S>",
    "<S> they imply that local improvement of pedestrian flow sometimes adversely affects the total evacuation time , and that the total optimization of the system is not straightforward . </S>"
  ]
}