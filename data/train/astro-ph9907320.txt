{
  "article_text": [
    "the visual and near infrared multi object spectrographs ( vimos and nirmos respectively ) are two spectrographs being developed by the franco - italian consortium virmos for the vlt ( lefevre et al , 1998 ) .",
    "they are due in operation for spring 2000 and spring 2001 respectively",
    ". both will have imaging capabilities and an integral field unit , allowing for full field spectroscopy over 1 arcmin@xmath0 .",
    "vimos field of view will be composed of four quadrants of 7x8 arcmin , for a total of 224 arcmin@xmath0 .",
    "spectroscopy will be done using user defined slits cut into invar masks , one mask per quadrant .",
    "multiobject spectroscopy will be possible in either high resolution mode ( @xmath1 ) and low resolution mode ( @xmath2 ) . in the low resolution mode",
    ", the design of the instrument has been done in such a way as to exploit spectra stacking , so that the maximum number of spectra per exposure can be obtained .",
    "given the ccd size ( 2048x4096 pixels ) and the grism resolution , up to 200 spectra per quadrant can be stacked in one image ( a total of 800 spectra per exposure ) .",
    "to exploit these capabilities , tools must be provided to the astronomer to automatize the object selection procedure , and to produce masks for the spectroscopic observations . in the case of the vlt",
    ", eso has provided a common scenario ( the so called `` vlt data flow system '' ) within which we had to accomodate the particular needs of vimos . in this contribution",
    "we will outline the software we are going to provide for handling vimos ( and nirmos ) spectroscopic observations . in part",
    "b ) , the choice of the mask manufacturing unit and its handling are outlined",
    "vimos observations will be typically performed in two phases : an observation in imaging mode of the field , in order to get the field object positions , and the spectroscopic observation of an appropriate number of the previously selected objects .",
    "after the imaging observation , but before the spectroscopic one , 4 masks , one for each quadrant , shall be manufactured . during the manufacturing process , the slits corresponding to the objects to be spectroscopically observed will be cut .    before the spectroscopic observations start , all masks to be used during the night",
    "will be loaded into the instrument by putting them into an appropriate container ( instrument cabinet ) .",
    "the instrument cabinets will be brought back and forth from the instrument to the mask manufacturing building , where the laser cutting machine will be installed , together with its own control devices .",
    "the mask preparation software shall perform the selection of the objects to be spectroscopically observed , the slit positioning , the transformation from astronomical to laser machine coordinates and will interact with mmu control software .    mps is divided into two parts : mps - p2pp ( phase 2 proposal preparation ) , as it is tied with p2pp , and mps - iws ( instrument workstation ) , as it shall run exclusively on the iws in paranal .",
    "mps - p2pp provides the astronomer with tools for the selection of the objects to be spectroscopically observed and an algorithm for the slit positioning in such a way as to get the most effective solution in terms of number of spectra per field .",
    "slit dimensions and positions will be stored in aperture definition files .",
    "adfs will be included in the appropriate observation block during the spectroscopic p2pp phase .",
    "when adfs get in paranal , eso observation handling system will extract the adfs from observations blocks and pass them to mps - iws for mask manufacturing    mps - iws is responsible for converting slit coordinates from astronomical ( ra & dec ) to manufacturing machine coordinates , assigning a code identification for each mask to be manufactured , sending such files to the mask manufacturing control unit ( mask manufacturing order ) , and receiving acknowledge when the masks have been completed and stored ( mask manufacturing report ) . such information will be passed back to ohs , and from that moment the observation can be scheduled for the following nights .",
    "when a spectroscopic observation is scheduled , ohs sends to mps - iws a mask insertion order , i.e. the list of masks to be put into the instrument cabinet for subsequent nights .",
    "such order is reformatted and passed on to mmcu .",
    "the acknowledge from mmcu is passed backed to ohs under the form of a mask insertion report .",
    "only observations for which the corresponding masks exist and are in the instrument cabinet can be performed    at the moment of observation , mask alignment onto the focal plane is performed by a procedure implemented at observation template level .",
    "the mask is put in the focal plane , then a short exposure without dispersion element is performed .",
    "the 4 masks have some holes , corresponding to `` reference objects '' , of pre - defined dimension ( at moment 5x5 arcsec are foreseen ) . given the vlt pointing accuracy , in the resulting image",
    "the reference objects should fall within the holes , though not necessarily centered .",
    "an iterative procedure takes care of computing the pointing shift needed to center reference objects in reference holes .",
    "such procedure can be either manual , or even fully automatic .",
    "when the reference objects are centered in their respective holes , within a predefined accuracy , the dispersion element is introduced and the observation can start .    as a last step , when an observation has been successfully carried out ( the quality control eso pipeline is in charge of assuring that ) , ohs sends to mps - iws a mask discarding order , which is re - sent to mmcu .",
    "once a mask has been discarded , also the ob can be deleted .    in figure 1 , the data flow in the case of manufacturing is schematized .    here , we will not further deal with mps - iws , as it basically acts as a link bewteen eso ohs and the pc - based machine control computers .",
    "in designing mps - p2pp , we have taken into considerations the following user s requirements    @xmath3 to exploit multiplexing capabilities , an automatized way for choosing objects must be provided    @xmath3 manual choice of some particularly interesting objects must be possible    @xmath3 manual exclusion of particular objects must be possible    @xmath3 manual definition of arbitrary shaped slits ( i.e. curved slits ) must be implemented    @xmath3 interactions must rely on a user friendly graphical user interface    @xmath3 choice of objects starting from a user provided catalogue ( including at least right ascension and declination for each object ) must be possible    on top of these , the observation procedure outlined above , also requires    @xmath3 manual choice of reference objects to be used for mask alignment onto the focal plane    the need of a graphical interaction has led us to adopt one of the available display systems .",
    "our first choice has been midas , which gives the advantage of supporting table handling .",
    "a working version of mps - p2pp midas based is already available . to keep similarity with fors fims package , though",
    ", we are now implementing a second version of mps - p2pp , based on skycat for the image display and catalogue overlay features    the algorithm for automatic object choice has been totally developed in house .",
    "spoc is a c program which , taking into account the initial list of user s preferred objects , the intrument constraints and the constraints given by the wish of having well reduced data , finds the best solution in terms of number of slits .",
    "instrument constraints are mainly given by the spectrum length , coupled with ccd size .",
    "slits must be positioned so that the dispersed spectrum falls entirely within the detector . to ease data reduction , we have to allow for a certain amount of sky on each side of the object falling in the slit , we must avoid spectra superposition and we must take into account spectra higher order superpositions . in fig .",
    "2 we illustrate different configurations    panel a ) is a representaion of a possible `` strip '' of 4 slits .",
    "slit length is tuned so that the largest object is well contained within the slit and a sky region on each side is allowed for . in figure 2b , we show how to accomodate spectra in the fov .",
    "each slit ( black thick line ) produces a first order spectrum centred in y around the slit , a zero order spectrum of few pixels right below , and a second order spectrum above .",
    "the zero order consits in a very high , narrow ( in the y direction ) peak .",
    "its contamination to underlying spectra can not be removed , but , being not larger than few pixels , good reduction can be achieved by simply masking out the affected pixels .",
    "contribution of the second order is around only 10% , but it is spread over @xmath4 600 pixels along the dispersion direction . therefore contamination by second order must be handled carefully ( see below ) . making use of the fact that the fov is 2048x2340 pixels , but",
    "the ccd s are 2048x4096 pixels , we can place slits over the full 8 arcminutes in y. in figure 2 c , d , e , f we illustrate what are the contraints to be taken into account when placing slits . in 2c ,",
    "two slits of the same width are placed , not aligned in y direction . in this case",
    "the second order of the first slit ( starting from the bottom ) partially covers the first order of the following slit .",
    "such a situation makes background subtraction very difficult . in the second case ( 2d )",
    ", we have two slits aligned in y , but the first being shorter than the second .",
    "also in this case , good quality background subtraction from the second spectrum is impossible . in 2e",
    "we show two slits of same length , aligned , but with the first order of the first one partially superimposed to the first order of the second one .",
    "it is obvious that data will be of bad quality .",
    "finally , in 2f , we put two slits of same length , aligned one to the other , and positioned so that the second order of the first slit totally covers the first order of the second slit . in this case background subtraction",
    "is still possible with reasonable results . to summarize",
    ", spoc must take into account the following constraints : along a vertical `` strip '' slits must be aligned and with same length .",
    "their distance in y must be so that the first order spectra do not fall one onto the other .",
    "when designing spoc , great attention must be paied to the possible biases an automatization algorithm can introduce in observations .",
    "a first bias is intrinsic to any mos instrument : to allow for multiplexing , slits will have the tendency to align themselves in horizontal bands .",
    "but there are two more biases which can be easily introduced : if the algorithm starts its work always from one point ( e.g. top left ) then more slits will be placed there with respect to other parts of fov , and , secondly , if the only criterium is to maximize the number of objects , and the slit length is tuned on object size , smaller ( i.e. fainter ) objects will be privileged .",
    "given all what above stated , we can now choose the algorithm .",
    "if we divide each quadrant into subsequent vertical `` strips '' each strip being as large as the longest possible slit , then this becomes a purely combinational problems .",
    "taking into account all possibilities sums up to @xmath5 different combinations to be computed to find the best one .",
    "a simplification can be introduced by applying the same criteria as in the well known travelling salesman problem , i.e. consider only the most probable solutions . for each x ( spatial ) position",
    ", we can vary the strip width from a minimum ( given by the space we allow for sky ) and a reasonable maximum ( given by the largest object in the field we are interested in ) .",
    "it is easy to show that the function ( number of slits)/(slit width ) vs. the slit width has a maximum for a paricular slit width .",
    "we can compute such a maximum for each x position , and finally find the best combination of strip widths which maximizes the total number of slits .",
    "we have applied spoc to both real data sets , and to artificial ones .",
    "computational time is negligible , being around 2 seconds on a sun ultra sparc 5 for one quadrant .",
    "apart from the intrinsic mos bias , we have found that there is still a tendency to privilege smaller objects with respect to bigger ones . to overcome this ,",
    "we have introduced the possibility of ignoring the object size to place slits in a strip , and introducing it only when the maximum number of objects has been placed in a strip .",
    "the optimization in this case decreases by about 10% the maximum number of slits , with the advantage that diameter and magnitude distributions of the input catalogue and of the observed objects are now statistically indistinguishable .",
    "both possibilities ( full optimization , slightly biased and unbiased lower optimization ) will be offered to the user .    in fig .",
    "3 we show the results obtained by applying spoc to a simultaed catalogue . the black line represents the input catalogue , and the grey line the distributions obtained with spoc ( fully optimized in the left panels , unbiased in the right panels ) .",
    "panels a and b clearly show that the revised version is unbiased against object size .",
    "the difference in terms of number of objects is 5%"
  ],
  "abstract_text": [
    "<S> vimos and nirmos are two multi object spectrographs being developed for the vlt . </S>",
    "<S> their main scientific characteristic is the high multiplexing capability , allowing to obtain up to 800 spectra per exposure . to achieve such a high efficiency , a number of dedicated tools are necessary , from software to hardware . in part </S>",
    "<S> a ) , we describe the software tools which will be provided to successful proponents to prepare observations . </S>",
    "<S> paper b ) will deal with the technical aspects of mask manufacturing    # 1 # 2 _ mem .  </S>",
    "<S> soc .  </S>",
    "<S> astron .  it . _ * # 1 * , # 2 # 1 # 2 _ the messenger _ * # 1 * , # 2 # 1 # 2 _ astron . nach . _ * # 1 * , # 2 # 1 # 2 _ astron . </S>",
    "<S> astrophys . _ * # 1 * , # 2 # 1 # 2 _ astron . </S>",
    "<S> astrophys . </S>",
    "<S> lett . _ * # 1 * , l#2 # 1 # 2 _ astron . </S>",
    "<S> astrophys . rev . _ * # 1 * , # 2 # 1 # 2 _ astron . </S>",
    "<S> astrophys . suppl . </S>",
    "<S> ser . _ * # 1 * , # 2 # 1 # 2 _ astron . </S>",
    "<S> j. _ * # 1 * , # 2 # 1 # 2 _ ann . </S>",
    "<S> rev . </S>",
    "<S> astron . </S>",
    "<S> astrophys . _ * # 1 * , # 2 # 1 # 2 _ astrophys . </S>",
    "<S> j. _ * # 1 * , # 2 # 1 # 2 _ astrophys . </S>",
    "<S> j. lett . </S>",
    "<S> _ * # 1 * , l#2 # 1 # 2 _ astrophys . </S>",
    "<S> j. suppl . _ * # 1 * , # 2 # 1 # 2 _ astrophys . </S>",
    "<S> space sci . </S>",
    "<S> _ * # 1 * , # 2 # 1 # 2 _ adv . </S>",
    "<S> space res . </S>",
    "<S> _ * # 1 * , # 2 # 1 # 2 _ bull . </S>",
    "<S> astron . </S>",
    "<S> inst . </S>",
    "<S> czechosl . _ * # 1 * , # 2 # 1 # 2 _ j. quant . </S>",
    "<S> spectrosc . </S>",
    "<S> radiat . </S>",
    "<S> transfer _ * # 1 * , # 2 # 1 # 2 _ mon . not . </S>",
    "<S> r. astr . </S>",
    "<S> soc . _ * # 1 * , # 2 # 1 # 2 _ mem . </S>",
    "<S> r. astr . </S>",
    "<S> soc . _ * # 1 * , # 2 # 1 # 2 _ phys . </S>",
    "<S> lett . </S>",
    "<S> rev . _ * # 1 * , # 2 # 1 # 2 _ publ . </S>",
    "<S> astron . </S>",
    "<S> . japan _ * # 1 * , # 2 # 1 # 2 _ publ . </S>",
    "<S> astr . </S>",
    "<S> soc . </S>",
    "<S> pacific _ * # 1 * , # 2 # 1 # 2 _ nature _ * # 1 * , # 2 epsf.sty </S>"
  ]
}