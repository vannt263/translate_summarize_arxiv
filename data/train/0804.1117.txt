{
  "article_text": [
    "it is well - known that due to the fading effect , the transmission over wireless channels suffers from severe attenuation in signal strength .",
    "performance of wireless communication is much worse than that of wired communication . for the simplest point - to - point communication system , which is composed of one transmitter and one receiver only",
    ", the use of multiple antennas can improve the capacity and reliability .",
    "space - time coding and beamforming are among the most successful techniques developed for multiple - antenna systems during the last decades @xcite . however , in many situations , due to the limited size and processing power , it is not practical for some users , especially small wireless mobile devices , to implement multiple antennas . thus , recently , wireless network communication is attracting more and more attention . a large amount of effort has been given to improve the communication by having different users in a network cooperate .",
    "this improvement is conventionally addressed as cooperative diversity and the techniques cooperative schemes .",
    "many cooperative schemes have been proposed in literature @xcite .",
    "some assume channel information at the receiver but not the transmitter and relays , for example , the noncoherent amplify - and - forward protocol in @xcite and distributed space - time coding in @xcite .",
    "some assume channel information at the receiving side of each transmission , for example , the decode - and - forward protocol in @xcite and the coded - cooperation in @xcite .",
    "some assume no channel information at any node , for example , the differential transmission schemes proposed independently in @xcite .",
    "the coherent amplify - and - forward scheme in @xcite assumes full channel information at both relays and the receiver . but only channel direction information is used at relays . in all these cooperative schemes ,",
    "the relays always cooperate on their highest powers .",
    "none of the above pioneer work allow relays to adjust their transmit powers adaptively according to channel magnitude information , and this is exactly the concern of this paper .",
    "there have been several papers on relay networks with adaptive power control . in @xcite , outage capacity of networks with a single relay and",
    "perfect channel information at all nodes were analyzed .",
    "both work assume a total power constraint on the relay and the transmitter .",
    "a decode - and - forward protocol is used at the relay , which results in a binary power allocation between the relay and the transmitter . in @xcite ,",
    "performance of networks with multiple amplify - and - forward relays and an aggregate power constraint was analyzed .",
    "a distributive scheme for the optimal power allocation is proposed , in which each relay only needs to know its own channels and a real number that can be broadcasted by the receiver .",
    "another related work on networks with one and two amplify - and - forward relays can be found in @xcite . in @xcite , outage minimization of single - relay networks with limited channel - information feedback",
    "is performed .",
    "it is assumed that there is a long - term power constraint on the total power of the transmitter and the relay . in this paper , we consider networks with a general number of amplify - and - forward relays and we assume a separate power constraint on each relay and the transmitter . due to the difference in the power assumptions , compared to @xcite , analysis of this new model is more difficult and totally different results are obtained .    for multiple - antenna systems ,",
    "when there is no channel information at the transmitter , space - time coding can achieve full diversity @xcite . if the transmitter has perfect or partial channel information , performance can be further improved through beamforming since it takes advantage of the channel information ( both direction and strength ) at the transmit side to obtain higher receive snr @xcite . with perfect channel information or high quality channel information feedback from the receiver at the transmitter , one - dimensional beamforming",
    "is proved optimal @xcite .",
    "the more practical multiple - antenna systems with partial channel information at the transmitter , channel statistics or quantized instantaneous channel information , are also analyzed extensively @xcite . in many situations , appropriate combination of beamforming and space - time coding",
    "outperforms either one of the two schemes alone @xcite . in this paper",
    ", we will see similar performance improvement in networks using network beamforming over distributed space - time coding and other existing schemes such as best - relay selection and coherent amplify - and - forward .",
    "we consider networks with one pair of transmitter and receiver but multiple relays .",
    "the receiver knows all channels and every relay knows its own channels perfectly . in networks with a direct link ( dl ) between the transmitter and the receiver",
    ", we also assume that the transmitter knows the dl fully .",
    "a two - step amplify - and - forward protocol is used , where in the first step , the transmitter sends information and in the second step , the transmitter and relays , if there is a dl , transmit .",
    "we first solve the power control problem for networks with no dl analytically .",
    "the exact solution can be obtained with a complexity that is linear in the number of relays .",
    "then , to perform network beamforming , we propose two distributive strategies in which a relay needs only its own channel information and a low - rate broadcast from the receiver .",
    "simulation shows that the optimal power control or network beamforming outperforms other existing schemes .",
    "we then consider networks with a dl during the first transmission step , the second transmission step , and both .",
    "for the first case , the power control problem is proved to be the same as the one in networks without the dl . for the other two cases , recursive",
    "numerical algorithms are provided .",
    "simulation shows that they have much better performance compared to networks without power control .",
    "we should clarify that only amplify - and - forward is considered here . for decode - and - forward ,",
    "the result may be different and it depends on the details of the coding schemes .",
    "the paper is organized as follows . in the next section ,",
    "the relay network model and the main problem are introduced .",
    "section [ sec - pl ] works on the power control problem in relay networks with no dl and section [ sec - dl ] considers networks with a dl .",
    "section [ sec - conclusion ] contains the conclusion and several future directions .",
    "consider a relay network with one transmit - and - receive pair and @xmath0 relays as depicted in fig .",
    "[ fig - network ] .",
    "every relay has only one single antenna which can be used for both transmission and reception .",
    "denote the channel from the transmitter to the @xmath1th relay as @xmath2 and the channel from the @xmath1th relay to the receiver as @xmath3 .",
    "if the dl between the transmitter and the receiver exists , we denote it as @xmath4 .",
    "we assume that the transmitter knows @xmath4 , the @xmath1th relay knows its own channels @xmath2 and @xmath3 , and the receiver knows all channels @xmath5 and @xmath6 .",
    "the channels can have both fading and path - loss effects .",
    "actually , our results are valid for any channel statistics .",
    "we assume that for each transmission , the powers used at the transmitter and the @xmath1th relay are no larger than @xmath7 and @xmath8 , respectively .",
    "note that in this paper , only short - term power constraint is considered , that is , there is an upper bound on the average transmit power of each node for each transmission .",
    "a node can not save its power to favor transmissions with better channel realizations .",
    "we use a two - step amplify - and - forward protocol . during the first step",
    ", the transmitter sends @xmath9 . the information symbol @xmath10 is selected randomly from the codebook @xmath11 .",
    "if we normalize it as @xmath12 , the average power used at the transmitter is @xmath13 .",
    "the @xmath1th relay and the receiver , if a dl exists during the first step , receive @xmath14 respectively . @xmath15 and @xmath16 are the noises at the @xmath1th relay and the receiver at step 1 .",
    "we assume that they are @xmath17 . during the second step",
    ", the transmitter sends @xmath18 , if a dl exists during this step . at the same time",
    ", the @xmath1th relay sends @xmath19 the average transmit power of the @xmath1th relay can be calculated to be @xmath20 .",
    "if we assume that @xmath4 keeps constant for the two steps , the receiver gets @xmath21 @xmath22 is the noise at the receiver at step 2 , which is also assumed to be @xmath17 .",
    "note that if the transmitter sends during both steps , we assume that the total average power it uses is no larger than @xmath7 . with this ,",
    "the total average power in transmitting one symbol is no larger than @xmath23 .",
    "clearly , the coefficients @xmath24 are introduced in the model for power control .",
    "the power constraints at the transmitter and relays require that @xmath25 and @xmath26 .",
    "our network beamforming design is thus the design of @xmath27 and @xmath28 , such that the error rate of the network is the smallest .",
    "this is equivalent to maximize the receive snr , or the total receive snr of both branches if a dl exists during the first step . from ( [ x2-old ] )",
    ", we can easily prove that an optimal choice of the angles are @xmath29 and @xmath30 .",
    "that is , match filters should be used at relays and the transmitter during the second step to cancel the phases of their channels and form a beam at the receiver .",
    "we thus have @xmath31 what is left is the optimal power control , i.e. , the choice of @xmath32 .",
    "this is also the main contribution of our work .",
    "in this section , we investigate the optimal adaptive power control at the transmitter and relays in networks without a dl .",
    "section [ sec - pl - result ] presents the analytical power control result .",
    "section [ sec - pl - discussion ] comments on the result and gives distributive schemes for the optimal power control .",
    "section [ sec - pl - simulation ] provides simulated performance .      with no dl , we have @xmath33 and @xmath34 . from ( [ x2 ] )",
    ", the receive snr can be calculated to be @xmath35 it is an increasing function of @xmath36 .",
    "therefore , the transmitter should always use its maximal power , i.e. , @xmath37 .",
    "the receive snr is thus : @xmath38    before going into details of the snr optimization , we first introduce some notation to help the presentation .",
    "@xmath39 indicates the inner product .",
    "@xmath40 indicates the 2-norm .",
    "@xmath41 indicates the probability .",
    "@xmath42 denotes the @xmath1th coordinate of vector @xmath43 and @xmath44 denotes the @xmath45-dimensional vector @xmath46^t$ ] , where @xmath47 represents the transpose . if @xmath48 are two @xmath0-dimensional vectors , @xmath49 means @xmath50 for all @xmath51 .",
    "@xmath52 is the @xmath0-dimensional vector with all zero entries .",
    "denote the set @xmath53 or equivalently , @xmath54 for @xmath51 , as @xmath55 .",
    "for @xmath56 , denote the set @xmath57 as @xmath58 , where @xmath59 is a @xmath45-subset of @xmath60 .",
    "define @xmath61 , \\bb=\\left[\\begin{array}{c } \\frac{|f_1g_1|\\sqrt{p_1}}{\\sqrt{1+|f_1|^2p_0 } } \\\\ \\vdots \\\\",
    "\\frac{|f_rg_r|\\sqrt{p_r}}{\\sqrt{1+|f_r|^2p_0 } } \\end{array } \\right ] ,   \\ba=\\left[\\begin{array}{c } \\frac{|g_1|\\sqrt{p_1}}{\\sqrt{1+|f_1|^2p_0 } } \\\\ \\vdots \\\\ \\frac{|g_r|\\sqrt{p_r}}{\\sqrt{1+|f_r|^2p_0}}\\end{array}\\right ] ,   \\hspace{3 mm } \\mbox{and } \\hspace{3 mm } a=\\diag\\{\\ba\\},\\ ] ] where @xmath62 indicates the diagonal matrix whose @xmath1th diagonal entry is @xmath42 . with the transformation @xmath63 , or equivalently , @xmath64 , we have @xmath65 where @xmath66 \\left[\\begin{array}{ccc}\\frac{|f_1g_1|\\sqrt{p_1}}{\\sqrt{1+|f_1|^2p_0 } } \\\\ \\vdots \\\\ \\frac{|f_rg_r|\\sqrt{p_r}}{\\sqrt{1+|f_r|^2p_0}}\\end{array}\\right ] = \\left[\\begin{array}{ccc}|f_1| \\\\ \\vdots",
    "\\\\ |f_r| \\end{array}\\right].\\ ] ] the receive snr optimization problem is thus equivalent to @xmath67 the difficulty of the problem lies in the shape of the feasible set .",
    "if @xmath68 is constrained on a hypersphere , that is , @xmath69 , the solution is obvious at least geometrically . given that @xmath69 , @xmath70 where @xmath71 is the angle between @xmath72 and @xmath68 .",
    "the optimal solution should be the vector which has the smallest angle with @xmath72 .",
    "thus , we decompose ( [ opt - problem ] ) as @xmath73 since @xmath74 and @xmath75 , we assume that @xmath76 and @xmath77 . define @xmath78 for @xmath51 and , for the sake of presentation , define @xmath79 .",
    "order @xmath80 as @xmath81 @xmath82 is thus an ordering of @xmath83 and @xmath84 .",
    "define @xmath85 since @xmath86 , we have @xmath87 for @xmath88 .",
    "thus , the feasible interval of the radius , @xmath89 $ ] , can be decomposed into the following @xmath0 intervals : @xmath90=[r_0,r_1]\\cup [ r_1,r_2]\\cup \\cdots\\cup [ r_{r-2},r_{r-1}]\\cup [ r_{r-1},r_r].\\ ] ] we denote @xmath91 $ ] for @xmath92 .",
    "thus , ( [ opt - problem-1 ] ) is equivalent to @xmath93 we have decomposed the optimization problem into @xmath0 subproblems .",
    "we now work on the @xmath1th subproblem : @xmath94 denote the solution of the inner optimization problem , @xmath95 as @xmath96 .",
    "we have the following two lemmas .",
    "@xmath97 for @xmath98 .",
    "[ lemma - edge ]    we prove this lemma by contradiction .",
    "assume that @xmath99 for some @xmath100 .",
    "we first show that there exists an @xmath101 such that @xmath102 .",
    "assume that @xmath103 for all @xmath104 .",
    "we have @xmath105 .",
    "thus , @xmath106 this contradicts @xmath107 .",
    "thus , there exists an @xmath101 such that @xmath102 .",
    "define another vector @xmath108 as @xmath109 , @xmath110 , and @xmath111 for @xmath112 , where @xmath113 since we have assumed that @xmath99 and have just proved that @xmath102 , such @xmath114 is achievable . to contradict the assumption that @xmath96 is the optimal , it is enough to prove the following two items :    1 .",
    "@xmath108 is a feasible point : @xmath115 and @xmath116 , 2 .",
    "@xmath117 .    from the definition of @xmath108 ,",
    "we have @xmath118 since @xmath119 , we have @xmath120 .",
    "also , since @xmath121 , we can easily prove that @xmath122 and @xmath123 .",
    "thus , @xmath116 . the first item has been proved . for the second item , since @xmath124 , we have @xmath125    @xmath126 for @xmath127 . [ lemma - scale ]    from lemma [ lemma - edge ] , @xmath97 for @xmath98 .",
    "thus , ( [ inner - problem ] ) can be written as @xmath128 define @xmath129 .",
    "it is obvious that @xmath130 for all @xmath131 .",
    "in other words , to maximize the inner product , @xmath132 should have the same direction as @xmath133 .",
    "thus , we only need to show that this direction is feasible for @xmath134 .",
    "this is equivalent to show that @xmath135 for any @xmath134 .",
    "we can easily prove that @xmath136 where @xmath137 $ ] for @xmath92 .",
    "thus , for any @xmath138 and @xmath139 , we have @xmath140 .",
    "hence , @xmath135 .",
    "combining lemma [ lemma - edge ] and lemma [ lemma - scale ] , we have @xmath141 and thus @xmath142    we have solved the inner optimization of subproblem @xmath1 .",
    "the solution of the @xmath0 subproblems can thus be obtained .    for @xmath51 ,",
    "define @xmath143 the solution of subproblem @xmath144 is @xmath145 .",
    "the solution of subproblem @xmath1 for @xmath146 is @xmath147 that is defined as @xmath148 [ lemma - problem - i ]    from ( [ inner - solution ] ) , subproblem @xmath1 is equivalent to the following 1-dimensional optimization problem : @xmath149    when @xmath150 , ( [ decom - problem-1 ] ) is equivalent to @xmath151 .",
    "since @xmath152 is an increasing function of @xmath153 , its maximum is at @xmath154 .    for @xmath146 ,",
    "define @xmath155 we have , @xmath156 thus , @xmath157 if @xmath158 and @xmath159 if @xmath160 .",
    "so , if @xmath161 , the optimal solution is reached at @xmath162 .",
    "otherwise , the optimal solution is reached at @xmath163 . from ( [ zi ] ) , subproblem @xmath1",
    "is solved at @xmath147 as defined in ( [ sub - solution ] ) .",
    "now , we can work on the relay power control problem presented in ( [ opt - problem ] ) .",
    "define @xmath164 as @xmath165 the solution of the snr optimization is @xmath166 , where @xmath167 is the smallest @xmath1 such that @xmath168 .",
    "[ thm - main ]    first , since @xmath79 , we have @xmath169 .",
    "thus , @xmath167 exists .",
    "also , since @xmath170 , and @xmath171 decreases with @xmath172 , we have @xmath173 for @xmath174 .",
    "this means that @xmath166 is in the feasible region of the optimization problem .",
    "denote @xmath175 note that @xmath176 .",
    "since @xmath177 , @xmath178 is also a feasible point of subproblem 1 .",
    "thus , @xmath179 due the optimality of @xmath180 in subproblem 1 .",
    "this means that there is no need to consider subproblem 0 . for @xmath181 , if @xmath182 , @xmath183 and @xmath184 since @xmath185 , @xmath147 is a feasible point of subproblem @xmath186 .",
    "thus , @xmath187 due the optimality of @xmath188 in subproblem @xmath186 .",
    "this means that there is no need to consider subproblem @xmath186 .",
    "thus , we only need to check those @xmath147 s with @xmath168 , and find the one that results in the largest receive snr . from the definition in ( [ sub - solution - x ] ) , this is the same as to check those @xmath164 s with @xmath168 .",
    "now , we prove that @xmath189 if @xmath190 . first , from @xmath190 , we have @xmath191 since @xmath192 , we can prove easily that @xmath193 thus , we only need to check those @xmath164 s for @xmath194 and find the one causing the largest receive snr . from previous discussion , @xmath195 .    define @xmath196 . now , we prove that @xmath197 for @xmath194 .",
    "from the proof of lemma 3 , we have @xmath198 thus , the optimal power control vector that maximizes the receive snr is @xmath166 .",
    "it is natural to expect the power control at relays to undergo an on - or - off scenario : a relay uses its maximum power if its channels are good enough and otherwise not to cooperate at all .",
    "our result shows otherwise .",
    "the optimal power used at a relay can be any value between 0 and its maximal power .",
    "in many situations , a relay should use partial of its power , whose value is determined not only by its own channels but all others as well .",
    "this is because every relay has two effects on the transmission .",
    "for one , it helps the transmission by forwarding the information , while for the other , it harms the transmission by forwarding noise as well .",
    "its transmit power has a non - linear effect on the powers of both the signal and the noise , which makes the optimization solution not an on - or - off one , not a decoupled one , and , in general , not even a differentiable function of channel coefficients .    as shown in theorem [ thm - main ] and lemma [ lemma - problem - i ] , the fraction of power used at relay @xmath172 satisfies @xmath199 for @xmath200 and @xmath201 for @xmath202 .",
    "thus , the @xmath167 relays whose @xmath203 s are the largest use their maximal powers . since @xmath204 , there is at least one relay that uses its maximum power .",
    "this tells us that the relay with the largest @xmath203 always uses its maximal power .",
    "the remaining @xmath205 relays whose @xmath203 s are smaller only use parts of their powers . for @xmath202 ,",
    "the power used at the @xmath172th relay is @xmath206 , which is proportional to @xmath207 since @xmath208 is a constant for each channel realization .",
    "although @xmath209 does not appear explicitly in the formula , it affects the decision of whether the @xmath172th relay should use its maximal power . actually , in determining whether a relay should use its maximal power , not only do the channel coefficients and power constraint at this relay account , but also all other channel coefficients and power constraints .",
    "the power constraint of the transmitter , @xmath7 , plays a roll as well .",
    "due to these special properties of the optimal power control solution , it can be implemented distributively with each relay knowing only its own channel information . in the following ,",
    "we propose two distributed strategies .",
    "one is for networks with a small number of relays , and the other is more economical in networks with a large number of relays .",
    "the receiver , which knows all channels , can solve the power control problem .",
    "when the number of relays , @xmath0 , is small , the receiver broadcasts the indexes of the relays that use their full powers and the coefficient @xmath208 .",
    "if relay @xmath172 hears its own index from the receiver , it will use its maximal power to transmit during the second step .",
    "otherwise , it will use power @xmath210 .",
    "the bits needed for the feedback is @xmath211 where @xmath167 is the number of relays that use their maximal powers and @xmath212 is the number of bits needed in broadcasting the real number @xmath208 . instead , the receiver can also broadcast two real numbers : @xmath208 and a real number @xmath213 that satisfies @xmath214 .",
    "relay @xmath172 calculates its own @xmath80 .",
    "if @xmath215 , relay @xmath172 uses its maximal power . otherwise , it uses power @xmath210 .",
    "the number of bits needed for the feedback is @xmath216 .",
    "thus , when @xmath0 is large , this strategy needs less bits of feedback compared to the first one .",
    "networks with an aggregate power constraint @xmath217 on relays were analyzed in @xcite . in this case , with the same notation in section [ sec - pl - result ] , @xmath218 and @xmath219 .",
    "the optimal solution is @xmath220 @xmath221 is a function of its own channels @xmath222 only and an extra coefficient @xmath223 , which is the same for all relays .",
    "therefore , this power allocation can be done distributively with the extra knowledge of one single coefficient @xmath224 , which can be broadcasted by the receiver . in our case",
    ", every relay has a separate power constraint .",
    "this is a more practical assumption in sensor networks since every sensor or wireless device has its own battery power limit .",
    "the power control solutions of the two cases are totally different .",
    "if relay selection is used and only one relay is allowed to cooperate , it can be proved easily that we should choose the relay with the highest @xmath225 we call @xmath226 the relay selection function since a relay with a larger @xmath227 results in a higher receive snr . while all relays are allowed to cooperate , the concepts of the best relay and relay selection function are not clear .",
    "since the power control problem is a coupled one , it is hard to measure how much contribution a relay has . as discussed before , in network beamforming",
    ", a relay with a larger @xmath80 does not necessarily use a larger power or has more contribution .",
    "but we can conclude that if @xmath228 , the fraction of power used at relay @xmath45 , @xmath229 , is no less than the fraction of power used at relay @xmath230 , @xmath231 .",
    "it is worth to mention that in network beamforming , relays with larger enough @xmath203 s use their maximal powers no matter what their maximal powers are .",
    "actually , it is not hard to see that if at one time channels of all relays are _ good _ , every relay should use its maximum power .      in this section ,",
    "we show simulated performance of network beamforming and compare it with performance of other existing schemes .",
    "figures [ fig - r2l2 ] and [ fig - r3l2 ] show performance of networks with rayleigh fading channels and the same power constraint on the transmitter and relays . in other words , @xmath232 are @xmath17 and @xmath233 .",
    "the horizontal axis of the figures indicates @xmath217 . in fig .",
    "[ fig - r2l2 ] , simulated block error rates of network beamforming with optimal power control are compared to those of best - relay selection , larsson s scheme in @xcite with total relay power @xmath217 , distributed space - time coding in @xcite , and amplify - and - forward without power control ( every relay uses its maximal power ) in a 2-relay network . the information symbol @xmath10 is modulated as bpsk .",
    "we can see that network beamforming with optimal power control outperforms all other schemes .",
    "it is about 0.5db and 2db better than larsson s scheme and best - relay selection , respectively . with perfect channel knowledge at relays , it is @xmath234db better than alamouti distributed space - time coding , which needs no channel information at relays .",
    "amplify - and - forward with no power control only achieves diversity 1 , distributed space - time coding achieves a diversity slightly less than two , while best - relay selection , network beamforming , and larsson s scheme achieve diversity 2 .",
    "[ fig - r3l2 ] shows simulated performance of a 3-relay network under different schemes .",
    "similar diversity results are obtained .",
    "but for the 3-relay case , network beamforming is about 1.5db and 3.5db better than larsson s scheme and best - relay selection , respectively .    in fig .",
    "[ fig - r2l2-dp ] , we show performance of a 2-relay network in which @xmath235 and @xmath236 . that is , the transmitter and the first relay have the same power constraint while the second relay has only half the power of the first relay .",
    "the channels are assumed to be rayleigh fading channels . in fig .",
    "[ fig - r2l2-distance ] , we show performance of a 2-relay network whose channels have both fading and path - loss effects .",
    "we assume that the distance between the first relay and the transmitter / receiver is 1 , while the distance between the second relay and the transmitter / receiver is 2 .",
    "the path - loss exponent @xcite is assume to be 2 .",
    "we also assume that the transmitter and relays have the same power constraint , i.e. , @xmath237 . in both cases ,",
    "distributed space - time coding does not apply , and larsson s scheme applies for the second case only .",
    "so , we compare network beamforming with best - relay selection and amplify - and - forward with no power control only .",
    "performance of larsson s scheme is shown in fig .",
    "[ fig - r2l2-distance ] as well .",
    "both figures show the superiority of network beamforming to other schemes .",
    "the previous section is on power control of relay networks with no dl between the transmitter and receiver . in this section , we discuss networks with a dl . as in @xcite , there are several scenarios , which we discuss separately .      in this subsection , we consider relay networks with a dl during the first step only .",
    "this happens when the receiver knows that the transmitter is in vicinity and listens during the first step , while the transmitter is not aware of the dl or is unwilling to do the optimization because of its power and delay constraints .",
    "it can also happen when the transmitter is in the listening or sleeping mode during the second step .",
    "in this case , @xmath33 . from ( [ x1 ] ) and ( [ x2 ] ) ,",
    "the system equations can be written as @xmath238 = \\left[\\begin{array}{c } \\alpha_0\\sqrt{p_0}f_0 \\\\",
    "\\alpha_0\\sqrt{p_0}\\sum_{i=1}^r \\frac{\\alpha_i|f_ig_i|\\sqrt{p_i}}{\\sqrt{1+\\alpha_0 ^ 2|f_i|^2p_0 } } \\end{array}\\right]s + \\left[\\begin{array}{c } w_1 \\\\ w_2+\\sum_{i=1}^r",
    "\\frac{\\alpha_i|g_i|\\sqrt{p_i}}{\\sqrt{1+\\alpha_0 ^ 2|f_i|^2p_0}}e^{-j\\arg f_i}v_i \\end{array}\\right].\\ ] ] using maximum ratio combining , the ml decoding is @xmath239 the optimization problem is thus the maximization of the total receive snr of both transmission branches , which equals @xmath240 first , both terms in the snr formula increase as @xmath36 increases .",
    "thus , @xmath37 , i.e. , the transmitter should use its maximum power .",
    "the snr optimization problem becomes the one in section [ sec - pl - result ] , in which there is no dl .",
    "therefore , the power control of networks with a dl during the first step only is exactly the same as that of networks without a dl .",
    "this result is intuitive . since with a dl during the first step only , operations at both the transmitter and relays keep the same as networks without the dl .",
    "the only difference is that the receiver obtains some extra information from the transmitter during the first step , and it can use the information to improve the performance without any extra cost . for the single - relay case , it can be proved easily that to maximize the receive snr , the relay should use its maximal power as well , that is , @xmath241 .      in this subsection ,",
    "we consider relay networks with a dl during the second step only .",
    "this happens when the transmitter knows that the receiver is at vicinity and determines to do more optimization to allocate its power between the two transmission steps .",
    "however , the receiver is unaware of the dl and is not listening during the first step .",
    "it can also happen when the receiver is in transmitting or sleeping mode during the first step .",
    "in this case , @xmath34 and @xmath242 is given in ( [ x2 ] ) .",
    "the receive snr can be calculated to be @xmath243 first , we show that @xmath244 should take its maximal value 1 , i.e. , the transmitter should use all its power .",
    "assume that @xmath245 is the optimal solution .",
    "define @xmath246 .",
    "we have @xmath247 . therefore , @xmath248 .",
    "this contradicts the assumption that @xmath249 is optimal .",
    "define @xmath250 the receiver snr can be calculated to be @xmath251 for any fixed @xmath36 , we can optimize @xmath252 following the analysis in section [ sec - pl - result ] .",
    "the following theorem can be proved .",
    "define @xmath253 for @xmath88 and @xmath254 . for any fixed @xmath255 , order @xmath256 as @xmath257 for @xmath258 , let @xmath259 and define @xmath260",
    "is defined as @xmath261 the receive snr is maximized at @xmath262 , where @xmath263 is the smallest @xmath1 such that @xmath264 .",
    "[ thm - main - dl-2nd ]    the proof of this theorem follows the one of theorem [ thm - main ] and the lemmas it uses .    as discussed in section [ sec - pl - result ] , for networks with no dl , there is no need to consider the solution of subproblem 0 .",
    "here it is different .",
    "define @xmath265 .",
    "if we denote the solution of subproblem 0 , @xmath266,0_r\\preceq \\hat{\\by}\\preceq\\hat{\\ba } } \\frac{\\left(a+\\langle \\hat{\\bc } , \\hat{\\by}\\rangle\\right)^2}{1+\\|\\hat{\\by}\\|^2}$ ] , as @xmath267 , because of the existence of the dl during the second step , it is possible that @xmath268 . now we discuss the optimization of @xmath36 .",
    "we first consider the case of @xmath255 .",
    "for any given @xmath269^t$ ] , the @xmath36 that maximizes the receive snr satisfies @xmath270 .",
    "thus , the optimal @xmath36 can be found numerically by solving @xmath270 .",
    "it can be proved easily that @xmath271 when @xmath272 and @xmath273 when @xmath274 .",
    "thus , the maximum of @xmath275 is reached inside @xmath276 .",
    "when the power at the transmitter is high ( @xmath277 ) , the receive snr can be approximated by @xmath278 where @xmath279 and @xmath280 .",
    "it can be calculated straightforwardly that for @xmath255 , @xmath281.\\ ] ] and @xmath282 this is a quartic equation of @xmath283 , whose solutions can be calculated analytically .",
    "note that @xmath284 when @xmath272 and @xmath285 when @xmath274 .",
    "thus the maximum of @xmath213 is reached inside @xmath276 .",
    "an approximate solution of @xmath36 can thus be obtained analytically at high transmit powers .",
    "now we consider the cases of @xmath286 and @xmath287 . if @xmath286 , the system degrades to a point - to - point one since only the dl works .",
    "thus , the receive snr is @xmath288 . for @xmath287",
    ", we can obtain the optimal @xmath289 using theorem [ thm - main - dl-2nd ] .",
    "thus , we obtain three sets of @xmath290 and @xmath289 for the three cases : @xmath255 , @xmath286 , and @xmath287 , respectively .",
    "the optimal solution of the system is the set of @xmath36 and @xmath289 corresponding to the largest receive snr .",
    "the power control problem in networks with a dl during the second step only can thus be solved using the following recursive algorithm .",
    "1 .   initialization : set @xmath291 , the @xmath0-dimensional vector of all ones , @xmath292 , and @xmath293 . set the maximal number of iterations @xmath294 and the threshold @xmath295 .",
    "2 .   optimize @xmath36 with @xmath296 .",
    "denote the solution as @xmath297 .",
    "we can either do this numerically or calculate the high snr approximation .",
    "3 .   with @xmath298 ,",
    "find the @xmath289 that maximizes the receive snr using theorem [ thm - main - dl-2nd ] .",
    "denote it as @xmath299 .",
    "calculate @xmath300 .",
    "4 .   set @xmath301 . if @xmath302 and @xmath303 , set @xmath304 , @xmath305 , and go to step 2 .",
    "find the solution of @xmath289 with @xmath287 using theorem [ thm - main - dl-2nd ] .",
    "denote this solution as @xmath306 .",
    "the optimal solution is : @xmath307 .",
    "[ alg - pl - dl-2nd ]    similarly , the distributive strategies proposed in section [ sec - pl - discussion ] can be applied here .      in this subsection",
    ", we consider relay networks with a dl during both the first and the second steps .",
    "this happens when both the transmitter and the receiver know that they are not too far away from each other and decide to communicate during both steps with the help of relays during the second step .    from ( [ x1 ] ) and ( [ x2 ] )",
    ", the system equation can be written as @xmath238 = \\left[\\begin{array}{c } \\alpha_0\\sqrt{p_0}f_0 \\\\",
    "\\beta_0|f_0|+\\alpha_0\\sqrt{p_0}\\sum_{i=1}^r \\frac{\\alpha_i|f_ig_i|\\sqrt{p_i}}{\\sqrt{1+\\alpha_0 ^ 2|f_i|^2p_0 } } \\end{array}\\right]s + \\left[\\begin{array}{c } w_1 \\\\ w_2+\\sum_{i=1}^r \\frac{\\alpha_i|g_i|\\sqrt{p_i}}{\\sqrt{1+\\alpha_0",
    "^ 2|f_i|^2p_0}}e^{-j\\arg f_i}v_i \\end{array}\\right].\\ ] ] similar to the networks discussed in section [ sec - dl-1ststep ] , the maximum ratio combining results in the following ml decoding : @xmath308 the total receive snr of both transmission branches can be calculated to be @xmath309 the same as the networks in section [ sec - dl-2ndstep ] , @xmath244 should take its maximal value , which is 1 .",
    "that is , @xmath310 .",
    "similar to the snr optimization in section [ sec - dl-2ndstep ] , for any given @xmath255 , the snr maximization is the same as the maximization of @xmath275 , which is solved by theorem [ thm - main - dl-2nd ] .",
    "but due to the difference in the receive snr formula , the optimal @xmath36 given @xmath252 is different .",
    "it is the solution of @xmath311 .",
    "when the dl exists during both steps , the case of @xmath286 , whose receive snr is @xmath288 will never outperform the case of @xmath287 , whose receive snr is @xmath312 for some @xmath289 .",
    "thus , the case @xmath286 needs not to be considered .",
    "the power control problem in networks with a dl during both steps can thus be solved using the following recursive algorithm .    1 .",
    "initialization : set @xmath291 , @xmath292 , and @xmath293 . set the maximal number of iterations @xmath294 and the threshold @xmath295 .",
    "2 .   optimize @xmath36 with @xmath296 .",
    "denote the solution as @xmath297 .",
    "we can do this numerically .",
    "3 .   with @xmath298 ,",
    "find the @xmath289 that maximizes @xmath275 using theorem [ thm - main - dl-2nd ] .",
    "denote it as @xmath299 .",
    "calculate @xmath313 .",
    "4 .   set @xmath301 . if @xmath302 and @xmath303 , set @xmath304 , @xmath305 and go to step 2 .",
    "find the solution of @xmath289 with @xmath287 using theorem [ thm - main - dl-2nd ] .",
    "denote this solution as @xmath306 .",
    "the optimal solution is : @xmath314 .",
    "[ alg - pl - dl - both ]    again , the distributive strategies proposed in section [ sec - pl - discussion ] can be applied here .      in this subsection",
    ", we compare single - relay networks in which the power constraints at the transmitter and the relay are same , i.e. , @xmath235 .",
    "the channels are assumed to have both the fading and path - loss effect .",
    "there are four cases : no dl , a dl during the first step only , a dl during the second step only , and a dl during both steps .    in fig .",
    "[ fig - triangle - network ] , we compare networks in which the distance of every link is the same , i.e. , the three nodes are vertexes of an equilateral triangle with unit - length edges as shown in fig .",
    "[ fig - equallacteral - network ] .",
    "we can see that the network with no dl has diversity 1 while networks with a dl and power control achieve diversity 2 .",
    "the network with a dl during the first step performs less than 0.5db better than the network with a dl during the second step only , while the network with a dl during both steps performs the best ( about 1db better than the network with a dl during the first step only ) . to illuminate the effect of power control , we show performance of networks whose transmit power at the relay and transmitter are fixed . for the network with a dl during the first step only",
    ", there is no power control problem since it is optimal for both the transmitter and the relay to use their maximal powers . for the other two cases , we let the transmitter uses half of its power , @xmath315 , to each of the two steps and the relay always uses its maximum power @xmath217 .",
    "we can see that , if the dl only exists during the second step , without power control , the achievable diversity is 1 . at block error rates of @xmath316 and @xmath317",
    ", it performs 3 and 6db worse , respectively . for networks with a dl during both steps , power control results in a 1.5db improvement .    in fig .",
    "[ fig - line - network - e2 ] and [ fig - line - network - e3 ] , we show performance of line networks with path - loss exponents 2 and 3 respectively . as shown in fig .",
    "[ fig - line - network ] , the three nodes are on a line and the relay is in the middle of the transmitter and receiver .",
    "the distance between the transmitter and receiver is assumed to be 2 .",
    "the same phenomenon as in the equilateral triangle networks can be observed .",
    "the network with a dl during both steps performs the best ( about 1db better than the network with a dl during the first step only ) .",
    "the network with a dl at first step only performs slightly better than the one with a dl during the second step only .",
    "but the difference is smaller than that in fig .",
    "[ fig - triangle - network ] .",
    "the performance difference between line networks with and without dls is smaller than those in equilateral triangle networks , and it gets even smaller for larger path - loss exponents .",
    "this is because as the distance between the transmitter and receiver or the path - loss exponent is larger , the quality of the dl is lower .",
    "therefore , the improvement due to this link is smaller . for both cases , power control results in a 1.5db improvement when the dl link exists for both steps and a higher diversity when the dl exists for the second step only .",
    "then we work on the random network in fig .",
    "[ fig - random - network ] , in which the relay locates randomly and uniformly within a circle in the middle of the transmitter and the receiver .",
    "the distance between the transmitter and the receiver is assumed to be 2 .",
    "the radius of the circle is denoted as @xmath318 .",
    "we assume that @xmath319 .",
    "this is a reasonable model for ad hoc wireless networks since if communications between two nodes is allowed to be helped by one other relay , one should choose a relay that is around the middle of the two nodes .",
    "in other words , the distance between the relay and the transmitter or receiver should be shorter than that between the transmitter and receiver .",
    "we work out the geometry first . as in fig .",
    "[ fig - random - network ] , we denote the positions of the transmitter , the receiver , the relay , and the middle point of the transmitter and the receiver as @xmath320 , and @xmath321 , respectively .",
    "denote the angle of @xmath322 and @xmath323 as @xmath324 and the length of @xmath323 as @xmath325 .",
    "the lengths of @xmath326 and @xmath327 are thus @xmath328 and @xmath329 .",
    "since @xmath330 is uniformly distributed within the circle , @xmath324 is uniform in @xmath331 and the pdf and cdf of @xmath325 can be calculated to be @xmath332 respectively .",
    "define @xmath333 .",
    "if @xmath334 is uniform on @xmath276 , it can be proved that @xmath335 thus , @xmath336 has the same distribution as @xmath325 .",
    "therefore , we generate @xmath336 to represent @xmath325 .    fig .",
    "[ fig - random - network - p ] shows performance of random networks with path - loss exponent 2 and @xmath337 .",
    "we can see that the same phenomenon as in line networks can be observed . with a dl at both steps",
    ", the random network performs about 1db worse than the line network .",
    "in this paper , we propose the novel idea of beamforming in wireless relay networks to achieve both diversity and array gain .",
    "the scheme is based on a two - step amplify - and - forward protocol .",
    "we assume that each relay knows its own channels perfectly .",
    "unlike previous works in network diversity , the scheme developed here uses not only the channels phase information but also their magnitude .",
    "match filters are applied at the transmitter and relays during the second step to cancel the channel phase effect and thus form a coherent beam at the receiver , in the mean while , optimal power control is performed based on the channel magnitude to decide the power used at the transmitter and relays .",
    "the power control problem for networks with any numbers of relays and no direct link is solved analytically .",
    "the solution can be obtained with a complexity that is linear in the number of relays .",
    "the power used at a relay depends on not only its own channels nonlinearly but also all other channels in the network . in general , it is not even a differentiable function of channel coefficients .",
    "simulation with rayleigh fading and path - loss channels show that network beamforming achieves the maximum diversity while amplify - and - forward without power control achieves diversity 1 only .",
    "network beamforming also outperforms other cooperative strategies .",
    "for example , it is about 4db better than best - relay selection .",
    "relay networks with a direct link between the transmitter and receiver are also considered in this paper . for networks with a direct link during the first step only , the power control at relays and the transmitter is exactly the same as that of networks with no direct link . for networks with a direct link during the second step only and networks with a direct link during both steps , the solutions are different .",
    "recursive numerical algorithms for the power control at both the transmitter and relays are given .",
    "simulated performance of single - relay networks with different topologies shows that optimal power control results in about 1.5db improvement in networks with a direct link at both steps and a higher diversity in networks with a direct link at the second step only .    we have just scratched the surface of a brand - new area .",
    "there are a lot of ways to extend and generalize this work .",
    "first , it is assumed in this work that relays and sometimes the transmitter know their channels perfectly , which is not practical in many networks .",
    "network beamforming with limited and delayed feedback from the receiver is an important issue . in multiple - antenna systems , beamforming with limited and delayed channel information feedback has been widely probed . however , beamforming in networks differs from beamforming in multiple - antenna systems in a couple of ways . in networks , it is difficult for relays to cooperate while in a multiple - antenna system , different antennas of the transmitter can cooperate fully .",
    "there are two transmission steps in relay networks while only one in multiple - antenna systems , which leads to different error rate and capacity calculation and thus different designs .",
    "second , the relay network probed in this paper has only one pair of transmitter and receiver . when there are multiple transmitter - and - receiver pairs , an interesting problem is how relays should allocate their powers to aid different communication tasks .",
    "finally , the two - hop protocol can be generalized as well . for a given network topology ,",
    "one relevant question is how many hops should be taken to optimize the criterion at consideration , for example , error rate or capacity .",
    "y.  chang and y.  hua , `` application of space - time linear block codes to parallel wireless relays in mobile ad hoc networks , '' in _ prof . of the 36th asilomar conference on signals , systems and computers _ , nov . 2003 .",
    "y.  hua , y.  mei , and y.  chang , `` wireless antennas - making wireless communications perform like wireline communications , '' in _ prof . of ieee",
    "ap - s topical conference on wireless communication technology _ , oct .",
    "y.  tang and m.  c. valenti , `` coded transmit macrodiversity : block space - time codes over distributed antennas , '' in _ prof . of ieee vehicular technology conference 2001-spring _ , vol .  2 , pp .",
    "1435  1438 , may 2001 .",
    "a.  sendonaris , e.  erkip , and b.  aazhang , `` user cooperation diversity - part ii : implementation aspects and performance analysis , '' _ ieee transactions on communications _ , vol .",
    "51 , pp .  19391948 , nov .",
    "r.  u. nabar , h.  b@xmath338lcskei , and f.  w. kneubuhler , `` fading relay channels : performance limits and space - time signal design , '' _ ieee journal on selected areas in communications _ , pp .",
    "1099  1109 , aug . 2004 .",
    "j.  n. laneman and g.  w. wornell , `` distributed space - time - coded protocols for exploiting cooperative diversity in wireless network , '' _ ieee transactions on information theory _",
    "49 , pp .  2415 - 2425 , oct .  2003 .",
    "m.  janani , a.  hedayat , t.  e. hunter , and a.  nosratinia , `` coded cooperation in wireless communications : space - time transmission and iterative decoding , '' _ ieee transactions on signal processing _ , pp .",
    "362 - 371 , feb . 2006 .",
    "k.  azarian , h.  e. gamal , and p.  schniter , `` on the achievable diversity - multiplexing tradeoff in half - duplex cooperative channels , '' _ ieee transactions on information theory _ , vol .",
    "51 , pp .",
    "4152 - 4172 , dec . 2005 .",
    "j.  n. laneman , d.  n.  c. tse , and g.  w. wornell , `` cooperative diversity in wireless networks : efficient protocols and outage behavior , '' _ ieee transactions on information theory _ , pp .",
    "3062 - 3080 , dec .  2004 .",
    "y.  cao , b.  vojcic , and m.  souryal , `` user - cooperative transmission with channel feedback in slow fading environment , '' in _ proc . of ieee",
    "vehicular technology conference 2004-fall _ , pp .  2063 - 2067 , 2004 .",
    "p.  a. anghel and m.  kaveh ,",
    "`` on the performance of distributed space - time coding systems with one and two non - regenerative relays , '' _ ieee transactions on wireless communications _",
    ", pp .  682 - 692 , mar .",
    "2006 .",
    "a.  narula , m.  l. lopez , m.  d. trott , and g.  wornell , `` efficient use of side information in multiple - antenna data transmission over fading channels , '' _ ieee journals on selected areas in communications _ , pp .",
    "1423 - 1436 , oct .  1998 .",
    "s.  a. jafar and a.  j. goldsmith , `` transmit optimization and optimality of beamforming for multiple antenna systems with imperfect feedback , '' _ ieee transactions on wireless communications _",
    ", pp .  1165 - 1175 , july 2004 .    k.  k. mukkavilli , a.  sabharwal , e.  erkip , and b.  aazhang , `` on beamforming with finite rate feedback in multiple - antenna systems , '' _ ieee transactions on information theory _ , pp .",
    "2562- 2579 , oct .",
    "2003 .",
    "s.  ekbatani and h.  jafarkhani , `` combining beamforming and space - time coding for multi - antenna transmitters using noisy quantized channel direction feedback , '' _ submitted to ieee transactions on communications _ , 2006 ."
  ],
  "abstract_text": [
    "<S> this paper is on beamforming in wireless relay networks with perfect channel information at relays , the receiver , and the transmitter if there is a direct link between the transmitter and receiver . </S>",
    "<S> it is assumed that every node in the network has its own power constraint . </S>",
    "<S> a two - step amplify - and - forward protocol is used , in which the transmitter and relays not only use match filters to form a beam at the receiver but also adaptively adjust their transmit powers according to the channel strength information . for a network with any number of relays and no direct link , the optimal power control is solved analytically . </S>",
    "<S> the complexity of finding the exact solution is linear in the number of relays . </S>",
    "<S> our results show that the transmitter should always use its maximal power and the optimal power used at a relay is not a binary function . </S>",
    "<S> it can take any value between zero and its maximum transmit power . </S>",
    "<S> also , surprisingly , this value depends on the quality of all other channels in addition to the relay s own channels . despite this coupling fact </S>",
    "<S> , distributive strategies are proposed in which , with the aid of a low - rate broadcast from the receiver , a relay needs only its own channel information to implement the optimal power control . </S>",
    "<S> simulated performance shows that network beamforming achieves the maximal diversity and outperforms other existing schemes .    </S>",
    "<S> then , beamforming in networks with a direct link are considered . </S>",
    "<S> we show that when the direct link exists during the first step only , the optimal power control at the transmitter and relays is the same as that of networks with no direct link . for networks with a direct link during the second step only and both steps , recursive numerical algorithms are proposed to solve the power control problem . </S>",
    "<S> simulation shows that by adjusting the transmitter and relays powers adaptively , network performance is significantly improved . </S>"
  ]
}