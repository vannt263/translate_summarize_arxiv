{
  "article_text": [
    "fundamental progress in understanding the properties of galaxies , star clusters and stellar populations comes from the comparisons between observed photometry and synthetic photometry derived from stellar evolution codes .",
    "it has become common practice to infer properties such as star formation rate ( sfr ) , star formation history ( sfh ) , age , metallicity , redshift , and stellar mass from photometry . despite the limits of theoretical modeling of stellar populations ( such as uncertainties with dust , stellar evolution , and the stellar initial mass function ( imf )",
    "; see * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) synthetic libraries have reached a degree of precision that allows accurate estimates of these parameters  although sometimes with degeneracy  in massive galaxies and clusters .",
    "however , observations reveal a higher complexity in lower mass systems where scaling relations which apply to more massive systems can not be trivially extrapolated ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "moreover , in lower mass systems , the limited number of stars that are present invalidates the basic assumption used by most of the currently available codes for synthetic photometry ( such as starburst99 ( sb99 ; * ? ? ?",
    "* ) ; pegase @xcite ; and galev @xcite ) : that the imf is fully sampled at all times .",
    "violation of this assumption leads to stochastic variations in photometric properties that these codes do not fully capture .",
    "for example in globular clusters , the simplest observed stellar populations , failure to account for sampling effects can lead to a dramatic overestimate of the contributions of blue horizontal branch and agb stars to the integrated light . as a result ,",
    "correct estimates of globular cluster ages and metallicities based on their integrated light are possible only if one correctly accounts for stochasticity @xcite .",
    "moreover , in weakly star forming regions , stochastic effects can mimic those of a varying imf .",
    "indeed , recent observations in the low sfr regime have led to serious consideration of a varying imf @xcite .",
    "however a fully self - consistent model of stochasticity , allowing for a full range of parameters such as differing degrees of stellar clustering , metallicities , stellar tracks , input imfs and cmfs , and sfhs has not been available to test the null hypothesis of a non - varying but stochastically sampled imf .",
    "these considerations apply not only to the dwarf galaxies studied by @xcite but also to the outer regions of galaxies such as xuv disks @xcite and outlying regions @xcite where stochasticity becomes crucial in the interpretation of inferred sfrs and sfhs .",
    "while the number of studies that use monte carlo approaches to address problems on scales of clusters and galaxies is growing , a general purpose tool to study photometry in clusters and galaxies has not previously been available . to fill this need ,",
    "we have created slug , a code to allow proper study of the stochastic star formation regime at a range of scales from individual star clusters to entire galaxies .",
    "slug provides a variety tools for studying the stochastic regime , such as the ability to create catalogs of clusters including their individual imfs and photometric properties , color - magnitude diagrams ( cmds ) of entire galaxies where we keep track of the photometry of every star , as well as integrated photometry of entire composite populations .",
    "this paper , the first of a series , focuses on the methods used in the code along with several tests to demonstrate that we are reliably reproducing observations and other synthetic photometry predictions . we then demonstrate the use of this code in the stochastic regime . in a companion paper @xcite , we use slug to demonstrate that , once random sampling is included , a stochastic non - varying imf can reproduce the observed variation of the h@xmath0/fuv ratio in dwarf galaxies without resorting to modifications of the imf . in a the second paper of the series ( da silva et al in prep . )",
    "we will explore in detail the implications of stochastic star formation with clustering .",
    "further work will apply this code to a variety of astrophysical questions , such as understanding sfr calibrations in the stochastic regime and further study of other claims of a varying imf .",
    "the layout of the paper is as follows : @xmath1[sec : stoch ] presents an introduction to stochasticity and its effects on the luminosity of stellar populations ; @xmath1[sec : tech ] gives a detailed description of the slug algorithm ; @xmath1[sec : tests ] discusses various tests of the code ; @xmath1[sec : inaction ] shows a presentation of the code s outputs in the stochastic regime ; finally , @xmath1[sec : summary ] summarizes the results .",
    "many astrophysical studies require creation of synthetic photometry of galaxies and other collections of stars in order to compare with observations . in this section",
    "we present a discussion of the various effects of stochasticity and the regimes in which they are important .",
    "the standard procedure for calculating the luminosity from a coeval population of stars used by the most popular implementations ( such as sb99 ) is as follows . to find the luminosity per unit mass of a coeval population in some band @xmath2 at a time @xmath3 after formation ( @xmath4 )",
    ", one simply integrates the luminosity per unit mass of each star in that band as a function of mass and time ( @xmath5 ) weighted by the distribution of stellar masses ( i. e. the imf ) @xmath6 : @xmath7 note that here we use a normalization of the imf such that @xmath8 .    by performing this integral , these models assume an infinitely well - sampled imf . as a result",
    "the above formula is mass - independent , meaning that @xmath9 can be scaled according to the total amount of stellar mass in a population ( i.e. the luminosity of a mass @xmath10 of stars is simply @xmath11 ) .",
    "thus a given amount of mass @xmath10 will have a 1-to-1 mapping to a particular luminosity @xmath12 .",
    "however for small stellar populations , the assumption of continuous sampling breaks down and effects of stochasticity can become important .",
    "specifically , stochastic effects create a statistical dispersion of luminosities that result from a given mass @xmath10 of stars based entirely on the probabilistic sampling of the mass distribution of stars .",
    "this is because each realization of a given mass @xmath10 is built up with a different distribution of stellar masses which , due to the non - linear dependence of luminosity on stellar mass , yields a different luminosity .",
    "we call this type of stochastic process _ sampling",
    "_ stochasticity .",
    "perhaps the most important manifestation of sampling stochasticity is undersampling of the upper end of the imf .",
    "since the imf is steeply declining with increasing stellar mass , the expectation value of a low mass population drawing a massive star is small . as a result",
    ", the imf in a low mass population with few stars can appear truncated and have less luminosity than a fully - sampled assumption would have predicted .",
    "this is due to the very super linear dependence of luminosity on stellar mass .",
    "one can roughly estimate the mass below which this effect is insignificant by calculating the expectation value of obtaining a star above a given mass .",
    "we do so following the formalism of @xcite , who find that the total mass ( @xmath10 ) required to expect a single star above a mass @xmath13 is @xmath14 this statement is clearly dependent on one s choice of imf .",
    "@xcite uses a salpeter imf with a a lower limit of 0.3 @xmath15 and no upper limit .",
    "if one imposes an upper limit to the stellar mass function , this relation turns over and asymptotically approaches the limit .",
    "however , for order - of - magnitude purposes here , we neglect such consideration .",
    "this result implies that in order to reasonably expect even a single 120 @xmath15 star others @xcite suggest it may be as high as 300 @xmath15 .",
    "] , one would need at least a total mass sampled of approximately @xmath16 .",
    "thus this imf truncation effect of sampling stochasticity can be ignored for _ coeval _ populations with masses @xmath17 @xmath18 . for more reference on the limits of stochastic sampling , we recommend @xcite and @xcite . for specific considerations to h@xmath0",
    "luminosity ( one of the features of a stellar population most sensitive to stochasticity ) , see @xcite .",
    "another manner in which stochastic sampling can manifest in coeval populations is for stars going through particularly short - lived and luminous phases of evolution after they leave the main sequence ( e.g. , agb and blue horizontal branch stars ) .",
    "since these phases are short , only a very narrow range of masses is undergoing one of them at any given time .",
    "thus the exact sampling within that mass range can have a large impact on the number of stars within that phase . as a result",
    ", a non - infinite population of stars can have additional random scatter in luminosity even if @xmath19 .",
    "this effect is more important in populations with little ongoing star formation relative to their stellar mass ( otherwise new stars dominate the photometric properties of the population ) , at specific ages when these post - main sequence populations contribute significantly to the luminosity of the population @xcite .      in order to characterize a more complicated star formation history , sb99 and other such schemes integrate over the coeval populations discussed above to find the luminosity of all stars in a given band at a time @xmath20,@xmath21    such a treatment makes two key assumptions : ( 1 ) each of the summed coeval populations is large enough to ignore the effects of sampling stochasticity and ( 2 ) the sfr is continuously sampled as well .",
    "these assumptions can quickly break down for sufficiently low sfrs . to illustrate this point , consider a galaxy forming stars at a constant rate . in order for the imf",
    "not to be truncated within some time interval @xmath22 , there need to be at least @xmath18 worth of stars formed in that interval . for the sfr to be considered reasonably",
    "well sampled , @xmath22 must be much smaller than the evolutionary timescales of any of the stars , which are @xmath23 yr for the massive stars that generally dominate the light in an actively star - forming system .",
    "thus these assumptions require @xmath24    cl imf & stellar initial mass function ; can choose + & kroupa , salpeter , chabrier , igimf , or + & an arbitrary slope + cmf & cluster mass function , can change + & slope , minimum and maximum mass + stellar evolutionary & library of models used for stellar evolution + tracks & + metallicity & metallicity of the stellar population + stellar atmosphere & which scheme and models are used for seds + stellar wind model & which wind model is used for seds + fraction of stars in & mass fraction of stars formed in clusters + clusters & + maximum time & how long the simulation is run + sfh & can be arbitrary + seed & random seed used for simulation + time step & time between code outputs + fluxes & choose which fluxes to output + colors & which colors to use for cmds + cmd output & choice of number of bins and + parameters&range of color and luminosity for each cmd + cluster output ? & set to print output for each cluster + imf output ? & set to output imf histograms for each cluster + [ table : inputs ]    thus these effects can only be ignored for sfrs consistently @xmath25 .",
    "however , this _ temporal _ stochasticity is amplified when one considers that stars are believed to be formed in discrete collections known as clusters . as a result , the clumping in time of star formation in clusters can produce stochastic effects even in regions with sfrs higher than sfr@xmath26 . in this case the characteristic mass in equation [ eqt : dt ] is replaced with a mass characteristic of the clusters being drawn ( discussed further in da silva in prep . ;",
    "@xcite ) .",
    "the conditions required to treat a stellar population as continuous ( as opposed to stochastically sampled ) break down in a variety of astrophysical environments such as dwarf galaxies ( e.g. , * ? ? ?",
    "* ) , low star formation rate regions in the outskirts of galaxies ( e.g. , * ? ? ?",
    "* ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) , and low surface brightness galaxies ( e.g. , * ? ? ?",
    "here we present a brief overview of the code while we present each step in detail in the subsequent sections .",
    "slug simulates star formation according to the scheme presented in figure  [ fig : schematic ] .",
    "we create collections of star clusters obeying a user - defined cluster mass function ( cmf ) ( which can include a given mass fraction of stars not formed in clusters ) , sfh , imf , and choice of stellar evolutionary tracks , which we call a  galaxy \" .",
    "a description of the parameters that users can vary is provided in table  [ table : inputs ] .",
    "these galaxies are built up ( @xmath1[sec : imf ] ) by first drawing the mass of an individual cluster from a cmf .",
    "this cluster s mass is then filled up with stars according to an imf .",
    "the age of the cluster is drawn from a distribution weighted by the given sfh .",
    "each of the stars within the cluster is evolved using a stellar evolutionary track combined with a model spectral energy distribution ( sed ) to determine a variety of integrated fluxes corresponding to commonly used photometric filters ( @xmath1[sec : seds ] ) .    at a given set of time steps",
    ", these fluxes are summed over each star cluster .",
    "the clusters are then disrupted according to the prescription of @xcite .",
    "disrupted clusters have their fluxes added to a  field \" population while surviving clusters have their properties stored individually .",
    "the code repeats this process until a stellar mass equal to the integral of the provided sfh is created .",
    "the code outputs a variety of files that keep track of the properties of the stars , clusters , and total integrated stellar populations .",
    "table  [ table : output ] provides a short description of each available output file .",
    "all outputs are parsed and transformed into binary fits tables .",
    "the code is open source and written in c++ with wrapping and parsing routines written in idl",
    ". this entire process can be controlled through an idl graphical user interface ( see figure [ fig : gui ] ) or either of the unix or idl command lines . the idl routines are wrapped in packages for use with the idl virtual machine for those without idl licenses . for a full manual on how to use the code ,",
    "visit the slug website at http://sites.google.com / site / runslug/.    cc histogram & a 2d histogram of the user s choice of color - magnitude diagram(s ) + & of every star in the  galaxy \" at each timestep + cluster & mass , fluxes , most massive star , number of stars , and + & age of each undisrupted cluster at each timestep + imf & a histogram of the imf of each cluster that appears in the cluster file + integral & the total flux of the entire  galaxy \" at each timestep + miscellaneous & the total stellar mass actually formed , + & as well as the actual sfh and cmf of the simulation + [ table : output ]      most stars are thought to be born in star clusters @xcite and the distribution of star cluster masses appears to obey a power law distribution , where observations ( e.g. , * ? ? ?",
    "? * ; * ? ? ?",
    "* ; * ? ? ?",
    "* ) and theory ( e.g. , * ? ? ?",
    "* ) suggest that the index ( @xmath2 ) of the power law @xmath27 is approximately 2 .",
    "slug allows for both clustered and unclustered star formation .",
    "the user can choose what fraction of all stellar mass they wish to form in star clusters .",
    "if the code is forming clusters , the cmf s power law slope as well as its upper and lower bounds can be varied .",
    "if unclustered star formation is desired , the stars masses are drawn individually from an imf and treated as a disrupted  cluster \" of one star for the remainder of the code .",
    "the initial masses of stars are drawn from an imf .",
    "choices of imf due to lack of lower mass stellar tracks ] currently are @xcite , @xcite , @xcite , a user - defined arbitrary power law , and the recently proposed igimf @xcite .",
    "while the chabrier , kroupa , salpeter , and power law imfs are implemented as a standard probability density function of stellar masses , the igimf has additional features that require different treatment ( see appendix [ sec : igimf ] ) .",
    "regardless of the choice of imf , we draw stars until the total mass of the star cluster is built up . since the random distribution of stars never exactly equals the mass of the cluster , a question arises as to whether to keep the last star added .",
    "this last star increases the mass of the cluster above the cluster mass drawn from the cmf .",
    "we determine whether or not to keep that star in the cluster based on whether keeping the star in makes the total mass of stars closer to the mass drawn from the cmf than leaving it out .",
    "independent of its mass , the age of the cluster relative to the galaxy is assigned in a probabilistic manner weighted by the sfh ( which can be arbitrary ) such that the sfh is reproduced on average .",
    "this produces a scatter in the sfhs for even a given  constant \" sfr .",
    "thus slug s definition of a galaxy with a constant sfr is not a galaxy where the sfr is constant at every individual time , but rather a galaxy that produces an amount of stars over a time @xmath22 equal to sfr@xmath28 which are distributed in clusters whose ages are drawn from a uniform distribution .",
    "this interpretation of what a sfr is and its implications is discussed in more detail in da silva et al .",
    "( in prep . ) .",
    "clusters are born until the total mass of stars formed is equal to the integral of the sfh . as with the problem of populating a cluster with stars",
    ", a galaxy will never be filled to exactly its given mass with an integer number of clusters .",
    "therefore we apply the same condition for populating the galaxy as we do the clusters : we add until we exceed the mass and keep the final cluster only if the total galaxy mass is closer to the desired value if we keep it . as a result",
    "the average sfr over the entire simulation of a particular galaxy can be higher or lower than the input value .",
    "this effect is small for most regimes , but very rare drawings of the cmf at low sfrs can produce mild departures . we emphasize that this is not the effect of any error associated with the code but rather is the necessary result of our interpretation of what a sfr means .",
    "we demonstrate the results of this procedure in figure [ fig : sfh ] .",
    "the figure shows that , while lower average sfrs tend to produce larger fractional scatter in the instantaneous sfr , significant scatter remains until sfrs exceed 10 @xmath15 yr@xmath29 .",
    "this scatter is a direct result of the finite size of clusters . to clarify with an example ,",
    "consider that a @xmath30 cluster ( when averaged over the 1 myr similarly to the curves shown in figure [ fig : sfh ] ) , will appear as a deviant peak for all but the highest sfrs , where the contribution of that individual cluster is drowned out by enough other clusters .",
    "we note that in this release of the code all stars in a cluster are treated as having identically the same age . while observations suggest a scatter of a several myr @xcite , the mass dependence of this scatter is unclear .",
    "given the uncertainties , and that the intracluster age scatter is at most a few myr , we chose to neglect this effect for now but plan on implementing it in the future .",
    "given the mass and age of each star , we need to determine its properties for a variety of observables .",
    "our method uses many of the same algorithms found in sb99 @xcite to create a set of tables from which slug interpolates .",
    "these tables are constructed in advance so they need not be computed at run time .",
    "our first step is to determine the physical properties of each star . to this end",
    ", we make use of a variety of stellar evolutionary models . modifying the sb99 source code ,",
    "we were able to obtain the full range of stellar tracks available to sb99 ( see table  [ table : stellarprop ] ) .",
    "in the future we plan to implement a wider range of stellar tracks including those from @xcite and the basti library @xcite .",
    "we supplement the geneva tracks with the padova+agb tracks for stars in the mass range 0.15 - 0.8 @xmath15 .",
    "these models provide luminosities , gravities , chemical compositions , and effective temperatures at discrete intervals in the evolution of a discrete number of stellar masses .",
    "we then need to map these physical properties to stellar atmospheres in order to estimate the spectral energy distributions of the stars .",
    "our code allows users to choose from one of five possible sb99 algorithms for modeling the atmospheres .",
    "we implement all four prescriptions of stellar winds available in sb99 ( maeder , empirical , theoretical , and elson ) , which affect the seds for wolf - rayet stars for some regimes and prescriptions .",
    "it is important to note that the sb99 algorithms match seds to tracks with a nearest neighbor approach and not through interpolation .",
    "therefore there can be some discreteness in the output seds .",
    "future work will include removal of this effect .    with seds in hand , we can convolve with filters to determine the photometry of each point in our stellar tracks . for this step",
    "we include the effects of nebular continuum ( free - free , free - bound , and 2 photon processes ) as implemented in sb99 , but neglect nebular line emission for this first release of the code .",
    "( for a discussion of the importance of nebular continuum for the seds , see @xcite . also see @xcite and @xcite . )",
    "the full list of available filters is presented in table  [ table : filters ] .",
    "we also integrate the sed to determine the bolometric luminosity as well as to calculate q(h@xmath31 ) , the number of hydrogen ionizing photons emitted per second .",
    "one can convert q(h@xmath31 ) to h@xmath0 luminosity with a simple conversion assuming case b recombination ( our notation follows @xcite ) .",
    "@xmath32 where @xmath33 is the escape fraction ( thought to be between 0.05 @xcite and 0.4 @xcite ) and @xmath34 represents the fraction of of ionizing photons absorbed by dust grains ( e.g. , see appendix of * ? ? ?",
    "* who suggest a value of 0.37 ) . to better characterize the ionizing luminosity we also keep track of q(he@xmath35 ) and q(he@xmath36 ) which represent the numbers of ionizing photons in the and continua respectively",
    "cc & geneva std , geneva high , padova std , padova agb + * metallicity * & 0.0004 - 0.50 + * seds * & planck , lejeune , lejeune+sch , lejeune+smi , pau+smi + * wind models * & maeder , empirical , theoretical , elson + [ table : stellarprop ]    the above steps allow us to create a discrete two - dimensional table for each flux band where one axis represents stellar mass , the other represents time , and the value of the table is the logarithm of the flux in that band at the appropriate mass and time .",
    "our tables are created through use of the isochrone synthesis method such that our results are stable against the numerical issues that arise from a fixed mass approach @xcite .",
    "cc nuv & 1 + fuv & 1 + @xmath37 & 2 + @xmath38 & 2 + @xmath39 & 2 + @xmath40 & 2 + @xmath41 & 2 + j & 3 + h & 3 + k & 3 + u & 4 + b & 4 + v & 4 + r & 4 + i & 4 + q(h@xmath35 ) & 5 + q(he@xmath35 ) & 5 + q(he@xmath36 ) & 5 + @xmath42 & 6 + [ table : filters ]      to determine the properties of a given star of any mass at any given time , we first determine if the star is still alive .",
    "this is done by an interpolation in time to find the minimum mass of a dead star ( @xmath43 ) at a given time according to our stellar evolution models ( where we call a star ",
    "dead \" if it no longer has entries in our stellar tracks ) .",
    "if the star is less massive than @xmath43 , we interpolate our model tables to determine the flux in a given filter within 0.01 dex .    for computational speed , there are a variety of approximations and restrictions we are forced to implement .",
    "the current scheme only allows ages up to 1 gyr for the stellar tracks ( to be expanded in later releases of the code ) .",
    "we do not evolve stars less massive than 0.9 @xmath15 ( a number which can be changed by the user ) .",
    "these stars do not evolve past the main sequence for the current maximum age of the code of 1 gyr , so these stars are treated as having their zero - age main sequence ( zams ) properties . due to limitations of the stellar tracks , we treat the photometric properties of all stars less massive than 0.156 @xmath15 identically to those of 0.156 @xmath15 stars .",
    "for many purposes , more massive stars dominate the light in the bands such that this approximation is reasonable .",
    "the tracks also impose a @xmath44 upper mass limit on stars .",
    "currently , we neglect the effects of binary stellar evolution ( see * ? ? ?",
    "* ) , which may have an impact on the derived results by producing a bluer population with a reduced number of red supergiants and increased age range of wolf - rayet stars .",
    "if the user chooses to form stars in star clusters , we randomly disrupt our clusters in a mass independent way such that @xmath45 ( following * ? ? ?",
    "we start cluster disruption 1 myr after the cluster forms .",
    "this results in 90% of star clusters being disrupted for each factor of 10 in age after 1 myr .",
    "stars in disrupted clusters still have their photometry calculated for the integrated properties of the galaxy and are kept track in a set of  field \" variables and outputs .",
    "cc time step & @xmath46 yr + maximum time & @xmath47 yr + imf & 1 - 120@xmath15 ; slope=-2.35 + cmf & @xmath48 ; slope=-2 + stellar evolutionary tracks & padova+agb + metallicity & solar ; @xmath49 + stellar atmosphere & lej+smi + stellar wind model & maeder + fraction of stars in clusters & 100% + [ table : fiducial ]    in this section we present a variety of tests to validate the outputs of slug . for these tests",
    "we make use of a set of fiducial parameters presented in table  [ table : fiducial ] unless otherwise noted . to emphasize that slug can be applied at different scales , we arrange these tests in order of scale starting with individual clusters and then considering integrated properties of entire galaxies in the well - sampled regime .      to demonstrate that slug reproduces properties of observed clusters , we turn to the catalog of young star clusters compiled in @xcite . to reproduce the clusters we modify our fiducial imf to extend down to 0.08 @xmath15 and",
    "run a slug model with a sfr of 1@xmath15 yr@xmath29 for 500 myr , evaluated every 10 myr .",
    "note that the the sfr does not directly affect the cmf or the properties of the clusters , only the number of clusters in existence at a given time .",
    "we show the results of this exercise in figure  [ fig : clusphot ] where we find remarkable agreement between the models and the data .",
    "as is clear from the figure , we are able to reproduce both the location and spread of most of the observed data . clusters that fall outside of the locus of slug models fall can easily be reproduced when one accounts for a modest amount of reddening ( see reddening vector ) .",
    "another test of the photometry of clusters is to compare their h@xmath0 luminosity to their bolometric luminosity .",
    "work by @xcite has shown that newly born clusters lie along a birthline in this parameter space . in fig .",
    "[ fig : birthline ] we compare the same models as section [ sec : clusphot ] ( assuming @xmath33 and @xmath50 ) with their observational data and find good agreement .",
    "our theoretical predictions differ slightly in the tilt of the locus of points from those by @xcite , since we characterize the properties of our stars in a different manner ( making use of stellar tracks rather than fitting formulae ) .",
    "to better demonstrate the origin of the birthline we also make use of slug s ability to keep track of the imf of each individual cluster ( see bottom panel of figure  [ fig : birthline ] ) .",
    "here we can see that the birthline from left to right forms a sequence of progressively more well - sampled upper ends of the imf .",
    "extremely rare deviants exist below the birthline where more extremely massive ( @xmath51 ) stars are drawn than average , resulting in being born below the birthline .",
    "note that these rare clusters consisting of essentially isolated o stars have also been reported in the milky way @xcite and the smc @xcite in numbers consistent with stochastic sampling of the imf .",
    "a third obvious comparison for slug is sb99 itself .",
    "since sb99 is widely used , it serves as a benchmark for slug .",
    "indeed , one of the motivations for making use of the sb99 tracks and sed matching algorithms is that our code should be able to exactly reproduce sb99 if we select input parameters that place us in the continuously - sampled regime . to that end",
    "we now present a variety of tests where we compare to sb99 to demonstrate that we can reproduce their results in the this regime ( the regime of a large galaxy - sized amount of stars ) .    to compare the outputs of both sb99 and slug , we choose an instantaneous burst of star formation to demonstrate the matching of the codes in both amplitude and time .",
    "we run a sb99 model similar to our fiducial model ( i.e. imf slope of -2.35 from 1 - 120 @xmath15 , solar metallicity , padova+agb tracks , lej+smi seds , and maeder stellar wind models ) . to meaningfully compare with sb99",
    "we must choose slug input parameters such that we are evaluating a population where sb99 s approximations are valid .",
    "we therefore draw a very large instantaneous population of @xmath52 . to nullify any possible effects of our procedure for populating the clusters , we ensure all clusters are very large by modifying the fiducial cmf to a restricted range ( @xmath53 ) .",
    "we present the results in fig .",
    "[ fig : sb99 ] .",
    "it is evident that we are accurately able to reproduce sb99 in the well - sampled regime for integrated  galaxy \" properties .",
    "we match both the amplitude and time evolution in all photometric bands .",
    "this can also be seen by looking at the full seds . in figure",
    "[ fig : sb99sed ] , we present photometry for all 15 of the flux bands available for slug and compare with the spectra and integrated photometry produced by sb99 at a variety of time steps .",
    "again we are able to fully reproduce the photometric properties in the well - sampled regime from fuv to @xmath54-band .    in both these demonstrations , slug matches sb99 within 0.026 dex for all fluxes at all times .",
    "having demonstrated that slug can reproduce realistic clusters as well as reproduce sb99 s results , we now present outputs of slug in the stochastic regime .",
    "recent studies ( e.g. , * ? ? ?",
    "* ) have shown the wealth of information that can be obtained using resolved cmds of stars within a galaxy .",
    "for comparison with such studies in the stochastic regime , slug produces binned 2 dimensional histograms that keep track of the user s choice of color magnitude diagrams .",
    "such diagrams allow us to directly characterize the effects of stochasticity in a coeval population . in figure",
    "[ fig : angst ] , we compare cmds produced by slug for a @xmath55 instantaneous to    the theoretical isochrones from which they are produced . aside from demonstrating",
    "we accurately reproduce the tracks , we are able to see the effects of stochasticity in leaving rapid phases of evolution unpopulated . note",
    "that slug is capable of producing such diagrams for any given sfh .",
    "while individual clusters of stars can be treated as coeval , larger systems are intrinsically built of composite populations .",
    "one of the most basic composite populations one can consider is a galaxy forming stars at a constant star formation rate . as discussed in section [ sec : comp ] , the value of the sfr will have a significant impact on the effects of stochasticity .    to demonstrate the differences that stochasticity makes , we compare slug realizations to those of a well - sampled sb99 model . in figure",
    "[ fig : sb99stoch ] , we first examine the luminosities for sfrs of 1 , @xmath56 , and @xmath57 @xmath15 yr@xmath29 with our fiducial values for the cmf and cluster mass fraction . for each sfr",
    ", we show the mean and median of the slug runs along with the 5 and 95 percentiles .",
    "one can clearly see an increase in fractional scatter as one decreases the sfr , which can be attributed to the more bursty sfhs which are a result of the grouping of age in massive clusters .",
    "this scatter appears at higher sfrs than predicted by our naive discussion in section [ sec : comp ] as a direct result of the clustering .",
    "in fact , nearly all of the scatter seen in figure [ fig : sb99stoch ] is a result of the clustering rather than sampling of individual clusters .",
    "this is most clearly demonstrated by figure [ fig : unclustered ] which shows similar simulations but with completely unclustered star formation . without clustering",
    "the @xmath57 @xmath15 yr@xmath29 models have approximately an order of magnitude less scatter in the 5 - 95 percentile range of the log of the luminosity .",
    "we see that the unclustered stochastic effects behave as predicted in section [ sec : comp ] where the fractional scatter is small for sfrs @xmath58 @xmath15 yr@xmath29 and quickly increases as the sfr decreases ( also discussed in * ? ? ?",
    "* ) .    for a demonstration of the effects of clustering ,",
    "we present the tracks of a subset of individual stochastic realizations of clustered star formation in figure [ fig : tracks ] .",
    "one can see that the q(h@xmath35 ) curves are less uniform than the @xmath59 luminosity .",
    "this is a direct result of the sensitivity of q(h@xmath35 ) to the youngest , most massive stars .",
    "one can also see that the scatter increases with decreasing sfr as expected .",
    "this is to be further discussed in da silva et al .",
    "( in prep . )",
    "where we elaborate on the effects of stochastic star formation when one includes clusters .",
    "we introduce slug , a new code that correctly accounts for the effects of stochasticity ( with caveats discussed in the text ) by populating galaxies with stars and clusters of stars and then following their evolution using stellar evolutionary tracks .",
    "cluster disruption is taken into account and a variety of outputs are created .",
    "we present a series of tests comparing slug to observations and other theoretical predictions .",
    "slug is able to reproduce the photometric properties of clusters from the @xcite catalog as well as the @xcite birthline .",
    "it can also reproduce the results of sb99 in the well - sampled regime .",
    "finally we present slug outputs in the stochastic regime and demonstrate the flexibility of the code to address a variety of astrophysical problems with its variety of possible outputs .",
    "slug is a publicly available code , and can be found at http://sites.google.com / site / runslug/.    r.l.ds .",
    "is partially supported by an nsf career grant ( ast-0548180 ) .",
    "the work of r.l.ds . is supported under a national science foundation graduate research fellowship .",
    "mrk acknowledges support from : an alfred p.  sloan fellowship ; the national science foundation through grants ast-0807739 and career-0955300 ; and nasa through astrophysics theory and fundamental physics grant nnx09ak31 g and a _ spitzer space telescope _ theoretical research program grant .",
    "we would like to thank j. x. prochaska for help in reading and providing input on the early stages of this manuscript .",
    "we would like to thank f. bigiel for encouraging us to create slug and useful conversations with j. eldridge , c. weidner , r. bernstein , and j. colucci .",
    "the igimf theory is a statement that the sfr controls the upper cutoff of the cmf and that each cluster s mass changes the upper cutoff of the imf in that cluster .",
    "we implement the igimf following @xcite .",
    "we use the work of @xcite , @xcite , and @xcite to define the maximum cluster mass as @xmath60 where @xmath61 is the time - average sfr .",
    "thus the sfr affects the upper cut off of the cmf .",
    "we determine the average star formation rate over a time interval defined by the user ( fiducially @xmath62 yr ) .",
    "after a cluster mass has been drawn , we must adjust the upper cutoff of the imf that we use to draw stars for that cluster .",
    "the relation between maximum stellar mass and cluster mass ( @xmath63 ) has been studied by @xcite and @xcite .",
    "following their treatment , we solve a system of equations numerically for @xmath64 as a function of @xmath65 .",
    "the first equation is simply a statement that the total cluster mass ( @xmath65 ) is the integral of the distribution of masses ( @xmath66 ) integrated from the lowest to highest mass star in the cluster : @xmath67 the next constraint is derived based on the statement that there is only one star in the cluster with mass equal to @xmath64 .",
    "their choice of implementation of this statement is as follows is equal to 1 .",
    "however this is the standard formalism of the igimf , so it is the formalism we implement . ] : @xmath68 where @xmath69 is the maximum stellar mass possible .",
    "we then use this upper mass limit to modify the standard @xcite imf to fill in the stars for the cluster .",
    "figure [ fig : maxcl ] demonstrates the result .",
    "one can see that we are accurately applying the cutoff to the imf in the igimf ."
  ],
  "abstract_text": [
    "<S> the effects of stochasticity on the luminosities of stellar populations are an often neglected but crucial element for understanding populations in the low mass or low star formation rate regime . to address this issue , we present slug , a new code to  stochastically light up galaxies \" . </S>",
    "<S> slug synthesizes stellar populations using a monte carlo technique that treats stochastic sampling properly including the effects of clustering , the stellar initial mass function , star formation history , stellar evolution , and cluster disruption . </S>",
    "<S> this code produces many useful outputs , including i ) catalogs of star clusters and their properties , such as their stellar initial mass distributions and their photometric properties in a variety of filters , ii ) two dimensional histograms of color - magnitude diagrams of every star in the simulation , iii ) and the photometric properties of field stars and the integrated photometry of the entire simulated galaxy . after presenting the slug algorithm in detail </S>",
    "<S> , we validate the code through comparisons with sb99 in the well - sampled regime , and with observed photometry of milky way clusters . </S>",
    "<S> finally , we demonstrate the slug s capabilities by presenting outputs in the stochastic regime . </S>",
    "<S> slug is publicly distributed through the website http://sites.google.com / site / runslug/. </S>"
  ]
}