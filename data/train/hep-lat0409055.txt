{
  "article_text": [
    "to achieve ildg s aim of sharing gauge field configurations world - wide a standardised description of configurations is mandatory .",
    "xml ( extensible markup language ) is the language of choice for metadata since it is designed to describe data .",
    "these metadata documents will be both human readable , since xml is verbose , and easy to parse by computers .",
    "finally , standards on the structure and contents of xml documents can be enforced by using xml schemata . for references and further details . ]    the ildg metadata working group  @xcite addressed in recent years the task of defining an xml schema . during the 2003 lattice conference  @xcite the group presented an initial proposal . since then the strategy for marking - up the physics parameters has been revised .",
    "however , whilst the contents remained unchanged , the usability has been significantly improved .",
    "the working group presented at this conference the first working version of the schema , qcdml .",
    "many lattice practitioners , who are typically not familiar using xml yet , might ask whether the proposed strategy is too complicated .",
    "however , using xml is much easier than many might expect .",
    "a large number of software tools exists for creating and parsing xml documents .",
    "when looking at the proposed schema , it should be realised that it s complexity originates from the large variety of different simulations being carried out within the lattice community .",
    "metadata documents will only contain information on one particular simulation .",
    "all metadata documents will have to conform to the schema .",
    "it is the schema which contains the complexity which allows the many different actions being used for simulating qcd with dynamical fermions .    during the design process",
    "three general requirements have been taken into account .",
    "firstly , the schema has to be _",
    "extensible _ as parameters of future simulations can not be anticipated .",
    "this has to be done in such a way that any metadata document which conforms to the current schema will also conform to any future extended schema .",
    "the long - term validity of all metadata documents published by users of ildg is a definite design goal of the schema .",
    "secondly , the mark - up of simulation parameters has to be _",
    "unique _ to avoid , e.g. , the same action being described in two different ways .",
    "this would otherwise spoil the possibility to search for certain configurations .",
    "finally , the schema has been kept _",
    "general _ enough to allow the description of data other than gauge configurations ( propagators , correlators , etc . ) in the future .",
    "gauge configurations are generated by a markov chain .",
    "all configurations from one chain share many properties .",
    "therefore the metadata can be split into two documents .",
    "ensemble xml _ document contains all parameters which remain unchanged for the whole markov chain .",
    "other parameters are specific to one or a set of consecutive markov steps and will be stored in a _ configuration xml _ document .",
    "a universal resource indicator ( uri ) is used to link these two documents as well as the logical file name ( lfn ) to link the configuration xml document and the gauge configuration itself ( see fig .  [",
    "fig : lfn ] ) . for both types of xml documents corresponding schemata",
    "have been developed which can be downloaded from the working group s web - site  @xcite .",
    "an example for parameters which will be the same for all configurations of an ensemble are the physics parameters .",
    "the corresponding parts of the ensemble xml document consists of information about the lattice size and a mark - up of the action .",
    "the description of the action is most critical for preserving uniqueness and extensibility of the schema .",
    "the metadata working group adopted the following strategy which is visualised in fig .",
    "[ fig : hierarchy ] :    * each action can be split into a gauge and a fermion action . *",
    "the ensemble xml schema contains an element ` < generalgluonaction > ` and an optional element ` < generalquarkaction > ` which will substituted by the actually used action . *",
    "actions which contain a structure which is the same as for a simpler action are ordered by an inheritance tree .",
    "for example , the clover fermion action is equivalent to the standard wilson fermion action plus an improvement term . *",
    "actions which have the same structure in common are grouped .",
    "for instance , the iwasaki and the symanzik improved gauge actions only differ by the choice of the couplings .",
    "this inheritance tree of possible actions is obviously extensible .",
    "any action will be included into the schema only once to ensure uniqueness .",
    "the description of each action is organised in three parts ( see fig .",
    "[ fig : action ] ) .",
    "firstly , an array of ` < couplings > ` allows to store the names and values of all couplings and , in case of the fermion action , the number of flavours . secondly , a description of the fields is required to store information , e.g. , about the used normalisation or boundary conditions .",
    "finally , any further information can be stored in a _",
    "glossary_.    the element ` < glossary > ` contains a url to a document provided by the contributors .",
    "this document does not have to conform to any schema , it may even be not an xml but rather a human readable document , e.g.  a tex file .",
    "this gives the contributors the freedom to store all kind of information with regard to the used action , for instance information on the particular choice of couplings .",
    "nevertheless , some guidelines will be needed to ensure that these documents contain all relevant information in a comprehensive form .",
    "the variety of algorithms being used in lattice simulations is even larger than the number of different actions .",
    "the parameters of the algorithms are therefore essentially unconstrained .",
    "it should be noted that as a consequence such parameters are in practise not searchable .",
    "the only constrained element ` < exact > ` provides information on whether the algorithm being used is exact or not .",
    "it will be mandatory to provide a reference to a publication on the used algorithm and an url to a glossary document .",
    "furthermore , all submitters are strongly encouraged to provide a full list of all algorithmic parameters used in their simulations .",
    "the names of the parameters should be chosen in such a way that they can be uniquely related with the algorithmic parameters described in the publication and the glossary file .",
    "unlike the physics parameters the algorithmic parameters might change when generating a markov chain .",
    "for instance , the step size of the hmc algorithm might be adjusted during a run .",
    "while the ensemble xml document will contain most of the information on the used algorithm , the submitter can store those parameters which might change within an ensemble into the configuration xml document .    as an matter of good scientific research practise ,",
    "the generation of each configuration should be fully and comprehensively documented .",
    "therefore submitters will have to provide information which machine and what code has been used to generate a particular configuration .",
    "each machine can be identified by machine ( or partition ) name , the hosting institution and the machine type .",
    "additional information can be stored as an optional comment . concerning the simulation program submitters",
    "have to ensure that it can be identified by a name , a version string ( e.g.  a cvs tag ) , and the date of compilation .",
    "again an optional comment allows to add further information , e.g.  on compile time variables .",
    "all these parameters are not constrained and therefore not searchable .",
    "only the information on the precision used to generate configurations will be searchable , as users might care about the used machine precision , in particular when quark masses become light .",
    "the metadata will also include information about who submitted a configuration to ildg within which project .",
    "this information can be stored in the management section which is foreseen in both the ensemble and the configuration xml document . within this section",
    "also information will be stored which allows the user of a configuration to check the integrity of the downloaded data .",
    "to do so he can verify the checksum for the binary files , which will however not be preserved when transforming the gauge configuration into a different format . the user can still perform another test by recalculating the plaquette value and comparing this with the value stored in the configuration xml document .",
    "it should however be noticed that this test is less strong as both values will only agree within rounding errors and because the plaquette value is preserved by various transformations of a gauge field configuration .",
    "all operations affecting an ensemble or just a particular configuration should be documented .",
    "possible actions include the insertion and modification of an ensemble and the insertion , replacement or even the revocation of a configuration .",
    "the last two actions might be necessary if for example the computer or the code which was used to generate a configuration turned out to be broken .",
    "it should be noted that the submitters of configurations might not have to generate this information themselves , as the user interfaces to be developed for performing such actions could take care of patching the ensemble and configuration xml documents accordingly .",
    "the purpose of this section is to demonstrate how to mark up configurations according to the xml schema qcdml .",
    "we start with some frequently asked questions ( faq ) about xml schema .      * what is xml schema ?",
    "* * xml schema is a collection of rules for xml documents * * an xml schema is itself an xml instance document ( i d ) * why do we need an xml schema ? * * so that computers can read and understand xml ids * * e.g. ` <",
    "length>16</length > ` * * the meaning of length is context dependent , the schema makes this information explicit * do users need to learn xml schema ? * * no .",
    "xml schema makes it easier to write xml ids      qcdml1.1 is available for use and can be downloaded along with documentation and example xml ids from the ildg website  @xcite by following the links in the metadata section . in qcdml1.1",
    "the metadata is split into two parts .",
    "metadata which is common to all configurations in an ensemble lives in the namespace of the ensemble , and only one xml i d for the whole ensemble is required .",
    "an xml namespace is defined by w3c  @xcite consortium as _ a collection of names identified with a uri reference_. metadata which is specific to each configuration lives in a separate namespace and an xml i d is required for each configuration .",
    "below is an xml chunk , it is the start of an example qcdml i d .    ....",
    "xml version=\"1.0 \" encoding=\"utf-8 \" ?",
    "> < markovchain xmlns=\"http://www.lqcd.org/ # ildg / qcdml / ensemble1.1 \"   xmlns : xsi=\"http://www.w3.org/2001/ # xmlschema - instance \"   xsi : schemalocation=\"http://www.lqcd.org/ # ildg / qcdml / ensemble1.1   # www.ph.ed.ac.uk/ukqcd/community/ # the_grid / qcdml1.1/ # qcdml1.1ensemble.xsd \" >",
    "< markovchainuri >    www.lqcd.org/ildg/ukqcd/ukqcd1   < /markovchainuri",
    ">   + < management/ >   + < physics/ >   + < algorithm/ > <",
    "/markovchain > ....    the `` + '' symbol is used to show that there is substructure below the element , and the ` # ` symbol is used to indicate line continuation .",
    "the element ` < markovchain/ > ` is the root of the xml i d .",
    "the rest of the first line is the uri which identifies the namespace of the ensemble metadata .",
    "this has no prefix to identify elements which belong to this namespace as it is the default namespace .",
    "the second line is the namespace of xml schema itself .",
    "the third and fourth lines give the location of the file which contains the schema .",
    "the attribute ` xsi : schemalocation ` is used to link the uri which identifies the namespaces with a url which is the file which contains the schema .",
    "this could be a url which is the uri of the namespace but it does nt have to be .    the element ` < markovchainuri/ > ` which follows ` < markovchain/ > ` is the uri which identifies this ensemble .",
    "each configuration xml i d which belongs to this ensemble is linked to it using this uri .    if an xml i d conforms to the rules of a particular schema it is said to be _",
    "valid_. a software application which verifies that an xml i d is valid is unsurprisingly called a validator .",
    "schema aware applications can then read and use valid xml ids .",
    "one can write xml ids in an editor such as ` vi ` or ` emacs ` , however , other tools are available .",
    "xmlspy is commercial software which can be used for schema and xml i d manipulation , it can , for instance , generate an xml i d from the schema .",
    "there are many other xml manipulation tools , links can be found at  @xcite .      the element ` < physics/ > ` contains two elements , ` < size/ > ` and ` < action/ > ` .",
    "the former is rather self explanatory and contains the size of the system .",
    "most searches of metadata will be on the action , consequently a lot of thought has gone into marking up the actions .",
    "some of the object oriented features of xml schema have been employed in the schema to categorise actions , such as inheritance and the substitution group .",
    "this enables the xml ids to be relatively simple .",
    "the general structure is shown in figure [ fig : action ] .",
    "the action has been split into two parts , gluon and quark .",
    "these _ general _ elements encapsulate the general properties of the actions , such as the fields and the glossary document .",
    "the glossary contains information such as the mathematical definitions of the actions and a reference to a paper where the action is discussed .",
    "however , this type of information is not suitable to being marked up in xml , it is essentially unconstrained and as such is not really searchable by a computer .",
    "specific quark and gluons inherit their properties from the general actions .",
    "these actions , such as ` < wilsonquarkaction/ > ` have specific couplings , in this case ` < kappa/ > ` .",
    "the ` < cloverquarkaction/ > ` is an extension of this action , as it is a wilson action , but has an extra coupling , ` < csw/ > ` .",
    "this is shown in figure [ fig : npclover ] .",
    "an inheritance tree for various actions can be built up in this way .",
    "the metadata working group ( mdwg ) has not set up inheritance trees for all possible actions , but the schema is extensible so that further actions can be added without existing xml ids having to be modified .",
    "actions that have been added to qcdml are shown at the ildg metadata web pages , and an example of which is shown in figure [ fig : actionsinheritance ] .    for the gauge actions the metadata working group adopted a particular convention for `",
    "< sixlinkgluonactions/ > ` @xmath0 where @xmath1 is the plaquette wilson loop , @xmath2 the six - link rectangle , @xmath3 the six - link chair and @xmath4 the three dimensional wilson loop .",
    "the values of some of the couplings can be restricted to certain ranges or specific values .",
    "for example , in the iwasaki rg action , the couplings are constrained , @xmath5 , @xmath6 and @xmath7 .",
    "the quark action coupling has an integer valued element ` < numberofflavours/ > ` .",
    "this labels how many flavours have these couplings , _",
    "i.e. _ how many degenerate flavours .",
    "the element ` < couplings/ > ` is array valued , that is this part of the action can be repeated but with different couplings .",
    "this is useful for marking up non - degenerate quark flavours .",
    "an xml chunk for the @xmath8 non - perturbative clover action is shown below .    .... < npcloverquarkaction >    < glossary >      www.lqcd.org/ildg/ # npcloverquarkaction.xml    < /glossary >    + < quarkfield/ >    <",
    "couplings >      < numberofflavours >        2      < /numberofflavours",
    ">      < kappa>0.1350</kappa >      < csw>2.0171</csw >    < /couplings > < /npcloverquarkaction > ....    this is quite a short xml chunk , as the hierarchy npcloverquarkaction @xmath9 cloverquarkaction @xmath9 wilsonquarkaction @xmath9 generalquarkaction is contained in the schema .",
    "a rather technical point is that in the xpath 1.0  @xcite specification , there is no support for substitution groups which means that a search for wilsonquarkaction elements would not return any cloverquarkaction elements , although this can be achieved with a boolean `` or '' such as ` [ /action / quark / npcloverquarkaction | /action / quark / wilsonquarkaction ] ` .",
    "however , the specification for xpath 2.0 is nearing completion  @xcite , and this issue is beginning to be addressed .",
    "an xml chunk for the @xmath10 asqtad kogut - susskind quark action is shown below .    .... < asqtadquarkaction >    < glossary >      www.lqcd.org/lqcd/ #",
    "asqtadquarkaction.xml    < /glossary >    + < quarkfield/ >    < couplings >      < numberofflavours >        2      <",
    "/numberofflavours >      < mass>0.02</mass >      < cnaik>-0.05713116</cnaik >      < c1link>0.625</c1link >      < c3link>-0.08569673</c3link >      < c5linkchair >        0.02937572      < /c5linkchair",
    ">      < c7linktwist >        -0.006713076      < /c7linktwist >      < clepage>-0.1175029</clepage >    < /couplings >    < couplings >      < numberofflavours >         1      < /numberofflavours >      < mass>0.05</mass >      < cnaik>-0.05713116</cnaik >      < c1link>0.625</c1link >",
    "< c3link>-0.08569673</c3link >      < c5linkchair >        0.02937572      < /c5linkchair",
    ">      < c7linktwist >        -0.006713076      < /c7linktwist >      < clepage>-0.1175029</clepage >    < /couplings > < /asqtadquarkaction > ....    the structure is the same , and all the couplings are clearly shown .",
    "the non - degenerate quark masses result in a second ` < couplings/ > ` element , but with different number of flavours and different mass .",
    "it is easy to distinguish between @xmath10 and @xmath11 .",
    "this metadata gives the status of the data that is registered with the ildg . in that sense",
    "it is created when the data is made public . in principal this",
    "would be generated or `` stamped '' by some ildg middleware . as this application does not yet exist , it will have to be generated `` by hand '' .",
    "below is an example of the management chunk of xml .    .... < management >    < revisions>1</revisions >    < collaboration > ukqcd</collaboration >    < projectname > clover nf=2</projectname >    < archivehistory >      < elem >        < revision>1</revision >          < revisionaction >            add          <",
    "/revisionaction >          < numberconfigs >            829          < /numberconfigs",
    ">          < participant >            < name > chris maynard</name >",
    "< institution >              university of edinburgh            < /institution >          < /participant >          < date >            2004 - 04 - 04t16:20:10z          < /date",
    ">          < comment >            this is the time of addition           < /comment >      < /elem",
    ">    < /archivehistory > <",
    "/management > ....    the ` <",
    "archivehistory/ > ` element can have several revisions . `",
    "< revision/ > ` is array valued .",
    "an ensemble could have configurations added to it , replaced or even removed , if a mistake has been found .",
    "so the allowed values of ` < revisionaction > ` are an enumeration of ` { add , remove , replace } ` . to discover how many configurations are in an ensemble",
    ", it is relatively easy to construct an xpath query to find the number of revisions and then the number of configurations for each revision .",
    "algorithmic metadata is split between the ensemble and configuration documents , as it is possible , for instance , to have different stopping requirements for the inverter across the ensemble .",
    "the algorithmic metadata is in the form of unconstrained ` < name/ >",
    "< value/ > ` pairs .",
    "for example    .... < algorithm >    < name > ghmc</name >    < glossary >      www.ph.ed.ac.uk/ukqcd/   # community / ghmc.xml    < /glossary >    < reference >      phys.rev.d65:054502,2002    <",
    "/reference >    < exact > true</exact >    < parameters >      < name > stepsize</name >      < value>0.00625</value >    < /parameters > <",
    "/algorithm > ....    it would be very difficult to create a hierarchical structure for algorithms , and especially difficult to make such hierarchy extensible .",
    "again there is a glossary document which contains the free text , or mathematical definition of the algorithm , and a reference to a paper which describes the algorithm .",
    "there is also the boolean valued element ` < exact/ > ` which denotes whether or not the algorithm is exact .",
    "the configuration xml follows along similar lines .",
    "however , it is much shorter and so in principle could be directly output from the code that produced the configuration .",
    "below is an example configuration xml i d .",
    "again we start with a set of namespace declarations , which whilst the default namespace for configuration is separate from that of the ensemble , it still follows the same pattern .",
    "the management section is very similar to that of the ensemble , however , there is an important addition : there is a `` zeroth '' revision which is _",
    "generate_. there is important metadata of when the gauge configuration was generated , and not just when it is submitted to the ildg catalogue . as noted above ildg middleware",
    "will eventually create the management part of the metadata when it is added to the ildg catalogue , but this has yet to be written .",
    "the second important difference between the ensemble and configuration metadata is the ` < crcchecksum/ > ` which can be used to verify the data has been copied correctly .    ....",
    "xml version=\"1.0 \" encoding=\"utf-8 \" ?",
    "> < gaugeconfiguration   xmlns=\"http://www.lqcd.org / ildg / qcdml/ # config1.1 \" xmlns : xsi=\"http://www.w3.org/2001/ # xmlschema - instance \" xsi : schemalocation=\"http:// # www.lqcd.org/ildg/qcdml/config1.1 www.ph.ed.ac.uk/ukqcd/community/ # the_grid / qcdml1.1/qcdml1.1config.xsd \" >    < management >       < revisions>1</revisions >      <",
    "crcchecksum >                   2632843688      < /crcchecksum",
    ">      < archivehistory >        < elem >          < revision>0</revision >          < revisionaction >            generate          < /revisionaction >          < participant >            < name > chris maynard</name >            < institution >              edinburgh            < /institution >          < /participant >          < date >            1998 - 04 - 24t10:25:52z          < /date >",
    "< /elem >        < elem >          < revision>1</revision >          < revisionaction >            add          < /revisionaction >          < participant >            < name > chris maynard</name >",
    "< institution >              university of edinburgh            < /institution >          < /participant >          < date >            2002 - 04 - 24t10:25:52z          < /date >",
    ">      < /archivehistory >    < /management >    < implementation >      < machine >        < name > t3e-900</name >        < institution >          epcc edinburgh        <",
    "/institution >        < machinetype >          alpha processor        <",
    "/machinetype >      < /machine",
    ">      < code >        < name >          ukqcd fortran        < /name >        < version>16.8.3.1</version >        < date >          1997 - 04 - 04t16:20:10z        < /date >",
    "< /code >    < /implementation >    < algorithm >      < parameters >        < name > targetresidue</name >",
    "< value>1e-07</value >      < /parameters >    < /algorithm",
    ">    < precision > single</precision >    < markovstep >      < markovchainuri > www.lqcd.org/ # ildg / ukqcd / ukqcd1</markovchainuri >      < series>1</series >      < update>010170</update >",
    "< aveplaquette >        0.53380336e+00      < /aveplaquette",
    ">      < datalfn >        d52c202k3500u010170      < /datalfn",
    ">    < /markovstep",
    "/gaugeconfiguration > ....    the next element is ` < implementation/ > ` which holds information such as code versions , and machine version .",
    "both of these entries are really only important for bug tracking , but if ever a bug is found then they are vital for tracking down the effected configurations .",
    "this metadata section is best written by the code that generated the configuration , as it is quite easy for this metadata to become lost .",
    "the ` < algorithm/ > ` element is the same as that of the ensemble , e.g. a name value pair for each algorithmic parameter that is specific to that configuration .",
    "the ` < precision/ > ` element is also algorithmic in nature .",
    "it is the precision in which the configuration was computed , not in which the data is stored .",
    "it is an enumeration of ` { single , double , mixed } ` , it is possible to have some parts of gauge configuration generation code in single precision and some in double .    the final segment ` markovstep ` is the most immediately useful . `",
    "< markovchainuri/ > ` is the uri of the markov chain to which this configuration belongs .",
    "this links the ensemble and the configuration xml ids together . `",
    "< series/ > ` and ` <",
    "update/ > ` locate the configuration in the markov chain .",
    "the average plaquette is useful for checking that downloads , copies or data reads have all worked correctly , not least as this metadata is data format independent . finally `",
    "< datalfn/ > ` is the logical filename of the data on the grid .",
    "this links the metadata to the data . in qcdgrid ( ukqcd s data grid )",
    "the data submission tool reads this element from the metadata and then uses this as the logical file name .",
    "this tutorial hopefully gives a flavour of how to mark up gauge configurations in qcdml1.1 .",
    "the ildg website contains more detailed documentation on the schema along with example xml ids .",
    "the website will be updated regularly as changes and extensions occur , but this should still serve as a guide .",
    "the mdwg along with the middleware working group is actively considering the issue of data and file formats , but this is discussed elsewhere .",
    "completing the hierarchy tree for all commonly used actions is another task to be finished .",
    "gauge configurations are not the only data that could be shared by ildg members , for instance quark propagators and hadron correlator .",
    "the mdwg is considering how to extend qcdml to such data ."
  ],
  "abstract_text": [
    "<S> we present an xml schema for marking up gauge configurations called qcdml . </S>",
    "<S> we discuss the general principles and include a tutorial for how to use the schema . </S>"
  ]
}