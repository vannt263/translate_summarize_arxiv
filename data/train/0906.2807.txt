{
  "article_text": [
    "in the past few years , people have been attracted to investigate the analogies and connections among linear systems on algebraic curves , finite graphs , metric graphs and tropical curves @xcite . in particular",
    ", a recent work of hladk , krl and norine @xcite shows that the rank of a divisor @xmath2 on a graph equals the rank of @xmath2 on the corresponding metric graph @xmath0 .",
    "however , their result requires that all the edges of @xmath0 have length @xmath4 and @xmath2 is zero on the interiors of the edges . as an initial step of this paper , we assert that these restrictions are not necessary by proving that for an arbitrary metric graph @xmath0 with a vertex set @xmath5 and an arbitrary divisor @xmath2 on @xmath0 , the rank @xmath6 of @xmath2 equals the @xmath5-restricted rank @xmath7 of @xmath2 .",
    "this result motivates us into further investigations on the subsets of @xmath0 having such a property , to which we give the name _ rank - determining sets_.      throughout this paper , a _ graph _ @xmath8 means a finite connected multigraph with no loop edges , and a _ metric graph _",
    "@xmath0 means a graph having each edge assigned a positive length . and roughly speaking , a _ tropical curve _ is a metric graph where we admit some edges incident with vertices of degree @xmath4 having infinite length @xcite@xcite",
    ". we will expand our discussions within the framework of metric graphs , while the conclusions also apply for tropical curves .",
    "denote the vertex set and the edge set of a graph @xmath8 by @xmath9 and @xmath10 , respectively .",
    "the _ genus _ @xmath11 of @xmath8 is the first betti number of @xmath8 or the maximum number of independent cycles of @xmath8 , which equals @xmath12 .",
    "we can also define vertices and edges on a metric graph @xmath0 .",
    "we call @xmath5 a _ vertex set _ of @xmath0 and the elements of @xmath5 _ vertices _ , if @xmath5 is a nonempty finite subset of @xmath0 satisfying the following conditions :    @xmath13 is a disjoint union of subspaces @xmath14 isometric to open intervals .",
    "let @xmath15 be the closure of @xmath14 . for all @xmath16",
    ", @xmath17 contains exactly two distinct points , which are both elements of @xmath5 .",
    "we call @xmath15 an _ edge _ of @xmath0 , @xmath14 the _ interior _ of @xmath15 , and @xmath18 an _ internal point _ of @xmath15 . and",
    "we say that the two vertices in @xmath17 are two _ ends _ ( or _ end - points _ ) of @xmath15 or @xmath14 , while @xmath15 is an edge _ connecting _ these vertices .",
    "clearly , @xmath0 is loopless with respect to @xmath5 . and",
    "by our definition of a vertex set , there might be multiple edges between two vertices , which is not allowed in definitions of vertex sets by other authors ( see , e.g. , @xcite ) . throughout this paper ,",
    "whenever we mention a vertex or an edge of a metric graph @xmath0 , we always assume a vertex set of @xmath0 is predetermined , whether or not it is presented explicitly . given a vertex set of @xmath0 , the genus of @xmath0",
    "can be computed just like in the graph case ( note that the genus is independent of how we choose vertex sets ) .    by identifying each edge with a closed interval ,",
    "the subintervals are called _ segments _ of @xmath0 .",
    "the boundary points of a segment are called the _ ends _ ( or _ end - points _ ) of that segment .",
    "in addition , we transport the conventional notations for intervals onto metric graphs . for example , let @xmath19 and @xmath20 be two vertices that are neighbors , @xmath21 be one of the edges connecting them , and @xmath22 be an internal point @xmath21 . then @xmath23 represents all the internal points of the edges connecting @xmath19 and @xmath20 . and to avoid confusion in case of multiple edges , @xmath21 can be represented by @xmath24 $ ] .",
    "we use @xmath25 to denote the distance between two points @xmath26 and @xmath27 measured on @xmath0 , and define the distance between two subsets @xmath28 and @xmath29 of @xmath0 , denoted by @xmath30 , to be @xmath31 .",
    "if @xmath32 is a segment , and @xmath33 , then we use @xmath34 to denote the distance between @xmath26 and @xmath27 measured on @xmath32 . for simplicity of notation ,",
    "if @xmath22 is a point of a metric graph , sometimes we refer to the singleton @xmath35 by just writing @xmath22 .",
    "a divisor @xmath2 on @xmath8 is an element of the free abelian group @xmath36 on the vertex set of @xmath8 .",
    "we can uniquely write a divisor @xmath37 as @xmath38 , where @xmath39 evaluates @xmath2 at @xmath22 .",
    "the _ degree _ of @xmath2 is defined by the formula @xmath40 .",
    "a divisor @xmath2 is called _ effective _ if @xmath41 for all @xmath42 .",
    "we denote the set of all effective divisors on @xmath8 by @xmath43 , and the set of all effective divisors of degree @xmath44 on @xmath8 by @xmath45 .",
    "provided a function @xmath46 , the divisor associated to @xmath47 is given by @xmath48 and called _",
    "principal_. it is easy to see that the principal divisors have degree @xmath49 . for two divisors @xmath2 and @xmath50",
    ", we say that @xmath2 is _ linearly equivalent _ to @xmath50 or @xmath51 if @xmath52 is principal .",
    "and we defined the _ linear system associated to a divisor _",
    "@xmath2 to be the set @xmath53 of all effective divisors linearly equivalent to @xmath2 .",
    "since @xmath53 does not have a pure dimension , baker and norine @xcite introduced the concept of the _ rank _ of a divisor @xmath2 , denoted by @xmath54 , to describe the dimensional aspect of @xmath53 .",
    "explicitly , @xmath55 if @xmath56 , and @xmath57 if and only if @xmath58 for all @xmath59 .",
    "when it is clear that @xmath2 is defined on @xmath8 , we usually omit the subscript and write @xmath6 instead of @xmath54 .",
    "analogously , for a metric graph ( or a tropical curve ) @xmath0 , elements of the free abelian group @xmath60 on @xmath0 are called divisors on @xmath0 .",
    "we can define the degree of a divisor and the notion of effective divisors in a similar way .",
    "a rational function @xmath47 on @xmath0 is a continuous , piecewise linear real function with integral slopes .",
    "the _ order _ @xmath61 of @xmath47 at a point @xmath62 is the sum of the outgoing slopes of all the segments emanating from @xmath22 .",
    "any rational function @xmath47 has an associated a divisor @xmath63 .",
    "we say @xmath64 is _ principal _ for all rational functions @xmath47 , and define linear equivalence relations and linear systems as on graphs .",
    "also , we may define the _",
    "@xmath65 of a divisor @xmath2 on @xmath0 .",
    "explicitly , @xmath66 if @xmath56 , and @xmath67 if and only if @xmath58 for all @xmath68",
    ". we may omit the subscript and use @xmath6 to represent the rank of a divisor @xmath2 , when there is no confusion that @xmath2 is defined on @xmath0 .      as an analogue of the classical riemann - roch theorem on riemann surfaces , baker and norine formulated and proved the riemann - roch theorem for the rank of divisors on finite graphs @xcite .",
    "we define the _ canonical divisor _ on a graph @xmath8 to be the divisor @xmath69 given by @xmath70 .",
    "[ t : rr - graph ] let @xmath8 be a graph of genus @xmath11 and @xmath69 the canonical divisor on @xmath8 . then for all @xmath71 , we have @xmath72    not long after , such an analogy was extended to metric graphs and tropical curves by gathmann and kerber @xcite , by hladk , krl and norine @xcite , and by mikhalkin and zharkov @xcite . for a metric graph ( or a tropical curve ) @xmath0 , we may also define the _ canonical divisor _ on @xmath0 to be the divisor @xmath69 given by @xmath73 .",
    "[ t : rr - metricgraph ] let @xmath0 be a metric graph ( or a tropical curve ) of genus @xmath11 and @xmath69 the canonical divisor on @xmath0 . then for all @xmath74 , we have @xmath75    the following theorem , conjectured by baker and proved by hladk , krl and norine @xcite , states another important property about rank of divisors . for a graph @xmath8 , by assigning all edges length @xmath4 , we obtain a metric graph _ corresponding to _ @xmath8 .",
    "[ t : graph ] let @xmath0 be the metric graph corresponding to a graph @xmath8 .",
    "let @xmath2 be a divisor on @xmath8 .",
    "let @xmath54 be the rank of @xmath2 on @xmath8 , and @xmath65 the rank of @xmath2 on @xmath0 .",
    "then we have @xmath76 .",
    "we introduce a new notion of rank here .",
    "let @xmath0 be a metric graph and @xmath1 a nonempty subset of @xmath0 .",
    "define the _",
    "@xmath1-restricted rank _",
    "@xmath77 of a divisor @xmath78 by @xmath79 if @xmath56 , and @xmath80 if and only if @xmath58 for all @xmath81 .",
    "@xmath1 is said to be a _",
    "rank - determining set _ of @xmath0 , if it holds for every divisor @xmath78 that @xmath82 .",
    "one may also call @xmath77 the rank of @xmath2 restricted on @xmath1 .",
    "clearly , @xmath0 itself is a rank - determining set of @xmath0 and we say it is _",
    "trivial_. it is natural to ask if there exist nontrivial rank - determining sets , or more ambitiously , finite ones ?",
    "one of the main results of this paper is the following theorem , which gives an affirmative answer .",
    "[ t : vertex ] let @xmath5 be a vertex set of a metric graph @xmath0 . then @xmath5 is a rank - determining set of @xmath0 .",
    "it is easy to see that theorem  [ t : vertex ] generalizes theorem  [ t : graph ] to all metric graphs @xmath0 and all divisors @xmath2 on @xmath0 . and",
    "since @xmath83 is always a finite set , this theorem also provides an algorithm for computing the rank of a divisor on @xmath0 .",
    "there exist finite rank - determining sets other than vertex sets .",
    "in particular , we will prove the following conjecture of baker .",
    "[ t : g+1 ] let @xmath0 be a metric graph of genus @xmath11 . then there exists a finite rank - determining set of cardinality @xmath84 .",
    "theorem  [ t : g+1 ] has a counterpart in the algebraic curve case , as stated in the following theorem .",
    "( see remark  [ r : ac ] for a sketch of the proof . )",
    "[ t : ac ] for a nonsingular projective algebraic curve @xmath85 , any set of @xmath84 distinct points is a rank - determining set .",
    "it is clear that the equivalence relation among divisors on @xmath0 changes if we use a different metric .",
    "however , rank - determining sets will not be affected , even though their definition uses the notion of linear systems on @xmath0 .",
    "[ t : homeo ] rank - determining sets are preserved under homeomorphisms .    in section  [ s:1 ] , we present an algorithm for computing the @xmath3-reduced divisor linearly equivalent to a given effective divisor on @xmath0 . in section  [ s:2 ] , we investigate properties of rank - determining sets based on this algorithm , which are generalized into a subtle criterion for rank - determining sets , from which theorem  [ t : vertex ] , [ t : g+1 ] and [ t : homeo ] easily follow .",
    "we also explore several concrete examples as applications of the criterion .",
    "i would most of all like to thank matthew baker for introducing me to this topic , for his encouragement of further study on general properties of rank - determining sets , and for many valuable discussions .",
    "baker also helped me simplify the proof of theorem  [ t : tmt ] and gave detailed comments on the draft .",
    "thanks to robert varley for providing his proof of theorem  [ t : ac ] in remark  [ r : ac ] .",
    "i would also like to thank serguei norine for helpful discussions , and josephine yu , robin thomas , prasad tetali and farbod shokrieh for their comments .",
    "the notion of _ reduced divisors _ was adopted in @xcite as an important tool in the proof of the riemann - roch theorem for finite graphs .",
    "the definition of reduced divisors on finite graphs is based on the notion of _ @xmath8-parking functions _ @xcite .",
    "let @xmath8 be a finite graph .",
    "for @xmath86 and @xmath87 , the _ out - degree _ of @xmath22 from @xmath1 , denoted by @xmath88 , is defined as the number of edges of @xmath8 with one end at @xmath22 and the other end in @xmath89 .",
    "choose a vertex @xmath3 .",
    "we say a function @xmath90 is a _",
    "@xmath8-parking function _ based at @xmath3 if    @xmath91 for all @xmath92 , and    every nonempty subset @xmath1 of @xmath93 contains a vertex @xmath22 such that @xmath94 .",
    "a divisor @xmath95 is called _ @xmath3-reduced _ if the map @xmath96 restricted on @xmath93 is a @xmath8-parking function based at @xmath3 .",
    "an important property of reduced divisors is stated in the following proposition .",
    "[ p:1:1 ] if we fix a base vertex @xmath97 , then for every @xmath71 , there exists a unique @xmath3-reduced divisor @xmath98 such that @xmath99 .",
    "proposition  [ p:1:1 ] is quite useful when dealing with equivalence classes of divisors , since we can select a reduced divisor as a concrete representative for each equivalence class of divisors .",
    "the notion of reduced divisors has been extended to metric graphs by several authors . in this paper",
    ", we adopt the definition of reduced divisors on metric graphs as in @xcite , which follows closely the definition of reduced divisors on finite graphs as discussed above .",
    "other authors suggest to define reduced divisors on metric graphs in more abstract ways @xcite@xcite , and it can be proved that these definitions are all equivalent .",
    "let @xmath0 be a metric graph . if @xmath28 is a subset of @xmath0 with finitely many connected components , we use @xmath100 to denote the complement of @xmath28 on @xmath0 , @xmath101 the closure of @xmath28 , @xmath102 the interior of @xmath28 , and @xmath103 the set of boundary points of @xmath28 .",
    "note that @xmath104 .",
    "in addition , if @xmath28 is closed , then for @xmath105 , we define the _ out - degree _ of @xmath22 from @xmath28 , denoted by @xmath106 , to be the number of edges leaving @xmath28 at @xmath22 , or more precisely , the maximum number of internally disjoint segments of @xmath100 with an open end at @xmath22 . for @xmath107",
    ", we call a boundary point @xmath22 of @xmath28 _ saturated _ with respect to @xmath28 and @xmath2 if @xmath108 , and _ non - saturated _ otherwise",
    ".    fix a base point @xmath109 .",
    "we say that a divisor @xmath2 is @xmath3-_reduced _ if @xmath2 is non - negative on @xmath110 , and every closed connected subset @xmath28 of @xmath111 contains a non - saturated point @xmath112 .    as a counterpart of proposition  [ p:1:1 ] , the following theorem asserts the existence and uniqueness of a @xmath3-reduced divisor in any equivalence class of @xmath60 @xcite@xcite .",
    "[ t : unique ] let @xmath2 be a divisor on a metric graph @xmath0 . for any @xmath113 , there exists a unique @xmath3-reduced divisor @xmath114 that is linearly equivalent to @xmath2 .    for any finite subset @xmath115 of @xmath0 ,",
    "we denote by @xmath116 the maximal connected subset of @xmath0 , such that @xmath117 and @xmath118 . in particular , if @xmath119 , then @xmath120 .",
    "the set @xmath116 can be derived by taking the connected component of @xmath121 which contains @xmath3 .",
    "note that @xmath116 is connected and open , while @xmath122 is closed and might have several connected components .",
    "we say that @xmath115 is _ @xmath3-minimal _ if @xmath122 is connected and @xmath115 equals the set of boundary points of @xmath122 .",
    "let @xmath2 be a divisor on @xmath0 .",
    "let @xmath123 and @xmath124 .",
    "we call @xmath125 the _ support of @xmath2 _ and call @xmath126 the _ support of @xmath53_.    assume now that @xmath2 is effective . to verify",
    "if @xmath2 is @xmath3-reduced , we do not need to go through all closed connected subsets of @xmath111 .",
    "the following lemma shows that we only need to consider finitely many of them .",
    "[ l:1:1 ] let @xmath3 be a point of @xmath0 and @xmath2 an effective divisor on @xmath0 .",
    "then @xmath2 is @xmath3-reduced if and only if for any subset @xmath115 of @xmath127 , @xmath122 contains a non - saturated boundary point with respect to @xmath2 .",
    "first assume @xmath2 is @xmath3-reduced and consider a subset @xmath115 of @xmath128 .",
    "then @xmath122 is a closed subset of @xmath0 which has finitely many components .",
    "apply the defining property of @xmath3-reduced divisors to any of these components , and we obtain non - saturated boundary points on each of them .",
    "conversely , assume that for any subset @xmath115 of @xmath129 , @xmath122 contains a non - saturated point .",
    "if @xmath2 is not @xmath3-reduced , then there exists a closed connected subset @xmath28 of @xmath130 , such that every point of @xmath103 is saturated with respect to @xmath28 and @xmath2 . clearly @xmath131 . and",
    "since @xmath132 , the edges leaving @xmath133 must also be edges leaving @xmath28 .",
    "therefore , for every @xmath134 , we have @xmath135 this is equivalent to saying that @xmath133 contains no non - saturated boundary points , which contradicts our assumption .",
    "lemma  [ l:1:1 ] tells us that to determine if an effetive divisor @xmath2 is @xmath3-reduced , it suffices to consider only the subsets of @xmath136 .",
    "but the number of cases still grows exponentially with respect to @xmath137 . for finite graphs",
    ", there is an elegant algorithm for verifying if a given function is a @xmath8-parking function , which is adapted from an algorithm provided by dhar @xcite in the context of sandpile models ( see @xcite ) .",
    "here we extend dhar s algorithm to metric graphs , as a consequence of which we just need to test the points in @xmath138 one by one in order to judge whether an effective divisor @xmath2 is @xmath3-reduced .",
    "[ a : dhar ] ( * dhar s algorithm for metric graphs * ) + * input : * an effective divisor @xmath139 , and a point @xmath140 . + * output : * a subset @xmath115 of @xmath141 .",
    "+ initially , set @xmath142 , and @xmath143 .",
    "if @xmath144 or all the boundary points of @xmath145 are saturated with respect to @xmath2 , set @xmath146 and stop the procedure .",
    "let @xmath147 be the set of all non - saturated boundary points of @xmath145 .",
    "set @xmath148 .",
    "set @xmath149 and go to step ( 1 ) .",
    "[ l:1:2 ] run dhar s algorithm for an effective divisor @xmath2 and a point @xmath3 .",
    "then @xmath2 is @xmath3-reduced if and only if the output @xmath115 is empty .",
    "if @xmath115 is nonempty , then all the boundary points of @xmath122 are saturated .",
    "thus @xmath2 is not @xmath3-reduced by lemma  [ l:1:1 ] .    otherwise , @xmath150 . for a subset @xmath151 of @xmath152 ,",
    "let @xmath147 be such that @xmath153 and @xmath154 for @xmath155 .",
    "note that @xmath156 .",
    "if @xmath157 , then @xmath22 must be a non - saturated boundary point of @xmath158 , since @xmath159 by lemma  [ l:1:1 ] , @xmath2 is @xmath3-reduced .",
    "[ e : dhar ]     and two effective divisors @xmath160 and @xmath161 on @xmath0 .",
    "( b ) dhar s algorithm for @xmath160 and @xmath3 .",
    "( c ) dhar s algorithm for @xmath161 and @xmath3.,scaledwidth=75.0% ]    let @xmath0 be a metric graph as illustrated in figure  [ f : dhar](a ) with a vertex set @xmath162 .",
    "let @xmath163 and @xmath164 .",
    "run dhar s algorithm for @xmath160 and @xmath3 .",
    "the dashed areas in figure  [ f : dhar](b ) illustrate @xmath165 step by step . initially , we have @xmath166 and @xmath167 $ ] .",
    "the set @xmath168 of all non - saturated boundary points of @xmath169 is @xmath170 . then @xmath171 and @xmath172 .",
    "since @xmath173 is a non - saturated point , we have @xmath174 and @xmath175 .",
    "now @xmath176 is the whole graph and we get the output @xmath150",
    ". therefore @xmath160 is @xmath3-reduced .",
    "we leave it to the readers to verify the output of dhar s algorithm for @xmath161 and @xmath3 is @xmath177 and @xmath161 is not @xmath3-reduced ( figure  [ f : dhar](c ) ) .",
    "the out - degrees are topological invariants , which implies that whether or not a divisor is @xmath3-reduced is preserved under homeomorphisms .      based on dhar s algorithm and the criterion from lemma  [ l:1:2 ]",
    ", we formulate an algorithm to derive from an effective divisor @xmath2 the unique @xmath3-reduced divisor linearly equivalent to @xmath2 .",
    "recall from @xcite the notion of _ basic @xmath3-extremal functions _ on @xmath0 .",
    "we say a rational function @xmath47 is a",
    "_ basic @xmath3-extremal function _ if there exist closed connected disjoint subsets @xmath178 and @xmath179 of @xmath0 such that :    @xmath180 ; +    @xmath181 is the union of disjoint open segments of the same length ; +    @xmath47 achieves its maximum on @xmath178 and its minimum on @xmath179 ; +    @xmath47 has constant slope @xmath4 from @xmath179 to @xmath178 on @xmath181 .    [ d:3 ] let @xmath2 be an effective divisor on @xmath0 and @xmath115 a subset of @xmath141 such that all the boundary points of @xmath122 are saturated with respect to @xmath2 .",
    "let @xmath5 be a fixed vertex set of @xmath0 .",
    "we call the following parameterizing process @xmath182\\rightarrow \\text{div}_+\\gamma$ ] the @xmath3-_move _ of @xmath2 with respect to @xmath115 and @xmath5 :    @xmath183 .",
    "let @xmath184 be the number of connected components of @xmath122 , and denote these components by @xmath185 through @xmath186 .    for @xmath187 and @xmath188 $ ] , let + @xmath189 , + @xmath190 , + @xmath191 , and + @xmath192 a basic @xmath3-extremal function such that + @xmath193 , and @xmath194 .",
    "@xmath195 , for @xmath188 $ ] .",
    "-move of @xmath2.,scaledwidth=100.0% ]    let @xmath0 be the same metric graph as in example  [ e : dhar ] and @xmath196 , as shown in figure  [ f : move ] .",
    "in particular , we assign length @xmath4 to all edges and let @xmath197 be the middle point of the corresponding edge for @xmath198 .",
    "we know from example  [ e : dhar ] that the output @xmath115 of dhar s algorithm for @xmath2 and @xmath3 is @xmath177 .",
    "let us consider a @xmath3-move @xmath199 .",
    "note that @xmath122 has two connected components , @xmath200 and @xmath201 $ ] , which we denote by @xmath185 and @xmath202 respectively .",
    "we observe that @xmath203 for @xmath188 $ ] . and",
    "at the end of the move ( @xmath204 ) , we get @xmath205 , @xmath206\\setminus v_1 $ ] , @xmath207 , and @xmath208\\bigcup(w_4,v_4]\\bigcup(v_2,w_3]$ ] . in addition ,",
    "@xmath209 and @xmath210",
    ". then we get @xmath211 .",
    "[ l:1:3 ] let @xmath2 be an effective divisor which is zero at @xmath3 and @xmath199 a move of @xmath2 .",
    "denote @xmath212 by @xmath213 for @xmath214 $ ] .",
    "then @xmath215 is non - expanding with respect to @xmath216 .",
    "moreover , @xmath215 evolves continuously unless possibly undergoing an abrupt shrink at @xmath204 .",
    "let @xmath217 be as defined in definition  [ d:3 ] for @xmath188 $ ] .",
    "let @xmath218 and @xmath219.\\ ] ] clearly , @xmath220 continuously expands with respect to @xmath216 . for @xmath221",
    ", we have @xmath222 which means @xmath215 is non - expanding as @xmath216 increases and its evolution is continuous .",
    "the case @xmath204 is somehow special , since the continuous expansion of @xmath223 might result in a hit at certain vertices or @xmath3 .",
    "but we still have @xmath224 this means that an abrupt shrink of @xmath215 might happen at @xmath204 .",
    "based on making @xmath3-moves iteratively , we propose the following algorithm to derive the @xmath3-reduced divisor linearly equivalent to an effective divisor @xmath2 .    [ a : main ] * input : * an effective divisor @xmath139 , and a point @xmath140 .",
    "+ * output : * the unique @xmath3-reduced divisor @xmath114 linearly equivalent to @xmath2 .",
    "+ initially , set @xmath225 , and @xmath226 .",
    "run dhar s algorithm for @xmath227 and @xmath3 with the output denoted by @xmath228 . if @xmath229 , then set @xmath230 and stop the procedure .",
    "in addition , we say that the procedure terminates at @xmath16 . and for convenience , we set @xmath231 for all real numbers @xmath232 .",
    "otherwise , go to step ( 2 ) .",
    "make the @xmath3-move @xmath233 of @xmath227 with respect to @xmath228 .",
    "let @xmath234 for @xmath188 $ ] .",
    "set @xmath235 , and go to step ( 1 ) .    if the procedure in algorithm  [ a : main ] terminates at @xmath236 , then by lemma  [ l:1:2 ] , @xmath114 is @xmath3-reduced as desired , and the evolution of @xmath2 into @xmath114 is parameterized by @xmath237 , @xmath238 $ ] .",
    "the main goal of this section is to prove such a procedure always terminates ( theorem  [ t : tmt ] ) , which means that we will always get to a reduced divisor using finitely many moves .",
    "[ l:1:4 ] we have the following properties of the parameterizing procedure in algorithm  [ a : main ] :    @xmath239 is integer - valued , bounded , and non - decreasing with respect to @xmath216 , and it can jump only when @xmath216 is an integer .",
    "in addition , there exists an integer @xmath240 such that @xmath241 for all @xmath242 .    for a non - negative integer @xmath243 , let @xmath244 and @xmath245 .",
    "then for all real numbers @xmath246 , @xmath247 is non - expanding with respect to @xmath216 .",
    "in particular , @xmath247 evolves continuously unless possibly undergoing an abrupt shrink when @xmath216 is an integer .",
    "denote @xmath248 by @xmath249 . for @xmath242 ,",
    "let @xmath250 , which counts the number of vertices in @xmath249 after @xmath239 reaches its maximum .",
    "then @xmath251 is integer - valued , bounded , and non - increasing with respect to @xmath216 , and it can jump only when @xmath216 is an integer .",
    "furthermore , there exists an integer @xmath252 such that @xmath253 for all @xmath254 .",
    "clearly @xmath239 is integer - valued .",
    "note that @xmath255 for any @xmath16 , which implies that @xmath239 is non - decreasing and can only change its value when @xmath216 is an integer .",
    "moreover , @xmath239 is bounded from below by @xmath256 and from above by @xmath257 , which guarantees the existence of the finite integer @xmath240 .",
    "thus property holds .",
    "@xmath258 has value @xmath49 at @xmath3 .",
    "thus by lemma  [ l:1:3 ] , for @xmath246 , @xmath259 is non - expanding , and evolves continuously unless possibly undergoing an abrupt shrink when @xmath216 is an integer .",
    "in particular , whenever @xmath3 is hit by a move , @xmath259 will always be empty afterwards . and",
    "property is proved .",
    "after @xmath239 reaches its maximum at @xmath260 , @xmath3 will never be hit anymore .",
    "the above argument implies that for @xmath242 , @xmath249 is non - expanding , and continuously evolves unless possibly undergoing an abrupt shrink when @xmath216 is an integer .",
    "it follows immediately that @xmath251 is integer - valued , and non - increasing with respect to @xmath216 , while it only possibly changes when @xmath216 is an integer .",
    "clearly @xmath251 is lower - bounded by 0 , which also implies the existence of @xmath261 and finishes the proof of property .",
    "[ t : tmt ] the procedure in algorithm  [ a : main ] always terminates .",
    "we proceed by induction on @xmath257 .",
    "clearly theorem  [ t : tmt ] holds when @xmath262 since this implies that @xmath263 .",
    "now suppose @xmath264 .    by lemma  [ l:1:4 ] , if @xmath265 , then @xmath266 for all @xmath267 and the result follows by induction ( applied to@xmath268 ) .",
    "now we assume @xmath269 . by lemma  [ l:1:4 ]",
    ", there exists an integer @xmath261 , such that @xmath253 for all @xmath254 .",
    "we let @xmath270 in the remaining parts of the proof .",
    "note that @xmath249 might keep shrinking .",
    "however , such a shrink can never hit a vertex anymore , which also means that @xmath249 evolves continuously for @xmath254 .",
    "let @xmath28 be a connected component of @xmath271 .",
    "let @xmath272 be a subset of @xmath273 derived by removing the interior of all the segments with one end open and the other end a vertex or @xmath3 .",
    "clearly @xmath272 is closed and connected . and",
    "@xmath274 is a union of some disjoint open segments .",
    "denote by @xmath275 the set of these segments . for @xmath276",
    ", we use @xmath277 to denote the end of @xmath21 on @xmath28 .",
    "we say @xmath276 is _ obstructed _ at @xmath216 if @xmath278 or @xmath277 is saturated with respect to @xmath237 and @xmath28 .",
    "note that if an edge is obstructed at @xmath216 , then it is obstructed at all @xmath279 .",
    "we claim that there exists @xmath276 that never becomes obstructed .",
    "otherwise , there exists an integer @xmath280 such that for @xmath281 , the component of @xmath282 corresponding to @xmath28 has all its boundary points saturated .",
    "then one additional move from algorithm  [ a : main ] will result in a hit at a vertex , which contradicts the minimality of @xmath283 .",
    "so let @xmath21 be an element of @xmath275 that never becomes obstructed .",
    "then @xmath277 does not belong to any output @xmath228 of dhar s algorithm for @xmath227 when @xmath284 .",
    "so algorithm  [ a : main ] for @xmath285 terminates if and only if the algorithm for @xmath286 terminates , and the induction applies .    what should @xmath28 look like in the above proof ?",
    "since @xmath28 must contain non - saturated boundary points with respect to @xmath285 , there are only two possibilities .",
    "@xmath28 can be a single non - vertex point with @xmath287 , or else @xmath288 must contain a vertex on its boundary .    we know from riemann - roch theorem that the rank of the divisor @xmath289 as a function of @xmath290 can be arbitrarily large . hence given a divisor @xmath2 ( not necessarily effective ) on @xmath0 , there always exists a divisor @xmath50 which is non - negative on @xmath111 and linearly equivalent to @xmath2",
    ". in particular , @xcite presents an algorithm to construct such a divisor @xmath50 as the first step in the proof of the existence part of theorem  [ t : unique ] ( theorem  10 in @xcite ) . by running algorithm  [",
    "a : main ] for @xmath291 and @xmath3 , we can always obtain a @xmath3-reduced divisor @xmath292 linearly equivalent to @xmath293 .",
    "then @xmath294 is a @xmath3-reduced divisor linearly equivalent to @xmath2 .",
    "this provides an alternative proof of the existence part of theorem  [ t : unique ] .",
    "[ c:1:1 ] let @xmath2 be a divisor on @xmath0 and @xmath53 the linear system associated to @xmath2 .",
    "for @xmath140 , let @xmath114 be the unique @xmath3-reduced divisor @xmath114 in @xmath53 .    if @xmath295 , then @xmath296 .    if @xmath297 and @xmath298 , then @xmath299 is nonempty and for all @xmath300 , we have @xmath301 and @xmath114 is also @xmath22-reduced .    if @xmath302 , let @xmath50 be an effective divisor such that @xmath303 and @xmath304 .",
    "applying algorithm  [ a : main ] for @xmath50 and @xmath3 , we can derive @xmath114 . note that @xmath305 .",
    "thus @xmath296 .    if @xmath297 and @xmath306 , then @xmath307 , which means @xmath308 is nonempty . for all @xmath309 ,",
    "clearly @xmath310 , and using dhar s algorithm , it is easy to see that @xmath114 is also @xmath22-reduced .",
    "moreover , we have @xmath311 by .    in the sense of corollary  [ c:1:1 ] ,",
    "if @xmath28 is a subset of @xmath308 , then we may also say @xmath114 is @xmath28-reduced .",
    "we say a subset @xmath312 of a metric graph @xmath0 is a _ subgraph _ of @xmath0 if @xmath312 is connected and closed .",
    "let @xmath5 be a vertex set of @xmath0 .",
    "then @xmath313 ( considered in @xmath0 ) is automatically a vertex set of @xmath312 , which we call the vertex set of @xmath312 induced by @xmath0 .",
    "a _ tree _ on @xmath0 is a subgraph of @xmath0 with genus @xmath49 , and a _ spanning tree _ of @xmath0 is a tree on @xmath0 that is minimal among those which contain all vertices of @xmath0 .",
    "we call a point @xmath22 a _ cut point _ in a metric graph if @xmath314 is disconnected .",
    "[ [ a - is - a - rank - determining - set - if - and - only - if - mathcallagamma ] ] @xmath1 is a rank - determining set if and only if @xmath315 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~    for a nonempty subset @xmath1 of @xmath0 , we use @xmath316 to denote a subset of @xmath0 such that @xmath317 if and only if @xmath318 implies @xmath319 .",
    "for simplicity of notation , we denote @xmath320 by writing @xmath321 .",
    "note that we can always find a linear system whose support contains @xmath1 ( for example , the support of the linear system associated to @xmath322 is the whole graph @xmath0 ) .",
    "therefore @xmath323 obviously , @xmath324 , and if @xmath325 is a subset of @xmath316 , then @xmath326 .",
    "in case we want to emphasize that @xmath1 and all the linear systems are defined on @xmath0 , we may write @xmath327 in stead of @xmath316 .                @xmath338 . if @xmath56 , then @xmath339",
    ". we will only consider the case @xmath297 in the following . since @xmath1 is a subset of @xmath0 ,",
    "it is easy to see that @xmath340 by definition .",
    "therefore , to prove @xmath1 is a rank - determining set , it suffices to show that @xmath341 implies @xmath342 for each integer @xmath343 .",
    "the case @xmath344 is trivial , since @xmath345 . and the case @xmath346 is stated in .",
    "we claim that @xmath347 , @xmath348 , implies @xmath349 , @xmath350 , for @xmath343 and @xmath351 .",
    "equivalently , it says @xmath352 , @xmath348 , @xmath353 , implies @xmath354 , @xmath355 , @xmath356 , for @xmath343 and @xmath357 .",
    "this can be proved by the following deduction :                                a connected open subset @xmath369 of @xmath0 is called a _ special open set _ on @xmath0 if either @xmath370 or @xmath0 , or every connected component @xmath28 of @xmath371 contains a boundary point @xmath22 such that @xmath372 .",
    "in particular , we say @xmath0 is _ trivial _ if @xmath370 or @xmath0 .",
    "and we use @xmath373 to denote the set of all special open sets on @xmath0 .",
    "[ l:2:3 ] let @xmath0 be a metric graph of genus @xmath11 . if @xmath369 is a nontrivial special open set on @xmath0 , then @xmath379 has genus at least @xmath4 .",
    "in addition , there exist at most @xmath11 disjoint nonempty special open sets on @xmath0 .    if @xmath379 is a tree , then for every @xmath380 , @xmath381 , which contradicts the definition of special open sets . and",
    "it follows immediately that @xmath0 can sustain at most @xmath11 disjoint nonempty special open set .",
    "let @xmath200 and @xmath387 be two points in @xmath388 .",
    "let @xmath160 and @xmath161 be elements of @xmath53 that are @xmath200-reduced and @xmath387-reduced , respectively .",
    "let @xmath389 and @xmath390 .",
    "then by lemma  [ l:2:2 ] , @xmath391 and @xmath392 are special open sets . in addition",
    ", we have either @xmath393 or @xmath394 by corollary  [ c:1:1 ] .",
    "thus @xmath388 must be a disjoint union of nonempty special open sets .",
    "and we know from lemma   [ l:2:3 ] that there are only finitely many of them .    based on the notion of special open sets , we formulate a sufficient condition for @xmath22 to belong to @xmath316 , as stated in the following theorem .",
    "( we will show in theorem  [ t : criterion ] that it is also a necessary condition . )",
    "[ t : precriterion ] let @xmath395 and let @xmath1 be a nonempty subset of @xmath0",
    ". then @xmath317",
    "if for all special open sets @xmath369 containing @xmath22 , we have @xmath396 .",
    "moreover , @xmath397 in addition , @xmath1 is a rank - determining set if all nonempty special open sets intersect @xmath1 .",
    "suppose @xmath53 is a linear system such that @xmath332 .",
    "then by lemma  [ l:2:4 ] , for every @xmath311 , there exists a neighborhood @xmath369 of @xmath22 which is a special open set disjoint from @xmath398 .",
    "thus if all special open sets containing @xmath22 intersect @xmath1 , then @xmath332 implies @xmath319 , which means @xmath317 .",
    "it follows immediately that @xmath397        @xmath400 is nonempty since @xmath369 is a proper subset of @xmath0 . then by lemma  [ l:2:3 ] , for every @xmath375 , if @xmath401 is a critical open set containing @xmath22 , then @xmath402 has genus at least @xmath4 unless possibly @xmath401 is the whole graph .",
    "thus @xmath401 must intersect @xmath400 , since any connected closed subset of @xmath379 has genus 0 .",
    "therefore we have @xmath403 by theorem  [ t : precriterion ] .",
    "\\(a ) by proposition  [ p:2:2 ] , we immediately have @xmath404\\subseteq\\mathcal{l}(w_i , w_j)$ ] for two adjacent vertices @xmath405 and @xmath406 ( note that it does nt matter whether there are multiple edges between @xmath405 and @xmath406 ) .",
    "thus @xmath407 , which implies @xmath5 is a rank - determining set of @xmath0 , as claimed in * theorem  [ t : vertex]*.      [ p:2:3 ] let @xmath369 be a nonempty connected open proper subset of a metric graph @xmath0 such that @xmath379 has genus @xmath408 .",
    "let @xmath409 be a spanning tree of @xmath379 .",
    "then @xmath410 is a disjoint union of @xmath408 open segments . choosing one point from each of these segments , we get a finite set @xmath411 of cardinality @xmath408 . then @xmath412    if @xmath413 , then @xmath414 by proposition  [ p:2:2 ] .",
    "now we suppose @xmath415 .",
    "consider a point @xmath375 .",
    "if @xmath416 , then there exists a special open set @xmath401 such that @xmath417 and @xmath418 by theorem  [ t : precriterion ] .",
    "we claim that @xmath419 , which implies @xmath420 .",
    "denote the @xmath408 open segments of @xmath410 by @xmath421 .",
    "if @xmath422 is not connected , then there must exist some @xmath423 to make @xmath401 connected .",
    "thus @xmath424 .",
    "now suppose @xmath425 is connected . by definition of special open sets ,",
    "every connected component of @xmath426 contains a boundary point with out - degree at least @xmath427 , which means that there exists some @xmath428 having one end in @xmath429 and the other in @xmath425 .",
    "thus we also have @xmath424 .    * theorem  [ t : g+1 ] * can be deduced from proposition  [ p:2:3 ] by the following argument .",
    "let @xmath0 be a metric graph of genus @xmath11 and @xmath409 a spanning tree of @xmath0 . choose an arbitrary point @xmath3 from @xmath409 .",
    "then @xmath430 is a disjoint union of @xmath11 open segments @xmath431 .",
    "choose arbitrarily a point @xmath197 from @xmath15 for @xmath432 .",
    "let @xmath433 . if @xmath3 is not a cut point , then we can directly apply proposition  [ p:2:3 ] to @xmath111 and conclude that @xmath315",
    "otherwise , applying proposition  [ p:2:3 ] to each connected component @xmath28 of @xmath111 ( note that the induced spanning tree of @xmath101 is @xmath434 ) , we also get @xmath315",
    ". therefore @xmath1 is a rank - determining set of cardinality @xmath84 as desired .",
    "[ r : ac ] we sketch varley s proof of * theorem  [ t : ac ] * here .",
    "consider a nonsingular projective algebraic curve @xmath85 .",
    "first note that the rank @xmath6 of a divisor @xmath2 on @xmath85 has the same value as @xmath435 .",
    "recall that we say a point @xmath436 is a _ base point _ of a linear system @xmath53 if @xmath437 belongs to the support of every element of @xmath53 , i.e. , @xmath438 where @xmath439 which is called the _ base locus _ of @xmath53 .",
    "varley s argument uses the fact that a point @xmath436 is a base point of @xmath53 if and only if @xmath440 .",
    "( note that this is not true for metric graphs . )",
    "take any set @xmath115 of @xmath441 distinct points on @xmath85 . to prove that @xmath115 is a rank - determining set",
    ", it suffices to show that for a divisor @xmath2 on @xmath85 , if @xmath442 , then there exists a point @xmath437 in @xmath115 such that @xmath443 .",
    "let @xmath444 which is the full base locus divisor of @xmath53 .",
    "note that @xmath445 since @xmath411 can not `` move '' .",
    "if @xmath446 , then there is a point @xmath437 of @xmath115 not contained in @xmath447 , which means @xmath448 . if @xmath449 , then @xmath450 ( by riemann - roch ) which is impossible .",
    "the desired result follows by induction .",
    "let @xmath0 be a metric graph corresponding to @xmath451 with a vertex set @xmath5 being @xmath162 as shown in figure  [ f : k4 ] .",
    "let @xmath452 be some internal points .",
    "clearly @xmath5 itself is a rank - determining set by theorem  [ t : vertex ] . but",
    "a proper subset of @xmath5 can also be a rank - determining set .",
    "note that @xmath453\\bigcup[w_2,w_3]\\bigcup[w_4,w_3]$ ] is a spanning tree of @xmath0 , which implies @xmath454 by proposition  [ p:2:2 ] .",
    "thus @xmath455 is a rank - determining set as desired .",
    "it is also easy to see that @xmath456 and @xmath457 are rank - determining sets by proposition  [ p:2:3 ] .",
    "we recommend the reader to use theorem  [ t : precriterion ] to verify that @xmath458 is another rank - determining set , which is not obvious at first sight .",
    "we only need to consider @xmath369 nontrivial .",
    "assume @xmath460 has @xmath290 connected components @xmath461 other than @xmath369 .",
    "let @xmath462 be a spanning tree of @xmath463 , @xmath464 .",
    "then @xmath465 is a disjoint union of @xmath466 open segments .",
    "choosing one point from each of these segments , we get a finite set @xmath467 of cardinality @xmath466 .",
    "let @xmath468 and @xmath469 .",
    "then by proposition  [ p:2:3 ] , we have @xmath470 .",
    "therefore , to prove @xmath471 , it suffices to show that @xmath2 is @xmath369-reduced .",
    "let @xmath472 .",
    "then @xmath50 is @xmath369-reduced since @xmath369 is a special open set .",
    "thus by running dhar s algorithm for @xmath50 and a point in @xmath369 step by step and taking the set of non - saturated points in each step , we can get a partition of @xmath400 by @xmath473 . note that for every @xmath474 , there exists some @xmath475 such that either @xmath476 is a subset of @xmath475 or @xmath474 connects points in @xmath477 and @xmath478 , i.e. , @xmath477 and @xmath478 are nonempty and @xmath479 .",
    "therefore we may define a function @xmath480 by @xmath481 if @xmath482 and @xmath483 .",
    "let @xmath484 for @xmath485 .",
    "obviously these @xmath147 s form a partition of @xmath486 .",
    "running dhar s algorithm for @xmath2 and a point in @xmath369 step by step , we observe that the set of non - saturated points in each step is precisely @xmath487 in sequence .",
    "therefore the output is empty , which means @xmath2 is @xmath369-reduced .",
    "[ t : criterion ] let @xmath395 and let @xmath1 be a nonempty subset of @xmath0 .",
    "then @xmath317 if and only if for all special open sets @xmath369 containing @xmath22 , we have @xmath396 .",
    "furthermore , @xmath488 in addition , @xmath1 is a rank - determining set if and only if all nonempty special open sets intersect @xmath1 .",
    "suppose for the sake of contradiction that there exists @xmath489 such that @xmath375 and @xmath490 . then by proposition  [ p:2:4 ] , there exists a divisor @xmath2 such that @xmath471 .",
    "thus we have @xmath318 , which means that @xmath491 .",
    "but then @xmath492 .        let @xmath0 be a metric graph with a vertex set @xmath494 as shown in figure  [ f : l](a ) , and let @xmath495 be some internal points . clearly @xmath496\\subseteq\\mathcal{l}(v_1,v_2)$ ] .",
    "the dashed areas of figure  [ f : l](b ) , @xmath391 , @xmath392 and @xmath497 , are three examples of special open sets disjoint from @xmath493 .",
    "hence we have @xmath498 $ ] by theorem  [ t : criterion ] .",
    "now let us consider @xmath499 .",
    "we observe that any special open set disjoint from @xmath500 must be a subset of @xmath497 , which implies @xmath501 .        for a point @xmath504 , if a special open set @xmath369 containing @xmath22 intersects @xmath1 , then @xmath369 must intersect @xmath476 .",
    "thus by theorem  [ t : criterion ] , @xmath1 is a rank - determining set , if and only if all nonempty special open sets intersect @xmath1 , if and only if for all @xmath62 ,",
    "if @xmath504 , then all special open sets @xmath369 containing @xmath22 intersect @xmath476 , if and only if @xmath505 , for @xmath464 .        [ p:2:5 ] let @xmath0 be a metric graph with a vertex set @xmath5 and @xmath1 a finite rank - determining set of @xmath0 . suppose there exists a point @xmath22 in @xmath1 which has degree @xmath513 and is not a cut point of @xmath0 .",
    "let @xmath514 be an open neighborhood of @xmath22 such that @xmath515 .",
    "denote @xmath516 by @xmath312 .",
    "then @xmath312 is a subgraph of @xmath0 and @xmath517 is a rank - determining set of @xmath312 .",
    "clearly @xmath518 is a disjoint union of @xmath519 open segments .",
    "denote these open segments by @xmath520 .",
    "note that the total number of @xmath15 s ends other than @xmath22 may be strictly less than @xmath519 because of the existence of multiple edges .",
    "suppose @xmath517 is not a rank - determining set of @xmath312 .",
    "then there exists @xmath521 disjoint from @xmath1 by theorem  [ t : criterion ] .",
    "without loss of generality , we assume that @xmath522 is an integer such that @xmath15 has an end in @xmath401 for @xmath523 and @xmath15 has no end in @xmath401 for @xmath524 . let @xmath525 .",
    "obviously @xmath369 is a connected open set on @xmath0 disjoint from @xmath1 .",
    "we claim @xmath526 .",
    "this is because if @xmath527 , then @xmath528 may glue together some of the connected components of @xmath529 into one connected component of @xmath530 while the out - degrees of those boundary points are unchanged , and if @xmath531 , then @xmath22 itself forms a connected component of @xmath530 and has out - degree at least @xmath427 .",
    "but this means @xmath1 is not a rank - determining set of @xmath0 by theorem  [ t : criterion ] , a contradiction .",
    "the converse proposition of proposition  [ p:2:5 ] is not true .",
    "that is , @xmath1 is not guaranteed to be a rank - determining set of @xmath0 by @xmath517 being a rank - determining set of @xmath312 .",
    "for example , let @xmath0 be the metric graph corresponding to @xmath451 as shown in figure  [ f : k4 ] .",
    "let @xmath532\\bigcup[w_2,w_4]\\bigcup [ w_4,w_1]$ ] .",
    "then @xmath533 is a rank - determining set of @xmath312 .",
    "however @xmath534 is not a rank - determining set of @xmath0 .",
    "it is clear that special open sets are preserved under homeomorphisms since out - degrees are topological invariants .",
    "thus theorem  [ t : criterion ] tells us that rank - determining sets are also preserved under homeomorphisms ( * theorem  [ t : homeo ] * ) .",
    "the following theorem provides a more general description of this fact .",
    "[ t : topo ] let @xmath535 be a homeomorphism between two metric graphs @xmath0 and @xmath312 .",
    "let @xmath1 be a nonempty subset of @xmath0",
    ". then @xmath536 . in particular",
    ", @xmath1 is a rank - determining set of @xmath0 if and only if @xmath537 is a rank - determining set of @xmath312 .    for a closed segment @xmath21 on a metric graph @xmath0",
    ", we say @xmath538 is an _ edge contraction _ of @xmath0 with respect to @xmath21 if @xmath539 merges together all the points in @xmath21 into a single point while mapping every point in @xmath540 to itself .",
    "clearly an edge contraction @xmath539 may change the topology of @xmath0 .",
    "we now give some some examples which show that rank - determining sets may not be preserved under edge contractions .",
    "\\(a ) consider a metric graph @xmath0 corresponding to @xmath451 as in example  [ e : k4 ] .",
    "an edge contraction with respect to @xmath541 $ ] results in a new graph @xmath312 ( figure  [ f : contra](a ) ) .",
    "let @xmath542 , @xmath543 , @xmath544 , @xmath545 , @xmath546 , @xmath547 and @xmath548 be the points in @xmath312 corresponding to @xmath200 , @xmath387 , @xmath549 , @xmath550 , @xmath19 , @xmath173 and @xmath541 $ ] , respectively .",
    "we know that @xmath458 is a rank - determining set of @xmath0 . however , as shown in figure  [ f : contra](a ) , @xmath369 is a critical open set disjoint from @xmath551 .",
    "thus @xmath551 is not a rank - determining set of @xmath312 .",
    "\\(b ) now let @xmath0 be the metric graph as in example  [ e : l ] . by contracting @xmath552",
    "$ ] , we get a new graph @xmath312 ( figure  [ f : contra](b ) ) .",
    "let @xmath542 , @xmath543 , @xmath553 and @xmath548 be the points in @xmath312 corresponding to @xmath200 , @xmath387 , @xmath554 and @xmath552 $ ] , respectively .",
    "note that @xmath555 by corollary  [ c:2:2 ] . thus @xmath556 is a rank - determining set of @xmath312 .",
    "however , @xmath557 is not a rank - determining set of @xmath0 .",
    "it is easy to see from proposition  [ p:2:2 ] that minimal rank - determining sets must be finite . in particular",
    ", the intersection of a minimal rank - determining set and an edge contains at most @xmath427 points .",
    "we have the following criterion for minimal rank - determining sets as an immediate corollary of theorem  [ t : criterion ] .",
    "let us reconsider a metric graph corresponding to @xmath451 as in example  [ e : k4 ] .",
    "the dashed areas of figure  [ f : mini ] , @xmath391 and @xmath392 , are two special open sets .",
    "let @xmath558 and @xmath559 .",
    "by example  [ e : k4 ] , @xmath560 and @xmath561 are both rank - determining sets",
    ". we will show that they are minimal rank - determining sets .",
    "note that the points in @xmath562 are symmetrically distributed .",
    "thus we only need to find some special open sets that intersect @xmath560 or @xmath561 at exactly one point by proposition  [ p : mini ] .",
    "we observe that @xmath563 and @xmath564 .",
    "thus @xmath391 and @xmath392 are the desired special open sets .",
    "we ve given a proof of theorem  [ t : g+1 ] by showing constructively that a family of finite subsets of @xmath0 , all having cardinality @xmath84 , are rank - determining sets .",
    "now we will prove that these rank - determining sets are minimal .",
    "let @xmath0 be a metric graph of genus @xmath11 and let @xmath409 be a spanning tree of @xmath0 . denote the @xmath11 disjoint open segments of @xmath430 by @xmath431 .",
    "choose arbitrarily a point @xmath3 from @xmath409 and a point @xmath197 from @xmath15 for @xmath432 .",
    "let @xmath433 .",
    "then @xmath1 is a minimal rank - determining set of @xmath0 .",
    "let @xmath568 . clearly @xmath272 is connected and @xmath569 .",
    "it is easy to see that @xmath272 is a desired special open set .",
    "now let us find the remaining @xmath11 special open sets as required . without loss of generality , we only need to find @xmath391 for @xmath200 .",
    "let @xmath570 and @xmath571 be the two ends of @xmath572 .",
    "note that if @xmath26 and @xmath27 are two points ( not necessarily distinct ) in @xmath409 , then there exists a unique simple path ( no repeated points ) on @xmath409 connecting @xmath26 and @xmath27 , which we denote @xmath573}$ ] .",
    "we observe that @xmath574}\\bigcap\\lambda_t^{[u_a , v_0]}\\bigcap\\lambda_t^{[u_b , v_0]}$ ] contains exactly one point , which we denote @xmath575 .",
    "let @xmath576 .",
    "then @xmath577 and a connected component of @xmath578 is either a single point in @xmath579 or a closed subset @xmath28 of @xmath0 with @xmath575 on its boundary such that @xmath580 .",
    "thus @xmath391 is a special open set intersecting @xmath1 only at @xmath200 .",
    "it follows that @xmath1 is a minimal rank - determining set of @xmath0 .",
    "matthew  baker and xander  faber .",
    "metrized graphs , laplacian operators , and electrical networks . in _ quantum graphs and their applications _ ,",
    "volume 415 of _ contemporary mathematics _ , pages 15 - 33 .",
    "soc . , providence , ri , 2006              grigory  mikhalkin and ilia  zharkov . tropical curves , their jacobians and theta functions . curves and abelian varieties , 203230 , _ contemp . math . _ , 465 , amer .",
    "soc . , providence , ri , 2008 .",
    "http://arxiv.org/abs/math/0612267v2 , 2007"
  ],
  "abstract_text": [
    "<S> a metric graph is a geometric realization of a finite graph by identifying each edge with a real interval . </S>",
    "<S> a divisor on a metric graph @xmath0 is an element of the free abelian group on @xmath0 . </S>",
    "<S> the rank of a divisor on a metric graph is a concept appearing in the riemann - roch theorem for metric graphs ( or tropical curves ) due to gathmann and kerber  @xcite , and mikhalkin and zharkov  @xcite . </S>",
    "<S> we define a _ rank - determining set _ of a metric graph @xmath0 to be a subset @xmath1 of @xmath0 such that the rank of a divisor @xmath2 on @xmath0 is always equal to the rank of @xmath2 restricted on @xmath1 . </S>",
    "<S> we show constructively in this paper that there exist finite rank - determining sets . </S>",
    "<S> in addition , we investigate the properties of rank - determining sets in general and formulate a criterion for rank - determining sets . our analysis is a based on an algorithm to derive the @xmath3-reduced divisor from any effective divisor in the same linear system . </S>"
  ]
}