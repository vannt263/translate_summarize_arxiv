{
  "article_text": [
    "in card - games a very important requirement is that , after shuffling , every hand dealt to players should have approximately the same probability .",
    "therefore , the randomizing properties of the shuffling and dealing procedure is of essential interest .    in 1955",
    "gilbert and shannon @xcite introduced the riffle shuffling as a mathematical model of card shuffling . in the 1980 s reeds @xcite and aldous @xcite added the assumption that every possible cut / riffle combination is equally likely , and that has become known as the gilbert - shannon - reeds or gsr model of card shuffling .",
    "first , the deck is cut into two packets of sizes @xmath0 and @xmath1 with probability @xmath2 , @xmath3 . after the cut the packets are combined together such that the cards of each packet maintain their relative order .",
    "it is assumed that each such interleaving is equally likely . as there are @xmath4 of them , any possible shuffling with a cut of size @xmath0 has probability @xmath5 .",
    "this probability does not depend on @xmath0 , hence each pair of a cut and interleaving is equally likely .    in 1992 ,",
    "bayer and diaconis @xcite generalized the riffle shuffling by introducing the @xmath6-shuffle to make the mixing problem easier .",
    "first the deck is cut into @xmath6 packets of sizes @xmath7 , respectively , with probability @xmath8 .",
    "then the cards are interleaved such that the cards of each packet maintain their relative order , and each such interleaving is equally likely .",
    "it has been proved that making a random @xmath6-shuffle and then a random @xmath9-shuffle is equivalent to making a random @xmath10 shuffle . in particular",
    ", this implies that a sequence of @xmath11 riffle shuffles is equivalent to a single @xmath12-shuffle .",
    "bayer and diaconis used the variation distance : @xmath13 for their analysis , where @xmath14 is the probability of a particular permutation @xmath15 after an @xmath6-shuffle , @xmath16 is the symmetric group of degree @xmath17 , @xmath18 represents the uniform distribution on permutations ( @xmath18@xmath19=@xmath20 for all @xmath21 ) , cards are distinct , and initially the deck is ordered ( we start from the identity permutation ) .",
    "bayer and diaconis found an explicit formula for @xmath22 : @xmath23 where @xmath17 is the size of the deck and @xmath24 in this paper we will consider permutations as a bijection from @xmath25 to itself , so if we apply @xmath15 to a sequence of objects , then object in position @xmath11 will move to position @xmath26 .",
    "this approach is illustrated via the next example : the permutation @xmath27=[43125 ] changes our initial ordering to 34215 , as well as rearranging 25431 to 43521 , and 53412 to 41352 .",
    "it is easily checked that @xmath28=2 .",
    "an interesting generalization is when we allow some cards to have the same value .",
    "this makes our problem more complicated because decks ( ordered sequences of cards ) and transformations can not be identified with permutations anymore .",
    "indeed , there is a set of permutations for each pair of decks that transform the first deck into the second .",
    "another novelty is that the initial configuration of a deck affects how fast the order of the cards approaches the uniform distribution . for a rearrangement @xmath29 of @xmath30 , let @xmath31 be the set of permutations which transform @xmath30 into @xmath29 . the transition probability between @xmath30 and @xmath29",
    "is @xmath32 applying the above explicit formula , we arrive to @xmath33 where @xmath34 is the number of permutations in @xmath31 with @xmath35 descents .",
    "conger and viswanath @xcite proved that the calculation of the transition probabilities is a # p - complete problem .",
    "most people believe that # p - complete problems do not admit efficient solutions , so a possible way to examine this question is to approximate this probability .",
    "conger and howald @xcite provided an approximation of the transition probabilities when @xmath6 is large . to describe their results",
    "we make some further definitions .",
    "let @xmath6 and @xmath9 be card values .",
    "we say that @xmath30 has an _",
    "@xmath36 digraph at @xmath11 _ ,",
    "if @xmath37 and @xmath38 .",
    "we say that @xmath30 has an _",
    "@xmath36 pair at ( @xmath39 ) _ , if @xmath40 , @xmath37 , and @xmath41 .",
    "let @xmath42 as an example , the following deck , that consists of red ( @xmath43 ) and black ( @xmath44 ) cards , has 1 @xmath45 digraph , 2 @xmath46 digraphs , 12 @xmath45 pairs , 13 @xmath46 pairs : @xmath47 and @xmath48 , @xmath49 . clearly",
    ", @xmath50 and @xmath51 are antisymmetric in @xmath6 and @xmath9 : @xmath52    conger and howald @xcite proved that @xmath53 where @xmath54 is the number of different reorderings of the deck represented by @xmath30 , and @xmath55 with @xmath56 being the number of cards of value @xmath6 , @xmath57 the number of cards of value @xmath9 .",
    "they analyzed the behaviour of this formula in the case of repeated cards , where the complete order of the deck matters after the shuffling ( `` fixed source '' case ) .",
    "they also looked at shuffling and dealing into hands of all distinct cards where , on the other hand , only the cards dealt to players matter , but the order within a player is indifferent ( `` fixed target '' case ) . as a consequence it is shown that in the latter case with 52 distinct cards , switching from ordered dealing to cyclic dealing improves the randomness by a factor of 13 , and switching from cyclic dealing to back and forth dealing again improves the randomness by a factor of 13 .",
    "assaf , diaconis and soundarajan @xcite also analyzed decks with repeated cards if only certain features are of interest , for instance , suits disregarded or only the colors of interest . for these features the number of shuffles drops in a significant rate .    in this paper",
    "we build on and combine the above two cases : we derive a formula for the effectiveness of a dealing method when there are repeated cards in the deck , and only the hands dealt to players are of interest . similarly to the all - distinct case we prove that , in this first - order approximation , switching from ordered dealing to cyclic dealing improves the randomness by a factor of @xmath58 , @xmath58 being the number of cards each player receives . switching from cyclic dealing to back and",
    "forth dealing improves the randomness by a factor of @xmath58 when @xmath58 is an odd number , while the coefficient @xmath59 disappears for even @xmath58 values .",
    "our formula becomes explicit enough so that for two types of cards and odd @xmath58 values we come up with a dealing method that is even better than back and forth .",
    "the organization of the paper is as follows . in section 2",
    "we further introduce some notation and apply to our case of repeated cards in the deck . in section 3",
    "we analyze the role of dealing methods with repeated cards , and arrive to a key formula in ( [ 6 ] ) we can build on later . for simplicity ,",
    "this is done with four players . in section 4",
    "we generalize the result to an arbitrary number of players , and compare the effectiveness of the ordered , the cyclic , and the back and forth dealing . in section 5",
    "we briefly deal with the cases of non - ordered initial decks .",
    "section 6 provides explicit computations when there are only two or three types of cards .",
    "we start with a deck of @xmath60 cards .",
    "these cards can be repeated , their values ( colours ) are taken from the @xmath0-element set @xmath61 .",
    "the initial deck is ordered : the first @xmath62 cards are @xmath63 coloured , the next @xmath64 cards are @xmath65 coloured , @xmath66 , and the last @xmath67 cards are @xmath68 coloured ( @xmath69 ) .",
    "an @xmath6-shuffle is performed on the deck , and then it is dealt to four players , called north(n ) , east(e ) , south(s ) and west(w ) , respectively .",
    "the set @xmath70 of hands consists of the vectors @xmath71 where @xmath72 , @xmath73 , @xmath74 , @xmath75 is the number of @xmath76 coloured cards received by north , east , south , west , respectively .",
    "these numbers are non - negative integers , and satisfy @xmath77 define @xmath78 as the stationary distribution , which is in fact uniform on @xmath70 : @xmath79 we use the variation distance as a level of randomness of the hands after an @xmath6-shuffling and dealing : @xmath80 here we suppose that @xmath30 , the initial sequence of cards , is ordered , and @xmath29 is some rearrangement of @xmath30 .",
    "the inner sum is for all @xmath29 s that give hand @xmath81 after the dealing .",
    "it is easy to see that this sum has @xmath82 terms . for computing @xmath83 we use , with @xmath84 , and also :",
    "@xmath85 because @xmath86 ( @xmath87 ) , and @xmath88 if @xmath89 by virtue of the initial deck .",
    "thus the variation distance becomes @xmath90",
    "next we consider the role of the dealing methods .",
    "the dealer @xmath6-shuffles the deck and then deals it to the four players .",
    "we can describe the dealing method as a sequence of repeating letters @xmath54 , @xmath91 , @xmath92 and @xmath50 , representing the order in which players receive the cards of the shuffled deck .",
    "the sequence that corresponds to the _ ordered dealing _ is @xmath93 here the first @xmath58 cards go to north , the next @xmath58 cards go to east , the next @xmath58 cards go to south and the last @xmath58 cards go to west .",
    "the next famous dealing method is the _ cyclic dealing _ with @xmath94 where the top card goes to north , the second goes to east , the third goes to west , etc .",
    "the _ back and forth dealing _ for even @xmath58 values is represented by @xmath95 while for odd @xmath58 values we can write @xmath96 next we suppose that in the initial deck the first type is black ( b ) , the second type is red ( r )",
    ". let @xmath9 and @xmath97 denote the number of black and red cards in the deck , respectively , and let @xmath98 be the number of non - red and non - black cards .",
    "let @xmath99 , @xmath100 , @xmath101 , @xmath102 be the @xmath103 position , @xmath104 , that goes to north , east , south , west , respectively in the dealing method .",
    "let @xmath105 , @xmath106 , @xmath107 , @xmath108 be the number of non - red and non - black cards that north , east , south , west has respectively after dealing .",
    "let @xmath109 , @xmath110 , @xmath111 , @xmath112 be the number of black cards that north , east , south , west has respectively after the dealing .    [",
    "6 ] @xmath113 where @xmath114",
    "first we will prove that for a particular permutation @xmath29 : @xmath115 if we change in the position @xmath11 the value from red to black in a deck @xmath29 , then we can compute the change in the value @xmath116 .",
    "within the first @xmath117 cards , denote    * by @xmath118 the number of black cards ; * by @xmath119 the number of red cards ; * by @xmath120 the number of non - red and non - black cards .",
    "suppose that the card in the position @xmath11 is red coloured .",
    "furthermore , within the last @xmath121 cards , denote    * by @xmath30 the number of black cards ; * by @xmath122 the number of red cards ; * by @xmath123 the number of non - red and non - black cards .",
    "then we have @xmath124 and @xmath125 , and the card in the position @xmath11 stands in @xmath126 with those @xmath118 cards within the first @xmath117 cards which are black coloured ; and stands in @xmath127 with those @xmath30 cards within the last @xmath121 cards which are black coloured .",
    "if we change in the position @xmath11 the value from red to black we get that the change of the value @xmath116 is @xmath128 based on this observation we now build up the value of @xmath116 recursively .",
    "we start with an all - red deck , in which the value of @xmath129 is 0 .",
    "first we flip from this deck all the non - black and non - red cards of @xmath29 .",
    "this does not change @xmath129 .",
    "next we flip from red all the black cards of @xmath29 . adding the changes in @xmath129 , we are lead exactly to .",
    "we introduce @xmath130the number of non - red and non - black cards in @xmath29 before the @xmath131 position@xmath132the number of non - red and non - black cards in @xmath29 after the @xmath131 position@xmath133 ) , and proceed with @xmath134 in order to compute @xmath135 , we introduce an auxiliary uniform measure on the permutations . with the help of this measure we handle the sum as a conditional expectation of the random variable @xmath136 , a function of the permutation .",
    "@xmath137 for @xmath138 .",
    "the justification of this equality is that for each permutation @xmath29 with @xmath139 we sum up the value of @xmath136 if position @xmath11 is black in permutation @xmath29 . in @xmath140",
    "we also sum up these terms , but we divide each term by @xmath141 with this substitution we arrive to @xmath142 the dealing method determines which player receives the card in position @xmath11 .",
    "suppose it is player north and in the @xmath131 position there is a black card .",
    "then @xmath143 if position @xmath11 belongs to player east , south , or west , then the above formula holds with @xmath109 replaced by @xmath110 , @xmath111 , or @xmath112 , respectively .",
    "compare this to to get @xmath144 next we turn to computing the conditional expectation .",
    "@xmath145 suppose now that position @xmath11 belongs to player north in the dealing method .",
    "then one of these probabilities can be computed in the following way : @xmath146 now combine , , and with the definition of @xmath147 ( and notice that @xmath148 is trivially 0 for any dealing method ) to conclude @xmath149 here we only considered those positions that belong to player north . repeating the computation with positions that go to the other players we arrive to the statement of the proposotion ( see also ) .",
    "the generalization to the case of @xmath150 players and @xmath151 cards of @xmath0 different colours is straightforward .",
    "the analogue of now reads as : @xmath152 where @xmath153 are the number of cards coloured @xmath154 in the deck .",
    "the main point is again the calculation of @xmath155 , where @xmath156 and @xmath157 are two different types .",
    "let @xmath158 be the number of @xmath156 coloured cards which player @xmath11 is dealt , and @xmath159 be the total number of cards of value @xmath156 .",
    "let @xmath160 be the number of @xmath161 coloured cards which player @xmath162 receives .",
    "( [ 6 ] ) generalizes to    @xmath163    where @xmath164 is the @xmath165 position that goes to player @xmath11 , @xmath166 .",
    "we are now ready to compare the three famous dealing methods in terms of our first - order approximation .",
    "[ tm : sfactor ] the coefficient of @xmath167 is exactly @xmath58 times larger in the ordered dealing than in the cyclic dealing for every possible @xmath0 and @xmath150 values .",
    "if @xmath58 is even then the coefficient is 0 in the back and forth dealing .",
    "if @xmath58 is odd then the coefficient is exactly @xmath58 times smaller in the back and forth dealing than in the cyclic dealing for every possible @xmath0 and @xmath150 values .    in the ordered dealing , without loss of generality ,",
    "suppose that player @xmath162 receives all his cards before player @xmath11 receives his first card .",
    "then in the representing sequence there are @xmath168 @xmath169 pairs and 0 @xmath170 pairs , thus @xmath171 .    in cyclic",
    "dealing , suppose that @xmath162 receives his first card before player @xmath11 . then the @xmath103 position that belongs to player @xmath162 stands in @xmath169 pair with @xmath172 positions that belong to player @xmath11 , @xmath104 .",
    "similarly , the @xmath103 position that belongs to player @xmath11 stands in @xmath170 pair with @xmath173 positions that belong to player @xmath162 , @xmath104 . we conclude that @xmath174 in this case .    if @xmath58 is an even number then the representing sequence of the back and forth dealing is symmetric , hence @xmath175 .",
    "if @xmath58 is an odd number then in the representing sequence of the back and forth dealing let us call the first @xmath176 positions the first group , the last @xmath150 positions the second group .",
    "the first group is symmetric , hence within the first group positions do not contribute to @xmath177 . in the first group the @xmath178 positions that belong to player",
    "@xmath162 stand in @xmath169 pairs with the position which belongs to player @xmath11 in the second group , and the @xmath178 positions that belong to player @xmath11 stand in @xmath170 pairs with the position that belongs to player @xmath162 in the second group .",
    "suppose again that player @xmath162 receives his first card before player @xmath11 .",
    "then in the second group the position that belongs to player @xmath162 stands in @xmath169 pair with the position that belongs to player @xmath11 in the second group .",
    "thus we have @xmath179 .    summarizing ,",
    "we have    * ordered dealing : @xmath180 .",
    "* cyclic dealing : @xmath181 , * back and forth : @xmath182 , if @xmath58 is an odd number . * back and forth : @xmath175 , if @xmath58 is an even number ,    where @xmath183 this holds true for each pair @xmath184 of players , therefore the same holds for @xmath185 this is @xmath58 times larger for the ordered dealing than for the cyclic dealing , and this sum is @xmath58 times larger for the cyclic dealing than for the back and forth dealing with odd @xmath58 values , while the sum is zero for the back and forth dealing with even @xmath58 values .",
    "next we analyze the term @xmath186 .    in the ordered dealing",
    "the positions @xmath187 , @xmath188 , @xmath189 belong to the @xmath190 player , so we have to sum up these positions when we compute @xmath191 .",
    "@xmath192    for cyclic dealing the positions @xmath11 , @xmath193 belong to the @xmath190 player , summing up these positions in @xmath191 we have @xmath194    in the back and forth dealing with even @xmath58 , the positions @xmath11 , @xmath195 belong to the @xmath190 player , summing up these positions for @xmath191 : @xmath196 if @xmath58 is an odd number , then positions @xmath11 , @xmath197 belong to the @xmath190 player , and @xmath198 therefore , we have @xmath199 for the ordered dealing , @xmath200 for the cyclic dealing , and @xmath201 in the back and forth dealing .",
    "thus we see that these terms also differ by factors of @xmath58 when comparing the ordered , cyclic , and back and forth dealing methods ( odd @xmath58 values ) , while this term is also 0 for the back and forth dealing if @xmath58 is an even number .",
    "we have proved the claim for each term in the sum @xmath202 which completes the argument .",
    "now , we suppose that the initial deck is arbitrary . in this case",
    "the variation distance is the following : @xmath203 the only term that depends on the dealing method is @xmath204 the proof of ( [ tm : sfactor ] ) did not depend on the initial deck , hence that theorem extends to the case of an arbitrary initial deck .",
    "the purpose of this section is to gain some quantitative insight on how the leading term of the variation distance behaves in the case of repetitive cards .",
    "we now consider 52 cards in the deck , each either red or black , and four players .",
    "let @xmath9 be the number of black cards in the deck . using the computer and our formulas we are able to compute the coefficient of @xmath167 for any possible value @xmath9 . applying ( [ 6 ] ) the coefficient of @xmath167 in becomes @xmath205 the values of the last four sums",
    "are easily computed for a dealing method .",
    "the numerical values are 91 ; 260 ; 429 ; 598 for the ordered dealing , 325 ; 338 ; 351 ; 364 for the cyclic dealing , and 343 ; 344 ; 345 ; 346 for the back and forth dealing .",
    "we see that the values differ the least in the back and forth dealing and the most in the ordered dealing . in this sense the best of these dealing methods is the back and forth dealing , and the worst is the ordered dealing .",
    "we think that dealing method @xmath118 is better than dealing method @xmath44 if the following value is smaller in @xmath118 than in @xmath44 : @xmath206 our conjecture is that the best dealing method is a dealing method in which two of the sums equal 344 and the other two equal 345 . as an example , consider @xmath207 indeed , the graph [ s5 ] illustrates that this dealing method has approximately half the coefficient than that of the back and forth dealing for each value @xmath9 .     for each possible value @xmath9 in the back and forth and in our conjectured best dealing method .",
    "the horizontal axis marks the value @xmath9 and the vertical axis marks the coefficient of @xmath167 . squares plot our conjectured best dealing method and circles stand for back and forth . for better illustration we excluded the points @xmath208 and @xmath209 of the back and forth dealing .",
    "]    that is , for large @xmath6 we can save circa 1 riffle shuffle if we use this method instead of the back and forth dealing .",
    "we note that there are other dealing methods which have the same coefficient of @xmath167 for each value @xmath9 , but our conjecture is that there is no better one for two types of cards .",
    "next we suppose that there are three different types of cards in the deck : black , red and green .",
    "the number of cards is 52 and there are four players .",
    "let @xmath9 be the number of black cards , @xmath97 be the number of red cards , @xmath210 be the number of green cards in the deck , @xmath211 . using the computer and our formula we are able to compute the coefficient of @xmath167 for any possible @xmath212 values .",
    "figure [ ize ] shows the coefficient of @xmath167 for each possible @xmath212 value in the back and forth dealing method .",
    "a main question is whether the dealing method seen in is better than the back and forth dealing in this case .",
    "the answer is : not for every configuration .",
    "for @xmath213 the coefficient of @xmath167 is @xmath214 for the back and forth dealing and @xmath215 for dealing method .",
    "figure [ ize1 ] shows the coefficient of @xmath167 for each possible @xmath212 values with . in most cases",
    "it has a smaller coefficient than the back and forth dealing , but there are some configurations when the back and forth dealing is better .",
    "this proves that the conjecture what we drew up for two different types is false for three types ."
  ],
  "abstract_text": [
    "<S> in a recent work conger and howald derived asymptotic formulas for the randomness , after shuffling , of decks with repeating cards or all - distinct decks dealt into hands . in the latter case </S>",
    "<S> the deck does not need to be fully randomized : the order of cards received by a player is indifferent . </S>",
    "<S> they called these cases the `` fixed source '' and the `` fixed target '' case , respectively , and treated them separately . </S>",
    "<S> we build on their results and mix these two cases : we obtain asymptotic formulas for the randomness of a deck of repeating cards which is shuffled and then dealt into hands of players . </S>",
    "<S> we confirm that switching from ordered to cyclic dealing , or from cyclic to back - and - forth dealing improves randomness in a similar fashion than in the non - repeating `` fixed target '' case . </S>",
    "<S> our formulas allow to improve even the back - and - forth dealing when the deck only contains two types of cards .    </S>",
    "<S> * keywords : * card shuffling , dealing methods , randomizing + * msc ( 2010 ) : * 60c05 , msc 60j10 </S>"
  ]
}