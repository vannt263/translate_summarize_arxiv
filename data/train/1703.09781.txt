{
  "article_text": [
    "optimal water distribution and energy waste reduction are currently hot topics .",
    "water demands are not being met in many regions around the globe ; both developed and underdeveloped ; where climate change and economic water scarcity are two issues that have the largest impact .",
    "both drought prone and wet areas have observed severe water network operation problems that have lead to water restrictions and losses respectively . notwithstanding the 7.5bn investment in uk water distribution networks , 3.3bn liters of water",
    "were lost per day in 2010 @xcite .    over the last decade , there has been a trend for water utility companies to create smart water networks in order to improve the quality of service , reduce water waste through balancing the water supply and demand , and minimize the maintenance cost by increasing network resilience . to achieve these goals ,",
    "wireless sensing technologies are being adopted for the monitoring of water network states and the detection of abnormal behaviors such as water leakage and bursts @xcite , which feeds the precise control of the network .",
    "therefore , the reliability of sensing and anomaly detection plays a key role in the success of such networked cyber - physical systems ( cpss ) as a whole .",
    "according to the reports from water utility companies @xcite , the main limitations of current water distribution network infrastructures are : ( a ) the underground position of water network assets , such as water meters , pressure reducing valve ( pvr ) controllers , pressure transducers , acoustic leak detectors , and district metering area ( dma ) meters , ( b ) the country - scale deployment , and ( c ) the lack of power to these underground locations .",
    "specifically , less than 0.5% of the assets are above ground , more than 99% are remote away from power , and the water networks often flow in geographically remote un - populated areas .",
    "therefore , the provision or maintenance of power and wired communication within underground asset locations is generally considered too costly and the battery - driven wireless sensor nodes are really the only real choice . for the same reasons ,",
    "wide spread wired telemetry and control systems which deployed in industrial environments , such as supervisory control and data acquisition ( scada ) systems @xcite , to support city - scale infrastructures incorporate both radio and wired communication .    in smart water networks , physical states such as water pressure and pipe vibration need to be sampled at a high frequencies ( e.g. more than 128 samples per second per sensor ) .",
    "this high frequency is required to capture instabilities or transient event of fast signals , like pressure signals propagated with sound velocity inside the pipes .",
    "additionally , high sample - rated data can be exploited by server - side algorithms to generate high level of information precisely , such as the burst localization algorithm in [ 1 ] , which localize bursts with 0.5 m accuracy .    however , to transmit these required high - speed raw sensor data streams through long - range ( several kilometers ) wireless communications , high transmission power is required that lead to fast battery depletion . as a result ,",
    "utility companies who have already spent billions of dollars in water network maintenance , has to provide the supplementary expensive maintenance for frequently replacing batteries , is considered unaffordable .",
    "therefore , sustainable smart water sensing system design for autonomous water network monitoring , which balances the communication , is highly desired .",
    "current smart water systems @xcite are unable to achieve the above objectives in a cost - effective way .",
    "for instance , the sustainable smart water system proposed by mit  @xcite adopts large overground solar panels and direct power from lampstands , requiring expensive instrumentation and deployment costs ; while other approaches such as @xcite require knowledge of the complete hydraulic models of water networks , which is computationally expensive and unable to adapt to water network system dynamics .          in this paper",
    ", we propose a cost - effective and sustainable sensing system for the autonomous monitoring of system states and abnormal behaviors in water networks .",
    "contemporary water supply network structure consists of three individual layers : ( a ) storage and pumping , ( b ) supply zones and district meter areas ( dmas ) , and ( c ) end users ( customers ) . while valves control flows and pressures at fixed points in the water network , pumps pressurize water to overcome gravity and frictional losses along supply zones , which are divided into smaller fixed network topologies ( in average 1500 customer connections ) with permanent boundaries , dmas .",
    "the water pressure distribution and flows into each dma is continuously monitored with the aim to enable proactive leakage management , simplistic pressure management , and efficient network maintenance .",
    "in our project , 24 sensor / actuator nodes were deployed to the inlet of equal number of dmas in bristol water network , which record , analyze , and transmit high sample - rate pressure and flow data ( up to 128 samples / sec ) to a data processing center periodically , and cover an area of approximately 7,544 customer connections and 57 km of pipe mains as shown in fig .",
    "[ fig : fig1 ] . a low - frequency ( 868 mhz ) and",
    "high - power wireless communications was utilized ( e.g. around several millijoules per kilobytes @xcite ) to support the long - range and high - speed sensor data stream transmissions .",
    "additional capability of our large scale smart water distribution networks ( wdn ) is the remote control of dma actuator components ( i.e. valves ) which optimize the water network performance and lifetime over varying demands . because of underground power limitations , main trend is the development and deployment of self - powered actuators . in our system , self - powered multifunction network actuators for dynamically",
    "reconfigurable dmas have been developed which integrate a cal - val 99 - 51 @xcite and an energy generator that harvests energy ( up to 0.7 w ) from the water flow @xcite . under the context of the same project , an in - vitro",
    "small scale testbed was created to emulate a smart water network , which consist of three dmas , and evaluate the efficiency of our algorithms , waterbox @xcite ( fig .",
    "[ fig : fig1w ] ) .        in order to achieve sustainable sensor node operation by utilizing the limited and dynamic harvested energy , we use lossless compression and propose an _ in - node _ anomaly detection algorithm to reduce the raw data volumes ( and therefore the energy ) required for the high - power transmission .",
    "to further reduce energy consumption , our system only requires to transmit a subset of the raw data streams , while other samples are estimated using auto - regressive models @xcite , based on strong correlations among sensor data streams observed from real data .",
    "fundamentally , these correlations are based on the sound - velocity propagation of pressure signals inside the water network .    in recent years , advanced control methods have been considered in pressure management and pump scheduling tasks ( i.e @xcite ) ; all these require reliable information about the system states .",
    "however , this information is not always available , due to sensors hardware malfunction or battery depletion , and data estimation is required . as a result , the unavoidable estimation error not only leads to unreliable sensor data analytics , but also the performance degradation of smart water control system as a whole .",
    "therefore , this paper aims to maximize the accuracy of all estimated data streams by fully exploiting the dynamic energy - harvesting opportunities .",
    "the operation of our system is as follows : initially the data processing center receives raw data and energy information from all sensor nodes in the network .",
    "after this , the data processing center uses the raw sensor data to establish a correlation graph of the network .",
    "this and the energy information are used to determine which nodes are now required to send raw data ; this instruction is sent individually to those nodes only .",
    "for every subsequent time interval ( we set this to 15 minutes in our system ) all nodes are required to make note of their behaviours using anomaly detection results and energy metadata to the server . therefore ,",
    "unless the data processing center requests it , only the anomaly results and energy information are communicated to the server for each interval .    it can be seen that a fundamental question in our system is : _ which are the best subsets of sensor nodes that should be requested to transmit their raw data , given the complex system dynamics regarding the ( arbitrary ) stochastic processes of energy harvesting , energy consumption , and correlations among sensor data streams ?",
    "_ we answer this question by formalizing a stochastic optimization problem to maximize the estimation reliability while ensuring the sustainable operation of systems , and solve the problem by developing a lightweight algorithm with strong theoretical guarantees to compute the best transmission nodes at real - time .",
    "the specific contributions of this paper are as follows :    * to reduce the energy consumption for long - range high - power data transmissions , we develop an new _ in - node _ anomaly - detection algorithm that identifies the abnormal behaviours ( e.g. bursts and leakages ) in water networks and propose an estimation - based transmission solution by exploiting the properties of sound - velocity propagation of pressure signals inside the water network .",
    "different from current anomaly detection algorithms , we adopt an novel approach that detects anomalies by analyzing data compression rates rather than raw data .",
    "in addition , our estimation is based on lightweight auto - regressive models , avoiding the use of complex hydraulic models@xcite .",
    "* we formalize a stochastic optimization problem for the best selection of raw data transmissions , which aims to maximize the aggregated estimation reliabilities while guarantee a minimal reliability constraint and the sustainable operation of the smart water sensing system . *",
    "we develop data transmission scheduling ( dts ) , an asymptotically optimal solution to the formalized problem , based on lyapunov optimization theory @xcite .",
    "guided by the principles of dts , we then propose fast - dts , a lightweight online algorithm that can adapt to both dts and fast - dts .",
    "both dts and fast - dts _ do not _ need to predict any future knowledge of the water network .",
    "further , we _ do not _ make any stochastic / probabilistic assumptions regarding the system dynamics , which means that our approach is adaptive to arbitrary energy and correlation dynamics . *",
    "our work bridges the gap between data processing and resource allocation of wireless systems . to our knowledge",
    ", this is not only the _ first _ approach that adopts data stream estimation in smart water systems , but also the _ first _ scheduling approach based on data stream estimation in energy harvesting networks @xcite .",
    "we evaluated our system by using 170-day water pressure data from our real smart water system . during this process , we examined data reliability , energy waste , node lifetime , and transmission gaps by using three different algorithms where fast - dts outperformed them .",
    "further evaluation was conducted by using and extending the hardware infrastructure of the small scale testbed , waterbox @xcite , to verify the adaptive behavior of the system in anomalies ( i.e. leakages and bursts ) .      many current research on smart water networks",
    "@xcite focus on efficient sensing system design , while others @xcite seek leakage detection solutions by developing new anomaly detection algorithms .",
    "however , none of them considers energy optimization nor data stream estimation .",
    "similar to our work , @xcite considers energy harvesting systems for water monitoring , but this work require expensive instrumentation and deployments of solar panels and lampposts ( using solar power at daytime , and lampposts at night ) .",
    "in contrast , our system harvests energy from water flows , resulting easy implementation , and continuous power supply ( both day and night ) .",
    "more importantly , our scheduling algorithm ( including power management ) can ensure the sustainable operation of the system .",
    "in fact , there is an increasing interest in developing more efficient water flow energy harvester  @xcite .",
    "in addition , optimization for energy harvesting networks is an emerging hot research area @xcite .",
    "a fundamental research issue for these approaches are to optimize the network performance ( e.g. delay  @xcite and network utility  @xcite ) while ensuring the sustainable operation of the network , by developing network algorithms such as routing and flow rate control .",
    "however , none of them considers smart water networks , nor the problem of estimation reliability maximization that we study in this paper .",
    "steady state water distribution networks can be considered similar to industrial process plants such as precise industrial temperature control systems . however",
    "the combination of large - scale , dynamic reconfiguration due to anomalies ( i.e. bursts , leakages ) , and nondeterministic behavior of water networks due to demand change along the time , set this comparison unreal and impractical .",
    "these challenges introduce new needs to the control process , which are unnecessary for industrial process plants which are isolated systems .",
    "automatic control methods are vitally important in solving some operational challenges like reducing pressure driven leakage , energy usage in pumping , leak localization etc . however , a naive deployment of new control technologies in critical infrastructure and their potential failures may have catastrophic consequences for large - scale operational smart water networks .",
    "two of the few sophisticated operational control systems include i2o @xcite and derceto @xcite , who have developed and applied optimal automatic remote control of prvs and pumps , respectively .",
    "however , these systems are based on diurnal training and communication that produces static control schedules for predefined periods of time . in our project , we study and develop real - time control algorithms , which require frequent communication with sensor / actuator nodes to achieve optimal network reconfiguration in anomalies and demand changes .",
    "thus , the development of a sustainable smart water network is essential .",
    "the rest of this paper is organized as follows .",
    "section [ sec : preliminary ] briefly provides preliminaries for the understanding of water pressure signal transmission and data stream correlations .",
    "section [ sec : system ] describes the system overview and models .",
    "section [ sec : anomaly ] presents the anomaly detection algorithm .",
    "section [ sec : scheduling ] presents the dts and fast - dts algorithms .",
    "section [ sec : estimation ] discusses auto - regressive models and the estimation process of water pressure data .",
    "section [ sec : evaluation ] presents our evaluation , an we finally conclude this paper in section [ sec : conclusion ] .",
    "pressure waves are generated at any point in a pipe system where a disturbance occurs because of flow rate change .",
    "an external disturbance could be a valve that is opening or closing , a pump that is started up or shut down , a change in reservoir pressure , or in the inflow or outflow for the system .",
    "a pressure wave , which represents a rapid pressure and associated flow change , travels at sonic velocity @xcite by using the in pipe liquid as a medium , and the wave is partially transmitted and reflected at all discontinuities in the pipe system ( pipe junctions , pumps , open or closed ends , surge tanks , etc . ) .",
    "the sonic speed , and consequently the delay of the pressure wave propagation , for a liquid flowing within a line are influenced by the elasticity of the line wall , pipe diameter and thickness , and restraint on longitudinal pipe movement .",
    "in addition to wave propagation delay , the effect of in - pipe friction causes attenuation in pressure wave , which is related to the length and material of the pipe .",
    "specifically , the equation that describes the pressure wave attenuation/ amplification between two individual points in terms of pressure head based on @xcite is the following : @xmath0 where @xmath1 is the water flow rate , @xmath2 is the pipe length , @xmath3 is the friction factor , @xmath4 is the diameter , and @xmath5 is the area of the pipe between the two points . by using well - studied equations like ,",
    "the propagation delay and wave attenuation in a water network can been modeled accurately .",
    "the modeling normally involves the physical properties of different pipes and network topology and this would allow the estimation of the pressure of each interconnected point in a water network using raw data only from one point .",
    "however , the modeling task is unfeasible because of the size of a real water network and impossible because of unpredictable dynamic changes ( e.g. new asset installation and network expansion ) or anomalies ( leakages and bursts ) in the water network . for these reasons ,",
    "water network monitoring systems have required the installation of battery driven sensor nodes ( of which 99% are underground ) on the main pipes at least , junctions and valves .",
    "one of water network analysts main interests lie in this system assisting them to predict leakages and network problems .",
    "this is focused on the observation of pressure wave behavior and transformations at discontinuities ; so called transient events .",
    "because of the high velocity , the analysis of pressure waves requires relatively high sample - rate pressure data from the water network .",
    "the initial system that we have installed has the ability to retrieve at least 128 pressure samples per second from dma inlets across the water network .",
    "figure  [ fig : fig2 ] represents high sample - rate pressure data from seven sequential nodes , which allows transient event analysis and the observation of propagation delay and the signal attenuation .",
    "as shown in fig .  [ fig : fig3 ] , a smart water sensing system consists of a set of sensor nodes @xmath6 and a data processing center . continuous physical time is divided into discrete intervals @xmath7 ( e.g. a default interval is 15 minutes in our system ) , where the time - horizon of the smart water system @xmath8 can be any large but finite value ( e.g. several years ) .      at each interval @xmath9 , each sensor node carries out the following operations :          each sensor node collects water pressure data at a high sample rate ( e.g. more than 128 samples per second in our system ) , and formats this data in _ chunks _ of multiple measurements ( e.g. 100 measurements per chunk in our system ) .",
    "a time stamp of a chunk is defined as that of the first measurement in this chunk .",
    "the formatted data is compressed chunk by chunk , using a lightweight lossless compression algorithm ( e.g. s - lzw - mc @xcite ) and minilzo @xcite ) which significantly reduces the energy consumption for the high - power wireless transmissions .",
    "we develop an efficient algorithm that detects and water network anomalies such as leakage and burst in real - time .",
    "the output of the anomaly detection algorithms are the timestamps of anomalies during each interval .",
    "in addition , we observe from real data and verified with experiments in the small scale testbed that anomalous behaviors also will have a significant impact on the correlation strength among data streams , which further affects estimation reliability .",
    "therefore , the combination of data estimation and anomaly detection are central for our overall system design .",
    "we will discuss the anomaly detection algorithm in detail in section [ sec : anomaly ] .",
    "water networks cover city scale areas and most of the assets , i.e. sensor nodes , are deployed underground . as a result ,",
    "long range wireless communication technologies are unavoidable either to cover long distances or to increase signal penetration . for this reasons , the contemporary low power wide area ( lpwa ) technologies @xcite , which are mostly single hop ,",
    "can be considered as the most appropriate communication approaches .",
    "the current paper considers a single hop communication infrastructure based on lpwa technologies and uses the experimental results of @xcite to setup the evaluation parameter , such as communication energy consumption .",
    "specifically , the parameters of xbee868 @xcite were used which implements the zigbee protocol for long ranges over 868mhz .    at this point ,",
    "the timing limitations of lpwa technologies are important to be mentioned . based on experimental result in [ 3 ] ,",
    "the tradeoff of implementing a reliable long range communication based on low frequency , i.e. 868 mhz , is the decrease of data rate . in our system",
    ", every sensor node transmits 60 kbytes of water raw data to a data processing center , while the data rate of xbee868 is 24kbps .",
    "thus , the required time is around 15sec . by the fact that data processing centers are highly capable hardware infrastructure ,",
    "the required time for decision making processes ( i.e. scheduling ) is at least one to two orders of magnitude less that the data transmission .    at each interval",
    ", each sensor node is required to transmit its _ * node states * _ information to the data processing center , which includes ( a ) the number of anomalies within this particular interval denoted as the _ * anomaly counter * _ ; ( b ) its energy related parameters which will be discussed later soon .    according to its transmission information",
    ", each sensor node @xmath10 can provide two communication states at each interval @xmath9 : either : ( a ) transmit both raw data stream and node states , or ( b ) transmit node states only .",
    "we use a binary variable @xmath11 and @xmath12 to denote these respectively .",
    "each sensor node @xmath13 can harvest @xmath14 amount of energy from the water flow @xcite at each interval @xmath9 . as shown in fig.[fig : energyharvesting ] , @xmath14 is time - varying due to the dynamic water flow rate in the water network .",
    "the harvested energy can either be consumed by in - node operations ( i.e. sensing and computation ) and wireless transmission ; or be stored in the battery , which is modelled as an energy queue @xmath15 where @xmath16 is the battery capacity . in our system ,",
    "@xmath17 kj ( two 3.6v batteries with capacities of 2.4ah each ) .",
    "considering the communication states @xmath18 of each node @xmath13 , the queueing dynamic of the battery at each sensor node @xmath19 is modelled as    @xmath20    where for any real number @xmath21 , @xmath22 if @xmath23 , @xmath24 otherwise .",
    "@xmath25 and @xmath26 represent the energy costs for transmission and all in - node operations ( including sensing , compression , and anomaly detection ) , which are expected to change over time due to the system dynamics such as time - varying channel quality etc .",
    "it is worth noting that since the energy cost for wireless transmission in state @xmath12 is minimal ( its several bytes for node states transmission ) , we only consider energy consumption caused by in - node operations in this state .",
    "based on the node states and raw data streams received from the sensor nodes , the data processing center is responsible for performing the tasks of correlation graph updates , data stream estimation , and raw data transmission scheduling .",
    "[ table : symbol ]      due to the water network interconnections , neighboring sensor nodes provide high correlated data ( i.e. in fig .",
    "[ fig : fig2 ] ) .",
    "the data correlation among different nodes may change either for predictable or unexpected reasons within a water network .",
    "changes to the water network topology because of the control of water network assets , i.e. valves , or the physical changes from engineers , such as isolation of pipes or areas for maintenance , can be considered predictable . due to the slow physics ( e.g. demand changes ) of water networks",
    ", these actions can occur in the range of some hours to days resulting the rare correlation graph update . on the other hand , anomalies , such as leakages or bursts",
    "are unexpected . by exploiting , the anomaly detection at the edge and the a - prior knowledge of water network topology changes , the proposed system can minimize the correlation graph updates accordingly .",
    "specifically , the data processing center computes the time - varying correlation graph @xmath27 , where @xmath28 represents the set of all current correlation links at each interval @xmath9 .",
    "a correlation link @xmath29 is considered to exist in @xmath28 , if the current pearson correlation coefficient @xmath30 of the raw data streams of sensor nodes @xmath13 and @xmath31 are larger than 95% , i.e. @xmath32 an example of a time - varying correlation graph of our sensor nodes is illustrated in fig.[fig : correlationgraph ] .",
    "for any given sensor @xmath10 , we define its temporary correlation neighbor set as @xmath33 i.e. the sets of sensors that currently correlated with @xmath13 .     and @xmath34.,width=240 ]     and @xmath34.,width=240 ]    the data processing center updates the correlation graph in real - time , _ whenever a fresh raw data stream is received . _      in smart water systems ,",
    "two streams of pressure data are strongly correlated if their anomaly patterns are similar , observed from real pressure data streams .",
    "this is because any change of pressure ( e.g. due to the change of the pressure regulator state ) is diffused along the water network evenly . in the case",
    "when a burst or leakage ( or other types of anomalies ) occurs , a subpart of the water network is influenced and consequently its correlation .",
    "we use the anomaly accouter of each node at every interval as an index for anomaly patterns , to detect the sudden change of the correlation graph .    after receiving the anomaly counter values of all sensor node for an interval",
    ", the data processing center will compute if a high deviation ( outlier ) of anomaly counters occurs at each sensor node , based on chauvenet s criterion @xcite .",
    "if an outlier occurs at a sensor node , say @xmath13 , the correlation pattern between this node and all its current correlation neighbors in @xmath35 may be changed . in this case , the data stream of @xmath13 can not be accurately estimated and the correlation graph should be updated as soon as possible .",
    "therefore , the system will * enforce * sensor @xmath13 to transmit its raw data stream for this interval to update the correlation graph .",
    "[ fig : fig5a ]        [ fig : fig5b ]      at each interval @xmath9 , the set of all sensors @xmath6 can be divided into two subsets @xmath36 , according whether they are forced to transmit their raw data streams or not :    * @xmath37 * ( enforce transmission ) : * each sensor @xmath38 is enforced to transmit its raw data at @xmath9 in the following three cases : ( 1 ) fresh raw data from @xmath13 is required to update the correlation graph , ( 2 ) node @xmath13 has no correlation neighbor at @xmath9 , and ( 3 ) an anomaly accouter outlier occurs at @xmath13 .",
    "this is because when one of three cases happens , neither @xmath13 s own data stream nor other data streams can be reliably estimated based on the raw data of @xmath13 .",
    "it is obvious that @xmath39 .",
    "* @xmath40 * ( transmission scheduling):*. each sensor node @xmath41 is not enforced to transmit its raw data , i.e. @xmath42 . given @xmath40 , our scheduling algorithm dts and fast - dts",
    "will optimize the transmission decision , i.e. which subset of sensors in @xmath40 should transmit their raw data at interval @xmath9 , based on the estimation reliability ( formally defined later ) and the energy states of @xmath13 ( including battery level , harvested energy , and energy consumption ) .",
    "this will be discussed in detail in section [ sec : scheduling ] .",
    "let a set of sensor nodes @xmath43 @xmath44 to represent the _ transmission scheduling decision _ of the whole system at interval @xmath9 .",
    "the data stream of a sensor node @xmath13 can be estimated by its one or multiple correlation neighbors in @xmath35 . for each sensor @xmath13 , define its data estimation reliability as a real number between 0 and 1 .",
    "specially , if @xmath13 transmits its raw sensor data stream at interval @xmath9 , its data reliability is 1 . otherwise , its data should be estimated based on the raw data stream transmitted by the other sensors correlated with it , resulting in a data reliability less than 1 . therefore , we can formalize the data reliability of each sensor node @xmath45 as a function of the scheduling decision @xmath46 .",
    "the details of data stream estimation and computation of @xmath45 will be presented in section [ sec : estimation ] .",
    "it can be seen that @xmath47 , because every sensor in set @xmath46 is scheduled to transmit its raw data at interval @xmath9 .",
    "the details of data stream estimation will be discussed in section [ sec : estimation ] .",
    "table 1 summarizes the frequently used symbols in this paper .",
    "in a water network , an anomaly is defined as an abrupt fluctuation in pressure data .",
    "an anomaly can be caused by : ( a ) a disturbance occurrence in the flow rate in the water network ( e.g. leakage or burst ) , and ( b ) a hardware failure in the sensor node . in this section",
    ", we develop an algorithm to perform in - node anomaly detection based on the data compression rate procured by a memory - efficient compression algorithm . + * observation 1 . *",
    "_ a strong correlation exists between data value fluctuation and the compression rates of several compression algorithms such as s - lzw - mc @xcite ) and minilzo @xcite .",
    "_    intuitively , this observation holds because lossless compression algorithms reduce data volume by merging similar bytes within a packet . in the case of a stable system ,",
    "the retrieved measurements fluctuate within a small range and around a certain value .",
    "this increases the similarity of the bytes in a packet , and consequently raises the compression performance .",
    "when an anomaly happens , the consecutive measurements deviate dramatically , resulting the incompressibility of the streams .",
    "[ fig : fig5 ] ( a ) shows an example of our observation .",
    "note that the original water pressure data is also overlaid on the same graphs ( lower line ) .",
    "it is clear from fig .",
    "[ fig : fig5 ] ( a ) , that these traces highlight data anomalies as indicated by the arrows . after multiple dataset evaluations , we formed the hypothesis that we could use the correlation of the compression rate and raw data . from water technician logs",
    ", we observed that the anomalies were valve position changes which were used to simulate water bursts , causing significant pressure data fluctuation .",
    "at these points , the compression algorithm is unable to compress the data so the compression rate falls to 0% . in fig .",
    "[ fig : fig5 ] ( a ) , the drop in compression rate isolates the areas of raw data where the fluctuation pattern is changeable .",
    "based on above observation , we develop an algorithm to detect significant changes in compression rate and therefore identify the timestamps of anomalies . to achieve a high anomaly detection accuracy ,",
    "noise is removed from the compression rate stream using a one - dimensional kalman filter @xcite , @xcite indicated in fig .",
    "[ fig : fig5]b with the upper line .    after noise removal",
    ", the anomalies can be detected accurately as shown in fig .",
    "[ fig : fig5]b , where kalman filter state ( upper line ) , raw data ( lower line ) , and the anomalies ( arrows ) are illustrated .",
    "the drops are being detected by using the average @xmath48 and the standard deviation @xmath49 of the compression rate moving average for a predefined window size @xmath50 .",
    "we use this because it smoothes the states for easier analysis and reduces threshold computation to window sizes .",
    "specifically , every kalman filter value is being checked if it ranges between upper and lower bounds created by the @xmath51 , where @xmath52 represents the elasticity of the outlier detection ( smaller values mean that the system is more sensitive .",
    "any value that lies outside these bounds is being considered as an anomaly ( fig .",
    "[ fig : fig5]b markers ) .",
    "the accuracy of the anomaly detection algorithm depends on the selection of kalman filter parameters @xcite , @xmath50 , and @xmath52 . in @xcite , we present a mechanism based on active learning notion @xcite for optimal parameter configuration of the proposed anomaly detection algorithm , which increases the accuracy of the detection by minimizing the false - positives ( fp ) and true - negatives . by applying the mechanism in @xcite in our evaluation data ,",
    "more than 95% accuracy was achieved .",
    "in this section , we develop a theoretically optimal scheduling algorithm , dts , which maximizes the estimation reliability while ensuring sustainable operation of the smart water sensing system . by exploiting the analytical behaviors of dts , we then develop fast - dts , a lightweight ( linear complexity ) and adaptive algorithm , to make the transmission scheduling decision at real time in practical smart water sensing systems .",
    "based on all data collected from a real smart water sensing system , we observe that the estimation reliability @xmath45 has the following property : + * observation 2*. for any given sensor @xmath19 , consider two scheduling decisions @xmath46 and @xmath53 , where @xmath54 .",
    "we have @xmath55 this observation demonstrates that adding any raw sensor data stream @xmath10 will result in a equal or larger ( i.e. * a monotonically non - decreasing * ) estimation reliability for all sensor data streams @xmath56 .",
    "an example of this observation is illustrated in fig .",
    "[ fig : observation1 ] , which is based on the sensor node topology shown in fig .",
    "[ fig : fig2 ] .",
    "inequality ( [ eq : observation1 ] ) is a very important property that will be used in the scheduling decision making .",
    "the optimal subset of transmission nodes @xmath46 at every interval @xmath9 can be obtained by solving the following stochastic optimization problem :    @xmath57    where the utility function @xmath58 in the objective ( [ eq : opiobj ] ) can be any convex , non - decreasing , and differentiable function of @xmath45 . for instance",
    ", a utility function of @xmath59 with some small value @xmath60 can achieve approximate proportional fair reliability among sensor data streams@xcite .",
    "constraint ( [ eq : musttransmitting ] ) highlights the sets of sensors that must transmit their archived data .",
    "constraint ( [ eq : zeroonescheduling ] ) states the minimal correlation requirements .",
    "constraint ( [ eq : enoconstraint ] ) ensures that each node is not allowed to run out of battery energy or exceed its finite battery capacity .",
    "finally , constraint ( [ eq : congaurantee ] ) demonstrates that the long - term average of consumed energy for each sensor node should not be more than that of the harvested energy .    in summary",
    ", we can see that problem ( [ eq : opiobj])-([eq : congaurantee ] ) aims to maximize the long - term average estimation reliability of all sensor data streams with the consideration of fairness , while ensuring the sustainable operation for the long - term sensing of smart water systems .",
    "it is worth noting that fairness is an important system issue .",
    "for instance , suppose we use a simple utility function @xmath61 , which simply maximizes the summations of all reliabilities without considering the fairness among them . in this case , some estimated streams would have very good reliabilities ( e.g. close 100% ) , while others would be very poor , e.g. just reach @xmath62 in constraint in equation ( [ eq : zeroonescheduling ] ) . a simple way to address this issues is to introduce well - defined utility functions ( e.g. the approximate proportional fair function ( [ eq : propofairnes ] ) ) , which are systematically studied in @xcite .      in this subsection",
    ", we develop an adaptive scheduling algorithm , data transmission scheduling ( dts ) , which makes the optimal transmission decision @xmath63 to solve the stochastic optimization problem ( [ eq : opiobj])-([eq : congaurantee ] ) in real time . at the beginning of each interval @xmath64 , the dts algorithm operates as follows    \\1 .",
    "compute the optimal scheduling decision @xmath46 by solving the following problem :    @xmath65    where @xmath66 is system parameter that balances the trade - off between the system reliability performance and the risk of battery depletion , and @xmath67 here , the _ expected battery level _ @xmath68 is a system parameter that aims to balance the harvested energy utilization and risk of battery depletion .",
    "we will discuss the practical settings of @xmath69 and @xmath70 in detail in the next subsection .",
    "update the battery of each sensor node @xmath13 using eq.([eq : energybufferupdate ] ) .",
    "if a battery overflow occurs , i.e. @xmath71 , then set @xmath72 .",
    "it is worth noting that the dts algorithm _ only requires _ current system knowledge , when can be obtained easily at real time , and _ does not _ need to predict the information of future intervals , such as future energy harvesting opportunities and data stream correlations .",
    "the analytical results summarized by theorem 1 below will demonstrate that the dts algorithm has strong performance guarantees , and provides guiding principles for setting system parameters @xmath69 and @xmath70 in practice .",
    "+ * theorem 1 .",
    "* _ dts algorithm has the following performance guarantees . _    1 .",
    "* sustainable operation .",
    "* by setting @xmath73 dts will make a real - time scheduling decision @xmath46 such that every node @xmath13 will not transmit its raw data stream when its battery level @xmath74 , unless its reliability constraint is not satisfied , i.e. @xmath75 . here @xmath76 is the upper bound of energy costs for transmission for all intervals ( e.g. @xmath77 ) , which is a constant value depending on the wireless transceiver adopted by the sensing device .",
    "* asymptotic optimality*. _ as @xmath78 , dts asymptotically achieves the optimal solution to the stochastic optimization problem ( [ eq : opiobj])-([eq : congaurantee ] ) .",
    "_    * proof .",
    "* theorem 1 can be proved by using sample - path based lyapunov optimization theory , which can be found in the appendix.@xmath79    we first discuss the impact of @xmath69 on the behaviors of dts algorithm . with a fixed @xmath70 , a larger @xmath69 will result in better reliability performance , but more aggressive energy consumption behavior .",
    "especially , when @xmath69 is larger than the threshold @xmath80 defined by the right - hand side of inequality ( [ ieq : vthreshold ] ) , a sensing device would be forced to transmit its raw data , even when it has a low battery energy level i.e. smaller than the @xmath70 . in order to achieve sustainable operation ,",
    "we can set @xmath81 in practice .",
    "the expected battery level @xmath70 also has a significant impact on the dts performance . by setting a larger @xmath70",
    ", the risk of battery depletion will be lower , but the probability of battery overflow will be higher , resulting in lower harvested energy utilization .",
    "in addition , larger @xmath70 will lead to a small @xmath80 , and therefore , lower reliability performance . in practice",
    ", we can set @xmath70 according to the long - term energy harvesting and consumption behaviors of the smart water system .",
    "for instance , if the correlation graph is always dense , overtime ( good estimation opportunity and low energy consumption ) , we can use a small @xmath70 to improve the system performance . however , if the correlation graph is sparse or evenly disconnected within some durations ( i.e. poor estimation opportunity and large energy consumption to ensure constraint ( [ eq : perslotconstraint ] ) within such durations ) , we need to set a large @xmath70 to reduce battery depletion risk within such durations .    [",
    "cols=\"<\",options=\"header \" , ]     [ table : tablescres ]    real water networks can cover a large area with a corresponding large number of nodes , which requires the scalability of the algorithm design . in order to examine a larger scale smart water network ,",
    "we exploit the raw data from the 24 sensor nodes and generate synthetic data of 56 virtual nodes , by virtually creating 2 neighbors for each real node ( 48 virtual nodes ) and adding 8 additional virtual nodes in areas where the distance between two nodes was relatively large to the other nodes of the network .",
    "then , the virtual nodes were distributed in equal distances between two real nodes .",
    "hydraulic equations ( i.e. equation([eq : equationl ] ) ) , were used to generate the 30-day virtual pressure measurements .",
    "this process enable us to exploit the water network physics and avoids random data synthesis , resulting in realistic simulation studies .",
    "the evaluation results of this scalability study are summarized in table [ table : tablescres ] .",
    "rg algorithm waste less energy by 4.7% than fast - dts , however it occurs 4.3 times more transmission gaps . eg40 and",
    "rr40 produce 314 less transmission gaps , nevertheless these algorithms are inappropriate for deployment because of the poor data reliability results ( 61.5% and 28.9% respectively ) .",
    "overall , fast - dts managed to maintain the battery level by keeping energy waste and transmission gaps low , and it achieved the highest data reliability .",
    "in this paper , we develop a reliable and sustainable wireless sensing system for high - sample - rate water pressure monitoring and abnormal behavior detection in smart water networks , powered by an energy harvesting system based on water flow . in order to achieve sustainable sensor node operation by utilizing the dynamic and limited harvested energy , we use lossless compression and propose an in - node anomaly detection algorithm to reduce the raw data volumes ( and therefore the energy ) required for the high - power and long - range wireless transmission . to further reduce energy consumption ,",
    "our system only requires the transmission of a subset of the raw data streams , while other data streams are estimated using auto - regressive models instead of complex hydraulic models .",
    "the estimation is based on strong correlations among sensor data streams caused by the sound - velocity propagation of pressure signals inside the water network .",
    "we formalize a stochastic optimization problem for the best selection of raw data transmissions that aim to maximize the aggregated estimation reliabilities , while guaranteeing a minimal reliability constraint and the sustainable operation of the smart water sensing system .",
    "we develop dts , a theoretically - proven asymptotically optimal solution to the formalized problem , based on lyapunov optimization theory . guided by the principles of dts , we then propose fast - dts , a lightweight online algorithm that can adapt to arbitrary energy and correlation dynamics .",
    "we evaluate our approach by using 170-day high sample rate data ( 128 samples per second ) from our real smart water system and we compare our scheduling algorithm with three other algorithms .",
    "fast - dts outperforms these algorithms in terms of data reliability and sustainable operation , by achieving 99% estimation accuracy and at the same time the lowest energy waste and transmission gaps .",
    "currently , we are working to extend our approach by examining the impact of data estimation with regard to the automatic control process .",
    "consider a scheduling decision @xmath46 and an arbitrary node @xmath82 .",
    "let @xmath83 .",
    "let @xmath84 be the difference of ( [ eq : perslotpiobj ] ) when scheduling decisions @xmath46 and @xmath53 are adopted , we have @xmath85 in order to ensure @xmath86 when @xmath87 , we have @xmath88 @xmath89      to prove the optimality of dts , we divide the system time horizon , @xmath94 $ ] , into @xmath95 successive frames with size @xmath96 intervals ( i.e. @xmath97 ) .",
    "we assume that there exists an _",
    "ideal _ algorithm operating at the first interval of each frame @xmath98 , which can obtain full information regarding the dynamics of the smart water system for the future @xmath96 slots ( which is impossible in practice ) . based on future knowledge",
    ", the ideal algorithm solves the following problem :      let @xmath100 achieved by the dts algorithm , and @xmath101 denote the utility achieved by the ideal algorithm over each frame @xmath102 .",
    "we aim to prove the following inequality @xmath103 where @xmath104 and @xmath105 .",
    "is a constant value and @xmath106 represents the upper bound energy costs for transmission and in - node operation for each interval , i.e. @xmath107 .    inequality ( [ eq : theorem1result ] ) shows that parameter @xmath69 can be set as large as desired to force @xmath108 to be arbitrarily small",
    ". specifically , inequality ( [ eq : theorem1result ] ) also demonstrates that when @xmath109 , the optimal average aggregated utilities of reliability can be asymptotically achieved by dts , as @xmath110 .",
    "now we prove the inequality ( [ eq : theorem1result ] ) .",
    "let @xmath111 and define the lyapunov function @xmath112 consider its one - interval drift plus penalty @xmath113 inequality ( [ eq:1-slotdrift ] ) is because of the fact that @xmath114 it can be easily seen that the dts algorithm greedily minimizes the right - hand - side of inequality ( [ eq:1-slotdrift ] ) at every interval @xmath9 .",
    "now we consider the @xmath96-interval drift of the lyapunov function plus @xmath96-interval penalty      where the inequality @xmath116 is based on inequality ( [ eq:1-slotdrift ] ) , the sum of @xmath117 over @xmath96 slots of the @xmath118th frame , and the fact that each queue backlog does not change by more than @xmath119 for any slot @xmath120 ; the inequality @xmath121 follows from @xmath122 , and the fact that our dts algorithm minimizes the right - hand side of the inequality @xmath123 over all possible transmission scheduling decisions , including the decisions of the ideal algorithm @xmath124 , which achieves the optimal reliability utility of the ideal algorithm @xmath101 .",
    "consider ( [ eq : tslotdriftpenalty ] ) and the fact that @xmath125 satisfies constraint ( [ eq : congauranteeideal ] ) , we have"
  ],
  "abstract_text": [
    "<S> as a typical cyber - physical system ( cps ) , smart water distribution networks require monitoring of underground water pipes with high sample rates for precise data analysis and water network control . due to poor underground wireless channel quality and long - range communication requirements , high transmission power is typically adopted to communicate high - speed sensor data streams ; posing challenges for long term sustainable monitoring . in this paper </S>",
    "<S> , we develop the first sustainable water sensing system , exploiting energy harvesting opportunities from water flows . </S>",
    "<S> our system does this by scheduling the transmission of a subset of the data streams , while other correlated streams are estimated using auto - regressive models based on the sound - velocity propagation of pressure signals inside water networks . to compute the optimal scheduling policy </S>",
    "<S> , we formalize a stochastic optimization problem to maximize the estimation reliability , while ensuring the system s sustainable operation under dynamic conditions . </S>",
    "<S> we develop data transmission scheduling ( dts ) , an asymptotically optimal scheme ; and fast - dts , a lightweight online algorithm that can adapt to arbitrary energy and correlation dynamics . using over 170 days of real data from our smart water system deployment and conducting in - vitro experiments to our small - scale testbed ; our evaluation demonstrates that fast - dts significantly outperforms three alternatives , considering data reliability , energy utilization , and sustainable operation . </S>"
  ]
}