{
  "article_text": [
    "in a well - known pioneering work , bressan & hong @xcite provide a rather complete study of deterministic control problems in stratified domains , i.e. control problems for which the dynamic and the cost may have discontinuities on submanifolds of @xmath0 .",
    "in particular , they show that the value - function satisfies some suitable hamilton - jacobi - bellman ( hjb ) inequalities ( in the viscosity solutions sense ) and were able to prove that , under certain conditions , one has a comparison result between sub and supersolutions of these hjb equations , ensuring that the value function is the unique solution of these equations .    the aim of this article is to revisit this work by @xmath1 slightly improving the assumptions on the dynamic and the cost , in a ( slightly ) more general framework ; @xmath2 obtaining a comparison result for general semi - continuous sub and supersolutions ( while in @xcite the subsolution has to be hlder continuous , and this turns into an a priori assumption on the value function that we do not need here ) ; @xmath3 providing a general ( and to our point of view , natural ) framework in which a stability result holds .    in order to be more specific ,",
    "even if we are not going to enter into details in this introduction , the first key ingredient is the `` stratification '' , namely writing the whole space as @xmath4 where , for each @xmath5 , @xmath6 is a @xmath7-dimensional embedded submanifolds of @xmath0 , the @xmath6 being disjoint .",
    "the reader may consider that the @xmath6 are the subsets of @xmath0 where the dynamic and cost have discontinuities , which may also mean that , as in @xcite , on certain @xmath6 , there is a specific control problem whose dynamic and cost have nothing to do with the dynamic and cost outside @xmath6 .",
    "but as in our previous papers in collaboration with a.  briani dedicated to co - dimension 1 type discontinuities @xcite , part of the dynamic and cost on @xmath6 is some kind of `` trace '' of the dynamic and cost outside @xmath6 . in @xcite ,",
    "the regularity imposed on the @xmath6 is @xmath8 , while in our case it depends on the controllability of the system : @xmath9 is the controllable case , @xmath10 otherwise .",
    "this additional regularity may be seen as the price to pay for having no continuity assumption on either the value function nor the subsolutions for obtaining the equation and proving the comparison result .",
    "the next ingredient is the control problem , _",
    "i.e. _ the dynamic and cost .",
    "here we are not going to enter at all into details but we just point out key facts .",
    "first , contrarily to @xcite , we use a general approach through differential inclusions and we do not start from dynamic @xmath11 and cost @xmath12 defined on @xmath6 . this may have the disadvantage to lead to a more difficult checking of the assumptions in the applications but , for example , since most of our arguments are local , the global lipschitz assumption on the @xmath11 can be reduced to a locally lipschitz one .",
    "but the most interesting feature are the controllability assumptions and we hope to convince the reader that they are natural : for each @xmath7 , we assume that the system is controllable w.r.t .",
    "the normal direction(s ) of @xmath6 in a neighborhood of each @xmath6 , while the dynamic and cost should also satisfy some continuity assumptions in the tangent direction(s )",
    ". this controllability assumption has a clear interpretation : if , in a neighborhood of @xmath6 , the controller wants to go to @xmath6 , then he can do it , and in the same way he can avoid @xmath6 if this is its choice .",
    "this avoids useless discontinuities ( which are not `` seen '' by the system ) and cases where the value functions have discontinuities .",
    "we point out that this normal controllability is a key assumption to prove that the value function satisfies the right hjb inequalities _ without assuming a priori that it is continuous _ but also it is a key argument in the comparison and stability results as this was already the case in @xcite .    except our slightly different approach ,",
    "the viscosity sub and supersolutions inequalities are the same as in @xcite , even if the formulation coming from the differential inclusion and the set - valued maps for the dynamic and cost changes a litle bit the form of the hamiltonians .",
    "the next step is more important since it concerns the comparison of _ any semi - continuous _ sub and supersolutions : here our proof differs from @xcite since it involves more partial differential equations ( pde for short ) arguments and less control ones . a key step , already used but not in a such systematic way in @xcite , is to completely localize the comparison result , _",
    "i.e. _ to reduce to the proof of comparison results in ( small ) balls .",
    "once this is done , the assumptions on the @xmath6 allow to reduce the case when they are just affine subspaces and the key arguments of @xcite can be applied ( regularisation in the tangent directions to @xmath6 combined by a key control - pde lemma ) .",
    "it is worth pointing out anyway that , as in @xcite , the proof is done by induction on the codimension of the encountered discontinuities : local comparison in @xmath13 , then successively in @xmath14 , @xmath15 , ... , the previous comparison result providing the key argument for the next step .",
    "we refer to the beginning of section  [ cucvf ] for a more explicit exposition of the induction argument .",
    "finally we provide the stability result , which extends the one proved in @xcite to the more complicated framework we have here but the idea remains the same : roughly speaking , the normal controllability implies that the half - relaxed limits on @xmath6 can be computed by using only the restrictions of the functions on @xmath6 , allowing to pass to the limit on the specific inequalities on @xmath6 ( in particular for the subsolutions ) .",
    "recently , control problems in either discontinuous coefficients situations or in stratified domains or even on networks have attracted more and more attention . of course ,",
    "we start by recalling the pioneering work by dupuis @xcite who constructs a numerical method for a calculus of variation problem with discontinuous integrand . problems with a discontinuous running cost were addressed by either garavello and soravia @xcite , or camilli and siconolfi @xcite ( even in an @xmath16-framework ) and soravia @xcite .",
    "to the best of our knowledge , all the uniqueness results use a special structure of the discontinuities as in @xcite or an hyperbolic approach as in @xcite .",
    "more in the spirit of optimal control problem on stratified domains are the ones of barnard and wolenski @xcite ( for flows invariances ) , rao and zidani @xcite and rao , siconolfi and zidani @xcite who proved comparison results but with more restrictive controlability assumptions and without the stability results we can provide . for problems on networks which partly share the same kind of difficulties , we refer to y. achdou , f. camilli , a. cutri , n. tchou@xcite , c. imbert , r. monneau , and h. zidani @xcite , f.  camilli and d.  schieborn @xcite and c. imbert and r. monneau @xcite where more and more pde methods are used , instead of control ones .",
    "a multi - dimensional version ( ramified spaces ) for eikonal type equations is given f.  camilli , c. marchi and d.  schieborn @xcite and for more general equations in c.  imbert and r. monneau @xcite .",
    "we end this introduction by mentioning that this paper is focused on the specific difficulties related to stratified domains .",
    "hence , we assume that the reader is familiar with the theory of deterministic control problems , including the approach through differential inclusions and the connections with hjb equations using viscosity solutions .",
    "good references on this subject are @xcite , @xcite and @xcite .",
    "let us also recall that , as was said above , we derive here a general ( theoretical ) framework . in a forthcoming paper we will treat several specific examples and show how the present framework applies .",
    "the article is organized as follows : in section  [ cpsd ] , we describe the control problem in a full generality ; this gives us the opportunity to provide all the notations and recall well - known general results which are useful in the sequel ( in particular the results related to supersolutions properties ) .",
    "then we have to revisit the notion of stratification and we take this opportunity to introduce the assumptions we are going to use throughout this article ( section  [ as ] ) .",
    "section  [ chjb ] contains the ( subsolutions ) properties which are specific to this context .",
    "then we address the question of the comparison result ( section  [ cucvf ] ) , reducing first to the case of the comparison in ( small ) balls which allows to flatten the submanifolds @xmath6 .",
    "section  [ nesr ] is devoted to the stability result and we conclude the article with a section collecting typical examples and extensions .    * terminology  *    [ cols= \" < , < \" , ]",
    "in this section , we consider control problems in @xmath0 where the dynamics and costs may be discontinuous on the collection of submanifolds @xmath6 for @xmath17 . in this first part",
    ", we describe the approach using differential inclusions and we recall all the properties of the value - function which are _ always true _ , _",
    "i.e. _ results where the structure of the stratification does not play any role .",
    "this is the case for all the supersolution type properties of the value function .",
    "this part is essentially expository and is kept here in order to have a self - contained article for the reader s convenience . on the contrary ,",
    "the subsolution s properties of the value function are more specific and described in section  [ chjb ] .",
    "we first define a general control problem associated to a differential inclusion . as we mention it above , at this stage",
    ", we do not need any particular assumption concerning the structure of the stratification , nor on the control sets .",
    "dynamics and costs  we treat them both at the same time by embedding the cost in the differential inclusion we solve below .",
    "we denote by @xmath18 the set of all subsets of @xmath19 .",
    "@xmath20 we are given a set - valued maps @xmath21\\to\\mathcal{p}(\\r^{n+1})$ ] satisfying    the map @xmath22 has compact , convex images and is upper semi - continuous ;    there exists @xmath23 , such that for any @xmath24 and @xmath25 , @xmath26    where @xmath27 stands for the usual euclidian norm in @xmath0 ( which reduces to the absolute value in @xmath28 , for the @xmath29-variable ) .",
    "if @xmath30 , @xmath31 corresponds to the dynamic and @xmath29 to the running cost , and assumption @xmath32-@xmath2 means that both the dynamics and running costs are uniformly bounded . in the following",
    ", we sometimes have to consider separately dynamics and running costs and to do so , we set @xmath33 and analogously for @xmath34 .",
    "we recall what upper semi - continuity means here : a set - valued map @xmath35 is upper - semi continuous at @xmath36 if for any open set @xmath37 , there exists an open set @xmath38 containing @xmath36 such that @xmath39 . in other terms , @xmath40 .    the control problem",
    " as we said , we embed the accumulated cost in the trajectory by solving a differential inclusion in @xmath41 : we look for trajectories @xmath42 of the following inclusion @xmath43 under @xmath32 , it is well - known that given @xmath44 $ ] , there exists a lipschitz function @xmath45\\to\\r^n\\times\\r$ ] which is a solution of this differential inclusion .",
    "to simplify , we just use the notation @xmath46 when there is no ambiguity but we may also use the notations @xmath47 when the dependence in @xmath48 plays an important role . if @xmath49 is a solution of the differential inclusion , we have for almost any @xmath50 , @xmath51 for some @xmath52 .",
    "however , throughout the paper we prefer to write it this way @xmath53 in order to remember that both @xmath31 and @xmath29 correspond to a specific choice in @xmath54 .",
    "then , we introduce the value function @xmath55 where @xmath56 stands for all the lipschitz trajectories @xmath57 of the differential inclusion which start at @xmath58 and the function @xmath59 is the final cost . we assume throughout the paper that @xmath60",
    "is bounded and uniformly continuous .    a key standard result is the    [ dpp ] * ( dynamic programming principle ) * under assumptions @xmath32 , the value - function @xmath61 satisfies @xmath62 for any @xmath63 $ ] , @xmath64 .",
    "next we introduce the `` usual '' hamiltonian @xmath65 for @xmath24 , @xmath66 $ ] and @xmath67 defined  as @xmath68 using @xmath32 , it is easy to prove that @xmath69 is upper semi - continuous ( w.r.t .",
    "all variables ) and is convex and lipschitz continuous as a function of @xmath70 only .",
    "the second ( classical ) result is the    [ sp ] * ( supersolution s property ) * under assumptions @xmath32 , the value - function @xmath61 is a viscosity supersolution of @xmath71\\ ; .\\ ] ]    in theorem  [ sp ] , we use the classical definition of viscosity supersolution introduced by h.   ishii  @xcite for discontinuous hamiltonians : we recall that a locally bounded function @xmath72 is a viscosity supersolution of ( [ eq : super.h ] ) if its lower - semicontinuous envelope @xmath73 satifies @xmath74\\ ; , \\ ] ] in the viscosity solutions sense , i.e. when testing with smooth function @xmath75 at minimum points of @xmath76 . here , because of @xmath32 , the hamiltonian @xmath69 is a locally bounded , usc function which is defined everywhere and therefore @xmath77 .",
    "for the sake of completeness , we recall that @xmath72 is a viscosity subsolution of ( [ eq : super.h ] ) if its upper - semicontinuous envelope @xmath78 satifies @xmath79\\ ; , \\ ] ] in the viscosity solutions sense , i.e. when testing with smooth function @xmath75 at maximum points of @xmath80 .",
    "but this definition of subsolution in @xmath81 $ ] is not the one we are going to use below .    here and below",
    "we have chosen a formulation of viscosity solution which holds up to time @xmath82 , i.e. on @xmath83 $ ] instead of @xmath84 , to avoid the use of terms of the form @xmath85 in comparison proofs or results like ( * ? ? ?",
    "* lemma  2.8 , p.41 )    we also point out that both theorem  [ dpp ] and [ sp ] hold in a complete general setting , independently of the stratification we may have in mind .",
    "we conclude this first part by a converse result showing that supersolutions always satisfy a super - dynamic programming principle : again we remark that this result is independent of the possible discontinuities for the dynamic or cost .",
    "[ lem : super.dpp ] let @xmath86 be a lsc supersolution of @xmath87 in @xmath81 $ ] .",
    "then , for any @xmath63 $ ] and any @xmath88 , @xmath89    for @xmath90 given by @xmath20 , we consider the sequence of hamiltonians @xmath91 where @xmath92 }   \\big(\\operatorname{\\mathrm{dist}}\\big((b , l),{\\mathbf{bl}}(y , s)\\big)+ |y - x|+|t - s|\\big)\\ ; , \\ ] ] @xmath93 denoting here the distance here the set @xmath94 . noticing that @xmath95 is lipschitz continuous and that @xmath96 if @xmath97 , the following properties are easy to obtain    @xmath1 for any @xmath98 , @xmath99 and therefore @xmath86 is a lsc supersolution of @xmath100 , + @xmath2 the hamiltonians @xmath101 are ( globally ) lipschitz continuous w.r.t . all variables , + @xmath3 @xmath102 as @xmath103",
    ", all the other variables being fixed .",
    "+ by using @xmath1 and @xmath2 , it is clear that @xmath86 satisfies the dynamic programming principle for the control problem associated to @xmath101 , namely @xmath104 where @xmath49 solves the odes @xmath105 , @xmath106 , the controls @xmath107 , @xmath108 satisfy @xmath109 and the cost is @xmath110 to conclude the proof , we have to let @xmath111 tend to @xmath112 . to do so , we pick an optimal or @xmath111-optimal trajectory , i.e. @xmath113 such that @xmath114 since @xmath115 are uniformly bounded , standard compactness arguments imply that up to the extraction of a subsequence , we may assume that @xmath116 converges uniformly on @xmath117 $ ] to @xmath49 .",
    "and we may also assume that they derivatives converge in @xmath16 weak- * ( in particular @xmath118 ) .",
    "we use the above property of @xmath116 , namely @xmath119 in two ways : first by multiplying by @xmath111 , we get @xmath120 but @xmath95 is convex in @xmath121 since the @xmath94 are convex and if @xmath122 converges weakly to @xmath121 ( and @xmath123 converges uniformly ) , we have @xmath124 finally we remark that @xmath125 and @xmath96 if and only if @xmath126 , therefore @xmath49 is a solution of the @xmath127-differential inclusion .    in order to conclude",
    ", we come back to ( [ spdd ] ) and we remark that @xmath128 since @xmath129 . therefore @xmath130 and we pass to the limit in this inequality using the lower - semicontinuity of @xmath86 , together with the weak convergence of @xmath131 and the uniform convergence of @xmath123 .",
    "this yields @xmath132 and recalling that @xmath49 is a solution of the @xmath127-differential inclusion and taking the infimum in the left - hand side over all solution of this differential inclusion gives the desired answer .",
    "in this section , we define the notion of _ admissible stratification _ , which specifies the structure of the discontinuity set of @xmath127 as was considered in @xcite .",
    "we point out that , besides of the precise regularity we will impose in connection with the control problem , this notion is nothing but the notion of whitney stratification , based on the whitney condition @xcite , see below lemma  [ flat - lem ] and remark  [ rem : whitney ] .",
    "we first do it in the case of a flat stratification ; the non - flat case is reduced to the flat one by suitable local charts .",
    "we consider here the stratification introduced in bressan and hong @xcite but in the case when the different embedded submanifolds of @xmath0 are locally affine subspace of @xmath0 .",
    "more precisely @xmath133 where the @xmath6 ( @xmath134 ) are disjoint submanifolds of @xmath0 .",
    "we say that @xmath135 is an _ admissible flat stratification _ ( afs ) , the following set of hypotheses is satisfied    ( afs)-@xmath1 for any @xmath136 , there exists @xmath137 and @xmath138 a @xmath7-dimensional linear subspace of @xmath0 such that @xmath139 moreover @xmath140 if @xmath141 .",
    "( afs)-@xmath2 if @xmath142 for some @xmath143 then @xmath144 .",
    "( afs)-@xmath3 we have @xmath145 .    condition ( afs)-@xmath1 implies that the set @xmath146 , if not void , consists of isolated points . indeed , in the case @xmath147 , @xmath148 .",
    "we point out that these assumptions are equivalent ( for the flat case ) to the assumptions of bressan & hong @xcite .",
    "indeed , we both assume a decomposition such that the submanifolds are disjoints and the union of all of them coincide with @xmath0 but in order to describe the allowed stratifications we define in a different way the submanifolds @xmath6 .",
    "the key point is that for us @xmath6 is here a @xmath149-dimensional submanifold while , in @xcite , the @xmath150 can be of any dimension . in other words ,",
    "_ our _ @xmath6 is the union of all submanifolds of dimension @xmath7 in the stratification of bressan & hong .    with this in mind",
    "it is easier to see that our assumptions ( afs)-@xmath2-@xmath3 are equivalent to the following assumption of bressan and hong : if @xmath151 then @xmath152 for all indices @xmath153 without asking @xmath143 in our case . but according to the last part of ( afs)-@xmath1 , @xmath154 if @xmath141 : indeed for any @xmath155 , there exists @xmath137 such that @xmath156 .",
    "this property clearly implies ( afs)-@xmath3 .    in order to be more clear",
    "let us consider a stratification in @xmath157 induced by the upper half - plane @xmath158 and the @xmath159-axis ( see figure 1 .",
    "below ) .",
    "[ fig.0 ]        the stratification we use in this case requires first to set @xmath160 .",
    "the boundary of @xmath161 which is the @xmath162-axis is included in @xmath163 and of course , we have to set here @xmath164 .",
    "thus , @xmath165 consists of four connected components which are induced by the @xmath162- and @xmath159-axis ( but excluding the origin , which is in @xmath146 ) .",
    "notice that in this situation , the @xmath166-axis has no particular status , it is included in @xmath161 .",
    "on the other hand , notice that ( afs)-@xmath2 forbids the following decomposition of @xmath157 @xmath167 because @xmath168 but clearly @xmath165 is not included in @xmath169 .    as a consequence of this definition",
    "we have following result which will be usefull in a tangential regularization procedure ( see figure 2 below )    [ flat - lem ] let @xmath170 be an ( afs)of @xmath0 , let @xmath171 be in @xmath6 and @xmath172 as in ( afs)-@xmath1 and @xmath143 .",
    "then there exists @xmath173 such that , if @xmath174 , then for any @xmath175 , @xmath176 .",
    "we first consider the case when @xmath177 .",
    "we argue by contradiction assuming that there exists @xmath178 , @xmath179 .",
    "we consider the segment @xmath180=\\{ty+(1-t)z,\\ t \\in [ 0,1]\\}$ ] .",
    "there exists @xmath181 $ ] such that @xmath182 .",
    "but because of the ( afs)conditions , @xmath183 since no point of @xmath184 can be in the ball",
    ". therefore @xmath36 belongs to some @xmath6 , a contradiction since @xmath185 which would imply that @xmath186 .    for @xmath187 , we argue by induction .",
    "if we have the result for @xmath29 , then we use the same proof as above if @xmath188 : there exists @xmath189 , @xmath190 and we build in a similar way @xmath191 .",
    "but this is again a contradiction with the fact that the result holds for @xmath29 ; indeed @xmath192 and @xmath193 .",
    "[ fig.1 ]        [ rem : whitney ] in this flat situation , the tangent space at @xmath171 is @xmath194 while the tangent space at @xmath195 is @xmath196 , where @xmath143 .",
    "the previous lemma implies that if @xmath197 is a sequence converging to @xmath171 , then the limit tangent plane of the @xmath198 is @xmath199 and it contains @xmath200 , which is exactly the whitney condition see @xcite .",
    "[ def : rs ] we say that @xmath135 is a general regular stratification ( rs)of @xmath0 if + @xmath1 the following decomposition holds : @xmath201 ; + @xmath2 for any @xmath202 , there exists @xmath203 and a @xmath204-change of coordinates @xmath205 such that the @xmath206 form an ( afs)in @xmath207 .    if we need to be more specific , we also say that @xmath208 is a stratification of @xmath0 , keeping the reference @xmath209 for the collection of changes of variable @xmath210 .",
    "this will be usefull in section  [ nesr ] when we consider sequences of stratifications .",
    "* notations  * the definition of regular stratifications ( flat or not ) allows to define , for each @xmath211 , the tangent space to @xmath6 at @xmath171 , denoted by @xmath212 , which can be identified to @xmath213 .",
    "then , if @xmath136 and if @xmath137 and @xmath138 are as in ( afs)-@xmath1 , we can decompose @xmath214 , where @xmath215 is the orthogonal space to @xmath138 and for any @xmath216 we have @xmath217 with @xmath218 and @xmath219 . in the special case @xmath220 , we have @xmath221 , @xmath222 and @xmath223 .    at this stage , it remains to connect the stratification with the set - valued map @xmath127 .",
    "to do so , we first recall that the set function @xmath127 is said to be continuous at @xmath224 if @xmath225 when @xmath226 , where @xmath227 stands for the haussdorf distance between sets . now , given a regular stratification @xmath135 of @xmath0 , let us denote by @xmath228 the restriction of @xmath127 to @xmath229 $ ] @xmath230 & \\to \\mathcal{p}(\\r^{n+1})\\\\      ( x , t ) & \\mapsto { \\mathbf{bl}}(x , t)\\cap ( t_x{\\mathbf{m}^{k}}\\times\\r)\\end{aligned}\\ ] ]    we say that the regular stratification @xmath231 of @xmath0 is adapted to @xmath127 if for any @xmath232 , the restriction @xmath228 is continuous on @xmath229 $ ] . in particular ,",
    "the set of discontinuities of the restriction of @xmath127 to any @xmath233 $ ] is @xmath234 $ ] .      considering a regular stratification @xmath231 adapted to @xmath127 ,",
    "we introduce the associated hamiltonians : if @xmath155 , @xmath235 $ ] and @xmath236 , the tangential hamiltonian on the @xmath6-submanifold is defined by @xmath237 the continuity requirements on the maps @xmath228 ( see above ) together with the compactness of each @xmath238 implies the continuity of @xmath239 in @xmath240 , for any @xmath7 . in this definition ( where we have implicitly identified @xmath212 as a subspace of @xmath0 ) , it is clear that @xmath239 depends on @xmath70 only through its projection on @xmath212 but we keep the notation @xmath70 to simplify the notations .",
    "notice that in the special case @xmath147 , since @xmath223 the hamiltonian reduces to : @xmath241    in order to prove comparison for the complemented problem , we need some assumptions on the hamiltonians that we formulate first in the case of an ( afs ) .    for any @xmath24 , if @xmath136 and @xmath242 is given by ( afs)-@xmath1 , there exist three constants @xmath243 ( @xmath244 ) and a modulus of continuity",
    "@xmath245 with @xmath246 such that    * ( tc)*__tangential continuity _ _ : for any @xmath247 , for any @xmath248 $ ] , if @xmath249 with @xmath250 , then @xmath251   we point out the importance of lemma  [ flat - lem ] which implies that this is actually an assumption on any @xmath252 ( or @xmath253 ) of @xmath150 . +",
    "* ( nc)*__normal controllability _ _ : for any @xmath254 , for any @xmath235 $ ] , if @xmath255 then latexmath:[\\[h^j(y , t , p)\\geq \\delta     in particular , in the special case @xmath147 , we have @xmath222 .",
    "so , * ( nc)*implies the coercivity w.r.t @xmath70 of all the hamiltonians @xmath239 , @xmath257 , in a neighborhood of any point @xmath220 ( recall that such points are isolated ) .",
    "* ( lp)*__lipschitz continuity _ _ : because of the boundedness of @xmath127 , there exists @xmath258 such that , for any @xmath259 , if @xmath255 then @xmath260    it is worth pointing out that these assumptions ( except perhaps * ( lp ) * ) are local assumptions since they have to hold in a neighborrhood of each point in @xmath0 and the different constants or modulus of continuity may depend on the considered point .",
    "the strategy of proof for the comparison result will explain this unusual feature and in particular lemma  [ fltg ] .",
    "[ def : ahg ] let @xmath231 be a general regular stratification associated to @xmath127 and @xmath261 be the associated hamiltonians .",
    "+ @xmath1 in the case of an admissible flat stratification , we say that the associated hamiltonians @xmath261 satisfy the _ local assumptions on the hamiltonians in the flat case _",
    "( lahf)if * ( tc ) * , * ( nc)*and * ( lp)*are satisfied .",
    "+ @xmath2 in the general case , we say that the associated hamiltonians satisfy the _ assumption on the hamiltonians in the general case _",
    "( ahg)if the hamiltonians @xmath262 satisfy the ( lahf ) , where @xmath263 .    in order to be complete",
    ", we give below sufficient conditions in terms of @xmath127 for * ( tc ) * & * ( nc)*to hold : the first one concerns regularity and the second one ensures the normal coercivity of the hamiltonians . + *",
    "( tc - bl)*for any @xmath247 , for any @xmath235 $ ] , if @xmath249 with @xmath250 , @xmath264       { \\operatorname{\\mathrm{dist}}_\\mathrm{h}}\\big({\\mathbf{bl}}(y_1,t),{\\mathbf{bl}}(y_2,t')\\big ) \\leq      m\\big(|y_1-y_2|+|t - t'|\\big)\\,.\\end{cases}\\ ] ]    * ( nc - bl)*there exists @xmath98 such that , for any @xmath265 , for any @xmath235 $ ] , if @xmath266 there holds @xmath267    here also , the case @xmath147 is particular : we impose a complete controllability of the system in a neighborhood of @xmath220 since the condition reduces to @xmath268 because @xmath269 .",
    "this normal controllability assumption plays a key role in all our analysis : first , in the proof of theorem  [ subp ] below , to obtain the viscosity subsolution inequalities for the value function , in the comparison proof to allow the regularization ( in a suitable sense ) of the subsolutions and , last but not least , for the stability result .",
    "for the subsolution s property of @xmath61 , the behaviour of the dynamic is going to play a key role and we have to strengthen assumption @xmath32 by adding continuity and controllability assumptions , * ( tc - bl ) * & * ( nc - bl)*which are equivalent to * ( tc ) * & * ( nc)*. the main consequences of * ( tc - bl ) * & * ( nc - bl)*is the    [ subp ] * ( subsolution s property ) * under assumptions @xmath32 , * ( tc - bl)*and * ( nc - bl ) * , the value - function @xmath61 satisfies + @xmath1 for any @xmath270 , @xmath271 on @xmath6 ; + @xmath2 for any @xmath270 , @xmath61 is a subsolution of @xmath272    in this result , we point out  even if it is obvious that @xmath2 is a viscosity inequality for an equation _ restricted to @xmath6 _ , namely it means that if @xmath75 is a smooth function on @xmath273 ( or equivalently on @xmath274 by extension ) and if @xmath275 is a local maximum point of @xmath276 on @xmath273 , then @xmath277 this is why point @xmath1 is an important fact since it allows to restrict everything ( including the computation of the usc envelope of @xmath61 ) to @xmath6 .",
    "we provide the proof in the case of an ( afs ) , the general case resulting from a simple change of variable .",
    "we consider @xmath278 $ ] and a sequence @xmath279 such that @xmath280 we have to show that we can assume that @xmath281 .",
    "we assume that , on the contrary , @xmath282 and we show how to build a sequence of points @xmath283 with @xmath284 for any @xmath7 and with @xmath285 .    by theorem  [ dpp ] , we have @xmath286 for any solution @xmath49 of the differential inclusion starting from @xmath287 .",
    "let @xmath288 be the projection of @xmath289 on @xmath6 ; we have @xmath290 and by * ( nc - bl ) * , there exists @xmath291 for any @xmath292 ( the ball given by ( afs)-@xmath1 ) , such that @xmath293 .",
    "choosing such a dynamic @xmath31 ( with any constant cost @xmath29 ) , it is clear that @xmath294 for @xmath295 small enough ( independent of @xmath296 ) and for @xmath297 , we have @xmath298 where @xmath299 , @xmath300",
    ". therefore @xmath284 by lemma  [ flat - lem ] and if we set @xmath301 , we have @xmath302 finally since @xmath303 as @xmath304 , we deduce that @xmath305 which shows @xmath1 since @xmath306 .    to prove @xmath2",
    ", we assume now that @xmath281 and we use again theorem  [ dpp ] which implies @xmath286 for any solution @xmath49 of the differential inclusion starting from @xmath287 . using the continuity of @xmath228 , if @xmath121 is in the interior of @xmath307 , the trajectory @xmath308 , starting from @xmath289 at time @xmath309 remains on @xmath6 for @xmath310 $ ] if @xmath311 is small enough ( but independent of @xmath296 ) .",
    "thus , the viscosity inequality can be obtained as in the standard case and we obtain the inequality for @xmath121 is in the whole @xmath307 by a simple passage to the limit .",
    "the sub and supersolution properties of the value function naturally leads us to the following definition .",
    "[ def : hjbsd ] let @xmath231 be a regular stratification of @xmath0 associated to a set - valued map @xmath127 .",
    "@xmath312 a bounded usc function @xmath313\\to\\r$ ] is a viscosity subsolution of the hamilton - jacobi - bellman in stratified domain [ ( hjb - sd ) for short ] , if and only if it is a subsolution of @xmath314\\ ; , \\ ] ] for any @xmath134 , i.e if , for any test - function @xmath315)$ ] and for any local maximum point @xmath316 of @xmath317 on @xmath318 $ ] , we have @xmath319    @xmath320 a bounded lsc function @xmath321 is a viscosity supersolution of ( hjb - sd)if it is a viscosity supersolution of @xmath322\\ ; .\\ ] ]    the same remark as above applies , see footnote  [ fnt : ext ] : the extension of @xmath75 to all @xmath274 is still denoted by @xmath75 , for the sake of simplicity of notations .    in the sequel , we also say that a function is a subsolution or a supersolution of ( hjb - sd)in a domain @xmath323 $ ] if the above properties hold true either in @xmath318 \\cap d$ ] or in @xmath324 .",
    "we also say that @xmath325 is a _ strict _ subsolution of ( hjb - sd)in a domain @xmath323 $ ] if the inequality @xmath326 is replaced by @xmath327 for some @xmath328 .    as in @xcite",
    ", we notice that additional subsolution conditions involving the tangential hamiltonians @xmath261 are required on the manifolds @xmath6 s .",
    "it might be surprising anyway that we have no subsolution condition related to trajectories which are leaving @xmath6 for @xmath17 .",
    "in fact , even if we are not going to enter into details here , these conditions can be deduced from the inequalities on @xmath329 for @xmath143 in the spirit of ( * ? ? ? * theorem 3.1 ) .",
    "in this section , we provide our main comparison result for ( hjb - sd ) . since the proof relies on proving comparison properties in different subdomains of @xmath0 , we introduce the following definition .",
    "we have a comparison result for ( hjb - sd)in @xmath330 , where @xmath331 is an open subset of @xmath0 and @xmath332 , if , for any bounded usc subsolution @xmath325 of ( hjb - sd)in @xmath333 and any bounded lsc supersolution @xmath86 of ( hjb - sd)in @xmath333 , then @xmath334 where @xmath335 denotes the parabolic boundary of @xmath333 , i.e. @xmath336 \\cup \\overline \\omega \\times \\{t_1\\}$ ] .",
    "our main result is the    [ thm : main ] we have a comparison result for ( hjb - sd)in any subdomain @xmath330 of @xmath337 .    in order to guide the reader in the long and unusual proof ( despite",
    "it has some common features with the global strategy in bressan & hong @xcite and uses locally the ideas of @xcite ) , we indicate the main steps .",
    "[ page : recurrence ]    * we first show that , instead of proving a `` global '' comparison result , we can reduce to comparison results in `` small '' balls .",
    "essentially this first step allows us to reduce to the case of `` flat stratifications '' , namely ( afs ) .",
    "* then we argue by induction on the dimension of the submanifolds which are contained in the small ball : if the small ball is included in @xmath13 , this means that there is no no discontinuities and we have a standard comparison result .",
    "the next step consists in proving a comparison result in the case when the ball intersects both @xmath13 and @xmath338 , which is actually already done in @xcite . therefore the induction consists in proving that if we have a comparison result for any ball intersecting ( possibly ) @xmath339 , then it is also true for any ball intersecting @xmath340 .",
    "* to perform the proof of this result , we use three key ingredients : for the subsolution , the regularization by sup - convolution and then by usual convolution in the tangent direction to @xmath6 ( and this is where the ( afs)structure is playing a key role , see lemma  [ flat - lem ] ) together with the fact that a comparison result in @xmath341 implies that subsolutions satisfy a sub - optimality principle in this domain . on the other hand , for the supersolution , the dpp allows us to prove an analogous `` magic lemma '' as in @xcite .    in order to formulate the induction , let us introduce the following statement , where @xmath232    * _ for any ball @xmath342 , for any @xmath343 and for any strict subsolution @xmath325 of ( hjb - sd)in @xmath344 $ ] and any supersolution @xmath86 of ( hjb - sd)in @xmath344 $ ] , @xmath345 can not have a local maximum point in @xmath344 $ ] . _",
    "we use a localized formulation of property @xmath346 in any ball because we apply it below to functions which , at level @xmath7 , are only subsolutions in such specific balls .",
    "our first result consists in showing that we can reduce the global comparison result in @xmath347 $ ] to `` local '' comparison results .",
    "let us introduce the following version of the local comparison principle in a cylinder @xmath348\\subset\\r^n\\times[0,t]$ ]    @xmath349 : _ for any @xmath350 $ ] , there exists @xmath351 such that @xmath352 , @xmath353 and one has a comparaison result in @xmath354 for any @xmath355 and @xmath356",
    ". _    [ fltg ] assume @xmath32 .",
    "we have a comparaison result in @xmath357 $ ] if and only if @xmath349 holds true .",
    "let @xmath358 be respectively a bounded usc subsolution @xmath325 and a bounded lsc supersolution @xmath86 of ( hjb - sd)in @xmath333 .",
    "we consider @xmath359 .",
    "if @xmath360 then we have nothing to prove , hence we may assume that @xmath23 .    in order to replace the `` @xmath361 '' by a `` @xmath362 ''",
    "if @xmath331 is unbounded , we argue as in @xcite and we replace @xmath325 by @xmath363 for @xmath364 . proving the comparison inequality for @xmath365 instead of @xmath325 provides the result by letting @xmath366 tend to @xmath112 .    with this argument",
    ", we can consider @xmath367 and we denote by @xmath368 a maximum point of @xmath369 . in addition , we may assume that @xmath370 is the minimal time for which there exists such a maximum point .",
    "if @xmath371 or @xmath372 then the result is proved , hence we may also assume that @xmath373 and @xmath374 .",
    "using the assumption , we know that there exists @xmath351 such that such that @xmath352 , @xmath353 and one has a comparaison result in @xmath354 for any @xmath355 and @xmath375 .",
    "thus , in @xmath376 ( where @xmath377 and @xmath378 will be chosen later ) , we change @xmath379 into @xmath380 where @xmath381 .",
    "if @xmath382 is large enough , @xmath383 is still a subsolution in @xmath384 and as a consequence of the comparison property , we have @xmath385 but if @xmath386 @xmath387 and , since @xmath388 , if we choose ( and fix ) @xmath378 small enough , we have @xmath389 .",
    "therefore , for such @xmath378 , @xmath390 } ( u_\\alpha ( y , s)-\\beta(\\bar c(s - t)+(|y - x|^2 + 1)^{1/2}-1)-v(y , s))<m_\\alpha\\ ; .\\ ] ]    on the other hand , for @xmath391 , since @xmath370 is the minimal time for which the maximum @xmath392 is achieved , we have @xmath393 and @xmath394 .",
    "since @xmath378 is fixed , choosing @xmath395 small enough , we have @xmath396    this shows that @xmath397 , a contradiction since @xmath398 .",
    "therefore the maximum of @xmath399 is achieved either on @xmath400 or for @xmath371 and the complete comparison result is obtained by letting @xmath366 tend to @xmath112 .    in the direction of getting local comparison",
    ", we use below that under @xmath346 we have a partial local comparison result for any ball which does not intersect the @xmath150 for @xmath401    let @xmath402 be a ball in @xmath0 such that @xmath403 for any @xmath401 . if @xmath346 holds , then one has a comparison between sub and supersolutions of ( hjb - sd)in @xmath404 $ ] for any @xmath343 , namely @xmath405 where @xmath406 .",
    "for any @xmath407 , @xmath408 is a strict subsolution of ( hjb - sd ) in @xmath344 $ ] .",
    "looking at a maximum point of @xmath409 in @xmath410 , we see that @xmath346 implies that such a maximum point can not be in @xmath344 $ ]",
    ". therefore all the maximum points are on @xmath335 and therefore @xmath411 letting @xmath412 tends to @xmath112 provides the result .      a consequence of the partial local comparison result deriving from @xmath346 is a sub - dynamic programming principle for subsolutions    [ lem : sub.qk.dpp ] let @xmath325 be an usc subsolution of ( hjb - sd)and assume that @xmath346 is true for some @xmath232 .",
    "then , for any bounded domain @xmath413 such that @xmath414 for any @xmath415 , the subsolution @xmath325 satisfies a sub - dynamic programming principle in @xmath416 $ ] : namely , for any @xmath417 $ ] , @xmath418 where @xmath419 is the set of all stopping times @xmath420 such that @xmath421 .    it is clear that if @xmath422 is the first exit time from @xmath331 and @xmath423 the first exit time from @xmath424 , we have @xmath425 .",
    "since @xmath325 is usc , we can approximate it by a decreasing sequence @xmath426 of continuous functions . then we consider initial - boundary value problem ( associated to an exit time control problem ) @xmath427 since @xmath325 is an usc subsolution of ( hjb - sd)and since @xmath428 on @xmath335 , then @xmath325 is a subsolution of this problem . on the other hand , using that @xmath346 is true , the arguments of @xcite ( section 5.1.2 , see thm 5.7 ) show that @xmath429\\,,\\ ] ] is the maximal subsolution ( and solution ) of this initial value problem .",
    "therefore @xmath430 in @xmath410 .",
    "in order to obtain the result , we choose any ( fixed ) trajectory @xmath431 and any cost @xmath432 and write that , by the above inequality @xmath433 where @xmath434 is the stopping time where the supremum is achieved .",
    "but @xmath435 is bounded and @xmath436 which is compact . therefore extracting some subsequence",
    "we may assume that @xmath437 and @xmath438 .",
    "but , by using that @xmath439 is a decreasing sequence , it is easy to prove that @xmath440 and therefore @xmath441 passing to the supremum in the right - hand and using that this is true for any choice of @xmath442 yields the result .",
    "it is worth pointing out that , if @xmath373 then there exists @xmath407 such that @xmath443 for any trajectory @xmath431 .",
    "this is a consequence of the boundedness of @xmath127 .",
    "therefore , if we take @xmath444 , we clearly have @xmath445 a more classical formulation of the dynamic programming principle .",
    "the next step is the    [ regtan ] let @xmath171 be a point in @xmath6 and @xmath446 .",
    "there exists @xmath447 such that if @xmath325 is a subsolution of ( hjb - sd)in @xmath448 , then for any @xmath449 , there exists a sequence of usc functions @xmath450 in @xmath451 such that + @xmath1 the @xmath452 are subsolutions of ( hjb - sd)in @xmath453 , + @xmath2 @xmath454 .. ] + @xmath3 the restriction of @xmath452 to @xmath455 $ ] is @xmath9 .    the proof is strongly inspired from @xcite , with the additional use of lemma  [ flat - lem ] .",
    "in fact , by using the definition of a regular stratification ( definition  [ def : rs ] ) , we can prove the result for @xmath456 in the case of an ( afs)and then make the @xmath209-change back to get the @xmath452 s in the real domain .",
    "therefore , from now on , we assume that we are in the case of an ( afs)and we still denote by @xmath325 the function @xmath457 which is defined above .",
    "we are also going to assume that @xmath458 and we will make comments below on the easier @xmath459case .",
    "we first pick a @xmath460 small enough so that @xmath461 as in the definition of regular stratifications , definition  [ def : rs ]",
    ". then we take @xmath462 so that @xmath463 where @xmath377 is defined in ( afs)-@xmath1 . this way , we make sure that we can use lemma  [ flat - lem ] , which will be needed below .    the next step is a sup - convolution in the @xmath6-direction . without loss of generality",
    ", we can assume that @xmath464 , and writing the coordinates in @xmath0 as @xmath465 with @xmath466 , @xmath467 we may assume that @xmath468",
    ".    with these reductions , the sup - convolution in the @xmath6 directions ( and also the time direction ) can be written as @xmath469 for some large enough constant @xmath470 .",
    "we point out here that in the case @xmath147 , this sup - convolution is done in the @xmath370-variable only , as for the the usual convolution below .    by classical arguments ,",
    "the function @xmath471 is lipschitz continuous in @xmath252 and @xmath295 and the normal controllability assumption implies both that @xmath471 is lipschitz continuous in @xmath253 and allows to prove that , for @xmath472 small enough and @xmath473 , @xmath474 is still a subsolution of ( hjb - sd)in @xmath475 for some constant @xmath476 converging to @xmath112 as @xmath477 and @xmath478 with @xmath479 , we refer to @xcite for more details .",
    "we point out that we need different parameters for this sub - convolution procedure in space and in time because of the different regularity of the hamiltonian @xmath239 in space and time : while we require some lipschitz continuity in @xmath252 ( up to the @xmath480-term ) , we have only the continuity in @xmath295 .    in this last statement",
    ", lemma  [ flat - lem ] plays a key role since it can be translated as : if @xmath481 for some @xmath482 , then in the sup - convolution , the points @xmath483 with @xmath484 which are in @xmath485 still belong to @xmath329 . in other words , if @xmath486 , for @xmath487 small enough the sup - convolution only takes into account values of @xmath325 taken on @xmath329 .",
    "thus , checking the subsolution condition @xmath488 for @xmath489 at @xmath486 , is done by considering the similar subsolution condition @xmath488 for @xmath325 at points @xmath490 .",
    "we drop the details since the proof follows classical arguments .",
    "next we regularize @xmath489 by a standard mollification argument , and still in the @xmath491-variables .",
    "if @xmath492 is a sequence of mollifiers in @xmath493 , @xmath494 having a support in @xmath495 , where @xmath496 is the ball of center @xmath112 and radius @xmath497 in @xmath498 , we set @xmath499 \\rho_{\\e_2}(y_1-z_1,s - s')dz_1ds'\\ ; .\\ ] ] by standard arguments , @xmath500 is @xmath9 in @xmath252 and @xmath295 , for all @xmath253 and by the same argument as above , this convolution is done @xmath329 by @xmath329 ( or @xmath501 by @xmath501 : there is no interference between @xmath501 and @xmath502 for @xmath503 small enough ) , and , for @xmath497 small enough , @xmath504 is still a subsolution of ( hjb - sd)for some @xmath505 converging to @xmath112 as @xmath506 ; hence the proof is classical .",
    "the conclusion follows from the fact that @xmath507 uniformly as @xmath506 and @xmath508 as @xmath509",
    ". therefore we can take , for @xmath452 , @xmath510 with @xmath472 small and @xmath497 small compared to @xmath472 .",
    "concerning the supersolutions now , a key argument that was used in @xcite is that they satisfy an alternative : either the trajectories are leaving the discontinuity set , or there is a strategy which allows to remain on this set and we deduce an inequation for the tangential hamiltonian there .    the situation is more complex here since the discontinuity set is composed of submanifolds with different dimensions . but still , a similar alternative can be derived . in order to formulate it ,",
    "let us introduce some notations .",
    "consider a point @xmath511 for some @xmath512 , @xmath513 $ ] and a sequence @xmath514 .",
    "for any @xmath515 , we denote by @xmath516 the reaching time @xmath517 where @xmath518 is a given solution of the differential inclusion such that @xmath519 .",
    "notice that by ( afs)-@xmath1 , @xmath520 for any @xmath401 .",
    "[ prop : super.alternative ] let @xmath86 be a bounded lsc viscosity supersolution of ( hjb - sd)and @xmath521)$ ] be a test - function such that the restriction of @xmath522 to @xmath523 $ ] has a local minimum point at @xmath524 $ ]",
    ". then the following alternative holds    * a ) * either there exists @xmath525 , a sequence @xmath526 and a sequence of trajectories @xmath518 satisfying @xmath527 for any @xmath528 and @xmath529 * b ) * or @xmath530 in the viscosity sense .",
    "since the result is local , we can prove it only in the case of an ( afs ) , the general result being obtained by changing variables .",
    "therefore , we assume in particular in the sequel that @xmath6 is a subspace and even that @xmath531    if @xmath532 is a local minimum point of @xmath522 on @xmath273 , we can assume that it is a strict local minimum point by standard arguments .",
    "as we already noticed , @xmath533-@xmath534 implies that there exists @xmath535 such that @xmath536 for all @xmath401 . in order to `` push '' the minimum point away from @xmath211 , we construct the following test - function @xmath537 where @xmath538 and @xmath539 , where @xmath540 is the vector space which is orthogonal to @xmath6 .",
    "we point out that @xmath540 can be identified with @xmath541 .    in order to choose @xmath542",
    ", we introduce the function @xmath543 defined by @xmath544 which is convex and coercive in @xmath0 .",
    "in fact , we are interested in the restriction of @xmath545 to @xmath540 and we denote by @xmath546 . if the minimum of @xmath547 is achieved at @xmath548 , then the classical property for the subdifferential of a convex function at a minimum point ( @xmath549 ) can be reinterpreted here as @xmath550 since @xmath551 this fact can easily be proved using the identification between @xmath540 and @xmath541 , the fact that , in @xmath541 , we have @xmath112 in the subdifferential of @xmath547 can be interpreted as the existence of an element in @xmath552 which is in @xmath6 .    finally , taking into account the definition of @xmath69 , the fact that @xmath238 is convex and classical result on convex function , namely danskin s theorem which has to be translated again from @xmath541 to @xmath540 , then there exists @xmath97 such that @xmath553 and @xmath554 .",
    "but we are in the ( afs)case where @xmath555 and the above property yields @xmath556 if @xmath557 , then * b ) * holds and we are done .",
    "hence we may assume that @xmath558 .    from now on",
    "we consider the function @xmath559 with the choice @xmath560 .",
    "notice that , in this case @xmath561 on @xmath523 $ ] : the distance term clearly vanishes and @xmath562 is orthogonal to @xmath563 if @xmath564 .",
    "since @xmath368 is a strict local minimum point of @xmath522 on @xmath565 , there exists a sequence @xmath566 of local minimum points of @xmath567 in @xmath568 which converges to @xmath368 .",
    "there are two possibilities .    *",
    "first case : * assume that for @xmath538 small enough , @xmath569 .",
    "on the one hand , @xmath570 and @xmath571 coincide on @xmath273 and @xmath570 has a strict local minimum at @xmath368 , say in @xmath572 . on the other hand",
    ", @xmath571 has a local minimum at @xmath566 which converges to @xmath368 .",
    "hence , for @xmath573 small enough , @xmath574 and we deduce that necessarily for such @xmath573 , @xmath575 by the strict local minimum property .",
    "then , writing the supersolution viscosity inequality reads @xmath576 which is a contradiction .    *",
    "second case : * there exists a subsequence of @xmath577 denoted by @xmath578 such that @xmath579 .    step 1  notice first that necessarily we have @xmath580 .",
    "thus , between times @xmath371 and @xmath581 , @xmath582 remains inside a ball @xmath583 such that @xmath403 for any @xmath528 .",
    "by lemma  [ lem : super.dpp ] we can use the super dynamic programmation principle for @xmath584 between times @xmath112 and @xmath585 , where we write @xmath586 for @xmath587 . taking @xmath588 large enough so that @xmath589 , we get @xmath590 since @xmath591 satisfies the differential inclusion , we have @xmath592 for some function @xmath31 such that for any @xmath593 , @xmath594 .",
    "hence , taking the test - function @xmath559 we have , on one hand @xmath595 and , on the other hand @xmath596 therefore @xmath597 combining with the above properties , we get @xmath598    step 2  by the properties @xmath32 , we claim that there exists a couple @xmath97 such that , at least along a subsequence @xmath599 indeed , notice first that as @xmath600 , @xmath601 and @xmath602 , both convergences being uniform on @xmath603 $ ] .",
    "then , there exists a sequence @xmath604 and @xmath605 such that @xmath606 by the bounds for @xmath607 , we deduce that at least along a subsequence still denoted by @xmath607 , we have @xmath608 for some @xmath609 .",
    "now , since the images of the @xmath610 are convex and since @xmath127 is upper semi - continuous , @xmath611 as @xmath612 and we deduce that @xmath126 .",
    "step 3  passing to the limit in as @xmath600 yields @xmath613 but this is in contradiction with the assumption that @xmath614 .",
    "hence , either * a ) * holds or this second case can not happen and then * b ) * holds .",
    "this ends the proof .",
    "as we already noticed above , @xmath615 necessarily holds true since in this case the ball does not intersect any discontinuity . moreover , we proved in @xcite that @xmath616 is also true .",
    "of course , @xmath617 means that we have a comparison result without any restriction on the submanifolds @xmath6 which intersects @xmath618 .",
    "thus , the proof of theorem  [ thm : main ] is reduced to the following backwards induction property    [ prop : induction.tilde ] assume that @xmath346 is true for some @xmath619 .",
    "then @xmath620 is also true .",
    "we consider a ball @xmath621 , @xmath343 , an usc function @xmath325 which is a strict subsolution of ( hjb - sd)in @xmath404 $ ] and a lsc supersolution @xmath86 of ( hjb - sd)in @xmath344 $ ] .    in order to check @xmath620",
    "we have to show that @xmath345 can not have a maximum point @xmath622 in @xmath344 $ ] .",
    "but by @xmath346 , @xmath623 can not belong to any @xmath150 for @xmath624 .",
    "therefore , we are left with the case where @xmath625 . using ( rs)and ( afs)-@xmath1 , we consider a smaller ball @xmath626 such that @xmath627 still containing @xmath623 and such that @xmath628 for any @xmath629",
    ".    using that the hamiltonians @xmath69 and @xmath630 are lipschitz continuous in @xmath70 , we can replace @xmath325 by @xmath631 for @xmath98 small enough : this new function is still a strict subsolution and @xmath622 is a strict local maximum point of @xmath632 .",
    "next we use lemma  [ regtan ] for the subsolution @xmath633 and for @xmath634 small enough : since there exists a sequence @xmath450 of subsolutions such that @xmath635 , there exists an usc subsolution @xmath636 defined in @xmath637 and a maximum point @xmath638 of @xmath639 which is also as close as we want to @xmath640 .",
    "we can therefore assume that @xmath641 and since @xmath346 holds true , necessarily @xmath642 for the same reason as for @xmath623 above .",
    "consider now lemma  [ prop : super.alternative ] for @xmath86 at @xmath643 .",
    "if we are in case * a ) * of the alternative , we get a sequence @xmath644 which remains in @xmath645 , and @xmath646 does not intersect any @xmath150 for @xmath647 .",
    "moreover , the reaching times of trajectories issued from the @xmath648 are controled from below .",
    "next , we use in conjunction lemma  [ lem : sub.qk.dpp ] in @xmath331 : the sub - optimality principle satisfied by @xmath636 in @xmath331 implies that for some @xmath649 small enough ( but uniform with respect to @xmath588 ) @xmath650 where @xmath412 comes from the strict subsolution property for @xmath636 . passing to the limit as @xmath644 we obtain @xmath651 and this contradicts the fact that @xmath638 is a local maximum point of @xmath652 .    in case * b ) * , since by lemma  [ regtan ] @xmath636 is @xmath9 on @xmath6 , we have @xmath653 but this is also a contradiction since @xmath636 is a strict subsolution and therefore @xmath654 hence , such a maximum point @xmath638 can not exist , which implies that if @xmath623 exists , it has to be located on @xmath150 for some @xmath629 , thus and @xmath620 holds true .",
    "in this section we prove a stability result when we have a sequence of problems on stratified domains @xmath655 .",
    "an important issue here is that , not only do the corresponding hamiltonians depend on @xmath573 , but also the stratification of space does . more precisely , for each @xmath538 we are given a regular stratification @xmath656 and a notion of convergence is required .",
    "this is the purpose of the following definition .",
    "[ def : conv.strat ] we say that a sequence @xmath657 of regular stratification of @xmath0 . converges to a regular stratification @xmath231 if , for each @xmath24 , there exists @xmath137 , an ( afs)@xmath658 in @xmath0 and , for any @xmath538 , changes of coordinates @xmath659 as in definition  [ def : rs ] such that @xmath660 and + @xmath1 @xmath661 , @xmath662 .",
    "+ @xmath2 the changes of coordinates @xmath663 converge in @xmath664 to @xmath665 and their inverses @xmath666 defined on @xmath207 also converge in @xmath9 to @xmath667 .",
    "+ we denote this convergence by @xmath668 .",
    "thus , the manifolds @xmath669 ( @xmath134 ) can vary with @xmath573 but after suitable changes of variable @xmath663 , they are flat and constant .",
    "the important issue is that we do not want to create / destroy / intersect manifolds when they move",
    ".    then we also consider , for each @xmath538 , the associated hamilton - jacobi - bellman problem in the stratified domain @xmath656 , that we denote by @xmath655 .",
    "the meaning of sub and supersolutions is the one that is introduced in definition  [ def : hjbsd ] , with the family of hamiltonians @xmath670 and @xmath671 that are constructed from @xmath656 and some family @xmath672 .    in order to formulate the following stability result",
    ", we have to define limiting hamiltonians for the @xmath673 but the difficulty is that they are defined for @xmath674 which depends on @xmath573 . in order to turn around this difficulty , we use the change of variables of definition  [ def : conv.strat ] which leads to consider the hamiltonians @xmath675 , defined for @xmath676 , a domain which does not depend on @xmath573 .",
    "we make a slight abuse of notations by saying that @xmath677 if the associated rectified hamiltonians satisfy @xmath678 .",
    "[ thm : main.stability ] assume that @xmath657 is a sequence of ( rs)in @xmath0 such that @xmath679 , then the following holds    * if , for all @xmath538 , @xmath680 is a lsc supersolution of @xmath655 , then @xmath681 is a lsc supersolution of ( hjb - sd ) , the hjb problem associated with @xmath682 . *",
    "if , for @xmath538 , @xmath683 is an usc subsolution of @xmath655 and if the hamiltonians @xmath684 satisfy * ( nc)*and * ( tc)*with uniform constants , then @xmath685 is a subsolution of ( hjb - sd)with @xmath686 for any @xmath134 .",
    "result @xmath1 is standard since only the @xmath687-inequalities are involved and therefore @xmath1 is nothing but the standard stability result for discontinuous viscosity solutions with discontinuous hamiltonians , see @xcite .    for @xmath2 ,",
    "because of the definition of the convergence of the ( rs ) , we can assume without loss of generality that the ( rs)is fixed and is in fact an ( afs )",
    ". then if @xmath688 is a _ strict _ local maximum point of @xmath689 on @xmath6 , where @xmath75 is a @xmath9 function in @xmath0 , we consider the functions @xmath690 where @xmath691 denotes the distance to @xmath6 .    for @xmath573 small enough , this function has a maximum point @xmath566 near @xmath692 .",
    "if @xmath693 for @xmath143 , we have ( because @xmath683 is an usc subsolution of @xmath655 ) @xmath694\\big)\\leq 0\\ ; .\\ ] ]    next we remark that , on the one hand ,",
    "@xmath695 \\in v_k^\\bot$ ] ( recall that we are in the ( afs)case ) and on the other hand @xmath696\\big|=1 $ ] ; therefore we can use * ( nc)*and choose @xmath432 large enough in order that this inequality can not hold .",
    "notice that this choice does not depend neither on @xmath573 nor on @xmath29 , but we use that the distance to @xmath6 is smooth if we are not on @xmath6 .",
    "therefore @xmath697 for @xmath143 , and @xmath566 is a local maximum point of @xmath698 on @xmath6 ( we can drop the distance since we look at the function only on @xmath6 ) .",
    "hence @xmath699    but using that @xmath685 and that @xmath692 is a strict local maximum point of @xmath689 on @xmath6 , classical arguments imply that @xmath700 and the conclusion of the proof follows as in the standard case .",
    "we conclude this section with some sufficient conditions on @xmath127 for the stability of solutions .",
    "[ lem : stab.bl.ham ] for any @xmath538 , let @xmath672 satisfy @xmath32 , * ( tc - bl)*and * ( nc - bl ) * with constants independent of @xmath573 and assume that @xmath701 is a fixed ( afs)adapted to every @xmath672 .",
    "assume that @xmath702 in the sense of the haussdorf distance .",
    "then for every @xmath232 , @xmath703 locally uniformly in @xmath704 .",
    "since we are in a flat ( and static ) situation , let us first notice that the hamiltonians @xmath705 are all defined on the same set .",
    "then the convergence of @xmath672 implies that @xmath706 ( the restriction to @xmath707 $ ] ) converges locally uniformly to @xmath228 .",
    "it follows directly that @xmath708    [ cor : stability ] for any @xmath538 , let @xmath672 satisfy @xmath32 with constants independent of @xmath573 , and consider an associated regular stratification @xmath709 .",
    "we assume that @xmath702 in the sense of haussdorf distance and that @xmath710 .",
    "let @xmath711 be the unique solution of @xmath655 .",
    "then @xmath712 where @xmath61 is the unique solution of the limit problem ( hjb - sd ) .",
    "the proof is immediate : by the convergence of @xmath672 and @xmath656 , after a suitable change of variables we are reduced to considering the case of a constant local ( afs ) , @xmath701 .",
    "then we apply lemma  [ lem : stab.bl.ham ] which implies that the @xmath713 converge to the @xmath714 .",
    "we invoke theorem  [ thm : main.stability ] which says that the half - relaxed limits of the @xmath711 are sub and supersolutions of the limit problem , ( hjb - sd ) . and",
    "finally , the comparison result implies that all the sequence converges to @xmath61 .",
    "example 1 : a straight line in @xmath157  _ this example is a typical example which is out of the scope of @xcite since the discontinuity set is not a @xmath715-dimensional manifold , but a lower dimensional one .",
    "we take the opportunity of this simple example to describe the way our assumption have to be read . _",
    "we consider the line @xmath716 and two bounded and continuous functions @xmath121 defined on @xmath717 where @xmath718 is a control set .",
    "we set as above @xmath719 on @xmath717 and @xmath720 the natural stratification is simply @xmath721 , @xmath722 and @xmath723 .",
    "an interesting point here is the assumptions on @xmath724 which ensures * ( tc - bl)*and * ( nc - bl)*.    for * ( tc - bl ) * , the functions @xmath31 and @xmath29 have to be continuous in @xmath725 \\times a$ ] , @xmath31 being locally lipschitz continuous in @xmath171 with ( locally ) a uniform constant in @xmath370 and @xmath726 .",
    "of course , they have to be bounded to have @xmath32 .",
    "moreover , in a neighborhood of each point @xmath727 , the functions @xmath728 and @xmath729 are equicontinuous for @xmath730 in a neighborhood of @xmath731 and , in the same way , the functions @xmath732 are equi - lipschitz continuous . in that way ,",
    "if for any sequence @xmath733 converging to @xmath731 such that @xmath734 then @xmath735 satisfy classical assumptions , namely they are continuous and @xmath736 is locally lipschitz continuous in @xmath166 , uniform in @xmath370 and @xmath726 . with this remark ,",
    "it is rather easy to show that @xmath737 defined on @xmath738 satisfies the right continuity assumptions in @xmath166 and @xmath370 .",
    "notice that , as we did it above in the checking of * ( tc - bl ) * , the dynamic and cost on @xmath738 are obtained as the limits of the dynamic and cost on @xmath744 .",
    "but , of course , specific dynamic and cost can also exist on @xmath738 .",
    "example 2 : the cross problem in @xmath743  _ this example is another typical example which could not be treated in @xcite , with a more complex geometry : the discontinuity set contains an intersection of straight lines , that is , a point . _    in @xmath743 we consider four domains as follows @xmath745 where @xmath746 and each @xmath747 is an open quadrant .",
    "then consider a control set @xmath718 and we assume that we have four vector fields @xmath748 and running costs @xmath749 , all bounded such that @xmath750 is continuous with respect to the first two variables , @xmath368 .",
    "we then define the associated stratification @xmath751 , @xmath752 and finally @xmath753 . for @xmath754 , we set @xmath755 and finally @xmath756 where of course the indices @xmath757 and @xmath758 are chosen accordingly to which portion of @xmath161 or @xmath165 the point @xmath171 belongs to . with this setting",
    "we have a ( hjb - sd)which has a unique solution provided the assumptions on the @xmath759 are satisfied .",
    "these ( local ) conditions on @xmath760 are analogous to the ones described in example 1 . in a neighborhood of @xmath731 , we need the system to be fully controllable and the condition on @xmath146 reduces to @xmath761      we start from a continuous dynamic - cost map @xmath762 defined in @xmath763 $ ] , but we also put specific control problems on @xmath161 , @xmath165 and @xmath146 according to the stratification in @xmath157 corresponding to figure 1 ( see section [ sect : afs ] ) .    hence , for @xmath764 , we introduce a set - valued map @xmath765 which is continuous on @xmath229 $ ] . in order to have a global ( hjb - sd ) , we define @xmath127 by setting @xmath766 the map @xmath767 satisfies @xmath32 and provided each @xmath768 and @xmath762 satisfy * ( nc - bl ) * , we have an ( hjb - sd)which has a unique solution .",
    "the filippov approximation  a way to build a solution of @xmath769 in @xmath0 in presence of discontinuities consists in using the filippov approximation for the corresponding control problem : for each @xmath538 we consider @xmath770 the construction of @xmath672 comes from several considerations + @xmath1 for each @xmath538 , @xmath672 is a continuous set - valued map with convex , compact images ; + @xmath2 @xmath771 also takes into account the specific dynamic - cost at @xmath368 ; + @xmath3 @xmath771 takes into account dynamics - costs coming from a neighborhood of @xmath368 .",
    "notice first that by construction , @xmath672 is a continuous set - valued map which satisfies @xmath32 and * ( nc - bl)*,*(tc - bl)*. therefore there exists a unique solution @xmath711 of @xmath655 , associated to @xmath672 .",
    "since @xmath672 is continuous , if @xmath231 is a stratification adapted to @xmath127 , it can be seen as a stratification adapted also to @xmath672 , for any @xmath573 , even if there is no discontinuity for @xmath672 .",
    "thus , @xmath772 and the stability result ( corollary [ cor : stability ] yields that @xmath711 converges to the unique solution of ( hjb - sd ) ) .",
    "this result extends ( * ? ? ?",
    "6.1 ) where the convergence of filippov s approximation was proved for an @xmath715-dimensional discontinuity set .    infinite horizon problems  we derived a complete study of parabolic ( hjb - sd)which correspond to finite horizon control problems .",
    "in the same way , we can handle similarly the case of infinite horizon problems , leading to stationary ( hjb - sd)as in @xcite .",
    "this amounts to considering a set - valued map @xmath773 and introduce the hamiltonians @xmath774 , where the supremum is taken over @xmath775 , with @xmath776 .",
    "the adaptations are quite straightforward : under * ( tc - bl)*,*(nc - bl)*(which have to be considered as independent of @xmath370 ) we get comparison for the complemented problem ; and the value function of the associated control problem is the unique viscosity solution of this complemented problem .    time - depending stratifications  throughout this paper , we assumed that the discontinuities of the set - valued map @xmath777 is independent of the time - variable .",
    "this is a simplification which can be relaxed at ( almost ) no cost in some situations : following the ideas of the stability result , we assume that for each @xmath374 we have a stratification @xmath778 adapted to @xmath779 with the following property      this means that , up to the local changes of variables @xmath784 , we are in a flat and time - independent situation .",
    "all the constructions and results that we derived thus apply with slight modifications .",
    "notice that of course the dependance of @xmath784 with respect to the time variable should be regular enough so that the rectified equation keeps the suitable properties * ( tc)*,*(nc)*,*(lp ) * , _ i.e. _ @xmath9 in the @xmath370-variable , and @xmath10 or @xmath9 in the @xmath171-variable ( depending on the controllability assumptions ) .    a word on the maximal solution  by focusing on the complemented ( hjb - sd)problem",
    ", the unique solution we select is the minimal solution of @xmath785 in @xmath13 , complemented with the ishii conditions on @xmath786 .",
    "this solution is denoted by @xmath787 in @xcite .",
    "the maximal solution , @xmath788 , was identified in @xcite but only in the specific case of a @xmath715-dimensional discontinuity set : @xmath789 , _",
    "@xmath790 for any @xmath791 .",
    "the reason is that the identification of @xmath788 through a suitable control problem ( involving only `` regular controls '' ) requires a reflection - type argument on @xmath738 .",
    "thus , the problem is linked to the very definition of this maximal solution and in the context of general hjb problems on stratified domains , the methods used in @xcite do not seem to be adaptable ( except in special cases ) .",
    "this is to our point of view a very interesting problem to identify this maximal solution in the general case ( at least in a framework as general as possible ) .",
    "adimurthi , s. mishra and g. d. veerappa gowda , explicit hopf - lax type formulas for hamilton - jacobi equations and conservation laws with discontinuous coefficients .",
    "( english summary ) j. differential equations 241 ( 2007 ) , no . 1 , 1 - 31 .                        a. bressan and y. hong , optimal control problems on stratified domains , netw .",
    "heterog . media 2 ( 2007 ) , no . 2 , 313 - 331 ( electronic ) and errata corrige : \" optimal control problems on stratified domains  .",
    "media 8 ( 2013 ) , no . 2 , 625 .",
    "p. dupuis , a numerical method for a calculus of variations problem with discontinuous integrand . applied stochastic analysis ( new brunswick , nj , 1991 ) , 90107 , lecture notes in control and inform .",
    ", 177 , springer , berlin , 1992 .",
    "filippov , differential equations with discontinuous right - hand side .",
    "matematicheskii sbornik , 51 ( 1960 ) , pp .",
    "american mathematical society translations , vol .",
    "42 ( 1964 ) , pp .",
    "199231 english translation series 2 .",
    "m. garavello and p. soravia , optimality principles and uniqueness for bellman equations of unbounded control problems with discontinuous running cost .",
    "nodea nonlinear differential equations appl . 11 ( 2004 ) , no . 3 , 271 - 298 .    m. garavello and p. soravia , representation formulas for solutions of the hji equations with discontinuous coefficients and existence of value in differential games .",
    "theory appl .",
    "130 ( 2006 ) , no . 2 , 209 - 229 .",
    "c. imbert , r. monneau , and h. zidani : a hamilton - jacobi approach to junction problems and application to traffic flows .",
    "esaim : control , optimisation , and calculus of variations ; doi 10.1051/cocv/2012002 , vol .",
    "19(01 ) , pp . 129166 , 2013 .",
    "z. rao and h. zidani : hamilton - jacobi - bellman equations on multi - domains . control and optimization with pde constraints , international series of numerical mathematics , vol .",
    "164 , birkhuser basel , 2013 ."
  ],
  "abstract_text": [
    "<S> we revisit the pioneering work of bressan & hong on deterministic control problems in stratified domains , _ </S>",
    "<S> i.e. _ control problems for which the dynamic and the cost may have discontinuities on submanifolds of @xmath0 . by using slightly different methods , involving more partial differential equations arguments </S>",
    "<S> , we @xmath1 slightly improve the assumptions on the dynamic and the cost ; @xmath2  obtain a comparison result for general semi - continuous sub and supersolutions ( without any continuity assumptions on the value function nor on the sub / supersolutions ) ; @xmath3 provide a general framework in which a stability result holds .    * key - words * : optimal control , discontinuous dynamic , bellman equation , viscosity solutions </S>",
    "<S> . + * ams class . </S>",
    "<S> no * : 49l20 , 49l25 , 35f21 . </S>"
  ]
}