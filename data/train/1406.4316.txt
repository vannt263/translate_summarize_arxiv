{
  "article_text": [
    "is one of the multi - purpose experiments at the large hadron collider ( lhc ) at the european center of nuclear research cern in switzerland .",
    "lhc collided bunches of opposing protons at a frequency of 40 mhz .",
    "the atlas trigger system filter out collision events without physics interest , lowering the average output rate to a level to few hundreds hertz .",
    "it is realized in a multi level trigger .",
    "a level-1 uses muon and calorimeter signals to determine `` regions of interest '' ( roi ) and based on counting clusters of jets , @xmath2 , electron/@xmath3 and missing @xmath4 at various energy threshold , reduce the event rate to 75 khz .",
    "a level-2 uses level-1 candidates and look in detailed physics properties to achieve a further reduction in rate to 2 - 3 khz . finally a third level ( event filter )",
    "use full event information , and decide upon storage of the event for offline analisys with a final rate of 300 - 400 hz .",
    "this paper is related to the level-1 upgrade , further description of level-2 and event filter can be found here  @xcite .",
    "the atlas level-1 trigger is a fixed latency , 40 mhz , pipe - lined , synchronous system , built to operate at the lhc design instantaneous luminosity of @xmath5@xmath1 .",
    "the level-1 trigger system consists of three sub - systems : the level-1 calo trigger ( l1calo )  @xcite , the level-1 muon trigger ( l1muon )  @xcite , and the central trigger processor ( ctp )  @xcite .",
    "the hardware of the level-1 trigger is primarily based on fpgas and custom asics . including cabling , the maximum latency budget of the level-1 electronics chain is 2.5 @xmath6 .",
    "a simplified outline of the level-1 trigger is shown in fig.[l1topo_l1 ] .        in the ctp",
    "the trigger decision is made , based on thresholds received from l1calo and l1muon , and forwarded to the higher levels of the trigger .",
    "the l1calo input data comes from 7200 analog `` trigger towers '' .",
    "the trigger towers are built with a granularity of 0.1 @xmath5 0.1 in the @xmath7 range , which is covered by the atlas electromagnetic and hadronic calorimeters .",
    "digitization of the input signals and digital filtering is done on a mixed - signal pre - processor .",
    "then the trigger tower signals are forwarded to two feature processors , namely the cluster processor ( cp ) and the jet / energy - sum processor ( jep ) .",
    "the cp s aim is to identify electron , photon , tau and hadron candidates with a transverse energy @xmath8 above a set of programmable thresholds  @xcite .",
    "simultaneously the jep identifies jet candidates and produces global sums of total , missing , and jet - sum @xmath4 .",
    "inside the cp and the jep are the common merger modules ( cmms ) .",
    "the cmms count the multiplicities of trigger objects and send the result to the central trigger processor ( ctp ) . upon receiving",
    "the `` level-1 accept '' signal from the ctp , the coordinates in the @xmath7 plane for each trigger object ( so called regions of interest , rois ) , which were identified by the feature processors at level-1 , are sent through read - out drivers ( rods ) on to the level-2 trigger .",
    "the l1muon input data comes from 800 k resistive plate chamber ( rpc ) strips in the barrel region and thin gap chambers ( tgcs ) in the endcap regions .",
    "multiplicities for six thresholds at high and low transverse momentum are measured by coincident hits in the rpc and tgc planes . the logic for multiplicity counting of the different thresholds",
    "is provided by the muon central trigger processor interface ( muctpi )  @xcite .",
    "from 2015 ( run 2 ) , the increased instantaneous luminosity and collision frequency , implies that the level-1 trigger ca nt cope with the higher background rates . to maintain the level-1 trigger rates at the current level without unduly raising thresholds or prescaling trigger streams of physics interest , the selections ca",
    "nt be based just on counting of physics objects . to achieve additional background rate reduction at level-1 ,",
    "the topological information on jet or muon direction in space can be used . for doing so",
    ", the current cmms will be replaced by new `` cmx ''  @xcite modules capable of receiving and processing the high - speed backplane data and transmit the real - time date to a completely new element in the level-1 chain : the topological processor ( l1topo ) .",
    "the l1topo will allow a trigger decision to be made using more than just @xmath9 or @xmath4 whose current thresholds will be impossible to maintain in 2015 after the lhc upgrade .",
    "this is essential because interesting physics events have specific topologies ( see fig.[l1topo_topologies ] ) .",
    "these decisions can be loosely assigned to three categories defined as : angular separation , invariant mass , and hardness of interaction . to be able to form trigger decisions based on topological information , an entirely new element in the level-1 trigger",
    "is required : the topological processor ( l1topo , see fig .",
    "[ l1topo_schemex ] ) .",
    "l1topo will provide high optical input bandwidth and powerful state of the art fpgas , receiving and processing l1calo and l1muon information within 200 ns .",
    "the l1topo process real - time event information based on the geometric and kinematic relationships between trigger objects ( tobs ) ( i.e. electrons photons , muons , jets , and taus ) , as well as event - level quantities such as missing transverse energy , inavariant mass etc .",
    "algorithms are implemented in vhdl and operated in parallel into fpgas .",
    "l1topo input data formats , the number of tob and corresponding input fibers from l1calo and l1muon subsystem have been defined and so the data transmission protocol . in parallel with the hardware development , simulation studies on possible successfull topology are going on.currently the proposed l1topo algorithms have been implemented in vhdl and only about 30@xmath10 of the resources of the l1topo system are so far utilized .",
    "more input from physics working group is therefore expected .",
    "in this section the requirements of the l1topo system and a brief description of the l1topo module design is given .",
    "the l1topo module has to meet the target data rates at the external interfaces : 6.4  gb / s on the optical real - time i / o .",
    "total link bandwidth and logic resource availability are fixed by the components chosen ( largest devices on the market at time of detailed design work ) and can not be changed .",
    "the availability of resources was checked against the needs of the physics algorithms . given the scalability of the system ,",
    "more requirements imply more module . at current ,",
    "an l1topo system equipped with two modules will satisfy the requirements during run2 . a non scalable requirement relate to the total latency of l1topo system .",
    "the atlas latency envelope for run2 imply a total latency of about 10 lhc bunch crossing ( bx ) .",
    "data receiving and transmission on multi gigabit tranceiver ( mgt ) will require 4 bx .",
    "deserialization into the lhc bunch clock domain takes one bx .",
    "the algorithmic latency is required to be of three bx or lower .",
    "all algorithms projected and implemented so far have been kept to three bunch ticks or be- low .",
    "crc check sum decoding imply an extra 0.25 bx .",
    "the topological processor will be a single processor crate equipped with two processor modules .",
    "the processor modules will be identical copies , with firmware adapted to the specific topologies to operate on .",
    "+ data are transmitted on optical fibres .",
    "after conversion to electrical representation , data are received and processed in fpgas equipped with on - chip multi - gigabit transceivers ( mgt ) . in run2 results",
    "are sent to the central trigger processor ( ctp ) electrically from the front panel to reduce latency .",
    "the l1topo module will be designed in advancedtca ( atca form factor ) .",
    "a picture of a prototype is shown in fig.[l1topo_prototype ] .",
    "atca backplane zone 3 of l1topo is used for real - time data transmission .",
    "the input data enter l1topo optically through the backplane .",
    "the fibres are fed via four to five blind - mate backplane connectors that can carry up to 72 fibres each . in the baseline design",
    "48-way connectors will be used .",
    "the optical signals are converted to electrical signals in 12-fibre receivers . for reasons of design density minipod receivers",
    "will be used .",
    "the electrical high - speed signals are routed into two fpgas , where they are de - serialized in mgt receivers ; the parallel data are presented to the fpga fabric .",
    "the two fpgas operate on their input data independently and in parallel .",
    "high bandwidth , low latency parallel data paths allow for real - time communication between the two processors .",
    "the final results are transmitted towards the ctp on both optical fibres and electrical cables .",
    "the electrical signals are routed via an extension mezzanine module .",
    "[ [ data - reception ] ] data reception + + + + + + + + + + + + + +    the optical data arrive on the main board on 12-fibre ribbons . since the backplane connectors support multiples of 12 fibres , the optical signals will be routed via `` octopus '' cable sets , splitting 48 fibres into groups of 12 .",
    "the opto - electrical conversion will be performed in avago minipod 12-channel devices . the opto receivers exhibit programmable pre - emphasis so as to allow for improvement on signal integrity for given track length .",
    "after just a few centimeters of electrical trace length , the multi - gigabit signals are de - serialized in the processor fpgas .",
    "they allow for programmable signal equalization on their inputs . the exact transmission protocol is defined and include standard 8b/10b encoding ( envisaged for purpose of run length limitation and dc balance ) and a baseline speed of 6.4  gb / s . the processors are supplied with required bias and termination voltages , as well as suitable reference clocks .",
    "[ [ data - processing ] ] data processing + + + + + + + + + + + + + + +    topology data are processed in two xc7vx690 t fpgas .",
    "there is no data duplication implemented at pcb level .",
    "therefore different schemes can be employed .",
    "the two processors can communicate via their fabric interface to get access to data that can not be received directly via the multi - gigabit links .",
    "though according to the device data sheets higher data rates should be possible , a maximum bit rate of 1  gb / s per differential pair is anticipated for the inter - fpga link .",
    "that will limit parallel connectivity to 238  gb / s of aggregate bandwidth .",
    "this would correspond to 24@xmath5238 bits per bx ( 5712 bits ) which allows for sharing more than 250 generic trigger objects ( tobs ) . this is more than the outputs of all of the sort trees combined .",
    "since this data path adds approximately one bunch tick of latency , it might be more attractive to fan out data electrically or optically at the source , so that both processors are supplied with the same data .",
    "due to the large amount of logic resources in the chosen fpgas , a signicant number of algorithms are expected to be run in parallel on real - time data .",
    "the expected output to the ctp 32 bit per processor , indicating whether a specific topological algorithm passed or not plus optionally an overflow bit .",
    "the resulting trigger data are expected to exhibit a rather small volume .",
    "they will be transmitted to the ctp also optically . as required by future upgrades post run2 ,",
    "a single fibre - optical ribbon connection per processor fpga , running through the front panel of the module , is provided for this purpose .",
    "the operation of the real - time data path requires low - jitter clocks throughout the system . for synchronous operation",
    ", data transmitters will have to be operated with clean multiples of the lhc bunch clock .",
    "the l1topo module will be designed for 40.0789 mhz operation of the real - time data path only .",
    "the mgts are clocked off multiples of the lhc clock .",
    "the jitter on the mgt bunch clock path is tightly controlled with help of a pll device .",
    "the clock fan - out chips chosen are devices with multiple signal level input compatibility , and output levels suitable for their respective use , either lvds or cml .",
    "[ [ pre - configuration - access - and - module - control ] ] pre - configuration access and module control + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    l1topo is a purely fpga - based atca module .",
    "all communications channels are controlled by programmable logic devices and become functional only after successful device configuration . the prospective atlas standard ( lapp ipmc / mini - dimm format ) will be mounted on l1topo .",
    "an initial step of module initialization is performed by an ipmc device .",
    "it communicates to the shelf via an i2c port ( ipmb ) available on all atca modules in zone 1 ( see below ) . on standard atca modules ,",
    "ip connectivity is mandatory for module control .",
    "this is provided by two 10/100/1000 ethernet ports on the backplane in zone 2 ( redundant base interface ) wired via an sgmii phy device .",
    "[ [ fpga - configuration ] ] fpga configuration + + + + + + + + + + + + + + + + + +    the baseline ( legacy ) fpga configuration scheme on l1topo is via a compactflash card and the xilinx system ace chip .",
    "the required board - level connectivity will be available on l1topo , to write the flash cards through a network connection to the fpgas , once they are configured .",
    "a local spi memory and sd card are also wired in the design to provide alternative configuration methods .",
    "both devices are placed on a mezzanine to adapt for future changes .",
    "[ [ monitoring - and - control ] ] monitoring and control + + + + + + + + + + + + + + + + + + + + + +    the default atca monitoring and control path is via i2c links in zone 1 .",
    "the backplane i2c port ( ipmb ) is connected to the ipmc dimm .",
    "on l1topo configured fpgas can be monitored for die temperature and internal supply voltage .",
    "the production modules will be subjected to rigorous tests .",
    "the test procedure was developed based on the firmware produce in testing the prototipes .",
    "after initial smoke tests the modules will be boundary scanned , the high speed links will be ibert  @xcite tested for data eye width and bit error rate . finally a data transmission test with production firmware and final data formats",
    "will follow .",
    "+ the latter tests , comprising all high speed interfaces ( including readout links ) will take place at cern .",
    "please note that initial link tests will for the production modules be performed at 12.8  gb / s ( see fig.[l1topo_berscan ] ) , whereas the full module tests can be done at the pre - phase1 target bit rate of 6.4  gb / s only .",
    "the first prototype is equipped with two xc7vx485 devices .",
    "these device type supports data rates ( in terms of lhc clock multiples ) up to 10.2  gb / s ( 56 lines per device ) .",
    "five out of 112 links resulted faulty due to a defect on the vias of the pcb plus a rework on one of the devices due to an alignment error during the assembly .",
    "for the remaining 107 links , the performance have been tested at 10  gb / s by means of eye diagrams and bathtub profiles .",
    "error free data transmission was observed and the bathtub profile open above 30% .",
    "the upper limit on aggregate data transmission was down to ber @xmath11 @xmath12 ) .",
    "systematic tests to optimize mgt and minipod parameters have been performed .",
    "the second prototype has been assembled and is currently under test in the home lab .",
    "it mounts one large xc7vx690t-3 embedding higher performing transceivers up to 12.8  gb / s . along with a suitable speed grade of",
    "the avago minipod device attached , data transmission tests at 12.8  gb / s have been performed with realistic fibre lengths and configurations . with the new pcb printed with no defected vias , all links are working error free .",
    "further long term testing is ongoing , and at the time of writing this paper bit error rates have been measured down to ( @xmath11 @xmath13 ) .",
    "not a single error has been observed .",
    "power consumption tests performed on the first prototype have shown a power usage close to the limit of the low voltage power regulators ( 10 amp ) initially adopted .",
    "regulators have been replaced with higher power ( 20 amp ) . with the new supplies",
    "an improvement on the power ripple well below 10 mv was measured . on the second prototype precise measurements on the power consumption",
    "were carried out .",
    "in such measurements , an electrical fanout has been designed in such a way to provide electrical input to all 14 avago minipod rx sockets .",
    "the current drained at different data transmission speed was then monitored .",
    "power tests have been performed at the time of writing this paper at 12.8  gb / s as well , and they suggest a power consumption consistent with the later version of xilinx power estimator spreadsheet and well within the supply capabilities .",
    "such test with high speed input is way beyond the tdr baseline .",
    "ipbus has been implemented and test for errors in repeatedly read and write registers .",
    "tests have been perfomed at 400 mhz ddr between the control fpga and one of the processors fpga ( xc7vx690 t ) setting an initial limit on the error rate ber @xmath14 .",
    "the mucpti interface has been installed at cern and the optical link has been connected with the l1topo board in a realistic experimental scenario ( including optical splitters , see fig.[l1topo_powerripple ] ) .",
    "data transmission and signal integrity has been tested by means of statistical eye diagram and bathtub profiles at 6.4  gb / s .",
    "error free data transmission is observed on 4 lines over a period of 24h ( ber @xmath11 4@xmath15 ) .",
    "bathtub profiles have shown an average opening above 30% .",
    "data transmission and signal integrity has been tested by means of statistical eye diagram and bathtub profiles at 6.4  gb / s .",
    "error free data transmission is observed and bathtub profiles shown an excellent average opening above 55% .",
    "the commissioning phase started few months ago .",
    "the tests described above involved l1topo prototypes only . connectivity to external interface will soon involve the upgraded ctp and the existing readout system . the final production module",
    "are expected to exist from september 2014 .",
    "tests in the underground electronics racks will begin from the end of august or before ( using prototypes ) .",
    "the deadline for the system commissioning is fixed by the end of the year . in this paper",
    "we have not aimed to discuss , the software and firmware effort behind the control , configuration and monitoring of the l1topo system .",
    "in this document , an overview of the l1topo system is presented .",
    "the l1topo is a completely new element of the atlas level-1 trigger . with l1topo",
    "it will be possible for the first time to apply topological cuts at level-1 using detailed information from calorimeters and muon sub - detectors .",
    "with l1topo it will be possible to apply topology cuts at level-1 using tobs from the calorimeter and muon sub - detectors .",
    "the l1topo required additional firmware and hardware upgrades to the existing l1calo and l1muon systems which have been here only marginally mentioned or overlooked .",
    "l1topo will receive input from new cmx modules which are part of the l1calo upgrade .",
    "it will then use these inputs to make topological based decisions , thus allowing much important physics to be saved from the alternative of raising the @xmath9 and @xmath4 thresholds .",
    "real - time l1topo output will be sent to the central trigger processor ctp , where the final level-1 decision is taken .",
    "the crucial aspect here is the design of the topology algorithms , including optimization of bandwidth , fpga resources and latency .",
    "the l1topo prototype is being tested in the l1calo test lab at cern and has undergone initial integration tests .",
    "the l1topo production modules are scheduled for installation on site in 2014 ."
  ],
  "abstract_text": [
    "<S> the atlas detector at the large hadron collider ( lhc ) is designed to measure decay properties of high energetic particles produced in the proton - proton collisions . during its first run , </S>",
    "<S> the lhc collided proton bunches at a frequency of 20 mhz , and therefore the detector required a trigger system to efficiently select events down to a manageable event storage rate of about 400 hz . by 2015 the lhc instantaneous luminosity will be increased up to * @xmath0@xmath1 * : this represents an unprecedented challenge faced by the atlas trigger system . to cope with the higher event rate and </S>",
    "<S> efficiently select relevant events from a physics point of view , a new element will be included in the level-1 trigger scheme after 2015 : the topological processor ( l1topo ) . </S>",
    "<S> + the l1topo system , currently developed at cern , will consist initially of an atca crate and two l1topo modules . a high density opto - electroconverter ( avago minipod ) drives up to 1.6 tb / s of data from the calorimeter and muon detectors into two high - end fpga ( virtex7 - 690 ) , to be processed in about 200 ns . the design has been optimized to guarantee excellent signal integrity of the high - speed links and low latency data transmission on the real time data path ( rtdp ) . </S>",
    "<S> the l1topo receives data in a standalone protocol from the calorimeters and muon detectors to be processed into several vhdl topological algorithms . </S>",
    "<S> those algorithms perform geometrical cuts , correlations and calculate complex observables such as the invariant mass . </S>",
    "<S> the output of such topological cuts is sent to the central trigger processor . </S>",
    "<S> this talk focuses on the relevant high - density design characteristic of l1topo , which allows several hundreds optical links to processed ( up to 13  gb / s each ) using ordinary pcb material . </S>",
    "<S> relevant test results performed on the l1topo prototypes to characterize the high - speed links latency ( eye diagram , bit error rate , margin analysis ) and the logic resource utilization of the algorithms are discussed . </S>"
  ]
}