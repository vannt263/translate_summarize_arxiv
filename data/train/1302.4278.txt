{
  "article_text": [
    "in many applications , one needs to evaluate path - dependent objective functionals .",
    "they arise , for example , in derivative pricing , networked system analysis , and euler s approximation to solution of stochastic differential equations .",
    "this paper is concerned with approximation methods for computing such objective functions . by a first glance",
    ", the problem may appear as a standard approximation of a stopping time problem involving traditional techniques .",
    "nevertheless , a closer scrutiny reveals that the problem under consideration is far more challenging and difficult .",
    "the difficulties are in the following three aspects .    *",
    "the path - dependence leads to fundamental difficulty in the evaluation of the underlying functionals with stopping times . *",
    "the traditional dynamic programming approach falls apart , not to mention any hope for a closed - form solution or any viable numerical solutions for the associated partial differential equations ( pdes ) .",
    "thus one naturally turns to approximation methods using monte carlo optimization . to the best of our knowledge ,",
    "convergence analysis is available only in few special cases due to the complexity of the nature of path dependence . * in evaluating the path - dependent functionals , operations involving max and min are used . as a result",
    ", continuity becomes a major issue ; more illustrations and counter examples will be provided in section [ sec : counter ] .",
    "standard weak convergence argument does not apply .    to begin",
    ", there are virtually no closed - form solutions involving path - dependent objective functionals .",
    "one has to look for alternatives .",
    "the next possibility is numerical approximation using pde - based techniques .",
    "nevertheless , such possibility is ruled out due to the lack of markovian properties .",
    "the only often used technique left is the monte carlo method .",
    "while most of the existing methods for treating monte carlo optimization are somewhat ad hoc , this work develops a systematic alternative method for analyzing the convergence of the approximation algorithm . in this paper",
    ", we use a weak convergence approach and carry out the convergence analysis under the skorohod topology .",
    "one of the main ingredients is the use of a generalized projection operator . with the use of such projections ,",
    "we proceed to explore the intrinsic properties of the skorohod space .",
    "the convergence analysis developed in this paper provides a thorough understanding of the nature of path dependence and a general framework for handling many path - dependent problems .",
    "we are interested in approximating path - dependent functions in a finite - time horizon . for simplicity ,",
    "we focus our attention on the time interval @xmath5 $ ] to avoid using more complex notation .",
    "let @xmath6 $ ] be the collection of continuous real - valued functions defined on @xmath5 $ ] , and @xmath7 $ ] be the collection of all rcll ( right continuous with left - hand limits ) functions on @xmath5 $ ] . with @xmath8\\}$ ]",
    "satisfying the usual conditions and @xmath9 , let @xmath10 be a filtered probability space ; see @xcite . as a convention , we use capital letters to denote random elements and use lower case letters for deterministic ( or non - random ) elements .",
    "for instance , @xmath11 $ ] is a rcll function defined on @xmath5 $ ] , while @xmath12 $ ] is a random rcll process with sample paths in @xmath7 $ ] . as usual ,",
    "@xmath13 can be regarded as a function of two variables ( time @xmath14 and sample point @xmath15 ) .",
    "that is , for each fixed @xmath16 , @xmath17 denotes a sample path and for each fixed @xmath14 , @xmath18 is a random element in @xmath19 .    , and domain @xmath20 bounded by lower barrier @xmath21 and upper barrier @xmath22 . ]    throughout the paper , @xmath23 $ ] are given satisfying @xmath24 for all @xmath25 $ ] .",
    "the domain of our interest is defined by all the points bounded by @xmath26 and @xmath27 , that is , @xmath28\\}.\\ ] ] the cross - section @xmath29 may be time - dependent .",
    "we also denote its boundary by @xmath30 \\ } \\cup \\{(\\beta(t ) , t ) : t\\in [ 0,1 ] \\}.\\ ] ] consider an @xmath31-adapted continuous process @xmath32\\times \\omega \\mapsto c[0,1]$ ] with initial @xmath33 .",
    "let @xmath34 be the first hitting time to the boundary of the time - dependence domain @xmath35 now we introduce the notion of projection operator ( see @xcite ) @xmath36 \\times [ 0,1]^{m } \\mapsto \\mathbb r^{m}$ ] as @xmath37 , \\nu \\in [ 0,1]^{m}.\\ ] ]    for @xmath11 $ ] , we define a maximum process @xmath38 by @xmath39 .",
    "it is easy to check that @xmath40 $ ] .",
    "for some measurable function @xmath41 , we are interested in the computation of the objective functional @xmath42 \\mapsto \\mathbb r$ ] defined by , for given @xmath43^{m } : i = 1 , 2 , 3 , 4\\}$ ] @xmath44 .      \\ ] ]    note that random times @xmath45 are only measurable with respect to @xmath46 , but may not be stopping times whenever @xmath47 .",
    "moreover , the value function may be a measurable function depending on the initial states @xmath48 if the functional @xmath0 is given as a non - path - dependent form of @xmath49 $ ] for some function @xmath50 .",
    "however , we emphasize that our main interest is the computation when the functional is path - dependent in the form of , which has a wide range of applications in mathematical finance .",
    "related literature in connection with a hitting time under a markovian framework can be found in dufour and piunovskiy @xcite , de saporta , et al .",
    "@xcite , and szpruch and higham @xcite among others .",
    "in particular , in @xcite , the existence of optimal stopping with constraints is established using a convex analytic approach . a numerical method for optimal stopping of piecewise deterministic markov processes",
    "is considered in @xcite .",
    "bounds for the convergence rate of their algorithms are obtained by introducing quantization of the post jump location and path - adapted time discretization grids . in @xcite , an application in physics ( thermodynamic limit ) involving mean hitting time behavior",
    "is considered .",
    "the evaluation of path - dependent objective functions is of great interest in many networked systems as well as in financial applications such as the option pricing .",
    "in particular , the value @xmath0 of can be considered as a general form of a class of option prices including look - back option , rebate / barrier option , asian option , bermuda option etc .",
    "to illustrate , consider the underlying stock price @xmath1 that is a non - negative continuous martingale process under @xmath51 that is the corresponding _ equivalent local martingale measure_. throughout this subsection , we also assume that interest rate is @xmath52 , and @xmath53 , @xmath54 and @xmath55 . thus , the first hitting time can be written by @xmath56 we also assume the distribution of @xmath1 under @xmath51 has no atom . in particular , @xmath57 for all @xmath58 and @xmath59 .",
    "[ e : barrier ] a barrier option is an option with a payoff depending on whether , within the life of the option , the price of the underlying asset reaches a specified level ( the so - called barrier ) ; see more details in @xcite .",
    "there are three basic types of barrier options : knock - out options , knock - in options , and rebate options . as an illustration",
    ", we consider up - and - in barrier call with strike @xmath60 at maturity @xmath61 , which is one special case of knock - in options . roughly speaking ,",
    "up - and - in call activates ( knocks - in ) its payoff @xmath62 if the upper barrier is touched before the expiration @xmath63 .",
    "the precise price formula of the up - and - in call is given by @xmath64 =     e^{-r } \\mathbb{e}[(x(1 ) - \\frac 1 2)^{+ } i_{[1,\\infty ) } ( x^{*}(1))].\\ ] ] in this case , the payoff function is @xmath65 which is discontinuous at @xmath66 .",
    "[ e : dbarrier ] in the related literature , most works assume continuous monitoring of the barrier like example  [ e : barrier ] . however , in practice most barrier options traded in markets are monitored at discrete time . unlike their continuous - time counterparts",
    ", there is essentially no closed form solution available , and even numerical pricing is difficult ; see more related discussions in@xcite and @xcite . for instance , the price formula of up - and - in barrier call monitoring at discrete time instants @xmath67 with strike @xmath68 is @xmath69.\\ ] ] the payoff function @xmath70 is written as @xmath71 note that @xmath72 has linear growth , is unbounded , and is discontinuous .      to evaluate the path - dependent objective functions , a major difficulty arises from the lack of markovian property .",
    "this rules out the possibility of the conventional numerical - pde - based methods including the finite difference or finite element methods .",
    "in addition , the time - dependent barriers @xmath21 and @xmath22 also create additional layer of the difficulty . in this paper , we consider monte carlo methods to obtain a feasible estimate of the path - dependent problems .",
    "monte carlo method is a class of computational algorithms that relies on some repeated random sampling to evaluate its deterministic value using its probabilistic fact .",
    "this includes euler - maruyama approximation @xcite and markov chain approximation @xcite , @xcite , and @xcite among others .",
    "the general idea of the monte carlo method in this vein is the following .",
    "for each sample point @xmath16 , use @xmath73 $ ] to denote a simulated path for the underlying process @xmath74 $ ] by a certain monte carlo method with a small parameter @xmath2 ( maybe a step size ) .",
    "define the approximated stopping time by @xmath75 one can approximate @xmath0 in this way by computing @xmath76.\\ ] ] the main task of this approximating scheme is to design an appropriate monte carlo method so that the desired convergence takes place eventually , i.e. , @xmath77    as the objective value is given as an expectation of , @xmath0 is invariant under the same distribution , and the usual requirements for the monte carlo method are intuitively given as follows :    1 .",
    "@xmath78 converges weakly to @xmath13 as @xmath79 , denoted by @xmath80 .",
    "@xmath72 is continuous .",
    "a couple of natural questions are as follows .",
    "* are ( h1)-(h2 ) sufficient to guarantee the desired convergence @xmath81 ? * can ( h2 ) be possibly weakened to some discontinuous function @xmath72 so that the barrier option pricing ( see section  [ sec : ex ] ) can be included ?",
    "interestingly , there exist circumstances that lead to counter examples in connection with the desired convergence under ( h1)-(h2 ) .",
    "a noticeable counter example is given in figure [ fig : png ] , which is motivated by the so - called _",
    "tangency problem_. consider two underlying processes @xmath82 ( solid line ) and @xmath83 ( dotted line ) in figure [ fig : png ] .",
    "no matter how close @xmath82 and @xmath83 be at the initial states , the difference between their first exit time @xmath84 and @xmath85 could be far away ; see @xcite .",
    "the above idea is illustrated in the following example .",
    "[ ex : t ] let @xmath86 be a deterministic process given by @xmath87 .",
    "let @xmath88 and @xmath89 for all @xmath90 .",
    "then the exit time of @xmath1 is @xmath91 define a family of processes parameterized by @xmath2 with @xmath92 .",
    "although @xmath78 converges to @xmath13 in @xmath93 as @xmath94 , we note that @xmath95 not converging to @xmath96 .",
    "the next example gives a very different aspect from the first one in the sense that there are no barriers and the underlying process is a bessel process .",
    "this system is often used in finance to model the dynamics of asset prices , of the spot rate and of the stochastic volatility , or as a computational tool . in particular , computations for the celebrated cox - ingersoll - ross ( cir ) and constant elasticity variance ( cev ) models can be carried out using bessel processes .",
    "[ ex : c2 ]    let @xmath97 be a bessel process of order @xmath98 with initial @xmath99 , i.e. , @xmath100 which is a well known strict local martingale with @xmath101 < 1 $ ] ; see page 336 of @xcite .",
    "a sample path of @xmath97 is given in figure  [ fig : bessel ] .",
    "define @xmath102 .",
    "fix a vector @xmath103^{n}$ ] , then we have by definition @xmath104 a.s . , and the weak convergence @xmath105 takes place . moreover , kolmogorov consistency theorem together with the uniqueness of the weak solution of sde implies that @xmath106 due to the arbitrariness of @xmath107 and @xmath108^{n}$ ] .",
    "however , since @xmath78 is a bounded local martingale , it is a martingale .",
    "thus we have @xmath109 = 1 > \\mathbb e[x(1)].$ ]          the above examples show that ( h1)-(h2 ) may not be sufficient for monte carlo simulation to be convergent to the right value of .",
    "this suggests the following question :    * given @xmath106 , what are sufficient conditions to ensure the convergence @xmath81 ?",
    "is it possible to weaken the continuity of @xmath72 to cover the barrier option ?    in this paper , we first present a rigorous proof of the convergence in section  [ sec : sur ] . the results in theorem  [ thm1 ] provide a set of sufficient conditions for the convergence .",
    "it can also explain why examples  [ ex : t ] and [ ex : c2 ] do not work .",
    "our approach is based on the actual computations using skorohod metric in the space @xmath7 $ ] .",
    "this is the first attempt in this context to the best of our knowledge .",
    "such an approach is advantageous .",
    "for example , the study of monte carlo convergence usually varies with the particular form of the underlying payoff functions ; see @xcite and the references therein .",
    "however , theorem  [ thm1 ] provides a unified theoretical basis for the convergence in a general path - dependent form with possibly discontinuous payoff function @xmath72 and finite time - dependent barrier @xmath110 .",
    "this covers a wider range of applications of theorem  [ thm1 ] to various types of options , for instance , barrier options , asian options , look back options , etc .",
    "it is also notable that the assumptions on the barrier in the path - dependent problem have some similarities to that imposed for stochastic controlled exit problems ; see @xcite . to complete the approximation of the value @xmath0 of",
    ", one should consider the following question in addition to ( q1 ) .",
    "* given @xmath13 , how does one construct an approximating sequence of processes @xmath78 such that @xmath106 ?    among many of the possible answers to ( q2 ) , we will mainly focus on the construction of @xmath78 in the framework of markov chain approximation in section  [ sec : mar ] . recall that from the book @xcite , a family of continuous approximating processes @xmath111 constructed using markov chain is convergent to @xmath1 in distribution if the markov chain satisfies the local consistency ( * ? ? ?",
    "* equation ( 9.4.2 ) ) ; see also ( * ? ? ?",
    "* theorem 10.4.1 ) . compared to @xcite",
    ", we investigate the weak convergence for more generalized local consistency condition .",
    "this enables us to cover various types of monte carlo simulations in the framework of markov chain approximation to verify its weak convergence using the generalized local consistency .",
    "it essentially extends the use of markov chain approximation .    to proceed ,",
    "the rest of the paper is arranged as follows .",
    "section [ sec : sur ] provides sufficient conditions for the convergence of the approximating path - dependent functional @xmath112 to the original functional @xmath0 given that there exists a sequence of random processes @xmath111 converging to the original process @xmath1 weakly .",
    "section [ sec : mar ] addresses the question how to find a sequence of weak convergent @xmath111 when the original process @xmath1 is the solution of a stochastic differential equation . since section [ sec : mar ] does not use any result obtained in section  [ sec : sur ] , these two sections are independently accessible to the reader .",
    "finally , the paper is concluded with a demonstrating example on discrete - monitoring - barrier options together with some further remarks in section [ sec : fur ] .",
    "we use the notation given in @xcite . define a metric on @xmath7 $ ] by @xmath113 } |x(t)-y(t)| , \\ \\forall x , y \\in d[0,1].\\ ] ] then , the continuous function space on @xmath5 $ ] , denoted by @xmath6 $ ] , is complete with respect to the uniform topology with the above metric @xmath114 . on the other hand , the rcll function space defined on @xmath5 $ ] , denoted by",
    "@xmath7 $ ] , is equipped with the skorohod topology with the metric @xmath115,\\ ] ] where @xmath116 denotes the composite function of @xmath117 and @xmath118 , and @xmath119 is the collection of all continuous increasing functions @xmath120 on @xmath5 $ ] with @xmath121 and @xmath122 , and @xmath123 is identity mapping .",
    "it is often useful to use the following fact : @xmath124 in skorohod topology if and only if there exists @xmath125 such that @xmath126    note that @xmath7 $ ] is not complete under the metric @xmath127 , but it is complete under an equivalent metric @xmath128 defined by @xmath129.\\ ] ] for notational convenience , we will use @xmath127 for the metric of @xmath7 $ ] in the rest of the paper .",
    "in particular , for a mapping @xmath130 \\mapsto \\mathcal{m}$ ] with metric space @xmath131 , @xmath132 is said to be continuous at some @xmath133 $ ] if @xmath134 in contrast , @xmath133 $ ] is said to be continuous at some @xmath135 , if @xmath136      in this section , we will discuss continuity of some useful mappings on @xmath7 $ ] with respect to skorohod topology .",
    "recall that , for @xmath11 $ ] , we define @xmath137 $ ] by @xmath138 .",
    "we also define a mapping @xmath139 \\mapsto d[0,1]$ ] as @xmath140 in addition , we are interested in the projection @xmath141 in given by @xmath142 , \\nu \\in [ 0,1]^{m}\\ ] ] and a mapping @xmath143 \\mapsto [ 0,1]$ ] defined by @xmath144    [ lem : w1 ] @xmath145 is continuous on @xmath7 $ ] .    since @xmath120 is strictly increasing , @xmath146 .",
    "therefore , @xmath147}|x^*(\\lambda(t ) ) -y^*(t)|\\ }      \\\\ & \\displaystyle      = \\inf_{\\lambda\\in \\lambda }      \\{\\|\\lambda - \\mathbb i\\| ,      \\sup_{t\\in [ 0,1]}|(x\\circ \\lambda)^*(t ) -y^*(t)|\\ }      \\\\ & \\displaystyle      \\le \\inf_{\\lambda\\in \\lambda }      \\{\\|\\lambda - \\mathbb i\\| ,      \\sup_{t\\in [ 0,1 ] } \\sup_{0\\le s\\le t } |(x\\circ \\lambda)(s ) -y(s)|\\}\\\\      & \\displaystyle      = \\inf_{\\lambda\\in \\lambda }      \\{\\|\\lambda - \\mathbb i\\| ,      \\|x\\circ \\lambda -y\\|\\ } = \\|x - y\\|_s .",
    "\\end{array}\\ ] ] so , @xmath148 is continuous in @xmath149}$ ] with respect to the skorohod topology .    [",
    "l : pi ] @xmath141 is continuous at @xmath150 \\times [ 0,1]^{m}$ ] whenever @xmath117 is continuous at each @xmath151 of @xmath152 .    given a sequence of vectors @xmath153 , we observe that @xmath154 and the continuity of @xmath141 in the variable @xmath155 follows directly from the continuity of @xmath117 at @xmath151 for each @xmath156 .",
    "next , we show the continuity of @xmath141 in the variable @xmath117 . to proceed , we fix @xmath155 , and an arbitrary sequence @xmath157 satisfying @xmath158",
    ". then , there exists @xmath159 satisfying .",
    "therefore , we have @xmath160 note that the first term @xmath161 as @xmath162 by . on the other hand , since @xmath163 as @xmath162 by , we have @xmath164 as @xmath162 . hence ,",
    "the second term @xmath165 by continuity of @xmath117 at @xmath151 .",
    "thus , we conclude the continuity of @xmath141 in the variable @xmath117 .    the continuity of @xmath166 of is a rather tricky part . to proceed ,",
    "let us partition the space @xmath6 $ ] as follows : define @xmath167 : \\pi(x ) < 1 , \\ x(\\pi(x ) ) = \\beta({\\pi(x ) } ) , \\",
    "\\inf\\{t>\\pi(x ) : x(t)>\\beta(t)\\ } = \\pi(x ) \\},\\ ] ] @xmath168 : \\pi(x ) < 1 , \\ x(\\pi(x ) ) = \\alpha({\\pi(x ) } ) ,        \\ \\inf\\{t>\\pi(x ) : x(t ) <",
    "\\alpha(t ) \\ } = \\pi(x ) \\},\\ ] ] and @xmath169 : \\pi(x ) = 1 \\ } , \\hbox { and }        c_{4 } = c[0,1 ] \\setminus ( \\cup_{i=1}^{3 } c_{i}).\\ ] ] accordingly , we can write @xmath6 = \\cup_{i=1}^{4 } c_{i}$ ] and @xmath170 for @xmath171 .",
    "as for the illustration , one can see that the four curves depicted in figure  [ fig : png1 ] belong to four different subsets separately , that is , @xmath172 for @xmath173 .",
    "$ ] ]    [ l : pi ] the @xmath166 defined in is continuous at each @xmath174 .",
    "first , @xmath175 is continuous at @xmath176 thanks to lemma  [ lem : w1 ] .",
    "we assume @xmath177 for each @xmath14 without loss of generality .",
    "fix @xmath178 , and @xmath157 be an arbitrary sequence in @xmath7 $ ] satisfying @xmath179 as @xmath162 . by the definition of @xmath127",
    ", it implies that there exists @xmath125 such that @xmath180    * case 1 .",
    "define , for any @xmath181 @xmath182 by the definition of @xmath183 , we have @xmath184 for all @xmath185 .",
    "moreover , by continuity of @xmath117 , there exists a time @xmath186 such that @xmath187 .",
    "next , we observe that @xmath188 this implies that for some large @xmath189 @xmath190 + on the other hand , there exists @xmath191 due to the continuity of @xmath22 such that @xmath192 moreover , since @xmath193 , we have for some large enough @xmath194 , @xmath195 therefore , it leads to @xmath196 inequality together with implies @xmath197 or equivalently , @xmath198 finally , taking @xmath199 on each side of the above inequality and using @xmath193 of , we have @xmath200 so we conclude that by the arbitrariness of @xmath201 , @xmath202 * case 2 . we prove the reverse inequality . by the definition of the first hitting time , for any @xmath185",
    ", there exists @xmath184 such that @xmath203 also , implies that , @xmath204 , @xmath205 and @xmath206 . using the triangle inequality",
    ", we have @xmath207 + so , there exists a large @xmath208 such that @xmath209 in particular , this leads to @xmath210 , \\",
    "n \\ge n_{\\varepsilon}.\\ ] ] by taking @xmath211}$ ] on both sides of the above inequalities and using , we have @xmath212 and @xmath213 thus , we have @xmath214 taking @xmath215 and using and the fact of the arbitrariness of @xmath201 , we have @xmath216    summarizing the above , we have proved the continuity of @xmath175 at @xmath178 with respect to the skorohod topology , i.e. , @xmath217 whenever @xmath218 with respect to the skorohod topology .",
    "similar arguments as in cases 1 and 2 yield that @xmath175 is also continuous at @xmath219 .      in this section ,",
    "we utilize the continuity properties under skorohod topology together with the continuous mapping theorem to obtain the main convergence result .",
    "to proceed , we make the following assumptions .    * if @xmath220 , then @xmath221 . if @xmath222 , then @xmath223 .",
    "note that condition ( a1 ) means that the process hits both barriers @xmath26 and @xmath27 with positive probability , whenever @xmath224 or @xmath27 are bounded above .",
    "this is not a restriction ; it is only imposed for the technical convenience since one can simply set @xmath225 ( resp . ,",
    "@xmath226 ) for all @xmath25 $ ] , if @xmath13 never hits @xmath26 ( resp . ,",
    "@xmath27 ) almost surely in @xmath51 . if @xmath227 , then @xmath228 .",
    "* @xmath1 satisfies @xmath229\\ } = \\tau$ ] almost surely @xmath51 .    condition ( a2 ) requires that the boundary @xmath230 is regular with respect to the process @xmath13 .",
    "note that for any small @xmath231 , @xmath1 exits from @xmath232 in the interval @xmath233 under ( a2 ) .",
    "loosely speaking , the condition ( a2 ) means that the process @xmath97 exits @xmath232 immediately after it hits the boundary at @xmath34 .",
    "note that ( a2 ) also implies that @xmath234 more discussions are referred to remark  [ rem:1 ] .",
    "* @xmath235 is an almost surely continuous function with respect to @xmath236 , where @xmath237 .",
    "in fact , ( a3 ) is equivalent to the following statement : @xmath70 is only discontinuous at points in a set @xmath238 satisfying @xmath239 ; see also remark  [ rem:2 ] . * one of the following conditions holds : 1 .",
    "@xmath70 is a bounded function ; 2 .",
    "@xmath70 is a function with linear growth and @xmath240\\}$ ] is uniformly integrable .",
    "now , we are ready to answer question ( q1 ) .",
    "[ thm1 ] assume ( a1)-(a4 ) .",
    "let @xmath13 be an @xmath241-adapted continuous process with initial @xmath242 , and @xmath78 be a sequence of rcll processes satisfying @xmath243 as @xmath79 .",
    "then , @xmath244 .",
    "we rewrite @xmath0 and @xmath112 by @xmath245 \\hbox { and } v^{h } = \\mathbb e[g(x^{h})],\\ ] ] where @xmath246 \\mapsto \\mathbb r$ ] is defined by @xmath247    note that ( a2 ) implies that @xmath248 together with ( a3 ) and lemma  [ lem : w1 ] , [ l : pi ] , [ l : pi ] , we have continuity of @xmath249 almost surely @xmath250 . by the continuous mapping theorem ( * ? ? ?",
    "* theorem 2.7 ) , we conclude that @xmath251 together with ( a4 ) , it results in @xmath244 ; see ( * ? ? ?",
    "* p. 25 , 31 ) .",
    "theorem  [ thm1 ] holds under assumptions of ( a1)-(a4 ) .",
    "recall that ( a1 ) is not a restriction .",
    "we elaborate on ( a2 ) , ( a3 ) , and ( a4 ) in what follows .",
    "[ discussions on ( a2 ) and example  [ ex : t ] ] [ rem:1 ] in fact , ( a2 ) is a requirement on the regularity of the boundary @xmath230 with respect to the process @xmath1 , and it is referred to as @xmath252-regularity for simplicity ; see @xcite .",
    "note that since @xmath13 in example  [ ex : t ] violates @xmath252-regularity ( a2 ) , by observing @xmath253\\ } \\wedge 1 = 1 > 1/2 = \\tau,\\ ] ] it yields the convergence to the wrong value .",
    "in other words , ( a2 ) is crucial for the investigation of the convergence .",
    "[ discussions on ( a3 ) and example  [ e : barrier ] ] [ rem:2 ] assumption ( a3 ) is the requirement on the function @xmath70 .",
    "first of all , it allows discontinuity of @xmath70 , but it can not be too much discontinuous in the sense that it is at least required to be almost surely continuous . however , it is already enough to include option pricing for the discontinuous payoff such as the barrier option in example  [ e : barrier ] .",
    "in fact , @xmath70 of example  [ e : barrier ] given by @xmath65 is continuous only at @xmath254 .",
    "suppose the stock price @xmath1 follows a geometric brownian motion , then the probability measure @xmath51 satisfies @xmath255 , and @xmath70 is continuous almost surely @xmath256 .",
    "[ discussions on ( a4 ) and example  [ ex : c2 ] ]    in ( a4 ) , another issue yet mentioned is the growth condition of @xmath72 .",
    "in particular , if @xmath72 is of linearly growth function of the underlying price like in the call type option , then one can verify the uniform integrability .",
    "we have already seen that , for instance , example  [ ex : c2 ] converges to a wrong value , since @xmath257 is not uniformly integrable while the payoff function @xmath258 is linear growth .",
    "recall the definition of uniform integrability .",
    "a set of random variables @xmath259 is said uniformly integrable , if for any @xmath231 , there exists a compact set @xmath260 such that @xmath261<{\\varepsilon}.\\ ] ] note that to ease the verification of the uniform integrability , one can often use proposition  [ p : ui ] practically rather than the above definition .",
    "in this section , we establish the weak convergence of markov chain approximation for multidimensional stochastic differential equations . in what follows",
    ", @xmath260 is a generic constant whose value may change at each line .    1 .",
    "@xmath262 and @xmath263 are lipschitz in @xmath118 and hlder-1/2 continuous in @xmath14 , i.e. , with @xmath264 , @xmath263 , @xmath265    let @xmath266\\}$ ] be the unique solution of @xmath267 where @xmath268 , @xmath269 is a standard @xmath270 brownian motion , and @xmath271 .",
    "let @xmath272 be a sequence of increasing predictable ( i.e. , @xmath273 is @xmath274-measurable . )",
    "random times with respect to a discrete filtration @xmath275 , and @xmath276 be a sequence of @xmath277-adapted markov chain in @xmath278 with transition probability @xmath279 we use @xmath280\\}$ ] to denote piecewise constant interpolation @xmath281 for notational simplicity , we set @xmath282 and @xmath283 , @xmath284 : = \\mathbb e[\\ \\cdot \\   | \\mathcal{f}_{n}^{h}]$ ] , and @xmath285.\\ ] ] the interpolation of the markov chain process @xmath286 is said to be _ locally consistent _ , if    1 .",
    "@xmath287 =     \\mathbb e_{n}^{h } [ \\delta t_{n}^{h } ] \\cdot ( b(y_{n}^{h } , t_{n}^{h } ) + o(h ) ) $ ] , 2 .",
    "@xmath288 \\cdot    ( ( \\sigma \\sigma')(y_{n}^{h } , t_{n}^{h } ) + o({h}))$ ] , where @xmath289 is either a @xmath290-dimensional vector or @xmath291 dimensional matrix that is @xmath292-measurable with each element being @xmath289 .    to proceed",
    ", we also require quasi - uniform step size .    1 .",
    "the step size @xmath293 satisfies @xmath294 .    the ( qu ) condition yields @xmath295    the main goal of this section is to show that @xmath296 , h>0\\}$ ] is uniformly integrable and @xmath297 as @xmath79 . since the entire proof is rather long , we first provide some useful estimates .",
    "[ l : est1 ] for the stochastic differential equation , assume that ( a5 ) is satisfied , and @xmath298 of is a sequence of random processes satisfying the local consistency conditions @xmath299lc1-lc2@xmath300 and quasi - uniform step size @xmath299qu@xmath300 .",
    "then , the family of random variables @xmath296 , h>0\\}$ ] satisfies : @xmath301 \\le k \\hbox { for all } t\\in [ 0,1],\\ ] ] and @xmath302 \\le kt .\\ ] ]    first , we separate the entire estimation into two parts",
    ". @xmath303    = \\mathbb e [ \\sup_{0\\le n \\le z^{h}(t ) - 1 }   |\\sum_{i = 0}^{n } \\mathbb e_{i}^{h}[\\delta y_{i}^{h } ] + \\delta m_{i}^{h}|^{2 } ]   \\\\",
    "\\quad \\quad   \\le \\displaystyle   k   \\mathbb e \\big[\\sup_{0\\le n \\le z^{h}(t ) - 1 }   \\big|\\sum_{i = 0}^{n } \\mathbb e_{i}^{h}[\\delta y_{i}^{h } ] \\big|^{2 } \\big ]   + k   \\mathbb e \\big[\\sup_{0\\le n \\le z^{h}(t ) - 1 }   \\big|\\sum_{i = 0}^{n } \\delta m_{i}^{h}\\big|^{2 } \\big ] : = k { \\widetilde}i_1 + k { \\widetilde}i_2 .",
    "\\end{array}\\ ] ] note that @xmath304 has the following upper bound by local consistency , @xmath305 \\big|^{2 } \\big ]   \\le k \\mathbb e \\big [ z^{h}(t )   \\sum_{n = 0}^{z^{h}(t ) - 1 }    ( \\mathbb e_{n}^{h }",
    "[ \\delta t_{n}^{h}])^{2 }    \\cdot ( b^{2}(y_{n}^{h } , t_{n}^{h } ) + o(h^{2 } ) ) \\big].\\ ] ] owing to ( qu ) condition , we can use the inequality to obtain @xmath306    \\cdot ( b^{2}(y_{n}^{h } , t_{n}^{h } ) + o(h^{2 } ) ) \\big]\\\\    & \\le { \\displaystyle}kt \\mathbb",
    "e \\big [   \\sum_{n = 0}^{[kt / h ] -1 }    \\mathbb e_{n}^{h } [ \\delta t_{n}^{h }    \\cdot ( b^{2}(y_{n}^{h } , t_{n}^{h } ) + o(h^{2 } ) ) \\cdot i_{\\{n\\le z^{h}(t ) - 1\\ } } ]    \\big ] .",
    "\\end{array}\\ ] ] in the last line above , the term @xmath307 can be included into @xmath308 , since it is @xmath309-measurable .",
    "now we are ready to use the tower property of conditional expectation and regularity condition ( a5 ) and end up with @xmath310 +   kt^{2 } h^{2}.\\ ] ]    on the other hand , @xmath311 \\\\   & { \\displaystyle}\\le k \\mathbb e \\big [   \\big|\\sum_{i = 0}^ { z^{h}(t ) - 1 } \\delta m_{i}^{h}\\big|^{2 } \\big ]   \\ \\hbox { by doob 's maximal inequality } \\\\   & { \\displaystyle}= k\\mathbb e \\big [   \\sum_{i = 0}^ { z^{h}(t ) - 1 } |\\delta m_{i}^{h}|^{2 } \\big ]   \\ \\hbox { since } \\",
    "\\mathbb e [ ( \\delta m_{i}^{h } ) ' ( \\delta m_{j}^{h } ) ] = 0 ,    \\forall i\\neq j \\\\    & { \\displaystyle}\\le k   \\mathbb e \\big",
    "[   \\sum_{i = 0}^ { z^{h}(t ) - 1 }   \\delta t_{i}^{h } { \\hbox{tr}}(\\sigma \\sigma ' ) ( y_{i}^{h } , t_{i}^{h } )    \\big ] + k ht \\   \\hbox { by   ( lc2)}.   \\end{array}\\ ] ] where @xmath312 denotes the trace of @xmath313 .",
    "together with ( a5 ) , this implies that @xmath314 + kht.\\ ] ]    combining and , it yields that @xmath315 \\le kt h +   k \\mathbb e\\big[\\int_{0}^{t } |y^{h}(s)|^{2}ds\\big].\\ ] ] therefore , we have @xmath316 & \\le k \\mathbb e[|y|^{2}+   |\\sum_{i=0}^{z^{h}(t)-1 } \\delta y^{h}_{i}|^{2 } ]   \\le k + k \\mathbb e[\\int_{0}^{t } |y^{h}(s)|^{2}ds ] . \\end{array}\\ ] ] gronwall s inequality then yields the result of .",
    "plug in to , we conclude .",
    "to proceed , we also need the following convenient proposition for the uniform integrability , and the reader is referred to @xcite for the proof of the proposition .",
    "[ p : ui ] a family of real - valued random variable @xmath317 for some index set @xmath318 is uniformly integrable if @xmath319 < \\infty$ ] for some @xmath320 .",
    "[ t : wc ] under the same assumptions as that of lemma  [ l : est1 ] , the family of random variables @xmath296 , h>0\\}$ ] is uniformly integrable , and @xmath297 as @xmath79 .",
    "we conclude first @xmath321 is uniformly integrable by proposition  [ p : ui ] together with .",
    "we divide the rest of the proof into several steps .    1 .",
    "we consider the tightness of @xmath322 .",
    "it is enough to verify conditions imposed on theorem 13.3.2 and the subsequent corollary given in @xcite . 1 .   by chebyshev s",
    "inequality and @xmath323    = 0 .",
    "\\end{array}\\ ] ] 2 .   for the purpose of characterization of tightness for discontinuous functions ,",
    "we need to introduce some notions of modulus of continuity @xmath324 and @xmath325 as the following .",
    "first , define @xmath326 for any subset @xmath327 $ ] .",
    "we also use @xmath328 to denote the collection of all @xmath329-sparse partitions of @xmath5 $ ] .",
    "then , for any @xmath330 , we can define @xmath331 ) , \\ ] ] and @xmath332 + for the purpose of tightness of discontinuous functions , we also need to introduce modified version of modulus of continuity . thanks to , we have , for an arbitrary @xmath181 , @xmath333\\\\   \\quad{\\displaystyle}\\le \\displaystyle   \\lim_{\\delta \\to 0 } \\lim\\sup_{h\\to 0}\\frac{1}{\\varepsilon^{2 } }   \\mathbb e   \\big[\\sup_{z^{h}(t ) - 1 \\le n \\le z^{h}(t+2\\delta ) - 1 } |\\sum_{i = 0}^{n } \\delta y_{i}^{h}|^{2 } \\big ] \\\\",
    "\\quad \\le   \\displaystyle   \\lim_{\\delta \\to 0 } \\lim\\sup_{h\\to 0}\\frac{1}{\\varepsilon^{2 } }    k \\delta = 0 .",
    "\\end{array}\\ ] ] + as a result , @xmath322 is tight .",
    "since @xmath298 is tight , for an arbitrary infinite sequence , there exists a subsequence that has a weak limit . for notational convenience",
    ", we denote this subsequence again by @xmath334 , and its limit by @xmath335 . due to uniqueness of weak solution ,",
    "it is enough to show that @xmath336 is the weak solution of . since @xmath337 , the uniform integrability and",
    "( a5 ) lead to @xmath338 = \\mathbb e[\\bar y(t ) ] , \\",
    "\\hbox { and } \\\\   & { \\displaystyle}\\lim_{h\\to 0 } \\mathbb e[b(y^{h}(t ) , t ) ] = \\mathbb e[b(\\bar y(t),t)].\\end{array}\\ ] ] therefore , if we set @xmath339 we have @xmath340 & =   \\lim_{h\\to 0 } \\mathbb e   [ y^{h}(t ) - y^{h}(0 ) - \\int_{0}^{t } b(y^{h}(s ) , s ) ds ]   \\\\ & = \\displaystyle \\lim_{h\\to 0 } \\mathbb e \\big[\\sum_{i=1}^{z^{h}(t ) }   ( ( y_{i}^{h } - y_{i-1}^{h } ) - \\int_{t_{i-1}^{h}}^{t_{i}^{h } } b(y_{i-1}^{h},t ) dt)\\big ]   - \\lim_{h\\to 0 } \\mathbb e \\big[\\int_{t_{z^{h}(t)}^{h}}^{t } b(y_{z^{h}(t)}^{h},s ) ds\\big ]   \\end{array}\\ ] ] regarding the last term above , by linear growth of @xmath262 @xmath341 \\le \\lim_{h\\to 0 }   \\mathbb e \\big[\\int_{t_{z^{h}(t)}^{h}}^{t } k + k |y_{z^{h}(t)}^{h}|",
    "ds \\big ]   \\le k   \\lim_{h\\to 0 }   \\mathbb e [ \\delta t_{z^{h}(t)}^{h } ( 1 + |y^{h}(t)| )   ] .\\ ] ] therefore , by ( qu ) and , we conclude that the second term on satisfies @xmath342 = 0.\\ ] ] as for the first term of , using the hlder continuity in @xmath14 and the tower property on local consistency @xmath343   \\\\",
    "\\quad{\\displaystyle}= \\lim_{h\\to 0 } \\mathbb e \\big[\\sum_{i=1}^{z^{h}(t ) }   ( ( y_{i}^{h } - y_{i-1}^{h } ) -   b(y_{i-1}^{h},t ) \\delta t_{i-1}^{h } + o(|\\delta t_{i-1}^{h}|^{3/2}))\\big ]   \\\\ \\quad{\\displaystyle}=",
    "\\lim_{h\\to 0 } \\mathbb e \\big[\\sum_{i=1}^{z^{h}(t ) }   ( \\delta t_{i-1}^{h } o(h ) + o(|\\delta t_{i-1}^{h}|^{3/2}))\\big ] = 0 .",
    "\\end{array}\\ ] ] therefore , @xmath344 = 0 $ ] .",
    "in fact , one uses exactly the same procedure to show @xmath345 = m(s)$ ] for any @xmath346 , and it concludes @xmath347 is a martingale .",
    "+ next , we use @xmath348 and @xmath349 to denote the @xmath350th component of the vector process @xmath336 and @xmath298 , and use @xmath351 to denote the cross - variation of two real processes @xmath352 and @xmath353 up to time @xmath14 .",
    "then , @xmath354 the last equality can be obtained similar to the above owing to @xmath355 = 0 $ ] , using the local consistency , and regularity assumption ( a5 ) on @xmath263 .",
    "therefore , the cross - variation @xmath356 .",
    "this again implies that @xmath347 is a @xmath290-dimensional martingale process with its quadratic variation @xmath357 .",
    "applying levy s martingale characterization on the time - changed brownian motion , there exists a @xmath358-dimensional brownian motion @xmath359 such that @xmath360 .",
    "therefore , @xmath335 is the weak solution of .    summarizing all the above",
    ", it leads to the conclusion .",
    "the above construction of markov chain approximation is based on the local consistency , which is slightly different from the local consistency given by ( * ? ? ?",
    "* theorem 10.4.1 ) . as a result ,",
    "the convergence result of the markov chain approximation is generalized in the following sense . @xmath263 and",
    "@xmath262 may be unbounded but have linear growth .",
    "therefore , the geometric brownian motion is covered by weak convergence result of theorem  [ t : wc ] as an important application .",
    "in fact , locally consistent mc approximation is flexible for its various choices . for illustrations ,",
    "we give several simple mc approximations for one dimensional process , which is not included in @xcite .",
    "[ ex : euler ]    euler approximation can be considered as a special case of mc approximations .",
    "let @xmath361 be a markov chain generated by    1 .",
    "2 .   let the transition probability be @xmath363 @xmath364 where @xmath365 is a sequence of i.i.d .",
    "standard normal random variables .",
    "one can easily verify all local consistency conditions . then assuming ( a5 ) , theorem  [ t : wc ] implies that the piecewise constant interpolation @xmath366 defined in converges weakly to @xmath367 , the solution to .",
    "[ ex : mc1 ]    the following mc approximation can be considered as an extension of binomial approximation of brownian motion .",
    "let @xmath368 .",
    "let @xmath361 be a markov chain generated by    1 .",
    "2 .   let the transition probability be , with @xmath363 @xmath369    the above markov chain is locally consistent since direct computation leads to    1 .",
    "@xmath370 =     \\mathbb e [ \\delta t_{n}^{h}| y_{n}^{h } = y , t_{n}^{h } = t ] \\cdot b(y , t)$ ] , 2 .",
    "@xmath371 \\cdot   \\sigma^{2 } ( y , t)$ ] .    therefore , assuming ( a5 ) , the piecewise constant interpolation @xmath372 of the form is convergent to @xmath373 of by theorem  [ t : wc ] .",
    "[ ex : mc2 ]    assume @xmath374 in addition to ( a5 ) .",
    "then one can use a binomial tree type approximation of the diffusion term @xmath375 in .",
    "let @xmath376 .",
    "let @xmath377 be a markov chain generated by    1 .",
    "2 .   let @xmath378 , and the transition probability be @xmath379    note that this markov chain satisfies ( qu ) as well as local consistency since    1 .",
    "@xmath370 =     \\mathbb e [ \\delta t_{n}^{h}| y_{n}^{h } = y , t_{n}^{h } = t ] \\cdot b(y , t)$ ] , 2 .",
    "@xmath371 \\cdot   ( \\sigma^{2 } ( y , t)+o(h))$ ] .",
    "therefore , the piecewise constant interpolation @xmath372 of the form is convergent to @xmath373 of by theorem  [ t : wc ] .",
    "can we expect strong convergence ?",
    "in general , the answer is no . to illustrate",
    ", we consider a special case of euler approximation of example  [ ex : euler ] .",
    "let @xmath380 be a probability space , on which @xmath381 is filtration satisfying usual conditions , and @xmath382 of is a standard 1-d brownian motion .",
    "we construct strong approximation of euler - maruyama s method by taking on @xmath383 of by @xmath384    under assumption ( a5 ) , the sde has a unique strong solution .",
    "suppose @xmath385 is a continuous interpolation of euler approximation of @xmath298 given by @xmath386 then a classical result ( see e.g. ( * ? ? ? * theorem 2.7.3 ) ) shows that @xmath387 \\le k h^{1/2}.\\ ] ]    however , the above inequality fails for the piecewise constant interpolation of em approximation @xmath388 .",
    "otherwise , we have following simple counter example .",
    "consider em approximation of @xmath382 on @xmath5 $ ] by equal step size @xmath389 .",
    "then , we have @xmath390/n)| \\big]= \\mathbb{e } \\big [ \\sup_{1\\le n \\le n } \\sup_{(n-1)/n \\le t < n / n } |w(t ) - w(\\frac{n-1}{n})| \\big].\\ ] ] note that , @xmath391 is a standard brownian motion w.r.t .",
    "a time - scaled filtration .",
    "so one can reduce the above equality as @xmath390/n)| \\big]= \\frac 1 { \\sqrt n } \\mathbb{e } \\big [ \\sup_{1\\le n \\le",
    "n } \\lambda_n \\big],\\ ] ] where @xmath392 are i.i.d .",
    "random variables defined by @xmath393 since , @xmath394 s are unbounded iid random variables , @xmath395 $ ] goes to infinity as @xmath396 .",
    "this shows that @xmath390/n)| \\big ] > o(n^{-1/2}).\\ ] ] in conclusion , one can not expect more than weak convergence merely under local consistency .",
    "we begin this section with an application of theorem  [ thm1 ] to the following stochastic volatility model ; see @xcite .",
    "let @xmath269 and @xmath397 be two standard brownian motions with correlation @xmath398 in the filtered probability space @xmath399 .",
    "suppose that the stock price follows @xmath400 with initial @xmath401 , and that the volatility follows @xmath402 with initial @xmath403 .",
    "we consider a discrete - monitoring - barrier option price @xmath404.\\ ] ] given by of example  [ e : dbarrier ] by the discrete scheme .",
    "@xmath405,\\ ] ] where @xmath406 is of the form @xmath71    one can check that @xmath13 and @xmath373 are unique nonnegative strong solution of sdes and , if @xmath263 satisfies polynomial growth , and @xmath407 and @xmath262 are hlder-1/2 continuous . in addition , we assume      note that it is possible to have @xmath410 under the above assumption . in this below , we examine the convergence @xmath411 when @xmath111 is constructed by the euler approximation of example  [ ex : euler ] .",
    "note that the regularity condition ( a2 ) is satisfied by ( * ? ? ?",
    "* proposition a.1 ) because @xmath412 . on the other hand ,",
    "the payoff function @xmath70 is only discontinuous at the points in the set @xmath413 .",
    "thanks to the fact @xmath414 it implies that @xmath70 is almost surely continuous with respect to @xmath51 .",
    "another thing yet to be verified is the uniform integrability of @xmath415 , since @xmath70 is linear growth .",
    "thanks to theorem  [ t : wc ] together with ( a5 ) , we have @xmath106 and the desired uniform integrability holds . therefore , we reach the affirmative answer @xmath411 .    for the simple demonstration , we present a computational result on the above example with the following data .",
    "let the initial stock price be @xmath416 . for simplicity , we assume constant interest rate and volatility @xmath417 and @xmath418 .",
    "suppose stock is monitored monthly , i.e. @xmath419 . if we compute @xmath420 many sample paths , and each sample path is computed by euler method with @xmath421 subintervals , then the computational result shows that the @xmath422 interval is @xmath423 $ ] .",
    "the total matlab running time on macbook air is 194 seconds .",
    "the matlab code is also available for download at http://01law.wordpress.com/2013/07/18/code/ .",
    "this work has been devoted to analyzing approximation to path - dependent functionals .",
    "using the methods of weak convergence , we have provided a unified approach for proving the convergence of numerical approximation of path - dependent functionals for a wide range of applications .    a possible alternative approach to study the convergence may be to evaluate the approximating problem by perturbing the boundary @xmath110 to @xmath424 .",
    "for instance , @xcite has studied the property of the value function using the aforementioned perturbation when the value function is non - path dependent and hjb equation is available .",
    "it is interesting to check if a similar approach works for the path - dependent case .",
    "this paper focused on diffusion models . for future work , it is worthwhile to examine systems driven by pure jump processes , jump diffusions , and systems with an additional factor process such as nowadays popular regime - switching process .",
    "systems with memory ( time delays ) form another class of important problems .",
    "much work can also be devoted to numerical solutions of various stochastic differential equations , coordination of multi - agent systems , and many monte carlo optimization problems in which one needs to treat path - dependent functionals ."
  ],
  "abstract_text": [
    "<S> in many applications , one needs to evaluate a path - dependent objective functional @xmath0 associated with a continuous - time stochastic process @xmath1 . due to the nonlinearity and possible lack of markovian property , </S>",
    "<S> more often than not , @xmath0 can not be evaluated analytically , and only monte carlo simulation or numerical approximation is possible . </S>",
    "<S> in addition , such calculations often require the handling of stopping times , the usual dynamic programming approach may fall apart , and the continuity of the functional becomes main issue . denoting by @xmath2 the stepsize of the approximation sequence , </S>",
    "<S> this work develops a numerical scheme so that an approximating sequence of path - dependent functionals @xmath3 converges to @xmath0 . by a natural division of labors </S>",
    "<S> , the main task is divided into two parts . given a sequence @xmath4 that converges weakly to @xmath1 , </S>",
    "<S> the first part provides sufficient conditions for the convergence of the sequence of path - dependent functionals @xmath3 to @xmath0 . </S>",
    "<S> the second part constructs a sequence of approximations @xmath4 using markov chain approximation methods and demonstrates the weak convergence of @xmath4 to @xmath1 , when @xmath1 is the solution of a stochastic differential equation . as a demonstration , combining the results of the two parts above , approximation of option pricing for discrete - monitoring - barrier option underlying stochastic volatility model </S>",
    "<S> is provided . </S>",
    "<S> different from the existing literature , the weak convergence analysis is carried out by using the skorohod topology together with the continuous mapping theorem . </S>",
    "<S> the advantage of this approach is that the functional under study may be a function of stopping times , projection of the underlying diffusion on a sequence of random times , and/or maximum / minimum of the underlying diffusion .    </S>",
    "<S> * key words . * path - dependent functional , weak convergence , monte carlo optimization , skorohod topology , continuous mapping theorem .    </S>",
    "<S> * ams subject classification number . </S>",
    "<S> * 93e03 , 93e20 , 60f05 , 60j60 , 60j05 . </S>"
  ]
}