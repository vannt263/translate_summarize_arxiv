{
  "article_text": [
    "the _ rubik s magic _ is another creation of ern rubik , the brilliant hungarian inventor of the ubiquitous `` cube '' that is named after him .",
    "rubik s magic _",
    "puzzle is much less known and not very widespread today , however it is a really surprising object that hides aspects that renders it quite an interesting subject for a mathematical analysis on more than one level .",
    "we investigate here two different invariants that can be used to prove the unreachability of many spatial configurations of the puzzle , one of these invariants , of topological type , is to our knowledge never been studied before and allows to significantly reduce the number of theoretically constructible shapes .",
    "however even in the special case of planar `` face - up '' configurations ( see section [ sec : piane ] ) we do nt know whether the combination of the two invariants , together with basic constraints coming from the mechanics of the puzzle , is complete , _",
    "i.e. _ characterize the set of constructible configurations .",
    "indeed there are still a few planar face - up configurations having both vanishing invariants , but that we are not able to construct . in this sense",
    "this rubik s invention remains an interesting subject of mathematical analysis .",
    "in section [ sec : rompicapo ] we describe the puzzle and discuss its mechanics , the local constraints are discussed in section [ sec : vincolilocali ] .",
    "the addition of a ribbon ( section [ sec : nastro ] ) allows to introduce the two invariants , the metric and the topological invariants are described respectively in sections [ sec : invariantemetrico ] and [ sec : invariantetopologico ] .",
    "the special `` face - up '' planar configurations are defined in section [ sec : piane ] and their invariant computed in section [ sec : forsecostruibili ] .    in section [ sec : costruibili ] we list the planar face - up configuration that we were able to actually construct .",
    "we conclude the paper with a brief description of the software code used to help in the analysis of the planar configurations ( section [ sec : code ] ) .",
    "the _ rubik s magic _ puzzle ( see figure [ fig : black2x4 ] left ) is composed by @xmath0 decorated square tiles positioned to form a @xmath1 rectangle .",
    "they are ingeniously connected to each other by means of nylon strings lying in grooves carved on the tiles and tilted at @xmath2 degrees @xcite .",
    "the tiles are decorated in such a way that on one side of the @xmath1 original configuration we can see the picture of three unconnected rings , whereas on the back side there are non - matching drawings representing parts of rings with crossings among them .",
    "the declared aim is to manipulate the tiles in order to correctly place the decorations on the back , which can be done only by changing the global outline of the eight tiles .",
    "the solved puzzle is shown in figure [ fig : blacksolved ] with the tiles positioned in a @xmath3 square with a missing corner and overturned with respect to the original configuration of figure [ fig : black2x4 ] .",
    "detailed instructions on how the puzzle can be solved and more generally on how to construct interesting shapes can be copiously found in the internet , we just point to the wikipedia entry @xcite and to the web page @xcite .",
    "the booklet @xcite contains a detailed description of the puzzle and illustrated instructions on how to obtain particular configurations of the tiles .",
    "the decorations can be used to distinguish a `` front '' and a `` back '' face of each tile and to orient them by suitably chosing an `` up '' direction .    after dealing with the puzzle for some time it becomes apparent that a few local constraints are always satisfied . in particular",
    "the eight tiles remain always connected two by two in such a way to form a cyclic sequence . to fix ideas let us denote the eight tiles by @xmath4 , @xmath5 , ... ,",
    "@xmath6 , with @xmath4 the lower - left tile in figure [ fig : black2x4 ] and the others numbered in counterclockwise order .",
    "for example tile @xmath7 is the one with the rubik s signature in its lower - right corner ( see figure [ fig : black2x4 ] ) .    with this numbering tile @xmath8",
    "is always connected through one of its sides to both tiles @xmath9 and @xmath10 . here and in the rest of this paper",
    "we shall always assume the index @xmath11 in @xmath8 to be defined `` modulo @xmath0 '' , _",
    "i.e. _ that for example @xmath12 is the same as @xmath4 .",
    "we shall conventionally orient the tiles such that in the initial configuration of figure [ fig : black2x4 ] all tiles are `` face up '' ( i.e. with their front face visible ) , the @xmath13 lower tiles ( @xmath4 to @xmath7 ) are `` straight '' ( not upside down ) , the @xmath13 upper tiles ( @xmath14 to @xmath6 ) are `` upside down '' ( as for a map with its north turned down ) , see figure [ fig : black2x4 ] right .    at a more accurate examination it turns out that only half of the grooves are actually used ( those having the nylon threads in them ) .",
    "these allow us to attach to a correctly oriented tile ( face up and straight ) a priviledged direction : direction @xmath15 ( `` slash '' : north - east to south - west ) and direction @xmath16 ( `` backslash '' : north - west to south - east ) .",
    "the used groves are shown in figure [ fig : black2x4 ] right . from now on we shall disregard completely the unused grooves . in the initial configuration tiles",
    "@xmath8 with even @xmath11 are all tiles of type @xmath15 , whereas if @xmath11 is odd we have a tile of type @xmath16 .",
    "the direction of the used grooves in the back of a tile is opposite ( read orthogonal ) to the direction of the used grooves of the front face , but beware that when we reverse ( turn over ) a tile a @xmath15 groove becomes @xmath16 , so that the reversed tile remains of the same type ( @xmath15 or @xmath16 ) .    from the point of view of a physical modeling",
    "we shall assume that the tiles are made of a rigid material and with infinitesimal thickness .",
    "this allows two or more tiles to be juxtaposed in space , however in such a case we still need to retain the information about their relative position ( which is above of which ) .",
    "the nylon threads are assumed to be perfectly flexible but inextensible ( and of infinitesimal thickness ) .",
    "whether this is a suitable physical model for the puzzle is debatable , indeed there might exist configurations of the real puzzle that require a minimum of elasticity of the threads and thus can not be obtained by the idealized model . on the contrary",
    "the real puzzle has non - infinitesimal tile thickness , which can lead to configurations that are allright for the physical model but that are difficult or impossible to achieve ( because of the imposed stress on the nylon threads ) with the real puzzle .",
    "we are here mainly interested in the study of the _ shapes _ in space that can be obtained , so we shall neglect the decorations on the tiles and only consider the direction of the grooves containing the nylon threads .",
    "in other words we only mark one diagonal on each face of the tiles , one connecting two opposite vertices on the front face and the other connecting the remaining two vertices on the back face .",
    "now the tiles ( marked with these two diagonals ) are indistinguishable ; distinction between @xmath15 and @xmath16 is only possible after we have `` oriented '' a tile and in such a case rotation of @xmath17 degrees or a reflection will exchange @xmath15 with @xmath16 .    [",
    "def : orientation ] a tile can be oriented by drawing on * one * of the two faces an arrow parallel to a side .",
    "we have thus eight different possible orientations .",
    "we say that two adjacent tiles are compatibly oriented if their arrows perfectly fit together ( parallel pointing at the same direction ) when we ideally rotate one tile around the side on which they are hinged to make it juxtaposed to the other .",
    "there is exactly one possible orientation of a tile that is compatible with the orientation of an adjacent tile .",
    "a configuration of tiles is * orientable * if it is possible to orient all tiles such that they are pairwise compatibly oriented . for an orientable configuration we have eight different choices for a compatible orientation of the tiles .",
    "an example of compatible orientation of a configuration is shown in figure [ fig : black2x4 ] right , which makes the initial @xmath18 configuration orientable .",
    "once we have a compatible orientation for a configuration , we can classify each tile as @xmath15 or @xmath16 according to the relation between the orienting arrow and the marked diagonal : a tile is of type @xmath15 if the arrow alignes with the diagonal after a clockwise rotation of @xmath2 degrees , it is of type @xmath16 if the arrow alignes with the diagonal after a counterclockwise rotation of @xmath2 degrees .",
    "two adjacent tiles are always of opposite type .",
    "[ def : chiral ] a spatial configuration of the puzzle that is * not * congruent ( also considering the marked diagonals ) after a rigid motion with its mirror image will be called * chiral * , otherwise it will be called * achiral*. note that a configuration is achiral if and only if it is specularly symmetric with respect to some plane .",
    "the initial @xmath18 configuration is achiral since it is specularly symmetric with respect to a plane orthogonal to the tiles .",
    "we say that an orientable spatial configuration of the puzzle ( without decorations ) * is constructible * if it can be obtained from the initial @xmath18 configuration through a sequence of admissible moves of the puzzle .",
    "once we have identified all the constructible spatial configurations , we also have all constructible configurations of the decorated puzzle .",
    "this is a consequence of the fact that all possible @xmath18 configurations of the decorated puzzle are well understood ( see for example @xcite or @xcite ) .",
    "we note here that all @xmath18 configurations of the undecorated puzzle are congruent , however the presence of the marked diagonal might require a reversal of the whole configuration ( so that the faces previously visible become invisible ) in order to obtain the congruence .    for chiral configuratione ( those that can not be superimposed with their specular images )",
    "the following result is useful .",
    "[ teo : mirrorconstructible ] a spatial configuration of the undecorated puzzle is constructible if and only if its mirror image is constructible    if a configuration is constructible we can reach it by a sequence of moves of the puzzle starting from the initial @xmath18 configuration .",
    "however the initial @xmath18 configuration is specularly symmetric , hence we can perform the specular version of that sequence of moves to reach the specular image of the configuration that we are considering .",
    "we now consider a version of the puzzle where in place of the usual decoration we draw arrows on the `` front '' face of the tiles as in figure [ fig : black2x4 ] right .",
    "the linking mechanism with the nylon threads is such that two consecutive tiles @xmath8 and @xmath9 are always `` hinged '' together through one of their sides . in particular , if we suitably orient @xmath8 with its `` front '' face visible and `` straight '' , i.e. with the arrow visible and pointing up ) and we rotate tile @xmath9 such that its center is as far away as possible from the center of @xmath8 ( like an open book ) , then also @xmath9 will have its arrow visible and    * * pointing up * if the two tiles are hinged through a vertical side ( the right or left side of @xmath8 ) ; * * pointing down * it the two tiles are hinged through a horizontal side ( the top or bottom side of @xmath8 ) .",
    "the surprising aspect of the puzzle is that when we `` close the book '' , i.e. we rotate @xmath9 so that it becomes superimposed with @xmath8 , we than can `` reopen the book '' with respect to a different hinging side .",
    "the new hinging side is one of the two sides that are orthogonal to the original hinging side , which one depending on the type of the involved tiles ( direction of the marked diagonals ) and can be identified by the rule that the new side is not separated from the previous one by the `` inner '' marked diagonals .",
    "for example , if @xmath8 is of type @xmath15 ( hence @xmath9 is of type @xmath16 ) and they are hinged through the right side of @xmath8 ( as @xmath4 and @xmath5 of figure [ fig : black2x4 ] right ) then after closing the tiles by rotating @xmath9 * up * around its left side and placing it on top of ( superimposed above ) @xmath8 , then we can reopen the tiles with respect to the bottom side . on the contrary , if we rotate * down * @xmath9 , so that it becomes superimposed below @xmath8 ( and the involved marked diagonal of @xmath8 is the one on the back face ) , the new hinging side will be the upper side .",
    "we remark that if a configuration does not contain superimposed consecutive tiles , then the hinging side of any pair of consecutive tiles is uniquely determined . if the tiles are ( compatibly ) oriented , than for each tile @xmath8 we have a unique side ( say east , north , west or south , in short @xmath19 , @xmath20 , @xmath21 or @xmath22 ) about which it is hinged with the preceding tile @xmath10 and a unique side ( @xmath19 , @xmath20 , @xmath21 or @xmath22 ) about which it is hinged with @xmath9 .",
    "the two sides can be the same .",
    "[ def : localshape ] for a given spatial oriented configuration of the ( undecorated ) puzzle without superimposed consecutive tiles we say that a tile is    straight : :    if the two hinging sides are opposite ; curving : :    if the two hinging sides are adjacent ( but not the same ) . in this case",
    "we can distinguish between tiles * curving left * and tiles * curving    right * with the obvious meaning and taking into account the natural    ordering of the tiles induced by the tile index ; a flap : :    if it is hinged about the same side with both the previous and the    following tile .",
    "flap tiles ( those that , following definition [ def : localshape ] , have a single hinging side with the two adjacent tiles ) require a specific analysis .",
    "the term `` flap '' is the same used in @xcite and refers to the similarity with the flaps of a plane , that can rotate about a single side .    given an oriented configuration with a flap @xmath8 , let us fix the attention to the three consecutive tiles @xmath10 , @xmath8 , @xmath9 and ignore all the others .",
    "place the configuration so that @xmath8 is horizontal , with its front face up and the arrow pointing north , then rotate @xmath10 and @xmath9 at maximum distance from @xmath8 so that they become reciprocally superimposed .",
    "now all three tiles have their front face up and we can distinguish between two situations :    [ def : flaps ] tile @xmath8 is an * ascending * flap if tile @xmath10 is * below * tile @xmath9 ; it is a * descending * flap in the opposite case .",
    "tile @xmath8 is a horizontal ascending / descending flap if it is hinged at a vertical side ( a side parallel to the arrow indicating the local orientation of the flap tile ) , it is a vertical ascending / descending flap otherwise .",
    "in order to introduce the metric and the topological invariants we resort to a simple expedient : we insert a ribbon in between the tiles that more or less follows the path of the nylon threads .",
    "the ribbon is colored red on one side ( front side ) and blue in its back side and is oriented with longitudinal arrows printed along its length that allows to follow it in the positive or negative direction .",
    "let the tiles have side of length @xmath23 , then the ribbon has width that does not exceed @xmath24 ( the distance between two nearby grooves ) , so that it will not interfere with the nylon threads .",
    "we insert the ribbon as shown in figure [ fig : nastro ] .",
    "more precisely take the @xmath18 initial configuration of the puzzle and start with tile @xmath25 .",
    "position the ribbon such that it travels diagonally along the front face of @xmath25 as shown in figure [ fig : nastro ] , then wrap the ribbon around the top side of @xmath25 and travel downwards along the back of @xmath25 to reach the right side . at this point",
    "we move from the back of @xmath25 to the front of @xmath7 ( the ribbon now has its blue face up ) and continue downward until we reach the bottom side of @xmath7 , wrap the ribbon on the back and so on .    in general , every time that the ribbon reaches a side of a tile that is not a hinge side with the following tile , we wrap it around the tile ( from the front face to the back face or from the back face to the front face ) as if it `` bounces '' against the side .",
    "every time the ribbon reaches a hinging side of a tile with the following tile it moves to the next tile and crosses from the back ( respectively front ) side of one tile to the front ( respectively back ) side of the other and maintains its direction .    in all cases the ribbon travels with sections of length @xmath26 between two consecutive `` touchings '' of a side",
    "it can stay adjacent to a given tile during one , two or three of such @xmath27 steps : one or three if the tile is a _ curving _ tile ( definition [ def : localshape ] ) , two if the tile is a _ straight _ tile .",
    "after having positioned the ribbon along all tiles , it will close on itself nicely ( in a straight way and with the same orientation ) on the starting tile @xmath25 , and we tape it with itself . in this way the total length of the ribbon is @xmath28 with an average of @xmath29 per tile ,",
    "moreover if we remove the ribbon without cutting it ( by making the tiles `` disappear '' ) , we discover that we can deform it in space into the lateral surface of a large and shallow cylinder with height equal to the ribbon thickness and circumference @xmath28 .",
    "direct inspection also shows that the inserted ribbon does not impact on the possible puzzle moves , whereas its presence allows us to define the two invariants of sections [ sec : invariantemetrico ] and [ sec : invariantetopologico ] .",
    "we remark a few facts :    1 .",
    "the ribbon is oriented : it has arrows on it pointing in the direction in which we have inserted it , and while traversing the puzzle along the ribbon the tiles are encountered in the order given by their index .",
    "each time the ribbon `` bounces '' at the side of a tile ( moving from the front face to the back face or viceversa ) its direction changes of @xmath17 degrees and simultaneously it turns over .",
    "this does not happen when the ribbon moves from one tile to the next , it does not change direction and it does not turn over .",
    "each @xmath27 section of the ribbon connects a horizontal side to a vertical side or viceversa ; consequently the ribbon touches alternatively horizontal sides and vertical sides .",
    "4 .   each time the ribbon touches a lateral side it goes from one side of the tiles to the other ( from the front to the back or from the back to the front ) .",
    "the above points 3 and 4 prove the following    following the orientation of the ribbon , when the ribbon touches / crosses a vertical side , it `` emerges '' from the back of the tiles to the front , whereas when it touches / crosses a horizontal side , it `` submerges '' from the front to the back . here",
    "vertical or horizontal refers to the local orientation assigned to the tiles .",
    "it is not obvious how the ribbon behaves at a flap tile ( such tiles are not present in the initial @xmath18 configuration ) .",
    "we can reconstruct the ribbon position by imagining a movement that transforms a configuration without flaps to another with one flap .",
    "it turns out that there are two different situations .",
    "in one case the ribbon completely avoids to touch the flap tile @xmath8 and directly goes from @xmath10 to @xmath9 , this happens when in a neighbourhood of the side where the flap tile is hinged the ribbon is on the front face of the upper tile and on the bottom face of the lower tile ( in the configuration where @xmath10 and @xmath9 are furthest away from @xmath8 , hence superposed ) , this situation is illustrated in figure [ fig : nastroflap ] left . in the other case the ribbon wraps around @xmath8 with four @xmath27 sections alternating between the front face and the back face , this situation is illustrated in figure [ fig : nastroflap ] right .",
    "the first of the two cases arises at an _ ascending _ flap hinged at a vertical side ( horizontal ascending flap ) or at a _ descending _ flap hinged at a horizontal side ( vertical descending flap ) ; this is independent of the type @xmath15 or @xmath16 of the flap tile .",
    "the second of the two cases arises at a vertical ascending flap or at a horizontal descending flap .",
    "whatever we do to the puzzle ( with the ribbon inserted ) there is no way to change the length of the ribbon ! this allows to regard the length of the ribbon associated to a given spatial configuration as an invariant , it can not change under puzzle moves .",
    "the computation of the ribbon length can be carried out by following a few simple rules , they can also be found in @xcite .    the best way to proceed is to compute for each tile @xmath8 how many @xmath27 sequences of the ribbon wrap it and subtract the mean value @xmath30 .",
    "the resulting quantity will be called @xmath31 and its value is :    * @xmath32 if @xmath8 is a straight tile ( definition [ def : localshape ] ) ; * @xmath33 if @xmath8 is of type @xmath15 and is `` curving left '' , or if it is of type @xmath16 and is `` curving right '' ; * @xmath34 if @xmath8 is of type @xmath15 and is curving right , or if it is of type @xmath16 and is curving left ; * @xmath35 if @xmath8 is a horizontal ascending flap ( definition [ def : flaps ] ) or a vertical descending flap ( see figure [ fig : nastroflap ] left ) ; * @xmath36 if @xmath8 is a horizontal descending flap or a vertical ascending flap ( see figure [ fig : nastroflap ] right ) .",
    "the last two cases ( @xmath37 ) follow from the discussion in section [ sec : nastroflap ] .",
    "we call @xmath38 , the sum of all these quantities , then the total length of the ribbon will be @xmath39 and hence @xmath40 is invariant under allowed movements of the puzzle .",
    "since in the initial configuration we would have @xmath41 it follows that    [ teo : invariantemetrico ] any constructible configuration of the puzzle necessarily satisfies @xmath41 .",
    "this invariant can also be found in @xcite , though it is not actually justified .",
    "a few configurations ( e.g. the @xmath3 shape without the central square , called `` window shape '' in @xcite ) can be ruled out as non - constructible by computing the @xmath40 invariant .",
    "the `` window shape '' has a value @xmath42 , the sign depending on how we orient the tiles .",
    "it is non - constructible because @xmath43 .    another interesting configuration that can be ruled out using this invariant is sequence , to be discussed in section [ sec : noflaps ] .",
    "sticking to the ribbon idea ( section [ sec : nastro ] ) we seek a way to know whether a given ribbon configuration ( with the tiles and nylon threads removed ) can be obtained by deformations in space starting from the configuration where the ribbon is the lateral surface of a cylinder .",
    "topologically the ribbon is a surface with a boundary , its boundary consists of two closed strings .",
    "one thing that we may consider is the center line of the ribbon : it is a single closed string that can be continuously deformed in space and is not allowed to cross itself .",
    "mathematically we call this a `` knot '' , a whole branch of mathematics is dedicated to the study of knots , one of the tasks being finding ways to identify `` unknots '' , i.e. tangled closed strings that can be `` unknotted '' to a perfect circle .",
    "this is precisely our situation : the center line of the ribbon must be an unknot , otherwise the corresponding configuration of the puzzle can not be constructed .",
    "however we are not aware of puzzle configurations that can be excluded for this reason .",
    "another ( and more useful ) idea consists in considering the two strings forming the boundary of the ribbon . in mathematics ,",
    "a configuration consisting in possibly more than one closed string is called a `` link '' .",
    "here we have a two - components link that in the starting configuration can be deformed into two unlinked perfect circles .",
    "there is a topological invariant that can be easily computed , the _ linking number _ between two closed strings , that does not change under continuous deformations of the link ( again prohibiting selfintersections of the two strings or intersections of one string with the other ) .    in the original configuration of the puzzle , the two strings bordering the ribbon have linking number zero : it",
    "then must be zero for any constructible configuration .      in the field of _",
    "knot theory _ a knot , or more generally a link , is often represented by its .",
    "it consists of a drawing on a plane corresponding to some orthogonal projection of the link taken such that the only possible selfintersections are transversal crossings where two distinct points of the link project onto the same point .",
    "we can always obtain such a _ generic _ projection possibly by changing a little bit the projection direction .",
    "we also need to add at all crossings the information of what strand of the link passes `` over '' the other .",
    "this is usually done by inserting a small gap in the drawing of the strand that goes below the other , see figure [ fig : linkingnumber ] .                in order to define the linking number between two closed curves we need to select an orientation ( a traveling direction ) for the two curves . in our case",
    "the orientation of the ribbon induces an orientation for the two border strings by following the same direction . the linking number changes sign if we revert the orientation of one of the two curves , so that it becomes insensitive upon the choice of orientation of the ribbon .",
    "once we have an orientation of the two curves , we can associate a signature to each crossing as shown in figure [ fig : linkingnumber ] and a corresponding weight of value @xmath44 . crossings of a component with itself are ignored in this computation .    the linking number is given by the sum of all these contributions .",
    "since the number of crossings in between the two curves in the diagram is necessarily even , it follows that the linking number is an integer and it can be proved that it does not change under continuous deformations of the link in space .",
    "two far away rings have linking number zero , two linked rings have linking number @xmath45 .    in our case we shall investigate specifically the case where all tiles are horizontal and `` face - up '' , in which case we have two different situations that produce crossings between the two boundary strings .",
    "we shall then write the linking number as the sum of a `` twist '' part ( @xmath46 ) and a `` ribbon crossing '' part ( @xmath47 ) @xmath48 where we distinguish the two cases :    1 .",
    "the ribbon wraps around one side of a tile ( figure [ fig : twistsign ] ) .",
    "this entail one crossing in the diagram , that we shall call `` twist crossing '' since it is actually produced by a twist of the ribbon . a curving tile ( as of definition [ def : localshape ] )",
    "can contain only zero or two of this type of crossings , and if there are two , they are necessarily of opposite sign .",
    "this means that curving tiles do not contribute to @xmath46 .",
    "the ribbon crosses itself ( figure [ fig : crosssign ] ) .",
    "consequently there are four crossing of the two boundary strings , two of them are selfcrossings of one of the strings and do not count , the other two contribute with the same sign for a total contribution of @xmath45 to @xmath47 .",
    "the presence of this type of crossings is generally a consequence of the spatial disposition of the sequence of tiles and in the specific case of face - up planar configurations ( to be considered in section [ sec : piane ] ) there can be crossings of this type when we have superposed tiles , or in presence of flap tiles , however the computation of @xmath47 must be carried out case by case .",
    "the ribbon `` bounces '' exactly once at each straight tile ( definition [ def : localshape ] ) , hence it contributes to @xmath46 with a value @xmath49 .    after analyzing the various possibilities we conclude for tile @xmath8 as follows :    * @xmath50 if @xmath8 is a `` vertical '' tile ( connected to the adjacent tiles through its horizontal sides ) of type @xmath15 , or if it is a horizontal tile of type @xmath16 ; * @xmath51 if @xmath8 is a horizontal tile of type @xmath15 or a vertical tile of type @xmath16 .",
    "a flap tile can be covered by the ribbon either with four sections ( three `` bounces '' ) of none at all . in this latter case",
    "there is still a `` bounce '' of the ribbon when it goes from the previous tile to the next ( superposed ) tile : the ribbon travels from below the lower tile to above the upper tile or viceversa .",
    "we need to keep track of this extra bounce .",
    "after analysing the possibilities we conclude for tile @xmath8 as follows :    * @xmath50 if @xmath8 is a vertical flap of type @xmath15 ( connected to the adjacent tile through a horizontal side ) , or if it is a horizontal flap of type @xmath16 ; * @xmath51 if @xmath8 is a horizontal flap of type @xmath15 or a vertical flap of type @xmath16 .",
    "[ teo : invariantetopologico ] a constructible spatial configuration of the puzzle necessarily satisfies @xmath52 .",
    "the linking number @xmath53 does not change under legitimate moves of the puzzle , so that it is sufficient to compute it on the initial configuration of figure [ fig : black2x4 ] .",
    "there are no superposed tiles nor flaps , so that the ribbon does not cross itself , hence @xmath54 .",
    "the only contribution to @xmath46 comes from the four straight tiles , and using the analysis of section [ sec : ltstraigth ] it turns out that their contribution cancel one another so that also @xmath55 and we conclude the proof .      due to theorem [ teo : invariantetopologico ] such configurations of the puzzle can not be constructed .",
    "one such configuration is shown in figure [ fig : lunga ] and would realize the maximal possible diameter for a configuration .",
    "the metric invariant of section [ sec : invariantemetrico ] is @xmath41 so that it is not enough to exclude this configuration , however we shall show that in this case @xmath56 and conclude that we have a nonconstructible configuration . it will be studied in section [ sec : forsecostruibili ] .",
    "another interesting configuration that can be excluded with the topological invariant and not with the metric one is a `` figure eight '' corresponding to the sequence of section [ sec : forsecostruibili ] .",
    "we shall apply the results of the previous sections to a particular choice of spatial configurations , we shall restrict to planar configurations ( all tiles parallel to the horizontal plane ) with non - overlapping consecutive tiles .",
    "superposed nonconsecutive tiles are allowed .",
    "they can be obtained starting from strings of cardinal directions in the following way .",
    "the infinite string @xmath57 is a typographical sequence with index taking values in the integers @xmath58 where the four symbols stand for the four cardinal directions east , north , west , south .",
    "on @xmath59 we require    1 .",
    "periodicity of period @xmath0 : @xmath60 for any @xmath61 ; 2 .",
    "zero mean value : in any subsequence of @xmath0 consecutive characters ( for example in @xmath62 ) there is an equal number of characters @xmath20 as of characters @xmath22 and of characters @xmath19 as of characters @xmath21 .    an * admissible sequence * is one that satisfies the two above requirements .",
    "periodicity allows us to describe an admissible sequence by listing @xmath0 consecutive symbols , for definiteness and simplicity we shall then describe an admissible sequence just by listing the symbols @xmath63 to @xmath64 .    the character @xmath65 of the string indicates the relative position between the two consecutive tiles @xmath10 and @xmath8 , that are horizontal and face - up",
    ".    the first tile @xmath4 can be of type @xmath15 or type @xmath16 , all the others @xmath8 are of the same type as @xmath4 if @xmath11 is even , of the opposite type if @xmath11 is odd .",
    "the local constraints allows to recover a spatial configuration of the puzzle from an admissible sequence with two caveats :    1 .   for at least one of the tiles ,",
    "say @xmath4 , it is necessary to specify if it is of type @xmath15 or @xmath16 .",
    "we can add this information by inserting the symbol @xmath15 or @xmath16 between two consecutive symbols , usually before @xmath63 ; 2 .   in case of superposed tiles ( same physical position )",
    "it is necessary to clarify their relative position ( which is above which ) .",
    "we can add this information by inserting a positive natural number between two consecutive symbols that indicates the `` height '' of the corresponding tile . in the real puzzle",
    "the tiles are not of zero width , so that their height in space can not be the same . in case of necessity",
    "we shall insert such numbers as an index of the symbol at the left .",
    "[ rem : assemblabili ] given an admissible sequence it is possible to compute the number of superposed tiles at any given position .",
    "an * assemblage * of a sequence entails a choice of the height of each of the superposed tiles ( if there is more than one ) .",
    "we do this by adding an index between two consecutive symbols .",
    "however for this assemblage to correspond to a possible puzzle configuration we need to require a condition .",
    "we hence say that an assemblage is * admissible * if whenever tile @xmath8 is superposed to tile @xmath66 , @xmath67 , and also @xmath68 is superposed to @xmath69 , then the relative position of the tiles in the two pairs can not be exchanged .",
    "this means that if @xmath8 is at a higher height than @xmath66 , then @xmath68 can not be at a lower height than @xmath69 .",
    "it is possible that a given admissible sequence does not allow for any admissible assemblage or that it can allow for more than one admissible assemblage .",
    "observe that the mirror image of an oriented spatial configuration of the undecorated puzzle entails a change of type , @xmath15 tiles become of type @xmath16 and viceversa .",
    "if the mirror is horizontal the reflected image is a different assemblage of the same admissible sequence with all tiles of changed type and an inverted relative position of the superposed tiles .    on the set of admissible sequences we introduce an equivalence relation defined by @xmath70 if one of the following properties ( or a combination of them ) holds :    1 .",
    "( cyclicity ) the two sequences coincide up to a translation of the index : @xmath71 for all @xmath72 and some @xmath73 ; 2 .",
    "( order reversal ) @xmath74 for all @xmath72 and some @xmath73 ; 3 .",
    "( rotation ) @xmath59 can be obtained from @xmath75 after substituting @xmath76 , @xmath77 , @xmath78 , @xmath79 ; 4 .",
    "( reflection ) @xmath59 can be obtained from @xmath75 after substituting @xmath80 e @xmath81 .",
    "let us denote by @xmath82 the set of equivalence classes .",
    "we developed a software code capable of finding a canonical representative of each of these equivalence classes , they are @xmath83 ( cardinality of @xmath82 ) . in table [ tab : sequenze ] we summarize important properties of these canonical sequences , subdivided with respect to the number of flap tiles .",
    "it is worth noting that some of the @xmath83 sequences admit more than one nonequivalent admissible assemblages in space due to the arbitrariness in choosing the type of tile @xmath4 and the ordering of the superposed tiles .",
    "a few of the @xmath83 admissible sequences do not admin any admissible assemblage , one of these is the only sequence with @xmath0 flaps : @xmath84 . since the constructability of a spatial configuration is invariant under specular reflection ( which entails a change of type of all tiles ) we can fix the type of tile @xmath4 , possibly reverting the order of the superposed tiles .",
    "the canonical representative of an equivalence class in @xmath82 is selected by introducing a lexicographic ordering in the finite sequence @xmath85 where the ordering of the four cardinal directions is fixed as @xmath86 .",
    "then the canonical representative is the smallest element of the class with respect to this ordering .",
    "the source of the software code can be downloaded from the web page @xcite .    [ cols=\"^,^,^,^,^,^,^ \" , ]     [ tab:2e4flap ]    of the @xmath87 sequences with two flaps in opposite ( antipodal ) position we first analyze those ( they are @xmath88 ) in which the tiles follow the same path from one flap to the other and back .",
    "one of these is shown in figure [ fig : lunga ] .",
    "all have @xmath89 so that the contribution of the two flaps must have opposite sign in order to have @xmath41 .",
    "if one flap is horizontal and the other vertical , then they must be both ascending or both descending and we have no possible admissible assemblage ( remark [ rem : assemblabili ] ) .",
    "we are then left with those sequences having both horizontal or both vertical flaps , one ascending and one descending . in this situation",
    "we find that the ribbon has @xmath90 selfcrossings , so that necessarily @xmath91 and these sequences are also not constructible .",
    "we remain with the two sequences @xmath92 and @xmath93 that both have a contribution @xmath94 ( fixing @xmath4 of type @xmath15 ) , so that the two flaps must contribute with a positive sign to the metric invariant .",
    "the first sequence has both horizontal flaps , and they must be both descending , this is now possible thanks to the different path between the two flaps .",
    "the second sequence has one horizontal and one vertical flap , so that the first must be ascending and the second descending .",
    "there are exactly two selfcrossings of the ribbon in both cases , however they have the same sign in the first case implying @xmath91 , hence non constructible .",
    "they have opposite sign in the second case and we have both zero invariants . in conclusion the only one of the @xmath87 sequences that might be constructible is @xmath95      of the @xmath88 admissible sequences with three flaps there is only one with all adjacent flaps , having @xmath96 .",
    "the three flaps being consecutive are all horizontal or all vertical and all ascending or all descending , with a total of @xmath97 and the metric invariant can not be zero .",
    "four sequences have two adjacent flaps , and in all cases @xmath96 .",
    "imposing @xmath41 allows to identify a unique assemblage for each sequence ( with one exception ) . in all cases a direct check allows to compute @xmath98 .",
    "these sequences are : @xmath99 the last two are actually constructible ( figures [ fig : flap3a5a ] and [ fig : flap3a5b ] , section [ sec : costruibili ] )",
    ". one of the two assemblages of the left sequence in can be actually constructed ( figure [ fig : flap3a5c ] ) . if the puzzle has sufficiently deformable nylon threads and tiles we could conceivably deform the first assemblage into the second .",
    "we do not know at present if the right sequence in is constructible ( unclassified ) .",
    "the five remaining sequences all have @xmath96 .",
    "imposing @xmath41 leaves us with @xmath88 different assemblages : the sequence with all three horizontal flaps has three different assemblages with @xmath41 , three of the remaining four sequences ( with two flaps in one direction and the third in the other direction ) have two assemblages each , the remaining sequence has only one assemblage with @xmath41 . in all cases",
    "a direct check quantifies in @xmath90 or @xmath100 ( in any case an odd value ) the number of selfcrossings of the ribbon , so that @xmath91 .",
    "none of these sequences is then constructible .",
    "there are @xmath101 such sequences .",
    "six of these have a series of at least three consecutive flaps and a contribution @xmath89 .",
    "they are not constructible because the consecutive flaps all contribute with the same sign to @xmath102 .",
    "the sequences @xmath103 and @xmath104 have @xmath89 and two pairs of adjacent flaps oriented in different directions in the first case and in the same direction in the second case . to have @xmath41",
    "they must contribute with opposite sign and hence must be all ascending or all descending in the first case whereas in the second case one pair of flaps must be ascending and one descending .",
    "thanks to the symmetry of the sequences the two possible assemblages of each are actually equivalent .",
    "the linking number turns out to be @xmath52 and we have two possibly constructible configurations .",
    "there are four sequences with a single pair of adjacent flaps , the other two being isolated , all with @xmath89 .",
    "the two isolated flaps must contribute to the metric invariant with the same sign , opposite to the contribution that comes from the two adjacent flaps .",
    "in three of the four cases the two isolated flaps have the same direction and hence both must be ascending or both descending .",
    "it turns out that there is no admissible assemblage with such characteristics .",
    "the pair of adjacent flaps of the remaining sequence ( @xmath105 ) are horizontal .",
    "if they are ascending the remaining horizontal flap must be descending whereas the vertical flap must be ascending ( to have @xmath41 ) .",
    "this situation ( or the one with a descending pair of adjacent flaps ) is assemblable and we can compute the linking number , which turns out to be @xmath106 .",
    "even this configuration is not constructible .    the remaining six sequences ( flaps alternating with non - flap tiles ) all have the non - flap tiles superposed to each other .",
    "an involved reasoning , or the use of the software code , allows to show that for two of this six sequences , having area @xmath90 , namely @xmath107 and @xmath108 , there is no possible admissible assemblage with @xmath41 .",
    "this sequence has area @xmath13 , with two of the four flaps superposed to each other . using the software code",
    "we find two different assemblages having @xmath41 .",
    "computation of the linking number leads in both cases to @xmath106 , hence this sequence is not constructible .",
    "this sequence has also area @xmath13 , with two of the four flaps superposed to each other . using the software code we find only one assemblages having @xmath41 .",
    "computation of the linking number leads in to @xmath106 , hence this sequence is also not constructible .",
    "this sequence has area @xmath100 with no superposed flaps and contribution @xmath89 , so that to have @xmath41 two flaps contribute positively and two contribute negatively to the metric invariant .",
    "the software code gives three different assemblages with @xmath41 .",
    "an accurate analysis of the selfcrossings of the ribbon due to the flaps shows that flaps that contribute positively to the metric invariant also contribute with an odd number of selfcrossings of the ribbon , besides there is one selfcrossing due to the crossing straight tiles .",
    "in conclusion we have an odd number of selfcrossings , hence the sequence is not constructible .",
    "this sequence has also area @xmath100 with no superposed flaps , but now the contribution of the curving tiles to the metric invariant is @xmath109 , so that to have @xmath41 exactly one of the flaps has positive contribution to the metric invariant .",
    "this flap will also contribute with an odd number of selfcrossings of the ribbon . in this case",
    "there are no other selfcrossings of the ribbon because there are no straight tiles , so that we again conclude that the number of selfcrossings of the ribbon is odd and that @xmath91 .",
    "this sequence is also not constructible .",
    "both sequences have @xmath110 .",
    "the software code quickly shows that the sequence @xmath111 does not have any admissible assemblage with @xmath41 .",
    "the other sequence is @xmath112 and to have @xmath41 the three consecutive horizontal flaps must be ascending , and also the vertical flap must be ascending .",
    "there is one admissible assemblage satisfying these requirements , but the resulting number of selfcrossings of the ribbon is odd , and so also this configuration is not constructible .",
    "none of the four sequences with six flaps is constructible .",
    "indeed it turns out that all have @xmath89 , so that in order to have @xmath41 they must have three flaps with positive contribution and three with negative contribution to @xmath102 .",
    "two of the four sequences have four or more flaps that are consecutive and hence all contribute with the same sign to @xmath102 , so that @xmath43 .",
    "the sequence @xmath113 must have three ascending consecutive flaps and three consecutive descending flaps ( all flaps are horizontal ) . analyzing",
    "the ribbon configuration shows that there are an odd number of ribbon selfcrossings , hence @xmath91 .",
    "finally , all the six flaps of sequence @xmath114 must be ascending in order to have @xmath41 , there is no admissible assemblage with this property .",
    "there is none .",
    "the only one is @xmath84 , but there is no admissible assemblage of this sequence .",
    "some of the sequences ( or better , admissible assemblages of a sequence ) for which both invariant vanish are actually constructible with the real puzzle , starting from the initial @xmath18 configuration .",
    "we shall list these configurations in this section together with a snapshot of the real puzzle taken using a clone of the puzzle that we used for the experimentation .",
    "we follow the same notation as in section [ sec : forsecostruibili ] to describe a given face - up planar configuration , the sequence we list is always the canonical representative ( see section [ sec : piane ] ) , so that the first cardinal direction is always @xmath19 and the second is never @xmath22 .",
    "the initial @xmath15 or @xmath16 symbol indicates the type of the first tile @xmath4 , we made an effort to normalize the configuration so that the first tile is of type @xmath15 , however this sometimes entails going from a configuration to its specular image which is proved to be possible ( theorem [ teo : mirrorconstructible ] ) but requires the application of moves towards the @xmath18 configuration and then back using the specular moves in reverse , which can not be done if we do not remember how we obtained the configuration . for consistency of notation , in one snapshot ( figures [ fig : flap3a5b ] )",
    "we used the trick of reflecting the image left - right ( as if taking the snapshot through a mirror ) .          in order to reach the planar configurations",
    "in which we are interested it is necessary to walk through various 3d shapes .",
    "figure [ fig : magic27 ] , taken from the web page @xcite , shows a collection of constructible 3d symmetric shapes such that all angles are multiples of @xmath17 degrees and there are no overlapping tiles ( double walls ) .",
    "we shall refer to each shape of figure [ fig : magic27 ] by indicating the coordinates , row and column , in which they appear ; for example shape ( 5,10 ) refers to the first green shape , the tenth of the fifth row .",
    "it is important to observe that in figure [ fig : magic27 ] there is no indication of the orientation of the tiles , which is however an essential information .",
    "for example , the shape with coordinates ( 6,10 ) can be obtained with two completely different configurations of the puzzles : one can be constructed following the instructions in section `` cube '' of the web page @xcite during the process to obtain the cubic shape , the other can be constructed by following the instructions of @xcite during the construction of the planar shape denoted by ` seqf1a6a ` .",
    "similarly , in figure [ fig : magic27 ] there is no indication of the relative position of the tiles , _",
    "i.e. _ how they are positioned in the 3d shape with respect to their circular ordering , although in most cases there is only one possible circular ordering ( possibly up to symmetries of the puzzle , including reflection ) of the tiles in the displayed shapes such that two consecutive tiles are hinged together",
    ".    we shall sometimes refer to planar but not necessarily `` face - up '' configurations . these are configurations of the puzzle where all the tiles ( supposed to be of infinitesimal thickness ) lie in the same plane , but are allowed to be `` stacked '' onto each other . in a stack of tiles we can identify a `` front '' tile ( the one nearest to the observer ) , a `` back '' tile and possibly some intermediate tiles . for definiteness planar configurations are always positioned vertically in the 3d space , so that we can locate a tile ( or a stack of tiles ) using adjectives like left / right or upper / lower .",
    "in this situation a `` horizontal fold '' always refers to a @xmath115 degrees rotation of one or more tiles around a common vertical axis , conversely for a `` vertical fold '' .    in @xcite",
    "there are detailed instructions on how to obtain particular planar configurations that are not `` face - up '' .",
    "they consist of four adjacent stacks of two tiles , one face - up and one face - down , and turn out to be particularly useful as starting point for various constructions , they are grouped in three families :    * i-1 , i-2 , i-3 with the four stacks aligned in a straight row to resemble a capital letter ` i ' ; they are distinguised by how they are connected by the nylon strings .",
    "shape i-1 for example can be directly obtained from the @xmath18 configuration just by folding the four tiles of the top row onto the lower row of tiles ; * s-1 to s-4 where the four stacks are positioned to form an ` s ' shape ; * l-1 to l-8 with the four stacks positioned in an ` l ' shape .",
    "the variety of structurally distinct shapes that can be formed even in the very simple shapes of these three families is one of the marvels of the rubik s magic .",
    "the shape of figure [ fig : shapes ] ( ns ) is not included in the table of figure [ fig : magic27 ] because it is not symmetric .",
    "it can be obtained from s-3 of @xcite as follows .",
    "open s-3 to obtain one of the two different realizations of scheme ( 4,6 ) of figure [ fig : magic27 ] ; close the left `` wing '' against one of the lateral faces of the `` tube '' ( closing the other wing will produce the specular version of the final shape ) ; this allows to free the corresponding tile of the lateral face and lift it into a horizontal position and then to push it further up `` inside '' the tube into a vertical position against one of the upper tiles ; open that upper tile towards the outside and turn the whole structure upside - down to reach the position illustrated in figure [ fig : shapes ] ( ns ) .",
    "these are well - known .",
    "the @xmath18 rectangle of figure [ fig : black2x4 ] is just the ( trivially obtaines ) initial configuration , sequence @xmath116 the puzzle solution is shown in figure [ fig : blacksolved ] , sequence @xmath117      the sequence is a @xmath118 rectangle ( figure [ fig : flap1a6b ] ) : @xmath119 this configuration can be obtained starting from configuration i-2 of @xcite , to be folded as shown in figure [ fig : chains1e2 ] left ( each segment of the sketch represents a tile seen from a side ) and transformed with a couple of moves into the sketch in the right of figure [ fig : chains1e2 ] .",
    "now we can open the lowest strip of three consecutive tiles to obtain a @xmath118 rectangle .",
    "finally we overturn the pair of adjacent tiles that are overlapped to two other .",
    "the configuration of figure [ fig : flap1a6a ] @xmath120 is equivalent to the sequence .",
    "it can be obtained with a long sequence of moves starting from the configuration denoted by s-1 in @xcite , from which we obtain the configuration of figure [ fig : shapes ] ( 1,9 ) to be rotated in such a way that the two frontal tiles be of type @xmath15 the left one and @xmath16 the right one .",
    "the sequence of moves from there is visually illustrated in the web page @xcite .",
    "the configuration of figure [ fig : flap1a6d ] @xmath121 coincides with sequence [ eq : seqf1a6d ] .",
    "two intermediate steps are schematically shown in figure [ fig : chains4e5 ] .",
    "the left configuration of figure [ fig : chains4e5 ] can be obtained starting from l-6 of @xcite , to be modified by rotating down of one position the four tiles of the front stratum , then rotating two vertically adjacent tiles of the back stratum to the right and lifting a `` flap '' tile located on the right in the back stratum to obtain a @xmath118 flat shape ( by opening it we obtain the 3d shape in position @xmath122 of figure [ fig : magic27 ] , the first green configuration ) .",
    "we now fold upwards the three lower tiles ( two of them are stacked onto each other ) with a `` valley '' fold into a @xmath123 flat shape to be again folded horizontally with a vertical `` valley '' fold into a @xmath124 flat shape that corresponds to the left sketch of figure [ fig : chains4e5 ] .      a @xmath118 rectangular shape corresponding to the sequence",
    "has both assemblages constructible ( figures [ fig : flap2a6b ] and [ fig : flap2a6c ] : @xmath125 the constructing procedure of the first can be found in @xcite during the transition from configuration l-3 to s-2 .",
    "the second can be found in @xcite during the transition from configuration s-3 to l-8 .",
    "a third constructible configuration ( sequence ) with two flaps , together with a different assemblage ( figures [ fig : flap2a6a ] and [ fig : flap2a6aiso ] ) are @xmath126 the first assemblage can be obtained starting from l-1 of @xcite that can be opened to form the shape @xmath127 of figure [ fig : magic27 ] ( in the configuration with the two front tiles of type of type @xmath16 , the left one , and @xmath15 , the right one ) . by pushing all the way down the middle hinge of the top `` roof '' and making horizontal again the two adjacent tiles , now forming a kind of `` floor '' we can open the two most lateral tiles and reach the shape of figure [ fig : shapes ] ( 6,9 ) . the final shape can be obtained from here by grabbing the two flaps , translating them towards each other and then back again with a change of `` hinging '' .",
    "the second assemblage can be obtained from the shape of figure [ fig : shapes ] ( ns ) by closing the upper `` wing '' clockwise against the `` tube '' ; this allows to lower the corresponding tile of the tube in a horizontal position ; finally we push further the same tile into the tube and open the corresponding tile into the required configuration .",
    "it turns out that these two configurations can both be opened into shape @xmath128 of figure [ fig : magic27 ] .",
    "a configuration with two flaps of area @xmath100 is shown in figure [ fig : flap2a5a ] , obtained starting from the chiral version of the configuration of figure [ fig : flap1a6a ] as follows .",
    "first orient the configuration as in figure [ fig : flap1a6a ] with front / back reflection .",
    "turn the two rightmost tiles back with a `` mountain '' fold ; flip up backwards one of the right tiles , the back one in a stack of three ; flip down one of the right tiles , the front one in a stack of three ; finally flip right two vertically adjacent tiles located on the right in the back of the corresponding stacks .      in figures [ fig : flap3a5b ] and [ fig : flap3a5a ] we find the configurations @xmath129 corresponding the sequences .",
    "the configuration of figure [ fig : flap3a5a ] can be obtained from the shape of figure [ fig : shapes ] ( ns ) by first `` closing '' it and then lowering a flap and lifting another flap .",
    "configuration [ fig : flap3a5b ] is just a few moves away from there .",
    "note that these two configurations are connected by a few moves to the configuration of figure [ fig : flap1a6a ] , thus giving an alternative way to obtain it .",
    "the configuration @xmath130 is shown in figure [ fig : flap3a5c ] .",
    "it can be obtained starting from the configuration of figure [ fig : flap1a6a ] as follows .",
    "flip the two rightmost tiles with a `` valley '' fold ; lift a single tile on the right , located on the right in front of a stack of three tiles ; flip to the left a set of three tiles positioned on the right behind the two front - most tiles in the two stacks ; finally flip up a back tile on the left and flip down a front tile on the left .    by differently pocketing one of the tiles it is possible to also obtain the assemblage @xmath131",
    ", however such operation requires a great deal of elasticity on the nylon threads and on the tiles , and we did not try it on the real puzzle .",
    "we do nt know if there is some other ( less stressing ) way to obtain it .",
    "the software code can be downloaded from @xcite and should work on any computer with a ` c ` compiler .",
    "if run without arguments , it will search for all canonical representatives of the set @xmath82 of equivalent classes of sequences .      ....",
    "$ \\textit{./rubiksmagic } eeeewwww f=2 area=5 dc=0 symcount=8 assemblages=1 deltaiszero=1 eeenwwws f=0 area=8 dc=0 symcount=4 assemblages=1 deltaiszero=1 eeenwwsw f=1 area=7 dc=-2 symcount=1 assemblages=2 deltaiszero=1 [ ... ] enswensw f=4 area=3 dc=0 symcount=8 assemblages=0 deltaiszero=0 ewewewew f=8 area=2 dc=0 symcount=32 assemblages=0 deltaiszero=0 found 71 sequences $ ....    it searches for all admissible sequences that are the canonical representative of their equivalent class in @xmath82 ( it finds @xmath83 equivalent classes ) , for each one it prints the sequence followed by some information ( to be explained shortly ) .      ....",
    "$ \\textit{./rubiksmagic -n 12 } eeeeeewwwwww f=2 area=7",
    "dc=0 symcount=8 assemblages=1 deltaiszero=1 eeeeenwwwwws f=0 area=12 dc=0 symcount=4 assemblages=1 deltaiszero=1 eeeeenwwwwsw f=1 area=11 dc=-2 symcount=1 assemblages=2 deltaiszero=1 [ ... ] ensnswensnsw f=8 area=3 dc=0 symcount=4 assemblages=0 deltaiszero=0 ensnswenswew f=8 area=3 dc=0 symcount=2 assemblages=0 deltaiszero=0 enswenswensw f=6 area=3 dc=0 symcount=12 assemblages=0 deltaiszero=0 ewewewewewew f=12 area=2 dc=0 symcount=48 assemblages=0 deltaiszero=0 found 4855 sequences $ ....        .... $ \\textit{./rubiksmagic -c eewenwsw } eewenwsw f=3 area=5 dc=-2 symcount=1 assemblages=6 deltaiszero=2   assemblage with delta = 0 : sla e3 e2 w2 e1 n1 w1 s1 w1   assemblage with delta = 0 : sla e3 e2 w1 e1 n1 w1 s2 w1 $ ....      * the sequence itself ; * the number of flaps ( @xmath90 in this case ) ; * the area of the plane covered ( @xmath100 ) ; * the computed contribution @xmath133 coming from the curving tiles ; * the cardinality of the group of symmetries of the sequence , this particular sequence does not have any symmetry ; * the number of admissible assemblages of the sequence , counting only those that start with @xmath4 of type @xmath15 and identifying assemblages that are equivalent under transformations in the group of symmetries of the sequence ; * the number of admissible assemblages with vanishing metric invariant ( @xmath41 ) , we have two in this case .",
    "then we have one line for each of the possible assemblages with @xmath41 with a printout of each assemblage , the numbers after each cardinal direction tells the level of the tile reached with that direction .",
    "it will be @xmath23 for tiles that are not superposed with other tiles , otherwise it is an integer between @xmath23 and the number of superposed tiles .",
    "the option `` -c ` ' on the command line can be omitted in which case the software computes the canonical representative of the given sequence and prints all the informations for both the original sequence and the canonical one . note that the sign of the invariants is sensitive to equivalence transformations ."
  ],
  "abstract_text": [
    "<S> we investigate two different invariants for the rubik s magic puzzle that can be used to prove the unreachability of many spatial configurations , one of these invariants , of topological type , is to our knowledge never been studied before and allows to significantly reduce the number of theoretically constructible shapes . </S>"
  ]
}