{
  "article_text": [
    "many computer vision problems can be cast as image labeling problems .",
    "markov random field ( mrf ) is a general - purpose optimization model for image labeling  @xcite .",
    "recent progress on mrf shows its prominent advantages for solving various computer vision and machine learning problems  @xcite .",
    "superpixelization , a.k.a . over - segmentation , is an intuitive yet effective approach to reducing the dimensionality of the image space for computer vision problems  @xcite , and it has been used in combination with mrf  @xcite .",
    "superpixels can be used to speed up the image labeling and they often form natural regularization to the labeling problems . however , it often takes significant effort to reformulate the original pixel - level mrf problem into a superpixel - level mrf problem . to the best of our knowledge",
    ", there exists no principled approach to obtain the superpixel - level mrf .    in this paper , we show how to minimize a given generic pixel - level binary mrf energy in the superpixel space . to this effect",
    ", we first represent pixelwise label by superpixel label .",
    "we then substitute this superpixel representation into the pixel - level mrf energy . as the main contribution of this paper",
    ", we show that superpixel - level mrf energy can be derived from the pixel - level mrf .",
    "in addition , the derived superpixel - level mrf is submodular if the original mrf model is submodular .",
    "[ final_spmrf2 ] illustrates the main idea of this paper .",
    "we demonstrate the usefulness of our technique on three representative image labeling problems .",
    "and @xmath0 are superpixel indices . @xmath1 and @xmath2 are the unary and pairwise potentials . ]    [ final_spmrf2 ] the remaining of this paper is organized as follows . in the next section , we will review the generic form of the second order binary mrf . in section [ sec : d - spmrf ] , we will present the technique that we used to superpixelize the mrf energy . in section [ sec : app ] , we briefly introduce the three applications we considered in this work . in section",
    "[ sec : exp ] , we present the experimental results of the respective applications with comparison to the state - of - the - art methods . in section [ sec :",
    "concl ] , we conclude the paper and suggest some future works .",
    "the generic second order mrf model can be written as follows : @xmath3 where @xmath4 and @xmath5 are the pixel - wise labels over the image , we consider the label values to be either 1 or 0 henceforth .",
    "@xmath6 is the set of all pixels in the image , and @xmath7 is a neighborhood system .",
    "@xmath8 is known as the unary term or data - fidelity term .",
    "@xmath9 is the pairwise potential that is often used to model the pairwise relationship between the labels on neighboring pixels .    for binary - label problem",
    ", the unary term can be written more explicitly as @xmath10 or @xmath11    the generic form of the pairwise term can be written as @xmath12 thus , @xmath13 .    to sum up",
    ", we may rewrite the generic binary label mrf model explicitly as follows : @xmath14 where @xmath15 .",
    "note that we have omitted the constant terms .",
    "it has been proven in @xcite that if @xmath16 , the binary labeling problem is submodular and hence can be solved by graph cuts exactly .",
    "we will focus on submodular mrf model in this paper .",
    "superpixels are essentially adjacent and non - overlapping image regions",
    ". we can denote each superpixel @xmath17 by one indicator function @xmath18 defined on the entire image domain , and the superpixel indicator function @xmath18 would satisfy : @xmath19 where we concatenated @xmath18 to be @xmath20 , @xmath21 is the pixel location , and @xmath22 is actually the set of all pixels belonging to the @xmath17-th superpixel .    based on the above representation of superpixels , the pixelwise labeling over the image can be represented using the superpixel labels as @xmath23 where we considered the concatenated form of pixel labeling @xmath24 , @xmath25 is the superpixel label .",
    "this superpixel representation of image labeling is also illustrated in fig .",
    "[ fig : heart - cake ] , where we only consider two superpixels , and the label value is either 0 or 1 .",
    "we now derive some basic properties from this superpixel representation of image labeling .",
    "these properties will be useful in the derivation of the superpixel - level mrf energy .",
    "[ lm : uniq_sp ] for any @xmath26 , @xmath27 where @xmath28 .",
    "0    let s consider @xmath4 defined in eq .",
    "( [ eq : splabel ] ) .",
    "we will have @xmath29 substituting eq .",
    "( [ eq : splabel ] ) into the above , we will have for any @xmath26 @xmath30 note that @xmath31 for any @xmath26 , @xmath32 .",
    "this completes the proof .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em    the above lemma implies the following property .    [ col : invl ] @xmath33    0    according to lemma [ lm : uniq_sp ] , we have for any @xmath26 , @xmath34 .",
    "thus @xmath35 , for any @xmath26 .",
    "thus for all @xmath36 , we will have @xmath37 .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em    we defer their proofs to appendix .      with the superpixel representation of image labeling ,",
    "we are able to write down a naive form of superpixelized mrf energy minimization problem : @xmath38 where @xmath39 and @xmath40 are the total unary and pairwise potential terms in the original mrf energy , and @xmath41 is the set of all superpixel labels .",
    "this problem is equivalent to @xmath42 the above discrete optimization problems may appear to be difficult to solve .    the main contribution of this paper can be written as a proposition as follows .",
    "[ prop : main ] given that @xmath43 , the energy in eq .",
    "( [ eq : pmrf_sp ] ) can be written as an mrf energy defined on superpixels , namely @xmath44 where the first term is the unary term , i.e. @xmath45 , and the second term is the pairwise potential , i.e. @xmath2 .",
    "@xmath46 , @xmath47 , @xmath48 , and @xmath49 , @xmath50 .",
    "the proof of this proposition is deferred to the appendix .",
    "[ eq : spmrf ] gives us a formula which relates the mrf energy between superpixel and pixel explicitly . with this formula",
    "we can build the mrf for superpixels using the mrf in pixel level regardless of the underlying applications . to understand the resultant pairwise potential more in - depth",
    ", we elaborate on the relationship between the pairwise potentials before and after superpixelization .    according to eq .",
    "( [ eq : mrf ] ) , the pairwise potential for the pixel - level mrf can be written as : @xmath51    likewise , the pairwise potential for the superpixel - level mrf can be written as : @xmath52    [ col : v ] given the pairwise potentials defined in eq .",
    "( [ eq : ppbfsp ] ) and eq .",
    "( [ eq : ppafsp ] ) , we have the following relationship between them : @xmath53 where @xmath22 and @xmath54 are different superpixels .    first , we can take summation of @xmath55 over the neighborhood defined by @xmath56 to arrive at the following : @xmath57 according to lemma [ lm : uniq_sp ] and corrollary [ col : invl ] , the above can be written as : @xmath58    from proposition [ prop : main ] , we know that @xmath59 by substituting the above into eq .",
    "( [ eq : intermv ] ) , we obtain the lhs of eq .",
    "( [ eq : ppafsp ] ) which complete the prove .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em    we illustrate the construction of the pairwise potential in fig .",
    "[ fig : v ] .",
    "in addition , to ensure the solvability of the resultant problem , it is important to maintain the submodularity of the superpixel - level mrf model .",
    "we find that the derived superpixel - level mrf is indeed submodular if the original pixel - level mrf is submodular .    .",
    "note that the other two types of pixel - level pairwise potentials will contribute to the superpixel - level unary term as shown in proposition [ prop : main].,title=\"fig : \" ] +    [ prop : regularity ] if the pairwise potential satisfies the regularity inequality , namely @xmath60 then the following inequality holds as well .",
    "@xmath61    the proof of this proposition is deferred to the appendix .",
    "0    let us multiply each term of eq .",
    "( [ eq : regineq ] ) with @xmath62 , which is non - negative .",
    "we will have for any @xmath63 , @xmath64 if we further sum each term over all the @xmath63 together , we will have @xmath65 by definition of @xmath66 ,  @xmath67 , @xmath68 , and @xmath69 , the above completes the proof .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em    comparing with the original mrf model in eq .",
    "( [ eq : mrf ] ) , the superpixel mrf in eq .",
    "( [ eq : spmrf ] ) requires significantly smaller graph for the same problem . 0      in this subsection",
    ", we are interested in the underlying pixel - level mrf model corresponding to the superpixel - level mrf .",
    "note that we derive the superpixel - level mrf energy by substituting the superpixel representation of image label into the pixel - level mrf , but we did not show if the energy can be represented as a pixel - level mrf energy . in the following , we will show that the derived superpixel - level energy can be represented as a pixel - level mrf energy again . by comparing this",
    "pixel - level superpixlelized mrf energy with the original pixel - level mrf energy , we can understand more about the difference in the solutions from eq .",
    "( [ eq : spmrf ] ) and eq .",
    "( [ eq : mrf ] ) .",
    "first we can rewrite eq .",
    "( [ eq : spmrf ] ) by substituting the explicit forms of @xmath70 , @xmath66 ,  @xmath67 , @xmath68 , and @xmath69 into the energy as follows .",
    "@xmath71      one common form of binary mrf energy is the potts model as follows : @xmath72    we are particularly interested in the superpixel energy form of the above energy .",
    "first , we can rewrite the energy in the general form as in eq .",
    "( [ eq : mrf ] ) .",
    "let @xmath73 , we have : @xmath74    thus , the corresponding superpixel mrf is the following : @xmath75 where @xmath76 , @xmath77 and @xmath78 .",
    "it has been shown that the segmentation with an mrf model can be made very effective for object segmentation if the detected edge is incorporated in the model  @xcite .",
    "the main contribution in their model is using edge map to form the pairwise potential in the potts model as follows : @xmath79 where @xmath4 and @xmath5 are the label variables , they are either 0 or 1 , and @xmath80 is defined as : @xmath81 in which @xmath82 is 1 if either @xmath83 or @xmath84 is on edge  @xcite .    as their method targets at automatic object segmentation ,",
    "computational efficiency is a critical concern .",
    "we propose to superpixelize their mrf energy to gain similar performance of segmentation at a much smaller computational cost .",
    "note that it is also not straightforward to reasonably incorporate edge detection in an mrf defined on superpixels .",
    "interestingly , ren et al .",
    "@xcite proposed a superpixel mrf with detected edge .",
    "nevertheless , the explicit relationship between the superpixel - level and pixel - level pairwise potential was not given .",
    "thus , the optimal formulation for this term may be obscure . with our superpixelization formula for potts model established in eq .",
    "( [ eq : sp_potts ] ) , the explicit form of the pairwise potential for the edge based superpixel mrf can be easily derived from eq .",
    "( [ eq : edgemrf ] ) .",
    "in this section , we briefly review the applications that we considered in the experimental evaluation .",
    "interactive image segmentation is a typical application of mrf model  @xcite .",
    "it has been successfully incorporated in the system of image cutout  @xcite .",
    "the image cutout is now composed of three components , object masking , boundary editing and alpha - matting  @xcite . in this paper , we consider the basic module of an interactive segmentation system , i.e. the box and seeds controlled object masking .",
    "recent developments on mrf model based interactive image segmentation are mainly focused on the unary term  @xcite . since the superpixelization of the unary term is relatively straightforward , in this work we consider the effectiveness of our mrf superpixelization for the state - of - the - art pairwise potential  @xcite .      interactive video cutout is a useful tool in video editing and compositing  @xcite .",
    "it usually begins with an interactive key frame segmentation , followed by segmentation propagation .",
    "the segmentation propagation step automatically generates segmentations of the subsequent frames by motion estimation , foreground - background classification and mrf based optimization . on the one hand , since the video cutout is usually a tedious work , the efficiency of the segmentation propagation step is crucial to the usability of such system . on the other hand ,",
    "accuracy is of utmost importance in video cutout . in other words ,",
    "the computational cost should not be reduced at any cost of accuracy .",
    "we propose to superpixelize the original mrf model in segmentation propagation to safely reduce the computational cost .",
    "automatic segmentation proposal generation is a relatively new topic in computer vision  @xcite .",
    "it aims to integrate the object detection with object segmentation .",
    "the main idea is to generate a pool of segmentation results , as a substitute to sliding windows , to feed into the object detector .",
    "the major challenge is that this method can result in very high computational cost .",
    "normally , thousands of proposals will be generated for each image to ensure a satisfactory recall  @xcite .",
    "although superpixels have been adopted to reduce the computational burden in the existing frameworks , the relationship between the formulated mrf models for segmentation with superpixels and advanced celebrated pixel - level mrf models @xcite remains mysterious .",
    "the state - of - the - art segmentation methods are generally working on pixel level  @xcite .",
    "thus , we propose to superpixelize the existing state - of - the - art pixel - level mrf , such as in  @xcite , for generating object proposals . witnessing the effectiveness of the pixel - level mrf models",
    ", we can expect the similarly successful object proposal generation with the superpixelized mrf .",
    "in this section , we evaluate our method for the aforementioned applications .",
    "the methods are implemented using matlab .",
    "we will release our code and datasets upon acceptance . for preprocessing",
    ", we adopt a classic edge detection method  @xcite and a popular superpixelization method  @xcite .",
    "@c@c@c @c @c@c@c @c    & & &   +    & & &   + adafbc  @xcite & adafbc + s - spgc & adafbc + aseg on pixels  @xcite & our method +      [ [ interactive - image - segmentation . ] ] interactive image segmentation .",
    "+ + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    for evaluating our methods with bounding box input , we adopt the dataset used in  @xcite . it is a subset of the weizmann segmentation dataset , and it contains 100 images with relatively strong object - background contrast .",
    "we use the bounding box provided with the dataset followed by seeds input generated with the robotuser  @xcite as the user input .",
    "we measure the performance of the methods with segmentation accuracy and the corresponding user effort to achieve the accuracy .",
    "the segmentation accuracy is defined as the _ overlapping ratio _ between the result and the ground truth , i.e. @xmath85 where @xmath86 is the segmentation result and @xmath87 is the ground - truth segmentation .",
    "user effort _ is measured by the total geodesic distance of the seed points , i.e. the sum of the minimal pairwise distance over the point set . in this experiment",
    ", the number of superpixels is around 800 for all the images .",
    "this set of experiments were conducted on a pc with intel core i5 - 450 m ( 2.4ghz ) processor and 8 gb memory .",
    "[ [ segmentation - propagation - in - video - cutout . ] ] segmentation propagation in video cutout .",
    "+ + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    there is one benchmark dataset for interactive video cutout  @xcite . in the experiment ,",
    "we evaluate our method on their testing sequences which consists of 6 video sequences with 2070 frames .",
    "since the video cutout task tolerates very little error , we measure the performance of the methods using the _ boundary deviation _ ,",
    "i.e. the average distance from the object boundary in the segmentation result and the ground truth object boundary .",
    "we also use more superpixels , around 3200 , in this experiment .",
    "this set of experiments were conducted on a pc with intel core i7 - 4700mq ( 2.4ghz ) processor and 32 gb memory .",
    "[ [ segmentation - proposal - generation . ] ] segmentation proposal generation .",
    "+ + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    in this experiment , we use the code shared with @xcite .",
    "we evaluate on the same test dataset they experimented on , which is part of the pascal voc 2012 segmentation challenge . in the comparison",
    "we did not include superpixel refinement even it was proven useful for the task . in brief , we directly use the slic [ cite ] in the comparison and replace the pairwise potential of the superpixel mrf constructed in @xcite with the pairwise potential superpixelized from eq .",
    "( [ eq : edgemrf ] ) .",
    "we adopt the maximum overlapping ratio of the generated proposal for each object in each image as the evaluation metric .",
    "this set of experiments were conducted on a pc with intel core i7 - 4700mq ( 2.4ghz ) processor and 32 gb memory .",
    "[ [ segmentation - with - detected - edges ] ] segmentation with detected edges + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    for this task , we adopt adaptive foreground - background classification ( adafbc )  @xcite as our foreground - background model .",
    "we use the foreground - background probability map produced by adafbc combined with feature based superpixel mrf ( ssp - gc ) , active visual segmentation model  @xcite ( aseg ) , and our method . due to the page limit , we only present two set of visual results in fig .",
    "[ fig : expreg ] , additional results can be found in the supplementary material .",
    "note that our method only requires one dot seed to achieve a satisfactory segmentation in those two examples , while the other methods require either tedious user interactions or produce visually noticeable artifacts .",
    "we also present the quantitative results of this experiment in fig .",
    "[ fig : regcmp ] and the computation time in table .",
    "[ tb : tcostiseg ] .",
    "we can observe that our method is about 400 times faster than the original pixel - level method  @xcite .",
    "our method is also faster than ssp - gc .",
    "this is perhaps because the sparse edge map gives good contrast to the mrf weights in our model , which makes the inference much easier and faster .",
    "@c@c@c @c @c@c@c @c",
    "@c@c    & & & & & +    & & & & & +    & & & & & +    & & & & & + & frame 1&frame 3&frame 5&frame 7&frame 9 +    [ [ segmentation - propagation - in - video - cutout-1 ] ] segmentation propagation in video cutout + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    in this experiment , we compare our method with the segmentation propagation adopted in @xcite and @xcite .",
    "the latter is known as rotobrush in adobe after effect .",
    "we adopt the state - of - the art foreground - background classifier proposed in @xcite to form the unary term in the mrf . while zhong et al .",
    "@xcite adopted matting for segmentation propagation , the rotobrush uses graph cuts to solve a conventional mrf based segmentation model . in our implementation , we still adopt the model proposed in  @xcite for this task .",
    "we present one set of visual results in fig .",
    "[ fig : exampleseqcar ] , more results can be found in the supplementary materials .",
    "the quantitative results are summarized in fig .",
    "[ fig : erracum ] . from the results",
    ", we can observe that our method achieves the state - of - the - art segmentation propagation results .",
    "the advantage of our method lies in the computational efficiency , as tabulated in tab .",
    "[ tab : tcostvseg ] .",
    "[ [ automatic - segmentation - proposal - generation-1 ] ] automatic segmentation proposal generation + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +     @c@c@c @c @c@c@c @c @c@c    & & & & & +    & & & & & +     +    again , we only present some results of the segmentation proposal generation in fig .",
    "[ fig : exampleproposalgen ] due to the limit in paper length , additional results are in the supplementary materials .",
    "the visual results suggest that the results of our method better adheres to the object boundaries compared to the local and global search ( lgs ) method  @xcite .",
    "the quantitative results are shown in fig .",
    "[ fig : proposalgen ] . from the quantitative results we can observe that our method generates proposals of high accuracy at a higher probability .",
    "table  [ tab : tcostproposalgen ] compare the computation time which is similar since both  @xcite and our method run on the superpixel space .    0",
    "[ [ connections - to - the - crf - model - for - segmentation ] ] connections to the crf model for segmentation + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    in the crf model for segmentation @xcite , the pairwise potential is generally defined with a built - in edge detector in the form of linear classifier as follows : @xmath88 where @xmath89 , and @xmath90 is a sigmoid mapping defined as @xmath91 . the value of the potential @xmath92 will be large if the labeling @xmath93 has the same sign with @xmath94 .",
    "thus , the two terms has to be in different signs .",
    "this enforces @xmath94 to be an edge detector , and @xmath95 indicates an edge .",
    "accordingly , we can equivalently write @xmath92 in the form of our model defined in ( [ eq : edgecut])as @xmath96 . we can verify that if @xmath97 , indicating @xmath98 to be an edge , and @xmath94 has to be greater than zero to ensure @xmath92 to be small .",
    "in this paper , we propose a technique to convert the generic binary mrf defined on pixels to binary mrf defined on superpixels , which we called superpixelization of mrf .",
    "the resultant model remains submodular if the original model is submodular .",
    "we applied the technique to several computer vision problems , and we either outperform the state - of - the - art at similar computational cost or we achieve the state - of - the - art at significantly smaller computational cost .",
    "our technique is also potentially useful in solving non - submodular energy or multi - label problems and it is ready for extending to voxel labeling .",
    "let s consider @xmath4 defined in eq .",
    "( [ eq : splabel ] ) .",
    "we will have @xmath29 substituting eq .",
    "( [ eq : splabel ] ) into the above , we will have for any @xmath26 @xmath30 note that @xmath31 for any @xmath26 , @xmath32 .",
    "this completes the proof .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em    according to lemma [ lm : uniq_sp ] , we have for any @xmath26 , @xmath34 .",
    "thus @xmath35 , for any @xmath26 .",
    "thus for all @xmath36 , we will have @xmath37 .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em        therefore , we have the following identities .",
    "@xmath104 where @xmath105 , and @xmath106 .",
    "note that @xmath107 only when the neighboring @xmath108 are in two neighboring superpixels , i.e. @xmath109 and @xmath110 for @xmath111 .      to sum up",
    ", the superpixelized mrf energy can be rewritten as @xmath118 where @xmath119 is a constant independent of @xmath25 , @xmath120 , and the remaining variables are defined as before .",
    "the resultant form turns out to be analogous to the original pixel - level mrf .",
    "note that @xmath121 is treated as @xmath122 for @xmath115 and @xmath116 , since @xmath117 .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em    first , we can take summation of @xmath55 over the neighborhood defined by @xmath56 to arrive at the following : @xmath57 according to lemma [ lm : uniq_sp ] and corrollary [ col : invl ] , the above can be written as : @xmath58    from proposition [ prop : main ] , we know that @xmath59 by substituting the above into eq .",
    "( [ eq : intermv ] ) , we obtain the lhs of eq .",
    "( [ eq : ppafsp ] ) which complete the prove .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em    let us multiply each term of eq .",
    "( [ eq : regineq ] ) with @xmath62 , which is non - negative .",
    "we will have for any @xmath63 , @xmath64",
    "if we further sum each term over all the @xmath63 together , we will have @xmath65 by definition of @xmath66 ,  @xmath67 , @xmath68 , and @xmath69 , the above completes the proof .",
    "< 1.5em - 1.5em plus0em minus0.5em height0.75em width0.5em depth0.25em"
  ],
  "abstract_text": [
    "<S> superpixels have become prevalent in computer vision . </S>",
    "<S> they have been used to achieve satisfactory performance at a significantly smaller computational cost for various tasks . </S>",
    "<S> people have also combined superpixels with markov random field ( mrf ) models . </S>",
    "<S> however , it often takes additional effort to formulate mrf on superpixel - level , and to the best of our knowledge there exists no principled approach to obtain this formulation . in this paper , we show how generic pixel - level binary mrf model can be solved in the superpixel space . as the main contribution of this paper </S>",
    "<S> , we show that a superpixel - level mrf can be derived from the pixel - level mrf by substituting the superpixel representation of the pixelwise label into the original pixel - level mrf energy . </S>",
    "<S> the resultant superpixel - level mrf energy also remains submodular for a submodular pixel - level mrf . </S>",
    "<S> the derived formula hence gives us a handy way to formulate mrf energy in superpixel - level . in the experiments , </S>",
    "<S> we demonstrate the efficacy of our approach on several computer vision problems . </S>"
  ]
}