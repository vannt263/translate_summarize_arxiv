{
  "article_text": [
    "in his gem of a paper on how to write mathematics ( * ? ? ?",
    "* section  2 ) , paul halmos recommends to `` say something '' .",
    "he then comments on books and papers that violate this principle by either saying nothing or saying too many things .",
    "the present paper may appear to say too many , relatively random , things .",
    "on the contrary , let us stress that the unique idea of the present paper can be summarized by the motto : `` formal balls are the essence of quasi - metric spaces '' .",
    "we will explain all terms in section  [ sec : basics - quasi - metric ] .",
    "the first author has been convinced of the truth of that motto while writing the book @xcite , and most of its chapter  7 arises from that conviction .",
    "several papers had already been based on that premise @xcite .",
    "the first author has given a few talks on the topic , in particular at the domains xii conference in cork , ireland , 2015 .",
    "however , most of it has already been published , and only a few crumbs remain to offer the reader .",
    "we hope those are interesting crumbs .",
    "we outline a notion of _ standard _ quasi - metric space in section  [ sec : stand - quasi - metr ] .",
    "this is a natural notion , and all yoneda - complete quasi - metric spaces , as well as all metric spaces , are standard . we give a simple characterization of waszkiewicz s _ continuous _ yoneda - complete quasi - metric spaces in section  [ sec : cont - yoneda - compl ] , and this suggests a definition of continuous , not necessarily complete , quasi - metric spaces : namely , the standard quasi - metric spaces whose poset of formal balls is continuous .",
    "all metric spaces are continuous in this sense , in particular .",
    "the above crumbs can be considered as additional basic facts on quasi - metric spaces , complementing section  [ sec : basics - quasi - metric ] .",
    "those facts have not appeared earlier in the literature , as far as i know . in section  [ sec : choquet - completeness ] , we grab low - hanging fruit and show that every continuous yoneda - complete quasi - metric space is sober , and also convergence choquet - complete hence baire . in section  [ sec : algebr - yoneda ] , we characterize those standard quasi - metric spaces that are _ algebraic _ , as those that have _ enough center points_. the latter is a simple condition on the scott topology on the poset of formal balls . in section  [ sec : cont - lipsch - real ] , we look at morphisms , and first show that every lower semicontinuous map from a standard quasi - metric space to @xmath1 is a pointwise supremum of a chain of lipschitz yoneda - continuous maps .",
    "this generalizes a standard construction on metric spaces , and involves defining the appropriate variant of the distance of a point to a closed set .",
    "then , in section  [ sec : cont - algebr - quasi ] , we show that the continuous yoneda - complete quasi - metric spaces are exactly the retracts of algebraic yoneda - complete quasi - metric spaces , generalizing a similar sounding in the theory of dcpos .    a final crumb , in section  [ sec : quasi - ideal - models ] ,",
    "explores the notion of quasi - ideal domains : algebraic dcpos whose finite elements are below all non - finite elements . using a variant of a construction due to k. martin",
    ", we show that every continuous yoneda - complete quasi - metric space has a quasi - ideal model ; and that the spaces that have an @xmath2-quasi - ideal model are exactly m. de brecht s quasi - polish spaces .",
    "we conclude in section  [ sec : concl - open - probl ] .",
    "let @xmath1 be the set of extended non - negative reals .",
    "quasi - metric _ on a set @xmath3 is a map @xmath4 satisfying : @xmath5 ; @xmath6 ( triangular inequality ) ; @xmath7 implies @xmath8 .",
    "the relation @xmath9 defined by @xmath10 if and only if @xmath11 is then an ordering , which turns out to be the specialization ordering of the open ball topology .",
    "the latter is generated by the open balls @xmath12 , @xmath13 , @xmath14 , as basic open sets .",
    "[ ex : dreal ] on any subset of @xmath15 , define the quasi - metric @xmath16 by @xmath17 if @xmath18 , @xmath19 if @xmath20 , @xmath21 if @xmath22 and @xmath23 .",
    "this is a quasi - metric with specialization ordering @xmath24 equal to the usual ordering @xmath25 .",
    "a _ formal ball _ is a pair @xmath26 where @xmath13 and @xmath27 .",
    "this is just syntax for an actual ball : @xmath28 is the _ center _ , and @xmath29 is the _",
    "radius_. formal balls are ordered by @xmath30 if and only if @xmath31 .",
    "note that this implies @xmath32 , in particular .",
    "the poset of formal balls @xmath33 has many serendipitous properties .",
    "most of them are described and proved in @xcite , and we will recapitulate the most fundamental ones here . in the remaining sections , we will proceed to state a few new results that stem from the study of @xmath33 .",
    "although the book @xcite is a good source of information , we would not like to insinuate that the first author of the present paper is the author of the theory of formal balls .",
    "formal balls were introduced by klaus weihrauch and ulrich schreiber @xcite .",
    "reinhold heckmann and abbas edalat showed why they were so important in the metric case @xcite . in the general ,",
    "quasi - metric case , i would like to stress the import of mateusz kostanek and pawe waszkiewicz @xcite , who showed that @xmath34 is yoneda - complete if and only if @xmath33 is a dcpo   such an important characterization that we will actually take it as a _ definition _ of yoneda - completeness , although we will recapitulate the standard definition in section  [ sec : algebr - yoneda ] .",
    "( kostanek and waszkiewicz consider the more general case of quasi - metrics with values in a @xmath35-category instead of @xmath1 , a natural extension if we start from lawvere s view of metric spaces as enriched categories @xcite . )",
    "the supremum of a directed family of formal balls @xmath36 is then equal to @xmath26 where @xmath28 is the so - called _",
    "@xmath0-limit _ of the cauchy net @xmath37here @xmath38 iff @xmath39 .",
    "we will again define what a @xmath0-limit is , and what cauchy nets are , in section  [ sec : algebr - yoneda ] .",
    "the point is that the @xmath0-limit is independent of the radii @xmath40 . also , we have the innocuous - looking equality @xmath41 , which will be a crucial property of standard quasi - metric spaces ( section  [ sec : stand - quasi - metr ] ) .",
    "salvador romaguera and oscar valero proved an important theorem of the same kind , stating that @xmath34 is smyth - complete if and only if @xmath33 is a continuous dcpo and its way - below relation is the relation @xmath42 , defined by @xmath43 if and only if @xmath44 @xcite .",
    "smyth - completeness is a stronger property than yoneda - completeness , and means that every ( forward ) cauchy net in @xmath34 has a limit in the metric space @xmath45 ( taking @xmath46 ) .",
    "it turns out that @xmath33 can also be given a natural quasi - metric @xmath47 , defined by @xmath48 .",
    "the associated ordering is the ordering @xmath49 we have already defined : @xmath30 if and only if @xmath31 .    with the open ball topology of @xmath47 ,",
    "@xmath33 is a _ c - space _ , as defined by marcel ern @xcite . in general ,",
    "a c - space is a @xmath50 topological space @xmath51 that has the following strong form of local compactness : for every @xmath52 and every open neighborhood @xmath53 of @xmath54 , there is a point @xmath55 such that @xmath54 is in the interior of the compact set @xmath56 .",
    "( we write @xmath56 for the upward closure of @xmath57 . )",
    "this is particularly easy in the case of @xmath33 : for every open neighborhood @xmath58 ( in the open ball topology of @xmath47 ) of a formal ball @xmath26 , @xmath58 contains an open ball @xmath59 , and we can take @xmath60 ; @xmath26 is in the interior of @xmath56 since @xmath26 is in the open ball @xmath61 , which is included in @xmath56 .    writing @xmath62 for `` @xmath54 is in the interior of @xmath56 '' , that makes every c - space an abstract basis , and conversely , any abstract basis yields a c - space in a canonical way .",
    "a sober c - space is exactly the same as a continuous dcpo , the topology then being the scott topology , and @xmath42 being the way - below relation @xmath63 . in the case of @xmath33 , @xmath42 is the relation we have already defined : @xmath43 if and only if @xmath44 .",
    "it follows that the romaguera - valero can be restated in the following synthetic form : @xmath34 is smyth - complete if and only if @xmath33 is _ sober _ in the open ball topology of @xmath47 ( * ? ? ?",
    "* theorem  8.3.40 ) .",
    "sobriety is a fundamental notion , and we refer the reader to ( * ? ? ?",
    "* chapter  8) for more information on the topic .",
    "[ ex : smyth - complete ] with the quasi - metric @xmath16 , every closed interval @xmath64 $ ] is smyth - complete .",
    "in fact , @xmath64 $ ] is even symcompact , namely , compact in the open ball topology of the symmetrized metric @xmath65 , and every symcompact space is smyth - complete ( * ? ? ? * lemma  7.2.21 ) .",
    "[ ex : yoneda - complete : not ] @xmath66 is not smyth - complete , not even yoneda - complete , and similarly for @xmath67 .",
    "indeed , the chain of formal balls @xmath68 , @xmath69 , does not have a supremum .",
    "[ ex : yoneda - complete : r ] @xmath70 , on the contrary , is yoneda - complete . noting that for @xmath71 , @xmath72 if and only if @xmath32 and @xmath73 , the map @xmath74 defines an order isomorphism from @xmath75 onto @xmath76 \\mid    a - b \\geq 0\\}$ ] .",
    "since @xmath77 is a scott - closed subset of a continuous dcpo , it is itself a continuous dcpo .",
    "we shall see in example  [ ex : cont : r ] that this can be used to immediately conclude that @xmath66 is a so - called _ continuous _ yoneda - complete quasi - metric space .",
    "we can in fact say something stronger : @xmath70 is algebraic ( * ? ? ?",
    "* exercise  7.4.64 ) . since @xmath78 in @xmath77 if and only if @xmath79 and @xmath80 , we obtain that @xmath81 in @xmath75 if and only if @xmath82 and @xmath83 , if and only if @xmath23 and @xmath43 .",
    "hence the relations @xmath63 and @xmath42 differ ( although by a narrow margin ) , showing that @xmath70 is not smyth - complete .",
    "[ ex : yoneda - complete : rl ] the _ sorgenfrey line _",
    "@xmath84 is @xmath85 , where @xmath86 is equal to @xmath87 if @xmath22 , and to @xmath88 if @xmath18 .",
    "its specialization ordering @xmath89 is equality .",
    "its open ball topology is the topology generated by the half - open intervals @xmath90 , and is a well - known counterexample in topology . on formal balls , @xmath91 if and only if @xmath18 and @xmath92 .",
    "the map @xmath93 therefore defines an order isomorphism from @xmath94 to @xmath95 . although @xmath96 is not a dcpo , @xmath97 is , as one can see by realizing that @xmath97 is the scott - closed subset of the continuous dcpo @xmath98 consisting of the pairs @xmath99 such that @xmath100 . as such",
    ", @xmath77 is even a continuous dcpo , with @xmath78 if and only if @xmath101 and @xmath102 . the way - below relation on @xmath94",
    "is given by @xmath81 if and only if @xmath103 and @xmath104 , if and only if @xmath43 and @xmath104 . since @xmath63 and @xmath42 differ , @xmath84 is not smyth - complete .",
    "one can show that it is even a non - algebraic yoneda - complete quasi - metric space , see @xcite or ( * ? ? ?",
    "* exercise  7.4.73 ) .",
    "this example is due to kostanek and waszkiewicz , who also show that it is continuous yoneda - complete , a fact we shall retrieve in example  [ ex : cont : rl ] .    [ ex:<= ] every poset @xmath3 can be seen as a quasi - metric space by letting @xmath105 if @xmath106 , @xmath107 otherwise . on formal balls , @xmath108 if and only if @xmath18 and @xmath32 , so @xmath109 defines an order isomorphism of @xmath110 onto @xmath111 $ ] .",
    "it follows that @xmath3 is yoneda - complete , as a quasi - metric space , if and only if @xmath3 is a dcpo .",
    "note that @xmath81 in @xmath33 if and only if @xmath112 in @xmath3 and @xmath83 , if and only if @xmath43 and @xmath112 . in particular ,",
    "@xmath63 and @xmath42 only coincide on formal balls when @xmath25 and @xmath63 coincide on @xmath3 , that is , @xmath3 is smyth - complete as a quasi - metric space if and only if it is an algebraic dcpo whose elements are all finite .",
    "such posets are exactly those that have the _ ascending chain condition _ :",
    "every chain @xmath113 is finite .",
    "it has been argued that the proper topology one should take on a quasi - metric space @xmath34 is not its open ball topology , but its _ generalized scott topology _ @xcite . we will use another one , which is arguably simpler to understand , and coincides with the latter in many cases .",
    "the map @xmath114 is an order embedding of @xmath115 into its poset of formal balls @xmath33 .",
    "accordingly , we shall consider @xmath3 as a subset of @xmath33 .",
    "the latter has a natural topology , the scott topology , and this induces a topology on its subspace @xmath3 :    [ defn : dscott ] let @xmath34 be a quasi - metric space .",
    "@xmath0-scott topology _ on @xmath3 is the induced topology from @xmath33 , namely : the @xmath0-scott opens subsets @xmath58 of @xmath3 are those such that there is a scott - open subset @xmath53 of @xmath33 such that @xmath116 .    in general ,",
    "the generalized scott topology is finer than the @xmath0-scott topology on @xmath3 ( * ? ? ?",
    "* exercise  7.4.51 ) .",
    "the two topologies coincide when @xmath3 is algebraic yoneda - complete ( * ? ? ?",
    "* exercise  7.4.69 ) .",
    "the reader might be worried at this point that we are relinquishing the open ball topology in favor of a more exotic topology . however , the @xmath0-scott topology is the _ same _ as the open ball topology if @xmath34 is _ metric _",
    "* proposition  7.4.46 ) .",
    "the two topologies also coincide if @xmath34 is smyth - complete ( * ? ? ?",
    "* proposition  7.4.47 ) , and in fact as soon as all the points of @xmath3 are @xmath0-finite ( comment after proposition  7.4.48 , op .",
    "cit . ) .",
    "[ ex : scott = dscott ] for a poset @xmath3 , seen as a quasi - metric space with the quasi - metric @xmath117 ( example  [ ex:<= ] ) , the @xmath117-scott topology is just the same as the scott topology . to show this , use the order isomorphism of @xmath110 onto",
    "@xmath111 $ ] .",
    "the @xmath0-scott topology on @xmath3 is then the topology induced by the embedding @xmath114 of @xmath3 into @xmath111 $ ] .",
    "we consider @xmath3 as a subset of @xmath111 $ ] through that embedding . for a scott - open subset @xmath58 of @xmath3 , @xmath118 $ ]",
    "is scott - open in @xmath111 $ ] , and its intersection with @xmath3 is @xmath58 , so @xmath58 is @xmath0-scott open .",
    "conversely , any @xmath0-scott open @xmath58 is of the form @xmath119 for some scott open subset @xmath53 of @xmath111 $ ] .",
    "it is an easy exercise to show that @xmath58 is scott - open , and this concludes the argument .",
    "[ ex : dscott!=openball ] there are cases where the @xmath0-scott topology and the open ball topology are very different .",
    "the most immediate examples are given by posets @xmath3 , in which the @xmath117-scott topology is the scott topology , and the open ball topology is the alexandroff topology , whose open sets are all the upwards - closed subsets .    [ ex : dscott!=openball : rl ] for another example , consider the sorgenfrey line @xmath84 .",
    "we have seen that its open ball topology has a basis of half - open intervals @xmath90 .",
    "this is a bizarre topology : it is paracompact hausdorff hence @xmath120 but the topological product of @xmath84 with itself is not normal ; it is first - countable but not countably - based ; it is zero - dimensional , and not locally compact .",
    "the @xmath121-scott topology is tamer : it has a basis of opens of the form @xmath122 , namely the open intervals @xmath123 , hence it is just the usual topology on @xmath124 .",
    "( we write @xmath125 , in general , for @xmath126 . )",
    "the scott topology , algebraicity and continuity , are mostly studied on dcpos , not posets .",
    "however , those notions do make sense on general posets . similarly ,",
    "research on quasi - metric spaces , their spaces of formal balls , their generalized scott topology , and so on , mostly focused on yoneda - complete spaces , but those should have a meaning even in non - complete spaces .",
    "however , non - complete spaces may exhibit a few pathologies that we would like to exclude .",
    "here is how .",
    "we shall use the notions and results in subsequent sections .",
    "[ defn : d : std ] a quasi - metric space @xmath34 is _ standard _ if and only if , for every directed family of formal balls @xmath36 , for every @xmath127 , @xmath36 has a supremum in @xmath33 if and only if @xmath128 has a supremum in @xmath33 .",
    "many quasi - metric spaces are standard , as we observe now . here and in the sequel ,",
    "net _ is a family @xmath129 of points @xmath130 indexed by a set @xmath131 equipped with a quasi - ordering @xmath132 that makes @xmath131 directed .",
    "a limit of that net is any point @xmath57 such that every open neighborhood @xmath58 of @xmath57 contains @xmath130 for @xmath133 large enough .",
    "[ prop : d : std ] every metric space is standard . every yoneda - complete quasi - metric space is standard .",
    "every poset is standard .",
    "when @xmath34 is metric , we need to observe that : @xmath134 @xmath26 is the supremum of the directed family @xmath36 if and only if @xmath28 is the limit of the net @xmath135 ( in @xmath3 with its open ball topology ) and @xmath41 ( * ? ? ?",
    "* theorem  5 ) .",
    "the quasi - ordering @xmath132 is defined by @xmath136 if and only if @xmath39 , and since that is directed , @xmath135 is a net .",
    "a consequence of @xmath134 is that @xmath128 has a supremum @xmath137 in @xmath33 if and only if @xmath138 is the limit of @xmath135 and @xmath139 .",
    "it follows that the existence of a supremum is equivalent for @xmath36 and for @xmath128 , both being equivalent to the existence of a limit of the net @xmath135 .",
    "when @xmath34 is yoneda - complete , we use lemma  7.4.25 and lemma  7.4.26 of @xcite , which together state the similar result that @xmath26 is the supremum of the directed family @xmath36 if and only if @xmath28 is the @xmath0-limit of @xmath135 and @xmath41 .",
    "the notion of @xmath0-limit is irrelevant for our purposes here .",
    "( we shall need it later , and we shall define what it is there . )",
    "the important point is that , as above , the existence of a supremum is equivalent for @xmath36 and for @xmath128 , both being equivalent to the existence of a @xmath0-limit of the net @xmath135 .",
    "if @xmath3 is a poset , we have seen in example  [ ex:<= ] that @xmath109 defines an order - isomorphism from @xmath110 onto @xmath111 $ ] . since suprema in the latter",
    "are taken componentwise , and since all suprema exist in @xmath140 $ ] , the last claim is clear .",
    "[ rem : d : std : no ] not every quasi - metric space is standard . for a counterexample ,",
    "let @xmath141 $ ] with the quasi - metric defined by @xmath142 if @xmath143 , @xmath144 for every @xmath145 , and @xmath146 for every @xmath28 , where @xmath147 is a fixed constant .",
    "( we need @xmath147 to make sure the triangular inequality holds , notably @xmath148 for all @xmath149 . )",
    "the directed family of formal balls @xmath150 , @xmath151 , has @xmath152 has least upper bound , which one can show by verifying that @xmath152 is in fast its sole upper bound .",
    "indeed , if @xmath26 is an upper bound , and @xmath153 , then @xmath154 for every @xmath155 , and as @xmath155 tends to @xmath87 , this forces @xmath156 , a contradiction . if @xmath157 , then @xmath158 , which forces @xmath159 .    for @xmath160 ,",
    "the upper bounds of the directed family @xmath161 , @xmath151 , are those formal balls @xmath26 such that @xmath162 .",
    "this proceeds in the same way as above . if @xmath163 is an upper bound , and @xmath153 , then @xmath164 for every @xmath155 , and as @xmath155 tends to @xmath87 , @xmath165 .",
    "conversely , if @xmath166 , then @xmath167 , so @xmath26 is an upper bound of the family .",
    "if @xmath157 , then @xmath168 for every @xmath155 implies @xmath169 , which is again equivalent to @xmath170 .",
    "conversely , if @xmath169 then @xmath171 for every @xmath155 .",
    "for example , @xmath172 is such an upper bound .",
    "we shall see in proposition  [ prop : d : std : props ]  ( 2 ) that , if @xmath34 were standard , then the least such upper bound would be @xmath173",
    ". now pick @xmath174 so that @xmath175 : then @xmath176 , since @xmath177 .",
    "this shows that @xmath173 is not least among all upper bounds of the family , hence that @xmath34 can not be standard .",
    "[ prop : d : std : props ] in a standard quasi - metric space @xmath34 , the following hold :    1 .   for every directed family of formal balls",
    "@xmath178 with supremum @xmath26 , @xmath41 ; 2 .   for every directed family of formal balls",
    "@xmath36 with supremum @xmath26 , for every @xmath179 such that @xmath180 , the supremum of @xmath128 exists and is equal to @xmath181 ; 3 .   the _ radius map _",
    "@xmath182 is scott - continuous from @xmath33 to @xmath183 ( the set of non - negative real numbers with the opposite ordering @xmath184 ) ; 4 .",
    "the map @xmath185 is scott - continuous from @xmath33 to itself .",
    "\\(1 ) let @xmath186 .",
    "observe that , for all formal balls , @xmath187 implies @xmath188 . since @xmath189 , @xmath190 for every @xmath191 , so @xmath192 . by definition  [ defn : d : std ] with @xmath193 ,",
    "the family @xmath194 also has a supremum @xmath137 , and by similar reasoning @xmath195 for every @xmath133 .",
    "this implies @xmath196 , so @xmath197 .",
    "in particular , @xmath198 is an upper bound of @xmath194 , namely , @xmath199 for every @xmath191 .",
    "equivalently , @xmath200 .",
    "it follows that @xmath201 is an upper bound of @xmath36 , hence is above the least one , @xmath26 .",
    "in particular , @xmath202 .",
    "we have already proved the converse inequality , so @xmath203 .",
    "\\(2 ) by ( 1 ) , @xmath41 . by definition  [ defn",
    ": d : std ] , @xmath128 has a supremum @xmath137 , and by ( 1 ) again , @xmath204 .",
    "we now use the fact that @xmath189 for every @xmath191 , i.e. , @xmath205 , from which it follows @xmath206 for every @xmath191 .",
    "the formal ball @xmath181 is an upper bound of @xmath128 , hence is above its least upper bound @xmath207 : @xmath208 . working in the converse direction ,",
    "the formal ball @xmath209 is an upper bound of @xmath210 , hence is above @xmath26 , so that @xmath211 . because @xmath34 is quasi - metric , and @xmath212 , @xmath213 .",
    "\\(3 ) the radius map is monotonic , namely @xmath30 implies @xmath32 ( recall @xmath183 has the opposite ordering @xmath184 ) , and what remains to be shown is ( 1 ) .",
    "\\(4 ) if @xmath214 , then @xmath215 , so @xmath216 . this shows that @xmath217 is monotone .",
    "scott - continuity per se follows from ( 2 ) .",
    "the mapping @xmath114 allows us to see @xmath3 ( with the @xmath0-scott topology ) as a topological subspace of @xmath33 ( with the scott topology ) .",
    "if @xmath218 , then @xmath219 , so @xmath220 .",
    "it follows :    [ fact : x : upper ] let @xmath34 be a quasi - metric space",
    ". then @xmath3 embeds as an upwards - closed subset of @xmath33 .    when @xmath34 is standard",
    ", we can say more .",
    "[ prop : x : gdelta ] let @xmath34 be a standard quasi - metric space",
    ". then @xmath3 embeds as a @xmath221 subset of @xmath33 .",
    "let @xmath222 .",
    "this is the inverse image of @xmath223 by the radius map .",
    "since the former is open in the scott topology of @xmath183 , and using proposition  [ prop : d : std : props ]  ( 3 ) , @xmath224 is open .",
    "clearly , @xmath225 .",
    "in domain theory , there are dcpos , continuous dcpos , and algebraic dcpos .",
    "there are quasi - metric analogies of each notion , and we have described them , except for continuous dcpos .",
    "the definition of a _ continuous _ yoneda - complete quasi - metric space stems from enriched category - theoretic considerations , and is pretty complicated .",
    "the first author claimed in ( * ? ? ?",
    "* definition  7.4.72 ) that a quasi - metric space @xmath34 is continuous yoneda - complete , in the sense of kostanek and waszkiewicz , if and only @xmath33 is a continuous dcpo .",
    "that happens to be true , as we shall see , but no proof is given of that claim there .",
    "we repair this omission , and also deal not only with yoneda - complete quasi - metric spaces , but with standard quasi - metric spaces .    in order to define continuous yoneda - complete quasi - metric spaces , in principle ,",
    "we need to first define the way - below @xmath35-relation @xmath226 .",
    "this is defined by an enriched category - theoretic analogue of the definition of the usual way - below relation on posets .",
    "fortunately , we will not need the actual definition .",
    "kostanek and waszkiewicz show that ( * ? ? ?",
    "* theorem  9.1 ) :    * if @xmath34 is continuous yoneda - complete then @xmath227 is a continuous dcpo with way - below relation given by @xmath228 if and only if @xmath229 . *",
    "if , for some map @xmath230 , @xmath33 is a continuous dcpo and its way - below relation is characterized by @xmath81 if and only if @xmath231 , then @xmath34 is a continuous yoneda - complete quasi - metric space .",
    "we propose a simpler characterization , as a first step towards our final simplification .",
    "the key notion is a new twist on standardness .",
    "[ defn : std ] a binary relation @xmath232 on @xmath33 is _ standard _ if and only if , for every @xmath233 , @xmath234",
    "if and only if @xmath235 .    this can be generalized to relations of any arity , including infinite arities .",
    "this way , this new notion of standardness also encompasses definition  [ defn : d : std ] .",
    "note that @xmath49 is always standard .",
    "we are interested in the cases where @xmath63 is standard .",
    "half of the equivalence defining standardness is automatic :    [ lemma : ll : std : half ] let @xmath34 be a standard quasi - metric space . for every @xmath233 , if @xmath236 then @xmath81 .",
    "let @xmath237 be a directed family of formal balls with a supremum @xmath238 above @xmath239 . by proposition  [ prop : d",
    ": std : props ]  ( 2 ) , @xmath240 is a directed family , and its supremum @xmath241 is above @xmath242 .",
    "hence there is an index @xmath133 such that @xmath243 .",
    "it follows that @xmath244 .    the converse implication , namely that @xmath81 implies @xmath236 , is wrong in general , as the following example shows .",
    "[ ex : ng : nonstd ] let @xmath3 be the disjoint union of @xmath245 $ ] with the sorgenfrey quasi - metric @xmath121 , with two extra points which we shall name @xmath246 and @xmath247 .",
    "we extend @xmath121 to a quasi - metric @xmath0 on @xmath3 by letting @xmath248 if @xmath22 , and when @xmath18 we let : @xmath249 if @xmath250 $ ] , @xmath251 if @xmath252 , @xmath253 , @xmath254 , @xmath255 if @xmath252 , @xmath256 , where @xmath257 , @xmath258 and @xmath259 are elements of @xmath260 such that @xmath261 and @xmath262 .",
    "see figure  [ fig : ng : nonstd ] , where only the distances from @xmath28 to @xmath54 with @xmath104 are depicted . to check that it is a quasi - metric , note that @xmath263 is trivial whenever the right - hand side is equal to @xmath87 , or when any two points from @xmath28 , @xmath54 , @xmath57 are equal ; so the only cases we have to check are those where @xmath264 , and when @xmath265 , @xmath266 , @xmath267 , this requires the inequality @xmath261 .    given any directed family @xmath36 of formal balls ,",
    "observe that @xmath39 forces @xmath268 , since otherwise @xmath269 .",
    "then , either some @xmath270 is in @xmath245 $ ] , and we see that the cofinal family of those elements@xmath271 with @xmath272 $ ] has a supremum which is given as in @xmath84 , namely @xmath26 where @xmath41 and @xmath273 ; or @xmath36 is included in @xmath274 and some @xmath270 equals @xmath247 , in which case there is a cofinal family where each @xmath270 is equal to @xmath247 , so the supremum is @xmath275 ; or every @xmath270 is equal to @xmath246 , and the supremum is @xmath276 . in any case",
    ", the family has a supremum , so @xmath33 is a dcpo , in other words @xmath34 is yoneda - complete . in particular , it is standard .",
    "however , @xmath63 is not standard . to this end",
    ", we fix some arbitrary real number @xmath277 , and we check that @xmath278 . assume a monotone net @xmath279 whose supremum @xmath26 is above @xmath280 . since @xmath281 , we must have @xmath159 , and then a case analysis on @xmath28 shows that @xmath282 .",
    "( the inequality @xmath283 serves to show that @xmath284 is impossible . ) since @xmath41 , @xmath40 must be strictly less than @xmath285 for @xmath133 large enough , and then the inequality @xmath286 implies @xmath287 .",
    "then @xmath288 for @xmath133 large enough , which shows that @xmath289 for @xmath133 large enough .    it remains to check that @xmath290 is not way - below @xmath291 .",
    "let @xmath292 , a directed family in @xmath3 included in @xmath245 $ ] .",
    "its supremum is @xmath293 , which is above @xmath291 since @xmath294 . but",
    "no @xmath295 is above @xmath290 , since that would mean that @xmath296 would be at most @xmath297 , which is impossible .",
    "we need the following easy lemma for the next theorem , and for later results as well .",
    "[ lemma:+eps ] let @xmath34 be a quasi - metric space .",
    "for every @xmath298 , @xmath239 is the supremum in @xmath33 of the chain @xmath299 , @xmath69 .",
    "clearly @xmath300 for every @xmath69 . for every upper bound @xmath238 of the elements @xmath299 , @xmath69 , @xmath301 for every @xmath69 ,",
    "so @xmath302 , showing that @xmath187 .",
    "[ prop : cont ] a quasi - metric space @xmath34 is continuous yoneda - complete quasi - metric space if and only if @xmath33 is a continuous dcpo with a standard way - below relation .    if @xmath34 is continuous yoneda - complete , then @xmath81 if and only if @xmath303",
    "this is clearly a standard relation .",
    "conversely , assume that @xmath33 is a continuous dcpo and that @xmath63 is standard .",
    "let @xmath304 , the infimum being equal to @xmath87 if the right - hand set is empty .",
    "we claim that @xmath81 if and only if @xmath305 .    in one direction ,",
    "assume @xmath81 .",
    "by interpolation , find a formal ball @xmath238 such that @xmath306 .",
    "using lemma  [ lemma:+eps ] , @xmath307 for some @xmath69 , hence @xmath308 . by definition of @xmath309 , @xmath310 , so that @xmath311 .",
    "conversely , if @xmath312 , then by definition of @xmath309 , there are numbers @xmath313 such that @xmath314 and @xmath315 . by lemma  [ lemma :",
    "ll : std : half ] , @xmath316 , and since @xmath63 is standard , @xmath317 . using @xmath315 , we obtain that @xmath318 .",
    "we now refine this by showing that the continuity of @xmath33 ( for standard @xmath34 ) is enough to ensure that pathologies such as example  [ ex : ng : nonstd ] do not actually happen .",
    "[ prop : ng ] let @xmath34 be a standard quasi - metric space . if @xmath33 is a continuous poset , then it has a standard way - below relation .",
    "let @xmath81 , and fix @xmath233 .",
    "the family @xmath319 is directed , has @xmath242 as supremum , and consists of elements whose radius is at least @xmath320 .",
    "write that family @xmath240 .",
    "note that @xmath321 if and only if @xmath322 , because both are equivalent to @xmath323 .",
    "therefore @xmath237 is also a directed family . by proposition  [ prop : d :",
    "std : props ]  ( 2 ) , it admits @xmath239 as supremum . since @xmath81 , @xmath324 for some @xmath191 .",
    "it is easy to see that @xmath325 . since @xmath326 , @xmath236 . together with proposition  [ prop : cont ] , we therefore obtain :    [ thm : cont ] a quasi - metric space @xmath34 is continuous yoneda - complete quasi - metric space if and only if @xmath33 is a continuous dcpo .",
    "[ ex : cont : r ] following up on example  [ ex : yoneda - complete : r ] , @xmath70 is continuous yoneda - complete .",
    "it is even algebraic yoneda - complete , as we shall see in example  [ ex : alg : r ] .",
    "[ ex : cont : rl ] @xmath84 is continuous yoneda - complete ( see example  [ ex : yoneda - complete : rl ] ) .",
    "much as continuous dcpos can be generalized to continuous posets , this allows us to define continuous quasi - metric spaces without yoneda continuity .",
    "[ defn : cont ] a standard quasi - metric space @xmath34 is _ continuous _ if and only if @xmath33 is a continuous poset .    [ ex : cont : metric ] edalat and heckmann noticed that , when @xmath34 is a metric space , @xmath33 is always a continuous poset , with @xmath81 if and only if @xmath44 @xcite .",
    "it follows that all metric spaces are continuous .",
    "[ ex : cont:<= ] let us return to the case of posets ( example  [ ex:<= ] ) . for a poset @xmath3 , recall that @xmath110 is order - isomorphic to @xmath111 $ ] .",
    "the latter is continuous if and only if @xmath3 is continuous .",
    "hence a poset is continuous qua quasi - metric space if and only if it is continuous in the usual sense .",
    "we now observe that continuous yoneda - complete quasi - metric spaces have a number of desirable properties : they are sober , and they are choquet - complete , in particular they are baire .    [ prop : cont : sober ] every continuous yoneda - complete quasi - metric space @xmath34 is sober in its @xmath0-scott topology .    since @xmath33 is a continuous dcpo ,",
    "it is sober in its scott topology , see e.g.  ( * ? ? ?",
    "* proposition  7.2.27 ) , ( * ? ? ?",
    "* corollary  ii-1.12 ) , or ( * ? ? ? * proposition  8.2.12  @xmath327 ) .",
    "consider the diagram : @xmath328^{rad } \\ar@<-1ex>[r]_0 & { \\mathbb{r}_+}^{op } } \\ ] ] where @xmath329 is the radius map and @xmath330 is the constant @xmath330 map .",
    "both @xmath329 and @xmath330 are continuous , using proposition  [ prop : d : std : props ]  ( 3 ) . we claim that the map @xmath331 is an equalizer of that diagram in the category of topological spaces .",
    "consider any continuous map @xmath332 such that @xmath333 .",
    "for every @xmath52 , @xmath334 is an element of the form @xmath335 , and we define @xmath336 as @xmath28 .",
    "clearly , @xmath337 .",
    "moreover , @xmath338 is continuous : for every open subset @xmath58 of @xmath3 , by definition of the @xmath0-scott topology there is a scott - open subset @xmath53 of @xmath33 such that @xmath339 , and then @xmath340 is open .",
    "the result follows because spaces obtained as equalizers of continuous maps from a sober space to a topological space are sober ; see , e.g. , ( * ? ? ?",
    "* lemma  8.4.12 ) .",
    "let us turn to choquet completeness",
    ".    given a topological space @xmath3 , the _ strong choquet game _ on @xmath3 is played as follows .",
    "there are two players , @xmath341 and @xmath342 , who alternate turns .",
    "player @xmath342 starts and chooses a non - empty open subset @xmath343 of @xmath3 , and a point @xmath344",
    ". then @xmath341 plays an open subset @xmath345 of @xmath343 containing @xmath346 .",
    "player @xmath342 finds a non - empty open subset @xmath347 of @xmath345 , and picks a point @xmath348 , then @xmath341 produces an open subset @xmath349 of @xmath347 containing @xmath350 , and so on .",
    "clearly , @xmath351 , and we say that @xmath341 wins the game if and only if that set is non - empty .",
    "a strategy for @xmath341 is a map from _ histories _",
    "@xmath352 ( namely , @xmath353 , all @xmath354 and @xmath355 are open , @xmath356 , @xmath357 ,  , @xmath358 , @xmath359 ) to opens @xmath224 such that @xmath360 .",
    "@xmath3 is _ choquet - complete _ if and only if @xmath341 has a winning strategy .",
    "see ( * ? ? ?",
    "* section  7.6 ) .",
    "every continuous dcpo is choquet - complete in its scott topology , an observation due to k. martin @xcite .",
    "player @xmath341 s winning strategy can even be chosen to be _ stationary _ ( * ? ? ?",
    "* lemma  7.6.3 ) , i.e. , so that @xmath224 depends only on @xmath342 s last move @xmath361 ; and _ convergent _ @xcite , i.e. , so that @xmath362 , or equivalently @xmath363 , is a neighborhood base of some element @xmath54 .",
    "( we call a space _ convergence choquet - complete _ if and only if @xmath341 has a convergent winning strategy . )",
    "the argument is simple : given @xmath342 s last move @xmath364 , @xmath341 picks an element @xmath365 such that @xmath366 , and plays @xmath367 ; then @xmath368 .",
    "every @xmath221 subset of a choquet - complete space is choquet complete .",
    "this is mentioned as theorem  2.30  @xmath369 in @xcite , and a proof can be found in ( * ? ? ?",
    "* proposition  2.1  @xmath370 ) .",
    "the same proof shows :    [ lemma : gdelta : choquet ] every @xmath221 subset of a convergence choquet - complete space is a convergence choquet - complete subspace .",
    "let @xmath371 be a @xmath221 subset of a convergence choquet - complete space @xmath3 , and write @xmath371 as the intersection of a decreasing sequence of opens @xmath372 . for convenience , we assume @xmath373 .",
    "every open subset @xmath53 of @xmath371 can be written as @xmath374 for some open subset @xmath375 of @xmath3 . picking the largest such open for @xmath375",
    ", we can ensure that the assignment @xmath376 is monotonic .",
    "assume a convergent winning strategy @xmath377 for @xmath341 on @xmath3 .",
    "we obtain a winning strategy for @xmath341 on @xmath371 as follows : on the history @xmath352 ( inside @xmath371 ) , @xmath341 computes @xmath378 , where @xmath379 , therefore simulating a play on @xmath3 with strategy @xmath377 .",
    "( note that each @xmath270 , @xmath380 , is indeed in @xmath381 , since @xmath382 , and @xmath383 , @xmath384 .",
    "note also that @xmath385 . ) by assumption , @xmath386 is a neighborhood base of some point @xmath387 . by construction , @xmath388 .",
    "every open neighborhood @xmath53 of @xmath54 in @xmath371 is such that @xmath389 for some @xmath69 , so @xmath390 , showing that @xmath363 is a neighborhood base of @xmath54 in @xmath371 .    recalling proposition  [ prop : x : gdelta ] and the fact that every yoneda - complete space is standard , we obtain the following .",
    "[ thm : cont : choquet ] every continuous yoneda - complete quasi - metric space is convergence choquet - complete in its @xmath0-scott topology .",
    "theorem  [ thm : cont : choquet ] generalizes the fact that every smyth - complete space is convergence choquet - complete in its open ball topology ( * ? ? ?",
    "* exercise  7.6.5 ) .",
    "indeed , every smyth - complete space is continuous yoneda - complete , and its open ball topology coincides with its @xmath0-scott topology .",
    "recall that every choquet - complete space is baire ( see , e.g. , ( * ? ? ?",
    "* theorem  7.6.8 ) ) , namely , the intersection of countably many dense open subsets is dense .",
    "[ cor : cont : baire ] every continuous yoneda - complete quasi - metric space is baire in its @xmath0-scott topology .",
    "the original definition of _ algebraic _ yoneda - complete spaces is pretty complicated , and the point i would like to make here is that there is a simpler one , which extends naturally to non - complete spaces as well .",
    "this is the point where we have to recapitulate the standard definitions .",
    "fix a quasi - metric space @xmath34 .",
    "a net @xmath135 is _ cauchy _ if and only if for every @xmath391 , there is an @xmath392 such that for all @xmath393 with @xmath394 , @xmath395 .",
    "a point @xmath13 is the _ @xmath0-limit _ of the cauchy net @xmath135 if and only if , for every @xmath387 , @xmath396 .",
    "a yoneda - complete space is a quasi - metric space where every cauchy net has a @xmath0-limit .",
    "the relation to formal balls is as follows .",
    "observe that , if @xmath279 is any monotone net of formal balls such that @xmath397 , then @xmath398 is cauchy ( * ? ? ?",
    "* lemma  7.2.7 ) .",
    "such a monotone net is called a _",
    "cauchy - weighted _ net , as the numbers @xmath40 act as weights that witness the fact that @xmath398 is cauchy .",
    "a net @xmath135 is _ cauchy - weightable _ if and only if one can find weights @xmath40 that make @xmath279 cauchy - weighted .",
    "so every cauchy - weightable net is cauchy .",
    "the converse fails ( * ? ? ?",
    "* exercise  7.2.12 ) , but every cauchy net has a cauchy - weightable subnet ( * ? ? ?",
    "* lemma  7.2.8 ) , and they behave similarly as far as @xmath0-limits are concerned : if a cauchy net has a @xmath0-limit , then all its subnets are cauchy and have the same @xmath0-limit ( * ? ? ? * exercise  7.4.7 ) , and conversely , if a cauchy subnet of a cauchy net has a @xmath0-limit , then this is also a @xmath0-limit of the cauchy net ( * ? ? ?",
    "* lemma  7.4.6 ) .",
    "in particular , an equivalent definition of yoneda - completeness is : every cauchy-_weightable _ net has a @xmath0-limit .",
    "this trick finds its roots in ( * ? ? ?",
    "* section  2.2 ) .",
    "[ rem : dlim : sup ] while @xmath0-limits of cauchy nets are defined through a limit superior , @xmath0-limits of cauchy - weightable nets can be characterized by a simpler formula : given a cauchy - weighted net @xmath279 , @xmath28 is the @xmath0-limit of @xmath135 if and only if , for every @xmath387 , @xmath399 ( * ? ? ?",
    "* lemma  7.4.9 ) . moreover , the latter is a directed supremum .",
    "[ ex : rp : dlim ] in @xmath70 , every net @xmath135 ( even not cauchy ) has a @xmath16-limit , which is its limit superior ( * ? ? ? * exercise  7.1.16 ) . given a cauchy - weighted net @xmath279 ,",
    "the @xmath16-limit of @xmath135 can be expressed as the simpler , directed supremum @xmath400 .",
    "more generally , the supremum @xmath26 of any directed family @xmath36 of formal balls in @xmath75 is given by @xmath41 , and @xmath28 is the directed supremum @xmath401 .",
    "[ ex : poset : dlim ] look at the case of posets , seen as quasi - metric spaces .",
    "a net @xmath135 is cauchy if and only if it is an eventually monotone net , that is , for @xmath402 large enough , @xmath136 implies @xmath268 .",
    "it is cauchy - weightable if and only if it is a monotone net .",
    "the notion of @xmath117-limit of cauchy - weightable nets coincides with the notion of directed supremum .",
    "a point @xmath28 of a quasi - metric space @xmath34 is called",
    "_ @xmath0-finite _ if and only if , for every directed family @xmath403 of open balls with a supremum of the form @xmath404 , @xmath405 is the infimum of the filtered family @xmath406 of elements of @xmath1 ( * ? ? ?",
    "* lemma  7.4.56 ) .",
    "this is not the standard definition , which involves limits inferiors and cauchy nets , but it is closer to our needs .    a quasi - metric space @xmath34 is _ algebraic _ if and only if every point is a @xmath0-limit of some cauchy net of @xmath0-finite points . by the same argument as above , it is equivalent to require that every point be a @xmath0-limit of some cauchy-_weightable _ net of @xmath0-finite points .    i would like to offer a simpler view of those notions  at least on standard quasi - metric spaces  based on formal balls .",
    "the starting point is the following .",
    "we have two topologies on @xmath33 , the open ball topology of @xmath47 , and the scott topology of @xmath49 .",
    "they have the same specialization ordering , @xmath49 , and the former is finer than the latter , as we see now .",
    "[ lemma : scott=>openball ] let @xmath34 be a quasi - metric space .",
    "the open ball topology on @xmath407 is finer than the scott topology .",
    "let @xmath58 be a scott - open subset of @xmath33 , and @xmath239 be a point in @xmath58 .",
    "by lemma  [ lemma:+eps ] , @xmath299 is in @xmath58 for some @xmath69 .",
    "we check easily that @xmath239 is in the open ball @xmath408 and that the latter open ball is included in @xmath409 , which is included in @xmath58 .",
    "hence we have found an open neighborhood of @xmath239 for the open ball topology that is included in @xmath58 .",
    "it follows that @xmath58 is open in the open ball topology .",
    "conversely , one may wonder when the open ball topology coincides with the scott topology on @xmath33 .",
    "we shall solve this question below .",
    "in the meantime , observe that we may separate the open balls in @xmath407 into the nice open balls , those which are scott - open , and those that are not nice .",
    "we may then consider a point @xmath13 as nice if and only if all the open balls centered at @xmath335 are scott - open .",
    "let us give a name to that notion .",
    "[ defn : d : center ] in a quasi - metric space @xmath34 , an element @xmath13 is a _",
    "center point _ if and only if , for every @xmath391 , the open ball @xmath410 is scott - open in @xmath33 .",
    "the intersection of @xmath410 with @xmath3 is just @xmath411 , making the following immediate .",
    "[ rem : d : center ] for every center point @xmath28 of a hemi - metric space @xmath34 , every open ball @xmath411 centered at @xmath28 is open in the @xmath0-scott topology .",
    "the following shows that we can replace the complex definition of `` @xmath0-finite '' by the more synthetic notion of center point , in standard spaces .",
    "the proof also shows that every center point is @xmath0-finite , even without assuming standardness .",
    "[ lemma : d : finite ] let @xmath34 be a standard quasi - metric space .",
    "the following are equivalent , for every @xmath13 :    1 .",
    "@xmath28 is @xmath0-finite ; 2 .   for all @xmath27 and @xmath391 ,",
    "the open ball @xmath412 is scott - open in @xmath33 ; 3 .",
    "@xmath28 is a center point .",
    "a related result was given in ( * ? ? ?",
    "* theorem  8.3 ) , who instead show that all points are @xmath0-finite if and only if all points are center points .",
    "let @xmath403 be a directed family of open balls with supremum @xmath404 . since @xmath414 for every @xmath191 , @xmath415 , so @xmath416 , by the triangular inequality .",
    "assume the inequality @xmath417 were strict : @xmath418 for some @xmath391 .",
    "then @xmath404 would be in @xmath410 , so some @xmath419 would be in @xmath410 , which is scott - open by assumption .",
    "that is , @xmath420 .",
    "however , that would contradict the inequality @xmath421 . therefore @xmath422 , showing that @xmath28 is @xmath0-finite .",
    "@xmath423 , assuming @xmath34 standard .",
    "let @xmath28 be a @xmath0-finite point of @xmath3 .",
    "the open ball @xmath412 is the set of formal balls @xmath239 such that @xmath424 , i.e. , such that @xmath425 .",
    "this is upward - closed with respect to @xmath49 , by the triangular inequality .",
    "let @xmath239 be the supremum of some directed family @xmath403 of formal balls , and assume that @xmath239 is in @xmath412 . by proposition  [ prop : d",
    ": std : props ]  ( 2 ) , @xmath426 , and the fact that @xmath28 is @xmath0-finite then implies that @xmath427 . using the inequality @xmath428",
    ", there must exist an @xmath191 such that @xmath429 , i.e. , such that @xmath419 is in @xmath412 .",
    "in other words , @xmath412 is scott - open .",
    "@xmath430 is trivial : take @xmath159 .",
    "further characterizations follow , assuming @xmath34 continuous .",
    "[ lemma : center ] let @xmath34 be a continuous quasi - metric space .",
    "the following are equivalent , for every @xmath13 :    1 .",
    "@xmath28 is a center point ; 2 .",
    "@xmath431 , where @xmath432 is defined as @xmath433 ; 3 .",
    "for every @xmath391 , @xmath434 .",
    "( the map @xmath309 was already used in the proof of proposition  [ prop : cont ] . )",
    "@xmath435 . if @xmath81 , then @xmath30 , so @xmath31 .",
    "taking infima , @xmath436 .",
    "if the inequality were strict , there would be a positive real @xmath437 such that @xmath438 .",
    "in particular , @xmath439 . notice",
    "that @xmath440 : every element @xmath238 of @xmath410 is such that @xmath441 , so @xmath442 .",
    "since @xmath28 is a center point , @xmath410 is included in the scott interior of @xmath443 , and that is @xmath444 : that the scott interior of @xmath445 is @xmath125 is true in every continuous poset ( * ? ? ?",
    "* proposition  5.1.35 ) . we have therefore shown that @xmath446 , that is , @xmath447 .",
    "it follows that @xmath448 , a contradiction .",
    "@xmath430 . for every @xmath449 , @xmath450 , and using @xmath451 , @xmath452 .",
    "that implies @xmath453 , and the existence of @xmath454 such that @xmath314 and @xmath455 . since @xmath63 is standard by proposition  [ prop : ng ] , @xmath456 . since @xmath455 , @xmath457 and in particular the formal ball @xmath458 makes sense",
    "; further , @xmath459 , so @xmath460 .",
    "it follows that @xmath461 .",
    "the converse direction is simpler .",
    "for every @xmath462 , there is an @xmath69 such that @xmath463 by lemma  [ lemma:+eps ] .",
    "that implies @xmath464 , whence @xmath449 .",
    "@xmath413 is obvious .",
    "[ ex : alg : r : center ] the @xmath16-finite points of @xmath1 are known to be those that are different from @xmath87 .",
    "equivalently , let us check that they are the center points .",
    "we already know from example  [ ex : cont : r ] that @xmath465 if and only if @xmath23 .",
    "it is now enough to apply lemma  [ lemma : center ] .",
    "[ ex : alg : rl : center ] _ no _ point of @xmath84 is @xmath121-finite ( * ? ?",
    "* exercise  7.4.73 ) .",
    "we check this here .",
    "recalling example  [ ex : cont : rl ] , @xmath84 is continuous yoneda - complete , and we see that @xmath466 is never equal to the map @xmath467 , since @xmath468 but @xmath469 .    to capture algebraicity , we define the following notion .",
    "[ defn : d : enoughcenter ] a quasi - metric space @xmath34 _ has enough center points _ if and only if the open balls @xmath410 , with @xmath28 a center point and @xmath391 , form a base of the scott topology on @xmath33 .    in concrete terms",
    ", @xmath34 has enough points if and only if , for every scott - open subset @xmath470 of @xmath33 , for every @xmath471 , there is a center point @xmath28 and an @xmath391 such that @xmath472 .",
    "this is what we shall use in proofs .",
    "[ ex : alg : r ] @xmath70 has enough center points .",
    "indeed , recall that @xmath75 is isomorphic to the closed set @xmath76 \\mid    a - b \\geq 0\\}$ ] of example  [ ex : yoneda - complete : r ] .",
    "the latter is a continuous dcpo with @xmath78 if and only if @xmath79 and @xmath80 , and therefore the points @xmath473 with @xmath474 form a basis .",
    "using the isomorphism , a basis of @xmath75 consists of all the formal balls @xmath26 with @xmath23 , hence a base of the scott topology is given by the sets @xmath475 , @xmath23 .",
    "using lemma  [ lemma : center ] , the latter are the open balls @xmath476 , and @xmath28 is a center point , as we have seen in example  [ ex : alg : r : center ] .    [ ex : alg : rl ] since no point of @xmath84 is finite , @xmath84 is far from having enough center points .",
    "we shall see that having enough center points is equivalent to being algebraic , and thus we retrieve the fact that @xmath84 is not algebraic ( @xcite , see also ( * ? ? ?",
    "* exercise  7.4.73 ) ) .",
    "[ prop : d : enoughcenter ] let @xmath34 be a quasi - metric space with enough center points .",
    "the open balls @xmath411 with @xmath28 a center point and @xmath391 form a basis of the @xmath0-scott topology on @xmath3 .    given @xmath13 and an open neighborhood @xmath58 of @xmath28 , let @xmath470 be some scott - open subset of @xmath33 whose intersection with @xmath3 equals @xmath58 . by definition",
    ", there is an open ball @xmath477 that contains @xmath335 and is included in @xmath470 , where @xmath257 is a center point and @xmath391 . taking intersections with @xmath3",
    ", @xmath478 is an open neighborhood of @xmath28 that is included in @xmath58 .",
    "we have already announced the following result , as part of the kostanek - waszkiewicz theorem , assuming @xmath34 yoneda - complete .",
    "we now show that this holds in all standard quasi - metric spaces , even not yoneda - complete .",
    "[ lemma : d : limit : sup ] let @xmath34 be a standard quasi - metric space . for every cauchy - weighted net @xmath279 ,",
    "a point @xmath13 is a @xmath0-limit of @xmath135 if and only if @xmath335 is the supremum of the directed family @xmath36 in @xmath33 .",
    "assume @xmath28 is a @xmath0-limit of @xmath135 .",
    "for every formal ball @xmath239 , @xmath239 is an upper bound of @xmath36 if and only if @xmath479 for every @xmath191 , if and only if @xmath220 ( using @xmath480 ) and @xmath481 for every @xmath191 . since , by remark  [ rem : dlim : sup ] , @xmath482 , @xmath239 is an upper bound of @xmath36 if and only if @xmath220 and @xmath483 , and that is equivalent to @xmath484 , i.e. , to @xmath218 . the least such formal ball @xmath239 is then @xmath335 .    conversely , assume that @xmath335 is the least upper bound of @xmath36 .",
    "the inequality @xmath485 is automatic : since @xmath486 , @xmath487 for every @xmath191 , so @xmath488 , which entails that @xmath489 for every @xmath191 .",
    "if the inequality were strict , there would be an @xmath27 such that @xmath490 .",
    "we use proposition  [ prop : d : std ]  ( 2 ) and note that @xmath26 is the supremum of @xmath491 . for every @xmath191 , @xmath492 , so @xmath493 , and therefore @xmath404 is an upper bound of the family @xmath36 . since @xmath26 is the least one , @xmath494 , that is , @xmath495 .",
    "that contradicts @xmath496 , so the inequality is an equality , showing that @xmath28 is a @xmath0-limit of @xmath135 .",
    "[ thm : d : enoughcenter ] a standard quasi - metric space @xmath34 has enough center points if and only if it is algebraic .",
    "assume @xmath34 is algebraic , let @xmath470 be a scott - open subset of @xmath33 and @xmath239 be a formal ball in @xmath470 . by definition , @xmath54 is the @xmath0-limit of some cauchy net consisting of @xmath0-finite points , and we have seen that we could replace that cauchy net with a cauchy - weightable subnet . by lemma  [ lemma :",
    "d : limit : sup ] , we can therefore express @xmath404 as the supremum of some directed family @xmath36 , where each @xmath270 is @xmath0-finite . by proposition  [ prop : d : std : props ]  ( 2 ) , @xmath239 is the supremum of the directed family @xmath128 .",
    "therefore @xmath497 is in @xmath470 for some @xmath191 . using lemma  [ lemma:+eps ]",
    ", there is even an @xmath391 such that @xmath498 is in @xmath470 .",
    "since @xmath499 , @xmath500 , so @xmath239 is in @xmath501 .",
    "every formal ball @xmath238 in @xmath501 is such that @xmath502 , and that implies @xmath503 . since @xmath498 is in @xmath470 , and open subsets are upwards - closed , @xmath238 is in @xmath470 , too .",
    "we sum up : @xmath504 ; since @xmath270 is @xmath0-finite ( equivalently , a center point , see lemma  [ lemma : d : finite ] ) , @xmath34 has enough center points .",
    "conversely , assume that @xmath34 has enough center points .",
    "fix @xmath13 .",
    "let @xmath131 be the family of all non - empty finite sets of open neighborhoods of @xmath335 in @xmath33 , ordered by set inclusion . to stress it , an element @xmath133 of @xmath131 is a finite set @xmath505 where @xmath506 and each @xmath507 is a scott - open set of formal balls containing @xmath335 .",
    "by induction on the cardinality @xmath508 of @xmath509 , we build a formal ball @xmath271 , where @xmath270 is a center point , in such a way that @xmath510 .",
    "to do so , just observe that @xmath34 has enough center points , and that , by induction hypothesis each @xmath511 is an open neighborhood of @xmath335 .    if @xmath512 , then @xmath513 . for every @xmath391 such that @xmath514",
    ", @xmath515 is in @xmath516 , hence in @xmath511 , so @xmath517 .",
    "as @xmath437 tends to @xmath330 , @xmath518 , and this shows that the net @xmath519 is a monotone net . by construction ,",
    "any upper bound @xmath238 of that net is in every open neighborhood @xmath470 of @xmath335 , hence must be above @xmath335 . by construction again , for every @xmath191 , @xmath520 , so @xmath521 , which implies @xmath486 , therefore showing that @xmath335 is an upper bound of the net .",
    "we have seen that any upper bound @xmath238 would be above @xmath335 , so @xmath335 is the supremum of the directed family of formal balls @xmath271 . since every @xmath270 is a center point , namely , a @xmath0-finite point , we conclude .    as an application , recall that a quasi - metric space @xmath34 is smyth - complete if and only if @xmath33 is sober in its open ball topology . if that is the case , then @xmath33 is a monotone convergence space , and in particular _ every _ open ball of @xmath407 is scott - open . by definition",
    ", this implies that _ every _ point of @xmath3 is a center point .",
    "conversely , if every point of @xmath3 is a center point , then the open ball topology on @xmath407 is coarser than the scott topology , and by lemma  [ lemma : scott=>openball ] , the two topologies coincide . since @xmath33 is a c - space in its open ball topology , it is also a c - space in its scott topology .",
    "but the posets that are c - spaces in their scott topology are exactly the continuous posets ( * ? ? ?",
    "* proposition  4 ) .",
    "if @xmath34 is also yoneda - complete , then @xmath33 is a continuous dcpo , hence its scott topology is sober .",
    "the open ball topology on @xmath33 is then sober as well , hence @xmath34 is smyth - complete by the romaguera - valero theorem .",
    "we have therefore obtained a proof of the following .",
    "the equivalence between ( 1 ) and ( 2 ) is , modulo some details , due to ali - akbari , honarii , pourmahdian , and rezaii @xcite .",
    "what they state is that @xmath34 is smyth - complete if and only if it is yoneda - complete and all its points are @xmath0-finite .",
    "this is equivalent , since yoneda - complete spaces are standard , and @xmath0-finite points coincide with center points in standard spaces .",
    "[ lemma : smyth - complete ] for a quasi - metric space @xmath34 , the following are equivalent :    1 .",
    "@xmath34 is smyth - complete ; 2 .",
    "@xmath34 is yoneda - complete and all its points are center points ; 3 .",
    "@xmath33 is a dcpo , and the open ball topology on @xmath407 coincides with the scott topology .",
    "it is time we talked about morphisms .    given @xmath522 , and two quasi - metric spaces @xmath34 and @xmath523 ,",
    "a map @xmath524 is _",
    "@xmath341-lipschitz _ if and only if @xmath525 for all @xmath526 . it is _ lipschitz _ if and only if it is @xmath341-lipschitz for some @xmath522 .",
    "[ ex : lip : mono ] if @xmath3 and @xmath51 are posets , considered as quasi - metric spaces , the @xmath341-lipschitz maps for @xmath527 are the monotonic maps .",
    "we are particularly interested in the case @xmath528 ; @xmath529-lipschitz maps are sometimes called _ non - expansive_. quasi - metric spaces and @xmath529-lipschitz form a category @xmath530 .",
    "[ rem : expo ] we have repeatedly taken the example of posets as specific quasi - metric spaces .",
    "one can see the category of posets and monotonic maps as a full subcategory of @xmath530 , consisting of those quasi - metric spaces whose quasi - metric takes the values @xmath330 and @xmath87 only .",
    "it is a remarkable fact that the posets are exactly the exponentiable objects in @xmath530 ( * ? ? ?",
    "* exercise  6.6.18 ) .",
    "given @xmath524 , and @xmath522 , we can lift @xmath531 to spaces of formal balls by defining @xmath532 as : @xmath533 .",
    "( in particular , @xmath534 . )",
    "it is easy to verify that @xmath531 is @xmath341-lipschitz if and only if @xmath535 is monotonic .",
    "all lipschitz maps are continuous with respect to the underlying open ball topologies , but not so for @xmath0-scott topologies .",
    "defined the following notion of yoneda - continuity @xcite . given a lipschitz map @xmath531 as above , @xmath531 is _ yoneda - continuous _ if and only if @xmath531 maps @xmath0-limits of cauchy nets in @xmath3 to @xmath536-limits in @xmath51 .",
    "the notion applies , in more generality , not just to lipschitz maps , but to all uniformly continuous maps ( op .",
    "cit . ) , but we will not consider that case here .",
    "once again , formal balls offer a reduction of the quasi - metric concept to a domain - theoretic notion : when @xmath34 and @xmath523 are both yoneda - complete , and given an @xmath341-lipschitz map @xmath524 , @xmath531 is yoneda - continuous if and only if @xmath535 is scott - continuous ( * ? ? ? * proposition  7.4.38 ) . that extends to standard quasi - metric spaces :    [ lemma : alphalip : cont ] let @xmath34 and @xmath523 be two standard quasi - metric spaces . for every map @xmath524 , @xmath531 is @xmath341-lipschitz yoneda - continuous if and only if @xmath535 is scott - continuous .",
    "if @xmath531 is @xmath341-lipschitz yoneda - continuous , then @xmath535 is monotonic . given a formal ball @xmath26 that is the supremum of a directed family @xmath36 , @xmath335 is the supremum of the directed family @xmath537 , where @xmath41 , using the fact that @xmath34 is standard .",
    "hence @xmath28 is the @xmath0-limit of the cauchy net @xmath135 , where @xmath136 if and only if @xmath39 . by assumption",
    ", @xmath538 is the @xmath536-limit of the cauchy net @xmath539 .",
    "since @xmath523 is standard , we can use lemma  [ lemma : d : limit : sup ] and conclude that @xmath540 is the supremum of the directed family @xmath541 .",
    "using standardness again , @xmath542 is the supremum of @xmath543 .",
    "therefore @xmath535 is scott - continuous .",
    "conversely , if @xmath535 is scott - continuous , then it is monotonic , so @xmath531 is @xmath341-lipschitz . for every cauchy net @xmath135 in @xmath3 with a @xmath0-limit @xmath28 , extract a cauchy - weightable subnet ( *",
    "* lemma  7.2.8 ) .",
    "we shall show that the image of that subnet by @xmath531 has a @xmath536-limit , hence the whole cauchy net @xmath539 will have the same @xmath536-limit ( * ? ? ?",
    "* lemma  7.4.6 ) . note also that the subnet we have taken still has @xmath28 as its @xmath0-limit ( * ? ? ?",
    "* exercise  7.4.7 ) .",
    "( we have already used these tricks in section  [ sec : algebr - yoneda ] . ) hence , without loss of generality , assume that @xmath279 if a cauchy - weighted net . since @xmath28 is a @xmath0-limit of our original net , @xmath544 . by scott - continuity , @xmath545 .",
    "since @xmath523 is standard , we can use lemma  [ lemma : d : limit : sup ] and conclude that @xmath531 is the @xmath536-limit of @xmath539 , showing that @xmath531 is yoneda - continuous .    in turn , the above result can be simplified as follows when @xmath546 .",
    "[ lemma : alphalip : cont : real ] let @xmath34 be a standard quasi - metric space .",
    "a map @xmath547 is @xmath341-lipschitz yoneda - continuous from @xmath34 to @xmath70 if and only if the map @xmath548 , defined by @xmath549 , is scott - continuous .",
    "if @xmath531 is @xmath341-lipschitz yoneda - continuous , then @xmath535 is scott - continuous , and using the isomorphism of example  [ ex : yoneda - complete : r ] , the map @xmath550 is scott - continuous from @xmath33 to a scott - closed subset of @xmath551 $ ] . taking first components",
    ", @xmath338 is scott - continuous .",
    "conversely , if @xmath338 is scott - continuous , then the map @xmath552 is scott - continuous , too .",
    "too show this , we only need to show that the map @xmath553 is scott - continuous , and that is a consequence of proposition  [ prop : d : std : props ]  ( 3 ) . using the same isomorphism as above",
    ", this implies that @xmath535 is scott - continuous .",
    "[ fact : yqmet ] the yoneda - complete quasi - metric spaces , together with the @xmath529-lipschitz yoneda - continuous maps , form a category @xmath554 .    [ ex : yc : scottcont ] if @xmath3 and @xmath51 are posets , considered as quasi - metric spaces , the @xmath341-lipschitz yoneda - continuous maps from @xmath3 to @xmath51 , for @xmath527 , are the scott - continuous maps .",
    "we shall require the following easy facts .",
    "[ prop : alphalip : props ] let @xmath34 be a standard quasi - metric space , @xmath555 , and @xmath531 , @xmath556 be maps from @xmath34 to @xmath70 .    1 .",
    "if @xmath531 is @xmath342-lipschitz yoneda - continuous , then @xmath557 is @xmath558-lipschitz yoneda - continuous ; 2 .",
    "if @xmath531 is @xmath341-lipschitz yoneda - continuous and @xmath556 is @xmath342-lipschitz yoneda - continuous then @xmath559 is @xmath560-lipschitz yoneda - continuous ; 3 .",
    "if @xmath531 , @xmath556 are @xmath341-lipschitz yoneda - continuous , then so are @xmath561 and @xmath562 ; 4 .   if @xmath563 is any family of @xmath341-lipschitz yoneda - continuous maps , then the pointwise supremum @xmath564 is also @xmath341-lipschitz yoneda - continuous .",
    "if @xmath565 and @xmath531 is @xmath341-lipschitz yoneda - continuous then @xmath531 is @xmath342-lipschitz yoneda - continuous .",
    "we use lemma  [ lemma : alphalip : cont : real ] .",
    "( we let the reader check , as an exercise , that ( 1 ) and ( 5 ) hold even for non - standard quasi - metric spaces .",
    "but one can not use lemma  [ lemma : alphalip : cont : real ] , then . )",
    "\\(1 ) if @xmath566 is scott - continuous , then @xmath567 is , too , since multiplication by @xmath522 is scott - continuous .",
    "note that it does not matter that we multiply @xmath341 by a positive or a negative number , but the fact that @xmath341 is non - negative does matter .",
    "\\(2 ) if @xmath568 and @xmath569 are scott - continuous , so is their sum @xmath570 , because addition is scott - continuous .",
    "\\(3 ) similarly , since @xmath571 and @xmath572 are scott - continuous .",
    "\\(4 ) the map @xmath573 is scott - continuous , because any supremum of scott - continuous maps with values in @xmath574 is scott - continuous : this is a standard exercise , and reduces to showing that suprema commute .",
    "\\(5 ) if @xmath568 is scott - continuous , then so is @xmath566 , since it arises as the sum of the former plus the map @xmath575 , which is scott - continuous by proposition  [ prop : d : std : props ]  ( 3 ) .    in a metric space @xmath34 ,",
    "there is a notion of distance to a closed set @xmath77 : @xmath576 , and @xmath577 if and only if @xmath578 .",
    "one can also define the _ thinning _ of an open subset @xmath58 by @xmath579 as the set of points @xmath28 whose distance to the complement of @xmath58 is strictly larger than @xmath29 .",
    "we generalize the notion to all standard quasi - metric spaces as follows .",
    "[ defn : hatu ] given any subset @xmath580 of a quasi - metric space @xmath34 , the largest open subset @xmath53 of @xmath33 such that @xmath581 is written @xmath582 .",
    "@xmath582 is obtained as the union of all the open subsets @xmath53 of @xmath33 such that @xmath583 . by the definition of the @xmath0-scott topology , @xmath584 is the interior of @xmath580 in @xmath3 .",
    "in particular , for every @xmath0-scott open subset @xmath58 of @xmath3 , @xmath585 .    by proposition",
    "[ prop : d : std : props ]  ( 4 ) , for every @xmath27 , the map @xmath586 is scott - continuous , so @xmath587 is also open .",
    "hence the following defines a @xmath0-scott open subset of @xmath3 .",
    "[ defn : thinning ] in a standard quasi - metric space @xmath34 , the _ thinning _",
    "@xmath588 of the @xmath0-scott open subset @xmath58 by @xmath27 is @xmath589 .",
    "this allows us to ( re)define the distance @xmath590 of @xmath28 to the complement @xmath591 of an open subset @xmath58 .",
    "[ defn : dc ] in a standard quasi - metric space @xmath34 , define @xmath590 for @xmath13 and @xmath58 open in @xmath3 as @xmath592 .",
    "this has the expected properties :    [ lemma : dc : cont ] in a standard quasi - metric space @xmath34 , and for all @xmath593 and every @xmath0-scott open subset @xmath58 of @xmath3 , the following hold :    1 .",
    "@xmath594 if and only if @xmath595 ; 2 .",
    "@xmath596 ; 3 .",
    "the map @xmath597 is @xmath529-lipschitz yoneda - continuous from @xmath34 to @xmath70 .",
    "\\(1 ) if @xmath598 , then @xmath599 , so @xmath600 is in @xmath601 for some @xmath69 , by appealing to lemma  [ lemma:+eps ] .",
    "it follows that @xmath602 .",
    "conversely , if @xmath603 , then @xmath604 for some @xmath14 .",
    "since @xmath605 , @xmath335 is also in @xmath601 , so @xmath598 .",
    "\\(2 ) assume that @xmath606 .",
    "then there is an @xmath27 such that @xmath604 and @xmath607 .",
    "in particular , @xmath608 , and therefore @xmath609 is a well - defined formal ball .",
    "moreover , @xmath610 , by definition .",
    "since @xmath601 is upwards - closed , @xmath611 is in @xmath601 , so @xmath612 : contradiction .",
    "\\(3 ) by ( 2 ) , @xmath613 is @xmath529-lipschitz .",
    "hence @xmath614 is monotonic .",
    "let us show that @xmath338 is scott - continuous .",
    "we shall conclude by using lemma  [ lemma : alphalip : cont : real ] .",
    "let @xmath36 be a directed family of formal balls with a supremum @xmath26 .",
    "we must show that @xmath615 . by monotonicity ,",
    "the left - hand side is larger than or equal to the right - hand side .",
    "let us suppose , for the sake of contradiction , that it is strictly larger : for some @xmath233 , @xmath616 . by definition of @xmath590 , there is a radius @xmath617 such that @xmath618 , and @xmath619 . by proposition  [ prop : d : std : props ]  ( 2 ) , @xmath620 is the supremum of the directed family @xmath621 .",
    "since @xmath601 is scott - open , there is an @xmath191 such that @xmath622 is in @xmath601 .",
    "in particular , @xmath623 , hence @xmath624 .",
    "this is impossible since @xmath619 .",
    "the following compares @xmath590 with the more familiar formula @xmath625 .",
    "we write @xmath626 for downward closure with respect to @xmath9 . for a finite set @xmath627",
    ", @xmath628 is closed , hence its complement is always open .",
    "[ prop : d : hoare ] let @xmath34 be a standard quasi - metric space , @xmath13 , and @xmath58 be a @xmath0-scott open subset of @xmath3",
    ". then @xmath629 , with equality if @xmath630 for some finite set @xmath627 , or if @xmath28 is a center point .",
    "in particular , @xmath631 in all metric spaces , and in all smyth - complete quasi - metric spaces , since all points are center points in those situations .    for every @xmath27 , for every @xmath387 , if @xmath495 then @xmath494 . hence if @xmath495 and @xmath604 then @xmath632 , hence @xmath633 . by contraposition , if @xmath604 and @xmath634 , then @xmath496 .",
    "taking infima over @xmath54 and suprema over @xmath29 , we obtain @xmath629 .",
    "if @xmath630 for some finite set @xmath635 , then the downward closure of @xmath627 in @xmath33 , which we shall write as @xmath636 to avoid any confusion , is the closure of @xmath627 in @xmath33 , and its intersection with @xmath3 is @xmath628 .",
    "it follows that @xmath601 is the complement of @xmath636 .",
    "for every @xmath637 , for every @xmath133 , @xmath638 , @xmath26 is not below @xmath639 , since that would imply @xmath640 .",
    "this means that @xmath26 is not in @xmath636 , hence is in its complement , @xmath601 . by definition , it follows that @xmath641 . as @xmath29 is arbitrary , @xmath642 .",
    "for the second part , we no longer assume @xmath630 , but we assume that @xmath28 is a center point . we know that @xmath629 , and we assume that the inequality is strict : there are two real numbers @xmath643 such that @xmath644 .",
    "the rightmost inequality states that every @xmath634 is such that @xmath645 , hence , by contraposition , that @xmath646 . since @xmath28 is a center point , @xmath647 is open , by lemma  [ lemma : d : finite ]  ( 2 ) .",
    "the intersection of @xmath647 with @xmath3 is @xmath648 , which is included in @xmath58 , so @xmath649 .",
    "in particular , @xmath650 , so @xmath651 , contradiction .",
    "write @xmath652 for the characteristic function of the open subset @xmath58 .",
    "we compare functions , and take suprema of functions , pointwise .",
    "the map @xmath653 studied below is probably best understood through a picture : see figure  [ fig : rdalpha ] .",
    "[ prop : chiu : lip ] let @xmath34 be a standard quasi - metric space . for all @xmath654 , @xmath653 is an @xmath341-lipschitz yoneda - continuous map from @xmath34 to @xmath70 , and is less than or equal to @xmath655 .",
    "moreover the family @xmath656 is a chain , and its supremum is @xmath655 .",
    "the function @xmath657 is @xmath341-lipschitz yoneda - continuous by lemma  [ lemma : dc : cont ]  ( 3 ) and proposition  [ prop : alphalip : props ] .    for every @xmath598 , @xmath658 . for every @xmath659 ,",
    "we use lemma  [ lemma : dc : cont ]  ( 1 ) to conclude that @xmath660 .    if @xmath661 , then clearly @xmath662 , so the family is a chain .    to show the final claim , take any @xmath598 . by lemma  [ lemma :",
    "dc : cont ]  ( 1 ) , @xmath590 is non - zero , so @xmath663 for @xmath341 large enough . then @xmath664 .",
    "[ prop : chiu : largestlip ] let @xmath34 be a standard quasi - metric space . for all @xmath654 , @xmath653 is the largest @xmath341-lipschitz yoneda - continuous map from @xmath34 to @xmath70 that is less than or equal to @xmath655 .",
    "the claim is clear if @xmath159 , so let us assume @xmath14 .",
    "let @xmath531 be @xmath341-lipschitz yoneda - continuous from @xmath34 to @xmath70 , and assume @xmath665 .",
    "recall that the map @xmath548 defined by @xmath666 is scott - continuous ( lemma  [ lemma : alphalip : cont : real ] ) .",
    "consider the open subset @xmath667 $ ] .",
    "for every open ball @xmath335 with radius @xmath330 in @xmath53 , @xmath668 . since @xmath665",
    ", @xmath28 is then in @xmath58 .",
    "this shows that @xmath669 , hence @xmath670 .",
    "said in another way , for every open ball @xmath671 such that @xmath672 , @xmath671 is in @xmath601 .",
    "therefore , for every @xmath13 , every @xmath127 such that @xmath673 is less than or equal to @xmath590 .",
    "taking suprema over @xmath174 , @xmath674 .",
    "hence @xmath675 , and we conclude since @xmath676 .",
    "a map @xmath547 that is continuous when @xmath1 is equipped with its scott topology is classically known as a _ lower semicontinuous _ function from @xmath3 to @xmath1 .",
    "we finally obtain the following result , which shows that we can approximate any @xmath1-valued lower semicontinuous map , as closely as we wish , by @xmath341-lipschitz yoneda - continuous maps , as @xmath341 tends to @xmath87 .",
    "[ defn : falpha ] for every lower semicontinuous map @xmath531 from a standard quasi - metric space @xmath34 to @xmath1 , for every @xmath522 , let @xmath677 be the largest @xmath341-lipschitz yoneda - continuous map from @xmath34 to @xmath70 below @xmath531 .",
    "this exists , as the pointwise supremum of all @xmath341-lipschitz yoneda - continuous maps below @xmath531 ( proposition  [ prop : alphalip : props ] ) .",
    "proposition  [ prop : chiu : largestlip ] can be recast as follows .",
    "[ fact : chiu : largestlip ] for every @xmath27 , for every @xmath0-scott open subset of @xmath3 , @xmath678 .",
    "[ thm : alphalip : approx ] let @xmath34 be a standard quasi - metric space . for every lower semicontinuous map @xmath547 , the family @xmath679 is a chain , and @xmath680 .",
    "the family is non - empty , since for example the constant @xmath330 map is in it . if @xmath565 , then @xmath677 is @xmath342-lipschitz yoneda - continuous by proposition  [ prop : alphalip : props ]  ( 5 ) , and since @xmath681 is largest , @xmath682 .",
    "hence the family is a chain , and is in particular directed .",
    "clearly , @xmath683 .",
    "if the inequality were strict , there would be a point @xmath13 and two real numbers @xmath684 such that , for every @xmath522 , @xmath685 .",
    "let @xmath58 be the open set @xmath686 $ ] . then @xmath687 , so @xmath688 for every @xmath522 . using fact  [ fact : chiu : largestlip ] and proposition  [ prop : chiu : lip ] , @xmath689 , so @xmath690 .",
    "this is impossible , since @xmath598 .",
    "our intended application of this result is the following . given a topological space @xmath3 , let @xmath691 be the set of lower semicontinuous maps from @xmath3 to @xmath1 .",
    "when @xmath34 is a standard quasi - metric space , let @xmath692 be the set of 1-lipschitz yoneda - continuous maps from @xmath34 to @xmath70 .",
    "a _ prevision _ on a topological space @xmath3 is a scott - continuous map @xmath693 such that @xmath694 for all @xmath522 , @xmath695 .",
    "various refinements of the notion yield semantic models for mixed probabilistic and non - deterministic choice ( see @xcite ) .",
    "define the following variant of the hutchinson - kantorovitch metric , itself inspired from @xcite .",
    "the only difference is that @xmath696 is not restricted to be @xmath529-lipschitz , but @xmath529-lipschitz and yoneda - continuous : @xmath697 a complete study of that quasi - metric is out of scope of this paper , but showing that it is a quasi - metric at all requires theorem  [ thm : alphalip : approx ] .",
    "it satisfies the triangular inequality since @xmath16 does , and the challenge is to show that @xmath698 if and only if @xmath699 .",
    "we show the more general claim that @xmath700 if and only if @xmath701 , i.e. , if and only if @xmath702 for every @xmath695 .",
    "the if direction is obvious , while in the only if direction , we have @xmath703 hence @xmath704 for every @xmath527 ; using theorem  [ thm : alphalip : approx ] and the scott - continuity of @xmath705 and @xmath706 , @xmath702 .",
    "let us return for a moment to continuous and algebraic quasi - metric spaces .",
    "it is well - known that the continuous dcpos are exactly the retracts of algebraic dcpos .",
    "we shall prove a similar result for yoneda - complete quasi - metric spaces .",
    "every quasi - metric space @xmath34 has a so - called _ yoneda - completion _",
    "@xmath707 @xcite .",
    "it is built as a certain subspace of the space of all @xmath529-lipschitz maps from @xmath34 to @xmath70 , and comes with an isometric embedding @xmath708 , which maps @xmath28 to @xmath709 .",
    "that allows us to see @xmath34 as a sub - quasi - metric space of @xmath707 .",
    "@xmath707 is algebraic , with @xmath3 as set of @xmath0-finite elements .",
    "it has the following universal property : for every yoneda - complete space @xmath523 , every @xmath341-lipschitz map @xmath710 has a unique @xmath341-lipschitz yoneda - continuous extension to @xmath707 .",
    "this holds , more generally , if one replaces ` @xmath341-lipschitz ' by ` uniformly continuous ' @xcite .",
    "there is another notion of completion , the _ formal ball completion _ @xmath711 of @xmath34 : that one is due to vickers @xcite ; we rely on the presentation of ( * ? ? ?",
    "* section  7.5 ) .",
    "this rests on a familiar domain - theoretic construction known as the _ rounded ideal completion _",
    "@xmath712 of an abstract basis @xmath713 .",
    "the elements of @xmath712 are the _ rounded ideals _ of @xmath714 , namely subsets @xmath715 of @xmath714 that are @xmath42-directed ( for every finite subset @xmath716 of @xmath715 , there is an @xmath717 such that @xmath718 for every @xmath133 ) and @xmath42-downwards - closed ( if @xmath719 and @xmath720 then @xmath717 ) .",
    "@xmath712 is always a continuous dcpo under inclusion .",
    "@xmath714 embeds into @xmath721 through the map @xmath722 .",
    "modulo that embedding , @xmath714 is a basis of @xmath712 , and the way - below relation of @xmath712 restricted to @xmath714 is exactly @xmath42 . moreover , when @xmath714 is a c - space , hence an abstract basis with @xmath723 if and only if @xmath724 is in the interior of @xmath725 , then @xmath712 is the sobrification of @xmath714 , a result due to j. lawson @xcite .",
    "this applies notably to @xmath33 , which is a c - space in its open ball topology , hence an abstract basis with @xmath42 defined by @xmath43 if and only if @xmath44 .",
    "given a rounded ideal @xmath715 of @xmath33 , let its _ aperture _ @xmath726 be @xmath727 .",
    "then @xmath3 embeds into @xmath728 through the map @xmath729 .",
    "clearly , @xmath730 has aperture @xmath330 .",
    "we now define @xmath711 as the subset of @xmath728 consisting of the rounded ideals with aperture zero .",
    "this comes with a quasi - metric @xmath731 , defined by @xmath732 , which makes the embedding @xmath729 an isometric embedding  namely , @xmath733 .",
    "the key property of that construction is that @xmath734 is isomorphic , as a poset , to the rounded ideal completion @xmath735 , through the map @xmath736 ( * ? ? ?",
    "* proposition  7.5.4 ) .",
    "it follows immediately that @xmath734 is a continuous dcpo , so @xmath711 is continuous yoneda - complete ( theorem  [ thm : cont ] ) .",
    "in fact , it is algebraic yoneda - complete , and the elements @xmath730 are its @xmath0-finite elements ( * ? ? ? * exercise  7.5.11 ) .",
    "@xmath711 has the same universal property as @xmath707 : for every yoneda - complete space @xmath523 , every @xmath341-lipschitz map @xmath710 has a unique @xmath341-lipschitz yoneda - continuous extension to @xmath711 .",
    "this holds , more generally , if one replaces ` @xmath341-lipschitz ' by ` uniformly continuous ' ( * ? ? ?",
    "* proposition  7.5.22 , fact  7.5.23 ) .    by categorical generalities",
    ", it follows that @xmath711 and @xmath707 are naturally isomorphic in @xmath554 ( * ? ? ?",
    "* exercise  7.5.30 ) .",
    "if we restrict ourselves to the full subcategories of @xmath530 and @xmath554 consisting of metric spaces , the same argument shows that @xmath711 and @xmath707 are naturally isomorphic to the usual cauchy completion of @xmath34 .",
    "this requires one to check that @xmath731 is a metric whenever @xmath0 is , and that is indeed the case ( * ? ? ?",
    "* lemma  7.5.17 ) .    if instead we restrict ourselves to the full subcategory @xmath737 of @xmath530 consisting of posets and monotonic maps , and to the full subcategory @xmath738 of @xmath554 consisting of dcpos and scott - continuous maps , yet the same argument , using the fact that the ideal completion @xmath739 of a poset @xmath714 is the free dcpo over @xmath714 , leads to the conclusion that @xmath740 and @xmath741 are naturally isomorphic to the ideal completion of the poset @xmath3 ( * ? ? ?",
    "* exercise  7.5.25 ) .",
    "all that is known .",
    "i would like to show that there is little more to do to obtain a few interesting new results .    in any category @xmath742",
    ", there is a notion of ( @xmath742-)_retraction _ of an object @xmath51 onto an object @xmath3 : a pair of morphisms @xmath743 and @xmath744 such that @xmath745 .",
    "@xmath3 is a _ retract _ of @xmath51",
    ", @xmath746 is the _ section _ map , and @xmath747 itself is sometimes called a _ retraction _ map .",
    "colloquially , we shall call a @xmath738-retract a scott - continuous retract , and a @xmath554-retract a @xmath529-lipschitz yoneda - continuous retract .    recall the construction @xmath748 , for each @xmath341-lipschitz map @xmath710 .",
    "this defines a functor @xmath749 from @xmath530 to @xmath737 .",
    "recall that , for a @xmath529-lipschitz map @xmath531 between yoneda - complete spaces , @xmath531 is yoneda - continuous if and only if @xmath750 is scott - continuous ( * ? ? ?",
    "* proposition  7.4.38 ) .",
    "it follows that @xmath749 also defines a functor from @xmath554 to @xmath738 .    in particular ,",
    "given a retraction @xmath751^{\\mathfrak r } & x , d    \\ar@<1ex>[l]^{\\mathfrak s}}$ ] in @xmath554 , we obtain a retraction @xmath752^{\\mathbf b^1      ( \\mathfrak r ) } & \\mathbf b ( x , d ) \\ar@<1ex>[l]^{\\mathbf b^1      ( \\mathfrak s)}}$ ] in @xmath738",
    ". the scott - continuous retracts of continuous dcpos are continuous dcpos , hence the following is obvious , in the light of theorem  [ thm : cont ] .",
    "[ prop : proj : cont ] any @xmath529-lipschitz yoneda - continuous retract ( i.e. , any retract in @xmath554 ) of a continuous yoneda - complete quasi - metric space is itself continuous yoneda - complete .",
    "proposition  [ prop : proj : cont ] is due to p. waszkiewicz , in the more general setting of domains over a girard quantale ( * ? ? ?",
    "* theorem  3.3 ) .",
    "we now proceed to show that every continuous yoneda - complete space @xmath34 is a retract of an algebraic yoneda - complete space , and that will be @xmath753 .",
    "that seems to be new .",
    "[ lemma : ll : prec ] let @xmath34 be a quasi - metric space .",
    "if @xmath81 then @xmath43 .    by lemma  [ lemma:+eps ] , @xmath754 for some @xmath69 .",
    "hence @xmath755 .",
    "[ lemma : dd ] let @xmath34 be a quasi - metric space with a continuous poset of formal balls . for every formal ball @xmath26 , @xmath756 is an element of @xmath735 .",
    "if @xmath159 , and @xmath34 is standard , then it is an element of @xmath711 .",
    "the notation @xmath756 stands for @xmath757 .",
    "this should not be confused with @xmath758 .",
    "since @xmath33 is a continuous poset , @xmath756 is @xmath63-directed , hence @xmath42-directed by lemma  [ lemma : ll : prec ] .",
    "for every @xmath759 , for every @xmath760 , we have @xmath761 , so @xmath762 .",
    "therefore @xmath756 is @xmath42-downwards - closed , hence in @xmath735 .",
    "if @xmath159 and @xmath34 is standard , since @xmath335 is the supremum of @xmath763 , the infimum of the radii of formal balls in @xmath763 is equal to @xmath330 , by proposition  [ prop : d : std : props ]  ( 1 ) . hence the aperture of @xmath763 is @xmath330 , whence @xmath764 .",
    "[ lemma : dd+r ] let @xmath34 be a quasi - metric space , and assume that the way - below relation @xmath63 on @xmath33 is standard . for every formal ball @xmath26 , @xmath765 .",
    "if @xmath766 , then in particular @xmath767 , hence @xmath768 . using definition  [ defn : std ] ( or lemma  [ lemma : ll : std : half ] ) with @xmath769 , we obtain @xmath770 , and that exhibits @xmath239 as an element of @xmath771 .",
    "conversely , any element @xmath772 of @xmath771 , that is with @xmath773 , satisfies @xmath774 since @xmath63 is standard .    instead of embedding @xmath3 into @xmath711 through @xmath775",
    ", we consider @xmath776 .",
    "[ lemma : eta ] let @xmath34 be a continuous yoneda - complete quasi - metric space .",
    "the map @xmath777 is @xmath529-lipschitz yoneda - continuous , and @xmath778 maps @xmath26 to @xmath779 .",
    "lemma  [ lemma : dd ] enables us to claim that @xmath780 takes its values in @xmath711 .",
    "now consider the map @xmath781 defined by @xmath782 . since @xmath33 is a continuous poset ,",
    "this is a scott - continuous map .",
    "using lemma  [ lemma : dd+r ] , we obtain that @xmath783 .",
    "since @xmath784 is an isomorphism , this suffices to show that @xmath778 is scott - continuous , and we have seen that this is equivalent to the fact that @xmath780 is @xmath529-lipschitz yoneda - continuous , in the case of standard quasi - metric spaces , in particular of yoneda - complete spaces .    in the converse direction , given a yoneda - complete quasi - metric space @xmath34 , let @xmath785 map every @xmath786 to the @xmath0-limit of the cauchy - weightable net @xmath135 .",
    "let also @xmath787 denote the supremum map from @xmath728 to @xmath33 .",
    "[ lem : dlim ] let @xmath34 be a continuous quasi - metric space .",
    "the map @xmath788 is @xmath529-lipschitz yoneda - continuous , and @xmath789 .",
    "every element of @xmath728 can be written uniquely as @xmath790 , where @xmath791 and @xmath792 . we know that @xmath793 , and this shows that @xmath794 .",
    "the claim follows immediately .",
    "[ lem : dlim : eta ] let @xmath34 be a quasi - metric space , and assume that the way - below relation @xmath63 on @xmath33 is standard . then @xmath795 is the identity on @xmath3 , and @xmath796 .",
    "we note that @xmath797 , where @xmath798 . clearly , @xmath799 .",
    "hence @xmath800 . by applying each side of the equation to @xmath335",
    ", we obtain that @xmath801 .    for the second claim ,",
    "we consider any rounded ideal @xmath715 of @xmath802 .",
    "let @xmath803 , so that @xmath804 . for every @xmath805 ,",
    "use interpolation to find @xmath238 such that @xmath806 , so @xmath239 is way - below some element @xmath807 of @xmath715 . by lemma  [ lemma :",
    "ll : prec ] , @xmath808 , so @xmath809 since @xmath715 is @xmath42-downwards - closed . therefore @xmath810 .",
    "the second part of lemma  [ lem : dlim : eta ] shows that @xmath785 and @xmath780 not only define a retraction , but an _ embedding - projection pair _ ( a concept that has meaning in any order - enriched category ; here , @xmath554 ) . a retract defined this way",
    "is called a _",
    "projection_. putting all this together , we obtain :    [ prop : fb : retr ] every continuous yoneda - complete quasi - metric space @xmath34 is a projection of the algebraic yoneda - complete quasi - metric space @xmath753 through the pair @xmath780 , @xmath785 .    [",
    "thm : retract : cont ] the continuous yoneda - complete quasi - metric spaces are exactly the @xmath529-lipschitz yoneda - continuous retracts ( resp . ,",
    "projections ) of algebraic yoneda - complete quasi - metric spaces .",
    "[ rem : retr : cont ] theorem  [ thm : retract : cont ] is very similar to the well - known result that the continuous dcpos are exactly the scott - continuous retracts ( resp . , projections ) of algebraic dcpos , and our proof is also very similar .",
    "the main difference is our use of a rounded ideal completion instead of an ideal completion .",
    "in fact , theorem  [ thm : retract : cont ] includes that domain - theoretic result as a special case .",
    "notably , if @xmath3 is a dcpo , we can consider it as a yoneda - complete quasi - metric space @xmath811 .",
    "then @xmath740 is easily seen to be exactly the ideal completion of @xmath3 , and @xmath812 is exactly @xmath813 .",
    "keye martin introduced the notion of an _ ideal domain _",
    "@xcite , namely dcpos where each non - finite element is maximal .",
    "all such domains are automatically algebraic , and first - countable .",
    "if we agree that a _ model _ of a space @xmath3 is a dcpo in which @xmath3 embeds as its space of maximal elements , martin also showed that every space @xmath3 that has an @xmath2-continuous model has an ideal model ; and that the metrizable spaces that have an ideal model are exactly the completely metrizable spaces .    by definition ,",
    "a space that has a model must be @xmath814 .",
    "it is tempting to try and generalize the notion of model to @xmath50 spaces , say as a dcpo in which @xmath3 embeds as an upwards - closed subspace . to generalize ideal models",
    ", we shall require @xmath3 to embed as the set of non - finite elements in a quasi - ideal domain , defined as follows .",
    "[ defn : qideal ] a _ quasi - ideal domain _ is an algebraic domain in which every element below a finite element is itself finite .",
    "@xmath2-quasi - ideal domain _ is a quasi - ideal domain that has only countably many finite elements .",
    "ideal domains are clearly quasi - ideal . in a quasi - ideal domain , we shall call _ limit elements _ those points that are not finite .",
    "a quasi - ideal domain is organized as two non - mixing layers : a layer of finite elements , all below a second layer of limit elements .",
    "[ exa : qideal ] for a quasi - ideal domain that is not ideal , consider @xmath815 under inclusion , for any infinite set @xmath580 .",
    "this is an @xmath2-quasi - ideal domain if and only if @xmath580 is countable .",
    "[ exa : qideal : no ] any quasi - ideal domain is isomorphic to the ideal completion of its poset of finite elements , because that is the case for all algebraic domains .",
    "conversely , given a poset @xmath714 , its ideal completion @xmath739 is algebraic , but almost never quasi - ideal .",
    "for example , @xmath816 consists of finite elements of the form @xmath817 $ ] , and limit elements @xmath818 , @xmath285 .",
    "the order is inclusion , and they are deeply interleaved . in general , we can show that @xmath739 is a quasi - ideal domain if and only if , for every directed family @xmath715 in @xmath714 with no largest element , @xmath715 has no upper bound in @xmath714 . indeed ,",
    "if @xmath715 has no largest element , then @xmath819 is a limit element in @xmath739 , and if @xmath715 has an upper bound @xmath28 , this limit element is below the finite element @xmath820 , showing that @xmath739 is not quasi - ideal .",
    "conversely , if the directed families in @xmath714 with no largest element have no upper bound , then for every ideal @xmath715 in @xmath739 that is a limit element , there is no finite element @xmath820 , @xmath821 , such that @xmath822 , so that @xmath739 is a quasi - ideal domain .",
    "that observation simplifies to the following when @xmath714 is a dcpo : for a dcpo @xmath714 , @xmath739 is a quasi - ideal domain if and only if @xmath714 has the ascending chain condition .",
    "an ( @xmath2-)_quasi - ideal model _ of a topological space @xmath3 is an ( @xmath2-)quasi - ideal domain , seen as a topological space with the scott topology , whose subspace of limit elements is homeomorphic to @xmath3   in short , an ( @xmath2-)quasi - ideal domain in which @xmath3 embeds as its subspace of limit elements .",
    "de brecht showed ( * ? ? ?",
    "* theorem  53 ) that the quasi - polish spaces are exactly the spaces that embed as the non - finite elements of some @xmath2-algebraic ( equivalently here , @xmath2-continuous ) domain .",
    "one consequence of our results below will be a strengthening of one direction of that theorem , namely that all quasi - polish spaces have an @xmath2-quasi - ideal model .",
    "we also believe that the proof is simpler .",
    "for now , our goal will be slightly different : to show that every continuous yoneda - complete quasi - metric space has a quasi - ideal model ; but the technique will be the same .",
    "the basic construction is inspired by what martin did @xcite .    given a continuous yoneda - complete quasi - metric space @xmath34",
    ", @xmath33 has a basis .",
    "we need slightly less than that .",
    "[ defn : locbasis ] given a quasi - metric space @xmath34 with a continuous poset of formal balls , a _ local basis _ of @xmath33 is a subset @xmath823 of formal balls such that , for every @xmath13 , the set of formal balls @xmath824 such that @xmath773 is directed , and has @xmath335 as supremum .    in the sequel",
    ", we fix a yoneda - complete quasi - metric space @xmath34 with a continuous poset of formal balls , and a local basis @xmath823 of @xmath33 .",
    "[ defn : bd ] the poset @xmath825 is defined as follows .",
    "its elements are all the formal balls of the form @xmath335 , @xmath13 , and those in the local basis @xmath823 . its ordering is defined by @xmath826 if and only if @xmath827 or @xmath828 , where @xmath829 if and only if :    1 .",
    "either @xmath81 and @xmath830 , where @xmath63 is the way - below relation in @xmath33 , 2 .   or @xmath831 and @xmath10 .",
    "the second clause ensures that , equating @xmath13 with @xmath832 , the ordering on @xmath3 is the restriction of @xmath132 .",
    "the first clause can be interpreted as saying that to move up ( strictly ) among the elements of @xmath823 , we must not only jump high  take an @xmath239 that is way - above @xmath26but also reduce radii by a constant factor .",
    "we take @xmath833 for this factor , but this is arbitrary : any constant strictly larger than @xmath529 would work equally well .",
    "the first clause also allows one to compare an element @xmath834 with an element of the form @xmath404 , not just to compare two elements of @xmath823 .",
    "however , one must note that @xmath835 forces @xmath836 , hence @xmath837 .",
    "this is a direct consequence of lemma  [ lemma:+eps ] .",
    "[ rem : r!=0 ] if @xmath81 then @xmath83 ; in particular , @xmath836 .",
    "we shall say `` @xmath132-directed '' or `` @xmath49-directed '' to make clear with respect to which ordering directedness is assumed , and similarly for other epithets .",
    "[ fact : dir ] plainly , @xmath826 implies @xmath30 , and that implies that every @xmath132-directed family is also @xmath49-directed .",
    "the following technical lemma will be useful .",
    "[ lemma : bd : trick ] let @xmath36 be a @xmath132-directed family in @xmath825 , with @xmath838 for every @xmath191 , and assume that it has no @xmath132-largest element . for every @xmath191 , there is a @xmath839 such that @xmath840 and @xmath841 .",
    "since @xmath271 is not @xmath132-largest , there is a @xmath842 such that @xmath843 . by directedness ,",
    "find @xmath844 such that @xmath845 .",
    "it can not be that @xmath846 , it can not be either that @xmath847 and @xmath848 since all radii are assumed non - zero , so @xmath840 and @xmath841 .",
    "equally useful is the following consequence , which should be interpreted in the light of example  [ exa : qideal : no ] .",
    "there is a poset @xmath714 consisting of those elements of @xmath825 whose radius is non - zero , ordered by @xmath132 .",
    "the lemma below states that the directed families @xmath715 in @xmath714 that have no largest element have no upper bound in @xmath714 .",
    "hence @xmath739 will be a quasi - ideal domain .",
    "there is some remaining work to do to show that @xmath739 is in fact isomorphic to @xmath825 , but this is a good start .",
    "[ lemma : bd : trick : r=0 ] let @xmath36 be a @xmath132-directed family in @xmath825 , with @xmath838 for every @xmath191 , and assume that it has no @xmath132-largest element",
    ". then @xmath397 .",
    "iterating lemma  [ lemma : bd : trick ] from some arbitrary index @xmath392 , we obtain a sequence @xmath849 with @xmath850 .",
    "the infimum of those values is @xmath330 .",
    "[ lemma : bd : dcpo ] @xmath825 is a dcpo , and directed suprema are computed exactly as in the larger dcpo @xmath33 .    let @xmath36 be a @xmath132-directed family in @xmath825 , and let @xmath26 be its @xmath49-supremum , in @xmath33 . if that supremum is reached , namely if @xmath851 for some @xmath191 , then we claim that @xmath26 is also the @xmath132-supremum . to show that it is an @xmath132-upper bound",
    ", we must show that @xmath852 , for any @xmath839 . by directedness ,",
    "find @xmath853 so that @xmath854 . then @xmath855 , so @xmath856 .",
    "that implies @xmath857 .",
    "it is the @xmath132-supremum because it is attained .    if @xmath858 for some @xmath839 , then the subfamily of those formal balls @xmath271 such that @xmath859 is again @xmath132-directed , and has the same @xmath132-upper bounds and the same @xmath49-upper bounds as the original family . if @xmath858 , @xmath859 implies @xmath860 , so that subfamily consists of formal balls of radius @xmath330 . on formal balls of radius @xmath330 , @xmath132 and",
    "@xmath49 coincide , because of remark  [ rem : r!=0 ] .",
    "therefore @xmath26 is the @xmath132-supremum of our original family again .",
    "note that , since @xmath159 , it is , in particular , in @xmath825 .",
    "henceforth assume that the family has no @xmath132-largest element , and that @xmath861 for every @xmath839 .",
    "in particular , the whole family is inside @xmath823 . for every @xmath191 , use lemma  [ lemma : bd : trick ] and find @xmath839 such that @xmath840 and @xmath841 . since @xmath862",
    ", it follows that @xmath863 and @xmath864 , whence @xmath865 , at least if we can show that @xmath26 is in @xmath866 , which we shall do below .",
    "let @xmath239 be an arbitrary @xmath49-upper bound of the family .",
    "note that @xmath867 , and that @xmath397 by lemma  [ lemma : bd : trick : r=0 ] .",
    "this applies to @xmath868 , so @xmath159 as well .",
    "that shows that @xmath26 is in @xmath866 , as promised , so @xmath26 is a @xmath132-upper bound of the family .",
    "now consider any @xmath132-upper bound @xmath239 of the family .",
    "this is , in particular , a @xmath49-upper bound , so @xmath220 , as we have just seen . since @xmath26 is the least @xmath49-upper bound , @xmath30 .",
    "we now use @xmath831 to conclude that @xmath826 .",
    "[ lemma : approx ] every element @xmath335 , @xmath13 , is the supremum in @xmath869 of a @xmath132-directed family of elements @xmath824 with @xmath773 .    since @xmath823 is a local basis of @xmath33 , @xmath335 is the @xmath49-supremum of a @xmath49-directed family @xmath870 of formal balls in @xmath823 , with @xmath871 for every @xmath191 . in particular ,",
    "there is no reason why @xmath715 should be @xmath132-directed , but we repair this by a variant of a standard trick , allowing us to obtain a subfamily of @xmath715 that is @xmath132-directed and will have the same supremum .    note that @xmath838 for each @xmath191 , by remark  [ rem : r!=0 ] . also , since @xmath335 is the @xmath49-supremum of @xmath715 , @xmath873 .",
    "( recall that @xmath34 is yoneda - complete , hence standard . )",
    "our new family consists of formal balls which we write @xmath874 , indexed by finite subsets @xmath875 of @xmath131 , and is constructed by induction on the cardinality of @xmath875 .",
    "we will ensure that each @xmath874 is in @xmath715 , and that @xmath876 , for every @xmath875 .",
    "we shall also make sure that @xmath877 for every @xmath878 , and that will ensure that our new family is @xmath132-directed .    when @xmath879 , we pick @xmath874 arbitrarily from @xmath715 . otherwise , consider @xmath58 , the intersection of the subsets @xmath880 , @xmath881 , and of the subsets of the form @xmath882 for @xmath883 .",
    "all those subsets are scott - open , because @xmath33 is a continuous poset . as a finite intersection of open subsets",
    ", @xmath58 is open .",
    "since @xmath871 for every @xmath191 , and by induction hypothesis , @xmath58 contains @xmath335 .",
    "hence some @xmath271 is in @xmath58 . since @xmath884 and @xmath838",
    ", we can also find @xmath844 in @xmath715 so that @xmath885 , and by @xmath49-directedness , we can even require that @xmath39 .",
    "now decide to set @xmath886 .",
    "( all that , naturally , uses the axiom of choice rather heavily . )",
    "that is enough to ensure that @xmath887 for every @xmath883 , since @xmath888 and @xmath889 .    by construction , @xmath890 , too , so our new family of formal balls @xmath874 is not only @xmath132-directed , but also @xmath132-cofinal in @xmath715 , hence it has @xmath335 as @xmath132-supremum .",
    "[ lemma : finite ] the finite elements of @xmath825 are its elements with non - zero radius .",
    "( in particular , they are all in @xmath823 . )",
    "let @xmath837 , with @xmath836 .",
    "we show that @xmath26 is @xmath132-finite .",
    "consider a @xmath132-directed family @xmath36 with supremum @xmath239 such that @xmath826 .",
    "if the supremum is attained , say at @xmath191 , then @xmath891 , and we are done .    otherwise , we note that since @xmath836 and @xmath826 , either @xmath892 or @xmath81 and @xmath830 . in the latter case , for some @xmath191 , and using interpolation , @xmath893 .    we now , again , enquire whether @xmath860 for some @xmath133 .",
    "if that is the case , then we can without loss of generality assume that @xmath858 for every @xmath839 , taking a cofinal subfamily if necessary .",
    "note that @xmath894 . since @xmath826 and @xmath836 , a case analysis on the definition of @xmath132 shows that @xmath81 .",
    "therefore , and using interpolation , @xmath893 for some @xmath191 . since @xmath860 , @xmath891 trivially .    if the supremum is not attained and @xmath838 for every @xmath191 , then @xmath895 , using lemma  [ lemma : bd : trick : r=0 ] .",
    "since @xmath836 and @xmath220 , as above we find an index @xmath191 such that @xmath893 .",
    "now use lemma  [ lemma : bd : trick ] : there is an index @xmath839 such that @xmath840 and @xmath841 .",
    "it follows that @xmath896 and @xmath897 , namely , @xmath898 .",
    "next , we show that no element of the form @xmath335 is @xmath132-finite .",
    "use lemma  [ lemma : approx ] to find a @xmath132-directed family @xmath36 whose supremum is @xmath335 , and with @xmath871 . by remark  [ rem : r!=0 ] ,",
    "if @xmath335 were @xmath132-finite , there would be an @xmath191 such that @xmath899 .",
    "in particular , @xmath900 , which implies @xmath860 : that is impossible .",
    "[ prop : qideal ] @xmath825 is a quasi - ideal domain .    by lemma  [ lemma : approx ] and lemma  [ lemma : finite ] , it is algebraic . also , if @xmath26 is below a finite element @xmath239 , namely one with @xmath901 , then @xmath32 , which implies that @xmath902 , hence that @xmath26 is finite , too .",
    "[ prop : qideal : model ] let @xmath34 be a continuous yoneda - complete quasi - metric space , and let @xmath823 be a local basis of @xmath33",
    ". then @xmath3 with the @xmath0-scott topology is homeomorphic to the subspace of limit elements of the quasi - ideal domain @xmath825 .    temporarily call _",
    "@xmath0-scott _ topology the topology induced by the scott topology on @xmath825 on its subspace @xmath3 . in the light of proposition  [ prop : qideal ] , it only remains to show that the @xmath0-scott and the @xmath0-scott topologies are the same .",
    "let @xmath58 be a @xmath0-scott open in @xmath3 , and write it as @xmath119 , where @xmath53 is scott - open in @xmath33 .",
    "let @xmath903 .",
    "clearly , @xmath904 .",
    "we claim that @xmath375 is scott - open in @xmath825 .",
    "it is @xmath132-upwards - closed because @xmath53 is @xmath49-upwards - closed , and since @xmath132 implies @xmath49 ( fact  [ fact : dir ] ) . for a @xmath132-directed family @xmath715 in @xmath825 with @xmath132-supremum @xmath26 in @xmath375 ,",
    "@xmath715 is @xmath49-directed and has @xmath26 as @xmath49-supremum , by lemma  [ lemma : bd : dcpo ] .",
    "since @xmath26 is in @xmath53 , some element of @xmath715 is in @xmath53 , and therefore necessarily in @xmath375 as well . since @xmath375 is scott - open in @xmath825 , @xmath905 is then @xmath0-scott open .",
    "conversely , let @xmath58 be @xmath0-scott open , and let @xmath375 be a scott - open subset of @xmath825 such that @xmath905 . for every @xmath598 , @xmath335 is in @xmath375 , therefore @xmath335 has an open neighborhood @xmath906 included in @xmath375 , where @xmath907 is a finite element of @xmath825 , and @xmath908 denotes upwards - closure in @xmath825 .",
    "since @xmath907 is finite , @xmath29 is non - zero ( lemma  [ lemma : finite ] ) . in particular , since @xmath909 , we must have @xmath910 in @xmath33 .",
    "therefore @xmath911 is a @xmath0-scott open neighborhood of @xmath28 .    for every @xmath912",
    ", we have @xmath913 , so @xmath914 .",
    "therefore , @xmath915 , and that entails @xmath916 . hence @xmath911 is included in @xmath58 . since @xmath58 is a @xmath0-scott open neighborhood of each of its points , @xmath58 is @xmath0-scott open .",
    "taking @xmath917 itself , for example , we obtain :    [ thm : qideal : model ] every continuous yoneda - complete quasi - metric space , in its @xmath0-scott topology , has a quasi - ideal model .",
    "looking back at example  [ ex : scott = dscott ] , we obtain the following .",
    "[ corl : qideal : model : cpo ] every continuous dcpo has a quasi - ideal model .",
    "making some countability assumptions allows us to refine those results .",
    "recall that a dcpo is @xmath2-continuous if and only if it is continuous and has a countable basis .",
    "equivalently , a dcpo is @xmath2-continuous if and only if its scott topology is countably based ( * ? ? ?",
    "* proposition  3.1 ) . applying proposition  [ prop : qideal : model ] to a countable basis @xmath823 of @xmath33 , @xmath825 will be a quasi - ideal domain with countably many finite elements , that is , an @xmath2-quasi - ideal domain .",
    "hence :    [ prop : qideal : omegamodel ] every yoneda - complete quasi - metric space with an @xmath2-continuous poset of formal balls , equipped with its @xmath0-scott topology , has an @xmath2-quasi - ideal model .",
    "in particular , every @xmath2-continuous dcpo has an @xmath2-quasi - ideal model .",
    "matthew de brecht introduced the quasi - polish spaces as the topological spaces underlying the countably based smyth - complete spaces in their open ball topology @xcite ( equivalently , in their @xmath0-scott topology , since the two topologies coincide on smyth - complete spaces ) . among the many equivalent characterizations of quasi - polish spaces , theorem  53 of op .",
    "cit.states that the quasi - polish spaces are also the topological spaces that embed into an @xmath2-algebraic dcpo as its subset of non - finite elements .",
    "the equivalence between ( 1 ) and ( 4 ) below strengthens this result .",
    "[ thm : qpolish ] the following are equivalent for a topological space @xmath3 :    1 .",
    "@xmath3 is quasi - polish ; 2 .",
    "@xmath3 is countably based and there is a quasi - metric @xmath0 that makes @xmath34 a smyth - complete quasi - metric space ; 3 .",
    "there is a quasi - metric @xmath0 that makes @xmath34 an yoneda - complete quasi - metric space with an @xmath2-continuous poset of formal balls ; 4 .",
    "@xmath3 has an @xmath2-quasi - ideal model .",
    "the previous discussion shows the implication @xmath918 , in particular .",
    "@xmath423 is by definition .",
    "@xmath919 is by proposition  [ prop : qideal : omegamodel ] .",
    "it remains to show @xmath430 .",
    "assume @xmath34 smyth - complete .",
    "in particular , it is yoneda - complete and continuous . we need to show that @xmath33 is @xmath2-continuous , and we exhibit a countable basis to that end .",
    "let @xmath920 be the symmetrization of @xmath0 : @xmath921 .",
    "since @xmath3 is countably based in the open ball topology of @xmath0 ( which coincides with the @xmath0-scott topology ) , it has a countable subset @xmath715 that is dense with respect to the open ball topology of @xmath920 .",
    "in fact , this is an equivalence , due to h .-",
    "a. knzi @xcite , and mentioned as proposition  13 in @xcite ( see also ( * ? ? ?",
    "* lemma  6.3.48 ) ) : a quasi - metric space has a countably - based open ball topology if and only if its symmetrization has a countable dense subset . let @xmath823 be the countable set of formal balls @xmath26 with @xmath717 and @xmath29 rational .    fix a formal ball @xmath239 , and consider @xmath922 . given finitely many elements @xmath923 , ",
    ", @xmath295 of @xmath580 , let @xmath437 be any positive number less than or equal to @xmath924 such that @xmath925 is rational . by density , @xmath926 contains some @xmath717 . by symmetry , @xmath927 , so @xmath26 is in @xmath580 .",
    "moreover , for each @xmath133 , @xmath928 . in particular , @xmath929 , which entails @xmath930 .",
    "it follows that @xmath580 is a directed family of elements .",
    "every element @xmath26 of @xmath580 is such that @xmath44 , namely @xmath43 . by the romaguera - valero theorem , @xmath931 ,",
    "so every element of @xmath580 is way - below @xmath239 .",
    "the net @xmath932 is cauchy - weightable by definition , and @xmath54 is its limit in the open ball topology of @xmath933 : indeed every open neighborhood of @xmath54 in that topology contains an open ball @xmath934 for some @xmath935 , which itself contains some @xmath717 by density ; @xmath580 must contain @xmath26 for some rational positive @xmath29 , namely with @xmath29 such that @xmath936 .",
    "every limit in the open ball topology of @xmath920 is a @xmath920-limit ( * ? ? ?",
    "* proposition  7.1.19 ) .",
    "it follows that the supremum of @xmath580 is the formal ball whose center is the @xmath920-limit of @xmath932 , which is @xmath54 as we have just seen , and whose radius is @xmath937 .",
    "hence @xmath938 .    since every formal ball @xmath239 is the supremum of a directed family @xmath580 of elements from the countable set @xmath823 and way - below @xmath239",
    ", @xmath823 is a countable basis of @xmath33 .",
    "we have shown a variety of results on quasi - metric spaces , and all share one feature : they are all proved domain - theoretically , by reasoning on the poset of formal balls .",
    "this proves to be a useful complement to the view of quasi - metric spaces as enriched categories , and works by relatively simple reductions to notions and techniques from ordinary domain theory .",
    "some questions remain open , as usual .",
    "is there any form of converse to theorem  [ thm : qideal : model ] ?",
    "in general , what are the spaces that have a quasi - ideal model ?",
    "theorem  [ thm : qpolish ] answers the question completely for countably based spaces , but what about non - countably based spaces ?",
    "keye martin showed that the metric spaces that have an ideal model are exactly the complete metric spaces @xcite .",
    "however , ideal models are not only algebraic , but also first - countable , and that is crucial .",
    "there is no reason to believe that quasi - ideal models are first - countable , and continuous yoneda - complete quasi - metric spaces are not in general first - countable in their @xmath0-scott topology either ( as they contain all continuous dcpos already , see example  [ ex:<= ] and example  [ ex : scott = dscott ] ) .        samson abramsky and achim jung . domain theory . in s.",
    "abramsky , d.  m. gabbay , and t.  s.  e. maibaum , editors , _ handbook of logic in computer science _ , volume  3 , pages 1168 .",
    "oxford university press , 1994 .",
    "gerhard gierz , karl  heinrich hofmann , klaus keimel , jimmie  d. lawson , michael mislove , and dana  s. scott .",
    "continuous lattices and domains . in _ encyclopedia of mathematics and its applications _ , volume  93 .",
    "cambridge university press , 2003 .",
    "jean goubault - larrecq",
    ". continuous previsions . in jacques",
    "duparc and thomas  a. henzinger , editors , _ proceedings of the 16th annual eacsl conference on computer science logic ( csl07 ) _ , pages 542557 , lausanne , switzerland , september 2007 .",
    "springer - verlag lncs 4646 .",
    "jean goubault - larrecq .",
    "simulation hemi - metrics between infinite - state stochastic games . in roberto amadio ,",
    "editor , _ proceedings of the 11th international conference on foundations of software science and computation structures ( fossacs08 ) _ , pages 5065 , budapest , hungary , march - april 2008 .",
    "springer - verlag lncs 4962 .          hans - peter  a. knzi .",
    "an introduction to quasi - uniform spaces . in f.",
    "mynard and e.  pearl , editors , _ beyond topology _ , volume 486 of _ contemporary mathematics _ , pages 239304 .",
    "american mathematical society , 2009 ."
  ],
  "abstract_text": [
    "<S> using the notion of formal ball , we present a few easy , new results in the theory of quasi - metric spaces . with no specific order : every continuous yoneda - complete quasi - metric space is sober and convergence choquet - complete hence baire in its @xmath0-scott topology ; for standard quasi - metric spaces , algebraicity is equivalent to having enough center points ; on a standard quasi - metric space , every lower semicontinuous @xmath1-valued function is the supremum of a chain of lipschitz yoneda - continuous maps ; the continuous yoneda - complete quasi - metric spaces are exactly the retracts of algebraic yoneda - complete quasi - metric spaces ; every continuous yoneda - complete quasi - metric space has a so - called quasi - ideal model , generalizing a construction due to k. martin . </S>",
    "<S> the point is that all those results reduce to domain - theoretic constructions on posets of formal balls . </S>"
  ]
}