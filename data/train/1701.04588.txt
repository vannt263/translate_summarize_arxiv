{
  "article_text": [
    "besides the numerous attempts to implement a large - scale quantum machine for local and centralized applications such as efficient factoring  @xcite , there are other vast areas of research on interesting and unique distributed quantum algorithms with no classical variants  @xcite . perceived advantages with respect to security , time complexity or communication complexity are sufficient to motivate researchers to focus on design , implementation and optimization of the algorithms .",
    "quantum key distribution ( qkd ) protocols  @xcite and quantum leader election algorithms  @xcite are a subset of these algorithms@xcite .",
    "however , although detailed , resource - aware analyses of monolithic algorithms are increasing , the literature for equivalent analysis of distributed algorithms remains sparse .",
    "a quantum approach for solving the classical problem of _ byzantine agreement _ is another important distributed quantum algorithm , proposed by ben - or and hassidim  @xcite .",
    "their pure - theoretical distributed algorithm terminates in @xmath2 expected number of rounds in the presence of a computationally unbounded , full information and adaptive adversary .",
    "there is no similar variant in classical deterministic or randomized solutions with these unique features at the same time .",
    "distributed algorithms for solving the byzantine agreement problem are crucial for designing fault - tolerant systems in many domains .",
    "these algorithms have broad applications in areas ranging from fault - tolerant real - time and online services  @xcite , to secure and large - scale peer - to - peer services  @xcite .",
    "although quantum sharing - based byzantine agreement can be theoretically faster and more secure than the classical algorithms , a considerable gap has remained from the abstract layer to experimental layer . to fill this gap",
    ", we must address challenges ranging from finding a practical architecture for quantum processing elements in each independent node to consideration of a quantum - based infrastructure for communication known as a _",
    "quantum repeater network ( qrn ) _ , by using entanglement and teleportation@xcite .",
    "analysis of faults in end - nodes and network imperfections in comparison to the ideal model of the original algorithm ( which assumes perfect computation in each node and a perfect point - to - point quantum communication link between each pair ) increase the complexity of the problem .",
    "we face some questions about the quantum architecture of the abstract algorithm in addition to computational and communication resources required for running this algorithm . in this work",
    "we have :    * extracted the minimal architecture requirements for the quantum part of the qba protocol , * proposed two optimization techniques for the architecture and circuit for a minimum setup of qba with 5 nodes , and * estimated computation and communication costs for the minimum setup , including required fidelity .",
    "the remainder of the paper is organized as follows : in section  [ sec : preliminary ] , we review classical and quantum aided byzantine agreement and quantum repeater networks .",
    "a high level analysis of the qba protocol is presented in section  [ sec : highlevelanalysis ] . in section  [ sec :",
    "design ] , the overall architecture design is proposed .",
    "we provide required optimization techniques in section  [ sec : implementation ] .",
    "the assessment results is shown in section  [ sec : result ] .",
    "finally we conclude the paper in section  [ sec : conclusion ] .",
    "in this section , we review essential concepts and related background . we start with the standard definition of classical byzantine agreement and history of byzantine - tolerant solutions .",
    "we continue with the first scalable quantum sharing - based byzantine agreement proposed by ben - or and hassidim in  @xcite .",
    "a general review of the network requirements for execution of the algorithm concludes this section .",
    "the history of the byzantine agreement problem goes back to a proposal by lamport et al . for defining a more sophisticated form of fault model with active and malicious behavior , now known as byzantine faults  @xcite . tolerating this form of the fault which is stronger than fail - stop faults , requires more computation and communication resources in a distributed systems . to analyze the behavior of this type of fault , lamport et al .",
    "employed the colorful metaphor of a distributed system as a group of byzantine generals arrayed around a city , trying to decide as a group whether to attack or retreat .",
    "it must be assumed that less than third of these generals are traitors ( active fault as an internal adversary ) .",
    "the mission of the distributed generals will be successful if all the loyal generals agree on a unique command ( attack or retreat ) in the presence of inconsistent messages sent by traitors ( byzantine faults ) , otherwise the protocol fails . in this problem ,",
    "all communication is done by messenger . from the communication point of view , byzantine agreement is a form of reliable broadcast between multiple nodes in a network which supports point to point channels between nodes .",
    "one of the first attempts to exploit quantum advantages in a weaker version of agreement ( known as detectable broadcast ) as a form of reliable broadcast is presented by fitzi et .",
    "al . in  @xcite",
    "although the work does nt solve lamport s original problem , the solution is suitable for a small - scaled distributed systems ( with 3 nodes ) in a detectable broadcast application instead of byzantine agreement .     &",
    "@xcite & @xcite & @xcite + round & & & + complexity & @xmath3 & @xmath4 & @xmath2 + & & & +    in this paper , the focus is on ben - or and hassidim s algorithm .",
    "they proposed a scalable solution for creating a quantum aided byzantine agreement protocol by modification of feldman & micali s classical probabilistic algorithm  @xcite to share and verify a known quantum state , instead of sharing and verifying classical random numbers@xcite .",
    "ben - or and hassidim s algorithm is based on the following assumptions :    * there exists a full - duplex ideal quantum channel between each pair of players ( end - nodes ) .",
    "note that during execution of the algorithm we also need an ideal classical channel between each pair of the players .",
    "* to tolerate an upper bound on the number of faulty players ( @xmath5 ) , the communication model need to be synchronous .",
    "each round consists of two separate phases : a communication phase and a computation phase . for the asynchronous case ,",
    "they prove the effectiveness of their algorithm with an upper bound of @xmath6 .",
    "* the adversary can be adaptive , full information and computationally unbounded .    at the end of algorithm execution ,",
    "the agreement between all non - faulty players , the validity of the output between them and termination of the algorithm ( with the probability of 1 ) are guaranteed .",
    "the algorithm can be analyzed from two points of view :    1 .",
    "performance analysis under security assumptions : the algorithm requires a constant number of expected rounds in the presence of a full information adversary with upper bound of malicious players @xmath7 between @xmath8 players ( @xmath9 ) . table [ tab : roundcomplexity ] shows the upper bound of the round complexity in classical deterministic  @xcite , classical randomized  @xcite and quantum - aided algorithms  @xcite .",
    "security analysis under performance assumptions : as another view , the quantum algorithm is more secure than deterministic and randomized algorithm in the case of the lowest bound of round complexity . if we analyze the security of byzantine agreement protocols for fixed - round algorithms , we get the result similar to table [ tab : securityqba ] .",
    "there is no fixed - round , deterministic algorithm with the strongest type of adversaries ( adaptive , computationally unbounded and full information )  @xcite . for the case of the randomized algorithms ,",
    "the best available algorithm suffers from the assumption of communication security between each pair of non - faulty nodes  @xcite .     & & @xcite & @xcite + adaptive adv .",
    "& & yes & yes + unbounded adv . &",
    "no solution & yes & yes + full info . adv .",
    "& & no & yes +    we will describe the details of the algorithm in addition to its theoretical behavior in the next section .",
    "execution of fundamentally distributed quantum algorithms requires a quantum - based solution for communication known as a _ quantum repeater network ( qrn ) _",
    "@xcite ( fig .",
    "[ fig : qrn-00 ] ) .",
    "quantum repeater networks provide an efficient infrastructure for distributed systems by using entanglement , teleportation and some forms of error detection and correction . in these networks",
    ", information could be represented by entangled states and a link between two quantum nodes creates entangled states supporting quantum teleportation .",
    "purification and entanglement swapping repeaters  @xcite , error correction - based repeaters  @xcite and quasi - asynchronous  @xcite repeaters have been proposed for qrns  @xcite .        despite many ongoing demonstrations of quantum key distribution ( qkd ) application without the benefits of entangled repeater networks ,",
    "the research on architecture analysis and design of other promising distributed quantum applications is rare and narrow . to the best of our knowledge",
    ", there is no detailed analysis and design for quantum - aided byzantine agreement algorithm .",
    "therefore , there is a need for analysis of the minimum requirements in quantum repeater networks for complete execution of quantum byzantine agreement .",
    "the modeling must be extended beyond that described by ben - or and hassidim  @xcite .",
    "in particular , the algorithm as proposed has been analyzed assuming only pure states , and without reference to the demands made on the repeater network .    for the remaining sections , the focus will be on finding appropriate answers for the following questions :    * what are the required quantum resources for qba protocol ? *",
    "how resilient is it to network and gate error ? *",
    "is it practical and attractive in the real world ?",
    "* can we use qba as an early demonstration application of quantum repeater networks ?    for exploration of an efficient solution , we need to analyze the relevant part of graded verifiable quantum secret sharing ( vqss )  @xcite and the qba protocol in detail , and determine the overall architecture of the quantum processing elements as will be presented in the next section .",
    "in the previous section , we introduced the quantum aided byzantine agreement protocol and enumerated its features in qualitative terms . in this section",
    "we begin the quantitative analysis of the algorithm .      as shown in fig .",
    "[ fig : img01 - 1 ] , to run the quantum - aided byzantine agreement ( qba ) , all the end - nodes concurrently and independently run the agreement protocol with 3 sub - protocols .",
    "the overall protocol is based on the original randomized algorithm  @xcite and has a constant expected number of rounds . as shown in fig .",
    "[ fig : img01 - 1 ] , the sequential sub - protocols of quantum - aided byzantine agreement are @xmath10 , @xmath11 and @xmath12 . at the beginning , all nodes @xmath13 are supposed to start the protocol with an input value @xmath14 .",
    "execution of the first sub - protocol ( @xmath10 ) advances toward an agreement for non - faulty and uncertain nodes .",
    "the other sub - protocols @xmath11 and @xmath12 are executed sequentially after @xmath10 .",
    "they are pure classical protocols for biasing the outcome of the coin flipping procedure into zero or one respectively .",
    "the only quantum part of all of these sub - protocols is in the quantum aided oblivious common coin procedure of sub - protocol @xmath10 , labeled qocc .",
    "qocc is a modification of the original oblivious common coin ( occ ) procedure for independent and random coin flipping . in the quantum version ,",
    "the procedure requires sufficiently random numbers among the nodes to be generated .",
    "this procedure can be successfully applied by sharing the following quantum state : @xmath15 in the above equation @xmath8 is the number of end - nodes in the distributed system and @xmath16 is a known quantum state for producing sufficiently random numbers between the nodes .      in general , a secret sharing procedure can be effectively used to generate a common coin between the distributed nodes in the presence of a limited set of faulty nodes . for this procedure ,",
    "one of the end - nodes can be selected as a dealer to share known quantum state @xmath16 . to avoid cheating from a faulty dealer , the verifiable version of secret",
    "sharing has been employed .",
    "the original state @xmath16 is encoded by the dealer into a multi - qubit register :    @xmath17    in the above equation , @xmath18 is the encoded state of the original state by using a quantum error correction code such as quantum reed - solomon code  @xcite .",
    "as described in the next sections , the encoded state is shared by the dealer and if the dealer is honest , the shared state can verified by all the honest nodes . for this procedure ,",
    "a quantum error correction scheme is employed .",
    "the encoded qubits are shared between all nodes by using a variant of verifiable quantum secret sharing ( vqss ) described in the next section  @xcite .",
    "in the modified version of vqss ( known as graded vqss ) , the players independently run three phases : the sharing phase , the verification phase and the measurement phase  @xcite . in general , after sharing and verification of the known state @xmath16 , the players measure their remaining qubits .",
    "the results produce sufficient random numbers .",
    "the only difference between the original vqss and graded vqss is replacement of ideal broadcast in  @xcite with the gradecast procedure in  @xcite .",
    "the overall analysis of all phases of quantum aided byzantine agreement will be presented in the next section .",
    "the protocol as defined calls for p - level quantum variables ( qupits ) with the minimum prime number @xmath19 which is larger than number of nodes @xmath8 ( @xmath20 ) . in our implementation we encode them in @xmath21 qubits , because bell pairs support only distribution of qubits , and error correction circuits for addition , and physical systems are all best developed for two - level systems .",
    "there are two sub - phases to sharing , with an agreed upon security parameter @xmath22 .",
    "this parameter is employed to improve the probability of capturing a dishonest dealer with probability on the order of @xmath23 .",
    "in the first level , @xmath24 qupit registers are prepared by the dealer .",
    "the sharing phase continues by encoding and sharing the received qubits between all nodes .    in this phase",
    "a two level tree is created and distributed among the nodes . in the first level ,",
    "@xmath24 qupit registers are prepared by the dealer .",
    "the first register is the encoded state of the state @xmath16 ( @xmath18 ) . in the second level ,",
    "the prepared system is also encoded and distributed by other nodes using additional qupit systems . as shown in fig .",
    "[ fig : vqss - phases-01 ] , the protocol starts with a dealer s action for sharing the qupits of encoded @xmath16 ( @xmath18 ) .",
    "the dealer is considered to be one of the participant nodes in the distributed system and like any other player may be traitorous .",
    "the sharing phase continues by encoding and sharing the received qubits between all nodes .",
    "after sharing and encoding the known state by the dealer and then the others , all the non - faulty nodes need to be confident about the correctness of the shared quantum state .",
    "a verification phase is executed to ensure that the dealer has shared a recoverable quantum state .",
    "the verification phase is applied by each node separately . in this phase ,",
    "all nodes apply local quantum operations on their shares .",
    "each node measures some of the remaining qubits , step by step .",
    "the results of the measurements will be distributed by using a classical gradecast protocol .      in the measurement phase",
    ", the remaining qubits will be measured by all nodes and distribute the sufficiently random numbers as the required routine in the oblivious common coin procedure .",
    "to establish the node architecture , we extracted the requirements for a minimum setup for vqss .",
    "we require 5 nodes and need to set the prime number @xmath19 to be 7 for this setup . the security parameter ( @xmath22 ) is selected to have the value two .",
    "these parameters lead to a minimum classical - quantum distributed system with five nodes which tolerates one malicious node inside the system .",
    "the communication design of the system for execution of qba protocol is based on the following assumptions :    * both reliable classical and quantum channels exist between each pair of nodes . * for quantum communication ,",
    "the communication resource is bell pairs .",
    "we focus on bell states instead of w state or ghz states in consideration of the capabilities of quantum repeater networks . *",
    "the bell pairs may have fidelity @xmath25 .",
    "the above assumptions result in a complete graph topology .",
    "although the protocol requires expected constant number of rounds to be successfully completed , each round is computationally intensive , in addition to the high rate quantum and classical communications .",
    "this requires long - live connections between each pair of nodes .",
    "since the encoding and sharing scheme for the data qubits is generally similar for the dealer and the other players , the general architecture is the same .",
    "each player applies the encoding scheme as shown in fig .",
    "[ fig : encoder - arch-01 ] . as describe in the previous section , for the sharing phase",
    "we need two level encoding .",
    "the first one is applied by the dealer and the last one is applied by other players .          before the verification phase",
    ", each player has distributed the encoded qubits and in this phase the non - faulty nodes can verify the correctness of the original share ( encoded by the dealer ) . the required architecture for each node is shown in fig .",
    "[ fig : verificationarch-02_1 ] . each player is required to have a quantum verifier module for every other node in the network .",
    "one of the main part of the quantum verifier module is modular multiplication and addition ( @xmath26 ) described as below : @xmath27    the other components of quantum verifier consist of the quantum fourier transform ( @xmath28 ) and its inverse ( @xmath29 ) . the required module for these operations is presented in fig .",
    "[ fig : verificationarch-02_1 ] .          in the last phase ,",
    "the only internal operation is measurement of the remaining qubits .",
    "since it is not required to use any specific quantum operation , it may be considered as the simplest part of the protocol . but maintaining the remaining qubits is considered to be an important challenge for this phase .",
    "the result of the measurement will be gradecast by the corresponding node .",
    "in this section we present some techniques for implementing and optimizing the quantum architecture level and quantum circuit level . for the first level , we apply resource sharing in a pipelined approach , and for the last one we propose an efficient low - cost modulo 7 classical - quantum multiplier .      to reduce the number of required quantum operations , reusing the quantum modules should be considered . in this technique",
    ", it is not required that all the modules be available at the same time . in the verification circuit , since multiplication and addition ( @xmath26 ) and @xmath28 ( @xmath29 ) are dependent on complete execution of the previous @xmath26 and @xmath28 ( @xmath29 ) circuits , a resource sharing scheme has been designed to reduce the number of quantum modules and active number of qubits . as shown in fig .",
    "[ fig : parallel-01 ] , we divide the execution time into 7 stages and in each stage a subsection of the required quantum operations is bound to the designed quantum modules .",
    "although the overall execution time is increased by one stage in comparison to full circuit architecture execution time , the number of required quantum modules decreased dramatically . by applying this technique , in each verification module and in the worst case",
    ", we need to implement two @xmath26 and one @xmath28 and/or @xmath29 , instead of 8 active @xmath26 modules , 4 active @xmath28 and @xmath29 modules .",
    "in addition to reduction of the number of quantum modules , this optimization technique can reduce the required number of active qubits in the architecture .      as shown in the previous section ,",
    "the most challenging computational part of the quantum modules is the circuit for computation of multiplication and addition modulo @xmath19 ( @xmath26 ) .",
    "the concept for standard design of quantum circuit for computation of modular multiplication is based on modular addition . motivated by designing efficient modular multiplication for the integer factorization application ,",
    "many researchers have proposed low cost quantum circuits  @xcite .",
    "the standard approach for computation of @xmath30 ( for classical integers @xmath8 and @xmath31 and quantum variable @xmath32 ) is using computation of modular addition @xmath33 .",
    "although this problem is similar to the state of the art modular multiplication ( and modular addition ) , the concept of computation and the resulting circuit may be different from the state of the art computations and related circuits .",
    "the first difference is related to modulo computation . for integer factorization ,",
    "the modulo @xmath8 is a parameter and can be changed for each new session .",
    "in contrast , the modulo @xmath19 depends on the upper bound of number of the players in qba protocol , and can be considered a fixed number for a designed quantum distributed system .",
    "the next difference is related to the classical operand @xmath31 in integer factorization and classical random numbers @xmath14 in modular multiplication and addition circuit of the verification module .",
    "for the first one the operand can be implicitly considered in the circuit design , but for the last one , the random number must be present as a parameter for the modular multiplication .",
    "these differences cause a need for rethinking novel quantum circuits to be used in the qba protocol .",
    "thus we have proposed a multiplier modulo 7 for the minimum setup .",
    "we havent followed the standard approach in integer factorization and attempted to compute the multiplication modulo 7 directly . the proposed modular multiplier is shown in fig .",
    "[ fig : proposedmultiplier-03 ] . note that @xmath34 in the protocol and the enable classical signals for 3 swap gates ( @xmath35 ) and not gates ( @xmath36 )",
    "are based on the following boolean functions : @xmath37    @xmath38    @xmath39    @xmath40",
    "in this section the required quantum resources have been analyzed and enumerated for the minimum setup described in section [ sec : design ] .",
    "for the analysis the following criteria have been considered :    * number of qubits per node * number of quantum operations ( including total quantum cost and circuit depth ) * number of bell pairs consumed by the application      for analysis of quantum cost in the end - nodes , we consider the basic quantum circuits to be used in the architecture .",
    "the most complex quantum operations are in the verification phase .",
    "we used the basic quantum circuits for 3-qubit @xmath28 and @xmath29 . as we described in the previous section ,",
    "the most challenging operation is related to modular multiplication and addition ( @xmath26 ) .",
    "we consider five different designs for analysis of the quantum depth and total quantum cost in the verifier module :    * _ vbe96 : _ use the adder , modulo adder and modulo multiplier proposed in  @xcite . *",
    "_ cdkm04 : _ replace the the basic adder of  @xcite by the second adder proposed in  @xcite . *",
    "_ vi05 : _ use quantum addition and modulo addition circuits of cdkm04 .",
    "the only difference is replacement of the modulo multiplier in  @xcite by the multiplier proposed in  @xcite . *",
    "_ custom : _ use the proposed multiplier modulo 7 instead of the previous standard design . *",
    "_ custom+pipelined : _ apply the proposed pipeline technique and using the circuit in the previous design",
    ".    to evaluate the total cost of the required quantum operations , we estimate the required quantum gates based on the cost of cnot as the basic gate .    due to reduction of the number of ancilla by using the proposed multiplier modulo 7 ,",
    "we gain atleast 20% improvement in this parameter .",
    "fig [ fig : result - both-01 ] plots the number of qubits and total depth of the quantum circuit .        in this paper ,",
    "quantum error correction has not been not applied for the architecture because the target was to present a lightweight and simple design .",
    "this architecture can be effectively optimized to be demonstrated in experiments . in this situation ,",
    "the error threshold for local gates must be considered as an important criterion .",
    "we evaluate the error threshold based on the estimation of @xmath41 parameter , where @xmath42 is the total depth of the circuit and @xmath43 is the number of qubits in each node .",
    "the result is shown in fig .",
    "[ fig : threshold-01 ] .",
    "to estimate traffic cost , we divide the result into two sections : the first one is related to the quantum communication cost which is based on transmission of bell pairs between each pair of nodes in the network .",
    "we also consider the cost for sending classical messages during the execution of the protocol .",
    "the results are shown in table [ tab : networkcost ] .",
    "destination & quantum cost & classical cost + & & comm type & node & node & ( bell pairs ) & ( bits ) + 1(a ) & sharing & unicast & dealer & all nodes & 108 & 0 + 1(b ) & sharing & unicast & node(i ) & node ( j ) & 540 & 0 + 2(a ) & verification & broadcast & ttp & all nodes & 0 & 30 + 2(b ) & verification & gradecast & all nodes & all nodes & 0 & 14160 + 2(c ) & verification & broadcast & ttp & all nodes & 0 & 30 + 2(d ) & verification & gradecast & all nodes & all nodes & 0 & 4720 + 3(b ) & measurement & gradecast & all nodes & all nodes & 0 & 2360 + total & - & - & - & - & 648 & 21300 +",
    "in this paper , we described an optimized quantum architecture for end - nodes in quantum aided byzantine agreement protocol .",
    "the node architecture in the protocol is not as complex as that required for e.g. factoring a large number but at minimum of @xmath44 qubits per node , the experimental demands are substantial compared to current capabilities . in addition , the number of required bell pair is in the order of the number required for quantum key distribution .    during the design process we found that modular classical - quantum multiplication and fully modular quantum addition are the most critical part of the quantum computation in the qba protocol .",
    "this requires novel circuit design that is fully depends on the minimum prime number @xmath19 satisfy the inequality ( @xmath20 ) .",
    "the other requirement is related to long lived qubits to maintain the shared and encoded qubits .",
    "this work is supported by jsps kakenhi grant number 25280034 .",
    "the authors would like to thank shota nagayama , shigeru yamashita , shigeya suzuki , takaaki matsuo and takahiko satoh for valuable technical conversations .",
    "16 p. w. shor , `` algorithms for quantum computation : discrete logarithms and factoring . '' _ in proc .",
    "35th annual symposium on foundations of computer science , _ 1994 ."
  ],
  "abstract_text": [
    "<S> quantum aided byzantine agreement ( qba ) is an important distributed quantum algorithm with unique features in comparison to classical deterministic and randomized algorithms , requiring only a constant expected number of rounds in addition to giving higher level of security . in this paper , we analyze details of the high level multi - party algorithm , and propose elements of the design for the quantum architecture and circuits required at each node to run the algorithm on a quantum repeater network . </S>",
    "<S> our optimization techniques have reduced the quantum circuit depth by 44% and the number of qubits in each node by 20% for a minimum five - node setup compared to the design based on the standard arithmetic circuits . these improvements lead to an architecture with @xmath0 per node and error threshold @xmath1 for the total nodes in the network . </S>",
    "<S> the evaluation of the designed architecture shows that to execute the algorithm once on the minimum setup , we need to successfully distribute a total of 648 bell pairs across the network , spread evenly between all pairs of nodes . </S>",
    "<S> this framework can be considered a starting point for establishing a road - map for light - weight demonstration of a distributed quantum application on quantum repeater networks .    </S>",
    "<S> january 2017    _ keywords _ : distributed quantum algorithms , byzantine agreement , quantum repeater network ( qrn ) </S>"
  ]
}