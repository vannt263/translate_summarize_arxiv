{
  "article_text": [
    "detecting clusters or communities in real - world graphs such as large social networks , web graphs , and biological networks is a problem of considerable practical interest that has received a great deal of attention  @xcite .",
    "a `` network community '' ( also sometimes referred to as a module or cluster ) is typically thought of as a group of nodes with more and/or better interactions amongst its members than between its members and the remainder of the network  @xcite .    to extract such sets of nodes one typically chooses an objective function that captures the above intuition of a community as a set of nodes with better internal connectivity than external connectivity .",
    "then , since the objective is typically np - hard to optimize exactly  @xcite , one employs heuristics  @xcite or approximation algorithms  @xcite to find sets of nodes that approximately optimize the objective function and that can be understood or interpreted as `` real '' communities .",
    "alternatively , one might define communities operationally to be the output of a community detection procedure , hoping they bear some relationship to the intuition as to what it means for a set of nodes to be a good community  @xcite .",
    "once extracted , such clusters of nodes are often interpreted as organizational units in social networks , functional units in biochemical networks , ecological niches in food web networks , or scientific disciplines in citation and collaboration networks  @xcite .    in applications , it is important to note that heuristic approaches to and approximation algorithms for community detection often find clusters that are systematically `` biased , '' in the sense that they return sets of nodes with properties that might be substantially different than the set of nodes that achieves the global optimum of the chosen objective .",
    "for example , many spectral - based methods tend to find compact clusters at the expense that they are not so well separated from the rest of the network ; while other methods tend to find better - separated clusters that may internally be `` less nice . ''",
    "moreover , certain methods tend to perform particularly well or particularly poorly on certain kinds of graphs , _",
    "e.g. _ , low - dimensional manifolds or expanders .",
    "thus , drawing on this experience , it is of interest to compare these algorithms on large real - world networks that have many complex structural features such as sparsity , heavy - tailed degree distributions , small diameters , etc .",
    "moreover , depending on the particular application and the properties of the network being analyzed , one might prefer to identify specific types of clusters .",
    "understanding structural properties of clusters identified by various algorithmic methods and various objective functions can guide in selecting the most appropriate graph clustering method in the context of a given network and target application .    in this paper",
    ", we explore a range of different community detection methods in order to elucidate these issues and to understand better the performance and biases of various network community detection algorithms on different kinds of networks . to do so , we consider a set of more than 40 networks ; 12 common objective functions that are used to formalize the concept of community quality ; and 8 different classes of approximation algorithms to find network communities .",
    "one should note that we are not primarily interested in finding the `` best '' community detection method or the most `` realistic '' formalization of a network community .",
    "instead , we aim to understand the structural properties of clusters identified by various methods , and then depending on the particular application one could choose the most suitable clustering method .",
    "we describe several classes of empirical evaluations of methods for network community detection to demonstrate the artifactual properties and systematic biases of various community detection objective functions and approximation algorithms .",
    "we also discuss several meta - issues related to community detection algorithms in very large graphs , including whether or not existing algorithms are sufficiently powerful to recover interesting communities and whether or not meaningful communities exist at all . also in contrast to previous attempts to evaluate community detection algorithms and/or objective functions , we consider a size - resolved version of the typical optimization problem .",
    "that is , rather than simply fixing an objective and asking for an approximation to the best cluster of any size or some fixed partitioning , we ask for an approximation to the best cluster for every possible size .",
    "this provides a _ much _ finer lens with which to examine community detection algorithms , since objective functions and approximation algorithms often have non - obvious size - dependent behavior .",
    "the rest of the paper is organized as follows .",
    "section  [ sec : related ] gives the background and surveys the rich related work in the area of network community detection .",
    "then , in section  [ sec : pieces ] , we compare structural properties of clusters extracted by two clustering methods based on two completely different computational paradigms  a spectral - based graph partitioning method local spectral and a flow - based partitioning algorithm metis+mqi ; and in section  [ sec : otheralgs ] , we extend the analyses by considering related heuristic - based clustering algorithms that in practice perform very well .",
    "section  [ sec : scores ] then focuses on 11 different objective functions that attempt to capture the notion of a community as a set of nodes with better intra- than inter - connectivity . to understand the performance of various community detection algorithms at different size scales we compute theoretical lower bounds on the conductance community - quality score in section  [ sec : bounds ] .",
    "we conclude in section  [ sec : conclusion ] with some general observations .",
    "here we survey related work and summarize our previous work , with an emphasis on technical issues that motivate this paper .",
    "a great deal of work has been devoted to finding communities in large networks , and much of this has been devoted to formalizing the intuition that a community is a set of nodes that has more and/or better links between its members than with the remainder of the network . very relevant to our work",
    "is that of kannan , vempala , and vetta  @xcite , who analyze spectral algorithms and describe a community concept in terms of a bicriterion depending on the conductance of the communities and the relative weight of between - community edges .",
    "flake , tarjan , and tsioutsiouliklis  @xcite introduce a similar bicriterion that is based on network flow ideas , and flake _ et al . _",
    "@xcite defined a community as a set of nodes that has more edges pointing inside the community than to the rest of the network .",
    "similar edge - counting ideas were used by radicchi _",
    "et al . _",
    "@xcite to define and apply the notions of a strong community and a weak community .    within the `` complex networks '' community , girvan and newman  @xcite proposed an algorithm that used `` betweenness centrality '' to find community boundaries . following this ,",
    "newman and girvan  @xcite introduced _",
    "modularity _ as an _ a posteriori _ measure of the overall quality of a graph partition .",
    "modularity measures internal ( and not external ) connectivity , but it does so with reference to a randomized null model .",
    "modularity has been very influential in recent community detection literature , and one can use spectral techniques to approximate it  @xcite .",
    "however , guimer , sales - pardo , and amaral  @xcite and fortunato and barthlemy  @xcite showed that random graphs have high - modularity subsets and that there exists a size scale below which modularity can not identify communities .",
    "finally , we should note several other lines of related work .",
    "first , the local spectral algorithm of andersen , chung , and lang  @xcite was used by andersen and lang  @xcite to find ( in a scalable manner ) medium - sized communities in very large social graphs .",
    "second , other recent work has also focused on developing local and/or near - linear time heuristics for community detection include  @xcite .",
    "third , there also exists work which views communities from a somewhat different perspective . for recent reviews of the large body of work in this area ,",
    "see  @xcite .",
    "[ fig : intro ]    we model each network by an undirected graph , in which nodes represent entities and edges represent interactions between pairs of entities .",
    "we perform the evaluation of community detection algorithms in a large corpus of over @xmath0 social and information networks .",
    "the networks we studied range in size from tens of nodes and scores of edges up to millions of nodes and tens of millions of edges ; and they were drawn from a wide range of domains , including large social networks , citation networks , collaboration networks , web graphs , communication networks , citation networks , internet networks , affiliation networks , and product co - purchasing networks . in the present work we focus on a subset of these . in particular , we consider a bipartite authors - to - papers",
    "network of dblp ( authtopap - dblp ) , enron email network ( email - enron ) , a co - authorship network of arxiv astro physics papers ( coauth - astro - ph ) , and a social network of epinions.com ( epinions ) .",
    "see  @xcite for further information and properties of these networks .    even though we consider various notions of community score we will primarily work with _ conductance _ , which arguably is the simplest notion of cluster quality , as it can be simply thought of as the ratio between the number of edges inside the cluster and the number of edge leaving the cluster  @xcite .",
    "more formally , _ conductance",
    "_ @xmath1 of a set of nodes @xmath2 is @xmath3 , where @xmath4 denotes the size of the edge boundary , @xmath5 , and @xmath6 , where @xmath7 is the degree of node @xmath8",
    ". thus , in particular , more community - like sets of nodes have _ lower _ conductance . for example in figure  [ fig : intro](left ) , sets @xmath9 and @xmath10 have conductance @xmath11 , so the set of nodes @xmath10 is more community - like than the set @xmath9 .",
    "conductance captures a notion of `` surface area - to - volume , '' and thus it is widely - used to capture quantitatively the gestalt notion of a good network community as a set of nodes that has better internal- than external - connectivity  @xcite .",
    "we then generalize the notion of the quality of a single cluster into a size resolved version . using a particular measure of network community quality @xmath12 , _",
    "e.g. _ , conductance or one of the other measures described in section  [ sec : scores ] , we then define the _ network community profile ( ncp ) _  @xcite that characterizes the quality of network communities as a function of their size . for every @xmath13 between @xmath14 and half the number of nodes in the network .",
    "] , we define @xmath15 .",
    "that is , for every possible community size @xmath13 , @xmath16 measures the score of the most community - like set of nodes of that size , and the ncp measures @xmath17 as a function of @xmath13 .",
    "for example , in figure  [ fig : intro](middle ) we use conductance as a measure of cluster quality and for @xmath18 , among all sets of @xmath19-nodes , @xmath10 has best conductance , and thus @xmath20 . similarly , @xmath21 and",
    "@xmath21+@xmath22 denote the best conductance sets on @xmath23 and @xmath24 nodes , respectively .    just as the magnitude of the conductance provides information about how community - like is a set of nodes , the shape of the ncp provides insight into how well expressed",
    "are network communities as a function of their size .",
    "moreover , the ncp also provides a lens to examine the quality of clusters of various sizes .",
    "thus in the majority of our experiments we will examine and compare different clustering algorithms and objective functions through various notions of the ncp plot and other kinds of structural metrics of clusters and how they depend / scale with the size of the cluster .",
    "moreover , the shape of the ncp is also interesting for a very different reason .",
    "it gives us a powerful way to quantify and summarize the large - scale community structure of networks .",
    "we  @xcite found that the ncp behaves in a characteristic manner for a range of large social and information networks : when plotted on log - log scales , the ncp tends to have a universal `` v '' shape ( figure  [ fig : intro](right ) ) . up to a size scale of about @xmath0 nodes , the ncp decreases , which means that the best - possible clusters are getting progressively better with the increasing size .",
    "the ncp then reaches the minimum at around @xmath25 and then gradually increases again , which means that at larger size scales network communities become less and less community - like .",
    "( this should be contrasted with behavior for mesh - like networks , road networks , common network generation models , and small commonly - studied networks , for which the ncp is either flat or downward - sloping  @xcite . )",
    "the shape of the ncp can be explained by an onion - like `` nested core - periphery '' structure , where the network consists of a large core ( slightly denser and more expander - like than the full graph , but which itself has a core - periphery structure ) and a large number of small very well - connected communities barely connected to the core  @xcite . in this context , it is important to understand the characteristics of various community detection algorithms in order to make sure that the shape of ncp is a property of the network rather than an artifact of the approximation algorithm or the function that formalizes the notion of a network community .",
    "we compare different clustering algorithms and heuristics .",
    "we focus our analyses on two aspects .",
    "first , we are interested in the quality of the clusters that various methods are able to find .",
    "basically , we would like to understand how well algorithms perform in terms of optimizing the notion of community quality ( conductance in this case ) .",
    "second , we are interested in quantifying the structural properties of the clusters identified by the algorithms .",
    "as we will see , there are fundamental tradeoffs in network community detection  for a given objective function , approximation algorithms are often biased in a sense that they consistently find clusters with particular internal structure .",
    "we break the experiments into two parts .",
    "first , we compare two graph partitioning algorithms that are theoretically well understood and are based on two very different approaches : a spectral - based local spectral partitioning algorithm , and the flow - based metis+mqi .",
    "then we consider several heuristic approaches to network community detection that work well in practice .      in this section",
    "we compare the local spectral partitioning algorithm  @xcite with the flow - based metis+mqi algorithm .",
    "the latter is a surprisingly effective heuristic method for finding low - conductance cuts , which consists of first using the fast graph bi - partitioning program metis  @xcite to split the graph into two equal - sized pieces , and then running mqi , an exact flow - based technique  @xcite for finding the lowest conductance cut whose small side in contained in one of the two half - graphs chosen by metis .",
    "each of those two methods ( local spectral and metis+mqi ) was run repeatedly with randomization on each of our graphs , to produce a large collection of candidate clusters of various sizes , plus a lower - envelope curve .",
    "the lower - envelope curves for the two algorithms were the basis for the plotted ncp s in the earlier paper  @xcite . in the current paper",
    "the lower - envelope curves for local spectral and metis+mqi are plotted respectively as a red line and a green line in figure  [ fig : intro](right ) , and as pairs of black lines in figure  [ compactness - vs - cuts - fig](top ) and figures  [ other - algos - fig ] and  [ other - algos - fig - lbfig ] .",
    "note that the metis+mqi curves are generally lower , indicating that this method is generally better than local spectral at the nominal task of finding cuts with low conductance .",
    "however , as we will demonstrate using the scatter plots of figure  [ compactness - vs - cuts - fig ] , the clusters found by the local spectral method often have other virtues that compensate for their worse conductance scores . as an extreme example , many of the raw metis+mqi clusters are internally disconnected , which seems like a very bad property for an alleged community . by contrast , the local spectral method always returns connected clusters . acknowledging that this is a big advantage for local spectral",
    ", we then modified the collections of raw metis+mqi clusters by splitting every internally disconnected cluster into its various connected components .",
    "then , in all scatter plots of figure  [ compactness - vs - cuts - fig ] , blue dots represent raw local spectral clusters , which are internally connected , while red dots represent broken - up metis+mqi clusters , which are also internally connected .",
    "+ conductance of connected clusters found by local spectral ( blue ) and metis+mqi ( red ) +      + cluster compactness : average shortest path length +      + cluster compactness : external vs. internal conductance    [ compactness - vs - cuts - fig ]    let us now consider the top row of scatter plots of figure  [ compactness - vs - cuts - fig ] which compares the conductance scores ( as a function of cluster size ) of the collections of clusters produced by the two algorithms .",
    "the cloud of blue points ( local spectral clusters ) lies generally above the cloud of red points ( metis+mqi clusters ) , again illustrating that local spectral tends to be a weaker method for minimizing conductance score . in more detail",
    ", we find that local spectral and metis+mqi tend to identify similar pieces at very small scales , but at slightly larger scales a gap opens up between the red cloud and the blue cloud . at those intermediate size scales ,",
    "metis+mqi is finding lower conductance cuts than local spectral .",
    "however , the local spectral algorithm returns pieces that are internally more _",
    "compact_. this is shown in the middle row of figure  [ compactness - vs - cuts - fig ] where for each of the ( connected ) pieces for which we plotted a conductance in the top row , we are now plotting the average shortest path length between random node pairs in that piece . in these plots , we see that in the same size range where metis+mqi is generating clearly lower conductance connected sets , local spectral is generating pieces with clearly shorter internal paths , _",
    "i.e. _ , smaller diameter sets .",
    "in other words , the local spectral pieces are more `` compact . ''",
    "this effect is especially pronounced in the dblp affiliation network , while it also shows up in the enron email network and the astrophysics collaboration network .",
    "moreover , we made similar observations also for many other datasets ( plots not shown ) .",
    "finally , in the bottom row of figure  [ compactness - vs - cuts - fig ] we introduce the topic of internal vs. external cuts , which is something that none of the existing algorithms is _ explicitly _ optimizing . these are again scatter plots showing the same set of local spectral and metis+mqi pieces as before , but now the @xmath26-axis is external conductance divided by internal conductance .",
    "external conductance is the quantity that we usually plot , namely the conductance of the cut which separates the cluster from the graph .",
    "internal conductance is the score of a low conductance cut _ inside _ the cluster .",
    "that is , we take the induced subgraph on the cluster s nodes and then find best conductance cut inside the cluster .",
    "we then compare the ratios of the conductance of the bounding cut and the internal conductance . intuitively , good and compact communities should have small ratios , ideally below 1.0 , which would mean that those clusters are well separated from the rest of the network and that they are also internally well - connected and hard to cut again . however , the three bottom - row plots of figure  [ compactness - vs - cuts - fig ] show the ratios .",
    "points above the horizontal line are clusters which are easier to cut internally than they were to be cut from the rest of the network ; while points below the line are clusters that were relatively easy to cut from the network and are internally well - connected .",
    "notice that here the distinction between the two methods is less clear . on the one hand",
    ", local spectral finds clusters that have worse ( higher ) bounding cut conductance , while such clusters are also internally more compact ( have internal cuts of higher conductance ) . on the other hand",
    ", metis+mqi finds clusters that have better ( lower ) bounding cut conductance but are also internally easy to cut ( have internal cut of lower conductance ) .",
    "thus when one takes the ratio of the two quantities we observe qualitatively similar behaviors .",
    "however , notice that local spectral seem to return clusters with higher variance in the ratio of external - to - internal conductance . at small size scales",
    "metis+mqi tends to give clusters of slightly better ( lower ) ratio , while at larger clusters the advantage goes to local spectral .",
    "this has interesting consequence for the applications of graph partitioning since ( depending on the particular application domain and the sizes and properties of clusters one aims to extract ) either local spectral or metis+mqi may be the method of choice .",
    "also , notice that there are mostly no ratios well below @xmath27 , except for very small sizes .",
    "this is important , as it seems to hint that large clusters are relatively hard to cut from the network , but are then internally easy to split into multiple sub - clusters .",
    "this shows another aspect of our findings : small communities below @xmath28 nodes are internally compact and well separated from the remainder of the network , whereas larger clusters are so hard to separate that cutting them from the network is more expensive than cutting them internally .",
    "community - like sets of nodes that are better connected internally than externally do nt seem to exist in large real - world networks , except at very small size scales .",
    "last , in figure  [ sprawl - plots ] , we further illustrate the differences between spectral and flow - based clusters by drawing some example subgraphs .",
    "the two subgraphs shown on the left of figure  [ sprawl - plots ] were found by local spectral , while the two subgraphs shown on the right of figure  [ sprawl - plots ] were found by metis+mqi .",
    "these two pairs of subgraphs have a qualitatively different appearance : metis+mqi pieces look longer and stringier than the local spectral pieces .",
    "all of these subgraphs contain roughly 500 nodes , which is about the size scale where the differences between the algorithms start to show up . in these cases ,",
    "local spectral has grown a cluster out a bit past its natural boundaries ( thus the spokes ) , while metis+mqi has strung together a couple of different sparsely connected clusters .",
    "( we remark that the tendency of local spectral to trade off cut quality in favor of piece compactness is nt just an empirical observation , it is a well understood consequence of the theoretical analysis of spectral partitioning methods . )    [ sprawl - plots ]      next we consider various other , mostly heuristic , algorithms and compare their performance in extracting clusters of various sizes . as a point of reference",
    "we use results obtained by the local spectral and metis+mqi algorithms .",
    "we have extensively experimented with several variants of the global spectral method , both the usual eigenvector - based embedding on a line , and an sdp - based embedding on a hypersphere , both with the usual hyperplane - sweep rounding method and a flow - based rounding method which includes mqi as the last step .",
    "in addition , special post - processing can be done to obtain either connected or disconnected sets .",
    "we also experimented with a practical version of the leighton - rao algorithm  @xcite , similar to the implementation described in  @xcite .",
    "these results are especially interesting because the leighton - rao algorithm , which is based on multi - commodity flow , provides a completely independent check on metis , and on spectral methods generally .",
    "the leighton - rao algorithm has two phases . in the first phase ,",
    "edge congestions are produced by routing a large number of commodities through the network .",
    "we adapted our program to optimize conductance ( rather than ordinary ratio cut score ) by letting the expected demand between a pair of nodes be proportional to the product of their degrees . in the second phase ,",
    "a rounding algorithm is used to convert edge congestions into actual cuts .",
    "our method was to sweep over node orderings produced by running prim s minimum spanning tree algorithm on the congestion graph , starting from a large number of different initial nodes , using a range of different scales to avoid quadratic run time .",
    "we used two variations of the method , one that produces connected sets , and another one that can also produce disconnected sets .    in top row of figure  [ other - algos - fig ] ,",
    "we show leighton - rao curves for three example graphs .",
    "local spectral and metis+mqi curves are drawn in black , while the leighton - rao curves for connected and possibly disconnected sets are drawn in green and magenta respectively . for small to medium scales ,",
    "the leighton - rao curves for connected sets resemble the local spectral curves , while the leighton - rao curves for possibly disconnected sets resemble metis+mqi curves .",
    "this further confirms the structure of clusters produced by local spectral and metis+mqi , as discussed in section  [ sec : pieces ] .",
    "+ leighton - rao : connected clusters ( green ) , disconnected clusters ( magenta ) .",
    "+      + ncp plots obtained by graclus and newman s dendrogram algorithm .",
    "+     [ other - algos - fig ]    at large scales , the leighton - rao curves shoot up and become much worse than local spectral or metis+mqi . that leighton - rao has troubles finding good big clusters is not surprising because expander graphs are known to be the worst case input for the leighton - rao approximation guarantee .",
    "large real networks contain an expander - like core which is necessarily encountered at large scales .",
    "we remark that leighton - rao does not work poorly at large scales on every kind of graph .",
    "( in fact , for large low - dimensional mesh - like graphs , leighton - rao is a very cheap and effective method for finding cuts at all scales , while our local spectral method becomes impractically slow at medium to large scales . )",
    "this means that based on the structure of the network and sizes of clusters one is interested in different graph partitioning methods should be used . while leighton - rao is an appropriate method for mesh - like graphs , it has troubles in the intermingled expander - like core of large networks .    finally , in addition to the above approximation algorithms - based methods for finding low - conductance cuts , we also experimented with a number of more heuristic approaches that tend to work well in practice .",
    "in particular , we compare graclus  @xcite and newman s modularity optimizing program ( we refer to it as dendrogram )  @xcite .",
    "graclus attempts to partition a graph into pieces bounded by low - conductance cuts using a kernel @xmath13-means algorithm .",
    "we ran graclus repeatedly , asking for @xmath29 pieces .",
    "then we measured the size and conductance of all of the resulting pieces .",
    "newman s dendrogram algorithm constructs a recursive partitioning of a graph ( that is , a dendrogram ) from the bottom up by repeatedly deleting the surviving edge with the highest betweenness centrality . a flat partitioning",
    "could then be obtained by cutting at the level which gives the highest modularity score , but instead of doing that , we measured the size of conductance of every piece defined by a subtree in the dendrogram .",
    "the bottom row of figure  [ other - algos - fig ] presents these results .",
    "again our two standard curves are drawn in black .",
    "the lower - envelopes of the graclus or dendrogram points are roughly similar to those produced by local spectral , which means both methods tend to produce rather compact clusters at all size scales .",
    "generally , graclus tends to produce a variety of clusters of better conductance than newman s algorithm .",
    "moreover , notice that in case of epinions social network and the astrophysics coauthorship network graclus tends to prefer larger clusters than the newman s algorithm .",
    "also , graclus seems to find clusters of ten or more nodes , while newmans s algorithm also extracts very small pieces . in general , clusters produced by either graclus or dendrogram are qualitatively similar to those produced by local spectral .",
    "this means that even though local spectral is computationally cheaper and easily scales to very large networks , the quality of identified clusters is comparable to that returned by techniques such as graclus and dendrogram that are significantly more expensive on large networks such as those we considered .",
    "in the previous sections , we used conductance since it corresponds most closely to the intuition that a community is a set of nodes that is more and/or better connected internally than externally . in this section , we look at other objective functions that capture this intuition and/or are popular in the community detection literature .",
    "in general there are two criteria of interest when thinking about how good of a cluster is a set of nodes .",
    "the first is the number of edges between the members of the cluster , and the second is the number of edges between the members of the cluster and the remainder of the network .",
    "we group objective functions into two groups .",
    "the first group , that we refer to as multi - criterion scores , combines both criteria ( number of edges inside and the number of edges crossing ) into a single objective function ; while the second group of objective functions employs only a single of the two criteria ( _ e.g. _ , volume of the cluster or the number of edges cut ) .",
    "let @xmath30 be an undirected graph with @xmath31 nodes and @xmath32 edges .",
    "let @xmath2 be the set of nodes in the cluster , where @xmath33 is the number of nodes in @xmath2 , @xmath34 ; @xmath35 the number of edges in @xmath2 , @xmath36 ; and @xmath4 , the number of edges on the boundary of @xmath2 , latexmath:[$c_s =    degree of node @xmath8 .",
    "we consider the following metrics @xmath12 that capture the notion of a quality of the cluster .",
    "lower value of score @xmath12 ( when @xmath38 is kept constant ) signifies a more community - like set of nodes .    *",
    "* conductance : * @xmath39 measures the fraction of total edge volume that points outside the cluster  @xcite . * * expansion : * @xmath40 measures the number of edges per node that point outside the cluster  @xcite . * * internal density : * @xmath41 is the internal edge density of the cluster @xmath2  @xcite . * * cut ratio : * @xmath42 is the fraction of all possible edges leaving the cluster  @xcite . *",
    "* normalized cut : * @xmath43  @xcite . * * maximum - odf ( out degree fraction ) : * + @xmath44 is the maximum fraction of edges of a node pointing outside the cluster  @xcite . * * average - odf : * @xmath45 is the average fraction of nodes edges pointing outside the cluster  @xcite . * * flake - odf : * @xmath46 is the fraction of nodes in @xmath2 that have fewer edges pointing inside than to the outside of the cluster  @xcite .",
    "we then generalize the ncp plot : for every cluster size @xmath13 we find a set of nodes @xmath2 ( @xmath47 ) that optimizes the chosen community score @xmath12 .",
    "we then plot community score as a function of @xmath13 .",
    "it is not clear how to design an optimization procedure that would , given a cluster size @xmath13 and the community score function @xmath12 , find the set @xmath2 that minimizes the function , _",
    "i.e. _ , is the best community .",
    "operationally , we perform the optimization the following way : we use the local spectral method which starts from a seed node and then explores the cluster structure around the seed node ; running local spectral from each node , we obtain a millions of sets of nodes of various sizes , many of which are overlapping ; and then for each such set of nodes , we compute the community score @xmath12 and find the best cluster of each size .",
    "figure  [ fig : cmtymeasures1 ] considers the above eight community scores .",
    "notice that even though scores span different ranges they all experience qualitatively similar behavior , where clusters up to size ca .",
    "100 have progressively better scores , while the clusters above ca .",
    "100 nodes become less community - like as their size increases .",
    "this may seem surprising at the first sight , but it should be somewhat expected , as all these objective functions try to capture the same basic intuition ",
    "they reward sets of nodes that have many edges internally and few pointing out of the clusters .",
    "there are , however , subtle differences between various scores . for example ,",
    "even though flake - odf follows same general trend as conductance , it reaches the minimum about an order of magnitude later than conductance , normalized cut , cut ratio score or the average - odf . on the other hand , maximum - odf exhibits the opposite behavior as it clearly prefers smaller clusters and is basically flat for clusters larger than about several hundred nodes .",
    "this is interesting as this shows the following trend : if one scores the community by the `` worst - case '' node using the out degree fraction ( _ i.e. _ , maximum - odf ) then only small clusters have no outliers and thus give good scores . when one considers the average fraction of node s edges pointing outside the cluster ( average - odf ) the objective function closely follows the trend of conductance .",
    "on the other hand , if one considers the fraction of nodes in the cluster with more of their edges pointing inside than outside the cluster ( flake - odf ) , then large clusters are preferred .",
    "next , focusing on the cut ratio score we notice that it is not very smooth , in the sense that even for large clusters its values seem to fluctuate quite a lot .",
    "this indicates that clusters of similar sizes can have very different numbers of edges pointing to the rest of the network . in terms of their internal density ,",
    "the variations are very small  the internal density reaches the maximum for clusters of sizes around 10 nodes and then quickly raises to 1 , which means larger clusters get progressively sparser . for large clusters",
    "this is not particularly surprising as the normalization factor increases quadratically with the cluster size .",
    "this can be contrasted with the expansion score that measures the number of edges pointing outside the cluster but normalizes by the number of nodes ( not the number of all possible edges ) .",
    "these experiments suggest that internal density and maximum - odf are not particularly good measures of community score and the cut ratio score may not be preferred due to high variance .",
    "flake - odf seems to prefer larger clusters , while conductance , expansion , normalized cut , and average - odf all exhibit qualitatively similar behaviors and give best scores to similar clusters .",
    "in addition , we performed an experiment where we extracted clusters based on their conductance score but then also computed the values of other community scores ( for these same clusters ) .",
    "this way we did not optimize each community score separately , but rather we optimized conductance and then computed values of other objective functions on these best - conductance pieces .",
    "the shape of the plots remained basically unchanged , which suggests that same sets of nodes achieve relatively similar scores regardless of which particular notion of community score is used ( conductance , expansion , normalized cut , or average - odf ) .",
    "this shows that these four community scores are highly correlated and in practice prefer practically the same clusters .",
    "+   +   +     [ fig : cmtymeasures1 ]      next we also consider community scores that consider a single criteria .",
    "one such example is modularity  @xcite , which is one of the most widely used methods to evaluate the quality of a division of a network into modules or communities . for a given partition of a network into clusters",
    ", modularity measures the number of within - community edges , relative to a null model of a random graph with the same degree distribution .",
    "here we consider the following four notions of a quality of the community that are based on using one or the other of the two criteria of the previous subsection :    * * modularity : * @xmath48 , where @xmath49 is the expected number of edges between the nodes in set @xmath2 in a random graph with the same node degree sequence . *",
    "* modularity ratio : * @xmath50 is alternative definition of the modularity , where we take the ratio of the number of edges between the nodes of @xmath2 and the expected number of such edges under the null - model . * * volume : * @xmath51 is sum of degrees of nodes in @xmath2 . *",
    "* edges cut : * @xmath4 is number of edges needed to be removed to disconnect nodes in @xmath2 from the rest of the network .",
    "figure  [ fig : cmtymeasures2 ] shows the analog of the ncp plot where now instead of conductance we use these four measures .",
    "a general observation is that modularity tends to increase roughly monotonically towards the bisection of the network .",
    "this should not be surprising since modularity measures the `` volume '' of communities , with ( empirically , for large real - world networks ) a small additive correction , and the volume clearly increases with community size . on the other hand , the modularity ratio tends to decrease towards the bisection of the network .",
    "this too should not be surprising , since it involves dividing the volume by a relatively small number .",
    "results in figure  [ fig : cmtymeasures2 ] demonstrate that , with respect to the modularity , the `` best '' community in any of these networks has about half of all nodes ; while , with respect to the modularity ratio , the `` best '' community in any of these networks has two or three nodes .    leaving aside debates about community - quality objective functions ,",
    "note that , whereas the conductance and related measures are _ discriminative _ , in that they prefer different kinds of clusters , depending on the type of network being considered , modularity tends to follow the same general pattern for all of these classes of networks .",
    "that is , even aside from community - related interpretations , conductance ( as well as several of the other bi - criterion objectives considered in section  [ sxn : multi - crit - scores ] ) has qualitatively different types of behaviors for very different types of graphs ( _ e.g. _ , low - dimensional graphs , expanders , large real - world social and information networks ) , whereas modularity and other single - criterion objectives behave in qualitatively similar ways for all these diverse classes of graphs .",
    "+     [ fig : cmtymeasures2 ]",
    "so far we have examined various heuristics and approximation algorithms for community detection and graph partitioning .",
    "common to these approaches is that they all only approximately find good cuts , _",
    "i.e. _ , they only approximately optimize the value of the objective function .",
    "thus the clusters they identify provide only an _ upper bound _ on the true minimum best clusters . to get a better idea of",
    "how good those upper bounds are , we compute theoretical _ lower bounds_. here we discuss the spectral lower bound  @xcite on the conductance of cuts of arbitrary balance , and a related sdp - based lower bound  @xcite on the conductance of any cut that divides the graph into two pieces of equal volume .",
    "lower bounds are usually not computed for practical reasons , but instead are used to gain insights into partitioning algorithms and properties of graphs where algorithms perform well or poorly .",
    "also , note that the lower bounds are `` loose , '' in the sense that they do not guarantee that a cluster of a particular score exists ; rather they are just saying that there exists no cluster of better score .",
    "first , we introduce the notation : @xmath52 is a column vector of the graph s node degrees ; @xmath21 is a square matrix whose only nonzero entries are the graph s node degrees on the diagonal ; @xmath9 is the adjacency matrix of @xmath53 ; @xmath54 is then the non - normalized laplacian matrix of @xmath53 ; * 1 * is vector of 1 s ; and @xmath55 is the matrix dot - product operator . now , consider the following optimization problem ( which is well known to be equivalent to an eigenproblem ) : @xmath56 let @xmath57 be a vector achieving the minimum value @xmath58 .",
    "then @xmath59 is the spectral lower bound on the conductance of any cut in the graph , regardless of balance , while @xmath57 defines a spectral embedding of the graph on a line , to which rounding algorithms can be applied to obtain actual cuts that can serve as upper bounds at various sizes .",
    "next , we discuss an sdp - based lower bound on cuts which partition the graph into two sets of exactly equal volume .",
    "consider : @xmath60 and let @xmath61 be a matrix achieving the minimum value @xmath62 .",
    "then @xmath62 is a lower bound on the weight of any cut with perfect volume balance , and @xmath63 is a lower bound on the conductance of any cut with perfect volume balance .",
    "we briefly mention that since @xmath64 , we can view @xmath65 as a gram matrix that can be factored as @xmath66 .",
    "then the rows of @xmath67 are the coordinates of an embedding of the graph on a hypersphere . again , rounding algorithms can be applied to the embedding to obtain actual cuts that can serve as upper bounds .",
    "the spectral and sdp embeddings defined here were the basis for the extensive experiments with global spectral partitioning methods that were alluded to in section  [ sec : algs ] . in this section , it is the lower bounds that concern us . figure  [ other - algos - fig - lbfig ] shows the spectral and sdp lower bounds for three example graphs .",
    "the spectral lower bound , which applies to cuts of any balance , is drawn as a horizontal red line which appears near the bottom of each plot .",
    "the sdp lower bound , which only applies to cuts separating a specific volume , namely @xmath68 , appears as an red triangle near the right side of the each plot .",
    "( note that plotting this point required us to use volume rather than number of nodes for the x - axis of these plots . )    clearly , for these graphs , the lower bound at @xmath68 , is higher than the spectral lower bound which applies at smaller scales .",
    "more importantly , the lower bound at @xmath68 , is higher than our _ upper _ bounds at many smaller scales .",
    "this demonstrates two important points : ( 1 ) it shows that best conductance clusters are orders of magnitude better than best clusters consisting of half the edges ; and ( 2 ) it demonstrates that graph partitioning algorithms perform well at various size scales . for all graph partitioning algorithms ,",
    "the minimum of their ncp plot is close to the spectral lower bound , and the clusters at half the volume are again close to theoretically best possible clusters .",
    "this suggests that graph partitioning algorithms we considered here do a good job both at finding best possible clusters and at bisecting the network .",
    "[ other - algos - fig - lbfig ]    take , for example , the first plot of figure  [ other - algos - fig - lbfig ] , where in black we plot the conductance curves obtained by our ( local spectral and metis+mqi ) algorithms . with a red dashed line we plot the lower bound on the best possible cut in the network , and with red triangle we plot the lower bound for the cut that separates the graph in two equal volume parts .",
    "thus , the true conductance curve ( which is intractable to compute ) lies below black but above red line and red triangle . from practical perspective",
    "this demonstrates that the graph partitioning algorithms ( local spectral and metis+mqi in particular ) do a good job of extracting clusters at all size scales .",
    "the lower bounds tell us that the conductance curve which starts at upper left corner first has to go down and reach the minimum close to the horizontal dashed line ( spectral lower bound ) and then sharply rise and ends up above the red triangle ( sdp lower bound ) .",
    "this verifies several things : ( 1 ) graph partitioning algorithms perform well at all size scales , as the extracted clusters have scores close to the theoretical optimum ; ( 2 ) the qualitative shape of the ncp is not an artifact of graph partitioning algorithms or particular objective functions , but rather it is an intrinsic property of these large networks ; and ( 3 ) the lower bounds at half the size of the graph indicate that our inability to find large good - conductance communities is not a failings of our algorithms .",
    "instead such large good - conductance `` communities '' simply do not exist in these networks .",
    "finally , in table  [ lower - bound - table ] we list for about 40 graphs the spectral and sdp lower bounds on overall conductance and on volume - bisecting conductance , and also the ratio between the two .",
    "it is interesting to see that for these graphs this ratio of lower bounds does a fairly good job of discriminating between declining - ncp - plot graphs , which have a small ratio , and v - shape - ncp - plot graphs , which have a large ratio .",
    "small networks ( like collegefootball , zacharykarate and monksnetwork ) have downward ncp plot  @xcite and a small ratio of the sdp and spectral lower bounds . on the other hand large networks ( _ e.g. _ , epinions or answers-3 ) have downward and then upward ncp plot ( as in figure  [ fig : intro](right ) ) have large ratio of the two lower bounds .",
    "this hints that in small networks `` large '' clusters ( i.e. , clusters of around half the network ) tend to have best conductances . on the contrary , in large networks",
    "small clusters have good conductances , while large clusters ( of the half the network size ) tend to have much worse conductances , and thus high ratios of lower bounds as shown in the left table of table  [ lower - bound - table ] .",
    "[ lower - bound - table ]",
    "in this paper we examined in a systematic way a wide range of network community detection methods originating from theoretical computer science , scientific computing , and statistical physics .",
    "our empirical results demonstrate that determining the clustering structure of large networks is surprisingly intricate . in general",
    ", algorithms nicely optimize the community score function over a range of size scales , and the scores of obtained clusters are relatively close to theoretical lower bounds . however , there are classes of networks where certain algorithms perform sub - optimally .",
    "in addition , although many common community quality objectives tend to exhibit similar qualitative behavior , with very small clusters achieving the best scores , several community quality metrics such as the commonly - used modularity behave in qualitatively different ways .",
    "interestingly , intuitive notions of cluster quality tend to fail as one aggressively optimizes the community score . for instance , by aggressively optimizing conductance , one obtains disconnected or barely - connected clusters that do not correspond to intuitive communities .",
    "this suggests the rather interesting point ( that we described in section  [ sec : pieces ] ) that _ approximate _ optimization of the community score introduces a systematic bias into the extracted clusters , relative to the combinatorial optimum .",
    "many times , as in case of local spectral , such bias is in fact preferred since the resulting clusters are more compact and thus correspond to more intuitive communities .",
    "this connects very nicely to regularization concepts in machine learning and data analysis , where separate penalty terms are introduced in order to trade - off the fit of the function to the data and its smoothness . in our case here , one is trading off the conductance of the bounding cut of the cluster and the internal cluster compactness .",
    "effects of regularization by approximate computation are pronounced due to the extreme sparsity of real networks . how to formalize a notion of regularization by approximate computation more",
    "generally is an intriguing question raised by our findings .",
    "r.  andersen , f.  chung , and k.  lang .",
    "local graph partitioning using pagerank vectors . in _",
    "focs 06 : proceedings of the 47th annual ieee symposium on foundations of computer science _ , pages 475486 , 2006 .",
    "g.  flake , s.  lawrence , and c.  giles .",
    "efficient identification of web communities . in _",
    "kdd 00 : proceedings of the 6th acm sigkdd international conference on knowledge discovery and data mining _ , pages 150160 , 2000 .",
    "k.  lang and s.  rao . a flow - based method for improving the expansion or conductance of graph cuts . in _",
    "ipco 04 : proceedings of the 10th international ipco conference on integer programming and combinatorial optimization _ , pages 325337 , 2004 .",
    "t.  leighton and s.  rao .",
    "an approximate max - flow min - cut theorem for uniform multicommodity flow problems with applications to approximation algorithms . in _",
    "focs 88 : proceedings of the 28th annual symposium on foundations of computer science _ , pages 422431 , 1988 .",
    "j.  leskovec , k.  lang , a.  dasgupta , and m.  mahoney .",
    "statistical properties of community structure in large social and information networks . in _",
    "www 08 : proceedings of the 17th international conference on world wide web _ , pages 695704 , 2008 .",
    "d.  spielman and s .- h . teng .",
    "spectral partitioning works : planar graphs and finite element meshes . in _ focs 96 : proceedings of the 37th annual ieee symposium on foundations of computer science _ , pages 96107 , 1996 ."
  ],
  "abstract_text": [
    "<S> detecting clusters or communities in large real - world graphs such as large social or information networks is a problem of considerable interest . in practice , one typically chooses an objective function that captures the intuition of a network cluster as set of nodes with better internal connectivity than external connectivity , and then one applies approximation algorithms or heuristics to extract sets of nodes that are related to the objective function and that `` look like '' good communities for the application of interest .    in this paper </S>",
    "<S> , we explore a range of network community detection methods in order to compare them and to understand their relative performance and the systematic biases in the clusters they identify . </S>",
    "<S> we evaluate several common objective functions that are used to formalize the notion of a network community , and we examine several different classes of approximation algorithms that aim to optimize such objective functions . in addition , rather than simply fixing an objective and asking for an approximation to the best cluster of any size , we consider a size - resolved version of the optimization problem . considering community quality as a function of its size provides a much finer lens with which to examine community detection algorithms , since objective functions and approximation algorithms often have non - obvious size - dependent behavior .    * </S>",
    "<S> categories and subject descriptors : * h.2.8 database management : database applications  data mining    * general terms : * measurement ; experimentation .    * </S>",
    "<S> keywords : * community structure ; graph partitioning ; conductance ; spectral methods ; flow - based methods . </S>"
  ]
}