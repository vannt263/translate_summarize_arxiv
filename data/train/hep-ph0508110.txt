{
  "article_text": [
    "parton density functions ( pdfs ) , which describe the partonic content of hadrons , need to be well understood and of sufficiently high precision if theoretical predictions are to match the experimental accuracies expected from future lhc data .",
    "these pdfs , which are produced by several different groups ( e.g. mrst , cteq , alekhin and more recently zeus and h1 ) , are derived from fitting deep inelastic and related hard scattering data using parameterisations at low @xmath0 ( @xmath1 17 ( gev / c)@xmath2 ) and evolving these to higher @xmath3 .",
    "these pdfs are typically presented as grids in @xmath4-@xmath3 with suitable interpolation codes provided by the pdf authors .",
    "the cern pdflib library  @xcite has to date provided a widely used standard fortran interface to these pdfs with the interpolation grids built into the pdflib code itself .",
    "however , it is realised that pdflib would be increasingly unable to meet the needs of the new generation of pdfs which often involve large numbers of sets ( @xmath12040 ) des cribing the uncertainties on the individual partons from variations in the fitted parameters . as a consequence of this , at the les houches meeting in 2001  @xcite ,",
    "the beginnings of a new interface were conceived  the so - call les houches accord pdf  lhapdf .",
    "this has further been developed over the course of the hera - lhc workshop incorporating many new features to enable it to replace pdflib as the standard tool to use .",
    "the development is briefly described in this writeup together with lhaglue , an interface to lhapdf , which provides pdf access using almost identical calling routines as pdflib .      in its initial incarnation ( version 1 ) ,",
    "lhapdf had two important features which distinguished it from the methods used by pdflib in handling pdfs .",
    "firstly the pdfs are defined by the analytical formulae used in the original fitting procedures , with external files of parameters , which describe the momentum @xmath4 distributions of the partons at the relevant @xmath0 .",
    "evolution codes within lhapdf then produce the pdf at any desired @xmath3 at the users request . at present",
    "lhapdf provides access to two evolution codes , evlcteq for the cteq distributions and qcdnum 16.12 @xcite for the other pdf sets .",
    "this represents a radical difference from the existing methods used by the pdf authors to present their distributions where large grid files and interpolation routines are the norm . in pdflib these interpolation codes and grids are essentially compiled into a single fortran library .",
    "the advantage of the lhapdf method is that the compiled code is separate from the parameter files , which are typically small .",
    "thus to add new pdf sets does not necessarily need the code to be recompiled and the library rebuilt .",
    "secondly , the concept is introduced of a set `` being a related collection of pdfs ( e.g. an error set ) all of which are accessible to the program after initialisation of that set .",
    "this allows lhapdf to handle the multi - set error '' pdfs produced in recent years which give predicted uncertainties to the pdf values .",
    "all the pdfs in a set are initialised together and are therefore available to the user .",
    "v1 was written by walter giele of fermilab who in 2002 released a working version which could be downloaded from a web - site together with the parameter files for a limited number of pdf sets .",
    "there was also a manual and example files .",
    "one of the present authors mrw became involved and took over maintenance and development of lhapdf in march 2003 .",
    "the limitations of the idealised situation in v1 with respect to making lhapdf a replacement tool for pdflib soon became apparent .",
    "the primary problem was that v1 contained only a limited number of pdf sets and , since the method was reliant on the @xmath4 parameterisations at @xmath0 being available , it would be virtually impossible to include many of the older sets which are still needed for comparisons .",
    "a second and serious problem is the compute time taken in the initialisation phase of the individual members of a pdf set ( i.e. calling the routine initpdf described later ) .",
    "this can take in the region of 2 seconds per call on a 1ghz machine and is therefore unacceptable in the situation of a program which makes repeated use of the different members .  ) between the pdfs produced by lhapdf for mrst and the authors code directly is now believed to be due to slight mismatches of grid boundaries at the heavy quark thresholds and will be corrected in future mrst grids . ]    a solution introduced in lhapdf version 2 , which helps to solve the above problems , was to include the option to make the original grid files and interpolation codes available in lhapdf * in addition * to the v1 method of parameter files and on - the - fly `` evolution .",
    "for some pdf sets both methods would be available and for others only the latter .",
    "the operation of the program was made identical for both methods with the content of the input file ( with extension .lhpdf '' for the former and .lhgrid \" for the latter ) dictating which is used .",
    "not only does this allow all the older pdf sets to be included but also there is no time penalty in changing between members of the same set since all are loaded in the initialisation phase .",
    "lhapdf v2 was released in march 2004 including many of the older pdf sets as well as some new ones .",
    "lhapdf version 3 was released in september 2004 and , as well incorporating more older and some new pdf sets ( e.g. zeus and h1 ) , it also included the code for lhaglue , a newly developing add - on interface to lhapdf which provides pdflib look - alike access . in addition to having subroutine calls identical to those in pdflib it also incorporates a pdf numbering scheme to simplify usage .",
    "it should be noted however that , because of the greatly increased number of new pdf sets , it was not possible to follow the original numbering scheme of pdflib and a new one was devised .",
    "this is described in more detail in section [ lhaglue_section ] .",
    "the major feature of version 4 , which was released in march 2005 , was the incorporation of the photon and pion pdfs .",
    "all the photon and pion pdfs that were implemented in pdflib were put into lhapdf using identical code and using the .lhgrid \" method .",
    "the lhaglue numbering scheme in these cases more closely resembles that of pdflib than it does for the protons .",
    "in addition in v4 there were new proton pdfs ( mrst2004 and an updated alekhin s a02 m ) , a new simpler file structure with all the source files being in a single src \" directory , some code changes to incorporate access to @xmath5 and a more rigorous implementation of the @xmath6 evolution as being exactly that used by the pdf author .",
    "all the lhapdf and lhaglue data and code , in addition to being made available on the new web site ( http://hepforge.cedar.ac.uk/lhapdf/ ) , is also included in the genser subproject of the lhc computing grid .",
    "since the last hera - lhc meeting there has been one minor release of lhapdf ( version 4.1 in august 2005 ) . in this version the installation method has changed to be more standard with the configure ; make ; make install \" sequence familiar to many and also a small amount of code has been altered to be more compliant with proprietary fortran 95 compilers . as mentioned in the previous section",
    "the web site for public access to lhapdf from which the source code can be obtained has changed .",
    "since this is the current and most recent version we assume v4.1 in the following referring to earlier versions where necessary .",
    "once the code and pdf data sets have been downloaded from the relevant web site and installed following the instructions given therein , using lhapdf is simply a matter of linking the compiled fortran library * liblhapdf.a * to the users program .",
    "table [ lhapdf - commands ] lists the lhapdf routines available to the user , which are of three types :    * initialisation ( selecting the required pdf set and its member ) * evolution ( producing the momentum density functions ( _ f _ ) for the partons at selected _ x _ and _ q _ ) * information ( displaying for example @xmath6 , descriptions , etc . )    .lhapdf commands [ cols=\"<,<\",options=\"header \" , ]     the lhaglue interface can be invoked in one of 3 ways , standalone , pythia or herwig , depending on the value of _",
    "parm(1 ) _ when calling * pdfset(_parm , value)_*.    * * standalone * mode parm(1)= default value(1 ) = \" * * pythia mode * parm(1 ) = nptype @xmath7 set automatically in pythia in this case the user must supply mstp(51 ) and mstp(52 ) in the pythia common block mstp(52 ) = 2 @xmath7 to use an external pdf library mstp(51)= \" * * herwig mode * parm(1 ) = hwlhapdf@xmath7 set by the user .",
    "in this case one sets for the beam and target particles separately autpdf(1 ) = hwlhapdf",
    "autpdf(2 ) = hwlhapdf modpdf(1 ) = `` modpdf(2 ) = ' ' note that herwig specifies the \" for each of the colliding particles separately and care should be taken that the same pdf members are used when appropriate .",
    "the user then simply links their own standalone code , or the herwig / pythia main program and the herwig / pythia code  , with the lhapdf library * liblhapdf.a * making sure the pdfsets directory is specified as described above .",
    "the lhaglue interface has been tested extensively at tevatron and lhc energies for the proton pdfs and with hera examples for the photon pdfs .",
    "results with new and legacy pdf sets , using lhapdf , pdflib or internal implementations in the monte carlo generators , and comparing cross sections produced with pythia and herwig , give us confidence in the consistency of the lhaglue interface and the underlying lhapdf library  @xcite .      both lhapdf and the interface lhaglue have been developed over the period of the workshop to a point where they can now be used as a serious replacement for pdflib . indeed , except for the pdf authors own code , they are the only place to obtain the latest pdfs .",
    "there is however still considerable development in progress and the latest pdf sets will be incorporated as and when they become available .",
    "one major development area is to include the possibility of having more than one pdf set initialised concurrently .",
    "this may be necessary in interactions between different beam and target particles types and also including photon and pion pdfs",
    ". this will be the aim of the next lhapdf release .",
    "mrw wishes to thank the uk pparc for support from grant pp / b500590/1 .",
    "db wishes to thank the usa national science foundation for support under grants nsf itr-0086044 and nsf phy-0122557 ."
  ],
  "abstract_text": [
    "<S> we describe the development of the lhapdf library from its initial implementation following the les houches meeting in 2001 to its present state as a functional replacement for pdflib . </S>",
    "<S> brief details are given of how to install and use the library together with the pdf sets available . </S>",
    "<S> we also describe lhaglue , an add - on pdflib look - a - like interface to lhapdf , which facilitates using lhapdf with existing monte carlo generators such as pythia and herwig . </S>"
  ]
}