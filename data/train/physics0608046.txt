{
  "article_text": [
    "the original motivation for the design of this electronics was given by a project called sans-2mhz , in the framework of the millennium program at the institut laue langevin , the large instrument renewal effort the ill is making in order to be competitive in the 21st century .",
    "the aim of the project was to make a large area neutron detector with a counting rate of at least @xmath0 at 10% dead time correction .",
    "one of the possibilities considered was to have an array of independent , 1 meter long , 1-dim position sensitive proportional detectors .",
    "these detectors are thin ( 8 mm diameter ) and are based upon resistive charge division .",
    "we will present a general analysis of the problem of spatial resolution as a function of the electronic noise sources and take this as a guiding principle to explain our design .",
    "we will also analyze unwanted secondary effects .",
    "four different contributions are considered : extra passive resistance , the presence of a blocking capacitor , the finite input impedance of the amplifiers and the presence of a certain capacitive load on both sides .",
    "position sensitive detection based upon charge division is a very old and well - known technique , described in , for example , @xcite , or in @xcite . in a classical publication by radeka @xcite",
    ", it is shown that the spatial resolution that can be obtained by resistive charge division along an @xmath1 line is determined by the temperature @xmath2 , the capacity @xmath3 and the collected charge @xmath4 in the detector : @xmath5 when using perfect amplifiers and a signal shaping that is optimal with respect to this problem .",
    "however , the fundamental hypothesis formulated to obtain that result is that the generated charge along the electrode is fast compared to the time scale of @xmath6 . for thermal neutron detection in cylindrical position sensitive detectors ,",
    "using a wire and he-3 gas conversion , this hypothesis is not satisfied at all .",
    "indeed , a typical detector has , say , @xmath7 resistance and @xmath8 capacity .",
    "the total charge collection time is not negligible compared to the time constant , which is about 60 ns ; on the contrary , these 60 ns are almost insignificant compared to the charge collection time .",
    "this charge collection time is of the order of hundreds of nanoseconds , and is essentially determined by the difference in time of arrival between the first and the last primary charges along the tritium and proton tracks arriving in the amplification region on one side , and the finite drift time of the avalanche ions in the high field region , which generates the current signal , on the other side .",
    "anticipating an ( evident ) result which will follow in our analysis , the spatial resolution will improve with a higher signal ( collected total charge ) level ; so we will have to work with shaping functions which are broad ( in the time domain ) compared to the time constant of the rc line in order to collect most of the useful signal .",
    "this , on one hand , invalidates the result in equation [ eq : resolutionradeka ] in our case , but on the other hand , simplifies strongly the analysis ; indeed , we do not have to consider the dynamic behavior of an rc line , with all its bessel responses and so on @xcite . in the low - frequency limit where we are have to work in order to collect our charges",
    ", the detector essentially behaves as a lumped resistor .",
    "the preamplifier noise contribution can always be modelled as a series voltage noise source and a parallel current noise source .",
    "the voltage @xmath9 and the current @xmath10 of both sources are random processes which are supposed to be stationary , and gaussian .",
    "they are hence described by their spectral noise densities .",
    "they could be correlated because they are obtained as equivalent sources of the noise sources internal to the preamplifier , but this correlation will be neglected .",
    "when the first stage of the preamplifier consists of an operational amplifier , the constructor of the circuit gives those spectra in the data sheets .",
    "for all practical purposes , they are a constant ( it is white noise ) . only in the case of a mosfet entry",
    ", the 1/f noise could have a significant contribution .",
    "we will suppose in a first approach that the amplifier is perfect if we put the noise sources outside .    the final element which will complete our noise analysis is a feedback resistor going from the output to the input .",
    "the johnson noise of that resistor will add quadratically to the parallel noise source of the amplifier .",
    "we have now completed the description of our basic noise circuit in resistive charge division which is shown in figure [ fig : equivalentnoise ] .",
    "although the amplifiers are modelled as operational amplifiers ( and in our case , we really do use such amplifiers ) , our analysis applies to just any feedback amplifier structure .",
    "+    all sources are considered to be independent of each other .",
    "the measured quantities are the currents in @xmath11 and @xmath12 .",
    "we consider the amplifiers amp1 and amp2 to be perfect .",
    "node 1 is hence kept at @xmath13 and node 2 at @xmath14 . solving for the current in the feedback resistors",
    ", we have : @xmath15    let us consider that @xmath16 includes @xmath17 and that @xmath18 includes @xmath19 .",
    "when calculating the sum and the difference of both signals : @xmath20 the spectral densities of the signals combine in square and the cross terms drop out , so we find , using the johnson noise expression for the resistor noise sources : @xmath21 here , it is understood that @xmath22 , @xmath23 being the equivalent current noise density of the amplifier , and @xmath24 is the equivalent voltage noise density of the amplifier .",
    "although these expressions are in general spectral quantities , in the adopted hypothesis of white noise , they reduce to numbers . in order for the thermal noise to be the dominant contribution",
    ", @xmath25 should be in the range : @xmath26 if we take as an example an amplifier and feedback current noise of @xmath27 and a voltage noise of @xmath28 , this interval goes from @xmath29 to @xmath30 .",
    "if the time - invariant transfer function from input current to output voltage is @xmath31 , then the root mean square ( r.m.s . ) of the output noise is given by : @xmath32 in our case of white noise , this reduces to : @xmath33 so knowing the input current noise spectral density , we have to multiply by a number which depends only on the overall transfer function ( shaping function ) to find the 1 sigma deviation on the output voltage .",
    "of course , this operation also applies to the sum and the difference signals .",
    "the contribution of the electronic noise on the spatial resolution of the detector can be determined as follows .",
    "consider the dimensionless parameter @xmath34 . here ,",
    "a and b are instantaneous samples of the output signals of the amplifiers at their peaking value . in the ideal case",
    ", p runs from -1 to 1 when the physical position runs from 0 to length l. the error on p due to the noise , considering that the noise on a - b and a+b is not correlated ( as can easily be verified assuming identical transfer functions ) , is given by : @xmath35 this translates in a fwhm position resolution of : @xmath36 here , @xmath37 is the sum of both voltage signals for an `` average '' event .",
    "let us now analyze the general behavior of the influence of the shaping function on the spatial resolution .",
    "imagine an initial charge q , which is deposited instantaneously at the entrance of the amplifier , so @xmath38 .",
    "the output of the amplifier is nothing else but the impulse response of the system times q , and h(f ) is the fourier transform of that impulse response .",
    "of course , an overall amplification factor does nt influence the spatial resolution as the signal and the noise are multiplied by it , so in order to compare transfer functions , one should normalize them such that the peak value ( the maximum of the impulse response ) is always equal to 1 .",
    "it is easy to work out that the amplitude normalized impulse response scales in time as : @xmath39 and : @xmath40 in these expressions , the subscript 1 corresponds to a time - normalized impulse response , and @xmath41 corresponds to the time scale parameter ( the shaping time constant ) .",
    "the input noise calculations are independent of the transfer function , and are related to the output noise by the factor given in equation [ eq : vrmsfromwhitedensity ] . for an amplitude normalized transfer function , this factor then gives the absolute `` noise performance '' of a shaping function , so we will call this factor the absolute noise performance factor ( anpf ) of the shaping function",
    ". it should be as low as possible .",
    "it is easy to determine that the anpf scales as @xmath42 when using the expression [ eq : timescalef ] .",
    "so we have the at first sight remarkable conclusion that _ the faster the amplifier ( the shorter the shaping time ) the better the position resolution_.    if we can define a time scale parameter which is independent of the shape of the impulse response , then we can define a relative noise performance factor by dividing its anpf by @xmath42 .",
    "we then have a quantity which can compare different shapes of transfer functions according to their merit .",
    "the problem with this definition is of course that a judicious choice of time scale parameter can artificially give an advantage to one or another shape so one should be prudent in drawing conclusions .",
    "we can define the gain g of the amplifier as the maximum of the impulse response .",
    "writing @xmath31 the normalized transfer function , the full transfer function of an amplifier is then @xmath43 . in that case , @xmath37 in formula [ eq :",
    "fwhmresolutionfromrmsnoise ] is equal to @xmath44 .",
    "as expected , this factor g drops out of the expression for the resolution .",
    "@xmath45 expression [ eq : absoluteresolution ] expresses the resolution due to electronic noise as a function of the shape and time scale of the overall transfer function , the event charge produced by the detector , the anode resistance and the equivalent voltage and current noise sources of the preamplifier .",
    "the hypothesis is put forward of an otherwise ideal amplifier and full dynamics .",
    "if the sensitive region occupies only a fraction d @xmath46 of the whole dynamics of the quantity @xmath47 , then the resolution will have to be scaled up with an extra factor equal to 1/d , see section [ sec : secondaryeffects ] . as long as d is not too far from 1",
    ", we can neglect the influence of these extra components in the equivalent circuit on the noise calculation .",
    "although the pure pole approximation to a gaussian filter is a well - known item , we shortly sketch its derivation in order to make clear all our normalization conventions . the ideal gaussian shape",
    "as an impulse response would be proportional to : @xmath48 its associated transfer function ( in the variable @xmath49 ) equals @xmath50 , or , in the laplace variable s , @xmath51 . of course , as such",
    ", it is not realizable . using the well - known approximation scheme @xcite of this transfer function into a stable , pure - pole filter by expanding @xmath52 as a polynomial up to order @xmath53 , and constructing @xmath54 , where @xmath55 is the polynomial of order n with the same zeros as @xmath56 in the left half complex s - plane , we find for n = 4 : @xmath57 where we took the value of the numerator such that h(0 ) = 1 ( because in the process",
    ", the amplitude normalization became arbitrary ) .",
    "the impulse response ( the inverse laplace transform of h(s ) ) approaches the perfect gaussian response ( up to a time shift ) and corresponds to a realizable , stable pure pole filter of 4th order .",
    "we arbitrarily define its time scale @xmath41 to be equal to @xmath58 , which corresponds to about the time where the response is `` significantly different from 0 '' ( eg , the total visible width of the pulse ) .",
    "@xmath59 also corresponds closely to the cut - off frequency of this low pass filter .",
    "the final thing to do is to normalize the amplitude of the impulse response to 1 .",
    "the peaking time of the impulse response occurs at @xmath60 , and it turns out that we have to divide the above transfer function by 2.507 in order to obtain this amplitude normalization .",
    "so we obtain finally : @xmath61 the corresponding transfer function is : @xmath62 now that we have the normalized transfer function of this filter , we can calculate the anpf ( by using @xmath63 ) and it turns out to be : @xmath64 filling this into the expression for the spatial resolution , we obtain : @xmath65 let us take as an example a @xmath66 resistance , and the same noise sources as cited earlier .",
    "if we have a detector that delivers a harmonic average of @xmath67 per event and we apply a gaussian shaping time of @xmath68 , then on a 1 m long detector we should be able to achieve a resolution of 12 mm along the detector . if the resistance is @xmath69 , the resolution in the middle of the detector is 5.6 mm , and on the borders 6.7 mm .",
    "the numbers in this last example have not been chosen at random : they correspond to an experimental situation we have set up .",
    "measurements using a narrow neutron beam on a prototype reuter stokes detector with an overall resistance of @xmath69 lead to an observed fwhm resolution 5.7 mm in the middle of the detector and a deterioration towards 7 mm near the ends of the detector , confirming our calculation . in this measurement",
    ", wide word lengths ( 10 bits ) were used to code the position .",
    "if we measure the r.m.s .",
    "noise of the sum and difference output signals of gaussian amplifiers having a gain of @xmath70 in this setup , we measure @xmath71 for the difference and @xmath72 for the sum signal .",
    "calculations give @xmath73 for the difference signal , and @xmath74 for the sum signal , showing an agreement with the measurements with less than 10% deviation .",
    "let us compare this gaussian transfer function with the `` standard '' rc - cr function : its amplitude normalized impulse response is given by : @xmath75 where @xmath41 is its peaking time and its transfer function equals : @xmath76 the anpf of this rc - cr filter equals @xmath77 . however , in order to really compare the anpf values , we should adapt the @xmath41 in this definition to the one we used in the gaussian filter",
    ". we will propose identical peaking times : in that case , we have to replace @xmath41 by @xmath78 in the above anpf expression , leading to @xmath79 .",
    "so we observe that _ the gaussian filter , for identical peaking times , improves the spatial resolution by about 42% over the result one would obtain using the standard rc - cr filter .",
    "_    if we take a rectangular shaping function with width @xmath41 , @xmath80 the transfer function is : @xmath81 and the anpf equals @xmath82 . again , in order to compare the @xmath41 values , we take the width of the square function to be the fwhm , the peaking time not being applicable in this case , of the gaussian approximation which equals @xmath83 .",
    "so we should fill in @xmath84 in the expression of the anpf , to obtain that the @xmath85 .",
    "again , _ the gaussian filter improves the spatial resolution by 15% over the result one would obtain with a square filter for identical fwhm times_.    all this indicates that the gaussian transfer function as derived above is a very acceptable solution to the shaping problem for resistive charge division .",
    "the analogue part of the circuit implemented at the i.l.l . in the frame of the sans-2mhz program takes on the following form : a pre - amplifier which acts as a current amplifier , a gaussian filter implemented as an active filter and a baseline correction circuit .",
    "the preamplifier needs to satisfy 3 criteria : the amplifier noise contributions have to be such that they do nt deteriorate significantly the spatial resolution , the input impedance has to be as low as possible and it has to stand very high counting rates .",
    "the fact that there is anyway a resistive noise source ( the resistive anode ) eliminates the noise advantages a charge amplifier has . indeed , in order to stand very high counting rates , we opted for a current amplifier , which suffers no pile up effects .",
    "the transfer function of the circuit is chosen to be a first order system with a time constant of the order of the time constant of the detector , about 60 ns . in order to achieve a very low input impedance ,",
    "a high open loop gain is required , as explained in subsection [ subsec : impedance ] . the high bandwidth combined with the high open loop gain made us",
    "decide to go for a bipolar operational amplifier .",
    "expression [ eq : gaussresolution ] is the guiding principle to select the operational amplifier , which has to have a very high open loop unity gain bandwidth .",
    "the best values one can obtain for the current noise are around @xmath86 , which does nt contribute significantly to the resolution as long as the anode resistance is below @xmath87 .",
    "this comforts our choice of a bipolar circuit , such as the clc425 from national semiconductor , unfortunately now not in production anymore .",
    "the feedback resistor does nt have a significant influence compared to the current noise of the amplifier as long as it is above about @xmath88 .",
    "a feedback capacitor of about 5 pf lets us obtain the right bandwidth in this case , which is a satisfying value .    the basic scheme that we obtain for the structure of the preamplifier is shown in figure [ fig : preamplifier ] .",
    "+    as long as the voltage noise is a few @xmath89 , and the anode resistance is not too low ( above @xmath90 ) this term does nt contribute significantly to the spatial resolution . if a resistive protection circuit against accidental discharges is required , care should be taken to include it in the feedback loop ( as shown in figure [ fig : preamplifier ] ) , otherwise its resistance adds to the input impedance .",
    "one should be warned , however , that the resistive part of such a circuit will add to the voltage noise of the circuit .    in order to obtain a larger gain ,",
    "a t - type feedback structure can be used ( see figure [ fig : preamplifier ] ) .",
    "an extra advantage of using a current amplifier over a charge amplifier is that no pole - zero cancellation network is needed .",
    "the preamplifier is ac coupled to the gaussian filter .",
    "the fact that for neutron detection , time constants of the order of the microsecond are used allows us to use operational amplifiers ( designed for the telecom industry ) in active filters to implement the gaussian transfer function . factorizing expression [ eq : gauss4thtransferfunction ] into two second - order contributions , we notice that the q - factors of both circuits are quite low and that hence a simple multiple feedback network @xcite can be used to implement them .",
    "although possible , passive lc filters require rather large self inductance values on this time scale , so we reserve that kind of filters to faster circuits .",
    "given the fact that the gaussian impulse response is unipolar , there is a problem of a shifting baseline at high counting rates .",
    "a simple clamping circuit has the disadvantage of clamping on the noise , so we would have a noisy baseline correction . in order to solve this problem , we use the circuit displayed in figure [ fig : baselinecorrection ] .",
    "+    in that figure , @xmath91 translates the input voltage into a current .",
    "if the voltage is positive , the feedback loop is closed through resistor r2 and diode d2 ; the voltage at the output is 0 .",
    "if the input voltage is negative , the loop is closed through r1 and d1 .",
    "the output voltage is now @xmath92 , which is a positive quantity .",
    "taking @xmath93 , if the signal from the gaussian shaper is applied to this circuit , then the output equals minus the baseline which is negative .",
    "it is now sufficient to low pass filter this output and add it to the input signal with a simple active adder circuit to restore the baseline .",
    "the path r2/d2 prevents the feedback loop from ever opening completely , and hence keeps the operational amplifier from saturating .",
    "if the application is continuous irradiation , then the baseline will vary very smoothly and a simple first order low pass ( rc ) circuit with a cutoff frequency below say @xmath94 can do .",
    "however , in pulsed time of flight applications , the baseline also fluctuates more rapidly , and a more sophisticated filter might be necessary in order to filter all noise and glitches , but reacting fast enough to the changing baseline .",
    "an analogue peak detector with threshold on the sum signal triggers 2 single shot 12 bit adc converters with a dynamic range of 5 v. the 11 most significant bits of each conversion are used to compose a 22 bit word which serves as an address in a position lookup table .",
    "this lookup table is materialized by an eprom circuit ; the result of the lookup operation is the position of the impact in an 8-bit word .",
    "the quantization noise of the adc ( @xmath95 ) should be smaller than the noise at the output of the amplifiers .",
    "it should be noted that here , the right choice of the gain to map the signal range to the dynamic range , is important .",
    "the quantization noise added to the resolution by truncating the result to an 8 bit word results in a fwhm resolution of @xmath96 , which should be added in square to the resolution obtained in [ eq : gaussresolution ] .",
    "taking our measurements again , which had a spatial resolution of 5.7 mm using wide word lengths , when coding on 8 bits , using the above formula , we should increase theoretically the resolution to 6.3 mm .",
    "measurements lead to 6.6 mm of resolution when coding on 8 bits .",
    "in order to perform the above analysis , we used a `` perfect '' circuit . in reality , there are unavoidable secondary effects which have an influence on the performance .",
    "we will study the 4 most prominent ones , and make the assumption that the situation remains symmetrical .",
    "first we will study the presence of an additional passive resistance .",
    "interesting in its own right , it also introduces the notion of `` equivalent resistance '' for any other contribution to the reduction of the dynamics , and hence makes it possible to compare the importance of several different contributions .",
    "a most important influence is played by the blocking capacitor , which is a necessary component to protect the electronics from the high bias potential applied to the resistive electrode .",
    "it has two effects : one is a reduction of dynamics ( just as the extra resistance ) , the other is to introduce an undershoot in the signal .",
    "the finite input impedance of the preamplifier can also contribute significantly to the loss in dynamics .",
    "finally , the presence of a capacitive load ( due to the wiring up of the detector ) will not influence the dynamics , but will introduce a noise contribution that can deteriorate the spatial resolution .",
    "we will study all these effects one by one but we will not study their combined effects . the overall scheme is displayed in figure [ fig : secondaryeffects ] .",
    "+    the ideal case would give us a relationship between the position @xmath97 and the collected charges @xmath98 and @xmath99 given as follows : @xmath100 we can hence introduce an ideal dimensionless position @xmath101 as follows : @xmath102 when @xmath103 , we hit position @xmath104 , and when @xmath105 , we hit position @xmath106 .",
    "we will observe that several effects change this relationship into : @xmath107 where @xmath108 is a number between 0 and 1 , and is called the dynamical factor .",
    "imagine that the resistive electrode continues to be resistive beyond the sensitive area , or that some resistance is present in the conducting circuit before reaching the  supposed perfect  current amplifier at 0 impedance ( virtual ground ) .",
    "let us suppose that the case is symmetrical and that an extra resistance @xmath109 is added at both sides .",
    "we have now , for an injection at point x of a total length l : @xmath110 if we now calculate the range that can be taken up by @xmath111 : @xmath112 we observe that the dynamical factor is : @xmath113 so the calibration , @xmath114 as a function of @xmath115 , stays linear , but the slope is reduced .",
    "the second approximation is valid if the parasitic resistance is small compared to the useful resistance of the resistive electrode .",
    "if we introduce a blocking capacitor @xmath116 , or shortly @xmath3 , on each side ( see figure [ fig : secondaryeffects ] ) , we find as current transfer functions ( injected current to collected current ) : @xmath117 if we look at the time domain responses of these transfer functions : @xmath118 the time signals clearly contain two parts : the second term is exactly what we would have if we were in the ideal case , and the first term is the effect of the capacitors .",
    "it is an exponential decay with a time constant of @xmath119 .",
    "it has moreover the opposite amplitude behavior than the ideal term : indeed , when the injection point goes more to the left , so that the @xmath120 current increases , the extra term becomes more and more negative . on the other hand , when the injection point goes to the right , so that the ideal term almost vanishes , the extra term becomes positive and more and more important .",
    "the two extra terms in @xmath120 and @xmath121 are opposite , so that they cancel in the sum .",
    "this is something important : _ on the sum signal , the effect of the extra capacitors vanishes_. this means that the sum signal contains the timing information , independent of the position of the impact .",
    "we should of course convolve this injected current with the overall impulse response of the shaping amplifier .",
    "there are two contributions : @xmath122 in these expressions , we introduced the function v(t ) : @xmath123 v(t ) does nt depend on the injection point along the electrode , but only on @xmath124 .",
    "we notice two things : while the second term in each expression gives exactly what we wanted to obtain , the first one disturbs the response in a non - proportional way .",
    "this means that the individual maxima of the two functions will in general not occur together in time , and the relative deformation of the signal will depend on the injection point .",
    "if we would take those individual maxima as charges to be collected , the calibration curve would be non - linear .",
    "however , if we can take a common sample time @xmath2 for both curves which is independent of the injection point , and which corresponds to the maximum of the impulse response ( g ) , we find the following : @xmath125 @xmath126",
    "so we see here that the calibration curve corresponds to a straight line , with a reduction factor of the dynamics that is equal to : @xmath127 when we compare the expression of the loss in dynamics with the one for a resistor at both ends , we can identify both formulas in the approximation of small deviation from unity . in that case , it is as if the coupling capacitor introduced an equivalent parasitic resistance : @xmath128 if we assume that the time constant @xmath129 is larger than the time scale ( and of course the sampling time ) of the shaping function , then the exponential with which we have to convolve looks essentially like a unit step function . if we replace it in the convolution integral , we have : @xmath130 the equivalent resistance of the coupling capacitor turns out to be simply inversely proportional to the capacity times a constant that only depends on the shaping function .",
    "it really has a meaning of an equivalent resistance .",
    "it turns out that for a gaussian 4th order filter function , this expression is numerically equal to : @xmath131 here , @xmath41 is the time scale of the gaussian shaper as we defined it .",
    "a remark of a technical nature is maybe due : the capacitance is of course the dynamic capacitance ( small signals ) for the capacitor under the static bias load that one has in mind . for a perfect capacitor , that does nt make any difference , of course ; however , for ceramic capacitors using the x7r dielectric , for example , that dynamic capacity is reduced by 40% when working at the nominal voltage !",
    "a second problem , introduced by the presence of blocking capacitors , is the fact that there can be an undershoot on the `` large '' signal .",
    "this undershoot is a problem in the case a baseline correction is used .",
    "we can estimate an upper boundary of the value of the undershoot as follows : given that we are just outside of the time lapse where the shaper function is important ( if it is a well - peaked function such as a gaussian ) , the undershoot is essentially the sample value of the `` non - ideal '' part of the impulse response at that moment .",
    "of course , there will be a slight contribution of the shaper response , so the actual undershoot will be slightly less than this value .",
    "but we will obtain a reliable upper boundary .",
    "let us calculate this value now for @xmath132 and @xmath133 : @xmath134 we sample at @xmath135 , assuming that h(t ) has no contribution anymore there .",
    "this can be worked out as follows : @xmath136 the last integral can be extended to infinity ( because h is supposed to be negligible outside of the range 0-t ) . as h(s ) normally has poles with a real value much more negative than the exponential coefficient , this operation is allowed .",
    "we can replace the integral by a sample point of the laplace transform of h ( the shaper transfer function ) . in that case",
    ", we finally obtain as our undershoot estimation ( in absolute value ) : @xmath137 to obtain the relative undershoot , we have to divide that expression by the gain of the shaper function . knowing the scaling relations of the transfer function in the case of unity gain , we see that the undershoot only depends on the ratio of @xmath138 . in the case of a gaussian filter",
    ", then taking @xmath139 gives us numerically : @xmath140 where : @xmath141 the undershoot introduces an essentially random error in the case of a baseline correction , with an amplitude limited to the above amount .",
    "it depends on the image that is projected onto the detector .",
    "it should hence be smaller than the relative error introduced by the noise over the full dynamics of the signals .",
    "we use 68nf capacitors as blocking capacitors in our application . with @xmath68 gaussian",
    "shaping , this corresponds to an equivalent resistance of @xmath142 which is really negligible .",
    "the maximal undershoot , given a dynamics of 5v , and a detector resistance of @xmath69 , is @xmath143 .",
    "this is of the same order of magnitude as the noise levels ( see our previously calculated example ) .",
    "we see here that it is in fact the undershoot which gives us the most severe condition on the value of the blocking capacitor .",
    "the input impedance of the preamplifier circuit also has as an effect to reduce the effective dynamics of the charge division .",
    "we will give an estimation of this effect .",
    "the input impedance of a current amplifier with a transimpedance z(s ) determined by a passive feedback loop , is easily found out to be equal to : @xmath144 where a(s ) is the open loop transfer function of the amplifier",
    ". we will take it that z(s ) is represented by a first order system . in figure",
    "[ fig : preamplifier ] , this is the feedback resistor @xmath145 times the gain factor t of the t - network , and the time constant @xmath146 is given by the feedback resistor and its parallel capacitor . it is a bit more delicate to write down the open loop transfer function a(s ) of the operational amplifier : indeed , large bandwidth amplifiers usually have very complicated and not very well known transfer functions .",
    "however , because of the gaussian filter , we only use a limited part of that bandwidth , and we will assume that we can model the open loop gain by a first order system with dc gain @xmath147 and time constant @xmath148 . the impedance then becomes : @xmath149 if we now define the following equivalent elements : @xmath150 we can rewrite the input impedance as : @xmath151    at first sight , one would be inclined to neglect the pole in this expression . indeed , the preamplifier is supposed to represent a current amplifier , and hence be much faster than the gaussian shaping filter that follows . in that case",
    ", the input impedance of the amplifier is equivalent to the series circuit of a resistor of value @xmath152 and an inductor of value @xmath153 .",
    "we tried this , and to our surprise the results are numerically quite different from the results obtained when we do nt neglect this pole .",
    "so this pole can not , in the cases we re interested in , be neglected .",
    "if we analyze the structure of the input impedance , we can easily show @xcite that this corresponds to the passive circuit displayed in figure [ fig : inputimpedance ] .     +    using the same approach as in the case of the blocking capacitor",
    ", we find that the currents take on the form : @xmath154 again , the sum of both signals is not affected by the presence of this input impedance .",
    "we next convolve these expressions with the transfer impedance of the shaping amplifier , which in our case is the 4th order gaussian filter function . finally , sampling at the time when the sum signal attains its maximum",
    ", we obtain the sampled charges @xmath98 and @xmath99 at each side .",
    "the calibration remains linear , but a reduction of dynamics is introduced by this input impedance .",
    "this allows us to define an equivalent resistance .",
    "the result of these algebraic operations is : @xmath155 in this expression , we defined @xmath156 the anode resistance , and : @xmath157 the function @xmath158 is now defined as follows : @xmath159 using the time normalized gaussian filter function @xmath160 .",
    "we observe that the equivalent resistance does nt depend on the injection point ( is no function of @xmath161 or @xmath162 individually ) , which confirms the linearity of the calibration , but it is a function of the total anode resistance @xmath163 . working out numerically the integral , we find : @xmath164    we can obtain an interesting result when we take the limit of big r , meaning , much bigger than @xmath165 or @xmath152 .",
    "@xmath166 then converges to a limiting value given by : @xmath167 and the expression for the equivalent resistance reduces to : @xmath168 we now observe that for large enough detector resistance r , the equivalent input resistance of the circuit is a well - defined quantity . in cases where the input impedance is a crucial parameter , we should optimize the ratio of the gaussian shaper and the preamplifier time constant such that the associated equivalent resistance is minimized .",
    "in fact , the perfect match occurs when the preamplifier time constant is equal to @xmath169 .",
    "usually , this time constant is too big to be used ( it should still be smaller than the gaussian shaping time ) , so a less optimal choice has to be made .",
    "diminishing the gain of the preamplifier also reduces the input impedance .    as an example",
    ", we have taken a preamplifier based on a clc425 operational amplifier ( modelled with open loop dc gain of 20000 and corner frequency @xmath170 ) , a feedback resistor of @xmath171 in parallel with a @xmath172 feedback capacitor , and a t - factor of 13.0 . with a @xmath68 gaussian shaping",
    ", the above calculation leads to an equivalent resistance of @xmath173 when the detector is @xmath174 ; we have measured @xmath175 .",
    "the limiting value is @xmath176 .",
    "we will now analyze the effect of an extra load capacitor on both sides of the detector , as displayed in figure [ fig : secondaryeffects ] .",
    "this corresponds partly to the detector capacity itself , but mainly to the extra capacitive load that is introduced by the conductors leading from the sensitive electrode up to the input of the amplifiers .",
    "an order of magnitude is 1 pf per cm of ( coaxial ) connection wire .",
    "if we add this capacity c on both sides of the noise equivalent network in figure [ fig : equivalentnoise ] , the noise currents now become : @xmath177 the spectral densities of the sum and difference signals then take on the following form : @xmath178 so to both densities , we add the quantity : @xmath179 this time it is clear that these noise spectral densities are a function of frequency f. we can not apply the simple factor anymore as in equation [ eq : vrmsfromwhitedensity ] .",
    "in fact , our noise formulas are of the form : @xmath180 , so we can still use [ eq : vrmsfromwhitedensity ] for the a - part , but we now need a second number for the b - part .",
    "the extra part equals : @xmath181 we define now the capacitive noise number @xmath182 : @xmath183 it can easily be verified that @xmath182 scales as @xmath59 , and not , as is the case for the white noise contribution , as @xmath41 .",
    "so this capacitive load noise becomes more and more important when the time scale becomes small .",
    "we can call @xmath184 the capacitive noise performance factor ( cnpf ) if we work with the amplitude normalized transfer function . for the gaussian 4th order approximation",
    ", we can work out that : @xmath185 this means that we have an effective extra contribution to the sum and difference noise current densities ( considered as white noise ) , equal to : @xmath186 for the gaussian shaping function , this turns out to be : @xmath187 as an example , a @xmath188 voltage noise density over a capacity of 100 pf ( 1 meter of coaxial cable ) and a time constant of @xmath189 gives us an effective noise current of @xmath190 .",
    "this is still smaller than the other noise current contributions ( but its effect should start to become visible ) .    in order to add this effect to the spatial resolution ,",
    "it is sufficient to replace the sum and difference currents by their combination , squared , with this effective current .",
    "the principles leading to the design of the front end electronics for resistive charge division in thermal neutron detection in high counting rate applications are exposed .",
    "the choice we made for the analogue part consists of three sub functions : a preamplifier which acts as a current amplifier , based upon a fast , bipolar operational amplifier ; a 4th order gaussian shaping circuit based upon simple active filter circuits , and a noiseless baseline correction .",
    "a detailed analysis is presented leading to the expression ( equation [ eq : absoluteresolution ] ) which gives the spatial resolution as a function of the detector signal , the noise sources of the preamplifier and the gaussian shaping time constant . a comparison of the gaussian transfer function with the standard rc - cr and the square pulse serves as a motivation for the gaussian shape . a short description of the practical implementation as hybrid circuits follows .",
    "a profound analysis of several secondary effects are given .",
    "two important effects are due to the blocking capacitor .",
    "its equivalent dynamical resistance is given in equation [ eq : equicapagauss ] , and an upper boundary to the undershoot it introduces is given in equation [ eq : undershootgauss ] .",
    "also a detailed analysis of the influence of the input impedance of the amplifier is presented , leading to indications how to optimize this quantity if necessary .",
    "finally , the noise contribution due to the capacitive load is worked out in equation [ eq : extracapanoisegauss ] .",
    "although our analysis was focussed on the design of the front end electronics for the sans-2mhz project at the institut laue langevin , the results are of a sufficiently general nature to allow them to be a guide for other designs in position sensitive detection .",
    "10 k. h. lauterjung et al .",
    "methods 22 , 117 ( 1963 ) w. r. kuhlmann et al .",
    "methods 40 , 109 ( 1966 ) radeka v. 1974 , ieee trans .",
    "ns-21 , 51 f. schneider , cern 82 - 06 , 4 june 1982 johnson , johnson and moore , a handbook of active filters 1980 prentice - hall , inc .",
    "m. e. van valkenburg , introduction to modern network synthesis , 1960 john wiley and sons ."
  ],
  "abstract_text": [
    "<S> an amplifier has been designed for optimal use of position sensitive thermal neutron detectors using the principle of resistive charge division . </S>",
    "<S> the important points in this optimization are : high counting rates and good spatial resolution . </S>",
    "<S> this amplifier is built as a hybrid circuit and is now used on several new instruments at the ill . </S>",
    "<S> it consists of a fast low noise current pre - amplifier , a gaussian shaping circuit based on a 4th order active filter and an essentially noiseless baseline reconstruction . in this paper , we present a rather complete theoretical analysis of the problem that lead us to the choices made above , and allows for an optimal adaptation to other situations . </S>",
    "<S> an analysis of unwanted , secondary effects is also worked out . </S>"
  ]
}