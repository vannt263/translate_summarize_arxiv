{
  "article_text": [
    "the study of limiting properties of large graphs have recently received a great attention , mainly in two directions : limits of graphs with bounded degrees @xcite and limit of dense graphs @xcite .",
    "these developments are nicely documented in the recent monograph of lovsz @xcite .",
    "motivated by a possible unifying scheme for the study of structural limits , we introduced the notion of stone pairing and @xmath0-convergence @xcite .",
    "precisely , we proposed an approach based on the _ stone pairing _",
    "@xmath2 of a first - order formula @xmath3 ( with set of free variables @xmath4 ) and a graph @xmath5 , which is defined by following expression @xmath6 in other words , @xmath2 is the probability that @xmath3 is satisfied in @xmath5 by a random assignment of vertices ( chosen independently and uniformly in the vertex set of @xmath5 ) to the free variables of @xmath5 .",
    "stone pairing induces a notion of convergence : a sequence of graphs @xmath7 is _ @xmath0-convergent _ if , for every first order formula @xmath3 ( in the language of graphs ) , the values @xmath8 converge as @xmath9 . in other words",
    ", @xmath7 is @xmath0-convergent if the probability that a formula @xmath3 is satisfied by the graph @xmath10 with a random assignment of vertices of @xmath10 to the free variables of @xmath3 converges as @xmath11 grows to infinity .",
    "it is sometimes interesting to consider weaker notions of convergence , by restricting the set of considered formulas to a fragment @xmath1 of @xmath0 . in this case",
    ", we speak about _ @xmath1-convergence _ instead of @xmath0-convergence .",
    "of special importance are the following fragments :     @xmath12&_quantifier free _ formulas&_left convergence _ @xcite + @xmath13&_sentences _ ( no free variables)&_elementary convergence _",
    "+ @xmath14&formulas with free variables in @xmath15 & + @xmath16&_local _ formulas ( depending on a fixed distance neighborhood of the free variables ) & + @xmath17&_local _ formulas with single free variable&_local convergence _ ( if bounded degree ) @xcite +    note that the above notions clearly extend to relational structures .",
    "precisely , if we consider relational structures with signature @xmath18 , the symbols of the relations and constants in @xmath18 define the non - logical symbols of the vocabulary of the first - order language @xmath19 associated to @xmath18-structures . notice that if @xmath18 is at most countable then @xmath19 is countable .",
    "we have shown in @xcite that every finite relational structure @xmath20 with ( at most countable ) signature @xmath21 defines ( injectively ) a probability measure @xmath22 on the standard borel space @xmath23 , which is the stone space of the lindenbaum - tarski algebra of first - order formulas ( modulo logical equivalence ) in the language of @xmath21-relational structures . in this",
    "setting , a sequence @xmath24 of @xmath21-structures is @xmath0-convergent if and only if the sequence @xmath25 of measures converge ( in the sense of a weak- * convergence ) , and that the uniquely determined limit probability measure @xmath26 is such that for every first - order formula @xmath3 it holds @xmath27 where @xmath28 stands for the indicator function of the set @xmath29 of the @xmath30 such that @xmath31 .",
    "note that the space of probability measures on the stone space of a countable boolean algebra , equipped with the weak topology , is compact .",
    "it is natural to search for a limit object that would more look like a relational structure .",
    "thus we introduced in @xcite  as candidate for a possible limit object of sparse structures  the notion of modeling , which extends the notion of graphing introduced for bounded degree graphs .",
    "here is an outline of its definition .",
    "relational sample space _ is a relational structure @xmath20 ( with signature @xmath21 ) with additional structure : the domain @xmath32 of @xmath20 of a relation sample space is a standard borel space ( with borel @xmath33-algebra @xmath34 ) with the property that every subset of @xmath35 that is first - order definable in @xmath36 is measurable ( in @xmath35 with respect to the product @xmath33-algebra ) .",
    "a _ modeling _ is a relational sample space equiped with a probability measure ( denoted @xmath37 ) .",
    "for brevity we shall use the same letter @xmath20 for structure , relational sample space , and modeling .",
    "the definition of modelings allows us to extend stone pairing naturally to modelings : the _ stone pairing _",
    "@xmath38 of a first - order formula @xmath3 ( with free variables in @xmath15 ) and a modeling @xmath20 , is defined by @xmath39 where @xmath40 is the indicator function of the _ solution set _",
    "@xmath41 of @xmath3 in @xmath20 , that is : @xmath42 note that every finite structure canonically defines a modeling ( with same universe , discrete @xmath33-algebra , and uniform probability measure ) and that in the definition above matches the definition of stone pairing of a formula and a finite structure introduced earlier .    in the following ,",
    "we assume that free variables of formulas are of the form @xmath43 with @xmath44 .",
    "note that the free variables need not to be indexed by consecutive integers . for a formula @xmath3 ,",
    "denote by @xmath45 the formula obtained by packing the free variables of @xmath3 : if the free variables of @xmath3 are @xmath46 with @xmath47 then @xmath45 is obtained from @xmath3 by renaming @xmath46 to @xmath48 .",
    "although @xmath41 and @xmath49 differ in general , it is clear that they have same measure ( as @xmath41 can be obtained from @xmath49 by taking the cartesian product by some power of @xmath32 , and then permuting the coordinates ) .",
    "hence for every formula @xmath3 it holds @xmath50 that is : the stone pairing is invariant by renaming of the free variables .",
    "the expressive power of the stone pairing goes slightly beyond satisfaction statistics of first - order formulas .",
    "in particular , we prove ( see corollary  [ cor : omega1 ] ) that the stone pairing @xmath51 can be extended in a unique way to the infinitary language @xmath52 , which is an extension of @xmath0 allowing countable conjunctions and disjunctions @xcite .",
    "note that this language is still complete , as proved by karp @xcite .",
    "although the compactness theorem does not hold for @xmath53 , the interpolation theorem for @xmath53 was proved by lopez - escobar @xcite and scott s isomorphism theorem for @xmath53 by scott @xcite .",
    "for a modeling @xmath20 and an integer @xmath54 , the @xmath53-definable subsets of @xmath35 correspond to the smallest @xmath33-algebra that contains all the first - order definable subsets of @xmath35 ( see lemma  [ lem : omega ] ) . according to the definition of a modeling , this means that all @xmath53-definable sets of a modeling are borel measurable .",
    "we say that a class @xmath55 of structures _ admits modeling limits _ if for every @xmath0-convergent sequence of structures @xmath56 there is a modeling @xmath57 such that for every @xmath58 it holds @xmath59 what we denote by @xmath60 . more generally ,",
    "for a fragment @xmath1 of @xmath0 , we say that a class @xmath55 of structures _ admits modeling @xmath1-limits _ if for every @xmath61-convergent sequence of structures @xmath56 there is a modeling @xmath57 such that for every @xmath62 it holds @xmath63 , and we denote this by @xmath64 .",
    "the following results have been proved in  @xcite :    * every class of graphs with bounded degree admits modeling limits ; * every class of graphs of colored rooted trees bounded height admits modeling limits ; * every class of graphs with bounded tree - depth admits modeling limits .    on the other hand , only sparse monotone classes of graphs",
    "can admits modeling limits . precisely , if a monotone class of graphs admits modeling limits , then it is nowhere dense @xcite , and we conjectured that a monotone class of graphs actually admits modeling limits if and only if it is nowhere dense .",
    "recall that a monotone class of graphs @xmath65 is _ nowhere dense _",
    "if , for every integer @xmath54 there exists a graph whose @xmath54-subdivision is not in @xmath55 ( for more on nowhere dense graphs , see @xcite ) .",
    "the importance of nowhere dense classes and the strong relationship of this notion with first - order logic is examplified by the recent result of grohe , kreutzer , and siebertz @xcite , which states that ( under a reasonable complexity theoretic assumption ) deciding first - order properties of graphs in a monotone class @xmath55 is fixed - parameter tractable if and only if @xmath55 is nowhere dense .    in this paper",
    ", we initiate a systematic study of hereditary classes that admit modeling limits .",
    "we prove that the problem of the existence of a modeling limit can be reduced to the study of @xmath16-convergence , and then to two `` typical '' particular cases :    * _ residual sequences _",
    ", that is sequences such that ( intuitively ) the limit has only zero - measure connected components , * _ non - dispersive sequences _ , that is sequences such that ( intuitively ) the limit is ( almost ) connected .",
    "a modeling @xmath20 with universe @xmath32 satisfies the _ finitary mass transport principle _ if , for every @xmath66 and every integers @xmath67 such that @xmath68 it holds @xmath69 it is clear that every finite structure satisfies the finitary mass transport principle , hence every modeling @xmath0-limit of finite structures satisfies the finitary mass transport principle , too .    a stronger version of this principle , which is also satisfied by every finite structure ,",
    "does not automatically hold in the limit . a modeling @xmath20 with universe @xmath32",
    "satisfies the _ strong finitary mass transport principle _ if , for every measurable subsets @xmath70 of @xmath32 , and every integers @xmath67 , the following property holds :    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ if every @xmath71 has at least @xmath72 neighbors in @xmath73 and every @xmath74 has at most @xmath75 neighbors in @xmath1 then @xmath76 . _",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    in this context , we prove the following theorem , which is the principal result of this paper .",
    "let @xmath55 be a hereditary class of structures .",
    "assume that for every @xmath56 and every @xmath77 ( @xmath78 ) the following properties hold :    1 .",
    "if @xmath24 is @xmath17-convergent and residual , then it has a modeling @xmath17-limit ; 2 .   if @xmath79 is @xmath16-convergent ( resp .",
    "@xmath80-convergent ) and @xmath81-non - dispersive then it has a modeling @xmath16-limit ( resp .",
    "a @xmath80-limit ) .    then @xmath55 admits modeling limits ( resp . modeling @xmath14-limits ) .    moreover , if in cases ( 1 ) and ( 2 ) the modeling limits satisfy the strong finitary mass transport principle , then @xmath55 admits modeling limits ( resp . modeling @xmath14-limits ) that satisfy the strong finitary mass transport principle",
    ".    then we apply this theorem in section  [ sec : trees ] to give a simple proof of the fact that the class of forests admit modeling limits .",
    "the class of finite forests admits modeling limits , that is : every @xmath0-convergent sequence of finite forests as a modeling @xmath0-limit that satisfies the strong finitary mass transport principle .",
    "note that a result similar to theorem  [ thm : mtree ] was recently claimed by kr , kupec , and tuma @xcite .",
    "let @xmath20 be a relational structure with signature @xmath18 and universe @xmath32 , and let @xmath82 .",
    "the _ substructure _",
    "$ ] _ induced _ by @xmath1 has domain @xmath1 and the same relations as @xmath20 ( restricted to @xmath1 ) .",
    "a class @xmath55 of @xmath18-structures is _ hereditary _ if every induced substructure of a structure in @xmath55 belongs to @xmath55 : @xmath84\\in\\mathcal c$ ] .",
    "the _ distance _ between two vertices @xmath85 is the smallest number of relations inducing a connected substructure of @xmath20 and containing both @xmath86 and @xmath87 , that is the graph distance between @xmath86 and @xmath87 in the gaifman graph of @xmath20 . for @xmath88 and @xmath89 ,",
    "we denote by @xmath90 the _ ball of radius @xmath91 centered at @xmath87 _ , that is the substructure of @xmath20 induced by the vertices at distance at most @xmath91 from @xmath87 in @xmath20 . more generally , for @xmath92 , we denote by @xmath93 the substructure of @xmath20 induced by the vertices at distance at most @xmath91 from at least one of the @xmath94 ( @xmath95 ) in @xmath20 .",
    "a formula @xmath96 is _ @xmath91-local _ if its satisfaction only depends on the @xmath91-neighborhood of the free variables , that is : for every @xmath18-structure @xmath20 and every @xmath97 it holds @xmath98    recall the particular case of gaifman locality theorem for sentences , which we will be usefull in the following .",
    "local sentence _ is a sentence of the form @xmath99 where @xmath100 and @xmath101 is @xmath91-local .",
    "[ thm : gaifman0 ] every first - order sentence is equivalent to a boolean combination of local sentences .",
    "we end this section with two very simple but usefull lemmas .",
    "[ lem:1 ] let @xmath102 be formulas",
    ". then it holds @xmath103    @xmath104 thus @xmath105    [ lem : indep ] let @xmath106 be formulas without common free variables",
    ". then it holds @xmath107    let @xmath108 . for every modeling @xmath20",
    ", the solution set @xmath109 can be obtained from @xmath110 by permuting the coordinates , hence both sets have the same measure , that is : @xmath111",
    "by definition , the stone pairing @xmath38 measures the probability that a given first - order formula @xmath3 is satisfied in @xmath20 by a random assignment of vertices of @xmath20 to the free variables . for this definition to make sense , we have to assume that every subset of a power of @xmath32 that is first - order definable without parameters is measurable .",
    "hence we have to consider , for each @xmath112 , a @xmath33-algebra on @xmath35 that contains all subsets of @xmath35 that are first - order definable without parameters .",
    "the aim of this section is to prove that the minimal @xmath33-algebra including all subsets of @xmath35 that are first - order definable without parameters is exactly the family of all subsets of @xmath35 that are @xmath52-definable without parameters .",
    "we take time out for two lemmas .",
    "[ lem : sig ] let @xmath113 be a set .",
    "for @xmath112 , let @xmath114 be a field of sets on @xmath115 , and let @xmath116 be the minimal @xmath33-algebra that contains @xmath114 . for @xmath112 , let @xmath117 and let @xmath118 be defined by @xmath119 .",
    "assume that for each @xmath112 , @xmath120 maps @xmath121 to @xmath122 .",
    "then @xmath120 maps @xmath123 to @xmath124 .",
    "the proof follows the standard construction of a @xmath33-algebra by transfinite induction . for @xmath112",
    ", we let    * @xmath125 be the collection of sets obtained as countable unions of increasing sets in @xmath114 , that is : sets of the form @xmath126 where @xmath127 and @xmath128 ; * @xmath129 be the collection of sets obtained as countable intersections of decreasing sets in @xmath114 , that is : sets of the form @xmath130 where @xmath127 and @xmath131 ; * ( for @xmath132 not a limit ordinal ) @xmath133 be the collection of sets obtained as countable unions of increasing sets in @xmath134 ; * ( for @xmath132 not a limit ordinal ) @xmath135 be the collection of sets obtained as countable intersections of decreasing sets in @xmath136 ; * ( for @xmath137 limit ordinal ) @xmath138 and @xmath139",
    ".    then it is easily checked that by induction that for every @xmath137 up to @xmath140 it holds :    * for all @xmath141 , @xmath142 ; * for every limit ordinal @xmath137 , @xmath143 ; * if @xmath144 then @xmath145 and @xmath146 ; * if @xmath147 then @xmath148 and @xmath149 ; * @xmath120 maps @xmath150 to @xmath133 and @xmath151 to @xmath135 ;    according to the monotone class theorem , @xmath152 .",
    "[ lem : omega ] we consider a relational structure @xmath20 with countable signature .",
    "let @xmath114 ( resp .",
    "@xmath153 ) be the field of sets of all the subsets of @xmath35 that are first - order definable without ( resp . with ) parameters .",
    "then the smallest @xmath33-algebra @xmath154 ( resp .",
    "@xmath155 ) is the algebra of all the subsets of @xmath35 that are definable in @xmath52 without ( resp . with )",
    "parameters .",
    "let @xmath156 and @xmath157 be the projection map . according to lemma  [ lem : sig ] ,",
    "the projection map send sets in @xmath123 to sets in @xmath116 ( and sets in @xmath158 to sets in @xmath159 ) .",
    "it follows easily that subsets of @xmath35 that are @xmath52-definable without ( resp . with ) parameters",
    "are exactly those in @xmath116 ( resp .",
    "@xmath159 ) .",
    "note that when @xmath20 is a modeling , the collection of the subsets of @xmath35 definable in @xmath52 without parameters is the @xmath33-algebra generated by the projection @xmath160{\\sf\\textstyle tp}{}}:a^p\\rightarrow s(\\mathcal b({\\rm fo}_p))$ ] , mapping a @xmath54-tuple of vertices of @xmath32 to its @xmath54-type : a subset @xmath1 of @xmath35 is definable in @xmath52 without parameters if and only if it is the preimage by @xmath160{\\sf\\textstyle tp}{}}$ ] of a borel subset of @xmath161 ( see @xcite for detailed definition and analysis of @xmath160{\\sf\\textstyle tp}{}}$ ] ) .",
    "[ cor : omega1 ] for every modeling @xmath20 the stone pairing @xmath51 can be extended in a unique way to @xmath52 .",
    "let @xmath162 be the set of all probability measures on the stone space @xmath163 , and let @xmath164 be the @xmath33-algebra generated by evaluation maps @xmath165 for @xmath32 measurable set of @xmath163 .",
    "it is well known that @xmath166 is a standard borel space ( @xcite , sect .",
    "@xmath167.e ) .",
    "( hence the space of all finite @xmath18-structures and their @xmath0-limits is also a compact standard borel space , as it can be identified to a closed subspace of @xmath162 . )",
    "the mapping @xmath168 embeds the space @xmath169 of modelings into @xmath162 .",
    "the initial topology on @xmath169 with respect to this mapping is the same as the topology induced by stone pairing .",
    "hence the mapping @xmath170 $ ] , which maps @xmath20 to @xmath171 , is continuous for @xmath172 , and measurable for @xmath173 .",
    "also remark that the topology of @xmath162 can be defined by means of lvy  prokhorov metric ( by choosing some metric on the stone space ) . for instance , for finite signature @xmath18 , the topology of @xmath169 can be generated by the pseudometric : @xmath174    let @xmath20 be a relational sample space",
    ". then every subset of @xmath35 that is @xmath52-definable ( with parameters ) is measurable ( with respect to product borel @xmath33-algebra @xmath175 ) .",
    "interpretation schemes ( introduced in this setting in  @xcite ) generalize to other logics than @xmath0 .",
    "[ def : interp ] let @xmath176 be a logic ( for us , @xmath0 or @xmath177 ) . for @xmath112 and a signature @xmath18 , @xmath178 denotes the set of the formulas in the language of @xmath18 in logic @xmath176 , with free variables in @xmath15 .",
    "let @xmath179 be signatures , where @xmath18 has @xmath180 relational symbols @xmath181 with respective arities @xmath182 .",
    "an _ @xmath176-interpretation scheme _",
    "@xmath183 of @xmath18-structures in @xmath184-structures is defined by an integer @xmath185  the _ exponent _ of the @xmath176-interpretation scheme  a formula @xmath186 , a formula @xmath187 , and a formula @xmath188 for each symbol @xmath189 , such that :    * the formula @xmath190 defines an equivalence relation of @xmath185-tuples ; * each formula @xmath191 is compatible with @xmath190 , in the sense that for every @xmath192 it holds @xmath193 where @xmath194 , boldface @xmath195 and @xmath196 represent @xmath185-tuples of free variables , and where @xmath197 stands for @xmath198 .    for a @xmath184-structure @xmath20 ,",
    "we denote by @xmath199 the @xmath18-structure @xmath200 defined as follows :    * the domain @xmath201 of @xmath200 is the subset of the @xmath190-equivalence classes @xmath202\\subseteq a^k$ ] of the tuples @xmath203 such that @xmath204 ; * for each @xmath205 and every @xmath206 such that @xmath207 ( for every @xmath208 ) it holds @xmath209,\\dots,[\\mathbf v_{r_i}])\\quad\\iff\\quad     \\mathbf a\\models",
    "\\theta_i(\\mathbf v_1,\\dots,\\mathbf v_{r_i}).\\ ] ]    from the standard properties of model theoretical interpretations ( see , for instance @xcite p.  180 ) , we state the following : if @xmath210 is an @xmath176-interpretation of @xmath18-structures in @xmath184-structures , then there exists a mapping @xmath211 ( defined by means of the formulas @xmath212 above ) such that for every @xmath213 , and every @xmath184-structure @xmath20 , the following property holds ( while letting @xmath214 and identifying elements of @xmath201 with the corresponding equivalence classes of @xmath215 ) :    for every @xmath216,\\dots,[\\mathbf v_p]\\in b^{p}$ ] ( where @xmath217 ) it holds @xmath218,\\dots,[\\mathbf v_p])\\quad\\iff\\quad \\mathbf    a\\models \\tilde{\\mathsf i}(\\phi)(\\mathbf v_1,\\dots,\\mathbf v_p).\\ ] ]    it directly follows from the existence of the mapping @xmath219 that    * an @xmath0-interpretation scheme @xmath183 of @xmath18-structures in @xmath184-structures defines a continuous mapping from @xmath220 to @xmath163 ; * an @xmath52-interpretation scheme @xmath183 of @xmath18-structures in @xmath184-structures defines a measurable mapping from @xmath220 to @xmath163 .",
    "let @xmath179 be signatures .",
    "a _ basic @xmath176-interpretation scheme _",
    "@xmath183 of @xmath18-structures in @xmath184-structures with _ exponent _ @xmath185 is defined by a formula @xmath221 for each symbol @xmath189 with arity @xmath222 .    for a @xmath184-structure @xmath20 ,",
    "we denote by @xmath199 the structure with domain @xmath215 such that , for every @xmath189 with arity @xmath222 and every @xmath223 it holds @xmath224    it is immediate that every basic @xmath176-interpretation scheme @xmath210 defines a mapping @xmath225 such that for every @xmath184-structure @xmath20 , every @xmath226 , and every @xmath227 it holds @xmath228    we deduce the following general properties :    [ lemma : interpfo ] let @xmath210 be an @xmath0-interpretation scheme of @xmath18-structures in @xmath184-structures .",
    "then , if a sequence @xmath24 of finite @xmath184-structures is @xmath0-convergent then the sequence @xmath229 of ( finite ) @xmath18-structures is @xmath0-convergent .",
    "[ lemma : interpomega ] let @xmath210 be an @xmath177-interpretation scheme of @xmath18-structures in @xmath184-structures .    if @xmath210 is injective and @xmath20 is a relational sample space , then @xmath230 is a relational sample space .",
    "furthermore , if @xmath210 is a basic @xmath177-interpretation scheme and @xmath20 is a modeling , then @xmath230 is a modeling and for every @xmath226 , it holds @xmath231    assume @xmath210 is an injective @xmath177-interpretation scheme and @xmath20 is a relational sample space .",
    "we first mark all the ( finitely many ) parameters and reduce to the case where the interpretation has no parameters ( as in the case of @xmath0-interpretation , see @xcite .",
    "let @xmath232 be the domain of @xmath233 .",
    "as @xmath201 is @xmath176-definable in @xmath200 , @xmath232 is @xmath176-definable in @xmath20 hence @xmath234 .",
    "then @xmath232 is a borel sub - space of @xmath215 . as @xmath233 is a bijection from @xmath232 to @xmath201",
    ", we deduce that @xmath235 is a standard borel space .",
    "moreover , as the inverse image of every @xmath176-definable set of @xmath200 is @xmath176-definable in @xmath20 , we deduce that @xmath236 is a @xmath18-relational sample space .",
    "assume @xmath210 is a basic @xmath177-interpretation scheme and @xmath20 is a modeling .",
    "the pushforward of @xmath37 by @xmath210 defines a probability measure on @xmath230 such that for every @xmath226 , it holds @xmath237",
    "every modeling can be decomposed into countably many connected components with non - zero measure and an union of connected components with ( individual ) zero measure . a",
    "_ residual modeling _ is a modeling , all components of which have zero measure .",
    "[ lem : res ] a modeling @xmath20 is residual if it holds @xmath238    assume that for every @xmath88 it holds @xmath239 . for @xmath240 ,",
    "the connected component @xmath241 of @xmath86 is @xmath242 .",
    "as all these balls are first - order definable ( hence measurable ) we deduce @xmath243 it follows that every connected component of @xmath57 has zero - measure , hence @xmath20 is residual .",
    "conversely , assume that there exists @xmath240 and @xmath88 such that @xmath244",
    ". then the connected component of @xmath86 does not have zero measure , hence @xmath20 is not residual .",
    "this equivalence justifies the following notion of residual sequence .",
    "a sequence @xmath24 of modelings is _ residual _ if @xmath245    [ lem:2 ] let @xmath246 be @xmath91-local , and define the formula @xmath247    then there exist @xmath91-local formulas @xmath248 such that it holds @xmath249    according to lemma  [ lem:1 ] it holds @xmath250 according to the @xmath91-locality of @xmath3 there exist @xmath91-local formulas @xmath248 such that @xmath251 is logically equivalent to @xmath252 ( where @xmath253 denotes the formula @xmath101 with free variable @xmath254 renamed @xmath43 ) .",
    "thus , according to lemma  [ lem:1 ] , it holds @xmath255 as the formulas @xmath253 use no common free variables , it holds ( according to lemma  [ lem : indep ] ) : @xmath256 hence the result .",
    "let @xmath246 be @xmath91-local",
    ".    then there exist @xmath91-local formulas @xmath248 such that for every modeling @xmath20 it holds @xmath257    let @xmath258 be defined as in lemma  [ lem:2 ] . by union",
    "bound , we get @xmath259 and the result follows from lemma  [ lem:2 ] .    [ lem : resloc ] for a residual sequence , @xmath16-convergence is equivalent to @xmath260-convergence .",
    "let @xmath24 be a residual sequence .",
    "if @xmath24 is @xmath16-convergent , it is @xmath261-convergent ;    assume @xmath24 is @xmath17-convergent , let @xmath96 be an @xmath91-local formula , and let @xmath258 be the formula @xmath262 .",
    "as @xmath55 is residual , it holds @xmath263 according to lemma  [ lem:2 ] , there exist @xmath91-local formulas @xmath248 such that for every @xmath78 it holds @xmath264 hence @xmath265    hence for residual sequences , @xmath266-convergence implies @xmath16-convergence .    to every formula @xmath96 and integer @xmath88 we associate the formula @xmath267 defined as @xmath268",
    "a modeling @xmath20 is _ clean _ if for every formula @xmath269 it holds @xmath270 ( note that the right - hand side condition is equivalent to existence of @xmath271 such that @xmath272 . )    let @xmath20 be a residual clean modeling and let @xmath269 .",
    "if @xmath273 is not empty , then it is uncountable .",
    "assume @xmath41 is not empty . as @xmath20 is clean , there exists @xmath88 such that @xmath272 , that is : @xmath274 .",
    "clearly @xmath275 .",
    "assume for contradiction that @xmath41 is countable .",
    "then @xmath276 as @xmath20 is residual , for every @xmath89 it holds @xmath277 , what contradicts the assumption @xmath274 .",
    "let @xmath1 be a fragment of @xmath0 .",
    "two modeling @xmath20 and @xmath278 are _",
    "@xmath1-equivalent _ if , for every @xmath62 it holds @xmath279 .",
    "we shall now show how any modeling can be transformed into a residual clean modeling , which is @xmath17-equivalent .",
    "[ lem : mkres ] let @xmath20 be a modeling .",
    "then there exists a residual modeling @xmath278 that is @xmath17-equivalent to @xmath20 .",
    "consider the modeling @xmath278 with universe @xmath280 $ ] , measure @xmath281 ( where @xmath21 is standard borel measure of @xmath282 $ ] ) and relations defined as follows : for every relation @xmath283 of arity @xmath222 it holds @xmath284 then @xmath278 is residual and for every @xmath269 it holds    @xmath285 ) = \\nu_{\\mathbf a}(\\omega_\\phi(\\mathbf a ) ) = \\langle\\phi,\\mathbf a'\\rangle.\\ ] ]    [ lem : mkclean ] let @xmath20 be a residual modeling .",
    "then there exists a residual clean modeling @xmath278 obtained from @xmath20 by removing a union of connected components with global @xmath37-measure zero .",
    "let @xmath269 be such that @xmath286 and @xmath287",
    ". for @xmath89 , denote by @xmath288 the connected component of @xmath20 that contains @xmath87 , that is : @xmath289 .",
    "note that if @xmath290 and if @xmath291 then @xmath292 but @xmath293 .",
    "note that the assumption on @xmath3 rewrites as `` @xmath294 while for every @xmath295 it holds @xmath296 '' .",
    "then @xmath297    denote by @xmath298 the set of all @xmath269 such that @xmath299 and let @xmath278 be obtained by removing @xmath300 from @xmath20",
    ". as for every @xmath301 it holds @xmath302 and as @xmath298 is countable , the modeling @xmath278 differs from @xmath20 by a set of connected components of global measure @xmath303 .",
    "moreover , it is clear that @xmath278 is clean .",
    "recall that @xmath0-convergence can be decomposed into elementary convergence and @xmath16-convergence :    a sequence @xmath24 is @xmath0-convergent if and only if it is both elementary convergent and @xmath16-convergent .",
    "consequently , a modeling @xmath304 is a modeling @xmath0-limit of a sequence @xmath24 if and only if it is both an elementary limit and a modeling @xmath16-limit of it .",
    "the interest of residual clean modelings stands in the following .",
    "[ lem : mkfull ] let @xmath7 be a residual @xmath0-convergent sequence .",
    "if @xmath57 is a residual clean modeling @xmath17-limit of @xmath7 and @xmath169 is a countable elementary limit of @xmath7 then @xmath305 is a modeling @xmath0-limit of @xmath7 .    according to theorem  [ thm : gaifman0 ] , it is sufficient to check that if @xmath306 are @xmath91-local formulas with a single free variable and if we let @xmath307 then it holds @xmath308 but ( according to the locality assumptions ) it is equivalent to check that for every @xmath91-local @xmath306 and associated @xmath3 it holds @xmath309 but if @xmath310 , then forall @xmath311 it holds @xmath312 hence , as @xmath57 is clean , it that there exists @xmath313 such that @xmath314 for every @xmath311 .",
    "as @xmath57 is residual , this implies @xmath315 .",
    "thus there exits @xmath316 such that for every @xmath317 it holds @xmath318 .",
    "in particular the elementary limit @xmath169 of @xmath10 satisfies @xmath319 .",
    "[ cor : res ] a residual @xmath0-convergent sequence @xmath7 admits a modeling @xmath0-limit if and only if it admits a modeling @xmath17-limit .    in this context , the following conjecture is interesting .",
    "[ conj:1 ] every @xmath0-convergent residual sequence admits a modeling @xmath0-limit .",
    "note that , according to lemmas  [ lem : mkres ] ,  [ lem : mkclean ] and  [ lem : mkfull ] , conjecture  [ conj:1 ] is equivalent to the ( seemingly weaker ) conjecture that every @xmath17-convergent residual sequence admits a modeling @xmath17-limit .",
    "the notion of residual sequences derives from the notion of residual modelings , that is : modelings without connected components with non - zero measure ) . similarly",
    "the notion of non - dispersive sequences derives from the notion of connected modelings ( modulo a zero - measure set ) .",
    "a sequence @xmath24 of modelings is _ non - dispersive _ if @xmath320    in the case of rooted structures , we usually want a stronger statement that the structures remain concentrated around their roots : a sequence @xmath79 of rooted modelings is _ @xmath81-non - dispersive _ if @xmath321    note that every @xmath81-non - dispersive sequence is obviously non - dispersive .",
    "let @xmath24 be a non - dispersive @xmath16-convergent sequence .",
    "if @xmath24 has a modeling @xmath16-limit @xmath57 , then @xmath57 has a full measure connected component , which is also a modeling @xmath16-limit of @xmath24 .",
    "[ lem : equivr ] let @xmath79 be a @xmath81-non - dispersive @xmath322-convergent sequence , with modeling @xmath17-limit @xmath323 and a countable elementary limit @xmath324 .",
    "let @xmath325 and @xmath326 be the connected component of the root in @xmath169 and @xmath57 , respectively",
    ". then @xmath325 and @xmath326 are elementarily equivalent .",
    "as @xmath79 is @xmath81-non - dispersive , @xmath326 has full measure . according to theorem  [ thm : gaifman0 ] ,",
    "it is sufficient to check that if @xmath306 are @xmath91-local formulas with a single free variable and if we let @xmath307 then it holds @xmath327    assume @xmath328 .",
    "let @xmath329 be such that @xmath330 . as @xmath326 is a full measure connected component of @xmath57 , there exists @xmath331 such that @xmath332 .",
    "let @xmath333 be the @xmath334-local formula @xmath335 then obviously @xmath336 hence @xmath337 .",
    "as @xmath57 is a modeling @xmath17-limit of @xmath79 , there exists @xmath316 such that for every @xmath317 it holds @xmath338 .",
    "in particular , for every @xmath317 it holds @xmath339 hence @xmath340 .",
    "conversely , assume that @xmath340 .",
    "let @xmath341 be such that @xmath342 , and let @xmath343 . as @xmath344 is an elementary limit of @xmath79 , there exists @xmath316 such that for every @xmath317 it holds @xmath345 as @xmath79 is @xmath81-non - dispersive , there exists @xmath346 and @xmath347 such that for every @xmath317 , it holds @xmath348 .",
    "let @xmath333 be the @xmath349-local formula @xmath350 then obviously @xmath351 hence @xmath352 .",
    "as @xmath57 is a modeling @xmath17-limit of @xmath79 , it holds @xmath337 hence , as @xmath326 is full dimensional , all of @xmath353 but a subset with @xmath354-measure zero is included in @xmath355 .",
    "hence @xmath328 .",
    "[ lem : mkfullc ] let @xmath356 and let @xmath79 be a @xmath81-non - dispersive @xmath14-convergent sequence , with modeling @xmath80-limit @xmath323 and countable elementary limit @xmath324 .",
    "let @xmath325 and @xmath326 be the connected components of the root in @xmath169 and @xmath57 , respectively . then @xmath357 is a modeling @xmath14-limit of @xmath79 .    according to lemma  [ lem : equivr ] , @xmath326 and @xmath325 are elementarily equivalent , so @xmath357 and @xmath169 are elementarily equivalent .",
    "it follows that @xmath357 is both an elementary limit of @xmath79 and a modeling @xmath80-limit of @xmath79 ( as it differs from @xmath57 by a set of connected components with global measure zero ) hence a modeling @xmath14-limit of @xmath79 .",
    "let @xmath24 be a non - dispersive @xmath17-convergent sequence with modeling @xmath17-limit @xmath57 .",
    "does there exist @xmath77 and @xmath358 such that @xmath79 is a @xmath81-non - dispersive @xmath17-convergent sequence with modeling @xmath17-limit @xmath323 ?    sometimes , @xmath81-non - dispersive sequences may be still quite difficult to handle , and sequences with bounded diameter may be more tractable .",
    "it is thus natural to consider to what extent it could be possible to further reduce to the bounded diameter case .",
    "we give here a partial answer .",
    "[ lem : boundedh ] let @xmath359 be a @xmath81-non - dispersive @xmath80-convergent sequence , and let @xmath323 be a connected modeling .",
    "assume that for each @xmath360 , it holds that @xmath361 is a modeling @xmath80-limit of @xmath362 .",
    "then @xmath323 is a modeling @xmath80-limit of @xmath359 .",
    "let @xmath96 be @xmath91-local and let @xmath363 .",
    "as @xmath79 is @xmath81-non - dispersive and as @xmath57 is connected , there exist @xmath364 such that @xmath365 and such that for every @xmath317 it holds @xmath366 .",
    "let @xmath367 be the formula @xmath368 , and let @xmath369 be the formula @xmath370 .",
    "note that @xmath371 according to lemma  [ lem:1 ] it holds @xmath372 and also @xmath373 according to the @xmath91-locality of @xmath3 , it holds @xmath374 , hence @xmath375 similarly , it holds @xmath376 by assumption , @xmath377 is a modeling @xmath80-limit of @xmath378 .",
    "thus there exists @xmath347 such that @xmath379 , hence for every @xmath380 it holds @xmath381 considering @xmath382 , we deduce @xmath383",
    "the aim of this section is to prove that the study of @xmath0-convergent sequences of structures in a hereditary class naturally reduces to the study of residual sequences and @xmath81-non - dispersive sequences in that class .",
    "advancing the main result of this section , theorem  [ thm : break ] , we state four technical lemmas .",
    "[ lem : b1 ] let @xmath384 and let @xmath88 .",
    "then , for every graph @xmath5 there exists a subset @xmath32 of vertices such that    1 .",
    "[ enum : l11 ] for every @xmath385 , it holds @xmath386 ; 2 .",
    "[ enum : l12 ] for every @xmath387 , it holds @xmath388 ; 3 .",
    "[ enum : l13 ] @xmath389 .",
    "let @xmath32 be a maximal subset of vertices of @xmath5 such that    * for every @xmath385 , it holds @xmath390 ( hence holds ) ; * for every distinct @xmath391 , it holds @xmath392 .",
    "obviously , @xmath389 , hence holds .",
    "moreover , by maximality of @xmath1 , if @xmath87 is any vertex such that @xmath393 then there exists @xmath385 such that @xmath394 , thus @xmath395 . hence holds .",
    "[ lem : b2 ] let @xmath363 , let @xmath88 and let @xmath7 be an @xmath16-convergent sequence .",
    "then there exists integer @xmath396 , integer @xmath232 , and increasing function @xmath397 and an @xmath16-convergent sequence @xmath398 of @xmath180-rooted graphs , such that @xmath399 is a @xmath180-rooting of @xmath400 ( with roots @xmath401 ) and    * @xmath402 for every @xmath403 ; * @xmath404 for every @xmath403 and every @xmath78 ; * @xmath405 for every @xmath205 and every @xmath78 ; * @xmath406 for every @xmath407 and every @xmath78 .",
    "consider the signature obtained by adding @xmath408 unary symbols @xmath409 . according to lemma  [ lem : b1 ]",
    ", there exists , for each @xmath10 , vertices @xmath410 such that    * for every @xmath411 , it holds @xmath412 ; * for every @xmath413 , it holds @xmath414 ; * @xmath415 .",
    "we mark vertex @xmath410 by @xmath416 thus obtaining a structure @xmath417 . by compactness",
    ", the sequence @xmath24 has an @xmath0-converging subsequence @xmath418 .",
    "moreover , as the number of roots of @xmath417 converges ( by elementary convergence ) , we can assume without loss of generality that the subsequence is such that all the structures @xmath419 use exactly the marks @xmath420 ( with @xmath421 ) . according to the elementary convergence of @xmath418 , the limit @xmath422 exists for every @xmath423 and",
    "this limit can be either an integer or @xmath424 .",
    "let @xmath425 be a maximal subset of @xmath426 such that @xmath427 for every distinct @xmath428 , and let @xmath429 .",
    "without loss of generality , we assume that @xmath430 . define @xmath431 then each ball @xmath432 with @xmath433 is included in one of the balls @xmath434 with @xmath435 . as @xmath427 for every @xmath403 , there exists @xmath316 such that for every @xmath317 it holds @xmath436 .",
    "we let @xmath437 , @xmath438 , and @xmath439 .",
    "let @xmath384 , let @xmath440 , and let @xmath398 be an @xmath0-convergent sequence of @xmath180-rooted graphs ( with roots @xmath441 ) such that    * @xmath402 for every @xmath403 ; * @xmath404 for every @xmath403 and every @xmath78 ; * @xmath405 for every @xmath205 and every @xmath78 ; * @xmath406 for every @xmath407 and every @xmath78 .    for @xmath205 , we define the function @xmath442 by @xmath443 and we let @xmath444 .    for @xmath205 , we also define @xmath445 by @xmath446    we further define the function @xmath447 by @xmath448 and the function @xmath449 by @xmath450    for every @xmath451 and @xmath452 there exist @xmath453 such that for every @xmath317 it holds    * @xmath454 , * @xmath455 , * @xmath456 , * @xmath457 , * @xmath458 , * the @xmath441 s are pairwise at distance strictly greater than @xmath459",
    ".    choose @xmath460 and @xmath461 , @xmath462 and @xmath463 . note that the third condition then follows from @xmath464 and the obvious inequality @xmath465 .",
    "for every @xmath451 and @xmath452 there exist @xmath453 with the following properties : define rooted graphs @xmath466 and unrooted graph @xmath467 , let @xmath468 , and let @xmath469 .",
    "then for every @xmath317 :    * @xmath470 , * @xmath471 , * for every vertex @xmath472 it holds @xmath473 , * for every @xmath474-local @xmath96 it holds @xmath475 .",
    "obviously , @xmath476 and @xmath477 .",
    "let @xmath367 be the formula defined as @xmath478 and let @xmath369 be the formula @xmath479 .    for every @xmath317 , it holds @xmath480 hence @xmath481 .",
    "thus @xmath482    also , @xmath483 hence @xmath484 .",
    "thus @xmath485    according to the @xmath474-locality of @xmath3 it holds @xmath486 . hence @xmath487",
    "now for @xmath488 we let @xmath489 , @xmath490 , @xmath491 and @xmath492 .",
    "then it holds for every @xmath78 :    * @xmath493 is @xmath81-non - dispersive , * @xmath494 , * for every vertex @xmath472 it holds @xmath495 , * for every @xmath91-local @xmath96 and every @xmath496 it holds @xmath497 thus @xmath498 and @xmath499 have the same @xmath16-limit .",
    "[ thm : break ] let @xmath7 be an @xmath80-convergent sequence .",
    "then there exist a @xmath81-non - dispersive @xmath80-convergent sequences @xmath493 of rooted graphs ( @xmath44 ) , a residual @xmath80-convergent sequence @xmath500 , positive real numbers @xmath501 , and an increasing function @xmath502 such that :    1 .   the sequences @xmath498 and",
    "@xmath499 have the same @xmath16-limit , where @xmath503 .",
    "if @xmath493 has @xmath80-modeling limit @xmath504 , @xmath500 has @xmath17-modeling limit @xmath505 , @xmath506 , and @xmath507 , then @xmath508 is an @xmath80-modeling limit of @xmath7 .",
    "3 .   furthermore ,",
    "if @xmath7 is @xmath14-convergent , then it has a modeling @xmath14-limit , which can be obtained by first cleaning @xmath505 , computing @xmath57 , taking the disjoint union with some countable graph , and then forgetting marks .",
    "our main result immediately follows from theorem  [ thm : break ]    1 [ thm : main ] let @xmath55 be a hereditary class of structures .",
    "assume that for every @xmath56 and every @xmath77 ( @xmath78 ) the following properties hold :    1 .",
    "if @xmath24 is @xmath17-convergent and residual , then it has a modeling @xmath17-limit ; 2 .",
    "if @xmath79 is @xmath16-convergent ( resp .",
    "@xmath80-convergent ) and @xmath81-non - dispersive then it has a modeling @xmath16-limit ( resp .",
    "a @xmath80-limit ) .    then @xmath55 admits modeling limits ( resp . modeling @xmath14-limits ) .",
    "moreover , if in cases ( 1 ) and ( 2 ) the modeling limits satisfy the strong finitary mass transport principle , then @xmath55 admits modeling limits ( resp . modeling @xmath14-limits ) that satisfy the strong finitary mass transport principle .",
    "a _ component relation system _ for a class @xmath55 of modelings is a sequence @xmath509 of equivalence relations such that for every @xmath360 and for every @xmath510 there is a partition of the @xmath509-equivalence classes of @xmath32 into two parts @xmath511 and @xmath512 such that :    * every class in @xmath511 is a singleton ; * @xmath513 ( where @xmath514 ) ; * two vertices @xmath515 in @xmath516 belong to a same connected component of @xmath20 if and only if @xmath517 ( i.e. iff @xmath518 and @xmath519 belong to a same class ) .    a family of sequence @xmath520 of @xmath18-structures is _ uniformly elementarily convergent _ if , for every formula @xmath521 there is an integer @xmath522 such that it holds @xmath523    ( note that if a family @xmath520 of sequences is uniformly elementarily convergent , then each sequence @xmath524 is elementarily convergent . )    the proof of the next theorem essentially follows the lines of section 3.3 of  @xcite .",
    "we do not provide the updated version of the proof here , as the proof is quite long and technical , but does not present particular additional difficulties when compared to the original version .",
    "[ thm : ecomb ] let @xmath24 be an @xmath16-convergent sequence of finite @xmath18-structures with component relation system @xmath509 .",
    "then there exist @xmath525 and , for each @xmath526 , a real @xmath527 and a sequence @xmath528 of @xmath18-structures , such that @xmath529 ( for all @xmath78 ) , @xmath530 , and for each @xmath526 it holds    * @xmath531 , and @xmath532 if @xmath533 ; * if @xmath534 and @xmath535 then @xmath528 is @xmath16-convergent and residual ; * if @xmath536 then @xmath528 is @xmath16-convergent and non - dispersive .    moreover ,",
    "if @xmath24 is @xmath0-convergent we can require the family @xmath537 to be uniformly elementarily - convergent .",
    "the following theorem is proved in  @xcite :    [ thm : convcomb ] assume @xmath538 is a countable set , @xmath527 ( @xmath526 ) are reals , and @xmath528 ( @xmath526 ) are sequences of @xmath18-structures such that @xmath539 , @xmath540 , and for each @xmath526 , @xmath541 is @xmath16-convergent .",
    "then @xmath529 is @xmath16-convergent .",
    "also , if there exist @xmath18-modelings @xmath504 ( @xmath526 ) such that for each @xmath526 , @xmath542 , then @xmath543 .    moreover , if the family @xmath537 is uniformly elementarily - convergent , then @xmath24 is @xmath0-convergent . also ,",
    "if there exist @xmath18-modelings @xmath504 ( @xmath526 ) such that for each @xmath526 it holds @xmath544 ( for @xmath536 and @xmath534 if @xmath535 ) and @xmath545 ( if @xmath546 ) then @xmath547 .",
    "in this section we shall prove that every @xmath17-convergent residual sequence of trees has a modeling @xmath17-limit that satisfies the strong finitary mass transport principle .    in this section ,",
    "we consider rooted forests with edges oriented from the roots .",
    "roots are marked by unary relation @xmath169 and arcs by binary relation @xmath548 .",
    "rooted forests are defined by the following countable set of axioms :    1 .   for each @xmath88 , a formula stating that two distinct roots are at distance at least @xmath91 ( for each @xmath88 ) ; 2 .   a formula stating that every vertex has indegree exactly one if it is not a root , and zero if it is a root ; 3 .   for each @xmath88 , a formula stating that there is no circuit of length @xmath91 .    in other words ,",
    "a rooted forest is an directed acyclic graph such that all the vertices but the roots ( which are sources ) have indegree @xmath549 , and such that each connected component contains at most one root .",
    "note that a rooted forest has two types of connected components : connected components that contain a root , and ( infinite ) connected components that do not contain a root .",
    "we first state a lemma relating first - order properties of @xmath54-tuples in a rooted forest to first - order properties of individual vertices .",
    "[ lem : npto1 ] fix rooted forests @xmath550 .",
    "let @xmath551 be @xmath54 vertices of @xmath552 , let @xmath553 be @xmath54 vertices of @xmath554 , and let @xmath555 .",
    "we denote by @xmath556 both the first - order defined mapping that maps a non - root vertex to its unique in - neighbor and leaves roots fixed .",
    "assume that for every @xmath557 and every @xmath558-local formula @xmath269 with quantifier rank at most @xmath559 it holds @xmath560 and that for every @xmath561 and every @xmath562 , it holds @xmath563    then , for every @xmath91-local formula @xmath564 with quantifier rank at most @xmath11 it holds @xmath565    the proof is similar to the proof of lemma  4.13 in  @xcite .",
    "[ lem : tree1 ] every @xmath17-convergent residual sequence of forests @xmath566 has a modeling @xmath17-limit that satisfies the strong finitary mass transport principle .",
    "let @xmath566 be an @xmath17-convergent residual sequence of forests .",
    "we mark a root ( by unary relation @xmath169 ) in each connected component of @xmath567 and orient the edges of @xmath567 from the root ( we denote by @xmath568 the binary relation expressing the existence of an arc from @xmath518 to @xmath519 ) . by extracting a subsequence",
    ", we assume that ( the rooted oriented ) @xmath566 is @xmath17-convergent .",
    "connected components of the limit may or not contain a root .",
    "for instance , if @xmath567 is the union of @xmath569 copies of stars of order @xmath569 , then every connected component in the limit contains a root ; however , if @xmath567 is a path of length @xmath11 , only one connected component ( with zero measure ) in the limit contains a root .",
    "local formulas form a boolean algebra .",
    "let @xmath570 be the associated stone space , and let @xmath571 be the closed subspace of @xmath570 formed by all the @xmath572 that contain all the axioms of rooted forests ( see the beginning of this section ) . as @xmath566 is @xmath17-convergent , there exists ( see  @xcite ) a limit measure @xmath26 on @xmath571 such that for every @xmath573 it holds @xmath574 where @xmath575 .",
    "we partition @xmath571 into countably many measurable parts as follows :    * for each non - negative integer @xmath91 , @xmath576 denotes the clopen subset of @xmath571 defined by @xmath577 * @xmath578 is the closed subset of @xmath571 defined by @xmath579    we further define a measurable mapping @xmath580 as follows : let @xmath581 , @xmath582 ( with @xmath583 not cofinite ) .",
    "we define @xmath584 we define @xmath585 by @xmath586 ( note that @xmath587 is indeed an ultrafilter of @xmath588 as there exists exactly one @xmath589 such that @xmath590 . )    define @xmath591 as the supremum of the integers @xmath185 such that there exists a tree @xmath20 with universe @xmath32 and @xmath385 such that there are at least @xmath185 sons @xmath592 of @xmath72 such that for all @xmath269 it holds @xmath593 if and only if @xmath31 .    finally , we define the mapping @xmath594 by @xmath595 note that for every @xmath596 , the set @xmath597 has cardinality @xmath598 ( if @xmath599 ) and is infinite ( if @xmath600 ) .    using these special functions , we can construct limit modelings of residual sequences of forests with the following simple form :    let @xmath601 where @xmath602 is the unit circle ( identified here with reals mod @xmath603 ) .",
    "it is clear that @xmath604 is the standard borel space .",
    "we fix a real @xmath605 such that @xmath605 and @xmath606 are incommensurable , and we define a rooted directed forest @xmath607 on @xmath604 has follows :    * for @xmath608 , it holds @xmath609 if and only if @xmath610 ; * for positive integer @xmath91 and @xmath611 , @xmath612 , the vertex @xmath589 has exactly one incoming edge from the vertex @xmath613 ; * for @xmath614 , @xmath615 the vertex @xmath589 has exactly one incoming edge from the vertex @xmath616 .",
    "it is easily checked that for @xmath608 ( @xmath612 or @xmath615 ) , the set of formulas @xmath269 such that @xmath617 is exactly @xmath618 .",
    "we now prove that @xmath607 is a relational sample space .",
    "it suffices to prove that for every @xmath112 and every @xmath619 the set @xmath620 is measurable .",
    "let @xmath621 and let @xmath622 .",
    "we partition @xmath623 into equivalence classes modulo @xmath624 , which we denote @xmath625 .",
    "let @xmath626 $ ] and , for @xmath627 , let @xmath628 and @xmath629 belong to @xmath630 . according to lemma  [ lem : npto1 ] , if for every @xmath631 and @xmath632 it holds @xmath633 then it holds @xmath634 according to the encoding of the vertices of @xmath607 , the conditions on the common ancestors rewrite as equalities and inequalities of iterated measurable functions @xmath282\\rightarrow[0,1)$ ] .",
    "it follows that @xmath635 is measurable .",
    "thus @xmath607 is a relational sample space .",
    "we define a probability measure @xmath636 on @xmath607 to turn @xmath607 into a modeling as follows :    * on @xmath637 , @xmath636 is the product of the restriction of @xmath26 and the borel measure on @xmath638 ; * on @xmath639 , @xmath636 is the product of the restriction of @xmath26 , the borel measure on @xmath638 , and the haar ( rotation invariant ) probability measure of @xmath602 .",
    "it is easily checked from the above definition of @xmath607 ( and of course @xmath640 ) that the modeling @xmath607 is a modeling @xmath17-limit of @xmath566 , and that if @xmath26 satisfies the finitary mass transport principle then @xmath607 satisfies the strong finitary mass transport principle .",
    "the construction of a modeling @xmath17-limit for the root - free part resembles spinning wheel of a limit forest ( cf  @xcite ) and it is schematically illustrated on fig  [ fig : band ] .",
    "-limit of a @xmath569-path of stars of order @xmath569 .",
    "vertex @xmath518 is adjacent to @xmath641 vertices on a segment and to two vertices obtained by rotation of @xmath642 , where @xmath605 is irrational to @xmath606 .",
    ", scaledwidth=75.0% ]      let @xmath18 be the signature of graphs , @xmath643 the signature of graphs with additional unary relation @xmath548 , @xmath644 the signature of graphs with additional unary relations @xmath548 and @xmath645 , @xmath646 the signature of graphs with countably many additional unary relations @xmath647 and @xmath648 ( @xmath44 ) .",
    "we consider two basic interpretation schemes , which we made use of already in @xcite :    1 .",
    "@xmath649 is a basic interpretation scheme of @xmath644-structures in @xmath643-structures defined as follows : for every @xmath18-structure @xmath20 , the domain of @xmath650 is the same as the domain of @xmath20 , and it holds ( for every @xmath391 ) : @xmath651 in particular , if @xmath73 is a @xmath643-tree , with a single vertex marked by @xmath548 ( the root ) , @xmath649 maps @xmath73 into a @xmath644-forest @xmath652 , formed by the subtrees rooted at the sons of the former root ( roots marked by @xmath548 ) and a single vertex rooted principal component ( the former root , marked @xmath645 ) ; 2 .",
    "@xmath653 is a basic interpretation scheme of @xmath643-structures in @xmath644-structures defined as follows : for every @xmath644-structure @xmath20 , the domain of @xmath654 is the same as the domain of @xmath20 , and it holds ( for every @xmath391 ) : @xmath655 in particular , @xmath653 maps a @xmath644-forest @xmath656 with all connected components rooted by @xmath548 , except exactly one rooted by @xmath645 into a @xmath643-tree @xmath657 by making each non principal root a son of the principal root ;    [ lem : tree2 ] every @xmath0-convergent @xmath81-non - dispersive sequence of rooted trees @xmath566 has a modeling @xmath0-limit .",
    "let @xmath566 be an @xmath0-convergent @xmath81-non - dispersive sequence of rooted trees .",
    "then @xmath658 is an @xmath0-convergent sequence of rooted forests . according to theorem  [ thm : ecomb ] , there exist @xmath659 , reals @xmath527 , sequences @xmath541 for @xmath660 , such that :    * @xmath661 , @xmath532 ( for @xmath526 ) , and @xmath662 ; * @xmath567 is the union of the @xmath663 ( @xmath660 ) ; * @xmath664 ( for @xmath660 ) ; * @xmath665 is an @xmath16-convergent residual sequence if @xmath535 ; * @xmath541 is an @xmath16-convergent non - dispersive sequence ; * the family @xmath666 is uniformly elementarily convergent .    in this situation",
    "we apply theorem  [ thm : convcomb ] :    we denote by @xmath504 and @xmath505 the modeling limits , so that    * @xmath667 ( for @xmath44 ) ; * @xmath668 ( if @xmath535 ) , and @xmath669 ( otherwise ) .",
    "then we have ( by theorem  [ thm : convcomb ] ) : @xmath670    it is easily checked that each sequence @xmath541 is @xmath81-non - dispersive ( for @xmath663 rooted at its marked vertex ) , as a direct consequence of the fact that @xmath566 ( rooted at marked vertex ) is @xmath81-non - dispersive .",
    "if we repeat the same process on each @xmath81-non - dispersive sequence @xmath541 ( for @xmath671 ) , we inductively construct a countable rooted tree @xmath672 and , associated to each node @xmath87 of the tree , a residual sequence of forests @xmath673 and a weight @xmath674 . if we have started with a @xmath81-non - dispersive sequence , then for every @xmath363",
    "there is integer @xmath271 such that the sum of the measures of the residues attached to the nodes at height at most @xmath271 is at least @xmath675 .    according to lemma  [ lem : tree1 ] , for each residual @xmath0-convergent sequence @xmath673 of forests",
    "there is a rooted tree modeling @xmath676 that is the @xmath17-limit of @xmath677 .",
    "according to lemmas  [ lem : mkres ] ,  [ lem : mkclean ] , and  [ lem : mkfull ] , there is a rooted tree modeling @xmath678 , which is the @xmath0-limit of @xmath677 .",
    "the grafting of the modelings @xmath678 on the rooted tree @xmath672 ( with weights @xmath674 ) form a final modeling @xmath57 .",
    "we prove that @xmath57 is a relational sample space : each first - order definable subset of @xmath679 is a @xmath52-definable subsets of the countable union of all the @xmath678 in which the roots of all the roots have been marked by distinct unary relations @xmath680 .",
    "as the used language in countable , it follows from lemma  [ lem : omega ] that @xmath52-definable subsets are borel measurable .",
    "let @xmath360 , and let @xmath681 be the subtree of @xmath567 induced by vertices at distance at most @xmath271 from the root .",
    "as the trees @xmath681 are obtained by an obvious interpretation , we get that @xmath682 is @xmath0-convergent . now consider @xmath683 , obtained from @xmath57 by restricting to the set @xmath684 of the vertices at distance at most @xmath271 from the root .",
    "as the set @xmath684 is first - order defined , it is measurable .",
    "it follows that @xmath684 ( with induced @xmath33-algebra ) is a standard borel space , and that @xmath683 is a relational sample space .",
    "we define a probability measure on @xmath683 by @xmath685 , thus defining the modeling @xmath683 . by applying iteratively ( at depth @xmath271 )",
    "theorem  [ thm : convcomb ] and the interpretation @xmath653 we easily deduce that @xmath683 is a modeling @xmath0-limit of @xmath682 .",
    "according to lemma  [ lem : boundedh ] , we deduce that @xmath57 is a modeling @xmath16-limit of the sequence @xmath566 . by lemma  [ lem : mkfullc ]",
    ", we deduce that @xmath566 has a modeling @xmath0-limit , which is the union of @xmath57 and a countable graph .",
    "2 [ thm : mtree ] every @xmath0-convergent sequence of finite forests has a modeling @xmath0-limit that satisfies the strong finitary mass transport principle .",
    "the theorem is an immediate consequence of theorem  [ thm : main ] and lemmas  [ lem : tree1 ] and  [ lem : tree2 ] .",
    "compared to the results obtained in  @xcite for rooted trees with bounded height , we do not have inverse theorem for tree - modeling .",
    "our conjecture is that a tree - modeling that satisfy the strong finitary mass transport principle and whose complete theory has the finite model property is the modeling limit of a sequence of finite trees .",
    "we believe that our approach can be used to obtain modeling limits of further classes of graphs . in particular , we believe that the structure `` residual limits grafted on a countable skeleton '' might well be universal for sequences of nowhere dense graphs .",
    "to3em , _ sparse combinatorial structures : classification and applications _ , proceedings of the international congress of mathematicians 2010 ( icm 2010 ) ( hyderabad , india ) ( r.  bhatia and a.  pal , eds . ) , vol .",
    "iv , world scientific , 2010 , pp ."
  ],
  "abstract_text": [
    "<S> limits of graphs were initiated recently in the two extreme contexts of dense and bounded degree graphs . </S>",
    "<S> this led to elegant limiting structures called graphons and graphings . </S>",
    "<S> these approach have been unified and generalized by authors in a more general setting using a combination of analytic tools and model theory to @xmath0-limits ( and @xmath1-limits ) and to the notion of modeling . </S>",
    "<S> the existence of modeling limits was established for sequences in a bounded degree class and , in addition , to the case of classes of trees with bounded height and of graphs with bounded tree depth . </S>",
    "<S> these seemingly very special classes is in fact a key step in the development of limits for more general situations . </S>",
    "<S> the natural obstacle for the existence of modeling limit for a monotone class of graphs is the nowhere dense property and it has been conjectured that this is a sufficient condition . extending earlier results </S>",
    "<S> we derive several general results which present a realistic approach to this conjecture . as an example </S>",
    "<S> we then prove that the class of all finite trees admits modeling limits . </S>"
  ]
}