{
  "article_text": [
    "over the past ten years , the study of phase transition phenomena has been one of the most exciting areas in computer science and artificial intelligence .",
    "numerous studies have established that for many np - complete problems ( e.g. , sat and csp ) , the hardest random instances occur , while a control parameter is varied accordingly , between an under - constrained region where all instances are almost surely satisfiable and an over - constrained region where all instances are almost surely unsatisfiable . in the transition region , there is a threshold where half the instances are satisfiable . generating hard instances is important both for understanding the complexity of the problems and for providing challenging benchmarks @xcite .",
    "another remarkable progress in artificial intelligence has been the development of incomplete algorithms for various kinds of problems . and",
    ", since this progress , one important issue has been to produce hard satisfiable instances in order to evaluate the efficiency of such algorithms , as the approach that involves exploiting a complete algorithm in order to keep random satisfiable instances generated at the threshold can only be used for instances of limited size . also , it has been shown that generating hard ( forced ) satisfiable instances is related to some open problems in cryptography such as computing a one - way function @xcite .    in this paper",
    ", we mainly focus on random csp ( constraint satisfaction problem ) instances .",
    "initially , four `` standard '' models , denoted a , b , c and d @xcite , have been introduced to generate random binary csp instances .",
    "however , @xcite have identified a shortcoming of all these models .",
    "indeed , they prove that random instances generated using these models suffer from ( trivial ) unsatisfiability as the number of variables increases . to overcome the deficiency of these standard models ,",
    "several alternatives have been proposed .    on the one hand ,",
    "@xcite have proposed a model e and @xcite a generalized model .",
    "however , model e does not permit to tune the density of the instances and the generalized model requires an awkward exploitation of probability distributions .",
    "also , other alternatives correspond to incorporating some `` structure '' in the generated random instances .",
    "roughly speaking , it involves ensuring that the generated instances be arc consistent @xcite or path consistent @xcite .",
    "the main drawback of all these approaches is that generating random instances is no more quite a natural and easy task .    on the other hand ,",
    "@xcite , @xcite and @xcite have revisited standard models by controlling the way parameters change as the problem size increases .",
    "the alternative model d scheme of @xcite guarantees the occurrence of a phase transition when some parameters are controlled and when the constraint tightness is within a certain range .",
    "the two revised models , called rb and rd , of @xcite provide the same guarantee by varying one of two control parameters around a critical value that , in addition , can be computed . also , @xcite identify a range of suitable parameter settings in order to exhibit a non - trivial threshold of satisfiability .",
    "their theoretical results apply to binary instances taken from model a and to `` symmetric '' binary instances from a so - called model b which , not corresponding to the standard one , associates the same relation with every constraint .    the models rb and rd present several nice features :    * it is quite easy to generate random instances of any arity as no particular structure has to be integrated , or property enforced , in such instances . *",
    "the existence of an asymptotic phase transition can be guaranteed while applying a limited restriction on domain size and on constraint tightness . for instances involving constraints of arity @xmath0",
    ", the domain size is required to be greater than the k@xmath1 root of the number of variables and the ( threshold value of the ) constraint tightness is required to be at most @xmath2 .",
    "* when the asymptotic phase transition exists , a threshold point can be precisely located , and all instances generated following models rb and rd have the guarantee to be hard at the threshold , i.e. , to have an exponential tree - resolution complexity . *",
    "it is possible to generate forced satisfiable instances whose hardness is similar to unforced satisfiable ones .",
    "this paper is organized as follows . after introducing models rb and rd , as well as some theoretical results ( section [ sec : the ] ) ,",
    "we provide a formal analysis about generating both forced and unforced hard satisfiable instances ( section [ sec : generating ] ) .",
    "then , we present the results of a large series of experiments that we have conducted ( section [ sec : experimental ] ) , and , before concluding , we discuss some related work ( section [ sec : related ] ) .",
    "a constraint network consists of a finite set of variables such that each variable @xmath3 has an associated domain denoting the set of values allowed for @xmath3 , and a a finite set of constraints such that each constraint @xmath4 has an associated relation denoting the set of tuples allowed for the variables involved in @xmath4 .",
    "a solution is an assignment of values to all the variables such that all the constraints are satisfied .",
    "a constraint network is said to be satisfiable ( sat , for short ) if it admits at least a solution .",
    "the constraint satisfaction problem ( csp ) , whose task is to determine if a given constraint network , also called csp instance , is satisfiable , is np - complete . in this section ,",
    "we introduce some theoretical results taken from @xcite .",
    "first , we introduce a model , denoted rb , that represents an alternative to model b. note that , unlike model b , model rb allows selecting constraints with repetition .",
    "but the main difference of model rb with respect to model b is that the domain size of each variable grows polynomially with the number of variables .",
    "a class of random csp instances of model rb is denoted rb(@xmath0,@xmath5,@xmath6,@xmath7,@xmath8 ) where :    * @xmath9 denotes the arity of each constraint , * @xmath5 denotes the number of variables , * @xmath10 determines the domain size @xmath11 of each variable , * @xmath12 determines the number @xmath13 of constraints , * @xmath14 denotes the tightness of each constraint .    to build one instance @xmath15 rb(@xmath0,@xmath5,@xmath6,@xmath7,@xmath8 ) , we select with repetition @xmath16 constraints , each one formed by selecting @xmath0 distinct variables and @xmath17 distinct unallowed tuples ( as @xmath8 denotes a proportion ) .    when fixed , @xmath6 and @xmath7 give an indication about the growth of the domain sizes and of the number of constraints as @xmath5 increases since @xmath11 and @xmath18 , respectively .",
    "it is then possible , for example , to determine the critical value @xmath19 of @xmath8 where the hardest instances must occur .",
    "indeed , we have @xmath20 which is equivalent to the expression of @xmath19 given by @xcite .",
    "another model , denoted model rd , is similar to model rb except that @xmath8 denotes a probability instead of a proportion . for convenience , in this paper , we will exclusively refer to model rb although all given results hold for both models .    in @xcite , it is proved that model rb , under certain conditions , not only avoids trivial asymptotic behaviors but also guarantees exact phase transitions .",
    "more precisely , with pr denoting a probability distribution , the following theorems hold .",
    "[ the:1 ] if @xmath0 , @xmath21 and @xmath22 are constants then @xmath23 = \\left \\ {   \\begin{array}{cc } 1 & if~ r < r_{cr } \\\\ 0 & if~ r > r_{cr } \\end{array } \\right.\\end{aligned}\\ ] ] where @xmath24 .",
    "[ the:2 ] if @xmath0 , @xmath21 and @xmath25 are constants then @xmath23 = \\left \\ {   \\begin{array}{cc } 1 & if~ p < p_{cr } \\\\ 0 & if~ p > p_{cr } \\end{array } \\right.\\end{aligned}\\ ] ] where @xmath26 .",
    "remark that the condition @xmath25 is equivalent to @xmath27 given in @xcite .",
    "theorems [ the:1 ] and [ the:2 ] indicate that a phase transition is guaranteed provided that the domain size is not too small and the constraint tightness or the threshold value of the constraint tightness not too large . as an illustration , for instances involving binary ( resp .",
    "ternary ) constraints , the domain size is required to be greater than the square ( resp .",
    "cubic ) root of the number of variables and the constraint tightness or threshold value of the tightness is required to be at most @xmath28 ( resp .",
    "@xmath29 ) .",
    "the following theorem establishes that unsatisfiable instances of model rb almost surely have the guarantee to be hard . a similar result for model",
    "a has been obtained by @xcite with respect to binary instances .",
    "[ the:3 ] if @xmath15 rb(@xmath0,@xmath5,@xmath6,@xmath7,@xmath8 ) and @xmath0 , @xmath6 , @xmath7 and @xmath8 are constants , then , almost surely as the number of variables tends to infinity . ]",
    ", @xmath30 has no tree - like resolution of length less than @xmath31 .",
    "the proof , which is based on a strategy following some results of @xcite , is omitted but can be found in @xcite .    to summarize , model rb guarantees exact phase transitions and hard instances at the threshold .",
    "it then contradicts the statement of @xcite about the requirement of an extremely low tightness for all existing random models in order to have non - trivial threshold behaviors and guaranteed hard instances at the threshold .",
    "for csp and sat , there is a natural strategy to generate _ forced _",
    "satisfiable instances , i.e. , instances on which a solution is imposed .",
    "it suffices to proceed as follows : first generate a random ( total ) assignment @xmath32 and then generate a random instance with @xmath5 variables and @xmath16 constraints ( clauses for sat ) such that any constraint violating @xmath32 is rejected .",
    "@xmath32 is then a _ forced _ solution .",
    "this strategy , quite simple and easy to implement , allows generating hard forced satisfiable instances of model rb provided that theorem @xmath33 or @xmath34 holds .",
    "nevertheless , this statement deserves a theoretical analysis .",
    "assuming that @xmath35 denotes the domain size ( @xmath35 = @xmath34 for sat ) , we have exactly @xmath36 possible ( total ) assignments , denoted by @xmath37 , and @xmath38 possible assignment pairs where an _ assignment pair _",
    "@xmath39 is an ordered pair of two assignments @xmath40 and @xmath41 .",
    "we say that @xmath39 satisfies an instance if and only if both @xmath40 and @xmath41 satisfy the instance .",
    "then , the expected ( mean ) number of solutions @xmath42 $ ] for instances that are forced to satisfy an assignment @xmath40 is : @xmath43 = \\overset{d^n}{\\underset{j=1}{\\sum } } \\frac{\\pr[<t_i , t_j>]}{\\pr[<t_i , t_i>]}\\ ] ] where @xmath44 $ ] denotes the probability that @xmath39 satisfies a random instance .",
    "note that @xmath42 $ ] should be independent of the choice of the forced solution @xmath40 .",
    "so we have : @xmath43=\\frac{\\underset{1\\leq i , j\\leq d^{n}}{{\\displaystyle\\sum } } \\pr[<t_{i},t_{j}>]}{d^{n}\\pr[<t_{i},t_{i}>]}=\\frac{e[n^{2}]}{e[n]}.\\ ] ] where @xmath45 $ ] and @xmath46 $ ] are , respectively , the second moment and the first moment of the number of solutions for random unforced instances . for random 3-sat",
    ", it is known that the strategy mentioned above is unsuitable as it produces a biased sampling of instances with many solutions clustered around @xmath32 @xcite .",
    "experiments show that forced satisfiable instances are much easier to solve than unforced satisfiable instances .",
    "in fact , it is not hard to show that , asymptotically , @xmath45 $ ] is exponentially greater than @xmath47 $ ] .",
    "thus , the expected number of solutions for forced satisfiable instances is exponentially larger than the one for unforced satisfiable instances .",
    "it then gives a good theoretical explanation of why , for random 3-sat , the strategy is highly biased towards generating instances with many solutions .",
    "for model rb , recall that when the exact phase transitions were established @xcite , it was proved that @xmath45/e^{2}[n]$ ] is asymptotically equal to @xmath33 below the threshold , where almost all instances are satisfiable , i.e. @xmath45/e^{2}[n]\\approx 1 $ ] for @xmath48 or @xmath49 .",
    "hence , the expected number of solutions for forced satisfiable instances below the threshold is asymptotically equal to the one for unforced satisfiable instances , i.e. @xmath42=e[n^{2}]/e[n]\\approx e[n]$ ] . in other words , when using model rb , the strategy has almost no effect on the number of solutions and does not lead to a biased sampling of instances with many solutions .",
    "in addition to the analysis above , we can also study the influence of the strategy on the distribution of solutions with respect to the forced solution .",
    "we first define the distance @xmath50 between two assignments @xmath40 and @xmath41 as the proportion of variables that have been assigned a different value in @xmath40 and @xmath41 .",
    "we have @xmath51 .",
    "for forced satisfiable instances of model rb , with @xmath52 $ ] denoting the expected number of solutions whose distance from the forced solution ( identified as @xmath40 , here ) is equal to @xmath53 , we obtain by an analysis similar to that in @xcite : @xmath54 = \\overset{d^n}{\\underset{j=1}{\\sum } } \\frac{\\pr[<t_i , t_j>]}{\\pr[<t_i , t_i>]}\\text { \\ \\ with } d^{f}(t_i ,",
    "t_j)=\\delta\\\\ & = \\binom{n}{n\\delta } \\left(n^{\\alpha}{\\text - } 1\\right)^{n\\delta } \\left[\\frac{\\binom{n - n\\delta}{k}}{\\binom{n}{k}}+(1-p)\\left (   1-\\frac{\\binom{n - n\\delta}{k}}{\\binom{n}{k}}\\right )   \\right ]   ^{rn\\ln n}\\\\ & = \\exp\\left [ n\\ln n\\left (   r\\ln\\left(1-p+p(1-\\delta)^{k}\\right )   + \\alpha \\delta \\right)+o(n )   \\right ]   .\\end{aligned}\\ ] ] it can be shown , from the results in @xcite that @xmath55 $ ] , for @xmath48 or @xmath49 , is asymptotically maximized when @xmath53 takes the largest possible value , i.e. @xmath56 .    for unforced satisfiable instances of model rb , with @xmath57 $ ] denoting the expected number of solutions whose distance from @xmath40 ( not necessarily a solution ) is equal to @xmath53 , we have : @xmath58   & = \\binom{n}{n\\delta}\\left (   n^{\\alpha}-1\\right )   ^{n\\delta}\\left ( 1-p\\right )   ^{rn\\ln n}\\\\ & =   \\exp\\left [   n\\ln n\\left (   r\\ln(1-p)+\\alpha \\delta \\right)+o(n )   \\right ]   .\\end{aligned}\\ ] ] it is straightforward to see that the same pattern holds for this case , i.e. @xmath57 $ ] is asymptotically maximized when @xmath56 .",
    "intuitively , with model rb , both unforced satisfiable instances and instances forced to satisfy an assignment @xmath32 are such that most of their solutions distribute far from @xmath32 .",
    "this indicates that , for model rb , the strategy has little effect on the distribution of solutions , and is not biased towards generating instances with many solutions around the forced one .    for random 3-sat , similarly",
    ", we can show that as @xmath7 ( the ratio of clauses to variables ) approaches @xmath59 , @xmath55 $ ] and @xmath57 $ ] are asymptotically maximized when @xmath60 and @xmath61 , respectively .",
    "this means , in contrast to model rb , that when @xmath7 is near the threshold , most solutions of forced instances distribute in a place much closer to the forced solution than solutions of unforced satisfiable instances .",
    "as all introduced theoretical results hold when @xmath62 , the practical exploitation of these results is an issue that must be addressed . in this section , we give some representative experimental results which indicate that practice meets theory even if the number @xmath5 of variables is small . note that different values of parameters @xmath6 and @xmath7 have been selected in order to illustrate the broad spectrum of applicability of model rb .    ,",
    "@xmath7 and @xmath5,width=246 ]    first , it is valuable to know in practice , to what extent , theorems [ the:1 ] and [ the:2 ] give precise thresholds according to different values of @xmath6 , @xmath7 and @xmath5 .",
    "the experiments that we have run wrt theorem [ the:2 ] , as depicted in figure [ fig : diff ] , suggest that all other parameters being fixed , the greater the value of @xmath6 , @xmath7 or @xmath5 is , the more precise theorem [ the:2 ] is . more precisely , in figure [ fig : diff ] , the difference between the threshold theoretically located and the threshold experimentally determined is plotted against @xmath63 $ ] ( @xmath64 $ ] ) , against @xmath65 $ ] ( @xmath66 $ ] ) and against @xmath67 $ ] .",
    "note that the vertical scale refers to the difference in constraint tightness and that the horizontal scale is normalized ( value @xmath68 respectively corresponds to @xmath69 , @xmath70 and @xmath71 , etc . ) .",
    "instances ) of solving instances in rb(@xmath34,@xmath72,@xmath73,@xmath74,@xmath8),width=246 ]    to solve the random instances generated by model rb , we have used a systematic backtracking search algorithm ( mac ) and a local search algorithm ( tabu search ) .",
    "both algorithms have been equipped with a search heuristic that learns from conflicts @xcite .",
    "we have studied the difficulty of solving with mac the binary instances of model rb generated around the theoretical threshold @xmath75 given by theorem [ the:2 ] for @xmath76 , @xmath77 , @xmath78 and @xmath79 . in figure",
    "[ fig : phase1 ] , it clearly appears that the hardest instances are located quite close to the theoretical threshold and that the difficulty grows exponentially with @xmath5 ( note the use of a log scale ) .",
    "it corresponds to a phase transition ( not depicted here , due to lack of space ) .",
    "a similar behavior is observed in figure [ fig : phase2 ] with respect to ternary instances generated around the theoretical threshold @xmath80 for @xmath81 , @xmath82 , @xmath83 and @xmath84 .",
    "instances ) of solving instances in rb(@xmath74,@xmath85,@xmath33,@xmath33,@xmath8),width=246 ]    as the number and the distribution of solutions are the two most important factors determining the cost of solving satisfiable instances , we can expect , from the analysis given in section [ sec : generating ] , that for model rb , the hardness of solving forced satisfiable instances should be similar to that of solving unforced satisfiable ones .",
    "this is what is observed in figure [ fig : phase1 ] .    to confirm this ,",
    "we have focused our attention to a point just below the threshold as we have then some ( asymptotic ) guarantee about the difficulty of both unforced and forced instances ( see theorems @xmath86 and @xmath87 in @xcite ) and the possibility of generating easily unforced satisfiable instances .",
    "figure [ fig : forced ] shows the difficulty of solving with mac both forced and unforced instances of model rb at @xmath88 for @xmath76 , @xmath77 , @xmath89 and @xmath90 $ ] .",
    "instances ) of solving instances in rb(@xmath34,@xmath91$],@xmath73,@xmath92,@xmath93),width=246 ]    to confirm the inherent difficulty of the ( forced and unforced ) instances generated at the threshold , we have also studied the runtime distribution produced by a randomized search algorithm on distinct instances @xcite . for each instance",
    ", we have performed @xmath94 independent runs .",
    "figure [ fig : heavytail ] displays the survival function , which corresponds to the probability of a run taking more than @xmath95 backtracks , of a randomized mac algorithm for two representative instances generated at @xmath96 for @xmath76 , @xmath77 , @xmath89 and @xmath97 .",
    "one can observe that the runtime distribution ( a log - log scale is used ) do not correspond to an heavy - tailed one , i.e. , a distribution characterized by an extremely long tail with some infinite moment .",
    "it means that all runs behave homogeneously and , therefore , it suggests that the instances are inherently hard @xcite .",
    ", @xmath98,@xmath73,@xmath92,@xmath96),width=246 ]    then , we have focused on unforced unsatisfiable instances of model rb as theorem [ the:3 ] indicates that such instances have an exponential resolution complexity .",
    "we have generated unforced and forced instances with different constraint tightness @xmath8 above the threshold @xmath96 for @xmath76 , @xmath77 , @xmath89 and @xmath99 $ ] .",
    "figure [ fig : above ] displays the search effort of a mac algorithm to solve such instances against the number of variables @xmath5 .",
    "it is interesting to note that the search effort grows exponentially with @xmath5 , even if the exponent decreases as the tightness increases .",
    "also , although not currently supported by any theoretical result ( theorems @xmath86 and @xmath87 of @xcite hold only for forced instances below the threshold ) it appears here that forced and unforced instances have a similar hardness .     instances ) of solving instances in rb(@xmath34,@xmath100$],@xmath73,@xmath92,@xmath8),width=246 ]    finally , figure [ fig : tabu ] shows the results obtained with a tabu search with respect to the binary instances that have been previously considered with mac ( see figure [ fig : phase1 ] ) .",
    "the search effort is given by a median cost since when using an incomplete method , there is absolutely no guarantee of finding a solution in a given limit of time .",
    "remark that all unsatisfiable ( unforced ) instances below the threshold have been filtered out in order to make a fair comparison .",
    "it appears that both complete and incomplete methods behave similarly . in figure",
    "[ fig : tabu ] , one can see that the search effort grows exponentially with @xmath5 and that forced instances are as hard as unforced ones .",
    "instances ) of solving instances in rb(@xmath34,@xmath72,@xmath73,@xmath74,@xmath8 ) using a tabu search , width=246 ]",
    "as a related work , we can mention the recent progress on generating hard satisfiable sat instances .",
    "@xcite have proposed to build random satisfiable 3-sat instances on the basis of a spin - glass model from statistical physics .",
    "another approach , quite easy to implement , has also been proposed by @xcite : any 3-sat instance is forced to be satisfiable by forbidding the clauses violated by both an assignment and its complement .",
    "finally , let us mention @xcite which propose to build random instances with a specific structure , namely , instances of the quasigroup with holes ( qwh ) problem .",
    "the hardest instances belong to a new type of phase transition , defined from the number of holes , and coincide with the size of the backbone .",
    "in this paper , we have shown , both theoretically and practically , that the models rb ( and rd ) can be used to produce , very easily , hard random instances .",
    "more importantly , the same result holds for instances that are forced to be satisfiable . to perform our experimentation",
    ", we have used some of the most efficient complete and incomplete csp solvers .",
    "we have also encoded some forced binary csp instances of class rb(@xmath34,@xmath5,@xmath73,@xmath101,@xmath102 ) with @xmath5 ranging from @xmath103 to @xmath104 into sat ones ( using the direct encoding method ) and submitted them to the sat competition 2004 . about @xmath28 of the competing solvers",
    "have succeeded in solving the sat instances corresponding to @xmath105 ( @xmath106 and @xmath107 ) whereas only one solver has been successful for @xmath108 ( @xmath109 and @xmath110 ) .",
    "although there are some other ways to generate hard satisfiable instances , e.g. qwh @xcite or 2-hidden @xcite instances , we think that the simple and natural method presented in this paper , based on models with exact phase transitions and many hard instances , should be well worth further investigation .",
    "the first author is partially supported by nsfc grant 60403003 and fanedd grant 200241 .",
    "other authors have been supported by the cnrs , the `` programme cocoa de la rgion nord / pas - de - calais '' and by the `` iut de lens '' ."
  ],
  "abstract_text": [
    "<S> in this paper , we try to further demonstrate that the models of random csp instances proposed by @xcite are of theoretical and practical interest . indeed , these models , called rb and rd , present several nice features . </S>",
    "<S> first , it is quite easy to generate random instances of any arity since no particular structure has to be integrated , or property enforced , in such instances . </S>",
    "<S> then , the existence of an asymptotic phase transition can be guaranteed while applying a limited restriction on domain size and on constraint tightness . in that case , a threshold point can be precisely located and all instances have the guarantee to be hard at the threshold , i.e. , to have an exponential tree - resolution complexity . </S>",
    "<S> next , a formal analysis shows that it is possible to generate forced satisfiable instances whose hardness is similar to unforced satisfiable ones . </S>",
    "<S> this analysis is supported by some representative results taken from an intensive experimentation that we have carried out , using complete and incomplete search methods . </S>"
  ]
}