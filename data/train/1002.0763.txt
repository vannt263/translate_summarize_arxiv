{
  "article_text": [
    "representing collections of social relations as networks has become a standard practice not only in sociology but also in the study of complex systems . a social network @xmath0 is defined by the set of @xmath1 nodes , @xmath2 , which correspond to individuals , and by the set of edges ( or links ) @xmath3 , which correspond to some associations between the individuals .",
    "even though it is common to assume the associations to be symmetric ( i.e. @xmath4 ) @xcite , for our purposes the edges are always directed , meaning that @xmath5 is independent of @xmath6 . in a _",
    "weighted _ network each edge is also assigned a weight .",
    "we consider the edge weights as proxies for the strength of a relationship , and therefore the weights are strictly positive . in our notation",
    "@xmath7 is the weight of a directed edge from node @xmath8 to @xmath9 , and @xmath10 is equivalent to saying that there is no edge from @xmath8 to @xmath9 .",
    "we use the term _ reciprocity _ to depict the degree of mutuality of a relationship .",
    "a relationship with a high reciprocity is one where both are equally interested in keeping up the relationship  a good example is the relationship of romeo and juliet in the famous play with the same name by william shakespeare , where the two lovers strive to share each other s company despite their families objections . on the other hand , in a relationship with a low reciprocity",
    "one person is significantly more active in maintaining the relationship than the other .",
    "we judge reciprocity from actual communications taking place between people . in shakespeare s time this would have meant counting the number of poems passed and sonnets sung , but in our modern era it is easier to make use of the prevalence of electronic communication .    from the sociological point of view",
    "the directionality of associations is interesting _ per se _ : are human relationships typically mutual or not ? if not , what possible explanations are there for the lopsided relations ?",
    "directionality of communication might also affect for example the spreading of mobile viruses @xcite , or the spreading of information and ideas in societies .",
    "there is also evidence that the reciprocity of a relationship is a good predictor of its persistence @xcite .",
    "we note that even though symmetrical associations are common in the social networks literature , this is rarely meant as a claim of perfect reciprocity . for many purposes the assumption of undirected edges is a useful simplification or it follows directly from the definition of association .",
    "this is the case for example with scientific collaboration networks @xcite , where we draw a link between two scientists if they have collaborated in writing an article . on the other hand ,",
    "some associations are intrinsically directed , like e - mail networks @xcite or friendship networks .",
    "the latter was shown explicitly in @xcite with data from the national longitudinal study of adolescent health , where us students were asked to name up to 5 of their best friends : only 35 % of the roughly 7000 such nominations were reciprocated .",
    "moreover , some undirected networks can be considered as directed networks when examined more closely .",
    "for example , collaboration networks could be extended by adding information on which party initiated the collaboration ; the same is true for sexual networks @xcite .",
    "previous studies have mostly considered reciprocity as a global feature of a directed , unweighted network .",
    "they are based on the classical definition according to @xcite that quantifies reciprocity as @xmath11 where @xmath12 is the total number of ( directed ) links in the network and @xmath13 is the number of the mutual edges ( the latter sum goes over all pairs of nodes ) . here",
    "@xmath14 are the elements of the adjacency matrix such that @xmath15 if there is a directed link from node @xmath8 to @xmath9 , and @xmath16 otherwise",
    ". defined this way , @xmath17 if there are no bidirectional links , and @xmath18 when all links in the network are bidirectional .",
    "for example @xcite finds that one network constructed from email address books has @xmath19 .",
    "one problem with this definition of reciprocity is that it depends on the density of the network .",
    "a large value of @xmath20 is more significant when encountered in a sparse network , while a small @xmath20 is a surprising finding in a dense network .",
    "the value of @xmath20 must thus be compared to the network density @xmath21 , which also equals the reciprocity of a fully random network . in @xcite",
    "this is taken further by combining @xmath20 and @xmath22 into a single measure of reciprocity , @xmath23 .",
    "this idea is extended in @xcite by comparing @xmath20 in the original network to that in randomized networks when the degree sequence or various degree correlations are held constant .",
    "it turns out that in most networks this is enough to explain most of the reciprocity .",
    "the unweighted treatment of reciprocity however has a severe problem when dealing with social networks : a truly unidirectional social contact is an extremely rare thing to find in everyday social environment .",
    "when such edges do occur , for example in the above - mentioned study where the subjects were asked to name a fixed number of acquaintances @xcite , the unidirectional links are mostly artifacts of the research method .",
    "they can however be interpreted as a sign of an underlying edge bias , a cue that the relationship is not seen alike by the two people involved .",
    "unlike in the unweighted case , edge weights allow us to study reciprocity as a property of a single edge instead of the full network . to this end",
    "we define the _ edge bias _ between nodes @xmath8 and @xmath9 as @xmath24 the edge bias is the simplest possible measure for studying reciprocity .",
    "note that because @xmath25 , the distribution of @xmath26 for all edges in the network is symmetric around @xmath27 and therefore it suffices to study only the range @xmath28 $ ] .",
    "we study the reciprocity of communication in a mobile phone data set consisting of 350 million calls between 5.3 million customers made during a period of 18 weeks .",
    "mobile phone calls provide an excellent proxy for studying this kind of reciprocity because phone calls are at the same time directed and undirected : the calls are directed because it is the caller who decides to make the call and invest his time ( and often money ) in that particular relationship , but since the conversation during the call is undirected , there is no immediate reason for the recipient to call back shortly after .",
    "consider the difference to sms messages or emails where a conversation means sending a sequence of reciprocated messages , making it more difficult to study reciprocity by simply counting the number of messages .    to remove possibly spurious contacts ,",
    "i.e. those that are more likely to be chance encounters instead of true social relationships , we have preprocessed the data by removing all unidirectional edges .",
    "thus the unweighted reciprocity according to the definition above would be @xmath18 , and therefore the methods for analyzing the reciprocity of unweighted , directed networks are not applicable . because any communication , either sms message or call , was sufficient to make an edge bidirectional , and thus there are some edges where only one person has made calls . ]",
    "the weight @xmath29 is the total number of calls customer @xmath8 made to @xmath9 during the whole 18 week period .     in semi - logarithmic coordinates.,width=264 ]    the customers can be split into two groups based on how they pay for their mobile phone service : _ prepaid _ users pay for their usage beforehand , _ postpaid _ users pay afterword . while this initial difference might seem small , it results in major differences in the basic statistics and it is therefore necessary to analyze the two user groups separately . the statistics of calls between prepaid and postpaid users would mostly just reflect the differences in degree and strength distributions ( discussed below ) .",
    "thus in this article we only study calls between pairs of prepaid users and calls between pairs of postpaid users .",
    "the two user groups are approximately equal in size .    the basic statistics of the network often imprint also more complex statistics , and it is therefore a good idea to first go through some basic distributions .",
    "the _ degree _ @xmath30 of a node is defined as the number of neighboring nodes . because all edges in our network are bidirectional after preprocessing , the out - degree ( number of people called ) always equals the in - degree ( number of people from whom a call has been received ) .",
    "the degree distributions of the network , shown in figure [ fig : degree_distribution ] separately for prepaid and postpaid users , have long power - law tails .",
    "the average degree was found to be 3.41 for prepaid users and 5.15 for postpaid users .",
    "the _ strength _ of a node is defined as the sum of weights of adjacent edges . for a directed network we can define both the out - strength @xmath31 , which is the total number of calls made , and the in - strength @xmath32 , the total number of calls received .",
    "the strength distributions in fig .",
    "[ fig : strength_distribution ] turned out also to be fat - tailed , and we can see that postpaid users make much more calls .",
    "in fact , postpaid users make on average 10 times more calls than prepaid users .",
    "we can also see that prepaid users receive more calls than they make , while the most active postpaid users make more calls than they receive .",
    "figure [ fig : weight_distribution ] shows the total edge weight distribution for edges between users of the same or different type",
    ". there are more calls between users of the same type , which suggests that the user type is correlated between acquaintances .",
    "the data set only includes the customers of a single mobile phone operator that has about 20 % market share in the country in question . while there are calls from and to people outside this customer base , this has no skewing effect on our study because our analysis concentrates on communication between the known customers , and this information is completely known .",
    "figures [ fig : bias_dist_prepaid ] and [ fig : bias_dist_postpaid ] show the distribution of @xmath26 for prepaid and postpaid users as a function of total edge weight .",
    "we can see that even though values around 0.5 are more common , there are still many edges with larger values of @xmath26 .",
    "this becomes more obvious in figure [ fig : cumulative_bias_by_weight ] that shows the cumulative distribution of edge bias for different weight ranges .",
    "for example among prepaid users the edges with @xmath33 , i.e. edges where one participant makes more than 80 % of all calls , make up over 25 % of all the edges even when the edge has over 100 calls . for postpaid users the numbers are somewhat smaller .",
    "naturally , we should not expect to find _ perfect _ reciprocity on all edges , but to justify treating social networks as undirected there should be some tendency towards @xmath34 . but",
    "the simplest step away from perfectly reciprocal relationships is to assume each dyad to be reciprocal in the probabilistic sense : both participants are equally likely to make a call .",
    "thus , even though edges with only few calls could still be very biased , edges with 50 or more calls should have @xmath26 very close to @xmath27 .",
    "this idea is also supported by figure [ fig : cumulative_bias_by_weight ] , where the distributions of high weight edges are somewhat more concentrated around @xmath27 .",
    "the hypothesis about equal likelihood for making a call implies that the edge bias values should follow a binomial distribution with @xmath35 and @xmath36 .",
    "however , figure [ fig : binomial_comparison ] shows that such a binomial distribution is far from truth : if the calls were evenly distributed between both participants , there should be almost no edges with @xmath37 .",
    "but is it reasonable to expect the edge bias values to be binomially distributed in the first place ? as shown in fig .",
    "[ fig : strength_distribution ] , the node strengths vary widely , which itself might be enough to force large deviations from @xmath38  in other words the relationships would only appear biased because some people tend to call more than others . to test this claim",
    "we redistribute the total out - strength of each node onto its already existing edges so as to make the edge bias values as close to 0.5 as possible ( see appendix for details ) .",
    "it turns out that it is in fact possible to significantly reduce the number of high edge bias values , especially among postpaid users , as shown in fig .",
    "[ fig : reference_comparison ] .",
    "this proves that the strength distribution is not a sufficient explanation for the large edge bias values .",
    "since it appears that the edge bias can not be explained away by properties of the node but is instead an intrinsic property of the edge itself , it is interesting to see whether it correlates with other local features of the network .",
    "is there for example a connection between the edge bias and the community structure of the network ?",
    "we measure local community structure with _",
    "edge overlap _ , defined as @xmath39 , where @xmath40 is the number of common neighbors of nodes @xmath8 and @xmath9 .",
    "thus the edge overlap gives the fraction of common neighbors out of all possible common neighbors , and is therefore larger in denser parts of the network .",
    "looking at figure [ fig : cumulative_bias_by_overlap ] it seems that the edge bias does indeed correlate with overlap : larger overlap implies an edge bias more concentrated around 0.5 for both prepaid and postpaid users .",
    "however , figure [ fig : bias_by_weight_and_overlap ] shows that the observed effect is in fact a spurious result of two other correlations .",
    "the first correlation is the one between edge bias and weight , shown in fig .",
    "[ fig : cumulative_bias_by_weight ] .",
    "the second correlation is the _",
    "granovetter hypothesis _",
    "@xcite , which states that edges between communities should be weaker than those inside communities .",
    "it was shown in @xcite that in a mobile phone network this is indeed the case : edge weights are higher in denser parts of the network .        finally , figures [ fig : degdeg_bias_call_count_prepaid ] and [ fig : degdeg_bias_call_count_postpaid ] show that there is a connection between the edge bias and the degrees of the caller and the recipient .",
    "this simply confirms the everyday observation that people with many contacts tend to be active in keeping up those contacts , as opposed to simply waiting for the others to call them . while for prepaid users this observation results at least partly from the fact that average out - weight increases with degree ( fig .",
    "[ fig : avg_out_weight_prepaid ] ) , this is not the case with postpaid users .",
    "in fact , of the edges between two postpaid users the one with a larger degree is on average more active , even though the average edge weight decreases with degree ( fig .",
    "[ fig : avg_out_weight_postpaid ] ) .",
    "we have shown that highly biased edges where one participant is much more active than the other are abundant in a mobile phone network .",
    "although the strength distribution can explain some of the observed high bias values , it is by no means a sufficient explanation .",
    "making a phone call is always an investment in a relationship : not only does it cost time and money to the caller , but the caller must also make a conscious decision to make the call . while people are in general known to strive to make their relationships reciprocal , we can observe plenty of relationships with a striking lack of reciprocity .",
    "it was mentioned earlier that the fact that the data only includes 20 % of the population has no adverse effect on the data",
    ". this should now be quite obvious , since we have only looked at the edges of which we have full information .",
    "however , we can state something even stronger : it is likely that any additional data would only _ improve _ the reference calculated above , because there would be more edges to choose from during the optimization .",
    "this of course assumes that the edge bias on the missing edges is distributed similarly as in the current data , which we feel is a very reasonable assumption .",
    "we have so far deferred the discussion about whether the results can be extended to human relations in general .",
    "there are obviously many factors that influence the reciprocity of a relationship , as is evident from the differences between prepaid and postpaid users .",
    "we note that these difference do not necessarily stem straight from the differences in paying .",
    "for example , since the prepaid service is used more often by young people , our findings suggest that the relations among young people are more biased .",
    "obviously hypotheses like this one need more research until we can say anything conclusive .",
    "data sets including communication through several different channels , such as email , online chatting and real life conversations , would be especially well suited for studying reciprocity , but unfortunately such data sets are difficult to acquire in the large scale required .",
    "the methods used here can however be readily applied to any such data , as long as the data includes information on who initiated the communication .",
    "this work is partially supported by the academy of finland , the finnish center of excellence programme 20062011 , proj .",
    "we would also like to thank prof .",
    "albert - lszl barabsi of northeastern university for providing us access to the unique mobile phone data set and continuing collaboration thereof .",
    "100 s.  goodreau , advances in exponential random graph ( p@xmath41 ) models applied to a large social network , social networks , 29 ( 2 ) ( 2007 ) 231248 .",
    "onnela , j.  saramki , j.  hyvnen , g.  szab , d.  lazer , k.  kaski , j.  kertsz , and a.  l. barabsi , structure and tie strengths in mobile communication networks , pnas 104 ( 18 ) ( 2007 ) 73327336 .",
    "f.  liljeros , c.r .",
    "edling , l.a .",
    "amaral , e.h .",
    "stanley , and y.  aberg , the web of human sexual contacts , nature 411 ( 6840 ) ( 2001 ) 907908 .",
    "p.  wang , m.c .",
    "gonzalez , c.a .",
    "hidalgo , and a .-",
    "barabasi , understanding the spreading patterns of mobile phone viruses , science 324 ( 5930 ) ( 2009 ) 10711076 .    c.  hidalgo and c.  rodriguez - sickert , the dynamics of a mobile phone network , physica a 387 ( 12 ) ( 2008 ) 30173024 .",
    "newman , the structure of scientific collaboration networks , pnas 98 ( 2 ) ( 2001 ) 404409 .    p.  holme , network reachability of real - world contact sequences , phys . rev .",
    "e 71 ( 4 ) ( 2005 ) 046119 .",
    "s.  wasserman and k.  faust , social network analysis : methods and applications , cambridge university press , 1994 .",
    "m.  e.  j. newman , s.  forrest , and j.  balthrop , email networks and the spread of computer viruses , phys .",
    "e 66 ( 3 ) ( 2002 ) 035101 .",
    "d.  garlaschelli and m.i .",
    "loffredo , patterns of link reciprocity in directed networks , phys .",
    "93 ( 26 ) ( 2004 ) 268701 .",
    "lpez , v.  zlati , c.  zhou , h.  tefani , and j.  kurths , reciprocity of networks with degree correlations and arbitrary degree sequences , phys .",
    "e 77 ( 1 ) ( 2008 )",
    "016106 .    m.s .",
    "granovetter , the strength of weak ties , the american journal of sociology 78 ( 6 ) ( 1973 ) 13601380 .",
    "we constructed a reference network to find out how what portion of the high edge bias values can be explained by the out - strength distribution .",
    "unlike in - strength , the out - strength can be seen to reflect the activity of each user , and is closely controlled by each individual .",
    "thus is it feasible to think that each call made could have been directed to some other contact instead of the one actually called .",
    "we calculate the reference for the whole network , comprising both the prepaid and postpaid users , and only separate the users groups in the final reference network .",
    "this is based on the assumption that customers do not know or care about the user type ( prepaid or postpaid ) of the recipient of the call , and thus any call made to a user of one type could have been made to a user of the other type .",
    "there are obviously many ways of pursuing the goal of a bias distribution centered around @xmath42 .",
    "we decided to base our method on the reasonable hypothesis about binomial distribution of edge weights which was discussed in section [ sec : results ] : we attempt to maximize the likelihood that the edge bias values come from binomial distribution with @xmath35 , that is , we try to find a new set of edge weights @xmath43 such that @xmath44 where @xmath45 is the out - strength of node @xmath8 in the original network .",
    "the topology of the original network is also preserved , which means that the edge set @xmath46 remains the same during the optimization .",
    "finding the global optimum of this function is not straightforward , as it is likely to have several local optima .",
    "we carry out the optimization in two - phases .",
    "the first phase is simulated annealing , which aims at avoiding bad local optima .",
    "one step of the simulated annealing algorithm selects a random node @xmath8 and moves one unit of weight from edge @xmath50 to @xmath51 , where @xmath9 and @xmath52 are random neighbors of @xmath8 , with a probability proportional to the change of the target function @xmath48 , given by @xmath53 in the last step we have defined @xmath54 which is the bias of edge @xmath50 after adding weight @xmath55 .",
    "this final result is surprisingly simple : the target function value is increased whenever @xmath56 .",
    "interestingly , while @xmath48 was derived by maximizing the likelihood of binomial distributions , we end up comparing the edge biases .",
    "the two biases involved in the comparison implicitly account for the form of the binomial distribution ; see figure [ fig : weight_change ] for further clarification .",
    "when the temperature of the simulated annealing becomes low , there is little or no randomness left , but the algorithm is still quite slow .",
    "we therefore use a greedy algorithm as the second phase of the optimization .",
    "the greedy algorithm starts from where the simulated annealing finished , and simply descends to the local optimum as efficiently as possible .",
    "the greedy optimization goes through the nodes in a round - robin manner , but unlike simulated annealing , improves the target function by changing weights around one node until no further progress is possible .",
    "it works by selecting the two edges that give the maximum improvement of the target function , @xmath57 and @xmath58 , and changing @xmath59 units of weight from edge @xmath60 to @xmath61 .",
    "@xmath62 is the largest amount of weight that still improves the target function , defined as the largest integer for which @xmath63 is true .",
    "the optimum is reached when no change occurs during one round through all nodes .     to @xmath51 . since @xmath64",
    ", this change increases the value of the target function .",
    "this means that the relative increase in the likelihood of the edge @xmath50 ( 33.3 % , from @xmath65 to @xmath66 ) outweighs the decrease in the likelihood of the edge @xmath51 ( 21.4 % , from @xmath67 to @xmath68 ) : @xmath69 . *",
    "( bottom ) * because @xmath70 , this move does not increase the value of the target function and is therefore not performed .",
    "in fact , since the two bias values turn out to be equal , this means that the increase in the likelihood of the edge @xmath50 ( 33.3 % ) exactly matches the decrease in the likelihood of the edge @xmath51 ( 25 % , from @xmath71 to @xmath72 ) : @xmath73.,width=377 ]"
  ],
  "abstract_text": [
    "<S> we present a study of the reciprocity of human behaviour based on mobile phone usage records . </S>",
    "<S> the underlying question is whether human relationships are mutual , in the sense that both are equally active in keeping up the relationship , or is it on the contrary typical that relationships are lopsided , with one party being significantly more active than the other . </S>",
    "<S> we study this question with the help of a mobile phone data set consisting of all mobile phone calls between 5.3 million customers of a single mobile phone operator . </S>",
    "<S> it turns out that lopsided relations are indeed quite common , to the extent that the variation can not be explained by simple random deviations or by variations in personal activity . </S>",
    "<S> we also show that there is no non - trivial correlation between reciprocity and local network density .    </S>",
    "<S> = 1 </S>"
  ]
}