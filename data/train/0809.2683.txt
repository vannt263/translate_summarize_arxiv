{
  "article_text": [
    "information - theoretical security proof @xcite is a powerful and general way to prove the security for quantum key distribution ( qkd ) . in this method , to give the amount of unconditional secret keys , we only need to discuss upper or lower bounds of some entropies .",
    "the exponential de finetti theorem is crucial to this method , which support that as the key size goes to infinite , eve can not get more information from the coherent attack than from the collective attack @xcite . since in the collective attack eve attacks",
    "each signal independently with the same method , it is much easy for us to discuss the security .",
    "however , current exponential de finetti theorem relying on the dimension and even diverges if the dimension is infinite , while in practice the dimension is often unknown or infinite .",
    "there are also some other kind of quantum de finetti theorems . in ref .",
    "matthias , matthias2,finite de fi , several de finetti theorems for different conditions are given .",
    "these de finetti theorems can be independent with the dimension . even under the infinite dimensional case",
    ", they still converge .",
    "however , these de finetti theorems are polynomial and not exponential .",
    "as the key size goes to infinite , they can not exponentially converge to zero . whether such polynomial de finetti theorems can be applied to qkd requires further discussion",
    ".    we can think about a more general case .",
    "alice and bob respectively get a quantum state from a channel and do measurement and thus hold classical data finally .",
    "realistically , they only know the classical data and do not know anything about the dimension of quantum state beforehand . therefore , it is not realistic for us to assume the dimension before discussing the security .",
    "if the dimension of quantum state is unknown , current exponential de finetti theorem may not be directly applied and the security against the most general attack is difficult to given by the information - theoretical method . in ref .",
    "@xcite , renner gave some concrete examples to show the de finetti theorem .",
    "from these examples we can see that if the dimension of individual quantum state is higher than the block size , the whole state may be far away from an almost i.i.d . state . for some qkds",
    ", the dimension problem can be solved by introducing the squashing model squashingmode , squashingmode1 .",
    "however for some other protocols we do not know whether there exist a squashing model , i.e. continuous variable ( cv ) qkd @xcite and differential phase shift ( dps ) qkd dpsqkd .",
    "then , it is necessary for alice and bob to get some information about their dimensions .",
    "here we give a general way to estimate the effective dimension ( in the following we will see that alice and bob s measurement data are obtained almost only from a finite dimensional subspace .",
    "here we call the dimension of this subspace as effective dimension . ) of a system , and a general method to apply current information theoretical security proof to practical qkd .",
    "finally we prove that if povm elements corresponding to alice and bob s measured results can be well described in a finite dimensional subspace with sufficiently small error , the security of unknown dimensional system is very close to that of a finite dimensional system , where alice and bob put finite dimensional filters before their detectors .",
    "the security of this finite dimensional system is covered by current information theoretical security proof method . then the security of unknown - dimensional system can be solved .",
    "our solution is based on the estimation of the effective dimension of a system . in ref .",
    "@xcite , wehner et al . gave an estimation to the lower bound of the dimension of a system .",
    "we hope future works can shrink the gap between these two results . up to now",
    ", some efforts have been done for the finite key size case @xcite .",
    "the security under finite key size case may be much different from that under infinite key size case .",
    "to give a better result for finite key size case , it is necessary to give a tight estimation to the effective dimension .",
    "we may think that the world is always finite , so regard it as guaranteed that current exponential de finetti theorem can be directly applied to practical system .",
    "it is not necessary the case .",
    "firstly , finite measurement result does not always mean finite dimensional quantum state .",
    "a finite measurement result can also be generated from an infinite quantum state . secondly , to know the upper bound of the dimension of quantum state is required if we consider the finite key size case . from the ref .",
    "@xcite we know that the amount of secret key rate under the finite key size case is deeply related with the dimension .",
    "our estimation of effective dimension is expected to be favorable to finite key size situation .",
    "we noted two parallel works shown in ref .",
    "@xcite . in these two works ,",
    "the unconditional security of cvqkd is addressed . in ref .",
    "de finetti , renner et al .",
    "modified previous exponential de finetti theorem and this new theorem can be directly applied to cvqkd . from this new de finetti theorem",
    "we can see that in cvqkd if the variance of bob s measurement result is finite , the state alice , bob and eve share can still be approximated by an almost i.i.d .",
    "our result only works for heterodyne cvqkd and requires the maximum value of alice and bob s heterodyne detection to be finite . under the infinite key size case",
    ", our result can give the same approximation that the state describes the whole infinite communications can be approximated by an almost product state with arbitrarily small error . in ref .",
    "@xcite , leverrier et al . directly addressed the unconditional security of cvqkd without the de finetti theorem .",
    "their work is based on the gaussian optimality . in this paper",
    "we approximate the cvqkd by a finite dimension protocol .",
    "the security of finite dimension protocol can be covered by current information theoretical security proof .",
    "then the unconditional security of cvqkd is possible to prove .",
    "compared with these two works , one advantage of our work is its application to photon number detection protocols , e.g. another coherent state protocol , dpsqkd . in the following , we will demonstrate how to apply our result to dpsqkd .",
    "the basic idea of our approach is as following .",
    "although the dimension of quantum state alice , bob and eve initially share is totally unknown , after obtaining measurement results , alice and bob collapse eve s state into a less complex state and can know some information about the effective dimension of their state .",
    "then we can construct another finite dimensional protocol , where alice and bob put a finite dimensional filter right before their detection equipments that can filter out high dimensional components .",
    "we prove that final state of this new finite dimensional protocol is only slightly different from the original one .",
    "then the security of that unknown - dimensional protocol can be approximated by this new protocol .",
    "the security of this new finite dimensional protocol is covered by ref .",
    "renner thesis , then the security of that unknown - dimensional protocol can be solved .    in the following",
    "we will introduce a general qkd protocol at first and then discuss unknown - dimensional problem .",
    "latter we will introduce a finite dimensional protocol and prove that if components of povm elements corresponding to alice and bob s measured results on high dimensional bases are small enough then the security of original unknown - dimensional protocol can be well approximated by this finite dimensional protocol . while discussing their difference , we will introduce an entanglement version measurement to describe alice and bob s detection .",
    "finally some application examples will be given . in application examples",
    ", we will only discuss the infinite key size case , while our result is also useful under the finite key size case .",
    "here we limit our analysis to the following protocol .",
    "alice and bob take @xmath0 quantum states from a channel respectively .",
    "then they permute their subsystem according to a commonly chosen random permutation .",
    "they separate @xmath0 states into @xmath1 blocks and perform povm measurement to each state . without loss of generality ,",
    "we assume alice and bob respectively hold several povms , @xmath2 and @xmath3 ( @xmath4 ) , where @xmath5 and @xmath6 denote corresponding measurement results , and they perform the povm @xmath2 and @xmath7 to the @xmath8-th blocks ( we assume the choice of povms is publicly known ) .",
    "then they publish measurement results from the first block to estimate the channel . before the classical procedure they estimate the dimension of their quantum state according to the region of their measurement results .",
    "then they give up partial of their measurement results ( required by the information - theoretical security proof @xcite ) and finally obtain classical strings . after performing data processing , information reconciliation and privacy amplification ,",
    "they finally generate secret keys . here , we allow alice and bob to hold several povms , mainly because in many qkd  protocols , alice and bob need to randomly change their measurement bases .",
    "one povm corresponds to one choice of bases .    from current de finetti theorem",
    "we know that if the dimension of the channel is finite , the state alice , bob and eve share after many communications is close to an almost product state .",
    "it has been shown that such almost product state almost has the same property with the product state .",
    "the product state corresponds to the collective attack .",
    "then we only need to consider collective attack @xcite .",
    "however , if the dimension is infinite , the de finetti theorem may diverge .",
    "then we can not know the difference between collective attack and coherent attack .",
    "we assume after getting quantum state , alice , bob and eve share the state @xmath9 .",
    "since discarding subsystem never increases mutual information , we can safely assume that eve holds the purification of @xmath10 , so that @xmath11 is pure neilson , zhaoc , renner thesis .",
    "after measuring all @xmath0 states , alice and bob know the region of their measurement results .",
    "for example , in dpsqkd dpsqkd , if they use photon number resolving detector , they can know the maximum photon number they received from one pulse . in cvqkd binarycvqkd with heterodyne detection , they can know the maximum amplitude they get . here , we will show that such information is enough for alice and bob to know whether their system can be approximated by a finite dimensional system .",
    "alice and bob can make an initial estimation to their state according to measurement results .",
    "after alice and bob knows the region of their measurement results , they can only consider such @xmath11 that can generate their measured results with probability higher than certain small parameter @xmath12 .",
    "then the collection of states they need to consider is largely reduced .",
    "the insecure probability introduced by such method is no larger than @xmath12 and the strength of security will be reduced by @xmath12 @xcite .",
    "this procedure is required by our proof .",
    "more precisely , we assume alice and bob s measurement results from a single state of @xmath8-th block belong to the region @xmath13  and @xmath14 respectively . we let @xmath15 @xmath16 then @xmath17  and @xmath18 actually are povm elements that correspond to alice and bob s measurement results belonging to the region @xmath13  and @xmath14 respectively .",
    "@xmath17 ( @xmath19 ) may be different for different blocks . to avoid distinguishing different @xmath17s ( @xmath19s ) , here",
    "we define povm elements , @xmath20 and @xmath21 satisfying that for arbitrary state @xmath22  and @xmath8 , we always have@xmath23to know the requirement given in eq .",
    "( [ definition ] ) well , we can see some examples .",
    "it can be seen that @xmath24 is one trivial element that always satisfy eq .",
    "( [ definition ] ) . also , if all @xmath17s are just the same , @xmath25 is the one satisfying eq .",
    "( [ definition ] ) .",
    "furthermore , since for any @xmath8 and arbitrary @xmath22 , the expectation value of @xmath26 and @xmath27  are non - negative , @xmath26 and @xmath27  are non - negative operators .",
    "therefore , if @xmath26 and @xmath28 are not zero , they are also valid povm elements . then @xmath29 and @xmath30 constitute a povm respectively ( it should be noted that @xmath31  may be an operation of an infinite dimensional space . ) . here we define the povm elements @xmath20 and @xmath21 mainly because the maximum value of measurement result of different blocks may be different and then @xmath32s are not the same .",
    "nevertheless , for most of current protocols , it is not difficult to find a tight @xmath20 and @xmath21 .",
    "for example , in the heterodyne detection cvqkd , alice and bob do not change the basis , so there are only two blocks , one used for parameter estimation , one used to generate secret keys .",
    "we assume at alice s side the maximum value of one block is @xmath33 , and that of the other is @xmath34",
    ". then @xmath35  and @xmath36 .",
    "since alice uses the same povm for these two blocks , we have @xmath37 .",
    "if @xmath38 , we can choose @xmath39 , which satisfies eq .",
    "( [ definition ] ) . then @xmath40 @xmath41 and @xmath42 @xmath43 , which is a povm element . in the dpsqkd ,",
    "bob also does not change his bases , so a similar result can be obtained . to analysis the security we can only consider the state @xmath10 that satisfies @xmath44\\geq \\varepsilon   \\label{requirement}\\]]while the final strength of security will be reduced by @xmath12 , where @xmath20 and @xmath21 are properly chosen elements that satisfy eq .",
    "( [ definition ] ) .",
    "then the collection of @xmath10  we need to consider is largely reduced .",
    "it can be seen that to shrink the collection of @xmath11 , we need to find tight @xmath20 and @xmath21 . in the following , we will see that this technique is required by our argument .",
    "after alice and bob s measurement , the state alice , bob and eve hold becomes @xmath45 , where @xmath46 and @xmath47  are classical variable that can take the value @xmath5 and @xmath6 and can be expressed by orthogonal quantum state @xcite .",
    "actually , the security of qkd system directly related to the state @xmath45 , rather than original state @xmath11 . therefore , if we can find a finite dimensional system that generates another state @xmath48 very close to @xmath49 , then the security of the original unknown system can be approximated by this finite dimensional system .",
    "now we can compare two schemes as illustrated in fig .",
    "one is the original unknown - dimensional scheme , and the other is a modified scheme , in which alice and bob respectively put filters before their detectors .",
    "we assume these two filters can totally filter out high dimensional component of received state and dimensions of output states of these two filters are @xmath50 and @xmath51 respectively . for convenience",
    ", we will call the original protocol as protocol 1 and the modified one as protocol 2 . then",
    "in the protocol 2 dimensions of alice and bob s received states are @xmath52 and @xmath53 respectively . in the following , we will see that if we properly set the filter and choose high enough @xmath52 and @xmath51 , then the security of protocol 1 can be approximated by that of protocol 2 .        to simplify our discussion , it is necessary to avoid distinguishing different blocks .",
    "we know that @xmath26 and @xmath28  are also povm elements . here",
    "we introduce other two classical data @xmath54 and @xmath55 that correspond to povm elements @xmath56 and @xmath27 respectively . then in protocol 1 alice and bob s measurement results of @xmath8-th block are within the region @xmath57  and @xmath58 respectively .",
    "therefore , this protocol does not change if it runs as follows . while getting measurement results from a state of @xmath8-th block ,",
    "alice and bob accept them only when they belong to region @xmath59 and @xmath60 respectively .",
    "otherwise , they discard them .",
    "now we can calculate the difference between the protocol 1 and the protocol 2 .",
    "before calculating the difference , here we introduce a entanglement version measurement .",
    "there are several interpretations for the quantum measurement , e.g. von neumann measurement scheme and many - worlds interpretation quantum measure . here",
    "we are not to give a new philosophical interpretation , but to construct a physical model that can effectively perform povm measurement .",
    "this physical model allows us to easily find the difference between protocol 1 and protocol 2 . for briefness , here we only take alice s measurement as an example .",
    "alice s povm measurement can be performed by the equipment shown in fig .",
    "the measurement procedure is realized by an interaction among her received state , detector and the environment . after the interaction ,",
    "alice gives up received state and the environment and thus only holds the detector , which directly gives her the classical data . after reading out the classical data , alice set the detector and environment to the initial state to do the next measurement . in this model",
    "we require initial states of alice s detector and environment are pure and respectively to be @xmath62 and @xmath63env@xmath64 .",
    "for convenience , here we let @xmath65  denote @xmath66env@xmath67 .",
    "then the interaction among the received state , detector and environment for @xmath8-th block can be given by@xmath68where @xmath69s are orthogonal states of detector , @xmath70 denotes the initial pure state of alice s detector and environment and @xmath71 is the povm operators corresponding to povm element @xmath72 @xcite . to check the validity of this measurement",
    ", we can apply it to a two parties system @xmath73 .",
    "after the interaction described by @xmath74 , the state of whole system becomes @xmath75where @xmath76 denotes the environment and all of @xmath77s are orthogonal with each other .",
    "after we trace out the system a and environment we immediately obtain the state @xmath78we see that @xmath79where @xmath80 is the probability of the out come @xmath5 and @xmath81 denotes bob s conditional state while alice s measurement result is @xmath5 .",
    "then @xmath82  becomes @xmath83which consists with the povm measurement .",
    "since alice only accept the data within the collection @xmath57 , we can reduce the unitary transformation given in eq . [",
    "unitary ] to a general quantum operation @xmath84 to describe alice s effective measurement , which is given by @xmath85here we can see that @xmath84  may not be a unitary transformation . the quantum operation that describes alice s total @xmath0 detection is@xmath86where @xmath87 denotes the length of @xmath8-th block . by the same way we can give the operator describing bob s whole @xmath0 detections ( by substituting the notation @xmath88 by @xmath89 . ) .",
    "env@xmath90 and @xmath91 respectively denote the initial state of environment and the detector .",
    "the measurement can be realized by the unitary operation among received state , detector and the environment . after the operation ,",
    "the received state and the environment are given up and the measurement result can be directly given by the state of detector , denoted by @xmath92.,width=302 ]    since we only need to consider the case that @xmath11 is pure , here we assume the initial state alice and bob receive is @xmath93 .",
    "the initial state of alice and bob s detector and environment is @xmath94 .",
    "then for the protocol-1 , after alice and bob s measurement ( general quantum operation @xcite ) the state describing alice , bob , eve , detectors and environment becomes @xmath95where @xmath46 and @xmath47  denotes alice and bob s detectors , @xmath76 and @xmath96 denote the environment around alice and bob , @xmath97 is the operator describing bob s whole @xmath0 detections and @xmath98 describes expectation value of @xmath99 .    in protocol-2 alice and bob respectively put a @xmath52 and @xmath51 dimensional filter before their detectors",
    "the filter can be described by a projection into a subspace . here",
    "we let the projector @xmath100 and @xmath101 denotes alice and bob s filters . for convenience we let",
    "@xmath102 denotes @xmath103 .",
    "then for the protocol-2 after alice and bob s measurement the whole state becomes@xmath104    after tracing out received quantum state @xmath105 and @xmath106 , and the environment @xmath107 and @xmath108 we obtain the state alice , bob and eve finally hold . for the protocol-1",
    ", they finally hold the state @xmath109 and for the protocol-2 , they finally share @xmath48 . if we know the @xmath61 distance between @xmath109 and @xmath110 we can know the difference between securities of protocol-1 and protocol-2 @xcite .",
    "since tracing out the subsystem never increases the @xmath61 distance @xcite , the @xmath61  distance between @xmath109 and @xmath110 is no larger than that between @xmath111 and @xmath112 .",
    "we know that @xmath113where @xmath114 denotes the orthogonal complement space of @xmath115 . by putting the eq .",
    "( [ decomposition ] ) into eq .",
    "( [ state p1 ] ) we quickly know @xmath116where @xmath117and @xmath118is a state obtained from the complimentary space @xmath119 , which may not be orthogonal with @xmath120 . from the appendix - a of ref .",
    "@xcite we know that the @xmath61  distance of two pure state @xmath121 and @xmath122  can be given by @xmath123where @xmath124 denotes the @xmath61 distance .",
    "then the @xmath61 distance between @xmath111 and @xmath112 is no larger than @xmath125 , which yields @xmath126    for convenience here we let @xmath127 . if we put eqs .",
    "( [ osin ] ) and ( [ ototal ] ) into eq .",
    "( [ beta ] ) and apply the fact that operators of different detectors are commutate , we can know that @xmath128}{tr_{abe}[\\tilde{d}^{\\otimes n}\\rho _ { a^{n}b^{n}e^{n } } ] } }   \\label{beta2}\\]]now we can see that if all of pure state @xmath11 satisfying eq .",
    "( [ requirement ] ) make @xmath129 small enough , then protocol-1 can be well approximated by protocol-2 .    to estimate @xmath129 here",
    "we give a very useful theorem .",
    "let @xmath130 , @xmath131 , ... , and @xmath132 , latexmath:[$%    respectively , by which projectors @xmath100 and @xmath134 can be respectively given by @xmath135 and @xmath136",
    ". then if we have @xmath137  @xmath138 , for arbitrary @xmath10 it is always satisfied that @xmath139:=l\\leq \\varepsilon ^{3}$ ] .",
    "_ proof _ : we can see that @xmath140  is no larger than @xmath141 , where @xmath142 .",
    "if we expand @xmath143 into product spaces @xmath144 and do straightforward calculation , we can immediately find that @xmath145\\leq $ ]  @xmath146 .",
    "( the straightforward calculation is too bothering to show here .",
    "detailed one can be seen in the appendix . )",
    "@xmath147    since @xmath148\\geq \\varepsilon $ ] , from eq .",
    "( [ beta2 ] ) , we can see that theorem 1 actually gives a sufficient condition for @xmath149 .",
    "now , we can know the distance between protocol 1 and protocol 2 from the measurement results . the only remained problem is to give the difference between securities of protocol-1 and protocol-2 if the state difference of them is known .",
    "if @xmath150 for all @xmath11 satisfying @xmath151\\geq \\delta $ ] , then the @xmath152-secure secret key rate of protocol-1 is no less than the @xmath153-secure secret key rate of protocol-2 , while alice and bob take results from protocol-1 as that from protocol-2 to estimate the secret key rate of protocol-2 by the information theoretical method .",
    "_ proof _ : the @xmath61 distance can not be increased by quantum operations and thus classical bit - wise processing @xcite . if @xmath154 and @xmath155 , where @xmath156 , @xmath157 and @xmath158 denote alice and bob s classical data and eve s state after the data processing respectively , during which some information maybe announced .",
    "the security is well defined by smooth min- and max - entropies .",
    "the amount of @xmath159-secure secret keys can be given by @xmath160 @xcite , while the strength of parameter estimation is @xmath161 , where @xmath162 denotes the smooth min - entropy , @xmath163 denotes the amount of information published during the @xmath164-secure reconciliation and @xmath165 @xcite . since @xmath166 ,",
    "the smooth min - entropy satisfies @xmath167 @xcite . also ,",
    "if alice and bob use the data from the protocol-1 as that from the protocol-2 to estimate the state of protocol-2 , the security of the parameter estimation @xcite will be reduced by @xmath168 , because latexmath:[$%    furthermore , if we only consider the @xmath11 satisfying @xmath170\\geq \\delta $ ] , the strength of security will also be reduced by @xmath171 . in all , the @xmath172 secure security of protocol 2 is given by @xmath173 , while the strength of parameter estimation is @xmath174  and the @xmath175 is estimated by the data obtained from protocol 2 .",
    "the @xmath176 secure security of protocol 2 is given by @xmath177 , while the strength of parameter estimation is @xmath178 , where the @xmath179 is estimated by data obtained from protocol 1 .",
    "finally the @xmath180 secure secret key rate of protocol 1 can be given by @xmath181 , while the strength of parameter estimation is @xmath182 , the state @xmath183 is estimated by the data obtained from protocol 1 and only the @xmath11 satisfying @xmath184\\geq \\delta $ ] is considered . here the term @xmath185 is amount of the @xmath176 secure secrete keys of protocol 2 , while the strength of parameter estimation is @xmath178 , where @xmath168 comes from the fact that the state @xmath183 is estimated by the data obtained from protocol 1 .",
    "@xmath147   the state distance @xmath186  can be evaluated from the measurement results through theorem 1 .",
    "the security of protocol 2 is covered by current information theoretical security proof method . then the the security of protocol 1 can be solved .",
    "if alice and bob s received initial state in protocol 1 is @xmath187 , the state they received in protocol 2 is @xmath188 , where @xmath189 is introduced for normalization . after quantum communication ,",
    "alice and bob will permute their state , then @xmath190  is permutation invariant .",
    "the projection operator @xmath191commutates with the permutation operator , so @xmath192 is also a permutation invariant state .",
    "the dimension of individual state of @xmath193 is @xmath194 .",
    "then there is a symmetric purification for @xmath192 in a hilbert space of dimension @xmath195 , which actually is @xmath196 renner thesis , expl4",
    ". then the dimension of the individual state  of @xmath197  is @xmath198 . according to current exponential de finetti theorem ,",
    "the state @xmath196  is close to an almost product state @xcite",
    ". then we can only consider the collective attack .",
    "since under the collective attack , eve attacks all of signals independently by the same method , here we let @xmath199 denotes the state alice , bob and eve share after a single communication . before calculating the secret key rate , we need to estimate possible @xmath199  from measurement results .",
    "it should be noted that although @xmath199  belongs to a hilbert space of dimension @xmath198 , we do not really need to estimate it only in a @xmath198 dimensional subspace .",
    "we can still construct it in an infinite dimensional space , because a state belonging to a @xmath198 dimensional hilbert space also belongs to a infinite dimensional hilbert space @xcite .",
    "this point shows that while we discuss the collective attack for protocol 2 , we do not need to take the filter in to account .",
    "if we give up filters in protocol 2 , the protocol 2 becomes the same as protocol 1 .",
    "then if we do not take the filter into account , the security against collective attack of protocol 2 is actually equivalent to that of protocol 1 .",
    "finally , our conclusion is as follows .",
    "the security of protocol 1 can be approximated by that of protocol 2 .",
    "for the protocol 2 we only need to consider the collective attack . while the hilbert space of protocol 2 is only a subspace of protocol 1 ,",
    "then the secrete key rate of protocol 2 against collective attack is no less than that of protocol 1 against collective attack .",
    "finally , we actually give the difference between coherent attack and collective attack for protocol 1 .",
    "we introduce the filter only to apply current de finetti theorem and to give the difference between coherent attack and collective attack for protocol 1 .",
    "the @xmath200-secure unconditional secret key rate of protocol-1 is no less than the @xmath201-secure secret key rate of protocol-2 . under the infinite key size case ,",
    "the unconditional secrete key rate of protocol 2 is given by the secret key rate against collective attacks @xcite .",
    "the secret key rate under collective attack of protocol 2 is no less than that of protocol 1 . also under the infinite key size case",
    ", the parameter @xmath159 can approach to zero .",
    "then the @xmath202-secure unconditional secret key rate of protocol-1 is no less than the @xmath203 secure unconditional secret key rate of protocol-2 and no less than its secret key rate against collective attacks , where @xmath203 comes from the fact that alice and bob use the data of protocol 1 to estimate the state of protocol 2 .",
    "in addition , under the infinite key size case , we may choose large enough @xmath52 and @xmath51 so as to make @xmath171approach to zero .",
    "then we can directly say that for protocol 1 if the povm elements corresponding to the measured results can be arbitrarily well described in a finite dimensional space , the collective attack is optimal under the infinite key size case .    for many practical qkds ,",
    "the projection of povm elements of measured results on high dimensional basis is extremely small .",
    "for example , the povm element for heterodyne detection corresponding to measured result @xmath204 is @xmath205 , whose component on the photon number basis @xmath206 exponentially goes to zero as @xmath207 increase .",
    "the povm of inefficient photon number resolving detector @xcite also has similar property .",
    "then if a qkd protocol utilize such detectors , alice and bob can announce the maximum @xmath208 or maximum photon number received from one pulse .",
    "then alice and bob can construct the big povm @xmath209 and for a given  @xmath138 they can find a big enough @xmath210 ( smaller than @xmath0 ) that in photon number picture satisfies @xmath211  @xmath212 .",
    "then the difference between states of protocol 1 and protocol 2 can be smaller than @xmath213 .",
    "the @xmath214-secure secret key rate can be given by @xmath215-secure secret key rate of protocol 2 , which is covered by ref .",
    "in the realistic case , the measured result is always finite . in heterodyne detection protocols ,",
    "the maximum value of measured result is limited . in photon",
    "number detection protocol , the maximum received photon number is finite .",
    "such realistic cases allow us readily apply our results .    here",
    "we give two application examples .",
    "we will see that our result can be readily used for heterodyne detection and photon number detection case .",
    "it should be noted that in the following we only proved that for cvqkd and dpsqkd the collective attack is optimal under infinite key size case . how to prove their security against collective attack has not been solved in this paper . for short ,",
    "we only take the infinite key size case for examples .",
    "it seems that our estimation of effective dimension is meaningless under this case .",
    "however , we should note that under the finite key size case , the estimation of effective dimension will be useful .",
    "now we apply our results to the heterodyne detection cvqkd and prove that as the key size goes to infinite the collective is optimal . in the prepare & measurement cvqkd , alice prepare a continuous variable epr pair , and sends one part to bob .",
    "alice and bob respectively do heterodyne detection to their held states .",
    "the security of such scheme against collective attack is discussed in ref .",
    "@xcite . here , we prove that for this protocol the collective attack is optimal under the infinite key size case .",
    "we denote alice and bob s measurement result by @xmath216 and @xmath217 respectively .",
    "the corresponding povm elements are respectively @xmath218 and @xmath219 and @xmath220 are large enough , so that for all possible @xmath221s and @xmath217s alice and bob hold satisfy @xmath222 and @xmath223 ( or alice and bob only accept the data with amplitude no larger than @xmath224 and @xmath220 ) .",
    "then we can construct @xmath20 and @xmath21 respectively to be @xmath225the filter @xmath100 and @xmath134 can be chosen in photon number space .",
    "we let @xmath226where @xmath227 and @xmath228  denote the photon number state .",
    "now we utilize theorem 1 to discuss the difference between protocol 1 and protocol 2 .",
    "we see that @xmath229}{\\sqrt{i!j!}}dr_{a } \\notag \\\\ & = & 2\\int\\limits_{r_{a}^{2}\\leq v_{a}^{\\max } } \\sum_{i=0}^{\\infty } \\frac{% r_{a}^{i}\\exp [ -r_{a}^{2}]}{\\sqrt{i!}}\\sum_{j = d_{a}-1}^{\\infty } \\frac{% r_{a}^{j}}{\\sqrt{j!}}dr_{a }   \\label{overlap}\\end{aligned}\\]]where in the forth line we used the result that @xmath230}{\\sqrt{i!}}$ ] and let @xmath231 @xmath232 . under the case that @xmath233 , we can use the stirling formula to approximate @xmath234 .",
    "then we have @xmath235 , which exponentially goes to zero as @xmath52 increases .",
    "then the whole term @xmath236 will exponentially go to zero with the increase of @xmath52 . by the same way we can prove that the term @xmath237 will also exponentially goes to zero with the increase of @xmath51 . finally , for a given @xmath146 and large enough @xmath0 , we can find a @xmath238 and @xmath239 , that satisfy @xmath240then from the theorem 1 and 2 we know that the security of this cvqkdscheme can be approximated by the security of a scheme of dimension @xmath241 with errors no larger than @xmath242 ( @xmath243 exponentially approach to zero with the increase of @xmath52 and @xmath51 , so that @xmath52 and @xmath51  are proportional with @xmath244 . then for large enough @xmath0",
    ", we can have @xmath245 ) .",
    "then @xmath214-secure secret key rate of heterodyne detection cvqkd  can be given by @xmath246-secure secret key rate of protocol-2 , where alice and bob respectively put filters @xmath100 and @xmath101 before their detectors .",
    "as @xmath247 , we can find large enough @xmath245 , that allow @xmath248 , and the security parameter @xmath159can goes to zero from the ref .",
    "@xcite we know that , under the case that @xmath249 , the collective attack is optimal for protocol 2 and its secret key rate can be given by that under collective attack .",
    "since the secrete key rate against collective attack of protocol 2 is no larger than that of protocol 1 , under the infinite key size case the unconditional secret key rate of heterodyne detection cvqkd  equal to its secret key rate under collective attacks and the collective is optimal . here",
    ", we require alice and bob give up such data whose amplitude is larger than @xmath224 and @xmath250 . we can expect that for large @xmath251 and @xmath250 , the proportion of given up data is extremely small .",
    "such procedure only causes extremely small change of state , and thus only cause extremely small change of security . on the other hand , a realistic security proof for cvqkd  should take such cut off procedure into account .",
    "after all , in a realistic situation , the maximum value of measurement results is always finite .",
    "now we apply our result to coherent state dpsqkd , whose dimension is infinite in principle . up to now , the security against collective attack for dpsqkd under noiseless case is proved dpsqkd . here",
    "we show that that proof actually is unconditional security proof . to allow alice and bob do random permutation , in ref .",
    "@xcite zhao et al . cut the long sequence of coherent states into blocks and regarded one block as one big state .",
    "then alice and bob can permute these big states . in the dpsqkd alice",
    "sends bob a big state @xmath252 ( denotes the state of a block ) , according to her binary string @xmath253 , where @xmath254 is a coherent state . then bob measures the phase difference between each two individual state .",
    "the collective attack means eve attack these big states ( blocks ) independently with the same method .",
    "here we require bob use the photon number resolving detector .",
    "after many rounds of quantum communications , bob announces the maximum photon number received from one big state ( one block ) .",
    "then if bob put a filter that filters out all the state whose photon number is larger than certain criteria , the measured results should not change too much .",
    "we see that if the efficiency of photon number resolving detector is 100% , then we can definitely know the actual dimension of bob s received state .",
    "however , if that efficiency is not 100% , we can not determine the exact dimension of bob s state from the measured photon numbers .",
    "here we discuss the imperfect detector case . in ref .",
    "@xcite , the povm element of ineffective photon number resolving detector is given . in that reference ,",
    "the spacial mode of received photon state has not been considered .",
    "if we take the spacial mode and other components into account , we can extend that povm element corresponding to @xmath255 photons to be @xmath256 where @xmath257 denotes detector efficiency and @xmath258 denotes the projector to @xmath207 photon number subspace .",
    "we assume the dimension of @xmath207 photon number subspace is @xmath259 , and @xmath258 to be @xmath260 where @xmath261 denotes the orthogonal state of @xmath207 photon number subspace .",
    "it can be prove that @xmath262 , where @xmath1 denotes the block size .",
    "if bob s maximum received photon number is @xmath263 , then the povm element corresponding to this event can be given by @xmath264 in dpsqkd , if the block size is @xmath1 , the dimension of alice s modulation is @xmath265 , which is finite .",
    "therefore we only need to discuss bob s state",
    ". we can construct bob s filter to be @xmath266 where @xmath258 is given by eq .",
    "( [ pm ] ) .",
    "now we can use theorem 1 to estimate the difference between protocol 1 and protocol 2 .",
    "we enumerate the basis of the filter by @xmath261",
    ". then we have @xmath267 where in the second line we have used eqs .",
    "( [ pi ] ) , ( [ pm ] ) and ( [ tilded ] ) and the fact that @xmath268 and in the third line we used the fact that @xmath269 . it can be seen that @xmath270 exponentially goes to zero as @xmath271 increases . then for a given security parameter",
    "we can find a large enough key size @xmath0 that gives the required security .",
    "it also can be seen that if bob use the perfect photon number resolving detector or a detector that can given the upper bound of the number of received photons ( e.g. bourn up if received photon number is too high ) , then they can find a protocol 2 that is exactly same as protocol 1 .",
    "then we can immediately get a conclusion that the collective attack is optimal under the infinite key size case .",
    "in the above we give a method to apply current exponential de finetti theorem to realistic qkd .",
    "in realistic qkd , the number of alice and bob received photons is always finite and their measurement results always belong to a finite region .",
    "this property allow us effectively describe the qkd protocol in a finite dimensional subspace with sufficiently small error . in this paper",
    ", we introduce another finite dimensional protocol by putting finite dimensional filters before the detectors , and shown the security difference between the original unknown - dimensional protocol and this finite dimensional protocol based on measurement results .",
    "since the security of that finite dimensional protocol is covered by current information theoretical security proof method , the security of a realistic unknown dimensional system can be solved .",
    "our result can be used to prove the unconditional security of heterodyne detection cvqkd and dpsqkd .",
    "finally , we prove that for heterodyne detection cvqkd and dpsqkd collective attack is optimal under the infinite key size case .",
    "the difference between protocol 1 and protocol 2 will be meaningful if we consider the finite key size case .",
    "* acknowledgement : * special thanks are given to r. renner for fruitful discussions .",
    "this work is supported by national natural science foundation of china under grants no .",
    "60537020 and 60621064 .",
    "at first we can see that @xmath272 $ ] is no larger than @xmath141 where @xmath142 . to find @xmath273 , we need to expand the space @xmath119 by product spaces @xmath274 . here",
    ", we let @xmath275 ( @xmath276 ) denote the projector to alice s ( bob s ) @xmath277-th state . also we distinguish bases of @xmath277-th state of alice ( bob ) as @xmath278 , ( @xmath279 ) .",
    "we know that @xmath280 and @xmath281 , where @xmath282 and @xmath283 are the identity matrixes corresponding to alice and bob s @xmath277-th states",
    ".  then we have @xmath284where @xmath285 and @xmath286 respectively denote the first and second term in the second line . since @xmath287the @xmath285 can be given by@xmath288where we have used the fact that @xmath275 and @xmath289 and @xmath290 are commutate if @xmath291 and @xmath289 and @xmath290 denote povm elements corresponding to @xmath292-th state .",
    "we know there exist two pure states @xmath293 and @xmath294 that can let @xmath295 and @xmath296  be written as @xmath297 and @xmath298 , where @xmath299 and @xmath300 .",
    "then @xmath285 can be given by @xmath301    before giving the upper bound to @xmath285 , we will discuss the upper bound of @xmath302 .",
    "it is known that arbitrary povm element @xmath303 can be written into a diagonal form .",
    "we assume an arbitrary @xmath303 can be written as @xmath304where @xmath305are orthogonal bases , and @xmath306  are positive real numbers and satisfy @xmath307 .",
    "we let @xmath308  and @xmath309  are two arbitrary states .",
    "now we consider the following value for @xmath308  and @xmath310 .",
    "@xmath311we know that for arbitrary states @xmath308  and @xmath310 and povm element @xmath303 , it is always satisfied that @xmath312where in the first line we applied the cauchy - schwartz inequality which says that @xmath313and in the second line we applied eq .",
    "( [ condition ] ) and the fact that @xmath314 .",
    "now we put eq .",
    "( [ result ] ) into eq .",
    "( [ c1f2 ] ) and obtain @xmath315      as the @xmath285 , the @xmath317 can be rewritten as@xmath319also there exist a pure state @xmath320 by which @xmath321 can be written as @xmath322 and a pure state @xmath323 by which @xmath324 can be given by @xmath325 . since @xmath299 and @xmath326 , from the eqs .",
    "( [ result ] ) and ( [ cf2 ] )  we know that @xmath327if we continuously do such procedure , we will find that @xmath328and @xmath329for @xmath330 , and @xmath331for @xmath332 , where @xmath333and we have applied the fact that @xmath334  @xmath119 .",
    "finally from eqs .",
    "( [ f1 ] ) , ( [ ini ] ) ( [ ini2 ] ) and ( [ f2 ] )  we can see that @xmath335   \\notag\\end{gathered}\\]]since eq .",
    "( [ final ] ) holds for arbitrary @xmath336 , the theorem 1 is proved",
    ".                                      there may be many different purifications , but all of them are different by local unitary transformations at eve s side .",
    "the local unitary transformation does not change the smooth min - entropy .",
    "therefore , all purifications are equivalent actually .      under the collective attack",
    ", the secret key rate can be given by @xmath340 , where @xmath341 is the collection of all @xmath199s ( in a finite dimensional space ) that consist with the observation .",
    "if we define a collection @xmath342  to denote the collection of @xmath343s ( belong to a infinite dimensional space ) that consist with the observation , we can find that @xmath344 .",
    "therefore we have @xmath345 .",
    "this inequality means that the secret key rate against the collective attack of protocol 2 is no less than that of protocol 1 ."
  ],
  "abstract_text": [
    "<S> in the realistic quantum key distribution ( qkd ) , alice and bob respectively get a quantum state from an unknown channel , whose dimension may be unknown . </S>",
    "<S> however , while discussing the security , sometime we need to know exact dimension , since current exponential de finetti theorem , crucial to the information - theoretical security proof , is deeply related with the dimension and can only be applied to finite dimensional case . here </S>",
    "<S> we address this problem in detail . </S>",
    "<S> we show that if povm elements corresponding to alice and bob s measured results can be well described in a finite dimensional subspace with sufficiently small error , then dimensions of alice and bob s states can be almost regarded as finite . </S>",
    "<S> since the security is well defined by the smooth entropy , which is continuous with the density matrix , the small error of state actually means small change of security . </S>",
    "<S> then the security of unknown - dimensional system can be solved . </S>",
    "<S> finally we prove that for heterodyne detection continuous variable qkd and differential phase shift qkd , the collective attack is optimal under the infinite key size case . </S>"
  ]
}