{
  "article_text": [
    "[ introduction ]    babar , and hep users in general , have long faced the challenge of locating and retrieving data remotely from large storage systems . with the increasingly distributed nature of the computing models used by hep experiments",
    "there is an additional dispersed geographical element to this problem .",
    "this paper outlines our understanding of the issues , with an emphasis on the babar experiment , and our attempts to address it .",
    "we outline the framework we have used and the projects progress .    the bdbserver++ project attempts to build on both prior work , the original bdbserver , and the current work of other groups , notably the european datagrid@xcite ( edg ) and babargrid@xcite .",
    "it is our intention to tackle the generic issues facing us in data distribution , from primary to secondary and tertiary locations , and provide a useful tool to assist babar users .",
    "bdbserver++ is a complimentary project to the work currently being done with the sdsc storage resource broker@xcite which , it is foreseen , will be used by babar for bulk data transfer between primary computing sites .    in this paper",
    "we discuss the background to this problem , with specific reference to the evolving state of the babar computing model@xcite , the evolution and adoption of grid technologies , and outline the areas which we believe have the greatest impact .",
    "we describe our work in this area and the results we have achieved so far .",
    "we discuss what has been learnt from this with the intention of assisting other experiments in deciding how they wish to tackle the problem of data distribution for analysis and conclude with suggestions for how our work will progress in the future .",
    "we comment on aspects of interest to the community .    in this paper section [ background ]",
    "provides a background to the project , covering the framework it has developed within , the context and objectives .",
    "section [ progress ] describes our current progress and sub - projects .",
    "section [ results ] presents the implementation issues of the project which are commented upon in context with other groups work in section [ related work ] and our concluding remarks in section [ conclusions ] .",
    "the babar computing model calls for there to be , at minimum , two distinct classes of computing site .",
    "these are currently entitled tier a and tier c. tier a sites are major resource centres , having mous with the collaboration .",
    "tier c sites refer to institute level facilities , ranging from a single workstation to a major computing cluster and disk facility .",
    "there are five locations currently classed as tier a sites located in france , germany , italy , the uk and the usa .",
    "these sites store a quantity of monte carlo and production data , provide computing resources and accounts for users .",
    "sites specialise in specific tasks - such as data storage , data re - processing and monte carlo production .    due to the quantity of data produced by both the detector and simulation , no site stores a complete set of all data online .",
    "slac maintains a complete archive but the majority of this is on tape .",
    "the other sites may store all data in a particular format or a selection of data .",
    "babar maintains data in a variety of formats , of different granularities .",
    "these range from the mini@xcite to the micro@xcite and kanga@xcite .    to summarise these formats ,",
    "the micro contained events with sufficient detail for most physics analyses and had a fast enough access time to run a realistic analysis .",
    "however , it provided only the pion hypothesis track fit at the origin of the event which led to the development of the mini .",
    "the mini contains enough detail to provide a track reconstruction object which has information about fits for all physically distinct hypotheses valid throughout the entire detector .",
    "kanga , the kind and gentle analysis , is the de - facto format for physics analysis at tier - c sites . it is used for micro analysis using standard framework , but without objectivity .",
    "tier c sites are the user institutes , which exist in far greater numbers than the much larger tier a sites .",
    "tier c sites typically request data be extracted from the database at a tier a site and copied to their location for analysis .",
    "data at these locations is typically not available to users at other institutes .",
    "the bdbserver project was started in the late 1990 s to automate the process of extracting collections from the objectivity / db databases at slac and in2p3 .",
    "these sites have also behaved as the primary and backup database for the experiment .",
    "the presence of a backup copy of the data at a different location serves as a safeguard against catastrophic problems at any one site .",
    "the original bdbserver was developed using server resident perl scripts and a generic system account .",
    "users submitted requests to a slac email address in a set format , specifying various parameters for the data they required .",
    "these requests were collated every 15 minutes by the bdbserver software and submitted to the batch system .",
    "the required data was extracted and stored in temporary disk space at slac .",
    "users were informed by email when their request had been fulfilled .    as bdbserver was run as a single instance , and ran in a sequential manner over the requests it received ,",
    "there were obvious issues of scalability and performance .",
    "the system lacked the ability to remember previous requests and as a result was unable to utilise caching techniques for optimisation .",
    "the bdbserver++ project was started in 2002 to investigate migrating bdbserver to a grid framework and to investigate options for alternative interfaces .",
    "this was inspired by both the roll out of grid infrastructure at tier a sites and changes to the babar computing model .",
    "the primary aim of bdbserver++ is to migrate the currently available functionality of bdbserver to the existing grid infrastructure",
    ". this should allow users to submit a request from a remote location to a central resource .",
    "this will extract a copy of the required data and store it in a location accessible to the user .",
    "the secondary aims of bdbserver++ are to improve the availability of grid clients at user institutes , review available alternative interfaces to this resource and investigate grid technologies which could be of use to the project .    as a byproduct we hope to increase the reliability , scalability and optimisation of the software .",
    "[ progress ]      while email is now , and has been for many years , available to all babar users , the same is not true of the grid .",
    "wide scale adoption in europe , as part of the european datagrid and various government initiatives , has not been matched in the usa . as a result",
    "a need was demonstrated for a simple to install , minimal grid client .",
    "this resulted in the bbgutils project outlined in [ bbgutils ] .",
    "various submission methods were considered including a web interface and a command line interface .",
    "it was rapidly ascertained that a web interface for this project was inappropriate .",
    "the user community was uncomfortable with a move away from the command line and discussions with the slac computing security group rapidly outlined a number of security implications inherent in the web interface and the need for secure data to transfer between multiple hosts .",
    "as a result , the command line interface option was chosen .",
    "this is discussed in detail in [ ui ] .",
    "early feedback from our user community showed that while the major computing centres such as slac , had adopted the grid and have a large number of experienced staff , many of the user institutes are not in the same position .    from discussions with users we realised that there were two main issues which were slowing the uptake of bdbserver++ .",
    "site security issues with the globus toolkit@xcite , especially the server components , and limited user experience in installing grid software software , posed a barrier to the adoption of bdbserver++ .",
    "site security is frequently handled by different groups and individuals to those who require physics data for analysis .",
    "their objective , to secure their site against intrusion and limit the risk to their network , is often at odds with the users wish to perform productive work easily .",
    "many of the concerns expressed by the security groups centred around superuser based installations , potential attacks on their networks and the ability of outside users to log into local accounts .",
    "we were able to address and avoid these problems by re - wrapping the three client bundles of the globus toolkit ( data , resource and information ) as a single package .",
    "this new package , which we named bbgutils , can be installed under a standard user account and does not have the ability to allow remote users to log into the client machine .",
    "we included copies of the various certificate authority certificates and automatically install them so the user can start submitting jobs as soon as the client is installed .",
    "site specific configuration proved unnecessary as host certificates for the client machine are unnecessary and our target users generate their personal certificates using other methods .",
    "this removes the need for this configuration and gives our users less detail to concern themselves with .",
    "a bash script was originally used for installation under linux but has since evolved into a perl version which operates successfully under linux and solaris .",
    "a dedicated test machine was configured at slac to deal with bdbserver++ requests . for security reasons",
    "this was placed outside the slac firewall and is only able to access system resources specifically needed for bdbserver++ .",
    "the grid - mapfile was attached to the babar vo which contains all users with a valid grid certificate .",
    "the server was configured to allow it to submit jobs , under the users i d , to the batch system for database operations .",
    "gridftp was enabled to allow data to be transferred to remote locations on completion .",
    "two other file transfer applications bbcp@xcite and bbftp@xcite used by babar that also allow third party file transfers are available , but have not been tested yet .",
    "[ results ]      the majority of our implementation has been in perl as this provides support for all platforms currently supported by babar .",
    "perl is also widely used by members of the collaboration and has widespread use in industry and academia .",
    "development on the user interface has two tracks .",
    "submission to slac is achieved by using either the globusrun or globus - job - run commands which come as standard with globus .",
    "we are in the process of developing a utility to assist users in formulating their requests .",
    "this is intended to allow pre - prepared requests which can be used multiple times by the user .",
    "we conducted simple tests on our development system by using a basic shell script to submit multiple simultaneous requests .",
    "the results of these tests showed that our current server , a duel intelpentiumiii-866 is able to handle in the region of 20 simultaneous requests before we encounter dropped and lost requests .",
    "this is obviously not enough for a production environment but has shown us the areas we need to address to move to a production environment .",
    "we are currently looking at moving toward using a pool of user accounts for date extraction .",
    "this will have the advantage of allowing us to catalogue what has been recently requested , and hopefully utilise cached collections to satisfy multiple requests .",
    "we will also be able to sandbox accounts , limiting the potential damage intruders could cause .",
    "our progress in this area is hampered by the requirements for audit trails and the structure of the babar computing model . as each user",
    "is automatically assigned an account at slac it was a simple task for us to map the users grid certificate onto their local account .",
    "the use of individual user accounts is , in theory , advantageous as it allows the manipulation of data in the users home directory . in reality",
    "this is a problem as users have only limited disk space for their accounts and with some requests this can be rapidly filled . with pool accounts we can allow a much greater use of disk space for a restricted number of sessions .",
    "[ related work ]    bdbserver++ is both middleware and a work in progress .",
    "it relies on the development of other projects to extend its capabilities and these are evolving on a daily basis . as a result ,",
    "a clear picture of how the production version of bdbserver++ will appear is difficult to define .",
    "we are actively reviewing , and learning from , the work being done in the areas of distributed replica catalogues , replica location services and automated processes for discovery and registering of data .",
    "much work is being done on this by the edg work package 2@xcite group .",
    "work being done by edg work package 1@xcite in the area of resource brokers is of interest in the longer term . when coupled with a replica catalogue",
    "this would allow us to improve performance and reliability measurably .",
    "[ conclusions ]    we have presented the current status of bdbserver++ , an overview of what has lead us to this stage and an outline of the avenues we are currently investigating to improve it .",
    "much work remains to be done but we have outlined a coherent strategy and discussed the issues we feel are important to the project and research in this area in general .    this paper is based on work supported by the uk particle physics and astronomy research council ( www.pparc.ac.uk ) studentship ppa / s / e/2001/0338 , the us department of energy ( www.energy.gov ) , the particle physics data grid ( www.ppdg.org ) and lapp - annecy cnrs / in2p3 ( www.in2p3.fr ) .    we wish to thank the members of the babar computing group and especially the members of the data distribution group and the babargrid group and others who have assisted in providing information and suggestions for this project .",
    "9 babar computing model european datagrid www.eu-datagrid.org babargrid www.slac.stanford.edu/bfroot/ w. kroger _",
    "et al . _ ,",
    "`` distributing babar data using the storage resource broker ( srb ) '' , chep 2003 , psn moct003 http://www.slac.stanford.edu/bfroot/www/doc/workbook/nanomicro/nanomicro.html#mini http://www.slac.stanford.edu/bfroot/www/doc/workbook/nanomicro/nanomicro.html#micro http://www.slac.stanford.edu/bfroot/www/computing/offline/kanga/index.html the globus project http://www.globus.org http://www.infn.it/workload-grid/ http://edg-wp2.web.cern.ch/edg-wp2/ http://www.slac.stanford.edu/~abh/bbcp/ http://doc.in2p3.fr/bbftp/"
  ],
  "abstract_text": [
    "<S> * on behalf of the babar computing group *    the adoption of grid technology has the potential to greatly aid the babar experiment . </S>",
    "<S> bdbserver was originally designed to extract copies of data from the objectivity / db database at slac and in2p3 . with data now stored in multiple locations in a variety of data formats </S>",
    "<S> , we are enhancing this tool . </S>",
    "<S> this will enable users to extract selected deep copies of event collections and ship them to the requested site using the facilities offered by the existing grid infrastructure . by building on the work done by various groups in babar , and the european datagrid , </S>",
    "<S> we have successfully expanded the capabilities of the bdbserver software . </S>",
    "<S> this should provide a framework for future work in data distribution . </S>"
  ]
}