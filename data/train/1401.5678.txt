{
  "article_text": [
    "hyperbolicity is a property of metric spaces that generalizes the idea of negatively curved spaces like the classical hyperbolic space or riemannian manifolds of negative sectional curvature ( see , for example ,  @xcite ) .",
    "moreover , this concept can be applied to discrete structures such as trees and cayley graphs of many finitely generated groups .",
    "the study of properties of gromov s hyperbolic spaces from a theoretical point of view is a topic of recent and increasing interest in graph theory and computer science .",
    "informally , in graph theory hyperbolicity measures how similar a given graph is to a tree ",
    "trees have hyperbolicity zero and graphs that are `` tree - like '' have `` small '' hyperbolicity .",
    "formally , a connected graph @xmath0 is * @xmath3-hyperbolic * , if for every four vertices @xmath4 , the two largest values in the set @xmath7 differ by at most @xmath6 .",
    "the * hyperbolicity * of @xmath2 , denoted by @xmath8 , is the smallest @xmath3 for which this property holds .",
    "our results below show a close relation between the diameter and hyperbolicity .",
    "this relation was also studied in  @xcite : the authors show that for vertex transitive graphs , the hyperbolicity is within a constant factor of the diameter .",
    "the author of  @xcite bounds the number of vertices in terms of the cheeger constant and the hyperbolicity , showing that the family of expanders is not uniformly @xmath3-hyperbolic for @xmath3 constant . in  @xcite",
    "several equivalent conditions for a graph to be @xmath9-hyperbolic are given , and in  @xcite the authors characterize @xmath10-hyperbolic graphs in terms of forbidden subgraphs . on the algorithmic side , by the conditions investigated in  @xcite",
    ", @xmath9-hyperbolic graphs can be recognized in linear time , and in  @xcite it is shown that recognizing @xmath10-hyperbolic graphs is equivalent to finding an induced cycle of length @xmath11 in a graph .",
    "fast algorithms for computing the hyperbolicity of large - scale graphs are given in  @xcite .",
    "+ the study of this parameter is motivated by the following observations : on the algorithmic side , in  @xcite fast algorithms for computing properties related to the diameter of graphs with small hyperbolicity are given . in  @xcite",
    "the authors give a simple construction showing that distances in graphs with small hyperbolicity can be approximated within small error by corresponding trees . in  @xcite",
    "the authors give a polynomial algorithm which computes for such graphs an augmented graph of at most a given diameter , and whose number of added edges is within a constant factor of the minimum number of added edges that are needed such that the augmented graph has at most such a diameter .",
    "finally , in  @xcite it is shown that all cop - win graphs in which the cop and the robber move at different speeds have small hyperbolicity , and also a constant - factor approximation of @xmath12 in time @xmath13 is given . moreover",
    ", the concept of hyperbolicity turns out to be useful for many applied problems such as visualization of the internet , the web graph , and other complex networks  @xcite , routing , navigation , and decentralized search in these networks  @xcite .",
    "in particular , hyperbolicity plays an important role when investigating the spread of viruses through a network  @xcite .",
    "let us recall a classic model of random graphs that we study in this paper .",
    "the * binomial random graph * @xmath14 is defined as a random graph with vertex set @xmath15=\\{1,2,\\dots , n\\}$ ] in which a pair of vertices appears as an edge with probability @xmath16 , independently for each such a pair . as typical in random graph theory , we shall consider only asymptotic properties of @xmath14 as @xmath17 , where @xmath18 may and usually does depend on @xmath19 .",
    "we say that an event in a probability space holds * asymptotically almost surely * ( * a.a.s . * ) if its probability tends to one as @xmath19 goes to infinity .",
    "we say that @xmath20 if there exists an integer @xmath21 and a constant @xmath22 such that @xmath23 for all @xmath24 , and @xmath25 , if @xmath26 .",
    "also , @xmath27 , or @xmath28 , if @xmath29 , and @xmath30 or @xmath31 , if @xmath32 . throughout this paper",
    ", @xmath33 always denotes the natural logarithm of @xmath19 .    in this paper",
    ", we investigate the hyperbolicity for binomial random graphs .",
    "surprisingly , this important graph parameter is not well investigated for random graphs which is an important and active research area with numerous applications . in  @xcite ,",
    "sparse random graphs ( @xmath34 for some real number @xmath35 ) are analyzed .",
    "it was shown that @xmath14 is , with positive probability , not @xmath3-hyperbolic for any positive @xmath3 .",
    "nothing seems to be known for @xmath36 . on the other hand ,",
    "it is known that for a random @xmath37-regular graph @xmath2 , for @xmath38 , we have that a.a.s .",
    "@xmath39 where @xmath40 is any function tending to infinity together with @xmath19 .",
    "( in fact , almost geodesic cycles are investigated in  @xcite , and this is an easy consequence of this result . ) the hyperbolicity of the class of kleinberg s small - world random graphs is investigated in  @xcite .    our contribution is the following result .",
    "[ thm : main ] let @xmath41 .",
    "+ suppose first that @xmath42 let @xmath43 be the smallest integer such that @xmath44 .",
    "then , the following properties hold a.a.s .    * if @xmath45 is even and @xmath46 , then @xmath47 . *",
    "if @xmath45 is even and @xmath48 ( but still @xmath49 ) , then @xmath50 * if @xmath45 is odd , then @xmath51 .",
    "furthermore , the following complementary results hold .",
    "* for @xmath52 for some constant @xmath22 , a.a.s .",
    "more precisely , @xmath54 * for @xmath55 , a.a.s .",
    "@xmath56 .    * remark .",
    "* it seems that with quite a bit more work , we could slightly push the lower bound required for @xmath37 and require only that @xmath57 or perhaps even only @xmath58 .",
    "unfortunately , it seems that it is more difficult to investigate sparser graphs ( that is , assuming only @xmath59 or even closer to the connectivity threshold ) .",
    "therefore , we aim for an easier ( and cleaner ) argument in this paper , leaving the investigation of sparser graphs as an open problem .",
    "let us also mention that the hyperbolicity is not determined precisely for dense graphs right before the diameter decreases from even @xmath45 to @xmath60 ( case ( ii ) in theorem  [ thm : main ] ) .",
    "again , the constant @xmath61 could be slightly improved with a more delicate argument but the gap can not be closed with the current approach .",
    "this is also worth investigating and ( unfortunately ) left open at the moment .",
    "in this section , we introduce a few useful lemmas .",
    "the following result is well - known but we include the proof for completeness .",
    "[ lem : upperbound ] let @xmath2 be any connected graph with diameter at most @xmath62",
    ". then @xmath63 .",
    "consider any four vertices @xmath64 with their three sums of distances @xmath65 .",
    "we need to show that @xmath66 . clearly",
    ", @xmath67 first observe that by applying the triangle inequality four times , @xmath68 and thus @xmath69 or equivalently @xmath70 .",
    "hence , if @xmath71 , the required condition holds and we are done .",
    "otherwise , @xmath72 and so also @xmath73 . as a consequence , @xmath74 , and we are done as well .",
    "we can slightly improve the upper bound for graphs with odd diameter .",
    "[ lem : upperbound2 ] let @xmath2 be any graph with diameter at most @xmath75 for some integer @xmath76 . then @xmath77    as in the previous proof , we consider four vertices @xmath64 with their three sums of distances @xmath65 .",
    "our goal is to show that @xmath78 .",
    "arguing as in the previous proof , we get that @xmath79 .",
    "hence , if @xmath80 , then @xmath81 and we are done . also , if @xmath82 , then @xmath83 . so the only case to analyze is when @xmath84 . for a contradiction , suppose that @xmath85 , that is , @xmath86 . in particular , @xmath87 and @xmath88 . since @xmath89 and @xmath62 is odd , we may assume ( without loss of generality ) that @xmath90 . then , since @xmath91 and @xmath92 we have @xmath93 , @xmath94 , and we have that @xmath95 , contradicting our assumption on @xmath96 .",
    "therefore , @xmath78 , and the lemma follows .    in order to bound the hyperbolicity from above , we will make use of the following result for random graphs , see  ( * ? ? ?",
    "* corollary  10.12 ) .",
    "[ lem : diameter ] suppose that @xmath97 and @xmath98 then the diameter of @xmath41 is equal to @xmath99 a.a.s .    from the proof of this result , we have the following corollary .",
    "[ cor : diameter ] suppose that @xmath97 and that @xmath100 then the diameter of @xmath41 is at most @xmath99 a.a.s .    in order to obtain a lower bound on the hyperbolicity",
    ", we will need the following expansion lemma investigating the shape of typical neighbourhoods of vertices .",
    "before we state the lemma we need a few definitions . for any @xmath101 ,",
    "let us denote by @xmath102 the set of vertices at distance at most @xmath45 from @xmath103 , and by @xmath104 the set of vertices at distance exactly @xmath45 from @xmath103 .",
    "also , for a set of vertices @xmath105 , and @xmath106 , denote by @xmath107 the set of vertices in @xmath108 at distance at most @xmath45 from @xmath109 in the graph induced by @xmath108 , and similarly let @xmath110 be the set of vertices in @xmath108 at distance exactly @xmath45 from @xmath109 in the graph induced by @xmath108 .",
    "[ lem : expansion ] suppose that @xmath111 is such that @xmath112 let @xmath113 and let @xmath114 be the largest even integer such that @xmath115 fix any set @xmath105 such that @xmath116 and fix any vertex @xmath117 .",
    "then ,    * with probability @xmath118 we have @xmath119 * with probability @xmath120 there is no edge from @xmath103 to @xmath121 .",
    "in particular , it follows that a.a.s .",
    "the following properties hold :    * for all @xmath122 , @xmath123 * for all @xmath124 , every vertex of @xmath125 has @xmath126 neighbours in @xmath127 , * the graph induced by @xmath128 forms a tree , * all vertices of @xmath129 have exactly one neighbour in @xmath130 , * for any fixed partition of the neighbours of @xmath103 into two sets , @xmath131 and @xmath132 , such that @xmath133 , let @xmath134 denote the set of vertices of @xmath135 that are at distance @xmath136 from @xmath131 , and let @xmath137 ; then , @xmath138    let @xmath105 , @xmath139 , and @xmath117 .",
    "consider the random variable @xmath140 .",
    "we will bound @xmath141 in a stochastic sense .",
    "there are two things that need to be estimated : the expected value of @xmath141 , and the concentration of @xmath141 around its expectation .",
    "since @xmath142 , it is clear that @xmath143 } = \\frac { d}{n-1 } ( n - f-1 ) = d \\left ( 1 + o(f / n ) \\right ) = d ( 1+o(n^{-1/2})).\\ ] ] a consequence of chernoff s bound ( see e.g.  ( * ? ? ?",
    "* corollary  2.3 ) ) is that @xmath144}| \\ge { \\varepsilon}{\\mathbb{e}\\left[x \\right ] } \\big ) \\le",
    "2\\exp \\left ( - \\frac { { \\varepsilon}^2 { \\mathbb{e}\\left[x \\right]}}{3 } \\right)\\ ] ] for @xmath145 . hence , after taking @xmath146 , we get that with probability @xmath147 we have @xmath148 } ( 1+o({\\varepsilon } ) ) = d ( 1+o(n^{-1/2 } ) ) ( 1+o({\\varepsilon } ) ) = d \\left ( 1 + o \\left ( \\frac { \\log \\log n}{\\log^2 n } \\right ) \\right).\\ ] ] this proves part ( i ) of the lemma .",
    "part ( ii ) is straightforward since the probability that there is no edge from @xmath103 to @xmath121 is equal to @xmath149    part ( iii ) is a straightforward implication of ( i ) . in order to have good bounds on the ratios of the cardinalities of @xmath150 , @xmath151 , and so on",
    ", we consider the breadth first search ( bfs ) algorithm that explores vertices one by one ( instead of the whole @xmath45-th neighbourhood ) .",
    "formally , the process is initiated by putting @xmath103 into the queue @xmath152 . in each step of the algorithm ,",
    "one vertex @xmath153 is taken from @xmath152 and edges from @xmath153 to all vertices that are not in @xmath121 and have not yet been discovered are examined .",
    "all new neighbours of @xmath153 that are found are put into the queue @xmath152 .",
    "the process continues until the queue @xmath152 is empty or vertices of @xmath154 are discovered .",
    "( note that if the process stops because @xmath154 is discovered , vertices of @xmath129 are in the queue @xmath152 ; that is , no vertex from this sphere is processed and , in particular , edges in the graph induced by @xmath129 are not exposed yet . )    suppose that @xmath155 is discovered and we continue investigating vertices of the sphere @xmath156 , one by one , that are in the queue @xmath152 .",
    "provided @xmath157 vertices have been discovered so far , it follows from part ( i ) that we may assume that when each vertex of @xmath156 is processed , we discover @xmath158 new neighbours that belong to @xmath125 .",
    "after that we update @xmath121 by adding all newly discovered vertices to it , adding the vertex processed at this step , and removing the next vertex to be processed ",
    "see figure  [ picturef2 ] .    .",
    "the black vertex is the vertex currently exposed .",
    "grey vertices form the set @xmath121 that is updated each time .",
    "white vertices are newly discovered ones.,title=\"fig:\",scaledwidth=40.0% ] .",
    "the black vertex is the vertex currently exposed .",
    "grey vertices form the set @xmath121 that is updated each time .",
    "white vertices are newly discovered ones.,title=\"fig:\",scaledwidth=40.0% ]    we continue until @xmath159 is discovered to get that @xmath160 we consider this up to the @xmath45th iterated neighbourhood , where @xmath161 and @xmath162 and thus @xmath163",
    ". then the cumulative multiplicative error term is @xmath164 and thus @xmath165 , and @xmath166 this establishes ( iii ) .",
    "for parts ( iv ) , ( v ) , and ( vi ) we note that in each step of the bfs algorithm the probability that there is no edge from @xmath153 ( the vertex that is processed at this point ) to vertices that have been already discovered is , by part ( ii ) , @xmath167 .",
    "hence , by the union bound , a.a.s .",
    "this never happens since the number of vertices processed is @xmath168 the claim follows .",
    "part ( vii ) follows immediately ( and deterministically ) from ( iv ) , ( v ) , and ( vi ) .",
    "the proof of the lemma is finished .",
    "we first give the proof of the result for very dense graphs .",
    "for @xmath55 , note that the expected number of edges in the complement of @xmath2 is @xmath169 , and thus by markov s inequality , a.a.s . , @xmath2 is the complete graph on @xmath19 vertices .",
    "if this is the case , then @xmath170 for any pair of vertices @xmath171 and @xmath103 , and thus for any four vertices @xmath64 , clearly , @xmath172 , and hence @xmath56",
    ". part ( v ) is proved .    for @xmath52 and @xmath22 , note that a.a.s .",
    "there is no component of size @xmath173 or more in the complement of @xmath2 .",
    "thus , a.a.s .",
    ", for all four - tuples of vertices in the original graph , either all edges are present , only one edge is missing , or two disjoint edges are missing . in all of these cases ,",
    "the non - adjacent vertices are at distance @xmath174 , and thus a.a.s .",
    "the expected number of edges in the complement of @xmath2 equals @xmath176 .",
    "also , for any fixed @xmath177 , the @xmath177-th moment of the number of edges in the complement of @xmath2 equals @xmath178 , and thus , by the method of moments ( see , for example , theorem  1.22 of  @xcite ) the number of edges converges to a random variable with a poisson distribution with parameter @xmath179 . in particular , with probability @xmath180 , the complement of @xmath2 is empty , and by the argument in the first case , we have @xmath56 .",
    "also , with probability @xmath181 , the complement of @xmath2 contains exactly one edge , say @xmath182 .",
    "for the four - tuples not containing both @xmath171 and @xmath103 , the analysis is as before . for a four - tuple @xmath64 we now have for the distances in the original graph @xmath183 , @xmath184 , and thus @xmath185 .",
    "finally , with probability @xmath186 the complement of @xmath2 has at least two disjoint edges , say @xmath182 and @xmath187 . in this case ,",
    "in the original graph we have @xmath188 , @xmath184 , and thus @xmath189 , and part ( iv ) follows .",
    "the main challenge of this paper is to prove the following result and the whole next section is dedicated to it . here , we show how theorem  [ thm : main](i)-(iii ) can be derived from it .",
    "[ thm : main2 ] suppose that @xmath42 let @xmath190 be the largest even integer such that @xmath115 let @xmath41 .",
    "then , a.a.s .",
    ", @xmath191 .",
    "fix @xmath45 to be the smallest integer such that @xmath192 .",
    "in particular , @xmath193 . moreover , it follows from corollary  [ cor : diameter ] that the diameter of @xmath2 is at most @xmath45 a.a.s .",
    "hence , by lemma  [ lem : upperbound ] , a.a.s .",
    "this establishes upper bounds in parts ( i ) and ( ii ) .",
    "suppose first that @xmath45 is even and that @xmath46 .",
    "then @xmath45 is the largest even integer such that @xmath195 by theorem  [ thm : main2 ] , a.a.s .",
    "@xmath196 and part ( i ) holds .",
    "suppose next that @xmath45 is even and that @xmath48 ( note that it follows from the definition of @xmath45 that @xmath197 ) .",
    "then @xmath198 is the largest even integer such that @xmath199 , and by theorem  [ thm : main2 ] , a.a.s .",
    "this finishes part ( ii ) .",
    "finally , suppose that @xmath45 is odd .",
    "since @xmath201 , @xmath202 , and thus @xmath60 is the largest even integer such that @xmath203 by theorem  [ thm : main2 ] , a.a.s .",
    ", @xmath204 .",
    "since a.a.s .",
    "the diameter of @xmath2 is at most @xmath45 , and @xmath45 is odd , by lemma  [ lem : upperbound2 ] we have that a.a.s .",
    "@xmath205 . part ( iii ) and so the whole proof is finished .",
    "let @xmath206 and suppose that @xmath207 and @xmath208 .",
    "let @xmath190 be the largest even integer such that @xmath115 assume first that @xmath209 which implies that @xmath210 . in this case , we have to prove that a.a.s .",
    "it therefore suffices to find four vertices @xmath64 such that the subgraph induced by them is a @xmath11-cycle . since @xmath211 and @xmath212 , the expected number of induced cycles of length 4 is @xmath213 .",
    "it is a straightforward application of the second moment method to show that a.a.s .",
    "there is at least one induced cycle in @xmath2 and the statement follows in this case .",
    "hence , from now on we may assume that @xmath214 which implies that @xmath114 .",
    "we need one more definition : for a given @xmath215 , @xmath216 , and @xmath217 , we say that @xmath218 * expands well * if for all @xmath219 , @xmath220 and for all @xmath221 , every vertex of @xmath222 has @xmath126 neighbours in @xmath223 .",
    "finally , fix a four - tuple of different vertices @xmath64 and consider the following process ( see figure  [ fighyp1 ] ) : +    ) , the big picture ; right : the neighbourhood exposure around @xmath224 in more detail , title=\"fig : \" ] ) , the big picture ; right : the neighbourhood exposure around @xmath224 in more detail , title=\"fig : \" ]    hyperbolicity(@xmath64 )    1 .",
    "let @xmath225 .",
    "perform breadth - first search ( bfs ) from @xmath171 in the graph induced by @xmath226 to expose @xmath227 .",
    "make sure that the following properties hold ( otherwise stop the process ) : + ( a ) : :    @xmath227 expands well .",
    "( b ) : :    the graph induced by @xmath228 is a    tree .",
    "( c ) : :    there is no edge from @xmath229 to    @xmath230 .",
    "+ ( as a result , @xmath231 and so @xmath232 expands well , @xmath232 is a tree , and @xmath233 . )",
    "let @xmath234 .",
    "perform bfs from @xmath103 in the graph induced by @xmath235 to expose @xmath236 .",
    "( the reason that here we restrict ourselves to the induced graph is to make sure no edge in this graph is already exposed and so , as typical , we perform bfs by exposing edges one by one , as required . ) make sure that the following properties hold ( otherwise stop ) : + ( d ) : :    @xmath236 expands well .",
    "( e ) : :    there is no edge from @xmath236 to    @xmath237 ( note that edges from vertices of    @xmath238 are already exposed , so that the only chance    for the intersection of @xmath236 and    @xmath232 to be non - empty is when we reach vertices of    @xmath237 ) .",
    "( f ) : :    the graph induced by @xmath236 is a    tree .",
    "( g ) : :    there is no edge from @xmath239 to    @xmath187 .",
    "+ ( as a result , @xmath240 and @xmath241 so expands well , @xmath242 , @xmath241 is a tree , and @xmath243 . )",
    "let us partition ( arbitrarily ) the neighbours of @xmath171 into two sets , @xmath244 and @xmath245 , such that @xmath246 .",
    "let us partition the vertices of @xmath237 and call vertices that are at distance @xmath136 from @xmath244 to be ` @xmath171-left ' ; otherwise , they are called ` @xmath171-right ' .",
    "similarly , the vertices of @xmath135 are partitioned into @xmath103-left and @xmath103-right ones .",
    "expose the edges between @xmath109 and @xmath247 and similarly also between @xmath248 and @xmath247 .",
    "make sure that the following properties hold ( otherwise stop ) : + ( h ) : :    the number of @xmath171-left vertices is    @xmath249 , and the number    of @xmath171-right vertices is also    @xmath249 .",
    "( i ) : :    the number of @xmath103-left vertices is    @xmath249 , and the number    of @xmath103-right vertices is also    @xmath249 .",
    "( j ) : :    there is exactly one edge between @xmath109 and the    @xmath171-left vertices ; call the corresponding neighbour of    @xmath109 to be @xmath224 .",
    "there is no edge between    @xmath109 and the @xmath171-right vertices .",
    "( k ) : :    there is exactly one edge between @xmath109 and the    @xmath103-left vertices ; call the corresponding neighbour of    @xmath109 to be @xmath250 . there is no edge between    @xmath109 and the @xmath103-right vertices .",
    "( l ) : :    there is exactly one edge between @xmath248 and the    @xmath171-right vertices ; call the corresponding neighbour of    @xmath248 to be @xmath179 .",
    "there is no edge between    @xmath248 and the @xmath171-left vertices .",
    "( m ) : :    there is exactly one edge between @xmath248 and the    @xmath103-right vertices ; call the corresponding neighbour of    @xmath248 to be @xmath37 .",
    "there is no edge between    @xmath248 and the @xmath103-left vertices .",
    "4 .   in this step , the neighbourhood of @xmath224 is investigated .",
    "unfortunately , this is slightly more complicated since some part of the neighbourhood of @xmath224 is already `` buried '' in @xmath232 . in order to accomplish our goal",
    ", we need to perform bfs not only from @xmath224 ( up to level @xmath136 ) , but also from some other vertices of @xmath237 ( this time going not as deep as @xmath136 ; the level until which the neighborhood is explored depends on the distance from @xmath224)see figure  [ fighyp1 ] ( right side ) .",
    "formally , for @xmath251 , let @xmath252 be the set of vertices of @xmath237 that are at distance @xmath76 from @xmath224 in the tree induced by @xmath232 .",
    "( in fact , @xmath76 has to be even in order for @xmath252 to be non - empty , but we consider all values of @xmath76 for simplicity . )",
    "let @xmath253 we perform bfs from @xmath224 and from vertices of @xmath254 in the graph induced by @xmath108 ; we reach vertices at distance @xmath136 from @xmath224 and at distance @xmath255 from @xmath252 .",
    "make sure that the following properties hold ( otherwise stop ) .",
    "+ ( n ) : :    @xmath256 expands well .",
    "moreover , for    all @xmath251 and all @xmath257    we have that @xmath258 expands well . in    particular",
    ", @xmath259 ( o ) : :    there is no edge from    @xmath260 to    @xmath121 and for every @xmath261 and    every vertex @xmath257 , there is no edge from    @xmath262 to    @xmath121 .",
    "( p ) : :    all graphs exposed in this step are disjoint trees .",
    "note that this    implies that @xmath263 is a tree .",
    "( q ) : :    for @xmath264 , let @xmath265 be the    set of vertices of @xmath135 that are at distance    @xmath76 from @xmath250 in the tree induced by    @xmath241 and let @xmath266 perform bfs from @xmath250    and from vertices of @xmath267 in the    graph induced by @xmath268 ; properties * ( n ) * ,    * ( o ) * , and * ( p ) * hold when @xmath224 is replaced by    @xmath250 , @xmath121 is replaced by @xmath269 , and    the sets @xmath252 are replaced by @xmath270 .",
    "( r ) : :    for @xmath264 , let @xmath271 be the    set of vertices of @xmath237 that are at distance    @xmath76 from @xmath179 in the tree induced by    @xmath232 and let @xmath272 perform bfs from    @xmath179 and from vertices of    @xmath273 in the graph induced by    @xmath274 ; properties * ( n ) * , * ( o ) * , and * ( p ) * hold    when @xmath224 is replaced by @xmath179 , @xmath121    is replaced by @xmath275 , and the sets @xmath252 are    replaced by @xmath271 . ( s ) : :    for @xmath264 , let @xmath276 be the    set of vertices of @xmath135 that are at distance    @xmath76 from @xmath37 in the tree induced by    @xmath241 and let @xmath277    perform bfs from @xmath37 and from vertices of    @xmath278 in the graph induced by    @xmath279 ; properties * ( n ) * , * ( o ) * , and * ( p ) *    hold when @xmath224 is replaced by @xmath37 ,    @xmath121 is replaced by @xmath280 , and the sets    @xmath252 are replaced by @xmath276 .",
    "let @xmath281 we perform bfs from @xmath109 in the graph induced by @xmath282 to expose @xmath283 .",
    "make sure that the following properties hold ( otherwise stop ) : + ( t ) : :    @xmath283 expands well .",
    "( u ) : :    there is no edge from    @xmath284 to    @xmath152 .",
    "( v ) : :    @xmath283 is a tree .",
    "note that since    the remaining branches accessed by the edge @xmath285 and the    edge @xmath286 are already guaranteed to be trees and there are    no edges between different parts , this implies that    @xmath287 is a tree .",
    "( w ) : :    there is no edge between @xmath109 and @xmath248 .",
    "( x ) : :    let @xmath288",
    ". properties    * ( t ) * , * ( u ) * , and * ( v ) * hold when @xmath109 is replaced by    @xmath248 and @xmath152 is replaced by @xmath289 .",
    "it is the end of this tedious process so it is time for a short break ",
    "perform a fireworks show ( fireworks are explosive pyrotechnic devices typically used for aesthetic , cultural , and religious purposes ; here the main purpose is to celebrate finding an object with the desired properties ) .",
    "we say that the process hyperbolicity(u , v , x , y ) * terminates successfully * if all the required conditions are satisfied , that is , the process does not stop prematurely before reaching the end .",
    "[ claim : correctness ] if hyperbolicity(u , v , x , y ) terminates successfully for some four - tuple @xmath64 , then @xmath191 .    by property * ( e ) * , @xmath290 , and there is no edge between @xmath237 and @xmath135 .",
    "hence , we have @xmath291 .",
    "in fact , the distance between @xmath171 and @xmath103 is exactly @xmath99 , since by properties @xmath292 and @xmath293 there is a path of length @xmath99 going through @xmath109 .",
    "next , by properties @xmath294 , @xmath295 , @xmath292 , @xmath293 , @xmath296 and @xmath297 , we have @xmath298 . for the distance between @xmath109 and @xmath248 observe the following : first , by properties @xmath292 and @xmath296 there is an @xmath299 path of length @xmath99 going from @xmath109 to @xmath224 , then through @xmath171 to @xmath179 , and then to @xmath248 .",
    "we will show that @xmath300 and that there is no edge between @xmath301 and @xmath302 .",
    "indeed , if a shortest @xmath299-path first goes from @xmath109 to @xmath224 , by properties @xmath303 , @xmath304 , @xmath305 and @xmath306 , it has to go until @xmath307 , and then it has to pass through at least two more edges before entering @xmath302 , including @xmath308 and @xmath309 , and in each case the length is at least @xmath99 . by properties @xmath310 , @xmath304 , @xmath305 and @xmath306 , the same holds if the path starts from @xmath109 to @xmath250 .",
    "if the path from @xmath109 neither goes through @xmath224 nor through @xmath250 , it has to go through @xmath283 . by properties @xmath311 and @xmath306",
    ", it has to arrive at @xmath301 , and then it has to go through at least two edges before entering @xmath302 , including @xmath308 and @xmath309 , and in each case the length is also at least @xmath99 .",
    "hence , @xmath312 , @xmath313 , and thus , @xmath191 .",
    "the proof of the claim is finished .",
    "thus , by claim  [ claim : correctness ] , in order to show that a.a.s .",
    "@xmath191 , it suffices to show that a.a.s .",
    "hyperbolicity(@xmath64 ) succeeds for at least one four - tuple of vertices @xmath64 .",
    "let @xmath314 be the indicator random variable defined as follows : @xmath315 let @xmath316 where the sum is taken over all @xmath317 @xmath11-tuples of all disjoint vertices .",
    "in order to prove that a.a.s .",
    "@xmath191 , we will apply the second moment method to @xmath141 .",
    "define @xmath318 and note that from the assumption that @xmath319 we have @xmath320 .",
    "[ lem : firstmoment ] for a fixed four - tuple of vertices @xmath64 , @xmath321 moreover , @xmath143 }   = \\frac{d^{2i}}{384}q^{16}(1+o(1 ) ) = \\omega(n^{5/6}(\\log n)^{4/3}).\\ ] ]    fix a four - tuple of vertices @xmath64 .",
    "first , we will calculate @xmath322 .",
    "we will estimate for each of the five steps of hyperbolicity(u , v , x , y ) the probability that it fails at that step . for @xmath323 ,",
    "let @xmath324 be the indicator random variable for the event that property * ( z ) * succeeds provided that all previous properties have succeeded as well .",
    "similarly , for step @xmath325 , let @xmath326 be the indicator random variable for the event that step @xmath327 succeeds provided that all previous steps have succeeded as well .    by lemma  [ lem : expansion](iii ) and ( iv ) ,",
    "@xmath328 let @xmath329 be the event that there is no edge within the last sphere @xmath330 .",
    "by lemma  [ lem : expansion](v ) and ( vi ) , in order to calculate the probability that property * ( b ) * holds , it remains to estimate the probability that @xmath329 holds .",
    "we have @xmath331 where the last equality follows from property * ( a ) * that is assumed to hold deterministically now .",
    "hence , @xmath332 where the last line follows from the assumption that @xmath319 .",
    "hence , the probability that @xmath228 is a tree is asymptotically equal to the probability that the event @xmath329 holds , and thus @xmath333 now , let us move to property * ( c)*. by lemma  [ lem : expansion](ii ) together with a union bound over all vertices in @xmath229 , we see that with probability @xmath334 there is no edge from @xmath229 to @xmath335 , and thus @xmath336 hence , @xmath337    next , for property * ( d ) * , by lemma  [ lem : expansion](iii ) and ( iv ) , we obtain @xmath338 for property * ( e ) * , since property * ( d ) * is assumed to hold deterministically at this point , we have @xmath339 and hence , by the same calculations following   we obtain @xmath340 the probability of having property * ( f ) * is calculated as before for property * ( b ) * , and of having property * ( g ) * as before for property * ( c)*. thus , @xmath341    for property * ( h ) * we immediately have by lemma  [ lem : expansion](vii ) that @xmath342 and the same applies to property * ( i)*. for property * ( j ) * , since property * ( h ) * is assumed to hold deterministically , we have @xmath343 where the last line follows from the fact that @xmath344 ( by definition of @xmath99 ) , and by  , which implies that @xmath345 .",
    "note then that properties * ( j ) * , * ( k ) * , * ( l ) * and * ( m ) * are symmetric and mutually independent , and thus they are calculated in the same way .",
    "therefore @xmath346    let us move to investigating properties * ( n ) * , * ( o ) * , and * ( p)*. first , we perform bfs from @xmath224 in @xmath108 .",
    "it follows immediately from lemma  [ lem : expansion](iii ) that @xmath256 expands well and so the bound on @xmath347 in property * ( n ) * holds a.a.s .",
    "for the vertices in @xmath252 , since properties * ( a ) * and * ( b ) * are assumed to hold deterministically , for every even value of @xmath76 such that @xmath348 , the number of vertices in @xmath252 is @xmath349 . in order to deal with the second bound of property * ( n ) * ( and to investigate properties * ( o ) * and * ( p ) * at the same time ) , we mimic the proof of lemma  [ lem : expansion](iii ) .",
    "we perform bfs from some other vertex in some @xmath252 in @xmath108 , updating the set @xmath121 every time a vertex is processed . as shown in figure  [ picturef2 ] , the vertex that was processed before , together with all its neighbours , will be added to @xmath121 , and the next vertex in the queue to be processed will be taken out of @xmath121 .",
    "once we are done , we take the next vertex in some @xmath252 and continue in this way until all neighbourhoods under consideration are discovered . arguing as in the proof of lemma  [ lem : expansion](iii ) , by lemma  [ lem : expansion](i ) together with a union bound over all vertices processed , we obtain the desired bounds for the sizes of neighbourhoods . moreover , by lemma  [ lem : expansion](ii ) together with a union bound over all vertices that are discovered during this step ( at most @xmath350 vertices ) , we get that a.a.s .  at the time when a given vertex was processed",
    "there was no edge to already discovered vertices ( neither within the same tree where we started bfs from , nor to other trees , nor to the initial set @xmath121 ) .",
    "this deals with properties * ( o ) * and * ( p)*. finally , it follows that a.a.s . @xmath351 where the last equality follows from the fact that @xmath352 . thus , @xmath353 the probabilities for properties * ( q ) * , * ( r ) * and * ( s ) * to hold are calculated in exactly the same way as for properties * ( n ) * , * ( o ) * and * ( p ) * , and hence @xmath354    finally , for @xmath355 , when exposing @xmath109 , property * ( t ) * is investigated as before .",
    "also , by analogous calculations as for @xmath356 , the probability of having no edge to @xmath152 ( property * ( u ) * ) and the one of being a tree ( property * ( v ) * ) , altogether yield @xmath357 ; note that the exponent of @xmath358 comes from the fact that @xmath283 is a tree ( giving one @xmath359 ) , that there is no edge to @xmath237 ( giving @xmath174 additional factors of @xmath359 ) , and no edge to @xmath135 ( giving another @xmath174 additional factors of @xmath359 ) .",
    "property * ( w ) * clearly also holds with probability @xmath360 .",
    "similarly , when exposing @xmath248 , we also have to consider the condition of having no edge to @xmath361 ( property * ( x ) * ) , giving us another factor of @xmath362 , and thus yielding a probability of @xmath363 .",
    "thus , @xmath364    combining the events @xmath365 , we obtain @xmath366 yielding the first part of the lemma . observing",
    "that @xmath99 is such that @xmath367 , and therefore @xmath368 , and also using  , we obtain @xmath369}&= & \\binom{n}{4}\\left(\\frac{d^{i/2}}{2n}\\right)^4q^{16 } ( 1+o(1 ) ) \\\\ & = & \\frac{d^{2i}}{384}q^{16}(1+o(1 ) ) \\\\ & > & \\frac{(\\frac{1}{16}n\\log n)^2}{384d^2}q^{16}(1+o(1 ) ) \\\\ & = & \\omega(n^{3/2}(\\log n / d)^2 ) \\\\ & = & \\omega(n^{5/6}(\\log n)^{4/3}),\\end{aligned}\\ ] ] which finishes the proof of the lemma .",
    "we now move to the second moment method .",
    "[ lem : secondmoment ] @xmath370}=(1+o(1))({\\mathbb{e}\\left[x \\right]})^2 $ ] .    in order to analyze the expected value of @xmath371 we will consider @xmath372 different cases .",
    "note that @xmath373 } =   \\sum_{u , v , x , y } \\sum_{u',v',x',y ' } { \\mathbb{p}}{(x_{u , v , x , y}=1 \\wedge x_{u',v',x',y'}=1)},\\ ] ] where both sums range over all @xmath11-tuples of different vertices . for a fixed @xmath11-tuple of vertices @xmath64",
    ", it follows from the first part of lemma  [ lem : firstmoment ] that @xmath374 conditioning on @xmath375 , our goal is to investigate @xmath376 .",
    "note that the lower bound for @xmath370}$ ] trivially holds and so we aim for an upper bound .",
    "therefore , we focus on properties that hold with probability @xmath377 in the unconditional case ( such as property * ( b ) * that holds with probability asymptotic to @xmath359 ) .",
    "we ignore properties that hold with probability @xmath360 in the unconditional case ( such as property * ( a ) * ) although it might happen that the probability that they hold in the conditional space is smaller ( which clearly helps ) .",
    "assume that @xmath375 , and let @xmath378 be the set of vertices exposed to certify this , that is , @xmath379 since @xmath375 , @xmath380 . for @xmath381 ,",
    "we always denote by @xmath382 the vertex in hyperbolicity@xmath383 corresponding to vertex @xmath327 in hyperbolicity@xmath384 .    before we move to investigating cases ,",
    "let us note that we may assume the following useful properties that will hold for all @xmath11-tuples of vertices @xmath64 with corresponding set @xmath378 a.a.s .",
    "* claim 1 * : for a vertex @xmath385 , the number of edges between @xmath386 and @xmath378 is @xmath387 .",
    "indeed , we may assume that @xmath388 and so the expected number of edges between @xmath386 and @xmath378 is @xmath389 .",
    "it follows from chernoff s bound that there exists some constant @xmath390 such that the probability to have at least @xmath391 edges of this type is @xmath392 .",
    "the contribution of all such four - tuples @xmath393 to @xmath371 is @xmath377 and so can be safely ignored .",
    "* claim 2 * : for a vertex @xmath385 , @xmath394 .    indeed , suppose that there is an edge from @xmath386 to @xmath378 .",
    "in fact , since @xmath378 is exposed during the bfs process , this edge has to be adjacent to a leaf @xmath395 of the graph induced by @xmath378 .",
    "we need to estimate the size of @xmath396 , since vertices in @xmath397 due to the existence of this edge form a subset of @xmath396 . from the fact that @xmath378 induces an almost regular tree",
    ", it follows that @xmath398 .",
    "the claim follows from the same chernoff bound as in claim  1 .",
    "now , we are ready for a case analysis .",
    "* case 1 : * @xmath399    it follows from claim 2 above that the part of the graph that needs to be exposed in order to check whether @xmath400 intersects with @xmath378 only in a negligible way .",
    "it is straightforward to show that properties * ( b ) * , * ( e ) * , * ( f ) * , * ( u ) * , * ( v ) * and * ( x ) * , as well as properties * ( j ) * , * ( k ) * , * ( l ) * and * ( m ) * are up to a @xmath360 factor independent of conditioning on @xmath375 , and their calculations are as in lemma  [ lem : firstmoment ] .",
    "we obtain @xmath401 clearly , the number of choices of four - tuples @xmath64 and @xmath393 is at most the square of the number of choices for @xmath64 , so the contribution of this case is at most @xmath402}$ ] .",
    "( we will show that the contribution of all other cases is @xmath403})$ ] and so the contribution of this case is indeed @xmath402}$ ] . )    * case 2 : * @xmath404 and @xmath405    since @xmath406 , edges emanating from @xmath407 and @xmath408 are not exposed yet .",
    "hence , the probabilities that properties * ( j ) * , * ( k ) * , * ( l ) * and * ( m ) * hold are as in the unconditional case . ignoring all other properties we get @xmath409 on the other hand , since at least one of @xmath410 is in @xmath378 , only a @xmath411 fraction of four - tuples",
    "is considered here .",
    "hence , the contribution of this case to @xmath371 is negligible .",
    "from now on we may assume that at least one of @xmath412 has to be in @xmath378 .",
    "* case 3 : * @xmath413 , and @xmath414 .    by symmetry",
    ", we may assume that @xmath415 and @xmath416 .",
    "since @xmath416 , arguing as in the previous case , we get that properties * ( l ) * and * ( m ) * hold with probability up to a @xmath360 factor as in the unconditional case . however , it might happen that , say , @xmath417 and property * ( j ) * holds `` for free '' .",
    "intuitively , for this to happen , an edge joining @xmath418 and @xmath378 must occur at the right place , which happens with small probability .",
    "moreover , only a small fraction of four - tuples satisfies @xmath415 .",
    "more precisely , for property * ( j ) * to hold `` for free '' , we must have that @xmath419 , and so there must be an edge between @xmath420 and @xmath421 for some @xmath422 . by the union bound , this happens with probability @xmath423 since @xmath424 .",
    "( in fact , with a slightly more delicate argument one can remove the @xmath425 factor but this is not needed . )",
    "the same argument applies to property * ( k)*. ( recall , that we may assume that @xmath426 and @xmath427 are disjoint . ) hence , by considering only these four properties we get that @xmath428 on the other hand , since @xmath415 , only a @xmath429 fraction of four - tuples is considered here .",
    "hence , the contribution of this case to @xmath371 is negligible .",
    "* case 4 : * @xmath413 , and @xmath430 .",
    "note that if @xmath400 then , in particular , @xmath431 and so the distance between @xmath407 and @xmath408 in the graph induced by @xmath378 is at least @xmath99 .",
    "it follows that , for example , an edge between @xmath432 and @xmath433 ( for some @xmath422 ) can not make both property * ( j ) * and property * ( l ) * to hold , since that would imply that @xmath434 .",
    "hence the calculations dealing with @xmath408 ( related to properties * ( l ) * and * ( m ) * ) are independent of the calculations dealing with @xmath407 ( related to properties * ( j ) * and * ( k ) * ) .",
    "arguing as in the previous case , we get that @xmath435 finally , note that only a @xmath436 fraction of four - tuples is considered here , making the contribution of this case negligible .    from now on we may assume that at least one of @xmath410 has to be in @xmath378 ( and still at least one of @xmath412 ) .",
    "* case 5 : * @xmath437 , and @xmath414 .    by symmetry ,",
    "suppose that @xmath438 , @xmath439 , @xmath415 , @xmath416 .",
    "since @xmath416 , as before , we get that properties * ( l ) * and * ( m ) * hold with probability up to a @xmath360 factor as in the unconditional case . now , since @xmath439 , by the same calculations as in case 3 , the probability that property * ( k ) * holds is at most @xmath440 .",
    "property * ( j ) * , however , might hold deterministically now , so we lose an additional factor of @xmath441 . by considering only properties * ( k ) * , * ( l ) * and * ( m ) * , we get that @xmath442 on the other hand , since @xmath443 , only a @xmath444 fraction of four - tuples is considered here , and so the contribution of this case to @xmath371 is negligible .",
    "* case 6 : * @xmath437 , and @xmath430 .    by symmetry ,",
    "suppose that @xmath438 and @xmath439 . by the same argument as in case 4 ,",
    "the calculations involving properties related to @xmath407 are independent of those related to @xmath408 .",
    "since @xmath439 , by the same calculations as in case 3 , the probability that properties * ( k ) * and * ( m ) * both hold is at most @xmath445 .",
    "this time , properties * ( j ) * and * ( l ) * might hold deterministically , so we lose an additional factor of @xmath446 by considering only properties * ( k ) * and * ( m ) * we get that @xmath447 on the other hand , since @xmath448 , only a @xmath449 fraction of four - tuples is considered here , and the contribution of this case to @xmath371 is negligible .    * case 7 : * @xmath450 , and @xmath414 .    by symmetry , suppose that @xmath415 and @xmath416 .",
    "since @xmath416 , as before , we get that properties * ( l ) * and * ( m ) * hold with probability up to a @xmath360 factor as in the unconditional case . by considering only these two properties we get that @xmath451 on the other hand , since @xmath452 ,",
    "only a @xmath453 fraction of four - tuples is considered here , and the contribution of this case to @xmath371 is negligible .    *",
    "case 8 : * @xmath450 , and @xmath430 .",
    "first , let us observe that in order to have @xmath454 the vertices @xmath393 have to lie on an induced cycle of length @xmath455 ( of course , this is a necessary condition only ) .",
    "moreover , note that there is only one such cycle in the graph induced by @xmath378 ( namely , the one going through @xmath64 ) .",
    "hence , in order for this necessary condition to hold `` for free , '' all four vertices of @xmath393 have to be on this cycle .",
    "thus , there are only @xmath456})$ ] such @xmath11-tuples of vertices , and this contribution is negligible .",
    "otherwise , we observe that at least one edge of the cycle @xmath393 is not yet present in the graph induced by @xmath378 , say an edge on the path between @xmath457 and @xmath407 .",
    "for this to happen , there must be an edge between @xmath458 and @xmath459 for some @xmath460 that is not yet exposed . by the same calculations as in case 3",
    ", this happens with probability at most @xmath461 thus , @xmath462 on the other hand , since @xmath463 , only a @xmath464 fraction of four - tuples is considered here , and the contribution of this case to @xmath371 is negligible .    using lemma  [",
    "lem : firstmoment ] and lemma  [ lem : secondmoment ] , theorem  [ thm : main2 ] follows now easily by chebyshev s inequality .",
    "we have shown that in @xmath14 , for @xmath465 the hyperbolicity is ( up to a possible difference of @xmath466 ) a monotone decreasing graph parameter . in general , since trees as well as cliques have hyperbolicity @xmath9 , the hyperbolicity is not monotone , but we conjecture that in @xmath14 with @xmath16 above the threshold of connectivity , the same behavior holds . intuitively , if @xmath16 is close to the threshold of connectivity , then @xmath14 a.a.s .",
    "contains a lot of long cycles , and there will not be many shortcuts , making the hyperbolicity of the graph large . after extending the definition of hyperbolicity to non - connected graphs by defining it as the maximum over all connected components ,",
    "the situation is quite different . for @xmath467 for some @xmath468 ,",
    "the hyperbolicity is @xmath9 a.a.s . , but for @xmath469 for some @xmath470 , the appearance of the giant component makes the hyperbolicity to tend to infinity a.a.s .",
    "( see also  @xcite )",
    ". it would be interesting to investigate for which values of @xmath16 the hyperbolicity of @xmath14 is maximized , and what this value is .",
    "we also would like to know whether the hyperbolicity is monotone increasing up to its maximal value and then decreasing , or whether there are several `` peaks . ''",
    "the first author would like to thank david coudert and guillaume ducoffe for helpful discussions .",
    "j.  alonso , t.  brady , d.  cooper , t.  delzant , v.  ferlini , m.  lustig , m.  mihalik , m.  shapiro , g.  short . notes on word hyperbolic groups , in : e.  ghys , a.  haefliger , a.  verjovsky ( eds . ) , group theory from a geometrical viewpoint , world scientific , singapore , 1992 .",
    "i.  benjamini , c.  hoppen , e.  ofek , p.  praat , n.  wormald .",
    "geodesics and almost geodesic cycles in random regular graphs , journal of graph theory 66 ( 2011 ) , 115136 .",
    "i.  benjamini , o.  schramm .",
    "finite transitive graph embeddings into a hyperbolic metric space must stretch or squeeze , geometric aspects of functional analysis , 123 - 136 , lecture notes in math .",
    ", 2050 , springer , heidelberg , 2012 .",
    "v.  chepoi , f.  dragan , b.  estellon , m.  habib , y.  vaxes .",
    "diameters , centers , and approximating trees of delta - hyperbolic geodesic spaces and graphs , symposium on computational geometry , socg2008 , 5968 .",
    "n.  cohen , d.  coudert , a.  lancin .",
    "exact and approximate algorithms for computing the hyperbolicity of large - scale graphs .",
    "preprint available at http://hal.inria.fr/hal-00735481 . also in : algorithme exact et approch pour le calcul de lhyperbolicit dun graphe , 15mes rencontres francophones sur les aspects algorithmiques des tlcommunications ( algotel ) , pornic , 2013 .",
    "o.  narayan , i.  saniee , g.  tucci .",
    "lack of spectral gap and hyperbolicity in asymptotic erds - rnyi random graphs . in proceedings of the 5th international symposium on communications control and signal processing ( isccsp ) , 14 , 2012 ."
  ],
  "abstract_text": [
    "<S> let @xmath0 be a connected graph with the usual ( graph ) distance metric @xmath1 </S>",
    "<S> . introduced by gromov , @xmath2 is @xmath3-hyperbolic if for every four vertices @xmath4 , the two largest values of the three sums @xmath5 differ by at most @xmath6 . in this paper , we determine precisely the value of this hyperbolicity for most binomial random graphs .    </S>",
    "<S> [ section ] [ theorem]lemma [ theorem]definition [ theorem]conjecture [ theorem]proposition [ theorem]algorithm [ theorem]corollary [ theorem]observation [ theorem]claim [ theorem]open problem [ theorem]remark </S>"
  ]
}