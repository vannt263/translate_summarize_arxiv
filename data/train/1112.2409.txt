{
  "article_text": [
    "recent advances in low - power electronics and energy - harvesting ( eh ) technologies enable the design of self - sustained devices that collect part , or all , of the needed energy from the surrounding environment",
    ". several systems can take advantage of eh technologies , ranging from portable devices to wireless sensor networks ( wsns ) @xcite",
    ". however , eh devices open new design issues that are different from conventional battery - powered ( bp ) systems @xcite , where the main concern is the network lifetime @xcite .",
    "in fact , eh potentially allows for perpetual operation of the network , but it might not guarantee short - term activities due to temporary energy shortages @xcite .",
    "this calls for the development of energy management techniques tailored to the eh dynamics .",
    "while such techniques have been mostly studied at a single - device level @xcite , in wireless scenarios where multiple eh devices interact with each other , the design of eh - aware solutions needs to account for a system - level approach @xcite@xcite .",
    "this is the motivation of this work .    in this paper",
    ", we focus on system - level design considerations for wsns operated by eh - capable devices .",
    "in particular , we address the analysis and design of medium access control ( mac ) protocols for single - hop wsns ( see fig .",
    "[ fig : system_model ] ) where a _ fusion center _ ( fc ) collects data from sensors in its surrounding .",
    "specifically , we investigate how performance and design of mac protocols routinely used in wsns , such as tdma @xcite , framed - aloha ( fa ) and dynamic - fa ( dfa ) @xcite , are influenced by the discontinuous energy availability in eh - powered devices .",
    "sensors , which are equipped with an energy storage device ( esd ) and an energy - harvesting unit ( ehu).,width=377 ]      in recent years , wsns with eh - capable nodes have been attracting a lot of attention , also at commercial level . to provide some examples , the enocean alliance proposes to use a mac protocol for eh devices based on pure aloha strategies @xcite , while an enhanced self - powered rfid tag created by intel , referred to as wisp @xcite , has been conceived to work with the epc gen 2 standard @xcite that adopts a fa - like mac protocol .    however , while performance analysis of mac protocols in bp - wsns have been investigated in depth ( see e.g. , @xcite@xcite@xcite ) , analyses of mac protocols with eh are hardly available .",
    "a notable exception is @xcite , where data queue stability has been studied for tdma and carrier sense multiple access ( csma ) protocols in eh networks .",
    "we remark that routing for eh networks has instead received more attention , see e.g. , @xcite@xcite .",
    "in this paper we consider the design and analysis of tdma , fa and dfa mac protocols in the light of the novel challenges introduced by eh . in sec .",
    "[ sec : mac_protocols ] we propose to measure the system performance in terms of the trade - off between the _ delivery probability _ , which accounts for the number of sensors measurements successfully reported to the fc , and the _ time efficiency _ , which measures the rate of data collection at the fc ( formal definitions are in sec .",
    "[ sec : mac_protocols ] ) .",
    "we then introduce an analytical framework in sec .",
    "[ sec : analysis_performance_metrics ] and sec .",
    "[ sec : esdenergyevolution ] to assess the performance of eh - wsns in terms of the mentioned trade - off for tdma , fa and dfa mac protocols . in sec .",
    "[ sec : backlogestimation ] we tackle the critical issue in aloha - based mac protocols of estimating the number of eh sensors involved in transmission , referred to as _ backlog _ , by proposing a practical reduced - complexity algorithm . finally , we present extensive numerical simulations in sec .",
    "[ sec : numerical_results ] to get insights into the mac protocol design trade - offs , and to validate the analytical derivations .",
    "in this paper , we consider a single - hop wsn with a fc surrounded by @xmath0 wireless sensors labeled as @xmath1 ( see fig . [",
    "fig : system_model ] ) . each sensor ( or _",
    "user _ ) is equipped with an eh unit ( ehu ) and an energy storage device ( esd ) , where the latter is used to store the energy harvested by the ehu .",
    "the fc retrieves measurements from sensors via periodic _ inventory rounds _ ( irs ) , once every @xmath2 seconds @xmath3 $ ] .",
    "each ir is started by the fc by transmitting an initial _ query command _ ( q ) , which provides both synchronization and instructions to sensors on how to access the channel .",
    "time is slotted , with each _ slot _ lasting @xmath4 @xmath5 $ ] .",
    "the effective duration of the @xmath6th ir , during which communication between the fc and the sensors takes place , is denoted by @xmath7 .",
    "we assume that @xmath8 for all ir @xmath6 , and also that the query duration is negligible , so that the ratio @xmath9 indicates the total number of slots allocated by the fc during the @xmath6th ir .    in every ir",
    ", each sensor has a new measure to transmit with probability @xmath10 , independently of other sensors and previous irs .",
    "if a new measure is available , the sensor will mandatory attempt to report it successfully to the fc as long as enough energy is stored in its esd ( see sec .",
    "[ sec : energy_model ] for details ) .",
    "each measure is the payload of a packet , whose transmission fits within the slot duration @xmath4 .",
    "sensors transmissions within each ir are organized into _ frames _ , each of which is composed of a number of slots that is selected by the fc .",
    "depending on the adopted mac protocol , any user that needs to ( and can ) transmit in a frame either chooses or is assigned a single slot within the frame for transmission as it will be detailed below .",
    "moreover , after a user has successfully transmitted its packet to the fc , it first receives an acknowledge ( ack ) of negligible duration by the fc and then it becomes inactive for the remaining of the ir .",
    "we emphasize that the fc knows neither the number of sensors with a new measure to transmit , nor the state of sensors esds .",
    "we consider _ interference - limited _ communication scenarios where the _ downlink _ packets transmitted by the fc are always correctly received ( error - free ) by the sensors , while _ uplink _ packets transmitted by the sensors to the fc are subject to communication errors due to possible interference arising from collisions with other transmitting sensors .",
    "the uplink channel power gain for the @xmath11th sensor during the @xmath6th ir is @xmath12 .",
    "channel gain @xmath12 is assumed to be constant over the entire ir but subject to random independent and identically distributed ( i.i.d . ) fading across irs and sensors , with pdf @xmath13 and normalized such that @xmath14=1 $ ] , for all @xmath15 . in the presence of simultaneous transmissions within the same slot during the @xmath16th frame of the @xmath6th ir ,",
    "a sensor , say @xmath17 , is correctly received by the fc if and only if its instantaneous signal - to - interference ratio ( sir ) @xmath18 is larger than a given threshold @xmath19 , i.e. , if @xmath20 where @xmath21 denotes the set of sensors that transmit in the same slot selected by @xmath17 in frame @xmath16 and ir @xmath6 .",
    "we assume @xmath22 so that , in case a slot is selected by more than one sensor , at most one of the colliding sensor can be successfully decoded in the slot .",
    "according to the interference model ( [ eqn : istantaneous_sir ] ) , any slot can be : _ empty _ when it is not selected by any sensor ; _ collided _ when it is chosen by more than one sensors but none of them transmits successfully ; _ successful _ when one sensor transmits successfully possibly in the presence of other ( interfering ) users .",
    "successful transmission in the presence of interfering users within the same slot is often referred to as _ capture effect _ @xcite .",
    "* remark 1 * : errors in the decoding of downlink query packets can be accounted for through the parameter @xmath10 as well .",
    "in fact , let @xmath23 be the probability that a user correctly decodes the downlink packet sent by the fc at the beginning of an ir .",
    "moreover , assume that downlink decoding errors are i.i.d . across sensors and irs , and let @xmath24 be the probability that a user has a new measure to transmit in any ir .",
    "then , the probability that any user @xmath17 has a new measure and correctly decodes the fc s query is given by the product @xmath25 .",
    "we consider a discrete esd with @xmath26 energy levels in the set @xmath27 , where @xmath28 is referred to as _",
    "energy unit_. let @xmath29 be the energy stored in the esd of the @xmath11th user at the beginning of the @xmath6th ir .",
    "energy @xmath30 is a random variable that is the result of the eh process and the energy consumption of the sensor across irs ; its probability mass function ( pmf ) is @xmath31 and the corresponding complementary cumulative distribution function ( ccdf ) is @xmath32 $ ] . note that , the initial energy distribution @xmath33 is given , while the evolution of the pmf @xmath31 for @xmath34 depends on both the mac protocol and eh process .",
    "we assume that each time a sensor transmits a packet it consumes an energy @xmath35 , which accounts for the energy consumed in the : _ a _ ) reception of the fc s query that starts the frame ( see fig .",
    "[ fig : protocol_description ] ) ; _ b _ ) transmission ; _ c _ ) reception of fc s ack or not ack ( nack ) packet . at the beginning of each ir ,",
    "a sensor with a new measure to transmit can participate to the current ir only if the energy stored in its esd is at least @xmath35 .",
    "let @xmath36 be the number of energy units @xmath28 required for transmission , where @xmath37 is assumed to be an integer value without loss of generality .",
    "let @xmath38 be the ( normalized ) _",
    "capacity _ of the esd , which is assumed to be an integer indicating the maximum number of ( re)transmissions allowed by a fully charged esd .    .",
    "fa is not depicted since it is a special case of dfa with only one frame .",
    "the backlog for each frame is indicated above each query .",
    "some sensors might not be in the backlog due to energy shortage and/or absence of a new measure to report.,width=377 ]      during the time @xmath2 between the @xmath6th and @xmath39th irs the @xmath11th sensor @xmath17 harvests an energy @xmath40 , which is modeled as a discrete random variable , i.i.d . over irs and sensors , with pmf @xmath41 $ ] , with @xmath42 , and for all @xmath11 and @xmath6 .",
    "for technical reasons that we discuss in sec .",
    "[ sec : dmcmodel ] , we assume that the probability @xmath43 and @xmath44 of harvesting zero and one energy unit respectively , are both strictly positive , namely @xmath45 and @xmath46 .",
    "we assume that the eh dynamics is much slower than the ir duration @xmath7 , so that the amount of energy harvested within @xmath7 can be considered as negligible with respect to @xmath35 ( recall also that @xmath8 ) .",
    "hence , the only energy that a sensor can actually use throughout an ir is the energy initially available at the beginning of the ir itself ( i.e. , @xmath30 ) .",
    "we first introduce in sec . [",
    "sec : macperformancemetrics ] the considered performance metrics , namely delivery probability and time efficiency , and then in sec .",
    "[ sec : mac_protocols_description ] we review the considered mac protocols .        the delivery probability @xmath47 measures the capability of the mac protocol to successfully deliver the measure of any sensor , say @xmath17 , to the fc during the @xmath6th ir @xmath48.\\label{eqn : deliveryprobability}\\ ] ] the statistical equivalence of all sensors makes the probability ( [ eqn : deliveryprobability ] ) independent of the specific sensor . notice that a sensor fails to report its measure during an ir",
    "if either it has an energy shortage before ( re)transmitting the packet correctly , or the mac protocol does not provide the sensor with sufficient retransmission opportunities . given the potentially perpetual operation enabled by eh , it is relevant to evaluate the delivery probability when the system is in _ steady - state_. the _ asymptotic delivery probability _ is thus obtained by taking the limit of @xmath47 for large ir index @xmath6 , provided that it exists , as @xmath49      the time efficiency @xmath50 measures the probability that any slot allocated  by the mac within the @xmath6th ir is successfully used ( i.e. , it is neither empty nor collided , see sec .",
    "[ sec : interference_model ] ) @xmath51.\\label{eqn : time_efficiency}\\ ] ] by taking the limit of ( [ eqn : time_efficiency ] ) for @xmath52 , we obtain the _",
    "asymptotic time efficiency _",
    "@xmath53    * remark 2 : * informally speaking , the time efficiency @xmath50 measures the ratio between the total number of packets successfully received by the fc and the total number of slots allocated by the mac protocol ( i.e. , @xmath9 , see sec . [",
    "sec : systemmodel ] ) . as it will be shown in sec .",
    "[ sec : mac_protocols_description ] , the ir duration @xmath7 is in general a random variable , and consequently , time efficiency @xmath50 differs from more conventional definitions of throughput ( see e.g. , @xcite ) which measure the number of packets delivered over the interval between two successive irs @xmath2 , instead of @xmath7 .",
    "the rationale for this definition of time efficiency is that it actually captures more effectively the rate of data collection at the fc . whereas , the delivery probability accounts for the fraction of users , with a new measure to transmit at the beginning of the current ir , which are able to successfully report their payload to the fc within the ir , where delivery failures are due to collisions and energy shortages .    in contention based macs ( e.g. , aloha ) , there is a trade - off between delivery probability and time efficiency .",
    "in fact , increasing the former generally requires the fc to allocate a larger number of slots in an ir to reduce packet collisions , which in turn decreases the time efficiency .      in this section",
    ", we review the standard mac protocols that we focus on .      with the tdma protocol",
    ", each user is pre - assigned an exclusive slot that it can use in every ir , irrespective of whether it has a measure to deliver or enough energy to transmit .",
    "recall that such information is indeed not available at the fc .",
    "every @xmath6th ir is thus composed by one frame with @xmath0 slots and has fixed duration @xmath54 , as shown in fig . [ fig : protocol_description ] .",
    "since tdma is free of communication errors in the considered interference - limited scenario , its delivery probability @xmath55 is only limited by energy availability and it is thus an upper bound for aloha - based macs . however , tdma might not be time efficient due to the many empty slots when the probability of having a new measure @xmath10 and/or the eh rate are small .",
    "hereafter we describe the dfa protocol only , since fa follows as a special case of dfa with no retransmissions capabilities as discussed below .",
    "the @xmath6th ir , of duration @xmath56 , is organized into a set of frames as shown in fig .",
    "[ fig : protocol_description ] . the _ backlog _ @xmath57 for the @xmath16th frame is the set composed of all sensors that simultaneously satisfy the following three conditions : _ i _ ) have a new measure to transmit in the @xmath6th ir ; _ ii _ ) have transmitted unsuccessfully ( because of collisions ) in the previous @xmath58 frames ( this condition does not apply for frame @xmath59 ) ; _ iii _ ) have enough energy left in the esd to transmit in the @xmath16th frame .",
    "all the users in the set @xmath57 , whose cardinality @xmath60 _ _ is referred to as _ _ _ backlog size _ , thus attempt transmission during frame @xmath16 . to make this possible , the fc allocates a frame of @xmath61 slots , where @xmath61 is selected based on the estimate @xmath62 of the backlog size @xmath63 ( estimation of @xmath63 is discussed in sec .",
    "[ sec : backlogestimation ] ) as @xmath64 where @xmath65 is the upper nearest integer operator , and @xmath66 is a design parameter .",
    "note that , if the backlog size is @xmath67 , the probability @xmath68 that @xmath69 sensors transmit in the same slot in a frame of length @xmath70 is binomial @xcite @xmath71 finally , fa is a special case of dfa where only one single frame of size @xmath72 is announced as retransmissions are not allowed within the same ir .",
    "in this section we derive the performance metrics defined in sec . [",
    "sec : macperformancemetrics ] for tdma , fa and dfa .",
    "the analysis is based on two simplifying assumptions :    * _ known backlog _ :",
    "the fc knows the backlog size @xmath73 before each @xmath16th frame ; * _ large backlog _ : the backlog size @xmath63 , in any ir @xmath6 and any frame @xmath16 of size @xmath74 , is large enough to let the probability ( [ eqn : slot_occupation_probabilities2_binomial ] ) be approximated by the poisson distribution @xcite :    @xmath75    assumption @xmath76 simplifies the analysis as in reality the backlog can only be estimated by the fc ( see sec .",
    "[ sec : backlogestimation ] and sec .",
    "[ sec : numerical_results ] for the impact of backlog estimation ) .",
    "assumption @xmath77 is standard and analytically convenient , as it makes the probability @xmath78 dependent only on the ratio @xmath66 between the frame length @xmath61 and the backlog size @xmath63 .",
    "the assumptions above are validated numerically in sec .",
    "[ sec : numerical_results ] .",
    "here we derive the delivery probability ( [ eqn : deliveryprobability ] ) within any @xmath6th ir under the assumptions @xmath76 and @xmath77 for the considered mac protocols .",
    "the ir index @xmath6 is dropped to simplify the notation .      as the tdma protocol is free of collisions , each sensor",
    "@xmath17 that has a new measure to report in the current ir can not deliver its payload to the fc only when it is in energy shortage , namely if @xmath79 .",
    "provided that user @xmath17 has a new measure to transmit , the delivery probability ( [ eqn : deliveryprobability ] ) reduces to @xmath80=g_{e}^{td}\\left(\\varepsilon\\right),\\label{eqn : deliveryprobtdma}\\ ] ] which is independent of the sensor index @xmath11 and dependent only on the ccdf @xmath81 of the energy stored in sensor esd at the beginning of the considered ir .",
    "the esd energy distribution for any arbitrary @xmath6th ir is derived in sec .",
    "[ sec : esdenergyevolution ] .      in the fa protocol ,",
    "each sensor @xmath17 that has a new measure to report in the current ir is able to correctly deliver its payload to the fc only if : a ) it transmits successfully in the selected slot , possibly in the presence of interfering users provided that its sir is @xmath82 ; and b ) it has enough energy to transmit . from ( [ eqn : istantaneous_sir ] ) , the probability that sensor @xmath17 , with @xmath83 , transmits successfully in the selected slot , given that @xmath84 users select the same slot of @xmath17 ( thus colliding ) , is given by @xmath85,\\label{eqn : p_c_j_fa}\\ ] ] where , without loss of generality , we assumed that @xmath86 , and @xmath87 , as users are stochastically equivalent . under the large backlog assumption @xmath77 ,",
    "the probability that there are @xmath88 interfering users is poisson - distributed ( see ( [ eqn : poisson_approximation ] ) ) , and thus the unconditional probability @xmath89 that @xmath17 captures the selected slot can be approximated as @xmath90 note that , in ( [ eqn : capture_prob_fa ] ) we also extended the number of possible interfering users up to infinity as @xmath91 rapidly vanishes for increasing @xmath88 . moreover , depending on the channel gain pdf @xmath13 , probabilities ( [ eqn : p_c_j_fa ] ) can be calculated either analytically ( e.g. , when @xmath13 is exponential , see @xcite ) or numerically .",
    "finally , under assumption @xmath77 , the successful transmission event is independent of the esd energy levels ( which in principle determine the actual backlog size in ( [ eqn : slot_occupation_probabilities2_binomial ] ) ) , and thus the delivery probability ( [ eqn : deliveryprobability ] ) for the fa protocol can be calculated as the product between the probability @xmath92 $ ] that sensor @xmath17 has enough energy to transmit and the ( approximated ) capture probability ( [ eqn : capture_prob_fa ] ) as @xmath93 where the esd energy ccdf @xmath94 for any arbitrary @xmath6th ir is derived in sec .",
    "[ sec : esdenergyevolution ] .",
    "dfa is composed of several instances of fa , one for each @xmath16th frame of the current ir . as dfa allows retransmissions , we need to calculate the probability @xmath95 that any sensor active during frame @xmath16 , say @xmath96 , transmits successfully in the selected slot given that there are @xmath97 users that transmit in the same slot , with @xmath98 .",
    "the computation of @xmath95 , for @xmath99 , is more involved than ( [ eqn : p_c_j_fa ] ) .",
    "in fact , packets collisions introduce correlation among the channel gains of collided users , as any sensor in the backlog @xmath100 , for @xmath99 , might have collided with some other sensors in the set @xmath100 .",
    "we recall that , even though the channel gains are i.i.d . at the beginning of the ir",
    ", they remain fixed for the entire ir .",
    "while the exact computation of probabilities @xmath95 is generally cumbersome , the large backlog assumption @xmath77 enables some simplifications .",
    "specifically , correlation among channel gains can be neglected , since for large backlogs it is unlikely that two users collide more than once within the same ir . by assuming independence among the channel gains at any frame , calculation of @xmath95",
    "requires only to evaluate the channel gain pdf @xmath101 at the @xmath16th frame for any user within @xmath100 , which is the same for all users by symmetry .",
    "the computation of pdf @xmath101 can be done recursively , starting from frame @xmath59 , so that at frame @xmath16 we condition on the event that the sir ( [ eqn : istantaneous_sir ] ) was @xmath102 . under assumption @xmath77 , this can be done numerically .",
    "now , let @xmath103 , for @xmath104 and @xmath105 , be random variables with pdf @xmath101 independent over @xmath11 , where @xmath106 .",
    "the conditional capture probabilities @xmath95 can then be approximated as ( compare to ( [ eqn : p_c_j_fa ] ) ) @xmath107,\\label{eqn : p_c_k_j_dfa}\\ ] ] for any @xmath108 as users are stochastically equivalent . by exploiting the poisson approximation similarly to ( [ eqn : capture_prob_fa ] ) , the unconditional probability that any user within the backlog successfully transmits in the selected slot during the @xmath16th frame",
    "becomes @xmath109    recalling that a user keeps retransmitting its message until it is successfully delivered to the fc , then the successful delivery of a message in a frame is a mutually exclusive event with respect to the delivery in previous frames .",
    "therefore , the probability of transmitting successfully in the @xmath16th frame , given that enough energy is available , is @xmath110 finally , by accounting for the probability @xmath111 $ ] of having enough energy in each @xmath16th frame , the dfa delivery probability can be obtained , under assumption @xmath77 , asnote that in principle the backlogs @xmath112 are correlated , and therefore the exact @xmath113 should be obtained by averaging over the joint distribution of the backlog sizes .",
    "however , the assumption @xmath77 removes the dependence on the backlog size . ]",
    "@xmath114 where the esd energy ccdf @xmath115 for any arbitrary @xmath6th ir is derived in sec .",
    "[ sec : esdenergyevolution ] .      in this section",
    "we derive the time efficiency ( [ eqn : time_efficiency ] ) for the three considered protocols .",
    "let @xmath116 be the event indicating that user @xmath17 has a new measure to report in the current ir , with @xmath117=\\alpha$ ] , then the tdma time efficiency ( [ eqn : time_efficiency ] ) is given by the probability that the @xmath11th user has enough energy to transmit and a new measure to report : @xmath118=\\pr\\left[e_{m}\\geq\\varepsilon\\right]\\pr\\left[\\mathcal{m}_{m}\\right]=\\alpha g_{e}^{td}\\left(\\varepsilon\\right),\\label{eqn : time_efficiency_tdma}\\ ] ] where we exploited independence between energy availability @xmath119 and @xmath116 .",
    "since we assumed @xmath22 , then when more than one user transmits within the same slot , only one of them can be decoded successfully , that is , successful transmissions of different users within the same slot are disjoint events .",
    "therefore , the probability that a slot , simultaneously selected by @xmath88 users , is successfully used by any of them is given by @xmath120 , where @xmath121 is ( [ eqn : p_c_j_fa ] ) by recalling that any user have @xmath122 interfering users .",
    "furthermore , under assumption @xmath77 , the probability that exactly @xmath88 users select the same slot is @xmath123 , and by summing up over the number of simultaneously transmitting users @xmath88 we get @xmath124 note that , a consequence of assumption @xmath77 is to make the fa time efficiency ( [ eqn : time_efficiency__fa ] ) independent of the esd energy distribution .",
    "moreover we remark that , when @xmath125 , @xmath126 for @xmath127 and @xmath128 for @xmath129 , then we have @xmath130 , which is the throughput of slotted aloha @xcite .",
    "the derivation of the dfa time efficiency @xmath131 follows from the fa time efficiency by accounting for the presence of multiple frames within an ir similarly to sec .",
    "[ sec : probdeliverydfa ] .",
    "since the time efficiency is defined over multiple frames , we first derive the time efficiency in the @xmath16th frame , similarly to ( [ eqn : time_efficiency__fa ] ) but considering ( [ eqn : p_c_k_j_dfa ] ) instead of ( [ eqn : p_c_j_fa ] ) , as @xmath132",
    "we then calculate @xmath131 by summing ( [ eqn : time_efficiency_dfa_conditional ] ) up , for all @xmath105 , weighted by the ( random ) length of the corresponding frame @xmath133 normalized to the total number of slots in the ir @xmath134 .",
    "note that , under assumption @xmath77 the random frame length @xmath133 is well - represented by its ( deterministic ) average value @xmath135=\\rho e\\left[b_{k}\\right]$ ] and thus the dfa time efficiency results @xmath136}{\\sum_{k=1}^{f_{\\varepsilon}}e\\left[b_{k}\\right]},\\label{eqn : time_efficiency_dfa}\\ ] ] where the average backlog size @xmath137 $ ] in frame @xmath16 , can be computed , under assumption @xmath77 , as @xmath137=m\\alpha g_{e}^{dfa}(k\\varepsilon)\\prod_{i=1}^{k-1}\\left(1-p_{c , i}\\right)$ ] .",
    "in fact , @xmath138 indicates the average number of users that have a new measure to report in the current ir , @xmath139 is the probability that @xmath140 energy units are stored in the esd at the beginning of the ir , thus allowing @xmath16 successful transmissions , and @xmath141 is the probability that a sensor collides in all of the first @xmath142 frames .",
    "in sec . [ sec : analysis_performance_metrics ] we have shown that the performance metrics for the @xmath6th ir depend on the energy distribution in the sensor esd at the beginning of the ir itself .",
    "the goal of this section is to derive the ccdf @xmath143 , for any ir @xmath6 , in order to obtain the asymptotic performance metrics ( [ eqn : asymptotic_delivery_probability ] ) and ( [ eqn : asymptotic_time_efficiency ] ) from sec .",
    "[ sec : delivery_probabilities ] and sec .",
    "[ sec : time_efficiency ] respectively .    in general ,",
    "the evolution of sensor esds across irs in dfa are correlated with each other , due to the possibility of retransmitting after collisions . however , under the large backlog assumption @xmath77 , similarly to the discussion in sec .",
    "[ sec : probdeliverydfa ] , the evolution of sensor esds become decoupled and can thus be studied separately .",
    "accordingly , we develop a stochastic model , based on a discrete markov chain ( dmc ) that focuses on a single sensor esd as shown in fig .",
    "[ fig : dmc_model ] .",
    "in addition , we concentrate on the dfa protocol as esd evolutions for tdma and fa follow as special cases .",
    "note that , in tdma ( or fa ) , the evolution of sensor esds are actually independent with each other as retransmissions are not required ( or allowed ) .    .",
    "in b.1 ) and b.2 ) there are two outcomes of possible state transition chains for @xmath144 .",
    "grey shaded states indicate energy shortage condition .",
    "some transitions are not depicted to simplify representation .",
    "( @xmath145 and @xmath146).,width=377 ]      the state of a sensor is uniquely characterized by : _ i _ ) sensor activity or idleness ( see below ) ; _ ii _ ) the amount of energy stored in its esd ; _ iii _ ) the current frame index if the sensor is active .",
    "a sensor is _ active _ if it has a new measure still to be delivered to the fc in the current ir and enough energy in its esd , while it is _ idle _ otherwise .",
    "states in which the sensor is active , referred to as _ active states _ , are denoted by @xmath147 and they are characterized by : _ a _ ) the current frame index @xmath105 ; and _ b _ ) the number @xmath148 of energy units @xmath149 stored in the sensor esd .",
    "states in which the sensor is idle , referred to as _ idle states _ , are instead denoted by @xmath150 and they are uniquely characterized by the number @xmath148 of energy units stored in the sensor esd . eh is then associated to idle states given the assumption that any energy arrival in the current ir can only be used in the next ir ( see sec . [ sec : energy_harvesting_model ] ) .",
    "operations of a sensor across irs are as follows . when sensor @xmath17 is not involved in an ir , it is in an idle state , say @xmath150 , waiting for the next ir .",
    "when a new ir begins , the energy harvested in the last interval @xmath2 is added , so that , if the esd is not in energy shortage , the state makes a transition @xmath150 @xmath151 toward an active state , with @xmath152 .",
    "otherwise , if it is in energy shortage , it makes a transition @xmath153 toward another idle state , with @xmath154 .",
    "if sensor @xmath17 is not in energy shortage , it remains in state @xmath155 at the beginning of the ir only if it has a new measure to transmit , which happens with probability @xmath10 .",
    "instead , with probability @xmath145 the state makes a transition toward an idle state as @xmath156 .",
    "if there is a new measure , the sensor keeps transmitting it in successive frames until either the packet is correctly delivered to the fc , or its esd falls in energy shortage , or both .",
    "a collision in frame @xmath16 happens with probability @xmath146 ( see sec . [",
    "sec : probdeliverydfa ] ) and leads to a transition either @xmath157 , for @xmath158 ( no shortage after collision ) or @xmath159 , for @xmath160 ( shortage after collision ) .",
    "successful transmissions in frame @xmath16 , which happens with probability @xmath161 , instead leads to a transition @xmath159 .",
    "transition probabilities are summarized in fig .",
    "[ fig : transition_table ] , where we have defined @xmath162=1-\\sum_{i=0}^{n - j-1}q_{i}$ ] . note that , the probability @xmath10 of having a new measure is only accounted for in active states in the first frame ( i.e. , in states @xmath155 , for @xmath148 , see fig .",
    "[ fig : transition_table]-b ) ) .",
    "in fact , being in any state @xmath147 for @xmath99 already implies that a new measure was available at the beginning of the ir .",
    "notice that , according to the model above , state transitions in the dmc at hand are event - driven and do not happen at fixed time intervals .",
    "a sketch of the considered dmc is shown in fig .",
    "[ fig : dmc_model]-a ) , while we show two outcomes of possible state transition chains in fig .",
    "[ fig : dmc_model]-b.1 ) and [ fig : dmc_model]-b.2 ) .    from fig .",
    "[ fig : dmc_model]-a ) , it can be seen that , when @xmath45 , @xmath46 and @xmath163 , for @xmath105 , the dmc at hand is irreducible and aperiodic and thus , by definition , ergodic ( see @xcite ) .",
    "in fact , if @xmath46 , any state of the markov model can be reached from any other state with non - zero probability , and therefore the markov chain is irreducible .",
    "moreover , the probability of having a self - transition from state @xmath164 to itself is @xmath165 and therefore state @xmath164 is aperiodic .",
    "the presence of an aperiodic state in a finite state irreducible markov chain is enough to conclude that the chain is aperiodic ( * ? ? ?",
    "* ; * ? ? ?",
    "1 ) . since the dmc is ergodic it admits a unique steady - state probability distribution @xmath166 $ ] , regardless of the initial distribution , which can be calculated by resorting to conventional techniques @xcite .",
    "this also guarantees the existence of limits ( [ eqn : asymptotic_delivery_probability ] ) and ( [ eqn : asymptotic_time_efficiency ] ) .",
    "vector @xmath167 represents the steady - state distribution in any discrete time instant of the interrogation period ( i.e. , during either any frames of an ir or idle period ) .",
    "however , to calculate ( [ eqn : asymptotic_delivery_probability ] ) and ( [ eqn : asymptotic_time_efficiency ] ) we need the dmc steady - state distribution @xmath168 conditioned on being at the beginning of the ir",
    ". this can be calculated by recalling that between the end of the last issued ir and the beginning of a new one , sensor @xmath17 can only be in any idle states @xmath150 , with @xmath148 , and thus its state conditional distribution @xmath169 $ ] , is given by @xmath170 , @xmath171 and @xmath172 , for all @xmath173 .",
    "the desired distribution @xmath168 of the state at the beginning of the next ir can be obtained as @xmath174 , where @xmath175 is the dmc probability transition matrix of the dmc in fig .",
    "[ fig : dmc_model]-a ) that can be obtained through fig .",
    "[ fig : transition_table ] .",
    "note that , according to the transition probabilities in fig .",
    "[ fig : transition_table ] , starting from any state @xmath150 , with @xmath148 , only states @xmath150 , with @xmath176 and states @xmath155 , with @xmath177 can be reached .",
    "therefore , the only possibly non - zero entries of distribution @xmath168 are @xmath178 and @xmath179 .",
    "once the dmc steady - state distribution @xmath168 at the beginning of any ( steady - state ) ir is obtained , we can calculate the steady - state distribution @xmath180 of the energy stored in the sensor esd at the beginning of any ( steady - state ) ir , denoted by @xmath181 $ ] , by mapping the dmc states into the energy level set @xmath182 as follows @xmath183 the ccdf @xmath184 is immediately derived from @xmath185 .",
    "finally , we remark that analysis of fa and tdma can be obtained by limiting the set of active states to @xmath186 ( i.e. , no retransmission ) , and recalling that sensor @xmath17 after transmission returns to idle states regardless of the success of transmission .    :",
    "a ) transition probabilities due to energy harvesting ; b ) transition probabilities due to the bidirectional communication with the fc .",
    "the transition matrix @xmath175 can be derived according to the probabilities in a ) and b ) for all the values of @xmath105 and @xmath148.,width=377 ]",
    "in this section we propose a backlog estimation algorithm for the dfa protocol ( extension to fa is straightforward ) .",
    "unlike previous work on the subject @xcite@xcite , here backlog estimation is designed by accounting for the interplay of eh , capture effect and multiple access .",
    "computational complexity of optimal estimators is generally intractable for a large number of sensors even for conventional systems ( see e.g. , @xcite ) .",
    "we thus propose a low - complexity two - steps backlog estimation algorithm that , neglecting the ir index , operates in every ir as follows : _ i _ )",
    "the fc estimates the initial backlog size @xmath187 based on the ccdf @xmath188 of the esd energy at the beginning of the current ir ; _ ii _ ) the backlog estimates for the next frames are updated based on the channel outcomes and the residual esd energy .",
    "for the first frame , the backlog size estimate and the frame length are @xmath189 and @xmath190 , respectively . for subsequent frames ,",
    "let us assume that the fc announced a frame of @xmath191 slots .",
    "the fc estimates the backlog size for frame @xmath192 by counting the number of slots that are successful ( @xmath193 ) and collided ( @xmath194 ) within the @xmath16th frame of length @xmath133 slots .",
    "since the fc can not discern exactly how many sensors transmitted in each successful slot , the estimate of the total number @xmath195 of sensors that collided in @xmath193 successful slots is @xmath196 , with @xmath197 being the conditional average number of sensors that transmit in a slot given that the slot is successful ( with no capture @xmath198 ) .",
    "similarly , for the collided slots we obtain @xmath199 , where @xmath200 is now conditioned on observing a collided slot .",
    "derivations of @xmath197 and @xmath200 are in appendix [ app : avgnumberofsensors ] . since the estimate of the total number of sensors that unsuccessfully transmitted is @xmath201 , the backlog size estimate @xmath202 for the @xmath203th frame is obtained by accounting for the fraction of sensors within @xmath204 that are not in energy shortage : @xmath205 , where @xmath206 $ ] .",
    "the proposed backlog estimation scheme thus works as follows : @xmath207 algorithm ( [ eqn : backlogestimationgeneral ] ) can be applied to any @xmath6th ir by deriving the esd distribution @xmath208 ( or @xmath143 ) from any initial distribution @xmath209 , by exploiting the dmc model in sec . [",
    "sec : dmcmodel ] .",
    "in this section , we present extensive numerical results to get insight into the mac protocols design .",
    "moreover , to validate the analysis proposed in sec .",
    "[ sec : analysis_performance_metrics ] and sec .",
    "[ sec : esdenergyevolution ] , we compare the analytical results therein with a simulated system that does not rely on simplifying assumptions @xmath76 and @xmath77 . the performances of the backlog estimation algorithm proposed in sec .",
    "[ sec : backlogestimation ] are also assessed through a comparison with the ideal case of perfectly known backlog at the fc .",
    "the energy @xmath40 harvested between two successive irs is assumed as geometrically - distributed with @xmath210=\\xi(1-\\xi)^{i}$ ] , where @xmath211 .",
    "the average harvested energy normalized by @xmath35 , referred to as _ harvesting rate _",
    ", is @xmath212=\\mu_{h}$ ] .    the asymptotic time efficiencies ( [ eqn : asymptotic_time_efficiency ] ) for tdma , fa and dfa protocols , are shown in fig .",
    "[ fig : time_efficiency ] versus design parameter @xmath66 ( recall ( [ eqn : framesizefa ] ) ) .",
    "system performance is evaluated by considering : @xmath213 , @xmath214 , @xmath215 , @xmath216 ; @xmath35 is normalized to unity , energy unit is @xmath217 so that @xmath218 and @xmath219",
    ". we compare the analytical performance metrics derived in sec .",
    "[ sec : analysis_performance_metrics ] with simulated scenarios for both known and estimated backlog . while the performance of tdma is clearly independent of @xmath66 , in fa and dfa there is a time efficiency - maximizing @xmath66 , which is close to one ( in @xcite the optimal value was @xmath125 since the capture effect was not considered ) .",
    "the effect of decreasing ( or increasing ) the harvesting rate @xmath220 on the tdma time efficiency is due to the larger ( or smaller ) number of sensors that are in energy shortage and whose slots are not used , while it is negligible for fa and dfa due to their ability to dynamically adjust the frame size according to backlog estimates @xmath221 .",
    "the tight match between analytical and simulated results also validates assumptions @xmath76 and @xmath77 and the efficacy of the backlog estimation algorithm .    the asymptotic delivery probability , for harvesting rate @xmath220 @xmath222 , versus design parameter @xmath66 is shown in fig . [ fig : delivery_probability ] with the same system parameters as for fig .",
    "[ fig : time_efficiency ] . unlike for the time efficiency",
    ", tdma always outperforms fa and dfa in terms of delivery probability .",
    "in fact , sensors operating with tdma and fa have the same energy consumption since they transmit at most once per ir , while possibly more than once in dfa .",
    "however , tdma does not suffer collisions and thus it is able to eventually deliver more packets to the fc .",
    "the delivery probability strongly depends on the harvesting rate @xmath220 , which influences the esd energy distribution and consequently the energy shortage probability .",
    "moreover , dfa outperforms fa thanks to the retransmission capability when the harvesting rate is relatively high ( e.g. , @xmath220@xmath223 ) , while for low harvesting rate ( e.g. , @xmath220@xmath224 ) dfa and fa perform similarly .",
    "in fact , for low harvesting rates , most of the sensors are either in energy shortage or have very low energy in their esds .",
    "hence , most of the sensors that are not in energy shortage are likely to have only one chance to transmit , and thus retransmission opportunities provided by dfa are not leveraged .    the trade - off between asymptotic delivery probability ( [ eqn : asymptotic_delivery_probability ] ) and asymptotic time efficiency ( [ eqn : asymptotic_time_efficiency ] )",
    "is shown in fig .",
    "[ fig : efficiencies_region_fixed_gamma ] for different values of the harvesting rate @xmath225 .",
    "system parameters are the same as for fig .",
    "[ fig : time_efficiency ] . for tdma ,",
    "the trade - off consists of a single point on the plane , whereas fa and dfa allow for more flexibility via the selection of parameter @xmath66 . when increasing @xmath66 more sensors might eventually report their measures to the fc , thus increasing the delivery probability to the cost of lowering time efficiency ( see fig .",
    "[ fig : time_efficiency ] and [ fig : delivery_probability ] ) . for fa and dfa ,",
    "the trade - off curves are obtained as @xmath226 , s.t .",
    "@xmath227 for each achievable @xmath228 .",
    "the impact of the capture effect on the performance metrics trade - offs is shown in fig .",
    "[ fig : efficiencies_region_var_gamma ] , where we vary the sir threshold @xmath229 and keep the harvesting rate @xmath230 fixed ( other parameters are as in fig . [ eqn : asymptotic_time_efficiency ] ) .",
    "as expected , the lower the sir threshold @xmath19 the higher the probability that the sir of any of the colliding sensors is above @xmath19 , and thus the higher the performance obtained with aloha - based protocols .",
    "tdma is insensitive to @xmath19 .    ) versus @xmath66 , for different energy harvesting rates @xmath213 .",
    "comparisons are between analytical derivations and simulated results with both known ( @xmath231 ) and estimated backlog ( @xmath221 , see ( [ eqn : backlogestimationgeneral ] ) ) , ( @xmath214 , @xmath215 , @xmath216 , @xmath219 , @xmath232 , @xmath217).,width=377 ]    ) versus @xmath66 , for different energy harvesting rate @xmath225 .",
    "comparisons are between analytical derivations and simulated results with both known ( @xmath231 ) and estimated backlog ( @xmath221 , see ( [ eqn : backlogestimationgeneral ] ) ) , ( @xmath214 , @xmath215 , @xmath216 , @xmath219 , @xmath232 , @xmath217).,width=377 ]    ) and asymptotic time efficiency ( [ eqn : asymptotic_time_efficiency ] ) for different energy harvesting rate @xmath225 .",
    "comparisons are between analytical derivations and simulated results with estimated backlog ( @xmath221 , see ( [ eqn : backlogestimationgeneral ] ) ) , ( @xmath214 , @xmath215 , @xmath216 , @xmath219 , @xmath232 , @xmath217).,width=377 ]    ) and asymptotic time efficiency ( [ eqn : asymptotic_time_efficiency ] ) for different sir threshold @xmath229 values and fixed energy harvesting rate @xmath230 .",
    "comparisons are between analytical derivations and simulated results with estimated backlog ( @xmath221 , see ( [ eqn : backlogestimationgeneral ] ) ) , ( @xmath214 , @xmath216 , @xmath219 , @xmath232 , @xmath217).,width=377 ]",
    "the design of medium access control ( mac ) protocols for single - hop wireless sensor networks ( wsns ) with energy - harvesting ( eh ) devices offers new challenges as compared to the standard scenario with battery - powered ( bp ) nodes .",
    "new performance criteria are called for , along with new design solutions .",
    "this paper addresses these issues by investigating the novel trade - off between the _ delivery probability , _ which measures the capability of a mac protocol to deliver the measure of any sensor in the network to the intended destination ( i.e. , fusion center , fc ) and the _ _ time efficiency _ _ * * , * * which measures the data collection rate at the fc .",
    "the analysis is focused on standard mac protocols , such as tdma , framed - aloha ( fa ) and dynamic - fa ( dfa ) .",
    "novel design issues are also discussed , such as backlog estimation and frame length selection .",
    "extensive numerical results and discussions validate the proposed analytical framework and provide insight into the design of eh - wsns .",
    "the conditional averages @xmath197 and @xmath200 are calculated similarly to @xcite by accounting for the capture effect and an arbitrary @xmath66 .",
    "let @xmath233 be the number of simultaneous transmissions in the same slot , and let @xmath234 and @xmath235 respectively be the event of successful and collided slot in frame @xmath16 , the average number of sensors per successful and collided slot are respectively @xmath236;\\text { } \\beta_{c , k}=\\sum_{j=2}^{\\infty}j\\pr\\left[y = j|\\mathcal{c}_{k}\\right]\\ ] ] to calculate @xmath197 consider @xmath76 and @xmath77 and allow the number of possible interfering users up to infinity as in sec .",
    "[ sec : delivery_probability_fa ] . by exploiting the bayes rule , we have @xmath237=\\pr\\left[\\mathcal{u}_{k}|y = j\\right]\\frac{\\pr\\left[y = j\\right]}{\\pr\\left[\\mathcal{u}_{k}\\right]}$ ] , where @xmath238=jp_{c , k}(j-1)$ ] , @xmath239=e^{-\\frac{1}{\\rho}}/(\\rho^{j}j!)$ ] and @xmath240=p_{t , k}^{dfa}$ ] ( see [ eqn : time_efficiency_dfa_conditional ] )",
    ". we can similarly obtain @xmath200 given that @xmath241=1-\\pr\\left[\\mathcal{u}_{k}\\right]-\\beta\\left(0,b , l\\right)$ ] , where @xmath242 is the probability of an empty slot , and @xmath243=1-\\pr\\left[\\mathcal{u}_{k}|y = j\\right]$ ] for @xmath244 .",
    "v. sharma , u. mukherji , v. joseph , efficient energy management policies for networks with energy harvesting sensor nodes , in _ proc .",
    "allerton conf .",
    "commun . , control and computing _ , monticello ,",
    "375 - 383 , sep . 2008 .",
    "a. p. sample , d. j. yeager , p. s. powledge , j. r. smith , design of a passively - powered , programmable sensing platform for uhf rfid systems , in _ proc .",
    "_ _ ieee int .",
    "_ _ rfid _ , grapevine , tx , pp .",
    "149 - 156 , mar ."
  ],
  "abstract_text": [
    "<S> the design of medium access control ( mac ) protocols for wireless sensor networks ( wsns ) has been conventionally tackled by assuming battery - powered devices and by adopting the network lifetime as the main performance criterion . </S>",
    "<S> while wsns operated by energy - harvesting ( eh ) devices are not limited by network lifetime , they pose new design challenges due to the uncertain amount of harvestable energy . </S>",
    "<S> novel design criteria are thus required to capture the trade - offs between the potentially infinite network lifetime and the uncertain energy availability .    </S>",
    "<S> this paper addresses the analysis and design of wsns with eh devices by focusing on conventional mac protocols , namely tdma , framed - aloha ( fa ) and dynamic - fa ( dfa ) , and by accounting for the performance trade - offs and design issues arising due to eh . </S>",
    "<S> a novel metric , referred to as _ delivery probability _ </S>",
    "<S> , is introduced to measure the capability of a mac protocol to deliver the measure of any sensor in the network to the intended destination ( or _ fusion center _ , fc ) . the interplay between delivery efficiency and _ time efficiency _ </S>",
    "<S> ( i.e. , the data collection rate at the fc ) , is investigated analytically using markov models . </S>",
    "<S> numerical results validate the analysis and emphasize the critical importance of accounting for both delivery probability and time efficiency in the design of eh - wsns .    </S>",
    "<S> wireless sensor networks , multiaccess communication , energy harvesting , dynamic framed aloha . </S>"
  ]
}