{
  "article_text": [
    "in this paper we investigate the boundary conditions and the background solutions of a cellular automaton which is called the box ball system ( bbs ) .",
    "the content of this paper is as follows .",
    "the bbs is derived from the discrete kdv equation by a limiting procedure called ` ultradiscretization ' , which we will explain briefly in section 2 . in section 3",
    ", we give a criterion for the bbs and the bbs with a carrier ( bbsc ) to allow a periodic boundary condition even when the system allows ` negative solitons ' .",
    "we also define the background solution of the bbsc using the conserved quantities of the bbsc . in section 4 ,",
    "we introduce a gauge transformed discrete kdv equation whose solutions converge to the upward - shifted solutions of the bbsc by ultradiscretization .",
    "we then investigate the relation between the jacobi theta solutions of the discrete kdv equation and the background solutions of the bbs in section 5 . in section 6 , we present an example of multi - soliton solutions with the boundary condition in which the value in @xmath0 and that in @xmath1 differs from each other .",
    "the discrete kdv equation is defined as @xmath2 where @xmath3 and @xmath4 take only integer values .",
    "the discrete kdv equation is transformed to the bilinear form @xmath5 by putting @xmath6 the ultradiscretization is a limiting procedure in which the dependent variables of the discrete equations become also discretized @xcite . the ultradiscretization transforms discrete equations into piecewise linear equations .",
    "first we use the following lemma to ultradiscretize .    under the boundary condition @xmath7 ,",
    "the discrete kdv equation is turned into    @xmath8    then we put @xmath9 and take the limit @xmath10 to obtain    @xmath11    under the boundary condition @xmath12 .",
    "we define the ultradiscrete kdv equation by the equation @xcite .",
    "it is also equivalent to the time evolution equation of bbs with box capacity @xmath13 @xcite .",
    "next we ultradiscretize .",
    "putting @xmath14 , @xmath15 and taking the limit @xmath10 , we obtain the bilinear form of the ultradiscrete kdv equation : @xmath16 .",
    "\\label{udkdvbil}\\ ] ] the ultradiscretization preserves the solitonic nature of the continuous kdv equation .",
    "let @xmath17 , then equation is closed under @xmath18 .",
    "we give an example of the time evolution below ( where a dot indicates a zero ) .    ....",
    "t=1:111 ... 11 ... 1 .............. t=2: ... 111 .. 11 .. 1 ............. t=3: ...... 11 .. 11.11 ........... t=4: ........ 11 .. 1 .. 111 ........ t=5: .......... 11.1 .... 111 ..... ....      the time evolution of the bbs with a carrier ( bbsc ) is expressed as follows @xcite .",
    "we prepare the `` carrier '' which can carry at most @xmath19 balls . at each time step in the evolution ,",
    "the carrier moves from the left to the right . while the carrier passes the _",
    "j_-th box , the following action occurs .",
    "assume that the carrier carries @xmath20 balls before it passes the _",
    "j_-th box , and also assume that there are @xmath21 balls in the _ j_-th box .",
    "then , when the carrier passes the box , the carrier puts @xmath22 balls into the box and receives @xmath23 balls from the box .",
    "that is to say , the carrier puts as many balls into the box as possible and simultaneously obtain as many balls from the box as possible .",
    "this rule can be expressed in the following formula    @xmath24    under the boundary condition @xmath25",
    "negative solitons are non - solitonic trains of negative values at a speed of @xmath26 .",
    "these arise for example when we put negative initial values to the bbs(c ) equation .",
    "an example of a negative soliton in a bbs with box capacity @xmath26 is as follows ( where a dot indicates a zero ) .    ....",
    ".-1 - 1 - 1 . .-1 . . .",
    ".-1 - 1 - 1 .",
    ".-1 . . . .",
    ".-1 - 1 - 1 .",
    ".-1 . . . . .",
    "....    while the sequence of 1 s has a speed equal to its length , the sequences of -1 have speed 1 regardless of their lengths .",
    "@xmath27    the pioneering works on negative solitons and background solutions are due to hirota @xcite , and willox et.al .",
    "@xcite . in the previous work with mada and tokihiro @xcite",
    ", the author presented a way to construct the conserved quantities of equation which can also be applied to the negative solitons , by using certain gauge transformation to the bbsc .",
    "we described the structure of the conserved quantities for the bbsc , in terms of arclines connecting balls and vacant boxes .",
    "hereafter we consider the bbsc with box capacity @xmath13 and carrier capacity @xmath19 .",
    "equation is equivalent to the following coupled equations @xmath28 with the boundary condition    @xmath29    * proof *    if we determine @xmath30 by @xmath31 in , we have .",
    "@xmath27    on the contrary , we have @xmath31 from the last equation in with the boundary condition .",
    "then the first equation gives .",
    "the equation is also called an `` ultradiscrete yang - baxter map '' .",
    "the coupled equations of the bbs are expressed as    @xmath32    * proof *    we have only to set @xmath33 in .",
    "we consider the time evolution of the bbs(c ) with periodic boundary condition . for a detailed discussion of the periodic bbs with @xmath34",
    "being non - negative , see @xcite and @xcite .",
    "we extend the results in @xcite to the periodic bbsc that allows negative solitons .",
    "we say that the set of initial values @xmath35 evolves as a periodic bbsc of size n , if and only if there exists at least one @xmath36 such that @xmath37 and such that @xmath38 are defined uniquely , independent of the choice of possible @xmath36 s .",
    "@xmath27    for some initial values @xmath39 , there may exist more than one @xmath36 s such that @xmath40 and such that @xmath41 depend on @xmath36 ( example [ bbscexample ] ) .",
    "the time evolution of the bbsc is not unique in these cases , and we exclude such cases for simplicity in this paper .",
    "first , we deal with the periodic bbs .",
    "[ bbslem1 ]    @xmath42+\\tilde{n}\\ ] ]    here , @xmath43,\\\\",
    "\\tilde{n}&=&2(u_1^t+u_2^t+\\cdots u_n^t)-nl.\\end{aligned}\\ ] ] ( see figure [ fc ] . )    * proof *    first note that @xmath44 does not change under the time evolution of the periodic bbsc .",
    "we omit the superscript @xmath45 of @xmath30 s and @xmath46 for convenience and consider @xmath47 as a function of @xmath48 .",
    "fix one @xmath48 such that @xmath49 .    since @xmath50 ,    @xmath51    the inequality @xmath52 gives    @xmath53    using @xmath54 , repeated calculations lead to    @xmath55    for @xmath56 .",
    "( this is easily seen by induction . )",
    "thus we obtain @xmath57 if @xmath49 .",
    "if @xmath58 , on the other hand , there exists @xmath59 such that    @xmath60    holds . hence @xmath61 does not depend on @xmath48 if @xmath62 .",
    "in fact @xmath61 will be a constant that only depends on the initial values @xmath63 .",
    "therefore , @xmath64 is also a constant if @xmath65 .",
    "it is easily seen from that @xmath66 , and we already know that @xmath67 is equivalent to @xmath49 . thus we obtain @xmath68 if @xmath58 .",
    "@xmath27    [ bbsbunrui ] the bbs evolves as a periodic system if and only if    @xmath69 holds for the initial values @xmath70 .",
    "* proof *    , width=302 ]    from the lemma [ bbslem1 ]    * if @xmath71 , no @xmath72 satisfies @xmath73 . * if @xmath74 , we have @xmath73 for all @xmath75 . * if @xmath76 , the only @xmath77 that satisfies @xmath73 is @xmath78 .    in the second case , @xmath79 is independent of the choice of @xmath77 because we know from the previous lemma that @xmath80 for any @xmath75 .",
    "the evolutions are the same in @xmath81 .",
    "@xmath27    although normally we treat the case where @xmath82 , this proposition is also valid for arbitrary real values of @xmath83 .",
    "@xmath27      next we deal with the periodic bbsc .",
    "as we are investigating whether the system evolves from the time @xmath4 to @xmath84 , we can omit the superscript @xmath45 of the variables below .",
    "[ pbbsccomplete ] let , @xmath85,\\\\ c_r&=&\\min_{i\\in\\{0,1,\\cdots n-1\\}}[l-2(u_1+\\cdots + u_{i})-u_{i+1}+il],\\\\ n_{\\text{odd}}&=&\\{i|\\ 1\\le i\\le n,\\ i:\\text{odd}\\},\\notag\\\\ n_{\\text{even}}&=&\\{i|\\ 1\\le i\\le n,\\ i:\\text{even}\\},\\notag\\\\ d_l&=&\\max\\left[\\max_{i\\in n_{\\text{odd}}}(l - u_i),\\ \\max_{i\\in n_{\\text{even}}}(u_i - l+l+1)\\right],\\\\ d_r&=&\\min\\left[\\min_{i\\in n_{\\text{odd}}}(l - u_i-1),\\ \\min_{i\\in n_{\\text{even}}}(u_i)\\right]+1.\\end{aligned}\\ ] ] when we put @xmath64 , the following cases occur .    * if @xmath86 : * * if @xmath87 , there exists a unique @xmath88 such that @xmath89 holds . * * if @xmath90 and @xmath91 , we have @xmath92 for all @xmath48 with @xmath93 . * * if @xmath90 and @xmath94 , there exists a unique @xmath48 such that @xmath89 holds . * if @xmath95 : * * if @xmath96 is an odd number : + there exists a unique @xmath97 such that @xmath92 holds .",
    "+ ( for @xmath98 , we do not have a normal box ball interpretation .",
    "however , @xmath99 holds , which means the number of balls in the box is an integer all the same . ) @xmath100 * * if @xmath96 is an even number , * * * for @xmath101 , there is a unique @xmath88 that satisfy @xmath92 .",
    "* * * for @xmath102 , we have @xmath92 for all @xmath48 such that @xmath103 , but @xmath41 depends on @xmath48 .",
    "+ ( this is the only case where we can not determine the time evolution uniquely . ) @xmath104 * if @xmath105 , there is a unique @xmath48 that satisfies @xmath92 .",
    "@xmath27    * proof *    *  if @xmath106 :*",
    "we regard @xmath107 as a function of @xmath108 to find    @xmath109    which leads to    @xmath110    if @xmath111 for all _ i _ s then , by induction we have    @xmath112 thus the condition @xmath113 is equivalent to the following :    @xmath114    the inequality can be expressed as    @xmath115 and we have    @xmath116    ( note that @xmath117 may be larger than @xmath118 . )    by examining the intersection of @xmath119 and @xmath120 , we obtain the desired result .",
    "( when @xmath90 and @xmath121 , possible @xmath48 s are not unique , but we have @xmath122 regardless of the choice of @xmath48 which makes the time evolution of @xmath123 unique . )    we conclude from the above argument that the system uniquely evolves in time if @xmath106 .    *  if @xmath95 :*    we have @xmath124 hence ,    @xmath125    if @xmath126 for all @xmath127 , we have    @xmath128    for each @xmath127 .",
    "thus we have @xmath129 therefore , the condition ( @xmath130 ) is equivalent to the following set of inequalities :    @xmath131    thus if @xmath96 is an odd number we obtain    @xmath132    ( see the left graph of figure [ fc2 ] . )    therefore , there is a unique @xmath48 such that @xmath92 ( @xmath97 ) .",
    "even though @xmath48 may not be an integer , as long as @xmath133 are all integers , @xmath41 are closed in @xmath134 . in particular if @xmath101 , @xmath135 is constant in @xmath48 .",
    "if @xmath96 is an even number , we obtain : @xmath136 ( see the right graph of figure [ fc2 ] . )    therefore if @xmath101 , @xmath135 is constant in @xmath48 , which renders the time evolution unique .",
    "if @xmath102 , by fixing @xmath48 such that @xmath103 we obtain    @xmath137 this indicates that the time evolution is dependent on @xmath48 . we do not have a unique periodic bbsc in this case.@xmath138     of bbsc under the condition @xmath95,width=377 ]    the time evolution of the bbsc with the periodic boundary condition is well - defined if and only if the three conditions @xmath139 hold simultaneously .",
    "we show an example of the periodic bbsc .",
    "we express the time evolution @xmath140 as follows :    ....    u c-|-d .",
    "v ....    let @xmath141 , @xmath17 and @xmath142 .",
    "....    0    3    0    0    0    0    0    0 0-|-0-|-5-|-4-|-3-|-2-|-1-|-0-|-0    0    a    1    1    1    1    1    0 4-|-3-|-a-|-1-|-2-|-3-|-4-|-5-|-4    1    3    a    0    0    0    0    1 1-|-2-|-7-|-2-|-1-|-0-|-0-|-0-|-1    0    a    3    1    1    0    0    0 2-|-1-|-a-|-3-|-4-|-5-|-4-|-3-|-2    1    1    a    0    0    1    1    1 3-|-4-|-5-|-0-|-0-|-0-|-1-|-2-|-3    0    0    3    0    0    0    0    0 ....    here @xmath143 .",
    "[ bbscexample ] we present two irregular cases in defining periodic bbsc . here is an example of the case @xmath144 in proposition [ pbbsccomplete ] .",
    "let @xmath145 , @xmath146 , @xmath147 and @xmath148 .    ....",
    "1    4    1    4    1    4    1 b-|-b-|-b-|-b-|-b-|-b-|-b-|-b    1    4    1    4    1    4    1 ....    next we show an example when the periodic bbsc is not well - defined .",
    "let @xmath149 , @xmath146 and @xmath150 .    ....    2    3    2    3           2    3    2    3 1-|-1-|-1-|-1-|-1 ,     2-|-0-|-2-|-0-|-2    2    3    2    3           4    1    4    1 ....    we have more than one types of time evolutions depending on the choice of @xmath48 .",
    "the bbsc is an invertible system , which is true even when some of the variables @xmath151 take negative values .",
    "we consider the extended bbs where we have @xmath152 kinds of balls distinguished by integers @xmath153 .",
    "we call this system bbs@xmath154 . here",
    "we consider the case where the capacity of the box is @xmath26 in each box .",
    "let @xmath155 be the number of balls @xmath156 in the @xmath127-th box and @xmath157 the number of balls @xmath156 in the carrier when the carrier is located between the @xmath158-th box and the @xmath127-th one .",
    "the time evolution rule of the bbs@xmath154 is @xmath159 where @xmath160 ( see figure [ bbsk ] ) .    ,",
    "width=377 ]    the bbs@xmath154 can be defined as a periodic system if there exists at least one set of @xmath161 such that @xmath162 hold for all @xmath163 and the @xmath164 s are determined uniquely independent of the choice of possible @xmath165 s .",
    "the periodic bbs@xmath154 is well - defined if and only if @xmath166 holds for all @xmath167 .",
    "* proof *    first note that we only have to consider the case where @xmath168 because @xmath169 is independent of @xmath4 .",
    "we know from the time evolution rule that @xmath170 depends only on @xmath171 and does not depend on @xmath172 .",
    "we omit the superscript @xmath173 for convenience hereafter .    for @xmath174 let @xmath175 the condition in the proposition is rewritten as @xmath176 for all @xmath19 .",
    "we first determine the cases that allow for a @xmath177 such that satisfies @xmath178 .",
    "we calculate in the same way as in lemma [ bbslem1 ] to obtain @xmath179+n_1,\\\\ \\gamma_1&=&\\max_{i\\in\\{1,\\cdots , n\\}}\\left[i-\\sum_{j=1}^{i-1}u_{j,1}-\\sum_{j=1}^i\\sum_{k=1}^k u_{j , k}\\right].\\end{aligned}\\ ] ] thus there exists @xmath177 such that @xmath178 if and only if @xmath180 .",
    "next we determine @xmath181 from @xmath177 and @xmath182 .",
    "we obtain @xmath183+n'_2,\\\\ n'_2&=&\\sum_{j=1}^n\\left(\\tilde{u}_{j,1}+\\sum_{k=2}^k u_{j , k}\\right)+\\sum_{j=1}^n u_{j,2}-n,\\end{aligned}\\ ] ] and @xmath184 is a constant determined by the @xmath185 s only .",
    "therefore we have @xmath182 such that @xmath186 if and only if @xmath187 .",
    "we know from @xmath188 that @xmath189 . by repeating the same calculations for @xmath190 @xmath191 we obtain the proposition . if @xmath192 for some @xmath193 there exist more than one @xmath194 such that @xmath195 .",
    "the time evolution of @xmath185 is still unique in this case .",
    "@xmath27      [ sokoage ]",
    "the invertible transformation    @xmath196    deforms bbsc to    @xmath197    here @xmath198 is an arbitrary real number .    * proof *    we immediately obtain by direct calculation @xcite .",
    "@xmath27    when @xmath199 , in particular , we call this transformation an `` upward - shift translation '' .",
    "if some of the variables take negative values in the initial conditions , by putting @xmath199 large enough , all @xmath123 s and @xmath30 s are transformed to be positive .",
    "note that the capacity of the boxes and that of the carrier increase by @xmath200 , and that the boundary conditions will change : @xmath123 is not @xmath201 at @xmath202 anymore , but it becomes some nonzero constant at @xmath202 .",
    "also note that the value @xmath203 $ ] does not change through this shift .",
    "hence , treating the negative solitons is equivalent to treating the non - negative bbs s with the boundary conditions that the solutions @xmath204 have some positive constant value at @xmath205 .    in this transformation , the values @xmath123 at @xmath206 and those at @xmath207 have to be the same . in section @xmath208 , we present a way to deal with the boundary condition such that @xmath209 .",
    "@xmath27    the construction of conserved quantities found in @xcite can also be performed for a periodic bbsc with general @xmath13 and @xmath19 .",
    "we depict by arclines the movement of the balls from the box to the other box according to the time evolution of bbsc .",
    "the operation of drawing arclines when the capacity of the carrier is @xmath19 is denoted by ( op)@xmath210 .",
    "* we take out balls from the boxes from the left to the right according to the evolution of bbsc .",
    "we distinguish each ball and when two or more balls are taken out from the same box at each step , the one at a lower position is taken out first .",
    "the carrier can hold at most @xmath19 balls .",
    "* when two or more balls are passed from the carrier to a box at the same step , the one taken by the carrier last will be the first to go back to a box .",
    "* we depict by arclines the movement of the balls from the box to the carrier to the other box .",
    "we can see some structures in the set of arclines connecting the balls and the empty boxes .",
    "[ theokmt ] on the periodic bbsc upward - shifted by @xmath198 , let @xmath211 for the given initial condition .",
    "then @xmath212 is a set of constants independent of the time evolution of the system .",
    "we also denote by @xmath213 the set of these constants for the `` vacuum state '' where every box has exactly @xmath198 balls .",
    "the difference of these two @xmath214 is also a set conserved quantities of the bbsc .",
    "we rewrite it @xmath215 and call it `` the set of conserved quantities of the bbsc '' .",
    "@xmath27    we extend this theorem to the general periodic bbsc .    for the periodic bbsc with parameters @xmath13 and @xmath19 and initial conditions @xmath216 that satisfy the following    @xmath217 , \\notag\\\\ & & \\text{and also for all}\\ l , \\text{there exists } \\",
    "c_1\\in\\mathbb{z } \\",
    "\\text{such that } \\",
    "f(c_1)=c_1,\\end{aligned}\\ ] ]    we can apply theorem [ theokmt ] to construct the conserved quantities .",
    "@xmath27    in other words , we consider the cases other than @xmath144 in proposition [ pbbsccomplete ] . note that for @xmath19 with @xmath95 we allow the case @xmath218 in proposition [ pbbsccomplete ] .",
    "see figure [ bbscpair ] for an example .",
    "we consider the periodic bbsc with a box capacity @xmath26 and system size @xmath219 and set the initial value to be @xmath220 . by an upward - shift with @xmath221",
    ", initial values are transformed into @xmath222 .",
    "we have @xmath223 , @xmath224 and @xmath225 .",
    ".,width=340 ]      we propose the following way to distinguish the background solutions from the positive solitons .",
    "note that the balls connected in ( op)@xmath210 are included in those connected in ( op)@xmath226 where @xmath227 .    for the bbs upward - shifted by @xmath198 ,",
    "the balls connected in the process @xmath228op)@xmath229 constitute negative soliton solutions .",
    "remaining balls constitute positive solitons .",
    "the solution @xmath133 is a `` background solution '' if @xmath230 for @xmath231 .",
    "[ bbscex22 ] for the bbs with the box capacity one , @xmath232 and @xmath233 are both stationary solitary waves moving at speed one .",
    "we can distinguish these two waves by constructing conserved quantities .",
    "the former is a background solution positive solitons , and the latter can be interpreted as a background solution with a soliton of length one superimposed .",
    "we shift both systems upward by @xmath221 , and find that the former has the conserved quantity @xmath234 , @xmath235",
    ". on the other hand the latter has @xmath236 .",
    "( see figure [ bbscex1 ] )    ) : distinguishing between -11 - 1 and -12 - 1.,width=453 ]",
    "we consider the following transformation @xmath237 for the solution @xmath238 of the bilinear discrete kdv equation .",
    "the transformed function @xmath239 satisfies the following gauge transformed discrete kdv equation    @xmath240    this statement is proved by a direct calculation .",
    "we consider the ultradiscrete limit of the equation .",
    "we let @xmath15 , @xmath241 and @xmath242 , and the following proposition holds .    for @xmath204 and @xmath243 defined as @xmath244 and @xmath245 ,",
    "the relation is transformed into @xmath246 in the limit @xmath247 .",
    "@xmath27    * proof *    we take the limit @xmath247 to obtain @xmath248 .",
    "therefore we have @xmath249 .",
    "@xmath27    the transformation of the discrete kdv equation corresponds to the ` _ _ 1 _ _ ' upward - shift to the bbsc in the ultradiscrete limit .",
    "thus the solution of the equation goes to a ` _ _ 1 _ _ ' upward - shifted solution of the bbsc in the ultradiscrete limit .",
    "we define jacobi theta function by    @xmath250 where @xmath251 , @xmath252 and @xmath253 .",
    "we suppose im@xmath254 .",
    "the jacobi theta functions are quasi - doubly periodic functions , that is , we have    @xmath255    let @xmath256 . then the function @xmath257 is a solution of the following equation , which is a gauge - transformed discrete kp equation    @xmath258    here , @xmath259 and @xmath260 is an arbitrary complex number . the lower script ` @xmath127 ' of the function @xmath261 denotes a ` @xmath262 ' shift in the variable @xmath263 , i.e. , @xmath264 , @xmath265 , etc @xmath266 .",
    "* proof *    from the quasi - doubly periodicity we have @xmath267 which lead to    @xmath268    we also obtain @xmath269    thus we have the result . @xmath27    if a function @xmath270 satisfies the relation @xmath271 , then @xmath272 satisfies the same equation .",
    "the discussions in this section are therefore equally valid for such functions @xmath273 .",
    "since the parameter @xmath260 is arbitrary , we can put @xmath260 to be @xmath274 .",
    "the parameter @xmath275 is related to the box capacity of the bbs . from the way @xmath276",
    "is chosen , we have @xmath277 , which is the reduction condition from the kp equation to the kdv equation",
    ". if we rewrite @xmath278 the following lemma holds .",
    "the gauge - transformed discrete kp equation is reduced to the following gauge - transformed discrete kdv equation    @xmath279    we have the following relation with the upward shifted discrete kdv equation : @xmath280    although the coefficients in equation are different from the bilinear form of the normal discrete kdv equation , we find from the following proposition that this does not lead to the loss of generality .",
    "[ kdvbilinear ] by change of variable @xmath281 the equation is transformed into the discrete kdv equation    @xmath282 where @xmath283 .",
    "* proof *    from the following identity @xmath284 we have @xmath285 multiplying    @xmath286 on both sides , we have the result . @xmath27",
    "if we ultradiscretize the solutions of the equation , we will obtain the solutions of the bbs .",
    "we will ultradiscretize the equation and the solutions . to do this",
    "we first assume that @xmath287 and @xmath288 are both purely imaginary and then replace @xmath289 with @xmath290 .",
    "( this choice of @xmath291 is empirical . )",
    "then we take logarithms on both sides and take the limit @xmath247 .    note",
    "that our paper is not the first to ultradiscretize the theta functions .",
    "for example in @xcite , iwao and tokihiro ultradiscretized the theta function solution of the periodic toda equation .",
    "our method is unique in that we connected the ultradiscrete theta function to the background solution of the bbs .",
    "the ultradiscretization of the solution @xmath292 is the tau function @xmath293 of the constant solution which takes @xmath294 for @xmath295 .",
    "here we have the following relation between @xmath204 and @xmath293 .",
    "@xmath296    * proof *    @xmath297.\\end{aligned}\\ ] ]    from the first line to the second line we replaced @xmath156 with @xmath298 .",
    "we then transform @xmath289 into @xmath299 , and affect on both sides @xmath300 . if we write the left hand side @xmath293 after the ultradiscretization , we have    @xmath301.\\ ] ]    here we put @xmath302 .",
    "the solution @xmath204 constructed from @xmath293 takes constant value @xmath303 on @xmath295 .",
    "@xmath27    we now have the background state @xmath304 .",
    "we can add _",
    "n_-soliton solutions onto the background state @xmath304 .",
    "if we suppose that @xmath305 is also a solution of , then @xmath306 satisfies the ordinary discrete kdv equation @xmath307    we can take @xmath306 to be the _",
    "n_-soliton solution of the discrete kdv equation .",
    "we denote the ultradiscrete limit of @xmath306 by @xmath308 and define @xmath309 by @xmath310 . since @xmath311 , the solution @xmath309 corresponds to the solution of bbs with box capacity @xmath312 .",
    "[ permanentkdv ] we have the bbs with box capacity @xmath313 from the equation through ultradiscretization .    * proof *    the proof is based on takahashi and hirota @xcite .",
    "if we put @xmath314 , then is transformed into @xmath315 from the proposition [ kdvbilinear ] .",
    "thus we have    @xmath316    from we obtain for any @xmath317 @xmath318    here we have @xmath319 where @xmath320 and the positive solitons satisfy @xmath321 .    thus we obtain @xmath322 . therefore in the limit @xmath323",
    "we have @xmath324 which is equivalent to @xmath325    after replacing @xmath289 with @xmath299 , and @xmath326 with @xmath327 , we take the limit @xmath328 to obtain    @xmath329.\\ ] ]    from @xmath330 , the equation is the bbs with the box capacity @xmath313 .",
    "@xmath27    these results can be summed up to the following theorem .",
    "as solutions of the gauge - transformed discrete kdv equation , we have the following type of solutions @xmath331 constructed from the jacobi theta functions .",
    "@xmath332    the ultradiscretization of this solution is a solution of the bbs with box capacity @xmath313 and is @xmath333 .",
    "@xmath27    for example when @xmath334 , we have a solution of the bbs with box capacity @xmath335 as shown in figure [ tetasolex1 ] .",
    "we successfully obtained the positive solitons @xmath309 superimposed over the background solutions @xmath204 .",
    "however , to obtain negative solitons we have to consider solutions with holes in the background solutions , which needs a more detailed discussion @xcite .",
    "finally we present the bbs with a boundary condition where @xmath336    the @xmath261-function of the n - soliton solution of the bbs is as follows    @xmath337}\\left[\\left(\\sum_{i\\in j}p_i\\right)t-\\left(\\sum_{i\\in j}\\min ( l , p_i)\\right)n+\\left(\\sum_{i\\in j}\\theta_i\\right)-\\sum_{i >",
    "j\\ i , j\\in j}2\\min(p_i , p_j)\\right ] , \\label{bbssol}\\ ] ]    where @xmath338 and @xmath339 .",
    "we take @xmath340 and consider the soliton solution made up of solitons @xmath341 .",
    "it has the expression    @xmath342.\\ \\ ( x = t - n)\\ ] ] in the limit @xmath343 , the @xmath344-soliton solution converges to the following background solution :    @xmath345 . \\label{irregularbk}\\ ] ]    values of @xmath346 at integer points at time @xmath168 are as follows .    [ cols=\"<,^,<,<,<,<,<,<,^\",options=\"header \" , ]     the background solution has the new boundary condition where the solution tends to @xmath26 in @xmath347 and to @xmath201 in @xmath0 .",
    "we can add positive solitons to .",
    "we construct the following 2-soliton solution travelling in the background state .",
    "let the width and the phases of the two solitons to be added be    @xmath348 and we denote these solitons by soliton @xmath349 and @xmath350 respectively .",
    "the general form of the solution @xmath351 is given as @xmath352.\\end{aligned}\\ ] ] construction of the coexisting state of solitons and negative solitons is based on @xcite . what happens during the time evolution of this system is as follows .",
    "( see also the time evolution pattern of the system at the end of this section . )    * @xmath353 + we observe that the soliton @xmath349 travels at speed @xmath354 and the soliton @xmath350 travels at speed @xmath335 on the background @xmath26 .",
    "the soliton @xmath350 takes over the soliton @xmath349 in the same way as in bbs with box capacity @xmath26 . *",
    "@xmath355 + the soliton @xmath350 climbs down the discontinuity of the background state from @xmath26 to @xmath201 .",
    "the phase of the background is shifted @xmath354 to the left .",
    "the soliton @xmath350 travels at speed @xmath356 from now on . *",
    "@xmath357 + the same incident happens to the soliton @xmath349 and it travels at speed @xmath358 hereafter .",
    "the phase shift of the background is also @xmath359 .",
    "the bbs may take different boundary values at @xmath0 and @xmath1 like in this example , which is not treated as a periodic bbs .",
    "other irregular boundary conditions can also be considered and general solutions are calculated in the same way . in this section",
    "we have only dealt with the case where @xmath340 .",
    "we can consider general @xmath13 to obtain the boundary condition in which the left side and the right side take arbitrary integer values .    ....",
    "t= 0 : : 222:::::22 : : : : : : : : : .................. t= 1 : : : : 222::::22 : : : : : : : : .................. t= 2 : : : : : : 222:::22 : : : : : : : .................. t= 3 : : : : : : : : 222::22 : : : : : : .................. t= 4 : : : : : : : : : : 22::222 : : : : .................. t= 5 : : : : : : : : : : : 22:::222 : : .................. t= 6 : : : : : : : : : : : : 22::::222 .................. t= 7 : : : : : : : : : : : : : 22::::131 ................. t= 8 : : : : : : : : : : : : : : 22:::.23 ................. t= 9 : : : : : : : : : : : : : : : 22:: .. 32 ................ t=10 : : : : : : : : : : : : : : : : 22: .. 131 ............... t=11 : : : : : : : : : : : : : : : : : 22 ... 23 ............... t=12 : : : : : : : : : : : : : : : : : : 3 .... 32 .............. t=13 : : : : : : : : : : : : : : : : : .31 ... 131 ............. t=14 : : : : : : : : : : : : : : : : : .22 .... 23 ............. t=15 : : : : : : : : : : : : : : : : : .13 ..... 32 ............ t=16 : : : : : : : : : : : : : : : : : .. 31 .... 131 ........... t=17 : : : : : : : : : : : : : : : : : .. 22 ..... 23 ........... t=18 : : : : : : : : : : : : : : : : : .. 13 ...... 32 .......... t=19 : : : : : : : : : : : : : : : : : ... 31 ..... 131 ......... t=20 : : : : : : : : : : : : : : : : : ... 22 ...... 23 ......... ....    the time evolution of 2-solitons on an irregular background is shown above . here",
    "the frame itself moves along with the background state so that the discontinuity in the background solution seems fixed .",
    "note that the background state itself is moving to the right at speed @xmath26 .",
    "the symbol ` : ' indicates a background ` _ _ 1 _ _ ' and ` . '",
    "a zero respectively .",
    "we see that the phase shift of the background after colliding each soliton is @xmath359 .",
    "we first discussed the conditions under which the periodic bbsc with general box and carrier capacities is well - defined .",
    "we extended the construction of the conserved quantities to general bbsc .",
    "conserved quantities are useful in distinguishing background solutions from positive soliton solutions .",
    "we then showed that the jacobi theta function is a solution of the gauge transformed discrete kdv equation , and that the ultradiscretization of this solution corresponds to the background solution of the bbs .",
    "the author wishes to extend this method to more general functions in order to deal with negative solitons .",
    "finally , the bbs with irregular boundary conditions has been constructed . to obtain the solution of the system with general @xmath13",
    "is a future problem .",
    "the author has greatly benefited from detailed discussions with professors jun mada and tetsuji tokihiro on the conserved quantities of the bbsc .",
    "the author also wishes to thank professor ralph willox for insightful discussions on background solutions .",
    "j. mada , m. idzumi , t. tokihiro : `` the exact correspondence between conserved quantities of a periodic box - ball system and string solutions of the bethe ansatz equations '' , _ j. math",
    ". phys . _ * 47*(2006 ) , 053507 , 18pp"
  ],
  "abstract_text": [
    "<S> we investigate the ultradiscrete kdv equation with periodic boundary conditions where the two parameters ( capacity of the boxes and that of the carrier ) are arbitrary integers . </S>",
    "<S> we give a criterion to allow a periodic boundary condition when initial states take arbitrary integer values . </S>",
    "<S> conserved quantities are constructed for the periodic systems . </S>",
    "<S> construction of background solutions of the periodic ultradiscrete kdv equation from the jacobi theta function is also presented . </S>"
  ]
}