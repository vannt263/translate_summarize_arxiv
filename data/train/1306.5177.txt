{
  "article_text": [
    "together with metamaterial science , transformation optics has dramatically improved our control over the manipulation of electromagnetic waves .",
    "this technique provides a way to know the properties that a medium should have in order to curve light propagation in almost any desired way . as a consequence",
    ", it has allowed for the creation of optical devices that were unthinkable only a decade ago  @xcite .",
    "transformation optics is standardly described as relying on the form - invariance of maxwell s equations  @xcite , i.e. , the fact that they have the same structure in any coordinate system  @xcite .",
    "in particular , the electromagnetic equations of a ( virtual ) medium @xmath0 using a distorted ( non - cartesian ) set of coordinates @xmath1 are formally equal to those of a different ( real ) medium @xmath2 in cartesian coordinates @xmath3 .",
    "for instance , if the virtual medium is homogeneous and isotropic , it will be non - diffractive .",
    "then , the equivalence @xmath4 allows us to design real media that are highly non - trivial ( in general , inhomogeneous and anisotropic ) , but nevertheless retain the non - diffractive property .",
    "inspired by the success of transformation optics , scientists have tried to apply a similar procedure in other branches of physics , such as acoustics  @xcite or quantum mechanics  @xcite . in these attempts",
    ", form - invariance seems to be the _",
    "conditio sine qua non _ : without this property , a coordinate transformation can not be reinterpreted as a certain medium . in many cases ,",
    "the equations under consideration are form - invariant only under a certain subset of transformations , limiting the technique to this subset .",
    "for instance , the acoustic equations are not invariant under general transformations that mix space and time , so one can not use transformation techniques to design devices such as time cloaks  @xcite or frequency converters  @xcite . here , we show that there is a way to escape this limitation .",
    "let us first describe the proposal step by step in general terms .",
    "consider a formal class of continuous physical systems described by two sets of fields : some _ parameter fields _",
    "( e.g. permittivity and permeability ) , which describe a background medium , and some _ dynamical fields _ @xmath5 ( e.g. electric and magnetic fields ) , describing some specific behavior on top of the background medium which we want to manipulate in our laboratory through transformation techniques .",
    "thus , we call _ laboratory space _ the world where these fields exist .",
    "we assume that all these systems are described using the same standard cartesian coordinate system @xmath6 . in this way",
    ", different parameter fields always correspond to different media .",
    "in addition , imagine that the @xmath5-equations are not form - invariant under the desired transformations and therefore we can not directly apply the traditional transformation paradigm as in optics .",
    "the transformation method we propose entails the existence of an auxiliary _ abstract relativistic system _ ( we use `` relativistic '' in the general relativity sense of form - invariance under _ any spacetime _",
    "coordinate transformation ) which is analogue to ( i.e. , possesses the same mathematical structure as ) the relevant systems in laboratory space .",
    "there is no need for the analogue model to have any direct physical meaning .",
    "in fact , this procedure is the exact reverse of what is done in the `` analogue gravity '' programme  @xcite : there , one searches for laboratory analogues of relativistic phenomena , e.g. in the quest to simulate hawking radiation ; here , one searches for relativistic analogues of laboratory phenomena . in the relativistic analogue , the geometric coefficients ( typically , the coefficients of the metric tensor @xmath7 ) play the role of parameter fields ; we will denote them generically by the letter @xmath8 .",
    "one specific system in laboratory space is mapped to one relativistic system written in an abstract coordinate system @xmath9 ( same coordinate labels as @xmath3 ) .",
    "once we find the analogue model , the method develops as follows ( see fig .  [",
    "fig : figure_1 ] ) :        * identify a simple ( and probably idealized ) virtual medium @xmath0 in laboratory space which possesses some physical or technological quality of interest ( step 1 in fig .  [",
    "fig : figure_1 ] ) . * map the laboratory equation associated with @xmath0 to its analogue equation in the abstract spacetime written in coordinates @xmath10 ( step 2 ) .",
    "the geometric coefficients @xmath11 in these coordinates will be functions of the parameter fields of @xmath0 .",
    "* express the analogue equation in a transformed set of coordinates @xmath12 using the transformation @xmath13 that encodes the desired distortion .",
    "_ one can apply any transformation one likes _ since the relativistic equations always maintain their form .",
    "this yields a new functional form for the geometric coefficients @xmath14 .",
    "then , rename the new coordinates @xmath15 to @xmath16 .",
    "* map the renamed equation back to laboratory space and obtain the new medium @xmath2 associated with @xmath17 ( step 5 ) . in @xmath2 , the change induced by @xmath18 is `` real '' , i.e. , the solutions in medium @xmath2 are related to those in medium @xmath0 by this transformation @xmath18 .    the reason why medium @xmath19 induces",
    "the desired change is that the solutions of the renamed equation ( step 4 ) are related to those of the original analogue equation ( step 2 ) by @xmath18 .",
    "since the solutions of the equations in steps 1 and 2 and steps 4 and 5 are identical , this correspondence is mapped to laboratory space , i.e. , the solution @xmath20 associated to medium @xmath2 is the desired distorted version of the solution @xmath5 associated with medium @xmath0 .",
    "the advantage of the analogue method proposed here is that the transformation approaches can now be based on any symmetry that leaves the form of the _ analogue equations _",
    "invariant , rather than the restricted set which corresponds to the _ original equations _ in laboratory space .    as in any transformational approach",
    ", the medium @xmath2 must be flexible enough to endow the laboratory equation with sufficient degrees of freedom ( through flexible parameter fields ) to reproduce the values of @xmath21 associated with the transformations of interest .",
    "this will typically require that the system includes moving media and metamaterials .",
    "let us now apply our new method to acoustics .",
    "the standard approach to transformation acoustics ( sta ) is based on the wave equation for the pressure perturbations @xmath22 of a fluid medium    @xmath23    here , @xmath24 is the bulk modulus and @xmath25 the anisotropic inverse matrix density of the background fluid .",
    "we use latin spatial indices ( @xmath26 ) and greek spacetime indices ( @xmath27 , with @xmath28 ) . @xmath24 and @xmath25 are the parameter fields , while @xmath22 is the dynamical field . from the transformational physics point of view , equation   has a set of drawbacks .",
    "i ) clearly , its form is non - invariant under coordinate transformations that mix space and time .",
    "ii ) it can not deal with fluids flowing with a non - zero background velocity , which however is the case in many interesting physical situations .",
    "iii ) to derive equation  , a necessary assumption is that the background ( static ) pressure is homogeneous  @xcite .",
    "thus , it can not be used for fluids with significant pressure gradients , such as when gravitational forces are relevant .",
    "iv ) three - dimensional transformations that require a local increase of the speed of sound in @xmath2 , also require an increase of its density .",
    "this is difficult to achieve with current metamaterials in airborne sound  @xcite .",
    "the proposed method aims in the first place at overcoming the first drawback . rather than starting from equation",
    ", one can look at the field of analogue gravity , where the formulation of a form - invariant equation has become a standard procedure . in terms of the velocity potential @xmath29 (",
    "the velocity perturbation is then @xmath30 ) , the equation for the acoustic perturbations of a barotropic and irrotational fluid is written as  @xcite @xmath31 with @xmath32 the mass density , @xmath33 the speed of sound , and @xmath34 the fluid background velocity .",
    "this apparently innocent reformulation will already turn out to have several important side - benefits .",
    "however , so far , this equation is still not form - invariant under transformations that mix space and time .",
    "therefore , we now apply one of the crucial insights of analogue gravity : equation   is structurally identical to the equation describing a relativistic massless scalar field over a curved spacetime  @xcite @xmath35 with the ( acoustic ) metric @xmath36 and @xmath37 the metric determinant .",
    "note that in this definition the choice of units can be considered irrelevant ( see supplementary information ) .",
    "equation   retains its form upon any coordinate transformation .",
    "thus , using equation   as the laboratory equation and equation   as the analogue equation , we can apply the proposed procedure .",
    "the virtual medium @xmath0 in step 1 of fig .",
    "[ fig : figure_1 ] will be characterized by some parameters @xmath38 , @xmath39 and @xmath40 , and the real medium @xmath2 in step 5 by other parameters @xmath41 , @xmath42 and @xmath43 . according to equation  ,",
    "the coefficients @xmath44 associated to @xmath0 are @xmath45 , with equation   particularized for @xmath38 , @xmath39 and @xmath40 . after applying all steps in fig .",
    "[ fig : figure_1 ] , one obtains the relation between the parameter fields of @xmath0 and the new medium @xmath2 that reproduces the effect of the coordinate change .    as a result , many interesting transformations that involve mixing space and time , which could not be addressed in sta , now become possible ( for instance , all those that mix time with one spatial variable  see supplementary information ) .",
    "a concrete example consists of a time - dependent compression of space which acts only inside a three - dimensional box ( the compressor ) .",
    "such a compressor could be used , for instance , to select which rays are absorbed by a static omnidirectional absorber placed inside the box . the simulated performance of a specific configuration of the compressor - absorber device is shown in fig .  [ fig : figure_2 ] ( see the methods section and the supplementary information for simulation details ) .",
    "it is based on the transformation @xmath46 and @xmath47 . according to the proposed method",
    ", this transformation can be implemented by a set of parameters given by @xmath48 and @xmath49 , with @xmath50 and @xmath51 being the position vector .",
    "both @xmath52 and @xmath53 ( normalized to @xmath39 ) are depicted in fig .",
    "[ fig : figure_2 ] .",
    "m , and is characterized by a static refractive index ( relative to the background medium surrounding the compressor ) given by @xmath54 .",
    "the trajectories of two acoustic rays are simulated .",
    "after ray 1 enters the box , the compression starts , according to the compression function @xmath52 ( depicted on the left ) .",
    "ray 1 approaches the absorber , which traps it .",
    "ray 2 feels no compression since @xmath55 during the time it goes through the box .",
    "thus , ray 2 follows a straight line .",
    "see supplementary information for more details .",
    "( a ) simulated acoustic rays .",
    "( b ) compression function @xmath52 .",
    "( c ) function @xmath53 . ]",
    "another example is the acoustic counterpart of the spacetime cloak reported recently for electromagnetic waves  @xcite . unlike static invisibility cloaks ,",
    "this device conceals only a certain set of spacetime events occurring during a limited time interval . to show how the proposed method allows for designing an acoustic spacetime cloak , we consider the transformation given by equations  ( 20)-(23 ) in ref .",
    "@xcite ( the transformation can also be found in the supplementary information ) .",
    "this transformation mixes time with one spatial variable .",
    "therefore , the material parameters associated with the cloak can be obtained by substituting the mentioned transformation into equations  ( 58)-(60 ) of the supplementary information .",
    "the resulting parameters are shown in fig .",
    "[ fig : figure_3 ] .",
    "a set of acoustic rays propagating through such a medium were simulated and compared to the expected trajectories , finding and excellent agreement ( see fig .",
    "[ fig : figure_3 ] ) .     of the cloak . ]    as a side - benefit of the above procedure , we have automatically solved the other main drawbacks associated to equation  : equations   and do not require the background configuration to be of constant pressure , and can deal with non - zero velocity background flows , making them much more generally applicable .",
    "thus , we can now for example perform transformation acoustics with waves propagating in moving fluids , a common situation in aeronautics .",
    "imagine , for instance , that we want to cloak a bump in an aircraft .",
    "in general , if the aircraft is moving with respect to the surrounding air , a traditional static cloaking device  @xcite will fail to cloak the bump properly , because sta does not take into account that the background fluid velocity @xmath43 must also be adapted suitably .",
    "instead , the proposed analogue transformation method allows us to obtain the required transformation of @xmath43 ( see fig .  [",
    "fig : figure_4 ] ) .",
    "it is worth mentioning that , although we have theoretically solved the problem , the actual realization of the cloaking device should take into account other issues like , for example , aerodynamic constraints .",
    "it is worth mentioning that the designed carpet cloak does not introduce reflections , since the employed transformation is continuous at the boundaries .",
    "to further verify this fact , we calculated in comsol the ratio between the acoustic intensity ( power ) reflected to the left by the carpet cloak ( @xmath56 ) and the intensity of the input wave ( @xmath57 ) , finding a value of @xmath58 ( within numerical error ) . note that , because one has a moving background , a doppler effect on the acoustic wave is expected .",
    "this effect appears , however , equally in presence and absence of the carpet cloak , which does not further contribute to the evolution of the acoustic signal .",
    "the acoustic wave outside the carpet cloak is exactly the same as in the case in which it impinges onto a flat wall without carpet cloak .",
    "thus , the frequency of the transmitted wave ( i.e. , reflected upwards by the wall with the bump surrounded by the cloak ) is the same as the frequency of the input wave .    ) , and thus suffers a dragging effect that deviates it from its original trajectory . ( a ) wave impinging onto a flat wall .",
    "( b ) wave impinges onto a wall with a bump surrounded by a carpet cloak within which the background fluid flows with the same velocity as outside the cloak .",
    "the wave outside the cloak is significantly distorted compared to the flat - wall case .",
    "( c ) as in ( b ) , but now the background fluid flows with a modified velocity calculated with the analogue transformation method .",
    "outside the cloak , the wave recovers the form it had in the flat - wall case : the bump is perfectly cloaked .",
    "see supplementary information for more details .",
    "]    in addition , sta prescribes for the case of three - dimensional transformations that sound speed and density must be increased or decreased simultaneously at each point , while the opposite behavior is obtained with the analogue approach ( see supplementary information ) .",
    "this latter requirement is more in line with current state - of - the - art acoustic metafluids .",
    "these are typically built by putting a lattice of rigid objects in air , and ( unlike in natural fluids ) an increase of density corresponds to a decrease of the speed of sound , and vice versa  @xcite .",
    "thus , we expect the construction of metamaterial devices designed with the new method to be easier .",
    "finally , note that the equations used in the text do not contain any approximation apart the ones necessary to obtain equations   and from basic fluid dynamics principles .",
    "therefore , the analogue transformations method works both in the wave and eikonal regimes . on the other hand , as mentioned above , in some cases the acoustic parameters transform differently depending on whether one works with equation   or equation  .",
    "however , both values are correct as long as the assumptions used to obtain the corresponding wave equation are valid .",
    "given that we have described our method in abstract terms , it is natural to ask how general this approach is .",
    "the answer relies on our ability to construct an analogue theory that mirrors the properties of the relevant equations .",
    "two concrete examples in this respect are the following .",
    "first , phonons in bose - einstein condensates provide an analogue model of a massless scalar field  @xcite .",
    "second , graphene provides an analogue model of relativistic electrons  @xcite , so this method could become a powerful tool to control electronic propagation and confinement in a graphene sheet . in practice , the local manipulability of the propagating ( meta)media will be crucial . in the case of graphene ,",
    "the conductivity could be controlled by introducing curvature  @xcite or by varying the chemical potential  @xcite .",
    "more in general , the method presented here can be applied to any system which provides an analogue model of a relativistic field , i.e. scalar fields , electromagnetic fields , dirac and weyl spinorial fields and even spin-2 ( gravitational ) fields @xcite . in all these examples",
    ", the problem of the non - form - invariance of the equations describing a given system can be circumvented through the construction of an analogue theory .",
    "all in all , our results indicate that the idea underneath transformation optics has an even far richer scope than initially foreseen .",
    "numerical simulations have been performed with the commercially available comsol multiphysics simulation software , which is based on the finite element method . for full - wave simulations ,",
    "the velocity potential wave equation has been numerically solved using comsol s acoustic module .",
    "the trajectories followed by acoustic rays in the geometrical approximation have been calculated by solving hamilton s equations : @xmath59 in our case , the hamiltonian equals the angular frequency , which can be obtained from the dispersion relation associated to the velocity potential wave equation under the assumption of plane - wave solutions of the form @xmath60 .",
    "thus , it can be shown that the sought hamiltonian is ( @xmath61 ) @xmath62",
    "the supplementary information is organised as follows .",
    "first , we will describe in some more detail the application of the analogue transformation method to the case of acoustics .",
    "next , we will apply this to spatial transformations and compare the results of the analogue transformation method with those obtained from the standard formalism for transformation acoustics . in the third section",
    ", we will demonstrate that , contrarily to the standard scheme , analogue transformation acoustics can deal with spacetime transformations that mix space and time .",
    "finally , in the fourth section , we will give some numerical examples that illustrate our findings .",
    "let us describe more extensively the details of analogue transformation acoustics . in the definition of ata we will refer to fig.[fig : proposal ] , which specializes the general analogue transformation method to the case of acoustics .",
    "represent spacetime indices ( @xmath63 , with @xmath28 ) .",
    "@xmath64 is the partial derivative with respect to @xmath65 , and the einstein summation convention over repeated indices is employed . ]",
    "we start from the definition of the analogue model for acoustics . as mentioned in the main text , this is a very well studied field and full details can be found in @xcite .",
    "the equation for the velocity potential @xmath29 in a barotropic , inviscid and irrotational fluid with density @xmath32 , sound speed @xmath33 , and background velocity @xmath34 is : @xmath66 it is a known result from analogue gravity that this equation can be written as the equation of motion of a scalar field @xmath29 propagating in a ( 3 + 1)-dimensional pseudo ",
    "riemannian manifold ( equation 2 in fig .",
    "[ fig : proposal ] ) , also called dalembert , laplace - beltrami or ( massless ) klein - gordon equation : @xmath67 provided that the contravariant metric has components  @xcite @xmath68 or , lowering the indices to obtain the ( covariant ) metric itself @xmath69 with @xmath70 it is important to stress here that @xmath7 does not represent the metric of the laboratory spacetime but corresponds to the abstract spacetime in which the analogue model is defined .",
    "note that since the acoustic equation can always be multiplied by a constant term @xmath71 , the acoustic metric can be defined with any dimension . in fact",
    ", using coordinates @xmath72 , the klein - gordon equation remains the same , while @xmath73 i.e. , a non - dimensional metric .",
    "regarding the calculations in the paper these reference constants are irrelevant and in the following , for the sake of simplicity , we will not include them .",
    "the analogy described by the previous equations is only valid in cartesian coordinates .",
    "however , it is sometimes useful to work in other coordinate systems . in a general coordinate system ,",
    "equation   will not have the form of equation   ( otherwise we would not need the analogy ) .",
    "nonetheless , introducing the three - dimensional spatial metric @xmath74 ( @xmath75 being its inverse and @xmath76 its determinant ) and using general spatial coordinates ( fixing time to be laboratory time ) , it can be shown that , if @xmath76 is time - independent , equation   is still equivalent to equation   if we write the metric as @xmath77 @xmath78 @xmath79 these relations between metric and medium parameters connect the equations in laboratory space with those in the abstract spacetime , i.e. , the equations in step 1 with those in step 2 , and the equations in step 4 with those in step 5 in fig .",
    "[ fig : proposal ] .",
    "the method is composed of the following steps :    * start from a ( usually simple ) virtual medium characterized by parameters @xmath38 , @xmath39 , and @xmath40 and express the laboratory equation in a coordinate system @xmath80 for which the analogy holds . * using equation",
    "particularized for the parameters of the virtual medium , derive its analogue model , which is now a covariant equation in the abstract spacetime , expressed in a coordinate system @xmath81 .",
    "* perform a coordinate transformation @xmath82 from system @xmath81 to another system @xmath83 to obtain the new metric of step 3 , which follows from that in step 2 by using standard tensorial transformation rules @xmath84 where @xmath85 . *",
    "rename @xmath86 to @xmath87 to obtain the equation in step 4 . *",
    "derive the acoustic parameters @xmath41 , @xmath42 , and @xmath43 of the real medium that corresponds to the equation in step 4 by using equation  .",
    "it is worth noting that , for the sake of simplicity , the last two points are carried out in a slightly different way .",
    "first , we directly write equation in step 4 as a function of the parameters of @xmath19 . in fact , according to equation  , the metric @xmath88 in the equation of step 4 should be of the form @xmath89 then , we force the equations of steps 3 and 4 to be equal ( after relabeling @xmath86 to @xmath87 in the expression for @xmath90 ) , which implies that @xmath91 from this equation we obtain the relation between the material parameters of the virtual and real media .",
    "since equation   only considers isotropic fluids , the metric in equation   is spatially isotropic , and we can not implement spatially anisotropic transformations . for that , one would need to deal with anisotropic fluids and incorporate anisotropy , e.g. through a homogenization procedure  @xcite . in that case",
    ", it will be necessary to use the additional parameters of the anisotropic fluid on top of @xmath32 , @xmath33 and @xmath34 .",
    "however , all transformations giving rise to an isotropic spatial part of the metric are already implementable .",
    "this includes all spatially conformal and , to a good approximation , quasi - conformal transformations .",
    "also , one can work out many interesting situations involving mixing space and time .",
    "for instance , all transformations mixing time with one spatial variable are possible .",
    "note that , as in transformation optics , in this case the implementation of spacetime transformations is related to moving media .    in the following sections",
    ", we will study all these cases in detail to demonstrate these assertions .",
    "as a first example of how ata works , we will consider purely spatial transformations i.e. transformations of the type @xmath46 and @xmath92 .",
    "these transformations will allow to test the method described in the previous section and to compare the results with standard transformation acoustics .",
    "since the wave equation for the velocity potential in its standard form does not account for anisotropy , we will restrict ourselves to conformal transformations , which preserve isotropy .",
    "we will consider three different cases : two - dimensional ( 2d ) conformal mappings and static background , three - dimensional ( 3d ) conformal mappings and static background , and general conformal mappings and moving background .    before deriving the material properties for these cases , we will first briefly review the standard method for transformation acoustics so that we can compare the results of both approaches in subsequent sections      sta is essentially inspired by transformation optics .",
    "however , differently from the latter , sta is based on a second - order differential equation rather than a set of first - order ones .",
    "this second order equation is the pressure wave equation and can be proven to be invariant under pure spatial transformations .",
    "the success of sta depends on this property . as mentioned above",
    ", we will consider only isotropic media , for which the pressure wave equation reads in arbitrary spatial coordinates @xmath93 where @xmath22 is the ( acoustic ) first - order pressure perturbation , @xmath94 the bulk modulus , and @xmath38 the mass density .",
    "we consider this equation to be the one representing the initial virtual space . for simplicity ,",
    "we choose a simple coordinate system @xmath80 with an associated spatial metric of the form @xmath95 where @xmath96 is a function of the spatial coordinates . after a transformation",
    "the wave equation can be expressed as @xmath97 restricting ourselves to conformal transformations in order to preserve isotropy , the metric @xmath98 will have the form @xmath99 where @xmath100 is also a function of the spatial coordinates .",
    "now we consider another ( real ) space filled with an isotropic medium characterized by parameters @xmath41 and @xmath101 .",
    "in this case the wave equation is @xmath102 the coordinate system in real space is also @xmath80 .",
    "thus , the metric @xmath103 is @xmath104 equations   and are mathematically identical if @xmath105 the relation between the sound speed in virtual and real spaces can be derived using the well - known expression @xmath106 , yielding @xmath107 as we can see , the mass density and speed of sound of virtual space are multiplied by the same factor , i.e. , they both decrease or increase simultaneously . however , as pointed out in the main text , standard artificial composites for airborne sound follow a different behavior , with sound speed increasing when the density decreases and vice versa  @xcite",
    ". this fact may complicate the implementation of the required properties to achieve acoustic devices based on this transformation acoustics method .    for 2d transformations ,",
    "the required material parameters in real space are simpler and it turns out that they coincide with the ones derived from ata ( see next section ) .",
    "2d conformal mappings are interesting because any ( analytic ) function of complex variables defines a conformal mapping .",
    "in addition , there exist several efficient numerical methods for calculating 2d quasi - conformal mappings . to analyze this particular case",
    ", we will assume for simplicity that @xmath80 is the cartesian system , so that @xmath108 .",
    "in addition , if we leave the @xmath109 variable unchanged so that @xmath110 and use the properties @xmath111 and @xmath112 of a conformal transformation , we obtain the following expression for the transformed metric @xmath113 @xmath114 with @xmath115 moreover , we will assume that the pressure @xmath22 is invariant in the @xmath109-direction , i.e. , @xmath116 .",
    "this implies that @xmath117 is irrelevant , since it is multiplied by @xmath118 and ensure that our problem is effectively isotropic . as a consequence , taking into account that @xmath119 , equations   and are mathematically identical when @xmath120 this means that we only need to construct a spatially varying bulk modulus to implement a 2d conformal transformation .",
    "let us now reanalyze the case of 2d conformal mappings within the ata framework .",
    "we will assume again that the coordinate system @xmath80 in laboratory space ( see fig .  [ fig : proposal ] ) is the cartesian one ( @xmath108 ) .",
    "thus , we obtain from equation   that , under the conformal assumption , the transformation given by equation   corresponds to a metric - direction , so that @xmath121 .",
    "taking this fact into account , from equation   we observe that the value of @xmath122 is irrelevant , as it is multiplied by @xmath123 .",
    "thus , we have an effective 2d isotropic spatial metric , since @xmath124 . ]",
    "@xmath125 where @xmath126 is given by equation  .",
    "on the other hand , using the expression of @xmath103 , @xmath127 substituting equations  - into equation , we obtain the following relations @xmath128 as can be seen , for 2d conformal mappings , sta and ata give the same results",
    ".      we will now consider 3d transformations of a non - moving medium ( @xmath129 ) . in this case , as in equations   and , we assume ( using also equation  ) @xmath130 and the metrics in steps 3 and 4 of fig .",
    "[ fig : proposal ] will have the following form    @xmath131    notice that to find @xmath100 we must use equation   for a particular transformation . on the other hand , @xmath96 will be determined by the coordinate system @xmath80 employed in laboratory space .",
    "using equation   and with the help of equations  - , we arrive at @xmath132    comparing with equations  - , it is seen that the transformation of the speed of sound is the same in ata as the one obtained within sta , whereas the other quantities are transformed differently .",
    "in particular , in ata , one finds that an increase of the speed of sound should correspond to a decrease in the density of the metafluid . as we mentioned above",
    ", such properties should be more feasible from a technological point of view than the ones obtained by sta .",
    "let us now consider the possibility of a virtual medium with non - zero background velocity in virtual space and try to find out how this velocity should be changed to implement a certain coordinate transformation .",
    "we proceed as in the previous section but considering non - vanishing background velocities . in this case , the metrics in steps 3 and 4 of fig .",
    "[ fig : proposal ] ) are @xmath133 clearly , the only additional requirement to satisfy equation   ( along with equations  - ) is that @xmath134 , and we know from equation   that for pure spatial transformations @xmath135 therefore , differently from sta , which assumes a zero background velocity , ata allows us to implement transformations of moving media and provides us with the background velocity field required to achieve a certain transformation .",
    "this is one of the main advantages of ata .",
    "at this point we are ready to consider transformations that mix space and time in ata , which could not be implemented in sta",
    ". we will start from a virtual medium @xmath136 characterized by parameters @xmath38 , @xmath39 and @xmath137 ( step 1 in fig .",
    "[ fig : proposal ] ) , and use a cartesian system of coordinates ( system @xmath80 ) in laboratory space . according to equation  , the equivalent metric of the equation in step 2 of fig .",
    "[ fig : proposal ] for this configuration is @xmath138 on the other hand , we consider a real medium ( step 5 in fig .",
    "[ fig : proposal ] ) , moving with background velocity @xmath43 and characterized by isotropic density and sound speed @xmath41 and @xmath42 .",
    "we also use the cartesian system @xmath80 in this case , and thus the metric associated to equation 4 in fig .",
    "[ fig : proposal ] is given by    @xmath139    by way of example , next we will analyze two different cases .      consider the transformation @xmath140 the transformation matrix in this case is @xmath141 thus , the transformed metric is @xmath142 where the prime represents the derivative with respect to time .",
    "imposing equation  , the following real medium parameters are obtained @xmath143      we consider now the most general transformation mixing one spatial coordinate and time : @xmath144 the transformation matrix in this case is @xmath145 therefore , the transformed metric is @xmath146 imposing equation  , we obtain the parameters of the real medium that reproduce this transformation @xmath147    we stress again that the transformations presented in this section were not possible in sta .",
    "here we include the transformation used to design the spacetime cloak described in the main text .",
    "the transformation consists of the composition of a lorentz boost @xmath148 followed by a curtain map @xmath149+{\\rm sgn}(x_1)\\sigma\\\\ t_2&=t_1\\end{aligned}\\ ] ] and an inverse lorentz boost @xmath150 in our example @xmath151 , @xmath152 and @xmath153 .",
    "in this section we present some numerical examples for each of the cases studied in the previous sections .      as a first verification of the ata approach based on the velocity potential equation , we designed and simulated a so - called carpet cloak , a concept that originally appeared in the framework of transformation optics  @xcite .",
    "essentially , a carpet cloak makes a curved wall look flat for an external observer .",
    "thus , we can create a bump in the wall and hide an object behind it without producing additional scattering .",
    "the advantage of the carpet cloak is that it can be obtained from a quasi - conformal transformation that introduces a very small amount of anisotropy , which can essentially be neglected . to our knowledge ,",
    "acoustic carpet cloaks based on quasi - conformal mappings have not been reported so far . on the other hand , an anisotropic version of this acoustic device",
    "was recently demonstrated both theoretically and experimentally  @xcite . here ,",
    "we design and numerically verify an isotropic version of the acoustic carpet cloak . to obtain the mapping , we will use the method described in ref .",
    "@xcite , with which we can calculate the function f(@xmath154,@xmath155 ) .",
    "the idea is to deform a rectangular region as shown in fig .",
    "[ fig : carpetcloakmapping ] . using the above - mentioned algorithm and equation  , we calculated the speed of sound distribution associated to this transformation , which is also depicted in fig .",
    "[ fig : carpetcloakmapping ] .        to test the device",
    ", we simulated its performance both starting from the velocity potential wave equation and from the pressure wave equation with the same sound speed distribution , obtaining identical results , as expected based on the conclusions of section  [ ss:2d_conformal_mappings ] .",
    "the results for the first case are shown in fig .",
    "[ fig : carpetcloakintensity ] , where we compare the velocity potential associated to a gaussian beam impinging from the left onto a flat wall , a wall with a bump , and a wall with a bump surrounded by a carpet cloak .",
    "a very interesting example of an isotropic 3d device is that of maxwell s fish - eye .",
    "this element implements the mapping of the 3d surface of the four - dimensional hypersphere to the volume of a 3d sphere in flat 3d space  @xcite .",
    "the metric of such a geometry in cartesian coordinates is given by  @xcite @xmath156 with @xmath157 where @xmath158 is the radius of the 4-sphere .",
    "therefore , the device has an infinite extension in principle .",
    "however , it can be shown that its functionality is unaltered if we place a spherical mirror at @xmath159 .",
    "one of the main properties of maxwell s fish - eye is that it focuses the rays emanating from a point source located at any arbitrary point @xmath160 within the sphere to the point @xmath161  @xcite .",
    "of course , this is not valid for points outside the spherical mirror . according to equations  -",
    ", we can implement the metric given by equation   by using a medium with the following properties ( @xmath162 )    @xmath163    we have verified the functionality of the acoustic maxwell s fish - eye through 3d numerical calculations as shown in fig .",
    "[ fig : fisheye3d ] , where we can observe its focusing properties .",
    "m and @xmath164 m. the structure is surrounded by a hard boundary condition ( wall ) that acts as a mirror .",
    "a point source emits a gaussian pulse ( in the time domain ) at a certain point within the spherical structure ( @xmath160 ) .",
    "we keep track of this wave at different instants to verify the focusing effect . in the figure ,",
    "we depict the acoustic pressure over a spherical cross - section passing through its center at ( b ) @xmath165 = 3 ms , when the pulse has just been launched , ( c ) @xmath165 = 28 ms , and ( d ) @xmath165 = 47 ms , when the pulse gets focused at @xmath161 .",
    "note that , although we only show a 2d plane here , the focusing effect occurs in 3d . ]",
    "being a 3d device , the properties required to implement maxwell s fish - eye derived from the ata approach could be easier to achieve than those derived from the sta approach , as has been discussed above ( see fig .",
    "[ fig : fisheye_properties ] ) .          to verify the possibility of working with moving media provided by our new approach",
    ", we will use the previous example of the carpet cloak , but considering a non - zero background velocity parallel to the wall .",
    "for instance , let us take @xmath166 m / s .",
    "if we use the values of @xmath41 and @xmath42 calculated for the carpet cloak in the previous section and keep this value of @xmath40 , the wave is distorted into an undesired wave ( see fig .  [",
    "fig : aeroacousticcarpetcloak ] ) .",
    "however , if we force a background velocity given by equation   such that @xmath167 the wave is distorted in the desired way ( remains unchanged outside the cloak ) .          in this example",
    "we simulate the transformation of section  [ ss : dynamic_contraction ] in the ray acoustics approximation ( for which only the sound speed and background velocity are relevant ) .",
    "the transformation is performed only inside a 3d box , which we call the time - dependent spatial compressor .",
    "the employed function @xmath52 is shown in fig . 2 of the main text .",
    "when @xmath168 , the transformation is discontinuous at the boundaries of the compressor , so the ray must enter and exit the compressor when @xmath55 in order to avoid reflections .    in fig .",
    "[ fig : spacetime_compressor ] we depict the simulated trajectories followed by two different rays .",
    "after ray 1 has just entered the box , the compression starts .",
    "it reaches a value of @xmath169 , which is kept during a short time interval , and finally returns to no compression ( @xmath55 ) before ray 1 exits the box . ray 2 feels no compression since @xmath55 during the time it goes through the box .",
    "thus , ray 2 is a straight line .",
    "m. the positions @xmath170 and @xmath171 of the first and second acoustic rays at different instants are shown .",
    "when the compression starts ( @xmath172 ms ) , ray 1 has just entered the compressor .",
    "when the compression finishes ( @xmath173 ms ) , ray 1 is about to exit the box and ray 2 is about to enter . ]",
    "we can use this compressor , for instance , to select which rays are trapped by an omnidirectional absorber placed inside the box ( see fig . 2 in the main text ) .",
    "we take this absorber to be the one described in  @xcite , which is characterized by an acoustic refractive index @xmath174 where @xmath175 is the radius of the absorber and @xmath176 is the refractive index of the medium surrounding the absorber . in our particular implementation , we take @xmath177 m and @xmath178 , which is the effective refractive index of the compressor for maximum compression ( @xmath179 is the index of the background fluid )",
    ".    99 pendry , j. b. , schurig , d. & smith , d. r. controlling electromagnetic fields . _ science _ * 312 * , 17801782 ( 2006 ) .",
    "leonhardt , u. optical conformal mapping .",
    "_ science _ * 312 * , 17771780 ( 2006 ) .",
    "schurig , d. _ et al .",
    "_ metamaterial electromagnetic cloak at microwave frequencies .",
    "_ science _ * 314 * , 977980 ( 2006 ) .",
    "shalaev , v. m. transforming light .",
    "_ science _ * 322 * , 384386 ( 2008 ) .",
    "greenleaf , a. , kurylev , y. , lassas , m. & uhlmann , g. invisibility and inverse problems .",
    "_ * 46 * , 5597 ( 2009 ) .",
    "genov , d. a. , zhang , s. & zhang , x. mimicking celestial mechanics in metamaterials .",
    "phys . _ * 5 * , 687692 ( 2009 ) .",
    "chen , h. , chan , c. t. & sheng , p. transformation optics and metamaterials .",
    "mater . _ * 9 * , 387396 ( 2010 ) .",
    "leonhardt , u. & philbin , t. _ geometry and light .",
    "the science of invisibility _",
    "( dover publications , 2010 ) .",
    "pendry , j. b. , aubry , a. , smith , d. r. & maier , s. a. transformation optics and subwavelength control of light .",
    "_ science _ * 337 * , 549 ( 2012 ) .",
    "post , e. g. _ formal structure of electromagnetics : general covariance and electromagnetics _ ( interscience publishers , new york , 1962 ) .",
    "cummer , s. a. & schurig , d. one path to acoustic cloaking .",
    "_ new j. phys . _ * 9 * , 45 ( 2007 ) .",
    "chen , h. & chan , c. t. acoustic cloaking in three dimensions using acoustic metamaterials .",
    "_ * 91 * , 183518 ( 2007 ) .",
    "norris , a. n. acoustic metafluids .",
    "_ j. acoust .",
    "* 125 * , 839 ( 2009 ) .",
    "chen , h. and chan , c. t. acoustic cloaking and transformation acoustics .",
    "_ j. phys .",
    "* 43 * , 113001 ( 2010 ) .",
    "zhang , s. , genov , d. a. , sun , c. & zhang , x. cloaking of matter waves .",
    "lett . _ * 100 * , 123002 ( 2008 ) .",
    "mccall , m. w. , favaro , a. , kinsler , p. & boardman , a. a spacetime cloak , or a history editor . _ j. opt .",
    "_ * 13 * , 024003 ( 2011 ) .",
    "fridman , m. , farsi , a. , okawachi , y. & gaeta , a. l. demonstration of temporal cloaking",
    ". _ nature _ * 481 * , 6265 ( 2012 ) .",
    "cummer , s. a. & thompson , r. t. frequency conversion by exploiting time in transformation optics .",
    "_ j. opt . _ * 13 * , 024007 ( 2011 ) .",
    "barcel , c. , liberati , s. & visser , m. analogue gravity .",
    "_ living rev",
    ". relativity _ * 14 * , 3 ( 2011 ) .",
    "bergmann , p. g. the wave equation in a medium with a variable index of refraction .",
    "_ j. acoust .",
    "* 17 * , 329 ( 1946 ) .",
    "torrent , d. , hkansson , a. , cervera , f. & snchez - dehesa , j. homogenization of two - dimensional clusters of rigid rods in air .",
    "lett . _ * 96 * , 204302 ( 2006 ) .",
    "torrent , d. & snchez - dehesa , j. effective parameters of clusters of cylinders embedded in a nonviscous fluid or gas .",
    "_ phys . rev .",
    "b _ * 74 * , 224305 ( 2006 ) . unruh , w. g. experimental black hole evaporation ?",
    "lett . _ * 46 * , 1351 ( 1981 ) .",
    "visser , m. acoustic black holes : horizons , ergospheres , and hawking radiation .",
    "_ class .",
    "grav . _ * 15 * , 1767 ( 1998 ) .",
    "li , j. & pendry , j. b. hiding under the carpet : a new strategy for cloaking . _ phys . rev . lett . _ * 101 * , 203901 ( 2008 ) .",
    "popa , b. i. , zigoneanu , l. & cummer , s. a. experimental acoustic ground cloak in air .",
    "lett . _ * 106 * , 253901 ( 2011 ) .",
    "garay , l. j. , anglin , j. r. , cirac j. i. & zoller , p. black holes in bose - einstein condensates .",
    "lett . _ * 85 * , 4643 ( 2000 ) .",
    "lahav , o. , itah , a. , blumkin , a. , gordon , c. & steinhauer , j. realization of a sonic black hole analogue in a bose - einstein condensate .",
    "lett . _ * 105 * , 240401 ( 2010 ) .",
    "castro neto , a. h. , guinea , f. , peres , n. m. r. , novoselov , k. s. & geim , a. k. the electronic properties of graphene .",
    "phys . _ * 81 * , 109 ( 2009 ) .",
    "cortijo , a. & vozmediano , m. a. h. electronic properties of curved graphene sheets .",
    "_ europhys .",
    "lett . _ * 77 * , 47002 ( 2007 ) .",
    "vakil , a. & engheta , n. transformation optics using graphene .",
    "_ science _ * 332 * , 1291 ( 2011 ) .",
    "unruh , w. g. experimental black hole evaporation ?",
    "_ phys .  rev .",
    "lett . _ * 46 * , 1351 ( 1981 ) .",
    "visser , m. acoustic black holes : horizons , ergospheres , and hawking radiation .",
    "_ class .",
    "grav . _ * 15 * , 1767 ( 1998 ) .",
    "barcel , c. , liberati , s. & visser , m. analogue gravity .",
    "_ living rev",
    ". relativity _",
    "* 14 * , 3 ( 2011 ) .",
    "torrent , d. & snchez - dehesa , j. sound scattering by anisotropic metafluids based on two - dimensional sonic crystals . _ phys . rev .",
    "b _ * 79 * , 174104 ( 2009 ) . torrent , d. , hkansson , a. , cervera , f. & snchez - dehesa , j. homogenization of two - dimensional clusters of rigid rods in air .",
    "lett . _ * 96 * , 204302 ( 2006 ) .",
    "torrent , d. & snchez - dehesa , j. effective parameters of clusters of cylinders embedded in a nonviscous fluid or gas .",
    "b _ * 74 * , 224305 ( 2006 ) .",
    "li , j. & pendry , j. b. hiding under the carpet : a new strategy for cloaking . _ phys .",
    "lett . _ * 101 * , 203901 ( 2008 ) .",
    "popa , b. i. , zigoneanu , l. & cummer , s. a. experimental acoustic ground cloak in air .",
    "lett . _ * 106 * , 253901 ( 2011 ) .",
    "chang , z. , zhou , x. , hu , j. & hu , g. design method for quasi - isotropic transformation materials based on inverse laplace s equation with sliding boundaries . _",
    "express _ * 18 * , 6089 - 6096 ( 2010 ) .",
    "leonhardt , u. & philbin , t. _ geometry and light .",
    "the science of invisibility _",
    "( dover publications , 2010 ) .",
    "leonhardt , u. & philbin , t. g. perfect imaging with positive refraction in three dimensions , _ phys .",
    "a _ * 81 * , 011804(r ) ( 2010 ) .",
    "climente , a. , torrent , d. & snchez - dehesa , j. omnidirectional broadband acoustic absorber based on metamaterials .",
    "lett . _ * 100 * , 144103 ( 2012 ) .",
    "this work was developed under the framework of the ariadna contract 4000104572/11/nl / kml of the european space agency .",
    "a.  m. and j.  s .- d . also acknowledge support from consolider emet project ( csd2008 - 00066 ) , a.  m. from project tec2011 - 28664-c02 - 02 , and c.  b. and g.  j. from the project fis2008 - 06078-c03 - 01 .",
    "we thank reme miralles for her help with fig .  [",
    "fig : figure_2 ] .",
    "s. c. proposed to explore the combination of transformation acoustics and analogue gravity . c. g .-",
    "m . devised the final method , developed the main theory , and performed the simulations .",
    "c. b. , g. j. , and s. c. contributed in several important theoretical aspects of this work . c. g .-",
    "j. s .- d . analyzed the implementation advantages of the proposed method .",
    "a. m. assisted with the simulations .",
    "all authors participated in the manuscript preparation and discussed the results .",
    "s. c. and a. m. coordinated the work ."
  ],
  "abstract_text": [
    "<S> transformation optics has shaped up a revolutionary electromagnetic design paradigm , enabling scientists to build astonishing devices such as invisibility cloaks . </S>",
    "<S> unfortunately , the application of transformation techniques to other branches of physics is often constrained by the structure of the field equations . </S>",
    "<S> we develop here a complete transformation method using the idea of analogue spacetimes . </S>",
    "<S> the method is general and could be considered as a new paradigm for controlling waves in different branches of physics , from acoustics in quantum fluids to graphene electronics . as an application </S>",
    "<S> , we derive an `` analogue transformation acoustics '' formalism that naturally allows the use of transformations mixing space and time or involving moving fluids , both of which were impossible with the standard approach . </S>",
    "<S> to demonstrate the power of our method , we give an explicit design of a spacetime compressor for acoustic waves and a carpet cloak for a moving aircraft . </S>"
  ]
}