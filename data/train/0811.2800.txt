{
  "article_text": [
    "in this paper we explore a connection between the poincar rotation number of a circle map @xmath3 and the behavior of a discrete dynamical system known variously as _ parallel chip - firing _ @xcite or the ( deterministic ) _ fixed energy sandpile _ @xcite .",
    "we use this connection to shed light on two intriguing features of parallel chip - firing , _ mode locking _ and _ short period attractors_. ever since bagnoli , cecconi , flammini , and vespignani @xcite found evidence of mode locking and short period attractors in numerical experiments in 2003 , these two phenomena have called out for a mathematical explanation . in",
    "parallel chip - firing on the complete graph @xmath0 , each vertex @xmath4=\\{1,\\ldots , n\\}$ ] starts with a pile of @xmath5 chips .",
    "a vertex with @xmath1 or more chips is _",
    "unstable _ , and can _ fire _ by sending one chip to each vertex of @xmath0 ( including one chip to itself ) .",
    "the _ parallel update _",
    "rule fires all unstable vertices simultaneously , yielding a new chip configuration @xmath6 given by @xmath7 here @xmath8 is the number of unstable vertices .",
    "write @xmath9 , and @xmath10 for @xmath11 .",
    "note that the total number of chips in the system is conserved .",
    "in particular , only finitely many different states are reachable from the initial configuration @xmath12 , so the sequence @xmath13 is eventually periodic : there exist integers @xmath14 and @xmath15 such that @xmath16    the _ activity _ of @xmath12 is the limit @xmath17 where @xmath18 is the total number of firings performed in the first @xmath19 updates . by ( [ eventuallyperiodic ] ) , the limit in ( [ theactivity ] ) exists and equals @xmath20 for any @xmath21 . since @xmath22 , we have @xmath23 .",
    "+   +    following @xcite , we ask : how does the activity change when chips are added to the system ?",
    "if @xmath24 is a chip configuration on @xmath0 , write @xmath25 for the configuration obtained from @xmath24 by adding @xmath26 chips at each vertex .",
    "the function @xmath27 is called the _",
    "activity phase diagram _ of  @xmath24 .",
    "surprisingly , for many choices of @xmath24 , the function @xmath28 looks like a staircase , with long intervals of constancy punctuated by sudden jumps ( figure  [ slope2staircases ] ) . this phenomenon is known as _",
    "mode locking _ : if the system is in a preferred mode , corresponding to a wide stair in the staircase , then even a relatively large perturbation in the form of adding extra chips will not change the activity . for a general discussion of mode locking ,",
    "see @xcite .    to quantify the idea of mode locking in our setting ,",
    "suppose we are given an infinite family of chip configurations @xmath29 with @xmath24 defined on @xmath0 .",
    "suppose that @xmath30 for all @xmath4 $ ] , and that for all @xmath31 @xmath32 \\,|\\ , \\sigma_n(v ) < nx\\ } \\to f(x ) \\qquad \\mbox{as } n\\to \\infty\\ ] ] for a continuous function @xmath33 \\to [ 0,1]$ ] . then according to theorem  [ mainconvergence ] , the activity phase diagrams @xmath28 , suitably rescaled , converge pointwise to a continuous , nondecreasing function @xmath34 \\to [ 0,1]$ ] .",
    "moreover , under a mild additional hypothesis , proposition  [ devilsstaircase ] says that this limiting function @xmath35 is a _",
    "devil s staircase _",
    ": it is locally constant on an open dense subset of @xmath36 $ ] . for each rational number",
    "@xmath37 $ ] there is a stair of height @xmath38 , that is , an interval of positive length on which @xmath35 is constant and equal to @xmath38 .",
    "related to mode locking , a second feature observed in simulations of parallel chip - firing is non - ergodicity : in trials performed with random initial configurations on the @xmath39 torus , the activity observed in individual trials differs markedly from the average activity observed over many trials @xcite .",
    "the experiments of @xcite suggested a reason : the chip - firing states in locked modes , corresponding to stairs of the devil s staircase , tend to be periodic with very small period . we study these _ short period attractors _ in theorem  [ lotsofsmallperiods ] . under the same hypotheses that yield a devil s staircase in propositon  [ devilsstaircase ] , for each @xmath40 , at least a constant fraction @xmath41 of the states @xmath42 have eventual period  @xmath43 .    to illustrate these results , consider the chip configuration @xmath24 on @xmath0 defined by @xmath44 here @xmath45 denotes the greatest integer @xmath46 .",
    "this family of chip configurations satisfies ( [ converginghistogramsintro ] ) with @xmath47 the activity phase diagrams of @xmath24 for @xmath48 are graphed in figure  [ slope2staircases ] . for example , when @xmath49 we have @xmath50 and when @xmath51 , we have    @xmath52(0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 1/6 , 1/5 , 1/5 , 1/4 , 1/4 , 1/4 , 2/7 , 1/3 , 1/3 , 1/3 , 1/3 , 1/3 , 1/3 , 1/3 , 2/5 , 2/5 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 1/2 , 3/5 , 3/5 , 2/3 , 2/3 , 2/3 , 2/3 , 2/3 , 2/3 , 2/3 , 5/7 , 3/4 , 3/4 , 3/4 , 4/5 , 4/5 , 5/6 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 ) . + as @xmath1 grows , the denominators of these rational numbers grow remarkably slowly : the largest denominator is  @xmath53 for @xmath54 , and  @xmath55 for @xmath56 . moreover ,",
    "for any fixed @xmath1 the very smallest denominators occur with greatest frequency .",
    "for example , when @xmath56 , there are @xmath57 values of @xmath26 for which @xmath58 , and @xmath59 values of @xmath26 for which @xmath60 ; but for each @xmath61 there is just one value of @xmath26 for which @xmath62 .",
    "in lemma  [ denominatorofactivity ] , we relate these denominators to the periodicity : if @xmath63 in lowest terms , then @xmath12 has eventual period @xmath43 .",
    "the remainder of the paper is organized as follows . in section  [ sec : circlemap ] we show how to construct , given a chip configuration  @xmath12 on  @xmath0 , a circle map @xmath64 whose rotation number equals the activity of  @xmath12 .",
    "this construction resembles the one - dimensional particle / barrier model of  @xcite . in section  [ sec : staircase ] we use the circle map to prove our main results on mode locking , theorem  [ mainconvergence ] and proposition  [ devilsstaircase ] .",
    "short period attractors are studied in section  [ sec : shortperiodattractors ] , where we show that all states on @xmath0 have eventual period at most @xmath1 ( proposition  [ distinctheights ] ) .",
    "finally , in theorem  [ period2window ] , we find a small `` window '' in which all states have eventual period two . in parallel chip - firing on a general graph ,",
    "a vertex is unstable if it has at least as many chips as its degree , and fires by sending one chip to each neighbor ; at each time step , all unstable vertices fire simultaneously .",
    "many questions remain concerning parallel chip - firing on graphs other than @xmath0 .",
    "if the underlying graph is a tree @xcite or a cycle @xcite , then instead of a devil s staircase of infinitely many preferred modes , there are just three : activity @xmath65 , @xmath66 and @xmath67 . on the other hand , the numerical experiments of @xcite for parallel chip - firing on the @xmath68 torus suggest a devil s staircase in the large  @xmath1 limit .",
    "our arguments rely quite strongly on the structure of the complete graph , whereas the mode locking phenomenon seems to be widespread",
    ". it would be very interesting to relate parallel chip - firing on other graphs to iteration of a circle map ( or perhaps a map on a higher - dimensional manifold ) in order to explain the ubiquity of mode locking .",
    "we first introduce a framework of generalized chip configurations , which will encompass chip configurations on @xmath0 for all @xmath1 .",
    "to each generalized chip configuration we associate a probability measure on the interval @xmath69 , and to each such measure we associate a circle map @xmath3 .",
    "we will define an update rule @xmath70 describing the dynamics on each of these objects , so that the following diagram commutes .",
    "@xmath71   + write @xmath72 for lebesgue measure on @xmath36 $ ] . a _ generalized chip configuration _ is a measurable function @xmath73 \\to [ 0,\\infty).\\ ] ] let @xmath74 and define the update rule @xmath75 if @xmath12 is a chip configuration on @xmath0 , we define its associated generalized chip configuration @xmath76 by @xmath77 where @xmath78 denotes the least integer @xmath79 .",
    "our first lemma checks that the top square of ( [ thediagram ] ) commutes .    [ intertwining ] @xmath80 .",
    "let @xmath12 be a chip configuration on @xmath0 , and write @xmath81 . for @xmath82 $ ] , if @xmath83 , then @xmath84 for all @xmath85 $ ] .",
    "conversely , if @xmath86 , then @xmath87 for all @xmath85 $ ] .",
    "hence @xmath88 .",
    "fix @xmath89 $ ] and let @xmath90 .",
    "then @xmath91    we remark that lemma  [ intertwining ] would hold also if we defined @xmath92 using the piecewise constant interpolation @xmath93 .",
    "we have chosen the piecewise linear interpolation  ( [ piecewiselinear ] ) because it is better suited to our construction of the circle map , below : the circle map associated to the piecewise linear interpolation will always be continuous .",
    "next we observe a simple consequence of the update rule ( [ generalizedparallelupdate ] ) , which will allow us to focus on a subset of generalized chip configurations which we call `` confined . ''",
    "[ confinedrange ] let @xmath94 be a generalized chip configuration , and let @xmath89 $ ] .",
    "if  @xmath95 , then @xmath96    the first inequality is immediate from the definition of @xmath97 . for the second inequality , if @xmath98 , then @xmath99 while if @xmath100 , then @xmath101    a generalized chip configuration @xmath94 is _ preconfined _ if it satisfies    1 .",
    "@xmath102 for all @xmath103 $ ] .",
    "if , in addition , there exists @xmath104 $ ] such that    1 .",
    "@xmath105 for all @xmath89 $ ]    then @xmath94 is _",
    "confined_.    by lemma  [ confinedrange ] , if @xmath94 is preconfined , then @xmath97 is confined .",
    "note that from ( [ parallelupdaterule ] ) @xmath106 iterating yields the congruence @xmath107 where @xmath108    next we find a recurrence for the sequence @xmath109 .",
    "we start with the following lemma .",
    "[ whichsitesareunstable ] if @xmath110 is preconfined , then @xmath111 if and only if @xmath112.\\ ] ]    by lemma  [ confinedrange ] , since @xmath110 is preconfined , we have @xmath113 for all @xmath89 $ ] , where @xmath114 .",
    "thus @xmath115 if and only if @xmath116 by ( [ iteratedcongruence ] ) , this condition is equivalent to @xmath117 using the fact that @xmath118 , this in turn is equivalent to @xmath119 .",
    "\\qed\\ ] ]    the essential information in a generalized chip configuration @xmath94 is contained in the associated probability measure @xmath120 on @xmath121 given by @xmath122 for borel sets @xmath123 .",
    "if @xmath94 arises from a chip configuration @xmath12 on @xmath0 , then @xmath124)$ ] is the proportion of vertices that have between @xmath125 and @xmath126 chips . for  @xmath127 ,",
    "write @xmath128 for the translated measure @xmath129 . for  @xmath130 ,",
    "write @xmath131 for the restricted measure @xmath132",
    ". then the update rule ( [ generalizedparallelupdate ] ) takes the form @xmath133 now consider the measure @xmath134 on @xmath135 given by @xmath136 by lemma  [ whichsitesareunstable ] , if @xmath110 is preconfined , then @xmath137 ) =   \\nu(\\beta_t,\\beta_{t+1}],\\ ] ] hence @xmath138.\\ ] ] this gives a recurrence relating three consecutive terms of the sequence  @xmath109 .",
    "our next lemma simplifies this recurrence to one relating just two consecutive terms .",
    "[ twotermrecurrence ] if @xmath94 is preconfined , then for all @xmath139 @xmath140 where @xmath141 is given by @xmath142\\ ] ] and @xmath134 is given by ( [ thisisnu ] ) .    by lemma  [ confinedrange ]",
    ", @xmath110 is preconfined for all @xmath143 , so from ( [ thethreetermrecurrence ] ) , @xmath144 \\\\          & = \\nu(0,\\beta_t ] .      \\end{aligned}\\ ] ] hence @xmath145 .",
    "the function @xmath146 appearing in lemma  [ twotermrecurrence ] satisfies @xmath147 \\\\ & = f(y ) + 1 \\end{aligned}\\ ] ] for all @xmath148 .",
    "thus it has a unique extension to a function @xmath149 satisfying @xmath150 for all @xmath151 .",
    "note that @xmath146 is nondecreasing .",
    "if it is also continuous , then it has a well - defined _ poincar rotation number _",
    "@xcite @xmath152 which does not depend on @xmath153 . here",
    "@xmath154 denotes the @xmath19-fold iterate @xmath155 , with @xmath156 .    viewing the circle @xmath2 as @xmath157 , the map @xmath146 descends to a circle map @xmath158 .",
    "the rotation number @xmath159 measures the asymptotic rate at which the sequence @xmath160 winds around the circle .",
    "we define the _ activity _ of a generalized chip configuration @xmath94 as the limit @xmath161 from lemma  [ twotermrecurrence ] we see that if @xmath94 is preconfined and @xmath146 is continuous , then this limit exists and equals the rotation number of @xmath146 .",
    "[ theiterates ] if @xmath94 is preconfined , then @xmath162 for all @xmath139 .",
    "[ activityequalsrotationnumber ] if @xmath94 is preconfined and @xmath146 is continuous , then @xmath163 .",
    "the conditions that @xmath94 is preconfined and @xmath146 is continuous are most succinctly expressed in terms of the associated probability measure : @xmath120 is supported on @xmath69 and is _ non - atomic _ , that is , @xmath164 for all @xmath165 .    to complete the commutative diagram ( [ thediagram ] ) , it remains to describe the dynamics @xmath70 on lifts of circle maps .",
    "call a map @xmath166 a _ monotone degree one lift",
    "_ if @xmath146 is continuous , nondecreasing and satisfies @xmath167 for all @xmath151 .",
    "let @xmath168 be the set of monotone degree - one lifts @xmath149 , equipped with the @xmath169 topology .",
    "we define the update rule @xmath170 by @xmath171 where for @xmath151 , we write @xmath172 for the translation @xmath173 .",
    "let  @xmath174 be the space of non - atomic probability measures @xmath120 on the interval  @xmath69 , equipped with the topology of weak-@xmath175 convergence : @xmath176 if and only if @xmath177 for all @xmath178 . for @xmath179",
    ", define @xmath180 by @xmath181\\ ] ] where if @xmath182 we define @xmath183:=-\\mu[b , a)$ ] .",
    "[ thebottomsquare ] if @xmath179 , then @xmath184 .",
    "the map @xmath185 is continuous and preserves the dynamics : @xmath186 .",
    "@xmath187 is clearly nondecreasing in @xmath153 , and since @xmath120 is non - atomic , @xmath187 is continuous .",
    "moreover , for any @xmath151 , @xmath188 = \\mu(\\r)=1\\ ] ] so @xmath184 .    if @xmath189 and @xmath190 , then the cumulative distribution functions @xmath191 converge pointwise to @xmath192 . since @xmath193 and @xmath194 are continuous and nondecreasing , this convergence is uniform in  @xmath153 .",
    "since @xmath195 and @xmath120 are supported on the interval @xmath69 , we have for @xmath196 $ ] @xmath197 + \\mu_n(2-y,2 ] \\\\                          &",
    "= 2f_n(2 ) - f_n(1-y ) - f_n(2-y ) .",
    "\\end{aligned}\\ ] ] the right side converges uniformly in @xmath153 to @xmath198 .",
    "since @xmath199 and @xmath187 are degree one lifts , we have @xmath200 } | \\phi(\\mu_n)(y ) - \\phi(\\mu)(y ) | \\to 0\\ ] ] as @xmath201 , which shows that @xmath202 is continuous .",
    "let @xmath203 . then @xmath204 .",
    "\\end{aligned}\\ ] ] write @xmath205 , where @xmath206 and @xmath207 . by ( [ measureparallelupdate ] ) , we have @xmath208 hence @xmath209 \\end{aligned}\\ ] ] where in the last line we have used that @xmath120 is non - atomic and supported on @xmath69 .",
    "moreover @xmath210 & =           \\sum_{m \\in \\z } \\mu_0(m - y-\\beta , m-\\beta ] \\,+ \\\\           & \\qquad\\qquad    + \\sum_{m\\in \\z } \\mu_1(m - y+1-\\beta , m+1-\\beta ]   \\\\                      & = \\sum_{m \\in \\z } \\mu(m - y-\\beta , m-\\beta ] .",
    "\\end{aligned}\\ ] ] we conclude that @xmath211 \\\\                      & = \\sum_{m \\in \\z } \\mu(m - y-\\beta , m ] \\end{aligned}\\ ] ] so @xmath212 .",
    "one naturally wonders how to generalize the construction described in this section to chip - firing on graphs other than @xmath0 .",
    "a key step may involve identifying invariants of the dynamics .",
    "on @xmath0 , these invariants take a very simple form : by ( [ iteratedcongruence ] ) , for any two vertices @xmath213 $ ] , the difference @xmath214 does not depend on @xmath19 .",
    "analogous invariants for parallel chip - firing on the @xmath68 torus are classified in @xcite , following the approach of @xcite .",
    "let @xmath215 be monotone degree one lifts ( [ degreeonelift ] ) , and denote by @xmath216 the corresponding circle maps @xmath3 . write @xmath217 if @xmath218 for all @xmath219 , and @xmath220 if @xmath221 for all @xmath219 .",
    "we will make use of the following well - known properties of the rotation number .",
    "for their proofs , see , for example @xcite .    * * monotonicity*. if @xmath217 , then @xmath222 . * * continuity*. if @xmath223 , then @xmath224 . * * conjugation invariance*. if @xmath225 is a homeomorphism , then @xmath226 .",
    "* * instability of an irrational rotation number*. if @xmath227 , and @xmath228 , then @xmath229 .",
    "* * stability of a rational rotation number*. if @xmath230 , and @xmath231 , then for sufficiently small @xmath232 , either @xmath233 or @xmath234    let @xmath29 be a sequence of chip configurations , with @xmath24 defined on  @xmath0 .",
    "suppose @xmath24 is stable , i.e. , @xmath235 for all @xmath4 $ ] .",
    "moreover , suppose that there is a continuous function @xmath33 \\to [ 0,1]$ ] , such that for all @xmath31 @xmath236 \\,|\\ , \\sigma_n(v ) < nx\\ } \\to f(x)\\ ] ] as @xmath201 .",
    "since the left side is nondecreasing in @xmath237 , this convergence is uniform in @xmath237 .",
    "we define @xmath238 by @xmath239 note that ( [ stability ] ) and ( [ converginghistograms ] ) force @xmath240 and @xmath241 ; by compactness , @xmath194 is uniformly continuous on @xmath36 $ ] , and hence @xmath242 is uniformly continuous on @xmath135 .    [ cols=\"^,^,^ \" , ]     the _ rescaled activity phase diagram _ of @xmath24 is the function @xmath243 \\to [ 0,1]$ ] defined by @xmath244 as @xmath245 , the @xmath246 have a pointwise limit identified in our next result .",
    "[ mainconvergence ] if ( [ stability ] ) and ( [ converginghistograms ] ) hold , then for each @xmath247 $ ] we have @xmath248 as @xmath201 , where @xmath242 is given by ( [ extensiontor ] ) , and @xmath249 .    in proposition  [ devilsstaircase ] ,",
    "below , we show that under an additional mild hypothesis , the limiting function @xmath250 is a devil s staircase .",
    "examples of these staircases for different choices of @xmath194 are shown in figure  [ samplestaircases ] .    to prepare for the proof of theorem  [ mainconvergence ] , let @xmath251 be the generalized chip configuration associated to @xmath252 , let @xmath253 be the associated measure on  @xmath69 , and let @xmath254 be the corresponding circle map lift .",
    "[ theuglystuff ] let @xmath247 $ ] . if ( [ stability ] ) and ( [ converginghistograms ] ) hold , then as @xmath201 @xmath255 uniformly in @xmath153 .",
    "the measures @xmath256 are nonatomic , and by ( [ stability ] ) they are supported on  @xmath257 , so for @xmath89 $ ] we have @xmath258 \\\\          & = \\mu_{n,0}[1-y,2-y ) + \\sum_{m \\in \\z } \\mu_{n,0}(m - x , m - y ] \\\\          & = \\mu_{n,0}[1-y,1 ) + \\mu_{n,0}(1-x,1-y ] \\\\          & = \\mu_{n,0}[1-x,1 ) \\\\          & = f_{n,0}(x ) .",
    "\\end{aligned}\\ ] ] since @xmath259 and @xmath260 are degree",
    "one lifts that agree on @xmath261 $ ] , they agree everywhere .    by ( [ converginghistograms ] )",
    "we have @xmath262 , where @xmath124 ) = f(b)-f(a)$ ] .",
    "since @xmath120 is supported on @xmath257 , we have for @xmath89 $ ] @xmath263 = 1 - f(1-x ) = \\phi(x).\\ ] ] since @xmath242 and @xmath187 are degree one lifts that agree on @xmath36 $ ] , they agree everywhere . hence @xmath264 the right side",
    "does not depend on @xmath153 , and tends to zero as @xmath201 by the continuity of @xmath202 ( theorem  [ thebottomsquare ] ) .    by lemma  [ activityequalsrotationnumber ] , lemma  [ theuglystuff ] and the continuity of the rotation number , @xmath265 by the conjugation invariance of the rotation number , @xmath266 , which completes the proof .",
    "write @xmath267 , and let @xmath268 be the corresponding circle map .",
    "we will call a function @xmath34 \\to [ 0,1]$ ] a _",
    "devil s staircase _ if it is continuous , nondecreasing , nonconstant , and locally constant on an open dense set .",
    "next we show that if @xmath269 then the limiting function @xmath250 in theorem  [ mainconvergence ] is a devil s staircase .",
    "[ devilsstaircase ] the function @xmath270 continuous and nondecreasing in @xmath153 .",
    "if @xmath271 $ ] is irrational , then @xmath272 is a point .",
    "moreover , if ( [ notidentity ] ) holds , then for every rational number @xmath37 $ ] the fiber @xmath273 is an interval of positive length .",
    "substantially similar results appear in @xcite ; we include a proof here for the sake of completeness .",
    "the monotonicity of the rotation number implies that @xmath35 is nondecreasing .",
    "since @xmath274 , the continuity of the rotation number implies @xmath35 is continuous .    since @xmath275 for all @xmath276",
    ", we have @xmath277 and @xmath278 . by the intermediate value theorem ,",
    "@xmath279 \\to [ 0,1]$ ] is onto . if @xmath280 is irrational , and @xmath281 , then @xmath282 , hence @xmath283 by the instability of an irrational rotation number .",
    "it follows that @xmath284 .",
    "if @xmath285 , then by the stability of a rational rotation number , since @xmath286 , there exists an interval @xmath287 of positive length ( take either @xmath288 $ ] or @xmath289 $ ] for small enough @xmath290 ) such that @xmath291 for all @xmath292 . hence @xmath293 .    note that if @xmath294 , then @xmath295 , so @xmath296 is nondecreasing in @xmath153 . by the continuity of @xmath35",
    ", it follows that the convergence in theorem  [ mainconvergence ] is uniform in @xmath153 .",
    "our next result shows that in the interiors of the stairs , we in fact have @xmath297 for sufficiently large @xmath1 .",
    "[ strongerconvergence ] suppose that ( [ stability ] ) , ( [ converginghistograms ] ) and ( [ notidentity ] ) hold . if @xmath298 $ ] , then for any @xmath232 @xmath299 \\subset s_n^{-1}(p / q)\\ ] ] for all sufficiently large @xmath1 .",
    "fix @xmath232 . by lemma  [ theuglystuff ] , for sufficiently large @xmath1 we have @xmath300 for all @xmath247 $ ] .",
    "then @xmath301 , so for any @xmath302 we have by the monotonicity and conjugation invariance of the rotation number @xmath303    likewise @xmath304 , hence for any @xmath305 @xmath306",
    "in this section we explore the prevalance of parallel chip - firing states on  @xmath0 with small period .",
    "a chip configuration @xmath12 on @xmath0 is _ preconfined _ if it satisfies    1 .",
    "@xmath307 for all vertices @xmath308 of @xmath0 .",
    "if , in addition , @xmath12 satisfies    1 .",
    "@xmath309    then @xmath12 is _",
    "confined_.    equivalently , @xmath12 is preconfined ( confined ) if and only if the generalized chip configuration @xmath310 is preconfined ( confined ) as defined in section  [ sec : circlemap ] .",
    "recall ( [ eventuallyperiodic ] ) that for any chip configuration  @xmath12 on  @xmath0 , the sequence @xmath13 is eventually periodic . denote its transient length by @xmath311 ; that is @xmath312 we say that `` @xmath308 fires at time @xmath19 '' if @xmath313 .",
    "[ eventuallyconfined ] if @xmath314 , then @xmath315 is confined for all @xmath21 .",
    "if @xmath314 , then at each time step , some vertex does not fire . if a given vertex @xmath308 fires at time @xmath19 , then @xmath316 since @xmath317 for all @xmath19 ,",
    "there is some time time @xmath318 at which @xmath308 does not fire . by lemma  [ confinedrange ]",
    ", we have @xmath319 for all @xmath320 , and @xmath321 is confined for all @xmath322 .    for any @xmath21 we have @xmath323 for infinitely many values of @xmath324 , hence  @xmath325 is confined .    for a chip configuration @xmath12 on @xmath0 and a vertex @xmath82 $ ] ,",
    "let @xmath326 be the number of times @xmath308 fires during the first @xmath19 updates . during these updates",
    ", the vertex @xmath308 emits a total of @xmath327 chips and receives a total of @xmath328 chips , so that @xmath329 an easy consequence that we will use repeatedly is the following .",
    "[ constantodometer ] a chip configuration @xmath12 on @xmath0 satisfies @xmath330 if and only if @xmath331 for all vertices @xmath308 and @xmath332 .",
    "if ( [ eq : constantodometer ] ) holds , then @xmath333 for all @xmath308 , so @xmath334 by ( [ laplacianofodometer ] ) .",
    "conversely , if @xmath330 , then the left side of ( [ laplacianofodometer ] ) vanishes , so @xmath333 for all vertices @xmath308 .",
    "according to our next lemma , if @xmath12 is confined , then @xmath335 and @xmath336 differ by at most one .    [ interlacing ] if @xmath12 is confined , and @xmath337 , then for all @xmath143 @xmath338    induct on @xmath19 . if @xmath339 , then by ( [ laplacianofodometer ] ) @xmath340 thus if @xmath308 fires at time @xmath19 , then @xmath332 must also fire , hence @xmath341 on the other hand , if @xmath342 , then since @xmath12 is confined , we have by ( [ laplacianofodometer ] ) @xmath343 thus if @xmath332 fires at time @xmath19 , then @xmath308 must also fire , so once again ( [ interlacedodometers ] ) holds .",
    "[ divisibilitycriterion ] if @xmath12 is confined , then @xmath330 if and only if @xmath344 .",
    "if @xmath345 , then @xmath346 by lemma  [ constantodometer ] . for the converse , write @xmath347 . by lemma  [ interlacing ] we have @xmath348 for all vertices",
    "if @xmath344 , then since @xmath349 we must have @xmath350 for all @xmath308 , so @xmath351 lemma  [ constantodometer ] .",
    "let @xmath12 be a confined state on @xmath0 . by the pigeonhole principle , there exist times @xmath352 with @xmath353 by lemma  [ divisibilitycriterion ] it follows that @xmath354 , so  @xmath12 has eventual period at most  @xmath1 .",
    "our next result improves this bound a bit .",
    "write @xmath355 for the eventual period of @xmath12 , and @xmath356 \\}\\ ] ] for the number of distinct heights in @xmath12 .",
    "[ distinctheights ] for any chip configuration @xmath12 on @xmath0 , @xmath357    if @xmath358 , then @xmath359 .",
    "since @xmath360 and @xmath361 , by lemma  [ eventuallyconfined ] it suffices to prove the proposition for confined states  @xmath12 .",
    "moreover , by relabeling the vertices we may assume that @xmath362 .",
    "write the total activity @xmath363 as @xmath364 for nonnegative integers @xmath365 and @xmath366 with @xmath367 . by lemma  [ interlacing ] , since @xmath368",
    ", we must have @xmath369 moreover if @xmath370 , then @xmath371 . since the set @xmath372",
    "| \\sigma(v ) >",
    "\\sigma(v+1 ) \\}\\ ] ] has cardinality @xmath373 , by the pigeonhole principle there exist times @xmath374 with @xmath375 .",
    "then @xmath376 independent of @xmath308 , hence @xmath354 by lemma  [ constantodometer ] .",
    "thus @xmath377 .",
    "bitar @xcite conjectured that any parallel chip - firing configuration on a connected graph of  @xmath1 vertices has eventual period at most  @xmath1 .",
    "a counterexample was found by kiwi et al .",
    "anne fey ( personal communication ) has found a counterexample on a regular graph .",
    "proposition  [ distinctheights ] shows that bitar s conjecture holds on the complete graph ; it is also known to hold on trees @xcite and on cycles @xcite .",
    "it would be interesting to find other classes of graphs for which bitar s conjecture holds .",
    "next we relate the period of a chip configuration to its activity .",
    "we will use the fact that the rotation number of a circle map determines the periods of its periodic points : if @xmath149 is a monotone degree one lift ( [ degreeonelift ] ) with @xmath378 in lowest terms , then all periodic points of @xmath379 have period @xmath43 ; see proposition  4.3.8 and exercise  4.3.5 of @xcite .    note that if a chip configuration @xmath12 on @xmath0 is periodic of period @xmath380 , and @xmath63 , then @xmath381 and @xmath382 for all @xmath383 .",
    "[ denominatorofactivity ] if @xmath384 and @xmath385 , then @xmath386 .",
    "since @xmath387 and @xmath388 , we may assume that  @xmath12 is periodic .",
    "now if @xmath358 , then @xmath359 , so we may assume @xmath314 . in particular , @xmath12 is confined by lemma  [ eventuallyconfined ] .",
    "write @xmath389 . by lemma  [ constantodometer ] and ( [ alpham ] ) @xmath390 for all vertices @xmath308 .",
    "hence @xmath391 and hence @xmath392 .",
    "let @xmath146 be the lift of the circle map @xmath393 associated to @xmath12 .",
    "by lemma  [ activityequalsrotationnumber ] we have @xmath394 , so all periodic points of @xmath393 have period  @xmath43 . by lemma  [ theiterates ]",
    "we have @xmath395 so @xmath65 is a periodic point of @xmath393 .",
    "thus @xmath396 .",
    "now by lemma  [ theiterates ] @xmath397 hence @xmath398 by lemma  [ divisibilitycriterion ] .",
    "thus @xmath399 .    given @xmath400 with @xmath385 and @xmath401",
    ", one can check that the chip configuration @xmath12 on @xmath0 given by @xmath402 has activity @xmath63 . for a similar construction on more general graphs in the case @xmath403 , see ( * ? ? ?",
    "6.8 ) . by lemma  [ denominatorofactivity ] , @xmath386 .",
    "so for every integer @xmath404 there exists a chip configuration on @xmath0 of period @xmath43 .    despite the existence of states of period as large as @xmath1 , states of smaller period are in some sense more prevalent .",
    "one way to capture this is the following .",
    "[ lotsofsmallperiods ] if @xmath405 is a sequence of chip configurations satisfying ( [ stability ] ) , ( [ converginghistograms ] ) and ( [ notidentity ] ) , then for each @xmath40 there is a constant @xmath406 such that for all sufficiently large @xmath1 , at least @xmath407 of the states @xmath408 have eventual period @xmath43 .",
    "fix @xmath232 , and choose @xmath409 with @xmath385 .",
    "by proposition  [ devilsstaircase ] we have @xmath410 $ ] for some @xmath411 . by proposition  [ strongerconvergence ] , for sufficiently large @xmath1 we have @xmath412 for all @xmath413 $ ] .",
    "thus all states @xmath25 with @xmath414 have activity @xmath38 and hence , by lemma  [ denominatorofactivity ] , eventual period @xmath43 .",
    "we can therefore take @xmath415 for any @xmath232 .",
    "the rest of this section is devoted to proving the existence of a _ period  @xmath416 window _ : any chip configuration on @xmath0 with total number of chips strictly between @xmath417 and @xmath418 has eventual period  @xmath416 .",
    "the following lemma is a special case of ( * ? ? ?",
    "6.2 ) ; we include a proof for completeness .",
    "write @xmath419 for the number of unstable vertices in @xmath12 .",
    "[ reflectionsymmetry ] if @xmath12 and @xmath420 are chip configurations on @xmath0 with @xmath421 for all @xmath308 , then @xmath422 .    if @xmath421 for all @xmath308 , then for each vertex @xmath308 , exactly one of @xmath423 is @xmath424 .",
    "hence @xmath425 , and @xmath426 for all vertices @xmath308 .",
    "inducting on @xmath19 , we obtain @xmath427 for all @xmath139 , and hence @xmath422 by ( [ theactivity ] ) .    given a chip configuration @xmath12 on @xmath0 , for @xmath428",
    "we define _ conjugate _",
    "configurations @xmath429 note that @xmath430 .",
    "let @xmath12 be a chip configuration on @xmath0 , and fix @xmath431 $ ] .",
    "for all  @xmath143 , we have for @xmath432 @xmath433 while for @xmath434 @xmath435    induct on @xmath19 . by ( [ laplacianofodometer ] )",
    "@xmath436 where @xmath437 by the inductive hypothesis , @xmath438    fix a vertex @xmath308 , and write @xmath439 by the inductive hypothesis we have @xmath440 . from ( [ morelaplacian ] )",
    "we have @xmath441 case 1 : @xmath442 and @xmath443 . by ( [ activitybounds ] ) ,",
    "the right side of ( [ heightdifference ] ) is @xmath444 , so if @xmath308 is unstable in @xmath315 , then it is also unstable in @xmath445",
    ". thus @xmath446 completing the inductive step .",
    "case 2 : @xmath442 and @xmath447 . by ( [ activitybounds ] ) , the right side of ( [ heightdifference ] ) is @xmath448 , so if  @xmath308 is unstable in @xmath445 , then it is also unstable in @xmath315 . thus once again ( [ smallerodometer ] ) holds .",
    "case 3 : @xmath449 and @xmath447 . by ( [ activitybounds ] ) , the right side of ( [ heightdifference ] ) is @xmath444 , so @xmath450 completing the inductive step .",
    "case 4 : @xmath449 and @xmath451 . by ( [ activitybounds ] ) ,",
    "the right side of ( [ heightdifference ] ) is @xmath448 , so once again ( [ biggerodometer ] ) holds .",
    "[ conjugateactivities ] for any chip configuration @xmath12 on @xmath0 and any @xmath431 $ ] , @xmath452    it turns out that the circle maps corresponding to @xmath12 and @xmath453 are conjugate to one another by a rotation .",
    "this gives an alternative proof of the corollary , in the case when both @xmath12 and @xmath453 are preconfined .",
    "[ icantbelievethisdoesntfollowfromsomethingwealreadyproved ] let @xmath12 be a chip configuration on @xmath0 .",
    "if @xmath454 for all @xmath308 , then @xmath455 for all @xmath308 and all @xmath11 .",
    "induct on @xmath19 . by the inductive hypothesis , @xmath456 .",
    "fix a vertex  @xmath308 , and suppose that @xmath457 . since @xmath458 , either @xmath83 or @xmath459 . in the former case , by ( [ laplacianofodometer ] )",
    "@xmath460 so @xmath308 fires at time @xmath461 .",
    "hence @xmath462 .",
    "summing over @xmath308 yields @xmath463    in the latter case , if @xmath308 does not fire at time @xmath461 , we have by ( [ laplacianofodometer ] ) @xmath464 so @xmath308 fires at time @xmath465 .",
    "hence @xmath466 for all @xmath308 .",
    "given a chip configuration @xmath12 on @xmath0 , write @xmath467 and @xmath468 : \\sigma(v ) \\geq n\\}.\\ ] ] write @xmath469 for the total number of chips in the system .",
    "[ period2window ] every chip configuration @xmath12 on @xmath0 with @xmath470 has eventual period  @xmath416 .    if @xmath471 , then @xmath314 , so by lemma  [ eventuallyconfined ] we may assume  @xmath12 is confined .",
    "moreover , by relabeling the vertices we may assume that @xmath362 .",
    "in particular , for any vertex @xmath308 , since @xmath472 for @xmath473 , we have @xmath474 since @xmath475 , we obtain @xmath476    for a fixed vertex @xmath308 , as @xmath477 ranges over @xmath478 $ ] , the quantity @xmath479 takes on each of the values @xmath480 exactly once . by ( [ upperheightbound ] ) , at least @xmath481 of these values are @xmath424 , hence @xmath482 since @xmath483 , we have @xmath484    summing equations ( [ sumofrs ] ) and ( [ sumofells ] ) , and using @xmath485 , we obtain @xmath486 since each term in the sum on the left is a nonnegative integer , we must have @xmath487 for some @xmath431 $ ] . thus every vertex @xmath308 fires at least once during the first two updates of @xmath488 . from corollary  [ conjugateactivities ] and lemma  [ icantbelievethisdoesntfollowfromsomethingwealreadyproved ]",
    "we obtain @xmath489    finally , the chip configuration @xmath490 also satisfies @xmath491 , so @xmath492 . by lemma  [ reflectionsymmetry ]",
    "we have @xmath493 , so @xmath494 . from lemma  [ denominatorofactivity ]",
    "we conclude that @xmath495 .",
    "the author thanks anne fey for many helpful conversations , and an anonymous referee for suggesting the formulation of generalized chip configurations in terms of measures on @xmath69 ."
  ],
  "abstract_text": [
    "<S> we study how parallel chip - firing on the complete graph @xmath0 changes behavior as we vary the total number of chips . </S>",
    "<S> surprisingly , the activity of the system , defined as the average number of firings per time step , does not increase smoothly in the number of chips ; instead it remains constant over long intervals , punctuated by sudden jumps . in the large @xmath1 limit </S>",
    "<S> we find a `` devil s staircase '' dependence of activity on the number of chips . </S>",
    "<S> the proof proceeds by reducing the chip - firing dynamics to iteration of a self - map of the circle @xmath2 , in such a way that the activity of the chip - firing state equals the poincar rotation number of the circle map . </S>",
    "<S> the stairs of the devil s staircase correspond to periodic chip - firing states of small period . </S>"
  ]
}