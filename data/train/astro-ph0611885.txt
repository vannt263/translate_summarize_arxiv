{
  "article_text": [
    "this paper is sub - divided in four sections : we give a brief overview of the gaia satellite and introduce the data processing and analysis consortium ( dpac ) .",
    "following on from this we describe the overall system architecture for gaia processing and finally take a more detailed look at the core processing .",
    "the gaia payload consists of three distinct instruments for astrometric , photometric and spectroscopic measurements , mounted on a single optical bench .",
    "unlike hst and sim , which are pointing missions observing a preselected list of objects , gaia is a scanning satellite that will repeatedly survey in a systematic way the whole sky .",
    "the main performances of gaia expressed with just a few numbers are just staggering and account for the vast scientific harvest awaited from the mission : a complete survey to 20th magnitude of all point sources amounting to more than one thousand million objects , with an astrometric accuracy of 12@xmath0 at 15th magnitude and @xmath1 for the few million stars brighter than 13th magnitude ; radial velocities down to 17th magnitude , with an accuracy ranging from 1 to @xmath2 ; multi - epoch spectrophotometry for every observed source sampling from the visible to the near ir .    beyond its sheer measurement accuracy",
    ", the major strength of gaia follows from ( i ) its capability to perform an all - sky and sensitivity limited absolute astrometry survey at sub - arcsecond angular resolution , ( ii ) the unique combination into a single spacecraft of the three major instruments carrying out nearly contemporaneous observations , ( iii ) the huge number of objects and observations allowing to amplify the accuracy on single objects to large samples with deep statistical significance , a feature immensely valuable for astrophysics and unique to gaia .",
    "the dpac has been formed to answer the announcement of opportunity ( ao ) for the gaia processing .",
    "the dpac is formed around a series of `` coordination units '' ( cu ) , themselves sub - divided into `` development units '' ( du ) .",
    "the cus are supported by a set of data processing centres ( dpc ) .",
    "the overall coordination is performed by the consortium executive ( dpace ) .",
    "the structure is shown in fig .  [",
    "fig : dpacorgan ] and described in more detail below .",
    "consider that there are over 270 scientists and developers currently registered in dpac who will contribute to the scientific processing on gaia .",
    "+      the cus are small in number , with clearly - defined responsibilities and interfaces , and their boundaries fit naturally with the main relationships between tasks and the associated data flow",
    ".    there will be several areas of involvement across these boundaries , but in first instance it is up to the coordination units to ensure that a group of tasks is prepared and optimised , as well as fully tested and documented , as required by the project .",
    "the coordination units will have a reasonable amount of autonomy in their internal organisation and in developing what they consider as the best solution for their task .",
    "however they are constrained by the fact that any such solution has to meet the requirements and time schedules determined by the consortium executive for the overall data processing . in this respect the data exchange protocol and the adherence to the data processing development cycles are mandatory to ensure that every group can access the data it needs in the right format and at the right moment . while the coordination units are intended to reflect the top level structure of the data processing , with completely well - defined responsibilities and commitments to the dpac ,",
    "they could for practical reasons be sub - divided into more manageable components , called development units ( du ) .",
    "this is a more operational level with a lighter management which will take the responsibility for the development of a specific part of the software with well defined boundaries . not",
    "every cu will organise its dus ( if any ) in the same way , and how they interact with the cu level is left to the cu management .",
    "responsibilities of the coordination units include : ( a ) establishing development priorities ; ( b ) procuring , optimizing and testing algorithms ; ( c ) defining and supervising the development units linked to them .",
    "each coordination unit is headed by a scientific manager and one or two deputy managers .",
    "the cus will also comprise software engineers .",
    "the development activities of each cu are closely associated with at least one dpc ( data processing centre ) where the computer hardware is available to carry out the actual processing of the data .",
    "a technical manager from this centre belongs to the upper management structure of every cu .",
    "the software development and the preparation and testing of its implementation in a dpc are parallel activities within every cu and their mutual adequacy must be closely monitored by the cu manager with his dpc representative .",
    "advancement reports are regularly presented to the dpac executive .",
    "our overall organisation gives the cus much autonomy in the way they handle their part of the data processing , and the internal organisation and management structures do not need to be uniform across cus .",
    "however there is a single goal shared by all the cus , and they must follow a common schedule and adhere strictly to many interfaces so that the results produced by one group are available in a timely manner and may be used efficiently by other groups . a variety of standards and conventions , the content and structure of the mdb ( main database ) and the processing cycles must be agreed collectively . therefore in addition to a local management of each cu , the overall dpac is coordinated and managed by an executive committee , called dpace for `` data processing and analysis consortium executive '' .",
    "this overall management structure of the consortium deals with all the matters which are not specific to the internal management of a cu and is meant to make an efficient interaction between the cus possible .",
    "the dpace responsibilities are primarily coordination tasks although it will make important decisions to be implemented by all cus which are akin to real management .",
    "any large system is normally broken down into logical components to allow distributed development .",
    "gaia data processing is on a very large and highly distributed scale .",
    "the approach taken to the decomposition has been to identify major parts of the system which may operate relatively independently , although practically all parts of the gaia processing are in fact interdependent from the point of view of the data . from a development point of view however , a well defined icd ( interface control document ) would allow completely decoupled components to be developed and even operated in disparate locations .",
    "the approach is driven by the fact that this is a large system which will be developed in many countries and by teams of varying competence .",
    "hence at this level of decomposition libraries or infrastructure are not considered to be components . at some lower level",
    "these components may indeed share libraries and infrastructure but this is not a cornerstone for the architecture .",
    "only the top level components and their interaction are considered in this decomposition .",
    "figure [ fig : sysarc ] shows the logical components of the system and the data flow between them .",
    "*   mission control system ( mcs ) *   data distribution system ( dds ) *   initial data treatment and first look ( idt / fl ) *   simulation ( sim ) *   intermediate data update ( idu ) *   astrometric global iterative solution ( agis ) *   astrometric verification unit ( avu ) *   object processing ( obj ) *   photometric processing ( phot ) *   spectroscopic processing ( spec ) *   variability processing ( vari ) *   astrometric parameters ( astp ) *   main database ( mdb ) *   archive      gaia processing is all about data .",
    "the data flow is the most important description of the system and has been under discussion within the community for some time .",
    "the result of these discussions is the data flow scheme depicted in fig .",
    "[ fig : sysarc ] . the flow lines in fig .",
    "[ fig : sysarc ] are labeled and these labeled are referred to in the text below .",
    "the data flow is divided into two categories , near - realtime and scientific processing .",
    "the near - realtime data flow represents the data flow on a time scale of approximately 1 or 2 days , corresponding to the activities of the mission operations ground segment .",
    "the mission operations centre ( moc ) at esoc receives all telemetry from the space segment [ 1.1 ] via the ground stations .",
    "the science operations centre ( soc ) at esac will receive all telemetry directly from the ground station also [ 1.2 ] .",
    "the raw data flow from the satellite is not shown explicitly in the diagram . over the nominal mission duration of five years",
    "the payload will yield a total uncompressed data volume of roughly 100 tb .",
    "the satellite will have contact with the ground station once a day for a mean duration of 11 hours . during this period , or",
    "`` pass '' , an uncompressed data volume of roughly 50 gb is downlinked from the satellite via its medium - gain antenna , at a mean rate of about 5  mbit / s .",
    "the raw telemetry data received by the ground station will be transmitted to the mission control system ( mcs ) at the moc and to the soc .",
    "housekeeping data will be transmitted to the mcs within one hour after reception at the ground station .",
    "the mcs will provide an immediate assessment on the spacecraft and instrument status through analysis of the housekeeping data .",
    "all telemetry received by the moc systems will be ingested into the data distribution system ( dds ) [ 2 ] .",
    "the dds will also contain data that were generated on - ground ( e.g. orbit data , time correlation data ) , operations reports ( telecommand history and timeline status ) , satellite databases used by the mcs and a copy of all telecommands sent to the spacecraft .",
    "science telemetry is received by the soc [ 1.2 ] for processing by the idt .",
    "data is also retrieved from the dds by the moc interface task at the soc and passed to the idt [ 3.1 ] .",
    "the idt processing will decode and decompress the telemetry .",
    "it will also extract higher - level image parameters and provide an initial cross matching of observations to known sources ( or else to new ones created in this step ) .",
    "finally it will provide an initial satellite attitude at sub - arcsec precision .",
    "the primary objective of the first look ( fl ) is to ensure the scientific health of gaia .",
    "this information is returned to the mcs [ u1 ] .",
    "first look processing will carry out a restricted astrometric solution on a dataset from a small number of great - circle scans .    to perform some of its tasks",
    "idt / fl requires reference data , such as up - to - date calibration data as well as positions , magnitudes etc .  of bright objects that are expected to be observed by gaia during the time period to be processed .",
    "this data will be made available to idt / fl [ 3.2 ] from the mdb .",
    "fl will also calibrate the current data set itself and this calibration will be used by idt .",
    "the telemetry is received by the mcs which does basic system monitoring .",
    "the first look diagnostics produced by fl [ u1 ] will indicate if there are anomalies in the scientific output of the satellite which can be corrected on - board .",
    "after interpretation of the diagnostics , the flight control team is informed of the anomaly , which can be resolved either through immediate commanding or during the next mission planning cycle .    on a regular basis the mcs will send the prepared command schedule to gaia [ u2 ] , taking into account normal planning and inputs from idt / fl . during a ground station pass , immediate",
    "commanding is also possible .",
    "the outputs of idt / fl are made available to all tasks on a daily basis [ 4,5 ] and ingested into the main database [ 5.1 ] .",
    "the raw database will be a repository for all raw data [ 5.2 ] .",
    "copies of the raw database are expected at esac , bsc and cnes .",
    "other tasks may retrieve the data according to their requirements [ 5.3 ] .",
    "raw data will only be transmitted on a daily basis i.e. , it does not form part of the main database and is not foreseen to be sent again later .",
    "data processing centres may produce ` science alerts ' from the gaia observations .",
    "science alerts are sent to the soc for immediate distribution to the scientific community and for archiving in the main database [ 7 ] .",
    "scientific processing represents the production of the gaia data products by the data processing ground segment from intermediate data .",
    "the timescale for each iteration of this process is much longer than that of the near - realtime processing , of the order of six months or more .",
    "it will continue after routine satellite operations have finished and will culminate in the production of the gaia catalogue .",
    "the outputs of processing from each cu will be sent for incorporation in the main database [ 7 ] .",
    "the main database is the hub of all data in the gaia data processing system .",
    "our plan is to version this database at regular intervals , probably every six months .",
    "the science processing is in general iterative .",
    "hence each version of the main database is derived from the data in the previous version . by fixing the versions of the entire dataset at some point in time we avoid tracking individual object versions for the billions of objects in the database .",
    "as described above the core processing involves idt , fl , idu and agis . in this section",
    "we will look at the astrometric global iterative solution ( agis ) in a little more detail .",
    "the astrometric core solution is the cornerstone of the data processing since it provides calibration data and attitude solution needed for all the other treatments , in addition to the astrometric solution of @xmath3 million _ primary sources_. the main equations to be solved can be summarized by relating the observed position on a detector to a general astrometric and instrument model as , @xmath4 where    * @xmath5 is the observed one - dimensional location of the source at the instant determined by the centroiding algorithm applied to the observed photo - electron counts .",
    "* @xmath6 is the astrometric model which for the primary stars should only comprise the five astrometric parameters ( @xmath7 .",
    "* @xmath8 represents the parameters used to model the attitude over a given interval of time .",
    "they are , for example , the cubic spline coefficients of the quaternion describing the orientation of the instrument with respect to the celestial reference frame as function of time .",
    "* @xmath9 represents the global parameters such as the ppn parameters or other relevant parameters needed to fix the reference frame of the observations . *",
    "@xmath10 comprises all the parameters needed for the instrument modelling : geometric calibration parameters ( both intra- and inter - ccds ) , basic angle , chromaticity effect and other instrumental offsets .",
    "* @xmath11 is the gaussian white noise which can be estimated from the photon counts and centroiding for every observation and used to weigh the equations .",
    "a test is performed at the end to validate the assumption on the noise .    assuming some @xmath12 primary stars , the total number of unknowns for the astrometric core solution includes some @xmath13 astrometric parameters , @xmath14 attitude parameters , and a few million calibration parameters .",
    "the condition equations connecting the unknowns to the observed data are intrinsically non - linear , although they generally linearise well at the sub - arcsec level . direct solution of the corresponding least - squares problem is unfeasible , by many orders of magnitude , simply in view of the large number of unknowns and their strong inter - connectivity , which prevents any useful decomposition of the problem into manageable parts . the proposed method is based on the _ global iterative solution _ scheme ( esa 1997 , vol .  3 , ch .",
    "23 ) , which in the current context is referred to as the _ astrometric gis _ ( agis ) since related methods are adopted for the photometric and spectroscopic processing .",
    "it is necessary to have reasonable starting values for all the unknowns , so as to be close to the linear regime of the condition equations .",
    "these are generally provided by the initial data treatment .",
    "the idea of agis is then quite simple , and consists of the following steps :    1 .",
    "assuming that the attitude and calibration parameters are known , the astrometric parameters can be estimated for all the stars .",
    "this can be done for one star at a time , thus comprising a least - squares problem with only 5 unknowns and of order 1000 observations .",
    "moreover , this part of the solution is extremely well suited for distributed processing .",
    "2 .   next , assuming that the astrometric parameters and the calibration parameters are known , it is possible to use the same observations to estimate the attitude .",
    "this can be done for each uninterrupted observation interval at a time . for a typical interval of one week ,",
    "the number of unknowns is about 500000 and the number of observations @xmath15 .",
    "the number of unknowns may seem rather large for a least - squares problem , but the band - diagonal structure of the normal equations resulting from the spline fitting makes the memory consumption and computing time a linear function of the number of unknowns , rather than the cubic scaling for general least - squares solutions .",
    "the problem is thus easily manageable .",
    "3 .   assuming then that the astrometric and attitude parameters are known , the calibration parameters can be estimated from the residuals in transit time and across - scan field angles .",
    "it is necessary to iterate the sequence of steps 1 , 2 , 3 as many times as it takes to reach convergence .",
    "once the linear regime has been reached , the convergence should be geometric , i.e. , the errors ( and updates ) should decrease roughly by a constant factor in each cycle .",
    "based on simple considerations of redundancy and the geometry of observations , a convergence factor of @xmath16@xmath17 is expected .",
    "if a geometric behaviour is indeed observed , it may be possible to accelerate the convergence by over - relaxation .",
    "the iteration must be driven to a point where the updates are much smaller than the accuracy aimed at in the resulting data .",
    "5 .   after convergence ,",
    "the astrometric and attitude parameters refer to an internally consistent celestial reference frame , but this does not necessarily , and in general will not , coincide with the international celestial reference system ( icrs ) . a subset of the primary stars and quasars , with known positions / proper motions in the icrs , is therefore analyzed to derive the nine parameters describing a uniform rotation between the two systems , plus the apparent streaming motion of quasars due to the cosmological acceleration of the solar - system barycentre .",
    "the astrometric and attitude parameters are then transformed into the icrs by application of a uniform rotation .",
    "it is envisaged that the whole sequence 15 is repeated several times during the processing , initially perhaps every 6 months during the accumulation of more observations .",
    "these repeats are called outer agis iterations .",
    "optionally , the iteration loop 13 may also include an estimation of global parameters .      to facilitate the execution of the agis algorithms",
    "a data driven approach has been followed .",
    "the notion is that any data should only be read once and passed to algorithms rather than each algorithm accessing data directly .",
    "a process , termed the data train , sits between the data access layer and the algorithm requiring data .",
    "it accesses the data and invokes the algorithm thus providing an absolute buffer between scientific code and data access .",
    "the data train is a manifestation of the intermediary pattern [ gamma 1994 ] and has the advantage that different implementations of varying complexity may be provided .",
    "hence a scientist may run a simplified agis on a laptop for testing which does not require the full hardware of the data processing centre .",
    "esac currently hosts agis on a sixteen node cluster of dual processor dell xeon machines .",
    "a 6 tb storage area network ( san ) is used to host the oracle database containing the data .",
    "the system is entirely written in java and runs on the 64-bit sun jdk1.5 .",
    "the current implementation is executing with simulation data and reaches convergence within 27 outer iterations for very noisy input data .",
    "the simulated dataset is of 1.1 million sources with five years of observation amounting to about @xmath12 observations .",
    "convergence is declared when the median added to the width of the parallax update histogram is below 1 @xmath18as .",
    "see also [ hernandez 2007 ] .",
    "gaia is an ambitious space mission where the instrument and data processing are intimately related .",
    "an overall distributed data processing architecture has been outlined .",
    "a distributed management structure is in place to ensure the processing software is built .",
    "rapid development of key software modules is underway , for example the core astrometric solution has been presented in this paper .",
    "dpac has made an excellent start but a difficult road lies ahead to achieve the demanding accuracies required by the gaia mission ."
  ],
  "abstract_text": [
    "<S> gaia is esa s ambitious space astrometry mission with a main objective to astrometrically and spectro - photometrically map not less than 1000 million celestial objects in our galaxy with unprecedented accuracy . </S>",
    "<S> the announcement of opportunity ( ao ) for the data processing will be issued by esa late in 2006 . </S>",
    "<S> the gaia data processing and analysis consortium ( dpac ) has been formed recently and is preparing an answer to this ao . </S>",
    "<S> the satellite will downlink around 100 tb of raw telemetry data over a mission duration of 56 years . to achieve its required accuracy of a few tens of microarcseconds in astrometry , a highly involved processing of this data </S>",
    "<S> is required . </S>",
    "<S> in addition to the main astrometric instrument gaia will host a radial - velocity spectrometer and two low - resolution dispersers for multi - colour photometry . </S>",
    "<S> all instrument modules share a common focal plane made of a ccd mosaic about 1 square meter in size and featuring close to 1 giga pixels . </S>",
    "<S> each of the various instruments requires a relatively complex processing while at the same time being interdependent . </S>",
    "<S> we describe the composition and structure of the dpac and the envisaged overall architecture of the system . </S>",
    "<S> we shall delve further into the core processing - one of the nine , so - called coordination units comprising the gaia processing system . </S>"
  ]
}