{
  "article_text": [
    "efficient resource allocation is essential to achieve high utilization of a class of networks with resource - sharing constraints , such as wireless networks and stochastic processing networks ( spn @xcite ) . in wireless networks",
    ", certain links can not transmit at the same time due to the interference constraints among them . in a spn",
    ", two tasks can not be processed simultaneously if they both require monopolizing a common resource .",
    "a scheduling algorithm determines which link to activate ( or which task to process ) at a given time without violating these constraints .",
    "designing efficient distributed scheduling algorithms to achieve high throughput is especially a challenging task @xcite .",
    "maximal - weight scheduling ( mws ) @xcite is a classical _ throughput - optimal _ algorithm .",
    "that is , mws can stabilize all queues in the network as long as the arrival rates are within the capacity region .",
    "mws operates in slotted time . in each slot , a set of non - conflicting links ( called an `` independent set '' , or `` is '' ) that have the maximal weight ( i.e. , summation of queue lengths ) are scheduled .",
    "however , implementing mws in general networks is quite difficult for two reasons .",
    "( i ) mws is inherently a centralized algorithm and is not amenable to distributed implementation ; ( ii ) finding a maximal - weighted is ( in each slot ) is np - complete in general and is hard even for centralized algorithms .    on the other hand",
    ", there has been active research on low - complexity but suboptimal scheduling algorithms .",
    "for example , reference @xcite shows that maximal scheduling can only guarantee a fraction of the network capacity .",
    "a related algorithm has been studied in @xcite in the context of ieee 802.11 networks .",
    "longest - queue - first ( lqf ) algorithm ( see , for example , @xcite ) , which greedily schedules queues in the descending order of the queue lengths , tends to achieve higher throughput than maximal scheduling , although it is not throughput - optimal in general @xcite .",
    "reference @xcite proposed random - access - based algorithms that can achieve performance comparable to that of maximal - size scheduling .",
    "recently , we proposed a distributed adaptive csma ( carrier sense multiple access ) algorithm @xcite that is throughput - optimal for a general interference model , under certain assumptions ( further explained later ) .",
    "the algorithm has a few desirable features .",
    "it is distributed ( i.e. , each node only uses its own backlog information ) , asynchronous ( i.e. , nodes do not need to synchronize their transmission ) and requires no control message .",
    "( in @xcite , rajagopalan and shah independently proposed a similar randomized algorithm in the context of optical networks .",
    "reference @xcite showed that under a `` node - exclusive '' interference model , csma can be made throughput - optimal in an asymptotic regime . )",
    "we have also developed a joint algorithm in @xcite that combined the adaptive csma scheduling with congestion control to approach the maximal total utility of competing data flows .",
    "however , the algorithms in @xcite assume an idealized csma protocol ( @xcite ) , meaning that the sensing is instantaneous , so that conflicting links do not transmit at the same time ( i.e. , collisions do not occur ) .",
    "in many situations , however , this is an unnatural assumption .",
    "for example ,",
    "in csma / ca wireless networks , due to the propagation delay and processing time , sensing is not instantaneous . instead , time can be viewed as divided into discrete minislots , and collisions happen if multiple conflicting links try to transmit in the same minislot .",
    "when a collision occurs , all links that are involved lose their packets , and will try again later .    in this paper , we study this important practical issue when designing csma - based scheduling algorithms .",
    "we follow four main steps : ( 1 ) we first present a markov chain model for a simple csma protocol with collisions , and give an explicit throughput formula ( in section [ sec : formula ] ) that has a simple form since the markov chain is `` almost '' time - reversible ; ( 2 ) we show that the algorithms in @xcite can be extended to approach throughput optimality even with collisions ( section [ sec : algorithms ] ) ; ( 3 ) we give sufficient conditions to ensure the convergence / stability of the proposed algorithms ( section [ sec : algorithms ] ) ; ( 4 ) finally , we discuss the tradeoff between the achievable capacity region and short - term fairness , and we characterize the relationship between the csma parameters ( such as the maximum packet lengths ) and the achievable capacity region .    although step ( 2 ) can be viewed as a generalization of @xcite , we believe that this generalization is important and non - trivial . the importance , as mentioned above , is because collisions are unavoidable in csma / ca wireless networks , and the collision - free model used in @xcite does not provide enough accuracy . the generalization is non - trivial for the following reasons .",
    "step ( 2 ) requires the result of step ( 1 ) . in step ( 1 ) , the markov chain used to model the csma protocol is no longer time - reversible as in @xcite .",
    "we need to re - define the state space in order to compute the service rates it can provide .",
    "interestingly , as a result of our design the chain is `` almost '' time - reversible which can be exploited . in step ( 2 )",
    ", in view of the expression of service rates derived in step ( 1 ) , it is important to realize that adjusting the backoff times as in @xcite does not lead to the desirable throughput - optimal property .",
    "instead , one should adjust the transmission lengths .",
    "different from @xcite , we further show that the `` optimal '' csma parameters ( in this case the mean transmission lengths ) are _",
    "unique_. this fact is needed to establish the convergence of our algorithm in step ( 3 ) .",
    "we note that in a recent work @xcite , ni and srikant also proposed a csma - like algorithm to achieve near - optimal throughput with collisions taken into account .",
    "the algorithm in @xcite uses synchronized and alternate control phase and data phase .",
    "it is designed to realize a discrete - time csma ( in the data phase ) which has the same stationary distribution as its continuous counterpart in @xcite .",
    "the control phase does not contribute to the throughput and can be viewed as the protocol overhead .",
    "different from @xcite , our algorithm here is asynchronous , and has more resemblance to the rts / cts mode in ieee 802.11 . although the algorithm in @xcite is quite elegant and",
    "could potentially be applied to other time - slotted systems , we believe that it is an interesting problem to understand how to use the asynchronous algorithm to achieve throughput - optimality .",
    "also , due to its similarity to the rts / cts mode of ieee 802.11 , the throughput analysis in this paper could also deepen the understanding of 802.11 in general topologies .",
    "in this section we present a model for csma / ca - based scheduling with collisions .",
    "note that the goal of the paper is _ not _ to propose a comprehensive model that captures all details for ieee 802.11 networks and predict the performance of such networks ( the literature in that area has been very rich .",
    "see , for example , @xcite and the references therein . ) instead , at a more abstract level , we are interested in a distributed scheduling algorithm that is inspired by csma / ca , and designing adaptive algorithms to approach throughput - optimality .",
    "consider a ( single - channel ) wireless network .",
    "define a `` link '' as an ( ordered ) transmitter - receiver pair .",
    "assume that there are @xmath0 links , and denote the set of links by @xmath1 ( then , @xmath2 ) .",
    "without loss of generality , assume that each link has a capacity of 1 .",
    "we say that two links _ conflict _ if they can not transmit ( or , `` be active '' ) at the same time due to interference .",
    "( the conflict relationship is assumed to be symmetric . ) accordingly , define @xmath3 as the conflict graph .",
    "each vertex in @xmath3 represents a link , and there is an edge between two vertexes if the corresponding links conflict . note that this simple conflict model may not reflect all possible interference structures that could occur in wireless networks",
    "however , it does provide a useful abstraction and has been used widely in literature ( see , for example , @xcite and @xcite ) .",
    "[ fig : wlan ] ( a ) shows a wireless lan with 6 links . the network s conflict graph is a full graph ( fig .",
    "[ fig : wlan ] ( b ) ) .",
    "( circles represent nodes and rectangles represent links . ) fig .",
    "[ fig : ad - hoc ] ( a ) shows an ad - hoc network with 3 links . assume that link 1 , 2 conflict , and link 2 , 3 conflict .",
    "then the network s conflict graph is fig .",
    "[ fig : ad - hoc ] ( b ) .    * basic protocol *    we now describe the basic csma / ca protocol with fixed transmission probabilities ( which suffices for our later development . ) let @xmath4 be the duration of each idle slot ( or `` minislot '' ) .",
    "( @xmath4 should be at least the time needed by any wireless station to detect the transmission of any other station . specifically , it accounts for the propagation delay , the time needed to switch from the receiving to the transmitting state , and the time to signal to the mac layer the state of the channel @xcite .",
    "the value of @xmath4 varies for different physical layers . in ieee 802.11a , for example , @xmath5 . ) in the following we will simply use `` slot '' to refer to the minislot .",
    "assume that all links are saturated ( i.e. , always have packets to transmit ) .",
    "in each slot , if ( the transmitter of ) link @xmath6 is not already transmitting and if the medium is idle , the transmitter of link @xmath6 starts transmission with probability @xmath7 . if at a certain slot , link @xmath6 did not choose to transmit but a conflicting link starts transmitting , then link @xmath6 keeps silent until that transmission ends .",
    "if conflicting links start transmitting at the same slot , then a collision happens .",
    "[ we assume that the network has no hidden node ( hn ) .",
    "the case with hns will be discussed in section [ sub : hn ] .",
    "for possible ways to address the hn problem , please refer to @xcite and its references . ]",
    "each link transmits a short probe packet with length @xmath8 ( similar to the rts packet in 802.11 ) before the data is transmitted .",
    "( all `` lengths '' here are measured in number of slots and are assumed to be integers . )",
    "this increases the overhead of successful transmissions , but can avoid collisions of long data packets .",
    "when a collision happens , only the probe packets collide , so each collision lasts a length of @xmath8 .",
    "assume that a successful transmission of link @xmath6 lasts @xmath9 , which includes a constant overhead @xmath10 ( composed of rts , cts , ack , etc ) and the data payload @xmath11 which is a random variable .",
    "clearly @xmath12 .",
    "let the p.m.f .",
    "( probability mass function ) of @xmath9 be @xmath13 and assume that the p.m.f .",
    "has a _ finite support _",
    ", i.e. , @xmath14.then the mean of @xmath9 is @xmath15    fig .",
    "[ fig : basic - model ] illustrates the timeline of the 3-link network in fig . [",
    "fig : ad - hoc ] ( b ) , where link 1 and 2 conflict , and link 2 and 3 conflict .",
    "we note a subtle point in our modeling . in ieee 802.11 , a link can attempt to start a transmission only after it has sensed the medium as idle for a constant time ( which is called difs , or `` dcf inter frame space '' ) . to take this into account , difs is included in the packet transmission length @xmath9 and the collision length @xmath8 . in particular , for a successful transmission of link @xmath6",
    ", difs is included in the constant overhead @xmath10 .",
    "although difs , as part of @xmath10 , is actually after the payload , in fig .",
    "[ fig : basic - model ] we plot @xmath10 before the payload .",
    "this is for convenience and does not affect our results .",
    "so , under this model , a link can attempt to start a transmission _ immediately _ after the transmissions of its conflicting links end .",
    "the above model is almost time - reversible such that a simple throughput formula can be derived .",
    "a process is `` time - reversible '' if the process and its time - reversed process are statistically indistinguishable @xcite .",
    "our model , in fig .",
    "[ fig : basic - model ] , reversed in time , follows the same protocol as described above , except for the order of the overhead and the payload , which are reversed .",
    "a key reason for this property is that the collisions start and finish at the same time .",
    "( this point will be made more precise in appendix a. )    timeline in the basic model ( in this figure , @xmath16 are constants.),width=302 ]      let the `` on - off state '' be @xmath17 where @xmath18 , the @xmath19-th element of @xmath20 , is such that @xmath21 if link @xmath19 is active ( transmitting ) in state @xmath20 , and @xmath22 otherwise .",
    "thus , @xmath20 is a vector indicating which links are active in a given slot .",
    "let @xmath23 be the subgraph of @xmath3 after removing all vertices ( each representing a link ) with state 0 ( i.e. , any link @xmath24 with @xmath25 ) and their associated edges .",
    "in general , @xmath23 is composed of a number of connected components ( simply called `` components '' ) @xmath26 ( where each component is a set of links , and @xmath27 is the total number of components in @xmath23 ) . if a component @xmath28 has only one active link ( i.e. , @xmath29 ) , then this link is having a successful transmission ; if @xmath30 , then all the links in the component are experiencing a collision . let the set of `` successful '' links in state @xmath20 be @xmath31 , and the set of links that are experiencing collisions be @xmath32 . also , define the `` collision number '' @xmath33 as the number of components in @xmath23 with size larger than 1 .",
    "[ fig : example_c ] shows an example .",
    "note that the transmissions in a collision component @xmath28 are `` synchronized '' , i.e. , the links in @xmath28 must have started transmitting in the same slot , and will end transmitting in the same slot after @xmath8 slots ( the length of the probe packets ) .",
    "an example conflict graph ( each square represents a link ) . in this on - off state @xmath20 ,",
    "links 1 , 2 , 5 are active .",
    "so @xmath34 , @xmath35 , @xmath36.,width=170 ]      in order to compute the service rates of all the links under the above csma protocol when all the links are saturated , we first define the underlying discrete - time markov chain which we call the _ csma / ca markov chain_.    the markov chain evolves slot by slot .",
    "the state of the markov chain in a slot is @xmath37 where @xmath38 is the total length of the current packet link @xmath19 is transmitting , @xmath39 is the remaining time ( including the current slot ) before the transmission of link @xmath19 ends .",
    "for example , in fig .",
    "[ fig : example - markov ] , the state @xmath40 and @xmath41 are    example of the csma / ca markov chain , width=226 ]    @xmath42    and@xmath43    note that in any state @xmath40 as defined in ( [ eq : w - definition ] ) , we have    \\(i ) @xmath44 .",
    "\\(ii ) @xmath45 .",
    "\\(iii ) if @xmath46 , then @xmath47 and @xmath48 .",
    "an important observation here is that the transmissions in a collision component @xmath28 are `` synchronized '' , i.e. , the links in @xmath28 must have started transmitting at the same time , and will end transmitting at the same time , so all links in the component @xmath28 have the same remaining time .",
    "( to see this , first note that in the case of a collision only the probe packets get transmitted , and their transmission times @xmath8 are identical for all links .",
    "second , any two links @xmath6 and @xmath24 in this component with an edge between them must have started transmitting at the same time .",
    "otherwise , if @xmath6 starts earlier , @xmath24 would not transmit since it already hears @xmath6 s transmission ; and vice versa . by induction ,",
    "all links in the component must have started transmitting at the same time . )",
    "so , we can write @xmath49 for any @xmath50 where @xmath30 , and @xmath51 denotes the remaining time of the component @xmath28 .",
    "we say that a state @xmath40 is _ valid _ iff it satisfies ( i)~(iii ) above .    since the transmission lengths are always bounded by @xmath52 by assumption , we have @xmath53 , and therefore the markov chain has a finite number of states , and is ergodic . as detailed in appendix [ sub : proof - product - form ] , a nice property of this markov chain",
    "is that it is `` almost '' time - reversible . as a result",
    ", its stationary distribution has a simple product - form ( appendix [ sub : proof - product - form ] ) , from which the probability of any on - off state @xmath20 can be computed :    [ thm : state - distribution]under the stationary distribution , the probability of @xmath17 in a given slot is @xmath54 where @xmath55 , @xmath56 is the mean transmission length of link @xmath6 ( as defined in ( [ eq : t_i ] ) ) , and @xmath57 is a normalizing term such that @xmath58 . to denote the probability of the `` state '' under the stationary distribution of the csma / ca markov chain .",
    "this does not cause confusion since the meaning of @xmath59 is clear from its argument . ]",
    "the proof is given in appendix a.    remark : note that in @xmath20 , some links can be in a collision state , just as in ieee 802.11 .",
    "this is reflected in the @xmath60 term in ( [ eq : x ] ) .",
    "expression ( [ eq : x ] ) differs from the idealized - csma case in @xcite and the stationary distribution in the data phase in the protocol proposed in @xcite , due to the difference of the three protocols .",
    "now we re - parametrize @xmath61 by a variable @xmath62 .",
    "let @xmath63 , where @xmath10 , as we defined , is the overhead of a successful transmission ( including rts , cts , ack packets , difs , etc . ) , and @xmath64 is the mean length of the payload .",
    "@xmath65 is a constant `` reference payload length '' .",
    "let @xmath66 be the vector of @xmath62 s . by theorem [ thm : state - distribution ] ,",
    "the stationary probability of @xmath20 in a slot ( with a given @xmath66 ) is @xmath67 where @xmath68 is not related to @xmath66 , and the normalizing term is @xmath69.\\label{eq : e_r}\\ ] ]    then , the stationary probability that link @xmath19 is transmitting a payload in a given slot is@xmath70 recall that the capacity of each link is 1 . also",
    ", it s easy to show that the csma / ca markov chain is ergodic . as a result ,",
    "if @xmath66 is fixed , the long - term average throughput of link @xmath19 converges to the stationary probability @xmath71 .",
    "so we say that @xmath72 $ ] is the _ service rate _ of link @xmath19 .",
    "assume that the conflict graph @xmath3 has @xmath73 different independent sets ( `` is '' , not confined to `` maximal independent sets '' ) , where each is is a set of links that can transmit simultaneously without conflict .",
    "denote an is by @xmath74 , a 0 - 1 vector that indicates which links are transmitting in this is .",
    "the @xmath19th element of @xmath75 , @xmath76 if link @xmath19 is transmitting in this is , and @xmath77 otherwise .",
    "let @xmath78 be the set of iss .",
    "we now describe the _ scheduling problem _ which is the focus of the paper .",
    "traffic arrives at link @xmath19 with an arrival rate @xmath79 . for simplicity , assume the following i.i.d .",
    "bernoulli arrivals ( although this can be easily generalized ) : at the beginning of slot @xmath80 , @xmath81 , a packet with a length of @xmath82 slots arrives at link @xmath19 with probability @xmath83 .",
    "( that is , the packet would take @xmath82 slots to transmit . ) clearly , link @xmath19 needs to be active with a probability at least @xmath83 to serve the arrivals .",
    "denote the vector of arrival rates by @xmath84 .    since we focus on the scheduling problem , all the packets traverse only one link ( i.e. , _ single - hop _ ) before they leave the network .",
    "however , the results here can be extended to multi - hop networks and be combined with congestion control as in @xcite .",
    "[ def : feasible]we say that @xmath85 is _ feasible _ iff it can be written as @xmath86 $ ] where @xmath87 and @xmath88 .",
    "that is , there is a schedule of the independent sets ( including the non - maximal ones ) that can serve the arrivals .",
    "denote the set of feasible @xmath85 by @xmath89 .",
    "we say that @xmath85 is _ strictly feasible _",
    "iff @xmath90 , where @xmath91 is the interior of @xmath89 . , where @xmath92 is a ball centered at @xmath93 with radius @xmath94 . ]    a scheduling algorithm is said to be `` throughput - optimal '' if it can `` support '' any @xmath90 . in this paper , this means that for any @xmath95 , the scheduling algorithm can provide to link @xmath19 a service rate at least @xmath83 for all @xmath19 .",
    "the following theorem states that any service rates equal to @xmath95 can be achieved by properly choosing the mean payload lengths @xmath96 .",
    "[ thm : thu - optimal]assume that @xmath97 , and transmission probabilities @xmath98 are fixed .",
    "given any @xmath95 , there exists a unique @xmath99 such that the service rate of link @xmath19 is equal to the arrival rate for all @xmath19 : @xmath100    moreover , @xmath101 is the solution of the convex optimization problem@xmath102 where @xmath103 with @xmath104 defined in ( [ eq : e_r ] ) .",
    "this is because @xmath105 .",
    "the proof is in appendix b.    theorem [ thm : thu - optimal ] motivates us to design a gradient algorithm to solve problem ( [ eq : loglikelihood - primal_c ] ) .",
    "however , due to the randomness of the system , @xmath83 and @xmath71 can not be obtained directly and need to be estimated .",
    "we design the following distributed algorithm , where each link @xmath19 dynamically adjusts its mean payload length @xmath106 based on local information .",
    "* algorithm 1 : transmission length control algorithm *    the vector @xmath66 is updated every @xmath82 slots .",
    "specifically , it is updated at the beginning of slot @xmath80 , @xmath107 .",
    "denote by @xmath108 the time when slot @xmath80 begins . also define @xmath109 .",
    "let `` period @xmath6 '' be the time between @xmath110 and @xmath108 , and @xmath111 be the value of @xmath66 at the end of period @xmath6 , i.e. , at time @xmath108 .",
    "initially , link @xmath19 sets @xmath112 $ ] where @xmath113 are two parameters ( to be further discussed ) .",
    "then at time @xmath108 , @xmath107 , each link @xmath19 updates @xmath114\\label{eq : alg1}\\ ] ] where @xmath115 is a `` penalty function '' to be defined later , @xmath116 is the step size in period @xmath6 , @xmath117 are the empirical average arrival rate and service rate in period @xmath6 ( i.e. , the actual amount of arrived traffic and served traffic in period @xmath6 divided by @xmath82 ) .    * the use of dummy bits : * _ an important point _ here",
    "is that we let link @xmath19 add dummy bits to the payload when its queue has less bits than what is specified by the algorithm ( e.g. , in ( [ eq : randomize - tp ] ) below ) .",
    "if the queue is empty , then dummy packets are transmitted with the specified size .",
    "so , each link is _",
    "saturated_. this ensures that the csma / ca markov chain has the desired stationary distribution in ( [ eq : x ] ) .",
    "the transmitted dummy bits are also included in the computation of @xmath118 .",
    "( although the use of dummy bits consumes bandwidth , it simplifies our analysis , and does not prevent us from achieving the primary goal , i.e. , approaching throughput - optimality . in section [ sub : dummy_bits ] , we also simulate the case without dummy bits . )    note that @xmath117 are random variables which are generally not equal to @xmath83 and @xmath119 .",
    "assume that the maximal instantaneous arrival rate is @xmath120 , so @xmath121 .",
    "also , in ( [ eq : alg1 ] ) , the penalty function @xmath115 is defined as @xmath122\\\\ r_{max}-y & \\text{if } y > r_{max}.\\end{cases}\\label{eq : h}\\ ] ] as shown in the appendix , this function keeps @xmath111 in a bounded region .",
    "( this is a `` softer '' approach than directly projecting @xmath123 to the set @xmath124 $ ] .",
    "the purpose is only to simplify the proof of theorem [ thm : scheduling ] later . )    in period @xmath125 , given @xmath111 , we need to choose @xmath126 , the payload lengths of each link @xmath19 , so that @xmath127 . if @xmath128 is an integer , then we let @xmath129 ; otherwise , we randomize @xmath126 as follows : @xmath130 here , for simplicity , we have assumed that the arrived packets can be fragmented and reassembled to obtain the desired lengths @xmath131 or @xmath132 . however , _",
    "one can avoid the fragmentation _ by randomizing the number of transmitted packets ( each with a length of @xmath82 slots ) in a similar way .",
    "when there are not enough bits in the queue , `` dummy bits '' are generated ( as mentioned before ) to satisfy @xmath133 and make the links always saturated .    intuitively speaking",
    ", algorithm 1 says that when @xmath134 $ ] , if the empirical arrival rate of link @xmath19 is larger than the service rate , then link @xmath19 should transmit more aggressively by using a larger mean transmission length , and vice versa .",
    "algorithm 1 is parametrized by @xmath113 which are fixed during the execution of the algorithm .",
    "note that the choice of @xmath135 affects the maximal possible payload length .",
    "also , as discussed below , the choices of @xmath135 and @xmath136 also determine the `` capacity region '' of algorithm 1 .",
    "we define the region of arrival rates@xmath137 where @xmath138 denotes the unique solution of @xmath139 ( such that @xmath140 , by theorem [ thm : thu - optimal ] ) .",
    "later we show that the algorithm can `` support '' any @xmath141 in some sense under certain conditions on the step sizes . we will also give a characterization of the region @xmath142 later in section [ sec : capacity - region ] .",
    "clearly , @xmath143 as @xmath144 and @xmath145 , where @xmath91 is the set of all strictly feasible @xmath85 ( by theorem [ thm : thu - optimal ] )",
    ". therefore , although given @xmath146 the region @xmath142 is smaller than @xmath91 , one can choose @xmath146 to arbitrarily approach the maximal capacity region @xmath91 . also , there is a tradeoff between the capacity region and the maximal packet length .",
    "[ thm : scheduling]assume that the vector of arrival rates @xmath141 . with algorithm 1 ,",
    "\\(i ) if @xmath116 is non - increasing and satisfies @xmath147 , @xmath148 and @xmath149 ( for example , @xmath150 ) , then @xmath151 as @xmath152 with probability 1 , where @xmath101 satisfies @xmath140 .",
    "\\(ii ) the case with constant step size ( i.e. , @xmath153 ) : for any @xmath154 , there exists a small enough @xmath155 such that @xmath156\\ge\\lambda_{k}-\\delta,\\forall k$ ] with probability 1 .",
    "in other words , one can achieve average service rates arbitrarily close to the arrival rates by choosing @xmath157 small enough .",
    "_ remark _ : in @xcite which proposed an alternative algorithm to deal with collisions , the authors made an idealized time - scale - separation assumption that the csma / ca markov chain reaches its stationary distribution for any given csma parameters .",
    "we believe that the results in theorem [ thm : scheduling ] can be extended to their algorithm .",
    "the complete proof of theorem [ thm : scheduling ] is appendix c , but the result can be intuitively understood as follows . if the step size is small ( in ( i ) , @xmath158 becomes small when @xmath6 is large ) , @xmath62 is `` quasi - static '' such that roughly , the service rate is averaged ( over multiple periods ) to @xmath71 , and the arrival rate is averaged to @xmath83 .",
    "thus the algorithm solves the optimization problem ( [ eq : loglikelihood - primal_c ] ) by a stochastic approximation @xcite argument , such that @xmath111 converges to @xmath101 in part ( i ) , and @xmath159 is near @xmath101 with high probability in part ( ii ) .",
    "[ cor : stable]consider a variant of algorithm 1 below where the update equation of each link @xmath19 is @xmath160\\label{eq : alg1b}\\ ] ] with a small constant @xmath161 .",
    "that is , the algorithm `` pretends '' to serve the arrival rate @xmath162 which is slightly larger than the actual @xmath85 .",
    "assume that @xmath163    for algorithm ( [ eq : alg1b ] ) , one has the following results :    \\(i ) if @xmath116 is non - increasing and satisfies @xmath147 , @xmath148 and @xmath149 ( for example , @xmath150 ) , then @xmath151 as @xmath152 with probability 1 , where @xmath101 satisfies @xmath164 ;    \\(ii ) if @xmath165 ( i.e. , constant step size ) where @xmath157 is small enough , then all queues are positive recurrent ( and therefore stable ) .    algorithm ( [ eq : alg1b ] ) is parametrized by @xmath113 and @xmath166 .",
    "clearly , as @xmath144 , @xmath145 and @xmath167 , @xmath168 , the maximal capacity region .",
    "the proof is similar to that of theorem [ thm : scheduling ] and is given in @xcite .",
    "a sketch is as follows : part ( i ) is similar to ( i ) in theorem [ thm : scheduling ] .",
    "the extra fact that @xmath169 reduces the queue size compared to algorithm 1 ( since when the queue size is large enough , it tends to decrease ) . part ( ii ) holds because if we choose @xmath170 , then by theorem [ thm : scheduling ] , @xmath156\\ge\\lambda_{k}+\\delta-\\delta>\\lambda_{k},\\forall k$ ] almost surely if @xmath157 is small enough .",
    "then the result follows by showing that the queue sizes have negative drift .",
    "in the previous section , we mentioned that the region @xmath142 ( and @xmath171 ) becomes larger as we decrease @xmath136 and/or increase @xmath135 .",
    "therefore , fixing @xmath136 , a larger @xmath135 leads to a larger capacity region , but allows for larger transmission lengths . in practice , however , the transmission lengths should not be too long , since longer transmission lengths * * lead to larger access delay ( where the access delay refers to the time between the beginnings of two consecutive successful transmissions of a link ) and larger variations of the delay , and consequently , poorer _ short - term fairness_. it is especially the case when a link has a number of conflicting links which do not interfere with each other .",
    "then the link has to wait for all the conflicting links to become inactive before attempting its transmission .",
    "this issue has been studied in @xcite@xcite@xcite in the contexts of 1-d and 2-d lattice topologies , and star topologies , where it is shown that the short - term fairness worsens when the _ access intensities _",
    "( i.e. , the ratios between the average transmission times and mean backoff times ) increase .",
    "although references @xcite@xcite@xcite focus on the collision - free idealized - csma , we observe the same phenomenon in the simulations of our model ( see appendix e for some simulation results in the 1-d and 2-d lattice topologies ) .",
    "therefore , there is a _",
    "tradeoff _ between the long - term efficiency ( i.e. , the capacity region ) and short - term fairness . to quantify the tradeoff we need to understand two relationships .",
    "the first is the relationship between the maximal required transmission lengths and the capacity region . and",
    "the second is between the maximal transmission lengths and the short - term fairness .",
    "we first discuss the second relationship . for simplicity , assume the arrival rate vector is @xmath85 , and that algorithm 1 has converged to the suitable mean payload lengths @xmath172 ( recall that @xmath138 is the vector such that @xmath173 ) .",
    "assume that we fix the mean payload lengths at @xmath106 s , and denote the ( random ) access delay of link @xmath19 by @xmath174 .",
    "we use two quantities to measure the short - term fairness of link @xmath19 : the mean and standard deviation of @xmath174 ( i.e. , @xmath175 and @xmath176 ) .",
    "similar to @xcite , one has@xmath177 therefore if we can find an upper bound of @xmath178 ( to be further discussed in this section ) , then an upper bound of @xmath175 can be obtained .",
    "( in fact , in algorithm 1 , the long - term average of @xmath174 is also @xmath179 , since the initial convergence phase is not significant in the long term . ) on the other hand , obtaining an expression of @xmath176 for general topologies is difficult and deserves future research .",
    "( in section [ sub : sim_alg ] we will present some numerical results . ) therefore , how to choose @xmath135 to ensure that @xmath176 is lower than some threshold remains an open problem .",
    "next we consider the first relationship .",
    "we present several generic bounds to characterize how the regions @xmath142 and @xmath171 depend on @xmath135 and @xmath136 .",
    "given a @xmath95 , by the definition of @xmath142 in ( [ eq : c_min_max ] ) , if one chooses @xmath180 and @xmath181 , then @xmath141 , so that algorithm 1 can be used to support @xmath85 .",
    "( @xmath182 is the @xmath19-th element of @xmath138 . )",
    "a similar statement can be made for @xmath171 .",
    "consider a vector @xmath183 which is at the boundary of @xmath89 ( i.e. , @xmath184 but @xmath185 ) . clearly , for @xmath186 , @xmath187 .",
    "denote @xmath188 .",
    "we are interested to bound @xmath189 . for the idealized csma model without collisions used in @xcite ,",
    "an earlier bound obtained in @xcite ( lemma 8-(3 ) ) suggests that @xmath190 ( where @xmath101 there controls the backoff times ) . in this section , we show a stronger result that , in our model with collisions , @xmath191 , so that the required @xmath135 to support arrival rates @xmath192 is not more than @xmath193 .",
    "( also , one can similarly show that the same order @xmath193 applies to the idealized csma model as well . )",
    "[ thm : collision]we have@xmath194\\label{eq : r - upper - bound-2}\\ ] ] for some constants @xmath195 , @xmath196 and @xmath3 ( defined during the proof ) , if @xmath197 . when @xmath198 , @xmath199/\\epsilon.\\label{eq : r - upper - bound-3}\\ ] ]    so roughly speaking , as @xmath200 , the value of @xmath138 is not more than @xmath193 by ( [ eq : r - upper - bound-2 ] ) .",
    "the proof is in appendix d.    the following is a lower bound of @xmath138 .",
    "[ thm : r - lower - bound-2]given any @xmath95 , we have@xmath201 therefore@xmath202    suppose that @xmath203 , then the mean payload length is @xmath204 .",
    "note that the overhead of each successful transmission is @xmath10 .",
    "so , even if link @xmath19 is successfully transmitting all the time , its service rate would be strictly less than @xmath205 , leading to a contradiction .    then , we have the following result .    @xmath191 as @xmath200 .    for convenience , denote @xmath206 .",
    "since we are interested in the asymptotic behavior as @xmath200 , assume that @xmath207 .",
    "denote @xmath208 .",
    "then , @xmath209 .    by ( [ eq : r - lower - bound-2 ] ) , we know that @xmath210 .",
    "then , combined with ( [ eq : r - upper - bound-2 ] ) , if @xmath197 , we have for any @xmath19,@xmath211-\\sum_{k'\\ne k}\\bar{\\lambda}_{k'}\\cdot r_{k'}^{*}({\\bf \\lambda})\\}/\\bar{\\lambda}_{k}\\\\   & \\le & \\{b\\cdot[\\log(\\frac{n}{b\\cdot\\epsilon})+2g+1]-\\sum_{k'\\ne k}\\bar{\\lambda}_{k'}\\cdot\\underline{r}\\}/\\bar{\\lambda}_{k}\\\\   & = & o(\\log(1/\\epsilon))\\end{aligned}\\ ] ] which completes the proof .",
    "consider the conflict graph in fig .",
    "[ fig:7nodes_cg ] .",
    "let the vector of arrival rates be @xmath212 , where @xmath186 is the `` load '' , and @xmath213 is a convex combination of several maximal is : @xmath214 + 0.2*[0,1,0,0,1,0,1]+0.2*[0,0,0,1,0,1,0]+0.2*[0,1,0,0,0,1,0]+0.2*[1,0,1,0,0,1,0]=[0.4,0.4,0.4,0.2,0.4,0.6,0.2]$ ] .",
    "since @xmath186 , @xmath85 is strictly feasible .",
    "fix the transmission probabilities as @xmath215 .",
    "the `` reference payload length '' @xmath216 .",
    "the conflict graph in simulations , width=151 ]      we evaluate algorithm ( [ eq : alg1b ] ) ( a variant of algorithm 1 ) in our c++ simulator .",
    "the update in ( [ eq : alg1b ] ) is performed every @xmath217 slots .",
    "let the step size @xmath218 , the upper bound @xmath219 , the lower bound @xmath220 , and the `` gap '' @xmath221 .",
    "the initial value of each @xmath62 is 0 .",
    "let the `` load '' of arrival rates be @xmath222 ( i.e. , @xmath223 ) .",
    "the collision length ( e.g. , rts length ) is @xmath224 , and the overhead of successful transmission is @xmath225 .    to show the negative drift of the queue lengths ,",
    "assume that initially all queue lengths are 300 data units ( where each data unit takes 100 slots to transmit ) .",
    "as expected , fig .",
    "[ fig : alg1 ] ( a ) shows the convergence of the mean payload lengths , and fig . [",
    "fig : alg1 ] ( b ) shows that all queues are stable .",
    ".[tab : st]short - term fairness of link 3 [ cols=\"^,^,^,^,^,^\",options=\"header \" , ]        @xmath226 & @xmath227 & @xmath228 & @xmath229 & @xmath230 & @xmath231 +   @xmath232 ( simulation ) & 0.279 & 0.386 & 0.547 & 0.548 & 0.387 & 0.279 +   @xmath232 ( @xcite ) & 0.272 & 0.347 & 0.442 & 0.442 & 0.347 & 0.273 +   @xmath233 ( simulation ) & 0.526 & 0.837 & 1.372 & 1.371 & 0.840 & 0.526 +   @xmath233 ( @xcite ) & 0.5 & 0.75 & 1.125 & 1.125 & 0.75 & 0.5 +   @xmath234 ( simulation ) & 1.075 & 2.229 & 4.735 & 4.733 & 2.240 & 1.072 +   @xmath234 ( @xcite ) & 1 & 2 & 4 & 4 & 2 & 1 +   @xmath235 ( simulation ) & 3.210 & 12.94 & 52.76 & 52.32 & 12.91 & 3.209 +   @xmath235 ( @xcite ) & 3 & 12 & 48 & 48 & 12 & 3 +    to study the tradeoff between the load @xmath236 and short - term fairness , we run algorithm ( [ eq : alg1b ] ) for @xmath237 . in each case , we collect the data of the access delay and compute its mean and standard deviation when @xmath66 has almost converged .",
    "table [ tab : st ] shows the results for link 3 ( and other links have a similar trend ) .",
    "note that when @xmath236 increases , both the standard deviation and the mean increase , and their ratio increases too , indicating poorer short - term fairness .    in @xcite , van de ven et al .",
    "considered the line topology ( i.e. , 1-d lattice topology ) and obtained the explicit expression of the access intensity of each link required to support a uniform throughput @xmath238 for all the links , under the idealized - csma model without collisions @xcite . for comparison ,",
    "we simulate algorithm 1 in a line topology with 6 links , where each link conflicts with the first 2 links on both sides .",
    "after algorithm 1 converges , we compute the access intensity of link @xmath19 as @xmath239 ( since the mean backoff time of link @xmath19 is @xmath240 ) , and compare it to the result of theorem 2 in @xcite ( although the `` access intensities '' under the two models are not completely equivalent due to our inclusion of collisions . ) let @xmath215 , @xmath241 and @xmath242 .",
    "we simulate four sets of arrival rates , @xmath243 where @xmath244 and @xmath245 , and give the results in table [ tab : r ] .",
    "the results show a close match , with relatively larger differences in @xmath228 and @xmath229 .",
    "the reason is that link 3 and 4 are in the middle of the network and suffer from more collisions .",
    "after each collision link 3 ( or 4 ) needs to restart the backoff , which increases its effective backoff time and therefore requires a larger payload length to compensate . also , all @xmath246 s are higher in the simulation due to collisions and the overhead @xmath10",
    ".      we have used dummy bits to facilitate our analysis and design of the algorithms . however , transmitting dummy bits when a queue is empty consumes extra bandwidth . in this subsection",
    ", we simulate our algorithms without dummy bits .    in both algorithm 1 and algorithm ( [ eq : alg1b ] ) , we make the following heuristic modification . for each link @xmath19 ,",
    "if @xmath126 as computed in ( [ eq : randomize - tp ] ) is larger than the current ( positive ) queue length , then transmit a packet that includes all the bits of the queue as the payload .",
    "that is , no dummy bits are added .",
    "if the queue is empty then the link keeps silent . in the computation of @xmath118 , however , the payload of the packet is counted as @xmath126 . )",
    "could not converge .",
    "indeed , if algorithm ( [ eq : alg1b ] ) converges , then the average service rates is strictly larger than the arrival rates , which is impossible if we only count the actually transmitted bits . ] not surprisingly , the modified algorithms are difficult to analyze , and we therefore do not claim their convergence .",
    "( however , they still seem to converge in the simulations . )    fig . [",
    "fig : nodummypkt ] shows the evolution of the average payload lengths under algorithm ( [ eq : alg1b ] ) without dummy bits , when @xmath222 .",
    "indeed , the required payload lengths are significantly reduced compared to fig . [",
    "fig : alg1 ] ( a ) due to the saved bandwidth .    under algorithm 1 , however , we find that the required payload lengths are very close with or without dummy bits .",
    "the reason is that , since algorithm 1 only tries to make the average service rates equals the arrival rates , the queues do not have a negative drift towards zero . as a result ,",
    "the queues are not close to zero most of the time , so dummy bits are rarely generated even if they are allowed .",
    "algorithm ( [ eq : alg1b ] ) without dummy bits , width=283 ]      so far we have assumed that there is no hidden node ( hn ) in the network . in this subsection",
    "we discuss the effect of hns .",
    "consider a simple network with 2 links that are hidden from each other .",
    "that is , they can not hear the transmissions of each other but a collision occurs if their transmissions overlap . unlike the case without hns , a link can start transmitting _ in the middle of _",
    "the other link s transmission and cause a collision .",
    "first , to explore how much service rates can be achieved in this scenario , we let the two links use the same , fixed payload length @xmath247 .",
    "let @xmath248 , and @xmath249 .",
    "the two links receive the same service rate by symmetry .",
    "[ fig : service - rates - hn ] shows the service rate of one link under different values of @xmath247 .",
    "note that the maximal service rate per link is about 0.12 , much less than 0.5 in the case without hns . also , when @xmath247 is large enough , further increasing @xmath247 decreases the service rates , because larger packets are more easily collided by the hn .",
    "then we simulate algorithm 1 with arrival rates @xmath250 .",
    "we set @xmath251 so that the maximal payload is @xmath252 ( slots ) , and @xmath253 .",
    "unlike the case without hns , the results depend on the initial condition as shown in fig .",
    "[ fig : algorithm-1-hn ] . for example",
    ", if the initial payload lengths of both links are 40 slots ( which we call `` initial condition 1 '' ) , then the mean payload lengths converge to the correct value ( about 17.5 ) .",
    "however , if the initial payloads are 80 slots ( `` initial condition 2 '' ) , then the mean payload lengths keep increasing ( until reaching the maximal value ) and can not support the arrival rates . this can be explained by fig .",
    "[ fig : service - rates - hn ] .",
    "initial payload lengths of 40 slots achieve a per - link service rate higher than the arrival rate . by algorithm 1 ,",
    "the payload lengths are decreased and eventually converge to the correct values . however ,",
    "if initially the payload lengths are 80 slots , a per - link service rate lower than 0.1 is achieved . by algorithm 1 , both links increase their payload lengths .",
    "this , however , further decreases their service rates , and the cycle goes on .",
    "the root cause for this behavior is as follows .",
    "algorithm 1 has implicitly used the fact that , without hns , a link s service rate increases with its payload length .",
    "however , it may not be the case when hns exist .    to sum up , in the presence of hns",
    ", both the achievable capacity region of csma and the property of our algorithms have changed . to address the hn problem ,",
    "there are at least two directions to explore .",
    "the first is to understand the achievable capacity with hns , and design algorithms to achieve the capacity .",
    "the second is to design protocols to remove or reduce hns , so that our existing algorithms can be applied .",
    "there have been many proposals aiming to remove or reduce the hns ( see @xcite and the references therein ) .",
    "service rates in a 2-link network with hidden nodes , width=245 ]    algorithm 1 with hidden nodes , width=283 ]",
    "in this paper , we have studied csma - based scheduling algorithms with collisions .",
    "we first provided a model and gave a throughput formula which takes into account the cost of collisions and overhead .",
    "the formula has a simple product form .",
    "next , we designed distributed algorithms where each link adaptively updates its mean transmission length to approach the throughput - optimality , and provided sufficient conditions to ensure the convergence and stability of the algorithms .",
    "we also characterized the relationship between the algorithm parameters and the achievable capacity region .",
    "finally , simulations results were presented to illustrate and verify the main results .    in the algorithm ,",
    "the transmission probabilities of the links are chosen to be fixed at a reasonable level , since we have shown that adjusting the transmission lengths alone is sufficient to approach throughput - optimality ( the main goal of this paper ) . however , the choices of the transmission probabilities @xmath254 s has an effect on the probability of collisions among the probe packets . in the future",
    ", we would like to further study whether the adjustment of transmission probabilities can be combined with the algorithm .",
    "also , we are interested to further explore the short - term fairness and the case with hidden nodes .",
    "[ thm : extended - state - distribution]in the stationary distribution , the probability of a valid state @xmath40 as defined by ( [ eq : w - definition ] ) is@xmath255\\label{eq : w}\\ ] ] where @xmath256 where @xmath257 is the p.m.f . of link @xmath24 s transmission length , as defined in ( [ eq : pmf ] ) . also , @xmath57 is a normalizing term such that @xmath258 , i.e. , all probabilities sum up to 1 .",
    "note that @xmath259 does not depend on the remaining time @xmath39 s .    for a given state @xmath260 ,",
    "define the set of active links whose remaining time is larger than 1 as@xmath261 links in @xmath262 will continue their transmissions ( either with success or a collision ) in the next slot .",
    "define the set of inactive links `` blocked '' by links in @xmath262 as@xmath263 where @xmath264 means that there is an edge between @xmath24 and @xmath19 in the conflict graph .",
    "links in @xmath265 will remain inactive in the next slot .",
    "write @xmath266 .",
    "define the set of all other links as@xmath267 these links can change their on - off states @xmath18 s in the next slot . on the other hand , links in @xmath268 will have the same on - off states @xmath18 s in the next slot .",
    "state @xmath40 can transit in the next slot to another valid state @xmath271 , i.e. , @xmath272 , if and only if @xmath41 satisfies that ( i ) @xmath273 ; ( ii ) @xmath274 ; ( iii ) @xmath275 , and @xmath276 .",
    "( if @xmath277 is an empty set , then condition ( iii ) is trivially true . )",
    "the transition probability is @xmath278^{x_{i}'}q_{i}^{1-x_{i}'}.\\label{eq : transition}\\ ] ] define@xmath279^{x_{i}}q_{i}^{1-x_{i}}.\\label{eq : transition - reversed}\\ ] ] ( if @xmath277 is an empty set , then @xmath280 and @xmath281 . )",
    "if @xmath40 and @xmath41 does not satisfy all the conditions ( i ) , ( ii ) , ( iii ) , then @xmath282 , and also define @xmath283 .    then , if @xmath272 ( and @xmath284 ) , @xmath285^{x_{i}}q_{i}^{1-x_{i}}$ ] . and @xmath286^{x_{i}'}q_{i}^{1-x_{i}'}$ ] . but for any @xmath287 , i.e. , @xmath288",
    ", we have @xmath289 by condition ( i ) , ( ii ) above . therefore",
    ", the two expressions are equal .",
    "thus@xmath290      we will show later that @xmath292 is the transition probability of the `` time - reversed process '' of the above markov chain ( notice the similarity between @xmath293 and @xmath292 ) , and naturally satisfies @xmath294 . assuming that the claim is true , then by ( [ eq : balance ] ) , we have @xmath295 therefore , @xmath259 is the stationary ( or `` invariant '' ) distribution , which completes the proof of lemma [ thm : extended - state - distribution ] .",
    "it remains to be shown that the above claim is true , in particular , that @xmath294 .",
    "denote the orignal process as @xmath296 ( this is the markov process that describes our csma protocol , with transition probabilities @xmath297 in ( [ eq : transition ] ) ) . adding a time index in ( [ eq : w - definition ] ) , we have @xmath298 now define the time - reversed process @xmath299 .",
    "first , note that in the process @xmath300 , the remaining time @xmath301 , if defined , decreases with @xmath302 ; in the reversed process @xmath303 , however , @xmath304 increases with @xmath302 .",
    "therefore , @xmath300 and @xmath303 are , clearly , statistically distinguishable .",
    "so @xmath300 is not time - reversible .",
    "however , if we re - label the `` remaining time '' in the reversed order , then the process @xmath303 `` looks a lot '' like the process @xmath300 .",
    "( this is why we say the csma / ca markov chain is almost time - reversible . ) more formally , with the understanding that @xmath260 , define a function @xmath305 as @xmath306            these facts can be illustrated by the example in fig . [ fig : example - markov ] .",
    "first consider fact 1 .",
    "note that @xmath313 , by definition , is the set of links that are in the middle of a transmission in state @xmath40 and will continue the transmission in the next state @xmath41 .",
    "then , in the reversed process , such links are also in the middle of a transmission in state @xmath314 and will continue the transmission in the next state @xmath315 .",
    "so @xmath309 .",
    "similarly , @xmath316 , the set of links that are blocked by @xmath262 in @xmath40 are also blocked by @xmath317 in the reversed process .",
    "therefore @xmath318 . then by ( [ eq : a_2 ] ) , we have @xmath311 .",
    "( note that it is not difficult to prove fact 1 mechanically via the definitions of @xmath319 .",
    "but we omit it here . )",
    "one can also verify fact 2 in fig .",
    "[ fig : example - markov ] .",
    "we now give a more formal proof .",
    "if @xmath272 , then @xmath40 and @xmath41 satisfy conditions ( i)~(iii ) .",
    "we first show that @xmath320 . to this end",
    ", we need to verify that the states @xmath314 and @xmath315 satisfy condition ( i)~(iii ) . condition ( i ) holds because @xmath310 by fact 1 , and because @xmath305 does not change the `` on - off state '' of its argument .",
    "condition ( ii ) holds since @xmath305 has reversed the remaining time ( cf .",
    "( [ eq : func_g ] ) ) . condition ( iii )",
    "requires that in the reversed process , any link @xmath321 which is transmitting in the state @xmath315 must have just started its transmission .",
    "this is true because @xmath322 by fact 1 , and that in the original process @xmath323 , any link @xmath324 which is transmitting in state @xmath40 must be in its last slot of the transmission ( otherwise the link would be in @xmath262 )",
    ". then condition ( iii ) holds since @xmath305 has reversed the remaining time .",
    "consider two states @xmath40 and @xmath41 with @xmath272 .",
    "then @xmath320 , with @xmath328^{x_{i}}q_{i}^{1-x_{i}}\\ ] ] by ( [ eq : transition ] ) . using ( [ eq : transition - reversed ] ) and @xmath311",
    ", we have @xmath329^{x_{i}}q_{i}^{1-x_{i}}\\nonumber \\\\   & = & \\prod_{i\\in a_{2}(g(w'))}[p_{i}\\cdot f(b_{i},i , x)]^{x_{i}}q_{i}^{1-x_{i}}\\nonumber \\\\   & = & q(g(w'),g(w)).\\label{eq : prob - equal}\\end{aligned}\\ ] ]      by definition , @xmath283 for any @xmath291 satisfying @xmath282 .",
    "so , given @xmath41,@xmath330 where the last step has used the fact that @xmath305 is a one - one mapping , so that the summation is over all valid states .",
    "using lemma [ thm : extended - state - distribution ] , the probability of any on - off state @xmath20 , as in theorem [ thm : state - distribution ] , can be computed by summing up the probabilities of all states @xmath40 s with the same on - off state @xmath20 , using ( [ eq : w ] ) .",
    "define the set of valid states @xmath331 . by lemma",
    "[ thm : extended - state - distribution ] , we have@xmath332\\}\\nonumber \\\\   & = & \\frac{1}{e}(\\prod_{i : x_{i}=0}q_{i}\\prod_{j : x_{j}=1}p_{j})\\sum_{w\\in{\\cal b}(x)}\\prod_{j : x_{j}=1}f(b_{j},j , x)\\nonumber \\\\   & = & \\frac{1}{e}(\\prod_{i : x_{i}=0}q_{i}\\prod_{j : x_{j}=1}p_{j})\\cdot\\sum_{w\\in{\\cal b}(x)}[\\prod_{j\\in s(x)}p_{j}(b_{j})].\\label{eq : step1}\\end{aligned}\\ ] ]    now we compute the term @xmath333 $ ] . consider a state @xmath334 . for @xmath335 , @xmath38 can take different values in @xmath336 .",
    "for each fixed @xmath38 , @xmath39 can be any integer from 1 to @xmath38 . for a collision component @xmath28",
    "( i.e. , @xmath30 ) , the remaining time of each link in the component , @xmath51 , can be any integer from 1 to @xmath8 .",
    "then we have @xmath337\\nonumber \\\\   & = & \\prod_{j\\in s(x)}[\\sum_{b_{j}}\\sum_{1\\le a_{j}\\le b_{j}}p_{j}(b_{j})]\\prod_{m:|c_{m}(x)|>1}(\\sum_{1\\le a^{(m)}\\le\\gamma}1)\\nonumber \\\\   & = & \\prod_{j\\in s(x)}[\\sum_{b_{j}}b_{j}p_{j}(b_{j})]\\cdot\\gamma^{h(x)}\\nonumber \\\\   & = & ( \\prod_{j\\in s(x)}t_{j})\\gamma^{h(x)}.\\label{eq : step2}\\end{aligned}\\ ] ]          if at an on - off state @xmath20 , @xmath335 ( i.e. , @xmath19 is transmitting successfully ) , it is possible that link @xmath19 is transmitting the overhead or the payload .",
    "so we define the `` detailed state '' @xmath338 , where @xmath339 .",
    "let @xmath340 if @xmath335 and link @xmath19 is transmitting its payload ( instead of overhead ) .",
    "let @xmath341 otherwise .",
    "denote the set of all possible detailed states @xmath338 by @xmath342 .    then similar to the proof of theorem [ thm : state - distribution ] , and using equation ( [ eq : px_given_r ] )",
    ", we have the following product - form stationary distribution@xmath343 where @xmath344 where @xmath345 is the number of links that are transmitting the payload in state @xmath338 .",
    "[ def : c - cbar - co](i ) a vector of arrival rate @xmath84 ( where @xmath0 is the number of links ) is _ feasible _ if there exists a probability distribution @xmath347 over @xmath342 ( i.e. , @xmath348 and @xmath349 ) , such that @xmath350      the rationale of the definition is that if @xmath85 can be scheduled by the network , the fraction of time that the network spent in the detailed states must be non - negative and sum up to 1 .",
    "( note that ( [ eq : feasible ] ) is the probability that link @xmath19 is sending its payload given the distribution of the detailed states . )      for example , in the ad - hoc network in fig .",
    "[ fig : ad - hoc ] ( b ) , @xmath354 is feasible , because ( [ eq : feasible ] ) holds if we let the probability of the detailed state @xmath355 be 0.5 , the probability of the detailed state @xmath356 be 0.5 , and all other detailed states have probability 0 .",
    "however , @xmath354 is not strictly feasible since it can not be written as ( [ eq : feasible ] ) where all @xmath352 . but",
    "@xmath357 is strictly feasible .",
    "we first prove ( [ eq : eq_cbar ] ) . by definition",
    ", any @xmath359 can be written as @xmath360 where @xmath78 is the set of independent sets , and @xmath361 is a probability distribution , i.e. , @xmath362 .",
    "now we construct a distribution @xmath363 over the states @xmath364 as follows .",
    "let @xmath365 , and let @xmath366 for all other states @xmath364 .",
    "then , clearly @xmath367 , which implies that @xmath368 .",
    "so , @xmath369    on the other hand , if @xmath368 , then @xmath370 for some distribution @xmath363 over @xmath342 .",
    "we define another distribution @xmath347 over @xmath78 as follows .",
    "let @xmath371 .",
    "then , @xmath372 , which implies that @xmath359 .",
    "therefore@xmath373      we defined that @xmath91 is the interior of @xmath89 . to prove ( [ eq : eq_c ] ) , we only need to show that @xmath353 is also the interior of @xmath89 . the proof is similar to that in appendix a of @xcite , and is thus omitted .",
    "assume that @xmath85 is strictly feasible .",
    "consider the following convex optimization problem , where the vector @xmath374 can be viewed as a probability distribution over the detailed states @xmath338:@xmath375\\}\\nonumber \\\\   & \\text{s.t .",
    "} & \\sum_{(x , z)\\in{\\cal s}:z_{k}=1}u_{(x , z)}=\\lambda_{k},\\forall k\\nonumber \\\\   &   & u_{(x , z)}\\ge0,\\sum_{(x , z)\\in{\\cal s}}u_{(x , z)}=1\\label{eq : me - dual}\\end{aligned}\\ ] ] where @xmath376 $ ] is the `` entropy '' of the distribution @xmath374 .      the optimum dual variables @xmath101 ( when problem ( [ eq : me - dual ] ) is solved ) exists , and satisfy ( [ eq : thu - optimal ] ) , i.e. , @xmath140",
    "also , the dual problem of ( [ eq : me - dual ] ) is ( [ eq : loglikelihood - primal_c ] ) .    with the above definition of @xmath66 , a partial lagrangian of problem ( [ eq : me - dual ] ) ( subject to @xmath379 )",
    "is@xmath380\\nonumber \\\\   &   & + \\sum_{k}r_{k}[\\sum_{(x , z)\\in{\\cal s}:z_{k}=1}u_{(x , z)}-\\lambda_{k}]\\nonumber \\\\   & = & \\sum_{(x , z)\\in{\\cal s}}\\{u_{(x , z)}[-\\log(u_{(x , z)})+\\log(g(x , z))\\nonumber \\\\   &   & + \\sum_{k : z_{k}=1}r_{k}]\\}-\\sum_{k}(r_{k}\\lambda_{k}).\\label{eq : partial - l}\\end{aligned}\\ ] ]      we claim that @xmath382 ( cf . equation ( [ eq : detailed - state - dist ] ) ) maximizes @xmath383 over @xmath374 subject to @xmath379 . indeed , the partial derivative at the point @xmath384 is@xmath385 which is the same for all @xmath364 ( since given the dual variables @xmath66",
    ", @xmath386 is a constant ) . also , @xmath387 and @xmath388 .",
    "therefore , it is impossible to increase @xmath383 by slightly perturbing @xmath374 around @xmath384 ( subject to @xmath389 ) . since @xmath383 is concave in @xmath374 , the claim follows",
    ".    denote @xmath390 , then the dual problem of ( [ eq : me - dual ] ) is @xmath391 . plugging the expression of @xmath392 into @xmath383 ,",
    "it is not difficult to find that @xmath391 is equivalent to @xmath393 where @xmath394 is defined in ( [ eq : lr ] ) .",
    "since @xmath85 is strictly feasible , it can be written as ( [ eq : feasible ] ) where @xmath348 and @xmath352 .",
    "therefore , there exists @xmath395 ( by choosing @xmath396 ) that satisfies the constraints in ( [ eq : me - dual ] ) and also in the interior of the domain of the objective function .",
    "so , problem ( [ eq : me - dual ] ) satisfies the slater condition @xcite . as a result , there exists a vector of ( finite ) optimal dual variables @xmath101 when problem ( [ eq : me - dual ] ) is solved .",
    "also , @xmath101 solves the dual problem @xmath393 .",
    "therefore , @xmath393 is attainable and can be written as @xmath139 , as in ( [ eq : loglikelihood - primal_c ] ) .      _ remark _ : from ( [ eq : partial - l ] ) and ( [ eq : lagrangian - maximizer ] ) , we see that a subgradient ( or gradient ) of the dual objective function @xmath394 is @xmath400 this can also be obtained by direct differentiation of @xmath394 .",
    "now we show the uniqueness of @xmath101 .",
    "note that the objective function of ( [ eq : me - dual ] ) is strictly concave .",
    "therefore @xmath397 , the optimal solution of ( [ eq : me - dual ] ) is unique .",
    "consider two detailed state @xmath401 and @xmath402 , where @xmath403 is the @xmath0-dimensional vector whose @xmath19th element is 1 and all other elements are 0 s .",
    "we have @xmath404 and @xmath405 . then by ( [ eq : detailed - state - dist ] )",
    ", @xmath406 suppose that @xmath407 is not unique , that is , there exist @xmath408 but both are optimal @xmath66 .",
    "then , @xmath409 for some @xmath19 .",
    "this contradicts ( [ eq : ratio - prob ] ) and the uniqueness of @xmath397 .",
    "therefore @xmath101 is unique .",
    "this also implies that @xmath139 has a unique solution @xmath101 .              note that @xmath411 where @xmath412 is defined in ( [ eq : h ] ) .",
    "let @xmath413 . since @xmath85 is strictly feasible",
    ", @xmath139 has a unique solution @xmath101 .",
    "that is , @xmath414 .",
    "since @xmath415 by assumption , then @xmath416 , @xmath417",
    ". therefore , @xmath418 .",
    "so @xmath101 is the unique solution of @xmath419 . because @xmath420 , algorithm 1 tries to solve @xmath419 with inaccurate gradients .",
    "let @xmath421 be the solution of the following differential equation ( for @xmath422 ) @xmath423 with the initial condition that @xmath424 .",
    "so , @xmath421 can be viewed as the `` ideal '' trajectory of algorithm 1 with the smoothed arrival rate and service rate . and",
    "( [ eq : ode ] ) can be viewed as a continuous - time gradient algorithm to solve @xmath419 .",
    "we have shown above that @xmath101 is the unique solution of @xmath419 .",
    "therefore @xmath421 converges to the unique @xmath101 for any initial condition .",
    "recall that in algorithm 1 , @xmath111 is always updated at the beginning of a minislot .",
    "define @xmath425 where @xmath426 is the state @xmath40 at time @xmath108 .",
    "then @xmath427 is a non - homogeneous markov process whose transition kernel from time @xmath110 to @xmath108 depends on @xmath428 .",
    "the update in algorithm 1 can be written as@xmath429\\ ] ] where @xmath430 , and @xmath431 is zero - mean noise .",
    "\\(v ) tightness condition ( ( ) in @xcite , page 71 ) : this is satisfied since @xmath433 has a bounded state - space ( cf . conditions ( 6.4.1 ) and ( 6.4.2 ) in @xcite , page 76 ) .",
    "the state space of @xmath433 is bounded because @xmath435 $ ] and @xmath426 is in a finite set ( which is shown in lemma [ lem : finite - set ] ) below .",
    "[ lem : r - bounded - algorithm-4]with algorithm 1 , @xmath111 is always bounded .",
    "specifically , @xmath436,\\forall k , i$ ] , where @xmath120 , as defined before , is the maximal instantaneous arrival rate , so that @xmath121 .",
    "we first prove the upper bound @xmath437 by induction : ( a ) @xmath438 ; ( b ) for @xmath439 , if @xmath440 $ ] , then @xmath441 .",
    "since @xmath442 , we have @xmath443 . if @xmath444 , then @xmath445 . also since @xmath442 and @xmath446 , we have @xmath447 . if @xmath448 , then @xmath449\\\\   & \\le & r_{k}(i-1)+\\alpha(i)\\{\\bar{\\lambda}+[r_{min}-r_{k}(i-1)]\\}\\\\   & = & [ 1-\\alpha(i)]\\cdot r_{k}(i-1)+\\alpha(i)\\{\\bar{\\lambda}+r_{min}\\}\\\\   & \\le & [ 1-\\alpha(i)]\\cdot r_{min}+\\alpha(i)\\{\\bar{\\lambda}+r_{min}\\}\\\\   & = & r_{min}+\\alpha(i)\\cdot\\bar{\\lambda}\\\\   & \\le & \\bar{\\lambda}+r_{min}\\le r_{max}+2\\bar{\\lambda}.\\end{aligned}\\ ] ] the lower bound @xmath450 can be proved similarly .      by lemma [ lem : r - bounded - algorithm-4 ] , we know that @xmath451 , so @xmath452 . by ( [ eq : randomize - tp ] )",
    ", we have @xmath453 . therefore , in state @xmath454 , we have @xmath53 for a constant @xmath52 and @xmath455 for any @xmath19 such that @xmath21 .",
    "so , @xmath426 is in a finite set .",
    "let @xmath195 be the number of detailed states @xmath338 s , and @xmath456 be a probability distribution over the detailed states .",
    "for convenience of notation , we use @xmath457 to index the detailed states",
    ". then @xmath458 , the @xmath6-th element of @xmath374 , is the probability of the @xmath6-th detailed state .",
    "let @xmath459 be the set of @xmath195-dimensional probability distributions , i.e. , @xmath460 . also define a @xmath461 matrix @xmath462 where the element @xmath463 if link @xmath19 is transmitting its _ payload _ in the @xmath6-th detailed state , and @xmath464 otherwise .",
    "then , @xmath465 is the vector of achieved throughputs of the @xmath0 links under the distribution @xmath374 .",
    "[ lem : lip]given @xmath213 at the boundary of @xmath89 , there exists a constant @xmath466 such that the following holds : for any @xmath467 , if @xmath468 and @xmath469 , then one can find @xmath470 such that @xmath471 and @xmath472 .",
    "consider the set @xmath473 .",
    "clearly @xmath474 is a polytope since @xmath474 is defined by linear constraints .",
    "denote by @xmath475 the set of extreme points of @xmath474 .",
    "then , if @xmath476 and satisfies @xmath469 , we have @xmath477 where @xmath478 and @xmath479 .",
    "also , by definition , for any @xmath480 , @xmath481 for some @xmath482 $ ] .",
    "then,@xmath483 where @xmath484 .    for any @xmath485 ,",
    "define@xmath486 it can be shown that @xmath487 is a convex function of @xmath488 .",
    "( proof : consider any two @xmath489 and @xmath490 .",
    "when @xmath491 ( or @xmath490 ) , suppose @xmath492 ( or @xmath493 ) is an optimal solution of problem ( [ eq : min_distance ] ) .",
    "that is , @xmath494 and @xmath495 .",
    "given any @xmath496 $ ] , we have @xmath497-[\\beta{\\bf z}_{i}+(1-\\beta){\\bf z}_{ii}]||_{1}.\\label{eq : middle}\\end{aligned}\\ ] ]    now consider @xmath498 .",
    "clearly , @xmath499 satisfies the constraint @xmath500 .",
    "so , @xmath501-[\\beta{\\bf z}_{i}+(1-\\beta){\\bf z}_{ii}]||_{1}$ ] .",
    "combined with ( [ eq : middle ] ) , we have @xmath502 , which implies that @xmath487 is a convex function of @xmath488 . )",
    "define @xmath506 since there are a finite number of elements in @xmath475 , we have @xmath507 .",
    "then @xmath508\\\\   & = & 2b\\cdot\\sum_{{\\bf y}\\in{\\cal e}({\\cal u})}[a_{{\\bf y}}\\cdot(1-\\rho_{{\\bf y}})]\\\\   & = & 2b[1-\\rho_{{\\bf u}}]=2b\\epsilon.\\end{aligned}\\ ] ]            now we show that @xmath530 $ ] .",
    "define the function @xmath531 .",
    "first , for @xmath532 , denote @xmath533 , then @xmath534 .",
    "note that @xmath535 $ ] . since @xmath536 is concave , with @xmath537 , we have @xmath538 .",
    "so@xmath539\\le\\sum_{i\\in{\\cal i}_{1}}f(\\delta_{i})\\nonumber \\\\   & \\le & \\sum_{i\\in{\\cal i}_{1}}f(\\frac{n_{1}}{||({\\bf u}-\\bar{{\\bf u}})^{+}||_{1}})\\nonumber \\\\   & = & ||({\\bf u}-\\bar{{\\bf u}})^{+}||_{1}\\log(\\frac{n_{1}}{||({\\bf u}-\\bar{{\\bf u}})^{+}||_{1}})\\nonumber \\\\   & \\le & ||({\\bf u}-\\bar{{\\bf u}})^{+}||_{1}\\log(\\frac{n'}{||({\\bf u}-\\bar{{\\bf u}})^{+}||_{1}})\\label{eq : ineq}\\end{aligned}\\ ] ] where the second inequality follows from the fact that @xmath536 is concave and @xmath540 .",
    "it is easy to show that @xmath536 is increasing in the range @xmath541 $ ] . also , we have @xmath542 ( even in the smallest one - link network )",
    ". thus @xmath543 . therefore , from ( [ eq : ineq]),@xmath544 & \\le & n'\\cdot f(\\frac{||({\\bf u}-\\bar{{\\bf",
    "u}})^{+}||_{1}}{n'})\\nonumber \\\\   & \\le & n'\\cdot f(\\frac{c}{n'})=c\\log(\\frac{n'}{c}).\\label{eq : positive - part}\\end{aligned}\\ ] ]    since @xmath536 is concave , we have @xmath545 . for @xmath546 since @xmath547 and @xmath548 for any @xmath549 $ ] , we have @xmath550 & \\le & \\sum_{i\\in{\\cal i}_{2}}(\\bar{u}_{i}-u_{i})\\le c.\\label{eq : negative - part}\\end{aligned}\\ ] ]        as explained before , @xmath138 is the vector of optimal dual variables in the optimization problem ( [ eq : me - dual ] ) , simply written as@xmath552 where @xmath553 denote the constants @xmath554 for @xmath364 .",
    "let @xmath397 be the optimal solution when @xmath206 .",
    "then @xmath555 .",
    "since @xmath470 satisfies @xmath471 , we have @xmath558 . also , the `` value function '' @xmath559 is concave in @xmath85 ( @xcite page 250 ) , and satisfies @xmath560 . therefore@xmath561\\\\   & = & h({\\bf u}^{*})+\\sum_{i}g_{i}u_{i}^{*}-\\epsilon\\cdot\\bar{{\\bf \\lambda}}^{t}{\\bf",
    "r}^{*}((1-\\epsilon)\\bar{{\\bf \\lambda}}).\\end{aligned}\\ ] ] so , @xmath562 denote @xmath563 , then @xmath564      for the second case when @xmath566 , choose an arbitrary @xmath470 such that @xmath471",
    ". clearly , @xmath567 , so the rhs of ( [ eq : ineq2 ] ) can be replaced by @xmath568 . also , @xmath569 since @xmath570 $ ] . using these in ( [ eq : ineq1 ] ) yields ( [ eq : r - upper - bound-3 ] ) .",
    "consider a line network ( i.e. , 1-d lattice network ) with 16 links , where each link conflicts with the nearest 2 links on each side ( so , link @xmath19 conflicts with 4 other links if it is not at the two ends of the network ) , as in fig .",
    "[ fig:1d ] .",
    "let @xmath248 and @xmath215 . in each simulation",
    ", we let all links use the same , fixed payload length @xmath571 , and we compute the `` short - term throughput '' of link 8 ( in the middle of the network ) every 50 milliseconds ( or @xmath572 slots ) .",
    "that is , we compute the average throughput of link 8 in each time window of 50 milliseconds .",
    "note that a successful transmission has a length of @xmath573 .",
    "also note that if the parameter @xmath135 in algorithm 1 satisfies that @xmath574 , then it is possible that all links transmit payload @xmath575 .",
    "next we simulate a 2-d lattice network with 5 * 5=25 links in fig .",
    "[ fig:2d ] .",
    "each link conflicts with the nearest 4 links around it ( if it s not at the boundary ) .",
    "similar to the previous simulation , we use different values of @xmath575 and obtain the following short - term throughput of link 13 ( which is at the center of the network ) in fig .",
    "[ fig : st-2d ] .",
    "again we observe wrosening short - term fairness as @xmath575 increases . also , the oscillation of link 13 s short - term throughput is greater than link 8 in the line network , since link 13 has 4 conflicting neighbors which do not conflict with each other .",
    "however , as mentioned before , it remains an open problem to exact characterize the relationship between short - term fairness ( in particular the standard deviation of the access delay ) and @xmath575 ( or equivalently , @xmath135 ) in general topologies .",
    "we are interested to further explore useful methods to quantify the relationship .",
    "l. tassiulas and a. ephremides , `` stability properties of constrained queueing systems and scheduling policies for maximum throughput in multihop radio networks , '' _ ieee transactions on automatic control _ , vol .",
    "1936 - 1948 , dec . 1992 .",
    "a. dimakis and j. walrand , `` sufficient conditions for stability of longest - queue - first scheduling : second - order properties using fluid limits , '' _ advances in applied probability _ , vol .",
    "505521 , 2006 .",
    "r. r. boorstyn , a. kershenbaum , b. maglaris , and v. sahin , `` throughput analysis in multihop csma packet radio networks , '' _ ieee transactions on communications _ ,",
    "267 - 274 , mar .",
    "1987 .",
    "l. jiang and j. walrand , `` a distributed csma algorithm for throughput and utility maximization in wireless networks , '' in _ the 46th annual allerton conference on communication , control , and computing _ , sep .",
    "23 - 26 , 2008 .",
    "j. liu , y. yi , a. proutiere , m. chiang , and h. v. poor , `` towards utility optimal random access without message passing , '' ( invited paper ) _ wiley journal on wireless communications and mobile computing , special issue on advances in wireless communications and networking _ , vol .",
    "115 - 128 , jan . 2010 .",
    "p.m. van de ven , j.s.h .",
    "van leeuwaarden , t.j.j .",
    "denteneer , a.j.e.m .",
    "janssen , `` spatial fairness in wireless multi - access networks , '' in _ proc .",
    "4th international conference on performance evaluation methodologies and tools ( valuetools09 ) _ , pisa , italy , oct .",
    "2009 .",
    "l. jiang and j. walrand , `` approaching throughput - optimality in a distributed csma algorithm with contention resolution , '' technical report , uc berkeley , mar .",
    "url : http://www.eecs.berkeley.edu/pubs/techrpts/2009/eecs-2009-37.html      l. jiang and j. walrand , `` a distributed csma algorithm for throughput and utility maximization in wireless networks , '' technical report , uc berkeley , aug .",
    "libin jiang received his ph.d .",
    "degree in electrical engineering & computer sciences from the university of california at berkeley in 2009 .",
    "earlier , he received the b.eng .",
    "degree from the university of science and technology of china in 2003 , and the m.phil .",
    "degree from the chinese university of hong kong in 2005 .",
    "his research interests include wireless networks , communications and game theory .",
    "he received the david j. sakrison memorial prize in 2010 for outstanding doctoral research , and the best presentation award in the acm mobihoc09 s3 workshop .",
    "jean walrand received his ph.d .",
    "in eecs from uc berkeley , where he has been a professor since 1982 .",
    "he is the author of an introduction to queueing networks ( prentice hall , 1988 ) and of communication networks : a first course ( 2nd ed .",
    "mcgraw - hill,1998 ) and co - author of high performance communication networks ( 2nd ed , morgan kaufman , 2000 ) .",
    "walrand is a fellow of the belgian american education foundation and of the ieee and a recipient of the lanchester prize and of the stephen o. rice prize ."
  ],
  "abstract_text": [
    "<S> it was shown recently that csma ( carrier sense multiple access)-like distributed algorithms can achieve the maximal throughput in wireless networks ( and task processing networks ) under certain assumptions . </S>",
    "<S> one important , but idealized assumption is that the sensing time is negligible , so that there is no collision . in this paper , we study more practical csma - based scheduling algorithms with collisions . </S>",
    "<S> first , we provide a markov chain model and give an explicit throughput formula which takes into account the cost of collisions and overhead . </S>",
    "<S> the formula has a simple form since the markov chain is `` almost '' time - reversible . </S>",
    "<S> second , we propose transmission - length control algorithms to approach throughput optimality in this case . </S>",
    "<S> sufficient conditions are given to ensure the convergence and stability of the proposed algorithms . </S>",
    "<S> finally , we characterize the relationship between the csma parameters ( such as the maximum packet lengths ) and the achievable capacity region </S>",
    "<S> .    distributed scheduling , csma , markov chain , convex optimization </S>"
  ]
}