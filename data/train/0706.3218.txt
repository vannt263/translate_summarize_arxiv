{
  "article_text": [
    "many questions in geometric group theory investigate whether a particular group has a given property . an ideal answer involves a determination of whether the group has the property with respect to all , none or some generating sets .",
    "there are few definitive answers of this form when the group in question is thompson s group @xmath0 because there is a single finite generating set with respect to which the word length of group elements can be computed .",
    "this allows results for @xmath0 such as    [ thm : x0x1 ] with respect to the generating set @xmath4 , thompson s group @xmath0    1 .",
    "is not almost convex .",
    "@xcite 2 .",
    "has only pockets of depth two .",
    "@xcite    ideally we would like to determine whether the group has these , or other , properties with respect to any or no generating set , or list exactly those generating set which yield these properties .    in this paper",
    ", we present a method for computing the word length of elements of @xmath0 with respect to _ consecutive _ generating sets of the form @xmath1 .",
    "this greatly expands the set of generating sets in which we can compute the word length .",
    "we note that the three known methods of computing word length for the generating set @xmath4 , due to fordham @xcite , guba @xcite , and belk - brown @xcite , are all special cases of our procedure when @xmath5 .",
    "we use this method to prove the following theorems which extend the results listed above in theorem [ thm : x0x1 ] .    * theorem 6.1 . *",
    "thompson s group @xmath0 is not almost convex with respect to the generating set @xmath1 .",
    "* theorem 7.1 . * for any @xmath6 , thompson s group @xmath0 has pockets of depth at least @xmath7 with respect to the generating set @xmath1 , for @xmath8 .    in addition , we are able to provide an upper bound on the depth of these pockets which is also dependent on @xmath3 .",
    "this paper is organized as follows .",
    "the second section provides a short introduction to thompson s group @xmath0 .",
    "the third section outlines and proves our procedure for computing word length , although the proofs of the two main lemmas are deferred to sections four and five .",
    "section six is devoted to the proof of theorem [ thm : notac ] , and in section seven we prove theorem [ thm : pockets ] as well as an upper bound on pocket depth .",
    "we present a brief introduction to thompson s group @xmath0 and refer the reader to @xcite for a more detailed discussion .",
    "this group can be studied either as a finitely or infinitely presented group , using the two standard presentations : @xmath9 or , as it is clear that @xmath10 and @xmath11 are sufficient to generate the entire group , since powers of @xmath10 conjugate @xmath11 to @xmath12 for @xmath13 , @xmath14,[x_0x_1^{-1},x_0^{-2}x_1x_0 ^ 2 ] \\rangle.\\ ] ] the relators in the infinite presentation are all a consequence of the basic set of two relators given in the finite presentation .    with respect to the infinite presentation , each element @xmath15 can be written in normal form as @xmath16 with @xmath17 , @xmath18 and @xmath19 .",
    "this normal form is unique if we further require that when both @xmath12 and @xmath20 occur , so does @xmath21 or @xmath22 , as discussed by brown and geoghegan @xcite .",
    "we will use the term _ normal form _ to mean this unique normal form .",
    "elements of @xmath0 can be viewed combinatorially as pairs of finite binary rooted trees , each with the same number @xmath3 of carets , called tree pair diagrams .",
    "we define a _",
    "caret _ to be a vertex of the tree together with two downward oriented edges , which we refer to as the left and right edges of the caret .",
    "right ( respectively left ) child _ of a caret @xmath23 is defined to be a caret which is attached to the right ( resp .",
    "left ) edge of @xmath23 . if a caret @xmath23 does not have a right ( resp",
    ". left ) child , we call the right ( resp",
    ". left ) leaf of @xmath23 _",
    "exposed_. define the _ level _ of a caret inductively as follows .",
    "the root caret is defined to be at level 1 , and the child of a level @xmath7 caret has level @xmath24 , for @xmath6 .",
    "the _ left ( resp .",
    "right ) side _ of a tree is defined to be the maximal path of left ( resp .",
    "right ) edges beginning at the root caret .",
    "we number the leaves of each tree from left to right from @xmath25 through @xmath3 , and number the carets in infix order from @xmath26 through @xmath3 .",
    "the infix ordering is carried out by numbering the left child of a caret @xmath23 before numbering @xmath23 , and the right child of @xmath23 afterwards .",
    "an element @xmath15 is represented by an equivalence class of tree pair diagrams , among which there is a unique reduced tree pair diagram .",
    "we say that a pair of trees is _ unreduced _ if when the leaves are numbered from @xmath25 through @xmath3 , there is a caret in both trees with two exposed leaves bearing the same leaf numbers .",
    "we remove such pairs until no more exist , producing the unique _ reduced _ tree pair diagram representing @xmath27 .",
    "see figure [ fig : reduced ] for an example of reduced and unreduced tree pair diagrams representing the same group element .",
    "the reduced tree pair diagrams for @xmath10 and @xmath28 are given in figure [ fig : generators ] .",
    "when we write @xmath29 , we are assuming that this is the unique reduced tree pair diagram representing @xmath30 .         and",
    "@xmath28 of @xmath0.,width=480 ]    the equivalence of these two interpretations of thompson s group is given using the normal form for elements with respect to the standard infinite presentation , and the concept of leaf exponent . in a single tree @xmath31",
    "whose leaves are numbered from left to right beginning with @xmath25 , the _ leaf exponent _ @xmath32 of leaf number @xmath7 is defined to be the integral length of the longest path of left edges from leaf @xmath7 which does not reach the right side of the tree .",
    "figure [ fig : leafexp ] gives an example of a tree whose leaf exponents are computed .",
    "given a reduced tree pair diagram @xmath33 representing @xmath15 , compute the leaf exponents @xmath32 for all leaves @xmath7 in @xmath31 , numbered @xmath25 through @xmath3 .",
    "the negative part of the normal form for @xmath27 is then @xmath34 .",
    "we compute the exponents @xmath32 for the leaves of the tree @xmath35 and thus obtain the positive part of the normal form as @xmath36 .",
    "many of these exponents will be @xmath25 , and after deleting these , we can index the remaining terms to correspond to the normal form given above , following @xcite . as a result of this process",
    ", we often denote a tree pair diagram as @xmath37 , since the first tree in the pair determines the terms in the normal form with negative exponents , and the second tree determines those terms with positive exponents .",
    "we refer to @xmath38 as the negative tree in the pair , and @xmath39 as the positive tree .",
    "group multiplication is defined as follows when multiplying two elements represented by tree pair diagrams .",
    "let @xmath40 and @xmath41 . to form the product @xmath42 , we take unreduced representatives of both elements , @xmath43 and @xmath44 , respectively , in which @xmath45 . the product",
    "is then represented by the ( possibly unreduced ) pair of trees @xmath46 .",
    "an example of the unreduced representatives necessary to perform group multiplication is given in figure [ fig : x1mult ] , where the trees can be used to form the product @xmath47 , for @xmath48 .     by the generator @xmath49",
    ", we use an unreduced representative of @xmath11 , pictured above .",
    "dashed carets indicate the carets added in order to perform the multiplication.,width=528 ]",
    "in this section , we describe a method for computing the word length of elements of @xmath0 with respect to a _ consecutive _ generating set of the form @xmath50 , which is a subset of the standard infinite presentation for @xmath0 . in the case",
    "@xmath5 , there are three known formulae for computing word length , due to fordham @xcite , guba @xcite , and belk and brown @xcite .",
    "we end this section with a comparison of these methods , and translate the terminology of each into that of the present paper .",
    "below we present our method for computing word length , along with a detailed example . the proof that this method actually computes the word length of group elements follows the outline of fordham s proof ,",
    "and we apply a lemma from @xcite as the main step in our proof .",
    "we then require two technical lemmas to show that the conditions in fordham s lemma are fulfilled , and we defer the proofs of these lemmas to sections [ sec : lemma1 ] and [ sec : lemma2 ] below .",
    "let @xmath31 be a finite rooted binary tree with @xmath3 carets , in which we number the carets from @xmath26 through @xmath3 in infix order .",
    "we use the infix numbers as names for the carets , and the statement @xmath51 for two carets @xmath52 and @xmath53 simply expresses the relationship between the infix numbers .",
    "a caret is said to be a right ( resp .",
    "left ) caret if one of its edges lies on the right ( resp .",
    "left ) side of @xmath31 .",
    "the root caret can be considered either left or right . a caret",
    "which is neither left nor right is called an interior caret .    our formula for the word length of elements @xmath15 with respect to the generating set @xmath1 has two components .",
    "the first we call @xmath54 , as it is the word length of @xmath27 with respect to the infinite generating set @xmath55 for @xmath0 .",
    "this quantity is simply the number of carets in the reduced tree pair diagram representing @xmath27 which are not right carets .",
    "the difference between @xmath54 and the word length @xmath56 is measured by what we refer to as the _ penalty _ weight , denoted @xmath57 .",
    "twice this penalty weight is the second component of our word length formula .",
    "the intuition for this formula comes from the effect that multiplication by a generator has on a tree pair diagram @xmath37",
    ". one can view multiplication by each generator as performing a proscribed combinatorial rearrangement of the subtrees of @xmath38 or @xmath39 .",
    "the rearrangement of these subtrees induced by multiplication by @xmath10 and @xmath58 is shown explicitly in figure [ fig : mult ] , and is analogous for multiplication by @xmath28 with @xmath5 or @xmath59 .     and @xmath60 of @xmath0 induced by multiplication by @xmath10 and @xmath58 respectively .",
    "the letters @xmath61 through @xmath62 represent possibly empty subtrees of the tree pair diagram.,width=480 ]    in creating a minimal length representative for @xmath15 , whose length is necessarily the word length of @xmath27 , there are some arrangements of carets in @xmath38 or @xmath39 which may be harder to produce using the combinatorial rearrangements available with the given generators .",
    "this incurs a  penalty \" contribution to the length of the word . determining this penalty contribution @xmath57 to the word length lies at the heart of our method .",
    "we begin by distinguishing a particular type of caret in a single tree .",
    "caret types are central to the length formulae of fordham @xcite and belk - bux @xcite .",
    "while they require , respectively , seven and four caret types , we define a single one which is sufficient for our proofs below .",
    "caret @xmath52 in a tree @xmath31 has _ type n _ if caret @xmath63 is an interior caret which lies in the right subtree of @xmath52 .",
    "we use this definition to describe certain carets in the tree pair diagram for @xmath15 which we call _ penalty carets _ as they help determine the penalty contribution to the word length @xmath56 .",
    "let @xmath15 have a reduced tree pair diagram @xmath37 in which the carets are numbered in infix order .",
    "caret @xmath52 in a tree pair diagram @xmath37 is a _ penalty caret _ if either    1 .",
    "@xmath52 has type @xmath64 in either @xmath38 or @xmath39 , or 2 .",
    "@xmath52 is a right caret in both @xmath38 and @xmath39 and caret @xmath52 is not the final caret in the tree pair diagram .",
    "to compute the penalty contribution to the word length for a given @xmath65 we use the following procedure , which will be made precise in section [ sec : penaltytree ] . using a notion of caret adjacency defined below , we take the two trees @xmath38 and @xmath39 and construct a single tree @xmath66 , called a _ penalty tree _ , whose vertices correspond to a subset of the carets of @xmath38 and @xmath39 , necessarily including the penalty carets .",
    "this tree is assigned a _ weight _ according to the arrangement of its vertices .",
    "minimizing this weight over all possible penalty trees that can be constructed using the adjacencies between the carets of @xmath38 and @xmath39 yields the penalty contribution @xmath57 to the word length @xmath56 .",
    "we will prove the following theorem .",
    "[ thm : length ] for every @xmath67 , the word length of @xmath27 with respect to the generating set @xmath68 is given by the formula @xmath69 where @xmath54 is the number of carets in the reduced tree pair diagram for @xmath27 which are not right carets , and @xmath57 is the penalty weight .",
    "constructing penalty trees for @xmath15 requires a concept of directed caret adjacency , which is an extension of the infix order . to define the concept of adjacency between carets in a tree @xmath31",
    ", we view each caret as a space rather than an inverted v. the point of intersection of the left and right edges of the caret naturally splits the boundary of this space into a left and right component .",
    "the space is bounded on the right ( resp .",
    "left ) by a _",
    "generalized right ( resp .",
    "left ) edge_. the generalized right ( resp .",
    "left ) edge may consist of actual left ( resp .",
    "right ) edges of other carets in the tree , in addition to the actual right ( resp . left ) edge of the caret itself .",
    "for example , in figure [ fig : adjacency ] , the spaces which we consider as carets are shaded , and the generalized left edge of caret 9 includes the right edges of carets 7 and 8 .",
    "let @xmath52 and @xmath53 denote carets in a tree pair @xmath37 , that is , @xmath52 corresponds to a pair of carets , one in @xmath38 and one in @xmath39 , each with infix number @xmath52 , and the same is true for @xmath53 .",
    "additionally , assume @xmath70 .",
    "we say that @xmath52 is adjacent to @xmath53 , written @xmath71 , if there is a caret edge , in either @xmath38 or @xmath39 , which is both part of the generalized right edge of caret @xmath52 and the generalized left edge of caret @xmath53 .",
    "we equivalently say that _ traversing _ the generalized left edge of caret @xmath53 takes you to caret @xmath52 in at least one tree .",
    "it is always true that carets @xmath52 and @xmath63 satisfy @xmath72 .",
    "although the ordering of carets given by infix number is not symmetric but is transitive , the notion of caret adjacency is neither symmetric nor transitive .",
    "we introduce a dummy caret denoted @xmath73 which is adjacent to all left carets in both @xmath38 and @xmath39 .",
    "one can think of @xmath73 as being the space to the left of the left side of each tree .",
    "we now construct a penalty tree @xmath66 corresponding to the pair of trees @xmath37 , which has this dummy caret @xmath73 as its root , according to the following rules .    1",
    ".   the vertices of @xmath66 are a subset of the carets in the tree pair diagram , which we refer to by infix numbers : @xmath74 , always including @xmath73 .",
    "2 .   if a directed edge is drawn from vertex @xmath52 to vertex @xmath53 in @xmath66 then we must have @xmath75 .",
    "there is a vertex for every penalty caret in @xmath37 .",
    "4 .   each leaf of @xmath66 corresponds to a penalty caret of @xmath37 .",
    "the only exception to this is when @xmath66 consists only of the root @xmath73 and no edges .",
    "the penalty tree @xmath66 is oriented in the sense that there is a unique path from @xmath73 to every vertex @xmath76 , and if this path passes through vertices @xmath77 then we must have @xmath78 . two vertices @xmath79 in the tree are comparable if there is either a path @xmath80 or @xmath81 with @xmath82 , and in this case we say @xmath83 .     through @xmath84.,width=480 ]",
    "when working with these penalty trees , we often abuse notation and refer to the edge between @xmath52 and @xmath53 as @xmath75 , and conversely , will sometimes refer to an adjacency @xmath75 which exists in a tree pair diagram as an edge , meaning it can give rise to an edge in a penalty tree .",
    "also , we call an edge @xmath75 both  an edge out of @xmath52 \" and  an edge into @xmath53 .",
    "\"    the penalty weight of a penalty tree is bounded above by the number of vertices on the tree , but not all vertices on the tree contribute to the weight .",
    "more precisely , we define :    the _ n - penalty weight _ @xmath85 of a penalty tree @xmath66 associated to @xmath86 is the number of vertices @xmath87 such that @xmath88 and there exists a leaf @xmath89 in @xmath66 with @xmath90 .",
    "these vertices are called the _ weighted _ carets .    to compute the penalty contribution @xmath57 to the word length @xmath56 for @xmath15",
    ", we must minimize the penalty weight over all penalty trees associated to @xmath27 .",
    "for an element @xmath15 , define the penalty contribution @xmath57 to the word length @xmath56 by @xmath91    this definition brings us to the statement of theorem [ thm : length ] , which presents the formula @xmath92 .",
    "we call any penalty tree for @xmath27 which realizes @xmath57 a _ minimal penalty tree_.    computing the penalty contribution @xmath57 for any @xmath93 can be quite difficult , as there may be a large number of possible penalty trees based on the caret adjacencies present in @xmath38 and @xmath39 . in sections",
    "[ sec : notac ] and [ sec : pockets ] we present families of group elements where the penalty trees with minimal penalty weight can be determined based on features of the original tree pair diagrams .",
    "one such feature which greatly simplifies the computation of @xmath94 is recorded in the following observation .",
    "[ o : bottleneck ] let @xmath15 be represented by the reduced tree pair diagram @xmath95 .",
    "if @xmath37 contains two penalty carets @xmath75 , where in both trees , @xmath52 is a right caret which is not type @xmath64 , then on any penalty tree @xmath66 for @xmath27 , the unique path from @xmath73 to @xmath53 must contain the caret @xmath52 .",
    "[ obs : not - type - n ] observation [ o : bottleneck ] can be generalized as follows .",
    "if caret @xmath52 does not have type @xmath64 in either @xmath38 or @xmath39 , then the only caret @xmath96 with @xmath97 is @xmath98 .",
    "the following lemma states that left carets in @xmath38 and @xmath39 can never contribute to the penalty weight of a penalty tree .",
    "[ lemma : leftcarets ] let @xmath99 be an element of @xmath0 , and @xmath52 a caret which is a left caret in either @xmath38 or @xmath39 .",
    "then @xmath52 is not a weighted caret in any minimal penalty tree for @xmath100 .",
    "suppose that @xmath101 is a minimal penalty tree for @xmath100 in which @xmath52 is a vertex that carries weight .",
    "we construct a new minimal penalty tree @xmath102 for @xmath100 in which @xmath52 in not a weighted caret . in @xmath101 , let @xmath23 be the vertex which is the parent of @xmath52 . since @xmath52 is weighted in @xmath101 , we know that @xmath23 is not the root caret of @xmath101 .    to construct @xmath103 , begin with @xmath101 and remove the edge @xmath104 .",
    "attach vertex @xmath52 , and its subtrees via the adjacency @xmath105 , which arises from the fact that @xmath52 is a left caret in either @xmath38 or @xmath39 , and call the resulting tree @xmath103 .",
    "thus we see that @xmath106 , since @xmath52 is no longer a weighted caret in @xmath102 .",
    "this contradicts the fact that @xmath101 was a minimal penalty tree for @xmath100 , and the lemma follows .",
    "we now address the question of whether a minimal penalty tree consists entirely of carets corresponding to left and penalty carets in the tree pair diagram for @xmath15 .",
    "we show directly that such a penalty tree can always be constructed when @xmath5 , and note that this fact follows from a result of guba @xcite discussed in section [ sec : other - methods ] below . when @xmath107 , this need not be the case , as we illustrate with an example below .",
    "[ lemma : min - tree ] in the case @xmath5 , a minimal penalty tree @xmath66 can always be constructed for @xmath65 all of whose vertices correspond to left carets or penalty carets in the tree pair diagram .",
    "it follows from lemma [ lemma : leftcarets ] that left carets in either tree can be assumed to be adjacent to @xmath73 in any minimal penalty tree .",
    "let @xmath101 be a penalty tree for @xmath108 in which all carets in @xmath66 which are left in either @xmath38 or @xmath39 are adjacent to @xmath73 in @xmath66 , and suppose that @xmath109 contains a vertex @xmath110 corresponding to a caret @xmath110 in @xmath37 which is neither a penalty caret nor a left caret",
    ". if @xmath110 is a leaf in @xmath66 , simply delete it .",
    "if not , observation [ obs : not - type - n ] implies that the only caret @xmath96 with @xmath111 is the caret immediately following caret @xmath110 in the infix order .",
    "call this caret @xmath112 .",
    "note that @xmath113 is not a left caret , since it is not connected by an edge in @xmath66 to @xmath73 . since @xmath110 is not a leaf of @xmath66",
    ", it follows that the one and only edge out of @xmath110 on @xmath66 is @xmath114 .",
    "delete both the edge @xmath114 and the vertex @xmath110 from @xmath101 , and attach the vertex @xmath113 and any subtree of @xmath101 having it as a root , as follows .",
    "since @xmath110 in an interior caret with an exposed right leaf in at least one of @xmath38 or @xmath39 , without loss of generality we assume this in @xmath38 .",
    "it follows that the adjacencies determined by the actual ( not generalized ) left edges of @xmath110 and @xmath113 must connect them to a single caret @xmath23 of type @xmath64 .",
    "see figure [ fig : guba - pf ] for two possible configurations of these carets .",
    "we use the adjacency @xmath115 to reattach the subtree of @xmath101 whose root is @xmath113 to the penalty tree .",
    "thus we have created a new penalty tree which does not contain the vertex @xmath110 .",
    "we can repeat this process until all non - penalty carets of @xmath37 are removed from @xmath101 .",
    "hence , @xmath116 is simply the number of penalty carets in which neither caret in the pair is a left caret .",
    "and @xmath113 used to show that a penalty tree can always be constructed using only vertices corresponding to left and penalty carets in @xmath37 when @xmath5.,width=240 ]    we conclude this section with two examples .",
    "the first contrasts the situations @xmath5 and @xmath117 , and the second illustrates the computation of the word length @xmath118 for a particular group element @xmath15 .",
    "we first present an example contrasting the cases @xmath5 and @xmath117 .",
    "we proved above that when @xmath5 , a minimal penalty tree for @xmath119 can always be constructed using only penalty carets and left carets .",
    "although one can always construct a penalty tree for @xmath27 consisting only of penalty and left carets , for @xmath120 this tree may not be minimal",
    ". it may be the case that a penalty tree must include some non - penalty carets in order to realize @xmath57 .",
    "the following example illustrates this .",
    "consider @xmath121 and the generating set @xmath122 .",
    "this element is depicted in figure [ fig : pen - trees2 ] , and we see that @xmath123 . since @xmath27 can be written as a word @xmath124 of length seven , we must have @xmath125 .",
    "we see that the carets with infix numbers @xmath126 and @xmath127 are penalty carets in the tree pair diagram for @xmath27 .",
    "it is possible to make a penalty tree for @xmath27 using only these carets , but that tree will have penalty weight equal to one . in order to make a penalty tree with total weight zero , we must add caret @xmath128 as a vertex .",
    "these two penalty trees are drawn in figure [ fig : pen - trees2 ] .",
    ", along with two penalty trees : a non - minimal one which uses only penalty carets as vertices , and a minimal one which requires the addition of a vertex not corresponding to a penalty caret , both with respect to the generating set @xmath129.,width=480 ]    we now present an example in which we compute the word length of @xmath130 with respect to @xmath131 .",
    "the tree pair diagram for this element is given in figure [ fig : example ] .",
    "we see that @xmath132 , and begin the construction of a minimal penalty tree @xmath66 by identifying the penalty carets to be those numbered @xmath133 .",
    "we first note that any path of adjacencies connecting penalty carets with infix numbers greater than @xmath84 with @xmath73 must include the vertex @xmath84 , as mentioned in observation [ o : bottleneck ] .",
    "this ensures that carets @xmath84 and @xmath134 will correspond to weighted penalty carets in any minimal penalty tree for @xmath27 , and leads to the construction of the minimal penalty tree @xmath66 given in figure [ fig : example ] . we see that @xmath135 , and compute @xmath136 .    , along with a minimal penalty tree for @xmath27 . with respect to @xmath131 , we compute @xmath137 , as only carets @xmath84 and @xmath134 are weighted , and thus @xmath136.,width=480 ]      in the case @xmath5 , fordham @xcite , guba @xcite , and belk and brown @xcite have all provided formulas for @xmath138 .",
    "our formula , restricted to the case @xmath5 , is seen below to be a streamlined version of these methods .",
    "guba @xcite considers @xmath0 as a diagram group , and elements of @xmath0 are then infinite diagrams .",
    "the cells of a diagram correspond precisely to the carets in a tree pair diagram which are not right carets .",
    "furthermore , his _ special vertices _ are precisely our penalty pairs in which neither caret is a left caret .",
    "guba computes word length of an element to be the number of cells in the diagram plus twice the number of special vertices , corresponding exactly to our formula above .",
    "it follows from guba s length formula that we may always form a minimal penalty tree consisting only of penalty and left carets when @xmath5 , providing an alternate proof of lemma [ lemma : min - tree ] .",
    "the example given above shows that this penalty tree may not be minimal when @xmath139 .",
    "now we compare our formula with the other two in the literature , due to belk and brown @xcite and fordham @xcite , which are based on tables of weights corresponding to the different caret types .",
    "encoded in each table is some of the information that we use when we tabulate @xmath54 for @xmath15 .",
    "belk and brown @xcite use forest diagrams for elements of @xmath0 which , roughly , enumerate the right ( resp",
    ". left ) subtrees of the left ( resp .",
    "right ) carets in each tree , with a pointer to the root .",
    "they define four caret types , and their formula for the word length of @xmath15 is @xmath140 , where , translating from forest diagrams into binary trees , we see that @xmath138 is simply the number of interior carets in the tree pair diagram .",
    "then @xmath141 is a sum of weights determined by the caret types with values @xmath142 or @xmath143 , which are presented in a table .",
    "the weights in the first row and column of their table count the number of left carets in the tree pair diagram distinct from the root caret , a count which we include as part of @xmath54 .",
    "the remainder of the table has a weight of two corresponding to each of our penalty carets in which neither caret is a left caret .",
    "thus the two formulae are equivalent .",
    "blake fordham @xcite defines seven types of carets in a tree and forms the pairs of caret types analogous to belk and brown .",
    "he presents a six by six table of weights corresponding to the pairs of caret types . altering fordham s table in the following way :    1 .",
    "subtract one from the weight of each pair of caret types containing a single caret which is not a right caret , and 2 .",
    "subtract two from the weight of each pair or caret types containing no right carets ,    one obtains a table that has a weight of two for each pair of caret types which we call a penalty pair , excluding those in which one caret type is left .",
    "thus his entire table counts @xmath54 and the penalty contribution @xmath57 simultaneously .",
    "we rely on the following lemma of fordham to prove theorem [ thm : length ] .",
    "this lemma gives conditions under which a function defined from a group @xmath62 to the nonnegative integers computes the word length of elements of the group .",
    "[ lemma : blake ] given a group @xmath62 , a generating set @xmath144 , and a function @xmath145 , if @xmath146 has the properties    1 .",
    "@xmath147 ; 2 .",
    "if @xmath148 then @xmath149 ; 3 .",
    "if @xmath150 and @xmath151 or @xmath152 is any element of @xmath144 , then @xmath153 ; and 4 .   for any non - identity element @xmath150 , there is at least one @xmath154 with either @xmath151 or @xmath152 in @xmath144 such that @xmath155 ,    then @xmath156 for all @xmath150 , where @xmath157 denotes the word length of @xmath27 with respect to the generating set @xmath144 .    we now prove theorem [ thm : length ] by showing that the function @xmath158 for @xmath15 satisfies the conditions of this lemma .",
    "define the function @xmath158 for @xmath159 .",
    "we must show that this function satisfies all four conditions of lemma [ lemma : blake ] .",
    "since the identity is represented by a tree pair diagram consisting of a single caret in each tree , it is easy to see that both @xmath160 and @xmath161 equal zero , and thus the first condition is easily satisfied .    if @xmath162 , in particular @xmath163 , so @xmath27 the tree pair diagram for @xmath27 has no carets which are not right carets .",
    "thus @xmath27 is the identity in @xmath0 .",
    "we now state two lemmas which are slight variations on the last two conditions , and defer their proofs to the next two sections , as they are somewhat tedious .",
    "[ l : change1 ] for every @xmath67 and @xmath164 , @xmath165 .",
    "[ l : reduce ] for every @xmath67 , there exists @xmath166 such that @xmath167 .    together with the fact that @xmath162 if and only if @xmath168 , lemma  [ l : change1 ] implies that @xmath169 and lemma  [ l : reduce ] implies that @xmath170 , and hence theorem  [ thm : length ] follows .",
    "the proofs of lemmas [ l : change1 ] and [ l : reduce ] depend heavily on the combinatorial rearrangement of subtrees of a tree pair diagram caused by multiplication by a particular generator .",
    "this is illustrated in figure [ fig : mult ] .",
    "this figure shows how the subtrees of the original diagram are rearranged under multiplication by @xmath10 and @xmath58 .",
    "it may be necessary to add carets to the tree pair diagram to perform this multiplication .",
    "in general , multiplication by @xmath28 performs the analogous rearrangement at level @xmath3 along the right side of the first tree in the diagram .    before proving lemmas [ l : change1 ] and [ l : reduce ] ,",
    "we show that the change in @xmath171 is easily computed when @xmath15 is multiplied by a generator @xmath172 .",
    "we first fix some notation .",
    "let @xmath37 be the reduced tree pair diagram for @xmath15 , and @xmath173 the reduced tree pair diagram for a generator @xmath172 .",
    "the tree pair diagram for @xmath174 is formed by taking ( possibly ) unreduced representatives @xmath175 of @xmath27 and @xmath176 of @xmath151 in which @xmath177 . the ( possibly unreduced ) tree pair diagram for @xmath178",
    "is then given by @xmath179 .",
    "careful examination reveals that this process results in three mutually exclusive situations , and in each case we can keep track of the difference between @xmath54 and @xmath180 .",
    "[ o : multbygen ] the multiplication described above results in exactly one of the following situations :    1 .",
    "@xmath181 is not a subtree of @xmath38 , so @xmath182 .",
    "this implies that @xmath179 must be a reduced tree pair diagram for @xmath174 , and that @xmath183 .",
    "@xmath181 is a subtree of @xmath38 , so @xmath184 , and @xmath185 is a reduced tree pair diagram for @xmath174 . in this case , the change in @xmath171 depends on @xmath151 : 1 .   if @xmath186 , then @xmath183 .",
    "2 .   if @xmath187 , then @xmath188 .",
    "3 .   @xmath181 is a subtree of @xmath38 , so @xmath184 , and @xmath185 is not a reduced tree pair diagram for @xmath174 , then @xmath188 .",
    "since @xmath54 is an important part of @xmath189 , the above observation will play a major role in the proof of theorem [ thm : length ] .",
    "we now prove lemma [ l : change1 ] , which states that multiplication by any generator in @xmath190 or its inverse changes the value of @xmath189 by either @xmath26 or @xmath191 .",
    "recall that @xmath192 .",
    "first note that since @xmath193 and @xmath194 always differ by @xmath26 , we may assume without loss of generality that @xmath195 . to see why , assume that lemma  [ l : change1 ] holds whenever we have @xmath196 , and consider a pair @xmath27 and @xmath151 with @xmath197 .",
    "set @xmath198 and @xmath199 . then @xmath200 , so lemma  [ l : change1 ] holds for @xmath201 and the generator @xmath202",
    ". therefore , @xmath203 , and thus @xmath204 .",
    "let @xmath67 and @xmath166 .",
    "without loss of generality , we now assume that @xmath196",
    ". it will suffice to prove that @xmath205 or @xmath206 .",
    "we split the proof into two cases depending on the exponent of @xmath151 .",
    "@xmath207 . in the tree pair diagram @xmath208 for @xmath151 , the tree",
    "@xmath181 consists entirely of a string of @xmath209 right carets .",
    "notice that we must be in case 3 of observation  [ o : multbygen ] , in which @xmath181 is a subtree of @xmath38 .",
    "thus @xmath38 also has at least @xmath209 right carets . in @xmath38 ,",
    "let @xmath210 be the infix numbers of the first @xmath209 right carets , beginning with the root caret . as a separate subtree ,",
    "this set of right carets has @xmath211 leaves , each of which may have a subtree of @xmath38 attached to it .",
    "let @xmath212 be the ( possibly empty ) subtree attached to the left leaf of caret @xmath213 , for @xmath214 .",
    "let @xmath215 be the ( possibly empty ) subtree attached to the right leaf of caret @xmath216 .",
    "note that multiplication by @xmath20 affects caret @xmath113 , rotating it from the right side of the tree to the interior ( or left in the case @xmath217 .",
    "see figure [ fig : lemma8 ] for a diagram of @xmath208 and @xmath37 .     by @xmath218 .",
    "we use dashed carets in @xmath39 to indicate that we do not know _ a priori _ the exact shape of this tree , except for the fact that @xmath113 is an interior caret of the given form.,width=480 ]    since we are in case 3 of observation [ o : multbygen ] , multiplication of @xmath37 by @xmath219 must create an interior caret which is removed when the pair @xmath220 is reduced .",
    "thus we must have @xmath221 , and that caret @xmath113 is an exposed interior caret in @xmath39 .",
    "in addition , if @xmath215 is also empty in @xmath38 , then @xmath216 will also be removed when the product @xmath185 is reduced .",
    "furthermore , if for some @xmath222 , the subtrees @xmath223 of @xmath38 are all empty , then carets @xmath224 will also all be removed when the product @xmath185 is reduced .",
    "this removal of carets may cause certain other carets to alter their penalty status , that is , penalty carets for @xmath27 may not be penalty carets for @xmath174 .",
    "if @xmath113 is the only caret which is removed by the reduction , then caret @xmath110 may change from being a penalty caret for @xmath27 to not being a penalty caret for @xmath174 .",
    "if more carets are removed during the reduction , say @xmath225 for @xmath226 , then caret @xmath227 will switch from being a penalty caret in @xmath27 to a non - penalty caret in @xmath174 .",
    "suppose @xmath66 is any penalty tree for @xmath27 .",
    "we claim that we can always create a new tree @xmath103 which is a penalty tree for @xmath174 with @xmath228 , which would imply that @xmath229 .",
    "there are two reasons that might prevent @xmath66 itself from being a penalty tree for @xmath174 :    * @xmath66 may contain vertices corresponding to carets in the reduced tree pair diagram @xmath37 for @xmath27 which no longer appear in the reduced tree pair diagram for @xmath178 , or * there may be a leaf in @xmath66 corresponding to a penalty caret in @xmath37 which is no longer a penalty caret in reduced tree pair diagram for @xmath174 .",
    "let us first consider the case that only the caret @xmath113 is removed when @xmath220 is reduced , and we describe how to alter @xmath66 to create @xmath103 .    1 .   if @xmath113 does not appear as a vertex in @xmath66 , and either @xmath110 does not change penalty status as we go from @xmath27 to @xmath178 , or @xmath110 does change penalty status , but is not a leaf in @xmath66 , let @xmath230 .",
    "2 .   suppose that @xmath113 does not appear as a vertex of @xmath66 , @xmath110 does change penalty status , and @xmath110 is a leaf on @xmath66 . in this case",
    "we form @xmath103 by simply removing the leaf @xmath110 and the edge connecting it to the tree , as well as any newly exposed leaves which do not correspond to penalty carets .",
    "3 .   suppose that @xmath113 does appear as a vertex of @xmath66 .",
    "we know that in @xmath40 , caret @xmath113 is not a penalty caret , since it is a right caret in @xmath38 and an interior caret with no right subtree in @xmath39 .",
    "thus it can not be a leaf of @xmath66 , which forces @xmath66 to have vertices @xmath52 and @xmath53 with @xmath231 for some carets @xmath52 and @xmath53 .",
    "but since @xmath113 is a right caret in @xmath38 with both @xmath232 and @xmath233 empty , and @xmath113 is an exposed caret @xmath39 , its generalized left and right edges are just the actual left and right edges , so there is only one such caret @xmath52 and one caret @xmath53 , and hence @xmath234 and @xmath235 .",
    "construct @xmath103 by removing the vertex @xmath113 from @xmath66 , and adding the edge @xmath236 , since this adjacency exists in the reduced tree pair diagram corresponding to @xmath220 after caret @xmath113 is removed . in this way",
    ", @xmath110 is not a leaf of @xmath103 so its penalty status , or any change therein , is irrelevant .    in each case",
    "above , it is clear that @xmath228 .",
    "if more than one caret is removed when the tree pair diagram @xmath220 is reduced , say the string of carets @xmath237 for some @xmath226 , the situation is actually simpler . in this case",
    "carets @xmath238 are all penalty carets for @xmath27 , because they are right carets in both trees , and are not the final caret in the diagram .",
    "thus they must appear as vertices of @xmath66 , and using observation  [ o : bottleneck ] one concludes that they must appear in @xmath66 as a path @xmath239 , with the vertex @xmath110 as the leaf .    in this case , we take @xmath103 to be the tree @xmath66 with the string of vertices from @xmath227 through @xmath110 removed .",
    "it is possible that some leaf of this tree which is created by the removal of these vertices corresponds to a caret which is no longer a penalty caret for @xmath178 . in this case",
    ", this leaf may be removed , and the resulting tree is a penalty tree for @xmath178 .",
    "it is clear again that @xmath228 , which implies that @xmath240 .",
    "we now reverse the procedure outlined above to show that @xmath241 ; namely we begin with a penalty tree @xmath103 for @xmath178 and describe how to alter it to obtain a penalty tree @xmath66 for @xmath27 with @xmath242 .",
    "one of three things may occur :    1 .",
    "@xmath103 may already be a penalty tree for @xmath27 , 2 .   if caret @xmath110 changed penalty status between @xmath178 and @xmath27 , it may need to be added as a vertex of the penalty tree , if it was not on @xmath103 , or 3 .",
    "if caret @xmath227 changed penalty status between @xmath178 and @xmath27 , for some @xmath7 with @xmath226 , in which case the carets @xmath243 were not present in the reduced tree pair diagram for @xmath178 , the entire string of carets @xmath239 may need to be added to form a penalty tree for @xmath27 .",
    "assume we are not in case ( 1 ) , so we do need to add some of these carets to @xmath103 . if we simply add the desired string of carets to @xmath103 to form @xmath66 , we may increase the penalty quite a bit , but the vertices of the tree which contribute to this increase must lie on a path in @xmath103 between @xmath73 and @xmath52 , where @xmath52 is the caret at the top of the newly added string . if any of these vertices do become weighted , we alter the tree again in such a way that the only vertices which are weighted in the new penalty tree but not weighted in @xmath103 must now lie between @xmath73 and some other vertex @xmath53 , where @xmath53 is closer to @xmath73 than @xmath52 was , and continue if necessary until there are no more vertices which might switch from being unweighted in @xmath103 to being weighted in the altered tree @xmath66 .    more precisely , to construct @xmath66 , we will inductively construct a series of trees @xmath244 associated with carets @xmath245 , a certain subset of the carets @xmath246 , where @xmath247 . for each @xmath248 , @xmath249 is a penalty tree for @xmath27 , @xmath249 contains vertices corresponding to all carets @xmath250 where @xmath251 , and @xmath252 is the largest index @xmath7 with @xmath253 and @xmath250 on @xmath254 . in addition",
    ", either :    1 .",
    "@xmath255 , or 2 .",
    "@xmath256 , @xmath257 , the reason that @xmath258 exceeds @xmath259 is that there are vertices along the path from @xmath73 to @xmath260 in @xmath103 which count towards @xmath261 but not towards @xmath259 , and @xmath110 is always the leaf at maximal distance from vertex @xmath260 in @xmath249 .    in the first case we take @xmath262 , and in the second case , we must construct @xmath263 .",
    "but since @xmath264 and @xmath265 , eventually case 1 above will occur , since @xmath266 and @xmath267 . hence , we can construct a penalty tree @xmath66 for @xmath27 with @xmath242 , which implies that @xmath241 .    to complete the argument",
    ", we must show that the construction of penalty trees @xmath249 satisfying the properties above is possible .",
    "we first describe the construction of @xmath268 .",
    "let @xmath269 be the largest index @xmath270 for which @xmath213 appears on the penalty tree @xmath103 .",
    "then we can attach a string of @xmath271 vertices and edges corresponding to @xmath272 to @xmath103 to form @xmath273 , which is then a penalty tree for @xmath27 .",
    "the added vertices themselves will never be weighted , since @xmath274 , but it is possible that their addition might cause other unweighted vertices to become weighted .",
    "either this does not occur , so @xmath275 , or it does occur , so @xmath276 , but this only happens if the distance in @xmath103 between vertices @xmath73 and @xmath277 satisfies @xmath278 .",
    "moreover , it is only vertices along the path from @xmath73 to @xmath277 which may be weighted in @xmath273 but not in @xmath103 .",
    "furthermore , if there was a leaf of @xmath103 further from @xmath277 than @xmath110 is , then appending the new path to @xmath110 would not increase the total penalty .",
    "for the inductive step , suppose the penalty tree @xmath254 has been constructed , and @xmath279 .",
    "furthermore , @xmath110 is the leaf at maximal distance from @xmath280 in @xmath254 , and the reason that @xmath281 exceeds @xmath282 is that there are vertices along the path from @xmath73 to @xmath280 in @xmath254 which are weighted in @xmath254 but not in @xmath103 .",
    "then we construct @xmath249 as follows .",
    "choose @xmath252 to be the largest index @xmath270 with @xmath283 so that @xmath213 corresponds to a vertex of @xmath254 ( or equivalently , of @xmath103 ) .",
    "delete the first edge along the path connecting @xmath280 to @xmath73 in @xmath254 , and attach to @xmath260 the vertices and edges corresponding to @xmath284 , and then add an edge connecting @xmath285 to @xmath280 .",
    "the result , @xmath286 , is clearly an allowable tree for @xmath27 . since @xmath110 was the most distant leaf from @xmath280 in @xmath254 , @xmath110 is also the most distant leaf from @xmath287 in @xmath249 .",
    "now in @xmath254 , only vertices between @xmath73 and @xmath280 may be weighted in @xmath254 but not in @xmath103 , so deleting the edge connected to @xmath280 eliminates that difference in penalty .",
    "none of the vertices between @xmath260 and @xmath280 are close enough to a leaf to count towards @xmath94 , since they are too close to @xmath110 , and @xmath110 is the most distant leaf",
    ". therefore , @xmath255 unless @xmath288 , and then only vertices between @xmath73 and @xmath260 can account for this increase in penalty .",
    "this completes the desired construction , and thus the proof that @xmath241 .    summing up , in this case where @xmath186",
    ", we have shown that @xmath229 and @xmath289 , and hence @xmath290 .",
    "when @xmath291 and we are assuming that @xmath292 , we must be in either case 3 or case 2b of observation  [ o : multbygen ] .    to obtain the tree pair diagram for @xmath291 , we switch the order of the trees given for @xmath207 in figure [ fig : lemma8 ] .",
    "thus @xmath293 is a tree consisting of a string of @xmath209 right carets , and @xmath181 has a single caret which is not a right caret : this caret is an interior caret if @xmath294 and a left caret if @xmath217 .",
    "since we are not in case 1 of observation [ o : multbygen ] , @xmath181 is a subtree of @xmath38 .",
    "this guarantees an interior caret in @xmath38 which is the left child of the right caret at level @xmath295 from the root . as in case 1 , let @xmath296 be the first @xmath297 right carets in @xmath38 , and let @xmath113 be the interior caret hanging from the left leaf of caret @xmath216 .",
    "number the leaves of the subtree consisting of the @xmath298 from @xmath26 through @xmath211 , and let @xmath212 be the ( possibly empty ) subtree attached to leaf @xmath270 .    if we are in case 2(b ) of observation  [ o : multbygen ] in which the pair @xmath220 is a reduced tree pair diagram , then there are two carets which may change penalty status , as opposed to one in case 3 of observation  [ o : multbygen ] . in either case , the adjacency @xmath236 which is present in @xmath40 may not exist in the reduced tree pair diagram for @xmath178 .",
    "we claim first that @xmath299 , and begin our argument by choosing a penalty tree @xmath66 for @xmath27 .",
    "below we summarize the possible situations , which are not mutually exclusive , which might force us to alter @xmath66 to obtain a penalty tree @xmath103 for @xmath174 .    1 .",
    "@xmath66 contains the edge corresponding to @xmath236 , an adjacency present in @xmath27 but not in @xmath178 , and the tree pair diagram @xmath220 is reduced .",
    "( case 2(b ) of observation  [ o : multbygen ] . ) 2 .",
    "caret @xmath113 is not a penalty caret for @xmath27 , but is for @xmath174 , and the tree pair diagram @xmath220 is reduced .",
    "( case 2(b ) of observation  [ o : multbygen ] and these conditions also require that @xmath300 , and caret @xmath113 is a right caret which is not type @xmath64 in @xmath39 . ) 3 .",
    "there is a single caret which is a penalty caret for @xmath27 , but no longer is one for @xmath174 .",
    "this occurs as follows : 1 .   in either case 2b of observation  [ o : multbygen ] , or case 3 of observation  [ o : multbygen ]",
    "if exactly one caret is removed when @xmath220 is reduced , it may be the case that @xmath110 is a penalty caret for @xmath27 but not for @xmath178 .",
    "this occurs if @xmath301 and @xmath110 is a left or interior caret which is not type @xmath64 in @xmath39 .",
    "2 .   in case 3 of observation  [ o : multbygen ] , if carets @xmath302 are removed when @xmath220 is reduced , for some @xmath303 , then @xmath227 , if it exists , always changes from being a penalty caret for @xmath27 to a non - penalty caret for @xmath178 .",
    "we describe a method for altering a penalty tree @xmath66 for @xmath27 into a penalty tree for @xmath178 depending on which combination of the above situations occurs .",
    "suppose first that the first situation does occur .",
    "then either @xmath113 is a vertex on @xmath66 , or it is not .",
    "if @xmath113 is already a vertex on @xmath66 , then we delete both the edge corresponding to @xmath236 as well as the edge along the path from @xmath73 to @xmath113 which goes into @xmath113 .",
    "we reconnect the tree by adding two edges corresponding to the adjacency @xmath304 . the resulting tree @xmath103 has vertices for all penalty carets for @xmath174 .",
    "we now claim that @xmath94 can increase by at most 1 , and show this by considering the distance from each vertex of the penalty tree to a leaf of the penalty tree .",
    "recall that weighted carets , that is , those which count towards @xmath85 , are connected to the root of the tree by a path of length at least two , and a leaf of the tree by a path of length at least @xmath305 .    in altering @xmath66 in this way to obtain @xmath103",
    ", there are two carets which might become weighted penalty carets .",
    "first , it may be that @xmath113 was not a weighted caret for @xmath66 but is weighted in @xmath103 , since now all of the leaves which are connected by paths to @xmath216 become leaves connected to @xmath113 also .",
    "this can happen only if @xmath306 where @xmath307 is a leaf of @xmath66 at maximal distance from @xmath216 .",
    "second , it is possible that there is a vertex @xmath96 along the path from @xmath73 to @xmath110 in @xmath66 which is not far enough from a leaf of @xmath66 to be weighted , yet altering the tree by the addition of the edges @xmath308 may now make this caret weighted . but this can happen only if both @xmath309 and a leaf @xmath307 of @xmath66 which has maximal distance from @xmath216 has @xmath310 . but",
    "this implies that @xmath311 .",
    "since these conditions are mutually exclusive , we see that at most one of them can occur , so @xmath312 .",
    "if , on the other hand , caret @xmath113 does not correspond to a vertex of @xmath66 , the situation is simpler .",
    "simply delete the edge @xmath236 , and add a new vertex labeled @xmath113 along with the edges @xmath304 .",
    "again , remove leaves as necessary until all remaining leaves correspond to penalty carets of the tree pair diagram for @xmath178 .",
    "the resulting penalty tree @xmath103 for @xmath178 again satisfies @xmath313 .",
    "now if situation ( 2 ) also occurs , no additional alteration of the penalty tree @xmath103 is required , since @xmath113 is already on it .",
    "although situation ( 3a ) may also occur , since @xmath110 is not a leaf of @xmath103 , it does not concern us that it may no longer be a penalty caret .",
    "however it is possible that some leaves of @xmath103 may no longer correspond to penalty carets in the reduced tree pair diagram for @xmath178 , since we may have created a new leaf when we removed edges of @xmath66 .",
    "then we simply remove non - penalty leaves from @xmath103 until all leaves do correspond to penalty carets .",
    "this can never increase @xmath259 .",
    "thus , @xmath103 is a penalty tree for @xmath174 with @xmath312 .",
    "now suppose that situation ( 1 ) above does not occur , but situation ( 2 ) does .",
    "this implies that we are once again in case 2(b ) of observation  [ o : multbygen ] , and hence the adjacency @xmath314 is not present in @xmath39 , which implies that @xmath314 no longer holds for @xmath174 . therefore , since we assumed that situation ( 1 ) does not occur , the edge @xmath236 does not occur in @xmath66 .",
    "however , since @xmath315 , it follows that @xmath216 is a penalty caret for @xmath27 , and hence must appear on @xmath66 .",
    "however , the facts that @xmath316 and @xmath113 is a right caret in @xmath39 which is not type @xmath64 imply that the only two carets @xmath96 with @xmath317 in @xmath27 are @xmath110 and @xmath113 . since situation ( 1 ) does not occur , the edge @xmath318 is forced to exist in @xmath66 , so caret @xmath113 , though not a penalty caret for @xmath27 , was nonetheless already on @xmath66 .",
    "now if situation ( 3a ) occurs , and @xmath110 is a leaf of @xmath66 , simply delete it . continue to delete any non - penalty leaves from @xmath66 to form a penalty tree @xmath103 for @xmath174 with @xmath319 .",
    "finally , suppose that neither situations 1 nor 2 occur , but situation 3 does",
    ". we must then be either in case 2(b ) or case 3 of observation  [ o : multbygen ] .",
    "first we consider what happens if we are in case 2(b ) of observation  [ o : multbygen ] .",
    "then the only reason @xmath66 might not be a penalty tree for @xmath178 is that caret @xmath110 corresponds to a leaf of @xmath66 , but @xmath110 is not a penalty caret for @xmath178 . in this case , to form @xmath103 , we delete the vertex corresponding to @xmath110 as well as any additional leaves which no longer correspond to penalty carets in @xmath178 .",
    "the resulting tree satisfies @xmath228 .",
    "if we are in case 3 of observation  [ o : multbygen ] , then some carets are removed when the tree pair diagram @xmath220 for @xmath320 is reduced .",
    "if these carets appear in @xmath66 , we must delete them when forming @xmath103 .",
    "once again , observation  [ o : bottleneck ] reveals that these carets , if they appear in @xmath66 , appear as a string @xmath321 of vertices , with @xmath110 as a leaf of the tree , and no other edges on the tree out of any of these vertices .",
    "thus they can be easily deleted , along with the vertex corresponding to caret @xmath322 if necessary , to produce a penalty tree @xmath103 for @xmath178 with @xmath228 .",
    "thus in all of these situations , we can always construct a penalty tree @xmath103 for @xmath178 with @xmath228 , and it follows that @xmath323 .",
    "we now prove that if we begin with a penalty tree @xmath103 for @xmath320 , we can always alter it to construct a penalty tree @xmath66 for @xmath27 with @xmath242 . if we are in case 3 of observation  [ o : multbygen ] , we must add vertices corresponding to the carets @xmath324 to @xmath103 to form @xmath66 .",
    "we do this using the same inductive procedure used in case 1 of the proof of this lemma",
    ".    if we are in case 2(b ) of observation  [ o : multbygen ] , there are two possible situations to consider .    1 .",
    "caret @xmath113 is a penalty caret for @xmath174 , but not for @xmath27 .",
    "this happens if @xmath325 , caret @xmath113 is a right caret in @xmath39 which is not type @xmath64 , and @xmath315 .",
    "2 .   caret @xmath110 is a not a penalty caret for @xmath174 , but is a penalty caret for @xmath27 .",
    "this occurs if @xmath301 and @xmath110 is a left or interior caret in @xmath39 which is not type @xmath64 .    if the second situation above does not occur , or it does but @xmath110 corresponds to a vertex already on @xmath103 , then constructing @xmath66 from @xmath103 requires only deleting any leaves which no longer correspond to penalty carets in @xmath27 .",
    "this process can not increase the penalty weight of the tree . if the second situation does occur , and @xmath110 does not correspond to a vertex of @xmath103 , we again use the inductive procedure from the first case of the proof of this lemma to construct the desired penalty tree @xmath66 for @xmath27 containing a vertex corresponding to @xmath110 .",
    "hence , @xmath326 , which in turn implies that in this case , either @xmath327 or @xmath328 , as desired .",
    "before embarking on the proof itself , we gather together a few cases in which @xmath329 .",
    "we will show that any @xmath330 falls into at least one of these situations for some choice of @xmath151 . as usual , we let @xmath37 be the reduced tree pair diagram for @xmath27 , and let @xmath331 be all of the right carets in @xmath38 , and we let @xmath332 be the ( possibly empty ) subtree attached to the left leaf of @xmath250 for @xmath333 .",
    "all of these observations essentially follow from the proof of lemma  [ l : change1 ] , and we supply details following the statements below .    [",
    "o : exposed ] for @xmath334 , if @xmath335 , then @xmath336 .",
    "this occurs precisely when @xmath38 contains at least @xmath209 right carets , @xmath221 in @xmath38 , and caret @xmath113 is exposed in @xmath39 .",
    "[ o : absence ] for @xmath334 , if @xmath38 contains at least @xmath209 right carets and @xmath337 , and there is a minimal penalty tree @xmath66 for @xmath27 not containing @xmath114 , then @xmath338 .",
    "[ o : v2 ] if there is a minimal penalty tree @xmath66 for @xmath27 in which the caret @xmath339 is a weighted caret , then @xmath340 .",
    "the first two observations follow directly from the proof of lemma  [ l : change1 ] .",
    "observation  [ o : exposed ] falls into case 1 of the proof of lemma  [ l : change1 ] , and notice that in this case we actually proved that @xmath341 , which implies @xmath336 .",
    "now for observation  [ o : absence ] , since the generator @xmath187 , we look to case 2 of the proof .",
    "but the fact that there is a penalty tree @xmath66 for @xmath27 not containing the edge @xmath114 corresponds to situation 1 of the proof not occurring ( note that the caret labeling is not the same as in the proof ) .",
    "as long as situation 1 does not occur , @xmath342",
    ".    observation  [ o : v2 ] can be established by a similar type of argument .",
    "note that the situation in observation  [ o : v2 ] is distinct from the case @xmath217 in observation  [ o : exposed ] , for if @xmath343 were exposed in @xmath39 and @xmath344 in @xmath38 , then @xmath339 must be a left caret in @xmath39 , and thus is not a weighted penalty caret . hence , in the situation of observation  [ o : v2 ] , @xmath345 . given a minimal penalty tree @xmath66 for @xmath27 in which @xmath339 is weighted , we can construct a caret tree @xmath103 for @xmath346 by replacing the edge into @xmath339 by the edge @xmath347 . in @xmath103 , @xmath339 is not weighted , and so @xmath348 , and hence @xmath349 .",
    "this implies that @xmath350 .",
    "let @xmath15 be represented by the reduced tree pair diagram @xmath37 . as usual , we let @xmath351 be the right carets in @xmath38 , and let @xmath332 be the ( possibly empty ) subtree attached to the left leaf of @xmath250 for @xmath352 .",
    "we proceed by analyzing two cases based on the number of right carets in @xmath38 and the infix numbers of the penalty carets .",
    "* case 1 : * either @xmath38 has at most @xmath353 right carets , or @xmath38 has more than @xmath353 right carets , caret @xmath354 is not a penalty caret and there are no penalty carets above @xmath354 in the infix ordering .",
    "first , if @xmath38 consists entirely of right carets , then @xmath39 must have an exposed caret @xmath250 where @xmath355 , or else the tree pair diagram would not be reduced .",
    "but we claim @xmath356 , for if @xmath250 is exposed in @xmath39 for @xmath357 , then @xmath227 would be a penalty caret with @xmath358 , contradicting the conditions of this case .",
    "but then @xmath359 by observation  [ o : exposed ] .",
    "if @xmath38 has some carets which are not right , let @xmath295 be the greatest index such that @xmath360 .",
    "so @xmath361 , since neither @xmath354 nor caret beyond it are penalty carets .",
    "now @xmath362 is type @xmath64 in @xmath38 , but @xmath363 are all right carets which are not type @xmath64 .",
    "hence , in @xmath39 , one of @xmath364 must not be a right caret , else the tree pair diagram is not reduced . if there is some penalty caret at or beyond @xmath110 , then it must either be of type @xmath64 or a right caret in @xmath39 , and hence one of @xmath364 must have type @xmath64 in @xmath39 .",
    "let @xmath250 be the highest ( in infix order ) type @xmath64 caret in @xmath39 ; since there are no penalty carets at or beyond @xmath354 , @xmath365 .",
    "then this implies that caret @xmath366 is an exposed caret in @xmath39 , and @xmath367 , which implies by observation  [ o : exposed ] that @xmath368 reduces @xmath369 .",
    "if , on the other hand , there are no penalty carets at or beyond @xmath110 , then @xmath370 is not on any caret tree for @xmath27 , so by observation  [ o : absence ] , @xmath371 reduces @xmath369 .",
    "* case 2 : * @xmath38 has at least @xmath372 right carets and there are penalty carets at or above @xmath354 in the infix ordering .    in this case , if for some @xmath334 , @xmath337 and there is a minimal penalty tree @xmath66 for @xmath27 not containing the edge @xmath373 , then by observation  [ o : absence ] , @xmath374 . furthermore ,",
    "if @xmath339 is weighted in some minimal penalty tree @xmath66 for @xmath27 , then by observation  [ o : v2 ] , @xmath350 .",
    "so , we may assume that for every minimal penalty tree @xmath66 for @xmath27 , @xmath339 is not a weighted caret and for each @xmath375 such that @xmath376 , @xmath66 contains the edge @xmath377 .",
    "we split into subcases ; in each subcase we will show that observation  [ o : exposed ] applies for some @xmath295 .    * subcase 2.1 : * @xmath339 is a left caret in @xmath39 .    in this subcase ,",
    "observation  [ o : exposed ] applies with @xmath217 . to see this",
    ", first note that @xmath378 , for if not , then every minimal penalty tree for @xmath27 must contain the edge @xmath379 .",
    "the proof of lemma [ lemma : leftcarets ] implies that we can always construct a minimal penalty tree for @xmath27 which contains the edge @xmath347 and does not contain the edge @xmath379 .",
    "therefore @xmath378 , and hence @xmath343 and @xmath339 are consecutive carets with @xmath339 a left caret in @xmath39 .",
    "so in @xmath39 , @xmath343 is not a caret of type @xmath64 or a right caret , and recall that in @xmath38 , caret @xmath343 is not of type @xmath64 , so @xmath343 is not a penalty caret .",
    "furthermore , @xmath379 is the only edge out of @xmath343 . but",
    "this implies that @xmath380 , for if not , then by assumption all minimal trees @xmath66 realizing @xmath57 contain the edge @xmath381 .",
    "given such a @xmath66 , @xmath343 can not be a leaf since it is not a penalty caret , so @xmath66 also must contain @xmath379 .",
    "then alter @xmath66 by removing @xmath343 along with both edges @xmath382 and @xmath379 , and adding the edge @xmath347 , obtaining a penalty tree @xmath103 not containing @xmath382 with @xmath319 .",
    "so @xmath344 , @xmath343 must be a left caret in @xmath39 , and observation  [ o : exposed ] applies with @xmath217 to show that @xmath350 .    * subcase 2.2 : * @xmath339 is not left in @xmath39 , and @xmath383 for some minimal penalty tree @xmath66 for @xmath27 .    in this subcase ,",
    "observation  [ o : exposed ] applies with @xmath384 . to see this",
    ", first note that @xmath383 which implies that @xmath385 and hence that @xmath386 .",
    "also , @xmath387 implies that @xmath339 is not a penalty caret , which implies that @xmath339 can not have type @xmath64 in @xmath38 , and hence @xmath388 .",
    "moreover , since @xmath339 is not a penalty caret , it follows that @xmath339 is an interior caret in @xmath39 which is not of type @xmath64 .",
    "this implies that @xmath343 is either of type @xmath64 in @xmath39 or is an interior caret which is not of type @xmath64 .",
    "we claim that @xmath343 must be of type @xmath64 .",
    "suppose @xmath343 is interior , but not of type @xmath64 .",
    "it follows that @xmath389 , which implies by our assumption that @xmath66 contains the edge @xmath382 . we know that @xmath343 is not a penalty caret because it is not type @xmath64 in either tree , and is an interior caret in @xmath39 .",
    "thus @xmath343 is not a leaf of @xmath66 , so there must be some edge out of @xmath343 in @xmath66 .",
    "the only possible edge out of @xmath343 is @xmath379 , which means @xmath390 , a contradiction .",
    "therefore @xmath343 has type @xmath64 in @xmath39 , which in turn implies that @xmath339 is exposed in @xmath39 , and so by observation  [ o : exposed ] , @xmath391 .",
    "* subcase 2.3 : * @xmath339 is not a left caret in @xmath39 , and for every minimal penalty tree @xmath66 for @xmath27 , @xmath392 but @xmath339 is not weighted .",
    "choose a minimal penalty tree @xmath66 for @xmath27 . since @xmath339 is neither a left caret nor weighted",
    ", it follows that @xmath393 for all leaves @xmath307 of @xmath66 .",
    "now note that if all edges @xmath377 for @xmath394 are on @xmath66 , then @xmath395 , so @xmath339 would be at least distance @xmath305 from some leaf of @xmath66 .",
    "so let @xmath295 be the smallest index such that @xmath396 is not on @xmath66 .",
    "hence , @xmath301 , for otherwise @xmath114 would be on @xmath66 by the conditions of case ( 2 ) .",
    "note that @xmath301 means that the carets @xmath110 and @xmath113 are consecutive in infix order .    since @xmath370 is on @xmath66 , @xmath397 .",
    "we claim that @xmath110 must have type @xmath64 in @xmath39 , otherwise @xmath114 is the only possible edge out of @xmath110 , so @xmath110 is a leaf of @xmath66 .",
    "but then @xmath110 must be a penalty caret , so must be a right caret in @xmath39 . since there must be some penalty caret @xmath96 beyond @xmath110 , and",
    "@xmath110 is a right caret in both trees , by observation  [ o : bottleneck ] , the path in @xmath66 connecting @xmath96 to @xmath73 must pass through @xmath110 , contradicting the fact that @xmath110 is a leaf of @xmath66 .",
    "so @xmath110 has type @xmath64 in @xmath39 , which implies that @xmath114 is the only possible edge into @xmath113 , so @xmath398 , so @xmath113 is not a penalty caret , and thus must be an interior caret in @xmath39 which is not of type @xmath64 , hence exposed in @xmath39 .",
    "also , since @xmath113 is not a penalty caret , it can not have type @xmath64 in @xmath38 , and hence @xmath399 .",
    "so , by observation  [ o : exposed ] , @xmath400 .",
    "a finitely generated group @xmath62 is _ almost convex(k ) _ , or @xmath401 with respect to a finite generating set @xmath144 if there is a constant @xmath402 satisfying the following property . for every positive integer @xmath3 , any two elements @xmath403 and @xmath404 in the ball of radius @xmath3 with @xmath405 can be connected by a path of length @xmath402 which lies completely within this ball .",
    "cannon , who introduced this property in @xcite , proved that if a group @xmath62 is @xmath406 with respect to a generating set @xmath144 then it is also @xmath401 for all @xmath407 with respect to that generating set .",
    "thus if a group is @xmath406 , it is called _ almost convex _ with respect to that generating set",
    ". if a group is almost convex with respect to _ any _ generating set , then we simply call it almost convex , omitting the mention of a generating set",
    ".    there are interesting examples of families of groups with and without this property .",
    "groups which are almost convex with respect to any generating set include hyperbolic groups @xcite and fundamental groups of closed 3-manifolds whose geometry is not modeled on _ sol _ @xcite . moreover",
    ", amalgamated products of almost convex groups retain this property @xcite .",
    "groups which are not almost convex include fundamental groups of closed 3-manifolds whose geometry is modeled on _ sol _ @xcite and the solvable baumslag - solitar groups @xmath408 @xcite .",
    "almost convexity is a property which depends on generating set ; this was proven by thiel using the generalized heisenberg groups @xcite .",
    "cleary and taback prove in @xcite that thompson s group @xmath0 is not almost convex with respect to the standard generating set @xmath409 , but this has no implications for the convexity of the group with respect to other generating sets .",
    "below we prove that @xmath0 is not almost convex with respect to any consecutive generating set @xmath1 .",
    "the proof below follows the outline of @xcite .",
    "[ thm : notac ] thompson s group @xmath0 is not almost convex with respect to the generating set @xmath1 .",
    "we begin with an overview of the proof of the theorem .",
    "assume that @xmath2 is almost convex , and construct particular group elements @xmath410 and @xmath411",
    "so that @xmath412 . almost convexity guarantees a short path @xmath413 from @xmath410 to @xmath411 which lies completely within the ball of radius @xmath7 .",
    "label the right caret at level @xmath353 in the reduced tree pair diagram for @xmath27 by @xmath414 .",
    "let @xmath415 for @xmath416 denote the prefix of @xmath413 of length @xmath295 . in the tree pair diagram for @xmath417 , caret @xmath414 will change type and level as @xmath295 increases .",
    "the salient point is that in @xmath410 the caret @xmath414 is the right caret at level @xmath372 , and in @xmath411 it is an interior caret of level @xmath372 , which is the left child of the right caret at level @xmath353 .",
    "thus there is a point along @xmath413 where the caret with label @xmath414 is again the right caret at level @xmath353 .",
    "suppose this happens when the prefix @xmath418 is applied to @xmath410 . to prove the theorem , we show that @xmath419 , contradicting the assumption of almost convexity .",
    "suppose that @xmath2 is almost convex .",
    "then there is a constant @xmath420 so that elements @xmath421 with @xmath422 can be connected by a path of length at most @xmath420 which is contained in @xmath423 .",
    "we now construct a group element @xmath27 by giving a reduced tree pair diagram @xmath37 , so that the elements @xmath424 yield a counterexample to this assumption .",
    "* constructing @xmath38 .",
    "* let @xmath425 be the right carets of @xmath38 , where @xmath426 is the root caret .",
    "these carets form a subtree with @xmath427 leaves ; let @xmath428 be the subtree of @xmath38 whose root is attached to the left leaf of caret @xmath429 . for @xmath361",
    ", we take @xmath428 to be the complete tree with @xmath430 levels . when @xmath431 , @xmath428 will be empty .    *",
    "constructing @xmath39 . *",
    "the root caret of @xmath39 will be the caret immediately preceding @xmath414 in infix order .",
    "the right carets of the right subtree of this caret will be @xmath432 , with the left subtree of @xmath433 empty for @xmath434 , and the left subtree of @xmath435 consisting of the single caret @xmath436 .",
    "the caret @xmath436 is added as an interior caret to ensure that the pair of trees is reduced .",
    "all carets before @xmath414 in infix order will be left carets in this tree , except for the caret with infix number two , which will be an interior caret , again simply to ensure that the tree pair diagram is reduced .",
    "figure [ fig : notac ] gives an example of a group element which is of this form .",
    "constructed so that @xmath424 will contradict the assumption of almost convexity.,width=384 ]    we first prove a lemma which shows that both @xmath28 and @xmath437 decrease the word length of @xmath27 .",
    "we then use @xmath410 and @xmath411 as the two elements which will contradict the assumption of almost convexity .",
    "let @xmath40 be defined as above",
    ". then @xmath438 .",
    "we show that multiplication by both @xmath28 and @xmath437 decrease the word length of the element @xmath27 constructed above .    * case 1 .",
    "multiplication by @xmath437 . *",
    "multiplication by @xmath437 creates a pair of trees @xmath439 in which the caret @xmath414 is now an interior caret in @xmath440 , and @xmath441 .",
    "thus @xmath442 .",
    "we will show that any penalty tree for @xmath27 can be altered to yield a penalty tree for @xmath411 with one fewer weighted caret .",
    "first we observe that all penalty carets in the reduced tree pair diagram for @xmath411 were also penalty carets for @xmath27 .",
    "the only two possible differences in the reduced tree pair diagrams for @xmath27 and @xmath411 which might influence the construction of penalty trees are :    1 .",
    "the caret @xmath414 is a right caret in both @xmath38 and @xmath39 , but in @xmath440 it becomes an interior caret which is not of type @xmath64 , hence is no longer a penalty caret in @xmath411 , and 2 .",
    "the adjacency @xmath443 , not present for @xmath27 , is present in @xmath411 .    since @xmath444 is a penalty caret for @xmath27 , by observation  [ o : bottleneck ] ,",
    "the string of edges @xmath445 must appear in every penalty tree for @xmath27 , and @xmath414 is not a left caret in either @xmath38 or @xmath39 .",
    "hence @xmath414 is a weighted caret in every penalty tree for @xmath27 .",
    "furthermore , since @xmath414 and @xmath446 are consecutive carets in the infix order , no other carets other than the @xmath429 carets in the string above are connected to the root of the penalty tree by a path passing through @xmath414 .",
    "let @xmath447 be any penalty tree for @xmath27 .",
    "since caret @xmath448 is a left caret in @xmath39 , we may assume , by the proof of lemma  [ lemma : leftcarets ] , that if @xmath448 is a vertex of @xmath66 , then the edge @xmath449 also appears on @xmath66 .",
    "we construct a penalty tree @xmath450 for @xmath411 as follows : delete the edge @xmath451 from @xmath109 .",
    "this leaves the caret @xmath414 as a leaf of @xmath102 , so we simply remove it , as it is not a penalty caret in @xmath411 .",
    "now if @xmath448 did appear on @xmath66 , connect @xmath446 via the edge @xmath452 . if not , add the two edges @xmath453 . in either case , the number of weighted carets in the subtree whose root is @xmath414 does not increase , and even if we added the caret @xmath448 to @xmath66 , it is not weighted . thus caret @xmath414 , which was a weighted penalty caret in @xmath447 , is not even present in @xmath450 . hence ,",
    "@xmath454 , so applying this argument to a minimal penalty tree for @xmath27 yields @xmath455 , and we conclude that @xmath456 .    * case 2 .",
    "multiplication by @xmath28 .",
    "* let @xmath23 be the caret which is the left child of caret @xmath414 in @xmath38 , that is , the root of the subtree @xmath457 .",
    "then multiplication by @xmath28 produces a pair @xmath175 in which @xmath23 is now the right caret at level @xmath353 in @xmath458 , and @xmath414 is the right caret at level @xmath372 in @xmath458 . since an interior caret has been changed to a right caret , @xmath459 .",
    "caret @xmath414 , however , has not changed type : it is of type @xmath64 in both @xmath38 and @xmath440 , and a left caret which is not of type @xmath64 in both @xmath39 and @xmath460 .",
    "the only other change is that the adjacency @xmath461 in @xmath38 no longer exists in @xmath458 , and hence is not available for constructing a minimal penalty tree .",
    "we will show that any penalty tree for @xmath27 may be altered to construct a penalty tree for @xmath410 with no additional weighted penalty carets .",
    "let @xmath447 be any penalty tree for @xmath27 .",
    "let @xmath462 be the root caret of @xmath39 .",
    "as before , since @xmath462 is a left caret in @xmath39 , we may assume that either @xmath462 does not appear on @xmath66 , or if it does , so does the edge @xmath463 .",
    "if the edge @xmath461 is not present in @xmath447 , then @xmath464 is a penalty tree for @xmath410 .",
    "if the edge @xmath465 is present in @xmath447 , we construct @xmath450 as follows .",
    "delete the edge @xmath461 in @xmath101 . if @xmath462 was on @xmath66 , it appears on the edge @xmath463 , and we add the edge @xmath466 . if @xmath462 was not on @xmath66 , add it together with the two edges @xmath467 to form @xmath103 .",
    "thus the vertices @xmath468 and @xmath414 are present in both @xmath101 and @xmath102 .",
    "it follows from the construction of @xmath469 that @xmath470 , and hence @xmath471 .",
    "thus @xmath472 and the lemma follows .",
    "it follows from the assumption that @xmath473 is almost convex that there is a path @xmath413 of length at most @xmath420 from @xmath410 to @xmath411 which is completely contained in the ball of radius @xmath7 , where @xmath474 .",
    "we view @xmath413 as a product @xmath475 where each @xmath476 , and consider the prefixes @xmath477 .",
    "we first consider the effect of multiplication by @xmath28 and @xmath437 on the caret @xmath414 in the initial word @xmath192 .",
    "this caret , in @xmath38 , is a right caret at level @xmath353 .",
    "after multiplication by @xmath28 , we obtain @xmath478 , and now caret @xmath414 is a right caret in @xmath458 at level @xmath372 .",
    "after multiplication by @xmath437 , we obtain @xmath479 , and this caret is an interior caret in @xmath480 which is the left child of the right caret at level @xmath353 .    in each prefix",
    "@xmath481 we note the position of the caret with label @xmath414 .",
    "the generators in the set @xmath190 and their inverses perform combinatorial rearrangements of the subtrees of the tree pair diagram representing @xmath482 at levels one through @xmath353 along the right side of the negative tree in the pair . thus , there is a first point along the path @xmath413 at which caret @xmath414 is again the right caret at level @xmath353 .",
    "denote this prefix of @xmath413 by @xmath202 , which has length @xmath270 where @xmath483 .",
    "denote the prefixes of @xmath202 by @xmath484 , where @xmath485 .",
    "we note that because of the choice of @xmath27 , multiplication of @xmath486 by @xmath487 never requires the addition of carets to the tree pair diagram for @xmath488 , and as a result , the positive tree is always unchanged by this multiplication .",
    "additionally , after this multiplication is performed , no cancelation is necessary to obtain the reduced tree pair diagram .",
    "the only exposed carets in @xmath39 are in the second and the penultimate carets , and these carets are not exposed in @xmath38 , nor can they ever become exposed along @xmath202 .",
    "this means that the number of carets in the tree pair diagrams for @xmath488 remains constant for @xmath489 .    for each prefix @xmath484 of @xmath202",
    ", we consider the tree pair diagram for @xmath490 .",
    "as the values of @xmath295 increase , the position of caret @xmath414 moves up and down the right side of the negative tree at levels at least @xmath353 , and is unchanged in the positive tree . if the next generator in the path @xmath202 is of the form @xmath491 , then the level of @xmath448 in the negative tree increases by one . if the next generator in the path @xmath202 is @xmath492 , then the level of @xmath448 in the negative tree decreases by one . in either case ,",
    "the position of this caret in the positive tree is unchanged .",
    "since the level of caret @xmath414 must have a net decrease of 1 , the path @xmath202 necessarily consists of @xmath493 generators with negative exponents and @xmath494 generators with positive exponents .    to prove this theorem",
    ", we show that generators of the form @xmath492 as part of the path @xmath202 always increase the word length .",
    "thus the word length @xmath495 satisfies the following inequality : @xmath496 it follows from this inequality that the element @xmath497 does not lie in the ball of radius @xmath7 , contradicting the assumption of almost convexity .    since multiplication by @xmath492 will always move a right caret to an interior or left caret , and carets",
    "are never added in order to complete multiplication along the path @xmath202 , multiplication of @xmath488 by @xmath492 will always yield @xmath498    we now show that the penalty contribution to the word length is unchanged when @xmath488 is multiplied by @xmath492 . each such multiplication changes a right caret into an interior caret , and also disrupts some adjacency , which might affect the penalty tree .",
    "however , we note two salient points :    1 .",
    "the caret which is shifted from right to interior by this multiplication always precedes caret @xmath414 in infix order , and any such caret can be connected to the right side of the negative tree for @xmath486 by a path of at most length @xmath420 .",
    "thus such a carets is a left caret in @xmath39 as well as in the positive tree in the reduced pair representing @xmath488 .",
    "2 .   it follows from lemma [ lemma : leftcarets ] that this caret is never a weighted penalty caret in any minimal penalty tree for @xmath488 , for any @xmath295 .",
    "thus when @xmath488 is multiplied by @xmath492 to obtain @xmath499 , we must have @xmath500 . combining this with the fact that @xmath501 implies that @xmath502 , which proves the theorem .",
    "let @xmath62 be a finitely generated group with a finite generating set @xmath35 .",
    "we say that @xmath503 , with @xmath504 , is a @xmath7-pocket if @xmath505 , taking the maximal @xmath7 for which this is true .",
    "thus any path from @xmath100 in the cayley graph @xmath506 of length at most @xmath7 remains in the ball of radius @xmath3 centered at the identity , and there is some path of length @xmath24 emanating from @xmath100 which leaves this ball .",
    "the integer @xmath7 is called the _ depth _ of the pocket .    we say that a group @xmath62 has _ deep pockets _ with respect to a finite generating set @xmath35 if there is no bound on the depth of group elements .",
    "bogopolsk@xmath507 proved in @xcite that hyperbolic groups have finite depth , that is , for every generating set there is a uniform upper bound on the depth of all pockets .",
    "there are many examples of finitely - generated infinite groups with deep pockets : the lamplighter groups @xmath508 , \\ i \\in { \\mathbb z}\\rangle$ ] with respect to the generating set @xmath509 were the first examples of such groups @xcite , and a finitely presented example of such a group is given in @xcite .",
    "warshall , in @xcite , proves that the discrete heisenberg group @xmath510,[y,[x , y ] ] \\rangle$ ] has deep pockets with respect to any finite generating set .",
    "riley and warshall in @xcite prove that the property of having deep pockets does depend on the choice of generating set .",
    "we show below that for any @xmath511 , thompson s group @xmath0 has a generating set @xmath1 which yields pockets of depth at least @xmath7 , as long as @xmath8 . since @xmath512 is always greater than one",
    ", this does not contradict the result in @xcite stating that @xmath513 has only pockets of depth two .",
    "the theorem below is really of interest for large values of @xmath7 .",
    "it is proved by example ; for a given @xmath7 we construct a family of pockets whose depth is at least @xmath7 with respect to @xmath190 . in @xcite ,",
    "an exhaustive description is given of all pockets with respect to @xmath514 , which are necessarily of depth two .",
    "we do not give such a description below with respect to @xmath190 .",
    "in addition , we give upper bounds on pocket depth in each of these generating sets .",
    "we show that for fixed a @xmath3 , there are no pockets of depth greater than or equal to the maximum of @xmath515 and @xmath516 .",
    "note that for @xmath120 we have @xmath517 , so it is only for the case @xmath5 that the upper bound on pocket depth is @xmath518 , and in this @xmath5 case , there are in fact pockets of depth 2 .",
    "we construct a group element @xmath520 for each @xmath521 which is a pocket of depth at least @xmath7 with respect to the generating set @xmath190 , for @xmath8 by describing the trees @xmath38 and @xmath39 .",
    "we assume that the carets of these trees are numbered in infix order .    1 .",
    "let @xmath522 be the right carets of @xmath38 .",
    "let @xmath428 be the left subtree of @xmath429 ; we choose @xmath428 to be the complete tree with @xmath24 levels for @xmath523 . for @xmath524",
    ", @xmath428 is empty .",
    "the right carets of @xmath39 are @xmath525 , but caret @xmath526 is the left child of caret @xmath527 , an interior caret . denote the left subtree of caret @xmath429 by @xmath528 , and as in @xmath38 , @xmath528 is empty for @xmath529 . for @xmath530 , as an independent tree , @xmath528 consists of a string of right carets , one fewer in number than the number of carets in @xmath428 , with a penultimate interior caret .",
    "this additional caret ensures that the tree pair diagram will be reduced .",
    "let @xmath531 be any word with @xmath532 or @xmath533 for all @xmath295 , and denote the prefixes of @xmath202 by @xmath534 .",
    "the original word @xmath27 was constructed so that the following are always true :    1 .",
    "the original tree pair diagram @xmath37 is reduced .",
    "each @xmath295 , multiplication of @xmath535 by @xmath487 can be accomplished without adding additional carets to the tree pair diagram , and the resulting tree pair diagram for each @xmath536 is always reduced .",
    "thus the number of carets in the reduced tree pair diagram for @xmath535 remains constant for @xmath537 .",
    "3 .   in the tree pair diagram for @xmath535 ,",
    "the positive tree in the pair is always @xmath39 , the same positive tree as in the initial word @xmath27 .",
    "let @xmath535 be represented by the reduced tree pair diagram @xmath538 .",
    "the only carets that can be affected when @xmath535 is multiplied by @xmath487 are penalty carets .",
    "moreover , these carets remain penalty carets when the multiplication is completed , since they have type @xmath64 in @xmath39 , and the tree @xmath39 is unchanged by the multiplication .",
    "the subtree of @xmath539 with root caret @xmath540 remains unchanged for each @xmath536 , and always hangs from the right leaf of caret @xmath541 .",
    "all carets in this subtree but the final two are penalty carets , and necessarily form a string of length @xmath305 which hangs from vertex @xmath541 in any penalty tree for @xmath536 , as described in observation [ o : bottleneck ] .    to prove theorem [ thm : pockets ] , we will show that @xmath542 for all @xmath543 .",
    "we will describe the change in @xmath171 between @xmath27 and @xmath535 , and bound the change in penalty contribution between these two elements as well .",
    "first note that a minimal penalty tree for @xmath27 is easily constructed by joining each penalty caret to @xmath73 by choosing the shortest adjacency path in the single tree @xmath38 .",
    "namely , connect each caret to the caret adjacent to it via its honest , not generalized , left edge .",
    "we call this path the _ greedy path _ from a caret to @xmath73 .",
    "it follows that the only penalty carets which are weighted in this minimal penalty tree are @xmath544 , yielding @xmath545 .",
    "when considering possible penalty trees for @xmath546 , we again must consider those carets on the right side the tree @xmath539 .",
    "let @xmath547 denote the number of carets @xmath433 , for @xmath548 , which were right carets in @xmath37 but are no longer right carets in @xmath539 , and @xmath549 the number of right carets in @xmath539 which are not amongst the carets numbered @xmath433 for @xmath550 .",
    "observe that @xmath551 .",
    "we give an upper bound for @xmath552 in order to control @xmath553 by constructing a penalty tree for @xmath536 which is not necessarily minimal but will give the estimate necessary to prove theorem [ thm : pockets ] .",
    "we do this in two cases , depending on the sign of @xmath554 .",
    "* case 1 : @xmath555 .",
    "* construct a penalty tree @xmath556 for @xmath535 once again by choosing the greedy paths in the tree @xmath539 .",
    "the right carets of @xmath539 are @xmath557 where some subset of the first @xmath307 right carets are equal to @xmath433 for values of @xmath270 between @xmath26 and @xmath558 .",
    "these adjacencies alone yield a subtree where each vertex , other than the initial and final vertices , has valence two . for each @xmath270 ,",
    "the left subtree of @xmath559 in the tree @xmath539 is a subtree of the complete tree with @xmath560 levels , where @xmath561 .",
    "it follows from lemma [ lemma : complete ] that the greedy path from a caret in the left subtree of @xmath559 to @xmath562 has length at most @xmath560 , where @xmath563 .",
    "therefore we see that none of the carets in the left subtrees of the @xmath564 correspond to weighted penalty carets in @xmath565 .",
    "thus @xmath566 , and the difference in penalty contribution to the word length between @xmath27 and @xmath535 is bounded as follows : @xmath567 recall from above that @xmath551 , and combine these estimates to bound the difference in word length :        * case 2 : @xmath570 .",
    "* unlike case 1 , we now build a penalty tree @xmath565 using first the adjacencies @xmath571 present in @xmath39 for @xmath572 , attaching @xmath426 to the dummy caret @xmath73 .",
    "this again yields a tree where each vertex other than the final and initial ones has valence two .",
    "we now attach vertices to @xmath565 representing the other penalty carets of @xmath539 , those not amongst the carets @xmath433 for @xmath573 .",
    "for each such caret @xmath52 , we use the adjacencies along the greedy path in @xmath539 from @xmath52 to @xmath73 .",
    "we take the longest subpath of the greedy path containing @xmath52 but none of the @xmath433 carets , and attach vertices and edges corresponding to these adjacencies to @xmath574 , joining this path to the existing tree at the next caret along the path , which is necessarily either @xmath73 or @xmath433 for some @xmath575 .",
    "we claim that the distance between @xmath52 and that @xmath433 caret is at most @xmath576 .",
    "this will imply that none of these other carets @xmath52 will be weighted carets in @xmath577 . to see why the claim is true , note that if caret @xmath52 is a right caret in @xmath539 , then the distance along the greedy path to the next @xmath433 caret is at most @xmath578 . if @xmath52 is not a right caret , then it is in the left subtree of a right caret @xmath579 of @xmath539 .",
    "the caret @xmath579 is the right child of a caret @xmath53 , where @xmath53 is either a right caret of @xmath539 or the dummy caret @xmath73 , and the greedy path from @xmath52 to @xmath73 passes through @xmath53 .",
    "if the distance from @xmath53 to the next @xmath433 caret along that greedy path is @xmath580 , then the left subtree of @xmath579 is a subtree of a complete tree with @xmath581 levels .",
    "it follows from lemma [ lemma : complete ] that the greedy path from @xmath52 to @xmath53 has length at most @xmath581 .",
    "hence , the greedy path from @xmath52 to an @xmath433 caret has length at most @xmath582 , establishing the claim .",
    "therefore , @xmath583 , and hence @xmath584 .",
    "we will show that for every @xmath15 , at least one of @xmath589 , for @xmath590 , or @xmath591 , where @xmath592 is greater than @xmath56 .",
    "since @xmath593 for @xmath594 , and @xmath595 , this proves the theorem .",
    "let @xmath15 be represented by the reduced pair diagram @xmath95 , and let @xmath596 be the right carets of @xmath38 , and let @xmath428 be the left subtree of @xmath429 for @xmath597 .",
    "first observe that , for @xmath598 , if @xmath599 or if both @xmath600 and @xmath301 , then @xmath601 .",
    "thus we need only consider the case that @xmath602 and @xmath603 are all not empty .",
    "assume that we are in this case ; we will show below that it follows that @xmath604 .",
    "note that in this case , the reduced tree pair diagram for @xmath174 is @xmath605 . in @xmath606 , carets @xmath429 for @xmath607 are all interior , whereas they were right carets in @xmath38 , so @xmath608 . to compare penalty weight between @xmath27 and @xmath174 ,",
    "notice that all of the @xmath429 carets which are interior in @xmath606 are type @xmath64 , so they remain penalty carets for @xmath174 .",
    "the only change is in the caret adjacencies ; the adjacencies @xmath609 , for @xmath610 are present in @xmath606 , but not in @xmath38 .",
    "we claim that @xmath611 .",
    "to prove this claim , suppose @xmath66 is a minimal penalty tree for @xmath174 .",
    "we will construct a penalty tree @xmath103 for @xmath27 as follows . if @xmath66 contains no edges of the form @xmath612 , for @xmath610 , then @xmath230 is a penalty tree for @xmath27 , so @xmath326 . if @xmath66 does contain one such edge , it contains only one , say @xmath609",
    ". then alter @xmath66 to form @xmath103 by deleting the edge , and inserting the edge @xmath613 , noting that @xmath444 was already a vertex on @xmath66 , since it is has type @xmath64 in @xmath606 .",
    "then @xmath103 is a penalty tree for @xmath27 .",
    "it is possible that @xmath614 , but this possible increase can only be caused by carets along the path from @xmath73 to @xmath444 which were not weighted in @xmath66 but become weighted in @xmath103 .",
    "however , there can be at most @xmath305 of these , so @xmath615 , and therefore @xmath616 .",
    "thus we obtain the necessary inequality :                                v.s .",
    "guba , _ on the properties of the cayley graph of richard thompson s group @xmath0 _ , in international conference on semigroups and groups in honor of the 65th birthday of prof .",
    "john rhodes .",
    "j. algebra comput .",
    "* 14*(2004 ) , no .",
    "5 - 6 , 677 - 702 ."
  ],
  "abstract_text": [
    "<S> we introduce a new method for computing the word length of an element of thompson s group @xmath0 with respect to a  consecutive \" generating set of the form @xmath1 , which is a subset of the standard infinite generating set for @xmath0 . </S>",
    "<S> we use this method to show that @xmath2 is not almost convex , and has pockets of increasing , though bounded , depth dependent on @xmath3 . </S>"
  ]
}