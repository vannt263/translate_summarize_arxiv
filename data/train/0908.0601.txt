{
  "article_text": [
    "_ random walks _ are a mechanism to route messages through a network . at each hop of the random walk , the node holding the message forwards it to some neighbor chosen uniformly at random .",
    "random walks have interesting properties : they produce little overhead and network nodes require only local information to route messages . in turn",
    ", this makes random walks resilient to changes on the network structure .",
    "thanks to these features , random walks are useful for different applications , like routing , searching , sampling and self - stabilization in diverse distributed systems such as peer - to - peer ( p2p ) and wireless networks  @xcite .",
    "past works have addressed the study of random walks .",
    "some of this research has focused on the coverage problem , trying to find bounds for the expected number of hops taken by a random walk to visit all vertices ( nodes ) in a graph is often denoted the _ cover time_. however , in this work we will use the term _ time _ to refer to the _ duration _ of the random walk . to avoid confusion , from now on the term _ time",
    "_ will only denote the physical magnitude . ]",
    "@xmath0 ( @xmath1 )  @xcite .",
    "results vary from the optimal @xmath1 of complete graphs @xmath2  @xcite ( where @xmath3 is the number of vertices ) to the worst case found in the lollipop graph @xmath4  @xcite .",
    "barnes and feige in @xcite generalize this bound to the expected number of hops to cover a fraction ( @xmath5 ) of the vertices of the network , which they found is @xmath6 .",
    "other works , for example , are devoted to find bounds on the expected number of steps before a given node @xmath7 is visited starting from node @xmath8 ( @xmath9 ) .",
    "for example , it is known that the upper bound for @xmath9 is @xmath4  @xcite .",
    "many of these results are based on the study of the properties of the transition matrix @xmath10 and adjacency matrix @xmath11 in spectral form  @xcite .",
    "the previous results are used in several works to discuss the properties of random walks in communication networks .",
    "gkantsidis et al .",
    "@xcite apply them to argue that random walks can simulate random sampling on p2p networks , a property that in their opinion justifies the ` success of the random walk method ' when proposed as a search tool  @xcite or as a network constructing method  @xcite .",
    "adamic et al .",
    "@xcite study the search process by random walks in power - law networks applying the generating function formalism .",
    "this work seems deeply inspired by a previous contribution of newman et al .",
    "@xcite , who study the properties ( mean component size , giant component size , etc . ) of random graphs with arbitrary degree distribution .",
    "this paper introduces a study of random walks from a different perspective .",
    "it does not study the formal bounds in the amount of hops to cover the network .",
    "instead , it tries to estimate the efficiency of the random walk as a search mechanism in communications networks , applying network queuing theory .",
    "it takes into account the bounded processing capacities of the nodes of the network and the load introduced by the search messages , that are routed using random walks . to obtain this load",
    ", we need to estimate first the average search length , which in turn is computed from the expected average coverage : the average number of different nodes covered at each hop of the random walk .",
    "a distinguishing feature of our work is that , as in the case of adamic et al .",
    "@xcite , it deals with a scenario that has not been very exhaustively explored although , in our opinion , is quite interesting in the communications field : _ one - hop replication networks_.    [ [ one - hop - replication ] ] one - hop replication + + + + + + + + + + + + + + + + + + +    one - hop replication networks ( also called _ lookahead networks _  @xcite ) are networks where each node knows the identity of its neighbors and so it can reply on their behalf .",
    "hence , to find a certain node by a random walk it suffices to visit any of its neighbors .",
    "this feature is present for example in social networks , where to find some person it is usually enough to locate any of her / his friends  @xcite .",
    "also , certain proposals to improve the resource location process on p2p systems  @xcite ( some based on random walks ) assume that each node knows the resources held by its neighbors , so to discover some resource ( such as a file or a service ) it suffices to visit any of the neighbors of the node(s ) holding it .    in one - hop replication networks ,",
    "when the random walk visits some node @xmath8 we say it also _ discovers _ the neighbors of @xmath8 .",
    "hence , we will use two different terms to refer to the coverage of the random walk .",
    "we denote by _ visited nodes _ those that have been traversed by the random walk , and by _ covered nodes _ the visited nodes and their neighbors .",
    "see figure  [ fig : illustration ] for an illustrative example .",
    "[ [ previous - work - and - the - revisiting - effect ] ] previous work and the revisiting effect + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    there is some research work related with the characterization of random walks in one - hop replication networks . in",
    "@xcite the authors prove that in the power - law random graph the amount of hops for a random walk to discover the graph is sublinear ( faster than coupon collection , with which the random walk is compared in  @xcite ) .",
    "also , manku et al .",
    "@xcite study the impact of lookahead on p2p systems where searches are routed through greedy mechanisms .",
    "in another work , adamic et al .",
    "@xcite try to find analytical expressions for @xmath1the cover time of a random walk in power - law networks with two - hops replication .",
    "they detected divergences between the analytical predictions and the experimental results .",
    "the reason for such discrepancy , as the authors point out , is the _ revisiting effect _ , which occurs when a node is visited more than once . in small - world networks , where a small number of nodes are connected to other nodes far more often than the rest",
    ", it is quite common for random walks to visit often these highly connected nodes .",
    "[ [ our - contributions ] ] our contributions + + + + + + + + + + + + + + + + +    although there is a plethora of interesting results about random walks , we have noticed that there are situations where current findings are not straightforward to apply , especially on communication networks with one - hop replication .",
    "for example , in such networks , we can be interested on studying beforehand the expected behavior of the random walk to evaluate if it suits the system requirements .",
    "we characterize the random walk performance by four values :    * _ the expected coverage_. given by the expected number of visited and covered nodes of each degree @xmath12 at each hop @xmath13 of the random walk . * _ the expected average search length_. expected length of searches in number of hops , assuming that the source and destination nodes of each search are chosen uniformly at random . obtained from the coverage estimations . * _ the expected average search duration_. expected time to solve searches .",
    "obtained from the average search length , given the _ processing capacity _ of each node and the _ load _ on the network due to queries .",
    "* _ the maximum load that can be injected to the network _ without overloading it .    in this work we provide a set of expressions that model the behavior of the random walk and",
    "give estimations for the three previous parameters .",
    "our claim is that these expressions can be used as a mathematical tool to predict how random walks will perform on networks of arbitrary degree distribution .",
    "then , we do not only address the coverage problem ( i.e. to estimate the amount of nodes covered after each hop of the random walk ) , but we also apply queuing theory to model the response time of the system depending on the load . as we show , this approach allows to compute in advance important magnitudes , such the expected search duration or the maximum load that can be managed by the network before getting overloaded .",
    "additionally , we find our model useful to study how certain features of the network impact on the performance of searches .",
    "for example we find that the best average search time is achieved only if the nodes with higher degrees have also greater processing capacities .",
    "the expressions related with the estimation of covered nodes at each hop are the most complex part of the model .",
    "they must deal both with the one - hop replication feature and the revisiting effect .",
    "however , we should remark that the model can be trivially adapted to networks where the _ one - hop replication _ property does not hold , and the search finishes only when the node we are searching for is found ( see the last paragraph in section  [ subsec : averagelength ] ) .    likewise , it is easy to modify the model to a variation of the random walk where each node avoids sending back the message to the node it received it from at the previous hop .",
    "we denote this routing mechanism _ avoiding random walks _ , and we deem it interesting for two reasons .",
    "first , intuitively , it should improve the random walk coverage ( we have confirmed this experimentally ) .",
    "second , it can be implemented in real systems using only local information , just as the pure random walk ( the sending node only needs to know from which neighbor the message came from ) .",
    "a feature of our proposal is that it does not require the complete adjacency matrix @xmath11 , that in some situations could be unknown .",
    "instead , thanks to the randomness assumption we apply it only needs the degree distribution of the network to compute the metrics we are interested in . on the other hand , this work is focused on networks with good connectivity and where the nodes degrees are independent ( see section  [ subsec : modelandassumptions ] ) .",
    "another property of this model is that it takes into account the revisiting effect by modeling the coverage of the random walk at each hop @xmath13 depending on the coverage at the previous hop @xmath14 .",
    "that is , the evolution of the coverage is not assumed to be a memoryless process , a simplification that can lead to errors as seen in  @xcite .",
    "the rest of the paper is organized as follows .",
    "section  [ sec : knownnodesaverleng ] introduces our analysis of the coverage and average search length of random walks , along with some experimental evaluation .",
    "section  [ sec : searchesbyrw ] is centered on obtaining the average search time of random walks . finally , in section  [ sec : conclusions ]",
    ", we state our conclusions and propose some potential future work .",
    "in this section , we analyze the behavior of random walks in arbitrary networks .",
    "we will represent networks by means of undirected graphs @xmath15 , where vertices @xmath16 represent the nodes and edges @xmath17 are the links between nodes .",
    "there are no links connecting a vertex to itself , or multiple edges between the same two vertices .",
    "this does not simplify our model , but makes it closer to real scenarios like typical p2p networks .",
    "we denote by @xmath18 the number of nodes in the graph and by @xmath19 the number of nodes that have degree @xmath12 ( i.e. , the number of nodes that have @xmath12  neighbors , @xmath20 ) . for all vertices its degree @xmath12 is lower than the size of the network @xmath3 , as in typical real world networks ( such as social and pure p2p networks ) each node",
    "is connected to only a subset of the other vertices in the system .",
    "we also denote by @xmath21 the probability that some node in the network , chosen uniformly at random , has degree @xmath12 ( i.e. , @xmath22 ) .",
    "the average degree of a network is given by @xmath23 .",
    "for a given network , the distribution formed by the probabilities @xmath21 ( for all @xmath12 ) is known as the _ degree distribution _ of such a network .    a random walk over @xmath0",
    "can be defined as a",
    "_ markov chain _",
    "@xcite process @xmath24 where the transition matrix @xmath25 $ ] is defined as : @xmath26    where @xmath27 is the probability of moving from node @xmath8 to node @xmath7 , and @xmath28 is the degree of node @xmath8 .",
    "@xmath10 allows to study the probability of visiting each node at each hop @xmath13 .",
    "this probability is expressed in the _ state probability vector _ , @xmath29 , where @xmath30 represents the probability that the random walk visits node @xmath8 at hop @xmath13 .",
    "this probability evolves as @xmath31 .    assuming that @xmath0 is connected and finite , then @xmath24 is irreducible : any node can be reached from any other node , and the average path length between two any nodes is finite . assuming also that @xmath0 is non - bipartite",
    ", then we can state that @xmath24 is aperiodic and so we are able to apply the _ fundamental theorem of markov chains _",
    "this theorem states that in such graph @xmath24 is _ ergodic _ an exists an unique state probability distribution @xmath32 , denoted the _ stationary distribution _",
    ", such that @xmath33 , @xmath34 , where @xmath35 is :    @xmath36    intuitively , @xmath32 represents the steady state of @xmath24 .",
    "that is , @xmath35 represents the probability that the node @xmath8 is visited at any hop of the random walk once the stationary distribution has been reached .",
    "this probability is proportional to the degree of @xmath8 , @xmath28 .    [",
    "[ mixing - rate - and - conductance ] ] mixing rate and conductance + + + + + + + + + + + + + + + + + + + + + + + + + + +    we are interested on how fast the random walk converges to @xmath32 , a magnitude that is called the _ mixing rate _  @xcite .",
    "we require a fast convergence in order to be able to apply equation  [ equ : pa ] .",
    "the convergence rate is related with the eigenvalues of the transition matrix @xmath10 .",
    "a vector @xmath37 is an _ eigenvector _ of @xmath10 with _ eigenvalue _",
    "@xmath38 iff @xmath39 ( so for example @xmath32 is an eigenvector of @xmath10 with eigenvalue @xmath40 ) .",
    "it is well known  @xcite that @xmath10 has @xmath3 real eigenvalues @xmath41 ( and in fact , if @xmath0 is non - bipartite then @xmath42 ) .",
    "it is also known  @xcite that the convergence rate to @xmath32 is governed by the second largest eigenvalue modulus of @xmath10 , @xmath43 . in most real world networks",
    "we can safely assume that @xmath44  @xcite .",
    "the following holds for a random walk starting at node @xmath8  @xcite : @xmath45    where @xmath46 is the distribution of the state of the random walk at hop @xmath13 , when @xmath8 is the initial state .",
    "thus , we can expect a fast mixing for high values of the _ spectral gap _ @xmath47 .",
    "now , the @xmath48 value is strongly related with the _ conductance _ of the network , @xmath49 .",
    "informally , the conductance measures how well ` connected ' the graph is . it is defined as follows . for @xmath50 ,",
    "the cutset of @xmath51 , @xmath52 , is the set of edges with one endpoint in @xmath51 and the other endpoint in @xmath53 .",
    "the volume of @xmath51 , @xmath54 , is defined as the sum of degrees of the nodes in @xmath51 , i.e. , @xmath55 .",
    "then the conductance of @xmath0 is computed as :    @xmath56    the relationship between the conductance and the convergence is given by the following expression ( _ cheeger s inequality _ )",
    "@xcite : @xmath57    so _ a good conductance leads to high mixing rates _ , that is , the random walk state will converge quickly to the stationary distribution @xmath32 .",
    "the intuition behind this fact is that in graphs with good conductance the random walk will be able to move to any region of the graph easily , whichever the origin node , and so it will evolve quickly to the equilibrium .",
    "we reason that high connectivity is to be expected in many real world networks ( specially communication networks ) and network models  @xcite .",
    "therefore , we can assume that the probability that the node visited by the random walk has degree @xmath12 at each hop of the random walk , @xmath58 , is also proportional to @xmath12 and can be computed as :    @xmath59    we will apply equation  [ equ : pa ] intensively for our analysis of the coverage .",
    "of course , its correctness depends on the distance of the random walk to the stationary distribution , or how fast it converges to it .",
    "another issue to be taken into account is the possible dependencies between successive steps of the random walk .",
    "our analysis estimates the average number of nodes visited and covered by the random walk at a certain hop from the values estimated at the previous hop .",
    "the new estimation is done assuming that the random walk has statistical properties similar to the random sampling of nodes where the probability of choosing a certain node is proportional to @xmath60 , _ despite the apparent dependencies between consecutive hops_.    also , the work by gkantsidis et al .",
    "@xcite shows the similarities between independent sampling and random walks , that we assume for our mean based analysis . as the authors state , in networks with good connectivity and expansion properties ( which are strongly related to @xmath48 )",
    "the random walk has a behavior close to independent sampling , being the probability of choosing some node proportional to its degree .",
    "besides , we have performed some experiments to verify the correctness of this hypothesis .",
    "the results , shown in figure  [ fig : property ] confirm it is a valid assumption .",
    "also , we would like to remark that the property expressed by equation  [ equ : pa ] is in fact assumed in previous works about random walks ( e.g. ,  @xcite ) and backed by  @xcite .",
    "another important issue we have tested is how ` fast ' the random walk evolves to a state where the assumption of eq .",
    "[ equ : pa ] holds .",
    "figure  [ fig : property3 ] shows how the random behaves .",
    "it can be seen that , almost immediately after hop 0 ( start node ) , the probability of reaching a node of degree @xmath12 is @xmath58 .",
    "we should note that the good conductance property , that implies that the random walk can move from any node to any other node in few steps , discards some topologies such as cycles .",
    "[ [ independence - of - nodes - degrees ] ] independence of nodes degrees + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    finally , we assume that the degrees of neighbors are independent .",
    "that is , given any two connected nodes @xmath8 and @xmath7 ( @xmath61 ) and any two degree values @xmath62 and @xmath63 , then @xmath64=p[d(i)\\mathopen{=}k_1]=p_{k_1}$ ] .",
    "this property holds in networks built by random mechanisms , like the ones used to built the er and small - world networks we target in our experiments . to confirm that the degree independence assumption is valid we have run some experiments , whose",
    "results are shown in figure  [ fig : property2 ] .",
    "these experiments aim to measure if the probability of reaching a node of degree @xmath12 when following a random walk is affected by the degree @xmath65 of the node the random walk was in the previous hop ( @xmath66 ) .",
    "our results lead to the conclusion that @xmath67 , that is , @xmath65 does not have an impact on @xmath12 .",
    "we should note also that this property is not fulfilled in certain graphs like those built by preferential mechanisms where it is well - known that there is a correlation among neighbors degrees  @xcite .",
    "this could lead to certain deviations in mean - based analysis of the random walk ( as our own ) .    in the following ,",
    "we study how many different nodes are visited by a random walk as a function of its length ( i.e. , of the number of steps taken ) and of the degree distribution of the chosen network .",
    "subsequently , we extend this result to also consider the neighbors of the visited node . these metrics allow us to quantify how much of a network is being `` known '' throughout a random walk progress .",
    "then , we turn our attention to provide an estimation of the average search length of a random walk . in the last subsection , we validate our analytical results by means of simulations .",
    "we assume that only the degree distribution @xmath21 and the size @xmath68 of the network are known .",
    "this metric represents the average number of different nodes that are visited by a random walk until hop @xmath13 ( inclusive ) , denoted by @xmath69 .",
    "note that nodes may each be visited more than once , but revisits are not counted .    to obtain @xmath69",
    ", we first calculate the average number of different nodes of degree  @xmath12 that are visited by a random walk until hop @xmath13 ( inclusive ) , denoted by @xmath70 .",
    "we make a case analysis :    * when @xmath71 ( i.e. , in the source node ) : since the source node of the random walk is chosen uniformly at random , then the probability of starting a random walk at a node of degree @xmath12 is @xmath21 .",
    "therefore , + @xmath72 * when @xmath73 ( i.e. , at the first hop ) : here we apply that the probability of visiting some node of degree @xmath12 at any hop is given by @xmath58 ( equation  [ equ : pa ] ) .",
    "this is based on the assumption that the random walk behaves similarly to independent sampling despite dependencies between consecutive hops ( based on  @xcite , see section  [ subsec : modelandassumptions ] ) .",
    "we deem this premise to be reasonable even at the first stages of the random walk , due to the high mixing rates found in the type of networks on which we focus our work ( again , see section  [ subsec : modelandassumptions ] ) .",
    "recall that the experimental evaluation both of this assumption ( fig .",
    "[ fig : property ] ) and of our model ( shown in section  [ sec : experimentalresults ] ) , seem to verify this .",
    "thus , we have that + @xmath74 * when @xmath75 : we must take into account the probability of the random walk arriving at an already visited node . to compute such a probability , we define the following two values : * * @xmath76 : this represents the probability that , if the random walk arrives at a node of degree @xmath12 at hop @xmath13 , that node has been visited before .",
    "it can be obtained as follows : @xmath77 + note that we put @xmath78 instead of @xmath79 because the node visited at hop @xmath14 can not be visited at hop @xmath13 ( no vertex is connected to itself ) . * * @xmath80 : this is the probability that at any given hop the random walk is moving back to the node where it came from . ] .",
    "since any visited node has degree @xmath12 with probability @xmath58 , then the random walk will go back through the same link from which it came with probability @xmath81 .",
    "therefore , we have : + @xmath82 + using these probabilities , @xmath70 can be written as + @xmath83    finally , taking the results obtained in equations  [ eq : visited0 ] ,  [ eq : visited1 ] and  [ eq : visitedn ] , we have that the total number of different nodes visited until hop @xmath13 is @xmath84      this metric provides an estimation of the average number of different nodes _ covered _ by a random walk until hop  @xmath13 ( inclusive ) , denoted by @xmath85 .",
    "a node is covered by a random walk if such a node , or any of its neighbors , has been visited by the random walk .    to obtain @xmath85",
    ", we first calculate the number of different nodes of degree  @xmath12 covered at hop  @xmath13 , denoted by @xmath86 .    * when @xmath71 : @xmath87 + the first term takes into account the possibility that the source node has degree  @xmath12 .",
    "the second term refers to the number of neighboring nodes ( of the source node ) of degree  @xmath12 .",
    "if the source node has degree  @xmath7 ( which happens with probability @xmath88 ) then , on average , @xmath89 nodes of degree @xmath12 will be covered , since each one of the @xmath7 neighboring nodes of the source node will have degree  @xmath12 with probability @xmath58 .",
    "* when @xmath90 : given a link @xmath91 , we say that it has two endpoints , which are the two ends of the link .",
    "we denote the endpoint of the link at node  @xmath92 by @xmath93 , and similarly the endpoint of the link at node  @xmath94 by @xmath95 .",
    "we say that @xmath93 _ hooks onto _",
    "node  @xmath92 .",
    "we also say that @xmath93 has been _ checked _ by a random walk if such a random walk has visited node @xmath94 .",
    "these concepts are graphically explained in fig .",
    "[ fig : endpoints ] .",
    "+ now , let us denote by @xmath96 the number of endpoints checked for the first time at hop  @xmath13 , and by @xmath97 the probability that these endpoints hook onto still uncovered nodes of degree  @xmath12 .",
    "then , @xmath86 ( where @xmath90 ) can be written as follows : + @xmath98 * * to obtain @xmath96 , we consider the number of different endpoints checked after hop  @xmath13 to be @xmath99 .",
    "so , the number of endpoints checked for the first time at hop  @xmath13 is @xmath100 .",
    "however , one of the endpoints hooks onto the node the random walk comes from ( i.e. , it can not increase the amount of nodes that are covered ) .",
    "thus : + @xmath101 * * to obtain @xmath97 , on one hand we consider the overall number of endpoints hooking onto uncovered nodes of degree  @xmath12 just before hop  @xmath13 is @xmath102 . on the other hand ,",
    "the overall number of endpoints is @xmath103 , and the overall number of checked endpoints until hop  @xmath14 ( inclusive ) is @xmath104 .",
    "that is , the number of endpoints not checked just before hop  @xmath13 is @xmath105 .",
    "therefore , we can write : + @xmath106 + substituting equation  [ eq : dos ] and  [ eq : tres ] into equation  [ eq : uno ] , we have that + @xmath107    finally , taking into account equations  [ eq : covered0 ] and [ eq : coveredn ] , we have that the total number of nodes covered after hop @xmath13 is @xmath108      using the previous metric , we are now able to provide an estimation of the average search length of random walks , denoted by @xmath109 .",
    "formally , @xmath109 is given by the following expression : @xmath110    where @xmath111 is the probability that the search finishes at hop @xmath13 ( i.e. , the probability that the search is successful at hop  @xmath13 , having failed during the previous @xmath14 hops ) .",
    "let us define the _ probability of success _ at hop @xmath13 , denoted by @xmath112 , as the probability of finding , at that hop , the node we are searching for .",
    "@xmath112 can be obtained as the relation between the number of new nodes that will be covered at hop @xmath13 , and the number of nodes that are still uncovered at hop @xmath13 .",
    "that is ,    @xmath113    now , @xmath111 can be obtained as follows :    @xmath114    therefore , @xmath109 can be written as    @xmath115      we have run a set of experiments to evaluate the accuracy of the expressions presented in the previous subsections .",
    "the results obtained are presented in this section .    for our work",
    ", we consider two kinds of network : small - world networks ( constructed as in  @xcite ) and erdos - renyi networks ( constructed as in  @xcite ) .    *",
    "_ small - world networks _  @xcite . in",
    "@xcite it is shown that many real world networks present an interesting feature : each node can be reached from any other node in few hops .",
    "these networks are typically denoted small - world networks .",
    "the internet , the web , the science collaboration graph , etc .",
    "are examples of real world networks that are consistent with this property .",
    "this kind of networks are also specially interesting for our work because here the revisiting effect commented in section  [ sec : intro ] is strongly present due to the uneven degree distribution .",
    "we build small - world networks using the mechanism described in  @xcite , which leads to networks whose degree distribution follows a power - law distribution @xmath116 ( power - law networks ) . * _ erdos - renyi ( er ) random networks _  @xcite . for two any nodes @xmath117",
    "there is a constant probability @xmath118 that they are connected @xmath119 ) .",
    "the resulting degree distribution is a binomial distribution @xmath120 .",
    "see figure  [ fig : networks ] for an illustrative example of both kinds of networks .",
    "[ [ number - of - visited - and - covered - nodes ] ] number of visited and covered nodes + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    our first goal is to study the evolution of the network coverage by random walks in real networks .",
    "the experiments were run on networks of two sizes , @xmath121 and  @xmath122  nodes .",
    "networks were built using three different average degrees :  @xmath123 , @xmath124 and  @xmath125 . in each network",
    "we ran @xmath126  random walks of length @xmath68 .",
    "the source node of each random walk was chosen uniformly at random . from the experiments",
    ", we obtained the average number of visited and covered nodes for each degree @xmath12 at each hop @xmath13 .",
    "finally , for each network , we extracted its degree distribution @xmath19 and apply the expressions described in the previous section to get a prediction of those values , given by @xmath127 and @xmath128 .",
    "results are shown in figures  [ fig : visited ] ,  [ fig : visitedperdeg ] ,  [ fig : known ] , and  [ fig : knownperdeg ] .",
    "for the sake of clarity , the experimental results are shown every 2000 hops in all figures .",
    "model predictions , on the other hand , are drawn as lines .",
    "figure  [ fig : visitedrandomsmallworld50 ] shows the evolution of the number of visited nodes in er and small - world networks of size @xmath129 nodes , with two different average degrees @xmath123 and @xmath125 .",
    "we see that , although the length of the random walks is enough to potentially include all the nodes , only a fraction of them are visited .",
    "this happens because of the revisiting effect , and it is more evident when the number of hops increases , since the probability of revisiting grows with the number of hops .",
    "the revisiting effect is stronger in small - world networks than in random networks .",
    "the reason is the uneven distribution of the nodes degrees : there are some nodes with a very high degree that will be visited once and again by the random walk .",
    "thus , the chances of finding new nodes at each hop are lowered faster in small - world networks than in er networks .",
    "also , we observe in figure  [ fig : visitedrandomsmallworld50 ] that in networks of smaller @xmath130 the revisiting effect is stronger .",
    "finally , figure  [ fig : visitedrandomsmallworld50100 ] shows the impact of the network size @xmath3 on the amount of visited nodes .",
    "as expected , a greater @xmath3 implies a lesser number of revisits for the same number of hops . in all cases ,",
    "the prediction @xmath69 of the total amount of different nodes visited is very close to the experimental results .    in figure",
    "[ fig : visitedperdeg ] we study the accuracy of the predictions of the amount of visited nodes of a particular degree @xmath12 at each hop @xmath13 , @xmath127 .",
    "we draw the results and predictions of degrees @xmath131 and @xmath132 , for @xmath123 , @xmath124 and @xmath125 . again",
    ", it can be seen that the model predictions fit very well with the experimental results , despite the revisits and the different behavior observed for different degrees .",
    "figure  [ fig : known ] gives the results of the experiments run to study the coverage of the random walk .",
    "figure  [ fig : knownramdomsmallworld100 ] shows how the coverage grows faster in small - world networks than in er networks for networks of the same average degree @xmath130 .",
    "this contrasts with the amount of visited nodes , that behave in the opposite way ( see previous paragraphs ) .",
    "the reason is the presence of well - connected nodes , that are quickly visited during the first hops of the random walk and increase considerably the coverage because of the high amount of neighbors they have .",
    "for example , after @xmath133 hops , the random walk has covered about half of the small - world network with @xmath123 , while in the er network of the same @xmath130 the random walk only has covered close to @xmath134 of the nodes .",
    "moreover , we can see that the network average degree has also an important impact on the coverage . in both kind of networks",
    "the coverage grows faster when the average degree is higher . besides",
    ", we observe that the difference of the coverage for both networks decreases more quickly for a higher @xmath130 .",
    "figure  [ fig : knownramdomsmallworld100 ] confirms the importance of the average degree , comparing the results for networks of different size and @xmath130 .",
    "in addition , figure  [ fig : knownrandom50100 ] compares the results of the coverage for er networks of different sizes and average degrees . as it could be expected , the networks of smaller size require less hops to be covered .",
    "we observe also that the average degree has an important influence on the coverage difference .",
    "the greater the average degree , the faster the coverage of both networks converges .",
    "in all cases , the @xmath85 values given by the model predict very well how the coverage behaves and evolves .",
    "figure  [ fig : knownperdeg ] allows to check the precision of the coverage predictions for different @xmath12 values , @xmath128 . as before ,",
    "the values provided are very close to the experimental results , although the behavior of the coverage changes strongly depending on the kind of network and average degree .",
    "finally , we check the model accuracy for random walks that avoid the previous node , the _ avoiding random walk_. as stated in section  [ subsec : visitednodes ] , the avoiding random walk can be easily implemented by our model just by setting @xmath135 ( see equation  [ equ : probback ] ) .",
    "results are shown in figure  [ fig : avoid ] .",
    "there we compare the coverage of pure and avoiding random walks in er and small - world networks of size @xmath122 nodes and average degree @xmath123 .",
    "figure  [ fig : avoidvisited ] confirms that , as expected , the avoiding random walk is able to visit a greater number of different nodes , as the revisiting effect is , to a certain degree , lessened .",
    "however , figure  [ fig : avoidknown ] shows that this has little impact on the network coverage .",
    "we find that there is only a small increase on the amount of covered nodes when using avoiding random walks , for both kind of networks .",
    "nonetheless , in all cases the @xmath69 and @xmath85 values given by the model are very close to real results .",
    "[ [ average - search - length ] ] average search length + + + + + + + + + + + + + + + + + + + + +    for the experiments regarding the average search length we used networks whose sizes ranged from @xmath126 to @xmath136  nodes . in each experiment",
    "we ran @xmath126  searches , averaging the obtained results . at each search , two nodes ( one corresponding to the source and the other to the destination ) were chosen uniformly at random .",
    "starting from the source , a random walk traversed the network until the destination node was found ( i.e. , a neighbor of the destination is visited ) .",
    "the first thing to note is that the average search length grows linearly with the network size in both er and small - world networks . besides , the average degree @xmath130 has an important effect on the results .",
    "the bigger the @xmath130 , the shortest the searches are .",
    "the reason is that a higher @xmath130 implies that at each hop more nodes of the network are discovered .",
    "also , it can be observed in figure  [ fig : averagesearchlength ] that the average search length is greater in er networks than in small - world networks . this can be explained if we take into account that random walks , on average , cover more nodes in small - world networks than in er networks ( see figures  [ fig : known ] ) .    as in the previous experiments ,",
    "figure  [ fig : averagesearchlength ] also shows that our experimental results regarding the average search length correspond very close to the analytical results that were obtained .    at this point",
    ", we would like to note that , given the assumptions we made in our analytical model , it seems that the very good match achieved with the experimental results could only occur if these assumptions are correct . as a matter of fact",
    ", we have verified , in practice ( see figs .  [",
    "fig : property ] and  [ fig : property2 ] ) , that the type of networks we consider in this paper , indeed , fulfill our assumptions .    on the other hand ,",
    "it is clear that if we take into account networks that do not fulfill some of our assumptions , then a certain mismatch should be expected .",
    "for instance , networks built by preferential mechanisms are known not to preserve the independence of degrees of neighbors  @xcite .",
    "therefore , we should not aim for a very close correspondence between analytical and experimental results .",
    "we have performed the same experiments we ran for random and small - world networks regarding the average search length , but this time with networks built using the preferential attachment mechanism proposed by barabsi  @xcite .",
    "now , we have observed that , as expected , in preferential networks our experimental results do not correspond very close to the analytical results ( see fig .",
    "[ fig : aversearchlenbar ] ) .",
    "instead , the model seems to be consistently pessimistic .",
    "also , the error continuously grows with the network size .",
    "finally , we have tested the model against toroidal networks of different average degrees @xmath123 ( 5 dimensions ) and @xmath137 ( 8 dimensions ) .",
    "our intention is to analyze networks which are not random at all .",
    "results , which are shown in fig .",
    "[ fig : aversearchlentor ] , show a very clear mismatch among the results predicted by the model and the actual performance of the random walk .",
    "in this section , we present the second part of our model . here",
    "we provide useful expressions that allow to predict the performance of random walks as a search tool , which is the main goal of this work .",
    "these expressions rely on the same estimation of the average search length ( like the one described in the previous section ) , that is combined with queuing theory  @xcite . as a result , given the processing capacities and degrees of nodes , we are able to compute two key values :    * the _ load limit _ : the searches rate limit that the network can handle before saturation . * the _ average search time _ : the average time it takes to complete a search , given the global load .",
    "also , we show how these expressions can be used to analyze which features a network should have so random walks have a better performance ( i.e. , searches are solved in less time ) . in particular , we focus on studying the relationship between degree and capacity distributions , showing that the minimum search time is obtained when nodes of higher capacities are also those of higher degrees .    in our analysis",
    ", networks are assumed to be _ jackson networks _",
    "@xcite : the arrival of new searches into the network follows a poisson distribution and the service at each node is a poisson process .      our first step is to set the relationship between the average searches length and the system load .",
    "each search is processed , on average , @xmath138 times ( once at the source node , and once at each step of the random walk ) . using this",
    ", we can express the total load on all the nodes of the system , @xmath38 , as @xmath139    where @xmath140 is the load injected in the system by new searches , that we assume to be known .",
    "note that @xmath38 is composed of the new generated searches ( @xmath140 ) , plus the searches that move from one node to another , denoted by @xmath141 .",
    "hence , @xmath142    to compute the load on each particular node @xmath7 , @xmath143 , let us take into account that the probability that a random walk visits a node is proportional to the node s degree ( see section  [ sec : knownnodesaverleng ] ) .",
    "this implies that , for each node @xmath144 , the load on node @xmath7 due to search messages , denoted @xmath145 , is proportional to its degree @xmath146 . as a result",
    ", we have that there is a value @xmath147 such that @xmath148 , for all @xmath7 .",
    "hence , @xmath149 , where @xmath150 is the sum of all degrees in the network ( i.e. , @xmath151 ) .",
    "therefore ,    @xmath152    assuming that all nodes generate approximately the same number of new searches ( @xmath153 ) , we can compute the average load at node  @xmath7 as @xmath154 where the first term represents the load due to search messages , and the second term to the searches generated at node  @xmath7 .",
    "note that any other search generation rate model can be implemented just by changing the term @xmath153 .      in order to obtain the average search duration , @xmath155 , we use _ little s law _",
    "@xcite , which states that @xmath156 where @xmath157 is the average number of _ resident _ searches in the network ( i.e. , searches that are waiting or being served ) , and @xmath140 is the average number of searches _ generated _ per unit of time ( i.e. , the arrival rate of searches ) .",
    "observe that @xmath140 is assumed to be known .",
    "hence , the challenge to compute @xmath155 is to obtain @xmath157 .",
    "let @xmath158 be the number of resident searches in node  @xmath7 .",
    "then , @xmath159 .    to obtain @xmath158",
    ", we apply _ little s law _ again , this time individually to each node @xmath7 : @xmath160 where @xmath161 is the average search time at node @xmath7 and @xmath143 is the average _ load _ at node  @xmath7 , which includes both searches generated at node  @xmath7 and searches due to messages from other nodes .",
    "next we use that , by _",
    "jackson s theorem _",
    "@xcite ( recall we assume the network to be a jackson network ) , each node @xmath7 can be analyzed as a single m / m/1 queue with poisson arrival rate @xmath143 and exponentially distributed service time with mean @xmath162 ( which can be computed from the node capacity , that we assume to be known ) .",
    "then : @xmath163 where @xmath164 is the utilization rate and @xmath165 is the average service time at node  @xmath7 . as @xmath166",
    ", we can write @xmath167    once we have @xmath143 and @xmath168 , we can combine them to obtain @xmath169    that is , we have provided an expression that computes the _ average search time _ using the topology , the average service times of nodes , and the search arrival rate .      implicitly , in our previous results it has been assumed that no node is overloaded ( i.e. , @xmath170 for all  @xmath7 ) .",
    "otherwise , the network would never reach a stable state .",
    "thus , a key value for any network is its _ load limit _ : the minimum search arrival rate ( @xmath140 ) that would overload the network , denoted by @xmath171 .",
    "clearly , @xmath172 being @xmath173 the minimum search arrival rate that would overload node  @xmath7 .    from equation  [ equ : loadonnode ] , we have that @xmath174    also , since no node must be overloaded , it must be satisfied that @xmath175    combining equation  [ eq : min1 ] with equation  [ eq : min2 ] we have that , for each  @xmath7 , the following must hold : @xmath176    therefore , the load limit for node  @xmath7 is @xmath177    and @xmath178      [ [ average - search - duration-1 ] ] average search duration + + + + + + + + + + + + + + + + + + + + + + +    .capacity distributions [ cols=\"<,<\",options=\"header \" , ]     ) , we used equation  [ equ : restimesystem ] , taking into account that @xmath162 follows an exponential distribution with average @xmath143 ( i.e. , @xmath179 ) , where @xmath143 can be computed as the relation between the number of resources known and their processing capacity.,width=340 ]    in this subsection , we present the results of a set of experiments addressed to evaluate , in practice , the accuracy of our model for the average search time . as in the previous experiments ( section  [ sec : experimentalresults ] ) , we conducted extensive simulations over er and small - world networks .",
    "all networks are made up of @xmath126  nodes .    in each experiment",
    ", nodes generate new searches following a poisson process with rate @xmath153 , where @xmath140 is the global load on the network .",
    "when a node starts a search for a resource , it first checks whether it already knows that resource ( i.e. , if the node itself or any of its neighbors hold the resource ) .",
    "if so , the search ends successfully .",
    "otherwise , a search message for the requested resource is created and sent to some neighbor node chosen uniformly at random .",
    "when a node receives a search message , it also verifies whether it knows the resource .",
    "if so , the search is finished .",
    "otherwise , the search is again forwarded to another neighbor chosen uniformly at random .",
    "the experimental results are obtained by averaging the results that were obtained .",
    "we used six different global loads ( @xmath140 ) : @xmath180 , @xmath181 , @xmath182 , @xmath183 , @xmath184 and @xmath185 , where @xmath171 is the minimum arrival rate that would overload the network ( see section  [ sec : loadlimit ] ) .",
    "the distribution of the nodes search processing capacities @xmath186 is derived from the measured bandwidth distributions of gnutella  @xcite ( see table  [ table : timemodelcapacities ] ) .",
    "capacities are assigned so that nodes with a higher degree are given a higher capacity .",
    "all nodes are assumed to have the same number of resources @xmath187 .",
    "each resource is held by one node , and all resources have the same probability of being chosen for search .",
    "the processing time at each node @xmath8 follows an exponential distribution with an average service time computed as @xmath188 .",
    "this average is computed dividing the amount of resources checked for each search ( the total amount of resources known , @xmath189 , minus the resources of the node the search message came from , @xmath190 ) by the node s capacity .",
    "for each load , we measured the average search times experimentally for each network .",
    "results are shown in fig .",
    "[ fig : timemodel ] .",
    "it can be seen that , as expected , the average search time always increases with the load , undergoing a higher growth when it approaches the maximum arrival rate .",
    "furthermore , our experimental results show a very close correspondence with the analytical results that were obtained .",
    "[ [ load - limit ] ] load limit + + + + + + + + + +    we have computed the @xmath171 values for random and small - world networks with different average degrees . for each kind of network and average degree",
    "five networks were built with the capacity distribution presented in table  [ table : timemodelcapacities ] .",
    "our goal was to observe the variation of the @xmath171 for networks of the same type and @xmath130 , and also to study the difference among the @xmath171 values depending on the network kind and average degree .",
    "results , which are shown in figure  [ fig : maxload ] , differ for random and small - world networks .",
    "the first thing to note is that small - world networks can handle a greater load than random networks .",
    "small - world networks present variations of the @xmath171 values even for networks of the same average degree . despite this variation ,",
    "it is clear that the load limit tends to grow with the @xmath130 .",
    "the reason is that a greater @xmath130 implies a smaller global load for the same rate of queries injected to the system .",
    "recall that the total load is given by @xmath191 ( equation  [ equ : totalload ] ) and that higher average degrees lead to lesser average searches lengths @xmath109 ( figure  [ fig : aversearchlennewman ] ) .",
    "hence , it is possible to perform more queries before overloading the network .",
    "erdos - renyi networks however behave in a very different manner .",
    "they present very little variations of the @xmath171 values . and ,",
    "more surprising , there is a small decrease of the load limit when the @xmath130 grows .",
    "this contrasts with the behavior of small - world networks .",
    "as it is shown in figure  [ fig : aversearchlener ] , larger average degrees imply smaller average searches lengths and so a smaller global load .",
    "however , the @xmath171 that can be handled by the network does not change accordingly to this .",
    "the reason seems to be that in er networks the load is more evenly distributed among nodes .",
    "this implies that low capacity nodes have to handle an important amount of searches . besides , a greater average degree impacts on the average services times @xmath192 of these nodes , as they know , and so they have to process , more resources per search .",
    "hence , these nodes keep being the bottleneck of the network despite the smaller average search length , preventing the system to be able to handle a greater load .",
    "however , it is important to recall that these results are also due to the capacity distribution used , and how it was distributed among the nodes . in small - world networks , if we assign low capacities to high degree nodes we can expect them to become bottlenecks of the network that force small @xmath171 values . in er networks , adding more high capacity nodes could change the @xmath171 tendency so it would grow with the average degree . exploring all these phenomena is beyond the scope of this paper .    .",
    "five different networks are created for each network type ( er or small - world ) and average degree @xmath130 .",
    "the resulting @xmath171 are shown grouped by @xmath130.,width=340 ]      in this section we show that , when there is a full correlation between the _ capacity _ of a node ( i.e. , the number of searches a node can process per time unit ) and its degree , this leads to a minimal value of the average search time @xmath155 .",
    "let us first state the relation we assume between the capacity @xmath193 and the average service time @xmath162 of a node @xmath7 .",
    "we assume that the first is a parameter that does not depend on the degree or the number of resources known by the node , and only depends on the processor and network connection speeds .",
    "we assume that the second is a strictly increasing function of the node s degree @xmath194 .",
    "we assume that a node s service time is directly proportional to its degree and inversely proportional to its capacity as follows : @xmath195    let us now consider a pair of nodes @xmath117 , such that @xmath196 ( so @xmath197 ) , and two possible positive capacities @xmath198 and @xmath199 , such that @xmath200 .",
    "we show that , if no other degree or capacity assignment changes , having @xmath201 and @xmath202 gives a smaller average search time , @xmath155 , than the average search time @xmath203 with reverse assignment @xmath204 and @xmath205 .    using eq .",
    "[ equ : servicetime ] , we obtain the following possible average service times : @xmath206 in which @xmath207 are the service times obtained with the first capacity assignment and @xmath208 are the service times obtained with the second . from the above equations , we have @xmath209 and @xmath210    let @xmath211 and @xmath143 be the loads on @xmath8 and @xmath7 . since @xmath212 , then @xmath213 .",
    "hence , from this and eq .",
    "[ equ : servtimes ] , we find that @xmath214 to compute the values @xmath155 and @xmath203 , we use eq .",
    "[ equ : restimesystem ] @xmath215 @xmath216 where @xmath217 and @xmath158 are obtained with the first capacity assignment and @xmath218 and @xmath219 with the second .",
    "observe that @xmath220 remains the same for any node @xmath221 that is neither @xmath8 nor @xmath7 , because its degree , load , and capacity are just the same for both cases .",
    "hence , if @xmath222 then @xmath223 .    from eqs .",
    "[ equ : littlelaw3 ] and [ equ : restimenode2 ] , we obtain that @xmath224 and @xmath225    finally , applying eqs .",
    "[ equ : serprodequal ] and [ equ : sertimesdif ] , we conclude that @xmath226 and hence @xmath227    this proves that , for a given degree distribution , the best performance will be obtained by assigning the largest capacities to the nodes with the largest degrees .",
    "note that we have found a condition that is necessary in order to attain the minimum possible @xmath155 , once the degree distribution has been set .",
    "however , different degree distributions can obtain very different @xmath155 values .",
    "in this paper , we have presented an analytical model that allows us to predict the behavior of random walks .",
    "furthermore , we have also performed some experiments that confirm the correctness of our expressions .",
    "some work can be carried out to complement our results .",
    "for instance , several random walks can be used at the same time , a situation that could be used to further improve the efficiency of the search mechanism .",
    "these random walks could run independently or , in order to cover separated regions on the graphs , coordinate among them in some way .      c.  gkantsidis , m.  mihail , a.  saberi , on the random walk method for p2p networks , in : proceedings of the twenty - third annual joint conference of the ieee computer and communications societies , infocom 2004 , vol .  1 , hong kong , 2004 , pp . 148159",
    ".    y.  chawathe , s.  ratnasamy , n.  lanham , s.  shenker , making gnutella - like p2p systems scalable , in : proceedings of the 2003 conference on applications , technologies , architectures , and protocols for computer communications ( sigcomm 2003 ) , karlsruhe , germany , 2003 , pp . 407418 .",
    "q.  lv , p.  cao , e.  cohen , k.  li , s.  shenker , search and replication in unstructured peer - to - peer networks , in : proceedings of the 16th international conference on supercomputing , new york , new york , united states , 2005 , pp .",
    "q.  lv , s.  ratnasamy , s.  shenker , can heterogeneity make gnutella scalable ? , in : revised papers from the first international workshop on peer - to - peer systems , cambridge , united states , 2002 , pp .",
    "94103 .",
    "n.  bisnik , a.  abouzeid , modeling and analysis of random walk search algorithms in p2p networks , in : proceedings of the second international workshop on hot topics in peer - to - peer systems ( hot - p2p 2005 ) , ieee computer society , 2005 , pp .",
    "95103 .",
    "i.  mabrouki , x.  lagrange , g.  froc , random walk based routing protocol for wireless sensor networks , in : proceedings of the 2nd international conference on performance evaluation methodologies and tools ( valuetools 07 ) , icst ( institute for computer sciences , social - informatics and telecommunications engineering ) , 2007 , pp .",
    "110 .        c.  law , k .- y . siu , distributed construction of random expander networks , in : proceedings of the 22nd annual joint conference of the ieee computer and communications societies ( infocom 2003 ) , vol .  3 , 2003 , pp .",
    "21332143 .                      c.  gkantsidis , m.  mihail , a.  saberi ,",
    "random walks in peer - to - peer networks , in : proceedings of the twenty - third annual joint conference of the ieee computer and communications societies , infocom 2004 , vol .  1 , hong kong , 2004 , pp . 120130",
    ".        g.  s. manku , m.  naor , u.  wieder , know thy neighbor s neighbor : the power of lookahead in randomized p2p networks , in : proceedings of the 36th annual acm symposium on theory of computing ( stoc 2004 ) , acm press , 2004 , pp . 5463 .",
    "v.  cholvi , p.  a. felber , e.  w. biersack , efficient search in unstructured peer - to - peer networks , in : proceedings of the sixteenth annual acm symposium on parallelism in algorithms and architectures , barcelona , spain , 2004 , pp .",
    "271272 .",
    "a.  sinclair , improved bounds for mixing rates of marked chains and multicommodity flow , in : lecture notes in computer science , proceedings of the 1st latin american symposium on theoretical informatics ( latin 92 ) , vol .",
    "583 , springer - verlag , 1992 , pp .",
    "474487 .",
    "a.  tahbaz - salehi , a.  jadbabaie , small world phenomenon , rapidly mixing markov chains , and average consensus algorithms , in : proceedings of the 46th ieee conference on decision and control , ieee computer society , 2007 , pp .",
    "276281 .",
    "a.  broder , r.  kumar , f.  maghoul , p.  raghavan , s.  rajagopalan , r.  stata , a.  tomkins , j.  wiener , graph structure in the web , computer networks : the international journal of computer and telecommunications networking 33 ( 2000 ) 309320 .",
    "s.  saroiu , p.  k. gummadi , s.  d. gribble , a measurement study of peer - to - peer file sharing systems , in : proceedings of spie ( proceedings of multimedia computing and networking 2002 , mmcn02 ) , vol .",
    "4673 , 2002 , pp . 156170 ."
  ],
  "abstract_text": [
    "<S> random walks are gaining much attention from the networks research community . </S>",
    "<S> they are the basis of many proposals aimed to solve a variety of network - related problems such as resource location , network construction , nodes sampling , etc . </S>",
    "<S> this interest on random walks is justified by their inherent properties . </S>",
    "<S> they are very simple to implement as nodes only require local information to take routing decisions . </S>",
    "<S> also , random walks demand little processing power and bandwidth . </S>",
    "<S> besides , they are very resilient to changes on the network topology .    here </S>",
    "<S> , we quantify the effectiveness of random walks as a search mechanism in _ one - hop replication networks _ : networks where each node knows its neighbors identity / resources , and so it can reply to queries on their behalf . </S>",
    "<S> our model focuses on estimating the expected average search time of the random walk by applying network queuing theory . to do this </S>",
    "<S> , we must provide first the expected average search length . </S>",
    "<S> this is computed by means of estimations of the expected average coverage at each step of the random walk . </S>",
    "<S> this model takes into account the _ revisiting effect _ : the fact that , as the random walk progresses , the probability of arriving to nodes already visited increases , which impacts on how the network coverage evolves . that is , we do not model the coverage as a memoryless process . </S>",
    "<S> furthermore , we conduct a series of simulations to evaluate , in practice , the above mentioned metrics . </S>",
    "<S> our results show a very close correlation between the analytical and the experimental results .    ,    ,    ,    random - walk , look - ahead networks , average search time , average search length </S>"
  ]
}