{
  "article_text": [
    "[ ss : intro ]    this paper continues the analysis begun in @xcite of the structure of smooth polytopes @xmath6 that support an essential mass linear function @xmath9 .",
    "as we show there , besides its purely combinatorial interest , this question is relevant to the study of the homomorphism @xmath10 from the fundamental group of the torus @xmath11 to that of the group of symplectomorphisms of the symplectic toric manifold @xmath12 associated to @xmath13 .",
    "the paper @xcite describes other applications , such as understanding when a product manifold of the form @xmath14 has more than one toric structure .    in @xcite",
    "( from now on called part i ) , we made a general investigation of the properties of mass linear functions and classified all essential mass linear pairs @xmath7 in dimensions up to three .",
    "the main result of the current paper is a classification of all @xmath8-dimensional examples .",
    "we also develop new tools for understanding the topological properties of symplectic toric manifolds .    before stating our results",
    "we shall remind the reader of some of the basic concepts introduced in part i ; more details can be found there .",
    "let @xmath15 be a real vector space with integer lattice @xmath16 .",
    "let @xmath17 denote the dual space and let @xmath18 denote the natural pairing .",
    "a * ( convex ) polytope * @xmath19 is the bounded intersection of a finite set of affine half - spaces . in this paper , we shall always write @xmath6 in the form @xmath20 where the * outward conormals * @xmath21 lie in @xmath15 and the * support numbers * @xmath22 lie in @xmath23 for all @xmath24",
    ". we always assume that @xmath13 has a nonempty interior , and that the affine span of each * facet * @xmath25 is a hyperplane .",
    "further , we assume that @xmath6 is * smooth * , that is , for each vertex @xmath26 of @xmath6 the primitive outward conormals to the facets which meet at @xmath26 form a basis for the integral lattice @xmath27 of @xmath15 .",
    "in particular , a smooth polytope is * simple * , that is , @xmath28 facets meet at every vertex .    given a polytope @xmath0 , let @xmath29 denote its center of mass , considered as a function of the support constants @xmath30 .",
    "an element @xmath31 is said to be * mass linear * on @xmath32 if the function @xmath33 is linear for all @xmath34 near @xmath30 ; cf .",
    "[ i , definition 1.2 and lemma 2.3 ] . in this case",
    "there are real numbers @xmath35 , called the * coefficients * of @xmath9 such that @xmath36 for all @xmath34 near @xmath30 .    to explain the important distinction between _ essential _ and _ inessential _ mass linear functions , we introduce an equivalence relation on the facets . following [ i , definition  1.12 ] ( and [ i , corollary  3.5 and remark  1.6 ] )",
    ", we say that two distinct facets @xmath37 and @xmath38 are * equivalent * , denoted @xmath39 , exactly if there is an integral affine transformation of @xmath40 that takes @xmath37 to @xmath38 and is * robust * , in the sense that it persists when @xmath30 is perturbed .",
    "let @xmath41 denote the set of equivalence classes of facets .",
    "we say that @xmath1 is * inessential * iff @xmath42 otherwise , we say that @xmath9 is * essential*. by proposition  [ prop : inessential ] , every inessential function is mass linear .    as an example consider the standard @xmath43-simplex @xmath44 , that is , @xmath45 any pair of facets of @xmath44 is equivalent , and so every @xmath1 is inessential .    to understand the implications of these definitions , consider the symplectic toric manifold @xmath46 with moment image @xmath47 .",
    "let @xmath48 denote the group of symplectomorphisms of @xmath49 , and let @xmath50 denote the group of khler isometries , that is , the subgroup of symplectomorphisms that also preserve the canonical complex structure on @xmath51 . as we showed in [ i ,  1.2 ] ,",
    "if the circle @xmath52 generated by @xmath53 has finite order in @xmath54 , then @xmath9 is mass linear .",
    "is mass linear precisely if the rational cohomology ring of the toric bundle @xmath55 is isomorphic to the product ring @xmath56 .",
    "] moreover , @xmath52 has finite order in @xmath57 exactly if @xmath9 is inessential .",
    "finally , if there are no essential mass linear functions on @xmath13 , then the natural map @xmath58 is an injection . for more details ,",
    "see [ i ,  1.2 ]",
    ".    most polytopes do not admit nonzero mass linear functions .",
    "we showed in part i that in dimension two the only ones that do are the triangle , the parallelogram , and trapezoids , corresponding respectively to the projective plane @xmath59 , the product @xmath60 and the different hirzebruch surfaces ( @xmath61-bundles over @xmath61 ) .",
    "moreover , in each case all mass linear functions are inessential .    in dimension three , although there are more examples of polytopes with mass linear functions ( see proposition [ prop:3d ] ) , there are very few with essential mass linear functions . to describe these ,",
    "we need the notion of `` bundle '' , which is given in definition [ def : bund ] below .",
    "one key fact about bundles is that if a smooth polytope @xmath13 is a bundle over @xmath62 with fiber @xmath63 , then the corresponding toric manifold @xmath64 is a bundle over @xmath65 with fiber @xmath66 ; see [ i , remark 5.2 ] .",
    "in part i , we showed that every smooth @xmath67-dimensional polytope which admits an essential mass linear function is a @xmath68 bundle over @xmath69 .",
    "since the moment image of @xmath70 is @xmath71 , this implies that , @xmath72 is a @xmath73 bundle over @xmath74 .    the analogous statement in dimension @xmath8 is more complicated because there is a much greater variety of examples .",
    "correspondingly , we need to introduce new terminology .",
    "blowups are defined in definition  [ def : blowup ] . as the name suggests ,",
    "if @xmath75 is the blowup of a polytope @xmath13 , then the corresponding toric manifold @xmath76 is the blowup of @xmath72 ; see remark  [ rmk : geoblow ] ( i ) .",
    "double expansions are defined in definition  [ def : dexpand ] . by [ i , remark 5.4 ] , a polytope @xmath6 that is an expansion of @xmath63 corresponds to a toric manifold that is a nonsingular pencil with fibers @xmath77 .",
    "thus if @xmath6 is a double expansion , the corresponding toric manifold is a double pencil \" .",
    "additionally , fix @xmath1 and a polytope @xmath19 .",
    "we say that a facet is * symmetric * ( or * @xmath78-symmetric * ) , if @xmath79 does not change when that facet is moved .",
    "otherwise , we say that the facet is * asymmetric * ( or * @xmath78-asymmetric * ) .",
    "further , we say that a facet is * pervasive * if it meets all other facets .    finally , a * face * of @xmath13 is a ( nonempty ) intersection of some collection of facets of @xmath6 ; a * @xmath80-face * is a face of dimension @xmath43 .",
    "we denote the faces of @xmath6 by @xmath81 , where @xmath82 .",
    "then we say that the face @xmath83 is * symmetric * if the facet @xmath37 is symmetric for each @xmath84 .",
    "[ thm:4d ] let @xmath1 be an essential mass linear function on a smooth @xmath8-dimensional polytope @xmath19 .",
    "there exists a smooth @xmath8-dimensional polytope @xmath85 so that either :    * @xmath9 is an essential mass linear function on @xmath86 and at least one , only one of these statements is true .",
    "the one exception is @xmath87 bundles over @xmath69 , which belong in case ( a2 ) and case ( a3 ) .",
    "] of the following statements is true : 1 .",
    "@xmath86 is a @xmath88 bundle over @xmath69 , 2 .",
    "@xmath86 is a @xmath69 bundle over a polytope which is a @xmath68 bundle over @xmath69 , or 3 .",
    "@xmath86 is a @xmath68 bundle over a polygon @xmath62 ; or * @xmath9 is inessential on @xmath86 , the polytope @xmath86 is the double expansion of a polygon @xmath89 , and the asymmetric facets are the four base - type facets .",
    "moreover , @xmath90 can be obtained from @xmath91 by a series of blowups .",
    "for each @xmath92 , the polytope @xmath93 is obtained from @xmath94 by blowing up either along a symmetric @xmath95-face or along an edge of the form @xmath96 , where @xmath97 is a symmetric facet of @xmath94 , @xmath98 intersects every asymmetric facet , and @xmath99 .",
    "here @xmath100 is the coefficient of the support number of the facet @xmath101 in the linear function @xmath102    combining this with the results of [ i,1.2 ] , we obtain the following corollary .",
    "let @xmath103 be an @xmath104-dimensional symplectic toric manifold .",
    "the natural map @xmath105 is injective unless @xmath51 is a very special blowup of either a double pencil or a bundle .",
    "moreover the bundle either has @xmath59 or @xmath106 as its fiber or has a @xmath59 bundle over @xmath107 as its base .",
    "the following results elaborate the statement of theorem  [ thm:4d ] .",
    "* we give a complete description of all the essential mass linear functions @xmath9 on polytopes @xmath86 satisfying conditions ( a1 ) , ( a2 ) , and ( a3 ) in corollary  [ cor : mabc ] , proposition  [ prop : doublebundle ] , and proposition  [ prop : polybundle ] , respectively .",
    "the inessential functions on a polytope @xmath108 satisfying condition ( b ) are described in lemma [ le : dexpan0 ] .",
    "* by lemma  [ le : symblow ] and proposition  [ prop : blow4 ] , a mass linear function on a polytope will still be mass linear if the polytope is blown up by the types of blowups described above ; moreover , an essential function will still be essential on the blowup .",
    "in fact , the linear function @xmath109 is unchanged under blowup : the exceptional divisor of each blowup is symmetric and so has zero coefficient , while the coefficients of the other facets remain the same .",
    "* we explain in proposition  [ prop : essblow2 ] exactly which blowups on the polytope @xmath86 described in ( b ) convert @xmath9 from an inessential to an essential mass linear function .    combining the above results",
    ", we can draw a number of conclusions .    1 .   in each case of part ( a ) of theorem [ thm:4d ] some , but not all , polytopes @xmath108 of the given form support essential mass linear functions . in case ( a1 ) and",
    "( a2 ) one can take the bundle @xmath108 to be generic .",
    "however , in case ( a3 ) , while the base @xmath62 can be any polygon except a triangle , the bundle itself must satisfy some very special conditions that have a topological interpretation ; see proposition  [ prop : geo3dep ] similarly , in case ( b ) the polygon @xmath63 can be anything except a triangle .",
    "2 .   for any essential mass linear function of type ( a )",
    ", the polytope @xmath86 has between @xmath67 and @xmath110 asymmetric facets ; see remark  [ rmk : asym ] . in all cases",
    "@xmath108 can have @xmath67 asymmetric facets .",
    "however , it is only possible to have @xmath8 or @xmath111 asymmetric facets in the case ( a1 ) , and the only case with @xmath110 asymmetric facets is the product of @xmath69 with a @xmath68 bundle over @xmath69 .",
    "further in case ( b ) @xmath108 always has @xmath8 asymmetric facets . since , by lemma  [ le : blowcent ] , blowing down the facets of a polytope with a mass linear function does not change the number of asymmetric facets , the original polytope @xmath6 has the same number of asymmetric facets .",
    "if the polytope @xmath108 has more than four asymmetric facets then in all cases @xmath112 , that is , no blowups are possible .",
    "therefore , every polytope that supports an essential mass linear function with more than @xmath111 asymmetric facets is the product of @xmath69 with a @xmath68 bundle over @xmath69 ; the only examples with @xmath111 asymmetric facets are @xmath88 bundles over @xmath69 .",
    "+ if it has three or four asymmetric facets then the situation is more complicated . however , by proposition [ prop : blow4 ] , the edge blowups described in theorem  [ thm:4d ] are only possible when there are four asymmetric facets . for more details",
    "see remark  [ rmk : blowable ] .",
    "4 .   in all cases",
    "@xmath113 ; see corollary [ cor : full0 ] and remark  [ rmk : sum ] .",
    "the mass linear functions on a given polytope @xmath6 form a vector space @xmath114 , with a subspace @xmath115 consisting of inessential functions .",
    "if @xmath13 is @xmath8-dimensional , then the quotient @xmath116 has dimension at most @xmath117 unless @xmath13 is a @xmath88 bundle over @xmath69 , in which case it has dimension at most @xmath95 .",
    "[ rmk : intmin ] suppose that @xmath9 is a mass linear function on @xmath6 and that @xmath108 is obtained from @xmath6 by any sequence of blowdowns .",
    "then lemma [ le : blowcent ] shows that @xmath9 is mass linear on @xmath108 . therefore , when classifying mass linear functions one may assume that the underlying polytope is * minimal * , i.e. , that none of its facets can be blown down .",
    "the results in  [ ss : min ] show that theorem  [ thm:4d ] still holds with the additional requirement that @xmath86 is minimal as long as we omit the last two sentences , which restrict the kinds of blowups allowed . for further details ,",
    "see remark  [ rmk : blowess ] ( i ) .    on the other hand , allowing arbitrary blowups does not allow us to reduce the list of examples ; the results of  [ ss : min ] also show that there exist minimal polytopes of each type .",
    "in fact , for any sufficiently large @xmath118 there exists a minimal polytope @xmath108 with @xmath118 facets which satisfies the conditions of case ( a3 ) or ( b ) of theorem  [ thm:4d ] ; see propositions [ prop:3depblown ] and [ prop:4indepblown ] .",
    "in contrast , the polytopes @xmath86 described in ( a1 ) and ( a2 ) have @xmath111 and @xmath110 facets , respectively .",
    "[ rmk : smooth ] ( i ) many of our constructions and intermediate results are valid for all simple polytopes .",
    "we wrote much of part i in this generality , although our main classification theorem was only for smooth polytopes . in this paper",
    "we assume throughout that @xmath6 is smooth .",
    "\\(ii ) we have not explicitly written down a list of all the @xmath8-dimensional smooth polytopes that admit nonzero mass linear functions because the answer is too messy to be very enlightening . however , this information is easy to extract from our paper .",
    "on the one hand , propositions  [ prop : inessential ] and [ prop : iexpan ] , allow us to classify polytopes which admit inessential mass linear functions with at most three asymmetric facets . on the other hand , propositions",
    "[ prop:3dep ] and [ prop:3indep ] classify all @xmath8-dimensional smooth polytopes which admit essential mass linear functions with exactly three asymmetric facets , and proposition  [ prop:4dep ] , [ prop:4indep ] , [ prop:5plus ] , and [ prop : nonperv ] classify all @xmath8-dimensional smooth polytopes which admit mass linear functions with at least four asymmetric facets .",
    "we end this section with an example , which demonstrates how blowups can transform an inessential function into an essential mass linear function .",
    "hence , it is an example of case ( b ) of theorem  [ thm:4d ] , and not case ( a1 ) .",
    "[ ex:7 ] let @xmath119 be the @xmath120 bundle over @xmath121 with conormals @xmath122 the polytope @xmath108 is also the double expansion of the trapezoid with conormals @xmath123 along its two parallel facets",
    ".    denote by @xmath124 and @xmath125 the facets with conormals @xmath21 and @xmath126 , respectively . by lemma  [ le : equiv ] ,",
    "two facets are equivalent exactly if the conormals of all the other facets lie in a @xmath67-dimensional subspace .",
    "hence , @xmath127 , and so the function @xmath128 is inessential on @xmath108 . by proposition  [ prop : inessential ] , this implies that @xmath9 is mass linear on @xmath108 ; in fact , @xmath129    now consider the blowup @xmath6 of @xmath130 along the edge @xmath131 .",
    "this has a new facet @xmath132 ( the exceptional divisor ) with conormal @xmath133 none of the facets @xmath124 are equivalent in @xmath6 .",
    "however , proposition [ prop : blow4 ] and together imply that @xmath9 is still mass linear on @xmath6 .",
    "therefore , @xmath9 is essential on @xmath6 .",
    "the corresponding toric manifold @xmath134 is a @xmath106 bundle over @xmath107 ; in fact , it is the projectivization of the vector bundle @xmath135 .",
    "the toric manifold @xmath136 is the blowup of @xmath134 along a line in one of the fibers .",
    "[ ss : out ]    this section explains the proof of theorem [ thm:4d ] .",
    "since we use results from part i without comment , readers might find it useful look over the beginning of  [ ss : review ] where we summarize its main results .",
    "we divide the proof of theorem [ thm:4d ] into four steps .",
    "* step 1 : * _ theorem [ thm:4d ] holds if @xmath13 has a nonpervasive asymmetric facet .",
    "_    _ proof .",
    "_ let @xmath1 be an essential mass linear function on a @xmath8-dimensional polytope @xmath0 .",
    "if one of the asymmetric facets @xmath137 is not pervasive , then proposition  [ prop : nonperv ] implies that @xmath13 is a bundle of one of the three types mentioned in part ( a ) .",
    "the proof of propositition  [ prop : nonperv ] uses the fact that , by propositions  [ prop : flat ] and [ prop : bund ] , it is enough to prove that the claim holds for bundles over @xmath121 with symmetric base facets .",
    "we solve this case using the classification of mass linear functions on @xmath67-dimensional polytopes given in proposition [ prop:3d ] .",
    "* step 2 : * _ theorem [ thm:4d ] holds if @xmath13 has more than four asymmetric facets .",
    "_    _ proof .",
    "_ by step 1 , we may assume that all the asymmetric facets are pervasive .",
    "hence , proposition  [ prop:5plus ] implies that @xmath6 is either @xmath138 or a @xmath139 bundle over @xmath139 .",
    "but @xmath140 has no essential mass linear functions",
    ". therefore we are in case ( a3 ) .",
    "( in fact , this case does not occur for essential @xmath9 ; see corollary  [ cor:22bundle ] . )",
    "the proof of proposition  [ prop:5plus ] relies on the fact , proved in [ i , corollary a.8 ] , that if all the facets of @xmath6 are asymmetric then @xmath6 is combinatorially equivalent to a product of simplices .",
    "since all facets are pervasive , it must therefore be combinatorially equivalent to @xmath140 or @xmath141 .",
    "moreover , because @xmath6 is smooth , in the latter case lemma  [ prodsimp ] implies that it is a @xmath139 bundle over @xmath139 . on the other hand ,",
    "if @xmath6 has at least one symmetric facet @xmath142 , then proposition [ prop : symcent ] implies that the restriction of @xmath9 to @xmath142 is mass linear . by the @xmath67-dimensional classification",
    ", this implies that there are only a few possibilities for @xmath142 . the proof is completed by analyzing these .",
    "* step 3 : * _ theorem [ thm:4d ] holds if @xmath13 has four asymmetric facets .",
    "_    _ proof .",
    "_ by step 1 , we may assume that all the asymmetric facets are pervasive .",
    "if their conormals are linearly dependent , then by proposition [ prop:4dep ] , @xmath6 is the blowup of a @xmath88 bundle over @xmath69 by a series of blowups of the type described in theorem  [ thm:4d ] .",
    "if @xmath9 is essential on @xmath108 then we are in case ( a1 ) ; if @xmath9 is inessential on @xmath108 then by proposition  [ prop : essblow ] we are in the special case of ( b ) in which the double expansion is along two parallel edges of a quadrilateral @xmath63 ( as in example [ ex:7 ] ) . on the other hand ,",
    "if their conormals are linearly independent then we are in case ( b ) by proposition  [ prop:4indep ] .    in each case , the classification is established by exploiting the classification of polygons and @xmath67-dimensional polytopes with four asymmetric facets to analyze the set of symmetric facets of @xmath6 ; see for example lemmas [ le:4comb ] , [ le : blowblow ] , and [ 4comp ] .",
    "* step 4 : * _ completion of the proof .",
    "_    _ proof .",
    "_ it remains to consider the case when @xmath13 has fewer than four asymmetric facets . by proposition  [ prop:2asym ]",
    ", @xmath13 must have exactly three asymmetric facets .",
    "if their conormals are linearly dependent , then proposition  [ prop:3dep ] implies that @xmath6 itself is a @xmath68 bundle over a polygon and the asymmetric facets are the fiber facets ; hence , we are in case ( a3 ) .",
    "if their conormals are linearly independent , then proposition  [ prop:3indep ] implies either that the triple intersection @xmath143 is empty , we are in case ( a2 ) , and the asymmetric facets correspond to the facets of @xmath139 , or that @xmath144 is nonempty , we are in case ( a1 ) , and three of the four fiber facets are asymmetric . in all these cases",
    "we analyze the structure of @xmath6 by exploiting the fact that the symmetric faces of smallest dimension are @xmath95-dimensional triangles with edges @xmath145 , @xmath146 , and @xmath147 .",
    "as we explain above , the proof of theorem  [ thm:4d ] depends on the number of asymmetric facets .",
    "in particular , as is shown in steps 3 and 4 , the arguments needed if there are four pervasive asymmetric facets are very different from those needed if there are three . however , these cases are not so distinct as they might seem . by corollary  [ cor : mabc ] ,",
    "a generic @xmath88 bundle over @xmath69 admits essential mass linear functions with either three or four pervasive asymmetric facets .",
    "as the proof above shows , in case ( a2 ) and ( a3 ) the polytope necessarily has three pervasive asymmetric facets , and in case ( b ) it has four .      many results and techniques used in this paper extend to higher dimensions .",
    "however , the proof of theorem  [ thm:4d ] relies on a very detailed result about polygons ( lemma  [ le:2blowdown ] ) as well as the description in proposition [ prop:3d ] below of all @xmath67-dimensional polytopes that have nonzero mass linear functions .",
    "since higher dimensional polytopes are not yet so well understood , one can not expect such a complete classification in higher dimensions .",
    "additionally , to make further progress with our current methods we would first need to answer the following question since , as explained in step 2 of  [ ss : out ] above , this is the basis of our inductive argument : once one has a symmetric facet @xmath142 one can analyze the structure of the mass linear pair @xmath148 by using information on the lower dimensional pair @xmath149 .",
    "[ q:1 ] if @xmath6 has a mass linear function such that all facets are asymmetric , is the equivalence relation on the facets of @xmath6 nontrivial ?",
    "if the answer were yes , then by lemma [ le : ea ] there would be an inessential @xmath150 such that @xmath151 has a symmetric facet .",
    "further proposition [ prop : iexpan ] would imply that @xmath6 must be either a bundle over a simplex or an expansion .",
    "in fact , it seems quite likely that in this situation @xmath6 must be combinatorially equivalent to a product of simplices , and hence , by an extension of [ i , lemma 4.10 ] , an iterated simplex bundle .",
    "see corollary  [ cor : asym3 ] for the @xmath8-dimensional case .    together with timorin , we found a purely combinatorial argument that showed question [ q:1 ] has a positive answer in dimensions @xmath152 ; see [ i , appendix ] .",
    "as pointed out in ( * ? ? ?",
    "* lemma  2.4 ) , this argument does not extend to higher dimensions .",
    "however , chen @xcite showed that the answer is again positive for @xmath153-dimensional polytopes with at most @xmath154 facets .",
    "question [ q:1 ] seems hard , though very interesting .",
    "an easier task would be to analyze properties of particular kinds of polytopes .",
    "the obvious examples of polytopes with a mass linear function for which all facets are asymmetric are products of simplices . as we showed in [",
    "i , theorem  1.20 ] these polytopes have several other interesting characterizations : they are the only polytopes for which every @xmath31 is mass linear , and also the only polytopes such that for each equivalence class @xmath155 of facets the intersection @xmath81 is empty .",
    "the latter condition implies that @xmath6 has no singleton facets , i.e. , that @xmath156 for all equivalence classes @xmath155 .",
    "polytopes with this property are analyzed , though not fully classified , in the proof of ( * ? ? ?",
    "* lemma  3.7 ) ; they are a particular kind of expansion . here",
    "are some questions .",
    "[ q : d-1 ] if @xmath6 is an expansion ( but not a bundle over a simplex ) , can it support a mass linear function for which all facets are asymmetric ? which polytopes support an @xmath157-dimensional family of mass linear functions , where @xmath158 ?    note that by propositions [ prop : lift ] and [ dkoverd1 ] every @xmath159-bundle over @xmath160 and every @xmath160 bundle over @xmath121 has an @xmath157-dimensional family of mass linear functions , while , by corollary  [ cor:22bundle ] , generic @xmath139 bundles over @xmath139 have only a @xmath95-dimensional family of mass linear functions , and these are all inessential .",
    "moreover , proposition  [ dkoverd1 ] shows that each generic @xmath160 bundle over @xmath121 has mass linear functions for which every facet is asymmetric , while by proposition [ prop : asym ] and corollary  [ cor:22bundle ] , generic bundles of the other two types must have symmetric fiber facets . in this paper",
    "we do not study mass linear functions on @xmath161 bundles over @xmath162 for general @xmath163 .",
    "we show in corollary [ cor : asym2 ] that the only @xmath8-dimensional polytope that has a mass linear function with @xmath104 asymmetric facets is the product @xmath164 .",
    "in fact it is easy to see that _ a mass linear function on an @xmath165-dimensional polytope has at most @xmath4 asymmetric facets .",
    "_ this holds because by [ i , proposition  a.2 ] every asymmetric facet @xmath137 is powerful , i.e. it is connected to every vertex of @xmath166 by an edge",
    ".    [ q:3 ] if @xmath9 is a mass linear function on a smooth @xmath165-dimensional polytope @xmath6 with @xmath4 asymmetric facets , must @xmath6 be the product @xmath167 ?",
    "another interesting question concerns which blowups preserve mass linearity .",
    "it is easy to see that mass linearity is destroyed if one blows up along a face @xmath168 that does not _",
    "meet _ all asymmetric facets ; see lemma [ le : blowcent ] .",
    "lemma [ le : inessblow ] is another straightforward result showing that if @xmath169 is the blowup of the polytope @xmath6 along a face @xmath168 that _ lies in _ all asymmetric facets then every inessential function on @xmath6 is inessential on @xmath169 .",
    "however , it is not clear whether this condition on @xmath168 is sufficient for mass linearity to be preserved .",
    "[ q:4 ] suppose that @xmath9 is a mass linear function on @xmath6 with asymmetric facets @xmath170 .",
    "let @xmath169 be the blowup of @xmath6 along the face @xmath171 where @xmath172 .",
    "is @xmath9 mass linear on @xmath169 ?",
    "more generally , describe all blowups that preserve mass linearity .    in dimension",
    "@xmath8 , besides the blowup operations described in theorem [ thm:4d ] two others occur during the classification proof ; namely , blowing up at a vertex or edge that meets all asymmetric facets .",
    "corollary [ cor : blowv ] shows that the vertex blowup preserves mass linearity in any dimension .",
    "however , if one blows up along an edge @xmath173 , additional conditions are needed .",
    "one of these is very natural , namely that @xmath174 .",
    "( by remark [ rmk : sum ] this holds if @xmath172 as in question [ q:4 ] . )",
    "corollary [ cor : blowedge ] shows that in dimension @xmath8 this extra condition suffices .",
    "our proof also suggests that the natural framework in which to consider the effect of blowing up may not be the set of mass linear functions , but rather the set of fully mass linear functions that we now discuss .",
    "our analysis of the image of @xmath175 in @xmath176 is based on the properties of weinstein s action homomorphism @xmath177 ; see [ i ,  5 ] . in @xcite , shelukhin defined a series of related homomorphisms that allow one to formulate properties , in principle stronger than mass linearity , that must be satisfied whenever the loop @xmath178 generated by an integral @xmath179 contracts in @xmath180 .",
    "these are discussed further in @xcite where we called shelukhin s conditions * full mass linearity * ; see also  [ ss : fullml ] below .",
    "[ q : ml ] does every mass linear function satisfy shelukhin s additional conditions ?    the results of this paper imply that the answer is yes in dimensions @xmath152 ; see proposition [ prop : fullml ] . however , although the mass linear condition seems to be very strong , it is not clear whether it is equivalent to full mass linearity in higher dimensions . if not , many of the above questions might be better investigated for fully mass linear functions .    * organization of the paper .",
    "* section [ sec : con ] begins with a review of the results from part i that we use most often .",
    "it then describes in detail some general ways to construct polytopes , namely bundles , expansions , and blowing up and down . in each case",
    ", we describe the behavior of mass linear functions under these operations .",
    "we also develop criteria for recognizing when a facet can be blown down ( lemma  [ le : blowtech ] ) and for recognizing when a polytope is a double expansion ( lemma [ lemma : dexpan ] ) .    in section [ sec : ex ]",
    ", we construct all the ( essential ) mass linear functions on the polytopes described in theorem  [ thm:4d ] .  [ ss : calcul ] gives detailed information on the three kinds of bundles in case ( a ) of theorem [ thm:4d ] , while  [ ss : blowex ] discusses double expansions , showing precisely how blowing up an inessential function on a double expansion can convert it into an essential function .",
    "section [ sec:4dim ] finishes the proof of theorem [ thm:4d ] , thus showing that our list of examples is complete . ",
    "[ ss:3perv ] deals with the case when there are three asymmetric facets , and  [ ss:4asym ] with the case of four asymmetric and pervasive facets .",
    "these arguments are quite different , because by proposition [ prop : symcent ] the symmetric @xmath95-faces are triangles in the first case and are rectangles in the second . the final subsection ",
    "[ s : more4 ] discusses the case when there are more than four asymmetric facets .",
    "the last section contains a variety of further results . ",
    "[ ss : min ] explains exactly when the polytopes @xmath108 in theorem [ thm:4d ] are minimal . in ",
    "[ ss : fullml ] we use theorem [ thm:4d ] to show that in dimensions @xmath152 every mass linear function is fully mass linear . finally , in  [ ss : blml ] we consider the question of which blowup operations preserve mass linearity",
    ".    * acknowledgements . *",
    "both authors are very grateful to msri for its hospitality in spring 2010 ; the first author also thanks the simons foundation for its support via an eisenbud professorship .",
    "[ sec : con ]    after a review of basic results , this section describes in detail some general ways to construct polytopes : bundles , expansions , blowups , and blowdowns .",
    "we also analyze certain natural mass linear functions on each type of polytope .",
    "[ ss : review ]    for the convenience of the reader we begin by assembling the results from part i that will be used most often in this paper ; in particular , we describe all smooth polytopes of dimension at most three that have mass linear functions . in the process , we give the definition of a bundle .",
    "many of the results quoted below are valid for simple polytopes ; however we restrict to the smooth case for simplicity .",
    "thus , even if it is not stated explicitly , we assume that every polytope is smooth .",
    "we begin by noting that the definition of mass linearity given in  [ ss : intro ] is slightly different from , but equivalent to , the definition used in part i. given a smooth polytope @xmath19 , the * chamber * @xmath181 of @xmath182 is the connected component that contains @xmath183 of the set of all @xmath184 such that @xmath185 is smooth .",
    "note that , for every @xmath186 , the polytope @xmath185 is * analogous * to @xmath13 , that is , for all @xmath187 the intersection @xmath188 is empty exactly if the intersection @xmath189 is empty . in ",
    "[ ss : intro ] , we gave a local definition of mass linearity , that is , we only required the function @xmath190 which takes @xmath34 to @xmath191 to be linear for @xmath34 in some open neighborhood of @xmath30 .",
    "in contrast , in part i we required the function to be linear on all of @xmath181",
    ". however , as we show in [ i , lemma 2.3 ] , these two definitions are equivalent because @xmath190 is always a rational function .",
    "a similar remark applies to the definition of equivalent facets ; see [ i , corollary 3.5 ] .",
    "one extremely useful fact  which follows quite easily from the definitions  is that inessential functions are mass linear .",
    "[ prop : inessential ] fix @xmath1 and a polytope @xmath19 .",
    "let @xmath41 denote the set of equivalence classes of facets of @xmath13 .",
    "if @xmath9 is inessential , write @xmath192 then @xmath193    it is straightforward to use the formula above to show that we can reduce the number of asymmetric facets if some of them are equivalent .",
    "[ i , lemma 3.19 ] [ le : ea ] let @xmath1 be a mass linear function on a polytope @xmath19 .",
    "if @xmath194 are equivalent facets , there exists an inessential function @xmath195 so that the mass linear function @xmath196 has the following properties :    * for all @xmath197 , the facet @xmath37 is @xmath198-symmetric . * for all @xmath199 ,",
    "the facet @xmath37 is @xmath198-symmetric iff it is @xmath9-symmetric .",
    "note that , in general , even if @xmath200 is mass linear , @xmath201 need not equal @xmath202 since the @xmath35 are not uniquely determined by @xmath9 .",
    "in contrast , the next lemma shows that the coefficients of a mass linear function @xmath1 always determine the function @xmath9 itself .    [",
    "le : hsum ] fix @xmath1 and a polytope @xmath19 .",
    "if @xmath203 then @xmath204    in part i , the proof of the lemma above relies on the following fact .",
    "[ translate]given a polytope @xmath205 and @xmath206 , consider @xmath207 , the translate of @xmath13 by @xmath208 .",
    "then @xmath209    we continue with some very useful results about symmetric faces , taken from [ i ,  2.3 ] .",
    "they imply that if @xmath9 is a mass linear function on @xmath6 and @xmath148 has a symmetric face @xmath168 then the pair @xmath210 is also mass linear .",
    "( here , we consider the face @xmath168 as a polytope in @xmath211 , the smallest affine plane containing @xmath168 . )",
    "hence one can use knowledge of the structure of the lower dimensional @xmath210 to analyse @xmath148 .",
    "[ i , lemma 2.7 and proposition 2.9 ] [ prop : symcent ] let @xmath1 be a mass linear function on a polytope @xmath19 .",
    "let @xmath168 be a symmetric face of @xmath13 .",
    "then the following hold :    * @xmath212 for all @xmath213 where @xmath214 denotes the center of mass of @xmath168 in @xmath215 . * the restriction of @xmath9 to @xmath168 is mass linear .",
    "* intersection induces a one - to - one correspondence between the asymmetric facets of @xmath13 and the asymmetric facets of @xmath168 . *",
    "the coefficient of the support number of a facet @xmath137 in @xmath216 is the coefficient of the support number of @xmath217 in @xmath218 .",
    "[ rmk : symcent ] in fact , it is not hard to prove the following slightly stronger claims :    * if @xmath9 is inessential on @xmath6 then it is inessential on @xmath168 ( but not conversely ) .",
    "* @xmath9 is mass linear on @xmath13 exactly if the restriction of @xmath9 to @xmath168 is mass linear .    on the other hand",
    ", asymmetric facets have special properties .",
    "recall that a facet @xmath137 of a polytope @xmath19 is called * pervasive * if it has nonempty intersection with every other facet of @xmath13 .",
    "further , we say that @xmath137 is * flat * if there is a hyperplane in @xmath15 that contains the conormal of every other facet ( other than @xmath137 itself ) that meets @xmath137 .",
    "[ i , proposition 2.11 ] [ prop : asym ] let @xmath1 be a mass linear function on a polytope @xmath0 . then every asymmetric facet is pervasive or flat ( or both ) .",
    "the following statement combines [ i , lemma 2.13 ] with results from [ i ,  4.2 ] .",
    "[ prop:2asym ] let @xmath1 be a nonzero mass linear function on a polytope @xmath19 .",
    "then @xmath13 has at least two asymmetric facets .",
    "moreover , if it has exactly two , then they are equivalent and @xmath9 is inessential .",
    "next , we give another characterization of the equivalence relation on the facets .",
    "[ le : equiv ] let @xmath19 be a smooth polytope .",
    "given a subset @xmath219 , we have @xmath39 for all @xmath220 and @xmath221 in @xmath155 exactly if the plane @xmath222 spanned by the outward conormals @xmath223 for @xmath224 has codimension @xmath225 .",
    "moreover , in this case the linear combination @xmath226 lies in @xmath227 if and only if @xmath228 for all @xmath220 and @xmath221 .",
    "[ rmk : equiv ] in particular , @xmath229 exactly if there is a vector @xmath230 that is parallel to all the facets except @xmath37 and @xmath38 .",
    "this condition is very easily tested .",
    "the vector @xmath208 is preserved by the corresponding reflection symmetry ; in masuda @xcite it is called a root .",
    "since @xmath13 is smooth , there is also a homological interpretation of this equivalence relation : by [ i , remark  5.8 ] , @xmath229 exactly if the corresponding submanifolds @xmath231 and @xmath232 are homologous in @xmath233 .    our next aim is to describe all the @xmath95- and @xmath67-dimensional polytopes that have mass linear functions .",
    "since many of these polytopes are bundles , we start with the formal definition .",
    "two polytopes @xmath13 and @xmath75 are said to be * combinatorially equivalent * if there exists a bijection of facets @xmath234 so that @xmath235 exactly if @xmath236    [ def : bund ] let @xmath237 and @xmath238 be smooth polytopes .",
    "we say that a smooth polytope @xmath19 is a * bundle * with * fiber * @xmath239 over the * base * @xmath240 if there exists a short exact sequence @xmath241 so that the following hold :    * @xmath13 is combinatorially equivalent to the product @xmath242 . *",
    "if @xmath243 denotes the outward conormal to the facet @xmath244 of @xmath13 which corresponds to @xmath245 , then @xmath246 for all @xmath247 * if @xmath248 denotes the outward conormal to the facet @xmath249 of @xmath13 which corresponds to @xmath250 , then @xmath251 for all @xmath252    the facets @xmath253 will be called * fiber facets * , and the facets @xmath254 will be called * base facets*.    observe that if @xmath6 is such a bundle then the faces @xmath255 of @xmath6 corresponding to the vertices @xmath256 of the base @xmath257 are all affine equivalent .",
    "in contrast , the faces @xmath258 of @xmath6 corresponding to the vertices @xmath259 of the fiber @xmath63 may not be affine equivalent , but they are * analogous * , that is , we may identify the affine plane @xmath260 with @xmath261 so that there is combinatorial equivalence between @xmath258 and @xmath62 in which corresponding facets are parallel ; see [ i ,  1.1 ] .    to help the reader understand this rather complicated definition , here",
    "is a recognition lemma , which explains how to identify a given polytope @xmath6 as a bundle with fiber @xmath63 and base @xmath62 .",
    "the proof is elementary and is left to the reader .    [ le : recog ] a smooth polytope @xmath13 is a bundle over @xmath240 with fiber @xmath239 exactly if all the following conditions hold :    * @xmath6 is combinatorially equivalent to the product @xmath262 . *",
    "the conormals @xmath243 to the fiber facets @xmath263 lie in a dim @xmath264 subspace .",
    "* there is a vertex @xmath256 of @xmath257 so that the face @xmath265 of @xmath6 is analogous to @xmath264 .",
    "* there is a vertex @xmath266 of @xmath264 so that the face @xmath267 of @xmath6 is analogous to @xmath257 .",
    "later , we will also need the following result from part i ; it explains why the smooth case is easier than the general one .",
    "[ prodsimp ] let @xmath13 be a smooth polytope which is combinatorially equivalent to @xmath268 .",
    "then @xmath13 is either a @xmath269 bundle over @xmath71 , or a @xmath71 bundle over @xmath269 .",
    "finally here are some detailed results about mass linear pairs in dimensions @xmath95 and @xmath67 .",
    "[ prop:2dim ] let @xmath1 be a nonzero mass linear function on a smooth polygon @xmath0 .",
    "then one of the following statements holds :    * @xmath13 is the simplex @xmath68 ; at most one edge is symmetric .",
    "* @xmath13 is a @xmath69 bundle over @xmath69 ; the base facets are the asymmetric edges .",
    "* @xmath13 is the product @xmath270 ; each edge is asymmetric .    in any case",
    ", @xmath9 is inessential . moreover , if two edges @xmath37 and @xmath38 do not intersect then @xmath99 , where @xmath271 is the coefficient of the support number of @xmath272 in the linear function @xmath273 .",
    "[ prop:3d ] let @xmath1 be a mass linear function on a smooth @xmath67-dimensional polytope @xmath19 .",
    "if @xmath13 has more than two asymmetric facets , then one of the following statements holds :    * @xmath13 is the simplex @xmath88 .",
    "* @xmath13 is a @xmath69 bundle over @xmath68 ; the base facets are the asymmetric facets .",
    "* @xmath13 is a @xmath68 bundle over @xmath69 ; if either base facet is asymmetric then both are .",
    "* @xmath13 is a @xmath69 bundle over @xmath270 ; the base facets are the asymmetric facets .",
    "* @xmath13 is the product @xmath274 ; every facet is asymmetric .",
    "moreover , @xmath9 is inessential unless @xmath13 is a @xmath68 bundle over @xmath69 .",
    "finally , @xmath275 where @xmath276 is the coefficient of the support number of the facet @xmath37 in the linear function @xmath277      [ ss : bund ]    in this subsection , we give a new way to construct mass linear functions on bundles .",
    "more precisely , we show that there is a one - to - one correspondence between ( essential ) mass linear functions on the base and ( essential ) mass linear functions with symmetric fiber facets on the bundle .",
    "let @xmath19 be a @xmath278 bundle over @xmath279 and consider the associated short exact sequences @xmath280 we begin our discussion with the following elementary but useful lemma .",
    "[ le : bund ] let @xmath19 be a @xmath281 bundle over @xmath282 .    * two base facets @xmath249 and @xmath283 of @xmath13 are equivalent exactly if the corresponding facets @xmath284 and @xmath285 of @xmath257 are equivalent . *",
    "if two fiber facets of @xmath13 are equivalent then the corresponding facets of the fiber are equivalent ; the converse need not hold . *",
    "a base facet @xmath249 of @xmath13 is never equivalent to a fiber facet @xmath263 .    to prove ( i ) , note that implies that the image of @xmath286 is the annihilator of @xmath287 ; moreover , @xmath288 hence , the claim follows from lemma  [ le : equiv ] .",
    "the first part of ( ii ) is easy . to illustrate the second ,",
    "consider the @xmath139 bundle over @xmath121 with polytope @xmath289 as in equation  .",
    "the fiber facets are not all equivalent unless @xmath290 .    to prove ( iii ) , note that since @xmath257 is compact , the outward conormals to all but one facet of @xmath257 still span @xmath291 .",
    "since the same holds for @xmath264 , the claim follows from and lemma  [ le : equiv ] .",
    "we are now ready ",
    "after one last definition  to state the main result of this subsection .",
    "[ def : lift ] let @xmath292 be a mass linear function on @xmath257 ; write @xmath293 .",
    "the * lift * of @xmath190 to @xmath13 is @xmath294    note that , by lemma  [ le : hsum ] , @xmath295 ; hence , @xmath296 .    [ prop : lift ] let @xmath19 be a @xmath278 bundle over @xmath279 . then the following hold :    * if @xmath1 is mass linear on @xmath6 and the fiber facets are symmetric , then @xmath297 is mass linear on @xmath62 . more specifically , if @xmath298 , then @xmath299 * conversely , if @xmath292 is mass linear on @xmath62 , then the lift of @xmath190 to @xmath13 is mass linear on @xmath13 and the fiber facets are symmetric . * in the cases described above , @xmath9 is inessential on @xmath13 exactly if @xmath190 is inessential on @xmath257 .",
    "in particular , @xmath300 induces a one - to - one correspondence between essential mass linear functions on @xmath13 with symmetric fiber facets and essential mass linear functions on @xmath257 .     by the sections \" @xmath301,width=288 ]    fix any @xmath1 and let @xmath297 .",
    "given @xmath302 , consider the slice @xmath303 of @xmath13 defined by @xmath304 the @xmath303 s form a family of parallel polytopes that are analogous to the base polytope ; see figure  [ fig:5 ] . more precisely , fix @xmath305 and define an isomorphism @xmath306 by @xmath307 .",
    "since @xmath308 @xmath309 by definition , this polytope @xmath310 is analogous to @xmath257 , that is , its support numbers @xmath311 lie in the chamber @xmath312 .",
    "hence , @xmath313 .",
    "therefore , @xmath314 first , assume that @xmath1 is mass linear on @xmath13 and that the fiber facets are symmetric ; write @xmath315 .",
    "then @xmath316 by lemma  [ le : hsum ] , and so @xmath317 .",
    "choose @xmath318 to be a vertex of the polytope @xmath319 , which is analogous to the fiber @xmath264 .",
    "then @xmath303 is the intersection of the corresponding fiber facets , and hence is a symmetric face of @xmath13 .",
    "thus , by proposition  [ prop : symcent ] , @xmath320 .",
    "hence , substituting in equation  ( [ relate ] ) we find that @xmath321 this proves ( i ) .",
    "conversely , assume that @xmath292 is mass linear on @xmath257 ; write @xmath293 .",
    "let @xmath322 be the lift of @xmath190 .",
    "by lemma  [ le : hsum ] , @xmath295 , and so @xmath296 .",
    "therefore , equation  ( [ relate ] ) implies that for all @xmath323 , @xmath324 . since @xmath13 is the union of such @xmath303 , this immediately implies that @xmath325 .",
    "this proves ( ii ) . .",
    "finally , ( iii ) follows immediately from proposition  [ prop : inessential ] and lemma [ le : bund ] .",
    "in particular , every bundle over a simplex has many inessential functions with symmetric fiber facets . in [ i ,  3.3 ]",
    "we used this fact to prove the following result has a slightly different statement , but its proof clearly establishes this stronger claim . ] .",
    "[ prop : bund ] let @xmath1 be a mass linear function on a polytope @xmath19 which is a bundle over the simplex @xmath44 . then we can write @xmath326 , where    * @xmath150 is inessential and the fiber facets are @xmath150-symmetric , and * @xmath327 is mass linear and the base facets are @xmath198-symmetric",
    ".    part ( i ) of the next proposition is corollary 3.24 from part i. the second part then follows easily from the proposition above , just as in the proof of proposition 3.25 in part i.    [ prop : flat ] let @xmath1 be a mass linear function on a polytope @xmath19 .    *",
    "if @xmath137 is an asymmetric facet that is not pervasive , then @xmath6 is an @xmath137 bundle over @xmath121 .",
    "* we can write @xmath326 , where * * @xmath150 is inessential and the pervasive facets are @xmath150-symmetric , and * * @xmath327 is mass linear and the nonpervasive facets are @xmath327-symmetric .",
    "the next lemma explores what happens when we assume that the base facets are symmetric ; cf .",
    "proposition  [ prop : lift ]",
    ". we will not need it in this paper .",
    "[ le : fibbun ] let @xmath0 be a @xmath328 bundle over @xmath329 . then the following hold :    * if @xmath1 is a mass linear function on @xmath13 and the base facets are symmetric , then @xmath330 and @xmath331 is mass linear on @xmath239 . more specifically ,",
    "if @xmath332 , then @xmath333 * in contrast , even if @xmath334 is mass linear ( and inessential ) on @xmath63 , @xmath335 may not be mass linear on @xmath6 . * in case ( i ) above , if @xmath9 is inessential on @xmath6 then @xmath327 is inessential on @xmath63 .    to prove ( i",
    ") , first note that by lemma  [ le : hsum ] , @xmath9 lies in the span of the fiber facets , that is , @xmath336 for some @xmath337 .",
    "moreover , let @xmath168 be the face formed by intersecting any @xmath338 base facets . then , under the natural identification ( as affine spaces ) of @xmath215 with @xmath339",
    ", @xmath168 is analogous to @xmath63 and @xmath9 restricts to @xmath327 .",
    "since @xmath168 is symmetric , the first claim now follows from proposition  [ prop : symcent ] .    to prove ( ii ) let @xmath6 be a nontrivial @xmath121-bundle over some base polytope @xmath62 .",
    "every nonzero element @xmath334 is mass linear ( and inessential ) on @xmath69 .",
    "so assume that @xmath340 is mass linear on @xmath6 .",
    "by proposition  [ prop:2asym ] , @xmath6 has at least two @xmath9-asymmetric facets . on the other hand ,",
    "let @xmath137 be a fiber facet .",
    "since the bundle is not trivial , @xmath137 is not flat , and so proposition  [ prop : asym ] implies that @xmath137 is symmetric .",
    "therefore , by proposition  [ prop : symcent ] , the restriction of @xmath9 to @xmath137 is a mass linear function with at least two asymmetric facets ; in particular , the restriction of @xmath9 to @xmath137 is not constant .",
    "but this is impossible because @xmath336 is constant on @xmath137 by construction .    note finally that if @xmath336 is inessential and the base facets are symmetric , then proposition  [ prop : inessential ] and lemma [ le : bund ] imply that @xmath327 is inessential on @xmath264 ; this proves ( iii ) .",
    "[ ss : expan ] we now describe a class of polytopes  @xmath43-fold expansions  which have inessential mass linear functions .",
    "overall , these polytopes are very similar to bundles over the simplex @xmath44 , except that in this case the  base \" facets all intersect . as we proved in part i , these two classes of polytopes are the only ones which admit nonzero inessential functions .",
    "[ def : expand ] let @xmath341 be a smooth polytope . given a natural number @xmath43 , a polytope @xmath19 is the * @xmath80-fold expansion * of @xmath239 along the facet @xmath342 if there is an identification @xmath343 so that @xmath344 we shall call the facet @xmath244 of @xmath13 with outward conormal @xmath345 the * fiber - type facet ( associated to @xmath346 ) * for all @xmath347 and the facets @xmath348 with outward conormals @xmath349 the * base - type facets*.    -fold expansion of the shaded polygon along @xmath168 ; ( b ) is the @xmath95-fold expansion of the heavy line at the vertex @xmath26,width=384 ]    [ fig : example ]    it is easy to check that @xmath6 is smooth .",
    "[ rmk : expint](i ) the base - type facets are pervasive ; in fact , the face @xmath350 can be identified with @xmath264 for all @xmath351 . similarly , the face @xmath352 can be identified with @xmath353 . in particular , for any @xmath354 and @xmath355 , the face @xmath356 is empty exactly if @xmath357 is empty , and the face @xmath358 is empty exactly if @xmath359 is empty .",
    "\\(ii ) the base - type facets @xmath360 are clearly equivalent . by lemma  [ le : equiv ] ,",
    "two fiber - type facets @xmath361 and @xmath244 of @xmath13 are equivalent exactly if the corresponding facets @xmath362 and @xmath363 of @xmath264 are equivalent .",
    "similarly , a fiber - type facet @xmath361 is equivalent to the base - type facets exactly if @xmath364 .",
    "conversely , if a polytope has equivalent facets , it is either an expansion or a bundle over a simplex .",
    "[ prop : iexpan ] let @xmath19 be a smooth polytope .",
    "let @xmath365 be an equivalence class of facets and define @xmath366 for some @xmath367 .    * if @xmath368 , then @xmath13 is a @xmath369 bundle over @xmath370 with base facets @xmath371 . * if @xmath372 , then @xmath13 is the @xmath373-fold expansion of @xmath369 along @xmath374 with base - type facets @xmath371 .",
    "[ rmk : fibexp ] in most ways , mass linear functions on @xmath43-fold expansions behave like mass linear functions on bundles over the simplex @xmath269 . for example , since the base - type facets are equivalent there is a one - to - one correspondence between mass linear functions on @xmath6 with symmetric fiber facets and mass linear functions on @xmath269 , and all such functions are inessential ; cf .  proposition  [ prop : lift ] . similarly , as in lemma  [ le : fibbun ] , if @xmath1 is a mass linear function on @xmath13 with symmetric base - type facets , then there exists a mass linear @xmath334 such that @xmath375 , where @xmath376 is the natural inclusion .",
    "in contrast , just as for bundles , even if @xmath327 is mass linear on @xmath63 , @xmath377 may not be mass linear on @xmath6 ; see example  [ ex : expanii ] .    however , there are some significant differences between these two cases .",
    "most notably , remark  [ rmk : expint ] ( ii ) implies that @xmath378 is inessential on @xmath239 exactly if @xmath379 is inessential on @xmath13 and the base - type facets are symmetric . by lemma",
    "[ le : fibbun ] ( ii ) the corresponding statement is not true for bundles .",
    "( contrast remark  [ rmk : expint ] ( ii ) with lemma  [ le : bund ] ( ii ) . )",
    "these differences arise because expansions correspond to very special bundles .",
    "in fact , example [ ex : expanbun ] shows how to convert a @xmath43-fold expansion into a bundle over @xmath44 by blowing up ; but the converse operation is not usually possible .",
    "let @xmath380 be a smooth polytope .",
    "if we first take the @xmath117-fold expansion of @xmath264 along a facet @xmath342 , and then take the @xmath117-fold expansion of the resulting polytope along one of the base - type facets , we simply obtain the @xmath95-fold expansion of @xmath239 along @xmath342 .",
    "( by repeating this process , we can obtain the @xmath43-fold expansion . ) however , if instead we expand the @xmath117-fold expansion of @xmath264 along the fiber - type facet associated to @xmath381 , we get something new : a double expansion .",
    "[ def : dexpand ] let @xmath341 be a smooth polytope . a polytope @xmath19 is the * double expansion * of @xmath239 along the facets @xmath342 and @xmath381 if there is an identification @xmath382 so that @xmath383 we shall call the facet @xmath384 of @xmath13 with outward conormal @xmath345 the * fiber - type facet ( associated to @xmath346 ) * for all @xmath385 , the facets @xmath386 and @xmath387 the * base - type facets ( associated to @xmath388 ) * , and the facets @xmath389 and @xmath390 the * base - type facets ( associated to @xmath391)*.    note that the order of the expansions does not matter ; if we expand first along @xmath381 and then along the fiber - type facet associated to @xmath342 , the resulting polytope is isomorphic to @xmath6 under the transformation that interchanges the last two coordinates of @xmath392 .",
    "here are a few properties which will be useful later .",
    "[ rmk : dint ] ( i ) fix @xmath393 . if the facet @xmath394 of @xmath63 intersects both @xmath353 and @xmath395 , then ",
    "applying remark  [ rmk : expint ] ( i ) twice  the face @xmath396 of @xmath13 intersects all the base - type facets for any @xmath397 and @xmath398 .",
    "conversely , if @xmath394 does not intersect both @xmath353 and @xmath395 , then @xmath399 will not intersect both @xmath400 and @xmath401 .",
    "a fortiori , the face @xmath402 will not intersect all the base - type facets for any @xmath397 and @xmath398 .",
    "\\(ii ) similarly , applying remark  [ rmk : expint ] ( ii ) twice , the base - type facets @xmath386 and @xmath387 are equivalent , as are the base - type facets @xmath389 and @xmath390",
    ". moreover , these facets are all equivalent to each other exactly if the facets @xmath342 and @xmath381 are equivalent .",
    "finally we show how to recognize double expansions .",
    "[ lemma : dexpan ] let @xmath403 be facets of a smooth polytope @xmath19 .",
    "if @xmath404 , @xmath405 , @xmath406 , and @xmath407 , then @xmath13 is the double expansion of @xmath408 along @xmath409 and @xmath410 with base - type facets @xmath403 .    by proposition  [ prop : iexpan ] , @xmath13 is the @xmath117-fold expansion of @xmath411 along @xmath412 .",
    "clearly , the fact that @xmath413 is equivalent to @xmath414 implies that @xmath408 is equivalent to @xmath415 . by remark  [ rmk : expint ] ( i ) , the fact that @xmath407 implies that @xmath416 .",
    "therefore , proposition  [ prop : iexpan ] also implies that @xmath411 is the @xmath117-fold expansion of @xmath408 along @xmath410 .",
    "the claim follows immediately .",
    "[ ss : blow ]    in this section , we show how to construct new polytopes by blowing up faces of polytopes .",
    "we also consider how this operation affects mass linear functions .",
    "we begin with the definition of blowup .",
    "[ def : blowup ]",
    "let @xmath417 be a smooth polytope .",
    "given a face @xmath418 of codimension at least @xmath95 and @xmath419 , let @xmath420 and @xmath421 .",
    "the polytope @xmath422 is the * blowup of @xmath423 along @xmath424 * provided that @xmath425 is sufficiently small that @xmath426 for all vertices @xmath427 which do not lie on @xmath168 .",
    "it is easy to check that @xmath169 is smooth .",
    "the facet @xmath428 corresponding to @xmath429 is called the * exceptional divisor * ; there is a natural one - to - one correspondence between the facets @xmath38 of @xmath13 and the remaining facets @xmath430 of @xmath75 .",
    "[ rmk : blowint ] the exceptional divisor is a @xmath370 bundle over @xmath431 with fiber facets @xmath432 for @xmath433 ; the base facets are the facets of @xmath168 .",
    "moreover , @xmath168 is the only face of @xmath13 which is `` lost '' . hence if @xmath434 does not contain @xmath155 , then @xmath435 exactly if @xmath436 ; similarly , @xmath437 exactly if @xmath438    the following example demonstrates the very close connection between bundles and expansions .",
    "[ ex : expanbun]suppose that @xmath6 is the @xmath43-fold expansion of @xmath63 .",
    "let @xmath75 be the blowup of @xmath13 along the face @xmath439 .",
    "it is straightforward to check directly that @xmath75 is a @xmath264 bundle over @xmath269 and that the base facets are @xmath440 ; this justifies our terminology .    in the next remark",
    "we show that the blowup of a polytope @xmath13 along a face @xmath168 corresponds to the usual geometric blowup of the toric manifold @xmath64 along a submanifold @xmath441 , and give a geometric interpretation of the preceding example .",
    "[ rmk : geoblow](i ) let @xmath19 be a smooth polytope , and let @xmath75 be the blowup of @xmath13 along a face @xmath442 ; assume that @xmath443 ; we will use the notation of the definition above . construct the associated toric manifolds @xmath444 and @xmath445 as in [ i , remark 5.1 ] , where @xmath446 and @xmath447 ; identify @xmath448 with @xmath449 . since @xmath450",
    ", @xmath451 lies in @xmath452 ; define @xmath453 by @xmath454 .",
    "moreover , the intersection of @xmath455 with the inclusion @xmath456 is @xmath457 ; hence we can write @xmath458 .",
    "it is easy to check that the map @xmath459 defined by @xmath460 is surjective and induces a well defined map of toric manifolds . if @xmath461 for all @xmath433 , the preimage @xmath462 is isomorphic to @xmath463 ; otherwise , the preimage is a single @xmath464 orbit .",
    "therefore , @xmath168 induces a surjective holomorphic map @xmath465 which collapses @xmath466 to @xmath467 , but is otherwise a homeomorphism .",
    "\\(ii ) by [ i , remark 5.4 ] the toric manifold @xmath136 corresponding to the @xmath117-fold expansion @xmath6 of @xmath63 along @xmath353 can be thought of as a nonsingular symplectic pencil with fibers @xmath77 and axis @xmath468 .",
    "thus example [ ex : expanbun ] shows that when we blow up this axis we get a toric bundle .",
    "the next lemma explains how blowing up affects the facet equivalence relation .",
    "[ le : blowequiv ] let @xmath75 be the blowup of a polytope @xmath13 along a face @xmath83 .",
    "* given facets @xmath37 and @xmath38 of @xmath13 , the corresponding facets @xmath469 and @xmath470 of @xmath75 are equivalent exactly if @xmath37 is equivalent to @xmath38 and the pair @xmath471 is either contained in @xmath155 or disjoint from @xmath155 . *",
    "the exceptional divisor @xmath428 is not equivalent to any other facet .",
    "if @xmath37 and @xmath38 are not equivalent , claim ( i ) is clear .",
    "so assume that @xmath37 and @xmath38 are equivalent .",
    "by lemma  [ le : equiv ] , the subspace @xmath472 spanned by the conormals @xmath223 for @xmath473 has codimension @xmath117 ; moreover , the sum @xmath474 lies in @xmath227 .",
    "hence , if both @xmath220 and @xmath221 are in @xmath155 , then @xmath475 , and if neither are in @xmath155 then again @xmath476 . hence in these cases @xmath469 and @xmath470 are equivalent . in contrast , if only one is in @xmath155 then @xmath477 , and so @xmath469 and @xmath470 are not equivalent",
    "now consider ( ii ) . if @xmath428 were equivalent to @xmath478 then by lemma  [ le : equiv ] the subspace of @xmath15 spanned by the outward conormals to all the facets of @xmath13 except @xmath272 would have codimension @xmath117 .",
    "but this is impossible when @xmath6 is compact .",
    "we are now ready to analyze the behavior of mass linear functions under blowups .",
    "our arguments use the elementary fact that the volume and @xmath9-moment @xmath479 of the polytope @xmath6 with respect to the affine volume form are additive when @xmath6 is decomposed as a sum @xmath480 .",
    "in other words @xmath481 and @xmath482 .",
    "note also that @xmath483 .",
    "since the facets of @xmath13 are a subset of the facets of @xmath75 , we may think of @xmath273 as a function on an open subset @xmath484 of @xmath485  a function which does not depend on the support number @xmath486 of the exceptional divisor .",
    "we will say that @xmath273 and @xmath487 are * equal * if they agree on a nonempty open subset of the form @xmath488 . in this case",
    ", the exceptional divisor is symmetric and @xmath9 is mass linear on @xmath13 exactly if it is mass linear on @xmath75 ; moreover , if they are mass linear the coefficient of the support number of a facet @xmath37 in @xmath216 is the coefficient of the support number of @xmath489 in @xmath490 .",
    "similarly , we may think of @xmath491 as a function on an open subset of @xmath485 which does not depend on the support numbers of any of the facets of @xmath6 which do not intersect @xmath168 .",
    "[ le : newblow ] fix @xmath1 .",
    "let @xmath75 be the blowup of a polytope @xmath19 along a face @xmath168 and write @xmath492 .",
    "assume that two of the three functions @xmath493 , and @xmath494 are equal .",
    "then all three functions are equal ; in particular , @xmath9 is mass linear on @xmath6 exactly if @xmath9 is mass linear on @xmath169 .",
    "since the @xmath9-moment is additive , @xmath495 since @xmath481 the three functions @xmath493 , and @xmath494 must agree on some nonempty open set , and hence , as explained at the beginning of  [ ss : review ] , on @xmath496 .",
    "we first describe what happens when @xmath9 is mass linear on a polytope @xmath169 that is a blowup .",
    "[ le : blowcent ] let @xmath1 be a mass linear function on a polytope @xmath75 that is the blowup of a polytope @xmath13 along a face @xmath168 . the following hold .    * the exceptional divisor @xmath428 is symmetric .",
    "* @xmath9 is mass linear on @xmath13 and @xmath497 . *",
    "the face @xmath168 meets every asymmetric facet . * if @xmath9 is inessential on @xmath75 , then it is inessential on @xmath13 .",
    "decompose @xmath6 as @xmath480 where @xmath498 is a @xmath499-bundle over @xmath431 with a fiber of size @xmath500 .",
    "let @xmath501 and @xmath502 denote the volume of @xmath498 and @xmath75 , respectively ; similarly , let @xmath503 and @xmath504 denote the @xmath9-moment of @xmath498 and @xmath75 as in equation . at @xmath505 , the partial derivatives @xmath506 and @xmath507 both vanish since @xmath501 and @xmath508 are polynomial functions with a factor @xmath509 , where @xmath510 . by the additivity of the volume and moment",
    ", this implies that @xmath511 and @xmath512 also both vanish at @xmath505 . finally , since @xmath513",
    ", this implies that @xmath514 vanishes at @xmath505 .",
    "therefore , since @xmath9 is mass linear on @xmath75 , @xmath515 is symmetric .",
    "thus @xmath516 is a linear function of @xmath517 throughout the chamber @xmath496 . ] .",
    "this proves ( i ) .",
    "now fix @xmath518 .",
    "since @xmath515 is symmetric , @xmath519 does not depend on the support number @xmath520 as long as @xmath521 lies in @xmath522 .",
    "in fact , since the center of mass is a continuous function of the support numbers , the same claim holds as long as @xmath521 lies in the closure of @xmath522 . moreover , if @xmath523 then @xmath524 intersects @xmath13 at exactly @xmath168 , and the polytopes @xmath525 and @xmath526 coincide .",
    "therefore @xmath527 is a linear function of @xmath30 .",
    "the claims in ( ii ) follow immediately .",
    "since the symmetric facet @xmath515 meets all asymmetric facets of @xmath169 by proposition [ prop : symcent ] , the face @xmath168 does as well by remark [ rmk : blowint ] .",
    "this proves ( iii ) .",
    "claim ( iv ) follows immediately from lemma [ le : blowequiv ] .",
    "we are now ready to consider the question of which blowups preserve mass linearity .",
    "the simplest case is * symmetric blowup * , that is , blowing up along a symmetric face .",
    "[ le : symblow ] let @xmath1 be a mass linear function on a polytope @xmath19 .",
    "let @xmath75 be the blowup of @xmath13 along a symmetric face @xmath168 . then the following hold .",
    "* @xmath9 is mass linear on @xmath169 and @xmath528 .",
    "* @xmath9 is essential on @xmath6 exactly if it is essential on @xmath169 .",
    "let @xmath529 , and let @xmath21 be the outward conormal to @xmath37 for all @xmath220 .",
    "then @xmath530 , where @xmath498 is a @xmath531 bundle over @xmath168 .",
    "the outward conormals to the fiber facets of @xmath498 are @xmath532 and @xmath533 .",
    "the outward conormals to its base facets are the outward conormals to the facets of @xmath6 that restrict to facets of @xmath168 .",
    "since @xmath168 is symmetric , the restriction of @xmath9 to @xmath168 is mass linear with the same coefficients .",
    "hence , by lemma  [ le : hsum ] , the restriction of @xmath9 to @xmath498 is the lift of the restriction of @xmath9 to @xmath168 .",
    "therefore , proposition  [ prop : lift ] implies that @xmath534 is mass linear with the same coefficients on @xmath498 , that is , @xmath535 .",
    "thus ( i ) follows from lemma [ le : newblow ] .",
    "since @xmath37 is symmetric for all @xmath433 , proposition  [ prop : inessential ] implies that every inessential @xmath9 has the form @xmath536 . therefore to prove ( ii ) it suffices to recall that , by lemma [ le : blowequiv ] , @xmath272 and @xmath537 are equivalent facets of @xmath6 for some @xmath43 and @xmath538 not in @xmath155 exactly if @xmath478 and @xmath539 are equivalent facets of @xmath169 ; moreover , the exceptional divisor @xmath515 is not equivalent to any other facet .",
    "we can also blow up faces which are not symmetric , but then the situation is more complicated .",
    "we first describe the scenario that is most relevant to the @xmath8-dimensional classification .",
    "it turns out to be an important mechanism for creating new essential mass linear functions , since @xmath9 may be essential on @xmath75 even if it is inessential on @xmath13 .",
    "see example [ ex:7 ] for an easy instance of this process , and propositions [ prop : essblow2 ] and [ prop : essblow ] for a more extended discussion .",
    "[ def : edge ] let @xmath9 be a mass linear function on a polytope @xmath540 with asymmetric facets @xmath541 .",
    "we say that a blowup of @xmath6 is * of type * @xmath542 if it is the blowup of @xmath540 along the edge @xmath543 , where @xmath544 is a symmetric @xmath67-face , @xmath545 intersects every asymmetric facet , and @xmath99 . here",
    "@xmath271 is the coefficient of the support number of @xmath546 in the linear function @xmath547    [ prop : blow4 ] let @xmath1 be a mass linear function on a smooth polytope @xmath19 .",
    "let @xmath75 be a blowup of @xmath6 of type @xmath548 . the following hold .",
    "* @xmath6 has zero , two , or four asymmetric facets .",
    "* @xmath9 is mass linear on @xmath75 and @xmath549 . * if @xmath9 is essential on @xmath6 , then it is essential on @xmath75 ; otherwise , @xmath9 is essential on @xmath75 exactly if @xmath550 and there are four asymmetric facets .",
    "label the facets of @xmath6 so that the two facets that intersect the edge @xmath551 are @xmath413 and @xmath414 , and so that @xmath552 .",
    "let @xmath21 denote the outward conormal to @xmath37 and let @xmath553 denote the outward conormal to @xmath554 .",
    "since the edge @xmath551 intersects every asymmetric facet , each facet except possibly @xmath403 is symmetric .    by proposition  [ prop : symcent ] , @xmath555 for all @xmath518 .",
    "in particular , the restriction of @xmath9 to @xmath544 is mass linear .",
    "thus , proposition  [ prop:3d ] implies that @xmath556 . since @xmath557",
    ", this implies that @xmath558 .",
    "therefore , @xmath559 and @xmath560 ( respectively @xmath561 and @xmath562 ) are either both zero or both nonzero .",
    "this proves ( i ) .",
    "if @xmath411 and @xmath563 are symmetric , claim ( ii ) follows from lemma  [ le : symblow ] .",
    "hence , we may assume that @xmath411 and @xmath563 are asymmetric facets .",
    "by proposition  [ prop : symcent ] , intersection induces a one - to - one correspondence between the asymmetric facets of @xmath13 and the asymmetric facets of @xmath544 .",
    "therefore , @xmath564 and @xmath565 are asymmetric facets of @xmath544 and @xmath551 intersects every asymmetric facet of @xmath544 . hence , lemma  [ le : nonsb ] below implies that @xmath145 and @xmath566 are equivalent facets of @xmath544 .",
    "we claim that @xmath567 , @xmath568 , @xmath569 , and @xmath570 all lie in a hyperplane of @xmath15 . to see this , observe that the smallest affine plane @xmath571 containing the face @xmath544 is @xmath572 and hence may be identified with the dual to the quotient of @xmath15 by the span @xmath573 of the @xmath126 .",
    "( this is explained in more detail at the beginning of [ i ,  2 ] . )",
    "let @xmath574 denote the projection .",
    "then the claim will follow if we can show that the vectors @xmath575 and @xmath576 span a hyperplane in @xmath577 .",
    "but by lemma  [ le : equiv ] , this follows from the fact that @xmath145 and @xmath566 are equivalent facets of @xmath544 .    now note that @xmath530 , where @xmath498 is a @xmath578 bundle over @xmath69 .",
    "the outward conormals to the fiber facets of @xmath498 are @xmath579 and @xmath580 ; the outward conormals to the base facets are @xmath567 and @xmath568",
    ". therefore , the facets of @xmath498 with conormals @xmath567 and @xmath568 are equivalent . moreover , since @xmath567 , @xmath568 , @xmath569 , and @xmath570 lie in a hyperplane , the facets of @xmath498 with conormals @xmath581 and @xmath582 are equivalent . by lemma  [ le : hsum ] , @xmath583 .",
    "since @xmath584 , @xmath9 is inessential on @xmath498 ; hence by proposition  [ prop : inessential ] @xmath585 claim ( ii ) now follows from lemma  [ le : newblow ] .",
    "since the first part of claim ( iii ) is a special case of lemma  [ le : blowcent ] ( iv ) , we may assume that @xmath9 is inessential on @xmath6 .",
    "by proposition  [ prop : inessential ] , this implies that every asymmetric facet must be equivalent to at least one other asymmetric facet .",
    "moreover , recall that @xmath584 . hence , if @xmath404 or if any of the facets @xmath403 are symmetric , then the following statements are both true .",
    "* @xmath404 or @xmath586 , and * @xmath405 or @xmath587 .",
    "hence , @xmath9 is inessential on @xmath169 by lemma  [ le : blowequiv ] ( i ) .",
    "in contrast , if @xmath588 and @xmath589 the same lemma implies that @xmath411 is not equivalent to any other asymmetric facet . claim ( iii )",
    "follows immediately .",
    "here is the auxiliary lemma used above .",
    "[ le : nonsb ] let @xmath1 be a mass linear function on a smooth @xmath67-dimensional polytope @xmath19 . if @xmath411 and @xmath563 are asymmetric facets and the edge @xmath590 meets every asymmetric facet , then @xmath411 and @xmath563 are equivalent facets of @xmath13 .    by proposition  [ prop:3d ]",
    "we see that there are only three possibilities :    * @xmath13 has exactly two asymmetric facets ; * @xmath13 is the simplex @xmath88 ; or * @xmath13 is a @xmath68 bundle over @xmath69 , @xmath411 and @xmath563 are fiber facets , and the third fiber facet is symmetric .    if @xmath13 has exactly two asymmetric facets , @xmath411 and @xmath563 , then @xmath404 by proposition  [ prop:2asym ] .",
    "if @xmath13 is the simplex @xmath88 , then all the facets are equivalent .",
    "therefore it remains to consider the third case . by proposition  [ prop : bund ]",
    "there is an inessential function @xmath150 so that the @xmath327-asymmetric facets are exactly @xmath411 and @xmath563 , where @xmath591 . by proposition  [ prop:2asym ] , this implies that @xmath411 and @xmath563 are equivalent .",
    "as we mentioned above , blowups of the form considered in proposition [ prop : blow4 ] may convert an inessential function on @xmath6 to an essential function on the blowup @xmath169 .",
    "the next result shows that this is not possible if we blow up along a face that is contained in every asymmetric facet .",
    "[ le : inessblow ] fix @xmath592 and let @xmath75 be the blowup of a polytope @xmath13 along a face @xmath83 that is contained in every @xmath9-asymmetric facet",
    ". then @xmath9 is inessential on @xmath6 exactly if it is inessential on @xmath169 .    if @xmath9 is inessential on @xmath6 , this follows easily from proposition  [ prop : inessential ] and lemma [ le : blowequiv ] ( i ) .",
    "the converse is a special case of lemma [ le : blowcent ] ( iv ) .",
    "further examples of blowups that preserve mass linearity are given in ",
    "[ ss : blml ] .",
    "for example , we show that blowing up a polytope at a vertex that meets every asymmetric facet preserves mass linearity ; see corollary  [ cor : blowv ] .",
    "[ ss : blowd ] although one can always blow up a smooth polytope along a facet of codimension at least @xmath95 to obtain a new smooth polytope , it is not so easy to decide when this process can be reversed .",
    "this subsection explores general conditions under which this is possible .",
    "explicit @xmath8-dimensional examples may be found in  [ ss : min ] .",
    "we say that a smooth polytope @xmath6 can be * blown down * along a facet @xmath593 if @xmath13 is the blowup of a smooth polytope @xmath86 along some face @xmath594 , and @xmath593 is the exceptional divisor . in this case , the polytope @xmath108 is obtained from @xmath6 by moving the hyperplane @xmath595 outwards ( i.e. increasing its support number @xmath596 ) until it no longer intersects the intersection of the remaining half spaces .",
    "the facet @xmath593 must be a bundle whose fiber is a simplex @xmath44 . as @xmath596 increases , the sizes and relative positions of the fiber and the base facets of @xmath593 changes . if the outward conormal to @xmath593 is a positive multiple of the sum of the fiber facets , the size of the fiber facet will decrease as we move @xmath595 outwards .",
    "the transition from @xmath6 to @xmath108 is a blowdown if @xmath108 is smooth and if during this movement of @xmath595 there is precisely one value of @xmath596 for which @xmath595 intersects a vertex of @xmath6 .",
    "what is crucial is that the size of the fiber shrinks to zero before any new intersections of the base facets of @xmath593 are created .",
    "it is easy to check that an edge of a smooth @xmath95-dimensional polygon can be blown down exactly if the outward conormal to that edge is the sum of the outward conormals to the two adjacent edges . in higher dimensions ,",
    "the situation is somewhat more complicated .",
    "[ prop : blowdown ] let @xmath597 be a smooth polytope ; denote the facets by @xmath598 .",
    "fix @xmath219 .",
    "then the polytope @xmath599 is smooth and @xmath13 is the blowup of @xmath86 along @xmath600 with exceptional divisor @xmath593 exactly if    1 .",
    "the facet @xmath593 is a @xmath370 bundle with fiber facets @xmath601 and base facets @xmath602 for some @xmath603 2 .",
    "@xmath604 3 .   given @xmath605 , if @xmath606 then @xmath607 .",
    "we have already seen that if @xmath86 is smooth and @xmath13 is the blowup of @xmath86 along @xmath608 with exceptional divisor @xmath593 , then ( i ) , ( ii ) and ( iii ) hold ; see remark  [ rmk : blowint ] .    to prove the converse , first note that since @xmath13 is compact , the positive span of the @xmath21 is all of @xmath15 . by assumption ( ii ) , this implies that the positive span of the @xmath21 for @xmath609 is also all of @xmath15 , and so @xmath86 is compact .",
    "next , consider a `` new '' vertex @xmath610 of @xmath86 , that is , a vertex which satisfies @xmath611 and hence does not lie in @xmath13 .",
    "write @xmath612 , where @xmath613 and @xmath614 . since the facet @xmath272 is not empty and @xmath615",
    "is connected , the intersection @xmath616 is not empty for any @xmath617 .",
    "hence , @xmath605 , and so by assumption ( iii ) the face @xmath618 is also nonempty .",
    "since @xmath619 is connected , this implies that @xmath620 is not empty . by assumption ( i ) , this implies that @xmath621 is a vertex of @xmath13 for all @xmath433 .",
    "since @xmath13 is simple , this implies that @xmath622 .",
    "since there must be at least @xmath165 facets through @xmath610 , it also implies that @xmath623 .",
    "hence @xmath624 and also @xmath610 is a simple vertex . since @xmath6 is smooth , the vectors @xmath625 , @xmath626 and @xmath627 span the lattice @xmath27 for all @xmath433 . by part ( ii ) , this means that the vectors @xmath628 and @xmath626 also span the lattice , that is , that @xmath26 is a smooth vertex .    since @xmath13 is smooth , and every `` new '' vertex is smooth , @xmath86 is also smooth .",
    "finally , since @xmath13 is compact and every new vertex lies on @xmath83 , @xmath83 is not empty .    in some cases",
    ", the polytope @xmath6 can be blown down along the facet @xmath593 for some values of @xmath629 , but not for other values @xmath630 ; see figure  [ fig:2 ] .",
    "this is because condition ( iii ) may depend on @xmath30 .    .",
    "when the top facet is moved down as in ( c ) , the facet @xmath515 no longer blows down.,width=384 ]    [ fig:2 ]     with @xmath631 ; ( c ) is the blowdown with @xmath632.,width=480 ]    [ fig:4 ]    another possibility is that the blowdown of @xmath13 along @xmath593 depends on the choice of @xmath183 .",
    "for example , suppose that @xmath633 where @xmath634 @xmath635 , and @xmath636 ; see figure  [ fig:4 ] . in this case",
    ", @xmath593 can be viewed as a @xmath69 bundle over @xmath69 in two ways  either the fiber facets are @xmath637 and @xmath638 , or the fiber facets are @xmath639 and @xmath640 ; so a priori we can take @xmath632 or @xmath631 .",
    "either way , condition ( ii ) is also satisfied . if @xmath641 , then condition ( iii ) also holds if we take @xmath631",
    "; so @xmath13 is the blowup of @xmath86 along the ( non empty ) face @xmath642 .",
    "conversely , if @xmath643 , then @xmath13 is the blowup of @xmath86 along the ( non empty ) face @xmath644 . finally , if @xmath645 , then condition ( iii ) is not satisfied in either case . in fact , it is easy to see that @xmath86 is not a simple polytope .    in practice",
    ", we will not directly prove that condition ( ii ) of proposition  [ prop : blowdown ] holds ; instead , we will use the following technical lemma which allows us to reduce to the simpler case of lower dimensional polytopes .",
    "[ le : blowtech ] let @xmath646 be a smooth polytope .",
    "assume that @xmath593 is a @xmath647 bundle with fiber facets @xmath648 .",
    "also assume that there exists @xmath649 so that the face @xmath650 is the blowup of a smooth polytope @xmath651 along the face @xmath652 with exceptional divisor @xmath653 .",
    "then condition ( ii ) of proposition  [ prop : blowdown ] is satisfied .    by the definition of a @xmath370 bundle",
    ", @xmath654 is constant when restricted to @xmath595 , that is , @xmath655 for some real number @xmath656 .",
    "since @xmath653 is not empty and @xmath6 is simple , @xmath627 is nonconstant when restricted to @xmath657 . since @xmath650 is the blowup of a smooth polytope @xmath651 along the face @xmath658 with exceptional divisor @xmath653",
    ", @xmath659 is constant on @xmath657 .",
    "therefore , @xmath660 is also constant on @xmath657 . since @xmath627 is nonconstant on @xmath657",
    ", this implies that @xmath661 .",
    "[ rmk : blowtech ] conversely , let @xmath75 be the blowup of a polytope @xmath13 along a face @xmath83 with exceptional divisor @xmath428 .",
    "let @xmath662 be a face of @xmath75 that meets @xmath428 .",
    "if @xmath663 , then @xmath664 is the blowup of @xmath650 along the face @xmath665 with exceptional divisor @xmath666 .    in most of the cases we consider ,",
    "condition ( iii ) of proposition  [ prop : blowdown ] is extremely straightforward to check .",
    "however , for the third case of lemma  [ le : blowblow ] , we will need the following lemma .",
    "[ le : blowdown2 ] let @xmath597 be a smooth @xmath8-dimensional polytope .",
    "assume that @xmath593 is a @xmath69 bundle over @xmath667 with base facets @xmath668 , and that @xmath669 is not empty for any pair @xmath670 .",
    "then condition ( iii ) of proposition  [ prop : blowdown ] is satisfied .",
    "it follows immediately from the assumptions that ( iii ) holds for all @xmath671 with at most two elements . by renumbering",
    ", we may assume that @xmath672 and @xmath673 are empty .",
    "since @xmath590 is not empty and @xmath674 is connected , this implies that @xmath675 .",
    "hence , condition ( iii ) is satisfied for all @xmath671 which contain @xmath676 .",
    "a similar argument shows that condition ( iii ) is satisfied for all @xmath671 which contain @xmath677 .",
    "since every subset of @xmath678 with more than @xmath95 elements contains one of these pairs , this completes the proof .",
    "we end this section by considering blowdowns of polygons .",
    "this process is well understood ; every smooth polygon with more than four edges can be blown down to a trapezoid ; see @xcite .",
    "we shall need the following more precise version of this result .",
    "[ le:2blowdown ] let @xmath13 be a smooth convex @xmath95-dimensional polygon with more than four edges .",
    "* if @xmath679 and @xmath680 are parallel edges , then there exists an edge which is not equal to @xmath679 or @xmath680 , which is not adjacent to @xmath679 , and which can be blown down .",
    "* let @xmath681 and @xmath682 be adjacent edges with outward conormals @xmath318 , @xmath683 , and @xmath684 , respectively .",
    "if @xmath683 is not a positive linear combination of @xmath318 and @xmath684 , then there is an edge which is not equal to @xmath685 or @xmath682 which can be blown down .",
    "we begin with the first claim , following the proof in @xcite .",
    "let @xmath686 be a sequence of edges in @xmath13 with outward conormals @xmath687 , respectively .",
    "since @xmath13 has more than four edges , we may assume that @xmath688 .",
    "since @xmath689 and @xmath690 form an integral basis , we may write @xmath691 for each @xmath221 , and set @xmath692 . since for each @xmath221 there is an integer @xmath693 such that @xmath694 , we see that @xmath695 .",
    "note that @xmath696 since @xmath697 and @xmath698 are parallel .",
    "hence @xmath699 and @xmath700 .",
    "it follows that there exists @xmath701 with @xmath702 and @xmath703 . in this case",
    ", @xmath704 must be @xmath117 , and so @xmath705 can be blown down .    to prove ( ii ) , note first that every smooth convex polygon with more that three edges is the blowup of a trapezoid and so must have ( at least ) two edges which are parallel .",
    "our assumptions imply that @xmath680 together with extensions of the two edges @xmath706 form a triangle .",
    "it follows that @xmath680 must be parallel to another edge .",
    "we can now apply the first part .",
    "[ sec : ex ]    in this section we give examples of ( essential ) mass linear functions on polytopes .",
    "we consider two basic types of examples : bundles and blowups of double expansions .",
    "the examples that we consider include @xmath68 bundles over @xmath69 . by proposition  [ prop:3d ] , this implies that in this section we construct every essential mass linear function on a smooth polytope of dimension at most @xmath67 .",
    "more importantly , the examples we consider include all the types of polytopes described in theorem  [ thm:4d ] .",
    "therefore , we also construct every essential mass linear function on a smooth @xmath8-dimensional polytope .",
    "the results in this section are not needed for the proof of the main theorem since that gives necessary rather than sufficient conditions for mass linearity .",
    "in fact , except for corollary  [ cor:5plus ] ( and several remarks ) , this section and  [ sec:4dim ] are completely independent .",
    "[ ss : calcul ]    in this subsection , we find all essential mass linear functions on each of the bundles described in part ( a ) of theorem  [ thm:4d ] .    to begin , consider a polytope @xmath289 that is @xmath269 bundle over @xmath69 .",
    "by definition there exists @xmath707 , an identification of @xmath15 with @xmath708 , and @xmath709 so that @xmath710 here , @xmath711 is the standard basis for @xmath708 .",
    "the fiber facets are @xmath712 .",
    "conversely , describes a @xmath269 bundle over @xmath69 exactly if @xmath713 , where @xmath714    [ dkoverd1 ] let @xmath289 be the @xmath269 bundle over @xmath69 associated to @xmath715 as in above ; set @xmath716",
    ". then @xmath1 is a mass linear function on @xmath289 exactly if @xmath717 in this case , @xmath718 .",
    "moreover , @xmath9 is inessential exactly if @xmath719 where the sum is over @xmath720 such that @xmath721 .",
    "[ rmk : dk](i ) because @xmath722 and @xmath723 , each @xmath1 can be written as @xmath724 where @xmath725 .",
    "therefore the most significant condition on @xmath9 above is that @xmath726 .",
    "note that this holds for all @xmath9 exactly if @xmath727 , that is , exactly if @xmath289 is the product @xmath728 .",
    "moreover , in this case every @xmath1 is inessential .",
    "( more generally , by [ i , theorem  1.20 ] , the only polytopes for which all vectors @xmath1 are mass linear are products of simplices . ) otherwise , @xmath289 admits a @xmath43-dimensional family of mass linear functions and the inessential mass linear functions form a subspace of dimension @xmath729 .",
    "\\(ii ) the polytope @xmath289 is smooth exactly if @xmath730 . in this case , the corresponding toric manifold @xmath731 is the @xmath732 bundle over @xmath107 associated to the action @xmath733 = [ e^{-a_1i\\theta } z_1 : \\dots :   e^{-a_ki\\theta } z_k : z_{k+1}].\\ ] ] the polytope @xmath289 is determined up to translation by two constants , namely @xmath734 and @xmath735 ; cf .  the proof of lemma [ le : calcul ] below .",
    "note that @xmath736 determines the size \" of the fiber , while @xmath737 determines that of ( one section of ) the base .",
    "\\(iii ) at first glance , the restrictions on @xmath9 in proposition  [ dkoverd1 ] may seem mysterious ; we will now give a geometric motivation .",
    "suppose that @xmath9 is mass linear and write @xmath738 .",
    "then lemma  [ le : hsum ] implies that @xmath739 . because @xmath6 is a bundle over @xmath121 with base facets @xmath740 and @xmath741 , proposition  [ prop : bund ] implies that we must have @xmath742 , the first condition in proposition  [ dkoverd1 ] .",
    "the remaining two conditions can be interpreted in terms of the existence of a vector @xmath743 such that @xmath744 for all @xmath220 . if we assume only that @xmath745 satisfy the first condition @xmath746 then ,",
    "because of the linear relations between the conormals @xmath21 , the other two conditions are satisfied exactly if there exists a vector @xmath747 such that @xmath748 for all @xmath220 .",
    "therefore , we do not need proposition [ dkoverd1 ] to see that ",
    "if we express mass linear functions as a linear combination of the @xmath21 using the natural coefficients provided by lemma  [ le : hsum ]  any mass linear @xmath1 that is generated by some @xmath747 in the sense of definition [ def : full ] must satisfy the conditions of proposition  [ dkoverd1 ] .",
    "conversely , it follows from proposition [ dkoverd1 ] that every mass linear @xmath9 is generated by some @xmath747 ; cf .",
    "lemma  [ le : full1 ] .",
    "the proof of proposition  [ dkoverd1 ] rests mainly on the following direct calculation .",
    "[ le : calcul ] let @xmath289 be the @xmath269 bundle over @xmath69 associated to @xmath715 as in above .",
    "let @xmath749 , where @xmath750 .",
    "then @xmath9 is mass linear on @xmath289 if and only if @xmath751    as a first step , fix @xmath752 and @xmath753 , and let @xmath754 and @xmath755 .",
    "let @xmath756 denote the @xmath43-simplex described by the inequalities @xmath757 an elementary calculation shows that for any non - negative integers @xmath758 , @xmath759 here by convention @xmath760 .",
    "furthermore , both here and elsewhere we integrate with respect to the standard measure @xmath761 on @xmath762 .",
    "since @xmath289 is a @xmath763 bundle over @xmath69 , @xmath289 has volume @xmath764 for @xmath765 , the moment @xmath766 of @xmath767 along the @xmath768 axis is @xmath769 let @xmath770 denote the @xmath221th component of the center of mass .",
    "for @xmath765 , @xmath771 since @xmath772 , a straightforward calculation shows that @xmath773 this is linear function of @xmath737 and @xmath774 exactly if @xmath775 .",
    "hence , if @xmath9 is mass linear , this sum must be zero .    to prove the converse , assume that @xmath776 .",
    "given @xmath713 , note that by remark  [ translate ] @xmath777 hence , implies that @xmath778 this completes the proof .",
    "we are now ready to prove our first main proposition .    as explained in remark [ rmk : dk ] ( i ) above , every @xmath1",
    "can be written uniquely as @xmath739 , where @xmath779 . by lemma  [ le : equiv ] ,",
    "@xmath740 and @xmath741 are equivalent .",
    "hence , @xmath780 is inessential , and so by proposition  [ prop : inessential ] @xmath781 on the other hand , by lemma  [ le : calcul ] , @xmath782 is mass linear exactly if @xmath783 , in which case @xmath784 the first two claims follow immediately .    to establish the conditions",
    "under which @xmath9 is inessential , note first that since @xmath780 is inessential , @xmath9 is inessential exactly if @xmath198 is inessential .",
    "further , lemma  [ le : equiv ] implies that for each pair @xmath785 , we have @xmath229 exactly if @xmath786 .",
    "therefore the equivalence classes of the relation @xmath787 on @xmath788 are precisely the sets @xmath789 . since @xmath198 can be written uniquely as @xmath790 , where @xmath772 , it is inessential exactly if @xmath791 for each @xmath792 .",
    "proposition  [ dkoverd1 ] immediately gives all essential mass linear functions for @xmath88 bundles over @xmath69 , the polytopes @xmath108 in case ( a1 ) of theorem  [ thm:4d ] .",
    "[ cor : mabc ] let @xmath289 be the @xmath88 bundle over @xmath69 associated to @xmath793 as in above ; set @xmath794 . then @xmath1 is a mass linear function on @xmath289 exactly if @xmath795 in this case , @xmath796 . moreover , if @xmath797 for all @xmath670 , then @xmath9 is inessential exactly if @xmath798 , and so there is a @xmath117-dimensional subspace of inessential functions in the @xmath67-dimensional space of mass linear functions .",
    "if @xmath799 for only one such pair @xmath471 , there is a @xmath95-dimensional family of inessential functions  for example , if @xmath800 but @xmath797 for all @xmath801 then @xmath9 is inessential exactly if @xmath587 .",
    "if more than one such equality holds , then every @xmath9 is inessential .",
    "next we consider the second class of polytopes in theorem  [ thm:4d ] .",
    "[ def:121 ] a * @xmath802-bundle * is a smooth polytope @xmath803 that is a @xmath69 bundle over a polytope @xmath289 which is itself a @xmath68 bundle over @xmath69 .",
    "given a @xmath804-bundle @xmath803 , it is easy to see that we may identify @xmath15 with @xmath805 so that its outward conormals are @xmath806 for some @xmath807 and some integer @xmath808 . here",
    "the fiber @xmath121 of @xmath803 lives in the first coordinate direction , and @xmath289 is the @xmath139 bundle over @xmath121 associated to @xmath809 and with conormals equal to the projections of the @xmath810 for @xmath811 onto the last three coordinates .    [",
    "prop : doublebundle ] let @xmath803 be a @xmath804-bundle as in above . then @xmath1 is a mass linear function on @xmath803 exactly if @xmath812 in this case @xmath813 if @xmath814",
    ", then @xmath9 is inessential exactly if @xmath815 ; otherwise , every @xmath9 is inessential .    since @xmath803 is a bundle with fiber @xmath69 , the fiber facets @xmath816 and @xmath353 are not pervasive . if @xmath817 or if @xmath818 , then these facets also are not flat . therefore , if @xmath1 is mass linear then proposition  [ prop : asym ] implies that @xmath816 and @xmath353 are symmetric . on the other hand , if @xmath819 then @xmath820 , and so we can also view @xmath803 as a @xmath289 bundle over @xmath69 with _ base facets _ @xmath816 and @xmath353 .",
    "therefore , proposition  [ prop : bund ] implies that @xmath9 is mass linear exactly if @xmath821 , where @xmath822 and @xmath327 is a mass linear function on @xmath803 so that @xmath816 and @xmath353 are symmetric .",
    "therefore , the result is an immediate consequence of proposition  [ prop : lift ] and proposition  [ dkoverd1 ] .",
    "the following corollary is immediate .",
    "[ cor : db ] let @xmath803 be a @xmath804-bundle that admits a mass linear function so that every facet is asymmetric",
    ". then @xmath823 , where @xmath289 is a @xmath139 bundle over @xmath121 .",
    "we now consider the third class of polytopes in theorem [ thm:4d ] .",
    "let @xmath0 be a smooth @xmath139 bundle over a @xmath95-dimensional polygon @xmath824 .",
    "we aim to find all essential mass linear functions on @xmath13 .",
    "first , we describe @xmath6 in more detail .",
    "let @xmath825 be the outward conormals to @xmath62 .",
    "assume that the edges of @xmath257 are labelled in * order of adjacency * , that is , so that @xmath826 is adjacent to @xmath827 and @xmath828 for all @xmath220 ( where we interpret the @xmath220 in cyclic order , that is , moduli @xmath43 . )",
    "then there is an identification of @xmath17 with @xmath805 and a pair of integers @xmath829 for all @xmath830 so that the outward conormals to the fiber facets are @xmath831 and the outward conormals to the base facets are @xmath832 where we identify @xmath833 with its image in the plane @xmath834 of @xmath805 .",
    "moreover , we may assume that @xmath835 .",
    "[ prop : polybundle ] let @xmath13 be the @xmath68 bundle over @xmath257 defined above .",
    "let @xmath836 be the polynomial which gives the area of @xmath62 for all @xmath837 .",
    "then @xmath1 is mass linear on @xmath13 exactly if @xmath838 , where @xmath839 is the lift of an inessential function on @xmath62 and @xmath327 is a mass linear function on @xmath13 of the form @xmath840 moreover , @xmath327 is mass linear if it is zero or if there are real numbers @xmath841 so that    * @xmath842 for all @xmath843 , and * either @xmath844 or @xmath845 .    in this case ,",
    "finally , @xmath9 is inessential exactly if the bundle is trivial or if @xmath847 .    before proving this proposition",
    ", we consider the case that @xmath62 is a triangle or quadrilateral .",
    "[ cor:22bundle ] let @xmath13 be a @xmath139 bundle over @xmath139 defined as above .",
    "* every mass linear function on @xmath6 is inessential . *",
    "if @xmath848 , then @xmath6 has a @xmath95-dimensional family of mass linear functions , and the fiber facets are symmetric for every mass linear function .    if @xmath257 is a simplex , then @xmath849 unless @xmath850 . therefore , both claims follow immediately from the proposition above .",
    "in contrast , many @xmath139 bundles over quadrilaterals admit essential mass linear functions . for example , let @xmath6 be a generic @xmath851 bundle over @xmath69 .",
    "as we mentioned in the introduction , this implies that @xmath13 can either be viewed as a @xmath804-bundle or as a @xmath68 bundle over a trapezoid .",
    "hence , we can use either proposition  [ prop : doublebundle ] or proposition  [ prop : polybundle ] to show that @xmath6 admits essential mass linear functions .",
    "in fact , if @xmath498 is a generic @xmath852 bundle over @xmath69 , then @xmath853 admits essential mass linear functions with @xmath110 asymmetric facets .",
    "we spell out the details here because this example is rather special ; as explained in the remarks ( 2 ) and ( 3 ) after theorem  [ thm:4d ] , no other @xmath8-dimensional polytopes admit an essential mass linear function with more than @xmath111 asymmetric facets .",
    "[ cor:7 ] let @xmath1 be an essential mass linear function on a polytope @xmath19 which is a @xmath68 bundle over a polygon @xmath62 .",
    "if @xmath13 has more than six asymmetric facets , then @xmath854 , where @xmath289 is a @xmath68 bundle over @xmath69 .    by proposition  [ prop : polybundle ] , this is impossible unless @xmath62 admits an inessential function with four asymmetric facets .",
    "hence , @xmath855 .",
    "we may assume that @xmath856 and @xmath857 .",
    "then @xmath858 , so that @xmath859 exactly if @xmath860 or @xmath861 , that is , exactly if @xmath862 or @xmath863 .",
    "the proof of proposition [ prop : polybundle ] is based on the following lemma .",
    "[ calcul2 ] let @xmath13 be the @xmath68 bundle over @xmath257 defined above .",
    "let @xmath836 be the polynomial which gives the area of @xmath62 for all @xmath864 .",
    "let @xmath865 , where @xmath866 . if @xmath9 is not zero , then @xmath9 is mass linear on @xmath13 exactly if there are real numbers @xmath841 so that    * @xmath842 for all @xmath843 , and * either @xmath844 or @xmath845 .    in this case ,",
    "@xmath867 , where @xmath22 is the support number of the fiber facet @xmath37 .",
    "let @xmath868 be a base facet .",
    "since @xmath257 is smooth , there is an integer @xmath869 so that @xmath870 where as usual we interpret the @xmath220 in cyclic order .",
    "the facet @xmath868 is a @xmath68 bundle over @xmath69 with fiber facets @xmath871 and @xmath872 , and base facets @xmath873 and @xmath874 . as such ,",
    "it is determined by a pair of integers @xmath875 .",
    "one can check that @xmath876    if @xmath877 is mass linear on @xmath13 , then by proposition  [ prop : symcent ] , it must also be mass linear on @xmath868 .",
    "hence , lemma  [ le : calcul ] implies that @xmath878 for all @xmath220 .",
    "since @xmath879 by assumption , this and equation  ( [ sides ] ) together imply that @xmath880 for all @xmath220 .",
    "therefore , since @xmath881 , there is a constant @xmath882 for each @xmath830 such that @xmath883 note that @xmath884 .",
    "so now assume that holds for all @xmath220 .",
    "as in lemma  [ le : calcul ] it is convenient first to consider the case that the support numbers of the fiber facets @xmath411 and @xmath563 are @xmath885 .",
    "let @xmath774 denote the support number of @xmath413 and @xmath886 denote the support number of the base facet @xmath868 . to get the volume @xmath227 of @xmath13 we integrate over the simplex @xmath887 the function which gives the area of the intersection of @xmath6 with the @xmath95-plane where @xmath888 and @xmath889 are constant .",
    "each such section is affine equivalent to the base polygon @xmath62 with structural constants @xmath890 .",
    "since @xmath891 is a homogeneous quadratic function of the support numbers , the area of this section is @xmath892 where each @xmath893 is a polynomial of degree @xmath894 in the @xmath882 and of degree @xmath895 in the @xmath886 ; moreover @xmath896 is @xmath897 .",
    "therefore , by @xmath898 similarly , the moment @xmath899 along the @xmath888 axis is @xmath900 by symmetry the moment @xmath901 along the @xmath889 is given by interchanging @xmath902 and @xmath903 .",
    "as before , a straightforward ( though tedious ) calculation shows that @xmath904 this is a linear function exactly if @xmath847 or @xmath905 .",
    "together , these two paragraphs imply that if @xmath9 is mass linear on @xmath13 , then @xmath906 for all @xmath220 and either @xmath907 or @xmath847 .",
    "it remains to show that if @xmath9 is mass linear , then we must have @xmath908 .",
    "we calculated @xmath909 above in the special case when @xmath910 and @xmath911 .",
    "just as at the end of the proof of lemma  [ le : calcul ] , the general case follows by using remark [ translate ] .",
    "we are now ready to complete the proof .    if @xmath912 , then by proposition  [ prop : bund ] we can write @xmath913 , where    * @xmath190 is inessential and the fiber facets are @xmath190-symmetric , and * @xmath327 is mass linear and the base facets are @xmath327-symmetric .    on the other hand ,",
    "if @xmath257 contains more than three edges , then the base facets are the nonpervasive facets .",
    "hence , in this case the same claim follows from proposition  [ prop : flat ] .",
    "it then follows from proposition [ prop : lift ] that @xmath190 is the lift of an inessential function on @xmath62 .",
    "now consider @xmath327 .",
    "since all its asymmetric facets are fiber facets , lemma  [ le : hsum ] implies that @xmath327 lies in the span of the conormals to the fiber facets . since @xmath914 , this means that there are constants @xmath276 so that @xmath915 , where @xmath866",
    ". therefore , by lemma  [ calcul2 ] , ( i ) and ( ii ) hold . moreover @xmath9 is inessential exactly if @xmath327 is .",
    "if @xmath916 then @xmath150 is inessential exactly if the three fiber facets @xmath917 are equivalent . but by this happens only if all @xmath918 , that is , if the bundle @xmath919 is trivial .",
    "we now consider the topological implication of proposition  [ prop : polybundle ] .",
    "[ prop : geo3dep ] let @xmath6 be a @xmath139-bundle over a polygon @xmath920 , and let @xmath64 and @xmath65 denote the associated toric manifolds .",
    "then @xmath6 admits an essential mass linear function exactly if there exist integers @xmath921 and @xmath902 , and a @xmath922-equivariant principal @xmath923-bundle @xmath924 over @xmath925 such that    * the ( ordinary ) euler class @xmath926 of @xmath924 is not trivial but has vanishing square , * @xmath927 , and * @xmath64 is @xmath928-equivariantly diffeomorphic to @xmath929 , where @xmath923 acts on @xmath73 by @xmath930 = [ \\lambda^{\\gamma_2 } z_1",
    ": \\lambda^{-\\gamma_1 } z_2 : z_3].$ ]    we may assume that @xmath6 is described by and , where @xmath931 and where @xmath932 are the outward conormals to @xmath62 .",
    "let @xmath891 be the polynomial which gives the area of @xmath62 . by proposition  [ prop : polybundle ]",
    ", @xmath6 admits an essential mass linear function exactly if there exist real numbers @xmath933 and @xmath934 such that    * the @xmath882 s are not all zero but @xmath907 , * @xmath927 , and * @xmath935 for all @xmath220 .",
    "further , by multiplying @xmath921 and @xmath902 by a suitable constant , we may assume that @xmath921 and @xmath902 are mutually prime integers , so that each @xmath882 is also in @xmath936 .    by [ i , remark 5.2 ]",
    ", @xmath64 is a @xmath59 bundle over @xmath65 .",
    "more specifically , identify @xmath65 with the symplectic quotient @xmath937 for a suitable subtorus @xmath938 , and let @xmath939 act on @xmath59 by @xmath930= [ \\lambda_1 z_1 : \\lambda_2 z_2 : z_3]$ ] .",
    "then @xmath72 is the @xmath73 bundle associated to the homomorphism @xmath940 given by @xmath941 next observe that the torus @xmath942 acts on @xmath65 via its quotient @xmath943 .",
    "moreover , there is a one - to - one correspondence between @xmath942 equivariant principal @xmath923-bundles over @xmath65 , representations of @xmath942 , and @xmath43-tuples @xmath944 .",
    "hence , @xmath64 is the @xmath73 bundle associated to an equivariant principal @xmath923 bundle over @xmath65 exactly if there exist integers @xmath945 , and @xmath946 such that @xmath935 for all @xmath220 . in this case ,",
    "@xmath923 acts on @xmath73 by @xmath947 = [ \\lambda^{\\gamma_2 }",
    "z_1 : \\lambda^{-\\gamma_1 } z_2 : z_3]$ ]    thus conditions ( ii ) and ( iii ) in the proposition are equivalent to conditions ( b ) and ( c ) . to complete the proof",
    "we must show that condition ( i ) is equivalent to ( a ) .",
    "this is accomplished in lemma  [ le : geo3dep ] below .",
    "[ le : geo3dep ] let @xmath282 be an @xmath165-dimensional polytope with facets @xmath541 ; let @xmath948 be the associated toric manifold .",
    "given @xmath944 , let @xmath949 be the euler class of the principal @xmath923-bundle associated to the induced homomorphism from @xmath950 to @xmath923 .",
    "let @xmath951 be the polynomial which gives the volume of @xmath952 for all @xmath953",
    ". then @xmath954 moreover , if @xmath955 and @xmath956 , then @xmath957 exactly if @xmath958 for all @xmath959 .",
    "fix @xmath960 there exists a symplectic form @xmath961 on @xmath65 with moment map @xmath962 such that @xmath963 . on the one hand ,",
    "the symplectic form @xmath961 represents the cohomology class @xmath964 , where @xmath965 represents the poincar dual to the compact submanifold @xmath966 for all @xmath830 . on the other hand ,",
    "since @xmath65 is a toric manifold the duistermaat - heckman measure on @xmath261 is given by lebesgue measure on @xmath952 and vanishes outside @xmath952 .",
    "( recall that the duistermaat - heckman measure is the pushforward of the liouville measure @xmath967 on @xmath51 under the moment map . ) therefore , @xmath968 since both sides are polynomials , and since @xmath969 , the first claim follows .",
    "the second claim holds because the outward conormals to @xmath970 form a basis for the lattice in @xmath291 .",
    "hence , by the standard stanley ",
    "reisner presentation for the cohomology ring of a toric manifold , @xmath971 is freely generated by @xmath972 .",
    "this completes our discussion of bundles that support essential mass linear functions .",
    "we end this section with some supplementary results .",
    "first , we determine the number of asymmetric facets for each of the polytopes @xmath108 described in case ( a ) of theorem  [ thm:4d ] .",
    "[ rmk : asym]let @xmath1 be an essential mass linear function on a polytope @xmath108 .    * if @xmath108 is a @xmath88 bundle over @xmath69 , as in case ( a1 ) , then at least @xmath67 of the @xmath8 fiber facets are asymmetric ; if one base facet is asymmetric then both are .",
    "thus the number of asymmetric facets can be anywhere between @xmath67 and @xmath111 . *",
    "if @xmath86 is a @xmath804-bundle and the conormals to the three pervasive facets are linearly independent then the three pervasive facets are asymmetric ; the two fiber facets are symmetric unless @xmath86 is the product @xmath973 , where @xmath289 is a @xmath68 bundle over @xmath69 , in which case they may both be asymmetric ; finally , if one of the remaining two facets is asymmetric then both are .",
    "thus there are @xmath67 , @xmath153 , or @xmath110 asymmetric facets , with @xmath110 impossible unless @xmath974 . *",
    "if @xmath108 is a @xmath68 bundle over a polygon @xmath62 as in case ( a3 ) , the three fiber facts are asymmetric .",
    "the base facets are symmetric unless @xmath62 is a @xmath69 bundle over @xmath69 . in that case , two base facets that correspond to equivalent facets of @xmath62 may both be asymmetric . as in the previous case",
    ", there can be @xmath67 , @xmath153 , or @xmath110 asymmetric facets , with @xmath110 impossible unless @xmath974 , where @xmath289 is a @xmath68 bundle over @xmath69 .",
    "the first two claims follow trivially from corollary  [ cor : mabc ] and proposition  [ prop : doublebundle ] . in order to see that the last claim follows from propositions  [ prop : inessential ] , [ prop:2dim ] , and [ prop : polybundle ] , and corollary  [ cor:7 ] ,",
    "remember that there is no essential mass linear function on any @xmath68 bundle over @xmath68 by corollary  [ cor:22bundle ] .",
    "by lemma  [ le : symblow ] and proposition  [ prop : blow4 ] , an essential mass linear function on a polytope will still be essential and mass linear if the polytope is blown up by either of the two types of blowups described in theorem  [ thm:4d ]  blowups along symmetric @xmath95-faces and blowups of type @xmath975 .",
    "moreover , the conclusions above allow us to analyze the ways that the bundles @xmath108 listed in case ( a ) of theorem  [ thm:4d ] can be blown up in these ways .",
    "therefore , we can now find all essential mass linear functions of the type described in case ( a ) of theorem  [ thm:4d ] .",
    "[ rmk : blowable ] let @xmath1 be an essential mass linear function on a polytope @xmath108 , where @xmath108 is one of the polytopes described in case ( a ) of theorem  [ thm:4d ] .",
    "* if @xmath108 has exactly three asymmetric facets , then it must have symmetric @xmath95-faces ( which can be blown up ) .",
    "otherwise , @xmath108 does not have any symmetric @xmath95-faces .",
    "* by proposition  [ prop : blow4 ] , blowups of type @xmath975 are not possible unless @xmath108 has four asymmetric facets . however , the bundles in case ( a ) do not have four asymmetric facets unless @xmath108 is a @xmath120 bundle over @xmath121 , all four fiber facets are asymmetric , and the base facets are symmetric . in this case",
    ", blowups of this type are possible exactly if there exist fiber facets @xmath37 and @xmath38 so that @xmath99 , where @xmath271 is the support number of @xmath272 in @xmath976 * by lemma  [ le : symblow ] and proposition  [ prop : blow4 ] , any polytope @xmath75 obtained from @xmath108 by a sequence of blowups of these types will itself have symmetric @xmath95-faces .",
    "type @xmath975 blowups of @xmath169 are possible exactly if we are in the situation described in part ( ii ) above .",
    "finally , we can now construct an example in which mass linearity is destroyed by an expansion , as promised in remark  [ rmk : fibexp ] .",
    "[ ex : expanii]let @xmath977 be the @xmath68 bundle over @xmath69 associated to @xmath978 as in .",
    "assume that @xmath979 , that is , that none of the fiber facets are equivalent . by proposition [ dkoverd1 ]",
    "@xmath980 is an essential mass linear function on @xmath289 .",
    "let @xmath19 be the @xmath117-fold expansion of @xmath289 along the base facet with conormal @xmath981 , and let @xmath982 be the image of @xmath327 under the natural inclusion . then @xmath13 is a @xmath68 bundle over @xmath68 ; the outward conormals to the base facets are @xmath983 by corollary  [ cor:22bundle ] every mass linear function on @xmath6 is inessential .",
    "hence , since no fiber facet of @xmath6 is equivalent to any other facet , every mass linear function on @xmath6 has the form @xmath984 , where @xmath113 . therefore , @xmath9 is not mass linear .",
    "[ ss : blowex ]    in this subsection , we find all essential mass linear functions of the type described in case ( b ) of theorem  [ thm:4d ] to begin , we classify mass linear functions on double expansions with symmetric fiber - type facets , showing that they are all inessential .    [",
    "le : dexpan0 ] let @xmath19 be the double expansion of a polytope @xmath264 along facets @xmath353 and @xmath395 .",
    "let @xmath985 and @xmath986 ( @xmath987 and @xmath988 ) be the base - type facets associated to @xmath353 ( respectively , @xmath395 ) .",
    "let @xmath1 be a mass linear function on @xmath6 with symmetric fiber - type facets .",
    "then @xmath9 is inessential , and @xmath989 conversely , any function of this form is inessential .    by remark [ rmk : dint ] ( ii ) ,",
    "@xmath990 if @xmath991 , while @xmath992 if @xmath993 .",
    "thus , the last statement is clear .",
    "moreover , by lemma  [ le : ea ] applied twice , there exists an inessential function @xmath150 so that at most two facets are @xmath994-asymmetric .",
    "therefore @xmath9 is inessential by proposition [ prop:2asym ] . since , by hypothesis , the only asymmetric facets are @xmath995 , this implies that it has the given form .",
    "the following proposition clarifies exactly which of the blowup operations allowed in theorem [ thm:4d ] are needed in order for @xmath9 to become essential .",
    "we restrict to the @xmath8-dimensional case , though the result can be extended to higher dimensions without too much difficulty .",
    "blowups of type @xmath548 are defined in definition [ def : edge ] .",
    "note that in the @xmath8-dimensional case a symmetric @xmath67-face @xmath544 is just a symmetric facet @xmath142 .",
    "[ prop : essblow2 ] let @xmath19 be the double expansion of a smooth polygon @xmath264 along edges @xmath996 and @xmath997 , and let @xmath1 be a mass linear function on @xmath6 such that the fiber - type facets are the symmetric facets .",
    "let @xmath411 and @xmath563 ( @xmath413 and @xmath414 ) be the base - type facets associated to @xmath996 ( respectively , @xmath997 ) .",
    "consider a polytope @xmath75 that is obtained from @xmath13 by a sequence of blowups , where each blowup is either along a symmetric face or of type @xmath998 .",
    "then @xmath9 is essential on @xmath75 exactly if one of the following occurs .",
    "* @xmath999 and one of the blowups is of type @xmath1000 , where @xmath397 and @xmath398 . * @xmath1001 and there exists @xmath1002 such that one of the blowups is of type @xmath1000 and another is of type @xmath1003 .",
    "moreover , in either case there exists a blowup @xmath75 of this type so that @xmath9 is essential exactly if @xmath1004 , the polygon @xmath63 is not a triangle , and it contains an edge @xmath1005 with endpoints @xmath1006 and @xmath1007 .    as before , by lemma  [ le : symblow ] and proposition  [ prop : blow4 ] , @xmath9 is mass linear on each intermediate blowup , the exceptional divisors are all symmetric , and the coefficients @xmath271 remain constant under blowup .",
    "moreover , @xmath9 is inessential on @xmath6 by lemma [ le : dexpan0 ] .",
    "assume first that @xmath999 .",
    "( in particular , @xmath264 can not be a triangle . ) by remark  [ rmk : dint ] ( ii ) , this implies that @xmath1008 .",
    "if all blowups are along symmetric faces , then @xmath9 is inessential by lemma [ le : symblow ] .",
    "similarly , proposition  [ prop : blow4 ] and lemma  [ le : blowequiv ] imply that that @xmath9 remains inessential under any blowup of type @xmath1000 if @xmath471 is @xmath676 or @xmath677 .",
    "but is essential on @xmath169 after a blowup of type @xmath1000 with @xmath397 and @xmath398 .",
    "since @xmath9 is inessential @xmath584 , and so blowups of the latter type are not allowed unless @xmath1004 .",
    "so assume that this equation holds .",
    "given an edge @xmath1005 of @xmath63 consider the corresponding symmetric fiber - type facet @xmath142 of @xmath13 . by remark  [ rmk : dint ] ( i ) , if @xmath1005 has endpoints @xmath1009 and @xmath1010 , then @xmath1011 intersects every base - type facet for every @xmath397 and @xmath398 .",
    "thus , we are allowed to blow up along the edge @xmath1011 for some such @xmath471 , and this blowup makes @xmath9 essential .",
    "conversely , assume that @xmath264 does not contain any edge @xmath1005 with endpoints @xmath1009 and @xmath1010 . then remark  [ rmk : dint ] ( i ) implies that @xmath1011 does not meet every asymmetric facet for any @xmath397 , @xmath398 , and symmetric facet @xmath142 . moreover",
    ", the allowed blowups can not create a new symmetric facet @xmath132 so that @xmath1012 intersects every asymmetric facet . to see this ,",
    "let @xmath75 be the blowup of @xmath13 along a face @xmath168 with exceptional divisor @xmath132 .",
    "if @xmath1012 intersects every asymmetric facet , then remark  [ rmk : blowint ] implies that @xmath1013 intersects every asymmetric facet . since @xmath168 must lie on at least one symmetric facet , this is impossible .",
    "therefore , the function @xmath9 remains inessential on all allowed blowups of @xmath108 .",
    "now assume that @xmath1001 . by remark  [ rmk : dint ] ( ii ) ,",
    "lemma  [ le : blowequiv ] , lemma  [ le : symblow ] , and proposition  [ prop : blow4 ] together imply that @xmath9 is essential on @xmath75 exactly if there exists @xmath1002 such that one of the blowups is of type @xmath1000 and another is of type @xmath1003 .    since @xmath1015",
    ", blowups of these types are not allowed unless @xmath1016 ; so assume that this equation holds . if we do perform these two blowups , then one of them is along an edge @xmath1017 with @xmath1018 and @xmath1019 . just as in the previous case",
    ", this implies that @xmath63 contains an edge @xmath1005 with endpoints @xmath1020 and @xmath1010 .",
    "if @xmath1021 , then it is clear that there exists another edge @xmath1022 with endpoint @xmath1023 , so that these two blowups are possible .",
    "therefore , to finish the proof it remains to check that if @xmath1024 suitable blowups are not possible . since @xmath6 is then a @xmath8-simplex it has one symmetric facet , which we call @xmath142 . by renumbering the @xmath37 if necessary",
    ", we may assume that the first blowup is along @xmath1025 ; let us call this blowup @xmath1026 and the exceptional divisor @xmath1027 .",
    "by remark  [ rmk : blowint ] , @xmath1025 and @xmath1028 are both empty in @xmath1026 .",
    "therefore , neither @xmath1011 nor @xmath1029 intersect every asymmetric facet for any @xmath397 and @xmath398 . as we have already seen , this remains true under all further allowed blowups .",
    "hence we can not blow up in such a way to make @xmath9 essential .",
    "let @xmath13 and @xmath9 be as in proposition  [ prop : essblow2 ] above , and assume that the conditions described in its last sentence hold .",
    "\\(i ) if @xmath63 has four edges ( the fewest possible ) , then @xmath996 and @xmath997 are either parallel or equivalent ( or both ) . if they are parallel , then @xmath6 is a @xmath120-bundle over @xmath121 with fiber facets @xmath1030 ; if we write @xmath6 as in , then @xmath800 and @xmath1031 .",
    "see , for instance , example [ ex:7 ] . in this case , the mass linear functions that arise when we think of @xmath6 as a double expansion are special cases of those considered in corollary [ cor : mabc ] .",
    "in contrast , if @xmath996 and @xmath997 are equivalent , the polytope @xmath6 is a @xmath121-bundle over @xmath120 with base facets @xmath1032 .",
    "\\(ii ) @xmath13 has a symmetric @xmath95-face ( which can be blown up ) exactly if @xmath63 has more than four edges .",
    "blowups of type @xmath975 are always possible ; indeed , they are required .",
    "the final remark in this subsection will be relevant to our discussion in ",
    "[ ss : min ] of the minimality of the polytope @xmath108 ; cf .",
    "remark  [ rmk : intmin ] .",
    "[ rmk : vertexblow ] again let @xmath13 and @xmath9 be as in proposition  [ prop : essblow2 ] , but now assume that @xmath996 and @xmath997 are adjacent edges .",
    "then the base - type facets intersect in a vertex @xmath1033 and the blowup @xmath1034 of @xmath6 at @xmath1033 is the double expansion of @xmath1035 along @xmath1036 and @xmath1037 , where @xmath1035 itself is the blowup of @xmath63 at the vertex @xmath1038 . in particular",
    ", @xmath1035 is not a triangle and the exceptional divisor meets the edges @xmath1036 and @xmath1037 .",
    "moreover , by lemma  [ le : inessblow ] , @xmath9 is an inessential function on @xmath1034 .",
    "hence , there exist a blowup @xmath169 of @xmath1034 of the type described in proposition  [ prop : essblow2 ] such that @xmath9 is essential on @xmath169 exactly if @xmath1039 @xmath8-dimensional polytopes -------------------------------------    [ sec:4dim ]    in this section , we establish the propositions used in  [ ss : out ] to prove theorem  [ thm:4d ] .",
    "it follows that the examples constructed in the previous section , together with their blowups , are the only essential mass linear functions on smooth @xmath8-dimensional polytopes .",
    "the first two subsections analyze polytopes with three or four pervasive asymmetric facets , while the third considers the remaining cases .",
    "[ ss:3perv ]    this subsection analyzes mass linear functions on @xmath8-dimensional polytopes with exactly three asymmetric facets .",
    "our first main result , proposition  [ prop:3dep ] , addresses the case that the conormals to these asymmetric facets are linearly dependent ; the case that the conormals are linearly independent is considered in proposition  [ prop:3indep ] .",
    "many of the results in this subsection are valid in all dimensions .",
    "in particular , our first lemma implies that whenever their are exactly three asymmetric facets , each one is pervasive .",
    "[ le:3comb ] fix @xmath1 .",
    "let @xmath19 have exactly three asymmetric facets @xmath1040 and @xmath413 .",
    "then every symmetric face intersects @xmath590 , @xmath408 , and @xmath644 ( and hence @xmath411 , @xmath563 , and @xmath413 ) .",
    "moreover , every symmetric face contains a @xmath95-dimensional triangular symmetric subface .",
    "every symmetric face contains a symmetric face @xmath544 which is minimal in the sense that it does not properly contain another symmetric face . by proposition  [ prop : symcent ]",
    ", @xmath544 is a polytope with exactly three facets , @xmath1041 , and @xmath147 .",
    "this is only possible if @xmath544 is a @xmath95-dimensional triangle , and so it intersects @xmath590 , @xmath408 , and @xmath644 .",
    "we first assume that the conormals to the three asymmetric faces are linearly dependent .",
    "[ prop:3dep ] let @xmath1 be a mass linear function on @xmath19 with exactly three asymmetric facets @xmath411 , @xmath563 , and @xmath413 with linearly dependent conormals .",
    "then @xmath13 is a @xmath68 bundle over the face @xmath590 , and the base facets are the symmetric facets .",
    "since the outward conormals to the @xmath37 are linearly dependent the triple intersection @xmath144 must be empty .",
    "thus , lemma  [ le:3comb ] implies that @xmath6 is combinatorially equivalent to the product @xmath1042 .",
    "hence , by lemma  [ le : recog ] , @xmath6 is a @xmath68 bundle over the face @xmath590 with fiber facets @xmath411 , @xmath563 , and @xmath413 .",
    "we next assume that the conormals to the three asymmetric facets @xmath1043 , and @xmath413 are linearly independent . then the three affine planes @xmath1044 which contain the asymmetric facets intersect in an affine subspace @xmath1045 that contains the ( possibly empty ) face @xmath144 . define a graph @xmath1046 as follows : its vertices @xmath227 are the vertices in @xmath1047 and its edges @xmath1048 are the edges of @xmath590 that have both endpoints in @xmath227 and are not parallel to @xmath1045 .    [ etaindep ] fix @xmath1 .",
    "let @xmath19 be a smooth polytope with exactly three asymmetric facets @xmath411 , @xmath563 , and @xmath413 with linearly independent conormals .",
    "* let @xmath289 be a symmetric @xmath67-face of @xmath6 that contains two symmetric @xmath95-faces , and assume that @xmath1049 is not parallel to @xmath1045 .",
    "then @xmath289 is a @xmath69 bundle over @xmath68 , and the symmetric facets are the fiber facets . * if the associated graph @xmath1046 is connected then @xmath1050 .",
    "let @xmath289 be a symmetric @xmath67-face that contains two symmetric @xmath95-faces , and assume that @xmath1049 is not parallel to @xmath1045 .",
    "we now apply lemma  [ le:3comb ] . since the edge @xmath1051 meets both symmetric faces of @xmath289 , @xmath1052 .",
    "hence , @xmath289 is combinatorially equivalent to @xmath1053 where the symmetric faces are triangular . since @xmath1049 is not parallel to @xmath1045 , the conormals to the @xmath37 remain linearly independent when restricted to @xmath1054 .",
    "hence , lemma  [ prodsimp ] implies that @xmath289 is a @xmath121 bundle over @xmath139 ; the symmetric faces are the fiber facets .",
    "this proves ( i ) .",
    "since @xmath13 is simple , lemma  [ le:3comb ] implies that intersection with @xmath590 induces a one - to - one correspondence between the set of symmetric @xmath95-faces and the vertex set @xmath227 of @xmath1055 .",
    "it also induces a one - to - one correspondence between the set of symmetric @xmath67-faces @xmath289 that contain two symmetric @xmath95-faces so that @xmath1049 is not parallel to @xmath1045 , and the edge set @xmath1048 of @xmath1055 .",
    "moreover , in this case claim ( i ) implies that the two symmetric @xmath95-faces are parallel .",
    "hence , two symmetric @xmath95-faces @xmath1056 and @xmath1057 are parallel if the vertices @xmath1058 and @xmath1059 lie in the same component of @xmath1055 .",
    "if @xmath1055 is connected , this implies that all symmetric @xmath95-faces are parallel . by lemma  [ le:3comb ]",
    ", every symmetric facet must contain a symmetric @xmath95-face , so this implies that the conormals to all the symmetric facets lie in a codimension @xmath95 subspace .",
    "hence , by lemma  [ le : equiv ] , the three asymmetric facets are equivalent .",
    "we now specialize to the @xmath8-dimensional case .",
    "the definition of a @xmath804-bundle may be found in definition [ def:121 ] .",
    "[ prop:3indep ] let @xmath1 be an essential mass linear function on a smooth @xmath8-dimensional polytope @xmath0 with exactly three asymmetric facets @xmath1060 and @xmath413 with linearly independent conormals .",
    "then there exists a smooth polytope @xmath85 so that :    * @xmath9 is an essential mass linear function on @xmath86 .",
    "* one of the following statements is true : * * @xmath86 is a @xmath88 bundle over @xmath69 , and the base facets and one fiber facet of @xmath86 are the symmetric facets . *",
    "* @xmath86 is a @xmath804-bundle and the nonpervasive facets of @xmath86 are the symmetric facets .",
    "* @xmath13 can be obtained from @xmath86 by a series of blowups along symmetric @xmath95-faces .",
    "the @xmath95-dimensional polygon @xmath590 has at most two edges parallel to @xmath1045 .",
    "if it has at most one such edge , then the associated graph @xmath1046 is connected , and so @xmath1050 by part ( ii ) of lemma  [ etaindep ] . by lemma  [ le : ea ] , this implies that there exists an inessential function @xmath195 so that the function @xmath1061 has at most one asymmetric facet . by proposition  [ prop:2asym ] , this implies that @xmath9 is inessential .",
    "therefore @xmath590 has two edges parallel to @xmath1045 .",
    "we now consider the following cases .",
    "* case ( a ) * : _ @xmath590 has exactly four edges and @xmath1062 . _",
    "the edge @xmath144 is parallel to @xmath1045 .",
    "let @xmath1063 , @xmath1064 and @xmath1065 be the remaining edges of @xmath590 , where each @xmath868 is a symmetric facet and @xmath1063 is parallel to @xmath1045",
    ". then the conormals to @xmath1066 , and @xmath1067 are linearly dependent and the intersections @xmath1068 and @xmath1069 are empty , but the remaining edges of @xmath590 do intersect . hence , lemma  [ le:3comb ] implies that @xmath13 is combinatorially equivalent to @xmath1070 , where @xmath1071 and @xmath1072 are both empty .",
    "hence , by lemma  [ le : recog ] , @xmath13 is @xmath120 a bundle over @xmath121 ; the fiber facets are @xmath1066 , and @xmath1067 .    *",
    "case ( b ) * : _ @xmath590 has exactly four edges and @xmath1073 . _",
    "let @xmath1063 , @xmath1074 , @xmath1065 , and @xmath1075 be the edges of @xmath590 , where each @xmath868 is a symmetric facet and @xmath1063 and @xmath1074 are parallel to @xmath1045 .",
    "then the intersections @xmath1076 and @xmath1077 are empty , but the remaining edges of @xmath590 do intersect .",
    "lemma  [ le:3comb ] implies that @xmath13 is combinatorially equivalent to @xmath1078 , where @xmath1079 and @xmath144 are empty .",
    "let @xmath21 and @xmath553 denote the outward conormals to @xmath37 and @xmath554 , respectively .",
    "since @xmath1063 and @xmath1074 are parallel to @xmath1045 , @xmath689 and @xmath690 both lie in the subspace spanned by @xmath1080 and @xmath567 .",
    "moreover , applying part ( i ) of lemma  [ etaindep ] to @xmath1081 , we find that its two symmetric faces @xmath1082 and @xmath1083 are parallel . if @xmath1067 and @xmath1084 are not parallel , this implies that @xmath1085 lies in the plane spanned by @xmath689 and @xmath690 .",
    "hence , by the claim above , @xmath1085 lies in the subspace spanned by @xmath1086 and @xmath567 . but",
    "@xmath1081 is not parallel to @xmath1045 , so this is impossible .",
    "hence , @xmath1067 is parallel to @xmath1084 .",
    "therefore , by lemma  [ le : recog ] , @xmath13 is a @xmath69 bundle over the polytope @xmath1067 .",
    "moreover , since @xmath1063 is parallel to @xmath1045 , @xmath1067 itself is a @xmath68 bundle over @xmath69 with fiber facets @xmath1087 , @xmath1088 , and @xmath1089 .",
    "* case ( c ) * : _ the general case .",
    "_    if @xmath590 has four edges , the result follows from ( a ) or ( b ) .",
    "so assume that @xmath590 has more than four edges .",
    "the face @xmath590 is a @xmath95-dimensional smooth polygon with two edges which are parallel to @xmath1045 . with the possible exception of one of these parallel edges ,",
    "every edge has the form @xmath1090 , where @xmath142 is a symmetric facet .",
    "therefore , by part ( i ) of lemma  [ le:2blowdown ] there exist a symmetric facet @xmath142 so that the edge @xmath1090 can be blown down in @xmath590 , is not parallel to @xmath1045 , and is adjacent to @xmath1091 and @xmath1092 , where @xmath1027 and @xmath1093 are also symmetric facets .",
    "we claim that @xmath13 is the blow - up of a smooth polytope @xmath108 along the face @xmath1094 with exceptional divisor @xmath142 . to prove this",
    ", we check the three conditions of proposition  [ prop : blowdown ] .",
    "first , by part ( i ) of lemma  [ etaindep ] , @xmath142 is a @xmath69 bundle over @xmath68 with fiber facets @xmath1095 and @xmath1096 and base facets @xmath1097 , @xmath1098 , and @xmath1099 , so condition ( i ) holds .",
    "second , the previous paragraph implies that @xmath590 is the blowup of a smooth polytope @xmath1100 along the vertex @xmath1101 with exceptional divisor @xmath1090 , and so by lemma  [ le : blowtech ] , condition ( ii ) also holds . finally , if @xmath1102 , then condition ( iii ) holds trivially . on the other hand ,",
    "if @xmath1103 , then @xmath1045 is a line in @xmath1104 which does not intersect @xmath590 and is parallel to two of its edges . since @xmath1090 is not parallel to @xmath1045 , the polygon obtained from blowing down @xmath1090 in @xmath590 will not intersect @xmath1045 . hence , @xmath1105 also will not intersect @xmath1045 , that is , @xmath1106 is empty .",
    "by lemmas  [ le : blowcent ] and [ le : symblow ] , @xmath9 is an essential mass linear function on @xmath108 and @xmath1107 .",
    "the result now follows by induction .",
    "[ ss:4asym ]    we now analyze mass linear functions on @xmath8-dimensional polytopes with exactly four asymmetric facets , each of which is pervasive . as before , we first consider the case that the conormals to these asymmetric facets are linearly dependent , and then the case that they are linearly independent ; see proposition  [ prop:4dep ] and proposition  [ prop:4indep ] .",
    "we begin by considering the combinatorics .",
    "let @xmath1 be a mass linear function on a polytope @xmath13 with exactly four asymmetric facets @xmath1108 and @xmath414 .",
    "proposition  [ prop : symcent ] implies that each symmetric @xmath95-face @xmath544 has exactly four asymmetric edges : @xmath1109 .",
    "moreover @xmath9 is mass linear on @xmath544 .",
    "therefore , proposition  [ prop:2dim ] implies that @xmath544 has no symmetric edges .",
    "hence , for exactly two of the six pairs @xmath1110 , the intersection @xmath1111 is empty ; we will refer to this set of two pairs as the * rectangle order * of the face .",
    "suppose first that @xmath13 is @xmath67-dimensional .",
    "then proposition  [ prop:3d ] implies that @xmath13 has at most two symmetric facets ; moreover , the following are true .    * if @xmath13 has no symmetric facets , then @xmath13 is the simplex @xmath88 . *",
    "if @xmath13 has one symmetric facet then @xmath13 is a @xmath68 bundle over @xmath69 , and the symmetric facet is a fiber facet . *",
    "if @xmath13 has two symmetric facets then @xmath13 is a @xmath69 bundle over @xmath270 , and the symmetric facets are fiber facets .",
    "now assume that @xmath13 is @xmath8-dimensional , and let the * symmetric subspace * @xmath1112 be the union of the symmetric facets . by proposition  [ prop : symcent ] , each @xmath67-dimensional symmetric facet @xmath142 is a polytope with four asymmetric facets and @xmath9 is a mass linear function on @xmath142 . by the discussion above",
    ", this implies that @xmath142 intersects at most two other symmetric facets .",
    "moreover , if @xmath142 does not intersect any symmetric facets , it is the simplex @xmath120 . if @xmath142 intersects just one other symmetric facet @xmath1027 , then @xmath142 is a @xmath68 bundle over @xmath69 , and @xmath1095 is a fiber facet .",
    "once the rectangle order of @xmath1095 is specified , there are two possibilities for the combinatorics of @xmath142 .",
    "assume , for example , that @xmath411 and @xmath563 are opposite in the rectangle order of @xmath1095 . if @xmath1025 is empty , then @xmath1113 is not , and @xmath1114 and @xmath1098 are the triangular faces of @xmath142 .",
    "conversely , if @xmath1113 is empty then @xmath1025 is not , and @xmath1099 and @xmath1115 are the triangular faces . in contrast ,",
    "if @xmath142 intersects two other symmetric facets , then both symmetric @xmath95-faces of @xmath142 have the same rectangle order , and @xmath142 is determined combinatorially by this rectangle order .",
    "this proves the following result .",
    "[ le : symorder ] let @xmath1 be a a mass linear function on a @xmath8-dimensional polytope @xmath19 with exactly four asymmetric facets .",
    "let @xmath1116 be a connected component of the symmetric subspace @xmath1112 .",
    "then every @xmath95-face in @xmath1116 has the same rectangle order .",
    "the analysis above also implies that , after renumbering the @xmath37 if necessary , each component @xmath1116 of @xmath1117 has one of the following four types .    1 .",
    "the component @xmath1116 contains only one symmetric facet .",
    "2 .   the component @xmath1116 contains two symmetric facets @xmath142 and @xmath1027 that each intersect only one other symmetric facet , and @xmath1118 .",
    "the remaining symmetric facets in @xmath1116 each intersect two symmetric facets .",
    "3 .   the component @xmath1116 contains two symmetric facets @xmath142 and @xmath1027 that each intersect only one other symmetric facet , and @xmath1119 .",
    "the remaining symmetric facets in @xmath1116 each intersect two symmetric facets .",
    "every symmetric facet in @xmath1116 intersects two other symmetric facets .",
    "[ le:4comb ] let @xmath1 be a a mass linear function on a @xmath8-dimensional polytope @xmath19 with exactly four asymmetric facets @xmath1032 , each of which is pervasive .",
    "* if @xmath1120 , the symmetric subspace @xmath1112 has two components . otherwise , it has one component .",
    "* each of the four triple intersections @xmath1121 is nonempty . *",
    "each component of the symmetric subspace @xmath1112 has type ( a ) or ( b ) above .    to begin , consider the @xmath95-dimensional polygon @xmath1122 for any @xmath1123 ; let @xmath1124 .",
    "by assumption , the asymmetric facets are pervasive , so @xmath1122 can not be empty .",
    "if the intersections @xmath1125 and @xmath1126 are nonempty , they are edges of this polygon .",
    "all other edges lie in @xmath1127 .",
    "since every @xmath95-dimensional polygon has at least three edges , the set @xmath1127 can not be empty .",
    "therefore , after possibly switching @xmath43 and @xmath538 , there are four possibilities :    * @xmath1128 ; this implies that @xmath1127 is homeomorphic to a circle . *",
    "@xmath1129 but @xmath1130 ; this implies that @xmath1127 is homeomorphic to a line segment and both its ends are adjacent to @xmath1125 . *",
    "@xmath1129 and @xmath1131 but @xmath1132 ; this implies that @xmath1127 has two components , each component is homeomorphic to a line segment , and each has one end adjacent to @xmath1125 and the other to @xmath1126 . * @xmath1133 ; this implies that @xmath1127 is homeomorphic to a line segment , one end is adjacent to @xmath1125 and the other to @xmath1126 .",
    "now consider a component @xmath1116 of @xmath1117 ; by lemma  [ le : symorder ] we may assume that @xmath411 and @xmath563 are opposite in the rectangle order of every symmetric @xmath95-face in @xmath1116 .",
    "we will evaluate each of the cases ( a ) through ( d ) listed before the lemma .    1 .   in this case",
    ", @xmath1134 is a single edge ( and hence is homeomorphic to a line segment ) for all @xmath1123 .",
    "one end of this edge is adjacent to @xmath1125 and the other to @xmath1126 , where @xmath1124 .",
    "2 .   in this case , the intersection @xmath1135 is homeomorphic to a line segment ; one end is adjacent to @xmath410 and the other to @xmath1136 . similarly , each of the intersections @xmath1137 , @xmath1138 , and @xmath1139 is homeomorphic to a line segment , the ends of which are adjacent to different edges .",
    "finally , each of the intersections @xmath1140 and @xmath1141 is a single edge , the ends of which are adjacent to different edges .",
    "3 .   in this case",
    ", the intersection @xmath1135 is homeomorphic to a line segment , and both ends of the segment are adjacent to the edge @xmath410 .",
    "similarly , each of the intersections @xmath1137 , @xmath1138 , and @xmath1139 is homeomorphic to a line segment , the ends of which are adjacent to the same edge . however , the intersection @xmath1140 is empty .",
    "4 .   in this case ,",
    "each of the intersections @xmath1142 and @xmath1139 is homeomorphic to a circle , while @xmath1143 .",
    "we now show that the last two cases can not occur .",
    "assume first that there is a component @xmath1116 of type ( c ) .",
    "this can not be the only component of @xmath1117 , because then @xmath1144 , which we showed to be impossible at the beginning of the proof .",
    "so there exists another component @xmath1145 of @xmath1117 .",
    "since @xmath1146 is nonempty for at least four pairs @xmath1123 , at least one polygon @xmath1122 must intersect the space of symmetric facets in at least two components , at least one of which is homeomorphic to a line segment , the ends of which are adjacent to the the same edge . as we saw above , this is impossible .",
    "hence there are no components of type ( c ) .",
    "similarly , no polygon @xmath1122 can intersect the space of symmetric facets in at least two components , one of which is homeomorphic to a circle .",
    "therefore , there are no components of type ( d ) .",
    "this proves ( iii ) .    since each component of @xmath1117 has type ( a ) or ( b ) its intersection with each polygon @xmath1122 is homeomorphic to a line segment , the ends of which are adjacent to different edges",
    ". therefore cases ( 1 ) and ( 2 ) for @xmath1147 are impossible . statement ( ii )",
    "follows immediately . finally , if @xmath1120 we are in case ( 3 ) , and if it is not we are in case ( 4 ) .",
    "this proves ( i ) .",
    "we will use the next lemma to identify facets that can be blown down .    [",
    "le : blowblow ] let @xmath1 be a mass linear function on a @xmath8-dimensional smooth polytope @xmath19 with exactly four asymmetric facets @xmath1148 , each of which is pervasive .",
    "let @xmath142 be a symmetric facet .",
    "assume that the edge @xmath1149 of the polygon @xmath408 can be blown down , and that @xmath411 and @xmath413 are not opposite in the rectangle order of any symmetric @xmath95-face of @xmath142 .",
    "then @xmath13 is the blowup of a smooth polytope @xmath1150 along a face @xmath168 with exceptional divisor @xmath142 .",
    "moreover , one of the following holds :    1 .",
    "@xmath142 has no symmetric facets and @xmath168 is the vertex @xmath1151 .",
    "@xmath142 has exactly one symmetric facet @xmath1095 , and @xmath168 is the edge @xmath1152 , where @xmath37 and @xmath38 are opposite in the rectangle order of @xmath1095 .",
    "moreover , @xmath168 intersects each @xmath1153 .",
    "@xmath142 has two symmetric facets @xmath1095 and @xmath1096 , and @xmath1154 .    by proposition  [ prop : symcent ] , @xmath142 itself is a @xmath67-dimensional polytope with exactly four asymmetric facets @xmath1155 , and the restriction of @xmath9 to @xmath142 is mass linear . as before ,",
    "proposition  [ prop:3d ] implies that there are only three possibilities :    * case ( i ) * : _ @xmath142 has no symmetric facets ; it is a simplex with facets @xmath1156 . _    condition ( i ) of proposition  [ prop : blowdown ]",
    "is clearly satisfied . since the edge @xmath1149 of the polygon @xmath408 can be blown down , and @xmath1149 is adjacent to @xmath409 and @xmath410",
    ", @xmath408 is the blowup of a smooth polygon @xmath1157 along the vertex @xmath1158 .",
    "hence , lemma  [ le : blowtech ] implies that condition ( ii ) of proposition  [ prop : blowdown ] is also satisfied .",
    "finally , condition ( iii ) of proposition  [ prop : blowdown ] is trivial in this case .",
    "hence , the claim follows by proposition  [ prop : blowdown ] .",
    "* case ( ii ) * : _ @xmath142 has one symmetric facet @xmath1095 ; it is a @xmath68 bundle over @xmath69 and @xmath1095 is a fiber face .",
    "_    since @xmath411 and @xmath413 are not opposite in the rectangle order of @xmath1095 , one is a base facet and one is a fiber facet .",
    "hence , we may renumber so that @xmath142 is a @xmath68 bundle over @xmath69 with fiber facets @xmath1114 , @xmath1098 , and @xmath1095 and base facets @xmath1099 and @xmath1115",
    ". in particular , condition ( i ) of proposition  [ prop : blowdown ] is satisfied .",
    "since the edge @xmath1149 of the polygon @xmath408 can be blown down , and @xmath1149 is adjacent to @xmath409 and @xmath1159 , @xmath408 is the blowup of a smooth polygon @xmath1157 along the vertex @xmath1160 .",
    "hence , lemma  [ le : blowtech ] implies that condition ( ii ) of proposition  [ prop : blowdown ] is also satisfied . since each asymmetric facet is pervasive , @xmath1161 .",
    "hence , condition ( iii ) of proposition  [ prop : blowdown ] is satisfied .",
    "therefore , proposition  [ prop : blowdown ] implies that @xmath13 is the blowup of a smooth polytope @xmath85 along the edge @xmath1162 with exceptional divisor @xmath142 .",
    "finally , remark  [ rmk : blowint ] implies that @xmath1162 intersects both @xmath1163 and @xmath1164 .    * case ( iii ) * : _ @xmath142 has two symmetric facets @xmath1095 and @xmath1096 ; it is a @xmath69 bundle over @xmath270 with fiber facets @xmath1095 and @xmath1096 and base facets @xmath1155 . _",
    "clearly , condition ( i ) of proposition  [ prop : blowdown ] is satisfied .",
    "since the edge @xmath1149 of the polygon @xmath408 can be blown down , and @xmath142 is adjacent to @xmath1159 and @xmath1165 , @xmath408 is the blowup of a smooth polygon @xmath1157 along the vertex @xmath1166 .",
    "hence , lemma  [ le : blowtech ] implies that condition ( ii ) of proposition  [ prop : blowdown ] is satisfied .",
    "finally , since each asymmetric facet is pervasive , @xmath1167 for all pairs @xmath670 . hence , lemma  [ le : blowdown2 ] implies that condition ( iii ) of proposition  [ prop : blowdown ] is satisfied .",
    "hence , the claim follows by proposition  [ prop : blowdown ] .",
    "we can now prove our first main proposition in this subsection .",
    "[ prop:4dep ] let @xmath1 be a mass linear function on a smooth @xmath8-dimensional polytope @xmath19 with exactly four asymmetric facets @xmath1148 with linearly dependent conormals .",
    "assume that each asymmetric facet is pervasive .",
    "then there exists a smooth polytope @xmath85 so that    * @xmath9 is a mass linear function on @xmath86 .",
    "* @xmath86 is a @xmath88 bundle over @xmath69 , and the base facets of @xmath86 are the symmetric facets .",
    "* @xmath13 can be obtained from @xmath86 by a series of blowups .",
    "each blowup is either along a symmetric @xmath95-face or along an edge of type @xmath1168 for some symmetric facet @xmath1169 of @xmath108 .",
    "moreover , if @xmath9 is inessential on @xmath108 then the polytope @xmath108 is the double expansion of a trapezoid along two parallel edges and the asymmetric facets are the base - type facets .    since the conormals to the @xmath37 are linearly dependent , @xmath1120 . by part ( i ) of lemma  [ le:4comb ] , this implies that the symmetric subspace @xmath1112 has two components .",
    "moreover , by lemma  [ le : symorder ] , the rectangle order is the same on every symmetric @xmath95-face in each component of @xmath1117 .",
    "hence , after possibly renumbering , @xmath411 and @xmath413 are not opposite on the rectangle order of any symmetric @xmath95-face .",
    "if both components of @xmath1117 contain a single symmetric facet , then each symmetric facet is a @xmath67-simplex .",
    "since the two symmetric facets do nt intersect , @xmath1120 , and the conormals to @xmath403 lie in a hyperplane , this implies that @xmath6 is a @xmath88 bundle over @xmath69 , and the base facets are the symmetric facets .",
    "so assume on the contrary that at least one component of @xmath1117 contains more than one symmetric facet .",
    "since @xmath411 and @xmath413 are not opposite in the rectangle order of any symmetric @xmath95-face , every symmetric facet intersects @xmath408 .",
    "moreover , by part ( ii ) of lemma  [ le:4comb ] , the triple intersections @xmath409 and @xmath410 are not empty .",
    "since there are at least @xmath67 symmetric facets , this implies that the smooth convex polygon @xmath408 has more than four edges .",
    "also , since the @xmath21 are linearly dependent , the two edges @xmath409 and @xmath410 are parallel .",
    "hence , by part ( i ) of lemma  [ le:2blowdown ] , there exists a symmetric facet @xmath142 of @xmath13 so that the edge @xmath1149 of @xmath408 can be blown down ; moreover , @xmath1149 is not adjacent to both @xmath409 and @xmath1170 .",
    "hence , @xmath142 has at least one symmetric @xmath95-face @xmath544 .",
    "since @xmath411 and @xmath413 are not opposite in the rectangle order of any symmetric face of @xmath142 , we may renumber so that @xmath411 and @xmath563 are opposite on the rectangle order of @xmath544 . by proposition  [ prop : symcent ]",
    ", @xmath544 has four asymmetric edges @xmath1171 and the restriction of @xmath9 to @xmath544 is mass linear . since @xmath1172 and @xmath1173 , proposition  [ prop:2dim ] implies that @xmath1174 , where @xmath276 is the coefficient of the support number of @xmath37 in the linear function @xmath216 .",
    "lemma  [ le : blowblow ] implies that @xmath13 can be obtained from a smooth polytope @xmath86 by blowing up along a face @xmath168 , where @xmath168 is either a @xmath95-face of the form @xmath1175 where @xmath1027 and @xmath1093 are symmetric facets , or an edge of the form @xmath1176 or @xmath1177 , where @xmath1027 is a symmetric facet ; moreover , in the latter case , @xmath168 intersects each @xmath1178 . by lemma  [ le : blowcent ] , @xmath1179",
    "the first claim now follows by induction .",
    "finally , assume that @xmath9 is inessential on @xmath108 .",
    "since the asymmetric facets are the four fiber facets , each fiber facet is equivalent to at least one other fiber facet .",
    "it is straightforward to check that this implies that @xmath108 is the double expansion of a trapezoid along the two parallel sides .",
    "( alternatively , @xmath108 is a double expansion by proposition  [ prop : essblow ] . )    to deal with the case when the asymmetric facets are linearly independent , we need one final technical lemma .",
    "[ 4comp ] let @xmath1 be a mass linear function on a @xmath8-dimensional smooth polytope @xmath19 with exactly four asymmetric facets @xmath1148 with linearly independent conormals",
    ". if @xmath411 and @xmath563 are opposite in the rectangle order of each symmetric @xmath95-face , then @xmath404 .",
    "first , note that by proposition  [ prop : symcent ] , every symmetric facet @xmath142 is itself a @xmath67-dimensional smooth polytope with exactly four asymmetric faces @xmath1180 , and the restriction of @xmath9 to @xmath142 is mass linear .    let @xmath21 be the outward conormal to @xmath37 . if @xmath142 has no symmetric facets , then by proposition  [ prop:3d ] @xmath142 is a @xmath67-simplex with with facets @xmath1181 .",
    "hence , @xmath1182 is a multiple of @xmath318 , the outward conormal to @xmath142 .",
    "since the @xmath21 are linearly independent , this implies that @xmath318 is a multiple of @xmath1183    otherwise , the component of @xmath1117 which contains @xmath142 contains more than one symmetric facet .",
    "by part ( iii ) of lemma  [ le:4comb ] we may label these symmetric facets @xmath1184 so that @xmath1185 for all @xmath220 but otherwise @xmath1186 , and so that @xmath1187 .",
    "let @xmath1188 denote the outward conormal to @xmath868 .",
    "the polytope @xmath1067 has one symmetric facet @xmath1189 ; moreover , @xmath1190 .",
    "hence by proposition  [ prop:3d ] , @xmath142 is a @xmath68 bundle over @xmath69 with fiber facets @xmath1089 , @xmath1191 , and @xmath1189 .",
    "hence @xmath1192 is a multiple of @xmath689 , and so @xmath690 lies in the plane spanned by @xmath1193 and @xmath689 . if @xmath1194 , the polytope @xmath1084 has two symmetric facets @xmath1195 and @xmath1196 .",
    "hence , by proposition  [ prop:3d ] , @xmath142 is a @xmath69 bundle over @xmath270 with fiber facets @xmath1195 and @xmath1196 .",
    "hence , @xmath1197 is a multiple of @xmath690 , and so @xmath1085 lies in the plane spanned by @xmath689 and @xmath690 , and hence in the plane spanned by @xmath1193 and @xmath689 .",
    "continuing in this way , @xmath553 lies in the plane spanned by @xmath1193 and @xmath689 for all @xmath221 . since @xmath1198",
    ", a similar argument shows that that @xmath1199 lies in the plane spanned by @xmath570 and @xmath1200 for all @xmath221 .",
    "since the @xmath553 are not all parallel and the @xmath21 are linearly independent , this implies that @xmath553 lies in the plane spanned by @xmath570 and @xmath1193 for all @xmath221 .    in short ,",
    "the conormal to every symmetric facet lies in the plane spanned by @xmath570 and @xmath1193 .",
    "thus , the conormal to every facet except @xmath411 and @xmath563 lies in the hyperplane spanned by @xmath570 , @xmath567 , and @xmath568 . by lemma  [ le : equiv ] , this implies that @xmath411 is equivalent to @xmath563 .",
    "[ prop:4indep ] let @xmath877 be a mass linear function on a @xmath8-dimensional smooth polytope @xmath19 with exactly four asymmetric facets @xmath1148 with linearly independent conormals .",
    "assume that every asymmetric facet is pervasive .",
    "then there exists a smooth polytope @xmath85 so that :    * @xmath9 is an inessential mass linear function on @xmath86 .",
    "* @xmath86 is the double expansion of a smooth polygon @xmath63 , and the fiber - type facets are the symmetric facets .",
    "* @xmath13 can be obtained from @xmath86 by a series of blowups .",
    "each blowup is along a symmetric @xmath95-face or is of type @xmath975 .",
    "let @xmath1201 be the outward conormals to @xmath403 .",
    "+ * case ( a ) : * _ every symmetric @xmath95-face has the same rectangle order _    assume , for example , that @xmath411 and @xmath563 are opposite in every such face",
    ". lemma  [ 4comp ] implies that @xmath411 and @xmath563 are equivalent .",
    "similarly , @xmath413 and @xmath414 are equivalent .",
    "since @xmath403 are pervasive , lemma  [ lemma : dexpan ] implies that @xmath6 is a double expansion , and @xmath403 are the base - type facets .",
    "hence , by lemma  [ le : dexpan0 ] , @xmath9 is inessential , and the proposition holds with @xmath112 . + * case ( b ) : * _ the general case _    by lemma  [ le : symorder ] , every @xmath95-face in each component of the symmetric subspace has the same rectangle order . hence ,",
    "if @xmath1117 has one component , we are in case ( a ) .",
    "therefore , by lemma  [ le:4comb ] , we may assume that @xmath1120 and that @xmath1117 has two components ; moreover , none of the triple intersections @xmath1121 are empty . consider the fan associated to the polytope @xmath6 . since @xmath1202 , the set of non - negative linear combinations of @xmath1203 , and @xmath223 is a convex cone in this fan for each triple @xmath1002 .",
    "deleting the union @xmath1204 of these cones divides @xmath15 into two open regions .",
    "since @xmath1205 are linearly independent , one of these regions is the open cone @xmath1206 ; denote the other by @xmath1207 .",
    "each cone in the fan lies entirely in the closure of one of these regions . on the other hand , since @xmath1208 , the cone @xmath1209 itself does not lie in the fan , and so there must be another facet whose outward conormal lies in @xmath1209 .",
    "hence this boundary @xmath1204 divides the rays of the fan corresponding to the symmetric facets into two nonempty sets , which must correspond to the two components of @xmath1117 .",
    "let @xmath1116 be the component of @xmath1117 corresponding to the symmetric facets whose conormal lies in @xmath1209 ; let @xmath1145 denote the other component .",
    "if either component has only one symmetric facet @xmath142 then @xmath142 is a simplex , and so it has no symmetric @xmath95-faces .",
    "therefore , we are in case ( a ) .",
    "so assume on the contrary that @xmath1209 contains more than one symmetric facet .",
    "after renumbering , we may assume that @xmath411 and @xmath413 are opposite in the rectangle order of the symmetric @xmath95-faces in the component @xmath1116 , and @xmath411 and @xmath563 are opposite in the rectangle order of the symmetric @xmath95-faces in @xmath1145 .",
    "since both components contain more than one symmetric facet , by lemma  [ le:4comb ] each component is of type ( b ) .",
    "hence , the edges of the @xmath95-dimensional smooth polytope @xmath590 are ( in order ) @xmath1210 , where @xmath1184 are the symmetric facets in @xmath1116 , and @xmath1027 is one of the end symmetric facets in @xmath1145 .",
    "moreover , restricting to the plane containing @xmath590 , the fact that the conormal to @xmath868 is contained in @xmath1209 for all @xmath220 implies that the outward conormals to the edges @xmath1211 are all positive linear combinations of the outward conormals to @xmath1212 and @xmath1213 .",
    "hence the outward conormal to @xmath1091 can not be .",
    "therefore , by part ( ii ) of lemma  [ le:2blowdown ] , there is at least one edge @xmath1214 that can be blown down in @xmath590 .",
    "note that @xmath868 has at least one symmetric @xmath95-face @xmath544 .",
    "since @xmath1215 and @xmath1216 , proposition  [ prop:2dim ] implies that @xmath1217 . since @xmath411 and @xmath563 are not opposite in the rectangle order of the symmetric faces of @xmath868 , lemma  [ le : blowblow ] implies that @xmath13 can be obtained from a smooth polytope @xmath108 by blowing up along a face @xmath168 , where @xmath168 is either a symmetric @xmath95-face of the form @xmath1218 , or an edge of the form @xmath1219 or @xmath1220 , where @xmath1027 is a symmetric face . by lemma  [ le : blowcent ] , @xmath1179 .",
    "the result now follows by induction .",
    "[ s : more4 ] to finish the proof of theorem [ thm:4d ] outlined in  [ ss : out ]",
    "we now analyze mass linear functions on @xmath8-dimensional polytopes with more than four asymmetric facets , each of which is pervasive .",
    "as we see in corollary [ cor:5plus ] this case does not occur for an essential @xmath9 .",
    "additionally , we classify polytopes which admit essential mass linear functions with nonpervasive asymmetric facets .",
    "[ prop:5plus ] let @xmath1 be a mass linear function on a @xmath8-dimensional smooth polytope @xmath19 with more than four asymmetric facets .",
    "assume that every asymmetric facet is pervasive .",
    "then one of the following statements is true :    1 .",
    "@xmath13 is the four - simplex @xmath140 , or 2 .",
    "@xmath13 is a @xmath68 bundle over @xmath68 .",
    "assume first that every facet is asymmetric . by [ i , corollary a.8 ]",
    "this implies that @xmath13 is combinatorially equivalent to the product of simplices .",
    "since every facet is pervasive , @xmath13 is either a @xmath8-simplex or is combinatorially equivalent to @xmath1221 . in the second case , by lemma  [ prodsimp ] , @xmath13 is a @xmath68 bundle over @xmath68 .",
    "therefore , we may assume that @xmath13 has at least one symmetric facet .",
    "label the asymmetric facets @xmath1222 .",
    "proposition  [ prop : symcent ] implies that every symmetric face has @xmath43 asymmetric facets and that the restriction of @xmath9 to this face is mass linear . since proposition  [ prop:2dim ] implies that a @xmath95-dimensional polygon with a mass linear function has at most four asymmetric edges , there are no symmetric @xmath95-faces .",
    "hence , no symmetric facets of @xmath6 intersect , and each symmetric facet has no symmetric faces .",
    "thus , proposition  [ prop:3d ] implies that there are only two possibilities with @xmath1223 .",
    "* case ( a ) * : _ @xmath13 has five asymmetric facets , and each symmetric facet is a @xmath68 bundle over @xmath69 . _    let @xmath1224 denote the set of symmetric facets .",
    "since every symmetric facet is a @xmath68 bundle over @xmath69 , there are @xmath1225 @xmath95-dimensional faces , @xmath1226 edges , and @xmath1227 vertices that do lie on a symmetric facet . since the five asymmetric facets are pervasive there are ten @xmath95-dimensional faces that do not lie on any symmetric facet .",
    "let @xmath1048 and @xmath227 be the sets of edges and vertices , respectively , that do not lie on any symmetric facet . since the euler characteristic of @xmath13 is @xmath885 , @xmath1228 and hence @xmath1229 .",
    "each vertex in @xmath227 lies on four edges in @xmath1048 , and each vertex that lies on a symmetric facet lies on exactly one edge in @xmath1048 . since exactly two vertices lie on each edge , @xmath1230 .",
    "combined , these equations yield @xmath1231 . since by assumption @xmath1232 , this implies that @xmath1233 or @xmath95 .    if @xmath1234 , then @xmath6 has @xmath111 facets .",
    "it is well known that any @xmath165-dimensional polytope with @xmath1235 facets , such as @xmath13 , is a product of two simplices ; for a proof in the current setting see  ( * ? ? ?",
    "* prop  1.1.1 ) .",
    "since @xmath13 has at most one facet that is not pervasive , this means that @xmath6 is combinatorially equivalent to @xmath1236 . by lemma  [ prodsimp ] , this implies that @xmath6 is a @xmath139 bundle over @xmath139 .",
    "so assume instead that there are two symmetric facets , @xmath142 and @xmath1027",
    ". then @xmath1237 and @xmath1238 .",
    "since no edge in @xmath1048 can connect two vertices in the same symmetric facet , and @xmath142 and @xmath1027 each have @xmath111 vertices , there must be four edges that join @xmath142 to @xmath1027 and two edges that join each to the vertex in @xmath227 . by renumbering",
    ", we may assume that @xmath1239 , that the edges @xmath144 and @xmath1240 intersect @xmath142 but not @xmath1027 , and that @xmath1241 and @xmath1242 intersect @xmath1027 but not @xmath142 .",
    "since both @xmath142 and @xmath1027 are @xmath68 bundles over @xmath69 , this is only possible if the fiber facets of @xmath142 are @xmath1114 , @xmath1243 , and @xmath1244 , and the base facets @xmath1099 and @xmath1115 .",
    "similarly , the fiber facets of @xmath1027 are @xmath1245 , @xmath1246 , and @xmath1247 , and the base facets are @xmath1248 and @xmath1249 .",
    "this implies that the remaining four edges in @xmath1048 are @xmath1250 , and @xmath1251 .",
    "now let @xmath21 denote the outward conormal to the facet @xmath37 , and @xmath318 and @xmath683 denote the outward conormals to @xmath142 and @xmath1027 , respectively .",
    "since @xmath1252 and @xmath6 is smooth , there is a change of basis so that @xmath1253 , @xmath1254 , @xmath1255 , and @xmath1256 . since the fiber facets of @xmath142 are @xmath1114 , @xmath1243 , and @xmath1244 , we must have @xmath1257 for some integer @xmath1258 .",
    "similarly , @xmath1259 , for some integer @xmath1260 . since @xmath1261 , we may assume without loss of generality that @xmath1262 .",
    "the polygon @xmath590 has only three edges : @xmath1212 , @xmath1213 , and @xmath1090 .",
    "hence , it is the standard @xmath95-simplex , that is , @xmath1263 for some integers @xmath1264 and @xmath1265 .",
    "therefore , @xmath1266 .",
    "since @xmath1262 , @xmath1267 thus , the facets @xmath413 and @xmath414 are equivalent . by lemma  [ le : ea ]",
    ", this implies that there exists an inessential function @xmath150 so that the mass linear function @xmath1268 has the following property : @xmath413 is @xmath198-symmetric , but @xmath1043 , and @xmath1269 are @xmath198-asymmetric . since @xmath413 is pervasive by hypothesis , and @xmath6 has seven facets , @xmath413 has six facets .",
    "moreover , by proposition  [ prop : symcent ] , @xmath198 is mass linear on @xmath413 with at least three asymmetric facets .",
    "thus we may apply proposition [ prop:3d ] to @xmath413 .",
    "both the polytopes on this list with six facets are combinatorially equivalent to @xmath1270 .",
    "but we saw above that @xmath1271 is a base facet of @xmath142 and so is a triangle .",
    "this is impossible .",
    "hence this case also does not occur .",
    "* case ( b ) * : _ @xmath13 has six asymmetric facets , and each symmetric facet is @xmath274 . _    let @xmath142 be a symmetric facet . consider the slices",
    "@xmath1272 through @xmath13 parallel to @xmath142 .",
    "more precisely , consider how the the parallel planes @xmath1273 and @xmath1274 associated to opposite faces of the box come together as we move the slice through @xmath13 . if one ( or two ) of the pairs of planes come together before the other pairs ( or pair ) , then the remaining facets will not intersect .",
    "this contradicts the claim that they are pervasive .",
    "so assume that the three pairs of planes come together at the same time .",
    "since @xmath13 is simple this point can not lie in the polytope , that is , it must be cut off by some symmetric facet .",
    "but then none of the opposite pairs intersect , which again contradicts the claim that they are pervasive .",
    "thus , this case does not occur .",
    "this has a number of corollaries .",
    "[ cor:5plus ] in the situation of proposition [ prop:5plus ] every mass linear function on @xmath6 is inessential .    by corollary  [ cor:22bundle ] , all mass linear functions on @xmath139 bundles over @xmath139",
    "are inessential .",
    "similarly , every @xmath1 is inessential on @xmath140 .",
    "[ cor : asym1 ] let @xmath1 be a mass linear function on a @xmath8-dimensional smooth polytope @xmath0 .",
    "there is an inessential function @xmath195 such that @xmath151 has at most @xmath8 asymmetric facets .    by proposition  [ prop : flat ]",
    "( ii ) , we may assume without loss of generality that every asymmetric facet is pervasive . hence , proposition  [ prop:5plus ] implies that if @xmath13 has more than four asymmetric facets then either @xmath13 is the four - simplex @xmath140 , or it is a @xmath68 bundle over @xmath68 . in the first case ,",
    "every @xmath1 is inessential ; in the second case , the result follows from proposition  [ prop : bund ] .",
    "( alternately , @xmath9 is inessential by corollary  [ cor:5plus ] . )",
    "we now consider the final case .",
    "[ prop : nonperv ] let @xmath1 be a mass linear function on a smooth @xmath8-dimensional polytope @xmath19 .",
    "assume that at least one asymmetric facet is not pervasive .",
    "if @xmath13 has at most four asymmetric facets , @xmath9 is inessential .",
    "if @xmath13 has more than four asymmetric facets , then one of the following statements is true :    * @xmath6 is a @xmath88 bundle over @xmath69 ; * @xmath6 is a @xmath804-bundle ; * @xmath6 is a @xmath68 bundle over a polygon which is a @xmath69 bundle over @xmath69 ; or * @xmath6 is a @xmath121 bundle over the product @xmath1275 and @xmath9 is inessential ; moreover , either the base facets are the asymmetric facets or every facet is asymmetric and @xmath1276 .    by the first part of proposition [ prop : flat ] , @xmath6 is a bundle over @xmath121 .",
    "therefore , by proposition  [ prop : bund ] , we can write @xmath326 , where @xmath150 is an inessential function , the fiber facets are @xmath150-symmetric , and the two base facets are @xmath327-symmetric .    if at most four facets are @xmath9-asymmetric , then at most two facets are @xmath327-asymmetric .",
    "hence , @xmath327 ( and thus @xmath9 ) is inessential by proposition  [ prop:2asym ] .    on the other hand ,",
    "if at least five facets are @xmath9-asymmetric , then at least three facets are @xmath327-asymmetric .",
    "therefore , by proposition  [ prop : symcent ] , @xmath327 is mass linear on @xmath137 with at least three asymmetric facets .",
    "hence , we may apply proposition  [ prop:3d ] to @xmath137 .",
    "if @xmath1277 , @xmath137 is a @xmath69 bundle over @xmath68 , or @xmath137 is a @xmath68 bundle over @xmath69 then we are clearly in one of the first three cases listed above .",
    "so suppose that @xmath137 is a @xmath121 bundle over @xmath1278 and the base facets of @xmath137 are the @xmath327-asymmetric facets . repeating the argument above for each asymmetric facet , we see that @xmath6 is a @xmath121 bundle over @xmath1275 and the base facets of @xmath6 are the @xmath9-asymmetric facets .",
    "simillary , if @xmath137 is @xmath1275 and every facet of @xmath137 is @xmath327-asymmetric , then @xmath1276 and every facet of @xmath6 is @xmath9-asymmetric by a similar argument . in either case , proposition [ prop : flat ] ( ii )",
    "implies that @xmath6 supports no essential mass linear functions .",
    "[ cor : asym2 ] let @xmath1 be a mass linear function on a @xmath8-dimensional smooth polytope @xmath0 .",
    "the polytope @xmath13 has at most eight asymmetric facets .",
    "if it has eight then @xmath13 is the hypercube @xmath1279 , and @xmath9 is inessential .",
    "moreover , if it has exactly seven asymmetric facets then @xmath13 is the product @xmath1280 , where @xmath289 is a @xmath139 bundle over @xmath121 .",
    "assume that @xmath6 has at least seven asymmetric facets .",
    "proposition  [ prop:5plus ] shows that there exists an asymmetric facet which is not pervasive .",
    "hence proposition  [ prop : nonperv ] implies that @xmath6 is a @xmath804-bundle , a @xmath139 bundle over a polygon , or @xmath164 .",
    "therefore , the claim follows immediately from corollaries  [ cor : db ] and [ cor:7 ] .",
    "[ cor : asym3 ] let @xmath1 be a mass linear function on a @xmath8-dimensional smooth polytope @xmath0 so that every facet is asymmetric .",
    "then one of the following is true :    * @xmath13 is the four - simplex @xmath138 , * @xmath13 is a @xmath88 bundle over @xmath69 , * @xmath13 is a @xmath68 bundle over @xmath68 * @xmath13 is the product @xmath973 , where @xmath289 is a @xmath68 bundle over @xmath69 , or * @xmath13 is the product @xmath1281 .    by assumption , @xmath6 must have at least five asymmetric facets .",
    "if every asymmetric facet is pervasive , the claim follows immediately from proposition  [ prop:5plus ] . on the other hand , if there exists a asymmetric facet that is not pervasive , then proposition  [ prop : nonperv ] implies that @xmath6 is a @xmath120 bundle over @xmath121 , a @xmath804-bundle , a @xmath139 bundle over a polygon , or the product @xmath164 .",
    "therefore , the claim follows immediately from corollaries  [ cor : db ] and [ cor:7 ] .",
    "[ s : furth ]    this section contains several results that are not needed for the proof of the main theorem . ",
    "[ ss : min ] addresses the question of which of the polytopes @xmath108 in theorem [ thm:4d ] are minimal .",
    "then in  [ ss : fullml ] we use theorem [ thm:4d ] to show that in dimensions @xmath152 every mass linear function is fully mass linear . finally , in  [ ss : blml ]",
    "we discuss the question of which blowup operations preserve mass linearity , considering both vertex and edge blowups .",
    "additionally , we show that a vertex blowup never converts an inessential function to an essential one . on the other hand , edge blowups of type @xmath548",
    "may do this , but only if the underlying polytope is a double expansion .",
    "we now consider which of the polytopes @xmath108 in theorem [ thm:4d ] are minimal .",
    "in particular , we show that in most cases we can blow down @xmath13 in the two allowed ways to obtain a minimal polytope @xmath86 ; the exceptions occur in cases ( a2 ) and ( b ) .",
    "let @xmath1283 and @xmath1284 be the outward conormals to @xmath137 and @xmath1282 , respectively . by lemma  [ le : equiv ] , there exists a vector @xmath206 that is parallel to all the other facets .",
    "since @xmath13 is compact , @xmath1285 and @xmath1286 have opposite signs .",
    "therefore , @xmath1283 can not be written as the positive sum of outward conormals without including @xmath1283 itself .",
    "let @xmath13 be the @xmath88 bundle over @xmath69 associated to @xmath793 as in .",
    "by lemma  [ le : a1blow ] below , some facet of @xmath13 can be blown down exactly if @xmath1287 is the conormal to one of the fiber facets , that is , exactly if @xmath1288 is @xmath1289 , or @xmath1290 . by corollary  [ cor : mabc ] , none of these bundles admit essential mass linear functions .",
    "[ le : a1blow ] let @xmath13 be a @xmath88 bundle over @xmath69 .",
    "the base facets can not be blown down , and a fiber facet @xmath137 with outward conormal @xmath1283 can be blown down exactly if @xmath1291 , where @xmath689 and @xmath690 are the outward conormals to the base facets . in that case",
    "@xmath6 is the blowup of a @xmath8-simplex .",
    "let @xmath1067 and @xmath1084 be the base facets , and let @xmath403 be the fiber facets with outward conormals @xmath1201 .",
    "note that , for example , @xmath411 is a @xmath68 bundle over @xmath69 with fiber facets @xmath1292 , and @xmath415 and with base facets @xmath1293 and @xmath1294 .",
    "therefore , by proposition  [ prop : blowdown ] , @xmath411 can not be blown down unless either @xmath1295 or @xmath1296 .",
    "since the first equation does not hold , let us assume that @xmath1296 .",
    "then the two facets @xmath1293 and @xmath1294 of @xmath411 are parallel , and so , we can also view @xmath411 as a ( trivial ) @xmath69 bundle over @xmath68 with _ fiber _ facets @xmath1293 and @xmath1294 .",
    "thus , conditions ( i ) and ( ii ) of proposition  [ prop : blowdown ] are both satisfied .",
    "finally , since @xmath1297 is nonempty , condition ( iii ) is vacuous .",
    "therefore the claims in the first sentence hold .",
    "the last statement holds because @xmath138 is the only @xmath8-dimensional polytope with @xmath153 facets .",
    "in contrast , as we show in the next lemma , there exist polytopes of type ( a2 ) that admit essential mass linear functions but are not minimal .",
    "note that , in most cases , the blowup described below is not one of the two types allowed in the main theorem .",
    "[ le : a2blow0 ] let @xmath19 be a @xmath88 bundle over @xmath69 with fiber facets @xmath403 .",
    "let @xmath1 be a mass linear function on @xmath13 such that @xmath411 is symmetric .",
    "the blowup @xmath75 of @xmath13 along the edge @xmath1241 is a @xmath804-bundle ; ( see definition  [ def:121 ] ) .",
    "moreover , @xmath9 is a mass linear function on @xmath75 .",
    "finally , @xmath9 is inessential on @xmath75 exactly if it is inessential on @xmath13 .",
    "the first claim is easy . to prove the second ,",
    "decompose @xmath13 as @xmath1298 , where @xmath498 is also a @xmath88 bundle over @xmath69 . because the exceptional divisor is parallel to @xmath411 , the polytope @xmath498 is analogous to @xmath6 .",
    "since @xmath411 is symmetric , this implies that @xmath1299 thus @xmath9 is mass linear on @xmath1300 by lemma [ le : newblow ] .",
    "finally , by lemma  [ le : bund](iii ) , the base facets of @xmath13 are not equivalent to any fiber facet . hence , lemma  [ le : blowequiv ] implies that two asymmetric facets are equivalent in @xmath13 exactly if the corresponding facets of @xmath75 are equivalent , and the exceptional divisor @xmath515 is not equivalent to any other facet . by the definition of inessential and proposition  [",
    "prop : inessential ] , this proves the last claim .",
    "we next show that all other polytopes @xmath169 of type ( a2 ) that admit essential mass linear functions are minimal .",
    "we write @xmath169 as in and denote by @xmath469 the facet with outward conormal @xmath1301 , and by @xmath1302 the facet with outward conormal @xmath1303 .",
    "[ prop : a2blow ] let @xmath9 be an essential mass linear function on a @xmath804-bundle @xmath169 that is the blowup of another polytope @xmath13 . then @xmath9 is an essential mass linear function on @xmath6 and @xmath13 is a @xmath88 bundle over @xmath1304 further , exactly three of the fiber facets of @xmath6 are asymmetric , and the blowup is along the intersection of those three facets .",
    "write @xmath169 as in equation  . by proposition [ prop : flat ] we may subtract an inessential function from @xmath9 to get an essential function @xmath327 such that the four nonpervasive facets are @xmath327-symmetric , but each pervasive facet is @xmath327-symmetric exactly if it is @xmath9-symmetric .",
    "since the fiber facets @xmath816 and @xmath353 are @xmath327-symmetric , proposition  [ prop : lift ] implies that @xmath327 is the lift of an essential mass linear function on the base of @xmath75 .",
    "hence , since the base of @xmath75 is the @xmath139 bundle over @xmath121 associated to @xmath809 , proposition  [ dkoverd1 ] implies that @xmath814 and the three non - pervasive facets @xmath1305 and @xmath1306 are @xmath327-asymmetric , and hence @xmath9-asymmetric . therefore by lemma [ le : a2blow ] below , @xmath1307 , @xmath6 is a @xmath120 bundle over @xmath121 , and the blowup is along the intersection of the three fiber facets of @xmath6 corresponding to @xmath1308 and @xmath1309 . by lemma [ le : blowcent](ii )",
    ", @xmath9 is mass linear on @xmath6 , and all the claims in the last sentence hold .",
    "finally , @xmath9 is essential on @xmath6 by lemma  [ le : a2blow0 ] .",
    "[ le : a2blow ] suppose that the @xmath804-bundle @xmath169 of equation is the blowup of a polytope @xmath6 . if @xmath814 , then @xmath1310 and @xmath13 is the @xmath88 bundle over @xmath69 associated to @xmath1311 .",
    "moreover the blowup is along the intersection of the three fiber facets of @xmath6 corresponding to the facets @xmath1308 and @xmath1309 of @xmath169 .    since @xmath1312 , neither",
    "facet can be blown down by lemma  [ le : noblow ] .",
    "next , fix @xmath1313 , and observe that @xmath469 is a @xmath69 bundle over a trapezoid .",
    "the three non - intersecting pairs of facets of @xmath469 are @xmath1314 and @xmath1315 , @xmath1316 and @xmath1317 where @xmath1318 , and @xmath1319 and @xmath1320 .",
    "it is easy to check that @xmath1321 and @xmath1322 .",
    "further , because @xmath814 , we also have @xmath1323 .",
    "hence , proposition  [ prop : blowdown ] implies that @xmath469 can not be blown down .",
    "so fix @xmath1324 , and assume that @xmath1302 can be blown down .",
    "note that @xmath1302 is a @xmath68 bundle over @xmath69 with fiber facets @xmath1325 and base facets @xmath1326 and @xmath1327 .",
    "moreover , since @xmath1328 , @xmath1329 .",
    "therefore , proposition  [ prop : blowdown ] implies that @xmath75 is the blowup of @xmath13 along the edge @xmath1241 , which ( is not empty and ) meets @xmath1269 and @xmath1330 .",
    "( here , @xmath37 is the facet of @xmath13 such that @xmath1331 . ) in particular , @xmath1332 . since @xmath1333 by assumption",
    ", this implies that @xmath1334 and @xmath1307 .",
    "therefore , @xmath13 is the @xmath1335 bundle over @xmath69 associated to @xmath1311 , and the blowup is along three of its fiber facets .",
    "[ rmk : a2blow ] lemma [ le : a2blow ] shows that if @xmath1336 , then the @xmath804-bundle @xmath169 of equation   is minimal unless @xmath1310 . in other words",
    "@xmath75 can not be blown down unless the sum of the outward conormals to its three pervasive facets is the outward conormal to a fiber facet . however , this condition is not sufficient because condition ( iii ) in proposition [ prop : blowdown ] may fail for certain values of @xmath30 . here",
    "the base facets of @xmath816 are given by its intersection with @xmath1337 and @xmath1338 , and these facets may intersect when we remove @xmath816 ; figure [ fig:2 ] illustrates a similar @xmath67-dimensional situation in which @xmath139 is replaced by @xmath121 .",
    "we next consider polytopes of type ( a3 ) , that is , @xmath139 bundles over polygons .",
    "as we show below , every polytope of type ( a3 ) that admits an essential mass linear function can be obtained from a minimal polytope of type ( a3 ) that admits an essential mass linear function by a series of blowups along symmetric @xmath95-faces . however , these minimal polytopes may have arbitrarily many facets .    [ le:3depblow ]",
    "let @xmath13 be a @xmath139 bundle over a polygon @xmath62 .",
    "let @xmath1339 be the base facets of @xmath6 , and let @xmath553 be the outward conormal to @xmath554 for all @xmath221 .",
    "assume that the edges of @xmath62 corresponding to @xmath554 and @xmath1340 are adjacent for all @xmath221 .",
    "( we interpret the @xmath554 in cyclic order . )",
    "then @xmath868 can be blown down exactly if @xmath1341 . in this case",
    ", @xmath13 is the blowup of a polytope @xmath86 along the face @xmath1342 .",
    "let @xmath411 , @xmath563 , and @xmath413 be the fiber facets of @xmath6 .",
    "the facet @xmath868 is a @xmath68 bundle over @xmath69 with fiber facets @xmath1343 , @xmath1344 , and @xmath872 , and with base facets @xmath873 and @xmath874 .",
    "so assume instead that @xmath1347 .",
    "in this case , we can also consider @xmath142 as a ( trivial ) @xmath69 bundle over @xmath68 , and condition ( ii ) in proposition  [ prop : blowdown ] is clearly satisfied .",
    "moreover , since @xmath1348 and since @xmath1349 for any @xmath1350 condition ( iii ) is also satisfied .",
    "hence the claim follows from proposition  [ prop : blowdown ] .",
    "note that the edge of @xmath62 associated to @xmath868 can be blown down exactly if @xmath1351 , that is the vector @xmath1352 lies in the span of the fiber conormals .",
    "the condition @xmath1341 given above is stronger ; it also implies that the bundle @xmath919 is trivial when restricted to @xmath868 .",
    "[ prop:3depblow ] let @xmath1 be an essential mass linear function on a polytope @xmath1353 that is a @xmath68 bundle over a polygon @xmath1354 .",
    "then there exists a _",
    "polytope @xmath6 so that @xmath9 is essential on @xmath6 and @xmath169 can be obtained from @xmath6 by a series of blowups along symmetric @xmath95-faces ; moreover , @xmath6 is a @xmath68 bundle over a polygon @xmath62 .",
    "let @xmath1355 be the base facets of @xmath169 .",
    "assume that they are labelled so that the edges of @xmath1354 corresponding to @xmath868 and @xmath1356 are adjacent for all @xmath220 , where @xmath1357 .",
    "let @xmath1188 be the outward conormal to @xmath868 for all @xmath220 .",
    "first assume that @xmath1358 for all @xmath220 .",
    "by lemma  [ le:3depblow ] , this implies that none of the base facets can be blown down . by lemma  [ le : a3fiber ]",
    ", the fiber facets can not be blown down either .",
    "therefore @xmath169 is minimal and the claim holds with @xmath1359 .    so assume instead that @xmath1341 for some @xmath220 . by lemma  [ le:3depblow",
    "] , this implies that there exists a polytope @xmath6 which is a @xmath68 bundle over a polygon @xmath62 so that @xmath169 can be obtained from @xmath6 by blowing up along the intersection of two base facets . by proposition  [ prop :",
    "polybundle ] , since @xmath9 is essential the fiber facets of @xmath169 are all asymmetric .",
    "hence , by part ( ii ) of lemma  [ le : blowcent ] , @xmath9 is mass linear on @xmath6 and the fiber facets of @xmath6 are also asymmetric .",
    "hence , by proposition  [ prop : polybundle ] , @xmath9 is essential on @xmath6 . by corollary  [ cor:22bundle ] , this is impossible if @xmath62 has three edges . since this implies that @xmath1354 has at least five edges , there are no nonzero inessential mass linear functions on @xmath1354 by proposition  [ prop:2dim ] . hence , proposition  [ prop : polybundle ] and lemma  [ le : blowcent ] ( ii ) imply that the base facets of @xmath6 are symmetric .",
    "thus , the blowup is along a symmetric @xmath95-face , as required .",
    "the result now follows by induction .",
    "start with the polygon @xmath68 with facets @xmath1361 , and @xmath1362 with outward conormals @xmath1363 , @xmath1364 , and @xmath1365 , respectively . then form a polygon @xmath62 with @xmath1366 sides by first blowing up along @xmath1367 , and every subsequent time blowing up along the intersection of the new exceptional divisor and @xmath697 .",
    "then @xmath62 has edges @xmath1368 , where @xmath1369 are the edges that are formed by the successive blowup operation .",
    "( thus they are labelled in order of adjacency . )",
    "let @xmath1370 be the polynomial which gives the area of @xmath1371 for all @xmath1372 .",
    "the blowup which introduces @xmath1373 for @xmath1374 is performed by cutting out a triangle with affine side length @xmath1375 .",
    "hence @xmath1376    let @xmath1377 , @xmath1378 and @xmath1379 .",
    "fix integers @xmath921 and @xmath902 such that @xmath1380 , and define @xmath1381 these can be used to construct a polytope @xmath13 which is a @xmath68 bundle over @xmath257 with the outer conormals to the fiber and base facets given by equations   and , respectively .",
    "since @xmath907 and @xmath1380 , @xmath13 admits an essential mass linear function by proposition  [ prop : polybundle ] .",
    "finally , by equations   and , and lemma  [ le:3depblow ] , the base facet of @xmath13 associated to the edge @xmath826 of @xmath257 can not be blown down unless the edge @xmath826 itself can be blown down and @xmath1382 .",
    "( here , as always , we use cyclic order on the edges .",
    ") however , if @xmath1383 then @xmath697 and @xmath1384 are the only edges of @xmath257 that can be blown down ; if @xmath1385 only @xmath698 can be blown down . since @xmath1386 and @xmath1387 for all @xmath43 ,",
    "this implies that none of the base facets of @xmath13 can be blown down .",
    "the claim then follows from lemma  [ le : a3fiber ] .",
    "finally , we consider polytopes of type ( b ) , that is , double expansions of polygons . as we see below , every polytope of type ( b ) can be obtained from a minimal polytope of type ( b ) by a series of blowups . as in the previous case",
    ", these minimal polytopes may have arbitrarily many facets .      * if @xmath1390 can not be blown down for any @xmath1391 , then @xmath169 is minimal . *",
    "in contrast , if @xmath1388 is the blowup of a polygon @xmath63 with exceptional divisor @xmath1390 for some @xmath1391 , let @xmath6 be the double expansion of @xmath63 along the edges @xmath1392 and @xmath1393 .",
    "then @xmath169 is the blowup of @xmath6 along a face of one of the following three types : * * the intersection of two fiber - type facets . * * the intersection of a fiber - type facet with either @xmath1394 or @xmath1395 . * * the vertex @xmath1396 . + here , @xmath985 and @xmath986 ( @xmath987 and @xmath988 ) are the base - type facets of @xmath169 associated to @xmath353 ( respectively , @xmath395 ) .",
    "let @xmath1397 be inclusion into the first two coordinates , and let the outward conormals to the edges @xmath1398 of the polygon @xmath1388 be @xmath1399 .",
    "then the conormal to the fiber - type facet @xmath38 of @xmath169 associated to @xmath1302 is @xmath1400 for @xmath1401 , and the conormals to the base - type facets @xmath995 are @xmath1402 by remark  [ rmk : dint ] ( ii ) and lemma  [ le : noblow ] , none of the base - type facets can be blown down .",
    "now fix @xmath1403 , and assume that the fiber - type facet @xmath38 can be blown down .",
    "let @xmath394 and @xmath1404 be the edges of @xmath63 that meet @xmath1302 .",
    "assume first that @xmath43 and @xmath538 are both greater than @xmath95 .",
    "then @xmath38 is a @xmath69 bundle over @xmath270 , with opposite base facets given by its intersections with @xmath985 and @xmath986 , and with @xmath987 and @xmath988 , and with fiber facets @xmath1405 and @xmath1406 . since @xmath1407",
    ", we have @xmath1408 ; similarly , @xmath1409 . therefore , by proposition  [ prop : blowdown ]",
    ", @xmath126 must be equal to @xmath1410 , and so @xmath1302 blows down in @xmath1388 .",
    "next suppose that @xmath1411 and @xmath1412 .",
    "then @xmath38 is a @xmath139 bundle over @xmath121 with fiber facets @xmath1413 and @xmath1414 , and base facets @xmath1415 and @xmath1416 .",
    "since the equation @xmath1417 is never satisfied , proposition  [ prop : blowdown ] implies that @xmath1418 .",
    "hence @xmath1419 so that @xmath1302 blows down in @xmath1388 .",
    "finally suppose that @xmath1420 and @xmath1421 .",
    "then @xmath38 is a @xmath67-simplex with facets @xmath1422 for @xmath1423 .",
    "therefore , in this case proposition  [ prop : blowdown ] implies that @xmath1424 . once again",
    ", this implies that @xmath1302 blows down in @xmath1388 .",
    "this proves ( i ) .",
    "[ prop:4indepblow ] let @xmath1425 be the double expansion of a polygon",
    ". then @xmath75 can be obtained from a _ minimal _",
    "polytope @xmath13 that is also the double expansion of a polygon by a series of blowups",
    ". moreover , if @xmath1 is an inessential function on @xmath169 and the asymmetric facets are the base - type facets , then    * @xmath9 is also an inessential function on @xmath6 , * the asymmetric facets of @xmath6 are the base - type facets , and * each blowup is either one of the two types permitted in theorem  [ thm:4d ] or is at the vertex formed by the intersection of the four asymmetric facets .      [ prop:4indepblown ] for any @xmath1426 there exists a minimal polytope @xmath19 that has @xmath118 facets , is the double expansion of a polygon @xmath63 , and admits an inessential function @xmath1 so that the asymmetric facets are the base - type facets .",
    "moreover , when @xmath1427 or @xmath1428 we can choose @xmath13 so that @xmath9 is essential on a polytope @xmath1425 that can be obtained from @xmath13 by a sequence of blowups , where each blowup is either along a symmetric face or of type @xmath975 . when @xmath118 is @xmath153 or @xmath110 the previous statement holds only if we also allow blowups at the point where the four base - type facets intersect .    start with the simplex @xmath68 with facets @xmath697 , @xmath1429 , and @xmath1362 . then form a polygon @xmath63 with @xmath1430 by first blowing up along @xmath1367 and every subsequent time blowing up along the intersection of the new exceptional divisor and @xmath697 as in the proof of proposition [ prop:3depblown ] .",
    "if @xmath1431 ( and @xmath1432 ) let @xmath13 be the double expansion of @xmath63 along @xmath1384 and @xmath697 ; otherwise let @xmath13 be the double expansion of @xmath63 along @xmath698 and @xmath1433 . if @xmath1431 , then @xmath697 and @xmath1384 are the only edges of @xmath63 that can be blown down ; if @xmath1434 then no edge can be blown down ; otherwise , @xmath698 is the only edge that can be blown down .",
    "therefore , @xmath13 is minimal by lemma  [ le:4indepblow ] , and it admits an inessential mass linear function so that the asymmetric facets are the four base - type facets by lemma  [ le : dexpan0 ] .",
    "this proves the first claim .    to prove the second claim ,",
    "observe that if @xmath1435 then proposition  [ prop : essblow2 ] implies that there is a blowup @xmath169 of @xmath6 with the required properties .",
    "however , this argument does not work when @xmath1383 since we expanded along adjacent edges @xmath1436 in order to make @xmath6 minimal .",
    "in fact every polygon @xmath63 with @xmath153 edges is a blowup of a trapezoid and so always has two adjacent edges that can be blown down .",
    "therefore , if @xmath1434 or @xmath153 proposition  [ prop : essblow ] implies that there can not be a blowup @xmath169 of @xmath6 with the required properties . on the other hand ,",
    "if we allow vertex blowups then we can find such a blowup for @xmath1434 or @xmath153 by remark  [ rmk : vertexblow ] .",
    "this proves the final claim .",
    "[ rmk : blowess](i ) in this section , we have shown that each polytope @xmath108 described in case ( a ) of theorem  [ thm:4d ] is the blowup of a minimal polytope of type ( a ) , and that each polytope @xmath108 described in case ( b ) is the blowup of a minimal polytope of type ( b ) .",
    "more specifically , proposition  [ prop : a1blow ] shows that polytopes of type ( a1 ) with an essential mass linear function are minimal , while proposition [ prop:3depblow ] shows that a polytope of type ( a3 ) that admits an essential mass linear function can be obtained from a minimal polytope with the same properties by a series of blowups along symmetric @xmath95-faces .",
    "in contrast , by proposition [ prop : a2blow ] , a polytope of type ( a2 ) with an essential mass linear function may be the blowup of a minimal polytope along the intersection of the three asymmetric fiber facets  not one of the types permitted in theorem  [ thm:4d ] . finally ,",
    "if we assume that @xmath9 is inessential on @xmath108 , that the polytope @xmath108 is the double expansion of a polygon , and that the asymmetric facets are the base - type facets as in case ( b ) , then we may conclude from proposition [ prop:4indepblow ] that @xmath108 is the blowup of a minimal polytope with the same properties . however , one blowup may be along the vertex formed by the intersection of the four asymmetric base - type facets , which is not one of the types permitted in theorem  [ thm:4d ] .",
    "\\(ii ) by remark [ rmk : a2blow ] , in the case ( a2 ) necessary and sufficient conditions for @xmath108 to be minimal depend on @xmath30 . but",
    "this is not true in the cases ( a3 ) and ( b ) . in case ( a3 )",
    "the facets @xmath1437 and @xmath413 have a very simple intersection pattern , which forces the troublesome condition ( iii ) in proposition [ prop : blowdown ] to hold . in case",
    "( b ) , on the other hand , there is no choice for the relevant components of @xmath30 : in an expansion the components of @xmath30 corresponding to the base facets are determined by the structural constants of the fiber .",
    "we now discuss a strengthening of the mass linear condition proposed by shelukhin in @xcite : namely ,  fully mass linear . \" in this subsection , we prove that every mass linear function on a polytope of dimension at most four also satisfies this stronger condition .    as we mentioned in the discussion just before question [ q : ml ] ,",
    "if @xmath9 generates a loop that lies in the kernel of the homomorphism @xmath1438 then @xmath9 is fully mass linear .",
    "therefore the class of fully mass linear functions may be more natural than the class of mass linear functions .",
    "[ def : full ] let @xmath0 be an @xmath165-dimensional polytope , and for @xmath1439 denote by @xmath1440 the barycenter ( center of mass ) of the union of the @xmath43-dimensional faces of @xmath6 . thus @xmath1441 and @xmath1442 is the average of the vertices of @xmath6 .",
    "then @xmath31 is said to be * fully mass linear * on @xmath6 if @xmath1443 further , we say that @xmath1 is * generated by the vector * @xmath1444 if @xmath1445    the coordinates of @xmath1442 are linear functions of @xmath30 .",
    "thus , if @xmath1446 then @xmath9 is mass linear on @xmath6 ; in particular , every fully mass linear function is mass linear . a priori",
    ", the converse may not hold .",
    "for example , the three barycenters @xmath1447 and @xmath1448 of a generic trapezoid are distinct",
    ". however , we do not know any of counterexamples , and it does hold in dimension at most four .          it suffices to consider the case when @xmath1449 where @xmath229 . by remark [ rmk : equiv ] , since @xmath229 there is a vector @xmath743 that is parallel to all facets except for @xmath37 and @xmath38 .",
    "it follows easily that the affine reflection in the plane @xmath1450 preserves @xmath6 .",
    "thus all the barycenters @xmath1451 lie on the plane @xmath1452 that is fixed by this reflection .",
    "moreover , the integrality conditions on the conormal vectors @xmath21 imply that @xmath1453 ; see part i , lemma 3.4 . hence @xmath9 is generated by @xmath747 .",
    "we prove proposition  [ prop : fullml ] by showing that all the mass linear pairs @xmath148 described in proposition  [ prop:3d ] and theorem [ thm:4d ] are fully mass linear .",
    "the following basic result is taken from mcduff @xcite .",
    "[ rmk : sum ] since inessential functions have the property that @xmath1456 one could prove this corollary by induction on the dimension provided that question [ q:1 ] has a positive answer . for then , after subtracting an inessential function",
    ", we can assume that every mass linear @xmath9 has a symmetric facet @xmath142 and use the fact that the coefficients of @xmath9 are the same as those for @xmath1459 .",
    "this is the approach taken in part i to prove @xmath1460 in dimension @xmath67 ( cf .",
    "proposition  [ prop:3d ] ) , and by [ i , theorem a.9 ] it works also in dimension @xmath8 .    [ le : full1 ] let @xmath1 be a mass linear function on an @xmath165-dimensional polytope @xmath0 , where @xmath13 is a @xmath44 bundle over @xmath121 , a @xmath804-bundle , or a @xmath139-bundle over a polygon @xmath62",
    ". then @xmath1461    by lemma  [ le : full0 ] , it suffices to show that @xmath9 is generated by some @xmath1462 .",
    "moreover , recall from lemma  [ le : fullinessential ] that every inessential function @xmath195 is generated by some vector in @xmath15 .",
    "hence , we may subtract any convenient inessential function .",
    "we now check case by case that there is a suitable vector @xmath747 .",
    "first suppose that @xmath6 is a @xmath44 bundle @xmath289 over @xmath121 , as in . by proposition [ dkoverd1 ] , after possibly subtracting an inessential function , we may assume that @xmath1463 , where @xmath1464 ; moreover , @xmath1465 therefore , if @xmath1466 then @xmath1467 that is , @xmath9 is generated by @xmath747 .      finally , let @xmath6 be a @xmath139 bundle over a polygon @xmath63 , as in . by proposition  [ prop : polybundle ] , we may assume that @xmath1472 , where @xmath1473 and @xmath1474 for each edge @xmath1373 of @xmath63 ; moreover , @xmath1475 hence , @xmath9 is generated by @xmath1476 .      by lemma  [ le : fullinessential ] ,",
    "every inessential function is fully mass linear .",
    "moreover , by propositions  [ prop:2dim ] and [ prop:3d ] , the only polytope of dimension at most three that supports an essential mass linear function @xmath9 is a @xmath139 bundle over @xmath121 .",
    "hence , the claim follows from part ( i ) of lemma [ le : full0 ] and the first case of lemma  [ le : full1 ] .",
    "[ le : f0 ] let @xmath1 be a mass linear function on an @xmath165-dimensional polytope @xmath13 .",
    "let @xmath1477 be the set of edges that lie on at least one symmetric facet .",
    "assume that @xmath1479 is fully mass linear on @xmath168 for every symmetric face @xmath168 .",
    "then @xmath1480    let @xmath168 be any symmetric @xmath43-face .",
    "since @xmath1481 by assumption , proposition  [ prop : symcent ] implies that @xmath1482 . by induction on @xmath43 ,",
    "this implies that @xmath1483 , where @xmath1484 is the set of edges that lie on @xmath168 but do not lie on any smaller symmetric face .",
    "the result follows immediately .",
    "[ le : f1 ] let @xmath1 be a mass linear function on an @xmath165-dimensional polytope @xmath0 .",
    "if @xmath6 is a @xmath44 bundle over @xmath121 , a @xmath804-bundle , or a @xmath139-bundle over a polygon @xmath62 , then @xmath1485      first suppose that @xmath6 is a @xmath44 bundle @xmath289 over @xmath121 , as in . by proposition  [ dkoverd1 ] , after possibly subtracting an inessential function , we may assume that @xmath1486 moreover @xmath1487 .",
    "in particular , in coordinates we have @xmath1488    divide the edges of @xmath289 into two groups @xmath1489 and @xmath1490 , where @xmath1489 consists of those edges that lie in one of the base facets , and @xmath1490 consists of the remaining edges , which are parallel to the last coordinate axis @xmath1491 .",
    "the base facets are symmetric .",
    "therefore , by lemma  [ le : f0 ] , @xmath1492 let @xmath1493 and @xmath1494 . there are @xmath1495 edges in @xmath1490 , one over @xmath1496 of length @xmath737 , and one over the vertex @xmath1497 at @xmath1498 of length @xmath1499 for all @xmath1500 .",
    "therefore , @xmath1501 for some constant @xmath1264 .",
    "thus , @xmath1502 together , and imply that @xmath1503 , as required .",
    "next , suppose that @xmath6 is a @xmath804-bundle as in . by proposition  [ prop : doublebundle ] , after possibly subtracting an inessential function , we may assume that the @xmath6 has only three asymmetric facets : @xmath1504 , and @xmath1505 .",
    "since these facets do not intersect , every edge of @xmath6 lies on at least one symmetric facet .",
    "moreover , the restriction @xmath1479 is fully mass linear on every symmetric face @xmath168 by corollary  [ cor : f1 ] .",
    "therefore , the claim follows immediately from lemma  [ le : f0 ] .",
    "finally , assume that @xmath6 is @xmath139 bundle over @xmath63 .",
    "by proposition  [ prop : polybundle ] , after possibly subtracting an inessential function we may again assume that @xmath6 has only three asymmetric facets , and that these facets do not intersect .",
    "the argument follows exactly as above .",
    "[ le : f4 ] let @xmath9 be a totally mass linear function on a polytope @xmath6 and suppose that @xmath169 is a blowup of @xmath6 either of type @xmath548 , or along a symmetric face @xmath168 such that @xmath1479 is inessential . then @xmath9 is totally mass linear on @xmath169 .",
    "if @xmath168 is symmetric , we saw in the proof of lemma  [ le : symblow ] that @xmath1508 and the restriction of @xmath9 to @xmath498 is the lift of @xmath1479 from @xmath168 to @xmath498 .",
    "hence , both claims follow from proposition  [ prop : lift ] . on the other hand , if @xmath75 is a blowup of type @xmath1509 , then both claims are explicitly proved in the penultimate paragraph of proposition  [ prop : blow4 ] .    in either case , by proposition  [ prop : symcent ] and lemma  [ le : newblow ] , claim ( 1 ) implies that @xmath1510 moreover , since @xmath515 is symmetric , claim ( 2 ) and remark [ rmk : symcent ] imply that @xmath9 is also inessential on @xmath515 , and so @xmath9 is fully mass linear on both @xmath498 and @xmath515 by lemma  [ le : full0 ] .",
    "hence , the equation above implies that @xmath1511    in either case , let us first consider the effect of blowing up on @xmath1512 .",
    "each edge of @xmath6 which does not meet @xmath168 is an edge of @xmath1513 .",
    "the edges of @xmath1514 which meet @xmath168 are cut by the hyperplane @xmath524 containing @xmath515 into two pieces , one of which is an edge of @xmath1515 , and the other an edge of @xmath1513 .",
    "finally , each edge of @xmath168 is an edge of @xmath1515 .",
    "the remaining edges of @xmath498 and @xmath169 lie in @xmath515 .",
    "therefore @xmath1516 where @xmath1517 denotes the sum of the lengths of the edges of @xmath1056 .",
    "moreover , by the additivity of the @xmath9-moment , we have @xmath1518 since @xmath1519 , the last three displayed equations above imply that @xmath1520 . a nearly identical argument  but with @xmath220-faces instead of edges  implies that @xmath1521 for all @xmath220 .",
    "* proof of proposition [ prop : fullml].*this holds by combining theorem [ thm:4d ] with lemmas [ le : fullinessential ] , [ le : full1 ] , [ le : f1 ] and [ le : f4 ] .",
    "note that we can always apply lemma [ le : f4 ] because proposition  [ prop:2dim ] implies that the restriction of @xmath9 to a symmetric @xmath95-face is inessential .",
    "@xmath1522      [ ss : blml ] we end with a general discussion about the effect of blowing up on mass linearity .",
    "lemma  [ le : blowcent ] shows that if a mass linear function on a polytope remains mass linear on its blowup along a face @xmath168 , the face @xmath168 must meet all the asymmetric facets .",
    "the following example shows that this condition is not sufficient .",
    "let @xmath138 be the @xmath8-simplex and let @xmath1523 , where @xmath1524 and @xmath1525 are the outward conormals to the facets of @xmath138 .",
    "the blowup @xmath169 of @xmath120 along the edge @xmath144 is a @xmath139 bundle over @xmath139 with base facets @xmath1526 and @xmath1527 , where @xmath1528 for all @xmath220 .",
    "then @xmath9 is mass linear on @xmath138 and @xmath144 meets all asymmetric facets .",
    "however , by proposition  [ prop : polybundle ] @xmath9 is mass linear on @xmath169 exactly if @xmath1529 .",
    "[ blowsimp ] let @xmath1 be mass linear on a polytope @xmath0 .",
    "let @xmath169 be the blowup of @xmath6 along a face @xmath83 which meets every asymmetric facet of @xmath6 , and assume that @xmath1531 .",
    "write @xmath492 ; if @xmath83 is a simplex and @xmath9 is mass linear on @xmath498 , then @xmath9 is mass linear on @xmath169 .",
    "let @xmath1533 be the set of facets that meet @xmath83 , and let @xmath1534 be the outward conormal to @xmath537 for all @xmath538 . since by hypothesis every asymmetric facet meets @xmath83 , we may write @xmath1535 . because @xmath1536 by corollary [ cor : full0 ] , our hypotheses imply that @xmath1537 where @xmath1538 .",
    "there is a facet @xmath1539 of @xmath498 with outward conormal @xmath1540 ( corresponding to the exceptional divisor in @xmath75 ) ; the remaining facets of @xmath498 are @xmath1541 . since @xmath9 is mass linear on @xmath498 , we may write @xmath1542 .",
    "additionally , observe that @xmath498 is a @xmath499 bundle over @xmath83 ; cf .",
    "remark [ rmk : blowint ] .",
    "its fiber facets are @xmath593 and @xmath1543 ; its base facets are @xmath1544 .",
    "therefore there is precisely one linear relation among the conormals @xmath1545 ; it has the form @xmath1546 moreover , by proposition [ prop : bund ] and corollary  [ cor : full0 ] we have @xmath1547    next , note that by lemma [ le : hsum ] , @xmath1548 and @xmath1549 .",
    "hence , since @xmath1540 , if we use equation to write @xmath1550 for some @xmath1551 , we see that @xmath1552 since the vectors @xmath1553 are linearly independent , this implies that @xmath1554 for all @xmath1555 , and @xmath1556 for all @xmath433 . since @xmath1557",
    ", the first equation implies that @xmath1558 for all @xmath1555 .",
    "hence , since @xmath1559 , the second equation implies that @xmath1560 and @xmath1561 for all @xmath433 .",
    "therefore @xmath1562 as claimed .",
    "[ cor : blowv ] let @xmath9 be a mass linear function on @xmath6 and @xmath26 any vertex of @xmath6 . then @xmath9 is mass linear on the blowup @xmath169 of @xmath6 at @xmath26 exactly if @xmath26 lies on all asymmetric facets of @xmath6",
    ". moreover , if @xmath9 is inessential on @xmath6 then it is inessential on the blowup .",
    "if @xmath83 is a vertex then @xmath498 is a simplex so that all @xmath9 are mass linear on @xmath498 .",
    "moreover , the equality @xmath1563 holds by corollary [ cor : full0 ] .",
    "therefore if @xmath26 lies on all asymmetric facets @xmath9 is mass linear on @xmath169 by lemma [ blowsimp ] .",
    "the converse follows from lemma  [ le : blowcent ] .",
    "this proves the first claim .",
    "the second follows from lemma [ le : inessblow ] .",
    "now consider the case when @xmath83 is an edge that meets every asymmetric facet , and assume that @xmath1531 .",
    "then @xmath498 is a @xmath499 bundle over @xmath121 , and so proposition  [ dkoverd1 ] implies that @xmath9 is mass linear on @xmath498 ( and hence @xmath75 ) exactly if @xmath1564 .",
    "it turns out that this condition , which involves the relative slope of the two facets transverse to @xmath83 , is satisfied whenever @xmath9 is * generated by * @xmath747 in the sense of definition [ def : full ] .",
    "[ le : blowedge ] let @xmath1 be a mass linear function on a polytope @xmath0 .",
    "let @xmath75 be the blowup of @xmath13 along an edge @xmath83 which meets every asymmetric facet of @xmath13 , and assume that @xmath1531 .",
    "if @xmath9 is generated by some @xmath1565 , then @xmath9 is mass linear on @xmath169 , and is generated on @xmath169 by the same vector @xmath747 .",
    "number the facets of @xmath6 so that @xmath1566 and so that the two facets of @xmath6 that are transverse to the edge @xmath83 are @xmath1567 and @xmath1568 .",
    "choose coordinates so that @xmath1569 for @xmath1570 .",
    "then @xmath1571 for some @xmath1572",
    ". moreover , these facets , together with the facet @xmath593 corresponding to the exceptional divisor of @xmath75 , are the facets of @xmath498 .    by lemma  [ le : hsum ] .",
    "@xmath1573 . by assumption ,",
    "@xmath1574 for all @xmath220 ; therefore , @xmath1575 .",
    "moreover , since @xmath1576 by hypothesis and @xmath1577 by corollary [ cor : full0 ] , we have @xmath1578 thus @xmath1579 by proposition [ dkoverd1 ] .",
    "hence lemma [ blowsimp ] implies that @xmath1580 .",
    "the result follows .",
    "[ cor : blowedge ] let @xmath9 be mass linear on a @xmath8-dimensional polytope @xmath6 and let @xmath169 be its blowup along an edge @xmath144 that meets all asymmetric facets .",
    "then @xmath9 is mass linear on @xmath169 if @xmath1581 .      to go further with this question one would obviously need to understand more about mass linear functions on the polytopes @xmath498 .",
    "one could also consider the question of which blowups preserve full mass linearity .",
    "for example , if one blows up at a vertex then @xmath498 is a simplex and all linear functions on a simplex are inessential and hence fully mass linear . in this case",
    "the proof of lemma  [ le : f4 ] adapts to show that a vertex blow up preserves full mass linearity .",
    "we leave further discussion of such questions for the future .",
    "another interesting question concerns which blowups convert inessential functions to essential ones .",
    "we end by showing ( in any dimension ) that if a blow up of type @xmath548 has this property , then the underlying polytope is a double expansion .",
    "[ prop : essblow ] let @xmath1 be an inessential mass linear function on a smooth polytope @xmath85 .",
    "assume that @xmath9 is an essential mass linear function on a polytope @xmath13 that is obtained from @xmath86 by a series of blowups .",
    "moreover , assume that each blowup is either along a symmetric face or of type @xmath1582 .",
    "then      by lemma  [ le : symblow ] ( i ) and proposition  [ prop : blow4 ] ( ii ) , @xmath9 is mass linear on each intermediate blowup , the exceptional divisors are all symmetric , and the coefficients @xmath271 remain constant under blowup . since @xmath9 is essential on @xmath13 but not on @xmath1105 , there exists a polytope @xmath169 in the sequence so that @xmath9 is inessential on @xmath169 but essential on the blowup .",
    "lemma  [ le : symblow ] ( ii ) implies that this blow up must be of the form @xmath1583 .",
    "moreover , proposition  [ prop : blow4 ] ( iii ) implies that @xmath169 has exactly four asymmetric facets and that @xmath1584 .",
    "since @xmath9 is inessential on @xmath169 , we may label the asymmetric facets so that @xmath404 and @xmath405 .",
    "hence , @xmath397 and @xmath398 .",
    "since @xmath1585 meets every asymmetric facet , this implies that @xmath1586 and @xmath1587 .",
    "therefore , the claim follows from lemma  [ lemma : dexpan ] ."
  ],
  "abstract_text": [
    "<S> this paper continues the analysis begun in _ </S>",
    "<S> polytopes with mass linear functions , part i _ of the structure of smooth moment polytopes @xmath0 that support a mass linear function @xmath1 . </S>",
    "<S> as explained there , besides its purely combinatorial interest , this question is relevant to the study of the homomorphism @xmath2 from the fundamental group of the torus @xmath3 to that of the group of symplectomorphisms of the @xmath4-dimensional symplectic toric manifold @xmath5 associated to @xmath6 .    </S>",
    "<S> in part i , we made a general investigation of this question and classified all mass linear pairs @xmath7 in dimensions up to three . </S>",
    "<S> the main result of the current paper is a classification of all @xmath8-dimensional examples . along the way </S>",
    "<S> , we investigate the properties of general constructions such as fibrations , blowups and expansions ( or wedges ) , describing their effect both on moment polytopes and on mass linear functions .    </S>",
    "<S> we end by discussing the relation of mass linearity to shelukhin s notion of full mass linearity . </S>",
    "<S> the two concepts agree in dimensions up to and including @xmath8 </S>",
    "<S> . however full mass linearity may be the more natural concept when considering the question of which blow ups preserve mass linearity . </S>"
  ]
}