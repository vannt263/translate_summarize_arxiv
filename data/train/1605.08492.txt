{
  "article_text": [
    "digital media , especially internet and smartphones , provides a new lens to study human behaviors in both the physical space and the virtual world .",
    "researchers are getting more interested in studying the relationship between online and offline human behaviors @xcite .",
    "for example , ginsberg et al . tried to predict the influenza epidemics using search engine query data @xcite ; bond et al . studied the relationship between facebook use and offline political mobilization @xcite ; zhao et al .",
    "investigated the relationship of human movements in cyberspace and physical space using a mobile phone dataset @xcite .",
    "in particular , zhao et al . found a superlinear scaling relation between the mean frequency of visit @xmath5 and its fluctuation @xmath6 , and there was a strong correlation for the average frequency of @xmath5 in both spaces @xcite .",
    "however , the high - resolution spatial behaviors in these research remained unexplored . in this study",
    ", we use the fine - grained smartphone data of @xmath0 users in a major city of china to study the interrelationship between online human behaviors and offline mobility in the perspective of network structures , especially the small world property and the fractal character .    in previous research ,",
    "most complex networks are found to be small - world @xcite .",
    "however , a series of recent studies discover that many complex networks are featured by fractal patterns @xcite .",
    "small - world and fractality are two fundamental structural properties of complex networks . yet , suggested by @xcite , there is a seemingly contradictory relationship between the small - world property and the fractality property in complex networks .",
    "the small - world property of complex networks suggests that the average diameter of the network @xmath7 increases logarithmically with the total number of nodes @xmath8 , that is @xmath9 , where @xmath10 is a characteristic length .",
    "however , the self - similarity of fractality requires a power relation between @xmath8 and @xmath7 , that is @xmath11 .",
    "we construct the mobility network and the attention network to compare their network structures . in the mobility network",
    ", nodes are physical locations and edges represent the movements between locations @xcite , and in the attention network , nodes are websites and edges represent the switch of users between websites @xcite .",
    "we use the network renormalisation method in general and the box - covering method in specific to investigate the network structure .",
    "the box - covering method is proposed by song et al .",
    "it is originated from the box - counting method which is widely used in calculating the fractal dimension @xcite . considering a network embedded in euclidean space , we cover the network with boxes of size @xmath1 , and the number of boxes needed is denoted as @xmath12 .",
    "thus the fractal dimension or box dimension @xmath13 can be given from @xmath14 .",
    "our findings reveal that the attention network is self - similar , whereas the mobility network shows a small world property .",
    "the intriguing implication is that there are structural differences between the physical mobility and online surfing for smartphone users .",
    "that is to say , human behaviors in physical space and cyberspace represent two universal classes .",
    "surprisingly , we find that the degree correlation of the mobility network shifts from positive to negative with the increasing of the length of box @xmath1 , which is found for the first time to our best knowledge , and we define and further explain such phenomenon as `` spatial - constrained hub '' .",
    "with these properties found above , we apply the community detection technique on the mobility network . to be specific , using renormalisation techniques , we map the spatial space into different communities , and measure the association between spatial communities and the websites visited by the moving citizens by computing the tf - idf values . thus we can identify the websites frequently visited by the users of a given community , and conversely , we can tell the communities frequently visited by the users of a given website . using this method , we find three examples of location - based behaviors , including the shopping , dating , and taxi - calling .",
    "the investigations in the local structure of the mobility network also help us further understand the spatial - constrained hub .",
    "finally , we explain the observed empirical patterns with a revised geometric network model .",
    "using the box - counting method , song et al . confirmed the self - similarity property of complex networks @xcite .",
    "we apply the same renormalization technique in mobility networks and attention networks to investigate the fractal pattern of the network structure .",
    "figure [ renormalization ] presents the renormalization process for the two networks .",
    "the attention network is much more dense than the mobility network .",
    "there are 9899 nodes and 39,083 edges in the mobility network ( @xmath15 ) , and there are 16,476 nodes and 144,909 edges in the attention network ( @xmath16 ) .",
    "the diameter of the mobility network is 15 , and the diameter of the attention network is only 10 .",
    "thus , it is natural that we need more boxes of the same length @xmath1 to cover the mobility network than the attention network .",
    "actually , it takes 15 steps to tile the mobility network into a single node , and it needs 10 steps only to tile the attention network into a single node .",
    "we find two universal classes of behaviors ( figure [ transition]b ) . for the attention network ,",
    "the relationship between the number of boxes @xmath2 and the length of box @xmath1 shows a power law function , @xmath4 .",
    "thus , the structure of the attention network is self - similar or fractal .",
    "whereas for the mobility network , the number of boxes @xmath2 and the length of box @xmath1 have an exponential relationship . thus the structure of the mobility network demonstrates a small - world property . the small - world network is featured for its short diameter and a large clustering coefficient , which is efficient for transportation @xcite .",
    "this finding implies that there are two different dynamical mechanisms governing the evolution of the two networks .",
    "suggested by song et al.@xcite , the fractal property of networks originates from disassortativity , i.e. , the hubs tend not to connect directly with each other , on the contrary , the hubs tend to connect directly with non - hub nodes . thus , the degree correlation is negative for fractal networks . to gain insights into the mechanism that leads to the two universal classes of behaviors , we further inspect the change of degree correlation against the length of box @xmath1 .",
    "the degree correlation of a network is quantified by calculating the correlation @xmath17 between the degree @xmath18 for nodes and the average degree of their neighbors @xmath19 @xcite . as it has been shown in figure [ transition]b , @xmath1 = 3 is a turning point at which assortativity transfers to disassortativity ( @xmath20 ) .",
    "the curve of @xmath17 for both mobility network and attention network became largely flat when @xmath1 is larger than 4 .",
    "to better understand the transition of degree correlation under renormalization , the relationship between @xmath21 and @xmath19 are visualized for different @xmath1 .",
    "figure [ transition]c - d show the detailed transition process for the mobility network and the attention network , respectively .",
    "there is a common pattern in the renormalization process for both the mobility network and the attention network . with the increasing of @xmath1 , the degree correlation @xmath17 and @xmath19 decreases gradually .",
    "for example , in the attention network , when @xmath22 , the @xmath19 for @xmath23 is larger than 1000 , while when @xmath24 , the @xmath19 for @xmath23 is only 10 .",
    "figure [ transition]d demonstrates that the overall fractal structure of the attention network holds for different resolutions of @xmath1 . on the contrary ,",
    "the structure of the mobility network is more complex .",
    "there are two layers of structure in the mobility network . to tile",
    "the network with a small @xmath1 will combine the locally connected nodes into super - nodes , when @xmath1 is smaller than 3 , even though the nodes within the range of 2 are collapsed into supernodes , the overall positive degree correlation ( small - world property ) are well maintained .",
    "when @xmath1 is larger than or equal to 3 , some of these super - nodes further collapsed into much larger ones , and we call them `` spatial - constrained hub '' .",
    "when the spatial - constrained hub appears , the topological structure of the mobility network significantly changes from assortativity to disassortativity . according to previous research @xcite",
    ", there are smaller nodes standing between hubs .",
    "since users are simultaneously travel in the attention network and mobility network , it is natural to infer that our online surfing behaviors within the attention network are also location - based .",
    "we will first find the communities of the mobility network , and then explore the underlying connection between the spatial communities and online surfing behaviors , in order to find out what websites users are visiting when they are moving within a community of the mobility network . using the boxing - covering method , we can detect the communities of the mobility network . according to figure [ transition]b , when @xmath25 , the degree correlation curve becomes relatively stable ( around 0.7 ) .",
    "thus , we tile the mobility network into communities using the box of length 4 ( see figure [ community ] ) .        for each community , we calculate its tf - idf value for all the websites .",
    "thus , we can identify the most relevant websites for a given community , and qualitatively check the validity of the results . the assumption underlying these patterns",
    "is that the mobility behaviors in the physical space and the attention switching behaviors in the virtual space are inter - connected .",
    "as it has been demonstrated in figure [ three_examples ] , we find three examples of typical location - based behaviors : a. the red nodes and edges profile a community featured by the online shopping behaviors .",
    "these users move around chaoyang road which connects wangfujing business street and the eastern 5th ring road .",
    "this area is around the largest business circles in beijing and attracts a lot of consumers . with the aid of mobile internet",
    ", users can surf online to collect online information before they purchase offline . b. the blue nodes and edges mark the community which is featured by the online dating behaviors .",
    "it well depicts the footprints of online daters in haidian district , which is the home of many well - known universities ( e.g. , peking university , tsinghua university , and renmin university of china ) . c. the orange nodes and edges capture the locations of the users who use mobile texi - calling apps , especially the didi dache app ( www.xiaojukeji.com/ ) which is the most popular taxi apps in china .",
    "our findings reveal that the heavy use of taxi - calling service is primarily along the highway to changping district in the north - west of beijing where is not well covered by the city subway .",
    "one important feature of the mobility network lies in the fact that both the node location and edge - generating mechanisms are spatial - constrained .",
    "this pattern has been well demonstrated in figure [ three_examples ] .",
    "we can qualitatively observe that the probability of tie - generating is constrained by the spatial distance : although long distance connections are possible , there tends to be more edges within a short physical distance , and thus we can find apparent local clustering patterns .",
    "this feature has been theorized as the spatial - constrained attachment ( sca)@xcite .",
    "based on the sca mechanism , zhang et .",
    "al proposed a growing geometric graph model to explain the origin of scaling behaviors in cities @xcite .    in the original geometric network model",
    ", there is a geometric graph growing in d - dimensional euclidean space .",
    "initially , there is only one node as the seed of the growing graph located in the center of the space . at each time",
    "@xmath26 a new node @xmath27 is generated , and @xmath27 will be added to the graph if only it is within the radius @xmath28 of at least an existing node @xmath29 , or else @xmath27 will not be added to the graph .",
    "if @xmath27 are within the radius of more than one node @xmath30 , an edge will be established between @xmath27 and each node of @xmath30 .",
    "since the new node @xmath27 will be connected with all the nodes within a given radius , this original model is named as model all .",
    "based on model all , more practical extensions can be implemented .",
    "for example , to add a parameter to tune the local clustering density , or to add multiple seeds in the initial stage @xcite .",
    "we further extend the geometric network model by changing the edge - generating mechanism based on model all . in model",
    "all , a new node @xmath27 will be connected with all the nodes within the length of radius @xmath28 , this rule of edge - building could be not practical in real life .",
    "one competing rule comes from the preferential attachment of the ba model @xcite in which new added node links preferentially to hubs . in our revised geometric models ,",
    "we choose to connect the new node @xmath27 with only one node within the radius @xmath28 .",
    "there are primarily two scenarios : i. model max , to link the new node @xmath27 with the node @xmath31 which has the largest degree within the radius @xmath28 ; ii .",
    "model min , to link the new node @xmath27 with the node @xmath32 which has the smallest degree within the radius @xmath28 .",
    "we compare the structural patterns of these three geometric network models discussed above .",
    "the panel a , b , and c of figure [ geometric_model ] show the overall structure of three geometric networks generated with model all , model max , and model min respectively . to look into the local structure can help us gain more insights .",
    "the panel d , e , and f of figure [ geometric_model ] demonstrate the local connectivity generated by model all , model max , and model min respectively .",
    "it is easy to find that : the geometric network generated by model all is very dense relative to model max and model min ( panel d ) ; there are significantly more hubs in the network generated with model max , and note that there are also obvious disassortativity in the local structure ( there are nodes standing between hubs , which is a feature of fractal networks , see panel e ) ; there are few hubs in the local structure of the network generated with model min , and the links are somewhat like the traces of a random walk ( panel f ) .",
    "we also renormalize the geometric networks generated with three models using the box - covering method .",
    "figure [ geometric_model]g confirms two universal classes of behaviors by inspecting the relationship between the size of box @xmath1 and the number of boxes @xmath2 .",
    "the networks generated with model all and model min are fractal , since the relationship between @xmath2 and @xmath1 can be fitted with a straight line . while the network generated with model min shows an apparent small - world pattern that we have also found in the mobility network .",
    "we further explore the degree correlations of the generated networks .",
    "as figure [ geometric_model]h has shown , there is a positive relationship between @xmath19 and @xmath18 for model all and model min , just as what we have discovered for the mobility network . while there exists a negative relationship between @xmath19 and @xmath18 for model max .",
    "in addition , the diameters of the networks generated with three models grows identically with the number of nodes ( figure [ geometric_model]i ) .",
    "the findings confirms that model max can replicate the findings we have found in the attention network , while the model min can help explain the results of the mobility network .",
    "to compare how human move in the virtual world and physical world has been a major interest of scientific research .",
    "our study provides one approach to fulfill this task by constructing and comparing the mobility network and the attention network . using networks as a mathematical structure of the complex human behaviors",
    ", we can implement the tools of network science to lend us a new lens and gain deeper insights . by renormalizing the two networks , we confirm that the attention network is featured by its fractal patterns , and the mobility network is characterized by its small - world property .",
    "the study of zhao et al . concluded that there is a strong correlation between between human movements in cyberspace and physical world in the perspective of flux - fluctuation law@xcite .",
    "however , our study showed that the the human movements in two spaces represent two universal classes of behaviors . analyzing the change of degree correlation with the size of box @xmath1 reveals that there is a surprising transition of degree correlation from positive to negative for the mobility network , while the degree correlation of the attention network stays negative with the increasing of @xmath1 .",
    "this finding underlines the structural difference between online and offline human behaviors .",
    "previous studies on fractal networks construct a good theoretical framework on explaining the scaling property of self - similarity .",
    "for example , gallos et al . proposed a scaling theory of degree correlation for scale - free networks@xcite .",
    "the degree correlation can be captured by the probability of @xmath33 that two nodes of degree @xmath34 and @xmath35 are connected together by a link .",
    "gallos et al . showed that @xmath33 can be expressed as @xmath36 .",
    "to better estimate @xmath37 , they proposed a quantity of @xmath38 which measures to which extent the nodes of degree @xmath18 tend to link with more connected nodes , @xmath39 . for the scale - free network , @xmath40 . by estimating the correlation exponent @xmath37 and the power - law exponent @xmath41",
    ", they constructed a phase diagram which classifies scale - free networks into three areas : below the line of @xmath42 are the random networks ( area i ) ; when @xmath43 is the area ii where the network has a weaker hub - hub correlation than the random networks but is not fractal ; above the line of @xmath44 is the area iii where the networks are fractal . with the theory",
    ", we calculate the power exponents for the mobility network(@xmath45 ) and the attention network ( @xmath46 ) , and the slopes of @xmath47 for the mobility network(@xmath48 ) and the attention network ( @xmath49 ) .",
    "thus , the @xmath37 of the mobility network and the attention network is 1.76 and 2.80 .",
    "therefore , the mobility network is nonfractal ( although its hub - hub correlation is weaker than random networks ) , and the attention network is fractal .",
    "however , it is also necessary to note that since the attention network and the mobility network are not perfectly scale - free network networks , such analysis may be problematic .",
    "the transition of degree correlation uncovers the fact that the mobility network is spatial - constrained .",
    "the transition happens during the renormalization process within which the nodes covered in a box are tiled into one supernode .",
    "there are two layers of structures for the mobility network . in the initial stage of network renormalizaiton ,",
    "the local clustering are not fully destroyed , thus we can still observe positive degree correlation for the mobility network ( when @xmath50 ) .",
    "when @xmath51 , the local structure of the mobility network significantly changes from assortativity to disassortativity . using the box - covering algorithm , the city can be classified into different communities .",
    "however , neither the original fractal model nor the classical small - world model could demonstrate the transition of degree correlation .",
    "we then inspect the geographical distribution of three location - based behaviors .",
    "the spatial - constrained feature of the edge again indicates that the mobility network is different from the attention network for its spatial - constrained mechanisms , and we need to adopt the geometric network model to explain our findings .",
    "based on the original geometric network model ( model all ) , we propose two revised models ( model max and model min ) by changing the edge - generating mechanisms .",
    "the revised geometric models replicate what we have discovered in the data : both two universal classes of behaviors and the transition of degree correlation .",
    "our findings about how human move in both cyberspace and physical space can help develop commercial applications to find the best spot to place online and offline geomarketing advertisement .",
    "the increasing power of search engines has made advertisement more and more precise . computational advertising systems like google adsense collect and filter the attention of the most relevant users and sale it to companies .",
    "for mobile internet use , the telecommunications operators have the most detailed information about the users geographical locations and the websites they are visiting . for a city",
    ", it can be separated into functional areas using the network renormalization method .",
    "relating the moving citizens behaviors in cyberspace with their mobility in the physical space can help develop more accurate recommender .    in summary",
    ", this research confirms that the human behavior in the virtual world and that in the physical world are structurally different .",
    "the human moving behaviors in the physical space and the virtual world represent two universal classes of human behaviors .",
    "there are two layers of structure in the mobility network , and only when the local structure is tiled using the box - covering method we can get a fractal structure .",
    "connecting new nodes with non - hub nodes can help make up the two - layers structure of the mobility network .",
    "only when the locally layer of clustered nodes are titled into spatial - constrained hubs under renormalization , the negative degree correlation can be observed .",
    "the spatial - constrained attachment mechanism determines its unique network structure . using the revised geometric models , we are able to replicate what we have found , and the growing of attention network and mobility network is not fully preferential attachment or anti - preferential attachment , but",
    "also spatial - constrained .",
    "mobile phone provides a new lens to investigate the human behaviors . eagle et al . analyzed the relationship between mobile phone use and the social - economic development of british cities@xcite .",
    "song et al .",
    "used the mobile phone data to study the predicability of human mobility@xcite . in this study , we primarily work on a fine - grained anonymous smartphone dataset collected from a randomly sampled @xmath0 users in a major city of china .",
    "the dataset profiles what websites or mobile apps users subsequently use in the virtual world as well as the physical locations .",
    "the dataset is anonymized , and we do not have the personal information of these users .",
    "based on these information , we construct two networks to trace how users move from one website to another ( attention network ) and from one location to another ( mobility network ) . in the mobility network , the nodes are mobile base stations ( @xmath52 ) , and the edges ( @xmath53 ) are users travel from one base station to another . in the attention network ,",
    "the nodes ( @xmath54 ) are websites , and edges ( @xmath55 ) represent the switch of users between websites .",
    "figure [ spatial_mobility]a shows the spatial distribution of base stations .",
    "the base stations geographically distributed according to the shape of the city , and there are obvious clustering patterns .",
    "figure [ spatial_mobility]b shows the mobility network with heatmaps .",
    "the trajectory of human mobility vividly shows the transportation backbone of the city .        to further describe the data , we calculate the following six variables for each individual based on their daily behavioral records : ( 1 ) the total number of records ( websites / base stations ) ; ( 2 ) the number of unique base stations ; ( 3 ) the number of sequentially visited base stations ( any two successive base stations are different ) ; ( 4 ) the total distance of navigation ; ( 5 ) the number of unique websites ; ( 6 ) the number of sequentially visited websites .",
    "it turns out that the probability distributions of all these variables are featured by the long - tail .",
    "we fit their power law exponents using the powerlaw module @xcite , and the results are shown in the figure [ power_law ] .",
    "apparently , the human navigation in both the real world and the virtual space are very heterogeneous .",
    "it is important to check how online behaviors correlate with the offline behaviors .",
    "we find that several pairs of variables are positively correlated ( see figure [ correlation_navigation ] ) .",
    "in addition to that , we investigated the effect of several variables on the amount of information download within one day .",
    "the total distance of real world movement positively with the total number of websites visited within one day ( figure [ correlation_navigation]c ) , and the amount of information download(figure [ correlation_navigation]i ) .",
    "the amount of information download positively correlates with the unique base stations ( figure [ correlation_navigation]g ) , sequential base stations ( figure [ correlation_navigation]h ) .",
    "the findings above reveals that those who are active online are largely proportionally active offline .",
    "yet , it does not mean that online and offline human behaviors are similar .",
    "we implement the box - counting method to renormalize the mobility network and the attention network @xcite .",
    "the network is covered with boxes such that the nodes within a box are at a distance smaller than the length of box @xmath1 . with the increasing of @xmath1 ,",
    "we need a smaller number of boxes @xmath2 to cover the whole network .",
    "after we tile the entire network , each box was replaced by a single supernode , and connections between the supernodes are merged @xcite .",
    "the renormalization procedure is repeated until there is only one node left in the network .",
    "we use the term frequency inverse document frequency ( i.e. , tf - idf ) measurement to find what the websites simultaneously visited by the moving citizens .",
    "tf - idf is a statistic widely adopted to measure the importance of a term to a document in a corpus .",
    "it is the product of two statistics , term frequency and inverse document frequency .",
    "@xmath56 measures the frequency of a term appearing in a given document .",
    "if a term appears many times in a document , its @xmath56 value of this document will be large .",
    "@xmath57 measures the concentration of terms across documents .",
    "if that term appears in many documents , its @xmath57 value would be small . combining the information supplied by both @xmath56 and @xmath57",
    ", we can select the most important words for a given document . in our case",
    ", we can detect which websites are important for a group of users moving around a group of mobile base stations .",
    "the authors thank zhang chang for the assistance in providing data and inspiring discussion .",
    "we acknowledge financial support for this work from the national social science foundation , grant number 15cxw017 .",
    "l.w and c.w designed research ; c.w and l.w performed research ; l.w and c.w collected and analyzed data ; c.w and l.w wrote the manuscript ; all authors discussed the results and reviewed the manuscript .",
    "the authors declare no competing financial interests .        robert  m bond , christopher  j fariss , jason  j jones , adam  di kramer , cameron marlow , jaime  e settle , and james  h fowler . a 61-million - person experiment in social influence and political mobilization . , 489(7415):295298 , 2012 ."
  ],
  "abstract_text": [
    "<S> with the widespread use of mobile computing devices in contemporary society , our trajectories in the physical space and virtual world are increasingly closely connected . using the anonymous smartphone data of @xmath0 users in 30 days , we construct the mobility network and the attention network to study the correlations between online and offline human behaviors . in the mobility network , nodes are physical locations and edges represent the movements between locations , and in the attention network , nodes are websites and edges represent the switch of users between websites . </S>",
    "<S> we apply the box - covering method to renormalize the networks . </S>",
    "<S> the investigated network properties include the size of box @xmath1 and the number of boxes @xmath2 . </S>",
    "<S> we find two universal classes of behaviors : the mobility network is featured by a small - world property , @xmath3 , whereas the attention network is characterized by a self - similar property , @xmath4 . in particular , with the increasing of the length of box @xmath1 , the degree correlation of the network changes from positive to negative which indicates that there are two layers of structure in the mobility network . </S>",
    "<S> we use the results of network renormalisation to detect the community and map the structure of the mobility network . </S>",
    "<S> further , we locate the most relevant websites visited in these communities , and identify three typical location - based behaviors , including the shopping , dating , and taxi - calling . </S>",
    "<S> finally , we offer a revised geometric network model to explain our findings in the perspective of spatial - constrained attachment . </S>"
  ]
}