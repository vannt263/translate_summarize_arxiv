{
  "article_text": [
    "the approximation of scalar nonlinear conservation laws @xmath0 via microscopic modeling is a longstanding challenge . a probabilistic approach to this problem has been proposed in a vast literature in the past decades ,",
    "see e.g.  @xcite and the references therein .",
    "the kinetic approximation of nonlinear conservation laws has been carried out in @xcite .    in @xcite , the microscopic lagrangian formulation of via",
    "the follow - the - leader particle system @xmath1 has been _ rigorously _ derived for the first time under the assumption that @xmath2 is monotone decreasing ( plus some additional assumptions , see and ) .",
    "the derivation is restricted to nonnegative , bounded , and compactly supported solutions @xmath3 .",
    "roughly speaking , the main result in @xcite states what follows .",
    "let @xmath4 be compactly supported .",
    "assume for simplicity that @xmath5 has unit mass .",
    "for a given integer @xmath6 sufficiently large , let the minimal interval @xmath7 $ ] containing @xmath8 $ ] be split into @xmath9 intervals containing the mass @xmath10 .",
    "let the edges of those intervals @xmath11 be the initial positions of a set of particles with equal mass @xmath12 .",
    "let the particles @xmath13 evolve via with @xmath14 , and let @xmath15 .",
    "then , the discretised density @xmath16 converges up to a subsequence a.e .  in @xmath17 to the unique entropy solution @xmath3 to with initial condition @xmath5 ,",
    "see definition  [ def : entropy_sol ] below .",
    "moreover , the empirical measure @xmath18 converges to @xmath3 in @xmath19 , where @xmath20 is the @xmath21-wasserstein distance on @xmath22 .",
    "this note aims at shortening the proof of the result in @xcite ( in particular by avoiding the eulerian - to - lagrangian coordinates change of variables ) , removing the assumption of initial compact support and complementing the results of @xcite with some numerical simulations .",
    "let us consider the cauchy problem for a one - dimensional scalar conservation law @xmath23 where @xmath24 .",
    "the initial datum @xmath5 and the velocity map @xmath25 satisfy the basic assumptions @xmath26 in some cases , we require the additional ( optional ) assumptions @xmath27 \\in { { \\mathbb{r}}}_- \\text { is non - increasing}.\\end{aligned}\\ ] ] for simplicity , we shall normalise the total mass and assume @xmath28 .",
    "we introduce the notation @xmath29 and we shall assume for simplicity that @xmath30 .",
    "[ def : entropy_sol ] let @xmath5 satisfy . a weak solution @xmath31 to the cauchy problem is called _ entropy solution _ to the cauchy problem if @xmath32 \\varphi_x(t , x)\\bigr ] { { \\rm{d}}}x{{\\rm{d}}}t\\geq 0\\ ] ] for all @xmath33 with @xmath34 and for all @xmath35 .",
    "we point out that the above definition is slightly weaker than the definition in @xcite .",
    "the next theorem collects the uniqueness result in @xcite and its variant in @xcite .",
    "assume that and are satisfied .",
    "then there exists a unique entropy solution according to definition  [ def : entropy_sol ] .",
    "we now introduce the approximation scheme . for future use",
    ", we introduce the notation @xmath36 for a given @xmath37 sufficiently large , we set @xmath10",
    ". let @xmath38 be defined by @xmath39 and the points @xmath40 with @xmath41 be defined recursively by @xmath42 it follows that @xmath43 .",
    "moreover @xmath44 we let the @xmath45 particles defined above evolve according to the follow - the - leader system of odes @xmath46 the discrete maximum principle in ( * ? ? ?",
    "* lemma  1 ) ensures the solution @xmath47 to is well defined , since the particles @xmath48 strictly preserve their initial order .",
    "more precisely , we have the following lemma .",
    "[ lem : maximum ] assume ( i1 ) and ( v1 ) are satisfied .",
    "then , for all @xmath49 , the solution to satisfies @xmath50    we have split the initial condition into @xmath9 regions with equal mass @xmath12 .",
    "we have then defined the motion of @xmath45 particles .",
    "this permits to reconstruct a time - depending ( piecewise constant ) density within the interval @xmath51 $ ] , which will consist of @xmath52 constant values on as many intervals . under the natural assumption that a mass @xmath12 will be maintained on each interval",
    ", we still need to assign mass to two points outside the interval @xmath51 $ ] in order to obtain a time - depending density with unit mass . to perform this task ,",
    "we set two _ artificial particles _ @xmath53 and @xmath54 as follows @xmath55 and let @xmath56 and @xmath57 for all @xmath58 .",
    "we then set @xmath59 we notice that @xmath60 and that @xmath61 is compactly supported for all @xmath9 and for all @xmath62 . for future use",
    "we compute @xmath63 , & i \\in \\{1,\\ldots , n-3\\ } , \\\\[10pt ]    \\dot{r}^n_{n-2}(t)=-\\dfrac{r^n_{n-2}(t)^2}{\\ell_n } \\ , \\bigl[v_{\\max}-v(r^n_{n-2}(t))\\bigr ] .",
    "\\end{cases}\\ ] ]    [ rem01 ] in case @xmath8 $ ] is bounded either from above or from below , it is possible to improve the above construction . in the former case , the particle @xmath64 can be set on @xmath65\\}$ ] initially and let evolve with maximum speed @xmath66 , and the preceding particle @xmath67 let evolve according to @xmath68 . in the latter case , the particle @xmath69 can be set on @xmath70\\}$ ] initially and let evolve according to @xmath71 .",
    "in @xcite both these conditions are required for the initial datum and such construction is applied .",
    "our result , which extends the one in @xcite , reads as follows .",
    "[ thm : main ] assume that and are satisfied .",
    "moreover , assume that at least one of the two conditions and is also satisfied .",
    "then , @xmath72 converges ( up to a subsequence ) almost everywhere and in @xmath73 on @xmath74 to the unique entropy solution @xmath3 to the cauchy problem according to definition  [ def : entropy_sol ] .",
    "the result in @xcite also states the convergence of the empirical measure @xmath75 towards the entropy solution @xmath3 . for the sake of brevity",
    ", we shall skip that part in this note .",
    "in this section we prove theorem  [ thm : main ] . clearly , the result in lemma  [ lem : maximum ] ensures that @xmath76 for all @xmath77 . for notational simplicity ,",
    "whenever it is clear from the context , we shall omit the @xmath9-dependence in the approximating scheme .",
    "moreover , as our results is a slight extension of the one in @xcite , we shall often shorten proofs and refer to the corresponding results in @xcite , still trying to keep this note as much self - contained as possible .    as usual in the context of scalar conservation laws ,",
    "a uniform control of the @xmath78 norm is necessary in order to gain enough compactness of the approximating scheme . in our case",
    ", the compactness can be obtained in two distinct ways .",
    "the first one is a uniform @xmath78 contraction property for @xmath72 , and it obviously requires @xmath78 initial data .    [ pro : bv_contraction ] assume that , and are satisfied .",
    "then , for all @xmath37 one has @xmath79\\leq",
    "{ \\mathrm{tv}}[\\rho^n(0,\\cdot)]\\leq { \\mathrm{tv}}[\\bar\\rho].\\ ] ]    the estimate @xmath80\\leq { \\mathrm{tv}}[\\bar\\rho]$ ] is a simple exercise .",
    "we now compute @xmath81    = \\frac{d}{dt } \\left [ r_1(t)+r_{n-2}(t)+\\sum_{i=1}^{n-3}|r_i(t)-r_{i+1}(t)|\\right]\\\\    = & ~ \\dot{r}_1(t)+\\dot{r}_{n-2}(t)+ \\sum_{i=1}^{n-3 } { \\mathrm{sign}}\\bigl(r_i(t)-r_{i+1}(t)\\bigr ) \\bigl[\\dot{r}_i(t)-\\dot{r}_{i+1}(t)\\bigr]\\\\",
    "= & ~ \\bigl [ 1+{\\mathrm{sign}}\\bigl(r_1(t)-r_2(t)\\bigr ) \\bigr ] \\dot{r}_1(t )    + \\bigl [ 1-{\\mathrm{sign}}\\bigl(r_{n-3}(t)-r_{n-2}(t)\\bigr ) \\bigr ] \\dot{r}_{n-2}(t)\\\\    & ~ + \\sum_{i=2}^{n-3 } \\ , \\bigl [ { \\mathrm{sign}}\\bigl(r_i(t)-r_{i+1}(t)\\bigr ) - { \\mathrm{sign}}\\bigl(r_{i-1}(t)-r_i(t)\\bigr ) \\bigr ] \\dot{r}_i(t).\\end{aligned}\\ ] ] by plugging into the above computation and employing the assumption one can easily prove that the above quantity is not positive .",
    "the second way to achieve compactness is via the following _ discrete oleinik - type inequality_. here we do not require the extra assumption on the initial condition , but we need the assumption on the velocity map .    [",
    "pro : oleinik ] assume that , and are satisfied .",
    "then , for all @xmath77 one has @xmath82    due to , it suffices to prove for @xmath83 .",
    "we start by observing that this is equivalent to prove @xmath84 \\leq \\ell_n , & i\\in\\{1,\\ldots , n-2\\}.\\end{aligned}\\ ] ] we shall prove the above estimate inductively on @xmath85 by using the equations .",
    "we drop the time dependency for simplicity .",
    "we start by proving @xmath86 \\leq \\ell_n$ ] .",
    "we have , due to and , that @xmath87 + t \\",
    ", \\dot{r}_{n-2 } \\ , \\bigl [ v_{\\max}-v(r_{n-2})-r_{n-2 } \\ ,",
    "v'(r_{n-2})\\bigr]\\\\    = & ~ r_{n-2 } \\ ,",
    "\\bigl [ v_{\\max}-v(r_{n-2})\\bigr ] - t \\",
    ", \\frac{r_{n-2}^2}{\\ell_n } \\ , \\bigl [ v_{\\max}-v(r_{n-2})\\bigr ] \\bigl[v_{\\max}-v(r_{n-2})-r_{n-2 } \\ ,",
    "v'(r_{n-2})\\bigr]\\\\    \\le&~ r_{n-2 } \\ ,",
    "\\bigl [ v_{\\max}-v(r_{n-2 } ) \\bigr ] \\left[1-\\frac{z_{n-2}}{\\ell_n}\\right].\\end{aligned}\\ ] ] since @xmath88 , a simple comparison argument shows that @xmath89 for all times .",
    "next we prove that the inequality @xmath90 being true for all @xmath58 and for some @xmath91 implies @xmath92 \\leq \\ell_n$ ] for all @xmath58 .",
    "we use the positive part @xmath93 and recall that @xmath94 for any @xmath91 .",
    "let us compute @xmath95 \\ , { \\mathrm{sign}}_+\\bigl(v(r_{i+1})-v(r_i)\\bigr)\\\\    = & ~   r_i \\bigl ( v(r_{i+1})-v(r_i)\\bigr)_+ \\biggl[1-\\frac{(z_i)_+}{\\ell_n}\\biggr ] - v'(r_{i+1 } ) \\",
    ", r_i \\ , r_{i+1 } \\frac{z_{i+1}}{\\ell_n } \\ , { \\mathrm{sign}}_+(z_i ) + v'(r_i ) \\",
    ", r_i^2 \\frac{(z_i)_+}{\\ell_n}.\\end{aligned}\\ ] ] the inequality @xmath96 and the assumption imply @xmath97 \\left[1-\\frac{(z_i)_+}{\\ell_n}\\right].\\]]we observe that the first squared bracket on the right - hand - side of the above estimate is nonnegative .",
    "therefore , a comparison argument similar to that used before shows that @xmath98 for all times @xmath58 .",
    "hence , the proof is complete .    for @xmath83 ,",
    "the estimate reads @xmath99 which recalls the one - sided lipschitz condition in @xcite which characterises entropy solutions to .",
    "the result in proposition  [ pro : oleinik ] implies a uniform bound for @xmath72 in @xmath100 . in this sense , the @xmath101 smoothing effect featured by genuinely nonlinear scalar conservation laws is intrinsically encoded in the particle scheme . in what follows ,",
    "we denote by @xmath102 the ( local ) total variation of a function @xmath103 on the subset @xmath104 .",
    "[ pro : bvloc ] assume that , and are satisfied .",
    "let @xmath105 and @xmath106 .",
    "then , the quantity @xmath107\\bigr)\\ ] ] is uniformly bounded with respect to @xmath9 .",
    "fix @xmath108 .",
    "we assume that @xmath109 , leaving to the reader the study of the remaining cases .",
    "we introduce then @xmath110 we consider @xmath111 we point out that @xmath112 is non - increasing in @xmath113 . indeed , by @xmath114 \\ge 0 , & i \\in \\{1,n-1\\},\\end{aligned}\\ ] ] and the odes in together with the inequality show that @xmath112 is non - increasing in @xmath115 .",
    "by we can estimate the total variation of @xmath116 on @xmath117 $ ] as follows @xmath118\\bigr )    = \\left|v(r^n_{i^n_a(t)+1 } ) - v(r^n_{i^n_a(t)})\\right|    + { \\mathrm{tv}}\\bigl(v(\\rho^n(t,\\cdot));\\ , [ x^n_{i^n_a(t)+1},x^n_{i^n_b(t)}]\\bigr )    \\\\\\leq&~    \\bigl[v_{\\max } - v(r)\\bigr ]    + { \\mathrm{tv}}\\bigl(\\sigma^n(t,\\cdot);\\ , [ x^n_{i^n_a(t)+1},x^n_{i^n_b(t)}]\\bigr )    + \\frac{1}{t } \\ , { \\mathrm{tv}}\\bigl(x^n(t,\\cdot);\\ , [ x^n_{i^n_a(t)+1},x^n_{i^n_b(t)}]\\bigr )    \\\\=&~    \\bigl[v_{\\max } - v(r)\\bigr ]    + \\bigl[\\sigma^n(t , x^n_{i^n_a(t)+1})-\\sigma^n(t , x^n_{i^n_b(t)})\\bigr ]    + \\frac{1}{t } \\ , \\bigl[x^n(t , x^n_{i^n_b(t)})-x^n(t , x^n_{i^n_a(t)+1})\\bigr ]    \\\\=&~    \\bigl[v_{\\max } - v(r)\\bigr ]    + \\bigl[v(\\rho^n(t , x^n_{i^n_a(t)+1}))-v(\\rho^n(t , x^n_{i^n_b(t)}))\\bigr ]    + \\frac{2}{t } \\ , \\bigl[x^n_{i^n_b(t ) } - x^n_{i^n_a(t)+1}\\bigr ]    \\\\\\leq&~    2\\left[v_{\\max } - v(r ) + \\frac{b - a}{\\delta}\\right].\\end{aligned}\\ ] ] since @xmath2 is monotone and continuous on @xmath119 , we get the assertion .",
    "proposition  [ pro : bv_contraction ] and proposition  [ pro : bvloc ] provide the needed compactness of @xmath72 with respect to the space variable .",
    "typically , in the context of scalar conservation laws ( e.g.  the wave - front tracking scheme ) an @xmath120 uniform continuity estimate provides sufficient control of the time oscillations . in our case",
    ", we are only able to provide a uniform time continuity estimate with respect to the _ @xmath21-wasserstein distance _ , which nevertheless will suffice to achieve strong @xmath120 compactness ( with respect to both space and time ) .",
    "we first recall the following concepts on the one dimensional @xmath21-wasserstein distance .",
    "let @xmath121 be a probability measure on @xmath22 .",
    "we define the pseudo - inverse variable @xmath122)$ ] as @xmath123)>z\\}.\\ ] ] given two probability measures @xmath121 and @xmath124 on @xmath22 , we set @xmath125)}.\\ ] ] by we have that @xmath126 ~ \\mathbf{1}_{[i\\ell,(i+1 ) \\ , \\ell)}(z).\\ ] ]    [ pro : time_continuity ] assume ( i1 ) and ( v1 ) are satisfied .",
    "there exists a constant @xmath127 independent of @xmath9 , such that @xmath128 for any @xmath129 .    for @xmath130",
    "we compute @xmath131)}\\\\    = & ~ \\sum_{i=0}^{n-1}\\int_{i\\ell}^{(i+1 ) \\",
    ", \\ell } \\ , \\left|x^n_i(t)-x^n_i(s)+(z - i\\,\\ell)\\left(r^n_i(t)^{-1 } - r^n_i(s)^{-1}\\right)\\right|{{\\rm{d}}}z\\\\    \\leq&~ \\sum_{i=0}^{n-1 } \\ell \\ , |x^n_i(t)-x^n_i(s)| + \\sum_{i=0}^{n-1}\\left|r^n_i(t)^{-1 } - r^n_i(s)^{-1}\\right| \\int_{i\\ell}^{(i+1 ) \\ , \\ell}(z - i\\,\\ell){{\\rm{d}}}z\\\\    \\leq&~ \\max\\{v_{\\max},|v(r)|\\ } \\ , |t - s| + \\sum_{i=0}^{n-1}\\frac{\\ell^2}{2}\\int_{s}^{t}\\left|\\frac{d}{d\\tau}\\left(r^n_i(\\tau)^{-1}\\right)\\right|{{\\rm{d}}}\\tau,\\end{aligned}\\ ] ] and by using and @xmath132 \\bigr ] \\ ,",
    "|t - s|.\\qedhere\\end{aligned}\\ ] ]    [ thm : aubin ] let @xmath133 , @xmath134 be fixed with @xmath106 and @xmath2 satisfy .",
    "let @xmath72 be a sequence in @xmath135 with @xmath136 and @xmath137 for all @xmath6 and for all @xmath138 $ ] .",
    "assume further that    1 .",
    "[ a ] @xmath139 ) } + { \\mathrm{tv}}(v(\\rho^n(t,\\cdot));\\,[a , b])\\right]{{\\rm{d}}}t\\right ] < + \\infty$ ] , 2 .",
    "[ b ] there exists a constant @xmath140 independent of @xmath9 such that @xmath141 for all @xmath142 .",
    "then , @xmath72 is strongly relatively compact in @xmath143\\times [ a , b])$ ] .",
    "the proof of theorem  [ thm : aubin ] is presented in the appendix  [ app ] .",
    "proposition  [ pro : bv_contraction ] and proposition  [ pro : bvloc ] show that @xmath72 satisfies the assumption [ a ] of theorem  [ thm : aubin ] on the time interval @xmath144 $ ] for arbitrary @xmath145 when beside and , we assume either or . the result in proposition  [ pro : time_continuity ] implies that @xmath72 satisfies assumption [ b ] of theorem  [ thm : aubin ] .",
    "hence , by a simple diagonal argument stretching the time interval @xmath144 $ ] to @xmath146 $ ] , one easily gets that @xmath72 has a subsequence ( still denoted @xmath72 ) converging almost everywhere in @xmath147 .",
    "let @xmath3 be the limit of said subsequence .    1",
    ".   [ step1 ] * : @xmath148 is a weak solution to . *",
    "let @xmath149 . by",
    "we compute @xmath150 { { \\rm{d}}}x { { \\rm{d}}}t\\\\    = & ~ \\sum_{i=0}^{n-1}\\int_{{{\\mathbb{r}}}_+ } r^n_i(t)\\left[\\int_{x^n_i(t)}^{x^n_{i+1}(t ) } \\varphi_t(t , x )   { { \\rm{d}}}x    + v(r^n_i(t ) ) \\bigl [ \\varphi(t , x_{i+1}^n(t ) ) - \\varphi(t , x_{i}^n(t))\\bigr ] \\right]{{\\rm{d}}}t\\\\    = & ~ \\sum_{i=0}^{n-1}\\int_{{{\\mathbb{r}}}_+ } r^n_i(t )    \\biggl [ \\frac{d}{dt}\\left(\\int_{x^n_i(t)}^{x^n_{i+1}(t)}\\varphi(t , x){{\\rm{d}}}x\\right )    + \\bigl [ \\dot{x}_i^n(t ) - v(r^n_i(t ) ) \\bigr ] \\varphi(t , x^n_i(t ) )    \\\\    & ~ \\hphantom{\\sum_{i=0}^{n-1}\\int_{{{\\mathbb{r}}}_+ } r^n_i(t ) \\biggl [ }    -\\bigl [ \\dot{x}^n_{i+1}(t ) - v(r^n_i(t ) ) \\bigr ] \\varphi(t , x^n_{i+1}(t ) )    \\biggr ] { { \\rm{d}}}t    \\\\    = & ~ \\sum_{i=0}^{n-1}\\int_{{{\\mathbb{r}}}_+ } \\ ,",
    "\\biggl [ -\\dot{r}^n_i(t)\\left(\\int_{x^n_i(t)}^{x^n_{i+1}(t ) } \\varphi(t , x ) { { \\rm{d}}}x\\right )    + r^n_i(t ) \\bigl [ \\dot{x}_i^n(t)-v(r^n_i(t ) ) \\bigr ] \\varphi(t , x^n_i(t ) )    \\\\    & ~ \\hphantom{\\sum_{i=0}^{n-1}\\int_{{{\\mathbb{r}}}_+ } \\ , \\biggl [ }    - \\dfrac{r^n_i(t)^2}{\\ell } \\ , \\bigl [ \\dot{x}^n_{i+1}(t)-v(r^n_i(t ) ) \\bigr ]",
    "\\biggl[\\int_{x^n_i(t)}^{x^n_{i+1}(t ) } \\varphi(t , x^n_{i+1}(t ) ) { { \\rm{d}}}x\\biggr ]    \\biggr]{{\\rm{d}}}t    -\\int_{{{\\mathbb{r } } } } \\rho^n(0,x ) \\ , \\varphi(0,x ) { { \\rm{d}}}x.\\end{aligned}\\ ] ] by and the definition of @xmath151 we have that @xmath152 \\varphi(0,x ) { { \\rm{d}}}x\\right| } } \\\\\\le&~ \\int_{-\\infty}^{\\bar{x}^n_{0 } } \\bar{\\rho}(x ) \\ , \\varphi(0,x ) { { \\rm{d}}}x + \\int_{\\bar{x}^n_n}^{+\\infty } \\bar{\\rho}(x ) \\ , \\varphi(0,x ) { { \\rm{d}}}x + \\sum_{i=0}^{n-1 } { { \\left|\\int_{\\bar{x}^n_i}^{\\bar{x}^n_{i+1 } } \\ , \\bigl[\\bar{\\rho}(x ) - r^n_i(0)\\bigr ] \\varphi(0,x ) { { \\rm{d}}}x\\right| } } \\\\\\le&~ 2\\ell_n \\ , \\|\\varphi(0,\\cdot)\\|_{{\\mathbf{l^{\\infty}}}({{\\mathbb{r } } } ) } + \\sum_{i=0}^{n-1 } { { \\left|\\int_{\\bar{x}^n_i}^{\\bar{x}^n_{i+1 } } \\bar{\\rho}(x ) \\left [ \\varphi(0,x ) - \\fint_{\\bar{x}^n_i}^{\\bar{x}^n_{i+1 } } \\varphi(0,y ) { { \\rm{d}}}y \\right ] { { \\rm{d}}}x\\right|}}\\end{aligned}\\ ] ] and clearly the above quantity goes to zero as @xmath153 .",
    "now we have to consider two separate cases",
    "[ case1 ] :  @xmath5 is compactly supported . in this case , we can use the improved construction of the particle scheme described in remark  [ rem01 ] and the equations analogous to and as follows . assuming that @xmath154\\subset [ \\delta , t]\\times { { \\mathbb{r}}}$ ] for some @xmath145 , we obtain @xmath155 { { \\rm{d}}}x { { \\rm{d}}}t \\biggr| \\\\ = & ~ \\biggl| \\sum_{i=0}^{n-2}\\int_0^t \\frac{r^n_i(t)^2}{\\ell } \\ , \\bigl[v(r^n_{i+1}(t ) ) - v(r^n_i(t))\\bigr ] \\left[\\int_{x^n_i(t)}^{x^n_{i+1}(t ) } \\bigl[\\varphi(t , x)-\\varphi(t , x^n_{i+1}(t))\\bigr ]   { { \\rm{d}}}x\\right ] { { \\rm{d}}}t \\\\ & ~ + \\int_0^t \\frac{r^n_{n-1}(t)^2}{\\ell } \\ , \\bigl[v_{\\max}-v(r^n_{n-1}(t))\\bigr ] \\left[\\int_{x^n_{n-1}(t)}^{x^n_{n}(t ) } \\bigl[\\varphi(t , x)-\\varphi(t , x^n_{n}(t))\\bigr ]   { { \\rm{d}}}x\\right ] { { \\rm{d}}}t \\biggr|",
    "\\\\ \\leq&~ \\frac{t \\ , { \\mathrm{lip}}[\\varphi ] \\ , \\ell}{2}\\sup_{t\\in [ \\delta , t ] } \\left[\\sum_{i=0}^{n-2 } \\ , \\bigl|v(r^n_{i+1}(t))-v(r^n_i(t))\\bigr| + \\bigl|v_{\\max}-v(r^n_{n-1}(t))\\bigr| \\right ] \\\\",
    "\\leq&~ \\frac{t \\ , { \\mathrm{lip}}[\\varphi ] \\ , \\ell}{2 } \\left[v_{\\max } - v(r)+\\sup_{t\\in [ \\delta , t ] } { \\mathrm{tv}}\\bigl(v(\\rho^n(t,\\cdot));\\,j(t)\\bigr)\\right ] , \\label{eq : weak_compact}\\tag{$\\spadesuit$}\\end{aligned}\\ ] ] where @xmath156\\ } + v(r ) \\ , t , \\max\\{{\\mathrm{supp}}[\\bar\\rho]\\ } + v_{\\max } \\ , t \\bigr]$ ] .",
    "hence , by proposition  [ pro : bvloc ] the right hand side in tends to zero as @xmath157 , and since @xmath72 tends to @xmath3 almost everywhere up to a subsequence we have that @xmath3 is a weak solution to the cauchy problem for positive times .",
    "[ case2 ] :  @xmath5 is not compactly supported . for simplicity",
    "we shall assume that @xmath8 $ ] is unbounded both from above and from below .",
    "the remaining cases are minor variations of this one .",
    "assume @xmath154\\subset [ \\delta , t]\\times [ a , b]$ ] for some @xmath145 and for some @xmath106 .",
    "let @xmath158 be sufficiently large so that @xmath159 and @xmath160 .",
    "such a choice is possible because @xmath8 $ ] is unbounded both from above and from below , which implies that the sequence @xmath161 $ ] is not uniformly bounded with respect to @xmath158 both from above and from below .",
    "such assumptions imply that @xmath162 and @xmath163 for all @xmath164 $ ] .",
    "we have @xmath165{{\\rm{d}}}x { { \\rm{d}}}t \\biggr|\\\\    = & ~ \\biggl|\\sum_{i=1}^{n-2 } \\int_{{{\\mathbb{r}}}_+ } r^n_i(t)\\left[\\int_{x^n_i(t)}^{x^n_{i+1}(t ) } \\varphi_t(t , x )   { { \\rm{d}}}x    + v(r^n_i(t ) ) \\bigl [ \\varphi(t , x_{i+1}^n(t ) ) - \\varphi(t , x_{i}^n(t))\\bigr ] \\right]{{\\rm{d}}}t \\biggr|\\end{aligned}\\ ] ] for all @xmath149 and the assertion can be obtained as in [ case1 ] ( we omit the details ) .",
    ": @xmath148 satisfies the entropy inequality in definition  [ def : entropy_sol ] .",
    "* let @xmath33 with @xmath34 and @xmath35 .",
    "by @xmath166 \\varphi_x(t , x)\\biggr ] { { \\rm{d}}}x{{\\rm{d}}}t \\\\ = & ~ \\int_{{{\\mathbb{r}}}_+ } \\int_{-\\infty}^{x_0^n(t ) } \\ , \\biggl[k \\ , \\varphi_t(t , x ) + f(k ) \\ , \\varphi_x(t , x)\\biggr ] { { \\rm{d}}}x{{\\rm{d}}}t + \\int_{{{\\mathbb{r}}}_+ } \\int^{+\\infty}_{x_n^n(t ) } \\ , \\biggl[k \\ , \\varphi_t(t , x ) + f(k ) \\ , \\varphi_x(t , x)\\biggr ] { { \\rm{d}}}x{{\\rm{d}}}t \\\\&~ + \\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+ } \\biggl[|r^n_i(t)-k| \\left ( \\int_{x^n_{i}(t)}^{x_{i+1}^n(t ) } \\varphi_t(t , x ) { { \\rm{d}}}x \\right ) \\\\ & ~\\hphantom{+\\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+}\\biggl [ } + { \\mathrm{sign}}(r^n_i(t ) - k ) \\bigl [ f(r^n_i(t ) ) - f(k)\\bigr ] \\bigl[\\varphi(t , x_{i+1}^n(t ) ) - \\varphi(t , x_{i}^n(t ) ) \\bigr ] \\biggr ] { { \\rm{d}}}t \\\\ = & ~ k \\int_{{{\\mathbb{r}}}_+ } \\ , \\bigl [ \\bigl [ v(k ) - \\dot{x}_0^n(t ) \\bigr ] \\varphi(t , x_0^n(t ) ) - \\bigl [ v(k ) - \\dot{x}_n^n(t ) \\bigr ] \\varphi(t , x_n^n(t ) ) \\bigr ] { { \\rm{d}}}t \\\\&~ + \\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+ } { \\mathrm{sign}}(r^n_i(t ) - k ) \\biggl [ \\bigl[r^n_i(t)-k\\bigr ] \\ , \\dfrac{d}{dt } \\left ( \\int_{x^n_{i}(t)}^{x_{i+1}^n(t ) } \\varphi(t , x ) { { \\rm{d}}}x \\right ) \\\\ & ~\\hphantom{+\\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+}\\bigl [ { \\mathrm{sign}}(r^n_i(t ) - k)\\biggl [ } + \\bigl [ f(r^n_i(t ) ) - f(k ) - ( r^n_i(t ) - k ) \\ , \\dot{x}_{i+1}^n(t ) \\bigr ] \\varphi(t , x_{i+1}^n(t ) ) \\\\ & ~\\hphantom{+\\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+}\\bigl [ { \\mathrm{sign}}(r^n_i(t ) - k)\\biggl [ } - \\bigl [ f(r^n_i(t ) ) - f(k ) - ( r^n_i(t ) - k ) \\ , \\dot{x}_{i}^n(t ) \\bigr ]   \\varphi(t , x_{i}^n(t ) ) \\biggr ] { { \\rm{d}}}t \\\\ = & ~ k \\int_{{{\\mathbb{r}}}_+ } \\ , \\bigl [ \\bigl [ v(k ) - \\dot{x}_0^n(t ) \\bigr ] \\varphi(t , x_0^n(t ) ) - \\bigl [ v(k ) - \\dot{x}_n^n(t ) \\bigr ] \\varphi(t , x_n^n(t ) ) \\bigr ] { { \\rm{d}}}t \\\\&~ + \\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+ } { \\mathrm{sign}}(r^n_i(t ) - k ) \\biggl [ -\\dot{r}^n_i(t ) \\ , \\left ( \\int_{x^n_{i}(t)}^{x_{i+1}^n(t ) } \\varphi(t , x ) { { \\rm{d}}}x \\right ) \\\\ & ~\\hphantom{+\\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+}\\bigl [ { \\mathrm{sign}}(r^n_i(t ) - k)\\biggl [ } - \\bigl [ r^n_i(t ) \\bigl [ \\dot{x}_{i+1}^n(t ) - v(r^n_i(t ) ) \\bigr ] - k \\bigl [ \\dot{x}_{i+1}^n(t ) -   v(k ) \\bigr ] \\bigr ] \\varphi(t , x_{i+1}^n(t ) ) \\\\ & ~\\hphantom{+\\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+}\\bigl [ { \\mathrm{sign}}(r^n_i(t ) - k)\\biggl [ } + \\bigl[r^n_i(t ) \\bigl [ \\dot{x}_{i}^n(t ) - v(r^n_i(t ) ) \\bigr ] - k \\bigl [ \\dot{x}_{i}^n(t ) - v(k ) \\bigr ] \\bigr ]   \\varphi(t , x_{i}^n(t ) ) \\biggr ] { { \\rm{d}}}t.\\end{aligned}\\ ] ] now we have to consider two separate cases . 1 .   [ case21 ] :  @xmath5 is compactly supported . in this case , we can use the improved construction of the particle scheme described in remark  [ rem01 ] and the equations analogous to and as follows . assuming that @xmath154\\subset [ \\delta , t]\\times { { \\mathbb{r}}}$ ] for some @xmath145",
    ", we obtain @xmath167 \\varphi_x(t , x)\\biggr ] { { \\rm{d}}}x{{\\rm{d}}}t \\\\ = & k \\int_{{{\\mathbb{r}}}_+ } \\ , \\bigl [ \\bigl [ v(k ) - v(r^n_0(t ) ) \\bigr ] \\varphi(t , x_0^n(t ) ) - \\bigl [ v(k ) - v_{\\max } \\ , \\bigr ] \\varphi(t , x_n^n(t ) ) \\bigr ] { { \\rm{d}}}t \\\\ & + \\sum_{i=0}^{n-2 } \\int_{{{\\mathbb{r}}}_+}\\ ! { \\mathrm{sign}}(r^n_i(t ) - k ) \\biggl [ \\dfrac{r^n_i(t)^2}{\\ell_n } \\bigl[v(r^n_{i+1}(t))-v(r^n_i(t))\\bigr ] \\biggl [ \\int_{x^n_{i}(t)}^{x_{i+1}^n(t ) } \\bigl [ \\varphi(t , x ) - \\varphi(t , x_{i+1}^n(t ) ) \\bigr]{{\\rm{d}}}x \\biggr ] \\\\ & \\hphantom{+\\sum_{i=0}^{n-2 } \\int_{{{\\mathbb{r}}}_+ } } + k \\bigl [ \\bigl [ v(r_{i+1}^n(t ) ) - v(k ) \\bigr ] \\varphi(t , x_{i+1}^n(t ) ) - \\bigl [ v(r_{i}^n(t ) ) - v(k ) \\bigr ]   \\varphi(t , x_{i}^n(t ) ) \\bigr ] \\biggr ] { { \\rm{d}}}t \\\\ & + \\int_{{{\\mathbb{r}}}_+ } { \\mathrm{sign}}(r^n_{n-1}(t ) - k ) \\biggl [ \\dfrac{r^n_{n-1}(t)^2}{\\ell_n } \\ , \\bigl[v_{\\max}-v(r^n_{n-1}(t))\\bigr ] \\biggl [ \\int_{x^n_{n-1}(t)}^{x_{n}^n(t ) } \\ , \\bigl [ \\varphi(t , x ) - \\varphi(t , x_{n}^n(t ) ) \\bigr ] { { \\rm{d}}}x \\biggr ] \\\\ & \\hphantom{+\\int_{{{\\mathbb{r}}}_+ } } + k \\bigl [ \\bigl[v_{\\max } - v(k ) \\bigr ] \\varphi(t , x_{n}^n(t ) ) - \\bigl [ v(r_{n-1}^n(t ) ) - v(k ) \\bigr ] \\varphi(t , x_{n-1}^n(t ) ) \\bigr ] \\biggr ] { { \\rm{d}}}t.\\end{aligned}\\ ] ] we already proved , see , that @xmath168 \\biggl [ \\int_{x^n_{i}(t)}^{x_{i+1}^n(t ) } \\ , \\bigl [ \\varphi(t , x ) - \\varphi(t , x_{i+1}^n(t ) ) \\bigr]{{\\rm{d}}}x \\biggr ] { { \\rm{d}}}t \\\\ & \\hphantom{\\biggl| } + \\int_{{{\\mathbb{r}}}_+ } { \\mathrm{sign}}(r^n_{n-1}(t ) - k ) \\dfrac{r^n_{n-1}(t)^2}{\\ell_n } \\ , \\bigl[v_{\\max}-v(r^n_{n-1}(t))\\bigr ] \\biggl [ \\int_{x^n_{n-1}(t)}^{x_{n}^n(t ) } \\ , \\bigl [ \\varphi(t , x ) - \\varphi(t , x_{n}^n(t ) ) \\bigr ] { { \\rm{d}}}x \\biggr ]",
    "{ { \\rm{d}}}t\\end{aligned}\\ ] ] converges to zero as @xmath169 .",
    "hence , to conclude it suffices to observe that @xmath170 \\varphi(t , x_0^n(t ) ) - \\bigl [ v(k ) - v_{\\max } \\ , \\bigr ] \\varphi(t , x_n^n(t ) ) \\\\ & ~ + \\sum_{i=0}^{n-2 } { \\mathrm{sign}}(r^n_i(t ) - k ) \\ , \\bigl [ \\bigl [ v(r_{i+1}^n(t ) ) - v(k ) \\bigr ] \\varphi(t , x_{i+1}^n(t ) ) - \\bigl [ v(r_{i}^n(t ) ) - v(k ) \\bigr ]   \\varphi(t , x_{i}^n(t ) ) \\bigr ] \\\\ & ~\\hphantom{+k \\biggl [ } + { \\mathrm{sign}}(r^n_{n-1}(t ) - k ) \\bigl [ \\bigl[v_{\\max } - v(k ) \\bigr ] \\varphi(t , x_{n}^n(t ) ) - \\bigl [ v(r_{n-1}^n(t ) ) - v(k ) \\bigr ] \\varphi(t , x_{n-1}^n(t ) ) \\bigr ] \\biggr ] \\\\",
    "= & ~ k \\biggl [ \\sum_{i=1}^{n-1 } \\bigl [ { \\mathrm{sign}}(r^n_{i-1}(t ) - k ) - { \\mathrm{sign}}(r^n_i(t ) - k ) \\bigr ] \\bigl [ v(r_{i}^n(t ) ) - v(k ) \\bigr ] \\varphi(t , x_{i}^n(t ) ) \\\\ & ~\\hphantom{k \\biggl [ } + \\bigl [ 1 + { \\mathrm{sign}}(r^n_0(t ) - k ) \\bigr ] \\bigl [ v(k ) - v(r^n_0(t ) ) \\bigr ] \\varphi(t , x_{0}^n(t ) ) \\\\ & ~\\hphantom{k \\biggl [ } + \\bigl[1+{\\mathrm{sign}}(r^n_{n-1}(t ) - k)\\bigr ] \\bigl[v_{\\max } - v(k ) \\bigr ] \\varphi(t , x_{n}^n(t ) ) \\biggr ] \\ge 0.\\end{aligned}\\ ] ] 2 .   :",
    "@xmath5 is not compactly supported . for simplicity",
    "we shall assume that @xmath8 $ ] is unbounded both from above and from below .",
    "the remaining cases are minor variations of this one .",
    "then , with the same notations and assumptions used in [ case2 ] of [ step1 ] , we have + @xmath166 \\varphi_x(t , x)\\biggr ] { { \\rm{d}}}x{{\\rm{d}}}t \\\\ = & ~ \\sum_{i=1}^{n-2 } \\int_{{{\\mathbb{r}}}_+ } \\biggl[|r^n_i(t)-k| \\left ( \\int_{x^n_{i}(t)}^{x_{i+1}^n(t ) } \\varphi_t(t , x ) { { \\rm{d}}}x \\right ) \\\\ & ~\\hphantom{\\sum_{i=0}^{n-1 } \\int_{{{\\mathbb{r}}}_+}\\biggl [ } + { \\mathrm{sign}}(r^n_i(t ) - k ) \\bigl [ f(r^n_i(t ) ) - f(k)\\bigr ] \\bigl[\\varphi(t , x_{i+1}^n(t ) ) - \\varphi(t , x_{i}^n(t ) ) \\bigr ] \\biggr ] { { \\rm{d}}}t\\end{aligned}\\ ] ] + for all @xmath33 and the assertion can be obtained as in the above [ case21 ] ( we omit the details ) .",
    "this section is devoted to present numerical simulations for the particle method described above .",
    "we compare the numerical simulations with the exact solutions obtained by the method of characteristics .     with initial datum .",
    "the cirles in the bottom ( in blue in the pdf version of the paper ) denote particle location , while the stars in the top ( in red in the pdf version of the paper ) denote the computed density.,title=\"fig : \" ]    with initial datum .",
    "the cirles in the bottom ( in blue in the pdf version of the paper ) denote particle location , while the stars in the top ( in red in the pdf version of the paper ) denote the computed density.,title=\"fig : \" ]    with initial datum .",
    "the cirles in the bottom ( in blue in the pdf version of the paper ) denote particle location , while the stars in the top ( in red in the pdf version of the paper ) denote the computed density.,title=\"fig : \" ]    the particle system is solved using the runge - kutta matlab solver ode23 , with the initial mesh size determined by the total number of particles @xmath171 and the initial density values . in  [ fig : test1 ] we take @xmath172 particles and the initial datum @xmath173 and final time @xmath174 . in  [ fig : confr ] we compare the simulation with @xmath175 particles with exact solutions and final time @xmath174 .",
    "( `` @xmath176 '' in red in the pdf version of the paper ) for @xmath175 particles and initial datum .",
    "[ fig : confr ] ]    for several values of @xmath171 , we do a quantitative evaluation through the discrete @xmath120-error , computed as the difference between approximated and exact solutions .",
    "the results are collected in table  [ errors ] .",
    ".discrete @xmath120-errors corresponding to different numbers of particles @xmath171.[errors ] [ cols=\"^,^,^,^,^,^\",options=\"header \" , ]",
    "we recall the following theorem .    [",
    "thm : rs ] let @xmath177 be a separable banach space .",
    "let    1 .",
    "[ f ] @xmath178 $ ] be a _ normal coercive integrand _ , i.e.  @xmath179 is lower semi - continuous w.r.t .",
    "the topology of @xmath177 and its sub - levels are relatively compact in @xmath177 ;    1 .   [ g ] @xmath180 $ ] be a _",
    "pseudo - distance _ , i.e. @xmath181 is lower semi - continuous w.r.t .",
    "the topology of @xmath177 , and if @xmath182 are such that @xmath183 , @xmath184<+\\infty$ ] and @xmath185<+\\infty$ ] , then @xmath186 .    for",
    "a fixed @xmath133 , let @xmath187 be a set of measurable functions @xmath188 such that @xmath189 { { \\rm{d}}}t<+\\infty &          & \\text{and } &          \\lim_{h \\searrow 0 } \\left[\\sup_{\\nu\\in u}\\int_0^{t - h } \\mathfrak{g}\\left(\\nu(t+h),\\nu(t)\\right ) { { \\rm{d}}}t\\right]=0 .",
    "\\end{aligned}\\ ] ] then @xmath187 is strongly relatively compact in @xmath190 .",
    "let @xmath191 $ ] . with the same notation of theorem  [ thm : rs ] , we set @xmath192 , @xmath193 , and @xmath194 \\doteq \\|v(\\rho)\\|_{{\\mathbf{l^{1}}}(i ) } + { \\mathrm{tv}}(v(\\rho);\\,i).\\ ] ] given a probability measure @xmath121 , we set @xmath195 ) \\ , \\delta_a + \\mu([b,+\\infty ) ) \\ , \\delta_b.\\ ] ] we then define @xmath196    the lower semi - continuity of @xmath179 with respect to @xmath197 follows from ( * ? ? ?",
    "* theorem 1 , page 172 ) and from the fact that @xmath2 is continuous .",
    "the compactness property follows from ( * ? ? ?",
    "* theorem 4 , page 176 ) .",
    "this proves that @xmath179 satisfies the assumption [ f ] .",
    "let @xmath198 be two probability measures .",
    "we observe that @xmath199)}$ ] , with @xmath200 ) ] } + x_{\\mu } \\ ,",
    "\\mathbf{1}_{(\\mu((-\\infty , a]),\\mu([b,+\\infty ) ) ) } + b \\ , \\mathbf{1}_{[\\mu([b,+\\infty)),1]}.\\ ] ] consequently , setting @xmath201 $ ] @xmath202 we easily get , from the fundamental theorem of integral calculus , @xmath203 ) } = \\int_i |f_{\\tilde{\\mu}}(x)-f_{\\tilde{\\nu}}(x)|{{\\rm{d}}}x \\leq \\int_a^b \\int_a^x |\\mu(y)-\\nu(y)|{{\\rm{d}}}y { { \\rm{d}}}x \\leq ( b - a)\\|\\mu-\\nu\\|_{{\\mathbf{l^{1}}}([a , b])},\\ ] ] and this implies the ( lower semi ) continuity of @xmath181 with respect to @xmath197 .",
    "the remaining part of the assumption [ g ] is straightforward .",
    "finally , the conditions easily follow from [ a ] and [ b ] in the statement of theorem  [ thm : aubin ] .",
    "mdf is supported by the italian miur - prin project @xmath204 . sf is partially supported by the italian indam - gnampa 2015 mini - project : analisi e stabilit per modelli di equazioni alle derivate parziali nella matematica applicata .",
    "mdf acknowledges the gran sasso science institute in laquila for the opportunity to teach this topic in a mini - course in march 2016 .",
    "part of these notes is based on the outcome of said mini - course .",
    "the authors acknowledge useful suggestions by giovanni russo for the numerical part ."
  ],
  "abstract_text": [
    "<S> in this paper we prove that the unique entropy solution to a scalar nonlinear conservation law with strictly monotone velocity and nonnegative initial condition can be rigorously obtained as the large particle limit of a microscopic follow - the - leader type model , which is interpreted as the discrete lagrangian approximation of the nonlinear scalar conservation law . </S>",
    "<S> the result is complemented with some numerical simulations . </S>"
  ]
}