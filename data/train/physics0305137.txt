{
  "article_text": [
    "the data acquisition ( daq ) system of the next generation experiments proposed in kek / japan must operate with trigger rates significantly higher than the currently on - going experiments",
    ". numbers of experiments are planned at a high intensity 50 gev proton accelerator project ( j - parc@xcite ) .",
    "the kekb b - factory also plans to upgrade to a luminosity ten times higher @xmath0(super kekb@xcite ) .",
    "the trigger rate of these experiments are estimated as 1 khz @xmath1 10 khz for the j - parc experiment and @xmath110 khz for upgraded the kekb experiment . in the above ranges , conventional daq systems based on camac , fastbus , or vme are not appropriate for our needs : camac does not allow high density channels because of its small board size ; fastbus is commercially dying out ; and vme does not supply adequate power for analog signals . because there is no suitable ( de - facto ) standard system capable of working at such a trigger rate , we developed a daq platform which may have a wide range of uses .",
    "the first application is the daq system for experiments at j - parc and the super kekb experiment .",
    "we design the daq platform with the following features :    * front - end buffering : + signals from detectors are buffered in the front - end while awaiting a trigger decision and the timing signals for data transfer are uniformly distributed to the back - end .",
    "this is effective at reducing the dead - time .",
    "* trigger / busy handshake : + the trigger / busy handshake works at a trigger rate of up to 10 khz .",
    "* front - end data reduction : + large amounts of data generated by flash adc(fadc ) , can be reduced on the board .",
    "* data transporting by data link : + data are transferred downstream to the daq system via a standard data link such as a fast ethernet . * modular system : + the system is composed of modules for maximum flexibility , allowing choice of digitization scheme , processor and data link .",
    "being modular also makes it easier to upgrade , for example , the processor or data links . * wide scalability : + the same daq system can be used not just for small - scale tests but also for large - scale experiments such as the super kekb experiment * cost effectiveness    we developed a 9u - size power crate with a 9u - size main board and a 6u - size rear board as the base elements .",
    "the power crate has a standard vme32 bus and an extension connector for the power supply .",
    "the main board is equipped with a pci mezzanine card ( pmc ) bus so that the fastest processor available can be used .",
    "the main board has three pmc slots and four front - end daughter card slots .",
    "each of the pmc slots and each of the daughter card slots have a fifo buffer for efficient data handling .",
    "the pmc buses run from the main board to the rear board .",
    "the rear board has two pmc slots and a special slot for the trigger distribution card .",
    "the front - end function , such as fadc or pipeline tdc , can be installed as front - end daughter cards similar in size to pmc cards .",
    "the event signals digitized by the front - end cards are buffered in fifos , transferred to the processor via the pmc bus , reduced by the processor , and then sent to the event - builder system through the data transfer interface via the pmc bus .",
    "the trigger information is received by the trigger card on the rear board and distributed to each front - end card .",
    "figure  [ cratepicture ] shows the crate and a read - out module used for the test .",
    "details of the daq platform components are described in the following sections .",
    "we chose a 9u euro card with a vme32 bus as the base of our system because these are widely used and are cost effective .",
    "however , the default vme system can not provide sufficient current needed for digitization analog devices .",
    "moreover , the standard vme power supply is too noisy for delicate handling of the analog signals . therefore , we added a dedicated connector as j0 for the power supply , to avoid any concern and to simplify the power treatment",
    ". supplied voltages via the j0 connector are -5.0 v and @xmath23.3 v. maximum currents delivered by j0 connector are 100a for -5.0 v , 320 a for + 3.3 v and 200 a for -3.3 v. kek - vme j0 connector is used as same as vme64x j0 connector .",
    "the definition of pins are shown in table  [ j0pin ] .",
    "eight pairs of the differential - signal bus line for the 100-mbps lvds are assigned as s1@xmath2 , s2@xmath2 , s3@xmath2 , s4@xmath2 , s5@xmath2 , s6@xmath2 , s7@xmath2 and s8@xmath2 in the j0 .",
    "its line impedance of the differential - signal bus line is 100 ohm .",
    ".kek - vme j0 connector pin - out definition [ cols=\">,^,^,^,^,^,^,^\",options=\"header \" , ]",
    "we have tested the on - board pci bus and local bus system for data transfer speed , stability over long periods of continuous use , and thermal stability .",
    "we measured the speed of data transfer from the finesse to the processor main memory in dma mode , using the finesse- jig .",
    "the measured transfer speed without overhead was 125 mb / sec .",
    "this result shows that it works with 95% of the 32bit 33mhz pci bus performance .",
    "we also measured the transfer speed including the overhead of the sequencer on the local bus .",
    "the speed was 80 mb / sec when the event size was 200 bytes .    to test for module reliability , we ran the system for 77 hours continuously . to check for error ,",
    "all the transferred data were compared with data generated by finesse - jig .    to test the thermal stability , we placed the read - out module in a thermostatted oven and changed the temperature as shown in figure  [ tempgraph ] .",
    "data generated by finesse - jig were read by finesse fifo , transferred by the plx pci-9054 dma via a local bus and a pci bus to the processor main memory , and then sent using a lan card via a 100 baset network to another computer outside the oven . in order to simulate actual use",
    ", we made the setup as shown in figure  [ testsetup ] .",
    "data generated by finesse - jig were stored into finesse fifo , transferred by the plx pci-9054 dma via a local bus and a pci bus to the processor main memory , and then sent to another computer outside the oven through a lan card .",
    "the test was performed at average trigger frequency 10 hz .",
    "no error occurred in the test .",
    "the complete system worked correctly .",
    "we have developed a widely usable high - density daq system equipped with a pmc bus as the internal bus .",
    "it has data buffers just behind the digitizers to reduce daq dead - time . on - board",
    "data are reduced by a common pc architecture .",
    "the system is modular and so the processor and the data transfer interface are upgradeable .",
    "the system is flexible and scalable and may be applied to a wide range of experiments because of its modular structure and data link interface for data transfer .",
    "this work was supported in japan by a grant - in - aid from the ministry of education , science , sports and culture .",
    "we would like to express their gratitude to all the members of belle collaboration and all members involved in the j - parc project .",
    "the authors thank s. yamada , s. iwata , f. takasaki , m. kobayashi and k.nakamura .",
    "9 the joint project team of jaeri and kek , `` the joint project for high - intensity proton accelerators '' , kek report 99 - 4 , july 1999 belle collaboration , `` expression of interest in a high luminosity upgrade of the kekb collider and the belle detector '' , http://belle.kek.jp/  yamauchi / eoi.ps.gz pci special interest group , `` pci local bus specification revision 2.2 '' , december 18 , 1998 ieee computer society p1386.1 , `` standard physical and environmental layers for pci mezzanine cards : pmc '' plx technology inc .",
    ", `` pci 9054 data book version 2.1 '' , january 2000 radisys co. , `` epc-6315 hardware reference '' , may 2002 y. arai and t. ohsugi , `` tmc - a cmos time to digital converter vlsi '' , ieee trans . on nucl .",
    ", vol 36 , p.528 - 531,1989 , http://atlas.kek.jp/tdc/index.html y. arai , m. ikeno , s. iri , t. sofue , m. sagara , m. ohta , `` developments of a new tdc lsi and a vme module '' , ieee trans.nucl.sci . ,",
    "vol 49 , p.1164 - 1169,2002 , http://atlas.kek.jp/tdc/amt2/index.html"
  ],
  "abstract_text": [
    "<S> high energy physics experiments in kek / japan rush into over khz trigger stage . thus , we need a successor of the data acquisition(daq ) system that replaces the camac or fastbus systems . to meet these needs , </S>",
    "<S> we have developed a widely usable high - density daq system which includes a crate , base - board , daughter cards for front - end a / d or t / d conversion , and back - end communication base - board for data transfer and timing control . </S>",
    "<S> the size of the crate is for the 9u euro - cards with the standard vme32 bus and extension connectors for power supply . </S>",
    "<S> the base - board comprises of a local bus with the sequencer connected to the front - end daughter cards via event buffering fifos , and the standard pmc ( pci mezzanine card ) bus to be set a pmc processor unit to reduce data size from the front - end daughter cards . </S>",
    "<S> a data transfer module , which is connected to the event building system , and a trigger control unit , which communicates with the central timing controller are installed on the back - end communication card connected to the rear end of the base - board . </S>",
    "<S> we describe the design of this daq system and evaluate the performance of it . </S>"
  ]
}