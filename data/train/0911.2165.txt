{
  "article_text": [
    "for the design of pedestrian facilities concerning safety and level of service @xcite , pedestrian streams are usually characterized by basic quantities like density or flow borrowed from fluid dynamics . up to now",
    "the experimental data base is insufficient and contradictory @xcite and thus asks for additional experimental studies as well as improved measurement methods .",
    "most experimental studies of pedestrian dynamics use the classical definition of the density in an area by @xmath0 , where @xmath1 gives the number of pedestrians in the area @xmath2 of size @xmath3 $ ] ; see e.g. @xcite .",
    "an obvious problem is that this gives an averaged density for a specific area , not a density distribution @xmath4 $ ] , and passing to the limit of areas of size zero is obviously not a well defined procedure .",
    "also the choice of the geometry of @xmath2 is important . for large convex areas",
    "it can be expected that finite size and boundary effects as well as influences of the shape of the area can be neglected , though it is almost always possible to cut out fairly large areas ( of complicated shape ) containing no person .",
    "further , the design of pedestrian facilities is usually restricted to an order of magnitude of @xmath5 to @xmath6 and rectangular geometries .",
    "in addition the number of pedestrians @xmath1 is small and thus the scatter of local measurements has the same order of magnitude as the quantity itself , see e.g. the time development of the density in front of a bottleneck in @xcite . often , due to cost restrictions",
    "the density was measured at a certain point in time , while the measurement of speed was averaged over a certain time interval @xcite .",
    "but the process of measurement and averaging influences the resulting data even for systems with few degrees of freedom as the movement along a line , see @xcite .",
    "the large progress in video techniques during recent years has made feasible the gathering of much more detailed data on pedestrian behavior , both in experiments and in real life situations , than was possible only a decade ago @xcite .",
    "the higher detail asks for a reevaluation of the methods of defining and measuring basic quantities like density , flow and speed , as the methods to get time and space averages encompassing a hundred persons over minutes may not be suitable for a resolution of a second and a square meter .",
    "basic quantities of pedestrian dynamics are the density @xmath7 $ ] in an area a , the the velocity @xmath8 $ ] and speed @xmath9 of a person or a group of persons , and the flow through a door or across a specific line @xmath10 $ ] .",
    "measurements give averages of these quantities , and trying to carry the measurement to the infinitesimal limit is obviously not reasonable .",
    "below we indicate where the limits for the possible resolution are , and give methods that allow to go fairly close to these limits .",
    "the methods presented here are based on video tracking of the head from above , but tracking of e.g. a shoulder or the chest might do even better , though they are more difficult to obtain .    as density is used as one ( important ) parameter in modeling peoples behavior , a perceived density would be best , but the details of perception are completely unknown .",
    "however , the perception definitely does not show the rapid fluctuations in time that the classical measurements do .",
    "there is not a ` right ' definition for density , flow or velocity of pedestrians ( though some definitions may be wrong ) , the definitions treated here are more or less useful for a certain purpose and allow more or less resolution .",
    "all the examples in the paper are from experiments conducted in jlich and dsseldorf and described in @xcite and @xcite .",
    "in pedestrian dynamics , density is persons per area . the density at a point is a mathematical abstraction , as persons are discrete and extended in space , and the density is well defined only on a scale large enough to be able to ignore discreteness and small enough to be homogeneous .",
    "these two conditions are no problem in fluid mechanics with @xmath11 particles per @xmath12 , but in treating pedestrians they are conflicting . the definition is directly reflected by the standard procedure of measuring it . here a certain area , usually a rectangle , is laid out , and the number of persons inside this area is counted . with @xmath1 pedestrians in the measurement area @xmath2 the standard definition is    @xmath13    this method has two drawbacks .",
    "the less important one is that occasionally `` in '' and `` out '' has to be assigned arbitrarily , usually by head position .",
    "more important , the density depends discontinuously on time and on the exact placement of the measuring area , with large jumps for small area .",
    "these jumps can be reduced by taking averages over time and/or position of the area , at the cost of resolution .",
    "a way to define point values of the density is having every person @xmath14 produce a density distribution @xmath15 - a non - negative function with unit integral @xmath16 . a step function ( e.g. @xmath17 ) , a linear function of the distance @xmath18 , or a gaussian may do for different purposes , e.g. in molecular dynamics .",
    "the central problem is the extention @xmath19 ( or @xmath20 for gaussian ) of this function .",
    "the requirements are that in a situation considered homogeneous , the resulting density from a group of people will not show too much variations , while inhomogeneities will not be masked by too large a width of the individual density function .",
    "these requirements ca nt be met with a fixed extention @xmath19 ( or @xmath20 ) of @xmath21 .",
    "much more involved but no problem for computers , is the following adaptive procedure for step functions :    * with a given set of trajectories of @xmath22 persons @xmath23 in two dimensions @xmath24 assign an exact position @xmath25 at time @xmath26 for every person @xmath14 .",
    "* compute the voronoi - diagram @xcite for these positions , giving cells @xmath27 for each person @xmath14 . *",
    "compute the size of the cell @xmath28 and define the density distribution for all persons : + @xmath29    the voronoi diagram fig.[vdplot ] assigns to every point the area closer to this point than to any other one .",
    "it has been used for defining density in the fields of granular media @xcite , molecular physics @xcite and neuroanatomy @xcite , and finds further widespread applications in graphics and mesh generation for pdes . here",
    "the program vroni is used @xcite .",
    "problems arise for the persons at the rim of a group , for which the voronoi cell may extend to infinity .",
    "restricting the individual cells in size helps , but the details of this are somewhat arbitrary . for our procedure to measure the density in the given area , we used a restriction to @xmath30 , which is active only for a few cells . in the presence of walls ,",
    "the voronoi cell is restricted to the area inside .",
    "it has been proposed by pauls @xcite for stairs to use virtual walls 15 cm inside the physical walls , but this distance depends on details of the walls like roughness etc . and may be different for level floors .    with the procedure defined above different density definitions",
    "are possible .",
    "to define a density in an area @xmath2 we choose    @xmath31    another voronoi diagram based definition which has some merits with respect to the observation area required is    @xmath32    in this definition only the sizes of the voronoi cells for the persons inside @xmath2 are used .",
    "both @xmath33 and @xmath34 are not very sensitive to the positioning of the area of measurement .",
    "@xmath33 is preferable for small measurement areas inside a crowd , where @xmath35 may not be defined if there is no person inside the area . on the other hand",
    ", @xmath33 requires useful voronoi cells for all people whose cell overlaps with the area a , not just for those whose head is inside a as @xmath35 does .",
    "therefore it is more likely to be affected by proximity to the rim of a group .",
    "[ time ] gives a time sequence of @xmath36 and @xmath33 .",
    "the latter is much more stable in time , with less than half the standard deviation .",
    "while @xmath36 changes repeatedly by about 30% and back within a second , there is only one fast change in @xmath33 , and this is less than 10% .",
    "thus while @xmath36 at a single time gives no useful information , @xmath33 does .    fig .",
    "[ time ] shows that the overall picture is similar for all definitions of densities .",
    "all densities are measured in the square @xmath2 of @xmath37 , see fig .",
    "[ densdef ] .",
    "@xmath36 obviously varies much more than the others , and more than the perception of the situation of a human observer , because entering or exiting of the rectangle by a person changes @xmath36 considerably , but not the perception .",
    "@xmath38 was averaged over rectangles shifted by up to 50 cm in each direction , @xmath39 is a moving average over 21 frames ( @xmath40 ) .",
    "@xmath39 shows more variation in time than @xmath38 , which again varies more than @xmath33 .",
    "@xmath33 has the advantage of having full resolution in space and time combined with low fluctuations .",
    "@xmath41 & @xmath42 + & @xmath43 $ ] & @xmath43 $ ] & @xmath43 $ ] + @xmath36 & 4.06 & 0.88 & 47.0 + @xmath38 & 4.33 & 0.40 & 11.7 + @xmath39 & 4.07 & 0.62 & 13.7 + @xmath33 & 3.90 & 0.23 & 4.7 + @xmath35 & 3.83 & 0.29 & 10.6 + _    for the different densities from fig .",
    "3 we have the data in table [ tab1 ] : the difference between the density averages for @xmath36 and @xmath33 are within the limits of the fluctuations , see table [ tab1 ] , but it is obvious that the density distribution is not homogeneous over the entire camera area .",
    "the voronoi cells carry information from outside the rectangle , where the density may be different",
    ". this may be the reason for part of the differences .",
    "+ using voronoi cells , a density distribution @xmath44 is attributed to every point in space . however , this distribution oscillates with stepping , so for best results only time averages have to be taken over the time of at least a step , or some smoothing of the oscillations is needed ( see below )",
    ".      given trajectory @xmath45 of a person @xmath14 , one standard definitions of the velocity with @xmath46 fixed , but arbitrary is    @xmath47    alternatively , with given entrance and exit time @xmath48 the velocity is    @xmath49\\ ] ]    with @xmath50 . the average standard speed in an observation area a is then    @xmath51    where the sum is taken over all persons that are in a for the entire time interval @xmath52 $ ] .",
    "these definitions seem simple , but there are two sources of uncertainty .",
    "the velocity of an extended object is generally ( and reasonably ) defined as the velocity of its center of mass , and for pedestrians that is hard to detect .",
    "moreover , pedestrians can and do change shape while walking .",
    "so the simple approach works only for distances long enough to make errors from shape changes and in placing the supposed center of mass unimportant .",
    "a second problem comes from the fact that velocity is a vector , and the movement of people is not straight .",
    "thus the average of the local speeds will be bigger than the value of distance per time for longer distances .",
    "notably head tracking gives tracks that can be decomposed into a fairly uniform principal movement and a local swaying superimposed .",
    "the swaying shows the steps , it varies between individuals and is larger at low speeds . of course , the head sways more than the center of mass , and it can do some independent movements , but these can dominate only at very low speeds . for most models of pedestrian movement , only the principal movement is of interest .",
    "the swaying movement of shoulders may be important in estimating the necessary width for staircases and corridors to allow overtaking .",
    "the separation of principal movement from swaying movement could be done by fourier analysis , but that requires a trajectory many steps long .",
    "a way to do it locally is to detect positions of identical phase of the movement and interpolate them .",
    "as long as there is appreciable forward motion ( @xmath53 ) , the mode of movement is the swinging of the legs in the direction of movement with approximately their free pendulum frequency ( 1.5hz-2hz ) . in this mode",
    "there is a regular sequence of points of maximum ( positive ) curvature , minimum ( negative ) curvature , and zero curvature , which correspond to the times of setting down the right foot , the left foot , and having one foot on the ground while the other just passes the standing leg in forward motion , which are the points we use .",
    "these points are easy to detect . below that speed ,",
    "the mode of stepping changes to the whole body swinging right and left with a frequency smaller than 1hz and only a small forward component , and there may be multiple points with zero curvature @xmath54 within one step .",
    "however , typically the positions of setting down a foot give a dominant extremum of curvature , while in the part in between the curvature will be close to zero with more than one zero per step . in this case , we take the middle between the maximum and the minimum curvature point as interpolation point .",
    "this has been possible down to speeds of 5 cm / s .",
    "below that , steps can only be guessed , they can not be detected reliably .",
    "the speed of the principle movement @xmath55 is calculated by @xmath56    interpolating these points now eliminates most of the swaying movement and gives a good approximation to the movement of the center of mass .",
    "the requirement of identical phase asks for taking only every other zero curvature position , but for persons with symmetric gait , taking every zero curvature position gives a better resolution with only marginally more swaying . for analysis",
    ", we will take this as curve of principal movement .",
    "similarly , the velocity vector will be obtained by computing the difference quotient of position and time between zero curvature positions , and attached to the intermediate time .",
    "standard measurement of flow @xmath57 through a door or across a line is done similar to density measurements , by counting heads passing within a time interval .",
    "this suffers from the same problems as the standard density measurement , namely large scatter and low time resolution . using the voronoi cells to obtain fractional counts",
    "( half a person has passed if half of the voronoi cell has passed ) gives a much smoother voronoi flow @xmath58 .",
    "this still does not allow a useful passing to the limit of @xmath59 , but the moving average over about half the average time difference between persons passing gives a sufficiently smooth result .",
    "[ fl_co ] compares the product of averaged standard speed and density , @xmath60 , with the direct measurement of the flow as voronoi density passing the middle line .",
    "the density was determined from a rectangle symmetric to the line for the flow of width @xmath61 and the averaged speed of the persons inside this rectangle from a symmetric time difference of @xmath46 .",
    "the two product evaluations agree reasonably well with the voronoi flow , but in spite of the fact that the measurements average over time and space they show much faster variations in time , and the total flow they calculate is somewhat less than the number of persons passing . for @xmath62 ,",
    "@xmath63 one person of 180 is missing in the integration , for @xmath64 it is even 7 persons missing . depending on the purpose of the measurements",
    ", this may be a serious problem .",
    "the high resolution measurement of speed and density allows to follow individuals on their way through some obstacles and look what combinations of speed and density they have . in fig .",
    "[ sp_vel ] the persons start in front of the bottleneck with low speed , no .",
    "72 and 80 with large space while no .",
    "58 is already in the jamming area .",
    "they pass the congestion area and pick up speed inside the bottleneck .",
    "it also allows correlating momentary speed and personal space , as well as comparing personal space and speed in general for whole groups of persons .",
    "[ sp_vel ] and [ sp_v_gen ] show a substantial difference in this relation before and inside the bottleneck , indicating that the individual speed depends more on the expectation of the future ( walking into or out of high density regions ) than on the present situation .",
    "the high resolution makes it also possible to analyze how the accelerations observed are related to changes in the space available , and to the space of people in front . on the resolution presented here",
    "it becomes clear that the correlation of speed and available space in an instationary situation differs considerably from that in the stationary situation described by the fundamental diagram .",
    "the most important relation for any model ( and for much of the analysis of pedestrian movement ) is the so - called fundamental diagram , which can be given either as relation speed versus density or flow versus density .",
    "using the improved methods of measurement , the quality of the resulting diagram is greatly enhanced .    as an example fig.([fd ] ) shows the analysis of a series of measurements of the fundamental diagram for single file movement performed with different numbers of persons ( 14 to 70 ) in the walking area , which covers all densities of interest from low ( almost free walking ) to jamming density ( near standstill ) . with the high density , stop - and - go waves developed , see fig . 5 in @xcite .",
    "for the one dimensional case with position @xmath65 of pedestrian @xmath14 the calculation of the voronoi density distribution reduces to    @xmath66 \\\\ 0 & \\mbox{otherwise } \\end{array } \\right.\\ ] ]    the definition of density @xmath33 is according to eq .",
    "[ dvoroni ] .",
    "( [ fd ] ) ( left ) shows that use of @xmath33 greatly enhances the quality of the diagram , due to the fine density resolution .",
    "use of the standard density contracts the band of s versus d onto a few vertical lines which are much longer than the width of this band and thus reduces the precision . in fig.([fd",
    "] ) , ( right ) one can see that with the standard speed @xmath67 the lowest speed is about 0.02 m / s , while @xmath68 gives values of zero .",
    "actually , some people were standing in one position for about 30s - the duration of a stop phase . for higher speeds",
    ", there is little difference between @xmath67 and @xmath68 .",
    "the combination of @xmath33 and @xmath68 gives the best diagram for the full scale of densities .",
    "the combination of modern video equipment with new methods for extracting relevant data allows an unprecedented depth of analysis of pedestrian behavior .",
    "the method for determining density is based on the concept of a voronoi cell as personal space of a pedestrian and allows a resolution down to individual level .",
    "the concept of determining velocities from difference quotients of positions with identical phase of the stepwise movement gets the resolution down to a single step .",
    "this level of resolution allows mathematical combination of data that are not valid for large scale averages .",
    "moreover they are able to resolve stop and go waves and allow a analysis of instationary processes on a microscopic level .",
    "the experiments are supported by the dfg under grant kl 1873/1 - 1 and se 1789/1 - 1 .",
    "we thank m. boltes for his support in preparation of videos for analysis .",
    "v.  m. predtechenskii and a.  i. milinskii . .",
    "amerind publishing , new dehli , 1978 .",
    "translation of : proekttirovanie zhdanii s uchetom organizatsii dvizheniya lyuddskikh potokov , stroiizdat publishers , moscow , 1969 .",
    "a.  seyfried , b.  steffen , t.  winkens , a.  rupprecht , m.  boltes , and w.  klingsch . .",
    "in c.  appert - rolland , f.  chevoir , p.  gondret , s.  lassarre , j.  lebacque and m.  schreckenberg ( eds . ) _ traffic and granular flow 2007 _",
    "p. 189199 .",
    "springer berlin heidelberg , 2009 .",
    "a.  seyfried and a.  schadschneider . .",
    "in h.  umeo , s.  morishita , k.  nishinari , t.  komatsuzaki , and s.  bandini ( eds . ) , _ cellular automata _ , _ lecture notes in computer science",
    "_ v.   5191/2008 , pp.563566 .",
    "springer berlin heidelberg , 2008 .",
    "a.  seyfried , m.  boltes , j.  khler , w.  klingsch , a.  portz , t.  rupprecht , a.  schadschneider , b.  steffen and a.  winkens . .",
    "in _ pedestrian and evacuation dynamics 2008 _ springer , ( to appear ) .",
    "preprint : arxiv:0810.1945v1"
  ],
  "abstract_text": [
    "<S> the progress of image processing during recent years allows the measurement of pedestrian characteristics on a `` microscopic '' scale with low costs . however , density and flow are concepts of fluid mechanics defined for the limit of infinitely many particles . </S>",
    "<S> standard methods of measuring these quantities locally ( e.g. counting heads within a rectangle ) suffer from large data scatter . </S>",
    "<S> the remedy of averaging over large spaces or long times reduces the possible resolution and inhibits the gain obtained by the new technologies .    in this contribution </S>",
    "<S> we introduce a concept for measuring microscopic characteristics on the basis of pedestrian trajectories . assigning a personal space to every pedestrian via a voronoi diagram reduces the density scatter . </S>",
    "<S> similarly , calculating direction and speed from position differences between times with identical phases of movement gives low - scatter sequences for speed and direction . </S>",
    "<S> closing we discuss the methods to obtain reliable values for derived quantities and new possibilities of in depth analysis of experiments . </S>",
    "<S> the resolution obtained indicates the limits of stationary state theory .    </S>",
    "<S> video tracking , voronoi diagram , pedestrian modeling , velocity measurement , pedestrian density </S>"
  ]
}