{
  "article_text": [
    "in image retrieval systems , efficiency depends prominently on identifying features that are invariant under the transformations that may occur , since such invariants reduce the search space .",
    "such transformations typically include translation , rotation , and scaling , as well as linear brightness changes .",
    "ideally , we would like to consistently identify key points whose features are invariant under those transformations .",
    "geometrical invariants have been known for a long time , and they have been applied more recently to vision tasks  @xcite .",
    "differential invariants are of particular interest since they are local features and therefore more robust in the face of occlusion .",
    "building on a suggestion by schmid and mohr  @xcite , we propose an invariant with respect to the four aforementioned transformations , based on derivatives of gaussians .    in the following ,",
    "we restrict ourselves to 2-d objects , i.e.  we assume that the objects of interest are not rotated outside the image plane , and that they are without significant depth so that the whole object is in focus simultaneously .",
    "the lighting geometry also remains constant .",
    "in other words , we allow only translation and rotation in the image plane , scaling that reduces the size of an object ( _ zoom - out _ ) , and brightness changes by a constant factor .",
    "the zooming can be achieved by either changing the distance between object and camera or by changing the focal length .",
    "schmid and mohr  @xcite have presented the following invariant under scaling .",
    "let @xmath0 , i.e. g(u ) is derived from f(x ) by a change of variable with scaling factor @xmath1 . then @xmath2 , and thus @xmath3 is an invariant to scale change .",
    "this invariant generalizes to @xmath4^{k / n } } { f^{(k)}(x)}\\ ] ] where @xmath5 denote the order of the derivatives .",
    "@xmath6 is not invariant under linear brightness change .",
    "but such an invariance is desirable because it would ensure that properties that can be expressed in terms of the level curves of the signal are invariant  @xcite .",
    "a straightforward modification of @xmath7 gives us the extended invariance : let @xmath8 where @xmath9 is the brightness factor .",
    "then @xmath10 = @xmath11 .",
    "it can be seen that @xmath12 has the desired invariance since both @xmath1 and @xmath9 cancel out .",
    "@xmath13 can be generalized to @xmath14 @xmath15 where @xmath16 , but @xmath17 is of little interest in computer vision .",
    "an obvious shortcoming of @xmath13 , as well as of the other scale invariants discussed so far , is that they are undefined where the denominator is zero .",
    "therefore , we modify @xmath13 to be continuous everywhere : @xmath18{0mm}{7 mm }      $ \\theta_{m123}(f(x))=$         & $ ( f'(x ) f'''(x ) ) / f''(x)^2 $            & if c2 \\\\          & $ f''(x)^2 / ( f'(x ) f'''(x))$        & else \\\\   \\end{tabular}\\ ] ] where c1 is the condition @xmath19 , and c2 specifies @xmath20 .",
    "note that this definition results in @xmath21 .      if we are to apply eq .",
    "[ eq : modiinvtm123 ] to images , we have to generalize the formula to two dimensions .",
    "also , images are given typically in the form of sampled intensity values rather than in the form of closed formulas where derivatives can be computed analytically .",
    "one way to combine filtering with the computation of derivatives can be provided by using gaussian derivatives  @xcite .",
    "let @xmath22 and @xmath23 be two images related by a scaling factor @xmath1 . then , according to schmid and mohr  @xcite , @xmath24{0mm}{8 mm }     & \\ \\ $ \\alpha^n      \\int_{-\\infty}^{\\infty } i_2(u , v ) \\circledast",
    "g_{i_1\\dots i_n}(u , v ; \\alpha",
    "\\sigma)\\,du\\,dv$   \\end{tabular}\\ ] ] where the @xmath25 are partial derivatives of the 2-d gaussian .",
    "rotational invariance is a highly desirable property in most image retrieval tasks . while derivatives are translation invariant , the partial derivatives in  eq .",
    "[ eq : sm2ddogs ] are _ not _ rotationally invariant .",
    "however , there are some well - known rotationally invariant differential operators . recall that the 2-d zero mean gaussian is defined as @xmath26 then the gradient magnitude @xmath27 is a first order differential operator with the desired property .",
    "horn  @xcite gives the following second order operators : @xmath28{0mm}{7 mm }      & = $ ( x^2+y^2 - 2\\sigma^2 ) / \\sigma^4 \\",
    "g$   \\end{tabular}\\ ] ] @xmath29{0mm}{8 mm }          & \\ = $ \\sqrt{(x^2-\\sigma^2)^2 + 2 x^2 y^2 +                                   ( y^2-\\sigma^2)^2 } / \\sigma^4 \\",
    "g$    \\end{tabular}\\ ] ] where log is the laplacian of gaussian .",
    "qv stands for quadratic variation where we have taken the square root in order to avoid high powers .",
    "schmid and mohr also suggest what they call @xmath30 $ ] : @xmath31(x , y ; \\sigma)$      = $ g_{xx } g_x^2 + 2\\,g_{xy } g_x g_y + g_{yy } g_y^2 $ \\\\",
    "\\rule[-2.5mm]{0mm}{7 mm }         & \\ \\",
    "= $ ( ( x^4-\\sigma^2 x^2 ) + 2 x^2 y^2 +          ( y^4-\\sigma^2 y^2 ) ) / \\sigma^8 \\ g^3 $    \\end{tabular}\\ ] ]    analogous to qv , we define a third order differential operator which we call _ cubic variation _ to be @xmath32{0mm}{8 mm }      & \\ \\",
    "= $ \\sqrt {                          ( 3\\sigma^2 x - x^3)^2 +                           3 ( \\sigma^2 y - x^2 y)^2 + \\dots } / \\sigma^6 \\",
    "g$                          % 3 ( \\sigma^2 x - x y^2)^2 +                          % ( 3\\sigma^2 y - y^3)^2 } \\",
    "g$     \\end{tabular}\\ ] ] by contrast , schmid and mohr use @xmath33(x , y ; \\sigma)$      & = $ g_{xxx } g_x g_y^2 + g_{xxy } ( -2\\,g_x^2 g_y + g_y^3)$ \\\\       & \\ \\ + \\ $ g_{xyy } ( -2\\,g_x g_y^2 + g_x^3 ) + g_{yyy } g_x^2 g_y$ \\\\      \\rule[-2.5mm]{0mm}{8 mm }      & = $ ( ( 3 \\sigma^2 x - x^3 ) x y^2 + \\dots ) / \\sigma^{12 } \\ g^4 $         % ( \\sigma^2 y - x^2 y ) ( -2 x^2 y + y^3 ) + \\dots } \\",
    "g^2 $    \\end{tabular}\\ ] ] and @xmath34(x , y ; \\sigma)$      & = $ g_{xxx } g_x^3 + 3\\,g_{xxy } g_x^2 g_y$ \\\\        & \\ \\ + \\ $ 3\\,g_{xyy } g_x g_y^2 + g_{yyy } g_y^3 $ \\\\      \\rule[-2.5mm]{0mm}{8 mm }      & = $ ( ( 3 \\sigma^2 x - x^3 ) x^3 + \\dots ) / \\sigma^{12 } \\",
    "g^4 $        % 3 ( \\sigma^2 y - x^2 y ) x^2 y + \\dots ) \\",
    "g^4 $    \\end{tabular}\\ ] ] these operators are shown in fig .",
    "[ fig : diffops ] for @xmath35 . given this choice of operators , the criteria on which we select the operators are as follows :    * the operator must fulfill eq .",
    "[ eq : sm2ddogs ] , i.e.  scaling by @xmath1 ( of both @xmath36 and @xmath37 simultaneously ) should return a factor of @xmath38 , where @xmath39 is the order of the operator , so that eq .",
    "[ eq : modiinvtm123 ] is indeed a scale invariant .",
    "* the operators used to compute @xmath40 should differ in shape as much as possible from each other in order to deliver more discriminative results .",
    "with respect to the first criterion , the gradient returns a factor @xmath41 , as required for a first order differential operator , and the log and qv return a factor of @xmath42 , but @xmath30 $ ] returns @xmath43 .",
    "this can not be remedied by taking the square root since @xmath30 $ ] is negative at some points .",
    "as for the third order operators , cv returns @xmath44 , while @xmath45 $ ] and @xmath46 $ ] return @xmath47 .",
    "we can take the square root of @xmath45 $ ] but not of @xmath46 $ ] . where the second criterion is concerned",
    ", the log is preferable to qv since the log has both positive and negative coefficients , which makes it unique compared to all other operators .",
    "it is not obvious whether cv or @xmath48}$ ] has more discriminatory power , the difference between them seems negligible .",
    "@xmath48}$ ] has a slightly more compact support , but the coefficients are an order of magnitude smaller than those of cv and the other operators . fig .",
    "[ fig : diffopscross2d ] shows cross sections through the center of some of the operators in fig .",
    "[ fig : diffops ] . in our experiments",
    ", we used the gradient , log , and cv as the differential operators to compute @xmath40 according to eq .",
    "[ eq : modiinvtm123 ] .",
    "since gradient and cv are always positive or zero , we have @xmath49 .",
    "note that eqs .",
    "[ eq : grad2d ] to  [ eq : nu8 ] suggest two ways of implementation .",
    "either , kernels representing the partial derivatives of the gaussian can be used , and the operators are assembled from those kernels according to the left hand sides of the equations , or a characteristic filter is designed in each case according to the right hand sides of the equations .",
    "the infinite integrals in eq .  [ eq : sm2ddogs ] can only be approximated by sampled , finite signals and filters .",
    "furthermore , in cameras , where the number of pixels is constant , a world object is mapped into fewer pixels as the camera zooms out , leading to increasing spatial integration over the object and ultimately to aliasing .",
    "this means that the computation of @xmath40 necessarily has an error .",
    "equation  [ eq : sm2ddogs ] suggests a way to analyze the accuracy of @xmath40 by simulating the zoom - out process .",
    "the left hand side can be thought of as a _ scaling by filtering _ ( sf )",
    "process while the right hand side could be called _ scaling by optical zooming _ ( so ) where we deal with a scaled , i.e.  reduced image and an appropriately adjusted gaussian operator . here , scaling by optical zooming serves to simulate the imaging process as the camera moves away from an object .",
    "the two processes are schematically depicted in fig .",
    "[ fig : zoom2dsof ] .",
    "the input to the simulation are 8-bit images taken by a real camera .",
    "the scaling factor @xmath1 is a free parameter , but it is chosen such that the downsampling maps an integer number of pixels into integers . both sf and so start off with a lowpass filtering step .",
    "this prefiltering , implemented by a gaussian with @xmath50 , improves the robustness of the computations significantly as derivatives are sensitive to noise .",
    "also , lowpass filtering reduces aliasing at the subsequent downsampling step .    in so , if the image function had a known analytical form , we could do the scaling by replacing the spatial variables @xmath36 and @xmath37 by @xmath51 and @xmath52 . but",
    "images are typically given as intensity matrices .",
    "therefore , the downscaling is done by interpolation , using cubic splines .",
    "we then apply the differential operators ( gradient , log , cv ) with the appropriate value of @xmath53 to the image and compute the invariant @xmath54 . by contrast , in sf , the operators are applied to the original size image .",
    "the invariants are computed and then downscaled , using again cubic spline interpolation , to the same size as the image coming out of the so process , so that @xmath54 and @xmath55 can be compared directly at each pixel .",
    "[ fig : thetam123_buildings_05x256 ] demonstrates the simulation process on a real image . the original image , 256@xmath56256 , in the top row , is downscaled to 100@xmath56100 , i.e.  by a factor  @xmath57 .",
    "the second and third row show @xmath40 as the results of sf and so , respectively , at all pixel locations .",
    "[ fig : diffthetam123_buildings_05x256 ] shows the absolute difference between @xmath55 and  @xmath54 , where the four boundary rows and columns have been set to zero in order to mask the boundary effects .",
    "note that the difference is roughly a factor  100 smaller than the values of  @xmath54 or  @xmath55 .    in order to quantify the error , we have varied @xmath1 from 1 to 2.56 , sampled such that the downscaled image has an integer pixel size , and computed the _ global absolute differences _",
    "@xmath58 where @xmath59 range over all non - boundary pixels of the respective image , as well as the _ global relative error _",
    ", in percent : @xmath60 the graphs of these measures are shown in fig .",
    "[ fig : relgloberrthetam123_buildings_05x256 ] .",
    "we see that the global relative error is less than 1.3% even as @xmath1 becomes as large as 2.56 . for the set of images we worked with , we have observed @xmath61 for @xmath62 .",
    "we also noted that without prefiltering @xmath63 can become as large as 10% .",
    "[ fig : errorthetam123_buildings_05x256 ] shows the relative error per pixel in percent , i.e.  @xmath64 , but only for those pixels @xmath65 where @xmath66 is larger than the average value of @xmath54 .",
    "we find that error to be less than 3.5% anywhere in the given example .",
    "in the context of image retrieval , there remain some major issues to be addressed .",
    "first , the performance of the proposed invariant has to be analyzed on sequences of images taken at increasing object - camera distance , i.e.  the simulation of the zoom - out process has to be replaced with a true camera zoom - out .",
    "intrinsic limitations of the image formation process by ccd cameras  @xcite can be expected to somewhat decrease the accuracy of the invariant .",
    "second , a scheme for keypoint extraction must be devised . for efficiency reasons",
    ", matching will be done on those keypoints only .",
    "ideally , the keypoints should be reliably identifiable , irrespective of scale .",
    "third , the proposed invariant must be combined with a scale selection scheme .",
    "note that in the simulation above , we knew _ a priori _ the right values for @xmath1 and therefore for @xmath53 and the corresponding filter size .",
    "but such is not the case in general object retrieval tasks .",
    "selecting stable scales is an active research area  @xcite .",
    "the author would like to thank bob woodham and david lowe for their valuable feedback ."
  ],
  "abstract_text": [
    "<S> this paper presents an invariant under scaling and linear brightness change . </S>",
    "<S> the invariant is based on differentials and therefore is a local feature . </S>",
    "<S> rotationally invariant 2-d differential gaussian operators up to third order are proposed for the implementation of the invariant . </S>",
    "<S> the performance is analyzed by simulating a camera zoom - out . </S>"
  ]
}