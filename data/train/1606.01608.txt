{
  "article_text": [
    "he past quarter century has seen the pioneering work of tassiulas and ephremides @xcite , lin and shroff @xcite , lin , shroff and srikant @xcite , and neely , modiano and rohrs @xcite on max - weight and backpressure based scheduling policies for communication networks that are provably throughput optimal , attaining any desired maximal throughput vector on the pareto frontier of the feasible throughput region . in this paper",
    "we develop completely decentralized and tractable scheduling policies that achieve any desired maximal throughput vector of packets that meet specified hard end - to - end relative deadlines for packets under average - power constraints on nodes .    to see why this is a challenge",
    ", one may consider the situation depicted in figure  [ fig2 ] .",
    "suppose that node @xmath0 needs to decide whether to serve the packet of flow @xmath1 or the packet of flow @xmath2 .",
    "packets of flow @xmath1 are experiencing downstream congestion , in contrast to packets of flow @xmath2 which face no downstream congestion .",
    "thus node @xmath0 is better off serving the packet of flow @xmath2 rather than flow @xmath1 since the latter would anyway get delayed and not make it to its destination on time .",
    "therefore network state is useful information .",
    "the central contribution of this paper shows just how to obtain an optimal distributed scheduling policy when nodes face average - power constraints .",
    "when nodes face peak - power constraints we provide a distributed approximately optimal policy that approaches optimality in a precisely quantifiable way .",
    "the main contribution is the design of completely decentralized optimal routing and scheduling policies which can attain any desired maximal throughput vector of packets that are delivered end - to - end by their stipulated deadlines , when nodes have average - power constraints .",
    "that is , the policies are precisely optimal with respect to the throughput delivered under hard end - to - end delay constraints .",
    "these results addressing per - packet hard delay bounds are obtained by considering a decomposition of the lagrangian of the constrained network - wide markov decision process that is intrinsically stochastic and different from a fluid - based analysis .",
    "we show that a policy where each node makes decisions based only on the age of the packets present at it , and a prior computable price of transmission , oblivious to all else in the network , is optimal .",
    "this vastly simplifies the network operation .",
    "if the nodes instead have peak - power constraints , then the decentralized policy can be simply truncated to yield a policy that is near - optimal in the same quantifiable sense as whittle s relaxation for multiarmed bandits @xcite .    in this paper",
    "we address the case where links are unreliable .",
    "this is of interest in networks with directional antennas , or networks of microwave repeaters , or even networks composed of unreliable wireline links . in a companion paper @xcite",
    "we address the case where the links face interference .    delivering packets on time",
    "is of great interest in emerging applications such as cyber - physical systems , where control - loops are closed over networks , are sensitive to delays .",
    "similarly , quality of service ( qos ) requirements for real - time applications such as video streaming , voip , surveillance , sensor networks , mobile ad - hoc networks ( manets ) , and in - vehicular networks , all entail that packets should be delivered on time  @xcite .",
    "the rest of this paper is organized as follows . in section",
    "[ problem - considered ] we describe the problem considered and the main results . in section [ pw ]",
    "we summarize previous work and set this work in context . in section [ sm ]",
    "we describe the system model . in section [ rr ]",
    "we describe the constrained network - wide mdp . in section [ a1 ]",
    "we show the packet - level decomposition of the network - wide lagrangian . in section [ spsf ]",
    "we describe the single - packet transportation mdp that arises . in section [ pmdp ]",
    "we consider the dual problem of the constrained network - wide mdp and establish strong duality . in section",
    "[ solution ] we show that the implementation of the packet - level optimal transportation policies yields an overall optimal policy for the entire system . in section",
    "[ direct - sol ] we show how the overall optimal policy is obtained through a tractable linear program . in section [ threshold ]",
    "we show that there is a further simplifying threshold structure for the optimal policy . in section [ sec : optpol ] we show how the optimal prices can be precomputed . in section [ sec : linkcap ] we address the problem with link capacities or , equivalently , peak - power constraints . in section [ sec : peakpow ] we establish the asymptotic optimality of the truncated policy . in section [ wirelessfading ]",
    "we address the problem when the channel condition changes with time . in section [ jointnonreal ]",
    "we address the problem where there are both real - time flows as well as non - real - time flows . in section [ examples ]",
    "we provide examples showing how the theory can be used to determine optimal distributed policies , and also present a comparative simulation study of the performance of the truncated policy for link - capacity constraints .",
    "we conclude in section [ conclusion ] .",
    "we consider multi - hop , multi - flow networks in which packets of all flows have a hard end - to - end relative deadlines .",
    "( the relative deadline is the remaining time - till - deadline when a packet arrives ) .",
    "nodes can transmit packets at varying power levels .",
    "since the wireless channel is unreliable , the outcome of packet transmissions is modeled as a random process .",
    "nodes can transmit and receive packets simultaneously .",
    "the throughput of packets of a flow that meet the end - to - end relative deadline constraint is called the timely - throughput .",
    "we consider the following two types of nodal constraints in this paper : a ) an average - power constraint on each node in the network , or b ) a link - capacity constraint on each network link which bounds the number of concurrent packets that can be transmitted on it at any given time @xmath3 , or , equivalently , a peak - power constraint at each node .",
    "our goal is to design a decentralized , joint scheduling , transmission and routing policy , abbreviated as a  scheduling policy , \" that maximizes the weighted sum of the timely - throughputs of the flows , for any given nonnegative choice of weights . that is , it can attain any point on the pareto frontier of the timely - throughput vector . to be optimal",
    ", the policy should be dynamic enough and take into account in an online fashion the following factors :    * _ routing _ : the policy will need to dynamically route packets so as to avoid paths that have a higher delay or nodes with lower power budgets .",
    "* _ scheduling _ : the policy will need to prioritize packet transmissions based on their age , the channel conditions , and the congestion at the nodes lying on the paths to their destinations . * _ energy efficiency and channel reliability _ : it will need to choose the power levels of packet transmissions to balance between reliability and energy consumption .",
    "if channel states are time - varying , the policy will have to carry out packet transmissions opportunistically when the channel states are  good \" so that the maximum throughput under deadline constraints is attained in an energy - efficient manner  @xcite .",
    "this also involves a trade - off between packets missing their deadlines on account of bad channel conditions , and between spending more energy to transmit it in a bad channel state so that it reaches the destination within its deadline .",
    "the main result is the determination that a markov decision process for a certain  single - packet transportation problem \" governs the behavior of each packet , oblivious to all other traffic or network state . in this standalone problem ,",
    "a single packet optimizes its progress through the network , paying prices to nodes every time it requests transmission , but is compensated with a reward if it reaches its destination prior to the hard deadline .",
    "the only manner in which this optimal single - packet transportation problem is coupled to the overall network , nodal power constraints , other flows and other packets , is through predetermined prices for nodal transmissions .",
    "the optimal prices can be tractably computed off - line and stored .",
    "determining the optimal policies for all packets is also of tractable complexity , involving a linear program with the number of variables equal to the product of the square of the number of nodes , the number of flows and the maximum relative deadline , rather than the network state that is exponential in the above quantity .",
    "thereby , we obtain optimal distributed policies for maximizing the network s timely - throughput of packets meeting hard per - packet deadlines under average - power constraints on the nodes .",
    "the key to these results is to pursue a fundamentally stochastic approach that considers the lagrangian of the constrained network - wide markov decision process ( mdp ) governing the entire network , and showing how it decomposes into packet - by - packet decisions .",
    "this decomposition approach allows treatment of the intrinsically variability related aspects such as delay , in sharp contrast to the backpressure approach that considers the decomposition of the lagrangian of the fluid model .",
    "thus the approach of this paper is able to address delay rather than just throughput . through this novel decomposition",
    ", we can address timely - throughput optimality of packets that meet hard per - packet delay deadlines , rather than just throughput optimality .",
    "moreover , it does so producing a completely distributed and tractable policy , for systems with average - power constraints at nodes and unreliable links .",
    "when nodes have peak - power constraints in addition to , or in place of , average - power constraints , one can simply truncate the above optimal policy dynamically to respect the peak - power constraint , and obtain a policy that is quantifiably near - optimal . specifically , it is asymptotically optimal in the same manner as whittle s relaxation for multi - armed bandits @xcite .",
    "the exposition proceeds as follows .",
    "we begin with the overall problem with average nodal power constraints and invoke the scalarization principle to pose the problem of maximizing the network s weighted timely - throughput subject to nodal average - power constraints as a constrained network - wide markov decision process ( mdp )  @xcite .",
    "we then solve this problem by considering the lagrangian dual of this constrained network - wide mdp .",
    "the lagrange multipliers associated with the average - power constraints are interpreted as prices paid by a packet for utilizing energy every time its transmission is attempted by a node . as recompense ,",
    "a packet collects a reward equal to the weight of its flow when it reaches its destination within its specified hard deadline .",
    "this results in a very convenient packet - level decomposition into an optimal single - packet transportation problem .",
    "the markov decision process for this problem has a small - sized state - space : ( number of nodes)*(bound on relative deadline ) , much smaller than the exponentially large number of states in the network - wide problem .",
    "the prices can be calculated off - line just by price tattonement that drives the  excess power consumption \" at nodes to zero .",
    "the optimal policies for all packets of all flows can be determined by solving a linear program with a small number of states .",
    "importantly , the overall approach yields a completely distributed solution , where a node only needs to know the remaining times - till - deadlines of packets present at that node , that is timely - throughput optimal under average - power constraints at nodes .",
    "when the constraints are on link - capacity and not its average utilized capacity , or equivalently on peak - power and not average - power , one obtains a near - optimal policy by simply truncating the average power - optimal policy .",
    "the result is asymptotically optimal as the network capacity is increased , in the same sense as whittle s indexability  @xcite approach is asymptotically optimal as the population of bandits increases in proportion  @xcite .",
    "over the past twenty - five years there have been several notable advances in the theory of networking .    in pioneering work , tassiulas and ephremides @xcite , lin and shroff @xcite , lin , shroff and srikant @xcite , and neely , modiano and rohrs @xcite have shown that scheduling networks based on max - weight and backpressure are throughput optimal .",
    "the backpressure policy emerges naturally from a decomposition of the lagrangian for the fluid network .    in another breakthrough ,",
    "jiang and walrand @xcite have designed a novel adaptive carrier sensing multiple access algorithm for a general interference model that achieves maximal throughput through completely distributed scheduling under slow adaptation , without slot synchrony , if packet collisions are ignored . combined with end - to - end control",
    "it also achieves fairness among the multiple flows .    in another seminal contribution , kelly",
    ", maulloo and tan @xcite have shown that the problem of congestion control of the internet can be formulated as convex programming problem and have provided a quantitative framework for design based on primal or dual approaches .",
    "eryilmaz , ozdaglar and modiano @xcite have developed a throughput optimal randomized algorithm for routing and scheduling of the common two - hop interference model that can be implemented in a distributed way with polynomial complexity .",
    "they have also developed such a policy for inelastic flows that takes flow control into account and results in a fair allocation of the network s capacity .",
    "any effort at developing a delay - optimal scheduling policy needs to take into account the time - till - deadline of packets in the network .",
    "the csma algorithm does not do so .",
    "the backpressure policy schedules packets only on the basis of rate - weighted queue lengths of nodes and provides no delay guarantees .",
    "in fact , fluid - based policies such as the backpressure policy , should be expected to and have been shown to be throughput optimal , but they should not be expected to provide delay optimality .",
    "they can perform poorly with regard to delay performance  @xcite . for optimal delay performance",
    ", one needs to start with a fundamentally stochastic framework that takes fluctuations into account .",
    "this is akin to the difference between the law of large numbers and the central limit theorem .",
    "such a stochastic framework is the path that is pursued in this paper .",
    "there has been considerable progress on the problem of scheduling an access point , in which multiple one - hop flows with hard relative deadlines share a wireless channel",
    ". the pareto optimal frontier of timely - throughput vectors has been characterized , and simple optimal policies have been determined @xcite .",
    "li and eryilmaz  @xcite consider the problem of scheduling deadline - constrained packets over a multi - hop network .",
    "however , the proposed policies are not shown to have any provable guarantees on the resulting timely - throughput . to the best of the authors knowledge , mao , koksal and shroff",
    "@xcite is the only work which provides a provable sub - optimal policy for deadline - constrained networks , though the policies proposed therein guarantee only a fraction , @xmath4 , of the timely - throughput capacity region .",
    "we consider networks in which the data - packets have a hard deadline constraint on the time within which they should be delivered to their destination nodes if they are to be counted in the throughput .",
    "the communication network of interest is described by a directed graph @xmath5 as shown in figure  [ fig1 ] , where @xmath6 is the set of nodes that are connected via communication links .",
    "a directed edge @xmath7 signifies that node @xmath0 can transmit data packets to node @xmath8 .",
    "we will call this link @xmath9 .     flows .",
    "flow @xmath10 , with source @xmath11 and destination @xmath12 , has several feasible routes .",
    "its end - to - end relative deadline is @xmath13 .",
    "node @xmath0 has an average - power constraint @xmath14 .",
    "a packet transmitted on link @xmath15 has a probability @xmath16 of being successfully received by node @xmath8 .",
    "though not so indicated , the probability @xmath17 may depend on the power level of the packet s transmission by node @xmath0 .",
    ", width=288 ]    we assume that time is discrete , and evolves over slots numbered @xmath18 .",
    "one time - slot is the time taken to attempt a packet transmission over any link in the network .",
    "there are a finite number of transmit power levels at which a packet can be transmitted . for convenience , we normalize each time slot to 1 second , so that power and energy of a transmission are interchangeable .",
    "the outcome of a transmission over a link between any two nodes is allowed to be random , which enables us to model unreliable channels . if a packet transmission occurs on the link @xmath19 at a certain power level that consumes energy @xmath20 , then the transmission is successful with probability @xmath21 , which is monotone decreasing in @xmath20 .",
    "we can model the phenomena of wireless fading by allowing the success probability @xmath22 to also be a function of time that can be assumed to be governed by a finite - state markov process , whose state is known at the transmitting node .",
    "however , for simplicity of exposition , we consider time - invariant @xmath21 s only . in this paper",
    "we do not consider contention for the transmission medium ; the case of interference is considered in the companion paper @xcite .",
    "the network is shared by @xmath23 flows .",
    "packets of flow @xmath10 have source node @xmath11 and destination node @xmath12 .",
    "they may traverse one of several alternative routes .",
    "the numbers of packet arrivals of a flow at its source node are i.i.d . across time - slots , though the distribution can vary from flow to flow . for simplicity of exposition",
    "we suppose that these distributions have bounded support , i.e. , the number of arrivals is bounded , though we can relax this to merely assuming they are finite valued .",
    "packets across flows are independent .",
    "the analysis below carries over to the case when the arrivals and relative deadlines ( detailed below ) are governed by a finite - state markov process .",
    "we will denote the average arrival rate of flow @xmath10 in packets / time slot by @xmath24 .",
    "each packet of flow @xmath10 has a  relative - deadline , \" or ",
    "allowable delay \" @xmath13 .",
    "if a packet of flow @xmath10 arrives to the network at time @xmath3 , then it needs to be either delivered to its destination node by time - slot @xmath25 , or else it is discarded from the network at time @xmath25 if it has not yet reached its destination @xmath12 .",
    "we suppose that all relative deadlines of packets are bounded by a quantity @xmath26 .",
    "we can allow packets of a flow to have random independent and identically distributed ( i.i.d . )",
    "deadlines , independent across flows , however , for simplicity of exposition we will suppose that all packets of flow @xmath10 have the same relative deadline @xmath13 .",
    "the  timely - throughput \" @xmath27 attained by a flow @xmath10 under a policy is the average number of packets delivered prior to deadline expiry per unit time , i.e. , @xmath28 where the random variable @xmath29 is equal to the number of packets of a packet of flow @xmath10 that are delivered in time to their destination at time @xmath3 , with the expectation taken under the policy being applied .",
    "the vector @xmath30 is called the  timely - throughput vector .",
    "\" a timely - throughput vector @xmath31 that can be achieved via some scheduling policy will be called an  achievable timely - throughput vector \" .",
    "the set of all achievable timely - throughput vectors constitutes the  rate - region , \" denoted by @xmath32 .",
    "given weights @xmath33 for the timely - throughput of each flow @xmath34 , we will define the  weighted timely - throughput \" as @xmath35 , where @xmath36 .",
    "in sections [ rr]-[sec : optpol ] we consider an average - power constraint on each node @xmath37 .",
    "if the total energy consumed by all the concurrent packet transmissions on link @xmath19 at time @xmath3 is @xmath38 units of energy , then the nodal average - power constraints are given by , @xmath39 the second summation above is taken over all links @xmath19 , where @xmath15 for some node @xmath8 . for simplicity of exposition , we suppose that the number of power levels available to choose from for any transmission is finite .",
    "we note that the above constraint on the average - power allows a node to transmit packets simultaneously over several outgoing links , which can be achieved via employing various techniques such as tdma , ofdma , cdma etc .",
    "we suppose that nodes can simultaneously receive any number of packets while they are transmitting .",
    "we will derive completely distributed scheduling policies that maximize the weighted timely - throughput for any given weight vector @xmath40 for the unreliable multi - hop network under the average - power constraint ( [ shannon ] ) on nodes .    as an alternative to , or in addition to it , in section",
    "[ sec : linkcap ] we will consider peak - power constraints on each link : @xmath41 alternatively , we can constraint the number of concurrent packets that can be transmitted on a link @xmath19 at each time @xmath3 . for either of these situations , we will obtain quantifiably near - optimal distributed scheduling policies .",
    "in order to characterize the network s rate - region @xmath32 , it is sufficient to characterize the set of pareto - optimal vectors @xmath42 is a timely - throughput vector and @xmath43 such that @xmath44 , since @xmath32 is simply its closed convex hull .",
    "the problem of obtaining @xmath32 therefore reduces to that of finding scheduling policies which maximize weighted timely - throughputs of the form @xmath35 .",
    "the latter problem can be posed as a constrained network - wide markov decision process ( cmdp )  @xcite .",
    "the state of an individual packet present in the network at time @xmath3 is described by the flow @xmath10 to which it belongs , and the two tuple @xmath45 , where @xmath0 is the node at which it is present , and @xmath46 is the time - to - go till its deadline .",
    "the state of the network at time @xmath3 , @xmath47 , is described by specifying the state of each packet present in the network at time @xmath3 . since the time spent by a packet in the network",
    "is bounded by @xmath26 , and since the number of arrivals in any time slot is also bounded due to the bounded support assumption , the system state @xmath47 takes on only finitely many values , though it will be exponentially large .",
    "a scheduling policy @xmath48 has to choose , at each time @xmath3 , possibly in a randomized way , which packets to transmit at each node from the set of available packets , and over which links and at what powers .",
    "the link choice allows routing to be optimized .",
    "the choice made at time @xmath3 will be denoted @xmath49 .",
    "since the probability distribution of the system state @xmath50 at time @xmath51 depends only @xmath47 and @xmath49 , the problem of maximizing the timely - throughput subject to node - capacity constraints   is a cmdp , where a reward of @xmath52 is received when a packet of flow @xmath10 is delivered to its destination before its deadline expires : @xmath53 above , @xmath29 is the number of packets of flow @xmath10 delivered in time to @xmath12 at time @xmath3 .    the above cmdp , parameterized by the vector @xmath54 , is optimized by a stationary randomized policy  @xcite .",
    "since the numbers of states and actions , are both finite , there is a finite set @xmath55 of stationary randomized policies such that for each value of @xmath40 , there is a policy that belongs to this set and solves the cmdp  @xcite . let @xmath56 be the vectors of timely - throughputs associated with the policies @xmath57 .",
    "we then have the following characterization of @xmath32 :    [ lemma1 ] @xmath58    note that , though finite , using the above lemma is intractable for computation since the number of stationary markov policies is exponentially large in the following parameter : maximum possible number of packets in the network @xmath59 maximum path length of the flows @xmath59 maximum possible relative deadline .",
    "we therefore seek to design significantly lower complexity decentralized scheduling policies that achieve the region @xmath32 .",
    "since we can restrict ourselves to stationary randomized policies , we can replace @xmath60 and @xmath61 by @xmath62 :    maximizing the timely - throughput   subject to nodal average power constraints   can equivalently be posed as the following cmdp : @xmath63",
    "defining @xmath64 as the lagrange multiplier associated with the power constraint on node @xmath0 , and @xmath65 , we can write the lagrangian for ( [ op ] ) as , @xmath66 where the expectation is w.r.t . the policy @xmath48 that is being used , the random packet transmission outcomes , and the randomness of the packet arrivals and relative deadlines , if the latter are random .",
    "denoting by @xmath67 the amount of energy spent on transmitting the @xmath68-th packet of flow @xmath10 at time @xmath3 on link @xmath19 , we have , @xmath69 the lagrangian ( [ lagr ] ) reduces to , @xmath70    this can be decoupled completely on a packet - by - packet basis for any fixed value of the vector @xmath71 , as follows .",
    "let packets@xmath72 set of all packets of flow @xmath10 .",
    "we will denote a packet by @xmath73 .",
    "let packets@xmath74 subset of packets of flow @xmath10 that arrive before time @xmath3 .",
    "let @xmath75 total energy consumed by packet @xmath73 at node @xmath0 , @xmath76 flow that @xmath73 belongs to , and @xmath77 be the random variable that assumes value one if packet @xmath73 reaches its destination before its deadline and zero otherwise .",
    "since the relative deadlines of packets are bounded , @xmath78 can be rewritten as a sum over packets : @xmath79 the term corresponding to packet @xmath73 of flow @xmath10 , @xmath80 can be interpreted as follows .",
    "the packet incurs a payment of @xmath64 for using unit energy at node @xmath0 , and accrues a reward of @xmath52 if it reaches its destination before its deadline expires .",
    "this _ optimal single - packet transportation problem _ is of very low complexity and is addressed further in section [ spsf ] .",
    "let @xmath81 denote its optimal expected cost .    due to the decomposition of ( [ lagr2 ] ) over packets , we can optimize packet - by - packet .",
    "hence we obtain , @xmath82 since @xmath24 is the arrival rate of packets of flow @xmath10 .",
    "therefore , for designing the policy @xmath48 for maximizing the lagrangian , we can simply solve the optimal single - packet transportation problem and let each packet make its own decision at each node on whether it wants to be transmitted , and if so , at what power level .",
    "no network state knowledge is needed by a packet to determine its optimal decision .",
    "importantly , each packet s actions are independent of the actions chosen for all other packets in the network .",
    "it is very noteworthy that this results in a completely scheduling decentralized policy .",
    "the optimal single - packet transportation problem is described as follows .",
    "a single packet of flow @xmath10 is generated at time @xmath83 at source node @xmath11 , with state @xmath84 , where @xmath13 is the time - to - deadline . at each time step",
    "thereafter , the time - to - deadline is decremented by one .",
    "if it is not delivered to the destination node @xmath12 by time @xmath85 , then it is discarded from the network .",
    "a reward of @xmath52 units is accrued if the packet reaches the destination node @xmath12 by time @xmath13 .",
    "a price @xmath64 per unit energy has to be paid by the packet for transmission over an outgoing link at node @xmath0 . with the state of the packet described by the two tuple @xmath45 , where @xmath0 is the node at which it is present , and @xmath46 is the time - till - deadline",
    ", we can use dynamic programming to solve for the value function @xmath86 , @xmath87 solving for the maximizer on the rhs yields the optimal action , i.e. , whether to transmit or not , and if so , at what level , for the packet of flow @xmath10 in the state @xmath45 .",
    "it is important to note that this is a low complexity problem .",
    "each packet s state only consists of the two tuple , ( node it is currently at , time remaining to its deadline ) .",
    "this is simply a dynamic programming problem over a time horizon of @xmath26 , with @xmath88 states , in contrast to the exponentially large size , @xmath89 , of the original network s state - space .",
    "the dual function is @xmath90 importantly , it can be obtained in a decentralized fashion for any price vector @xmath71 , due to the decomposition into a collection of optimal single - packet transportation problems coupled only through the node prices @xmath64 .",
    "the dual problem is : @xmath91    there is no duality gap .",
    "the cmdp   can equivalently be posed as a linear program , in which the variables to be optimized are the _ occupation measures _",
    "@xcite induced by the policy @xmath48 on the joint state - action space .",
    "being a linear program , the duality gap is zero .",
    "we now elaborate on how the optimal single - packet transport problem yields the overall network - wide optimal joint routing , scheduling and transmission policy .",
    "the key is to use randomization when packets are indifferent to being transmitted at two power levels .",
    "this arises when two different choices both attain the maximum of the rhs of the dynamic programming equation ( [ bell ] ) . in such cases ,",
    "the action taken can be chosen randomly from one of the maximizers .",
    "such randomization allows satisfaction of the power constraints with equality , or , to put it another way , it allows us to fully use up all the power that is available at a node if beneficial .    let @xmath92 be a price vector . denote by @xmath93 an optimal randomized policy for packets of flow @xmath10 , and by @xmath94 the policy that implements @xmath93 for each packet belonging to flow @xmath10 .",
    "suppose that , at every node @xmath0 , either the average - power constraint ( [ shannon ] ) is satisfied with equality by @xmath94 , or @xmath95",
    ". then @xmath94 is optimal for cmdp , and @xmath96 is optimal for the dual problem .",
    "the dual function   is @xmath97 the result simply follows from complementary slackness @xcite since the primal problem can be written as a linear program over variables that are occupation measures .    [ optimality - of - decentralized - policy ] the optimal policy for cmdp   is fully decentralized . in order for any node @xmath0 to make a decision regarding a packet @xmath73 present with it at any time @xmath3 , the node only needs to know the flow @xmath10 that the packet belongs to , and the time - to - deadline of the packet .",
    "the optimal policy for node @xmath0 simply consists of implementing the policy @xmath98 for packets of flow @xmath10 , where @xmath96 is the optimal price .",
    "we may observe the following key features of the solution . in order to solve the primal problem   in its original form",
    ", the network is required to make decisions based on the knowledge of the network state @xmath47 .",
    "the size of the state - space in which the network state @xmath47 resides is exponential , @xmath89 , since there can be @xmath99 packets in the network , with each being in one of @xmath100 states .",
    "moreover , the optimal policy requires the entire network state information to be instantaneously known at each node at each slot .",
    "indeed , one of the key reasons why optimal policies for communication networks ( and other distributed systems ) are generally intractable is that every decision requires instantaneous knowledge of the complete network state , which is something that can not be obtained since the entire purpose of determining the optimal policy is to communicate information with deadlines .",
    "thus , an approach based on directly solving the constrained network - wide mdp   would have been computationally and implementationally futile .",
    "these serious limitations have led us to instead formulate the optimal single - packet transportation problem with the nodal transmission energy prices @xmath101 .",
    "this reduces the computational complexity from _ exponential _ to _",
    "linear_. moreover the resulting solution can be implemented locally at each node .",
    "it is highly decentralized with no coupling between flows or nodes or even packets .",
    "after establishing the above completely decentralized structure in theorem  [ optimality - of - decentralized - policy ] , we can directly obtain the network - wide optimal policy by embedding the very low - dimensional single - packet transportation problems of each flow into one flow - level problem , and then optimally allocating the power at each node among all the flows .",
    "we do this by considering the linear program involving  state - action probabilities \" @xcite . in this approach",
    "we do not need to first explicitly solve for the optimal prices .",
    "let us consider a single packet of flow @xmath10 . from theorem  [ optimality - of - decentralized - policy ] we can restrict attention to randomized markov policies where the packet is transmitted with a certain probability over a certain outgoing link , or not transmitted at all , with the probabilities defending only on the state @xmath102 of the packet .",
    "note also that links are unreliable ; a packet transmitted over link @xmath103 reaches @xmath8 with probability @xmath104 . under a randomized markov policy ,",
    "the packet moves stochastically through the network .",
    "we can delete a packet and remove it from the network as soon as @xmath46 hits 0 .",
    "let @xmath105 denote the probability that the packet is transmitted over link @xmath103 when its time - till - deadline is @xmath46 , where we use the convention that @xmath106 is the probability that it is not transmitted , and also define @xmath107 correspondingly .",
    "( note that @xmath108 means that the this is the last allowed transmission of the packet , and the packet will be deleted after this transmission ) . the  state - action probabilities \" @xmath109 satisfy the constraints : @xmath110 with the initial starting state @xmath11 captured by the equation @xmath111 .",
    "the probability that the packet reaches its destination @xmath12 before deadline expiry is @xmath112 .",
    "if this policy is applied to all packets of flow @xmath10 , then the average reward per unit - time obtained by this policy is obtained by simply multiplying by the arrival rate @xmath24 , @xmath113 .",
    "the energy consumed by a single packet at node @xmath0 is @xmath114 .",
    "the power consumption at node @xmath0 due to the packets of flow @xmath10 is @xmath115 .    combining all the flows , we obtain the following _ direct linear program _ to determine the optimal reward and the optimal markov randomized policy : @xmath116    this linear program directly determines the optimal power allocation over flows at each node , and the optimal transportation policy for each packet",
    ". it also randomizes the actions of all packets of a particular identically so that the power available is utilized optimally .",
    "this is a low complexity linear program with only @xmath117 variables and @xmath118 constraints .",
    "this is a dramatic reduction of the complexity , and is eminently tractable being a linear program .",
    "in fact , there is further structure that further reduces the complexity . for simplicity",
    "we illustrate this when there is only one transmit power level that corresponds to a fixed energy usage @xmath20 for any transmission .",
    "we show that each packet s decision is simply governed by a threshold on time - to - deadline .    for each flow @xmath10 , and node @xmath0 ,",
    "there is a threshold @xmath119 , such that the optimal decision for a packet of flow @xmath10 at node @xmath0 with a time - to - deadline @xmath46 is to be transmitted / not transmitted according to whether the time - to - deadline @xmath46 is strictly greater than / equal to or lesser than the threshold @xmath119 .    in a state",
    "where the decisions to transmit / not transmit are both optimal ( i.e. , the minimizer on the rhs of the dynamic programming equation ( [ bell ] ) is not unique ) , we choose  not to transmit , \" so that we thereby obtain an optimal policy that uniquely assigns an optimal action to each state .",
    "we will prove the following property ( p ) of this optimal policy , from which the theorem readily follows : ( p ) if the optimal decision is to not transmit a packet at a node , then it is optimal to never again transmit that packet at that node .",
    "the reason is that one can then simply define @xmath119 as the maximum value of @xmath46 at which the decision to not transmit is the optimal action .",
    "now we prove property ( p ) by using stochastic coupling .",
    "suppose that for a packet of flow @xmath10 at a node @xmath0 it is optimal to not transmit it at time - to - deadlines equal to @xmath120 , but it is optimal to transmit it when its time - to - deadline is @xmath121 .",
    "consider a packet , called packet-1 , that follows this optimal policy .",
    "it waits for @xmath122 slots at node @xmath0 , and then gets transmitted when its time - to - deadline is @xmath123 .",
    "now consider another packet , called packet-2 , that waits no time at node @xmath0 , and is transmitted when its time - to - deadline is @xmath73 .",
    "we will couple the subsequent experiences of packet-1 and packet-2 , i.e. , whether a transmission at a link is failure or success , after that transmission . then",
    ", if packet-1 reaches the destination @xmath124 in time , then so does packet-2 .",
    "hence the reward accrued by packet-2 is no less than the reward accrued by packet-1 , while its costs are the same .",
    "hence the decision of packet-2 to immediately get transmitted at time - to - deadline @xmath73 is optimal .",
    "however , one should not search for an optimal policy by trying to find the optimal thresholds .",
    "it is far better to search for optimal _ prices _ since they are the _ same _ for all packets of all flows , but the optimal threshold is only for a specific flow .",
    "that is , the prices result in the right trade - off between packets of different flows .",
    "however , if one obtains a set of thresholds that is  person - by - person \" ( or nash ) optimal for the flows , in the sense that each threshold is optimal for a particular flow when the thresholds of the other flows are fixed , then the entire set of thresholds may not be  team \" optimal .",
    "now we consider the problem of determining the correct prices @xmath125 to be charged by the nodes .",
    "the key point to note is that price - determination can be done offline ; prices can be pre - computed and stored .",
    "one method is to just obtain them simply as the sensitivities of the power constraints in the direct linear program .",
    "this requires a good model of the network and its reliabilities and the demands .",
    "however , one can also obtain them by  tatonnement \" over a running system .",
    "such price discovery is based on the dual function  .",
    "first we discuss a hybrid of optimization and simulation , and subsequently a purely learning approach .",
    "price discovery can be performed offline by repeated simulation .",
    "since the dual problem is convex , each node can use subgradient descent to converge to the optimal price vector @xmath126 .",
    "the sub - gradient iteration is simply walrasian tatonnement  @xcite , which drives the",
    " excess power consumption \" at each node towards zero .",
    "specifically , at the @xmath68-th iterate of the price vector , node @xmath0 chooses @xmath127.\\end{aligned}\\ ] ] which simply amounts to a standard subgradient iteration @xcite with a step - size @xmath128 . for any fixed price vector @xmath71",
    "one can solve the dynamic programming equations for the optimal packet policy @xmath129 .      instead of using simulation - based optimization to determine the optimal prices , one can determine both the optimal policy as well as the optimal policy contingent on that price , by using two time - scale stochastic approximation  @xcite .",
    "the faster time - scale stochastic approximation for the policy is @xmath130 where @xmath131 is the maximum , over all links @xmath15 , of @xmath132 in the above , @xmath133 assumes the value @xmath1 if the packet - state at iteration @xmath68 is @xmath102 .",
    "@xmath134 is a positive sequence that satisfies @xmath135 .",
    "we can use a slower time - scale stochastic approximation for the prices , @xmath136 where @xmath137 is the vector consisting of nodal power bounds , @xmath138 is the average - power utilization at node @xmath0 under @xmath129 , and the sequence @xmath139 satisfies @xmath140 , as well as @xmath141 , where @xmath142  @xcite .",
    "the iterations converge to the optimal prices @xmath96  @xcite .",
    "when network parameters are not known , one can both solve for the optimal policy @xmath94 as well as the optimal nodal prices @xmath126 in a decentralized manner .",
    "one way to achieve this task is to perform the value iterations using reinforcement learning for each price vector @xmath71 until convergence , and then to update the price @xmath71 using a gradient descent method .",
    "the analysis so far has addressed the nodal _ average_-power constraints  . in this section ,",
    "we impose more stringent peak link - capacity constraints on the number of concurrent packets that can be scheduled at any given time slot @xmath3 .",
    "@xmath143 , now re - defined as the number of packets transmitted on link @xmath19 at time @xmath3 , has to satisfy @xmath144 the more stringent problem that results is , @xmath145 we now proceed to construct a distributed policy with a provably close approximation to optimality .",
    "we begin with the policy that is optimal for the _ average _ power constraint @xmath146 this is a distributed policy , as we have shown in the preceding sections , and is moreover tractable to compute .",
    "however it only ensures that the constraint   is met on average , and _ not _ at each time @xmath3 . on the occasions",
    "that the number of packets that it prescribes for concurrent transmission does not exceed the constraint  , we just transmit all the packets specified by that policy .",
    "however , on the occasions that it specifies an excessive number of transmissions exceeding the rhs of  , we simply truncate the list of packets in the manner to be specified below , and only transmit a total of @xmath147 of those packets .",
    "clearly , this leads to a policy that does satisfy the constraint   at each time instant .",
    "what we will show is that this policy is nearly optimal in a certain precise sense to be quantified below .",
    "we first note the connection of our approach to that advocated by whittle  @xcite for multiarmed bandits . since there is no simple index policy  @xcite that is optimal when one is allowed to pull @xmath68 arms concurrently , if @xmath148 , whittle has suggested relaxing this constraint for _ each _ time @xmath3 to a constraint that the _ average _ number of arms concurrently pulled is @xmath68 .",
    "this relaxed problem has a tractable solution under an  indexability \" condition  @xcite .",
    "importantly , it is near - optimal when the number of arms available goes to infinity , with the proportion of arms of each type held constant  @xcite .",
    "our approach can be regarded as an extension to multi - hop networks .",
    "we first take care of one detail .",
    "the average - power constraints in   are nodal , while the link - capacity constraints in   are link - dependent . to reconcile this",
    ", we consider the following version of the problem   which involves average _ link - wise _ power constraints , @xmath149 the optimal policy for the above problem can be obtained in exactly the same fashion as for the problem  , except that now there are link - based prices @xmath150 , instead of nodal prices @xmath64 .",
    "now we define the truncation policy for the problem   which involves link - capacity constraints @xmath151 : if the policy @xmath152 specifies that node @xmath0 transmit more than @xmath153 packets at some time @xmath3 , then the truncation policy can pick any @xmath153 of these packets and transmit them . moreover , we eject from the network those packets which @xmath152 dictated to be scheduled , but were not picked for transmission .",
    "( discarding the packets is not strictly required , but it simplifies the discussion ) .",
    "let us denote this modified policy by @xmath154 .",
    "it may be noted that under this policy , the evolution of the network is not independent across different packets , as was the case with @xmath152 .    for the policy @xmath152 ,",
    "let us denote by @xmath155 the probability that under @xmath156 a packet ( of flow @xmath10 ) with age @xmath157 time - slots would be attempted on link @xmath19 . since the arrival rate of flow @xmath10 packets is @xmath24 , then , on account of the fact that the policy @xmath152 satisfies the average - power - constraints @xmath147 imposed by the network , we have    [ l4 ] @xmath158    next , we determine the level of sub - optimality of @xmath159 .",
    "we will now obtain lower bounds on the performance of the policy @xmath159 .",
    "the following arguments are based on analysis of the evolutions of policies on an appropriately constructed probability space .",
    "let us denote by @xmath160 the ( average ) reward earned by policy @xmath152 .",
    "first note that the reward collected by @xmath159 ( denoted by @xmath161 ) does not increase if it were to , instead of dropping a packet because of capacity constraint violation , schedule it as dictated by @xmath152 , but no reward is given to it if this packet is delivered to its destination node ( denoted by @xmath162 ) .",
    "however @xmath162 is more than the reward if now a penalty of @xmath52 units per - packet was imposed for scheduling a packet via utilizing  excess capacity \" at some link @xmath163 , but it were given a reward in case this packet reaches the destination node ( denoted by @xmath164 ) .",
    "@xmath164 is certainly more than the reward which @xmath152 earns if it is penalized an amount equal to the sum of the excess bandwidths that its links utilize ( denoted by @xmath165 ) multiplied by @xmath52 , since any individual packet may be scheduled multiple times by utilizing excess bandwidth .",
    "thus , the difference @xmath166 is less than the sum of the excess bandwidths utilized by the links operating under the policy @xmath152 , scaled by @xmath167 s .",
    "let @xmath168 denote the number of packets of flow @xmath10 that have an age of @xmath157 time - slots , and are served on link @xmath19 at time @xmath3 under the policy @xmath156 .",
    "we thus have    [ l5 ] @xmath169^{+}.   \\end{aligned}\\ ] ]      next , we will scale the network parameters in two equivalent ways , and show that the policy @xmath159 is asymptotically optimal . in the discussion below",
    ", @xmath170 is a scaling parameter . in the first approach to scaling ,",
    "the link capacities @xmath147 and the mean arrival rates @xmath24 will be kept fixed , while the size of an individual packet will be scaled as @xmath171 , with the arrivals being i.i.d . with binomial parameters @xmath172 .",
    "the second equivalent formulation is to keep the size of packets fixed , while the link capacities for the @xmath170-th system are scaled as @xmath173 , with the arrivals being i.i.d . with binomial parameters @xmath174 .",
    "in the rest of the discussion , we will confine ourselves to the former formulation ; however a similar analysis can be performed for the latter case .",
    "[ th:2 ] consider the sequence of systems described in problem   parameterized by @xmath170 , in which the arrivals for the @xmath170-th system are i.i.d . with binomial parameters @xmath172 .",
    "the deviation from optimality of the @xmath170-th system in the sequence operating under the policy @xmath159 is @xmath175 , and hence the policy @xmath159 is asymptotically optimal for the joint routing - scheduling problem   under hard link - capacity constraints .",
    "below , @xmath176 is the mean absolute deviation of @xmath131 with respect to its mean @xmath177 .",
    "the deviation from optimality satisfies , @xmath178 @xmath179 where the the last equality follows from  @xcite .",
    "we can similarly consider the problem of maximizing the network s timely - throughput   subject to additional bounds on the _ peak _ power that can be utilized by each node @xmath37 .",
    "the treatment is similar to that in section  [ sec : linkcap ] , in which we designed optimal policies under hard constraints on the _ number _ of packets that can be transmitted at any given time @xmath3 .",
    "the problem is formally stated as , @xmath180 where @xmath181 ( with value greater than @xmath14 ) is the peak - power constraint on node @xmath0 .",
    "denote the policy which maximizes the objective function   under the average - power constraints   by @xmath156 .",
    "now we modify it to a policy @xmath159 described as follows : at each time @xmath3 , each node @xmath37 looks up the decision rule @xmath156 and obtains the optimal power levels at which @xmath156 would have carried out transmissions of the packets available with it . for this purpose ,",
    "each node @xmath0 only needs to have knowledge of the age of packets present with it .",
    "node @xmath0 then chooses a maximal subset of the packets present with it , such that the transmission power levels assigned to them by @xmath156 sum to less than the bound @xmath181 .",
    "one way to choose such a set of packets and associated power levels is as follows : arrange the packets in decreasing order of the transmission power assigned by @xmath156 , and label them .",
    "then @xmath159 schedules the largest index packet such that the energy of all packets upto that index sum to less that @xmath182 .",
    "the asymptotic optimality of @xmath159 follows as in theorem  [ th:2 ] .",
    "consider the sequence of networks operating under the policy @xmath159 , in which the arrivals for the @xmath170-th system are i.i.d .",
    "with binomial parameters @xmath172 .",
    "the deviation from optimality of the @xmath170-th system in the sequence operating under the policy @xmath159 is @xmath175 , and hence the policy @xmath183 is asymptotically optimal for the peak - power problem  .",
    "our model allows us to incorporate wireless fading .",
    "we model the channel state as a finite - state markov process @xmath184 , with the link transmission success probabilities @xmath185 a function of the channel state @xmath184 and the transmit power level . as before",
    ", we assume that the probabilities are monotone decreasing in @xmath20 .",
    "the network state is then described by a ) the state of each packet , and b ) the channel state @xmath184 .",
    "the optimal policy can be determined along similar lines as before , by augmenting the system state with the channel state @xmath184 .",
    "the optimal policy will be of the following form : the decision to be taken by a node @xmath0 at time @xmath3 will depend on the state of the packet and the channel state @xmath184 .",
    "the above assumes that the channel condition is known to each transmitter .",
    "a simplification is possible if we assume that the process @xmath184 is i.i.d .",
    ", which would eliminate the need for communicating @xmath184 . alternately it could be deterministically time - varying .",
    "a common model which can be approximated is block fading  @xcite , under which the channel state need only be communicated periodically .",
    "in the previous sections we have considered networks exclusively serving real - time flows for which the utility of a packet arriving after its deadline is zero .",
    "often one is interested in networks that serve a mix of real and non - real - time flows  @xcite .",
    "the system model can be easily extended . to incorporate this case",
    ", we simply set the relative deadlines of the packets belonging to the non - real - time flows as @xmath186 , so that they are never dropped .",
    "we first illustrate the amenability of the theory by explicitly hand - computing the optimal distributed policy in two examples . in the second example , the deadlines are slightly more relaxed than in the first example , and we show both how the prices change as a consequence , and how the optimal policy reacts to this .    subsequently , we consider a more complex example and provide a comparative simulation illustrating the performance of the asymptotically optimal policy for the case of link - capacity constraints , comparing it with well known routing / scheduling policies such as the backpressure , shortest path , and earliest deadline first ( edf ) policies .",
    "[ ex2 ] consider the system shown in figure  [ fig4 ] .    .",
    "]    it consists of two flows traversing the nodes 1 , 2 , and 3 , in opposite directions .",
    "flow 1 , with source node @xmath187 and destination node @xmath188 , has an end - to - end deadline @xmath189 of 2 slots .",
    "flow 2 , with source node @xmath190 and destination node @xmath191 , also has an end - to - end deadline @xmath192 of 2 slots .",
    "packets can not afford even one failure on any transmission if they are to reach their destinations in time , since the relative deadlines for the flows are exactly equal to the total number of hops to be traversed .",
    "one packet of each flow arrives in every time slot , so @xmath193 .",
    "each packet transmission at any node is at 1 watt , so @xmath194 since all time slots are one second .",
    "nodes 1 , 2 and 3 , have average - power constraints @xmath195 and @xmath196 watts , respectively . links ( 1,2 ) , ( 2,3 ) , ( 2,1 ) and ( 3,2 ) have reliabilities of @xmath197 and @xmath198 , respectively . denoting by @xmath161 and",
    "@xmath162 the timely - throughputs of flows 1 and 2 , we wish to maximize @xmath199 , i.e. , packets of flow 1 are 2.5 times more valuable than packets of flow 2",
    ". so @xmath200 and @xmath201 .",
    "the dynamic programming equations for the optimal single - packet transportation problem for flow @xmath1 yield : @xmath202 so @xmath203 and @xmath204^+$ ] .",
    "similarly , for flow @xmath2 , @xmath205^+$ ] and @xmath206 .",
    "packets of flow @xmath1 at node @xmath2 are more valuable than packets of flow @xmath2 at node @xmath2 , since packets of flow @xmath1 have expected reward of @xmath207 , while packets of flow @xmath2 have expected reward of @xmath208 .",
    "so we will push as many packets of flow @xmath1 as possible to node @xmath2 .    in order for a packet of flow 1 to choose to be transmitted at node 2 , however , the price @xmath209 that it pays needs to be less than the expected reward ( 0.3)5 that it can obtain in the future .",
    "hence @xmath210 similarly , in order for a packet of flow 1 to choose to be transmitted at node 1 , the total expected price it expects to pay , @xmath211 ( since @xmath212 is the price it pays at node 1 , and if it succeeds to reach node 2 , which happens with probability 0.4 , it then pays a price @xmath209 ) must be less than the expected reward , which is ( 0.4)(0.3)5 . hence , @xmath213 but flow @xmath1 can only push @xmath214 of its packets to node @xmath2 .",
    "so there is spare capacity at node @xmath2 that flow @xmath2 can use . for flow @xmath2 to use that we need @xmath215",
    "now , flow @xmath2 needs to utilize the spare capacity of @xmath216 left at node @xmath2 .",
    "so it needs to ensure a flow of @xmath216 reaches node @xmath2 . to do that it needs to transmit @xmath217 of the packets that arrive since @xmath218 .",
    "so it needs to randomize at node @xmath219 . by complementary slackness",
    ", this can only happen if packets at node 3 are indifferent to being transmitted or not .",
    "so , @xmath220 since we want to maximize @xmath221 we choose @xmath222 , and , from ( [ lambda1 ] ) , @xmath212=0.04 .",
    "therefore , we arrive at the following solution , where we denote by @xmath223 the probability with which a packet of flow @xmath10 is transmitted at node @xmath0 when the time - to - deadline is @xmath46 : @xmath224    now we verify that this policy is optimal .",
    "@xmath225 implies @xmath226 since @xmath227 .",
    "now @xmath228 implies @xmath229 and @xmath230 are both optimal , i.e. , a packet is indifferent to them , and so one may randomize between them to satisfy the average - power constraint .",
    "similarly , @xmath231 implies that both decisions @xmath232 and @xmath233 are optimal .",
    "also , @xmath234 implies both @xmath235 and @xmath236 are both optimal .",
    "so we can randomize the transmission of packets of flow 2 in state @xmath237 .",
    "the average - power usages are 0.5 watts at node 1 , 0.4 watts at node 2 , and @xmath217 watt at node 3",
    ". the average - power constraints of @xmath238 and @xmath239 at nodes @xmath1 and @xmath2 , respectively , are met with equality .",
    "the average - power constraint at node @xmath219 is slack but @xmath240 .",
    "so complementary slackness holds .",
    "hence the policy is optimal .",
    "[ ex3 ] we now consider the same system as in example [ ex2 ] , except that we relax the relative deadlines to @xmath241 , so that every packet can afford to have one hop that is retransmitted and still make it to its destination in time .",
    "consider a packet that has just arrived at node 1 .",
    "it can either make it to its destination in two hops if both transmissions are successful the first time they are attempted , or it can fail once at node 1 and then be successful on subsequent transmissions at nodes 1 and 2 , or it can succeed the first time at node 1 , fail once at node 2 , and then succeed at node 2 on the second attempt .",
    "if it does so reach its destination , it obtains a reward of 5 . hence taking these possibilities into account , if a packet of flow 1 gets transmitted at every available opportunity , then the expected reward for a packet of flow 1 at its first visit to node @xmath2425=1.38 $ ] .",
    "similarly , expected reward for a packet of flow 2 at its first visit to node @xmath243 , expected reward for a packet of flow 1 at its second visit to node @xmath244 , expected reward for a packet of flow 2 at its second visit to node @xmath245 , expected reward for a packet of flow 1 at its first visit to node @xmath246 , expected reward for a packet of flow 2 at its first visit to node @xmath247 , expected reward for a packet of flow 1 at its second to node @xmath248 .",
    "expected reward for a packet of flow 2 at its second visit to node @xmath249 .",
    "packets of flow @xmath1 are more valuable at node @xmath2 than flow @xmath2 .",
    "so we want to maximize the throughput of packets of @xmath1 to node @xmath2 .",
    "if we transmit with probability @xmath250 on the first attempt at node @xmath1 then all power is used up . the maximum power that can be consumed by packets of flow 1 at node 2 @xmath251 watts .",
    "so there is still @xmath252 watts left at node @xmath2 that can be used by packets of flow @xmath2 . after arriving at node 2 for the first time",
    ", a packet of flow 2 can use a maximum power @xmath253 watts .",
    "so flow 2 at node 3 needs to make @xmath254 attempts which amounts to randomization with probability @xmath255 . in order to transmit a packet of flow 2 on its second visit to node 2",
    ", the price @xmath209 can not be any more than the expected reward @xmath208 .",
    "so we could attempt some of the packets of flow 2 that arrive at node @xmath219 , and transmit some packets of flow @xmath2 that arrive at node @xmath2 .",
    "with @xmath231 , @xmath212 needs to satisfy @xmath2565 $ ] , so @xmath257 .",
    "similarly , @xmath258 needs to satisfy , @xmath2592 $ ] , which yields @xmath260 . the power constraint at node @xmath219 is slack , but @xmath240 .",
    "so the price vector is @xmath261 .",
    "the corresponding probabilities of transmission are @xmath262 the optimal single - packet transportation dynamic programming equations yield : @xmath263 in all of the below , both choices are again optimal , @xmath264 note that the power consumptions are @xmath265+\\frac{1}{13}(0.6)\\left[1+(0.3)1\\right]=0.4 \\mbox { , tight,}\\\\ p_3 & = \\frac{1}{13}.\\end{aligned}\\ ] ] the last constraint is loose , but then @xmath240 , and we still have complementary slackness .",
    "so the solution is optimal .",
    "now we consider the case of link - capacity constraints ( or equivalently peak - power constraints ) .",
    "we present a comparative simulation study of the asymptotically optimal policy with respect to the following two policies : a ) earliest deadline first scheduling combined with backpressure routing ( edf - bp ) , and b ) earliest deadline first scheduling combined with shortest path routing ( edf - sp ) that routes packets along the shortest path from source to destination with ties broken randomly .",
    "we consider the systems shown in figures  [ fig6 ] and  [ fig6.1 ] .",
    "all link capacities are just 1 , so the asymptotically optimal policy is noteworthy for its excellent performance seen below even in the very much non - asymptotic regime .     and @xmath266 .",
    "arrivals are deterministic with rates @xmath193 per time - slot .",
    "link capacities are @xmath267 packet / time - slot for all links @xmath103 shown . ]    we compare the performance of the asymptotically optimal policy @xmath159 of theorem  [ th:2 ] , with the following edf - sp policy :    1 .",
    "the link @xmath9 chosen for scheduling packet transmissions for flow @xmath10 lies on the shortest path that connects the source and destination nodes of flow @xmath10 .",
    "thereafter , on each link @xmath103 , it gives higher priority to packets having earlier deadlines .",
    "it then serves a maximum of @xmath153 packets in decreasing order of priority .",
    "we also compare the performance with the edf - bp policy . under the edf - bp policy ,",
    "each node @xmath0 maintains queues for each flow @xmath10 and possible age @xmath46 .",
    "denoting by @xmath268 the queue length at node @xmath0 at time @xmath3 , and by @xmath269 the total number of packets of flow @xmath10 at node @xmath0 at time @xmath3 , the policy functions as follows :    1 .   for each outgoing link @xmath15 , edf - bp calculates the backlogs @xmath270 of flow @xmath10 .",
    "2 .   on each link",
    "@xmath9 it prioritizes packets on the basis of the backlogs associated with their flows . for packets belonging to the same flow",
    ", higher priority is given to packets having earlier deadlines .",
    "it then serves a maximum of @xmath153 highest priority packets from amongst the packets whose flows have a positive backlog @xmath270 .",
    "both edf - sp and edf - bp eject packets that have crossed their deadlines .",
    "plots  [ fig7 ] and  [ fig9 ] show the comparative performances of the policies for the networks in fig .",
    "[ fig6 ] and  [ fig6.1 ] as the relative deadlines of the flows are varied .",
    "the performance of the asymptotically optimal policy is superior even in the non - asymptotic regime .",
    "plots  [ fig8 ] and  [ fig10 ] show the comparative performance as network capacities are increased .    .",
    "]    observe that for the network in figure  [ fig6.1 ] , a shortcoming of edf - sp is that it is unable to utilize the path @xmath271 , and therefore performs worse than edf - bp .",
    "though it seems that in a general network the edf - bp should be able to utilize all source - destination paths , it will neither be able to efficiently prioritize packets based on their age , nor discover which paths are more efficient at delivering packets within their deadlines .     as the relative deadlines of both flows are increased.,width=340 ]     as link capacities and arrival rate",
    "are scaled .",
    "the relative deadlines for both flows are set at @xmath272 time - slots.,width=340 ]     as the relative deadlines of flows are increased .",
    "relative deadline of flow 1 is one more than that of flow 2.,width=340 ]     as link capacities and arrival rates are scaled .",
    "relative deadlines for flows 1 and 2 are @xmath272 and @xmath273 respectively.,width=340 ]",
    "we have addressed the problem of designing optimal distributed policies that maximize the timely - throughput of multi - hop wireless networks with average nodal power constraints and unreliable links , in which data packets are useful only when they are delivered by their deadline .",
    "the key to our results is the observation that if the nodes are subject to average - power constraints , then the optimal solution is decoupled not only along nodes and flows , but also along packets within the same flow at a node .",
    "each packet can be treated exclusively in terms of its time - to - deadline at a node .",
    "the decision to transmit a packet is governed by a  transmission price \" that the packet pays at each node , weighed against the reward that it collects at the destination if it reaches it before the deadline expires .",
    "the above policies are highly decentralized ; a node s decisions regarding a packet can be taken solely on the basis of its age and flow classification .",
    "the nodes need not share any information such as queue lengths , etc . , amongst themselves in order to schedule packets .",
    "this approach is notable since obtaining optimal distributed policies for networks has long been considered an intractable problem .",
    "thus , our work fills two important gaps in the existing literature of policies for multi - hop networks a ) hard per - packet end - to - end delay guarantees , b ) optimal distributed policies .",
    "the traditional approach to scheduling has been to consider the lagrangian of the fluid model , and interpret the queue lengths as prices .",
    "this addresses throughput optimality , but not delay , as one would expect from any fluid model - based analysis .",
    "the key to our analysis consists of posing the problem of joint routing- and scheduling packets under deadline constraints over a multi - hop network as an intrinsically stochastic problem involving unreliabilities , and consider its lagrangian and the dual .",
    "this intrinsically captures variabilities in packet movement which critically affect delays , and allows us to address the timely - throughput optimality of packets that meet hard end - to - end deadlines .",
    "the lagrange multipliers associated with the average power or rate constraints are then the prices paid by a packet to a node for transmitting its packet , rather than queue lengths .",
    "this yields a completely decentralized policy , in which decisions are taken by a packet based solely on its age and location in the network , for which the accompanying dynamic programming equations are very tractable .",
    "the overall solution is eminently tractable , being completely determined by a linear program with the number of variables equal to the product of the square of the number of nodes , the number of flows and the maximum relative deadline , rather than exponential in problem size .",
    "we also consider the case of peak - power constraints at each node , which may be present in addition to , or as a replacement of , average - power constraints .",
    "it is interesting that a minor modification of the optimal policy for the case of average - power constraints is asymptotically optimal as the network capacity is scaled .",
    "this approach of dualizing the stochastic problem has broad ramifications , as has been explored in @xcite for problems such as video transmission and energy storage .",
    "this paper has considered only the case of unreliable links , which is of interest in networks consisting of microwave repeaters , networks with directed antennas , or even unreliable wireline links .",
    "the case of networks with contention for the medium is addressed in a companion paper .",
    "l.  tassiulas and a.  ephremides , `` stability properties of constrained queueing systems and scheduling policies for maximum throughput in multihop radio networks , '' _ ieee transactions on automatic control _ , vol .",
    "37 , no .  12 , pp .",
    "19361948 , dec 1992 .",
    "j.  andrews , s.  shakkottai , r.  heath , n.  jindal , m.  haenggi , r.  berry , d.  guo , m.  neely , s.  weber , s.  jafar , and a.  yener , `` rethinking information theory for mobile ad hoc networks , '' _ ieee communications magazine _ , vol .",
    "46 , no .  12 , pp . 94101 , december 2008 .",
    "kelly , a.  k. maulloo , and d.  k.  h. tan , `` rate control for communication networks : shadow prices , proportional fairness and stability , '' _ the journal of the operational research society _",
    "237252 , 1998 .",
    "l.  jiang , m.  leconte , j.  ni , r.  srikant , and j.  walrand , `` fast mixing of parallel glauber dynamics and low - delay csma scheduling . ''",
    "_ ieee transactions on information theory _ , vol .",
    "58 , no .",
    "65416555 , dec 2012 .",
    "l.  bui , r.  srikant , and a.  stolyar , `` a novel architecture for reduction of delay and queueing structure complexity in the back - pressure algorithm , '' _ ieee / acm transactions on networking _ , vol .",
    "19 , no .  6 , pp .",
    "15971609 , dec 2011 .",
    "g.  gupta and n.  shroff , `` delay analysis for multi - hop wireless networks , '' in _ proceedings of twenty - eighth annual joint conference of the ieee computer and communications societies ( infocom ) _ , april 2009 , pp .",
    "23562364 .",
    "l.  ying , s.  shakkottai , a.  reddy , and s.  liu , `` on combining shortest - path and back - pressure routing over multihop wireless networks , '' _ ieee / acm trans .",
    "networking _ ,",
    "19 , no .  3 , pp .",
    "841854 , jun . 2011 .      ,",
    "`` admission control and scheduling for qos guarantees for variable - bit - rate applications on wireless channels , '' in _ proceedings of the tenth acm international symposium on mobile ad hoc networking and computing ( mobihoc ) _ , may 2009 .",
    " , `` scheduling heterogeneous real - time traffic over fading wireless channels , '' in _ proceedings of twenty - ninth annual joint conference of the ieee computer and communications societies ( infocom ) _ , san diego , ca , march 2010 .",
    " , `` utility maximization for delay constrained qos in wireless , '' in _ proceedings of twenty - ninth annual joint conference of the ieee computer and communications societies ( infocom ) _ , march 2010 , pp . 19 .",
    " , `` utility - optimal scheduling in time - varying wireless networks with delay constraints , '' in _ proceedings of the eleventh acm international symposium on mobile ad hoc networking and computing ( mobihoc ) _ , 2010 , pp .",
    " , `` broadcasting delay - constrained traffic over unreliable wireless links with network coding , '' in _ proceedings of the twelfth acm international symposium on mobile ad hoc networking and computing ( mobihoc ) _ , 2011 , pp",
    ". 3342 .    ,",
    "`` optimality of periodwise static priority policies in real - time communications , '' in _ proceedings of the 50th ieee conference on decision and control and european control conference ( cdc - ecc ) _ , 2011 , pp .",
    "50475051 .",
    " , `` queueing systems with hard delay constraints : a framework and solutions for real - time communication over unreliable wireless channels , '' _ queueing systems : theory and applications _ , vol .  71 , pp . 151177 , 2012 .",
    ", `` pathwise performance of debt based policies for wireless networks with hard delay constraints , '' in _ proceedings of the 52nd ieee conference on decision and control ( cdc ) _ , dec .",
    "10 - 13 2013 , pp . 78387843 .",
    " , `` fluctuation analysis of debt based policies for wireless networks with hard delay constraints , '' in _ proceedings of thirty - third annual joint conference of the ieee computer and communications societies ( infocom ) _ , april 2014 , pp . 24002408 .",
    "r.  li and a.  eryilmaz , `` scheduling for end - to - end deadline - constrained traffic with reliability requirements in multi - hop networks , '' in _ proceedings of thirtieth annual joint conference of the ieee computer and communications societies ( infocom ) _ , april 2011 , pp .",
    "30653073 .",
    "z.  mao , c.  koksal , and n.  shroff , `` optimal online scheduling with arbitrary hard deadlines in multihop communication networks , '' _ networking , ieee / acm transactions on _ , vol .",
    "pp , no .",
    "99 , pp . 11 , 2014 .",
    "v.  s. borkar , `` control of markov chains with long - run average cost criterion , '' in _",
    "the i m a volumes in mathematics and its applications _ , w.  fleming and p.  lions , eds.1em plus 0.5em minus 0.4em springer , 1988 , pp .",
    "d.  p. bertsekas , a.  e. ozdaglar , and a.  nedic , _ convex analysis and optimization _ ,",
    "athena scientific optimization and computation series.1em plus 0.5em minus 0.4embelmont ( mass . ) : athena scientific , 2003 .",
    "j.  gittins and d.  jones , `` a dynamic allocation index for the sequential design of experiments , '' in _ progress in statistics _ , j.  gani , ed.1em plus 0.5em minus 0.4emamsterdam , nl : north - holland , 1974 , pp .",
    "241266 .",
    "s.  shakkottai and a.  l. stolyar , `` scheduling algorithms for a mixture of real - time and non - real - time data in hdr , '' in _ teletraffic engineering in the internet era .",
    "proceedings of the international teletraffic congress - itc - i7 _ , ser .",
    "teletraffic science and engineering , n.  l. d.  f. jorge moreira  de souza and e.  a. de  souza  e silva , eds.1em plus 0.5em minus 0.4emelsevier , 2001 , vol .  4 , pp .",
    "793  804 .",
    "rahul singh received the b.e .",
    "degree in electrical engineering from indian institute of technology , kanpur , india , in 2009 , the m.sc .",
    "degree in electrical engineering from university of notre dame , south bend , in , in 2011 , and the ph.d .",
    "degree in electrical and computer engineering from the department of electrical and computer engineering texas a&m university , college station , tx , in 2015 .",
    "he is currently a postdoctoral associate at the laboratory for information decision systems ( lids ) , massachusetts institute of technology .",
    "his research interests include decentralized control of large - scale complex cyberphysical systems , operation of electricity markets with renewable energy , and scheduling of networks serving real time traffic .",
    "p.  r.  kumar b. tech .",
    "( iit madras ,  73 ) , d.sc .",
    "( washington university , st .",
    "louis ,  77 ) , was a faculty member at umbc ( 1977 - 84 ) and univ .  of illinois , urbana - champaign ( 1985 - 2011 ) .",
    "he is currently at texas a&m university .",
    "his current research is focused on stochastic systems , energy systems , wireless networks , security , automated transportation , and cyberphysical systems .",
    "he is a member of the us national academy of engineering and the world academy of sciences .",
    "he was awarded a doctor honoris causa by eth , zurich .",
    "he as received the ieee field award for control systems , the donald  p.  eckman award of the aacc , fred  w.  ellersick prize of the ieee communications society , the outstanding contribution award of acm sigmobile , the infocom achievement award , and the sigmobile test - of - time paper award .",
    "he is a fellow of ieee and acm fellow .",
    "he was leader of the guest chair professor group on wireless communication and networking at tsinghua university , is a d. j. gandhi distinguished visiting professor at iit bombay , and an honorary professor at iit hyderabad .",
    "he was awarded the distinguished alumnus award from iit madras , the alumni achievement award from washington univ . , and the daniel drucker eminent faculty award from the college of engineering at the univ .  of illinois ."
  ],
  "abstract_text": [
    "<S> we consider multi - hop networks serving multiple flows in which packets not delivered to their destination nodes by their deadlines are dropped from the network . </S>",
    "<S> the throughput of packets that are delivered within their end - to - end deadlines is called the timely - throughput . </S>",
    "<S> we address the design of policies for routing and scheduling packets that optimize any specified weighted average of the timely - throughputs of several flows , under nodal power constraints .    </S>",
    "<S> we provide a new approach which directly yields an optimal distributed scheduling policy that attains any desired maximal timely - throughput vector ( i.e. , any point on the pareto frontier ) under average - power constraints on the nodes . </S>",
    "<S> this completely distributed and tractable solution structure arises from a novel intrinsically stochastic decomposition of the lagrangian of the constrained network - wide markov decision process rather than of the fluid model .    </S>",
    "<S> the derived policies are highly decentralized in several ways . </S>",
    "<S> all decisions regarding a packet s transmission scheduling , transmit power level , and routing , are based solely on the age of the packet , not requiring any knowledge of network state or queue lengths at any of the nodes . </S>",
    "<S> global coordination is achieved through a  </S>",
    "<S> price \" for energy usage paid by a packet each time that its transmission is attempted at a node . </S>",
    "<S> this price decouples packets entirely from each other . </S>",
    "<S> it is different from that used to derive the backpressure policy where price corresponds to queue lengths . </S>",
    "<S> the complexity of calculating the prices is tractable , being related only to the number of nodes multiplied by the relative deadline bound , and is considerably smaller than the number of network states which is exponentially large . </S>",
    "<S> prices can be determined offline and stored .    </S>",
    "<S> if nodes have peak - power constraints instead of average - power constraints , then the decentralized policy obtained by truncation is near - optimal with respect to the timely - throughput as link capacities increase in a proportional way .    </S>",
    "<S> shell : throughput optimal decentralized scheduling of multi - hop networks with end - to - end deadline constraints : unreliable links    communication networks , wireless networks , delay guarantees in networks , scheduling networks , quality of service . </S>"
  ]
}