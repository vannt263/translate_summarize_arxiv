{
  "article_text": [
    "in this paper , we present a generalization of the theory of quantum cohomology and gromov - witten invariants arising from algebraic curves with higher spin structures . recall that ordinary gromov - witten invariants of a projective variety @xmath2 are constructed by means of the moduli spaces @xmath10 of stable maps to @xmath2 .",
    "the space @xmath10 is a deligne - mumford stack compactifying the space of holomorphic maps to @xmath2 from riemann surfaces of genus @xmath4 with @xmath3 marked points . in particular ,",
    "the moduli space of stable maps to a point coincides with the moduli of stable curves @xmath11 .",
    "although the space @xmath10 is not generally smooth , it does possess a homology class @xmath12^\\mathrm{virt}$ ] ( called the virtual fundamental class ) which plays the role of the fundamental class in intersection theory .",
    "furthermore , the evaluation maps @xmath13 obtained by evaluating the map on each marked point on the curve allow one to pull back cohomology classes from @xmath2 .",
    "together , these classes give rise to the collection @xmath14 of gromov - witten classes @xmath15 which behave nicely when restricted to the boundary strata of @xmath11 .",
    "this allows one to define a collection of multilinear operations on the space @xmath16 , parametrized by elements of @xmath17 .",
    "these operations satisfy the axioms of a cohomological field theory ( ) in the sense of kontsevich - manin  @xcite . in particular , their restriction to stable maps of genus zero endows @xmath16 with the structure of a ( formal ) frobenius manifold  @xcite , called the quantum cohomology of @xmath2 , whose multiplication is a deformation of the usual cup product in @xmath16 .    the diagonal map @xmath18 induces a natural tensor product operation on the set of .",
    "behrend  @xcite proved that the tensor product of the defined by the gromov - witten classes of two smooth projective varieties @xmath2 and @xmath19 is isomorphic to the  defined by the classes @xmath20 .",
    "this is nontrivial because @xmath21 is not isomorphic to the fiber product @xmath22 . restricting to genus zero",
    ", we can regard this result as a knneth formula for quantum cohomology .    in  @xcite",
    ", we introduced a new class of , one for each integer @xmath23 , based on the moduli space  @xmath24  of higher spin curves , constructed in  @xcite .",
    "recall that for @xmath25 , with @xmath26 , the moduli space @xmath27 is a compactification of the space of riemann surfaces of genus @xmath4 with @xmath3 marked points @xmath28 and an @xmath1-th root of the twisted canonical line bundle @xmath29 .",
    "we proved in  @xcite that the existence of a special cohomology class @xmath30 ( called the spin virtual class ) in @xmath31 , satisfying certain axioms similar to the behrend - manin axioms  @xcite for the virtual fundamental class , gives rise to a  of rank @xmath32 .",
    "this @xmath1-spin  is related to the work of witten  @xcite , who conjectured that its large phase space potential ( the generating function of certain intersection numbers on @xmath27 ) is a @xmath33 function of the gelfand - dickey ( or @xmath34 ) hierarchy .",
    "when @xmath5 , this conjecture reduces to an earlier conjecture of witten s on the intersection numbers of @xmath11 , which was proved by kontsevich  @xcite . in  @xcite ,",
    "following witten s ideas , we constructed the spin virtual class and proved the conjecture in the cases @xmath35 ( for all @xmath1 ) and @xmath5 ( for all @xmath4 ) .    in this paper , we introduce and describe moduli spaces that give an intersection - theoretic realization of the tensor product of the gromov - witten  and the @xmath1-spin .",
    "we construct @xmath0 , the stack of stable @xmath1-spin maps into a projective variety @xmath2objects which combine both the data of a stable map and an @xmath1-spin structure .",
    "we prove that @xmath0 is a deligne - mumford stack and a ramified cover of @xmath10 .",
    "similar to the case of ordinary stable maps , stable @xmath1-spin maps to a point are just stable @xmath1-spin curves .",
    "we introduce the class @xmath36 , which is an analog of a virtual class @xmath30 on @xmath37 .",
    "the class @xmath38 is defined by pulling back @xmath30 from @xmath37 when @xmath39 and is defined by a direct construction for other values of @xmath4 and @xmath3 . using the class @xmath38 and the virtual fundamental class of @xmath10",
    ", we define the @xmath1-spin analogs of the gromov - witten classes @xmath40 where @xmath41 and @xmath42 is the state space of the @xmath1-spin . the collection of classes @xmath43 gives rise to a  with the state space @xmath44 , which is isomorphic to the tensor product of the gromov - witten  and the @xmath1-spin",
    "this fact is not trivial because the space @xmath0 is not isomorphic to the fiber product @xmath45 .",
    "our result should be viewed as an analog of the relationship between stable maps to @xmath46 and the tensor product of the  corresponding to each factor ( see  @xcite ) . restricting to genus zero , we obtain the tensor product of the quantum cohomology of @xmath2 with the frobenius manifold associated to @xmath34 ( or equivalently , to the @xmath6 singularity ) .",
    "tensor products of several spin  were studied in our earlier paper  @xcite .",
    "they correspond to the moduli spaces of curves with multiple spin structures .",
    "it would be very interesting to find an enumerative interpretation of the corresponding invariants similar to the interpretation of the ordinary gromov - witten invariants .",
    "finally , it is worth observing that these results have a physical interpretation as well .",
    "our spin gromov - witten invariants may be regarded as the correlators in a theory of topological gravity coupled to topological matter , where the matter sector of the theory is the topological sigma model with target space @xmath2 coupled with a certain type of gauged @xmath47 wess - zumino - witten model .",
    "our moduli spaces @xmath0 provide an intersection - theoretic realization of this theory .",
    "the structure of the paper is as follows . in the first section , we recall some standard definitions and properties of stable maps and gromov - witten invariants . in the second section , we construct the moduli space @xmath0 ,",
    "establish some of its properties , and prove that it is a deligne - mumford stack . in the third section ,",
    "we introduce decorated graphs associated with the various moduli spaces and the corresponding cohomology classes . in the fourth section ,",
    "we define the spin virtual class @xmath48 on @xmath0 and study its intersection - theoretic properties . in the fifth section ,",
    "we define the analogs of the gromov - witten classes associated to @xmath0 and show that the resulting  is the tensor product of  associated to @xmath10 and @xmath49 .",
    "we then define the potential functions of the theory and prove that when @xmath5 , this theory reduces to the usual gromov - witten invariants of @xmath2 .",
    "furthermore , we prove that @xmath38 satisfies the descent property in genus zero . in the final section , we compute the genus zero small phase space potential function associated to @xmath50 .",
    "parts of the paper were written while t.k .",
    "was visiting the universit de bourgogne and a.v .",
    "was visiting institute des hautes tudes scientifiques .",
    "we would like to thank these institutions for hospitality and support .",
    "in this section we recall the basic definitions related to stable maps and gromov - witten invariants . for details see @xcite .      by a _ curve _ , in this paper , we mean a reduced , complete , connected , one - dimensional scheme over @xmath51 . by _ genus _ of a curve @xmath52 , we mean its arithmetic genus @xmath53",
    "@xmath3-pointed , prestable curve _ is a curve @xmath52 with @xmath3 distinct marked points @xmath54 , such that @xmath52 has at most ordinary double points ( nodes ) as singularities and @xmath28 are nonsingular .",
    "a prestable curve @xmath52 is called _ stable _ if , in addition , each irreducible component of @xmath52 of genus @xmath55 has at least three distinguished points , and each component of genus 1 has at least one distinguished point , where a distinguished point is either a node or a marked point .    a _ family of prestable , @xmath3-pointed curves",
    "_ is a flat , proper morphism @xmath56 with @xmath3 sections @xmath57 , such that each geometric fiber @xmath58 is an @xmath3-pointed prestable curve .    by a _ line bundle _ we mean an invertible ( locally free of rank one ) coherent sheaf .",
    "the _ canonical sheaf _ of a family of curves @xmath59 is the relative dualizing sheaf of @xmath60 .",
    "this sheaf will be denoted by @xmath61 , or @xmath62 . when @xmath63 , we will write @xmath64 or @xmath65 instead of @xmath61 .",
    "note that for a family of prestable curves , the canonical sheaf is a line bundle .",
    "a _ relatively torsion - free sheaf _ ( or just torsion - free sheaf ) on a family of prestable curves @xmath66 is a coherent @xmath67-module @xmath68 that is flat over @xmath69 , such that on each fiber @xmath70 the restriction @xmath71 has no associated primes of height one .",
    "we will only be concerned with rank - one torsion - free sheaves .",
    "such sheaves are sometimes called _",
    "admissible _ or _ sheaves of pure dimension @xmath72_. on the open set where @xmath60 is smooth , a torsion - free sheaf is locally free .",
    "let @xmath2 be an algebraic variety over @xmath51 .",
    "a _ stable map _ to @xmath2 consists of an @xmath3-pointed , prestable curve @xmath73 and a morphism @xmath74 , such that each irreducible component @xmath75 of @xmath52 mapped by @xmath60 to a point is stable ( i.e.  @xmath75 has at least three distinguished points if it is of genus zero and at least one distinguished point if it is of genus one ) .",
    "family of stable maps _ to @xmath2 is a family of prestable , @xmath3-pointed curves @xmath76 with a morphism @xmath77 , such that the restriction of @xmath60 to each geometric fiber of @xmath78 is stable .    for @xmath79",
    ", we say that the stable map @xmath77 has _ class _",
    "@xmath80 if the pushforward @xmath81)$ ] of the fundamental class of @xmath52 is equal to @xmath80 .",
    "we denote by @xmath82 the stack of @xmath3-pointed stable maps of genus @xmath4 to @xmath2 of class @xmath80 , and by @xmath10 the disjoint union @xmath83 .",
    "if @xmath2 is a projective variety , @xmath82 is a deligne - mumford stack .",
    "when @xmath2 is a point , @xmath10 coincides with the moduli space of stable curves @xmath11 .",
    "there are two important canonical morphisms on @xmath10 .",
    "the _ stabilization morphism _",
    "@xmath84 forgets the map @xmath60 and collapses the unstable components of the curve @xmath52 .",
    "the _ evaluation morphism _",
    "@xmath85 is obtained by evaluating the stable map @xmath60 at the @xmath86-th marked point @xmath87 .",
    "the space @xmath10 has a special chow homology class @xmath88^\\mathrm{virt } \\in h_*({\\overline{{{\\mathcal { m}}}}}_{g , n}(v),\\mathbb{q}),\\ ] ] called the _ virtual fundamental class _ , that satisfies various properties ( axioms ) formulated in  @xcite .",
    "the class @xmath12^\\mathrm{virt}$ ] gives rise to the collection @xmath14 of _ gromov - witten classes _",
    "@xmath89    we define @xmath90^\\mathrm{virt } \\right),\\ ] ] where @xmath91 .",
    "for the remainder of the paper we fix an integer @xmath92 . in this section",
    "we introduce the moduli space of stable @xmath1-spin maps and prove that it is a deligne - mumford stack .      although the concept of an @xmath1-spin structure is intuitively simple , its formal definition is somewhat technical .",
    "for that reason we first give a brief overview of the ideas involved .",
    "[ df : naive ] given a collection of integers @xmath93 , an _",
    "@xmath1-spin structure of type @xmath94 _ on a smooth , @xmath3-pointed curve @xmath95 is a line bundle @xmath96 on @xmath52 with an isomorphism @xmath97 .",
    "in particular , an @xmath1-spin structure of type @xmath98 on a smooth curve @xmath52 is essentially just an @xmath1-th root of the canonical bundle @xmath64 .    for degree reasons ,",
    "an @xmath1-spin structure of type @xmath94 exists on a genus @xmath4 curve @xmath52 only if @xmath99 is divisible by @xmath1 . when this condition is met , there are @xmath100 choices of @xmath96 on @xmath52 .",
    "a _ smooth @xmath1-spin curve of type @xmath94 _ is a smooth curve @xmath52 with an @xmath1-spin structure of type @xmath94 .",
    "a _ smooth @xmath1-spin map of type @xmath94 into a target @xmath2 _ is a morphism of a smooth curve @xmath52 into @xmath2 with the additional data of an @xmath1-spin structure of type @xmath94 on @xmath52 .",
    "a @xmath101-spin structure of type @xmath102 on a smooth curve @xmath52 corresponds to a choice of a theta characteristic @xmath96 on @xmath52 and an explicit isomorphism @xmath103 .",
    "if @xmath104 is a smooth elliptic curve , then @xmath105 is isomorphic to @xmath106 .",
    "an @xmath1-spin structure on @xmath107 of type @xmath102 corresponds to a choice of an @xmath1-torsion point @xmath108 and an explicit isomorphism @xmath109 from the @xmath1-th tensor power of the invertible sheaf @xmath110 to the canonical sheaf @xmath105 .",
    "if we want to compactify the spaces involved by considering stable maps and prestable curves , the above definition of an @xmath1-spin structure is insufficient . in particular , even when the degree condition is satisfied , there may be no line bundle @xmath96 on a prestable curve @xmath52 such that @xmath111 is isomorphic to @xmath112 .",
    "the solution involves replacing line bundles by rank - one , torsion - free sheaves , allowing the isomorphism @xmath113 to have non - trivial cokernel at the nodes of the curve , and requiring that @xmath114 satisfy some additional technical restrictions ( see definitions  [ df : root ] and  [ df : net ] ) .",
    "there are two very different types of behavior of this torsion - free sheaf @xmath96 near a node @xmath115 .",
    "when it is still locally free , the sheaf @xmath96 is said to be _ ramond _ at the node @xmath116 .",
    "if the sheaf @xmath96 is not locally free at @xmath116 , it is called _ neveu - schwarz_.    in the ramond case , the homomorphism @xmath114 is still an isomorphism near the node @xmath116 , but in the neveu - schwarz case it can not be an isomorphism . the local structure of the sheaf @xmath96 near a neveu - schwarz node can be described as follows .    near the node @xmath116 , the curve @xmath52 has two coordinates @xmath117 and @xmath118 , such that @xmath119.the sheaf @xmath64 ( or @xmath120 ) is locally generated by @xmath121 .",
    "near @xmath116 the sheaf @xmath96 is generated by two elements @xmath122 and @xmath123 , supported on the @xmath117 and @xmath118 branches respectively ( that is , @xmath124 ) .",
    "the two generators may be chosen so that the homomorphism @xmath125 takes @xmath126 to @xmath127 and @xmath128 to @xmath129 , where @xmath130 .",
    "we call @xmath131 ( respectively @xmath132 ) the _ order of the spin structure along the @xmath117-branch ( respectively @xmath118-branch)_.    one more difficulty arises when @xmath1 is not prime  in this case the moduli of stable curves with @xmath1-spin structure , as described above , is not smooth .",
    "the remedy is to include all @xmath133-spin structures for every @xmath133 dividing @xmath1 , satisfying some natural compatibility conditions .",
    "this is described in definition [ df : net ] .",
    "we briefly review here the formal definition of an @xmath1-spin structure over a fixed prestable curve , given in  @xcite , and we define stable @xmath1-spin maps .",
    "[ df : root ] let @xmath95 be a prestable , @xmath3-pointed , algebraic curve ; let @xmath134 be a rank - one , torsion - free sheaf on @xmath52 ; and let @xmath135 be an @xmath3-tuple of integers .",
    "@xmath133-th root of @xmath134 of type @xmath136 _ is a pair @xmath137 , where @xmath68 is a rank - one , torsion - free sheaf , and @xmath114 is an @xmath138-module homomorphism @xmath139 with the following properties :    * @xmath140 .",
    "* @xmath114 is an isomorphism on the locus of @xmath52 where @xmath68 is locally free .",
    "* for every point @xmath141 where @xmath68 is not free , the length of the cokernel of @xmath114 at @xmath142 is @xmath143 .",
    "the condition on the cokernel amounts essentially to the condition that at each node the sum of orders of @xmath144 is equal to @xmath145 .",
    "if @xmath146 is congruent to @xmath136 modulo @xmath133 , then to any @xmath133-th root @xmath144 of type @xmath136 we can associate a @xmath133-th root @xmath147 of type @xmath146 simply by taking @xmath148 .",
    "consequently , the moduli of curves with @xmath133-th roots of a bundle @xmath134 of type @xmath136 is canonically isomorphic to the moduli of curves with @xmath133-th roots of type @xmath146 .",
    "therefore , unless otherwise stated , we will always assume the type @xmath136 of a @xmath133-th root satisfies @xmath149 for all @xmath86 .",
    "unfortunately , when @xmath133 is not prime , the moduli space of curves with @xmath133-th roots of a fixed sheaf @xmath134 is not smooth . to fix this problem",
    "we must consider not just roots of a bundle , but rather coherent nets of roots  @xcite .",
    "this additional structure suffices to make the moduli space of curves with a coherent net of roots smooth .",
    "[ df : net ] let @xmath134 be a rank - one , torsion - free sheaf on a prestable , @xmath3-pointed curve @xmath150 . a",
    "_ coherent net of @xmath1-th roots of @xmath134 of type @xmath151 _ is a pair @xmath152 of a set of sheaves and a set of homomorphisms as follows : the set of sheaves consists of a rank - one , torsion - free sheaf @xmath153 on @xmath52 for every positive divisor @xmath133 of @xmath1 ; and the set of homomorphisms consists of an @xmath138-module homomorphism @xmath154 for every pair of divisors @xmath155 of @xmath1 , such that @xmath156 divides @xmath133 .",
    "these sheaves and homomorphisms must satisfy the following conditions :    * @xmath157 and @xmath158 , the identity map , for every positive @xmath133 dividing @xmath1 .",
    "* for each divisor @xmath133 of @xmath1 and each divisor @xmath156 of @xmath133 , the homomorphism @xmath159 makes @xmath160 into a @xmath161-th root of @xmath162 of type @xmath146 , where @xmath163 is the reduction of @xmath94 modulo @xmath161 ( i.e. @xmath164 and @xmath165 ) .",
    "* the homomorphisms @xmath166 are compatible .",
    "that is , the diagram @xmath167 commutes for every @xmath168 .",
    "if @xmath1 is prime , then a coherent net of @xmath1-th roots is simply an @xmath1-th root of @xmath134 . even when @xmath133 is not prime , if the root @xmath153 is locally free , then for every divisor @xmath156 of @xmath133 , the sheaf @xmath162 is uniquely determined up to an automorphism of @xmath162 .",
    "in particular , if @xmath169 satisfies the conditions @xmath170 and @xmath171 , then the sheaf @xmath162 is isomorphic to @xmath172 .",
    "[ def : spinstruct ] let @xmath173 be an @xmath3-pointed , prestable curve of genus @xmath4 .",
    "let @xmath174 be an integer and let @xmath175 be an @xmath3-tuple of integers such that @xmath1 divides @xmath176 .",
    "an _ @xmath1-spin structure on @xmath52 of type @xmath94 _ is a coherent net of @xmath1-th roots of @xmath64 of type @xmath94 on @xmath52 .",
    "let @xmath174 be an integer , and let @xmath3 and @xmath4 be non - negative integers .",
    "let @xmath2 be a deligne - mumford stack , and let @xmath80 be a class in @xmath177 .",
    "finally , let @xmath175 be an @xmath3-tuple of integers such that @xmath1 divides @xmath176 .",
    "a _ stable , @xmath3-pointed , @xmath1-spin map into @xmath2 of genus @xmath4 , type @xmath94 , and class @xmath80 _ is a pair @xmath178 that consists of a stable @xmath3-pointed genus @xmath4 map @xmath179 of class @xmath80 , and an @xmath1-spin structure @xmath180 of type @xmath94 on @xmath52 .",
    "if @xmath2 is a point , then any stable , @xmath3-pointed , @xmath1-spin map into @xmath2 is just a stable @xmath1-spin curve .",
    "an isomorphism of @xmath1-spin maps @xmath181 @xmath182 and @xmath183 of the same type @xmath94 consists of an isomorphism @xmath33 of @xmath3-pointed , stable maps @xmath184 and a set of @xmath138-module isomorphisms @xmath185 with @xmath186 being the canonical isomorphism @xmath187 and such that the homomorphisms @xmath188 are compatible with all the maps @xmath159 and @xmath189 .",
    "every @xmath1-spin structure on a smooth curve @xmath52 is determined , up to isomorphism , by a choice of a line bundle @xmath190 , such that @xmath191 . therefore , in the smooth case , the formal definition  [ def : spinstruct ] is equivalent to the intuitive one from the previous subsection ( definition  [ df : naive ] ) .",
    "in particular , if @xmath77 has no automorphisms , then the set of isomorphism classes of @xmath1-spin structures ( if non - empty ) of type @xmath136 on @xmath77 is a principal homogeneous space for the group of @xmath1-torsion points of the jacobian of @xmath52 .",
    "thus there are @xmath100 such isomorphism classes .      to define the stack of stable @xmath1-spin maps",
    ", we must carefully define how @xmath1-spin structures vary in families .",
    "this turns out to be very delicate , since nilpotent elements may arise . in this paper , we use the definition of families of spin curves given in  @xcite .",
    "the main condition is that all of the homomorphisms @xmath159 should be power maps in the sense of  @xcite . the definition for families given there reduces to the definition of an @xmath1-spin structure given above , when the base is ( the spectrum of ) a field ; thus they are really only conditions on the families , rather than on the fibers .",
    "the precise definition of families of spin curves is not necessary for understanding the  related to the moduli space of stable @xmath1-spin maps discussed in sections  . in this paper",
    "we only use the formal definition in the proof of theorem  [ thm : stab ] , which states that the intuitive definition of the stabilization morphism from the stack of stable @xmath1-spin maps to the stack of stable @xmath1-spin curves does , indeed , give a morphism of stacks .",
    "the reader willing to accept this result may skip the remainder of this subsection and the proof of theorem  [ thm : stab ] in subsection  [ sec : proof ] .",
    "the following definition is rather technical , but it is precisely what is needed to guarantee that the moduli stacks of spin curves are smooth deligne - mumford stacks .",
    "families of spin curves can also be defined ( see  @xcite ) in terms of line bundles on the  twisted curves \" of abramovich and vistoli  @xcite .",
    "[ df : families ] an _ @xmath1-spin structure of type @xmath94 _ on a family @xmath192 of @xmath3-pointed prestable curves is a coherent net of @xmath1-th roots of @xmath61 of type @xmath94 .",
    "recall that , by definition  2.3.4 of  @xcite , a _ coherent net of @xmath1-th roots _ of @xmath61 of type @xmath94 is a set of rank - one , torsion - free @xmath138-modules @xmath193 and a collection of @xmath138-module homomorphisms @xmath194 , defined for @xmath195 , such that for each geometric fiber @xmath196 of @xmath192 , the sheaves @xmath193 and homomorphisms @xmath166 induce a coherent net of @xmath1-th roots of @xmath197 of type @xmath94 , and each homomorphism @xmath159 is an isomorphism on the smooth locus of @xmath192 .",
    "finally , these sheaves and homomorphisms must have a special type of local structure , which we describe now .",
    "for a node @xmath198 in a fiber of @xmath192 over a geometric point @xmath199 , we denote by @xmath200 and @xmath201 the orders of the @xmath133-th root map @xmath202 on the branches of the normalization of @xmath196 at @xmath116 .",
    "we define @xmath203 where @xmath204 if @xmath205 is an isomorphism at @xmath116 , we set @xmath206 .    the first requirement on the local structure of a net of coherent roots on a family @xmath192 is the existence of a special local coordinate system near any node @xmath116 where @xmath207 is not an isomorphism ( i.e. , @xmath190 is neveu - schwarz at @xmath116 ) .",
    "this local coordinate system consists of an tale neighborhood @xmath208 of @xmath209 with an element @xmath210 , and an tale neighborhood @xmath211 of @xmath116 in @xmath212 with sections @xmath213 , such that for @xmath214 we have    * @xmath215 . *",
    "the ideal generated by @xmath117 and @xmath118 has the singular locus of @xmath192 as its associated closed subscheme . * the homomorphism @xmath216/(x y-\\tau^{s})\\big )",
    "\\rightarrow { { \\mathcal o}}_{u , q}$ ] induces an isomorphism of the completions @xmath217/(x y-\\tau^{s})\\right ) { \\rto^{\\sim}}\\hat{{{\\mathcal o}}}_{u , q}.\\ ] ]    of course , such a local coordinate system would always exist for any @xmath192 if we had @xmath218 , but in general its existence requires that @xmath192 be ( locally ) a ramified cover of degree @xmath219 of another family of prestable curves .",
    "the second requirement on the local structure is that the sheaves @xmath153 must have a special presentation in terms of this special coordinate system . in particular ,",
    "any rank - one , torsion - free sheaf @xmath220 always has a presentation of the form @xmath221 for some @xmath222 and @xmath223 in @xmath224 , such that @xmath225 ; but for sheaves in the net we require that if @xmath153 is not locally free at the node @xmath116 , then @xmath153 must have such a presentation with @xmath226 and @xmath227 .",
    "in other words , @xmath153 is isomorphic near node @xmath116 to the sheaf @xmath228 if @xmath153 is locally free at @xmath116 , then for uniformity of notation we will use the unusual presentation @xmath229    finally , each homomorphism @xmath230 in the net must be a so - called _ power map _ , in the sense of definition 2.3.1 of  @xcite .",
    "this means that , if we use the local presentations @xmath231 and @xmath232 of the sheaves @xmath233 and @xmath234 , then the map @xmath235 induced by the homomorphism @xmath236 , acts on the generators @xmath237 of @xmath238 as @xmath239 here we require that @xmath240 and define @xmath241 ,   @xmath242 , and @xmath243 .",
    "if @xmath233 is locally free at @xmath116 , then the existence of a good presentation is automatically satisfied , and we have no additional power map requirement except that the map  ( [ eq : power ] ) be an isomorphism .",
    "this completes the definition of @xmath1-spin structures on families of prestable curves , and we can now define families of @xmath1-spin maps .",
    "let @xmath2 be an algebraic variety and @xmath244 .",
    "family of @xmath3-pointed , stable @xmath1-spin maps _ to @xmath2 of class @xmath80 and type @xmath94 over a base @xmath69 is a family of @xmath3-pointed , stable maps @xmath179 over @xmath69 of class @xmath80 with an @xmath1-spin structure of type @xmath94 on @xmath192 .",
    "now we are ready to define the main objects of the paper  the stack of stable @xmath1-spin maps .",
    "let @xmath2 be an algebraic variety over @xmath51 , and @xmath80 an element of @xmath245 .",
    "the _ stack of stable @xmath1-spin maps to @xmath2 _",
    "( @xmath3-pointed , of genus @xmath4 , and class @xmath80 ) is the disjoint union @xmath246 of stacks @xmath247 of ( families of ) stable @xmath3-pointed @xmath1-spin maps to @xmath2 of genus @xmath4 , type @xmath248 , and class @xmath80 .",
    "we will see in section  [ sec : forget ] that @xmath247 ( and , therefore , @xmath249 ) is a deligne - mumford stack whenever @xmath250 is . as the following proposition shows ,",
    "no information is lost by restricting @xmath94 to the range @xmath251 .",
    "[ prop : higherm ] if @xmath252 , then @xmath247 is canonically isomorphic to @xmath253 .    when @xmath254 , every @xmath1-spin structure of type @xmath94 naturally gives an @xmath1-spin structure of type @xmath169 simply by @xmath255      the stack @xmath256 has a natural projection @xmath257 which forgets the spin structure .",
    "the usual evaluation maps @xmath258 which send a point @xmath259 \\in { \\overline{{\\mathcal { m}}}_{g , n}}(v , \\beta)$ ] to @xmath260 , induce evaluation maps @xmath261    less obvious is the fact that for any morphism @xmath262 taking @xmath80 to @xmath263 , we have a stabilization morphism @xmath264 which takes @xmath60 to @xmath265 and contracts components of the curve that are unstable with respect to @xmath266 .",
    "[ thm : stab ] for any morphism @xmath267 , taking @xmath80 to @xmath263 , the stabilization map  ( [ eq : stab ] ) is a morphism of stacks .",
    "the proof of theorem  [ thm : stab ] will be given in subsection  [ sec : proof ] .",
    "the various canonical maps introduced above are shown in the following commutative diagram .",
    "@xmath268 we will use the notation of this diagram throughout the remainder of the paper , and we will denote the composition @xmath269 by @xmath116 .",
    "the universal curves @xmath270 and @xmath271 will be denoted by @xmath78 .",
    "the stack @xmath247 is not isomorphic to the fibered product @xmath272 , although on the smooth locus the map @xmath273 is an isomorphism .",
    "this can be seen as follows .",
    "if @xmath192 is a smooth family of curves , then a stable map @xmath274 and an @xmath1-spin structure @xmath275 are precisely the data necessary to construct an @xmath1-spin map , i.e. , there is a canonical morphism @xmath276 which is clearly the inverse of the morphism @xmath277 .",
    "but if @xmath52 is not stable , this morphism @xmath278 no longer exists .",
    "for example , let @xmath52 be a prestable curve that has two irreducible components @xmath75 and @xmath107 , where @xmath75 is a smooth curve of genus @xmath4 , and @xmath107 is a smooth , rational curve , without marked points , joined to @xmath75 at a single node @xmath279 .",
    "let @xmath74 be an embedding of @xmath52 in @xmath2 .",
    "an @xmath1-spin structure @xmath180 on @xmath52 is equivalent to a pair of @xmath1-spin structures @xmath280 on @xmath75 and @xmath281 on @xmath107 of orders @xmath55 and @xmath282 , respectively , at @xmath279 .",
    "thus the automorphism group of the @xmath1-spin map @xmath283 is @xmath284 , corresponding to multiplication of @xmath285 and @xmath286 by @xmath1-th roots of unity .",
    "but the stabilization map @xmath287 takes @xmath288 to the spin map @xmath289 on @xmath75 , and the automorphism group of @xmath290 is simply @xmath291 , since @xmath75 is irreducible and @xmath285 is invertible on @xmath75 .",
    "thus the morphism @xmath277 is not an isomorphism .",
    "[ q1-flat ] the morphism @xmath277 is flat and proper .",
    "flatness follows from the valuative criterion of flatness @xcite , which states that it is enough to check flatness of @xmath277 over each @xmath292-valued point @xmath293 , where @xmath292 is a discrete valuation ring .",
    "since the completion @xmath294 of @xmath292 is faithfully flat over @xmath292 , it suffices to check this for each complete discrete valuation ring .",
    "but in this case , the results of @xcite show that the universal deformation ( relative to the universal stable map @xmath295 ) of a spin structure over the central fiber of @xmath296 corresponds to the ring homomorphism @xmath297/(t^r - s)$ ] , where @xmath298 is a uniformizing parameter for @xmath292 .",
    "in particular , @xmath299/(t^r - s)$ ] is a free @xmath292-module , and thus is flat over @xmath292 .",
    "since the universal deformation is faithfully flat ( tale ) over @xmath247 , this shows that @xmath277 is also flat .",
    "properness also follows by the valuative criterion in exactly the same manner as was proved in @xcite for spin structures on stable curves .",
    "nothing in that proof required the underlying curves to be stable  only prestable .",
    "a useful notion in dealing with stacks is the idea of a deligne - mumford morphism , or morphism of deligne - mumford type .",
    "this is analogous to the concept of a representable morphism .",
    "a morphism of stacks @xmath300 is called _ deligne - mumford _ ( or _ of deligne - mumford type _ ) if for every @xmath211-valued point @xmath301 , for a representable @xmath211 , the fibered product @xmath302 is a deligne - mumford stack .",
    "the most useful fact about these morphisms is that if @xmath303 is a deligne - mumford morphism , and if @xmath69 is a deligne - mumford stack , then @xmath304 is a deligne - mumford stack ( see  ( * ? ? ?",
    "* prop.3.1.3 ) ) .",
    "[ thm : forget ] for all @xmath2 and @xmath80 , the forgetful morphism  ( see equation[eq : forget ] ) is a finite deligne - mumford morphism of stacks . in particular",
    ", @xmath247 is a deligne - mumford stack whenever @xmath250 is .    given a @xmath69-valued point @xmath305 for a representable @xmath69 , we must show that the stack @xmath306 of coherent nets of @xmath1-th roots of @xmath307 on the associated family @xmath192 of prestable curves is a deligne - mumford stack , finite over @xmath69 .",
    "in particular , we need to construct a smooth cover of @xmath308 and show that the diagonal @xmath309 is representable , unramified , and proper .",
    "these facts are all straightforward generalizations of their counterparts over the stack @xmath310 of stable curves as described in  @xcite .",
    "the only real difference is that we are now working with a specific family of prestable curves over @xmath69 , as opposed to working with the universal family of stable curves ( over @xmath310 ) , but that changes nothing of substance in the proof .",
    "the proof of properness is also an easy generalization of the case of stable @xmath1-spin curves , and the morphism is obviously quasi - finite , hence finite .",
    "we now turn to the proof that for any morphism @xmath311 , taking @xmath312 to @xmath313 , the stabilization map  ( [ eq : stab ] ) is a morphism of stacks .",
    "it is straightforward to check that the stabilization of the underlying curves preserves @xmath1-spin structures on each individual fiber , but we must also show that the stabilization morphism on the underlying curves preserves the @xmath1-spin structure in families .",
    "theorem  [ thm : stab ] obviously follows from the following lemma .",
    "[ lm : stab ] let @xmath314 be a morphism taking a family of prestable curves @xmath315 to a partial stabilization @xmath52 of @xmath316 , and let @xmath317 be an @xmath1-spin structure of type @xmath318 on @xmath319 , with @xmath320 for every @xmath86 . in this case , the sheaf @xmath321 is zero for every @xmath322 , and the push - forward @xmath323 is an @xmath1-spin structure of type @xmath94 on @xmath52 .    as mentioned above , it is straightforward to check that the maps @xmath324 and the sheaves @xmath325 are @xmath69-flat and produce an @xmath1-spin structure of type @xmath94 on each fiber of @xmath192 ( this will also follow from the computations below ) . thus we only need to verify that @xmath326 ( which implies that it commutes with base change ) , and that the maps and sheaves meet the local conditions outlined in subsection  [ sec : families ] for being a coherent net on the family of curves @xmath192 , provided the original sheaves @xmath327 and maps @xmath328 form a coherent net on the family @xmath329 .",
    "let us fix a point @xmath142 of a geometric fiber @xmath196 of @xmath192 .",
    "there are three cases to consider .",
    "first is the case when the point @xmath142 is not the image of a contracted component ( i.e. , @xmath330 is a single point ) .",
    "second is the case when @xmath142 is a smooth point of the fiber @xmath196 , but @xmath142 is the image of a whole irreducible component of the fiber @xmath331 of @xmath315 ; that is , @xmath332 contracts a @xmath333-curve to the point @xmath142 .",
    "third is the case that @xmath142 is a node of the fiber @xmath196 containing it , and it is the image of a contracted component of @xmath331 ; that is , @xmath142 is the image of a @xmath334-curve @xmath335 .",
    "* case 1 : * the first case is easy , since when @xmath330 is a single point , then @xmath332 is an isomorphism in a neighborhood of @xmath142 ( or of @xmath330 ) . in particular",
    ", @xmath336 is an isomorphism , @xmath337 , and @xmath338 is a @xmath161-th power map near @xmath142 .",
    "a depiction of case 2 of lemma  [ lm : stab ] : fibers @xmath339 and @xmath196 , the stabilization map @xmath340 , and the normalization of @xmath339 .",
    "the morphism @xmath332 contracts the unstable component @xmath75 to the point @xmath142 and induces an isomorphism from the rest of the curve @xmath341 to @xmath196 . ]",
    "the second and third cases are more involved .",
    "before we attack them , we note that the conditions we must verify are local ( and analytic ) on the base @xmath69 , so it suffices to check the result when @xmath69 is affine and is the spectrum of a complete local ring @xmath292 .",
    "moreover , the conditions are analytic on @xmath52 ; that is , the conditions are all determined by restricting to the completion of the local ring of @xmath52 near the point @xmath142 . to simplify",
    ", we will make the calculations in the case of @xmath342 , but all other values of @xmath133 ( dividing @xmath1 ) are similar .    *",
    "case 2 : * in the second case ( @xmath332 contracts a @xmath333-curve of @xmath316 to the point @xmath142 ) we will show that the induced sheaves @xmath325 are locally free at @xmath142 , and the maps @xmath159 are all isomorphisms ; thus the local coordinate and power map conditions are automatically fulfilled .",
    "the fiber @xmath331 over @xmath196 has one irreducible component @xmath75 lying over @xmath142 , and @xmath75 contains at most one marked point @xmath343 , labeled with an integer @xmath344 , where @xmath345 .",
    "this is indicated in figure  [ fg : case-2 ] .",
    "on @xmath75 , the sheaf @xmath346 is isomorphic to @xmath347 , where @xmath348 is the point of @xmath75 which maps to the node @xmath116 attaching @xmath75 to the rest of @xmath331 .",
    "moreover , @xmath1 must divide @xmath349 , so either @xmath350 , which implies that @xmath351 is locally free ( ramond ) near @xmath116 , or @xmath352 , which implies that @xmath351 is not locally free ( it is neveu - schwarz ) at @xmath116 . in either case",
    ", @xmath353 has degree @xmath333 and thus has no global sections .",
    "this also gives @xmath354 , since this is true on each fiber .",
    "now , in the neveu - schwarz case , the sheaf @xmath355 is simply the sheaf @xmath356 restricted ( modulo torsion ) to the rest of the prestable fiber @xmath357 . but",
    "@xmath358 on @xmath359 is an @xmath1-th root of @xmath360 , where @xmath361 is the other side of the node defined by @xmath348 .",
    "the actual value of @xmath362 is determined by the relation @xmath363 , which implies that @xmath364 .    in the ramond case",
    ", the vanishing of the global sections of @xmath365 implies that @xmath366 is @xmath367 , so it is an @xmath1-th root of @xmath368 .    in both the ramond and neveu - schwarz cases ,",
    "the new marked point @xmath369 of @xmath196 is labeled with @xmath344 , just as the old marked point @xmath343 was marked with @xmath344 on @xmath331 .",
    "if no point was marked on @xmath75 , then the point @xmath142 remains unmarked ( and @xmath370 ) .",
    "finally , @xmath371 is @xmath69-flat and @xmath372 vanishes , so we have that @xmath373 commutes with base change , and the calculations above on the fibers all hold globally on the family @xmath192 . thus @xmath374 is invertible near @xmath142 , and @xmath375 is an isomorphism near @xmath142 . in particular",
    ", @xmath375 is an @xmath1-power map .",
    "a similar argument holds for each @xmath376 and each @xmath377 near @xmath142 .",
    "* case 3 : * the third case is that of a point @xmath141 which is the image of a @xmath334-curve @xmath378 of @xmath316 .",
    "it is easy to see that , just as in case 2 , on the unstable ( contracted ) @xmath334-curve , the degree of the bundle is @xmath333 . also , we have @xmath379 ; the sheaf @xmath373 is @xmath69-flat and commutes with base change ; and on the fibers , the induced collection of sheaves and bundles forms an @xmath1-spin structure of type @xmath94 .",
    "we have still to check that the induced sheaves have the necessary family structure for spin curves ( existence of a local coordinate of suitable type , with respect to which the sheaves have the standard presentation  see definition  [ df : families ] ) , and that the induced maps are power maps , as described in equation  ( [ eq : power ] ) .",
    "for simplicity we will assume that the orders @xmath131 , @xmath132 , @xmath380 , and @xmath381 of the @xmath1-spin map @xmath382 along the two nodes @xmath116 and @xmath383 where the @xmath334-curve intersects the rest of the fiber have the property that @xmath384 .",
    "the case with common divisors larger than @xmath72 is similar .",
    "it is shown in  @xcite that @xmath319 is locally isomorphic to @xmath385/(x\\nu - e^r\\mu , h^r\\nu-\\mu y),\\ ] ] where @xmath386/xy-\\pi^r$ ] , and @xmath387 and @xmath78 are elements of the maximal ideal @xmath388 of @xmath292 with @xmath389 .",
    "this shows the existence of the special local coordinate .",
    "we next show that @xmath390 has a presentation of the form @xmath391 if we let @xmath392 and @xmath393 , then near the exceptional @xmath334-curve @xmath378 the curve @xmath319 is covered by two open sets , @xmath394/(x z - e^r , y - h^r z)\\ ] ] and @xmath395/(x - e^rs , y s - h^r).\\ ] ]    since @xmath396 is an @xmath1-spin structure , we can describe @xmath356 on @xmath211 by @xmath397 , and on @xmath2 by @xmath398 , where @xmath399 .    on the exceptional curve @xmath400 the sheaf",
    "@xmath346 is isomorphic to @xmath401 , and degree considerations show that @xmath402 , so @xmath403 and @xmath404 .",
    "moreover , in a neighborhood of @xmath378 , if @xmath405 is the image of the @xmath86-th section @xmath406 , the invertible sheaf @xmath407 is trivial and is generated by the element @xmath408 .",
    "the @xmath1-th power map @xmath382 is an isomorphism away from the nodes of @xmath319 , and since it is a power map ( changing the isomorphisms @xmath409 and @xmath410 , if necessary ) , it maps the generators @xmath411 and @xmath412 as follows : @xmath413 and @xmath414    since @xmath382 is an isomorphism away from the nodes , we have @xmath415 , or @xmath416 , for some @xmath1-th root of unity @xmath417 . changing the isomorphism @xmath410 by @xmath418",
    ", we may assume @xmath419    on @xmath420 we also have @xmath421 so global sections of @xmath422 are of the form @xmath423 we claim that the @xmath424-module @xmath425 is isomorphic to @xmath426 via @xmath427    the map is clearly an @xmath424-module homomorphism .",
    "moreover , for any section @xmath428 we may assume that @xmath429 $ ] and @xmath430 $ ] .",
    "likewise , we may assume that @xmath431 $ ] and @xmath432.$ ]    consequently , we have @xmath433 or @xmath434 thus @xmath435 and @xmath436 are completely determined by @xmath437 we may , therefore , map @xmath426 to @xmath438 via @xmath439 and it is easy to check that this homomorphism is the inverse of the first .",
    "an identical argument shows that @xmath440 is isomorphic to @xmath441 , where @xmath442 and @xmath443 .",
    "this shows the existence of the desired presentation for @xmath325 .    it remains to show that the maps @xmath324 are power maps  ( [ eq : powermap ] ) .",
    "again , since the arguments are essentially identical for each pair @xmath133 and @xmath156 , it suffices to prove this in the case of @xmath444 for some @xmath445 dividing @xmath1 .",
    "as above , we have @xmath446 .",
    "let @xmath445 be a divisor of @xmath1 , and @xmath447 .",
    "let @xmath448 be the smallest non - negative integer congruent to @xmath449 modulo @xmath1 and @xmath450 be the smallest non - negative integer congruent to @xmath451 modulo @xmath1 .",
    "define integers @xmath452 and @xmath453 as @xmath454    the module @xmath455 is generated by @xmath456 and @xmath457 with @xmath458 and @xmath459 .",
    "further , @xmath460 may be defined on @xmath211 by @xmath461 , @xmath462 and on @xmath2 by @xmath463 , so we may describe @xmath464 as above : the module @xmath465 is isomorphic to @xmath466 and is generated by @xmath467 and @xmath468 .    we must show that @xmath469 maps , via @xmath470 , to @xmath471 for @xmath472 and to @xmath473 when @xmath474",
    ".    we will do the first case ",
    "the second case is similar .",
    "the element @xmath469 is of the form @xmath475 so on @xmath211 , this element @xmath469 maps as @xmath476 on @xmath2 , the element @xmath477 maps as @xmath478    it is straightforward to check that these are the same on @xmath479 .",
    "but this is exactly the canonical @xmath133-th power map  ( [ eq : powermap ] ) for @xmath480 , as desired .",
    "[ rem : restrict - m ] it is important to note that if any of the @xmath481 is greater than @xmath32 , lemma  [ lm : stab ] is no longer true . in particular ,",
    "the sheaf @xmath482 no longer vanishes in case  2 of the proof , and the subsequent fiber - to - family transitions are not valid .",
    "there are many natural cohomology classes in @xmath483 ; these include the classes induced by pullback from @xmath250 and from @xmath484 .",
    "in particular , we have the @xmath86-th chern class @xmath485 of the hodge bundle @xmath486 , and the components @xmath487 of the chern character of the hodge bundle @xmath488 ( the even components of @xmath489 vanish by mumford s theorem  @xcite . ) in a similar manner we define the components @xmath490 of the chern character of the pushforward @xmath491 of the @xmath1-th root bundle @xmath190 to be @xmath492 here , by @xmath493 we mean the k - theoretic pushforward @xmath494 , which is generally not the equivalence class of a vector bundle , but only of a coherent sheaf .",
    "was denoted by @xmath495 .",
    "] here @xmath496 is the euler characteristic @xmath497 of @xmath190 on any geometric fiber @xmath498 of @xmath78 , and by riemann - roch we have @xmath499    in addition to the hodge - like classes @xmath485 , @xmath487 and @xmath490 , there are tautological classes induced by the canonical sections @xmath500 corresponding to the marked points of @xmath501 .",
    "these are classes @xmath502 ( and also class @xmath503 for each divisor @xmath133 of @xmath1 ) .",
    "when working in @xmath504 , we will abuse notation and use @xmath505 to indicate the line bundle @xmath506 , and @xmath507 the line bundle @xmath508 . in  @xcite it is proved that these classes are closely related : @xmath509      finally , there are the boundary classes .",
    "much of the information about the combinatorial structure of the boundary of @xmath247 can be encoded in terms of decorated graphs .",
    "recall that the _",
    "( dual ) graph _ of an @xmath3-pointed , prestable curve @xmath510 consists of the following elements :    * _ vertices _ , corresponding to the irreducible components of @xmath52 : a vertex @xmath511 is labeled with a non - negative integer @xmath512 , the ( geometric ) genus of the component ; * _ edges _ , corresponding to the nodes of the curve : an edge connects two vertices ( possibly even the same vertex , in which case the edge is called a _ loop _ ) if and only if the corresponding node lies on the associated irreducible components ; * _ tails _ , corresponding to the marked points @xmath513 , @xmath514 : a tail labeled by the integer @xmath86 is attached at the vertex associated to the component of @xmath52 that contains @xmath87 .",
    "a _ half - edge _ of a graph @xmath515 is either a tail or one of the two ends of a `` real '' edge of @xmath515 .",
    "we denote by @xmath516 the set of vertices of @xmath515 and by @xmath517 the number of half - edges of @xmath515 at the vertex @xmath511 .",
    "let @xmath515 be a graph . the number @xmath518 is called the _ genus _ of a graph @xmath515 .    a pair @xmath519 of non - negative integers is called _ stable _ if @xmath520 .    a vertex @xmath511 of a graph is called _ stable _ if the pair @xmath521 is stable .",
    "a graph @xmath515 is called _ stable _ if each vertex @xmath511 of @xmath515 is stable .    to describe strata of the moduli space of stable @xmath1-spin maps into @xmath2",
    ", we decorate the graphs with additional data coming from the @xmath1-spin structure and from @xmath2 .",
    "in particular , the type @xmath522 gives a marking to each of the tails , and the homology class @xmath523 of the image in @xmath2 of the corresponding irreducible component of the curve gives a marking to each vertex .",
    "[ df : stable - graph ] fix an integer @xmath23 and a variety @xmath2 .",
    "( @xmath524)-stable graph _ is a graph @xmath515 with a choice of a homology class @xmath525 for each vertex @xmath511 of @xmath515 , and a marking of each half edge @xmath223 by a non - negative integer @xmath526 . for each edge",
    "@xmath222 the marks @xmath527 and @xmath528 of the two half - edges @xmath529 and @xmath530 of @xmath222 must satisfy @xmath531    finally , the graph should satisfy the stability condition that if @xmath532 then the vertex @xmath511 is stable .",
    "if the half - edges of @xmath515 are not marked by integers @xmath533 , but its vertices are marked with classes @xmath523 , and all vertices with @xmath534 are stable , then such a graph will be called a _",
    "@xmath2-stable graph_.    similarly , if the vertices of @xmath515 are stable and not marked , but the half - edges are marked with integers @xmath533 satisfying  ( [ eq : edgecong ] ) , then it will be called an _",
    "@xmath1-stable graph_.    each stable @xmath1-spin map defines a @xmath535-stable graph , called its dual graph .",
    "given a stable @xmath1-spin map @xmath536 , its _ @xmath535-decorated dual graph _ ( or just _ dual graph _ ) is the dual graph @xmath515 of the underlying curve @xmath52 , with the following additional markings .",
    "each vertex @xmath511 is labeled with the class @xmath537 $ ] of the image of the corresponding irreducible component @xmath538 .",
    "the @xmath86-th tail is marked by @xmath481 , and each half - edge associated to a node of @xmath52 is marked by the order ( the integer @xmath539 or @xmath362 ) of the @xmath1-spin structure along the branch of the node associated to that half - edge .    for any @xmath2 , we let @xmath540 denote the set of all @xmath535-stable graphs of genus @xmath4 with @xmath3 tails .    for any morphism @xmath541 and a stable pair @xmath519 , there is an associated stabilization map @xmath542 defined as follows .",
    "the graph @xmath543 is mapped to the graph @xmath544 obtained from @xmath515 by removing all vertices @xmath511 in @xmath515 that fail the stability criterion ; that is , @xmath545 in @xmath546 and @xmath547    also remove all half - edges attached to each removed vertex @xmath511 , and join together any other half - edges that were previously connected to half - edges of @xmath511 . since there are at most two such half - edges per unstable vertex @xmath511 , this operation will either produce a well - defined edge , or it will not connect any half - edges at all . now mark each remaining vertex @xmath511 of the resulting graph with @xmath548 , and give each half - edge @xmath223 the mark @xmath533 it had in the graph @xmath515 .",
    "the resulting graph @xmath549 is clearly @xmath550-stable , except in the special case that for every vertex @xmath511 of @xmath515 we have @xmath551 and @xmath552 .",
    "this only occurs when @xmath553 , so when @xmath39 we always have a stabilization map @xmath554 associated to @xmath555 .",
    "if the morphism @xmath555 is the constant map taking @xmath2 to a point , we will call the image of a @xmath2-stable ( or @xmath535-stable ) graph @xmath515 under the associated stabilization map @xmath556 just _ the stabilization of @xmath515_.    @xmath535-stable graphs of genus @xmath4 with @xmath3 tails correspond to boundary strata in @xmath249 , although some of these strata may be empty .",
    "let @xmath515 be a connected @xmath2-stable graph ( or @xmath535-stable , or @xmath1-stable graph ) with @xmath3 tails and of genus @xmath4 .",
    "we denote by @xmath557 ( or by @xmath558 , or by @xmath559 ) the closure in @xmath250 ( or in @xmath249 , or in @xmath560 ) of the moduli space of stable maps ( or stable @xmath1-spin maps , or stable @xmath1-spin curves ) whose dual graph is @xmath515 .",
    "if @xmath561 is the disjoint union of connected subgraphs @xmath562 , then we denote by @xmath563 the product @xmath564 , and similarly @xmath565 .",
    "these substacks @xmath558 are generally not irreducible , since different spin structures often can not be deformed into one another , even for a fixed type @xmath94 .",
    "for example , when @xmath566 , @xmath567 , @xmath568 , and the target @xmath2 is a point , there are both even and odd spin structures on each stable curve , and these form distinct irreducible components .    moreover , the classes @xmath569 $ ] in the chow group @xmath570 defined by the substacks @xmath558 are not usually the pullbacks of the corresponding classes in @xmath571 . for example , if @xmath2 is a point and the graph @xmath515 is a tree with one edge and two vertices @xmath572 then there is a unique choice of marking @xmath539 and @xmath362 on the two half - edges of the edge that makes the degree of the twisted canonical bundle divisible by @xmath1 on both vertices . in this case",
    "it can be shown ( see  @xcite ) that in @xmath573 the class @xmath574 $ ] is precisely @xmath575 = \\frac{r}{\\gcd(m^++1,r ) } [ { { { \\overline{{{\\mathcal { m}}}}}_{\\gamma}}^{1/r}}].\\ ] ]",
    "recall from  @xcite that an @xmath1-spin virtual class on the moduli of stable , @xmath1-spin curves is an assignment of a cohomology class @xmath576 to every genus @xmath4 , @xmath1-stable graph @xmath515 with @xmath3-tails . here ,",
    "if the tails of @xmath515 are marked with the @xmath3-tuple @xmath248 , then the dimension @xmath577 is @xmath578 where @xmath579 is the number of connected components of @xmath515 . in the special case where @xmath515 has one vertex and no edges ,",
    "we denote @xmath580 by @xmath581 .",
    "the classes are required to satisfy the axioms of connected and disconnected graphs , convexity , cutting edges , vanishing , and forgetting tails .",
    "we can use the choice of an @xmath1-spin virtual class for stable @xmath1-spin curves to produce a similar @xmath1-spin class for all stable map spaces .",
    "[ class ] let @xmath582 be the set of all @xmath1-stable graphs . given an @xmath1-spin virtual class @xmath583 meeting the axioms of  @xcite , then for each @xmath2 and for each @xmath535-stable graph @xmath515 , define the class @xmath584 where @xmath549 is the stabilization of @xmath515 .",
    "the only graphs that are @xmath2-stable but have no stabilization are graphs with @xmath553 , so in these cases we define the @xmath1-spin virtual class directly .",
    "[ chern ] if @xmath35 and @xmath585 then we define @xmath586 to be the top chern class of the dual of the first cohomology of the @xmath1-th root bundle @xmath190 ; namely , @xmath587 where @xmath190 is the @xmath1-th root of the universal spin structure @xmath180 on the universal curve @xmath588    [ pr : unstab ] if @xmath35 and @xmath585 , then for every connected graph @xmath589 with no marking @xmath481 equal to @xmath32 , the @xmath1-spin virtual class @xmath586 has dimension zero ; and thus for any @xmath590 with @xmath585 we have @xmath591    the degree of the sheaf @xmath190 is an integer and is given by @xmath592 hence when @xmath35 we have @xmath593 the dimension @xmath577 of @xmath586 is @xmath594 if @xmath595 we have @xmath596 , which implies @xmath5 , and we immediately have @xmath597 . if @xmath598 , then since @xmath599 , we have @xmath600 ; and hence @xmath601 is the only solution to the congruence @xmath602 .",
    "@xmath603    if any of the @xmath481 are equal to @xmath32 , then the argument in the proof of axiom 4 in  ( * ? ?",
    "* theorem  4.1 ) shows that @xmath38 must be zero .    in the case",
    "that @xmath604 and @xmath595 , the moduli space @xmath605 decomposes into the disjoint union of @xmath133 connected components , where @xmath133 is the number of positive divisors of @xmath1 ( including @xmath72 and @xmath1 ) ; these components correspond to the fact that ( on the smooth locus ) @xmath1-spin structures are in one - to - one correspondence with @xmath1-torsion points of the jacobian of the underlying curve .",
    "no deformation of the underlying curve can take a point of order @xmath86 to a point of order @xmath278 unless @xmath606 , so the moduli space breaks up into disjoint components @xmath607 we call @xmath86 the _ index _ of the component if the @xmath1-th root is a point of exact order @xmath86 in the jacobian of the underlying curve .",
    "[ r - spin ] if @xmath604 and @xmath595 , define the @xmath1-spin virtual class @xmath608 as follows @xmath609    [ thm : cv - convex ] if @xmath35 , then @xmath610 is the top chern class @xmath611 of the bundle whose fiber is the dual of the first cohomology of the @xmath1-th root @xmath356 on the universal curve @xmath612 .    for @xmath613 ,",
    "this is true by definition .    in the case that @xmath614 , since @xmath35 , the @xmath1-spin virtual class @xmath615 is the top chern class @xmath616 of the first cohomology of the @xmath1-th root @xmath190 on the universal curve @xmath617 , by the convexity axiom of @xcite  4.1 .",
    "we have the following commutative diagram .",
    "@xmath618    here @xmath619 is the natural map induced by @xmath620 and stabilization of @xmath621 .",
    "if @xmath356 is the @xmath1-th root on @xmath621 , then by lemma [ lm : stab ] and the universality of the sheaves involved , @xmath622 is isomorphic to the pullback @xmath623 of the @xmath1-th root @xmath190 from @xmath624 , and @xmath625 . by the leray spectral sequence we have @xmath626 but @xmath287 is flat ( it is the composition of flat morphisms  see the commutative diagram  ( [ eq : big - diagram ] ) ) , so that @xmath627    [ rem : cv - m - restrict ] the proof of theorem  [ thm : cv - convex ] depends upon the fact that the integer marking @xmath533 of each half edge @xmath223 lie in the range @xmath628 , as required for stable graphs ( see definition  [ df : stable - graph ] ) . in particular , when an @xmath533 lies outside that range , lemma  [ lm : stab ] fails .",
    "we shall see ( in remark  [ rem : descent ] ) that theorem  [ thm : cv - convex ] is false in the case that any @xmath533 is larger than @xmath32 .",
    "we define @xmath629^{\\mathrm virt}$ ] to be the pullback @xmath630^{\\mathrm virt } : = \\tilde p^ * [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^ { \\mathrm virt}\\ ] ] of the usual virtual fundamental class @xmath631^{\\mathrm virt}$ ] ( see section  [ sec : fundcl ] ) of @xmath250 via @xmath632    using the notation of the commutative diagram  ( [ eq : big - diagram ] ) , since @xmath633 , for any @xmath634 we have the equality @xmath635    we also have the following important relation on classes , which is the main step in proving that the @xmath636 defined by stable @xmath1-spin maps is the tensor product of the  of @xmath1-spin curves and stable maps ( theorem  [ thm : tensorproduct ] ) .",
    "[ thm : tensor ] given any set @xmath637 of classes in @xmath638 ( or @xmath16 ) , and given an @xmath1-spin virtual class @xmath38 on @xmath256 defined by equations  ( [ eq : def1 ] ) ,  ( [ eq : def2 ] ) and  ( [ eq : def3 ] ) , the relation @xmath639^\\mathrm{virt})=p _ * { c^{1/r}}\\cup st _ * ( \\prod^n_{i=1 } { ev}^*_i ( \\gamma ) \\cap [ { \\overline{{{\\mathcal { m}}}}}_{g , n}(v,\\beta ) ] ^\\mathrm{virt})\\ ] ] holds .",
    "we will give the proof on the level of ( operational ) chow groups @xmath640 with notation as in  ( * ? ? ?",
    "* v  8) . from (",
    "* vi  2 ) it will follow then that such results also hold for @xmath16 .    in particular , if we denote the identity maps on @xmath310 , @xmath560 , @xmath250 , @xmath641 , and @xmath249 by @xmath642 , @xmath643 , @xmath644 , @xmath645 , and @xmath646 , respectively , then we have @xmath647 , and @xmath648 .",
    "we take @xmath649 in @xmath650 , so that @xmath651 is in @xmath652 . also ,",
    "we have @xmath631^{\\mathrm{virt } } \\in a_*({{\\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)})$ ] .    finally , by @xmath653^{\\mathrm{virt}}\\ ] ] we mean @xmath654^{\\mathrm{virt}}.\\ ] ]    as in  ( * ? ? ?",
    "* v  8.9 ) , for any morphism @xmath655 , we define @xmath656 to be @xmath657where @xmath658 and @xmath659 is an arbitrary morphism , and @xmath660 .",
    "we also define , for any proper , flat morphism @xmath661 of deligne - mumford stacks @xmath52 and @xmath662 , the proper flat pushforward @xmath663 to be @xmath664 where @xmath665 is an arbitrary morphism , @xmath579 is an element of @xmath666 , and @xmath667 is an element of @xmath668 .",
    "note that part ( ii ) of manin s definition in ( * ? ? ?",
    "* v  8.9 ) of the operational chow ring @xmath669 for the identity morphism @xmath670 states that elements of @xmath669 only need to commute with pullback along _",
    "representable _ , flat morphisms of dm - stacks , despite the fact that standard definitions of general operational chow rings require that these elements commute with pullback along _ all _ flat morphisms of dm - stacks ( see vistoli @xcite and manin ( * ? ? ?",
    "* v.8.1.i ) ) .    in what we do below",
    ", we will need the definition of @xmath669 that requires commutativity with all flat pullbacks ; that is , we require the following .",
    "let @xmath671 be a flat morphism of deligne - mumford stacks , which is _ not necessarily representable _ , and let @xmath672 be an arbitrary morphism of deligne - mumford stacks .",
    "for any @xmath673 and @xmath674 , we have @xmath675    this seemingly minor difference in the definition of @xmath640 allows us to prove a projection formula for non - representable morphisms .",
    "[ flat ]    1 .",
    "let @xmath676 be a proper , flat morphism of deligne - mumford stacks ( which is not necessarily representable ) , and let @xmath677 be an arbitrary morphism of deligne - mumford stacks .",
    "we have @xmath678 2 .   *",
    "( projection formula for @xmath679 ) * let @xmath671 be a proper , flat morphism of deligne - mumford stacks ( which is not necessarily representable ) .",
    "for any @xmath680 and @xmath681 we have @xmath682    for part 1 of the lemma , the same proof as given by manin for this equation ( * ? ? ? *",
    "v.8.30 ) works exactly for our case , too ; nowhere is the representability of @xmath60 used in manin s proof .    for part 2 ,",
    "again manin s proof of the projection formula ( * ? ? ? *",
    "v.8.29 ) works for non - representable morphisms , the only change needed is that  ( * ? ? ?",
    "* v.8.22 ) ( commutativity with flat , representable pullbacks ) must be replaced by our equation ( [ eqn : flat - pb ] ) for non - representable , flat pullbacks .",
    "one more fact we will need in the proof of theorem  [ thm : tensor ] is the commutativity with proper pushforwards required by the definition of @xmath640 ( cf .",
    "* v.8.21 ) ) ; namely , if @xmath683 is proper , and @xmath684 is an arbitrary morphism , then by definition of @xmath669 , for any @xmath685 and for any @xmath686 we have @xmath687    now we may proceed with the proof of theorem  [ thm : tensor ]",
    ". we will refer throughout the proof to the notation of the commutative diagram ( [ eq : big - diagram ] ) .    since @xmath277 is a birational map , it is a splitting morphism ( i.e. , @xmath688 , as a map on @xmath640 ) .",
    "moreover , the morphism @xmath332 is flat  ( * ? ? ?",
    "3 ) and proper , @xmath142 is flat ( * ? ? ?",
    "* theorem 2.2 ) and proper ( * ? ?",
    "* theorem 2.3 ) , and @xmath277 is flat and proper by proposition [ q1-flat ] .",
    "we have the following relations :    @xmath689^{\\mathrm{virt}}\\right)\\ ] ] @xmath690^{\\mathrm{virt}}\\right ) \\\\ \\text{\\tiny ( dfn . of $ q_{1\\bullet}$ ) } & = & q_{2*}\\left ( q_{1\\bullet } q^*_1 \\left(pr^*_1 { c^{1/r}}\\cup pr^*_2 \\prod^n_{i-1}ev^*_i ( \\gamma_i ) \\right)_{\\mathbb{i}_{{\\times } } } \\cap pr_2^*[{{\\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right ) \\\\ \\text{\\tiny",
    "( $ q_1 $ is splitting ) } & = & q_{2 * } \\left(\\left(pr^*_1 { c^{1/r}}\\cup pr^*_2 \\prod ev^*_i(\\gamma_i)\\right)_{\\mathbb{i}_{{\\times } } } \\cap pr_2^*[{{\\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right)\\\\ & = & st _ * pr_{2 * } \\left(\\left(pr^*_1 { c^{1/r}}\\cup pr^*_2 \\prod ev^*_i(\\gamma_i ) \\right)_{\\mathbb{i}_{{\\times } } } \\cap pr_2^ * [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt } } \\right)\\\\ \\text{\\tiny ( dfn .",
    "of $ pr_{2\\bullet}$ ) } & = & st _ * \\left ( pr_{2\\bullet}\\left(pr^*_1 { c^{1/r}}\\cup pr^*_2 \\prod ev^*_i(\\gamma_i ) \\right)_{\\mathbb{i}_{v } } \\cap [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right)\\\\ \\text{\\tiny ( prj . fmla . for $ pr_{2\\bullet}$ ) } & = & st _ * \\left ( \\left ( pr_{2\\bullet}(pr^*_1 { c^{1/r } } ) \\cup \\prod ev^*_i(\\gamma_i ) \\right)_{\\mathbb{i}_{v } } \\cap [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right)\\\\ \\text{\\tiny ( equation~\\ref{eqn : flat - pb2 } ) } & = & st _ * \\left ( \\left((st^ * p_{\\bullet } { c^{1/r } } ) \\cup \\prod ev^*_i(\\gamma_i ) \\right)_{\\mathbb{i}_{v } } \\cap [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right)\\\\ & = & st _ * \\left ( ( st^ * p_{\\bullet } { c^{1/r}})_{\\mathbb{i}_v } \\cap \\left ( ( \\prod ev^*_i(\\gamma_i))_{\\mathbb{i}_{v } } \\cap [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right)\\right)\\\\ \\text{\\tiny ( dfn . of $ st^*$ ) } & = & st_*\\left((p_{\\bullet } { c^{1/r}})_{st } \\cap   \\left ( ( \\prod ev^*_i(\\gamma_i))_{\\mathbb{i}_{v } } \\cap [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right ) \\right ) \\\\ \\text{\\tiny ( equation~\\ref{eqn : proper - push } ) } & = & ( p_{\\bullet } { c^{1/r}})_{\\mathbb{i } } \\cap st _ * \\left ( ( \\prod ev^*_i(\\gamma_i))_{\\mathbb{i}_{v } } \\cap [ { { \\overline{{\\mathcal { m}}}_{g , n}}(v,\\beta)}]^{\\mathrm{virt}}\\right ) .\\\\\\end{aligned}\\ ] ]    this completes the proof of theorem  [ thm : tensor ] .",
    "let @xmath2 be a smooth projective variety .",
    "the moduli space of stable @xmath1-spin maps @xmath0 gives rise to a set of correlators satisfying axioms analogous to those satisfied by gromov - witten invariants .",
    "this follows from the fact that the  associated to @xmath0 is the tensor product of the gromov - witten  with the @xmath1-spin .      for each @xmath691 and a stable pair of integers @xmath519 , define the _ ( cohomological )",
    "correlators of gromov - witten theory _ to be linear maps @xmath692 such that @xmath693^\\mathrm{virt}],\\ ] ] where @xmath694 is the stabilization morphism  ( [ eq : stabmor ] ) , @xmath695^\\mathrm{virt}$ ] is the virtual fundamental class  ( [ eq : fundcl ] ) of @xmath10 , and @xmath696 .",
    "[ thm : gwaxioms ] let @xmath697 denote the semigroup of numerical equivalence classes @xmath80 such that @xmath698 for all ample divisor classes @xmath699 in @xmath2 .",
    "let @xmath700 be the poincar pairing on @xmath16 and let @xmath701 be the coefficients of its matrix with respect to a basis @xmath702 for @xmath16 .",
    "denote by @xmath703 the inverse matrix of @xmath704 .",
    "the collection @xmath705 satisfies the following properties , called the _ axioms of gromov - witten invariants_. ( we are using the summation convention . )    1 .",
    "( effectivity ) @xmath706 if @xmath707 .",
    "( @xmath708-equivariance ) each map @xmath709 is @xmath708-equivariant , where @xmath708 is the symmetric group on @xmath3 letters .",
    "( degeneration axioms ) 1 .",
    "let @xmath710 be the gluing map corresponding to the stable graph @xmath711 then the forms @xmath709 satisfy the composition property @xmath712 for all @xmath713 .",
    "2 .   let @xmath714 be the gluing map corresponding to the stable graph @xmath715 then @xmath716 4 .",
    "( identity axiom ) let @xmath72 be the unit in @xmath16 then @xmath717 for all @xmath718 , where @xmath719 is the forgetful morphism .",
    "( dimension axiom ) let @xmath720 denote the canonical class of @xmath2 .",
    "the linear map @xmath709 has the grading @xmath721 6 .",
    "( divisor axiom ) let @xmath579 belong to @xmath722 , then @xmath723 for all @xmath718 , where @xmath724 is the forgetful morphism .",
    "( mapping to a point ) for all @xmath718 we have @xmath725,\\ ] ] where @xmath726 and @xmath727 are the canonical projections , @xmath728 is the tangent bundle , @xmath729 where @xmath730 is the structure sheaf on the universal curve @xmath731 , and @xmath732 ( the rank of @xmath733 ) .",
    "these properties were first presented in  @xcite and were later proved by various people .",
    "the theorem follows from properties of the virtual fundamental class , restriction properties of the gromov - witten classes , and the geometry of the moduli space of stable maps into @xmath2 .",
    "( see  @xcite for a summary of the proof . )",
    "let @xmath734 denote the ring consisting of formal sums of expressions @xmath735 with complex coefficients , where @xmath80 belongs to @xmath736 , subject to the relations @xmath737 .",
    "we define @xmath738 as @xmath739 let @xmath740 denote the collection @xmath741 and @xmath72 denote the unit in @xmath16 .    because of these properties",
    ", the gromov - witten invariants form an algebra over the modular operad @xmath742 or , equivalently , a .",
    "we refer the reader to  @xcite for the definition of a .",
    "the triple @xmath743 forms a  with the flat identity @xmath72 ( over the ground ring @xmath734 ) .",
    "the  @xmath744 whose correlators are constructed from classes @xmath745 satisfying properties @xmath72 to @xmath746 in theorem [ thm : gwaxioms ] form a special class of",
    ". there is , however , another potential construction of .",
    "let @xmath23 be an integer and let @xmath747 be the @xmath748 dimensional @xmath51 vector space with basis @xmath749 together with a metric @xmath750 let @xmath30 be an @xmath1-spin virtual class on @xmath37 satisfying the axioms from  @xcite .",
    "let @xmath751 be defined by @xmath752 for all nonnegative numbers @xmath753 such that @xmath754 where @xmath755 .",
    "finally , let @xmath756 denote the collection @xmath757 .    in  @xcite , following witten @xcite",
    ", we constructed this @xmath1-spin virtual class in genus zero for all @xmath1 and for all genera when @xmath5 .",
    "for each integer @xmath23 , the collection @xmath758 forms a  with flat identity @xmath759 and is called an _ @xmath1-spin . _    since the space @xmath37 is associated to the @xmath1-spin and the space @xmath10 is associated to gromov - witten theory , it is natural to ask if there is a natural associated to the space @xmath760 .",
    "the answer is yes , and this  is closely related to the other two through the operation of tensor product .",
    "the category of cohomological field theories has a canonical tensor product operation  ( see  @xcite ) .",
    "let @xmath761 and @xmath762 be .",
    "their _ tensor product _ is @xmath763 , where @xmath764 for all @xmath450 in @xmath765 , @xmath453 in @xmath766 , and @xmath767 denotes the usual sign associated to the permutation @xmath768    this reflects the fact that the diagonal map @xmath769 is a coproduct with respect to the composition maps of the modular operad @xmath770 .    in the case of gromov - witten invariants ,",
    "behrend  @xcite proved that the  arising from @xmath771 is the tensor product of that arising from @xmath772 and @xmath773 .",
    "when restricting to genus zero , one can view this result as a deformation of the knneth theorem .",
    "similarly , it was shown in  @xcite that the tensor product of an @xmath1-spin   and an @xmath774-spin  can be geometrically realized by means of the moduli space of @xmath775-spin curves .",
    "to complete this picture , what is missing is a description of the tensor product of the gromov - witten theory with the @xmath1-spin .",
    "[ df : lambdavrdef ] let @xmath776 denote the cohomology of @xmath2 together with its poincar pairing @xmath777 .",
    "let @xmath778 denote the tensor product of @xmath779 with @xmath747 .",
    "for each stable pair @xmath519 and @xmath691 , define the _",
    "( cohomological ) correlators _ to be linear maps @xmath780 given by @xmath781^\\mathrm{virt}],\\ ] ] where @xmath782 is the morphism that forgets both the stable map and the @xmath1-spin structure , @xmath783^\\mathrm{virt}$ ] is the virtual fundamental class of @xmath784 , and @xmath785 .",
    "the following theorem holds .",
    "[ thm : tensorproduct ] let @xmath786 , where @xmath787 let @xmath788 denote the collection @xmath789 .",
    "the collection @xmath790 forms a ( over the ground ring @xmath734 ) with flat identity @xmath791 and is the tensor product of the @xmath792 and @xmath758 .",
    "this is an immediate consequence of theorem  [ thm : tensor ] .",
    "the @xmath1-spin  behave as though the elements of @xmath42 were cohomology classes of fractional dimension , similar to the orbifold cohomology classes of chen and ruan  @xcite .",
    "there is also no analog of the elements @xmath80 in @xmath736 appearing in gromov - witten theory .",
    "however , the theory associated to @xmath1-spin maps into @xmath2 does satisfy analogous axioms . in particular ,",
    "this theory , like the gromov - witten theory , is of qc - type  @xcite .      the classes @xmath793 have properties analogous to those of gromov - witten invariants .",
    "[ thm : newaxioms ] let @xmath519 be a stable pair of integers .",
    "the collection @xmath794 satisfies the following properties :    1 .",
    "( effectivity ) @xmath795 if @xmath707 .",
    "2 .   ( @xmath708-equivariance )",
    "each map @xmath793 is @xmath708-equivariant .",
    "3 .   ( degeneration axioms ) given a basis @xmath796 for @xmath44 ,",
    "let @xmath797 and @xmath798 denote the inverse matrix .",
    "1 .   let @xmath710 be defined as in theorem  [ thm : gwaxioms ] , then the forms @xmath799 satisfy the composition property : @xmath800 for all @xmath801 .",
    "2 .   let @xmath714 be defined as in theorem  [ thm : gwaxioms ] , then @xmath802 for all @xmath801 .",
    "4 .   ( identity axiom )",
    "let @xmath803 , where @xmath72 is the unit in @xmath16 and @xmath759 the unit of @xmath42 , then @xmath804 for all @xmath801 , where @xmath724 is the forgetful morphism . 5 .   ( dimension axiom )",
    "let @xmath720 denote the canonical class on @xmath2 .",
    "the map @xmath793 of @xmath805-graded modules must be homogeneous of degree @xmath806 6 .",
    "( divisor axiom ) let @xmath807 belong to @xmath808 , then @xmath809 for all @xmath801 , where @xmath724 is the forgetful morphism .",
    "( mapping to a point axiom ) @xmath810 \\cup p_*c_{g , n}^{1/r,{\\mathbf{m}}}\\ ] ] for all @xmath718 , where @xmath811 and @xmath812 are the canonical projections , @xmath728 is the tangent bundle , @xmath813 where @xmath730 is the structure sheaf on the universal curve @xmath731 , and @xmath814 ( the rank of @xmath733 ) .",
    "finally , @xmath815 is the morphism forgetting the spin structure and @xmath135 .",
    "all axioms follow immediately from theorems  [ thm : tensor ] and [ thm : gwaxioms ] .      recall the potential functions associated to @xmath10 .",
    "consider the _ correlation functions _",
    "@xmath816^\\mathrm{virt } } \\prod_{i=1}^n ( \\psi_i^{a_i } { ev}_i^*\\gamma_i)\\ ] ] for all integers @xmath817 and @xmath818 in @xmath16 .",
    "correlation functions such that some of the @xmath819 are nonzero are called _",
    "gravitational descendants_.    the _ large phase space potential ( function ) _ associated to @xmath10 is @xmath820[[t_a^\\alpha ] ] , \\ ] ] where @xmath821 and @xmath822 relative to a basis @xmath823 for @xmath16 such that @xmath824 is the identity .",
    "the _ small phase space potential ( function ) _ , @xmath825 where @xmath826 are coordinates on @xmath16 relative to the basis @xmath823 , is obtained from @xmath827 by setting @xmath828 and @xmath829 for all @xmath830 and all @xmath579 .",
    "there are analogous potential functions associated to @xmath0 .",
    "consider the _ correlation functions _",
    "@xmath831^\\mathrm{virt } } r^{1-g } { \\tilde{c}^{1/r}}({\\mathbf{m } } ) \\prod_{i=1}^n ( \\psi_i^{a_i } { ev}_i^*\\gamma_i)\\ ] ] for integers @xmath817 , @xmath832 , and @xmath833 .",
    "correlation functions such that some of the @xmath819 are nonzero are called _ gravitational descendants_.    the _ large phase space potential ( function ) _ associated to @xmath784 is @xmath834[[{{{{\\mathcal h}}^{(v , r)}}}]],\\ ] ] where @xmath835 and @xmath836 relative to the basis @xmath837 for @xmath44 .",
    "the _ small phase space potential ( function ) _ , @xmath838 where @xmath839 consists of coordinates @xmath840 on @xmath16 relative to the basis @xmath841 , is obtained from @xmath842 by setting @xmath843 and @xmath844 for all @xmath830 and all @xmath845 .    [",
    "thm : unstablephi ] the small phase space potential function @xmath838 is completely determined by the potential @xmath825 , the cohomological correlators @xmath846 , and @xmath847 .",
    "theorem  [ thm : tensor ] shows that the intersection numbers @xmath848 are completely determined by the classes @xmath846 and @xmath847 if @xmath519 is stable .",
    "we must still address the unstable cases  when @xmath849 .",
    "but by proposition  [ pr : unstab ] and definition [ r - spin ] , these are always of dimension zero .",
    "let @xmath850 where @xmath851 are the connected components of @xmath27 , and let @xmath852 be the morphisms forgetting the @xmath1-spin structure .",
    "furthermore , let @xmath853 be @xmath38 restricted to @xmath851 and let us assume that @xmath853 is zero dimensional . for all @xmath854 in @xmath44",
    "we have @xmath855^\\mathrm{virt } \\\\ & = & \\sum_i { \\tilde{c}^{1/r,{\\mathbf{m}},(i)}}_{g , n } r^{1-g } \\int { \\tilde{\\mathbf{ev}}}^*{\\boldsymbol{\\gamma}}\\cap [ { \\overline{{{\\mathcal { m}}}}}_{g , n}^{1/r,{\\mathbf{m}}}(v,\\beta)]^\\mathrm{virt } \\\\ & = & \\sum_i { \\tilde{c}^{1/r,{\\mathbf{m}},(i)}}_{g , n } r^{1-g } \\int { { \\tilde{p}}_{(i)}}^ * { \\mathbf{ev}}^*{\\boldsymbol{\\gamma}}\\cap { { \\tilde{p}}_{(i)}}^*[{\\overline{{{\\mathcal { m}}}}}_{g , n}(v,\\beta)]^\\mathrm{virt }   \\\\ & = & \\sum_i { \\tilde{c}^{1/r,{\\mathbf{m}},(i)}}_{g , n } r^{1-g } \\int ( { \\mathbf{ev}}^*{\\boldsymbol{\\gamma}})_{{{\\tilde{p}}_{(i ) } } } \\cap { { \\tilde{p}}_{(i)}}^*[{\\overline{{{\\mathcal { m}}}}}_{g , n}(v,\\beta)]^\\mathrm{virt }   \\\\ & = & \\sum_i { \\tilde{c}^{1/r,{\\mathbf{m}},(i)}}_{g , n } r^{1-g } \\int { { \\tilde{p}}_{(i)}}^ * ( { \\mathbf{ev}}^*{\\boldsymbol{\\gamma}}\\cap [ { \\overline{{{\\mathcal { m}}}}}_{g , n}(v,\\beta)]^\\mathrm{virt } )   \\\\ & = & \\sum_i { \\tilde{c}^{1/r,{\\mathbf{m}},(i)}}_{g , n } r^{1-g } \\deg({{\\tilde{p}}_{(i ) } } ) \\int { \\mathbf{ev}}^*{\\boldsymbol{\\gamma}}\\cap [ { \\overline{{{\\mathcal { m}}}}}_{g , n}(v,\\beta)]^\\mathrm{virt } \\\\ & = & \\sum_i { \\tilde{c}^{1/r,{\\mathbf{m}},(i)}}_{g , n } r^{1-g } \\deg({{\\tilde{p}}_{(i ) } } ) \\langle { \\boldsymbol{\\gamma}}\\ , \\rangle_{g,\\beta } , \\\\\\end{aligned}\\ ] ] where @xmath856 denotes the ( orbifold ) degree of @xmath857 .",
    "this completes the proof .      in this subsection , we show that when @xmath35 , our constructions on @xmath858 satisfy a generalization of the so - called descent property ( introduced in @xcite ) .",
    "in particular , this property explicates the geometric origin of the @xmath7 classes ( at least in genus zero ) in the definition of the gromov - witten invariants of @xmath2 .",
    "it may seem curious that @xmath760 is defined to be the disjoint union of @xmath859 , where the @xmath3-tuple of nonnegative integers @xmath860 is required to satisfy @xmath861 for all @xmath862 .",
    "the latter restriction , however , is reasonable because of the isomorphism @xmath863 from proposition [ prop : higherm ] , where @xmath862 , @xmath864 is the @xmath3-tuple whose @xmath86-th component is 1 and the rest are zero , and @xmath865 is any @xmath3-tuple of nonnegative integers .    on the other hand , in genus zero the classes @xmath866 change under this identification in the following manner .",
    "( the descent property ) let @xmath867 be an @xmath3-tuple of nonnegative integers and let @xmath135 be the reduction of @xmath868 ( i.e. , @xmath869 and @xmath870 for @xmath862 ) .",
    "let @xmath871 be the top chern class of the vector bundle @xmath872 on @xmath873 .",
    "the following equation is satisfied on @xmath873 for all @xmath862 , where @xmath864 is the @xmath3-tuple whose @xmath86-th component is 1 and the rest are zero : @xmath874    the proof is identical to the case of @xmath37 in @xcite .",
    "it follows from the long exact sequence associated to the short exact sequence @xmath875 and the fact that @xmath876 for all @xmath862 , which follows from an immediate generalization of proposition  2.2 from @xcite .",
    "[ rem : descent ] the descent property holds on both @xmath877 and @xmath858 , but the @xmath7 classes on @xmath858 are not pullbacks of the corresponding @xmath7 classes on @xmath37just as in the case of stable maps , they differ by divisors that are collapsed under the stabilization map ( see  @xcite ) .",
    "this illustrates the fact , alluded to in remarks  [ rem : restrict - m ] and  [ rem : cv - m - restrict ] , that when any @xmath878 is larger than @xmath32 , the class @xmath879 is not equal to the class @xmath871 .",
    "the previous theorem motivates the following generalization of the small phase space potential function in genus zero .",
    "let the @xmath3-tuples @xmath867 and @xmath94 and the class @xmath871 on @xmath873 be the same as in the previous theorem .",
    "define the _ correlation functions _",
    "@xmath880^\\mathrm{virt } } r { \\tilde{c}^{1/r}}({\\widetilde{\\mathbf{m } } } ) \\prod_{i=1}^n { \\tilde{ev}}_i^*\\gamma_i.\\ ] ] consider the analog of the genus zero small phase space potential @xmath881[[{\\tilde{t}}^{\\alpha,{{\\tilde{m } } } } ] ] , \\ ] ] where @xmath882 and @xmath883 where the sum runs over all @xmath579 and all nonnegative integers @xmath884 .",
    "let @xmath23 be an integer .",
    "the potential functions @xmath885 and @xmath886 are equal after making the assignment : @xmath887_r } u_a^{\\alpha , m},\\ ] ] where @xmath888 and @xmath344 are nonnegative integers such that @xmath889 and @xmath890_r : = \\prod_{i=1}^a ( ( r(a - i ) + m + 1).\\ ] ]    in @xcite , a candidate class for @xmath30 was constructed on @xmath37 , which was shown to obey some of the axioms in @xcite . in addition , it satisfies the descent property on @xmath37 for nonnegative @xmath3-tuples @xmath891 .",
    "the construction of  @xcite can be generalized straightforwardly to @xmath82 to yield a class @xmath871 satisfying equation  ( [ eq : descent ] ) and , hence , the previous corollary for all @xmath4 and @xmath3 .      in  @xcite , the virtual class @xmath892",
    "when @xmath5 was constructed for all genera and @xmath3-tuples @xmath135 with @xmath893 .",
    "it was shown that the @xmath5 case reduced to the gromov - witten invariants of a point . here",
    "we show that @xmath101-spin gromov - witten invariants are the usual gromov - witten invariants .",
    "[ thm : requalstwo ] for a pair of nonnegative integers @xmath519 and @xmath894 let @xmath895 be the map forgetting the spin structure . for @xmath862 ,",
    "let @xmath896 belong to @xmath44 , then @xmath897^\\mathrm{virt}\\right ) = \\prod_{i=1}^n ( { ev}_i^*\\gamma_i ) \\cap [ { \\overline{{{\\mathcal { m}}}}}_{g , n}(v,\\beta)]^\\mathrm{virt}.\\ ] ] consequently , the large phase space potential functions @xmath898 and @xmath899 agree after setting @xmath900 .",
    "this was proved in the case where @xmath2 is a point in  @xcite .",
    "the same proof goes through here using the definition of @xmath38 ( which is now defined in the unstable range ) and the fact that @xmath901^\\mathrm{virt } = \\tilde{p}^ * [ { \\overline{{{\\mathcal { m}}}}}_{g , n}(v,\\beta)]^\\mathrm{virt}$ ] .",
    "genus zero gromov - witten invariants of @xmath2 give rise to the quantum cohomology of @xmath2 , which is a certain deformation of the cup product on @xmath16 .",
    "the cup product itself appears as the @xmath902 part of the genus zero potential function .",
    "similarly , the frobenius structure associated to @xmath0 can be regarded as a deformation of the following commutative , associative product on @xmath44 .",
    "[ crl : betazero ] let @xmath2 be a smooth projective variety and @xmath903 be an integer .",
    "let @xmath818 belong to @xmath16 and @xmath904 be the standard basis in @xmath42 , then @xmath905    this follows from the _ mapping to a point _ property .",
    "throughout this section let @xmath8 and @xmath907 .",
    "we will now compute its genus zero small phase potential function , denoted by @xmath908 where @xmath909 is a set of coordinates @xmath910 associated to the basis @xmath911 ( where @xmath912 and @xmath913 ) for @xmath914 . here @xmath915 is the identity element in @xmath916 and @xmath917 is the element in @xmath918 poincar dual to a point .",
    "the metric in this basis is @xmath919    the potential function can be broken into two pieces : @xmath920 where @xmath921 consists of only those terms corresponding to the moduli spaces @xmath922 ; while @xmath923 contains the contributions ( `` instanton corrections '' ) from @xmath924 where @xmath925 .",
    "corollary  [ crl : betazero ] implies that @xmath926 theorem  [ thm : newaxioms ] implies that @xmath927      setting @xmath931 , @xmath932 , and @xmath933 in the wdvv equation and plugging in equation ( [ eq : phibetazero ] ) , we obtain @xmath934 where we have used the shorthand notation @xmath935 together with the divisor axiom in theorem  [ thm : newaxioms ] , we obtain the recursion relations for @xmath936 correlators @xmath937 and , for all @xmath938 , @xmath939 these collectively imply that for all @xmath940 , @xmath941 furthermore , the tensor product property implies that @xmath942 together with the divisor axiom , this determines all of the @xmath943 correlators .",
    "if @xmath944 then we obtain the following recursion relation for all @xmath945 : @xmath946 where the first summation is over @xmath947 such that @xmath948 , and over @xmath949 such that @xmath950",
    ". furthermore , we have defined @xmath951 together with the divisor axiom , these recursion relations completely determine all of the @xmath3-point correlators of the theory where @xmath903 .    finally , the @xmath55 , @xmath72 and @xmath101 point correlators ( those in the unstable range ) are determined as a special case of theorem  [ thm : unstablephi ] .",
    "the only nonvanishing correlators of these types are @xmath952                                t.jarvis , t.kimura , a.vaintrob , _ gravitational descendants and the moduli space of higher spin curves _ , to appear in advances in algebraic geometry motivated by physics , contemporary mathematics , ams , ` math.ag`/0009066 .",
    "to3em , _ tensor products of frobenius manifolds and moduli spaces of higher spin curves _ , `` confernce de mosh flato 1999 , vol .  2 , ''",
    "g. dito and d. sternheimer ( eds . ) , kluwer ( 2000 ) , 145166 , ` math.ag/9911029 ` .",
    "d. mumford , _ towards an enumerative geometry of the moduli space of curves _ , in `` arithmetic and geometry , '' ( eds .",
    "m.artin and j.tate ) , part ii , progress in math .",
    "36 , birkhuser , basel ( 1983 ) , 271328 ."
  ],
  "abstract_text": [
    "<S> we introduce the stack @xmath0 of @xmath1-spin maps . these are stable maps into a variety @xmath2 from @xmath3-pointed algebraic curves of genus @xmath4 , with the additional data of an @xmath1-spin structure on the curve .    </S>",
    "<S> we prove that @xmath0 is a deligne - mumford stack , and we define analogs of the gromov - witten classes associated to these spaces . we show that these classes yield a cohomological field theory ( ) that is the tensor product of the  associated to the usual gromov - witten invariants of @xmath2 and the @xmath1-spin . </S>",
    "<S> when @xmath5 , our construction gives the usual gromov - witten invariants of @xmath2 .    </S>",
    "<S> restricting to genus zero , we obtain the notion of an @xmath1-spin quantum cohomology of @xmath2 , whose frobenius structure is isomorphic to the tensor product of the frobenius manifolds corresponding to the quantum cohomology of @xmath2 and the @xmath1-th gelfand - dickey hierarchy ( or , equivalently , the @xmath6 singularity ) . we also prove a generalization of the descent property which , in particular , explains the appearance of the @xmath7 classes in the definition of gravitational descendants . </S>",
    "<S> finally , we compute the small phase space potential function when @xmath8 and @xmath9 . </S>"
  ]
}