{
  "article_text": [
    "energy harvesting communications offer the promise of energy self - sufficient , energy self - sustaining operation for wireless networks with significantly prolonged lifetimes .",
    "energy harvesting communications have been considered mostly for energy harvesting _ transmitters _ , e.g. , @xcite , with fewer works on energy harvesting _ receivers _ , e.g. , @xcite . in this paper",
    ", we consider energy harvesting communications with both energy harvesting transmitters and receivers .",
    "the energy harvested at the transmitters is used for data transmission according to a rate - power relationship , which is concave , monotone increasing in powers . the energy harvested at the receivers",
    "is used for decoding costs , which we assume to be convex , monotone increasing in the incoming rate @xcite .",
    "the transmission energy costs and receiver decoding costs could be comparable , especially in short - distance communications , where high rates can be achieved with relatively low powers , and the decoding power could be dominant ; see @xcite and the references therein .",
    "we model the energy needed for decoding at the receivers via _ decoding causality _ constraints : the energy spent at the receiver for decoding can not exceed the receiver s harvested energy .",
    "we already have the _ energy causality _ constraints at the transmitter : the energy spent at the transmitter for transmitting data can not exceed the transmitter s harvested energy .",
    "therefore , for a given transmitter - receiver pair , transmitter powers need now to adapt to both energy harvested at the transmitter and at the receiver ; the transmitter must only use powers , and therefore rates , that can be handled / decoded by the receiver .    the most closely related work",
    "to ours is @xcite , where the authors consider a general network with energy harvesting transmitters and receivers , and maximize a general utility function , subject to energy harvesting constraints at all terminals .",
    "reference @xcite carries the effects of decoding costs to the objective function .",
    "if the objective function is no longer concave after this operation , it uses time - sharing to concavify it , leading to a convex optimization problem , which it then solves by using a generalized water - filling algorithm .    in this paper , we consider a similar problem with a specific utility function which is throughput , for specific network structures , with different decoding costs informed by network information theory .",
    "first , we consider the single - user channel , and observe that the decoding costs at the receiver can be interpreted as a _ gate keeper _ at the front - end of the receiver that lets packets pass only if it has sufficient energy to decode .",
    "we show that we can carry this _ gate _",
    "effect to the transmitter as a _ generalized data arrival constraint_. therefore , the setting with decoding costs at the receiver is equivalent to a setting with no decoding costs at the receiver , but with a ( generalized ) data arrival constraint at the transmitter @xcite .",
    "we also note that the energy harvesting component of the receiver can be separated as a _ virtual relay _ between the transmitter and the receiver ; and again , the problem can be viewed as a setting with no decoding costs at the receiver but with a _ virtual relay _ with a ( generalized ) energy arrival constraint @xcite .",
    "we then consider several multi - user settings .",
    "we begin with a decode - and - forward two - hop network , where the relay and the receiver both have decoding costs .",
    "this gives rise to _ decode - and - forward causality _ constraints at the relay in addition to decoding causality constraints at the receiver and energy causality constraints at the transmitter .",
    "we decompose the problem into inner and outer problems . in the inner problem ,",
    "we fix the relay s decoding power strategy , and show that _ separable _ policies are optimal @xcite .",
    "these are policies that maximize the throughput of the transmitter - relay link independent of maximizing the throughput of the relay - destination link .",
    "thereby , we solve the inner problem as two single - user problems with decoding costs . in the outer problem , we find the best relay decoding strategy by a water - filling algorithm .",
    "next , we consider a two - user multiple access channel ( mac ) with energy harvesting transmitters and receiver , and maximize the departure region .",
    "we consider two different decoding schemes : simultaneous decoding , and successive cancellation decoding @xcite .",
    "each scheme has a different decoding power consumption . for the simultaneous decoding scheme ,",
    "we show that the boundary of the maximum departure region is achieved by solving a weighted sum rate maximization problem that can be decomposed into an inner and an outer problem .",
    "we solve the inner problem using the results of single - user fading problem @xcite .",
    "the outer problem is then solved using a water - filling algorithm . in the successive cancellation",
    "decoding scheme , our problem formulation is non - convex .",
    "we then use a successive convex approximation technique that converges to a local optimal solution @xcite .",
    "the maximum departure region with successive cancellation decoding is larger than that with simultaneous decoding .",
    "finally , we characterize the maximum departure region of a two - user degraded broadcast channel ( bc ) with energy harvesting transmitter and receivers . with the transmitter employing superposition coding @xcite , a corresponding decoding power consumption at the receivers",
    "is assumed .",
    "we again decompose the weighted sum rate maximization problem into an inner and outer problem .",
    "we show that the inner problem is equivalent to a classical single - user energy harvesting problem with a time - varying _ minimum power constraint _ ,",
    "for which we present an algorithm .",
    "we solve the outer problem using a water - filling algorithm similar to the outer problems of the two - hop network and the mac with simultaneous decoding .",
    "as shown in fig .  [ fig_p2p_sys ] , we have a transmitter and a receiver , both relying on energy harvested from nature .",
    "the time is slotted , and at the beginning of time slot @xmath0 , energies arrive at a given node ready to be used in the same slot or saved in a battery to be used in future slots .",
    "let @xmath1 and @xmath2 denote the energies harvested at each slot for the transmitter and the receiver , respectively , and let @xmath3 denote the transmitter s powers .    without loss of generality",
    ", we assume that the time slot duration is normalized to one time unit . the physical layer is a gaussian channel with zero - mean unit - variance noise .",
    "the objective is to maximize the total amount of data received _ and decoded _ by the receiver by the deadline @xmath4 .",
    "our setting is _ offline _ in the sense that all energy amounts are known prior to transmission .",
    "the receiver must be able to decode the @xmath5th packet by the end of the @xmath5th slot .",
    "a transmitter transmitting at power @xmath6 in the @xmath7th time slot will send at a rate @xmath8 , for which the receiver will spend @xmath9 amount of power to decode , where @xmath10 is generally an increasing convex function @xcite . in the sequel , we will also focus on the specific cases of linear and exponential functions , where @xmath11 , with @xmath12 , and @xmath13 , with @xmath14 and @xmath15 .",
    "continuing with a general convex increasing function @xmath10 , we have the following decoding causality constraints for the receiver : @xmath16 therefore , the overall problem is formulated as : @xmath17 where @xmath18 denotes the vector of powers .",
    "note that the problem above in general is not a convex optimization problem as ( [ eq_p2p_rx_battery ] ) in general is a non - convex constraint since @xmath10 is a convex function while @xmath19 is a concave function @xcite .",
    "applying the change of variables @xmath20 , and defining @xmath21 ( note that @xmath22 is a convex function ) , we have @xmath23 which is now a convex optimization problem @xcite .",
    "we note that the constraints in ( [ eq_p2p_rx_battery ] ) , i.e. , @xmath24 , place upper bounds on the rates of the transmitter by every slot @xmath5 .",
    "this resembles the problem addressed in @xcite with data packet arrivals during the communication session .",
    "in fact , when @xmath25 and @xmath26 , where @xmath27 is the amount of data arriving in slot @xmath7 , these are exactly the data arrival constraints in @xcite . a general convex @xmath10 generalizes this data arrival constraint .",
    "we characterize the solution of ( [ eq_su_opt ] ) in the following three lemmas and the theorem .",
    "the proofs rely on the convexity of @xmath22 and @xmath10 generalizing the proof ideas in @xcite .",
    "[ thm_p2p_inc ] @xmath28 is monotonically increasing .",
    "assume that there exists a time slot @xmath5 such that @xmath29 , and consider a new policy obtained by replacing both @xmath30 and @xmath31 by @xmath32 , and observe that from the convexity of @xmath22 and @xmath10 , we have @xmath33 in addition , since both @xmath22 and @xmath10 are monotonically increasing , we have @xmath34 , and @xmath35 .",
    "therefore , the new policy is feasible , and can only save some energy either at the transmitter or at the receiver .",
    "this saved energy can be used to increase the rates in the upcoming time slots .",
    "thus , the original policy can not be optimal .",
    "[ thm_p2p_consume ] in the optimal policy , whenever the rate changes in a time slot , at least one of the following events occur : 1 ) the transmitter consumes all of its harvested energy in transmission , or 2 ) the receiver consumes all of its harvested energy in decoding , up to that time slot .",
    "assume not , i.e. , @xmath36 but both the transmitter and the receiver did not consume all their energies in the @xmath5th time slot . then , we can always increase @xmath30 and decrease @xmath31 without conflicting the energy causality or the decoding causality constraints . by the convexity of @xmath22 and @xmath10 , this modification would save some energy that can be used to increase the rates in the upcoming time slots .",
    "therefore , the original policy can not be optimal .    in the optimal policy , by the end of the transmission period ,",
    "at least one of the following events occur : 1 ) the transmitter s total power consumption in transmission is equal to its total harvested energy , or 2 ) the receiver s total power consumption in decoding is equal to its total harvested energy .",
    "assume that both conditions are not met .",
    "then , we can increase the rate in the last time slot until either the transmitter , or the receiver , consumes all of its energy .",
    "this is always feasible and strictly increases the rate .",
    "[ thm_p2p_sol ] let @xmath37 .",
    "a policy is optimal iff it satisfies the following @xmath38 where @xmath39 with @xmath40 , and @xmath41 .",
    "first , we prove that the optimal policy satisfies ( [ eq_p2p_sol1 ] ) and ( [ eq_p2p_sol2 ] ) .",
    "we show this by contradiction .",
    "let us assume that the optimal policy , that satisfies the necessary lemmas above , is not given by ( [ eq_p2p_sol1 ] ) and ( [ eq_p2p_sol2 ] ) and achieves a higher throughput .",
    "in particular , let us assume that it coincides with the policy given by ( [ eq_p2p_sol1 ] ) and ( [ eq_p2p_sol2 ] ) for all rates @xmath42 but has a different value for @xmath43 .",
    "let us denote the points of rate increase of this policy by @xmath44 .",
    "thus , there must exist a time index @xmath45 such that @xmath46 and let us consider two different cases .",
    "assume that @xmath47 .",
    "if the transmitter s energy is the bottleneck at @xmath48 , then @xmath43 can not be supported by the transmitter . on the other hand , if the receiver s energy is the bottleneck at @xmath49 , then @xmath43 can not be supported by the receiver . hence , @xmath43 is not feasible in both cases .",
    "now , assume that @xmath50 .",
    "then , there will exist a duration @xmath51 $ ] where the rate has to decrease in order to satisfy feasibility .",
    "this violates the monotonicity property , and hence can not be optimal .",
    "second , let us show sufficiency .",
    "we show this again by contradiction .",
    "let us assume that the policy that satisfies ( [ eq_p2p_sol1 ] ) and ( [ eq_p2p_sol2 ] ) is not optimal . in particular , let us assume that there exists another policy @xmath52 that coincides with it for all rates @xmath42 but has a different value for @xmath43 .",
    "since this new policy should have higher throughput , we have @xmath53 .",
    "now , assume @xmath54 .",
    "then , clearly @xmath55 is not feasible in the duration @xmath56 $ ] . on the other hand ,",
    "if @xmath57 , then by the monotonicity property , all upcoming rates @xmath58 for @xmath59 can only be larger than @xmath60 , which are all larger than @xmath43 .",
    "this makes the new policy infeasible by the end of slot @xmath61 since @xmath43 consumes all feasible energy according to ( [ eq_p2p_sol1 ] ) and ( [ eq_p2p_sol2 ] ) .",
    "thus , the original policy is optimal .",
    "theorem  [ thm_p2p_sol ] shows that decoding costs at the receiver are similar in effect to having a single - user channel with data arrivals during transmission and no decoding costs .",
    "this stems from the fact that the transmitter has to adapt its powers ( and rates ) in order to meet the decoding requirements at the receiver .",
    "therefore , the receiver s harvested energies and the function @xmath10 control the amount of data the transmitter can send by any given point in time .",
    "alternatively , we can slightly change the single - user problem ( [ eq_su_opt ] ) by adding an extra variable @xmath62 as follows @xmath63 this gives the same solution as we will always have @xmath64 satisfied for all @xmath7 . therefore , as shown in fig .",
    "[ fig_p2p_virtual ] , we can view the single - user setting with an energy harvesting receiver , as a two - hop setting with a _ virtual relay _ between the transmitter and the receiver , with a non - energy harvesting receiver . to this end",
    ", we separate the decoding costs of the receiver , which are subject to energy harvesting constraints , as a relay which is subject to energy harvesting constraints in its transmissions , and consider the receiver as fully powered @xcite .",
    "the receiver will only receive data if the relay has sufficient energy to forward it .",
    "in addition , this energy harvesting virtual relay has no data buffer , thus , its incoming data rate equals its outgoing data rate .",
    "the rate through this relay is controlled by @xmath65 and @xmath10 .",
    "thus , the decoding function @xmath10 puts a _ generalized energy arrival effect _ to this virtual relay , in a similar way that it puts a _",
    "generalized data arrival effect _ to the transmitter through theorem  [ thm_p2p_sol ] , as shown in fig .",
    "[ fig_p2p_sys ] .",
    "it is worth mentioning that if we consider the special case where the receiver has no battery to store its energy , this will lead to the following decoding causality constraint @xmath66 which , in view of the generalized data arrival interpretation , can be modeled as a time - varying upper bound on the transmitter s power in each slot @xmath67 where @xmath68 is the maximum transmission rate of a packet that @xmath65 can handle at the decoder , and @xmath69 denotes its corresponding maximum transmit power .",
    "this problem has been considered in the general framework of @xcite , and in @xcite for the special case of a constant maximum power constraint .",
    "one solution for this problem is to apply a backward water - filling algorithm that starts from the last slot backwards , where at each slot directional water - filling @xcite is applied only on slots whose maximum power constraint is not satisfied with equality .",
    "this might cause some wastage of water if the maximum power constraints are tighter than the transmitter s energy causality constraints , which depends primarily on how the function @xmath10 relates the transmitter s and the receiver s energies .",
    "we now consider a two - hop network consisting of a single source - destination pair communicating through a relay , as depicted in fig .  [ fig_twohop ] .",
    "the relay is full duplex , and it uses a decode - and - forward protocol . the relay has a data buffer to receive its incoming packets from the source . at the beginning of slot @xmath7 ,",
    "energies in the amounts of @xmath70 , @xmath71 , and @xmath65 arrive at the source , relay , and destination , respectively .",
    "unused energies can be saved in their respective batteries .",
    "let @xmath72 and @xmath73 be the rates of the source and the relay , respectively , in slot @xmath7 .",
    "our goal is to maximize the total amount of data received _ and decoded _ at the destination by the deadline @xmath4 .",
    "we impose decoding costs on both the relay and the destination .",
    "the problem is formulated as : @xmath74 where the first constraint in ( [ eq_2h_opt ] ) is the source transmission energy causality constraint , the second one is the relay decode - and - forward causality constraint , the third one is the data causality constraint at the relay , and the last one is the destination decoding causality constraint .",
    "we first note that that if the relay did not have a data buffer , the source and the relay rates will need to be equal , i.e. , @xmath75 for all @xmath7 . in this case , the problem reduces to be a problem only in terms of the source rates , and could be solved by straightforward generalization of the single - user result in theorem  [ thm_p2p_sol ] considering three constraints instead of two . in a sense",
    ", this would be equivalent to taking the effects of decode - and - forward causality at the relay and decoding causality at the receiver back to the source as two different generalized data arrival effects .",
    "this can be further extended to multi - hop networks with relays having no data buffers by taking their constraint effects all the way back to the source .    in our",
    "setting , having a data buffer at the relay imposes non - obvious relationships among the source and the relay rates . to tackle this issue",
    ", we decompose the problem into inner and outer problems . in the inner problem ,",
    "we solve for the source and relay rates after fixing a decoding power strategy for the relay node . by",
    "that we mean choosing the amounts of powers , @xmath76 , the relay dedicates to decoding its incoming source packets .",
    "these amounts need to be feasible in the sense that @xmath77 , @xmath78 .",
    "this decomposes the decode - and - forward causality constraint into the following two constraints : @xmath79 in the next lemmas and theorem , we characterize the solution of the inner problem .",
    "the proofs of the lemmas are extensions of the ones presented in @xcite to the case of generalized data arrivals .",
    "[ thm_2h_inc ] there exists an optimal increasing source rate policy for the inner problem .",
    "assume that there exists a time slot @xmath5 where @xmath80 .",
    "we have two cases to consider .",
    "first , assume @xmath81 .",
    "let us define a new policy by replacing the @xmath5th and @xmath82st source and relay rates by @xmath83 , and @xmath84 , respectively",
    ". by the convexity of @xmath22 and @xmath10 , and linearity of the data causality constraint , the new policy is feasible , and can only save some energy at the source or the relay .",
    "this energy can be used in later slots to achieve higher rates .",
    "now , assume @xmath85 .",
    "we argue that the data arrival causality constraint is satisfied with strict inequality at time slot @xmath5 . for",
    "if it were equality , we need to have @xmath86 and @xmath87 , which leads to @xmath88 , an obvious contradiction .",
    "now , we can find a small enough @xmath89 , such that defining a new policy by replacing the @xmath5th and @xmath82st source rates by @xmath90 and @xmath91 , respectively , we do not affect the relay rates . by the convexity of @xmath22 and @xmath10 , the new policy is feasible , and",
    "can only save some energy at the source .",
    "this energy can be used in later slots to send more data to the relay , and hence , possibly increasing the relay rates , and the end - to - end throughput .",
    "[ thm_2h_sep ] the optimal increasing source rate policy for the inner problem @xmath92 is given by the single - user problem solution in ( [ eq_p2p_sol1 ] ) and ( [ eq_p2p_sol2 ] ) , where the transmitter s and the receiver s energies are given by @xmath93 and @xmath94 , respectively .",
    "let us denote the single - user solution by @xmath95 .",
    "assume for contradiction that it is not optimal for the inner problem .",
    "in particular , let @xmath92 and @xmath95 be equal for @xmath96 , and differ on the @xmath5th slot .",
    "we again have two cases to consider .",
    "first , assume @xmath97 .",
    "in this case , since by lemma  [ thm_2h_inc ] , @xmath92 is increasing , by similar arguments as in the proof of theorem  [ thm_p2p_sol ] , the policy @xmath92 will eventually not satisfy the source s energy causality or the relay s decoding causality constraints , at some time slot @xmath98 .",
    "hence , it can not be optimal .",
    "now , assume @xmath99 .",
    "we argue that this shrinks the feasible set of the relay s rates .",
    "we show this by induction . by assumption of this case , it is true at time slot @xmath5 , that we have @xmath100 .",
    "now , assume it is true that for some time slot @xmath101 we have @xmath102 , and consider the @xmath103st time slot . if @xmath104 , then we are back to the previous case where this can not be feasible eventually",
    ". therefore , the feasible set of the relay s rates shrinks at time slot @xmath103 , and hence , shrinks all over @xmath105 .",
    "thus , this case can not be optimal either .",
    "lemma  [ thm_2h_sep ] states that the optimal source policy is separable @xcite in the sense that the source maximizes its throughput to the relay irrespective of how the relay spends its transmission energy .",
    "this stems from the fact that the relay has an infinite data buffer to store its incoming source packets .",
    "therefore , once we fix a decoding power strategy at the relay , we get separability .",
    "the following theorem , which is an extended version of theorem  [ thm_p2p_sol ] , gives the optimal relay rates for the inner problem .",
    "the proof is similar to that of theorem  [ thm_p2p_sol ] and is omitted for brevity .    given the optimal source rates @xmath92 , the optimal relay rates for the inner problem is given by @xmath106 where @xmath61 is the @xmath107 of the expression in ( [ eq_2h_sol ] ) as in ( [ eq_p2p_sol1])-([eq_p2p_sol2 ] ) , and @xmath40 .",
    "denoting the solution of the inner problem by @xmath108 , we now find the optimal relay decoding strategy @xmath109 by solving the following outer problem : @xmath110 we have the following lemma regarding the outer problem .",
    "@xmath108 is a concave function .",
    "consider two decoding power strategies @xmath111 , @xmath112 , and let @xmath113 , @xmath114 be their corresponding source and relay optimal inner problem rates , respectively .",
    "let @xmath115 , for some @xmath116 , and consider the rate policy defined by @xmath117 , and @xmath118 , for the source , and the relay , respectively .",
    "by the convexity of @xmath22 and @xmath10 , the policy @xmath119 is feasible for the decoding strategy @xmath120 .",
    "therefore , we have @xmath121 proving the concavity of @xmath108 .",
    "therefore , the outer problem is a convex optimization problem @xcite .",
    "we propose a water - filling algorithm to solve the outer problem @xcite .",
    "we first note that @xmath108 does not possess any monotonicity properties in the feasible region .",
    "for instance , @xmath122 , while @xmath108 is strictly positive for some @xmath123 in between .",
    "thus , at the optimal relay decoding power strategy , not all the relay s decoding energy will be exhausted . to this end , we add an extra @xmath124st slot where we can possibly discard some energy .",
    "we start by filling up each slot by its corresponding energy / water level and we leave the extra @xmath124st slot initially empty .",
    "meters are put in between bins to measure the amount of water passing .",
    "we let water flow to the right only if this increases the objective function . after each iteration",
    ", water can be called back if this increases the objective function .",
    "all the amount of water that is in the extra slot is eventually discarded , but may be called back also during the iterations . since with each water",
    "flow the objective function monotonically increases , problem feasibility is maintained throughout the process , and due to the convexity of the problem , the algorithm converges to the optimal solution .",
    "we now consider a two - user gaussian mac as shown in fig .  [ fig_mac_sys ] .",
    "the two transmitters harvest energy in amounts @xmath125 and @xmath126 , respectively , and the receiver harvests energy in amounts @xmath127 .",
    "the receiver noise is with zero - mean and unit - variance .",
    "the capacity region for this channel is given by @xcite : @xmath128 where @xmath129 and @xmath130 are the powers used by the first and the second transmitter , respectively .",
    "in addition to the usual energy harvesting causality constraints on the transmitters @xcite , we impose a receiver decoding cost .",
    "we note that there can be different ways to impose this constraint depending on how the receiver employs the decoding procedure . in the next two sub - sections , we consider two kinds of decoding procedures , namely , simultaneous decoding , and successive decoding @xcite . changing the decoding model",
    "affects the optimal power allocation for both users so as to adapt to how the receiver spends its power .      in this case",
    ", the two transmitters can only send at rates whose sum can be decoded at the receiver .",
    "a power control policy @xmath131 is feasible if the following are satisfied : @xmath132 from here on , we assume a specific structure for the decoding function @xmath10 for mathematical tractability and ease of presentation . in particular",
    ", we assume that it is exponential with parameters @xmath133 , @xmath134 and @xmath135 , i.e. , @xmath136 .",
    "let @xmath137 denote the total departed bits from the @xmath138th user by time slot @xmath4 .",
    "our aim is to characterize the _ maximum departure region _ ,",
    "@xmath139 , which is the region of @xmath140 the transmitters can depart by time slot @xmath4 , through a feasible policy .",
    "the following lemmas characterize this region @xcite .",
    "the maximum departure region , @xmath139 , is the union of all @xmath140 , over all feasible policies @xmath131 , where for any fixed power policy , @xmath140 satisfy @xmath141    @xmath139 is a convex region .",
    "each point on the boundary of @xmath139 , see fig .",
    "[ fig_mac_region ] , can be characterized by solving a weighted sum rate maximization problem subject to feasibility conditions ( [ eq_mac_feasibility ] ) .",
    "let @xmath142 and @xmath143 be the non - negative weights for the first and the second user rates , respectively .",
    "assuming without loss of generality that @xmath144 , and defining @xmath145 , we then need to solve the following optimization problem : @xmath146 we note that the above problem resembles the one formulated in @xcite for a diamond channel with energy cooperation .",
    "first , we state a necessary condition of optimality for the above problem .    in the optimal solution for ( [ eq_mac_casec ] ) , by the end of the transmission period , at least one of the following occur :",
    "1 ) both transmitters consume all of their harvested energies in transmission , or 2 ) the receiver consumes all of its harvested energy in decoding .",
    "assume without loss of generality that transmitter 1 does not consume all of its energies in transmission , and that the receiver also does not consume all of its energies in decoding .",
    "then , we can always increase the value of @xmath147 until either transmitter 1 or the receiver consume their energies .",
    "this strictly increases the objective function .",
    "we decompose the optimization problem ( [ eq_mac_casec ] ) into two nested problems .",
    "first , we solve for @xmath148 in terms of @xmath149 , and then solve for @xmath149 .",
    "let us define the following inner problem : @xmath150 where the modified energy levels @xmath151 are defined as follows : @xmath152 then , we have the following lemma .",
    "[ thm_inner_prb_ccv ] @xmath153 is a decreasing concave function in @xmath149 .",
    "@xmath154 is a decreasing function of @xmath149 since the feasible set shrinks with @xmath149 . to show concavity ,",
    "let us choose two points @xmath155 and @xmath156 , and take their convex combination @xmath157 for some @xmath158 .",
    "let @xmath159 and @xmath160 denote the solutions of the inner problem ( [ eq_mac_inner_prb ] ) at @xmath155 and @xmath156 , respectively .",
    "now , let @xmath161 , and observe that , from the linearity of the constraint set , @xmath162 is feasible with respect to @xmath163 .",
    "therefore , we have @xmath164 where the second inequality follows from the concavity of @xmath19 .",
    "we observe that the inner problem ( [ eq_mac_inner_prb ] ) is a single - user energy harvesting maximization problem with fading , whose solution is via directional water - filling of @xmath165 over the inverse of the fading levels @xmath166 as presented in @xcite .",
    "next , we solve the outer problem given by : @xmath167 where we define the water levels @xmath168 , with @xmath169 , and @xmath170 .",
    "the minimum is added to ensure the feasibility of the inner problem .",
    "note that , by lemma  [ thm_inner_prb_ccv ] , the outer problem is a convex optimization problem @xcite .",
    "we first note that at the optimal policy , first user s modified energies @xmath171 need not be fully utilized by the end of transmission .",
    "this is because the objective function is not increasing in @xmath149 . to this end",
    ", we use the iterative water - filling algorithm for the outer problem proposed in section  [ sec_2h ] to solve this outer problem .",
    "since the problem is convex , iterations converge to the optimal solution .",
    "note that the above formulation obtains the dotted points in the curved portion of the departure region in fig .",
    "[ fig_mac_region ] .",
    "specific points in the departure region , e.g. , points 1 and 3 in fig .",
    "[ fig_mac_region ] , can be found by specific schemes @xcite , by solving the problem for the cases @xmath172 and @xmath173 .",
    "we now let the receiver employ successive decoding , where it aims at decoding the corner points , and then uses time sharing if necessary to achieve the desired rate pair @xcite .",
    "for instance , if the system is operating at its lower corner point , then the receiver first decodes the message of the second user , by treating the first user s signal as noise , then decodes the message of the first user , after subtracting the second user s signal from its received signal . for @xmath144",
    ", we are always at a lower corner point at every time slot , and therefore the weighted sum rate maximization problem can be formulated as : @xmath174 where the last inequality comes from the fact that the receiver is decoding the second user s message first by treating the first user s signal as noise , and thereby spends @xmath175 amount of energy to decode this message , and then spends @xmath176 amount of energy to decode the first user s message after subtracting the second user s signal .",
    "observe that the last constraint , i.e. , the decoding causality constraint , is non - convex .",
    "therefore , one might need to invoke the time - sharing principle in order to fully characterize the boundary of the maximum departure region . in terms of the rates",
    "the problem can be written as : @xmath177 which is a non - convex problem due to the second user s energy causality constraint .",
    "in fact , the above problem is a signomial program , a generalized form of a geometric program , where posynomials can have negative coefficients @xcite .",
    "next , we use the idea of successive convex approximation @xcite to provide an algorithm that converges to a local optimal solution .    by applying the change of variables",
    "@xmath178 , @xmath179 , and some algebraic manipulations : @xmath180    now , the problem looks very similar to a geometric program except for the last two sets of constraints .",
    "these constraints are written in the form of a monomial less than a posynomial , which will not allow us to write the problem in convex form by the usual geometric programming transformations @xcite .",
    "we will follow an approach introduced in @xcite in order to iteratively approximate the posynomials on the right hand side by monomials , and thereby reaching a geometric program that can be efficiently solved @xcite .",
    "approximations should be chosen carefully such that iterations converge to a local optimum solution of the original problem @xcite . towards that",
    ", we use the arithmetic - geometric mean inequality to write : @xmath181 which holds for @xmath182 .",
    "in particular , equality holds at a point @xmath183 if we choose @xmath184 .",
    "therefore , the monomial function @xmath185 approximates the posynomial function @xmath186 at @xmath187 . substituting this approximation",
    ", we obtain that at the @xmath82st iteration , we need to solve the following geometric program : @xmath188 where @xmath189 , @xmath179 , and @xmath190 is the solution of the @xmath5th iteration .",
    "we pick an initial feasible point @xmath191 and run the iterations .",
    "the choice of the approximating monomial function @xmath192 satisfies the conditions of convergence stated in @xcite , and therefore , the iterative solution of problem ( [ eq_mac_succ_cvxapprox ] ) converges to a point @xmath193 that is local optimal for problem ( [ eq_mac_succ_powers ] ) .",
    "finally , we get the original power allocations by substituting @xmath194 , and @xmath195 .",
    "we now consider a two - user gaussian bc with energy harvesting transmitter and receivers as shown in fig .",
    "[ fig_bc_sys ] .",
    "energies arrive in amounts @xmath196 @xmath197 and @xmath198 at the transmitter , and the receivers 1 and 2 , respectively . by superposition coding @xcite",
    ", the weaker user is required to decode its message while treating the stronger user s interference as noise .",
    "while the stronger user is required to decode both messages successively by first decoding the weaker user s message , and then subtracting it to decode its own .",
    "the receiver noises have variances 1 and @xmath199 .        under a total transmit power @xmath200 , the capacity region of the gaussian bc is @xcite : @xmath201 working on the boundary of the capacity region we have : @xmath202 where @xmath203 is the minimum power needed by the transmitter to achieve rates @xmath204 and @xmath205 .",
    "note that @xmath206 is an increasing convex function of both rates .    as in the mac case ,",
    "the goal here is to characterize the maximum departure region : @xmath207 where the first constraint in ( [ eq_opt_bc ] ) is the source transmission energy causality constraint , and second and third constraints are the decoding causality constraints at the stronger and weaker receivers , respectively . here also , we take the decoding cost function @xmath10 to be @xmath208 .    by virtue of superposition coding , we see that , in the optimization problem in ( [ eq_opt_bc ] ) , the decoding causality constraint of the stronger user is a function of both rates intended for the two users , as it is required to decode both messages . while the decoding causality constraint for the weaker user is a function of its own rate only . by the convexity of @xmath206 and @xmath10 , the maximum departure region is convex , and thus the weighted sum rate maximization in ( [ eq_opt_bc ] ) is sufficient to characterize its boundary @xcite .",
    "in addition , the optimization problem in ( [ eq_opt_bc ] ) is convex @xcite .",
    "we note that a related problem has been considered in @xcite , where the authors characterized transmission completion time minimization policies for a bc setting with data arrivals during transmission . there , the solution is found by sequentially solving an equivalent energy consumption minimization problem until convergence .",
    "their solution is primarily dependent on newton s method @xcite .",
    "some structural insights are also presented about the optimal solution . in our setting",
    ", we consider the case with receiver side decoding costs , and generalize the data arrivals concept by considering the convex function @xmath10 .",
    "in addition , our formulation imposes further interactions between the strong and the weak user s data , by allowing a constraint ( strong user s ) that is put on the sum of both rates , instead of on individual rates .",
    "we characterize the solution of the problem according to the relation between @xmath142 and @xmath143 as follows .",
    "if @xmath209 , then due to the degradedness of the second user , it is optimal to put all power into the first user s message .",
    "this way , the problem reduces to a single - user problem : @xmath210 where the modified energy levels @xmath211 are defined as follows : @xmath212    on the other hand , if @xmath213 , then we need to investigate the necessary kkt optimality conditions @xcite .",
    "we write the lagrangian for the problem ( [ eq_opt_bc ] ) as follows : @xmath214 taking the derivative with respect to @xmath215 and @xmath216 and equating to zero , we obtain : @xmath217 along with the complementary slackness conditions : @xmath218 from here , we state the following lemmas    [ thm_bc_sumrate ] the sum rate @xmath219 is monotonically increasing .",
    "we prove this by contradiction .",
    "assume that there exists some time slot @xmath5 such that @xmath220 . from ( [ eq_bc_sumrate ] )",
    ", since the denominator can not increase , the numerator has to decrease for the sum rate to decrease , i.e. , @xmath221 . from complementary slackness",
    ", we must have @xmath222 .",
    "therefore , in order for the sum rate to decrease we must have @xmath223 , which in turn leads to @xmath224 .    from ( [ eq_bc_weakrate ] ) , we know that for the weak user s rate to decrease , the numerator has to decrease , i.e.",
    ", we must have @xmath225 . since @xmath224 , this is equivalent to having @xmath226 .",
    "however , we know from above that @xmath227 , i.e. , @xmath228 , an obvious contradiction by non - negativity of the lagrange multipliers .    [ thm_bc_weakrate ] the weak user s rate @xmath229 is monotonically increasing .",
    "we also prove this by contradiction .",
    "assume that there exists some time slot @xmath5 such that @xmath223 .",
    "from ( [ eq_bc_weakrate ] ) , since the denominator can not increase , the numerator has to decrease for the weak user s rate to decrease , i.e. , @xmath225 .",
    "let us consider two different cases .",
    "first , assume @xmath230 .",
    "therefore , we must have @xmath231 , and thus , by complementary slackness , @xmath232 , and hence , @xmath233 can not be less since it can not drop below zero .",
    "now , assume @xmath234 . in this case , by complementary slackness , @xmath235 . by lemma  [ thm_bc_sumrate ] , we have @xmath236 , i.e. , @xmath237 , which is a contradiction .    with the change of variables : @xmath238 , and @xmath239 , ( [ eq_opt_bc ] )",
    "becomes : @xmath240    we now decompose the above problem into an inner and an outer problem and iterate between them until convergence .",
    "first , we fix the value of @xmath148 , and solve the following inner problem : @xmath241 where the modified energy levels @xmath242 are defined as follows @xmath243 we have the following lemma for this inner problem whose proof is similar to that of lemma  [ thm_inner_prb_ccv ] .",
    "[ thm_bc_inner_ccv ] @xmath244 is a decreasing concave function in @xmath148 .",
    "we note that the @xmath148 vector serves as a _ minimum power constraint _ to the inner problem .",
    "let us write the lagrangian for the inner problem : @xmath245 taking the derivative with respect to @xmath246 and equating to zero , we obtain : @xmath247 first , let us examine the necessary conditions for the optimal power to increase , i.e. , @xmath248 .",
    "this occurs iff @xmath249 .",
    "thus , we must either have @xmath250 which means that , by the complementary slackness , we have to consume all the available energy by the end of the @xmath7th slot .",
    "or , we have @xmath251 which means that @xmath252 .",
    "next , let us examine the necessary conditions for the optimal power to decrease , i.e. , @xmath253 .",
    "this occurs iff @xmath254 , and therefore , we must have @xmath255 .",
    "we note from lemmas  [ thm_bc_sumrate ] and [ thm_bc_weakrate ] that both @xmath256 and @xmath257 are monotonically increasing .",
    "therefore , we only focus on fixing an increasing feasible @xmath148 .",
    "this , when combined with the above conditions , leads to the following lemma .",
    "for a fixed increasing @xmath148 , the optimal solution @xmath258 of the inner problem is also increasing .    by the kkt conditions stated above , if we have @xmath253 , then we must have @xmath255 .",
    "thus , we will have @xmath259 , i.e. , the minimum power constraint is not satisfied at the @xmath260st slot .",
    "therefore , choosing an increasing @xmath148 in the outer problem ensures that the inner problem s solution @xmath258 is also increasing , and thereby , satisfies the conditions of lemmas  [ thm_bc_sumrate ] and [ thm_bc_weakrate ] .",
    "we solve the inner problem by algorithm [ alg_bc_inner ] .",
    "the algorithm s main idea is to equalize the powers as much as possible via directional water - filling @xcite while satisfying the minimum power requirements .",
    "[ alg_bc_inner ] initialize the status of each bin @xmath261 mark bins by their minimum power requirements @xmath262 set @xmath263 pour water into the @xmath5th bin from previous bins , in a backward manner , until equality holds do directional water - filling over the current and upcoming bins @xmath264 update the status of each bin @xmath265    observe that the algorithm gives a feasible power profile ; it examines each slot , and does not move backwards unless the minimum power requirement is satisfied . if there is an excess energy above the minimum , say at slot @xmath5 , it performs directional water - filling which will occur if @xmath266 ( let us consider water - filling only over two bins for simplicity ) . since the minimum power requirement vector @xmath148 is increasing , after equalizing the energies the updated status will satisfy @xmath267 , i.e. , the minimum power requirement is always satisfied if directional water - filling occurs .",
    "also observe that the algorithm can not give out a decreasing power profile since @xmath148 is increasing .",
    "according to the kkt conditions , the power increases from slot @xmath5 to slot @xmath82 only if @xmath268 or the total energy is consumed by slot @xmath5 .",
    "we see that the algorithm satisfies this condition .",
    "power increases only if directional water - filling is not applied at slot @xmath5 , which means that either some of the water was poured forward in the previous iteration to satisfy @xmath268 , or no water was poured which means that all energy is consumed by slot @xmath5 .        a numerical example for a three - slot system",
    "is shown in fig .",
    "[ fig_bc_inner ] .",
    "the minimum power requirements are shown by red dotted lines in each bin . according to the algorithm",
    ", we first initialize by pouring all the amounts of water in their corresponding bins .",
    "we begin by checking the last bin , and we see that it needs some extra water to satisfy its minimum power requirement . thus , we pour water forward from the middle bin until the minimum power requirement of the last bin is satisfied with equality .",
    "this causes a deficiency in the middle bin , and therefore , we pour water forward from the first bin until the minimum power requirement of the middle bin is satisfied with equality .",
    "since the problem is feasible , the amount of water remaining in the first bin should satisfy its minimum power requirement .",
    "in fact , in this example , there is an excess amount that is therefore used to equalize the water levels of the first two bins via directional water - filling .",
    "this ends the algorithm and gives the optimum power profile .",
    "we now find the optimum value of @xmath148 by solving the following outer problem : @xmath269 where @xmath270 , and the modified water levels @xmath271 are given by : @xmath272 where the extra terms in the @xmath273 expression are to ensure feasibility of the inner problem . by lemma  [ thm_bc_inner_ccv ] ,",
    "the outer problem is a convex optimization problem @xcite .",
    "we solve it by an algorithm similar to that of the two - hop network outer problem , except that we only focus on choosing increasing power vectors @xmath148 in each iteration . by convexity of the problem ,",
    "the iterations converge to the optimal solution .",
    "in this section , we present numerical results for the considered systems models .",
    "we focus on the specific case where @xmath274 , and @xmath275 . starting with the single - user channel , we consider a five - slot system with energy amounts of @xmath276 $ ] at the transmitter , and @xmath277 $ ] at the receiver .",
    "the optimal rates in this case according to theorem  [ thm_p2p_sol ] are given by @xmath278 $ ] .",
    "as we see , the rates are non - decreasing , which is consistent with lemma  [ thm_p2p_inc ] , and they strictly increase only after consuming all the receiver s energies in decoding by the end of the third slot , and again by the end of the fourth one , which is consistent with lemma  [ thm_p2p_consume ] .    in fig .",
    "[ fig_mac_sim ] , we plot the maximum departure regions for a mac with simultaneous decoding and successive cancellation decoding .",
    "we consider a system of three time slots , during which the nodes harvest the energies : @xmath279 $ ] , @xmath280 $ ] , and @xmath281 $ ] .",
    "we observe that the simultaneous decoding region lies strictly inside the successive decoding region .",
    "the latter , given by the geometric programming framework , is only a local optimal solution ; one can therefore achieve even higher rates if a global optimal solution is attained .    finally , in fig .",
    "[ fig_bc_sim ] , we provide some simulation results to illustrate the difference between the departure regions with and without decoding costs for a bc .",
    "we consider a system of three time slots , where the energy profile of the transmitter is given by @xmath282 $ ] .",
    "the maximum departure region with no decoding costs is shown in blue .",
    "we vary the energy profiles at the receivers to show the effect of the decoding costs on the maximum departure region .",
    "we start by setting @xmath283 $ ] , and @xmath284 $ ] , to get region @xmath285 in red .",
    "then we lower the values to @xmath286 $ ] , and @xmath287 $ ] , to get region @xmath288 in green .",
    "finally , we lower the values again to @xmath289 $ ] , and @xmath290 $ ] , to get region @xmath291 in brown .",
    "we note that as we lower the energy profiles at the receivers , the decoding causality constraints become more binding , and therefore , the region progressively shrinks .",
    "we considered decoding costs in energy harvesting communication networks . in our settings",
    ", we assumed that receivers , in addition to transmitters , rely on energy harvested from nature .",
    "receivers need to spend a decoding power that is a function of the incoming rate in order to receive their packets .",
    "this gave rise to the _ decoding causality _ constraints : receivers can not spend energy in decoding prior to harvesting it .",
    "we first considered a single - user setting and maximized the throughput by a given deadline .",
    "next , we considered two - hop networks and characterized the end - to - end throughput maximizing policies .",
    "then , we considered two - user mac and bc settings , with focus on exponential decoding functions , and characterized the maximum departure regions . in",
    "most of the models considered , we were able to move the receivers decoding costs effect back to the transmitters as _ generalized data arrivals _ ; transmitters need to adapt their powers ( and rates ) not only to their own energies , but to their intended receivers energies as well .",
    "such adaptation is governed by the characteristics of the decoding function .    throughout this paper , we only considered receiver decoding costs in our models without considering transmitter processing costs . on the other hand ,",
    "other works have considered the processing costs at the transmitter @xcite without considering decoding costs at the receiver . in their models",
    ", the transmitter spends a constant amount of power per unit time whenever it is communicating to account for circuitry processing ; while in our model , the receiver spends a decoding power which is a function of the incoming data rate . as a future work",
    ", the two approaches can be combined to account for both the processing costs at the transmitter and the decoding costs at the receiver in a single setting .",
    "o.  ozel , k.  tutuncuoglu , j.  yang , s.  ulukus , and a.  yener , `` transmission with energy harvesting nodes in fading wireless channels : optimal policies , '' _ ieee jsac _ , vol .",
    "29 , no .  8 , pp . 17321743 , september 2011 .",
    "j.  yang and s.  ulukus , `` optimal packet scheduling in a multiple access channel with energy harvesting transmitters , '' _ journal of communications and networks _ ,",
    "14 , no .  2 ,",
    "pp . 140150 , april 2012 .",
    "m.  a. antepli , e.  uysal - biyikoglu , and h.  erkal , `` optimal packet scheduling on an energy harvesting broadcast link , '' _ ieee journal on selected areas in communications _ , vol .",
    "29 , no .  8 , pp . 17211731 ,",
    "september 2011 .",
    "h.  erkal , f.  m. ozcelik , and e.  uysal - biyikoglu , `` optimal offline broadcast scheduling with an energy harvesting transmitter , '' _ eurasip journal on wireless communications and networking _ , vol .",
    "2013 , no .  1 , pp .",
    "120 , july 2013 .",
    "o.  ozel , j.  yang , and s.  ulukus , `` optimal broadcast scheduling for an energy harvesting rechargebale transmitter with a finite capacity battery , '' _ ieee transactions on wireless communications _",
    "11 , no .  6 , pp .",
    "21932203 , june 2012 .      c.  huang , r.  zhang , and s.  cui , `` throughput maximization for the gaussian relay channel with energy harvesting constraints , '' _ ieee journal on selected areas in communications _ , vol .  31 , no .  8 , pp . 14691479 , august 2013 .        y.  luo , j.  zhang , and k.  b. letaief , `` optimal scheduling and power allocation for two - hop energy harvesting communication systems , '' _ ieee transactions on wireless communications _ , vol .  12 , no .  9 , pp",
    ". 47294741 , september 2013 .",
    "k.  tutuncuoglu , a.  yener , and s.  ulukus , `` optimum policies for an energy harvesting transmitter under energy storage losses , '' _ ieee journal on selected areas in communications _ ,",
    "33 , no .  3 , pp .",
    "476481 , march 2015 .",
    "d.  gunduz and b.  devillers , `` a general ramework for the optimization of energy harvesting communication systems with battery imperfections , '' _ journal of communications and networks _ , vol .  14 , no .  2 , pp .",
    "130139 , april 2012 .",
    "o.  ozel , k.  shahzad , and s.  ulukus , `` optimal energy allocation for energy harvesting transmitters with hybrid energy storage and processing cost , '' _ ieee trans .",
    "signal proc .",
    "_ , vol .",
    "62 , no .  12 , pp . 32323245 , june 2014 .",
    "a.  nayyar , t.  basar , d.  teneketzis , and v.  v. veeravalli , `` optimal strategies for communication and remote estimation with an energy harvesting sensor , '' _ ieee trans . on automatic control _ ,",
    "58 , no .  9 , pp . 22462260 , september 2013 .",
    "c.  huang , r.  zhang , and s.  cui , `` optimal power allocation for outage probability minimization in fading channels with energy harvesting constraints , '' _ ieee transactions on wireless communications _ , vol .  13 , no .  2 , pp .",
    "10741087 , february 2014 .",
    "z.  wang , v.  aggarwal , and x.  wang , `` iterative dynamic water - filling for fading multiple - access channels with energy harvesting , '' _ ieee journal on selected areas in communications _ ,",
    "33 , no .  3 , pp .",
    "382395 , march 2015 .",
    "p.  grover , k.  woyach , and a.  sahai , `` towards a communication - theoretic understanding of system - level power consumption , '' _ ieee journal on selected areas in communications _ ,",
    "29 , no .",
    "17441755 , september 2011 .",
    "j.  rubio , a.  pascual - iserte , and m.  payar , `` energy - efficient resource allocation techniques for battery management with energy harvesting nodes : a practical approach , '' in _",
    "european wireless conference _ , april 2013 .",
    "a.  a. damico , l.  sanguinetti , and d.  p. palomar , `` convex seperable problems with linear constraints in signal processing and communications , '' _ ieee transactions on signal processing _ , vol .",
    "62 , no .",
    "22 , pp . 60456058 , november 2014 ."
  ],
  "abstract_text": [
    "<S> we consider the effects of decoding costs in energy harvesting communication systems . in our setting , receivers , </S>",
    "<S> in addition to transmitters , rely solely on energy harvested from nature , and need to spend some energy in order to decode their intended packets . </S>",
    "<S> we model the decoding energy as an increasing convex function of the rate of the incoming data . in this setting , in addition to the traditional _ energy causality _ constraints at the transmitters , we have the _ decoding causality _ constraints at the receivers , where energy spent by the receiver for decoding can not exceed its harvested energy . </S>",
    "<S> we first consider the point - to - point single - user problem where the goal is to maximize the total throughput by a given deadline subject to both energy and decoding causality constraints . </S>",
    "<S> we show that decoding costs at the receiver can be represented as _ generalized data arrivals _ at the transmitter , and thereby moving all system constraints to the transmitter side . </S>",
    "<S> then , we consider several multi - user settings . </S>",
    "<S> we start with a two - hop network where the relay and the destination have decoding costs , and show that _ separable _ policies , where the transmitter s throughput is maximized irrespective of the relay s transmission energy profile , are optimal . </S>",
    "<S> next , we consider the multiple access channel ( mac ) and the broadcast channel ( bc ) where the transmitters and the receivers harvest energy from nature , and characterize the maximum departure region . in all multi - user settings considered , we decompose our problems into inner and outer problems . </S>",
    "<S> we solve the inner problems by exploiting the structure of the particular model , and solve the outer problems by water - filling algorithms .    </S>",
    "<S> energy harvesting , throughput maximization , energy harvesting transmitters , energy harvesting receivers , decoding costs , energy causality , decoding causality . </S>"
  ]
}