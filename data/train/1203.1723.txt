{
  "article_text": [
    "queueing models with many - servers are prevalent in modeling call centers and other large - scale service systems .",
    "they are used for optimizing staffing and making dynamic control decisions .",
    "the complexity of the underlying queueing model renders such optimization problems intractable for exact analysis , and one needs to resort to approximations .",
    "a prominent mode of approximate analysis is to study such systems in the so - called halfin  whitt ( hw ) heavy - traffic regime ; cf .",
    "@xcite . roughly speaking , the analysis of a queueing system in the hw regime proceeds by scaling up the number of servers and the arrival rate of customers in such a way that the system load approaches one asymptotically . to be more specific , instead of considering a single system ,",
    "one considers a sequence of ( closely related ) queueing systems indexed by a parameter @xmath1 along which the arrival rates and the number of servers scale up so that the system traffic intensity  @xmath2 satisfies @xmath3    in the context of dynamic control , passing to a formal limit of the ( properly scaled ) system dynamics equations as @xmath4 gives rise to a _ limit _ diffusion control problem , which is often more tractable than the original dynamic control problem it approximates .",
    "the approximating diffusion control problem typically provides useful structural insights and guides the design of good policies for the original system .",
    "once a candidate policy is proposed for the original problem of interest , its asymptotic performance can be studied in the hw regime .",
    "the ultimate goal is to establish that the proposed policy performs well . to this end ,",
    "a useful criterion is the notion of asymptotic optimality , which provides assurance that the optimality gap associated with the proposed policy vanishes asymptotically _ under diffusion scaling _ as @xmath4 .",
    "hence , asymptotic optimality in this context is equivalent to showing that the optimality gap is @xmath0 .",
    "a central reference for our purposes is the recent paper by atar , mandelbaum and reiman @xcite , where the authors apply all steps of the above scheme to the important class of problems of dynamically scheduling a multiclass queue with many identical servers in the hw regime .",
    "specifically , @xcite considers a sequence of systems indexed by the number of servers @xmath1 , where the number of servers and the arrival rates of the various customer classes increase with @xmath1 such that the heavy - traffic condition holds ; cf .",
    "equation ( [ eqhtcond ] ) . following the scheme described above",
    ", the authors derive an approximate diffusion control problem through a formal limiting argument .",
    "they then show that the diffusion control problem admits an optimal markov policy , and that the corresponding hjb equation ( a semilinear elliptic pde ) has a unique classical solution . using the markov control policy and the hjb equation , the authors propose scheduling control policies for the original ( sequence of ) queueing systems of interest . finally , they prove that the proposed sequence of policies is asymptotically optimal under diffusion scaling .",
    "namely , the optimality gap of the proposed policy for the @xmath1th system is  @xmath0 .",
    "a similar approach is applied to more general networks in @xcite . in this paper , we study a similar queueing system ( see section [ secmodel ] )",
    ". our goal , however , is to provide an improved optimality gap which , in turn , requires a substantially different scheme than the one alluded to above .    approximations in the hw regime for performance analysis have been used extensively for the study of fixed policies . given a particular policy , it may often be difficult to calculate various performance measures in the original queueing system .",
    "fortunately , the corresponding approximations in the hw regime are often more tractable .",
    "the machinery of strong approximations ( cf .",
    "csrgo and horvth @xcite ) often plays a central role in such analysis . in the context of many - server heavy - traffic analysis , with strong approximations ,",
    "the arrival and service processes ( under suitable assumptions on the inter - arrival and service times ) can be approximated by a diffusion process so that the approximation error on finite intervals is @xmath5 ( where @xmath1 is the number of servers as before ) .",
    "therefore , it is natural to expect that , under a given policy , the error in the diffusion approximations of the various performance metrics is @xmath5 , which is indeed verified for various settings in the literature ( see , e.g. , @xcite ) .",
    "a natural question is then whether one can go beyond the analysis of fixed policies and achieve an optimality gap that is logarithmic in @xmath1 also under dynamic control , improving upon the usual optimality gap of @xmath0 .",
    "more specifically , can one propose a sequence of policies ( one for each system in the sequence ) where the optimality gap for the policy ( associated with the @xmath1th system ) is logarithmic in  @xmath1 ?",
    "while one hopes to get logarithmic optimality gaps as suggested by strong approximations , it is not a priori clear if this can be achieved under dynamic control .",
    "the purpose of this paper is to provide a resolution to this question .",
    "namely , we study whether one can establish such a strong notion of asymptotic optimality and if so , then how should one go about constructing policies which are asymptotically optimal in this stronger sense .",
    "our results show that such strengthened bounds on optimality gaps can be attained .",
    "specifically , we construct a sequence of asymptotically optimal policies , where the optimality gap is logarithmic in @xmath1 .",
    "our analysis reveals that identifying ( a sequence of ) candidate policies requires a new approach .",
    "to be specific , we advance a sequence of diffusion control problems ( as opposed to just one ) where the diffusion coefficient in each system depends on the state and the control .",
    "this is contrary to the existing work on the asymptotic analysis of queueing systems in the hw regime . in that stream of literature , the diffusion coefficient is typically a ( deterministic ) constant .",
    "indeed , borkar @xcite views the constant diffusion coefficient as a characterizing feature of the problems stemming from the heavy - traffic approximations in the hw regime .",
    "interestingly , it is essential in our work to have the diffusion coefficient depend on the state and the control for achieving the logarithmic optimality gap .",
    "in essence , incorporating the impact of control on the diffusion coefficient allows us to track the policy performance in a more refined manner .",
    "while the novelty of having the diffusion coefficient depend on the control facilitates better system performance , it also leads to a more complex diffusion control problem .",
    "in particular , the associated hjb equation is fully nonlinear ; it is also nonsmooth under a linear holding cost structure . in",
    "what follows , we show that each of the hjb equations in the sequence has a unique smooth solution on bounded domains and that each of the diffusion control problems ( when considered up to a stopping time ) admits an optimal markov control policy .",
    "interpreting this solution appropriately in the context of the original problem gives rise to a policy under which the optimality gap is logarithmic in @xmath1 . as in the performance analysis of fixed policies , strong approximations will be used in the last step , where we propose a sequence of controls for the original queueing systems , and show that we achieve the desired performance .",
    "however , it is important to note that strong approximation results alone are not sufficient for our results .",
    "rather , for the improved optimality gaps we need the refined properties of the solutions to the hjb equations . specifically , gradient estimates for the sequence of solutions to the hjb equations ( cf .",
    "theorem [ thmhjb1sol ] ) play a central role in our proofs .",
    "our analysis restricts attention to a linear holding cost structure .",
    "however , we expect the analysis to go through for some other cost structures including convex holding costs",
    ". indeed , the analysis of the convex holding cost case will probably be simpler as one tends to get `` interior '' solutions in that case as opposed to the corner solutions in the linear cost case , which causes nonsmoothness .",
    "one could also enrich the model by allowing abandonment .",
    "we expect the analysis to go through with no major changes in these cases as well ; see the discussion of possible extensions in section [ secconclusions ] . for purposes of clarity",
    ", however , we chose not to incorporate these additional / alternative features because we feel that the current set - up enables us to focus on and clearly communicate the main idea : the use of a novel brownian model with state / control dependent diffusion coefficient to obtain improved optimality gaps .",
    "section [ secmodel ] formulates the model and states the main result .",
    "section [ secresult ] introduces a ( sequence of ) brownian control problem(s ) , which are then analyzed in section [ secadcp ] .",
    "a performance analysis of our proposed policy appears in section [ sectracking ] .",
    "the major building blocks of the proof are combined to establish the main result in section [ seccombining ] and some concluding remarks appear in section  [ secconclusions ] .",
    "we consider a queueing system with a single server - pool consisting of @xmath1 identical servers ( indexed from 1 to @xmath1 ) and a set @xmath6 of job classes as depicted in figure [ figv ] .",
    "jobs of        class-@xmath7 arrive according to a poisson process with rate @xmath8 and wait in their designated queue until their service begins . once admitted to service , the service time of a class-@xmath7 job is distributed as an exponential random variable with rate @xmath9 .",
    "all service and interarrival times are mutually independent .",
    "we consider a sequence of systems indexed by the number of servers @xmath1 .",
    "the superscript @xmath1 will be attached to various processes and parameters to make the dependence on @xmath1 explicit .",
    "( it will be omitted from parameters and other quantities that do not change with @xmath1 . )",
    "we assume that @xmath10 for all  @xmath1 , where @xmath11 is the total arrival rate and @xmath12 for @xmath13 with @xmath14 .",
    "this assumption is made for simplicity of notation and presentation .",
    "nothing changes in our results if one assumes , instead , that @xmath15 and @xmath16 as @xmath4 where @xmath17 .    the nominal load in the @xmath1th system is then given by @xmath18 so that defining @xmath19^{-1}$ ] we have that @xmath20 , which corresponds to the nominal number of servers required to handle all the incoming jobs .",
    "the heavy - traffic regime is then imposed by requiring that the number of servers deviates from the nominal load by a term that is a square root of the nominal load .",
    "formally , we impose this by assuming that @xmath21 is such that @xmath22 for some @xmath23 that does not scale with @xmath1 . also , we define the relative load imposed on the system by class-@xmath7 jobs , denoted by @xmath24 , as follows : @xmath25 note that @xmath26 , and @xmath27 can be interpreted as a first - order ( fluid ) estimate for the number of servers busy serving class-@xmath7 customers .",
    "let @xmath28 and @xmath29 denote the number of class-@xmath7 jobs in the queue and in the system , respectively , at time @xmath30 in the @xmath1th system .",
    "similarly , let @xmath31 denote the number of servers working on class-@xmath7 jobs at time @xmath30 .",
    "clearly , for all @xmath32 , the following holds : @xmath33    in our setting , a control corresponds to determining how many of the jobs currently in the system are placed in queue and in service for @xmath13 .",
    "we take the process @xmath34 as our control in the @xmath1th system .",
    "note that one can equivalently take the queue length process @xmath35 as the control .",
    "( the knowledge of either process is sufficient to pin down the evolution of the system given the arrival , service processes and the initial conditions . ) clearly , the control process must satisfy certain requirements for admissibility , including the usual nonanticipativity requirement .",
    "we defer a precise mathematical definition of admissible controls for now ( see definition [ definadmissiblecontrols ] ) .",
    "however , it should be clear that , given the process @xmath34 , one can construct the other processes of interest .    to be specific , consider a complete probability space @xmath36 and @xmath37 mutually independent _ unit - rate _",
    "poisson processes @xmath38 on that space .",
    "given the _",
    "primitives _ @xmath39 and the control process  @xmath34 , we construct the processes @xmath40 as follows : for @xmath41 and @xmath42 @xmath43 the processes @xmath44 must jointly satisfy the constraints @xmath45 where @xmath46 is the @xmath47-dimensional vector of ones .",
    "controls can be preemptive or nonpreemptive . under a nonpreemptive control ,",
    "a job that is assigned to a server keeps the server busy until its service is completed .",
    "in particular , given a nonpreemptive control @xmath34 , the process @xmath48 can decrease only through service completions of class-@xmath7 jobs .",
    "in contrast , the class of preemptive controls is broader .",
    "while it includes nonpreemptive policies , it also includes controls that ( occasionally ) may preempt a job s service .",
    "the preempted job is put back in the queue and its service is resumed at a later time ( possibly by a different server ) .",
    "hence , the class of preemptive controls subsumes the class of nonpreemptive ones ( which is also immediate from definition 1 in @xcite ) and the cost of an optimal policy among preemptive ones gives a lower bound for that among the nonpreemptive ones .    in what follows",
    ", we will largely focus on preemptive controls , which are easier to work with , and derive a specific policy which is near optimal in that class .",
    "the specific policy we derive is , however , nonpreemptive , and therefore , is near optimal among the nonpreemptive policies as well .",
    "more specifically , the policy we propose belongs to a class which we refer to as _ tracking policies . _    to facilitate the definition of tracking policies , define @xmath49 as @xmath50 also , for all @xmath7 and @xmath51 , let @xmath52 hence , the process @xmath53 captures the oscillations of the process @xmath54 around its `` fluid '' approximation @xmath27 . throughout our analysis , for @xmath55 we let @xmath56 and @xmath57 .",
    "[ defintracking ] given a function @xmath58 , an @xmath59-tracking policy makes resource allocation decisions in the @xmath1th system as follows :    it is nonpreemptive . that is",
    ", once a server starts working on a job , it continues without interruption until that job s service is completed .",
    "it is work conserving .",
    "that is , the number of busy servers satisfies @xmath60 for all @xmath61 . in particular ,",
    "no server is idle as long as there are @xmath1 or more jobs in the system .    when a class-@xmath7 job arrives to the system it joins the queue of class @xmath7 if all servers are busy processing other jobs",
    "otherwise , the lowest - indexed idle server starts working on that job .",
    "a server that finishes processing a job at a time @xmath30 , idles if all queues are empty . otherwise , she starts working on a job of class @xmath62 with probability @xmath63 , where , for @xmath64 , the set @xmath65 is defined by @xmath66 finally , if @xmath67 and @xmath68 , she picks for service a customer from the lowest index nonempty queue .",
    "[ remrandomization ] for our optimality - gap bounds and , in particular , for the proof of theorem [ thmssc ] it is important that the policy be such that each of the job classes in the set @xmath69 gets a sufficient share of the capacity .",
    "this prevents excessive oscillation of the queues that may compromise the optimality gaps .",
    "such oscillations could arise if , for example , the policy chooses for service a  job of class @xmath70 randomization is just one way to overcome such oscillations and , as the proofs ( specifically that of theorem [ thmssc ] ) reveal , any choice rule that guarantees a sufficient share of the capacity to a class in @xmath65 will suffice .",
    "our main result shows that a ( nonpreemptive ) tracking policy can achieve a near optimal performance among preemptive policies .",
    "note that in our setting under preemption , one can restrict attention to work - conserving policies , that is , policies under which the servers never idle as long as there are jobs to work on .",
    "more precisely , a control is work conserving if the following holds for all @xmath64 : @xmath71    hereafter , we focus on work - conserving controls .",
    "each such control can be mapped into a ratio control , which specifies what fraction of the total number of jobs in queue belongs to each class . to that end , let @xmath72 note that the original control @xmath34 can be recovered from the ratio control  @xmath73 as follows : @xmath74 equations ( [ eqdynamics1])([eqnon - negativity ] ) can then be replaced by @xmath75\\\\[-8pt ] & & { } -{\\mathcal{n}}_i^d\\biggl(\\mu_i \\int_0^t \\bigl ( x_i{^n}(s)-u_i{^n}(s ) \\bigl(e\\cdot\\check{x}^n(t)\\bigr)^+ \\bigr ) \\,ds\\biggr ) , \\nonumber\\\\ q_i{^n}(t)&=&u_i{^n}(t)\\bigl(e\\cdot\\check{x}^n(t)\\bigr)^+ , \\\\",
    "z_i{^n}(t)&=&x_i{^n}(t)-q_i{^n}(t),\\\\ \\check{x}_i{^n}(t)&=&x_i{^n}(t)-\\nu_i n,\\\\ \\label{eqnon - negativity2 } u{^n}(t)&\\in&\\mathcal{u},\\qquad q{^n}(t)\\in\\mathbb{z}_+^i,\\qquad x{^n}(t)\\in \\mathbb{z}_+^i.\\end{aligned}\\ ] ]    define the filtration @xmath76 and the @xmath77-field @xmath78 informally , @xmath79 contains the information about the entire evolution of the processes @xmath80 .",
    "a natural notion of admissibility requires that the control is nonanticipative so that it only uses historical information about the process @xmath81 and about the arrivals and service completions up to the decision epoch . to accommodate randomized policies ( as the @xmath59-tracking policy ) we allow the control to use other information too as long as this information is independent of @xmath79 .",
    "[ definadmissiblecontrols ] a process @xmath82 is a ratio control for the @xmath1th system if there exists a process @xmath83 such that , together with the primitives , @xmath84 satisfies ( [ eqdynamics2])([eqnon - negativity2 ] ) .",
    "the process @xmath85 is an admissible ratio control if , in addition , it is adapted to the filtration @xmath86 where @xmath87 and @xmath88 is a @xmath77-field that is independent of @xmath89 .",
    "the process @xmath90 is then said to be the queueing process associated with the ratio control @xmath85 .",
    "we let @xmath91 be the set of admissible ratio controls for the @xmath1th system .",
    "ratio controls are work conserving by definition , but they need not be nonpreemptive in general",
    ". however , note that given a function @xmath92 , the ( nonpreemptive ) @xmath59-tracking policy corresponds to a ratio control @xmath93 , which is nonpreemptive .",
    "to be specific , given the primitives and the @xmath59-tracking policy , one can construct the corresponding queueing process @xmath94 ( see the construction after lemma [ lemstrongappbounds ] ) .",
    "then the ratio control @xmath93 is constructed using the relation ( [ equqmap ] ) so that @xmath95 and @xmath93 jointly satisfy ( [ eqdynamics2])([eqnon - negativity2 ] ) .",
    "hence , one can speak of the ratio control and the queueing process associated with an @xmath59-tracking policy .",
    "note that since the tracking policy makes resource allocation decisions using only information on the state of the system at the decision epoch ( together with a randomization that is independent of the history ) , the resulting ratio control is admissible in the sense of definition [ definadmissiblecontrols ] . the terms ratio control and",
    "@xmath59-tracking policy appear in several places in the paper .",
    "it will be clear from the context whether we refer to an arbitrary ratio control or to one associated with an @xmath59-tracking policy .",
    "we close this section by stating the main result of the paper . to that end , let @xmath96 that is , @xmath97 is the set on which @xmath98 can obtain values under work conservation . in this set",
    "@xmath99 so that positive queue and idleness do not co - exist .",
    "we let @xmath100 $ ] denote the expectation with respect to the initial condition @xmath101 and an admissible ratio control @xmath85 .",
    "given a ratio control @xmath85 and initial conditions @xmath102 , the expected infinite horizon discounted cost in the @xmath1th system is given by @xmath103,\\ ] ] where @xmath104 is the strictly positive vector of holding cost rates and @xmath105 is the discount rate . for @xmath106 , the value function",
    "is given by @xmath107.\\ ] ]    we next state our main result .",
    "[ thmmain ] fix a sequence @xmath108 such that and @xmath109 for all @xmath1 and some @xmath110 .",
    "then , there exists a sequence of tracking functions @xmath111 together with constants @xmath112 ( that do not depend on @xmath1 ) such that @xmath113 where @xmath114 is the ratio control associated with the @xmath115-tracking policy .",
    "the constant @xmath116 in our bound may depend on all system and cost parameters but not on @xmath1 .",
    "in particular , it may depend on @xmath117 and @xmath118 .",
    "its value is explicitly defined after the statement of theorem [ thmhjb1sol ] .",
    "theorem [ thmmain ] implies , in particular , that the optimal performance for nonpreemptive policies is close to that among the larger family of preemptive policies .",
    "indeed , we identify a nonpreemptive policy ( a tracking policy ) in the queueing model whose cost performance is close to the optimal value of the preemptive control problem .",
    "the rest of the paper is devoted to the proof of theorem [ thmmain ] , which proceeds by studying a sequence of auxiliary brownian control problems .",
    "the next subsection offers a heuristic derivation and a justification for the relevance of the sequence of brownian control problems to be considered in later sections .",
    "we proceed by deriving a sequence of approximating brownian control problems heuristically , which will be instrumental in deriving a near - optimal policy for our original control problem .",
    "it is important to note that we derive an approximating brownian control problem for each @xmath1 as opposed to deriving a single approximating problem ( for the entire sequence of problems ) .",
    "this distinction is crucial for achieving an improved optimality gap for @xmath1 large because it allows us to tailor the approximation to each element of the sequence of systems .    to this end , let @xmath119 fixing an admissible control @xmath73 for the @xmath1th system [ and centering as in ( [ eqtildexdefin ] ) ] , we can then write ( [ eqdynamics2 ] ) as @xmath120 where @xmath121\\\\[-8pt ] & & { } - { \\mathcal{n}}_i^d\\biggl(\\mu_i\\int_0^t \\bigl ( \\check{x}_i{^n}(s)+\\nu_i n - u^n_i(s)\\bigl ( e\\cdot\\check{x}{^n}(s)\\bigr)^+ \\bigr ) \\,ds \\biggr).\\nonumber\\end{aligned}\\ ] ] in words , @xmath122 captures the deviations of the poisson processes from their means .",
    "it is natural to expect that an approximation result of the following form will hold : @xmath123 can be approximated by @xmath124 where @xmath125 and @xmath126 are @xmath47-dimensional independent standard brownian motions .",
    "moreover , by a time - change argument we can write ( see , e.g. , theorem 4.6 in @xcite ) @xmath127\\\\[-8pt ] & & { } + \\int_0^t \\sqrt{\\lambda_i^n+\\mu_i\\bigl ( \\hat { x}_i{^n}(s)+\\nu_i n - u^n_i(s)\\bigl ( e\\cdot\\hat{x}{^n}(s)\\bigr)^+ \\bigr)}\\,db_i(s),\\nonumber\\hspace*{-30pt}\\end{aligned}\\ ] ] where @xmath128 is an @xmath47-dimensional standard brownian motion constructed by setting @xmath129    taking a leap of faith and arguing heuristically , we next consider a brownian control problem with the system dynamics @xmath130 where @xmath131 will be an admissible control for the brownian system and @xmath132 and @xmath133 note that the brownian control problem will only be used to propose a  candidate policy , whose near optimality will be verified from first principles without relying on the heuristic derivations of this section .    to repeat , the preceding definition is purely formal and provided only as a means of motivating our approach . in what follows , we will directly state and analyze an auxiliary brownian control problem motivated by the above heuristic derivation .",
    "the analysis of the auxiliary brownian control problem lends itself to constructing near optimal policies for our original control problem . to be more specific ,",
    "the system dynamics equation ( [ eqnbmdefn1 ] ) , and in particular , the fact that its variance is state and control dependent , is crucial to our results .",
    "indeed , it is this feature of the auxiliary brownian control problems that yields an improved optimality gap .",
    "needless to say , one needs to take care in interpreting ( [ eqnbmdefn1])([eqnbmdefn3 ] ) , which are meaningful only up to a suitably defined hitting time .",
    "in particular , to have @xmath134 well defined , we restrict attention to the process while it is within some bounded domain .",
    "actually , it suffices for our purposes to fix @xmath135 and @xmath136 and consider the brownian control problem only up to the hitting time of a ball of the form @xmath137 where denotes the euclidian norm .",
    "we will fix the constant @xmath138 throughout and suppress the dependence on @xmath138 from the notation . setting @xmath139",
    "the diffusion coefficient is strictly positive for all @xmath140 and @xmath141 .",
    "note that , for all @xmath13 , @xmath142 and @xmath143 , @xmath144 so that @xmath145 for all sufficiently large @xmath1 and , consequently , @xmath146 .    in what follows , and , in particular , through the proof of theorem [ thmmain ] , the reader should note that while choosing the size of the ball to be @xmath147 ( with @xmath148 small enough ) would suffice for the nondegeneracy of the diffusion coefficient , that choice would be too large for our optimality gap proofs .",
    "motivated by the discussion in the preceding section , we define admissible systems as follows .    [ definadmissiblesystembrownian ] fix @xmath135 , @xmath149 and @xmath150 .",
    "we refer to @xmath151 as an admissible @xmath152-system if :    @xmath153 is a complete filtered probability space .",
    "@xmath154 is an @xmath47-dimensional standard brownian motion adapted to @xmath155 .",
    "@xmath156 is @xmath157-valued , @xmath158-measurable and @xmath155 progressively measurable .    the process @xmath156 is said to be the control associated with @xmath159 .",
    "we also say that @xmath160 is a controlled process associated with the initial data @xmath161 and an admissible system @xmath159 if @xmath160 is a continuous @xmath155-adapted process on @xmath36 such that , almost surely , for @xmath162 , @xmath163 where @xmath164 and @xmath165 are as defined in ( [ eqnbmdefn30 ] ) and ( [ eqnbmdefn3 ] ) , respectively , and @xmath166 .",
    "given @xmath135 and @xmath149 , we let @xmath167 be the set of admissible @xmath152-systems .    the brownian control problem then corresponds to optimally choosing an admissible @xmath152-system with associated control @xmath168 that achieves the minimal cost in the optimization problem @xmath169,\\ ] ] where @xmath170 $ ] is the expectation operator when the initial state is @xmath150 and the admissible system @xmath159 .",
    "hereafter , we refer to ( [ eqoptbrownian ] ) as the _ adcp on _ @xmath171 .",
    "the following lemma shows that the definition [ definadmissiblesystembrownian ] is not vacuous .",
    "the proof appears in the .",
    "[ lemexistenceofcontrolled ] fix the initial state @xmath150 , @xmath135 , @xmath172 and an admissible @xmath152-system @xmath159 .",
    "then , there exists a unique controlled process @xmath160 associated with @xmath161 and @xmath159 .    to facilitate future analysis , note from the definition of @xmath173 and ( [ eqoptbrownian ] ) that @xmath174    [ definmarkoviancontrols ] we say that an admissible @xmath152-system @xmath175 with the associated controlled process @xmath176 induces a markov control if there exists a function @xmath177 such that @xmath178 for @xmath179 .",
    "we extend the function @xmath180 to @xmath181 as follows : @xmath182 where @xmath183 is the @xmath47-dimensional vector whose first component is @xmath184 while the others are @xmath185 .",
    "we refer to @xmath186 as the tracking function associated with the admissible system @xmath159 .",
    "in what follows , a policy @xmath156 will be called optimal for the approximating diffusion control problem ( adcp ) on @xmath171 if there exists an admissible @xmath152-system @xmath187 such that @xmath188.\\ ] ]    recall that @xmath189 and @xmath85 are used to denote performance relevant stochastic processes in both the brownian model and the original queueing model , and that we add a hat , that is , we use @xmath160 and @xmath156 in the context of the brownian model . to avoid confusion ,",
    "the reader should keep in mind that hat - processes correspond to the adcp while the ones with no hats correspond to the original queueing model .",
    "the main result in theorem  [ thmmain ] builds on the following steps :",
    "1 .   in section [ secadcp ]",
    "we show that for each @xmath1 , the hjb equation associated with the adcp has a unique and sufficiently smooth solution . using that solution we advance an optimal markov control for the adcp together with the corresponding tracking function .",
    "we also identify useful gradient bounds on the solutions to the sequence of hjb equations ; cf . theorem  [ thmhjb1sol ] .",
    "2 .   in section [ sectracking ]",
    "we conduct a performance analysis of @xmath59-tracking policies in the queueing system ; cf .",
    "theorem [ thmssc ] .",
    "the result of theorem [ thmssc ] together with the gradient estimates in theorem [ thmhjb1sol ] are combined in a taylor expansion - type argument in section [ seccombining ] to complete the proof of theorem [ thmmain ] .    as a convention , throughout the paper we use the capital letter @xmath190 to denote a constant that does not depend on @xmath1 .",
    "the value of @xmath190 may change from line to line within the proofs but it will be clear from the context .",
    "this section provides a solution for the adcp on @xmath171 for each @xmath191 and @xmath135 .",
    "the hjb equation is a fully nonlinear and nonsmooth pde . as such",
    ", it requires extra care when compared with the usual semilinear pdes that arise in the analysis of _ asymptotically _ optimal controls in the halfin ",
    "whitt regime .",
    "we will build on existing results in the theory of pdes and proceed through the following steps : ( a ) establish the existence and uniqueness of classical solutions ; ( b ) relate this unique solution to the value function of the adcp and ( c ) establish useful gradient estimates on the solution for the hjb equation .",
    "the last step is not necessary for existence and uniqueness but is important for the analysis of optimality gaps .    in what follows ,",
    "we fix @xmath135 and @xmath172 and suppress the dependence of the solution to the hjb equation on @xmath1 and @xmath192 .",
    "the following notation is needed to introduce the hjb equation . given a twice continuously differentiable function @xmath193 ,",
    "define @xmath194 also , define the operator @xmath195 for @xmath143 as follows : @xmath196 defining @xmath197 for @xmath198 and @xmath143 , the hjb equation is given by @xmath199 substituting @xmath200 and @xmath201 into ( [ eqhjb0 ] ) gives @xmath202\\\\[-8pt ] & & { } + \\sum_{i\\in{\\mathcal{i } } } ( l_i{^n}-\\mu_ix_i)\\phi_i(x ) + \\frac{1}{2}\\sum_{i\\in{\\mathcal{i } } } \\bigl(\\lambda_i^n+\\mu_i(\\nu _ in+x_i)\\bigr)\\phi_{ii}(x).\\nonumber\\end{aligned}\\ ] ]    our analysis of the hjb equation ( [ eqhjb1simp ] ) draws on existing results on fully nonlinear pdes , and , in particular , the results on bellman  pucci type equations ; cf . chapter 17 of @xcite .    in what follows , fixing a set @xmath203",
    ", @xmath204 denotes the space of twice continuously differentiable functions from @xmath205 to @xmath206 . for @xmath207 ,",
    "we let  @xmath208 and @xmath209 denote the gradient and the hessian of @xmath210 , respectively .",
    "the space @xmath211 is then the subspace of @xmath212 members of which also have second derivatives that are hlder continuous of order @xmath213 .",
    "that is , a twice continuously differentiable function @xmath214 is in @xmath211 if @xmath215 where denotes the euclidian norm .",
    "we define @xmath216 where @xmath217 stands for the boundary of @xmath205 and we let @xmath218 . also , we define @xmath219 where @xmath220_{j,{\\mathcal{b}}}^*=\\sup_{x\\in{\\mathcal{b}}}d_x^j    denote the @xmath221th power of @xmath222 and , similarly , @xmath223 is the @xmath224th power of @xmath225 . finally , we let @xmath226_{0,{\\mathcal{b}}}^*=\\sup_{x\\in{\\mathcal{b}}}|u(x)|$ ] .    in the statement of the following theorem",
    ", @xmath227 is the @xmath47-dimensional vector with @xmath184 in the @xmath221th place and zeros elsewhere . also , @xmath171 , @xmath138 and @xmath228 are as defined in ( [ eqbkappadefin ] ) and ( [ eqnkappa ] ) , respectively .",
    "[ thmhjb1sol ] fix @xmath135 and @xmath172",
    ". then , there exists @xmath229 ( that does not depend on @xmath1 ) and a unique classical solution @xmath230 to the hjb equation ( [ eqhjb1simp ] ) on @xmath171 with the boundary condition @xmath231 on @xmath232 . furthermore , there exists a constant @xmath233 ( that does not depend on @xmath1 ) such that @xmath234 where @xmath235 . in turn , for any @xmath236 , @xmath237 with @xmath238 and @xmath239 .",
    "also , @xmath240\\\\[-8pt ] & & \\qquad\\leq\\frac{c}{1-\\vartheta}\\log^{k_1}n\\nonumber\\end{aligned}\\ ] ] for all @xmath241 with @xmath242 .",
    "note that ( [ eqgradients1 ] ) follows immediately from ( [ eqgradients0 ] ) through the definition of the operation in ( [ equstardefin ] ) . henceforth , we will use @xmath243 for the values given in the statement of theorem [ thmhjb1sol ] .",
    "moreover , the constant @xmath116 appearing in the statement of theorem [ thmmain ] is equal to @xmath244 .",
    "theorem [ thmhjb1sol ] facilitates a verification result , which we state next followed by the proof of theorem [ thmhjb1sol ] .",
    "below , @xmath245 is the value function of the adcp ; cf . equation ( [ eqoptbrownian ] ) .",
    "[ thmbrownianverification ] fix @xmath135 and @xmath172 .",
    "let @xmath246 be the unique solution to the hjb equation ( [ eqhjb1simp ] ) on @xmath171 with the boundary condition @xmath247 on @xmath248 .",
    "then , @xmath249 for all @xmath250 .",
    "moreover , there exists a markov control which is optimal for the adcp on @xmath171 .",
    "the tracking function @xmath251 associated with this optimal markov control is defined by @xmath252 , where @xmath253    the hjb equation ( [ eqhjb1simp ] ) has two sources of nondifferentiability .",
    "the first source is the minimum operation and the second is the nondifferentiability of the term @xmath254 .",
    "the first source of nondifferentiability is covered almost entirely by the results in @xcite . to deal with the nondifferentiability of the function @xmath254",
    ", we use a construction by approximations .",
    "the proof of existence and uniqueness in theorem [ thmhjb1sol ] follows an approximation scheme where one replaces the nonsmooth function @xmath254 by a smooth ( parameterized by @xmath255 ) function @xmath256 .",
    "we show that the resulting `` perturbed '' pde has a unique classical solution and that as @xmath257 the corresponding sequence of solutions converges , in an appropriate sense , to a solution to  ( [ eqhjb1simp ] ) which will be shown to be unique .",
    "note that this argument is repeated for each fixed @xmath1 and @xmath258 .    to that end , given @xmath259 , define @xmath260 replacing @xmath254 with @xmath261 in ( [ eqhjb1simp ] ) gives the following equation : @xmath262\\\\[-8pt ] & & { } + \\sum_{i\\in{\\mathcal{i } } } ( l_i{^n}-\\mu_ix_i)\\phi_i(x ) + \\frac{1}{2}\\sum_{i\\in{\\mathcal{i } } } \\bigl(\\lambda_i^n+\\mu_i(\\nu _ in+x_i)\\bigr)\\phi_{ii}(x).\\nonumber\\end{aligned}\\ ] ]    to simplify this further , let @xmath263 and for all @xmath264 , define the function @xmath265=\\min\\{f_a^1[y],\\ldots , f_a^i[y]\\},\\ ] ] where for @xmath266 and @xmath267 , @xmath268&=&f_a(e\\cdot x ) \\biggl[c_k+\\mu_kp_k-\\frac{1}{2}\\mu_kr_{kk}\\biggr]+\\sum_{i\\in{\\mathcal{i}}}(l_i{^n}-\\mu_ix_i)p_i \\nonumber\\\\[-8pt]\\\\[-8pt ] & & { } + \\frac{1}{2}\\sum_{i\\in{\\mathcal{i } } } \\bigl(\\lambda_i^n+\\mu_i(\\nu _",
    "in+x_i)\\bigr)r_{ii}-\\gamma z.\\nonumber\\end{aligned}\\ ] ] then , ( [ eqhjb2 ] ) can be rewritten as @xmath269=0.\\ ] ]    in the following statement we use the gradient notation introduced at the beginning of this section .    [ propsolphjb ]",
    "fix @xmath135 , @xmath172 and @xmath259 . a unique classical solution @xmath270 exists for the pde ( [ eqhjb2 ] ) on @xmath171 with the boundary condition @xmath271 on @xmath248 .",
    "moreover , @xmath272 for @xmath235 where @xmath229 and @xmath233 do not depend on @xmath255 and @xmath1 and @xmath273 does not depend on @xmath255 .",
    "also , @xmath274 is lipschitz continuous on the closure @xmath275 with a lipschitz constant that does not depend on @xmath255 ( but can depend on @xmath258 and @xmath1 ) .",
    "we postpone the proof of proposition [ propsolphjb ] to the and use it to complete the proof of theorem [ thmhjb1sol ] , followed by the proof of theorem [ thmbrownianverification ] .",
    "since we fix @xmath1 and @xmath258 , they will be suppressed below .",
    "we proceed to show the existence by an approximation argument . to that end , fix a sequence @xmath276 with @xmath277 as @xmath278 and let @xmath279 be the unique solution to ( [ eqhjb2 ] ) as given by proposition [ propsolphjb ] .",
    "the next step is to show that @xmath279 has a subsequence that converges in an appropriate sense to a function @xmath193 , which is , in fact , a solution to the hjb equation ( [ eqhjb1simp ] ) . to that end , let @xmath280 then , @xmath281 is a banach space ( see , e.g. , exercise 5.2 in @xcite ) .",
    "since the bound in ( [ eqgradients ] ) is independent of @xmath255 , we have that @xmath282 is a bounded sequence in @xmath283 and hence , contains a convergent subsequence . let @xmath210 be a limit point of the sequence @xmath284 . since the gradient estimates in proposition [ propsolphjb ] are independent of @xmath255 , they hold also for the limit function @xmath210 , that is , latexmath:[\\[\\label{equ - bound }    for constants @xmath213 and @xmath190 that are independent of @xmath1 .",
    "proposition [ propsolphjb ] also guarantees that the global lipschitz constant is independent of @xmath255 so that we may conclude that @xmath286 and that @xmath287 on @xmath217 .",
    "we will now show that @xmath210 solves ( [ eqhjb1simp ] ) uniquely . to show that @xmath210 solves ( [ eqhjb1simp ] )",
    ", we need to show that @xmath288=0 $ ] ( where @xmath289 $ ] is defined similar to @xmath290 $ ] with @xmath291 replacing @xmath261 ) . to that end , let @xmath292 be the corresponding convergent subsequence [ i.e. , such that @xmath293 in @xmath294 .",
    "henceforth , to simplify notation , we write @xmath295=f_{{a^{k_l}}}[x,\\phi_{{a^{k_l}}}(x),d\\phi_{{a^{k_l}}}(x),d^2\\phi_{{a^{k_l}}}(x)]\\ ] ] ( and similarly for @xmath289 $ ] ) .",
    "fix @xmath296 and let @xmath297 .",
    "note that since @xmath298 in @xmath299 we have , in particular , the convergence of @xmath300 uniformly in @xmath301 .",
    "the equicontinuity of the function @xmath302 $ ] on @xmath303 guarantees then that @xmath304 for all @xmath305 large enough and @xmath301 . note that @xmath306 for all @xmath255 large enough so that , @xmath307-f[u(x)]|\\leq\\epsilon\\ ] ] for all @xmath305 large enough .",
    "combining ( [ eqinterim11 ] ) and ( [ eqinterim12 ] ) , we then have @xmath308-f[u(x)]|\\leq2\\epsilon\\ ] ] for all @xmath305 large enough and @xmath301 . by definition @xmath309=0",
    "$ ] for all @xmath310 and since @xmath148 was arbitrary we have that @xmath311=0 $ ] for all @xmath301 . finally , since @xmath312 was arbitrary we have that @xmath311=0 $ ] for all @xmath310 .",
    "we already argued that @xmath287 on @xmath217 , so that @xmath210 solves ( [ eqhjb1simp ] ) on  @xmath205 with @xmath287 on  @xmath217 .",
    "this concludes the proof of existence of a solution to ( [ eqhjb1simp ] ) that satisfies the gradient estimates ( [ eqgradients0 ] ) .",
    "finally , the uniqueness of the solution to ( [ eqhjb1simp ] ) follows from corollary 17.2 in @xcite noting that the function @xmath313 $ ] is indeed continuously differentiable in the @xmath314 arguments and it is decreasing in @xmath315 for all @xmath316 .    using theorem [ thmbrownianverification ] [ which only uses the existence and uniqueness of the solution @xmath317 that we already established ] together with ( [ eqvaluebound ] ) we have that @xmath318",
    "the bounds ( [ eqgradients0 ] ) and ( [ eqgradients1 ] ) now follow from ( [ equ - bound ] ) and we turn to prove ( [ eqgenbound ] ) .    to that end , since @xmath319 solves ( [ eqhjb1simp ] ) , fixing @xmath320 we have @xmath321\\\\[-8pt ] & & \\qquad\\quad { } + \\biggl|(e\\cdot x)^+\\cdot\\min _ { i\\in{\\mathcal{i}}}\\biggl\\ { c_i+\\mu_i(\\phi_{\\kappa}^n)_i(x)-\\frac{1}{2}\\mu _ i(\\phi_{\\kappa}^n)_{ii}(x)\\biggr\\}\\nonumber\\\\ & & \\qquad\\quad\\hphantom{{}+\\biggl| } { } -(e\\cdot y)^+\\cdot\\min_{i\\in{\\mathcal{i}}}\\biggl\\ { c_i+\\mu_i(\\phi_{\\kappa}^n)_i(y)-\\frac{1}{2}\\mu_i(\\phi_{\\kappa } ^n)_{ii}(y)\\biggr\\}\\biggr|.\\nonumber\\end{aligned}\\ ] ] we will now bound each of the elements on the right - hand side . to that end ,",
    "let @xmath322 be as defined in ( [ eqixdefin ] ) and for each @xmath323 define @xmath324 using ( [ eqgradients1 ] ) , we have by the mean value theorem that @xmath325 for all @xmath241 with @xmath242 , and we turn to bound the second element on the right - hand side of ( [ eqinternational ] ) . here , there are two cases to consider .",
    "suppose first that @xmath326 .",
    "then , using ( [ eqgradients1 ] ) and the mean value theorem we have @xmath327 and , in turn , that @xmath328 for all @xmath241 with @xmath242 .",
    "now , @xmath329 for all @xmath241 and , by ( [ eqgradients1 ] ) , @xmath330 so that @xmath331 if , on the other hand , @xmath332 then by the definition of @xmath333 , @xmath334 and @xmath335 that is , @xmath336 using ( [ eqgradients1 ] ) as before we have for @xmath337 with @xmath242 and @xmath332 that @xmath338 by ( [ eqyetonemore1 ] ) we then have that @xmath339 for all such @xmath161 and @xmath340 . in turn , since @xmath341 , @xmath342 for @xmath241 with @xmath242 and @xmath332 . plugging ( [ eqinterinter ] ) , ( [ eqinterim222222 ] ) and ( [ eqinterim222224 ] ) into the right - hand side of ( [ eqinternational ] )",
    "we get @xmath343\\\\[-8pt ] & & \\qquad \\leq c \\log^{k_1 } n\\nonumber\\end{aligned}\\ ] ] for all @xmath241 with @xmath242 .",
    "finally , recall that @xmath344 so that for all @xmath143 , @xmath345 the last two terms above are bounded by @xmath346 by ( [ eqgradients1 ] ) and using @xmath347 .",
    "together with ( [ eqtheinternational ] ) this establishes ( [ eqgenbound ] ) and concludes the proof of the theorem .",
    "fix an initial condition @xmath141 and an admissible @xmath152-system @xmath175 and let @xmath176 be the associated controlled process . using it s lemma for the function @xmath348 in conjunction with the inequality @xmath349 [ recall that @xmath319 solves ( [ eqhjb1simp ] ) ] we have that @xmath350\\\\[-8pt ] & & { } -{\\mathbb{e}}_{x}^{\\theta}\\sum_{i\\in{\\mathcal{i}}}\\int_0^{t\\wedge\\hat{\\tau } _",
    "{ \\kappa}^n } e^{-\\gamma s } ( \\phi_{\\kappa}{^n})_i(\\hat{x}^n(s))\\sigma_i^n(\\hat { x}^n(s),\\hat{u}(s ) ) \\,db(s).\\nonumber\\end{aligned}\\ ] ] here , @xmath351 is as defined in definition [ definadmissiblesystembrownian ] and it is a stopping time with respect to @xmath352 because of the continuity of @xmath176 .",
    "we now claim that @xmath353\\rightarrow0 \\qquad\\mbox{as } t{\\rightarrow\\infty}.\\ ] ] indeed , as @xmath354 is bounded on @xmath171 , on the event @xmath355 we have that @xmath356 on the event @xmath357 we have @xmath358 and , by the definition of @xmath351 , that @xmath359 .",
    "the convergence in expectation then follows from the bounded convergence theorem ( using again the boundedness of @xmath360 on @xmath171 ) .",
    "the last term in ( [ eqinterim3 ] ) equals zero by the optional stopping theorem .",
    "letting @xmath361 in ( [ eqinterim3 ] ) and applying the monotone convergence theorem , we then have @xmath362.\\ ] ]    since the admissible system @xmath159 was arbitrary , we have that @xmath363 . to show that this inequality is actually an equality ,",
    "let @xmath364 where @xmath365 is as defined in the statement of the theorem .    the continuity of @xmath319 guarantees that the function @xmath366 is lebesgue measurable , and so is , in turn , @xmath367 .",
    "consider now the autonomous sde : @xmath368 where @xmath369 and @xmath370 on @xmath171 .",
    "then , @xmath371 and  @xmath372 are bounded and measurable on the bounded domain @xmath171",
    ". also , as the matrix @xmath372 is diagonal and the elements on the diagonal are strictly positive on @xmath373 , it is positive definite there .",
    "hence , a weak solution exists for the autonomous sde ( see , e.g. , theorem 6.1 of @xcite ) .",
    "in particular , there exists a probability space @xmath374 , a filtration @xmath375 that satisfies the usual conditions , a brownian motion @xmath376 and a continuous process @xmath377both adapted to @xmath375 , so that @xmath377 satisfies the autonomous sde ( [ eqautonomous ] ) .",
    "finally , since  @xmath377 has continuous sample paths and it is adapted , it is also progressively measurable ( see , e.g. , proposition 1.13 in @xcite ) and , by measurability of @xmath367 , so is the process @xmath378 . consequently , @xmath379 is an admissible system in the sense of definition [ definadmissiblesystembrownian ] and @xmath377 is the corresponding controlled process .    to see that @xmath159 is optimal for the adcp on @xmath171 ,",
    "note that for @xmath380 , we have by the hjb equation ( [ eqhjb0 ] ) that @xmath381 applying it s rule as before , together with the bounded and dominated convergence theorems , we then have that @xmath382\\ ] ] and the proof is complete .",
    "this section shows that given an optimal markov control policy for the adcp together with its associated tracking function @xmath383 , the nonpreemptive tracking policy imitates , in a particular sense , the performance of the brownian system .    [ thmssc ] fix @xmath258 and @xmath384 as well as a sequence @xmath385 such that @xmath386 , and @xmath109 for all @xmath1 and some @xmath110 .",
    "let @xmath319 and @xmath251 be as in theorem [ thmbrownianverification ] and define @xmath387 let @xmath114 be the ratio control associated with the @xmath383-tracking policy and let @xmath388 be the associated queueing process with the initial conditions @xmath389 and @xmath390 and define @xmath391 then , @xmath392\\leq",
    "c\\log^{k_0 + 3}n\\ ] ] for a constant @xmath190 that does not depend on @xmath1 .",
    "theorem [ thmssc ] is proved in the .",
    "the proof builds on the gradient estimates in theorem [ thmhjb1sol ] and on a state - space collapse - type result for certain sub - intervals of @xmath393 $ ] .",
    "[ remssc ] typically one establishes a stronger state - space collapse result showing that the actual queue and the desired queue values are close in supremum norm .",
    "the difficulty with the former approach is that the tracking functions here are nonsmooth .",
    "while it is plausible that one can smooth these functions appropriately ( as is done , e.g. , in @xcite ) , such smoothing might compromise the optimality gap .",
    "fortunately , the weaker integral criterion implied by theorem [ thmssc ] suffices for our purposes .",
    "fix @xmath135 and let @xmath319 be the solution to ( [ eqhjb1simp ] ) on @xmath171 ( see theorem [ thmhjb1sol ] ) .",
    "we start with the following lemma where @xmath394 and @xmath395 are as in ( [ eqnbmdefn30 ] ) and ( [ eqnbmdefn3 ] ) , respectively .",
    "[ lemito ] let @xmath73 be an admissible ratio control and let @xmath396 , @xmath397 be the queueing process associated with @xmath73 .",
    "fix @xmath384 and @xmath398 and let @xmath391 then , there exists a constant @xmath190 that does not depend on @xmath1 ( but may depend on @xmath399 , @xmath258 and @xmath400 ) such that @xmath401&\\leq&\\phi_{\\kappa}^n(\\check{x}^n(0))+ { \\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } a_{u^n(s)}^n\\phi_{\\kappa}^n(\\check{x}^n(s))\\,ds\\biggr]\\\\ & & { } -\\gamma{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } \\phi_{\\kappa } ^n(\\check{x}^n(s))\\,ds\\biggr ] + c\\log^{k_1 + 1 } n\\\\ & \\leq & { \\mathbb{e}}[e^{-\\gamma\\tau_{\\kappa',t}^n}\\phi_{\\kappa}^n(\\check { x}^n(\\tau_{\\kappa',t}^n))]+2c\\log^{k_1 + 1}n.\\end{aligned}\\ ] ]    we will also use the following lemma where @xmath402 are the cost coefficients ( see section [ secmodel ] ) .",
    "[ lemafterstop ] let @xmath403 be as in the conditions of theorem [ thmmain ] .",
    "then , there exists a constant @xmath190 that does not depend on @xmath1 such that @xmath404\\leq c\\log^2n\\ ] ] and @xmath405\\leq c\\log^2 n\\ ] ] for all @xmath1 and any admissible ratio control @xmath85 .",
    "we postpone the proof of lemma [ lemito ] to the end of the section and that of lemma [ lemafterstop ] to the and proceed now to prove the main result of the paper .",
    "let @xmath383 be the ratio function associated with the optimal markov control for the adcp ( as in theorem [ thmhjb1sol ] ) .",
    "since @xmath192 is fixed we omit the subscript @xmath258 and use @xmath406 . let @xmath114 be the ratio associated with the @xmath407-tracking policy .",
    "the proof will proceed in three main steps .",
    "first , building on theorem  [ thmssc ] we will show that @xmath408 \\leq\\phi _ { \\kappa}^n(\\check{x}^n(0))+c\\log^{k_0 + 3 } n.\\ ] ] using lemma [ lemafterstop ] , this implies @xmath409\\nonumber\\\\[-8pt]\\\\[-8pt ] & \\leq&\\phi_{\\kappa}^n(\\check { x}^n(0))+c\\log^{k_0 + 3 } n.\\nonumber\\end{aligned}\\ ] ] finally , we will show that for any ratio control @xmath73 , @xmath410+c\\log^{k_1 + 1}n,\\ ] ] where we recall that @xmath238 . in turn ,",
    "@xmath411 which establishes the statement of the theorem .",
    "we now turn to prove each of ( [ eqinterim2 ] ) and ( [ eqinterim303 ] ) .      to simplify notation we fix @xmath135 throughout and let @xmath412 . using lemma [ lemito ]",
    "we have @xmath413\\nonumber \\\\ & & \\qquad\\leq \\phi_{\\kappa}^n(\\check{x}^n(0))+ { \\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } a_{u_h^n(s)}^n\\phi_{\\kappa}^n(\\check{x}^n(s))\\,ds\\biggr]\\\\ & & \\qquad\\quad{}-\\gamma{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s }",
    "\\phi _ { \\kappa}^n(\\check{x}^n(s))\\,ds\\biggr]+ c\\log^{k_1 + 1 } n .\\nonumber\\end{aligned}\\ ] ] from the definition of @xmath407 as a minimizer in the hjb equation we have that @xmath414\\\\ & & { } -\\gamma{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } \\phi _ { \\kappa}^n(\\check{x}^n(s))\\,ds\\biggr]\\\\ & & { } + { \\mathbb{e}}\\biggl[\\int _ 0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } l(\\check{x}^n(s),h^n(\\check { x}^n(s)))\\,ds\\biggr ] .\\end{aligned}\\ ] ] by theorem [ thmssc ] we then have that @xmath415\\nonumber\\\\[-2pt ] & & { } -\\gamma{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } \\phi_{\\kappa}^n(\\check{x}^n(s))\\,ds\\biggr]\\nonumber\\\\[-9pt]\\\\[-9pt ] & & { } + { \\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } l(\\check { x}^n(s),u_h^n(s))\\,ds\\biggr]\\nonumber\\\\[-2pt ] & \\geq&0.\\nonumber\\end{aligned}\\ ] ] since @xmath319 is nonnegative , combining ( [ eqinterim1 ] ) and ( [ eqinterim101 ] ) we have that @xmath416\\leq\\phi_{\\kappa}^n(\\check { x}^n(0))+c\\log^{k_0 + 3 } n,\\ ] ] which concludes the proof of ( [ eqinterim2 ] ) .",
    "we now show that @xmath417 . to that end , fix an arbitrary ratio control @xmath73 and recall that by the hjb equation , @xmath418 for all @xmath143 and @xmath141 . in turn , using the second inequality in lemma [ lemito ] we have that @xmath419\\\\[-2pt ] & & \\qquad\\geq \\phi_{\\kappa}^n(\\check{x}^n(0 ) ) -{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } l(\\check { x}^n(s),u^n(s))\\,ds\\biggr]\\\\[-2pt ] & & \\qquad\\quad { } -2c\\log^{k_1 + 1 } n.\\end{aligned}\\ ] ] using lemma [ lemafterstop ] , we have , however , that @xmath420\\leq c\\log^{2 } n\\ ] ] for a redefined constant @xmath190 so that @xmath421\\\\[-2pt ] & & { } -2c\\log^{k_1 + 1 } n\\\\&\\geq & \\phi_{\\kappa } ^n(\\check{x}^n(0))- { \\mathbb{e}}\\biggl[\\int_0^{\\infty } e^{-\\gamma s } l(\\check { x}^n(s),u^n(s))\\,ds\\biggr]\\\\[-2pt ] & & { } -2c\\log^{k_1 + 1 } n\\end{aligned}\\ ] ] and , finally , @xmath422+c\\log^{k_1 + 1}n\\vadjust{\\goodbreak}\\ ] ] for a redefined constant @xmath233 .",
    "this concludes the proof of ( [ eqinterim303 ] ) and of the theorem .",
    "we end this section with the proof of lemma [ lemito ] in which the following auxiliary lemma will be of use .",
    "[ lemmartingales ] fix @xmath135 and an admissible ratio control @xmath73 and let @xmath83 be the corresponding queueing process .",
    "let @xmath423 and @xmath424 be as defined in ( [ eqwtildedefin ] ) .",
    "then , for each @xmath13 , the process @xmath425 is a square integrable martingale w.r.t to the filtration @xmath426 as are the processes @xmath427 and @xmath428    lemma [ lemmartingales ] follows from basic results on martingales associated with time - changes of poisson processes .",
    "the detailed proof appears in the .",
    "note that , as in ( [ eqcheckxdynamics ] ) , @xmath429 satisfies @xmath430 and is a semi martingale .",
    "applying it s formula for semimartingales ( see , e.g. , theorem 5.92 in @xcite ) we have for all @xmath431 , that @xmath432\\\\ & & { } - \\sum_{i\\in{\\mathcal{i}}}\\sum_{s\\leq t\\dvtx |\\delta\\check{x}^n(s)| > 0 } e^{-\\gamma s}(\\phi_{\\kappa})_i^n(\\check{x}^n(s))\\delta\\check{x}_i^n(s)\\\\ & & { } + \\sum_{i\\in{\\mathcal{i}}}\\int_0^t e^{-\\gamma s } ( \\phi_{\\kappa}^n)_i(\\check { x}^n(s-))b_i^n(\\check{x}^n(s),u^n(s))\\,ds\\\\ & & { } -\\gamma\\int_0^t e^{-\\gamma s } \\phi_{\\kappa}^n(\\check{x}^n(s))\\,ds\\end{aligned}\\ ] ] and , after rearranging terms , that @xmath433 where @xmath434.\\end{aligned}\\ ] ] setting @xmath435 as defined in the statement of the lemma and taking expectations on both sides we have @xmath436\\nonumber\\\\ & & \\qquad=\\phi_{\\kappa}^n(\\check{x}^n(0 ) ) + \\sum_{i\\in{\\mathcal{i}}}{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } ( \\phi_{\\kappa}^n)_i(\\check{x}^n(s- ) ) b_i^n(\\check { x}^n(s),u^n(s))\\,ds\\biggr]\\nonumber\\\\[-8pt]\\\\[-8pt ] & & \\qquad\\quad{}+\\frac{1}{2}\\sum _ { i\\in{\\mathcal{i}}}{\\mathbb{e}}\\biggl[\\sum_{s\\leq t\\dvtx |\\delta\\check { x}^n(s)|>0}e^{-\\gamma s } ( \\phi_{\\kappa}^n)_{ii}(\\check { x}^n(s-))(\\delta\\check{x}_i^n(s))^2\\biggr]\\nonumber\\\\ & & \\qquad\\quad{}+ { \\mathbb{e}}[c^n(\\tau_{\\kappa',t}^n)]-\\gamma{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa ' , t}^n } e^{-\\gamma s } \\phi_{\\kappa}^n(\\check{x}^n(s))\\,ds \\biggr].\\nonumber\\end{aligned}\\ ] ]    we will now examine each of the elements on the right - hand side of ( [ eqinterim404 ] ) . first , note that @xmath437 and , in particular , @xmath438\\\\ & & \\qquad= { \\mathbb{e}}\\biggl[\\sum_{s\\leq\\tau_{\\kappa',t}^n\\dvtx |\\delta\\check { x}^n(s)|>0}e^{-\\gamma s } ( \\phi_{\\kappa}^n)_{ii}(\\check { x}^n(s-))(\\delta\\check{w}_i^n(s))^2\\biggr].\\end{aligned}\\ ] ] using the fact that @xmath439 , as defined in lemma [ lemmartingales ] , is a martingale as well as the fact that @xmath440 and its derivative processes are bounded up to  @xmath441 , we have that the processes @xmath442 and @xmath443 are themselves martingales with @xmath444 and in turn , by optional stopping , that @xmath445={\\mathbb{e}}[\\bar { \\mathcal{m}}_i^n(\\tau_{\\kappa',t}^n)]$ ] ( see , e.g. , lemma 5.45 in @xcite ) . in turn , by the definition of @xmath446 and @xmath447 we have @xmath448\\\\ & & \\qquad={\\mathbb{e}}\\biggl[\\int_0^t ( \\phi_{\\kappa}^n)_{ii}(\\check { x}^n(s-))\\,d(\\check{w}_i^n(s))^2\\biggr]\\\\ & & \\qquad={\\mathbb{e}}\\biggl[\\int _ 0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } ( \\phi_{\\kappa}^n)_{ii}(\\check { x}^n(s-))(\\sigma_i^n(\\check{x}^n(s),u^n(s)))^2\\,ds\\biggr].\\end{aligned}\\ ] ] plugging this back into ( [ eqinterim404 ] ) we have that @xmath449\\\\ & & \\qquad=\\phi_{\\kappa}^n(\\check{x}^n(0 ) ) + \\sum_{i\\in{\\mathcal{i}}}{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } ( \\phi_{\\kappa}^n)_{i}(\\check{x}^n(s- ) ) b_i^n(\\check { x}^n(s),u^n(s))\\,ds\\biggr]\\\\ & & \\qquad\\quad{}+ \\frac{1}{2}\\sum_{i\\in{\\mathcal{i } } } { \\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } ( \\phi_{\\kappa } ^n)_{ii}(\\check{x}^n(s-))(\\sigma_i^n(\\check{x}^n(s),u^n(s ) ) ) ^2 \\,ds\\biggr]\\\\ & & \\qquad\\quad{}-\\gamma{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } \\phi_{\\kappa}^n(\\check{x}^n(s))\\,ds\\biggr]+ { \\mathbb{e}}[c^n(\\tau_{\\kappa',t}^n)],\\end{aligned}\\ ] ] which , using the definition of @xmath450 in ( [ eqgendefin ] ) , yields @xmath449\\\\ & & \\qquad=\\phi_{\\kappa}^n(\\check{x}^n(0 ) ) + { \\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } a_{u^n(s)}^n\\phi_{\\kappa}^n(\\check{x}^n(s))\\,ds\\biggr]\\\\ & & \\qquad\\quad{}-\\gamma{\\mathbb{e}}\\biggl[\\int_0^{\\tau_{\\kappa',t}^n } e^{-\\gamma s } \\phi_{\\kappa } ^n(\\check{x}^n(s))\\,ds\\biggr]\\\\ & & \\qquad\\quad{}+ { \\mathbb{e}}[c^n(\\tau_{\\kappa',t}^n)].\\end{aligned}\\ ] ] to complete the proof it then remains only to show that there exists a  constant @xmath190 such that @xmath451|\\leq c\\log ^{k_1 + 1 } n.\\ ] ] to that end , note that by taylor s expansion , @xmath452 where @xmath453 is such that @xmath454 is between @xmath455 and @xmath456 . in turn , adding and subtracting a term , we have that @xmath457 since the jumps are of size @xmath184 and , with probability 1 , there are no simultaneous jumps , we have that @xmath458 . adding the discounting , summing and taking expectations we have @xmath459\\nonumber\\\\ & & \\qquad\\leq{\\mathbb{e}}\\biggl[\\sum_{s\\leq t\\dvtx    { 1}{2}\\max_{y\\dvtx|y|\\leq1}\\bigl((\\phi_{\\kappa}^n)_{ii}\\bigl(\\check { x}^n(s-)+y\\bigr)\\\\ & & \\qquad\\quad\\hspace*{163.6pt } { } -(\\phi_{\\kappa } ^n)_{ii}(\\check{x}^n(s-))\\bigr)(\\delta\\check{x}_i^n(s))^2 \\biggr],\\nonumber\\end{aligned}\\ ] ] and a lower bound",
    "can be created by minimizing over @xmath340 instead of maximizing .",
    "using again the fact that @xmath460 and that @xmath461 and @xmath462 as defined in ( [ eqbarm ] ) and ( [ eqbarv ] ) are martingales , we have that @xmath463&\\leq&{\\mathbb{e}}\\biggl[\\int_0^t \\sum_{i\\in{\\mathcal{i}}}\\frac{1}{2}\\max_{y\\dvtx|y|\\leq1}\\bigl((\\phi_{\\kappa}^n)_{ii}\\bigl(\\check { x}^n(s-)+y\\bigr ) \\nonumber\\\\ & & \\hspace*{92.3pt } { } -(\\phi_{\\kappa}^n)_{ii}(\\check{x}^n(s-))\\bigr)\\\\ & & \\hspace*{60.6pt}{}\\times(\\sigma _ i^n(\\check{x}^n(s),u^n(s)))^2\\,ds\\biggr].\\nonumber\\end{aligned}\\ ] ] from ( [ eqgenbound ] ) we have that @xmath464 for all @xmath143 and @xmath465 with @xmath242 . the proof",
    "is then concluded by plugging ( [ eqinterim1111 ] ) into ( [ eqinterim505 ] ) , setting @xmath466 and recalling that we can repeat all the above steps to obtain a lower bound in ( [ eqinterim505 ] ) by replacing @xmath467 with @xmath468 in  ( [ eqinterim2222 ] ) .",
    "this paper proposes a novel approach for solving problems of dynamic control of queueing systems in the halfin ",
    "whitt many - server heavy - traffic regime .",
    "its main contribution is the use of brownian approximations to construct controls that achieve optimality gaps that are logarithmic in the system size .",
    "this should be contrasted with the optimality gaps of size @xmath0 that are common in the literature on asymptotic optimality .",
    "a distinguishing feature of our approach is the use of a _ sequence _ of brownian control problems rather than a single ( limit ) problem .",
    "having an entire sequence of approximating problems allows us to perform a more refined analysis , resulting in the improved optimality gap .    in further contrast with the earlier literature , in each of these brownian problems the diffusion coefficient depends on both the system state and the control .",
    "incorporating the impact of control on diffusion coefficients allows us to track the performance of the policy better but , at the same time , it leads to a more complex diffusion control problem in which the associated hjb equation is fully nonlinear and nonsmooth . for _ each _ brownian problem , we show that the hjb equation has a sufficiently smooth solution that coincides with the value function and that admits an optimal markov policy .",
    "most importantly , we derive useful gradient estimates that apply to the whole sequence and bound the growth rate of the gradients with the system size .",
    "these bounds are crucial for controlling the approximation errors when analyzing the original queueing system under the proposed tracking control .",
    "the motivating intuition behind our approximation scheme is that the value functions of each queueing system and its corresponding brownian control problem ought to be close .",
    "in particular ,",
    "the optimal control for the brownian problem should perform well for the queueing system .",
    "moreover , the optimal markov control of the brownian problem can be approximated by a ratio ( or tracking ) control for the queueing system . while these observations are `` correct '' at a high level , they need to be qualified further .",
    "our analysis underscores two sources of approximation errors that need to be addressed in order to obtain the refined optimality gaps .",
    "first , the value function of the brownian control problem may be substantially different than that of the ( preemptive ) optimal control problem for the queueing system .",
    "this difference must be quantified relative to the system size , which we do indirectly through the gradient estimates for the value function of the brownian control problem ; this is manifested , for example , in the proof of lemma [ lemito ] .",
    "the second source of error is in trying to imitate the optimal ratio control of the approximating brownian control by a tracking control in the corresponding queueing system .",
    "the error arises because we insist on having a  nonpreemptive control for the queueing system .",
    "whereas under a preemptive control , one may be able to rearrange the queues instantaneously to match the tracking function of the brownian system , this is not possible with nonpreemptive controls . instead , we carefully construct and analyze the performance of the proposed nonpreemptive tracking policy . in doing so , we prove that the tracking control imitates closely the brownian system with respect to a specific integrated functional of the queueing dynamics ( see theorem [ thmssc ] and remark [ remssc ] ) . here too , the gradient estimates for the value function of the brownian system play a key role .",
    "while the focus of this paper has been a relatively simple model to illustrate the key ideas behind our approach and the important steps in the analysis , we expect that similar results can be established in the cases of impatient customers , more general cost structures as well as more general network structures .",
    "as suggested by the preceding analysis , the viability of these extensions and others will depend on whether it is possible to ( a ) solve the sequence of brownian control problems and establish the necessary gradient estimates and ( b ) establish the corresponding approximation result for the nonpreemptive tracking control .    while we expect that the results of @xcite on fully nonlinear elliptic pdes can be invoked for the more general settings , extending our analysis which builds on those results may not be always straightforward .",
    "in particular , it is not immediately obvious how to generalize the proof of the tracking result in theorem [ thmssc ] to more general settings .",
    "nevertheless , we can make some observations about the extensions mentioned above :    * _ general convex costs .",
    "_ as discussed in the , the analysis of the convex holding cost case will probably be simpler as one tends to get `` interior '' solutions in that case as opposed to the corner solutions in the linear cost case , which causes nonsmoothness .",
    "we expect that the enhanced smoothness ( relative to the linear holding cost case ) will simplify the analysis of the hjb equations as well as that of the tracking performance .",
    "* _ abandonment . _",
    "our starting point in the analysis is that , among preemptive policies , work conserving policies are optimal .",
    "this is not , in general , true when customers are impatient and may abandon while waiting ( see the discussion in section 5.1 of @xcite ) .",
    "as is the case in @xcite , our analysis will go through also for the case of impatient customers provided that the cost structure is such that work conservation is optimal among preemptive policies . *",
    "_ general networks . _",
    "inspired by the generalization of @xcite , by atar @xcite , to tree - like networks , we expect , for example , that such a generalization is viable in our setting as well .",
    "indeed , we expect that the analysis of the ( sequence of ) hjb equations and the sequence of adcps be fairly similar for the tree - like network setting .",
    "we expect that , in that more general setting , it would be more complicated to bound the performance of the tracking policies as in theorem  [ thmssc ] .    [ app ]",
    "up to @xmath469 , both functions @xmath470 and @xmath471 are bounded and lipschitz continuous ( uniformly in @xmath210 ) . with these conditions",
    "satisfied , strong existence and uniqueness follow as in appendix d of @xcite .",
    "specifically , strong existence follows by successive approximations as in the proof of theorem  2.9 of @xcite and uniqueness follows as in theorem 2.5 there .",
    "fix @xmath135 , @xmath149 and @xmath259 .",
    "recall that ( [ eqhjb2 ] ) corresponds to finding @xmath472 such that @xmath473,\\qquad x\\in{\\mathcal{b}},\\ ] ] and so that @xmath271 on @xmath217 where is as defined in ( [ eqfform ] ) .",
    "then , proposition  [ propsolphjb ] will follow from theorem 17.18 in @xcite upon verifying certain conditions .",
    "the gradient estimates will also follow from @xcite by carefully tracing some constants to identify their dependence on @xmath474 and @xmath255 .    to that end , note that the function @xmath475 [ as defined in ( [ eqfdefin ] ) ] is linear in the @xmath314 arguments for all @xmath476 and @xmath310 . in turn , this function is concave in these arguments .",
    "hence , to apply theorem 17.18 of @xcite it remains to establish that condition ( 17.53 ) of @xcite is satisfied for each of these functions . in the following",
    "we suppress the constant @xmath259 from the notation .",
    "it suffices to show that there exist constants @xmath477 and @xmath478 such that uniformly in @xmath266 , @xmath267 , and @xmath479 @xmath480 \\xi_i\\xi _ j\\leq\\bar{\\lambda } |\\xi|^2,&\\\\ \\label{eqfcond2 } & \\displaystyle \\max\\ {    \\leq\\eta{\\underaccent{\\bar}}{\\lambda } , & \\\\",
    "\\label{eqfcond3 } & \\displaystyle \\max\\ { |f^k_x[y]|,|f^k_{xx}[y]|\\}\\leq\\eta{\\underaccent{\\bar}}{\\lambda}(1+|p|+|r|),&\\end{aligned}\\ ] ] where @xmath481 and @xmath482 the other cross - derivatives are defined similarly .",
    "we will show that we can choose @xmath483 , @xmath484 , @xmath485 for constants @xmath486 and @xmath487 that do not depend on @xmath1 and @xmath255this will be important in establishing the aforementioned gradient estimates . to establish ( [ eqfcond1 ] ) note that , given @xmath479 , @xmath488 hence , @xmath489    consequently , for @xmath490 we have that @xmath491 where @xmath492 .",
    "in particular , we can choose @xmath493 so that for all @xmath191 , @xmath494 to obtain the lower bound note that , for @xmath264 , @xmath495 hence , we can find @xmath496 such that for all n , @xmath497 note that above @xmath498 and @xmath499 can depend on @xmath258 but they do not depend on @xmath1 and @xmath255 .",
    "hence , we have established ( [ eqfcond1 ] ) and we turn to ( [ eqfcond2 ] ) . to that end , note that @xmath500\\\\[-9pt ] f_{p_i}^k(x , z , p , r)&=&l_i{^n}-\\mu_ix_i \\qquad\\mbox{for } i\\neq k.\\nonumber\\vspace*{-2pt}\\end{aligned}\\ ] ] therefore , @xmath501 & \\leq & i\\kappa\\sqrt{n}\\log^mn+1+i\\max_{i}\\bigl(|l_i{^n}|+\\mu_i\\kappa\\sqrt { n}\\log^m n\\bigr),\\vspace*{-2pt}\\vadjust{\\goodbreak}\\end{aligned}\\ ] ] where we used the simple observation that @xmath502 .",
    "clearly , we can choose @xmath487 so that @xmath503 .",
    "also @xmath504 and so that by re - choosing @xmath487 large enough we have @xmath505|,|f^k_{zx}[y]|\\}\\leq\\varepsilon_2\\varepsilon _ 0\\sqrt{n}\\log n$ ] .",
    "finally , by ( [ eqfijderiv ] ) we have that @xmath506 thus , @xmath507 where we used the fact that @xmath508 is continuously differentiable with lipschitz constant @xmath184 ( independently of @xmath255 ) .",
    "finally , @xmath509 so that @xmath510 also , note that @xmath511 so that @xmath512 , & \\quad if $ |e\\cdot x|\\leq\\frac{1}{4}$,\\vspace*{2pt}\\cr 0 , & \\quad otherwise . } \\ ] ] combining the above gives @xmath513 for suitably redefined @xmath487 which concludes the proof that the conditions ( [ eqfcond1])([eqfcond3 ] ) hold with @xmath514 , @xmath515 and @xmath485 .",
    "having verified these conditions , the existence and uniqueness of the solution @xmath516 to ( [ eqhjb2 ] ) now follows from theorem  17.18 in @xcite .    to obtain the gradient estimates in ( [ eqgradients ] )",
    "we first outline how the solution  @xmath517 is obtained in @xcite as a limit of solutions to smoothed equations ( we refer the reader to  @xcite , page 466 , for the more elaborate description ) . to that end , let @xmath518 be as defined in ( [ eqfdefin ] ) and for @xmath264 define @xmath519=g_{h}(f^1_a[y],\\ldots , f^i_a[y]),\\ ] ] where @xmath520 and @xmath521 and @xmath522 is a mollifier on @xmath523 ( see @xcite , page 466 ) .",
    "@xmath524 satisfies all the bounds in ( [ eqfcond1])([eqfcond3 ] ) uniformly in @xmath59 ; cf .",
    "@xcite , page 466 .",
    "then , there exists a unique solution @xmath525 for the equations @xmath526=0\\ ] ] on @xmath171 with @xmath527 on @xmath248 .    the solution @xmath516 is now obtained as a limit of @xmath528 in the space @xmath529 as defined in ( [ eqcstar ] ) .",
    "moreover , since the gradient bounds are shown in @xcite to be independent of @xmath59 , it suffices for our purposes to fix @xmath59 and focus on the construction of the gradient bounds .",
    "our starting point is the bound at the bottom of page 461 of @xcite by which @xmath530 where @xmath531_{j,{\\mathcal{b}}}^*$ ] and @xmath532_{j,{\\mathcal{b}}}^ * , j=0,1,2 $ ] , are as defined in section  [ secadcp ] .",
    "the constant @xmath533 depends only on the number of classes @xmath47 and on @xmath534 ( see  @xcite , top of page 461 ) and this fraction equals , in our context , to @xmath535 and is thus constant and independent of @xmath1 and @xmath255 .    we will address the constant @xmath536 shortly .",
    "we first argue how one proceeds from ( [ eqonemoreinterim ] ) .",
    "fix @xmath537 , let @xmath538 and @xmath539 ( see @xcite , top of page 132 ) . then , applying an interpolation inequality ( see  @xcite , bottom of page 461 and lemma 6.32 on page 130 ) , it is obtained that @xmath540 plugging this back into ( [ eqonemoreinterim ] ) one then has @xmath541 for a constant @xmath542 that depends only on @xmath312 and @xmath213 . in turn , @xmath543 for a constant @xmath542 that does not depend on @xmath255 or @xmath1 .",
    "hence , to obtain the required bound in ( [ eqgradients ] ) it remains only tobound  @xmath536 .",
    "following @xcite , building on equation ( 17.51 ) of @xcite , @xmath536 is the ( minimal ) constant that satisfies @xmath544 where ( as stated in @xcite , bottom of page 460 ) the ( redefined ) constant @xmath190 depends only on the number of class @xmath47 and on @xmath545 .",
    "the constants  @xmath546 and  @xmath547 are defined in @xcite and we will explicitly define them shortly . here",
    "one should not confuse @xmath547 with the average service rate in our system . in",
    "what follows @xmath547 will only be used as the constant in @xcite .",
    "we now bound constants  @xmath546 and  @xmath547 .",
    "these are defined by @xmath548 where @xmath549 is a constant that depends only on the number of classes @xmath47 , @xmath550 is arbitrary and fixed ( independent of @xmath1 and @xmath255 ) and @xmath551 .",
    "the constants @xmath547 , @xmath546 and @xmath552 are defined in @xcite , pages 456460 , and @xmath553 and  @xmath554 are as on page 461 there .",
    "we note that @xmath555 is a constant , @xmath556 is bounded by @xmath557 for some constant @xmath542 [ see ( [ eqgradients ] ) ] that depends only on @xmath258 and , by ( [ eqfx ] ) , @xmath558 . in turn ,",
    "@xmath559 . arguing similarly for @xmath553 and @xmath554 we find that there exists a constant @xmath542 ( that does not depend on @xmath1 and @xmath255 ) such that @xmath560 which in turn implies the existence of a redefined constant @xmath542 such that @xmath561 and @xmath562 the proof of the bound is concluded by plugging these back into ( [ eqcandefin ] ) and setting @xmath563 there to get that @xmath564 for some @xmath190 that does not depend on @xmath255 and @xmath1 .",
    "the constant @xmath565 on the right - hand side of ( [ eqgradients ] ) ( which can depend on @xmath1 but does not depend on @xmath255 ) is argued as in the proof of theorem 17.17 in  @xcite and we conclude the proof by noting that the global lipschitz constant ( that we allow to depend on  @xmath1 ) follows from theorem 7.2 in @xcite .",
    "we next turn to proof of theorem [ thmssc ] .",
    "first , we will explicitly construct the queueing process under the @xmath59-tracking policy and state a lemma that will be of use in the proof of the theorem .",
    "define @xmath566 so that  @xmath567 is the arrival process of class-@xmath7 customers .",
    "given a ratio control @xmath73 and the associated queueing process @xmath568 , @xmath569 is as defined in  ( [ eqwtildedefin ] ) .",
    "also , we define @xmath570 that is , @xmath571 is the total number of service completions by time @xmath30 in the @xmath1th system .",
    "for the construction of the queueing process under the tracking policy we define a family of processes @xmath572 as follows : let @xmath573 be a family of i.i.d uniform @xmath574 $ ] random variables independent of @xmath79 as defined in  ( [ eqcheckfdefin ] ) . for each @xmath575 ,",
    "define the processes @xmath576 by @xmath577    we note that for any strict subset @xmath578 and @xmath579 , the probability that a jump of @xmath571 results in a jump of @xmath580 is equal to @xmath581 and is strictly greater than @xmath582 . we define @xmath583 and",
    "note that @xmath584 by our assumption that @xmath12 for all @xmath13 ( see section  [ secmodel ] ) .",
    "let @xmath585 .",
    "note that at time intervals in which @xmath586 ( see definition [ defintracking ] ) for some @xmath587 , the process @xmath588 jumps with probability @xmath589 whenever a server becomes available ( i.e. , upon a jump of @xmath590 ) . in turn",
    ", we will use the processes @xmath591 to generate ( randomized ) admissions to service of class-@xmath7 customers under the @xmath59-tracking policy .",
    "if a server becomes available at time @xmath30 ( corresponding to a jump of  @xmath590 ) and @xmath30 is such that @xmath593 , then a customer from the class-@xmath7 queue is admitted to service at time @xmath30 with probability @xmath589 .",
    "this admission to service corresponds to a jump of the process @xmath588 as defined in ( [ eqmadefin ] ) .",
    "the second , third and fourth terms on the right - hand side of the equation for @xmath48 correspond , respectively , to the events described by items ( i)(iii ) above .",
    "finally , @xmath597 is defined from @xmath598 as in ( [ eqtildexdefin ] ) .",
    "the fact that the above system of equations has a unique solution is proved by induction on arrival and service completions times ( see , e.g. , the proof of theorem 9.2 of @xcite ) .",
    "clearly , @xmath90 satisfies ( [ eqdynamics2])([eqnon - negativity2 ] ) with @xmath599 there constructed from @xmath600 using  ( [ equqmap ] ) .",
    "we note that , with this construction , the tracking policy is admissible in the sense of definition [ definadmissiblecontrols ] .",
    "also , it will be useful for the proof of theorem  [ thmssc ] to note that with this construction , if @xmath601 $ ] is an interval such that for all @xmath602 $ ] then @xmath603      [ lemstrongappbounds ] fix @xmath604 and a ratio control @xmath73 , let @xmath605 be the associated queueing process and define @xmath606 then , there exist constants @xmath607 ( that depend on @xmath399 and @xmath258 but that do not depend on @xmath1 or on the ratio control @xmath73 ) such that for all @xmath608 and all @xmath1 large enough , @xmath609\\\\[-8pt ] & & \\qquad\\leq c_1e^{-c_2k\\log n},\\nonumber\\\\ \\label{eqstrapp2 } & & { \\mathbb{p}}\\bigl\\{|\\check{x}^n(t)-\\check{x}^n(s)| > \\bigl((t - s)+(t - s)^2 \\bigr)k\\sqrt{n}\\log n+k\\log n , \\nonumber\\\\ & & \\hspace*{163pt } \\mbox { for some } s < t\\leq2t\\log n\\bigr\\}\\\\ & & \\qquad\\leq c_1 e^{-c_2k\\log n},\\nonumber\\end{aligned}\\ ] ] @xmath610    equation ( [ eqstrapp1 ] ) follows from strong approximations ( see , e.g. , lemma  2.2 . in @xcite ) and known bounds on the supremum of brownian motion ( see , e.g. , equation 2.1.53 in @xcite )",
    ". equation ( [ eqstrapp2 ] ) then follows using this bound together with ( 52 ) in @xcite but with @xmath611 instead of @xmath612 ( in the notation of @xcite @xmath569 is @xmath613 ) .",
    "equations ( [ eqstrapp3])([eqstrapp5 ] ) follow by carefully constructing and bounding the increments .",
    "we outline the proof of ( [ eqstrapp3 ] ) and the others follow similarly . to that end , note that given @xmath614 and for all @xmath1 large enough @xmath615 where @xmath616 and @xmath617 . indeed , given an interval @xmath618",
    "we can construct it from smaller intervals . starting with @xmath619",
    ", we fit as many intervals of size @xmath184 into @xmath618 , we then continue to fit as many intervals of size @xmath620 to the uncovered part of the interval and continue sequentially in @xmath305 .",
    "we omit the simple and detailed construction .",
    "note that with such construction , given an interval @xmath618 , its covering uses at most @xmath621 intervals of size @xmath622 for each @xmath623 . also , note that @xmath624 for all @xmath1 and some constant @xmath190 . from here , using strong approximations ( or bounds for poisson random variables as in @xcite ) we have , for each @xmath221 and @xmath305 , that @xmath625 since the number of intervals considered is of the order of @xmath626 , the bound follows with redefined constants @xmath627 and @xmath628 .      since @xmath258 is fixed throughout we use @xmath629 .",
    "as in the statement of the theorem , let @xmath630 so that by the definition of @xmath631 we have @xmath632 defining , as before , @xmath633 we have that @xmath634 let @xmath73 be the ratio control associated with the @xmath407-tracking policy , let @xmath568 be the associated queueing process and define @xmath635 recall that , by construction , @xmath636 so that ( [ eqpsicheckdefin ] ) can be re - written as @xmath637 the theorem will be proved if we show that @xmath638\\leq c\\log^{k_0 + 3}n.\\ ] ] to that end , define a sequence of times @xmath639 as follows : @xmath640 where @xmath641 and @xmath642 for @xmath643 with @xmath644 as in ( [ eqepsilondefin ] ) . finally , we define @xmath645 and set @xmath646 .",
    "we then have @xmath647 the proof is now divided into three parts .",
    "we will show that , under the conditions of the theorem , @xmath648&\\leq & c\\log^{k_0 + 2}n , \\\\",
    "\\label{eqssc2 } { \\mathbb{e}}\\bigl[\\sup_{1\\leq l\\leq r^n+1}\\sup_{(\\tau _",
    "{ l-1}^n+\\eta ^n)\\leq s <",
    "\\tau_{l}\\vee(\\tau_{l-1}^n+\\eta^n ) }    we define @xmath649 .",
    "finally , we will show that @xmath650\\leq c\\log^{k_0}n.\\ ] ] the proof of ( [ eqssc1 ] ) hinges on the fact that , sufficiently close to a change point  @xmath651 , all the customer classes , @xmath7 , for which @xmath652 for some @xmath653 in a  neighborhood of @xmath651 , will have similar values of @xmath654 .",
    "this will follow from our gradient estimates for @xmath319 .",
    "the proof of ( [ eqssc2 ] ) hinges on the fact that ,  @xmath655 time units after a change point @xmath651 the queues of all the classes for which @xmath656 are small because , under the tracking policy , these classes receive a significant share of the capacity .    toward formalizing this intuition ,",
    "define the following event on the underlying probability space : @xmath657 & & \\hspace*{135.3pt } \\mbox { for all } s < t\\leq\\tau_{\\kappa , t}^n\\bigr\\}\\\\[-0.8pt ] & & { } \\cap_{{\\mathcal{h}}\\subset{\\mathcal{i } } } \\biggl\\{\\mathcal{a}_{i,{\\mathcal{h}}}^n(t)-\\mathcal{a}_{i,{\\mathcal{h}}}^n(s)-\\lambda_i^n(t - s)\\geq\\frac{\\epsilon _ i } { 2 } n(t - s)-k\\log n \\\\[-0.8pt ] & & \\hspace*{183.5pt}\\hspace*{12.1pt } \\mbox{for all } s < t\\leq\\tau _ { \\kappa , t}^n\\biggr\\}\\\\[-0.8pt ] & & { } \\cap_{i\\in{\\mathcal{i } } } \\ {    } n(t - s)+k\\log n \\\\[-0.8pt ] & & \\hspace*{171.7pt}\\mbox{for all } s < t\\leq\\tau _ { \\kappa , t}^n\\}.\\end{aligned}\\ ] ] for each @xmath658 and @xmath13 let @xmath659 and @xmath660 then , we claim that on @xmath661 and for all @xmath30 with @xmath662 , @xmath663\\\\[-8pt ] & & \\qquad\\leq12k\\log n.\\nonumber\\end{aligned}\\ ] ] note that since @xmath664 , the above is equivalently written as @xmath665 in words , when the process @xmath666 enters a region in which @xmath667 the queue of class @xmath7 will be drained up to @xmath668 within at most @xmath655 time units and it will remain there up to @xmath669 .",
    "we postpone the proof of ( [ eqsscinterim ] ) and use it in proceeding with the proof of the theorem .    to that end , fix @xmath623 and let @xmath670 then , by the definition of the function @xmath407 in ( [ eqixdefin ] ) we have that @xmath671 and @xmath672 for all @xmath673 .",
    "in particular , @xmath674 for all @xmath675 .",
    "let @xmath676 then , simple manipulations yield @xmath677 we turn to bound each of the elements on the right - hand side of ( [ eqcheckpsiinterim ] ) . first , note that for all @xmath678 it follows from ( [ eqsscinterim2 ] ) that @xmath679 also , by ( [ eqgradients1 ] ) we have for all @xmath13 that @xmath680 so that @xmath681 for all @xmath682 and a constant @xmath190 that does not depend on @xmath1 . from ( [ eqsscinterim2 ] ) and from the fact that @xmath683 we similarly have that @xmath684 to bound the last element on the right - hand side of ( [ eqcheckpsiinterim ] ) note that for each @xmath685 there exists @xmath686 such that @xmath687 . otherwise , we would have a contradiction to ( [ eqsscinterim ] ) .",
    "we now claim that for each , @xmath688 for all @xmath653 in @xmath689 $ ] . indeed , by the definition of @xmath690 , we have that @xmath691 for all @xmath692 in @xmath693 $ ] . as in the proof of ( [ eqgenbound ] )",
    "[ see , e.g. , ( [ eqmbound ] ) ] we have that latexmath:[\\[\\label{eqmbound2 }    for @xmath465 with @xmath695 . in turn , @xmath696 for all @xmath13 and all @xmath697 $ ] where we used the fact that .",
    "since , for each @xmath698 , there exists @xmath699 such that @xmath700 we have , by the definition of @xmath407 that @xmath701 for such @xmath30 so that ( [ eqinterim747 ] ) now follows from ( [ eqmbound3 ] ) . finally , recall that@xmath702 for all @xmath703 and that @xmath704 so that by  ( [ eqinterim747 ] ) @xmath705 plugging this into ( [ eqcheckpsiinterim ] ) together with ( [ eqitai1 ] ) and ( [ eqitai2 ] ) we then have that , on @xmath690 , @xmath706 this argument is repeated for each @xmath305 . to complete the proof of ( [ eqssc1 ] ) note that , using ( [ eqmboun4 ] ) together with @xmath707 , we have that @xmath708 . applying hlder s inequality we have that @xmath709\\\\ & & \\qquad\\leq { \\mathbb{e}}\\bigl[\\sup_{1\\leq l\\leq r^n+1}\\sup_{\\tau_{l-1}^n\\leq s < ( \\tau _ { l-1}^n+\\eta^n)}|\\check{\\psi}^n(s)|1\\{\\tilde{\\omega}(k)\\ } \\bigr]\\\\ & & \\qquad\\quad{}+ { \\mathbb{e}}\\bigl[\\max_{1\\leq",
    "l\\leq r^n+1}\\sup_{\\tau_{l-1}^n\\leq s < ( \\tau _ { l-1}^n+\\eta^n)}|\\check{\\psi}^n(s)|1\\{\\tilde{\\omega}(k)^c\\ } \\bigr]\\\\ & & \\qquad\\leq c\\log^{k_0 + 2 } n + c\\sqrt{n}\\log^{k_1+m}n c_1e^{-(c_2 { k}/{2})\\log n}\\end{aligned}\\ ] ] for redefined constants @xmath710 and ( [ eqssc1 ] ) now follows by choosing @xmath614 large enough .",
    "we turn to prove ( [ eqssc2 ] ) . rearranging terms in ( [ eqpsicheckdefin ] )",
    "we write @xmath711 so that equation ( [ eqssc2 ] ) now follows directly from ( [ eqsscinterim ] ) and ( [ eqmboun4 ] ) through an application of hlder s inequality . finally , to establish ( [ eqssc3 ] ) , note that from the definition of @xmath712 , @xmath713 in turn , @xmath714\\leq c\\log^{k_1+m}n = c\\log^{k_0}n.\\ ] ]    we have thus proved ( [ eqssc1])([eqssc3 ] ) and to conclude the proof of the theorem it remains only to establish ( [ eqsscinterim ] ) . to that end , let @xmath715 , @xmath716 and @xmath717 be as in  ( [ eqchecktaudefin])([eqydefin ] ) .",
    "fix an interval @xmath718 such that @xmath719 for all @xmath720 . by the definition of the tracking policy , ( [ eqqtrack ] ) holds on this interval so that , on @xmath721 , @xmath722\\\\[-8pt ] & \\leq & -\\frac{\\epsilon_i}{4}n(t - s)+2k\\log n.\\nonumber\\end{aligned}\\ ] ] equation ( [ eqsscinterim ] ) now follows directly from ( [ equntilwhen3 ] ) .",
    "indeed , note for all @xmath723 , @xmath724 .",
    "hence , @xmath725 . in turn , using ( [ equntilwhen3 ] ) and assuming that @xmath726 we have that @xmath727 for some time @xmath728 with @xmath655 as defined in ( [ eqetandefin ] ) . also , let @xmath729 and @xmath730 note that ( [ equntilwhen3 ] ) applies to any subinterval @xmath731 of @xmath732 . in turn",
    ", @xmath733 would constitute a contradiction to ( [ equntilwhen3 ] ) so that we must have that @xmath734 for all @xmath735 with @xmath736 . finally , note that @xmath737 can be taken to be @xmath30 if @xmath738 .",
    "let @xmath399 , @xmath712 and @xmath403 be as in the statement of the lemma .",
    "we first prove ( [ eqafterstop2 ] ) . to that end , we claim that , for all @xmath399 large enough , @xmath739\\leq c\\log^2n\\ ] ] for some @xmath233 and all @xmath191 .",
    "this is a direct consequence of lemma 3 in  @xcite that , in our notation , guarantees that @xmath740\\leq c\\bigl(1+|x^n|+ \\sqrt{n}(t+t^2)\\bigr)\\ ] ] for all @xmath741 and some constant @xmath233 .",
    "we use ( [ eqthisisjustonemore ] ) to prove lemma [ lemafterstop ] .",
    "the assertion of the lemma will be established by showing that @xmath742\\leq c\\log^2n.\\ ] ] to that end , applying hlder s inequality , we have @xmath743\\nonumber\\\\ & & \\qquad\\leq{\\mathbb{e}}_{x^n , q^n}\\bigl[(2t\\log n-\\tau_{\\kappa',t}^n)^+\\sup_{0\\leq t\\leq2t\\log n}(e\\cdot c)\\bigl(e\\cdot \\check{x}^n(t)\\bigr)^+\\,ds\\bigr]\\nonumber\\\\[-8pt]\\\\[-8pt ] & & \\qquad\\leq \\sqrt{{\\mathbb{e}}_{x^n , q^n}\\bigl[\\bigl((2t\\log n-\\tau_{\\kappa ' , t}^n)^+\\bigr)^2\\bigr]}\\nonumber\\\\ & & \\qquad\\quad{}\\times\\sqrt { { \\mathbb{e}}_{x^n , q^n}\\bigl[\\bigl(\\sup_{0\\leq t\\leq2t\\log n}(e\\cdot c)\\bigl(e\\cdot\\check{x}^n(t)\\bigr)^+\\,ds\\bigr)^2\\bigr]}.\\nonumber\\end{aligned}\\ ] ]    using lemma [ lemstrongappbounds ] we have that @xmath744\\leq cn\\log^6n\\ ] ] for some @xmath233 ( that can depend on @xmath399 ) . also , since @xmath136 , @xmath745 choosing @xmath400 ( and in turn @xmath258 large enough ) we then have , using lemma [ lemstrongappbounds ] , that @xmath746 and hence , that @xmath747\\leq c.\\ ] ] plugging ( [ eqinterim9 ] ) and ( [ eqinterim10 ] ) into ( [ eqinterim8 ] ) we then have that @xmath748\\leq c\\log ^2 n.\\ ] ]    to conclude the proof we will show that ( [ eqafterstop1 ] ) follows from our analysis thus far .",
    "indeed , @xmath749\\\\ & & \\qquad\\leq { \\mathbb{e}}_{x^n , q^n}^{u}\\biggl[\\int_{\\tau_{\\kappa',t}^n}^{2t\\log n}e^{-\\gamma s } \\sup_{0\\leq s\\leq2t\\log n}(e\\cdot c)\\bigl(e\\cdot\\check { x}^n(s)\\bigr)^+ \\,ds\\biggr].\\end{aligned}\\ ] ] the right - hand side here is bounded by @xmath750 by the same argument that leads to ( [ eqafterstopbound1 ] ) .",
    "recall that @xmath569 is defined by @xmath751 , where @xmath752 the fact that each of the processes @xmath753 and @xmath754 are square integrable martingales with respect to the filtration @xmath755 follows as in section 3 of @xcite and specifically as in lemma 3.2 there .",
    "since , with probability 1 , there are no simultaneous jumps of @xmath756 and @xmath757 , the quadratic variation process satisfies @xmath758_t&=&[m_{i,1}^n]_t+[m_{i,2}^n]_t\\\\ & = & \\sum_{s\\leq t}(\\delta m_{i,1}^n(s))^2+\\sum_{s\\leq t}(\\delta m_{i,2}^n(s))^2,\\end{aligned}\\ ] ] where the last equality follows again from lemma 3.1 in @xcite ( see also example  5.65 in @xcite ) .",
    "finally , the predictable quadratic variation process satisfies @xmath759 where the second equality follow again follows from lemma 3.1 in @xcite and the last equality from the definition of @xmath395 [ see ( [ eqnbmdefn3 ] ) ] . by theorem 3.2 in  @xcite @xmath760_t , t\\geq0])$ ] and @xmath760_t , t\\geq0)$ ] are both martingales with respect to @xmath755 . in turn , by the optional stopping theorem so are the processes @xmath761 and @xmath447 as defined in the statement of the lemma .",
    "finally , it is easy to verify that these are square integrable martingales using the fact the time changes are bounded for all finite @xmath30 ."
  ],
  "abstract_text": [
    "<S> we consider optimal control of a multi - class queue in the halfin  </S>",
    "<S> whitt regime , and revisit the notion of asymptotic optimality and the associated optimality gaps . </S>",
    "<S> the existing results in the literature for such systems provide asymptotically optimal controls with optimality gaps of @xmath0 where @xmath1 is the system size , for example , the number of servers . </S>",
    "<S> we construct a sequence of asymptotically optimal controls where the optimality gap grows logarithmically with the system size . </S>",
    "<S> our analysis relies on a sequence of brownian control problems , whose refined structure helps us achieve the improved optimality gaps .    and    .    </S>"
  ]
}