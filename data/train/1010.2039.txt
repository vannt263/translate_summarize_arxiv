{
  "article_text": [
    "the all - silicon inner tracker of the cms detector at cern consists of 15148 silicon strip and 1440 silicon pixel modules in a barrel - and - endacp configuration@xcite .",
    "its main purpose is to determine track parameters of charged particles produced in proton - proton and heavy ion collisions .",
    "the parameters to be delivered per track are the charge - signed curvature @xmath0 ( i.e. inverse transverse momentum ) , the impact parameters in the transverse plane and along the beam axis , @xmath1 , @xmath2 respectively , and the polar angles @xmath3 and @xmath4 .",
    "the intrinsic hit resoultions of the detector modules are of the order of a few tens of microns , depending on module type and location . in order to determine the track parameters with high precision , the positions of the sensor modules need to be known better than their resolution .",
    "alignment using large amounts of track data ( typically several millions ) is one approach to fulfill this requirement .",
    "the use of tracks to align a tracking detector is possible under the assumption , that tracks may be described using a limited and sufficient number of parameters in an appropriate way to predict their paths .",
    "misalignment leads to a systematic distortion of the measurements per module which can be determined using sufficiently large number of tracks and their hit signals .    in cms ,",
    "the alignment software consists of two independent algorithms , tools for the study of random and systematic misalignments and an extensive collection of tools to monitor and visualize the performance and geometry of the detector .",
    "they use track data from collision or cosmic ray muons , both as simulated and real data .",
    "track - based alignment relies on a suitable description of the track and its propagation through matter , as defined by the chosen detector geometry .",
    "it can be formulated as a _ linear least squares problem _ where the following expression needs to be minimized :    @xmath5    where @xmath6 is the residual vector containing all residuals from the tracks used and their hits , defined as @xmath7 the residuals are a function of @xmath8 , the vector containing all alignment parameters describing the actual geometry and @xmath9 , the track parameters of the @xmath10 track .",
    "@xmath11 is the inverse covariance matrix containing all information on the measurement precision and their correlations .",
    "position and orientation of the detector modules contribute 6 or 5 degrees of freedom for silicon pixel and strip detectors , respectively .",
    "this defines the size of a subvector of @xmath8 describing one sensor .    using a sufficiently large sample of tracks , equation and",
    "its summands follow a @xmath12 distribution for a corresponding _ number of degrees of freedom _ ( ndof ) , obeying @xmath13    in the case of a detector of the size as in cms , alignment algorithms need to reduce their complexity while preserving their focus on solving the problem for two resons : 1 ) the total number of parameters @xmath8 and @xmath14 gets large . aligning 16000 modules for position and angle leads to about 60000 parameters in @xmath8 . the developments described in this paper will increase this number .",
    "2 ) the results should be delivered within a reasonable time - frame .",
    "the two approaches in cms to manage this are as follows :    [ [ local - algorithm ] ] local algorithm + + + + + + + + + + + + + + +    this algorithm reduces the workload by aligning the modules independently ignoring correlations at first glance .",
    "each module is forced to the position predicted by the track hits from the other ( unaligned ) modules .",
    "intrinsically , it uses the track parametrization and propagation from the cms tracking , which takes all necessary effects of the magnetic field and material interactions into account .",
    "this approach recovers correlations between modules by iterating over the same event sample several times . at each iteration",
    "the tracks are refitted using the alignment corrections obtained in the previous iteration .",
    "eventually the procedure yields converged alignment constants .",
    "this algorithm is known as the _ _ hip - algorithm__@xcite .",
    "[ [ global - algorithm ] ] global algorithm + + + + + + + + + + + + + + + +    this approach reduces the complexity by the observation that it is sufficient to solve for the module parameters @xmath8 alone .",
    "this can be achieved by requiring independent measurments and the use of block - matrix theorems .",
    "this is implemented in the _ millepede - ii _",
    "alignment algorithm@xcite . as this presentation focuses on some recent results produced using this algorithm , a more detailled description follows now .      to accommodate for nonlinearities introduced by the track parametrization ( @xmath14 ) and by the module parameters ( @xmath8 ) , equation needs to be linearized :    @xmath15    where @xmath16 is the hit position predicted by the track model from track reconstruction and @xmath17 is the measured hit position .",
    "assuming uncorrelated measurements allows to replace the inverse covariance matrix by @xmath18 with @xmath19  the gaussian error of the measured hit position .",
    "the track model used in cms is the klmn filter description including proper description of material effects@xcite and the propagation in the magnetic field@xcite . by design",
    ", it is a sequential fit and can not produce the covariance matrix for all track parameters . in principle , it is possible to gain this information for all tracks a posteriori , but the _ broken lines _ approach as described in @xcite can be implemented more efficient and is equivalent to the klmn approach .",
    "a brief description follows : a charged particle traversing material experiences _ multiple scattering _ , mainly due to coulomb interaction with the electrons in the atoms , resulting in a spatial shift and a change of the particle direction after leaving the material compared to propagation in vacuum .",
    "the mean of the deflection angle due to this effect is @xmath20 .",
    "the distribution of the deflection angles can be approximated within certain limits as a gaussian standard deviation @xmath21 by the following formula@xcite : @xmath22\\ ] ] where @xmath23 ( here @xmath24 as rel .",
    "velocity factor ) is the velocity of the particle , @xmath25 its momentum and @xmath26 the charge .",
    "@xmath27 is the thickness of the traversed medium in units of radiation lengths .",
    "equation takes into account all material traversed by the particle for the full trajectory .",
    "care has to be taken during propagation , as simple summing up contributions of subpaths leads to too large estimates of @xmath21 by the @xmath28-term in the bracket ( details in reference ) .",
    "it is standard procedure to treat a `` thick '' scatterer ( material with a finite thickness ) as two infinitely `` thin '' scatterers with same mean and sigma spaced by @xmath29 of the length of the `` thick '' scatterer . in a tracking detector as in cms ,",
    "most of the material is concentrated at layers coinciding with the detector modules .",
    "they consist of matter in which the sensor interaction takes place and of non - sensing matter like support structures , cabling and cooling pipes .",
    "so the two `` thin '' scatterers coincide in the detector planes .    to determine the momentum of the charged particles tracks , a strong and sufficiently homogeneous magnetic field of @xmath30 t is present in the tracker .",
    "this can be taken into account by adjusting the expectation value of the scattering angle of a propagated particle @xmath31 ( = 0 without b - field ) to the value defined by the accumulated lorentz force while propagating through the field .",
    "taking all this into account , the sum over all hits of one track in becomes @xmath32 where @xmath33 is a vector of additional parameters of the track at every scatterer to account for the deflection angles .",
    "@xmath0 is the charge - signed curvature , @xmath34 describe the hit position in some local frame of the sensor and the projection matrix @xmath35 translates between the track frame and the local frame .",
    "the sums run over @xmath36 recorded hits and @xmath37 scatterers along one track , normally @xmath38 as the detector is neither fully hermetic nor efficient .    solving for the minimum of eq .",
    "leads to a bordered band matrix : one @xmath33 depends on the hit and its neighbours only , leading to a band matrix structure of band width @xmath39 .",
    "the border @xmath40 in the matrix comes from @xmath0 , which is connected to every hit along a track .",
    "this structure allows for fast solution and determination of the covariance matrix using root - free cholesky decomposition with a numeric complexity of @xmath41 , compared to @xmath42 for inversion .",
    "this is needed for the refit internal to millepede for single tracks .",
    "all this leads to a track description equivalent to the klmn filter model , as shown in @xcite .",
    "it has the advantage , that the inverse covariance matrix for one track is a bordered band matrix , which can be inverted by root - free cholesky decomposition , a faster approach than inversion .",
    "millepede - ii uses an internal track refit as part of its procedure .",
    "careful studies of its results as a function of track parameters have been carried out .",
    "deviations were found while investigating tracks from cosmic ray muons . a strong dependence of the @xmath43 on the distance of closest approach @xmath44 to the beamline ( corresponding to track parameter @xmath1 ) was found .",
    "this can be seen in figure [ fig : plotchi2vsd0 ] , curve for _ flat module_. several hypotheses for the source of this effect have been analyzed .",
    "it is an intrinsic property of cosmic rays to have @xmath45 in general , which translates to a large incident angle on rectangular modules in the barrel - shaped part of the detector .",
    "for example , whenever @xmath46 is slightly smaller than the radius of a barrel layer , the track angle becomes especially large , making the hit position highly sensitive to deviations from an ideal flat rectangle . in the endcap parts of the detector , the incident angle of the cosmic ray muons is always large , independent of @xmath46 .",
    "[ fig : plotresid ]    to take deviations from a flat surface into account , the surface has been expanded in terms of two - dimensional legendre polynomials : @xmath47 where @xmath48 is the deviation from a plane at the origin of a right - handed local cartesian coordinate system @xmath49 in @xmath50 direction as function of @xmath51 .",
    "@xmath52 is the maximal order of the legendre polynomials . for @xmath53",
    "every possible surface may be described .",
    "@xmath54 are the orthogonal coefficients and @xmath55 the legendre polynomial of @xmath56-th order .",
    "@xmath57 corresponds to the flat module assumption as used prior to this extension ( except for translations in @xmath58,@xmath59 and rotations around @xmath50 , which are not covered by and need the same treatment as before ) .",
    "@xmath60 introduces three additional parameters per module : @xmath61 and @xmath62 .",
    "the first and last can be translated by choosing a proper normalization to sagittae .",
    "@xmath63 describes a mix - term similar to a twist . extending the alignment to these parameters",
    "lead to the curve for _ flat module _ in figure [ fig : plotchi2vsd0 ] .",
    "figure [ fig : plotresida ] clearly shows how the residuals as a function of the hit position along strip modules recover to an expected flat distribution when taking the bowing of the sensors into account .",
    "the sensors at larger radii of the barrel and endcaps are composite modules , i.e.  two sensors are mounted in one module frame and daisy chained to one readout electronic block .",
    "doing the same graph for composite modules ( figure [ fig : plotresidb ] ) clearly shows another deviation from the expected curve .",
    "this is attributed to angles between the sensors .",
    "this has been implemented as well by treating the individual sensors as separate entities , which lead to the remaining curves in figure [ fig : plotchi2vsd0 ] .    solving the alignment problem for all these added parameters lead to the determination of roughly 200000 parameters for the full tracker with millepede - ii in one run .",
    "this was performed on a computer equipped with a intel nehalem processor and 24  gb of ram within 6 hours of wall - clock time .",
    "crucial parts of the algorithm were rewritten for multi - threading using openmp@xmath64 @xcite to benefit from parallel processing on the 8 cores the processor offers . the memory consumption for storing the matrix of the normal equations",
    "was reduced by using sparse matrix storage schemes and adaptive selection of storage precision of the floating - point numbers at runtime , preserving the required overall precision .",
    "the gaussian error of the parameters for the bows were estimated using the following observation : when solving for a linear least squares problem on a computer , the crucial step takes place while solving for @xmath65 in @xmath66 , @xmath67 being the jacobian matrix of the normal equations .",
    "@xmath68 would be the covariance matrix of the parameters , usually not feasible to solve for as the numerical complexity goes with @xmath42 for matrix inversion , compared to other methods for solving for @xmath65 .",
    "for this reason , millepede uses the minres algorithm @xcite as a solver instead of performing a full inversion .",
    "@xmath68 is therefore not calculated .",
    "individual row vectors @xmath69 of @xmath68 can be calculated by solving for @xmath70 , where @xmath71 is the kroneckerdelta .",
    "this has been carried out , figure [ fig : pxbladdersagv ] shows the results for a part of the pixel barrel detector .",
    "the sagittae in the local @xmath59 direction can be determined to a precision of a few microns .",
    "this procedure delivers the statistical error only .",
    "no estimate on systematic errors has been carried out yet .",
    "from the experience of the alignment of a tracking detector at cms , the following considerations may be helpful in order to enhance the alignability of future detectors of similar design .",
    "we can only speak for the configuration we know , so these thoughts need proper adjustments for other cases and are far from being universal and exhaustive .    [ [ resolution ] ] resolution + + + + + + + + + +    this seems to be trivial .",
    "two aspects are worth mentioning : the fact that pixels measure two coordinates allows for alignment in all six basic degrees of freedom . although strips can be aligned in all three rotations , doing so with pixels is far easier .",
    "a second important thing is the very high precision of the pitch along one sensor ans its constantness on the full area .",
    "[ [ module - size ] ] module size + + + + + + + + + + +    larger size leads to more hits on one module for a given spatial hit density .",
    "this immediately improves the alignment precision by @xmath72 .",
    "it also improves the determination of angular alignment , as a larger module size translates to a longer lever arm .",
    "[ [ rigid - mounting - vs .- precision - mounting ] ] rigid mounting vs. precision mounting + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    experiences from cms show , that certain modules can be aligned even though they are displaced by few mm ( sic ! ) from the design position .",
    "if resolution and size are already well chosen , precision mounting does not necessarily help in improving alignment .",
    "there might be some configurations for trigger layers , where precision mounting may help for other reasons .",
    "on the other hand , rigid mounting is very important .",
    "we understand this as that the modules stay in their position over time .",
    "track - based alignment needs data gathered over long time - periods .",
    "as it is averaging in nature , it assumes stability during the time required for recording the data it uses .",
    "movements due to vibrations or imposed by changing conditions like temperature or magnetic field must be slower than the typical data - taking time .    [ [ geometric - shape ] ] geometric shape + + + + + + + + + + + + + + +    barrel - and - endcap configurations have a great advantage for alignment : they deviate sufficiently from an  ideal  sphere - shaped layered detector .",
    "the modules are also flat ( ore just slightly bowed ) , which naturally leads to a spread in incident angles on top of what the event topologies may deliver .",
    "this helps in creating constraints on several alignment modes .",
    "[ [ tracks - from - non - standard - origin ] ] tracks from non - standard origin + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    such tracks add more constraints on possible movements of modules which are weakly sensitive or even insensitive of changing the @xmath12 .",
    "cosmic ray muons are an example in the case of cms .",
    "they come at large @xmath46 for free whereas in collision data tracks with large @xmath46 are rare events from secondary vertices",
    ". they also may connect parts of the detector with straight tracks which would normally not be connected without imposing special constraints .",
    "an example for this are the upper and lower hemispheres of a detector , which are connected with a straight track in the case of cosmic muons .",
    "collision tracks connect these parts as well , but the use of a common - vertex constraint is necessary .    [ [ optical - survey ] ] optical survey + + + + + + + + + + + + + +    survey has a huge drawback .",
    "usually , survey is performed under certain artificial consitions before the final commissioning .",
    "it is a , hopefully well etsablished , assumption , that the survey data stays reliable over time .",
    "survey is still helpful in several ways .",
    "it delivers an independent knowledge on the geometry at the beginning of the detectors operation . as the already mentioned tradeoff is present",
    ", the investment in survey should be limited .",
    "think of an easy way of determining the positions of modules . in our case ,",
    "position marks from the layer masks used by the manufacturing process were still visible after mounting .",
    "a standard single - reflex digital camera with a decent macro lens was used to determine relative positions of modules w.r.t their neighbours at a precision of a few micrometers .",
    "such information can be used as an independent measurement for validation od the alignment or it may be treated as independent measurements included in the alignment algorithm .    [ [ overlap ] ]",
    "overlap + + + + + + +    regions with overlap are useful for alignment and monitoring of it : particle tracks have short propagation distances and therefore their trajectories are less prone to effects imposed by multiple coulomb scattering .",
    "the short distance between two sensors along a particle trajectory in reagions of overlap connects them together very tightly .",
    "[ [ unnecessary - features ] ] unnecessary features + + + + + + + + + + + + + + + + + + + +    in the case of silicon detectors , implementing hardware - based alignment systems is a difficult task .",
    "either they rely on precision mounting ( e.g. some independent sensors mounted on the frame of the silicon sensors ) or they mimick tracks by using lasers and holes in the metalization .",
    "only when their precision is at least comparable to the intrinsic track hit resolution , a benefit may be realizable .",
    "they also may suffer from systematic problems , as their tracks have no geometric spread .",
    "[ [ alignment - studies ] ] alignment studies + + + + + + + + + + + + + + + + +    the main reason why cms acheived to align its inner tracker within that short timeframe was the use of well - known algorithms , the work of experienced people and the extensive use of a versatile alignment simulation framework .",
    "it is paramount to have the ability to simulate the detector as close to reality as possible before the final construction .",
    "there will still be surprises , like the bowed sensors .",
    "the inclusion of a more complex surface description of the slicon sensors of the cms inner tracker has been shown .",
    "this was able to accommodate for discrepancies found in studies on the alignment quality and will improve the track reconstruction in cms .",
    "the sensor bows can be determined with a statistical precision of a few micrometers .",
    "we also presented some thoughts on how future tracking detectors might benefit from the experience gathered during our work .",
    "the authors would like to express gratitude to volker blobel for the invention and implementation of the millepe - ii algorithm and the support for it ."
  ],
  "abstract_text": [
    "<S> the complex system of the cms all - silicon tracker , with 15148 silicon strip and 1440 silicon pixel modules , requires sophisticated alignment procedures . in order to achieve an optimal track - parameter resolution , </S>",
    "<S> the position and orientation of its modules need to be determined with a precision of few micrometers . </S>",
    "<S> the alignment of pixels modules is crucial for the analyses requiring a precise vertex reconstruction . </S>",
    "<S> the aligned geometry is based on the analysis of several million reconstructed tracks recorded during the commissioning of the cms experiment , both with cosmic rays and with the first proton - proton collisions . </S>",
    "<S> statistical precision of the alignment of the module with respect to the particle trajectories to less than 10 microns has been achieved . </S>",
    "<S> the results have been validated by several data - driven studies ( track fit self - consistency , track residuals in overlapping module regions , and track parameter resolution ) and compared with predictions obtained from a detailed detector simulation .    </S>",
    "<S> recent developments include the determination of sensor bow and displacements between sensors of composite modules .    </S>",
    "<S> thoughts on improving future detectors with respect to alignment are given .    </S>",
    "<S> pixel detector , cms , track - based alignment , millepede - ii , broken lines </S>"
  ]
}