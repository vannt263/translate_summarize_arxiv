{
  "article_text": [
    "in the last decades , the distinguishing properties of quantum theory have been exploited to accomplish tasks which are unfeasible in classical theory  @xcite . for example , protocols were proposed for secure quantum key distribution ( qkd )  @xcite , quantum teleportation  @xcite , and quantum randomness generation ( qrg )  @xcite . with no exceptions ,",
    "the first protocols to be proposed were device dependent , namely their success critically relies on the agreement between the description of the setup and its implementation .",
    "since this hypothesis is never exactly fulfilled , in experimental implementations a plethora of related problems arises  @xcite .",
    "subsequently , fully - device independent protocols were proposed  @xcite , in a scenario where the devices are completely uncharacterized and the success only depends on the statistics between inputs and outputs . these protocols , while extremely robust due to the weakness of the hypothesis on which they rely , are often unfeasible from the experimental viewpoint .",
    "for example , known device independent qkd protocols are entanglement - based , while all experimental realizations of qkd implement prepare and measure schemes .    recently , semi - device independent quantum protocols were proposed , where only the dimension of the exchanged system is assumed while the devices are uncharacterized .",
    "these protocols represent an intermediate solution between device - dependent and fully device - independent protocols .",
    "for example , at the price of upper bounding the dimension of the system , secure qkd is possible  @xcite in a measure and prepare scheme , and semi - device independent protocols for qrg are also known  @xcite .    despite their security , real world implementations of semi - device independent protocols",
    "are subject to detection loophole ( dl ) attacks  @xcite - as happens for any fully - device independent protocol . in this attack ,",
    "a malicious provider exploits non - ideal detection efficiencies to skew the statistics of the experiment and ultimately faking its result .",
    "losses may affect not only the measuring devices , but also the preparing ones .",
    "for example , if the preparations are produced with heralded photons , an entangled pair is prepared and one of its photons measured by a lossy device to collapse the other to the desired state .",
    "the aim of this work is to provide conditions under which dl attack is harmless in faking the result of a semi - device independent protocol . in section  [",
    "sect : dl ] we introduce dl attacks and present our main results . in section  [",
    "sect : detectp ] we derive conditions under which a dl attack is harmless in terms of the detection probability , in the general framework where only the statistics of the protocol is taken into account . in section  [",
    "sect : psucc ] we regard semi - device independent protocols as random access codes , and show that protocols that only depend on a particular function of the statistics - namely , the worst case success probability - are immune to dl attack . finally we summarize our results and delineate some further developments in section  [ sect : conclusion ] .",
    "in the setup of any semi - device independent protocol two distant parties , say alice and bob , are involved . in this work we consider protocols in which each party has access to uncorrelated random number generators  @xcite . for each round , we denote by @xmath0 ( @xmath1 ) the random variable generated by alice s ( bob s ) generator and with @xmath2 ( @xmath3 ) its probability distribution .",
    "these probability distributions are independent .",
    "random variables @xmath0 and @xmath1 represent the strategy that alice and bob apply , respectively .",
    "this scheme is depicted in figure  [ fig : setup ] .     and",
    "@xmath4 respectively .",
    "each box is allowed to use a classical random generator ( dashed - line boxes ) , which outcome - @xmath0 for alice s box and @xmath1 for bob s - is not accessible to the parties but can influence the outcome of the box .",
    "alice s box sends quantum message @xmath5 to bob , that finally outputs classical message @xmath6 . ]    in each run , they get classical inputs @xmath7 and @xmath4 respectively .",
    "alice sends a message @xmath5 - which may be classical or quantum - to bob , who then returns a classical value @xmath6 .",
    "finally they collect the statistics of several runs ( the asymptotic case is always considered ) , obtaining the conditional probability distribution @xmath8 of outcome @xmath6 given inputs @xmath7 and @xmath4 , namely @xmath9 it is important to stress that - as eq",
    ".   clearly shows - access is granted only to the inputs @xmath10 and the output @xmath6 , while no knowledge of the internal behavior of the black boxes ( including the random variables @xmath11 ) and of the message @xmath5 is provided .",
    "in the context of dl attack we assume that for each round of the experiment alice or bob can claim that their `` detector did not click '' , and in this case this round of the experiment is discarded from the statistics . in general , alice s box can decide whether to click after receiving her input @xmath7 and random variable @xmath0 , while bob s box after receiving his input @xmath4 , the message @xmath5 and random variable @xmath1 .",
    "thus , the detection efficiencies , i.e. the probabilities that the detector clicks , are denoted with @xmath12 for alice and @xmath13 for bob , and the conditional probability distribution of outcome @xmath6 given inputs @xmath7 and @xmath4 in the presence of a dl attack is given by @xmath14 we use the subfix dl whenever a distribution is obtained resorting to dl attack .",
    "we are assuming that for every input @xmath10 there is a non - zero probability of click , namely denominator in eq .",
    "is strictly larger than @xmath15 for any @xmath7 and @xmath4 .",
    "notice that whether alice uses dl is not relevant  @xcite , since any settings she can prepare with dl can also clearly be achieved without resorting to it , so eq .   can be simplified as @xmath16      the success of semi - device independent quantum protocols depends on the statistics they generate .",
    "usually , a large enough value of a particular function of such statistics ensures the success of the protocol . yet ,",
    "in general , a necessary condition for their success is the ability to discriminate whether the source is intrinsically quantum or it can be described as a classical distribution , building only on the knowledge of the conditional probability distribution @xmath8 .",
    "that is , it is necessary to certify that the observed correlations can not be explained classically and , therefore , are potentially useful for quantum protocols without classical analogue .",
    "for this reason , exploiting dl attack to convert a classical @xmath8 into an intrinsically quantum @xmath17 guarantees a faking of the result of the protocol . in this section",
    "we provide conditions under which dl attack can by no means recast a classical @xmath8 into an intrinsically quantum @xmath17 thus faking the result of the protocol .",
    "we say that a conditional probability distribution @xmath8 of outcome @xmath6 given inputs @xmath7 on alice s side and @xmath4 on bob s side admits a classical ( quantum ) @xmath18-dimensional model if it can be written as @xmath19 where @xmath20 and where @xmath5 is a classical ( quantum ) @xmath18-dimensional system .    the probability of click on bob s side given he received message @xmath5 from alice and input @xmath4 is given by @xmath21 where we denoted with @xmath22 the no - click event .",
    "the following proposition shows that whenever @xmath23 is independent on @xmath5 , dl attack is harmless . notice that this is the case for example whenever",
    "loss can reasonably be modeled as affecting the measurement irrespectively of the input state , namely the detection efficiencies @xmath13 are independent on @xmath5 .",
    "[ thm : nodl1 ] if @xmath24 for any @xmath25 , then if @xmath17 does not admit a @xmath18-dimensional classical ( quantum ) model then also @xmath8 does not admit a @xmath18-dimensional classical ( quantum ) model .",
    "first we show that under the hypothesis @xmath26 , if @xmath8 admits a @xmath18-dimensional classical ( quantum ) model then also @xmath17 admits a @xmath18-dimensional classical ( quantum ) model . upon introducing hypothesis into eq .",
    "one has @xmath27 upon setting @xmath28 one clearly has @xmath29 and @xmath30 for any @xmath31 .",
    "then @xmath17 admits the @xmath18-dimensional classical ( quantum ) model @xmath32 then , whenever @xmath17 does not admit a @xmath18-dimensional classical ( quantum ) model , also @xmath8 does not .",
    "since by assumption the devices are uncharacterized and the message @xmath5 sent by alice to bob is not directly accessible to the parties , it is impossible without introducing other assumptions to verify whether the detection efficiencies @xmath13 are indeed independent on @xmath5 .",
    "next proposition provides conditions under which the hypothesis of proposition  [ thm : nodl1 ] is verified in terms of the probability @xmath33 of click given inputs @xmath7 on alice s side and @xmath4 on bob s side , namely @xmath34 notice that this probability is accessible to the parties , being a function of the inputs @xmath10 which are in turn accessible .",
    "[ thm : nodl2 ] if @xmath35 for any @xmath36 , then if @xmath17 does not admit a @xmath37-dimensional classical model then also @xmath8 does not admit a @xmath37-dimensional classical model .    by hypothesis , for any input @xmath38 on alice s side one",
    "has @xmath39",
    "= 0 ,    \\end{aligned}\\ ] ] where the sum is over @xmath40 .    rearranging explicitly the terms in previous equation and using the fact @xmath41 for any @xmath7 ,",
    "one obtains that either @xmath42 for any or @xmath38 , namely the message @xmath5 sent by alice is independent on her input @xmath7 , or @xmath43 for any @xmath4 , namely the probability of click on bob s side is independent on the message @xmath5 received from alice .    in the former case",
    "@xmath8 clearly admits a classical local model , namely one in which no message is sent from alice to bob , and the same holds true for @xmath17 due to eq .  .",
    "in the latter case the hypothesis of proposition  [ thm : nodl1 ] is satisfied , and thus the statement is proven .      in previous section",
    "we discussed conditions under which it is impossible to fake a necessary condition for the success of any semi - device independent protocol , in the general framework where the statistics of the protocol is taken into account .",
    "in the present section , we devise functions of such statistics that can not be altered by a dl attack in the particular framework of ( quantum ) random access codes .",
    "thus , any semi - device independent protocol building only on these functions will be immune to dl attack .",
    "a semi - device independent protocol can be viewed as a random access code ( rac ) or a quantum random access code ( qrac )  @xcite . in the context of racs and qracs ,",
    "the aim of the two distant parties alice and bob is to maximize the value of some figure of merit which is a function of the input / output statistics .",
    "racs ( qracs ) are usually denoted with the notation @xmath44 . here",
    "@xmath45 is the number of input bits of alice , namely the dimension of input @xmath7 is @xmath46 , while @xmath47 is the number of bits ( qubits ) sent by alice , namely the dimension of message @xmath5 is @xmath48 .    in this section",
    "we exploit the formalism of racs and qracs and consider as a figure of merit the worst case success probability to have that @xmath49 for a specific function @xmath50 , namely @xmath51 the probability that @xmath52 with the dl exploit is given by @xmath53 where @xmath54 and the worst case probability that @xmath49 is given by @xmath55    the following proposition provides conditions under which the worst case success probability can not be increased resorting to dl exploit . when these hypothesis are satisfied , a protocol relying on the worst case success probability may not be affected by dl attack .",
    "[ thm : nodl3 ] if the worst case success probability without resorting to dl attack is @xmath56 , then the worst case probability of success resorting to dl attack is @xmath57 .",
    "the proof proceeds by absurd assuming @xmath58 and @xmath59 .",
    "equation   is the weighted sum of the numbers @xmath60 with weights @xmath61 and therefore is upper bounded by @xmath62 and one has @xmath63    since we are assuming @xmath59 there exists a strategy @xmath64 of bob and a message @xmath65 of alice such that for all @xmath10 one has @xmath66 .",
    "then bob can exploit a new strategy where he applies strategy @xmath64 whenever he gets @xmath65 and returns a random number otherwise , for which the probability @xmath67 of @xmath68 given inputs @xmath7 and @xmath4 is given by @xmath69 p(a_0|a ) + \\frac12 .",
    "\\end{aligned}\\ ] ]    this new strategy does not resort to dl and since @xmath66 it has the worst case success probability greater than @xmath70 which contradicts the assumptions .",
    "the following corollary shows that for any @xmath71 rac the dl attack is harmless .",
    "[ thm : nodl4 ] for any @xmath71 rac the worst case success probability resorting to dl attack is @xmath57 .    in @xcite",
    "it was shown that for any @xmath71 rac the hypothesis of proposition [ thm : nodl3 ] are fulfilled , namely @xmath58 , so the statement follows .",
    "in the case of @xmath72 and @xmath73 qracs the worst case success probabilities are @xmath74 and @xmath75 correspondingly  @xcite .",
    "if the detectors are inefficient and bob s device randomly chooses the outcome when its detector did not click then these probabilities become @xmath76 and @xmath77 which for all efficiencies @xmath78 are better than the classical success probability .",
    "notice however that this is as far as qracs can go because for all @xmath79 one has that @xmath80 qracs have worst case success probability equal to @xmath81  @xcite",
    ".    one may ask whether it is possible to relax the hypothesis of proposition  [ thm : nodl3 ] . we provide here",
    "an example of rac with worst case success probability larger than @xmath82 , and show that this probability can be increased using dl attack .",
    "consider the @xmath83 rac .",
    "alice is given three independent bits @xmath84 , namely @xmath85 , and she can send to bob a @xmath86-dimensional message or , equivalently , one bit @xmath65 and one trit @xmath87 , namely @xmath88 .",
    "bob s input is the trit @xmath89 and the function to be computed is @xmath90 .",
    "here we show that the worst case success probability @xmath91 without resorting to dl of @xmath92 rac is @xmath93 , while there exists a dl attack such that the worst case success probability is @xmath94 .",
    "first , we prove that for the @xmath92 rac one has @xmath95 .",
    "information causality  @xcite provides a bound on average case quantum success probability of @xmath44 qrac .",
    "also , an explicit upper bound for the worst case quantum success probability - which is clearly at least as large as the classical one @xmath91 - was derived in  @xcite in the context of quantum finite automata , namely @xmath96 where @xmath97 is the shannon binary entropy function . setting @xmath98 and @xmath99 we get @xmath93 .",
    "now we provide a protocol using dl which achieves the worst case success probability @xmath94 .",
    "the idea is to use part of the communicated message to distribute randomness .",
    "alice can choose the trit @xmath87 at random and encode @xmath100 , in other words she sends one of her bits randomly to bob but also sends him information regarding which bit it is . if @xmath101 then bob returns @xmath102 which is equal to @xmath103 . if @xmath104 his detector does not click .",
    "the detection efficiency of bob s device with this protocol is given by @xmath105 ( according to proposition  [ thm : nodl1 ] , dl attack would be harmless if @xmath13 is independent on @xmath5 ) and the worst case success probability is given by @xmath106 .",
    "in this work we addressed the problem of how non - ideal detection efficiencies can be exploited to fake the result of semi - device independent quantum protocols through dl attacks .",
    "we discussed conditions under which dl attacks are harmless in terms of the detection probability and of the worst case success probability of a rac .",
    "our main results can be used as a guideline to devise quantum protocols resistant to dl attacks , being thus of relevance for applications such as qkd and qrg .",
    "some of the presented results - namely proposition  [ thm : nodl2 ] and corollary  [ thm : nodl4 ] - hold in the hypothesis that the message @xmath5 sent by alice is @xmath37-dimensional and classical .",
    "we showed through the example @xmath107 rac that these assumptions can not be relaxed trivially .",
    "thus remains an open problem how to devise more general conditions under which dl attack is harmless .",
    "we are grateful to nicolas brunner for very useful discussions and suggestions .",
    "m. d. thanks anne gstottner and the human resources staff at icfo for their invaluable support .",
    "this work was funded by the spanish project fis2010 - 14830 and generalitat de catalunya , uk epsrc , the european percent erc starting grant and q - essence project .",
    "i. l. chuang and m. a. nielsen , _ quantum information and communication _ ( cambridge , cambridge university press , 2000 ) . c. h. bennett and g. brassard ,",
    "proceedings of the ieee international conference on computers , systems and signal processing , 175 ( 1984 ) .",
    "a. k. ekert , phys .",
    "lett . * 67 * , 661 ( 1991 ) . c. h. bennett , g. brassard , c. crpeau , r. jozsa , a. peres , and w. k. wootters , phys .",
    "* 70 * , 1895 ( 1993 ) .",
    "d. bouwmeester , j .- w .",
    "pan , k. mattle , m. eibl , h. weinfurter , and a. zeilinger , nature * 390 * , 575 ( 1997 ) .",
    "j. g. rarity , p. c. m. owens , and p. r. tapster , j. mod .",
    "optics , * 41 * , 2435 ( 1994 ) .",
    "m. fiorentino , c. santori , s. m. spillane , r. g. beausoleil , w. j. munro , phys .",
    "a * 75 * , 032334 ( 2007 ) .",
    "s. pironio , a. acn , s. massar , a. boyer de la giroday , d. n. matsukevich , p. maunz , s. olmschenk , d. hayes , l. luo , t. a. manning , and c. monroe , nature * 464 * , 1021 ( 2010 ) . l. lydersen _",
    "et al _ , nature phot . * 4 * , 686 ( 2010 ) ; i. gerhardt _",
    "et al _ , nature .",
    "* 2 * , 349 ( 2011 ) .",
    "r. colbeck , _ quantum and relativistic protocols for secure multi - party computation .",
    "_ phd dissertation , univ .",
    "cambridge ( 2007 ) ; r. colbeck and a. kent , arxiv:1011.4474 .",
    "a. acin , et al .",
    "lett . * 98 * , 230501 ( 2007 ) ; s. pironio , et al . , n. j. phys .",
    "* 11 * , 045021 ( 2009 ) .",
    "m. pawowski and n. brunner , phys .",
    "a * 84 * , 010302 ( 2011 ) .",
    "li , m. pawowski , z .- q .",
    "yin , g .- c .",
    "guo , and z .- f .",
    "han , arxiv : quant - ph/1109.5259 .",
    "the problem of dl attack on semi - device independent protocols shares analogies with that of the robustness to loss of device independent dimension witness ( didws ) @xcite , addressed in @xcite .",
    "nevertheless , while in the former the task is to exploit non - ideal detection efficiencies to fake the result of a protocol producing an input / output statistics which would be forbidden in the absence of dl , in the latter the task is to devise conditions under which dimension witnessing is indeed possible even in the presence of loss .",
    "r. gallego , n. brunner , c. hadley , and a. acn , phys . rev",
    "105 * , 230501 ( 2010 ) .",
    "m. hendrych , r. gallego , m. miuda , n. brunner , a. acn , and j. p. torres , nature phys .",
    "* 8 * , 588 ( 2012 ) .",
    "h. ahrens , p. badziag , a. cabello , and m. bourennane , nature phys . *",
    "8 * , 592 ( 2012 ) .",
    "m. dallarno , e. passaro , r. gallego , and a. acn , arxiv:1207.2574 .",
    "notice that the assumption of uncorrelation is fullfilled by a broad class of protocols . indeed , in any semi - device independent setup one necessarily has to assume that the devices are shielded - namely they can not communicate except through message @xmath5 .",
    "then to have shared ( classical or quantum ) randomness one is forced to introduce a trusted third party random generator , or to allow for infinite local memory on each device storing previously distributed randomness .",
    "this may be no more true if other constraints are introduced , since in this case the sets of distributions @xmath108 and @xmath109 attainable by alice can be different .",
    "for example , suppose that alice is computationally constrainted to prepare her message @xmath5 in time polynomial in the size of @xmath7 .",
    "on the one hand , without resorting to dl it is impossible to obtain the distribution @xmath110 , with @xmath111 some np - hard function ( as long as we assume that @xmath112 ) . on the other hand , exploiting dl alice can randomly choose @xmath5 and check in polynomial time whether @xmath113 , clicking only in this case .",
    "a. ambainis , a. nayak , a. ta - shma , and u. vazirani , j. acm * 49 * , 496 ( 2002 ) .",
    "a. ambainis , a. nayak , a. ta - shma , u. vazirani , proceedings of the 31st annual acm symposium on theory of computing ( stoc99 ) , 376 ( 1999 ) .",
    "m. hayashi , k. iwama , h. nishimura , r. raymond , s. yamashita , new j. phys * 8 * , 129 ( 2006 ) .",
    "m. pawowski , t. paterek , d. kaszlikowski , v. scarani , a. winter , m. ukowski , nature * 461 * , 1101 ( 2009 ) .",
    "a. nayak , proceedings of the 40th ieee symposium on foundations of computer science ( focs99 ) , 369 , 1999 ."
  ],
  "abstract_text": [
    "<S> recently several semi - device independent quantum protocols were proposed - e.g. for secure key distribution , random access coding , and randomness generation - in a scenario where no assumption on the internal working of the devices used in the protocol is made , except their dimension . </S>",
    "<S> these protocols , while being often more practical than fully - device independent ones , are also clearly more secure than their device dependent counterparts . </S>",
    "<S> nevertheless , we discuss conditions under which detection inefficiencies can be exploited to fake the result of the protocol - and how to prevent it - in terms of the detection probability and of the worst case success probability of a random access code . </S>"
  ]
}