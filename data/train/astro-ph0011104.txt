{
  "article_text": [
    "the problem of subtracting the night sky foreground emission is a critical one for astronomical spectroscopy .",
    "the task is particularly acute in the red part of the spectrum ( 600@xmath21000 nm ) as there are numerous hydroxyl ( oh ) bands which dominate the light giving a bright background .",
    "many authors have recognized over the past twenty years that low to moderate resolution spectroscopy in this band is ultimately limited by systematic uncertainty associated with sky subtraction ( dressler 1984 ) .    in some respects , it is surprising that optical astronomy has been slow to recognize an important technique utilized by near - infrared astronomy , beam - switching . here",
    ", the background signal is very strong , is highly variable , and influences all observations ( ramsay , , 1992 ) .",
    "a common implementation of beam - switching is where the secondary mirror ` chops ' between a target object and a sky field while the infrared array is read out continually .",
    "this is perhaps because there is a conflict between the desire to beam - switch rapidly , and sample the sky contemporaenously , and the desire to take long integrations to minimize the effect of readout noise .",
    "this is especially true for modern , very low noise ccd detectors .",
    "the underlying principle of the nod - shuffle technique is simply that a ccd detector can be used to store two images of a field , imaged quasi - simultaneously ( cuillandre  1994 ; bland - hawthorn 1994 ; sembach & tonry 1996 ) . by using ` charge - shuffling ' charge",
    "can be moved from an illuminated region to a storage region .",
    "this process does not invoke readout noise and only takes only a fraction of a second since charge can be shifted between ccd rows two to three orders of magnitude faster than it can be read out .",
    "if this shuffling is synchronized to telescope motion two interleaved exposures of object and sky can be imaged side by side at the detector .",
    "note three important facts : ( i ) the images are obtained through identical optical paths , ( ii ) the imposed flatfield structure is identical for both images , and ( iii ) the ccd is read out only once .",
    "the use of shuffling techniques in astronomy can be traced to early attempts to improve the performance of imaging polarimeters ( mclean  1981 ; stockman 1982 ) . since that time",
    ", charge - shuffling has been little utilised .",
    "part of the reason may stem from experiments by lemonier & piaget ( 1983 ) . by rapidly shifting charge backwards and forwards many times ( pocket pumping ) , they were able to identify local defects in the potential profile ( trapping sites ) within the silicon substrate . by the end of the 1980s , traps and deferred charge",
    "were still a fundamental limitation to repeated charge shuffle operations ( blouke  1988 ) .",
    "the development of charge - shuffling at the anglo - australian observatory dates back to the 1994 marseilles conference on imaging spectrographs ( comte & marcelin 1995 ) .",
    "it was here that the first results of integral field spectrographs were presented , arguably the most important development in optical instrumentation in the past decade .",
    "it was clear , and remains true , that the fundamental limitation of this powerful technology is the difficulty of accurate sky subtraction ( bland - hawthorn 1995 ) .",
    "key developments in ccd manufacture have made charge - shuffling a realistic prospect and an important consideration in all future instrument design .",
    "first , the latest generation ccds ( eev , mit lincoln lab ) have very low read noise ( @xmath3 ) , negligible dark current , high purity and very high charge transfer efficiency ( 99.9999% ) .",
    "secondly , the manufacturing process prefers to generate rectangular arraysmm reticle which restricts the ` row ' dimension of a ccd .",
    "the reticle is stepped down the wafer and the new circuit is stitched to the previous pattern . ] which provide for storage regions .",
    "bland - hawthorn & barton ( 1995 ) demonstrate that , with modern ccds , it takes more than a hundred shuffle operations before bulk trapping sites start to compromise the data .    in this paper",
    ", we describe the development at the aao of the ` nod - shuffle ' method founded on the principle of ccd charge shuffling .",
    "this differential technique has resulted in two important experimental breakthroughs .",
    "first , the object and sky can be measured quasi - simultaneously . as we show , the main limit to the accuracy of sky - subtraction",
    "is the rapidity of nod - shuffling compared to the temporal power spectrum of sky brightness variations .",
    "secondly , nod - shuffle allows for a considerable increase in the _ multi - object gain _ of a spectrograph , up to 2.9@xmath0 more objects per unit observing time using small ` microslits , ' for fields with high object densities .",
    "we have implemented the nod - shuffle method with the low dispersion survey spectrograph ( ldss ) on the anglo - australian telescope ( aat ) and have obtained fractional residuals as low as @xmath4 .",
    "the plan of this paper is as follows : in section  2 we describe the nod - shuffle concept and discuss qualitatively the sky - subtraction and multiplex advantages to be gained . in section  3",
    "we describe in detail our implementation of nod - shuffle at the aat using the low dispersion survey spectrograph and show some example data . in section  4 , we show the increased multi - object gain which becomes possible via the nod - shuffle operation .",
    "we quantify the sky - subtraction accuracy in section  5 and discuss ways in which it might be improved further . in section  6 , we illustrate key observing modes for ldss++ which are facilitated by the use of microslits .",
    "finally , we discuss future prospects for the nod - shuffle observing mode .",
    "the concept behind charge shuffling is that unilluminated portions of a ccd can be used for storage .",
    "the image formed on an illuminated portion can be ` shuffled ' very quickly into a storage area by clocking before being shuffled back at a later stage .",
    "for example , with the aao-1 ccd controller and the thompson 1024@xmath01024 format ccd , a single row can be shifted upwards or downwards in 12.5  @xmath5s , compared to 30160  ms when clocked through the output amplifiers .",
    "the shift operation is a factor of 4 slower for the tek 1024@xmath01024 format and mitll 2048@xmath04096 format ccds . since the shuffle operation",
    "does not involve the read - out amplifiers , the primary source of noise is now associated with charge transfer within the substrate ( janesick & elliott 1992 ) .",
    "each vertical clock shifts the complete image on the ccd one row up towards the readout register .",
    "the row that was next to the readout register gets clocked in to the readout register and can not be reverse clocked back into the image . at the other end of the image , a ` clean ' row is generated .",
    "this happens for shifting in the ` forward ' direction .",
    "clocking in the reverse direction moves the complete image one row away from the readout register for every vertical clock applied to the ccd .",
    "a clean row is generated next to the readout register and at the other end one image row is lost .    in order to produce two contiguous images side by side on the detector via shuffling ,",
    "the maximum field of view ( number of rows ) which can be shifted without loss of information for the exposed or stored image is one third of the detector s column dimension .",
    "the reason is clear : when the detector is clocked in one direction , rows at the detector edge are lost ( c.f .",
    "figure  [ fig - nodshuffle ] ) .",
    "more generally , shuffling between @xmath6 partitions uses @xmath7 of the ccd for holding the separate observations , while the remainder is ( a ) used for temporary storage , and ( b ) rendered useless by the shuffle process ( this fraction is never illuminated ) .",
    "a fuller technical description of charge - shuffling is given in bland - hawthorn  ( 2000 ) .",
    "the nod - shuffle image sequence developed for ldss observing is utilises this underfilled , large - shuffle mode and is illustrated in figure  [ fig - nodshuffle ] .",
    "the observing sequence is as follows :    1 .",
    "the target objects are acquired with the telescope on to the spectrograph mask slits ( these may be true slits or simple apertures such as holes ) .",
    "the shutter is opened for a object exposure ( usually 10100 secs in duration ) , dispersed spectra of objects@xmath8sky are accumulated in the central area .",
    "3 .   the shutter is closed .",
    "the object image is shuffled up , by clocking the ccd charge pattern . to a upper storage area which is unilluminated .",
    "the telescope is moved to a sky position .",
    "( this can be a truly blank patch or can simply involve moving the objects some way along the slits ) .",
    "the shutter is re - opened and dispersed sky spectra are accumulated , for the same exposure time as the object , in the blank central area .",
    "the shutter is closed , the charge is shuffled back down bring the object image back in to the center and the sky image into blank storage . the telescope is moved back to the object position .",
    "the shutter is opened and more object data is accumulated .",
    "the sequence object",
    " sky  object ",
    "sky ... is repeated for the rest of the exposure .    at the aat ,",
    "the object and sky exposures are typically 30 secs , repeated to fill up a 1800 sec exposure before readout .",
    "sky subtraction then consists of extracting the two regions and calculating the difference image .",
    "this technique , which we call `` nod - shuffle , '' gives extremely precise sky - subtraction for the following reasons :    a : :    the object and sky are observed through identical slits / apertures .",
    "the    effect of any irregularities cancel out in the subtraction .",
    "b : :    the object and sky are imaged on to the exactly the same pixels on the    detector .",
    "the optical path is identical .",
    "the pixel response is    identical .",
    "( the response is that of the pixel where the image is    _ measured _  the storage pixels have no effect ) .",
    "c : :    the object and sky are observed quasi - simultaneously , thus the effect    short timescale temporal sky variations cancel out in the subtraction .",
    "this is quantified below in section  [ sec - sky ] .",
    "d : :    the object and sky positions can be extremely close ( a few arcsecs ) so    spatial sky variations are not significant .",
    "e : :    because of the identical light path and quasi - simultaneity the effects    of fringeing on the detector from night sky lines cancels out .",
    "f : :    similarly the effects of any instrument flexure during the course of    the exposure cancel out .",
    "g : :    there is no need to re - sample and interpolate the sky for the    subtraction , so there are no numerical artifacts introduced .",
    "h : :    the presence of any dc level in the detector due to bias , dark    current , or scattered light does not affect the sky - subtraction .",
    "if it    is constant it cancels , if it varies across the detector ( including    the unilluminated regions ) it will not cancel but will still not    affect the sky subtraction .    of course this is a much more complex observing sequence than simply acquiring objects on to slits and staring .",
    "there is also a penalty for the precise sky - subtraction : @xmath9 more noise in the resulting spectra because of the subtraction , compared to a very long slit , though the systematics in the sky removal are expected to be greatly improved",
    ".    however nod - shuffle offers another great advantage over conventional multislit spectroscopy : it permits a large increase in the achievable object multiplex .",
    "because a long slit is no longer required for sky - subtraction via interpolation the apertures only need be large enough to cover the objects .",
    "we term these `` microslits '' .",
    "additionally they need not be slits  they can be apertures of any shape such as circles .",
    "if we take the example of observing faint 24@xmath10 magnitude galaxies only a 1 arcsec aperture is required due to their small size ( smail  1995 ) . comparing this to typical multislit observations with 1015 arcsec long slits ( glazebrook  1995 )",
    ", we can see that we would expect 1015@xmath0 as many slits to be squeezed on to the mask without spectral overlap .",
    "we quantify these multiplex gains below in section  [ sec - mplex ] .",
    "finally we note that for multi - object spectroscopy there is an alternative mode of observing where the charge is shuffled only a few pixels . because a slit mask blocks out light any part of the ccd can be used for storage .",
    "this is particularly useful because it scales to multiple , mosaicked ccds i.e. when the camera fov is much bigger than the detectors .",
    "this case is illustrated in figure  [ fig - overfill ] .",
    "a penalty here is that half the available detector area must be used for storage when it could be used on - sky , however as we demonstrate below it still gives a formal multiplex advantage in the high source density limit .",
    "the practical implementation we will describe was developed using the aat s low dispersion survey spectrograph ( ldss ) , which came to be known as the ldss++ project .",
    "ldss is a wide - field multislit spectrograph with a 12 arcmin field of view .",
    "a large collimator re - images the telescope pupil , in this space can be inserted grisms and/or filters , this is then imaged through a camera onto a ccd detector ( wynne & worswick 1988 ; glazebrook 2000 ) .",
    "the grism can be taken out for direct imaging of the field or the mask , this is used to acquire the field on to the mask accurately .    ldss has recently been equipped with a volume - phase holographic grating ( vph ;",
    "barden , arns & colburn 1998 ) and a mitll deep - depletion @xmath11 ccd detector with 15  pixels .",
    "these two upgrades give a considerable improvement in the red 5001000 nm throughput of the system : the gain at 700 nm is a factor of 2 ( glazebrook 1998 ) .",
    "the ldss field of view is circular and is @xmath12 pixels on the detector ( 0.39 arcsec pix@xmath13 scale ) .",
    "the shuffle direction is along the long axis of the ccd , perpendicular to the dispersion direction exactly as shown in figure  [ fig - nodshuffle ] .",
    "this is not absolutely necessary but is done because it is easier to block the adjacent storage areas spatially by using the mask ; otherwise some sort of spectral blocker would be required and this would not be ideal due to offsets between slits . in nod - shuffle mode we thus use the central @xmath14 pixels .",
    "it represents approximately the underfilled case described in section  [ sec - concept ] .",
    "the implementation of our nod - shuffle scheme is as follows . at the start of a nod - shuffle run ,",
    "a shuffle sequence is downloaded to the ccd controller micro and the instrument sequencer micro from the vax computer ; the instrument sequencer also receives a telescope command set .",
    "the vax then tells the instrument sequencer and the ccd controller to ` run ' .",
    "the controller runs software which interprets the shuffle sequence , clocking the charge up and down and driving the ccd shutter .",
    "it dictates each step by triggering an event with an ` external sync ' pulse for each phase of the operation .",
    "the triggers occur after fixed time intervals since there is presently no handshake from the telescope .",
    "the number and nature of the triggers depend on whether there is to be guiding at either the object or sky position ( offset mode ) , at neither ( offset no guide mode ) or both ( axes mode ) . with the output pulse ,",
    "the ccd controller toggles the status of an i / o line and waits for a given delay time .",
    "the instrument sequencer reads the i / o line and , when required , writes telescope control commands to a port on the vax / vms computer system .",
    "a program running on the vax reads these commands , translates them and routes them via the camac interface to the telescope control interdata computer .",
    "there is no feedback in this system : the ccd controller does not know the state of the telescope .",
    "ideally of course it would , but this would require complete re - engineering of the whole observing system . instead the telescope movement is allowed for by predetermined time delays .",
    "the controller waits a given amount of time between shuffles with the shutter closed to allow the telescope to finish its ` offset and stabilise ' action . for small offsets of a few arcsec",
    ", the aat does this in about 1 second ; typically we allow 2 secs dead time in a 30 sec integration time .",
    "it was verified that this was adequate by taking long - exposure direct images of star fields in nod - shuffle mode and looking for image elongation along the offset direction .",
    "the two shuffled images can also be subtracted to look for elongated residuals  none were found down to the noise level .",
    "some sample data of nod - shuffle spectra are shown in figure  [ fig - sample ] .",
    "this was taken for a redshift campaign in the hubble deep field south ( glazebrook  2000a ) during commissioning of the nod - shuffle system .",
    "we placed 225 microslits ( circular @xmath15 arcsec apertures ) on targets along the 1365 pixel spatial axis ( @xmath16 9 arcmin ) , the spectra are dispersed along the horizontal 2048 pixel axis ( @xmath17 ) .",
    "the ldss psf is a gaussian with 2 pixels fwhm at the field field degrading to 3 pixels at the field edge .",
    "the microslits are spaced at intervals of at least 4 pixels vertically ( subject to target availability ) so their spectra are significantly separated .",
    "the horizontal spread of the slits was up to 3 arcmin so as not to introduce significant wavelength offsets between spectra .",
    "it can be seen in figure  [ fig - sample ] that the form of this data is somewhat akin to spectra from fiber optic spectrographs in that each object produces a tramline which is traced and extracted .",
    "however in this case the extraction is done _",
    "after _ sky - subtraction and there are significant wavelength offsets between spectra .",
    "to quantify the multiplex gain we must compare the number of spectra observable per unit time to the same limiting signal@xmath18noise ratio versus the longslit case where the sky is subtracted by interpolation .",
    "we must observe for longer with nod - shuffling to reach the same signal@xmath18noise , however this is more than balanced by an increase in the number of slits we can fit on the mask .",
    "we call this the ` nod - shuffle advantage ' ( nsa ) .",
    "the object@xmath2sky subtraction in the nod - shuffle case introduces @xmath9 extra subtraction noise .",
    "first we consider at what length the longslit subtraction introduces the same amount",
    ". we will assume the longslit has length @xmath19 elements , where an element is taken as the spatial extent of the target objects ( thus @xmath20 for the microslit ) .",
    "conventionally the background along the slit , excluding the object , is fitted with either a linear model or a higher - order polynomial .",
    "typically the background level will vary by a few percent across the slit due to instrumental effects such as slit alignment and optical distortion and this slope will vary with wavelength due to the structure in the sky spectrum .",
    "the fitting will also be limited by the presence of slit irregularities .",
    "this is discussed in more detail below in section  [ sec - sky ] .",
    "for now we will compute the ideal limit for a smooth slit .",
    "accurate sky - subtraction in the neighbourhood of the bright sky emission lines requires fitting at least a general linear model to each wavelength channel , thus the error at the object location is the error on the intercept on the slope ( @xmath21 ) from the line fitting from @xmath22 points : @xmath23 where @xmath24 is the noise on each point and for simplicity we have ignored the omission of the central object point .",
    "we now consider the following question : as the slit length @xmath19 increases at what point does subtracting the linear fit introduce less noise than nod - shuffling , i.e. @xmath25 ?",
    "this occurs at @xmath26 , after allowing for more complex formulae where the central point is omitted . instead of the slit we could in principle substitute 6 microslits .",
    "there is a factor of two nod - shuffling overhead either temporally ( due to the sky position ) or spatially ( if we move the object between adjacent slit positions we have 3 pairs rather than 6 objects ) .",
    "for @xmath26 we calculate @xmath27 and so the nsa is calculated to be 2.9 .",
    "as slits become longer the nsa increases further and tends to @xmath28 for large @xmath19 . while we can fit on @xmath29 more slits we have to observe @xmath30 longer to allow for the two positions overhead and subtraction noise .    in practice , as the slit becomes longer more instrumental effects come into play and a linear fit no longer improves the residuals . often a higher - order polynomial is used to allow for curvature , however this will introduce yet more noise as there are more free parameters . in practice a slit length of 1520",
    "arcsec is the useful limit , if slits are this large the nsa is 45 .    for the overfilled case illustrated in figure  [ fig - overfill ]",
    "there is another additional factor of two for charge storage in regions which could otherwise be used for observations ; nevertheless the nsa is still 1.5 exceeding the longslit case and providing better sky - subtraction .    of course the theoretical nsa",
    "is only achieved if the object density is high enough to allow close spacing of microslits . in the very low density regime",
    "where a very long slit can be placed on each object with no concomittant multiplex loss the nsa is only 0.5 , i.e. we must observe twice as long to balance the @xmath9 subtraction noise . in practice",
    "however for faint spectroscopy typical slit spectroscopy _ is _ dominated by residual systematics at the 0.51% level ( see section  [ sec - sky ] ) and not random noise where the lines are bright . and at low resolutions ( @xmath31 ) a large fraction ( @xmath32 ) of the red spectrum is occluded by bright lines , so the supposed @xmath33 loss is moot .    one common technique to reduce these sky residuals in",
    "otherwise conventional longslit observing is to use a ` slow ' beam - switching technique to improve the systematic residuals when observing ultra - faint targets by moving the object along the slit in consecutive observations .",
    "this is analogous to nod - shuffle except the ccd is read out between the two positions .",
    "the individual exposures must be at least 510 minutes ( on a 4 m telescope ) to obtain enough sky signal to be background limited and consequently when the images are subtracted there is a residual due to temporal sky changes .",
    "this residual is removed again by fitting along the slit , but the systematics are reduced because of the lower overall level . like nod - shuffle this will always introduce @xmath9 more subtraction noise .",
    "the minimum nsa versus this case is now 5.9 ( underfilled ) and 2.9 ( overfilled ) .",
    "so far we have made the assumption that an independent linear fit must be done for each wavelength .",
    "however if the sky background has no structure , i.e. is observed in a wavelength region of featureless continuum , then we would expect the slope across the slit to vary only slowly with wavelength and the fitting can in principle be highly constrained .",
    "the underfilled nsa reaches 0.5 in this limit .",
    "however even in the blue part of the optical spectrum ( 350500 nm ) there is still considerable stucture in the night sky spectrum due to scattered solar absorption lines .    finally the nsa is maximised at very high target densities .",
    "the required density is approximately : @xmath34 where @xmath35 is the dispersion in @xmath18pixel , @xmath36 is the spatial scale in arcsec@xmath18pixel , @xmath37 is the microslit size in arcsec and @xmath38 ( in  ) is either the wavelength range on the detector ( when the spectra are short compared to the detector size ) or the minimum wavelength overlap required for all objects by the mask design ( when the spectra are comparable to or longer than the detector ) . for ldss++ , @xmath39 arcsec pix@xmath13 , @xmath40   pix@xmath13 , for the hdf - s project we used @xmath41and @xmath42 arcsec apertures .",
    "this gives a sky density requirement of @xmath43 objects arcmin@xmath44 . for field galaxies",
    "this density is achieved at @xmath45 ( hogg  1997 ; smail  1995 ) .",
    "it is also very suitable for observing stellar and galaxy clusters .",
    "it is a much higher density than can be achieved by conventional multislits ( @xmath46@xmath47 ) and by fiber spectrographs  for example the highly multiplexed 2df spectrograph can only reach 0.050.1 objects arcmin@xmath44 ( lewis  2000 ) .",
    "in order for the figures for nod - shuffle accuracy to be meaningful , it is useful to consider how well sky can be subtracted using a longslit .",
    "this is limited by instrumental imperfections such as variable psf , slit and ccd irregularities , slit tilt and pixel sampling effects , image distortion , fringeing , flexure etc .",
    "the effect of slit tilt , with respect to the ccd columns , is particularly intresting as it is this which causes linear sky variations across the slit .",
    "if we consider the tilt as an angle @xmath48 then we expect fractional sky variations along the slit : @xmath49 where @xmath50 is the distance along the slit in pixels and @xmath51 is the rate of change of the sky count @xmath52 with pixel @xmath37 in the spectrum .",
    "the instrument is usually critically sampled so the psf is 23 pixels .",
    "this means we expect fractional sky fluctuations of order unity between spectrally adjacent pixels in regions near bright sky lines .",
    "this gives : @xmath53 in the ldss case the achievable rectilinear alignment is 1 pixel in 1000 giving @xmath54 . in our experience",
    "this is typical of modern spectrographs as mechanical tolerances are usually designed so that alignment is possible to @xmath55 a ccd pixel .",
    "image distortion in the optics also turns out to be a big effect .",
    "ldss is a typical fast @xmath56 camera .",
    "the change in radial distortion across a slit length will introduce an apparent rotation ( @xmath57 ) if the slit is off the cardinal axes . a useful formula for this",
    "is :    @xmath58    for a slit at @xmath59 ) wrt the optical axis axis ( radius @xmath60 ) where the radial distortion @xmath61 .    in the ldss optics the typical distortion @xmath62 ,",
    "thus we can estimate typical apparent rotations ( using @xmath63 ) of @xmath64 .",
    "many similar systems have fast cameras ( e.g. the lris keck multislit spectrograph camera is @xmath65 and using the lris astrometry software we find distortions of @xmath66 pixels over 400 pixels , so @xmath62 ) so we expect this order of radial distortion to be typical of modern fast spectrographs",
    ".    putting these formulas together this rotation would cause a linear sky gradient of order 30% across a 10 arcsec slit .",
    "if the data could be resampled to sub - pixel accuracy to correct for tilts , we could expect to achieve 0.1 pixel accuracy which would still leave 10% variations .    in principle though smooth variations can be removed .",
    "however another effect is slit irregularities .",
    "the milled metal slit masks used in ldss have 1020  irregularities ( 1 arcsec = 150  at aat s @xmath67 ) .",
    "this is typical of machine cut masks ( szeto , 1996 ) .",
    "thus we also expect @xmath68 10% semi - random variations along the slit due to this effect .",
    "this can be flatfielded out by dividing by a dispersed white light exposure , this will be limited by flexure between the white light and the data exposure .",
    "ldss flexes at about 0.5 pixels@xmath18hour thus we can expect a misalignment of order 0.10.2 pixels giving residuals of order 1% .",
    "so we are in a situation in ldss where we are fitting slopes of order 1030% with a slit length of 1020 pixels and with systematic variations of @xmath69 .",
    "the sky lines in ldss at low - resolution have peak counts of @xmath12 electrons in a half hour exposure , so the random noise will be about 2% .",
    "fitting along the slit would reduce this to @xmath70 at which point it is comparable to the systematic slit irregularities .",
    "how faint can we go with 1% sky - subtraction accuracy ? in the @xmath71-band the sky background is dominated by the lines , if we demand an object has @xmath72 then the faintest that can be reliably reached , in _ any exposure time _ , is @xmath73 per arcsec@xmath74 .",
    "fainter than that the fluctuations in the spectrum will be dominated by sky residuals at the lines , and for low - resolution @xmath71-band spectroscopy the lines occlude most of the spectrum .",
    "how could this be improved ?",
    "one crucial area with scope for improvement is the microroughness of the slit edges .",
    "conventional laser cutting ( melting and vaporization ) of metal ( al ) masks produces 10@xmath220  roughness . during manufacture ,",
    "most metals undergo warping during cutting which defocusses the laser .",
    "this is one of the major sources of error in slit manufacture which in turn contributes to poor sky subtraction .",
    "recently , new slit masks made with laser - cut carbon fiber have already achieved an order of magnitude improvement in edge roughness ( szeto  1996 ) .",
    "an important step by the gemini / gmos team ( stilburn , private communication ) was to use epoxy - bonded sheets made of 3-ply unidirectional carbon fiber with a total thickness of only 200 .",
    "the center ply is orthogonal to the outer plies , and the slits are cut at 45  to the fiber direction .",
    "the low - power nd : yag laser cuts slits at 10  mm s@xmath13 and , remarkably , achieves a 1@xmath22  edge roughness .",
    "let us assume an 8 m size telescope with a larger image scale . at @xmath75 a 1 arcsec",
    "slit would be 600  so the irregularities would be 0.10.2% .",
    "the larger mirror will accumulate more light , so we would reach this limit in a 3 hour exposure , faster if our spectrograph was more efficient . at 0.1% of sky",
    "we are now observing at a surface brightness limit of @xmath76 per arcsec@xmath74 with forseeable multi - slit technology . improving",
    "the instrumental resolution will reduce the amount of spectrum occluded by sky lines , though the peak counts in the lines will stay approximately the same as they will stay unresolved .",
    "there will be a danger of running into detector dark and readout noise limits .",
    "it is clear that the acheivable accuracy of sky - subtraction with the nod - shuffle technique depends on how rapidly the nod - shuffling is done .",
    "if this is done at a fast rate changes in the night - sky background are sampled more accurately , as well as changes in the instrument such as flexure .",
    "however characteristic timescales for the latter are of the order of hours , so sky temporal variations will be the limiting factor on the residuals .    in order to empirically measure the accuracy of sky - subtraction we used a sequence of 8 longslit spectra , collected on 23 april 2000 at the aat in longslit mode .",
    "the targets were faint qsos ( @xmath77 ) in a scheduled aat science project , by arrangement with the observers the observations were done so as to allow us to try out different nod - shuffle times .",
    "the slit wss 4 arcmin long and the longslit data were collected in nod - shuffle mode with the targets nodded 510 arcseconds along the slit . the log of the observations is given in table  [ observations ] .",
    "a sample raw data frame is shown in figure  [ fig - examplels ] .    [ cols=\"^,^,^,<\",options=\"header \" , ]     all the frames had the same total exposure time of 1800s , the only change was the rate of nod - shuffling which we varied from as fast as 15s to as slow as 450s . once the qsos are masked out the sky region of the 2d images can be used to quantify the effect of the nod - shuffle time on sky residuals .",
    "the data processing sequence is extremely simple :    1 .",
    "frames are bias - level subtracted .",
    "2 .   a median - filter smoothed version of each frame is made .",
    "the smoothing is entirely along the spatial ( y ) axis with a smoothing kernel of 21 pixels ( 8.2 arcsecs ) .",
    "because the slit is very closely aligned with the ccd columns ( @xmath78 pixel ) and the ccd has good flat - field characteristics this essentially replaces each pixel with a smoothed estimate robust against cosmic - rays .",
    "the smoothed frame is used to calculate the variance map of the raw frame assuming shot noise from the sky and the know readout noise of the detector .",
    "cosmic rays are identified as @xmath79 peaks in the raw@xmath2smoothed map and used to calculate an exclusion mask .",
    "any pixel within 5 pixels of a cosmic ray peak are masked .",
    "cosmic ray identifications are checked visually .",
    "this mask excludes about 1% of all pixels on each frame .",
    "the cosmic ray mask is ored with another mask which excludes several bad columns and the centre rows where the qso spectra lie .",
    "a sky spectrum is formed for each frame by averaging unmasked pixels along the slit .",
    "a variance spectrum is also calculated .",
    "[ prev ] 7 .",
    "a residual sky spectrum is formed for each frame by repeating step [ prev ] for the residual a@xmath2b frame .    to calculate the fractional sky - residual",
    "we can integrate the residual and sky spectra in wavelength and divide .",
    "absolute flux calibration is not necessary .",
    "we chose two wavelength regions : the first region encompasses the two main oh regions in the @xmath71-band ( 72008880 ) and the second region encompasses the 5577  oi line ( 60  width bandpass ) .",
    "we choose to fit and remove the continuum level from the spectrum before doing the summation .",
    "this is because there is not enough unilluminated space on the detector to allow accurate determination and extrapolation of the level of scattered light . in any case",
    "the integrated sky - brightness is dominated by the lines , not the continuum , and it is the temporal variation of the line flux we are primarily concerned with . since our sky - spectrum is also integrated along 4 arcmins of slit we can go very deep in measuring systematic residuals .",
    "our results are shown in several figures .",
    "firstly figure  [ fig - dsky1 ] shows raw and residual spectra for our two regions for different nod - shuffle times .",
    "figure  [ fig - dsky2 ] shows  plotted against nod - shuffle time for the two regions . there is a clear trend of systematics consistent with scatter around zero at the level of @xmath80 for small nod - shuffle times ( @xmath81100s ) ,",
    "the level of the scatter is about 3@xmath24 . for large nod - shuffle times",
    "@xmath82100s there are gross systematic residuals at the @xmath83 level .",
    "one limitation of our particular nod - shuffle technique is we observe an asymmetric seqeuence : @xmath84 if there was a systematic change in sky - brightness during the course of the observations we would expect to see a residual because the average @xmath85 frame is slightly later in time than the average @xmath86 frame .",
    "a systematic decrease in oh emission during the course of the night is often observed ( leinert  1998 ) .",
    "this effect is normally explained as the result of energy stored during the day in the respective atmospheric layers ( kondratyev 1969 ) .",
    "we see evidence for _ exactly _ this effect , with the correct sign , in our data ( figure  [ fig - dsky3 ] ) .",
    "an additional source of long - term variation is the effect of changing airmass during an extended observing sequence on a single source ( bland - hawthorn et al .",
    "1998 ) . in principle",
    "it is straight - forward to reduce these effects by improving the nod - shuffle method with a symmetric mode , i.e. : @xmath87 then the @xmath88 subtraction would cancel out any linear trend .",
    "however we have yet to try this in our aat implementation .",
    "the effect of drift should also cancel to some extent for long all - night nod - shuffle exposures which bracket local midnight",
    ". it would be desirable to take much longer integrations with a fast nod - shuffle rate to explore the limits of this technique . while we do not have this data as such",
    ", what we can do is stack all our data where the nod - shuffle time is @xmath81100s .",
    "this gives us a 5.5 hour very deep exposure , albeit with a variable nod - shuffle time .",
    "the residual point from the 5.5 hour stack is @xmath89  a @xmath90 detection .",
    "it is important to realise that this is an impressively small residual corresponding to a @xmath91 mags arcsec@xmath44 source .",
    "this level of accuracy is a factor of 1020@xmath0 better than is typically achieved with slits ( see section  [ sec - sky - mslit ] ) .",
    "we also emphasize that this is a lower limit to what could be achieved with faster nod - shuffle times .",
    "one could nod - shuffle faster ( e.g. 10s ) for a whole very long exposure .",
    "also one should implment the symmetric mode to cancel long - term sky - brightness drifts . finally for the ultimate sky - subtraction limits one could combine nod - shuffle _ with _ slits to allow for 2d interpolation and removal of any local residuals after nod - shuffle subtraction .",
    "accuracies of @xmath92 or better should be achievable .",
    "we have shown that the nod - shuffle residuals appear to be characteristically smaller for nod steps below 100  sec compared to longer sample exposures .",
    "we now examine this with a simulation of the nod - shuffle technique using a model which attempts to describe the time - variable behaviour of oh emission .",
    "suitable observations for deriving the temporal power spectrum of oh are hard to come by .",
    "line strength variations on timescales of 510 mins are given by bland - hawthorn  ( 1998 ) for optical lines and ramsay  ( 1992 ) for near - infrared lines .",
    "the latter reference shows the oh behavior to be approximately sinusoidal on timescales of an hour with a peak - to - peak amplitude of about 10% . on longer timescales ,",
    "the oh variation is more erratic .",
    "our model for atmospheric variability uses a finite set of sinusoidal modes with periods 16 , 23 , 26 , 29 , 38 , 51 and 101 mins .",
    "the amplitude of the variations are inversely related to the period such that the 16 min dominates , in rough accordance with the wave - like structures observed by ramsay  ( 1992 ) .",
    "the peak - to - peak amplitude is 15% of the mean line strength . for each mode , there is a 5% dispersion in the period and amplitude , each with random phases .",
    "our predicted behavior is in good agreement with the above references .",
    "however , high cadence observations show clear evidence for stochastic behavior on shorter observational timescales . here , we found data from the 2mass wide - field airglow experiment to be the most useful ( adams & skrutskie 1997 ) .",
    "the h band observations have an order of magnitude finer sampling than in ramsay  ( 1992 ) .",
    "we simulate this by including a component of @xmath93 noise within our model ( cf .",
    "barnes & allan 1966 ) . to generate the @xmath93 component we use gaussian white noise scaled to 5% ( @xmath94 ) of the mean line strength ( see adams & skrutskie 1997 , fig .",
    "2 ) convolved with green s impulse function @xmath95 ( @xmath96 ) ; @xmath97 ( @xmath98 ) . for convenience , we set @xmath99 and sample the time axis in units of seconds . an example time series is shown in figure  [ fig - oh - series ] .    in figure  [ fig - oh - sim ] , we have attempted to simulate nod - shuffle sampling of our model atmosphere .",
    "the total exposure time is 1800 secs and the time series is sampled at all possible time steps ( longer than or equal to 10  sec ) that lead to an integer number of cycles . for each nod exposure",
    ", the simulation was run 10 times .",
    "the mean residuals ( and @xmath94 errors ) are shown as a function of the nod exposure .",
    "there is a evidence for a change in character on either side of about 2  min time steps .",
    "the residuals with 2  min samples or longer are @xmath100 or larger ; the residuals from faster sampling are @xmath101",
    ".    repeated runs of our model atmosphere show that this changeover can be as short as 1  min .",
    "there are also times when short sample time steps lead to big residuals ( e.g. 20  sec ) and when long time steps lead to residuals smaller than @xmath100 .",
    "these are times when the nod - shuffle sequence happens to fall in or out of step with a beating atmosphere .",
    "airglow is clearly a complicated phenomenon : empirically it is clear that the nod - shuffle time should be @xmath102 sec .",
    "the total number of shuffles should not greatly exceed @xmath103 per readout if one is to avoid significant degradation from trapping sites within the silicon substrate ( bland - hawthorn & barton 1995 ) . given the periodic nature of the airglow oscillations it is possible that an optimal shuffle sequence ought to have variable time sampling to avoid beating .",
    "the question arises what is the optimum balance between object and sky time in a nod - shuffle sequence ?",
    "this especially important when we are nodding out of a microslit and the sky frame is not collecting any object photons .",
    "perhaps one should cut down on the relative frequency of sky frames ?",
    "it turns out the optimum balance is in fact 50:50 , i.e. symmetrical .",
    "consider an exposure of total time @xmath104 where a fraction @xmath37 is spent on object and @xmath105 on sky .",
    "let @xmath106 and @xmath52 be the object and sky flux ( photons@xmath18pixel@xmath18sec ) .",
    "we will neglect readout noise which is equivalent to assuming that @xmath104 is long enough that both @xmath106 and @xmath52 are large enough that their shot noise dominates over the readout noise , which is optimum .",
    "we will also assume that the object is much fainter than the sky , i.e. @xmath107 .",
    "we form the residual sky - subtracted image as : @xmath108    then the signal to noise in the residual image is : = @xmath109    @xmath110 has a maximum when @xmath111 , i.e. equal times on object and sky . @xmath37 could be reduced in a scheme where the sky frames were averaged over mulitple observations or multiple slits before subtracting , however one then loses the crucial ability of the simple nod - shuffle scheme to follow precisely short - term and long - term temporal variations in the sky and eliminate local effects such as flat - fielding , fringeing , flexure , slit roughness , etc .",
    ", from the sky subtraction .",
    "finally we note that , not surprisingly , in the case @xmath112 , i.e. the object is much brighter than the sky , the maximum @xmath33 is obtained when as much time as possible on the object .",
    "however in this regime the sky contribution to the statistical noise is negligible so nod - shuffle is not very useful , except possible in a observation where systematic effects were an important concern ( for example velocity dispersion measurements of bright galaxies as discussed in sembach & tonry , 1996 ) .",
    "we conclude our section on sky - subtraction by considering the effect of random interloping objects on the accuracy . in our simple aat implementation we nod between two positions , so there is some chance there will be an interloper in the sky position .",
    "we can estimate this effect using deep galaxy number - magnitude counts ( hogg  1997 ) . at our hdf - s limit of @xmath113",
    "there are @xmath55 60000 galaxies deg@xmath44 which equates to a 1 in 200 chance of a @xmath114 1 arcsec@xmath44 aperture encountering one .",
    "this is consistent with our hdf - s observations where two negative spectra were observed .",
    "this can be alleviated by dithering the sky position .",
    "this can be done in two ways .",
    "firstly seperate nod - shuffle exposures can have _ different _ sky positions .",
    "then the frames can be combined with outlier clipping _",
    "after _ pair - subtraction to effectively remove the interloping spectrum with negligible effect on signal@xmath18noise ( as only a tiny fraction of pixels are rejected ) .    secondly a more technically sophisticated approach would be to drive to a _",
    "different _ sky position on each shuffle .",
    "this would be advantageous for short shuffle runs where there are not many individual exposures .",
    "a disadvantage is that the effective average sky is not outlier clipped , however the flux of interlopers is still greatly reduced .",
    "we note this mode is not possible with our aat system , but is in principle straight - forward to implement .    in view of the remarks in section  [ sec - ultradeep ] about 30 m telescopes it is useful to consider the ultimate achievable limits . for very faint galaxies",
    "it would be sensible to use smaller slits , because the faintest observed objects in the hubble deep field typically have half - light radii of only 0.10.2 arcsecs ( gardner and satyapal , 2000 ) . at this limit ( @xmath115 )",
    "there are of order @xmath116 galaxies deg@xmath44 , so the covering factor at 3 half - light radii is still only 10% . thus the sky - subtraction problem is still tractable with dithering .",
    "finally we note even with an interloper the sky - subtraction itself is still accurate .",
    "this contrasts with the longslit case where the interloper can disturb the interpolation .",
    "the result is the sum of the positive and negative spectrum , if the relative brightnesses are similar and the signal@xmath18noise is sufficient in principle redshifts can be derived for _ both _ objects .",
    "a discussion of the different modes of observing whch have been tried with ldss++ is useful to show the potential new capabilities .",
    "the most conventional mode is multi - object spectroscopy with wide wavelength range .",
    "sample raw data was shown in section  [ implementation ] .",
    "we would like to illustrate briefly two other modes which have been used recently to achieve very high multiplex levels of 10002000 objects per ldss mode .",
    "it is well known that use of a blocking filter to limit the wavelength range of a spectra allows many more slits to be used on a mask without spectral overlap . when this technique combined with the use of microslits an extremely large multiplex results and allows high - density mapping of fields in chosen spectral lines .",
    "for example in the last year ldss++ has been used to map  emission in the core and outskirts of the @xmath117 galaxy cluster ac114 ( couch  2000 ) .",
    "the taurus blocking filter r6 was used which gives a bandpass of 400  for ( and [ nii ] ) at the cluster redshift . using this technique 828 slits",
    "were placed on galaxies in a 8 arcmin field around the cluster .",
    "figure  [ fig - ac114 ] shows a diagram of the spectral layout on the detector , it can be seen that despite the large number of slits and good 2d coveragre of the cluster no overlap occurs .",
    "also shown is a zoom are actual sky - subtracted cluster spectra where the  lines can be seen .",
    "another mode which has been developed for ldss++ takes the multiplex to an extreme limit by taking advantage of the superb sky - subtraction without a slit .",
    "the key idea is to place microslit apertures on large numbers of targets ( up to several thousand ) without regard to spectral overlap , and possibly even without a blocking filter .",
    "of course the dispersed sky from such a configuration will generate a very complex , overlapping pattern .",
    "however this can still be removed by the nod - shuffle technique , and the residual noise level can be easily calculated .",
    "any features left can have a measurable significance assigned to them",
    ".    why would such observing be useful ?",
    "well one example project is illustrated in figure  [ fig - ps ] . here",
    "@xmath118 slits were placed on galaxies selected to @xmath119 in a 7 arcmin field called the ` herschel deep field ' ( mccracken  2000 ) .",
    "the sky is removed by nod - shuffle and a noise map is calculated .",
    "if a galaxy has strong emission lines then they peak up above the noise map .",
    "essentially we are searching virtually all galaxies in the field for emission  so it is similar to a slitless grism survey .",
    "however we still have a mask in the beam so the level of the sky background is enormously reduced ( a factor of 50 in this case ) with corresponding increase in signal : noise . because of the similarity we call this method ` pseudo - slitless ' .",
    "another way of looking at this is we are using our prior knowledge of where galaxies are in the broad - band image to exclude unwanted sky photons .",
    "the background is higher than conventional spectroscopy , but more objects are observed simultaneously . in principle",
    "these effects cancel exactly , if there are @xmath22 times more microslits then the average background is @xmath22 times higher and the exposure has to be @xmath22 times longer for the same signal : noise . in practice",
    "there are gains in efficiency due to factors such as overlap and clustering which complicate slit assigment in the normal case . for the real example in figure  [ fig - ps ] the factor @xmath120 .",
    "how does this approach compare against , for example , narrow - band imaging and scanning in wavelength ? in the pseudo - slitless mode we are pre - selecting from the broad - band so it is possible to miss pure - emission line objects .",
    "if we ignore this difficult to quantify handicap then there is a net gain .",
    "let us assume the tunable - filter instrument has the same absolute throughput as the spectrograph .",
    "the pseudo - slitless approach gives a very large wavelength coverage  in our example 5300 . at a resolution of 20",
    "then that is needs 265 tunable filter settings . in our example",
    "the pseudo - slitless approach has 10 times higher background  so the gain is a factor of @xmath121 , _ for the objects searched_.    some data was collected in this mode in august  1999 .",
    "the project is attempting to quantify the space density of , , [ oii ] , ly@xmath36 line sources at @xmath122 , 0.6 , 1.1 , 5.6 respectively ( glazebrook  2000b ) .",
    "there is of course an inherent ambiguity : if an emission line is detected how can we determine which microslit it came from",
    "? there will be many candidates along it s dispersion track .",
    "this is resolved in two ways : firstly a minimum separation is enforced between slits ( e.g. a few arcsec ) to allow for errors in the traceback .",
    "secondly the observations are made for different mask orientations on the sky . as the grism is kept fixed we get a different set of tracks .",
    "for the observations here positions of 0@xmath123 and 180@xmath123 were used : the emission line is dispersed in opposite directions in each case and the correct microslit lies halfway between them .",
    "finally we note that it is possible to arbitrarily combine the approaches described here .",
    "for example in the pseudo - slitless mode blocking filters can also be used : this will limit the spectral coverage but also reduce the background .",
    "there is a choice as to whether to go for low or high microslit densities  the latter will mean having to deal with confusion and a higher background .",
    "can the nod - shuffle concept be extended to include ir - sensitive devices ?",
    "we have been asked this question many times  since the oh night sky lines account for 98% of the sky background in the j and h bands this would give major gains .",
    "however , infrared arrays are fundamentally different devices from ccds . in conventional arrays , the pixels are not charge - coupled so that charge can not be shifted between pixels ( rieke 1994 , mclean 1997 ) .",
    "ccds are monolayer devices where the charge is normally shifted row by row into the read - out ( shift ) register .",
    "pixels within the read - out register are read out serially towards the output amplifier by means of 2 , 3 or 4-phase shift electrodes . in contrast , the rockwell hybrid arrays are 2-layer devices which use a thin hgcdte film to collect the light , which in turn is connected pixel - by - pixel via indium bump bonds to a mosfet multiplexor . each pixel is addressed in an @xmath124 fashion through the use of a row and a column shift register at two edges of the multiplexor . in the ` source - follower ' multiplexor design",
    ", the bump bond makes contact with a mosfet .",
    "when ir photons hit the light - sensitive layer , the electrons are transferred through the bond to the capacitance - storing mosfet gate .",
    "this gate is bordered by a ` source ' ( grounded ) and ` drain ' .",
    "this circuitry allows for a ` non - destructive read ' ( ndr ) of the voltage across the gate .",
    "another fet is attached to the gate to allow every element of the array to be ` reset ' in a single action .",
    "we have considered possible modifications to the ir array design which would allow for the equivalent of ccd - style charge shuffle operations , i.e. that contains two or more switchable pockets per pixel in which to store charge .",
    "unlike rockwell arrays , there exist multiplexors which use arrays of fets as op - amps which simply transfer photogenerated charge to an integrating capacitor ( e.g. kozlowski 1996 ) .",
    "one could conceive switching between a pair , or more , of integrating capacitors in which to build up charge sequentially over time .",
    "however , the more connections you attach to the detecting node , the more the capacitance goes up , and therefore the read noise.the array multiplexor already has a higher circuit density compared to ccds and this would increase it further .",
    "this would be a very difficult technology to develop .",
    "we have also considered the question of whether the non - destructive read mode with ramp sampling could be used to mimic shuffling , for example by switching between object and sky while sampling up the slope and solving for object and sky count rates simultaneously while still allowing readnoise reduction ( the main point of ramp sampling ) .",
    "this is illustrated in figure  [ fig - ir - nod - ndr ] .",
    "we have solved analytically the case for double - slope least square fitting . if @xmath19 is the total number of reads with error @xmath24 we find for _ large _   @xmath19 that the error on the object slope @xmath125 is given by : @xmath126 where @xmath127 is the number of object - sky sub - intervals ( e.g. @xmath128 in figure  [ fig - ir - nod - ndr ] ) .",
    "if we compare this with the classic single least square formula ( @xmath129 ) , we derive the ratio : @xmath130 the factor of 2 is the usual beamswitching factor encountered in section  [ sec - mplex ] .",
    "we see the effect of beamswitching is to increase the noise in proportion to the number of switches , this is because the switching reduces the baseline for slope fitting .",
    "it turns out for reasonable values of @xmath19 and @xmath127 this is not a useful technique .",
    "for example suppose the array can be read out every second during a 1800 sec exposure .",
    "single least - squares would give a noise reduction of @xmath131 , if we then beamswitch every 30s this becomes a noise _ increase _ of @xmath132 .",
    "finally we note from section  [ sec - theory ] that in any case the assumption that the source is of constant brightness and that counts @xmath133 time is very dubious for the sky .",
    "the airglow is a stochastic phenomenon with a lot of variation and will deviate from a linear growth .",
    "this will generate artificial noise in a line - fitting approach , even with the classical single - line fit .",
    "ndr slope - fitting has become a standard technique at many observatories , but the effects of sky - background variations on noise have not been studied .      the most reasonable option for mimicking something like charge shuffling is to form two adjacent images at the detector either by nodding the collimator or by a physical movement of the array .",
    "the present ir arrays are 1024@xmath01024 pixels in size , although rockwell are expected to produce 2048@xmath02048 formats in the near future .",
    "` detector nodding ' is much the preferred option for a number of reasons .",
    "first , a nodding collimator leads to different light paths for the object and sky positions . secondly , in infrared instrumentation , the collimator must image the pupil onto the cold stop with care .",
    "thirdly , the physical tolerances at the collimator are made much tighter by any focal reduction compared to the tolerances of detector movement .",
    "finally , the array has much the lowest mass of any component of the system , and a 1  hz movement through a few millimeters is not an excessive strain on the electrical bonds .",
    "an advantage of ir ` shuffling ' over optical shuffling is that the stored charge is not subject to trapping sites .",
    "furthermore , the detector needs only to be partitioned into two panels rather than the three panels of optical ccds .",
    "a distinct disadvantage is that in ir shuffling the flatfield structure will be different in object and sky regions . however",
    "this effect can be averaged out by swapping the object and sky positions on the array between successive exposures .    for a detector with 18@xmath5 m pixels ,",
    "the physical movement of the array should be accurate to better than 2% of a resolution element ( assumed to be 3 pixels ) .",
    "precision movement to this level is routinely achieved in , say , a mechanism for optical focussing .",
    "but within a cryogenic environment , 1@xmath5 m accuracy presents a moderate challenge .",
    "this seems feasible with either a linear variable differential transformer ( lvdt ) or a linear encoder .",
    "piezo - electric control at cryogenic temperatures is a more difficult prospect .",
    "we note that a well sampled resolution element ( say 5 pixels width ) may in fact allow wavelength calibration to sufficiently high accuracy between the object and sky exposures that the precision can be relaxed by post - analysis .",
    "however , data analysis is greatly simplified by the ability to remove sky accurately by straight subtraction since no interpolation is required .",
    "the nod - shuffle technique allows accurate sky - subtraction without requiring sky spectra which are spatially contiguous on the detector and the sky .",
    "thus it is particularly suitable for non - contiguous optical systems such as fiber spectrographs and integral field unit spectrographs ( ifus ) , both fiber based and non - fiber based .",
    "application of fibers to faint spectroscopy have been limited by sky - subtraction accuracies of typically 3% ( wyse & gilmore 1992 ) , which are due to variable fiber transmission .",
    "the nod - shuffle technique can be applied to fiber spectrographs providing there is spare room on the detector as outlined earlier , the 2d shuffled subframe of sky spectra through the fibers is simply subtracted from the 2d object subframe .",
    "due to the quasi - simultaneity the effect of varying fiber throughput , which varies on a much long timescale ( hours ) , will cancel out as the sky is observed through exactly the same fibers . at the aat we have already experimented with nod - shuffle using the two degree field fiber spectrograph and have obtained shot noise limited subtraction implying systematics @xmath134 ( glazebrook 1999 ) .",
    "the application to ifu s is also straight - forward .",
    "accurate sky - removal is achieved by subtracting the shuffled frames before individual ifu element spectra are extracted and assembled to make a data cube . just like the slit case",
    "the object could be nodded between two positions on the ifu , or the nod throw could be large enough to move the whole ifu to clear sky .",
    "while the effect of calibration of elements on sky - subtraction is eliminated , it must still be solved if accurate spectro - photometry is desired .",
    "the promise of nod - shuffling is of course that the extreme precision of sky cancellation will allow very very long deep spectroscopic exposures . it is interesting to compare ground - based spectroscopy with space astronomy ( x - ray , ir , etc . ) . in the latter it is common to see total exposures of many days to weeks in total , whereas in the former it is rare to see total exposures of longer than a night s observing .",
    "why is this ?",
    "the answer is because of the high sky background then one reaches a limit in only a few hours observing where one is dominated by the systematics of how well one can remove it .",
    "this is doubly important because the sky spectrum exhibits extraordinarily complex structure .",
    "also as we have seen in section  [ sec - sky - mslit ] there are a large number of _ seperate _ instrumental effects which _ all _ operate at the @xmath135 level .",
    "the beauty of the nod - shuffle technique is that it is a perfectly differential experiment and all of these effects are removed simultaneously from the sky - subtraction process .",
    "they still affect the object spectrum , but that is far less important compared to the random noise .",
    "the question arises then will the nod - shuffle technique permit the use of ultra - deep exposures , lasting @xmath136 secs , for optical spectroscopy ?",
    "we believe it can . at the level of sky - subtraction precision",
    "demonstrated we estimate that one could obtain a good spectrum of a @xmath137 galaxy ( i.e. @xmath90 above the sky limit ) . at a resolution of @xmath138",
    "one could reach this in a 200,000 sec exposure ( 7 nights ) on a 10 m telescope with a 35% efficient spectrograph .",
    "using microslits one could squeeze many parallel targets into even a small field .",
    "we re - emphasize that we believe our current sky - subtraction accuracy is only an upper limit to what can be achieved .",
    "the sky - background can be reduced further by observing at higher - resolution so the oh lines do not dominate the spectrum .",
    "the intra - oh continuum variations may be far less rapid so even greater accuracy could be obtained .",
    "assuming we could reach @xmath92 of the sky at a resolution @xmath139 , then faintest object would be @xmath140 .",
    "this could be reached in a @xmath141 second exposure ( 3 years ! ) or a more reasonable @xmath142 exposure if the spectrum was post - hoc rebinned to @xmath143 .",
    "3050 m telescopes are being planned at the time of writing , these would reach the same limits an order of magnitude faster .",
    "we emphasize that _ without nod - shuffle _ , or equivalent , techniques these telescopes would reach the systematic limit for spectroscopy in a mere one hour exposure !",
    "we have explained the virtues of the nod - shuffle technique for ccd - based optical spectroscopy : we reach a new level of sky - subtraction precision of 0.04% .",
    "this is in accord which predictions from a reasonable physical model of atmospheric airglow .",
    "we have outlined our thoughts on ir techniques equivalent to nod - shuffle .",
    "possibly new circuit designs would allow charge storage but would need to be developed .",
    "given the importance of ir spectroscopy on future large telescopes the scientific case for doing so is strong . failing this",
    "we have outlined a less satisfactory , but still useful concept , for physically moving the ir array .    for very large telescopes ( 10 m and greater )",
    "the precision of sky - subtraction is a real barrier for ultra - deep spectroscopic exposures .",
    "the systematic limit of ordinary slit subtraction is reached in only a few hours .",
    "the nod - shuffle technique offers a remedy , and promises the possibility of extremely long exposures , it s ultimate performance remains to be explored .",
    "leinert , ch . ,",
    "bowyer , s. , haikala , l. k. , hanner , m. s. , hauser , m. g. , levasseur - regourd , a .- ch .",
    ", mann , i. , mattila , k. , reach , w. t. , schlosser , w. , staude , h. j. , toller , g. n. , weiland , j. l. , weinberg , j. l. , witt , a. n. , 1998 , a&as , 127 , 1"
  ],
  "abstract_text": [
    "<S> we describe a new approach to obtaining very high surface densities of optical spectra in astronomical observations with extremely accurate subtraction of night sky emission . </S>",
    "<S> the observing technique requires that the telescope is nodded rapidly between targets and adjacent sky positions ; object and sky spectra are recorded on adjacent regions of a low - noise ccd through charge shuffling . </S>",
    "<S> this permits the use of extremely high densities of small slit apertures ( ` microslits ' ) since an extended slit is not required for sky interpolation . </S>",
    "<S> the overall multi - object advantage of this technique is as large as 2.9@xmath0 that of conventional multi - slit observing for an instrument configuration which has an underfilled ccd detector and is always @xmath1 for high target densities . </S>",
    "<S> the ` nod - shuffle ' technique has been practically implemented at the anglo - australian telescope as the `` ldss++ project '' and achieves sky - subtraction accuracies as good as 0.04% , with even better performance possible . </S>",
    "<S> this is a factor of ten better than is routinely achieved with long - slits . </S>",
    "<S> ldss++ has been used in various observational modes , which we describe , and for a wide variety of astronomical projects . </S>",
    "<S> the nod - shuffle approach should be of great benefit to most spectroscopic ( long - slit , fiber , integral field ) methods and would allow much deeper spectroscopy on very large telescopes ( 10 m or greater ) than is currently possible . </S>",
    "<S> finally we discuss the prospects of using nod - shuffle to pursue extremely long spectroscopic exposures ( many days ) and of mimicking nod - shuffle observations with infrared arrays .    _ </S>",
    "<S> accepted for publication in pasp _ </S>"
  ]
}