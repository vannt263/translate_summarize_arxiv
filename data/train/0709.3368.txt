{
  "article_text": [
    "the alignment of the cms tracking and muon detectors represents a particular challenge , because the number of alignment parameters to be determined with high accuracy is very large .",
    "in particular , aligning the @xmath0 silicon modules of the pixel and strip tracker with a precision which is comparable to or better than their intrinsic resolution of @xmath1 , requires solving a problem with @xmath2 unknowns .",
    "in addition to survey measurements at construction time and optical ( laser ) alignment  @xcite , track based alignment will be a necessary ingredient to approach this huge challenge ( see also  @xcite ) .    at the time of this workshop , a lot of activities related to track based alignment were ongoing already in cms , and are summarized in  @xcite .",
    "three different alignment algorithms have been implemented in the cms software within a common framework .",
    "alignment studies applying these algorithms to various monte carlo data sets have been performed .",
    "the advantage of having several algorithms at disposal is that the obtained results can be cross - checked using different algorithms with different systematics .",
    "see section  [ sec : datasets ] on the data sets considered for alignment .",
    "other activities related to track - based alignment are the development of a dedicated alignment stream produced during the prompt reconstruction at the tier-0 , which uses a special reduced data format ( `` alcareco '' ) .",
    "it will enable to run track based alignment with a short turn - around time after the data have been taken .",
    "moreover , a framework is being developed in order to combine the results of track - based and laser alignment , and with survey data .",
    "the benefits of using mass and vertex constraints , as well as of overlapping tracker modules are also studied .",
    "further work is ongoing in order to establish observables sensitive to misalignment other than @xmath3 , in order to fix global transformations which leave the @xmath3 unchanged .",
    "the following data samples are currently considered for alignment :    * * high @xmath4 muons from @xmath5 : * + these constitute the primary source of high quality tracks for alignment , because of their high transverse momentum and small amount of multiple scattering in the tracker material . a compilation of the expected event rates after hlt is shown in tab .",
    "[ tab : zwrates ] . * * cosmic muons : * + cosmics are a valuable source of tracks since they are available already before the first beams are in the lhc machine .",
    "they are particular useful for the alignment of the barrel tracker and muon detectors .",
    "estimates show that the rate for cosmic muons accepted by the l1 trigger and standalone muon reconstruction is around @xmath6  @xcite . * * beam halo muons : * + as soon as the lhc will be commissioned with single beams , near - horizontal beam halo muons constitute a valuable source of tracks for the alignment of the tracker and muon endcaps .",
    "a rate of @xmath7 is expected per side accepted by the l1 muon trigger and standalone muon reconstruction  @xcite .",
    "a problem arises for the tracker due to the fact that the muon endcap trigger has no acceptance for radii covered by the tracker endcap .",
    "it is foreseen to install dedicated scintillators in order to trigger beam halo muons within the tracker acceptance . * * muons from @xmath8 and b hadron decays : * + even though having a comparatively small transverse momentum spectrum , these will be very useful in particular at the start - up of the lhc , when luminosities will be modest and muons from @xmath9 decays are not yet available .",
    "in addition , for muons from @xmath10 an invariant mass constraint can be used . *",
    "* isolated tracks from qcd events : * + at low luminosities this will be the only source of collision tracks which might be useful for alignment .",
    "multiple scattering in the tracker material is clearly an issue , but studies show that these events could be useful at least for the alignment of the pixel detector .",
    "the earliest information on the tracker and muon alignment will come from survey measurements carried out during construction , as well as from the laser alignment systems .",
    "the alignment can then be improved upon with cosmics as well as with beam halo muons .",
    "the current lhc startup schedule foresees a 2 - 3 week _ calibration run _ at @xmath11 and luminosities not exceeding @xmath12 at the end of 2007 .",
    "since no high @xmath13 muons from @xmath14 decays will be available under these conditions , minimum bias qcd events will constitute the only source of tracks for alignment .",
    "in addition , the pixel detector will not yet be installed . if possible , a first track - based alignment of composite strip tracker structures ( layers etc . ) could be performed .    during the winter shutdown 2007/8",
    "the pixel detector will be installed and the subsequent _ pilot physics run _",
    "will aim at luminosities up to @xmath15 .",
    "this will allow to accumulate large statistics of high quality muon tracks from @xmath14 decays in a short timescale ( table  [ tab : zwrates ] ) .",
    "a two - step procedure is currently foreseen to align the tracker : first , a standalone alignment of the pixel detector will be carried out .",
    "second , the strip tracker will be aligned , using the pixel detector as a reference system .",
    "track - based alignment was shown to be the optimal method for the alignment of large tracking detectors in previous experiments . however , it represents a major challenge at cms because the number of degrees of freedom involved is very large : considering 3 + 3 translational and rotational degrees of freedom for each of the @xmath16 modules leads to @xmath2 alignment parameters , which have to be determined with a precision of @xmath17 .",
    "moreover , the full covariance matrix is of size @xmath18 .    in cms ,",
    "three different track - based alignment algorithms are implemented in the reconstruction software , using a common software framework .",
    "some of them have been successfully used at other experiments , others are newly developed . in the following ,",
    "the main features and initial results of using these algorithms in cms are summarized .      within the cms software",
    "it is not necessary to apply ( mis)alignment corrections to the geometry already at the simulation step . instead , ( mis)alignment can be applied `` on the fly '' during reconstruction .",
    "dedicated software tools have been implemented to move and rotate parts of the tracking or muon detectors in a hierarchical way  @xcite .",
    "in addition , a so - called _ alignment position error _ can be added to the intrinsic uncertainty of reconstructed hits in order to take the effects of misalignment into account in the track reconstruction .",
    "two dedicated _ misalignment scenarios _",
    "@xcite have been implemented which emulate the expected misalignment for different phases of data taking : the _ first data taking _ scenario and the _ long term _ scenario",
    "( for details see  @xcite ) .",
    "a fast track refit has been implemented in the reconstruction software , such that redoing the full pattern recognition is avoided  .",
    "alignment studies are performed using the reduced _ alcareco _ format , in which only the tracks used for alignment are kept in the event ( e.g. the two muon tracks in case of @xmath19 events ) .",
    "this significantly improves both the disk space needed as well as the alignment algorithm performance .",
    "the alignment algorithms have been implemented in the standard cms reconstruction software using a common layer of software , which provides all features which are common to all algorithms , for instance the management of alignment parameters and covariance matrices , the calculation of derivatives with respect to track or alignment parameters , input / output and an interface to the cms offline conditions database .",
    "an iterative alignment algorithm using the hits and impact points ( hip ) method was developed in  @xcite .",
    "it is able to determine the alignment of individual sensors by minimizing a local @xmath3 function depending on the alignment parameters , constructed from the track - hit residuals on the sensor .",
    "correlations between different sensors are not explicitly included , but taken care of implicitly by iterating the method , which involves consecutive cycles of calculating the alignment parameters and refitting the tracks .",
    "the algorithm is computationally light because no inversion of large matrices is involved .",
    "an alternative implementation of the algorithm is designed to align composite detector structures for a common translation and rotation  @xcite , for example pixel ladders or layers .",
    "the composite alignment involves only a small number of parameters , and therefore a rather small number of tracks is sufficient to carry out alignment already in the beginning of data taking .",
    "the hip algorithm has been used in  @xcite for the alignment of the pixel barrel modules using the first data taking misalignment scenario .",
    "the pixel endcaps and the strip tracker are not misaligned .",
    "the procedure has been iterated 10 times using 200 000 simulated @xmath20 events .",
    "figure  [ fig : hipkalman ] ( left ) shows the differences between the true and estimated alignment parameters .",
    "the convergence is good , with rms values of @xmath21 for the @xmath22 coordinates , respectively .",
    "the algorithm was also applied to a test beam setup  @xcite .",
    "a method for global alignment using charged tracks can be derived from the kalman filter .",
    "the method is iterative , so that the alignment parameters are updated after each track .",
    "it can be formulated in such a way that no large matrices have to be inverted  @xcite . in order to achieve a global alignment the update",
    "is not restricted to the detector elements that are crossed by the track , but can be extended to those elements that have significant correlations with the ones in the current track .",
    "this requires some bookkeeping , but keeps the computational load to an acceptable level .",
    "it is possible to use prior information about the alignment obtained from mechanical survey measurements as well as from laser alignment .",
    "the algorithm can also be extended to deal with kinematically constrained track pairs ( originating from particle decays ) .",
    "the algorithm has been implemented in the cms software and studied in two small subsets of the silicon tracker : a telescope - like section of the inner and outer barrel , and a wheel - like subset of the inner barrel , consisting of 156 modules in 4 layers .",
    "the tracks used were simulated single muons with @xmath23 .",
    "random misalignment with a standard deviation of @xmath24 was applied to the local @xmath25 and @xmath26 positions of the modules .",
    "results from the alignment of the wheel - like setup are shown in figure  [ fig : hipkalman ] ( right ) .",
    "it shows the evolution of the differences between true and estimated @xmath25-shifts for layers 1 and 2 .",
    "a total of 100 000 tracks were processed .",
    "as can be seen , the speed of convergence depends on the layer . for more details , see  @xcite .",
    "millepede  @xcite is a well established and robust program package for alignment which has been used successfully at other experiments , for example at h1 , cdf , lhcb and others .",
    "being a non - iterative method , it has been shown that it can improve the alignment precision considerably with respect to other algorithms .",
    "millepede is a linear least - squares algorithm which is fast , accurate and can take into account correlations among parameters . in the least - squares",
    "fit local track parameters and global alignment parameters are fitted simultaneously .",
    "the solution for the alignment parameters is obtained from a matrix equation for the global parameters only . for @xmath27 alignment parameters",
    "this requires the inversion of a @xmath28 matrix .",
    "however , this method can only be used up to @xmath29 due to cpu and memory constraints .",
    "the alignment of the cms tracker exceeds this limit by one order of magnitude .",
    "therefore , a new version millepede - ii  @xcite was developed , which offers different solution methods , and is applicable for @xmath27 much larger than @xmath30 . in millepede - ii , in addition to the matrix inversion and a diagonalization method , a new method for the solution of very large matrix equations is implemented .",
    "this minimum residual method applicable for sparse matrices determines a good solution by iteration in acceptable time even for large @xmath27 . for more details , see  @xcite .",
    "millepede - ii has been interfaced to the cms software and the alignment of parts of the cms tracker has been carried out using different scenarios  @xcite . as an example , figure  [ fig : millepede ] ( left ) shows hit residuals in @xmath31 for the new iterative method .",
    "each individual sensor of the tracker was misaligned .",
    "the alignment procedure was carried out in the barrel region ( @xmath32 ) of the strip tracker using 1.8 million @xmath20 events .",
    "the pixel layers and the outermost barrel layer were kept fixed , resulting in @xmath33 alignment parameters .",
    "the convergence is very good , and the results obtained are identical to those using the matrix inversion method , but the new method being faster by about three orders of magnitude .",
    "figure  [ fig : millepede ] ( right ) shows the needed cpu time as a function of the number of alignment parameters for the diagonalization and matrix inversion methods as well as for the new method used in millepede - ii .",
    "it can be seen that millepede - ii is expected to be capable to solve the full cms tracker alignment problem within reasonable cpu time .",
    "millepede - ii has also been used  @xcite to investigate the global correlations between alignment parameters in the case of the cms tracker .",
    "it turns out that in certain cases these correlations can be very high ( above @xmath34 ) .",
    "studys show that it is very important to combine samples of tracks with different topologies , such as collision tracks and cosmics , in order to reduce these global correlations .",
    "the cms muon system consists of 790 individual chambers with an intrinsic resolution in the range @xmath35 .",
    "excellent alignment of the muon system is particularly important to ensure efficient muon triggering and good track momentum resolution at large momenta , where the resolution is dominated by the muon detector .    for optimal performance of the muon spectrometer over the entire momentum range up to 1 tev",
    ", the different muon chambers must be aligned with respect to each other and to the central tracking system to within @xmath36 . to control misalignment during commissioning and to monitor further displacements during operation , which can be of the order of one mm",
    ", cms will combine measurements from an optical - mechanical system with the results of track based alignment  @xcite .",
    "two approaches are pursued : alignment using tracks which are extrapolated from the tracker , and a standalone muon alignment ( fig .",
    "[ fig : muonali ] ) .",
    "the alignment of the cms tracker and muon detectors constitutes a significant challenge due to the large number of parameters ( @xmath37 in the tracker ) as well as the high intrinsic resolution of the detectors .    even though lhc operation is still more than one year away , a lot of activities are ongoing already now related to track based alignment in cms .",
    "the initial results obtained with the three considered alignment algorithms are very promising , although a realistic alignment of the full tracker at the sensor level is yet to be demonstrated . in addition",
    ", real data from tracker test setups as well as from the _ magnet test and cosmic challenge _ are being studied for alignment .",
    "work is ongoing on further improving the alignment software and strategy , in order to be well prepared once the first collisions will be delivered by the lhc .                                                    in the strip tracker barrel before ( red ) and after ( black ) alignment using millepede - ii .",
    "right : cpu time as a function of alignment parameters for matrix inversion ( blue ) and millepede - ii .",
    ", title=\"fig : \" ]   in the strip tracker barrel before ( red ) and after ( black ) alignment using millepede - ii .",
    "right : cpu time as a function of alignment parameters for matrix inversion ( blue ) and millepede - ii .",
    ", title=\"fig : \" ]     estimator for muon chambers in different wheels for aligned ( solid line ) and @xmath40 displaced samples of @xmath41 .",
    ", title=\"fig : \" ]   estimator for muon chambers in different wheels for aligned ( solid line ) and @xmath40 displaced samples of @xmath41 .",
    ", title=\"fig : \" ]"
  ],
  "abstract_text": [
    "<S> the strategy for track based alignment of the cms tracking and muon detectors is presented . after an overview over the used data samples , </S>",
    "<S> the general alignment strategy is presented , with a focus of the procedures envisaged at the start of data taking in 2007/8 . </S>",
    "<S> the three currently used alignment algorithms are discussed and first results on their application to the cms tracker are presented , as well as studies on the alignment of the muon detector with tracks .    2 </S>"
  ]
}