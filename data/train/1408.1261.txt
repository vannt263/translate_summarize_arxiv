{
  "article_text": [
    "define the following * interval rank function * @xmath8 , from @xmath0 matrices over a field , to the space of upper - triangular @xmath9 matrices : @xmath10 note that @xmath8 is unchanged by row operations , so is only a function of the row span , and hence descends to a function on the @xmath11-grassmannian @xmath1 .",
    "it turns out ( proposition [ prop : intdefsagree ] ) that the data of @xmath12 is equivalent to that of an upper triangular partial in any row and column ] permutation matrix @xmath13 of rank @xmath14 , where @xmath15\\big|   - \\#\\{\\text{$1$s in $ f(m)$ that are weakly southwest of $ ( i , j)$}\\}.\\ ] ] conversely , given the partial permutation @xmath16 ( and its associated rank matrix @xmath8 ) we can define two * interval positroid varieties * in the @xmath11-grassmannian : @xmath17 by proposition [ prop : intdefsagree ] , these are special cases of the _ positroid varieties _ studied in @xcite , giving us the facts that    1 .",
    "@xmath18 is smooth and irreducible ( in particular , nonempty ) , and @xmath19 is its closure , 2 .   @xmath19 is normal and cohen - macaulay , with rational singularities , and 3 .",
    "the intersection of any set of @xmath20 is a ( reduced ) union of others .",
    "more specifically , they are the grassmann duals of the _ projection varieties _ of @xcite , which are not as general as the _ projected richardson varieties _ of @xcite , which are ( in type @xmath21 ) exactly all the positroid varieties .",
    "i thank brendan pawlowski for help navigating this terminology .",
    "if the partially defined @xmath16 is defined exactly on @xmath22 $ ] , and increasing on there , then @xmath19 is a * schubert variety*.",
    "the class of interval positroid varieties also includes opposite schubert varieties ( by reversing the interval ) , and their intersections , the * richardson varieties . *",
    "still more generally , it includes ( theorem [ thm : vakilvarieties ] ) the varieties appearing in vakil s paper @xcite used to compute schubert calculus on @xmath1 .",
    "in this paper we answer the following questions ( really , one question ) :    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ what is the expansion of the cohomology class , or better , the equivariant @xmath6-theory class @xmath23 $ ] in the opposite schubert basis @xmath24 \\}$ ] of @xmath25 ?",
    "these coefficients are known to be positive in a suitable sense @xcite ; what is a combinatorial formula for which this positivity is manifest ? _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    an answer to the first question was given in @xcite ( in @xmath26 ) and @xcite ( in @xmath4 ) , in terms of affine stanley symmetric functions , but it is not manifestly positive .",
    "as our results will look exactly the same in equivariant cohomology ( over @xmath27 ) as in the equivariant chow ring ( over an arbitrary field ) , and in topological vs. algebraic @xmath6-theory , we will use the more - familiar topological terminology throughout .",
    "in  [ ssec : ht ] we state our formul  in ordinary and equivariant cohomology . in  [ ssec : shifting ] we describe the geometry we use to derive this formula , an extension of the degenerative technique from @xcite . in  [ ssec : main ] we give the actual derivation . in ",
    "[ ssec : kt ] we explain the modifications necessary to compute in ( equivariant ) @xmath6-theory .",
    "in particular , when @xmath19 is a richardson variety this allows us to extend vakil s results from cohomology to equivariant @xmath6-theory . in a companion paper",
    "@xcite we apply these results to `` direct sums of schubert varieties '' , another class of interval positroid varieties .",
    "consider the * label set * @xmath28 , where only the latter group are called * letters * , and consider the following tile schema , with * pipes * connecting the edges of a square :    call these the * crossing * and * elbows * tiles , and the @xmath29 elbows the * equivariant tile*s and @xmath30s on these tiles are not quite the same as those on the puzzle pieces from @xcite ; see theorem [ thm : vakilvarieties ] for the connection . ] .",
    "we will often want to determine a tile from its south and east labels , and this can be done uniquely unless both are @xmath31 .",
    "we will tile these together , such that the boundary labels of adjoining tiles match up , making continuous `` pipes '' from boundary to boundary bearing well - defined labels .",
    "define an * ip pipe dream * ( the ip for `` interval positroid '' ) to be a filling of the upper triangle of an @xmath9 matrix , such that    * on the east edges ( of each @xmath32 square ) , there are no @xmath30 labels , * on the south edges ( below each @xmath33 square ) , there are no @xmath31 labels , * on the west edges ( west of each @xmath33 square ) , there are _ only _ @xmath31 labels + ( we will derive this from other + conditions , in proposition [ prop : west0s ] ) , * on the north edges ( above each @xmath34 square ) , there are only @xmath31s and @xmath30s , * no two pipes of the same label cross , and finally , * * no two _ lettered _ pipes cross twice . * + this is the only nonlocal condition .",
    "in fact the @xmath30 acts more like a special letter than like the @xmath31 ( especially in  [ ssec : viable ] ) ; for example the `` no two lettered pipes cross twice '' rule applies even if @xmath30 is considered to be a letter , because of the second condition on crossing tiles .",
    "each lettered pipe connects a horizontal edge below the diagonal to a vertical edge on the east side . since @xmath35 in crossing tiles",
    ", the @xmath36th @xmath37 from the left must connect to the @xmath36th @xmath38 from the top . by the nonlocal condition ,",
    "the @xmath36th @xmath21 pipe will cross the @xmath39th @xmath40 pipe either once or not at all , and can be predicted from the boundary and the jordan curve theorem .",
    "we think of two ip pipe dreams as equivalent if they differ only in the letter labels .",
    "this _ includes _ the possibility of folding two letters into the same letter ( only allowed if those pipes do nt cross , which as just explained can be predicted from the boundary ) .    to an ip pipe dream @xmath41",
    ", we associate two objects :    * @xmath42 , an upper triangular partial permutation depending on only + the south and east labels of @xmath41 , and * @xmath43 , a partition depending on only the north labels .",
    "the partial permutation @xmath42 is induced by the lettered pipes , ( i.e. not labeled @xmath44 ) , as follows . for each lettered pipe in @xmath41 , place a @xmath30 in @xmath42 above the south end of the pipe , and",
    "left of the east end .",
    "in particular , the @xmath30s coming from pipes of a given letter are arranged nw / se ( since such pipes do nt cross )",
    ". the ip pipe dreams in figure [ fig : ippipesex ] are all those with @xmath42 being the partial permutation @xmath45 .",
    "the english partition @xmath43 in the fourth quadrant of the cartesian plane is read as follows .",
    "start at the point @xmath46s across the north side@xmath47 and reading the north side of @xmath41 from left to right , move down for each @xmath30 , and left for each @xmath31 .",
    "the region above the resulting path is the partition @xmath43 , and @xmath48 . as we will see later , @xmath49equivariant tiles in @xmath41 . in the ip pipe dreams in figure [ fig : ippipesex ] , the partitions are @xmath50 respectively .",
    "[ thm : hformula ] in @xmath51 , expanding @xmath23 $ ] in the @xmath52-basis of opposite schubert classes gives @xmath53     = \\sum_{p : f(p)=f\\atop \\text { $ p$ has no equivariant tiles } } [ x^{\\lambda(p ) } ]    \\quad=\\quad \\sum_\\lambda \\#\\bigg\\ { p\\ : \\",
    "{ f(p)=f,\\ \\lambda(p)=\\lambda \\atop    \\text { $ p$ has no equivariant tiles } } \\bigg\\}\\ [ x^\\lambda].\\ ] ]    let @xmath54 be the diagonal matrices . as @xmath19 is preserved by this group",
    ", it defines a class in @xmath51 , again denoted @xmath23 $ ] .",
    "the corresponding expansion in the basis requires coefficients from @xmath55 $ ] , where @xmath56 is the character @xmath57 on @xmath7 .",
    "define @xmath58 ( for `` weight '' ) as the product of @xmath59 , over all equivariant tiles @xmath60 . in the ip pipe dreams in figure [ fig : ippipesex ] ,",
    "the weights are @xmath61 respectively .",
    "[ thm : htformula ] in @xmath51 , expanding @xmath23 $ ] in the @xmath62-basis of opposite schubert classes gives @xmath53 = \\sum_{p:\\ f(p ) = f }",
    "wt(p)\\ [ x^{\\lambda(p)}].\\ ] ] specializing each @xmath56 to @xmath31 recovers the previous theorem .",
    "this formula is manifestly graham - positive is a subvariety , and @xmath63 = \\sum_\\pi c_\\pi [ x^\\pi ] , c_\\pi \\in h^*_t$ ] is the expansion in opposite schubert classes , then each coefficient @xmath64 is not only a sum of products of simple roots , but can be written as a sum of products of _ distinct , positive _ roots .",
    "this formula for @xmath23 $ ] also does this . ]",
    "@xcite . in the figure [ fig : ippipesex ]",
    "example , it says @xmath65 = [ x^{(2 ) } ] + [ x^{(1,1 ) } ]   + ( y_1-\\cancel{y_2}+\\cancel{y_2}-y_4 ) [ x^{(2,1 ) } ] \\qquad \\in h^*_t({{gr_{k}({{\\mathbb a}}^{n})}}).\\ ] ]      in this paper `` variety '' means `` reduced and irreducible scheme '' , and any `` subvariety '' will be closed .",
    "also , @xmath66 $ ] denotes @xmath67 .",
    "let @xmath68 be a @xmath7-invariant subvariety of @xmath1 , and for @xmath69 $ ] define the * ( geometric ) shift * of @xmath68 @xmath70 where @xmath71 is the matrix with a @xmath30 at @xmath72 and @xmath31s elsewhere .",
    "( the precise definition of such a limit is recalled in  [ sec : shifting ] . )",
    "then the limit scheme @xmath73 is again @xmath7-invariant , and defines the same homology and @xmath6-class as @xmath68 itself .",
    "i learned of this construction from @xcite , but as we explain in  [ sec : shifting ] , it is closely related to the erds - ko - rado shifting construction @xcite in extremal combinatorics .    to keep track of the equivariant class , we also need the * ( geometric ) sweep * of @xmath68 , @xmath74    for general @xmath68 , these schemes can be very difficult to compute ; we give some general results in  [ sec : shifting ] .",
    "but certain shifts of certain interval positroid varieties are tractable .",
    "call @xmath72 an * essential box * for the partial permutation @xmath16 if its rank condition @xmath75 is not implied by the rank condition for any of @xmath76 .",
    "( there is an easy combinatorial description of these from @xcite , recalled in  [ sec : ip ] . )",
    "call a shift @xmath72 * safe for @xmath16 * if for each essential box @xmath77 , either @xmath78 $ ] , or @xmath79 $ ] , or @xmath80 .",
    "[ thm : safeshiftintro ] if the shift @xmath72 is safe for @xmath16 , then @xmath81 is again an interval positroid variety , and @xmath82 is a certain reduced union @xmath83 of interval positroid varieties . if @xmath84 is indeed an essential box for @xmath16 , then @xmath53 = ( y_i - y_j ) \\big[{\\psi}_{i\\to j } \\pi_f\\big ] + \\sum_{f'\\in c } [ \\pi_{f'}]\\ ] ] as elements of @xmath51 .",
    "if @xmath84 is not an essential box for @xmath16 , then @xmath19 is * @xmath85-invariant * , in that @xmath86 .    if @xmath87 for an ip pipe dream using @xmath88 distinct letters , then @xmath82 has at most @xmath89 components . is explored in ",
    "[ sec : puzzles ] . ]",
    "the intersection of any set @xmath90 of these components is again an interval positroid variety @xmath91 .",
    "in particular , as @xmath6-classes , @xmath53 = [ { \\textcyr{x}}_{i\\to j } \\pi_f ]     = \\bigg [ { \\bigcup}_{f'\\in c } \\pi_{f ' } \\bigg ]    = \\sum_{s \\subseteq c,\\ s\\neq \\emptyset } ( -1)^{|s|-1}\\ [ \\pi_{f(s)}].\\ ] ]    the precise version of the theorem ( enumerating the components in @xmath92 ) will be theorem [ thm : safeshift ] , which also includes the extension to @xmath93 .      given an ip pipe dream @xmath41 , and a box @xmath94 , define ( as in figure [ fig : slice ] ) the * slice @xmath95 of @xmath41 at @xmath72 * as the data of the labels on    * the south edges of @xmath96 * the east edges of @xmath72 and @xmath97 .    not every labeling @xmath98 of these edges arises from an ip pipe dream ; we spell out the conditions in  [ sec : main ] . to each `` viable '' slice @xmath98",
    ", we associate in  [ sec : main ] a partial permutation @xmath99 . for now , it suffices to mention that @xmath100 , and @xmath101 .    given a slice @xmath98",
    ", we can consider what tiles can be placed at @xmath72 , making new slices @xmath102 at @xmath103 ( or at @xmath104 if @xmath105 ) .",
    "[ thm : main ] let @xmath98 be a slice at @xmath72 , and @xmath106 the associated interval positroid variety ( defined in  [ sec : main ] ) .",
    "the shift @xmath72 is safe for @xmath99 .",
    "let @xmath107 be the set of viable slices arising from a tile at @xmath72 .    1 .   if the south and east labels of @xmath72 in @xmath98 are not both zero , then @xmath106 is @xmath85-invariant .",
    "there is a unique @xmath102 , and its @xmath108 is unchanged from @xmath99 . 1 .   if the labels are equal but not @xmath31 , forcing the @xmath109 elbows tile , then @xmath110",
    "2 .   if the labels are distinct , forcing the crossing tile , then @xmath111 ( and is undefined if the east label is @xmath31 ) .",
    "if the south and east labels of @xmath72 in @xmath98 are both @xmath31 , then the various @xmath112 are the sweep ( for the equivariant tile ) and the components of the shift ( for the other possible tiles ) .",
    "this is the inductive step by which theorem [ thm : htformula ] is proved , where @xmath36 decreases from @xmath113 to @xmath30 , and for each @xmath36 we take @xmath39 from @xmath113 down to @xmath114 .",
    "this is exactly the sequence of shifts used in @xcite , though vakil does nt use the shifting formalism .        to compute in equivariant @xmath6-theory , we need a new kind of label @xmath115 on the _ vertical _ edges : it is a word in @xmath116 ( no @xmath31s ) , no letters repeating , and if it contains @xmath30 then the @xmath30 must be at the end .",
    "there are now four kinds of tiles , including the fundamentally new `` displacer '' tile :    define a * @xmath6-ip pipe dream * as one built from these tiles , with the same conditions as on an ip pipe dream , plus one more nonlocal condition : * two pipes appearing in the same word _",
    "must _ cross once ( and , of course , not twice ) . *",
    "the meeting of two pipes in a fusor or displacer tile does nt count as a crossing . note that ip pipe dreams are a subclass of @xmath6-ip pipe dreams , where @xmath117 in the crossing tiles , @xmath118 in the fusor tiles , and there are no displacer tiles .",
    "notice that if , on each edge of a @xmath6-ip pipe dream we erase every label except the last one , we get a consistent system of unbroken pipes , and missing labels can be reconstructed uniquely from the visible ones .",
    "however , the nonlocal conditions that say which systems of pipes can be extended to a @xmath6-ip pipe dream seem too complicated to be useful .",
    "as theorem [ thm : safeshiftintro ] suggests , there are signs in the @xmath6-formula , but ( as predicted by brion s theorem @xcite ) they are determined by the parity of the codimension .",
    "let @xmath119 denote the sum over the fusor tiles , of the size @xmath120 of their word .",
    "( so @xmath121 iff the @xmath6-ip pipe dream @xmath41 is an ordinary ip pipe dream , since the presence of a displacer tile forces the appearance of a fusor tile with @xmath122 to the east of it . )",
    "[ thm : kformula ] in @xmath123 , expanding @xmath23 $ ] in the @xmath52-basis of opposite schubert classes gives @xmath124 & = & \\sum_{p:\\ f(p ) = f",
    "\\atop    \\text { $ p$ has no equivariant tiles } }      ( -1)^{fusing(p ) } [ x^{\\lambda(p ) } ] \\\\      & = & \\sum_\\lambda ( -1)^{\\dim \\pi_f - \\dim x^\\lambda }      \\#\\bigg\\{p\\ : \\",
    "{ f(p)=f,\\ \\lambda(p)=\\lambda \\atop      \\text { $ p$ has no equivariant tiles } } \\bigg\\}\\ [ x^\\lambda ] .",
    "\\end{aligned}\\ ] ] if @xmath41 is a @xmath6-ip pipe dream , then @xmath125 , so this formula is positive in the sense of @xcite .    combining the nonequivariant pipe dreams from figures [ fig : ippipesex ] and [ fig : kippipesex ] , we get @xmath126 = [ x^{(2 ) } ] + [ x^{(1,1 ) } ] - [ x^{(1 ) } ] \\qquad \\in k({{gr_{k}({{\\mathbb a}}^{n})}}).\\ ] ] notice that as compared to @xmath2 , the extra terms in @xmath26 come from larger varieties @xmath127 , whereas the extra terms in @xmath6 come from smaller varieties .",
    "the base ring @xmath128 of @xmath7-equivariant @xmath6-theory is the laurent polynomial ring @xmath129 $ ] , written thus for comparison to equivariant cohomology . here",
    "@xmath130 denotes the @xmath4-class of the one - dimensional representation with character @xmath56 .",
    "define the * @xmath4-weight * @xmath131 of a @xmath6-ip pipe dream as @xmath132 the special role of the tiles with @xmath31 on the south and east becomes clear in  [ ssec : placing ] .",
    "[ thm : ktformula ] in @xmath133 , the expansion of @xmath23 $ ] in the @xmath134$]-basis of opposite schubert classes is @xmath53 = \\sum_{p:\\ f(p ) = f } ( -1)^{fusing(p ) } wt_k(p)\\ [ x^{\\lambda(p)}]\\ ] ] which is positive in the sense predicted in ( * ? ? ?",
    "* corollary 5.1 ) .    specializing",
    "each @xmath135 recovers the previous theorem .",
    "dropping the @xmath136 summands , and taking the lowest - degree term in the @xmath137 , recovers the @xmath26-formula from the @xmath4 .    for example , the @xmath4-weights of the @xmath6-ip pipe dreams from figures [ fig : ippipesex ] and [ fig : kippipesex ] are ( in order ) @xmath138",
    "@xmath139      in  [ sec : ip ] we recall the basic properties we need of interval positroid varieties , and in particular define their essential and crucial boxes . in  [ sec : shifting ] we give some results about geometric and combinatorial shifting , and prove theorem [ thm : safeshiftintro ] about safe shifts of positroid varieties . in  [ sec : main ] we prove the main theorem , that @xmath6-ip pipe dreams serve as a record of the degeneration process defined by vakil @xcite , in enough detail to recover the @xmath4-class . in  [ sec : puzzles ] we connect ip pipe dreams to the equivariant puzzles of @xcite .",
    "the combinatorial difference between the pipe dream calculus laid out here , as contrasted with the checker games of @xcite , is that an ip pipe dream serves as a @xmath5-dimensional record of a @xmath3-dimensional checker game .",
    "these ideas have been a long time brewing , and discussed fruitfully with many people , in particular nicolas ford , david speyer , ravi vakil , alex yong , and especially mathias lederer .",
    "our deepest thanks go to franco saliola for his virtuosic implementation of ip pipe dreams in sage .",
    "we first described the connection between vakil s degeneration and erds - ko - rado shifting in the unpublished preprint @xcite , whose results are fully subsumed here .",
    "most of the definitions in this section ( though not the one in its title ) are from @xcite .",
    "a * juggling pattern of length @xmath113 * is a bijection @xmath140 such that @xmath141 is periodic with period @xmath113 , and @xmath142 for all @xmath143 .",
    "the * siteswap * of @xmath144 is the @xmath113-tuple @xmath145 , and obviously @xmath144 can be reconstructed from its siteswap .",
    "the average @xmath11 of the siteswap turns out to be the number of orbits of @xmath144 that are nt fixed points , called the * ball number*. hereafter fix @xmath113 and @xmath11 .",
    "call @xmath144 * bounded * is natural from the juggling point of view , in that it says balls land after they are thrown , the @xmath146 condition is already violated by the standard @xmath147-ball pattern @xmath148 , @xmath149 . ] if @xmath150 for all @xmath143 . for such @xmath144 , define the following variety @xmath151 by rank conditions on all _ cyclic _ intervals : @xmath152\\big|     - \\#\\{\\text{$1$s in $ j$ 's matrix that are weakly southwest of $ ( i , j)$}\\ } ,    \\quad i \\leq j \\leq i+n \\\\    { { \\widetilde \\pi}}_j & : = & \\{m : \\ m \\in m_{k\\times n},\\     { { \\rm rank}}(\\text{columns } [ i , j ] \\bmod n ) \\leq r(j)_{ij},\\quad    \\forall i\\in { { \\mathbb{z } } } , j\\in [ i , i+n ] \\}\\end{aligned}\\ ] ] the * positroid variety * @xmath153 is defined as @xmath154 all the properties claimed in  [ ssec : introip ] of interval positroid varieties are in fact true of positroid varieties , as proven in @xcite .",
    "we depict @xmath144 as an infinite , periodic permutation matrix , with * dots * in the boxes @xmath155 , @xmath143 . to construct the * diagram * of @xmath144 , we cross out all boxes strictly to the west or south ( but not both ) of each dot , leaving the diagram as the remainder . the * essential set *",
    "@xmath156 is the set of northeast corners of the diagram ( note that the diagram has one unbounded component , stretching north and east to infinity with no northeast corner ) .",
    "it is not difficult to prove ( in analogy with @xcite ) that @xmath157 \\bmod n ) \\leq r(j)_{ij},\\quad    \\forall ( i , j ) \\in { { \\rm ess}}(j)\\}.\\ ] ]    more specifically , the `` essential '' set of rank conditions are those that are not implied by single other rank conditions . in matroid terminology ,",
    "a rank condition not implied by one from a larger subset is a * flat * , and a rank condition not implied by one from a smaller subset is * cyclic * ( a union of `` circuits '' ) ; do nt confuse this with our `` cyclic intervals '' !",
    "the cyclic flats are of additional interest because they form a lattice @xcite .",
    "( there is a slight confusion that the whole @xmath66 $ ] may be a cyclic flat , but will not be an `` essential '' interval . )    however , it is possible for a cyclic flat s condition to be implied by a _ combination _ of other conditions , in two ways .",
    "if @xmath158 and @xmath159 , then @xmath160 is called * not connected*. ( example : let @xmath161 , @xmath162 , @xmath163 then @xmath164 = [ 1,2 ] \\coprod [ 3,4]$ ] is not connected .",
    "again , do nt confuse this with `` contiguous '' , which the numbers @xmath164 $ ] certainly are ! ) the same can happen in the dual matroid , in which case @xmath160 is * not nnected*. following @xcite , call the rank conditions associated to the connected and nnected flats of a matroid the * crucial conditions*.    the positroid varieties form a stratification of @xmath1 , and a ranked poset where the rank is given by the dimension of the variety .",
    "more specifically , the assignment @xmath165 gives an anti - isomorphism of this poset to an order ideal in affine @xmath166 bruhat order ( * ? ? ?",
    "* theorem 3.16 ) . in this poset",
    ", we have a covering relation @xmath167 iff @xmath168 agree away from rows @xmath36 and @xmath39 ( mod @xmath113 ) , if the dot @xmath169 is northeast of the dot @xmath170 ( which is well - defined , even with periodicity ) , and there are no dots in @xmath144 or @xmath171 in the interior of the rectangle with those as northeast and southwest corners .",
    "also , the difference @xmath172 of the rank functions is an upper triangular periodic matrix of @xmath31s and @xmath30s , with @xmath30s in the rectangle @xmath173 \\times [ j(i),j(j)-1]$ ] ( and its periodic copies ) .      because of its periodicity",
    ", the affine permutation matrix of a bounded juggling pattern @xmath144 is determined by what it does in rows @xmath174 , whose intersection with the strip @xmath175 is a parallelogram .",
    "cut it into a left half ( @xmath176 ) and right half ( @xmath177 ) .",
    "we can pick out several important classes of positroid varieties , with decreasing specificity :    * _ opposite schubert varieties . _",
    "if the dots run nw / se in the entire parallelogram . * _ richardson varieties .",
    "_ if the dots run nw / se in each of the two triangular halves . * _ interval positroid varieties .",
    "_ if the dots run nw / se in the right half .",
    "we now prove these characterizations , starting with the third .",
    "[ prop : intdefsagree ] if @xmath19 is the interval positroid variety associated with the partial permutation @xmath16 , then there exists a unique bounded juggling pattern @xmath178 such that @xmath179 .",
    "moreover , @xmath178 s permutation matrix is characterized by having @xmath16 on the triangle @xmath180 , and has @xmath11 dots arranged nw / se on the triangle @xmath181 .",
    "call the two triangles `` @xmath16 s triangle '' and `` the second triangle '' .",
    "let @xmath182\\choose n - k}$ ] be the set of nonzero columns and rows of @xmath16 .",
    "then @xmath183 in bruhat order , by the condition that @xmath16 is upper triangular .",
    "we need to construct @xmath184 .",
    "copy @xmath16 into @xmath16 s triangle , and cross out the complete row and column of each of @xmath16 s @xmath14 dots .",
    "the square @xmath185 , j\\in [ n+1,2n]$ ] will have @xmath11 remaining rows and columns , @xmath186 ,     c_1 < \\ldots",
    "< c_k \\subseteq [ n+1,2n]$ ] .",
    "we ll place dots nw / se so in matrix entries @xmath187 , @xmath188 , and copy them periodically to @xmath189 .",
    "now we claim that for each @xmath36 , @xmath190 , i.e. that the @xmath144 so constructed is a _ bounded _ juggling pattern . to see this ,",
    "let @xmath191 \\setminus r_f$ ] be the rows of the new dots , and @xmath192 \\setminus c_f$ ] be the columns minus @xmath113 . since @xmath183 , we learn @xmath193 , i.e. @xmath190 for each @xmath36 .    to show @xmath194",
    ", we will show there are no crucial rank conditions in the second triangle .",
    "let @xmath195 be an `` essential '' box there , corresponding to the cyclic interval @xmath196 : = [ i , n ] \\coprod [ 1,j]$ ] .",
    "( note that @xmath197 , since the box @xmath198 north of @xmath195 must both be crossed out by some dot strictly to its east @xmath199 , so @xmath200 . )",
    "then since there are no dots southwest of @xmath195 in the second triangle ( by the nw / se condition ) , its rank condition is @xmath201| + |[1,j]|       - \\#\\{\\text{dots in $ j$ that are weakly southwest of $ ( i , j+n)$}\\ } \\\\      & = & |[i , n]| + |[1,j]|       - \\#\\{\\text{weakly sw of $ ( i , n)$}\\ }       - \\#\\{\\text{weakly sw of $ ( 1+n , j+n)$}\\ } \\\\      & = & r(m)_{in } + r(m)_{1j }    \\end{aligned}\\ ] ] so the cyclic flat @xmath202 \\coprod [ 1,j]$ ] is not a connected flat .    if @xmath144 s crucial conditions are all _ intervals _ , not just cyclic intervals ,",
    "then @xmath203 is obviously an interval positroid variety as defined in  [ ssec : introip ] . the example given in the last section , whose crucial intervals are @xmath204,[3,4],[5,6]$ ]",
    "show that the `` essential '' cyclic intervals may be properly cyclic ( @xmath205 $ ] in that example ) .",
    "this construction suggests we define * the diagram of a partial permutation @xmath16 * by crossing out strictly west and south from each dot , and also crossing out entirely any row or column with no dot ( as secretly , that dot is hiding in the second triangle of @xmath178 ) .",
    "then as before , @xmath16 s `` essential '' boxes are the northeast corners of the diagram .",
    "the following is essentially well - known ; we only include it to fix notation .",
    "[ lem : oppschubert ] if @xmath16 s dots are in the first @xmath14 rows , running nw / se , then @xmath206 where the partition @xmath207 is constructed from @xmath16 s columns , _ read backwards _ , as follows : start at the point @xmath208 in the fourth quadrant of the cartesian plane , and move right for each nonzero column , and up for each zero column .",
    "crossing out south and east from @xmath16 s dots , and crossing out the @xmath11 empty rows beneath , already only leaves a partition in the northeast corner .",
    "crossing out empty columns cuts that into a bunch of partitions , each of which reach up to the top row .",
    "hence the essential conditions are all on intervals @xmath209 $ ] , and so define an opposite schubert variety , easily checked to be this one .",
    "[ lem : richardson ] let @xmath16 be the left half of @xmath144 s parallelogram .",
    "the unique smallest richardson variety containing @xmath203 is @xmath210 , where @xmath211 is constructed from @xmath16 s nonzero columns as in lemma [ lem : oppschubert ] , and @xmath212 by using @xmath16 s nonzero rows .",
    "the containment @xmath213 is an equality iff the dots run nw / se in each of the left and right halves of @xmath144 s parallelogram .",
    "first we check straightforwardly that the smallest schubert and opposite schubert varieties containing @xmath203 are @xmath214 and @xmath215 , by checking the rank conditions on the intervals @xmath216\\}$ ] and @xmath217\\}$ ] .    since schubert and opposite schubert varieties are positroid varieties , so are richardson varieties .",
    "so the containment @xmath213 is an equality exactly if @xmath203 is the largest positroid variety with these given rank conditions on the intervals @xmath216\\}$ ] and @xmath217\\}$ ] .",
    "if @xmath203 has a ne / sw pair of dots in either the left or right half , with the ne dot minimally ne of the sw dot , we can switch them for a nw / se pair by doing a covering relation in affine bruhat order .",
    "this terminates when we ca nt get bigger inside @xmath210 , and also when there are no such pairs , as was to be shown .",
    "given @xmath218 , let @xmath219 be the closure of @xmath220 , and call it the * stiefel cone * over @xmath68 .",
    "( we invented this terminology to generalize the `` affine cone '' @xmath221 case , and the stiefel manifold . )",
    "when @xmath221 this is the usual affine cone over a projective variety .",
    "because of the closure operation , the stiefel cone may be more singular than @xmath68 itself .",
    "of course our interest is in the case @xmath222 , where @xmath223 .",
    "let @xmath16 be an @xmath9 upper triangular partial permutation matrix of rank @xmath14 .",
    "construct @xmath224 of size @xmath225 of rank @xmath113 , by putting @xmath16 in the upper left corner , @xmath11 zero rows on the bottom , and @xmath11 dots arranged nw / se in the remaining @xmath226 rectangle in the ne .",
    "then @xmath227 is isomorphic to an open set on @xmath228 .",
    "hence each @xmath227 is normal and cohen - macaulay , with rational singularities , and intersections of unions of these stiefel cones are reduced .",
    "the correspondence is @xmath229 $ ] , landing inside the big cell in which the last plcker coordinate is nonzero .",
    "these good properties do _ not _ hold for the stiefel cones @xmath230 of general positroid varieties .",
    "in particular , if the stiefel cones over the four positroid divisors in @xmath231 are @xmath232 , then the scheme @xmath233 contains the rank @xmath234 matrices as a component of multiplicity @xmath5 ( so , nonreduced ) . from this point of view",
    ", the stiefel cones of positroid varieties behave as badly as one would expect them to , and the stiefel cones of _ interval _ positroid varieties are only better behaved because they are open sets on positroid varieties .",
    "this next proposition computes the @xmath7-fixed points on an interval positroid variety , in terms of matchings .",
    "( it will not be used later . )",
    "[ prop : matchings ] let @xmath16 be an upper triangular @xmath9 partial permutation matrix , and @xmath235 $ ] a subset .",
    "let @xmath236 defined@xmath237 .",
    "then @xmath19 contains the coordinate space @xmath238 that uses the coordinates not in @xmath239 if and only if there is a matching @xmath240 , where @xmath241 for each @xmath242 .    in words ,",
    "each dot @xmath243 gets matched with a diagonal entry @xmath244 to its southwest , with @xmath239 the unmatched part of the diagonal .",
    "let @xmath14 be the rank of @xmath16 , so by definition , @xmath245 , and any coordinate space in it must be @xmath11-dimensional . thus already @xmath239 must have size @xmath14 .    by the definition of @xmath19",
    ", it contains @xmath238 iff for each interval @xmath196 $ ] , @xmath246\\setminus s\\big| \\ \\ \\leq\\ \\ \\big|[i , j]\\big| -     \\#\\left\\{(a , b ) \\in dots(f ) : i\\leq a\\leq b\\leq j\\right\\}\\ ] ] or equivalently @xmath246\\cap s\\big| \\ \\ \\geq\\ \\",
    "\\#\\left\\{(a , b ) \\in dots(f ) : i\\leq",
    "a\\leq b\\leq j\\right\\ }    \\quad = : \\#dots_{\\swarrow ( i , j)}(f).\\ ] ] if a matching @xmath88 exists , it gives an injection of the set on the right to the set on the left .",
    "that proves one direction",
    ".    we will refer to each of these as an `` @xmath196 $ ] inequality '' .",
    "assume that each @xmath196 $ ] inequality holds ; we need to construct a matching .",
    "if @xmath247 ( i.e. we have a dot on the diagonal ) , then the @xmath248 $ ] inequality shows @xmath249 , and the matching must include @xmath250 .",
    "if we remove the dot from @xmath16 and @xmath251 from @xmath239 , producing the new matching problem @xmath252 , then any interval @xmath196",
    "\\ni m$ ] will have both sides of its inequality decrease by @xmath30 , and any interval @xmath196 \\not\\ni m$ ] will stay exactly the same .",
    "in particular , the new problem @xmath252 satisfies the required inequalities , so has a solution by induction on @xmath253 .",
    "with this we reduce to the case that @xmath16 has no dots on the diagonal .",
    "in particular , being strictly upper triangular , it must have some columns without dots .",
    "if @xmath16 is the zero matrix , we are done , so assume otherwise .",
    "let @xmath254 be the leftmost column with a dot , say at @xmath255 .",
    "we will _ try _",
    "( and possibly fail  this remains to be seen ) to move that dot west to @xmath72 , producing @xmath224 .",
    "this increases the right - hand side of each @xmath256 $ ] inequality .",
    "if they all still hold , then we can use a matching @xmath257 for @xmath224 to build a matching @xmath88 for @xmath16 , by composing with the correspondence between the dots of @xmath16 and @xmath224 .    if some @xmath256 $ ] inequality does not hold for @xmath224 , obstructing this move , it is because @xmath258\\cap s\\big| \\ \\ = \\ \\",
    "\\#dots_{\\swarrow ( h , j)}(f).\\ ] ] compare with the @xmath259 $ ] inequality ; the right side is @xmath30 dot larger , so the left side must have @xmath30 more element of @xmath239 , i.e. @xmath260 . so instead of moving the @xmath255 west , we will _ try _ to match it up with @xmath260 .",
    "( this time , we will be successful . )",
    "let @xmath252 be @xmath261 with @xmath255 and @xmath254 removed .",
    "this decreases the left side of various @xmath262 $ ] inequalities , and the right side of others .",
    "the only bad possibility is that we decrease the left side , but not the right , for some @xmath262 $ ] inequality that held with equality .",
    "the left side decreases if @xmath262 \\ni j+1 $ ] .",
    "the right side stays the same if @xmath262 \\not\\supseteq [ i , j+1]$ ] .",
    "hence @xmath263 .",
    "let @xmath264 be the number of dots in the rectangle @xmath265 \\times [ j+1,b]$ ] ; we know @xmath266 because of dot @xmath72 . @xmath267 \\right|       & = & \\left| s\\cap [ i , j ] \\right| + \\left|",
    "s\\cap [ a , b ] \\right|       - \\left| s\\cap [ i , b ] \\right| \\\\      & = &    \\#dots_{\\swarrow ( i , j)}(f ) +    \\#dots_{\\swarrow ( a , b)}(f )      - \\left| s\\cap [ i , b ] \\right| \\\\      & \\leq & \\#dots_{\\swarrow ( i , j)}(f ) +    \\#dots_{\\swarrow ( a , b)}(f )      - \\#dots_{\\swarrow ( i , b)}(f ) \\\\      & = & \\#dots_{\\swarrow ( a , j)}(f ) - c \\\\      & < & \\#dots_{\\swarrow ( a , j)}(f )        \\end{aligned}\\ ] ] but this contradicts the @xmath268 $ ] inequality .",
    "so there is no obstruction to starting the matching with @xmath269 .",
    "if @xmath218 is @xmath7-invariant and irreducible , its * matroid * is the collection @xmath270 : { { \\mathbb a}}^s \\in x \\}$ ] .",
    "a * positroid * is one arising from @xmath271 where @xmath272 has all nonnegative real plcker coordinates @xcite .",
    "the matroids of the @xmath20 are positroids , whose connected flats are intervals ( not just cyclic intervals ) , hence the term `` interval positroid variety '' .    under grassmannian duality @xmath273 , one can check that the positroid variety @xmath19 is corresponded with the positroid variety @xmath274 .",
    "this does _ not _ preserve the subclass of interval positroid varieties ( other than the richardson varieties ) .",
    "the additional power available from dualizing is exploited in @xcite .",
    "one interpretation of proposition [ prop : matchings ] is that interval positroids are `` dual transversal '' matroids .",
    "consider the dots in @xmath16 as a set of @xmath14 choosy brides @xmath275 , each of whom will only marry a groom within a certain height range @xmath276 $ ] .",
    "then each @xmath239 is an acceptable set of grooms .",
    "hall s marriage theorem ( from which this terminology is derived ) says that if some groomset @xmath277 , |s|={{\\rm rank}}(f)$ ] is unmarriable , it is because there is a set @xmath40 of brides with @xmath278 \\right| < |b|$ ] .",
    "proposition [ prop : matchings ] goes further in two ways : it says that if @xmath239 is unmarriable , then ( 1 ) there is an interval @xmath262 $ ] where @xmath40 is the brides with ranges in that interval , and the grooms in that interval are nt numerous enough , ( 2 ) even if one includes the grooms none of those brides wants .      for @xmath235 $ ] , @xmath279 , let @xmath280 if @xmath239 is a cyclic interval , call this a * basic positroid variety*. clearly every positroid variety is an intersection of basic ones , and",
    "one can show that no basic positroid variety is an intersection of other positroid varieties .",
    "[ thm : monk ] let @xmath144 be a bounded juggling pattern , and @xmath281 one of its dots .",
    "let @xmath282 be the columns of those dots minimally northwest of @xmath155 , ordered northeast / southwest , and @xmath283| - \\#\\{$]dots in @xmath144 that are weakly southwest of @xmath284 .",
    "then @xmath285 < r }     = { \\bigcup}_{j ' \\in c } \\pi_{j'\\circ ( j\\leftrightarrow j')}.\\ ] ]    an intersection of positroid varieties is a reduced union of positroid varieties ( * ? ? ? * corollary 4.4 ) , so we just need to determine which such occur in @xmath286 < r}$ ] .",
    "we alert the reader that this is perhaps the subtlest combinatorial argument in the paper .    by the definition of @xmath92 ,",
    "each @xmath287 is a covering relation in affine bruhat order , so @xmath288 .",
    "also , the dot in column @xmath289 of @xmath144 moves down to row @xmath36 , providing another dot weakly southwest of @xmath103 , hence @xmath290",
    "together these prove the @xmath291 containment .",
    "for the reverse containment , we need to show that for any @xmath292 < r}$ ] , there exists a @xmath293 such that @xmath294 . in rank",
    "matrix terms , we need @xmath295 , with strict inequality on some rectangle @xmath296 \\times [ j',j-1]$ ] , not just at @xmath103 .    consider a saturated chain @xmath297 in strong affine bruhat order , so in particular we have entrywise inequalities @xmath298 , and more specifically each @xmath299 is a matrix of @xmath31s and @xmath30s with the @xmath30s in a rectangle",
    ". then there exists a smallest @xmath88 such that @xmath300 , and that @xmath301 is therefore contained in @xmath302 < r}$ ] . with this",
    "we can reduce to the case @xmath303 .    to describe our goal another way ,",
    "each covering relation moves the dots at the nw and se corners of an otherwise empty rectangle to the ne and sw corners .",
    "we want to show that the union of these rectangles from the covering relations in the chain @xmath304 contains one of the maximal rectangles in the * staircase of @xmath144 ( above @xmath72 ) * , the set of boxes weakly southeast of some box of @xmath92 and weakly northwest of @xmath72 .",
    "we will prove this by induction on @xmath11 .",
    "the @xmath221 case is easy  the only rectangle must include @xmath72 , so must have it as the southeast corner , and hence the northwest corner column must be in @xmath92 .    consider the corresponding staircases for @xmath305 with northwest corner sets @xmath306 .",
    "if the covering relation @xmath307 gives an increase in the staircase , or leaves it the same , then we can use induction .",
    "otherwise , one checks that one of the dots @xmath308 in @xmath92 must move south or east inside the staircase to @xmath309 , as pictured ( these being southern moves ) :    by induction , the remaining covering relations from @xmath310 to @xmath311 give rectangles that cover a rectangle @xmath312 connecting @xmath72 to one of the nw corners of @xmath310 s staircase .",
    "if that corner is not @xmath309 , then it is one of the corners of @xmath313 and we re done . if that corner is @xmath309 , then @xmath312 union the rectangle acquired during the @xmath314 move covers the rectangle connecting @xmath72 to @xmath308",
    "the classic combinatorial shift operations defined in @xcite concern the sets @xmath66 : = \\{1,2,\\ldots , n\\}$ ] and @xmath315 \\choose k } : = \\{s \\subseteq [ n ] : |s| = k\\}$ ] . before getting into them ,",
    "we establish a basic correspondence between collections of subsets ( the combinatorial side ) and certain subschemes of the grassmannian ( the geometrical side ) .",
    "the connection to geometry begins with the correspondence @xmath316\\choose k}\\ \\widetilde\\to\\ { { gr_{k}({{\\mathbb a}}^{n})}}^t , \\qquad   s \\mapsto { { coord}}(s ) : =    \\ { \\vec v \\in { { \\mathbb a}}^n \\text { that use only coordinates from } s\\}\\ ] ] between @xmath11-subsets and the @xmath7-fixed points , the coordinate subspaces",
    ".    if @xmath218 is a closed @xmath7-invariant subscheme , not just a point , we can nonetheless look at its fixed points @xmath317 , and write @xmath318\\choose k}\\ : \\ { { coord}}(s ) \\in x^t\\right\\ } \\quad \\subseteq { [ n]\\choose k}.\\ ] ] to forestall confusion when talking about sets of sets , we will call any @xmath235 $ ] a * subset * and any @xmath319\\choose k}$ ] a * collection*. extend @xmath320 beyond subsets to collections , as follows : @xmath321 where @xmath322 is the plcker coordinate .",
    "this is the `` bracket ring '' construction of @xcite , in which @xmath323 is somewhat needlessly assumed to be a matroid , presumably because @xmath324 is reducible otherwise .",
    "is irreducible and @xmath7-invariant , then @xmath325 is the bases of a matroid , meaning that for each @xmath326 , the collection @xmath327 has a unique bruhat minimum .",
    "proof : let @xmath328 be a regular dominant coweight , so its biaynicki - birula decomposition of @xmath1 is the bruhat decomposition . if @xmath68 is irreducible , then for each @xmath329 , @xmath330 will have a unique open biaynicki - birula stratum , whose center is this unique bruhat minimum .",
    "see e.g. @xcite . ]    to study these operations , we first need a basic result about plcker coordinates :    [ lem : plucker ] let @xmath218 be @xmath7-invariant and reduced . if @xmath331\\choose k}$ ] , and @xmath332 , then the plcker coordinate @xmath322 vanishes on @xmath68 .",
    "consider the one - parameter subgroup @xmath333 the sink of @xmath308 s biaynicki - birula decomposition of @xmath1 is the point @xmath334 , and its basin of attraction is the big cell @xmath335 .",
    "if @xmath68 meets this cell , then since @xmath68 is @xmath308-invariant ( being @xmath7-invariant ) and closed , @xmath336 , contradiction . hence @xmath68 is set - theoretically contained in the divisor @xmath337 , and since it was assumed reduced @xmath68 is contained in that divisor scheme - theoretically as well .",
    "[ prop : connection ] for @xmath338\\choose k}$ ] , @xmath339 for @xmath218 , closed , reduced and @xmath7-invariant but possibly reducible , @xmath340    the first is tautological : @xmath341 the second is essentially a restatement of lemma [ lem : plucker ] .",
    "in particular , the assignment @xmath342 corresponds @xmath343\\choose k})$ ] with a certain collection of @xmath7-invariant subschemes of @xmath1 , with inverse correspondence @xmath344 .",
    "a subscheme is in the collection exactly if it is defined by the vanishing of plcker coordinates .",
    "it is a classical theorem of hodge and pedoe that schubert varieties are subschemes of this type .",
    "the same is true more generally of positroid varieties ( * ? ? ?",
    "* corollary 5.12 ) , and will also be true for the _ reducible _ schemes that we will produce through geometric shifting .",
    "let @xmath345 $ ] , @xmath235 $ ] , @xmath346)$ ] be an element , subset , and collection respectively .",
    "at each of these three levels , the shifting mantra is    _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ `` turn @xmath36 into @xmath39 , unless something s in the way '' .",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    ( at the single - element level , nothing can be in the way . )",
    "@xmath347 in particular , if @xmath348 is a singleton then @xmath349 , and likewise if @xmath350 is a singleton then @xmath351 , but in general the shift of a set or collection is _ not _ just the shift of its elements .",
    "we leave the reader to check the following :    [ lem : shiftlevels ] @xmath352 @xmath353    the erds - ko - rado theorem does not really study shifting itself as a process , so much as collections @xmath92 that are invariant under all forward shifts , and there is an industry of combinatorial results concerning various objects ( collections , matroids , simplicial complexes ) that are `` shifted '' ( see e.g. @xcite ) . there does not seem to be as much study of the incremental shifting we make use of here .      hereafter @xmath68 is a closed subscheme of @xmath1 , and almost always @xmath7-invariant . before defining the shift ,",
    "first define @xmath354 where the closure adds the fiber at @xmath355 , and define the * ( geometric ) shift * @xmath73 to be this scheme - theoretic fiber over @xmath356 of the ( automatically flat ) projection to @xmath357 .",
    "the shift need not be reduced ; if @xmath68 is the two points @xmath358 , then one falls into the other during the shift , and @xmath359 is a double point .",
    "the * ( geometric ) sweep * @xmath360 is defined as the image of the projection of @xmath361 to @xmath1 .",
    "the same example @xmath358 shows that this projection need not be birational to its image .    having defined the geometric analogue of the shift of a collection , we can ( in analogy to the paragraph before lemma [ lem : shiftlevels ] )",
    "deduce the analogues of the shifts of elements and subsets :    [ lem : lowergeomshifts ] let @xmath362 ( the analogue of @xmath350 ) .",
    "then @xmath363\\setminus i } )       \\text { or } v \\geq { { coord}}(\\{j\\ } ) \\\\      \\left\\{\\left(v \\cap { { coord}}({[n]\\setminus i})\\right )         \\oplus { { coord}}({\\{j\\}})\\right )      & \\text{otherwise . }",
    "\\end{cases}\\ ] ] if in addition @xmath272 is one - dimensional ( the analogue of @xmath348 ) , then @xmath364\\setminus i } ) \\\\      { { coord}}({\\{j\\ } } ) & \\text{otherwise . }    \\end{cases}\\ ] ]    we prove the first , from which the second is an evident special case . pick a basis for @xmath365\\setminus i}))$ ] , and if @xmath366\\setminus i})$ ] , extend to a basis of @xmath272 .",
    "if we make these basis vectors the row vectors of a @xmath0 matrix , then the @xmath36th column is @xmath31 except possibly in the last row .",
    "the action of @xmath367 adds @xmath60 times column @xmath36 to column @xmath39 .",
    "if the @xmath36th column is zero , nothing happens .",
    "otherwise we can add @xmath60 times column @xmath36 to column @xmath39 , then ( without changing the row span ) scale the last row by @xmath368 ( for @xmath369 ) .",
    "as @xmath370 the last row converges to the vector with @xmath30 in column @xmath39 , @xmath31 elsewhere .",
    "the following proposition , essentially the reason @xcite brought shifting into schubert calculus , will be the means by which we can inductively compute the class of an interval positroid variety .    [",
    "prop : ktshift ] let @xmath218 be @xmath7-invariant and irreducible . then @xmath371 = [ { { \\textcyr{x}}_{i\\to j}}x ] \\qquad\\qquad\\qquad\\qquad\\qquad     \\text{in $ h^*({{gr_{k}({{\\mathbb a}}^{n})}})$ or $ k({{gr_{k}({{\\mathbb a}}^{n})}})$.}\\ ] ] if the map @xmath372 is degree @xmath30 ( as will be checkable using theorem [ thm : tconvex ] to come ) , then @xmath371 = [ { { \\textcyr{x}}_{i\\to j}}x ] + ( y_i - y_j ) [ { { \\psi}_{i\\to j}}x ] \\qquad\\qquad\\qquad    \\text{in $ h^*_t({{gr_{k}({{\\mathbb a}}^{n})}})$.}\\ ] ] if in addition @xmath360 has rational singularities , then @xmath371 = \\exp(y_j - y_i ) [ { { \\textcyr{x}}_{i\\to j}}x ] + ( 1 - \\exp(y_j - y_i ) ) [ { { \\psi}_{i\\to j}}x ] \\qquad    \\text{in $ k^*_t({{gr_{k}({{\\mathbb a}}^{n})}})$.}\\ ] ]    consider the projection @xmath373 to the first factor .",
    "if we act on @xmath374 with weight @xmath375 , then this map is @xmath7-equivariant .",
    "let @xmath376 , [ \\infty]$ ] denote the classes of these points in @xmath357 in the various cohomology theories .",
    "then nonequivariantly we have @xmath376 = [ \\infty]$ ] , in @xmath377 we have @xmath376 = [ \\infty ] + ( y_i - y_j ) [ { \\mathbb{p}}^1]$ ] and in @xmath378 we have - theory , which gives @xmath379 = \\frac{[0]}{1 - \\exp(-wt(t _ { 0 } { \\mathbb{p}}^1 ) ) }      + \\frac{[\\infty]}{1 - \\exp(-wt(t _ { \\infty } { \\mathbb{p}}^1 ) ) }      \\qquad \\in k_t({\\mathbb{p}}^1 ) { \\otimes}frac(k_t(pt)).\\ ] ] ] @xmath376 = \\exp(y_i - y_j ) [ \\infty ] + ( 1-\\exp(y_i - y_j ) ) [ { \\mathbb{p}}^1]$ ] .",
    "now pull whichever equation back to @xmath361 , where @xmath376,[\\infty],[{\\mathbb{p}}^1]$ ] pull back ( in any cohomology theory ) to @xmath380 $ ] , @xmath381 $ ] , and @xmath382 $ ] .",
    "then push this equation forward to @xmath1 , where @xmath380,[{{\\textcyr{x}}_{i\\to j}}x \\times \\infty]$ ] push forward to @xmath63,[{{\\textcyr{x}}_{i\\to j}}x]$ ] .",
    "if the degree of @xmath383 is @xmath11 , then the fundamental class @xmath384 $ ] pushes forward to @xmath385 $ ] in @xmath51 , and in general to something very complicated in @xmath386 .",
    "however , if the degree is @xmath30 ( so that the induced map @xmath372 takes the structure sheaf to the structure sheaf ) and @xmath387 has rational singularities ( so that there are no higher direct images in sheaf cohomology ) , then @xmath382 $ ] pushes forward to @xmath388 $ ] , and we are done .    to compute the shift and sweep we will obtain upper bounds from algebra , and lower bounds from geometry , which will sometimes coincide .    [",
    "prop : shiftcupcap ] let @xmath389 be @xmath7-invariant",
    ". then @xmath390 , with equality as sets .",
    "also , @xmath391 , but may be unequal as sets .",
    "it is easy to see that @xmath392 as schemes .",
    "intersecting with @xmath393 , we get @xmath394    the latter inequality follows from the fact that an intersection of closures ( the ones defining @xmath395 and each @xmath396 ) is contained in the closure of the intersection .",
    "the example @xmath397 in @xmath357 shows that both containments in proposition [ prop : shiftcupcap ] can be strict ( the first scheme - theoretically , the second even set - theoretically ) .",
    "[ prop : sweep ] let @xmath398 be @xmath85-invariant and irreducible .",
    "let @xmath399 be a divisor and _ not _ @xmath85-invariant",
    ". then @xmath400 .    by @xmath401",
    "s @xmath402-invariance , @xmath403 . since @xmath68 is not @xmath404-invariant , @xmath405 .",
    "( in particular @xmath360 is nonempty ! ) by @xmath401 s irreducibility , @xmath406 .",
    "we re now ready to compare the geometric and combinatorial shifts . in a particularly simple case , we can guarantee equality .",
    "[ lem : shiftsback ] if @xmath407 , then @xmath408    more generally , for @xmath235 $ ] of any size , and @xmath409 we have @xmath410 , i.e. `` rank conditions shift backwards '' .",
    "the first is the special case @xmath411 of the second .",
    "let @xmath412 the matrix @xmath413 matches @xmath414 , except the @xmath39th column @xmath415 has been replaced by @xmath416 .",
    "the shift is @xmath417 .    if @xmath418 , then @xmath419 puts no contraints on column @xmath39 , so @xmath420 for all @xmath60 , and @xmath421 . in this case",
    "@xmath422 , too .    if @xmath423 , then subtracting @xmath60 times column @xmath39 from column @xmath36 does nt change the rank of columns @xmath239 , so @xmath420 for all @xmath60 , and @xmath421",
    "again , @xmath422 .",
    "the interesting case is @xmath424 .",
    "for @xmath369 , the rank of columns @xmath239 in @xmath425 does nt change if we divide column @xmath39 by @xmath426 .",
    "so the rank condition is now @xmath427 in the limit , this becomes @xmath428columns @xmath429 .",
    "effectively , we have found some equations that hold on @xmath430 , and intersected them with the @xmath355 fiber , showing the inclusion @xmath431 .",
    "since @xmath432 is a flat limit of @xmath433 , they must have the same hilbert polynomial ( with respect to the plcker embedding ) .",
    "meanwhile , @xmath434 , so @xmath435 also has this same hilbert polynomial .",
    "consequently the inclusion of schemes is equality .    in the most general case",
    ", we have an inequality :    [ prop : shiftcback ] let @xmath218 be @xmath7-invariant .",
    "then @xmath436 if @xmath68 is reduced , then @xmath437 which , by proposition [ prop : connection ] , implies the first containment .",
    "note that neither side of the first claim changes if we replace @xmath68 by its reduction .",
    "so we can assume @xmath68 reduced in both claims .",
    "we want to show @xmath438 as the intersection of those divisors @xmath439 defines the right - hand side of the second claim .    if @xmath440 , then @xmath441 by lemma [ lem : plucker ] , and @xmath442 by lemma [ lem : shiftsback ] .",
    "hence @xmath443 .    if @xmath444 or @xmath445 , then @xmath446 and @xmath447 .",
    "in particular , we ve shown for these @xmath239 that @xmath448 .",
    "it remains to consider those @xmath239 that contain @xmath36 or @xmath39 but not both , which we will do in pairs .",
    "let @xmath414 vary over @xmath315\\setminus \\{i , j\\}\\choose k-1}$ ] and look at @xmath449 , which may be @xmath450 , or @xmath451 , or @xmath452 , but not @xmath453 .    in the first case , @xmath454 too .",
    "hence @xmath455 , and the latter union is visibly shift - invariant , so @xmath456 too .    in the second case @xmath457 , so @xmath458 .",
    "whichever one is missing , @xmath459 or @xmath39 , gives us a containment @xmath460 . shifting it",
    ", we learn @xmath461 .    in the third case , our @xmath462 can be neither of @xmath452 , so there is nothing left to prove .",
    "these containments are strict for @xmath463 , where @xmath464 , so we ll need a condition , `` @xmath7-convexity '' , to rule out such examples .",
    "the only @xmath7-invariant irreducible curves in @xmath1 are of the form @xmath465\\setminus \\{i , j\\ } \\choose k-1}\\ ] ] connecting the two fixed points @xmath466 . call a subset @xmath467 * @xmath7-convex * if @xmath468 for each such @xmath469 .",
    "[ thm : tconvex ] let @xmath467 be @xmath7-invariant .    1 .",
    "if @xmath68 is irreducible , then @xmath68 is @xmath7-convex .",
    "if @xmath68 is defined by the vanishing of a set of plcker coordinates , then @xmath68 is @xmath7-convex .",
    "if @xmath68 is @xmath7-convex , then @xmath470 4 .",
    "if @xmath68 is irreducible , and the collection @xmath471 is not @xmath85-invariant , then the map @xmath472 is a degree @xmath30 map of varieties .    1 .",
    "let @xmath473 be a line such that @xmath474 .",
    "consider the one - parameter subgroup @xmath475 which fixes @xmath469 pointwise .",
    "under @xmath1 s biaynicki - birula decomposition @xcite using @xmath308 , the sink is @xmath469 .",
    "( one way to compute the sink is as the minimum level set of @xmath308 s moment map , which takes @xmath476 . ) + now obtain @xmath68 s b - b decomposition by intersecting with @xmath1 s . since @xmath477 is @xmath7-invariant and contains @xmath478 , either @xmath479 or @xmath480 . in the latter case ,",
    "each of @xmath478 s two points gives a sink in @xmath68 , hence two disjoint open basins , contradicting @xmath68 s irreducibility .",
    "the schubert divisor , defined by the vanishing of the first plcker coordinate , is irreducible , hence @xmath7-convex .",
    "the other plcker divisors are permutations of the schubert divisor , hence @xmath7-convex .",
    "the intersection of two @xmath7-convex sets is again @xmath7-convex .",
    "+ ( in fact such a scheme is even `` convex '' : for any two points in @xmath68 connected by a line in @xmath481 , the whole line is in @xmath68 . not",
    "every irreducible @xmath7-invariant @xmath68 is convex ; consider the subvariety of @xmath231 defined by @xmath482 , and the non-@xmath7-invariant pencil @xmath483 on there , the equation becomes @xmath484 , with two solutions @xmath485 . )",
    "we already have the @xmath486 containment by proposition [ prop : shiftcback ]",
    ". also , @xmath487 by lemma [ lem : shiftlevels ] , this last is contained in @xmath488 , and the set difference is @xmath489 if there is such an @xmath239 , let @xmath490 , and @xmath473 .",
    "so far we ve determined that @xmath491 . since @xmath68 is assumed @xmath7-convex , @xmath492 .",
    "+ the key fact is that @xmath469 is @xmath404-invariant .",
    "hence @xmath493 , contradicting the choice of @xmath239 .",
    "the space @xmath494 is isomorphic to @xmath495 , hence irreducible .",
    "so its closure @xmath496 is irreducible , and the image @xmath497 of that is irreducible .",
    "+ to show the projection is degree @xmath30 , it suffices to find a point in @xmath497 over which the map is an isomorphism . by the non - invariance assumption , there exists a subset @xmath414 such that @xmath498 .",
    "hence the map @xmath499 takes @xmath500 let @xmath501 be the plcker divisor @xmath502 . by lemma [ lem : plucker ] , @xmath503 .",
    "since @xmath501 is codimension @xmath30 in @xmath1 , @xmath504 is codimension @xmath30 in @xmath505 , and is easily seen to lie in the hypersurface @xmath506 , v )",
    "\\in { \\mathbb{p}}^1 \\times { { gr_{k}({{\\mathbb a}}^{n})}}\\ : \\",
    "t p_{m \\cup \\{i\\ } } + u p_{m \\cup \\{j\\ } } = 0 \\right\\}.\\ ] ] so far we have the maps @xmath507 now we claim that the fiber over @xmath508 of this last projection @xmath509 is already a reduced point ( namely , @xmath510 ) ; it is @xmath511 , { { coord}}(m{\\cup}\\{i\\ } ) ) : t p_{m \\cup \\{i\\ } } = 0 \\}\\ ] ] and the remaining projective coordinate @xmath512 does not vanish .",
    "+ hence the fiber @xmath508 of @xmath513 is a reduced point .",
    "-.25 in    finally we are ready to give a theorem that can , in certain cases , calculate shifts .",
    "( while we hoped to use it with proposition [ prop : matchings ] to compute the shifts in theorem [ thm : safeshiftintro ] , we will instead use proposition [ prop : safeshiftupperbound ] . )",
    "[ thm : shiftverify ] let @xmath514 be @xmath7-invariant subvarieties of the same dimension .",
    "assume that @xmath515 as schemes , and @xmath516 , @xmath517 .",
    "then @xmath518 .    since @xmath68 is reduced , @xmath519 we know the right side by assumption , with the result that @xmath520 .",
    "since @xmath68 is irreducible , it is equidimensional , so its flat limit @xmath521 is set - theoretically equidimensional contained a geometric component @xmath92 of some smaller dimension @xmath39 , we could cut the family @xmath496 down with @xmath522 , where @xmath41 is a general plane of codimension @xmath39 , and discover that the still - irreducible @xmath523 degenerates to @xmath524 . but",
    "the latter contains isolated points @xmath525 , contradicting the connectivity guaranteed by zmt .",
    "] of that same dimension .",
    "being contained in @xmath526 , it must be ( as a set ) a union of some of these components .",
    "assume some @xmath527 .",
    "by our second assumption , there exists a coordinate subspace @xmath528 .",
    "hence @xmath529 .",
    "this contradicts part ( 3 ) of theorem [ thm : tconvex ] , so establishing the opposite containment @xmath530 .",
    "recall that @xmath262 $ ] denotes either the interval ( if @xmath531 ) or the cyclic interval @xmath532 \\cup [ 1,b]$ ] ( if @xmath533 ) .    in the rest of this section",
    "* @xmath534 are fixed , * @xmath404 is a * ( nontrivially ) safe shift for @xmath144 * , meaning * * @xmath144 is a bounded juggling pattern of length @xmath113 , * * @xmath84 is a crucial box for @xmath144 ( giving a backward safe shift ) .",
    "* * all other crucial intervals are @xmath404-invariant , and * @xmath535 .",
    "( a * trivially safe shift * is one for which _ all _ the crucial intervals are @xmath404-invariant . )",
    "we will compute the sweep @xmath536 of @xmath203 , and within that , the shift @xmath537 .",
    "[ lem : safesweepcover ] @xmath538 is a covering relation in affine bruhat order , i.e. , @xmath203 is a divisor in @xmath539 .    since @xmath84 is a crucial box , it is in the diagram ,",
    "so not crossed out from above .",
    "hence the dot in column @xmath39 of the affine permutation matrix is strictly below row @xmath36",
    ". then we can construct the affine permutation of @xmath540 thusly : move @xmath144 s dot in column @xmath39 up to row @xmath36 , and the old dot in row @xmath36 down to the now - empty row .",
    "since @xmath84 is crucial , we know @xmath72 is not in the diagram , and must be crossed out from the right ( not from above , or else @xmath84 would be crossed out too ) .",
    "hence the dot moving down is to the right of the dot moving up , @xmath541 .",
    "therefore @xmath542 in affine bruhat order .    to show this is a covering relation , we need to show there are no other dots in the rectangle @xmath312 within rows @xmath543 and columns @xmath544 .",
    "in fact we will show there are none to the right of @xmath312 , either .    since @xmath84 is crucial , the box @xmath545 to its right",
    "is crossed out from above , so the entire second column of @xmath312 is crossed out .",
    "we learned before that the top left corner @xmath72 of @xmath312 is crossed out .",
    "but the bottom left corner @xmath546 is not ( since it contains a dot ) ; go up from it inside the diagram to find an essential box @xmath547 .",
    "( it will automatically be crucial , otherwise @xmath548 $ ] would contain a crucial interval @xmath549 $ ] with @xmath550 , but this would then give a lower essential box inside @xmath312 and contradict the choice of @xmath8 . )    if there were dots to the right of @xmath312 in rows @xmath551 $ ] , they would cross out more of @xmath312 s left column , and we would have @xmath552 . the interval @xmath548 $ ] would nt be @xmath404-safe unless @xmath553 . but then @xmath173 $ ] would nt be crucial ; it would split as @xmath554 \\coprod [ j , j]$ ] .",
    "[ prop : safesweep ] the safe sweep @xmath555 is again a positroid variety , @xmath539 .",
    "let @xmath8 be the rank bound on @xmath173 $ ] in the definition of @xmath203",
    ". then @xmath556 \\leq r}$ ] and @xmath557 \\leq r}$ ] .    to apply proposition [ prop : sweep ] , we confirm that @xmath539 is @xmath404-invariant , and @xmath203 is nt .",
    "let @xmath312 again denote the rectangle with rows @xmath558 $ ] and columns @xmath559 $ ] , and @xmath560 the subrectangle missing the outer rows and columns .",
    "we know the following about the diagrams of @xmath144 and @xmath171 in @xmath312 and @xmath560 :    1 .",
    "the diagrams agree on @xmath560 , where ( by the proof of lemma [ lem : safesweepcover ] ) they consist of entire columns of @xmath560 .",
    "2 .   the @xmath144 diagram contains the column segment immediately to the left of @xmath560 , and not the one immediately to the right . in @xmath171",
    "the opposite is true .",
    "3 .   the @xmath144 ( resp .",
    "@xmath171 ) diagram does nt contain the row segment immediately above ( resp .",
    "below ) @xmath560 .",
    "4 .   the row segment below ( resp . above )",
    "@xmath560 in the diagram of @xmath144 ( resp .",
    "@xmath171 ) is a continuation of the columns in @xmath560 .",
    "the rank conditions of @xmath144 and @xmath171 agree except on @xmath312 ( and do agree on the top row and right column ) . by ( 4 ) above , the only possible essential conditions of @xmath171 inside @xmath312 are on the top row , so on an interval @xmath561 $ ] , and any such is @xmath404-invariant .",
    "hence @xmath539 is defined by @xmath404-invariant conditions , and is thus @xmath404-invariant .    similarly , the only possible essential boxes inside @xmath312 of @xmath144 are in the second row , @xmath562 , @xmath563",
    ". none of those with @xmath564 can be crucial , or else @xmath404 would be unsafe for @xmath203 . hence",
    "@xmath556 \\leq r}$ ] where @xmath8 is the rank bound on @xmath173 $ ] in the definition of @xmath203 , and @xmath565 \\leq r } )     \\ \\subseteq\\ { { \\textcyr{x}}_{i\\to j}}\\pi_{j ' } \\cap { { \\textcyr{x}}_{i\\to j}}x_{[i+1,j ] \\leq r }    \\ = \\ \\pi_{j ' } \\cap x_{[i , j-1 ] \\leq r}.\\ ] ] by proposition [ prop : shiftcupcap ] and lemma [ lem : shiftsback ] .    if @xmath203 were @xmath404-invariant , then we would have @xmath566 \\leq r } \\cap x_{[i , j-1 ] \\leq r }       \\ = \\ \\pi_{j ' } \\cap",
    "( x_{[i+1,j-1]\\leq r-1 } \\cup x_{[i , j]\\leq r } ) \\\\      & = & ( \\pi_{j ' } \\cap x_{[i+1,j-1]\\leq r-1 } ) \\cup ( \\pi_{j ' } \\cap x_{[i , j]\\leq r } )      \\qquad\\qquad\\text{as sets }    \\end{aligned}\\ ] ] but each of those intersections has codimension @xmath567 inside @xmath539 .    in principle , to compute the shift we could use theorem [ thm : shiftverify ] .",
    "but we can give a more efficient calculation using our knowledge of the poset of positroid varieties .",
    "first we study the upper bound provided in proposition [ prop : safesweep ] .",
    "[ prop : safeshiftupperbound ] let @xmath289 run over the columns of dots in @xmath171 that are minimally northwest of @xmath568 .",
    "each @xmath569 gives a component @xmath570 of @xmath571 \\leq r}$ ] , each of codimension @xmath30 in @xmath539 , and these are all the components .",
    "also , @xmath572 = \\sum_{j ' } [ \\pi_{j ' \\circ ( j\\leftrightarrow j')}]$ ] as elements of @xmath573 .",
    "the first is a direct application of theorem [ thm : monk ] ( whose @xmath144 is our @xmath171 ) .    for the second , we use theorem 7.1 of @xcite to assert that the cohomology classes of positroid varieties are representable using affine stanley symmetric functions of their affine permutations .",
    "these functions enjoy a `` transition formula '' ( * ? ? ?",
    "* theorem 7 ) @xmath574 when @xmath575 , the safeness assumptions ensure that the left sum is just @xmath576 .",
    "( it seems likely that there should be a more geometric proof , using theorem [ thm : shiftverify ] , perhaps using proposition [ prop : matchings ] to find the required points separating the components . )",
    "[ thm : safeshift ] under the assumptions from the beginning of  [ ssec : safeshifts ] , @xmath577 where @xmath289 runs over the columns of dots in @xmath578 that are minimally northwest of @xmath568 and in columns @xmath579 .    if @xmath580 is a sublist of these @xmath581 , with dots ordered northeast / southwest , then @xmath582 in particular , as @xmath4-classes , @xmath583 \\ = \\ \\sum_{s",
    "\\neq \\emptyset } ( -1)^{|s|-1 }    \\big [ \\pi_{j\\circ ( i\\leftrightarrow j)\\circ   ( i_1 ' \\mapsto i_2 ' \\mapsto \\cdots \\mapsto i_m ' \\mapsto i \\mapsto i_1 ' ) } \\big].\\ ] ]    the containment @xmath486 comes from propositions [ prop : safesweep ] and [ prop : safeshiftupperbound ] . as in theorem [ thm : shiftverify ] , since the shift is equidimensional , it must set - theoretically be a union of some of these components .",
    "but if some components were missing , then the homology classes would not match as in proposition [ prop : safeshiftupperbound ] .",
    "the computation of @xmath584 is essentially an inflated version of the following one : if @xmath585 is a coxeter element , and @xmath586 , then the schubert varieties inside the coxeter schubert variety @xmath587 satisfy @xmath588 that scheme - theoretic statement , plus the trivial mbius inversion on the boolean lattice of subsets @xmath589 , give the @xmath4-class formula .",
    "this and proposition [ prop : ktshift ] suffice to prove theorem [ thm : safeshiftintro ] , which was less specific in not making precise the components .",
    "let @xmath98 be a slice at @xmath72 , as pictured back in figure [ fig : slice ] from  [ ssec : main ] . we will attempt to associate a partial permutation to @xmath98 , and if we are successful we will call @xmath98 `` viable '' .",
    "call the area of the upper triangle that is above @xmath98 , the * top half * , and the remainder the * bottom half*. call the @xmath72 box the * kink * in @xmath98 . draw * rays * ( as in figure [ fig : slicedots ] ) perpendicular to the edges of @xmath98 , as follows :    * the @xmath31 edges have rays pointing south or east , so _ out _ of the top half . *",
    "all other edges have rays pointing north or west , so typically _ into _ the top half .",
    "( if @xmath590 some of the slice edges are on the top line , from which neither north nor south rays go into the top half . )",
    "the rays are labeled with their edge label , much like the pipes are in the pipe dreams .      for each letter label ,",
    "say @xmath21 , consider the vertical rays ( going north from an @xmath591 ) and horizontal rays ( going west from an @xmath592 ) that are labeled @xmath21 .    in the absence of @xmath6-tiles , we say that @xmath98 is * viable * if    * for each letter label @xmath21 , the number of @xmath591 and @xmath592 edges in @xmath98 agree , * for each @xmath36 up to that number , the @xmath36th @xmath591 from the left occur further south ( and of course west ) than the @xmath36th @xmath592 from the top , and * if there is a @xmath593 ( necessarily on the east edge of the kink ) , there should also be a @xmath594 on the bottom edge of the slice .",
    "when these hold , we can place * the @xmath36th @xmath21 dot * where the ray up from the @xmath36th @xmath591 and the ray left from the @xmath36th @xmath592 meet .",
    "if there is a @xmath593 , make its west - pointing ray meet the _ rightmost _ ray up from a @xmath594 to make the * @xmath30 dot*. if we terminate the rays at those dots , as in figure [ fig : slicedots ] , then no two rays with the same label cross .",
    "there are also some * @xmath31 dots * in the bottom half .",
    "put a @xmath31 ray pointing east through the triangle , in every row after the @xmath36th .",
    "if there are @xmath88 south - pointing rays from @xmath595 edges , have them terminate where they cross the top @xmath88 east - pointing @xmath31 rays ( including one from the east edge of the kink , if it is a @xmath596 ) .",
    "an example is in figure [ fig : slicedots ] .",
    "so in the absence of @xmath6-labels , the above arrangement of dots is our definition of * the partial permutation associated to the slice @xmath98*. we will denote this @xmath597 , later to avoid confusion with the @xmath42 associated to an ip pipe dream .    if one extends @xmath16 to a bounded juggling pattern @xmath144 , by placing dots northwest / southeast in the missing rows and columns , then the @xmath31- and @xmath30-rays that continue outside the triangle can be imagined as pointing at these other dots .",
    "so far the rays described have only one label , and two rays either cross unimpeded if they have different labels , or mutually annihilate ( leaving a dot ) if they have the same label .",
    "what changes now is that there is one slice edge that can have more than one label : the east edge of the kink , labeled @xmath598 .",
    "we give this west - pointing ray the special property that if it crosses a north - pointing ray with ( just one ) label @xmath264 , then    * if @xmath264 is not in @xmath272 , and @xmath272 does nt end with @xmath30 , the rays cross unimpeded * if @xmath264 is not in @xmath272 , and @xmath272 ends with @xmath30 , @xmath264 must be @xmath31 and the rays cross unimpeded * if @xmath272 ends with @xmath264 , then the rays cross through each other _ but both change _ as depicted in the displacer tile ; in particular the west - pointing ray loses its terminal letter ( @xmath264 ) * if @xmath264 is in @xmath272 , but is not its last letter , then @xmath98 * is not viable*.    to check viability , then , we continue this west - pointing ray , successively losing its terminal letters where it does nt cross disjointly - labeled rays , until it gets down to a single label .",
    "at that point we have reduced to the previous definition of viability .    [",
    "prop : safe00essential ] let @xmath98 be a viable slice , with kink at @xmath72 , and @xmath16 its associated partial permutation . then @xmath404 is a safe shift for @xmath19 .",
    "the east and south edges of the kink are both labeled @xmath31 iff @xmath84 is an essential box for @xmath16 .",
    "otherwise , @xmath19 is @xmath404-invariant .",
    "the @xmath599 case is silly and we dispense with it first .",
    "of course the shift is safe , @xmath19 is @xmath600-invariant , and the south edge is labeled @xmath30 , not @xmath31 .",
    "now , let @xmath243 be an essential box in @xmath16 s diagram , with @xmath601 ; we need to show that @xmath602 .    since @xmath603 ,",
    "the box @xmath243 is in the `` bottom half '' , where there are only @xmath31-dots . since @xmath243 is not crossed out from the east ( meaning , in @xmath16 s diagram  not by a ray , in this context ! )",
    "there is a @xmath31-dot to its west .",
    "assume for contradiction that @xmath604 .",
    "then there is also a @xmath31-dot in the row above , further west .",
    "since @xmath243 is not crossed out from above , neither is the box @xmath605 above it .",
    "so if @xmath606 , then @xmath605 is not crossed out at all , making @xmath243 inessential .",
    "contradiction ; hence @xmath607 .",
    "since @xmath608 is not crossed out from above , neither is @xmath609 , so it must be crossed out from the east ( or else @xmath610 would nt be essential ) . hence the east edge of the kink must be @xmath596 , and the ray coming east out of this @xmath596 must pass all the way through the @xmath609 box .    if @xmath611 , then since @xmath609 is not crossed out from above , the slice label atop the @xmath609 square must be @xmath595 .",
    "so the ray just mentioned would stop in the @xmath609 square , not pass through , contradiction .",
    "hence @xmath612 , concluding the proof that the shift is safe .",
    "say @xmath84 is essential .",
    "then since it is not crossed out from above , the slice label south of the kink must be @xmath595 .",
    "since the box above must be crossed out from the east , the slice label east of the kink must also be @xmath596 .    now the converse .",
    "if the east edge of the kink is @xmath596 , then @xmath72 is not in the diagram ( either the row s dot is to the right , or there is no dot ) .",
    "if the south edge of the kink is @xmath595 , then @xmath84 is not crossed out from the north or east , and is in the diagram . for @xmath84 to be essential , though",
    ", we still need that @xmath545 is crossed out , and there are two cases to consider .",
    "if the slice label above @xmath255 is @xmath595 , then there is a @xmath31-dot at @xmath255 .",
    "otherwise there is a ray upward from this slice label , and @xmath255 is crossed out from above .",
    "either way @xmath545 is crossed out from above .",
    "this shows that if both labels are @xmath31 , then @xmath84 is an essential box for @xmath16 .",
    "[ prop : west0s ] let @xmath41 satisfy all the requirements of a @xmath6-ip pipe dream except for the condition that the west edge labels are @xmath31s .",
    "then this condition holds iff the number of letters on the south edges equals that on the east edges .",
    "if a west edge label of a tile contains a @xmath30 , then the tile ca nt be a displacer ( since the @xmath613 on the east edge would nt end with @xmath30 ) , so the south edge must be @xmath31 .",
    "this ca nt happen on a tile at @xmath33 , so none of the west edges of the pipe dream contain @xmath30s .    if a @xmath30-pipe enters a fusor tile from the west , it must come out the north .",
    "so the @xmath30-pipes go from south edges of the @xmath6-ip pipe dream to north edges .",
    "denote the numbers of labels on the north edge by @xmath614 , where @xmath615 are the numbers of labels @xmath44 , on the east edge by @xmath616 ( with @xmath469 for letter ) , and on the south edge by @xmath617 .",
    "then so far we have argued @xmath618 . from the north ,",
    "the number of @xmath31-pipes coming out the west is @xmath619 . from the east ,",
    "the number is @xmath620 . summing , we get @xmath621 @xmath31-pipes on the west , so every west edge ends with @xmath31 iff @xmath622 .",
    "let @xmath98 be a viable slice , with kink at @xmath72 .",
    "say that @xmath98 * admits * a tile @xmath623 , * producing * the slice @xmath102 , if    * the upper half of @xmath98 has one more box ( namely , the kink ) than the upper half of @xmath102 , * if @xmath624 agree on all common edges , * the edges on which they differ bound the tile @xmath623 ( at @xmath72 ) , and * @xmath102 is again viable .",
    "[ prop : uniquefill ] let @xmath98 be a viable slice such that the east and south edges of the kink are not both labeled @xmath31 .",
    "then @xmath98 admits a unique tile , and the @xmath102 produced has the same associated partial permutation as @xmath98 did .",
    "this is a straightforward case check , which we recommend to the reader .",
    "spoilers commence for those who resist the pleasure .",
    "if the east and south edge of the kink have disjoint labels , then the tile @xmath623 must be a crossing tile .",
    "the rays from the new horizontal and vertical edges are labeled and pointing the same directions as before .",
    "they match up with ( or otherwise modify ) the same perpendicular rays as they did before .",
    "otherwise the east edge must have multiple labels on it . by the definition of viability from  [ sssec : wklabels ]",
    ", the south label must be the last letter of the east label , and filling in the displacer tile to create @xmath102 both preserves viability , and leaves the dots in place .",
    "( this is of course due to our recursive definition of viability , in the presence of multiple labels . )",
    "-.3 in    the remaining case ",
    "when the east and south edges of the kink are both labeled @xmath31  is much more interesting .",
    "[ prop : nonuniquefill ] let @xmath98 be a viable slice , with kink at @xmath72 , whose south and east edges are labeled @xmath31 .",
    "( in particular @xmath625 , since there are no south @xmath595 labels on @xmath33 tiles . )",
    "so @xmath98 admits only fusor tiles .",
    "one such that @xmath98 admits is the equivariant tile , and the @xmath102 so produced has @xmath626 .",
    "the dots in @xmath99 that are minimally northwest of @xmath72 , and in columns @xmath196 $ ] , have all distinct labels .",
    "let @xmath92 be the list of these labels ( read sw to ne ) , plus @xmath30 at the end if the @xmath98-labels west of the kink end @xmath627 .    for each nonempty sublist @xmath589",
    ", @xmath98 admits the fusor tile with west edge @xmath239 .",
    "these tiles ( and the equivariant tile ) are all the tiles @xmath98 admits , and for each such @xmath239 the resulting @xmath102 has @xmath628 as last seen in theorem [ thm : safeshift ] .    before placing the equivariant tile , there are @xmath31-rays coming south and east out of the kink .",
    "the south - pointing ray goes down to a @xmath31-dot @xmath629 , and the east - pointing ray either meets a south - pointing @xmath31-ray @xmath630 at a @xmath31-dot , or it exits the bottom half entirely .",
    "once we place the equivariant tile at the kink , producing @xmath102 , the @xmath31-rays each start one step back , and now collide at a @xmath31-dot in @xmath72 .",
    "if there is a @xmath630 , it no longer hits the east - pointing @xmath31-ray from the kink , but continues down to the row where @xmath629 was .",
    "effectively , @xmath629 has moved up into @xmath72 , and the @xmath31-dot from row @xmath36 ( if there is one ) has moved down to @xmath629 s row .",
    "this is exactly the sweeping action on dots computed in proposition [ prop : safesweep ] .",
    "the fact that the ray / dot picture continues to exist is our definition of viability .",
    "since two dots in @xmath99 with the same label were required to be nw / se of each other , the dots that are minimally northwest of @xmath72 must have distinct labels .",
    "let @xmath92 be the list of those dots in columns @xmath196 $ ] ( read sw to ne ) , plus @xmath30 at the end if the @xmath98-labels west of the kink end @xmath627 .",
    "we now claim that @xmath98 admits a fusor tile with west edge @xmath115 @xmath631 the list @xmath115 is a ( nonempty ) sublist of @xmath92 .    for each direction of this iff , it helps to understand what tiles will be placed after ( i.e. further left from ) the fusor is placed .",
    "there are only crossings ( which copy the vertical labels ) and displacers ( which remove one letter from @xmath115 at a time , from the right ) , until all the letters in @xmath115 are gone and we hit a dot tile .",
    "( more tiles are forced thereafter , usually , but this is enough to consider . ) we have to hit a dot tile at some point , because by proposition [ prop : west0s ] the leftmost vertical edge will be a @xmath596 .",
    "see figure [ fig : krays ] for the full story .",
    "@xmath632 place the tile , producing @xmath102 , and the follow - on tiles up through the first dot tile . to show this preserves viability",
    ", we have to show that there is again a consistent system of rays and dots ; this is best illustrated in figure [ fig : krays ] .",
    "@xmath633 we claim that if @xmath98 admits a fusor tile with west edge @xmath115 , then @xmath115 must be a sublist of @xmath92 .",
    "each displacer tile encountered before the dot tile lies over a letter or a @xmath30 , with a north - pointing ray .",
    "we claim that the dot that ray points to ( interpreting the ray from a @xmath634 as pointing to a dot just outside the triangle ) is minimally northwest of @xmath72 .",
    "this is easy for the @xmath634 case . by the condition on crossing tiles , before we meet the @xmath634 displacer we go through @xmath595 crossing tiles , whose dots are to the south .",
    "otherwise the displacer tile at @xmath635 lies atop a letter , say @xmath21 , with a ray pointing up to an @xmath21-dot .",
    "if the @xmath21-dot is not minimally northwest of @xmath72 , then there is another ( say ) @xmath40-dot in some column @xmath636 , @xmath637 in between the @xmath21-dot and @xmath72 .",
    "( so @xmath40 is a letter , not @xmath31 or @xmath30 . )",
    "we do assume this @xmath40-dot to be minimally northwest , so , lying atop the rightmost @xmath638 left of @xmath72 .",
    "this letter @xmath40 must be distinct from @xmath21 , or else the @xmath21 would already have been ripped out of the vertical label . before we place the fusor tile , the @xmath21-rays and @xmath40-rays do not intersect at all , by the @xmath40-dot being se of the @xmath21-dot .",
    "there are two cases : the fusor tile involves the label @xmath40 , or not .",
    "if not , then once we place tiles at @xmath72@xmath635 , going from the left figure here to the right figure ,    the @xmath21-pipe crosses the @xmath40-pipe once in the tiles and once in the rays .",
    "placing more tiles wo nt fix the latter intersection , by the jordan curve theorem , so we know that whatever pipe dream we make eventually will have two lettered pipes crossing twice . that being forbidden is the contradiction that says there is no offending @xmath40-dot .",
    "if yes , then the west label of the fusor tile involves both @xmath21 and @xmath40 so we are definitely using @xmath6-pieces .",
    "now we invoke the nonlocal condition on @xmath6-ip pipe dreams ( look again at  [ sssec : ktiles ] ) and jordan curve to reach a similar contradiction .",
    "this just combines propositions [ prop : safe00essential ] , [ prop : uniquefill ] , and [ prop : nonuniquefill ] .",
    "the other proofs are by induction through the vakil sequence . for each pair",
    "@xmath639 , define a * @xmath6-ip pipe dream @xmath41 below @xmath72 * to be a viable slice at @xmath72 plus a filling of its bottom half with @xmath6-tiles .",
    "we can interpret the previous definition of @xmath6-ip pipe dream as the @xmath640 case , and otherwise require @xmath641 $ ] .",
    "( these partial pipe dreams will be directly useful in @xcite . )",
    "it is clear how to extend the definition of @xmath42 , @xmath119 , and @xmath131 to these partial pipe dreams . and",
    "since each comes with a slice , we can define the partial permutation @xmath642 to be @xmath643that slice@xmath47 . for @xmath644 ( no tiles )",
    "we have @xmath645 , whereas for @xmath646 ( usual @xmath6-ip pipe dreams ) , we have @xmath642 running nw / se , in the first @xmath14 rows , with columns determined by @xmath43",
    ".    we will prove first a generalization of theorem [ thm : ktformula ] , that for each @xmath639 , @xmath53 = \\sum_{p:\\ f(p ) = f } ( -1)^{fusing(p ) } wt_k(p)\\ [ \\pi_{g(p)}]\\ ] ] where the @xmath41 summed over are the @xmath6-ip pipe dreams below @xmath72 .",
    "when @xmath646 , this is just the sum over @xmath6-ip pipe dreams @xmath41 , and @xmath647 by lemma [ lem : oppschubert ]",
    ".    the proof will be by induction through the vakil order , where the base case is @xmath648 , handled by lemma [ lem : richardson ] .",
    "there is a unique ( tile - less ) @xmath6-ip pipe dream @xmath41 below @xmath649 , and @xmath650 , giving the equation @xmath23 = ( -1)^0 \\cdot 1 \\cdot [ \\pi_f]$ ] . in the inductive step ,",
    "we want to place one tile on each @xmath41 in the summation .",
    "if the south and east edges of the kink are not both labeled @xmath31 , then @xmath651 is @xmath404-invariant ( proposition [ prop : safe00essential ] ) , and there is a unique way of placing the tile and it does not move the dots ( proposition [ prop : uniquefill ] ) .    if the south and east edges of the kink are both labeled @xmath31 , let @xmath652 be @xmath41 plus an equivariant piece , and @xmath653 , where @xmath92 is as in proposition [ prop : nonuniquefill ] .",
    "since positroid varieties are @xmath7-convex by theorem [ thm : tconvex ] ( 1 or 2 ) , we can use the degree @xmath30 result from theorem [ thm : tconvex ] ( 3 ) . that , and them having rational singularities justifies use of proposition [ prop : ktshift ] which computes @xmath4-classes using shifts .",
    "it says @xmath654 & = & ( 1 - \\exp(y_j - y_i ) ) [ { { \\psi}_{i\\to j}}\\pi_{g(p ) } ]        + \\exp(y_j - y_i ) [ { { \\textcyr{x}}_{i\\to j}}\\pi_{g(p ) } ] \\\\       & = &   ( 1 - \\exp(y_j - y_i ) ) [ \\pi_{g(p_e ) } ]       + \\exp(y_j - y_i ) \\sum_{s",
    "\\subseteq c,\\ s\\neq \\emptyset } ( -1)^{\\#s - 1 } [ \\pi_{g(p_s ) } ] \\\\       & & \\text{by proposition \\ref{prop : nonuniquefill }          and theorem \\ref{thm : safeshift } , which we rewrite as } \\\\       & & \\\\       & = & \\sum_{p\\text { admits } \\tau } ( -1)^{fusing(\\tau ) } wt_k(\\tau ) [ \\pi_{g(p\\ & \\tau ) } ] .    \\end{aligned}\\ ] ] if we use that recursively , and the multiplicativity of the definition of @xmath655 and @xmath656 , we get the generalization claimed .",
    "this directly implies theorem [ thm : kformula ] by taking all @xmath657 , and from there theorem [ thm : hformula ] by taking leading terms .    with some care we could derive the @xmath26 theorem [ thm : htformula ] as the leading terms of this @xmath4 formula .",
    "but it is simpler just to replace the use of proposition [ prop : ktshift ] s @xmath4-formula with its @xmath26-formula . from that point",
    "the derivation is the same .",
    "finally , we address the fusing count from the end of theorem [ thm : kformula ] , proving by induction more generally that @xmath658 for these partial pipe dreams .",
    "the base case of the induction is @xmath41 empty , where @xmath659 . for the induction ,",
    "we see how @xmath642 changes as we attach one tile , using the analyses of propositions [ prop : uniquefill ] and [ prop : nonuniquefill ] .",
    "there are three cases :    1 .",
    "_ unique fill .",
    "_ see proposition [ prop : uniquefill ] . we do nt change @xmath119 or @xmath642 , nor attach an equivariant tile , so none of the four numbers change .",
    "_ equivariant tile",
    ". _ see proposition [ prop : nonuniquefill ] .",
    "we change @xmath642 by a covering relation in affine bruhat order , increasing @xmath660 and the number of equivariant tiles each by @xmath30 .",
    "3 .   _ fusing . _ see proposition [ prop : nonuniquefill ] .",
    "the change in length of @xmath642 matches the change in the fusing number .",
    "in this section we consider ip pipe dreams ( not @xmath6-ip ) with only one letter , i.e. the edge labels are @xmath662 .",
    "this has two interesting effects .",
    "the first is that in the initial ( and every later ) slice @xmath98 the dots in the top half of @xmath99 are nw / se , and consequently , the interval positroid variety associated to an initial slice ( where the top half is the whole upper triangle ) is a richardson variety @xmath663 . in particular ,",
    "its homology class is given by the littlewood - richardson rule , and its geometric shifts have already been studied in @xcite .",
    "the second effect is that the conditions defining the ip ( but not @xmath6-ip ) pipe dreams become entirely local : since two lettered pipes with the same letter do nt cross even once , they definitely wo nt cross twice , and there are nt two different letters to worry about .",
    "a size @xmath113 * puzzle * is a tiling of a size @xmath113 equilateral triangle ( parallel to those above ) with puzzle pieces , such that the boundary has no @xmath312 labels .",
    "consequently , the pieces with @xmath312s come in adjacent pairs , the @xmath312 being for `` rhombus '' .",
    "the fourth piece is the * equivariant piece * , with * equivariant weight * @xmath375 , where @xmath36 is the distance of that piece from the northwest side of the puzzle , and @xmath664 its distance from the northeast side .",
    "( other pieces have equivariant weight @xmath30 . )    to compare puzzles to ip pipe dreams , it is mnemonic to first compare the equivariant rhombus of weight @xmath375 to the corresponding equivariant tile .",
    "we will need to stretch the puzzle to drape each rhombus across the corresponding square , and will need to change the labels on _ vertical _ edges .      1 .",
    "move the north corner right until it is above the southeast corner , then the southwest corner up until it is left of the north corner .",
    "2 .   along the nw / se diagonal ,",
    "attach and pieces so that the resulting shape is that of an ip pipe dream .",
    "erase all diagonal labels , so the result is a bunch of labeled squares .",
    "4 .   on vertical edges , rotate the labeling @xmath665 .",
    "horizontal labels we leave alone .        * puzzles with @xmath667 giving the positions of the @xmath30s on the nw , ne , and s sides ( each read left - to - right ) , and * ip pipe dreams with only the labels @xmath662 , where @xmath207 gives the positions of the @xmath30s on the north side , and @xmath668 give the positions of the @xmath312s on the east side ( read top - to - bottom ) and south side ( read left - to - right ) .",
    "since both definitions are local , the proof is simply a correspondence between the @xmath669 ways to attach two triangles together ( @xmath30 with @xmath312 on the diagonal , @xmath670 if one chooses the diagonal to be @xmath44 and then chooses each half ) , plus the equivariant rhombus , to the @xmath671 possible tiles ( @xmath5 dot tiles , @xmath5 fusors , @xmath672 crossing , @xmath30 equivariant ) . here",
    "it is :    since we are working in equivariant cohomology and not @xmath6-theory , the schubert and opposite schubert bases are dual bases in the sense that @xmath673 [ x^\\mu ] = \\delta_{\\lambda\\mu}$ ] .",
    "so instead of interpreting puzzles as computing the coefficient of @xmath674 $ ] in the class @xmath675 = [ x_\\mu][x^\\nu]$ ] of the richardson variety , we can equivalently interpret them as computing the coefficient of @xmath676 $ ] in the product @xmath677[x_\\mu]$ ] , giving the main result of @xcite .",
    "one benefit of the puzzle combinatorics over that of the ip pipe dreams is to make combinatorially evident a @xmath678-symmetry of the nonequivariant schubert structure constants , namely @xmath679 , since both equal @xmath673 [ x_\\mu ] [ x_\\nu]$ ] .",
    "( this symmetry does not hold equivariantly , since the dual basis element @xmath680 $ ] to @xmath677 $ ] only equals @xmath681 $ ] nonequivariantly .",
    "and sure enough , the puzzle rule is only rotationally symmetric when we exclude the equivariant piece . )",
    "the paper @xcite also reinterprets puzzles in terms of pipes , or more properly space - time diagrams of two colors of fermions moving on a line , but the world - lines of those particles do nt seem to have much to do with the pipes here ."
  ],
  "abstract_text": [
    "<S> consider @xmath0 matrices with rank conditions placed on intervals of columns . </S>",
    "<S> the ranks that are actually achievable correspond naturally to upper triangular partial permutation matrices , and we call the corresponding subvarieties of @xmath1 the _ interval positroid varieties _ , as this class lies within the class of positroid varieties studied in [ knutson - lam - speyer ] . </S>",
    "<S> it includes schubert and opposite schubert varieties , and their intersections .    </S>",
    "<S> vakil s `` geometric littlewood - richardson rule '' [ vakil ] uses certain degenerations to positively compute the @xmath2-classes of richardson varieties , each summand recorded as a @xmath3-dimensional `` checker game '' . </S>",
    "<S> we use his same degenerations to positively compute the @xmath4-classes of interval positroid varieties , each summand recorded more succinctly as a @xmath5-dimensional `` @xmath6-ip pipe dream '' . in vakil s restricted situation these ip pipe dreams biject very simply to the puzzles of [ knutson - tao ] .    </S>",
    "<S> we relate vakil s degenerations to erds - ko - rado shifting , and include results about computing `` geometric shifts '' of general @xmath7-invariant subvarieties of grassmannians . </S>"
  ]
}