{
  "article_text": [
    "many - server approximations are ubiquitous in the modeling of large - scale service systems .",
    "a prevalent mode of analysis in this context is the _ halfin  whitt _ heavy traffic diffusion regime @xcite , also called the _ quality and efficiency driven _",
    "( qed ) regime @xcite . for the @xmath0 queue , a sequence of systems in heavy traffic ( ht ) , indexed by @xmath1 ,",
    "is constructed by letting the number of servers , @xmath2 , and the arrival rate , @xmath3 , grow with @xmath1 while the service rate @xmath4 remains fixed , so that the utilization in the @xmath1th system , @xmath5 , behaves like @xmath6 customer waiting times in this regime are of the order @xmath7 and are thus order of magnitudes smaller than the service times .",
    "it has been argued that this order of magnitude relation renders the analysis in this regime relevant for some call centers and certain health - care systems to whose study it has been applied ; see , for example , @xcite . the halfin ",
    "whitt regime is typically contrasted with the so - called _ conventional _ ht diffusion regime .",
    "conventional limits are obtained by fixing the number of servers ( typically  1 ) and letting both the arrival and service rate scale so that @xmath8 in this regime , the waiting time is of the order of @xmath9 so that , in perfect contrast with the halfin  whitt regime , the service time is negligible compared to the waiting time .    from a modeling viewpoint , it is desirable to allow for these two important performance measures to be comparable under the scaling .",
    "gurvich , mandelbaum and shaikhet @xcite and , independently , whitt @xcite have identified a many - server regime with this property .",
    "limits for the @xmath0 queue in this regime are obtained by scaling the parameters so that @xmath10 and @xmath2 are of the order of @xmath11 and @xmath12 one defines the _ slowdown _ of a queueing system as the ratio between the sojourn time and the service time experienced by a typical customer . by",
    "the foregoing discussion among the three regimes alluded to above , regime ( [ eq : htcond ] ) is unique in that the slowdown does not degenerate , in the sense that it does not converge to one of the extreme values , 1 or @xmath13 .",
    "we therefore refer to it as the _ nondegenerate slowdown _ ( nds ) diffusion regime .",
    "this term was coined in @xcite , where a queue with heterogenous servers was analyzed in this regime , and the limiting joint law of waiting time and service time was identified .",
    "both the conventional and the nds regimes are often referred to as _ efficiency driven _ ( ed ) .",
    "we refer the reader to @xcite for further discussion of the three regimes and to @xcite for the distinction between qed and ed regimes .",
    "the relevance of the nds diffusion regime in real - world applications has been argued in @xcite by demonstrating that some call centers do operate with comparable delays and service times ; particularly , this is the case for the detailed empirical study of a call center performed in @xcite .",
    "this makes a strong case for analyzing these systems by nds diffusion approximations ( see @xcite for further discussion on this modeling issue , and whitt @xcite for an alternative ( ed ) regime with comparable delays and service times ) .",
    "control of queueing networks under both the conventional and halfin  whitt diffusion regimes ( as well as fluid regimes ) has been an active research area in recent years .",
    "particularly , the _ parallel server model _ has been studied in this context , where customers of a number of classes are served in parallel by servers of various types , and a system administrator dynamically controls the routing .",
    "( for the conventional diffusion regime see @xcite and for the halfin ",
    "whitt regime see , e.g. , @xcite and references therein . ) in this paper we study the problem of minimizing queue - length costs in a parallel server model with renewal arrival processes and exponential service times operating in the nds regime . from a control standpoint , a distinctive property of the nds regime",
    "is that _ sojourn time _",
    "cost criteria are meaningful as neither the service time or waiting - time degenerate asymptotically .",
    "having solved the queue - length problem , we argue ( heuristically ) how in a simple case , the sojourn time problem can be reduced to a queue - length problem .",
    "this provides further motivation for the latter .",
    "we leave open the rigorization of this argument and the question of how general this reduction is , as well as the extension of this work to general service - time distributions .    in terms of the asymptotic behavior ,",
    "the nds control problem is close to the one in the conventional regime . in particular ,",
    "the brownian control problem ( bcp ) which describes the asymptotics is the same as the one studied in @xcite for the conventional regime .",
    "this bcp , under a _ complete resource pooling _ ( crp ) condition , undergoes a reduction to a one - dimensional problem .",
    "this reduction is often called a _ state space collapse_. bell and williams @xcite and mandelbaum and stolyar @xcite have studied the parallel server model in conventional heavy traffic and obtained asymptotic optimality results under the crp condition .",
    "bell and williams address linear costs and construct certain threshold type policies .",
    "mandelbaum and stolyar consider separable convex ( and flat at the origin ) costs and work with policies that obey the generalized-@xmath14 rule .",
    "in this paper we aim at a relatively general cost of the form @xmath15 , where we denote by @xmath16 a properly scaled version of queue - length , and use the term `` cost '' to mean a random variable that is to be minimized stochastically .",
    "the function @xmath17 , referred to as the cost function , satisfies an assumption slightly weaker than convexity ( assumption [ asum : cstar ] ) , as well as an assumption regarding the existence of a continuous minimizer ( assumption [ asum : continuousselection ] ) . the first main result ( theorem [ th1 ] )",
    "asserts that the bcp value constitutes an asymptotic lower bound on the cost under any sequence of policies .",
    "the second main result ( theorem [ thm : conv_track ] ) shows that this lower bound is tight .",
    "the price paid for the generality of @xmath17 is that @xmath14 type policies must be abandoned , and a more complicated policy has to be used to attain the lower bound .",
    "we introduce a _ tracking _ type policy , in which a certain target process [ denoted by @xmath18 in ( [ 86 ] ) ] is computed , and routing is performed so as to keep the difference between the actual queue - length process @xmath16 and the target , small .",
    "it turns out that the techniques required here are quite different from those in the conventional ht , due both to the general cost and the difference between the regimes .",
    "theorem [ th1 ] provides a lower bound that is weaker than what , in the conventional regime , is referred to as a _",
    "pathwise _ bound ( as , e.g. , in @xcite ) . as we discuss in section  [ sec : model ] , in the nds regime a corresponding pathwise lower bound does not hold , and this is the main reason for the complicated proof of the result as compared to that of the pathwise lower bound in the conventional regime .",
    "the main part of the proof of asymptotic optimality of the proposed policy is showing that the difference @xmath19 is small .",
    "( from that , asymptotic optimality follows rather easily because the process @xmath16 can then be shown to behave like the explicit solution to the bcp . )",
    "this proof is based on showing that re - balancing of the workload among the queues can occur quickly on the relevant time scale .",
    "this is facilitated by the fact that the workload is evenly divided ( in the sense of order of magnitude ) between the queues and the servers and short service times allow to move significant workload from one queue to the other before the total - workload process changes considerably .",
    "( this explains the similarity to the behavior in conventional heavy traffic , where the same quick response is possible . on the other hand , such nearly instantaneous re - balancing",
    "can not be performed in the halfin ",
    "whitt regime in which most of the workload is in service and , to re - direct a nonnegligible fraction of workload from one class to the other requires a large number of service completions .",
    "indeed , the resulting brownian control problem there is different @xcite . )",
    "an analysis of the problem in the case of homogenous servers and interruptible service policies was carried out in @xcite .",
    "the asymptotics of the queueing control problem were shown to be governed by a bcp that is a special case of the one identified in this paper .",
    "thanks to the more special model and the ( easier to handle ) interruptible service assumption , it was possible to attain an analogous result for the _ headcount _ process as well as queue - length ( in this paper , theorem [ th1 ] is proved for the queuelength process only ) .",
    "we use the following notation throughout the paper . for a positive integer @xmath20 and @xmath21",
    ", we write @xmath22 for @xmath23 , and for @xmath24 , @xmath25 .",
    "we denote by @xmath26 the space of functions from @xmath27 to @xmath28 that are right continuous with left limits ( rcll ) , and equip it with the usual skorohod topology .",
    "we remove the subscript when @xmath29 . for a sequence of r.v.s @xmath30 , with values in @xmath28 , or processes with sample paths in @xmath26 , @xmath31 denotes convergence in distribution .",
    "the remainder of the paper is organized as follows .",
    "section  [ sec : model ] describes the model and states the result regarding the lower bound .",
    "it also contains a discussion of sojourn time costs as well as an aspect of the lower bound related to pathwise dominance .",
    "the definitions of various diffusion - scaled processes and some preliminary lemmas appear in section  [ sec : preliminaries ] .",
    "this section also contains a formulation and solution of the underlying brownian control problem .",
    "the proof of the lower bound appears in section  [ sec : lowerbound ] .",
    "section  [ sec : asymopt ] contains the second main result , asserting that the lower bound is tight .",
    "this is shown by constructing a sequence of policies that asymptotically achieves the bound .",
    "we consider a sequence , indexed by @xmath32 , of parallel server systems with @xmath33 classes of customers and @xmath34 pools of servers , an example of which is depicted in figure  [ fig : sbr ] .",
    "the index set for the classes is denoted by @xmath35 and that for the pools by @xmath36 ( thus @xmath37 and @xmath38 ) .",
    "arrivals are modeled as independent renewal processes , denoted by @xmath39 so that @xmath40 is the number of class-@xmath41 arrivals by time @xmath42 . to construct these processes ,",
    "let @xmath43 be independent ( undelayed ) renewal processes , where , for each @xmath41 , the time of the first arrival and the inter - arrival times are positive i.i.d .",
    "random variables with mean 1 , variance @xmath44 .",
    "we assume that the inter - arrival times have a finite moment of some order @xmath45 .",
    "the processes @xmath46 are defined as time accelerations of the above , namely @xmath47 where the acceleration parameters satisfy @xmath48 , and @xmath49 as @xmath50 .    for @xmath51",
    ", @xmath52 denotes the number of servers in pool @xmath53 and is assumed to satisfy @xmath54 for some constants",
    "we assume that service times are exponentially distributed and denote by @xmath56 the mean service time of a class-@xmath41 customer with a server from pool @xmath53 ( so that @xmath57 is interpreted as the corresponding rate ) .",
    "if servers from pool @xmath53 can not serve customers from class @xmath41 , write @xmath58 .",
    "this property is assumed to be independent of @xmath1 .",
    "write @xmath59 or @xmath60 if @xmath61 ( for all , equivalently , one @xmath1 ) .",
    "this information is encoded in a graph @xmath62 whose vertex set is @xmath63 and has an edge connecting @xmath64 and @xmath51 if and only @xmath59 . the edge set of the graph is denoted by @xmath65 , and thus @xmath66 if and only if @xmath59 .",
    "denote by @xmath67 the cardinality of @xmath65 .",
    "when all servers from pool @xmath53 are occupied with class-@xmath41 customers , they jointly serve this class at rate @xmath68 .",
    "further assume that @xmath69 so that @xmath70 and assume that @xmath71 whenever @xmath59 ( clearly , @xmath72 otherwise ) . also , assume that , for every @xmath64 and @xmath51 , @xmath73 thus , the nominal joint processing rate of pool-@xmath53 servers for class-@xmath41 customers ( namely @xmath74 ) is asymptotic to @xmath75 . at the same time , the rate of an individual server ( namely @xmath76 ) is asymptotic to @xmath77 .",
    "the quantities @xmath78 will appear in the fluid model , while @xmath79 will show in the diffusion model .",
    "let @xmath80 denote the set of @xmath81 matrices for which the @xmath82 entry is zero whenever @xmath83 .",
    "let @xmath84 be the subset of @xmath80 of `` column - substochastic '' matrices .",
    "that is , members @xmath85 of @xmath84 satisfy @xmath86 for every @xmath87 , @xmath88 for every @xmath53 and @xmath89 for @xmath90 .",
    "following @xcite , for @xmath91 , write @xmath92 for the column vector @xmath93 , where @xmath94 the first order parameters @xmath95 and @xmath96 are assumed to satisfy a critical load condition . to specify it ,",
    "consider a _",
    "static fluid model _ , consisting of @xmath33 classes of fluid and @xmath34 processing stations . for @xmath64 , fluid of",
    "class @xmath41 enters at rate @xmath97 .",
    "each station may divide its processing effort so as to process fluids of different classes simultaneously .",
    "a member @xmath98 is said to be an _ allocation matrix _ for the model , representing how the effort is distributed among classes .",
    "when the system operates under a given allocation matrix @xmath85 , the element @xmath99 represents the fraction of effort devoted at station @xmath53 to processing class-@xmath41 fluid .",
    "consequently , station @xmath53 processes class-@xmath41 fluid at rate @xmath100 .",
    "a system operating under @xmath85 is balanced if the _ balance equation _ @xmath101 holds so that the stations process the incoming fluid at the rate at which it enters the system .",
    "consider now the following linear program : @xmath102 the following condition asserts that the static fluid model is critically loaded .",
    "[ assn2 ] there exists a unique optimal solution @xmath103 to the linear program ( [ 15 ] ) .",
    "moreover , @xmath104 for all @xmath51 ( and consequently , @xmath105 ) .",
    "following terminology from @xcite , a pair @xmath82 where @xmath106 , is called an _ activity _ , and an activity @xmath82 is said to be _ basic _ if @xmath107 and is said to be _ nonbasic _ otherwise . in the static fluid model operating under @xmath108 ,",
    "class-@xmath41 fluid is processed at a positive rate by station @xmath53 if and only if @xmath82 is a basic activity .",
    "let @xmath109 be the sub - graph of @xmath62 , having @xmath63 as a vertex set , and an edge connecting @xmath64 and @xmath51 if and only if @xmath82 is a basic activity .",
    "the edge set of @xmath110 will be denoted by  @xmath111 .",
    "we will write @xmath112 for the set of nonbasic activities .",
    "for @xmath113 we let @xmath114 be the set of server pools that are connected to class @xmath41 via basic activities and , similarly , for @xmath115 , we let @xmath116 be the set of customer classes connected to server pool @xmath53 via basic activities .    [ assn3 ] the graph @xmath110 is connected .    both assumptions",
    "[ assn2 ] and [ assn3 ] will be in force throughout the paper . in the context of conventional heavy - traffic",
    ", the connectedness of the stations via basic activities leads to a high level of cooperation in that the system asymptotically behaves as if it operates under a single super - server @xcite . as explained in @xcite",
    "( see also @xcite ) , the crp condition is related to the so - called _ workload process _ being one - dimensional , and allows for the corresponding brownian control problem to admit a one - dimensional solution .",
    "it is known from williams @xcite that , under assumption [ assn2 ] , @xmath110 is _ connected _ if and only if it is a _ tree_. both the lower bound and the asymptotic optimality results build on the tree structure of @xmath110 .",
    "it will be useful to state an equivalent form of the above assumptions , given by mandelbaum and stolyar @xcite .",
    "to this end , denote @xmath117 note that @xmath118 is a convex polygonal domain and a subset of @xmath119 .",
    "it is argued in  @xcite that the conjunction of the ht and the crp conditions is equivalent to the following statement : _",
    "@xmath120 is a maximal element of @xmath118 w.r.t .",
    "the usual partial order on @xmath119 the unit outward normal to @xmath118 at @xmath120 is unique and the matrix @xmath98 for which @xmath101 is unique . _",
    "( note that , because @xmath121 for all @xmath64 , it follows that @xmath118 is an @xmath33-dimensional set , as assumed a priori in @xcite . )",
    "we will denote the unit outward normal to @xmath118 at @xmath120 by @xmath122 .",
    "as argued in @xcite , @xmath122 must satisfy @xmath123 , @xmath113 .",
    "these facts will be used in our analysis .",
    "we continue the description of the probabilistic model .",
    "we let a complete probability space @xmath124 be given , supporting all random variables and stochastic processes defined below . we write @xmath125 for expectation w.r.t .",
    "let @xmath127 denote the process representing the number of pool-@xmath53 servers working on class-@xmath41 customers [ note that @xmath128 for @xmath90 ] .",
    "let @xmath130 , @xmath131 and @xmath132 denote , respectively , the number of class-@xmath41 customers in the system ( the `` headcount '' process ) , the number of class-@xmath41 customers in the queue and the number of pool-@xmath53 servers that are idle . note that @xmath133 and @xmath134 we are given standard ( unit rate ) poisson processes @xmath135 , @xmath136 .",
    "the number of service completions of class-@xmath41 customers by pool-@xmath53 servers is constructed by setting @xmath137 where @xmath138 we then have @xmath139 naturally , it is required that for all @xmath140 , @xmath141    for each @xmath1 , the processes @xmath142 , @xmath143 and the initial condition @xmath144 are assumed to be mutually independent .",
    "we refer to @xmath145 as the _ primitives_.    when routing decisions are made in a causal manner based on the observed histories of the processes involved , namely @xmath146 the construction of the departure process via ( [ 09 ] ) and ( [ 10 ] ) assures that the customers service times are independent , exponential random variables ( in particular , this follows from @xcite , theorem 16 , page 41 ; see also the discussion in section  2.1 of @xcite ) . for the treatment of this paper",
    ", it will not be necessary to require any nonanticipating property of the class of policies we consider ( although the exponential property will be lost when the policy does not satisfy a suitable nonanticipating property ) .",
    "instead , we use an elaborate definition of the term `` policy '' that merely relies on the _ equations _ presented thus far .",
    "more precisely , _ any process @xmath147 , of the form and possessing rcll sample paths will be referred to as a policy for the @xmath1th system , provided that equations ",
    "hold , and that the stochastic primitives satisfy our probabilistic assumptions mentioned above . _ given @xmath1 , the collection of all policies for the @xmath1th system is denoted by @xmath148 .",
    "note that policies need not satisfy any work conservation condition .",
    "our results will be concerned with asymptotically minimizing a cost associated to the diffusion - scaled queueing process , defined by @xmath149 let a cost function @xmath150 be given , that is continuous and nondecreasing with respect to the usual partial order on @xmath119 .",
    "fix @xmath151 .",
    "the cost criterion of interest will be @xmath152 note that this criterion is a r.v .",
    "for each @xmath1 .",
    "we do not formulate the problem in terms of minimizing the _ expected value _ of ( [ 78 ] ) . considering ( [ 78 ] ) allows us to state a result on the asymptotic behavior of these r.v.s that is stronger than one about their expectation ; see remark [ rem2 ] .",
    "[ asum : cstar ] the function @xmath153 defined by @xmath154 is convex .    clearly , a sufficient condition for the convexity of @xmath155 is the convexity of the function @xmath17 .",
    "however , it is not necessary .",
    "consider , for example , @xmath156 and the cost function @xmath157 for @xmath158 and assume @xmath159 .",
    "then @xmath160 is convex while @xmath17 is not .",
    "to state our first main result we introduce additional notation : for @xmath161 , @xmath162 and @xmath163 . the _ skorohod map _",
    "@xmath164 is defined by @xmath165(t)=\\zeta(t)+\\sup_{s\\le t}\\bigl(-\\zeta(s ) \\bigr)^+ , \\qquad t\\ge0.\\ ] ]    the process @xmath166 represents the diffusion - scale deviation of the headcount process from the quantities dictated by the static fluid model . throughout",
    ", we assume @xmath167 where @xmath168 is a.s .",
    "finite r.v .",
    "finally , @xmath169    [ th1 ] fix an arbitrary sequence @xmath170 of policies .",
    "then @xmath171 can be coupled on a common probability space with the r.v . @xmath168 and an @xmath33-dimensional brownian motion @xmath172 ( with drift vector @xmath173 and diffusion coefficient @xmath174 ) so that @xmath172 and @xmath168 are mutually independent and , w.p.1 , @xmath175 where @xmath176 is the ( one - dimensional ) reflected brownian motion given by@xmath177 $ ] .",
    "[ rem2 ] a more standard control theoretic setting is one where an _ expected _ cost , such as @xmath178 $ ] , is to be minimized .",
    "an asymptotic lower bound on the expected cost follows immediately from the above result , using fatou s lemma , namely @xmath179 \\ge{\\mathbb{e}}[\\int_0^uc_*(q^*(t))\\,dt]$ ] .",
    "the result stated in the theorem is , of course , stronger .",
    "the family @xmath180 includes both preemptive and nonpreemptive policies .",
    "the policy that we will construct in section  [ sec : asymopt ] is nonpreemptive , but we will prove that it is asymptotically optimal within the larger family  @xmath180 .",
    "_ on sojourn time costs .",
    "_ in the nds regime , unlike in the conventional regime , sojourn time costs lead to control policies that are distinct from those designed to minimize waiting times .",
    "we provide here a heuristic argument , showing that sojourn time costs can be expressed as queue - length ( or waiting time ) costs .",
    "rigorizing and extending this viewpoint is subject for future work .",
    "this heuristic argument provides further motivation to study queue - length costs .    for this discussion",
    "we remove the superscript @xmath1 from the notation . for @xmath181 , @xmath64 , denote by @xmath182 [ resp .",
    ", @xmath183 , @xmath184 the properly scaled waiting time ( resp .",
    ", service time , sojourn time ) experienced by the class-@xmath41 customer to first arrive after time @xmath42 .",
    "the scaling is obtained by multiplying the original quantities by @xmath185 ( see  @xcite ) .",
    "we have @xmath186 consider a cost of the form @xmath187    one expects that under reasonable policies the fraction of class @xmath41 customers routed to servers in pool @xmath53 be roughly @xmath188 .",
    "moreover , one expects that @xmath183 is approximately a mixture of exponentials where it is an exponential with rate @xmath189 with probability @xmath190 ( this is consistent with the result for the so - called inverted v model in @xcite ; see theorem 2.2 there ) .",
    "denote by @xmath191 the corresponding distribution function .",
    "we have @xmath192=e[r_i(t)]$ ] , where @xmath193.\\ ] ] by the above discussion one expects that @xmath194 , where @xmath195 using @xmath196 ( by the _ snapshot principle _ ) thus shows @xmath197.\\ ] ]    _ on pathwise lower bounds_. note that theorem [ th1 ] does not assert that , under the coupling , w.p.1 , @xmath198 it only provides an integral version of this inequality . in conventional ht , ( [ 100 ] ) is often called a pathwise lower bound , and specifically , for the parallel server model , it is shown to hold in @xcite .",
    "however , in the nds regime , particularly , under the setting of theorem [ th1 ] , ( [ 100 ] ) is a false statement .",
    "in fact , _ given suitable initial conditions e.g. ,  zero one can find constants @xmath199 and @xmath200 such that , under a suitable policy , @xmath201 for all @xmath202 $ ] , with probability tending to one . _ [ this clearly shows that under no coupling can ( [ 100 ] ) hold . ]",
    "we do not prove this statement here .",
    "a detailed study of an analogous phenomenon in the halfin ",
    "whitt regime , referred to as _ null - controllability _ , has been studied in detail @xcite .",
    "briefly , this phenomenon is described as follows . under suitable algebraic conditions on the system parameters ,",
    "the _ critically loaded _ parallel server model in the halfin ",
    "whitt regime can be controlled so that all queue - lengths vanish for @xmath203 units of time , with probability tending to one . when the mechanisms described in these works are applied in the nds regime",
    ", they yield vanishing of all queue - lengths , though only for @xmath204 units of time .",
    "[ clearly , such a property could not hold for @xmath203 units of time in the nds regime , since this would contradict theorem [ th1 ] . ]",
    "this complication explains why the proof of theorem [ th1 ] is more involved than the analogous lower bound in the conventional regime ( as well as the need for tools such as proposition [ prop2 ] and lemma [ lem5 ] ) .",
    "_ on other heavy traffic regimes .",
    "_ atar @xcite emphasizes the viewpoint that there exists a whole spectrum of heavy traffic diffusion approximations . for any @xmath205",
    "$ ] one obtains a distinct heavy traffic regime by setting the quantities @xmath120 , @xmath4 and @xmath206 proportional to @xmath1 , @xmath207 and , respectively , @xmath208 , while maintaining the critical load condition of having @xmath209 at the order of @xmath210 .",
    "the conventional , nds and halfin  whitt regimes can then be identified with the cases @xmath211 and , respectively , @xmath212 . whether results analogous to those of this paper hold for all values of @xmath213 is left as an important open question . in view of the so - called null - controllability results in @xcite ,",
    "@xmath214 should be excluded since the lower bound is not expected to hold in the halfin ",
    "whitt regime .",
    "in the present subsection we define some diffusion - scale processes and develop relations that they satisfy .",
    "let @xmath215 and @xmath216 since @xmath217 , we have by ( [ 07 ] ) that @xmath218 and by ( [ 06 ] ) and ( [ eq : hxdefin ] ) that @xmath219 using ( [ 09 ] ) , ( [ 10 ] ) , ( [ 11 ] ) and ( [ 18 ] ) , we get @xmath220 since @xmath221 , the third and forth terms above cancel out so that letting @xmath222 we arrive at the following identity : @xmath223 using ( [ 13 ] ) , we obtain @xmath224 identities ( [ 19 ] ) and ( [ 31 ] ) will be used in the sequel .      [ lem2 ] the rescaled primitive processes @xmath225 and @xmath226 and initial condition @xmath227 , jointly converge in law , uniformly on compacts , to processes denoted @xmath228 and @xmath229 , and the r.v .",
    "@xmath168 , where @xmath230 ( resp . ,",
    "@xmath231 ) is a zero mean brownian motion with diffusion coefficient @xmath232 ( resp . , 1 ) .",
    "moreover , the @xmath233 brownian motions and the r.v .",
    "@xmath168 are mutually independent .",
    "the parameters defined in ( [ 24 ] ) and ( [ eq : eps_defin ] ) satisfy @xmath234    consequently , the processes @xmath235 and the initial condition @xmath236 jointly converge in law to mutually independent processes @xmath237 and r.v .",
    "@xmath168 , where @xmath238 is a brownian motion starting from zero , with drift @xmath239 [ cf . (",
    "[ 44 ] ) ] and diffusion coefficient @xmath240    invoking the skorohod representation theorem , we can , and will , assume throughout that the convergence statements of the above lemma occur in an a.s",
    ". sense .",
    "[ rem1 ] note that lemma [ lem2 ] deals with convergence of processes that depend only on the primitives , and thus the same a.s .",
    "limit is attained under any policy .",
    "proof of lemma [ lem2 ] ( i ) it is well known that a renewal process , scaled in the fashion of  ( [ 20 ] ) and ( [ 33 ] ) , converges in law , uniformly on compacts , to a brownian motion with zero mean and diffusion coefficient as stated @xcite , section  17 .",
    "the mutual independence of the processes and the independence from the initial conditions follows the validity of this property for the pre - limit objects .",
    "( ii ) the first statement follows by ( [ 08 ] ) , ( [ 36 ] ) and ( [ 24 ] ) .",
    "the second follows by ( [ 01 ] ) , ( [ 36 ] ) and ( [ eq : eps_defin ] ) .      in this subsection",
    "we present two diffusion models , originating from @xcite and @xcite .",
    "we associate to these models a control problem analogous to the one used above for the queuing network , and provide a complete solution .",
    "the optimum is exactly analogous to the lower bound from theorem [ th1 ] .",
    "the main point of this analysis is that the problem of identifying a minimizing control ( proposition [ prop1 ] below ) can later be mimicked to construct a policy for the queueing network that achieves the lower bound in an asymptotic sense ; see section  [ sec : asymopt ] . along the way we establish equivalence of the two diffusion models .",
    "harrison and lpez @xcite present and analyze a model of controlled diffusion , which stands for the formal limit of diffusion - scaled processes associated with the queueing model ( in the conventional ht regime ) .",
    "the diffusion model was later used by bell and williams @xcite as the basis for the construction of asymptotically optimal policies for the queueing model .",
    "this diffusion model , to which we refer as _ model _ i , consists of the r.v.s @xmath241 and bms @xmath238 alluded to in section  [ sec : model ] , and in addition , processes @xmath242 , @xmath243 and @xmath244 , possessing rcll sample paths , which satisfy , in addition , the following relations : @xmath245 ( @xmath246 are further required in @xcite to be adapted , but here we take the viewpoint of @xcite where this requirement is dropped . )",
    "taking formal limits of the scaled processes from our queueing model gives rise to the same diffusion model .",
    "indeed , assuming that @xmath247 converges to @xmath172 and that @xmath248 converge to zero , noting that @xmath227 converge to @xmath168 and @xmath249 , and writing @xmath250 for a limit of @xmath251 , equation ( [ 22 ] ) arises as a limit form of ( [ 19 ] ) [ also of ( [ 31 ] ) ] , where @xmath252 stands for the limit of @xmath253 ( also of @xmath254 ) .",
    "the nonnegativity constraint on @xmath255 is clear from that of @xmath256 , observing ( [ 04 ] ) .",
    "similarly , if @xmath257 corresponds to a limit of @xmath258 , then @xmath257 should be nondecreasing and , because of ( [ 12 ] ) , satisfy ( [ 23 ] ) . finally , ( [ 27 ] ) represents the fact that @xmath259 for any nonbasic activity @xmath82 due to ( [ 03 ] ) and the fact that @xmath260 for such an activity . making",
    "the above formal statements rigorous will be one of the main issues dealt with in sections  [ sec : lowerbound ] and in  [ sec : asymopt ] .",
    "mandelbaum and stolyar @xcite construct asymptotically optimal control policies for the parallel server model in the conventional ht regime , without explicitly alluding to a diffusion model ( or a brownian control problem ) . however , their verbal discussion and mathematical treatment of the diffusion scaled processes suggest the following diffusion model , to which we refer here as _ model _",
    "in addition to the random vector @xmath168 and the @xmath33-dimensional process @xmath172 from section  [ sec : model ] , the model consists of @xmath33-dimensional processes @xmath252 and @xmath261 .",
    "these are assumed to have rcll sample paths and satisfy @xmath262    the interpretation of @xmath252 is the same as in model i , while @xmath261 corresponds to the term @xmath263 of ( [ 22 ] ) .",
    "below we claim that models i and  ii are equivalent in a suitable sense , and that they both achieve the lower bound of theorem [ th1 ] .",
    "[ prop1 ] suppose that assumptions [ assn2 ] and [ assn3 ] hold and fix an initial state @xmath168 and a brownian motion @xmath172 as in lemma [ lem2 ] .",
    "given a pair @xmath264 that satisfies ( [ 22])([27 ] ) , there exists @xmath261 such that the pair @xmath265 satisfies ( [ 29])([30 ] ) .",
    "given a pair @xmath265 that satisfies ( [ 29])([30 ] ) , there exists @xmath250 such that @xmath264 satisfies ( [ 22])([27 ] ) .",
    "let @xmath266 be such that @xmath264 satisfy ( [ 22])([27 ] ) and @xmath265 satisfy ( [ 29])([30 ] ) .",
    "then , with probability 1 , @xmath267 for all @xmath42 , where @xmath176 is as in theorem [ th1 ] .",
    "moreover , the lower bound is attainable : there exist stochastic processes @xmath266 such that @xmath264 [ resp .",
    ", @xmath265 ] satisfies ( [ 22])([27 ] ) [ resp . ( [ 29])([30 ] ) ] and with probability 1 , @xmath269    below , the notation @xmath80 , @xmath84 is as in section  [ sec : model ] and , for @xmath91 , @xmath92 is as defined in  ( [ 39 ] ) .",
    "[ lem1 ] let @xmath270 be such that @xmath271 for all @xmath272 , and @xmath273 for all @xmath51 .",
    "then @xmath274 . also , if @xmath275 for all @xmath272 and @xmath276 for all @xmath51 then @xmath277 .",
    "let us first show that @xmath278 is an element of @xmath84 , provided that @xmath279 is sufficiently small . for @xmath272 , @xmath280 , and so @xmath86 by the assumptions of the lemma . for @xmath281 , @xmath282 , hence @xmath86 for all sufficiently small @xmath279 .",
    "finally , since we assumed that @xmath273 for all @xmath51 and since @xmath283 , we have that @xmath284 so that @xmath98 .",
    "next , since @xmath122 is an outward normal to the convex set @xmath118 at @xmath120 , we have that @xmath285 for every @xmath286 .",
    "since @xmath221 and @xmath98 , we have @xmath287 since @xmath279 , the first claim follows .    for the second part , following @xcite , we claim that there exist constants @xmath288 , such that @xmath289 for all @xmath281 . indeed , by ( [ eq : vectrineq ] ) @xmath290 and , in turn",
    ", we must have that @xmath291 for all @xmath281 .",
    "define @xmath292 thus , @xmath293 for all @xmath281 .",
    "if @xmath294 is such that @xmath275 for all @xmath272 and @xmath295 for all @xmath115 , then @xmath296 satisfies @xmath89 for all @xmath297 and @xmath295 for all @xmath115 and , in turn , @xmath298    proof of proposition [ prop1 ] ( i ) suppose that relations ( [ 22])([27 ] ) hold .",
    "letting @xmath299 , the relation ( [ 29 ] ) is immediate . to show ( [ 30 ] ) , we must prove that , for @xmath300 , @xmath301,\\ ] ] which can alternatively be stated as @xmath302 , where @xmath303 [ resp .",
    ", @xmath304 .",
    "properties ( [ 23 ] ) and ( [ 27 ] ) of @xmath250 and an application of lemma  [ lem1 ] imply @xmath302 , in both cases , and the claim is proved .",
    "\\(ii ) assume we are given a solution @xmath265 to ( [ 29 ] ) and ( [ 30 ] ) .",
    "we will construct a process @xmath250 so that the pair @xmath264 satisfies ( [ 22])([27 ] ) .",
    "fix an arbitrary @xmath305 and set @xmath306 for all @xmath307 and @xmath308 [ where @xmath309 is as in ( [ eq : zdefin ] ) ] . then , given @xmath168 , @xmath252 , @xmath261 and @xmath172 , let us show there exists a solution @xmath250 to the set of equations @xmath310 and @xmath311 for @xmath312 . to this end",
    ", we first remove one on the @xmath313 equations from the system .",
    "fix @xmath314 and assume that ( [ eq : yconstruct1 ] ) holds for all @xmath315 .",
    "then @xmath316   \\\\[-8pt ]   \\nonumber & = & \\sum_{i\\neq i_0}\\theta_ix_{i,0}+ \\sum_{i\\neq i_0}\\theta _",
    "iw_i(t)- \\sum_{j}\\frac{\\bar{z}_j^*}{\\nu_j}y_{i_0j}+ \\theta'z(t),\\end{aligned}\\ ] ] where we used @xmath289 for all @xmath281 ( see the proof of lemma [ lem1 ] ) and equations ( [ eq : yconstruct2 ] ) and ( [ eq : yconstruct3 ] ) . on the other hand ,",
    "since @xmath265 solves ( [ 29 ] ) and ( [ 30 ] ) we have that @xmath317 and , together with ( [ eq : reduction ] ) , that @xmath318 substituting @xmath289 we have thus shown that ( [ eq : yconstruct1 ] ) holds for @xmath319 provided that it holds for all @xmath315 and provided that ( [ eq : yconstruct2 ] ) and ( [ eq : yconstruct3 ] ) hold .",
    "hence we can remove the equation for @xmath320 from ( [ eq : yconstruct1 ] ) .",
    "the reduced system of equations has @xmath321 variables ( one for each basic activity ) and the same number of equations . by the discussion on page 348 of @xcite ,",
    "these equations are linearly independent . as a result , given @xmath168 , @xmath252 , @xmath261 and @xmath172 ,",
    "there exists a unique solution @xmath250 .",
    "note that ( [ 23 ] ) and ( [ 27 ] ) hold by construction .    to establish the lower bound in item ( iii ) ,",
    "let @xmath322 and note that , by the minimality of skorohod problem ( see , e.g. , @xcite , section  2 ) @xmath323 since , @xmath324 for all @xmath325 , the lower bound is established .    finally , to show that the lower bound is attained we explicitly construct a pair @xmath265 that attains the lower bound .",
    "a process @xmath264 that attains the lower bound will then be constructed from @xmath265 as above . to that end , for @xmath140",
    ", let @xmath326 where @xmath327 is as above .",
    "set @xmath328 where , given @xmath329 , @xmath330 satisfies @xmath331 @xmath332 can be selected to be measurable , as follows from corollary 10.3 in the appendix of @xcite , using the continuity of @xmath333 .",
    "thus @xmath334 and @xmath335 .",
    "setting @xmath336 , we have that @xmath337 so that @xmath338 is nonnegative and nondecreasing and the pair @xmath265 satisfies ( [ 29 ] ) and attains the lower bound .",
    "in this section we prove theorem [ th1 ] . the main estimate on which the proof is based , proposition [ prop2 ] ,",
    "is stated in section  [ sec41 ] where it is also used to prove theorem [ th1 ] .",
    "proposition [ prop2 ] is then proved in section  [ sec42 ] .",
    "an outline of the proof is as follows .",
    "fix @xmath151 , which will serve as a time horizon . given a sequence of policies @xmath339",
    "we show that up to a certain random time @xmath340 , the cumulative process @xmath341 is asymptotically bounded from below by the integrated rbm @xmath342 .",
    "we then show that if @xmath343 , then @xmath344 is large on a subinterval of @xmath345 $ ] and thus , with high probability , is bounded from below by the integrated rbm .",
    "the convexity of @xmath346 is then used in translating these bounds to bounds on the cost .",
    "we turn to the proof .",
    "denote @xmath347 , and recall that @xmath348 ( lemma [ lem2 ] ) .",
    "let us fix a sequence @xmath349 such that @xmath350 in particular , @xmath349 satisfies @xmath351 let a sequence of policies @xmath339 be given , and define @xmath352 since the conclusion of theorem [ th1 ] clearly holds when the function @xmath155 is constant , we henceforth assume that @xmath155 is not constant . denote @xmath353 , @xmath181",
    ". below @xmath176 is as defined in theorem [ th1 ] .",
    "[ prop2 ] there exist constants @xmath354 , @xmath355 , @xmath356 , a strictly positive sequence @xmath357 satisfying @xmath358 , a sequence of events @xmath359 satisfying @xmath360 a.s . , and processes @xmath361 and @xmath362 , such that , with @xmath363 the following statements hold :    @xmath361 converges to @xmath176 uniformly on @xmath364 $ ] , a.s .",
    "@xmath365 , for every @xmath1 and @xmath366 $ ] , and @xmath367.\\ ] ]    on @xmath359 one has @xmath368 , \\mbox { whenever } { \\tilde}\\tau_n < u .",
    "\\label{72}\\end{aligned}\\ ] ]    the proof is deferred to section  [ sec42 ] . theorem [ th1 ] will be deduced from the proposition [ prop2 ] , with the aid of the following lemma for which we define for @xmath369 , for @xmath370\\to{\\mathbb{r}}$ ] and @xmath371 , @xmath372}(x,\\delta)=\\sup_{s , t\\in[a , b];|s - t|\\le\\delta}\\bigl|x(s)-x(t)\\bigr| .",
    "\\label{eq : wdefin}\\ ] ]    [ lem5 ] let @xmath373 be a nondecreasing , convex function .",
    "let @xmath374 , @xmath375 , @xmath376 , and functions @xmath377 be given such that @xmath378\\ ] ] and @xmath379.\\ ] ] then @xmath380 where @xmath381 } \\biggl(c_1 , \\frac{2{\\varepsilon}}{{{\\delta } } } \\biggr),\\qquad \\gamma _",
    "2=\\bar w_{[-r , r ] } \\bigl(c_1 , \\bar w_t(p,{{\\delta } } ) \\bigr),\\qquad \\gamma_3=2c_1(r ) { { \\delta}}.\\ ] ]    for @xmath382 $ ] , using jensen s inequality , @xmath383 thus @xmath384 the result follows .",
    "proof of theorem [ th1 ] extend @xmath385 to @xmath386 by setting @xmath387 on @xmath388 .",
    "fix @xmath389 .",
    "let @xmath361 , @xmath362 , @xmath359 , @xmath390 be as in proposition [ prop2 ] .",
    "combining proposition [ prop2 ] and lemma [ lem5 ] we have , on @xmath359 , @xmath391 where @xmath392 } \\biggl(c _ * , \\frac{2{\\tilde}cn^{-1/2}\\varrho _ n}{{{\\delta } } } \\biggr),\\qquad \\gamma^n_2=\\bar w_{[-r_n , r_n]}\\bigl(c_*,\\bar w_u\\bigl(p^{*,n},{{\\delta}}\\bigr ) \\bigr),\\\\",
    "\\gamma^n_3&=&2c_*(r_n){{\\delta } } , \\qquad r_n=\\bigl\\|p^{*,n}\\bigr\\|_u+\\bar c.\\end{aligned}\\ ] ]    since @xmath361 converge uniformly , a.s .",
    ", we have that @xmath393 converge to a finite - valued r.v . since @xmath155 is a continuous function and @xmath394 ( [ 51 ] ) , @xmath395 a.s . as @xmath50 .",
    "moreover , by the uniform convergence of @xmath361 to a process with continuous sample paths , we have @xmath396 .",
    "it follows that for some @xmath397 satisfying @xmath398 , @xmath399({\\tilde}\\tau_n-\\tau_n ) \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & & { } -k^n1_{\\{\\tilde{\\tau}^n < u\\}}- \\gamma^n_4,\\end{aligned}\\ ] ] holds on @xmath359 , where @xmath400}c_*\\bigl(p^{*,n}(t)\\bigr).\\ ] ] now , @xmath401 is a finite r.v . on the other hand",
    ", one has @xmath402 due to the fact that @xmath155 is convex , nondecreasing and nonconstant whence ( recalling that @xmath403 as @xmath404 ) @xmath405 grows without bound .",
    "thus the second term on the rhs of ( [ 73 ] ) is negative for only finitely many @xmath1 .",
    "also , if @xmath406 , then we have , by definition , that @xmath407 and ( recalling that @xmath408 ) we have that the second term on the rhs of ( [ 73 ] ) grows to infinity so that the sum of the second and third terms in ( [ 73 ] ) is negative for only finitely many @xmath1 . since @xmath360 a.s . , we have thus shown that a.s .",
    ", @xmath409 noting that , by definition of @xmath155 and @xmath410 , @xmath411 , and recalling that @xmath412 is arbitrary completes the proof .",
    "the result is proved in three major steps , where the first two establish the lower bounds ( [ 70 ] ) and ( [ 71 ] ) for suitably defined processes @xmath361 and",
    "@xmath362 [ note that ( [ 72 ] ) is immediate from the nonnegativity of @xmath254 ] .",
    "the third step verifies the statements of proposition [ prop2 ] with regard to convergence .",
    "_ step the interval @xmath414 .",
    "_ in this step we analyze the time interval @xmath414 , introduce processes @xmath361 and @xmath362 [ cf .",
    "( [ 74 ] ) and ( [ 75 ] ) ] and argue that they satisfy the bound ( [ 70 ] ) .",
    "we will next need a result that is similar to the minimality property of the skorohod map @xmath415 ( [ 54 ] ) but that allows for a certain kind of perturbation . the minimality property of the skorohod map is stated as follows : let @xmath416 .",
    "let @xmath417 be nondecreasing and satisfy @xmath418 .",
    "assume @xmath419 , for all @xmath181 .",
    "then @xmath420(t)\\equiv\\zeta(t)+\\sup _ { s\\le t}\\bigl[\\zeta ( s)^-\\bigr],\\qquad t\\ge0.\\ ] ]    the following lemma provides the variant that we need .",
    "[ lem3 ] let @xmath151 and @xmath279 , @xmath421 , be given .",
    "let @xmath422 and assume @xmath423 .",
    "let @xmath424 where @xmath417 is nondecreasing and satisfies @xmath418 , @xmath425 satisfies @xmath426\\ ] ] and @xmath427 , @xmath366 $ ]",
    ". then @xmath428(t)+\\beta(t)-\\bar w_u(\\zeta,{\\varepsilon})-3 { \\varepsilon},\\qquad t\\in[0,u].\\ ] ]    by ( [ 55 ] ) , we have @xmath429 $ ] . thus @xmath430.\\ ] ] denote @xmath431 .",
    "to prove the claim , it suffices to show that @xmath432}\\bigl[(\\zeta+\\beta)^-\\bigr]\\ge\\sup _ { [ 0,t]}\\bigl[\\zeta^-\\bigr]-\\delta,\\ ] ] because then @xmath433}[\\zeta^-]-\\delta = { { \\gamma}}[\\zeta]+\\beta-\\delta$ ] . to this end",
    ", consider first @xmath434 $ ] . since @xmath423 by assumption , we have @xmath435}\\bigl[\\zeta^-\\bigr]-\\delta\\le\\bar w_u ( \\zeta,{\\varepsilon})-\\delta = -3{\\varepsilon}.\\ ] ] thus ( [ 62 ] ) is immediate from the nonnegativity of the lhs of that inequality .",
    "next , fix @xmath436 $ ] . toward showing that ( [ 62 ] ) holds in this case as well , note that , for any @xmath437 $ ] , @xmath438}\\beta\\le3{\\varepsilon}\\ ] ] for otherwise we would have , by ( [ 58 ] ) , @xmath439 ( note that ( [ 58 ] ) is imposed for all @xmath366 $ ] and , in particular , for @xmath440we are using that here ) .",
    "we consequently have @xmath441}(\\zeta+\\beta)\\le\\sup_{[s-{\\varepsilon},s]}\\zeta+ \\inf_{[s-{\\varepsilon},s ] } \\beta\\le\\sup_{[s-{\\varepsilon},s]}\\zeta+3{\\varepsilon}\\le \\inf_{[s-{\\varepsilon},s]}\\zeta+\\delta,\\ ] ] where in the second inequality we used ( [ 57 ] ) and our choice of @xmath442 above .",
    "taking the infimum over @xmath443 $ ] , we obtain @xmath444}(\\zeta+\\beta)\\le\\inf_{[0,t ] } \\zeta+\\delta.\\ ] ] let us deduce from the above that @xmath445}0{\\wedge}(\\zeta+\\beta)\\le\\inf _ { [ 0,t]}0{\\wedge}\\zeta+\\delta.\\ ] ] indeed , if @xmath446}\\zeta\\ge-\\delta$ ] , then the rhs of ( [ 60 ] ) is nonnegative , and hence this inequality is valid . if @xmath446}\\zeta<-\\delta$ ] , then @xmath447 , and hence the claim follows ( [ 59 ] ) . in both cases , ( [ 60 ] ) holds .",
    "note that ( [ 60 ] ) is equivalent to ( [ 62 ] ) .",
    "we have thus shown that ( [ 62 ] ) holds for any @xmath366 $ ] .",
    "this completes the proof .",
    "we proceed with the proof of theorem [ th1 ] .",
    "recall equation ( [ 31 ] ) for @xmath254 and that @xmath448 .",
    "writing @xmath449 we have @xmath450 we will apply lemma [ lem3 ] , substituting @xmath451 , @xmath452 , @xmath453 and @xmath454 , @xmath455 $ ] , for @xmath456 , @xmath457 , @xmath458 and @xmath459 , respectively . to this end , let us verify the assumptions on these processes .",
    "first , by ( [ 20 ] ) , ( [ 21 ] ) and ( [ 18 ] ) , we have @xmath460 .",
    "since @xmath227 is assumed to have values in @xmath119 , we have by ( [ 61 ] ) that @xmath461 .",
    "let us show that @xmath462 is nondecreasing .",
    "it suffices to show that , for fixed @xmath1 and @xmath42 , @xmath463 we do this by invoking lemma [ lem1 ] .",
    "let @xmath270 be defined by @xmath464 .",
    "by  ( [ 03 ] ) and the fact that @xmath260 for @xmath272 , we have @xmath271 for @xmath272 . also , for any @xmath53 , @xmath465 , by ( [ 12 ] ) . hence @xmath273 .",
    "thus by lemma [ lem1 ] , @xmath466 .",
    "recalling that @xmath467 , we obtain ( [ 66 ] ) .",
    "clearly , @xmath468 .",
    "let us show that @xmath469 satisfies a bound of the form ( [ 58 ] ) .",
    "by the definition of @xmath470 , @xmath471 , for all @xmath472 .",
    "hence by ( [ 03 ] ) , @xmath473\\ ] ] and @xmath474,\\ ] ] some constant @xmath475 .",
    "finally , note that @xmath476 for all @xmath42 , since @xmath477 for every @xmath41 and all @xmath42 .",
    "having verified the hypotheses of lemma [ lem3 ] , we obtain @xmath478(t)-\\delta_n+h^n(t)$ ] , for all @xmath455 $ ] , where @xmath479 set @xmath480(t)- \\delta_n\\bigr)1_{\\{t<\\tau_n\\}}+{{\\gamma}}\\bigl[\\theta'{\\hat}x^n(0)+\\theta'{\\hat}w^n\\bigr](t)1_{\\{t\\ge\\tau_n\\ } } , \\\\",
    "\\label{75 } h^{*,n}(t)&=&h^n(t)1_{\\{t<\\tau_n\\}}.\\end{aligned}\\ ] ] then @xmath481 agree with @xmath482-\\delta_n , h^n)$ ] on the interval @xmath414 , and we have shown @xmath483    _ step the interval @xmath484 . _ in this step we show that ( [ 71 ] ) holds on a suitably defined event @xmath359 .",
    "the argument is based on the following lemma . for @xmath270",
    "denote @xmath485 . for the lemma below recall",
    "that @xmath80 is the set of @xmath81 matrices for which the @xmath82 entry is zero whenever @xmath83 .",
    "also , note that in this lemma the uniqueness of @xmath108 is used in a crucial manner .",
    "[ lem4 ] let @xmath270 be such that @xmath271 for all @xmath272 , and @xmath273 for all @xmath51",
    ". then @xmath486 where @xmath487 is a constant that does not depend on @xmath294 .",
    "let @xmath488 a review of the proof of lemma [ lem1 ] shows that @xmath489 , provided that @xmath279 is sufficiently small .",
    "let such @xmath490 be fixed . recall that @xmath491 , and note that @xmath492 .",
    "thus the uniqueness of @xmath108 , stated in assumption [ assn2 ] , implies that there is no @xmath493 for which @xmath101 .",
    "hence @xmath494 , where @xmath495 is the image @xmath496 of @xmath497 under @xmath498 .",
    "recall that @xmath120 is a maximal element in @xmath118 with respect to the usual partial order in  @xmath499 .",
    "since @xmath500 , this says @xmath501>0\\qquad \\mbox{for every } \\xi\\in k.\\ ] ] note that @xmath497 is a compact set , and that the lhs of the above display depends continuously on @xmath85 .",
    "hence there exists @xmath371 such that @xmath501\\ge\\delta \\qquad\\mbox{for every } \\xi\\in k.\\ ] ] noting that the conclusion of the lemma holds for @xmath502 , consider any nonzero member @xmath294 of @xmath80 , satisfying the lemma s assumptions .",
    "then @xmath503 .",
    "hence @xmath504 \\\\ & = & \\max_i\\bigl[\\lambda_i-\\bar\\mu\\bigl(\\xi^*- { \\varepsilon}\\|x\\|^{-1}x\\bigr)\\bigr ] \\\\ & \\ge&\\delta.\\end{aligned}\\ ] ] the claim follows with @xmath505 .",
    "we have already argued that if @xmath270 is defined by setting @xmath464 , then @xmath294 satisfies the assumptions of lemma [ lem1 ] , equivalently lemma [ lem4 ] . as a consequence , so does @xmath506 . by ( [ 32 ] ) , on the event @xmath507 , we have that , for some @xmath66 , @xmath508 , and so @xmath509 . applying lemma [ lem4 ] yields that there exists @xmath510 such that @xmath511 namely , @xmath512 invoking ( [ 31 ] ) and using the nonnegativity of @xmath513 , we obtain @xmath514 where we used the fact that @xmath515 , by ( [ 32 ] ) . by ( [ 01 ] ) , @xmath516 , for some constant @xmath517 .",
    "hence @xmath518 \\\\[-8pt ] \\eqntext{i\\in{{\\cal i}}.}\\end{aligned}\\ ] ] also , by ( [ 51 ] ) , for @xmath519 , the third term on the rhs of ( [ 67 ] ) is bounded by 1 , some deterministic @xmath520 . as a result , for a suitable constant @xmath521 , we have , for @xmath519 , @xmath522 recall @xmath523 and let @xmath524 ( where @xmath525 if @xmath526 ) . using ( [ 31 ] ) , and the bound @xmath527 we have @xmath528,\\end{aligned}\\ ] ] where , as in the statement of proposition [ prop2 ] , @xmath529 . by the nonnegativity of @xmath530 and positivity of @xmath531 , @xmath532",
    ", we have , with @xmath533 , @xmath534.\\ ] ] this shows that ( [ 71 ] ) is valid on @xmath535 .",
    "_ step convergence_. we are now in a position to prove all statements of the proposition . by ( [ 69 ] ) , ( [ 70- ] ) holds up to @xmath536 ; by ( [ 75 ] ) , this estimate remains valid up to @xmath412 .",
    "moreover , it is shown in ( [ 76 ] ) that @xmath248 are bounded above , and it can similarly be shown that they are bounded below . hence @xmath537 are bounded uniformly in @xmath1 and @xmath42 .",
    "note that @xmath538 , for some constant @xmath354 . by ( [ 51 ] )",
    ", this product converges to @xmath13 .",
    "thus to complete the proof , it remains to argue that @xmath360 a.s . and @xmath539 a.s .",
    "toward this end , denote @xmath540 let us first show that @xmath541 indeed , by ( [ 45 ] ) , ( [ 03 ] ) and ( [ 35 ] ) , @xmath542 hence by ( [ 32 ] ) and ( [ 49 ] ) , @xmath543.\\ ] ] using the convergence ( [ 35 ] ) and recalling that @xmath544 is asymptotic to @xmath545 , it follows by ( [ 51 ] ) that @xmath546 , defined in the above display , converges to zero .",
    "this shows ( [ 50 ] ) .",
    "recall the process @xmath172 from lemma [ lem2](iii ) .",
    "we now argue that @xmath547 by ( [ 21 ] ) , ( [ 18 ] ) and ( [ 46 ] ) , @xmath548 \\\\ & = & -\\sum _",
    "j\\bigl[{\\hat}s^n_{ij}\\bigl(\\bar t^n_{ij}(t)\\bigr)-{\\hat}s^n_{ij}\\bigl ( \\bar t_{ij}(t)\\bigr)\\bigr].\\end{aligned}\\ ] ] hence by ( [ 52 ] ) , @xmath549,\\ ] ] where @xmath550 . by lemma  [ lem2](i ) , the processes @xmath551 converge , uniformly on compacts , to processes with continuous sample paths .",
    "hence the rhs of the above display converges to zero . applying lemma [ lem2](iii ) ,",
    "we conclude ( [ 53 ] ) .",
    "it follows from ( [ 53 ] ) that @xmath360 a.s .",
    "next , by definition of @xmath415 , for any @xmath552 , the mapping @xmath553}\\mapsto{{\\gamma}}[x]|_{[0,v]}$ ] is lipschitz continuous in the sup norm , with constant @xmath554 .",
    "recalling the definition of @xmath361 ( [ 74 ] ) , we obtain , for some constant @xmath354 , @xmath555 we have already argued that the last two terms above converge to zero a.s .",
    "[ lemma  [ lem2 ] and remark [ rem1](a ) ] . by ( [ 61 ] ) , for some constant @xmath556 , @xmath557 where we used ( [ 51 ] ) and ( [ 53 ] ) . by ( [ 51 ] ) and ( [ 77 ] ) , @xmath558 ,",
    "hence the convergence in the above display implies that @xmath559 a.s .",
    "this shows the convergence of @xmath560 to  @xmath176 , and completes the proof .",
    "in this section we devise a sequence of controls that asymptotically achieve the lower bound in theorem [ th1 ] . to construct them and prove their asymptotic optimality we need some further assumptions .",
    "recall from  ( [ eq : cstartdefin ] ) that @xmath561      we extend the function @xmath566 to the real line by setting it to zero on @xmath388 ( note that the extended function is continuous ) .",
    "in fact , the actual implementation of the policy will be based on small perturbations of @xmath566 , that we denote by @xmath567 .",
    "these perturbations are explicitly provided below ; see ( [ eq : qndefin ] ) .",
    "the policies we construct will not use the nonbasic activities at all .",
    "it will be convenient , in terms of notation , to disregard these activities by assuming they do not exist .",
    "thus we assume ( w.l.o.g .",
    ", as far as the results of this section are concerned ) that _ all activities in the model are basic_. in particular , @xmath568 , and @xmath59 means @xmath82 is an activity , equivalently , a basic activity .",
    "since assumptions  [ assn2 ] and  [ assn3 ] are still in force , the graph is a tree .",
    "based on the structure of the control which achieves the lower bound for the _ diffusion _ control problem ( proposition [ prop1 ] ) , we seek control policies for the queueing model having two main properties . namely , ( i ) that the sequence @xmath569 converges in law to the rbm @xmath176 , and ( ii ) that , given @xmath570 , @xmath254 itself is close to the minimizing @xmath566 in ( [ eq:2 ] ) . to be more precise about ( ii ) , denote @xmath571 further , note by ( [ 13 ] ) that @xmath572 . then property ( ii ) corresponds to having @xmath573 . if @xmath574 , then the above can be achieved by having @xmath575 .",
    "it turns out to be more convenient to work with the latter , that is , to prove @xmath574 and @xmath575 .    the proposed policy , to which we refer as _ the tracking policy _ , seeks to achieve the convergence @xmath575 by letting @xmath254 track @xmath18 .",
    "that is , upon service completion in pool @xmath53 at time @xmath42 , the policy assigns to the newly - available server a customer from a class within the set @xmath576 so as to decrease the difference .",
    "this , however , is not a precise description of the policy , as the choice of the class for service in ( [ eq : interim0 ] ) will not be arbitrary .",
    "it will rely on the structure of the tree .",
    "for a precise statement we need some additional notation .",
    "let @xmath577 denote the vertex set of @xmath62 .",
    "pick any @xmath314 and designate it as the root .",
    "denote by @xmath578 the graph distance of a node @xmath579 from the root .",
    "for @xmath580 denote by @xmath581 the neighbor @xmath60 that is closer to the root than @xmath41 , and by @xmath582 the ( possibly empty ) set of neighbors @xmath60 that are farther from the root than @xmath41 .",
    "we sometimes refer to @xmath581 and @xmath582 as the nodes right _ above _ and , respectively , _ below _ @xmath41 , thinking of the tree as being depicted with the root at the top . for nodes @xmath51 , define analogously @xmath583 and @xmath584 .",
    "next , fix a labeling of all graph nodes by distinct numbers between @xmath212 and @xmath585 , so that members in @xmath35 have the labels @xmath586 and those in @xmath36 have the labels @xmath587 .",
    "identify the set @xmath588 with @xmath589 accordingly .",
    "the labeling should satisfy the following additional condition , namely for @xmath590 : @xmath591 and for @xmath592 , @xmath593 we let @xmath594 .",
    "some of our statements preclude the root @xmath319 .",
    "we write @xmath595 and , for a vector @xmath596 , we write @xmath597 .    _ perturbed functions _ : as alluded to earlier , we will work with a perturbed version , @xmath567 , of the function @xmath566 . fix a function @xmath566 that satisfies assumption [ asum : continuousselection ] .",
    "let sequences @xmath598 and @xmath599 with @xmath600 and @xmath601 be given .",
    "for @xmath602 we set @xmath603 also set @xmath604 .",
    "the perturbed functions @xmath567 are such that , for @xmath605 , @xmath606 is small but strictly positive in the vicinity of @xmath607 . thus , if one can guarantee that @xmath608 , then @xmath609 for all @xmath113 whenever @xmath610 , thus there are no idling servers .",
    "this property is used in the proof .",
    "additional observations regarding @xmath567 will be useful in what follows : @xmath611 for @xmath612 and @xmath605 . also , @xmath613 for all @xmath614 and @xmath615 for all @xmath616 . since @xmath617 for all @xmath113 and @xmath618",
    ", we have that @xmath619 \\\\[-8pt ]   \\eqntext{i\\in{\\mathcal{i}}.}\\label{eq : qconv}\\end{aligned}\\ ] ] finally , it is easy to verify that @xmath567 are locally lipschitz uniformly in @xmath1 .",
    "[ rem : qnproperties ]        upon each arrival of a class-@xmath41 customer , say at time @xmath42 , if there are idle servers in one of the pools @xmath621 , then it is routed to the pool @xmath622 otherwise it is queued [ even if there are idle servers in pool @xmath581 ] .",
    "upon each service completion in pool @xmath53 , say at time @xmath42 , the server admits to service a customer from class @xmath624 where @xmath625 provided this set is nonempty . if @xmath626 but @xmath627 the server admits to service a customer from class @xmath583 .",
    "otherwise , the server remains idle .",
    "[ rem : workconservation ] it is clear that the policy is not work conserving .",
    "however , it is not hard to see that at any given time @xmath42 , all servers in pool @xmath53 must be busy at @xmath42 , provided @xmath628 for _ all _ @xmath59 .",
    "note that this means @xmath629 [ and , in turn , @xmath630 .",
    "this property will be useful in what follows .",
    "suppose that assumptions [ assn2 ] , [ assn3 ] and [ asum : continuousselection ] hold and that @xmath631 for all @xmath1 .",
    "then , under the tracking policy , @xmath632 where @xmath176 is as in theorem [ th1 ]",
    ". consequently , @xmath633 where @xmath153 is as in _ ( [ eq : cstartdefin])_. [ thm : conv_track ]    _ separable convex costs _ : consider , in terms of costs , the setting of @xcite .",
    "this is the case that @xmath634 where @xmath635 , are twice continuously differentiable strictly increasing and strictly convex functions with @xmath636 for all @xmath113 . fixing the constant @xmath637 , under the kuhn ",
    "tucker conditions for ( [ eq:2 ] ) , the unique solution @xmath638 must satisfy @xmath639 where @xmath640 is the lagrange multiplier of the constraint @xmath641 . thus @xmath642 .",
    "it can be verified that @xmath638 is locally lipschitz and , in particular , that it satisfies assumption [ asum : continuousselection ] . moreover , since @xmath643 is strictly increasing and strictly convex , @xmath644 is a strictly increasing function .",
    "recall from ( [ eq : zdefin ] ) that @xmath293 for all @xmath645 .",
    "tucker condition is equivalently written as @xmath646 and , in particular , for all @xmath565 , @xmath647 thus , our policy is consistent with the @xmath648 policy in @xcite in that it aims at setting @xmath649 the actual implementation is , however , different .",
    "our service mechanism follows the tree structure which is contrasted with the @xmath648 rule that would serve upon service completion a class in the set @xmath650    _ linear costs _ : suppose that @xmath651 where @xmath652 , are positive constants with @xmath653 , and let us designate class @xmath33 as the root of the tree",
    ". in this case , ( [ eq:2 ] ) has a trivial solution @xmath654 for all @xmath655 and @xmath656 .",
    "since @xmath657 as @xmath404 , theorem [ thm : conv_track ] guarantees that @xmath658 for all @xmath659 and @xmath660 so that all queues except for the lowest - cost queue are close to zero at diffusion scale .",
    "our tracking policy is here a tree - based threshold policy as is the one studied in @xcite . if @xmath42 is such that @xmath661 , then available servers give priority to classes @xmath659 that exceed their threshold , that is , with @xmath662 .",
    "[ rem : cost_examples ]      for sequences @xmath663 and @xmath664 of positive numbers , satisfying @xmath665 for some @xmath200 and all large @xmath1 , we write @xmath666 . set @xmath667 ( satisfying the conditions we put on @xmath668 in the previous section ) .",
    "recall that @xmath669 ( lemma [ lem2 ] ) , by which @xmath670 .    by assumption , the inter - arrival times of all the processes @xmath671 have finite moments of order @xmath45 .",
    "let @xmath672 .",
    "fix sequences @xmath673 , @xmath674 , @xmath393 , @xmath675 of positive numbers , satisfying @xmath676    assume , without loss of generality , that @xmath673 is given by @xmath677 where @xmath678 is a constant .",
    "let @xmath679 be given by @xmath680 , where @xmath681 is a constant .",
    "we further assume , without loss of generality , that @xmath682 .",
    "for every @xmath688 there exist @xmath689 and @xmath520 such that for @xmath690 , @xmath691 and @xmath692 where @xmath693 is any one of the processes @xmath694 , @xmath687 and @xmath247 .",
    "[ lem : wtightness ]    for the processes @xmath695 and @xmath696 , the result follows from strong approximations for renewal processes ( see , e.g. , theorem 2.1.2 in @xcite ) and the hlder continuity of brownian motion paths . for @xmath687 ( and",
    "consequently for @xmath247 ) , the result thus follows from ( [ 21 ] ) , using the uniform lipschitz property of the processes  @xmath697 ( note that @xmath698 where @xmath354 is constant ) .",
    "proof of theorem [ thm : conv_track ] for @xmath709\\to{\\mathbb{r}}$ ] denote @xmath710\\bigr):= \\sup_{s\\leq",
    "t_1\\leq t_2\\leq t}\\bigl|x(t_1)-x(t_2)\\bigr|.\\ ] ] fix @xmath688 , and let @xmath711 \\\\[-8pt ] \\nonumber & & { } \\cap \\bigl\\{\\operatorname{osc}\\bigl(\\theta'w^n,[s , t ] \\bigr)\\le p_n+l\\omega(t - s ) , 0\\le s < t\\le u\\bigr\\}\\\\ & & { } \\cap \\bigl\\ { \\bigl\\|w^n\\bigr\\|_u\\leq k\\bigr\\}.\\nonumber\\end{aligned}\\ ] ] using proposition [ thm : conv_stopped ] and lemma [ lem : wtightness ] , @xmath712 provided @xmath1 is sufficiently large .",
    "we begin by showing that @xmath713    let @xmath714 .",
    "given @xmath181 , we argue that , on @xmath715 , for @xmath716 , and all  @xmath1 sufficiently large , @xmath717 to see this note that if @xmath718 , then on @xmath719 , @xmath720 where we use the fact that @xmath721 for all @xmath722 ; see remark  [ rem : qnproperties ] .",
    "further , on @xmath723 , @xmath724 and @xmath725 so that , for @xmath605 , @xmath726 where the inequalities follow from the fact that @xmath727 , and @xmath728 for all @xmath612 .      we now argue that @xmath462 ( [ 64 ] ) remains constant when @xmath730 for all @xmath53 .",
    "given such @xmath42 , let @xmath731 be defined by @xmath732 .",
    "then @xmath733 for all @xmath115 .",
    "recalling that we do not have nonbasic activities , we conclude by the second part of lemma [ lem1 ] that @xmath734 .      thus , on @xmath723 and for @xmath738 $ ] , the triplet @xmath739 satisfies the following relations : namely , @xmath468 ; as shown in the proof of proposition [ prop2 ] , @xmath462 is nondecreasing ; and since @xmath740 takes values in the positive orthant , @xmath741 . with these properties , along with ( [ eq : complementarity ] ) and ( [ 82 ] ) , we are in a position to apply the oscillation inequalities from @xcite , theorem 5.1 , to conclude that @xmath742\\bigr)+ \\operatorname{osc } \\bigl(g^n,[s , t]\\bigr)\\leq4 \\bigl(\\operatorname{osc}\\bigl(\\tilde{w}^n,[s , t ] \\bigr)+{\\varepsilon}_n\\bigr ) \\label{eq : oscillation1}\\ ] ] for all @xmath743 .",
    "the precise constant in the inequality follows the proof of the one - dimensional case @xcite , page 15 .    to prove ( [ eq : tauninfty ] ) we use the oscillation inequality to show first that @xmath744 .",
    "we then show that @xmath745 . by the definition of @xmath746 , using ( [ 32 ] ) , we have @xmath747 and using the definition of @xmath715 , we have on @xmath715 , @xmath748 by lemma [ lem : wtightness ] , @xmath749)\\leq p_n+l\\omega(t - s)$ ] . hence on @xmath715 , @xmath750\\bigr)\\leq ( 2+\\bar k)q_n+l\\omega(t - s ) .",
    "\\label{eq : tildewosc}\\ ] ] using ( [ eq : oscillation1 ] ) , we then have @xmath751\\bigr)\\leq4(2+\\bar k)q_n+4l\\omega(t - s))+4{\\varepsilon}_n\\ ] ] for @xmath752 .",
    "recalling that @xmath753 , we then must have @xmath754 on @xmath723 .",
    "further , since @xmath755 on @xmath723 and , recalling that @xmath756 , clearly @xmath757 .",
    "we conclude that @xmath744 on @xmath723 .",
    "to prove ( [ eq : tauninfty ] ) it then remains to show that @xmath745 .",
    "following the same arguments leading to ( [ 68 ] ) , on the event that @xmath758 one has @xmath759 , for some constant @xmath200 .",
    "recall that @xmath760 . on the other hand , using ( [ 82 ] ) , ( [ eq : oscillation1 ] ) , and the bounds on @xmath761 and @xmath469 , @xmath762 on @xmath763 .",
    "thus @xmath764 is bounded on this event .",
    "this shows that @xmath765 on @xmath715 for all sufficiently large @xmath1 .",
    "we have thus proved that @xmath766 on @xmath723 , for large  @xmath1 .",
    "using lemma [ lem2](iii ) and arguing along the lines of step 3 of the proof of proposition [ prop2 ] ( showing , in particular , that @xmath768 in probability ) gives @xmath769 . using ( [ 85 ] ) , ( [ eq : convu ] ) and recalling that we assumed zero initial conditions , we have @xmath770 .",
    "we conclude that the process @xmath771 satisfies @xmath772 , where @xmath770 , and @xmath462 is nondecreasing and satisfies , with probability arbitrarily close to one , @xmath773 it is a standard fact that these properties suffice to characterize the limit behavior , namely that @xmath774=q^*$ ] ; see , for example , the proof of @xcite , theorem 4.1 . by ( [ 86 ] ) , the uniform convergence of @xmath567 to @xmath566 , ( [ eq : qconv ] ) and the continuous mapping theorem , @xmath775 . hence by ( [ eq : convu ] ) , @xmath776 , thus @xmath777 .",
    "another application of the continuous mapping theorem gives @xmath778 which completes the proof the theorem .",
    "the key idea in the proof is to identify an event occurring with high probability on which the policy self tunes the balance between @xmath779 and @xmath740 : when the process @xmath780 goes `` out of balance , ''",
    "namely , when @xmath781 , the occupancy process @xmath782 re - adjusts quickly so as to pull the process @xmath740 back toward @xmath779 .    throughout the remainder of the analysis we fix @xmath688 ; @xmath746 is as in ( [ eq : checktaudefin ] ) .",
    "define @xmath783 \\\\[-8pt ] \\nonumber { { \\omega}}_2^n&=&\\bigl\\ { \\max _ { { { \\lambda}}^n={\\hat}a^n , v^n , w^n}\\bigl\\|{{\\lambda}}^n(t)-{{\\lambda}}^n(s)\\bigr\\|\\leq p_n+l\\omega(t - s ) , 0\\leq s\\leq t\\leq u\\bigr\\},\\end{aligned}\\ ] ] where , with an abuse of notation , @xmath784 and @xmath785 will be chosen ( possibly ) larger than the values from lemma [ lem : wtightness ] .",
    "let @xmath786    [ lem : omegatilde ] suppose that the assumptions of theorem [ thm : conv_track ] hold .",
    "then @xmath497 and @xmath787 can be chosen so that @xmath788 . moreover , on @xmath359 , and for @xmath743 , @xmath789+\\omega(t - s)\\bigr),\\ ] ] where @xmath354 is a constant not depending on @xmath790 .      throughout what follows ,",
    "@xmath497 and @xmath787 are as in the above lemma , and fixed , @xmath359 is as in ( [ 87 ] ) and @xmath746 as in ( [ eq : checktaudefin ] ) . given strictly positive constants @xmath791 define the following times : @xmath792 where , throughout , @xmath793 let @xmath794 where @xmath795 is mnemonic for `` up , '' and define analogously @xmath796 , with `` @xmath797 '' replaced by `` @xmath798 , '' where @xmath799 is mnemonic for `` down . ''",
    "note that the jumps of @xmath254 and @xmath18 are of order @xmath800 while @xmath801 .",
    "moreover , the initial condition is assumed to be zero . as a result",
    ", we have on the event @xmath802 ( resp .",
    ", @xmath796 ) that @xmath803 , and @xmath804      [ prop : localadjustment1 ] suppose that the assumptions of proposition [ thm : conv_stopped ] hold .",
    "then the following holds on the event @xmath359 .",
    "let @xmath806 be either @xmath212 or such that , for all @xmath807 , @xmath808 for some constants @xmath809 , @xmath807 .",
    "then there exists a constant @xmath810 , such that if @xmath811 ( [ eq : tau2kdefin ] ) is defined with @xmath810 , then @xmath812 .",
    "consequently , there exist constants @xmath813 such that , for all @xmath806 , @xmath814          the proofs of propositions [ prop : localadjustment1 ] and [ prop : localadjustment2 ] appear in sections  [ sec : prop1proof ] and [ sec : prop2proof ] , respectively .",
    "henceforth we let @xmath820 be a uniform lipschitz constant of @xmath567 on @xmath821 $ ] . throughout the proofs we use @xmath822 to denote strictly positive constants that do not depend on @xmath1 .          by definition @xmath828",
    "whenever @xmath829 and @xmath830 otherwise .",
    "using  ( [ eq:21 ] ) and the nonnegativity of @xmath740 , we get that @xmath831 for all @xmath832 and , in turn , that @xmath833",
    ". thus @xmath834 applying ( [ eq:21 ] ) we conclude that @xmath835 and , together with ( [ eq:20 ] ) , that ( [ eq:22 ] ) holds .      finally , recall that @xmath841 so that @xmath842 by proposition [ prop : localadjustment2 ] . combining ( [ eq : interim55 ] ) , ( [ 90 ] ) and proposition [ prop : localadjustment2 ] we conclude that for any @xmath490 there exists a constant @xmath843 independent of @xmath1 , such that @xmath844 this proves ( [ eq : ssc_stopped2 ] ) .",
    "we begin by stating a sequence of lemmas that provide estimates on various properties of the dynamics .",
    "they are proved in section  [ sec : lem ] , along with lemma [ lem : omegatilde ] above . throughout this and the next subsection ,",
    "@xmath845 is fixed , and the assumptions of theorem [ thm : conv_track ] are in force . moreover ,",
    "the statements of the lemmas are understood to be _ on the event @xmath359 .",
    "_ for @xmath846 and @xmath300 , denote @xmath847:=f(t)-f(s)$ ] .",
    "the proposition provides estimates concerning the r.v.s @xmath811 , that are based on the lemmas below . at the same time , the proof of the proposition involves choosing the constants @xmath848 , used to define these r.v.s .",
    "it will therefore be important to specify which of the estimates , stated in the lemmas ( at least those that involve  @xmath811 ) , depend on @xmath848 , and which do not .",
    "[ lem : aux3 ] fix @xmath806 .",
    "suppose that @xmath850 for all @xmath807 for some constants @xmath809 , @xmath807 .",
    "then there exists a constant @xmath851 , not depending on the constant @xmath848 with which @xmath811 is defined , such that , for all @xmath743 , @xmath852\\bigr|\\leq \\gamma_1\\bigl ( n^{1/2}s_n(t - s)+p_n+\\omega(t - s)\\bigr),\\qquad j\\in { { \\cal j}}(k ) .",
    "\\label{eq : mbincrements}\\ ] ] moreover , there exists a constant @xmath853 ( that may depend on @xmath848 ) such that ( [ eq : mbincrements ] ) holds for @xmath854 and @xmath855 , with @xmath851 replaced by @xmath853 .",
    "[ lem : qtightnessuptostop ] fix @xmath806 .",
    "then there exists a constant @xmath818 ( that may depend on @xmath848 ) such that for all @xmath855 , @xmath856\\bigr|\\leq\\gamma\\bigl ( n^{1/2}s_n(t - s)+p_n+ \\omega(t - s)\\bigr).\\ ] ]    to state the last preliminary lemma , let @xmath857 be the set of customer classes that are not higher than @xmath858 in the hierarchy and are connected to the parent node @xmath859 .",
    "recall that if @xmath860 , then one of the two events @xmath802 , @xmath796 must occur , and consequently , one of the two inequalities specified in ( [ 91 ] ) holds . in the former case , any service completion in pool @xmath859 during @xmath861",
    "is followed , under our tracking policy , with an admission of a customer from one of the queues in the set @xmath862 . in the latter case ,",
    "no class-@xmath858 customers are admitted to pool @xmath859 on @xmath863 .",
    "the following lemma is based on these two properties .              to this end , let us analyze the event @xmath868 , considering separately the two sub - events @xmath802 and @xmath796 .",
    "the goal is to show that one can choose @xmath848 so that the two events are empty , provided @xmath1 is sufficiently large .",
    "we start with the former .",
    "fix @xmath869 [ and note that in the case @xmath870 , the set @xmath862 is simply @xmath871 , and denote @xmath854 .",
    "the goal of showing that @xmath802 is empty ( for suitable @xmath848 and large @xmath1 ) is achieved by arguing that there exists a constant @xmath354 , not depending on @xmath848 or @xmath1 , such that on @xmath802 , @xmath872    to this end , consider any @xmath873 . using ( [ 31 ] ) and ( [ 92 ] ) we have @xmath874&= & \\nonumber \\sum_{l\\in\\mathcal{l}(k)}w_l^n[s , t ] \\\\ & & { } -\\sum_{l\\in\\mathcal{l}(k)}\\sum _ { m\\in{{\\cal j}}(l)}{\\mathcal{b}}_{lm}^n[s , t ] \\\\ & & { } - \\sum_{l\\in\\mathcal{l}(k ) } { \\mathcal{b}}_{lj}^n[s , t ] , \\nonumber\\end{aligned}\\ ] ] where we used the fact that @xmath875 for any @xmath876 . by the assumption of the proposition , @xmath877 , @xmath807 , by which @xmath878 for @xmath807 .",
    "thus in view of lemma [ lem : aux3 ] , estimate ( [ eq : mbincrements ] ) is valid for all @xmath807 , and for all @xmath879 .",
    "moreover , the constants in this estimate do depend on @xmath880 , @xmath807 , but not on @xmath848 . as a result ,",
    "@xmath881\\bigr| \\leq c_1\\bigl ( n^{1/2}s_n(t - s)+p_n+\\omega(t - s)\\bigr ) , \\label{eq : interim88}\\ ] ] where @xmath556 does not depend on @xmath848 .",
    "we bound the first line of ( [ eq : interim77 ] ) using ( [ eq : omegatilde2 ] ) , the second line using ( [ eq : interim88 ] ) and the third line using lemma [ lem : aux2 ] . here",
    "we recall that the constants in lemma [ lem : aux2 ] do not depend on @xmath810 . in turn",
    ", we have @xmath882 & \\leq & c_2\\bigl(p_n+\\omega(t - s)+ n^{1/2}s_n(t - s ) \\bigr)-c_3 n^{1/2}(t - s ) \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & \\leq & -c_4 n^{1/2}(t - s)+c_5 \\bigl(p_n+\\omega(t - s)\\bigr ) , \\label{eq:1}\\end{aligned}\\ ] ] or positive constants @xmath883 that do not depend on @xmath848 . in the second inequality above we used the fact that @xmath884 .",
    "thus , using lemma [ lem : qtightnessuptostop ] @xmath885\\bigr| \\leq c_8 \\bigl ( n^{1/2}s_n(t - s)+p_n+ \\omega ( t - s ) \\bigr).\\ ] ] above , the constant may depend on @xmath880 , @xmath807 , but not on @xmath848 .",
    "thus by ( [ eq:1 ] ) and using the fact that @xmath884 and applying lemma [ lem : omegatilde ] to bound @xmath886|$ ] , we obtain @xmath887 note that we have @xmath888 for all sufficiently large @xmath1 . indeed , the function @xmath889 is concave and it is easily verified that the unique maximum is bounded by @xmath890 . since @xmath891 the maximum is further bounded by @xmath892 .",
    "thus , we conclude that ( [ eq : interim99 ] ) holds .",
    "choosing @xmath810 sufficiently large , we then have that @xmath893 must hold on the event @xmath802 .",
    "in other words , @xmath802 is empty .",
    "next we consider the event @xmath796 . arguing as above , using the second part of lemma [ lem : aux2 ] , we have @xmath894 bounding @xmath895 $ ] and using ( [ eq : omegatilde3 ] ) as before we have @xmath896 similarly to the above , @xmath897 for all @xmath898 .",
    "re - choosing @xmath899 we then conclude that @xmath893 on @xmath796 .",
    "this proves the first part of the proposition . the second part is argued inductively using the above . if ( [ eq : inductionarg ] ) holds for all @xmath807 ( or for the induction basis @xmath870 ) and since we proved that @xmath900 , the definition of @xmath901 implies that @xmath902 for all @xmath903",
    "it is not hard to see that the jumps of both @xmath254 and @xmath18 are @xmath204 .",
    "recalling that @xmath904 , it follows that ( [ eq : inductionarg ] ) holds for @xmath858 ( with a suitable constant @xmath810 ) .",
    "we conclude that there exist constants , that with abuse of notation we still denote by @xmath791 , such that , on @xmath359 , for all @xmath806 , @xmath905 .",
    "this concludes the proof .",
    "we begin by stating a sequence of auxiliary lemmas that are proved in section  [ sec : lem ] . as before ,",
    "the statements of the lemmas are understood to be _ on the event @xmath359 _ and the assumptions of theorem [ thm : conv_track ] are in force .",
    "fixing throughout @xmath906 such that @xmath907 we let @xmath908",
    ". below the constants @xmath909 , are as in ( [ eq : zdefin ] ) .",
    "[ lem : idleness ] fix @xmath115 with @xmath911 .",
    "suppose that there exists a constant @xmath851 such that @xmath912\\bigr| \\leq \\gamma_1\\bigl ( n^{1/2}s_n(t - s)+p_n+ \\omega(t - s)\\bigr)\\ ] ] for all @xmath743 .",
    "then there exists a constant @xmath913 such that @xmath914 .",
    "[ lem : xtoi ] there exists a constant @xmath818 so that for all @xmath917 with @xmath918 , @xmath919-z_{j_0}^ * n^{1/2}\\int_s^t { \\hat{i}}_{j_0}^n(u)\\,du",
    "\\biggr|\\leq\\gamma q_n\\ ] ] and @xmath920\\geq-\\gamma p_n.\\ ] ]        [ lem : oscillationi ] there exists a constant @xmath818 such that the following holds . for @xmath921 with @xmath924 and such that @xmath925 for all @xmath926 , we have @xmath927\\leq-{\\check{x}}_{i_0}^n[s , t]+ \\gamma q_n\\leq -\\frac{1}{2 } z_{j_0}^*\\int _ { s}^ti_{j_0}^n(u)\\,du+ \\gamma q_n.\\ ] ]    proof of proposition [ prop : localadjustment2 ] by lemma [ lem : bbound ] , @xmath928 . by proposition [ prop : localadjustment1 ] and",
    "lemma [ lem : idleness ] we have that @xmath929 .",
    "thus , using the identity @xmath930 and since @xmath826 , we have @xmath931    to prove the proposition it only remains to show that @xmath932 in which case we will have by the same argument that @xmath933 . together with lemma [ lem : bbound ]",
    ", this would allow us to conclude that @xmath934 as required .",
    "the remainder of the argument is dedicated to the proof of ( [ eq : j0bound ] ) . to that end , fix @xmath935 with @xmath818 as in lemma [ lem : oscillationi ] , and",
    "let @xmath936 and @xmath937 argue by contradiction and assume that @xmath938 and , in particular , @xmath939 .",
    "consider the interval @xmath940 . by lemma [ lem : oscillationi ] it holds , for @xmath941 that @xmath927\\leq -\\frac{1}{2 } z_{j_0}^*n^{1/2}\\int_{s}^t { \\hat{i}}_{j_0}^n(u)\\,du+\\gamma q_n .",
    "\\label{eq : idec}\\ ] ] in particular , @xmath942 for all @xmath943 , and it must be the case that @xmath944 .",
    "since @xmath945 on @xmath946 and @xmath947 we also have by ( [ eq : idec ] ) that @xmath948 since @xmath949 this contradicts the definition of @xmath950 .",
    "we conclude that @xmath951 and , since the jumps of @xmath952 are of size @xmath204 and @xmath953 , that @xmath954 .",
    "this establishes ( [ eq : j0bound ] ) and completes the proof of the proposition .",
    "proof of lemma [ lem : omegatilde ] it follows directly from lemma [ lem : wtightness ] that @xmath955 for a sufficiently large @xmath787 . to treat @xmath956 , recall that @xmath957 by the definition of @xmath746 , it is easy to see that @xmath958 and @xmath959 are uniformly bounded . hence using lemma [ lem : wtightness ]",
    ", @xmath497 can be chosen so that @xmath960 .",
    "this shows the first assertion of the lemma .    by ( [ 19 ] ) @xmath961\\bigr\\|\\leq \\bigl\\|w^n[s , t]\\bigr\\|+\\sum _ { i , j } n^{1/2}\\bigl(\\mu_{ij}+ \\varepsilon_{ij}^n\\bigr)\\int_s^t \\bigl|{\\hat{b}}_{ij}^n(s)\\bigr|\\,ds.\\ ] ] by the definition of @xmath962 and the fact that @xmath963 and using assumption [ asum : continuousselection ] to write @xmath964\\bigr\\|\\leq m_k\\bigl|\\theta ' { \\hat{x}}^n[s , t]\\bigr|,\\ ] ] it follows that @xmath965\\bigr\\|\\le c\\bigl(\\sqrt n s_n(t - s)+p_n+l \\omega(t - s)\\bigr).\\ ] ] to prove the result , it remains to show that @xmath966\\bigr\\|\\le c\\bigl(r_n+l\\omega(t - s ) \\bigr).\\ ] ] we use ( [ 94 ] ) and ( [ 95 ] ) .",
    "the increment of @xmath247 can be bounded as before , while that of @xmath462 is bounded using the definition of @xmath746 , specifically @xmath967 .",
    "thus @xmath965\\bigr\\|\\le c\\bigl(r_n+l\\omega(t - s ) \\bigr)+\\bigl|r^n[s , t]\\bigr|.\\ ] ] moreover , by the definition of @xmath536 ( [ 32 ] ) and @xmath761 ( [ 96 ] ) , we have @xmath968 . as a result ( [ 93 ] ) holds and the result follows .    for the proof of lemma [ lem : aux3 ] we define @xmath969 to be the number of class-@xmath858 customers entering pool @xmath970 by time @xmath42 and let its centered and scaled version be given by @xmath971      _ induction base _ , @xmath870 . for this class all server pools @xmath972 ( if there are any ) are necessarily leafs of the tree . thus if @xmath53 is such a pool , one has @xmath973 so that , by lemma [ lem : idleness ] , @xmath974 .",
    "thus for @xmath975 , @xmath976\\bigr| & \\le & \\bigl|{\\hat{b}}_{kj}^n\\bigr|_{t^n } \\bigl(2+\\mu_{kj}^n(t - s)\\bigr)\\leq c_2 \\bigl(p_n+ n^{1/2}p_n(t - s)\\bigr ) \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & \\leq & c_2\\bigl(p_n+ n^{1/2}s_n(t - s ) \\bigr),\\end{aligned}\\ ] ] where we used the fact that @xmath977 .",
    "note that @xmath978 does not depend on  @xmath848 .",
    "consider next @xmath854 . using ( [ 31 ] ) we have @xmath979\\bigr| & \\leq&\\bigl |{\\hat{q}}_k^n[s , t]\\bigr|+ \\sum_{l\\in{{\\cal j}}(k)}\\bigl|{\\mathcal{b}}_{kl}^n[s , t]\\bigr|+\\bigl\\| w^n[s , t]\\bigr\\| \\\\ & \\leq & c_3\\bigl(p_n+ n^{1/2}s_n(t - s)+ \\omega(t - s)\\bigr).\\end{aligned}\\ ] ] for @xmath975 , we used lemma [ lem : qtightnessuptostop ] and ( [ eq : leafpools ] ) . note",
    "that @xmath980 does depend on @xmath848 .",
    "_ induction step _ , @xmath981 .",
    "assume that the result of the lemma holds for all @xmath982 .",
    "namely , if @xmath982 is such that @xmath983 for all @xmath984 , then ( [ eq : mbincrements ] ) holds with  @xmath985 replacing @xmath858 and for all @xmath743 and all @xmath986 with a constant @xmath851 that does not depend on @xmath987 .",
    "it holds for @xmath988 up to @xmath901 with a constant @xmath853 that does depend on @xmath987 .",
    "we will show that this holds for @xmath858 .",
    "we thus assume that @xmath989 for all @xmath982 . by the induction assumption",
    "we have the existence of a constant @xmath556 , depending on @xmath990 but not depending on @xmath810 , such that ( [ eq : mbincrements ] ) holds for all @xmath982 and all @xmath991 . by the argument leading to ( [ eq : athroughbbound ] ) we have for all @xmath921 that @xmath992\\bigr|\\leq c_4\\bigl(p_n+ n^{1/2}s_n(t - s)+\\omega(t - s)\\bigr).\\ ] ] considering a pool @xmath993 , the idleness process satisfies @xmath994 + n^{-1/2}\\sum_{m\\leq k}d_{ml}^n[s , t ] \\\\ & = & { \\hat{i}}_l^n(s)-\\sum_{m\\leq k } { \\hat{a}}_{ml}^n[s , t]+ \\sum_{m\\leq k } \\mu_{ml}^n\\int_s^t { \\hat{b}}_{ml}^n(v)\\,dv+\\sum_{m\\leq k}v_{ml}^n[s , t].\\end{aligned}\\ ] ] in turn , @xmath995\\bigr|\\label{eq : interim111}&\\leq&2\\bigl|{\\hat{i}}_l^n\\bigr|_{t^n}+ \\sum_{m < k}\\bigl|{\\hat{a}}_{ml}^n[s , t]\\bigr|+ \\sum_{m\\leq k}\\bigl|v_{ml}^n[s , t]\\bigr| \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & & { } + \\sum_{m\\leq k}\\biggl{\\vert}\\mu_{ml}^n \\int_s^t{\\hat{b}}_{ml}^n(v)\\,dv \\biggr{\\vert}.\\end{aligned}\\ ] ] by the induction assumption ( [ eq : mbincrements ] ) holds for all classes @xmath996 so that , by lemma  [ lem : idleness ] , @xmath997 for a constant that does not depend on @xmath810 . also , @xmath998 by definition so that @xmath999 thus using ( [ eq : inductiona ] ) , ( [ eq : interim100 ] ) and ( [ eq : interim110 ] ) in ( [ eq : interim111 ] ) and applying the definition of @xmath359 to bound the increments of @xmath687 , we conclude that @xmath1000\\bigr|\\leq c_8 \\bigl(p_n+ n^{1/2}s_n(t - s)+\\omega(t - s)\\bigr),\\ ] ] where @xmath1001 does not depend on @xmath810 . by ( [ eq : bkjconstruct ] )",
    "we then have that @xmath1002\\bigr{\\vert}&\\leq & \\bigl|{\\hat{a}}_{kl}^n[s , t]\\bigr|+\\bigl|v_{kj}^n[s , t]\\bigr| \\\\ & \\leq&c_9\\bigl(p_n+\\omega(t - s)+ n^{1/2}s_n(t - s ) \\bigr),\\end{aligned}\\ ] ] where , as required , the constants do not depend on @xmath810 in the definition of @xmath901 ( [ eq : tau2kdefin ] ) .",
    "this argument is repeated for each @xmath1003 .",
    "the argument for the pool @xmath859 then follows exactly as in the induction basis and this concludes the proof .",
    "proof of lemma [ lem : qtightnessuptostop ] by the definition of @xmath901 , and since the jumps of both @xmath254 and @xmath18 are @xmath204 and recalling that @xmath1004 , we have that @xmath1005 .",
    "the result is thus an immediate consequence of lemma  [ lem : omegatilde ] .",
    "proof of lemma [ lem : aux2 ] recall that @xmath858 is fixed and @xmath854 .",
    "consider first the event @xmath802 . by (",
    "[ 91 ] ) , @xmath1006 remains positive on the interval @xmath1007 . by part ( ii ) of the definition of the policy , during this interval all service completions in pool @xmath53 are followed by admission to service of customers from the classes in @xmath862 .",
    "also note that part ( i ) of this definition is irrelevant during this time interval because there are no idle servers at pool @xmath53 ( indeed , the set @xmath1008 is not empty on this interval ; if there were any idle servers in pool @xmath53 then they would be immediately assigned to customers of classes in the set @xmath1008 ) .",
    "thus , for @xmath1009 , @xmath1010 , we have @xmath1011= - \\sum_{l\\in{\\mathcal{l}}(k)}d_{lj}^n[s , t]+\\sum _ { l : l\\sim j}d^n_{lj}[s , t].\\ ] ] using ( [ 10 ] ) and ( [ 21 ] ) we rewrite this as @xmath1012&= & - \\sum_{l\\in\\mathcal{l}(k)}\\mu_{lj}^n\\int _",
    "s^t b_{lj}^n(v)\\,dv-\\sum _ { l\\in{\\mathcal{l}}(k ) } n^{1/2}v_{lj}^n[s , t ] \\\\ & & { } + \\sum_{l : l\\sim j}\\mu_{lj}^n\\int _",
    "s^t b_{lj}^n(v)\\,dv + \\sum _ { l : l\\sim j } n^{1/2}v_{lj}^n[s , t].\\end{aligned}\\ ] ] denote @xmath1013 . after centering and scaling we have @xmath1014&= & \\sum_{l\\in{{\\cal l}}^c(k)}\\mu_{lj}^n \\xi_{lj}^*\\nu_l(t - s ) + \\sum_{l : l\\sim j } \\mu_{lj}^n\\int_s^t { \\hat{b}}_{lj}^n(v)\\,dv \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & & { } + \\sum_{l\\in{\\mathcal{l}}^c(k)}v_{lj}^n[s , t].\\end{aligned}\\ ] ] note that @xmath1015 so that the first term on the rhs of ( [ eq : bcentered ] ) is bounded below by @xmath1016 since @xmath1017 , the second term is bounded , in absolute value , by@xmath1018 .",
    "since @xmath1019 , this gives @xmath1020 \\ge c_3 n^{1/2}(t - s)-\\bigl\\|v^n[s , t]\\bigr\\|.\\ ] ] equation ( [ eq : aux2_1 ] ) now follows by using the definition of @xmath359 to bound the increment of @xmath687 .    let us now consider @xmath796 . to prove ( [ eq : aux2_2 ] ) , note by ( [ 91 ] ) that @xmath1021 on the time interval @xmath1022 .",
    "note that by the first part of the policy definition , new arrivals are not sent to pool @xmath53 even if there are idle servers .",
    "moreover , by the second part , upon each service completion , no class-@xmath858 customers are admitted into service in pool @xmath53 during this time ( since @xmath1021 ) .",
    "hence @xmath1023=-d_{kj}^n[s , t]=- \\mu_{kj}^n\\int_s^t b_{kj}^n(v)\\,dv + n^{1/2}v_{kj}^n[s , t],\\ ] ] or , after scaling and centering , @xmath1024=-\\mu_{kj}^n \\xi_{kj}^*\\nu_j ( t - s ) + v_{kj}^n[s , t].\\ ] ] exploiting again the bounds for @xmath687 on @xmath359 , we have ( [ eq : aux2_2 ] ) .",
    "this completes the proof .",
    "we start with an observation that relates the condition of the lemma to the processes @xmath1028 , @xmath1029 . to that end , note that the process @xmath1030 satisfies the relation @xmath1031 \\\\[-8pt ] \\nonumber & = & { \\hat{b}}_{kj}^n(0)+{\\hat{a}}_{kj}^n(t)- \\mu_{kj}^n\\int_s^t { \\hat{b}}_{kj}^n(v)\\,dv+v_{kj}^n(t).\\end{aligned}\\ ] ] hence , using the definition of @xmath359 to bound the increment of @xmath687 , @xmath1032\\bigr|\\leq\\bigl|{\\mathcal{b}}_{kj}^n[s , t]\\bigr|+c_1 \\bigl(p_n+\\omega(t - s)\\bigr ) .",
    "\\label{eq : athroughbbound}\\ ] ] in view of this and the assumption of the lemma , @xmath1033\\bigr|\\leq c_2 \\bigl(p_n+ n^{1/2}s_n(t - s)+\\omega(t - s)\\bigr ) , \\qquad k \\in { { \\cal i}}(j).\\ ] ] let @xmath1034 [ note that @xmath1035 and define @xmath1036 note that for all @xmath1010 , and each @xmath305 , @xmath1037&=&\\frac{1 } { n^{1/2}}\\sum _ { k : k\\sim l}\\bigl(-a_{kl}^n[s , t]+d_{kl}^n[s , t ] \\bigr ) \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & = & \\sum_{k : k\\sim l } \\biggl(-{\\hat{a}}_{kl}^n[s , t ] -\\mu_{kl}^n \\int_{s}^t { \\hat{b}}_{kl}^n(v)\\,dv - v_{kl}^n[s , t ] \\biggr).\\end{aligned}\\ ] ]    on @xmath1038 the tracking policy routes all class-@xmath41 arrivals to pools in the set @xmath1039 .",
    "hence on @xmath1040 , @xmath1041=a_{i}^n[s , t]$ ] and @xmath1042&=&n^{-1/2}\\lambda_i^n(t - s)- \\sum_{l\\in{\\mathcal{j}}(i)}\\mu_{il}^n \\xi_{il}^ * \\nu_j(t - s)+{\\hat{a}}_i^n[s , t ] \\nonumber \\\\[-8pt ] \\\\[-8pt ] \\nonumber & \\geq&\\frac{c_3}{2 } n^{1/2}(t - s)+{\\hat{a}}_i^n[s , t]\\end{aligned}\\ ] ] for a positive constant @xmath980 .",
    "the last inequality follows from the following observation : by ( [ 08 ] ) and ( [ 15 ] ) we have that @xmath1043 . if @xmath315 , then by assumption [ assn3 ] , @xmath1044 . if @xmath320 , then @xmath1045 . in either case , there exists @xmath1046 with @xmath1047 .",
    "hence @xmath1048 for a positive constant @xmath980 as required .",
    "using @xmath1049 , ( [ eq : aij_inc ] ) , ( [ 98 ] ) and the assumption of the lemma in ( [ eq : hidynamics ] ) , we have @xmath1050 & \\leq & c_4\\bigl ( n^{1/2}s_n(t - s)- n^{1/2}(t - s)\\bigr ) + \\bigl|{\\hat{a}}_i^n[s ,",
    "t]\\bigr|+ \\bigl\\|v^n[s , t]\\bigr\\| \\\\ & \\le&-c_5 n^{1/2}(t - s ) + c_6 \\bigl(p_n+\\omega(t - s)\\bigr)\\end{aligned}\\ ] ] for all @xmath1051 . as in ( [ eq : interim99 ] )",
    "we have that @xmath1052 for all @xmath1053 and all sufficiently large @xmath1 and , in turn , that @xmath1054\\leq c_{6}p_n$ ] , for @xmath1055 .",
    "note that @xmath1056 does not depend on the constant @xmath818 .",
    "hence @xmath818 can be chosen in such a way that @xmath1057 . since @xmath1058 , @xmath1059 .",
    "this completes the proof .",
    "we treat separately each of the elements on the right - hand side above .",
    "first , by  ( [ eq : omegatilde2 ] ) we have on @xmath359 that @xmath1061 .",
    "recall that @xmath1062 so that @xmath1063 .",
    "thus @xmath1064 next , by the definition of @xmath746 , using ( [ 32 ] ) , we have that @xmath1065 recalling that @xmath293 for all @xmath59 and that @xmath1066 for all @xmath115 we have that @xmath1067 from which we also see that @xmath462 is nondecreasing . by proposition [ prop :",
    "localadjustment1],@xmath915 for all @xmath1068 so that , by lemma [ lem : idleness ] , @xmath1069 for all @xmath916 . in turn , @xmath1070 for all @xmath916 and for all @xmath921 , @xmath1071 letting @xmath1072 proves the first part of the lemma .",
    "the second part then follows immediately from ( [ eq:24 ] ) , ( [ eq:25 ] ) and the fact that @xmath462 is nondecreasing .",
    "suppose first that @xmath1074 for all @xmath1075 . by the properties of the functions @xmath567",
    "( see remark [ rem : qnproperties ] ) and since @xmath1076 we have here that @xmath1077\\leq({{\\mathbf i}}\\theta_i)^{-1}\\kappa_n\\ll q_n$ ] as required .      to see this , note by proposition [ prop : localadjustment1 ] and the properties of @xmath567 ( see remark  [ rem : qnproperties ] ) that @xmath1082 for all @xmath605 where we use the fact that @xmath1083 . for @xmath320 , @xmath1084",
    "the first inequality follows from proposition [ prop : localadjustment1 ] and the fact that @xmath1017 by the definition of @xmath746 .",
    "the second inequality follows from @xmath1085 and from the fact that @xmath828 whenever @xmath1086 .",
    "the last inequality then follows from the definition of @xmath779 , the fact that @xmath1087 for all @xmath722 ( see remark  [ rem : qnproperties ] ) and recalling that @xmath1088 .    having the above we",
    "proceed to consider the case in which @xmath1073 for some @xmath926 .",
    "let @xmath1089 and @xmath1090 where we set @xmath1091 if @xmath1092 for all @xmath1093 .",
    "since the jumps of @xmath1094 are of size @xmath204 we must have that , if @xmath1095 or @xmath1096 , then @xmath1097 .",
    "setting @xmath1098 in the argument above we have that @xmath609 on @xmath946 so that , by remark [ rem : workconservation ] @xmath1099 on this interval . by equation ( [ eq : gidentity ] )",
    "we then have that @xmath1100 . using ( [ eq:26 ] ) and",
    "( [ eq:25 ] ) we then have that @xmath1101 \\\\[-8pt ] \\nonumber & \\leq & c_5 \\bigl(p_n+\\omega\\bigl(\\tau _ 2^n-\\tau _ 1^n\\bigr)\\bigr).\\end{aligned}\\ ] ] it then follows , as in the beginning of the proof of lemma [ lem : xtoi ] , that @xmath1102\\bigr|\\leq c_6 q_n",
    ". \\label{eq:31}\\ ] ] since @xmath1103 we conclude that @xmath1104 for all @xmath1105 which contradicts @xmath1106 .",
    "we conclude that @xmath1107 and @xmath1108 and , by ( [ eq:30 ] ) , that @xmath1109\\leq c_7q_n$ ] . from the local lipschitz continuity of @xmath567",
    "it then follows that @xmath1077\\leq c_8q_n$ ] as required .",
    "proof of lemma [ lem : bbound ] we use the notation @xmath1110}$ ] with the latter defined in ( [ eq : wdefin ] ) .",
    "recall also that the index set @xmath35 is identified with @xmath1111 and define @xmath1112 note that @xmath1113 .",
    "fix @xmath806 and let @xmath854",
    ". by ( [ 31 ] ) and using @xmath1114 we can write @xmath1115 where @xmath1116 , @xmath1117 the proof is based on the following estimate ; see lemma 3.4 of @xcite and its proof .",
    "let @xmath252 be the unique solution to the integral equation @xmath1118 with @xmath1119 and data @xmath1120 .",
    "then given @xmath151 and @xmath1121 , @xmath1122 thus in view of ( [ eq : bkjrep ] ) , one can bound @xmath1123 by suitably estimating @xmath1124 .",
    "if @xmath1125 for some @xmath459 , then given @xmath1126 , @xmath1127 where @xmath556 does not depend on @xmath1 or @xmath1128 . by proposition [ prop : localadjustment1 ] we have that @xmath1129 .",
    "combined with lemma [ lem : cxoscillation ] , and letting @xmath1130 this gives @xmath1131 for some constant @xmath980 ( not depending on @xmath1 ) .",
    "noting that @xmath1132 , we get @xmath1133 where we used the fact that @xmath1134 [ recall that @xmath1135 . noting @xmath1136 by our assumptions and using ( [ eq : omegatilde3 ] ) and  ( [ eq : omegatilde2 ] ) , we also have @xmath1137 thus @xmath1138 and , in turn , @xmath1139 since @xmath1140 we have that @xmath1141 .",
    "further , since @xmath1142 , we have that @xmath1143 so that @xmath1144 .",
    "we conclude that @xmath1145 provided that @xmath1146 for some @xmath459 .",
    "the requirement ( [ eq : bboundinducasum ] ) holds trivially if @xmath858 is a leaf of the tree , in which case the set @xmath1147 is empty .",
    "it also holds if all pools in @xmath1147 are leafs of the tree by proposition [ prop : localadjustment1 ] and lemma [ lem : idleness ] because in that case @xmath1148 for all @xmath1149 . thus the fact that it holds for all",
    "@xmath1150 and @xmath854 now follows by induction on the class number using ( [ eq : bboundinducasum ] ) and ( [ eq : bboundinducstep ] ) .    to bound @xmath1030 for @xmath1151 , by identity (",
    "[ 12 ] ) we have that @xmath1152 . the first part of this proof guarantees that@xmath1153 . from proposition",
    "[ prop : localadjustment1 ] and lemma [ lem : idleness ] it follows that @xmath1154 .",
    "this completes the proof .",
    "proof of lemma [ lem : oscillationi ] let @xmath921 be an interval as in the statement of the lemma .",
    "in particular , @xmath1155 on @xmath1156 so that , by remark [ rem : workconservation ] , @xmath1157 on @xmath1156 and @xmath1158=\\sum_{j}{\\hat{b}}_{i_0j}^n[s , t]$ ] . thus @xmath1159= \\theta_{i_0}x_{i_0}^n[s , t]-\\theta _ { i_0 } \\sum_{j\\neq j_0}{\\hat{b}}_{i_0j}^n[s , t]\\geq \\theta_{i_0}{\\hat{x}}_{i_0}^n[s , t]-c_1 q_n,\\ ] ] where the inequality follows from lemma [ lem : bbound ] .    by lemma [ lem2 ] and",
    "the identity @xmath1160 it further holds that @xmath1161+{\\hat{b}}_{i_0j_0}^n[s , t]\\bigr|\\leq\\sum _ { i\\neq i_0}\\bigl|{\\hat{b}}_{ij_0}^n\\bigr|_{t^n } \\leq c_2 q_n,\\ ] ] so that @xmath1162\\leq-\\theta_{i_0}x_{i_0}^n[s , t]+c_4 q_n.\\label{eq:23}\\ ] ] the lemma would then follow from lemma [ lem : xtoi ] provided that @xmath1163\\geq \\theta'{\\hat{x}}^n[s , t]- c_{5 } q_n .",
    "\\label { eq:30}\\ ] ] we next prove ( [ eq:30 ] ) . by lemma [ lem : bbound ] , @xmath1164 and by proposition [",
    "prop : localadjustment1 ] , @xmath1165 . in turn , @xmath1166 using the identity @xmath1167=\\theta'{\\hat{x}}^n[s ,",
    "t]-\\sum_{i\\neq i_0}{\\hat{x}}_i^n[s , t]$ ] we then have that @xmath1168- \\theta'{\\hat{x}}^n[s , t]+\\sum_{i\\neq i_0 } { \\check{x}}_i^n[s , t]\\biggr|\\leq c_9 q_n . \\label{eq:27}\\ ] ] by lemma [ lem : cxoscillation ] , @xmath1169|\\leq c_{10}q_n$ ] for all @xmath921 with @xmath924 which proves ( [ eq:30 ] ) and thus completes the proof of the lemma ."
  ],
  "abstract_text": [
    "<S> we consider the problem of minimizing queue - length costs in a system with heterogenous parallel servers , operating in a many - server heavy - traffic regime with nondegenerate slowdown . </S>",
    "<S> this regime is distinct from the well - studied heavy traffic diffusion regimes , namely the ( single server ) conventional regime and the ( many - server ) halfin  whitt regime . </S>",
    "<S> it has the distinguishing property that waiting times and service times are of comparable magnitudes . </S>",
    "<S> we establish an asymptotic lower bound on the cost and devise a sequence of policies that asymptotically attain this bound . as in the conventional regime , </S>",
    "<S> the asymptotics can be described by means of a brownian control problem , the solution of which exhibits a state space collapse . </S>"
  ]
}