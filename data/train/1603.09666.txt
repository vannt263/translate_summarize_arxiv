{
  "article_text": [
    "most of the regulated markets in the world implement a trading mechanism known as the _ continuous double auction _ to match supply and demand .",
    "this mechanism has two sides . on the supply side",
    "there are orders to sell and on the demand side there are orders to buy .",
    "hence , the auction is called _",
    "double_. moreover it occurs in continuous time .",
    "hence , it is called _",
    "continuous_.    in recent years , the theory of this auction has gained more and more interest .",
    "in particular , it has been shown that appropriate models of the double auction can be mapped in a multi - class queue @xcite , so that its ergodic properties and the limiting invariant distribution can be studied using established techniques @xcite .    in this paper",
    ", we consider a simplified model ( see @xcite and references therein ) where prices take @xmath1 integer values from @xmath0 to @xmath1 .",
    "only two types of orders are considered : _",
    "limit orders _ and _ market orders_. in their turn , limit orders can be either orders to sell a single share at a price not lower than a given amount ( _ asks _ ) or orders to buy a single share at a price not higher than a given amount ( _ bids _ ) . in other words ,",
    "the quantity attached to every limit order is always @xmath0 . among all the asks , the _ best ask _ is the smallest ask price , whereas the _ best bid _ is the largest bid price .",
    "the best bid is always strictly smaller than the best ask .",
    "market orders have also two sides : either they accept the available best bid or the available best ask . for the sake of simplicity , limit ask orders and limit bid orders arrive according to a poisson process at a rate @xmath4 and @xmath5 , respectively . in the following ,",
    "we assume symmetry , i.e. @xmath6 . market orders to buy and",
    "market orders to sell arrive separated by durations following the exponential distribution with parameter @xmath7 and @xmath8 , respectively .",
    "again , symmetry is assumed , namely @xmath9 .",
    "limit ask orders follow the uniform distribution in the interval from @xmath10 to @xmath11 , where @xmath12 is the current best bid and @xmath13 is a parameter of the model .",
    "similarly , limit bid orders are uniformly drawn from the interval @xmath14 to @xmath15 , where @xmath16 is the the current best ask .",
    "the accessible states of the auction are limited by the condition @xmath17 .",
    "when @xmath16 is between @xmath0 and @xmath18 ( @xmath12 between @xmath19 and @xmath1 ) , the bid ( respectively ask ) interval is restricted correspondingly .",
    "for instance , if @xmath20 , bids are impossible .",
    "the parameter @xmath18 acts as a cut - off for price jumps .",
    "eventually , if no orders are present in the auction , the next bid , @xmath21 , is uniformly chosen in the interval @xmath22 and the next ask , @xmath23 , is uniformly taken from @xmath24 , where @xmath25 is the price of the last trade . specifying an initial price ( the opening auction price )",
    "is sufficient to start the auction .",
    "a short remark is necessary at this stage : it turns out that order inter - arrival times are not exponentially distributed in real markets ( see @xcite and references therein ) .",
    "this means , that the above description in terms of @xmath2 processes should be replaced by a semi - markov description in terms of @xmath26 processes .",
    "however , in this paper , for the sake of simplicity , we will limit our analysis to the markovian case .",
    "the model described above is essentially the same as in @xcite and in @xcite .",
    "it is a _ zero intelligence agent - based model _ @xcite .",
    "as already mentioned in @xcite , this version of the model does not use the uniform distribution over @xmath27 as in @xcite and it is not limited to the case in which limit orders arrive only at the best bid / ask price as in @xcite . a preliminary discussion of this version was presented in @xcite .",
    "this model was extensively studied in @xcite , in the case in which price movements equal one tick .",
    "these authors also studied the heavy - traffic limit @xcite where functional limit theorems are available leading to diffusion approximations @xcite .    in @xcite ,",
    "the focus was on the ergodic properties of the model .",
    "based on the fact that the order process is equivalent to two independent @xmath2 queues , it was shown that there are three regimes depending on the value of @xmath28 .",
    "for @xmath29 , prices are free to fluctuate over the full price range and statistical equilibrium is reached ( ergodic regime ) . for @xmath30 ,",
    "the auction is in a non - ergodic regime which stabilizes prices .",
    "due to the presence of the parameter @xmath18 , there is an additional transition .",
    "if @xmath31 , prices can still fluctuate in a limited range , whereas for @xmath32 , prices eventually fluctuate between two values .",
    "this regime can not be found if one only considers the case @xmath33 .    in the following ,",
    "we further characterize the ergodic regime by considering the so - called _ low - traffic _ limit where @xmath34 .",
    "it is a limit where analytic results are available for the price dynamics as discussed below .",
    "moreover , we study the first - passage time of the auction in @xmath0 or in @xmath1 .",
    "it turns out that this analysis provides useful approximations for the behaviour of the auction when @xmath35 .",
    "in the low - traffic limit ( @xmath34 ) , when limit orders arrive , they are immediately transformed into market orders .",
    "the book is almost always empty . in this limit ,",
    "it is possible to explicitly write the transition probabilities for the price process and study the price markov chain for any value of @xmath18 and @xmath1 .",
    "to give an idea on how to proceed , let us assume that the initial price is @xmath25 .",
    "then , the conditional probability of a bid is given by @xmath36 this bid is immediately accepted and it becomes the next price .",
    "a similar set of equations can be written for the asks conditioned to the initial price .",
    "@xmath37 both equations are an immediate consequence of the model definition . for a full characterization of the price markov chain ,",
    "the distribution of the initial price is needed .",
    "for instance , if the initial price is chosen uniformly , the probability of an initial price is @xmath38 ; if the chain starts from a given price , the probability of this price is @xmath0 and the probabilities of all the other prices are @xmath39 , and so on . in a symmetric auction , for which @xmath6 and @xmath9 , the probability of a bid arriving is @xmath3 and it is equal to the probability of arrival of an ask .",
    "therefore , in the low traffic regime , the transition probability for prices is given by @xmath40    let us now assume that the limit @xmath34 is realized by keeping the arrival rate @xmath41 finite and letting @xmath42 .",
    "then , if @xmath43 denotes the number of transactions up to time @xmath44 , we have that @xmath43 is poisson distributed with parameter @xmath45 , given that the auction has two sides ( either a bid arrives with rate @xmath41 or an ask arrives with rate @xmath41 ) .",
    "in fact , @xmath43 is the superposition of two poisson processes with parameter @xmath41 . in other words ,",
    "the price process can be seen as an embedded markov chain characterized by the transition probability subordinated to the poisson process @xmath43 .",
    "once this remark is made , it is safe to focus on the embedded chain and study its properties .",
    "in particular we are interested in the convergence of the price probability .",
    "first of all , we notice that after any transactions , the double auction is exactly in the same situation as in the initial case , except for the fact that the price probability varies with time . in other words ,",
    "the markov chain defined above is homogeneous . from the study of the transition probability",
    ", one can further infer that the markov chain is irreducible .",
    "in fact , it is possible to reach any price from any other price .",
    "moreover , given that the diagonal terms of the markov transition matrix are all positive , meaning that there is a finite probability for the price not to change at every step , we can conclude that our markov chain is aperiodic .",
    "being irreducible and aperiodic , our chain has a unique invariant distribution and this is an equilibrium distribution .    in order to illustrate the above findings ,",
    "let us consider a specific example with @xmath46 prices and @xmath47 . in this case",
    ", the price transition probability matrix is @xmath48 the invariant distribution is obtained by looking for the left eigenvector with unit eigenvalue , namely @xmath49 which , in the case of gives @xmath50 in the appendix a , we present a general algorithm to find the invariant distribution of prices . for @xmath33 , there is a remarkable result .",
    "in fact , in this case , the transition matrix is a symmetric , doubly - stochastic matrix . since @xmath51 and @xmath52 ( because row sums and column sums are 1 ) , then @xmath53 and the uniform distribution is the invariant distribution for the markov chain .",
    "always for purpose of illustration , in figure [ fig1 ] , we plot the low - traffic limit price distribution for the case @xmath54 , @xmath55 and we compare it with the frequency with which states appear after equilibration in a monte carlo simulation of the chain after @xmath56 iterations for @xmath57 . in this case",
    "@xmath56 iterations are already sufficient to show that the agreement between the low - traffic - limit approximation and the result of monte carlo simulations is good .    ,",
    "@xmath55 ( circles ) .",
    "the triangles denote the price frequency for a monte carlo simulation of the double auction with @xmath57 after @xmath56 steps.,width=340,height=302 ]    it is striking to observe that the price distribution in the low - traffic limit is still a reasonable approximation when @xmath58 as shown in figure [ fig2 ] .",
    ", @xmath55 ( circles ) and a a monte carlo simulation ( triangles ) of the double auction with @xmath58 after @xmath59 steps.,width=340,height=302 ]    the approximation breaks down for @xmath60 as shown in figure [ fig3 ] for the case @xmath61 .",
    ", @xmath55 ( circles ) and a a monte carlo simulation ( triangles ) of the double auction with @xmath61 after @xmath59 steps.,width=340,height=302 ]    this behaviour of the price distributions leads to a different behaviour for first passage times at the boundary prices .",
    "in fact , for @xmath62 and @xmath63 the residence time of the systems close to the boundaries becomes negligible as shown by figure [ fig3 ] , leading to an increase of the value of the average first passage time .",
    "in this section we shall focus on first passage times . given a double auction with @xmath1 possible prices , labeled with the integers @xmath64",
    ", we fix the initial price at the median point @xmath65 , where @xmath66 denotes the floor operator .",
    "we study the random variable @xmath67 : the first passage time at @xmath0 or at @xmath1 ; for this reason , our problem belongs to the class of two - barrier problems , and , for simplicity , we will assume that the price walk is symmetric . the behaviour of the first passage time distribution has been studied in several similar problems , both with theoretical results on the exact or asymptotic distribution , and through simulation studies , see e.g. @xcite and @xcite .    here , we present the results of a simulation study to investigate the main features of the distribution of @xmath68 .",
    "in particular , we compare such a distribution with the theoretical distribution derived under the low traffic assumption .",
    "since the distribution of @xmath67 is highly skewed with a fat upper tail , as shown in figures , all the plots reported here refer to the distribution of its natural logarithm @xmath68 . for sake of simplicity",
    ", we have performed all comparisons in this section with the parameter @xmath69 fixed . with this assumption",
    ", we get the low traffic limit if @xmath70 .    in figure [ fig - hist1 ]",
    "the histograms of @xmath68 for @xmath55 and for @xmath71 are displayed for @xmath72 different values of @xmath1 , namely @xmath73 .",
    "one can observe that the shape of the distribution is skewed for small values of @xmath1 , while it approaches a gaussian distribution in the case @xmath74 ( the best - fit normal curve is plotted together with the histogram ) .",
    "the simulations have been implemented in r @xcite , and all histograms in this study are based on @xmath75 monte - carlo replicates .",
    "for @xmath55 fixed and @xmath71.,width=340 ]     for for @xmath55 fixed and @xmath76.,width=340 ]    figure [ fig - hist2 ] refers to the same settings as above , but with the ratio fixed at @xmath76 .",
    "the distribution of @xmath68 has almost the same shape for @xmath76 and for @xmath71 . in agreement with the conclusions of the previous section",
    ", this suggests that the behaviour of the low traffic limit is a good approximation also for values of @xmath77 up to @xmath78 also in terms of the first passage time distribution .",
    "finally , in figure [ fig - means ] , the means of @xmath68 as a function of @xmath77 under various choices of @xmath1 ( @xmath55 fixed ) are displayed . a minimum occur between @xmath79 and @xmath76 except for the first experimental setting ( @xmath46 ) .",
    "for @xmath55 and @xmath73.,width=340 ]    to complete the simulation study , we have compared the distribution of @xmath67 with an approximation suggested by the results of the previous section .",
    "basically , we adapt here a known formula for a discrete two - barrier problem .",
    "such formula gives the distribution of the number of price changes needed to reach the boundary .",
    "then , the parameter @xmath77 controls the proportion of orders leading to a price change , and therefore it defines the discrete time distribution of the number of orders needed to reach the boundary .",
    "remember that in the low traffic limit when limit orders arrive , they are immediately transformed into market orders .",
    "finally , we add suitable exponential distributions to switch to the continuous framework of our model .",
    "to avoid problems in some formulae , we assume here @xmath1 to be odd , so that @xmath80 is always integer .",
    "we have limited our study to the case @xmath33 in order to avoid further technicalities in the formulae and to capture the major features of the model .",
    "the approximation is built up in three steps , as detailed below :    * first , consider a discrete first passage time @xmath81 in a simple symmetric random walk with two reflecting barriers and discrete @xmath82 steps , whose distribution is @xmath83 for @xmath84 .",
    "the above distribution can be found in @xcite and is extensively discussed with several generalizations in @xcite .",
    "* the rate of arrival of limit orders over all orders is @xmath85 , and in the low traffic approximation all limit orders arrive when the book is empty .",
    "a limit order to buy ( resp . to sell ) fixes the price at the old price @xmath25 or at @xmath86 ( resp .",
    "@xmath87 ) with probability @xmath3 each . therefore , at any given time , the price changes with rate @xmath88 .",
    "thus , given @xmath89 , consider a negative binomial variable @xmath90 with parameters @xmath91 and @xmath88 , and define @xmath92 .",
    "the variable @xmath93 is again a discrete random variable and it counts the number of events after the change of price is actually performed ; * the interarrival time between two consecutive events follows an exponential distribution with mean @xmath94 .",
    "therefore , given @xmath95 , the first passage time is approximated by a random variable following a gamma distribution with parameters @xmath96 and @xmath97 .    in conclusion",
    ", the distribution of the first passage time can be approximated by a suitable mixture @xmath98 of gamma distributions , whose parameters are computed according to the formula in eq . for the discrete case .",
    "notice that in the previous construction the low - traffic hypothesis is used only when we assume the book empty when a limit order arrives .    to show that this approximation works well for small values of @xmath77 ,",
    "we have plotted in figure [ fig - ecdfs ] the empirical cumulative distribution function ( ecdf ) of @xmath68 and ( a monte - carlo approximation of ) the distribution of @xmath99 for @xmath72 different values of @xmath77 in the case @xmath100 .",
    "also in these simulations we have considered only the case @xmath69 .",
    "( in black ) and its low traffic approximation @xmath99 ( dashed , in red ) for @xmath100 , @xmath33.,width=340 ]    we can observe in figure [ fig - ecdfs ] that for @xmath101 , @xmath102 the simulated distribution and its theoretical approximation are nearly identical ( the @xmath25-value of the kolmogorov - smirnov based on 10,000 monte carlo replicates is @xmath103 for @xmath101 and @xmath104 for @xmath102 .",
    "when @xmath105 the two distributions show some discrepancies , while in the last scenario ( @xmath76 ) the approximation fails .",
    "the low traffic approximation @xmath98 tends to underestimate the distribution of @xmath67 .",
    "this behaviour is observed also in the @xmath105 case , but it is clearer in the @xmath76 case , as expected .    when @xmath63 a formula like that in eq .",
    "is no longer available .",
    "however , we can analyze the low - traffic approximation by studying the expected values of the distributions .",
    "in fact , the expected value of the first passage time @xmath106 of the discrete chain in the low - traffic approximation can be computed through the linear system @xmath107 where @xmath108 is the transition matrix restricted to the transient states , @xmath109 is the @xmath110 identity matrix , and @xmath0 is a column vector of 1 with dimension @xmath111 ( see e.g. @xcite for details ) . then , the mean time in the continuous setting @xmath112 is obtained by scaling @xmath106 by a factor @xmath113 , following the same reasoning as above . in table [ tabmeantimes ] , the means @xmath114 of the monte carlo simulations and the theoretical expected value under the low - traffic approximation @xmath112 are given for several settings .",
    "for @xmath77 up to @xmath115 the approximation works well , and the relative error is less than @xmath116 in all settings , while for @xmath105 and @xmath76 the differences become relevant , especially in the latter case .",
    ".average times in the real settings and the corresponding low - traffic approximation for different values of @xmath1 , @xmath18 and @xmath77 . [ cols=\"^,^,^,^,^,^,^,^,^,^,^ \" , ]",
    "in this paper , we characterized the ergodic regime of a simple model for the continuous double auction in the low - traffic limit @xmath34 . in this limit",
    ", the price distribution can be derived for any value of the model parameters @xmath18 and @xmath1 .",
    "explicit numerical procedures to find the price distributions are given in the supplemental material .",
    "we also showed that these results give a reasonable approximation of the auction behaviour for @xmath35 .",
    "we further studied the first passage time @xmath67 in @xmath0 or @xmath1 using monte carlo simulations .",
    "we noticed that the low - traffic limit approximation for @xmath67 works reasonably for @xmath117 in this case .",
    "there are several open questions we would like to answer .",
    "a natural extension of this simple model is its semi - markov version in which non exponential distributions for waiting times between events are introduced .",
    "in such an extension , the behavior of the embedded chain does not change , but the mixing time of the chain changes .",
    "a particularly interesting case is when the distribution of waiting times is heavy - tailed with infinite mean .",
    "this is linked to recent results of ours on semi - markov graph dynamics @xcite . a further research direction worth exploring is considering non - independent processes for limit and market orders .",
    "t. radivojevi and e. scalas wish to thank j. anselmi for useful discussion .",
    "e. scalas thanks n. georgiou for discussion on multi - class queues .",
    "99    j. blanchet and x. chen , continuous - time modeling of bid - ask spread and price dynamics in limit order books , arxiv:1310.1103 [ q-fin.tr ] ( 2013 ) .",
    "p. a. ferrari , j. b. martin , multiclass hammersley - aldous - diaconis process and multiclass - customer queues , ann .",
    "h. poincar , * 45 * , 250265 ( 2009 ) .",
    "t. radivojevi , j. anselmi and e. scalas , ergodic transition in a simple model of the continuous double auction , plos one * 9 * , e88095 ( 2014 ) .",
    "e. scalas , t. kaizoji , m. kirchler , j. huber , and a. tedeschi , waiting times between orders and trades in double - auction markets , physica a * 366 * , 463471 ( 2006 ) .",
    "e. smith , j. doyne farmer , l. gillemot , and s. krishnamurthy , statistical theory of the continuous double auction , quantitative finance * 3 * , 481514 , ( 2002 ) .",
    "s. zuo , m. li , k. kishimoto , m. endo , a queuing model for a continuous double - auction trading system . in : 22nd australasian finance and banking conference ( 2009 ) .",
    "gode and s. sunder , allocative efficiency of markets with zero - intelligence traders : market as a partial substitute for individual rationality .",
    "journal of political economy * 101 * , 119137 ( 1993 ) .",
    "t. radivojevi , j. anselmi , and e. scalas , a stylized model for the continuous double auction . in : _ managing market complexity _ , lecture notes in economics and mathematical systems * 662 * , 115125 , springer , berlin ( 2012 ) .",
    "r. cont , a. de larrard , price dynamics in a markovian limit order market , siam journal on financial mathematics * 4 * , 125 ( 2013 )",
    ".    r. cont , a. de larrard , order book dynamics in liquid markets : limit theorems and diffusion approximations , working paper available at ssrn : http://ssrn.com/abstract=1757861 ( 2012 ) .",
    "kingman , the single server queue in heavy traffic , mathematical proceedings of the cambridge philosophical society * 57 * , 902904 ( 1961 ) .",
    "kingman , on queues in heavy traffic , journal of the royal statistical society series b * 24 * , 383392 ( 1962 ) .",
    "w. witt , _ stochastic - process limits _ , springer , new york ( 2002 ) .",
    "core team , r : a language and environment for statistical computing , r foundation for statistical computing , vienna , austria , url : http://www.r-project.org/ ( 2014 ) .",
    "l. bondesson , a characterization of first passage time distributions for random walks , _ stochastic processes and their applications _ * 39 * , 8188 ( 1991 ) .",
    "t. antal and s. redner , escape of a uniform random walk from an interval , _ journal of statistical physics _ * 123 * , 11291144 ( 2006 ) .",
    "w. feller , _ an introduction to probability theory and its applications .",
    "volume i _ ,",
    "john wiley & sons , inc .",
    ", new york - london - sydney ( 1968 ) .",
    "a. carlsund , first passage time for random walks and birth - and - death processes with sign depending transition probabilities , working paper , royal institute of technology , stockholm ( 2000 ) .",
    "kemeny and j.l .",
    "snell , _ finite markov chains _ , springer - verlag , new york ( 1976 ) .",
    "m. raberto , f. rapallo and e. scalas , semi - markov graph dynamics , plos one * 6 * , e23370 ( 2011 ) .",
    "n. georgiou , i. kiss and e. scalas , solvable non - markovian dynamic network , phys .",
    "e * 92 * , 042801 ( 2015 ) .     @text@text",
    "in this appendix , we present a general algorithm to find the invariant distribution for the price markov chain . first , we observe that , in general , the transition probability matrix is a stochastic block tri - diagonal ( symmetric in the inner part ) matrix of the form : @xmath118 where @xmath119 is the transpose of the block @xmath120 and @xmath121 for @xmath122 being elements of the block @xmath123 .",
    "there is some freedom in the choice of the blocks @xmath123 , @xmath124 and @xmath120 and their transformations whose dimensions depend on the value of @xmath18 . in the case of the transition probability ( 4 ) in the paper , this is a possible choice of blocks : @xmath125 but the following block choice seems to be more convenient @xmath126 to better see how this generalizes , let us consider the structure of the matrix for @xmath46 and @xmath47 , once more @xmath127 for @xmath128 , instead , we have @xmath129 and so on , where : @xmath130 @xmath131 @xmath132 as a consequence of ( 3 ) in the paper and @xmath133 @xmath134 @xmath135",
    "@xmath136 @xmath137 @xmath138 as a consequence of the properties of the transition matrix .        .... function prob = pricedistrlt(n , n ) a = 1/2/(n+1 ) ; % defining the transition matrix d = 2*a*ones(1,n ) ; % blue diagonal values d(1:n ) = 0.5./[1:n ] + a ; % green   diagonal values p = diag(d ) ; for i=1:n % red      p = p + diag(a*ones(1,n - i),i ) + diag(a*ones(1,n - i),-i ) ; end for i=2:n % green      for j=1:i-1          p(i , j ) = 1/2/i ;      end end p(n - n+1:n , n - n+1:n ) = rot90(p(1:n,1:n),2 ) ;"
  ],
  "abstract_text": [
    "<S> we consider a simplified model of the continuous double auction where prices are integers varying from @xmath0 to @xmath1 with limit orders and market orders , but quantity per order limited to a single share . for this model , the order process is equivalent to two @xmath2 queues . </S>",
    "<S> we study the behaviour of the auction in the low - traffic limit where limit orders are immediately transformed into market orders . in this limit , </S>",
    "<S> the distribution of prices can be computed exactly and gives a reasonable approximation of the price distribution when the ratio between the rate of order arrivals and the rate of order executions is below @xmath3 . </S>",
    "<S> this is further confirmed by the analysis of the first passage time in @xmath0 or @xmath1 . </S>"
  ]
}