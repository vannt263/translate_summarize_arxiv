{
  "article_text": [
    "cluster algebras were introduced in @xcite , and further developed in @xcite , motivated by combinatorial aspects of canonical bases in lie theory @xcite .",
    "a cluster algebra is a subalgebra of a field of rational functions in several variables , and is given by constructing a distinguished set of generators , the _ cluster variables_. the cluster variables are constructed recursively and their computation is rather complicated in general . by construction cluster variables are rational functions , but it was shown in @xcite that they are actually laurent polynomials with integer coefficients .",
    "moreover , these coefficients are conjectured to be positive ; this is the positivity conjecture .    an important class of cluster algebras is given by the cluster algebras from surfaces @xcite . from a classification point of view",
    ", this class is very important since it has been shown in @xcite that almost all ( skew - symmetric ) mutation finite cluster algebras are from surfaces . for generalizations to the skew - symmetrizalbe case ,",
    "see @xcite .",
    "if @xmath0 is a cluster algebra from a surface , then there exists a marked surface with boundary , such that the cluster variables of @xmath1 are in bijection with certain curves , called _ arcs _ , in the surface and the relations between the cluster variables are given by the crossing patterns of the arcs in the surface .    in a collaboration with musiker and williams @xcite , building on earlier work @xcite",
    ", the second author used this geometric interpretation to obtain a direct combinatorial formula for the cluster variables in cluster algebras from surfaces .",
    "this formula is manifestly positive and thus proves the positivity conjecture . in @xcite ,",
    "the formula was the key ingredient in the construction of two bases for the cluster algebra in the case where the surface has no punctures .",
    "the formula is parametrized by perfect matchings of certain graphs , the _ snake graphs _ , which are the subject of the present paper .",
    "snake graphs had appeared earlier in @xcite in the special case of triangulated polygons . to compute the cluster variable associated to an arc @xmath2 , one constructs the snake graph @xmath3 as a union of square shaped graphs , called _ tiles _ , which correspond to quadrilaterals in a fixed triangulation of the surface : one tile for each quadrilateral traversed by @xmath2 .",
    "these tiles are glued together according the the geometry of the surface .",
    "thus to every cluster variable corresponds an arc , and to every arc corresponds a snake graph .",
    "a natural question is then how much of the relations among the cluster variables or , equivalently , how much of the geometry of the arcs , can be recovered from the snake graphs alone ?",
    "for example , the product of two cluster variables can be thought of as the union of the two corresponding snake graphs .",
    "it is known @xcite that if the two arcs cross , then one can rewrite the product of the cluster variables as a linear combination of elements corresponding to arcs without crossings .",
    "the process of resolving the crossings is given on the arcs by a _ smoothing operation _ and the relation in the cluster algebra is called a _ skein relation_. on the level of snake graphs , one needs to know the following .    1 .",
    "when do the two arcs corresponding to two snake graphs cross ? 2 .",
    "what are the snake graphs corresponding to the skein relations ?    in this paper , we introduce the notion of an _ abstract snake graph _ , which is not necessarily related to an arc in a surface .",
    "then we define what it means for two abstract snake graphs to cross .",
    "given two crossing snake graphs , we construct the resolution of the crossing as two pairs of snake graphs from the original pair of crossing snake graphs .",
    "we then prove that there is a bijection @xmath4 between the set of perfect matchings of the two crossing snake graphs and the set of perfect matchings of the resolution , theorem [ bijections ] .",
    "we then apply our constructions to snake graphs arising from unpunctured surfaces and prove that    1 .",
    "two snake graphs cross if and only if the corresponding arcs cross in the surface , theorem [ lem 53 ] ; 2 .",
    "the resolution of the crossing of the snake graphs coincides with the snake graphs of the curves obtained from the two crossing arcs by smoothing , theorems [ smoothing1 ] and [ smoothing2 ] ; 3 .   the bijection @xmath4 above is weight preserving , where the weights of the edges are the initial cluster variables associated to the arcs of the initial triangulation of the surface .",
    "consequently , the laurent polynomials associated to a pair of crossing snake graphs and to its resolution are identical , theorems [ laurent ] and [ laurent2 ] .    as an application",
    ", we obtain a combinatorial formula in terms of snake graphs for the product of cluster variables , and a new proof of the skein relations for cluster variables , corollary [ skein ] .",
    "the paper is organized as follows .",
    "we introduce the notions of abstract snake graphs , as well as their crossings and resolutions in section [ sect 2 ] . in section [",
    "sect 3 ] , we give the definition of the bijection @xmath4 . after recalling the definitions and results on cluster algebras from surfaces in section [ sect 4 ] ,",
    "we prove our the results ( 1)-(3 ) in sections [ sect 5 ] and [ sect 6 ] . section [ sect 7 ] contains the proof that the map @xmath4 is a bijection .",
    "fix an orthonormal basis of the plane .    a * tile *",
    "@xmath5 is a square of fixed side - length in the plane whose sides are parallel or orthogonal to the fixed basis .",
    "we consider a tile @xmath5 as a graph with four vertices and four edges in the obvious way .",
    "a _ snake graph _",
    "@xmath6 is a connected graph consisting of a finite sequence of tiles @xmath7 with @xmath8 such that for each @xmath9    * @xmath10 and @xmath11 share exactly one edge @xmath12 and this edge is either the north edge of @xmath10 and the south edge of @xmath11 or the east edge of @xmath10 and the west edge of @xmath13 * @xmath14 and @xmath15 have no edge in common whenever @xmath16 * @xmath14 and @xmath15 are disjoint whenever @xmath17    an example is given in figure [ signfigure ] .",
    "we sometimes use the notation @xmath18 for the snake graph and @xmath19 = ( { g_{i } , g_{i+1 } , \\ldots , g_{i+t}})$ ] for the subgraph of @xmath6 consisting of the tiles @xmath20    the @xmath21 edges @xmath22 which are contained in two tiles are called _ interior edges _ of @xmath6 and the other edges are called _ boundary edges . _",
    "by convention we call a set containing a single edge an _ empty snake graph_.    a snake graph @xmath6 is called _ straight _ if all its tiles lie in one column or one row , and a snake graph is called _ zigzag _ if no three consecutive tiles are straight .      a _ sign function _",
    "@xmath23 on a snake graph @xmath6 is a map @xmath23 from the set of edges of @xmath6 to @xmath24 such that on every tile in @xmath6 the north and the west edge have the same sign , the south and the east edge have the same sign and the sign on the north edge is opposite to the sign on the south edge .",
    "see figure [ signfigure ] for an example .",
    "note that on every nonempty snake graph there are exactly two sign functions .",
    "let @xmath25 and @xmath26 be two snake graphs .",
    "we say that @xmath27 and @xmath28 have an _ overlap _",
    "@xmath6 if @xmath6 is a snake graph and there exist two embeddings @xmath29 @xmath30 which are maximal in the following sense .    * if @xmath6 has at least two tiles and if there exists a snake graph @xmath31 with two embeddings @xmath32 @xmath33 such that @xmath34 and @xmath35 then @xmath36 and @xmath37 * if @xmath6 consists of a single tile then using the notation @xmath38 and @xmath39 we have * * @xmath40 or @xmath41 or * * @xmath42 @xmath43 and the subgraphs @xmath44 and @xmath45 are either both straight or both zigzag subgraphs .",
    "an example of type ( i ) is shown in figure [ overlap ] and an example of type ( ii)(b ) in figure  [ overlapb ] .",
    "note that two snake graphs may have several overlaps with respect to different snake graphs @xmath6 .",
    "let @xmath46 @xmath47 be two snake graphs with overlap @xmath6 and embeddings @xmath48 and @xmath49 and suppose without loss of generality that @xmath50 and @xmath51 let @xmath52 ( respectively @xmath53 ) be the interior edges of @xmath27 ( respectively @xmath28 . ) let @xmath23 be a sign function on @xmath54 then @xmath23 induces a sign function @xmath55 on @xmath27 and @xmath56 on @xmath57 moreover , since the overlap @xmath6 is maximal , we have    @xmath58    [ crossing ] we say that @xmath27 and @xmath28 _ cross in _",
    "@xmath6 if one of the following conditions hold .    *",
    "[ i ] @xmath59 * @xmath60    * the definition does not depend on the choice of the sign function @xmath61 * @xmath27 and @xmath28 may still cross if @xmath62 and @xmath63 because they may satisfy condition [ i](i ) . * the terminology ` cross ' comes from snake graphs that are associated to arcs in a surface",
    ". we shall show in theorem [ lem 53 ] that two such arcs cross if and",
    "only if the corresponding snake graphs cross in an overlap .      given two snake graphs that cross , we construct two pairs of new snake graphs , which we call the resolution of the crossing . in section  [ sect pm ] , we show that there is a bijection between the set of perfect matchings of the two crossing snake graphs and the set of perfect matchings of the resolution . in sections  [ sect smoothing ] and [ sect products ] , we show that this construction is related to multiplication formulas given by skein relations in cluster algebras .",
    "let @xmath64 @xmath28 be two snake graphs crossing in an overlap @xmath65={\\mathcal{g}}_2[s',t']$ ] .",
    "recall that @xmath66 $ ] is the subgraph of @xmath67 given by the tiles with indices @xmath68 let @xmath69 $ ] be the snake graph obtained by reflecting @xmath66 $ ] such that the order of the tiles is reversed .",
    "we define four connected subgraphs as follows , see figure [ figres ] for examples . @xmath70 \\cup { \\mathcal{g}}_2[t'+1 , d ' ] \\mbox { where the adjacency of the two subgraphs is induced by } { \\mathcal{g}}_2 . \\\\ { \\mathcal{g}}_4&={\\mathcal{g}}_2[1,t ' ] \\cup { \\mathcal{g}}_1[t+1,d ] \\mbox { where the adjacency of the two subgraphs is induced by } { \\mathcal{g}}_1.\\\\   { \\mathcal{g}}_5 & = \\begin{cases } { \\mathcal{g}}_1[1,s-1 ] \\cup { \\overline{\\mathcal{g}}}_2[s'-1,1 ] &   \\parbox[t]{.55\\textwidth } { if $ s>1 $ , $ s'>1 $ where the two subgraphs are glued along the north of $ g_{s-1}$ and the east of $ g'_{s'-1}$ if $ g_s$ is east of $ g_{s-1}$ in $ { \\mathcal{g}}_1 $ ; and along the east of $ g_{s-1}$ and the north of $ g'_{s'-1}$ if $ g_s$ is north of $ g_{s-1}$ in $ { \\mathcal{g}}_1$;}\\\\   { \\mathcal{g}}_1[1,k ] &      \\parbox[t]{.55\\textwidth } { if $ s'=1 $ where $ k < s-1 $ is the largest integer such that $ f_1(e_k)=f_1(e_{s-1})$ if such a $ k$ exists ; }   \\\\    \\ { e_0 \\ } &     \\parbox[t]{.55\\textwidth } { if $ s'=1 $ and no such $ k$ exists , where $ e_0 $ is the unique edge of $ g_1 $ which is south or west and satisfies $ f_1(e_0)=f_1(e_{s-1})$ ; } \\\\   { \\overline{\\mathcal{g}}}_2[k',1 ] &     \\parbox[t]{.55\\textwidth } { if $ s=1 $ where $ k ' < s'-1",
    "$ is the largest integer such that $ f_2(e_{k ' } ) = f_2(e_{s'-1})$ if such a $ k$ exists ; } \\\\      \\ { e'_0 \\ } &    \\parbox[t]{.55\\textwidth } { if $ s=1 $ and no such $ k'$ exists , where $ e'_0 $ is the unique edge of $ g'_1 $ which is south or west and satisfies $ f_2(e'_0)=f_2(e'_{s'-1})$ ; }   \\end{cases}\\\\ \\end{aligned}\\ ] ] @xmath71 \\cup { \\mathcal{g}}_1[t+1,d ] &   \\parbox[t]{.55\\textwidth } { if $ t < d$ , $ t ' < d'$ where the two subgraphs are glued along the west of $ g_{t+1}$ and the south of $ g'_{t'+1}$ if $ g_{t+1}$ is north of $ g_{t}$ in $ { \\mathcal{g}}_1 $ ; and along the south of $ g_{t+1}$ and the west of $ g'_{t'+1}$ if $ g_{t+1}$ is east of $ g_{t}$ in $ { \\mathcal{g}}_1$;}\\\\   { \\overline{\\mathcal{g}}}_2[d',k ' ] &      \\parbox[t]{.55\\textwidth } { if $ t = d$ where $ k ' >",
    "t'+1 $ is the least integer such that $ f_2(e'_{t'})=f_2(e'_{k'-1})$ if such a $ k'$ exists ; }   \\\\    \\ { e'_{d ' } \\ } &     \\parbox[t]{.55\\textwidth } { if $ t = d$ and no such $ k'$ exists , where $ e'_{d'}$ is the unique edge of $ g'_{d'}$ which is north or east and satisfies $ f_2(e'_{d'})=f_2(e'_{t'})$ ; } \\\\   { \\mathcal{g}}_1[k , d ] &     \\parbox[t]{.55\\textwidth } { if $ t'=d'$ where $ k >",
    "t+1 $ is the least integer such that $ f_1(e_{t } ) = f_1(e_{k-1})$ if such a $ k$ exists ; } \\\\",
    "\\ { e_d \\ } &    \\parbox[t]{.55\\textwidth } { if $ t'=d'$ and no such $ k$ exists , where $ e_d$ is the unique edge of $ g_d$ which is north or east and satisfies $ f_1(e_d)=f_1(e_{t})$ ; }   \\end{cases}\\end{aligned}\\ ] ]    [ resolution ] in the above situation , we say that the pair @xmath72 is the _ resolution of the crossing _ of @xmath27 and @xmath28 at the overlap @xmath6 and we denote it by @xmath73    if @xmath74 have no crossing in @xmath6 we let @xmath75    the pair @xmath76 still has an overlap in @xmath6 but without crossing .",
    "the pair @xmath77 can be thought of as a reduced symmetric difference of @xmath27 and @xmath28 with respect to the overlap @xmath6 .      in this subsection",
    ", we define another operation which to two snake graphs associates two pairs of snake graphs . here",
    "however , we do not suppose that the original two snake graphs have an overlap . in section  [ sect pm ]",
    ", we show that there is a bijection between the set of perfect matchings of the two original snake graphs and the set of perfect matchings of the two new pairs . in sections  [ sect smoothing ] and [ sect products ]",
    ", we show that this construction is related to multiplication formulas in cluster algebras .",
    "let @xmath78 @xmath26 be two snake graphs and let @xmath55 be a sign function on @xmath79    _ case 1 .",
    "_ let @xmath80 be such that @xmath81    if @xmath82 is north of @xmath83 in @xmath27 then let @xmath84 denote the east edge of @xmath85 @xmath86 the west edge of @xmath82 and @xmath87 the west edge of @xmath88 @xmath89 the south edge of @xmath90    if @xmath82 is east of @xmath83 in @xmath64 then let @xmath91 denote the north edge of @xmath92 , @xmath86 the south edge of @xmath82 and @xmath93 the south edge of @xmath94 , @xmath95 the west edge of @xmath96 .",
    "thus we have one of the following two situations .",
    "define four snake graphs as follows ; see figure [ figrafting ] for examples .",
    "@xmath97 \\cup { \\mathcal{g}}_2 \\mbox { where the   two subgraphs are glued along the edges $ { \\delta}_3 $ and $ { \\delta}'_3$}. \\\\ { \\mathcal{g}}_4= & \\begin{cases }   { \\mathcal{g}}_1 [ k_4,d ] &   \\parbox[t]{.75\\textwidth } { where $ k_4 > s+1 $ is the least integer such that $ f_1(e_s)=-f_1(e_{k_4 - 1})$ if such a $ k_4 $ exists ; } \\\\   \\ { e_d \\ } &   \\parbox[t]{.75\\textwidth } { otherwise where $ e_d$ is the unique edge of $ g_d$ which is north or east and such that $ f_1(e_s)=-f_1(e_d)$ } \\end{cases } \\\\   { \\mathcal{g}}_5 = & \\begin{cases } { \\mathcal{g}}_1 [ 1,k_5 ] &   \\parbox[t]{.75\\textwidth } { where $ k_5 < s$ is the largest integer such that $ f_1(e_{k_5})=-f_1(e_{s})$ if such a $ k_5 $ exists ; } \\\\   \\ { e_0 \\ } &   \\parbox[t]{.75\\textwidth } { otherwise where $ e_0 $ is the unique edge of $ g_1 $ which is south or west and such that $ f_1(e_0)=-f_1(e_s)$ } \\end{cases}\\\\   { \\mathcal{g}}_6=&{\\overline{\\mathcal{g}}}_2[d',1 ]",
    "\\cup { \\mathcal{g}}_1 [ s+1,d ] \\mbox { where the two subgraphs are glued along the edges } & \\\\ & \\mbox { $ { \\delta}_5 $ and $ { \\delta}'_5 $ . } & \\end{aligned}\\ ] ]    _ case 2 .",
    "_ now let @xmath98 choose a pair of edges @xmath99 such that either @xmath84 is the north edge in @xmath83 and @xmath87 is the south edge in @xmath100 or @xmath84 is the east edge in @xmath83 and @xmath87 is the west edge in @xmath90 let @xmath56 be a sign function on @xmath101 such that @xmath102 then define four snake graphs as follows .",
    "@xmath97 \\cup { \\mathcal{g}}_2 \\mbox { where the   two subgraphs are glued along the edges $ { \\delta}_3 $ and $ { \\delta}'_3$. } & \\\\ { \\mathcal{g}}_4= & \\ { { \\delta}_3 \\ } \\\\   { \\mathcal{g}}_5 = &   \\begin{cases } { \\mathcal{g}}_1 [ 1,k_5 ] &   \\parbox[t]{.75\\textwidth } { where $ k_5 < s$ is the largest integer such that $ f_1(e_{k_5})=f_1({\\delta}_{3})$ , if such a $ k_5 $ exists ; } \\\\   \\",
    "{ e_0 \\ } &   \\parbox[t]{.75\\textwidth } { otherwise , where $ e_0 $ is the unique edge of $ g_1 $ which is south or west and such that $ f_1(e_0)=f_1({\\delta}_3)$ } \\end{cases}\\\\   { \\mathcal{g}}_6= &   \\begin{cases } { \\overline{\\mathcal{g}}}_2 [ d',k_6 ] &   \\parbox[t]{.75\\textwidth } { where $ k_6>1 $ is the least integer such that $ f_2(e'_{k_6 - 1})=f_1({\\delta}_{3})$ , if such a $ k_6 $ exists ; } \\\\",
    "\\ { e_0 \\ } &   \\parbox[t]{.75\\textwidth } { otherwise , where $ e'_{d'}$ is the unique edge of $ g'_{d'}$ which is south or west and such that $ f_1(e'_{d'})=f_1({\\delta}_3)$. } \\end{cases}\\end{aligned}\\ ] ]    [ grafting ] in the above situation , we say that the pair @xmath72 is called the _ resolution of the grafting of @xmath28 on @xmath27 in @xmath103 _ and we denote it by @xmath104",
    "[ sect 3 ]    recall that a _ perfect matching _ @xmath105 of a graph @xmath5 is a subset of the set of edges of @xmath5 such that each vertex of @xmath5 is incident to exactly one edge in @xmath106 let @xmath107 denote the set of all perfect matchings of the graph @xmath5 .    the main result of this section is the following .    [ bijections ]",
    "let @xmath74 be two snake graphs",
    ". then there are bijections    * @xmath108 * @xmath109    we shall explicitly construct the bijection @xmath4 . the proof that @xmath110 is a bijection is given in section [ sect 7 ] .",
    "the idea for the bijection @xmath4 is simple : look for the first place in the overlap where one can ` switch ' the matchings of @xmath111 and @xmath28 in order to get a matching of @xmath112 .",
    "if the given matching does not have such a switching place at all , then its image under @xmath113 is a matching of @xmath114 .    if @xmath105 is a matching of the snake graph @xmath115 we denote by @xmath116 $ ] its restriction to the subgraph @xmath117,$ ] and we define @xmath118&= p [ j_1,j_2 ] \\backslash \\ { e_{j_1 - 1 } \\ } , \\\\",
    "p[j_1,j_2 ) & =   p [ j_1,j_2 ] \\backslash \\ { e_{j_2 } \\}.\\end{aligned}\\ ] ]    we first define @xmath4 for statement ( 1 ) .",
    "the statement is trivial if @xmath27 and @xmath28 do not have a crossing in @xmath54 suppose therefore @xmath27 and @xmath28 cross in @xmath6 and use the notation of the definition [ resolution ] and definition [ grafting ] .",
    "let @xmath119    we define the map @xmath4 by the following procedure .",
    "suppose first that @xmath120 and @xmath121    1 .",
    "[ ? ] if the pair of matchings @xmath122 , \\   p_2[s'-1,s'+1])$ ] on the pair of subgraphs @xmath123 , { \\mathcal{g}}_2[s'-1,s'+1])$ ] is one of the eight configurations on the left in figure [ mu ] then let @xmath124 be @xmath125 , \\",
    "p_2[1,{s'-1 } ) \\cup   \\mu_{s,2 } \\cup   p_1(s+1 , d ] ) \\end{aligned}\\ ] ] 2 .",
    "] if ( i ) does not apply , let @xmath126 be the least integer such that @xmath127 and the local configuration of @xmath128 on @xmath129 , { \\mathcal{g}}_2[s'+j , s'+j+1])$ ] is one of the four configurations shown in figure [ figrho ] , if such @xmath126 exists , and let @xmath124 be @xmath130 ,   \\\\p_2[1,{s'+j-1 } ) \\cup   \\rho_{j,2 } \\cup   p_1(s+j+2 , d])\\end{aligned}\\ ] ] 3 .",
    "if ( i ) and ( ii ) do not apply and the local configuration of @xmath128 on @xmath131 , \\ { \\mathcal{g}}_2[t'-1 , t'+1])$ ] is one of the eight shown in figure [ mu ] , relabeling @xmath132 let @xmath124 be @xmath133,\\   p_2[1,t'-1 ) \\cup   \\mu_{t,2 } \\cup   p_1(t+1 , d ] ) \\end{aligned}\\ ] ] 4 .",
    "] if ( i)-(iii ) do not apply then let @xmath134 ( respectively @xmath135 ) be the glueing edge in the definition of @xmath136 ( respecetively @xmath137 ) in definition [ resolution ] . then let @xmath124 be @xmath138 \\sqcup    p_2 [ 1 , s'-1]\\backslash \\{a_5\\ } ,   p_2[t'+1,d ' ] \\sqcup    p_1[t+2,d ] \\backslash \\{a_6\\ } ) \\end{aligned}\\ ] ] where the notation @xmath139 means @xmath140    note that in cases ( i)-(iii ) , @xmath141 and in case ( iv ) , @xmath142    if @xmath143 and , @xmath144 respectively , we define @xmath145 by following the steps ( i)-(iv ) ignoring tiles @xmath146 or @xmath147 respectively , and restricting to @xmath148 if step ( iv ) has been applied .    finally if @xmath149 then @xmath4 is defined by step ( i ) replacing the operation @xmath150 by the operation @xmath151 in figure [ nu ] and step ( iv ) only .",
    "now we define @xmath4 for the statement ( 2 ) .",
    "let @xmath152 be the map described in figure [ sigma ] . then define @xmath153 as follows .",
    "* @xmath154 \\cup \\sigma_{s,3 } \\cup p_2[2,d ' ] , p_1[k_4,d ] ) $ ] if the local configuration of @xmath155 on @xmath156,{\\mathcal{g}}_2[1,1])$ ] is one of the first three cases in figure  [ sigma ] , and * @xmath157 \\cup \\sigma_{s,5 } \\cup p_2[2,d ' ] , p_1[1,k_6])$ ] if the local configuration of @xmath155 on @xmath156,{\\mathcal{g}}_2[1,1])$ ] is one of the last three cases in figure  [ sigma ] .",
    "here we agree that if @xmath158 then @xmath4 is defined by step ( i ) in the first three cases of figure [ sigma ] , where we delete the tiles @xmath5 , and , in case five of figure [ sigma ] , we have @xmath159 , p_1[1,k_6]).$ ] in section [ sect 7 ] , we proof the theorem by constructing the inverse map of @xmath4 .",
    "in this section we recall how snake graphs arise naturally in the theory of cluster algebras .",
    "we follow the exposition in @xcite .      to define a cluster algebra  @xmath160 we must first fix its ground ring .",
    "let @xmath161 be a _",
    "semifield _ ,",
    "i.e. , an abelian multiplicative group endowed with a binary operation of _ ( auxiliary ) addition _",
    "@xmath162 which is commutative , associative , and distributive with respect to the multiplication in  @xmath163 .",
    "the group ring  @xmath164 will be used as a _ ground ring _ for  @xmath160 .",
    "one important choice for @xmath163 is the tropical semifield ; in this case we say that the corresponding cluster algebra is of _ geometric type_. let @xmath165 be an abelian group ( written multiplicatively ) freely generated by the @xmath166 .",
    "we define @xmath162 in @xmath167 by @xmath168 and call @xmath169 a _ tropical semifield_. note that the group ring of @xmath170 is the ring of laurent polynomials in the variables  @xmath171 .    as an _ ambient field _ for @xmath160 , we take a field @xmath172 isomorphic to the field of rational functions in @xmath173 independent variables ( here @xmath173 is the _ rank _ of  @xmath160 ) , with coefficients in  @xmath174 .",
    "note that the definition of @xmath172 does not involve the auxiliary addition in  @xmath163 .",
    "[ def : seed ] a _ labeled seed _ in  @xmath172 is a triple @xmath175 , where    * @xmath176 is an @xmath173-tuple from @xmath172 forming a _ free generating set _ over @xmath174 , * @xmath177 is an @xmath173-tuple from @xmath163 , and * @xmath178 is an @xmath179 integer matrix which is _ skew - symmetrizable_.    that is , @xmath180 are algebraically independent over  @xmath174 , and @xmath181 .",
    "we refer to  @xmath182 as the ( labeled ) _",
    "cluster _ of a labeled seed @xmath175 , to the tuple  @xmath183 as the _ coefficient tuple _ , and to the matrix  @xmath184 as the _ exchange matrix_.    we obtain ( _ unlabeled _ ) _ seeds _ from labeled seeds by identifying labeled seeds that differ from each other by simultaneous permutations of the components in @xmath182 and  @xmath183 , and of the rows and columns of  @xmath184 .",
    "we use the notation @xmath185_+ = \\max(x,0)$ ] , @xmath186=\\{1 , \\dots , n\\}$ ] , and @xmath187    [ def : seed - mutation ] let @xmath175 be a labeled seed in @xmath172 , and let @xmath188 $ ] . the _ seed mutation _",
    "@xmath189 in direction  @xmath190 transforms @xmath175 into the labeled seed @xmath191 defined as follows :    * the entries of @xmath192 are given by @xmath193 b_{ij } + \\sgn(b_{ik } ) \\ [ b_{ik}b_{kj}]_+   & \\text{otherwise . }",
    "\\end{cases}\\ ] ] * the coefficient tuple @xmath194 is given by @xmath195 y_j y_k^{[b_{kj}]_+ } ( y_k \\oplus 1)^{- b_{kj } } & \\text{if $ j \\neq k$}. \\end{cases}\\ ] ] * the cluster @xmath196 is given by @xmath197 for @xmath198 , whereas @xmath199 is determined by the _ exchange relation _ @xmath200_+ } + \\",
    "\\prod x_i^{[-b_{ik}]_+}}{(y_k \\oplus 1 ) x_k } \\ , .\\ ] ]    we say that two exchange matrices @xmath184 and @xmath201 are _ mutation - equivalent _ if one can get from @xmath184 to @xmath201 by a sequence of mutations .",
    "[ def : patterns ] consider the _",
    "@xmath173-regular tree _",
    "@xmath202 whose edges are labeled by the numbers @xmath203 , so that the @xmath173 edges emanating from each vertex receive different labels .",
    "a _ cluster pattern _ is an assignment of a labeled seed @xmath204 to every vertex @xmath205 , such that the seeds assigned to the endpoints of any edge @xmath206 -\\!\\!\\!-\\!\\!\\!-\\\\[-.1 in ] \\scriptstyle { } \\end{array } \\ ! }",
    "t'$ ] are obtained from each other by the seed mutation in direction  @xmath190 .",
    "the components of @xmath207 are written as : @xmath208    clearly , a cluster pattern is uniquely determined by an arbitrary seed .",
    "[ def : cluster - algebra ] given a cluster pattern , we denote @xmath209 the union of clusters of all the seeds in the pattern .",
    "the elements @xmath210 are called _ cluster variables_. the _ cluster algebra _ @xmath160 associated with a given pattern is the @xmath211-subalgebra of the ambient field @xmath172 generated by all cluster variables : @xmath212 $ ] .",
    "we denote @xmath213 , where @xmath214 is any seed in the underlying cluster pattern .",
    "let @xmath215 be a connected oriented 2-dimensional riemann surface with nonempty boundary , and let @xmath216 be a nonempty finite subset of the boundary of @xmath215 , such that each boundary component of @xmath215 contains at least one point of @xmath216 .",
    "the elements of @xmath216 are called _ marked points_. the pair @xmath217 is called a _ bordered surface with marked points_. for technical reasons , we require that @xmath217 is not a disk with 1,2 or 3 marked points .    an _ arc _ @xmath218 in @xmath217 is a curve in @xmath215 , considered up to isotopy , such that :    * the endpoints of @xmath218 are in @xmath216 ; * @xmath218 does not cross itself , except that its endpoints may coincide ; * except for the endpoints , @xmath218 is disjoint from the boundary of @xmath215 ; and * @xmath218 does not cut out a monogon or a bigon .",
    "curves that connect two marked points and lie entirely on the boundary of @xmath215 without passing through a third marked point are _ boundary segments_. note that boundary segments are not arcs .",
    "for any two arcs @xmath219 in @xmath215 , let @xmath220 be the minimal number of crossings of arcs @xmath221 and @xmath222 , where @xmath221 and @xmath222 range over all arcs isotopic to @xmath218 and @xmath223 , respectively .",
    "we say that arcs @xmath218 and @xmath223 are _ compatible _ if @xmath224 .",
    "a _ triangulation _ is a maximal collection of pairwise compatible arcs ( together with all boundary segments ) .",
    "triangulations are connected to each other by sequences of _ flips_. each flip replaces a single arc @xmath2 in a triangulation @xmath225 by a ( unique ) arc @xmath226 that , together with the remaining arcs in @xmath225 , forms a new triangulation .",
    "choose any triangulation @xmath225 of @xmath217 , and let @xmath227 be the @xmath173 arcs of @xmath225 . for any triangle @xmath228 in @xmath225 , we define a matrix @xmath229 as follows .    *",
    "@xmath230 and @xmath231 if @xmath232 and @xmath233 are sides of @xmath228 with @xmath233 following @xmath232 in the clockwise order .",
    "* @xmath234 otherwise .",
    "then define the matrix @xmath235 by @xmath236 , where the sum is taken over all triangles in @xmath225 .",
    "note that @xmath237 is skew - symmetric and each entry @xmath238 is either @xmath239 , or @xmath240 , since every arc @xmath241 is in at most two triangles .",
    "* theorem 7.11 ) and ( * ? ? ? * theorem 5.1 ) [ clust - surface ] fix a bordered surface @xmath217 and let @xmath160 be the cluster algebra associated to the signed adjacency matrix of a triangulation .",
    "then the ( unlabeled ) seeds @xmath242 of @xmath160 are in bijection with the triangulations @xmath225 of @xmath217 , and the cluster variables are in bijection with the arcs of @xmath217 ( so we can denote each by @xmath243 , where @xmath2 is an arc ) .",
    "moreover , each seed in @xmath160 is uniquely determined by its cluster .",
    "furthermore , if a triangulation @xmath244 is obtained from another triangulation @xmath225 by flipping an arc @xmath245 and obtaining @xmath246 , then @xmath247 is obtained from @xmath242 by the seed mutation replacing @xmath243 by @xmath248 .      in this section",
    "we review some results from @xcite .",
    "[ gen - arc ] a _ generalized arc _ in @xmath217 is a curve @xmath2 in @xmath215 such that :    * the endpoints of @xmath2 are in @xmath216 ; * except for the endpoints , @xmath2 is disjoint from the boundary of @xmath215 ; and * @xmath2 does not cut out a monogon or a bigon .    note that we allow a generalized arc to cross itself a finite number of times .",
    "we consider generalized arcs up to isotopy ( of immersed arcs ) .    a _ closed loop _ in @xmath217 is a closed curve @xmath2 in @xmath215 which is disjoint from the boundary of @xmath215 .",
    "we allow a closed loop to have a finite number of self - crossings . as in definition",
    "[ gen - arc ] , we consider closed loops up to isotopy .    a closed loop in @xmath217 is called _ essential _ if it is not contractible and it does not have self - crossings .",
    "( multicurve ) we define a _",
    "multicurve _ to be a finite multiset of generalized arcs and closed loops such that there are only a finite number of pairwise crossings among the collection .",
    "we say that a multicurve is _ simple _ if there are no pairwise crossings among the collection and no self - crossings .",
    "if a multicurve is not simple , then there are two ways to _ resolve _ a crossing to obtain a multicurve that no longer contains this crossing and has no additional crossings .",
    "this process is known as _",
    "smoothing_.    [ def : smoothing ] ( smoothing ) let @xmath249 and @xmath250 be generalized arcs or closed loops such that we have one of the following two cases :    1 .",
    "@xmath251 crosses @xmath250 at a point @xmath252 , 2 .",
    "@xmath2 has a self - crossing at a point @xmath252",
    ".    then we let @xmath253 be the multicurve @xmath254 or @xmath255 depending on which of the two cases we are in .",
    "we define the _ smoothing of @xmath253 at the point @xmath252 _ to be the pair of multicurves @xmath256 ( resp .",
    "@xmath257 ) and @xmath258 ( resp .",
    "@xmath259 ) .    here , the multicurve @xmath260 ( resp .",
    "@xmath261 ) is the same as @xmath253 except for the local change that replaces the crossing @xmath262 with the pair of segments @xmath263 ( resp .",
    "@xmath264 ) .    since a multicurve may contain only a finite number of crossings , by repeatedly applying smoothings , we can associate to any multicurve a collection of simple multicurves .",
    "we call this resulting multiset of multicurves the _ smooth resolution _ of the multicurve @xmath253 .",
    "[ th : skein1](skein relations ) ( * ? ? ? * propositions 6.4,6.5,6.6 ) let @xmath265 @xmath266 , and @xmath267 be as in definition [ def : smoothing ] .",
    "then we have the following identity in @xmath268 , @xmath269 where @xmath270 and @xmath271 are monomials in the variables @xmath272 .",
    "the monomials @xmath270 and @xmath271 can be expressed using the intersection numbers of the elementary laminations ( associated to triangulation @xmath225 ) with the curves in @xmath273 and @xmath261 .",
    "[ sect graph ] let @xmath218 be an arc in @xmath217 which is not in @xmath225 . choose an orientation on @xmath218 , let @xmath274 be its starting point , and let @xmath275 be its endpoint .",
    "we denote by @xmath276 the points of intersection of @xmath218 and @xmath225 in order .",
    "let @xmath277 be the arc of @xmath225 containing @xmath278 , and let @xmath279 and @xmath280 be the two triangles in @xmath225 on either side of @xmath277 .",
    "note that each of these triangles has three distinct sides , but not necessarily three distinct vertices , see figure [ figr1 ] .",
    "where @xmath281 . ]",
    "let @xmath15 be the graph with 4 vertices and 5 edges , having the shape of a square with a diagonal , such that there is a bijection between the edges of @xmath15 and the 5 arcs in the two triangles @xmath279 and @xmath282 , which preserves the signed adjacency of the arcs up to sign and such that the diagonal in @xmath15 corresponds to the arc @xmath277 containing the crossing point @xmath278 .",
    "thus @xmath15 is given by the quadrilateral in the triangulation @xmath225 whose diagonal is @xmath277 .",
    "[ relorient ] given a planar embedding @xmath283 of @xmath15 , we define the _ relative orientation _ @xmath284 of @xmath283 with respect to @xmath225 to be @xmath285 , based on whether its triangles agree or disagree in orientation with those of @xmath225 .",
    "for example , in figure [ figr1 ] , @xmath283 has relative orientation @xmath286 .    using the notation above , the arcs @xmath277 and @xmath287 form two edges of a triangle @xmath282 in @xmath225 .",
    "define @xmath288}$ ] to be the third arc in this triangle .",
    "we now recursively glue together the tiles @xmath289 in order from @xmath290 to @xmath291 , so that for two adjacent tiles , we glue @xmath292 to @xmath283 along the edge labeled @xmath288}$ ] , choosing a planar embedding @xmath293 for @xmath292 so that @xmath294 see figure [ figglue ] .    after gluing together the @xmath291 tiles ,",
    "we obtain a graph ( embedded in the plane ) , which we denote by @xmath295 .",
    "the _ snake graph _",
    "@xmath3 associated to @xmath2 is obtained from @xmath295 by removing the diagonal in each tile .    in figure",
    "[ figsnake ] , we give an example of an arc @xmath2 and the corresponding snake graph @xmath296 . since @xmath2 intersects @xmath225 five times , @xmath296 has five tiles .",
    "if @xmath297 then we define its snake graph @xmath298 to be the graph consisting of one single edge with weight @xmath299 and two distinct endpoints ( regardless whether the endpoints of @xmath241 are distinct ) .      recall that if @xmath241 is a boundary segment then @xmath300 ,    if @xmath218 is a generalized arc and @xmath301 is the sequence of arcs in @xmath225 which @xmath218 crosses , we define the _ crossing monomial _ of @xmath2 with respect to @xmath225 to be @xmath302    a _ perfect matching _ of a graph @xmath6 is a subset @xmath303 of the edges of @xmath6 such that each vertex of @xmath6 is incident to exactly one edge of @xmath303 .",
    "if @xmath6 is a snake graph and the edges of a perfect matching @xmath303 of @xmath6 are labeled @xmath304 , then we define the _ weight _ @xmath305 of @xmath303 to be @xmath306 .",
    "let @xmath218 be a generalized arc .",
    "by induction on the number of tiles it is easy to see that the snake graph @xmath307 has precisely two perfect matchings which we call the _ minimal matching _ @xmath308 and the _ maximal matching _",
    "@xmath309 , which contain only boundary edges . to distinguish them ,",
    "if @xmath310 ( respectively , @xmath311 ) , we define @xmath312 and @xmath313 to be the two edges of @xmath295 which lie in the counterclockwise ( respectively , clockwise ) direction from the diagonal of @xmath314",
    ". then @xmath315 is defined as the unique matching which contains only boundary edges and does not contain edges @xmath312 or @xmath313 .",
    "@xmath316 is the other matching with only boundary edges .    in the example of figure [ figsnake ]",
    ", the minimal matching @xmath315 contains the bottom edge of the first tile labeled 4 .",
    "* theorem 5.1 ) [ thm y ] the symmetric difference @xmath317 is the set of boundary edges of a ( possibly disconnected ) subgraph @xmath318 of @xmath3 , which is a union of cycles .",
    "these cycles enclose a set of tiles @xmath319 , where @xmath320 is a finite index set .",
    "[ height ] with the notation of lemma [ thm y ] , we define the _ height monomial",
    "_ @xmath321 of a perfect matching @xmath303 of a snake graph @xmath322 by @xmath323    following @xcite , for each generalized arc @xmath2 , we now define a laurent polynomial @xmath243 , as well as a polynomial @xmath324 obtained from @xmath243 by specialization .",
    "[ def : matching ] let @xmath218 be a generalized arc and let @xmath3 , be its snake graph .    1 .",
    "if @xmath218 has a contractible kink , let @xmath325 denote the corresponding generalized arc with this kink removed , and define @xmath326 .",
    "2 .   otherwise ,",
    "define @xmath327 where the sum is over all perfect matchings @xmath303 of @xmath328 .",
    "define @xmath324 to be the polynomial obtained from @xmath243 by specializing all the @xmath329 to @xmath290 .",
    "if @xmath2 is a curve that cuts out a contractible monogon , then we define @xmath330 .",
    "* thm 4.9 ) [ thm msw ] if @xmath2 is an arc , then @xmath243 is a the cluster variable in @xmath331 , written as a laurent expansion with respect to the seed @xmath332 , and @xmath324 is its _ f - polynomial_.      let @xmath225 be a triangulation and @xmath218 be an arc .",
    "let @xmath333 be a triangle in @xmath225 with sides @xmath334 , and @xmath241 , that is crossed by @xmath218 in the following way : @xmath218 crosses @xmath335 at the point @xmath336 and crosses @xmath337 at the point @xmath338 , and the segment of @xmath218 from @xmath336 to @xmath338 lies entirely in @xmath333 , see the left of figure [ figv ] .",
    "then there exists a unique vertex @xmath339 of the triangle @xmath333 and a unique contractible closed curve @xmath340 given as the homotopy class of a curve starting at the point @xmath339 , then following @xmath341 until the point @xmath336 , then following @xmath2 until the point @xmath338 and then following @xmath337 until @xmath339 .",
    "we will use the following notation to describe this definition :    @xmath342^{{\\beta}_1 } & p_1\\ar@{-}[r]^{\\gamma } & p_2 \\ar@{-}[r]^{{\\beta}_2 } & v}.\\ ] ]    [ def fan ] a _",
    "@xmath343-fan with vertex @xmath339 _ is a collection of arcs @xmath344 , with @xmath345 and @xmath346 with the following properties ( see the right of figure [ figv ] ) :    1 .",
    "@xmath2 crosses @xmath344 in order at the points @xmath347 , such that @xmath348 is a crossing point of @xmath2 and @xmath349 , and the segment of @xmath218 from @xmath350 to @xmath351 does not have any other crossing points with @xmath225 ; 2 .",
    "each @xmath349 is incident to @xmath339 ; 3 .   for each @xmath352 , let @xmath353 be the unique contractible closed curve given by @xmath354^{{\\beta}_i } & p_i\\ar@{-}[r]^-{\\gamma } & p_{i+1 } \\ar@{-}[r]^-{{\\beta}_{i+1 } } & v};\\ ] ] then for each @xmath355 , the concatenation of the curves @xmath356 is homotopic to @xmath354^{{\\beta}_i } & p_i\\ar@{-}[r]^-{\\gamma}&p_{i+1}\\ar@{-}[r]^-{\\gamma } & p_{i+2 } \\ar@{-}[r]^-{{\\beta}_{i+2 } } & v}.\\ ] ]    condition ( 3 ) in the above definition is equivalent to the condition that @xmath354^{{\\beta}_i } & p_i\\ar@{-}[r]^-{\\gamma } & p_{i+2 } \\ar@{-}[r]^-{{\\beta}_{i+2 } } & v}\\ ] ] is contractible .",
    "a @xmath343-fan @xmath344 is called _ maximal _ if there is no arc @xmath357 such that @xmath358 or @xmath359 is a @xmath343-fan .",
    ".[figfan][figv ]    note that if @xmath360 then @xmath298 has exactly one perfect matching @xmath303 and @xmath361 and @xmath362",
    "[ sect 5 ]    let @xmath363 be a triangulated surface . let @xmath364 be two arcs in general position in @xmath217 which are not in the triangulation @xmath225 and such that @xmath251 crosses @xmath250 at a point @xmath365    fix an orientation on @xmath251 and @xmath250 and let @xmath366 ( respectively @xmath367 , @xmath368 , @xmath369 @xmath370 ) be the crossing points of @xmath251 ( respectively @xmath371 ) with @xmath225 in order and including the starting point and the endpoint of @xmath251 ( respectively @xmath250 ) . thus @xmath251 runs from @xmath350 to @xmath372 and @xmath250 from @xmath367 to @xmath373 let @xmath374 ( respectively @xmath375 ) be the triangle in @xmath225 that contains the segment of @xmath251 ( respectively @xmath250 ) between the points @xmath278 and @xmath376 see figure [ delta ] .",
    "finally , let @xmath377 ( respectively @xmath378 ) denote the arc of the triangulation passing through @xmath278 ( respectively @xmath379 ) .",
    "thus @xmath380 and @xmath287 are two sides of the triangle @xmath381 denote the third side of @xmath374 by @xmath288}.$ ] similarly the third side of @xmath382 is denoted by @xmath383}.$ ]    without loss of generality , we may assume that the crossing point of @xmath251 and @xmath250 lies in the interior of some triangle in @xmath225 and , since @xmath251 and @xmath250 both run through @xmath384 this triangle is @xmath374 for some @xmath385 and @xmath382 for some @xmath386    if @xmath374 is the first or the last triangle that @xmath251 meets then we assume without loss of generality that @xmath374 is the first triangle , that is , @xmath387 similarly , if @xmath382 is the first or the last triangle that @xmath250 meets , then we assume without loss of generality that @xmath388 in all other cases , there is at least one side of @xmath374 which is crossed both by @xmath251 and @xmath389 more precisely , we have @xmath390 or @xmath391 or @xmath392 or @xmath393 we can assume , by changing orientation if necessary , that @xmath390 or @xmath393 altogether , there are five cases which are illustrated in figure [ fivecrossings ] .    in the last two cases in figure [ fivecrossings ] ,",
    "we say that @xmath251 and @xmath250 _ cross at @xmath394 with an empty overlap _ and in the first three cases @xmath251 and @xmath250 cross at @xmath394 with a _ non - empty overlap .",
    "_    suppose now that @xmath251 and @xmath250 cross at @xmath394 with a non - empty local overlap .",
    "we want to define the local overlap of @xmath395 and @xmath250 at @xmath394 to be the maximal sequence of arcs in the triangluation which are crossed by both @xmath251 and @xmath250 directly before and after passing through @xmath394 .",
    "let    @xmath396 where @xmath397 is the largest integer such that @xmath398 and let    @xmath399 where @xmath400 is the largest integer such that @xmath401    we call the sequence @xmath402 the _ local overlap _ of @xmath251 and @xmath250 at @xmath403      [ lem 53 ] let @xmath251 and @xmath250 be two arcs and @xmath27 and @xmath28 their corresponding snake graphs .",
    "then @xmath251 and @xmath250 cross with a non - empty local overlap @xmath404 if and only if @xmath27 and @xmath28 cross in @xmath405 \\cong { \\mathcal{g}}_2[s',t'].$ ]    choose a sign function @xmath23 on the overlap of the snake graphs @xmath27 and @xmath28 and let @xmath55 and @xmath56 be the induced sign functions on @xmath27 and @xmath406 respectively . as usual , let @xmath407 ( respectively @xmath408 ) be the interior edges of @xmath27 ( respectively @xmath28 ) .",
    "recall that the edge @xmath409 ( respectively @xmath410 ) corresponds to the arc @xmath288}$ ] ( respectively @xmath383}$ ] ) of the triangle @xmath374 ( respectively @xmath382 ) in the triangulation @xmath411    a zigzag in the snake graph corresponds to a fan in the triangulation , and a straight subgraph of the snake graph corresponds to a zigzag on the triangulation .",
    "therefore two edges @xmath412 ( respectively @xmath413 ) of the snake graph have the same sign with respect to @xmath55 ( respectively @xmath56 ) if and only if the corresponding arcs @xmath288 } , \\tau_{[k]}$ ] ( respectively @xmath383 } , \\tau'_{[k']}$ ] ) lie on the same side of @xmath251 ( respectively @xmath250 ) , see figure [ figfansnake ] .",
    "suppose first that @xmath414 and @xmath415 then we have one of the two situations shown in figure [ figlem53 ] .    in both cases @xmath250 crosses @xmath416",
    "but does not cross @xmath417 nor @xmath418 thus in the first case @xmath250 can not cross @xmath251 in the overlap . in the second case , @xmath250 must cross @xmath251 in the overlap , since the arcs @xmath419}$ ] and @xmath420}$ ] as well as their endpoints lie on opposite sites of @xmath251 relative to the overlap .",
    "therefore @xmath251 and @xmath250 cross if and only if @xmath421 .",
    "this implies that the snake graphs @xmath27 and @xmath28 cross , by definition [ crossing ] .",
    "suppose now that @xmath422 and @xmath423 then we have one of the two situations shown in figure [ figlem53b ] .",
    "in the first case , @xmath251 and @xmath250 do not cross in the overlap and @xmath424 because the arcs @xmath420}$ ] and @xmath425}$ ] lie on opposite sides of the arcs @xmath251 and @xmath426 in the second case @xmath251 and @xmath250 cross in the overlap and @xmath427 thus by definition [ crossing ] , @xmath251 and @xmath250 cross if and only if @xmath27 and @xmath28 cross .    by symmetry ,",
    "this proves the statement .",
    "if @xmath2 is an arc which is not in the triangulation , then the segment of @xmath2 from its starting point to its first crossing with the triangulation is called the _ initial segment _ of @xmath428    [ lem 55 ] let @xmath251 and @xmath250 be two arcs and @xmath27 and @xmath28 their associated snake graphs .",
    "suppose that the first tile of @xmath28 is given by @xmath429 \\draw ( 0,0)--(1,0)--(1,1)--(0,1)--(0,0 ) ;   \\node at ( .5,.5 ) { $ k$ } ; \\node[scale=.8 ] at ( -.3,.5 ) { $ \\delta$ } ; \\node[scale=.8 ] at ( .5,-.3 ) { $ \\delta'$ } ; \\end{tikzpicture}\\ ] ] then @xmath251 crosses the initial segment of @xmath250 if and only if one of the following hold .",
    "* the first or last tile of @xmath27 is @xmath430 or * the first or last tile of @xmath27 is @xmath431 or * @xmath27 contains one of the following snake graphs @xmath432 + ( 0,0)(2,0)(2,1)(0,1)(0,0 ) ; ( 1,0)(1,1 ) ; at ( .5,.5 ) @xmath433 ; at ( 1.6,.5 ) @xmath434 ; at ( 1.17,.5 ) @xmath190 ; + ( 0,0)(2,0)(2,1)(0,1)(0,0 ) ; ( 1,0)(1,1 ) ; at ( .5,.5 ) @xmath434 ; at ( 1.6,.5 ) @xmath433 ; at ( 1.17,.5 ) @xmath190 ; + @xmath432    the configuration of the first tile of @xmath28 translates into the following picture .",
    "@xmath435   \\draw ( 0,0)--(1,-.5)--(1,.5)--(0,0 ) ;   \\draw ( 0,0)--(2.4,.4 ) ;   \\path ( 0,0 ) edge node [ pos=.7 , fill = white , outer sep=1mm , scale=.7]{$\\gamma_1 $ } ( 2.4,.4 ) ;   \\node[scale=.8 ] at ( .5,-.4 ) { $ \\delta'$ } ;   \\node[scale=.8 ] at ( .5,.4 ) { $ \\delta$ } ;   \\node[scale=.6 ] at ( 0,0 ) { $ \\bullet$ } ; \\node[scale=.6 ] at ( 1,-.5 ) { $ \\bullet$ } ; \\node[scale=.6 ] at ( 1,.5 ) { $ \\bullet$ } ; \\node[scale=.8 ] at ( -.2,0 ) { $ x$ } ; \\node[scale=.8 ] at ( 1.2,-.5 ) { $ y$ } ; \\node[scale=.8 ] at ( 1.2,.5 ) { $ z$ } ; \\end{tikzpicture}\\ ] ] thus @xmath251 crosses the initial segment of @xmath250 if and only if @xmath251 crosses @xmath433 and ends at @xmath436 or @xmath251 crosses @xmath434 and ends at @xmath437 or @xmath251 crosses @xmath433 and @xmath438 this translates to the three cases in the statement .",
    "[ smoothing1 ] let @xmath251 and @xmath250 be two arcs which cross with a non - empty local overlap , and let @xmath27 and @xmath28 be the corresponding snake graphs with overlap @xmath6 .",
    "then the snake graphs of the four arcs obtained by smoothing the crossing of @xmath251 and @xmath250 in the overlap are given by the resolution @xmath439 of the crossing of the snake graphs @xmath27 and @xmath28 at the overlap @xmath54    we do not assume that @xmath251 and @xmath250 cross only once .",
    "if the arcs cross multiple times the theorem can be used to resolve any of the crossings .    in @xcite ,",
    "the authors considered also smoothing of generalized arcs ( allowing self - crossings ) and essential loops .",
    "the description of the resolutions of the corresponding snake graphs will be given in a forthcoming paper .",
    "as usual , let @xmath440 denote the local overlap of @xmath251 and @xmath250 at the crossing under consideration .",
    "then the four arcs obtained by smoothing the crossing are represented by @xmath441    ( see figure [ smoothing ] ) where @xmath442 denotes the concatenation of the paths @xmath443 and @xmath444 and @xmath445 denotes the path @xmath443 with the opposite orientation , @xmath446 denotes the segment of the arc @xmath447 from its starting point to the crossing point @xmath394 and @xmath448 the segment from @xmath394 to the terminal point , for @xmath449 recall that arcs are defined up to homotopy , so for example the arc @xmath450 does not cross @xmath451    suppose first that @xmath452 from the construction it is obvious that the snake graphs @xmath453 of the arcs @xmath454 for @xmath455 are given exactly by the four snake graphs of @xmath439 in definition [ resolution ] .",
    "now suppose that we do not have @xmath452 observe that that we can not have @xmath62 and @xmath456 simultaneously because @xmath251 and @xmath250 cross in the overlap , and , similarly , we can not have @xmath63 and @xmath457 simultaneously",
    ". therefore we have to consider the cases where one of the two arcs starts or ends right before or right after the overlap .",
    "since these cases are all symmetric , we may assume without loss of generality that @xmath456 and @xmath458 and @xmath459 this case is illustrated on the right side of figure [ smoothing ] . in this case , the snake graphs @xmath460 and @xmath137 are the same as in the first case , but @xmath136 now is of the form @xmath461,$ ] where @xmath462 and @xmath190 is the largest integer such that @xmath463 is not in the maximal @xmath464-fan ending at @xmath465    indeed , this follows because every arc in this fan crosses @xmath251 but not @xmath466 since each arc in the fan ends at the endpoint of @xmath467 since fans in the triangulation correspond to zigzag subgraphs of the snake graph , we see from the definition of sign functions that any sign function @xmath55 on @xmath27 satisfies @xmath468 for each @xmath469 and @xmath470 therefore @xmath136 is exactly as in the definition of @xmath471    so far , we have considered two arcs which cross with a non - empty local overlap .",
    "now we study two arcs which cross with an empty local overlap .",
    "[ smoothing2 ] let @xmath251 and @xmath250 be two arcs which cross in a triangle @xmath228 with an empty local overlap , and let @xmath27 and @xmath28 be the corresponding snake graphs .",
    "assume @xmath472 is the first triangle @xmath250 meets .",
    "then the snake graphs of the four arcs obtained by smoothing the crossing of @xmath251 and @xmath250 in @xmath228 are given by the resolution @xmath473 of the grafting of @xmath28 on @xmath27 in @xmath85 where @xmath474 is such that @xmath475 and if @xmath476 or @xmath158 then @xmath477 is the unique side of @xmath228 that is not crossed by neither @xmath251 nor @xmath426    as before , let @xmath446 denote the segment of @xmath447 from the starting point until the crossing point , and let @xmath448 denote the segment from the crossing point to the terminal point .",
    "then the four arcs obtained by smoothing are represented by @xmath441 where @xmath442 denotes the concatenation of the paths @xmath443 and @xmath444 and @xmath445 is the path @xmath443 with the opposite orientation .",
    "suppose first that @xmath475 with @xmath478 thus @xmath251 crosses two sides @xmath479 and @xmath480 of @xmath228 and @xmath250 crosses the third side @xmath481 of @xmath482 see the left picture in figure [ smoothing3 ] .",
    "let @xmath483 denote the maximal @xmath464-fan containing the arcs @xmath479 and @xmath480 and determined by the crossing .",
    "then the snake graphs @xmath453 of the arcs @xmath454 for @xmath484 are given as follows .    _",
    "3&=_1[1,s ] _ 2 ; + _",
    "4&=    _ 1[k_4,d ] & + \\{_4 } &     + _",
    "5&=    _ 1[1,k_5 ] & + \\{_5 } &     + _ 6&=_2 _ 1[s+1,d ] ;    note that if the @xmath485 in the description of @xmath486 does not exist , then @xmath487 itself must be in the fan @xmath488 , hence @xmath489 and @xmath490 .",
    "similarly , if the @xmath491 in the description of @xmath136 does not exist , then @xmath492 .",
    "thus these are exactly the snake graphs in @xmath493    now suppose that @xmath494 is the last triangle @xmath251 meets , see the right side of figure [ smoothing3 ] .",
    "then @xmath495 and @xmath487 is the unique side of the triangle @xmath228 that is not crossed by @xmath251 or @xmath426 let @xmath496 be the maximal @xmath464-fan containing @xmath497 and @xmath498 and let @xmath499 be the maximal @xmath500-fan containing @xmath501 and @xmath502 then the snake graphs of the arcs @xmath447 for @xmath503 3 , 4 , 5 , 6 are the following .    _",
    "3&=_1 _ 2 ; + _ 4&= \\{_4 } + _ 5&=    _ 1[1,k_5 ] & + \\{_5 } &     + _ 6&=    _ 1[1,k_6 ] & + \\{_6 } &    since fans in the triangulation correspond to zigzag subgraphs in the snake graph , we see from the definition of sign functions that these snake graphs are exactly the ones in the definition of @xmath473 with @xmath504    the case @xmath505 is similar to the case @xmath494 and therefore left to the reader .",
    "[ sect 6 ]    let @xmath506 be the cluster algebra associated to the surface @xmath217 with principal coefficients in the initial seed @xmath507 at the triangulation @xmath508 where @xmath509      if @xmath6 is a snake graph associated to an arc @xmath2 in a triangulated surface @xmath363 then each tile of @xmath6 corresponds to a quadrilateral in the triangulation @xmath510 and we denote by @xmath511 the diagonal of that quadrilateral . with this notation we define @xmath512 if @xmath513 consists of a single edge , we let @xmath514 and @xmath515 .",
    "let @xmath251 and @xmath250 be two arcs which cross with a non - empty local overlap .",
    "let @xmath516 and @xmath517 be the corresponding cluster variables and @xmath27 and @xmath28 the snake graphs with corresponding overlap @xmath54 recall that @xmath439 consists of two pairs @xmath76 and @xmath77 of snake graphs .",
    "define the _ closure _ @xmath518 _ of the overlap _",
    "@xmath6 to be the union of all tiles in @xmath519 which are not in @xmath520 let @xmath439 be the resolution of the crossing of @xmath27 and @xmath28 at @xmath6 , and define the _",
    "laurent polynomial of the resolution _ by    @xmath521    where    @xmath522    [ laurent ] let @xmath251 and @xmath250 be two arcs which cross with a non - empty local overlap and let @xmath27 and @xmath28 be the corresponding snake graphs with local overlap @xmath54 then    @xmath523    first we note that @xmath524 where the first identity holds because @xmath525 and @xmath526 have the same set of tiles , and the second identity holds because @xmath518 consists of the tiles of @xmath527 and the overlap @xmath6 consists of the tiles that appear in both @xmath27 and @xmath57    using the equation ( [ eq1 ] ) on the definition of @xmath528 as well as the bijection @xmath529 of theorem [ bijections ]",
    ", we obtain @xmath530    on the other hand ,    @xmath531    and therefore it suffices to show the following lemma .",
    "[ lem 72 ] let @xmath532 .",
    "* @xmath533 if @xmath534 . * @xmath535 if @xmath536 .",
    "let @xmath537 and let @xmath538 be its restriction to @xmath539 @xmath540    \\(a ) since the mapping @xmath541 preserves the weight of the edges on the matching , we have @xmath542 the identity @xmath543 follows from an inspection of the eight cases in figure  [ mu ] and the four cases of figure  [ figrho ] .",
    "\\(b ) by definition @xmath544 where the glueing edge for @xmath136 has weight @xmath545 if @xmath414 and @xmath546 and in all other cases @xmath136 has no glueing edge , and the glueing edge for @xmath137 has weight @xmath547 if @xmath548 and @xmath549 and in all other cases @xmath137 has no glueing edge .",
    "since the glueing edges are in the interior of @xmath136 and @xmath550 removing them from the matching does not change the @xmath436-monomials .",
    "thus @xmath551 it remains to study the @xmath252-monomials .",
    "first note that if @xmath552 or @xmath553 contains an interior edge of @xmath518 then @xmath554 would be in @xmath555 thus in our situation , we must have that on @xmath518 both matchings @xmath552 and @xmath553 consist of boundary edges of @xmath556 moreover , since @xmath557 it follows that @xmath552 and @xmath553 must be as in figure [ mu2 ] and figure  [ figrho2 ] for all tiles in the overlap .",
    "in particular , @xmath552 and @xmath553 do not share an edge on @xmath556    therefore equation ( [ eq2 ] ) implies that if @xmath558 and @xmath559 then @xmath560 where the product runs over all boundary edges of @xmath54 indeed , in this case @xmath561 and the four variables @xmath562 and @xmath563 appear in the numerator , because these are the weights of the four edges which connect @xmath6 with @xmath564 and with @xmath565 these edges are boundary edges in @xmath6 but interior edges in @xmath64 respectively @xmath57    to finish the proof in the case where @xmath566 it suffices to show that @xmath567    we proceed by induction on @xmath568 the number of tiles in @xmath54 if @xmath569 then @xmath6 consists of a single tile with boundary weights @xmath570 @xmath571 moreover , @xmath149 , and @xmath572 , since @xmath566 .",
    "this proves equation ( [ eq4 ] ) in this case .",
    "suppose now that @xmath573 then @xmath574 moreover , except for the four extremal edges with weights @xmath575 every boundary edge of @xmath6 has weight @xmath576 or @xmath577 each of the weights @xmath578 appears exactly twice and the weights @xmath545 and @xmath547 appears exactly once in the boundary of @xmath6 .",
    "thus @xmath579 which shows ( [ eq4 ] ) in this case .",
    "now suppose @xmath580 then @xmath581 because @xmath2 and @xmath246 cross in the overlap .",
    "suppose first that @xmath548 and @xmath459 then it follows from the definition of @xmath4 that the matching @xmath582 must be of the form shown in figure [ mu2 ] , but with the tile @xmath583 removed . only the third case in figure [ mu2 ] defines a matching after removing @xmath584 thus @xmath582 is of the form shown in figure [ figlem72 ] .",
    "let @xmath585 be the largest integer such that the sign function of @xmath27 agrees on the edges @xmath586 and @xmath587 ( if such a @xmath190 exists ) as in the definition of @xmath588 then we have a situation similar to the example shown in figure [ figlem72b ] , where @xmath589 the red edges are in @xmath590 and the green edges are in @xmath591    the tile @xmath592 is matched by @xmath593 therefore @xmath594 } x_{i_{s-1 } } x_{i_{t+1 } } x_{i'_{t'+1 } } } { { x_{i_t } } \\left (    \\displaystyle \\prod_{j = k+1}^s x_{i_j }    \\right )   \\left (   { \\displaystyle \\prod_{\\tau \\in \\partial { \\mathcal{g}}}}x_{\\tau }   \\right ) } .\\ ] ] note that @xmath595 appears in both products in the denominator and once in the numerator .",
    "to finish the proof in this case , it suffices to show that @xmath596 } x_{i_{s-1 } } x_{i_{t+1 } } x_{i'_{t'+1 } } } \\left (    \\displaystyle \\prod_{j = k+1}^s x_{i_j }    \\right )   \\left (   { \\displaystyle \\prod_{\\tau \\in \\partial { \\mathcal{g}}}}x_{\\tau }   \\right).\\ ] ] again we proceed by induction on @xmath597 if @xmath598 then @xmath6 consists of a single tile and the statement follows simply by computing @xmath599 } x_{i_{s-1 } } x_{i_{t+1 } } x_{i'_{t'+1 } } & \\\\",
    "x({\\mathcal{g } } ) & = & x_{i_s } = x_{i_t } & x({\\widetilde { \\mathcal{g } } } ) & = & \\displaystyle \\prod_{j = k+1}^s x_{i_j}. \\end{array}\\ ] ]    suppose now that @xmath573 then @xmath600    on the other hand , except for the four extremal edges with weights @xmath601},$ ] @xmath602 and @xmath603 every boundary edge of @xmath6 has weight @xmath604 @xmath605 or @xmath577 the weights @xmath578 appear exactly twice and @xmath545 and @xmath547 exactly once .",
    "thus @xmath606 } x_{i_{s-1 } } x_{i_{t+1 } } x_{i'_{t'+1}}\\end{aligned}\\ ] ] and this shows equation ( [ eq6 ] ) . the cases where @xmath607 or @xmath457 are similar .",
    "now let @xmath251 and @xmath250 be two arcs which cross in a triangle @xmath228 with an empty overlap .",
    "we may assume without loss of generality that @xmath228 is the first triangle @xmath250 meets .",
    "let @xmath516 and @xmath517 be the corresponding cluster variables and @xmath27 and @xmath28 be their associated snake graphs , respectively .",
    "we know from theorem [ smoothing2 ] that the snake graphs of the arcs obtained by smoothing the crossing of @xmath251 and @xmath250 are given by the resolution @xmath608 of the grafting of @xmath28 on @xmath27 in @xmath85 where @xmath80 is such that @xmath475 and , if @xmath609 then @xmath84 is the unique side of @xmath228 which is not crossed neither by @xmath251 nor @xmath426    the edge of @xmath83 which is the glueing edge for the grafting is called the _",
    "grafting edge_. we say that the grafting edge is _ minimal _ if it belongs to the minimal matching on @xmath79    recall that @xmath608 is a pair @xmath610 let @xmath611 where    @xmath612    [ laurent2 ] with the notation above , we have @xmath613    the cases @xmath158 and @xmath476 are symmetric and therefore we consider only the case @xmath614 by definition ,    @xmath615    and from the construction of @xmath608 in definition [ grafting ] , we see @xmath616 where @xmath617 is the least integer such that @xmath618 if such a @xmath485 exists ; and @xmath619 otherwise , and @xmath620 where @xmath621 is the largest integer such that @xmath622 if such a @xmath491 exists ; and @xmath623 otherwise .",
    "_ suppose first that @xmath624 using the bijection @xmath625 of theorem [ bijections ] , we obtain @xmath626    therefore , in case 1 , the statement follows from the following lemma .",
    "[ lem 75 ]    * if @xmath534 then @xmath627 * if @xmath628 then @xmath629    \\(a ) in the operation @xmath630 in the definition of @xmath631 we lose an edge of the matching ( the grafting edge ) with weight @xmath632 , see figure  [ sigma ] .",
    "the map @xmath633 is given by the first three cases of @xmath634 in figure  [ sigma ] . in each of these cases , the north east vertex of the tile @xmath83 in @xmath27 is matched in @xmath303 by an edge of @xmath635 the subgraph @xmath636 $ ] is a zigzag subgraph of @xmath64 thus , on @xmath637 $ ] , the matching @xmath303 is uniquely determined by the fact that the north east vertex of @xmath83 is matched in @xmath635 indeed , the matching is as in the left picture of figure [ figlem75 ] .",
    "furthermore , the weight of @xmath303 on @xmath638 is equal to @xmath639 therefore @xmath640 where the @xmath632 comes from the operation @xmath641 moreover , on @xmath642 the matching @xmath303 is the minimal matching , if the grafting edge is minimal , and @xmath303 is the maximal matching , otherwise .",
    "thus @xmath643 which is exactly the definition of @xmath644 this completes the proof of part ( a ) .",
    "\\(b ) in the operation @xmath645 in the definition of @xmath631 which is given by the last three cases in figure  [ sigma ] , we lose an edge ( the grafting edge ) with weight @xmath646 in each of the three cases in the definition of @xmath647 the northwest vertex of @xmath83 in @xmath27 is matched in @xmath303 by an edge of @xmath648 again , since the subgraph @xmath649 $ ] is a zigzag subgraph , then on @xmath650 the matching @xmath303 is uniquely determined . indeed",
    ", the matching is as in the right picture of figure [ figlem75 ] .",
    "furthermore , the weight of @xmath303 on @xmath650 is equal to @xmath651 moreover , on @xmath652 the matching @xmath303 is the maximal matching if the grafting edge is minimal , and the minimal matching otherwise .",
    "thus @xmath653 which is exactly the definition of @xmath654 moreover , comparing this situation to the two cases for @xmath655 above , we see that @xmath656 which completes the proof of part ( b ) .",
    "_ now suppose that @xmath98 using the bijection @xmath657 of theorem [ bijections ] and equations ( [ graft1 ] ) and ( [ graft2 ] ) , we obtain @xmath658 note that @xmath659 and @xmath660 in this case . therefore the statement follows from the following lemma .",
    "[ lem 76 ]    * if @xmath534 then @xmath661 * if @xmath536 then @xmath662    \\(a ) in the operation @xmath630 in the definition of @xmath631 we loose an edge of the matching with weight @xmath663 where @xmath84 is the grafting edge .",
    "since @xmath664 in this case , we get @xmath542    moreover , a direct inspection of the first three cases in figure [ sigma ] ( with the tile @xmath82 removed ) shows that @xmath665 and on the other hand @xmath666 since @xmath98    since @xmath667 the operation @xmath645 does not apply and @xmath668 is simply given by restricting @xmath303 to @xmath669 note that @xmath670 $ ] and @xmath671 $ ] is the zigzag graph shown on the left hand side of figure [ figlem56 ] .",
    "the matching @xmath303 is determined on @xmath671 $ ] by the initial condition given in the fifth case of figure [ sigma ] .",
    "similarly , @xmath672 $ ] and @xmath673 $ ] is shown on the right hand side of figure [ figlem56 ] . here",
    "the matching @xmath303 is determined by the initial condition as shown in figure [ figlem56 ] .",
    "it follows that @xmath674      as a corollary we obtain a new proof of the skein relations",
    ".    [ skein ] let @xmath251 and @xmath250 be two arcs which cross and let @xmath675 and @xmath676 be the two pairs of arcs obtained by smoothing the crossing .    * if @xmath251 and @xmath250 have a non - empty local overlap , then @xmath677 where @xmath518 is the closure of the overlap @xmath54 * if @xmath251 and @xmath250 have an empty local overlap , then @xmath678 where @xmath679 and @xmath680 are as in equation [ skeincoeff ] .",
    "first note that for any @xmath681 we have @xmath682    therefore in case ( a ) we have @xmath683 where the first equality and the last equality hold by equation ( [ eq skein 66 ] ) , the second equality by theorem [ laurent ] , and the third equality by definition .    in case",
    "( b ) we have @xmath684 where the first and the last equality hold by ( [ eq skein 66 ] ) , the second equality by theorem [ laurent2 ] , and the third equality by definition .",
    "in this section , we shall construct the inverse map @xmath685 of the map @xmath4 of theorem  [ bijections ] @xmath686          [ rho2 ] let @xmath6 be a snake graph with sign function @xmath23 and let @xmath105 be a perfect matching of @xmath6 which consists of boundary edges only .",
    "let @xmath691 be the set of all north and east edges of the boundary and @xmath692 the set of all south and west edges of the boundary .",
    "then @xmath693    we proceed by induction on the number of tiles , @xmath291 , in @xmath54 if @xmath694 then the matching consists of either the east and west edge or the north and south edge , and in both cases the result follows directly from the definition of sign functions .",
    "suppose @xmath695 and let @xmath696.$ ] we may assume without loss of generality that the tile @xmath697 lies east of the tile @xmath698 if @xmath105 contains the east edge of @xmath697 then @xmath699 $ ] is a perfect matching of @xmath700 the east edge of @xmath697 has the same sign as the north edge of @xmath701 and the result follows by induction .",
    "otherwise , @xmath105 contains the north and the south edge of @xmath697 and @xmath702\\cup \\",
    "{ \\mbox { east edge of $ g_{d-1}$ } \\}$ ] is a perfect matching of @xmath31 consisting of boundary edges . by induction",
    ", the east edge of @xmath701 has the same sign as all north and all east edges in @xmath703 the result follows now since the north edge of @xmath697 has the same sign as the east edge of @xmath701 and the opposite sign of the south of @xmath704      recall that @xmath439 is a pair @xmath705 where @xmath706 and @xmath486 overlap in @xmath54 let @xmath707 be such that @xmath708 \\cong { \\mathcal{g}}_4 [ u',v']$ ] is the overlap .",
    "let @xmath709 for @xmath710 we treat the cases @xmath711 and @xmath712 separately .        1 .",
    "[ a ] if the pair @xmath718 on @xmath719 , { \\mathcal{g}}_4[u'-1,u'+1])$ ] is one of the eight configurations in figure [ mu ] then let @xmath717 be @xmath720 , \\hspace{80pt } \\\\",
    "p_4[1,u'-1 ) \\cup \\mu_{u,2 } \\cup   p_3 ( u+1,d_3 ] ) \\end{aligned}\\ ] ] 2 .",
    "[ b ] if ( [ a ] ) does not apply , let @xmath126 be the least integer such that @xmath721 and the local configuration of @xmath718 on @xmath722 , { \\mathcal{g}}_4[u'+j , u'+j+1])$ ] is one of the four shown in figure [ figrho ] , if such a @xmath126 exists , then let @xmath717 be @xmath723 , \\hspace{80pt } \\\\",
    "p_4[1,u'+j-1 ) \\cup \\rho_{j,2 } \\cup   p_3 ( u+j+2,d_3 ] ) \\end{aligned}\\ ] ] 3 .",
    "[ c ] if ( [ a ] ) and ( [ b ] ) do not apply , lemma [ psi ] below implies that @xmath150 can be applied to the pair @xmath718 on @xmath724,{\\mathcal{g}}_4[v'-1,v'+1]),$ ] and we let @xmath717 be @xmath725 ,   p_4[1,v'-1 ) \\cup \\mu_{v,2 } \\cup   p_3 ( v+1,d_3 ] ) \\end{aligned}\\ ] ]      [ psi ] if ( [ a ] ) and ( [ b ] ) do not apply and @xmath729 then the local configuration of @xmath730 on @xmath724 , { \\mathcal{g}}_4[v'-1 , v'+1])$ ] is one of the eight cases on the left in figure [ mu ] , relabeling @xmath731 by @xmath732 , respectively , and rotating by 180@xmath733 .",
    "fix a sign function @xmath23 on the overlap @xmath6 and denote by @xmath734 the induced sign function on @xmath539 for @xmath735 since @xmath27 and @xmath28 cross in @xmath115 one of the conditions ( i ) or ( ii ) in definition [ crossing ] is satisfied .",
    "since @xmath715 and @xmath736 , we must have condition ( i ) , and , because of symmetry , we may assume that @xmath737 it follows from the definition of @xmath706 and @xmath486 that @xmath738 and @xmath739 in particular , we have      since ( [ a ] ) does not apply , the local configuration of @xmath718 on @xmath719 , { \\mathcal{g}}_4[u'-1,u'+1])$ ] is one of the three cases in figure [ mu2 ] , relabeling @xmath731 by @xmath741 , respectively , where we assume without loss of generality that @xmath742 $ ] is the zigzag graph and @xmath743 $ ] is the straight graph .",
    "in particular , the north edge of @xmath744 is contained in @xmath745 and @xmath746 equals @xmath747 on this edge , and the south edge of @xmath748 is contained in @xmath749 , and @xmath746 equals @xmath750 on this edge .",
    "now consider the local configuration at @xmath757 suppose first that @xmath758 $ ] is a zigzag graph . without loss of generality",
    "assume that @xmath759 lies east of @xmath760 , as in the following picture .    we know from equation ( [ * ] ) that @xmath761 this implies that @xmath746 equals @xmath747 on the north edge of @xmath762 and therefore the north edge of @xmath760 is an element of @xmath763 similarly , if the south edge of @xmath760 is a boundary edge , then it is in @xmath764 since it has sign @xmath765 ; if the south edge of @xmath760 is not a boundary edge , then @xmath766 is south of @xmath760 and the east edge of @xmath766 has sign @xmath747 , hence is in @xmath764 .",
    "it follows that the southwest corner of @xmath759 is matched by an edge not in @xmath759 .",
    "therefore the east edge of @xmath759 must be contained in @xmath763 this implies that the local configuration of @xmath718 on @xmath724 , { \\mathcal{g}}_4[v'-1,v'+1])$ ] is one of the eight configurations in figure  [ mu ] after rotating by @xmath767 and relabeling @xmath768 this proves the statement in this case .",
    "now assume that @xmath758 $ ] is straight",
    ". then @xmath769 $ ] is zigzag , and we know from equation ( [ * ] ) that @xmath770 then an argument similar to the one above shows that the east edge of @xmath771 belongs to @xmath772 and again we conclude that the local configuration is one of the eight in figure [ mu ] .    our next step is to define @xmath773 . if @xmath774 and @xmath775 then let @xmath776 be @xmath777 where @xmath241 is given by figure [ tau ] , and the pair @xmath778 is the unique completion of the matching on @xmath779 given by lemma [ eta ] below .",
    "the uniqueness of @xmath786 and @xmath787 follows from the simple fact that if one chooses an edge @xmath788 in the first tile of a snake graph then there is a unique way to complete it to a perfect matching consisting only of boundary edges , except possibly for the first edge @xmath789 indeed , for example if @xmath790 the matching of the tile @xmath791 is given by @xmath782 , and there is one and only one choice to complete a matching on the tile @xmath744 using boundary edges only .",
    "assume @xmath792 and @xmath793 .",
    "there exists a unique way @xmath786 to extend @xmath794 into @xmath6 using only boundary edges .",
    "we need to check that @xmath786 is compatible with @xmath795 .",
    "if @xmath796 , there is nothing to show , so suppose @xmath797 .",
    "recall that we assume @xmath714 . since @xmath706 and @xmath486 overlap in @xmath6 , we have @xmath798 , and since @xmath799 do not cross in @xmath6 , we have @xmath800 @xmath801 , by definition [ crossing ] . then , using the definition of @xmath799 , we have              moreover if @xmath810 is west of @xmath808 then the north edge of @xmath810 is not in @xmath786 , since its sign is @xmath765 .",
    "similarly , if @xmath809 is east of @xmath808 , see the right picture in the figure above , then the north and south edges of @xmath808 are not in @xmath786 .",
    "moreover , if @xmath810 is south of @xmath808 then the east edge of @xmath810 is not in @xmath786 , since its sign is @xmath765 .",
    "this shows that the completion @xmath786 is compatible with @xmath811    similarly , since @xmath583 is matched by @xmath812 the west edge of @xmath813 is not in @xmath591 therefore @xmath814 therefore @xmath786 and @xmath787 are complementary on the overlap @xmath54 again one can show that @xmath787 is compatible with @xmath815 using the sign conditions .",
    "the cases @xmath726 or @xmath816 are similar .",
    "note that if @xmath726 and @xmath817 , the matching @xmath552 is defined by @xmath786 only and , in this case , the complementarity condition is necessary for the uniqueness of the pair @xmath778 .",
    "lemma [ psi ] implies that @xmath839 is a perfect matching of @xmath525 , if @xmath711 , and , for @xmath712 , this follows directly from the definition . therefore to show that @xmath838 is well - defined it only remains to prove the following lemma .      if @xmath711 , this follows from lemma [ eta ] .",
    "suppose now that @xmath829 if @xmath842 and @xmath843 we only need to check that @xmath831 is well - defined on the tiles @xmath83 and @xmath813 of @xmath27 and @xmath406 respectively , which form the overlap .",
    "the local configuration of @xmath844 $ ] and @xmath845 $ ] is as follows . @xmath846",
    "the south vertices of @xmath83 are matched by edges of @xmath791 and the north vertices are matched by the edges of @xmath847 hence , this yields a matching on @xmath79 a similar argument works for @xmath28 .    now suppose @xmath848 notice that we still assume @xmath829 then by definition of @xmath713 in this case , we have @xmath849 observe that @xmath850 yields a matching on @xmath27 by completion with @xmath851 now we need to show that @xmath852 is a matching of @xmath57    since we have @xmath853 it follows that @xmath854 and @xmath855 in definition [ resolution ] , and therefore @xmath856 $ ] where @xmath857 is the largest integer such that @xmath858 it follows that the subgraph @xmath859 $ ] is a zigzag subgraph of @xmath28 and thus the graph @xmath28 has the shape , shown in figure [ figlem34 ] .",
    "note that @xmath845 $ ] is a straight subgraph .",
    "moreover @xmath860 $ ] is matched by @xmath861 and the tile @xmath813 is partially matched by @xmath862 on the remaining zigzag graph @xmath859 $ ] there is a unique completion @xmath787 consisting of all west and all south edges on the boundary and the north edge of @xmath583 , see figure [ figlem34 ] .",
    "now let @xmath870 such that @xmath871 this means that @xmath872 is defined by case ( iv ) of the definition of @xmath873 in particular , the operation @xmath687 does not apply to the pair @xmath155 and hence lemma [ rho ] implies that @xmath155 consists of boundary edges on @xmath6 and are complementary . let us assume first that @xmath874 and @xmath875 and that @xmath876 . then @xmath877 \\sqcup p_2[1,s'-1 ] \\backslash \\ { a_5 \\ } , p_2[t'+1,d ' ] \\sqcup p_1[t+1,d ] \\backslash \\ { a_6 \\ } ) \\end{aligned}\\ ] ] where @xmath134 ( respectively @xmath135 ) is the glueing edge in the definition of @xmath136 ( respectively @xmath137 ) .",
    "since @xmath878 we have @xmath714 and we must use the definition of @xmath713 given in section  [ sect 71 ] . note that @xmath879   \\sqcup p_2[1,s'-1 ] \\backslash \\ { a_5 \\})$ ] is exactly @xmath880 $ ] and that @xmath881   \\sqcup p_1[t+1,d ] \\backslash \\ { a_6 \\})$ ] is exactly @xmath882,$ ] since @xmath883 since the completions @xmath884 are unique",
    ", it follows from lemma [ eta ] that the first component of @xmath885 is equal to @xmath806 by a similar argument one can show that the second component of @xmath886 is @xmath591 if @xmath887 then the overlap consists of a single tile , and the result follows from lemma [ lem 34 ] .    in the cases @xmath888 or @xmath889 a similar argument shows the same result . note that the edges lost by restricting to @xmath890 in the definition of @xmath4 are recovered in the completions @xmath786 and @xmath787 in the definition of @xmath891 this shows that @xmath892 is the identity .",
    "\\(b ) using ( a ) and the fact that @xmath6 is a snake graph , it suffices to show that @xmath552 and @xmath553 do not have an edge of the first tile of @xmath6 in common .",
    "recall that the first tile of @xmath6 is denoted by @xmath83 in @xmath27 and @xmath813 in @xmath28 and that @xmath552 is determined on @xmath83 by @xmath897 we consider the first case of figure [ tau ] .",
    "the following two subcases are illustrated in figure [ tau 1 ] .",
    "on the left hand side , @xmath844 $ ] is a zigzag graph and @xmath845 $ ] is straight . by definition of @xmath898 @xmath552",
    "contains the south edge of @xmath83 and therefore it also contains the north edge of @xmath83 .",
    "again by definition of @xmath241 , @xmath553 contains the north edge of @xmath583 . to see this one needs to flip the rightmost picture in the first row of figure [ tau ] and relabel @xmath126 with @xmath899 and @xmath291 with @xmath290 .",
    "hence @xmath553 also contains the south edge @xmath900 in particular , this shows ( b ) in this case .    on the right hand side of figure [ tau 1 ] , @xmath844 $ ] is straight and @xmath845 $ ] is zigzag and again @xmath552 contains the south edge of @xmath83 by definition of @xmath241 but now it contains the west edge of @xmath82 , whereas @xmath553 contains the north edge of @xmath583 and the east edge of @xmath901 this shows ( b ) in this case .",
    "we return to proving that @xmath902 . using lemma [ image psi ] ,",
    "we show first that @xmath903 does not satisfy conditions ( i),(ii),(iii ) of the definition of the map @xmath873 suppose first that @xmath904 and @xmath905 , and @xmath711 .",
    "lemma [ image psi ] part ( a ) excludes cases 4 and 7 of figure [ mu ] and part ( b ) excludes cases 2 , 3 , and 6 . in case 5 of the figure , the matching @xmath552 contains the south edge of @xmath83 and therefore the matching @xmath861 must be as in the first case of figure [ tau ] . but this implies that @xmath553 contains the north edge of @xmath584 a contradiction .",
    "finally , in cases 1 and 8 of figure [ mu ] the matching @xmath552 contains the west edge of the tile @xmath83 which is not possible by the definition of @xmath906 this shows that @xmath155 does not satisfy condition ( i ) of the definition of @xmath873    to show that @xmath155 does not satisfy condition ( ii ) , it suffices to observe that part ( a ) of lemma [ image psi ] excludes the first three cases of figure [ figrho ] , and part ( b ) excludes the fourth case .    to show that @xmath155 does not satisfy condition ( iii ) , we need to exclude all cases of figure [ mu ] but relabeling @xmath907 and rotating each graph by @xmath908 again , part ( a ) of lemma [ image psi ] excludes cases 4 and 7 , part ( b ) excludes cases 2 , 3 and 6 . in case 5",
    ", @xmath552 contains the common edge of @xmath808 and @xmath909 which implies that the matching @xmath910 must be as in the second case of figure [ tau ] .",
    "but then @xmath553 does not contain the common edge of @xmath911 and @xmath912 a contradiction .",
    "finally , in cases 1 and 8 of figure [ mu ] , @xmath552 would contain the east edge of @xmath808 which is not possible by the definition of @xmath906      if @xmath712 then the operation @xmath151 does not apply to @xmath831 , because , by definition of @xmath241 , the vertices on the tiles @xmath83 and @xmath813 are matched by edges of the tiles @xmath915 , @xmath916 , @xmath748 , but each of the pictures on the right hand side of figure [ nu ] contains at least one edge of @xmath83 or @xmath813 .    in the case @xmath917 and",
    "@xmath817 the result follows by a similar argument .",
    "this shows that @xmath918 is the identity and thus both @xmath4 and @xmath713 are bijections ; which completes the proof of part ( 1 ) of theorem [ bijections ] .",
    "let @xmath924 be @xmath925 \\cup ( \\sigma^{-1}_{s,3})_1 \\cup \\eta_1 \\cup p_4[1,d_4 ] , \\",
    "\\eta_2 \\cup p_3(s+1,d_3 ] ) & \\mbox { if } s \\neq d \\\\   & ( p_3[1,s-1 ] \\cup ( \\sigma^{-1}_{s,3})_1 \\cup \\eta_1 , \\ \\eta_2",
    "\\cup p_3(s+1,d_3 ] ) & \\mbox { if } s = d\\end{aligned}\\ ] ] where @xmath786 is the unique completion using only boundary edges of @xmath27 and @xmath787 is the unique completion using only boundary edges of the first tile of @xmath57    let @xmath926 be @xmath927 , \\ p_6[1,d ' ) \\cup \\eta_2 ) & \\mbox { if } s \\neq d,\\\\   & ( p_5 \\cup \\eta_1 , \\",
    "p_6 \\cup \\eta_2 ) & \\mbox { if } s = d,\\end{aligned}\\ ] ] where @xmath786 is the unique completion using only boundary edges of @xmath27 and @xmath787 the unique completion using only boundary edges of the first tile of @xmath57    since the completions in the definition of @xmath713 are unique it follows immediately from the construction that @xmath918 is the identity and @xmath892 is the identity .",
    "this completes the proof of theorem  [ bijections ] .",
    "a. berenstein , s. fomin and a. zelevinsky , cluster algebras .",
    "iii . upper bounds and double bruhat cells . _ duke math . j. _ * 126 * , ( 2005 ) , no .",
    "a. felikson , m. shapiro and p. tumarkin , skew - symmetric cluster algebras of finite mutation type , preprint , arxiv:0811.1703 .",
    "a. felikson , m. shapiro and p. tumarkin , cluster algebras of finite mutation type via unfoldings , _ int .",
    "res . not .",
    "_ no 8 , ( 2012 ) , 17681804 .",
    "a. felikson , m. shapiro and p. tumarkin , cluster algebras and triangulated orbifolds , _ adv .",
    "math . _ * 231 * , 5 , ( 2012 ) , 29533002 .      v. fock and a. goncharov , cluster ensembles , quantization and the dilogarithm , _ ann .",
    "ec . norm .",
    "( 4 ) 42 , ( 2009 ) , no . 6 , 865930 .",
    "s. fomin , m. shapiro and d. thurston , cluster algebras and triangulated surfaces .",
    "part i : cluster complexes , _ acta math . _",
    "* 201 * ( 2008 ) , 83 - 146 .",
    "s. fomin and d. thurston , cluster algebras and triangulated surfaces .",
    "part ii : lambda lengths , preprint ( 2008 ) , http://www.math.lsa.umich.edu/@xmath928fomin/papers/cats2.ps    s. fomin and a. zelevinsky , cluster algebras i : foundations , _",
    "soc . _ * 15 ( 2002 ) , 497529 .",
    "s. fomin and a. zelevinsky , cluster algebras ii .",
    "finite type classification . _",
    "_ * 154 * ( 2003 ) , no .",
    ". s. fomin and a. zelevinsky , cluster algebras iv : coefficients , _ compositio mathematica _ * 143 ( 2007 ) , 112 - 164 .",
    "m. gekhtman , m. shapiro and a. vainshtein , cluster algebras and weil - petersson forms , duke math .",
    "j. * 127 * ( 2005 ) , 291311 .",
    "lusztig , canonical bases arising from quantized enveloping algebras .",
    "_ j. amer .",
    "soc _ * 3 * ( 1990 ) , 447498 . * *            g. musiker and l. williams , matrix formulae and skein relations for cluster algebras from surfaces , preprint , arxiv:1108.3382 .",
    "j. propp , the combinatorics of frieze patterns and markoff numbers , preprint ( 2005 ) , arxiv : math.co/0511633 r. schiffler , a cluster expansion formula ( @xmath929 case ) , electron .",
    "j. combin . 15",
    "( 2008 ) , # r64 1 .",
    "r. schiffler , on cluster algebras arising from unpunctured surfaces ii , _ adv .",
    "_ * 223 * , ( 2010 ) , 18851923 .",
    "r. schiffler and h. thomas , on cluster algebras arising from unpunctured surfaces , _ int .",
    "res . not .",
    "17 , ( 2009 ) , 31603189 ."
  ],
  "abstract_text": [
    "<S> snake graphs appear naturally in the theory of cluster algebras . for cluster algebras from surfaces , </S>",
    "<S> each cluster variable is given by a formula which is parametrized by the perfect matchings of a snake graph . </S>",
    "<S> in this paper , we identify each cluster variable with its snake graph , and interpret relations among the cluster variables in terms of these graphs . </S>",
    "<S> in particular , we give a new proof of skein relations of two cluster variables . </S>"
  ]
}