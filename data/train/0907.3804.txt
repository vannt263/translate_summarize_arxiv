{
  "article_text": [
    "higher - order unification is the problem given an equation @xmath0 containing free variables is there a solution substitution @xmath1 such that @xmath2 and @xmath3 have the same normal form ?",
    "the terms @xmath4 and @xmath5 are from the simply typed lambda calculus and the same normal form is with respect to @xmath6-equivalence .",
    "higher - order matching is the particular instance when the term @xmath5 is closed ; can @xmath4 be pattern matched to @xmath5 ?",
    "although higher - order unification is undecidable ( even if free variables are only second - order @xcite ) , higher - order matching was conjectured to be decidable by huet @xcite .",
    "if matching is decidable then it is known to have non - elementary complexity @xcite .",
    "decidability has been proved for the general problem up to order @xmath7 ( by showing decidability of observational equivalence of lambda terms ) and for various special cases @xcite .",
    "comon and jurski define tree automata that characterise all solutions to a @xmath7th - order problem , thereby , showing that they form a regular set @xcite .",
    "loader showed that matching is undecidable for the variant definition of the same normal form that only uses @xmath8-equivalence by encoding lambda definability as matching @xcite : see @xcite for a proof that uses the halting problem .",
    "an excellent source of information about unification and matching is @xcite .    in this paper",
    ", we confirm huet s conjecture that higher - order matching is decidable .",
    "the proof first appeals to padovani s and schubert s reduction of matching to the ( dual ) interpolation problem @xcite and is then in the tradition described by dowek @xcite : `` these [ decidability ] proofs are rather technical @xmath9 because they all proceed by transforming potential solutions into smaller ones cutting and pasting term pieces '' .",
    "the proof method is partly inspired by model - checking games ( such as in @xcite ) where a model , a transition graph , is traversed relative to a property and players make choices at appropriate positions .",
    "given a ( dual ) interpolation problem @xmath10 , we define a game where the model is a closed lambda term @xmath4 in @xmath11-long normal form that is a potential solution to @xmath10 ; game - playing moves around the term @xmath4 ( dependent on @xmath10 ) .",
    "the game captures the dynamics of @xmath8-reduction on @xmath4 without changing it ( using substitution ) . unlike model - checking games",
    ", play may arbitrarily jump around a term because of binding .",
    "the principal virtue of the game is that small pieces of a solution term can be understood in terms of sequences of positions in the game and how they , thereby , contribute to solving the problem @xmath10 .",
    "we identify regions of a term , `` tiles '' , and classify them according to these intervals of play .",
    "two transformations that preserve solution terms are introduced . with these , we show that @xmath12rd - order matching is decidable using the small model property : if there is a solution to a problem then there is a small solution to it . in @xcite",
    ", we introduced the game and two more transformations that uniformly solved known subcases of matching ( including @xmath7th - order ) .",
    "the key observation for decidability at @xmath12rd - order is the tree - model property : each play descends a branch of a solution term because of the paucity of binding . for higher - orders ,",
    "the idea is to induce as far as possible the tree - model property , to tame play jumping within a term due to binding .",
    "the mechanism for doing this involves unfolding a lambda term with respect to game playing which is analogous to unravelling a transition system in modal logic .",
    "unfolding involves `` tile lowering '' , copying regions of a term down its branches .",
    "the proof of decidability at higher - order uses unfolding and from its combinatorial properties the small model property follows .    in section  [ section2 ]",
    "we introduce higher - order matching and ( dual ) interpolation and in section  [ prelim ] we define some basic ingredients of the problem . in section  [ treecheck ]",
    "we describe the tree - checking game that characterises ( dual ) interpolation and in section  [ props ] some properties of the resulting game are highlighted . in section  [ tiles ]",
    "we identify tiles as regions of terms and define their plays and in section  [ third ] we show that @xmath12rd - order matching is decidable using a tree model property of game playing ; the first step in this argument is to define a partition of each play in a game .",
    "the definition of partition is extended to all orders in section  [ unfold ] .",
    "this then forms the basis for the notion of tile unfolding that is described in section  [ fifth ] and how it leads to decidability of matching via the small model property .",
    "the complexity analysis is the size of a smallest term , if there is one , that solves a problem .",
    "however , the bounds are extremely coarse . finally , we conclude with general remarks and ideas for future work .",
    "simple types are generated from a single base type @xmath13 using the binary @xmath14 operator . for simplicity , we assume only one base type : everything that is to follow can be extended to arbitrary many base types .",
    "a type is @xmath13 or @xmath15 where @xmath16 and @xmath17 are types . if @xmath18 then it has the form @xmath19 , assuming @xmath14 associates to the right , which we abbreviate to @xmath20 following ong @xcite .",
    "a standard definition of _ order _ is : the order of @xmath13 is @xmath21 and the order of @xmath22 is @xmath23 where @xmath24 is the maximum of the orders of the @xmath25s .",
    "terms of the simply typed lambda calculus are built from a countable set of typed variables @xmath26 and constants @xmath27 ( so , each variable and constant has a unique type ) .",
    "the set of simply typed lambda terms is the smallest set @xmath28 such that    1 .",
    "if @xmath29 ( @xmath30 ) has type @xmath16 then @xmath31 @xmath32 , 2 .   if @xmath33 and @xmath31 then @xmath34 , 3 .   if @xmath35 and @xmath36 then @xmath37 .",
    "the _ order _ of a typed term @xmath38 is the order of its type @xmath16 .    in a sequence of unparenthesised applications ,",
    "we adopt the usual convention that application associates to the left ; so @xmath39 is @xmath40 .",
    "the usual definitions of free and bound variable occurrences and when a typed term is closed are assumed .",
    "moreover , we assume the standard definitions and properties of @xmath41-equivalence , @xmath8-reduction , @xmath11-reduction and @xmath42-equivalence , @xmath43 , such as strong normalisation of @xmath8-reduction : see for instance , barendregt @xcite .    a _ matching problem",
    "_ is an equation @xmath44 where @xmath45 and @xmath5 is closed .",
    "the _ order _ of the problem is the maximum of the orders of the free variables @xmath46 in @xmath47 .",
    "solution _ is a sequence of terms @xmath48 such that @xmath49 where @xmath50 is the simultaneous substitution of @xmath51 for each free occurrence of @xmath52 in @xmath47 for each @xmath53 .",
    "the decision question is : given a matching problem , does it have a solution ? it suffices to consider the case when @xmath54 : a problem @xmath44 of type @xmath55 reduces to the equivalent problem @xmath56 of type @xmath13 where each @xmath57 is a fresh constant which is not allowed in solution terms .",
    "equivalent variants of matching include the `` range question '' and the `` pattern matching problem '' @xcite .    as described by huet @xcite , every simply typed lambda calculus term is @xmath6-equivalent to a unique term in _ @xmath11-long normal form _ ,    1 .",
    "if @xmath58 then it is @xmath59 where @xmath5 is a constant or a variable , or @xmath60 where @xmath61 is a constant or a variable and each @xmath62 is in @xmath11-long normal form , 2 .   if @xmath63 then @xmath4 is @xmath64 where each @xmath65 and @xmath66 is in @xmath11-long normal form .    throughout , we write @xmath67 for @xmath68 .",
    "a term is _ well - named _ if each occurrence of a variable @xmath69 within a lambda abstraction is unique . in the following",
    ", we assume that a term in _ normal form _ is always in @xmath11-long normal form ; consequently , @xmath8-equality and @xmath70-equality coincide ( for instance , see @xcite ) .",
    "assume @xmath59 and each @xmath71 , @xmath72 , is a closed term in normal form and @xmath73 .    1 .",
    "@xmath74 is an _",
    "interpolation equation_. 2 .",
    "@xmath75 is an _",
    "interpolation disequation_. 3 .   a finite family of interpolation equations @xmath76 , where @xmath77 , with the same free variable @xmath29 , is an _ interpolation problem _ @xmath10 .",
    "4 .   a finite family of interpolation equations and disequations @xmath78 , when @xmath77 , with the same free variable @xmath29 and where each @xmath79 , is a _ dual interpolation problem _ @xmath10 .",
    "the type of problem @xmath10 is that of @xmath29 and the order of @xmath10 is the order of @xmath29 .",
    "a _ solution _ of @xmath10 of type @xmath16 is a closed term @xmath38 in normal form such that for each equation @xmath80 and , in the case of dual interpolation , for each disequation @xmath81 .",
    "we write @xmath82 if @xmath4 is a solution of @xmath10 .",
    "conceptually , ( dual ) interpolation is simpler than matching because there is a single variable @xmath29 that appears at the head of each ( dis)equation .",
    "however , schubert shows that a matching problem of order @xmath83 reduces to an interpolation problem of order at most @xmath84 and padovani shows it reduces to a dual interpolation problem of order @xmath83 , @xcite .",
    "consequently , the higher - order matching problem reduces to the following decision question .",
    "* decision question * given a ( dual ) interpolation problem @xmath10 , is there a term @xmath82 ?    it is this question that is solved positively in the rest of the paper . throughout , we assume a fixed dual interpolation problem @xmath10 of type @xmath16 whose order is greater than @xmath21 ( as an order @xmath21 problem is easily decided ) .",
    "a problem @xmath10 has the form @xmath85 , @xmath86 , where the normal form terms @xmath87 and @xmath88 are well - named and no pair share bound variables .",
    "we start with some examples of interpolation problems .",
    "[ examp1 ] the following is a @xmath7th - order problem @xmath89 with @xmath90 and @xmath91 .",
    "[ examp2 ] the problem @xmath92 has order @xmath12 where @xmath29 has type @xmath93 and @xmath94 assuming @xmath95 .",
    "[ examp3 ] the next equation , due to luke ong , is @xmath96th - order @xmath97 with @xmath98 and @xmath99 .",
    "a right term @xmath5 of an interpolation ( dis)equation @xmath100 may contain bound variables , such as @xmath101 of example  [ examp2 ] .",
    "let @xmath102 be the set of bound variables in @xmath5 and let @xmath103 be a fresh set of constants where each @xmath104 has the same type as @xmath52 .",
    "the _ ground closure _ of a closed term @xmath105 , whose bound variables belong to @xmath106 , with respect to @xmath107 , written cl@xmath108 , is defined inductively :    1 .   if @xmath109 then cl@xmath110 , 2 .   if @xmath111 then cl@xmath112 , 3 .",
    "if @xmath113 then cl@xmath114 .",
    "if @xmath115 then its ground closure with respect to @xmath116 is the set of terms @xmath117 .",
    "the ground closure of @xmath118 of example  [ examp3 ] with respect to the empty set is its subterms @xmath119 .",
    "an element of a ground closure always has base type ; in the case of a right term @xmath5 of an interpolation ( dis)equation , its ground closure with respect to a set of constants consists of all subterms of type @xmath13 when free variables @xmath52 are replaced with constants @xmath104 of the same type .",
    "we also identify subterms of left terms @xmath120 of a ( dis)equation @xmath121 relative to the finite set @xmath107 of constants for @xmath5 .",
    "such a subterm may contain free variables and may have a higher - order type .",
    "the _ subterms _ of @xmath105 relative to @xmath107 , written sub@xmath122 , is defined inductively using an auxiliary set sub@xmath123 :    1 .   if @xmath105 is a variable or a constant then sub@xmath122 @xmath124 sub@xmath123 @xmath124 @xmath125 , 2 .",
    "if @xmath105 is @xmath126 then sub@xmath122 @xmath124 sub@xmath123 @xmath124 @xmath127 , 3 .",
    "if @xmath105 is @xmath128 then sub@xmath122 @xmath124 sub@xmath123 @xmath124 @xmath129 , 4 .",
    "if @xmath105 is @xmath130 then sub@xmath122 @xmath124 @xmath131 and sub@xmath123 @xmath124 + @xmath132 .",
    "the subterms of @xmath133 relative to @xmath134 of example  [ examp2 ] is @xmath135 .",
    "if instead of @xmath133 the left term of this example is @xmath136 , then sub@xmath137 is @xmath138 : bound variables directly beneath a constant are replaced in their body by constants in @xmath107 with the same type .    given the problem @xmath10 with ( dis)equations @xmath139 , @xmath77 , for each @xmath140 let @xmath141 be the ( possibly empty ) set of bound variables in @xmath88 and @xmath142 be a corresponding set of new constants ( that do not occur in @xmath10 ) , the _ forbidden _ constants .",
    "we are interested in closed terms @xmath4 in normal form where @xmath82 and @xmath4 does not contain forbidden constants .",
    "[ def3 ] assume @xmath10 is the fixed dual interpolation problem of type @xmath16 .    1 .",
    "@xmath143 is the set of _ subtypes _ of @xmath16 including @xmath16 and the subtypes of subterms of @xmath88 .",
    "2 .   for each @xmath140 ,",
    "right subterms _ are @xmath144 @xmath124 cl@xmath145 and @xmath146 .",
    "3 .   for each @xmath140 ,",
    "the _ left subterms _ are @xmath147 @xmath124 @xmath148 and @xmath149 .",
    "the _ arity _ of @xmath10 , @xmath41 , is the largest width @xmath24 of any type @xmath150 .",
    "clearly , the sets @xmath143 , @xmath151 and @xmath152 are each finite and @xmath41 is bounded with respect to a given problem @xmath10 . in example  [ examp1 ] , the set of forbidden constants @xmath153 is empty and @xmath151 is @xmath154 , @xmath155 is @xmath156 and its arity is @xmath157 .",
    "the _ right size _",
    ", @xmath158 , of a right term @xmath5 relative to its constants @xmath107 is defined inductively :    1 .   if @xmath159 then @xmath160 , 2 .   if @xmath161 then @xmath162 , 3 .   if @xmath163 , then @xmath164 .    [ delta ]",
    "the _ right size _ for @xmath10 , @xmath165 , is @xmath166 of its right terms .",
    "for instance , @xmath167 and @xmath168 .",
    "if the right size @xmath165 for @xmath10 is @xmath169 , then each ( dis)equation in @xmath10 has restricted form @xmath170 where @xmath171 .",
    "padovani proved that dual interpolation is decidable for this special case , the _ atoms _ case , by showing decidability of observational equivalence within minimal models @xcite .",
    "we introduce a game - theoretic characterisation of dual interpolation inspired by model - checking games ( such as in @xcite ) where a model , a transition graph , is traversed relative to a property and players make choices at appropriate positions .",
    "similarly , in the following game the model is a putative solution term @xmath4 that is traversed relative to the dual interpolation problem .",
    "the central motivation is to model the dynamics , @xmath8-reduction , without changing @xmath4 by substituting into it . because of binding play may jump around @xmath4 .",
    "a potential solution term @xmath4 for @xmath10 has the right type , is in normal form , is well - named ( with variables that are disjoint from variables in @xmath10 ) and does not contain forbidden constants .",
    "term @xmath4 is represented as a tree , tree@xmath172 . if @xmath4 is @xmath173 or @xmath174 then tree@xmath172 is the single node labelled with @xmath4 . in the case of @xmath175 when @xmath5 is a variable or a constant , we assume that a dummy lambda with the empty sequence of variables is placed directly above any subterm @xmath176 in its tree representation . with this understanding , if @xmath4 is @xmath175 then tree@xmath172 consists of the root node labelled @xmath5 and @xmath24-successors , tree@xmath177,@xmath9,tree@xmath178 .",
    "we use the notation @xmath179 to represent that tree @xmath180 is the @xmath140th successor of the root node of @xmath4 .",
    "we also use the standard abbreviation @xmath181 for @xmath182 for some @xmath183 , so @xmath184 is possibly the empty sequence of variables .",
    "if @xmath4 is @xmath185 then tree@xmath172 consists of the root node labelled @xmath181 and a single successor tree@xmath186 , so @xmath187 . for ease of exposition , we allow @xmath4 to range over lambda terms",
    ", their trees and their root nodes : the context will make it clear which is meant .",
    "the introduction of dummy lambdas is a slight extension to @xmath11-long normal form ; they make term trees more homogeneous , allow for an easier analysis of game playing and , as we shall see in later sections , they are useful for individuating regions of a term and for defining region transformations .    [ examp41 ] a solution @xmath4 from @xcite for the problem of example  [ examp1 ] is the following term @xmath188 . for instance , if @xmath189 then the normal form of @xmath190 is @xmath191 .",
    "@xmath192 the tree for @xmath4 ( without indices on edges ) is depicted in figure  [ ex1 ] .",
    "for instance , in this tree @xmath193 and @xmath194 .",
    "each node ( which we have uniquely identified with a natural number ) is labelled with a @xmath195 , a variable or a constant .",
    "a node labelled with a constant or variable of type @xmath13 is a leaf of the tree ( such as node @xmath196 ) .",
    "a node labelled with a higher - order constant or variable of type @xmath197 has precisely @xmath24-successor nodes each labelled with a @xmath181 ( which may be dummy ) .",
    "a node labelled with a @xmath195 has a single successor which is labelled with a constant or a variable . therefore ,",
    "every even level of the tree ( when the root is at level @xmath169 ) is a lambda node .    innocent game semantics following ong in @xcite provides a possible game - theoretic foundation for ( dual ) interpolation . given a potential solution term @xmath4 and a ( dis)equation @xmath198 there is the game board in figure  [ ex32 ]",
    ".       player opponent chooses a branch of @xmath88 .",
    "then , there is a finite play that starts at the root of @xmath4 and may repeatedly jump in and out of @xmath4 and in and out of the @xmath87 s . at a constant @xmath199 play ends . at other constants",
    "@xmath30 , player proponent tries to match opponent s choice of branch .",
    "proponent wins , when the play finishes , if the sequence of constants encountered matches the branch chosen by opponent ( assuming a mechanism for forbidden constants ) .",
    "play , for example , may reach @xmath200 in @xmath4 and then jump to @xmath87 , as it is this subtree that is applied to @xmath181 at the root of @xmath4 , and then when at @xmath201 in @xmath87 play may return to @xmath4 to an immediate successor of @xmath200 labelled @xmath195 ; play then may proceed to @xmath202 and return to a successor of @xmath201 in @xmath87 , and so on .",
    "game semantics models @xmath8-reduction on the fixed structure of figure  [ ex32 ] without changing it using substitution .",
    "this is the rationale for the tree - checking game .",
    "however , the game that we now define starts from the assumption that only @xmath4 is the common structure for the problem @xmath10 .",
    "moreover , in later sections , we shall define transformations on @xmath4 justified by game playing which introduces an asymmetry between it and the argument terms @xmath87 of @xmath10 which are fixed .",
    "consequently , we insist that play is always in the term @xmath4 . jumping in and out of the @xmath87 s",
    "is coded using states , as play traverses @xmath4 .",
    "the game also avoids the justification pointers of game semantics by appealing to iteratively defined look - up tables .    the tree - checking game @xmath203 is played by one participant , player @xmath204 , the _ refuter _ who attempts to show that @xmath4 is not a solution of @xmath10 .",
    "it appeals to a finite set of states involving elements of @xmath152 and @xmath151 from definition  [ def3 ] : @xmath152 are the subterms of the @xmath87 s and @xmath151 are those of the @xmath88 s , both modulo the forbidden constants",
    ". there are four kinds of state , as follows .    1 .",
    "an _ argument _ state has the form @xmath205 $ ] where each @xmath206 ( and @xmath24 can be @xmath169 ) and @xmath207 .",
    "such a state will only occur at a node in @xmath4 labelled @xmath208 where each @xmath209 has the same type as @xmath210 : @xmath211 are the subterms that are applied to the subterm rooted at @xmath212 .",
    "a state @xmath213 $ ] occurs at a node of @xmath4 labelled with a dummy lambda .",
    "2 .   a _ value _ state has the form @xmath214 $ ] where @xmath215 and @xmath207 . this state can only occur at a node of @xmath4 labelled with a variable @xmath69 which has the same type as @xmath216 : @xmath216 is the subterm of some @xmath87 that play at @xmath69 would jump to in game semantics .",
    "an _ empty _ state has the form @xmath217 $ ] where @xmath207 and can only occur at a node of @xmath4 labelled with a higher - order constant @xmath218 when @xmath219 has the form @xmath220 .",
    "a _ final _ state is either @xmath221 $ ] , winning for the refuter , or @xmath222 $ ] , losing for the refuter",
    ".    as play traverses @xmath4 , there are two kinds of free variables : those in the current subtree of @xmath4 ( such as @xmath200 in figure  [ ex32 ] ) and those in the left terms of a current argument or value state @xmath223 $ ] or @xmath214 $ ] ( such as @xmath201 in figure  [ ex32 ] ) . a free variable in a subtree of @xmath4",
    "is associated with a single left subterm ( an element of @xmath152 ) and a free variable in a left subterm @xmath216 of an argument or value state is associated with a unique subtree of @xmath4 .",
    "so , the game appeals to look - up tables or nested environments @xmath224 and @xmath225 at a position @xmath226 that are defined iteratively .",
    "[ defi42 ] the sets of partial mappings @xmath227 and @xmath228 are defined iteratively as follows .    1 .",
    "@xmath229 and @xmath230 where both @xmath231 and @xmath232 are empty ( that is , have no entries ) .",
    "2 .   for @xmath233",
    ", @xmath224 iff @xmath1 is a partial map from variables that are labels of nodes in @xmath4 to triples @xmath234 where @xmath215 , @xmath235 and @xmath236 .",
    "3 .   for @xmath233",
    ", @xmath225 iff @xmath237 is a partial map from variables that can occur in terms of @xmath152 to triples @xmath238 where @xmath180 is a subtree of @xmath4 , @xmath235 and @xmath239 .    a variable @xmath69 in @xmath4",
    "may be associated with a left subterm @xmath215 which contains free variables : hence , the need for @xmath240 to be a triple @xmath234 as @xmath237 records the values of the free variables in @xmath216 as determined at the earlier position @xmath241 : we include the position @xmath241 which is crucial to the understanding of game playing in later sections , when relationships between positions are analysed . similarly , a variable @xmath242 in a left subterm may be associated with a subtree of @xmath4 which contains free variables ; so , @xmath243 where @xmath1 has entries for the free variables in @xmath180 at the earlier position @xmath241 .",
    "initially , at the beginning of play when there are no free variables and no previous moves , @xmath244 and @xmath245 are both empty .",
    "the look - up tables play the same role as environments for abstract machines of the lambda calculus ( such as a krivine machine ) .",
    "so the game will simulate the evaluation of a branch of the normal form in the same way abstract machines compute closures .",
    "however , unlike these abstract machines , the game here essentially depends on @xmath11-long normal forms .",
    "a _ play _ of @xmath203 is a sequence of positions @xmath246 where    1 .",
    "each @xmath51 is a node of @xmath4 and @xmath247 is the root node of @xmath4 , 2 .",
    "each @xmath248 is a state , @xmath249 is a final state and @xmath250 is decided as follows : @xmath251 chooses a ( dis)equation @xmath252 in @xmath10 and @xmath253 $ ] , 3 .   for each @xmath140 , @xmath254 and @xmath255 , 4 .",
    "position @xmath256 , @xmath257 , is determined by a single move in figure  [ game ] from position @xmath258 according to the label at @xmath259 .",
    "a.   @xmath259 is labelled @xmath260 and @xmath261 .",
    "assume @xmath262 $ ] .",
    "+ then , @xmath263 such that @xmath264 , @xmath265 and @xmath266 , @xmath267 are defined by cases on the label at @xmath268 .",
    "1 .   @xmath199 .",
    "then , @xmath269 .",
    "if @xmath270 then @xmath271 $ ] else @xmath272 $ ] .",
    "2 .   @xmath273 .",
    "then , @xmath269 .",
    "if @xmath274 then @xmath275 $ ] else @xmath276 $ ] .",
    "3 .   @xmath277 . if @xmath278 , then @xmath279 and @xmath280 $ ] .",
    "b.   @xmath259 is labelled @xmath281 .",
    "assume @xmath282 $ ] .",
    "1 .   then , @xmath283 , @xmath269 and @xmath251 chooses @xmath284 and @xmath263 such that @xmath285 and @xmath266 is by cases on @xmath286 .",
    "+ @xmath287 . then @xmath288 $ ] .",
    "+ @xmath289 .",
    "then @xmath266 @xmath124 @xmath290 $ ] .",
    "c.   @xmath259 is labelled @xmath69 .",
    "assume @xmath291 $ ] .",
    "+ if @xmath292 then @xmath269 else @xmath293 and @xmath294 , @xmath295 , and @xmath296 .",
    "elements @xmath268 , @xmath266 and @xmath297 are by cases on @xmath216 . 1 .",
    "@xmath298 or @xmath299 where @xmath199 . then , @xmath300 and @xmath283 .",
    "+ if @xmath301 then @xmath302 $ ] else @xmath303 $ ] .",
    ". then @xmath283 .",
    "+ if @xmath305 then @xmath300 and @xmath306 $ ] else @xmath307 and @xmath251 chooses @xmath308 , and @xmath263 such that @xmath309 and @xmath266 is by cases on @xmath286 .",
    "+ @xmath287 . then @xmath288 $ ] .",
    ". then @xmath266 @xmath124 @xmath290 $ ] .",
    "3 .   @xmath311 or @xmath312",
    ". then @xmath300 and @xmath313 .",
    "+ if @xmath314 , then @xmath306 $ ] else @xmath315 and @xmath251 chooses @xmath284 and @xmath266 is by cases on @xmath286 .",
    "+ @xmath287 . then @xmath316 $ ] .",
    "+ @xmath317 and @xmath318",
    ". then @xmath266 @xmath124 @xmath319 $ ] .",
    "4 .   @xmath320 or @xmath321 where @xmath322 .",
    "+ if @xmath323 then @xmath263 , @xmath324 and @xmath325 $ ] .",
    "the initial position of a play of @xmath203 is @xmath326 \\theta_{1 } \\xi_{1}$ ] where @xmath247 is the initial node of @xmath4 labelled @xmath182 for some @xmath327 and @xmath328 is a ( dis)equation in @xmath10 . at this position",
    "we are interested whether @xmath329 where the look - up tables are viewed as substitutions : initially , they are empty because there are no free variables in the terms @xmath330 .",
    "the initial position is the same as an initial position in game semantics , except the terms @xmath209 and @xmath219 in the game here are part of the state ( and the choice of branch in @xmath219 will take place as play proceeds ) .",
    "the possible moves from position @xmath331 to @xmath332 in a play are listed in figure  [ game ] and are divided into three groups that depend on the label at @xmath259 of position @xmath331 .",
    "group a covers the case when it is a @xmath181 , group b a constant @xmath30 ( whose type is not @xmath13 ) and group c a variable @xmath69 . for look - up tables @xmath297 and @xmath267 , we assume that the substitution notation also stands for function updating : @xmath333 means that the entries in @xmath334 are the same as in @xmath335 except for the @xmath336 s , as @xmath337 for each @xmath336 , @xmath338 .",
    "this notation is permitted even if @xmath339 .",
    "consider group a moves when position @xmath331 is at the node @xmath259 labelled @xmath260 , @xmath261 , so @xmath340 has the form @xmath341 $ ] where each @xmath342 has the same type as @xmath336 .",
    "( if @xmath343 then the position is at a dummy lambda . )",
    "the `` interpretation '' of position @xmath331 in terms of @xmath8-reduction ( see the proof of theorem  [ imp ] ) is whether @xmath344 @xmath345 . node @xmath259 has a single successor @xmath268 and so play descends to it .",
    "however , the subtree at @xmath268 may contain free occurrences of the @xmath336 s ( when @xmath346 ) : the interpretation of each such occurrence is @xmath347 because @xmath348 and so @xmath297 is an updated version of @xmath349 reflecting this association of the @xmath336 s with the @xmath342 s and the look - up table @xmath350 at position @xmath331 .",
    "move a1 is when @xmath268 is labelled with @xmath199 .",
    "we can now immediately decide whether @xmath351 just by comparing @xmath219 and @xmath298 ; so position @xmath332 is final ( and won by the refuter if @xmath219 is different from @xmath298 ) . for move a2 , if @xmath268 is labelled with @xmath218 and @xmath219 does not have the form @xmath352 then @xmath303 $ ] as we now know that @xmath344 @xmath353 . if @xmath274 then position @xmath332 is @xmath354 \\theta_{m+1 } \\xi_{m+1}$ ] where @xmath269 .",
    "move a3 is when @xmath268 is labelled with a variable @xmath69 .",
    "thus , @xmath69 is a free variable occurrence in the tree @xmath268 whose interpretation is @xmath278 decided at the earlier position @xmath355 .",
    "so , @xmath267 is set to @xmath237 ( as it interprets the free variables in @xmath216 in @xmath356 $ ] ) .",
    "the @xmath17 move covers the case when @xmath259 is labelled with a constant @xmath218 ; because of move a2 , we only need to consider it when the state is @xmath357 $ ] for some @xmath358 .",
    "the `` interpretation '' of such a position @xmath331 is whether @xmath359 . in which case @xmath360",
    "so , @xmath359 if , and only if , for each @xmath308 , @xmath361 .",
    "the refuter @xmath251 chooses such a @xmath362 .",
    "the delicacy is that @xmath286 may be of higher type , of the form @xmath363 and so , therefore , @xmath364 is labelled @xmath365 for some @xmath366 because it has the same type : position @xmath332 is then @xmath367 \\theta_{m+1 } \\xi_{m+1}$ ] where @xmath283 , and @xmath269 : here we are making use of the forbidden constants @xmath368 . if @xmath286 has ground type then @xmath288 $ ] ( as the label at @xmath364 is a dummy lambda ) .",
    "group c moves cover the case where @xmath259 is labelled with a variable @xmath69 .",
    "the `` interpretation '' of position @xmath331 , @xmath369 \\theta_{m } \\xi_{m}$ ] , is whether @xmath370 where for @xmath261 , @xmath294 when @xmath295 . if @xmath346 then @xmath293 for some @xmath371 and the free occurrences of @xmath372 in @xmath105 are associated with @xmath373 at position @xmath331",
    "; so , @xmath267 is an updated version of @xmath350 reflecting this association . when @xmath374 , @xmath375 and the interpretation is whether @xmath376 . for both cases @xmath293 and @xmath377 play proceeds by examining the `` head '' of @xmath105 .",
    "move c1 covers the case where it is @xmath199 ( which is possibly a forbidden constant ) .",
    "we can now immediately decide whether @xmath370 just by comparing @xmath216 and @xmath219 .",
    "move c2 covers the case where @xmath216 is a forbidden constant @xmath378 at higher type @xmath379 . if @xmath380 then we know that @xmath381 and , so @xmath382 $ ] . if @xmath383 then @xmath384 if , and only if , for each @xmath362 , @xmath385 . as with b1",
    ", the refuter @xmath251 chooses such a @xmath362 .",
    "again we need to specially deal with the case that @xmath286 has higher type .",
    "move c3 deals with the case that @xmath105 is @xmath311 .",
    "again , if @xmath219 does not have the form @xmath352 then @xmath386 $ ] as we now know that @xmath387 .",
    "if @xmath274 then @xmath370 if , and only if , for each @xmath362 , @xmath388 .",
    "therefore , @xmath251 chooses such a @xmath362 . for the next position , again we need to deal with the possibility that @xmath286 is of higher type : if @xmath289 then @xmath389 which has the same type must be of the form @xmath390 for some @xmath391 ; so we must substitute the same forbidden constant for each @xmath392 and @xmath200 ; so @xmath266 is @xmath319 $ ] . if @xmath287 then the next position @xmath332 is @xmath393 \\theta_{m+1 } \\xi_{m+1}$ ] where @xmath394 and @xmath395 .",
    "move c4 covers the case when @xmath396 , @xmath322 .",
    "therefore , @xmath29 is a free variable in @xmath216 whose interpretation @xmath323 which was determined at the earlier position @xmath355 ; so , @xmath29 is associated with the subtree @xmath180 of @xmath4 and play therefore jumps to it .",
    "@xmath397 & \\\\ & ( 2 ) y \\ar[d ] & \\\\ & ( 3 ) \\lambda \\ar[d ] & \\\\ & ( 4 ) y \\ar[d ] & \\\\   & ( 5 ) \\lambda \\ar[d ] & \\\\   & \\ar[dl ] ( 6 ) f \\ar[dr ] &   \\\\",
    "\\ar[d ] ( 7 ) \\lambda x z_{1}z_{2 } & & ( 13 ) \\lambda \\ar[d ] \\\\ \\ar[d ] ( 8) x & & ( 14 ) y \\ar[d ] \\\\ \\ar[d ] ( 9 ) \\lambda & & ( 15 ) \\lambda \\ar[d ] \\\\ \\ar[d ] ( 10 ) y & & ( 16 ) a \\\\ \\ar[d ] ( 11 ) \\lambda & & \\\\",
    "( 12 ) z_{2 } & &   }   \\ ] ]    @xmath251 can exercise choice , by carving out a branch of a right term of a ( dis)equation modulo forbidden constants , with moves b1 , c2 and c3 .",
    "the look - up tables are used in earnest with moves a3 and c4 to interpret the two kinds of free variable .",
    "move c4 allows play to jump elsewhere in the term tree ( always to a node labelled with a lambda ) : it also opens the possibility that play can repeatedly be at the same node of @xmath4 . with moves a1a3 , b1 and c2 ( unless play finishes ) control passes down the term tree while it remains stationary in the case of c1 and c3 .",
    "if @xmath398 is a play of @xmath203 then player @xmath251 _ wins the play _ if the final state is @xmath399 $ ] and she _ loses _ it otherwise ( if the final state is @xmath400 $ ] ) .    [ examp42 ]",
    "let @xmath10 be the problem @xmath401 where @xmath402 of example  [ examp2 ] .",
    "the bound variables in the right term @xmath5 are @xmath403 ; so , assume corresponding forbidden constants @xmath404 .",
    "let @xmath405 : tree@xmath172 is depicted in figure  [ picture2 ] .",
    "@xmath406 consists of two plays that descend @xmath4 .",
    "( for @xmath12rd - order problems @xmath10 play can not jump around a term tree , as we observe in section  [ third ] . )",
    "both plays start as follows where we have supplied which move is applied to produce the next position : the initial component of each position is a node of @xmath4 .",
    "@xmath407\\ ,   \\theta_{1 } \\ , \\xi_{1 } & & & \\\\ ( 2 ) \\ , q [ \\lambda z.z , u ] \\ , \\theta_{2 } \\xi_{2 } & \\theta_{2 } = \\theta_{1 } { \\ { ( \\lambda z.z ) \\xi_{1 } 1/y \\ } }   & \\xi_{2 } = \\xi_{1 } & a3\\\\ ( 3 ) \\ , q [ ( \\ ) , u ] \\ , \\theta_{3 } \\xi_{3 } & \\theta_{3 } = \\theta_{2 } & \\xi_{3 } = \\xi_{1 } { \\ { ( 3)\\theta_{2 } 2/z \\ } } & c4\\\\ ( 4 ) \\ , q[\\lambda z. z , u ] \\ , \\theta_{4 } \\xi_{4 } & \\theta_{4 } = \\theta_{2 } & \\xi_{4 } = \\xi_{1 } & a3\\\\ ( 5 ) \\ ,",
    "q [ ( \\ ) , u ] \\ , \\theta_{5 } \\ , \\xi_{5 } & \\theta_{5 } = \\theta_{2 } & \\xi_{5 } = \\xi_{1 } { \\ { ( 5 ) \\theta_{2 } 4/z \\ } } & c4\\\\ ( 6 )",
    "\\ , q[- , u ] \\ , \\theta_{6 } \\",
    ", \\xi_{6 } & \\theta_{6 } = \\theta_{2 } & \\xi_{6 } = \\xi_{5 } & a2 \\end{array}\\ ] ] the initial state is an argument state @xmath408 $ ] and control is at node ( 1 ) .",
    "play descends from node ( 1 ) to ( 2 ) calling the value @xmath133 by a3 .",
    "next , by c4 , because @xmath242 is the head variable in the body of @xmath133 , has no arguments and is associated with node ( 3 ) , the next state is the argument state @xmath409 $ ] and control is at ( 3 ) .",
    "play descends from ( 3 ) to ( 4 ) calling the value @xmath133 by a3 .",
    "again by c4 , @xmath242 is the head variable in the body of @xmath133 , has no arguments and is now associated with ( 5 ) , the next state is the argument state @xmath410 $ ] and control is at ( 5 ) .",
    "a2 is then applied ( because the right term @xmath5 in the state has @xmath30 as head constant ) and control passes from ( 5 ) to ( 6 ) .",
    "move b1 is now applied and there is a @xmath251 choice as to which branch of @xmath5 to take .",
    "if direction @xmath21 is chosen then play continues as follows .",
    "@xmath411 \\ , \\theta_{7 } \\ , \\xi_{7 } & \\theta_{7 } = \\theta_{2 } & \\xi_{7 } = \\xi_{5 } & b1\\\\ ( 8) \\ , q[c_{1 } , c_{1 } c_{3 } ] \\",
    ", \\theta_{8 } \\ , \\xi_{8 } & \\theta_{8 } =   \\theta_{2 } { \\ { c_{1}\\xi_{5 } 7\\!/\\!x , c_{2 } \\xi_{5 } 7\\!/\\!z_{1 } , c_{3}\\xi_{5 } 7\\!/\\!z_{2 } \\ } } & \\xi_{8 } = \\xi_{5 } & a3\\\\ ( 9 ) \\ ,",
    "q [ ( \\ ) , c_{3 } ] \\ , \\theta_{9 } \\ , \\xi_{9 } & \\theta_{9 } = \\theta_{8 } & \\xi_{9 } = \\xi_{5 } & c2 \\\\ ( 10 )",
    "\\ , q[\\lambda z. z , c_{3 } ] \\",
    ", \\theta_{10 } \\xi_{10 } & \\theta_{10 } = \\theta_{8 } & \\xi_{10 } = \\xi_{5 } & a3\\\\ ( 11 ) \\ , q [ ( \\ ) , c_{3 } ] \\ ,",
    "\\theta_{11 } \\ , \\xi_{11 } & \\theta_{11 } = \\theta_{8 } & \\xi_{11 } = \\xi_{5 } { \\ { ( 11 ) \\theta_{8 } 10\\!/\\!z \\ } } & c4\\\\ ( 12 ) \\ , q [ c_{3},c_{3 } ] \\ ,",
    "\\theta_{12 } \\ , \\xi_{12 } & \\theta_{12 } = \\theta_{8 } & \\xi_{12 } = \\xi_{5 } & a3 \\\\ ( 12 ) \\ , q [ \\ { \\exists}\\ ] \\",
    ", \\theta_{13 } \\ , \\xi_{13 } & \\theta_{13 } = \\theta_{8 } & \\xi_{13 } = \\xi_{5 } & c1 \\end{array}\\ ] ]",
    "forbidden constants are introduced for replacing @xmath412 in the body of @xmath5 to give the right term @xmath413 and as arguments @xmath414 for the variables @xmath415 bound at ( 7 ) ; see the updated look - up table @xmath416 . at ( 8) the value @xmath417 is called using move a3 and then by c2 , control proceeds to ( 9 ) and the right term becomes the argument @xmath418 of @xmath417 . at ( 10 ) the value @xmath133 is called again by a3 and by c4 as @xmath242 is the head variable and is associated with node ( 11 ) control passes to it ( with the empty sequence of arguments ) . finally , at ( 12 ) , the value @xmath418 is called by a3 , and then by c1 , @xmath251 loses the play .",
    "she also loses if direction @xmath157 is chosen at position @xmath419 as the reader can verify .",
    "[ examp43 ] let @xmath10 be the first equation of example  [ examp1 ] @xmath420 where @xmath421 ( which is a @xmath7th - order problem ) .",
    "the tree @xmath4 of figure  [ ex1 ] solves @xmath10 as was demonstrated in example  [ examp41 ] through @xmath8-reduction .",
    "the single play in @xmath203 is presented in figure  [ ex2 ] .",
    "@xmath422\\ ,   \\theta_{1 } \\ , \\xi_{1 } & & & \\\\ ( 2 ) \\ , q [ v , fa ] \\ , \\theta_{2 } \\xi_{2 } & \\theta_{2 } = \\theta_{1 } { \\ { v \\xi_{1 } 1/z \\ } }   & \\xi_{2 } = \\xi_{1 } & a3\\\\ ( 3 ) \\",
    ", q[(y_{2 } ) , fa ] \\ , \\theta_{3 } \\xi_{3 } & \\theta_{3 } = \\theta_{2 } & \\xi_{3 } = \\xi_{1 } { \\ { ( 3)\\theta_{2 } 2/y_{1},(11)\\theta_{2 } 2/y_{2 } \\ } } & c4\\\\ ( 4 ) \\ , q[- , fa ] \\ , \\theta_{4 } \\xi_{4 } & \\theta_{4 } = \\theta_{2 } { \\ { y_{2}\\xi_{3 } 3/x \\ } } & \\xi_{4 } = \\xi_{3 } & a2\\\\ ( 5 ) \\ ,",
    "q [ ( \\ ) , a ] \\ , \\theta_{5 } \\ , \\xi_{5 } & \\theta_{5 } = \\theta_{4 } & \\xi_{5 } = \\xi_{4 } & b1\\\\ ( 6 ) \\ , q[v , a ] \\ , \\theta_{6 } \\ , \\xi_{6 } & \\theta_{6 } = \\theta_{4 } & \\xi_{6 } = \\xi_{1 } & a3\\\\ ( 7 )",
    ", q[(y_{2 } ) , a ] \\ , \\theta_{7 } \\",
    ", \\xi_{7 } & \\theta_{7 } = \\theta_{4 } & \\xi_{7 } = \\xi_{1 } { \\ { ( 7)\\theta_{4 } 6/y_{1},(9)\\theta_{4 } 6/y_{2 } \\ } } & c4\\\\ ( 8) \\ , q[y_{2 } , a ] \\ , \\theta_{8 } \\",
    ", \\xi_{8 } & \\theta_{8 } =   \\theta_{4 } { \\ { y_{2 } \\xi_{7}7/u \\ } } & \\xi_{8 } = \\xi_{3 } & a3\\\\ ( 11 ) \\ ,",
    "q [ ( \\ ) , a ] \\ , \\theta_{9 } \\ , \\xi_{9 } & \\theta_{9 } = \\theta_{2 } & \\xi_{9 } = \\xi_{3 } & c4 \\\\ ( 12 ) \\ , q [ v , a ] \\ , \\theta_{10 } \\xi_{10 } & \\theta_{10 } = \\theta_{2 }   & \\xi_{10 } = \\xi_{1 } & a3\\\\ ( 13 ) \\ , q[(y_{2 } ) , a ] \\ , \\theta_{11 } \\xi_{11 } & \\theta_{11 } = \\theta_{2 } & \\xi_{11 } = \\xi_{1 } { \\ { ( 13)\\theta_{2 } 10/y_{1},(19)\\theta_{2 } 10/y_{2 } \\ } } & c4\\\\ ( 14 ) \\ ,",
    "q[v , a ] \\ , \\theta_{12 } \\xi_{12 } & \\theta_{12 } = \\theta_{2 } { \\ { y_{2}\\xi_{11 } 11/y \\ } } & \\xi_{12 } = \\xi_{1 } & a3\\\\ ( 15 ) \\ , q[(y_{2 } ) , a ] \\ , \\theta_{13 } \\ , \\xi_{13 } & \\theta_{13 } = \\theta_{12 } & \\xi_{13 } = \\xi_{1 } { \\ { ( 15)\\theta_{12 } 12/y_{1 } , ( 17)\\theta_{12 } 12/y_{2 } \\ } } & c4\\\\ ( 16 ) \\ ,",
    "q[y_{2 } , a ] \\ , \\theta_{14 } \\ , \\xi_{14 } & \\theta_{14 } = \\theta_{12 } { \\ { y_{2}\\xi_{13 } 13/s \\ } } & \\xi_{14 } = \\xi_{13 } & a3\\\\ ( 17 ) \\ ,",
    "q [ ( \\ ) , a ] \\ , \\theta_{15 } \\ , \\xi_{15 } & \\theta_{15 } = \\theta_{12 } & \\xi_{15 } = \\xi_{13 } & c4\\\\ ( 18 ) \\ , q[y_{2 } , a ] \\ , \\theta_{16 } \\",
    ", \\xi_{16 } & \\theta_{16 } =   \\theta_{12 } & \\xi_{16 } = \\xi_{11 } & a3\\\\ ( 19 ) \\ , q [ ( \\ ) , a ] \\",
    ", \\theta_{17 } \\ , \\xi_{17 } & \\theta_{17 } = \\theta_{2 } & \\xi_{17 } = \\xi_{11 } & c4\\\\ ( 20 ) \\ , q [ \\ { \\exists}\\ ] \\ , \\theta_{18 } \\ , \\xi_{18 } & \\theta_{18 } =   \\theta_{2 } & \\xi_{18 } = \\xi_{11 } & a1\\\\ \\end{array}\\ ] ]",
    "the initial state is @xmath423 $ ] at the root of @xmath4 . by move a3",
    ", play descends to node @xmath424 calling the value @xmath47 .",
    "next by c4 because @xmath425 is the head variable in the body of @xmath47 , is associated with the subtree at @xmath426 and has argument @xmath427 play moves to @xmath426 with argument state @xmath428 $ ] . by a2 play",
    "descends to node @xmath429 labelled @xmath30 and then move b1 is applied without a choice for @xmath251 because the type of @xmath430 has arity one , and so the play descends to node @xmath431 with a change in the right term of the state from @xmath432 to @xmath298 . by move a3 play",
    "descends to node ( 6 ) calling the value @xmath47 again . by c4 because the head variable @xmath425 is associated with the subtree at @xmath433 and has argument @xmath427 play moves to @xmath433 . by move a3",
    ", play descends to @xmath434 .",
    "the entry @xmath435 is @xmath436 , so the state is @xmath437 $ ] . by move c4 because @xmath438 , that is , @xmath427 is associated with the subtree rooted at @xmath439 , play jumps from node @xmath434 to node @xmath439 .",
    "if node @xmath434 were labelled @xmath5 then because the entry @xmath440 the state would again be @xmath437 $ ] ; play would then jump to node @xmath441 because @xmath442 .",
    "play descends from node @xmath439 to @xmath443 , @xmath444 , @xmath445 , @xmath446 and @xmath447 and jumps to node @xmath448 and descends to @xmath449 and then jumps to node @xmath450 before descending to node @xmath451 by move a1 , where the refuter loses the play .",
    "@xmath452 & \\\\ & & \\ar[dl](2 ) z \\ar[dr ] &   \\\\ & ( 3 ) \\ar[d ] \\lambda z_{1 } & & \\ar[d ] ( 17 ) \\lambda z_{2 } & \\\\ & \\ar[dl ] ( 4 ) z \\ar[dr ] & &   \\ar[d ] ( 18 ) h",
    "\\\\ \\ar[d ] ( 5 ) \\lambda x_{1 } & & \\ar[d ] ( 13 ) \\lambda x_{2 }   & \\ar[d ] ( 19 ) \\lambda \\\\",
    "\\ar[d](6 ) z_{1 } & &   \\ar[d ] ( 14 ) g   &   ( 20 ) z_{2 }   \\\\ \\ar[d ] ( 7 ) \\lambda   & & \\ar[d ] ( 15 ) \\lambda    & \\\\ \\ar[d ] ( 8) x_{1 }   & & ( 16 ) x_{2 } &   \\\\ \\ar[d ] ( 9 ) \\lambda    & & & \\\\ \\ar[d ] ( 10 ) z_{1 }    & & & \\\\ \\ar[d ] ( 11 ) \\lambda &   & & \\\\ ( 12 ) a & & &   } \\ ] ]    [ examp44 ] we now examine the equation of example  [ examp3 ] which illustrates play jumping in more detail and how the game moves , especially a3 and c4 , essentially depend on @xmath11-long normal forms let @xmath10 be the equation @xmath453 and let @xmath4 be @xmath454 which is a solution ; @xmath4 as a tree is depicted in figure  [ ex14 ] .",
    "the single play for @xmath203 is presented in figure  [ ex15 ] where the following abbreviations for left and right subterms are employed .",
    "@xmath455    @xmath456\\ ,   \\theta_{1 } \\ , \\xi_{1 } & & & \\\\ ( 2 ) \\ , \\ , q [ v , u ] \\ , \\theta_{2 } \\xi_{2 } & \\theta_{2 } = \\theta_{1 } { \\ { v \\xi_{1}1/z \\ } }   & \\xi_{2 } = \\xi_{1 } & a3\\\\ ( 3 ) \\ , \\ , q[(v_{1 } ) , u ] \\ , \\theta_{3 } \\xi_{3 } & \\theta_{3 } = \\theta_{2 } & \\xi_{3 } = \\xi_{1 } { \\ { ( 3)\\theta_{2 } 2/y_{1},(17)\\theta_{2 } 2/y_{2 } \\ } } & c4\\\\ ( 4 ) \\ , \\ , q[v , u ] \\ , \\theta_{4 } \\xi_{4 } & \\theta_{4 } = \\theta_{2 } { \\ { v_{1}\\xi_{3 } 3/z_{1 } \\ } } & \\xi_{4 } = \\xi_{1 } & a3\\\\ ( 5 ) \\ , \\ , q[(v_{1 } ) , u ] \\ , \\theta_{5 } \\ , \\xi_{5 } & \\theta_{5 } = \\theta_{4 } & \\xi_{5 } =   \\xi_{1 } { \\ { ( 5)\\theta_{4 } 4/y_{1 } , ( 13)\\theta_{4 } 4/y_{2 } \\ } } & c4\\\\ ( 6 ) \\ , \\ , q[v_{1 } , u ] \\ ,",
    "\\theta_{6 } \\ , \\xi_{6 } & \\theta_{6 } = \\theta_{4 } { \\ { v_{1}\\xi_{5 } 5/x_{1 } \\ } } & \\xi_{6 } = \\xi_{3}&a3 \\\\ ( 17 ) \\ , q[(v_{2 } ) , u ] \\ , \\theta_{7 } \\ , \\xi_{7 } &   \\theta_{7 } = \\theta_{2 } & \\xi_{7 } = \\xi_{3 } { \\ { ( 7)\\theta_{6 } 6/y_{3 } \\ } } & c4\\\\ ( 18 ) \\ ,",
    "q[- , u ] \\ , \\theta_{8 } \\ , \\xi_{8 } &   \\theta_{8 } =   \\theta_{2 } { \\ { v_{2 } \\xi_{7 } 7/z_{2 } \\ } } & \\xi_{8 } = \\xi_{7 } & a2\\\\ ( 19 ) \\ , q [ ( \\ ) , u_{1 } ] \\ , \\theta_{9 } \\ , \\xi_{9 } & \\theta_{9 } = \\theta_{8 } & \\xi_{9 } = \\xi_{7 } & b1\\\\ ( 20 ) \\ , q [ v_{2 } , u_{1 } ] \\ , \\theta_{10 } \\xi_{10 } & \\theta_{10 } = \\theta_{8 }   & \\xi_{10 } = \\xi_{7 } & a3\\\\ ( 3 ) \\ , \\ , q[(v_{3 } ) , u_{1 } ] \\ , \\theta_{11 } \\xi_{11 } & \\theta_{11 } = \\theta_{2 } & \\xi_{11 } = \\xi_{7 } & c4\\\\ ( 4 ) \\ ,",
    "\\ , q[v , u_{1 } ] \\ , \\theta_{12 } \\xi_{12 } & \\theta_{12 } = \\theta_{2 } { \\ { v_{3 } \\xi_{7 } 11/z_{1 } \\ } }   & \\xi_{12 } = \\xi_{1 } & a3\\\\ ( 5 ) \\,\\ , q[(v_{1 } ) , u_{1 } ] \\ , \\theta_{13 } \\ , \\xi_{13 } & \\theta_{13 } = \\theta_{12 } & \\xi_{13 } = \\xi_{1 } { \\ { ( 5)\\theta_{12 } 12/y_{1 } , ( 13)\\theta_{12 } 12/y_{2 } \\ } } & c4\\\\ ( 6 ) \\ , \\ , q[v_{3 } , u_{1 } ] \\ ,",
    "\\theta_{14 } \\ , \\xi_{14 } & \\theta_{14 } = \\theta_{12 } { \\ { v_{1}\\xi_{13 } 13/x_{1 } \\ } } & \\xi_{14 } = \\xi_{7 } & a3 \\\\ ( 7 ) \\ , \\ ,   q [ ( \\ ) , u_{1 } ] \\ ,",
    "\\theta_{15 } \\ , \\xi_{15 } &   \\theta_{15 } = \\theta_{6 } & \\xi_{15 } = \\xi_{14 } { \\ { ( 7)\\theta_{14 } 14/y_{4 } \\ } } & c4\\\\ ( 8) \\ , \\ , q[v_{1 } , u_{1 } ] \\ , \\theta_{16 } \\ , \\xi_{16 } & \\theta_{16 } =   \\theta_{6 } & \\xi_{16 } = \\xi_{5 } & a3\\\\ ( 13 ) \\ , q[(v_{2 } ) , u_{1 } ] \\ , \\theta_{17 } \\ , \\xi_{17 } & \\theta_{17 } = \\theta_{4 } & \\xi_{17 } = \\xi_{5 } { \\ { ( 9)\\theta_{6 } 16/y_{3 } \\ } } & c4\\\\ ( 14 )",
    "\\ , q[- , u_{1 } ] \\ , \\theta_{18 } \\ , \\xi_{18 } & \\theta_{18 } = \\theta_{4 } { \\ { v_{2 } \\xi_{17 } 17/x_{2 } \\ } } & \\xi_{18 } = \\xi_{17 } & a2\\\\ ( 15 ) \\ , q [ ( \\ , ) , u_{2 } ] \\ , \\theta_{19 } \\",
    ", \\xi_{19 } & \\theta_{19 } =   \\theta_{18 } & \\xi_{19 } = \\xi_{17 } & b1\\\\ ( 16 ) \\ , q[v_{2 } , u_{2 } ] \\ ,",
    "\\theta_{20 } \\ , \\xi_{20 } & \\theta_{20 } =   \\theta_{18 } & \\xi_{20 } = \\xi_{17 } & a3\\\\ ( 5 ) \\ , \\ , q[(v_{3 } ) , u_{2 } ] \\ , \\theta_{21 } \\ , \\xi_{21 } & \\theta_{21 } = \\theta_{4 } & \\xi_{21 } = \\xi_{17 } & c4\\\\ ( 6 ) \\ , \\ , q[v_{1 } , u_{2 } ] \\ , \\theta_{22 } \\ , \\xi_{22 } & \\theta_{22 } = \\theta_{4 } { \\ { v_{3}\\xi_{17 } 21/x_{1 } \\ } } & \\xi_{22 } = \\xi_{3 } & a3\\\\ ( 17 ) \\ , q[(v_{2 } ) , u_{2 } ] \\ , \\theta_{23 } \\ , \\xi_{23 } &   \\theta_{23 } = \\theta_{2 } & \\xi_{23 } = \\xi_{3 } { \\ { ( 7)\\theta_{22 } 22/y_{3 } \\ } } & c4\\\\ ( 18 )",
    "\\ , q[- , u_{2 } ] \\ , \\theta_{24 } \\ , \\xi_{24 } &   \\theta_{24 } =   \\theta_{2 } { \\ { v_{2 } \\xi_{23 } 23/z_{2 } \\ } } & \\xi_{24 } = \\xi_{23 } & a2\\\\ ( 19 ) \\ , q [ ( \\ ) , h a ] \\ , \\theta_{25 } \\",
    ", \\xi_{25 } & \\theta_{25 } =   \\theta_{24 } & \\xi_{25 } = \\xi_{23 } & b1\\\\ ( 20 ) \\",
    ", q [ v_{2 } , h a ] \\",
    ", \\theta_{26 } \\xi_{26 } & \\theta_{26 } = \\theta_{24 }   & \\xi_{26 } = \\xi_{23 } & a3\\\\ ( 3 ) \\ , \\ , q[(v_{3 } ) , h a ] \\ , \\theta_{27 } \\xi_{27 } & \\theta_{27 } = \\theta_{2 } & \\xi_{27 } = \\xi_{23 } & c4\\\\ ( 4 ) \\ , \\ , q[v , h a ] \\ , \\theta_{28 } \\xi_{28 } & \\theta_{28 } = \\theta_{2 } { \\ { v_{3 } \\xi_{23 } 27/z_{1 } \\ } }   & \\xi_{28 } = \\xi_{1 } & a3\\\\ ( 5 ) \\,\\ , q[(v_{1 } ) , h a ] \\ , \\theta_{29 } \\ , \\xi_{29 } & \\theta_{29 } = \\theta_{28 } & \\xi_{29 } = \\xi_{1 } { \\ { ( 5)\\theta_{28 } 28/y_{1 } , ( 13)\\theta_{28 } 28/y_{2 } \\ } } & c4\\\\ ( 6 ) \\ , \\ , q[v_{3 } , h a ] \\ , \\theta_{30 } \\ , \\xi_{30 } & \\theta_{30 } = \\theta_{28 } { \\ { v_{1}\\xi_{29 } 29/x_{1 } \\ } } & \\xi_{30 } = \\xi_{23 }   & a3\\\\ ( 7 ) \\ , \\ ,   q [ ( \\ ) , h a ] \\ , \\theta_{31 } \\ , \\xi_{31 } &   \\theta_{31 } = \\theta_{22 } & \\xi_{31 } = \\xi_{23 } { \\ { ( 7)\\theta_{30 } 30/y_{4 } \\ } } & c4\\\\ ( 8) \\ , \\ , q[v_{3 } , h a ] \\ , \\theta_{32 } \\ , \\xi_{32 } & \\theta_{32 } =   \\theta_{22 } & \\xi_{32 } = \\xi_{17 } & a3\\\\ ( 9 ) \\ , \\ ,   q [ ( \\ ) , h a ] \\ , \\theta_{33 } \\ , \\xi_{33 } &   \\theta_{33 } = \\theta_{6 } & \\xi_{33 } = \\xi_{32 } { \\ { ( 9)\\theta_{22 } 32/y_{4 } \\ } } & c4 \\\\ ( 10 ) \\ , q[v_{1 } , h a ] \\ , \\theta_{34 } \\ , \\xi_{34 } & \\theta_{34 } =   \\theta_{6 } & \\xi_{34 } = \\xi_{3 } & a3\\\\ ( 17 ) \\",
    ", q[(v_{2 } ) , h a ] \\ , \\theta_{35 } \\ , \\xi_{35 } &   \\theta_{35 } = \\theta_{2 } & \\xi_{35 } = \\xi_{3 } { \\ { ( 11)\\theta_{6 } 34/y_{3 } \\ } } & c4\\\\ ( 18 ) \\ , q[- , h a ] \\ , \\theta_{36 } \\ , \\xi_{36 } &   \\theta_{36 } =   \\theta_{2 } { \\ { v_{2 } \\xi_{35 } 35/z_{2 } \\ } } & \\xi_{36 } = \\xi_{35 } & a2\\\\ ( 19 ) \\ ,",
    "q [ ( \\ ) , a ] \\ , \\theta_{37 } \\",
    ", \\xi_{37 } & \\theta_{37 } =   \\theta_{36 } & \\xi_{37 } = \\xi_{35 } & b1\\\\ ( 20 ) \\ , q [ v_{2 } , a ] \\ , \\theta_{38 } \\xi_{38 } & \\theta_{38 } = \\theta_{36 }   & \\xi_{38 } = \\xi_{35 } & a3\\\\ ( 3 ) \\ , \\ , q[(v_{3 } ) , a ] \\ , \\theta_{39 } \\xi_{39 } & \\theta_{39 } = \\theta_{2 } & \\xi_{39 } = \\xi_{35 } & c4\\\\ ( 4 ) \\ , \\ , q[v , a ] \\ , \\theta_{40 } \\xi_{40 } & \\theta_{40 } = \\theta_{2 } { \\ { v_{3 } \\xi_{35 } 39/z_{1 } \\ } }   & \\xi_{40 } = \\xi_{1 } & a3\\\\ ( 5 ) \\,\\ , q[(v_{1 } ) , a ] \\ , \\theta_{41 } \\ , \\xi_{41 } & \\theta_{41 } = \\theta_{40 } & \\xi_{41 } = \\xi_{1 } { \\ { ( 5)\\theta_{40 } 40/y_{1 } , ( 13)\\theta_{40 } 40/y_{2 } \\ } } & c4\\\\ ( 6 ) \\ , \\ , q[v_{3 } , a ] \\ , \\theta_{42 } \\ , \\xi_{42 } & \\theta_{42 } = \\theta_{40 } { \\ { v_{1}\\xi_{41 } 41/x_{1 } \\ } } & \\xi_{42 } = \\xi_{35 } & a3 \\\\ ( 11 )   \\ ,   q [ ( \\ ) , a ] \\ , \\theta_{43 } \\ , \\xi_{43 } &   \\theta_{43 } = \\theta_{6 } & \\xi_{43 } = \\xi_{35 } { \\ { ( 7)\\theta_{42}42/y_{4 } \\ } } & c4 \\\\ ( 12 ) \\",
    ", q [ \\ { \\exists}\\ ] \\ , \\theta_{44 } \\ , \\xi_{44 } & \\theta_{44 } =   \\theta_{6 } & \\xi_{44 } = \\xi_{43 } & a1\\\\ \\end{array}\\ ] ]    play starts at node @xmath457 with state @xmath458 $ ] and by a3 descends to @xmath424 .",
    "the head variable of the body of @xmath47 is @xmath425 which has argument @xmath459 and so play moves to @xmath426 by c4 with state @xmath460 $ ] .",
    "similarly , it descends to @xmath429 by a3 and then to @xmath431 by c4 with state @xmath460 $ ] at which point it moves to @xmath461 which is labelled @xmath462 ; @xmath463 and the head variable of the body of @xmath459 is @xmath427 and its argument is @xmath464 ; so , play jumps to @xmath448 with state @xmath465 $ ] .",
    "it then descends to @xmath449 , @xmath450 and @xmath451 with state @xmath466 $ ] ; the head variable of @xmath464 is @xmath425 and it has argument @xmath467 ; so play returns to @xmath426 with state @xmath468 $ ] .",
    "it then descends to @xmath429 and @xmath431 and moves to @xmath461 ; the head variable of the body of @xmath467 is @xmath469 which is associated with node @xmath433 , as @xmath470 .",
    "play proceeds to ( 8) , jumps to ( 13 ) , reaches ( 16 ) and then returns to ( 5 ) and so on .",
    "player @xmath251 eventually loses when play reaches ( 12 ) as the reader can check .",
    "[ def45 ] if @xmath10 is a ( dual ) interpolation problem then @xmath251 _ loses the game _",
    "@xmath203 if and only if    1 .   for every equation in @xmath10 , @xmath251 loses every play whose initial state is given from it , 2 .   for each disequation in @xmath10",
    ", @xmath251 wins some play whose initial state is given from it .    the game _",
    "characterises _ dual interpolation .",
    "[ thm1 ] @xmath251 loses @xmath203 if , and only if , @xmath82 .",
    "the simply typed @xmath471-calculus is strongly normalising and is church - rosser modulo @xmath41-equivalence . for every term @xmath4",
    "there is an @xmath331 such that @xmath4 reduces to normal form using at most @xmath331 @xmath8-reductions ( whatever the reduction strategy ) .",
    "therefore , for any position @xmath472 of a play of @xmath473 we say that it @xmath331-holds ( @xmath331-fails ) if @xmath474 $ ] ( @xmath475 $ ] ) and when @xmath248 is not final , by cases on @xmath51 and @xmath248 ( and look - up tables become delayed substitutions )    1 .   if @xmath476 , @xmath477 $ ] and @xmath180 is @xmath478 then @xmath479 ( @xmath480 ) and @xmath180 reduces to normal form with at most @xmath331 @xmath8-reductions , 2 .   if @xmath481 , @xmath482 $ ] and @xmath180 is @xmath483 then @xmath484 ( @xmath485 ) and @xmath180 reduces to normal form with at most m @xmath8-reductions , 3 .   if @xmath486 , @xmath487 $ ] and @xmath488 , @xmath489 for @xmath322 , and @xmath180 is @xmath490 then @xmath484 ( @xmath485 ) and @xmath180 reduces to normal form with at most @xmath331 @xmath8-reductions .",
    "the proof is done by invoking as a measure a pair of integers , first the size of right term in @xmath248 and second the maximal number of @xmath8-reductions needed for @xmath180 to reduce to normal form ; the pair is ordered with the lexicographic ordering .",
    "the following properties are easy to show by case analysis .    1 .",
    "if @xmath472 @xmath331-holds then @xmath474 $ ] or for any next position @xmath491 there is an @xmath492 such that it @xmath492 holds and either @xmath493 or the size of the right term in @xmath494 is strictly smaller than in @xmath248 .",
    "2 .   if @xmath472 @xmath331-fails then @xmath475 $ ] or there is an @xmath492 and a next position @xmath491 that @xmath492-fails and either @xmath493 or the size of the right term in @xmath494 is strictly smaller than in @xmath248",
    ".    for instance , assume @xmath472 @xmath331-holds , @xmath495 , @xmath496 , @xmath497 for @xmath498 and @xmath499 $ ] .",
    "therefore , @xmath500 , @xmath501 $ ] and @xmath502 when @xmath503 .",
    "so , @xmath504 and by assumption @xmath505 . with @xmath24 @xmath8-reductions",
    "we obtain @xmath506 and position @xmath507 , therefore , @xmath508-holds .",
    "next , assume @xmath472 @xmath331-holds , @xmath481 , @xmath509 $ ] and @xmath488 for @xmath489 . by assumption ,",
    "so , @xmath511 .",
    "consider any choice of next position .",
    "if @xmath512 then @xmath513 $ ] , @xmath514 and @xmath515 .",
    "therefore , @xmath516 and so this next position @xmath492-holds for some @xmath492 and @xmath517 is strictly smaller than @xmath352 .",
    "alternatively , @xmath518 . therefore",
    ", @xmath519 and @xmath520 @xmath492-holds for some @xmath492 provided that the @xmath368 s are new ( which is guaranteed as they are forbidden constants ) .",
    "so the next position @xmath492-holds and the right term of @xmath521 $ ] is strictly smaller than @xmath352 .",
    "assume @xmath472 @xmath331-holds and @xmath522 , @xmath487 $ ] , @xmath523 , @xmath524 , @xmath488 for @xmath489 and @xmath525 ; so , @xmath526 and @xmath527 .",
    "by assumption , @xmath528 . with @xmath24 @xmath8-reductions",
    "the left term in this equation becomes @xmath529 and so the next position @xmath508-holds .",
    "all other cases of ( 1 ) are close to one of these three , and the proof of ( 2 ) is also very similar .",
    "the only cases where the measure , size of right term in state and the number of @xmath8-reductions to normal form , does not decrease are applications of a3 when @xmath259 is labelled with a dummy lambda and c4 when @xmath377 of figure  [ game ] . as a supplementary argument",
    "we show that there can not be an indefinite sequence of such applications of a3 followed by c4 by examining the index @xmath241 that is called at these positions ; namely , @xmath530 in the case of a3 and @xmath531 in the case of c4 ; this index must be strictly decreasing in such repeated sequence of applications of a3 followed by c4 .",
    "the result now follows : if @xmath82 then for each initial position that starts from an equation there is an @xmath331 such that it @xmath331-holds and for each disequation there is an @xmath331 such that it @xmath331-fails .",
    "conversely , if @xmath532 then there is an initial position for some equation that @xmath331-fails or for some disequation there is an @xmath331 such that it @xmath331-holds .",
    "the game is analogous to a model - checking game in the sense that deciding a possibly complex temporal property of a transition graph can be formulated as a game whose arena is the graph and where the moves are locally small steps that traverse it ; similarly , the complex property whether @xmath4 solves @xmath10 is here formalised as a game whose arena is @xmath4 involving locally small steps and local moves . in both cases , play proceeds until one definitely knows an outcome .",
    "in the following we let @xmath533 range over plays in a game @xmath473 . the total number of different plays is at most the sum of the number of branches in the right terms @xmath5 of @xmath10 .",
    "for instance , in the case of example  [ examp44 ] whose right term is @xmath534 there is a single play .",
    "we now examine some properties of plays and introduce relationships between play positions that uses the play indices in the look - up tables .",
    "[ rem1 ] theorem  [ thm1 ] allows one to restrict the set of constants that can appear in a potential solution term @xmath4 for @xmath10 .",
    "let @xmath535 be a new constant that does not occur in any right term @xmath5 of a ( dis)equation in @xmath10 ( and which is also not a forbidden constant ) . without loss of generality",
    ", we can assume that any potential solution term @xmath4 to @xmath10 only contains the constant @xmath362 and constants that occur in the right terms of @xmath10 : a similar observation is made in @xcite .",
    "the justification appeals to moves a1 and a2 of figure  [ game ] .",
    "assume @xmath82 .",
    "control in a play associated with an interpolation equation in @xmath10 can never be at a node in @xmath4 labelled with a constant that does not occur in a right term ( as @xmath251 would win the play ) .",
    "if control in a play associated with an interpolation disequation in @xmath10 is at a node @xmath180 labelled with a constant that does not occur in a right term then replacing @xmath180 in @xmath4 with a single node labelled @xmath362 preserves @xmath251 s win .    1 .   the _ length _ of @xmath536 , @xmath537 , is the number of positions @xmath538 in @xmath536 .",
    "2 .   the _ @xmath140th position _ of @xmath536 is @xmath539 where @xmath540 .",
    "the sequence of positions @xmath541 , @xmath542 , is written @xmath543 .",
    "we write @xmath544 , @xmath545 , @xmath546 and @xmath547 when @xmath548 and @xmath549 means that @xmath550 and @xmath551 .",
    "we shall describe a sequence of positions @xmath543 as an _",
    "interval_.    the _ right term _ of state @xmath223 $ ] , @xmath552 $ ] or @xmath214 $ ] is the term @xmath219 .",
    "each @xmath342 is a _ left term _ of @xmath223 $ ] and @xmath216 is the _ left term _ of @xmath214 $ ] .",
    "[ ri ] [ defi48 ] the interval @xmath543 is _ ri _ , _ right term invariant _ , if @xmath545 and @xmath553 share the same right term @xmath219 .",
    "it is _ nri _ if it is not ri and @xmath553 is not a final state .    clearly , if @xmath543 is ri then _ every _ state at every position in this interval shares the same right term .",
    "for instance , when @xmath536 is the play of figure  [ ex2 ] , the interval @xmath554 is ri as all its states share the right term @xmath298 ; also , each position in @xmath555 is the result of moves a3 or c4 .",
    "the outcome of the other moves in figure  [ game ] , a1 , a2 , b1 , c1 , c2 and c3 , depend on the right term of the state .",
    "[ fact55 ] if @xmath543 is ri and @xmath556 is labelled @xmath181 for some @xmath184 then each position in @xmath557 is the result of move a3 or c4 of figure  [ game ] .",
    "intervals that are ri do not directly contribute to the solution of @xmath10 .",
    "[ factri ] if @xmath558 is a sequence of positions that is ri , @xmath559 is labelled @xmath181 and @xmath560 is state q with right term @xmath561 instead of @xmath219 , then @xmath562 is also a sequence of positions that is ri .",
    "consider a position @xmath563 of a play .",
    "if there is a free occurrence of @xmath69 in the subtree @xmath4 then @xmath240 is defined ; similarly , if there is a free occurrence of a variable @xmath242 in a left term of @xmath564 then @xmath565 is defined .",
    "in contrast , if there is a bound occurrence of @xmath69 , a node labelled @xmath566 with @xmath567 , in the subtree @xmath4 then @xmath240 is not defined and similarly , if there is a bound occurrence of @xmath242 in a left term of @xmath564 then @xmath565 is not defined .    [ imp ]",
    "assume @xmath568 .    1 .",
    "if @xmath566 labels a node in the subtree rooted at @xmath4 then for each @xmath569 , @xmath570 is undefined .",
    "if @xmath69 occurs free in the subtree rooted at @xmath4 then @xmath240 is defined .",
    "3 .   if @xmath571 $ ] or @xmath223 $ ] and @xmath572 occurs in @xmath216 or in some @xmath209 , @xmath573 , then for any @xmath574 , @xmath575 is not defined .",
    "if @xmath571 $ ] or @xmath223 $ ] and @xmath242 occurs free in @xmath216 or in some @xmath209 , @xmath569 , then @xmath565 is defined .",
    "we prove this by induction on the position @xmath140 in a play @xmath536 .",
    "we also show by induction on @xmath140 that if @xmath576 @xmath124 @xmath577 then the following additional four properties hold .    1 .   for any @xmath69 , if @xmath578 and @xmath572 occurs in @xmath216 , then for any @xmath574 , @xmath579 is not defined .",
    "2 .   for any @xmath69 ,",
    "if @xmath578 and @xmath242 occurs free in @xmath216 , then @xmath580 is defined .",
    "3 .   if @xmath581 and @xmath566 labels a node in the subtree rooted at @xmath582 then for @xmath583 , @xmath584 is undefined .",
    "4 .   if @xmath581 and @xmath69 occurs free in the subtree rooted at @xmath582 then @xmath585 is defined .    for the base case , consider an initial position @xmath586",
    "@xmath124 @xmath587 \\ , \\theta_{1 } \\xi_{1}$ ] where @xmath247 is the root node of @xmath4 labelled @xmath67 .",
    "there are no free variables in @xmath4 or in the @xmath87 s .",
    "moreover , both @xmath231 and @xmath232 are empty ; therefore ( 1 ) to ( 4 ) hold .",
    "now we need to show the additional properties for @xmath588 : by definition @xmath589 and @xmath590 .",
    "therefore , these properties hold .",
    "consider next the general case for position @xmath539 .",
    "if @xmath539 is the result of moves a1-a3 of figure  [ game ] applied to @xmath591 then @xmath457 and @xmath424 follow because they are true at @xmath591 and @xmath546 is an update of @xmath592 with respect to the ( potentially ) free variables @xmath593 such that @xmath594 is labelled @xmath260 .",
    "parts @xmath426 and @xmath429 trivially hold for a1 and a2 . in the case of a3 ,",
    "if @xmath595 is labelled @xmath596 when @xmath594 is labelled @xmath260 then @xmath426 and @xmath429 follow from the induction hypothesis that they hold at @xmath591 ; otherwise they follow from the induction hypothesis for the first two additional properties at @xmath591 .",
    "if @xmath539 is the result of move b1 of figure  [ game ] to @xmath591 then as @xmath1 , @xmath237 are unchanged @xmath597 remain true .",
    "finally , we examine the case when @xmath539 is the result of moves c1-c4 to @xmath591 .",
    "cases @xmath426 and @xmath429 hold because @xmath547 is a simple updating of @xmath598 where they hold .",
    "cases @xmath457 and @xmath424 hold for c1-c3 because @xmath546 and @xmath592 are the same . in the case of move",
    "c4 , @xmath457 and @xmath424 either follow from the induction hypothesis that they hold at @xmath591 or from the induction hypothesis for the final two additional properties at @xmath591 . using that @xmath597 are true at @xmath539 , the argument is similar for showing that the four additional properties hold at @xmath599 .",
    "now we examine some simple relationships between look - up tables .",
    "we allow @xmath335 , @xmath600 to range over both kinds of look - up tables .",
    "two look - up tables @xmath335 , @xmath334 are equal , @xmath601 , if , and only if , @xmath602 and for all @xmath603 , @xmath604 ; that is , if @xmath605 and @xmath606 then @xmath607 , @xmath608 and @xmath609 .",
    "this is well defined because the definitions of look - up tables @xmath224 and @xmath225 in definition  [ defi42 ] are well - founded with respect to the embedding of look - up tables .",
    "a look - up table @xmath335 _ extends _",
    "@xmath334 if for all @xmath610 , @xmath604 .",
    "assume @xmath536 is the play in figure  [ ex15 ] that operates on the term tree in figure  [ ex14 ] .",
    "the look - up table @xmath611 consists of three entries @xmath612 ; it therefore extends @xmath613 which is just the single entry @xmath614 . on the other hand , although @xmath615 extends @xmath616 it does not extend @xmath1 ; it consists of the entries @xmath617 . in similar fashion ,",
    "@xmath618 which is @xmath619 extends @xmath620 which only contains the first two of these entries .",
    "let @xmath548 and let @xmath621 be a later position .",
    "if @xmath180 is a subtree of @xmath4 and @xmath616 extends @xmath1 then the free variable occurrences that are common to both @xmath4 and @xmath180 have the same interpretation ; their meaning is preserved at position @xmath241 .",
    "similarly , if @xmath622 extends @xmath11 then the free variable occurrences that are common to the left terms of @xmath564 and @xmath623 have the same interpretation .",
    "both look - up tables of positions that are the result of moves a1 , a2 , b1 , c1-c3 of figure  [ game ] extend ( or are equal to ) those of the previous position . in the case of a3",
    "the @xmath1 look - up table extends the one from the previous position but this is not true , in general , for the @xmath237 table .",
    "dually , in the case of c4 the @xmath237 table extends the one of the previous position but this may not hold for the @xmath1 look - up table .",
    "we want to restore when _ both _ look - up tables are extensions of an earlier position . for this",
    "we introduce a similar notion to that in game semantics that later positions are justified by earlier positions @xcite .",
    "we define when a later position is a child of an earlier position .",
    "it is at this point that we appeal to the third component of an entry in a look - up table .",
    "[ def410 ] position @xmath624 is a _ child _ of position @xmath539 if @xmath625 and the following by cases of which move @xmath626 is the result of    1 .",
    "a2 , b1 , c2 or c3 : then @xmath627 , 2 .",
    "a3 : then @xmath4 is labelled @xmath69 and @xmath628 , 3 .",
    "c4 : then @xmath214 \\in \\pi(j-1)$ ] , the head variable in @xmath216 is @xmath29 and @xmath629 .",
    "assume @xmath630 is the child of @xmath631 ; if @xmath626 is the result of a3 then @xmath180 is the binder of @xmath4 and if it is the result of c4 then @xmath4 is a successor of @xmath180 .",
    "[ fact411 ] assume @xmath626 is a child of @xmath539 .    1 .",
    "if @xmath632 \\ , \\theta ' \\xi'$ ] is the result of a3 and @xmath633 \\theta \\ , \\xi$ ] , then @xmath4 binds @xmath180 , @xmath634 and for some @xmath635 , @xmath636 .",
    "if @xmath637 \\theta '   \\xi'$ ] is the result of c4 , @xmath638 \\in \\pi(j-1)$ ] and @xmath639 \\theta \\xi$ ] then @xmath640 , @xmath641 and for some @xmath642 , @xmath643 and the head variable of @xmath644 is @xmath645 .",
    "[ child ] if @xmath646 then there is a unique @xmath647 such that @xmath626 is a child of @xmath539 .",
    "for this reason , we also say that @xmath539 is _ the parent _ of @xmath626 instead of @xmath626 is a child of @xmath539 .",
    "let @xmath536 be the play in figure  [ ex15 ] which is on the tree in figure  [ ex14 ] .",
    "every position that occurs at nodes @xmath424 and @xmath429 labelled with @xmath242 is a child of @xmath586 ; examples include @xmath648 , @xmath649 and @xmath650 .",
    "not every position that occurs at the nodes @xmath461 and @xmath196 labelled @xmath462 is a child of @xmath651 ; positions @xmath652 , @xmath653 and @xmath654 are whereas @xmath655 , @xmath656 and @xmath657 are not .",
    "nodes @xmath431 and @xmath461 are the successors of @xmath429 ; children of position @xmath658 at @xmath429 are @xmath659 , @xmath660 and @xmath661 while @xmath662 , @xmath663 and @xmath664 are not . position @xmath665 is a child of @xmath666 through a2 and @xmath667 is a child of @xmath668 through b1 .",
    "if @xmath626 is a child of @xmath539 , @xmath544 and @xmath669 then @xmath670 or there is a path of successors from @xmath4 to @xmath180 .    the following is a critical consequence of the definition of a child position that _ both _ its look - up tables extend those of its parent .",
    "[ child1 ] assume @xmath626 is a child of @xmath539 .    1 .",
    "@xmath671 extends @xmath546 , 2 .",
    "@xmath672 extends @xmath673 .",
    "assume that @xmath626 is a child of @xmath539 and @xmath674 and @xmath675 .",
    "if @xmath626 is a child of @xmath539 as a result of b1 or c2 of figure  [ game ] then the result is true because the look - up tables of @xmath539 and @xmath626 are the same . in the case of c3 , @xmath640 and @xmath676 or @xmath677 for some @xmath678 , @xmath372 , @xmath338 .",
    "therefore , @xmath679 extends @xmath237 as the @xmath372 s are not defined in @xmath237 by proposition  [ imp ] .",
    "a similar argument applies when @xmath626 is the result of a2 ; now @xmath634 and @xmath640 or @xmath680 for some @xmath681 and @xmath336 , @xmath338 , and @xmath616 extends @xmath1 as the @xmath336 s are not defined in @xmath1 using proposition  [ imp ] .",
    "next we examine the cases for a3 and c4 . by definition of a3 , the look - up table @xmath634 and by definition of c4 , @xmath640 .",
    "therefore , we just need to prove the result for the other look - up tables . in both cases",
    "the proof proceeds by case analysis of @xmath682 .",
    "the initial case is when @xmath683 .",
    "therefore , for a3 this means that @xmath669 is labelled with a variable @xmath69 which is bound by @xmath181 which labels @xmath684 ; so @xmath616 @xmath124 @xmath685 for some @xmath331 and @xmath686 , @xmath687 .",
    "consequently , @xmath616 extends @xmath1 using proposition  [ imp ] ( since @xmath1 does not have an entry for @xmath69 ) .",
    "similarly , in the case of c4 when @xmath683 , @xmath688 \\in \\pi(i)$ ] for some @xmath322 and @xmath679 @xmath124 @xmath689 and @xmath237 does not have entries for the @xmath372 s using proposition  [ imp ] . for the general case for a3 , we examine the branch between @xmath544 and @xmath669 where @xmath4 is labelled @xmath181 and @xmath180 is labelled @xmath69 ; which is the sequence of nodes with labels @xmath690 where each @xmath88 is a constant or variable and @xmath183 .",
    "consider position @xmath691 .",
    "clearly , @xmath616 extends @xmath692 by a similar argument to the base case .",
    "position @xmath693 is a child of @xmath694 for some @xmath695 with @xmath696 which is labelled @xmath697 by c4 , b1 or c2 : in all cases @xmath698 extends @xmath699 by definition of these moves .",
    "the argument continues for position @xmath700 .",
    "so , we reach a position @xmath701 with @xmath702 labelled @xmath703 . by assumption",
    ", @xmath704 extends @xmath705 : this means they have the same entry for the @xmath336 s in @xmath706 when they are bound by @xmath181 which is the label of @xmath544 .",
    "consider the relationship between @xmath701 and @xmath539 .",
    "clearly , it can not be the case that @xmath707 because this would contradict the entries in @xmath708 for the variables in @xmath184 .",
    "moreover , by definition of the moves in a , @xmath709 has the same entries for the @xmath69 s in @xmath184 as @xmath701 and @xmath710 .",
    "a small argument shows that @xmath701 must , therefore , be @xmath711 : otherwise , @xmath712 would not be a child of @xmath701 .",
    "consequently , @xmath616 extends @xmath1 .",
    "we now examine the general case for c4 .",
    "one possibility is that @xmath626 is the result of a sequence of c3 moves followed by c4 : clearly , in this case @xmath679 extends @xmath237 . otherwise , @xmath713",
    "\\in \\pi(i)$ ] and",
    "@xmath714 is @xmath715 for some @xmath331 ; so @xmath716 extends @xmath237 .",
    "therefore , @xmath717 is labelled with some @xmath718 and @xmath719 has the form @xmath720 $ ] where @xmath216 is @xmath721 or @xmath722 for some @xmath24 : we know that @xmath679 extends @xmath723 .",
    "there may be a sequence of positions @xmath724 where each @xmath725 , @xmath726 is the result of c3 ( and , therefore , @xmath679 extends @xmath727 ) .",
    "otherwise @xmath728 .",
    "position @xmath694 is a child of a unique position @xmath729 labelled @xmath730 by a3 and so @xmath731 extends @xmath732 .",
    "this argument is now repeated : consider position @xmath733 labelled with @xmath734 .",
    "again , there may be a sequence @xmath735 where the moves are the result of c3 and either @xmath736 or @xmath737 is a child of @xmath738 .",
    "eventually , for some @xmath24 , @xmath739 as each @xmath731 has the entries @xmath740 for the @xmath202 s .",
    "[ def416 ] the binary relation _ is a descendent of _ on positions is the reflexive and transitive closure of `` is a child of '' .",
    "in this section , we connect the static structure , regions of a potential solution term of a ( dual ) interpolation problem , with the dynamics of game playing . to this end ,",
    "partial subtrees of a term tree are introduced .",
    "assume @xmath741 .    1 .",
    "node @xmath180 labelled @xmath471 is an _ atomic leaf _ of type @xmath13 .",
    "2 .   node @xmath180 labelled @xmath742 is an _ atomic leaf _ of type @xmath17 when each @xmath743 3 .",
    "if @xmath180 is labelled @xmath744 then @xmath180 is a _ simple tile_. 4 .   if node @xmath180 is labelled @xmath745 and each node @xmath746 is an atomic leaf of type @xmath747 and @xmath748 , @xmath489 , then @xmath749 is a _",
    "simple tile_.    a potential solution tree without its initial lambda is a tree of simple tiles .",
    "for instance , the region @xmath750 of figure  [ ex1 ] is a simple tile labelled @xmath751 with atomic leaves @xmath426 and @xmath439 labelled @xmath752 and @xmath471 ; the region @xmath753 is labelled @xmath754 ; the region @xmath755 is a simple tile labelled @xmath756 .",
    "single nodes such as ( 16 ) and ( 20 ) are also simple tiles but without atomic leaves .",
    "the definition precludes node @xmath424 by itself or @xmath757 as simple tiles .    in the following ,",
    "as it makes the presentation cleaner , we describe tiles directly through their labelling .",
    "for example , @xmath751 identifies @xmath750 of figure  [ ex1 ] .",
    "when there is ambiguity , such as with @xmath758 of figure  [ ex14 ] , we disambiguate by describing the root node ; @xmath758 at @xmath461 versus @xmath758 at @xmath196 .",
    "tiles can be composed to form composite tiles .",
    "a ( possibly composite ) tile is a partial tree which can be extended at any of its atomic leaves .",
    "if @xmath759 is a tile with leaf @xmath760 and @xmath761 is a simple tile , then @xmath762 is the composite tile that is the result of placing @xmath761 directly beneath @xmath760 in @xmath763 .",
    "for instance , we can compose the tile @xmath754 of figure  [ ex1 ] with the tile @xmath764 beneath @xmath765 and produce the composite tile @xmath766 which has three atomic leaves : in figure  [ ex1 ] this tile is the region @xmath767 .",
    "we write @xmath768 if @xmath763 is a ( composite ) tile with atomic leaves @xmath769 .",
    "a tile @xmath768 is a multi - holed context .",
    "it is also a subregion of a term and we assume that the usual definitions of free and bound variable occurrences apply : for instance , the free variables in @xmath770 are the two occurrences of @xmath242 .",
    "later we shall manipulate tiles and , therefore , we have given them an independent existence .",
    "[ basic ] a ( composite ) tile @xmath763 is said to be _ basic _ if @xmath763 contains    1 .",
    "exactly one occurrence of a free variable and no occurrences of constants , or 2 .",
    "exactly one occurrence of a constant and no occurrences of free variables .    by definition ,",
    "simple tiles are basic .",
    "the single occurrence of the free variable or constant in a basic tile is its `` head '' element .",
    "particular contiguous regions of a term tree are basic tiles . in figure  [ ex1 ]",
    "the region @xmath771 is a basic tile rooted at ( 14 ) with the single atomic leaf @xmath471 .",
    "however , if we also included node ( 18 ) then it would be a composite tile @xmath772 without atomic leaves , but not a basic tile .",
    "[ defi53 ] assume @xmath763 and @xmath773 are basic tiles in a tree .    1 .",
    "@xmath773 is _",
    "@xmath768 if there is a path of successors from @xmath774 to @xmath773 .",
    "2 .   @xmath773 is _ below _",
    "@xmath763 ( or @xmath763 is _ above _",
    "@xmath773 ) if @xmath773 is @xmath241-below @xmath763 for some @xmath241 .    in figure",
    "[ ex14 ] , the tile @xmath775 , rooted at ( 8) , is @xmath21-below @xmath776 and @xmath777 at ( 20 ) is @xmath157-below the same tile .",
    "[ defdepend ] assume @xmath763 and @xmath773 are basic tiles in a tree .    1 .",
    "@xmath773 is an _",
    "immediate @xmath241-dependent _ of tile @xmath763 if @xmath773 is @xmath241-below @xmath763 and @xmath773 contains a free variable that is bound in @xmath763 .",
    "2 .   @xmath773 is a _",
    "@xmath241-dependent _ of @xmath763 if it is an immediate @xmath241-dependent of @xmath763 or there is a @xmath761 that is an immediate @xmath241-dependent of @xmath763 and @xmath773 is a @xmath24-dependent of @xmath761 for some @xmath24 .",
    "@xmath773 is a ( _ immediate _ ) _ dependent _ of @xmath763 if @xmath773 is a ( immediate ) @xmath241-dependent of @xmath763 for some @xmath241 .",
    "the tile @xmath758 rooted at ( 6 ) of figure  [ ex14 ] is an immediate @xmath21-dependent of @xmath776 rooted at ( 2 ) and @xmath777 rooted at ( 20 ) is a @xmath157-dependent . given a tile @xmath763 , its set of dependents are all the tiles below it whose free variables are either bound within @xmath763 or are bound within a dependent of @xmath763 .",
    "for instance , the dependents of @xmath778 of figure  [ ex14 ] are @xmath775 rooted at ( 8) and @xmath779 at ( 16 ) .",
    "[ family ] tiles @xmath763 and @xmath773 belong to the _ same family _ in a tree if one is a dependent of the other , or there is a @xmath761 such that both are dependents of @xmath761 .",
    "the _ family _ of tiles associated with @xmath763 in a tree consists of @xmath763 and each tile @xmath773 that belongs to the same family as @xmath763 .    in figure  [ ex14 ]",
    "the family associated with @xmath779 at ( 16 ) is the set of tiles containing @xmath778 at ( 4 ) , @xmath775 at ( 8) and @xmath779 .",
    "assume basic tiles @xmath763 and @xmath773 .",
    "if position @xmath626 is the result of move a3 of figure  [ game ] and is a child of @xmath539 and @xmath669 is in @xmath773 and @xmath544 is in @xmath763 then @xmath773 is a dependent of @xmath763 .",
    "if @xmath626 is the result of move c4 and @xmath669 is in @xmath773 and @xmath780 is in @xmath763 , then these two tiles belong to the same family : this important property is proved in section  [ unfold ] . in the play of figure  [ ex15 ] ,",
    "play at @xmath781 at position 16 jumps to @xmath782 of @xmath778 and play at @xmath779 at position 20 jumps to @xmath783 .    [ defi54 ] assume @xmath763 and @xmath773 are basic tiles that each contain an occurrence of a free variable .    1 .",
    "@xmath763 and @xmath773 are _ equivalent _ , written @xmath784 , if they are @xmath41-equivalent ; that is , they are the same basic tiles with the same number and type of atomic leaves and with the same single free variable occurrence @xmath69 .",
    "if @xmath784 and @xmath247 is a node of @xmath763 and @xmath785 is the corresponding equivalent node of @xmath773 then we write @xmath786 .",
    "if @xmath784 and @xmath773 is below @xmath763 then @xmath773 is said to be an _ embedded _ tile .",
    "the reader can verify that `` tile equivalence '' is indeed an equivalence relation . in figure  [ ex1",
    "] , each pair of tiles @xmath751 , @xmath787 , @xmath754 and @xmath764 is equivalent : nodes such as those with labels @xmath788 and @xmath789 correspond .",
    "each of these tiles except the first is also an embedded tile .",
    "the tile @xmath758 rooted at ( 6 ) is equivalent to @xmath758 rooted at ( 10 ) of figure  [ ex14 ] : however , neither is equivalent to @xmath775 rooted at ( 8) .",
    "[ static ] assume @xmath790 is a basic tile .    1 .",
    "@xmath763 is a _",
    "top _ tile if it contains a free variable occurrence that is is bound by the initial lambda of the term tree .",
    "2 .   @xmath763 is _ @xmath241-end _ if @xmath763 has no immediate @xmath241-dependents .",
    "it is an _ end _",
    "tile if it is @xmath241-end for _ all _ @xmath791 .",
    "3 .   @xmath763 is a _ constant _ tile if it contains an occurrence of a constant or it is a dependent of a constant tile .",
    "the tile @xmath792 rooted at ( 2 ) in figure  [ ex1 ] is a top tile as @xmath242 is bound by the initial lambda at node ( 1 ) .",
    "it is also @xmath157-end because no tile beneath node ( 11 ) contains a free variable occurrence that is bound within it : however , it is not @xmath21-end because of the tile occurrence @xmath29 at node ( 8) .",
    "tile @xmath787 rooted at ( 6 ) is a top tile and also an end tile .",
    "tiles @xmath793 rooted at ( 6 ) , @xmath794 at ( 8) and @xmath777 at ( 12 ) in figure  [ picture2 ] are all constant tiles .",
    "the previous definitions provide a classification of basic tiles within a tree that only appeals to the static structure of the tree .",
    "tiles can also be categorised in terms of dynamic properties of game playing .",
    "the interval @xmath543 is a",
    "_ play _ on the simple tile @xmath795 if @xmath796 , @xmath797 for some @xmath798 and @xmath626 is a child of @xmath539 .",
    "m - play _ if @xmath797 .",
    "a simple tile has the form @xmath799 or @xmath800 .",
    "a play @xmath543 on such a tile starts at the head of the tile and ends at one of its atomic leaves ; importantly , @xmath626 must be a child of @xmath539 .",
    "a play on a simple constant tile @xmath801 is a consecutive pair of positions @xmath802 with @xmath796 and @xmath803 for some @xmath331 ( by moves b1 or c2 of figure  [ game ] ) .",
    "[ fact57 ] if @xmath543 is a play on a simple constant tile then @xmath683 .",
    "for instance , if @xmath536 be the play in example  [ examp42 ] whose term tree is depicted in figure  [ picture2 ] then @xmath804 is a play on the simple constant tile @xmath805 and @xmath806 is a play on the simple constant tile @xmath794 .    a play @xmath543 on a simple non - constant tile @xmath799 can have arbitrary length .",
    "it starts at the node labelled with @xmath69 and finishes at a node labelling an atomic leaf @xmath807 . in between , control",
    "can be almost anywhere in the tree ( including the node labelling @xmath69 ) .",
    "however , because @xmath626 is a child of @xmath539 the look - up tables of @xmath626 extend those of @xmath539 as shown in proposition  [ child1 ] .",
    "let @xmath536 be the play in figure  [ ex15 ] on the tree in figure  [ ex14 ] .",
    "the simple tile @xmath808 is rooted at ( 2 ) .",
    "there are various plays on @xmath763 : @xmath21-plays include @xmath809 and @xmath810 ; @xmath811 and @xmath812 are @xmath157-plays . if @xmath813 rooted at ( 4 ) then @xmath814 and @xmath815 are @xmath21-plays on @xmath773 : however , the interval @xmath816 is not a play on @xmath773 because @xmath662 is a child of @xmath649 .",
    "if @xmath763 is the end tile @xmath775 rooted at ( 8) then there is just one play @xmath817 on it ; the interval @xmath818 is not a play on @xmath763 .",
    "the definition of play on a simple tile can be extended to arbitrary composite tiles by composing consecutive plays on the simple tiles from its root to one of its atomic leaves .",
    "[ def612 ] the interval @xmath543 is a play on the composite tile @xmath819 if there is a path of successor nodes with labels @xmath820 from the root of @xmath763 to an atomic leaf @xmath821 such that @xmath822 and @xmath823 is a play on the simple tile @xmath824 with @xmath825 for @xmath826 .",
    "it is an _ @xmath331-play _ if @xmath797 .",
    "if @xmath827 , @xmath828 , and @xmath4 is labelled with a lambda then there is a unique partition of @xmath829 into plays on the simple tiles that occur on the branch from the node directly beneath the initial @xmath471 of the tree to @xmath4 .",
    "the partition also preserves children .",
    "[ prop511 ] assume @xmath827 and @xmath4 is labelled with @xmath830 and @xmath831 is the labels of the sequence of nodes from the root of the tree to @xmath4 .",
    "then there is a unique partition of @xmath832 such that for @xmath833    1 .",
    "@xmath834 and @xmath835 is a play on the simple tile @xmath836 with @xmath837 , 2 .",
    "if @xmath838 is a variable bound by @xmath839 then @xmath840 is a child of @xmath841 .",
    "assume @xmath827 and @xmath4 is labelled with @xmath830 and @xmath842 are the labels of the sequence of nodes from the root of the term tree to @xmath830 .",
    "assume @xmath843 .",
    "let @xmath844 be the play on the simple tile @xmath845 such that @xmath694 is a child of @xmath846 : move @xmath694 is the result of b1 , c2 or c4 of figure  [ game ] ( and , therefore , @xmath846 is uniquely defined from definition  [ def410 ] ) .",
    "let @xmath847 , the argument is now repeated for @xmath848 as a play on @xmath849 and so on for subsequent tiles in the branch from the node labelled @xmath830 to the root .",
    "clearly , this will define a partition of @xmath850 ) into @xmath851 with @xmath852 : hence , we can add @xmath853 with @xmath854 at the beginning .",
    "next assume that @xmath838 is a variable bound by @xmath839 .",
    "it is straightforward to show that the look - up tables in @xmath840 extend those in @xmath855 , which , therefore , implies that @xmath840 is a child of @xmath841 ; this follows from repeated application of proposition  [ child1 ] .",
    "[ def614 ] if @xmath827 and @xmath4 is labelled with @xmath830 and @xmath831 is the labels of the sequence of nodes from the root of the tree to @xmath4 then the unique partition @xmath832 such that for @xmath833 where each @xmath835 is the play on @xmath856 of proposition  [ prop511 ] is called the _ b - partition for position @xmath626_.    [ example512 ] let @xmath536 be the play in figure  [ ex15 ] on the tree in figure  [ ex14 ] .",
    "consider the two positions @xmath857 and @xmath858 where @xmath471 is at node ( 7 ) .",
    "below we illustrate the b - partitions for @xmath859 and @xmath860 .",
    "the branch from the root to @xmath471 is presented horizontally . @xmath861 the b - partitions capture children along their branches : @xmath648 and @xmath658 are children of @xmath586 ; @xmath651 is a child of @xmath648 ; @xmath659 and @xmath661 are children of @xmath658 ; @xmath652 and @xmath653 are children of @xmath651 .",
    "plays within these b - partitions may jump around the term tree : for instance , the play @xmath862 on @xmath758 rooted at ( 10 ) includes a sequence of moves that descends the branch below ( 17 ) .",
    "we now exhibit some useful uniformities of plays on tiles . given a play @xmath536 and tile @xmath763 we examine three aspects .",
    "first , there can be multiple plays @xmath863 , @xmath9 , @xmath864 on @xmath763 from the same initial position .",
    "second , there can be multiple plays from different starting positions @xmath865 , @xmath9 , @xmath866 on @xmath763 .",
    "a third consideration is the relationship between plays on @xmath761 and @xmath763 when these tiles are equivalent .",
    "we start with a pertinent property of a simple non - constant tile .",
    "[ plays ] if @xmath867 and @xmath868 are plays on the simple tile @xmath869 and @xmath870 then there is a position @xmath871 , @xmath872 , that is a child of @xmath873 .",
    "assume @xmath874 \\",
    ", \\theta \\ ,   \\xi$ ] , @xmath4 is labelled @xmath69 and @xmath867 , @xmath868 , @xmath875 , are plays on the simple tile @xmath869 ; so , @xmath876 for some @xmath241 .",
    "the look - up table @xmath714 is @xmath877 and the @xmath237 look - up tables in @xmath878 and @xmath879 both extend @xmath716 because @xmath873 , @xmath880 are children of @xmath539 .",
    "clearly , no look - up table @xmath881 , @xmath882 , has entries @xmath883 because for any @xmath242 , if @xmath884 then @xmath885 .",
    "consider the first position @xmath886 after @xmath873 that is at a node labelled with a variable @xmath425 .",
    "clearly , this node is below the node labelled @xmath774 in the tree .",
    "if @xmath425 is bound by @xmath774 then @xmath886 is a child of @xmath873 and the result is proved .",
    "otherwise @xmath886 is a child of an earlier position @xmath887 .",
    "either @xmath888 or @xmath889 .",
    "assume the former ; so , via move a3 the look - up table @xmath881 can not have an entry for any @xmath242 of the form @xmath890 because @xmath891 .",
    "play may then jump anywhere in the term tree using move c4 .",
    "if there is not a play @xmath892 on the simple tile whose head node is labelled @xmath425 then for all later positions @xmath893 , @xmath894 , @xmath895 can not include an entry for any @xmath242 of the form @xmath890 ; this is a contradiction because of the position @xmath880 .",
    "therefore , play must reach a position @xmath896 that is a child of @xmath886 ; so @xmath897 is a successor of the node labelled with @xmath425 and is therefore below ( the node labelled ) @xmath774 .",
    "next assume that @xmath898 so @xmath425 is bound by a @xmath181 that is below ( the node labelled ) @xmath774 .",
    "but then @xmath425 is bound to a leaf of a constant tile that occurs between the node labelled @xmath774 and the node labelled @xmath425 and so move c2 must apply and so play descends to a successor with position @xmath896 that is a child of @xmath886 where @xmath899 .",
    "this argument is now repeated for the next position after @xmath896 that is at a node labelled with a variable @xmath900 : this node must be below the node labelled @xmath774 .",
    "the argument proceeds as above , except there is the new case that @xmath893 is a child of @xmath896 .",
    "however , by move a3 , @xmath895 can not include an entry for some @xmath242 of the form @xmath901 .",
    "therefore , play must eventually reach a child of @xmath873 .    by iteration",
    ", this property extends to basic tiles .",
    "[ plays1 ] if @xmath867 and @xmath868 are plays on the basic tile @xmath768 , @xmath870 , and @xmath902 where @xmath903 is the path of ( labels of ) nodes from the root of @xmath763 to its atomic leaf @xmath904 and @xmath823 is a play on the simple tile @xmath905 with @xmath906 for @xmath826 then there is a position @xmath492 such that @xmath907 and @xmath871 is a child of @xmath908 for some @xmath644 .",
    "one consequence of corollary  [ plays1 ] is that there can not be more than one play on a basic end tile that starts from the same position .",
    "more precisely , we have the following .    [ end1 ] if @xmath867 is a @xmath241-play on the basic tile @xmath763 which is @xmath241-end , @xmath868 is a play on @xmath763 and @xmath909 then @xmath910 .",
    "assume @xmath911 is @xmath241-end .",
    "so @xmath763 has no dependents below the node labelled @xmath774 ; therefore , the binder of every free variable that occurs in the subtree below this node occurs above the tile @xmath763 in the tree .",
    "assume @xmath867 is a @xmath241-play on @xmath763 and @xmath868 , @xmath875 , is also a play on @xmath763 .",
    "the play @xmath867 can be partitioned into plays on the simple tiles of @xmath763 from its root to its atomic leaf @xmath876 . therefore , by corollary  [ plays1 ] there is a position @xmath871 , @xmath907 , that is a child of one of the final positions of a simple tile in the partition of @xmath867 .",
    "but then , by the definition of child , see fact  [ fact411 ] , there must be a free variable below the node labelled @xmath774 that is bound within @xmath763 which contradicts the assumption that @xmath763 is @xmath241-end .",
    "special restricted plays of basic tiles are defined .",
    "[ defi516 ] assume @xmath543 is a play on basic tile @xmath763 .    1 .",
    "shortest play _ on @xmath763 if no proper prefix @xmath912 , @xmath913 , is also a play on @xmath763 .",
    "2 .   it is a _",
    "shortest @xmath331-play _ on @xmath763 if @xmath543 is a @xmath331-play on @xmath763 and no proper prefix @xmath912 , @xmath914 , is also an @xmath331-play on @xmath763 .",
    "it is also an _",
    "play ( @xmath331-play ) on @xmath763 provided that for any @xmath915 , if @xmath916 then @xmath4 is a node of @xmath763 .",
    "it is also an _ ri _ play ( @xmath331-play ) on @xmath763 if @xmath543 is ri ( see , definition  [ ri ] ) .",
    "let @xmath536 be the play in figure  [ ex2 ] .",
    "the interval @xmath809 is a shortest play on tile @xmath751 rooted at ( 2 ) of figure  [ ex1 ] : this play is also ri , internal and a shortest @xmath21-play .",
    "although @xmath917 is a shortest @xmath157-play , it is neither a shortest play nor an internal play .",
    "next , we define a uniformity condition concerning multiple plays on a basic tile .",
    "assume @xmath763 is a basic tile whose root node is @xmath180 .",
    "tile @xmath763 is _",
    "@xmath241-directed with respect to the interval @xmath918 _ if    1 .",
    "@xmath919 for all @xmath920 , or 2 .",
    "@xmath873 is the first position @xmath921 with @xmath922 and there is a shortest @xmath241-play @xmath923 on @xmath763 , @xmath923 is ri and @xmath763 is @xmath241-directed with respect to @xmath924 .",
    "[ directed ] the basic tile @xmath763 is _ @xmath241-directed _ with respect to the game @xmath925 if @xmath763 is @xmath241-directed with respect to @xmath926 for every play @xmath927 .",
    "if @xmath763 is @xmath241-directed with respect to a game then every play @xmath536 contains a ( unique ) sequence of ri intervals @xmath928 , for some @xmath322 , which are shortest @xmath241-plays on @xmath763 as follows ( assuming @xmath180 is the root of @xmath763 and @xmath774 is its @xmath241th atomic leaf ) .",
    "@xmath929 by definition , @xmath180 can not occur in a position that is outside of these intervals @xmath928 .",
    "a tile @xmath763 can be @xmath241-directed with respect to a game for multiple @xmath241 .",
    "if @xmath536 is the play of figure  [ ex15 ] on the tree in figure  [ ex14 ] then tile @xmath778 is @xmath21-directed with respect to @xmath926 because of the following sequence : @xmath930 however , it is not @xmath157-directed with respect to @xmath926 because @xmath931 is nri .",
    "recall that a basic top tile , see definition  [ static ] , has a single variable occurrence that is bound by the initial lambda of the term tree .",
    "equivalent basic top tiles are subject to the following local uniformity properties .",
    "[ prop515 ] assume @xmath763 , @xmath773 are basic top tiles , @xmath784 and @xmath932 is a shortest play on @xmath763 .    1 .",
    "@xmath932 is an internal play on @xmath763 .",
    "if @xmath932 is ri and @xmath933 is a shortest play on @xmath773 then @xmath933 is ri , @xmath934 and for all @xmath935 , @xmath936 implies @xmath937 where @xmath786 .",
    "if @xmath932 is ri and a @xmath241-play on @xmath763 then @xmath763 and @xmath773 are @xmath241-directed with respect to @xmath926 .",
    "if @xmath932 is nri and @xmath938 where @xmath4 is the root node of @xmath773 then there is an interval @xmath939 which is internal to @xmath773 that is either a shortest play on @xmath773 and nri or @xmath940 .",
    "let @xmath4 be the root node of top tile @xmath763 and assume @xmath544 .",
    "the state @xmath545 has the form @xmath941 $ ] where @xmath47 is a closed left term , a @xmath942 from a ( dis)equation of @xmath10 .",
    "therefore , a shortest play @xmath943 on @xmath763 is internal ( as a jump outside @xmath763 requires there to be a free variable in @xmath47 via move c4 of figure  [ game ] ) which shows ( 1 ) . if @xmath784 , @xmath180 is the root of @xmath773 and @xmath944 then the state @xmath945 has the same left term @xmath946 $ ] as @xmath941 \\in \\pi(i)$ ] . if the play @xmath932 is ri then there is a corresponding ri play @xmath947 on @xmath773 consisting of the same sequence of corresponding positions in @xmath763 and states ( except for their right terms @xmath219 and @xmath561 ) which shows ( 2 ) .",
    "furthermore , tile @xmath763 is @xmath241-directed with respect to @xmath536 when @xmath948 is a @xmath241-play on @xmath763 because each time play is at @xmath4 there is the same repeated shortest play on it ( and similarly for @xmath773 ) . for ( 4 ) , if the shortest play @xmath932 on @xmath763 is nri and @xmath944 then either there is a shortest play on @xmath773 that is nri ( but may involve different @xmath251-choices ) or play remains within @xmath773 and the final state is reached .",
    "tiles are equivalent to themselves , @xmath949 ; so proposition  [ prop515 ] also applies to repeated shortest plays on a single top tile @xmath763 .",
    "consider the tree in figure  [ ex14 ] and the play in figure  [ ex15 ] .",
    "the equivalent tiles @xmath950 are top tiles .",
    "shortest @xmath536 plays on the first of these tiles @xmath814 , @xmath815 , @xmath951 and @xmath952 are @xmath21-plays that are ri and each corresponds to the single shortest play @xmath809 on @xmath776 .",
    "top basic tiles are distinguished because their only free variable is bound by the initial lambda .",
    "we now show that there are also play uniformities on other equivalent tiles , in the case of _ embedded _ tiles ( as in definition  [ defi54 ] )",
    ". if @xmath784 and @xmath773 is below @xmath763 then shortest plays on the embedded tile @xmath773 are constrained by earlier plays on @xmath763 .",
    "[ prop516 ] assume @xmath763 , @xmath773 are basic tiles , @xmath784 and @xmath773 is below @xmath763 .    1 .",
    "if @xmath953 is a shortest play on @xmath773 that is ri and a @xmath24-play then there is a shortest play @xmath932 on @xmath763 , @xmath954 , that is ri and a @xmath24-play .",
    "if @xmath955 is a shortest play on @xmath773 that is nri then there is a shortest play @xmath956 on @xmath763 , @xmath954 , that is nri .",
    "assume @xmath763 and @xmath773 are basic equivalent tiles , @xmath784 , @xmath773 is below @xmath763 and @xmath955 is a shortest play on @xmath773 that is ri and a @xmath24-play . consider the unique b - partition of position @xmath957 from the root of the term tree to the atomic leaf of @xmath773 , see definition  [ def614 ] . because @xmath773 is below @xmath763",
    ", this b - partition contains a play @xmath958 on @xmath763 . because @xmath763 and @xmath773 are equivalent and @xmath955 is ri , these tiles contain the same single free variable @xmath69 at their root ; therefore , positions @xmath539 and @xmath626 share a common parent .",
    "therefore , @xmath547 is the same look - up table as @xmath959 , @xmath704 extends @xmath546 and if @xmath720 \\in \\pi(j)$ ] then @xmath214 \\in \\pi(i)$ ] for some @xmath219 .",
    "now , it is an easy argument that @xmath932 is ri and a @xmath24-play on @xmath763 .",
    "if instead @xmath955 is nri then some prefix of @xmath960 is a shortest nri play on @xmath763 that may involve different @xmath251 choices than in @xmath955 .    in the case of the tree in figure  [ ex14 ] and",
    "the play in figure  [ ex15 ] , tile @xmath758 rooted at ( 10 ) is an embedded ( end ) tile : its single play @xmath961 which is nri corresponds to the earlier play @xmath862 on @xmath758 rooted at ( 6 ) .",
    "there is an even stronger property of embedded end tiles : an embedded end tile is either @xmath241-directed with respect to a game for some @xmath241 , has at least one nri play or play finishes within it .",
    "[ end ] assume @xmath763 , @xmath773 are basic end tiles in a term tree @xmath4 , @xmath773 is @xmath241-below @xmath763 , @xmath784 and @xmath962",
    ". then either    1 .",
    "@xmath773 is @xmath241-directed with respect to @xmath926 , or 2 .",
    "there exist @xmath963 such that @xmath964 , @xmath923 is a nri @xmath241-play on @xmath763 , @xmath965 is the root node of @xmath773 and @xmath966 is a nri play on @xmath773 or @xmath967 and no prefix of @xmath966 is a play on @xmath773 .",
    "assume @xmath763 , @xmath773 are basic end tiles in term tree @xmath4 , @xmath784 and and @xmath773 is @xmath241-below @xmath763 .",
    "we follow the argument in the proof of proposition  [ prop516 ] .",
    "both @xmath763 and @xmath773 have the same head variable @xmath69 that is bound to the same @xmath181 above @xmath763 in @xmath4 .",
    "let @xmath968 .",
    "consider the first position @xmath922 where @xmath180 is the root of @xmath773 and the b - partition for @xmath878 .",
    "this partition must contain a @xmath241-play on @xmath763 , @xmath969 ( because @xmath773 is @xmath241-below @xmath763 ) ; positions @xmath539 and @xmath873 share a common parent",
    ". if @xmath970 is play on @xmath773 then the b - partition for @xmath871 is a simple extension of that for @xmath878 ; the play on @xmath763 is still @xmath969 . by proposition  [ end1 ]",
    ", @xmath969 is a @xmath241-play and so it is a corresponding play to @xmath970 by proposition  [ prop516 ] ; so , @xmath970 is ri and is a @xmath241-play on @xmath773 .",
    "this argument is repeated for the next position , @xmath971 , such that @xmath972 or until the @xmath241-play on @xmath763 in the b - partition is nri ; in which case , there is either an nri play on @xmath773 or a final state is reached .",
    "given an interpolation problem @xmath10 , the aim is to prove decidability of higher - order matching by establishing a small model property : if @xmath82 then there is a _ small _ term @xmath973 ( whose size is determined from @xmath10 ) . as we saw in section  [ props ] , the number of plays in the game @xmath203 is bounded by the number of branches in the right terms @xmath5 of the ( dis)equations of @xmath10 .",
    "however , there is no upper bound on the length of a play that is independent of the size and order of @xmath4 .",
    "nevertheless , a long play must contain significant ri intervals that do not directly contribute to solving @xmath10 : the number of times the right term in a state changes within all plays is bounded by @xmath165 , the right size of @xmath10 , definition  [ delta ] . game - theoretically , what will underpin the conversion of an arbitrary solution term @xmath4 to a small solution term @xmath180 is manipulation of tiles and their ri plays ( using omission , repetition and permutation ) .",
    "the proof for the general case is quite intricate .",
    "so , we proceed in stages . in this section",
    "we provide two proofs of decidability of @xmath12rd - order matching , one using a tree model property of game playing and the other using properties of embedded end tiles .",
    "both proofs appeal to omission of tiles and their ri intervals .    as a first step ,",
    "we introduce two transformations on term trees ( for terms of any order ) .",
    "a transformation @xmath974 converts a term tree @xmath4 into a term tree @xmath180 , written @xmath975*t*@xmath976 .",
    "assume @xmath180 is a subtree of @xmath4 whose root is labelled with a variable @xmath69 or a constant @xmath977 .",
    "the game @xmath473 _ avoids _",
    "@xmath180 if for every play @xmath968 , @xmath978 for all @xmath979 .",
    "assume @xmath180 and @xmath582 are trees whose roots are labelled with a constant or a variable .",
    "let @xmath980 $ ] be the result of replacing the subtree @xmath180 of @xmath4 with the tree @xmath582 .",
    "the first transformation is straightforward : if no play enters a subtree of @xmath4 then it can be replaced with the single node labelled with constant @xmath981 ( introduced in remark  [ rem1 ] ) .    1 .",
    "if @xmath473 avoids @xmath180 then transform @xmath4 to @xmath982 $ ]    the second transformation removes inner tiles from @xmath4 : if a basic tile is both @xmath241-end , definition  [ static ] , and @xmath241-directed with respect to the game @xmath203 , definition  [ directed ] , then it is redundant .    1 .   if @xmath768 is a @xmath241-end basic tile and @xmath241-directed with respect to @xmath473",
    ", @xmath180 is the subtree of @xmath4 rooted at @xmath763 and @xmath746 is the subtree directly beneath @xmath774 of @xmath763 then transform @xmath4 to @xmath983 $ ] .",
    "an application of * t2 * not only removes the tile @xmath768 from @xmath4 but also all subtrees that occur directly beneath any atomic leaf @xmath984 , @xmath985 , of @xmath763 . because @xmath763 has no @xmath241-dependents , all free variables that occur in the subtree @xmath746 directly below @xmath774 are bound above @xmath763 in @xmath4 ; therefore , the result of applying * t2 * is still a closed term ( in normal form with the right type ) .",
    "if @xmath763 is @xmath241-directed with respect to a game then each play involves a ( unique ) sequence of ri intervals which are shortest @xmath241-plays on @xmath763 , as described in the previous section .",
    "game - theoretically underpinning the correctness of * t2 * is _ omission _ of these inessential intervals from each play .",
    "if @xmath986 , @xmath987*ti*@xmath976 and @xmath82 then @xmath988 .",
    "this is clear in the case of @xmath989 .",
    "assume @xmath82 , @xmath768 is @xmath241-end and @xmath241-directed with respect to the game @xmath473 , @xmath582 is the subtree at the root of @xmath763 and @xmath746 is the subtree directly beneath @xmath774 .",
    "let @xmath990 $ ] . we show that @xmath988 .",
    "we convert each @xmath968 into a play @xmath991 that ends with the same final state .",
    "because @xmath763 is @xmath241-directed with respect to each play , @xmath536 can be split uniquely into the following regions @xmath992 where each @xmath993 is a ( shortest ) @xmath241-play on @xmath763 and is ri ; by definition of @xmath241-directed , node @xmath582 can not occur outside of these intervals .",
    "therefore , @xmath994 is a child of @xmath995 for each @xmath24 consequently , the play @xmath996 is just the outer intervals @xmath997 ( modulo the changes to the entries in the look - up tables ) because for each @xmath216 , @xmath998 is a child of @xmath999 .",
    "we show , that if @xmath1000 is a node in @xmath763 or is @xmath331-below an atomic leaf @xmath807 , @xmath1001 , of @xmath763 then @xmath1000 can not occur in any outer interval of @xmath536 .",
    "if @xmath1000 were to appear in such a position then move c4 must have applied : there is then a variable @xmath69 and a position in an outer region @xmath1002 and @xmath1003 and @xmath1004 and there is a free variable @xmath242 in @xmath216 such that @xmath1005 .",
    "however , this is impossible .",
    "consider @xmath1006 : clearly , there is no free variable in the subtree rooted at @xmath582 with this property .",
    "when play reaches @xmath886 because @xmath763 is a @xmath241-end tile and because the look - up tables in @xmath886 extend those in @xmath701 there can not be a free variable in the subtree @xmath746 with this property either .",
    "this argument is now repeated for subsequent positions @xmath995 and @xmath994 .",
    "the two transformations are also _ reversible _ : we can add gratuitous subtrees and intersperse redundant @xmath241-end tiles with arbitrary subtrees beneath their other atomic leaves in any solution term .",
    "[ examp61 ] consider the @xmath7th - order problem @xmath1007 where @xmath1008 and @xmath1009 from example  [ examp1 ] .",
    "a solution term is in figure  [ ex1 ] .",
    "there are two plays , @xmath536 in figure  [ ex2 ] for the first equation and @xmath1010 in figure  [ nex2 ] for the second .",
    "@xmath1011\\ ,   \\theta_{1 } \\ , \\xi_{1 } & & & \\\\ ( 2 ) \\ ,",
    "q [ w , f(fa ) ] \\ , \\theta_{2 } \\xi_{2 } & \\ ! \\theta_{2 } = \\theta_{1 } { \\ { w \\xi_{1}1\\!/\\!z \\ } }   & \\ !",
    "\\xi_{2 } = \\xi_{1 } & \\ ! a3\\\\ ( 3 ) \\ , q[(y_{3}y_{4 } ) , f(f a ) ] \\ , \\theta_{3 } \\xi_{3 } & \\ ! \\theta_{3 } = \\theta_{2 } & \\ ! \\xi_{3 } = \\xi_{1 } { \\ { ( 3)\\theta_{2}2\\!/\\!y_{3},(11)\\theta_{2}2\\!/\\!y_{4 } \\ } } & \\ ! c4\\\\ ( 4 ) \\ , q[- , f(f a ) ] \\ , \\theta_{4 } \\xi_{4 } & \\ !",
    "\\theta_{4 } = \\theta_{2 } { \\ { ( y_{3 } y_{4 } )   \\xi_{3 } 3\\!/\\!x \\ } } & \\ ! \\xi_{4 } = \\xi_{3 } & \\ ! a2\\\\ ( 5 ) \\ ,",
    "q [ ( \\ ) , f a ] \\ , \\theta_{5 } \\",
    ", \\xi_{5 } & \\ ! \\theta_{5 } = \\theta_{4 } & \\ ! \\xi_{5 } = \\xi_{3 } & \\ ! b1\\\\ ( 6 ) \\ , q[w , fa ] \\ , \\theta_{6 } \\ , \\xi_{6 } & \\ ! \\theta_{6 } = \\theta_{4 } & \\ ! \\xi_{6 } = \\xi_{1 } & \\ ! a3\\\\ ( 7 ) \\ , q[(y_{3}y_{4 } ) , f a ] \\ , \\theta_{7 } \\ , \\xi_{7 } & \\ ! \\theta_{7 } = \\theta_{4 } & \\ ! \\xi_{7 } = \\xi_{1 } { \\ { ( 7)\\theta_{4}6\\!/\\!y_{3},(9)\\theta_{4}6\\!/\\!y_{4 } \\ } } & \\ ! c4\\\\ ( 8) \\ , q[y_{3 } y_{4 } , fa ] \\ , \\theta_{8 } \\ , \\xi_{8 } & \\ ! \\theta_{8 } =   \\theta_{4 } { \\ { y_{2 } \\xi_{7 } 7\\!/\\!u \\ } } & \\ ! \\xi_{8 } = \\xi_{3 } & \\ ! a3\\\\ ( 3 ) \\ , q[(y_{4 } ) , f a ] \\",
    ", \\theta_{9 } \\xi_{9 } & \\ ! \\theta_{9 } = \\theta_{2 } & \\ ! \\xi_{9 } = \\xi_{3 } & \\ ! c4\\\\ ( 4 ) \\ , q[- ,",
    ", \\theta_{10 } \\xi_{10 } & \\ ! \\theta_{10 } = \\theta_{2 } { \\ { y_{4}\\xi_{3}9\\!/\\!x \\ } } & \\ ! \\xi_{10 } = \\xi_{3 } & \\ ! a2\\\\ ( 5 ) \\ , q [ ( \\ ) , a ] \\ , \\theta_{11 } \\ , \\xi_{11 } & \\ ! \\theta_{11 } = \\theta_{10 } & \\ ! \\xi_{11 } = \\xi_{3 } & \\ ! b1\\\\ ( 6 ) \\ ,",
    "q[w , a ] \\ , \\theta_{12 } \\",
    ", \\xi_{12 } & \\ ! \\theta_{12 } = \\theta_{10 } & \\ ! \\xi_{12 } = \\xi_{1 } & \\ ! a3\\\\ ( 7 ) \\ , q[(y_{3 } y_{4 } ) , a ] \\ , \\theta_{13 } \\ , \\xi_{13 } & \\ ! \\theta_{13 }   = \\theta_{10 } & \\ ! \\xi_{13 } = \\xi_{1 } { \\ { ( 7)\\theta_{10}12 \\!/\\!y_{3},(9)\\theta_{10 } 12\\!/\\!y_{4 } \\ } } & \\ ! c4\\\\ ( 8) \\ , q[y_{4 } , a ] \\ , \\theta_{14 } \\ , \\xi_{14 } & \\ ! \\theta_{14 } =   \\theta_{10 } { \\ { y_{4 } \\xi_{13 } 13\\!/\\!u \\ } } & \\ ! \\xi_{14 } = \\xi_{3 } & \\ ! a3\\\\ ( 11 ) \\ ,",
    "q [ ( \\ ) , a ] \\ , \\theta_{15 } \\ , \\xi_{15 } & \\ !",
    "\\theta_{15 } = \\theta_{2 } & \\ !",
    "\\xi_{15 } = \\xi_{3 } & \\",
    "q [ w , a ] \\ , \\theta_{16 } \\xi_{16 } & \\ ! \\theta_{16 } = \\theta_{2 }   & \\ !",
    "\\xi_{16 } = \\xi_{1 } & \\ !",
    "a3\\\\ ( 13 ) \\",
    ", q[(y_{3 } y_{4 } ) , a ] \\ , \\theta_{17 } \\xi_{17 } & \\ ! \\theta_{17 } = \\theta_{2 } & \\ ! \\xi_{17 } = \\xi_{1 } { \\ { ( 13)\\theta_{2 } 16\\!/\\!y_{3},(19)\\theta_{2}16\\!/\\!y_{4 } \\ } } & \\ ! c4\\\\ ( 14 ) \\ ,",
    "q[w , a ] \\ , \\theta_{18 } \\xi_{18 } & \\ ! \\theta_{18 } = \\theta_{2 } { \\ { ( y_{3}y_{4})\\xi_{17}17\\!/\\!y \\ } } & \\ ! \\xi_{18 } = \\xi_{1 } & \\ ! a3\\\\ ( 15 ) \\ , q[(y_{3}y_{4 } ) , a ] \\ , \\theta_{19 } \\ , \\xi_{19 } & \\ ! \\theta_{19 } = \\theta_{18 } & \\ ! \\xi_{19 } = \\xi_{1 } { \\ { ( 15)\\theta_{18 } 18\\!/\\!y_{3 } , ( 17)\\theta_{18 } 18\\!/\\!y_{4 } \\ } } & \\ ! c4\\\\ ( 16 ) \\ , q[y_{3}y_{4 } , a ] \\ , \\theta_{20 } \\ , \\xi_{20 } & \\ ! \\theta_{20 } = \\theta_{18 } { \\ { ( y_{3}y_{4})\\xi_{19 } 19\\!/\\!s \\ } } & \\ ! \\xi_{20 } = \\xi_{19 } & \\ ! a3\\\\ ( 15 ) \\ , q[(y_{3}y_{4 } ) , a ] \\ , \\theta_{21 } \\",
    ", \\xi_{21 } & \\ ! \\theta_{21 } = \\theta_{20 } & \\ ! \\xi_{21 } = \\xi_{19 } { \\ { ( 15)\\theta_{20 } 20\\!/\\!y_{3 } , ( 17)\\theta_{20 } 20\\!/\\!y_{4 } \\ } } & \\ !",
    "c4\\\\    ( 16 ) \\ , q[y_{4 } , a ] \\ , \\theta_{22 } \\ , \\xi_{22 } & \\ ! \\theta_{22 } = \\theta_{20 } { \\ { y_{4}\\xi_{21 } 21\\!/\\!s \\ } } & \\ ! \\xi_{22 } = \\xi_{21 } & \\ ! a3\\\\ ( 17 ) \\ ,",
    "q [ ( \\ ) , a ] \\ , \\theta_{23 } \\ , \\xi_{23 } & \\ !",
    "\\theta_{23 } = \\theta_{22 } & \\ !",
    "\\xi_{23 } = \\xi_{21 } & \\ !",
    "c4\\\\    ( 18 ) \\ , q[y_{3}y_{4 } , a ] \\ , \\theta_{24 } \\ , \\xi_{24 } & \\ ! \\theta_{24 } =   \\theta_{22 } & \\ ! \\xi_{24 } = \\xi_{17 } & \\ !",
    "a3\\\\     ( 13 ) \\ , q[(y_{4 } ) , a ] \\ , \\theta_{25 } \\xi_{25 } & \\ ! \\theta_{25 } = \\theta_{2 } & \\ ! \\xi_{25 } = \\xi_{17 }   & \\ !",
    "c4\\\\ ( 14 ) \\",
    ", q[w , a ] \\ , \\theta_{26 } \\xi_{26 } & \\ ! \\theta_{26 } = \\theta_{2 } { \\ { ( y_{3 } y_{4})\\xi_{17}25\\!/\\!y \\ } } & \\ ! \\xi_{26 } = \\xi_{1 } & \\ ! a3\\\\ ( 15 ) \\ , q[(y_{3}y_{4 } ) , a ] \\ , \\theta_{27 } \\ , \\xi_{27 } & \\ ! \\theta_{27 } = \\theta_{26 } & \\ ! \\xi_{27 } = \\xi_{1 } { \\ { ( 15)\\theta_{26 } 26\\!/\\!y_{3 } , ( 17)\\theta_{26 } 26\\!/\\!y_{4 } \\ } } & \\ ! c4\\\\ ( 16 ) \\ , q[y_{3}y_{4 } , a ] \\ , \\theta_{28 } \\ , \\xi_{28 } & \\ ! \\theta_{28 } = \\theta_{26 } { \\ { ( y_{3}y_{4})\\xi_{27 } 27\\!/\\!s \\ } } & \\ ! \\xi_{28 } = \\xi_{27 } & \\ ! a3\\\\ ( 15 ) \\ , q[(y_{4 } ) , a ] \\ , \\theta_{29 } \\ , \\xi_{29 } & \\ ! \\theta_{29 } = \\theta_{28 } & \\ ! \\xi_{29 } = \\xi_{27 } { \\ { ( 15)\\theta_{28 } 28\\!/\\!y_{3 } , ( 17)\\theta_{28 } 28\\!/\\!y_{4 } \\ } } & \\ !",
    "c4\\\\    ( 16 ) \\ , q[y_{4 } , a ] \\ , \\theta_{30 } \\ , \\xi_{30 } & \\ ! \\theta_{30 } = \\theta_{28 } { \\ { y_{4}\\xi_{29 } 29\\!/\\!s \\ } } & \\ ! \\xi_{30 } = \\xi_{29 } & \\ ! a3\\\\ ( 17 ) \\ ,",
    "q [ ( \\ ) , a ] \\ , \\theta_{31 } \\ , \\xi_{31 } & \\ !",
    "\\theta_{31 } = \\theta_{30 } & \\ !",
    "\\xi_{31 } = \\xi_{29 } & \\ ! c4\\\\    ( 18 ) \\ ,",
    "q[y_{4 } , a ] \\ , \\theta_{32 } \\ , \\xi_{32 } & \\ ! \\theta_{32 } =   \\theta_{30 } & \\ ! \\xi_{32 } = \\xi_{17 } & \\ !",
    "a3\\\\    ( 19 ) \\ , q [ ( \\ ) , a ] \\ , \\theta_{33 } \\ , \\xi_{33 } &",
    "\\theta_{33 } = \\theta_{2 } & \\ !",
    "\\xi_{33 } = \\xi_{17 } & \\",
    "! c4\\\\ ( 20 ) \\ , q [ \\ { \\exists}\\ ] \\ , \\theta_{34 } \\ , \\xi_{34 } & \\ ! \\theta_{34 } =   \\theta_{2 } & \\ ! \\xi_{34 } = \\xi_{17 } & \\ ! a1\\\\ \\end{array}\\ ] ]    we examine applications of * t2 * to the term .",
    "the simple tile @xmath1012 rooted at ( 6 ) is @xmath21-end and @xmath21-directed with respect to the game : there are three @xmath21-plays on it which are all ri , @xmath804 , @xmath1013 and @xmath1014 .",
    "transformation * t2 * allows us to remove this tile , so the leaf node ( 8) is directly beneath node ( 5 ) .",
    "basic _ tile @xmath771 rooted at ( 14 ) is @xmath21-end and @xmath21-directed with respect to the game : the only plays @xmath1015 , @xmath1016 and @xmath1017 are ri .",
    "a second application of * t2 * removes it ; therefore , node ( 18 ) is directly beneath node ( 13 ) .",
    "consequently , the basic tile @xmath1018 rooted at ( 12 ) is also @xmath21-end and @xmath21-directed with respect to the `` reduced '' game ; the plays @xmath1019 and @xmath1020 become the sequences @xmath1021 and @xmath1022 ( modulo changes to the look - up tables ) .",
    "the starting term in figure  [ ex1 ] is , therefore , reduced to the smaller solution term @xmath1023 .",
    "assume @xmath4 is a @xmath12rd - order term .",
    "if we inspect it top - down , starting beneath the initial lambda then it consists of simple tiles , each of which is either a constant tile or a top tile @xmath1024 , @xmath322 , where each atomic leaf is labelled with a dummy @xmath471 because @xmath69 has order at most @xmath157 ; therefore , it is also an end tile .",
    "[ fact75 ] if @xmath4 has order @xmath12 and @xmath763 is a simple tile in @xmath4 then either @xmath763 is a constant tile or an end tile which is also a top tile .    for instance , the tree in figure  [ picture2 ] consists of four simple top tiles @xmath1025 that are also end tiles rooted at @xmath424 , @xmath429 , @xmath196 and @xmath445 and the simple constant tiles @xmath793 , @xmath794 , @xmath777 and @xmath298 .",
    "therefore , by repeated application of fact  [ fact57 ] and proposition  [ end1 ] each play @xmath1026 when @xmath4 is @xmath1027-order merely descends a branch of @xmath4 until it reaches a final state .",
    "we now examine this _ tree model property _ of plays in more detail and show how it leads to a very straightforward proof of decidability of @xmath12rd - order matching .",
    "assume @xmath10 is @xmath1027-order . we define a ( unique ) partition of any play @xmath968 in stages ; at each stage we identify a simple tile , a subpart of @xmath4 , and the interval at that stage .",
    "we call this iteratively defined notion of partition a p - partition ( a `` play partition '' ) to distinguish it from definition  [ def614 ] of the b - partition for a position .",
    "( at @xmath12rd - order , these partitions are intimately related as we shall note ; in the next section we extend p - partitions to all orders and its definition uses b - partitions . )    [ def76 ] assume @xmath10 is @xmath12rd - order and @xmath1026 .",
    "p - partition _ of @xmath536 is defined in stages @xmath1028 for some @xmath83 as @xmath1029 where @xmath854 . at each stage @xmath24 there is    1 .   the p - partition up to stage @xmath1030 , @xmath1031 ; 2 .   the simple tile @xmath1032 which occurs in @xmath4 directly beneath node @xmath1033 ; 3 .",
    "the composite tile @xmath1034 of @xmath4 consisting of all the nodes in the tiles @xmath1035 ; 4 .",
    "the position @xmath995 with @xmath1036 which is the root node of @xmath1032 ; 5 .",
    "the interval @xmath1037 determined as follows : @xmath1038 is the least @xmath1039 such that 1 .",
    "@xmath1040 is an atomic leaf of @xmath1032 , or 2 .",
    "@xmath1041 .",
    "the idea of a p - partition of @xmath968 is to structurally relate parts of @xmath536 to parts of @xmath4 . at stage",
    "@xmath21 , @xmath1042 is the simple tile directly beneath the initial lambda of @xmath4 which is either a constant or a top tile .",
    "the subpart of @xmath4 at this stage , @xmath1043 is just @xmath1042 .",
    "assume @xmath247 is the root of @xmath1042 ; therefore , @xmath1044 ( because @xmath1045 ) .",
    "consider the interval @xmath1046 : @xmath712 is the first position such that either it is at an atomic leaf of @xmath1042 or it is the final position of the play .",
    "in the first case , @xmath1046 is a shortest play on @xmath1042 ; the tile @xmath1047 is the simple tile directly beneath the atomic leaf @xmath1048 of @xmath1042 and @xmath1049 is @xmath1042 and @xmath1047 .",
    "the p - partition thereby continues : at stage @xmath24 , the interval @xmath1037 is either a shortest play on @xmath1032 or @xmath1050 and then there are no further stages .",
    "the following is an easy consequence of fact  [ fact57 ] , proposition  [ prop515 ] and the definition of b - partition .",
    "assume the _ p - partition _ of @xmath968 is @xmath1029 and @xmath1032 is the simple tile at stage @xmath24 .    1 .   for @xmath1051",
    ", @xmath1037 is a shortest play on @xmath1032 .",
    "2 .   for @xmath1052 ,",
    "@xmath1037 is internal to @xmath1032 .",
    "3 .   for @xmath1053 the b - partition of @xmath1054 .",
    "[ ex63 ] if @xmath536 is the play of example  [ examp42 ] on the tree of figure  [ picture2 ] then its p - partition is depicted below linearly .",
    "@xmath1055 the simple tiles at each stage are ; @xmath1056 , @xmath1057 rooted at @xmath429 , @xmath1058 , @xmath1059 , @xmath1060 rooted at @xmath196 and @xmath1061 . for the other play @xmath1010 in this example , there is the following p - partition . @xmath1062",
    "the two plays share the first three simple tiles , but play is at different atomic leaves of @xmath1063 after stage @xmath12 .",
    "consider the p - partitions of all plays in @xmath473 .",
    "we slightly abuse notation : we let @xmath1037 , @xmath1064 be their intervals at stage @xmath24 even when they have different ranges . instead of a branch of simple tiles",
    "there is a tree of simple tiles : as each play shares the same simple tile @xmath1042 at stage  @xmath21 of its p - partition .",
    "the simple tile @xmath763 in @xmath4 is _ special _ if it obeys one of the following three conditions    1 .",
    "@xmath1065 for @xmath536 at stage @xmath24 and @xmath1037 is nri ( see definition  [ defi48 ] ) , 2 .",
    "@xmath1066 for @xmath536 at stage @xmath24 and @xmath1050 , 3 .",
    "@xmath1066 for @xmath536 , @xmath1010 at stage @xmath24 and @xmath1067 when @xmath1068 , @xmath1069 .",
    "the first kind of special tile explicitly contributes to solving @xmath10 .",
    "the second kind identifies where a play finishes .",
    "the third kind separates plays ; each p - partition after stage  @xmath21 that ends at the same atomic leaf of @xmath1042 shares @xmath1047 at stage @xmath157 and so on .",
    "therefore , branching in the tree of simple tiles will occur at @xmath1032 if there are plays @xmath536 , @xmath1010 that end at different atomic leaves of @xmath1032 at stage @xmath24 ( and agree on atomic leaves at all earlier stages ) .",
    "in example  [ ex63 ] , @xmath793 separates the plays @xmath536 and @xmath1010 .",
    "the other special tiles in these plays are @xmath794 because of the nri interval @xmath806 and @xmath777 and @xmath298 as plays finish within them .",
    "any simple tile in @xmath4 with at least one atomic leaf which is not special is superfluous .",
    "either every play avoids it ( so , * t1 * applies ) or every play on it is ri and ends at the same atomic leaf @xmath774 for some @xmath241 ( so , is both @xmath241-end and @xmath241-directed with respect to the game and * t2 * applies ) : four instance , all four simple tiles @xmath1025 in example  [ ex63 ] are both @xmath21-end and @xmath21-directed with respect to the game .",
    "there is an upper bound ( relative to the problem @xmath10 ) on the number of special tiles that can occur in a term @xmath4 as follows    1 .   at most @xmath165 ( @xmath124 the right size for @xmath10 , definition  [ delta ] ) tiles that involve nri intervals ; 2 .   at most @xmath1070 ( @xmath124 the number of plays",
    "is bounded by the number of branches in the right terms of @xmath10 . ] ) tiles where a play ends ; 3 .   at most @xmath1071 tiles that are play separators .",
    "decidability of @xmath12rd - order matching , via the small model property , is , therefore , a simple consequence of the p - partitions and the identification of special simple tiles . for example  [ ex63 ]",
    ", the term of figure  [ picture2 ] can be reduced to the smaller solution term @xmath1072 .",
    "[ def64 ] @xmath1073 is the number of simple tiles with atomic leaves in a longest branch of @xmath4 and @xmath1074 is the total number of simple tiles with atomic leaves in @xmath4 .",
    "[ bounds ] if @xmath4 is a smallest solution to @xmath12rd - order @xmath10 and @xmath1070 is the number of plays in @xmath473 , then @xmath1075 .",
    "an alternative , and equally simple , proof of decidability of @xmath12rd - order matching that does not appeal directly to the tree model property uses proposition  [ end ] and transformations * t1 * and * t2*. in a large solution term , there must be embedded end tiles that are redundant .",
    "dowek observes that solutions with embeddings @xmath1076 can be reduced to smaller solutions @xmath1077 in his proof of decidability of @xmath12rd - order matching @xcite .",
    "assume @xmath4 is a _",
    "smallest _ solution term ( with respect to @xmath1078 ) for @xmath10 .",
    "it contains at most @xmath1079 constant tiles with atomic leaves ( otherwise , * t1 * would apply and produce a smaller solution ) .",
    "let @xmath378 be the number of constant tiles with atomic leaves in @xmath1080 . therefore , by proposition",
    "[ end ] , @xmath4 contains at most @xmath1081 embedded simple top tiles ( otherwise , * t2 * would apply and produce a smaller solution ) .",
    "if @xmath41 is the arity of @xmath10 , definition  [ def3 ] , then there are at most @xmath41 inequivalent top simple tiles : as soon as a branch of @xmath4 contains @xmath1082 simple top tiles , there must be at least one embedded end tile . consequently , no branch of @xmath4 can contain more than @xmath1083 simple top tiles . because @xmath1084 , @xmath1085 and @xmath12rd - order matching is decidable .",
    "the question is how to extend these straightforward proofs to all higher - orders . with a @xmath7th or @xmath96th - order tree",
    "there are two levels of simple non - constant tiles : top tiles @xmath869 and end tiles @xmath1086 where @xmath242 is bound by a @xmath774 .",
    "the number of levels increases with order : at @xmath1087th or @xmath1088th - order there are four levels .",
    "as soon as there is more than one level , game playing may jump around the tree as the examples in figures  [ ex2 ] and [ ex15 ] illustrate . for any order ,",
    "if the tree - model property holds , so each play can be p - partitioned into internal plays on the simple tiles from the root to a tile where the play ends , then decidability is assured by iteration : redundant simple end tiles are first removed which causes further tiles to be end and so on .",
    "schubert defines an _ unsophisticated _ lambda term in @xcite : @xmath1089 is unsophisticated if each occurrence of @xmath1090 within @xmath4 has the property that no @xmath1091 contains a free variable @xmath1092 , @xmath1093 . a @xmath96th - order ( dual )",
    "interpolation problem is unsophisticated if in each ( dis)equation @xmath1094 the left terms @xmath1095 are unsophisticated .",
    "schubert proves decidability of @xmath96th - order unsophisticated dual interpolation .",
    "this restriction implies the tree model property .",
    "when play is at an end tile with head variable @xmath69 , the state has the form @xmath1096 $ ] where @xmath1097 is closed : consequently , play can not jump back to the tile which binds @xmath69 .",
    "( decidability can be extended to all orders by defining _",
    "hereditary _ unsophisticated terms where each occurrence of @xmath1098 within it is unsophisticated . )",
    "for arbitrary order , if @xmath4 is a smallest solution term for @xmath10 and it contains @xmath378 simple constant tiles with atomic leaves then @xmath1084 . if @xmath4 is large then it must contain embedded tiles . with @xmath7th - order there",
    "must be embedded top tiles and with @xmath96th - order there can also be embedded end tiles",
    ". however , proposition  [ end ] implies , for any order , that there can not be more than @xmath1099 embedded end tiles . consequently",
    ", if @xmath10 is a @xmath96th - order problem and @xmath4 contains a bounded number @xmath24 of top simple tiles then the small model property holds .",
    "[ fact66 ] if @xmath4 is a smallest solution to @xmath96th - order @xmath10 that contains at most @xmath24 top simple tiles , then @xmath1100       fact  [ fact66 ] generalises to all orders : if @xmath4 is a smallest solution to @xmath10 that contains at most @xmath24 simple tiles that are neither end nor constant tiles then it has a bounded size .",
    "this result slightly extends some cases examined in @xcite where there are restrictions on the number of free variables that a @xmath181 can bind within a solution term .",
    "a family of tiles in a tree consists of a top tile together with all its dependents ( see definition  [ family ] ) .",
    "the problem case for @xmath7th or @xmath96th - order is a solution term with arbitrary many top tiles ( and , therefore , arbitrary many families ) .",
    "if a tree is large , then it must contain families of tiles all of whose plays are ri and , therefore , do not contribute to solving @xmath10 . for even higher - orders , for the same reason ,",
    "whole subfamilies of tiles are redundant .",
    "the difficulty is how to extract and remove redundant families and subfamilies of tiles .",
    "they may be entangled , occurring anywhere in a tree .",
    "what we would like to do is disentangle them thereby restoring , as far as possible , the tree model property .",
    "a key ingredient is _ tile lowering _ where we generalise to _ basic _ tiles .",
    "consider the left tree in figure  [ tl ] and assume @xmath1032 is a basic tile and @xmath1101 is a simple tile whose head variable is bound within @xmath1032 ( and no variable on the branch between @xmath1102 and @xmath1101 is bound within @xmath1032 ) .",
    "what we would like to do is to transform the left tree into the right tree where @xmath1032 ( and all the subtrees beneath its atomic leaves other than @xmath1102 ) is copied immediately above @xmath1101 ( thereby producing a larger basic tile ) with the understanding that it is the lower occurrence of @xmath1032 that binds @xmath1101 and any free variables beneath @xmath1101 that are bound within @xmath1032 in the left tree . in @xcite",
    ", we introduced an explicit local transformation that has this effect for @xmath7th - order matching and for the atoms case at all orders .",
    "the virtue of the transformation is that families of tiles are disentangled as the lower occurrence of @xmath1032 is brought next to its dependent tile @xmath1101 ( and the upper occurrence of @xmath1032 in the right tree is `` closer '' to being an end tile , as ( some ) binding is lost below ) .",
    "game - theoretically , tile lowering will be justified in terms of permutations , omissions and repetitions of ri plays on tiles .",
    "the analysis now shifts from how single tiles to how families of tiles in a term contribute to solving a problem .",
    "we extend the definition of the p - partition of a play from the previous section to all orders .",
    "we start by examining simple properties of game playing that involve families of tiles : the discussion uses the notion of when a position is a descendent of another position , definition  [ def416 ] , when one tile is a dependent of another , definition  [ defdepend ] , and when two tiles belong to the same family , definition  [ family ] .",
    "[ c4jump ] assume @xmath763 with root node @xmath4 and @xmath1103 with root node @xmath180 are simple tiles .    1 .",
    "if @xmath544 , @xmath669 , @xmath626 is the result of move a3 of figure  [ game ] and @xmath626 is a descendent of @xmath539 then @xmath773 is a dependent of @xmath763 .",
    "if @xmath544 and @xmath1104 and @xmath576 is the result of move c4 then @xmath763 and @xmath773 belong to the same family of tiles .",
    "\\(1 ) assume that @xmath544 , @xmath669 and @xmath626 is a descendent of @xmath539 .",
    "therefore , because the descendent relation is the reflexive and transitive closure of the child relation , there is a subsequence of positions @xmath1105 with @xmath1106 , @xmath1107 , for all @xmath83 , @xmath1108 is a child of @xmath846 .",
    "assume @xmath1109 for each @xmath1110 ; so , @xmath1111 and @xmath1112 .",
    "because @xmath626 is the result of a3 , @xmath180 is labelled with a variable , that is bound by @xmath1113 : therefore , @xmath773 is a dependent of the simple tile rooted at @xmath1114 .",
    "this argument is now repeated because @xmath1115 must in turn be the result of a3 and so the simple tile rooted at @xmath1114 is a dependent of the simple tile rooted at @xmath1116 , and so on ; consequently , as the dependency relation is transitive closed , @xmath773 is a dependent of @xmath763 .",
    "( 2 ) consider the following subsequences of positions @xmath1117 where @xmath1118 and @xmath1119 ; each position @xmath1120 is the result of c4 on @xmath1121 which is the result of @xmath169 or more applications of c3 on @xmath1122 , @xmath1123 ; furthermore , for @xmath1124 , @xmath1122 is the result of a3 and is a child of @xmath1125 and @xmath712 is the result of a3 and a child of @xmath586 . now by a routine induction on @xmath24 , it follows that for every @xmath798 , @xmath1126 is an atomic leaf of some simple tile rooted at @xmath1127 for some @xmath1128 and that all such tiles belong to the same family .    in the previous section we alluded to the notion of tile level .",
    "[ level ] the _ level _ of a non - constant tile is defined inductively .    1 .",
    "if @xmath763 is a top tile then @xmath763 has level @xmath21 .",
    "if @xmath763 is an immediate dependent of @xmath773 and @xmath773 has level @xmath331 then @xmath763 has level @xmath332 .    the number of possible levels increases with order . in a @xmath7th or @xmath96th - order term",
    "there are at most two levels of tile : top tiles and end tiles as illustrated in figures  [ ex1 ] and [ ex14 ] . with a @xmath1087th or @xmath1088th - order term , there are at most four levels of tile and so on . the presence of dummy lambda in a term tree does not affect the notion of level ( because a dummy lambda can not be a binder ) .    if there is more than one level of tile in a term , game playing may pass repeatedly through the same sequences of nodes of a tree .",
    "the following definition captures when two such intervals are said to correspond .",
    "[ defsimilar ] the intervals @xmath543 , @xmath1129 _ correspond _ , written @xmath1130 , provided that @xmath1131 , @xmath1132 and for all @xmath1133 ,    1 .   if @xmath1134 then @xmath1135 .",
    "2 .   if @xmath214 \\in \\pi(i+k)$ ] then for some @xmath561 , @xmath720 \\in \\pi(i'+k)$ ] 3 .   if @xmath1136 \\in \\pi(i+k)$ ] then for some @xmath561 , @xmath1137 \\in \\pi(i'+k)$ ] .",
    "4 .   if @xmath552 \\in \\pi(i+k)$ ] then for some @xmath561 , @xmath1138 \\in \\pi(i'+k)$ ] .",
    "the relation @xmath1139 on intervals is an equivalence relation .",
    "although this definition abstracts from the look - up tables , it requires agreement on the sequences of nodes of the tree and on the left terms of states . for instance , intervals that are shortest ri plays on a top tile correspond , as shown in the proof of proposition  [ prop515 ] .",
    "when @xmath1010 is the play in figure  [ nex2 ] on the tree in figure  [ ex1 ] , the nri intervals @xmath1140 and @xmath1141 correspond . in section  [ tiles ]",
    "we described some uniformity properties of game playing for top and embedded tiles ( especially for embedded end tiles ) .",
    "now our aim is to understand uniformities of play for tiles of arbitrary level . given a position @xmath626 at a lambda node @xmath180 , there is an associated ( unique ) b - partition of @xmath1142 into intervals that are plays on the simple tiles between the root of the term tree and node @xmath180 by definition  [ def614 ] .",
    "if more than one position is at a lambda node @xmath180 then their associated b - partitions must differ in their plays at an earliest tile with the same starting positions but different end positions .",
    "[ prop73a ] assume @xmath669 , @xmath1143 , @xmath1144 and @xmath180 is labelled @xmath760 for some @xmath1145 .",
    "if @xmath1146 is the b - partition for @xmath626 and @xmath1147 is the b - partition for @xmath725 then there is a @xmath1148 such that @xmath1149 and @xmath1150 and for all @xmath1151 , @xmath1152 and @xmath1153 .",
    "assume that @xmath1154 is the branch from the root of the term tree to @xmath180 labelled @xmath1155 , @xmath1156 and @xmath1143 for @xmath1157 .",
    "let @xmath1146 be the b - partition for @xmath626 and @xmath1158 be the b - partition for @xmath725 .",
    "because @xmath1159 , @xmath1160 and @xmath1161 , there must be a least @xmath24 such that @xmath1149 and @xmath1150 .",
    "the b - partitions of example  [ example512 ] illustrate this proposition ; node @xmath433 of figure  [ ex14 ] labelled @xmath471 belongs to both @xmath859 and @xmath860 of the play in figure  [ ex15 ] .",
    "these b - partitions agree on the play @xmath809 on the initial tile @xmath776 that ends at @xmath1162 and then they have different @xmath21-plays @xmath814 and @xmath1163 on the next tile @xmath778 .",
    "[ defi744 ] assume @xmath669 , @xmath1143 , @xmath1144 , @xmath180 is labelled @xmath760 for some @xmath1145 and @xmath1164 is the branch from the root of the term tree to @xmath180 .",
    "let @xmath1146 be the b - partition for @xmath626 and let @xmath1147 be the b - partition for @xmath725 and let @xmath1165 be the first simple tile for @xmath226 such that @xmath1149 and @xmath1150 .",
    "the positions @xmath1166 are then said to _ vary at @xmath1167 with ( simple tile ) @xmath763_.    two positions vary at @xmath1167 with @xmath763 if they are at the same lambda node and @xmath763 is the first simple tile in their b - partitions where there is a difference in play ; there are two distinct @xmath331-plays on @xmath763 for some @xmath331 , @xmath1037 and @xmath1168 . in the case of example  [ example512 ] discussed previously , the positions @xmath859 , @xmath860 vary at @xmath1169 with @xmath778",
    ".    given two positions @xmath626 and @xmath725 at the same node labelled @xmath760 we are interested in defining when intervals @xmath1170 and @xmath1171 correspond in the sense of definition  [ defsimilar ] .",
    "the simplest case is when @xmath1166 vary at @xmath1166 with @xmath1172 ; their b - partitions agree except on the last simple tile in the branch from the root to @xmath760 .",
    "the two intervals @xmath1173 and @xmath1174 are , therefore , both @xmath24-plays on @xmath763 for some @xmath24 ; both positions @xmath626 and @xmath725 are children of @xmath846 and , therefore , must be the results of move c4 of figure  [ game ] .",
    "this means that the look - up tables @xmath1175 and @xmath1176 only differ in their entries for the variables in @xmath1145 : therefore , for each @xmath1123 their continuations @xmath1177",
    ", @xmath1178 correspond as long as play does not reach children of @xmath626 and @xmath725 ; or positions where different @xmath251 choices are exercised ; or a position with a final state .",
    "consider next the general situation when @xmath1166 vary at @xmath1167 with @xmath1165 ; their b - partitions differ at a simple tile that is earlier in the branch from the root to @xmath760 .",
    "what we want to capture is the following uniformity : if the plays @xmath835 and @xmath1179 on tiles @xmath1180 that do not involve positions that are children of @xmath841 and @xmath1181 correspond , then the continuations from @xmath1182 and @xmath1183 will also correspond as long as the positions are not descendents of @xmath841 or @xmath1181 or the result of a different @xmath251-choice , or one has a final state . the issue is how to formally capture this correspondence in terms of the relationship between the look - up tables @xmath1184 and @xmath1185 .",
    "this is the motivation for the following bisimulation like definition .",
    "[ defi75 ] assume @xmath763 is a simple non - constant tile .    1",
    ".   two look - up tables @xmath335 , @xmath334 are _",
    "@xmath83-similar except for @xmath763 _ , @xmath1186 , which is defined iteratively , for @xmath183 .",
    "1 .   @xmath1187 iff @xmath601 ; 2 .",
    "@xmath1188 iff ( 1 ) for all @xmath69 .",
    "@xmath240 is defined iff @xmath1189 is defined and ( 2 ) if @xmath1190 is not a dependent of @xmath763 and @xmath1191 then @xmath1192 and @xmath1193 ; 3 .",
    "@xmath1194 iff ( 1 ) for all @xmath242 .",
    "@xmath565 is defined iff @xmath1195 is defined and ( 2 ) if @xmath1196 then @xmath1197 and @xmath1198 .",
    "two look - up tables @xmath335 , @xmath334 are _ similar except for @xmath763 _",
    ", @xmath1199 , if there is an @xmath183 such that @xmath1200 .    in the following assume @xmath335 , @xmath334 are look - up tables ( of the same kind ) .",
    "1 .   @xmath1201 .",
    "2 .   if @xmath1186 then @xmath1202 .",
    "3 .   if @xmath1186 and @xmath1203 then @xmath1204 .",
    "4 .   if @xmath1205 and @xmath875 then @xmath1206 .    the key point with the definition of @xmath1207",
    "is that the entries of @xmath1 and @xmath616 should be very similar except in the case that they are labels of nodes of simple tiles that are dependents of @xmath763 .",
    "[ fact78 ] if @xmath543 and @xmath1208 are @xmath24-plays on the simple tile @xmath763 , @xmath1184 and @xmath1185 then @xmath1207 .",
    "we now come to a critical uniformity property .",
    "[ prop79 ] assume @xmath626,@xmath725 vary at @xmath1167 with @xmath763 , @xmath1184 , @xmath1185 and @xmath1207 . if @xmath1209 is ri , @xmath1210 is labelled @xmath760 for some @xmath1145 and no @xmath1211 , @xmath1093 , is a descendent of @xmath841 then @xmath1212 .",
    "assume that @xmath1154 is the branch from the root of term tree @xmath4 to @xmath1155 , @xmath1213 and @xmath1214 for @xmath1215 .",
    "let @xmath1216 be the b - partition for @xmath626 and @xmath1147 be the b - partition for @xmath725 .",
    "assume that @xmath626 , @xmath725 vary at @xmath841 , @xmath1181 with @xmath1217 and that @xmath1207 when @xmath1184 and @xmath1185 .",
    "assume that @xmath1177 is ri , @xmath1210 is labelled @xmath760 , no @xmath1218 within this interval is at a dependent of @xmath763 . by a routine induction on @xmath331 , @xmath1219 .",
    "the interval @xmath1177 only involves moves a3 and c4 of figure  [ game ] because it is ri and ends at @xmath1210 by fact  [ fact55 ] .",
    "initially , for some simple non - constant tile @xmath1220 , @xmath1221 and @xmath1222 . therefore , because @xmath1182 is not a descendent of @xmath841 , @xmath761 is not a dependent of @xmath763 ; by a3 of figure  [ game ] position @xmath1223 \\theta \\xi_{j+1}$ ] and position @xmath1224 \\theta ' \\xi_{j'+1}$ ] where @xmath1225 .",
    "the next position is a result of c4 : if @xmath1226 then @xmath1227 and @xmath1228 .",
    "consequently , the result follows .",
    "[ rem811 ] proposition  [ prop79 ] can be strengthened to include corresponding nri plays that involve the same @xmath251-choices .",
    "for instance , in example  [ example512 ] when @xmath536 is in figure  [ ex15 ] the positions @xmath1169 vary at @xmath1169 with @xmath778 .",
    "position @xmath1229 is the first position after @xmath659 that is a child of @xmath659 ; therefore , the continuations @xmath1230 and @xmath862 correspond even though they pass through the constant tile @xmath1231 .",
    "we shall now extend the definition of the p - partition of a play @xmath1232 , definition  [ def76 ] , from @xmath12rd - order @xmath10 to all higher orders .",
    "again , it is defined in stages using simple tiles from @xmath4 ; so @xmath1233 for some @xmath83 and there is an associated sequence of simple tiles @xmath1234 from @xmath4 such that for each @xmath1235 , @xmath1236 where @xmath180 is the root of @xmath1237 and @xmath1237 occurs directly below @xmath1238 in @xmath4 .",
    "however , the same simple tile may occur more than once in this sequence of tiles ; so we adopt the following notation .    [ def81 ]",
    "assume that @xmath1239 is a sequence of simple tiles associated with a play @xmath1026 .",
    "we write @xmath1240 to identify the @xmath24th tile @xmath1032 in this sequence and we use the notation @xmath1241 for node @xmath180 of @xmath1240 .",
    "after stage @xmath24 , the p - partition for @xmath536 consists of the sequence of tiles @xmath1242 ; the composite tile @xmath1034 consists of these tiles .",
    "however , we also provide a more graphical representation of the composite tile @xmath1034 by including a labelled edge for each @xmath1243 of the form @xmath1244 where @xmath1245 and @xmath180 is an atomic leaf of @xmath1246 .",
    "the relation @xmath1247 between a tile at stage @xmath331 and an atomic leaf of a tile at an earlier stage @xmath216 captures control structure in the p - partition that @xmath1248 .",
    "this linearisation of the p - partition for each @xmath536 will be useful in the decidability proof ; we can , of course , reconstitute the subtree @xmath1034 from its linear presentation after stage @xmath24 just by viewing @xmath1247 as the subtree relation .",
    "we assume this extra intensionality is also reflected in the @xmath237 look - up tables for @xmath536 ; in the case of the c moves of figure  [ game ] if @xmath293 and @xmath1249 then @xmath1250 .",
    "consequently , at an application of move c4 , if @xmath29 is the head variable of the left term of the state and @xmath1251 then the next position is at @xmath1252 .",
    "[ partit ] assume @xmath968 .",
    "p - partition _ of @xmath536 is defined in stages @xmath1028 for some @xmath83 as @xmath1029 where @xmath854 . at each stage @xmath24 there is    1 .   the p - partition up to stage @xmath1030 , @xmath1031 ; 2 .",
    "the composite tile @xmath1253 consisting of the tiles @xmath1254 with edges @xmath1247 ; 3 .",
    "the simple tile @xmath1240 which occurs in @xmath4 directly beneath node @xmath1255 and @xmath1256 in @xmath1257 ; 4 .",
    "the position @xmath995 with @xmath1258 where @xmath582 is the root node of @xmath1032 ; 5 .",
    "the interval @xmath1037 determined as follows : 1 .   set @xmath1259 2 .",
    "@xmath1260 while @xmath1261 and @xmath1262 is not labelled with a lambda do j = j+1 ; 1 .",
    "if @xmath1041 or @xmath1263 then @xmath1264 ; 2 .   find a largest @xmath1265 , if there is one , such that there is a @xmath1266 , @xmath1166 vary at @xmath1267 with @xmath1268 in the same family as @xmath1240 and @xmath1269 where @xmath1184 , @xmath1185 , and 1 .",
    "no position in @xmath1270 is a descendent of @xmath1271 ; 2 .   if @xmath1272 then @xmath1273 ; 3 .",
    "if there is such a @xmath1265 set @xmath1274 and goto @xmath1260 else @xmath1264 .    as with definition  [ def76 ]",
    ", if @xmath1240 is a top or a constant tile then @xmath1037 is internal to it and either ends at one of its atomic leaves , or a final state is reached : via clause @xmath1260 , @xmath1038 will be the least @xmath1039 such that @xmath669 is an atomic leaf of @xmath1240 or @xmath1041 .",
    "the new case is when @xmath1275 is neither a constant tile nor a top tile .",
    "position @xmath995 is at the root of @xmath1240 ; the first position @xmath626 , if there is one , after @xmath995 that is at a lambda node @xmath180 need not be internal to @xmath1240 ; however @xmath180 must be an atomic leaf of some tile @xmath1276 , @xmath1277 , which belongs to the same family as @xmath1240 by proposition  [ c4jump ] .",
    "if @xmath1278 then @xmath1264 and @xmath1037 finishes at @xmath180 . otherwise @xmath1279 and @xmath1280 : one checks whether there are previous positions @xmath725 such that @xmath1166 vary at @xmath1267 with @xmath1268 in the same family as @xmath1240 ( and , therefore , also , @xmath1276 ) and whether @xmath1281 when @xmath1184 and @xmath1185 .",
    "if there are no such positions , for instance if @xmath180 is an atomic leaf of the composite tile @xmath1034 , then @xmath1264 and @xmath1037 finishes at @xmath180 .",
    "otherwise there are such positions ; we then look for a longest continuation from @xmath1182 that corresponds to a previous interval from such a @xmath1183 .",
    "if there is no such continuation , so @xmath1282 , then @xmath1182 is at a descendent of @xmath887 ; so control is at the root of a tile in @xmath1034 in the same family as @xmath1240 ; and the loop starts again .",
    "if there is such a continuation then @xmath1283 and the loop starts again from @xmath1284 ; if @xmath1037 is ri then @xmath1284 will also be at the root of a tile in @xmath1034 in the same family as @xmath1240 as this position must be a descendent of @xmath887 .",
    "consequently , as we shall prove , if @xmath1037 is ri then it is guaranteed to finish at an atomic leaf of a tile in the same family as @xmath1240 .",
    "[ ex713 ] we describe the p - partition of @xmath1010 in figure  [ nex2 ] for the term tree in figure  [ ex1 ] ( omitting the initial move ) .",
    "we present tile @xmath1285 , without its superscript @xmath1010 , the play @xmath1064 and the edge relation @xmath1286 in figure  [ ex78 ] .",
    "@xmath1287    the intervals for the first three stages are plays on top and constant tiles .",
    "tile @xmath1288 : play jumps at position @xmath1289 to @xmath752 of @xmath1042 ; the positions @xmath1290,@xmath1291 vary at @xmath1292 with @xmath1042 and @xmath1293 when @xmath1294 and @xmath1295 ; there are the maximal corresponding intervals @xmath1140 and @xmath1141 .",
    "play returns to @xmath29 and jumps to @xmath1296 which completes stage  @xmath7 as @xmath1297 is the first position at this atomic leaf .",
    "the p - partition continues with plays on the top tiles @xmath1298 and @xmath1299 . after stage @xmath1300 ,",
    "the subtree @xmath1301 of figure  [ ex1 ] associated with the partition consists of tiles @xmath1302 plus the edges already described ( which has atomic leaves @xmath1303 , @xmath1304 , @xmath1305 and @xmath1306 ) .",
    "tile @xmath1307 and @xmath1308 vary at @xmath1308 with @xmath1299 and @xmath1309 when @xmath1310 , @xmath1311 ; however , there are no corresponding continuations because @xmath1312 and @xmath1313 are children of @xmath1314 and @xmath1315 .",
    "the interval at stage  @xmath419 is , therefore , @xmath1316 that finishes at @xmath1317 .",
    "tile @xmath1318 and the play at this stage jumps to @xmath765 of @xmath1298 ; positions @xmath1319 , @xmath1320 vary at @xmath1319 , @xmath1320 with @xmath1298 and @xmath1321 where @xmath1322 and @xmath1323 ; @xmath1017 corresponds to @xmath1016 and then play returns to @xmath1324 and jumps to @xmath1325 ; so , @xmath1326 is the interval at stage @xmath1087 .",
    "finally , @xmath1327 and stage @xmath1088 is @xmath1328 .",
    "a reason that the same tile may be repeated in a p - partition starts with different @xmath251-choices .",
    "for instance , consider a situation where @xmath1329 and @xmath1330 as follows where @xmath1032 is a constant tile with arity @xmath157 , @xmath1331 .",
    "consider figure  [ ex834 ] : the p - partition for @xmath536 has a play on @xmath1332 , then @xmath1333 and then @xmath1032 choosing the left branch of @xmath30 .",
    "tile @xmath1334 is a dependent of @xmath1333 and play jumps to its atomic leaf above @xmath1032 and so this position with the earlier one will vary at themselves at @xmath1333 ; play thus proceeds to @xmath1032 ; but now there is a different @xmath251-choice ; so at stage @xmath1335 , play finishes at the other leaf of @xmath1032 .",
    "play now proceeds through @xmath1237 to @xmath1336 which is a dependent of @xmath1332 ; it jumps to the atomic leaf of @xmath1332 above @xmath1333 and again it varies with the earlier position at themselves at @xmath1332 : instead of the corresponding play which passes through @xmath1032 twice , play descends to @xmath1032 and now the @xmath251-choice is the right branch ; therefore , play after stage @xmath1337 also finishes at @xmath1338 of the second branch .",
    "these different @xmath251-choices involve stages of a p - partition that have nri intervals ; if an interval is ri then it is well - behaved as proposition  [ vip ] shows .",
    "[ def91 ] assume @xmath1339 is the p - partition of @xmath1026 and @xmath1340 is the associated sequence of tiles .",
    "@xmath536-path for @xmath1240 _ is the sequence of tiles @xmath1341 such that @xmath1342 , @xmath1343 and @xmath1344 for @xmath1345 .",
    "[ vip ] assume @xmath1339 is the p - partition of @xmath1026 and @xmath1340 is the associated sequence of tiles .    1 .",
    "if @xmath257 and @xmath1268 is a top or constant tile then @xmath1346 for some @xmath180 .",
    "if @xmath835 is ri and @xmath1347 then @xmath1240 belongs to the same family as @xmath1268 .",
    "3 .   if @xmath835 is ri and @xmath1268 is an embedded tile in @xmath4 then @xmath1346 for some @xmath180 .",
    "if @xmath835 is ri and @xmath1348 then @xmath1349 is not in the @xmath536-path of @xmath1237 .",
    "\\(1 ) is clear from definition  [ partit ] . for ( 2 )",
    "assume @xmath1350 and @xmath835 is ri .",
    "consider the first position @xmath626 in this interval at a lambda node . by proposition  [ c4jump ]",
    ", it is an atomic leaf of a tile in the same family as @xmath1268 .",
    "either this position is @xmath1351 and so the result follows , or there are earlier positions @xmath725 and @xmath1143 and @xmath1166 vary at @xmath1352 at @xmath761 in the same family as @xmath1268 and @xmath1353 when @xmath1184 and @xmath1185 .",
    "one chooses the @xmath1354 that allows longest corresponding intervals @xmath1355 and @xmath1356 for @xmath1357 . using proposition  [ prop79 ]",
    ", it follows that @xmath1284 is a descendent of @xmath887 and so is at a tile @xmath1358 in the same family as @xmath1240 ; the same argument is now repeated . for ( 3 ) , consider the b - partition for @xmath1359 ; because @xmath1268 is an embedded tile , there is a tile @xmath1240 such that @xmath1360 and @xmath1268 is below @xmath1240 in @xmath4 and in the b - partition there is a play on @xmath1240 , @xmath1361 ; consider the shortest interval @xmath1362 that is a play on @xmath1240 .",
    "using proposition  [ prop516 ] and definition  [ partit ] it follows that @xmath1363 as @xmath1364 is an atomic leaf of @xmath1268 . in the case of @xmath429",
    "assume @xmath835 is ri and @xmath1365 and @xmath1252 is in the @xmath536-path of @xmath1268 ; so , @xmath1240 and @xmath1268 belong to the same family by ( 2 ) because @xmath835 is ri . also , there must be a tile @xmath1246 , @xmath1366 such that @xmath1367 and either @xmath1368 or @xmath1246 is on the @xmath536-path for @xmath1268 . if @xmath1240 is a top tile then consider the b - partition for @xmath1359 and its interval that is a play on @xmath1240 that ends at @xmath1252 at position @xmath725 ; clearly , if position @xmath626 in @xmath835 is at @xmath1252 then @xmath626 , @xmath725 vary at @xmath626 , @xmath725 at @xmath1240 which means that @xmath1369 and so it is impossible that @xmath1370 .",
    "otherwise , @xmath1240 is a dependent tile ; the argument is now similar but more general ; if position @xmath626 in @xmath835 is at @xmath1371 for @xmath1246 that is @xmath1240 or a tile that @xmath1240 is a dependent of and @xmath1371 is in the @xmath536-path for @xmath1268 then there is a tile @xmath1372 such that @xmath1372 is a dependent of @xmath1240 or of some tile that @xmath1240 is a dependent of and the b - partition for @xmath1373 which involves a play on @xmath1246 is such that it finishes at @xmath582 at position @xmath725 and @xmath626 , @xmath725 vary at @xmath712 , @xmath1374 at @xmath1375 in the same family as @xmath1268 ; therefore , @xmath626 can not be a final position for @xmath835 .",
    "[ ex715 ] the p - partition of @xmath536 in figure  [ ex15 ] where the term tree is in figure  [ ex14 ] is presented in figure  [ ex79 ] ( omitting the initial move ) ;    @xmath1376    where we provide the tile @xmath1240 , omitting @xmath536 , the interval @xmath1037 and the edge relation at each stage @xmath24 . play proceeds through the top tiles @xmath1042 and @xmath1047 .",
    "tile @xmath1377 and play at this stage is @xmath804 that ends at @xmath1378 . the next tile is a constant tile .",
    "tile @xmath1298 is @xmath777 and the pair @xmath1379 , @xmath651 vary at @xmath1380 with @xmath1042 and @xmath1293 for @xmath1381 and @xmath1382 ; so the interval at stage @xmath96 is @xmath1383 that ends at @xmath471 of @xmath1063 as there is no earlier position where control is at this leaf .",
    "the tile @xmath1384 and @xmath1385 is the interval at this stage .",
    "play then proceeds through a constant tile at stage @xmath419 .",
    "tile @xmath1386 and the interval is @xmath1387 ; positions @xmath1388 vary at @xmath1388 with @xmath1047 and @xmath1389 for @xmath1390 and @xmath1391 ; the intervals @xmath1230 and @xmath862 correspond as described in remark  [ rem811 ] .",
    "tile @xmath1392 is @xmath1393 ; positions @xmath1394 vary at @xmath1395 with @xmath1042 and @xmath1293 when @xmath1396 and @xmath1397 ; the intervals @xmath1398 and @xmath1399 correspond . with the next position @xmath1400 and",
    "@xmath1401 vary at @xmath1401 with @xmath1042 and @xmath1293 for @xmath1402 and @xmath1403 .",
    "the intervals and @xmath952 , @xmath815 correspond .",
    "therefore at stage  @xmath1088 , the interval is built from two separate subintervals .",
    "finally , stage  @xmath1404 is the constant tile @xmath298 .",
    "we now prove decidability of higher - order matching at all orders , by showing the small model property ; if @xmath82 then there is a small term @xmath988 .",
    "the proof starts with the tree of tiles that captures the p - partitions of all plays in a game @xmath473 and then extends it to a tree of basic tiles .",
    "we then define unfolding on such trees which underpins the small model property .    as with the @xmath12rd - order case in section  [ third ] , we examine the p - partitions of all plays in @xmath203 . we maintain abuse of notation : if @xmath536 and @xmath1010 are two plays we let @xmath1037 , @xmath1064 be their intervals at stage @xmath24 irrespective of their ranges . instead of a sequence of simple tiles there is a tree of simple tiles that is associated with the p - partitions as each p - partition shares the initial tile @xmath1042 of @xmath4 . as a representation for this tree of tiles ,",
    "we let its root be @xmath1405 when @xmath1406 is the set of all plays in @xmath473 ; any other node of this tree has the form @xmath1407 which represents that for each @xmath1408 , @xmath1240 is its tile at stage @xmath24 and for all earlier stages @xmath1151 , every play in @xmath1409 also shares the same tile at stage @xmath331 .",
    "thus , the tree has the form depicted in figure  [ ex81 ] .       however , we also assume the induced edge relations @xmath1247 within this tree : @xmath1410 if @xmath1411 and @xmath1412 .",
    "let @xmath1413 be the tree of tiles for the p - partitions of all plays in @xmath473 .",
    "we drop the superscript @xmath1409 from tiles @xmath1407 whenever the context allows .",
    "we assume the definition of @xmath536-path , definition  [ def91 ] , which picks out the sequence of tiles in @xmath4 from its root to @xmath1407 when @xmath1408 .",
    "also , we shall assume that definitions  [ defi53 ] , [ defdepend ] and [ defi54 ] of @xmath241-below , below , immediate @xmath241-dependent , dependent and embedded apply to tiles in a tree @xmath1413 by examining @xmath536-paths and bindings : for instance , @xmath1237 is an immediate @xmath241-dependent of @xmath1032 if @xmath1032 is in the @xmath536-path for @xmath1237 , the free variable @xmath69 at the head of @xmath1237 is bound in @xmath1032 and @xmath1237 is @xmath241-below @xmath1032 relative to this @xmath536-path .",
    "however , because of the linear representation of a p - partition there is also the idea that a tile @xmath1237 is _ later _ than @xmath1032 in @xmath28 if there is a play @xmath536 and @xmath1414 and @xmath1415 and @xmath1416 ; we also say that @xmath1032 is _ earlier _ than @xmath1237 .    as with the @xmath12rd - order case in section  [ third",
    "] , we identify _ special _ tiles in the tree .",
    "[ def92 ] the tile @xmath1417 is _ special _ if it obeys one of the following three conditions ;    1 .   for some @xmath1418",
    ", @xmath1037 is nri , 2 .   for some @xmath1418",
    ", @xmath1419 is a final state , 3 .   for some @xmath536 , @xmath1420 , @xmath1067 when @xmath1068 and @xmath1069 .",
    "a tile is _ x - special _ if it obeys @xmath457 or @xmath424 of these conditions .",
    "a special tile that is not x - special is a play separator .",
    "there is the same upper bounds on the number of special tiles in @xmath1413 as in the @xmath12rd - order case .",
    "[ fact92 ] assume @xmath1413 is tree of tiles associated with @xmath203 .",
    "within @xmath1413 there are    1 .   at most @xmath165 ( @xmath124 the right size for @xmath10 , definition  [ delta ] ) tiles that involve nri intervals ; 2 .   at most @xmath1070 ( @xmath124 the number of plays in @xmath203 ) tiles where play ends ; 3 .",
    "therefore , at most @xmath1079 are x - special tiles ; 4 .   at most @xmath1071 tiles that are play separators .",
    "the proof of the small model property for the @xmath12rd - order case is straightforward : use transformation @xmath1421 of section  [ third ] to remove any tile that is not special from @xmath1413 and update edges . with higher orders we can not just omit a tile that is not special .",
    "it may have dependents , so its removal would result in a tree that is no longer a closed term . or an associated interval may finish at an atomic leaf of some other tile in the tree , so its removal may not preserve game playing . instead , we introduce tile _ unfolding _ as a transformation on a tree @xmath1413 .",
    "we need to generalise the notion of tree to that of a _ tree of basic _ tiles .",
    "we will be interested in a tile @xmath1422 that is an immediate dependent of a top or embedded tile @xmath1032 which is not x - special and which also does not have x - special later tiles belonging to the same family .",
    "therefore , as we shall see , @xmath1237 can be replaced in the tree by a basic tile that is constructed from @xmath1032 and @xmath1237 ; this may require revision of later edges in the tree . before developing the full account",
    ", we shall now briefly illustrate it .",
    "[ ex91 ] consider the p - partition in figure  [ ex78 ] of example  [ ex713 ] for the play @xmath1010 in figure  [ nex2 ] on the term tree in figure  [ ex1 ] .",
    "the tree of tiles with the edge relation @xmath1286 , with @xmath1010 omitted , is pictured in the top diagram in figure  [ ex92 ] .",
    "there are edges , for instance , from different atomic leaves of @xmath1042 to @xmath1047 and @xmath1298 .",
    "the special ( and x - special ) tiles are @xmath1047 , @xmath1423 and @xmath1392 ; intervals on the first two of these are nri and the third is where the play @xmath1010 finishes .",
    "transformation @xmath1421 of section  [ third ] would allow us to remove the tile @xmath1063 with the effect that the edge from @xmath1047 would then be to @xmath1423 : dynamically , in terms of play , this means that the ri interval @xmath1424 , a play on @xmath1063 , is omitted and the interval @xmath1425 reduced ( by omitting its ri play on @xmath1063 ) .",
    "tile @xmath1298 is a top tile with immediate dependent @xmath1324 ; neither of these tiles is x - special .",
    "however , because of this binding and the fact that it has two outgoing edges from different atomic leaves , @xmath1298 can not be omitted ( like @xmath1063 ) ; nor can we remove @xmath1324 because @xmath1426 ends at an atomic leaf of @xmath1298",
    ". instead we can unfold @xmath1298 at @xmath1324 : we introduce the basic tile @xmath1427 which prefaces @xmath1298 to @xmath1324 ; the new interval @xmath1426 , in effect , includes an extra interval that corresponds to @xmath1428 as a prefix and then omits the ri plays on @xmath1299 and @xmath1429 from the old interval @xmath1426 .",
    "play in the new interval @xmath1426 which is still ri now finishes at an atomic leaf of @xmath1430 ; so edges may need to be changed ; here , @xmath1430 now has an edge to @xmath1392 .",
    "the effect of this unfold is pictured in the lower diagram of figure  [ ex92 ] . as a consequence ,",
    "both @xmath1298 and @xmath1430 can now be removed by transformation @xmath1421 .",
    "as the reader can verify , tile @xmath1299 can also be unfolded at @xmath1429 .",
    "we call the process `` unfolding '' @xmath763 at @xmath761 ( where @xmath761 is an immediate dependent of @xmath763 ) because it is analogous to unfolding or unravelling a transition system in modal logic ; here , there is the extra dimension of binding . as with unravelling ,",
    "the purpose of unfolding in @xmath1413 is also to approximate the tree model property .",
    "technically , from a game - theoretic point of view , what will justify unfolding is permuting , repeating and omitting corresponding ri intervals : for instance , with the replacement of @xmath1324 by @xmath1430 in example  [ ex91 ] there is a repetition and a permutation of intervals that correspond to the earlier ri interval on @xmath1298 within @xmath1430 , and then omission of the ri intervals that correspond to @xmath1431 , @xmath1432 within @xmath1426 .",
    "although initially unfolding increases the size of a tree , its point is to reduce tile levels .",
    "tile @xmath1324 is level @xmath157 whereas its replacement @xmath1430 is a level @xmath21 ( basic end ) tile .",
    "unfolding is not defined as a transformation in the sense of section  [ third ] because it is not local ; edges to later tiles may be revised in its application .",
    "first , we extend the notion of a tree to that of a tree of basic tiles with associated plays that are p - partitioned .",
    "[ defitree ] the tree of basic tiles @xmath1413 has associated plays @xmath1406 if @xmath1406 is the set of plays down the branches of @xmath1413 and for each @xmath1418 , @xmath1233 for some @xmath83 such that    1 .",
    "if @xmath1433 then @xmath835 is an interval on the tiles @xmath1434 in @xmath1413 that starts at the root of @xmath1237 , 2 .",
    "if @xmath257 and @xmath1435 then @xmath180 is an atomic leaf of @xmath1240 and @xmath1436 , 3 .   if @xmath257 and @xmath1268 is a top or constant tile then @xmath1346 for some @xmath180 , 4 .",
    "if @xmath835 is ri and @xmath1347 then @xmath1240 belongs to the same family as @xmath1268 , 5 .",
    "if @xmath835 is ri and @xmath1268 is an embedded tile in @xmath4 then @xmath1346 for some @xmath180 , 6 .",
    "if @xmath835 is ri and @xmath1437 then @xmath1438 is not in the @xmath536-path of @xmath1237 .",
    "initially , when @xmath1413 is the tree of simple tiles constructed from the p - partitions of the plays in @xmath203 then @xmath1413 has associated plays @xmath925 ; parts ( 1 ) and ( 2 ) of definition  [ defitree ] follow from definition  [ partit ] of p - partition , the remainder from proposition  [ vip ] .",
    "we assume that the definitions of b - partition , dependent , special , x - special , @xmath536-path and so on are extended to basic tiles in a tree of basic tiles .",
    "[ def93 ] assume @xmath1413 is a tree of basic tiles with associated plays .",
    "tile @xmath1032 _ is unfoldable at _",
    "@xmath1237 if    1 .",
    "@xmath1032 is a top or embedded tile , 2 .",
    "@xmath1237 is the first tile in @xmath1439 that is a dependent of @xmath1032 , 3 .",
    "@xmath1032 and no later tile that is in the same family as @xmath1032 is x - special .",
    "if @xmath1032 is unfoldable at @xmath1237 then we define the unfolding of @xmath1032 at @xmath1237 in @xmath1413 as the tree @xmath1440 with the same nodes as @xmath1413 except that @xmath1237 is replaced by a basic tile @xmath1441 that is a composition of @xmath1032 and @xmath1237 .",
    "( edges in @xmath1413 may also be changed in @xmath1440 . ) in the following we define the associated plays on @xmath1440 from those on @xmath1413 : the definition uses the notion of corresponding positions as defined ( for intervals ) in definition  [ defsimilar ] . however , because @xmath1440 is different from @xmath1413 , the notion of correspondence is slightly weakened in specific circumstances to allow that a sequence of positions may correspond to a single position .",
    "[ def94 ] assume @xmath1442 is unfoldable at @xmath1443 in @xmath1413 and for each @xmath1408 , @xmath1444 .",
    "the _ unfolding of @xmath1032 at @xmath1237 _ in @xmath1413 is the tree @xmath1440 where @xmath1440 has the same tiles as @xmath1413 except that @xmath1237 is replaced by @xmath1445 . for each play @xmath1233 on @xmath1413",
    "there is a play @xmath1446 on @xmath1440 , defined as follows in stages and top down :    1 .   if @xmath1447 or @xmath1408 and @xmath1245 then @xmath1448 and @xmath1449 iff @xmath1450 ; 2 .   if @xmath1408 , @xmath1451 , @xmath1452 and @xmath1453 then @xmath1454 is the continuation from the head of @xmath1455 in @xmath1456 with edges @xmath1457 .",
    "any position @xmath1458 in @xmath1454 corresponds to @xmath1459 in @xmath823 in the sense of definition  [ defsimilar ] except in the following circumstances where the notion of correspondence is weakened : 1 .   _ the positions are at @xmath1441 and @xmath1237 _ : if @xmath1460 and @xmath1461 then @xmath1462 corresponds to @xmath1459 where @xmath1463 is a shortest play on @xmath1032 in @xmath1441 that ends at @xmath1464 , 2 .",
    "_ there is a jump into @xmath1441 and @xmath1032 _ : as a result of move c4 of figure  [ game ] , @xmath1465 and @xmath1466 ; then @xmath1467 corresponds to @xmath1468 if these intervals are internal to @xmath1441 and @xmath1032 , 3 .   _",
    "the positions are at @xmath1469 and @xmath1470 _ :",
    "@xmath1471 , @xmath1472 and @xmath1473 is the first later position such that @xmath1474 and @xmath1475 is the play on @xmath1032 in the b - partition for @xmath1473 ; then @xmath1458 corresponds to @xmath1476 .",
    "+ for the edges : if @xmath1455 is @xmath1237 or is below @xmath1237 and @xmath1477 then @xmath1478 ; otherwise , @xmath1479 if @xmath1480 .",
    "we say that @xmath1481 on @xmath1440 is _ the companion _ of @xmath536 on @xmath1413 and that @xmath1440 is _ an unfolding _ of @xmath1413 .",
    "in example  [ ex91 ] , @xmath1298 is unfolded at @xmath1324 ; @xmath1413 is the upper and @xmath1440 the lower tree in figure  [ ex92 ] .",
    "the companion play @xmath1463 on @xmath1440 of @xmath1010 on @xmath1413 has the same intervals up to and including stage @xmath419 . in defining the weakened correspondence , play in @xmath1463",
    "is at @xmath1430 in @xmath1440 and in @xmath1010 at @xmath1324 in @xmath1413 : so @xmath1482 where @xmath1483 is the initial play on @xmath1298 in @xmath1430 now corresponds to @xmath1484 ; next there is a jump into @xmath1430 and @xmath1298 by move c4 which is to @xmath1485 and @xmath1486 and so this @xmath1463 position corresponds to the interval that is from @xmath1487 to the lambda node directly above @xmath1324 ; so then the next positions will again correspond . in both these cases , where an interval corresponds to a position",
    ", the interval must be ri .",
    "[ prop95 ] assume @xmath1413 has associated plays @xmath1406 .",
    "if @xmath1440 is an unfolding of @xmath1413 then @xmath1440 has associated plays @xmath1488 .",
    "assume that @xmath1413 has associated plays @xmath1406 and @xmath1440 is the unfolding of @xmath1032 at @xmath1489 in @xmath1413 . by definition , if @xmath1447 and @xmath1481 is its companion then @xmath1490 is a play on a branch of @xmath1440 as required .",
    "otherwise , assume @xmath1442 , @xmath1444 for each @xmath1408 , @xmath1491 and @xmath1445 .",
    "we now show that we can find corresponding positions @xmath1458 in @xmath1454 and @xmath1459 in @xmath823 as described in definition  [ def94 ] for each @xmath1492 . for @xmath1245 ,",
    "this holds because @xmath1493 and @xmath1494 iff @xmath1495 .",
    "consider next the case that corresponding positions are at @xmath1441 and @xmath1237 : @xmath1496 and @xmath1497 .",
    "we examine the b - partitions for @xmath1498 and @xmath1499 and their component plays @xmath1463 , @xmath1010 on @xmath1032 ; we show that @xmath1463 and @xmath1010 correspond , that they are ri and that they are shortest plays on @xmath1032 ( that end at the leaf @xmath1500 ) .",
    "we prove this by induction on corresponding positions @xmath1498 , @xmath1499 , @xmath1501 .",
    "the base case is when @xmath1502 . at this point",
    "the b - partitions for @xmath1498 and @xmath1499 are the same .",
    "let @xmath1463 be the component interval in this b - partition on @xmath1032 .",
    "that @xmath1463 is ri and is a shortest play on @xmath1032 that ends at @xmath760 follows from the fact that @xmath1237 is the first tile that is a dependent of @xmath1032 in the sequence @xmath1439 , that @xmath1032 is a top or embedded tile and that @xmath1032 and all later tiles in the same family are not x - special ; consequently , any tile between @xmath1032 and @xmath1237 in the same family as @xmath1032 has an associated ri interval and , therefore , if play in such an interval were at a different atomic leaf of @xmath1032 than @xmath760 , then @xmath1237 would not be a dependent of @xmath1032 .",
    "for the inductive step the argument is similar after noting the following property : if corresponding positions are at @xmath1441 and @xmath1237 then it is not possible that play was in a dependent tile @xmath1333 of @xmath1032 that is below @xmath1237 before jumping back into @xmath1032 , then to @xmath1503 and then proceeding to @xmath1237 because in @xmath1481 the simulating position would be at @xmath1237 in @xmath1441 ( because in @xmath1440 , @xmath1333 is a dependent of @xmath1441 and edges are updated in @xmath1440 ) .",
    "so this property holds .",
    "therefore , returning to the main argument , the continuation from @xmath1498 consists first of a sequence of moves @xmath1483 that corresponds to @xmath1463 except it is on @xmath1032 within @xmath1441 ; therefore , @xmath1504 weakly corresponds to @xmath1459 .",
    "consider next corresponding positions such that at the next positions they jump into @xmath1441 and @xmath1032 ; @xmath1505 and @xmath1466 .",
    "then the intervals @xmath1468 , @xmath1467 that are internal to these tiles correspond except that they take place in @xmath1032 and @xmath1441 .",
    "the final circumstance to examine is that corresponding positions are @xmath1458 , @xmath1459 such that @xmath1506 and @xmath1507 .",
    "we show that there is a first position such that @xmath1508 and for some @xmath216 , @xmath1475 is the play on @xmath1032 in the b - partition for @xmath1473 and the b - partition for @xmath1458 contains the ri interval @xmath1509 which corresponds to @xmath1476 . positions @xmath1458 and @xmath1459 must be the result of a c4 move . however , the look - up table where this entry is defined must be at a position within a tile @xmath1333 that is a dependent of @xmath1032 in @xmath1413 and of @xmath1441 in @xmath1440 that is , below @xmath1237 .",
    "now the result follows as @xmath1032 and all later tiles in the same family are not x - special .",
    "clearly , @xmath1440 has no other plays than the companions of @xmath1406 .",
    "moreover , each companion play @xmath1481 obeys the six conditions in definition  [ defitree ] given that they hold for each @xmath536 on @xmath1413 .    to prove the small model property , assume a smallest term @xmath4 such that @xmath1510 and let @xmath1413 be its tree of simple tiles that captures the p - partitions of every @xmath1026 .",
    "first , we describe the proof for a particular case of @xmath1413 , a _",
    "general atoms case _ , that obeys the following condition : if @xmath1032 is not a constant tile then it is not x - special .",
    "what this means is that every top and embedded tile is unfoldable at a first dependent even though some of these tiles may be x - special . ] .",
    "the decidability proof now reduces to the @xmath12rd - order case as the tree - model property is regained .    initially , restricting further , assume @xmath10 is @xmath96th - order : there are , therefore , only two levels of non - constant tiles , top and end tiles . starting top down with @xmath1511 , at each stage @xmath1512 , a top tile @xmath763 that is closest to the root and that has dependents",
    "is unfolded at a first dependent @xmath761 .",
    "the construction finishes at some stage @xmath83 , when @xmath1513 has no unfoldable tiles ; that is , when it has no top tiles with dependents .",
    "this means that @xmath1513 only consists of constant tiles and basic top tiles that are also end tiles .",
    "once the tree is in this form , only the special tiles ( those that are constant tiles and play separators ) need to be kept : the remainder are redundant using transformation * t2*. to obtain a small term , the initial @xmath181 of @xmath4 is placed at its top and the constant @xmath535 is placed below every leaf @xmath195 .",
    "the bound on the size of @xmath4 is larger than in fact  [ bounds ] because the units are now _ basic _ tiles instead of simple tiles . in the worst case , each whole tile consists of one simple top tile and at most @xmath41 simple end tiles in any branch ( where @xmath41 is the arity of @xmath10 ) .",
    "therefore , using this construction , we obtain the following bound where the measures are all from @xmath10 : @xmath1514 .    for higher - orders ,",
    "the bounds become even larger .",
    "initially , all top and embedded tiles with dependents are unfoldable .",
    "now unfolding is iterated . at each stage @xmath1512",
    ", a top or embedded tile @xmath763 with dependents which has the _ greatest _ level is unfolded ; if there is more than one such tile then one that is closest to the root is chosen to be @xmath763 and it is unfolded at a first dependent to give @xmath1515 .",
    "consider what may happen when @xmath10 is @xmath419th - order .",
    "there are now three levels of non - constant tiles : top , middle and end .",
    "unfolding reconciles embedded middle tiles with their immediate end dependents , which may in turn create larger embedded middle tiles or end tiles .",
    "for instance , assume the following branch of tiles in @xmath1516 @xmath1517 where @xmath763 is a top tile , @xmath1042 , @xmath1047 , @xmath1063 are dependents of @xmath763 , @xmath1047 and @xmath1063 are both embedded middle tiles because of @xmath1042 and @xmath1518 is a dependent of @xmath1047 and @xmath1519 of @xmath1063 .",
    "first , @xmath1047 is unfolded at @xmath1518 and then @xmath1063 is unfolded at @xmath1519 to give the following sequence .",
    "@xmath1520 the situation has reduced to the @xmath96th - order case , as there are now only two levels of tiles .",
    "so , the complete unfolding is the following sequence of top tiles that are also end tiles .",
    "@xmath1521 therefore , using * t2 * we can remove any non - special tiles from the unfolded tree and any embedded ( basic ) end tiles within special tiles .",
    "the following is a very crude size bound on a smallest term that solves the problem @xmath10 of order @xmath1522 in this restricted case : @xmath1523 where @xmath1524 and @xmath1525 .    in the general atoms case",
    "there is a bounded size solution term with a simple form that is a _ transferring _",
    "term @xcite .",
    "for instance , consider the definition of transferring in @xcite ; for every subterm of @xmath1526 of the form @xmath1527 the free variables of any @xmath517 belong to @xmath1528 .",
    "let us return to the unrestricted case .",
    "we show that there is a bounded size term that _ almost _ has the tree model property .",
    "not all top or embedded tiles with dependents can be unfolded because of their contribution to solving @xmath10 ; for instance , in example  [ ex91 ] , tile @xmath1042 can not be unfolded at @xmath1423 .",
    "there is also a further issue that does not occur with the general atoms case . after unfolding , we need to extract a term from the unfolded tree .",
    "the intention is that the edge relation @xmath1247 should be the subtree relation .",
    "however , there can be multiple edges of the form @xmath1529 and @xmath1530 : so , we need to guarantee that the `` subterms '' rooted at @xmath1268 and @xmath1531 are compatible .",
    "[ defi816 ] the tree @xmath1413 has the _ subterm property _ if there is a smallest equivalence relation @xmath1532 on its tiles such that whenever @xmath1533 ,    1 .",
    "they are syntactically the same tile , 2 .   if @xmath1534 and @xmath1535 then @xmath1536 .",
    "if @xmath1413 has the subterm property then its _ extraction _ is defined top - down . for any edge @xmath1537",
    "the tile @xmath1237 is moved to be directly below @xmath1538 .",
    "the initial @xmath181 of @xmath4 is placed at the top and the constant @xmath535 is placed below every leaf @xmath195 .",
    "next we compute the smallest equivalence relation @xmath1532 starting with the identity , for each tile @xmath1539 and then closing up inductively under the conditions in definition  [ defi816 ] : tiles @xmath1533 are identified .",
    "[ lem818 ] if @xmath1413 has has the subterm property then its extraction is a term .    to obtain the small model property , we show that given the initial tree there is a way of unfolding such that the resulting tree has the subterm property .",
    "we then examine the extraction and apply the transformation * t2 * to remove any redundant tiles .",
    "the upper bound is very crude .",
    "[ thm93 ] if @xmath4 is a smallest solution of @xmath10 of order at most @xmath1540 , then @xmath1541 where @xmath41 is the arity of @xmath10 , @xmath1542 , @xmath1524 and @xmath1525 .",
    "assume @xmath4 is a smallest solution to @xmath10 of order @xmath1543 .",
    "let @xmath1516 be the tree of simple tiles for the p - partitions of each play in @xmath203 .",
    "by fact  [ fact92 ] there are at most @xmath1544 special tiles in the tree . the issue is to define a largest sequence of unfolds such that afterwards the resulting tree has the subterm property .",
    "if every top and embedded tile is unfoldable then at each stage @xmath1545 those top or embedded tiles with the largest level that have dependents are chosen ; one of them that is closest to the root is then unfolded at a first dependent ; so @xmath1515 is an unfolding of @xmath1512 .",
    "unfolding is continued until @xmath1513 for some @xmath83 when there are no more unfoldable tiles ; an easy argument shows that there is such an @xmath83 as the unfolding reduces tile level . by proposition  [ prop95 ] , it follows that companion plays preserve final states . after unfolding ,",
    "every tile in the resulting tree is a basic top tile or a constant tile and , consequently , obeys the subterm property .",
    "so , its extraction @xmath180 is a term . except for the special tiles in @xmath180 , the remainder are redundant using transformation * t2*. therefore , this produces a term @xmath582 where @xmath1546 .",
    "because @xmath4 is a smallest term that solves @xmath10 , @xmath4 obeys this bound .",
    "otherwise , some top or embedded tiles must be excluded from being unfolded . in the worst case",
    "there are at most @xmath1079 x - special tiles in @xmath1516 and , therefore , at most @xmath1547 distinct tiles in @xmath1516 that are x - special or dependents of x - special tiles and that are also not embedded tiles . moreover , there are at most a further @xmath1548 tiles that are special .",
    "we now proceed with a sequence of unfoldings as follows : find a highest level unfoldable tile that is closest to the root and unfold it at a first dependent ; and keep repeating this until there are no more unfoldable tiles . if the resulting tree @xmath1513 fails to have the subterm property then at some earlier stage @xmath241 there are tiles @xmath1032 and @xmath1455 in @xmath1549 that are syntactically the same and one of them , say @xmath1032 is later unfolded whereas @xmath1455 is not and both have edges to the same atomic leaf : a failure of condition ( 2 ) of definition  [ defi816 ] .",
    "both these tiles are dependents of the same tile in @xmath1549 .",
    "therefore , we exclude the tile that @xmath1032 is a dependent of from being unfolded and then examine a complete sequence of unfoldings without it . by repeating this argument , after the sequence of unfoldings the resulting tree has the subterm property ; the number of distinct tiles that are excluded from being unfolded is at most @xmath1547 . by proposition  [ prop95 ]",
    "its extraction @xmath180 solves @xmath10 . to begin with there are @xmath1550 tiles that are either special or dependents of x - special tiles .",
    "again , we wish to apply the transformation * t2 * to remove redundant end tiles from @xmath180 .",
    "the question is how many extra unfolded tiles are also special because they have become separators .",
    "this depends on the number of plays @xmath1070 . if @xmath1551 then no extra tiles are needed .",
    "if @xmath1552 then for each of the @xmath1553 tiles , there could be at most @xmath1071 new play separators in the full unfolding .",
    "therefore , the result follows as each tile has bounded length @xmath1554 .",
    "although we have shown that higher - order matching is decidable , the upper size bound is very coarse and more work needs to be done to make it more accurate .",
    "although our complexity analysis is in terms of term size , it crudely agrees with the known non - elementary complexity lower bound based on @xcite . as order of a problem increases , so does its level and , therefore , the size of a smallest solution term according to our analysis increases ( exponentially ) .",
    "implicit in the analysis are positive sensible algorithms for solving dual interpolation problems .",
    "the game - theoretic characterisation of dual interpolation allows us to examine incomplete terms .",
    "as a first step , given a problem @xmath10 its component set of simple tiles can be defined from the subtypes and the constants ( including forbidden constants and the new constant @xmath362 of section  [ treecheck ] ) . from these",
    ", we can then define varieties of basic tiles that have no embedded end tiles .",
    "we can then proceed to construct a term tree in stages , first by seeing if there are basic top tiles that separate plays , and , thereby , continue recursively .",
    "otherwise , we need to check if there must be non - top basic tiles , and so on . in the worse case",
    ", we need to examine all possible terms whose size is bounded by theorem  [ thm93 ]",
    ". it may be worth investing effort to implement a tool that builds such terms .",
    "an open question is whether the set of all solutions of an interpolation problem is independently characterisable .",
    "for instance , comon and jurski define tree automata that characterise all solutions to a @xmath7th - order problem @xcite . in section 8 of their paper",
    "they describe two problems with extending their automata beyond order @xmath7 .",
    "the first is that states of an automaton are constructed out of the observational equivalence classes of terms .",
    "up to a 4th - order problem , one only needs to consider finitely many terms . with @xmath96th and higher orders ,",
    "this is no longer true and one needs to quotient the potentially infinite terms into their respective observational equivalence classes in order to define only finitely many states : however as padovani shows this procedure is , in fact , equivalent to the matching problem itself @xcite .",
    "the second problem is the term trees that the automata recognise . for a @xmath7th - order problem",
    ", there is an automaton that recognises its full set of solutions ( up to @xmath41-equivalence ) even though the syntax may be infinite .",
    "comon and jurski define a special kind of automata , @xmath1555-automata , to achieve this @xcite .",
    "the occurrence of a leaf @xmath1555 in a term tree represents any ( syntactically correct ) subtree .",
    "a @xmath1555 can not contribute to the solution of a matching problem .",
    "this is no longer true at @xmath96th - order , as illustrated by their example @xmath1556 .",
    "solutions of this problem include the terms @xmath1557 where for some @xmath1558 , every @xmath1559 , @xmath1560 , is the identity and @xmath1561 is the constant function @xmath298 . because @xmath24 is arbitrarily large , one can not use a bounded number of variables to capture all these terms @xcite . in the general case , by iterated unfolding",
    ", any solution term can be transformed into another solution term that only uses ( and reuses ) boundedly many variables .",
    "whether this is capturable using some kind of automaton ( such as a transducer ) is open .    in subsequent work @xcite",
    ", we are able to overcome the first problem of comon and jurski at higher orders but not the second .",
    "we provide a tree - automata characterisation relative to a _",
    "finite _ alphabet : given a problem @xmath10 , a finite set of variables and constants the ( possibly infinite ) set of terms that are built from those components and that solve @xmath10 is regular .",
    "the states of the automaton are built from abstractions of sequences of moves in a ( variant version of the ) game which works for all orders .",
    "although there is active research extending automata on words and trees to infinite alphabets which preserve `` good '' properties , such as decidability of non - emptiness , see @xcite for a recent survey , the results do not yet apply to the case caused by higher - order binding .    as we briefly mentioned in section  [ treecheck ]",
    ", ong has shown that the tree - checking game can be presented using game - semantics and innocent strategies .",
    "another question is whether this framework provides an alternative basis for understanding higher - order matching .",
    "i am indebted to luke ong for many extremely helpful discussions about matching .",
    "i would also like to thank the lmcs referees who engaged with the paper and proposed productive improvements .    999 barendregt , h. lambda calculi with types . in _ handbook of logic in computer science , vol 2 _ , ed .",
    "abramsky , s. , gabbay , d. and maibaum , t. , oxford university press , 118 - 309 , ( 1992 ) .",
    "comon , h. and jurski , y. higher - order matching and tree automata . _ lecture notes in computer science _ , * 1414 * , 157 - 176 , ( 1997 ) .",
    "dougherty , d. and wierzbicki , t. a decidable variant of higher order matching . _ lecture notes in computer science _ , * 2378 * , 340 - 351 , ( 2002 ) .",
    "huet , g. _ rsolution dquations dans les langages dordre @xmath21 , @xmath157 , @xmath9 @xmath1562_. thse de doctorat dtat , universit paris vii , ( 1976 ) .",
    "joly , t. on @xmath471-definability i : the fixed model problem and generalizations of the matching problem .",
    "_ fundamenta informaticae _ , * 65 * , 135 - 151 , ( 2005 ) .",
    "ong , c .- h .",
    "l. on model - checking trees generated by higher - order recursion schemes .",
    "_ proceedings of 21st annual ieee symposium on logic in computer science _ , ( lics ) , 81 - 90 , ( 2006 ) .",
    "( longer version available from ong s web page , 55 pages preprint . )          schmidt - schau@xmath1563 , m. decidability of arity - bounded higher - order matching .",
    "_ lecture notes in artificial intelligence _ , * 2741 * , 488 - 502 , ( 2003 ) .",
    "segoufin , l. automata and logics for words and trees over an infinite alphabet .",
    "_ lecture notes in computer science _ ,",
    "* 4207 * , 41 - 57 , ( 2006 ) ."
  ],
  "abstract_text": [
    "<S> we show that the higher - order matching problem is decidable using a game - theoretic argument . </S>"
  ]
}