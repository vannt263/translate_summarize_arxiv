{
  "article_text": [
    "in pedestrian dynamics , several interesting phenomena have been intensively studied : herding effect , lane formation @xcite and jams in a counterflow , egress behavior@xcite , panic situation@xcite etc .. currently two kinds of models and their extensions @xcite have been proposed to describe these phenomena : `` social force '' model @xcite and cellular automata based `` floor field '' model @xcite .",
    "the first one follows from molecular dynamics model , it involves a group of particles interacting by long range `` social - force '' induced by behaviors of the individuals . however , the choice of the particular form of long - range `` social force '' is somehow arbitrary and generally pedestrians do not decide their behaviour in such a sophisticated way .",
    "the second one introduced certain kinds of particles that transfer inter - person forces .",
    "the particle density field is often referred to as the `` floor field '' .",
    "this model is derived from models for insects behavior with chemotaxis .",
    "this model also achieved much success in describing the above phenomena , but is somehow a bit far from the reality .    in this paper , we present a cellular automata based model focusing more on how the complex patterns and interesting phenomena can emerge from the very simplicity of the person - person and person - environment interaction .",
    "( from now on , we abbreviate `` cellular automata '' to `` ca '' . )",
    "this ca model can be regarded as an extension of the ising model for magnetic spins .",
    "mean - field solution for the densely populated case of this model is discussed and numerical simulations are carried out for the less populated case . lane formation and jams in a counterflow , as well as the egress behaviour are discussed .",
    "the rest of the paper is organized as follows : in section slowromancap2@ the basic ca model setting is presented , a model hamiltonian is given for the system ; in section slowromancap3@ , the extended glauber dynamics@xcite that governs the time evolution of the system is presented ; in section slowromancap4@ , the dense populated case is discussed , we apply mean - field approximation to discuss the equilibrium flow .",
    "the results are in consistency with numerical results ; in section slowromancap5@ , the sparsely populated case is discussed .",
    "we numerically simulated lane formation and jams phenomena in counterflow situation as well as egress phenomenon .",
    "good consistency is found with others results as well as the reality .",
    "conclusions are given in section slowromancap6@. in the appendix we present the specific derivation of the mean - field solution .",
    "our model is based on the local decision making process of a single pedestrian , given its surrounding environment and destination direction .",
    "the surrounding environment contains the neighbouring pedestrian and their walking directions , i.e. pedestrian tend to move in the same direction with neighbours ; the surrounding environment also contains the available empty spaces : pedestrian tend to avoid crowded area so they move to emptier place ; they avoid walking towards a wall .",
    "the influence of the destination direction is modeled by an external field that guides them to certain directions .",
    "we consider a group of pedestrians in certain plain space with different destination directions .",
    "we call our model `` @xmath0 dimensional '' if at most a single pedestrian can have @xmath1 neighbouring pedestrians(see fig [ config ] ) . for simplicity",
    "we do not consider specific details of a single pedestrian , e.g. his weight , height , age , gender .",
    "etc .. since here the space that one pedestrian occupies is the smallest space unit we are considering , the space is considered to be @xmath2 discrete lattices , each cell can contain at most one pedestrian",
    ". then the total carrying capacity of the space is @xmath2 .",
    "the number of pedestrian in this space can vary from zero up to @xmath2 , characterizing the level of crowdedness of the space .",
    "in such a n - dimensional model , we characterize a pedestrian by q - dimensional vectors @xmath3 and",
    "@xmath4 : @xmath3 denotes the direction of one pedestrian and @xmath4 denotes the condition of neighbors of one pedestrian .",
    "since our model share similarity with ising spin model , from now on we call a pedestrian a spin . notice that walls and obstacles are equivalent to pedestrians that never move",
    ".    the neighbors of one lattice is coded in an order that neighbor @xmath5 and neighbor @xmath6 are on opposite direction to this lattice , which then forms a q - dimensional coordinates .",
    "this coordinates system distinguishes with n - dimensional conventional coordinates and is designed to describe the conditions of the @xmath7 neighbors of each lattice . considering all the possible states of a pedestrian s movement , the vectors @xmath3 form a set denoted by @xmath8 .",
    "if @xmath9 , then this spin s direction is towards neighbor @xmath5 , i.e. it will move to neighbor @xmath5 if neighbor i is not occupied by a pedestrian . if @xmath10 , then this lattice is empty .",
    "vectors @xmath4 form a set @xmath11 .",
    "if @xmath12 equals one , then neighbor @xmath5 is occupied , otherwise this neighbor is empty .",
    "note that only by using q - dimensional coordinates can we distinguish between these conditions :     and @xmath13 .",
    "[ config ] , scaledwidth=25.0% ]        * neighbor @xmath5 is occupied , i.e. @xmath14 , @xmath15 .",
    "* neighbor @xmath6(opposite to neighbor @xmath5 ) is occupied , i.e. @xmath16 , @xmath17 . *",
    "both neighbor @xmath5 and @xmath6 are occupied , i.e. @xmath14 , @xmath17 . *",
    "both neighbor @xmath5 and @xmath6 are empty , i.e. @xmath16 , @xmath15 .",
    "if the total number of pedestrians in the space is @xmath18 , since we apply periodic boundary or the space is large enough , then in all the n lattices , the number of occupied lattices is @xmath18 and remains a constant in all process .    in our model , time",
    "is also considered to be discrete .",
    "it is measured by steps of pedestrians .",
    "again we do not consider the details of the difference in footstep length and pace of pedestrians .",
    "each step is one time unit , then we can introduce the velocity direction vector of one spin @xmath19 to describe the movement of one spin .",
    "the destination direction is simulated by an external field , denoted by @xmath20 in n - dimensional coordinates . for latter use",
    "we also introduce a q - dimensional form of the external field @xmath21 by defining @xmath22 . the interaction between neighbor spins and interaction between spins and external field",
    "is described in hamiltonian of the system : h =- f_<i , j > ^(n)_i^(n)+a_i=1^n ^(q)_i^(q)_i-_i=1^n",
    "^(q)^(q)_i [ hamiltonian_model ]    the first item results from interaction between the directions of neighbor spins . here spins have a tendency to be parallel to each other , which represents a kind of `` cooperation '' .",
    "if neighbor spins have parallel @xmath23 , then they have smaller energy .",
    "@xmath24 are constants that determines the properties of the system .",
    "this term is responsible for herding effect .",
    "the middle term results from the interaction of one spin with its neighbors . here",
    "spins have a tendency to move to neighboring lattices which is not occupied .",
    "if one spin s direction vector points to a neighboring lattice which are not occupied , then @xmath25 is 1 , otherwise it s 0 .",
    "this term results in the tendency to avoid crowded situation .",
    "the last item results from the external field .",
    "the spin tends to move in the direction of the external field , which simulates its destination direction .",
    "the hamiltonian described in the equation ( [ hamiltonian_model ] ) can be understood directly : herding effect in micro scale is represented by the item @xmath26 ; the tendency to avoid crowded situation is expressed by the item @xmath27 and an external field plays the role of pedestrian destination direction in the item @xmath28 ; the neighboring lattice occupied by wall will result in huge increase of energy , then the spin will turn away from the wall immediately .",
    "we do not need to calculate the specific microscopic interaction force in the dynamical evolution of the system .",
    "the dynamics here is that the system is approaching a energy minimum state .",
    "an extended glauber dynamics @xcite is applied , the detailed dynamical evolution rules of the ca model is as follows :    * denote @xmath29 as the probability per unit time of flipping the spin to direction @xmath30 + w(^(q))= + @xmath31is the energy of the system when @xmath30 .",
    "@xmath32 , @xmath33 is the effective `` temperature '' of the crowd , which reflects the level of fluctuation in the system . when temperature is high , the spin has higher possibility of changing directions , corresponding to an excited crowd who are willing to change directions now and then ; when temperature is low , the spin has lower possibility of changing directions , corresponding to an inert crowd who tend to keep the same direction . *",
    "if one spin has the direction @xmath34 and neighbor @xmath5 is unoccupied , then move the spin to neighbor @xmath5 .",
    "* a periodical boundary is applied , i.e. when a spin moves to the edge it will appear ont the other side of the space .",
    "we adopt a rule called q2r rule @xcite developed by vichniac , basically the rule states that any cellular automata that changes the state of cells all at the same time can not reach equilibrium state , which results from energy conservation law . under this dynamics",
    ", we have the number of spins conserved .",
    "numerical realization of the dynamical evolution share resemblance with monte - carlo simulation used in various areas of physics as well as math .",
    "the random number code is from ref@xcite .    in the following sections we will focus on two cases of the system .",
    "when the lattice is densely populated , i.e. vacancy of the lattice only appears occasionally , then the homogeneous distribution of spins allow us to apply mean - field approximation to probe its dynamical properties .",
    "when the lattice is sparsely populated , then mean - field theory no longer applies , we turn to numerical simulation to study counterflow and egress phenomena .",
    "we show that even though the dynamical rule is simple , the phenomena that emerge from the ca model are complex and interesting .",
    "when the lattice is densely populated , mean - field approximation is effective to analyze the equilibrium flow of the system(for details see appendix ) .",
    "we consider m of the n lattices are occupied by spins , define parameter @xmath35 to characterize the mean flow , x_l=\\ {    cc < s_n+l - s_l > , l=1,2, ... ,n + < s_l - s_l - n > , l = n+1, ... ,2n    .we introduce a mean - field @xmath36 , which contains both the influence of the spin - spin interaction and the spin - external field interaction . b_eff",
    "l = fqx_l+b_l - a < p_l > , l=1,2,3 ,  , q then the mean - field free energy of the system can be given as :    f & & ( fqn_l=1^nx_l^2+a<^(q)>_i=1^n^(q)-na<^(q)><^(q ) > ) + & -&ln(a_n^m)-mln(_^(q)_i * s*\\\\{_0 } e^_eff^(q)^(q)_i ) [ free_energy ]      if the system is in equilibrium , the average of @xmath37 can be calculated out : @xmath38 also from the definition we have @xmath39 .",
    "if the periodic boundary condition is adapted or the system is large enough , then we make a further approximation @xmath40 , consequently n < s_l>=m for simplicity and without loss of generality , we only consider the external field as follows : @xmath41 .",
    "then the solution is x_l=\\ {    cc 0,l=2,  ,n + , l=1 [ x1 ]    .numerical solutions of the self consistent equations are in figure [ consistent]a .    when external field @xmath42 approaches zero there is still non - zero solution when @xmath33 is below certain critical point ; certain low temperature phase transition exists when @xmath43 .",
    "approximation of @xmath44 situation of this phase transition is done using taylor expansion , which is showed as the black line in figure.[consistent]a .",
    "define the critical point as @xmath45 , taylor expansion gives : x_1= [ tc ] since the approximation only holds when temperature is close to the critical point , we can see that the black line fits well with the numerical solution around the critical point and deviates from the numerical solution when @xmath33 continues to decrease .",
    "two dimensional simulations are carried out to check this mean field approximation results(see figure [ consistent ] b.c . ) .",
    "for each parameters we perform 10 separate simulations and calculate the average . in order to show the variance we plot the maximum and minimum result as well .",
    "generally the results fits well , critical temperature turns out to be @xmath46 .",
    "high temperature and low temperature limits of the solution is discussed in the appendix .",
    "spontaneous self - organization exists when @xmath47 , then the effective field do not contain external field .",
    "we require the free energy(equation ( [ free_energy ] ) ) of the system approaches the minimum , so @xmath48 . if we do taylor expansion on the equation(see appendix ) , then the approximate solution to @xmath48 is : x_l=,l=1,2,3 ,  , qthe definition of @xmath49 is the same with equation ( [ tc ] ) .",
    "the uncertainty in the sign as well as in @xmath50 of @xmath35 is caused by fluctuations .",
    "this is essentially the symmetry breaking phenomena in our ca model .",
    "the solution is sensitive to tiny asymmetry of the initial condition .",
    "physically it means : when temperature of the system is below @xmath49 , the system will form constant flow spontaneously .",
    "note that this spontaneous self - organization is different from the solution of the self consistent equations when @xmath43 : compared with the none external field condition , a tiny external field will result in great change in the system .",
    "in a sparsely populated case , the total spins in the lattice @xmath18 is far smaller than the total number of lattices @xmath2 . then mean - field approximation does not make sense since the system is generally heterogeneous in sparsely populated case .",
    "so we turn to numerical simulation to probe the various phenomena in this case , e.g. lane formation and jams in counterflow as well as egress phenomena .",
    "study on counterflow can be found in refs.@xcite .",
    "basically , the counterflow situation refers to the encounter of two crowds of pedestrian coming from two opposite directions .",
    "the phenomena can take place in system with a periodical boundary or an open boundary and also in a narrow corridor .",
    "several distinctive phenomena will happen depending on the density of the crowd , the average speed of the pedestrian and the crowd s level of anxiety .",
    "we conducted several simulations of our model and showed the different phases of the pedestrian under different parameters .",
    "since it s counterflow , in our simulation pedestrian are labeled into two kinds , either tends to be parallel or anti - parallel with the external field .",
    "the initial positions of pedestrian are randomly chosen .",
    "choose the parameters as follows : @xmath51 .",
    "this corresponds to a very active way of walking , pedestrians cooperate and also they avoid crowded areas .",
    "figure[no1]a is a snapshot of the initial condition , color indicates the direction of pedestrian : black indicates s=(1,0,0,0)(upside ) , green indicates s=(0,0,1,0)(downside ) , blue indicates s=(0,0,0,1)(right ) , red indicates s=(1,0,0,0)(left ) .",
    "after encounter process(see figure[no1]b ) and merge process(see figure [ no1]c ) , three kinds of metastable states can be observed .",
    "we call the three states different phases of the system : `` block phase''(figure [ no1]d ) , i.e. pedestrian of different directions block each other s road and can not move to the other side ; `` normal phase''(figure [ phase]a ) , i.e. the system is not in order and fluctuates greatly ; `` lane formation '' phase(figure [ phase]e , f ) , i.e. the pedestrians form lanes and move efficiently .",
    "metastable means the states keep changing in specific shapes , but remain the same kind of pattern .",
    "the final state is dominated by the total number of spins @xmath18 and temperature @xmath33 , the phase diagram is shown in figure[phase]g .",
    "lane formation phase and normal phase do not have a clear boundary , lane formation phase has a rectangle shape in the diagram approximately",
    ". a linear boundary between the block phase and normal phase is discovered .",
    "block phase(figure [ no1]d ) can also be called jam phase in consistence with the terms used by others . in normal phase(figure [ phase]a )",
    "the system is not in order and fluctuates greatly , though lane formation phase can be seen , but the lanes stay just for several time steps and are not stable(in each step of time a pedestrian can take no more than one step ) .",
    "transient block phenomenon(see figure [ phase]b , c , d ) is observed before lane formation . in lane formation",
    "phase(figure [ phase]e , f ) , long lanes are formed and the system remain relatively stable .",
    "pedestrian can move fluently and the transport efficiency is maximum .",
    "lattice length , scaledwidth=50.0% ]    egress phenomenon@xcite refers to the process of a group of pedestrian leaving a room in a certain period of time .",
    "an external field acts as the aim of the crowd that guides the crowd to the door . the external field is set so that pedestrian are moving towards the up side of the space from the exit in the middle(see figure [ egress]a )",
    ". then the crowd clogs around the door until the whole egress is over(see figure [ egress]b , c , d ) . during the egress , asymmetric behavior of the clogging crowd around the exit",
    "is observed(see figure [ egress]d ) .",
    "this phenomenon formed in the following process : a pedestrian either from the left side or the right side of the clogging crowd enter the exit , then a lane is formed since the pedestrian of his side follows his movement while the pedestrian from the other side are expelled by the lane and await until all the pedestrian from the left side enter the exit .    figure [ door ] shows the relationship between egress time and door width .",
    "certain critique width is discovered , the result is consistent with ref.@xcite , the critical width of a door is @xmath52 lattice width . according to ref.@xcite , each lattice is approximately @xmath53 , which should be narrowly able to contain one standing pedestrian , thus the critical width of a door is about @xmath54 , which is approximately consistent with our daily life , e.g. typical door in peking university dorm building .",
    "we construct a cellular automata based model to describe pedestrian dynamics .",
    "we focus on the emergence of complex phenomena resulting from simple local interaction between pedestrian . analytical mean - field solution of the model is given to describe dense populated case .",
    "simulations are carried out to verify the results .",
    "numerical simulations are carried out to probe the sparsely populated case , which is beyond the mean - field approximation .",
    "typical phenomena like lane formation @xcite and jams in a counterflow and egress behavior@xcite are found .",
    "block phase , normal phase and lane formation phase are distinguished and the phase diagram shows that only in very limited situation lane formation can be observed .",
    "a linear boundary between block phase and normal phase is discovered .",
    "asymmetric egress behavior is discovered . the critical width for the door",
    "is qualitatively measured , results are consistent with ref.@xcite and real life .",
    "further application of this cellular automata based model can be expected in qualitative descriptions of other flow phenomena .",
    "it shows that cellular automata is a powerful tool to describe non - linear and complex phenomena .",
    "this research was conducted by the author during his sophomore year in school of physics , peking university for participating in the `` challenge cup - national contest of college students scientific and technological '' .",
    "the author thanks prof .",
    "hongli wang for helpful discussions , as well as xun gao for introducing pedestrian dynamics and the notion of cellular automata to the author .",
    "20 d. helbing and p. molnar , phys .",
    "e 51 , 4282 - 4286(1995 ) a. kirchner et.l , physica a , volume 324 , issues 3 - 4 , 15 june ( 2003 ) d. helbing , i. farkas & t. vicsek , nature 407 , 487 - 490 ( 2000 ) t. kretz , m. kaufman and m. schreckenberg , lecture notes in computer science , volume 5191/2008 ( 2008 ) k. nishinari , a. kirchner , a. namazi , a. schadschneider , arxiv : cond - mat/0306262v1 [ cond-mat.stat-mech ] a. kirchner , k. nishinari and a. schadschneider , phys .",
    "e 67 , 056122 ( 2003 ) c. burstedde and k. klauck and a. schadschneider and j. zittartz , physica a , volume 295 , issues 3 - 4 , 15 june ( 2001 )    r. j. glauber , j. math . phys . 4 , 294 ( 1963 ) g. vichniac , physica d,10:96 - 115 ( 1984 ) w.h.press , s.a.teukolsky , w.t.vetterling , b.p.flannery , numerical recipes,3rd edition    j. evers , a. muntean , arxiv:1011.1432v1 [ math - ph](2010 )"
  ],
  "abstract_text": [
    "<S> we construct a two dimensional cellular automata based model for the description of pedestrian dynamics . wide range of complicated pattern formation phenomena in pedestrian dynamics are described in the model , e.g. lane formation , jams in a counterflow and egress behavior . </S>",
    "<S> mean - field solution of the densely populated case and numerical solution of the sparsely populated case are provided . </S>",
    "<S> this model has the potential to describe more flow phenomena . </S>"
  ]
}