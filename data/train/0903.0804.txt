{
  "article_text": [
    "r0.5        a number of fast beam - based feedback systems are required at the international electron - positron linear collider ( ilc )  @xcite . at the interaction point ( ip )",
    "a very fast system , operating on nanosecond timescales within each bunchtrain , is required to compensate for residual vibration - induced jitter on the final - focus magnets by steering the electron and positron beams into collision . a pulse - to - pulse feedback system is envisaged for optimising the luminosity on timescales corresponding to 5 hz . slower feedbacks , operating in the 0.1 - 1 hz range , will control the beam orbit through the linacs and beam delivery system .    the key components of each such system are beam position monitors ( bpms ) for registering the beam orbit ; fast signal processors to translate the raw bpm pickoff signals into a position output ; feedback circuits , including delay loops , for applying gain and taking account of system latency ; amplifiers to provide the required output drive signals ; and kickers for applying the position ( or angle ) correction to the beam .",
    "a schematic of the ip intra - train feedback is shown in figure  [ fbschematic ] , for the case in which the beams cross with a small angle ; the current ilc design incorporates a crossing angle of 14 mrad .",
    "critical issues for the intra - train feedback performance include the latency of the system , as this affects the number of corrections that can be made within the duration of the bunchtrain , and the feedback algorithm .",
    "previously we have reported on all - analogue feedback system prototypes in which our aim was to reduce the latency to a few tens of nanoseconds , thereby demonstrating applicability for ` room temperature ' linear collider designs with very short bunchtrains of order 100ns in length , such as nlc , glc and clic  @xcite .",
    "we achieved total latencies ( signal propagation delay + electronics latency ) of 67ns ( font1 )  @xcite , 54ns ( font2 )  @xcite and 23ns ( font3 )  @xcite .",
    "we report the latest results on the design , development and beam testing of an ilc prototype system that incorporates a digital feedback processor based on a state - of - the - art field programmable gate array ( fpga ) .",
    "the use of a digital processor will allow for the implementation of more sophisticated algorithms which can be optimised for possible beam jitter scenarios at ilc .",
    "however , a penalty is paid in terms of a longer signal processing latency due to the time taken for digitisation and digital logic operations .",
    "this approach is now possible for ilc given the long , multi - bunch train , which includes parameter sets with c. 3000/6000 bunches separated by c. 300/150ns respectively .",
    "initial results were reported previously  @xcite .",
    "r0.5     a schematic of the font4 feedback system prototype and the experimental configuration in the atf extraction beamline is shown in figure  [ atfschematic ] .",
    "the layout is functionally equivalent to the ilc intra - train feedback system .",
    "an upstream dipole corrector magnet can be used to steer the beam so as to introduce a controllable vertical position offset in stripline bpm ml11x .",
    "the bpm signal is initially processed in a front - end analogue signal processor .",
    "the analogue output is then sampled , digitised and processed in the digital feedback board to provide an analogue output correction signal .",
    "this signal is input to a fast amplifier that drives an adjustable - gap stripline kicker  @xcite , which is used to steer the beam back into nominal vertical position .",
    "bpms ml12x and ml13x can serve as independent witnesses of the beam position .",
    "the atf damping ring can be operated so as to provide an extracted train that comprises 3 bunches separated by an interval that is tuneable in the range 140 - 154 ns .",
    "this provides a short ilc - like train which can be used for controlled feedback , or feed - forward  @xcite system tests .",
    "font4 has been designed as a bunch - by - bunch feedback with a latency goal of less than 140ns .",
    "this meets the minimum ilc specification of c. 150ns bunch spacing , as well as the smallest spacing allowed at atf .",
    "this will allow measurement of the first bunch position and correction of both the second and third atf bunches .",
    "the correction to the third bunch is important as it allows test of the delay loop component of the feedback , which is critical for maintaining the appropriate correction over a long ilc bunchtrain .",
    "the design of the front - end bpm signal processor is based on that for font3 .",
    "the top and bottom ( y ) stripline bpm signals were added and subtracted using a hybrid , to form a sum and difference signal respectively .",
    "the resulting signals were band - pass filtered and down - mixed with a 714 mhz local oscillator signal which was phase - locked to the beam .",
    "the resulting baseband signals are low - pass filtered .",
    "the hybrid , filters and mixer were selected to have latencies of the order of a few nanoseconds , in an attempt to yield a total processor latency in the range 5 - 10ns .",
    "the output pulse is illustrated in figure  [ bpmvoltage ] .",
    "the measured latency is around 10ns  @xcite .",
    "r0.5        the custom digital feedback processor board is shown in figure  [ font4board ] .",
    "there are two analogue signal input ( output ) channels in which digitisation is performed using analog devices adcs ( dacs ) which can be clocked at up to 105 ( 210 ) ms / s .",
    "the digital signal processing is based on a xilinx virtex4 fpga which can be clocked at up to 500mhz .",
    "the fpga is clocked with a 357 mhz source , derived from the atf master oscillator and hence locked to the beam .",
    "logic operations are triggered with a pre - beam signal .",
    "the adc / dac are clocked at 357/4 ms / s .",
    "the analogue bpm processor output signal is sampled at the peak to provide the input signal to the feedback .",
    "r0.5     the gain stage is implemented via a lookup table stored in fpga ram , alongside the reciprocal of the sum signal for charge normalisation .",
    "the delay loop is implemented as an accumulator on the fpga .",
    "the output is converted back to analogue and used as input to the driver amplifier .",
    "the driver amplifier was manufactured by tmd technologies  @xcite , a uk - based rf company .",
    "the amplifier was specified to provide + -30a of drive current into the kicker  @xcite , whose striplines were shorted at the upstream end ( nearer the incoming beam ) .",
    "the risetime , starting at the time of the input signal , was specified as 35ns to reach 90% of peak output .",
    "the output pulse length was specified to be up to 10 microseconds .",
    "although current operation is with only 3 bunches in a train of length c. 300ns , it is planned in future to operate atf with extracted trains of 20 or 60 bunches with similar bunch spacing ; the design allows for this upgrade .",
    "we report the preliminary results of the most recent beam tests , performed in may 2008 .",
    "the beam was steered successively into different vertical positions spanning a range of about + -200 microns centred around nominal zero .",
    "an example is shown in figure  [ fbresults ] .",
    "the data shown are the averages over 10 or 11 pulses .",
    "the feedback is seen to under- and over - correct for low and high gain , respectively , and it is possible to make a perfect correction of bunch 3 by an appropriate gain choice .",
    "it should be noted , however , that the bunchtrain is not straight , there being a sagitta of order 100 microns between the incoming bunches , and this complicates the operation of the feedback system .",
    "nevertheless the system works as expected .",
    "r0.5     the latency was measured by deliberately delaying the kick to bunch 2 , and observing the kick vs. added delay ( figure  [ latency ] ) .",
    "this used a special version of the fpga firmware , without the inclusion of real - time charge normalisation .",
    "the delay at which bunch 2 stops being kicked , defined as 90% of full kick to bunch 2 , corresponds to a latency equal to the bunch spacing .",
    "the difference between the 90% kick point and zero added delay gives a measure of the amount of timing slack in the system , and hence , subtracting this from the bunch spacing of 154 ns yields a latency of c. 132 ns .",
    "the inclusion of real - time charge - normalisation uses an extra 3 clock cycles in the fpga firmware , increasing the system latency by 8.4ns to c.140ns .",
    "this work is supported by the commission of the european communities under the 6@xmath0 framework programme `` structuring the european research area '' , contract number rids-011899 , and by the uk science and technology facilities council .",
    "99 http://www.linearcollider.org/cms/ http://clic-study.web.cern.ch/clic-study/ p.n",
    ". burrows et al , proceedings pac03 , portland , oregon , may 2003 , p. 687 .",
    "burrows et al , proceedings epac04 , lucerne , july 2004 , p. 785 .",
    "burrows et al , proceedings pac05 , knoxville , tn , may 2005 , p. 1359 .",
    "burrows et al , proceedings epac06 , edinburgh , uk , june 2006 , p. 849 ; proceedings pac07 , albuquerque , nm , june 2007 , p. 416 .",
    "a. kalinin , p.n .",
    "burrows , proceedings pac07 , albuquerque , nm , june 2007 , p. 419 ."
  ],
  "abstract_text": [
    "<S> we present the design and preliminary results of a prototype beam - based digital feedback system for the interaction point of the international linear collider . </S>",
    "<S> a custom analogue front - end processor , fpga - based digital signal processing board , and kicker drive amplifier have been designed , built , and tested on the extraction line of the kek accelerator test facility ( atf ) . </S>",
    "<S> the system was measured to have a latency of approximately 140 ns . </S>"
  ]
}