{
  "article_text": [
    "_ penalty logic _ is a logical framework developed by pinkas @xcite and by dupin de st cyr , lang and schiex @xcite , which enables the representation of propositional weighted bases .",
    "weighted base _ is a finite set @xmath1 each @xmath2 is a propositional formula , and @xmath3 is its corresponding weight , i.e. , the price to be paid if the formula is violated . in penalty logic , weights are positive integers or @xmath4 and they are _ additively _ aggregated .    a weighted base can be considered as a compact , implicit encoding of a total pre - ordering over a set @xmath5 of propositional worlds . indeed , given a weighted base @xmath6 , the weight of each world @xmath7 can be defined as follows : @xmath8 that is , the weight of a world is the sum of all weights associated with sentences violated by the world .",
    "one can extend the function @xmath9 to arbitrary sentences",
    "@xmath10 : @xmath11 finally , @xmath12 denotes the most preferred worlds in @xmath5 , those having minimal weight : @xmath13 the weight of base @xmath6 , denoted @xmath14 , is the weight of some world in @xmath12 .",
    "obviously enough , we have @xmath15 , and @xmath16 if and only if @xmath17 .",
    "let @xmath18 be a weighted base .",
    "let us consider the following four worlds over the variables appearing in @xmath6 , @xmath19 :    * @xmath20 * @xmath21 * @xmath22 * @xmath23    we then have @xmath24 , @xmath25 , @xmath26 , and @xmath27 .",
    "accordingly , we have @xmath28 and @xmath29 .    all formulas @xmath2 associated with finite weights in a weighted base",
    "are called _ soft constraints _ , while those associated with the weight @xmath4 are called _",
    "hard constraints_.    penalty logic has some valuable connections with possibilistic logic , as well as with dempster ",
    "shafer theory ( see @xcite for details ) .",
    "it is also closely connected to the optimization problem weighted - max - sat considered in operations research .",
    "accordingly , several proposals for the use of weighted bases can be found in the ai literature .",
    "one of them concerns the compact representation of preferences in a decision making setting .",
    "indeed , in some decision making problems , models ( and formulas ) can be used to encode decisions .",
    "accordingly , the weight of a model represents the disutility of a decision , and a weighted base can be viewed as an implicit representation of the set of all decisions of an agent , totally ordered w.r.t .",
    "their ( dis)utility .",
    "lafage and lang @xcite take advantage of such an encoding for group decision making .",
    "a key issue here from a computational point of view is the problem consisting in computing ( one or all ) element(s ) from @xmath12 .",
    "another suggested use of penalty logic concerns inference from inconsistent belief bases .",
    "based on the preference information given by @xmath9 , several inference relations from a weighted base @xmath6 can be defined . among them",
    "is skeptical inference given by @xmath30 if and only if every world @xmath7 that is of minimal weight among the models of @xmath10 is a model of @xmath31 . in this framework ,",
    "propositional formulas represent pieces of ( explicit ) belief .",
    "the inference relation @xmath32 is interesting for at least two reasons . on the one hand , it is a _ comparative _ inference relation , i.e. , a rational inference relation satisfying supraclassicality @xcite . on the other hand ,",
    "weighted bases can be used to encode some well - known forms of inference from stratified belief bases @xmath33 @xcite . especially , the so - called skeptical _ lexicographic inference _",
    "@xmath34 can be recovered as a specific case of @xmath35 for some weighted base @xmath36 .",
    "let @xmath37 be a belief base interpreted under lexicographic inference , where @xmath38 ( the most reliable stratum ) and @xmath39 .",
    "w can associate with @xmath40 the weighted base @xmath41 the unique most preferred world for @xmath36 is @xmath42 that is also the only lexicographically - preferred model of @xmath40 .",
    "weighted bases enable more flexibility than stratified belief bases ( e.g. , violating two formulas of weight @xmath43 is worse than violating a single formula of weight @xmath44 , but this can not be achieved through a simple stratification ) .",
    "the _ inference _ problem from a weighted base @xmath6 consists in determining whether @xmath45 holds given @xmath6 and @xmath31 .",
    "up to now , weighted bases have been investigated from a theoretical point of view , only . despite their potentialities",
    ", we are not aware of any industrial application of weighted bases .",
    "there is a simple ( but partial ) explanation of this fact : inference ( and preferred model enumeration ) from weighted bases are intractable . actually , the inference problem is known as @xmath46-complete @xcite ( even in the restricted case where queries are literals ) . furthermore , it is not hard to show that computing a preferred world from @xmath12 is f@xmath46-complete .",
    "this implies that any of the two problems is very likely to require an unbounded polynomial number of calls to an np oracle to be solved in polynomial time on a deterministic turing machine .    in this paper ,",
    "we investigate the extent to which _ knowledge compilation _ @xcite can be used to improve inference from weighted bases .",
    "the key idea of compilation is pre - processing of the fixed part of the inference problem .",
    "several knowledge compilation functions dedicated to the clausal entailment problem have been pointed out so far ( e.g. , @xcite ) .",
    "the input formula is turned into a compiled one during an off - line compilation phase and the compiled form is used to answer the queries on - line . assuming that the formula does not often change and that answering queries from the compiled form is computationally easier than answering them from the input formula , the compilation time can be balanced over a sufficient number of queries .",
    "thus , when queries are cnf formulas , the complexity of classical inference falls from conp - complete to p. while none of the techniques listed above can ensure the objective of enhancing inference to be reached in the worst case ( because the size of the compiled form can be exponentially larger than the size of the original knowledge base  see @xcite ) , experiments have shown such approaches valuable in many practical situations @xcite .    in the following ,",
    "we show how compilation functions for clausal entailment from classical formulas can be extended to clausal inference from weighted bases .",
    "any equivalence  preserving knowledge compilation function can be considered in our framework .",
    "unfortunately , for many target classes for such functions , including the prime implicates , horn cover and renamable horn cover classes , we show that the inference problem from a compiled base remains @xmath46-complete , even for very simple queries ( literals ) .",
    "accordingly , in this situation , there is no guarantee that compiling a weighted base using any of the corresponding compilation functions may help .",
    "then we focus on @xmath0-compilations as introduced in @xcite .",
    "this case is much more favourable since the clausal inference problem becomes tractable .",
    "we also show that the preferred models of a @xmath0-compilation of a weighted base can be enumerated in output polynomial time .",
    "finally , we sketch how our results can be used in the model  based diagnosis framework in order to compute the most probable diagnoses of a system .",
    "in the following , we consider a propositional language @xmath47 defined inductively from a finite set @xmath48 of propositional symbols , the boolean constants @xmath49 and @xmath50 and the connectives @xmath51 , @xmath52 , @xmath53 in the usual way",
    ". @xmath54 is the set of literals built up from @xmath48 . for every formula @xmath55 from @xmath47",
    ", @xmath56 denotes the symbols of @xmath48 occurring in @xmath55 . as mentioned before , if @xmath57 is a weighted base , then @xmath58 .",
    "formulas are interpreted in a classical way . as evoked before",
    ", @xmath59 denotes the set of all interpretations built up from @xmath48 . every interpretation ( world )",
    "@xmath60 is represented as a tuple of literals .",
    "@xmath61 is the set of all models of @xmath55 .    as usual",
    ", every finite set of formulas is considered as the conjunctive formula whose conjuncts are the elements of the set .",
    "a cnf formula is a ( finite ) conjunction of clauses , where a clause is a ( finite ) disjunction of literals .",
    "a formula @xmath55 is blake if and only if it is a cnf formula where each prime implicate is a logically strongest clause entailed by @xmath55 .",
    "] of @xmath55 appears as a conjunct ( one representative per equivalence class ) .",
    "a formula is horn cnf if and only if it is a cnf formula s.t .",
    "every clause in it contains at most one positive literal .",
    "a formula @xmath55 is renamable horn cnf if and only if @xmath62 is a horn cnf formula , where @xmath63 is a substitution from @xmath54 to @xmath54 s.t .",
    "@xmath64 for every literal @xmath65 of @xmath54 except those of a set @xmath66 , and for every literal @xmath65 of @xmath66 , @xmath67 and @xmath68 .",
    "we assume the reader familiar with the complexity classes p , np , conp and @xmath46 of the polynomial hierarchy .",
    "f@xmath46 denotes the class of function problems associated to @xmath46 ( see @xcite for details ) .",
    "in this section , we first show how knowledge compilation techniques for improving clausal entailment can be used in order to compile weighted bases .",
    "then , we present some complexity results showing that compiling a weighted base is not always a good idea , since the complexity of inference from a compiled base does not necessarily decrease .",
    "we specifically focus on prime implicates @xcite and horn covers and renamable horn covers compilations @xcite .",
    "let @xmath69 be a weighted base .",
    "in the case where @xmath70 is consistent , then @xmath71 and @xmath12 is the set of all models of @xmath72 .",
    "accordingly , in this situation , inference @xmath32 is classical entailment , so it is possible to directly use any knowledge compilation function and compiling @xmath6 comes down to compile @xmath70 .",
    "however , this situation is very specific and out of the ordinary when weighted bases are considered ( otherwise , weights would be useless ) .",
    "a difficulty is that , in the situation where @xmath70 is inconsistent , we can not compile directly this formula using any equivalence  preserving knowledge compilation function ( otherwise , trivialization would not be avoided ) . indeed , in this situation ,",
    "@xmath32 is not classical entailment any longer , so a more sophisticated approach is needed .    in order to compile weighted bases",
    ", it is helpful to consider weighted bases in normal form :     + a belief base @xmath73 is _ in normal form _ if and only if for every @xmath74 , either @xmath75 or @xmath2 is a propositional symbol .    every weighted base can be turned into a query  equivalent base in normal form .     + let @xmath76 and @xmath77 be two weighted bases and let @xmath78 . @xmath76 and @xmath77",
    "are @xmath79-_equivalent _ if and only if for every pair of sentences @xmath10 and @xmath31 in @xmath80 , we have @xmath81 precisely when @xmath82 .",
    "accordingly , two @xmath79equivalent weighted bases must agree on queries built up from the symbols in @xmath79 .",
    "note that a stronger notion of equivalence can be defined by requiring that both bases induce the same weight function , i.e. , @xmath83 @xcite .",
    "finally , note that if @xmath84 and @xmath85 agree on the sentences in @xmath86 , then @xmath76 and @xmath77 must be @xmath79equivalent .",
    "[ normal ]   + let @xmath69 be a weighted base . if @xmath87 where @xmath88 , then the weighted base @xmath89 is in normal form .",
    "moreover , @xmath9 and @xmath90 agree on all weights of sentences in @xmath91 and , hence , @xmath92 is @xmath19equivalent to @xmath6 .",
    "we will call @xmath92 the normal form of @xmath6 .",
    "intuitively , the variable @xmath93 is guaranteed to be false in any world that violates the sentence @xmath2 and , hence , that world is guaranteed to incur the penalty @xmath3 .    * example 1.1 * ( continued ) the weighted base + @xmath94 @xmath95 is a normal form of @xmath6 as given by proposition  [ normal ] .",
    "the normalized weighted base @xmath92 induces the following weight function :    [ cols=\"<,<\",options=\"header \" , ]     hardness results can be easily derived from results given in @xcite due to the fact that ( skeptical ) lexicographic inference @xmath96 from a stratified belief base can be easily encoded as inference from a weighted base",
    ". indeed , if @xmath97 is the maximum number of formulas belonging to any stratum @xmath98 of @xmath33 , then let @xmath99 ( see example 1.2 for an illustration ) .",
    "it is not hard to prove that @xmath100 if and only if @xmath101 .",
    "the complexity results reported in table [ compiled ] do not give good news : there is no guarantee that compiling a belief base using the @xmath102 ( or the @xmath103 or the @xmath104 ) compilation function leads to improve inference since its complexity from the corresponding compiled bases is just as hard as the complexity of @xmath32 in the general case .",
    "fortunately , it is not the case that such negative results hold for any compilation function . as we will see in the next section , @xmath0-compilations of weighted bases",
    "exhibit a much better behaviour .",
    "in this section , we focus on @xmath0-compilations of weighted bases . after a brief recall of what @xmath0-compilation is ,",
    "we show that @xmath0-compilations support two important computational tasks in polynomial time , especially preferred model enumeration and clausal inference .",
    "the @xmath0 language is the set of sentences , defined as follows @xcite :     let @xmath48 be a finite set of propositional variables .",
    "a sentence in @xmath0 is a rooted , directed acyclic graph ( dag ) where each leaf node is labeled with @xmath49 , @xmath50 , @xmath105 or @xmath106 , @xmath107 ; each internal node is labeled with @xmath52 or @xmath53 and can have arbitrarily many children . moreover , the _ decomposability _ property is satisfied : for each conjunction @xmath108 in the sentence , the conjuncts of @xmath108 do not share variables .",
    "( figure [ fig1 ] depicts some @xmath109 , where @xmath6 is the weighted base given in example 1.1 .",
    "note here that @xmath92 is the normal form of @xmath6 , and @xmath110 is the conjunction of all sentence in @xmath92 that have weight @xmath4 . )    figure [ fig1 ] depicts a @xmath0 of the hard constraint @xmath110 , where @xmath6 is the weighted base given in example 1.1 .",
    "note here that @xmath92 is the normal form constructed from @xmath6 according to proposition  [ normal ] , and @xmath110 is the conjunction of all hard constraints in @xmath92 .",
    "an interesting subset of @xmath0 is the set of _ smooth _",
    "@xcite :     a @xmath0 sentence satisfies the _ smoothness _ property if and only if for each disjunction @xmath108 in the sentence , each disjunct of @xmath108 mentions the same variables .",
    "interestingly , every @xmath0 sentence can be turned into an equivalent , smooth one in polynomial time @xcite .    for instance , figure  [ fig2 ] depicts a smooth @xmath0 which is equivalent to the @xmath0 in figure  [ fig1 ] .",
    "note that for readibility reasons some leaf nodes are duplicated in the figure .    among the various tasks that can be achieved in a tractable way from a @xmath0 sentence",
    "are _ conditioning _ , _ clausal entailment _ , _ forgetting _ and _ model enumeration _ ( given that the @xmath0 is smooth ) @xcite .      given a weighted base @xmath6 , and given a @xmath0compilation of @xmath6 , we now show how the compilation can be used to represent the preferred models of @xmath6 as a @xmath0 in polynomial time .     + a _ minimization _ of a weighted base @xmath6 is a propositional formula @xmath111 where the models of @xmath111 are @xmath112 .",
    "note that this notion generalizes the notion of minimization of a propositional formula @xmath55 reported in @xcite , for which the preferred models are those containing a maximal number of variables assigned to true .",
    "such a minimization can be easily achieved in a weighted base setting by considering the base @xmath113 .",
    "let @xmath6 be a @xmath0-compilation of a weighted base .",
    "let @xmath114 be the single hard constraint in @xmath6 , where @xmath10 is a @xmath0 sentence .",
    "suppose that @xmath10 is also smooth .",
    "* we define @xmath115 inductively as follows : * * @xmath116 and @xmath117 . * * if @xmath10 is a literal , then : * * * if @xmath118 , then @xmath119 , where @xmath120 . * * * otherwise , @xmath121 . * * @xmath122 . *",
    "* @xmath123 . *",
    "we define @xmath124 inductively as follows : * * if @xmath10 is a literal or a boolean constant , then @xmath125 . * * @xmath126 . * * @xmath127 .",
    "we have the following result :    let @xmath6 be a @xmath0-compilation of a weighted base .",
    "let @xmath114 be the single hard constraint in @xmath6 , where @xmath10 is a smooth @xmath0 sentence .",
    "then @xmath124 is a smooth @xmath0 and is a minimization of @xmath6 .",
    "figure [ fig3 ] depicts the weight @xmath115 of every subformula @xmath10 of the smooth @xmath0 sentence given in figure [ fig2 ] .",
    "figure  [ fig4 ] ( left ) depicts the minimization of the @xmath0 in figure  [ fig3 ] .",
    "figure  [ fig4 ] ( right ) depicts a simplification of this minimized @xmath0 which has a single model .",
    "since @xmath124 can be computed in time polynomial in the size of @xmath0 @xmath10 , and since clausal entailment can be done in time linear in the size of @xmath10 @xcite , we have :    the clausal inference problem clause @xmath32 from @xmath0-compilations of weighted bases is in p.    since model enumeration can be done in output polynomial time from a smooth @xmath0 , we also have :    the preferred model enumeration problem from @xmath0-compilations of weighted bases can be solved in output polynomial time .",
    "we now briefly sketch how the previous results can be used to compute the set of most probable diagnoses of a system in time polynomial in the size of system description and the output size .",
    "the following results generalize those given in @xcite to the case where the probability of failure of components is available .",
    "we first need to briefly recall what a consistency - based diagnosis of a system is @xcite :     +    * a _ diagnostic problem _ @xmath128 is a triple consisting of : * * a formula @xmath129 from @xmath47 , the system description . * * a finite set @xmath130 of propositional symbols .",
    "`` @xmath131 is true '' means that the component @xmath132 of the system to be diagnosed is not faulty . *",
    "* @xmath133 is a term , typically gathering the inputs and the outputs of the system . * a _ consistency - based _",
    "diagnosis @xmath111 for @xmath134 is a complete @xmath135-term ( i.e. , a conjunction of literals built up from @xmath135 in which every @xmath131 occurs either positively or negatively ) s.t .",
    "@xmath136 is consistent .    because a system can have a number of diagnoses that is exponential in the number of its components , preference criteria are usually used to limit the number of candidates .",
    "the most current ones consist in keeping the diagnoses containing as few negative @xmath135-literals as possible ( w.r.t . set inclusion or cardinality ) .    when the _ a priori _ probability of failure of components is available ( and such probabilities are considered independent ) , the most probable diagnoses for @xmath134 can also be preferred .",
    "such a notion of preferred diagnosis generalizes the one based on minimality w.r.t .",
    "cardinality ( the latter corresponds to the case where the probability of failure of components is uniform and @xmath137 ) .",
    "interestingly , the most probable diagnoses for @xmath134 can be enumerated in output polynomial time as soon as a smooth @xmath0-compilation @xmath138 corresponding to @xmath134 has been derived first .",
    "+ let @xmath134 be a diagnostic problem for which the _ a priori _ probability of failure @xmath139 of any component @xmath132 is available .",
    "+ @xmath140 @xmath141 is the smooth @xmath0-compilation associated with @xmath134 .    in this definition",
    ", @xmath142 denotes the conditioning of @xmath129 by the term @xmath133 , i.e. , the formula obtained by replacing in @xmath129 every variable @xmath105 by @xmath49 ( resp .",
    "@xmath50 ) if @xmath105 ( resp .",
    "@xmath106 ) is a positive ( resp .",
    "negative ) literal of @xmath133 .",
    "the @xmath143 transformation performed here enables to compute the @xmath143 of the probability of a diagnosis @xmath111 as @xmath144 . because @xmath143 is strictly nondecreasing , the induced preference ordering between diagnoses is preserved .",
    "+    * @xmath145 is the @xmath143 of the probability of any most probable diagnosis for @xmath134 . *",
    "the most probable diagnoses for @xmath134 are the the models of @xmath146 and every set of variables @xmath147 , @xmath148 denotes the logically strongest consequence of @xmath55 that is independent from @xmath147 , i.e. , that can be turned into an equivalent formula in which no variable from @xmath147 occurs . ] .",
    "an important point is that @xmath138 does not have to be re - compiled each time the observations change ; indeed , a @xmath0 sentence @xmath149 equivalent to the conditioning of @xmath129 by the observations @xmath133 can be computed as @xmath150 , the conditioning of a @xmath0 sentence equivalent to @xmath129 by @xmath133 . since conditioning can be achieved in linear time from a @xmath0 formula ,",
    "it is sufficient to compile only the system description @xmath129 ( that is the fixed part of the diagnostic problem ) so to compute @xmath151 instead of @xmath149 .",
    "because ( 1 ) forgetting variables in a @xmath0 formula can be done in polynomial time @xcite and ( 2 ) the models of a smooth @xmath0 formula can be generated in time polynomial in the output size @xcite , we obtain that :    the most probable diagnoses for a diagnostic problem @xmath134 can be enumerated in time polynomial in the size of @xmath138 .",
    "in this paper , we have studied how existing knowledge compilation functions can be used to improve inference from propositional weighted bases . both negative and positive results",
    "have been put forward . on the one hand",
    ", we have shown that the inference problem from a compiled weighted base is as difficult as in the general case , when prime implicates , horn cover or renamable horn cover target classes are considered . on the other hand ,",
    "we have shown that this problem becomes tractable whenever @xmath0-compilations are used .",
    "finally , we have sketched how our results can be used in model - based diagnosis in order to compute the most probable diagnoses of a system .",
    "the first author has been partially supported by nsf grant iis-9988543 and muri grant n00014 - 00 - 1 - 0617 .",
    "the second author has been partly supported by the iut de lens , the universit dartois , the rgion nord / pas - de - calais under the tact - tic project , and by the european community feder program .",
    "s.  benferhat , c.  cayrol , d.  dubois , j.  lang , and h.  prade . inconsistency management and prioritized syntax - based entailment . in _ proc . of the @xmath152 international joint conference on artificial intelligence ( ijcai93 )",
    "_ , pages 640645 , chambry , 1993 .",
    "s.  benferhat , d.  dubois , and h.  prade . how to infer from inconsistent beliefs without revising . in _ proc .",
    "of the @xmath153 international joint conference on artificial intelligence ( ijcai95 ) _ , pages 14491455 , montreal , 1995 .",
    "y.  boufkhad , e.  grgoire , p.  marquis , b.  mazure , and l.  sas .",
    "tractable cover compilations . in _ proc . of the @xmath154 international joint conference on artificial intelligence ( ijcai97 )",
    "_ , pages 122127 , nagoya , 1997 .            a.  darwiche .",
    "compiling knowledge into decomposable negation normal form . in _ proc . of the @xmath157 international joint conference on artificial intelligence ( ijcai99 )",
    "_ , pages 284289 , stockholm , 1999 .",
    "f.  dupin de  st  cyr , j.  lang , and th .",
    "penalty logic ans its link with dempster - shafer theory . in _ proc . of the @xmath159 conference on uncertainty in artificial intelligence ( uai94 ) _ , pages 204211 , 1994 .",
    "r.  dechter and i.  rish .",
    "directional resolution : the davis - putnam procedure , revisited . in _ proc . of the @xmath160 international conference on knowledge representation and reasoning ( kr94 )",
    "_ , pages 134145 , bonn , 1994 .",
    "a.  del val .",
    "tractable databases : how to make propositional unit resolution complete through compilation . in _ proc . of the @xmath160 international conference on knowledge representation and reasoning ( kr94 )",
    "_ , pages 551561 , bonn , 1994 .    c.  lafage and j.  lang",
    "logical representation of preferences for group decision making . in _ proc . of the @xmath161 international conference on knowledge representation and reasoning ( kr00 )",
    "_ , pages 457468 , breckenridge ( co ) , 2000 .",
    "g.  pinkas .",
    "propositional nonmonotonic reasoning and inconsistency in symmetric neural networks . in _ proc . of the @xmath155 international joint conference on artificial intelligence ( ijcai91 )",
    "_ , pages 525530 , 1991 .",
    "g.  pinkas and r.p .",
    "reasoning from inconsistency : a taxonomy of principles for resolving conflict . in _ proc . of the @xmath162 international conference on knowledge representation and reasoning ( kr92 )",
    "_ , pages 709719 , cambridge ( ma ) , 1992 .",
    "r.  reiter and j.  de  kleer .",
    "foundations of assumption - based truth maintenance systems : preliminary report . in _ proc . of the @xmath156 national conference on artificial intelligence ( aaai87 )",
    "_ , pages 183188 , seattle ( wa ) , 1987 ."
  ],
  "abstract_text": [
    "<S> in this paper , we investigate the extent to which knowledge compilation can be used to improve inference from propositional weighted bases . </S>",
    "<S> we present a general notion of compilation of a weighted base that is parametrized by any equivalence  preserving compilation function . </S>",
    "<S> both negative and positive results are presented . on the one hand , </S>",
    "<S> complexity results are identified , showing that the inference problem from a compiled weighted base is as difficult as in the general case , when the prime implicates , horn cover or renamable horn cover classes are targeted . on the other hand , we show that the inference problem becomes tractable whenever @xmath0-compilations are used and clausal queries are considered . </S>",
    "<S> moreover , we show that the set of all preferred models of a @xmath0-compilation of a weighted base can be computed in time polynomial in the output size . </S>",
    "<S> finally , we sketch how our results can be used in model - based diagnosis in order to compute the most probable diagnoses of a system . </S>"
  ]
}