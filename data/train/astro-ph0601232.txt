{
  "article_text": [
    "in experimental high - energy physics , there are two ways to probe elementary particles .",
    "one way is by studying the properties of their bound states , which may be more stable or more easily accessible than unbound particles .",
    "the other way is by smashing particles together , and to study the remnants emerging from such collisions . in this way",
    ", we have learned an enormous amount in the last century about the electroweak and strong interactions .",
    "gravity , however , has remained almost totally elusive .",
    "the problem is related to the weakness of the gravitational force , which implies that we have to add quite a number of particles before gravity can dominate .",
    "a self - gravitating bound state of nuclear matter , a neutron star , contains some @xmath0 particles , in a ball with a diameter of order 10 km , and a mass like that of the sun . and the only known way to produce a purely gravitational object , a black hole , of moderate size , is to let a star implode to form an object of several solar masses with a horizon size of the order of ten kilometers or so . alas",
    ", we have no laboratories in which to create such objects .",
    "fortunately , nature has been kind enough to provide us with labs in the sky .",
    "and we do nt have to look far away , either .",
    "we are accustomed to observe quasars and gamma ray bursts at distances measured in gigaparsecs , but our local gravitational laboratories are a million times closer than that .",
    "there are dozens of them in our very own milky way galaxy , close enough to have a good peek to see what is going on .    at a distance of several",
    "kiloparsecs , a number of globular clusters have a high enough central density to let neutron stars interact and collide with other stars , often forming exotic binaries as byproducts . and at a distance of less than ten kiloparsecs , our galactic nucleus contains the mother of all gravitational laboratories , where a central massive black hole of a few million solar masses is surrounded by swarms of neutron stars , black holes and all kind of stars , some of them very unusual looking and all of them prone to collisions .",
    "so here we are , with great gravitational laboratories , just around the corner of where we live , cosmologically speaking , and we are accumulating a treasure trove of high - precision observational data .",
    "the main problem in analyzing the data is that we came in late .",
    "most of the experimental runs that we are currently watching were started at least millions and sometimes billions of years ago . in order to interpret the data correctly",
    ", we have to reconstruct what has happened during the time that the experiments have been underway .    for some purposes",
    ", we can make back - of - the - envelope estimates to describe the essence of some of the main physical processes involved . for more detailed investigations , however , we have no choice but to conduct computer simulations in which we reconstruct the history of the stellar system under consideration . in many astrophysical simulations ,",
    "this task neatly breaks up into the task of simulating the individual elements , such as stars and binaries on the one hand , and the star system on the other . in the case of dense stellar systems , however , by definition such a clear separation is not possible .",
    "dense stellar systems are characterized by an ecological network , where everything influences everything . in a globular cluster , for example",
    ", dynamical interactions between passing stars can form new binaries and modify the properties and even the membership of existing binaries . at the same time , internal changes in binaries , through mass overflow or coalescence , feed back into the energy budget of the star cluster as a whole .",
    "in fact , most globular clusters probably have more gravitational binding energy locked up in internal binary degrees of freedom than in the bulk binding energy of the cluster as a whole . even a partial access to those internal ` microscopic ' degrees of freedom",
    "can greatly influence the ` macroscopic ' behavior of a star cluster as a whole .",
    "progress in our understanding of dense stellar systems is therefore an extreme form of two - step process .",
    "we can gain a considerable insight in the basic processes that are at work , through dimensional analysis and back - of - the - envelope calculations , as was done very successfully in the seventies and to some extent in the eighties .",
    "having identified the main processes , we then suddenly faced a wall : in order to make significant further progress , we had no choice but to model the whole ecological network .",
    "this has proved daunting : we are still only in the initial phases of living up to this challenge .",
    "the current paper provides an outline of how we will plunge into this problem fully during the next ten years .",
    "it sounds so simple : in order to make a large - scale simulation of a system of interacting stars , why not just hook together existing codes , each of which takes care of some of the physics ?",
    "after all , the first stellar evolution codes were written in the fifties , and the first stellar dynamics codes in the sixties . by the seventies",
    ", both fields were reaching a degree of maturity , and also the first simulations of stellar collisions were carried out . in the thirty years since then , computer speed has increased a million - fold .",
    "what we could do on the level of stellar evolution for a few stars back in the seventies , we should now be able to do easily for a million stars .",
    "what is holding us back ?",
    "the answer can be given in one word : complexity .",
    "the one single bottleneck in modern - day technology is software . while hardware is getting faster",
    ", we seem to be almost lost with respect to the task of writing software to make good use of this speed .",
    "the bottom line is that we have not yet learned some of the basic principles of good software writing .",
    "one fundamental problem which we simply do nt know how to handle yet is pattern recognition . letting a computer recognize the identity of an individual human face from a photograph is notoriously difficult , even for a computer that executes far more elementary operations per second than the human brain fires neurons per second .",
    "some progress is being made , using more or less brute force , but clearly we havent yet found an efficient way of dealing with this challenge .",
    "an example where brute force did work is chess , where computers can now easily beat the strongest players . but a problem such as go ( a traditional board game , _ weichi _ in chinese , _ ( i)go _ in japanese , _ baduk _ in korean ) , has also attracted considerable attention , but with very little success : even a beginning go player , having practiced the game for only a few months , has a good chance to beat the world s strongest go playing program .",
    "another fundamental problem is scalability .",
    "once we have written a single computer code , or a whole software package , the challenge to let these codes grow to cover a more complex situation is enormous .",
    "additionally the need for more cpu - cycles will require to distribute the execution over a network , which is extremely difficult to accomplish , if the system is not designed as a distributed system , which is often not ( or only partly ) the case . as a result ,",
    "software projects are almost always over time , over budget , contain lots of bugs , are not sufficiently compatible with other programs or even with themselves ; the list of grievances goes on and on .    here ,",
    "too , it seems pretty clear that we are still lacking insight in some fundamental principles , yet to be discovered . and",
    "this is not surprising .",
    "a computer is fundamentally different from other tools that we have built over the millennia .",
    "an airplane or a spaceship , while a modern invention , still resembles in some ways a boat , and there is an almost continuous evolution in vehicles of transportation , from horse - drawn carriages to trains and automobiles to planes and spacecraft .",
    "the switch from an abacus to a computer , however , is qualitatively different .",
    "an abacus is a pure object , manipulated by a human .",
    "a computer , in contrast , contains a program that effectively turns the machine into a type of subject , an autonomous agent , manipulating itself . who knows",
    ", it may well take another half century before we understand how to operate this new type of tool on a deep enough level to perform efficient pattern recognition and scaling ; all we know is that we havent succeeded yet in the last half century .    in the specific case of computational astrophysics",
    ", we find a situation that is even more problematic that it is for software development in general .",
    "of course we do not really know yet how to develop software , something that is true for all fields .",
    "but what is worse , it seems that in astrophysics by and large the community does not even know that we do not know . as a result ,",
    "students in astrophysics learn a lot about theory and observations , but preciously little about simulations .",
    "astrophysics is not the only area in science where simulations have been neglected in the standard curriculum .",
    "the main problem seems to be that computer simulations still tend to be seen as part of theory , in a dichotomy between theory and experiment , or in the case of astronomy , a dichotomy between theory and observation .",
    "it is true that the earliest computer calculations were more or less an extension of pen - and - paper calculations , albeit millions of times faster already in the nineteen sixties .",
    "but by now , computers are a billion times a million times faster than humans , and this quantitative growth has definitely made a qualitative difference .",
    "while setting up a physics simulation still resembles work in theoretical physics , analyzing the results of a simulation has much more in common with experimental or observational physics . and",
    "writing the software for a sophisticated multi - scale multi - physics simulation environment is not that different from designing an equally sophisticated laboratory or telescope .    clearly , then , a standard education program in ( astro)physics should contain training in all three prongs of modern physics : theory , experiment , and simulation .",
    "nobel laureate ken wilson was one of the first physicists to make a clarion call , a quarter century ago , by describing computer simulations as the third paradigm of science , but his message still has not come across clearly .",
    "it is interesting to ask why this is so ; if we understand the reasons better , we might be in a better position to do something about it .",
    "i think the main problem is the magnitude of the cultural step required to accept simulations as a true pillar of natural science .",
    "computational science is not a branch of science , but rather a pillar .",
    "we would not call theory a ` branch of science ' , nor would we call laboratory work a ` branch ' . and",
    "when we look back at history , we see that accepting a new ` pillar ' has always taken a few generations .",
    "the greeks started theory , in full form with euclid s axiomatic approach , more than two thousand years ago .",
    "however , the greeks lacked an equal appreciation for experiments , and it was only around the time of galileo , four hundred years ago , that experiment and theory were joined in the conception of modern science .",
    "i am not an expert in the history of science , but i am sure that this addition of a second pillar must have taken a few generations before everything was shaken down comfortably .",
    "the idea of keeping a note book for your lab experiments , and sharing what you have found openly and in all necessary detail with others , must have been very different from the approach of the medieval guilds whose members kept their trade secrets to themselves .",
    "the scientific program , in contrast , has been ` open source ' from the beginning . and this has been the great strength of science , that new ideas could be immediately tested by anyone capable of doing so , a process that has led to rapid and robust progress .",
    "we are currently in the middle of a transition to adding simulations as a third pillar to science , and i expect that it will take a few generations before we have found a comfortable and generally accepted way to make all three pillars fit together well .",
    "perhaps by 2050 we will look back at the current confusion and wonder what took us so long .",
    "the answer is : it takes much longer to change the _ way _ in which you do something than _ what _ you are doing .",
    "in astrophysics , and in physics in general , almost all computer simulations have been carried out in the same mode as theoretical investigations , as largely individual endeavors . while there may be collaborations in writing papers , by and large",
    "a single person is responsible for writing the software for a simulation .",
    "after several years , someone else may take over such a code , and develop it further , but at any given time , typically only one person is actively developing the software .",
    "if we compare this approach to that of experimentation or observation , we see a striking difference .",
    "two hundred years ago it may well have been possible to build your own telescope , but already a hundred years ago that would have been out of the question .",
    "observation is team work : no individual can possibly prepare the infrastructure for even a single cutting - edge telescope at a single site .",
    "it is inevitable that the same will become true for simulations . in the case of experimentation and observation ,",
    "the complexity of the hardware grew in such a way that a single person could no longer take care of all of it . and",
    "in the case of simulations , the complexity of the software is rapidly reaching that same point of no return : within the next ten years , no major field of computational astrophysics will remain simple enough for a graduate student to write a complete simulation code from scratch , something that is currently still ( barely ) doable in some fields .",
    "this does not mean that the inspiration for a new approach can not come from a single individual .",
    "on the contrary .",
    "most successful designs of novel telescopes or novel detectors have embodied the vision of a leading expert , with enough experience and inspiration to convince others to collaborate to work out the vision in all necessary detail , from funding to construction to maintaining the whole operation .",
    "but even if the inspiration can be traced to an individual , the execution of a new observing project involves tens or more likely hundreds of people .    while the transition from mainly single - person efforts to team work is inevitable in the field of computational astrophysics , there are a few important stumbling blocks that make the transition unnecessarily hard .",
    "one stumbling block is the fact that thesis advisers learned their trade in a time when simulations were by definition single - person affairs , and it may be difficult for them to conceive of training their own students in a radically different way .",
    "another important stumbling block is recognition : if a graduate student would make an important contribution to a team effort of software writing , it is not at all clear whether that person would get rewarded sufficiently , especially if the science coming out of the project will not start up until years after the student receives a phd .",
    "in contrast , a student working on , say , the construction of a gravitational wave detector or a next - generation neutrino detector can build a promising career well before the first detections occur .",
    "a major unsolved problem , when starting a team effort in setting up a computational science project , is how to communicate among the project members . as mentioned above , this is a problem that has not been solved yet , either in industry or in academia .",
    "what is clear , however , is that an _ open source _ approach offers the best guarantee for critical testing and thereby for developing robust code . with the critical eyes of anyone in the world interested in the project , major and minor flaws are likely to be detected soon ,",
    "a lot sooner than if the project would be cloaked in secrecy .",
    "we are currently engaged in an attempt to stretch the concept of open source further , to what we call _ open knowledge_. the main idea is to provide not only open access to all the computer _ source codes _ involved in a project , but also to their _ knowledge base_. such a complete disclosure requires documenting the reasoning and trial and error that went into the production of all relevant codes . in this way , the background knowledge is made open as well , and others do not have to repeat the same mistakes  or , if they wish , they can critically look at what was labeled as mistakes , to see whether there may still be some mileage in those attempts , after all .        in other words",
    ", besides the _ what _ and _ how _ for any computer code , we also provide the _ why _ : the motivation for writing it in the way it was written , within the context in which it was conceived . this will give the user more appreciation for the background of the structure chosen , and most importantly , it makes the codes extensible : it gives the user the ability to easily modify and extend the codes presented , without running into hidden snags and unstated assumptions .",
    "and what applies to user friendliness also applies to collaborator friendliness .",
    "the best way to guarantee that collaborators can work together coherently on shared pieces of codes is to document the background knowledge to such an extent that new users and collaborators alike can pick up that knowledge quickly , without having to ask their colleagues for any details .",
    "we call our initiative _ the art of computational science _ , acs for short , and much more information can be found on our web site ( hut & makino , 2003 ) .",
    "the main novelty in our approach is our use of dialogues , to provide the ` open knowledge ' structure . with our aim of listing far more background information than is usually done in code comments and manual pages ,",
    "we were faced with the challenge to package that extra information in such a way that it would not just be an unstructured and boring list of technical details .",
    "after some experimentation , we decided that a dialogue structure would capture both the spirit and the details of the development process .",
    "we have tested this approach by using some of our dialogue manuscripts while teaching a couple n - body summer schools , during the last two years , and we have been very encouraged by the reactions of the students . clearly , our material has filled a gap in the market , in making explicit what until now has mainly been an oral tradition of how to set up stellar dynamics experiments from scratch .",
    "coming back to our main topic , let us list the ingredients that are needed for the simulation of dense stellar systems .",
    "when a star cluster is dense enough for individual stars to collide , we need a hydrodynamics code to model such collisions on a dynamical time scale . in addition , we need a stellar evolution code to describe the subsequent evolution of the merger products , on a thermal time scale and beyond . and in order to model the star cluster as a whole , we need a stellar dynamics code to follow the orbits of all the stars .",
    "in addition to these three ingredients , we need to visualize the complex processes that occur during the evolution of a dense stellar system , on all scales of interest , from the system as a whole down to the details of the modification in , say , nuclear burning inside single stars and binaries affected by encounters .",
    "we also need a system to archive long runs , and to make them available for users , theorists as well as observers . finally , to obtain simulation speeds high enough to model the long - term evolution of a million stars , it is essential to use the fastest hardware , as has been developed in the grape family of special - purpose computers .",
    "the three areas of astrophysics mentioned above , stellar dynamics , stellar evolution and hydrodynamics , are all well developed in their own right .",
    "stellar dynamics and stellar evolution each have a history of half a century of simulations .",
    "the hydrodynamics of stellar collisions , in comparison , is much less developed .",
    "each of these three fields are briefly described below , followed by an equally brief description of the other three topics , special - purpose computers , visualization , and an accessible archiving system .",
    "figure 1 , adapted from the starlab review by hut ( 2003 ) , presents a picture of all six aspects of a framework for a complete dense stellar systems lab .",
    "the leading codes to simulate the stellar dynamics of dense stellar systems are nbody6 ( aarseth 2003 ) and kira ( portegies zwart _ et al .",
    "both codes are freely available .",
    "the published history of computer simulations of the @xmath1-body problem starts with von hoerner ( 1960 ) , who performed runs with 4 , 8 , 12 , and 16 particles .",
    "[ n_t ] , adapted from fig .",
    "3.1 in heggie & hut ( 2003 ) , shows achieved and predicted progress over the 60-year time span since von hoerner s work .",
    "the grape - dr , which is currently being built , is expected to be fully operational in 2008 , so we expect to publish results of lengthy runs on the grape - dr by 2010 .",
    "the next two generations of grape computers are expected to finally bring us to full million - body simulations , all the way through core collapse and beyond .    most of the progress in fig .",
    "[ n_t ] comes from moore s law , which for an increase of speed of a factor ten for every five years would predict an increase in speed of twelve orders of magnitude over the sixty years depicted here .",
    "since the cost of n - body calculations in terms of cpu time scales as @xmath2 ( pair - wise interactions per crossing time scale as @xmath3 , and the relaxation time grows like @xmath1 ) , this translates into four orders of magnitude in @xmath1 .",
    "effectively , the combination of software improvements , mainly by aarseth and co - workers , and hardware improvements , mainly by makino and co - workers , has resulted in an extra factor of ten in @xmath1 , or a speed - up of a factor 1,000 , beyond the simplest version of moore s law .",
    "note the presence of three distinct roughly linear regimes : 1 ) von hoerner s results , up to 1963 ; 2 ) aarseth s and other s results , up to 1996 ; 3 ) the results by makino and co - workers , starting in 1996 .",
    "the jump from 1 ) to 2 ) was caused by a software jump in effective speed , while the the jump from 2 ) to 3 ) was caused by the hardware jump from general - purpose computers to the grape family of computers .",
    "note finally that the data points are a bit heterogeneous : in groups 1 ) and 3 ) , equal - mass particles were used , whereas in group 2 ) , mostly unequal mass particles were used , and in the case of the simulations by heggie & aarseth , some primordial binaries were included .",
    "computers available for astronomers around 1960 had speeds measured in kflops , whereas the result labeled makino in fig .",
    "[ n_t ] was obtained with the first computer running at 1 teraflops , implying an increase in speed of a factor @xmath4 .",
    "the grape - dr is expected to run at a speed of at least 1 petaflops .",
    "the next - generation grape , after the grape - dr , will probably run at a speed of a few tens of petaflops , at some date around 2012 or so .",
    "the grape generation after that may reach a speed of 1 exaflops , at some time after 2015 .",
    "we have estimated in the figure that a speed of 1 exaflops will enable us to follow a million - body system of equal - mass particles up to and beyond core collapse .",
    "thus the transition from a 16-body to a million - body system , with an increase in particle number of almost @xmath5 , will have taken a time span of sixty years and a speed increase of a factor @xmath6 .    in round numbers , the computing time to core collapse @xmath7 as a function of @xmath1 and computer power @xmath8",
    "can be expressed as :    @xmath9    while n - body simulations are very compute intensive , the memory requirements @xmath10 are much less so .",
    "a single snapshot for the masses , positions and velocities for a million - body system can be stored in less than 100 mbyte , which implies that we can store @xmath11 such snapshots in a single tbyte , which will be considered a small amount of storage by the time we will be able to follow a million - body system to core collapse .",
    "it is even possible to store the complete history of the types of runs that are currently performed routinely .",
    "there are about @xmath12 particle steps needed to reach core collapse in an n - body system , which implies a storage requirement of the order of @xmath13 bytes or    @xmath14    this estimate can easily be reduced by an order of magnitude or more , if we store only a small fraction of the individual particle steps , perhaps in single precision , and use interpolation to estimate the intermediate positions and velocities .",
    "however , in the presence of primordial binaries , the above number may increase by one or two orders of magnitude , depending on how we store the information for the perturbed binary motion .",
    "the bottom line is that the estimate given here is a good estimate for the maximum amount of storage needed for stellar dynamics simulations of dense stellar systems .",
    "published results of stellar evolution calculations often take the form of tracks in the hertzsprung - russel diagram , with additional physical data presented in tabular form .",
    "such data are very useful for population synthesis studies .",
    "the simplest models are constructed from a weighted sum of individual stellar evolution tracks , while more detailed models incorporate some additional information about binary stellar evolution .    for dense stellar systems , however , a typical star has a significant chance to interact and possibly collide with another star during its lifetime .",
    "in such an environment stars of different ages can exchange mass , disrupt each other or merge , and their merger products can get involved in similar interactions ; binary stars can encounter single stars as well as other binaries , where one or more of the stars may already be a merger product ; and so on .",
    "there is no way that one can anticipate and tabulate all possible multiple - star interactions in dense stellar systems .",
    "detailed attempts at population synthesis for such systems by necessity have to be dynamical , taking into account the particular ways that stars encounter one another in a given simulation .    during the last decade ,",
    "several dynamical population synthesis studies have appeared ( _ cf .",
    "_ portegies zwart _ et al .",
    "_ 2001 , hurley _",
    "et al . _ 2001 ) . in these studies ,",
    "the dynamics of a dense stellar system is modeled through direct @xmath1-body integration , while the stellar evolution is modeled through fitting formulae that have been obtained from large numbers of individual stellar evolution tracks .",
    "binary stellar evolution is modeled through the use of semi - analytic and heuristic recipes ( hurley _ et al .",
    "_ 2002 ) .    the studies mentioned above",
    "have all used input data obtained with the stellar evolution code by eggleton ( 1973 ) . as an introduction to this code",
    ", a limited but more structured version has been made available as the ez code , by paxton ( 2004 ) .",
    "for an introduction to binary stellar evolution , see eggleton ( 2006 ) . for more background about approaches to model stellar evolution in the context of dense stellar systems , see hut _ et al . _",
    "( 2002 ) and sills _ et al . _",
    "stellar dynamics is perfectly adequate in modeling the motions of stars as point masses moving under the influence of gravity , even in dense stellar systems , unless individual stars approach each other to within a few stellar radii .",
    "when that happens , the internal structure of the stars has to be taken into account , and we have to switch to a hydrodynamics module to follow the encounter , which may lead to mass transfer and even to the merging of two or more stars . after the dust has settled , we then have to update the stellar evolution models for the stars involved , and in case of mergers we will have to construct new models from scratch , often with highly unusual chemical compositions .",
    "pioneering investigations of these complex processes have been made by sills _",
    "( 1997 , 2001 ) , where individual collisions and their aftermath were followed in detail .",
    "the main stages in this process have recently been automated for the first time , as was reported during the modest-6a workshop in lund , sweden , in december 2005 : ross church automatized the collisions , and evert glebbeek automatized the construction of merger models that can be fed to a stellar evolution program , using the make me a star routine by lombardi _",
    "simulations of dense stellar systems involving tens of thousands of particles would not yet be possible , were it not for the presence of grape special purpose hardware .",
    "developed at tokyo university , starting in 1989 ( sugimoto _ et al .",
    "_ 1990 ) , the grapes made it possible to simulate core collapse for 32,000 particles already in mid nineties ( makino 1996 ) , and currently simulations using more than 100,000 particles pas core collapse are routine ( _ cf .",
    "_ baumgardt et al . 2003 ) .",
    "while the earlier grape chips were hardwired to compute gravitational particle - particle forces , the new grape - dr chip , currently under development , is moving more in the direction of general - purpose hardware .",
    "it has a simd ( single - instruction - multiple - data ) architecture , which allows good performance for a large class of scientific applications ( makino 2006 ) .",
    "in a normal laboratory , it is often difficult or even impossible to measure some of the physical parameters of interest . some areas of interest may not be large enough to house a detector , and for some quantities there simply may not exist a detector that is sensitive enough to measure them",
    ". some detectors may be too expensive , and so on .",
    "in contrast , in the virtual laboratory in which simulations take place , in principle any value of any physical variable can be determined at any place and time .",
    "this incredible luxury comes at the price , however , namely the price of writing the proper software to probe the simulations .",
    "yes , in principle anything can be determined , but in practice we face the challenge of writing software tools that are general and flexible enough to give the user the desirable powers of investigation .    in practice , this price has turned out to be uncomfortably high .",
    "both in stellar dynamics and in stellar evolution , after decades of refinement of the basic codes , there still is a surprising lack of visualization tools needed to probe in detail the way that the basic codes operate .",
    "sure , we have packages that display the motions of the stars in stellar dynamics , and allow the user to zoom in and out at arbitrary places in space and time . but",
    "would nt it be nice to have intelligent tools that automatically find the most interesting needles in the hay stack , in the form of , say , close three - body encounters or whatever it is that one may be interested ?",
    "with such tools , one could take the whole recorded space - time history of a long run , in order to distill from all that information a few short movies in particular locations of interest .",
    "currently , no such tools exist .",
    "clearly , the development of these kind of tools would form a great contribution to the field of the dynamics of dense stellar systems .",
    "of course , a general visualization system will not be able to recognize such interesting needles , since it has no domain - specific knowledge .",
    "what is needed is a visualization framework , as an environment that allows the user to create modules that contain the specific knowledge needed to find what is really interesting for a particular application .",
    "if the visualization framework provides the supporting infrastructure , the user will be able to write relatively short programs indicating what events are of particular interest .",
    "this is similar to the way any programming language is used : the main complexity lies in the compiler , which is provided by an outside source , allowing the user to write far simpler programs for particular applications ( _ cf . _ bischof et al .",
    "2006 ) .",
    "similarly , we have ways to plot the trajectory of stars in a hertzsprung - russel diagram , or in a few other diagrams that plot one physical parameter against another .",
    "but by and large , for most legacy codes there is a lack of flexible visualization software that would allow one to easily zoom into what is really going on in particular shells of interest at particular stages in the evolution of a star . here ,",
    "too , the biggest challenge is not so much to allow access to any aspect of the data , but rather to perform a type of automatic data mining , in which an intelligent tool will provide the user with just the type of data he or she might be interested in .",
    "recently , a group of astrophysicists and computer scientists have started to explore how we might develop the kinds of tools needed , in a series of meetings hosted by steve mcmillan at drexel university , in philadelphia , pa .",
    "some of the main contributions have been made by levy ( 2003 ) , from the national center for supercomputing applications at the university of illinois at urbana - champaign , il , and by bischof ( 2005 ) , from the rochester institute of technology , in rochester , ny .",
    "during the last decade , great strides have been made toward the construction of a virtual observatory .",
    "the basic idea is to allow the user easy access to a variety of archives for different telescopes , earth - based as well as space - based , operating in different wave length bands , all the way from radio to gamma rays . without the need to learn individual query languages for each data base , transparent access becomes much easier , and also can be automatized successfully . for a short recent review , _ cf . _ djorgovski ( 2005 ) .",
    "it would be a very natural extension to include archives of simulations within the scope of a virtual observatory .",
    "an example of a large - scale simulation in cosmology , that has been made freely available and is now heavily used by many other researchers , is the millennium run ( springel _ et al .",
    "so far , we have discussed the challenges involved in setting up the main pieces of an environment in which to run , analyze and archive the results of simulations of dense stellar systems . but even if we have codes to model the stellar dynamics , stellar evolution , and hydrodynamics , if we have access to a grape system , if we have proper visualization tools and proper tools to build and interrogate archives , we are not done yet .    on the contrary , in some sense",
    "the main work is just beginning at this point .",
    "there is the wholly separate challenge of making all these six pieces talk together and work together .",
    "we need to develop standard definitions of interfaces between the various software tools , as local ways to connect individual tools , and we need a framework in which we can make all these tools operate together in a useful way .    ideally , we would be able to mix and match bits and pieces from different software packages , in a type of umbrella environment . if this overall framework is designed well enough , we can use it to test and compare various modules from different codes in different settings .",
    "so far , very little effort has been put into the conception , let alone the development , of such a framework . although many of us have written tools that we could share with others , in practice we often wind up rewriting what others have done , because of a lack of ease in mixing and matching different tools .",
    "most software tools have little or no documentation , and often each tool has its own input / output format and idiosyncratic way of addressing its options through command line arguments or configuration files .",
    "a central question is : how to overcome these obstacles without insisting on straitjackets ; in other words : how to leave everyone free to write in their own way and style , and yet allow an easy sharing of software modules .",
    "a key ingredient of a overarching framework is that we will not insist on any particular form or format or language or whatever other aspect of the innards of each tool .",
    "the idea is that all that will be hidden in a black box , with only the wrapper interface visible to the typical user .    the main challenge will be to define an extensible software architecture for a fully equipped computational lab .",
    "an important step toward that goal is to try to define interfaces and data formats for communication between modules , while starting off with a series of toy models , almost trivial black box examples that do little or nothing but have at least the right interface to be hooked up with other such modules .",
    "from there on , we can gradually add more and more astrophysics to the toy models , to let them `` grow up '' to become real astrophysics tools .",
    "ross church has kindly set up a special email list to discuss this tool building process",
    ". you can subscribe by going to the modest web site and click on `` mailing list '' .",
    "you will then find , in the last sentence , a `` here '' to click on to bring you to ross s stellar - discuss page .",
    "traditionally , legacy codes in ( astro)physics have been monolithic , written as one single huge program , typically in fortran .",
    "the only modularity in such an approach is a division in subroutines . in many cases ,",
    "data is passed from one subroutine to another through the use of common blocks , minimally structured chunks of data that introduce the danger of connecting everything with everything . by thus making far more data visible than is necessary for individual parts of the whole program , debugging",
    "can easily become a nightmare .",
    "also , it becomes more complicated to extend such an existing program without breaking something unrelated somewhere else in the process .",
    "the bottom line is : monolithic programs do nt scale gracefully .",
    "the only reasonable approach toward the construction of a framework for simulating dense stellar systems , as a virtual laboratory , is to allow a much more heterogeneous environment .",
    "in such an environment , a large collection of diverse tools can be used as black boxes , as mentioned above . in particular , there is no need to insist on using the same computer language for different tools .    at the same time , it is important to have a homogeneous and coherent high - level framework layout with a single suitable language .",
    "of course , different groups can set up different laboratories , and as long as these are designed in a modular way , the various groups can exchange tools . each group can choose its own top - level language , but it is essential that there is a clear control structure within one laboratory . and the easiest way to enforce a homogeneous control structure is to pick a particular language .",
    "good candidates for top - level languages are scripting languages , such as perl , python , or ruby , as well as languages in the lisp family , such as scheme , or a language like haskell .",
    "what all these languages have in common is that they are further removed from the hardware model of computer cpu than more conventional languages . in the hierarchy of machine language , assembly language , and more conventional languages such as fortran , c , c++ ,",
    "c # or java , these higher - level interpreted languages form yet another stage .",
    "it is much easier to write complex programs in , say , python than it is to write the same program in , say , c. the analogies are that it is much easier to write a given program in c than it is to write that program in assembly language ; and that it is in turn easier to do that than to hand code that program in machine language .",
    "the other side of the coin is that a fine - tuned program in assembly language may be somewhat faster than the same program written in c ; and the c program will certainly be a lot faster than the ruby program .",
    "this means that we should only use the highest - level language in those places where speed is not the bottleneck .",
    "when we are looking for a homogeneous top - level control structure , speed is obviously not essential , since almost all the work is done in the most compute - intensive black boxes , where the top - level language only services as a conductor , orchestrating the whole dance .",
    "so far , use of the newer higher - level languages has only slowly entered astrophysics .",
    "the main reason for the reluctance to pick up these new languages is no doubt unfamiliarity .",
    "this in turn creates two interlocking obstacles : 1 ) in the middle of everyday research / teaching / administration pressures , one is not eager to set aside the time to learn a new type of language , unless its benefits are overwhelmingly clear ; and 2 ) without getting familiar with a new type of language , one is unlikely to ever get a real feel for the sort of advantages that such a new language may bring .",
    "the central problem here is that a lifelong adherence to one particular language can not but form a deep single groove that determines how to think about writing computer programs . and it then becomes almost impossible to imagine any alternative . without actual praxis in at least one totally different language , discussions about the pros and cons of switching languages become unproductive at best , frustrating at second best , and often worse .",
    "let me try to illustrate this with an analogy . if someone has been using roman numerals for doing arithmetic for many years , ( s)he is probably reluctant to switch to a use of arabic numerals overnight .",
    "why , they seem so cumbersome !",
    "there are more different symbols , some of them look rather similar and you can just imagine how easy it would be to make mistakes with them .",
    "besides , you have to learn new tables of multiplication , tables that seem more complex than the comfortable rules that you already know , like v*v = xxv or iv*ix = iiii*viiii = ( i*viiii ) + ( i*viiii ) + ( i*viiii ) + ( i*viiii ) = vvvv iiii iiii iiii iiii = xx viii viii = xx vv vi = xxxvi .",
    "sure , zealous propagandists of those newfangled arabic numerals tell you that you can use them to do miraculous things , like multiplying mmmdcccxliv and mmcmlxxviii much faster than before , but can you really take their word for it ?",
    "besides , who would ever have a need to add , let alone to multiply , such huge numbers ? ?",
    "an example of a framework for modeling dense stellar systems is the maya open lab ( hut & makino , 2003 ) .",
    "while it is still in the early days of being constructed , it already contains well over a thousand pages of documentation , and a large number of computer codes .",
    "an example of some of the novel contributions to the maya lab are n - body codes that have not only individual time steps , but in addition allow for individual integration schemes .",
    "while the path of one particle can be integrated with , say , a leapfrog scheme , another particle can use a hermite scheme , yet another particle a fourth - order runge - kutta scheme , or a traditional aarseth multi - step scheme , and so on .",
    "the maya lab is currently the main project in our art of computational science initiative . and",
    "since acs is based on our notion of ` open knowledge ' , an extension of the idea of ` open source ' as described in section 5 , we call the maya framework an ` open lab ' because there , too , the history of and motivation for the construction of the framework is documented in a very unusual degree of detail .    at the core of the maya lab ,",
    "the orchestration of the orbit integration of the stars and the handshaking between stellar dynamics , stellar evolution , and stellar dynamics will be taken care of by the kali code , currently under construction .",
    "this code is written completely in ruby , at least during the prototyping phase , and we will replace the most compute - intensive parts , where needed , by equivalent modules in c.    we borrowed this name from the sanskrit _ kali _ , meaning _",
    "dark _ , as in the _ kali yuga _ , the dark ages we are currently in according to hindu mythology .",
    "the same word also occurs in the name _ kali _",
    ", for the hindu goddess who is depicted as black .",
    "the term _ dark _ seemed appropriate for our project of focusing on forms of tacit knowledge that have not been brought to light , so far , and perhaps can not be presented in a bright , logical series of statements .",
    "instead , we expect our dialogues to carry the many less formal and less bright shades of meaning , that pervade any craft .    as for the name _ maya _ ,",
    "this seemed fitting for two reasons , one connected with middle america and one with india .",
    "the maya culture was very good at accurate calculations in astronomy . and",
    "the word _ maya _ in sanskrit has the following meaning , according to the encyclopedia britannica : `` maya originally denoted the power of wizardry with which a god can make human beings believe in what turns out to be an illusion . '' indeed , a simulation of the heavens is something virtual , an illusion of sorts , and a considerable feat of wizardry .",
    "we hope that the maya open lab will prove to be an adequate and user friendly framework that can be easily extended for any type of modeling of dense stellar systems .",
    "even so , we also hope that others will construct different frameworks , as part of a friendly competition in which we can learn from each other and share each others tools . only by trying different approaches",
    "will we find out which approach is most effective for which type of applications . and",
    "as long as we can agree on interface issues , it should be possible to combine the use of more than one framework whenever that is desired .",
    "the main reason to carry out and analyze detailed simulations of dense stellar systems is to compare them critically to observations .",
    "this process of testing by comparison can be broken down in two steps , related to validation and verification , two technical terms in software development .",
    "these engineering terms have the following official descriptions , as defined by the american institute of aeronautics and astronautics ( aiaa ) :    * validation : the process of determining the degree to which a model is an accurate representation of the real world from the perspective of the intended uses of the model .",
    "( aiaa g-077 - 1998 ) * verification : the process of determining that a model implementation accurately represents the developer s conceptual description of the model and the solution to the model .",
    "( aiaa g-077 - 1998 )    if a given model of , say , common envelope evolution is implemented incorrectly , verification should catch that . whether the results confirm to what observations show ,",
    "is a matter of validation .",
    "so the first step in testing should be verification , to check that your program works as intended .",
    "only when we are comfortable that that is actually the case , can we do our main task of validation , of comparing simulations with observations .",
    "another way of saying this , is :    * verification compares theory and simulations * validation compares simulations and observations    both are important , and very different .",
    "this is a reflection of the fact that science , which used to be a question of comparing theory and experiment / observations , now has three , rather than two components : theory , simulations , experiment / observations .",
    "in fact , there is yet another important intermediate step , one in which we compare different simulations , based on different approximations , in order to see how closely their predictions agree with each other .",
    "this step was discussed at some length at the iau symposium 208 in tokyo in 2001 , resulting in the specification of a well defined set of initial cluster and stellar parameters ( heggie 2003 ) .",
    "given the fact that the necessary codes are rather complex , requiring years of development , so far few groups have been able to confront this new challenge .",
    "this stands in contrast to the first collaborative experiment ( heggie _ et al .",
    "_ 1998 ) , which was confined to stellar dynamics ( without stellar evolution ) , and attracted `` entries '' from about 10 groups .",
    "at first , modeling dense stellar systems will require the use of so - called legacy codes .",
    "however , due to the lack of modularity of these codes , at some point we will have to rewrite those codes .",
    "given that the leading codes in use in stellar evolution and stellar dynamics have a history of decades , how realistic will it be to attempt to rewrite them ?    of course , in principle a rewrite should take significantly less time than the time spent originally to write a legacy code , given that we should have learned from the process of writing the code in the first place . in practice , however , this time saving argument is far from clear .",
    "for one thing , in most cases very little of the original code writing has ever been documented , and as a result , much of the trial and error process may have to be repeated .",
    "for another , to make a much more robust and general code introduces extra requirements , above and beyond the task of getting something that sort - of works , most but not all of the time , the typical goals that have been in operation so far .",
    "let us estimate how long it would take an expert to produce a complete rewrite of a legacy code , in a modular and robust and well - documented way .",
    "to get something working , even while starting from scratch , will take only a few years .",
    "but to then get the code to the point that it will include the more fancy additions that have accreted onto the legacy code will take a few years more . most likely , in the process the original goal of full modularity will have been compromised , more than once , leading to the need to backtrack a few times , setting things up again more of less from scratch .",
    "and then there is the requirement of making everything robust , so that the code will run under ( almost ) all conceivable circumstances , without crashing or grinding to a halt .",
    "all this is likely to take at least ten years , and probably significantly longer .",
    "if you then add the need to make the code run efficiently on massively parallel computer clusters , a few more years can be thrown in easily . and ,",
    "last but not least , our expert is supposed to carry out some scientific projects with the new code , both to produce scientific results as well as to see whether the code really performs adequately in cutting - edge research projects .",
    "therefore , as a round number , 20 person - years may be a realistic estimate , and if anything perhaps an underestimate .",
    "now this is based on a direct scaling up of the work that needs to be done by a single expert .",
    "the question arises : how to develop this kind of software with a team , say in a 5-year time span ?",
    "a lower limit for the size of the team would be four people , in order to provide the 20 person - years needed , but that will be a vast underestimate . in practice , we will need @xmath15 people , since we will suffer from at least three inefficiency factors , each of which are @xmath16 :    * each piece of code needs extensive documentation * each code writer has to talk extensively with other code writers * each code writer is not as brilliant as the single expert    if we take all this on face value , we will need at least @xmath17 persons to produce a complete replacement of a legacy code in five years .",
    "if we want to do this for stellar dynamics , for stellar evolution , and for stellar hydrodynamics , we have to triple this estimate .",
    "in addition , we still have to provide similarly robust and modular code for visualization , archiving and the task of integrating it all in an overarching framework .",
    "if we make the rather optimistic estimate that the latter three together require only as much work as the replacement of a legacy code , we wind up with the requirement of having 160 people working together to produce a full - fledged , state - of - the - art , modular , robust , and splendidly documented body of software that can simulate , in an integrated way , all the physical processes relevant for dense stellar systems , to the extent that we understand the underlying physics .",
    "the analysis above has driven us to a rather large enterprise .",
    "it is hard to say what will be harder : to find 160 individuals suited to the task , or to find the money to pay them for 5 years ; with overhead for management and a building , we re looking at a project of order of a hundred million dollars , or twenty million dollars per year for five years .",
    "faced with such a demand , one may wonder whether my estimate was not wildly overblown .",
    "could the job not be done with far fewer people ?",
    "i hope that is the case , and i d love to hear any good argument in that direction .",
    "however , such an argument should address specifically the detailed points i have listed above , and , frankly , i doubt that such an argument can be constructed . if anything , i am afraid that i may have been too optimistic in my estimates .",
    "the problem is that , so far , simulation packages have been written largely by a single person , or a small group of people , in the @xmath18 range .",
    "this is the sole reason that a request to employ of order @xmath19 people may come as somewhat of a surprise .",
    "but as soon as we reflect on the infrastructure of ( astro)physical research in general , we see that some of the largest projects employ more than @xmath20 people , and that projects with @xmath19 are in fact quite common .",
    "one example in astrophysics of a simulation center that falls in the @xmath19 people category is the asc / alliances center for astrophysical thermonuclear flashes , based at the university of chicago , with widely spread collaborations with many other universities and research centers .",
    "this center is developing , maintaining and freely distributing the flash code for modeling thermonuclear flashes , which is now used by many astrophysicists .",
    "what are the prospects that the study of dense stellar systems could lead to a similar - sized initiative ?",
    "the range of topics , from active galactic nuclei to star forming regions , including the study of globular and open clusters and planet formation , certainly touches upon a large fraction of astrophysics research , directly or indirectly . what would be a realistic way to get such an initiative underway ?",
    "realistically , we will have to start with a group size somewhat smaller than @xmath19 . as a round number ,",
    "imagine that we could get 50 people to collaborate , half an order of magnitude than the number of 160 listed above",
    ". such a team would not be able to build a dream laboratory for dense stellar systems in five years , but they still should be able to make a reasonable start in that direction . also , the time span of five years may be too optimistic anyway : if we stretch it out to ten years or longer , a team of 50 people may well be adequate .    there is no need to have these 50 people working together in one center .",
    "the whole idea of code modularity should guarantee that large chunks of code can be written independently of other large chunks of code . in principle ,",
    "a well thought - out , well - balanced and high degree of modularity could allow 50 people to write code in 50 different locations .",
    "however , such a fine - grained approach strikes me as unrealistic .",
    "my guess is that productivity will be far higher if people can work in clusters , with day - to - day communication in a face - to - face way .",
    "one scenario would be to establish 5 centers for producing the tools for modeling dense stellar systems , with 10 persons actively involved in tool building at each of these sites , to get a critical mass of 50 people in total .",
    "given the current distribution of individuals working in modeling dense stellar systems , there could be one center in japan , two in the u.s .",
    ", and two in europe . each center would need funding on the level of at least a million dollars per year , depending on overhead and costs for housing , management , secretarial help , and the amount of hardware required .",
    "the minimum total yearly cost of around five million dollars is indeed equal to the funding level of the flash center , mentioned above , so this may be a reasonable estimate , especially since the cost will be distributed over several countries",
    ".    it will neither be realistic nor desirable to carve up the work that needs to be done over these five centers in an exclusive way .",
    "each center will want to keep a working set of tools for all aspects of the simulations , together with a minimal amount of expertise concerning those tools . and a certain amount of competition between the centers will actually be beneficial , leading to an increased degree of robustness : those tools that are found to perform best will either be taken over by other centers , or at least their most relevant design principles can be incorporated in the further development of tools elsewhere",
    ".    for all this to work , an atmosphere of openness and sharing of code will be essential , together with regular communication between the centers .",
    "fortunately , the modest community already has an excellent track record of stimulating ongoing dialogues between more than a hundred researchers in the field of dense stellar systems , through multiple meetings each year for the last several years .",
    "so far , most of the discussions have revolved around plans for the future , but once the five or so centers are in full swing , the same communication channels can be used to orchestrate the interactions between the centers .",
    "detailed simulations of dense stellar systems , while currently still on the drawing boards , will become possible over the next five years , and can be expected to become routine in another five years . and the timing is right : simulations in many other areas of astrophysics are expanding to the point of beginning to overlap with the study of dense stellar systems .",
    "for example , cosmological simulations are becoming so accurate that the limiting factor is no longer just the sheer hardware speed or equivalently the number of particles that can be used in a simulation .",
    "rather , new bottlenecks are rapidly appearing in the form of the details of star formation and the behavior of active galactic nuclei , two examples of dense stellar systems .",
    "similarly , simulations in galactic dynamics , such as the study of the collision and subsequent interaction of two galaxies , show that dense young star clusters are created in the bridges and tails that are formed during the galactic encounters . without modeling the internal processes that take place in these young dense clusters , the accuracy of the galactic encounter simulations is inherently limited .",
    "yet another area of simulations is the formation of planetary systems , a relevant task given the recent wealth of observations of extrasolar planets .",
    "stars are formed in star forming regions , and the formation of protoplanetary disks is an intrinsic part of the whole star forming process .",
    "therefore , the only way to accurately model the formation of planetary systems is by taking into account , at least to some degree of realism , the formation of the whole embedding star forming region , another example of a dense stellar system .    at the heart of the study of dense stellar systems",
    "is the study of stellar evolution , an area that had its heydays in the nineteen sixties , and became relatively less fashionable in the seventies and eighties , with a shift to galactic and extragalactic astrophysics , and in the nineties and the current zeroes , with a shift to precision cosmology .",
    "however , for the reasons summarized above , i predict that stellar evolution , through its central role in the study of dense stellar systems , will once again take center stage in astrophysics , starting in the next decade , a role that is likely to last for decades .",
    "my conclusion is that young researchers are well advised to learn a fair amount of stellar evolution , and especially binary star evolution , where so much is still unexplored . and",
    "making these fields even the focus of their research is likely to pay off , in almost any application they will later venture into .",
    "i thank jun makino for many fun discussions about the themes treated in this paper , and for his comments on this paper .",
    "i also thank hans - peter bischof , coleman miller , bill paxton , gerald sussman , john tromp and enrico vesperini for their comments .",
    "sills , a. , deiters , s. , eggleton , p. , freitag , m. , giersz , m. , heggie , d. , hurley , j. , hut , p. , ivanova , n. , klessen , r.s . , kroupa , p. , lombardi , j.c . ,",
    "mcmillan , s. , portegies zwart , s. & zinnecker , h. , 2003 , new astronomy , 8 , 605 .",
    "springel , v. , white , s.d.m . , jenkins , a. , frenk , c.s . , yoshida , n. , gao , l. , navarro , j. , thacker , r. , croton , d. , helly , j. , peacock , j.a . , cole , s. , thomas , p. , couchman , h. , evrard , a. , colberg , j. , pearce , f. 2005 , nature 435 , 629 ."
  ],
  "abstract_text": [
    "<S> galactic nuclei and globular clusters act as laboratories in which nature experiments with normal stars , neutron stars and black holes , through collisions and through the formation of bound states , in the form of binaries . </S>",
    "<S> the main difference with the usual earth - based laboratories is that we can not control the experiments . </S>",
    "<S> instead , we have no choice but to create virtual laboratories on earth , in order to simulate all the relevant physics in large - scale computational experiments . </S>",
    "<S> this implies a realistic treatment of stellar dynamics , stellar evolution , and stellar hydrodynamics .    </S>",
    "<S> each of these three fields has its own legacy codes , workhorses that are routinely used to simulate star clusters , stars , and stellar collisions , respectively . </S>",
    "<S> i outline the main steps that need to be taken in order to embed and where needed transform these legacy codes in order to produce a far more modular and robust environment for modeling dense stellar systems .    </S>",
    "<S> the time is right to do so : within a few years computers will reach the required speed , in the petaflops range , to follow a star cluster with a million stars for ten billion years , while resolving the internal binary and multiple star motions . by that time simulation software </S>",
    "<S> will be the main bottleneck in our ability to analyze dense stellar systems . only through full - scale simulations </S>",
    "<S> will we be able to critically test our understanding of the ` microphysics ' of stellar collisions and their aftermath , in a direct comparison with observations . </S>"
  ]
}