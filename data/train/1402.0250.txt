{
  "article_text": [
    "a useful construction in classical category theory is that of right kan extension along functors and , dually , that of left kan extension along functors . many important notions , including that of limit and right adjoint functor , can be regarded as right kan extensions . on the other hand right kan extensions",
    "can often be constructed out of limits ; such kan extensions are called pointwise . it is this notion of kan extension that was extended to more general settings , firstly by dubuc in @xcite , to a notion of pointwise kan extension along @xmath1-functors , between categories enriched in some suitable category @xmath1 , and later by street in @xcite , to a notion of pointwise kan extension along morphisms in any @xmath0-category .",
    "it is unfortunate that street s notion , when considered in the @xmath0-category @xmath2 of @xmath1-enriched categories , does not agree with dubuc s notion of pointwise kan extension , but is stronger in general . in this paper",
    "we show that by moving from @xmath0-categories to double categories it is possible to unify dubuc s and street s notion of pointwise kan extension .    in  1",
    "we recall the notion of double category , which generalises that of @xmath0-category by considering , instead of a single type , two types of morphism .",
    "for example one can consider both ring homomorphisms and bimodules between rings .",
    "one type of morphism is drawn vertically and the other horizontally so that cells in a double category , which have both a horizontal and vertical morphism as source and as target , are shaped like squares .",
    "every double category @xmath3 contains a @xmath0-category @xmath4 consisting of the objects and vertical morphisms of @xmath3 , as well as cells whose horizontal source and target are identities .    in  2",
    "we recall the notion of equipment .",
    "an equipment is a double category in which horizontal morphisms can both be restricted and extended along vertical morphisms .",
    "cells defining extensions will be especially useful in regard to kan extensions ; such cells are called opcartesian .    in  3",
    "several notions of kan extension in a double category are recalled . among those",
    "is that of pointwise kan extension in ` closed ' equipments which , in the closed equipment of enriched @xmath1-categories , generalises dubuc s notion .",
    "this notion we extend to arbitrary double categories .",
    "in  4 we consider cells in double categories under whose precomposition the class of cells defining pointwise kan extensions is closed .",
    "because such cells generalise the notion of an exact square of functors , we call them exact cells .    in  5 we recall street s definition of pointwise kan extension in a @xmath0-category , which uses comma objects to define such kan extensions in terms of ordinary kan extensions .",
    "the notion of comma object in @xmath0-categories generalises to that of tabulation in equipments , and our main result shows that in an equipment that has all opcartesian tabulations , pointwise kan extensions can be defined in terms of ordinary kan extensions , analogous to street s definition . from this",
    "it follows that , for such an equipment @xmath3 , the pointwise kan extensions in its vertical @xmath0-category @xmath4 , in the sense of street , can be regarded as pointwise kan extensions in @xmath3 , in our sense .",
    "we close this paper by showing that the equipment of categories internal to some suitable category @xmath5 has all opcartesian tabulations , strengthening a result of betti given in @xcite .    in the forthcoming @xcite we consider conditions ensuring that algebraic kan extensions can be lifted along the forgetful double functors @xmath6 . here",
    "@xmath7 denotes a double monad on a double category @xmath3 , and @xmath8 is the double category of @xmath7-algebras , weak vertical @xmath7-morphisms and horizontal @xmath7-morphisms , where ` weak ' means either ` lax ' , ` colax ' or ` pseudo ' .",
    "we start by recalling the notion of double category .",
    "references for double categories include @xcite and @xcite .    for many mathematical objects",
    "there is not one but two natural notions of morphism : besides functions of sets @xmath9 one can also consider relations @xmath10 as morphisms @xmath11 , besides ring homomorphisms @xmath12 one can also consider @xmath13-bimodules as morphisms @xmath14 , and besides functors of categories @xmath15 also ` profunctors ' @xmath16 can be considered as morphisms @xmath17 . in each case the second type of morphism can be composed : relations are composed as usual , bimodules are composed using tensor products and profunctors by using ` coends ' .",
    "it is worth noticing that in the latter two cases a choice of tensor product or coend has to be made for each composite , so that composition of bimodules and that of profunctors are not strictly associative .    in each of the previous examples the interaction between the two types of morphism",
    "can be described by @xmath0-dimensional cells that are shaped like squares , as drawn below .",
    "for example if @xmath18 and @xmath19 are ring homomorphisms , @xmath20 is an @xmath13-bimodule and @xmath21 is a @xmath22-bimodule , then the square @xmath23 below depicts an @xmath24-bilinear map @xmath25that is a homomorphism @xmath26 of abelian groups such that @xmath27 and @xmath28 .",
    "@xmath29{a & b \\\\ c & d. \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                      edge node[left ] { $ f$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ]    the notion of double category describes situations as above : generalising the notion of a @xmath0-category , its data contains not one but two types of morphism while its cells are square like . formally a double category is defined as a weakly internal category in the @xmath0-category @xmath30 of categories , functors and natural transformations , as follows ; we shall give an elementary description afterwards .",
    "[ double category ] a _ double category _",
    "@xmath3 is given as follows .",
    "@xmath31              \\matrix(m)[math , column sep=2em]{{{\\mathcal{k}}}_1 { \\tensor[_{r}]{\\times}{_{l } } } { { \\mathcal{k}}}_1 & { { \\mathcal{k}}}_1 & { { \\mathcal{k}}}_0 \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ { \\odot}$ } ( m-1 - 2 )                          ( m-1 - 2 ) edge[transform canvas={yshift=5.5pt } ] node[above ] { $ l$ } ( m-1 - 3 )                                  edge[transform canvas={yshift=-5.5pt } ] node[below ] { $ r$ } ( m-1 - 3 )                          ( m-1 - 3 ) edge[transform canvas={yshift=-2.5pt } ] node[above=-3pt ] { $ 1 $ } ( m-1 - 2 ) ;          \\end{tikzpicture } \\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math2em ]                  { { { \\mathcal{k}}}_1 { \\tensor[_{r}]{\\times}{_{l } } } { { \\mathcal{k}}}_1 & { { \\mathcal{k}}}_1 \\\\              { { \\mathcal{k}}}_1 & { { \\mathcal{k}}}_0 \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ \\pi_1 $ } ( m-1 - 2 )                                    edge node[left ] { $ \\pi_2 $ } ( m-2 - 1 )                            ( m-1 - 2 ) edge node[right ] { $ r$ } ( m-2 - 2 )                            ( m-2 - 1 ) edge node[below ] { $ l$ } ( m-2 - 2 ) ;          \\end{tikzpicture}\\ ] ] it consists of a diagram of functors as on the left above , where @xmath32{\\times}{_{l } } } { { \\mathcal{k}}}_1 $ ] is the pullback on the right , such that @xmath33 together with natural isomorphisms @xmath34 where @xmath35{\\times}{_{l } } } { { \\mathcal{k}}}_1 { \\tensor[_{r}]{\\times}{_{l } } } { { \\mathcal{k}}}_1 $ ] and @xmath36 with @xmath37 and @xmath38 .",
    "the isomorphisms @xmath39 , @xmath40 and @xmath41 are required to satisfy the usual coherence axioms for a monoidal category or bicategory ( see e.g.  section vii.1 of @xcite ) , while their images under both @xmath42 and @xmath43 must be identities .",
    "the objects of @xmath44 are called _ objects _ of @xmath3 while the morphisms @xmath45 of @xmath44 are called _ vertical morphisms _ of @xmath3 .",
    "an object @xmath20 of @xmath46 such that @xmath47 and @xmath48 is denoted by a barred arrow @xmath49 and called a _ horizontal morphism_. a morphism @xmath26 in @xmath46 , with and @xmath50 , is depicted @xmath51{a & b \\\\ c & d \\\\ } ;      \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                          edge node[left ] { $ f$ } ( m-2 - 1 )                  ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                  ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;      \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;    \\end{tikzpicture}\\ ] ] and called a _",
    "cell_. we will call @xmath20 and @xmath21 the _ horizontal source _ and _ target _ of @xmath23 , while we call @xmath18 and @xmath19 its _ vertical source _ and _ target_. a cell whose vertical source and target are identities is called",
    "_ horizontal_.    the composition of @xmath46 allows us to vertically compose two cells @xmath23 and @xmath52 , that share a common horizontal edge as on the left below , to form a new cell @xmath53 whose sources and targets can be read off from the drawing of @xmath23 on top of @xmath52 , as shown .",
    "@xmath54              \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ e & f \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                      edge node[left ] { $ f$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                                      edge node[left ] { $ h$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge node[right ] { $ k$ } ( m-3 - 2 )                                      ( m-3 - 1 ) edge[barred ] node[below ] { $ l$ } ( m-3 - 2 ) ;              \\path[transform canvas={shift=(m-2 - 1 ) } ]                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )                                      ( m-2 - 2 ) edge[cell , transform canvas={yshift=-3pt } ] node[right ] { $ \\psi$ } ( m-3 - 2 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{a & b & e \\\\ c & d & f \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                      edge node[left ] { $ f$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                      edge node[right ] { $ g$ } ( m-2 - 2 )                                      ( m-1 - 3 ) edge node[right ] { $ h$ } ( m-2 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ l$ } ( m-2 - 3 ) ;              \\path[transform canvas={shift=($(m-1 - 1)!0.5!(m-2 - 2)$ ) } ]                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )                                      ( m-1 - 3 ) edge[cell ] node[right ] { $ \\chi$ } ( m-2 - 3 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{\\phantom{\\text x } & \\phantom{\\text x } & \\phantom{\\text x } \\\\ \\phantom{\\text x } & \\phantom{\\text x } & \\phantom{\\text x } \\\\ \\phantom{\\text x } & \\phantom{\\text x } & \\phantom{\\text x } \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge ( m-1 - 2 )                                                      edge ( m-2 - 1 )                                      ( m-1 - 2 ) edge ( m-1 - 3 )                                                      edge ( m-2 - 2 )                                      ( m-1 - 3 ) edge ( m-2 - 3 )                                      ( m-2 - 1 ) edge ( m-2 - 2 )                                                      edge ( m-3 - 1 )                                      ( m-2 - 2 ) edge ( m-2 - 3 )                                                      edge ( m-3 - 2 )                                      ( m-2 - 3 ) edge ( m-3 - 3 )                                      ( m-3 - 1 ) edge ( m-3 - 2 )                                      ( m-3 - 2 ) edge ( m-3 - 3 ) ;              \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-2 - 2)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )",
    "( m-1 - 3 ) edge[cell ] node[right ] { $ \\chi$ } ( m-2 - 3 )                                      ( m-2 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-3 - 2 )                                      ( m-2 - 3 ) edge[cell ] node[right ] { $ \\xi$ } ( m-3 - 3 ) ;          \\end{tikzpicture}\\ ] ] two composable horizontal morphisms @xmath55 can be composed using the functor @xmath56 , giving the horizontal composite @xmath57 . likewise a pair of cells @xmath23 and @xmath58 , sharing a common vertical edge as in the middle above , can be horizontally composed , resulting in a cell @xmath59 whose sources and targets can be read off from the drawing of @xmath23 and @xmath58 side - by - side as shown .",
    "the functoriality of @xmath56 implies that , for a square of composable cells as on the right above , we have @xmath60 ; this identity is called the _",
    "interchange law_.    finally @xmath3 is equipped with a horizontal unit @xmath61 for each object @xmath62 , as well as a horizontal unit cell @xmath63 , as on the left below , for each vertical morphism @xmath45 . unlike vertical composition of vertical morphisms and cells , which is strictly associative and unital , horizontal composition of horizontal morphisms and cells",
    "is only associative up to the invertible horizontal cells @xmath39 below , where @xmath64 , and unital up to the invertible horizontal cells @xmath40 and @xmath41 below , where @xmath65 .",
    "the cells @xmath39 are called _ associators _ , while the cells @xmath40 and @xmath41 are called _",
    "unitors_. a double category with identities as associators and unitors is called _",
    "strict_. @xmath31              \\matrix(m)[math175em]{a & a \\\\ c & c \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ 1_a$ } ( m-1 - 2 )                                                      edge node[left ] { $ f$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ 1_c$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ 1_f$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em , column sep=4em]{a & d \\\\ a & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ ( j { \\odot}h ) { \\odot}k$ } ( m-1 - 2 )                                                      edge node[left ] { $ \\operatorname{id}_a$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ \\operatorname{id}_d$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ j { \\odot}(h { \\odot}k)$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\mathfrak a$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{a & b \\\\ a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ 1_a { \\odot}m$ } ( m-1 - 2 )                                                      edge node[left ] { $ \\operatorname{id}_a$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ \\operatorname{id}_b$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ m$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\mathfrak l$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{a & b \\\\ a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ m { \\odot}1_b$ } ( m-1 - 2 )                                                      edge node[left ] { $ \\operatorname{id}_a$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ \\operatorname{id}_b$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ m$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\mathfrak r$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ]    cells whose horizontal source and target are units are called _ vertical_. to make our drawings of cells more readable we will depict both vertical and horizontal identities simply as @xmath66 \\path ( 0.2,0 ) edge[eq ] ( 0.7,0 ) ; \\node at ( 0,0 ) { $ a$ } ; \\node at ( 0.9,0 ) { $ a$};\\end{tikzpicture}$ ] . for example vertical and horizontal cells will be drawn as @xmath67          \\matrix(m)[math175em]{a & a \\\\ c & c \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ f$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                      ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture }          \\qquad \\text{and } \\qquad          \\begin{tikzpicture}[textbaseline ]          \\matrix(m)[math175em]{a & b \\\\ a & b \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 2 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ] respectively ; also vertical cells will be often denoted as @xmath68 instead of the less informative @xmath69 .",
    "we will often describe compositions of cells by drawing ` grids ' like that on the right of above , in varying degrees of detail .",
    "in particular we shall often not denote identity cells in such grids but simply leave them empty . in horizontal compositions of more than two horizontal morphisms or cells",
    "we will leave out bracketings and assume a right to left bracketing , for example we will simply write @xmath70 for @xmath71 . moreover , when writing down compositions or drawing grids containing horizontal composites of more than two cells , we will leave out the ( inverses of ) associators and unitors of @xmath3 .",
    "this is possible because their coherence implies that any two ways of filling in the left out ( inverses of ) associators and unitors result in the same composite .",
    "in fact grandis and par show in their theorem 7.5 of @xcite that every double category is equivalent to a strict double category , whose associators and unitors are identity cells .      in the remainder of this section",
    "we describe in detail the three double categories that we will use throughout : the archetypical double category @xmath72 of categories , functors , profunctors and natural transformations , as well as two generalisations @xmath73 and @xmath74 , the first obtained by enriching over a suitable symmetric monoidal category @xmath1 and the second by internalising in a suitable category @xmath5 with pullbacks .",
    "other examples can be found in section 3 of @xcite and section 2 of @xcite .",
    "[ example : unenriched profunctors ] the double category @xmath72 of profunctors is given as follows .",
    "its objects and vertical morphisms , forming the category @xmath75 , are small categories and functors .",
    "its horizontal morphisms @xmath76 are _ profunctors _ , that is functors @xmath77 .",
    "we think of the elements of @xmath78 as morphisms , and denote them @xmath79 .",
    "likewise we think of the actions of @xmath62 and @xmath80 on @xmath20 as compositions ; hence , for morphisms @xmath81 and @xmath82 , we write @xmath83 . a cell @xmath84{a & b \\\\ c & d \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] is a natural transformation @xmath85 , where @xmath86 .",
    "such transformations clearly vertically compose so that they form a category @xmath87 , with profunctors as objects .",
    "the horizontal composition @xmath88 of a pair of composable profunctors @xmath76 and is defined on objects by the coends @xmath89 .",
    "a coend is a type of colimit , see section ix.6 of @xcite ; in fact @xmath90 coincides with the coequaliser of @xmath91 where the maps let @xmath92 act on @xmath93 and @xmath94 respectively .",
    "this can be thought of as a multi - object ( and cartesian ) variant of the tensor product of bimodules . in detail",
    ", @xmath90 forms the set of equivalence classes of pairs @xmath95 , where @xmath96 and @xmath97 , under the equivalence relation generated by @xmath98 , for all @xmath99 , @xmath100 and @xmath101 .",
    "the definition of @xmath88 on objects is extended to a functor @xmath102 by using the universal property of coends : the image of @xmath103 is taken to be the unique factorisation of @xmath104 through the universal map defining @xmath105 .",
    "@xmath84{a & b & e \\\\ c & d & f \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ h$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ l$ } ( m-2 - 3 ) ;                  \\path[transform canvas={shift=($(m-1 - 1)!0.5!(m-2 - 2)$ ) } ]                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge[cell ] node[right ] { $ \\chi$ } ( m-2 - 3 ) ;              \\end{tikzpicture}\\ ] ] similarly the horizontal composite @xmath59 of the two cells above is given by the unique factorisation of the maps @xmath106 through the universal maps defining @xmath90 .",
    "the associators @xmath107 are obtained by using the fact that the cartesian product of @xmath108 preserves colimits in both variables , together with ` fubini s theorem for coends ' : for any functor @xmath109 there exist canonical isomorphisms @xmath110 ; see section ix.8 of @xcite for the dual result for ends .",
    "finally the unit profunctor @xmath111 on a category @xmath80 is given by its hom - objects @xmath112 : one checks that the map @xmath113 given by the action of @xmath80 on @xmath20 defines @xmath114 as the coequaliser of , in case @xmath115 , which induces the unitor @xmath116 ; the other unitor @xmath117 is obtained likewise .",
    "the horizontal unit @xmath118 of a functor @xmath45 is simply given by the actions @xmath119 of @xmath18 on the hom - sets .",
    "[ example : enriched profunctors ] for any closed symmetric monoidal category @xmath1 that is cocomplete there exists a @xmath1-enriched variant of the double category @xmath72 , which is denoted @xmath73 .",
    "it consists of small @xmath1-categories , @xmath1-functors and _ @xmath1-profunctors _ @xmath76 , that is @xmath1-functors @xmath120 , while a cell @xmath84{a & b \\\\ c & d \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] is a @xmath1-natural transformation @xmath121 , where @xmath122 . the structure of a double category on @xmath73 is given completely analogously to that on @xmath72 , by replacing in the definition of @xmath72 every instance of @xmath108 by @xmath1 , and every cartesian product of sets by a tensor product of @xmath1-objects .",
    "in particular the horizontal composite @xmath88 is given by the coends @xmath123 , which form coequalisers of the @xmath1-maps @xmath124 that are induced by letting @xmath92 act on @xmath93 and @xmath94 respectively .",
    "next we describe the double category of spans in a category @xmath5 with pullbacks , which will be used in describing the double category @xmath74 of categories , functors and profunctors internal in @xmath5 .",
    "[ example : spans ] for a category @xmath5 that has pullbacks , the double category @xmath125 of _ spans in @xmath5 _ is defined as follows .",
    "the objects and vertical morphisms of @xmath125 are those of @xmath5 , while a horizontal morphism @xmath76 is a span @xmath126 in @xmath5 .",
    "a cell @xmath23 as on the left below is a map @xmath26 in @xmath5 such that the diagram in the middle commutes .",
    "@xmath31            \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                edge node[left ] { $ f$ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture }    \\qquad\\qquad \\begin{tikzpicture}[baseline ]                  \\matrix(m)[math175em , column sep=1.25em , row sep=0.3em ] { & j & \\\\ a & & b \\\\ & k & \\\\ c & & d \\\\ } ;                  \\path[map ]   ( m-1 - 2 ) edge node[above left ] { $ d_0 $ } ( m-2 - 1 )                                                          edge node[right ] { $ \\phi$ } ( m-3 - 2 )                                                          edge node[above right ] { $ d_1 $ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge node[left ] { $ f$ } ( m-4 - 1 )                                          ( m-2 - 3 ) edge node[right ] { $ g$ } ( m-4 - 3 )                                          ( m-3 - 2 ) edge node[below=4pt , right=-2pt ] { $ d_0 $ } ( m-4 - 1 )                                                          edge node[below=4pt , left=-5pt ] { $ d_1 $ } ( m-4 - 3 ) ;              \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]                  \\matrix(m)[math175em , row sep=1.2em , column sep=1.2em ]                  {    & & \\phantom b & & \\\\                      & j & & h & \\\\                      a & & b & & e \\\\ } ;                  \\path[map ]   ( m-1 - 3 ) edge ( m-2 - 2 )                                                          edge ( m-2 - 4 )                                          ( m-2 - 2 ) edge node[above left ] { $ d_0 $ } ( m-3 - 1 )                                                          edge node[below left ] { $ d_1 $ } ( m-3 - 3 )                                          ( m-2 - 4 ) edge node[below right ] { $ d_0 $ } ( m-3 - 3 )                                                          edge node[above right ] { $ d_1 $ } ( m-3 - 5 ) ;                  \\draw ( m-1 - 3 ) node { $ j \\times_b h$ } ;              \\end{tikzpicture}\\ ] ] given spans @xmath76 and @xmath127 , their composition @xmath88 is given by the usual composition of spans : after choosing a pullback @xmath128 of @xmath129 and @xmath130 as on the right above , it is taken to consist of the two sides in this diagram",
    ". that this composition is associative and unital up to coherent isomorphisms , with spans of the form @xmath131 as units @xmath132 , follows from the universality of pullbacks ; horizontal composition of cells is also given using this universality .",
    "having recalled the notion of span in @xmath5 we can now describe @xmath74 .",
    "[ double category of internal profunctors ] let @xmath5 be a category that has pullbacks and coequalisers , such that the coequalisers are preserved by pullback .",
    "the double category @xmath74 of categories , functors and profunctors internal in @xmath5 is given as follows .",
    "an _ internal category _",
    "@xmath62 in @xmath5 consists of a triple @xmath133 where @xmath134 is a span in @xmath5 , while @xmath135 and @xmath136 are horizontal cells in @xmath125 , the _ multiplication _ and _ unit _ of @xmath62 , which satisfy evident associativity and unit laws ; see section xii.1 of @xcite . for example , a category internal in the category @xmath30 of categories and functors is a strict double category ; compare definition  [ double category ] .",
    "an _ internal functor _",
    "@xmath45 in @xmath5 consists of a cell @xmath18 in @xmath125 as on the left below , that is compatible with the multiplication and unit of @xmath62 and @xmath80 .",
    "an _ internal profunctor _",
    "@xmath76 in @xmath5 is a span @xmath137 equipped with actions of @xmath62 and @xmath80 , given by horizontal cells @xmath138 and @xmath139 in @xmath125 , that are compatible with the multiplication and unit of @xmath62 and @xmath80 , and satisfy a mixed associativity law ; see section  3 of @xcite .",
    "@xmath31            \\matrix(m)[math175em]{a_0 & a_0 \\\\ c_0 & c_0 \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ a$ } ( m-1 - 2 )                                edge node[left ] { $ f_0 $ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ f_0 $ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ c$ } ( m-2 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ f$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]            \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                edge node[left ] { $ f$ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad \\qquad \\begin{tikzpicture}[baseline ]            \\matrix(m)[math175em]{a_0 & b_0 \\\\ c_0 & d_0 \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                edge node[left ] { $ f_0 $ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ g_0 $ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ] finally an _ internal transformation _ @xmath23 of internal profunctors , as in the middle above , is given by a cell @xmath23 in @xmath125 as on the right , that is compatible with the actions in the sense that the following diagrams commute in @xmath5 . @xmath140                  \\matrix(m)[math2em , column sep=2.5em]{a \\times_{a_0 } j & c \\times_{c_0 } k \\\\ j & k \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ f \\times_{f_0 } \\phi$ } ( m-1 - 2 )                                                          edge node[left ] { $ l$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ l$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[below ] { $ \\phi$ } ( m-2 - 2 ) ;              \\end{tikzpicture } \\qquad\\qquad\\quad \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math2em , column sep=2.5em]{j \\times_{b_0 } b & k \\times_{d_0 } d \\\\ j & k \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ \\phi \\times_{g_0 } g$ } ( m-1 - 2 )                                                          edge node[left ] { $ r$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ r$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[below ] { $ \\phi$ } ( m-2 - 2 ) ;              \\end{tikzpicture}\\ ] ]    given internal profunctors @xmath76 and @xmath127 , their horizontal composite @xmath88 is defined to be the coequaliser @xmath141 of the @xmath5-maps given by the actions of @xmath80 on @xmath20 and @xmath142 .",
    "the internal profunctor structures on @xmath20 and @xmath142 make @xmath88 into an internal profunctor @xmath143 , by using the universal property of coequalisers and the fact that the coequalisers are preserved by pullback .",
    "the same universal property allows us to define horizontal composites of internal transformations , and it is not hard to prove that the horizontal composition of internal profunctors above is associative up to invertible associators .",
    "moreover , notice that any internal category @xmath62 can be regarded as an internal profunctor @xmath61 , with both actions given by the multiplication of @xmath62 ; these form the units for horizontal composition , up to invertible unitors .",
    "having described several examples , we now consider some simple constructions on double categories .",
    "the first constructions are duals : like @xmath0-categories , double categories have both a vertical and horizontal dual as follows .    [ definition : duals of double categories ] given a double category @xmath3 we denote by @xmath144 the double category that has the same objects and horizontal morphisms of @xmath3 , while it has a vertical morphism @xmath145 for each vertical morphism @xmath45 in @xmath3 , and a cell @xmath146 , as on the left below , for each cell @xmath23 in @xmath3 as in the middle .",
    "the structure making @xmath144 into a double category is induced by that of @xmath3 .",
    "@xmath31            \\matrix(m)[math175em]{c & d \\\\ a & b \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 2 )                                edge node[left ] { $ { f^\\textup{op}}$ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ { g^\\textup{op}}$ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } , xshift=-4pt } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ { \\phi^\\textup{op}}$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]            \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                edge node[left ] { $ f$ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]            \\matrix(m)[math175em]{b & a \\\\ d & c \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ { j^\\textup{co}}$ } ( m-1 - 2 )                                edge node[left ] { $ g$ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ { k^\\textup{co}}$ } ( m-2 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } , xshift=-4pt } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ { \\phi^\\textup{co}}$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ]    likewise we denote by @xmath147 the double category whose objects and vertical morphisms are those of @xmath3 , that has a horizontal morphism @xmath148 for each @xmath76 in @xmath3 and a cell @xmath149 , as on the right above , for each cell @xmath23 in @xmath3 as in the middle . the structure on @xmath147",
    "is induced by that of @xmath3 .",
    "we call @xmath144 the _ vertical dual _ of @xmath3 , and @xmath147 the _",
    "horizontal dual_.    secondly each double category contains a ` vertical @xmath0-category ' and a ` horizontal bicategory ' as follows .",
    "[ 2-category and bicategory in a double category ] let @xmath3 be a double category .",
    "we denote by @xmath4 the @xmath0-category that consists of the objects , vertical morphisms and vertical cells of @xmath3 .",
    "the vertical composite @xmath150 of @xmath68 and @xmath151 in @xmath4 is given by the horizontal composite @xmath152 , @xmath19 and @xmath153 are vertical morphisms @xmath154 then @xmath152 is short for the composite @xmath155 . ] in @xmath3 , while the horizontal composite @xmath156 in @xmath4 , of composable cells @xmath68 and @xmath157 , is given by the vertical composite @xmath156 in @xmath3 .",
    "likewise the objects , horizontal morphisms and horizontal cells of @xmath3 combine into a bicategory @xmath158 whose compositions , units and coherence cells are those of @xmath3 .",
    "in the case of @xmath4 we have to check that its vertical composition is strictly associative : this follows from the coherence axioms for @xmath3 .",
    "it is easy to construct an isomorphism @xmath159 . indeed ,",
    "given functors @xmath18 and @xmath160 , a vertical cell @xmath68 in @xmath72 , that is given by natural maps @xmath161 where @xmath162 , corresponds under this isomorphism to the natural transformation @xmath163 in @xmath30 that has components @xmath164 .",
    "in the same way @xmath165 , the @xmath0-category of small @xmath1-categories , @xmath1-functors and @xmath1-natural transformations .",
    "the bicategory @xmath166 is that of small @xmath1-categories , @xmath1-profunctors and @xmath1-natural transformations .",
    "let @xmath5 be a category with pullbacks .",
    "given internal functors @xmath18 and , an _ internal transformation _ is given by a cell @xmath23 in @xmath125 , as on the left below , that makes the diagram of @xmath5-maps on the right commute ; see section 1 of @xcite .",
    "@xmath31            \\matrix(m)[math175em]{a_0 & a_0 \\\\ c_0 & c_0 \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ f_0 $ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ g_0 $ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ c$ } ( m-2 - 2 ) ;            \\path              ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math2em]{a & c \\times_{c_0 } c \\\\ c \\times_{c_0 } c & c \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ ( f , \\phi { \\circ}d_1)$ } ( m-1 - 2 )                                                      edge node[left ] { $ ( \\phi { \\circ}d_0 , g)$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ m_c$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge node[below ] { $ m_c$ } ( m-2 - 2 ) ;          \\end{tikzpicture}\\ ] ] categories , functors and transformations internal in @xmath5 form a @xmath0-category @xmath167 . if @xmath5 has coequalisers preserved by pullback , so that the double category @xmath74 of profunctors internal in @xmath5 exists , then it is not hard to show that @xmath168 by using the following lemma .",
    "[ vertical internal transformations ] let @xmath45 and @xmath169 be internal functors in a category @xmath5 with pullbacks , and let @xmath170 be an internal profunctor . @xmath31            \\matrix(m)[math175em]{a & a \\\\ c & d \\\\ } ;            \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ f$ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;            \\path              ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]            \\matrix(m)[math175em]{a_0 & a_0 \\\\ c_0 & d_0 \\\\ } ;            \\path[map ]",
    "( m-1 - 1 ) edge node[left ] { $ f_0 $ } ( m-2 - 1 )                        ( m-1 - 2 ) edge node[right ] { $ g_0 $ } ( m-2 - 2 )                        ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;            \\path              ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;            \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi_0 $ } ( m-2 - 1 ) ;          \\end{tikzpicture } \\qquad\\quad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math2em]{a & c \\times_{c_0 } k \\\\ k \\times_{d_0 } d & k \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ ( f , \\phi_0 { \\circ}d_1)$ } ( m-1 - 2 )                                                      edge node[left ] { $ ( \\phi_0 { \\circ}d_0 , g)$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ l$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge node[below ] { $ r$ } ( m-2 - 2 ) ;          \\end{tikzpicture}\\ ] ] transformations of internal profunctors @xmath23 , of the form as on the left above and natural in the sense of , correspond bijectively to cells @xmath171 of spans in @xmath5 , as in the middle , that make the diagram on the right commute . this correspondence is given by the assignment @xmath172 .",
    "first we show that for an internal transformation @xmath23 as on the left above , given by an @xmath5-map @xmath173 , the composite @xmath174 makes the naturality diagram on the right commute . to see this we compute its top leg :",
    "@xmath175 where the second identity is the naturality of @xmath23 , see , while the third is the unit axiom for @xmath62 .",
    "a similar argument shows that the bottom leg also equals @xmath23 so that commutativity follows .",
    "secondly , for the reverse assignment we take @xmath176 , which is the diagonal @xmath177 of the commuting square above . to see that this forms a transformation of profunctors we have to show that the naturality diagrams commute . that the first commutes is shown by @xmath178 where the second identity follows from the functoriality of @xmath18 , and the third from the associativity of @xmath179 . the second naturality diagram of commutes likewise . that the assignments thus given are mutually inverse follows easily from above , and from the unit laws for @xmath18 and @xmath180",
    "two important ways in which horizontal morphisms can be related to vertical morphisms are as ` companions ' and ` conjoints ' .",
    "informally we think of the companion of @xmath45 as being a horizontal morphism @xmath181 that is ` isomorphic ' to @xmath18 , while its conjoint is a horizontal morphism @xmath182 that is ` adjoint ' to @xmath18 .",
    "[ definition : companions and conjoints ] let @xmath45 be a vertical morphism in a double category @xmath3 .",
    "a _ companion _ of @xmath18 is a horizontal morphism @xmath183 equipped with cells @xmath184 and @xmath185 as on the left below , such that @xmath186 and @xmath187 and @xmath188 are suppressed . ] .",
    "@xmath31              \\matrix(m)[math175em]{a & c \\\\ c & c \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ f_*$ } ( m-1 - 2 )                                  edge node[left ] { $ f$ } ( m-2 - 1 ) ;              \\path        ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ { { } _ { f } { \\varepsilon}}$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{a & a \\\\ a & c \\\\ } ;              \\path        ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                  edge[eq ] ( m-2 - 1 ) ;              \\path[map ]   ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ f_*$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ { { } _ { f } \\eta}$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{c & a \\\\ c & c \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ f^*$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 ) ;              \\path        ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}_f$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{a & a \\\\ c & a \\\\ } ;              \\path        ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                          ( m-1 - 2 ) edge[eq ] ( m-2 - 2 ) ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ f$ } ( m-2 - 1 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ f^*$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\eta_f$ } ( m-2 - 2 ) ;          \\end{tikzpicture}\\ ] ] dually a _ conjoint _ of @xmath18 is a horizontal morphism @xmath189 equipped with cells @xmath190 and @xmath191 as on the right above , such that @xmath192 and @xmath193",
    ".    we call the cells @xmath184 and @xmath185 above _ companion cells _ , and the identities that they satisfy _ companion identities _ ; likewise the cells @xmath190 and @xmath191 are called _ conjoint cells _ , and their identities _ conjoint identities_. notice that the notions of companion and conjoint are swapped when moving from @xmath3 to @xmath147 .",
    "[ example : enriched companions ] in the double category @xmath73 of @xmath1-profunctors the companion of a @xmath1-functor @xmath45 can be given by @xmath194 , that is @xmath195 . taking @xmath196 and @xmath197 , given by the actions @xmath119 of @xmath18 on hom - objects",
    ", we clearly have @xmath186 . on the other hand @xmath198",
    "is the factorisation of @xmath199 through the map @xmath200 inducing the unitor . since this factorisation is obtained by precomposing the above with the map @xmath201 , that is induced by the identity @xmath202 , we see that the second companion identity @xmath187 holds as well .",
    "the conjoint @xmath189 of @xmath18 is defined dually .",
    "the notions of companion and conjoint are closely related to that of ` cartesian cell ' and ` opcartesian cell ' which we shall now recall , using largely the same notation as used in section 4 of @xcite .",
    "[ definition : cartesian and opcartesian cells ] a cell @xmath23 on the left below is called _ cartesian _ if any cell @xmath52 , as in the middle , factors uniquely through @xmath23 as shown .",
    "dually @xmath23 is called _ opcartesian _ if any cell @xmath58 as on the right factors uniquely through @xmath23 as shown .",
    "@xmath67              \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                  edge node[left ] { $ f$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\quad\\quad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{x & y \\\\ a & b \\\\ c & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                  edge node[left ] { $ h$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ k$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge node[left ] { $ f$ } ( m-3 - 1 )                          ( m-2 - 2 ) edge node[right ] { $ g$ } ( m-3 - 2 )                          ( m-3 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-3 - 2 ) ;              \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-3 - 2 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{x & y \\\\ a & b \\\\ c & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                  edge node[left ] { $ h$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ k$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 )                                  edge node[left ] { $ f$ } ( m-3 - 1 )                          ( m-2 - 2 ) edge node[right ] { $ g$ } ( m-3 - 2 )                          ( m-3 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-3 - 2 ) ;              \\path[transform canvas={shift=(m-2 - 1 ) ) } ]                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\psi'$ } ( m-2 - 2 )                          ( m-2 - 2 ) edge[transform canvas={yshift=-3pt } , cell ] node[right ] { $ \\phi$ } ( m-3 - 2 ) ;          \\end{tikzpicture } \\quad\\quad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ x & y \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                  edge node[left ] { $ f$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge node[left ] { $ h$ } ( m-3 - 1 )                          ( m-2 - 2 ) edge node[right ] { $ k$ } ( m-3 - 2 )                          ( m-3 - 1 ) edge[barred ] node[below ] { $ l$ } ( m-3 - 2 ) ;              \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ \\chi$ } ( m-3 - 2 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ x & y \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                  edge node[left ] { $ f$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                  edge node[left ] { $ h$ } ( m-3 - 1 )                          ( m-2 - 2 ) edge node[right ] { $ k$ } ( m-3 - 2 )                          ( m-3 - 1 ) edge[barred ] node[below ] { $ l$ } ( m-3 - 2 ) ;              \\path[transform canvas={shift=(m-2 - 1 ) ) } ]                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )                          ( m-2 - 2 ) edge[transform canvas={yshift=-3pt } , cell ] node[right ] { $ \\chi'$ } ( m-3 - 2 ) ;          \\end{tikzpicture}\\ ] ]    if a cartesian cell @xmath23 exists then we call @xmath20 a _ restriction of @xmath21 along @xmath18 and @xmath19 _ , and write @xmath203 ; if @xmath204 then we write @xmath205 . by their universal property , any two cartesian cells defining the same restriction factor through each other as invertible horizontal cells",
    "moreover , since the vertical composite of two cartesian cells is again cartesian , and since vertical units @xmath206 are cartesian , it follows that restrictions are pseudofunctorial , in the sense that @xmath207 and @xmath208 .",
    "dually , if an opcartesian cell @xmath23 exists then we call @xmath21 an _ extension of @xmath20 along @xmath18 and @xmath19 _ ; like restrictions , extensions are unique up to isomorphism and pseudofunctorial . in fact the notions of restriction and extension are vertically dual , that is they reverse when moving from @xmath3 to @xmath144 .",
    "we shall usually not name cartesian and opcartesian cells , but simply depict them as below .",
    "@xmath31              \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                  edge node[left ] { $ f$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;              \\draw ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture } \\qquad\\qquad\\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                  edge node[left ] { $ f$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;              \\draw ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{opcart } } } ;          \\end{tikzpicture}\\ ] ]    for morphisms @xmath45 , @xmath170 and @xmath209 in @xmath73 we have , in example  [ example : enriched profunctors ] , already used the notation @xmath210 to denote the composite . it is readily seen that the cell @xmath211 given by the identity transformation on @xmath212 is indeed cartesian , so that @xmath213 is the restriction of @xmath21 along @xmath18 and @xmath19 .    the following lemmas record some standard properties of cartesian and opcartesian cells .",
    "the proof of the first is easy and omitted .    in a double category",
    "consider the following vertical composite .",
    "@xmath84{a & b \\\\ c & d \\\\ e & f \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                                          edge node[left ] { $ h$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ k$ } ( m-3 - 2 )                                          ( m-3 - 1 ) edge[barred ] node[below ] { $ l$ } ( m-3 - 2 ) ;                  \\path[transform canvas={shift=(m-2 - 1 ) } ]                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[cell , transform canvas={yshift=-3pt } ] node[right ] { $ \\psi$ } ( m-3 - 2 ) ;              \\end{tikzpicture}\\ ] ] the following hold :    1 .",
    "if @xmath52 is cartesian then @xmath53 is cartesian if and only if @xmath23 is ; 2 .",
    "if @xmath23 is opcartesian then @xmath53 is opcartesian if and only if @xmath52 is .",
    "[ invertible cartesian and opcartesian cells ] any cartesian cell has a vertical inverse if and only if its vertical source and target are invertible . the same holds for opcartesian cells .    the `",
    "if ' part , for a cartesian cell @xmath23 with invertible vertical boundaries and horizontal target @xmath170 , is proved by factorising the vertical unit cell @xmath214 through @xmath23 .",
    "the following three results , which are theorem 4.1 of @xcite , show how companions , conjoints , restrictions and extensions are related .    in a double category consider cells of the form below .",
    "@xmath31              \\matrix(m)[math175em]{a & c \\\\ c & c \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                  edge node[left ] { $ f$ } ( m-2 - 1 ) ;              \\path        ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\quad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{a & a \\\\ a & c \\\\ } ;              \\path        ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                  edge[eq ] ( m-2 - 1 ) ;              \\path[map ]   ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\quad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{d & c \\\\ d & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 ) ;              \\path        ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\chi$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\quad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{c & c \\\\ d & c \\\\ } ;              \\path        ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                          ( m-1 - 2 ) edge[eq ] ( m-2 - 2 ) ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ g$ } ( m-2 - 1 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\xi$ } ( m-2 - 2 ) ;          \\end{tikzpicture}\\ ] ] the following hold :    1 .",
    "@xmath23 is cartesian if and only if there exists a cell @xmath52 such that @xmath215 defines @xmath20 as the companion of @xmath18 ; 2 .",
    "@xmath52 is opcartesian if and only if there exists a cell @xmath23 such that @xmath215 defines @xmath20 as the companion of @xmath18 .",
    "horizontally dual analogues hold for the pair of cells on the right above , obtained by replacing ` @xmath23 ' by ` @xmath58 ' , ` @xmath52 ' by ` @xmath216 ' , and ` @xmath20 as companion of @xmath18 ' by ` @xmath21 as the conjoint of @xmath19 ' .    for the `",
    "if ' part of ( a ) : the unique factorisation of a cell @xmath217 through @xmath23 , as in definition  [ definition : cartesian and opcartesian cells ] , is obtained by composing @xmath217 on the left with @xmath52 . for the ` only if ' part : @xmath52 is obtained by factorising @xmath63 through @xmath23 .",
    "the other assertions are duals of ( a ) .",
    "[ cartesian and opcartesian cells in terms of companions and conjoints ] in a double category suppose that the pairs of cells @xmath218 and @xmath219 , as in the composites below , define the companion of @xmath45 and the conjoint of @xmath209 .",
    "@xmath31                  \\matrix(m)[math175em]{a & c & d & b \\\\ c & c & d & d \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ f_*$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 3 )                                          ( m-1 - 3 ) edge[barred ] node[above ] { $ g^*$ } ( m-1 - 4 )                                          ( m-1 - 4 ) edge node[right ] { $ g$ } ( m-2 - 4 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 3 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                          ( m-2 - 3 ) edge[eq ] ( m-2 - 4 ) ;                  \\path[transform canvas={shift={($(m-1 - 3)!0.5!(m-2 - 3)$ ) } } ]    ( m-1 - 1 ) edge[cell ] node[right ] { $ { { } _ { f } { \\varepsilon}}$ } ( m-2 - 1 )                                          ( m-1 - 3 ) edge[cell ] node[right ] { $ { \\varepsilon}_g$ } ( m-2 - 3 ) ;                            \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]                  \\matrix(m)[math175em]{b & b & a & a \\\\ d & b & a & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ g$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                          ( m-2 - 3 ) edge[barred ] node[below ] { $ f_*$ } ( m-2 - 4 )                                          ( m-1 - 4 ) edge node[right ] { $ f$ } ( m-2 - 4 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ g^*$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                          ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-1 - 3 ) edge[eq ] ( m-1 - 4 ) ;                  \\path[transform canvas={shift={($(m-1 - 3)!0.5!(m-2 - 3)$ ) } } ]    ( m-1 - 1 ) edge[cell ] node[right ] { $ \\eta_g$ } ( m-2 - 1 )                                          ( m-1 - 3 ) edge[cell ] node[right ] { $ { { } _ { f } \\eta}$ } ( m-2 - 3 ) ;                             \\end{tikzpicture}\\ ] ] for any horizontal morphism @xmath170 the composite on the left above is cartesian , while for any @xmath220 the composite on the right is opcartesian .",
    "the unique factorisation of any cell @xmath52 through the composite on the left above , as in definition  [ definition : cartesian and opcartesian cells ] , is obtained by composing @xmath52 on the left with @xmath185 and on the right with @xmath221 .",
    "likewise unique factorisations through the composite on the right are obtained by composition on the left with @xmath222 and on the right with @xmath184 .",
    "together the pair of lemmas above implies the following .",
    "the following conditions on a double category @xmath3 are equivalent :    1 .   @xmath3 has all companions and conjoints ; 2 .",
    "@xmath3 has all restrictions ; 3 .",
    "@xmath3 has all extensions .",
    "next is the definition of equipment .",
    "an _ equipment _ is a double category together with , for each vertical morphism @xmath45 , two specified pairs of cells @xmath223 and @xmath224 that define the companion @xmath183 and the conjoint @xmath189 respectively , as in definition  [ definition : companions and conjoints ] .",
    "by lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] above , a specification of companions and conjoints induces a specification of restrictions and extensions , by taking the restriction of @xmath170 along @xmath45 and @xmath209 to be @xmath225 , and likewise by taking the extension of @xmath76 along @xmath18 and @xmath19 to be @xmath226 . unless specified otherwise we will always mean these particular restrictions and extensions , along with their defining cells as given by lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] , when working in an equipment .",
    "the double category @xmath73 of @xmath1-enriched profunctors is an equipment with companions and conjoints as given in example  [ example : enriched companions ] .",
    "[ example : equipment of internal profunctors ] the double category @xmath74 can be made into an equipment as well .",
    "briefly , the companion @xmath183 of an internal functor @xmath45 can be taken to be the span @xmath227{\\times}{_{d_0 } } } c { \\xrightarrow{\\pi_2 } } c { \\xrightarrow{d_1 } } c_0 \\bigr\\rbrack},\\ ] ] where @xmath228{\\times}{_{d_0 } } } c$ ] denotes the pullback of @xmath229 , with projections @xmath230 and @xmath231 .",
    "if @xmath232 then @xmath233 is the set consisting of morphisms @xmath234 in @xmath235 .",
    "the actions that make @xmath233 into an internal profunctor are induced by the multiplication of @xmath235 , and it is straightforward to show that the projection @xmath236 defines a cartesian internal transformation @xmath237 . a conjoint @xmath189 for @xmath18 can be given similarly .",
    "consider a cell @xmath23 in a double category as in the middle below , and assume that the companions of @xmath18 and @xmath19 exist .",
    "then the opcartesian and cartesian cell in the composite on the left below exist by lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] , and we write @xmath238 for the horizontal cell that is obtained by factorising @xmath23 as in the identity on the left below .",
    "dually , if the conjoints of @xmath18 and @xmath19 exist then we write @xmath239 for the factorisation of @xmath23 as on the right .",
    "especially the factorisations @xmath238 will be important later on .",
    "@xmath240              \\matrix(m)[math175em]{a & & b \\\\ a & b & d \\\\ a & c & d \\\\ c & & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                      ( m-1 - 3 ) edge node[right ] { $ g$ } ( m-2 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ g_*$ } ( m-2 - 3 )                                      ( m-3 - 1 ) edge[barred ] node[below ] { $ f_*$ } ( m-3 - 2 )                                                      edge node[left ] { $ f$ } ( m-4 - 1 )                                      ( m-3 - 2 ) edge[barred ] node[below ] { $ k$ } ( m-3 - 3 )                                      ( m-4 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-4 - 3 )                                      ( m-2 - 2 ) edge[cell ] node[right ] { $ \\phi_*$ } ( m-3 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-2 - 1 ) edge[eq ] ( m-3 - 1 )                                      ( m-2 - 3 ) edge[eq ] ( m-3 - 3 )                                      ( m-3 - 3 ) edge[eq ] ( m-4 - 3 ) ;              \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{opcart } } }                                      ( $ ( m-3 - 1)!0.5!(m-4 - 3)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]          \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                              edge node[left ] { $ f$ } ( m-2 - 1 )                         ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                      ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;          \\path[transform canvas={shift={($(m-1 - 1)!0.5!(m-2 - 1)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 ) ;      \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{a & & b \\\\ c & a & b \\\\ c & d & b \\\\ c & & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                                      edge node[left ] { $ f$ } ( m-2 - 1 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ f^*$ } ( m-2 - 2 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 )                                      ( m-3 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-3 - 2 )                                      ( m-3 - 2 ) edge[barred ] node[below ] { $ g^*$ } ( m-3 - 3 )                                      ( m-3 - 3 ) edge node[right ] { $ g$ } ( m-4 - 3 )                                      ( m-4 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-4 - 3 )                                      ( m-2 - 2 ) edge[cell ] node[right ] { $ \\phi^*$ } ( m-3 - 2 ) ;              \\path                ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                      ( m-2 - 1 ) edge[eq ] ( m-3 - 1 )                                      ( m-2 - 3 ) edge[eq ] ( m-3 - 3 )                                      ( m-3 - 1 ) edge[eq ] ( m-4 - 1 ) ;              \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{opcart } } }                                      ( $ ( m-3 - 1)!0.5!(m-4 - 3)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture}\\ ] ]    [ companion and conjoint factorisations functoriality ] in a double category the correspondence @xmath241 given above is functorial in the sense that , for horizontally composable cells as on the left below such that the conjoints of @xmath18 , @xmath19 and @xmath153 exist , the identity on the right holds .",
    "@xmath67                  \\matrix(m)[math175em]{a & b & e \\\\ c & d & f \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ h$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ l$ } ( m-2 - 3 ) ;                  \\path[transform canvas={shift=($(m-1 - 1)!0.5!(m-2 - 2)$ ) } ]                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge[cell ] node[right ] { $ \\chi$ } ( m-2 - 3 ) ;              \\end{tikzpicture } \\quad \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{c & a & b & e \\\\ c & d & b & e \\\\ c & d & f & e \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ f^*$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                          ( m-1 - 3 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 4 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ g^*$ } ( m-2 - 3 )                                          ( m-2 - 3 ) edge[barred ] node[below ] { $ h$ } ( m-2 - 4 )                                          ( m-3 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-3 - 2 )                                          ( m-3 - 2 ) edge[barred ] node[below ] { $ l$ } ( m-3 - 3 )                                          ( m-3 - 3 ) edge[barred ] node[below ] { $ h^*$ } ( m-3 - 4 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi^*$ } ( m-2 - 2 )                                          ( m-2 - 3 ) edge[cell ] node[right ] { $ \\chi^*$ } ( m-3 - 3 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                          ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                          ( m-1 - 4 ) edge[eq ] ( m-2 - 4 )                                          ( m-2 - 1 ) edge[eq ] ( m-3 - 1 )                                          ( m-2 - 2 ) edge[eq ] ( m-3 - 2 )                                          ( m-2 - 4 ) edge[eq ] ( m-3 - 4 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{c & a & b & e \\\\ c & d & f & e \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ f^*$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                          ( m-1 - 3 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 4 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ l$ } ( m-2 - 3 )                                          ( m-2 - 3 ) edge[barred ] node[below ] { $ h^*$ } ( m-2 - 4 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                          ( m-1 - 4 ) edge[eq ] ( m-2 - 4 ) ;                  \\path[map , transform canvas={shift={($(m-1 - 3)!0.5!(m-2 - 3)$ ) } } ]   ( m-1 - 2 ) edge[cell ] node[right ] { $ ( \\phi { \\odot}\\chi)^*$ } ( m-2 - 2 ) ;              \\end{tikzpicture}\\ ] ] by horizontal duality the correspondence @xmath242 is similarly functorial .    the opcartesian and cartesian cell in the composite on the right of are defined by the horizontal composites @xmath243 and @xmath244 respectively , so that the factorisation of @xmath23 is given by the composite @xmath245 ; compare the proof of lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] . likewise the factorisations of @xmath58 and @xmath59 are given by @xmath246 and @xmath247 , so that the identity follows from the conjoint identity @xmath248 .",
    "we end this section with a useful consequence of lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] .    [ composing cartesian and opcartesian cells ] in an equipment consider the following horizontal composites .",
    "@xmath31                  \\matrix(m)[math175em]{a & b & e \\\\ c & d & e \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ l$ } ( m-2 - 3 ) ;                  \\path                ( m-1 - 3 ) edge[eq ] ( m-2 - 3 ) ;                  \\path[transform canvas={shift=($(m-1 - 1)!0.5!(m-2 - 2)$ ) } ]                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge[cell ] node[right ] { $ \\chi$ } ( m-2 - 3 ) ;              \\end{tikzpicture } \\qquad\\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]                  \\matrix(m)[math175em]{a & b & e \\\\ a & d & f \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ h$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ l$ } ( m-2 - 3 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 ) ;                  \\path[transform canvas={shift=($(m-1 - 1)!0.5!(m-2 - 2)$ ) } ]                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge[cell ] node[right ] { $ \\xi$ } ( m-2 - 3 ) ;              \\end{tikzpicture}\\ ] ] the following hold for the composite on the left .    1 .   if @xmath23 is cartesian and @xmath58 is opcartesian then @xmath59 is cartesian .",
    "2 .   if @xmath23 is opcartesian and @xmath58 is cartesian then @xmath59 is opcartesian .    for the composite on the right",
    "horizontally dual analogues hold , obtained by replacing ` @xmath249 ' by ` @xmath250 ' and ` @xmath251 ' by ` @xmath252 ' .",
    "proving ( b ) for the composite on the left suffices , since proving ( a ) is vertically dual while proving ( a ) and ( b ) for the composite on the right is horizontally dual to proving them for the composite on the left .",
    "so we assume @xmath23 to be opcartesian and @xmath58 to be cartesian . by lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] the horizontal composite @xmath253 forms , like @xmath23 , an opcartesian cell @xmath254 that defines the extension of @xmath20 along @xmath18 and @xmath19 , which thus factors through @xmath23 as an invertible horizontal cell @xmath255 .",
    "likewise @xmath256 forms a cartesian cell that factors through @xmath58 as @xmath257 .",
    "composing @xmath59 with the isomorphisms @xmath258 and @xmath259 gives @xmath260 where the second identity follows from the companion identity @xmath261 . by lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ]",
    "the composite on the right - hand side is opcartesian , so that @xmath59 is too .",
    "we are now ready to describe various notions of kan extension in double categories . in particular we shall extend a variation of wood s notion of ` indexed ( co-)limit ' in ` bicategories equipped with abstract proarrows ' , that was given in @xcite , to a notion of pointwise kan extension in double categories .",
    "let @xmath3 be an equipment and consider the @xmath0-category @xmath4 consisting of its objects , vertical morphisms and vertical cells . recall that a vertical cell @xmath262 as on the left below defines @xmath263 as the right kan extension of @xmath264 along @xmath265 in @xmath4 if every cell @xmath52 as on the right factors uniquely through @xmath262 as shown .",
    "see for example section x.3 of @xcite , where right kan extensions are defined in the @xmath0-category @xmath30 of categories , functors and natural transformations . @xmath67          \\matrix(m)[math175em]{a & a \\\\ b & \\phantom b \\\\ m & m \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                      ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 )                      ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 ) ;        \\path              ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                              ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;          \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;      \\end{tikzpicture } \\qquad\\qquad\\qquad \\begin{tikzpicture}[textbaseline ]          \\matrix(m)[math175em]{a & a \\\\ b & \\phantom b \\\\ m & m \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                      ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 )                      ( m-2 - 1 ) edge node[left ] { $ s$ } ( m-3 - 1 ) ;        \\path              ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                              ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;          \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-3 - 2 ) ;      \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]          \\matrix(m)[math175em]{a & a & a \\\\ b & b & \\phantom b \\\\ m & m & m \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                                  ( m-1 - 2 ) edge node[right ] { $ j$ } ( m-2 - 2 )                                  ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 )                                  ( m-2 - 1 ) edge node[left ] { $ s$ } ( m-3 - 1 )                                  ( m-2 - 2 ) edge node[right ] { $ r$ } ( m-3 - 2 ) ;          \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                  ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                  ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                  ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                  ( m-3 - 2 ) edge[eq ] ( m-3 - 3 ) ;          \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ 1_j$ } ( m-2 - 1 )                                  ( m-2 - 1 ) edge[cell ] node[right ] { $ \\psi'$ } ( m-3 - 1 ) ;          \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-3 - 3)$ ) } } ] ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 2 ) ;      \\end{tikzpicture}\\ ] ] factorising through the opcartesian cell @xmath266 defining the conjoint @xmath267 , we see that the unique factorisations above correspond exactly to unique factorisations @xmath67",
    "\\matrix(m)[math175em]{b & a \\\\ m & m \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j^*$ } ( m-1 - 2 )                                                      edge node[left ] { $ s$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-2 - 2 ) ;              \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{b & b & a \\\\ m & m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ s$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j^*$ } ( m-1 - 3 )                                                      edge node[right ] { $ r$ } ( m-2 - 2 )                                      ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                      ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                      ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;              \\path[transform canvas={shift=($(m-1 - 1)!0.5!(m-2 - 2)$ ) } ]                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-2 - 2 )                                      ( m-1 - 3 ) edge[cell ] node[right ] { $ { \\varepsilon}'$ } ( m-2 - 3 ) ;          \\end{tikzpicture}\\ ] ] in @xmath3 , where @xmath259 is the unique factorisation of @xmath262 through @xmath266 .",
    "this observation leads us to the following definition , which was given by grandis and par in @xcite .",
    "[ definition : right kan extension ] let @xmath268 and @xmath76 be morphisms in a double category .",
    "the cell @xmath262 in the right - hand side below is said to define @xmath263 as the _",
    "right kan extension of @xmath264 along @xmath20 _ if every cell @xmath23 below factors uniquely through @xmath262 as shown .",
    "@xmath67              \\matrix(m)[math175em]{a & b \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ s$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{a & a & b \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ s$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                                          edge node[right ] { $ r$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                          ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;                  \\path[transform canvas={shift=($(m-1 - 1)!0.5!(m-2 - 2)$ ) } ]                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 3 ) ;              \\end{tikzpicture}\\ ] ]    as usual any two cells defining the same right kan extension factor uniquely through each other as invertible vertical cells .",
    "we remark that the definition of grandis and par is in fact more general , as it allows cells @xmath262 whose horizontal target is arbitrary where we assume it to be a horizontal unit .    as is shown by the discussion above",
    ", the preceding definition generalises the notion of right kan extension in @xmath0-categories as follows .",
    "[ right kan extensions along conjoints as right kan extensions in v(k ) ] in a double category @xmath3 consider a vertical cell @xmath262 , as on the left below , and assume that the conjoint @xmath267 of @xmath265 exists .",
    "@xmath67              \\matrix(m)[math175em]{a & a \\\\ b & \\phantom a \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 )                          ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 ) ;          \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                  ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;              \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{a & a \\\\ b & a \\\\ m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j^*$ } ( m-2 - 2 )                                                          edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\path[transform canvas={shift=(m-2 - 1 ) , yshift=-2pt } ]     ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}'$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{opcart } } } ;              \\end{tikzpicture}\\ ] ] the vertical cell @xmath262 defines @xmath263 as the right kan extension of @xmath264 along @xmath265 in @xmath4 precisely if its factorisation @xmath259 , as shown , defines @xmath263 as the right kan extension of @xmath264 along @xmath269 in @xmath3 .      having recalled the notion of ordinary right kan extension , our aim is now to give a notion of pointwise kan extension in double categories that extends the notion of pointwise kan extension for enriched functors .",
    "in this section we recall the latter notion , which is extended to double categories in the next section .",
    "to begin we recall a notion of pointwise kan extension for unenriched functors . given functors @xmath270 , @xmath271 and @xmath272 between small categories ,",
    "a natural transformation @xmath273 defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath265 if the maps @xmath274 which assign to @xmath275 the natural transformation with components @xmath276 are bijections . that this coincides with the usual notion follows easily from the fact that the target of is the set of cones from @xmath277 to the functor @xmath278 , where @xmath279 denotes the comma category . for details",
    "see section x.5 of @xcite .",
    "given a closed symmetric monoidal category @xmath280 that is complete and cocomplete , we now assume that the functors @xmath265 , @xmath264 and @xmath263 are @xmath1-functors , and that @xmath273 is a @xmath1-natural transformation",
    ". then we can consider enriched variants of , which are @xmath1-maps @xmath281 as we shall explain , and @xmath262 defines the @xmath1-functor @xmath263 as the pointwise right kan extension of @xmath264 along @xmath265 if these are isomorphisms ; see the last condition of theorem 4.6 of @xcite , which lists equivalent conditions on @xmath262 for it to define @xmath263 as the pointwise right kan extension .",
    "pointwise kan extensions along enriched functors were first introduced by dubuc in section i.4 of @xcite .",
    "to describe we first have to recall the definition of their targets , which form the ` @xmath1-objects of @xmath1-natural transformations ' @xmath282 .",
    "we shall not do this directly , but instead recall the definition of the ` right hom ' @xmath283 for any pair of @xmath1-profunctors @xmath127 and @xmath284 ; the targets of are then given by the right hom @xmath285 of the conjoints @xmath267 and @xmath286 .",
    "on objects we define @xmath287 by the ends @xmath288 , where @xmath289 is the inner hom of @xmath1 .",
    "dually to , these ends can be taken to be the equalisers of the @xmath1-maps @xmath290 that are induced by letting @xmath291 act on @xmath292 and @xmath293 respectively .",
    "the universal properties of these ends ensure that they combine to form a @xmath1-profunctor @xmath283 .",
    "using the fact that ends are dual to coends , as well as the tensor - hom adjunction @xmath294 of @xmath1 , it is straightforward to obtain a correspondence of @xmath1-natural transformations @xmath295 for any @xmath76 . to be precise",
    "we obtain , for all @xmath127 , an adjunction @xmath296              \\matrix(m)[math , column sep=1.75em]{\\operatorname{--}{\\odot}h \\colon h({{{\\mathcal{v}}}\\text-{\\mathsf{prof}}})(a , b ) & h({{{\\mathcal{v}}}\\text-{\\mathsf{prof}}})(a , e ) \\colon \\operatorname{--}{\\triangleright}h , \\\\ } ;              \\path[transform canvas={yshift=3.5pt } , map ] ( m-1 - 1 ) edge ( m-1 - 2 ) ;              \\path[transform canvas={yshift=-3.5pt } , map ]     ( m-1 - 2 ) edge ( m-1 - 1 ) ;              \\path[color = white ] ( m-1 - 1 ) edge node[color = black , font=\\scriptsize ] { $ \\bot$ } ( m-1 - 2 ) ;          \\end{tikzpicture}\\ ] ] where @xmath166 denotes the horizontal bicategory contained in the double category @xmath73 , that is the bicategory of @xmath1-categories , @xmath1-profunctors and their transformations .",
    "we now return to describing the @xmath1-maps .",
    "first recall that @xmath297 see section 2.2 of @xcite .",
    "next consider the @xmath1-natural transformation @xmath298 as a vertical cell in @xmath73 , as on the left below .",
    "@xmath299          \\matrix(m)[math175em]{a & a \\\\ b & \\phantom b \\\\ m & m \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                      ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 )                      ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 ) ;        \\path              ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                              ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;          \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;      \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{m & b & a \\\\ m & & a \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ r^*$ } ( m-1 - 2 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j^*$ } ( m-1 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ d^*$ } ( m-2 - 3 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}^*$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 3 ) edge[eq ] ( m-2 - 3 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[textbaseline ]          \\matrix(m)[math175em]{m & b \\\\ m & b \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ r^*$ } ( m-1 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ d^ * { \\triangleright}j^*$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 2 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } , xshift=-0.9em } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ ( { \\varepsilon}^*)^\\flat$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ] it factors uniquely , through the opcartesian cell defining @xmath300 as the conjoint of @xmath301 and the cartesian cell defining @xmath302 as the conjoint of @xmath264 , as a horizontal cell @xmath303 as in the middle ; compare the definition of @xmath239 in . remembering from the proof of lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] that this factorisation is obtained by composing @xmath262 on the left with the cartesian cells @xmath304 and",
    "@xmath305 defining @xmath269 and @xmath306 , and on the right with the opcartesian cell @xmath307 defining @xmath302 , we find that @xmath303 is induced by the @xmath1-maps @xmath308 compare this with the components that are used in the unenriched case .",
    "the cell @xmath303 in turn uniquely corresponds to a horizontal cell @xmath309 as on the right of , under the adjunction , and the components of @xmath309 form the @xmath1-maps ; see the last condition of theorem  4.6 of @xcite .",
    "the following definition summarises this section .",
    "[ definition : pointwise kan extension along enriched functors ] let @xmath1 be a closed symmetric monoidal category that is complete and cocomplete .",
    "a @xmath1-natural transformation @xmath273 of @xmath1-functors , as on the left of , defines the @xmath1-functor @xmath263 as the _ pointwise right kan extension of @xmath264 along @xmath265 _ if the corresponding @xmath1-natural transformation of @xmath1-profunctors @xmath310 , as on the right of , is invertible .      in this section",
    "we , by mimicking the ideas of the previous section , obtain a notion of pointwise right kan extension in ` right closed ' equipments , which we extend to general double categories afterwards .",
    "the first notion is closely related to wood s definition of ` indexed limit ' in bicategories that are , in his sense , ` equipped with abstract proarrows ' , as introduced in @xcite .",
    "more precisely , by restricting wood s notion of bicategories equipped with abstract proarrows to @xmath0-categories , one obtains a notion that is equivalent to that of equipments in our sense which , additionally , are both right closed ( see below ) and ` left closed ' ; for details see appendix  c of @xcite . in such ` @xmath0-categories equipped with abstract proarrows ' wood s notion of indexed limit",
    "coincides with definition  [ definition : pointwise right kan extension in right closed equipments ] given below .",
    "a double category @xmath3 is called _ right closed _",
    "if , for each horizontal morphism @xmath127 , the functor @xmath311 has a right adjoint @xmath312 .    as in , in a right closed equipment @xmath3 every cell @xmath262 on the left below corresponds to the horizontal cell @xmath303 in the middle , which in turn corresponds to a horizontal cell @xmath309 on the right , under the adjunction @xmath313 . @xmath31              \\matrix(m)[math175em]{a & b \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ r$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 1 ) ;              \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{m & a & b \\\\ m & & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ r^*$ } ( m-1 - 2 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ d^*$ } ( m-2 - 3 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}^*$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 3 ) edge[eq ] ( m-2 - 3 ) ;          \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture}[baseline ]          \\matrix(m)[math175em]{m & a \\\\ m & a \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ r^*$ } ( m-1 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ d^ * { \\triangleright}j$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 2 ) edge[eq ] ( m-2 - 2 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } , xshift=-0.9em } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ ( { \\varepsilon}^*)^\\flat$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ]    mimicking definition  [ definition : pointwise kan extension along enriched functors ] we make the following definition .",
    "it is closely related to wood s definition of indexed limit , as previously discussed .",
    "[ definition : pointwise right kan extension in right closed equipments ] let @xmath268 and @xmath76 be morphisms in a right closed equipment .",
    "the cell @xmath262 on the left above is said to define @xmath263 as the _ pointwise right kan extension of @xmath264 along @xmath20 _ if the corresponding horizontal cell @xmath309 on the right is invertible .",
    "as we have seen , in the case that @xmath314 and @xmath315 , for a @xmath1-functor , the @xmath1-natural transformation @xmath262 above defines @xmath263 as the pointwise right kan extension of @xmath20 along @xmath264 precisely if the corresponding @xmath1-natural transformation defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath265 in @xmath316 .",
    "similarly @xmath1-weighted limits can be defined in @xmath73 , as follows .",
    "given a @xmath1-weight @xmath317 , notice that it can be regarded as a @xmath1-profunctor @xmath318 , where @xmath319 denotes the ` unit ' @xmath1-category , consisting of one object @xmath320 and @xmath321 , the unit of @xmath1 .",
    "as with enriched kan extensions , one can show that the @xmath265-weighted limit of a @xmath1-functor @xmath268 exists if and only if the pointwise right kan extension of @xmath264 along @xmath20 exists in @xmath73 .    in order to extend definition  [ definition : pointwise right kan extension in right closed equipments ] to general double categories we restate its condition ` @xmath309 is invertible ' in terms that do not use conjoints or the right adjoint @xmath322 , as follows .",
    "it is easy to see that @xmath309 is invertible if and only if @xmath303 forms a ` universal arrow @xmath323 ' , in the sense of section iii.1 of @xcite .",
    "this means that every cell @xmath52 as on the left below factors uniquely through @xmath303 as shown .",
    "@xmath67              \\matrix(m)[math175em]{m & a & b \\\\ m & & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 2 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ d^*$ } ( m-2 - 3 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 3 ) edge[eq ] ( m-2 - 3 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]          \\matrix(m)[math175em]{m & a & b \\\\ m & a & b \\\\ m & & b \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 2 )                                  ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                  ( m-2 - 1 ) edge[barred ] node[below ] { $ r^*$ } ( m-2 - 2 )                                  ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 )                                  ( m-3 - 1 ) edge[barred ] node[below ] { $ d^*$ } ( m-3 - 3 )                                  ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}^*$ } ( m-3 - 2 ) ;          \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                  ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                  ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                  ( m-2 - 1 ) edge[eq ] ( m-3 - 1 )                                  ( m-2 - 3 ) edge[eq ] ( m-3 - 3 ) ;          \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\psi'$ } ( m-2 - 1 ) ;      \\end{tikzpicture}\\ ] ] but the unique factorisations above correspond precisely to the unique factorisations on the left below , under the correspondence @xmath324 given in . here we use the functoriality of the latter , see lemma  [ companion and conjoint factorisations functoriality ] .",
    "@xmath67              \\matrix(m)[math175em]{m & a & b \\\\ m & & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 2 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                      ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ \\xi$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-2 - 1 ) edge[eq ] ( m-2 - 3 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{m & a & b \\\\ m & m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 2 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                                      edge node[right ] { $ r$ } ( m-2 - 2 )                                      ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                      ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\xi'$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 2 ) ;          \\end{tikzpicture } \\qquad\\qquad\\quad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{c & a & b \\\\ m & a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                      edge node[left ] { $ s$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 ) ;              \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                      ( m-1 - 3 ) edge[eq ] ( m-2 - 3 ) ;              \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{opcart } } } ;               \\end{tikzpicture}\\ ] ]    furthermore , the unique factorisation of the cells @xmath216 through @xmath262 , on the left above , is equivalent to the unique factorisation of the more general cells @xmath23 through @xmath262 , as shown below . indeed , the one below reduces to the one above by taking @xmath325 and @xmath326 .",
    "on the other hand , unique factorisations of the form below correspond precisely to ones of the form on the left above , under the unique factorisation through the composite on the right , where @xmath21 is any choice of extension of @xmath142 along @xmath327 ; this composite is opcartesian by lemma  [ composing cartesian and opcartesian cells ] .",
    "@xmath328              \\matrix(m)[math175em]{c & a & b \\\\ m & & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                      edge node[left ] { $ s$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                      ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 ) ;              \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 3 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{c & a & b \\\\ m & m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                      edge node[left ] { $ s$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 3 )                                                      edge node[right ] { $ r$ } ( m-2 - 2 )                                      ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 ) ;              \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                      ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;              \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 2 ) ;          \\end{tikzpicture}\\ ] ] we conclude that , in the case that @xmath3 is a right closed equipment , the definition below coincides with definition  [ definition : pointwise right kan extension in right closed equipments ] .    [",
    "definition : pointwise right kan extension ] let @xmath268 and @xmath76 be morphisms in a double category .",
    "the cell @xmath262 in the right - hand side above is said to define @xmath263 as the _ pointwise right kan extension of @xmath264 along @xmath20 _ if every cell @xmath23 above factors uniquely through @xmath262 as shown .    like ordinary kan extensions , two cells",
    "defining the same pointwise kan extension factor uniquely through each other as invertible vertical cells .",
    "we remark that grandis and par introduced in @xcite a notion similar to the above , that of ` absolute ' right kan extension , which is stronger in that it allows the cells @xmath23 and @xmath329 in to have any , not necessarily unital , horizontal target .",
    "pointwise left kan extensions in @xmath3 are simply pointwise right kan extensions in @xmath147 as follows , where @xmath147 is the horizontal dual of @xmath3 ; see definition  [ definition : duals of double categories ] .",
    "let @xmath271 and @xmath76 be morphisms in a double category .",
    "the cell @xmath330 in the right - hand side below defines @xmath179 as the _ pointwise left kan extension of @xmath264 along @xmath20 _ if every cell @xmath23 below factors uniquely through @xmath330 as shown .",
    "@xmath67                  \\matrix(m)[math175em]{a & b & c \\\\ m & & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ d$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                          ( m-1 - 3 ) edge node[right ] { $ k$ } ( m-2 - 3 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 3 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{a & b & c \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ d$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right ] { $ l$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ k$ } ( m-2 - 3 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                          ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\eta$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-2 - 2 ) ;              \\end{tikzpicture}\\ ] ]    the following two lemmas record some simple properties of pointwise kan extensions . the second one , on iterated pointwise kan extensions ,",
    "generalises the analogous result for pointwise kan extensions along enriched functors ; see theorem 4.47 of @xcite .",
    "its proof is straightforward and omitted .",
    "[ pointwise right kan extensions are right kan extensions ] the cell @xmath262 below defines @xmath263 as a right kan extension whenever it defines @xmath263 as a pointwise right kan extension .",
    "the converse holds once the pointwise right kan extension of @xmath264 along @xmath20 is known to exist .",
    "@xmath331{a & b \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ r$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 1 ) ;          \\end{tikzpicture}\\ ] ]    for the converse remember that any two cells defining the same right kan extension factor through each other as invertible vertical cells , so that if one of them defines a pointwise right kan extension then so does the other .    consider horizontally composable cells @xmath84{a & b & c \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ s$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right ] { $ r$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 ) ;                  \\path    ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                              ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\gamma$ } ( m-2 - 1 )                  ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 2 ) ;              \\end{tikzpicture}\\ ] ] in a double category , and suppose that @xmath262 defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath142",
    ". then @xmath332 defines @xmath327 as the ( pointwise ) right kan extension of @xmath263 along @xmath20 precisely if @xmath333 defines @xmath327 as the ( pointwise ) right kan extension of @xmath264 along @xmath88 .",
    "we close this section with a lemma showing that ` precomposition is a form of pointwise right kan extension ' , which will be very useful in the next section .",
    "[ precomposition ] consider a composable pair @xmath45 and @xmath334 in a double category , and assume that the companion @xmath183 of @xmath18 exists .",
    "the composite below defines @xmath335 as the pointwise right kan extension of @xmath263 along @xmath233 .",
    "@xmath331{a & c \\\\ c & c \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ f_*$ } ( m-1 - 2 )                                                      edge node[left ] { $ f$ } ( m-2 - 1 )                                      ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge node[right ] { $ r$ } ( m-3 - 2 ) ;              \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                      ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                      ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;              \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { \\textup{cart } } ;          \\end{tikzpicture}\\ ] ]    we have to show that every cell @xmath23 as on the left - hand side below factors uniquely through the composite above . that such a factorisation exists is shown by the following identity , which is obtained by using one of the companion identities for @xmath233 . @xmath67              \\matrix(m)[math175em]{d & a & c \\\\ m & \\phantom m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                      edge node[left ] { $ s$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ f_*$ } ( m-1 - 3 )                                      ( m-1 - 3 ) edge node[right ] { $ r$ } ( m-2 - 3 ) ;              \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 3 )                                      ( m-1 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 2 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{d & a & a & c \\\\ d & a & c & c \\\\ m & \\phantom m & m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                      ( m-1 - 3 ) edge[barred ] node[above ] { $ f_*$ } ( m-1 - 4 )                                                      edge node[right , inner sep=1pt ] { $ f$ } ( m-2 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-2 - 2 )                                                      edge node[left ] { $ s$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ f_*$ } ( m-2 - 3 )                                      ( m-2 - 3 ) edge node[right ] { $ r$ } ( m-3 - 3 )                                      ( m-2 - 4 ) edge node[right ] { $ r$ } ( m-3 - 4 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                                      edge[eq ] ( m-2 - 2 )                                      ( m-1 - 4 ) edge[eq ] ( m-2 - 4 )                                      ( m-2 - 3 ) edge[eq ] ( m-2 - 4 )                                      ( m-3 - 1 ) edge[eq ] ( m-3 - 3 )                                      ( m-3 - 3 ) edge[eq ] ( m-3 - 4 )                                      ( m-2 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-3 - 2 ) ;              \\draw                ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{opcart } } }                                      ( $ ( m-1 - 3)!0.5!(m-2 - 4)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture}\\ ] ] to show that this factorisation is unique assume that there exists another cell @xmath329 , as on the left below , such that @xmath336 . then the following equation , which uses the other companion identity for @xmath233 , shows that @xmath329 coincides with the factorisation that was obtained above .",
    "@xmath67              \\matrix(m)[math175em]{d & a \\\\ & c \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                      edge node[left ] { $ s$ } ( m-3 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                                      ( m-2 - 2 ) edge node[right ] { $ r$ } ( m-3 - 2 ) ;              \\path                ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;              \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-3 - 2)$ ) } } ]    ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-2 - 1 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{d & a & a \\\\ d & a & c \\\\ & c & c \\\\ m & m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                      ( m-1 - 3 ) edge node[right ] { $ f$ } ( m-2 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-2 - 2 )                                                      edge node[left ] { $ s$ } ( m-4 - 1 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ f_*$ } ( m-2 - 3 )                                                      edge node[left , inner sep=1pt ] { $ f$ } ( m-3 - 2 )                                      ( m-3 - 2 ) edge node[right ] { $ r$ } ( m-4 - 2 )                                      ( m-3 - 3 ) edge node[right ] { $ r$ } ( m-4 - 3 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                                      edge[eq ] ( m-2 - 2 )                                      ( m-2 - 3 ) edge[eq ] ( m-3 - 3 )                                      ( m-3 - 2 ) edge[eq ] ( m-3 - 3 )                                      ( m-4 - 1 ) edge[eq ] ( m-4 - 2 )                                      ( m-4 - 2 ) edge[eq ] ( m-4 - 3 ) ;              \\path[transform canvas={shift={($(m-3 - 2)!0.5!(m-3 - 3)$ ) } } ]    ( m-2 - 1 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-3 - 1 ) ;              \\draw                ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{opcart } } }                                      ( $ ( m-2 - 2)!0.5!(m-3 - 3)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{d & a & a \\\\ d & a & c \\\\ m & \\phantom m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                      ( m-1 - 3 ) edge node[right ] { $ f$ } ( m-2 - 3 )                                      ( m-2 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-2 - 2 )                                                      edge node[left ] { $ s$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ f_*$ } ( m-2 - 3 )                                      ( m-2 - 3 ) edge node[right ] { $ r$ } ( m-3 - 3 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                      ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                                      edge[eq ] ( m-2 - 2 )                                      ( m-3 - 1 ) edge[eq ] ( m-3 - 3 )                                      ( m-2 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-3 - 2 ) ;              \\draw                ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{opcart } } } ;          \\end{tikzpicture}\\ ] ] this completes the proof .",
    "in this section we introduce the notion of ` exact cell ' in double categories . in the double category @xmath72 of unenriched profunctors",
    "exact cells generalise the ` carrs exacts ' that were studied by guitart in @xcite , as we shall see in example  [ example : carres exacts ] .",
    "[ definition : exact cell ] in a double category consider a cell @xmath23 as on the left below .",
    "we call @xmath23 _ ( pointwise ) right exact _ if for any cell @xmath262 , as on the right , that defines @xmath263 as the ( pointwise ) right kan extension of @xmath264 along @xmath21 , the composite @xmath337 defines @xmath335 as the ( pointwise ) right kan extension of @xmath338 along @xmath20 .",
    "if the converse holds as well then we call @xmath23 _ ( pointwise ) initial_. @xmath31                  \\matrix(m)[math175em]{a & b \\\\ c & d \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } \\qquad\\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{c & d \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 2 )                                                          edge node[left ] { $ r$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ]    notice that both the class of ( pointwise ) right exact cells , as well as that of ( pointwise ) initial cells , are closed under vertical composition .",
    "the remainder of this section describes right exact cells and initial cells .",
    "[ initial cells ] in a double category consider a morphism @xmath209 .",
    "if the companion @xmath339 of @xmath19 exists then any opcartesian cell of the form below is both initial and pointwise initial .",
    "@xmath84{a & b \\\\ a & d \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{opcart } } } ;              \\end{tikzpicture}\\ ] ]    first notice that by lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] we may , without loss of generality , assume that the opcartesian cell above is given by the horizontal composite of @xmath206 and the opcartesian cell defining @xmath340 ; in particular we thus have @xmath341 .    for any cell @xmath262 as on the left below consider the following identity , which follows from one of the companion identities for @xmath340",
    "we have to show that @xmath262 defines @xmath263 as a ( pointwise ) right kan extension if and only if the composite of the first two columns on the right - hand side does so .",
    "@xmath67                  \\matrix(m)[math175em]{a & b & d \\\\ m & \\phantom m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ r$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ g_*$ } ( m-1 - 3 )                                          ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-2 - 3 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 3 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 2 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{a & b & b & d \\\\ a & b & d & d \\\\ m & \\phantom m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                          ( m-1 - 3 ) edge[barred ] node[above ] { $ g_*$ } ( m-1 - 4 )                                                          edge node[right , inner sep=1pt ] { $ g$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-2 - 2 )                                                          edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ g_*$ } ( m-2 - 3 )                                          ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 )                                          ( m-2 - 4 ) edge node[right ] { $ d$ } ( m-3 - 4 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                          ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                                          edge[eq ] ( m-2 - 2 )                                          ( m-1 - 4 ) edge[eq ] ( m-2 - 4 )                                          ( m-2 - 3 ) edge[eq ] ( m-2 - 4 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 3 )                                          ( m-3 - 3 ) edge[eq ] ( m-3 - 4 )                                          ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{opcart } } }                                          ( $ ( m-1 - 3)!0.5!(m-2 - 4)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ] the last column of the right - hand side above defines @xmath338 as a pointwise right kan extension by lemma  [ precomposition ] , so that the proof follows from the pasting lemma .    the following example shows that the notion of initial cell extends the classical notion of ` initial functor ' .    recall that a functor @xmath209 is called _ initial _ if , for each @xmath342 , the comma category @xmath343 is connected ; see for example section 2.5 of @xcite , where such functors are called ` co - cofinal ' . writing @xmath344 for the unique functor into the terminal category @xmath319 , we claim that @xmath209 is initial precisely if the obvious cartesian cell @xmath345{1 & b \\\\ 1 & d \\\\ } ;                      \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ ! ^*$ } ( m-1 - 2 )                                              ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                              ( m-2 - 1 ) edge[barred ] node[below ] { $ ! ^*$ } ( m-2 - 2 ) ;                      \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 ) ;                      \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ] is opcartesian in @xmath72 . to see this ,",
    "notice that the latter is equivalent to the horizontal cell @xmath346 , that is the factorisation of the cell above defined by , being invertible . remembering the coequalisers that define horizontal composition in @xmath72 ,",
    "the latter is readily seen to be equivalent to the comma categories @xmath343 being connected for each @xmath347 .",
    "initial functors are useful because diagrams @xmath348 can be restricted along @xmath19 without changing their limits : formally , if either @xmath349 or @xmath350 exists then so does the other , and in that case the canonical morphism @xmath351 is an isomorphism .",
    "this result can be recovered by applying the previous proposition to the cartesian cell above , by using proposition  [ right kan extensions along conjoints as right kan extensions in v(k ) ] and the well - known fact that the limits of @xmath264 and @xmath338 coincide with the right kan extensions of @xmath264 and @xmath338 along terminal functors ( see theorem x.7.1 of @xcite for the dual result on colimits ) .",
    "[ pointwise exact cartesian cells ] in a double category consider a morphism @xmath45 .",
    "if the companion @xmath183 of @xmath18 exists then any cartesian cell of the form below is pointwise right exact .",
    "@xmath84{a & b \\\\ c & b \\\\ } ;                      \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                              edge node[left ] { $ f$ } ( m-2 - 1 )                                              ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;                      \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 ) ;                      \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ]    by lemma  [ cartesian and opcartesian cells in terms of companions and conjoints ] we may , without loss of generality , assume that the cartesian cell above is given by the horizontal composite of the cartesian cell defining @xmath233 and the identity @xmath214 ; in particular we thus have @xmath352 .",
    "consider a cell @xmath262 as in the composite below and assume that it defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath21 ; we have to prove that the full composite defines @xmath335 as a pointwise left kan extension .",
    "@xmath84{a & c & b \\\\ c & c & b \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ f_*$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ k$ } ( m-1 - 3 )                                          ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge[barred ] node[above ] { $ k$ } ( m-2 - 3 )                                                          edge node[left ] { $ r$ } ( m-3 - 2 )                                          ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                          ( m-3 - 2 ) edge[eq ] ( m-3 - 3 ) ;                  \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-2 - 3)$ ) } } ]    ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ] that it does follows from the fact that the first column defines @xmath335 as a pointwise right kan extension by lemma  [ precomposition ] , together with the pasting lemma",
    ".    the following corollary combines propositions [ initial cells ] and [ pointwise exact cartesian cells ] .",
    "[ pointwise exact cells ] in a double category consider a cell @xmath23 below , and assume that the companions @xmath183 and @xmath339 of @xmath18 and @xmath19 exist .",
    "@xmath84{a & b \\\\ c & d \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] the cell @xmath23 is pointwise right exact as soon as the horizontal cell @xmath353 , that is defined by , is invertible .    if @xmath238 is invertible then the left identity of factors @xmath23 into an opcartesian cell , which defines the extension of @xmath20 along @xmath19 , followed by a cartesian cell which defines the restriction of @xmath21 along @xmath18 .",
    "the first is pointwise right exact by proposition  [ initial cells ] and the second by proposition  [ pointwise exact cartesian cells ] , so that their vertical composite @xmath23 is pointwise right exact too .",
    "[ example : carres exacts ] in the double category @xmath72 of unenriched profunctors consider a transformation @xmath23 of functors as on the left below , as well as its factorisation @xmath329 , as shown .",
    "@xmath67                  \\matrix(m)[math175em]{b & b \\\\ a & d \\\\ c & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ g$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[left ] { $ f$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ k$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-3 - 2)$ ) } } ]    ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{b & b \\\\ a & b \\\\ c & d \\\\ c & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j^*$ } ( m-2 - 2 )                                                          edge node[left ] { $ f$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ g$ } ( m-3 - 2 )                                          ( m-3 - 1 ) edge[barred ] node[below ] { $ k^*$ } ( m-3 - 2 )                                          ( m-3 - 2 ) edge node[right ] { $ k$ } ( m-4 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-4 - 1 )                                          ( m-4 - 1 ) edge[eq ] ( m-4 - 2 ) ;                  \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-3 - 2)$ ) } , yshift=-3pt } ]   ( m-2 - 1 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-3 - 1 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{opcart } } }                                          ( $ ( m-3 - 1)!0.5!(m-4 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ] using @xmath354 , the hypothesis of the previous corollary for the factorisation @xmath329 means that the maps @xmath355 , that are induced by the assignments @xmath356 are bijections . in section 1 of @xcite a natural transformation @xmath23 as on the left above , such that @xmath357 is invertible , is called a ` carr exact ' ; this explains our terminology of ` right exact cell ' .",
    "the condition of @xmath357 being an isomorphism is known as the _ right beck - chevalley condition _ ; in @xmath72 this condition is in fact equivalent to @xmath329 being a right exact cell in the sense of definition  [ definition : exact cell ] , as follows from theorem 1.10 of @xcite .",
    "in this section we show that if an equipment @xmath3 has all ` opcartesian tabulations ' then pointwise kan extensions in @xmath3 ( definition  [ definition : pointwise right kan extension ] ) can be defined in terms of kan extensions ( definition  [ definition : right kan extension ] ) .",
    "this is analogous to street s definition of pointwise kan extension in @xmath0-categories , that was introduced in @xcite , which we recall first .",
    "street s definition of pointwise kan extension in @xmath0-categories uses the notion of ` comma object ' in a @xmath0-category , which is recalled below .",
    "it generalises the well - known notion of a ` comma category ' @xmath358 of two functors @xmath45 and @xmath359 , in the @xmath0-category @xmath30 of categories , functors and transformations ; see section ii.6 of @xcite .",
    "[ definition : comma object ] given two morphisms @xmath45 and @xmath359 in a @xmath0-category @xmath360 , the _ comma object _ @xmath358 of @xmath18 and @xmath19 consists of an object @xmath358 equipped with projections @xmath361 and @xmath362 , as in the diagram on the left below , as well as a cell @xmath363 , that satisfies the following @xmath319-dimensional and @xmath0-dimensional universal properties . @xmath67                  \\matrix(m)[math2em]{f \\slash g & [ -3pt ] a \\\\ b & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ \\pi_a$ } ( m-1 - 2 )                                                          edge node[left ] { $ \\pi_b$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[below ] { $ g$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 2 ) edge[cell , shorten > = 7pt , shorten < = 7pt ] node[below right ] { $ \\pi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } \\qquad \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math2em]{x & a \\\\ b & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ \\phi_a$ } ( m-1 - 2 )                                                          edge node[left ] { $ \\phi_b$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[below ] { $ g$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 2 ) edge[cell , shorten > = 7pt , shorten < = 7pt ] node[below right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } \\qquad \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math2em]{x & a \\\\ b & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[bend left=35 ] node[above ] { $ \\phi_a$ } ( m-1 - 2 )                                                          edge[bend right=35 ] node[below left , inner sep=2pt ] { $ \\psi_a$ } ( m-1 - 2 )                                                          edge node[left ] { $ \\psi_b$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[below ] { $ g$ } ( m-2 - 2 )                                          ( $ ( m-1 - 1)!0.5!(m-1 - 2)+(-0.3em,0.75em)$ ) edge[cell ] node[right ] { $ \\xi_a$ } ( $ ( m-1 - 1)!0.5!(m-1 - 2)-(0.3em,0.75em)$ )                                          ( m-1 - 2 ) edge[cell , shorten > = 8pt , shorten < = 8pt , transform canvas={xshift=4pt , yshift=-4pt } ] node[below right , inner sep=1pt ] { $ \\psi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math2em]{x & a \\\\ b & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ \\phi_a$ } ( m-1 - 2 )                                                          edge[bend left=35 ] node[above right , inner sep=2pt ] { $ \\phi_b$ } ( m-2 - 1 )                                                          edge[bend right=35 ] node[left ] { $ \\psi_b$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ f$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[below ] { $ g$ } ( m-2 - 2 )                                          ( $ ( m-1 - 1)!0.5!(m-2 - 1)+(0.75em,-0.3em)$ ) edge[cell ] node[above ] { $ \\xi_b$ } ( $ ( m-1 - 1)!0.5!(m-2 - 1)-(0.75em,0.3em)$ )                                          ( m-1 - 2 ) edge[cell , shorten > = 8pt , shorten < = 8pt , transform canvas={xshift=4pt , yshift=-4pt } ] node[below right , inner sep=1pt ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] given any other cell @xmath23 in @xmath360 as in the middle above , the @xmath319-dimensional property states that there exists a unique morphism @xmath364 such that @xmath365 , and @xmath366 .    the @xmath0-dimensional property is the following .",
    "suppose we are given another cell @xmath52 as in the identity on the right above , which factors through @xmath367 as @xmath368 , like @xmath23 factors as @xmath329 .",
    "then for any pair of cells @xmath369 and @xmath370 , such that the identity above holds , there exists a unique cell @xmath371 such that @xmath372 and @xmath373 .",
    "[ definition : pointwise left kan extensions in 2-categories ] let @xmath271 and @xmath270 be morphisms in a @xmath0-category that has all comma objects .",
    "the cell @xmath374 in the diagram below is said to define @xmath263 as the _ pointwise right kan extension of @xmath264 along @xmath265 _ if , for each @xmath375 , the composition of cells below defines @xmath335 as the right kan extension of @xmath376 along @xmath377 . @xmath378{f",
    "\\slash j & & c \\\\ a & & b \\\\[-0.6em ] \\phantom m & m & \\phantom m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ \\pi_c$ } ( m-1 - 3 )                                                          edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                          ( m-1 - 3 ) edge node[right ] { $ f$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge node[above ] { $ j$ } ( m-2 - 3 )                                                          edge node[below left ] { $ d$ } ( m-3 - 2 )                                          ( m-2 - 3 ) edge node[below right ] { $ r$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 3 ) edge[cell , shorten > = 12pt , shorten < = 12pt ] node[above left ] { $ \\pi$ } ( m-2 - 1 )                                          ( m-2 - 3 ) edge[cell , shorten > = 8pt , shorten < = 8pt ] node[below right , xshift=-2pt ] { $ { \\varepsilon}$ } ( $ ( m-2 - 1)!0.5!(m-3 - 2)$ ) ;              \\end{tikzpicture}\\ ] ]    we remark that street s notion of pointwise right kan extension is in general stronger than dubuc s notion of pointwise right kan extension along enriched functors , that was recalled in definition  [ definition : pointwise kan extension along enriched functors ] .",
    "for instance , an example of an enriched left kan extension of @xmath0-functors that is not pointwise in the @xmath0-category of @xmath0-categories , @xmath0-functors and @xmath0-transformations , in the above sense , is given in example 2.24 of @xcite .",
    "thus pointwise right kan extensions in @xmath73 , as defined in definition  [ definition : pointwise right kan extension in right closed equipments ] , will in general not be pointwise in the @xmath0-category @xmath316 , in the above sense . in the next subsection we will consider a condition on equipments @xmath3 ensuring that pointwise right kan extensions in @xmath3 , as in definition  [ definition : pointwise right kan extension ]",
    ", do correspond to pointwise right kan extensions in @xmath4 , as in the definition above ; see corollary  [ pointwise kan extensions as pointwise vertical kan extensions ] .",
    "having recalled how street s definition of pointwise kan extension in a @xmath0-category is given in terms of ordinary kan extensions , we now wonder whether pointwise kan extensions in equipments @xmath3 can be defined in terms of ordinary ones too .",
    "it turns out that we can as soon as @xmath3 has ` opcartesian tabulations ' .",
    "we start by recalling the definition of tabulation from section  5 of @xcite , where it is called ` tabulator ' .",
    "tabulations generalise comma objects , as we will see in proposition  [ comma objects in terms of tabulations ] .",
    "[ definition : tabulation ] given a horizontal morphism @xmath76 in a double category @xmath3 , the _ tabulation _ @xmath379 of @xmath20 consists of an object @xmath379 equipped with a cell @xmath367 as on the left below , satisfying the following @xmath319-dimensional and @xmath0-dimensional universal properties . @xmath31              \\matrix(m)[tab]{{{{\\langlej\\rangle } } } & { { { \\langlej\\rangle } } } \\\\ a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\pi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } \\qquad\\qquad\\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]              \\matrix(m)[math175em]{x & x \\\\ a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\phi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\phi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] given any other cell @xmath23 in @xmath3 as on the right above , the @xmath319-dimensional property states that there exists a unique vertical morphism @xmath380 such that @xmath381 .",
    "the @xmath0-dimensional property is the following .",
    "suppose we are given another cell @xmath52 as in the identity below , which factors through @xmath367 as @xmath382 , like @xmath23 factors as @xmath329 .",
    "then for any pair of cells @xmath383 and @xmath384 as below , so that the identity holds , there exists a unique cell @xmath385 as on the right below such that @xmath386 and @xmath387",
    ". @xmath67                  \\matrix(m)[math175em]{x & y & y \\\\ a & a & b \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                          edge node[left ] { $ \\phi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right , inner sep=1pt ] { $ \\psi_a$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ \\psi_b$ } ( m-2 - 3 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\xi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-2 - 2 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{x & x & y \\\\ a & b & b \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\phi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right , inner sep=1pt ] { $ \\phi_b$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ \\psi_b$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\xi_b$ } ( m-2 - 2 ) ;              \\end{tikzpicture } \\qquad \\qquad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{x & y \\\\ { { { \\langlej\\rangle } } } & { { { \\langlej\\rangle } } } \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                          edge node[left ] { $ \\phi'$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\psi'$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\xi'$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] a tabulation is called _ opcartesian _ whenever its defining cell @xmath367 is opcartesian .    as with cartesian and opcartesian cells , we often will not name tabulations but simply depict them as @xmath31          \\matrix(m)[tab]{{{{\\langlej\\rangle } } } & { { { \\langlej\\rangle } } } \\\\ a & b. \\\\ } ;          \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;              \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;              \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab } } } ;          \\end{tikzpicture}\\ ] ]    [ example : tabulations of profunctors ] the tabulation @xmath379 of a profunctor @xmath77 is the category that has triples @xmath388 as objects , where @xmath389 and @xmath79 in @xmath20 , while a map @xmath390 is a pair @xmath391 in @xmath392 making the diagram @xmath393              \\matrix(m)[math175em]{a & b \\\\ a ' & b ' \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[above ] { $ j$ } ( m-1 - 2 )                                                      edge node[left ] { $ u$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge node[right ] { $ v$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge node[below ] { $ j'$ } ( m-2 - 2 ) ;          \\end{tikzpicture}\\ ] ] commute in @xmath20 . the functors @xmath361 and @xmath362 are projections and the natural transformation @xmath394 maps the pair @xmath395 to the diagonal @xmath396 . it is easy to check that @xmath367 satisfies both the @xmath319-dimensional and @xmath0-dimensional universal property above , and that it is opcartesian .    generalising the previous example , we will show in proposition  [ opcartesian tabulations for internal profunctors ] that all internal profunctors of the double category @xmath74 admit opcartesian tabulations .",
    "[ comma objects in terms of tabulations ] let @xmath45 and @xmath359 be vertical morphisms in a double category @xmath3 .",
    "if both the cartesian cell and the tabulation below exist then their composite defines the object @xmath397 as the comma object of @xmath18 and @xmath19 in @xmath4 .",
    "@xmath398{{{{\\langlec(f , g)\\rangle } } } & { { { \\langlec(f , g)\\rangle } } } \\\\ a & b \\\\ c & c \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ c(f , g)$ } ( m-2 - 2 )                                                          edge node[left ] { $ f$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ g$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab } } }                                          ( $ ( m-2 - 1)!0.5!(m-3 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ]    this follows immediately from the fact that the unique factorisations defining the comma object of @xmath18 and @xmath19 in @xmath4 , as in definition  [ definition : comma object ] , correspond precisely to unique factorisations through the tabulation above in @xmath3 , as in definition  [ definition : tabulation ] , by factorising them through the cartesian cell .",
    "[ right kan extensions along conjoints ] in a double category consider a tabulation as on the left below and assume that the conjoint @xmath399 of @xmath361 and the companion @xmath400 of @xmath362 exist .",
    "consider the factorisation of the tabulation through the opcartesian cell defining @xmath401 , as shown .",
    "@xmath67              \\matrix(m)[tab]{{{{\\langlej\\rangle } } } & { { { \\langlej\\rangle } } } \\\\ a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab } } } ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[tab]{{{{\\langlej\\rangle } } } & { { { \\langlej\\rangle } } } \\\\ a & { { { \\langlej\\rangle } } } \\\\ a & b \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ \\pi_a^*$ } ( m-2 - 2 )                                          ( m-2 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-3 - 2 )                                          ( m-3 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-2 - 1 ) edge[eq ] ( m-3 - 1 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{opcart } } }                                          ( $ ( m-2 - 1)!0.5!(m-3 - 2)$ ) node [ , yshift=-2pt , xshift=1.5pt ] { $ \\strut\\textup{tab}'$ } ;              \\end{tikzpicture } \\qquad\\qquad\\qquad \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em , column sep=1.5em]{a & { { { \\langlej\\rangle } } } \\\\ a & b \\\\ m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ \\pi_a^*$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-2 - 2 )                                                          edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\path[transform canvas={shift=(m-2 - 1 ) , xshift=0.65pt } ]   ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node [ , yshift=1pt , xshift=1.5pt ] { $ \\strut\\textup{tab}'$ } ;              \\end{tikzpicture}\\ ] ] if the tabulation is opcartesian then a cell @xmath262 , as in the composite on the right , defines @xmath263 as the ( pointwise ) right kan extension of @xmath264 along @xmath20 if and only if the composite @xmath402 defines @xmath263 as the ( pointwise ) right kan extension of @xmath403 along @xmath401 .",
    "[ pointwise kan extensions in terms of kan extensions ] in an equipment @xmath3 consider the cell @xmath262 on the left below .",
    "@xmath31              \\matrix(m)[math175em]{a & b \\\\ m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j$ } ( m-1 - 2 )                                                          edge node[left ] { $ r$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 1 ) ;              \\end{tikzpicture } \\qquad\\qquad\\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]                  \\matrix(m)[math175em]{c & b \\\\ a & b \\\\ m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ j(f , \\operatorname{id})$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 )                                                          edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\path[transform canvas={shift=(m-2 - 1 ) , yshift=-2pt } ]     ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ] for the following conditions the implications ( a ) @xmath407 ( b ) @xmath408 ( c ) hold , while ( c ) @xmath408 ( a ) holds as soon as @xmath3 has opcartesian tabulations .    1 .   the cell @xmath262 defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath20 ; 2 .   for all @xmath409 the composite on the right above defines @xmath335 as the pointwise right kan extension of @xmath264 along @xmath410 ; 3 .   for all @xmath409 the composite on the right above defines @xmath335 as the right kan extension of @xmath264 along @xmath410 .",
    "\\(b ) @xmath408 ( a ) . by taking @xmath411 in ( b )",
    "the cartesian cell defining @xmath410 is invertible by lemma  [ invertible cartesian and opcartesian cells ] , so in that case @xmath412 defines @xmath263 as the pointwise right kan extension precisely if @xmath262 does , and the implication follows .",
    "\\(c ) @xmath408 ( a ) . to prove ( a ) we have to show that every cell @xmath23 as in the composite on the left below factors uniquely through @xmath262 . @xmath67              \\matrix(m)[math175em]{{{{\\langleh\\rangle } } } & { { { \\langleh\\rangle } } } & [ 0.4em ] b \\\\ c & a & b \\\\ m & \\phantom a & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_c$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j(\\pi_a , \\operatorname{id})$ } ( m-1 - 3 )                                                      edge node[right , inner sep=2pt ] { $ \\pi_a$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ h$ } ( m-2 - 2 )                                                      edge node[left ] { $ s$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 )                                      ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 )                                      ( m-2 - 2 ) edge[cell ] node[right ] { $ \\phi$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                      ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                      ( m-3 - 1 ) edge[eq ] ( m-3 - 3 ) ;              \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab } } }                                      ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture } = \\mspace{-10mu}\\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{{{{\\langleh\\rangle } } } & { { { \\langleh\\rangle } } } & [ 0.4em ] b \\\\ c & a & b \\\\ m & m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_c$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j(\\pi_a , \\operatorname{id})$ }",
    "( m-1 - 3 )                                                      edge node[left ] { $ \\pi_a$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge node[left ] { $ s$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 )                                                      edge node[left ] { $ r$ } ( m-3 - 2 )                                      ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                      ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                      ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                      ( m-3 - 2 ) edge[eq ] ( m-3 - 3 ) ;              \\path[transform canvas={shift={($(m-2 - 3)!0.5!(m-3 - 2)$ ) } } ]    ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi'$ } ( m-2 - 1 ) ;              \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-2 - 3)$ ) } , yshift=-2pt } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;              \\draw                ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture } = \\mspace{-10mu}\\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{{{{\\langleh\\rangle } } } & { { { \\langleh\\rangle } } } & [ 0.4em ] b \\\\ c & a & b \\\\ m & m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_c$ } ( m-2 - 1 )                                      ( m-1 - 2 ) edge[barred ] node[above ] { $ j(\\pi_a , \\operatorname{id})$ } ( m-1 - 3 )                                                      edge node[right , inner sep=2pt ] { $ \\pi_a$ } ( m-2 - 2 )                                      ( m-2 - 1 ) edge[barred ] node[below ] { $ h$ } ( m-2 - 2 )                                                      edge node[left ] { $ s$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 )                                                      edge node[right ] { $ r$ } ( m-3 - 2 )                                      ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                      ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                      ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                      ( m-3 - 2 ) edge[eq ] ( m-3 - 3 ) ;              \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-2 - 3)$ ) } , yshift=-2pt } ]   ( m-2 - 1 ) edge[cell ] node[right ] { $ \\phi''$ } ( m-3 - 1 )                                      ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;              \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab } } }                                      ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{cart } } } ;          \\end{tikzpicture}\\ ] ] we write @xmath216 for the horizontal composite of the tabulation of @xmath142 and the cartesian cell defining @xmath413 , that forms the top row in the composite on the left above . assuming ( c ) , @xmath414 factors uniquely through @xmath412 as a vertical cell @xmath329 as in the first identity above .",
    "the cell @xmath329 in turn factors through the tabulation , which is opcartesian , as a unique cell @xmath415 , as in the second identity above .",
    "the composite @xmath216 of the opcartesian tabulation and the cartesian cell is opcartesian by lemma  [ composing cartesian and opcartesian cells ] , so that the equality above implies @xmath416 , since factorisations through opcartesian cells are unique .    to show uniqueness of @xmath415 consider a second cell @xmath417 such that @xmath418 .",
    "composing with @xmath216 we obtain @xmath419 , so that @xmath420 by uniqueness of @xmath329 .",
    "hence @xmath421 by uniqueness of factorsations through opcartesian cells , concluding the proof .    using the previous theorem",
    "we can show that , for any equipment @xmath3 that has opcartesian tabulations , pointwise right kan extensions along conjoints in @xmath3 coincide with pointwise right kan extensions in the @xmath0-category @xmath4 , as follows .",
    "[ pointwise right kan extensions along conjoints as pointwise right kan extensions in v(k ) ] in an equipment @xmath3 that has opcartesian tabulations consider a vertical cell @xmath262 , on the left below , as well as its factorisation @xmath259 through the opcartesian cell defining the conjoint of @xmath265 , as shown .",
    "@xmath67              \\matrix(m)[math175em]{a & a \\\\ b & \\phantom a \\\\",
    "m & m \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 )                          ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 ) ;          \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                  ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;              \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{a & a \\\\ b & a \\\\ m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ j$ } ( m-2 - 1 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j^*$ } ( m-2 - 2 )                                                          edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\path[transform canvas={shift=(m-2 - 1 ) , yshift=-2pt } ]     ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}'$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{opcart } } } ;              \\end{tikzpicture}\\ ] ] the vertical cell @xmath262 defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath265 in @xmath4 , in the sense of definition  [ definition : pointwise left kan extensions in 2-categories ] , precisely if its factorisation @xmath259 defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath269 in @xmath3 , in the sense of definition  [ definition : pointwise right kan extension ] .    given any vertical morphism @xmath375 we consider the composite on the left side of the equation below , where the first identity follows from the factorisation of @xmath262 above . the second identity is obtained by composing the top row in the middle composite , consisting of a cartesian and opcartesian cell , which results in the cartesian cell in the composite on the right , by lemma  [ composing cartesian and opcartesian cells ] .",
    "@xmath67                  \\matrix(m)[math175em]{c & a & a \\\\ b & b & \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ b(f , j)$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ j$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 )                                          ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[left ] { $ r$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                          ( m-3 - 2 ) edge[eq ] ( m-3 - 3 ) ;                  \\path[transform canvas={shift={($(m-2 - 3)!0.5!(m-3 - 2)$ ) } } ]    ( m-1 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-2 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{c & a & a \\\\ b & b & a \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ b(f , j)$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[left ] { $ j$ } ( m-2 - 2 )                                          ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-3 - 3 )                                          ( m-2 - 1 ) edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ j^*$ } ( m-2 - 3 )                                                          edge node[left ] { $ r$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                          ( m-1 - 3 ) edge[eq ] ( m-2 - 3 )                                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                          ( m-3 - 2 ) edge[eq ] ( m-3 - 3 ) ;                  \\path[transform canvas={shift={($(m-2 - 2)!0.5!(m-2 - 3)$ ) } , yshift=-2pt } ]   ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}'$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } }                                          ( $ ( m-1 - 2)!0.5!(m-2 - 3)$ ) node { { \\strut\\textup{opcart } } } ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{c & a \\\\ b & a \\\\ m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ b(f , j)$ } ( m-1 - 2 )                                                          edge node[left ] { $ f$ } ( m-2 - 1 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j^*$ } ( m-2 - 2 )                                                          edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-2 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\path[transform canvas={shift=(m-2 - 2 ) , yshift=-2pt } ]     ( m-2 - 1 ) edge[cell ] node[right ] { $ { \\varepsilon}'$ } ( m-3 - 1 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ] since @xmath3 has opcartesian tabulations we have ( a ) @xmath407 ( c ) in the previous theorem , which means that @xmath259 defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath269 if and only if for each @xmath375 the composite on the right above , and thus each composite above , defines @xmath335 as the right kan extension of @xmath264 along @xmath422 .    now consider the composite on the left above precomposed with the tabulation of @xmath422 , as on the left below , as well as with the factorisation of this tabulation through the opcartesian cell defining @xmath423 , as on the right . since the two top cells of the first column in the composite on the left define the comma object of @xmath18 and @xmath265 in @xmath4 , by proposition  [ comma objects in terms of tabulations ] , we have denoted the object of the tabulation by @xmath424 .",
    "@xmath31                  \\matrix(m)[math175em]{f \\slash j & f \\slash j & f \\slash j \\\\ c & a & a \\\\ b & b & \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_c$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_a$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ \\pi_a$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ b(f , j)$ } ( m-2 - 2 )                                                          edge node[left ] { $ f$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ j$ } ( m-3 - 2 )                                          ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-4 - 3 )                                          ( m-3 - 1 ) edge node[left ] { $ r$ } ( m-4 - 1 )                                          ( m-3 - 2 ) edge node[left ] { $ r$ } ( m-4 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                          ( m-2 - 2 ) edge[eq ] ( m-2 - 3 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                          ( m-4 - 1 ) edge[eq ] ( m-4 - 2 )                                          ( m-4 - 2 ) edge[eq ] ( m-4 - 3 ) ;                  \\path[transform canvas={shift={($(m-3 - 2)!0.5!(m-3 - 3)$ ) } } ]    ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab } } }                                          ( $ ( m-2 - 1)!0.5!(m-3 - 2)$ ) node [ , yshift=-1pt ] { { \\strut\\textup{cart } } } ;              \\end{tikzpicture } \\qquad\\qquad\\qquad \\begin{tikzpicture}[baseline ]                  \\matrix(m)[math175em]{c & [ 0.2em ] f \\slash j & f \\slash j \\\\ c & a & a \\\\ b & b & \\\\ m & m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ \\pi_c^*$ } ( m-1 - 2 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_a$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ \\pi_a$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ b(f , j)$ } ( m-2 - 2 )                                                          edge node[left ] { $ f$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ j$ } ( m-3 - 2 )                                          ( m-2 - 3 ) edge node[right ] { $ d$ } ( m-4 - 3 )                                          ( m-3 - 1 ) edge node[left ] { $ r$ } ( m-4 - 1 )                                          ( m-3 - 2 ) edge node[left ] { $ r$ } ( m-4 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-2 - 1 )                                          ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                          ( m-2 - 2 ) edge[eq ] ( m-2 - 3 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 )                                          ( m-4 - 1 ) edge[eq ] ( m-4 - 2 )                                          ( m-4 - 2 ) edge[eq ] ( m-4 - 3 ) ;                  \\path[transform canvas={shift={($(m-3 - 2)!0.5!(m-3 - 3)$ ) } } ]    ( m-2 - 2 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 2 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab}}$'$ }                                          ( $ ( m-2 - 1)!0.5!(m-3 - 2)$ ) node [ , yshift=-1pt ] { { \\strut\\textup{cart } } } ;              \\end{tikzpicture}\\ ] ] the proof is completed as follows : we have seen that @xmath259 defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath269 in @xmath3 if and only if the composite of the two bottom rows on the right above defines @xmath335 as the right kan extension of @xmath264 along @xmath422 , for each @xmath409 . by proposition",
    "[ right kan extensions along conjoints ] the latter is equivalent to the full composite on the right defining @xmath335 as the right kan extension of @xmath376 along @xmath423 , for each @xmath409 . this in turn is equivalent to , for each @xmath409 , the composite on the left defining @xmath335 as the right kan extension of @xmath376 along @xmath377 in the @xmath0-category @xmath4 , by proposition  [ right kan extensions along conjoints as right kan extensions in v(k ) ] . as a condition on the vertical cell @xmath262 in @xmath4 , the latter is precisely the condition given by definition  [ definition : pointwise left kan extensions in 2-categories ] .",
    "combining the previous result with proposition  [ right kan extensions along conjoints ] , we see that in an equipment @xmath3 with opcartesian tabulations all pointwise kan extensions can be regarded as pointwise kan extensions in @xmath4 , as follows .",
    "[ pointwise kan extensions as pointwise vertical kan extensions ] consider a cell @xmath262 , as in the composite below , in an equipment @xmath3 that has opcartesian tabulations .",
    "it defines @xmath263 as the pointwise right kan extension of @xmath264 along @xmath20 in @xmath3 precisely if the full composite defines @xmath263 as the pointwise right kan extension of @xmath403 along @xmath361 in @xmath4 .",
    "@xmath425{{{\\langlej\\rangle } } & { { \\langlej\\rangle } } \\\\ a & b \\\\ m & m \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 )                                                          edge node[left ] { $ r$ } ( m-3 - 1 )                                          ( m-2 - 2 ) edge node[right ] { $ d$ } ( m-3 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-3 - 1 ) edge[eq ] ( m-3 - 2 ) ;                  \\path[transform canvas={shift=(m-2 - 2 ) , yshift=-2pt } ]     ( m-2 - 1 ) edge[cell ] node[right ] { $ { \\varepsilon}$ } ( m-3 - 1 ) ;                  \\draw                ( $ ( m-1 - 1)!0.5!(m-2 - 2)$ ) node { { \\strut\\textup{tab } } } ;              \\end{tikzpicture}\\ ] ]      we close this paper by showing that internal profunctors admit opcartesian tabulations . a weaker version of this result is given by betti in @xcite , whose notion of tabulation is a variant of the @xmath319-dimensional property of definition  [ definition : tabulation ] , which is weakened by only requiring that @xmath426 holds up to invertible vertical cells @xmath427 and @xmath428 . the proof given below shows that the tabulations in @xmath74 can be chosen such that both universal properties of definition  [ definition : tabulation ] hold , in the strict sense .    [ opcartesian tabulations for internal profunctors ]",
    "let @xmath5 be a category with pullbacks , and coequalisers that are preserved by pullbacks .",
    "the equipment @xmath74 of profunctors internal in @xmath5 admits opcartesian tabulations .",
    "consider an internal profunctor @xmath429 between internal categories @xmath430 and @xmath431 .",
    "we will define a cell @xmath367 , as on the left below , and show that it statisfies the universal properties and that it is opcartesian .",
    "@xmath432              \\matrix(m)[tab]{{{{\\langlej\\rangle } } } & { { { \\langlej\\rangle } } } \\\\ a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\pi$ } ( m-2 - 1 ) ;              \\end{tikzpicture } \\qquad\\qquad\\qquad\\qquad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math2em , column sep=0.75em]{{{\\langlej\\rangle } } & j \\times_{b_0 } b \\\\ a \\times_{a_0 } j & j \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge ( m-1 - 2 )                                                          edge ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ r$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge node[below ] { $ l$ } ( m-2 - 2 ) ;                  \\coordinate ( hook ) at ( $ ( m-1 - 1)+(0.4,-0.4)$ ) ;                  \\draw ( hook)+(0,0.17 ) -- ( hook ) -- + ( -0.17,0 ) ;              \\end{tikzpicture}\\ ] ] _ definition of @xmath367 . _ we first define the internal category @xmath433 . as its underlying @xmath5-span",
    "we take @xmath434 and let @xmath433 be the pullback of the actions of @xmath80 and @xmath62 on @xmath20 , as on the right above , while the source and target maps are given by the projections below .",
    "notice that these are the internal versions of the sets of objects and morphisms that underlie the tabulation of an ordinary profunctor , as described in example  [ example : tabulations of profunctors ] .",
    "@xmath435    to give the multiplication @xmath436 , notice that its source @xmath437 forms the wide pullback of the diagram @xmath438                  \\matrix(m)[math175em , column sep=1em ]                  {    j \\times_{b_0 } b & & a \\times_{a_0 } j & & j \\times_{b_0 } b & & a \\times_{a_0 } j , \\\\                      & j & & j & & j & \\\\ } ;                   \\path[map ]   ( m-1 - 1 ) edge node[below left ] { $ r$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[below right ] { $ l$ } ( m-2 - 2 )                                                          edge ( m-2 - 4 )                                          ( m-1 - 5 ) edge ( m-2 - 4 )                                                          edge node[below left ] { $ r$ } ( m-2 - 6 )                                          ( m-1 - 7 ) edge node[below right ] { $ l$ } ( m-2 - 6 ) ;                  \\draw[font=\\scriptsize ] ( m-1 - 1 ) node[above=3pt ] { ( 1 ) }                                                                  ( m-1 - 3 ) node[above=3pt ] { ( 2 ) }                                                                  ( m-1 - 5 ) node[above=3pt ] { ( 3 ) }                                                                  ( m-1 - 7 ) node[above=3pt ] { ( 4 ) } ;              \\end{tikzpicture}\\ ] ] where the first factor of @xmath439 is the pullback of the objects labelled ( 1 ) and ( 2 ) , the second factor is the pullback of those labelled ( 3 ) and ( 4 ) , and where the unlabelled maps are projections . in the case of @xmath232 ,",
    "@xmath439 consists of quadruples of pairs of maps , one in each of the sets on the top row above , such that the pairs in ( 1 ) and ( 2 ) , as well as those in ( 3 ) and ( 4 ) , form commutative squares , and such that the bottom map of the first square coincides with the top map of the second .",
    "let @xmath277 be induced by the compositions      where the unlabelled maps are induced by projections from @xmath439 onto ( factors of ) the pullbacks in the top row of , as indicated by the labels . when @xmath232 , this simply composes the two pairs of maps making up the sides of two adjacent commutative squares . that the maps above indeed induce a map into the pullback @xmath433 follows from @xmath440 here the first equality follows from the fact that we can replace @xmath441 by @xmath442 ( by associativity of the action of @xmath80 on @xmath20 ) and that precomposing @xmath263 with the projection onto ( 1 ) coincides with precomposing @xmath179 with the projection onto ( 2 ) , by definition of @xmath439 .",
    "likewise the projection from @xmath439 onto the factor @xmath20 of ( 2 ) equals the projection onto the same factor of ( 3 ) and , together with the fact that @xmath263 and @xmath179 commute , the second equality follows .",
    "the third equality is symmetric to the first .    that the multiplication @xmath436 thus defined is compatible with the source and target maps is clear ; that it is associative follows from the associativity of @xmath443 and @xmath444 .",
    "moreover one readily verifies that the unit @xmath445 can be taken to be induced by the @xmath5-maps @xmath446 which completes the definition of the structure that makes @xmath433 into a category internal in @xmath5 .",
    "next let the projection @xmath447 be defined by the maps @xmath448 the projection @xmath362 onto @xmath80 is given analogously .",
    "one readily checks that these maps are compatible with the structures on @xmath433 , @xmath62 and @xmath80 .",
    "finally we define the cell @xmath367 , which is given by a map @xmath449 in @xmath5 , to be the diagonal of the square defining @xmath433 , on the right of . that it is natural follows from the associativity of the actions of @xmath62 and @xmath80 on @xmath20 .",
    "this completes the definition of the internal transformation @xmath367 .",
    "_ universal properties of @xmath367 .",
    "_ to see that @xmath367 satisfies the @xmath319-dimensional property of definition  [ definition : tabulation ] we consider an internal transformation @xmath23 as on the left below ; we have to show that it factors uniquely through @xmath367 as an internal functor @xmath450 .",
    "@xmath331{x & x \\\\ a & b \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\phi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\phi_b$ } ( m-2 - 2 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] such an internal functor @xmath329 is given by @xmath5-maps @xmath451 and @xmath450 .",
    "we take @xmath452 and let @xmath329 be induced by @xmath453 the naturality of @xmath23 implies that both these maps , when composed with @xmath263 and @xmath179 respectively , equal @xmath23 , so that they induce a map @xmath450 satisfying @xmath366 .",
    "it is clear that @xmath454 and @xmath23 are compatible with the source and target maps ; that they are compatible with the multiplication and units of @xmath62 and @xmath80 follows from the fact that @xmath455 and @xmath456 are .",
    "we have already seen that @xmath366 , and it is easily checked that @xmath365 and @xmath457 as well , so that @xmath23 factors through @xmath367 as @xmath329 . to see that @xmath329 is unique notice that @xmath458 where the first follows from the factorisation @xmath459 , the second from the unit axiom for @xmath329 and the last from the definition of @xmath460 and @xmath367 .",
    "this shows that @xmath454 is uniquely determined ; that @xmath329 must be determined by the maps as well follows from @xmath365 , @xmath457 , and the compatibility of @xmath329 and @xmath454 with the source and target maps .",
    "this concludes the proof of the @xmath319-dimensional universal property of @xmath367 .    for the @xmath0-dimensional property of definition  [ definition : tabulation ] consider the identity of internal transformations as on the left below .",
    "@xmath67                  \\matrix(m)[math175em]{x & y & y \\\\ a & a & b \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                          edge node[left ] { $ \\phi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right , inner sep=1pt ] { $ \\psi_a$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ \\psi_b$ } ( m-2 - 3 )                                          ( m-2 - 2 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 3 ) ;                  \\path                ( m-1 - 2 ) edge[eq ] ( m-1 - 3 )                                          ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\xi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\psi$ } ( m-2 - 2 ) ;              \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]                  \\matrix(m)[math175em]{x & x & y \\\\ a & b & b \\\\ } ;                  \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\phi_a$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 3 )                                                          edge node[right , inner sep=1pt ] { $ \\phi_b$ } ( m-2 - 2 )                                          ( m-1 - 3 ) edge node[right ] { $ \\psi_b$ } ( m-2 - 3 )                                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 ) ;                  \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 )                                          ( m-2 - 2 ) edge[eq ] ( m-2 - 3 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!0.5!(m-2 - 3)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\phi$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\xi_b$ } ( m-2 - 2 ) ;              \\end{tikzpicture } \\qquad \\qquad \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{x & y \\\\ { { { \\langlej\\rangle } } } & { { { \\langlej\\rangle } } } \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge[barred ] node[above ] { $ h$ } ( m-1 - 2 )                                                          edge node[left ] { $ \\phi'$ } ( m-2 - 1 )                                          ( m-1 - 2 ) edge node[right ] { $ \\psi'$ } ( m-2 - 2 ) ;                  \\path                ( m-2 - 1 ) edge[eq ] ( m-2 - 2 ) ;                  \\path[transform canvas={shift={($(m-1 - 2)!(0,0)!(m-2 - 2)$ ) } } ] ( m-1 - 1 ) edge[cell ] node[right ] { $ \\xi'$ } ( m-2 - 1 ) ;              \\end{tikzpicture}\\ ] ] we have to construct an internal transformation @xmath385 as on the right above , given by an @xmath5-map @xmath461 , such that @xmath372 and @xmath373 .",
    "together with the fact that @xmath385 must be compatible with source and target maps , these identities completely determine @xmath385 as being induced by the maps @xmath462 that these maps coincide after composition with @xmath263 and @xmath179 respectively follows from the identity on the left above .",
    "naturality of @xmath385 follows from that of @xmath383 and @xmath384 .",
    "this completes the proof of the universal properties of @xmath367 .",
    "_ the cell @xmath367 is opcartesian . _ to show that @xmath367 is opcartesian we have to show that every internal transformation @xmath58 as on the left below factors uniquely as shown .",
    "@xmath67              \\matrix(m)[math175em]{{{\\langlej\\rangle } } & { { \\langlej\\rangle } } \\\\ a & b \\\\ c & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge node[left ] { $ f$ } ( m-3 - 1 )                          ( m-2 - 2 ) edge node[right ] { $ g$ } ( m-3 - 2 )                          ( m-3 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-3 - 2 ) ;          \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;              \\path[transform canvas={shift={($(m-2 - 1)!0.5!(m-1 - 1)$ ) } } ] ( m-2 - 2 ) edge[cell ] node[right ] { $ \\chi$ } ( m-3 - 2 ) ;          \\end{tikzpicture } = \\begin{tikzpicture}[textbaseline ]              \\matrix(m)[math175em]{{{\\langlej\\rangle } } & { { \\langlej\\rangle } } \\\\ a & b \\\\ c & d \\\\ } ;              \\path[map ]   ( m-1 - 1 ) edge node[left ] { $ \\pi_a$ } ( m-2 - 1 )                          ( m-1 - 2 ) edge node[right ] { $ \\pi_b$ } ( m-2 - 2 )                          ( m-2 - 1 ) edge[barred ] node[below ] { $ j$ } ( m-2 - 2 )                                  edge node[left ] { $ f$ } ( m-3 - 1 )                          ( m-2 - 2 ) edge node[right ] { $ g$ } ( m-3 - 2 )                          ( m-3 - 1 ) edge[barred ] node[below ] { $ k$ } ( m-3 - 2 ) ;          \\path                ( m-1 - 1 ) edge[eq ] ( m-1 - 2 ) ;              \\path[transform canvas={shift=(m-2 - 1 ) ) } ]                          ( m-1 - 2 ) edge[cell ] node[right ] { $ \\pi$ } ( m-2 - 2 )                          ( m-2 - 2 ) edge[transform canvas={yshift=-0.3em } , cell ] node[right ] { $ \\chi'$ } ( m-3 - 2 ) ;          \\end{tikzpicture}\\ ] ] the internal transformation @xmath463 is given by an @xmath5-map @xmath464 , and precomposing the identity above with the unit @xmath445 , for which @xmath465 holds , gives @xmath466 .",
    "thus the identity above determines @xmath463 as @xmath467 , where @xmath468 is as in lemma  [ vertical internal transformations ] . that @xmath469 is natural with respect to the action of @xmath62",
    "is shown by the following equation . @xmath470",
    "the first and third identities here are straightforward to check , while the second and fourth follow from the naturality of @xmath468 ( see lemma  [ vertical internal transformations ] ) and the unit axiom for @xmath263 respectively . that @xmath463 is natural with respect to the action of @xmath80",
    "is shown similarly .",
    "this concludes the proof",
    ".                            r.  street .",
    "fibrations and yoneda s lemma in a @xmath0-category . in _ proceedings of the sydney category theory seminar , 1972/1973 _ , volume 420 of _ lecture notes in mathematics _ , pages 104133 .",
    "springer , berlin , 1974 ."
  ],
  "abstract_text": [
    "<S> in this paper we consider a notion of pointwise kan extension in double categories that naturally generalises dubuc s notion of pointwise kan extension along enriched functors . </S>",
    "<S> we show that , when considered in equipments that admit opcartesian tabulations , it generalises street s notion of pointwise kan extension in @xmath0-categories . </S>"
  ]
}