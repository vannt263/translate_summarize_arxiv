{
  "article_text": [
    "* problem formalism . *",
    "the mapping procedure takes a geometric description @xmath35 of a tqc computation as input and calculates a data structure @xmath36 which contains the required information of each logical qubit .",
    "each logical qubit in @xmath35 is specified by a set , @xmath37 , of directed segments , given by their end points @xmath38 .",
    "recall that @xmath8 is the set of lattice coordinates that are not occupied by qubits and can be centres of unit cells .",
    "each segment has one of six possible directions @xmath39 . to convert @xmath35 to @xmath36 , an intermediate representation @xmath40 where each logical qubit is described by a directed , cyclical graph ,",
    "is calculated first and then used to derive @xmath36 .",
    "_ geometric description and representation by graphs : _ for each logical qubit @xmath37 , a directed cyclical graph @xmath41 is defined .",
    "the set @xmath42 of possible graph vertices contains representations of unit cells from set @xmath8 .",
    "there is a bijective mapping @xmath43 between @xmath42 and @xmath8 : @xmath44 yields the three ( @xmath45 ) lattice coordinates of the cell corresponding to @xmath46 .",
    "@xmath47 represents the end points of the segments in @xmath37 , and @xmath48 represents the connections between the end points . a graphical example for this construction",
    "is offered in figure [ fig : holes]c )",
    ".    * mapping algorithm .",
    "* representation of logical qubits by set tuples : the tuple representation @xmath49 of a logical qubit @xmath37 contains all the information which is needed to implement it and its interactions with other qubits on a quantum computer .",
    "the ultimate outcome of the mapping procedure described next is the set @xmath36 which contains tuples @xmath50 for all logical qubits @xmath37 .",
    "the specifics of the mapping algorithm can be found in the methods section . the edges in @xmath48 form a hamiltonian path , containing all vertices from @xmath51 .",
    "during the mapping , the path can be either modified by @xmath52 that removes vertex @xmath46 and its incident edges , and creates a new edge between its neighbours , or the @xmath53 function that deletes the @xmath54 edge , and creates the new edges @xmath55 and @xmath56 .    within @xmath50 , @xmath57 stands for the type of the logical qubit ( primal or dual ) .",
    "@xmath58 includes all defect - internal physical qubits ( i.e. , those to be measured in the @xmath16 basis , whereas all other qubits will be measured in the @xmath25 basis ) . @xmath59 and @xmath60 are physical qubits that define inputs and outputs , respectively . in fig .",
    "[ fig : holes ] , the qubits in @xmath58 were shown in green and the qubits in @xmath59 and @xmath60 in orange .",
    "sets @xmath61 and @xmath62 include all physical qubits that are part of the @xmath25 and @xmath16 correlation surface , respectively . finally , @xmath63 is the set of injection points .",
    "note that the primal ( dual ) qubits are defined using coordinates on primal ( dual ) cells .",
    "as mentioned earlier , the @xmath16 correlation surface is a sheet for a primal logical qubit and a tube for a dual logical qubit .",
    "the @xmath25 correlation surface is a tube for a primal logical qubit and a sheet for a dual logical qubit . for convenience ,",
    "we introduce functions @xmath64 which returns @xmath65 for primal logical qubits and @xmath66 for dual logical qubits and @xmath67 which returns the corresponding tube in a similar way",
    ".    * mapping examples . *",
    "the presented algorithms were implemented and their execution will be illustrated by examples .",
    "the example from figure [ fig : example1 ] illustrates how a complete sheet is computed .",
    "a more complex example , for the computation of tubes and sheets , is presented in figure [ fig : tubesheet ] , and procedure starts from the tqc computation described by the geometry presented in subfigure a ) .",
    "the circuit consists of 3 logical cnots performed between 4 logical qubits : 3 primals ( the qubits @xmath68 ) and a dual ( qubit @xmath69 ) .",
    "the circuit will implement the following sequence : @xmath70 , @xmath71 , @xmath72 .",
    "the quantum circuit in figure [ fig : tubesheet]a ) is converted to a geometric form appropriate for the tqc model ( figure [ fig : tubesheet]b ) ) . the mapping will first determine the tube surfaces of each logical qubit and the results shown in figure [ fig : tubesheet]c ) will be obtained .",
    "figure [ fig : tubesheet]d ) contains the result of the physical qubit sets forming sheet surfaces . for the same dual logical qubit ( the third qubit in figure [ fig : tubesheet]a ) ) all the intermediate steps of the sheet computation are graphically presented in figure [ fig : tubesheet]e ) .",
    "* algorithmic complexity : * the algorithmic complexity of the mapping procedure is analysed in the following . for the computation of all the qubit sets , computed by the algorithm in eqn .",
    "[ alg : tubes ] , the mapping procedure requires a single qubit - cycle traversal , while the computation of the coordinates is straightforward ( see the illustration presented in figure [ fig : holes]a and the corresponding legend ) .",
    "therefore , for a given logical qubit @xmath50 , the runtime complexity is linear in the number of vertices ( @xmath73 ) of the graph - cycle representing the geometry",
    ".    for the runtime complexity analysis of the sheet mapping procedure a _ worst - case geometry _ has to be defined .",
    "such a geometry , when mapped in the 3d , will have to require a maximum number of _",
    "reshape_-rule applications in order to be able to compute the corresponding sub - sheets .",
    "the search of a geometry will consider that the algorithm from eqn .",
    "[ alg : sheet1 ] randomly selects a vertex from the cycle - graph ( line 1 ) , and that the vertex is used as a pivot for the reshape - operation .",
    "these assumptions imply , that even after a sequence of @xmath74 operations is applied , there is no possibility to find a sub - sheet and to reduce the number of vertices , and thus a further @xmath74 is necessary . for a graph with @xmath73 vertices , a worst - case situation arises when",
    "@xmath75 vertices are arranged in a pattern similar to the one in figure [ fig : proof ] , where the red cube indicates the @xmath76 vertex and the cycle is traversed clockwise .",
    "the graph vertices ( where edges are joined ) are not represented .",
    "after a first traversal of the graph , the reduce operation could not have been applied , and a @xmath74 followed by corresponding @xmath77 operations will transform the graph like in the right panel of figure [ fig : proof ]",
    ". it can be noticed , that until the step - like construction is not reshaped , no @xmath78 can be applied .",
    "however , after each @xmath74 , co - linear vertices can be @xmath79 , thus minimising @xmath73 .",
    "overall , the complexity of the sheet - finding procedure is bounded by @xmath80 .",
    "while the mapping algorithm itself scales polynomially with the size of the cycle graph , we can not make any claims regarding the size of the cycle graph given an optimised topological circuit .",
    "the size of the cycle graph is essentially related to the number of 90@xmath81 `` pivots '' made by defects in the topological circuit we do not know yet how big , in general , this set is for a given circuit specification .",
    "current methods in systematic optimisation for topological circuits are still in their infancy @xcite and determining the scaling of the number of these pivots for a given number of logical qubits is unknown .",
    "however , the physical size of the topological circuit ( in terms of the physical volume of cluster needed to implement the circuit at a fixed error correction strength ) has marginal influence on the scaling of the mapping algorithm itself . instead , the scaling of the mapping algorithm will be dominated by the total number of pivots made by the input circuit specification .    *",
    "correctness : * checking the correctness of the algorithms , implies verifying their termination and the fact that the correct physical qubit coordinates are computed . again , for the algorithm in eqn .",
    "[ alg : tubes ] , the termination is guaranteed because a single traversal of the cycle - graph is necessary . the correctness of the computed coordinates is shown by comparing the algorithm instructions with figure [ fig : holes ] .",
    "the direction @xmath82 ( line 4 ) is associated with the green line in the figure , where @xmath83 and @xmath84 are the @xmath8 coordinates of the edge vertices .",
    "for example , let us consider that the two cells from the lower defect are @xmath83 and @xmath84 .",
    "this implies , that by selecting the two neighbouring coordinates ( line 7 ) , the co - ordinates of the green marked qubits ( the defect set @xmath85 ) is computed .",
    "the remaining @xmath69 qubits ( line 8) that do not belong to @xmath85 are the light blue marked qubits , which are associated with the _ tube _ correlation surface that surrounds the defect region .",
    "one has to note , that for defects with a cross - section larger than a cluster - cell , the set union operations on line 10 and line 12 are to be interpreted as @xmath86 , meaning that if element @xmath87 existed in the set @xmath88 it will be removed , otherwise it will be included .    the termination of the sheet - finding algorithm ( eqn .",
    "[ alg : sheet1 ] ) can be illustrated by starting from the fact that the geometric description is mapped into a 3d representation where only 6 segment directions are possible ( see the discussion of the @xmath74 and @xmath78 rules ) .",
    "a geometrically described defect configuration of a logical qubit ( in the absence of any possibility to apply @xmath78 or @xmath77 ) will have an even number of edges in its associated graph .",
    "considering all the worst - case geometries ( an example is figure [ fig : proof ] ) , it can be seen that after a graph - traversal , either @xmath74 or @xmath78 ( followed by @xmath77 ) can be be applied .",
    "the number of maximum consecutive @xmath89 is bounded by @xmath73 .",
    "thus , the number of graph - vertices is continuously reduced , and the termination of the algorithm is guaranteed .",
    "the correctness of the coordinates computed from the sub - sheets is shown by comparing the lines 3 and 4 of eqn .",
    "[ alg : sheet2 ] with figure [ fig : holes]b ) . for a logical qubit @xmath50 of type @xmath57 , the set of all possible _ side qubits _",
    "( depicted gray in figure [ fig : lclust ] for a single cell ) is @xmath90 .",
    "for the two defects from figure [ fig : holes]b ) the instruction on line 3 will return the coordinates of both the orange and the blue marked qubits , which intersected with @xmath90 will return only the blue qubits .",
    "these are the ones necessary for the computation of a sub - sheet . if two sub - sheets overlap ( which is possible , given the way the algorithm in eqn . [ alg : sheet1 ] functions ) , then the intersection set is not part of the set of qubits defining the complete sheet of a logical qubit ( line 4 ) .",
    "a final detail that needs explanation is that the approach , by finding sub - sheets , is correct .",
    "initially , one has to consider that for tqc , by deforming the defect geometries , does not change the computation , because the topology of the description is relevant , and not its geometry .",
    "for this reason , for each individual logical qubit described as a graph , the @xmath74 operation is valid , because the sheets of two topologically equivalent geometries will differ only in sub - sheet .",
    "for example , in the last panel of figure [ fig : corect]b ) , the subsheet @xmath91 is the difference between the equivalent geometries : before and after applying the @xmath74 operation .",
    "another fact about the correctness of sub - sheet - finding appears when one considers the example presented in figure [ fig : corect]a ) .",
    "let us consider , the three qubits @xmath92 . deforming the defect implies , that the qubits @xmath93 are not part of the defect anymore , and that @xmath94 are parts of the new _",
    "boundary_. this is equivalent to stating that the sub - sheet containing the qubits @xmath95 was created , and that after the change the complete sheet will contain @xmath96 .",
    "it should be noted that the correctness of the mapping algorithm already assumes that the given topological circuit has been verified with respect to the initial circuit specification . in general , a compressed topological circuit may bare little resemblance to the original un - optimised circuit . before a topological",
    "circuit is input to the mapping algorithm , we assume that it has been verified against the initial specification and consequently the qubits sets generated from the mapping algorithm will faithfully realise the original circuit when implemented in hardware .",
    "optimisation of topological circuits may employ a technique known as bridge compression @xcite which connects closed loop topological structures together .",
    "the algorithm detailed in this work is not currently designed to handle circuits containing bridged components , however modifying the algorithm to process arbitrary structures will be possible as arbitrary geometric shapes can still be decomposed into simple cycle - graphs .",
    "these modifications are the subject of future work .",
    "in this paper we presented the first mapping algorithm that translates a topological quantum circuit into the specific measurement patterns required by the quantum hardware .",
    "we have also illustrated the necessary algorithm for the construction of correlation surface needed to appropriately track information as it propagates through the circuit .",
    "the mapping of a topological circuit specification to the physical measurements in the lattice is one of many classical components necessary for realisation of quantum circuits .",
    "this classical library consists of both office and online components .",
    "offline software processing consists of the compilation and optimisation of a topological quantum circuit @xcite and the mapping of this structure to the physical lattice .",
    "online classical processing relates to the real - time decoding and processing of error correction data using algorithms such as minimum weight perfect matching @xcite and renormalisation group techniques @xcite .",
    "ultimately , all classical processing will need to be integrated together to form a complete software package for controlling topological quantum computers .",
    "this work is not only a necessity for the future operation of topologically protected quantum computation , but it is also a requirement for appropriate verification packages for topological circuit synthesis . the accurate construction of correlation surfaces allow us to compare the operation of a topological circuit against the abstract quantum circuit it is derived from .",
    "this is important as optimisation techniques for topological quantum circuits often result in structures that bare little resemblance to the original circuit specification .",
    "the further development of verification protocols is the focus of future work .",
    "* the mapping procedure . * the algorithms to compute the classical control information are presented in detail in this section . for this purpose , we first describe several functions to translate information between the geometric description , the cycle - graphs and the tuple representation of logical qubits .    function @xmath97 returns the type of a geometric segment that was translated into a graph edge .",
    "the segment type is used after physical qubits associated with the segment have been calculated in order to decide which set from @xmath50 they belong to .",
    "function @xmath98 takes @xmath50 and the segment type as inputs and returns the corresponding coordinate set of physical qubits that belongs to segments of @xmath50 with the specified type .",
    "for example , physical qubits from a segment of type @xmath99 it will be added to the set @xmath63 , and for @xmath100 segments the @xmath59 is returned .",
    "function @xmath101 yields the lattice - direction of the segment represented by the given edge .",
    "a further function @xmath102 is used to indicate the @xmath103-th neighbour of vertex @xmath46 in the direction of the hamiltonian path .",
    "function @xmath104 returns the vector representing the lattice coordinates of a graph vertex @xmath105 .",
    "the inverse function @xmath106 is used to infer the vertex given the lattice coordinates .    the function @xmath107 ; @xmath108 returns vertex @xmath87 mirrored at the line through its predecessor and successor in the cycle - graph , while the @xmath109 returns either @xmath83 or @xmath110 depending which is closer to vertex @xmath87",
    ". the mapping starts by constructing for each geometrical description of a logical qubit @xmath37 from @xmath35 the cycle - graph @xmath111 .",
    "then , the corresponding tuple @xmath112 is initialised by setting @xmath57 to primal or dual according to the desired type and @xmath113 .",
    "sets @xmath114 are constructed by the algorithm shown in eqn .",
    "[ alg : tubes ] . recall that @xmath115 is either @xmath116 or @xmath117 , depending on whether @xmath50 is primal ( @xmath118 ) or dual ( @xmath119 ) .",
    "the algorithm traverses the cycle - graph @xmath120 .",
    "the lattice - direction @xmath82 associated with each edge of the graph is computed .",
    "for each cell @xmath121 of a segment , @xmath122 is its complete set of physical face qubits ( see section [ sec : background ] ) .",
    "two face qubits along the segment are defect - internal and added to @xmath123 .",
    "the remaining four qubits are part of the tube correlation surface and added to set @xmath124 that is then added to @xmath115 .",
    "coordinates of injection points are always found at the middle of the @xmath125 segment ( line 15 ) .",
    "the coordinates of the qubits on @xmath126 segments are added to the corresponding sets @xmath127 and @xmath128 as given by @xmath129 at line 12 ;    @xmath130    the sheet surfaces of each @xmath120 are found by a procedure that iteratively reduces the graph until it consists of just two vertices .",
    "the procedure constructs a sheet by finding one sub - sheet in each iteration , where a sub - sheet contains physical qubits bounded by a rectangle in either @xmath131 , @xmath132 or @xmath133 plane .",
    "each sub - sheet is specified by two points @xmath134 where @xmath135 define the diagonal of the rectangle and have one equal component .",
    "sub - sheets found by the procedure in different steps are disjoint , and the union of all found sub - sheets is the complete sheet .",
    "figure [ fig : tubesheet]d ) illustrates a complete sheet composed of sub - sheets , and figure [ fig : tubesheet]e ) shows the progressive calculation of sub - sheets ( both figures will be discussed in more detail later ) .",
    "the procedure transforms the graph by eliminating or moving vertices , while sub - sheets are calculated . without giving a full formal proof for correctness of these transformations ( such a proof will require advanced quantum computing concepts which are out of this paper s scope )",
    ", we illustrate the modification of a sheet boundary in figure [ fig : corect ] .",
    "the dashed line in the figure is indicating the direction of one defect involved in generating the sheet surface @xmath136 . by changing the direction of the defect , the boundary @xmath137",
    "is transformed into @xmath138 . in terms of sub - sheets",
    ", the sub - sheet @xmath139 is added after the change of defect direction .",
    "the algorithm illustrated in eqn .",
    "[ alg : sheet1 ] , used to compute the @xmath140 set of sub - sheets for each logical qubit , will remove vertices of the graph , by constantly traversing it ( lines 3 , 20 ) , until only @xmath141 vertices are left ( line 2 ) .",
    "[ alg : sheet2 ] takes each @xmath140 set and constructs @xmath142 of each logical qubit tuple @xmath37 . for the subsheet @xmath143 the function @xmath144 \\cap tqcc$ ] constructs the set of coordinates able to represent physical qubits .    considering the structure of the lattice and the way the geometrical descriptions",
    "are constructed , it can be noticed that the cycle - graphs have an even number of vertices .",
    "it should be also noted that the @xmath145 operation is not directly applied by the algorithm , and the number of vertices is modified only during the @xmath78 operation , or after the @xmath74 operations is applied .",
    "_ the reduce operation : _ the algorithm illustrated in eqn .",
    "[ alg : sheet1 ] modifies the graph by applying the the @xmath78 operation .",
    "the path is reduced if for @xmath146 consecutive edges , the first and the second edge represent opposite associated directions into the lattice ( line 10 ) .",
    "for example , in figure [ fig : corect]b ) this is the case for the edges @xmath147 , where @xmath148 and @xmath149 have opposite directions .    the @xmath150 operation is defined as the sequential application of : @xmath151    we illustrate the reduce operation by applying it to vertices @xmath152 and @xmath85 of figure [ fig : corect]b ) .",
    "the sets @xmath153 , @xmath154 , @xmath155 are constructed . because @xmath156 and @xmath157 , the set @xmath158 is equal to @xmath159 and @xmath160 .",
    "after the vertices from @xmath161 are removed , no further vertices are inserted or removed because the corresponding sets are empty . however , for the example in figure [ fig : corect]b ) this is not the case as @xmath162 , thus effectively removing the vertex @xmath163 and inserting vertex @xmath164 .",
    "_ the reshape operation : _ in order for the graph to be reduced , it may be required to represent an equivalent geometrical description .",
    "thus , vertices are not removed or deleted , but moved ( @xmath73 remains constant ) .",
    "the @xmath165 operation is the sequential application of : @xmath166    in the context of the algorithm in eqn .",
    "[ alg : sheet1 ] , the function is called if during a complete graph traversal the @xmath78 operations could not be applied .",
    "for the example of figure [ fig : corect]b ) , where @xmath167 is called , the resulting graph will be obtained by removing @xmath152 and inserting @xmath168 .",
    "applying @xmath74 for a second time at the same position would undo the initial application , thus @xmath169 is the inverse of @xmath170 .",
    "therefore , the @xmath76 pivot ( line 3 ) , used for checking if a traversal completed ( line 20 ) , is updated ( line 24 ) .",
    "the maximum number of cycle traversals is @xmath80 , when after each traversal a @xmath74 operation is required , while the number of consecutive @xmath74 operations is bounded by @xmath171 .",
    "the number of vertices of the cycle - graph is initially even due to the shape properties of the geometrical descriptions .",
    "moreover , it remains even during the execution of the algorithm .",
    "operation @xmath78 eliminates exactly two vertices from the graph ( set @xmath161 ) , while the sets of further added and deleted vertices ( @xmath172 and @xmath173 , respectively ) are always of the same size .",
    "operation @xmath74 does not add or delete vertices .",
    "however , three consecutive vertices may represent a straight line after a @xmath74 operation , in which case they are replaced by two vertices ( line 14 ) .",
    "it can be shown that one further vertex elimination must follow , keeping the overall number of vertices even .",
    "@xmath174    @xmath175    24 natexlab#1#1url # 1`#1`urlprefix    dennis , e. , kitaev , a. , landahl , a. & preskill , j. . _ j. math .",
    "phys . _ * 43 * , 4452 ( 2002 ) .",
    "fowler , a. , stephens , a. & groszkowski , p. .",
    "a. _ * 80 * , 052312 ( 2009 ) .",
    "raussendorf , r. , harrington , j. & goyal , k. .",
    "_ new j. phys . _ * 9 * , 199 ( 2007 ) .",
    "fowler , a. & goyal , k. .",
    "comp . _ * 9 * , 721 ( 2009 )",
    ".    stock , r. & james , d. .",
    "_ * 102 * , 170501 ( 2009 ) .",
    "devitt , s. _ et  al . _ .",
    ". j. phys . _",
    "* 11 * , 083032 ( 2009 ) .",
    "meter , r.  v. , ladd , t. , fowler , a. & yamamoto , y. . _",
    "_ * 8 * , 295323 ( 2010 ) .",
    "jones , n.  c. _ et  al . _ .",
    "x. _ * 2 * ( 2012 ) .",
    "yao , n. _ et  al .",
    "_ nature communications _ * 3 * , 800 ( 2012 ) .",
    "ladd , t.  d. _ et  al . _ .",
    "_ nature ( london ) _ * 464 * , 4553 ( 2010 ) .",
    "ghosh , j. , fowler , a.g . , &",
    "geller m.r . .",
    "a. _ * 86 * , 062318 ( 2012 ) .",
    "nemoto , k. _ et  al .",
    "_ arxiv:1309.4277 _ ( 2013 ) .",
    "fowler , a.g .",
    ", mariantoni , m. , martinis , j.m . , & cleland , a.n . .",
    "a. _ * 86 * , 032324 ( 2012 ) .",
    "shor , p. .",
    "_ siam journal of sci .",
    "* 26 * , 1484 ( 1997 ) .",
    "devitt , s. , stephens , a. , munro , w. & nemoto , k. .",
    "_ arxiv:1212.4934 _ ( 2012 ) .",
    "bullock , s. & markov , i. .",
    "comp . _ * 69 * , 062321 ( 2004 ) .",
    "shende , v. , bullock , s. & markov , i. .",
    "_ ieee trans . on computer - aided design _",
    "* 25 * , 10001010 ( 2006 ) .",
    "whitney , m. , isailovic , m. , patel , y. & kubiatowicz , j. .",
    "4th international conference on computing frontiers _ 8394 ( 2007 ) .",
    "van dam , w. , dariano , g.  m. , ekert , a. , macchiavello , c. & mosca , m. .",
    "lett . _ * 98 * , 090501 ( 2007 ) .",
    "maslov , d. , falconer , s. & mosca , m. . _ ieee transactions on computer - aided design of integrated circuits and systems _ * 27 * , 752763 ( 2008 ) .",
    "patel , k. , markov , i. & hayes , j. .",
    "* 8 * , 282294 ( 2008 ) .",
    "amy , m. , maslov , d. , mosca , m. & roetteler , m. .",
    "_ arxiv:1206.0758 _ ( 2012 ) .",
    "bravyi , s. & kitaev , a. .",
    "a. _ * 71 * , 022316 ( 2005 ) .",
    "dawson , c. & nielsen , m. .",
    "comp . _ * 6 * , 8195 ( 2006 ) .",
    "paler , a. , devitt , s. , nemoto , k. & polian , i. .",
    "_ nanoscale architectures ( nanoarch ) , 2012 ieee / acm international symposium on _ ( 2012 ) .",
    "raussendorf , r. , browne , d. & briegel , h. .",
    "a. _ * 68 * , 022312 ( 2003 ) .",
    "nielsen , m. & chuang , i. _ quantum computation and information _",
    "( cambridge university press , 2000 ) .",
    "paetznick , a. & fowler , a.g .",
    "_ quantum circuit optimisation by topological compaction in the surface code _ _ arxiv:1304.2807 _ ( 2012 )    fowler , a.g . & devitt , s.j . _ a bridge to lower overhead quantum computation _ _ arxiv:1209.0510 _ ( 2012 )    fowler , a.g . _",
    "minimum weight perfect matching in o(1 ) parallel time .",
    "_ _ arxiv:1307.1740 _ ( 2013 )    duclos - cianci , g. & poulin , d. _ fast decoders for topological quantum codes _ _ phys .",
    "lett . _ * 104 * , 050504 ( 2010 )",
    "we thank a.g . fowler for helpful discussions . s.j.d . and k.n .",
    "acknowledge support from the hayao nakayama foundation for science & technology and culture , the quantum cybernetics ( mext ) and first projects , japan .",
    "a.p . and i.p",
    "acknowledge support from dfg project po1220/3 - 1 and bayfor grant ..",
    "a.p . and s.j.d .",
    "conceived the idea . a.p . and i.p .",
    "were responsible for algorithmic simulations .",
    "s.j.d . and k.n .",
    "were responsible for results verification .",
    "all authors were responsible for drafting of the manuscript .",
    "correspondence and requests for materials should be addressed to a.p .",
    "( alexandru.paler@uni-passau.de ) .",
    "the authors declare no competing financial interests .",
    "( @xmath16)-eigenstate information for primal ( dual ) defects ) and figure * b ) * is for chain operators ( the @xmath16 ( @xmath25)-eigenstate information for primal ( dual ) defects ) .",
    "these sets define defects ( green circles ) , logical operators ( orange squares ) and correlation surfaces ( blue triangles ) for a single logical qubit undergoing the identity operation .",
    "a shorthand notation is illustrated in the inserts .",
    "this figure illustrates for minimum sized defects ( and hence the smallest distance quantum code ) .",
    "figure * c ) * illustrates initialisation in the @xmath16 , @xmath25 basis and state injection .",
    "state injection is where in individual qubit is measured in a rotated @xmath16 basis ( the vertex of the pyramids ) and then expanded to form an encoded defect , this allows us to achieve universality .",
    "the superimposed black vertices and lines are used to illustrate graph edges and vertices in the mapping algorithm .",
    ", width=566 ]     correlation surface on the control ( black lines ) is intersected by the target defect ( green line ) creating a correlation surface , @xmath29 in accordance with the properties of the cnot .",
    "* c ) * illustrated that the @xmath30 surface of the control does not become correlated , as required.,width=566 ]    . *",
    "the above illustrates for the graph @xmath177 .",
    "for example , starting from the vertex @xmath178 , the first possible operation is @xmath179 and a first sub - sheet is found @xmath180 .",
    "furthermore , because @xmath181 are co - linear will result in @xmath182 and @xmath183 .",
    "the cycle is traversed until the @xmath76 is reached again , and the first traversal completes .",
    "after the second traversal neither @xmath78 nor @xmath77 were applied .",
    "therefore , the @xmath184 is applied , and a second sub - sheet is found @xmath185 . finally the last two sub - sheets are inferred leading to @xmath186 .",
    "the complete sheet is found by combining all the sub - sheets according to the algorithm in eqn .",
    "[ alg : sheet2].,height=226 ]            , extending the boundary @xmath187 involving the qubits @xmath188 and the resulting boundary @xmath189 .",
    "* b ) * three types of graph operations to define a surface .",
    "the first , applying @xmath190 results in @xmath73 being decreased by @xmath141 , because @xmath191 are removed .",
    "after the operation , because @xmath192 correspond to co - linear lattice coordinates , @xmath193 can be further applied , and @xmath73 again decreased by @xmath141 . in the second case ,",
    "the @xmath190 is applied .",
    "the mirrored vertices @xmath194 are computed , with @xmath195 , thus @xmath196 .",
    "the vertices from @xmath197 will be inserted , and the vertices from @xmath198will be deleted . in the last case ,",
    "the effect of the @xmath167 operation is that vertex @xmath152 is replaced by vertex @xmath164 . afterwards",
    "@xmath199 and @xmath200 can be applied.,width=566 ]"
  ],
  "abstract_text": [
    "<S> topological quantum computation is a promising technique to achieve large - scale , error - corrected computation . </S>",
    "<S> quantum hardware is used to create a large , 3-dimensional lattice of entangled qubits while performing computation requires strategic measurement in accordance with a topological circuit specification . </S>",
    "<S> the specification is a geometric structure that defines encoded information and fault - tolerant operations . </S>",
    "<S> the compilation of a topological circuit is one important aspect of programming a quantum computer , another is the mapping of the topological circuit into the operations performed by the hardware . </S>",
    "<S> each qubit has to be controlled , and measurement results are needed to propagate encoded quantum information from input to output . in this work , we introduce an algorithm for mapping an topological circuit to the operations needed by the physical hardware . </S>",
    "<S> we determine the control commands for each qubit in the computer and the relevant measurements that are needed to track information as it moves through the circuit .    </S>",
    "<S> quantum computing is at a pivotal point in development . </S>",
    "<S> the major enabling factor is the greatly enhanced understanding of highly efficient quantum error - correcting codes which allow reliable operation of a quantum computer even when its individual qubits have very large error - rate . </S>",
    "<S> this paper focuses on the generic class of measurement - based topological quantum computers @xcite ( tqc ) , which combine several advantages that make them one of the most promising paradigms to build scalable quantum computers in the near future @xcite . </S>",
    "<S> tqc is based on advanced topological quantum error - correcting codes , where the quantum hardware produces a well defined array of qubits that are arranged and connected using quantum entanglement links in a regular 3d lattice .    </S>",
    "<S> tqc allows , in principle , a reliable realisation of large quantum algorithms , such as the shor algorithm to factor numbers in polynomial time @xcite , a task that is not efficiently possible on a classical computer . </S>",
    "<S> however , implementing complex functionality requires specific design flows based on clear abstraction levels and automated synthesis steps . in case of classical circuits , </S>",
    "<S> the design stack typically includes algorithmic level , register - transfer level , gate level , transistor level , and mask level ( sometimes , more levels are defined ) . in over 50 years of classical circuit design </S>",
    "<S> , a large variety of automated and semi - automated methods to translate a design from a higher level to a lower level have been developed . for quantum algorithms based on the tqc paradigm , </S>",
    "<S> a design stack can also be defined ( figure [ stack ] ) . </S>",
    "<S> a quantum algorithm , such as the shor algorithm , is first transformed into a quantum circuit consisting of quantum gates ( each gate is a manipulation of typically 1 , 2 or 3 qubits that can be described by a unitary matrix ) . </S>",
    "<S> this step is required for tqc and all other quantum architectures , and substantial body of work on gate - level design and optimisation has been published both in quantum physics and in computer engineering community @xcite .    </S>",
    "<S> tqc circuits allow for a generic geometric description that abstracts from details , in particular the underlying error correction , which is sufficient to capture relevant algorithmic interactions . the geometric structures in the tqc circuit , representing encoded qubits and encoded gates are embedded ( via physical qubit measurements ) within the physical 3-dimensional lattice . </S>",
    "<S> the model provides direct support for only a restricted subset of quantum operations , due to symmetries necessary for error correction to function , and if the high level circuit contains arbitrary gates , they must first be mapped to the supported operations using a series of well - known steps @xcite . </S>",
    "<S> after that , the circuit can be translated into its canonical geometric representation where each gate has a corresponding region of the 3d lattice where it is implemented . the first automated optimisation method for a restricted case of two - dimensional descriptions </S>",
    "<S> was presented in @xcite .    </S>",
    "<S> this paper focuses on the next synthesis step : mapping of the geometric description to the physical level . </S>",
    "<S> the output of the mapping consists of two parts : a direct instruction set for the quantum hardware and a classical instruction set for data processing . </S>",
    "<S> the geometric description of the tqc circuit specifies a layout of how logical qubits should be arranged within the lattice of physical qubits . </S>",
    "<S> the physical size and separation of these structures is proportional to the error correction strength needed for computation . </S>",
    "<S> tqc operates by performing measurements on physical qubits within the lattice . </S>",
    "<S> the type of measurement depends on whether a given physical qubits is inside or outside the geometric region defining a logical qubit . </S>",
    "<S> the instruction set for the quantum hardware consists of translating the geometric structure to a specific set of individual measurement instructions for the physical qubits in the lattice .    the classical data processing information is also required for byproduct calculation . within a tqc circuit , large sets of physical qubits form what is known as a correlation surface . </S>",
    "<S> these sets connect the inputs of a quantum circuit to the outputs . </S>",
    "<S> the overall parity of these correlation surfaces ( when they are measured ) tells us how the logical information must be corrected in order to successfully propagate from input to output . </S>",
    "<S> the classical control software of a tqc must know these structures in order to successfully operate . </S>",
    "<S> therefore , for a tqc circuit specification , the determination of the physical qubit sets that define correlation surfaces and how they interact is non - trivial and constitutes the by far most complex part of the mapping algorithm .    </S>",
    "<S> the result of the mapping algorithm is a 3d lattice of qubits along with instructions how to use it . </S>",
    "<S> this is vaguely related to the general - purpose hardware and the customised software of a classical microprocessor . </S>",
    "<S> note that tqc is technology - independent : any implementation where qubits can be arranged in two or three dimensions can be used to realise this model @xcite . </S>",
    "<S> therefore , our work closes the gap between the high - level synthesis ( which reaches up the geometric description level ) and technology - oriented physical implementation approaches . </S>",
    "<S> it is the foundation for the first complete automated flow from the quantum algorithm to the implementation .    </S>",
    "<S> the physical qubits are arranged in a large three - dimensional lattice and are entangled to form a single , massive , universal quantum state . </S>",
    "<S> a universal state is a specific quantum state that can be used to implement any fault - tolerant quantum algorithm via measurement of each qubit in the state @xcite . </S>",
    "<S> the unit cell of the lattice is illustrated in fig .  </S>",
    "<S> [ fig : lclust]a ) . prior to actual computation , </S>",
    "<S> each qubit is initialised in the superposition state , @xmath0 . </S>",
    "<S> once all qubits are initialised , a two - qubit gate is used to entangle any two qubits that are connected in the lattice with an edge . </S>",
    "<S> the unit cell is the building block of the lattice , and its structure is repeated along three dimensions , which are denoted by @xmath1 ( width ) , @xmath2 ( height ) and @xmath3 ( time ) . </S>",
    "<S> tqc is implemented via sequential measurement of a 2d cross section of the full 3d lattice . </S>",
    "<S> information is propagated along the third axis of the lattice via the entanglement links , with processing occurring during these teleportation steps . </S>",
    "<S> hence the third dimension of the physical lattice is identified with the temporal axis ( @xmath3-axis ) .    </S>",
    "<S> one general unit cell of the lattice has 27 ( @xmath4 ) vertex positions , 18 of which are occupied by physical qubits , denoted by gray and black circles in figure  [ fig : lclust]a ) . </S>",
    "<S> a lattice with @xmath5 unit cells has a total of @xmath6 positions , because neighboring cells share a side . </S>",
    "<S> all physical qubits in the complete lattice form the set @xmath7 . </S>",
    "<S> the positions not occupied by qubits form the set @xmath8 . a position @xmath9 must be the center of a unit cell . </S>",
    "<S> the physical qubits at the faces of such a cell ( six gray circles in figure  [ fig : lclust]a ) are denoted by @xmath10 , and the qubits at the sides ( 12 black circles in figure  [ fig : lclust]a ) are denoted by @xmath11 . </S>",
    "<S> the set of all qubits of a cell is @xmath12 . </S>",
    "<S> note that @xmath7 is the union of these sets for all the cells in the lattice .    </S>",
    "<S> the topological lattice contains two self - similar lattices that are interlaced ( see figure [ fig : lclust]b ) ) . </S>",
    "<S> the primal lattice ( with corresponding @xmath13 ) contains all the cells having odd coordinates , and the dual lattice ( with corresponding @xmath14 ) contains all the cells having even coordinates . if eight dual cells of the lattice are arranged into a cube , then a primal cell exists at the intersection point , and therefore the set of all physical qubit coordinates in the lattice can be expressed as @xmath15 .    </S>",
    "<S> physical qubits ( organised in cells arranged in a 3d - lattice , as described above ) are used to encode logical qubits . </S>",
    "<S> the underlying lattice is a computational resource for the logical layer , similar to how the hardware is a computational resource for the physical layer . </S>",
    "<S> however , at the logical layer , all operations are error - corrected , implying that logical qubits are initialised , operated on and measured using logical operations . </S>",
    "<S> it should be noted that the logical information is not decoded prior to any logical operation and afterwards re - encoded ; operations are applied directly on encoded physical qubit states . </S>",
    "<S> valid operations within the logical space are designed specifically such that physical errors do not cascade to cause uncorrectable faults . </S>",
    "<S> therefore , the tqc model is known as a fault - tolerant model of quantum computation .    </S>",
    "<S> the geometric structures , which define encoded qubits , are created by measuring relevant physical qubits in the @xmath16 basis ( @xmath17 states ) . </S>",
    "<S> this effectively creates a hole in the lattice , known as a defect . </S>",
    "<S> it is the defects that encode information . </S>",
    "<S> two types of logical qubits can be defined depending in which of the lattices the @xmath16 measurements of physical qubits are performed and consequently where defects are created . </S>",
    "<S> the physical qubits sets @xmath18 and @xmath19 represent the physical qubits that are internal to defects which are measured in the @xmath16 basis , with @xmath20 and @xmath21 . </S>",
    "<S> primal defects are created by measuring qubits in the set @xmath22 and dual defects are created by measuring qubits in the set @xmath23 .    </S>",
    "<S> figure  [ fig : holes ] illustrates the structure of two defects which encode a single logical qubit ( the unit cells that are not relevant for the defects are not shown ) . in this structure </S>",
    "<S> a temporal axis is defined running from the front of the structure to the rear and this encoded qubit is undergoing a simple identity operation . </S>",
    "<S> i.e. the input of this topological circuit starts on the 2d layer at the front of the image and via measurement is teleported to the 2d layer at the rear . </S>",
    "<S> there are three sets of physical qubits that are relevant for the mapping . </S>",
    "<S> one is the sets @xmath24 that are used to define primal ( dual ) defects . </S>",
    "<S> these qubits are illustrated in figure [ fig : holes ] as green circles and are measured in the @xmath17 basis to simply remove them from the lattice . </S>",
    "<S> the second set are known as logic operators . </S>",
    "<S> logic operators are sets of physical qubits whose parity determine the logic state of the encoded information . </S>",
    "<S> two types of logic operators exist , one is a loop operator that completely encircle an encoded defect . </S>",
    "<S> the second is a chain that connects both defects ( illustrated by orange squares in figure [ fig : holes]b ) ) .    for primal ( dual ) defects , </S>",
    "<S> the loop operators correspond to the logical @xmath25 ( @xmath16 ) operator while the chain corresponds to the logical @xmath16 ( @xmath25 ) operator . </S>",
    "<S> the final set of relevant qubits are illustrated as blue triangles in figure  [ fig : holes ] . </S>",
    "<S> these sets are known as correlation surfaces . </S>",
    "<S> the correlation surface connects logic operators from an input layer in the cluster to an output layer . the ring and chain operators need to be connected from the input layer ( front of the image ) to the output ( rear of the image ) . </S>",
    "<S> the qubits illustrated in blue perform this operation . </S>",
    "<S> if each qubit in blue is measured in the @xmath26 state ( @xmath25 basis ) we connect the chain ( ring ) operators from the input side to the chain ( ring ) operators on the output side . if we wished to measure the logical state , by measuring and calculating the parity of the logical operator we would measure each physical qubit in the @xmath16 basis . by measuring these qubits in the @xmath25 basis instead , </S>",
    "<S> the logical information is teleported to the next layer in the lattice , with a correction that is determined by the parity of the @xmath25 basis measurements . </S>",
    "<S> the correlation surfaces form either sheets or tubes . for primal ( dual ) defects , </S>",
    "<S> sheets are the logical @xmath27 ( @xmath28 ) surfaces and tubes are the logical @xmath29 ( @xmath30 ) surfaces . in order to track information as it moves through the lattice , </S>",
    "<S> we need to know which qubits are associated with these surfaces , as the parity of these measurements will dictate the correction that needs to be applied to encoded information as it moves through the lattice .    </S>",
    "<S> the primary goal of this work is , given a geometric definition of a tqc circuit , to determine the information needed by the ( classical ) control software of a quantum computer in order to operate tqc hardware that implements a circuit . </S>",
    "<S> this information includes the measurement basis of the physical qubits . in figure  </S>",
    "<S> [ fig : holes ] , the solid circle qubits ( defect - internal ) are measured in @xmath16 basis whereas the triangle qubits ( correlation surfaces ) , square qubits ( input / output ) and white qubits ( qubits for error correction ) are measured in @xmath25 basis . </S>",
    "<S> moreover , the measurement outcomes for qubits in correlation surfaces are needed to calculate corrections to encoded data as they propagate through more complicated topological structures that are not considered here . </S>",
    "<S> therefore , the mapping procedure must identify the physical qubits for each correlation surface ( @xmath31 and @xmath32 ) .    </S>",
    "<S> other geometric structures , corresponding to specific logic operations , are shown in figure [ fig : holes]c ) . for a primal pair of defects </S>",
    "<S> , the horseshoe structure corresponds to initialising a qubit in the @xmath33 state , the pair of parallel defects correspond to initialisation in the @xmath34 state and the third structure corresponds to state injection . </S>",
    "<S> state injection allows us to introduce an arbitrary state into the tqc lattice by measuring a single physical qubit that exists at the vertices of the pyramid structure . </S>",
    "<S> state injection is instrumental in the tqc model to achieve universal computation @xcite . in figure </S>",
    "<S> [ fig : holes]c ) the temporal axis runs from left to right . in order to perform logical measurement </S>",
    "<S> , we use the exactly same structures , but in the reverse temporal direction ( this allows for measurement in the @xmath17 and @xmath26 basis , i.e. @xmath16 and @xmath25 bases ) . </S>",
    "<S> the regions that are marked as grey and green correspond to the sets of physical qubits whose parity defines the parity of the initial encoded qubits .    </S>",
    "<S> the concept of state injection in the topological model is instrumental for achieving universality . </S>",
    "<S> the power of quantum computation is intricately related to the introduction of these injected states and their consumption to realise non - clifford gates through teleportation . however , in the context of this mapping algorithm , there is essentially no difference in the classical computation associated with the geometric structures in fig . </S>",
    "<S> [ fig : holes]c ) . while the right most structure in fig . </S>",
    "<S> [ fig : holes]c ) represents the injection of a non - trivial encoded state , the sets of physical qubits that define byproduct operators for this newly created state are no more complex to calculate than the sets associated with standard clifford initialisation . </S>",
    "<S> therefore , the introduction of injected logical states and the realisation of non - clifford gates in a topological circuit poses no complexity problem for the mapping algorithm .    </S>",
    "<S> the mapping problem of a tqc circuit is the accurate determination of physical qubits in the topological lattice corresponding to relevant correlation surfaces that define the operation of the circuit . </S>",
    "<S> the input to this algorithm is a suitably optimised topological circuit that is compatible with the error - corrected model and hence the underlying computational hardware . </S>",
    "<S> algorithmic constraints at both the physical and logical level have already been taken into account via the construction and optimisation of the input circuit . before formally introducing the problem , </S>",
    "<S> we illustrate it through the example of a cnot operation implemented via a braid operation between two encoded defects ( figure  [ fig : cnot1 ] ) . </S>",
    "<S> a correlation surface that begins on primal defects can not terminate on dual defects and vice versa . </S>",
    "<S> therefore , as defects are braided , a correlation surface extends around the qubit involved in the braid . </S>",
    "<S> it is this interaction that entangles the logical qubits .    </S>",
    "<S> figure  [ fig : cnot1 ] illustrates how correlation surfaces are defined , using the shorthand notation that is illustrated in the inserts of figures [ fig : holes]a ) and b ) . in figure  [ fig : cnot1]b ) </S>",
    "<S> we show the @xmath28 correlation surface ( sheet ) on the control qubit ( a dual type defect ) . due to a braid with a primal defect </S>",
    "<S> , this correlation surface must extrude around the second defect and forms a tube . </S>",
    "<S> this correlates the outputs of the two qubits when the control qubit is in an @xmath25-basis eigenstate . </S>",
    "<S> figure  [ fig : cnot1]c ) shows the @xmath30 correlation surface ( tube ) on the control qubit . here </S>",
    "<S> , the surface is not perturbed by the braid . </S>",
    "<S> therefore the output remains uncorrelated when the control is in a @xmath16-basis eigenstate . </S>",
    "<S> this circuit correlates output qubits in precisely the way needed to realise a cnot operation @xcite .    </S>",
    "<S> these surfaces are not specified with the tqc circuit , and therefore the mapping procedure must derive them from the geometric structure and map them to the actual set of qubits that are used in the lattice such that they can be tracked as the circuit is implemented . </S>"
  ]
}