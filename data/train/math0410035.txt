{
  "article_text": [
    "it is well known that in an @xmath2-tree the intersection of any two metric balls is itself a metric ball . in this paper",
    "we will show that this is actually a characterization of @xmath0-trees , and that , more generally , the geometry of the intersection of balls encodes information about the curvature of a geodesic metric space .",
    "recall from @xcite , @xcite , @xcite or @xcite that a geodesic metric space is _ hyperbolic _ ( in the sense of gromov ) if there is a constant @xmath3 such that for any geodesic triangle , any one side is contained in the @xmath4-neighborhood of the union of the two other sides .",
    "we prove the following characterization of hyperbolicity .",
    "[ qb]a geodesic metric space @xmath5 is hyperbolic if and only if the intersection of any two metric balls is at uniformly bounded hausdorff distance from a ball .    studying curvature in terms of the geometry of the intersection of metric balls turns out to be very natural and both gromov hyperbolicity and the notion of cat(@xmath1 ) geometry may be characterised in theses terms ( see section [ ext ] ) .",
    "tracking constants in the proof of theorem [ qb ] , one can show that the hyperbolicity constant depends only on the eccentricity constant .",
    "as pierre pansu pointed out to us it is a then an easy observation to deduce that the hyperbolicity bound varies linearly with the eccentricity bound so we obtain :    [ rtreeschar ] a geodesic metric is an @xmath0-tree if and only if the intersection of any two balls is a ball .",
    "this characterisation of @xmath2-trees was first conjectured in an early version of this paper and wenger has independently established the conjecture using very different methods , see @xcite .",
    "our approach is entirely self - contained .",
    "the following notion is crucial for our purposes .",
    "[ eccentricity]we say that a set @xmath6 has _ eccentricity less than _ @xmath4 ( for some @xmath3 ) if there is @xmath7 such that @xmath8 for some @xmath9 . by convention",
    "the eccentricity of the empty set is 0 .",
    "we shall see that the intersection of balls having uniformly bounded eccentricity is also equivalent to hyperbolicity ( proposition [ hyp=>qb ] and lemma [ qb=>hyp ] ) .",
    "the paper is organized as follows . in section [ bigons ]",
    "we discuss the geometry of @xmath10-quasigeodesics following an idea of papasoglu in @xcite and pomroy in @xcite , which is an important step in the proof . section [ div ] discusses divergence functions and a quantitative version of a theorem in @xcite and a classical argument implying hyperbolicity .",
    "section [ proofs ] collects the proofs of theorem [ qb ] and corollary [ rtreeschar ] .",
    "the idea is to show that hyperbolicity is equivalent to intersections of balls having uniformly bounded eccentricity .",
    "one technical difficulty lies in the fact that the centre and radius of a ball are not , in general , well defined . when they are an elementary proof can be given as in section [ ext ] .",
    "pomroy s work appeared in his warwick university masters dissertation but has never been published . in the appendix",
    "we take this opportunity to place his main theorem on the record with our own variation on the proof .",
    "the figures may be found at the back of the paper , inserted prior to the bibliography .    _",
    "acknowledgements : _ the authors are extremely indebted to pierre pansu for pointing out to us that our bound on the hyperbolicity constant implied a linear bound via scaling .",
    "we would also like to thank theo buehler and deborah ruoss for pointing out an error in an early draft of this paper and chris hruska for the reference @xcite .",
    "finally we would like to thank hamish short for his comments on the classical argument proving that non - linear divergence of geodesics implies hyperbolicity .",
    "in this section we establish preliminary results concerning the geometry of geodesics and quasi - geodesics in a geodesic metric space .",
    "we start with the simple observation that if two geodesics are synchronously far apart , then they are asynchronously at least half as far apart as well .",
    "[ synchronous ] let @xmath11 and @xmath12 be geodesics with @xmath13 .",
    "if there exists @xmath14 such that @xmath15 then @xmath16 for all @xmath17 .",
    "suppose that there is an @xmath18 such that @xmath19 . then since @xmath11 is a geodesic we have @xmath20 . hence @xmath21 .",
    "but by hypothesis and the triangle inequality @xmath22 this is a contradiction .",
    "similarly , if there is an @xmath23 such that @xmath19 .",
    "then since @xmath11 is a geodesic we have @xmath24 . hence @xmath25 .",
    "but by hypothesis and the triangle inequality @xmath26 this is again a contradiction .    for a constant @xmath27",
    "a @xmath10-quasigeodesic is a continuous map @xmath28\\to x$ ] such that @xmath29 , @xmath30 and for all @xmath31 $ ] @xmath32 the points @xmath33 and @xmath34 are said to be the endpoints of @xmath11 .",
    "a @xmath10 quasi - geodesic bigon is a pair @xmath35 of @xmath10 quasi - geodesic bigons which have the same end points .",
    "the images of the quasigeodesics @xmath11 and @xmath12 in @xmath36 are called the _ sides _ of the @xmath37-bigon . for @xmath38 , we say that a @xmath37-bigon is @xmath39-_fat _ if there are @xmath40 such that @xmath41 and that it is @xmath39-_thin _ if it is not @xmath39-fat .",
    "the following remark provides an easy mechanism for constructing @xmath10 quasi - geodesics .",
    "let @xmath38 and @xmath42 in @xmath36 .",
    "a _ @xmath39-path _ from @xmath43 to @xmath44 is a continuous path @xmath45 from @xmath43 to @xmath44 such that , for any @xmath46 for some @xmath47 @xmath48 given any point on @xmath49 on a @xmath50-quasi - geodesic with end points @xmath42 we obtain a @xmath39-path by taking a broken geodesic @xmath51 .",
    "the main result in this section is that if two geodesics start at the same point and travel `` almost parallel '' for long enough , then this ensures the existence of @xmath52-bigons for any @xmath53 whose fatness depends on the distance between the two geodesics .",
    "the proof of this follows the outline in @xcite .",
    "more precisely we prove the following .    [ meat]let @xmath5 be a geodesic metric space , and choose integers @xmath54 with @xmath55 , @xmath56 .",
    "assume that there are two geodesics @xmath11 , @xmath12 and a real number @xmath57 such that @xmath29 and @xmath58 $ ] for all @xmath59 .",
    "if @xmath36 does not contain a @xmath60-fat @xmath61-bigon then @xmath62 in words , there is an upper bound on the length for which two geodesics can travel at a controlled distance .    for the purpose of the proof",
    "we introduce a few definitions .",
    "take @xmath63 $ ] , we call an element @xmath64 a @xmath65-_point _ if @xmath66 .",
    "we say that @xmath47 is an integral @xmath65-point if @xmath47 is a positive integer and a @xmath65-point .",
    "we define the @xmath65-_distance _ between two integral @xmath65-points @xmath67 by @xmath68 and set @xmath69 if and only if @xmath70 .",
    "note that since we are assuming that @xmath71 are integers @xmath72 .",
    "the interval @xmath73 $ ] is covered by @xmath74 disjoint half open intervals of the form @xmath75 , where @xmath76 $ ] .    given that @xmath36 does not contain a @xmath60-fat @xmath61-bigon we claim the following :    _ claim : _ for any two integral @xmath65-points @xmath47 and @xmath77 , if @xmath78 , then @xmath79 we prove the above claim by induction over @xmath80 : first , for @xmath81 we have @xmath70 and @xmath82 because @xmath70 is a @xmath65-point .",
    "so we assume the claim is true for @xmath83 and show it for @xmath84 .",
    "given integral @xmath65-points @xmath71 with @xmath85 we let @xmath86 be the integral @xmath65 points such that @xmath87 note that @xmath88 because @xmath89 , and hence both @xmath90 and @xmath91 are greater than or equal to @xmath92 .",
    "set @xmath93 , as shown in figure 1 .",
    "suppose for a contradiction that @xmath94 .",
    "we will show that this implies the broken geodesics @xmath95 and @xmath96 form a @xmath60-fat @xmath61-bigon .",
    "since @xmath36 contains no such bigons we will conclude that in fact @xmath94 .    to see that @xmath95 is a @xmath61-path we use the fact that @xmath97 and that , by our induction hypothesis , @xmath98 : @xmath99 the last inequality comes from our supposition that @xmath94 .",
    "a similar argument shows that the broken geodesic @xmath96 is also a @xmath61-path if @xmath94 .",
    "now let @xmath100 be a point on the path @xmath96 which minimises the distance to @xmath101 .",
    "in particular @xmath102 .",
    "if @xmath100 lies on the arc @xmath103 then , by the triangle inequality , we compute : @xmath104 it follows that @xmath105 , which is a contradiction since we assumed @xmath56 and @xmath106 .",
    "it follows that @xmath100 must lie on the arc @xmath107 . but",
    "applying lemma [ synchronous ] to the geodesics @xmath35 with @xmath108 we see that @xmath109 and hence the bigon is @xmath60-fat as required . hence @xmath110 completing the induction .    now by the triangle inequality @xmath111 hence @xmath112 , so @xmath113 .",
    "so , @xmath114 , and @xmath115 because there are at least @xmath116 integer points in @xmath117 and each of these is a @xmath65-point for one of the @xmath74 possible values of @xmath65 .",
    "recall that for a geodesic metric space @xmath5 , a _ divergence function _ is a map @xmath118 such that for all @xmath119 , all @xmath120 and all geodesics @xmath121 $ ] , @xmath122 $ ] such that @xmath123 , if @xmath124 is such that @xmath125 and @xmath126 is a path in the closure of @xmath127 from @xmath128 to @xmath129 , then the length of @xmath126 is at least @xmath130 .",
    "we say that _ geodesics diverge in @xmath36 _ if there is a divergence function @xmath131 so that @xmath132 .",
    "papasoglu showed in @xcite[corollary 1.3 ] that a geodesic metric space @xmath5 is hyperbolic if and only if geodesics diverge in @xmath36 . here",
    "we provide a quantitive version of this result in order to relate the hyperbolicity constant for a space to the eccentricity bound .",
    "first , following @xcite we provide candidates for a divergence function .",
    "let @xmath133 and for @xmath124 define @xmath134 since @xmath36 is a geodesic space any path joining two points @xmath135 must have length at least @xmath136 , and setting @xmath137 it is easy to see that the function @xmath138 is a divergence function for @xmath36 .",
    "[ thinbigonsquant]let @xmath5 be a metric space such that any @xmath37-bigon is @xmath139-thin .",
    "then for @xmath140 and @xmath141 , any @xmath142 such that @xmath143 satisfies @xmath144 in words , @xmath145 and hence geodesic diverge .    before starting with the proof",
    "we show an intermediate result .",
    "suppose that @xmath5 is a metric space such that @xmath37-bigons are @xmath146-thin for some constant @xmath147 and some @xmath53 .",
    "let @xmath148 and @xmath149 .",
    "if two geodesics @xmath11 and @xmath12 starting at the same point are such that @xmath150 for some @xmath7 and @xmath151 for some @xmath142 , then @xmath152\\ ] ] for any @xmath153 $ ] .",
    "let us denote by @xmath154 . take @xmath155 to be the midpoint on a geodesic @xmath156 from @xmath128 to @xmath129 .",
    "then the broken geodesics @xmath157 and @xmath158 form the sides of an @xmath159-bigon , which by assumption is @xmath160-thin . according to lemma [ synchronous ] , this bigon is at least @xmath161-fat since the distance between the two geodesics is more than @xmath162 at time @xmath163 .",
    "hence @xmath164 .",
    "the upper bound is obtained in a similar way by looking at the broken geodesics @xmath165 and @xmath166 .",
    "they form a @xmath167-bigon , which by assumption is @xmath168-thin .",
    "but by lemma [ synchronous ] , this bigon is at least @xmath159-fat since the distance between the two geodesics is @xmath169 at time @xmath170 .",
    "hence @xmath171 as required .",
    "we now can easily prove proposition [ thinbigonsquant ] .",
    "since @xmath143 there are two geodesics @xmath11 and @xmath12 and @xmath120 such that    * @xmath29 * @xmath150 * @xmath172",
    ".    we can apply theorem [ meat ] with @xmath173 , @xmath174 and @xmath175 which can be done using the previous lemma with @xmath176 .",
    "the assumptions on @xmath162 and @xmath177 ensure that @xmath178 .    from now on",
    "we assume that @xmath140 so that the function @xmath138 satisfies the conclusions of proposition [ thinbigonsquant ] for appropriate constants .",
    "the next step is to replace the divergence function @xmath138 by a divergence function @xmath179 of exponential growth . given a rectifyable path @xmath126 , let us denote by @xmath180 its length .",
    "for @xmath124 we set @xmath181 where @xmath35 are geodesics , @xmath182 and the infimum is taken over all geodesics @xmath35 and all points @xmath119 and all @xmath183 .",
    "it is clear that if we define @xmath184 then @xmath179 is a divergence function on @xmath36 and that @xmath185 for all @xmath186 .",
    "the following shows that this divergence function has exponential growth .",
    "[ exponentialdivergence]for any @xmath187 and @xmath188 , then @xmath189 where @xmath190 and @xmath191 .",
    "in particular , @xmath179 has exponential growth .",
    "we start with an intermediate result .",
    "[ smalllemma ] if @xmath11 and @xmath12 are geodesics with @xmath192 and @xmath57 satisfies @xmath150 then @xmath193 , where @xmath194 is as in proposition [ exponentialdivergence ] .",
    "let @xmath195 be a geodesic joining @xmath196 to @xmath197 .",
    "suppose for a contradiction that @xmath195 has length less than @xmath198 so no point on @xmath195 lies in the interior of the ball @xmath199 , where @xmath200 .",
    "concatenate @xmath195 with the terminal subarcs of @xmath35 of length @xmath198 to obtain a path joining @xmath201 to @xmath202 .",
    "no point on this path lies in the interior of the ball @xmath199 so it must have length at least @xmath203 .",
    "on the other hand we see that the path has length @xmath204 which by assumption is less than @xmath205 so we get @xmath206",
    ". however @xmath207 by choice of @xmath194 and this is a contradiction .",
    "arguing by induction on @xmath208 it is enough to show that @xmath209 for any @xmath210 .",
    "if @xmath211 we are done so we can assume that @xmath212 is finite and therefore there are geodesics @xmath35 with @xmath182 and @xmath57 such that @xmath150 such that there is an arc @xmath126 in the closure of the complement of the ball @xmath213 which joins @xmath128 and @xmath129 and which has length less than @xmath214 .",
    "let @xmath215\\mid \\alpha(t)\\in b(x , r+r+n)\\}$ ] and @xmath216\\mid \\alpha(t)\\in b(x , r+r+n)\\}$ ] .",
    "note that @xmath217 and @xmath218 so the subarc @xmath219}$ ] must have length less than or equal to @xmath220 .",
    "let @xmath221 and @xmath222 be geodesics from @xmath43 to @xmath223 and @xmath224 respectively . by combining the triangle inequality lemma [ smalllemma ]",
    "we see that @xmath225 it follows that at least one of the three terms in the above sum must be greater than or equal to @xmath162",
    ". it can not be the middle term for the following reason : if @xmath226 then , by definition of @xmath179 , any path joining @xmath227 to @xmath228 which lies in the closure of the complement of the ball @xmath229 must have length at least @xmath212 so in particular the subarc @xmath219}$ ] must have length at least @xmath212 .",
    "on the other hand we observed that this subarc has length at most @xmath220 so we see that @xmath230 .",
    "since @xmath231 we have that @xmath232 and since @xmath233 this is a contradiction .",
    "so we may assume ( interchanging @xmath11 and @xmath221 with @xmath12 and @xmath222 if necessary ) that @xmath234 .",
    "we construct a path @xmath235 in the complement of the ball @xmath236 joining @xmath128 to @xmath237 by concatenating the subarc @xmath238}$ ] with the subarc @xmath239 of @xmath221 joining @xmath237 to @xmath223 . since @xmath223 is within @xmath240 of @xmath43 we see that @xmath239 has length at most @xmath194 , and so @xmath235 has length at most @xmath241 . on the other hand",
    "the length of @xmath235 is bounded below by @xmath242 , so we see that @xmath243 but recall that @xmath231 so we see that @xmath244 .",
    "finally , since @xmath245 and by definition of @xmath246 , we have that @xmath247 .",
    "it follows that @xmath248 and so @xmath249    it follows from lemma [ exponentialdivergence ] that for any affine function @xmath250 there is some @xmath251 such that @xmath252 for all @xmath253 .",
    "the value @xmath251 depends only on the function @xmath138 and the constants @xmath254 and @xmath255 , though there may be no closed formula to compute it .",
    "it is clear that the value of @xmath251 may be bounded in terms of the values of the constants @xmath194 and @xmath246 appearing in lemma [ exponentialdivergence ] , and those depend only on the constant @xmath162 and the eccentricity bound @xmath52 as shown in the next lemma .",
    "this will enable us to show that there is an upper bound on the hyperbolicity constant for @xmath36 which is a function of @xmath52 alone .",
    "[ constants ] let @xmath256 be a geodesic metric space such that for each @xmath37 the @xmath37-bigons are @xmath257-thin .",
    "let @xmath140 , @xmath258 and @xmath259 as in proposition [ exponentialdivergence ] .",
    "then @xmath194 and @xmath260 are bounded above by functions of @xmath52 and @xmath162 . more precisely ,    1 .",
    "@xmath261 2 .",
    "@xmath262    \\(1 ) apply proposition [ thinbigonsquant ] with @xmath263 .",
    "\\(2 ) apply proposition [ thinbigonsquant ] with @xmath264 .",
    "[ thinbigons]let @xmath256 be a geodesic metric space such that for each @xmath37 the @xmath37-bigons are @xmath257-thin .",
    "then @xmath36 is @xmath265-hyperbolic , for some function @xmath4 depending on @xmath52 alone .    to ensure that @xmath140 we set @xmath266",
    "let @xmath267 and choose geodesics @xmath268 , \\alpha_x=[y , z ] , \\alpha_y=[z , x]$ ] in @xmath36 .",
    "we denote by @xmath269 the reverse of the geodesic @xmath270 .",
    "we wish to estimate the thickness @xmath4 of this geodesic triangle @xmath271 using the exponential divergence function @xmath179 defined above .",
    "the following argument is adapted from that given in @xcite .",
    "let @xmath272 and set @xmath273 and @xmath274 .",
    "similarly we define @xmath275 , @xmath276 , @xmath277 , @xmath277 , @xmath278 and @xmath279 .",
    "now set @xmath280 , @xmath281 and @xmath282    case 1 .",
    "at least one of the values , say @xmath283 , is non - positive . in this case",
    "any point on @xmath284 is within @xmath162 of the other two sides , while any point on the subarcs @xmath285 or @xmath286 is within @xmath162 of the other two sides .",
    "there is @xmath287 on @xmath284 between @xmath277 and @xmath288 that is within @xmath162 of both @xmath289 and @xmath290 .",
    "hence the broken paths @xmath291 and @xmath292 form a @xmath162-bigon , consequently the triangle is @xmath293-thin .",
    "all three of the values @xmath294 are positive . in this case",
    "we will show that we can bound all three of these values by some uniform value @xmath295 given in terms of @xmath162 and @xmath52 , and hence , setting @xmath266 , @xmath295 depends on @xmath52 alone .",
    "once this is done it is clear that any point on any side of the triangle is within @xmath296 of some point on one of the other two sides , so it remains to find this bound @xmath295 .",
    "we can assume that @xmath297 .",
    "first note that if @xmath298 we can run the argument from case 1 with @xmath299 in place of @xmath162 , so we may assume that @xmath300 .",
    "we claim that the interior of @xmath301 does nt intersect the geodesic @xmath302 .",
    "indeed , since @xmath303 , the interior of the balls @xmath301 and @xmath304 have disjoint intersection .",
    "similarly , the balls @xmath301 and @xmath305 have disjoint interiors .",
    "but since @xmath306 , the arc @xmath302 is contained in the union of @xmath305 and @xmath304 .    now let @xmath307 and @xmath308 .",
    "the arcs @xmath309 , @xmath310 , @xmath311 , @xmath312 and @xmath313 are in the complement of the ball @xmath301 ( since they are either in the ball @xmath304 or @xmath305 ) .",
    "so concatenating those arcs we obtain a path in the closure of the complement of the ball @xmath314 of length @xmath315 . applying the divergence function to the geodesics @xmath316 emanating from the point @xmath43",
    "we see that @xmath317 .",
    "now choose an integer @xmath318 so that @xmath319 $ ] where @xmath320 are the constants estimated in lemma [ constants ] . if @xmath321 then @xmath322 and , since @xmath246 , @xmath194 depend only on @xmath52 , we are done . if @xmath323 we can apply theorem [ exponentialdivergence ] to show that @xmath324 .",
    "it follows that @xmath208 can also be bounded above in terms of @xmath52 and @xmath162 . as noted before we may choose @xmath266 to obtain a bound on @xmath208 in terms of @xmath52 alone .",
    "we denote this bound by @xmath325 .",
    "this gives a bound on @xmath326 since @xmath327 .",
    "this in turn bounds the fatness of the triangle as less than or equal to @xmath328    we have shown that any geodesic triangle is either @xmath329-thin , which since @xmath266 means that the triangle is @xmath330-thin , or it is @xmath331-thin , or it is @xmath332-thin . in the second case and third case the constants @xmath333 can all be written in terms of @xmath52 alone . if we take @xmath334 then we see that the space @xmath5 is @xmath265-hyperbolic as required .",
    "the proof of theorem [ qb ] is a sequence of simple observations , combined with theorem [ thinbigons ] . recall that",
    "if @xmath335 are subsets of a metric space @xmath5 , then the hausdorff distance between @xmath336 and @xmath337 is given by @xmath338 where for @xmath186 , @xmath339 is the @xmath260-neighborhood of @xmath336 .",
    "it is not clear how having eccentricity less than a constant @xmath4 and being at hausdorff distance less than @xmath4 to a ball are related in general , but in case of intersection of balls in a metric space those notions are equivalent .",
    "our first observation in this section holds for any geodesic metric space and gives the interior radius of the intersection of two balls .",
    "[ general]let @xmath5 be a geodesic metric space .",
    "* for any @xmath340 with @xmath341 and @xmath342 , if the balls @xmath343 and @xmath344 are neither disjoint nor nested , then @xmath345 where @xmath346 and @xmath347 is any point on any geodesic between @xmath43 and @xmath44 , at distance @xmath348 from @xmath43 . *",
    "if @xmath349 and @xmath350 , then @xmath351 .",
    "\\(1 ) if the balls @xmath343 and @xmath344 are neither disjoint nor nested , then we have @xmath352 and @xmath353 , and hence given any geodesic @xmath11 from @xmath43 to @xmath44 we may take a point @xmath347 on @xmath11 at distance @xmath348 from @xmath43 and a ball of radius @xmath260 around @xmath347 . then for @xmath354 @xmath355 and similarly @xmath356 .",
    "\\(2 ) first notice that our assumptions on @xmath17 and @xmath47 being strictly smaller than @xmath357 show that @xmath43 and @xmath44 do not belong to @xmath358 .",
    "let @xmath359 and @xmath360 , so that @xmath361 , @xmath362 and @xmath363 . take a geodesic @xmath364 from @xmath43 to @xmath100 and a point @xmath365 on this geodesic , at distance @xmath163 from @xmath100 .",
    "such a point exists because @xmath43 does not belong to @xmath366 .",
    "since @xmath367 we have @xmath368 similarly , take a geodesic @xmath369 from @xmath44 to @xmath100 and a point @xmath287 on this geodesic , at distance @xmath163 from @xmath100 .",
    "since @xmath370 we have @xmath371 combining the 2 inequalities gives @xmath372 , hence @xmath373",
    ".    we can now prove one implication of theorem [ qb ] and corollary [ rtreeschar ] .",
    "[ hyp=>qb ] if a geodesic metric space @xmath5 is @xmath4-hyperbolic with hyperbolicity constant less than or equal to @xmath3 , then both the eccentricity of the intersection of any two balls and the hausdorff distance from the intersection to a ball are both uniformly bounded by @xmath374 .",
    "take @xmath340 with @xmath375 and @xmath376 , with @xmath377 .",
    "we will show that the eccentricity of @xmath358 is less than @xmath374 .",
    "this implies the statement about hausdorff distance as well , by definition of hausdorff distance ( recalled in the beginning of this section ) .    according to lemma [ general ] part ( 1 ) either @xmath378 , @xmath379 , @xmath380 or @xmath381 , where @xmath347 and @xmath260 are as defined in that lemma . in the first three cases",
    "the eccentricity is clearly bounded by @xmath382 . in the remaining case it suffices to show that there is a constant @xmath52 independent of @xmath383 such that @xmath358 is contained in some ball of radius @xmath384 .",
    "we will show that in fact @xmath385 .",
    "now , for @xmath386 , let us estimate the distance to @xmath347 .",
    "since @xmath347 lies on a geodesic from @xmath43 to @xmath44 it is within @xmath4 of a point @xmath49 which lies on a geodesic from @xmath44 to @xmath365 or on a geodesic from @xmath43 to @xmath365 .",
    "we first assume that @xmath49 lies on a geodesic from @xmath43 to @xmath365 . by the triangle inequality",
    ", we have that @xmath387 . since @xmath49 lies on a geodesic from @xmath43 to @xmath365 this yields @xmath388 .",
    "now we have , as required : @xmath389 if @xmath49 lies on a geodesic from @xmath44 to @xmath365 instead , then we use the same argument switching the roles of @xmath42 and of @xmath40 .",
    "the following says that in a geodesic metric space such that the intersection of any two balls has uniformly bounded eccentricity , then the set of points on @xmath39-paths is uniformly close to a geodesic .",
    "[ dpathtravelclose]suppose that @xmath5 has a uniform bound @xmath53 on the eccentricity of the intersection of any two balls .",
    "then for any @xmath27 , given any two points @xmath340 , any point on a @xmath37-path from @xmath43 to @xmath44 is contained in the @xmath390-neighbourhood of any geodesic from @xmath43 to @xmath44 .",
    "let @xmath365 be a point on a @xmath37-path @xmath45 from @xmath43 to @xmath44 with @xmath391 , @xmath392 so that @xmath393 . if @xmath394 then @xmath395 and @xmath365 is within @xmath37 of @xmath44 .",
    "similarly if @xmath396 then @xmath397 and @xmath47 is within @xmath37 of @xmath43 so we may assume that both @xmath398 .",
    "now let @xmath399 , so that",
    "@xmath400 so by lemma [ general ] point ( 2 ) we see that any ball contained in @xmath401 has radius at most @xmath37 .",
    "it follows from the bounded eccentricity hypothesis that @xmath402 for some point @xmath403 .",
    "let @xmath11 be a geodesic from @xmath43 to @xmath44 and @xmath347 any point on @xmath11 at distance less than @xmath17 to @xmath43 and less than @xmath47 to @xmath44 ( such a point exists because @xmath404 ) .",
    "then @xmath405 , hence @xmath406 .    _",
    "remark : taking @xmath407 in the lemma above shows that in a geodesic metric space such that the intersection of any two metric balls has eccentricity less than or equal to @xmath4 , any geodesic between two points is contained in a @xmath4-neighbourhood of any other geodesic between those two points .",
    "_    an analogous result holds in terms of hausdorff distance .",
    "[ dpathtravelclose2]suppose that @xmath5 has a uniform bound @xmath53 on the hausdorff distance from the intersection of any two balls to a ball .",
    "then for any @xmath27 , given any two points @xmath340 , any point on a @xmath37-path from @xmath43 to @xmath44 is contained in the @xmath408-neighbourhood of any geodesic from @xmath43 to @xmath44 .",
    "let @xmath365 be a point on a @xmath37-path @xmath45 from @xmath43 to @xmath44 with @xmath391 , @xmath392 so that @xmath393 . if @xmath409 then @xmath410 and @xmath365 is within @xmath411 of @xmath44 .",
    "similarly if @xmath412 then @xmath413 and @xmath47 is within @xmath411 of @xmath43 so we may assume that both @xmath414 .",
    "now let @xmath399 , so that @xmath400 . by assumption , @xmath415 , for some @xmath403 and some @xmath7 , which implies that @xmath416 and that @xmath417 .",
    "so by lemma [ general ] point ( 2 ) we see that any ball contained in @xmath418 has radius at most @xmath419 .",
    "it follows that @xmath420 .",
    "let @xmath11 be a geodesic from @xmath43 to @xmath44 and @xmath347 any point on @xmath11 at distance less than @xmath17 to @xmath43 and less than @xmath47 to @xmath44 ( such a point exists because @xmath404 ) .",
    "then @xmath421 , hence @xmath422 .",
    "we can now prove the other implication in theorem [ qb ] , namely that ( b ) implies ( a ) .    [ qb=>hyp]there is a function @xmath423 such that :    1 .",
    "if @xmath5 is a geodesic metric space with the property that the intersection of any two balls has eccentricity bounded by @xmath52 then @xmath36 is @xmath265-hyperbolic .",
    "if @xmath5 is a geodesic metric space with the property that the intersection of any two balls is at hausdorff distance less than @xmath424 then @xmath36 is @xmath265-hyperbolic .",
    "according to lemma [ dpathtravelclose ] or lemma [ dpathtravelclose2 ] , in such a metric space all @xmath10 bigons are @xmath139-slim .",
    "we conclude using theorem [ thinbigons ] above .",
    "as pierre pansu pointed out to us it immediately follows that we can take @xmath4 to be linear in @xmath52 .    for any @xmath425",
    "the space @xmath5 is @xmath426 hyperbolic .    scaling the metric",
    "we see that @xmath427 has the property that the intersection of any two balls has eccentricity bounded by @xmath428 and so is @xmath429-hyperbolic .",
    "rescaling we see that @xmath256 is @xmath426-hyperbolic .",
    "we conclude this section with the proof of corollary 2 which asserts that @xmath0-trees are characterised by the property that the intersection of any two metric balls is a metric ball .",
    "one implication is given by proposition [ hyp=>qb ] .",
    "conversely , if the space @xmath5 has the property that the intersection of any two balls has eccentricity 0 then for any @xmath425 the intersection of any two balls has eccentricity bounded by @xmath52 and so the space is @xmath426 hyperbolic for all @xmath425 .",
    "it is therefore @xmath382-hyperbolic and hence must be an @xmath2-tree .",
    "_ remark : notice that in fact we do not need to assume that the intersection of any two balls is a ball to carry out the proof , only that the eccentricity of such an intersection is @xmath382 .",
    "a priori this is a weaker condition , however in an @xmath2-tree the intersection of two balls is always a ball and therefore , as a consequence of the theorem , the two conditions are equivalent . _",
    "in theorem [ qb ] and corollary [ rtreeschar ] , the assumption that the metric space @xmath5 be geodesic might not be needed .",
    "the notion of hyperbolic spaces extends to non - geodesic metric spaces via the gromov product ( see e.g. dfinition 3 , page 27 of @xcite ) and it would be interesting to find an appropriate generalisation of these results to that context .",
    "in particular recall that a @xmath4-ultrametric space is a metric space @xmath5 which satisfies the following strengthened version of the triangle inequality , @xmath430 for all @xmath431 in @xmath36 .",
    "it is easy to see that at least two of @xmath432 , @xmath433 and @xmath434 differ by at most @xmath4 , meaning that any triangle is almost isoceles .",
    "these are examples of @xmath374-hyperbolic spaces in the sense of gromov , see @xcite section 1.2 on page 90 .",
    "it would be interesting to know if those spaces do satisfy the property that any intersection of two balls is almost a ball ( in some sense ) .",
    "we say that a geodesic metric space @xmath256 has the geodesic extension property if any geodesic arc @xmath435\\rightarrow x$ ] extends to a geodesic @xmath436 , i.e. , @xmath437}=\\gamma$ ] .",
    "the most important feature of a space with the geodesic extension property is that centres and radii of balls are well defined ( this is easily checked ) .",
    "more precisely we will use the following .",
    "[ outeradius]let @xmath5 be a space with the geodesic extension property . for any @xmath340 and @xmath342 , with @xmath438 .",
    "then @xmath439 is the biggest ball that fits in @xmath358 , where @xmath346 and @xmath347 is a point on any geodesic between @xmath43 and @xmath44 , at distance @xmath348 from @xmath43 .",
    "let @xmath399 . if @xmath440 then @xmath441 and there is nothing to prove .",
    "so let us assume that @xmath442 .",
    "take @xmath186 and @xmath443 such that @xmath444 .",
    "let @xmath445 and @xmath446 , so that @xmath447 . since @xmath448 , we deduce that @xmath449 , and similarly , since @xmath450 , we deduce that @xmath451 ( here we use the geodesic extension property ) .",
    "combining those two inequalities shows that @xmath452    if @xmath453 is the symmetric space of constant curvature @xmath454 there is a single triangle @xmath43 , @xmath44 , @xmath365 ( up to isometry ) with side lengths @xmath391 , @xmath392 and @xmath375 , so we define @xmath455 where @xmath347 is the point on the geodesic between @xmath43 and @xmath44 at distance @xmath456 from @xmath43 .",
    "( this point exists because the triangle inequality ensures that @xmath457 so the distance is positive , and because @xmath458 implies that @xmath459 . )",
    "we shall see that there is an analogue to theorem [ qb ] which characterises cat(@xmath1 ) geometry for @xmath454    [ cat0 ] given @xmath454 , a geodesic metric space @xmath5 with geodesic extension property is @xmath460 if and only if the eccentricity of the intersection of any two balls of respective radii @xmath17 and @xmath47 and at distance @xmath357 is bounded by @xmath461 .",
    "one implication is clear so we suppose by contradiction that the eccentricity of the intersection of any two balls of respective radii @xmath17 and @xmath47 and at distance @xmath357 is bounded by @xmath461 but that @xmath36 is not cat(@xmath1 ) .",
    "then there is a geodesic triangle @xmath462 in @xmath36 and a point @xmath463 on a geodesic @xmath11 from @xmath43 to @xmath44 such that @xmath464 .",
    "let @xmath465 where @xmath466 denotes the geodesic @xmath467 in the comparison triangle .",
    "similarly let @xmath468 .",
    "in other words , @xmath251 and @xmath469 are the nearest points left and right of @xmath49 that satisfy the cat(@xmath1 ) inequality .",
    "so for any @xmath470 in the open interval @xmath471 we have @xmath472 .",
    "notice that @xmath473 since the metric varies continuously with points .",
    "set @xmath474 , and @xmath475 .",
    "let @xmath476 .    now consider a geodesic triangle @xmath477 where the geodesic from @xmath478 to @xmath479 is taken to be the restriction of @xmath11 to the closed interval @xmath480 $ ] .",
    "clearly the geodesic triangle @xmath481 is a comparison triangle in @xmath482 .",
    "take the point @xmath483 on the above geodesic from @xmath478 to @xmath479 at distance @xmath484 from @xmath478 .",
    "( this point exists because of the triangle inequality . ) first notice that @xmath483 has to be equal to either @xmath478 or @xmath479 , otherwise we would have @xmath485 and the intersection of @xmath486 with @xmath487 exceeds the allowed eccentricity .",
    "assume that @xmath488 ( if @xmath489 the argument is similar and we omit it ) .",
    "then @xmath490 so @xmath491 .",
    "it follows that the path given by concatenating the geodesics from @xmath365 to @xmath478 and from @xmath478 to @xmath479 is itself a geodesic .",
    "now let @xmath492 be the midpoint of the geodesic from @xmath478 to @xmath479 .",
    "this point is at distance @xmath493 from @xmath365 . inspecting the ( degenerate ) comparison triangle",
    "we see that @xmath494 is also at distance @xmath493 from @xmath495 but this contradicts our assumption that every point between @xmath478 and @xmath479 is further from @xmath365 than we see in the comparison triangle .    _",
    "remark : following the arguments in the proof of theorem 1 we note that there is an alternative notion of a `` based '' eccentricity function which measures eccentricity from the defined centre @xmath347 for both the inscribed and circumscribed balls . in these terms",
    "it is easy to see that gromov hyperbolicity is equivalent to the existence of a uniform bound on the based eccentricity function , while the proof of theorem [ cat0 ] shows that cat(@xmath1 ) geometry is characterised by bounding the based eccentricity function in terms of the function @xmath496 .",
    "hence both notions of non - positive curvature may be naturally expressed in terms of eccentricity bounds . _",
    "in @xcite papasoglu showed that for a graph hyperbolicity was equivalent to a bound on the thinness of geodesic bigons .",
    "as remarked before the same statement is not true for general geodesic metric spaces ( any non - hyperbolic cat(0 ) space furnishes a counter example since uniqueness fo geodesics gives a bound of @xmath382 on the fatness of geodesic bigons . ) the point is that the bound on the fatness of geodesic bigons in a graph gives an automatic bound on the fatness of @xmath497 quasi - geodesic bigons and papasoglu remarks that there is a natural generalisation of the result as follows .",
    "the theorem appears in the masters dissertation of pomroy @xcite but to the best of our knowledge no proof exists in the literature .",
    "we offer a proof of the result in order to place it on the record .",
    "we argue by contradiction , similarly to corollary [ thinbigons ] and using those particular divergence functions . according to theorem [ thinbigonsquant ] for any @xmath500 , the functions @xmath138 as defined above never tend to infinity , and hence there is @xmath501 so that @xmath502 .",
    "this means that for any @xmath503 , there are two geodesics @xmath11 and @xmath12 and @xmath120 such that      let us fix @xmath56 so that @xmath506 and again let @xmath507 and @xmath508 be points on a geodesic from @xmath509 to @xmath510 and at distance less than @xmath499 from each other ( we can choose @xmath511 ) . for @xmath512 , we see a @xmath499-bigon as follows : one side is a geodesic from @xmath33 to @xmath513 , and the other is a broken geodesic @xmath514 .",
    "so our assumptions say that it is @xmath52-thin , and hence @xmath515 .",
    "now let @xmath516 points on a geodesic from @xmath128 to @xmath129 and at distance less than @xmath499 from each other ( we can choose @xmath517 ) .",
    "again we construct a @xmath499-bigon as follows : one side is a geodesic from @xmath33 to @xmath518 , and the other is a broken geodesic @xmath519 .",
    "moreover , since @xmath520 , it means that @xmath521 , and hence @xmath522 , so that @xmath523 .",
    "this means that the geodesics @xmath11 and @xmath12 fulfill the assumptions of theorem [ meat ] for any @xmath162 big enough ( i.e. , @xmath162 so that @xmath524 , and hence , taking @xmath162 big enough ( i.e. , so that @xmath525 ) , theorem [ meat ] contradicts our assumption that @xmath499-bigons are uniformly @xmath52-thin .",
    "_ remark : this may seem close to lemma 7.2 in @xcite which states that if @xmath526-quasigeodesics stay uniformly close to any geodesic between the endpoints , then the space is hyperbolic .",
    "however the proof of papasoglu s or pomroy s result is considerably more elaborate . _",
    "bridson and a. haefliger .",
    "_ metric spaces of non - positive curvature .",
    "_ grundlehren der mathematischen wissenschaften , * 319*. springer - verlag , berlin , 1999 .",
    "m. coornaert , t. delzant and a. papadopoulos .",
    "_ gomtrie et thorie des groupes .",
    "_ les groupes hyperboliques de gromov .",
    "lecture notes in mathematics , * 1441*. springer - verlag , berlin , 1990 .",
    "e. ghys , p. de la harpe ed .",
    "_ sur les groupes hyperboliques daprs mikhael gromov .",
    "_ papers from the swiss seminar on hyperbolic groups held in bern , 1988 .",
    "progress in mathematics * 83 * , birkhuser .",
    "m. gromov .",
    "_ hyperbolic groups . _ s. gersten , ed .",
    ", msri publications , * 4 * ( 1987 ) . h. masur and y. minsky .",
    "_ geometry of the complex of curves .",
    "i. hyperbolicity . _",
    "invent . math . * 138 * ( 1999 ) , no .",
    "1 , 103149 .",
    "p. papasoglu , _ strongly geodesically automatic groups are hyperbolic _ , invent .",
    "( 1995 ) * 2 * pp 323334 .",
    "j. pomroy , master thesis , warvick .",
    "et al _ notes on word hyperbolic groups in _ group theory from a geometrical viewpoint _ ( e. ghys , a. haefliger , a. verjovsky , ed ) proc .",
    "ictp trieste 1990 , worldscientific , singapore , 1991 , 364 .",
    "s. wenger .",
    "_ on gromov hyperbolicity and a characterization of real trees _ , preprint"
  ],
  "abstract_text": [
    "<S> we show that a geodesic metric space is hyperbolic in the sense of gromov if and only if intersections of balls have bounded eccentricity . </S>",
    "<S> in particular , @xmath0-trees are characterized among geodesic metric spaces by the property that the intersection of any two balls is always a ball . </S>",
    "<S> both gromov hyperbolicity and cat(@xmath1 ) geometry can be characterised in terms of the geometry of the intersection of balls . </S>"
  ]
}