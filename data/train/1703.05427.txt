{
  "article_text": [
    "given a poset @xmath0 , we say that two elements @xmath9 form a _ comparable pair _",
    "if @xmath10 or @xmath11 .",
    "the study of families of sets containing few comparable pairs started with sperner s theorem , a cornerstone result of combinatorics .",
    "it states that the largest antichain ( i.e.  family containing no comparable pairs ) in the boolean lattice @xmath12 has size @xmath13 .",
    "the following natural question was first posed by erds and katona for @xmath14 and then extended by kleitman  @xcite some fifty years ago : given a poset @xmath15 and an integer @xmath2 , what is the minimum number of @xmath16-chains that a family of @xmath2 elements in @xmath15 must contain ? for @xmath14 , the case of comparable pairs , the question was completely resolved by kleitman  @xcite . for @xmath17 ,",
    "we refer the reader to  @xcite . here",
    "we are interested in the case @xmath14 , but for a general poset @xmath0 .",
    "we say that a family @xmath18 is _ centered _ if for any two sets @xmath19 with @xmath20 and @xmath21 we have that @xmath22 where @xmath23 denotes the number of @xmath24-coordinates in @xmath25 .",
    "that is , @xmath26 is centered if it is constructed by `` taking sets that are as close to the middle layer as possible '' .",
    "this same notion can be extended to the poset @xmath4 where @xmath10 if @xmath27 for all @xmath28 $ ] , where @xmath29 and @xmath30 are the @xmath31th coordinates of @xmath25 and @xmath32 .",
    "we say that a family @xmath33 is _ centered _ if for any two sets @xmath34 with @xmath35 and @xmath36 we have that @xmath37    denote by @xmath38 the number of comparable pairs in @xmath1 .",
    "a family @xmath1 of size @xmath2 is @xmath2-_optimal _ if for all families @xmath39 of size @xmath2 we have @xmath40 .",
    "a poset @xmath41 has the _ centeredness property _ if for all @xmath42 there exists an @xmath2-optimal centered family .",
    "using this terminology , kleitman s celebrated theorem  @xcite can be stated as follows :    [ kleitmanthm ] the poset @xmath3 has the centeredness property for all @xmath43 .",
    "in  @xcite the authors characterised precisely which families achieve the minimum number of contained comparable pairs .",
    "it is natural to ask whether theorem  [ kleitmanthm ] holds for the poset @xmath4 with @xmath7 as well .",
    "it was showed in  @xcite that there exists a counterexample with @xmath44 and @xmath45 .",
    "the following conjecture was raised independently in  @xcite and  @xcite :    for every @xmath6 there exists an @xmath46 such that if @xmath47 then the poset @xmath4 has the centeredness property .",
    "our main result is the construction of two different classes of explicit counterexamples to this natural generalisation of theorem  [ kleitmanthm ] .",
    "we show that for every @xmath6 , if @xmath5 is sufficiently large , then there exists a suitable choice of @xmath2 and a family @xmath26 of size @xmath2 that contains strictly fewer comparable pairs than the centered families of the same size .",
    "denote by @xmath48 the _ @xmath16-th layer _ of @xmath4 , i.e.  the set of vectors in @xmath4 whose coordinates sum to @xmath16 , and let @xmath49 . write @xmath50 for the total size of the @xmath16 middle layers of @xmath4 . for @xmath51",
    "there exists an antichain of size @xmath2 in the middle layer @xmath52 and hence conjecture  [ stupidconj ] trivially holds .    our main result for the poset @xmath53 is the following .    [ mainresult ]    1 .",
    "let @xmath54 , @xmath5 be sufficiently large , and @xmath55 .",
    "then there exists an @xmath2-optimal centered family in @xmath53 .",
    "2 .   let @xmath5 be sufficiently large and @xmath56 .",
    "then none of the centered families in @xmath53 are @xmath2-optimal .",
    "theorem  [ mainresult ] says that the smallest @xmath57 for which conjecture  [ stupidconj ] breaks down ( for @xmath58 ) satisfies @xmath59 . for @xmath58 and @xmath2 slightly larger than @xmath60 it was previously shown by noel ",
    "sudakov  @xcite that centered families contain asymptotically the optimal number of comparable pairs .",
    "they also obtained good lower bounds for the number of comparable pairs in larger families .",
    "let @xmath16 be a fixed positive integer .",
    "then there exists a constant @xmath61 such that if @xmath62 and @xmath63 has cardinality at least @xmath64 then @xmath65    while at first sight it may seem feasible that conjecture  [ stupidconj ] holds for much larger @xmath2 , theorem  [ largeresult ]  ( b ) shows that this is not the case .",
    "theorem  [ largeresult ]  ( a ) provides a weak bound for the poset @xmath4 that is optimal only for families not much larger than the middle layer .",
    "[ largeresult ]    * for every @xmath66 , @xmath67 , and @xmath68 , every family @xmath33 of size @xmath69 contains at least @xmath70 comparable pairs .",
    "* let @xmath66 and @xmath54 .",
    "there exists a constant @xmath71 such that for every @xmath72 , if @xmath73 , where @xmath74 , then none of the centered families in @xmath4 are @xmath2-optimal .",
    "the notion of centeredness can be readily extended to several other common posets that satisfy some nice properties . in a poset @xmath0 , _",
    "@xmath75 covers @xmath76 _ if @xmath77 and there is no element @xmath78 such that @xmath79 .",
    "we say that the poset @xmath0 is a _ graded poset _ if it is equipped with a rank function @xmath80 which satisfies that @xmath81 whenever @xmath77 , and @xmath82 whenever @xmath75 covers @xmath76 .",
    "the _ rank of a poset _",
    "@xmath0 is the maximum rank of an element of @xmath0 .",
    "given a graded poset @xmath0 , the @xmath16-th layer @xmath83 is the collection of elements in @xmath0 of rank @xmath16 , @xmath84 is the size of @xmath83 , and @xmath85 is the total number of elements of @xmath0 in the middle @xmath16 layers .",
    "a graded poset of rank @xmath5 is _ rank - symmetric _ if @xmath86 for @xmath87 and it is _ rank - unimodal _ if @xmath88 for some @xmath89 .",
    "denote by @xmath90 the family of all graded posets that are rank - symmetric and rank - unimodal , and by @xmath91 the posets in @xmath90 of rank @xmath5 .",
    "we will extend the notion of centeredness only to the posets in @xmath90 .",
    "note that every @xmath92 satisfies that its largest layer is @xmath93 and its @xmath6 largest layers are the @xmath6 layers closest to the middle layer .",
    "examples of such posets include @xmath4 where @xmath94 if @xmath27 for all @xmath95 , and the poset @xmath96 of subspaces of @xmath8 ordered by inclusion where @xmath97 is a prime power .",
    "similarly as before , given a poset @xmath98 , we say that a family @xmath99 is _ centered _ if for any two sets @xmath9 with @xmath20 and @xmath21 we have that their ranks @xmath100",
    "satisfy @xmath101 in other words , @xmath26 is centered if it is constructed by `` taking sets that are as close to the middle layer as possible '' . note that if @xmath102 , then this definition is the same as the definition of ` centered ' introduced in the previous section ( where the rank of @xmath0 was @xmath103 ) .",
    "consider now for a prime power @xmath97 the poset @xmath96 of subspaces of @xmath8 ordered by inclusion .",
    "denote by @xmath104 the number of subspaces of @xmath8 of dimension @xmath31 .",
    "note that @xmath105 .",
    "the following result of noel , scott , and sudakov  @xcite provides a lower bound on @xmath38 for @xmath106 .",
    "let @xmath97 be a prime power and @xmath6 be a fixed positive integer .",
    "there exists a constant @xmath107 such that for @xmath108 and @xmath109 , @xmath110    they pointed out that this bound is attained by a centered family and hence best possible when @xmath111 and @xmath112 .",
    "we show that centered families are best for all sizes .",
    "[ subspacebs ] let @xmath97 be a prime power and @xmath113 .",
    "then the poset @xmath96 has the centeredness property .",
    "our proofs of theorem  [ mainresult ]  ( a ) and theorem  [ subspacebs ] are heavily based on the compression techniques of kleitman  @xcite .",
    "the proof of theorem  [ mainresult ]  ( b ) arose when we attempted to prove that conjecture  [ stupidconj ] holds in the range @xmath114 - all our proof attempts kept breaking down and they eventually led us to this counterexample . for theorem",
    "[ largeresult ]  ( a ) we use the symmetric chain decomposition technique of kleitman  @xcite .",
    "finally the construction in theorem  [ largeresult ]  ( b ) came from the observation that for large enough @xmath2 centered families are not even locally optimal , and in fact by replacing one of its elements in an appropriate way we can decrease the number of comparable pairs in the family .",
    "for the corresponding maximization question , i.e.  determining the maximum possible number of comparable pairs amongst families of size @xmath2 in @xmath15 we refer the reader to @xcite .",
    "whenever @xmath115 is an element of @xmath53 , we will define the _ size _ ( or _ rank _ ) of @xmath25 by @xmath116 .",
    "we will use @xmath117 and @xmath118 to denote the number of @xmath119- , @xmath24- , and @xmath120-coordinates of @xmath25 ( that is , @xmath121 ) .",
    "similarly for @xmath122 we will use the variables @xmath123 in the same fashion .",
    "the _ complement _ of a set @xmath124 is defined as @xmath125 . for a permutation @xmath126 and a set @xmath124",
    "we denote by @xmath127 the set @xmath128 . for a family @xmath129 and integer @xmath130",
    ", we write @xmath131 and @xmath132 . recall that in the poset @xmath53 , @xmath133 denotes the @xmath16-th layer and @xmath134 the total size of the @xmath135 middle layers . in this section",
    ", we will often shorten @xmath133 to @xmath136 and @xmath134 to @xmath137 . recall also that a family @xmath138 of size @xmath2 is called @xmath2-optimal if there is no other family @xmath139 of size @xmath2 that contains strictly fewer comparable pairs than @xmath26 .",
    "our goal is to show that there exists an @xmath2-optimal family that is centered .",
    "let @xmath54 , let @xmath5 be sufficiently large so that all the following estimates hold , and fix an @xmath140 .",
    "the proof is by induction on @xmath2 , with the base case @xmath141 in which case there is an antichain in @xmath142 of size @xmath2 and the claim follows .",
    "hence we will assume that there exists an @xmath143-optimal centered family , and show that there exists an @xmath2-optimal centered family .",
    "our first goal is to show that there exist @xmath2-optimal families that are contained in the middle three layers of @xmath53",
    ".    the following claim will be useful for us :    [ claimfuncond ] let @xmath144 such that @xmath145 .",
    "if @xmath146 , then for every @xmath147 : @xmath148    suppose that @xmath146 .",
    "we show that @xmath149 has at most as many @xmath120 s and at least as many @xmath119 s as @xmath25 .",
    "this implies that there exists a permutation @xmath150 of the coordinates of @xmath149 such that @xmath151 .",
    "thus , @xmath150 has at most as many neighbors in level @xmath152 as @xmath25 does in level @xmath153 , for every @xmath154 , so @xmath155    the number of @xmath119 s in @xmath149 is equal to @xmath156 and the number of @xmath120 s in @xmath149 is equal to @xmath157 .",
    "hence we want to show that @xmath158 and @xmath159 .",
    "note first that since @xmath160 , we have @xmath161 and @xmath162 .",
    "let @xmath163 be such that @xmath164 and @xmath165 .",
    "from @xmath166 we have that @xmath167 .",
    "since @xmath168 and @xmath169 , we have @xmath170 , and similarly @xmath171 . @xmath172    a family @xmath26 in a poset @xmath41 is _ compressed _ if for every element @xmath173 , every element comparable with @xmath25 that is closer to the middle than @xmath25 is in @xmath26 .",
    "kleitman proved that every family in the boolean lattice `` can be compressed '' without increasing the number of comparable pairs .",
    "it is not clear why this would be the case for @xmath174 with @xmath175 . in the poset",
    "@xmath53 we can however at least obtain an analogous result for a weaker notion of top- and bottom - compressed , given in the following definition .    a family @xmath138 is _ top - compressed _ if the following condition holds :    * if @xmath20 with @xmath176 and @xmath160 with @xmath177 , then @xmath178 .    a family @xmath138 is _ bottom - compressed _ if the following condition holds :    * if @xmath20 with @xmath179 and @xmath180 with @xmath181 , then @xmath178 .",
    "[ l_compressed ] for every natural number @xmath182 , there exists an @xmath2-optimal family that is top- and bottom - compressed .",
    "let @xmath26 be an @xmath2-optimal family .",
    "suppose that there exist elements @xmath173 and @xmath183 that violate condition ( t ) .",
    "pick such @xmath25 for which @xmath23 is maximum , and then pick such @xmath32 for which @xmath184 is minimal , and let @xmath185 and @xmath186 .",
    "then all elements in levels @xmath187 that are comparable with @xmath25 are in @xmath26 .",
    "we form a bipartite graph with parts @xmath188 and @xmath189 and with edges between comparable pairs .",
    "we write @xmath190 for the set of elements in @xmath191 comparable with @xmath25 .",
    "additionally , let @xmath192 , @xmath193 , and @xmath194 .",
    "we will show that we can iteratively replace some elements of @xmath195 by elements of @xmath196 without increasing the number of comparable pairs .",
    "we will consider several cases based on sizes of @xmath195 and @xmath196 and the existence of `` good '' matchings that allow us to top - compress @xmath26 .",
    "since @xmath197 , the total value @xmath198 of the family strictly decreases , ensuring that this process will terminate .",
    "suppose that we have families @xmath199 and @xmath200 such that there is a perfect matching @xmath201 between @xmath202 and @xmath203 .",
    "we define a new family @xmath204 and show that the new family @xmath205 has no more comparable pairs than @xmath26 does .",
    "we compare the sizes of neighborhoods of @xmath202 and @xmath203 in the following four parts of the poset @xmath53 :    1 .   in levels @xmath206 : since @xmath25 is a greatest element of @xmath26 , no elements of @xmath26 are in these levels .",
    "2 .   in levels",
    "@xmath207 : let @xmath208 and @xmath209 . since @xmath160 , if @xmath210 then @xmath211 . so the number of comparable pairs can not increase here .",
    "3 .   in levels",
    "@xmath187 : since all elements in these levels are in @xmath26 , by claim  [ claimfuncond ] , for every @xmath212 $ ] , @xmath213 thus , every element @xmath214 has at most as many neighbors in @xmath215 as every @xmath208 does .",
    "4 .   in levels",
    "@xmath216 and @xmath217 : this will be checked in each case separately .    in each case",
    "below , we present suitable sets @xmath218 and @xmath219 with a perfect matching @xmath201 between @xmath202 and @xmath203 for which @xmath220 where @xmath221 denotes the number of edges between the families @xmath222 and @xmath223 .",
    "suppose first that there exists a matching @xmath201 between @xmath195 and @xmath196 covering @xmath195 .",
    "let @xmath224 and @xmath225 .",
    "then there are no elements of @xmath205 in @xmath226 , so @xmath227 .",
    "henceforth we assume that there is no matching @xmath201 between @xmath195 and @xmath196 covering @xmath195 , and we restrict our attention to the bipartite graph @xmath228 , where @xmath229    * case 1 : * @xmath230 . by hall s theorem , since there is no matching between @xmath191 and @xmath231 covering @xmath191 , there must be a vertex set @xmath232 such that @xmath233 .",
    "choose @xmath234 to be a maximal such vertex set .",
    "then there must exist a matching @xmath201 between @xmath235 and @xmath236 covering @xmath235 .",
    "define @xmath237 and @xmath238 .",
    "since there is no edge between @xmath238 and @xmath239 , the relation ( [ eq_levels_a_b ] ) holds .",
    "* case 2 : * @xmath240 .",
    "suppose first that there exists a matching @xmath201 between @xmath191 and @xmath231 covering @xmath231 .",
    "let @xmath241 and @xmath242 . by claim  [ claimfuncond ] applied with @xmath243 on every pair @xmath244",
    ", we have @xmath245 , so @xmath246 the inequality ( [ eq_levels_a_b ] ) follows by subtracting @xmath247 on both sides .",
    "suppose now that there is no matching covering @xmath231 . by hall",
    "s theorem , there must exist a minimal vertex set @xmath248 such that @xmath249 .",
    "consider the following two subcases :    1 .",
    "there is a matching @xmath201 between @xmath250 and @xmath251 covering @xmath252 .",
    "let @xmath253 and @xmath254 .",
    "there is no edge between @xmath203 and @xmath255 , hence @xmath256 and the inequality ( [ eq_levels_a_b ] ) trivially holds .",
    "2 .   there is no matching between @xmath250 and @xmath251 covering @xmath251 . by hall",
    "s theorem , there exists a vertex set @xmath257 with @xmath258 . then @xmath259 is smaller than @xmath250 .",
    "since @xmath249 and @xmath260 , we also have @xmath261 and we can conclude that @xmath250 was not a minimal set with @xmath262 .",
    "we showed that there exists an @xmath2-optimal family @xmath26 that is top - compressed . the proof that @xmath26 can `` be made '' bottom - compressed without increasing the number of comparable pairs follows by the above proof applied on @xmath263 .",
    "lemma  [ l_compressed ] ensures the existence of an @xmath2-optimal top- and bottom - compressed family .",
    "although we will use the lemma only for @xmath264 , we emphasize that the result holds for any @xmath2 , which might be of independent interest .",
    "our next goal is to find an @xmath2-optimal family which additionally satisfies conditions ( c1 ) and ( c2 ) in the following definition .",
    "we say that a family @xmath138 of size @xmath2 is @xmath265__-compressed _ _",
    "if @xmath26 is top - compressed , bottom - compressed , and additionally the following two conditions hold :    * if @xmath25 is a maximal element of @xmath26 with @xmath266 and @xmath160 is such that @xmath267 and @xmath268 then @xmath178 . *",
    "if @xmath25 is a minimal element of @xmath26 with @xmath269 and @xmath180 is such that @xmath270 and @xmath271 then @xmath178 .",
    "the following claim is an analogue statement to claim  [ claimfuncond ] .",
    "[ 3compressclaim ] let @xmath144 such that @xmath160 .",
    "if @xmath272 , and @xmath273 , then for every @xmath274 , @xmath148    suppose that @xmath275 and @xmath267 .",
    "since @xmath276 , we only need to consider the following two cases :    * case 1 : * @xmath277 .",
    "the number of elements in levels @xmath278 , @xmath5 , and @xmath279 , comparable with @xmath25 , are @xmath280 respectively .",
    "similarly , the number of elements in levels @xmath5 , @xmath278 , and @xmath281 , comparable with @xmath32 , is @xmath282 respectively .",
    "note that @xmath283 and @xmath284 , and so @xmath285 . we show that @xmath286 , @xmath287 , and @xmath288 .",
    "@xmath289 the last expression is negative only if @xmath290 and @xmath291 , which is not possible since every element @xmath292 must contain at least one @xmath119-coordinate .",
    "* case 2 : * @xmath293 and @xmath294 .",
    "then @xmath295 so @xmath149 has at most as many @xmath120 s and at least as many @xmath119 s as @xmath25 , which implies that there exists a permutation @xmath150 of the coordinates of @xmath149 such that @xmath296 .",
    "this implies that for every @xmath297 , @xmath155    [ l_3-compressed ] for every natural number @xmath182 , there exists an @xmath2-optimal family that is @xmath265-compressed .",
    "let @xmath26 be an @xmath2-optimal family in @xmath53 that is top- and bottom - compressed , whose existence is guaranteed by lemma  [ l_compressed ] .",
    "if @xmath26 is not @xmath265-compressed , then at least one of the conditions ( c1 ) and ( c2 ) fails .",
    "we assume that ( c1 ) does not hold , keeping in mind that in the other case we can apply the same proof on @xmath298 .",
    "suppose that there exists a comparable pair @xmath299 in @xmath26 such that @xmath25 is a maximal element with @xmath275 , @xmath267 , and @xmath268 .",
    "let @xmath185 and @xmath186 .",
    "let @xmath300 be a bipartite graph with parts @xmath195 and @xmath301 and with edges between comparable pairs @xmath299 for which @xmath276 .",
    "as in the proof of lemma  [ l_compressed ] , we can iteratively replace some elements of @xmath195 by elements of @xmath196 without increasing the number of comparable pairs .",
    "we need to consider several cases based on sizes of @xmath195 and @xmath196 and existence of `` good '' matchings in @xmath300 that allow us to compress @xmath26 . since @xmath197",
    ", the total value @xmath198 of the family strictly decreases , ensuring that this process will terminate .",
    "these cases are the same as in the proof of lemma  [ l_compressed ] , except now we only consider matchings in the graph @xmath300 ( in which all pairs with @xmath302 are removed ) , and we apply claim  [ 3compressclaim ] at every place we applied claim  [ claimfuncond ] before .",
    "we are almost ready to tackle theorem  [ mainresult ]  ( a ) .",
    "we will need to make use of the fact that a typical set in @xmath53 of size @xmath5 has about @xmath303 zeros @xmath303 ones , and @xmath303 twos .",
    "[ averagethird ] for every @xmath304 , @xmath305    for an integer @xmath306 , let @xmath307 .",
    "note that @xmath308 and hence @xmath309 if @xmath310 we get @xmath311 and if @xmath312 we have @xmath313 .",
    "this means that @xmath314 a similar computation gives @xmath315 , and the claim follows .",
    "the next claim shows that for slightly varying values of @xmath2 , the @xmath2-optimal families contain about the same number of comparable pairs . for an integer @xmath316 , write @xmath317 for the number of comparable pairs in an @xmath316-optimal family :",
    "@xmath318    [ continuouscomp ] if @xmath319 , then @xmath320 .",
    "by the induction hypothesis , there exists an @xmath143-optimal centered family @xmath205 . since @xmath321 , the family @xmath205 consists of all elements in layer @xmath142 and some elements in layers @xmath322 and @xmath323 .",
    "define @xmath324 claim  [ averagethird ] implies @xmath325 . for @xmath264 we thus have @xmath326 .",
    "add an element @xmath327 to @xmath205 .",
    "the element @xmath32 is in at most @xmath328 comparable pairs of @xmath329 , hence @xmath330    we are ready to finish the proof of theorem  [ mainresult ]  ( a ) .",
    "let @xmath26 be an @xmath2-optimal family that is @xmath265-compressed , whose existence is guaranteed by lemma  [ l_3-compressed ] , and assume that @xmath26 is not centered .",
    "this can mean one of two things :    * 1 . *",
    "the first possibility is that there exists an @xmath331 of size @xmath332 .",
    "since @xmath26 is both top- and bottom - compressed , this means that there is no @xmath178 with @xmath333 or @xmath160 , hence unless @xmath26 itself is an antichain we may decrease the number of comparable pairs in @xmath26 by replacing one of its elements by @xmath25 .",
    "the second possibility is that @xmath334 but @xmath335 .",
    "then there exists an element @xmath20 of size at least @xmath281 or at most @xmath336 . by symmetry",
    "we may assume that there is an @xmath20 with @xmath337 .",
    "since @xmath26 is @xmath265-compressed , the number of elements in @xmath338 comparable with @xmath25 is at least @xmath339 the term @xmath340 accounts for the elements of @xmath322 comparable with @xmath25 that have @xmath341 zeros , which are not necessarily in @xmath26 by the definition of @xmath265-compressed .",
    "observe that every such element is formed by decreasing three @xmath120-coordinates of @xmath25 to @xmath24-coordinates , giving @xmath340 choices . since @xmath342 , the quantity ( [ number_nbrs ] ) is minimized when @xmath343 and @xmath344 .",
    "it follows that this quantity is at least @xmath345 but then @xmath346 , and @xmath26 was not @xmath2-optimal ( by claim  [ continuouscomp ] ) , a contradiction .",
    "recall that for an integer @xmath347 and a family @xmath348 we have the notation @xmath349 and @xmath350 .",
    "we say that a centered family @xmath351 is _ canonical centered _ if there exists at most one @xmath352 with @xmath353 , i.e.  if it has at most one partial layer ( while centered families could have two ) . as in section  [ sectionmaina ] ,",
    "whenever @xmath25 and @xmath32 are elements of @xmath53 , we write @xmath354 and @xmath123 for the number of @xmath119- , @xmath24- , @xmath120-coordinates in @xmath25 and @xmath32 respectively . for an element @xmath124 and family @xmath348",
    ", we use the notation @xmath355 and @xmath356 , so that @xmath357 .",
    "let @xmath358 , @xmath359 , and @xmath360 .",
    "finally , let @xmath361 ( see figure [ fig_counterexample1 ] )",
    ". then @xmath26 is not centered , but we claim that @xmath26 contains fewer comparable pairs than every centered family of size @xmath362 .",
    "the proof of this claim goes in two stages .",
    "first we show that @xmath26 contains fewer comparable pairs than the best canonical centered family of this size ( claim  [ cl_f ] ) , and next we show that among centered families of this size the canonical families are the best ( lemma  [ bestcenterediscanon ] ) .     and a canonical centered family @xmath363 such that @xmath364 for every canonical centered family @xmath365 of size @xmath366 . ]    [ cl_f ] whenever @xmath365 is a canonical centered family of size @xmath56 we have @xmath367 .",
    "every canonical centered family @xmath365 of size @xmath56 consists of all elements in levels @xmath368 and @xmath369 elements in @xmath370 ( or @xmath371 elements in @xmath372 , in which case the proof is symmetrical ) .",
    "let @xmath373 and note that @xmath374 is one of the canonical centered families of size @xmath2 with the least number of contained comparable pairs .",
    "indeed , removing all elements with no @xmath119-coordinates plus one element with one @xmath119-coordinate from @xmath370 ensures the smallest possible number of comparable pairs . this can be seen because it is always better to replace a @xmath120-coordinate and a @xmath119-coordinate by two @xmath24-coordinates , or directly from the formula ( [ number_nbrs ] ) .",
    "it suffices to show that @xmath375 since then we can improve @xmath376 by deleting @xmath377 and adding @xmath32 .",
    "now , @xmath378 whereas @xmath379 , which is @xmath380 smaller than @xmath381 and the claim follows .",
    "[ bestcenterediscanon ] among centered families of size @xmath56 the function @xmath382 attains its minimum on a canonical centered family .",
    "define a partial order on the collection of centered families of size @xmath2 by letting @xmath383 if @xmath384 , or if @xmath385 and @xmath386 .",
    "we will show that one of the minimal elements of this partial order is canonical centered , which immediately implies lemma  [ bestcenterediscanon ] .",
    "let @xmath205 be a centered family of size @xmath56 that is minimal according to this ordering .",
    "note that @xmath387 .",
    "given a permutation @xmath126 of order @xmath120 ( i.e. , @xmath388 ) define the @xmath389-_compression _ of @xmath205 by `` replace @xmath390 by @xmath391 unless it is already in @xmath392 '' .",
    "that is , @xmath393    [ claim_compressionbest ] for every @xmath126 of order @xmath120 we have @xmath394 , unless @xmath395 .",
    "that is , @xmath389-compression improves the family unless it is already @xmath389-compressed .",
    "note first that unless @xmath395 we have that @xmath396 .",
    "it thus remains to show @xmath397 .",
    "suppose that @xmath398 is a new comparable pair .",
    "then @xmath25 was replaced by @xmath391 , so @xmath399 . the element @xmath32 was not replaced by @xmath150 , so @xmath400 .",
    "observe that for every @xmath401 , @xmath398 implies @xmath402 .",
    "since our permutation @xmath389 is of order @xmath120 , we have @xmath403 , and thus @xmath404 .",
    "together , for every new comparable pair @xmath405 there is an old comparable pair @xmath404 which got deleted during the compression .",
    "this defines an injection from @xmath406 into @xmath407 and the claim follows .",
    "we sketch the idea of the remaining part of the proof . by claim  [ claim_compressionbest ] and the minimality of @xmath205 ,",
    "the family @xmath205 is @xmath389-compressed for all permutations @xmath389 of order @xmath120 . for @xmath390 , define @xmath408 and count the elements of @xmath409 comparable with @xmath25 .",
    "every such element has to be in @xmath392 by definition of @xmath389-compression . to obtain a superset of @xmath25 in @xmath409",
    ", we first need to switch all @xmath119-coordinates of @xmath410 with some of its @xmath120-coordinates . after that we can freely switch any of the remaining three @xmath120-coordinates with any three @xmath24-coordinates .",
    "any permutation that is formed in this fashion is obviously of order @xmath120 .",
    "the number of such permutations is @xmath411 .",
    "it follows that if the number of @xmath119 s and @xmath24 s in @xmath25 is ( close to ) linear in @xmath5 , then the number of elements in @xmath392 comparable with @xmath25 is of order ( close to ) @xmath412 .",
    "therefore , @xmath413 can not have many such elements since otherwise we could replace @xmath413 by elements of @xmath414 and the number of comparable pairs would decrease .",
    "we partition @xmath205 into @xmath415 , @xmath416 , and @xmath417 as follows : @xmath418 observe that @xmath415 contains elements with a small number of @xmath119- and @xmath120-coordinates while @xmath416 contains elements with small number of @xmath24-coordinates .",
    "claim  [ gstarsmall ] states that there can not be more elements in @xmath417 than in @xmath419 .",
    "claim  [ cl_gh ] uses a similar averaging argument to bound @xmath420 by @xmath421 , where @xmath422 is the family of sets in @xmath419 that are in a small number of comparable pairs in @xmath205 .",
    "claim  [ cl_hbounds ] then implies that @xmath422 must be empty , and we conclude that @xmath205 is canonical centered .",
    "[ gstarsmall ] @xmath423",
    "let @xmath25 be an element of @xmath417 and consider all its supersets of the form @xmath391 with @xmath388 .",
    "since @xmath205 is @xmath389-compressed for every involution @xmath389 , we know that all these supersets are in @xmath205 .",
    "let @xmath424 be the set of a permutations @xmath389 of order @xmath120 such that each @xmath389 switches all @xmath119-coordinates of @xmath410 with all but three of its @xmath120-coordinates , and the remaining three @xmath120-coordinates with three arbitrary @xmath24-coordinates .",
    "equivalently , for every @xmath425 , the element @xmath391 is formed from @xmath25 by increasing three @xmath119-coordinates and three @xmath24-coordinates by one .",
    "we thus always have @xmath426 , and hence the number of supersets of @xmath25 in @xmath409 is at least @xmath427 . since @xmath428 and @xmath429 , we have @xmath430 from @xmath168 we have @xmath431 , and thus @xmath432 as either @xmath341 or @xmath433 is larger than @xmath434 , we have @xmath435 we claim that the elements of @xmath413 are in at most @xmath436 comparable pairs each on average",
    ". indeed , otherwise we could replace @xmath413 by an arbitrary subset of @xmath437 of size @xmath438 and obtain a canonical centered family with a smaller number of comparable pairs . because each element of @xmath417 is in at least @xmath439 comparable pairs",
    ", we have @xmath440 , and the claim follows .    let @xmath441    [ cl_gh ] @xmath442    as before , the elements of @xmath413 must be in at most @xmath436 comparable pairs each on average since otherwise we could replace @xmath413 by an arbitrary subset of @xmath443 .",
    "recall that the family @xmath413 is partitioned into @xmath415 , @xmath416 and @xmath417 , and that every element of @xmath417 is in at least @xmath439 comparable pairs of @xmath205 ( see proof of claim  [ gstarsmall ] ) .",
    "we thus necessarily have @xmath444 .    [ cl_hbounds ]",
    "@xmath445    we first count the number @xmath446 of comparable pairs @xmath447 such that @xmath448 .",
    "we count @xmath446 two ways :    1 .",
    "let @xmath449 .",
    "then @xmath450 by the definition of @xmath416 .",
    "we need to count the number of sets @xmath451 formed from @xmath25 by increasing six of its @xmath119-coordinates to @xmath24-coordinates . since @xmath452 by the definition of @xmath453 , this number is at least @xmath454 2 .",
    "let now @xmath451 for which there exists an @xmath455 with @xmath448",
    ". then @xmath456 therefore , the number of sets @xmath25 formed from @xmath32 by decreasing six of its @xmath24-coordinates to @xmath119-coordinates is at most @xmath457    together we obtain @xmath458 follows .",
    "similarly , we count the number @xmath459 of comparable pairs @xmath460 such that @xmath461 .    1",
    ".   let @xmath462 .",
    "then @xmath463 by the definition of @xmath415 .",
    "the number of sets @xmath451 formed from @xmath25 by increasing six of its @xmath24-coordinates to @xmath120-coordinates is at least @xmath464 2 .",
    "let now @xmath451 for which there exists an @xmath465 with @xmath461 . then @xmath466 therefore , the number of sets @xmath25 formed from @xmath32 by decreasing six of its @xmath24-coordinates to @xmath119-coordinates is at most @xmath467    similarly to [ eq_h  ] we have @xmath468 and the first inequality in claim  [ cl_hbounds ] follows .",
    "we are ready to finish the proof of lemma  [ bestcenterediscanon ] . applying the previous three claims , we obtain @xmath469 and therefore latexmath:[\\[\\label{eq_contra }",
    "let @xmath455 .",
    "as in the proof of claim  [ cl_hbounds ] , @xmath471 and so @xmath472 .",
    "this implies @xmath473 , which contradicts equation . by the same argument we have @xmath474 .",
    "hence @xmath475 by claims  [ gstarsmall ] and [ cl_gh ] , and we conclude that @xmath205 is canonical centered , proving the lemma .",
    "a _ symmetric chain _ @xmath202 in the poset @xmath4 is a chain @xmath476 such that @xmath477 for all @xmath478 , and @xmath479 . a _ symmetric chain decomposition _",
    "( or scd in short ) of the poset @xmath4 is a decomposition of the poset into disjoint symmetric chains .",
    "it is known that there exists an scd of @xmath4 , see e.g.  ( * ? ? ?",
    "* theorem 3.6.1 ) .    define @xmath480 and let , for @xmath481 @xmath482 for a set @xmath483 , define its _ complement _ by @xmath484 .    following the ideas of  @xcite , given a comparable pair @xmath485 with @xmath486 ,",
    "define their _ weight _ @xmath487 to be equal to the probability that @xmath488 are contained in the same chain of the scd @xmath191 , if @xmath191 is chosen uniformly at random from the collection of all scds of @xmath4 .",
    "notice that if @xmath485 is a comparable pair with @xmath489 then @xmath490 and if on the other hand we have @xmath491 then @xmath492    [ shadowsn2 ] for any comparable pair @xmath485 we have @xmath493 , unless @xmath494 and @xmath495 .",
    "if @xmath494 and @xmath495 , then @xmath496 , so assume that this is not the case . w.l.o.g .",
    "we may further assume that @xmath489 , so that @xmath497 , and hence it suffices to prove that @xmath498 holds whenever @xmath489 .",
    "from now on we will assume that @xmath103 is even ",
    "the proof for the odd case is very similar .",
    "note that for fixed @xmath499 , the function @xmath500 is an increasing function of @xmath501 , hence it suffices to show  ( [ lymwtp ] ) in the following cases :    1 .",
    "@xmath502 , and 2 .",
    "@xmath503 .",
    "the first case is easier : if @xmath502 and @xmath489 then @xmath32 has at least @xmath504 non - zero coordinates and hence @xmath505 as required .",
    "assume now that we are in the second case and not in the first case , and so @xmath506 . we construct an appropriate @xmath507 with @xmath508 , using the following algorithm :    1 .",
    "set @xmath509 .",
    "[ secondstep ] pick an @xmath28 $ ] such that @xmath510 .",
    "decrease @xmath511 by one .",
    "[ allonezero ] if all coordinates of @xmath507 are zero or one then stop .",
    "[ reachedasize ] if @xmath512 then stop .",
    "go to step  [ secondstep ] .",
    "notice that if we terminated in step  [ allonezero ] then we have @xmath513 where the second - to - last inequality follows since @xmath514 and the last inequality follows from the fact that @xmath507 has the same number of non - zero coordinates as @xmath32 , which is at least @xmath515 as @xmath516 .    on the other hand ,",
    "if we terminated in step  [ reachedasize ] then we have , similarly as above , that @xmath517 and the proof is complete .",
    "using this claim we are now ready to prove theorem  [ largeresult ]  ( a ) .",
    "say that an scd @xmath518 _ contains _ a comparable pair @xmath488 if there exists an @xmath519 $ ] such that @xmath520 .",
    "given a family @xmath26 , write @xmath521 for the number of comparable pairs in @xmath26 that are contained in @xmath191 .",
    "if @xmath522 then @xmath523 and the theorem holds , otherwise we may assume that @xmath524 .",
    "since the largest antichain in @xmath4 has size @xmath525 , by the pigeonhole principle every scd contains at least @xmath76 comparable pairs .",
    "the probability that a randomly chosen scd contains a fixed comparable pair @xmath488 is by the definition @xmath487 .",
    "hence the expected number of comparable pairs contained by a random scd satisfies @xmath526 where the last inequality follows from claim  [ shadowsn2 ] , and the proof is complete .",
    "let @xmath102 where @xmath6 is a fixed constant , @xmath527 , and @xmath5 be sufficiently large so that all following estimates hold .",
    "we are given an integer @xmath135 with @xmath528 and we have @xmath529 .",
    "for simplicity we will assume @xmath530 is even , the odd case is very similar , and we omit the details .",
    "let @xmath531 let @xmath32 be such that @xmath532 and every coordinate of @xmath32 is either @xmath533 or @xmath534 .",
    "let @xmath535 be such that @xmath536 and every coordinate of @xmath535 is @xmath6 or @xmath119 , except possibly one .",
    "note that @xmath535 has at least @xmath537 zeros and at most @xmath538 non - zeros .     which has smaller number of comparable pairs than the centered family @xmath26 .",
    "]    now define @xmath539 so that @xmath540 is not a centered family ( see figure  [ fig_poset6 ] ) .",
    "we claim that @xmath541 .",
    "we only need to compare the number of subsets of @xmath32 and @xmath535 that are contained in @xmath26 ( or @xmath540 ) . for a set @xmath542 and an integer @xmath543 , write @xmath544 that is , the collection of subsets of @xmath542 that are in @xmath26 , and are @xmath543 levels below @xmath542 .",
    "let @xmath545 we have the estimate @xmath546 note that for @xmath547 we have @xmath548 since the right hand side of the first inequality counts the number of non - negative solutions to the equation @xmath549 .",
    "hence we get @xmath550 where the last inequality holds because @xmath551 for @xmath552 .",
    "hence @xmath541 and this completes the proof .",
    "recall that @xmath91 denotes the collection of posets of order @xmath5 that are rank - symmetric and rank - unimodal , and let @xmath98 .",
    "furthermore , recall that @xmath23 denotes the rank of an element @xmath554 , @xmath555 , and @xmath556 .",
    "a poset @xmath0 of rank @xmath5 has _ property _",
    "@xmath557 if all of the following hold :    * if @xmath558 and @xmath559 , then @xmath560 for every @xmath561 . * if @xmath562 and @xmath559 , then @xmath563 for every @xmath564 . * if @xmath565 , then @xmath566 for every @xmath567 . * if @xmath568 , then @xmath569 for every @xmath567 .    the key result of this section is the lemma below , which will easily imply theorem  [ subspacebs ] .",
    "[ kleitmanstatedgenerally ] if a rank - symmetric and rank - unimodal poset @xmath0 of rank @xmath5 has property ( q ) , then @xmath0 has the centeredness property .",
    "let @xmath98 that has property ( q ) .",
    "we say that a family @xmath1 is _ mid - compressed _ if for every comparable pair @xmath570 such that @xmath559 , @xmath20 implies @xmath571 .",
    "[ l_compressed_gen ] for every @xmath572 , there exists an @xmath2-optimal family in @xmath0 that is mid - compressed .",
    "the proof of this claim is essentially the same as kleitman s proof  @xcite of theorem  [ kleitmanthm ] and hence similar to our proof of lemma  [ l_compressed ] , so we only give a sketch here .",
    "we show by induction on @xmath2 that there exists an @xmath2-optimal family that is centered .",
    "the base case is @xmath573 , in which case there exists an antichain in @xmath574 of size @xmath2 .",
    "let now @xmath575 , and define an order relation on the collection of subsets of @xmath0 of order @xmath2 by setting @xmath576 if    * @xmath577 , or * @xmath578 and @xmath579 .",
    "given a family @xmath580 of size @xmath2 that is not mid - compressed we will find a family @xmath205 of size @xmath2 that improves @xmath26 ( that is , @xmath581 ) .",
    "since only mid - compressed families can not be improved this way this will show that there exists an @xmath2-optimal mid - compressed family .",
    "let @xmath580 be a family of size @xmath2 that is not mid - compressed . then there exist elements @xmath25 and @xmath32 such that @xmath173 , @xmath21 , and @xmath559 .",
    "w.l.o.g .",
    "there exists such a pair with @xmath582 . among all such pairs",
    "@xmath299 consider the pairs with @xmath23 is maximal , and then among these pick one with @xmath583 maximal .",
    "note that this implies that whenever @xmath584 is such that @xmath585 and @xmath586 then @xmath587 .",
    "moreover whenever @xmath584 is such that @xmath588 and @xmath589 then @xmath590 . let @xmath591 a and @xmath592 .    form a bipartite graph with vertex sets @xmath195 and @xmath301 with edges between comparable pairs .",
    "if there exists a matching @xmath201 between @xmath195 and @xmath301 covering @xmath195 , then replacing @xmath195 with the matching elements @xmath593 does not increase the number comparable pairs in @xmath26 ( since @xmath0 has property ( q1 ) ) , but decreases @xmath594 and hence improves the family . from now on",
    "suppose that there is no such matching .",
    "let @xmath595 and let @xmath231 be the family of neighbors of @xmath195 in @xmath301 .",
    "* case 1 : * @xmath230 .",
    "since there is no matching between @xmath191 and @xmath231 covering @xmath191 , we can find a maximal vertex set @xmath596 such that @xmath597 . let @xmath201 be a matching between @xmath598 and @xmath599 covering @xmath600 , which exists by the maximality of @xmath234",
    ". then @xmath601 satisfies @xmath581 ( again using that @xmath0 has property ( q1 ) ) .",
    "* case 2 : * @xmath602 .",
    "if there exists a matching @xmath201 covering @xmath231 then replacing @xmath603 by @xmath231 improves @xmath26 .",
    "otherwise , let @xmath604 be minimal such that @xmath605 .",
    "consider the following two cases :    1 .",
    "if there is a matching @xmath201 between @xmath250 and @xmath251 covering @xmath252 , then let @xmath606 .",
    "since there is no edge between @xmath607 and @xmath226 , we have @xmath577 .",
    "2 .   otherwise , there exists a vertex set @xmath257 with @xmath258 . then @xmath259 is smaller than @xmath250 and it is easy to check that @xmath262 , a contradiction with minimality of @xmath250 .",
    "this finishes the proof of the claim that there exists an @xmath2-optimal mid - compressed family .    from now on",
    "we assume that there exists an @xmath2-optimal mid - compressed family @xmath608 that is not centered . recall that @xmath85 denotes the total size of the middle @xmath16 layers of @xmath0 .",
    "define the integer @xmath609 such that @xmath610 .",
    "let @xmath611 be the centered family of size @xmath612 and write @xmath613 for the maximum degree of the graph with vertex set @xmath205 and edges corresponding to comparable pairs in @xmath0 .",
    "let @xmath614 .",
    "the following statement is very similar to claim  [ continuouscomp ] :    [ lastcontinuousclaim ] we have @xmath615 .",
    "it suffices to construct a family @xmath26 of size @xmath2 with at most @xmath616 comparable pairs .",
    "as @xmath608 is @xmath2-optimal it contains at most this many comparable pairs . by induction",
    "we know there exists a centered @xmath143-optimal family @xmath617 . since @xmath618 , adding to it any element of @xmath619 increases the number of comparable pairs by at most @xmath620 .",
    "since @xmath608 is not centered , it contains an element @xmath25 such that for all elements @xmath621 we have @xmath622 .",
    "since @xmath608 is mid - compressed and @xmath0 has properties ( q3 ) and ( q4 ) , this implies that @xmath623 .",
    "hence @xmath624 . by claim  [ lastcontinuousclaim ] this implies that every family of size @xmath2 contains at least @xmath616 comparable pairs .",
    "as shown in the proof of claim  [ lastcontinuousclaim ] this value can be achieved by a centered family , completing the proof of lemma  [ kleitmanstatedgenerally ] .",
    "one well - known poset that satisfies the assumptions of lemma  [ kleitmanstatedgenerally ] is the boolean lattice @xmath15 .",
    "therefore , lemma  [ kleitmanstatedgenerally ] implies theorem  [ kleitmanthm ]  rather unsurprisingly since the proof of lemma  [ kleitmanstatedgenerally ] was motivated by kleitman s proof of theorem  [ kleitmanthm ] .",
    "let @xmath97 be a prime power and let @xmath67 .",
    "to finish the proof of theorem  [ subspacebs ] , we only need to check that the assumptions of lemma  [ kleitmanstatedgenerally ] hold for @xmath96 .",
    "@xmath96 is rank - symmetric .",
    "the map @xmath625 takes the set of subspaces of dimension @xmath6 into the set of subspaces of dimension @xmath626 bijectively .",
    "@xmath96 is rank - unimodal .",
    "note that the number of subspaces of @xmath96 of dimension @xmath6 , written as @xmath627 , can be expressed as ( see e.g.  @xcite ) : @xmath628!}{[k]![n - k]!},\\ ] ] where @xmath629!=[1]\\cdot[2 ] \\cdot \\ldots \\cdot [ n],\\quad \\text{and ~ } [ i]=q^i-1.\\ ] ] rank - unimodality of @xmath96 is easily seen to follow from this formula .",
    "@xmath96 has property ( q )",
    ".    properties ( q1)(q4 ) follow from the observation that if @xmath630 is a subspace of @xmath8 of dimension @xmath631 then the number of spaces @xmath632 of dimension @xmath633 is @xmath634 and the number of spaces @xmath635 with @xmath636 and @xmath637 is @xmath638 .",
    "recall that @xmath90 is the collection of posets that are rank - symmetric and rank - unimodal and let @xmath639 be the collection of posets which have the centeredness property .",
    "the main open problem that this paper has only barely begun to explore asks for an easy way to decide whether a poset @xmath41 is in @xmath640 .",
    "we know that @xmath641 and @xmath642 but for @xmath7 and @xmath5 large we have @xmath643 .",
    "now let @xmath644 be the lattice of subgroups of a finite abelian group @xmath300 .",
    "it was shown in  @xcite that @xmath644 is rank - unimodal .",
    "the following general question is likely to be difficult to solve in full generality but any progress would be interesting .        * if @xmath646 for distinct primes @xmath647 then @xmath644 is ( isomorphic to ) the boolean lattice and hence @xmath645 , * if @xmath648 for distinct primes @xmath647 then @xmath644 is isomorphic to the lattice @xmath4 under inclusion and hence if @xmath108 then @xmath649 . * if @xmath650 for @xmath651 prime then @xmath644 is isomorphic to @xmath652 and hence @xmath645 .",
    "question  [ ques1 ] can be asked for other members of @xmath90 , see e.g.  @xcite .",
    "a natural generalization of the centeredness property is as follows . for an integer @xmath653",
    "say that a poset @xmath41 has the @xmath16-_centeredness property _ if for all @xmath2 with @xmath654 , among all families @xmath580 of size @xmath2 , the number of @xmath16-chains contained in @xmath0 is minimized by a centered family .",
    "denote the collection of posets with the @xmath16-centeredness property by @xmath655 and note that @xmath656 .",
    "a long - standing conjecture in this area due to kleitman  @xcite is that @xmath657 for all @xmath658 . for recent progress on this conjecture",
    "we refer the reader to  @xcite .",
    "asking for a characterisation of @xmath655 is currently out of reach , but finding interesting necessary and/or sufficient conditions for a poset @xmath41 to be in @xmath655 could be a fine result",
    ".        the same question can be asked for ` centered ' replaced by ` canonical centered ' ( i.e.  centered families with at most one partially filled layer ) .",
    "we expect that for @xmath58 the answer to question  [ ques2 ] contains the interval @xmath659 $ ] .",
    "it seems plausible that for @xmath660 the centered families are not too far from being best possible , but for much larger @xmath2 we do not even have a guess what the best families could be .",
    "the following question is open whenever @xmath661 is replaced by any value between @xmath662 and @xmath5 ."
  ],
  "abstract_text": [
    "<S> given a poset @xmath0 we say a family @xmath1 is _ centered _ if it is obtained by ` taking sets as close to the middle layer as possible ' . </S>",
    "<S> a poset @xmath0 is said to have the _ </S>",
    "<S> centeredness property _ </S>",
    "<S> if for any @xmath2 , among all families of size @xmath2 in @xmath0 , centered families contain the minimum number of comparable pairs . </S>",
    "<S> kleitman showed that the boolean lattice @xmath3 has the centeredness property . </S>",
    "<S> it was conjectured by noel , scott , and sudakov , and by balogh and wagner , that the poset @xmath4 also has the centeredness property , provided @xmath5 is sufficiently large compared to @xmath6 . </S>",
    "<S> we show that this conjecture is false for all @xmath7 and investigate the range of @xmath2 for which it holds . </S>",
    "<S> further , we improve a result of noel , scott , and sudakov by showing that the poset of subspaces of @xmath8 has the centeredness property . </S>",
    "<S> several open questions are also given . </S>"
  ]
}