{
  "article_text": [
    "a _ lattice path _ is a sequence of points from @xmath6 .",
    "a pair @xmath7 from @xmath6 is called a _ step _ if @xmath8 .",
    "an example of a lattice path is given in fig .",
    "[ fig : examp1 ] . for simplicity of notation",
    ", we represent lattice paths as the words over fixed set of steps @xmath9 .",
    "we shall say that a path is an @xmath9-path if its steps belong to @xmath9 .",
    "lattice paths appear in many contexts .",
    "they are used in physics @xcite , computer science @xcite , and probability theory @xcite .",
    "there are a huge number of papers on enumeration of lattice paths for specified sets of steps .",
    "we refer the reader to the survey of humphreys @xcite and to the references therein .     to @xmath10.,width=113 ]    in this paper we consider only the following types of steps .",
    "namely , let @xmath11 denote the _ vertical step _ @xmath0 and let @xmath12 denote the _ non - vertical step _ @xmath1 , for @xmath13 .",
    "additionally , we separate non - vertical steps into two groups .",
    "if @xmath14 then @xmath12 is called _ up step _ and denoted by @xmath15 . if @xmath16 then @xmath12 is called _ down step _ and denoted by @xmath17 . for example , the path in fig .",
    "[ fig : examp1 ] can be represented by its starting point @xmath3 and the sequence @xmath18 .",
    "there are several well - known examples of paths that consist of non - vertical steps .",
    "for instance , dyck paths are composed of steps @xmath19 and @xmath20 , motzkin and @xmath21-ukasiewicz paths are those for which the sets of steps are @xmath22 and @xmath23 , respectively .",
    "all of these examples are essentially one - dimensional objects .",
    "it is well known , see e.g. deutsch @xcite , that the number of dyck paths running from @xmath3 to @xmath24 which never go below the @xmath25-axis is the @xmath26th catalan number given by @xmath27 the number of motzkin paths @xcite running from @xmath3 to @xmath5 which never go below the @xmath25-axis is equal to @xmath28 a unified enumerative and asymptotic theory of paths consisting of non - vertical steps is developed by banderier and flajolet @xcite and concerns with the kernel method .",
    "-path running from @xmath3 to @xmath29.,width=215 ]    another class of lattice paths are those which consist of vertical and non - vertical steps .",
    "the classical example is the family of delannoy paths @xcite which originally consist of steps @xmath30 , @xmath31 , and @xmath32 . in our notation , a _",
    "delannoy path _ is a lattice path that consists of steps @xmath33 and runs from @xmath3 to some @xmath34 in the fourth quarter , i.e. , @xmath35 and @xmath36 .",
    "the number of delannoy paths running from @xmath3 to @xmath34 is equal to @xmath37 several families of paths with steps from @xmath38 are considered by the author in @xcite .    in this paper",
    "we consider families of paths with the set of steps being an arbitrary subset of @xmath39 , for fixed @xmath40 . throughout the paper we use the symbol @xmath41 to denote the following set of steps @xmath42 for each @xmath43 and @xmath44 , we define two families of paths",
    ". namely , let @xmath45 denote the set of all @xmath9-path running from @xmath3 to @xmath46 .",
    "let @xmath47 denote the set of these paths from @xmath45 for which all points except possibly the last one lie on or above the @xmath25-axis .",
    "we call a path from @xmath45 a _ free path _ and a path from @xmath47 an _",
    "@xmath48-primary path_. for instance , a free path is given in fig .",
    "[ fig:2 ] and a primary path is given in fig .",
    "[ fig:1 ] .",
    "-primary @xmath9-path running from @xmath3 to @xmath49 .",
    "lattice points which determine a decomposition of the path are drawn by open circles.,width=132 ]    in section  [ sec : biject ] we show that for any @xmath50 which contains @xmath51 and @xmath11 there is the corresponding set of steps @xmath52 such that for any @xmath53 and @xmath54 , we have @xmath55 where @xmath56 is a weight function over paths from @xmath57 .",
    "this means that additional vertical step @xmath11 in primary @xmath58-paths can be encoded by the proper weights of non - vertical steps in @xmath59-paths . to show the above equality we define @xmath56-weighted primary @xmath59-paths which are primary @xmath59-paths whose steps have assigned nonnegative integers depending on the weight function @xmath56 .",
    "then we define a bijection between primary @xmath58-paths and @xmath56-weighted primary @xmath59-paths .    in section  [ sec :",
    "properties ] we establish a relation between primary and free paths .",
    "namely , we show that for any @xmath60 which consists @xmath11 and @xmath51 , we have @xmath61 where @xmath62 . we show that @xmath63 where @xmath64 denote the total number of occurrences of the step @xmath65 in the set of paths from @xmath66 and @xmath67 denote the total number of all steps in @xmath66 .",
    "these relations shed some light on the statistical properties of the @xmath58-paths .",
    "any @xmath68-path running from @xmath3 to @xmath34 contains exactly @xmath26 steps .",
    "the number of steps in a @xmath58-path is equal to or greater than @xmath26 .",
    "we show that the expected number of steps in a @xmath69-primary @xmath58-path running from @xmath3 to @xmath4 is equal to @xmath70    in section  [ sec : enumer ] we derive some enumerative results for such paths .",
    "we show that , for any @xmath54 and @xmath71 , we have @xmath72 \\frac{1}{(1-y)^n }       \\big ( \\sum_{s_k\\in\\mathcal v } y^{n - k } \\big)^n ,      \\\\      |\\mathcal f_{\\mathcal v}(m , n ) |       & = [ y^{n n + m } ] \\frac{1}{(1-y)^{n+1 } }       \\big ( \\sum_{s_k\\in\\mathcal n } y^{n - k } \\big)^n.\\end{aligned}\\ ] ] in section  [ sec : riordan ] we show that the array @xmath73 is the proper riordan array @xmath74 , where @xmath75 let @xmath76 be the generating function of the sequence @xmath77 . as a consequence of ,",
    "we show that @xmath76 satisfies the following functional equation @xmath78 for certain constants @xmath79 and @xmath80 .    in section  [ sec :",
    "examples ] we present five examples of families of lattice paths with vertical steps for which we apply results obtained in the previous sections .",
    "namely , we consider the following five sets of lattice steps : @xmath81 for any fixed @xmath40 and @xmath82 .",
    "it is worth pointing out that @xmath83-paths , @xmath84-paths , @xmath85-paths , and @xmath86-path are generalized ukasiewicz paths , raney paths recently considered by the author in @xcite , generalized dyck paths , and delannoy paths , respectively .",
    "let @xmath40 be a nonnegative integer and let @xmath9 be a subset of @xmath87 and @xmath43 .",
    "any @xmath48-primary @xmath9-path @xmath88 which has at least two non - vertical steps can be uniquely decomposed into some number of vertical steps and shorter primary @xmath9-paths .",
    "let @xmath89 be the first step of @xmath90 .",
    "first , suppose that @xmath91 .",
    "the path @xmath90 passes through the points @xmath92 , such that they are chosen to be the left - most ones , i.e. , @xmath93 .",
    "note that @xmath94 and some of @xmath95 may be not integer . therefore , denote by @xmath96 the set of these points that both coordinates are integers .",
    "for instance , points from @xmath97 for the path given in fig .",
    "[ fig:1 ] are marked by open circles .",
    "cutting @xmath90 at these points we obtain a decomposition of @xmath90 into @xmath89 and @xmath98 subpaths @xmath99 , where @xmath100 .",
    "each @xmath101 is either a single vertical step @xmath11 or an @xmath102-primary @xmath9-path for some @xmath103 .",
    "suppose that exactly @xmath104 of @xmath99 are not vertical steps and denote them by @xmath105 .",
    "hence , @xmath90 can be uniquely decomposed as @xmath106 where @xmath107 is an @xmath102-primary @xmath9-path and @xmath108 are nonnegative integers .",
    "it is worth pointing out that @xmath109 , @xmath110 , and @xmath111 if @xmath112 .",
    "the _ shape _ of the path @xmath90 is the triple @xmath113 , where @xmath114 .",
    "observe that any up step in @xmath90 is the first step of the uniquely determined primary @xmath9-subpath of @xmath90 .",
    "for this reason , we denote by @xmath115 the up step @xmath15 which is the first step of an @xmath48-primary @xmath9-path whose shape is @xmath113 .    finally , if @xmath116 then the path @xmath90 is decomposable into @xmath117 and @xmath118 , where @xmath118 is a @xmath119-primary @xmath9-path from the set @xmath120 . to simplify the further consideration , we assume that the shape of @xmath90 in this case is @xmath121 and the first step @xmath117 of such path is denoted by @xmath122 .    -primary @xmath9-path running from @xmath3 to @xmath49 without vertical steps .",
    "lattice points determining a decomposition of the path are drawn by open circles.,width=132 ]    for instance , if the set of steps @xmath9 does not contain vertical step @xmath11 , then any @xmath48-primary @xmath9-path @xmath90 running from @xmath3 to @xmath46 can be uniquely decomposed as @xmath123 where @xmath124 .",
    "see fig .",
    "[ fig:3 ] .",
    "[ exam : decompos ] let @xmath125 be the path from fig .",
    "[ fig:1 ] .",
    "this path is decomposable as @xmath126 , where @xmath127 , @xmath128 , and @xmath129 the shape of @xmath130 is @xmath131 and @xmath132 , @xmath133 .    for @xmath13 ,",
    "let @xmath134 denote the set of steps @xmath135 .",
    "for @xmath136 , let @xmath137 denote the set of all pairs @xmath138 , where @xmath139 is an integer such that @xmath140 and @xmath141 is a composition of @xmath142 into @xmath143 parts if @xmath144 , or into @xmath104 parts if @xmath112 ( zero parts are allowed in both cases ) .",
    "[ prop : h ] for any @xmath145 , we have @xmath146 where @xmath147 if @xmath144 , and @xmath148 if @xmath112 .",
    "recall that @xmath21 is the maximal integer such that @xmath149 .",
    "let us partition the set @xmath137 into pairwise disjoint classes @xmath150 , where @xmath151 contains these pairs whose first element is @xmath139 .",
    "if @xmath152 then @xmath151 is empty . if @xmath153 then the size of @xmath151 is the number of compositions of @xmath142 into @xmath143 possibly zero parts , for @xmath144 , or into @xmath104 possibly zero parts , for @xmath112 , which is equal to the value of the binomial coefficient in the final formula",
    "let @xmath40 and @xmath58 be a subset of the set of steps @xmath87 such that @xmath149 and @xmath154 .",
    "now we define the corresponding set of steps @xmath59 which does not contain @xmath11 . namely , let @xmath155    let us define weighted paths .",
    "first , we define a weight function @xmath156 over steps in primary @xmath59-paths as follows .",
    "let @xmath157 be a down step from @xmath59 and @xmath115 be an up step @xmath15 which is the first step of an @xmath48-primary @xmath59-path whose shape is @xmath113 .",
    "then we set @xmath158 for all @xmath145 .",
    "we write @xmath159 instead of @xmath160 for short if no confusion can arise .",
    "a _ weighted @xmath48-primary @xmath59-path _ is a pair @xmath161 , where @xmath90 is an @xmath48-primary @xmath59-path consisting of @xmath26 steps @xmath162 and @xmath163 is a sequence of @xmath26 positive integers @xmath164 , called _ weights _ , such that @xmath165 .",
    "a _ weight _ of a @xmath90 , denoted by @xmath166 , is a product of weights of its steps .",
    "let @xmath167 denote the set of all @xmath156-weighted @xmath48-primary @xmath59-paths running from @xmath3 to @xmath46 .",
    "it is clear that we have @xmath168    [ th : biject ] for any @xmath54 and @xmath53 , we have @xmath169    in the sequel , we define a map @xmath170 , for any @xmath53 and @xmath54 . in lemma",
    "[ lem : biject ] , given below , we show that this map is a bijection .    * the map * @xmath171 , for @xmath53 , @xmath54 .",
    "let @xmath172 be a weighted path from @xmath173 and @xmath174 .",
    "if @xmath175 and @xmath176 , then @xmath177 , and @xmath178 .",
    "suppose that @xmath138 is the @xmath179th pair from @xmath180 .",
    "note that @xmath181",
    ". then we set @xmath182 if @xmath175 and @xmath127 , then @xmath183 , and @xmath184 .",
    "suppose that @xmath185 is the @xmath179th step from @xmath186 .",
    "we set @xmath187 if @xmath175 and @xmath112 , then @xmath188 and @xmath189 .",
    "we set @xmath190 if @xmath191 and @xmath53 , then the first step of @xmath90 is an up step and the entire path can be decomposed into some number of shorter primary paths .",
    "suppose that the shape of @xmath90 is @xmath113 and @xmath192 the weight of the first step is @xmath179 which is an integer from @xmath193 @xmath194 , by .",
    "suppose that @xmath138 is the @xmath179th pair from @xmath137 .",
    "let @xmath195 .",
    "we set @xmath196 where @xmath197 for some @xmath198 depending on @xmath107 , and @xmath199 is the proper part of the sequence @xmath163 , for @xmath200 .",
    "[ lem : tov ] if @xmath201 then @xmath202 , for any @xmath53 and @xmath54 .",
    "suppose that @xmath191 .",
    "observe that @xmath203 changes step @xmath15 to @xmath204 , where @xmath205 , and adds @xmath206 vertical steps @xmath11 to the original path .",
    "the pair @xmath138 belongs to @xmath137 which implies that @xmath207 . using the induction on @xmath26",
    "we show that @xmath208 runs from @xmath3 to @xmath46 .",
    "the condition that @xmath111 for @xmath112 ensures that the last step of the resulting path is not the vertical one .",
    "changes @xmath209 to @xmath210 and adds two vertical steps between certain subpaths .",
    "the map @xmath211 changes @xmath210 to @xmath209 and removes corresponding vertical steps.,width=302 ]    [ exam : f ] let us consider lattice paths which consist of steps from the set @xmath212 @xmath213 and let @xmath214 .",
    "let @xmath215 , where @xmath216 , see fig .",
    "[ fig:3 ] and fig .",
    "[ fig : mapf ] .",
    "suppose that @xmath217 .",
    "the path is decomposable into @xmath209 and @xmath218 , where @xmath219 by the definition of the weight function @xmath56 , @xmath220 and @xmath221 , by proposition  [ prop : h ] .",
    "suppose that the @xmath179th pair from the set @xmath222 is @xmath223 , where @xmath224 is a composition of @xmath225 into @xmath226 parts .",
    "we have @xmath227 the path @xmath228 is given in fig .",
    "[ fig : mapf ] .",
    "the final path @xmath229 for certain weight vector @xmath163 is given in fig .",
    "[ fig:1 ] .    * the map * @xmath230 , for @xmath53 , @xmath54 .",
    "let @xmath130 be a path from @xmath231 .",
    "if @xmath175 and @xmath176 , then @xmath232 for certain @xmath204 .",
    "suppose that the pair @xmath138 , where @xmath181 , is the @xmath179th pair in @xmath180 is @xmath138 . then we set @xmath233 if @xmath175 and @xmath127 , then @xmath234 for certain @xmath235 .",
    "suppose that @xmath185 is the @xmath179th step in @xmath186 .",
    "we set @xmath236 if @xmath175 and @xmath112 , then @xmath237 .",
    "we set @xmath238 if @xmath191",
    "then the first step of @xmath130 is an up step and the entire path @xmath130 can be decomposed into some number of shorter primary paths .",
    "suppose that the shape of @xmath130 is @xmath113 and it can be decomposed as @xmath239 let @xmath240 .",
    "suppose that @xmath138 is the @xmath179th pair in @xmath137 .",
    "we set @xmath241 where @xmath242 and @xmath243 depend on @xmath244 .    if @xmath245 then @xmath246 , for any @xmath53 and @xmath54 .",
    "suppose that @xmath191 .",
    "as in the proof of lemma  [ lem : tov ] , the function @xmath211 changes step @xmath89 to @xmath247 and removes exactly @xmath142 vertical steps from the original path . thus the resulting path ends at the same lattice point as the original one does . using the induction",
    "we also show that the resulting path does not contain vertical steps .",
    "[ exam : g ] as in the previous example , let us consider lattice paths which consist of steps from the set @xmath248 and let @xmath214 .",
    "let @xmath249 be the path given in fig .",
    "[ fig:1 ] .",
    "the decomposition of @xmath130 is given in example  [ exam : decompos ] .",
    "the shape of @xmath130 is @xmath131 and @xmath224 . in example",
    "[ exam : f ] , we assume that the pair @xmath223 is the @xmath179th element from @xmath222 .",
    "thus @xmath250 , where @xmath217 and @xmath251 . the final path @xmath252 for certain weight vector @xmath163",
    "is given in fig .",
    "[ fig:3 ] .",
    "[ lem : biject ] we have @xmath253 for any @xmath53 and @xmath54 .",
    "we need to show that @xmath254 for any weighted path @xmath201 and @xmath255 for any @xmath245 .",
    "simple verification shows that the claim is true for @xmath175 .",
    "let us prove the first statement for @xmath191 .",
    "let @xmath256 and @xmath174 .",
    "assume that @xmath138 is the @xmath179th pair from @xmath137 and @xmath257 .",
    "on the one hand , by the definition of @xmath203 , the path @xmath258 can be rewritten as @xmath259 on the other hand , @xmath130 can be decomposed as @xmath260 for some primary @xmath58-paths @xmath261 .",
    "first , we need to show two statements : ( i ) @xmath262 , @xmath263 for @xmath200 , and ( ii ) @xmath264 .",
    "the first one is due to the definition of the function @xmath203 .",
    "the resulting path @xmath258 is the concatenation of paths @xmath265 , which are primary @xmath58-paths , and some number ( possibly zero ) of vertical steps @xmath11 between these shorter primary subpaths .",
    "the second condition follows from the observation that any primary @xmath58-path does not begin with a vertical step , thus @xmath266 for @xmath267 .",
    "next , under the assumption at the beginning of the proof , @xmath138 is the @xmath179th pair from @xmath137 .",
    "thus , by the definition of the function @xmath211 , the resulting path @xmath268 is @xmath269 where @xmath174 . using the induction on @xmath26",
    "we show that @xmath270 which ends the proof of the first statement .",
    "the proof of @xmath255 goes in much the same way .",
    "in this section we establish a relation between primary and free paths that contain vertical steps . throughout the section ,",
    "we fix @xmath9 to be a subset of @xmath87 such that @xmath271 and @xmath40 . also , we set @xmath272 and @xmath273 .",
    "let @xmath274 be a sequence of @xmath26 integers @xmath275 .",
    "a partial sum of @xmath274 is the sum @xmath276 , for @xmath277 .",
    "raney @xcite shows that there is only one cyclic - shift @xmath278 of @xmath274 such that any partial sum of @xmath279 is positive ( see also @xcite ) .",
    "this lemma appears in the literature also as the cycle lemma @xcite . for our purposes , we reformulate this lemma .    [",
    "lem : raney ] let @xmath280 be a sequence of integers whose sum is @xmath281 .",
    "there is only one cyclic - shift @xmath282 of @xmath283 such that every partial sum of @xmath282 except the total sum is nonnegative .",
    "observe that if we rearrange terms of @xmath283 in reverse order and we negate them , then we obtain the sequence @xmath284 whose sum is @xmath285 , and from the raney lemma there is only one cyclic shift of such modified sequence which has the property that any its partial sum except the total sum is nonnegative .",
    "therefore , the raney lamma implies that @xmath286 we extend this relation between @xmath69-primary and free @xmath68-paths to the corresponding families of @xmath58-paths with vertical steps .    for any @xmath54 we have @xmath287    any path from @xmath66",
    "is represented as @xmath288 for some @xmath275 depending on @xmath58 and @xmath289 .",
    "let @xmath290 .",
    "the total sum of members of @xmath291 is @xmath281 and any partial sum ( except the total sum ) is nonnegative . by the raney lemma ,",
    "the number of such sequences is equal to @xmath292 times the number of sequences @xmath293 , where @xmath294 , @xmath295 depend on @xmath58 , and the total sum of elements of @xmath296 is @xmath281 . observe that @xmath296 designates uniquely a free @xmath58-path running from @xmath3 to @xmath4 whose the first step is non - vertical .",
    "the number of sequences @xmath296 is @xmath297 , which finishes the proof .",
    "let @xmath54 and @xmath71 , then @xmath298    first , we show .",
    "the number of vertical steps in any path from @xmath299 is an integer from @xmath300 .",
    "therefore , we partition the family @xmath299 into pairwise disjoint subfamilies @xmath301 @xmath302 , such that @xmath303 contains these paths whose number of vertical steps is @xmath304 . to calculate the size of @xmath303 ,",
    "observe that adding @xmath304 vertical steps to any free @xmath68-path ( without vertical steps ) running from @xmath3 to @xmath305 we obtain a free path from @xmath299 .",
    "any such path has @xmath26 non - vertical steps @xmath12 and those @xmath304 vertical steps may be added between them on @xmath306 ways , where @xmath306 is the number of solutions of @xmath307 , where @xmath308 .",
    "therefore , the size of @xmath303 is @xmath309 times the size of @xmath310 .",
    "the second equality follows directly from together with .",
    "that is , @xmath311 changing the range summation of the second sum and using the recurrence relation for binomial coefficients we obtain the required formula .",
    "suppose that @xmath65 is a step from @xmath9 .",
    "let @xmath312 denote the total number of occurrences of steps @xmath65 in the set of all paths from @xmath313 , and let @xmath314 denote the total number of all steps in @xmath313 .",
    "[ th : prop1 ] let @xmath54 , then    @xmath315    let @xmath65 be a fixed step from @xmath9 and let us introduce the temporary notation @xmath316 for @xmath317 if @xmath318 or @xmath319 if @xmath320 for certain @xmath13 .",
    "further , by a _ level _",
    "we mean a line @xmath321 for any @xmath322 .",
    "take @xmath323 and suppose that @xmath130 has exactly @xmath104 steps @xmath65 and @xmath324 .",
    "let @xmath325 , then @xmath326 for certain possibly empty subpaths @xmath327 .",
    "we define a function @xmath328 from the set of all occurrences of steps @xmath65 in paths from @xmath313 to the set of paths from @xmath316 as follows @xmath329 where @xmath291 and @xmath296 are subpaths of @xmath130 defined as in . to show that @xmath328 is a bijection we need to show that @xmath330 is a path from @xmath316 and any path from @xmath316 is decomposable as for certain uniquely determined @xmath331 .",
    "then the procedure @xmath328 is reversible and @xmath328 is a bijection .",
    "first , observe that @xmath330 removes only one step @xmath65 from @xmath130 which implies that the result is a free path from @xmath316 .",
    "next , suppose that @xmath332 is the leftmost point of @xmath330 such that @xmath333 is the minimal level that the path reaches .",
    "we prove that the path @xmath330 reaches @xmath332 exactly after the last step of @xmath296 in .",
    "recall that @xmath130 is a primary @xmath9-path running from @xmath3 to @xmath4 for which only its ending point lies below the @xmath25-axis .",
    "thus @xmath130 reaches the lowest level exactly after part @xmath334 .",
    "it follows that @xmath291 is a path that does not go below the @xmath25-axis . on the other hand ,",
    "only the ending point of @xmath296 reaches the lowest level .",
    "it follows that @xmath335 is the number of steps @xmath65 of @xmath330 that lie to the right from @xmath332 .",
    "let @xmath336 be a free @xmath9-path @xmath336 from @xmath316 and @xmath337 such that the last point of the subpath @xmath296 lies at the left - most minimal level that @xmath336 reaches .",
    "then we set @xmath338 to be the pair @xmath339 , where @xmath340 is the number of steps @xmath65 in @xmath291 plus one .",
    "[ examp : prop1 ] let @xmath130 be a path from fig .",
    "[ fig:1 ] and @xmath318 .",
    "the path @xmath341 is given in fig .  [",
    "fig : prop1 ] .",
    "-path running from @xmath3 to @xmath342 which has one vertical step that lie to the right from the lowest point drawn by the open circle.,width=132 ]    [ th : prop2 ] for @xmath54 , we have @xmath343 .",
    "we show a bijection @xmath344 between the set of all steps in paths from @xmath313 and the set of paths from @xmath345 .",
    "take a path @xmath90 from @xmath313 and suppose that @xmath346 .",
    "let @xmath347 , then we set @xmath348 it is clear that @xmath349 .",
    "next , we show a map @xmath350 from @xmath345 to the set of all steps in paths from @xmath313 .",
    "let @xmath130 be a path from @xmath345 and @xmath351 .",
    "let us represent @xmath130 as the sequence @xmath352 of integers according to the rule @xmath353 the sum of terms of the sequence @xmath354 is @xmath281 .",
    "therefore , the modified raney lemma ( lemma  [ lem : raney ] ) implies that there is only one cyclic - shift @xmath355 of @xmath354 that every its partial sum except the total sum is nonnegative .",
    "moreover , this cyclic - shift @xmath306 determines uniquely an index @xmath356 such that the cyclic - shift @xmath357 of @xmath306 is the original sequence @xmath354 .",
    "now , if we change back terms of the sequence @xmath306 into steps according to the above rule , we obtain a primary @xmath9-path @xmath90 .",
    "this implies that with any free path @xmath130 from @xmath345 we have associated uniquely a primary path @xmath90 from @xmath313 and an index @xmath356 such that @xmath358 .",
    "as in previous sections , we fix @xmath9 to be a subset of @xmath87 such that @xmath271 . also , we set @xmath272 and @xmath273 . recall that we denote by @xmath47 the set of all @xmath48-primary @xmath9-paths running from @xmath3 to @xmath46 , and by @xmath45 the set of all free @xmath9-paths running from @xmath3 to @xmath46 without further restriction . in this section",
    "we derive formulas for the sizes of these families .",
    "first , we consider the case where the set of steps @xmath58 may contain infinitely many down steps .",
    "the number of free @xmath58-paths running from @xmath3 to @xmath46 satisfies the following recurrence relation @xmath359 with initial conditions @xmath360 , for @xmath361 and @xmath362 . for @xmath363 or @xmath364 the number of such paths is zero .",
    "thus even @xmath58 has infinitely many down steps , the sum on the right - hand side of is finite .",
    "let us define a bivariate generating function in the sense that @xmath365    we have @xmath366    applying standard methods of generatingfunctionology @xcite to the recurrence relation one can show that @xmath367 which implies immediately .    [",
    "prop : numfree ] let @xmath35 and @xmath71 , then    @xmath368 \\big ( \\sum_{s_k\\in\\mathcal n } y^{n - k } \\big)^n ,      \\\\",
    "\\label{eq : fznm2 }      |\\mathcal f_{\\mathcal v}(m , n ) |       & = [ y^{n n + m } ] \\frac{1}{(1-y)^{n+1}}\\big ( \\sum_{s_k\\in\\mathcal n } y^{n - k } \\big)^n.\\end{aligned}\\ ] ]    observe that any free @xmath68-path running from @xmath3 to @xmath46 can be represented as @xmath369 @xmath370 , where @xmath371 are nonnegative integers whose sum is @xmath372 .",
    "thus the number of paths from @xmath373 is the coefficient of @xmath374 in the power series expansion of @xmath375 , as claimed . on the other hand ,",
    "from we have @xmath376 and the formula follows .",
    "[ prop : numprim ] let @xmath54 , then @xmath377 \\frac{1}{(1-y)^n }      \\big ( \\sum_{s_k\\in\\mathcal n } y^{n - k } \\big)^n.\\end{aligned}\\ ] ]    it follows from together with .",
    "namely , @xmath378 a_n(y ) - [ y^{nn } ] a_n(y )      \\right )      \\\\      & = \\frac{1}{n } \\left (       [ y^{nn+1 } ] a_n(y)(1-y )      \\right),\\end{aligned}\\ ] ] where @xmath379 .",
    "the expected number of vertical steps in a path from @xmath66 is equal to @xmath380    the required number is the number of all vertical steps in the set of paths from @xmath66 divided by the number of such paths . by theorem",
    "[ th : prop1 ] , this number is @xmath381 .",
    "applying we obtain the formula .",
    "the expected number of steps in a path from @xmath66 is equal to @xmath382    the required number is the total number of steps in the set of paths from @xmath66 divided by the number of such paths . by theorem",
    "[ th : prop2 ] , this number is @xmath383 . applying we",
    "obtain the formula .      throughout the section",
    "we assume that the sets of possible steps @xmath384 , and @xmath59 are finite and @xmath385 is the maximal integer such that @xmath386 belongs to those sets .",
    "recall that @xmath59 is defined in with respect to @xmath58 .",
    "it is worth pointing out that a unified enumerative and asymptotic theory of lattice paths consisting of steps from @xmath68 is developed by banderier and flajolet @xcite and is associated with the so - called kernel method .",
    "[ prop : p0 ] if @xmath387 , then for @xmath35 we have @xmath388    if @xmath387 then there is no step @xmath157 in @xmath58 such that @xmath389",
    ". thus the last step of any path from @xmath66 is either @xmath11 or @xmath20 .",
    "it follows that @xmath390 . moving @xmath391 to the left - hand side we obtain a recurrence relation for @xmath392 .",
    "iterating the above gives the required sum .",
    "if @xmath393 and @xmath394 , then for @xmath54 we have @xmath395    this follows from the observation that the last step of any @xmath48-primary @xmath58-path running from @xmath3 to @xmath46 , where @xmath396 , is @xmath386 . removing this step we obtain @xmath119-primary @xmath58-path running from @xmath3 to @xmath397",
    "let us define two ordinary generating functions @xmath398 for simplicity of notation , we write @xmath399 instead of @xmath400 for fixed @xmath9 .",
    "[ prop : gener ] let @xmath401 , then @xmath402 where @xmath403",
    "if @xmath404 , and @xmath405 if @xmath406 , and the summation range @xmath407 is over all solutions of @xmath408 such that @xmath409 and @xmath410 .",
    "it follows from the decomposition of an @xmath48-primary @xmath68-path . by convention , we have one path of length zero . if @xmath404 then we have one path of length one",
    ". let @xmath191 and take any path from @xmath411 .",
    "the first step of this path is an up step , let say @xmath15 . if @xmath412 then the entire path @xmath90 is decomposable into @xmath15 and some number , let say @xmath104 , of shorter and nonempty primary @xmath68-paths @xmath413 .",
    "suppose that @xmath414 , then the numbers @xmath415 are positive integers no greater than @xmath385 .",
    "further , @xmath416 is no smaller than @xmath48 . finally , if @xmath176 , then the path is decomposable as above with some number ( possibly zero ) of additional @xmath119-primary @xmath68-paths .",
    "let @xmath401 , then @xmath417 where @xmath418 if @xmath144 , @xmath403 if @xmath419 , and @xmath405 if @xmath420 , for @xmath112 .",
    "further , the summation range @xmath407 is over all solutions of @xmath408 such that @xmath409 and @xmath410 .",
    "the set of steps @xmath59 contains steps @xmath421 , thus the range summation of the first sum is over @xmath356 from one ( for @xmath176 ) or zero ( for @xmath422 ) up to @xmath21 .",
    "the weight of any step @xmath423 is the size of @xmath137 . thus substituting that numbers into the functional equation we obtain the formula .",
    "[ prop : generv ] let @xmath401 , then @xmath424 where @xmath425 if @xmath144 , @xmath403 if @xmath426 , and @xmath405 if @xmath427 , for @xmath112 .",
    "further , the summation range @xmath407 is over all solutions of @xmath408 such that @xmath409 and @xmath410 .    by theorem",
    "[ th : biject ] , the size of @xmath173 is equal to the size of @xmath231 , thus @xmath428 and @xmath429 are the same generating functions .",
    "the riordan group @xcite is a set of infinite lower - triangular matrices defined as follows .",
    "a _ proper riordan array _ is a couple @xmath430 , where @xmath431 with @xmath432 and @xmath433 with @xmath434 . with the proper riordan array we associate the matrix , denoted by @xmath435 , whose @xmath7th element is given by @xmath436 g(x ) f(x)^j$ ] , for @xmath437 .",
    "[ prop : riordan ] the array @xmath438 is the proper riordan array , whose @xmath7th element , denoted by @xmath439 , is the number of free @xmath58-paths running from @xmath3 to @xmath440 .",
    "that is , @xmath441 .    by ,",
    "since @xmath442 and @xmath443 , we conclude that @xmath435 is the proper riordan array , and @xmath444 \\frac{1}{1-y } \\left ( \\frac{y}{1-y}\\sum_{s_p\\in\\mathcal s}y^{n - p } \\right)^j      = |\\mathcal f_{\\mathcal v}(i-(n+1)j , j)|.\\ ] ]    let @xmath445 be the generating function of the sequence @xmath446 . then @xmath447 \\frac{1}{1-y }",
    "a\\left ( \\frac{y}{1-y } \\sum_{s_k\\in\\mathcal v } y^{n - k } \\right),\\ ] ] where @xmath448 .",
    "that is , @xmath449 is the number of free @xmath9-paths running from @xmath3 to @xmath450 .",
    "it follows directly from the properties of the riordan arrays , see e.g. sprugnoli ( * ? ? ?",
    "* th.1.1 ) .",
    "if @xmath451 , then @xmath452 \\frac{\\left ( 1+y \\right)^j}{(1-y)^{j+1 } }       = d(j , i - j),\\ ] ] where @xmath453 is the @xmath7th delannoy number @xcite .",
    "note that @xmath453 is the number of paths running from @xmath3 to @xmath7 consisting of steps @xmath30 , @xmath31 , and @xmath32 .",
    "such paths are called delannoy paths in the literature . by proposition  [ prop : riordan ] ,",
    "we have @xmath454 therefore , there is a bijection between free @xmath58-paths running from @xmath3 to @xmath455 and delannoy paths running from @xmath3 to @xmath456 .",
    "see section  [ sec : delan ] for more details .",
    "in this section we present five examples of lattice paths with vertical steps for which we apply results obtained in the previous sections .",
    "let @xmath457 for fixed @xmath40 and @xmath82 .",
    "let us define the corresponding set of lattice steps without vertical step @xmath11 .",
    "that is , @xmath458 . by theorem",
    "[ th : biject ] , for @xmath53 , and @xmath54 , we have @xmath459 if the weight function @xmath56 over steps from @xmath59-paths is defined as follows @xmath460 where @xmath147 if @xmath144 and @xmath148 if @xmath112 .        by proposition  [ prop : numfree ] and proposition  [ prop :",
    "numprim ] , we have @xmath462       \\frac{(1-z^{n+k+1})^{n}}{(1-z)^{2n+1 } } ,      \\quad      |\\mathcal p_{\\mathcal a}(1,n)|       = \\frac{1}{n } [ z^{nn+1 } ] \\frac{(1 - z^{n+k+1})^n}{(1-z)^{2n}}.\\end{aligned}\\ ] ] from the binomial theorem we derive @xmath463 for any integers @xmath464 . substituting required parameters we obtain the formulas .",
    "[ cor : gener1 ] let @xmath465 and @xmath401 , then @xmath466 where @xmath467 if @xmath144 , @xmath403 for @xmath468 .",
    "further @xmath147 if @xmath144 , @xmath148 if @xmath112 , and the summation range @xmath407 is over all solutions of @xmath408 such that @xmath409 and @xmath410 .",
    "this section is devoted to the case where @xmath387 from the previous example .",
    "namely , let @xmath480 for fixed @xmath40 .",
    "let @xmath481 .",
    "lattice paths consisting of steps from @xmath59 are called @xmath21-ukasiewicz paths @xcite . the weighted ukasiewicz paths",
    "encode several families of combinatorial structures like involutions , permutations , and set partitions , see varvak @xcite .",
    "now we see that the proper weighted @xmath21-ukasiewicz paths encode @xmath48-primary @xmath83-paths , where @xmath144 .",
    "namely , by theorem  [ th : biject ] , for @xmath53 and @xmath54 , we have @xmath482 if the weight function @xmath56 over steps from @xmath59-paths is defined as follows @xmath483 it is worth pointing out , that the weight function @xmath56 is independent of @xmath104 .    for @xmath472 ,",
    "the set @xmath484 is the family of weighted motzkin paths running from @xmath3 to @xmath5 , which never go below the @xmath25-axis , and where the weight of the horizontal step @xmath30 is @xmath225 if it lies on the @xmath25-axis and @xmath485 if it lies above the @xmath25-axis , the weight @xmath31 is one and the weight of @xmath486 is @xmath485 .",
    "applying proposition  [ prop : generv ] for the weights given by we obtain @xmath493 using the binomial theorem and simplifying the result we obtain the functional equation for @xmath494 . in the same way one can show an analogous relation for @xmath495 .",
    "for instance , if @xmath472 , then @xmath496 the generating functions of the sequences @xmath497 , for @xmath144 , are derived by the author in @xcite ( see eq .",
    "18 for @xmath176 and eq .",
    "30a for @xmath127 ) .",
    "that is , @xmath498        in this section we consider the case where the set of steps contains infinitely many down steps .",
    "namely , let @xmath502 for fixed @xmath40 .",
    "let @xmath503 . by theorem",
    "[ th : biject ] , we have @xmath504 if the weight function @xmath505 over steps from @xmath59-paths is defined as follows @xmath506 where @xmath147 if @xmath144 and @xmath148 if @xmath112 .",
    "it follows from proposition  [ prop : numfree ] and proposition  [ prop : numprim ] .",
    "that is , @xmath508 \\left ( 1 - z \\right)^{-2n-1 } ,      \\qquad      |\\mathcal p_{\\mathcal c}(1,n)|       = \\frac{1}{n } [ z^{n n+1 } ] \\left ( 1- z\\right)^{-2n}.\\ ] ]      * remark*. the array @xmath512 for @xmath513 and @xmath514 , is @xmath515 the second row of the array is denoted by a007226 in oeis @xcite . the array @xmath516 for @xmath513 and @xmath514 , is @xmath517 the second row of the array is denoted by a005809 in oeis @xcite .",
    "the third one is a001448 in oeis @xcite , etc .",
    "originally , a _ dyck path _",
    "@xcite is a lattice path running from @xmath3 to @xmath518 and consisting of steps @xmath19 and @xmath20 , for @xmath35 . in this section",
    "we consider generalized dyck paths which contain additional vertical steps .",
    "namely , let @xmath519 , for fixed @xmath520 .",
    "let @xmath521 . by theorem",
    "[ th : biject ] , we have @xmath522 if the weight function @xmath505 over steps from @xmath59-paths is defined as follows @xmath523 where @xmath147 if @xmath144 and @xmath148 if @xmath112 .",
    "it follows from proposition  [ prop : numfree ] and proposition  [ prop : numprim ] .",
    "that is , @xmath525 \\frac{\\big ( 1 + z^{n+k } \\big)^n } { ( 1 - z ) ^{n+1 } } ,      \\quad      |\\mathcal p_{\\mathcal s}(1,n)|       = \\frac{1}{n } [ z^{nn+1 } ]       \\frac{\\big ( 1 + z^{n+k } \\big)^n } { ( 1 - z ) ^{n}}.\\end{aligned}\\ ] ] using we obtain the required formulas .",
    "let @xmath527 , then @xmath528 where @xmath529 if @xmath144 , @xmath403 if @xmath530 , and @xmath405 if @xmath531 , for @xmath112 .",
    "further , the summation range @xmath407 is over all solutions of @xmath408 such that @xmath409 and @xmath410 .",
    "a _ delannoy path _ is a lattice path from @xmath3 to @xmath535 in @xmath536 consisting of steps @xmath30 , @xmath30 , and @xmath32 .",
    "the number of delannoy paths running from @xmath3 to @xmath535 is called _ delannoy number _ @xcite and denoted by @xmath537 .",
    "the number of these paths running from @xmath3 to @xmath538 and never go below the line @xmath539 is called _ central delannoy number _ @xcite and denoted by @xmath540 .",
    "it is well - known that @xmath541 these numbers are denoted in oeis @xcite by a152250 and a001850 .",
    "additionaly , let us denote by @xmath542 the number of central delannoy paths running from @xmath3 to @xmath538 that do not go below the line @xmath539 .",
    "the numbers of such paths are called the large schreder numbers @xcite and they are denoted by a006318 in oeis @xcite .",
    "we obtain required bijection by transforming lattice points by the rule @xmath546 together with preserving connections between lattice points .",
    "indeed , step @xmath11 becomes @xmath30 , @xmath19 becomes @xmath32 , and @xmath117 becomes @xmath31 .",
    "additionally , we remove the last vertical step in every path from @xmath547 .        by proposition",
    "[ prop : delannoy ] , the expected number is the total number of steps @xmath117 in paths from @xmath66 divided by the size of @xmath66 . by theorem",
    "[ th : prop1 ] , we have @xmath552 .",
    "that is , required number is @xmath553 . by , @xmath554 ."
  ],
  "abstract_text": [
    "<S> the paper is devoted to the study of lattice paths that consist of vertical steps @xmath0 and non - vertical steps @xmath1 for some @xmath2 . </S>",
    "<S> two special families of primary and free lattice paths with vertical steps are considered . </S>",
    "<S> it is shown that for any family of primary paths there are equinumerous families of proper weighted lattice paths that consist of only non - vertical steps . </S>",
    "<S> the relation between primary and free paths is established and some combinatorial and statistical properties are obtained . </S>",
    "<S> it is shown that the expected number of vertical steps in a primary path running from @xmath3 to @xmath4 is equal to the number of free paths running from @xmath3 to @xmath5 . </S>",
    "<S> enumerative results with generating functions are given . </S>",
    "<S> finally , a few examples of families of paths with vertical steps are presented and related to ukasiewicz , motzkin , dyck and delannoy paths . </S>"
  ]
}