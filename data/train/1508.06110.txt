{
  "article_text": [
    "the increasing amount of contextual information collected by multitudes of always - on , always - connected devices makes it increasingly possible to extract value and knowledge from statistical data .",
    "for instance , google analyzes gps locations reported by mobile devices to calculate the speed along a road and generate live traffic maps ( google traffic ) , and search data to estimate and predict flu activity ( google flu trends ) .",
    "alas , the large - scale collection of user data raises serious privacy , confidentiality , and liability concerns .",
    "this motivates the need for efficient and scalable techniques allowing providers to _ privately _ gather statistics , and to use such statistics to train models and facilitate predictions .",
    "our work is actually inspired by a few real - world problems :    1 .",
    "online streaming services routinely collect statistics about videos watched by their users , and provide them with personalized suggestions , typically , using recommender systems . in particular , we will focus on recommendations for bbc s iplayer  @xcite , an online platform offering free streaming of tv programs .",
    "urban planning committees , as well as mass transport operators , are keen on gathering statistics about movements and commuting paths , aiming to improve transportation services and predict future trends , e.g. , to respond to anomalies and disruptions on short notice  @xcite .",
    "3 .   the tor network  @xcite needs to collect traffic statistics such as the number of , and traffic generated by , hidden services , in order to fine tune design decisions and convince their funders of the value of the network  @xcite .    in general",
    ", we are interested in scenarios where providers need to train models based on aggregate statistics gathered from many data sources , and our goal is to do so without disclosing fine - grained information about single sources . in theory",
    ", we could turn to existing cryptographic protocols for privacy - friendly aggregation : using homomorphic encryption or secret sharing untrusted aggregators can collect encrypted readings but only decrypt the sum  @xcite .",
    "however , these tools require each data source to perform a number of cryptographic operations , and transmit a number of ciphertexts , _ linear _ in the size of their input , which makes them impractical when sources contribute large streams . for instance , in scenario p1 , we need to collect distributions of `` co - views '' ( i.e. , pairs of videos watched by the same user ) in order to perform recommendations based on k - nearest neighbor ( knn ) algorithms  @xcite : even when only hundreds of programs are available , each user would have to encrypt and transmit a matrix of hundreds of thousands of values . also , differential privacy could be used to let aggregators add noise to datasets so that other parties may perform statistical queries while the probability of identifying single records is minimized  @xcite .",
    "however , differential privacy alone would not protect the privacy of single data sources w.r.t .",
    "the aggregators themselves .",
    "although recent work such as rappor  @xcite supports , via input perturbation , differentially - private statistics collection with an untrusted aggregator , it actually requires millions of users in order to obtain reasonably accurate answers .",
    "our insight is to combine privacy - preserving aggregation with data structures supporting succinct data representation , namely , _",
    "count - min sketch _",
    "@xcite and _ count sketch _  @xcite ( introduced in section  [ sec : cms ] ) .",
    "private aggregation is performed over the sketches , rather than the raw inputs . despite an upper - bounded error in the aggregate",
    "is introduced , this allows us to reduce communication and computational complexity ( for the cryptographic operations ) from _ linear _ to _ logarithmic _ in the size of the inputs .",
    "we then use the resulting private statistics tools to instantiate protocols and build systems addressing applications p1p3 discussed above , where the error does not affect the overall quality of the computation .",
    "more precisely , in section  [ sec : service ] , we present a privacy - preserving recommender system allowing online streaming services like bbc s iplayer to support recommendations without tracking their users .",
    "users browsers encrypt and transmit a succinct representation of the co - view matrix ( i.e. , pairs of videos they have watched ) so that the bbc can only decrypt the aggregate matrix ( i.e. , how many users have watched a given pair ) .",
    "this is broadcast back to the users and used to derive recommendations .",
    "next , in section  [ sec : smartphone ] , we introduce an android application enabling users to report to a service provider their locations over time , in a privacy - preserving way , i.e. , so that only aggregate statistics are disclosed .",
    "we then show that these can be used to train a model geared to predict future movements .",
    "finally , in section  [ sec : tor ] , we build a system for privately computing statistics of tor hidden services , aiming to address the conflict between the importance to collect ( and publish ) such statistics and the risk of harming the privacy of individual tor users .",
    "this addresses an open problem raised by the tor project  @xcite .",
    "we show how to estimate median statistics by collecting an encrypted frequency distribution of the statistics across all hidden services directories ( hsdir ) .",
    "we also discuss real - world deployment and present full - blown implementations of our techniques , in javascript , android , and/or python .",
    "our design makes it extremely easy for anyone to integrate our techniques  as simple as installing a package from a public repository .",
    "user - side deployment is transparent too , as client - side code can run in the browser ( in javascript ) , thus requiring no additional software to be installed or technical understanding of the cryptographic layer .    our techniques are not limited to one particular model :",
    "on the contrary , we can support different trust , robustness , and deployment models .",
    "although our three applications all gather statistics via private sketch aggregation , they do differ in a few key characteristics .",
    "the privacy - friendly recommendation and location prediction systems ( cf .",
    "section  [ sec : service][sec : smartphone ] ) build atop a privacy - preserving aggregation scheme where private keys sum up to zero  @xcite , and use the aggregator itself as a bulletin board to distribute users public keys .",
    "we implement them in javascript to support seamless web application deployment and portability to multiple browsers as well as android . on the other hand , our first - of - its - kind protocol for median statistics of tor hidden services ( cf .",
    "section  [ sec : tor ] ) uses additively homomorphic threshold decryption , relying on a set of non - colluding authorities .",
    "it is developed in python so that it can be integrated on tor hidden service directories .",
    "we also show how to integrate differential privacy guarantees by adding noise to leaked _ intermediate _ values during the median estimation process which does not involve non - linear operations .    * paper organization . * the rest of the paper is organized as follows .",
    "next section introduces relevant background information , then , section  [ sec : service ] and section  [ sec : smartphone ] present , respectively , a privacy - preserving recommender system for online broadcasters and an android - based private location prediction service .",
    "section  [ sec : tor ] introduces a system for privately computing the median statistics of tor hidden services . after reviewing related work in section  [ sec : work ] ,",
    "the paper concludes with section  [ sec : conclusion ] .",
    "* computational diffie hellman assumption . *",
    "let @xmath0 be a cyclic group of order @xmath1 ( @xmath2 , for security parameter @xmath3 ) , with generator @xmath4 .",
    "we say that the computational diffie hellman ( cdh ) problem is hard if , for any probabilistic polynomial - time algorithm @xmath5 and random @xmath6 drawn from @xmath7 : @xmath8 \\vspace{-0.08cm}\\ ] ] is negligible in the security parameter @xmath3",
    ". * decisional diffie hellman assumption .",
    "* let @xmath0 be a cyclic group of order @xmath1 ( @xmath2 ) , with generator @xmath4 .",
    "we say that the decisional diffie hellman ( ddh ) problem is hard if , for any probabilistic polynomial - time algorithm @xmath9 and random @xmath10 drawn from @xmath7 : @xmath11 -   \\pr \\left [ \\mathcal{a ' } ( \\mathbb{g},q , g , g^x , g^y , g^{x y } ) = 1 \\right ] \\big\\vert$ \\vspace{-0.08 cm } } \\ ] ] is negligible in the security parameter @xmath3 .",
    "* pairwise independent hash functions .",
    "* let @xmath12 be a family of _ random - looking _ hash functions mapping values from a domain [ d ] to a range [ r ] .",
    "@xmath12 is _ pairwise independent _ iff @xmath13 $ ] and @xmath14 $ ] : @xmath15 = \\frac{1}{r^2}.   $ ]      * count - min sketch  @xcite * is a data structure that can be used to provide a succinct sublinear - space representation of multi - sets .",
    "an interesting property is that they enable aggregation of the multi - sets represented by two or more sketches using a linear operation on the sketches themselves .",
    "prior uses of count - min sketch include summarizing large amounts of frequency data for sensing , networking , natural language processing , and database applications  @xcite .",
    "[ def : count ] a count - min sketch with parameters @xmath16 is a two - dimensional array ( table ) @xmath17 , with width @xmath18 and depth @xmath19 . given parameters @xmath16 , set @xmath20 and @xmath21 , where @xmath22 is the number of items to be counted .",
    "each entry of the table is initialized to zero . then",
    ", @xmath19 hash functions @xmath23 , are chosen uniformly at random from a pairwise - independent family @xmath24 .",
    "_ update procedure .",
    "_ to update item @xmath25 by a quantity @xmath26 , @xmath26 is added to one element in each row , where the element in row @xmath27 is determined by the hash function @xmath28 .",
    "the update is denoted as @xmath29 . more precisely , to update the count for item @xmath25 to @xmath30 , for each row @xmath27 of @xmath17 , set : @xmath31 \\leftarrow x[j , h_j(i ) ] + c_i\\ ] ]    _ estimation procedure . _ to estimate the count @xmath32 for item @xmath25 , we take the minimum of the estimates of @xmath26 from every row of @xmath17 : @xmath33 \\vspace{-0.15cm}\\ ] ]    _ error upper bound .",
    "_ given estimate @xmath32 , it holds :    @xmath34    @xmath35 with probability @xmath36 .",
    "( where @xmath26 is the true counter ) .",
    "* count sketch  @xcite * is a data structure which provides an estimate for an item s frequency in a stream .",
    "count sketch has the same update procedure as count - min sketch , but differs in the estimation .",
    "specifically , given the table @xmath17 built on the stream , the row estimate of @xmath26 ( which is the counter of item @xmath25 ) for row @xmath27 is computed based on two buckets : @xmath37 $ ] and @xmath38 $ ] , where @xmath39 is defined as : @xmath40 the estimate of @xmath26 for row j is then @xmath41 - x[j , h'_j(i ) ] \\right)\\ ] ] to estimate the count @xmath32 for item @xmath25 , we take the median of the estimates of @xmath26 from every row of @xmath17 : @xmath42 - x[j , h'_j(i ) ] \\right ) \\ ] ] both count - min and count sketch are linear : the element - wise sum of the sketches representing two multi - sets yields the sketch of their union .",
    "differentially private mechanisms allow a party publishing a dataset to make sure that only a bounded amount of information is leaked .",
    "output perturbation mechanisms modify a statistic on a dataset @xmath43 , prior to its release , using a randomized algorithm @xmath44 , so that the output of @xmath44 does not reveal too much information about any particular row in @xmath43 .",
    "a randomized algorithm @xmath44 satisfies @xmath45-differential privacy , if for any two neighbor datasets @xmath46 and @xmath47 that differ only in one row , and for any possible output @xmath48 of @xmath44 , it holds : @xmath49 \\leq e^{\\epsilon } \\cdot \\pr \\left [ a(d_2 ) = r \\right ]   \\vspace{-0.2cm}\\ ] ]    note that @xmath45 here is used differently than in the count - min sketch s definition . although this somewhat overloads the notation for @xmath45 , it is actually clear from the context if it relates to the data structure or to the differential privacy setting .",
    "* laplace mechanism . * in section  [ sec : tor ] , we use the differentially private laplace mechanism @xcite , which perturbs the output of a function @xmath50 . given @xmath50 , the laplace mechanism transforms @xmath50 into a differentially private algorithm , by adding independent and identically distributed ( i.i.d . ) noise ( denoted as @xmath51 ) into each output value of @xmath50 .",
    "the noise @xmath51 is sampled from a laplace distribution @xmath52 with the following probability density function : @xmath53 = \\frac{1}{2\\lambda } e^{|x|\\lambda}$ ] .",
    "dwork  @xcite proves that the laplace mechanism ensures @xmath45-differential privacy if @xmath54 , with @xmath55 denoting the sensitivity of @xmath50 , defined as : @xmath56 where @xmath57 denotes the l1 norm , and @xmath46 and @xmath47 are any two neighbor datasets .",
    "intuitively , @xmath55 measures the maximum possible change in @xmath50 s output when we modify one arbitrary row in @xmath50 s input .",
    "recommender systems are used to predict the utility of a certain item for a particular user , based on their previous ratings as well as those of other `` similar '' users  @xcite .",
    "consider a set of @xmath58 users and a list of @xmath59 items : for each user , a rating can be associated to each item , based , e.g. , on the user s explicit opinion about the item ( e.g. , 1 to 5 stars ) or by implicitly deriving it from purchase records or browser history .",
    "machine learning can be used to predict the expected rating of an unrated item for a given user .",
    "the _ k - nearest neighbor ( knn ) _ classification algorithm finds the top-@xmath60 nearest neighbors for a given item , so that ratings associated with these are combined to predict unknown ratings . in this paper",
    ", we use a variant called _ itemknn _  @xcite .",
    "the algorithm is trained using an item - to - item similarity matrix ( correlation matrix ) , where each element expresses the similarity between a pair of items , and the cosine similarity is computed between vectors of items ( e.g. , user ratings for each item ) .",
    "if ratings are binary values ( e.g. , viewed / not viewed ) , as in one of our applications ( see section  [ sec : service ] ) , the cosine similarity between items @xmath61 and @xmath62 is : @xmath63 where @xmath64 , @xmath65 , and @xmath66 denote , respectively , the number of people who rated both @xmath61 and @xmath62 , @xmath61 , and @xmath62 . given the similarity matrix , we can identify the nearest neighbors for each item as the items with the highest correlation values .",
    "the final model then consists of the identity of the nearest neighbors and their correlation values ( or _ weights _ ) which are used in the prediction process , i.e. , the items that should be recommended .",
    "note that , with itemknn , given the item - to - item matrix , each user could independently compare their ratings with the nearest neighbors of each item in the model . upon finding a match ,",
    "the weight is added to the prediction score for that item .",
    "the items are then ranked by their prediction scores and the top @xmath60 are taken as recommendations .",
    "exponential weighted moving average ( ewma ) models  @xcite can predict future values based on past values weighted with exponentially decreasing weights toward older values . given a signal over time @xmath67 , we indicate with @xmath68 the predicted value of @xmath69 given the past observations , @xmath70 , at time @xmath71 .",
    "predicted signal @xmath68 is estimated as : @xmath72 where @xmath73 is the smoothing coefficient , and @xmath74 indicates the training window , i.e. , @xmath75 corresponds to the oldest observation while @xmath76 is the most recent one .    in the rest of this work , we present efficient techniques to estimate , in a private and distributed way , the training datasets required for itemknn - based recommender system , exponential weighted moving average ( ewma ) modeling , as well as median and other frequency statistics .",
    "the mechanisms combine traditional linear aggregation with sketches , for efficiency , and , when needed , differential privacy to limit information leakage .",
    "media streaming services are becoming increasingly popular as numerous dedicated providers ( e.g. , netflix , amazon , hulu ) as well as `` traditional '' broadcasting services ( e.g. , bbc , cnn , al - jazeera ) offer digital access to tv shows , movies , documentaries , and news .",
    "one of the providers goals is often continuous user engagement , thus , new content should periodically be suggested to users based on their interests .",
    "these recommendations are usually provided by means of _ recommender systems _",
    "@xcite like itemknn ( cf .",
    "section  [ sec : recsystems ] ) , which typically require the full availability of users ratings , whereas , we focus on a model where a provider like the bbc provides recommendations to its users , e.g. , on iplayer , _ without tracking _ their preferences and viewings . note that iplayer does not actually require users to register or have an account , which further motivates the need to protect users privacy .",
    "we present a novel privacy - friendly recommender system where the itemknn algorithm is trained using only aggregate statistics .",
    "aiming to build a global matrix of co - views ( i.e. , pairs of programs watched by the same user ) in a privacy - preserving way , we rely on ( i ) private data aggregation based on secret sharing ( inspired by the `` low overhead protocol '' in  @xcite ) , and ( ii ) the count - min sketch data structure to reduce the computation / communication overhead , trading off an upper - bounded error with increased efficiency .",
    "recommendations are derived , based on itemknn , as follows : users interests are modeled as a ( symmetric ) item - to - item matrix @xmath77 , where @xmath78 is set to @xmath75 if the user has watched both programs @xmath61 and @xmath62 and to @xmath79 otherwise .",
    "@xmath80 is set to @xmath75 if the user has watched the program @xmath61 .",
    "the cosine similarity @xmath81 between programs @xmath61 and @xmath62 can be computed from item - to - item matrices using equation  [ eq : sim ] .",
    "the cosine similarity is then used by each user to derive personalized recommendations as described in section  [ sec : recsystems ]",
    ". * system model . *",
    "our system involves a tally(e.g .",
    ", the bbc ) and a set of users , and no other trusted / semi - trusted authority :    1 .",
    "users , possibly organized in groups , compute their ( secret ) blinding factors , based on the public keys of the other users , in such a way that they all sum up to zero .",
    "they encrypt their local count - min sketch entries ( representing their co - view matrix ) using these blinding factors , and send the resulting ciphertexts to the tally .",
    "2 .   the tally receives the encrypted count - min sketch from each user , aggregates the encrypted counts , and decrypts the aggregates .",
    "these are broadcast back to the users , who use them to recover an estimate of the global similarity matrix and derive personalized itemknn - based recommendations .    * notation . * in the rest of this section , we denote with @xmath58 the number of users , with @xmath59 the total number of items , and with @xmath82 the number of items in a count - min sketch table .",
    "also , let @xmath0 be a cyclic group of prime order @xmath1 for which the computational diffie - hellman problem ( cdh ) is hard and @xmath4 be the generator of the same group .",
    "@xmath83 denotes a cryptographic hash function mapping strings of arbitrary length to integers in @xmath84 .",
    "finally , `` @xmath85 '' denotes the concatenation operator and @xmath86 means that @xmath61 is sampled at random from @xmath44 .",
    "we assume the system runs on input public parameters @xmath87 , where @xmath4 generates a group of order @xmath1 in @xmath0 .",
    "[ fig : press ]      we now present the details of our proposed protocol . its cryptographic layer is also summarized in figure  [ fig : press ] .",
    "* each user@xmath88 ( @xmath89 $ ] ) generates a private key @xmath90 , and computes and publishes public key @xmath91 .",
    "public keys of all usersare distributed to each other , using a public bulletin board or the tallyitself .",
    "as discussed later in this section , usersmight be organized in _",
    "groups _ in order to facilitate aggregation . to ease presentation",
    ", we discuss the protocol steps for a single group of users , as combining aggregates from different groups is trivial and can be done , in the clear , by the tally .    * count - min sketch construction .",
    "* we assume each user@xmath88 holds an input vector of data points @xmath92 , which represents @xmath88 s co - view matrix ( i.e. , @xmath93 ) .",
    "first , @xmath88 initializes a count - min sketch table @xmath94 with all zero entries . in the following ,",
    "we represent @xmath88 s count - min sketch table @xmath95 as a vector of length @xmath82 .",
    "then , @xmath88 encodes @xmath96 in the count - min sketch using the update procedure described in section  [ sec : cms ] , where the following pairwise - independent hash function is employed : @xmath97 for @xmath98 random integers modulo a random prime @xmath99 . at the end of this step , @xmath88 has built a count - min sketch table @xmath100 ( with @xmath101 as per definition  [ def : count ] ) .    * encryption . * to participate in the privacy - preserving sketch aggregation , each user@xmath88 first needs to generate blinding factors . at round @xmath102 , for each @xmath103 , user@xmath88 computes : @xmath104 where @xmath105 note that the sum of all @xmath106 s equals to zero : @xmath107 then , for each entry @xmath108 , @xmath88 encrypts @xmath108 as @xmath109 , as only 32 bits of @xmath110 are enough for our application , and sends the resulting ciphertext to the tally .",
    "* aggregation . * the tallyreceives the ciphertexts from the @xmath58 usersand ( obliviously ) aggregates the sketches . specifically , for @xmath103 , it computes : @xmath111 where @xmath112 denotes the @xmath113-th item in the aggregate count - min sketch table .",
    "@xmath114 , are broadcast back to the users(but can obviously be used locally at the tallytoo ) , who use them to recover an estimate of the global matrix and derive personalized recommendations via the itemknn algorithm .",
    "* fault tolerance .",
    "* if , during the aggregation phase , only a subset of usersreport their values @xmath110 to the tally , the sum of the @xmath106 s is no longer equal to zero and the aggregate items @xmath112 can not be decrypted .",
    "however , it is possible to recover as follows : let @xmath115 denote the list of userswho have submitted the data in the aggregation phase .",
    "the tallysends @xmath115 to each @xmath116 .",
    "then , @xmath88 computes , for each @xmath103 , @xmath117 and sends these values back to the tally .    assuming all usersin @xmath115 submit the values @xmath118",
    ", the tallycan recover the entries in the aggregate sketches ( for usersin @xmath115 ) by computing : @xmath119    * groups . *",
    "although the protocol can cope with faults , we should nonetheless minimize the probability of missed contributions .",
    "moreover , as discussed in section  [ sec : performance ] , the protocol s complexity also depends on the number of usersand , in the case of iplayer , there can be peaks of hundreds of thousands of users per hour . consequently , we need to organize usersinto reasonably sized groups . as mentioned earlier , combining aggregates from different groups is straightforward and can be done , in the clear , by the tally .",
    "we argue that a good choice is between 100 and 1,000 usersper group , as also supported by our empirical evaluation presented later .",
    "there could be a few different ways to form groups : for instance , the tallycould group usersin physical proximity and/or select usersthat are watching / listening a video with at least a couple of minutes left to watch . also note that usersnot involved in the protocol ( or having limited `` history '' ) can get recommendations too as the tallycan still provide them with the global co - view matrix , which , even though it does not include their own contribution , can be used by the itemknn algorithm to derive recommendations .",
    "* security analysis . * the security of our scheme , in the honest - but - curious model , is straightforwardly guaranteed by that of the `` low overhead '' private aggregation scheme by kursawe et al .",
    "@xcite , which is secure under the cdh assumption .",
    "we modify it to cope with users faults and to aggregate count - min sketch entries , rather than the actual data , and this does not affect the privacy properties of the scheme . in case of passive collusions between users , the confidentiality of the data provided by the non - colluding usersis still preserved .",
    "finally , note that malicious active userscould report fake values in order to invalidate the final aggregation values , however , protocol s integrity could be preserved using verifiable tools such as zero - knowledge proofs and commitments , an extension we leave as part of future work , along with considering a malicious tally .",
    "0.4        0.4       we have implemented the tally s functionalities as a web application running on the server - side javascript environment _ node.js _ ( or _ node _ for short ) .",
    "we also use _ _ express.js _ _ to organize our application into a model view controller ( mvc ) web architecture and _ _ socket.io _ _ to set up bidirectional web - socket connections .",
    "integrating our solution is as simple as installing a _ node _ module through the node package manager ( npm ) and importing it from any web application , thus requiring no familiarity with the inner workings of the cryptographic and aggregation layers .",
    "the module for user s functionalities is modeled as the client - side of the web application and can be run as simple javascript code embedded on a html page .",
    "therefore , it requires no deployment or installation of any additional software by the users , but runs directly in the browser , transparently , when usersvisit tally s website .",
    "our javascript implementation is also compatible with smartphone browsers ( e.g. , the android version of chrome ) , nevertheless , we have also implemented a stand - alone android application using apache cordova .",
    "the source code of both our browser and android app so that developers can simply import and extend our code for their own applications .",
    "* cryptographic operations . * the cryptographic layer of the protocol is also written in javascript , using the ed25519 curve  @xcite implementation available from _",
    "elliptic.js_ , which supports 256-bit points and provides security comparable to a 128-bit security parameter .",
    "sha-256 is used for ( cryptographic ) hashing operations .",
    "we now analyze the performance of our system , both analytically ( reporting asymptotic complexities ) and empirically . * asymptotic complexities . * the setup phase carried out by the userrequires @xmath120 random group points ( where @xmath58 is the number of total users ) and @xmath120 messages need to be sent for all the usersto distribute the public keys . to generate the blinding factors",
    ", each userthen needs to perform @xmath120 exponentiations in @xmath0 and @xmath121 hashing operations .",
    "count - min sketch encryption ( at user s side ) requires @xmath122 integer additions in @xmath84 , one for each of the @xmath123 count - min sketch entries , while communication complexity amounts to @xmath124 32-bits integers for each user . to complete the aggregation , the tallycomputes @xmath121 linear operations .",
    "the use of the count - min sketch significantly speeds up the efficiency of the system .",
    "in fact , without them , each userwould need to perform @xmath125 hashing operations and send @xmath126 32-bit integers , while the tallywould need to compute @xmath125 operations .",
    "0.4        0.4     0.4        0.4     * computation overhead .",
    "* we have also simulated the execution of our private recommender system and measured execution times ( averaged over 100 iterations ) for all operations .",
    "simulations have been performed on a machine running ubuntu trusty ( ubuntu 14.04.2 lts ) , equipped with a 2.4 ghz cpu i5 - 520 m and 4 gb ram . in figure",
    "[ fig : time_users ] , we plot running times of protocol s client- and server - side for an increasing number of users , fixing the number of programs to 700 ( the average number of programs available on iplayer ) and the sketch parameters to @xmath127 ( see definition  [ def : count ] ) . using this setting , the number of rows @xmath19 and columns @xmath18 of the count - min sketch amounts to @xmath128 leading to a count - min sketch of size @xmath129 4,896 . running times",
    "grow linearly in the number of users .",
    "as illustrated in figure  [ fig : time_client_users ] , the encryption , performed by each user(see step ( 2 ) in figure  [ fig : press ] ) , takes 2.7 seconds with 100 usersand 27 seconds with 1,000 users , while figure  [ fig : time_server_users ] reveals that tallycompletes the aggregation ( step ( 5 ) in figure  [ fig : press ] ) in 78ms ( resp .",
    ", 780ms ) with 100 ( resp . , 1,000 ) users .",
    "we then measure the execution time for an increasing number of programs and a fixed number of users , i.e. , 1,000 .",
    "figure  [ fig : time_client_items ] illustrates running times logarithmic growth for encryption , ranging from 21 seconds with 100 programs to 28 seconds with 1,000 programs . figure  [ fig : time_server_items ] illustrates tally s execution times for the aggregation , which approximately range from 600ms to 800ms . note that the `` stair '' effect of the plots in figure  [ fig : time_items ] is due to the fact that the count - min sketch size can be the same with close numbers of programs .    without the compression factor of the count - min sketch ,",
    "the running times for both userand tallywould grow linearly in the size of the co - view matrix ( i.e. , @xmath130 ) , yielding remarkably slower executions . as illustrated in figure  [ fig : wo_time_client_items ] , with 1,000 usersand 1,000 programs , running time for each useramounts to almost 50 minutes instead of 28 seconds using the sketch , whereas , the aggregation at the tallycompletes in almost one and a half minute ( versus less than one second using count - min sketch ) .",
    "finally , execution time of the _ itemknn _ operations carried out at user s side , with 700 programs , amounts to 850ms for each user .    * communication overhead . * in table  [ tab : bytes ] , we report the amount of bytes exchanged between all parties for different number of usersand count - min sketch sizes , fixing the number of programs to 700 .",
    "note that , without the compressing factor of the sketch , with 700 programs , each userwould have to send 960 kb instead of 20 kb",
    ".    * accuracy estimation . *",
    "finally , we evaluate the accuracy loss due to the use of count - min sketch , specifically , over the most 50 frequent items , using a synthetic dataset sampled from a zipfian distribution simulating a million users .",
    "we set the count - min sketch parameters to be @xmath131 and @xmath132 as we have measured an acceptable accuracy loss level introduced by the count - min sketch ( see below ) .",
    "once again , we fix the number of programs to @xmath133 , leading to a count - min sketch of size @xmath134 4,896 .",
    "figure  [ fig : top50 ] shows that the count - min sketch estimation over the most 50 frequent items is almost indistinguishable from the true population .",
    "we also plot , in figure  [ fig : sketch - accuracy ] , the average error , defined as @xmath135 , over the most 50 frequent items with an increasing number of users , while fixing @xmath133 , @xmath132 ( yielding a total number of items to update on the count - min sketch of @xmath136  245,000 ) and three choices of the @xmath45 parameter , i.e. , @xmath137 , and @xmath138 . the average error decreases with more usersand smaller values of @xmath45 .",
    "standard deviation values are infinitesimal , thus , we do not include them in the plot as they would not be visible .    0.4        0.4",
    "the rapid proliferation of smartphones , with 2 billion estimated users by the year 2016  @xcite , makes it increasingly easy ( and appealing ) to track users locations and movements using sensors like gps and wifi .",
    "this contextual information can be extremely useful to train machine learning algorithms and predict future events , paving the way for anticipatory mobile computing  @xcite .",
    "location and movement models can be used , e.g. , for traffic mitigation , road monitoring , and hazard detection  @xcite , as well as to guide decision frameworks to respond to anomalies and disruptions on short notice .",
    "pervasive location sensing , however , raises important privacy concerns as single individuals movements can easily be tracked and sensitive information could be exposed .",
    "if home and work locations can be deduced from anonymized location traces , single individuals can be uniquely re - identified  @xcite .",
    "moreover , location patterns have been shown to leak personal information , e.g. , taxi drivers religion and individuals visits to gentleman s clubs .    in this section ,",
    "we instantiate a smartphone application enabling usersto report , to a service provider ( tally ) , their locations over time .",
    "users privacy is protected as only aggregate ( over many users ) location statistics are disclosed .",
    "we then show how these statistics can be used to train a model and predict future movements , and support private computation and prediction of `` heat maps '' relying on the aggregate counts of people in a given area over a period of time .",
    "* system model .",
    "* we operate in the same model as our privacy - friendly recommender system ( cf .  section  [ sec : prot ] ) , involving a tallythat privately aggregates location statistics contributed from a set of users , and re - use the same cryptographic layer . once again",
    ", we support efficient computation of private statistics using ( i ) count - min sketch s succinct data representation and ( ii ) privacy - preserving aggregation with users blinding factors summing up to zero",
    ".    * overview .",
    "* we assume a 2-d space territory @xmath139 is partitioned into a grid of @xmath140 cells ( @xmath141 , s[1,2 ] , \\dots , s[p , p ]   \\rbrace}$ ] ) , and @xmath76 finite intervals ( time slots ) @xmath142 $ ] , where @xmath143 .",
    "let @xmath144 be the grid containing , for each cell , the number of times the user@xmath88 has logged her position ( using a gps measurement ) within that particular cell over @xmath145 $ ] .",
    "user@xmath88 , for each time slot @xmath142 $ ] , builds the grid @xmath144 with locations logged over time , maps the grid into a count - min sketch , and sends the encrypted sketch to the tally .",
    "this aggregates and decrypts them , reconstructing the grid containing the ( estimated ) aggregate locations .",
    "the location statistics can be used to display ` heat maps' ( e.g. , a graphical representation of congestion ) , or to perform time - series based prediction over a sequence of heat maps . using an exponential weighted moving average ( ewma ) model ( see section  [ sec : timepred ] )",
    ", we can predict the future popularity of a cell , by relying on the past ( approximated ) observations for that cell .",
    "other machine learning techniques , e.g. , multivariate support vector machines or logistic regression , could also be used for the prediction , but we consider it to be beyond the scope of this paper to investigate new predictors .    * the san francisco cabs dataset . * to evaluate the feasibility of our intuition , we use a publicly available dataset containing mobility traces of san francisco taxi cabs .",
    "the dataset contains 11 million gps coordinates , generated by 536 taxis over almost a month in may 2008 .",
    "number of taxi locations over time . ]",
    "we group the taxi locations in time slots of one hour , leading to a total of @xmath146 epochs",
    ". figure  [ fig : heat - slots ] shows the presence of weekly and daily patterns in the number of taxi locations over time ( i.e. hourly time slots ) and peaks of roughly 25,000 total hourly contributions .",
    "average error introduced by the count - min sketch on the aggregate statistics for the top-100 locations . ]    * succinct data representation .",
    "* we investigate whether succinct data representation could be applied to the problem of collecting location statistics , and measure the accuracy loss introduced by the count - min sketch s compact representation . in figure",
    "[ fig : heat - error ] , we plot the average error defined as @xmath135 and the relative standard deviation over the most 100 popular cells for each time slot , while fixing @xmath127 and the total number of cells to @xmath147 ( yielding a count - min sketch of size @xmath148 ) .",
    "observe that the average error is infinitesimal for every time slots .",
    "mean absolute error in the prediction for different values of prediction algorithm s parameter @xmath149 . ]",
    "* heat map prediction .",
    "* next , we focus on predicting future heat maps using the ewma algorithm introduced in section  [ sec : timepred ] .",
    "we start by evaluating the accuracy of ewma - based prediction relying on the aggregates collected _ without using the count - min sketch_. we perform the prediction over a subset of @xmath150 consecutive epochs having the maximum number of reported locations , giving the past 24 hours observations as input to the ewma algorithm .",
    "figure  [ fig : heat - pred ] plots the mean absolute error ( mae ) in the prediction compared to the ground truth over the most 100 popular cells , considering different values of @xmath149 , i.e. , ewma s smoothing coefficient ( cf .  section  [ sec : timepred ] ) .",
    "the plot shows that , in almost all slots , lower values of @xmath149 lead to more accurate results .",
    "mean absolute error introduced by the count - min sketch on the prediction accuracy . ]",
    "we then perform the prediction over the approximate heat maps , i.e. , _ using the sketches_. we focus on the same time slot , and fix @xmath151 .",
    "figure  [ fig : heat - comp ] shows the error introduced by the count - min sketch in the prediction , for each time slot considered , with respect to the prediction based on the _ `` real '' _ heat maps .",
    "we observe that this error , while fluctuating , is appreciably low for every prediction , thus confirming the feasibility of our techniques for the problem of privately predicting future heat maps .    once again",
    ", we have implemented our techniques in javascript , with the server - side running as a _ node _ module , and client - side running as an open - source android application built using apache cordova .",
    "note that , due to space limitations , a performance evaluation of our implementations is not presented in this version as it would anyway mirror the one presented in section  [ sec : service ] .",
    "the privacy - preserving collection of statistics using efficient data structures , seeking a trade - off between accuracy and efficiency , has also interesting applications in non - user facing settings such as collecting network statistics from servers or routers . in this section ,",
    "we present a novel mechanism geared to privately gather statistics in the context of the tor anonymity network  @xcite .",
    "the tor project has recently received funding to improve monitoring of load and usage of tor hidden services .",
    "this motivates them to extract aggregate statistics about the number of hidden service descriptors from multiple hidden service directory authorities . in order to ensure robustness",
    ", the tor project has determined that the median  rather than the mean  of these volumes should be calculated , which is beyond privacy - friendly statistics approaches like privex  @xcite . in this section ,",
    "we first describe the protocol for estimating median statistics using count sketch , then , we present the design and deployment of its prototype implementation , along with its performance evaluation .",
    "we rely on the count sketch  @xcite data structure , which closely resembles count - min sketch , used in sections  [ sec : service][sec : smartphone ] .",
    "recall from section  [ sec : cms ] that building a count sketch follows the same process as a count - min sketch , thus leading to a @xmath152 table of positive integer values , whereas , the estimation of an item s frequency is slightly different : for each row , @xmath153 , a hash function is applied to the item leading to a column @xmath154 .",
    "an unbiased estimator of the frequency of the item is the value at this position minus the value at an adjacent position  and the median of those estimators is the final estimated frequency .",
    "what is key to the success of our techniques is that the estimate of the frequency of specific values , as well as sets of values , is a simple linear sum of count sketch entries ; computing it does not require non - linear ( e.g. , _ min _ ) operations as for the count - min sketch . for this application",
    ", we build on privacy - preserving data aggregation based on threshold public - key encryption , specifically , an additively homomorphic elliptic - curve variant of el gamal ( ah - ecc )  @xcite , summarized below .",
    "this allows us to seamlessly tolerate missing contributions  following an approached first proposed by jawurek et al .",
    "@xcite .",
    "* ah - ecc * consists of the following three algorithms ( using a multiplicative notation ) :    _ keygen_@xmath155 : given a security parameter @xmath3 , choose an elliptic curve @xmath156 and @xmath157 public generators on @xmath156 , generating a group of order @xmath1 .",
    "choose a random private key @xmath158 , define the public key as @xmath159 , and output public parameters @xmath160 and private key @xmath161 .",
    "_ encrypt_@xmath162 : the message @xmath163 is encrypted by computing two elliptic curve points as @xmath164 , where @xmath165 is selected at random . the ciphertext is thus the tuple of points @xmath166 .    _ decrypt_@xmath167 : decryption is performed by computing the element @xmath168",
    ". we can achieve constant time decryption by pre - computing a table of discrete logarithms which is then used to recover @xmath163 from @xmath169 ( this solution is practical for small values of @xmath163 ) .    ah - ecc is additively homomorphic since an element - wise multiplication of ciphertexts yields an encryption of their sum .",
    "* setup . *",
    "our system relies on a set of authorities that can jointly decrypt a ciphertext from the ah - ecc additively homomorphic public - key cryptosystem . during setup ,",
    "each authority generates their public and private key and a group public key is computed by multiplying all the authorities public keys .",
    "note that we operate in a distributed system setting ( i.e. , the tor network ) , therefore , similar to privex  @xcite , one can easily instantiate decryption authorities . *",
    "protocol . * using count sketch , we can collect a number of private readings from hidden service directories ( hsdir ) , and compute an approximation of the median .",
    "each hsdir builds a count sketch , inserts its private values into it , encrypts it , and sends it to the authorities .",
    "these aggregate all sketches by homomorphically adding them element - wise , yielding an encrypted sketch summarizing the set of all hsdir values .",
    "once the authorities have computed the aggregate sketch , an interactive divide - and - conquer algorithm is applied to estimate the median given the range of its possible values is known .",
    "at each iteration , the number of sample values in the range is known , starting with the full range and all values received .",
    "the range is then halved and the sum of all elements falling in the first half of the range is jointly decrypted .",
    "if the median falls within first half of the range it is retained for the next iteration , otherwise the second half of the range is considered at the next iteration .",
    "the process stops once the range is a single element .",
    "following the master theorem  @xcite , we know that this process converges in @xmath170 steps , for @xmath171 elements in the domain of the values / median . due to frequency estimations for the ranges using count sketches that provide noisy estimates , we expect this median to be close , but possibly not exactly the same as the true sample median , depending on the count sketch parameters @xmath172 and @xmath45",
    ".    * output privacy . *",
    "note that this process is not `` perfectly '' private in a traditional secure computation setting , as the volume of reported values falling within the intermediate ranges considered is leaked .",
    "this may be dealt with in two ways : ( 1 ) the leakage may be considered acceptable and the algorithm run as described , or ( 2 ) the technique can be enhanced to provide differential privacy by adding noise to each intermediate value .    * differentially private estimates .",
    "* the sensitivity  @xcite of the estimates in any range of values using the count sketch is at most @xmath19 , since each hsdir contribution increases by at most 1 in at most @xmath19 values into the @xmath152 count sketch table .",
    "therefore , we can achieve @xmath45-differential privacy if we add , to each decrypted value , noise from a laplace distribution with mean zero and variance @xmath173 , where @xmath174 is the number of decrypted intermediate results and @xmath45 the differential privacy parameter .",
    "however , doing so may result in the divide - and - conquer algorithm mis - estimating the range in which the median lies , and results in further mistakes in the final median estimate .",
    "( as discussed in section  [ sec : diffprivacy ] , although we use @xmath45 to denote a parameter for both count sketch and differential privacy , it is clear from the context which one it relates to . )",
    "we implement and evaluate the proposed scheme aiming to : ( i ) estimate the trade - off between size of the sketch and the accuracy of the median computation , ( ii ) evaluate the cost of cryptographic computation and communication overheads , and ( iii ) assess the trade - off between the accuracy of the median and the quality of protection that may be achieved through the differentially private mechanism .    for our evaluation ,",
    "we instantiate ah - ecc using the nist - p224 curve as provided by the openssl library and its optimizations by ksper  @xcite . our implementation of the cryptographic core of the private median scheme amounts to 300 lines of python code using the _ petlib _ openssl wrapper , and another 350 lines of python include unit tests and measurement code .",
    "all experiments have been performed on a xubuntu trusty ( ubuntu 14.04.2 lts ) linux vm , running on a 64 bit windows 7 host ( cpu i7 - 4700mq , 2.4ghz , 16 gb ram ) .",
    "our python implementation is easily pluggable as part of the tor infrastructure and does not require changes within the tor ( c - based ) core functionalities .",
    "we first illustrate the performance and accuracy of estimating the median using this technique with both sketch parameters @xmath45 and @xmath172 equal to either 0.25 or 0.05 against the london atlas dataset in table  [ tab : stats ] ( see appendix ) .",
    "the error rate is computed as the absolute value of difference between the estimated and true median divided by the true median .",
    "further results are presented on an experimental setup that uses as a reference problem the median estimation in a set of 1,200 sample values , drawn from a mixture distribution : 1,000 values from a normal distribution with mean 300 and variance 25 , and 200 values drawn from a normal distribution with mean 500 and variance 200 .",
    "this reference problem closely matches the settings of the tor project both in terms of the range of vales ( assumed to be within @xmath175 $ ] ) and the number of samples  @xcite .",
    "count sketch size versus estimation quality . ]    * quality vs. size .",
    "* figure  [ fig : tor - sizes ] illustrates the trade - off between the quality of the estimation of the median algorithm and the size overhead of the count sketch .",
    "the size overhead ( green slim line ) is computed as the number of encrypted elements in the sketch as compared with the number of elements in the range of the median ( 1,000 for our reference problem ) .",
    "the estimation accuracy ( blue broader line ) is represented as the fraction of the absolute deviation of the estimate from the real value over the real sample median ( light blue region represents the standard deviation of the mean over 40 experiments for each datapoint ) .",
    "thus both qualities can be represented as percentages .",
    "the trade off between the size of the sketch and the accuracy of the estimate is evident : as the sketch size reaches a smaller fraction of the total possible number of values , the error becomes larger than the range of the median .",
    "thus , count sketch with parameters @xmath176 are unnecessary , since they do not lead to a reduction of the information that needs to be transmitted from each client to the authorities ; conversely , for @xmath177 the estimate of the median deviates by more than 20% of its true value making it highly unreliable .    for all subsequent experiments",
    ", we consider a count sketch with values @xmath178 , leading to @xmath179 and @xmath180 .",
    "as outlined in figure  [ fig : tor - sizes ] , this represents a good trade - off between the size of the count sketch ( @xmath181 of transmitting all values ) and the error .    *",
    "true size and performance . * when implemented using nist - p224 curves , the reference count sketch may be serialized in 10,898 bytes .",
    "each count sketch takes 0.001 sec to encrypt at each hsdir , and it takes 1.456 seconds to aggregate 1,200 sketches at each authority ( 0.001 sec per sketch ) .",
    "as expected , from the range of the reference problem , 10 decryption iterations are sufficient to converge to the median ( therefore @xmath182 ) .",
    "the number of homomorphic additions for each decryption round is linear in the range of the median and their total computational cost is the same order of magnitude as a full count sketch encryption .",
    "it is clear from these figures that the computational overhead of the proposed technique is eminently practical , and the bandwidth overhead acceptable .",
    "quality versus differential privacy protection . ]    * quality vs. differential privacy protection .",
    "* figure  [ fig : tor - quality ] illustrates the trade - off between the quality of the median estimation and the quality of differential privacy protection .",
    "the x - axis represents the @xmath45 parameter of the differentially private system , and the y - axis the absolute error between the estimate and the true sample median .",
    "differential privacy with parameter @xmath183 can be provided without significantly affecting the quality of the median estimate . however , for @xmath184 the volume of the error grows exponentially ( note the log scale of the x - axis ) . while the exact value of a meaningful @xmath45 parameter is often debated in the literature , we conclude that the mechanism only provides a limited degree of protection , and no ability to readily tune up protection : utility degrades very rapidly as the security parameter @xmath45 decreases .",
    "this section reviews prior work on privacy - preserving techniques applied to data aggregation , recommender systems , machine learning , participatory sensing , as well as efficient data structures for succinct representation .",
    "kursawe et al .",
    "@xcite introduce a few cryptographic constructions to aggregate energy consumptions in the context of smart metering , relying on diffie - hellman , bilinear maps , and a _ `` low overhead '' _ protocol where meters encryption keys sum up to zero .",
    "our schemes for the private recommender system ( section  [ sec : service ] ) and location prediction ( section  [ sec : smartphone ] ) rely on a protocol inspired by @xcite s `` low overhead '' protocol , but perform private aggregation using succinct data representation rather than the raw inputs . using count - min sketch  @xcite ,",
    "we reduce computation and communication overhead incurred by each user from linear to logarithmic in the size of the input .",
    "we also show how to recover from node failures , i.e. , in our schemes , the aggregator can still retrieve the statistics ( and train models ) even when a subset of users go offline or fail to report data .",
    "castelluccia et al .",
    "@xcite propose a new homomorphic encryption to allow intermediate wireless sensor nodes to aggregate encrypted data gathered from other nodes .",
    "shi et al .",
    "combine private aggregation with differential privacy supporting the aggregation of encrypted perturbed readings reported by the meters . individual amounts of random noise cancel each other out during aggregation , except for a specific amount that guarantees computational differential privacy .",
    "their protocol is also so that encryption keys sum up to zero but , unlike ours , requires solving a discrete logarithm and the presence of a trusted dealer .",
    "jawurek et al .",
    "@xcite propose a privacy - friendly aggregation scheme with robustness against missing user inputs , by including additional authorities that facilitate the protocol but do not learn any secrets or inputs .",
    "however , at least one of the authorities has to be honest , i.e. , if all collude , the protocol does not provide any privacy guarantee .",
    "chan et al .",
    "@xcite also provides fault tolerance by extending @xcite s protocol , however , with a poly - logarithmic penalty .",
    "additional , more loosely related , private aggregation schemes include  @xcite .",
    "a combination of homomorphic encryption and differential privacy has been explored by chen et al .",
    "@xcite , allowing third parties to gather web analytics .",
    "users encrypt their data using the data aggregator public key and send them to a proxy , who adds noise to the ciphertexts and forwards the results to the data aggregator .",
    "the latter computes the aggregates after decrypting each individual contribution .",
    "however , this scheme introduces a large overhead both in terms of communication ( one kb per single bit of user data ) and computation ( one public key operation per single bit ) . in the same line of work , akkus et al .",
    "@xcite propose a system providing differential privacy guarantees .",
    "their scheme scales better than  @xcite as it requires users to encrypt fewer bits per query , but still relies on expensive public - key crypto operations . in  @xcite ,",
    "the authors propose a scheme based on a similar trust model as  @xcite but with an enhanced scalability by using simple exclusive - or ( xor ) operations rather than public key operations .",
    "however , their proposal still relies on honest - but - curious servers that do not collude with each other .",
    "erlingsson et al .  @xcite introduce rappor , which enables the collection of browser statistics on values and strings provided by a large number of clients ( e.g. homepage settings , running processes , etc . ) , including categories , frequencies , and histograms .",
    "rappor supports privacy - preserving data - collection mechanism by relying on randomized responses via input perturbation , aiming to guarantee local differential privacy for individual reports .",
    "this , however , requires millions of users in order to obtain approximate answers to queries .",
    "finally , elahi et al .",
    "@xcite present a protocol for privately computing mean statistics on tor traffic .",
    "they introduce two ad - hoc protocols relying , respectively , on secret sharing and distributed decryption .",
    "by contrast , our application for gathering private statistics for tor enables the computation of the median statistics on traffic generated by tor hidden services  which constituted an open problem  @xcite  by relying on additively homomorphic encryption and differential privacy .",
    "mcsherry and mironov  @xcite propose a privacy - preserving recommender system that relies on trusted computing , while cisse and albayrak  @xcite use differential privacy to add privacy guarantees to a few algorithms presented during the netflix prize competition .",
    "our private recommender system differs from theirs as we do not rely on trusted computing or differential privacy , but leverage a privacy - friendly aggregation cryptographic protocol and count - min sketch .",
    "homomorphic encryption based techniques have also been used to perform other machine learning operations on encrypted data , including matrix factorization @xcite , linear classifiers @xcite , and decision trees @xcite . building a cloud - based model from multiple user datasets has been also addressed in @xcite , which explores the feasibility of fully homomorphic encryption ( fhe ) based techniques . however , at the moment , fhe operations are still prohibitively expensive .      mood et al .",
    "@xcite propose a privacy - preserving participatory sensing application which allows users to locate nearby friends without disclosing exact locations , via secure function evaluation  @xcite , but do not address the problem of scaling to large streams / number of users .",
    "de cristofaro and soriente  @xcite introduce a privacy - enhanced distributed querying infrastructure for participatory and urban sensing systems .",
    "work in  @xcite and  @xcite provide either @xmath185-anonymity  @xcite and @xmath186-diversity @xcite to guarantee anonymity of users through mix network techniques  @xcite",
    ". however , their techniques are not provably - secure and they only provide partial confidentiality .",
    "then ,  @xcite suggest data perturbation in a known community for computing statistics and protecting anonymity .",
    "trusted platform modules ( tpms ) are instead used in  @xcite and  @xcite to protect integrity and authenticity of user contents .    in a way",
    ", we also address the problem of participatory sensing privacy by proposing a scalable and provable secure technique for collecting user - generated streams of data involving a large number of users .",
    "mir et al .",
    "@xcite present an efficient scheme guaranteeing differential privacy of data analyses ( even when the internal memory of the algorithm may be compromised ) , using a data structure similar to the count - min sketch to estimate heavy hitters .",
    "work in  @xcite address the problem of finding heavy hitters histograms while preserving privacy using a differentially private protocol .",
    "then ,  @xcite addresses the case where individual users randomize their own data and then send differentially private reports to an untrusted server handling reports aggregation .",
    "other proposals combine differential privacy and count - min sketch to obtain aggregate information about vehicle traffic  @xcite as well as summaries of sparse databases  @xcite .",
    "ashok et al .",
    "@xcite present a privacy - preserving protocol for computing the set - union cardinality among several parties using bloom filters  @xcite .",
    "however , their proposal is insecure , as shown by  @xcite , who also introduces a novel bloom filter based protocol for set - union and set - intersection cardinality .",
    "lin et al .",
    "@xcite improve the performance of @xcite s protocol for private proximity testing by reducing the problem to simple equality testing ( instead of the more expensive private - preserving threshold set intersection ) .",
    "they use a concise representation of `` location tags '' , by generating , via shingling , concise sketches  in their context , short strings representing the set of broadcast messages received .    in summary , to the best of our knowledge ,",
    "our work is the first to show how to combine count - min sketch and privacy - friendly data aggregation to build a private estimated model used for recommendations as well as prediction of future locations .",
    "also , our scheme for tor hidden services statistics , which combines count sketch , additively homomorphic threshold decryption , and differential privacy , is the first to tackle the problem of efficiently computing the median statistics .",
    "this paper presented efficient techniques for privately and efficiently collecting statistics by relying on private data aggregation protocols and succinct data structures .",
    "these allowed us to reduce the communication and computation complexity incurred by each data source from linear to logarithmic in the size of the input but only introduced a limited , upper - bounded error in the quality of the statistics .",
    "our techniques support different trust , robustness , and deployment models and can be applied to a number of interesting real - world problems where aggregate statistics can be used to train models .",
    "we presented the design and deployment of a private recommender system for streaming services and a private location prediction service .",
    "our server - side implementation as a javascript web application allows developers to easily incorporate it in their projects , while user - side is supported both in the browser ( thus requiring users to install no additional software ) and in android .",
    "we also designed and implemented ( in python ) a scheme for computing the median statistics of tor hidden services in a privacy - friendly way .",
    "as part of future work , we plan to apply our private recommender system to the bbc news apps for android , conduct a test deployment of the private location prediction service with a local mass transit operator , and extend our protocols to privately consolidate data shared by different sources  @xcite .",
    "we are also working on releasing a comprehensive framework supporting large - scale privacy - preserving aggregation _ as a service_.    * acknowledgements .",
    "* we would like to thank chris newell and michael smethurst from the bbc and aaron johnson from us naval research labs for motivating our work , respectively , on privacy - preserving recommendation and median statistics in tor .",
    "we are also grateful to mirco musulesi , licia capra , and apostolos pyrgelis for providing feedback and useful comments .",
    "luca melis and emiliano de cristofaro are supported by a xerox s university affairs committee award on `` secure collaborative analytics '' and `` h2020-msca - itn-2015 '' project privacy&us ( ref .",
    "george danezis is supported in part by epsrc grant `` ep / m013286/1 '' and h2020 grant panoramix ( ref ."
  ],
  "abstract_text": [
    "<S> large - scale collection of contextual information is often essential in order to gather statistics , train machine learning models , and extract knowledge from data . </S>",
    "<S> the ability to do so in a _ privacy - preserving _ way  </S>",
    "<S> i.e. , without collecting fine - grained user data  enables a number of additional computational scenarios that would be hard , or outright impossible , to realize without strong privacy guarantees . in this paper , we present the design and implementation of practical techniques for privately gathering statistics from large data streams . </S>",
    "<S> we build on efficient cryptographic protocols for private aggregation and on data structures for succinct data representation , namely , count - min sketch and count sketch . </S>",
    "<S> these allow us to reduce the communication and computation complexity incurred by each data source ( e.g. , end - users ) from linear to logarithmic in the size of their input , while introducing a parametrized upper - bounded error that does not compromise the quality of the statistics . </S>",
    "<S> we then show how to use our techniques , efficiently , to instantiate real - world privacy - friendly systems , supporting recommendations for media streaming services , prediction of user locations , and computation of median statistics for tor hidden services . </S>"
  ]
}