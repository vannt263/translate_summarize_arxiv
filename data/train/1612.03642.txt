{
  "article_text": [
    "dssc x - ray imager is a novel mega - pixel camera based on depfet ( depleted p - channel field effect transistor ) sensor with signal compression ( dssc ) @xcite optimized for single photon operation in the energy range between 500 ev and 6 kev at frame rates of up to 4.5 mfps for imaging experiments at the european xfel @xcite . as shown in fig.[fig : capture1 ] , the detector consists of a camera head connected to the patch panel ( pp ) electronics @xcite . the camera head is divided into four quadrants , each consisting of four ladders .",
    "each ladder comprises of two sensor chips of @xmath0 pixel format , where a sensor is read out by eight asics .",
    "these asics are then read out by the i / o board ( iob ) connected to the module interconnection board ( mib ) .",
    "the mib is connected to the patch panel ( pp ) through patch panel flex cable ( ppfc ) allowing easy movement of the camera quadrant .",
    "finally , the sib and data collecting patch panel transceiver ( ppt ) ( not visible in fig.[fig : capture1 ] ) sit on the opposite side of the pp outside the vacuum . the quadrant data received at the ppt is sent for back - end storage .",
    "each quadrant has its own set of power supplies for independent operation .",
    "a single cooling system is used for the whole camera .",
    "the sib protects each quadrant by identifying anomalies and probable hazardous situations in the detector chamber . during the start - up and operation phases ,",
    "it takes necessary steps to bring and hold the detector into a secure state .",
    "it also allows a user - friendly operation by displaying the safety flag to the operator . the type and location of all the sensors placed in the vacuum chamber",
    "are presented in the fig .",
    "[ fig : capture1 ] . in section",
    "ii a detailed description of the hardware is presented followed by section iii focusing on the software implementation and its working mechanism . in the end",
    "we show the test setup and results .",
    "[ fig : blck ] shows a block diagram of all sibs in a full mega - pixel camera setup with detailed hardware description .",
    "the sib master performs all the functions similar to an sib partner but with the exception , that sib master can also monitor the signals from external interfaces .",
    "all the four sibs communicate with each other through the quadrant loop ( q - loop ) .",
    "data is collected by each sib from four temperature sensors of type max6672 on iob , from four thermistors of type epcos - b57619 on mib , from honeywell sscmnnn1 pressure sensors on ppfc and from temperature sensors pt100 mounted on ppfc .",
    "a separate pt100 temperature sensor is mounted on the cold trap ( not shown ) .",
    "this cold trap device has the lowest temperature in the detector chamber .",
    "it condenses all the vapors being released in the vacuum chamber therefore preventing them from entering the vacuum pump which can get contaminated by condensation of these vapors .",
    "temperatures of the si - bare modules of the focal plane are monitored by diodes integrated on depfet sensor or on the readout asic ( selectable ) . in both cases ,",
    "digitized temperature values are provided per @xmath1 pixel section and are sent through the ppt to the sib via rs-232 interface .",
    "when the mains power switch is on , the power crate s auto - on channels turn on the sib and ppt .",
    "each sib checks the power cable connection to the wiener @xcite lv - power crates by utilizing the safety - loop feature . whereas in the iseg @xcite hv - power modules there is in - built interlock functionality which prevents hv modules from being turned on in case of cable connection failure .",
    "the sib monitors this failure by observing the current in the interlock lines via optocouplers .            the special functionality of the sib master is also shown in fig .",
    "[ fig : blck ] .",
    "each crate has crate - enable and crate - fast off signals .",
    "the crate - enable signals to all the crates are connected in parallel and are operated once per camera by the sib master .",
    "the crate - fast off has been implemented in a similar way to the crate - enable . since",
    "this parallel connection is made externally it can be shortened for two or three quadrant operation .",
    "the sib master interacts with the cooling system via two signals ( cooling_in , cooling_out ) connected to the programmable logic control ( plc ) beckhoff @xcite backend .",
    "furthermore , two digital inputs and five outputs are provided for a direct communication between sib master and xfel - experiment environment . all signals to above mentioned external interfaces are isolated on board via optocouplers and isolated dc / dc converters .",
    "this blocks the noise and transients coming from external interfaces ( via 30 m long cables ) .",
    "since all the boards are designed identical in hardware , any of the four sibs can become an sib master by adding a jumper , for example in case of single quadrant operation .",
    "[ fig : sib ] presents the developed sib with all its components .",
    "it is an 8-layer pcb with the dimensions of 87x145x1.58 mm .",
    "the small piggy board with lpc2468 - 16/32 bit arm7 controller running at 72 mhz is mounted on top .",
    "a separate power connector allows to perform tests using external power supplies in the absence of main power . the xfel - experiment signals and cooling system signals are available via 15-pin connector .",
    "the error flags are also displayed on the leds as a live indicator to the end - user .",
    "the ethernet jack , xfel - signal connector and leds are mounted on the front - panel of sib for robustness .",
    "the jtag programmer lines allows fast hardware debugging during development phase .",
    "later on , these signals will be connected to the ethernet .",
    "in addition , an sib - extender board was designed with signal test pins for integration tests .",
    "each sib has a programmed decision - matrix which reads the sensor data and monitors external signals .",
    "two pre - defined threshold values for each sensor is set in software indicating a warning state and an error state of the respective sensor . the failure and warning decisions",
    "are taken based on the sensor states as well as the q - loop status .",
    "if one of the three sib partners detects a critical sensor failure , it opens the q - loop to notify the sib master .",
    "for example , if a sensor read by sib partner detects the pressure is above the set threshold , implying the vacuum is broken or leaking , q - loop is opened and the sib master is indicated . the sib master sends a signal to deactivate the cooling system via cooling_out line .",
    "safety - flag is set with the sensor status of the individual quadrant by the corresponding sib and sent to the back - end daq @xcite along with image data of the bunch train every 100 ms .",
    "the ethernet is implemented for receiving monitoring signals from the software control interface karabo @xcite .",
    "it will also be used for remote software updates in expert mode .    in fig . [",
    "fig : sibrout ] , different states of the decision - matrix are presented in a simplified state diagram . from the start state ,",
    "sib and ppt are alive before the camera - head sensors are powered on .",
    "the cable connection check starts and when it fails the sib prevents other power supplies from being turned on . in the next step , the sib waits for a certain pressure threshold ( e.g. @xmath2 mbar ) to be set externally by the vacuum pump , while it monitors the sensors . in the start - up phase ,",
    "information from the vacuum pump ( through karabo ) and the internal honeywell pressure sensor together is used to take the safety decision .",
    "the internal pressure sensor can only detect a minimum pressure of 60 mbar which is sufficient to detect pressure leakages in the operation phase .",
    "then , the q - loop connection is checked by all sibs .",
    "if all cables are connected and sensor states are within the expected ranges , the sib waits for cooling system to be turned on and the cooling_in signal to be received .",
    "when a certain temperature level is reached and low pressure is achieved , only then the crate enable high signal is sent to the power crates , allowing all other power channels to be turned on externally . in case of an emergency ,",
    "either of the following two methods can be used to turn off the power crates .",
    "the crate - enable signal can be pulled to low state turning off the crates by ramping down all power supplies @xcite or the crate - fast off signal can be set to turn them off without ramping .",
    "finally , the status input from the experimental environment is verified to ensure that the experimental setup is ready to start camera operation .    during the data - collection phase",
    ", sib continuously monitors all sensor data .",
    "each sensor has a _ warning _ and an _ error _ threshold .",
    "if the error threshold is breached emergency shutdown is initiated by sib . in case of warning threshold violation ,",
    "the end user decides to continue the experiment or initiate a downtime .",
    "[ fig : qts ] shows the quadrant - test stand ( qts ) with a fully equipped power crates including 30 m long cables connected to the pp and one ladder electronics .",
    "additional three test pcbs were developed with the remaining sensors for full - quadrant tests .",
    "they were plugged into the remaining ppfc connectors .",
    "the crate power settings for ppt and sib was tested before plugging in the boards at the qts .",
    "the software was downloaded on the micro - controller via jtag interface .",
    "all the sensor data from the pressure and temperature sensors were read out successfully .",
    "the rs232 communication between the sib and ppt was established and all the sixty - four temperature diode were read out from the ppt as dummy data .",
    "furthermore , lv safety loop and hv interlock signals were tested from the crate - controller .",
    "the cooling and xfel - experiment signals were checked with the beckhoff el2124 system .",
    "the crate - enable and crate fast - off signals were monitored at the connectors on the pp .",
    "the q - loop was tested by closing the connection between input and output on pp .",
    "for the calibration tests , measurement of the temperature sensors was performed in a temperature controlled test chamber vt4002 ( vtsch gmbh ) fig .",
    "[ fig : ladtest ] .",
    "the temperature was varied in the range of @xmath3c to @xmath4c .",
    "the temperature sensors were calibrated with respect to the pt100 reference sensor of the test - chamber .",
    "the achieved accuracy of the pt100 on ppfc and ntc thermistor sensors in all the four ladders was @xmath5c .",
    "the max 6672 sensor has a low precision of @xmath6c ( especially at lower temperatures of @xmath3c ) as mentioned in the datasheet .",
    "it is the one of the worst performing sensors of the system .",
    "the pressure sensors recorded an accuracy of @xmath7 mbar fig .",
    "[ fig : capsensx ] .    in the end ,",
    "timing analysis was done with the quadrant software module at the qts to determine the time required by the micro controller to read all sensors , calculate the corresponding sensor values and send them to ppt . in the quadrant level tests ,",
    "the four universal transducer interface ( uti ) devices connected to the pt100 were the slowest sensors ( 128 ms ) .",
    "the smallest acquisition time was for the four pressure sensors ( 3 ms ) .",
    "the overall processing time for all sensors in each sib was 500 ms including the data transfer to the backend .",
    "hence it can be concluded that the full sensor data will be sent via ppt every 600 ms . and",
    "only the safety flag will be sent every 100 ms .",
    "when a sensor reaches error threshold in the decision matrix further execution will be stopped and emergency action will be initiated by the sib .",
    "the safety - interlock system was developed and tested .",
    "all the above tests were performed at the production - ready detector setup .",
    "the probable critical and failure conditions during the detector operation were simulated .",
    "the first software dry run on sib together with the external devices was done successfully .    1 m.  porro , l.  andricek , s.  aschauer , m.  bayer , j.  becker , l.  bombelli , a.  castoldi , g.  de  vita , i.  diehl , f.  erdinger , s.  facchinetti , c.  fiorini , p.  fischer , t.  gerlach , h.  graafsma , c.  guazzoni , k.  hansen , p.  kalavakuru , h.  klaer , a.  kugel , p. lechner , m.  lemke , g.  lutz , m.  manghisoni , d.  mezza , d.  muntefering , u.  pietsch , e.  quartieri , m.  randall , v.  re , c.  reckleben , c.  sandow , j.  soldat , l.  strder , j.  szymanski , g.  weidenspointner , and c.  wunderer , _ development of the depfet sensor with signal compression : a large format x - ray imager with mega - frame readout capability for the european xfel _ , ieee transactions on nuclear science , vol .",
    "3339 - 3351 , dec .",
    "m.  altarelli , _ the european x - ray free - electron laser facility in hamburg _ , nuclear instruments and methods in physics research b , volume 269 , issue 24 , 15 dec . 2011 , pp . 28452849 k.  hansen , h.  klaer , d.  muentefering , _ camera head of the dssc x - ray imager_,ieee nucl .",
    "np5.s-16 ( 2011 ) 1713 - 1717 a.  mnnich , s.  hauf , b.c .",
    "heisen , f.  januschek , m.  kuster , p.m.  lang , n.  raab , t.  rter , j.  sztuk - dambietz , m.  turcato , _ integrated detector control and calibration processing at the european xfel _ , proceedings of icalepcs2015 , melbourne , australia - pre - press release 23-oct-2015 .",
    "j.  coughlan , c .",
    "day , s.  galagedera and r.  halsall , _ the train builder data acquisition system for the european - xfel _ , iopscience journal of instrumentation , volume 6 , november 2011 vienna , austria http://iseg-hv.com/en/products/systems#system-mmp http://www.wiener-d.com/sc/power-supplies/mpodlvhv/mpod-crate.html http://beckhoff.de/el2124/"
  ],
  "abstract_text": [
    "<S> in this paper , the dssc safety - interlock system is introduced . </S>",
    "<S> it is designed to keep the dssc mega - pixel camera in a safe - state . </S>",
    "<S> the system is composed of four inter - communicating sub - systems referred here as a master sib ( safety - interlock board ) and three partner sibs . each sib monitors and processes </S>",
    "<S> 75 temperature sensors mainly located in the focal plane and also distributed inside the camera - head electronics . </S>",
    "<S> it monitors the signals from two pressure sensors , one humidity sensor as well as the connectivity to sixteen low - voltage and two high - voltage cables . </S>",
    "<S> the master sib supervises the signals to and from external equipments like the cooling system , pressure gauge , power crates and status information from experimental environment . </S>",
    "<S> sib is an 8-layer printed - circuit board ( pcb ) with a micro - controller sitting on top as its central processing unit . </S>",
    "<S> a decision - matrix software reads the sensor status continuously and determines whether the camera is in a safe state or not . </S>",
    "<S> all error and warnings flags are sent to the detector control software framework and the end user directly . </S>",
    "<S> these flags are also stored every 100 ms together with the image data . </S>",
    "<S> the full sib sensor data is sent to the back end for offline analysis . </S>",
    "<S> a shutdown sequence is initiated by sib in case of a critical failure . </S>",
    "<S> the safety - interlock philosophy , hardware design , and software architecture along with test results will be presented .    </S>",
    "<S> safety interlock , dssc , detector safety , monitor system , xfel </S>"
  ]
}