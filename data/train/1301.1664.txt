{
  "article_text": [
    "the minimum spanning tree ( mst ) problem is one of the first and foundational problems in the field of combinatorial optimisation . in its initial formulation by borvka @xcite ,",
    "one is given distinct , positive edge weights ( or _ lengths _ ) for @xmath7 , the complete graph on vertices labelled by the elements of @xmath8 .",
    "writing @xmath9 for this collection of edge weights , one then seeks the unique connected subgraph @xmath10 of @xmath7 with vertex set @xmath11 that minimizes the _ total length _ @xmath12 algorithmically , the mst problem is among the easiest in combinatorial optimisation : procedures for building the mst are both easily described and provably efficient .",
    "the most widely known mst algorithms are commonly called _",
    "kruskal s algorithm _ and _ prim s algorithm_. both procedures are important in this work ; as their descriptions are short , we provide them immediately .",
    "kruskal s algorithm : start from a forest of @xmath0 isolated vertices @xmath8 . at each step , add the unique edge of smallest weight joining two distinct components of the current forest .",
    "stop when all vertices are connected .",
    "prim s algorithm : fix a starting vertex @xmath13 . at each step , consider all edges joining the component currently containing @xmath13 with its complement , and from among these add the unique edge of smallest weight . stop when all vertices are connected .",
    "unfortunately , efficient procedures for constructing mst s do not automatically yield efficient methods for understanding the typical structure of the resulting objects . to address this ,",
    "a common approach in combinatorial optimisation is to study a procedure by examining how it behaves when given random input ; this is often called _ average case _ or _ probabilistic analysis .",
    "_    the probabilistic analysis of mst s dates back at least as far as beardwood , halton and hammersley @xcite who studied the _",
    "euclidean mst _ of @xmath0 points in @xmath14 .",
    "suppose that @xmath15 is an absolutely continuous measure on @xmath14 with bounded support , and let @xmath16 be i.i.d .",
    "samples from @xmath15 . for edge @xmath17 , take @xmath18 to be the euclidean distance between @xmath19 and @xmath20 .",
    "then there exists a constant @xmath21 such that if @xmath22 is the total length of the minimum spanning tree , then @xmath23 this _ law of large numbers for euclidean mst s _ is the jumping - off point for a massive amount of research : on more general laws of large numbers @xcite , on central limit theorems ( @xcite , and on the large-@xmath0 scaling of various other `` localizable '' functionals of random euclidean mst s ( @xcite . ( the above references are representative , rather than exhaustive .",
    "the books of penrose @xcite and of yukich @xcite are comprehensive compendia of the known results and techniques for such problems . )    from the perspective of borvka s original formulation , the most natural probabilistic model for the mst problem may be the following .",
    "weight the edges of the complete graph @xmath7 with independent and identically distributed ( i.i.d . ) random edge weights @xmath24 whose common distribution @xmath15 is atomless and has support contained in @xmath25 , and let @xmath26 be the resulting random mst .",
    "the conditions on @xmath15 ensure that all edge weights are positive and distinct .",
    "frieze @xcite showed that if the common distribution function @xmath27 is differentiable at @xmath28 and @xmath29 , then the total weight @xmath22 satisfies @xmath30 } } \\to \\zeta(3),\\ ] ] whenever the edge weights have finite mean .",
    "it is also known that @xmath31 without any moment assumptions for the edge weights @xcite .",
    "results analogous to ( [ eq : knlln ] ) have been established for other graphs , including the hypercube @xcite , high - degree expanders and graphs of large girth @xcite , and others @xcite .",
    "returning to the complete graph @xmath7 , aldous @xcite proved a distributional convergence result corresponding to ( [ eq : knlln ] ) in a very general setting where the edge weight distribution is allowed to vary with @xmath0 , extending earlier , related results @xcite .",
    "janson @xcite showed that for i.i.d .",
    "uniform@xmath32 $ ] edge weights on the complete graph , @xmath33 is asymptotically normally distributed , and gave an expression for the variance that was later shown @xcite to equal @xmath34 .",
    "if one is interested in the _ graph theoretic _ structure of the tree @xmath26 rather than in information about its edge weights , the choice of distribution @xmath15 is irrelevant . to see this ,",
    "observe that the behaviour of both kruskal s algorithm and prim s algorithm is fully determined once we order the edges in increasing order of weight , and for any distribution @xmath15 as above , ordering the edges by weight yields a uniformly random permutation of the edges .",
    "we are thus free to choose whichever distribution @xmath15 is most convenient , or simply to choose a uniformly random permutation of the edges .",
    "taking @xmath15 to be uniform on @xmath32 $ ] yields a particularly fruitful connection to the now - classical _ erds  rnyi random graph process_. this connection has proved fundamental to the detailed understanding of the global structure of @xmath26 and is at the heart of the present paper , so we now explain it .",
    "let the edge weights @xmath24 be i.i.d .",
    "uniform@xmath32 $ ] random variables .",
    "the erds  rnyi graph process @xmath35 is the increasing graph process obtained by letting @xmath36 have vertices @xmath8 and edges @xmath37 . , and we note that the definition of @xmath36 still makes sense in this case . ] for fixed @xmath38 , each edge of @xmath7 is independently present with probability @xmath38 . observing the process",
    "as @xmath38 increases from zero to one , the edges of @xmath7 are added one at a time in exchangeable random order .",
    "this provides a natural coupling with the behaviour of kruskal s algorithm for the same weights , in which edges are _ considered _ one at a time in exchangeable random order , and added precisely if they join two distinct components .",
    "more precisely , for @xmath39 write @xmath40 for the subgraph of the mst @xmath26 with edge set @xmath41 .",
    "then for every @xmath42 , the connected components of @xmath40 and of @xmath36 have the same vertex sets .    in their foundational paper on the subject @xcite , erds and rnyi",
    "described the _ percolation phase transition _ for their eponymous graph process .",
    "they showed that for @xmath43 with @xmath44 fixed , if @xmath45 ( the _ subcritical _ case ) then @xmath36 has largest component of size @xmath46 in probability , whereas if @xmath47 ( the _ supercritical _ case ) then the largest component of @xmath36 has size @xmath48 , where @xmath49 is the survival probability of a poisson@xmath50 branching process .",
    "they also showed that for @xmath51 , all components aside from the largest have size @xmath46 in probability .    in view of the above coupling between the graph process and kruskal s algorithm",
    ", the results of the preceding paragraph strongly suggest that `` most of '' the global structure of the mst @xmath26 should already be present in the largest component of @xmath52 , for any @xmath47 . in order to understand @xmath26 , then",
    ", a natural approach is to delve into the structure of the forest @xmath40 for @xmath53 ( the _ near - critical _ regime ) and , additionally , to study how the components of this forest attach to one another as @xmath38 increases through the near - critical regime . in this paper",
    ", we use such a strategy to show that after suitable rescaling of distances and of mass , the tree @xmath26 , viewed as a measured metric space , converges in distribution to a random compact measured metric space @xmath54 of total mass measure one , which is a _ random real tree _ in the sense of @xcite .",
    "the space @xmath54 is the scaling limit of the minimum spanning tree on the complete graph .",
    "it is binary and its mass measure is concentrated on the leaves of @xmath54 . the space @xmath54 shares all these features with the first and most famous random real tree , the brownian continuum random tree , or crt @xcite",
    ". however , @xmath54 is not the crt ; we rule out this possibility by showing that @xmath54 almost surely has minkowski dimension 3 .",
    "since the crt has both minkowski dimension 2 and hausdorff dimension 2 , this shows that the law of @xmath54 is mutually singular with that of the crt , or any rescaled version thereof .",
    "the remainder of the introduction is structured as follows .",
    "first , section  [ sec : overview ] , below , we provide the precise statement of our results .",
    "second , in section  [ sec : proof_idea ] we provide an overview of our proof techniques .",
    "finally , in section  [ sec : history ] , we situate our results with respect to the large body of work by the probability and statistical physics communities on the convergence of minimum spanning trees , and briefly address the question of universality .      before stating our results ,",
    "a brief word on the spaces in which we work is necessary .",
    "we formally introduce these spaces in section  [ sec : metrics ] , and here only provide a brief summary .",
    "first , let @xmath55 be the set of measured isometry - equivalence classes of compact measured metric spaces , and let @xmath56 denote the gromov  hausdorff ",
    "prokhorov distance on @xmath57 ; the pair @xmath58 forms a polish space .",
    "we wish to think of @xmath26 as an element of @xmath58 . in order to do this ,",
    "we introduce a measured metric space @xmath59 obtained from @xmath26 by rescaling distances by @xmath60 and assigning mass @xmath61 to each vertex .",
    "the main contribution of this paper is the following theorem .",
    "[ thm : main-0 ] there exists a random , compact measured metric space @xmath54 such that , as @xmath62 , @xmath63 in the space @xmath58 .",
    "the limit @xmath54 is a random @xmath3-tree .",
    "it is almost surely binary , and its mass measure is concentrated on the leaves of @xmath54 .",
    "furthermore , almost surely , the minkowski dimension of @xmath54 exists and is equal to @xmath4 .",
    "a consequence of the last statement is that @xmath54 is not a rescaled version of the brownian crt @xmath64 , in the sense that for any non - negative random variable @xmath65 , the laws of @xmath54 and the space @xmath64 , in which all distances are multiplied by @xmath65 , are mutually singular . indeed ,",
    "the brownian tree has minkowski dimension @xmath66 almost surely .",
    "the assertions of theorem  [ thm : main-0 ] are contained within the union of theorems  [ thm : big_statement ] and  [ thm : basic_properties ] and corollary  [ cor : notcrt ] , below .    in a preprint @xcite posted simultaneously with the current work ,",
    "the first author of this paper shows that the _ unscaled _ tree @xmath67 , when rooted at vertex @xmath68 , converges in the local weak sense to a random infinite tree , and that this limit almost surely has cubic volume growth .",
    "the results of @xcite form a natural complement to theorem  [ thm : main-0 ] .",
    "as mentioned earlier , we approach the study of @xmath59 and of its scaling limit @xmath54 via a detailed description of the graph @xmath36 and of the forest @xmath40 , for @xmath38 near @xmath61 .",
    "as is by this point well - known , it turns out that the right scaling for the `` critical window '' is given by taking @xmath69 , for @xmath70 , and for such @xmath38 , the largest components of @xmath36 typically have size of order @xmath71 and possess a bounded number of cycles @xcite .",
    "adopting this parametrisation , for @xmath70 write @xmath72 for the components of @xmath73 listed in decreasing order of size ( among components of equal size , list components in increasing order of smallest vertex label , say ) . for each @xmath74",
    ", we then write @xmath75 for the measured metric space obtained from @xmath76 by rescaling distances by @xmath60 and giving each vertex mass @xmath77 , and let @xmath78 we likewise define a sequence @xmath79 of graphs , and a sequence @xmath80 of measured metric spaces , starting from @xmath81 instead of @xmath82 .    in order to compare sequences @xmath83 of elements of @xmath57 ( i.e. , elements of @xmath84 ) , we let @xmath85 , for @xmath86 , be the set of sequences @xmath87 with @xmath88 and for two such sequences @xmath89 and @xmath90 , we let @xmath91 the resulting metric space @xmath92 is a polish space .    the second main result of this paper is the following ( see theorems [ thm : msf - converge ] and [ thm : big_statement ] below ) .",
    "[ thm : msf - converge-0 ] fix @xmath70 .",
    "then there exists a random sequence @xmath93 of compact measured metric spaces , such that as @xmath62 , @xmath94 in the space @xmath95 . furthermore , let @xmath96 be the first term @xmath97 of the limit sequence @xmath98 , with its measure renormalized to be a probability",
    ". then as @xmath99 , @xmath96 converges in distribution to @xmath54 in the space @xmath100 .",
    "theorem 1 of @xcite states that for each @xmath70 , there is a random sequence @xmath101 of compact measured metric spaces , such that @xmath102 in the space @xmath103 .",
    "( theorem 1 of @xcite is , in fact , slightly weaker than this because the metric spaces there are considered without their accompanying measures , but it is easily strengthened ; see section  [ sec : proofs ] . )",
    "the limiting spaces are similar to @xmath3-trees ; we call them _",
    "@xmath3-graphs_. in section  [ sec : rtreesrgraphs ] we define @xmath3-graphs and develop a decomposition of @xmath3-graphs analogous to the classical `` core and kernel '' decomposition for finite connected graphs ( see , e.g. , @xcite ) .",
    "we expect this generalisation of the theory of @xmath3-trees to find further applications .",
    "the main results of @xcite provide precise distributional descriptions of the cores and kernels of the components of @xmath104 .",
    "it turns out that , having understood the distribution of @xmath105 , we can access the distribution of @xmath106 by using a minimum spanning tree algorithm called _",
    "cycle breaking_. this algorithm finds the minimum weight spanning tree of a graph by listing edges in _ decreasing _ order of weight , then considering each edge in turn and removing it if its removal leaves the graph connected .",
    "using the convergence in ( [ eq : abbr ] ) and an analysis of the cycle breaking algorithm , we will establish theorem  [ thm : msf - converge-0 ] .",
    "the sequence @xmath107 is constructed from @xmath104 by a continuum analogue of the cycle breaking procedure .",
    "showing that the continuum analogue of cycle breaking is well - defined and commutes with the appropriate limits is somewhat involved ; this is the subject of section  [ sec : ckcc ] .    for fixed @xmath0 , the process",
    "@xmath108 is eventually constant , and we note that @xmath109 in order to establish that @xmath59 converges in distribution in the space @xmath58 as @xmath62 , we rely on two ingredients .",
    "first , the convergence in ( [ eq : abbgr1 ] ) is strong enough to imply that the first component @xmath110 converges in distribution as @xmath2 to a limit @xmath111 in the space @xmath58 .",
    "second , the results in @xcite entail lemma  [ lem : cauchy - property2 ] , which in particular implies that for any @xmath112 , @xmath113 this is enough to prove a version of our main result for the metric spaces without their measures . in lemma  [ lem : mst - lim ] , below , we strengthen this statement .",
    "let @xmath114 be the measured metric space obtained from @xmath115 by rescaling so that the total mass is one ( in @xmath115 we gave each vertex mass @xmath77 ; now we give each vertex mass @xmath116 ) .",
    "we show that for any @xmath112 , @xmath117 since @xmath58 is a complete , separable space , the so - called principle of accompanying laws entails that @xmath118 in the space @xmath58 for some limiting random measured metric space @xmath54 which is thus the scaling limit of the minimum spanning tree on the complete graph . furthermore , still as a consequence of the principle of accompanying laws , @xmath54 is also the limit in distribution of @xmath111 as @xmath119 in the space @xmath58 .    for fixed @xmath70",
    ", we will see that each component of @xmath107 is almost surely binary . since @xmath54 is compact and",
    "( if the measure is ignored ) is an increasing limit of @xmath120 as @xmath99 , it will follow that @xmath54 is almost surely binary .    to prove that the mass measure is concentrated on the leaves of @xmath54",
    ", we use a result of uczak @xcite on the size of the largest component in the barely supercritical regime . this result in particular",
    "implies that for all @xmath121 , @xmath122 since @xmath123 has @xmath0 vertices , it follows that for any @xmath70 , the proportion of the mass of @xmath124 `` already present in @xmath115 '' is asymptotically negligible .",
    "but ( [ eq : abbr09b ] ) tells us that for @xmath125 large , with high probability every point of @xmath124 not in @xmath115 has distance @xmath126 from a point of @xmath115 , so has distance @xmath127 from a leaf of @xmath124 . passing this argument to the limit",
    ", it will follow that @xmath54 almost surely places all its mass on its leaves .",
    "the statement on the minkowski dimension of @xmath54 depends crucially on an explicit description of the components of @xmath128 from @xcite , which allows us to estimate the number of balls needed to cover @xmath129 . along with a refined version of , which yields an estimate of the distance between @xmath111 and @xmath54",
    ", we are able to obtain bounds on the covering number of @xmath54 .",
    "this completes our overview , and we now proceed with a brief discussion of related work , before turning to details .      in the majority of the work on convergence of mst s , inter - point distances are chosen so that the edges of the mst have constant average length ( in all the models discussed above , the average edge length was @xmath130 ) . for such weights ,",
    "the limiting object is typically a non - compact infinite tree or forest .",
    "as detailed above , the study bifurcates into the `` geometric '' case in which the points lie in a euclidean space @xmath14 , and the `` mean - field '' case where the underlying graph is @xmath7 with i.i.d  edge weights . in both cases ,",
    "a standard approach is to pass directly to an infinite underlying graph or point set , and define the minimum spanning tree ( or forest ) directly on such a point set .",
    "it is not _ a priori _ obvious how to define the minimum spanning tree , or forest , of an infinite graph , as neither of the algorithms described above are necessarily well - defined ( there may be no smallest weight edge leaving a given vertex or component ) .",
    "however , it is known @xcite that given an infinite locally finite graph @xmath131 and distinct edge weights @xmath132 , the following variant of prim s algorithm is well - defined and builds a forest , each component of which is an infinite tree .",
    "invasion percolation : for each @xmath133 , run prim s algorithm starting from @xmath134 and call the resulting set of edges @xmath135 .",
    "then let @xmath136 be the graph with vertices @xmath137 and edges @xmath138 .",
    "the graph @xmath136 is also described by the following rule , which is conceptually based on the coupling between kruskal s algorithm and the percolation process , described above . for each @xmath139 , let @xmath140 be the subgraph with edges @xmath141 .",
    "then an edge @xmath142 with @xmath143 is an edge of @xmath136 if and only if @xmath144 and @xmath134 are in distinct components of @xmath140 and one of these components is finite .",
    "the latter characterisation again allows the msf to be studied by coupling with a percolation process .",
    "this connection was exploited by alexander and molchanov @xcite in their proof that the msf almost surely consists of a single , one - ended tree for the square , triangular , and hexagonal lattices with i.i.d.uniform@xmath32 $ ] edge weights and , later , to prove the same result for the msf of the points of a homogeneous poisson process in @xmath145 @xcite .",
    "newman @xcite has also shown that in lattice models in @xmath146 , the critical percolation probability @xmath147 is equal to @xmath148 if and only if the msf is a proper forest ( contains more than one tree ) .",
    "lyons , peres and schramm @xcite developed the connection with critical percolation . among several other results , they showed that if @xmath149 is any cayley graph for which @xmath150 , then the component trees in the msf all have one end almost surely , and that almost surely every component tree of the msf itself has percolation threshold @xmath151 .",
    "( see also @xcite for subsequent work on a similar model . ) for two - dimensional lattice models , more detailed results about the behaviour of the so - called `` invasion percolation tree '' , constructed by running prim s algorithm once from a fixed vertex , have also recently been obtained @xcite .    in the mean - field case ,",
    "one common approach is to study the mst or msf from the perspective of local weak convergence @xcite .",
    "this leads one to investigate the minimum spanning forest of aldous _ poisson - weighted infinite tree _ ( pwit ) .",
    "such an approach is used implicitly in @xcite in studying the first @xmath152 steps of prim s algorithm on @xmath7 , and explicitly in @xcite to relate the behaviour of prim s algorithm on @xmath7 and on the pwit .",
    "aldous @xcite establishes a local weak limit for the tree obtained from the mst of @xmath7 as follows .",
    "delete the ( typically unique ) edge whose removal minimizes the size of the component containing vertex @xmath68 in the resulting graph , then keep only the component containing @xmath68 .",
    "almost nothing is known about _ compact _ scaling limits for whole mst s . in two dimensions , aizenman , burchard , newman and wilson @xcite",
    "have shown tightness for the family of random sets given by considering the subtree of the mst connecting a finite set of points ( the family is obtained by varying the set of points ) , either in the square , triangular or hexagonal lattice , or in a poisson process .",
    "they also studied the properties of subsequential limits for such families , showing , among other results , that any limiting `` tree '' has hausdorff dimension strictly between @xmath68 and @xmath66 , and that the curves connecting points in such a tree are almost surely hlder continuous of order @xmath153 for any @xmath154 .",
    "recently , garban , pete , and schramm @xcite announced that they have proved the existence of a scaling limit for the mst in 2d lattice models .",
    "the mst is expected to be invariant under scalings , rotations and translations , but not conformally invariant , and to have no points of degree greater than four . in the mean - field case , however , we are not aware of any previous work on scaling limits for the mst . in short , the scaling limit @xmath54 that we identify in this paper appears to be a novel mathematical object .",
    "it is one of the first mst scaling limits to be identified , and is perhaps the first scaling limit to be identified for any problem from combinatorial optimisation .",
    "we expect @xmath54 to be a universal object : the mst s of a wide range of `` high - dimensional '' graphs should also have @xmath54 as a scaling limit . by way of analogy , we mention two facts .",
    "first , peres and revelle  @xcite have shown the following universality result for _ uniform _ spanning trees ( here informally stated ) .",
    "let @xmath155 be a sequence of vertex transitive graphs of size tending to infinity .",
    "suppose that ( a ) the uniform mixing time of simple random walk on @xmath156 is @xmath157 , and ( b ) @xmath156 is sufficiently `` high - dimensional '' , in that the expected number of meetings between two random walks with the same starting point , in the first @xmath158 steps , is uniformly bounded .",
    "then after a suitable rescaling of distances , the spanning tree of @xmath156 converges to the crt in the sense of finite - dimensional distributions .",
    "second , under a related set of conditions , van der hofstad and nachmias @xcite have very recently proved that the largest component of critical percolation on @xmath156 in the barely supercritical phase has the same scaling as in the erds  rnyi graph process ( we omit a precise statement of their result as it is rather technical , but mention that their conditions are general enough to address the notable case of percolation on the hypercube ) . however , a proof of an analogous result for the mst seems , at this time , quite distant . as will be seen below , our proof requires detailed control on the metric and mass structure of all components of the kruskal process in the critical window and , for the moment , this is not available for any other models .",
    "the reader may wish to simply skim this section on a first reading , referring back to it as needed .        given a metric space @xmath159 ,",
    "we write @xmath160 $ ] for the isometry class of @xmath159 , and frequently use the notation @xmath161 for either @xmath159 or @xmath160 $ ] when there is no risk of ambiguity . for a metric space @xmath159",
    "we write @xmath162 , which may be infinite .",
    "let @xmath163 and @xmath164 be metric spaces .",
    "if @xmath165 is a subset of @xmath166 , the _ distortion _ @xmath167 is defined by @xmath168 a _ correspondence _",
    "@xmath165 between @xmath169 and @xmath170 is a measurable subset of @xmath171 such that for every @xmath172 , there exists @xmath173 with @xmath174 and vice versa .",
    "write @xmath175 for the set of correspondences between @xmath169 and @xmath170 .",
    "the gromov ",
    "hausdorff distance @xmath176 between the isometry classes of @xmath159 and @xmath177 is @xmath178 and there is a correspondence which achieves this infimum .",
    "( in fact , since our metric spaces are assumed separable , the requirement that the correspondence be measurable is not strictly necessary . )",
    "it can be verified that @xmath179 is indeed a distance and , writing @xmath180 for the set of isometry classes of compact metric spaces , that @xmath181 is itself a complete separable metric space .",
    "let @xmath182 and @xmath183 be metric spaces , each with an ordered set of @xmath184 distinguished points ( we call such spaces _ @xmath184-pointed metric spaces _ ) , we simply refer to pointed ( rather than @xmath68-pointed ) metric spaces , and write @xmath185 rather than @xmath186 .",
    "we say that these two @xmath184-pointed metric spaces are _ isometry - equivalent _ if there exists an isometry @xmath187 such that @xmath188 for every @xmath189 .",
    "as before , we write @xmath190 $ ] for the isometry equivalence class of @xmath182 , and denote either by @xmath191 when there is little chance of ambiguity .    the _ @xmath184-pointed gromov ",
    "hausdorff distance _ is defined as @xmath192 much as above , the space @xmath193 of isometry classes of @xmath184-pointed compact metric spaces is itself a complete separable metric space .",
    "a _ compact measured metric space _ is a triple @xmath194 where @xmath159 is a compact metric space and @xmath15 is a ( non - negative ) finite measure on @xmath195 , where @xmath196 is the borel @xmath197-algebra on @xmath159 . given a measured metric space @xmath194 , a metric space @xmath177 and a measurable function @xmath198 , we write @xmath199 for the push - forward of the measure @xmath15 to the space @xmath177 .",
    "two compact measured metric spaces @xmath194 and @xmath200 are called _ isometry - equivalent _ if there exists an isometry @xmath201 such that @xmath202 . the isometry - equivalence class of @xmath194 will be denoted by @xmath203 $ ] .",
    "again , both will often be denoted by @xmath161 when there is little risk of ambiguity .",
    "if @xmath204 then we write @xmath205 .",
    "there are several natural distances on compact measured metric spaces that generalize the gromov ",
    "hausdorff distance , see for instance @xcite .",
    "the presentation we adopt is still different from these references , but closest in spirit to @xcite since we are dealing with arbitrary finite measures rather than just probability measures . in particular",
    ", it induces the same topology as the compact gromov  hausdorff ",
    "prokhorov metric of @xcite .",
    "if @xmath159 and @xmath177 are two metric spaces , let @xmath206 be the set of finite non - negative borel measures on @xmath166 .",
    "we will denote by @xmath207 the canonical projections from @xmath208 to @xmath169 and @xmath170 .",
    "let @xmath15 and @xmath209 be finite non - negative borel measures on @xmath169 and @xmath170 respectively .",
    "the _ discrepancy _ of @xmath210 with respect to @xmath15 and @xmath209 is the quantity @xmath211 where @xmath212 is the total variation of the signed measure @xmath213 .",
    "note in particular that @xmath214 , by the triangle inequality and the fact that @xmath215 , where @xmath216 is the total mass of @xmath213 . if @xmath15 and @xmath209 are probability distributions ( or have the same mass ) , a measure @xmath210 with @xmath217 is a coupling of @xmath15 and @xmath209 in the standard sense .",
    "recall that the prokhorov distance between two finite non - negative borel measures @xmath15 and @xmath209 on the _ same _ metric space @xmath159 is given by @xmath218 an alternative distance , which generates the same topology but more easily extends to the setting where @xmath15 and @xmath209 are measures on different metric spaces , is given by @xmath219 to extend this , we replace the condition on @xmath220 by an analogous condition on the measure of the set of pairs lying outside the correspondence .",
    "more precisely , let @xmath221 and @xmath222 be measured metric spaces .",
    "the gromov  hausdorff ",
    "prokhorov distance between @xmath191 and @xmath223 is defined as @xmath224 the infimum being taken over all @xmath225 and @xmath226 . here and elsewhere we write @xmath227 ( and , likewise , @xmath228 ) .    just as for @xmath179",
    ", it can be verified that @xmath56 is a distance and that writing @xmath57 for the set of measured isometry - equivalence classes of compact measured metric spaces , @xmath58 is a complete separable metric space ( see , e.g. , @xcite ) .",
    "note that @xmath229 .",
    "in other words , the mapping @xmath160\\mapsto [ x , d,0]$ ] is an isometric embedding of @xmath230 into @xmath55 , and we will sometimes abuse notation by writing @xmath160\\in \\mathcal{m}$ ] .",
    "note also that @xmath231 in particular , if @xmath232 is the `` zero '' metric space consisting of a single point with measure @xmath148 , then @xmath233\\ , .\\ ] ]    finally , we can define an analogue of @xmath56 for measured isometry - equivalence class of spaces of the form @xmath234 where @xmath235 are points of @xmath169 and @xmath236 are finite borel measures on @xmath169 . if @xmath237 are such spaces , whose measured , pointed isometry classes are denoted by @xmath238 , we let @xmath239 where the infimum is over all @xmath240 such that @xmath241 and all @xmath242 . writing @xmath243 for",
    "the set of measured isometry - equivalence classes of compact metric spaces equipped with @xmath184 marked points and @xmath244 finite borel measures , we again obtain a complete separable metric space @xmath245 .",
    "we will need the following fact , which is in essence ( * ? ? ?",
    "* proposition 10 ) , except that we have to take into account more measures and/or marks .",
    "this is a minor modification of the setting of @xcite , and the proof is similar .",
    "[ sec : grom - hausd - prokh ] let @xmath246 converge to @xmath247 in @xmath243 , and assume that the first measure @xmath248 of @xmath249 is a probability measure for every @xmath250 .",
    "let @xmath251 be a random variable with distribution @xmath252 , and let @xmath253 .",
    "then @xmath254 converges in distribution to @xmath255 in @xmath256 .",
    "we now consider a natural metric on certain sequences of measured metric spaces . for @xmath86 and @xmath257 in @xmath258 ,",
    "we let @xmath259 if @xmath260 for some @xmath261 , we consider @xmath262 as an element of @xmath84 by appending to @xmath262 an infinite sequence of copies of the `` zero '' metric space @xmath232 .",
    "this allows us to use @xmath263 to compare sequences of metric spaces with different numbers of elements , and to compare finite sequences with infinite sequences . in particular ,",
    "let @xmath264 , and @xmath265 so , by , @xmath266 if and only if the sequences @xmath267 and @xmath268 are in @xmath269 .",
    "we leave the reader to check that @xmath92 is a complete separable metric space .",
    "let @xmath159 be a metric space .",
    "for @xmath270 and @xmath271 , we let @xmath272 and @xmath273 .",
    "we say @xmath159 is _ degenerate _ if @xmath274 . as regards metric spaces , we mostly follow @xcite for our terminology .",
    "let @xmath275,x)$ ] be the set of continuous functions from @xmath276 $ ] to @xmath169 , hereafter called _ paths with domain @xmath276 $ ] _ or _ paths from @xmath277 to @xmath278_. the image of a path is called an _ arc _ ; it is a _ simple arc _ if the path is injective .",
    "if @xmath279,x)$ ] , the length of @xmath280 is defined by @xmath281 , t_0\\leq t_1\\leq \\ldots\\leq t_k\\bigg\\}\\ , .\\ ] ] if @xmath282 , then the function @xmath283\\to [ 0,{\\ensuremath{\\mathrm{len}}}(f)]$ ] defined by @xmath284})$ ] is non - decreasing and surjective .",
    "the function @xmath285 , where @xmath286 is the right - continuous inverse of @xmath287 , is easily seen to be continuous , and we call it the path @xmath280 _ parameterized by arc - length_.    the _ intrinsic distance _ ( or _ intrinsic metric _ ) associated with @xmath159 is the function @xmath288 defined by @xmath289,x ) , f(0)=x , f(1)=y\\}\\ , .\\ ] ] the function @xmath288 need not take finite values .",
    "when it does , then it defines a new distance on @xmath169 such that @xmath290 .",
    "the metric space @xmath159 is called _ intrinsic _ if @xmath291 .",
    "similarly , if @xmath292 then the _ intrinsic metric on @xmath293 _ is given by @xmath289,y ) , f(0)=x , f(1)=y\\}\\ , .\\ ] ]    given @xmath294 , a _ geodesic between @xmath295 and @xmath296 _ ( also called a _",
    "shortest path between @xmath295 and @xmath296 _ ) is an isometric embedding @xmath297 \\to x$ ] such that @xmath298 and @xmath299 ( so that obviously @xmath300 ) . in this case",
    ", we call the image @xmath301 a _ geodesic arc between @xmath295 and  @xmath296_.    a metric space @xmath159 is called a geodesic space if for any two points @xmath302 there exists a geodesic between @xmath295 and @xmath296 .",
    "a geodesic space is obviously an intrinsic space .",
    "if @xmath159 is compact , then the two notions are in fact equivalent .",
    "also note that for every @xmath295 in a geodesic space and @xmath303 , @xmath304 is the closure of @xmath305 .",
    "essentially all metric spaces @xmath159 that we consider in this paper are in fact compact geodesic spaces .",
    "a path @xmath279,x)$ ] is a _ local geodesic _ between @xmath295 and @xmath296",
    "if @xmath298 , @xmath299 , and for any @xmath306 $ ] there is a neighborhood @xmath137 of @xmath307 in @xmath276 $ ] such that @xmath308 is a geodesic .",
    "it is then straightforward that @xmath309 .",
    "( our terminology differs from that of @xcite , where this would be called a geodesic .",
    "we also note that we do not require @xmath295 and @xmath296 to be distinct . )",
    "an _ embedded cycle _ is the image of a continuous injective function @xmath310 , where @xmath311 .",
    "the length @xmath312 is the length of the path @xmath313\\to x$ ] defined by @xmath314 for @xmath315 .",
    "it is easy to see that this length depends only on the embedded cycle @xmath316 rather than its particular parametrisation .",
    "we call it the _ length _ of the embedded cycle , and write @xmath317 for this length . a metric space with no embedded cycle is called _ acyclic _ , and a metric space with exactly one embedded cycle is called _",
    "unicyclic_.      a metric space @xmath318 is an _",
    "@xmath3-tree _ if it is an acyclic geodesic metric space . if @xmath159 is an @xmath3-tree then for @xmath319 , the _ degree _ @xmath320 of @xmath295 is the number of connected components of @xmath321 .",
    "is a point of degree @xmath68 ; we let @xmath322 be the set of leaves of @xmath191 .",
    "a metric space @xmath159 is an _",
    "@xmath3-graph _ if it is locally an @xmath3-tree in the following sense .",
    "note that by definition an @xmath3-graph is connected , being a geodesic space .",
    "[ def : r - graph ] a compact geodesic metric space @xmath159 is an _ @xmath3-graph _ if for every @xmath270 , there exists @xmath323 such that @xmath324 is an @xmath3-tree .",
    "let @xmath318 be an @xmath3-graph and fix @xmath270 .",
    "the degree of @xmath295 , denoted by @xmath320 and with values in @xmath325 , is defined to be the degree of @xmath295 in @xmath326 for every @xmath327 small enough so that @xmath328 is an @xmath3-tree , and this definition does not depend on a particular choice of @xmath327 .",
    "if @xmath329 and @xmath330 , we can likewise define the degree @xmath331 of @xmath295 in @xmath293 as the degree of @xmath295 in the @xmath3-tree @xmath332 , where @xmath333 is the connected component of @xmath293 that contains @xmath295 , for any @xmath327 small enough . obviously , @xmath334 whenever @xmath335 .",
    "let @xmath336 an element of @xmath322 is called a _ leaf of @xmath191 _ , and the set @xmath337 is called the _ skeleton of @xmath191_. a point with degree at least @xmath4 is called a _",
    "branchpoint of @xmath191_. we let @xmath338 be the set of branchpoints of @xmath191 . if @xmath191 is , in fact , an @xmath3-tree , then @xmath337 is the set of points whose removal disconnects the space , but this is not true in general . alternatively",
    ", it is easy to see that @xmath339 where for @xmath294 , @xmath340 denotes the collection of all geodesic arcs between @xmath295 and @xmath296 .",
    "since @xmath159 is separable , this may be re - written as a countable union , and so there is a unique @xmath197-finite borel measure @xmath341 on @xmath169 with @xmath342 for every injective path @xmath343 , and such that @xmath344 .",
    "the measure @xmath341 is the hausdorff measure of dimension @xmath68 on @xmath191 , and we refer to it as the _ length measure _ on @xmath169",
    ". if @xmath159 is an @xmath3-graph then the set @xmath345 is countable ( as is classically the case for compact @xmath3-trees ) , and hence this set has measure zero under @xmath341 .",
    "[ def : core ] let @xmath159 be an @xmath3-graph . its _ core _ , denoted by @xmath346 , is the union of all the simple arcs having both endpoints in embedded cycles of @xmath191 .",
    "if it is non - empty , then @xmath347 is an @xmath3-graph with no leaves .",
    "the last part of this definition is in fact a proposition , which is stated more precisely and proved below as proposition [ sec : skeleton - core - kernel ] .",
    "since the core of @xmath169 encapsulates all the embedded cycles of @xmath169 , it is intuitively clear that when we remove @xmath346 from @xmath169 , we are left with a family of @xmath3-trees .",
    "this can be formalized as follows .",
    "fix @xmath348 , and let @xmath280 be a shortest path from @xmath295 to @xmath346 , i.e. , a geodesic from @xmath295 to @xmath349 , where @xmath349 is chosen so that @xmath312 is minimum .",
    "( recall that @xmath350 ) is a closed subspace of @xmath169 ) .",
    "this shortest path is unique , otherwise we would easily be able to construct an embedded cycle @xmath44 not contained in @xmath346 , contradicting the definition of @xmath346 .",
    "let @xmath351 be the endpoint of this path not equal to @xmath295 , which is thus the unique point of @xmath346 that is closest to @xmath295 .",
    "by convention , we let @xmath352 if @xmath353 .",
    "we call @xmath351 the point of attachment of @xmath295 .",
    "[ sec : structure - r - graphs-6 ] the relation @xmath354 is an equivalence relation on @xmath169 . if @xmath355 $ ] is the equivalence class of @xmath295 , then @xmath356,d)$ ] is a compact @xmath3-tree .",
    "the equivalence class @xmath355 $ ] of a point @xmath357 is a singleton if and only if @xmath358 .",
    "the fact that @xmath359 is an equivalence relation is obvious . fix any equivalence class @xmath355 $ ] .",
    "note that @xmath355\\cap { \\ensuremath{\\mathrm{core}}}({\\ensuremath{\\mathrm{x}}})$ ] contains only the point @xmath351 , so that @xmath355 $ ] is connected and acyclic by definition .",
    "hence , any two points of @xmath355 $ ] are joined by a unique simple arc ( in @xmath355 $ ] ) .",
    "this path is moreover a shortest path for the metric @xmath360 , because a path starting and ending in @xmath355 $ ] , and visiting @xmath361 $ ] , must pass at least twice through @xmath351 ( if this were not the case , we could find an embedded cycle not contained in @xmath346 ) .",
    "the last statement is easy and left to the reader .",
    "[ sec : r - trees - r-1 ] if @xmath159 is an @xmath3-graph , then @xmath346 is the maximal closed subset of @xmath169 having only points of degree greater than or equal to @xmath66 .",
    "if @xmath293 is closed and strictly contains @xmath346 , then we can find @xmath330 such that @xmath362 is maximal . then @xmath363 $ ]",
    "is included in the set of points @xmath364 $ ] such that the geodesic arc from @xmath296 to @xmath351 does not pass through @xmath295 .",
    "this set is an @xmath3-tree in which @xmath295 is a leaf , so @xmath365 .",
    "note that this characterisation is very close to the definition of the core of a ( discrete ) graph .",
    "another important structural component is @xmath366 , the set of points of @xmath346 such that @xmath367 is connected .",
    "figure [ fig : rgraph ] summarizes the preceding definitions .",
    "the space @xmath366 is not connected or closed in general . clearly , a point of @xmath366 must be contained in an embedded cycle of @xmath169 , but the converse is not necessarily true .",
    "a partial converse is as follows .",
    "[ sec : skeleton - core - kernel-2 ] let @xmath353 have degree @xmath368 and suppose @xmath295 is contained in an embedded cycle of @xmath169",
    ". then @xmath369 .",
    "let @xmath44 be an embedded cycle containing @xmath295 .",
    "fix @xmath370 , and let @xmath371 be geodesics from @xmath372 to their respective closest points @xmath373 . note that @xmath374 is distinct from @xmath295 because otherwise , @xmath295 would have degree at least @xmath4 .",
    "likewise , @xmath375 .",
    "let @xmath376 be a parametrisation of the arc of @xmath44 between @xmath374 and @xmath377 that does not contain @xmath295 , then the concatenation of @xmath371 and the time - reversal of the path @xmath376 is a path from @xmath296 to @xmath378 , not passing through @xmath295 .",
    "hence , @xmath321 is connected .",
    "let us now discuss the structure of @xmath346 .",
    "equivalently , we need to describe @xmath3-graphs with no leaves , because such graphs are equal to their cores by corollary [ sec : r - trees - r-1 ] .    a _",
    "graph with edge - lengths _ is a triple @xmath379 where @xmath380 is a finite connected multigraph , and @xmath381 for every @xmath382 . with every such object , one can associate an @xmath3-graph without leaves , which is the _ metric graph _ obtained by viewing the edges of @xmath380 as segments with respective lengths @xmath383 . formally , this @xmath3-graph is the metric gluing of disjoint copies @xmath384 of the real segments @xmath385,e\\in e$ ] according to the graph structure of @xmath380 .",
    "we refer the reader to @xcite for details on metric gluings and metric graphs . in section [ sec : rtreesrgraphs ]",
    ", we will prove the following result .",
    "[ sec : structure - r - graphs-4 ] an @xmath3-graph with no leaves is either a cycle , or is the metric gluing of a finite connected multigraph with edge - lengths in which all vertices have degree at least @xmath4 .",
    "the associated multigraph , without the edge - lengths , is called the kernel of @xmath169 , and denoted by @xmath386 .    the precise definition of @xmath387 , and the proof of theorem  [ sec : structure - r - graphs-4 ] , both appear in section  [ sec : core - metric - gluing ] .",
    "-graph @xmath159 , emphasizing the structural components .",
    "@xmath346 is in thick line ( black and red ) , with @xmath366 in red .",
    "the subtrees hanging from @xmath346 are in thin blue line .",
    "kernel vertices are represented as large dots .",
    "an example of the projection @xmath388 is provided . ]    for a connected multigraph @xmath131 , the _ surplus _ @xmath389 is @xmath390 . for an @xmath3-graph  @xmath159 ,",
    "we let @xmath391 if @xmath387 is non - empty . otherwise , either @xmath159 is an @xmath3-tree or @xmath346 is a cycle .",
    "in the former case we set @xmath392 ; in the latter we set @xmath393 . since the degree of every vertex in @xmath387 is at least @xmath4 , we have @xmath394 , and so if @xmath395 we have @xmath396 with equality precisely if @xmath387 is @xmath4-regular .",
    "let @xmath131 be a finite connected multigraph .",
    "let @xmath397 be the set of of all edges @xmath398 such that @xmath399 is connected .",
    "if @xmath400 , then @xmath149 contains at least one cycle and @xmath397 is non - empty . in this case , let @xmath401 be a uniform random edge in @xmath397 , and let @xmath402 be the law of the multigraph @xmath403 .",
    "if @xmath404 , then @xmath402 is the dirac mass at @xmath149 . by definition",
    ", @xmath405 is a markov kernel from the set of graphs with surplus @xmath406 to the set of graphs with surplus @xmath407 .",
    "writing @xmath408 for the @xmath0-fold application of the kernel @xmath405 , we have that @xmath409 does not depend on @xmath0 for @xmath410 .",
    "we define the kernel @xmath411 to be equal to this common value : a graph has law @xmath411 if it is obtained from @xmath149 by repeatedly removing uniform non - disconnecting edges .",
    "[ sec : cycle - break - algor ] the probability distribution @xmath411 is the law of the minimum spanning tree of @xmath149 , when the edges @xmath412 are given exchangeable , distinct random edge - weights .",
    "we prove by induction on the surplus of @xmath149 the stronger statement that @xmath411 is the law of the minimum spanning tree of @xmath149 , when the weights of @xmath397 are given exchangeable , distinct random edge - weights . for @xmath404",
    "the result is obvious .",
    "assume the result holds for every graph of surplus @xmath406 , and let @xmath149 have @xmath413 .",
    "let @xmath401 be the edge of @xmath397 with maximal weight , and condition on @xmath401 and its weight .",
    "then , note that the weights of the edges in @xmath414 are still in exchangeable random order , and the same is true of the edges of @xmath415 . by the induction hypothesis , @xmath416 is the law of the minimum spanning tree of @xmath417 .",
    "but @xmath401 is not in the minimum spanning tree of @xmath149 , because by definition we can find a path between its endpoints that uses only edges having strictly smaller weights .",
    "hence , @xmath416 is the law of the minimum spanning tree of @xmath149 . on the other hand , by exchangeability ,",
    "the edge @xmath401 of @xmath397 with largest weight is uniform in @xmath397 , so the unconditional law of a random variable with law @xmath418 is @xmath419 .",
    "there is a continuum analogue of the cycle - breaking algorithm in the context of @xmath3-graphs , which we now explain .",
    "recall that @xmath366 is the set of points @xmath295 of the @xmath3-graph @xmath318 such that @xmath420 and @xmath321 is connected . for @xmath421 ,",
    "we let @xmath422 be the space @xmath191 `` cut at @xmath295 '' .",
    "formally , it is the metric completion of @xmath423 , where @xmath424 is the intrinsic distance : @xmath425 is the minimal length of a path from @xmath296 to @xmath374 that does not visit @xmath295 .",
    "[ sec : cutting - cycles - an ] a point @xmath270 in a measured @xmath3-graph @xmath204 is a _ regular point _ if @xmath426 , and moreover @xmath427 and @xmath368 . a marked space @xmath428 , where @xmath159 is an @xmath3-graph and @xmath295 is a regular point , is called _",
    "safely pointed_. we say that a pointed @xmath3-graph @xmath185 is safely pointed if @xmath429 is safely pointed .",
    "if @xmath295 is a regular point then @xmath15 induces a measure ( still denoted by @xmath15 ) on the space @xmath430 with the same total mass",
    ". we will give a precise description of the space @xmath431 in section [ sec : cutting - procedure ] : in particular , it is a measured @xmath3-graph with @xmath432 .    note that if @xmath433 and if @xmath434 is the length measure restricted to @xmath366 , then @xmath435-almost every point is regular .",
    "also , @xmath435 is a finite measure by theorem  [ sec : structure - r - graphs-4 ] .",
    "therefore , it makes sense to let @xmath436 be the law of @xmath430 , where @xmath295 is a random point of @xmath169 with law @xmath437 . if @xmath392 we let @xmath438 .",
    "again , @xmath439 is a markov kernel from the set of measured @xmath3-graphs with surplus @xmath406 to the set of measured @xmath3-graphs of surplus @xmath440 , and @xmath441 for every @xmath442 : we denote this by @xmath443 .    in section",
    "[ sec : ckcc ] we will give details of the proofs of the aforementioned properties , as well as of the following crucial result .",
    "for @xmath444 we let @xmath445 be the set of measured @xmath3-graphs with @xmath446 and whose core , seen as a graph with edge - lengths @xmath447 , is such that @xmath448 ( if @xmath393 , this should be understood as the fact that @xmath346 is a cycle with length in @xmath449 $ ] . )",
    "[ sec : breaking - cycles - r-1 ] fix @xmath444 .",
    "let @xmath450 be a sequence of measured @xmath3-graphs in @xmath445 , converging as @xmath2 to @xmath451 in @xmath100 .",
    "then @xmath452 converges weakly to @xmath443 .",
    "we can view any finite connected multigraph @xmath131 as a metric space @xmath453 , where @xmath454 is the least number of edges in any chain from @xmath144 to @xmath134 .",
    "we may also consider the metric graph @xmath455 associated with @xmath149 by treating edges as segments of length @xmath68 ( this is sometimes known as the _ cable system _ for the graph @xmath149 @xcite ) .",
    "then @xmath455 is an @xmath3-graph .",
    "note that @xmath456 and , in fact , @xmath455 contains an isometric copy of @xmath453 .",
    "also , temporarily writing @xmath457 for the _ graph - theoretic _ core of @xmath149 , that is , the maximal subgraph of @xmath149 of minimum degree two , it is straightforwardly checked that @xmath458 is isometric to @xmath459 .",
    "conversely , let @xmath159 be an @xmath3-graph , and let @xmath460 be the set of points in @xmath169 with degree at least three .",
    "we say that @xmath159 _ has integer lengths _ if all local geodesics between points in @xmath460 have lengths in @xmath461 .",
    "let @xmath462 and note that if @xmath159 is compact and has integer lengths then necessarily @xmath463 and @xmath464 .",
    "the removal of all points in @xmath465 separates @xmath169 into a finite collection of paths , each of which is either an open path of length one between two points of @xmath465 , or a half - open path of length strictly less than one between a point of @xmath465 and a leaf .",
    "create an edge between the endpoints of each such _ open _ path , and call the collection of such edges @xmath466 .",
    "then let @xmath467 we call the multigraph @xmath468 the _ graph corresponding to @xmath191 _",
    "( see figure  [ fig : graphspace ] ) .",
    "@xmath469{graphspace1.pdf } & \\includegraphics[width=0.3\\textwidth]{graphspace2.pdf } &   \\includegraphics[width=0.3\\textwidth]{graphspace3.pdf } \\end{array}$ ]    now , fix an @xmath3-graph  @xmath470 which has integer lengths and surplus @xmath471 .",
    "let @xmath472 be the points sampled by the successive applications of @xmath439 to @xmath191 : given @xmath473 , the point @xmath474 is chosen according to @xmath475 on @xmath476 , where @xmath477 is the space @xmath191 cut successively at @xmath478 .",
    "note that @xmath479 can also naturally be seen as a point of @xmath169 for @xmath480 . since the length measure of @xmath465 is @xmath148 ,",
    "almost surely @xmath481 for all @xmath482 .",
    "thus , each point @xmath479 , @xmath482 , falls in a path component of @xmath483 which itself corresponds uniquely to an edge in @xmath484 .",
    "note that the edges @xmath485 , @xmath482 , are distinct by construction .",
    "then let @xmath486 , and for @xmath487 , write @xmath488 by construction , the graph @xmath489 is connected and has surplus precisely @xmath490 , and in particular @xmath491 is a spanning tree of @xmath468 .",
    "let @xmath492 be the random @xmath3-graph  resulting from the application of @xmath493 , that is obtained by cutting @xmath191 at the points @xmath494 in our setting .",
    "[ prop : cut - close ] we have @xmath495 .    first , notice that @xmath491 and @xmath496 are isomorphic as graphs , so isometric as metric spaces .",
    "also , as noted in greater generality at the start of the subsection , we automatically have @xmath497 .    [",
    "prop : cut - dist ] the graph @xmath496 is identical in distribution to the minimum - weight spanning tree of @xmath468 when the edges of @xmath498 are given exchangeable , distinct random edge weights .",
    "when performing the discrete cycle - breaking on @xmath468 , the set of edges removed from @xmath468 is identical in distribution to the set @xmath499 of edges that are removed from @xmath468 to create @xmath491 , so @xmath491 has the same distribution as the minimum spanning tree by proposition  [ sec : cycle - break - algor ] .",
    "furthermore , as noted in the proof of the preceding proposition , @xmath491 and @xmath496 are isomorphic .",
    "we end this section by mentioning the operation of gluing , which in a vague sense is dual to the cutting operation .",
    "if @xmath194 is an @xmath3-graph and @xmath302 are two distinct points of @xmath169 , we let @xmath500 be the quotient metric space @xcite of @xmath159 by the smallest equivalence relation for which @xmath295 and @xmath296 are equivalent . this space is endowed with the push - forward of @xmath15 by the canonical projection @xmath38 .",
    "it is not difficult to see that @xmath500 is again an @xmath3-graph , and that the class of the point @xmath501 has degree @xmath502 .",
    "similarly , if @xmath503 is a finite set of unordered pairs @xmath504 with @xmath505 in @xmath169 , then one can identify @xmath479 and @xmath506 for each @xmath13 , resulting in an @xmath3-graph @xmath507 .",
    "we are now ready to state and prove the main results of this paper .",
    "we begin by recalling from the introduction that we write @xmath26 for the mst of the complete graph on @xmath0 vertices and @xmath59 for the measured metric space obtained from @xmath26 by rescaling the graph distance by @xmath60 and assigning mass @xmath61 to each vertex .",
    "recall that @xmath36 is the erds ",
    "rnyi random graph . for @xmath70",
    ", we write @xmath508 for the components of @xmath73 listed in decreasing order of size ( among components of equal size , list components in increasing order of smallest vertex label , say ) . for each @xmath74 , we then write @xmath75 for the measured metric space obtained from @xmath76 by rescaling the graph distance by @xmath60 and giving each vertex mass @xmath77 , and let @xmath78    in a moment , we will state a scaling limit result for @xmath105 ; before we can do so , however , we must introduce the limit sequence of measured metric spaces @xmath509 .",
    "we will do this somewhat briefly , and refer the interested reader to @xcite for more details and distributional properties .",
    "first , consider the stochastic process @xmath510 defined by @xmath511 where @xmath512 is a standard brownian motion .",
    "consider the excursions of @xmath513 above its running minimum ; in other words , the excursions of @xmath514 above 0 .",
    "we list these in decreasing order of length as @xmath515 where , for @xmath74 , @xmath516 is the length of @xmath517 .",
    "( we suppress the @xmath125-dependence in the notation for readability . ) for definiteness , we shift the origin of each excursion to 0 , so that @xmath518 \\to { \\mathbb{r}}_+$ ] is a continuous function such that @xmath519 and @xmath520 otherwise .",
    "now for @xmath74 and for @xmath521 $ ] , define a pseudo - distance via @xmath522 declare that @xmath523 if @xmath524 , so that @xmath359 is an equivalence relation on @xmath525 $ ]",
    ". now let @xmath526/\\!\\!\\sim$ ] and denote by @xmath527 \\to \\mathcal{t}^i$ ] the canonical projection",
    ". then @xmath528 induces a distance on @xmath529 , still denoted by @xmath528 , and it is standard ( see , for example , @xcite ) that @xmath530 is a compact @xmath3-tree . write @xmath531 for the push - forward of lebesgue measure on @xmath525 $ ] by @xmath532 , so that @xmath533 is a measured @xmath3-tree of total mass @xmath516 .",
    "we now decorate the process @xmath534 with the points of an independent homogeneous poisson process in the plane",
    ". we can think of the points which fall under the different excursions separately .",
    "in particular , to the excursion @xmath517 , we associate a finite collection @xmath535 of points of @xmath525 \\times [ 0 , \\infty)$ ] which are the poisson points shifted in the same way as the excursion @xmath517 .",
    "( for definiteness , we list the points of @xmath536 in increasing order of first co - ordinate . )",
    "conditional on @xmath537 , the collections @xmath538 of points are independent .",
    "moreover , by construction , given the excursion @xmath517 , we have @xmath539 .",
    "let @xmath540 and note that , by the continuity of @xmath517 , @xmath541 almost surely .",
    "let @xmath542 then @xmath543 is a collection of unordered pairs of points in the @xmath3-tree @xmath529 .",
    "we wish to glue these points together in order to obtain an @xmath3-graph , as in section  [ subsec : gluing ] .",
    "we define a new equivalence relation @xmath359 by declaring @xmath523 in @xmath529 if @xmath544",
    ". then let @xmath545 be @xmath546 , let @xmath547 be the quotient metric @xcite , and let @xmath548 be the push - forward of @xmath531 to @xmath545 .",
    "then set @xmath549 and @xmath550 .",
    "we note that for each @xmath74 , the measure @xmath531 is almost surely concentrated on the leaves of @xmath529 . as a consequence ,",
    "@xmath548 is almost surely concentrated on the leaves of @xmath545 .",
    "given an @xmath3-graph @xmath191 , write @xmath551 for the minimal length of a core edge in @xmath191 .",
    "then @xmath552 whenever @xmath387 is non - empty .",
    "we use the convention that @xmath553 if @xmath554 and @xmath555 if @xmath191 has a unique embedded cycle @xmath44 . recall also that @xmath471 denotes the surplus of @xmath191 .",
    "[ thm : gnp - converge ] fix @xmath70 .",
    "then as @xmath62 , we have the following joint convergence @xmath556 the first convergence takes place in the space @xmath557 .",
    "the others are in the sense of finite - dimensional distributions .",
    "let @xmath558 .",
    "corollary 2 of @xcite gives the following joint convergence @xmath559 where the first convergence is in @xmath560 and the second is in the sense of finite - dimensional distributions .",
    "( of course , @xmath561 and @xmath562 . )",
    "theorem 1 of @xcite extends this to give that , jointly , @xmath563 in the sense of @xmath564 , where for @xmath565 , @xmath566 .",
    "we need to improve this convergence from @xmath564 to @xmath567 .",
    "first we show that we can get ghp convergence componentwise .",
    "we do this in two lemmas .",
    "[ lem : measured_identifications ] suppose that @xmath568 and @xmath569 are measured @xmath3-trees , that @xmath570 are pairs of points in @xmath571 and that @xmath572 are pairs of points in @xmath573 . then if @xmath574 and @xmath575 are the measured metric spaces obtained by identifying @xmath479 and @xmath506 in @xmath571 and @xmath576 and @xmath577 in @xmath573 , for all @xmath578 , we have @xmath579 where @xmath580 and similarly for @xmath581 .",
    "let @xmath165 and @xmath582 be a correspondence and a measure which realise the gromov ",
    "prokhorov distance between @xmath583 and @xmath584 ; write @xmath585 for this distance .",
    "note that by definition , @xmath586 and @xmath587 for @xmath588 . now make the vertex identifications in order to obtain @xmath589 and @xmath590 ;",
    "let @xmath591 and @xmath592 be the corresponding canonical projections .",
    "then @xmath593 is a correspondence between @xmath589 and @xmath590 .",
    "let @xmath594 be the push - forward of the measure @xmath582 by @xmath595",
    ". then @xmath596 and @xmath597 . moreover , by lemma 21 of @xcite , we have @xmath598 . the claimed result follows .",
    "[ lem : componentwise ] fix @xmath74 .",
    "then as @xmath62 , @xmath599 in @xmath600 .",
    "this proof is a fairly straightforward modification of the proof of theorem 22 in @xcite , so we will only sketch the argument .",
    "consider the component @xmath601 .",
    "since we have fixed @xmath125 and @xmath13 , let us drop them from the notation and simply write @xmath602 for the component , and similarly for other objects .",
    "write @xmath603 for the size of @xmath602 and @xmath604 for its surplus .",
    "we can list the vertices of this graph in depth - first order as @xmath605 .",
    "let @xmath606 be the graph distance of vertex @xmath607 from @xmath608 .",
    "then it is easy to see that @xmath609 encodes a tree @xmath610 on vertices @xmath605 with metric @xmath611 such that @xmath612 .",
    "we endow @xmath610 with a measure by letting each vertex of @xmath610 have mass @xmath77 .",
    "next , let the pairs @xmath613 give the indices of the surplus edges required to obtain @xmath614 from @xmath610 , listed in increasing order of first co - ordinate .",
    "in other words , to build @xmath602 from @xmath610 , we add an edge between @xmath615 and @xmath616 for each @xmath617 ( and re - multiply distances by @xmath1 ) .",
    "recall that to get @xmath618 from @xmath614 , we rescale the graph distance by @xmath60 and assign mass @xmath77 to each vertex .",
    "it is straightforward that @xmath618 is at ghp distance at most @xmath619 from the metric space @xmath620 obtained from @xmath610 by _ identifying _ vertices @xmath615 and @xmath616 for all @xmath617 .    from the proof of theorem 22 of @xcite",
    ", we have jointly @xmath621 by skorokhod s representation theorem , we may work on a probability space where these convergences hold almost surely .",
    "consider the @xmath3-tree @xmath622 encoded by @xmath623 and recall that @xmath624 is the canonical projection @xmath625",
    "\\to \\mathcal{t}$ ] .",
    "we extend @xmath624 to a function on @xmath25 by letting @xmath626 .",
    "let @xmath627 be the function defined by @xmath628 .",
    "set @xmath629,|t - t'|\\leq \\delta_n\\},\\ ] ] where @xmath630 converges to @xmath148 slowly enough , that is , @xmath631 then @xmath632 is a correspondence between @xmath610 and @xmath571 that contains @xmath633 and @xmath634 for every @xmath635 , and with distortion going to @xmath148 .",
    "next , let @xmath636 be the push - forward of lebesgue measure on @xmath637 $ ] under the mapping @xmath638 .",
    "then the discrepancy of @xmath636 with respect to the uniform measure @xmath639 on @xmath610 and the image @xmath15 of lebesgue measure by @xmath624 on @xmath571 is @xmath640 , and @xmath641 .    for all large enough @xmath0 , @xmath642 , so",
    "let us assume henceforth that this holds .",
    "then , writing @xmath643 and @xmath644 , we have @xmath645 almost surely , as @xmath62 . by lemma  [ lem : measured_identifications ]",
    "we thus have @xmath646 almost surely , as @xmath647 .",
    "since @xmath648 , it follows that @xmath649 as well .    by ( [ eq : aldous_joint_convergence ] ) , ( [ eq : abbrgo ] ) , lemma  [ lem : componentwise ] and skorokhod s representation theorem , we may work in a probability space in which the convergence in ( [ eq : aldous_joint_convergence ] ) and in ( [ eq : abbrgo ] ) occur almost surely , and in which for every @xmath74 we almost surely have @xmath650 as @xmath62 .",
    "now , for each @xmath74 , @xmath651 the proof of theorem 24 from @xcite shows that almost surely @xmath652 and ( [ eq : abbrgo ] ) then implies that almost surely @xmath653 the @xmath654 convergence of the masses entails that almost surely @xmath655 and ( [ eq : aldous_joint_convergence ] ) then implies that almost surely @xmath656 hence , on this probability space , we have @xmath657 almost surely . combined with ( [ eq : coordconv ] )",
    ", this implies that in this space , almost surely @xmath658    the convergence of @xmath659 to @xmath660 follows from ( [ eq : aldous_joint_convergence ] ) .    if @xmath13 is such that @xmath661 then , by ( [ eq : aldous_joint_convergence ] ) , we almost surely have @xmath662 for all @xmath0 sufficiently large . in this case ,",
    "@xmath663 and @xmath664 are the lengths of the unique cycles in @xmath75 and in @xmath665 , respectively .",
    "now , @xmath666 almost surely in @xmath230 , and it follows easily that in this space , @xmath667 almost surely , for @xmath13 such that @xmath661 .    finally , by theorem  4 of @xcite , @xmath668 is bounded away from zero in probability .",
    "so by skorokhod s representation theorem , we may assume our space is such that almost surely @xmath669 in particular , it follows from the above that , for any @xmath74 with @xmath670 , there is almost surely @xmath139 such that @xmath671 and @xmath672 for all n sufficiently large .",
    "corollary [ sec : cutt - safely - point-1 ] ( i ) then yields that in this space , @xmath673 almost surely .    together , the two preceding paragraphs establish the final claimed convergence . for completeness",
    ", we note that this final convergence may also be deduced without recourse to the results of @xcite ; here is a brief sketch , using the notation of the previous lemma .",
    "it is easily checked that the points of the kernels of @xmath674 and @xmath675 correspond to the identified vertices @xmath676 and @xmath677 , and those vertices of degree at least @xmath4 in the subtrees of @xmath678 spanned by the points @xmath679 and @xmath680 respectively .",
    "these trees are combinatorially finite trees ( i.e. , they are finite trees with edge - lengths ) , so the convergence of the marked trees @xmath681 to @xmath682 entails in fact",
    "the convergence of the same trees marked not only by @xmath683 but also by the points of degree @xmath4 on their skeletons .",
    "write @xmath684 for these enlarged collections of points .",
    "then one concludes by noting that @xmath685 ( resp.@xmath686 ) is the minimum quotient distance , after the identifications @xmath676 ( resp .",
    "@xmath677 ) between any two distinct elements of @xmath687 ( resp .  @xmath581 ) .",
    "this entails that @xmath663 converges almost surely to @xmath664 for each @xmath74 .",
    "the above description of the sequence @xmath104 of random @xmath3-graphs does not make the distribution of the cores and kernels of the components explicit .",
    "( clearly the kernel of @xmath688 is only non - empty if @xmath670 and its core is only non - empty if @xmath689 . )",
    "such an explicit distributional description was provided in @xcite , and will be partially detailed below in section  [ sec : properties ] .",
    "recall that @xmath40 is the minimum spanning forest of @xmath36 and that we write @xmath690 for the components of @xmath691 listed in decreasing order of size .",
    "for each @xmath74 we write @xmath692 for the measured metric space obtained from @xmath693 by rescaling the graph distance by @xmath60 and giving each vertex mass @xmath77 .",
    "we let @xmath694 recall the cutting procedure introduced in section  [ sec : breaking - cycles - r ] , and that for an @xmath3-graph @xmath191 , we write @xmath492 for a random variable with distribution @xmath695 . for @xmath74 , if @xmath696 , let @xmath697 .",
    "otherwise , let @xmath698 , where the cutting mechanism is run independently for each @xmath13 .",
    "we note for later use that the mass measure on @xmath699 is almost surely concentrated on the leaves of @xmath699 , since this property holds for @xmath688 , and @xmath688 may be obtained from @xmath699 by making an almost surely finite number of identifications .",
    "[ thm : msf - converge ] fix @xmath70 . then as @xmath62 , @xmath700 in the space @xmath95 .",
    "write @xmath701 with the convention that @xmath702 when @xmath703 . likewise , for @xmath704 let @xmath705 .",
    "we work in a probability space in which the convergence statements of theorem  [ thm : gnp - converge ] are all almost sure . in this probability space ,",
    "by theorem 5.19 of @xcite we have that @xmath706 is almost surely finite and that @xmath707 almost surely .    by theorem  [ thm : gnp - converge ] , almost surely @xmath685 is bounded away from zero for all @xmath708 .",
    "it follows from theorem  [ sec : breaking - cycles - r-1 ] that almost surely for every @xmath74 we have @xmath709 propositions  [ prop : cut - close ] and  [ prop : cut - dist ] then imply that we may work in a probability space in which almost surely , for every @xmath74 , @xmath710 now , for each @xmath74 , we have @xmath711 moreover , for each @xmath712 the right - hand side is bounded above by @xmath713 since @xmath706 is almost surely finite , as in the proof of theorem  [ thm : gnp - converge ] we thus almost surely have that @xmath714 which combined with ( [ eq : msf - converge ] ) shows that in this space , almost surely @xmath715      in this section , we study the largest component @xmath716 of the minimum spanning forest @xmath717 obtained by partially running kruskal s algorithm , as well as its analogue @xmath718 for the random graph",
    ". it will be useful to consider the random variable @xmath719 which is the smallest number @xmath720 such that @xmath718 is a subgraph of @xmath721 for every @xmath722 .",
    "in other words , in the race of components , @xmath719 is the last instant where a new component takes the lead .",
    "it follows from theorem 7 of @xcite that @xmath723 is tight , that is @xmath724 ( this result is stated in @xcite for the other erds  rnyi random graph model , @xmath725 , rather than @xmath36 , but it is standard that results for the former have equivalents for the latter ; see @xcite for more details . )    in the following , if @xmath726 is a real function , we write @xmath727 if there exist positive , finite constants @xmath728 such that @xmath729 in the following lemma , we write @xmath730 for the hausdorff distance between @xmath731 and @xmath59 , seen as subspaces of @xmath59 . obviously , @xmath732 .",
    "[ lem : cauchy - property2]for any @xmath733 and @xmath734 large enough , we have @xmath735    in the course of the proof of lemma  [ lem : cauchy - property2 ] , we will need the following estimate on the length of the longest path outside the largest component of a random graph within the critical window .",
    "[ lem : long_path - improved ] for all @xmath736 there exists @xmath734 such that for all @xmath737 and all @xmath0 sufficiently large , the probability that a connected component of @xmath738 aside from @xmath718 contains a simple path of length at least @xmath739 is at most @xmath740 .",
    "the proof of lemma  [ lem : long_path - improved ] follows precisely the same steps as the proof of lemma  3 ( b ) of @xcite , which is essentially the special case @xmath741 . , but their proof does imply the present stronger result . for the careful reader , the key point is that the last estimate in theorem 19 of @xcite is a specialisation of a more general bound , theorem 11 ( iii ) of @xcite . using the more general bound in",
    "the proof is the only modification required to yield the above result . ] since no new idea is involved , we omit the details .",
    "fix @xmath742 and for @xmath743 , let @xmath744 .",
    "let @xmath745 be the smallest @xmath13 for which @xmath746 .",
    "lemma 4 of @xcite ( proved via prim s algorithm ) states that @xmath747 } } = o(n^{1/6 } ( \\log n)^{7/2});\\ ] ] this is established by proving the following stronger bound , which will be useful in the sequel : @xmath748 let @xmath749 be the event that some component of @xmath750 aside from @xmath751 contains a simple path with more than @xmath752 edges and let @xmath753 lemma  [ lem : long_path - improved ] entails that , for @xmath754 sufficiently large , for all @xmath0 , and all @xmath755 , @xmath756 where the last inequality holds for all @xmath13 sufficiently large . for fixed @xmath757 , if @xmath758 then for all @xmath759 $ ] we have @xmath760 if , moreover , @xmath761 , then we have @xmath762 the latter inequality holding for @xmath763 .",
    "finally , fix @xmath764 and let @xmath765 be such that @xmath766 . since @xmath767 as @xmath2 , we certainly have @xmath768 for all @xmath0 large enough .",
    "furthermore , @xmath769 for all @xmath125 large enough and all @xmath0 such that @xmath770 , by ( [ eqn : tdistance ] ) .",
    "it then follows from and the tightness of @xmath723 that there exists a constant @xmath771 such that for all @xmath734 large enough , @xmath772 letting @xmath0 tend to infinity proves the lemma .",
    "we are now in a position to prove a partial version of our main result . in what follows",
    ", we write @xmath773 , @xmath774 and @xmath775 for the metric spaces obtained from @xmath59 , @xmath115 and @xmath120 by ignoring their measures .",
    "[ lem : firstdraft ] there exists a random compact metric space @xmath776 such that , as @xmath62 , @xmath777 moreover , as @xmath99 , @xmath778    recall that the metric space @xmath230 is complete and separable .",
    "theorem  [ thm : msf - converge ] entails that @xmath779 as @xmath62 in @xmath780 .",
    "the stated results then follow from this , lemma  [ lem : cauchy - property2 ] and the principle of accompanying laws ( see theorem 3.1.14 of @xcite or theorem 9.1.13 in the second edition ) .",
    "let @xmath114 be the measured metric space obtained from @xmath115 by rescaling so that the total mass is one ( in @xmath115 we gave each vertex mass @xmath77 ; now we give each vertex mass @xmath116 ) .",
    "[ lem : mst - lim ] for any @xmath112 , @xmath781    in order to prove this proposition , we need some notation and a lemma .",
    "let @xmath782 be the subgraph of @xmath67 with edge set @xmath783 .",
    "then @xmath784 is a forest which we view as rooted by taking the root of a component to be the unique vertex in that component which was an element of @xmath785 . for @xmath786 ,",
    "let @xmath787 be the number of nodes in the component @xmath788 of @xmath784 rooted at @xmath134 .",
    "the fact that the random variables @xmath789 are exchangeable will play a key role in what follows .",
    "[ lem : exchbitssmall ] for any @xmath790 , @xmath791    let @xmath792 be the event that vertices 1 and 2 lie in the same component of @xmath793 .",
    "note that , conditional on @xmath794 , the event @xmath792 occurs with probability at least @xmath795 for sufficiently large @xmath0 .",
    "so , in order to prove the lemma it suffices to show that @xmath796    in order to prove ( [ eqn:12diffcmpts ] ) , we consider the following modification of prim s algorithm .",
    "we build the mst conditional on the collection @xmath797 of trees .",
    "we start from the component containing vertex 1 in @xmath798 . to this component",
    ", we add the lowest weight edge connecting it to a new vertex .",
    "this vertex lies in a new component of @xmath798 , which we add in its entirety , before again seeking the lowest - weight edge leaving the tree we have so far constructed .",
    "we continue in this way until we have constructed the whole mst .",
    "( observe that the components we add along the way may , of course , be singletons . )",
    "note that if we think of prim s algorithm as a discrete - time process , with time given by the number of vertices added so far , then this is simply a time - changed version which looks only at times when we add edges of weight _ strictly greater than @xmath799_. this is because when prim s algorithm first touches a component of @xmath797 , it necessarily adds all of its edges before adding any edges of weight exceeding @xmath800 .",
    "for @xmath801 , write @xmath802 for the tree constructed by the modified algorithm up to step @xmath13 and let @xmath485 be the edge added at step @xmath13 .",
    "the advantage of the modified approach is that , for each @xmath74 , we can calculate the probability that the endpoint of @xmath485 which does not lie in @xmath803 touches @xmath804 , given that it has not at steps @xmath805 .",
    "recall that , at each stage of prim s algorithm , we add the edge of minimal weight leaving the current tree .",
    "we are thinking of this tree as a collection of components of @xmath797 connected by edges of weight strictly greater than @xmath800 .",
    "in general , different sections of the tree built so far are subject to different conditionings depending on the weights of the connecting edges and the order in which they were added .",
    "in particular , the endpoint of @xmath485 contained in @xmath803 is more likely to be in a section with a lower weight - conditioning .",
    "however , the _ other _ endpoint of @xmath485 is equally likely to be any of the vertices of @xmath806 because all that we know about them is that they lie in ( given ) components of @xmath807 .",
    "formally , let @xmath808 .",
    "let @xmath809 be the component containing 1 in @xmath797 .",
    "recursively , for @xmath578 , let    * @xmath485 be the smallest - weight edge leaving @xmath803 and * @xmath802 be the component containing 1 in the graph with edge - set @xmath810 .",
    "the graph with edge - set @xmath811 is precisely @xmath67 .",
    "let @xmath812 be the first index for which @xmath813 , so that @xmath812 is the time at which the component containing @xmath68 attaches to @xmath785 . for each @xmath578 , the endpoint of @xmath485 not in @xmath803",
    "is uniformly distributed among all vertices of @xmath814 .",
    "so , conditionally given @xmath815 and on @xmath816 , the probability that @xmath812 takes the value @xmath13 is @xmath817",
    ". therefore , @xmath818 by theorem 2 of @xcite ( see also lemma 3 of @xcite ) , for all @xmath790 , @xmath819 using and , it follows that for any @xmath790 , there exists @xmath820 such that @xmath821 next , let @xmath822 be a uniformly random element of @xmath823 , and let @xmath824 be the size of the component of @xmath807 that contains @xmath822 .",
    "theorem  a1 of @xcite shows that @xmath825 } } < \\infty,\\ ] ] which implies that @xmath826 } } < \\infty.\\ ] ] for each @xmath827 , given that @xmath828 , the difference @xmath829 is stochastically dominated by @xmath824 , so that @xmath830}}\\leq i{\\ensuremath{\\mathbb{e}\\left[l_\\lambda\\right]}}\\ , .\\ ] ] by and markov s inequality , there exists @xmath831 such that @xmath832 the graph @xmath833 with edge - set @xmath834 forms part of the component containing 1 in @xmath793 ; indeed , the endpoint of @xmath835 not contained in @xmath836 is the root of this component .",
    "write @xmath837 for this root vertex .",
    "now consider freezing the construction of the mst via the modified version of prim s algorithm at time @xmath812 and constructing the rest of the mst using the modified version of prim s algorithm starting now from vertex 2 .",
    "let @xmath838 .",
    "let @xmath839 be the component containing 2 in the graph with edge - set @xmath840 .",
    "recursively , for @xmath841 , let    * @xmath842 be the smallest - weight edge leaving @xmath843 and * @xmath844 be the component containing 2 in the graph with edge - set @xmath845 .",
    "let @xmath846 be the first index for which @xmath847 has an endpoint in @xmath848 , and let @xmath849 be the first index for which @xmath850 has an endpoint in @xmath851 .",
    "recall that @xmath792 is the event that 1 and 2 lie in the same component of @xmath793 .",
    "if @xmath792 occurs then we necessarily have @xmath852 . to prove ( [ eqn:12diffcmpts ] ) it therefore suffices to show that @xmath853 in order to do so , we first describe how the construction of @xmath854 conditions the locations of attachment of the edges @xmath855 . as in the introduction , for @xmath856",
    ", @xmath857 is the weight of edge @xmath401 , and unconditionally these weights are i.i.d .",
    "uniform@xmath32 $ ] random variables .",
    "write @xmath858 , and for @xmath859 , let @xmath860 .",
    "in particular , @xmath861 .",
    "after @xmath854 is constructed , for each @xmath862 , the conditioning on edges incident to @xmath863 is as follows .",
    "* every edge between @xmath864 and @xmath865 has weight at least @xmath866 .",
    "* for each @xmath867 , every edge between @xmath865 and @xmath868\\setminus v(c_j)$ ] has weight at least @xmath869 .",
    "in particular , ( b ) implies all edges from @xmath865 to @xmath868\\setminus v(c_{i_1})$ ] are conditioned to have weight at least @xmath870 .",
    "this entails that components which are added later have lower weight - conditioning .",
    "in particular , there is no conditioning on edges from @xmath861 to @xmath868\\setminus v(c_{i_1})$ ] ( except the initial conditioning , that all such edges have weight at least @xmath800 , which comes from conditioning on @xmath871 ) .",
    "it follows that under the conditioning imposed by the construction of @xmath854 , it is _ not _ the case that for @xmath872 , the endpoint of @xmath873 _ outside _",
    "@xmath844 is uniformly distributed among @xmath874 .",
    "however , the conditioning precisely biases these endpoints away from the sets @xmath865 with @xmath828 ( but not away from @xmath875 ) . as a consequence , for each @xmath841 , conditional on the edge set @xmath845 and on the event @xmath876 , the probability that @xmath877 is at least @xmath878 and the probability that @xmath879 is at most @xmath880 .",
    "hence , @xmath881 and so , by ( [ eqn : luczak ] ) , we obtain that for any @xmath790 there exists @xmath882 such that @xmath883 moreover , @xmath884 note that @xmath885 . also , just as for the components @xmath802 ,",
    "given that @xmath886 , the difference @xmath887 is stochastically dominated by @xmath824 and so we obtain the analogue of ( [ eq : mst - lim3 ] ) : there exists @xmath888 such that @xmath889 hence , from this and ( [ eq : mst - lim3 ] ) , we see that there exists @xmath890 such that @xmath891 together , ( [ eq : ibound ] ) and ( [ eq : jbound ] ) establish ( [ eq : mst - lim5 ] ) and complete the proof .",
    "armed with this lemma , we now turn to the proof of proposition  [ lem : mst - lim ] .    fix @xmath112 and let @xmath892 be the minimal number of open balls of radius @xmath893 needed to cover the ( finite ) space @xmath59 .",
    "this automatically yields a covering of @xmath894 by @xmath892 open balls of radius @xmath893 since @xmath110 is included in @xmath59 . from this covering",
    ", we can easily construct a new covering @xmath895 of @xmath110 by sets of diameter at most @xmath896 which are pairwise disjoint .",
    "let @xmath897 and let @xmath898 which defines a correspondence between @xmath110 and @xmath59 .",
    "moreover , its distortion is clearly at most @xmath899 .",
    "therefore , by lemma  [ lem : cauchy - property2 ] , @xmath900 next , write @xmath901 by @xmath902 . since @xmath903 are exchangeable , theorem 16.23 of kallenberg  @xcite entails that for any @xmath790 , @xmath904 as soon as we have that for all @xmath790 , @xmath905 which is precisely the content of lemma  [ lem : exchbitssmall ] .",
    "now define a measure @xmath636 on @xmath906 by @xmath907 note that @xmath908 by definition .",
    "moreover , the marginals of @xmath636 are given by @xmath909 and @xmath910 therefore , the discrepancy @xmath911 of @xmath912 with respect to the uniform measures on @xmath59 and @xmath110 is at most @xmath913 which ( by relabelling the elements of @xmath894 so that the vertices in each @xmath914 have consecutive labels and using exchangeability ) is bounded above by @xmath915 then @xmath916 but now recall that @xmath917 is the minimal number of open balls of radius @xmath893 needed to cover @xmath59 .",
    "let @xmath918 be the same quantity for @xmath776 . then by lemma  [ lem : firstdraft ] , @xmath919 , which easily implies that @xmath920 .",
    "in particular , by ( [ eq : distortionsmall ] ) and ( [ eq : kallenberg ] ) @xmath921 and the right - hand side converges to 0 as @xmath922 .",
    "let @xmath923 be the measured metric space obtained from @xmath97 by renormalising the measure to be a probability .",
    "[ thm : big_statement ] there exists a random compact measured metric space @xmath54 of total mass 1 such that as @xmath62 , @xmath924 in the space @xmath600 .",
    "moreover , as @xmath99 , @xmath925 in the space @xmath600 . finally , writing @xmath926 , we have @xmath927 in @xmath928 , where @xmath776 is as in lemma  [ lem : firstdraft ] .",
    "recall that the metric space @xmath58 is a complete and separable .",
    "theorem  [ thm : msf - converge ] entails that @xmath929 as @xmath62 in @xmath930 .",
    "the stated results then follow from this , proposition  [ lem : mst - lim ] and the principle of accompanying laws ( see theorem 3.1.14 of @xcite or theorem 9.1.13 in the second edition ) .",
    "finally , we observe that , analogous to the fact that @xmath110 is a subspace of @xmath59 , we can view @xmath931 as a subspace of @xmath54 .",
    "( we emphasize that this does not follow from theorem  [ thm : big_statement ] . ) to this end , we briefly introduce the marked gromov  hausdorff topology of ( * ? ? ?",
    "* section 6.4 ) .",
    "let @xmath932 be the set of ordered pairs of the form @xmath933 , where @xmath318 is a compact metric space and @xmath329 is a compact subset of @xmath169 ( such pairs are considered up to isometries of @xmath191 ) .",
    "a sequence @xmath934 of such pairs converges to a limit @xmath933 if there exist correspondences @xmath935 whose restrictions to @xmath936 are correspondences between @xmath937 and @xmath293 , and such that @xmath938 .",
    "( in particular , this implies that @xmath937 converges to @xmath293 for the gromov ",
    "haudorff distance , when these spaces are equipped with the restriction of the distances on @xmath939 . )",
    "moreover , a set @xmath940 is relatively compact if and only if @xmath941 is relatively compact for the gromov ",
    "hausdorff topology .",
    "recall the definition of the tight sequence of random variables @xmath723 at the beginning of this section . by taking subsequences",
    ", we may assume that we have the joint convergence in distribution @xmath942 for the product topology on @xmath943 .",
    "on the right - hand side should , in principle , depend on @xmath125 , but obviously these spaces are almost surely all isometric .",
    "] this coupling of course has the properties that @xmath944 and that @xmath945 for every @xmath946 . combining this with lemma [ lem : cauchy - property2 ]",
    "we easily obtain the following .",
    "[ sec : largest - tree - minimum ] there exists a probability space on which one may define a triple @xmath947 with the following properties : ( i ) @xmath948 is an a.s .",
    "finite random variable ; ( ii ) @xmath944 , @xmath945 and @xmath949 for every @xmath946 ; and ( iii ) for every @xmath950 and @xmath951 large enough , @xmath952 in particular , @xmath953 as @xmath119 for the marked gromov - hausdorff topology .",
    "in this section we give some properties of the limiting metric space @xmath954 .",
    "we start with some general properties that @xmath954 shares with the brownian crt of aldous @xcite :    [ thm : basic_properties ] @xmath54 is a measured @xmath3-tree which is almost surely binary and whose mass measure is concentrated on its leaves .    by the second distributional convergence in theorem  [ thm : big_statement ] , we may ( and will ) work in a space in which we almost surely have @xmath955 . since it is the gromov  hausdorff limit of the sequence of @xmath3-trees @xmath956 , @xmath954 is itself an @xmath3-tree ( see for instance @xcite ) . for fixed @xmath70 , each component of @xmath107",
    "is obtained from @xmath957 , the scaling limit of @xmath958 , using the cutting process . from the construction of @xmath957 detailed in section  [ sec : scaling - limit - erdhos ] , it is clear that @xmath959 almost surely does not contain points of degree more than three , and so @xmath960 is almost surely binary .",
    "next , let us work with the coupling @xmath961 , of proposition [ sec : largest - tree - minimum ] .",
    "we can assume , using the last statement of this proposition and the skorokhod representation theorem , that @xmath962 a.s .  in @xmath932 .",
    "now suppose that @xmath963 has a point @xmath964 of degree at least @xmath965 with positive probability . on this event , we can find four points @xmath966 of the skeleton of @xmath963 , each having degree @xmath66 , and such that the geodesic paths from @xmath479 to @xmath964 have strictly positive lengths and meet only at @xmath964 .",
    "but for @xmath125 large enough , @xmath967 all belong to @xmath968 , as well as the geodesic paths from @xmath969 to @xmath964 .",
    "this contradicts the fact that @xmath931 is binary .",
    "hence , @xmath54 is binary almost surely .",
    "let @xmath295 and @xmath970 be sampled according to the probability measures on @xmath54 and on @xmath971 , respectively . for the remainder of the proof we abuse notation by writing @xmath972 and @xmath973 for the marked spaces ( random elements of @xmath974 ) obtained by marking at the points @xmath295 and @xmath970 .",
    "then we may , in fact , work in a space in which almost surely @xmath975 as noted earlier , the mass measure on @xmath971 is almost surely concentrated on the leaves of @xmath971 , and it follows that for each fixed @xmath125 , @xmath970 is almost surely a leaf .",
    "let @xmath976 \\to m~\\mbox{a geodesic with } x \\in { \\ensuremath{\\mathrm{im}}}(f)\\right\\}\\ , , \\ ] ] so , in particular , @xmath977 precisely if @xmath295 is a leaf . for each fixed @xmath125 , since @xmath970 is almost surely a leaf , it is straightforward to verify that almost surely @xmath978 but then taking @xmath99 along any countable sequence shows that @xmath977 almost surely .    to distinguish @xmath954 from aldous crt , we look at a natural notion of fractal dimension , the _ minkowski ( or box - counting ) dimension _",
    "given a compact metric space @xmath191 and @xmath979 , let @xmath980 be the minimal number of open balls of radius @xmath981 needed to cover @xmath191 .",
    "we define the lower and upper minkowski dimensions by @xmath982 if @xmath983 , then this value is called the minkowski dimension and is denoted @xmath984 .",
    "[ prop : box - counting ] the minkowski dimension of @xmath54 exists and is equal to @xmath4 almost surely .",
    "since the brownian crt @xmath64 satisfies @xmath985 almost surely ( ( * ? ? ?",
    "* corollary 5.3 ) ) , we obtain the following result , which gives a negative answer to a conjecture of aldous @xcite .",
    "[ cor : notcrt ] for any random variable @xmath986 , the laws of @xmath54 and of @xmath987 , the metric space @xmath64 with distances rescaled by @xmath65 , are mutually singular .",
    "the proof relies on an explicit description of the components of @xmath128 , given in @xcite .",
    "we only give a partial statement , since that is all that we need here .",
    "note that , given @xmath988 , the kernel @xmath989 is a 3-regular multigraph with @xmath990 edges and hence @xmath991 vertices .",
    "fix @xmath720 and @xmath992 , and @xmath405 a @xmath4-regular multigraph with @xmath990 edges .",
    "label the edges of @xmath405 by @xmath993 arbitrarily .",
    "construction 1 . : :    independently sample random variables @xmath994 and    @xmath995 . attach a line - segment of    length @xmath996 in the place of edge    @xmath997 in @xmath405 , for    @xmath998 .",
    "construction 2 . : :    sample    @xmath999    and , given @xmath1000 , let    @xmath1001 be    independent crt s with masses given by    @xmath1002 respectively .",
    "for    @xmath1003 , let @xmath1004 be two    independent points in @xmath1005 , chosen    according to the normalized mass measure .",
    "take the metric gluing of    @xmath1006 induced by the    graph structure of @xmath405 , by viewing @xmath1007    as the extremities of the edge @xmath13 .",
    "here we should recall some of the basic properties of the crt @xmath64 , referring the reader to , e.g. , @xcite for more details .",
    "if @xmath1008 is a standard normalized brownian excursion then @xmath64 is the quotient space of @xmath32 $ ] endowed with the pseudo - distance @xmath1009 , by the relation @xmath1010 .",
    "it is seen as a measured metric space by endowing it with the mass measure which is the image of lebesgue measure on @xmath32 $ ] by the canonical projection @xmath1011\\to \\mathscr{t}$ ] .",
    "it is also naturally rooted at the point @xmath1012 .",
    "likewise , the crt with mass @xmath197 , denoted by @xmath1013 , is coded in a similar fashion by ( twice ) a brownian excursion conditioned to have duration @xmath197 . by scaling properties of brownian excursion",
    ", this is the same as multiplying distances by @xmath1014 in @xmath64 , and multiplying the mass measure by @xmath197 .",
    "[ sec : prop - scal - limit-1 ] the metric space obtained by construction 1 ( resp .  construction 2 ) has same distribution as @xmath1015 ( resp .",
    "@xmath1016 ) , given @xmath1017 , @xmath1018 and @xmath1019 .",
    "the proof of proposition [ prop : box - counting ] builds on this result and requires a couple of lemmas .",
    "recall the notation @xmath430 from section [ sec : breaking - cycles - r ] .",
    "[ sec : prop - scal - limit-2]let @xmath1020 be a safely pointed @xmath3-graph and fix @xmath303 . then @xmath1021 .",
    "this lemma will be proved in section [ sec : cutting - procedure ] , where we give a more precise description of @xmath430 .",
    "the next lemma is a concentration result for the mass and surplus of @xmath1016 .",
    "this should be seen as a continuum analogue of similar results in @xcite .",
    "we stress that these bounds are far from being sharp , and could be much improved by a more careful analysis . in the rest of this section ,",
    "if @xmath1022 is a family of positive random variables and @xmath1023 is a positive function , we write @xmath1024 if for all @xmath1025 , @xmath1026\\right ) } }    = { \\mathrm{oe}}(\\lambda)\\ , .\\ ] ] note that this only constrains the above probability for large @xmath125 .",
    "[ sec : prop - scal - limit ] it is the case that @xmath1027    we use the construction of @xmath128 described in section [ sec : scaling - limit - erdhos ] . recall that @xmath1028 is a standard brownian motion , that @xmath1029 , and that @xmath1030 .",
    "note that , letting @xmath1031 we have @xmath1032 . considering first @xmath1033 , by symmetry , the reflection principle and scaling we have that @xmath1034 and this is @xmath1035 since @xmath1036 is gaussian . turning to @xmath1037 , note that letting @xmath1038 , then @xmath1039 is a standard brownian motion by the markov property .",
    "hence , on the event @xmath1040 , the probability that @xmath1041 for some @xmath1042 is at most @xmath1043 .",
    "we deduce that @xmath1032 from the fact that @xmath1044 has an exponential distribution , see e.g.  @xcite .    on @xmath1045 , @xmath1046",
    "from which it is elementary to obtain that if @xmath1047 , the following properties hold .    *",
    "the excursion @xmath1048 of @xmath1049 that straddles the time @xmath125 has length in @xmath1050 $ ] . *",
    "all other excursions of @xmath1049 have length at most @xmath1051 . *",
    "the area of @xmath1048 is in @xmath1052 $ ] .",
    "note that ( i ) and ( ii ) imply that , for @xmath1053 , on @xmath1045 , the excursion @xmath1048 of @xmath1049 is the longest , which we previously called @xmath1054 , and which encodes the component @xmath1016 of @xmath128 .",
    "this implies that @xmath1055 , since @xmath1056 is precisely the length of @xmath1054 .",
    "finally , recall that , given @xmath1054 , @xmath1057 has a poisson distribution with parameter equal to the area of @xmath1054 . therefore , standard large deviation bounds together with ( iii ) imply that @xmath1058 .    in this proof",
    ", we always work with the coupling from proposition [ sec : largest - tree - minimum ] , but for convenience omit the decorations from the notation , e.g. , writing @xmath54 in place of @xmath776 or of @xmath963 .",
    "in particular , this allows us to view @xmath931 as a subspace of @xmath54 for every @xmath946 .",
    "since @xmath931 is obtained from @xmath1016 by performing the cutting operation of section [ sec : breaking - cycles - r ] , lemma  [ sec : prop - scal - limit-2 ] implies that for every @xmath303 , @xmath1059 next , by viewing @xmath1015 as a graph with edge - lengths , we obtain that @xmath1060 is at least equal to the number @xmath1061 of edges of @xmath1015 that have length at least @xmath1062 , since the open balls with radius @xmath1063 centred at the midpoints of these edges are pairwise disjoint .",
    "now fix @xmath1064 and a @xmath4-regular multigraph @xmath405 with @xmath990 edges , and recall the notation of * construction 1*. given that @xmath1065 and @xmath1066 , the edge - lengths of @xmath1015 are given by @xmath1067 , and we conclude that ( still conditionally ) @xmath1068 note that this does not depend on @xmath405 but only on @xmath197 and on @xmath184 . now",
    "@xmath1069 can be represented as the sum of @xmath1070 independent random variables with distribution @xmath1071 , which have mean @xmath68 , and by standard large deviation results this implies that @xmath1072}{\\ensuremath{\\mathbb{p}\\left(\\gamma_k <    \\lambda^3\\right)}}={\\mathrm{oe}}(\\lambda)\\ , .\\ ] ] hence , by first conditioning on @xmath1073 and using lemma [ sec : prop - scal - limit ] , for any given @xmath1074 , @xmath1075}}{\\ensuremath{\\mathbb{p}\\left(n'(1/\\lambda)<c\\lambda^3\\ , |\\ ,      \\mathrm{mass}(\\mathscr{g}_\\lambda^1)=\\sigma , s(\\mathscr{g}_\\lambda^1)=k\\right)}}+{\\mathrm{oe}}(\\lambda)\\nonumber\\\\   & \\leq \\sup_{\\substack{\\sigma\\geq \\lambda\\\\k\\in        [ \\lambda^3/2,\\lambda^3]}}{\\ensuremath{\\mathbb{p}\\left(|\\{i\\in",
    "\\{1,\\ldots,3k-3\\}:y_i\\sqrt{\\sigma\\gamma_k}>2/\\lambda\\}|<c\\lambda^3\\right)}}+{\\mathrm{oe}}(\\lambda ) \\nonumber\\\\    & \\leq \\sup_{k\\in        [ \\lambda^3/2,\\lambda^3]}{\\ensuremath{\\mathbb{p}\\left(|\\{i\\in      \\{1,\\ldots,3k-3\\}:y_i>2/\\lambda^3\\}|<c\\lambda^3\\right)}}+{\\mathrm{oe}}(\\lambda ) \\nonumber\\end{aligned}\\ ] ] we now use that @xmath1076 is distributed as @xmath1077 , where @xmath1078 are independent exponential@xmath1079 random variables .",
    "standard large deviations results for gamma random variables imply that @xmath1080}{\\ensuremath{\\mathbb{p}\\left(\\gamma_1+\\ldots+\\gamma_{3k-3 } > 4\\lambda^3\\right ) } } = { \\mathrm{oe}}(\\lambda)\\ , .\\ ] ] from this we obtain @xmath1081}{\\ensuremath{\\mathbb{p}\\left(|\\{i\\in      \\{1,\\ldots,3k-3\\}:y_i>2/\\lambda^3\\}|<c\\lambda^3\\right)}}}\\nonumber\\\\ & \\leq   \\sup_{k\\in        [ \\lambda^3/2,\\lambda^3]}{\\ensuremath{\\mathbb{p}\\left(|\\{i\\in      \\{1,\\ldots,3k-3\\}:\\gamma_i>8\\}|<c\\lambda^3\\right)}}+{\\mathrm{oe}}(\\lambda)\\nonumber\\end{aligned}\\ ] ] and this is @xmath1035 for @xmath1082 , since @xmath1083 is bin@xmath1084 distributed .",
    "it follows that for such @xmath44 , @xmath1085 , which with implies that @xmath1086 we obtain by the borel  cantelli lemma that @xmath1087 for all @xmath1088 sufficiently large . by sandwiching @xmath1089 between consecutive integers , this yields that almost surely @xmath1090",
    "we now prove the upper bound from proposition  [ prop : box - counting ] .",
    "recall the definition of @xmath948 from proposition [ sec : largest - tree - minimum ] .",
    "fix @xmath1091 and an integer @xmath1092 .",
    "we work conditionally on the event @xmath1093 .",
    "next , fix @xmath323 .",
    "if @xmath1094 is a covering of @xmath931 by balls of radius @xmath1095 then , since @xmath1096 , the centres @xmath1097 of these balls are elements of @xmath54 . on the event @xmath1098",
    ", whose complement has conditional probability @xmath1035 by proposition [ sec : largest - tree - minimum ] , the balls with centres @xmath1097 and radius @xmath1099 then form a covering of @xmath54 . hence @xmath1100 where in the penultimate step we used lemma [ sec : prop - scal - limit-2 ] and the fact that @xmath931 is obtained from @xmath1016 by performing @xmath1057 cuts , and in the last step we used the fact that @xmath1058 from lemma [ sec : prop - scal - limit ] .",
    "to estimate @xmath1101 , we now use * construction 2 * to obtain a copy of @xmath1016 conditioned to satisfy @xmath1065 and @xmath1066 , where @xmath405 is a @xmath4-regular multigraph with @xmath990 edges . recall that we glue @xmath990 brownian crt s @xmath1102 along the edges of @xmath405 .",
    "these crt s are conditionally independent given their masses @xmath1103 , and @xmath1000 has dirichlet@xmath1104 distribution .",
    "( here we include the mass in the notation because it will vary later on . )",
    "if each of these trees has diameter less than @xmath1095 , then clearly we can cover the glued space by @xmath990 balls of radius @xmath1095 , each centred in a distinct tree @xmath1105 .",
    "therefore , by first conditioning on @xmath1056 and on @xmath1057 , and then using lemma [ sec : prop - scal - limit ] , @xmath1106 } }    { \\ensuremath{\\mathbb{p}\\left(n(\\mathscr{g}_\\lambda^1,1/\\lambda^{1-{\\ensuremath{\\epsilon}}})>3\\lambda^3\\ , |\\ ,    \\mathrm{mass}(\\mathscr{g}_\\lambda^1)=\\sigma , s(\\mathscr{g}_\\lambda^1)=k\\right)}}+{\\mathrm{oe}}(\\lambda)\\nonumber\\\\ & \\leq \\sup_{\\substack{\\sigma\\leq 3\\lambda\\\\k\\in      [ \\lambda^3/2,\\lambda^3 ] } }    { \\ensuremath{\\mathbb{p}\\left(\\max_{1\\leq i\\leq 3k-3}{\\mathrm{diam}}(\\mathscr{t}^{(i)}_{\\sigma x_i})>1/\\lambda^{1-{\\ensuremath{\\epsilon}}}\\right)}}+{\\mathrm{oe}}(\\lambda)\\end{aligned}\\ ] ]    we can represent @xmath1000 as @xmath1077 , where @xmath1078 are i.i.d .  random variables with distribution @xmath1107 . hence @xmath1108 standard large deviations results for gamma random variables then entail that for all @xmath112 , @xmath1072}{\\ensuremath{\\mathbb{p}\\left(\\max_{1\\leq i\\leq 3k-3}x_i > 1/\\lambda^{3-{\\ensuremath{\\epsilon}}}\\right)}}={\\mathrm{oe}}(\\lambda)\\ , , \\ ] ] which in turn implies that @xmath1109}}{\\ensuremath{\\mathbb{p}\\left(\\max_{1\\leq i\\leq      3k-3}{\\mathrm{diam}}(\\mathscr{t}^{(i)}_{\\sigma x_i})>1/\\lambda^{1-{\\ensuremath{\\epsilon}}}\\right ) } } } \\nonumber\\\\ & \\leq   \\sup_{k\\in [ \\lambda^3/2,\\lambda^3]}{\\ensuremath{\\mathbb{p}\\left(\\max_{1\\leq i\\leq      3k-3}x_i>1/\\lambda^{3-{\\ensuremath{\\epsilon}}}\\right ) } } + { \\ensuremath{\\mathbb{p}\\left(\\max_{1\\leq i\\leq      3\\lambda^3}{\\mathrm{diam}}(\\mathscr{t}^{(i)}_{3/\\lambda^{2-{\\ensuremath{\\epsilon}}}})>1/\\lambda^{1-{\\ensuremath{\\epsilon}}}\\right)}}\\nonumber\\end{aligned}\\ ] ] where we used that , by scaling , @xmath1110 is stochastically increasing in @xmath197 , and @xmath1111 are independent crt s , each with mass @xmath1112 . using this bound and brownian scaling , it follows that @xmath1113}}{\\ensuremath{\\mathbb{p}\\left(\\max_{1\\leq i\\leq      3k-3}{\\mathrm{diam}}(\\mathscr{t}^{(i)}_{\\sigma x_i})>1/\\lambda^{1-{\\ensuremath{\\epsilon}}}\\right ) } }       \\leq { \\mathrm{oe}}(\\lambda)+1-\\left(1-{\\ensuremath{\\mathbb{p}\\left({\\mathrm{diam}}(\\mathscr{t}>\\lambda^{{\\ensuremath{\\epsilon}}/2}/\\sqrt{3})\\right)}}\\right)^{3\\lambda^3}\\ , .\\ ] ] next , it is well - known that the height of @xmath64 , that is , the maximal distance from the root to another point , is theta - distributed : @xmath1114 since @xmath1115 it follows that @xmath1116 we obtain that is @xmath1035 , and ( [ eq:1729 ] ) then yields that @xmath1117 .",
    "by , we then have @xmath1118 therefore , the borel  cantelli lemma implies that @xmath1119 a.s .  for every integer @xmath1120 large enough",
    "this implies that , conditionally on @xmath1093 , @xmath1121 almost surely for every @xmath323 , by sandwiching @xmath1089 between integers in @xmath1122 . since @xmath948 is almost surely finite and @xmath734 was arbitrary , this then holds unconditionally for any @xmath323 .",
    "this concludes the proof of proposition [ prop : box - counting ] .",
    "in this section , we investigate @xmath3-graphs and prove the structure theorems claimed in section  [ sec : r - trees - r ] .      in this section , @xmath318 is an @xmath3-graph .",
    "the _ girth _ of @xmath191 is defined by @xmath1123 if @xmath159 is an @xmath3-graph , then by definition @xmath1124 is an @xmath3-tree for every @xmath270 and for some function @xmath1125 .",
    "the balls @xmath1126 form an open cover of @xmath169 . by extracting a finite sub - cover",
    ", we see that there exists @xmath323 such that for every @xmath270 , the space @xmath328 is an @xmath3-tree .",
    "we let @xmath1127 be the supremum of all numbers @xmath323 with this property .",
    "it is immediate that @xmath1128 .",
    "in fact , it is not difficult to show that @xmath1129 and that @xmath1130 is an @xmath3-tree .",
    "more precisely , the closed ball @xmath1131 is also a ( compact ) @xmath3-tree , since it is the closure of the corresponding open ball .",
    "these facts are not absolutely crucial in the arguments to come , but they make some proofs more elegant , so we will take them for granted and leave their proofs to the reader , who is also referred to proposition  2.2.15 of @xcite .",
    "[ sec : r - graphs ] if @xmath279,x)$ ] is a local geodesic in @xmath191 , then for every @xmath1132 $ ] , the restriction of @xmath280 to @xmath1133\\cap[a , b]$ ] is a geodesic .",
    "in particular , if @xmath44 is an embedded cycle and @xmath1134 , then @xmath44 contains a geodesic arc of length @xmath1135 with mid - point @xmath295 .",
    "the function @xmath280 is injective on any interval of length at most @xmath1135 , since otherwise we could exhibit an embedded cycle with length at most @xmath1136 . in particular",
    ", @xmath280 is injective on the interval @xmath1133\\cap[a , b]$ ] , and takes values in the @xmath3-tree @xmath1137 , so that its image is a geodesic segment , and since @xmath280 is parameterized by arc - length , its restriction to the above interval is an isometry .",
    "this proves the first statement .",
    "for the second statement , note that every injective path @xmath1138,x)$ ] parameterized by arc - length is a local geodesic since , for every @xmath307 , the path @xmath280 restricted to @xmath1133\\cap [ a , b]$ ] is an injective path in the @xmath3-tree @xmath1137 parameterized by arc - length , and hence is a geodesic . if now @xmath1139 is an injective continuous function inducing the embedded cycle @xmath44 , it suffices to apply the previous claim to a parametrisation by arc - length mapping @xmath148 to @xmath295 of the function @xmath1140 .      in this section",
    ", @xmath318 is again an @xmath3-graph .",
    "recall that @xmath346 is the union of all arcs with endpoints in embedded cycles .",
    "[ sec : skeleton - core - kernel ] the set @xmath346 is a finite union of embedded cycles and simple arcs that are disjoint from the embedded cycles except at their endpoints .",
    "moreover , the space @xmath347 is an @xmath3-graph with no leaves .",
    "assume , for a contradiction , that the union of all embedded cycles can not be written as a finite union of embedded cycles .",
    "then we can find an infinite sequence @xmath1141 of embedded cycles such that @xmath1142 is non - empty for every @xmath1143 , and thus contains at least one point @xmath479 .",
    "up to taking subsequences , one can assume that @xmath479 converges to some point @xmath295 , and that @xmath1144 for every @xmath708 .",
    "let @xmath1145 be a geodesic from @xmath295 to @xmath479 : this geodesic takes its values in the @xmath3-tree @xmath1146 . since @xmath1147 , by proposition [ sec : r - graphs ] we can find two geodesic paths starting from @xmath479 , meeting only at @xmath479 , with length @xmath1148 , and taking values in @xmath1149 .",
    "at least one of these paths @xmath1150 does not pass through @xmath295 , and so the concatenation @xmath1151 of @xmath1145 and @xmath1152 is an injective path parameterized by arc - length starting from @xmath295 and with length @xmath1127 .",
    "so it is , in fact , a geodesic path , since it takes its values in @xmath1146 .",
    "we let @xmath506 be the endpoint of @xmath1151 , so that @xmath1153 for every @xmath708 .",
    "now , we observe that if @xmath1154 , the paths @xmath1151 and @xmath1155 both start from the same point @xmath295 , but since @xmath1152 takes values in @xmath1156 , since @xmath1157 passes through @xmath1158 , and since @xmath1159 , these paths are disjoint outside the ball @xmath1160 .",
    "this implies that @xmath1161 for every @xmath1154 , and contradicts the compactness of @xmath169 .",
    "therefore , the union @xmath1162 of all embedded cycles is closed and has finitely many connected components . by definition",
    ", @xmath346 is the union of @xmath1162 together with all simple arcs with endpoints in @xmath1162 . obviously , in this definition",
    ", we can restrict our attention to simple arcs having only their endpoints in @xmath1162 .",
    "so let @xmath1163 with @xmath1164 be linked by an simple arc @xmath65 taking its values outside @xmath1162 , except at its endpoints .",
    "necessarily , @xmath295 and @xmath296 must be in disjoint connected components of @xmath1162 , because otherwise there would exist a path from @xmath295 to @xmath296 in @xmath1162 whose concatenation with @xmath1165 would create an embedded cycle not included in @xmath1162 . furthermore , there can exist at most one arc @xmath65 , or else it would be easy to exhibit an embedded cycle not included in @xmath1162 .",
    "so we see that @xmath346 is a finite union of simple arcs and embedded cycles , which is obviously connected , and is thus closed .",
    "any point in @xmath346 has degree at least @xmath66 by definition .",
    "it remains to check that the intrinsic metric on @xmath346 is given by @xmath360 itself .",
    "let @xmath1166 and @xmath1165 be a geodesic path from @xmath295 to @xmath296 .",
    "assume that @xmath1165 takes some value @xmath1167 outside @xmath346 .",
    "let @xmath1168 and @xmath1169 , so that @xmath1170 .",
    "since @xmath346 is connected , we can join @xmath1171 and @xmath1172 by a simple arc included in @xmath346 , and the union of this arc with @xmath1173 is an embedded cycle not contained in @xmath346 , a contradiction .      in this section , @xmath191 is an @xmath3-graph with no leaves .",
    "we now start to prove theorem [ sec : structure - r - graphs-4 ] on the structure of such @xmath3-graphs .",
    "the set @xmath1174 of branchpoints of @xmath169 forms the vertex set of @xmath387 .",
    "[ sec : structure - r - graphs-1 ] the set @xmath338 is finite , and @xmath1175 for every @xmath1176 .    by proposition",
    "[ sec : skeleton - core - kernel ] , the number of cycles of @xmath191 is finite .",
    "we assume that @xmath191 is not acyclic , and argue by induction on the maximal number of independent embedded cycles , that is , of embedded cycles @xmath1177 such that @xmath1178 for @xmath588 . plainly , we may and will assume that for all @xmath1179 , either @xmath1156 is disjoint from @xmath1180 , or @xmath1181 is a simple arc of the form @xmath1182 , where @xmath1183\\to x$ ] satisfies @xmath1184 .",
    "the result is trivial if @xmath191 is unicyclic ( @xmath1185 ) .",
    "suppose @xmath169 has @xmath184 independent embedded cycles @xmath1177 as above .",
    "consider the smallest connected subset @xmath170 of @xmath169 containing @xmath1186 : this subset is the union of @xmath1186 with some simple arcs having only their endpoints as elements of @xmath1187 , and is a closed subset of @xmath169 .",
    "if @xmath1188 does not intersect @xmath170 , then there exists a unique simple arc with one endpoint @xmath277 in @xmath1188 and the other endpoint @xmath278 in @xmath170 , and disjoint from @xmath1189 elsewhere . then @xmath1190 must be elements of @xmath338 : @xmath277 is the only element of @xmath338 in @xmath1188 , we have @xmath1191 , and @xmath1192 .",
    "therefore , the number of points in @xmath338 is at most @xmath1193 , where @xmath223 is the set @xmath170 endowed with the intrinsic metric inherited from @xmath191 .",
    "this is an @xmath3-graph without leaves and with ( at most ) @xmath1194 independent cycles .    if on the other hand @xmath1195 , then by assumption we have @xmath1196 , where @xmath65 is a sub - arc of @xmath1188 disjoint from @xmath170 except at its endpoints @xmath1190 .",
    "the latter are elements of @xmath338 , and satisfy @xmath1197 and similarly for @xmath278 ( note that @xmath1190 may be equal ) .",
    "after we remove @xmath1198 from @xmath169 , we are left with an @xmath3-graph @xmath223 ( in the induced metric ) without leaves , and with at most @xmath1194 independent cycles .",
    "the result follows by induction on @xmath184 .",
    "if @xmath191 is unicyclic , then @xmath169 is in fact identical to its unique embedded cycle @xmath44 . in this case , @xmath1199 , and we let @xmath1200 .",
    "if @xmath191 has at least two distinct embedded cycles , then the previous proof entails that @xmath1201 , and more precisely that every embedded cycle contains at least one point of @xmath338 .",
    "the set @xmath1202 has finitely many connected components ( in fact , there are precisely @xmath1203 components , as the reader is invited to verify ) , which are simple arcs of the form @xmath1182 , where @xmath1183\\to x$ ] is such that @xmath1165 is injective on @xmath1204 , such that @xmath1205 , and such that @xmath1206 .",
    "we let @xmath466 be the set of the closures of these connected components , i.e.  the arcs @xmath1207)$ ] with the above notation , which are called the _",
    "kernel edges_. the multigraph @xmath386 is the _ kernel _ of @xmath191 , where the vertices incident to @xmath1208 are , of course , the endpoints of @xmath401 .",
    "an orientation of the edge @xmath401 is the choice of a parametrisation @xmath1183\\to x$ ] of the arc @xmath401 or its reversal @xmath1209 , considered up to reparametrisations by increasing bijections from @xmath32 $ ] to @xmath32 $ ] .",
    "if @xmath401 is given an orientation , then its endpoints are distinguished as the source and target vertices , and are denoted by @xmath1210 , respectively .",
    "the next proposition then follows from the definition of @xmath338 .",
    "[ sec : structure - r - graphs-3 ] the kernel of a non - unicyclic @xmath3-graph without leaves is a multigraph of minimum degree at least 3 .    finally , we prove theorem [ sec : structure - r - graphs-4 ] .",
    "assume that @xmath191 is a non - unicyclic @xmath3-graph without leaves , and let @xmath1211 be the lengths of the kernel edges .",
    "note that if @xmath1212 , then @xmath1213 where @xmath1214 is a chain from @xmath295 to @xmath296 if it is possible to orient @xmath1215 in such a way that @xmath1216 and @xmath1217 for every @xmath1218 .",
    "of course , it suffices to restrict the infimum to those chains that are simple , in the sense that they do not visit the same vertex twice .",
    "since there are finitely many simple chains , the above infimum is , in fact , a minimum .",
    "next , if @xmath295 and @xmath296 are elements of @xmath401 and @xmath1219 respectively , consider an arbitrary orientation of @xmath1220 .",
    "then a shortest path from @xmath295 to @xmath296 either stays in @xmath401 ( in this case @xmath1221 ) , or passes through at least one element of @xmath338 incident to @xmath401 , and likewise for @xmath1219 .",
    "therefore , @xmath1222 where we let @xmath1223 be the length of the arc of @xmath401 between @xmath277 and @xmath278 if @xmath1224 , and @xmath1225 otherwise .",
    "it is shown in ( * ? ? ?",
    "* section 3 ) that this formula gives the distance for the metric gluing of the graph with edge - lengths @xmath447 .",
    "this proves theorem  [ sec : structure - r - graphs-4 ] .      in this section",
    ", we show that kernels of @xmath3-graphs are stable under small perturbations in the gromov ",
    "hausdorff metric , under an assumption which says , essentially , that the girth is uniformly bounded away from @xmath148 .",
    "recall from section [ sec : breaking - cycles - r ] that @xmath445 is the set of measured @xmath3-graphs @xmath191 such that @xmath1226 where it is understood in this definition that the unicyclic @xmath3-graphs ( those with surplus @xmath68 ) are such that their unique embedded cycle has length in @xmath449 $ ] .",
    "it follows that the sets @xmath1227 , are decreasing , with union the set of all measured @xmath3-graphs .",
    "if @xmath160 $ ] is an @xmath3-graph , we write @xmath160\\in { \\mathcal{a}}_r$ ] if @xmath1228\\in { \\mathcal{a}}_r$ ] .",
    "note that an element @xmath1229 has @xmath1230 .",
    "likewise , we let @xmath1231 be the set of ( isometry equivalence classes of ) safely pointed measured @xmath3-graphs @xmath1232 with @xmath451 ( recall definition [ sec : cutting - cycles - an ] ) , and say that a pointed @xmath3-graph @xmath1233 if @xmath1234 .    a subset @xmath65 of @xmath169 is said to be in correspondence with a subset @xmath1235 of @xmath170 via @xmath1236 if @xmath1237 is a correspondence between @xmath65 and @xmath1235 .",
    "let @xmath191 and @xmath223 be @xmath3-graphs with surplus at least @xmath66 .",
    "given @xmath1238 , for @xmath112 we say that @xmath165 is a _",
    "( of @xmath191 and @xmath223 ) if @xmath1239 , and there exists a multigraph isomorphism @xmath1240 between @xmath387 and @xmath1241 such that :    1 .   for every @xmath1242 , @xmath1243 .",
    "2 .   for every @xmath1208 , the edges @xmath401 and @xmath1244 are in correspondence via @xmath165 , and @xmath1245    if @xmath1246 , an @xmath327-overlay is a correspondence with distortion at most @xmath327 , such that the unique embedded cycles @xmath1247 of @xmath191 and @xmath223 are in correspondence via @xmath165 , and @xmath1248",
    "finally , if @xmath1249 then an @xmath327-overlay is just a correspondence of distortion at most  @xmath327 .",
    "[ lem : deltaover ] fix @xmath1250 . for every @xmath323 there exists @xmath1251 such that if @xmath318 and @xmath1252 are elements of @xmath1253 and @xmath1254 has @xmath1255",
    ", then there exists an @xmath327-overlay @xmath1256 with @xmath1257 .",
    "we say that a sequence of graphs with edge - lengths @xmath1258 converges to the graph with edge - lengths @xmath379 if @xmath1259 and @xmath380 are isomorphic for all but finitely many @xmath1260 , through an isomorphism @xmath1261 such that @xmath1262 as @xmath2 for every @xmath398 .",
    "we now state some consequences of proposition  [ lem : deltaover ] which are used in the proof of theorem  [ thm : gnp - converge ] and in section  [ sec : cuttingrgs ] , before proceeding to the proof of proposition  [ lem : deltaover ] .",
    "recall the definition of the distances @xmath1263 from section  [ sec : notions - convergence ] .",
    "[ sec : cutt - safely - point-1 ] fix @xmath1264 .",
    "let @xmath1265 and @xmath204 be elements of @xmath445 .",
    "suppose that @xmath1266 as @xmath2 .",
    "+ ( i ) then @xmath1267 converges to @xmath387 as a graph with edge - lengths . as a consequence , @xmath1268 , and writing @xmath1269 ( resp .",
    "@xmath435 ) for the restriction of the length measure of @xmath1270 ( resp .  @xmath191 ) to @xmath1271 ( resp .",
    "@xmath366 ) , it holds that @xmath1272    \\(ii ) let @xmath1273 be a random variable in @xmath1274 with distribution @xmath1275 and @xmath295 be a random variable in @xmath191 with distribution @xmath437 . then as @xmath62 , @xmath1276 in the space @xmath1277 .",
    "the above results rely on the following lemma . given metric spaces @xmath159 and @xmath177 , @xmath1236 and @xmath303 , let @xmath1278 @xmath1279 is the @xmath981-enlargement of @xmath165 with respect to the product distance .",
    "note that if @xmath165 is a correspondence between @xmath169 and @xmath170 , then @xmath1279 is also a correspondence for every @xmath303 .",
    "moreover , @xmath1280 .",
    "a mapping @xmath1281\\to [ a',b']$ ] is called _ bi - lipschitz _",
    "if @xmath1282 is a bijection such that @xmath1282 and @xmath1283 are lipschitz , and we call the quantity @xmath1284\\big\\}\\ ] ] the _ bi - lipschitz constant _ of @xmath1282 . by convention , we let @xmath1285 if @xmath1282 is not a bijection , or not bi - lipschitz .",
    "[ sec : cutting - r - graphs ] fix @xmath444 and let @xmath1286 .",
    "suppose there exists a correspondence @xmath165 between @xmath169 and @xmath170 such that @xmath1287 .",
    "let @xmath1288 be two distinct points in @xmath169 , and let @xmath280 be a local geodesic from @xmath295 to @xmath296 .",
    "let @xmath1289 be such that @xmath1290 .",
    "then there exists a local geodesic @xmath1291 from @xmath1292 to @xmath378 with @xmath1293 and a bi - lipschitz mapping @xmath1294\\to    [ 0,{\\ensuremath{\\mathrm{len}}}(f')]$ ] such that @xmath1295 for every @xmath1296 $ ] , and @xmath1297    note that the second part of the statement also implies a lower bound on the length of @xmath1291 , namely , @xmath1298 which is , of course , useless when @xmath1299 .",
    "let us first assume that @xmath1300 , so in particular @xmath1301 and @xmath280 is the geodesic from @xmath295 to @xmath296 .",
    "we have @xmath1302 so that @xmath1292 and @xmath378 are linked by a unique geodesic @xmath1291 .",
    "set @xmath1303 for @xmath1304 . from the preceding chain of inequalities",
    ", we obtain that @xmath1305    fix @xmath1306 and let @xmath1307 be such that @xmath1308 .",
    "then @xmath1309 , so that @xmath1307 belongs to the @xmath3-tree @xmath1310 .",
    "let @xmath377 be the ( unique ) point of @xmath1311 that is closest to @xmath1307 .",
    "then a path from @xmath1292 or @xmath378 to @xmath1307 must pass through @xmath377 , from which we have @xmath1312 therefore , @xmath1313 so after a short calculation we get that @xmath1314 from this we obtain @xmath1315 so that , in conjunction with , we have @xmath1316    we next assume that @xmath1317 .",
    "fix an integer @xmath1318 such that @xmath1319 and let @xmath1320 and @xmath1321 for @xmath1322 . by proposition",
    "[ sec : r - graphs ] , since @xmath280 is a local geodesic and @xmath1323 for every @xmath1324 , the restriction @xmath1325}$ ] must be a shortest path and so @xmath1326\\ , .\\ ] ] letting @xmath1327 be a point such that @xmath1328 ( where we always make the choice @xmath1329 and @xmath1330 ) , we have @xmath1331 , so that we can consider the unique geodesic @xmath1332 between @xmath1327 and @xmath1333 . the concatenation of the paths @xmath1334 is not necessarily a local geodesic , but by excising certain parts of it we will be able to recover a local geodesic between @xmath1292 and @xmath378 . for each @xmath1335 ,",
    "the sets @xmath1336 and @xmath1337 are included in the @xmath3-tree @xmath1338 , and the concatenation of @xmath1339 and @xmath1332 is a path from @xmath1340 to @xmath1333 which , as such , must contain the image of the geodesic @xmath1341 between these points .",
    "let @xmath1342 be the unique point of @xmath1343 that is closest to @xmath1327 , and let @xmath1344 .",
    "then @xmath1345 so that , for @xmath1346 , @xmath1347 if @xmath1348 then @xmath1349 however , since @xmath1350 and @xmath1351 , we have @xmath1352 so , in fact , @xmath1353 and , in particular , @xmath1354 does not lie on the shortest path between @xmath1355 and @xmath576 . from this",
    "it follows that if @xmath1291 denotes the concatenation of the geodesic @xmath1356 between @xmath1342 and @xmath1357 , for @xmath1358 , then @xmath1291 is a local geodesic between @xmath1292 and @xmath378 .",
    "its length is certainly bounded by the sum of the lengths of the paths @xmath1359 , so that @xmath1360 as claimed .",
    "next , we let @xmath1361 , so that @xmath1362 if @xmath1294\\to [ 0,{\\ensuremath{\\mathrm{len}}}(f')]$ ] is the concatenation of the mappings @xmath1363 , then @xmath1282 is bi - lipschitz with the same upper - bound for @xmath1364 as for each @xmath1365 . finally , we note that @xmath1366 is the concatenation of the paths @xmath1367 .",
    "if @xmath1368 , we let @xmath1307 be such that @xmath1369 and let @xmath377 be the point in @xmath1370 that is closest to @xmath1307 .",
    "then similar arguments to before entail that @xmath1371 , so that @xmath1372 which implies that @xmath1373 and we conclude that @xmath1374 , and so that @xmath1375 for every @xmath1376 $ ] .",
    "we will prove this result only when one of @xmath191 and @xmath223 ( and then , in fact , both ) has surplus at least @xmath66 , leaving the similar and simpler case of surplus @xmath68 to the reader ( the case of surplus @xmath148 is trivial ) .",
    "also , we may assume without loss of generality that @xmath1377 .",
    "fix @xmath1378 , and fix any @xmath1379 .",
    "also , fix @xmath1380 and a correspondence @xmath1381 with @xmath1382 .",
    "list the elements of @xmath338 as @xmath1383 , and fix elements @xmath1384 of @xmath170 with @xmath1385 for each @xmath1386 . since @xmath1387 and @xmath1383 are pairwise at distance at least @xmath981 , @xmath1384 are pairwise at distance at least @xmath1388 and , in particular , are all distinct .",
    "next , for every @xmath1208 , say with @xmath1389 , fix a local geodesic @xmath1390 between @xmath1391 and @xmath1392 with @xmath1393 and @xmath1394 . by lemma",
    "[ sec : cutting - r - graphs ] , there exists a geodesic @xmath1395 from @xmath1396 to @xmath1397 and a bi - lipschitz mapping @xmath1398\\to [ 0,{\\ensuremath{\\mathrm{len}}}(f''_e)]$ ] with @xmath1399 and such that @xmath1400 for every @xmath1401 $ ] . in particular , it follows that @xmath1402",
    ". then we claim that for @xmath585 small enough , the following two properties hold .    1 .   for every @xmath1208",
    ", the path @xmath1403 is injective .",
    "2 .   for @xmath1404 with @xmath1405",
    ", we have @xmath1406    to establish the first property , suppose that @xmath1407 for some @xmath1408 and distinct @xmath1409 $ ] . for concreteness ,",
    "let us assume that @xmath1410 and @xmath1411 . since @xmath1395 is a local geodesic , this implies that @xmath1412 .",
    "moreover , since @xmath1413 and since @xmath1414 , we have @xmath1415 on the other hand , we have @xmath1416 and since @xmath1417 and @xmath1418 , @xmath1419 .",
    "but if @xmath1420 $ ] , then @xmath1421 , because a path from @xmath1422 to @xmath1423 is either a subarc of @xmath401 , or passes through both vertices @xmath1391 and @xmath1392 .",
    "it follows that @xmath1424 , in contradiction with .",
    "this yields that property 1 holds .",
    "the argument for property 2 is similar : for every @xmath1425 and @xmath1426 , there exist @xmath1427 and @xmath1428 such that @xmath1429 and @xmath1430 are in @xmath1431 .",
    "then the distance from @xmath1432 to @xmath338 is at least @xmath1433 so that @xmath1434 . from this",
    ", we deduce that @xmath1435 .",
    "next , for every @xmath1436 , consider the points @xmath1437 for which @xmath1410 , as well as the points @xmath1438 for which @xmath1439 .",
    "these points are on the boundary of the ball @xmath1440 , which we recall is an @xmath3-tree .",
    "let @xmath1441 be the subtree of @xmath1440 spanned by these points .",
    "then property 1 above shows that @xmath1442 induces a closed subgraph of @xmath177 without leaves , and so this subgraph is in fact a subgraph of @xmath1443 .",
    "furthermore , property 2 implies that the points of degree at least @xmath4 in this subgraph can only belong to @xmath1444 .",
    "since any such point is then an element of @xmath1445 and @xmath1446 , we see that each @xmath1441 can contain at most one element of @xmath1445 . on the other hand",
    ", each @xmath1441 must contain at least one element of @xmath1445 because @xmath1441 has at least three leaves ( since @xmath1391 has degree at least @xmath4 ) .",
    "thus , each @xmath1441 contains exactly one element of @xmath1445 , which we denote by @xmath1447 .",
    "next , for @xmath1448 , if @xmath1449 , then we let @xmath1450 be the simple path from @xmath1451 to @xmath1452 that has a non - empty intersection with @xmath1395 .",
    "it is clear that this path is well - defined and unique . letting @xmath1453 for @xmath1454 , and letting @xmath1455 for @xmath1456",
    ", we have therefore defined a multigraph homomorphism from @xmath387 to @xmath1241 , and this homomorphism is clearly injective . by symmetry of the roles of @xmath169 and @xmath170 , we see that @xmath1457 and @xmath1458 , and so @xmath1240 must , in fact , be a multigraph isomorphism .    finally , since @xmath1459 , we have @xmath1460 by our choice of @xmath585 .",
    "but , by construction , @xmath1461 , since the endpoints of @xmath1244 each have distance at most @xmath893 from an endpoint of @xmath1462 .",
    "it follows that @xmath1463 .",
    "finally , since every point of @xmath1244 is within distance @xmath893 of @xmath1464 and @xmath1465 and @xmath1466 are in correspondence via @xmath1431 , it follows that @xmath401 and @xmath1244 are in correspondence via @xmath1467 .",
    "since @xmath1468 , this completes the proof .",
    "again we only consider the case @xmath1469 , the case @xmath393 being easier ( and the case @xmath392 trivial ) .",
    "let @xmath1470 and @xmath191 be as in the statement of corollary  [ sec : cutt - safely - point-1 ] .",
    "let @xmath1471 and @xmath1472 be sequences of correspondences and of measures , respectively , such that @xmath1473 and @xmath1474 each converge to @xmath148 as @xmath2 .",
    "the fact that @xmath1267 converges to @xmath387 as a graph with edge - lengths is then an immediate consequence of proposition [ lem : deltaover ] : for each @xmath0 sufficiently large , simply replace @xmath632 by @xmath1475 , where @xmath1476 is an @xmath1477-overlay of @xmath191 and @xmath1270 , for some sequence @xmath1478 ( we may assume @xmath1479 ) .",
    "we continue to write @xmath632 instead of @xmath1475 , and note that enlarging @xmath632 diminishes @xmath1480 .",
    "in particular , we obtain that for all large enough @xmath0 , there is an isomorphism @xmath1261 from @xmath1481 to @xmath1482 such that @xmath1483 converges to @xmath148 for every @xmath1208 . the fact that @xmath1268 is immediate .",
    "we now fix a particular orientation of the edges , and view @xmath1261 as an isomorphism of oriented graphs , in the sense that @xmath1484 .    for each @xmath1456 , let @xmath1390 be a local geodesic between @xmath1485 and @xmath1486 with @xmath1394 and @xmath1487 and , for each @xmath1488 and @xmath1489 , define @xmath1390 accordingly . then for each @xmath0 sufficiently large , define a mapping @xmath1490 with domain @xmath1491)$ ] by setting @xmath1492 for each @xmath1456 and each @xmath1493 .    by considering a small enlargement of @xmath632 , or , equivalently , by letting @xmath1477 tend to zero sufficiently slowly",
    ", we may assume without loss of generality that @xmath1494 for all @xmath1495 .",
    "this comes from the fact that @xmath401 and @xmath1496 are in correspondence via @xmath632 ; we leave the details of this verification to the reader .",
    "it follows that the relation @xmath1497 is a subset of @xmath632 .",
    "let @xmath1498 be the set of edges @xmath1456 whose removal from @xmath466 does not disconnect @xmath387 .",
    "clearly , @xmath1499 , and the measure @xmath435 is carried by @xmath1500 ( in fact , it is carried by the subset of points of @xmath1501 with degree @xmath66 , by proposition [ sec : skeleton - core - kernel-2 ] ) .",
    "let @xmath1502 be the restriction of @xmath435 to the set @xmath1503 , which has total mass @xmath1504 .",
    "we consider the push - forward @xmath1505 of @xmath1502 by the mapping @xmath1506 from @xmath169 to @xmath1507 .",
    "then the second marginal of @xmath1505 is the restriction of @xmath1269 to @xmath1508 , so that @xmath1509 the latter converges to @xmath148 by the convergence of the edge - lengths .",
    "it only remains to note that @xmath1510 by construction .",
    "this yields ( i ) .",
    "finally , ( i ) implies that @xmath1511 converges to @xmath1512 in the metric @xmath1513 introduced in section [ sec : notions - convergence ] , and ( ii ) then follows from proposition [ sec : grom - hausd - prokh ] .",
    "in this section , we will consider a simple cutting procedure on @xmath3-graphs , and study how this procedure is perturbed by small variations in the gromov  hausdorff distance .",
    "let @xmath159 be an @xmath3-graph , and let @xmath369 .",
    "we endow the connected set @xmath1514 with the intrinsic distance @xmath1515 : more precisely , @xmath425 is defined to be the minimal length of an injective path not visiting @xmath295 .",
    "this is indeed a minimum because there are finitely many injective paths between @xmath296 and @xmath374 in @xmath169 , as a simple consequence of theorem [ sec : structure - r - graphs-4 ] applied to @xmath1516 .",
    "the space @xmath1517 is not complete , so we let @xmath422 be its metric completion as in section  [ sec : breaking - cycles - r ] .",
    "this space is connected , and thus easily seen to be an @xmath3-graph .",
    "we call it the _ @xmath3-graph @xmath159 cut at the point @xmath295_.    from now on",
    ", we will further assume that @xmath368 , so that @xmath185 is safely pointed as in definition  [ sec : cutting - cycles - an ] . in this case , one can provide a more detailed description of @xmath422 .",
    "a cauchy sequence @xmath1518 in @xmath423 is also a cauchy sequence in @xmath159 , since @xmath1519 . if its limit @xmath296 in @xmath159 is distinct from @xmath295 , then it is easy to see that @xmath1520 , by considering a ball @xmath1521 not containing @xmath295 within which @xmath1522 .",
    "so let us assume that @xmath1518 converges to @xmath295 for the distance @xmath360 . since @xmath295 has degree @xmath66 , the @xmath3-tree @xmath1523 has exactly two components , say @xmath1524 .",
    "it is clear that @xmath1525 for every @xmath1526 .",
    "since @xmath1518 is a cauchy sequence for @xmath1517 , we conclude that it must eventually take all its values in precisely one of @xmath1527 and @xmath1528 , let us say @xmath1527 for definiteness .",
    "note that the restrictions of @xmath360 and @xmath1515 to @xmath1527 are equal , so that if @xmath1529 is another cauchy sequence in @xmath423 which converges in @xmath159 to @xmath295 and takes all but a finite number of values in @xmath1527 , then @xmath1530 , and so this sequence is equivalent to @xmath1518 .",
    "we conclude that the completion of @xmath1531 adds exactly two points to @xmath321 , corresponding to classes of cauchy sequences converging to @xmath295 in @xmath159 `` from one side '' of @xmath295 .",
    "so we can write @xmath1532 and describe @xmath1533 as follows :    * if @xmath1534 then @xmath1535 is the minimal length of a path from @xmath296 to @xmath374 in @xmath169 not visiting @xmath295 . * if @xmath1536 then @xmath1537 is the minimal length of an injective path from @xmath295 to @xmath296 in @xmath169 which takes its values in the component @xmath1527 on some small initial interval @xmath1538 , and similarly for @xmath1539 with @xmath1540 . * finally , @xmath1541 is the minimal length of an embedded cycle passing through @xmath295 .",
    "if @xmath1232 is a pointed measured metric space such that @xmath185 is a safely pointed @xmath3-graph , and @xmath427 , then the space @xmath422 carries a natural measure @xmath209 , such that @xmath1542 and , for any open subset @xmath1543 not containing @xmath1544 and @xmath1545 , @xmath1546 if on the right - hand side we view @xmath65 as an open subset of @xmath169 .",
    "consequently , there is little risk of ambiguity in using the notation @xmath15 instead of @xmath209 for this induced measure .",
    "we finish this section by proving lemma [ sec : prop - scal - limit-2 ] on the number of balls required to cover the cut space .",
    "let @xmath1547 be a covering of @xmath191 by open balls of radius @xmath303 , centred at @xmath1097 respectively . by definition ,",
    "any point of @xmath169 can be joined to the centre of some ball @xmath749 by a geodesic path of length @xmath1548 .",
    "if such a path does not pass through @xmath295 , then it is also a geodesic path in @xmath430 .",
    "now since @xmath1094 is a covering of @xmath191 , this implies that any point @xmath296 in @xmath169 can either    * be joined to some point @xmath479 by a path of length @xmath1548 that does not pass through @xmath295 , * or can be joined to @xmath295 through a path @xmath1165 of length @xmath1548 .    in the first case , this means that @xmath296 belongs to the ball with centre @xmath479 and radius @xmath981 in @xmath430 . in the second case ,",
    "depending on whether the initial segment of @xmath1165 belongs to @xmath1527 or @xmath1528 , this means that @xmath296 belongs to the ball with centre @xmath1544 or @xmath1545 with radius @xmath981 in @xmath430 .",
    "this yields a covering of @xmath430 with at most @xmath1549 balls , as desired .",
    "conversely , it is clear that if @xmath1318 balls are sufficient to cover @xmath430 then the same is true of @xmath191 , because distances are smaller in @xmath191 than in @xmath430 ( if @xmath295 is identified with the points @xmath1550 ) .",
    "the following statement will be used in conjunction with corollary [ sec : cutt - safely - point-1 ] ( ii ) . recall the definition of @xmath1231 from the start of section  [ sec : convergence - core ] .",
    "[ thm : safelypointed ] fix @xmath1551 . let @xmath1552 and @xmath1232 be elements of @xmath1231 .",
    "suppose that @xmath1553 and that @xmath1554 for every @xmath0 .",
    "then @xmath1555    our proof of theorem  [ thm : safelypointed ] hinges on two lemmas ; to state these lemmas we require a few additional definitions .",
    "let @xmath1556 and recall the definition of the projection @xmath1557 . for @xmath323 , write @xmath1558 so that @xmath1559 .",
    "the sets @xmath1560 decrease to the singleton @xmath1561 as @xmath1562 , because @xmath368 .",
    "consequently , @xmath1563 converges to @xmath148 as @xmath1562 . for @xmath323",
    "sufficiently small , the set @xmath1564 , endowed with the intrinsic metric , is an @xmath3-graph .",
    "in fact , it is easy to see that for @xmath1565 , this intrinsic metric is just the restriction of @xmath1533 to @xmath1566 .",
    "-graph : @xmath346 is in thicker line . ]    let us assume that @xmath1567 .",
    "let @xmath1568 be the two points of @xmath346 at distance @xmath327 from @xmath295 , labelled in such a way that , in the notation of section  [ sec : cutting - procedure ] , @xmath1569 is the point closest to @xmath1544 in @xmath1570 , or in other words , such that @xmath1571 . for @xmath1572 let @xmath19 be the geodesic arc between @xmath1573 and @xmath295 in @xmath169 .",
    "we let @xmath1574 , which we see as a subset of @xmath1570 .",
    "see figure  [ fig : notationcut ] for an illustration .",
    "now let @xmath1575 . just as we defined the space @xmath1576 , we define the space @xmath1577 , with @xmath1578 .",
    "we likewise define the sets @xmath1579 and @xmath1580 and the points @xmath1581 for @xmath1582 as above .",
    "we will use the same notation @xmath153 for the projection @xmath1583 .",
    "[ sec : stab - cutt - proc ] fix @xmath790 . if @xmath165 is a @xmath585-overlay of @xmath191 and @xmath223 then for every @xmath1584 , we have @xmath1585 .",
    "let @xmath1586 be such that @xmath1587 . since @xmath165 is a @xmath585-overlay , @xmath1588 .",
    "in particular , if @xmath1589 then we have @xmath1590 . otherwise , a geodesic from @xmath378 to @xmath1586 must pass through @xmath1591 and @xmath1592 , so that @xmath1593 on the other hand , since @xmath165 is an @xmath585-overlay , we know that @xmath346 and @xmath1443 are in correspondence via @xmath165 , which implies that @xmath1594 so that @xmath1595 . in all cases , we have @xmath1585 , as claimed .    [",
    "sec : stab - cutt - proc-2 ] fix @xmath1551 . for all @xmath112 there",
    "exists @xmath1596 such that if @xmath1597 then @xmath1598    since @xmath1597 we can find @xmath1599 with @xmath1600 and with @xmath1601 , and a measure @xmath582 with @xmath1602 and @xmath1603 .",
    "fix @xmath1604 such that @xmath1605 and @xmath1606 . by choosing @xmath1607 sufficiently small",
    ", it follows by proposition  [ lem : deltaover ] that there exists a @xmath585-overlay @xmath165 of @xmath191 and @xmath223 with @xmath1608 , so in particular @xmath1601 and @xmath1609 .",
    "we also remark that @xmath1610 .",
    "we next modify @xmath165 to give a correspondence between @xmath1566 and @xmath1611 by letting @xmath1612 where for @xmath1572 , we define @xmath1613 to verify that @xmath1614 is indeed a correspondence between @xmath1566 and @xmath1611 , it suffices to check that there does not exist @xmath1615 for which @xmath1616 , and similarly that there does not exist @xmath1617 for which @xmath1618 . in the first case",
    "this is immediate since @xmath1619 , so for all @xmath1620 with @xmath1621 we have @xmath1622 .",
    "a symmetric argument handles the second case .",
    "we next estimate the distortion of @xmath1614 when @xmath1566 and @xmath1611 are endowed with the metrics @xmath1533 and @xmath1623 respectively . to this end , let @xmath1624 .",
    "we have to distinguish several cases .",
    "the simplest case is when @xmath1625 and @xmath1626 are , in fact , both in @xmath165 . in particular ,",
    "@xmath1627 and @xmath1628 .",
    "let @xmath280 be a geodesic from @xmath296 to @xmath374 in @xmath1566 , i.e.  a local geodesic in @xmath1566 not passing through @xmath295 and with minimal length .",
    "let @xmath1291 be the path from @xmath378 to @xmath377 associated with @xmath280 as in lemma [ sec : cutting - r - graphs ] , which we may apply since @xmath1629 .",
    "we claim that @xmath1291 does not pass through @xmath1292 .",
    "indeed , if it did , then we would be able to find a point @xmath1630 such that @xmath1631 .",
    "since also @xmath1632 , it would follow that @xmath1633 contradicting the fact that @xmath280 is a path in @xmath1566 . by lemma [ sec : cutting - r - graphs ]",
    ", we deduce that @xmath1634 where at the last step we use that @xmath1635 .",
    "let us now consider the cases where @xmath1636 , still assuming that @xmath1637 .",
    "there are two possibilities .    1",
    ".   there exists @xmath1638 with @xmath1639 and @xmath1572 , and so @xmath1640 .",
    "there exists @xmath1641 with @xmath1642 and @xmath1643 , and so @xmath1644 .",
    "let us consider the first case , assuming @xmath1645 for definiteness .",
    "the argument leading to is still valid , with @xmath1586 replacing @xmath378 . using @xmath1646",
    ", we obtain @xmath1647    in the second case ( still assuming @xmath1645 without loss of generality ) , we have to modify the argument as follows .",
    "we consider a geodesic @xmath280 from @xmath1648 to @xmath374 in @xmath422",
    ". we @xmath1291 be the associated path from @xmath378 to @xmath377 ( again using lemma [ sec : cutting - r - graphs ] ) , and claim that @xmath1649 .",
    "otherwise , @xmath280 would visit a point at distance less than @xmath1650 from @xmath295 .",
    "on the other hand , the point of @xmath301 that is closest to @xmath295 is @xmath1651 .",
    "but by lemma [ sec : stab - cutt - proc ] , we have @xmath1652 finally , since @xmath1653 we obtain that @xmath1654 , and the argument leading to yields @xmath1655 arguing similarly when @xmath1626 is no longer assumed to belong to @xmath165 , we obtain the following bound for every @xmath1656 : @xmath1657 writing @xmath1658 , by symmetry we thus conclude that @xmath1659 where the distortion is measured with respect to the metrics @xmath1533 and @xmath1623 .",
    "now let @xmath1660 be the @xmath1661-enlargement of @xmath1614 with respect to @xmath1533 and @xmath1623 . since @xmath1614 is a correspondence between @xmath1566 and @xmath1611 , and all points of @xmath1570 ( resp .",
    "@xmath1662 ) have distance at most @xmath1661 from @xmath1566 ( resp .",
    "@xmath1611 ) under @xmath1533 ( resp .",
    "@xmath1623 ) , we have that @xmath1660 is a correspondence between @xmath1570 and @xmath1662 , of distortion at most @xmath1663    finally , since @xmath1610 and @xmath1664 , and since @xmath1665 , we have @xmath1666 since @xmath1667 , the lemma then follows from the two preceding offset equations and the definition of the distance @xmath56 .    fix @xmath112 . under the hypotheses of the theorem , for all @xmath0 large enough , by lemma  [ sec : stab - cutt - proc-2 ] we have @xmath1668 it",
    "is easily checked that , for all @xmath112 , @xmath1669 which both converge to @xmath148 as @xmath1670 .",
    "the result follows .",
    "let @xmath1020 be a safely pointed @xmath3-graph , and write @xmath435 for the length measure restricted to @xmath366 .",
    "then @xmath1671 is an @xmath3-graph with @xmath432 . indeed , if @xmath401 is the edge of @xmath387 that contains @xmath295 , then it is easy to see that @xmath1672 is the graph obtained from @xmath191 by first deleting the interior of the edge @xmath401 , and then taking the kernel of the resulting @xmath3-graph .",
    "taking the kernel of a graph does not modify its surplus , and so the surplus diminishes by @xmath68 during this operation , which corresponds to the deletion of the edge @xmath401 .",
    "moreover , we see that @xmath445 is stable under this operation , in the sense that if @xmath1673 , then for every @xmath295 such that @xmath185 is safely pointed , the space @xmath422 is again in @xmath445",
    ". indeed , the edges in @xmath1672 are either edges of @xmath387 , or a concatenation of edges in @xmath387 , and so the minimum edge - length can only increase . on the other hand , the total core length and surplus can only decrease .",
    "let us now consider the following random cutting procedure for @xmath3-graphs .",
    "if @xmath159 is an @xmath3-graph which is not an @xmath3-tree , then it contains at least one cycle , and by proposition  [ sec : skeleton - core - kernel-2 ] , @xmath341-almost every point of any such cycle is in @xmath366 .",
    "consequently , the measure @xmath1674 is non - zero , and we can consider a point @xmath295 chosen at random in @xmath366 with distribution @xmath437 . then @xmath185 is a.s .  safely pointed by proposition [ sec : skeleton - core - kernel-2 ] .",
    "let @xmath436 be the distribution of @xmath422 . by convention ,",
    "if @xmath191 is an @xmath3-tree , we let @xmath438 . by combining corollary [ sec : cutt - safely - point-1 ] ( ii ) with theorem [ thm : safelypointed ] , we immediately obtain the following statement .    [",
    "sec : randomly - cutting - r-1 ] fix @xmath303 , and let @xmath1675 and @xmath191 be elements of @xmath445 such that @xmath1676 as @xmath2 . then @xmath1677 in @xmath58 , as @xmath62 .",
    "in particular , @xmath439 defines a markov kernel from @xmath445 to itself for every @xmath981 .",
    "since each application of this kernel decreases the surplus by @xmath68 until it reaches @xmath148 , it makes sense to define @xmath443 to be the law of @xmath1678 for every @xmath1679 , where @xmath1680 denotes the @xmath1681-fold composition of @xmath439 .",
    "the next corollary follows immediately from proposition [ sec : randomly - cutting - r-1 ] by induction .",
    "[ cor : randomly - cutting - r-2 ] fix @xmath303 , and let @xmath1675 and @xmath191 be elements of @xmath445 with @xmath1676 as @xmath2 .",
    "then @xmath1682 in @xmath58 , as @xmath62 .",
    "this proves theorem  [ sec : breaking - cycles - r-1 ] .",
    "lab was supported for this research by nserc discovery grant and by an fqrnt nouveau chercheur grant , and thanks both institutions for their support .",
    "lab and cg were supported for this research by royal society international exchange award ie111100 .",
    "nb acknowledges anr-09-blan-0011 .",
    "cg is grateful to universit paris - sud for making her professeur invit for march 2011 which enabled work on this project to progress .",
    "she is also grateful for support from the university of warwick .",
    "gm acknowledges the support of grants anr-08-blan-0190 and anr-08-blan-0220 - 01 .",
    "he is grateful to pims ( cnrs umi 3069 ) and ubc , vancouver , for hospitality in the year 20112012 , and for the support of universit paris - sud .                            , _ the objective method : probabilistic combinatorial optimization and local weak convergence _ , in probability on discrete structures , vol .  110 of encyclopaedia math .",
    "sci . , springer , berlin , 2004 , pp .  172 .",
    "height 2pt depth -1.6pt width 23pt , _ the continuum random tree .",
    "an overview _ , in stochastic analysis ( durham , 1990 ) , vol .",
    "167 of london math .",
    "lecture note ser . , cambridge university press , cambridge , 1991 , pp .  2370 .                                                                                                          ,",
    "_ on the history of combinatorial optimization ( till 1960 ) _ , in discrete optimization , k.  aardal , g.  l. nemhauser , and r.  weismantel , eds . , vol .",
    "12 of handbooks in operations research and management , north holland , 2005 , pp .  168 ."
  ],
  "abstract_text": [
    "<S> consider the minimum spanning tree ( mst ) of the complete graph with @xmath0 vertices , when edges are assigned independent random weights . endow this tree with the graph distance renormalized by @xmath1 and with the uniform measure on its vertices . </S>",
    "<S> we show that the resulting space converges in distribution as @xmath2 to a random measured metric space in the gromov  </S>",
    "<S> hausdorff  prokhorov topology . </S>",
    "<S> we additionally show that the limit is a random binary @xmath3-tree and has minkowski dimension @xmath4 almost surely . </S>",
    "<S> in particular , its law is mutually singular with that of the brownian continuum random tree or any rescaled version thereof . </S>",
    "<S> our approach relies on a coupling between the mst problem and the erds  </S>",
    "<S> rnyi random graph . </S>",
    "<S> we exploit the explicit description of the scaling limit of the erds  </S>",
    "<S> rnyi random graph in the so - called critical window , established in @xcite , and provide a similar description of the scaling limit for a `` critical minimum spanning forest '' contained within the mst .    </S>",
    "<S> [ 0.41 ]    figure 1 : a simulation of the minimum spanning tree on @xmath5 . </S>",
    "<S> black edges have weights less than @xmath6 ; for coloured edges , weights increase as colours vary from from red to purple . </S>"
  ]
}