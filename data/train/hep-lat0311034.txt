{
  "article_text": [
    "constructing a linux cluster using commodity pc s and commodity networking hardware became quite easy and using such a cluster for a lattice qcd project is very popular@xcite .",
    "this increases the range of computing power available to those who have only moderate means .",
    "however , from our experience of using such a cluster@xcite , we found that there is a room for improvement in scaling up the current linux cluster architecture : first , if many pc s are just stacked on top of each other in rows , soon the cluster begins to occupy too large physical space . secondly , not all the components in a standard pc is essential for a lattice simulation . by getting rid of unnecessary parts ,",
    "one may reduce overall cost and electrical power requirement for each pc s .",
    "third , switched ethernet hub is usually used in a linux cluster and providing full bisection bandwidth using such switches is expensive . building a cluster without a switch",
    "may be more scalable . on the other hand , for those who have limited resources like us , building everything ( in particular , hardware components ) from the scratch to alleviate the above problems",
    "is not sensible because it will probably take too long to develop such components .",
    "thus we looked for a solution which does not require custom made hardware components and is re - usable in the future once developed so that the evolutionary upgrade does not introduce delays .",
    "[ cols=\"<,>,>,>\",options=\"header \" , ]      +    each node is an extremely thin node which consists only of a intel pentium iv 2.4ghz cpu , 512 mbytes ddr sdram , a mother board , and 4 fast ethernet network interface cards(nic ) .",
    "one of 4 nic s has a socket for eprom or eeprom for the bootcode .",
    "table[hardware ] shows hardware components in the 36-node cluster and their costs . except the chasis and the network cables , everything is off - the - shelf components and there is nothing special about them .",
    "the chasis is designed so that each crates accept any standard atx - size mother board and an upgrade means just replacing mother boards with new one .",
    "the current chasis size is suitable for 64-node configuration and has room for additional 28 nodes .",
    "one pc with 360 gbytes hard disk serves as a front end server .",
    "thus , development effort for our thin node cluster is mostly involved with setting up necessary software environment : booting , os , and mpi parallel programming . since there is no permanent storage device on each nodes ,",
    "booting is a little bit tricky and linux operating system needs to be configured dynamically after the boot .",
    "fortunately , there is a linux solution , called `` linux terminal server project''(ltsp)@xcite , which is developed for the server - client situation similar to our case , a server booting up hosts of diskless client computers . in this scenario , instead of booting from the kernel image on a permanent media such as hard disk , floppy disk or flash memory device , an nic which has a small size eprom or eeprom ( for example 64 kbytes ) on the mother board does network booting . on power - up , this network card on the client node executes its bootcode and broadcast its ip request and its mac address to the local network by use of dynamic host configuration protocol(dhcp)@xcite .",
    "the server responds to this dhcp request and replies with the basic ip information such as client node ip address , netmask setting , root file directory and kernel image name depending on the client mac addresses . with the reply from the server , the client node configures its tcp / ip and fetches kernel image from a host computer by trivial file transfer protocol(tftp)@xcite .",
    "once the kernel image is loaded on the node memory , the kernel starts executing and initializes the client node and set it up for normal operation .",
    "one may choose whether application softwares run on client nodes or runs on the server node .",
    "the main difference between ltsp setup and ours lies on the assumed network topology .",
    "ltsp relies on the star network connection and our project adopts 2-dimensional mesh structure . in our case , each nodes once booted , must act as a dhcp server and a tftp server to the next client node in constrast to the ltsp situation that central server controls the other client nodes .",
    "this booting process may progress in parallel to speed up : the front end server in our cluster starts booting processes on 6 nodes simultaneously and then these 6 nodes boot the next 6 nodes , etc ( see fig.[fig : booting ] ) .",
    "after the booting procedure is completed , 2-d mesh routing is achieved by explicit ` route ' command@xcite in a script called from linux `` init '' script .",
    "` route ' assigns algorithmically one of four ethernet devices , * eth0 * , * eth1 * , * eth2 * , and * eth3 * depending on the destination ip addresses and the logical node i d . since the size of linux routing table may grow upto 2048 elements by just changing kernel compile option , this kind of explicit routing work fine with a moderate size cluster",
    "ideally , one would like to have a distributed routing mechanism implemented on the kernel level but it is not part of the current linux kernel .",
    "linux distribution used on the cluster is ` wow linux version 7.1 ' , which is equivalent to red hat linux 7.1 and the kernel version is 2.4.9 .",
    "the version of ltsp package which we modified for our need is 3.0.5 .",
    "mpich and lam implementation of mpi parallel programming environment is available on the cluster .",
    "[ fig : performance ] shows the code performance of hybrid molecular dynamics simulation of two staggered quark flavor with @xmath0 on a @xmath1 lattice ( the single node benchmark is for @xmath2 lattice ) .",
    "one - dimensional ring ( @xmath3 is distributed over the nodes ) layout of lattice sites is used for the code and the code is not yet optimal for the 2-d mesh structure of the cluster .",
    "however , the code performance scales up nicely between 1 to 8 nodes .",
    "sustained speed is about 2.25 gflops on 8 node and is 11% of the theoretical peak speed .",
    "thus , our cluster achieved @xmath4 mflops/@xmath5 with a straight fortran code with no assembly language subroutine .",
    "we find that using more than 8 nodes with the current full qcd test code quickly degrades cluster performance due to non - optimal communication pattern of the test code .",
    "a conventional pc with intel pentium iv cpu is ordinarily equiped with 350w power supply .",
    "since we put 180w power supply for each node and the cluster operates fine with this condition , the overall power requirement is successfully reduced to a half of usual linux cluster . also , the footprint of our cluster is @xmath6 cm , which is considerably smaller than that of stacking 36 pc s .",
    "the physical dimension of the full cluster ( 64 node ) will be even more beneficial since the same chasis will be used .",
    "saved node cost would be @xmath7 from doing without a hard disk .",
    "the whole construction is reusable as we planned since the mother board size is the only factor which needs to considered in an upgrade and the standard atx size of mother board will stay with us for a while .",
    "global mpi operations such as `` mpi_allreduce '' involves multiple hops in our cluster .",
    "since lam or mpich relies on tcp / ip and each hops contributes to software and hardware latency in message passing , transversing many nodes reduces the efficiency of a program in our cluster .",
    "however , since the software latency is larger than the hardware latency , multiple hop will be less severe problem when user space devices such as infiniband@xcite becomes cheaply available .",
    "lippert , plenary talk on `` recent development of machines for lattice qcd '' , in this proceeding .",
    "s. kim , nucl .",
    "* b * ( proc . suppl . ) , 83 - 84(2000 ) , 807 . linux terminal server project , + http://www.ltsp.org .",
    "dynamic host configuration protocol , + http://www.dhcp.org .",
    "linux document project , http://tldp.org .",
    "infiniband architecture , + http://www.infinibandta.org/home ."
  ],
  "abstract_text": [
    "<S> using barebone pc components and nic s , we construct a linux cluster which has 2-dimensional mesh structure . </S>",
    "<S> this cluster has smaller footprint , is less expensive , and use less power compared to conventional linux cluster . here , </S>",
    "<S> we report our experience in building such a machine and discuss our current lattice project on the machine . </S>"
  ]
}