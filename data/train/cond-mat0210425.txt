{
  "article_text": [
    "using an international standard file format for data storage is very appealing . rather than having to write , or track down , a conversion utility one can directly use a variety of software packages . for scattering data",
    "the clear choice is to use nexus .",
    "@xcite nexus is a binary file format built on top of the hierarchical data format ( hdf )  @xcite library .",
    "the binary format allows for more efficient data storage while the hierarchical nature of hdf allows for intelligent grouping of information to describe what is in the file .",
    "the early development of nexus concentrated on providing a powerful application program interface ( api ) implemented in c with wrappers for fortran 77/90 , idl , and java .",
    "the variety of supported languages simplifies the work for those who do want to read or write nexus files directly .",
    "more recently the focus turned to standardizing the organization of the data and associated information .",
    "originally , the nexus standard provided a mechanism for storing information in the file , but did not spell out a detailed policy for using that mechanism .",
    "instrument definitions were incomplete and did not provide enough information to generate truly portable data files .",
    "this was the main problem when the authors began to collaborate .",
    "nexus was starting to define what constituted a generic compliant file .",
    "each file contains multiple nxentries , and each nxentry is of the form seen in fig .",
    "[ fig : fileformat ] .",
    "the key to nexus is that while very little information is required , if it is to be included in the file it has to be included in the manner specified by the standard .",
    "the integrated spectral analysis workbench ( isaw ) was designed to visualize and analyze data taken at time - of - flight neutron sources . in order to appeal to a broader community",
    "it looked to support the nexus format .",
    "the data acquisition system ( das ) team at the manuel lujan jr",
    ". neutron scattering center ( mlnsc ) was working on an upgrade of their system which included moving to a more widely used file format to reduce some of the work involved in analyzing data .",
    "immediately the two groups tried to share files and found that , while the data could be written by one system and loaded into the other , much information was lost due to organizational differences . to solve this problem the authors decided to specify what needed to be included in a time - of - flight neutron powder diffractometer ( tofnpd ) file .",
    "while this is a conceptually simple instrument , information such as detector position is needed by many other instruments .",
    "this paper will discus several of the decisions made during a meeting at los alamos national laboratory concerning the description of detectors .",
    "in nexus , data is stored as a multidimensional rectangular array inside the nxdata object as seen in fig .",
    "[ fig : fileformat ] with separate arrays for the independent variable and the detector identifiers . for a simple instrument , with only tube detectors ( fig .",
    "[ fig : detpix](a ) ) , the data is two dimensional ( data[i , j ] ) with the first axis being time - of - flight ( time_of_flight[i ] ) and the second axis being detector number ( id[j ] ) .",
    "newer powder diffractometers tend to use linear position sensitive detectors ( lpsd ) ( fig .",
    "[ fig : detpix](b ) ) which would store data in a three dimensional data array , ( data[i , j , k ] ) with the first axis being the same as the simple tube ( time_of_flight[i ] ) and the other axes representing the detector and pixel number ( id[j , k ] ) .",
    "the case for area detector ( fig .",
    "[ fig : detpix](c ) ) is easy to extend from these two cases with a four dimensional data array ( data[i , j , k , l ] ) , with the axes being time - of - flight ( time_of_flight[i ] ) , detector number , row , and column ( id[j , k , l ] ) .",
    "since nexus only provides for rectangular arrays the case of an instrument with more than one type of detector must store the data in multiple nxdata .",
    "this is also the case when there is more than one time - of - flight range . to this end",
    "the group decided that if two data arrays have the same name attribute then they are intended to be part of the same data set .",
    "arguably the most important information , after the data , is a description of the detector configuration .",
    "the detector s position is needed for conversions to wavelength ( @xmath0 ) , @xmath1-spacing , and momentum transfer ( @xmath2 ) as well as data corrections such as inelastic scattering .",
    "the solid angle covered is needed to normalize the spectra for measurement area effects .",
    "other information is useful for diagnostics such as physical size ( length , width , and depth ) , orientation , electronics configuration , and type ( such as @xmath3he or scintillator ) .",
    "some information about the detector is redundant as well .",
    "for example if the size and orientation is known then the solid angle covered is straightforward to calculate and does not need to be explicitly included . this section will discus some of the properties of a detector .      due to the differences in preferred coordinate systems and the variety of naming conventions , specifying a detector position is more difficult than one would expect . while the choice of spherical coordinates is fairly straightforward , the decision of what to call the angles , and what to reference them from , was a long topic of discussion .",
    "with diffraction experiments the beam direction is always special since things such as the bragg angle  @xcite are with respect to it . due to this symmetry",
    "the preferred coordinate system is spherical with the pole coinciding with the beam direction .",
    "this is shown in fig .",
    "[ fig : detpos ] with the azimuthal angle being zero at the horizontal plane of the instrument .     from the center of the instrument .",
    "the angles @xmath4 and @xmath5 are arbitrarily labeled and discussed in the text.,width=288 ]    the zero point for the azimuthal angle was chosen to be in the horizontal plane , to coincide with the location of detectors on many diffractometers and to be consistent with the traditional labeling of detector position .",
    "the angles labeled in the figure are some of the standard choices used with spherical coordinates .",
    "the one way that the group could speak and not have any inconsistencies was discussing the angle @xmath4 as the polar angle and @xmath5 as the azimuthal angle .",
    "other possibilities for @xmath4 were bragg angle , @xmath6 , @xmath7 , and @xmath8 .",
    "@xmath5 was also possibly @xmath7 or @xmath8 .",
    "all greek labels are used in most mathematics texts , ( except @xmath6 ) however , their interpretations vary greatly . for this reason we decided that the most precise way to refer to the angles were as polar_angle and azimuthal_angle .",
    "another important correction in data analysis is to normalize the detectors by the solid angle they cover .",
    "therefore , the information needed is either the solid angle itself , or the physical size ( length , width , and depth ) and orientation of the detector so the solid angle can be calculated . in fig .",
    "[ fig : detorient ] a couple of the ways of determining the detector orientation are shown .    , @xmath9 , and @xmath10 )",
    "are described in the main text.,width=288 ]    @xmath11 is the coordinates of the center of the instrument , shown for clarity .",
    "the second frame of reference , @xmath9 , is parallel to @xmath11 but shifted to the position of the detector .",
    "@xmath10 is coincident with the major symmetry axes of the detector .",
    "looking at this picture the simplest description of the orientation is the euler angles to rotate @xmath9 to @xmath10 .",
    "this paper reviewed the results of discussions concerning storing data in a nexus file .",
    "we described the format for the data itself as well as specifying the layout of the detectors that measured the data .",
    "summer support for this work has benefitted through department of educational programs and the summer faculty research program .",
    "argonne national laboratory is funded by the u.s .",
    "department of energy , bes - materials science , under contract w-31 - 109-eng-38 .",
    "los alamos national laboratory is funded by the us department of energy under contract w-7405-eng-36 ."
  ],
  "abstract_text": [
    "<S> nexus is an international standard data format intended to reduce the need for redundant software development efforts in the neutron and x - ray scattering communities . </S>",
    "<S> as the nexus standard matures it is starting to be used at laboratories for storing raw data . the manuel lujan jr . </S>",
    "<S> neutron scattering center ( mlnsc ) at los alamos national laboratory and the intense pulsed neutron source ( ipns ) at argonne national laboratory have been working with nexus in an effort to share data and software . </S>",
    "<S> mlnsc is now writing files compliant with nexus and the integrated spectral analysis workbench ( isaw ) software from ipns is being used with this data . </S>",
    "<S> problems can arise if the standard is interpreted in different ways and information that belongs in the file is not accounted for in the standard . </S>",
    "<S> this paper will discuss an inter - laboratory collaboration in relation to a maturing data standard .    </S>",
    "<S> = 1 </S>"
  ]
}