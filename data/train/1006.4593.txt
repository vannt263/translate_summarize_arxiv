{
  "article_text": [
    "let @xmath1 , @xmath2 , be a partition of @xmath3 , @xmath4 , and let @xmath5 = { \\{(i , j ) \\in { { \\mathbb z}}^2 \\colon 1 \\leq i \\leq \\ell , 1 \\leq j \\leq \\lambda_i\\}}$ ] be the corresponding",
    "_ young diagram_. the _ conjugate partition _",
    "@xmath6 is defined by @xmath7 .",
    "the _ hook _",
    "$ ] is the set of squares weakly to the right and below of @xmath9 $ ] , and the _ hook length _",
    "@xmath10 is the size of the hook .",
    "the _ punctured hook _",
    "@xmath11 $ ] is the set @xmath12 .",
    "see figure [ fig1 ] , left and center drawing .",
    "we write @xmath13 $ ] for @xmath14 , @xmath15 for the power set of @xmath16 , and @xmath17 for the disjoint union of ( not necessarily disjoint ) sets @xmath16 and @xmath18 . furthermore , for squares @xmath19 and @xmath20 of @xmath5 $ ] , write @xmath21 if @xmath22 and @xmath23",
    ".    a _ standard young tableau _ of shape @xmath24 is a bijective map @xmath25 \\to [ n]$ ] , such that @xmath26 whenever @xmath27 and @xmath28 .",
    "see figure [ fig1 ] , right drawing .",
    "we denote the number of standard young tableaux of shape @xmath24 by @xmath29 .",
    "the remarkable hook length formula states that if @xmath24 is a partition of @xmath3 , then @xmath30 } h_{{\\mathbf{z}}}}.\\ ] ]    for example , for @xmath31 , the hook length formula gives @xmath32    this gives a short formula for dimensions of irreducible representations of the symmetric group , and is a fundamental result in algebraic combinatorics .",
    "the formula was discovered by frame , robinson and thrall in  @xcite based on earlier resultsof young , frobenius and thrall . since then",
    ", it has been reproved , generalized and extended in several different ways , and applications have been found in a number of fields ranging from algebraic geometry to probability , and from group theory to the analysis of algorithms .    one way to prove",
    "the hook length formula is by induction on @xmath3 .",
    "namely , it is obvious that in a standard young tableau , @xmath3 must be in one of the _ corners _ , squares @xmath19 of @xmath5 $ ] satisfying @xmath33 $ ] .",
    "therefore @xmath34 }   f_{\\lambda-{\\mathbf{c}}},\\ ] ] where @xmath35 $ ] is the set of all corners of @xmath24 , and @xmath36 is the partition whose diagram is @xmath5 \\setminus { \\{{\\mathbf{c}}\\}}$ ] .",
    "that means that in order to prove the hook length formula , we have to prove that @xmath37 satisfy the same recursion .",
    "it is easy to see that this is equivalent to the following _ branching rule for the hook lengths _ : @xmath38 \\setminus { \\mathcal{c}}[\\lambda ] } ( h_{ij } - 1)\\ , = \\ , \\sum_{(r , s ) \\in { \\mathcal{c}}[\\lambda]}\\left[\\prod_{\\stackrel{(i , j ) \\in [ \\lambda]\\setminus { \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq s } } ( h_{ij } - 1)\\right ] \\prod_{i=1}^{r-1 } h_{is } \\prod_{j=1}^{s-1 } h_{rj}.\\ ] ]    in @xcite , a weighted generalization of this formula was presented , with a simple bijective proof .",
    "suppose that @xmath1 , @xmath39 , is a partition of @xmath3 _ with distinct parts _ , and let @xmath5^ * = { \\{(i , j ) \\in { { \\mathbb z}}^2 \\colon 1 \\leq i \\leq \\ell , i \\leq j \\leq \\lambda_i+i-1\\}}$ ] be the corresponding _ shifted young diagram_. the _ hook _ @xmath40^*$ ] is the set of squares weakly to the right and below of @xmath9 $ ] , and in row @xmath41 , and the _ hook length _",
    "@xmath42 is the size of the hook .",
    "it is left as an exercise for the reader to check that @xmath43 if @xmath44 and @xmath45 if @xmath46 . the _ punctured hook _",
    "@xmath47^*$ ] is the set @xmath48 .",
    "see figure [ fig2 ] , left and center drawing . for squares",
    "@xmath19 and @xmath20 of @xmath5^*$ ] , write @xmath21 if @xmath22 and @xmath23 .",
    "a _ standard shifted young tableau _ of shape @xmath24 is a bijective map @xmath25^ * \\to [ n]$ ] , such that @xmath26 whenever @xmath27 and @xmath28 .",
    "see figure [ fig2 ] , right drawing .",
    "we denote the number of standard shifted young tableaux of shape @xmath24 by @xmath49 .",
    "the shifted hook length formula states that if @xmath24 is a partition of @xmath3 with distinct parts , then @xmath50 } h_{{\\mathbf{z}}}^*}.\\ ] ]    for example , for @xmath51 , the hook length formula gives @xmath52    again , one way to prove the shifted hook length formula is by induction on @xmath3 .",
    "namely , it is obvious that in a standard shifted young tableau , @xmath3 must be in one of the _ shifted corners _",
    ", squares @xmath19 of @xmath5^*$ ] satisfying @xmath33^*$ ] .",
    "therefore @xmath53 }   f^*_{\\lambda-{\\mathbf{c}}},\\ ] ] where @xmath54 $ ] is the set of all shifted corners of @xmath24 , and @xmath36 is the partition whose shifted diagram is @xmath5^ * \\setminus { \\{{\\mathbf{c}}\\}}$ ] .",
    "that means that in order to prove the shifted hook length formula , we have to prove that @xmath55 satisfy the same recursion .",
    "it is easy to see that this is equivalent to the following _ shifted branching rule for the hook lengths _ : @xmath56^ * \\setminus { \\mathcal{c}}^*[\\lambda ] } ( h^*_{ij } - 1)\\ , = \\ ,",
    "\\sum_{(r , s ) \\in { \\mathcal{c}}^*[\\lambda]}\\left[\\prod_{\\stackrel{(i , j ) \\in [ \\lambda]\\setminus",
    "{ \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq r-1,s } } ( h^*_{ij } - 1)\\right ] \\prod_{i=1}^{r-1 } h^*_{is } \\prod_{j=1}^{s-1 } h^*_{rj } \\prod_{i=1}^{r-1 } h^*_{i , r-1}.\\ ] ]    interestingly , the shifted hook length formula was discovered before the non - shifted one @xcite .",
    "shortly after the famous greene - nijenhuis - wilf s probabilistic proof of the ordinary hook length formula @xcite , sagan @xcite extended the argument to the shifted case .",
    "the proof , however , is rather technical . in 1995",
    ", krattenthaler @xcite provided a bijective proof . while short",
    ", it is very involved , as it needs a variant of hillman - grassl algorithm , a bijection that comes from stanley s @xmath57-partition theory , and the involution principle of garsia and milne .",
    "a few years later , fischer @xcite gave the most direct proof of the formula , in the spirit of novelli - pak - stoyanovskii s bijective proof of the ordinary hook - length formula . at almost 50 pages in length ,",
    "the proof is very involved .",
    "bandlow @xcite gave a short proof via interpolation .",
    "the main result of this paper is a bijective proof of the branching formula for the hook lengths for shifted tableaux , which is trivially equivalent to the hook length formula .",
    "while the proof still can not be described as simple , it seems that it is the most intuitive of the known proofs .",
    "once the proof in the non - shifted case is understood in a proper context , the bijection for shifted tableaux has only two ( main ) extra features : a description of a certain map @xmath58 , described by ( s[s1])(s[s5 ] ) on page , and the process of `` flipping the snake '' of lemma [ flip ] with a half - page proof .",
    "this paper is organized as follows .",
    "section [ non - shifted ] presents the non - weighted bijection from @xcite in a new way , to make it easier to adapt to the shifted case .",
    "section [ basic ] discusses the basic features of the bijective proof of , and section [ details ] gives all the requisite details .",
    "sections [ basic ] and [ details ] thus give the first completely bijective proof of the shifted branching rule .",
    "in section [ comparison ] , we discuss the above - mentioned paper by sagan @xcite .",
    "section [ variants ] gives variants of the formulas in the spirit of @xcite , including weighted formulas . in section [ d - complete ] ,",
    "we make the first step to extending the bijective proof to @xmath0-complete posets .",
    "we conclude with final remarks in section [ final ] .",
    "in this section , we essentially describe the bijection that was used in @xcite to prove the weighted branching rule for hook lengths ( see also @xcite ) .",
    "the reader is advised to read subsection 2.2 of that paper first , however , as the description that follows is much more abstract .",
    "this way , it is more easily adaptable to the shifted case .",
    "let us give an interpretation for each side of equality .",
    "the left - hand side counts all pairs @xmath59 , where @xmath60 $ ] and @xmath61 is a map from @xmath5 \\setminus { \\mathcal{c}}[\\lambda]$ ] to @xmath5 $ ] so that @xmath62 is in the punctured hook of @xmath63 for every @xmath64 \\setminus { \\mathcal{c}}[\\lambda]$ ] .",
    "we also write @xmath65 for @xmath62 when @xmath66 .",
    "we think of the map @xmath61 as an arrangement of labels ; we label the square @xmath19 by @xmath67 or sometimes just @xmath68 .",
    "the left drawing in figure [ fig3 ] shows an example of such a pair @xmath59 ; the square @xmath69 is drawn in green .",
    "denote the set of all such pairs by @xmath70 .",
    "similarly , the right - hand side of counts the number of pairs @xmath71 , where @xmath72 $ ] and @xmath73 is a map from @xmath5 \\setminus { \\mathcal{c}}[\\lambda]$ ] to @xmath5 $ ] satisfying the following :    * if @xmath74 lies in the hook of @xmath63 , then @xmath75 lies in the hook of @xmath63 ; * otherwise , @xmath75 lies in the punctured hook of @xmath63 .",
    "note that if @xmath76 , then @xmath74 lies in the hook of @xmath66 if and only if @xmath77 or @xmath78 .",
    "we think of the map @xmath73 as an arrangement of labels .",
    "the right drawing in figure [ fig3 ] shows an example of such a pair @xmath71 ; the row @xmath79 and the column @xmath58 without the corner @xmath80 are shaded .",
    "denote the set of all @xmath73 such that @xmath81 satisfies the above properties by @xmath82 , and the disjoint union @xmath83 by @xmath84 .",
    "we also write @xmath85 for @xmath75 when @xmath66 .",
    "some squares @xmath63 in the shaded row and column may satisfy @xmath86 .",
    "let us define sets @xmath87 as follows : @xmath88    we think of the set @xmath16 as representing column @xmath58 without the corner @xmath80 , and of @xmath18 as representing row @xmath79 without the corner @xmath80 , with a dot in all squares satisfying @xmath86 .",
    "figure [ fig4 ] shows the shaded row and column for the example from the right - hand side of figure [ fig3 ]",
    ".    furthermore , denote by @xmath89 the set of all @xmath90 for which exactly @xmath91 of the squares in @xmath5 \\setminus { \\mathcal{c}}[\\lambda]$ ] satisfy @xmath86 ( note that such @xmath63 must be in the shaded row or column ) ; in other words , @xmath92 .",
    "we construct two maps , @xmath93 and @xmath94 .",
    "the map @xmath95 ) \\times { \\mathcal{p}}([s-1 ] ) \\to [ \\lambda]$ ] ( `` starting square '' ) is defined by @xmath96    we can extend it to a function @xmath97 $ ] by @xmath98 .",
    "see figure [ fig4 ] ; there , @xmath99 is green .",
    "now let us define the map @xmath100 ( `` erasing a dot '' ) .",
    "if @xmath101 , then @xmath102 . otherwise , the arrangement @xmath103 differs from @xmath73 in only one or two squares .",
    "the first case is when @xmath104 is a shaded square ; this happens if @xmath105 or @xmath106 . if @xmath107 and @xmath108 , then @xmath109 ; define @xmath110 , @xmath111 and @xmath112 . if @xmath113 and @xmath114 , then @xmath115 ; define @xmath116 , @xmath117 and @xmath118 . in each case",
    ", we have @xmath119 , @xmath120",
    ". see figure [ fig15 ] .",
    "the second case is when @xmath121 for @xmath122 and @xmath123 ; this happens when @xmath124 and @xmath125 are both non - empty .",
    "the crucial observation is that the punctured hook of @xmath19 , which consists of squares @xmath126 for @xmath127 and @xmath128 for @xmath129 , is in a natural correspondence with @xmath130 .",
    "indeed , squares of the form @xmath126 for @xmath131 are also in the punctured hook of @xmath132 , and squares of the form @xmath128 for @xmath133 are in a natural correspondence with squares of the form @xmath134 for @xmath133 , which are in the punctured hook of @xmath132 . on the other hand ,",
    "squares of the form @xmath126 for @xmath135 are in a natural correspondence with squares of the form @xmath136 for @xmath135 , which are in the punctured hook of @xmath137 , and squares of the form @xmath128 for @xmath138 are also in the punctured hook of @xmath137 .",
    "see figure [ fig5 ] .",
    "that means that by slight abuse of notation , we can say that @xmath139 . if @xmath140 , define @xmath141 and @xmath142 , where @xmath143 and @xmath144 . if @xmath145 , define @xmath146 and @xmath142 , where @xmath147 and @xmath111",
    ". in each case",
    ", we have @xmath119 , @xmath120",
    ". see figure [ fig6 ] .",
    "we claim that the maps @xmath58 and @xmath148 have the following three properties :    1 .",
    "[ p1 ] if @xmath101 , then @xmath149 and @xmath102 , and if @xmath150 for @xmath151 , then @xmath152 ; 2 .",
    "[ p2 ] if @xmath150 for @xmath151 , then @xmath153 ; furthermore , if @xmath154 , then @xmath155 ; 3 .",
    "[ p3 ] given @xmath156 and @xmath63 for which @xmath157 , there is exactly one @xmath158 satisfying @xmath159 and @xmath160 .",
    "indeed , the first statement of ( p[p1 ] ) is clear from the definition of @xmath58 and the second statement is part of the definition of @xmath148 .",
    "the third statement of ( p[p1 ] ) is immediately obvious by inspection of all cases : we always leave one of the sets @xmath16 , @xmath18 intact , and remove one element from the other . part ( p[p2 ] ) also follows by construction .",
    "for example , for @xmath161 , @xmath162 , @xmath163 , @xmath164 , @xmath165 and @xmath166 . by definition ,",
    "@xmath167 . also , @xmath103 differs from @xmath73 only in @xmath19 and @xmath132 , and so @xmath155 if @xmath154 .",
    "other cases are very similar .",
    "that leaves only ( p[p3 ] ) .",
    "assume that @xmath168 , @xmath169 , @xmath170 , @xmath171 for @xmath172 , @xmath173 .",
    "it is easy to see that @xmath73 defined by @xmath174 , @xmath175 , @xmath176 for @xmath177 satisfies @xmath159 and @xmath160 , and that this is the only @xmath73 with these properties .",
    "other cases are similar .",
    "observe that by ( p[p1 ] ) , the sequence @xmath178 eventually becomes constant , say @xmath179 , for every @xmath73 .",
    "more specifically , if @xmath150 , then @xmath180 .",
    "let us first prove a simple consequences of ( p[p2 ] ) .",
    "take @xmath150 for @xmath151 .",
    "since @xmath181 is in the punctured hook of @xmath104 , we have @xmath182 and by the last statement in ( p[p2 ] ) , @xmath183 .",
    "similarly , @xmath184 , and so @xmath185 . by induction , we have @xmath186    we claim that @xmath187 is a bijection between @xmath84 and @xmath70 .",
    "to see that , note first that an element @xmath188 of @xmath70 naturally gives a `` hook walk '' @xmath189 for some @xmath72 $ ] . for @xmath72 $ ] and",
    "@xmath190 , denote by @xmath191 the set of all @xmath188 for which @xmath192 .",
    "we prove by induction on @xmath91 that given @xmath193 , @xmath194 for exactly one @xmath195 , and that this @xmath73 is an element of @xmath89 .",
    "if @xmath196 ( i.e. , if @xmath197 ) , then @xmath198 if and only if @xmath199 . now assume we have proved the statement for @xmath200 , and take @xmath201 . because @xmath202 , we have @xmath203 for ( exactly one ) @xmath204 , and we have @xmath156 . since @xmath205 by an argument similar to the proof of , there is ( exactly one ) @xmath158 satisfying @xmath159 and @xmath160 , by ( p[p3 ] ) .",
    "obviously , @xmath206 . if @xmath207 for some @xmath208 , then @xmath209 and @xmath210 .",
    "we have @xmath211 by equation , and hence @xmath212 . by induction , @xmath213 . since",
    "both @xmath214 and @xmath215 , we have @xmath216 by ( p[p3 ] ) .",
    "the message of this section is the following .",
    "the crux of the bijective proof of the branching formula is to find the maps @xmath58 ( start ) and @xmath148 ( erase ) .",
    "properties ( p[p1 ] ) , ( p[p2 ] ) and ( p[p3 ] ) are easy corollaries of the construction , and we can then prove the bijectivity of the map @xmath217 , @xmath218 , via a completely abstract proof .",
    "the branching formula for the hook lengths , equation , follows because the right - hand side enumerates @xmath84 , and the left - hand side enumerates @xmath70 .",
    "the descriptions of the left - hand and right - hand sides of equation are very similar .",
    "the left - hand side counts the number of pairs @xmath59 , where @xmath60^*$ ] and @xmath61 is a map from @xmath5^ * \\setminus { \\mathcal{c}}^*[\\lambda]$ ] to @xmath5^*$ ] so that @xmath62 is in the punctured hook of @xmath63 for every @xmath64^ * \\setminus { \\mathcal{c}}^*[\\lambda]$ ] .",
    "we think of the map @xmath61 as an arrangement of labels .",
    "the left drawing in figure [ fig7 ] shows an example of such a pair @xmath59 ; the square @xmath69 is green .",
    "denote the set of all such pairs by @xmath70 .",
    "we also write @xmath65 for @xmath62 when @xmath66 .",
    "similarly , the left - hand side of counts the number of pairs @xmath71 , where @xmath219 $ ] and @xmath73 is a map from @xmath5^ * \\setminus { \\mathcal{c}}^*[\\lambda]$ ] to @xmath5^*$ ] satisfying the following :    * if @xmath74 lies in the hook of @xmath63 , then @xmath75 lies in the hook of @xmath63 ; * otherwise , @xmath75 lies in the punctured hook of @xmath63 .",
    "note that if @xmath76 , then @xmath74 lies in the hook of @xmath66 if and only if @xmath77 or @xmath220 or @xmath78 .",
    "the right drawing in figure [ fig7 ] shows an example of such a pair @xmath71 ; the row @xmath79 without the corners @xmath80 and the columns @xmath221 and @xmath58 without the corner @xmath80 are shaded .",
    "denote the set of all @xmath73 such that @xmath81 satisfies the above properties by @xmath82 , and the disjoint union @xmath83 by @xmath84 .",
    "we also write @xmath85 for @xmath75 when @xmath66 .",
    "we think of the map @xmath73 as an arrangement of labels .",
    "some squares @xmath63 in shaded row and columns may satisfy @xmath86 .",
    "let us define sets @xmath222 as follows : @xmath223    we think of sets @xmath16 , @xmath18 and @xmath224 as representing column @xmath58 without @xmath80 , row @xmath79 without @xmath80 , and column @xmath221 respectively , with a dot in all squares satisfying @xmath86 .",
    "figure [ fig8 ] shows shaded row and columns for the example from the right - hand side of figure [ fig7 ] .",
    "the square @xmath225 , which will be defined in the next section , is green",
    ".    furthermore , denote by @xmath89 the set of all @xmath90 for which exactly @xmath91 of the squares in @xmath5^ * \\setminus { \\mathcal{c}}^*[\\lambda]$ ] satisfy @xmath86 ( note that such @xmath63 must be in shaded row and columns ) ; in other words , @xmath226 .    before we continue , let us introduce some terminology relating to the shaded columns ( the shaded row will not be relevant for these purposes ) .",
    "if @xmath224 is empty , we say that the shaded columns form a _",
    "right stick_. if @xmath16 is empty and @xmath224 is non - empty , we say that the shaded columns form a _ left stick_. if @xmath227 and @xmath228 , we say that the shaded columns form a _",
    "block_. if @xmath16 and @xmath224 are non - empty and @xmath229 , we say that the shaded columns form a _",
    "right snake_. if @xmath16 and @xmath224 are non - empty and @xmath230 , we say that the shaded columns form a _",
    "left snake_. the origin of these names should be clear from examples in figure [ fig9 ] .",
    "formations such as snake - dot , stick - dot , snake - block , snake - block - dot should be self - explanatory ; see figure [ fig9 ] for examples .",
    "we will often say that the shaded columns _ start _ with a certain formation , for example , that the shaded columns start with a snake - dot .",
    "this means that if we erase dots in rows from some row @xmath231 onward , the resulting columns have the specified form .",
    "see figure [ fig9 ] for examples .",
    "like in the non - shifted case , we will construct two maps , @xmath93 and @xmath94 .",
    "the map @xmath95 ) \\times { \\mathcal{p}}([r,\\ldots , s-1 ] ) \\times { \\mathcal{p}}([r-1 ] ) \\to [ \\lambda]$ ] ( `` starting square '' ) , which we extend to @xmath97 $ ] by @xmath232 , and @xmath233 ( `` erase a dot '' ) .",
    "again , they will have the properties ( p[p1 ] ) , ( p[p2 ] ) and ( p[p3 ] ) from section [ non - shifted ] . by the same argument as in the previous section , this implies that @xmath234 , @xmath235 , is a bijection from @xmath84 to @xmath70 , and proves .",
    "while this all seems almost exactly the same as in the non - shifted case , there are a few important differences .",
    "first , the map @xmath58 is fairly complicated ; we have to split the possible configurations of the sets @xmath16 , @xmath18 and @xmath224 into five separate cases , with the rule for finding the starting column fairly unintuitive .",
    "second , in certain cases it is not immediately obvious which of the dots in the shaded columns should be erased .",
    "note that a square @xmath19 with @xmath236 has two `` projections '' in column @xmath221 and two in column @xmath58 , see figure [ fig18 ] .    on a related note , while the equality @xmath237 translates nicely into equalities @xmath238 , it is far less obvious how to decompose the punctured hook of @xmath19 into punctured hooks of @xmath132 and @xmath239 ( or @xmath240 and @xmath241 ) . and the final , and perhaps the most intriguing , difference is that in most cases when the shaded columns start with a snake , the map @xmath148 does not just `` erase the dot '' , but also `` flips the snake '' .",
    "see figure [ fig10 ] for some possible effects of @xmath148 .",
    "these issues are addressed in the next section . but first , we describe how to change the direction of a snake .",
    "we need some new notation .",
    "pick a set @xmath242 $ ] . for @xmath243 ,",
    "denote by @xmath244 the set of all arrangements @xmath195 for which @xmath245 , @xmath246 , @xmath247 , @xmath248 , and by @xmath249 the set @xmath250 .",
    "for @xmath243 , denote by @xmath251 the set of all arrangements @xmath195 for which @xmath252 , @xmath253 , @xmath254 , @xmath255 , and by @xmath256 the set @xmath257 .",
    "the set @xmath249 ( respectively , @xmath256 ) contains all arrangements so that the dots in rows @xmath258 form a left snake ( respectively , right snake ) .",
    "figure [ fig16 ] shows two examples .    [ flip ] there is a bijection @xmath259 with the property that @xmath260 if @xmath261 .",
    "we construct the map @xmath262 inductively . if @xmath263 or @xmath264 , the sets @xmath249 and @xmath256 are equal and we can take @xmath262 to be the identity map . now take @xmath265 , @xmath266 , @xmath267 , @xmath268 , and look at @xmath269 .",
    "+ first take @xmath270 . then @xmath271 , @xmath272 , @xmath273 , @xmath274 .",
    "a square @xmath132 , @xmath275 , in @xmath276 is also in the punctured hook of @xmath277 , and a square @xmath278 , @xmath279 , of @xmath276 is in a natural correspondence with the square @xmath280 , which is in the punctured hook of @xmath277 . by slight abuse of notation",
    ", we can therefore define @xmath281 ; we also define @xmath282 and @xmath283 for @xmath284 .",
    "+ now note that @xmath285 is an element of @xmath286 , and therefore we can take @xmath287 . by assumption , @xmath288 does not change values in row @xmath289 , so @xmath290 and @xmath291 .",
    "that means that @xmath292 , and we take @xmath293 . +",
    "now assume @xmath294 . if @xmath269 is of the form @xmath280 for @xmath279 , then it is also in the punctured hook of @xmath277 , and if it is of the form @xmath240 for @xmath295 , then @xmath132 is in the punctured hook of @xmath277 . by slight abuse of notation",
    ", we can then take @xmath296 , @xmath297 , @xmath283 for @xmath298 . since @xmath299",
    ", we can take @xmath300 , and since @xmath292 , we define @xmath301 . + otherwise , @xmath269 is in the punctured hook of @xmath302 ( where we identify squares @xmath280 and @xmath303 for @xmath304 ) . note that if @xmath305 , the square @xmath306 is in the punctured hook of @xmath277 ( where we identify squares @xmath280 and @xmath307 for @xmath308 ) .",
    "define @xmath297 , @xmath309 ( if @xmath305 ) , @xmath310 ( if @xmath311 ) , @xmath312 , @xmath313 ( if @xmath305 ) , @xmath283 for all other @xmath63 .",
    "if @xmath311 , then @xmath314 , take @xmath315 ; otherwise , @xmath299 , so we can define @xmath300 . since @xmath292 in either case , we define @xmath301 . + it is easy to construct the analogous map @xmath316 , and to prove that such maps are inverses .",
    "the details are left to the reader .",
    "the arrangement on the right - hand side of figure [ fig16 ] is the image of the arrangement on the left - hand side .",
    "+ the following figure shows four further examples .",
    "each block shows shaded columns for @xmath73 , @xmath285 and @xmath317 . in the first example",
    ", we have @xmath318 .",
    "in the second and third example , we have @xmath319 with @xmath320 ; @xmath285 can have different @xmath16 and @xmath224 , depending on @xmath321 .",
    "the last example shows what happens if @xmath322 and @xmath269 is in the punctured hook of @xmath323 .",
    "in this section , we describe in full detail the two maps mentioned in section [ basic ] , @xmath58 and @xmath148 . while we call the map @xmath148 `` erasing the dot '' , its effect on the shaded row and columns is , as mentioned above , a bit more complicated .",
    "we are given @xmath90 , and we want to construct the square @xmath9^*$ ] . for the row , the rule is simple and is a straightforward generalization of the rule in the non - shifted case .    1 .",
    "[ s0 ] @xmath231 is the row coordinate of the upper - most dot in the shaded columns ; if both @xmath16 and @xmath224 are empty , take @xmath77 .",
    "in other words , @xmath324 .    for the column @xmath325 , there are several different rules depending on the formation of the shaded columns .",
    "the motivation for these rules is as follows .",
    "we want to think of @xmath225 as the starting square of the hook walk that corresponds to the arrangement @xmath73 .",
    "if @xmath224 is empty , we are essentially in the situation of the non - shifted case , and @xmath225 is defined accordingly .",
    "if the shaded columns form a left stick or a right snake and @xmath18 is empty , then the dots determine a hook walk , which , of course , starts in column @xmath221 .",
    "in other cases , we start from the top of the shaded columns , and try to see for how long the dots form a hook walk , i.e. , a snake ( either left or right ) .",
    "once we hit an obstruction ( like a block or a dot in the wrong column ) , we take the column corresponding to the row where the obstruction occurs , or to the last snake row .",
    "more precisely , we have exactly one of the following options :    1 .",
    "[ s1 ] the shaded columns form a right stick ; in this case , @xmath325 is the column coordinate of the left - most dot in the shaded row or , if @xmath18 is empty , @xmath78 ; 2 .",
    "[ s2 ] the shaded columns form a left stick or a right snake ; in this case , @xmath326 ; 3 .",
    "[ s3 ] the shaded columns start with a stick - dot ; in this case @xmath327 , where @xmath91 is the row coordinate of the dot ; 4 .",
    "[ s4 ] the shaded columns start with a block of length @xmath328 ; in this case @xmath329 , where @xmath91 is the row coordinate of the second block row ; 5 .",
    "[ s5 ] the shaded columns start with a snake and do not form a right snake ; in this case , count the number of true statements in the following list : * the shaded columns start with a left snake ; * the shaded columns start with a snake - odd block ; * the shaded columns start with a snake - left dot or snake - block - left dot .",
    "+ if this number is odd , let @xmath329 , where @xmath91 is the row coordinate of the last snake row",
    ". if this number is even , the shaded columns must start with a snake - block ; let @xmath329 , where @xmath91 is the row coordinate of the first block row .    an alternative description of ( s[s5 ] ) is as follows .",
    "if the shaded columns form a left snake or a left snake snake - even block or a right snake - odd block or start with a snake - dot or a left snake - even block - right dot or a left snake - odd block - left dot or a right snake - even block - left dot or a right snake - odd block - right dot , let @xmath329 , where @xmath91 is the row coordinate of the last snake row .",
    "if the shaded columns form a left snake - odd block or right snake - even block or start with a left snake - even block - left dot or a left snake - odd block - right dot or a right snake - even block - right dot or a right snake - odd block - left dot , let @xmath329 , where @xmath91 is the row coordinate of the first block row . and",
    "if the shaded columns start with a snake - dot , let @xmath329 , where @xmath91 is the row coordinate of the first block row .",
    "figure [ fig11 ] should illuminate these rules . clearly , ( s[s0 ] ) and ( s[s1 ] ) imply the first statement of ( p[p1 ] ) .    in all cases , we could give these rules in terms of the sets @xmath16 and @xmath224 ( sets @xmath16 and @xmath18 in ( s[s1 ] ) ) .",
    "for example , we could state ( s[s3 ] ) as follows : if @xmath330 and @xmath331 \\neq \\emptyset$ ] and @xmath332 ) < \\min c$ ] , then @xmath333 , and if @xmath334 and @xmath335 \\neq \\emptyset$ ] and @xmath336 ) < \\min a$ ] , then @xmath337 .",
    "such statements seem to be , however , much less intuitive than the descriptions above .      in this subsection",
    ", we construct the map @xmath148 , which acts as identity on @xmath338 , and which maps @xmath89 into @xmath339 for @xmath151 ; in other words , if there is at least one dot in the shaded columns and row , then @xmath103 should have one fewer dot in these columns and row .",
    "furthermore , @xmath58 and @xmath148 should satisfy properties ( p[p1 ] ) , ( p[p2 ] ) and ( p[p3 ] ) .",
    "so pick @xmath340 .",
    "there are three possibilities .",
    "first , @xmath121 can be one of the shaded squares ( i.e. , @xmath77 or @xmath326 or @xmath78 ) ; this happens in case ( s[s1 ] ) if either @xmath341 or @xmath342 , and in case ( s[s2 ] ) , and @xmath103 differs from @xmath73 in exactly one square .",
    "second , @xmath104 can be a non - shaded square that appears to the right of the column @xmath224 ( i.e. , we have @xmath122 and @xmath343 ) ; this happens in case ( s[s1 ] ) if both @xmath16 and @xmath18 are non - empty , and @xmath103 differs from @xmath73 in exactly two squares . and third , @xmath104 can be a non - shaded square to the left of the column @xmath224 ( i.e. , @xmath344 ) ; this happens in cases ( s[s3 ] ) , ( s[s4 ] ) and ( s[s5 ] ) .",
    "now , @xmath103 differs from @xmath73 in at least two squares .    in the first case",
    ", @xmath103 differs from @xmath73 only at @xmath104 . if @xmath345 and @xmath346 , then @xmath115 and @xmath175 ; define @xmath143 , @xmath144 , @xmath347 , and @xmath348 . if @xmath349 and @xmath162 , then @xmath109 and @xmath350 , define @xmath147 , @xmath111 , @xmath347 , and @xmath351 . and otherwise ( if @xmath16 and @xmath352 form a left stick or a right snake ) , we have @xmath353 and @xmath354 ; define @xmath147 , @xmath144 , @xmath355 , and @xmath356 . then define @xmath155 for @xmath357 . in all these cases , @xmath119 , @xmath358 , @xmath359 and @xmath153",
    "the second case , when @xmath346 , @xmath162 , @xmath360 , is almost exactly the same as in the non - shifted case .",
    "the square @xmath361 is in the punctured hook of @xmath121 .",
    "this punctured hook is in a natural correspondence with @xmath362 .",
    "see figure [ fig12 ] .",
    "so by slight abuse of notation , we define @xmath103 as follows .",
    "if @xmath363 , define @xmath141 , and if @xmath364 , define @xmath146 .",
    "in the first case , also define @xmath143 , @xmath144 , @xmath347 , and in the second case , define @xmath147 , @xmath111 , @xmath347 . then take @xmath365 , @xmath155 for @xmath357 . in both cases",
    ", we have @xmath119 , @xmath358 , @xmath359 and @xmath153 .    as mentioned before , the third case splits into three possible subcases .",
    "the shaded columns either start with a stick - dot , or with a block of length @xmath328 , or start with a snake and do not form a right snake .",
    "again , it is important to decompose the punctured hook of @xmath121 , where @xmath344 .",
    "the important difference now is that we have two possible decompositions ; we can either decompose it as @xmath366 , or as @xmath367 .",
    "see figure [ fig13 ] .    in the cases ( s[s3 ] ) , ( s[s4 ] ) and ( s[s5 ] )",
    ", we therefore describe the following :    * which decomposition , @xmath366 or @xmath367 , we use ; * whether or not we have to use lemma [ flip ] to `` flip the snake '' ( this can only happen in case ( s[s5 ] ) ) .",
    "if we use decomposition @xmath366 and @xmath363 , then define @xmath141 , @xmath155 for @xmath368 , @xmath143 , @xmath144 , @xmath347 . if @xmath369 , then define @xmath370 , @xmath155 for @xmath371 , @xmath147 , @xmath144 , @xmath372 .",
    "similarly , if we use decomposition @xmath367 and @xmath373 , then define @xmath374 , @xmath155 for @xmath375 , @xmath147 , @xmath144 , @xmath355 . and",
    "if @xmath376 , then define @xmath377 , @xmath155 for @xmath378 , @xmath379 , @xmath144 , @xmath347 .    as we will see , in cases ( s[s3 ] ) , ( s[s4 ] ) and in one subcase of ( s[s5 ] )",
    ", @xmath380 is always in the punctured hook of @xmath381 . in this case , define @xmath365 .    in most subcases of ( s[s5 ] ) , @xmath380 is not in the punctured hook of @xmath381 . in this case , we will use lemma [ flip ] to get @xmath382 , @xmath383 and @xmath384 with @xmath385 and so that @xmath386 is in the punctured hook of @xmath381 . in this case , define @xmath387 .",
    "we can only use decomposition @xmath366 if @xmath388 and @xmath389 , and we can only use decomposition @xmath367 if @xmath390 and @xmath391 .    accordingly , for ( s[s3 ] ) , we have only one choice for the decomposition : if the shaded columns start with a right stick - left dot , use decomposition @xmath366 , and if they start with a left stick - right dot , use decomposition @xmath367 . in both cases",
    "@xmath380 is in the punctured hook of @xmath225 : let us prove this only when we have a right stick - left dot .",
    "suppose first that @xmath392 , @xmath393 for @xmath394 .",
    "if @xmath363 , then @xmath395 and @xmath396 also form a stick - dot , and @xmath397 , which is in the punctured hook of @xmath19 . if @xmath369 , then the starting row for @xmath398 , @xmath399 and @xmath400 is still @xmath231 , but the starting column is at least @xmath401 ; thus @xmath380 is in the punctured hook of @xmath19",
    "now suppose that @xmath392 , @xmath393 for @xmath402 .",
    "if @xmath363 , then the first coordinate of @xmath380 for @xmath395 and @xmath396 is @xmath41 , and all of row @xmath41 is in the punctured hook of @xmath19 . and",
    "if @xmath369 , then the starting row for @xmath398 , @xmath399 and @xmath400 is still @xmath231 , but the starting column is at least @xmath401 ; thus @xmath380 is in the punctured hook of @xmath19 .",
    "the case when @xmath403 or @xmath404 is easy .",
    "take case ( s[s4 ] ) .",
    "the shaded columns either form a block or start with a block - dot . if they form an even block , or start with an even block - right dot or odd block - left dot , use decomposition @xmath366 .",
    "if they form an odd block , or start with an odd block - right dot or even block - left dot , use decomposition @xmath367 .",
    "it is easy to see that in every case , @xmath380 is in the punctured hook of @xmath19 .",
    "for example , if the shaded columns start with an even block - right dot where the block has length @xmath405 , @xmath406 and @xmath407 , then erasing @xmath231 from @xmath16 or @xmath41 from @xmath224 produces a formation that starts with right snake - even block - right dot ; by ( s[s5 ] ) , @xmath408 , which is in the punctured hook of @xmath19 .",
    "all other cases are tackled in a similar way .    that leaves only the case ( s[s5 ] ) .",
    "the rule is as follows .",
    "if the shaded columns start with a left snake , use decomposition @xmath366 , and if they start with a right snake , use decomposition @xmath367 .",
    "erasing @xmath231 from @xmath16 or @xmath224 always produces @xmath380 which is in the punctured hook of @xmath19 , as can be seen by an inspection of all possible cases .",
    "however , erasing @xmath41 from @xmath16 or @xmath224 has this property only if the shaded columns form a left stick - even block or right stick - odd block , or if they start with a left stick - even block - right dot , left stick - odd block - left dot , right stick - even block - left dot or right stick - odd block - right dot ; see top row of figure [ fig17 ] .",
    "otherwise , erasing @xmath41 from @xmath16 or @xmath224 produces @xmath409 with @xmath408 for @xmath410 , which is _ not _ in the punctured hook of @xmath19 ; see bottom row of figure [ fig17 ] .    in all these cases",
    ", however , changing a left snake to a right snake or vice versa gives @xmath411 so that @xmath412 with @xmath413 .",
    "so lemma [ flip ] is the remaining ingredient of the construction of @xmath148 . if we are in the position in case ( s[s5 ] ) when erasing @xmath41 from @xmath16 or @xmath224 does not produce @xmath414 with @xmath380 in the punctured hook of @xmath225 , apply @xmath262 or @xmath415 to @xmath73 first , where @xmath416 $ ] , and erase @xmath41 from the resulting @xmath398 ( if the original shaded columns started with a right snake ) or @xmath400 ( if the original shaded columns started with a left snake ) to get @xmath382 and @xmath400 .",
    "this way , we get @xmath386 in the punctured hook of @xmath225 , and we are done .    the property ( p[p1 ] ) is clear , and the property ( p[p2 ] ) follows by construction . constructing the inverse implicit in ( p[p3 ] ) is straightforward , if cumbersome , and is left as an exercise for the reader .",
    "apart from @xcite and @xcite , the major source of motivation and inspiration for this paper was @xcite .",
    "indeed , some of the notation ( such as sets @xmath16 , @xmath18 and @xmath224 ) was preserved on purpose . though not explicitly stated ,",
    "the map @xmath58 is hidden in the definition of the operators @xmath417 , @xmath418 , @xmath419 , @xmath420 and the proof of lemma 6 . on the other hand ,",
    "our snake - flipping ( lemma [ flip ] ) is equivalent to lemma 7 .",
    "there are , however , several advantages to our bijective approach .",
    "we mention a few in the following paragraphs .",
    "an obvious and minor difference is that in @xcite , the case @xmath360 is treated separately , in a section of its own , while we are able to place this case in a wider framework , with a special rule for @xmath58 and @xmath148 .",
    "the second difference is that with our approach , there is no need to study `` basic trials '' ( i.e. the case @xmath342 ) any differently than other cases .",
    "the complicated part of the proof is , of course , when @xmath330 .",
    "sagan offers an ad hoc construction for the case when @xmath421 , and the simultaneous reverse induction in the proof for @xmath422 when @xmath423 is very tricky .",
    "our proof , on the other hand , offers a unified description of how to select the dot to erase .",
    "furthermore , we feel that the proof of the snake - flipping lemma is much more intuitive than ( * ? ? ? * proof of lemma 7 ) .",
    "it also sheds light on what the `` counterexample '' from @xcite means : that the hook walk by itself does not determine the projection onto shaded row and columns ; we also need to pick random elements of the punctured hook on ( some of ) the squares in shaded columns .",
    "more abstractly , it says that snake - flipping is necessary ; that we can not hope to always be able to erase a dot from the shaded row and columns and hope for a new configuration with a starting square in the punctured hook of the starting square of the original configuration .",
    "also , the bijective approach lends itself very naturally to the weighted formulas , and various other variants mentioned in sections [ variants ] and [ final ] .",
    "the true power of a bijection lies in its robustness . in this section ,",
    "we specialize and slightly adapt the bijection to get variants and generalizations of .",
    "[ vars ] for a partition @xmath24 of @xmath3 with distinct parts , we have the following equalities : @xmath424^ * \\setminus { \\mathcal{c}}^*[\\lambda ] } \\!\\!\\!\\!\\!\\!\\!\\!\\!\\left ( { h^*_{ij } \\!-\\ !",
    "1}\\right ) & = \\!\\!\\!\\!\\sum_{\\scriptscriptstyle(r , s ) \\in { \\mathcal{c}}^*[\\lambda ] } { \\prod_{\\stackrel{(i , j ) \\in [ \\lambda]^*\\setminus { \\mathcal{c}}^*[\\lambda]}{\\scriptscriptstyle",
    "i \\neq r , j \\neq r-1,s}}\\!\\!\\!\\!\\!\\ ! ( h_{ij}^ * \\!-\\ ! 1)\\prod_{i=1}^{r-1 }",
    "h^*_{is } \\prod_{j = r}^{s-1 } h^*_{rj } \\prod_{i=1}^{r-1 } h^*_{i , r-1 } }",
    "\\\\     \\lambda_1 \\!\\cdot \\!\\!\\!\\!\\!\\!\\!\\!\\!\\prod_{\\scriptscriptstyle(i , j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda ] } \\!\\!\\!\\!\\!\\!\\!\\!\\!\\left ( { h^*_{ij } \\!-\\ !",
    "1}\\right ) & = \\!\\!\\!\\!\\sum_{\\scriptscriptstyle(r , s ) \\in { \\mathcal{c}}^*[\\lambda]}\\!\\!\\!\\!\\!\\left ( h^*_{1,r-1 } \\!+\\ ! h^*_{1s}\\ ! - \\!1 \\right)\\!\\!\\!\\!\\!\\ !",
    "{ \\prod_{\\stackrel{(i , j ) \\in [ \\lambda]^*\\setminus { \\mathcal{c}}^*[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq r-1,s}}\\!\\!\\!\\!\\!\\ ! ( h_{ij}^ * \\!-\\ ! 1)\\prod_{i=2}^{r-1 } h^*_{is } \\prod_{j = r}^{s-1 } h^*_{rj } \\prod_{i=2}^{r-1 } h^*_{i , r-1 } } \\\\     \\!\\!\\prod_{\\scriptscriptstyle(i ,",
    "j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda ] }   \\!\\!\\!\\!\\!\\!\\!\\!\\!\\left ( { h^*_{ij } \\!-\\ !",
    "1}\\right ) & = \\!\\!\\!\\!\\sum_{\\scriptscriptstyle(r , s )",
    "\\in { \\mathcal{c}}^*[\\lambda]}\\!\\!\\!\\!\\!\\left ( { h^*_{1s}h^*_{2,r-1 } \\!+\\ !",
    "( h^*_{1,r-1}\\ ! -\\ !",
    "1)(h^*_{2s}\\!-\\!1 ) } \\right)\\!\\!\\!\\!\\!\\!\\!\\!\\ ! { \\prod_{\\stackrel{(i , j ) \\in [ \\lambda]^*\\setminus",
    "{ \\mathcal{c}}^*[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq r-1,s}}\\!\\!\\!\\!\\!\\!\\!\\ ! ( h_{ij}^ * \\!- \\!1)\\prod_{i=3}^{r-1 } h^*_{is } \\!\\!\\!\\!\\!\\!\\prod_{j=\\max{\\{r,2\\}}}^{s-1 } \\!\\!\\!\\!\\!\\!h^*_{rj } \\prod_{i=3}^{r-1 } h^*_{i , r-1 } }    \\endaligned\\ ] ] here @xmath425 if @xmath426^*$ ] .",
    "the first equality is just . to get the second equality , note that the left - hand side enumerates all pairs @xmath188 , where @xmath63 is in the first row and @xmath427 .",
    "so we have to prove that for every @xmath428 $ ] , the term on the right - hand side corresponding to @xmath80 enumerates all arrangements @xmath90 and @xmath429 for some @xmath325 , @xmath430 . if @xmath431 , this is true for all @xmath82 , and there are @xmath432\\setminus { \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq 1}}(h_{ij}^ * -",
    "1 ) \\prod_{j = 1}^{s-1 } h^*_{1j } = \\left ( h^*_{1,r-1 } + h^*_{1s } - 1 \\right ) { \\prod_{\\stackrel{(i , j ) \\in [ \\lambda]\\setminus { \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq r-1,s } } ( h_{ij}^ * - 1)\\prod_{i=2}^{r-1 } h^*_{is } \\prod_{j = r}^{s-1 } h^*_{rj } \\prod_{i=2}^{r-1 } h^*_{i , r-1}}\\ ] ] such arrangements , where we are using the fact that @xmath433 by definition and @xmath434 . + if @xmath435 , @xmath73 satisfies @xmath429 if and only if @xmath436 , by ( s[s0 ] ) .",
    "we can therefore put any labels in @xmath437 and @xmath438 except @xmath437 and @xmath438 simultaneously .",
    "that means that we have @xmath439 possible labels in these squares .",
    "it follows that there are @xmath440\\setminus { \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq r-1,s } } ( h_{ij}^ * - 1)\\prod_{i=2}^{r-1 } h^*_{is } \\prod_{j = r}^{s-1 } h^*_{rj } \\prod_{i=2}^{r-1 } h^*_{i , r-1}}\\ ] ] such arrangements , as required",
    ". + the last proof is a bit more involved .",
    "we want to see that a term on the right - hand side enumerates all @xmath73 so that @xmath441 . if @xmath431 , this is true if and only if @xmath442 , and there are @xmath432\\setminus { \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq 1}}(h_{ij}^ * - 1 ) \\prod_{j = 2}^{s-1 } h^*_{1j}\\ ] ] such arrangements .",
    "if @xmath443 , we also have @xmath441 if and only if @xmath442 , and there are @xmath432\\setminus { \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq 2,j \\neq 1,s } } ( h_{ij}^ * - 1 ) \\left[h^*_{1s } \\prod_{j = 2}^{s-1 } h^*_{2j}\\right].\\ ] ] if @xmath444 , we claim the following . given labels @xmath445 for @xmath446 , there are @xmath447 ways to add labels in @xmath448 so that the resulting @xmath73 satisfies @xmath441 .",
    "+ consider the rows from @xmath449 to @xmath221 of the shaded columns .",
    "if they are empty or form an even block or start with an even block - right dot or odd block - left dot , a careful application of rules ( s[s0])(s[s5 ] ) shows that the top two rows can form any of the combinations shown on the top of figure [ fig19 ] .",
    "there are @xmath450 such labels .",
    "if , on the other hand , the rows from @xmath449 to @xmath221 of the shaded columns form an odd block or start with an odd block - right dot or even block - left dot , the top two rows can form any of the combinations on the bottom drawing in figure [ fig19 ] , and there are @xmath451 possible labels . using the formula @xmath452 and simplifying , we get that both these expressions equal @xmath447 . there are therefore @xmath453\\setminus { \\mathcal{c}}[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq r-1,s } } ( h_{ij}^ * - 1)\\prod_{i=3}^{r-1 } h^*_{is } \\prod_{j=\\max{\\{r,2\\}}}^{s-1 } h^*_{rj } \\prod_{i=3}^{r-1 } h^*_{i , r-1}}\\ ] ] such arrangements , and it is easy to check that this formula is compatible with formulas for @xmath431 and @xmath443 obtained above .    while weighted formulas were at the very center of @xcite and @xcite , we mention them here only in passing .",
    "the reason is that the formulas we were able to obtain do not seem to simplify the bijection , unlike in the non - shifted case ; in fact , because monomials have coefficients other than @xmath454 , the bijection becomes more unwieldy .",
    "for a discussion of whether or not these weighted formulas are satisfactory and whether a better generalization might exist , see section [ final ] .",
    "the following figure shows how we weight the punctured hook of a square in the shifted diagram .",
    "more precisely , we define @xmath455 for @xmath456^*$ ] .    [",
    "weighted ] let @xmath457 be some commutative variables . for a partition @xmath24 of @xmath3 with distinct parts , we have the following polynomial equalities : @xmath458^ * } x \\ , y_{q - \\ell(\\lambda ) + 1 } \\right ] \\!\\!\\left[\\prod_{(i , j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda ] } \\!\\!\\!\\overline{{\\mathcal{h}}}^*_{ij } \\right ] = \\sum_{(r , s ) \\in { \\mathcal{c}}^*[\\lambda ] } \\left[\\prod_{\\stackrel{(i , j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda]}{\\scriptscriptstyle",
    "i \\neq r , j \\neq r-1,s } } \\!\\!\\!\\overline{{\\mathcal{h}}}^*_{ij } \\right ] & \\\\    \\times \\prod_{i=1}^{r } ( { \\overline{\\mathcal h}}^*_{is } + x)\\prod_{j = r}^{\\ell(\\lambda)-1 } ( { \\overline{\\mathcal h}}^*_{rj } + x)\\prod_{j=\\ell(\\lambda)}^{s } ( { \\overline{\\mathcal h}}^*_{rj } + y_{j-\\ell(\\lambda)+1 } ) \\prod_{i=1}^{r-1 } ( { \\overline{\\mathcal h}}^*_{i , r-1}+x ) & \\\\   \\left [ ( \\ell(\\lambda ) - 1 ) x + \\!\\!\\!\\!\\sum_{j = 1}^{\\lambda_1 + 1 - \\ell(\\lambda ) } \\!\\!\\!\\ !",
    "y_j \\right ] \\!\\ !",
    "\\left[\\prod_{(i , j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda ] } \\!\\!\\!\\overline{{\\mathcal{h}}}^*_{ij } \\right ] = \\!\\!\\sum_{(r , s ) \\in { \\mathcal{c}}^*[\\lambda ] } \\left[\\prod_{\\stackrel{(i , j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda]}{\\scriptscriptstyle",
    "i \\neq r , j \\neq r-1,s } } \\!\\!\\!\\overline{{\\mathcal{h}}}^*_{ij } \\right ] \\!\\!\\left[\\big\\ { \\begin{array}{r } \\scriptstyle { \\overline{\\mathcal h}}^*_{1,r-1 } + { \\overline{\\mathcal h}}^*_{1s } + x \\colon r \\geq 2\\\\ \\scriptstyle 1 \\colon r = 1\\end{array}\\right ] & \\\\   \\times \\prod_{i=2}^{r } ( { \\overline{\\mathcal h}}^*_{is } + x)\\prod_{j = r}^{\\ell(\\lambda)-1 } ( { \\overline{\\mathcal h}}^*_{rj } + x)\\prod_{j=\\ell(\\lambda)}^{s } ( { \\overline{\\mathcal h}}^*_{rj } + y_{j-\\ell(\\lambda)+1 } ) \\prod_{i=2}^{r-1 } ( { \\overline{\\mathcal h}}^*_{i , r-1}+x ) & \\\\",
    "\\left[\\prod_{(i , j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda ] } \\!\\!\\!\\overline{{\\mathcal{h}}}^*_{ij } \\right ] = \\sum_{(r , s ) \\in { \\mathcal{c}}^*[\\lambda ] } \\left[\\prod_{\\stackrel{(i , j ) \\in [ \\lambda]^ * \\setminus { \\mathcal{c}}^*[\\lambda]}{\\scriptscriptstyle i \\neq r , j \\neq r-1,s } } \\!\\!\\!\\overline{{\\mathcal{h}}}^*_{ij } \\right ] \\!\\!\\left[\\bigg\\ { \\begin{array}{r } \\scriptstyle ( { \\overline{\\mathcal h}}^*_{1s } + x)({\\overline{\\mathcal h}}^*_{2,r-1 } + x ) + { \\overline{\\mathcal h}}^*_{1,r-1 } { \\overline{\\mathcal h}}^*_{2s } \\colon r \\geq 3\\\\ \\scriptstyle { \\overline{\\mathcal h}}^*_{1s } + x \\colon r = 2 \\\\ \\scriptstyle 1 \\colon r = 1\\end{array}\\right ] & \\\\   \\times \\prod_{i=3}^{r } ( { \\overline{\\mathcal h}}^*_{is } + x)\\prod_{j=\\max{\\{r,2\\}}}^{\\ell(\\lambda)-1 } ( { \\overline{\\mathcal h}}^*_{rj } + x)\\prod_{j=\\max{\\{\\ell(\\lambda),2\\}}}^{s } ( { \\overline{\\mathcal h}}^*_{rj } + y_{j-\\ell(\\lambda)+1 } ) \\prod_{i=3}^{r-1 } ( { \\overline{\\mathcal h}}^*_{i , r-1}+x ) & \\\\    \\endaligned\\ ] ]    we omit the ( rather tedious ) proof ; it involves noting that given an arrangement @xmath427 or @xmath195 , we have to replace the square @xmath459 in the hook of @xmath63 by a variable @xmath460 or @xmath461 , using figure [ fig20 ] or the definition of @xmath462 above .",
    "then we have to prove that the product of labels in @xmath73 is equal to the product of labels in @xmath463 .",
    "the details are left as an exercise for the reader .",
    "an interestion generalization of diagrams and shifted diagrams are @xmath0-complete posets of proctor and peterson .",
    "let us start with a brief outline of their definition and main features .",
    "see @xcite for details .    for @xmath464 , take a chain of @xmath465 elements , and expand the middle element to two incomparable elements .",
    "call the resulting poset a _",
    "double - tailed diamond poset _",
    "( for @xmath466 , we call it a _ diamond _ ) , and denote it by @xmath467 . figure [ fig22 ] shows the hasse diagram of @xmath468 ( rotated by @xmath469 ) .",
    "an interval in a poset is called a @xmath470-interval if it is isomorphic to @xmath467 .",
    "a @xmath471-interval in a poset @xmath472 consists of three elements @xmath473 , so that both @xmath460 and @xmath474 cover @xmath475 . for @xmath476 , an interval in @xmath472",
    "is called @xmath477-interval if it is isomorphic to @xmath478 , where @xmath479 is the maximal element of @xmath467 .",
    "the essential property of @xmath0-complete posets is that there are we can `` complete '' every @xmath477-interval .",
    "furthermore , @xmath470-intervals do not intersect .",
    "more precisely , we call a poset @xmath480 _ @xmath0-complete _ if it has the following properties :    1 .",
    "if @xmath460 and @xmath474 cover a third element @xmath475 , there must exist a fourth element @xmath481 which covers each of @xmath460 and @xmath474 ; 2 .",
    "if @xmath482 , @xmath483 , is a diamond in @xmath472 , then @xmath481 covers only @xmath460 and @xmath474 in @xmath472 ; 3 .",
    "no two elements @xmath460 and @xmath474 can cover each of two other elements @xmath475 and @xmath484 ; 4 .",
    "if @xmath485 $ ] is a @xmath477-interval , @xmath476 , there exists @xmath481 which covers @xmath474 and such that @xmath486 $ ] is a @xmath470-interval ; 5 .",
    "if @xmath487 $ ] is a @xmath470-interval , @xmath476 , then @xmath481 covers only one element in @xmath472 ; 6 .",
    "if @xmath485 $ ] is a @xmath477-interval , @xmath476 , and @xmath460 is the ( unique ) element covering @xmath475 in this interval , then @xmath460 is the unique element covering @xmath475 in @xmath472 .",
    "the _ hook length _ of an element @xmath481 of a @xmath0-complete poset @xmath472 is defined recursively as follows .",
    "if @xmath481 is not an element of a @xmath470-interval for any @xmath464 , then the hook length @xmath488 is @xmath489 .",
    "if there exists @xmath475 so that @xmath486 $ ] is a @xmath470-interval , and @xmath490 are the incomparable elements in @xmath486 $ ] , then define @xmath491 .",
    "we usually write @xmath492 for @xmath488 if the choice of the poset is clear .",
    "we can also define the _ hook _ @xmath493 of an element @xmath481 in a @xmath0-complete poset @xmath472 so that @xmath494 , @xmath495 and @xmath496 .",
    "one possible definition goes as follows .",
    "assume without loss of generality that @xmath472 is connected .",
    "then it is easy to see that @xmath472 has a maximal element @xmath497 .",
    "pick @xmath481 and @xmath498 . it can be proved that @xmath499}$ ] either equals @xmath500}$ ] or @xmath500}-1 $ ] ( note that the posets @xmath501 $ ] and @xmath502 $ ] are also @xmath0-complete ) .",
    "we say that @xmath503 if and only if @xmath499}=h_z^{[w , z_0]}-1 $ ] . as usual , we write @xmath504 for @xmath505 .",
    "one of the main properties of @xmath0-complete posets is that the hook length formula is still valid .",
    "if @xmath506 is the number of bijections @xmath507 $ ] satisfying @xmath508 for @xmath509 , then @xmath510    denote the set of all minimal elements of @xmath472 by @xmath511 . by induction",
    ", the hook length formula is equivalent to the _ branching rule for @xmath0-complete posets _ : @xmath512    in analogy with our framework for non - shifted and shifted diagrams , define @xmath70 as the set of all pairs @xmath513 , where @xmath514 and @xmath515 satisfies @xmath516 for all @xmath481 .",
    "furthermore , define @xmath84 as the set of all pairs @xmath517 , where @xmath518 and @xmath519 satisfies @xmath520 for all @xmath481 , @xmath521 , @xmath522 for all @xmath481 , @xmath523 . for",
    "@xmath518 and @xmath190 , denote by @xmath524 the set of all @xmath73 so that @xmath525 and by @xmath526 the set of all @xmath527 with @xmath528 .",
    "sometimes we write @xmath529 and @xmath530 instead of @xmath531 and @xmath532 . for",
    "a @xmath0-complete poset @xmath472 and @xmath518 , denote by @xmath533 the set @xmath534 .",
    "a proof of the following conjecture would provide a bijective proof of the hook length formula for @xmath0-complete posets .    for a @xmath0-complete poset @xmath472 and a minimal element @xmath535 , there exist maps @xmath536 , which can be extended to @xmath537 by @xmath538 , and @xmath539 satisfying the following properties :    1 .   if @xmath540 , then @xmath541 and @xmath102 , and if @xmath542 for @xmath151 , then @xmath543 ; 2 .   if @xmath542 for @xmath151 , then @xmath153 ; furthermore , if @xmath544 , then @xmath545 ; 3 .   given @xmath546 and @xmath481",
    "for which @xmath547 , there is exactly one @xmath548 satisfying @xmath549 and @xmath160 .",
    "the following proposition presents some evidence for the conjecture .",
    "for the definition of a _ slant sum _ , see @xcite .",
    "let @xmath550 be @xmath0-complete posets .    1 .",
    "the conjecture holds for @xmath472 if @xmath472 is the diagram of a partition .",
    "the conjecture holds for @xmath472 if @xmath472 is the shifted diagram of a partition .",
    "3 .   the conjecture holds for @xmath472 if @xmath472 is a double - tailed diamond poset .",
    "if the conjecture holds for @xmath551 and @xmath552 , it also holds for their disjoint union . 5 .",
    "if the conjecture holds for @xmath551 and @xmath552 , it also holds for their slant sum .",
    "we showed ( a ) in section [ non - shifted ] and ( b ) in sections [ basic ] and [ details ] . + take @xmath553 for @xmath464 ( for @xmath466 , this is the diagram of the partition @xmath554 , and for @xmath555 , this is the shifted diagram of the partition @xmath556 ) .",
    "label the elements by @xmath557 in such a way that @xmath558 .",
    "the only minimal element is @xmath559 , and @xmath560 .",
    "it is also important to note that for all @xmath561 , we have an identification of @xmath562 and @xmath563 , for example @xmath564 for @xmath565 , define @xmath566 furthermore , if @xmath341 , define @xmath102 ; if @xmath334 and @xmath567 , define @xmath568 , @xmath569 and @xmath570 for @xmath571 . finally , if @xmath572 , we have @xmath573 . if @xmath574 , define @xmath575 , @xmath576 , @xmath577 , @xmath570 for @xmath578 ; and if @xmath579 , define @xmath580 , @xmath576 , @xmath581 , @xmath570 for @xmath582 .",
    "it can be checked that such @xmath58 and @xmath148 satisfy ( p[p1 ] ) , ( p[p2 ] ) , and ( p[p3 ] ) .",
    "this proves ( c ) .",
    "+ suppose @xmath472 is a disjoint union of @xmath0-complete posets @xmath551 and @xmath552 with corresponding maps @xmath583 , @xmath584 . if @xmath585 , then @xmath586 , and therefore we should take @xmath587 again , it can be checked that such @xmath58 and @xmath148 satisfy ( p[p1 ] ) , ( p[p2 ] ) , and ( p[p3 ] ) , and this proves ( d ) .",
    "+ suppose @xmath472 is a slant sum of @xmath0-complete posets @xmath551 and @xmath552 with corresponding maps @xmath583 , @xmath584 . if @xmath588 , or if @xmath589 and @xmath590 , the same construction as in ( d ) works . if , however , @xmath589 and @xmath591 , we have to take @xmath592 where @xmath593 .",
    "it can be checked that such @xmath58 and @xmath148 satisfy ( p[p1 ] ) , ( p[p2 ] ) , and ( p[p3 ] ) .",
    "this proves ( e ) and finishes the proof of the proposition .",
    "proctor @xcite gave a classification of irreducible @xmath0-complete posets .",
    "so the proof of the conjecture would be complete once we found maps @xmath594 and @xmath595 for all minimal elements of all other classes of irreducible @xmath0-complete posets . while some of the cases are pretty straightforward",
    ", the map @xmath58 is likely to be extremely complicated for , say , the `` bat '' and its unique minimam element .",
    "[ [ section ] ]    our weighted formulas are slightly disappointing , since all the `` height '' variables @xmath596 have merged into one variable , which also appears in columns @xmath597 . there are certain indications , however , that this is the best possible generalization ( the author would be thrilled to be proved wrong though ) ; let us mention two .",
    "first , the weighted punctured hooks @xmath598 should satisfy the formula @xmath599 , and it should be obvious from figure [ fig13 ] that this is not easily obtainable unless many of the variables are equal . also , for the staircase shape partition @xmath600 , the `` natural '' weighted generalization of @xmath3 on the left - hand side of is @xmath601 , which should be factored into linear terms on the right - hand side , and this is obviously impossible .",
    "our weighted version , in which both sides are just integer multiples of a power of @xmath460 , obviously avoids this issue .",
    "@xmath604^ * \\setminus { \\mathcal{c}}^*[\\lambda ] }   \\left ( { h^*_{ij } - 1}\\right ) = \\sum_{\\scriptscriptstyle(r , s ) \\in { \\mathcal{c}}^*[\\lambda]}h_{\\lambda , r ,",
    "s , m}\\!\\!\\!{\\prod_{\\stackrel{(i , j ) \\in [ \\lambda]^*\\setminus { \\mathcal{c}}^*[\\lambda ] } { \\scriptscriptstyle i \\neq r , j \\neq r-1,s } } \\!\\!\\!\\!\\!(h_{ij}^ * - 1)\\prod_{i = m+2}^{r-1 } h^*_{is } \\!\\!\\!\\ !",
    "\\!\\!\\prod_{j=\\max{\\{r , m+1\\}}}^{s-1 } \\!\\!\\!\\!\\!\\ !",
    "h^*_{rj } \\prod_{i = m+2}^{r-1 } h^*_{i , r-1}},\\ ] ] where @xmath605 is @xmath606,k \\in i}{\\scriptscriptstyle \\min i = 1 } } \\ , \\ ,   \\prod_{i \\notin i \\mbox{\\tiny { or } } i > k }",
    "\\!\\!\\!(h^*_{i , r-1}\\",
    "! - \\!1 ) \\!\\!\\!\\!\\prod_{i",
    "\\notin i \\mbox{\\tiny { or } } i < k}\\!\\!\\ ! ( h^*_{i , s } \\ ! - \\ !",
    "1 ) + \\prod_{i = 2}^{r-1 } h_{i , r-1}^ *   \\prod_{i = 1}^{r-1 } ( h_{i , s}^*\\ ! - \\!1 ) \\qquad\\qquad\\quad\\:\\!\\mbox { if } r = m + 1 \\\\   & \\!\\!\\",
    "! \\sum_{\\stackrel{i \\subseteq",
    "[ m],k \\in i}{\\scriptscriptstyle \\min i = 1 } } \\ , \\ , \\prod_{i \\notin i \\mbox{\\tiny { or } } i > k } \\!\\!\\!(h^*_{i , r-1}\\",
    "! - \\!1 ) \\!\\!\\!\\!\\prod_{i",
    "\\notin i \\mbox{\\tiny { or } } i < k}\\!\\!\\ !",
    "( h^*_{i , s } \\ ! - \\ !",
    "1 ) + \\!\\!\\!\\!\\!\\!\\!\\!\\!\\!\\ ! \\sum_{\\stackrel{i \\subseteq [ m+1],k \\in i}{\\scriptscriptstyle \\min i",
    "= 1,\\max i = m+1 } }   \\prod_{i \\notin i \\mbox{\\tiny { or } } i > k } \\!\\!\\!(h^*_{i , r-1}\\",
    "! - \\!1 ) \\!\\!\\!\\!\\prod_{i",
    "\\notin i \\mbox{\\tiny { or } } i < k}\\!\\!\\ ! ( h^*_{i , s } \\ ! - \\ !",
    "1 ) \\:\\:+ \\\\   & ( h^*_{m+1,r-1}\\ ! - \\!1)\\prod_{i = 2}^{m } h_{i , r-1}^ *   \\prod_{i = 1}^{m } ( h_{i , s}^*\\ ! - \\!1 ) + ( h^*_{m+1,s}\\ ! - \\!1 ) \\prod_{i = 2}^{m } h_{i , s}^ *   \\prod_{i = 1}^{m } ( h_{i , r-1}^*\\ ! - \\!1 )   \\qquad\\:\\,\\mbox { if } r \\geq m + 2 \\endaligned\\ ] ]    for @xmath607 , this is , of course , the third equality of theorem [ vars ] , and the proof for a general @xmath608 is very similar .",
    "just let us note that @xmath609,k \\in i}{\\scriptscriptstyle \\min i = 1 } } \\ , \\",
    ", \\prod_{i \\neq i \\mbox{\\tiny { or } } i > k } \\!\\!\\!(h^*_{i , r-1}\\",
    "! - \\!1 ) \\!\\!\\!\\!\\prod_{i",
    "\\neq i \\mbox{\\tiny { or } } i < k}\\ ] ] counts the number of ways in which we can choose labels in @xmath610 \\times { \\{r-1,s\\}}$ ] so that the shaded columns up to row @xmath79 form a left snake that starts in row @xmath454 .",
    "a weighted version is also possible , but is omitted .",
    "while this formula seems to be too complicated to be of real interest , we should mention that it indeed gives @xmath611 formulas that are not equivalent to the formulas in theorem [ vars ] . in the non - shifted case ,",
    "finding all @xmath73 satisfying @xmath612 would yield formulas that are equivalent to the case @xmath607 for the partition @xmath613 .",
    "we can similarly enumerate all @xmath73 so that @xmath614 for some fixed @xmath608 .",
    "the resulting formula , which we omit , has @xmath615^ * \\setminus { \\mathcal{c}}^*[\\lambda ] }   ( { h^*_{ij } - 1})$ ] on the left - hand side , and on the right , the sticks and the snakes need not start in row @xmath454 .",
    "we were not able to find `` complementary '' formulas in the spirit of @xcite , and we leave them as an open problem .",
    "the idea , following @xcite , should be to look at the `` complement '' of the given shifted tableau ( see figure [ fig21 ] ) , whose corners are the `` outer '' corners of the original partition ; to write out the formulas from theorem [ vars ] or theorem [ weighted ] for this complementary partition ; to cancel out the terms that the left - hand side and the right - hand side have in common ; and then , for each square @xmath616 appearing in such reduced formula , to find a square @xmath63 of the original shifted diagram with satisfying @xmath617 or @xmath618 ; and to finally change this `` reduced '' complementary formula into a formula that involves products over all squares .",
    "the author was not able to follow through with this approach .",
    "hook walk proofs of theorem [ weighted ] should be possible as a generalization of sagan s proof @xcite , or probably in a more intuitive and less technical way , using maps @xmath58 and @xmath148 as guiding lights .",
    "we leave this as an excercise for the ( very determined ) reader .",
    "such proofs might also work for the ( hypothetical ) complementary formulas .",
    "it was mentioned in @xcite that variants of the branching rule give new recursions for @xmath29 , see ( * ? ? ?",
    "* corollary 5 ) .",
    "this is , of course , also true for the shifted case .",
    "for example , the second equality of theorem [ vars ] has the following corollary : @xmath619 } n \\left ( { \\textstyle \\frac 1{\\lambda_1 + r - s } + \\frac 1{\\lambda - r + s + 1 } - \\frac 1{(\\lambda_1 + r - s)(\\lambda - r + s + 1)}}\\right ) f^*_{\\lambda-{\\mathbf{c}}}.\\ ] ] again , it would be interesting to know if this identity has a combinatorial meaning ."
  ],
  "abstract_text": [
    "<S> recently , a simple proof of the hook length formula was given via the branching rule . in this paper , we extend the results to shifted tableaux . </S>",
    "<S> we give a bijective proof of the branching rule for the hook lengths for shifted tableaux ; present variants of this rule , including weighted versions ; and make the first tentative steps toward a bijective proof of the hook length formula for @xmath0-complete posets . </S>"
  ]
}