{
  "article_text": [
    "the alice collaboration is recording around 10 pbs every year .",
    "this amount of data is stored on different storage elements all over the world . to analyze a single dataset , on the order of @xmath0 files have to be read where those files containing data on the order of 50 tb .",
    "the creation and submission of the analysis jobs to the grid can be done with the alice analysis framework [ 1 ] .",
    "these jobs can be monitored and resubmitted using a monitoring service ( monalisa [ 2 ] ) .",
    "+ on top of these existing frameworks the lego ( lightweight environment for grid operators ) train system was created .",
    "it was developed to increase the cpu efficiency of the analysis jobs and thus to get more user analysis done with the same amount of computing resources .",
    "this is done by collecting multiple analysis tasks which should analyze the same dataset and by running them within the same analysis job . following this procedure",
    "the data is read once , and then it is used for multiple analysis tasks . in comparison to",
    "that if the different user analysis would be done individually the data would be read for each analysis separately . this way more time would be used for loading the data and the cpu efficiency would be lower .",
    "+ another advantage of the lego trains is to hide the grid complexity from the users .",
    "they just have to define their code on a web page which also provides the analysis results as soon as it is available . in between",
    ", the system computes the results fully transparent for the user .",
    "this process is fully automatized so that no one needs to supervise the jobs which are running on the grid .",
    "further improvements are implemented in the computing process to use the available resources as efficient as possible .",
    "+ the train system contains several trains divided by physics working groups ( jet analysis , particle correlations , ... ) and different kind of datasets ( pp- , ppb- or pbpb - collisions , data or monte carlo ) .",
    "the analysis of a dataset by a train is called a train run .",
    "before running in a train a user has to submit the analysis code to a repository .",
    "then the configuration of the code has to be defined on a web page in a so - called train wagon .",
    "+ the trains are managed by train operators who define the datasets and configure the jobs of the train runs . on a regular time basis , which is usually once per day , the trains are started .",
    "to do so an operator composes a train run out of a set of wagons and a dataset .",
    "the train run is tested with an automatized procedure and only if the test is successful the train run can start on the grid . + an example of a train test is shown in figure [ fig : traintest ] .",
    "the base line tests the configuration of the train and does not contain any user code .",
    "the full train contains all the train wagons . in between all wagons are tested individually .",
    "the test reports several measurements .",
    "the first one is the status if the test is finishing normal ( ok ) or if there is an exception in the code ( failed ) .",
    "the memory consumption is divided into the total consumption of the test and the growth per event .",
    "the later number indicates a memory leak if it is getting too big . to show this to the operator the number is highlighted in red if a memory leak is suspected .",
    "the timing information shows the used time per event .",
    "this allows a rough estimate of the train duration . in the last column",
    "the result of the merging test is reported .    example test of a train run .",
    "the base line does not contain any user code , the wagons contain just their own code and the full train contains all the wagon codes . ]",
    "procedure of a train run . after the train test the analysis jobs run .",
    "then the results are merged into a single output file . the time to complete this procedure",
    "is called the turn around time . ]",
    "+ if there is an issue in the test , the operator has to fix this or exclude the failing wagon(s ) .",
    "afterwards the test has to be repeated .",
    "if the test is successful the train run can start .",
    "the chain of jobs run on the grid is shown in figure [ fig : trainrun ] .",
    "after the test , the analysis jobs are started .",
    "these jobs are grouped into sets which are merged as soon as all the jobs finished .",
    "the results of the merging jobs are merged again in a last merging job .",
    "the output of this last job is the result of the train run and is linked on the lego train web page .",
    "the time from starting the first analysis jobs until the merging is finished is called the turn around time .",
    "this is the time the user has to wait for the output and it should be as short as possible .",
    "+ the configuration files of the train run and the final result can be downloaded from the web page by everyone inside alice . this way",
    "all the train runs are documented in the same way and it is easy to hand results to someone else within the experiment .",
    "in table [ tab : usagestatistics ] the usage statistics of the lego train system are shown .",
    "the system was set up in the beginning of 2012 and since then has continuously run . for 2014 ,",
    "the numbers are extrapolated from the measured values within the first 6 months of the year .",
    "+ the line part of the user analysis done with the analysis trains represents the total amount of computing time on the grid used by the trains divided by the total amount of computing time on the grid used for alice analysis .",
    "the value is increasing from 27% in 2012 to 70% in 2014 . in the same time",
    "the number of users increased from 60 to 188 .",
    "this shows that the lego trains are well accepted among the users and that they are now used for most of the analysis in alice .",
    "+ for the users , the average turn around time is an important value .",
    "this value shows how long they have to wait on average to get the train results after the train has been submitted to the grid . in figure",
    "[ fig : avgturnaround ] , the development of the average turn around time per month is shown .",
    "it improves from 3 to 4 days at the beginning of 2012 to 14 hours in 2014 .",
    "the reduction in july 2013 is achieved by putting the improvements discussed in section [ kap : convince ] into production .",
    "@l*15r & 2012 & 2013 & 2014 + & & & ( extrapolated ) + users & 60 & 127 & 188 + trains & 42 & 69 & 79 + train runs & 1537 & 4794 & 7447 + number of jobs & 12",
    "m & 26 m & 34 m + train wagons / run & 14.9 & 10.1 & 8.9 + part of the user & & & + analysis done & 27% & 57% & 70% + with the trains & & & + processed data &  & 75pb & 130pb + turn around time & 49h & 22h & 14h +    average turn around time of the trains per month . ]",
    "because the train system is collecting multiple analysis to run them together , the system works better when more people are using it .",
    "this section explains how the users were convinced to use the system .",
    "+ the biggest advantage for the users is that they save time .",
    "the setup of a wagon is much easier and faster than submitting all the jobs for an analysis .",
    "additionally , the resubmission of failed jobs , the submission of the merging jobs and the bookkeeping are done automatically by the system .",
    "as soon as a train finishes the user is notified by an email .",
    "also new users can learn faster how to run an analysis via the train system than running it directly on the grid .",
    "+ the definition of the datasets is done by operators .",
    "this means that some datasets can already be divided into good and semi - good runs by a previous quality analysis .",
    "so the user just needs to choose on which dataset to run instead of defining it .",
    "+ some job parameters are predefined by the system or they are defined by the operators .",
    "this leads to a stable job management which has less failed jobs compared to user managed analysis .",
    "additionally , trains make it easier for the operators and the grid support personnel to find bugs in the jobs so that the users get faster support .",
    "one of the crucial parameters for the users is the turn around time of the trains .",
    "the objective of the improvements was to achieve a turn around time of one night . this way",
    "the user can define their analysis task in the evening and then the train runs over night . on the next morning , the user can continue with their work .",
    "+ in this section some of the most effective improvements are discussed .      the alice computing model schedules the analysis jobs always to the computing sites which have the data on a local storage element ( se ) to minimize the loading time .",
    "this can lead to the problem that some jobs have to wait for a long time because all job slots at the computing sites with a local copy of a certain file might be occupied . to solve this ,",
    "the local data requirement is dropped for the train jobs as soon as 90% of the jobs are successfully finished . then the remaining jobs can be analyzed on any computing site and",
    "the data is read remotely .",
    "although this increases the time needed to read the data , it decreases the time until the last jobs are started .",
    "this speeds up the last jobs of the train and thus also the full train run itself .",
    "this is done at the cost of the cpu efficiency .",
    "+      one job can only analyze multiple input files if they are saved at the same local se .",
    "most of the datasets ( especially from mc productions ) are spread over a lot of different ses .",
    "so they end up having a lot of jobs which are processing just 1 input file .",
    "in addition to the physics analysis , each job produces some overhead for producing and starting the job .",
    "+ the number of input files in a job can be increased by consolidating the dataset .",
    "this is done by copying some of the files to another se so that more files can be executed within the same job .",
    "this is only done with the most used datasets .",
    "for some datasets , the consolidation reduces the number of jobs up to about 90% .",
    "running fewer jobs means less overhead for the train run .      the introduction of a monitoring system to see the run time of the analysis jobs showed that most of the jobs are finishing within a quite short time . for most of the train runs ,",
    "more than 95% of the jobs finish in half the time it takes the longest running job to finish .",
    "this offers a new way to speed up the train turn around time .",
    "the last 2% of the active jobs are killed and then the merging is started directly . this way some statistics is traded for a faster turn around time .",
    "this can only be done if the distribution of killed jobs is not introducing a bias on the data analysis .",
    "the lego train system is a workflow for the organized analysis in alice .",
    "the system is commonly used and consumes 70% of the cpu time dedicated to user analysis .",
    "it hides the grid complexity from the users and does the job submission , resubmission and bookkeeping automatically .",
    "the system saves computing resources by combining several user tasks in one analysis job .",
    "this results in a better cpu efficiency by loading the data less often . + by using the system",
    ", the grid support personnel can find bugs easier and thus give faster support .",
    "this saves a lot of time for the users and the grid support personnel compared to a situation in which all users do their own individual user analysis .",
    "+   +   + * references * +    [ 1 ] : :    gheata a 2008 alice analysis framework _ proc .",
    "workshop on    adv .",
    "comp . and analysis techniques in phys .",
    "research ( erice )    pos(acat08 ) _ p 028 [ 2 ] : :    i. legrand et al .",
    ", `` monalisa : an agent based , dynamic service system    to monitor , control and optimize grid based applications '' , _ computer    physics communication _ , vol .",
    "2472  2498 , 2004"
  ],
  "abstract_text": [
    "<S> in the alice experiment hundreds of users are analyzing big datasets on a grid system . </S>",
    "<S> high throughput and short turn - around times are achieved by a centralized system called the lego trains . </S>",
    "<S> this system combines analysis from different users in so - called analysis trains which are then executed within the same grid jobs thereby reducing the number of times the data needs to be read from the storage systems . </S>",
    "<S> the centralized trains improve the performance , the usability for users and the bookkeeping in comparison to single user analysis . </S>",
    "<S> + the train system builds upon the already existing alice tools , i.e. the analysis framework as well as the grid submission and monitoring infrastructure . the entry point to the train system is a web interface which is used to configure the analysis and the desired datasets as well as to test and submit the train . </S>",
    "<S> several measures have been implemented to reduce the time a train needs to finish and to increase the cpu efficiency . </S>"
  ]
}