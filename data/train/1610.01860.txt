{
  "article_text": [
    "this article introduces a construction in algebraic geometry that is motivated by multi - view geometry in computer vision . in that field",
    ", one thinks of a camera as a linear projection @xmath0 , and a model is a projective variety @xmath1 that represents the relative positions of two or more such cameras .",
    "the data are correspondences of image points in @xmath2 .",
    "these define a linear subspace @xmath3 , and the task is to compute the real points in the intersection @xmath4 as fast and accurately as possible .",
    "see ( * ? ? ?",
    "* chapter 9 ) for a textbook introduction .",
    "a model for cameras with image distortion allows for an additional unknown parameter @xmath5 .",
    "each coordinate of @xmath6 gets multiplied by a polynomial in @xmath5 whose coefficients also depend on the data .",
    "we seek to estimate both @xmath5 and the point in @xmath6 , where the data now specify a subspace @xmath7 in a larger projective space @xmath8 .",
    "the distortion variety @xmath9 lives in that @xmath8 , it satisfies @xmath10 , and the task is to compute @xmath11 in @xmath8 fast and accurately .",
    "we illustrate the idea of distortion varieties for the basic scenario in two - view geometry .",
    "[ ex : intop14 ] the relative position of two uncalibrated cameras is expressed by a @xmath12-matrix @xmath13 of rank  @xmath14 , known as the _",
    "fundamental matrix_. let @xmath15 and write @xmath16 for the hypersurface in @xmath17 defined by the @xmath18-determinant .",
    "seven ( generic ) image correspondences in two views determine a line @xmath19 in @xmath17 , and one rapidly computes the three points in @xmath20 .",
    "the _ @xmath21-point radial distortion problem _ ( * ? ? ? * section 7.1.3 ) is modeled as follows in our setting .",
    "we duplicate the coordinates in the last row and last column of @xmath22 , and we  set @xmath23 here @xmath24 . the distortion variety @xmath25 is the closure of the set of matrices ( [ eq : intop14 ] ) where @xmath26 and @xmath27 .",
    "the variety @xmath25 has dimension @xmath21 and degree @xmath28 in @xmath29 , whereas @xmath16 has dimension @xmath30 and degree @xmath31 in @xmath17 . to estimate both @xmath5 and the relative camera positions , we now need eight image correspondences .",
    "these data specify a linear space @xmath7 of dimension @xmath32 in @xmath29 .",
    "the task in the computer vision application is to rapidly compute the @xmath28 points in @xmath33 .",
    "the prime ideal of the distortion variety @xmath25 is minimally generated by @xmath34 polynomials in the @xmath35 variables .",
    "first , there are @xmath35 quadratic binomials , namely the @xmath36-minors of matrix @xmath37 note that this matrix has rank @xmath38 under the substitution ( [ eq : intop14 ] ) .",
    "second , there are three cubics @xmath39 these three @xmath18-determinants replicate the equation that defines the original model @xmath16 .",
    "@xmath40    this paper is organized as follows .",
    "section [ sec2 ] introduces the relevant concepts and definitions from computer vision and algebraic geometry .",
    "we present camera models with image distortion , with focus on distortions with respect to a single parameter @xmath5 .",
    "the resulting distortion varieties @xmath41}$ ] live in the rational normal scroll @xmath42 , where @xmath43 is a vector of non - negative integers .",
    "this _ distortion vector _ indicates that the coordinate @xmath44 on @xmath45 is replicated @xmath46 times when passing to @xmath8 . in example  [ ex : intop14 ] we have @xmath47 and @xmath42 is the @xmath48-dimensional rational normal scroll defined by the @xmath36-minors of ( [ eq : hankel26 ] ) .    our results on one - parameter distortions of arbitrary varieties are stated and proved in section [ sec3 ] .",
    "theorem [ thm : degdis ] expresses the degree of @xmath41}$ ] in terms of the chow polytope of @xmath6 .",
    "theorem [ thm : mingens ] derives ideal generators for @xmath41}$ ] from a grbner basis of @xmath6 .",
    "these results explain what we observed in example [ ex : intop14 ] , namely the degree @xmath28 and the equations in ( [ eq : hankel26])-([eq : threedets ] ) .",
    "section [ sec4 ] deals with multi - parameter distortions .",
    "we first derive various camera models that are useful for applications , and we then present the relevant algebraic geometry .    section [ sec5 ] is concerned with a concrete application to solving minimal problems in computer vision .",
    "we focus on the distortion variety f+e+@xmath5 of degree @xmath49 derived in section  [ sec2 ] .",
    "this section has three parts .",
    "first , we derive the relevant camera models from computer vision .",
    "second , we introduce the distortion varieties @xmath41}$ ] of an arbitrary projective variety @xmath6 . and , third",
    ", we study the distortion varieties for the camera models from the first part .      a _ perspective camera _ in computer vision ( * ?",
    "* pg 158 ) is a linear projection @xmath0 .",
    "the @xmath50-matrix that represents this map is written as @xmath51 where @xmath52 , @xmath53 , and @xmath54 is an upper - triangular @xmath18 matrix known as the calibration matrix .",
    "this transforms a point @xmath55 from the world cartesian coordinate system to the camera cartesian coordinate system . here",
    ", we usually normalize homogeneous coordinates on @xmath56 and @xmath2 so that the last coordinate equals  @xmath38 . with this , points in @xmath57 map to @xmath58 under the action of the camera .",
    "the following camera model was introduced in  ( * ? ? ?",
    "* eqn  3 ) to deal with image distortions : @xmath59 the two functions @xmath60 and @xmath61 represent the distortion .",
    "the invertible matrix @xmath62 and the vector @xmath63 are used to transform the image point @xmath64 into the image cartesian coordinate system . the perspective camera in the previous paragraph is obtained by setting @xmath65 and taking the calibration matrix @xmath54 to be the inverse of @xmath66 .",
    "micusik and pajdla @xcite studied applications to fish eye lenses as well as catadioptric cameras . in this context",
    "they found that it often suffices to fix @xmath67 and to take a quadratic polynomial for @xmath68 .",
    "for the following derivation we choose @xmath69 , where @xmath70 is an unknown parameter .",
    "we also assume that the calibration matrix has the diagonal form @xmath71}}$ ] .",
    "if we set @xmath72 then the model ( [ eq : x=(h(au+b);g ) ] ) simplifies to @xmath73    let us now analyze two - view geometry for the model ( [ eq : second ] ) .",
    "the quantity @xmath74 is our distortion parameter . throughout the discussion in section [ sec2 ]",
    "there is only one such parameter .",
    "later , in section [ sec4 ] , there will be two or more different distortion parameters .    following @xcite we represent two camera matrices @xmath75 and @xmath76 by their _ essential matrix _ @xmath77 .",
    "this @xmath18-matrix has rank @xmath14 and satisfies the _ demazure equations_. the equations were first derived in  @xcite ; they take the matrix form @xmath78 . for a pair @xmath79 of corresponding points in two images , the _ epipolar constraint _",
    "now reads @xmath80 in this way , the essential matrix @xmath81 expresses a necessary condition for two points @xmath82 and @xmath83 in the image planes to be pictures of the same world point .",
    "the _ fundamental matrix _ is obtained from the essential matrix and the calibration matrix : @xmath84 using the coordinates of @xmath85^\\top$ ] and @xmath86^\\top$ ] , the epipolar constraint ( [ eq:0=x2tikteikx1 ] )  is      this is a sum of @xmath35 terms .",
    "the corresponding monomials in the unknowns form the vector @xmath88.\\ ] ] the @xmath35 coefficients are real numbers given by the data .",
    "the coefficient vector @xmath89 is equal to        at this stage we have derived the distortion variety in example [ ex : intop14 ] . identifying @xmath92 with the variables",
    "@xmath93 , the vector ( [ eq:15monomials ] ) is precisely the same as that in ( [ eq : intop14 ] ) .",
    "this is the parametrization of the rational normal scroll @xmath42 in @xmath29 where @xmath94 .",
    "the set of fundamental matrices is dense in the hypersurface @xmath95 in @xmath17 .",
    "its distortion variety @xmath41}$ ] has dimension @xmath21 and degree @xmath28 in @xmath29 .",
    "each point correspondence @xmath79 determines a vector @xmath96 and hence a hyperplane in @xmath29 .",
    "the constraint ( [ eq : cdotm ] ) means intersecting @xmath41}$ ] with that hyperplane .",
    "eight point correspondences determine a @xmath32-dimensional linear space in @xmath29 .",
    "intersecting @xmath41}$ ] with that linear subspace is the same as solving the @xmath21-point radial distortion problem in ( * ? ? ?",
    "* section 7.1.3 ) .",
    "the expected number of complex solutions is @xmath28 .",
    "this subsection introduces the algebro - geometric objects studied in this paper .",
    "we fix a non - zero vector @xmath97 of non - negative integers , we abbreviate @xmath98 , and we set @xmath99 .",
    "the _ rational normal scroll _",
    "@xmath100 is a smooth projective variety of dimension @xmath101 and degree @xmath102 in @xmath8 .",
    "it has the parametric representation @xmath103 the coordinates are monomials , so the scroll @xmath42 is also a toric variety @xcite .",
    "since @xmath104 equals @xmath105 , it is a variety of minimal degree ( * ? ? ?",
    "* example 1.14 ) .",
    "restriction to the coordinates @xmath106 defines a rational map @xmath107 .",
    "this is a toric fibration @xcite .",
    "its fibers are curves parametrized by @xmath5 .",
    "the base locus is a coordinate subspace @xmath108 .",
    "its points have support on the last coordinate in each of the @xmath101 groups .",
    "for instance ,",
    "in example [ ex:123 ] the base locus is the @xmath2 defined by @xmath109 in @xmath17 .",
    "the prime ideal of the scroll @xmath42 is generated by the @xmath36-minors of a @xmath110-matrix of unknowns that is obtained by concatenating hankel matrices on the blocks of unknowns ;  see  ( * ? ? ?",
    "* lemma 2.1 ) , @xcite , and example [ ex:123 ] below . for a textbook reference",
    "see ( * ? ? ?",
    "* theorem 19.9 ) .",
    "we now consider an arbitrary projective variety @xmath6 of dimension @xmath111 in @xmath45 .",
    "this is the underlying model in some application , such as computer vision .",
    "we define the _ distortion variety of level @xmath112 _ , denoted @xmath41}$ ] , to be the closure of the preimage of @xmath6 under the map @xmath113 .",
    "the fibers of this map are curves .",
    "the distortion variety @xmath41}$ ] lives in @xmath8 .",
    "it has dimension  @xmath114 .",
    "points on @xmath41}$ ] represent points on @xmath6 whose coordinates have been distorted by an unknown parameter @xmath5 .",
    "the parametrization above is the rule for the distortion . in other words ,",
    "@xmath41}$ ] is the closure of the image of the regular map @xmath115 given by ( [ eq : upara ] ) .",
    "each distortion variety represents a _ minimal problem _",
    "@xcite in polynomial systems solving .",
    "data points define linear constraints on @xmath8 , like ( [ eq : cdotm ] ) .",
    "our problem is to solve @xmath114 such linear equations on @xmath41}$ ] .",
    "the number of complex solutions is the degree of @xmath41}$ ] .",
    "a simple bound for that degree is stated in proposition [ prop : degdis ] , and an exact formulas can be found in theorem [ thm : degdis ] .",
    "of course , in applications we are primarily interested in the real solutions .      [ ex:123 ]",
    "let @xmath116 and @xmath117 .",
    "the rational normal scroll is a @xmath31-dimensional smooth toric variety in @xmath118 .",
    "its implicit equations are the @xmath119-minors of the @xmath120-matrix @xmath121 this is the `` concatenated hankel matrix '' mentioned above .",
    "its pattern generalizes to all @xmath112 .",
    "let @xmath6 be a general curve of degree @xmath111 in @xmath2 .",
    "the distortion variety @xmath41}$ ] is a surface of degree @xmath122 in @xmath17 .",
    "its prime ideal is generated by the @xmath35 minors of  ( [ eq : hankel26b ] ) together with @xmath114 polynomials of degree @xmath111 .",
    "these are obtained from the ternary form that defines @xmath6 by the distortion process in theorem [ thm : mingens ] . for special curves",
    "@xmath6 , the degree of @xmath41}$ ] may drop below @xmath122 .",
    "for instance , given a line @xmath123 in @xmath2 , the distortion surface @xmath41}$ ] has degree @xmath124 if @xmath125 , it has degree @xmath126 if @xmath127 but @xmath128 , and it has degree @xmath31 if @xmath129 .",
    "for any curve @xmath6 , the property @xmath130 } ) =   5 \\cdot { \\rm deg}(x)$ ] holds after a coordinate change in @xmath2 .",
    "if @xmath131 is a single point in @xmath132 then @xmath41}$ ] is a curve in @xmath17 .",
    "it has degree @xmath31 unless @xmath133 .",
    "@xmath40      in this subsection we describe several variants of example  [ ex : intop14 ] .",
    "these highlight the role of distortion varieties in two - view geometry .",
    "we fix @xmath15 , @xmath134 and @xmath47 as above .",
    "the scroll @xmath42 is the image of the map ( [ eq : intop14 ] ) and its ideal is generated by the @xmath36-minors of ( [ eq : hankel26 ] ) .",
    "each of the following varieties live in the space of @xmath18-matrices @xmath13 .",
    "[ ex : e ] we now write @xmath135 for the essential variety @xcite .",
    "it has dimension @xmath124 and degree @xmath136 in @xmath17 .",
    "its points @xmath22 are the essential matrices in ( [ eq:0=x2tikteikx1 ] ) .",
    "the ideal of @xmath135 is generated by ten cubics , namely @xmath137 and the nine entries of the matrix @xmath138 .",
    "the distortion variety @xmath139}$ ] has dimension @xmath32 and degree @xmath140 in @xmath29 .",
    "its ideal is generated by @xmath35 quadrics and @xmath34 cubics , derived from the ten demazure cubics .",
    "[ ex : g ] fix a diagonal calibration matrix @xmath141 , where @xmath142 is a new unknown .",
    "we define @xmath143 to be the closure in @xmath17 of the set of @xmath18-matrices @xmath22 such that @xmath144 for some @xmath142 . to compute the ideal of the variety @xmath143 , we use the following lines of code in the computer algebra system macaulay2  @xcite :    .... r = qq[f , x11,x12,x13,x21,x22,x23,x31,x32,x33,y13,y23,y33,y31,y32,z33,t ] ; x = matrix { { x11,x12,x13},{x21,x22,x23},{x31,x32,x33 } } k = matrix { { f,0,0},{0,f,0},{0,0,1 } } ; p = k*x*k ; e = minors(1,2*p*transpose(p)*p - trace(p*transpose(p))*p)+ideal(det(p ) )",
    "; g = eliminate({f},saturate(e , ideal(f ) ) ) codim g , degree g , betti mingens g ....    the output tells us that the variety @xmath143 has dimension @xmath32 and degree @xmath35 , and that @xmath143 is the complete intersection of two hypersurfaces in @xmath17 , namely the cubic @xmath145 and the quintic @xmath146 the distortion variety @xmath147}$ ] is now computed by the following lines in macaulay2 :      we learn that @xmath147}$ ] has dimension @xmath30 and degree @xmath148 in @xmath29 .",
    "modulo the @xmath35 quadrics for @xmath42 , its ideal is generated by three cubics , like those in ( [ eq : threedets ] ) , and five quintics , derived from ( [ eq : quintic ] ) .",
    "@xmath149    [ ex : gprime ] let @xmath150 denote the @xmath32-dimensional subvariety of @xmath17 defined by the four maximal minors of the @xmath151-matrix @xmath152 this variety has dimension @xmath32 and degree @xmath48 in @xmath17 .",
    "it is defined by one cubic and three quartics .",
    "the variety @xmath150 is similar to @xmath143 in example  [ ex : g ] , but with the identity matrix as the calibration matrix for one of the two cameras .",
    "we can compute @xmath150 by running the macaulay2 code above but with the line p = k*x*k replaced with the line p = x*k .",
    "this model was studied in @xcite .",
    "the distortion variety @xmath153}$ ] has dimension @xmath30 and degree @xmath154 in @xmath29 .",
    "modulo the @xmath35 quadrics that define @xmath42 , the ideal of @xmath153}$ ] is minimally generated by three cubics and @xmath155 quartics .",
    "@xmath149    table [ tab : comparison ] summarizes the four models we discussed in examples  [ ex : intop14 ] , [ ex : e ] , [ ex : g ] and [ ex : gprime ] .",
    "the first column points to a reference in computer vision where this model has been studied .",
    "the last column shows the upper bound for @xmath156})$ ] given in proposition [ prop : degdis ] . that bound is not tight in any of our examples . in the second half of the table we report the same data for the four models when only only one of the two cameras undergoes radial distortion",
    ".       * acknowledgement . *",
    "+ this project started at the _ algebraic vision _ workshop ( may 2016 ) at the american institute of mathematics ( aim ) in san jose .",
    "we are grateful to the organizers , sameer agarwal , max lieblich and rekha thomas , for bringing us together .",
    "joe kileel and bernd sturmfels were supported by the us national science foundation ( dms-1419018 ) .",
    "zuzana kukelova was supported by the czech science foundation ( gacr p103/12/g08 ) .",
    "part of this study was carried out while she worked for microsoft research , cambridge , uk .",
    "tomas pajdla was supported by h2020-ict-731970 ladio .",
    "m.  byrod , z.  kukelova , k.  josephson , t.  pajdla and k.  strm : _ fast and robust numerical solutions to minimal problems for cameras with radial distortion _ ,",
    "cvpr 2008  ieee conf . on computer vision and pattern recognition .",
    "e.  cattani , m.  a.  cueto , a.  dickenstein , s.  di rocco and b.  sturmfels : _ mixed discriminants _ , mathematische zeitschrift * 274 * ( 2013 ) 761778 .",
    "d.  cox , j.  little and h.  schenck : _ toric varieties _ , graduate studies in mathematics , 124 .",
    "american mathematical society , providence , ri , 2011 .",
    "d.  eisenbud and j.  harris : _ on varieties of minimal degree ( a centennial account ) _ , algebraic geometry , bowdoin , 1985 , proc .",
    "pure math . * 46 * , part 1 , amer .  math .",
    ", providence , ri , 1987 , pp .  313 .",
    "y.  kuang , j.e .",
    "solem , f.  kahl and k.  strm : _ minimal solvers for relative pose with a single unknown radial distortion _ , ieee conference on computer vision and pattern recognition ( cvpr ) , pp .  3340 , 2014 .",
    "z.  kukelova , m.  bujnak and t.  pajdla : _ automatic generator of minimal problem solvers _ , eccv 2008 - european conference on computer vision , lecture notes in computer science 5304 , pp .  302315 , springer 2008 .",
    "g.  newsam , d.  q.  huynh , m.  brooks and h.  p.  pan : _ recovering unknown focal lengths in self - calibration : an essentially linear algorithm and degenerate configurations .",
    ".  arch .",
    "photogrammetry & remote sensing , vol .",
    "xxxi - b3 , pp .  575580 , 1996 ."
  ],
  "abstract_text": [
    "<S> the distortion varieties of a given projective variety are parametrized by duplicating coordinates and multiplying them with monomials . </S>",
    "<S> we study their degrees and defining equations . </S>",
    "<S> exact formulas are obtained for the case of one - parameter distortions . </S>",
    "<S> these are based on chow polytopes and grbner bases . </S>",
    "<S> multi - parameter distortions are studied using tropical geometry . </S>",
    "<S> the motivation for distortion varieties comes from multi - view geometry in computer vision . </S>",
    "<S> our theory furnishes a new framework for formulating and solving minimal problems for camera models with image distortion . </S>"
  ]
}