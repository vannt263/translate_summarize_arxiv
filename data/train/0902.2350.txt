{
  "article_text": [
    "multi - particle green and vertex functions are an important tool for the theoretical analysis of interacting quantum systems in condensed matter physics .",
    "@xmath0-particle green functions contain the relevant information to compute @xmath0-particle properties of the system  @xcite .",
    "moreover , determining multi - particle functions may be an auxiliary step on the way to find the single - particle green function ( or an approximation to it ) and single - particle properties .",
    "for example , the functional renormalization group ( frg ) approach  @xcite leads to a system of flow equations which couples all @xmath0-particle functions with @xmath1 in an infinite hierarchy .",
    "depending on the particular frg scheme , these @xmath0-particle functions may be green or irreducible vertex functions .",
    "another example is given by diagrammatic resummation techniques based on the bethe - salpeter equations , such as fluctuation exchange  @xcite or parquet - equations  @xcite .",
    "for these approaches the preliminary task is to determine the irreducible two - particle vertex function , from which in turn the single - particle self - energy can be deduced .",
    "the methods mentioned above are typically used within zero - temperature or equilibrium formalism .",
    "calculations in equilibrium formalism are based on imaginary frequencies and require an analytic continuation to real frequencies in order to determine many physical observables of interest . at finite temperature ,",
    "such analytic continuation is numerically quite nontrivial even for a single frequency ( see e.g.  @xcite and references therein ) . therefore a formulation of the problem within the real - time ( real - frequency ) keldysh formalism  @xcite may be advantageous . beyond that",
    ", keldysh formalism allows for the description of nonequilibrium situations such as stationary state transport at finite bias voltage .",
    "a central ingredient of keldysh formalism is a time contour consisting of two branches , one of them describing evolution forward and the other backward in time . as a consequence of the existence of these two branches ,",
    "the @xmath0-particle green function is a tensor in @xmath2-dimensional space of rank @xmath3 , having @xmath4 components , each being a function of @xmath3 state indices and @xmath3 frequencies [ or @xmath5 frequencies in the case of time translational invariance ] .",
    "the resulting additional complexity of the formalism is however reduced due to the fact that the components are not independent from each other but obey certain relations connecting them . in this review ,",
    "we give a comprehensive and self - contained presentation of fundamental relations for the multi - particle green and vertex functions within keldysh formalism : the behaviour under exchange of particles and under complex conjugation , properties connected to causality and the kubo - martin - schwinger ( kms ) conditions characterizing thermal equilibrium .",
    "the special single - particle versions of these relations are commonly known , e.g. the fact that retarded and advanced single - particle green function are adjoint to each other , and the fluctuation dissipation theorem in thermal equilibrium .",
    "however , also the general multi - particle versions are required to adapt the above - mentioned methods to keldysh formalism , for instance for real time implementations of the frg , which have been initiated in  @xcite .",
    "some of the properties in question have been analysed in  @xcite for multi - point green functions based on real bosonic fields .",
    "the adaption of their results to condensed matter problems is far from being obvious due to two major complications .",
    "firstly , condensed matter problems usually involve complex bosonic or grassmann fermionic operators instead of real bosonic ones .",
    "this makes necessary a separate book - keeping of incoming and of outgoing indices ( corresponding to annihilation and creation operators ) instead of just one type of indices as for real bosons .",
    "additionally , due to the commutation relations of complex bosonic or grassmann fermionic operators , the initial order of a time - ordered operator product is relevant for the result , as opposed to real bosons .",
    "furthermore , the time reversal properties of the field operators which are important for the analysis of the kms conditions differ from those of real bosonic field operators .",
    "the second source of complication is due to the fact that condensed matter problems usually involve external potentials which lift diverse symmetries of the system .",
    "reference  @xcite implicitly assumes translational invariance in space and time and invariance under the product of time reversal and parity .",
    "these prerequisites , which considerably simplify the investigation of the kms conditions , are not given in typical condensed matter problems . despite these fundamental differences some of the concepts developed in references",
    "@xcite can be fruitfully adapted to our analysis .    in section  [ sec : system ] , we start by a short description of the physical situation under consideration .",
    "the set - up of an interacting quantum system coupled to a number of noninteracting reservoirs represents a typical stationary state configuration described in keldysh formalism .",
    "we continue by specifying precisely the definitions of the green and vertex functions in question in section  [ sec : def ] . here",
    "it is necessary to take care of the details ( like prefactor conventions ) since the exact form of the relations to be discussed depends on them .    in sections  [ subsec : permutation ] and",
    "[ subsec : conjugation ] we derive useful relations connected to the permutation of particles and to complex conjugation . section  [ subsec : causality ] focuses on a theorem of causality  @xcite which we cast in concise form . we show that this theorem has direct consequences for the analytic properties of the green and vertex functions in fourier space and identify components which are analytic in one half plane of each of their @xmath5 independent frequency arguments .",
    "remarkably , our derivation does not use the lehmann representation .",
    "this fact is highly advantageous due to the unwieldy form the latter acquires in the multiparticle case .",
    "section  [ sec : equilibrium ] is devoted to the special situation of thermal equilibrium .",
    "the fact that the density matrix then corresponds to a time evolution in imaginary time is at the root of the kms conditions  @xcite . in section  [ subsec : kms ] , we describe how to concisely formulate the multi - particle kms conditions exploiting the so - called tilde green function which is defined on the analogy of  @xcite by means of a non - standard ordering of operators on the keldysh contour .",
    "however , in order to extract useful information from the kms conditions , the tilde green function has to be eliminated in favour of the standard green function . in sections  [ subsec : time_reversal ] and  [ subsec : gen_fluc_diss ] we find that time reversal can be used for this purpose , an observation similar to the one of  @xcite for multi - point green functions based on real bosons . in section  [ subsec : time_rev_inv_gf ] we characterize an important class of systems ( including e.g. the anderson impurity model  @xcite ) with specific time reversal properties . for this class ,",
    "we formulate a multi - particle fdt in section  [ subsec : gen_fluc_diss_spec ] .",
    "finally we study under which conditions approximations to the green or vertex functions conserve the before - mentioned properties ( section  [ sec : approx ] ) .",
    "these conditions turn out to be quite handy for the large class of diagrammatic approximations . for approximations within the frg framework ,",
    "the choice of the flow parameter is found to be crucial for the conservation of causal features and of the kms conditions .",
    "the physical setup underlying our considerations is a finite interacting quantum system of a single kind of either bosonic or fermionic particles which is coupled to @xmath6 noninteracting reservoirs , @xmath7 .",
    "let @xmath8 be a basis of single - particle states which are either localized in the system ( states @xmath9 ) or in one of the reservoirs ( states @xmath10 , @xmath11 ) .",
    "we use the index @xmath12 to refer to any of those states .",
    "the total hamiltonian under consideration is given by @xmath13 with @xmath14 in standard notation of second quantitation .",
    "here @xmath15 are the matrix elements of the single - particle hamiltonian and @xmath16 denote the ( anti-)symmetrized matrix elements of the two - particle interaction , with @xmath17    at some initial time @xmath18 the whole configuration is assumed to be described by the density matrix @xmath19 where @xmath20 is the grand - canonical distribution of reservoir @xmath21 with temperature @xmath22 and chemical potential @xmath23 .",
    "keldysh formalism allows us to compute properties described by the density matrix @xmath24 , @xmath25 , which evolves unitarily from @xmath26 under the full hamiltonian @xmath27 given in   @xcite .    in the limit of an infinite reservoir size @xmath28 and an infinite transient time @xmath29 such that @xmath30 ( with @xmath31 being the particle velocity in the reservoir ) , expectation values under @xmath24 become stationary and do not depend on the initial density matrix @xmath32 of the finite interacting region",
    "we will restrict our considerations to this stationary situation .",
    "a particular stationary situation is a global equilibrium which occurs if all @xmath33 and @xmath23 are equal .",
    "we specialism to the equilibrium case in section  [ sec : equilibrium ] .",
    "the results found there are also applicable to interacting bulk systems ( that is large systems with the hamiltonian  ) in thermal equilibrium .",
    "the time- or frequency - dependent @xmath0-particle green function is defined by @xmath34 where @xmath35 , @xmath36 , @xmath37 and @xmath38 are multi - indices denoting state , time , frequency and branch of the time contour , respectively .",
    "the annihilation and creation operators @xmath39 and @xmath40 of a particle in the state @xmath41 obey standard commutation relations @xmath42_{-\\zeta }    =    a_{q_1 } a^\\dagger_{q_2 } - \\zeta a^\\dagger_{q_2 } a_{q_1 }    =    \\delta_{q_1,q_2 } ,    \\label{eq : comm_rel }    \\\\    \\label{eq : comm_rela }    [ a_{q_1 } , a_{q_2}]_{-\\zeta }    =    [ a^\\dagger_{q_1 } , a^\\dagger_{q_2}]_{-\\zeta }    =     0,\\end{aligned}\\ ] ] and @xmath43 denotes an annihilation operator at time @xmath44 in the heisenberg picture with reference time @xmath18 .",
    "the operator is situated on the branch @xmath45 of the time contour  @xcite .",
    "the contour ordering operator @xmath46 in   rearranges the sequence of operators in the following way : all operators with @xmath47-index are placed left of all operators with @xmath48-index .",
    "the block of operators with @xmath47-index is anti - time ordered internally ( which means time arguments of the @xmath47-operators increase from left to right ) , whereas the block of operators with @xmath48-index is time ordered ( which means time arguments of the @xmath48-operators decrease from left to right ) . by definition of @xmath46",
    "the expression ordered in this way has to be multiplied by a factor @xmath49 , if it represents an odd permutation of the initial order given in  .",
    "the branches of the contour are depicted in figure  [ fig : contour ] where also an example for the order established by @xmath46 is given .",
    "the expectation value in   is defined by @xmath50 with @xmath26 being the density operator at time @xmath51 . in",
    "we used the shorthand notation @xmath52 .",
    "- and the @xmath47-branch with some example operators @xmath53 . the time ordering operator @xmath46 will establish the order @xmath54 .",
    "the operator @xmath55 used in the definition   of the tilde green function will establish the order @xmath56 . ]",
    "due to the time translational invariance of the stationary state , the @xmath0-particle green function can be expressed as a function of only @xmath5 independent time or frequency arguments .",
    "for example @xmath57 and @xmath58 can be eliminated by @xmath59 however , many of the properties discussed in the following are formulated most easily when all time and frequency arguments are treated on equal footing . therefore we will use the reduced number of frequency arguments only occasionally , e.g. for the study of analytic properties in section  [ subsec : causality ] .    apart from green functions we will also discuss the properties of one - particle irreducible vertex functions .",
    "these vertex functions can be derived from a generating functional called effective action which is the legendre transform of the generating functional for the connected green functions .",
    "details on this path - integral approach to the irreducible vertex functions can be found for matsubara formalism e.g. in  @xcite and for keldysh formalism in  @xcite . since we do not need any recourse to the generating functionals in the following , we choose an equivalent way to introduce the vertex functions which is based on a diagrammatic expansion .    to set up a standard hugenholtz diagrammatic technique  @xcite for a problem with instantaneous two - particle interaction @xmath60",
    ", we define the ( anti-)symmetrized interaction vertex @xmath61 or , in fourier space , @xmath62 with @xmath63 given by  .",
    "since a single hugenholtz vertex incorporates both the direct and exchange feynman vertices , this diagrammatic language is especially concise in formulation . according to wick s theorem ,",
    "the @xmath0-particle green function can be expanded into a sum of diagrams which consist of lines representing the noninteracting one - particle green function @xmath64 and of interaction vertices  @xcite .    for the discussion of the vertex function",
    "we will restrict ourselves to the frequency representation .",
    "the ( anti-)symmetrized irreducible @xmath0-particle vertex function @xmath65 can be defined diagrammatically as the sum of all one - particle irreducible diagrams with @xmath0 amputated incoming lines ( having state , frequency and contour indices @xmath66 ) and @xmath0 amputated outgoing lines ( having indices @xmath67 ) . in order to evaluate a given diagram , one determines first the symmetry factor @xmath68 which is defined as the number of permutations of vertices mapping the diagram onto itself .",
    "then one chooses arbitrarily at each vertex the order in which the attached incoming ( outgoing ) lines are assigned to the incoming ( outgoing ) indices of the vertex .",
    "this order should be kept fixed during the further evaluation .",
    "let @xmath69 count the pairs of equivalent lines in the diagram , where two lines are called equivalent if they connect the same vertices and run in the same direction .",
    "one can define @xmath70 to be the number of internal loops made up from internal propagators .",
    "( inside a given vertex @xmath71 we assume that one line continues from @xmath72 to @xmath73 and the other continues from @xmath2 to @xmath74 . ) finally , the incoming line @xmath21 being connected to the outgoing line @xmath75 via internal lines and vertices determines a permutation @xmath76 of @xmath77 . the value of the diagram is then given by @xmath78    \\prod g^{(0)},\\ ] ] where one has to integrate over all internal frequencies and sum over all internal states and contour indices .",
    "due to the ( anti-)symmetrization of the vertex in  , the overall sign of the diagram is actually independent of the chosen assignment of lines to indices at each vertex .",
    "an example for the application of the diagram rule is given in figure  [ fig : diagr_rule ] .",
    "the hartree - fock contribution to the one - particle vertex depicted in figure  [ fig : diagr_rule ]  ( d ) for instance is evaluated as @xmath79    .",
    "diagram ( a ) contributes to the two - particle vertex function .",
    "it has one pair of equivalent lines , @xmath80 , and no symmetries , @xmath81 .",
    "( b ) and ( c ) show two possible , equivalent ways to assign the lines to the indices of the vertices . in ( b )",
    "the vertex at the bottom e.g. is @xmath82 , and @xmath83 , @xmath84 . in ( c )",
    "the vertex at the bottom is @xmath85 , and @xmath86 , @xmath87 .",
    "compared to ( b ) , three of the four vertices acquire a factor @xmath49 ; taking into account the prefactor @xmath88 the possibilities ( b ) and ( c ) hence lead to the same value of the diagram .",
    "the hartree - fock diagram ( d ) ( @xmath89 , @xmath90 ) contributes to the one - particle vertex , that is the self - energy .",
    "the figure shows the evaluation with vertex @xmath91 and @xmath92 . ]",
    "given time translational invariance one often works with vertex functions depending on @xmath5 frequencies only , e.g. @xmath93 . the full vertex function",
    "is then given by @xmath94 the diagrams for @xmath95 typically consist of single - particle green functions depending on a single frequency [ occurring in the second line of  ] and of frequency independent vertices [ the part @xmath96 of  ] .",
    "when evaluating such diagrams , the factor @xmath97 in   has to be replaced by @xmath98 and @xmath99 by @xmath100 . for the hartree - fock diagram in figure  [ fig : diagr_rule ]",
    "( d ) e.g. this yields @xmath101    equation   defines the prefactor of the vertex functions in such a way , that they can be used themselves as vertices in diagrams with the identical prefactor rules being applicable as for the bare @xmath0-particle interaction vertices .",
    "the self - energy is equal to the one - particle vertex , @xmath102 .    in the one - particle case",
    "it is common to call the components of the green and vertex function chronological , lesser , greater and antichronological , @xmath103 respectively .",
    "apart from the contour basis with indices @xmath45 we will use the keldysh basis  @xcite with indices @xmath104 whose components have a direct physical interpretation in terms of response and correlations  @xcite .",
    "the transformation to the keldysh basis is defined by a change of operators , @xmath105 the green and vertex functions change according to the tensor transformation laws , @xmath106 where an implicit summation over all internal indices is assumed , and @xmath107    in the particular case of one - particle functions , we have @xmath108 where the retarded , advanced and keldysh component of the green function and the self - energy are given by @xmath109_{-\\zeta } \\big \\rangle ,    \\\\    g^{\\ensuremath{\\mathrm{av}}}_{q|q'}(t|t ' )     & =     \\rmi \\theta(t'-t )     \\big \\langle \\big [ a_q(t ) , a_{q'}^\\dagger(t')\\big]_{-\\zeta } \\big \\rangle ,    \\\\    g^{\\ensuremath{\\mathrm{k}}}_{q|q'}(t|t ' )     & =    - \\rmi \\big \\langle \\big [ a_q(t ) , a_{q'}^\\dagger(t')\\big]_{\\zeta } \\big \\rangle,\\end{aligned}\\ ] ] and @xmath110 here we use `` @xmath111 '' as a shorthand for summation over internal states and integration over internal times , @xmath112    when discussing the kms condition in section  [ subsec : kms ] we will need yet another type of green function , the so - called tilde green function which we define on the analogy of  @xcite .",
    "it is given by @xmath113 which differs from   and   only by the other ordering operator @xmath55 .",
    "like @xmath46 , @xmath55 places all operators with @xmath47-index left of all operators with @xmath48-index .",
    "however , under @xmath55 the block of operators with @xmath47-index is time ordered internally , whereas the block of operators with @xmath48-index is anti - time ordered .",
    "again , if the final order is an odd permutation of the initial one it has to be multiplied by a factor @xmath49 .",
    "an example for the order established by @xmath55 is given in figure  [ fig : contour ] .",
    "for the one - particle case it is straightforward to check the identity @xmath114 where a bar over a contour index indicates a swap of the branch , @xmath115 for @xmath116 .",
    "however , in the general multi - particle case there is no direct possibility to express the tilde green function through an ordinary green function since the orders established by @xmath46 and @xmath55 are inherently different ; we will need to make use of time reversal to connect both quantities , see section  [ subsec : time_reversal ] .",
    "a direct consequence of having a special relation for @xmath117 is the particular structure of the single - particle fdt , see section  [ subsec : fluc_diss ] .",
    "this section is devoted to properties of the green and vertex functions which are valid in a general steady state , whereas section  [ sec : equilibrium ] focuses on the particular case of thermal equilibrium .",
    "we will derive the properties of the green functions starting out from   and  .",
    "once we know a certain relation for the green function we can study its implications for the amputated irreducible diagrams , the values of which are given by  .",
    "this will allow us to infer a corresponding relation for the irreducible vertex functions .",
    "let @xmath76 be a permutation of @xmath118 and for any multi - index @xmath119 define @xmath120 .",
    "the prefactors @xmath49 due to time ordering in   and due to permutations in   entail @xmath121 the identical equations hold after transforming to the keldysh basis .",
    "the contour indices @xmath122 are merely to be replaced by keldysh indices @xmath123 .",
    "conjugating   interchanges creation and annihilation operators and reverses the order of operators .",
    "the reversed order is identical to the order obtained by @xmath46 when each contour index @xmath124 is swapped to its opposite value @xmath125 .",
    "therefore , we find @xmath126 with @xmath127 and @xmath128 .",
    "note that the parity of the permutation needed to establish the order according to @xmath46 is identical for @xmath129 and @xmath130 . hence no additional sign prefactors are required in  .",
    "fourier transformation leads to @xmath131    in order to derive the corresponding identity for the vertex function we discuss how to conjugate the individual diagrams which the vertex function is composed of and whose values are given by  .",
    "the noninteracting single - particle green functions entering the expression   can be conjugated according to  .",
    "the conjugation rule for the bare two - particle interaction vertices in expression   is inferred from their definition   to be @xmath132 where we make use of @xmath133 in the first step . applying   and   to the conjugate of   we find that complex conjugation maps one - to - one the diagrams contributing to @xmath134 onto those of @xmath135 .",
    "the precise relationship can be deduced from the fact that an amputated @xmath0-particle diagram comprising @xmath136 two - particle vertices contains @xmath137 free propagators , and is found to be @xmath138    when transforming to the keldysh basis via   and   we use that @xmath139 is real and fulfils the relation @xmath140 which follows from    .",
    "we find @xmath141 for the one - particle functions , equations   and   yield the well - known relations @xmath142",
    "@xmath143      consider the green function @xmath144 with fixed sets of times @xmath36 , @xmath145 , where @xmath57 happens to be the greatest time argument , @xmath146 . in this case",
    "the order of operators established by @xmath46 is independent of the contour index @xmath147 : given @xmath148 , @xmath149 is sorted to the leftmost position of all operators with @xmath48-index ; given @xmath150 , @xmath149 is sorted to the rightmost position of all operators with @xmath47-index which is exactly the same place in the total expression as for @xmath148 . as a consequence @xmath151",
    "this property is at the heart of a theorem of causality which emerges after transforming   to the keldysh basis .",
    "let us first transform only the contour index @xmath147 to the keldysh basis : @xmath152    g^{- , j_2 \\ldots j_n|j'}(t|t ' ) ,    \\qquad \\mbox{if }    \\quad    t_1 > t_2 , \\ldots , t_n'.\\end{aligned}\\ ] ] for @xmath153 we can use @xmath154 to see that   vanishes . after transforming the remaining contour indices to the keldysh basis , we find @xmath155 the same line of argument holds if any other time from @xmath156 is the maximum time . [ if the maximum time is one of @xmath157 we use @xmath158 instead of  . ]",
    "this leads us to the following _ theorem of causality _",
    "@xcite : the green function @xmath159 vanishes if the keldysh index associated with the strictly greatest time argument equals  @xmath72 . ( the theorem does not apply when multiple time arguments have simultaneously the maximum value .",
    "however , this particular configuration has a vanishing measure in the @xmath3-dimensional time space . )    a special case is given when all keldysh indices equal  @xmath72 , @xmath160    if only one of all keldysh indices equals @xmath2 the corresponding time argument has to be the greatest one for a nonvanishing green function .",
    "this has a direct impact on the analytic properties of the green function in frequency space as we will show now .",
    "consider the green function @xmath161 with all keldysh indices being @xmath72 except for @xmath162 . due to the theorem of causality @xmath163",
    "is nonvanishing only for @xmath164 . for the fourier transform",
    "this means that the integration range of @xmath165 is bounded from above by @xmath57 , @xmath166 @xmath167 decays if any of @xmath168 , only the decay for @xmath169 will create poles ( branch - cuts ) in the upper half plane ( uhp ) of @xmath170 .",
    "however , the green function will be analytic in the lower half plane ( lhp ) of these frequencies since nonanalytic features in the lhp corresponding to decays in the limit @xmath171 do not appear due to the restriction @xmath172 .",
    "in the same way , @xmath173 can be proven to be analytic in the uhp of @xmath174 .",
    "the differing half planes of analyticity for the @xmath175 and @xmath176 stem from the different sign conventions for @xmath177 and @xmath178 in the exponential @xmath179 of the fourier transform .",
    "the same line of argument holds if any other keldysh index from @xmath180 equals @xmath2 , the rest being @xmath72 .",
    "hence we can formulate a _ theorem of analyticity _ : the green functions @xmath181 are analytic in the lhp of the frequencies @xmath182 and analytic in the uhp of the frequencies @xmath183 .",
    "these @xmath3 special green functions describe higher order response functions .",
    "being formulated for bosons in time space , they are correspondingly given by the expectation value of a series of nested commutators  @xcite .",
    "the irreducible vertex functions obey a _ theorem of causality _ as well : the vertex function @xmath184 vanishes if the keldysh index associated with the strictly greatest time argument equals 2 .",
    "the proof of this theorem is based on the structure of the diagrams contributing to @xmath184 .",
    "consider such a one - particle irreducible diagram @xmath185 and suppose e.g. @xmath162 .",
    "we show that a nonvanishing contribution to the diagram necessitates that at least one time argument from @xmath186 is greater or equal @xmath57 .",
    "the diagram is composed of bare two - particle vertices which are connected by internal propagators .",
    "the vertices and propagators contribute to the value of the diagram multiplicatively , as described in  . some of the vertices have one or two amputated external lines which correspond to the indices of the diagram . when transformed to the keldysh basis , the bare two - particle vertex given in   acquires the form @xmath187 according to this equation all four time arguments of a given vertex are equal .",
    "therefore the vertex carrying @xmath57 as external time argument has its other three time arguments equal to @xmath57 as well .",
    "if there is an external one among those three , then @xmath57 is not the strictly greatest external time argument .",
    "let us now suppose that the other three time arguments are internal ones .",
    "as @xmath162 , at least one of the vertex three internal keldysh indices equals @xmath72 , see equation  .",
    "there is an internal one - particle green function attached to this keldysh index @xmath72 . at its other end",
    "this green function is attached to a keldysh index @xmath2 ( since @xmath188 ) and a time @xmath189 ; this follows from the theorem of causality for the green functions .",
    "actually all four time arguments of the vertex attached to the back - end of the green function are equal to @xmath189 . if there is an external one among them , then @xmath57 is again not the strictly greatest external time argument .",
    "if not , this vertex also has as least one keldysh index equal to  @xmath72 .",
    "again there is attached a one - particle green function leading to a vertex with time @xmath190 .",
    "we can proceed in this way until we arrive finally at a vertex with time @xmath191 which carries an external time argument .",
    "this external time argument @xmath192 concludes our proof .",
    "( there is the possibility that we never end at a vertex with an external line because we can get trapped in a loop of internal vertices with identical time arguments ; this case however is of measure zero and vanishes when integrated over internal time arguments . )",
    "we mention two consequences of the theorem of causality for the vertex function which can be derived in the same way as their counterparts for the green functions .",
    "first we conclude that @xmath193 second , we get a _ theorem of analyticity _ , namely that the @xmath3 vertex functions @xmath194 are analytic in the lhp of the frequencies @xmath195 and analytic in the uhp of the frequencies @xmath196 .",
    "for the special case of one - particle functions , the causality properties reduce to the well - known statements @xmath197 and @xmath198 is analytic in the uhp of @xmath178 , @xmath199 is analytic in the lhp of @xmath177 , @xmath200 is analytic in the uhp of @xmath177 , @xmath201 is analytic in the lhp of @xmath178 .",
    "we now focus on the case that the temperatures @xmath22 and chemical potentials @xmath23 which determine the reservoir density matrices @xmath202 in   are all equal , @xmath203 in the limits of infinite reservoir size and infinite transient time , the system is then described by a global equilibrium distribution : @xmath204 with the static equilibrium density matrix @xmath205 here @xmath27 is the total hamiltonian   including the quantum system , reservoirs and coupling , and @xmath206 is the total particle number , which is conserved , @xmath207 = 0 $ ] . a proof of   for coordinate space green functions has been given recently in  @xcite for the particular case of a spin impurity model .    in the present section",
    "we imply   to hold and can therefore replace the expectation value   used in   and   by @xmath208 where the heisenberg picture now has the reference time @xmath209 .",
    "we just described how a thermal equilibrium situation is generated by the coupling to large equilibrated reservoirs . in this way , equilibrium and the stationary nonequilibrium introduced in section  [ sec : system ]",
    "are embedded in a common framework .",
    "however , the following discussion holds also for equilibrium interacting bulk systems .",
    "the only preconditions are the equations   and  , where @xmath27 is the total hamiltonian .      any operator @xmath210 in the heisenberg picture fulfils @xmath211 using the cyclic property of the trace , we can reshuffle two operators at times @xmath212 , @xmath213 in a correlation function , @xmath214 we are going to apply this relation , also known as kubo - martin - schwinger ( kms ) condition  @xcite , to the @xmath0-particle green function . given a set of contour indices @xmath215 and times @xmath36 define @xmath216 as the set of times obtained from @xmath217 by adding @xmath218 to every @xmath44 with @xmath219 .",
    "for example , given @xmath220 and @xmath221 , we have @xmath222 .",
    "let us prescribe that @xmath46 orders operators with complex time arguments according to the real parts of their time arguments .",
    "identifying @xmath223 in   with the block of anti - time ordered operators from the @xmath47-branch and @xmath224 with the block of time ordered operators from the @xmath48-branch , we find @xmath225 with @xmath226 being defined in   and @xmath227 denoting the excess of creation over annihilation operators on the @xmath47-branch , @xmath228 the factor @xmath229 in   is due to the different parity of the permutations which are required to sort @xmath230 according to @xmath46 and to sort @xmath231 according to @xmath232 . this difference can be computed from the number @xmath233 of pairwise swaps of adjacent operators needed to exchange the ordered block of operators from the @xmath47-branch with the ordered block of operators from the @xmath48-branch , @xmath234    \\left [      \\sum_{k : j'_k = - } 1 + \\sum_{k : j_k = - } 1    \\right].\\ ] ] in   we have used that @xmath235 which is a consequence of having an even number @xmath3 of indices .",
    "the rewriting in terms of @xmath227 turns out to be more convenient in the following computation .",
    "when transforming   to fourier space , we substitute on the left hand side @xmath236 , @xmath237 for all time arguments on the @xmath47-branch and find @xmath238    \\left[\\prod_{k : j'_k = + } \\rmd t'_k \\right ]    \\\\",
    "\\label{eq : kms_freq_pre }    \\fl    \\hspace{5em }    \\times    \\int_{-\\infty}^{\\infty }    \\left[\\prod_{k : j_k = - } \\rmd t_k \\right ]    \\left[\\prod_{k : j'_k = - } \\rmd t'_k \\right ]    \\rme^{\\rmi(\\omega \\cdot t - \\omega ' \\cdot t ' ) }    g^{j|j'}_{q|q'}(t|t ' )    =    \\zeta^{m^{j|j ' } }    \\widetilde g^{\\bar j| \\bar{j'}}_{q|q'}(\\omega|\\omega'),\\end{aligned}\\ ] ] where @xmath239 is defined as @xmath240 as next step we shift the path of integration for all time arguments on the @xmath47-branch by @xmath241 on the left hand side of   in order to obtain a standard fourier integral along the real axis .",
    "this simultaneous shift of integration paths actually does not change the value of the integral , as we explain now . in principle",
    "the shift of a single time argument will change the value of the integral because @xmath144 is in general not analytic in any single @xmath44 or @xmath242 ; branch - cuts occur due to changed time ordering whenever a creation and annihilation operator of the same state and on the same branch of the contour have coinciding real parts of their time arguments .",
    "suppose e.g. there exist @xmath243 with @xmath244 and @xmath245 , that is an annihilation and a creation operator of the same state @xmath246 are both situated on the @xmath47-branch .",
    "for real times @xmath247 with @xmath248 approaching @xmath249 from above , @xmath250 , the contour ordered operator product appearing in   will have the structure @xmath251 where the dots represent the other operators and a prefactor @xmath49 if necessary .",
    "but for @xmath248 approaching @xmath249 from below , @xmath252 , the structure is @xmath253 \\ldots.\\ ] ] here we use the commutation relation  .",
    "the results   and   differ by @xmath49 so that the green function is discontinuous in @xmath248 . when complex time arguments are allowed for , the discontinuity is stretched to a branch - cut in the complex @xmath248-plane as sketched in figure  [ fig : branch_cut ] .     and",
    "a creation operator at time @xmath249 are of the same state and are situated on the same branch of the contour , then the green function @xmath254 has a branch - cut along @xmath255 . in this case the fourier integrals of @xmath254 over @xmath248 along the paths @xmath256 and @xmath257 are not equal . ]",
    "however , we do not only shift the integration path of a single time argument but those of all time arguments on the @xmath47-branch simultaneously . if the dependence on the @xmath258 time arguments on the @xmath47-branch is expressed through a centre time @xmath259\\ ] ] and @xmath260 relative times , then @xmath261 is analytic in @xmath262 : a simultaneous change of all times on the @xmath47-branch by the same value does not affect time ordering . hence by shifting the integration path of @xmath262 while keeping all relative times unchanged we do not alter the value of the integral .",
    "( note that the dependence on the relative time arguments might remain nonanalytic . )",
    "therefore equation   is equivalent to @xmath263      equation   formulates a relation between @xmath261 and @xmath226 .",
    "since @xmath226 is a rather artificial object of no direct practical use , it is desirable to eliminate it from   in favour of @xmath261 .    in the one - particle case",
    ", we can make use of   and obtain @xmath264 plugging in @xmath265 yields four equations , two of them being tautologies and the other two being equivalent to @xmath266 the green functions depend only on one frequency argument due to time translational invariance .",
    "a transformation to the keldysh basis yields the well - known fdt , which formulates a relation between the correlation function @xmath267 and the response functions @xmath268 and @xmath269 , @xmath270    \\left[g^{\\ensuremath{\\mathrm{ret}}}(\\omega ) -g^{\\ensuremath{\\mathrm{av}}}(\\omega ) \\right].\\ ] ] here @xmath271 is the bose ( @xmath272 ) or fermi ( @xmath273 ) function , and @xmath274    the fdt for the self - energy can be obtained by combining   with    , @xmath275    \\left[\\sigma^{\\ensuremath{\\mathrm{ret}}}(\\omega ) -\\sigma^{\\ensuremath{\\mathrm{av}}}(\\omega ) \\right].\\ ] ] transforming this result to the contour basis leads to an analogue of  , @xmath276      a direct generalization of   to the multi - particle case does not exist . in order to eliminate @xmath277 from",
    ", we should resort to time reversal .",
    "the time reversal operator @xmath278 is antiunitary , that is @xmath279 and @xmath280 ; for details see e.g.  @xcite .",
    "its action either on a single - particle state @xmath281 in the eigenbasis of position and @xmath282 component of spin or on a state @xmath283 in the eigenbasis of momentum and @xmath282 is given by @xmath284 since the vacuum state @xmath285 is time reversal invariant , @xmath286 , the transformation of creation and annihilation operators turns out to be @xmath287 explicitly , in the position or momentum basis it reads @xmath288 we will designate a time reversed state @xmath12 or operator @xmath223 by a tilde , @xmath289    if @xmath290 is a complete set of orthonormal many - body states , so is @xmath291 .",
    "( completeness of @xmath291 follows from @xmath292 \\vert \\phi \\rangle    =    \\sum_s \\langle s \\vert \\theta \\psi \\rangle \\langle \\theta \\phi \\vert    s \\rangle    =    \\langle \\theta \\phi \\vert \\theta \\psi \\rangle    =    \\langle \\psi \\vert \\phi \\rangle,\\ ] ] which holds for any @xmath293 .",
    ") hence , for any operator @xmath223 @xmath294 the time reversed density matrix is given by @xmath295 with @xmath296 where we used @xmath297 . hence @xmath298    applying time reversal to an operator in the heisenberg picture yields @xmath299 where the subscript @xmath300 indicates that time evolution is induced by @xmath301 on the right hand side .    from  ,   and   we conclude for the @xmath0-particle tilde green function defined in   that @xmath302^\\ast \\nonumber    \\\\    & = ( -\\rmi)^n \\big [ \\tr \\rho_{\\widetilde h } t_{\\ensuremath{\\mathrm{c } } } \\ , a_{\\widetilde      q_1}^{(j_1)}(-t_1)\\big|_{\\widetilde h } \\ldots a_{\\widetilde      q_1'}^{(j'_1)\\ , \\dagger}(-t'_1)\\big|_{\\widetilde h } \\big]^\\ast    \\nonumber    \\\\    & = ( -1)^n \\left[g^{j|j'}_{\\widetilde q|\\widetilde        q'}(-t|-t')\\big|_{\\widetilde h } \\right]^\\ast \\nonumber    \\\\    & = g^{\\bar { j'}|\\bar j}_{\\widetilde q'|\\widetilde q}(-t'|-t )    \\big|_{\\widetilde h}.    \\label{eq : gf_time_reversal}\\end{aligned}\\ ] ] here @xmath303 , and in the last two lines",
    "the subscript @xmath300 indicates that both the time evolution and the equilibrium density matrix are determined by @xmath301 . for the very last step , we use the rule for complex conjugation formulated in  . in fourier",
    "space , equation   reads @xmath304      unlike the property   of @xmath226 which is restricted to the one - particle case , equation   holds for any @xmath0 and provides a general possibility to eliminate @xmath226 from  . using it we find @xmath305 which is a generalization of   to arbitrary particle number @xmath0 .",
    "we recover formula   from   by means of @xmath306 which follows from combining the fourier transform of   with  .",
    "if one transforms equation   to the keldysh basis , the result can be considered as a multi - particle fdt since the components of the multi - particle green functions in the keldysh basis have a distinct interpretation in terms of response and correlation functions  @xcite .",
    "we perform this transformation in section  [ subsec : gen_fluc_diss_spec ] , restricting ourselves to a class of physically interesting systems which allow for certain simplifications of the multi - particle fdt .    before deriving an @xmath0-particle identity for the vertex function analogous to",
    ", we note that the bare two - particle interaction vertex given by   satisfies @xmath307 in the case @xmath308 this equation is automatically fulfilled because both quantities equal zero . for @xmath309 equation   states",
    "@xmath310 which follows from @xmath311 where @xmath312 .    with help of   we can now prove the identity @xmath313 by identifying one by one the diagrams contributing to each side of it .",
    "the values of the individual diagrams are given by  .",
    "the prefactors @xmath314 and @xmath315 appearing in   can be split and distributed among the noninteracting single - particle green functions and bare two - particle vertices in   by making use of the properties @xmath316 which can be easily generalized to mixed particle numbers and chains of arbitrary length , like e.g. @xmath317 according to   and   the constituents of both sides of   can then be readily identified .      for a further evaluation of   and",
    ", we should establish how the system behaves under time reversal .",
    "we restrict the following discussion to the class of systems which satisfy @xmath318 for all indices and time arguments .",
    "note that equation   is not only a condition on the hamiltonian but also on the basis of single - particle states .",
    "we mention some examples which demonstrate the extent of this class of systems .",
    "a trivial example for the validity of   is given when the hamiltonian and the single - particle states are time reversal invariant .",
    "as a less trivial example we consider the single impurity anderson model ( siam ) @xcite in a magnetic field @xmath224 .",
    "this model consists of an electronic impurity with on - site interaction which is coupled to a conductor .",
    "the corresponding hamiltonian reads @xmath319      +    u a^\\dagger_\\uparrow a_\\uparrow a^\\dagger_\\downarrow a_\\downarrow.\\end{aligned}\\ ] ] here @xmath320 denote the eigenvalues of the single - particle spin @xmath282 , and @xmath321 are creators and annihilators of states in the conductor .    as a single - particle basis to be used in   we choose the common eigenbasis of position and @xmath282 , @xmath322 , where the values of @xmath323 are considered to label the states of both the conductor and the impurity .",
    "in order to verify   for this hamiltonian and this choice of basis , we make use of the unitary transformation @xmath324 rotating spin space by @xmath325 around the @xmath326-axis , @xmath327 being the @xmath326-component of the total spin , @xmath328 using   and the fact that @xmath329 and @xmath330 do not depend on the sign of @xmath331 in  , we find @xmath332 since a combination of   and   yields additionally @xmath333 we conclude @xmath334 with @xmath335 .",
    "in   we exploit that the green function is nonvanishing only for @xmath336 due to spin conservation .",
    "it is straightforward to derive from  ,   and   that @xmath337 [ note that   holds in general for any unitary operator @xmath338 . ] combining   and   we conclude that the condition   is fulfilled for the impurity model   and the single - particle basis @xmath339 .",
    "on the full analogy it can be shown that   is also valid for this impurity model and the single - particle basis @xmath340 . in    , @xmath338 simply has to be replaced by @xmath341 , where @xmath342 is the parity transformation , @xmath343    as an example of a system which does not fulfil   we consider the hamiltonian @xmath344 ^ 2}{2 m } a_{\\bi{x}}\\ ] ] for spinless particles with charge @xmath345 moving in the field of a vector potential @xmath346 .",
    "let us choose the position eigenstates as the single - particle basis .",
    "since @xmath347 we conclude that for a generic vector potential @xmath348 obviously , equation   does not hold for this choice of hamiltonian and single - particle basis .",
    "when relation   holds , equation   takes the form @xmath349 additionally , equation   can be expanded in orders of the two - particle interaction . from the first - order term of this expansion of the two - particle green function , we infer that the bare two - particle interaction vertex complies with @xmath350 when combined with   it brings about the identity @xmath351 similarly to the derivation of   we deduce from   and   that @xmath352 it is convenient to combine   and   with   and  , respectively , in order to obtain the equations @xmath353 where state indices and frequency arguments are now identical on both sides .",
    "we are going to transform   and   to the keldysh basis in order to achieve a multi - particle fdt . in",
    "what follows the state indices are omitted for brevity . according to @xmath354 every component of @xmath355",
    "is expressed as a certain linear combination of components of @xmath356 .",
    "let us define @xmath357 for @xmath358 ( cf .",
    "it is obvious that @xmath359 using the relations @xmath360 which follow from    , we find additionally that @xmath361 plugging   and   into   and splitting the latter into the real and the imaginary parts we obtain @xmath362 where @xmath363 utilizing   we finally achieve the representation @xmath364     \\operatorname{re}g^{j|j'}_{- \\epsilon_n^{j|j'}}(\\omega|\\omega ' ) ,    \\\\",
    "\\label{eq : fluct_diss_gen_im }    \\operatorname{im}g^{j|j'}_{- \\epsilon_n^{j|j'}}(\\omega|\\omega ' )    =    - \\big[1 + \\zeta 2 n_\\zeta\\big(\\delta^{j|j'}(\\omega|\\omega')\\big )    \\big ]   \\operatorname{im}g^{j|j ' } _ { \\epsilon_n^{j|j'}}(\\omega|\\omega').\\end{aligned}\\ ] ] these two equations express relations between certain linear combinations of the components of @xmath356 . since the components of @xmath356 can be understood in terms of higher order response and correlation functions  @xcite , equations   and   constitute a multi - particle fdt .",
    "both equations can be evaluated for @xmath4 different realizations of the indices @xmath365 . however , the underlying equation   is equivalent for @xmath355 and for @xmath366 as can be inferred from @xmath367 and @xmath368",
    ". therefore only half of the @xmath4 equations   are independent .",
    "the same applies to  .    for bosons the function @xmath369 diverges in the special case @xmath370 ( which occurs for",
    "all contour indices being @xmath48 or all being @xmath47 ) , and one then should rather use   and   with @xmath371 = 1 $ ] and @xmath372 = 0 $ ] instead of   and  .",
    "the transformation of   to the keldysh basis is completely analogous to that of  . defining for @xmath358 @xmath373 we end up with @xmath374     \\operatorname{re}\\gamma^{j'|j}_{- \\epsilon_1^{j'|j}}(\\omega'|\\omega ) ,    \\\\",
    "\\label{eq : fluct_diss_gen_vert_im }    \\operatorname{im}\\gamma^{j'|j}_{- \\epsilon_1^{j'|j}}(\\omega'|\\omega )    =    - \\big[1 + \\zeta 2 n_\\zeta\\big(\\delta^{j'|j}(\\omega'|\\omega)\\big )    \\big ]     \\operatorname{im}\\gamma^{j'|j } _ { \\epsilon_1^{j'|j}}(\\omega'|\\omega),\\end{aligned}\\ ] ] where @xmath375 [ cf .  ] . like in the case of green functions ,",
    "each of equations   and   contains only @xmath376 independent relations .",
    "let us illustrate equations  ,   and  ,   by some examples .",
    "in the one - particle case , @xmath117 , we evaluate   and   for @xmath377 and @xmath378 . since @xmath379 and @xmath380 , we have @xmath381 furthermore , we use @xmath382 and the representation of the one - particle green function @xmath383",
    ". then equations   and   evaluated for @xmath384 read @xmath385    =    - \\left[1 + \\zeta 2 n_\\zeta ( \\omega-\\mu ) \\right ]    \\operatorname{re}g^{\\ensuremath{\\mathrm{k}}}(\\omega )     = 0 ,    \\\\",
    "\\operatorname{im}\\left[g^{\\ensuremath{\\mathrm{av } } } ( \\omega ) + g^{\\ensuremath{\\mathrm{ret } } } ( \\omega ) \\right ]    = 0 ,    \\\\",
    "\\operatorname{im}g^{\\ensuremath{\\mathrm{k } } } ( \\omega )    =    - \\left[1 + \\zeta 2 n_\\zeta ( \\omega-\\mu ) \\right ]    \\operatorname{im}\\left[g^{\\ensuremath{\\mathrm{av } } } ( \\omega ) - g^{\\ensuremath{\\mathrm{ret } } } ( \\omega ) \\right ] .",
    "\\label{eq : fluc_diss_gen_1p_4}\\end{aligned}\\ ] ] these formulae obviously reproduce   and   under the additional constraint @xmath386 which follows from the special one - particle property   and the assumption  .    evaluating   and   for the one - particle vertex ( the self - energy ) ,",
    "leads to a result similar to    : one only needs to replace @xmath261 therein by the self - energy @xmath387 .",
    "for @xmath388 the complete set of relations for the green functions is obtained by evaluating   and   for eight independent choices for @xmath389 from 16 existing possibilities .",
    "let us for example discuss the three particular combinations @xmath390 . since @xmath391 equations   and   read @xmath392 @xmath393     \\operatorname{re}g^{-+|--}_-(\\omega_1,\\omega_2|\\omega'_1,\\omega'_2 ) ,     \\\\",
    "\\fl    \\operatorname{im}g^{-+|--}_-(\\omega_1,\\omega_2|\\omega'_1,\\omega'_2 )     =    - \\big[1 + \\zeta 2 n_\\zeta(-\\omega_2 + \\mu ) \\big ]     \\operatorname{im}g^{-+|--}_+(\\omega_1,\\omega_2|\\omega'_1,\\omega'_2 ) , \\end{aligned}\\ ] ] @xmath394     \\operatorname{re}g^{--|++}_{-\\zeta}(\\omega_1,\\omega_2|\\omega'_1,\\omega'_2 ) ,     \\\\    \\fl    \\operatorname{im}g^{--|++}_{-\\zeta}(\\omega_1,\\omega_2|\\omega'_1,\\omega'_2 )     =    - \\big[1 + \\zeta 2 n_\\zeta(\\omega'_1 + \\omega'_2 - 2 \\mu ) \\big ]     \\operatorname{im}g^{--|++}_\\zeta(\\omega_1,\\omega_2|\\omega'_1,\\omega'_2 ) .",
    "\\end{aligned}\\ ] ] the functions @xmath395 appearing in these equations can be found by explicit evaluation of   with help of    .",
    "this results in @xmath396 @xmath397 @xmath398",
    "in practice the green and vertex functions can often be computed only in approximations . in this section ,",
    "we address the question whether such approximations are consistent with the exact relations presented in this review .",
    "since the answer depends on the details of the corresponding method , we have to restrict ourselves to specific approximation schemes .",
    "first we discuss the large class of diagrammatic approximations , and then we analyse approximations within the framework of the frg .",
    "many of the approximations used to compute the green or vertex functions are given by taking into account only a subset of all diagrams contributing to that function .",
    "this may be either a finite set like in perturbation theory or an infinite one like in the random phase approximation .",
    "we call this approach a diagrammatic approximation and assume that apart from choosing only a subset of diagrams no further approximation is done . since all discussed relations are linear in the vertex functions it follows that if two distinct diagrammatic approximations satisfy a given relation each , so does their sum .    consider a diagrammatic approximation to a multi - particle green or vertex function .",
    "the condition for the approximation to fulfil the relation   or   under permutations of particles is that the set of diagrams taken into account is invariant under those permutations .",
    "for instance neither of the diagrams in figure  [ fig : approx ] alone fulfils the relation  .",
    "the approximation given by the sum of diagram ( a ) and ( b ) in figure  [ fig : approx ] satisfies a part of  , namely @xmath399 the same is true for the sum of ( c ) and ( d ) .",
    "the sum of ( a ) and ( c ) satisfies @xmath400 so does the sum of ( b ) and ( d ) .",
    "the sum of ( a ) and ( d ) satisfies @xmath401 as does the sum of ( b ) and ( c ) .",
    "only the sum of all four diagrams fulfils the complete relation  . in practice one",
    "will exploit the symmetry imposed by   to reduce the number of components which have to be evaluated directly .",
    "for instance , it would be sufficient to calculate one of the four diagrams in figure  [ fig : approx ] and use the result to derive the other three diagrams via  .    .",
    "the external indices represent contour index , state and frequency , e.g. @xmath402 . ]    since complex conjugation of a green function interchanges creation and annihilation operators it reverses the direction of lines in diagrams .",
    "this results in the following criterion for a diagrammatic approximation to comply with equation   or   [ or equivalently   or  ] : the set of diagrams taken into account has to be invariant under reversion of the directed lines combined with the simultaneous exchange of the external indices @xmath122 with @xmath403 , @xmath12 with @xmath404 , and @xmath177 with @xmath178 . for example , reversing the direction of all lines in figure  [ fig : approx ]  ( a ) and interchanging @xmath72 with @xmath73 and @xmath2 with @xmath74 reproduces the same diagram .",
    "hence , an approximation to the two - particle vertex function consisting only of this single diagram complies with  .",
    "the same holds for figure  [ fig : approx ]  ( d ) . the diagram in figure  [ fig : approx ]  ( b )",
    "is mapped onto that of figure  [ fig : approx ]  ( c ) by complex conjugation and vice versa . the approximation given by their sum fulfils  .",
    "similarly to the rules for permutation of particles , one will use   or   in practice in order to reduce the number of components one has to evaluate directly .",
    "the theorem of causality for the vertex function has been proven in section  [ subsec : causality ] for each single diagram ; the theorem of analyticity is a direct consequence of it . therefore , both theorems hold in any diagrammatic approximation to the vertex functions .",
    "given the causal features of the noninteracting single - particle green function , the theorem of causality for the interacting multi - particle green function can also be proven to hold for any single diagram .",
    "the proof is analogous to the one for the diagrams of vertex functions given in section  [ subsec : causality ] .",
    "that s why the theorems of causality and analyticity for the green functions hold in any diagrammatic approximation as well .",
    "the proof of the kms condition   for the vertex functions has been performed diagram per diagram .",
    "the same applies to the special form   which brings about   and  .",
    "hence   and  ,   hold in any diagrammatic approximation to the vertex functions . again",
    ", an analogous proof for the diagrams of the interacting green function can be formulated , showing that equations  , , and   hold in any diagrammatic approximation to the green functions .",
    "while diagrammatic approximations automatically preserve causality and the kms conditions , these features can be much more difficult to maintain in other approximation schemes .",
    "we briefly sketch complications for the frg approach which is based on introducing a flow parameter @xmath405 into the free single - particle green functions ; typically this is done in such a way that degrees of freedom at energies below @xmath405 are suppressed in order to regularize low energy divergencies which may arise in perturbation theory .",
    "the vertex functions , expressed as functionals of the free single - particle green functions , depend on @xmath405 and can be computed as solutions of a coupled set of flow equations @xcite .",
    "let us consider the flow of the one - particle irreducible vertex functions @xmath406 governed by the hierarchy of the frg equations @xmath407",
    "+ ( g_{\\lambda } \\leftrightarrow s_{\\lambda } ) \\right\\ } , \\label{eq : frg2 } \\\\",
    "\\fl \\ldots , \\label{eq : frg3}\\end{aligned}\\ ] ] where @xmath408 , and the multi - indices @xmath409 and @xmath410 comprise frequency ( time ) argument as well as the state and the keldysh indices ; a summation convention applies to multi - indices appearing twice in a product .",
    "the dots in   represent the flow equations for @xmath411 .",
    "the notation @xmath412 stands for the so - called single scale propagator which is defined by @xmath413 the equations     can be systematically obtained from the vertex generating functional explicitly depending of the flow parameter @xmath405 @xcite .",
    "an equivalent derivation is based on a purely diagrammatic approach @xcite in which @xmath405 is explicitly introduced into the free propagators @xmath64 .",
    "since the flow of @xmath406 is determined by @xmath414 and @xmath415 , the exact flow equations  ( [ eq : frg1][eq : frg3 ] ) form an infinite coupled hierarchy .",
    "the final solution of the full hierarchy is exact and therefore satisfies all relations discussed in the previous sections .",
    "however , in nontrivial practical problems one can not solve the full hierarchy but has to resort to approximations . typically one truncates the hierarchy of flow equations which means setting @xmath416 for some @xmath0 , such that the flow equations for @xmath417 form a finite closed set .",
    "then it is no longer guaranteed that the final solution of the truncated flow equations satisfies the exact relations in question .",
    "it turns out that the choice of the flow parameter has a decisive influence on their conservation .",
    "while arbitrary choices of the flow parameter do not affect the properties under permutation of particles and complex conjugation , special care is required in order to maintain the theorem of causality and the kms conditions .",
    "assuming that the only approximation done to the flow equation is a truncation of the hierarchy we find the following sufficient conditions for the construction of conserving flow parameters .",
    "( 1 ) if the free propagator @xmath418 furnished with the flow parameter @xmath405 satisfies the theorem of causality , then the vertex functions resulting from a truncated set of flow equations fulfil the theorem of causality throughout the flow and in the final solution . (",
    "2 ) if @xmath418 satisfies the fluctuation dissipation theorem   ( with the factor @xmath419 $ ] not depending on @xmath405 ) then the vertex functions resulting from a truncated set of flow equations fulfil the kms conditions throughout the flow and in the final solution .    for the proof of these rules we recall that the theorem of causality and the kms conditions for the vertex functions have been derived in sections  [ subsec : causality ] and  [ subsec : gen_fluc_diss ] for each single contributing diagram on the basis of the corresponding property of the free propagator @xmath64 . in reference",
    "@xcite the flow equations for the vertex functions have been derived from the individual diagrams contributing to @xmath420 , which contain lines @xmath418 and one line @xmath421 . if @xmath418 and @xmath421 satisfy the theorem of causality , then the same arguments as applied in section  [ subsec : causality ] can be used to prove the theorem of causality for each single diagram contributing to @xmath422 .",
    "truncating flow equations means taking into account only a subset of these diagrams and it thus has no influence on the conservation of causality during the flow .",
    "note that the theorem of causality for @xmath421 follows from that of @xmath418 since the derivative is a linear operation . concerning the kms conditions we can argue analogously .    as examples for these considerations we discuss different flow parameters used in the literature and propose also a new one . in reference",
    "@xcite the flow parameter is introduced into the free green function by setting @xmath423 since the step function @xmath424 has a branch - cut along the imaginary axis of @xmath425 , the analytic properties of @xmath426 are in contradiction to the theorem of causality : @xmath426 being nonanalytic in the upper half plane implies that @xmath427 does not vanish for @xmath428 . as a consequence",
    "the vertex functions constructed from diagrams with lines given by @xmath418 instead of @xmath64 do not exhibit the correct causal features . when the exact rg flow stops at @xmath429 , causality is restored due to @xmath430 .",
    "however , for nontrivial models the flow equations for the vertex functions can be solved only approximately . restoring causality for approximate solutions of the flow equations",
    "was encountered as a major difficulty in reference  @xcite .",
    "this problem can be solved if one chooses a flow parameter such that @xmath426 has the same analytic features as @xmath431 .",
    "then the causal features of the vertex functions are preserved during all the rg flow , even for truncated flow equations .",
    "an example of such a flow parameter is the imaginary frequency cut - off proposed in reference  @xcite which manipulates the particle distribution functions of the reservoirs by @xmath432 where @xmath433 or @xmath434 denote the matsubara frequencies for bosons or fermions , respectively .",
    "this cut - off affects only the keldysh component of the free single - particle green function , but not the retarded or advanced ones which contain only dynamical but no statistical information , @xmath435 .",
    "hence , the causal properties of free single - particle green function are unchanged and causal features of the vertex functions are conserved . however , since the @xmath405-dependent distribution function in   is not the thermal one , the single - particle green function @xmath418 does not fulfil the fluctuation dissipation theorem for @xmath436 . as a consequence",
    "the kms conditions for the vertex functions are not satisfied until the exact flow terminates at @xmath437 .",
    "solvable approximations to the flow equations will in general not restore the kms - conditions even at @xmath437 .",
    "( the simple static approximation used in reference  @xcite yet satisfies the kms - conditions in a trivial way . )",
    "examples of flow parameters which violate neither causality nor the kms conditions are given by the momentum cut - off and by the hybridization of the system and reservoirs .",
    "the momentum cut - off is introduced for extended systems by defining @xmath438 where the wave number @xmath21 labels a single - particle eigenstate with eigenenergy @xmath439 .",
    "obviously , this cut - off does not affect the frequency dependence of @xmath64 ; hence , it preserves causality and the kms conditions .",
    "we propose to use hybridization as a flow parameter which is useful for local systems coupled to external reservoirs . after integrating out reservoir states",
    ", the green function of a local system acquires a reservoir broadening @xmath440 . for example , the reservoir - dressed green function of the siam defined in reads @xmath441 where @xmath442 and chemical potential @xmath443 .",
    "the flow parameter @xmath405 is then associated with an additional broadening due to a coupling to the fictitious reservoir , so that @xmath444    \\left[g_{\\sigma;\\lambda}^{(0 ) { \\ensuremath{\\mathrm{ret}}}}(\\omega )      -g_{\\sigma;\\lambda}^{(0 ) { \\ensuremath{\\mathrm{av}}}}(\\omega ) \\right ] .",
    "\\label{eq : g0lamk}\\end{aligned}\\ ] ] in the beginning of the flow at @xmath445 , the free propagator is suppressed and the vertex functions are identical to their bare values ( except for the self - energy which acquires a final contribution from the hartree - fock diagram , @xmath446 ) . in the end of the flow at @xmath437 the fictitious reservoir",
    "is decoupled , and we restore the original system . since @xmath418 in ( [ eq : g0lamret][eq : g0lamk ] ) satisfies the theorem of causality and the fluctuation dissipation theorem , causality and the kms conditions of the vertex functions are preserved during the flow , even when the flow equations are truncated .",
    "a detailed study of the siam on basis of the hybridization flow is presented in  @xcite , where it is also generalized to nonequilibrium situations .",
    "currently the interest in nonequilibrium dynamics and in the crossover between equilibrium and nonequilibrium properties is enormously increasing in the field of condensed matter physics .",
    "keldysh formalism provides the possibility to treat equilibrium and nonequilibrium quantum systems on equal footing .",
    "numerous equilibrium techniques based on green or vertex functions benefit a lot from adaptation to keldysh formalism",
    ". for its correct implementation the knowledge of real time ( frequency ) features of the multi - component green and vertex functions appears to be mandatory .",
    "the present review lists general properties of these functions in equilibrium and nonequilibrium stationary state .    the relations for the green functions have been derived directly from their definition as expectation value of contour ordered operator product .",
    "the corresponding equations for the vertex functions have been obtained from the rules for the evaluation of irreducible diagrams .",
    "we have surveyed the relations for permutations of particles  ( [ eq : g_permute],[eq : gamma_permute ] ) and complex conjugation  ( [ eq : gf_conj_cont],[eq : vert_conj_cont ] ) and cast them into the form convenient in practical use . in section  [ subsec : causality ] we have formulated the causality theorem and identified the components of the green and vertex functions which are analytic in a certain half plane of the corresponding frequency arguments .",
    "these analytic features should be maintained throughout any approximation to the green and vertex functions , otherwise the fundamental property of causality is violated .",
    "a major part of the review has been devoted to the study of the kms conditions which hold in equilibrium .",
    "we have worked out the constraints which equilibrium imposes on the multi - particle functions .",
    "they are given by the relationships  ( [ eq : gen_fluc_diss],[eq : gen_fluc_diss_vert ] ) to the multi - particle functions of the time reversed system .",
    "the connection to the fdt for single - particle functions has been extensively discussed . in particular",
    "we have determined the reason for its special form   for @xmath117 : it follows from the peculiar single - particle property  .",
    "furthermore , we identified an important class of systems with special behaviour   under time reversal which allow for a simplified formulation  ( [ eq : fluct_diss_gen_re],[eq : fluct_diss_gen_im],[eq : fluct_diss_gen_vert_re],[eq : fluct_diss_gen_vert_im ] ) of the multi - particle fdt .",
    "finally we discussed how the properties in question relate to diagrammatic approximations and to approximations within the frg . for diagrammatic approximations we found that the set of diagrams taken into account should be invariant under permutations within the incoming and within the outgoing external indices and invariant under reversal of the directed lines .",
    "then the relations for permutation of particles and complex conjugation hold and reduce considerably the number of independent components which simplifies a treatment of a problem .",
    "causal features and kms conditions are preserved automatically in any diagrammatic approximation .",
    "however , approximations to the flow equations of the frg often destroy causality and the kms conditions .",
    "these properties can be preserved when the flow parameter is appropriately chosen in such a way that it respects the corresponding properties of the noninteracting single - particle green function .",
    "thanks f  reininghaus , u  heinz and e  wang for helpful discussions .",
    "this work was supported by the dfg - forschergruppe  723 .",
    "99                              kubo r 1957 statistical - mechanical theory of irreversible processes : i.  general theory and simple applications to magnetic and conduction problems _ j.  phys .",
    "japan _ * 12 * 57086 kubo r 1966 the fluctuation - dissipation theorem _ _ * 29 * 25584"
  ],
  "abstract_text": [
    "<S> the increasing interest in nonequilibrium effects in condensed matter theory motivates the adaption of diverse equilibrium techniques to keldysh formalism . for methods based on multi - particle green or vertex functions </S>",
    "<S> this involves a detailed knowledge of the real - time properties of those functions . in this review , </S>",
    "<S> we derive general properties of fermionic and bosonic multi - particle green and vertex functions for a stationary state described within keldysh formalism . </S>",
    "<S> special emphasis is put on the analytic properties associated with causality and on a detailed discussion of the kubo - martin - schwinger conditions which characterize thermal equilibrium . </S>",
    "<S> finally we describe how diagrammatic approximations and approximations within the functional renormalization group approach respect these properties . </S>"
  ]
}