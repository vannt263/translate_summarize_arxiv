{
  "article_text": [
    "here i discuss the general ( physical ) scheme of the series of event generators dy_ab , concentrating specifically on the last version of this code dy_ab5 .",
    "the event generator dy_ab5 is a generator of dilepton drell - yan events@xcite in hadron - hadron , hadron - nucleus and hadron-(partly polarized molecular target ) collisions .",
    "it is aimed at fast preliminary simulation of that subset of drell - yan experiments , where    \\(i ) the center of mass energy is `` intermediate '' ( from a few to some tenths gev ) ;    \\(ii ) the projectile may be any light hadronic species ( charged pion , proton , antiproton ) , possibly polarized ;    \\(iii ) the target is in general a molecular species , with partial normal polarization of some of its component nuclei ;    \\(iv ) the final leptons present azimuthal asymmetries and these asymmetries are the goal of the measurement .",
    "several experimental proposals have been presented or are in preparation in this field@xcite .",
    "the main difficulty of such experiments is the need to select regions of the overall phase space where the event rates are small ( in particular : transverse momentum over 2 gev / c ) , and where two event numbers ( e.g. : before / after reversing spin ) must be compared to identify small asymmetries .",
    "it is essential to understand from the very beginning which overall event numbers are needed to reach a satisfactory population of the interesting subregions .",
    "the here discussed code is aimed at such `` preliminary '' investigations , for experimental planning only .",
    "since it is based on strong phenomenological components , it is not suitable as it is for theoretical analysis at quark - parton level .    up to date",
    ", five ( private ) versions of this code , named dy_ab1 , 2 , 3 , 4 , and 5 , have been used and tested by the author and by other users both for phenomenological publications@xcite and for exploratory simulations aimed at experimental proposals@xcite ( see e.g. @xcite , @xcite ) .",
    "the latest release dy_ab5 is public .",
    "this code is not a multi - purpose code .",
    "its main advantages are in its specificity , and are : ( i ) easy insertion of new parametrizations for distribution functions associated with azimuthal asymmetries , ( ii ) easy control and modification of the code , ( iii ) possibility of simultaneous treatment of events in the collins - soper reference frame and in the fixed target or collider frame , ( iv ) fast generation of events , ( v ) satisfactory phenomenological reproduction of transverse momentum distributions .    the present note is not the `` readme '' handbook of the code . the code itself is normally accompanied by a readme file supplying user help . here",
    "i discuss the physical scheme used for the event generation .",
    "this is inspired by the parton model , but some simplifications or phenomenological parameterizations have been introduced into the standard relations for the cross section .",
    "the reasons behind these simplifications are two :    \\(i ) this code is not aimed at improving the theoretical understanding of quark - quark interactions ; it is used for reproducing as realistic as possible event distributions and associated errors , in measures where some gross features of the data are already well known , while other ones are largely unknown .",
    "\\(ii ) at the present stage , the real point is to understand whether or not certain measurements will be possible , or at which extent they will be possible .",
    "this requires a huge amount of exploratory simulations , to be run in the smallest possible time and with the maximum possible flexibility .",
    "i hope this presentation clarifies in which frameworks the code can be used , or should not be used .",
    "this code has been written in c++ since the first version .",
    "it began as a toy model drell - yan generator , aimed at fast exploratory simulation for the drell - yan measurement within the panda experiment@xcite .",
    "after the very first applications , the number of options has increased exponentially .",
    "it was initially used by people of some experimental collaborations , in a form that permitted them to handle input in a simple way , assuming that they would not need touching the code .",
    "this has shown to be unrealistic .",
    "on the other side , unrealistic as well has been the hope that people could be made able to modify the code themselves , without interacting at all with the author . and",
    "also attempts to organize a `` once and for all '' form of the code have failed , just for the fact that the field is quickly evolving . for example",
    ", it is difficult to find a `` universal '' form for the new distribution functions that one could like to insert in the next five years .",
    "so , the general idea is that apart for a central core of classes / functions there is nothing sacred in the code structure , and that users should be able to modify the code via an as small as possible interaction with the author .",
    "the first versions like dy_ab1 fully exploited the possibility of writing complex hierarchies , offered by c++ . in dy_ab4",
    "this structured form was abandoned , but for efficiency purposes massive use was made of pointers .",
    "dy_ab4 is well tested , and is the most efficient code of this series .",
    "a short presentation of this code may be found in @xcite .",
    "its main disadvantage was hard readability , since to increase efficiency it exploited systematically the fortran - style technique of organizing big data structures , with functions working on these data without explicitly getting them as arguments ( the `` common '' areas in fortran ; in c++ the same is obtained via pointers to data classes ) .",
    "the absence of explicit arguments in the function calls makes the code hierarchy difficult to see at first reading .",
    "dy_ab5 is less efficient ( about 30 % more time - consuming ) .",
    "the advantage is that it is much easier to read and modify ( pointers have mostly disappeared ) .",
    "it offers more pre - cooked options as far as unpolarized and single - polarization drell - yan are concerned .",
    "this code typical cycle consists of the following steps :    \\1 ) random event generation in the collins - soper frame for a specified class of projectile and of target hadrons ( e.g. negative pion and polarized proton ) .",
    "\\2 ) transformation of these events first to the hadronic center of mass frame ( `` collider frame '' ) , and next to the fixed target frame .",
    "\\3 ) loop over events taking into account the composition of the ( molecular ) target in terms of different nuclei .",
    "\\4 ) if required , a number of repetitions of a multi - event simulation is performed , possibly with spin reversal .",
    "\\5 ) if required , statistical analysis of azimuthal asymmetries is performed , calculating averages and fluctuations of the results obtained in the simulations of step ( 4 ) .    here",
    "i discuss the general problems and some implementation detail connected with steps ( 1 ) and ( 2 ) .",
    "the exact and complete cross sections on which the event generation is based may be found in @xcite . there ,",
    "two simulation schemes are compared .",
    "dy_ab5 is based on what is named `` scheme ii '' in ref.@xcite .",
    "an alternative code has been prepared by this author , based on `` scheme i '' , and in @xcite the differences in the outcome are shown . also , the reasons are discussed why `` scheme i '' is more proper and supposed to take over in the long run , but not yet well suited given the present state of the art on the phenomenology side .",
    "formulas reported in @xcite and implemented in dy_ab5 are rather long . here",
    ", a simplified version of these relations is discussed , to clarify the general cross section form , the main approximations contained in it , and the way the code exploits it .    in the language of @xcite `` scheme i '' is the parton model cross section for drell - yan events with most of the necessary details :",
    "several products of distribution functions associated with unpolarized and polarized partons and hadrons , and with all quark and antiquark flavors , are summed .",
    "`` scheme ii '' exploits some more approximations : ( i ) a cumulative event distribution is factorized out of the sum of all terms .",
    "this distribution is built by a set of simplified parton distribution functions @xmath2 , and is phenomenological in the transverse momentum dependence .",
    "( ii ) generalizing an approximation method that may be found e.g. in@xcite all the least known distribution functions @xmath3 ( those associated with azimuthal asymmetries ) are expressed as ratios @xmath4 .",
    "( iii ) each such @xmath4 term is added to the sum , `` valence - weighted '' by ratios like 4/9 etc .",
    "the relations discussed in the following may be found , e.g. , in @xcite and @xcite .",
    "the problem is that in these two works several of such relations assume systematically different forms .",
    "since this difference is present in all the relevant literature , we name these two works `` ref.a '' and `` ref.b '' and systematically report the differences .",
    "i name `` mass '' @xmath5 the invariant mass of the lepton pair ( it is also named @xmath6 in some references ) .",
    "the indexes `` 1 '' and `` 2 '' represent the target and beam hadrons .",
    "the drell - yan differential cross section can be written in an approximate factorized way , inspired by the parton model ( see @xcite , chapter 5 , and refs.a and b ) :    @xmath7    or equivalently in the form    @xmath8    as customary , @xmath9 is the squared invariant mass of the two colliding hadrons .",
    "@xmath10 the scaling assumption means that the only dependence of eq(1 ) or ( 2 ) on @xmath9 should be contained in the @xmath11 term .",
    "@xmath12 and @xmath13 are invariant adimensional variables associated with the beam - axis momentum projection , and with the virtuality , of the virtual photon produced in @xmath14 @xmath15 @xmath16 @xmath17 @xmath18 @xmath15 @xmath19 @xmath17 @xmath18 @xmath15 @xmath20 .",
    "the pair @xmath13 , @xmath12 can be substituted by the equivalent pair @xmath21 , @xmath22 .",
    "then @xmath23 and @xmath24 are related by a jacobian factor .",
    "the definition of @xmath13 , @xmath12 , @xmath21 and @xmath22 is given below , where it requires some discussion .",
    "@xmath25 is the transverse @xmath26dimensional component of the 4-momentum of the virtual photon , with respect to the beam axis .",
    "( it is also named @xmath27 , or @xmath28 ) .",
    "the angular variables @xmath29 , @xmath30 , @xmath31 appearing in @xmath32 are measured in a reference frame where the virtual photon is at rest . in this frame",
    "@xmath29 and @xmath30 are the polar and azimuthal angles of the momentum of one of the two muons , while @xmath31 is the azimuthal angle of the target spin .",
    "these variables are discussed later , in the paragraph on the angular distributions .    in the right hand sides of equations ( 1 ) and",
    "( 2 ) @xmath33 and @xmath34 differ because of the direct substitution @xmath13 @xmath35 @xmath36 , @xmath12 @xmath37 @xmath38 , and because @xmath33 @xmath37 @xmath39 , where @xmath40 is the jacobian of the coordinate transformation between @xmath41 and @xmath42 .    the coefficient @xmath43 @xmath37 @xmath44 is normally named `` k - factor '' and is predicted to be 1 in the parton model . actually it is neither 1 nor constant ( it is @xmath45 2 ) .",
    "traditionally @xmath43 contains all the parton model violations , which are so kept apart from the rest of the cross section .",
    "summarizing the pqcd corrections into a single @xmath46depending factor is at a certain extent justified for @xmath13 far from its kinematic boundaries 0 and 1 ( see @xcite , subsections 5.2 , 5.3 , 5.5 , and @xcite ) , and for moderate transverse momenta @xmath1 m. at these conditions the parton - parton @xmath17 @xmath47 cross section is dominated by those terms where @xmath18 subtracts no invariant mass from the parton - parton @xmath17 @xmath19 transition predicted in the plain parton model .    the above cross section factorization is formally exact within the parton model , but in the above reported form it hides that @xmath48 is ( weakly ) dependent on @xmath13 and @xmath12 , and that @xmath32 depends on @xmath21 , @xmath22 , @xmath49 , @xmath5 .    in the code these dependencies have been taken into account .",
    "the previous equations are however written in such a way to focus on the @xmath50 variable hierarchy that allows for a kinematic separation of the @xmath24 , @xmath51 and @xmath52 contributions ( see e.g. refs.a and b for examples of the experimental procedure to extract these terms from incomplete phase space ) :    \\(i ) @xmath53 does not depend on @xmath49 and on the angular variables , so for any assigned @xmath54 ( or equivalently , @xmath55 ) it can be calculated from the cross section integrated over all the @xmath56 phase space and summed over spin ;    \\(ii ) @xmath48 @xmath57 @xmath58 does not depend on the angular variables , so it can be determined by @xmath59 integration plus a sum over spin .",
    "the function @xmath48 and @xmath60 are defined so that @xmath61 integrating over all the phase space , for any given @xmath31 .",
    "so the total @xmath62 is just the integral of @xmath63 .",
    "we can describe the meaning of @xmath13 and @xmath12 by the following relations :    @xmath65    @xmath66    @xmath67 is the ratio of the virtual photon virtuality @xmath68 to its kinematic maximum @xmath9 , reached in an exclusive @xmath69 annihilation into dilepton .",
    "@xmath12 is approximately the ratio of the beam axis component of the virtual photon momentum ( in the hadron collision cm ) to its kinematic maximum .",
    "the precise definition of @xmath12 is not univoque in the literature , as discussed below .",
    "whatever the exact definition , @xmath12 and @xmath13 are normally defined as @xmath70 scalar functions of the projectile and target four - momenta .",
    "alternatively , they can be substituted by their combinations @xmath21 , @xmath22 , whose approximate meaning is the ratio of the longitudinal component of each of colliding quarks to the parent hadron momentum in the reaction cm : @xmath71    for @xmath21 and @xmath22 several definitions can be found , all approximately equivalent at large @xmath9 and @xmath5 .",
    "these definitions fall into two groups : ( a ) `` theoretical '' definitions , given in terms of the ( unmeasured ) light cone momenta of the colliding quarks ; ( b ) `` experimental '' definitions ( as in ref.a or b ) , which express @xmath21 and @xmath22 as combinations of the ( measured ) variables @xmath13 and @xmath12 . in the `` theoretical '' case , @xmath72 is the ratio of the large light - cone component of the @xmath73quark momentum to the corresponding component of the momentum of its parent hadron . for a rigorous theoretical definition of @xmath21 and @xmath22 see e.g. @xcite .    in the high energy limit experimental definitions",
    "are supposed to reproduce the corresponding theoretical ones , so to access approximately to the quark momenta . it must be remarked that this is @xmath74 the situation , in the some portions of the kinematic range considered here .",
    "the definition of @xmath13 is the same in refs.a and b , and seemingly `` @xmath13 '' means the same thing in all the literature on the subject : @xmath75    on the contrary , for @xmath12 , @xmath21 , and @xmath22 we have non univoque definitions .",
    "ref.a uses    @xmath76",
    "@xmath77    ref.b uses @xmath78 @xmath79    the definitions of ref.a are easier to use and more common in the literature , so the code sticks to them . with them",
    "it is necessary to take care with the kinematic limits : @xmath80 @xmath81 1 .    when comparing differential cross sections referred to the variables @xmath55 or @xmath82 , jacobian conversion factors are necessary .    the differential cross sections of equations ( 1 ) and",
    "( 2 ) enjoy complete scaling properties for the @xmath83 case , while in the @xmath84 case a mass - dependent@xcite term is introduced by ref.a , it is important for large @xmath85 and considered in the code .",
    "full scaling means that @xmath86integrated cross sections only depend on the @xmath87set variables , apart for an @xmath9 dependence confined to the @xmath11 term .",
    "compared data of ref.a ( 250 gev / c beam energy ) and ref.b ( 125 gev / c ) on @xmath88 dy scattering show approximate scaling .",
    "@xmath43 is assumed to be a function of @xmath13 in ref.a ( and in the code ) , while most experiments ( see the dy database from@xcite ) use it as a constant normally @xmath45 2 .",
    "for large @xmath13 values , the data by ref.a show that this dependence is relevant , and the results of the calculation by @xcite support this point .",
    "the largest part of the events concentrate at the lowest part of the involved @xmath46range ( wherever it begins ) , and this may make it difficult to scan a large @xmath46range , to establish precise dependencies for @xmath43 on @xmath13 .    as remarked in ref.b ,",
    "the choice of the @xmath43 value depends on the choice of the normalization for the quark distribution functions , which is not univoque .",
    "ref.b reports a detailed and systematic discussion of the different normalization methods and of the consequent changes in the values of the distribution function parameters and of @xmath43 .",
    "this can be exploited , with the warning of using distribution functions according to the notations of ref.b ( see below ) .    in the default version of the code dy_ab5",
    ", @xmath89 has been reconstructed using the parameterized form given in appendix a of ref.a , together with the kinematic definitions and structure functions contained in the main text of ref.a .",
    "this allowed me to fit @xmath90tungsten dy differential cross sections reported by that experiment at 252 gev / c .    when notations of the two works are conformed each other , the distribution functions fitted from ref.a allow to reproduce reasonably @xmath90data reported by ref.b at 125 gev / c .",
    "to reproduce the @xmath91 dy data of the same experiment , proton quark distribution functions must be used as antiproton antiquark distribution functions , and then the reproduction is reasonable .    in both references and everywhere in the literature",
    "@xmath64 has the form    @xmath92    where @xmath93 is a kinematic factor proportional to @xmath94 ( ref.a ) and @xmath95 ( ref.b ) . in general its exact form",
    "depends on notations and changes from paper to paper .",
    "the exponent `` 1 '' or `` 2 '' in the @xmath95 factor is very important because it indicates whether the distribution functions @xmath96 must be read as @xmath96 or as @xmath97 ( see below ) .",
    "@xmath98 and @xmath99 are linear combinations of the @xmath100 main distribution functions @xmath101 , @xmath102 , @xmath103 . for these we have    @xmath104    so , e.g.",
    ", the normalization @xmath105 @xmath37 0.34 in ref.a becomes @xmath106 @xmath37 0.34 in ref.b .",
    "the @xmath107 parameter appearing in the typical parameterization @xmath101 @xmath37 @xmath108 changes by one unit passing from ref.a to ref.b , and so on .",
    "the important remark is that this ambiguity @xmath109",
    "@xmath110 @xmath111 is present throughout all the literature on the subject , not only in these works .",
    "this is a very delicate point and must be taken into account whenever new terms are added to the code .",
    "the traditional parton model literature is built on the collinear approximation .",
    "so , for the @xmath112dependent parts one must rely on phenomenological fits",
    ".    experiments a and b did not impose a low-@xmath49 cutoff , with the consequence that their small @xmath49 data show a completely different qualitative behavior . measured values of the function @xmath48 can be seen e.g. in ref.a figs.23 and 25 ( @xmath113 case ) , or in ref.b fig.9 ( @xmath113 and @xmath114 cases ) .",
    "since azimuthal asymmetries are very small for @xmath49 @xmath81 1 gev / c , this difference is not relevant for the purposes of planning experiments on azimuthal asymmetries in drell - yan . for pions",
    "the default option is the distribution used in ref.a .",
    "the code however offers a series of alternatives . the class that handles all @xmath49-distributions",
    "the use of a specific distribution requires subclassing .",
    "some options are already present in the code dy_ab5 :    pt2_old : public pt2 is further subclassed into three possibilities :    \\(1 ) the distribution by conway et al@xcite to reproduce @xmath90tungsten at 250 gev / c .",
    "\\(2 ) the one by j.webb@xcite ( e866 collaboration ) for proton - nucleus at 800 gev / c .",
    "hep - ex/0301031    \\(3 ) the one by chang@xcite ( e866 collaboration ) for the same measurement of j.webb at the @xmath115 mass .",
    "\\(4 ) the class pt2_simple_asym : public pt2 of the form @xmath116 .",
    "this shape is useful for the azimuthal asymmetry terms ( see below ) .",
    "the most relevant features of the measured @xmath48 are ( i ) a not too strong dependence on @xmath117 , ( ii ) for @xmath49 @xmath81 2 gev / c the distribution is not steeply decreasing ( in case ref.a it is increasing up to 0.5 gev / c ) ; for @xmath49 @xmath118 2",
    "gev / c it decreases steeply ( but with power law , not exponential ) ; ( iii ) the average @xmath49 is near 1 gev / c , and as well known ( see e.g. @xcite ) it is larger than in lepton - induced dis and in hadron - hadron semi - inclusive meson production .    in the preliminary simulation of a drell - yan experiment on azimuthal asymmetries ,",
    "a good phenomenological shape of @xmath48 is a key success factor , because measured and/or predicted leading - twist azimuthal asymmetries do increase at increasing @xmath49 , obliging the experiment to select events at a as large as possible @xmath49 .",
    "however , due to the very fast decrease of @xmath48 for @xmath49 @xmath118 2 gev / c , the choice of a too large @xmath49 cut - off can make a measurement prohibitive because of fast falloff of the event rates at large @xmath49 .",
    "ref.a reports an explicit parameterization for @xmath48 ( relative to @xmath119induced drell - yan ) .",
    "ref.b reports data and some models for the @xmath49 distributions in both @xmath120 and in @xmath84 dy . in the region",
    "@xmath49 @xmath118 3 gev / c error bars are too big to draw any conclusion , but for @xmath49 up to 3 gev / c @xmath84 and @xmath120 @xmath112distributions are very similar .    for pion and antiproton projectiles i did not modify the parameterization inherited from appendix a ( pion ) of ref.a and from ref.b ( @xmath121 ) .",
    "the pion one is @xmath74 scale - independent .",
    "it depends explicitly on @xmath5 @xmath37 @xmath122 , and produces a slow increase of the average @xmath123 at increasing @xmath9 and constant @xmath13 .    for proton projectiles ,",
    "the parameterization by j.webb@xcite is probably more recommendable .      up to",
    "a few years ago the models on the functions associated with azimuthal asymmetries did nt go to such details like the @xmath124 composition of the target .",
    "for this reason , the first code dy_ab1 did not care isospin / flavor matters . after hermes and compass results ,",
    "some flavor and isospin - dependent parameterizations for single - spin asymmetries have appeared ( see e.g.@xcite ) , obliging the codes since dy_ab2 onwards to take these problems into account .    on the experimental side the z /",
    "a composition is important for another reason : it determines the effective dilution factor of the target polarization .",
    "dy_ab5 takes into account events coming from separate pieces of a molecular target , taking the individual dilution factor of each nucleon into account .",
    "so to reproduce a @xmath125 target with 85 % polarized @xmath126 , one may arrange code parameters so to require about 4 events on an unpolarized proton or neutron and one event on a polarized proton .",
    "after this , any specific sorted event , e.g. @xmath127neutron , will actually need to be translated into a @xmath128 , a @xmath129 or a @xmath130 event .    in dy_ab5 this",
    "is taken into account by @xmath87averaged weighting factors .",
    "the criterion and the weights for the relevant cases are discussed in detail in ref.@xcite . there ,",
    "also the errors associated with this technique are shown , in `` approximate vs exact '' scatter plots .",
    "the point is that a sum of the kind @xmath131 \\big)\\ ] ] where each term is flavor - specific , is approximated in the form    @xmath132 \\big),\\ ] ] where the leading term is common , the weights are constant ( and of course depend on the projectile - target hadron pair for the sorted event ) , the terms @xmath133 $ ] are flavor - specific functions where it is not possible to separate the numerator from the denominator .",
    "weight factors are needed to compensate the fact that e.g. the asymmetries associated with @xmath129 collisions have scarce relevance in a process like @xmath83 or @xmath134 , while they have more in @xmath135 .",
    "as observed in @xcite , the discrepancies between the `` exact '' scheme and the constant - weight scheme are relevant when both the colliding hadrons have small @xmath18 .    in practice",
    ", planned experiments will try to stay as far as possible from this region , since common belief is that transverse spin effects are small there .",
    "in addition , although it would be better to sort events according to the former scheme , phenomenological parameterizations do normally extract the ratios @xmath136 $ ] according to the latter scheme . paradoxically ,",
    "as remarked in @xcite , this makes the latter scheme more proper than the former for a simulation .",
    "so , although the author of this note has prepared since long a `` dy_ab6 '' code working according with a more exact scheme ( the one used for the simulations of @xcite ) , such a code is unlikely to be useful for still some time .",
    "angles @xmath29 , @xmath30 and @xmath31 in the function @xmath32 are measured in a reference frame with origin in the center of mass of the muon couple .",
    "in other words , the origin of this frame coincides with the virtual photon position .",
    "the axes of this frame can be oriented in several ways .",
    "one leads to the so - called collins - soper frame@xcite ( cs ) , with @xmath137 axis parallel to the difference of the momenta of the projectile and of the target @xmath138 .",
    "the transverse axes are oriented so that the @xmath139 plane contains the virtual photon momentum .",
    "other common alternatives put the @xmath137 axis along the beam or target direction in the lepton cm .",
    "the dy_ab5 code sorts events in the cs frame .",
    "this fact becomes relevant when events are transformed to the fixed target or to the collider frame ( see related section below ) .    in the cs frame ,",
    "@xmath29 and @xmath30 are the angles formed by @xmath140 of the muons ( @xmath141 from now onwards ) , and @xmath31 is the target spin orientation .    for a @xmath142 understanding of the kinematics for most ( not all ) events",
    ", one may imagine a virtual photon with transverse momentum not much larger than 1 gev , and @xmath143 not too close to zero , so that the longitudinal momentum of the photon is larger than the transverse momentum . then the cs @xmath144 axis is roughly parallel to the collider one . also the cs @xmath145 plane is roughly parallel to the collider @xmath145 plane , but the cs @xmath146 and @xmath147 axes are randomly rotated by an angle @xmath148 with respect to their collider configuration .",
    "this @xmath148 is the angle between the @xmath149component of the virtual photon and the @xmath146 axis in the lab .",
    "the @xmath146 axis of the cs frame coincides physically with the transverse component of the virtual photon 3-momentum .",
    "then the transverse proton spin , which is fixed along the @xmath146 axis in the collider frame , lies on the cs @xmath145 plane with angle @xmath31 @xmath37 @xmath150 .",
    "these approximations are not used in the code , but can be useful to understand the meaning of the employed angles , and to have an idea of the distribution of useful events in a collider frame .    in the collins - soper frame the angles @xmath29 and @xmath30 are polar and azimuthal angles of the momentum of one of the two leptons and are randomly distributed . also the spin angle @xmath31 is randomly distributed in the cs frame . in absence of information on two of these angles , the third one is homogeneously distributed over all of its phase space .",
    "however , altogether their distributions are correlated by @xmath32 in the cross section .    in the simulation events , are initially flat - sorted with respect to all the kinematic variables @xmath21 , @xmath22 , @xmath49 , @xmath29 , @xmath30 , @xmath31 .",
    "the sorted events are accepted / rejected according to the cross section expressed by eq.(1 ) where , at the level of single spin experiments ,    @xmath151    @xmath152    the unpolarized asymmetry measured in ref.a is contained in the @xmath153 term .",
    "single spin asymmetries arise from the @xmath154 term .",
    "two origins for such terms have been considered here , corresponding to different origins for the azimuthal term .",
    "the sivers@xcite asymmetry considers a term of the form    @xmath155    while the boer - mulders@xcite asymmetry is of the form    @xmath156    any of the above azimuthal asymmetries ( unpolarized , sivers , bmt ) can be disentangled from the other two by a suitably weighted @xmath30 integration .",
    "the `` statistical analysis '' option of the code offers this possibility .      as above written ,",
    "the leading distribution functions are bypassed by assuming a phenomenological ( correctly behaving and scaling in a wide range of kinematics ) form for the `` standard '' event distribution , i.e. for the @xmath157averaged part of the event distribution .    for the `` nonstandard '' terms ( i.e. those ones that produce nontrivial angular distributions in the cs frame ) the code includes as a first possibility some phenomenological parameterizations that have become recently available in the literature , and as a second option the possibility to chose freely the parameters for simple pre - determined shapes .",
    "the functions associated with the nonstandard terms have been put in places where it is easy to find them ( in the file c_dy_master.cpp ) .",
    "so , if one wants to change radically the shape of these functions it is possible to do it .",
    "the code has been written assuming that any potential user could be interested in adding supplementary terms to this set .",
    "in other words , i assume that in the next ten years there will be no special reasons to change the `` standard '' part of the cross section , while updates and news on the asymmetry side will be frequent .",
    "although it is possible to add new parameterizations , respecting some formats makes things easier . here",
    "i would like to discuss these formats .",
    "\\1 ) let us write the @xmath52 term in eq.(17 ) in the most general form    @xmath158    it must be reminded that according with the scheme adopted in this code each @xmath99 term is the @xmath159 between a term associated with a given kind of angular asymmetry and the `` standard '' term , that carries with itself the @xmath160 angular dependence .",
    "since most of the available parameterizations give directly such a ratio , this is the most convenient form , as earlier discussed in this work .",
    "\\2 ) the code assumes factorization between longitudinal and transverse degrees of freedom , and between terms coming from projectile and target , in the functions terms @xmath161 and @xmath162 in eq.(17 ) .",
    "these functions have the form    @xmath163    \\3 ) for the longitudinal components @xmath164 the code assumes the form    @xmath165    to insert completely different functions is possible but it is of course much easier to change three parameters for any quark flavor .",
    "\\4 ) the transverse term is    @xmath166_{asymmetry}\\delta^2(\\vec p_t - \\vec k_1 - \\vec k_2 ) .   }",
    "\\over { \\int d^2 k_1 d^2 k_2   [ g_1(\\vec k_1)g_2(k_2)]_{standard}\\delta^2(\\vec p_t - \\vec k_1 - \\vec k_2 ) .   } } \\ ] ]    where as previously reminded , the numerator is the really asymmetric term , the denominator is the leading standard @xmath112dependence .",
    "\\5 ) for the transverse part it is responsibility of the user to introduce directly the convolution of the two transverse momentum distributions corresponding to the colliding partons . in other words , the code assumes that one directly introduces @xmath167 in eq.(20 ) .",
    "the last constraint is not a true constraint , since all the parameterizations known to me employ gaussian shapes , whose convolution may be easily computed in analytical way . on the other side ,",
    "this means spared execution time for the code .",
    "\\7 ) frequently , the result of eq.(23 ) @xmath167 will assume the form that i name `` @xmath168 '' :    @xmath169    because of the common use of gaussian distributions , this form for the ratio @xmath170 is quite common .",
    "so the code gives , among other options , this one .    to implement the calculated @xmath112convolutions , or to insert phenomenological ones ( including the `` standard '' term @xmath171 in eq.1 ) the code offers a class pt2 that may be subclassed two ways :    \\(i ) exploiting the class pt_simple_asym : public pt2 to directly insert the parameters @xmath172 , @xmath173 , @xmath174 , @xmath175 , into the form @xmath116 .",
    "\\(ii ) subclassing the class pt2 by another user - assumed distribution .",
    "as above discussed , the code itself offers several examples of this procedure , i.e. all the relevant alternatives offered for the @xmath49-dependence of the leading `` standard '' term .",
    "the already present @xmath176 parameterizations correspond , for the boer - mulders effect , to the @xmath177independent @xmath178 function given in @xcite , for the sivers effect to the two alternatives @xcite .    for the @xmath179unintegrated transversity distribution the default @xmath180 parameters are @xmath181 and no predefined set was considered .",
    "in the following , some collections of simulated drell - yan events are compared with the measured distributions , for negative pions on tungsten . at the kinematics of interest for dy_ab5 the two experiments with far the best statistics in the mass range 4 - 9 gev / c@xmath182 are e615 at fermilab and na10 at cern .",
    "the code dy_ab has been based on the scheme and parameters given by e615 in @xcite , however it works equivalently with na10 data@xcite , coming from nearby kinematic regions .      to produce fig.1",
    ", dy_ab5 has sorted 100,000 drell - yan events for negative pions with beam energy 252 gev on a tungsten target , in the dilepton mass range 4 - 7 gev / c@xmath182 . from this set ,",
    "i extract the subset of events with @xmath67 in the range 0.254 - 0.277 ( mass from about 5.5 to 6 gev / c@xmath182 ) .",
    "the distribution of these events with respect to @xmath183 may be compared with the cross sections given in @xcite , table vi .            in fig.1 the empty squares joint by a line are the event numbers sorted by dy_ab5 .",
    "horizontal bars represent the size @xmath184 @xmath37 0.1 of each bin , vertical bars the statistical error @xmath185 .",
    "the full black squares with no horizontal error bar are the numbers from table vi of @xcite , rescaled by a common constant factor so to transform cross section values into expected values for the bin populations .",
    "sets of data corresponding to smaller @xmath67 cover a slightly smaller range in @xmath183 , while at increasing @xmath67 the event numbers filling each experimental bin decrease , and error bars increase . for comparison , in fig.2",
    "we report data from table vi of @xcite in a mass range near the upper edge 9 gev / c : @xmath67 ranges from 0.392 to 0.415 ( mass between about 8.5 and 9 gev / c@xmath182 ) .",
    "clearly , the error bars are much bigger than in the case of fig.1 .",
    "the corresponding simulated event numbers are extracted from a set of 100,000 sorted events between mass values 7 and 9.2 gev / c@xmath182 .      the data and simulations in figs.1 and 2 are integrated with respect to the transverse momentum of the dilepton pair .",
    "in figs . 3 and 4",
    "i report distributions with respect to @xmath49 , for two assigned ranges of @xmath183 : 0 - 0.1 ( fig.3 ) and 0.6 - 0.7 ( fig.4 ) . here data and simulated distributions are integrated with respect to the mass ( equivalently , to @xmath13 ) over the mass range 4 - 9 gev / c@xmath182 .",
    "the meaning of open and filled squares is the same as in figs.1 and 2 .",
    "data points come from the same experiment of @xcite , ( they are reported explicitly in @xcite ; in @xcite figures on the @xmath112distributions are present , but a table of values is not reported )      the two richest collections of events at the kinematics interesting here have been provided by the collaboration na10 , with negative pions of 194 and 286 gev on tungsten@xcite . for the beam at 194 gev , the data may be found in the final table of @xcite , while the data relative to the upper energy beam have been taken from @xcite , to which they have been sent as a private communication .",
    "this experiment did not publish transverse momentum distributions .",
    "in addition , the covered @xmath183 range tends to become rather narrow near the lower dilepton mass value 4 gev / c@xmath182 , where most events concentrate .",
    "so the most interesting distributions are at larger mass values with respect to e615 .",
    "data in fig.5 come from na10 ( 194 gev beam ) , and the simulated events are a subset of 100,000 events sorted by dy_ab5 in the mass range 4 - 9 gev / c@xmath182 , assuming a negative pion beam of 194 gev hitting tungsten . the data in figs .",
    "6 , 7 and 8 all refer to the upper energy beam of na10 , and their simulated counterparts have been extracted from a set of 100,000 events sorted between 4 and 7 gev / c@xmath182 , of 100,000 events between 7 and 9 gev / c@xmath182 , and of 50,000 events between 11 and 15 gev / c@xmath182 .    for the lower energy beam ( pions of 194 gev , meaning @xmath9 @xmath45 364 gev@xmath182 ) fig.5",
    "reports the @xmath183 distribution for @xmath67 in the range 0.33 - 0.36 , equivalent to dilepton mass between about 6.3 and 6.9 gev / c@xmath182 .",
    "fig.6 considers the same @xmath67 range , for the case of the upper energy beam ( 286 gev , meaning @xmath9 @xmath45 537 gev@xmath182 ) . in this case",
    "this corresponds to dilepton mass between 7.6 and 8.3 gev / c@xmath182 . according with the scaling hyppothesis",
    ", the two data distributions should be the very similar in the @xmath183 range 0 - 0.6 covered by both measurements .    for @xmath67 @xmath81 0.3",
    ", the @xmath183 range covered by na10 becomes small and data distributions are rather flat .",
    "fig.7 reports data and simulations for the three @xmath67 ranges 0.21 - 0.24 , 0.24 - 0.27 , 0.27 - 0.3 , corresponding to masses ranging from 4.9 to 6.9 gev / c@xmath182 .",
    "the compared examination of the three sets of fig.7 suggests that ( i ) the simulation is worse for smaller @xmath67 , ( ii ) the @xmath191factor extracted from e615 is slightly less steep ( in its dependence on @xmath13 ) than the one extracted from na10 .",
    "the former fact depends on the increasing relevance of sea values for @xmath188 at small masses .",
    "the default distribution for @xmath192 in dy_ab5 comes from e615 where sea ( anti)quarks of the pion play a minor role in the fit of the pion distributions . for this reason ,",
    "data from both na10 and e615 are reasonably fitted for @xmath183 @xmath118 @xmath186 with the exception of small-@xmath67 distributions .",
    "a signal of the relevance of sea partons from the pion side is the shift of the @xmath193distribution peak towards @xmath183 @xmath37 0 .",
    "valence - dominated measurements show this peak at @xmath183 @xmath37 0.1 - 0.3 .",
    "when the sea of the pion becomes relevant , it is probably better to substitute the default sea pion distribution of dy_ab5 with more recent ones .",
    "fig.7 suggests that this may be the case for @xmath67 below 0.25 .",
    "an interesting feature of na10 is the presence of a conspicuous set of data at masses over the bottonium mass .",
    "this is @xmath74 the situation for which dy_ab5 has been thought , however it is interesting to try and simulate these events .",
    "fig.8 reports data and simulation for @xmath67 in the ranges 0.51 - 0.54 ( mass between 11.8 to 12.5 gev / c@xmath182 ) and 0.54 - 0.63 ( mass between 12.5 and 14.6 gev / c@xmath182 ) .",
    "we see that dy_ab5 has difficulties in reproducing the shape of these event distributions for @xmath183 @xmath81 0.2 .",
    "actually , the `` gap '' of these data distributions at @xmath183 @xmath45 0 looks a little unnatural .",
    "more in general , in all the previous figures the agreement between montecarlo and data is worse for negative @xmath183 , where data distributions fall rather steeply .",
    "this could be related with the fact that negative @xmath183 data are at the border of the regions of good acceptance for fixed target experiments .      as observed in section 2.5",
    ", the event cross section may be written in the form @xmath62",
    "@xmath37 @xmath194 @xmath195 $ ] , where the former term expresses that part of the cross section that does not contain azimuthal and spin asymmetries , while the asymmetries themselves are contained in @xmath52 , and where @xmath52 may be approximated in different ways .",
    "in particular , in dy_ab5 @xmath52 contains flavor weight factors , that are absent a more recent version dy_ab6 . in",
    "dy_ab6 the full cross section @xmath62 is a sum of independent terms each referring to a sea or valence parton .",
    "each flavor contribution carries `` its own '' asymmetry . in dy_ab5 @xmath196 is a sum of flavor contributions , and @xmath52 is an independent sum of flavor contributions ( see@xcite ) , weighted with good sense .",
    "as far as azimuthal / spin asymmetries are neglected , the two codes produce the same results ( @xmath196 is the same in both cases ) . when asymmetries are included",
    ", the scheme implemented by dy_ab6 is more proper .    exploiting the equality of @xmath196 in the two cases , in @xcite drell - yan events",
    "have been sorted according with @xmath196 only , and the corresponding sivers asymmetry ( deriving from the @xmath52 term ) has been calculated within the relations of dy_ab5 and of dy_ab6 . the the scatter plot of the two asymmetry calculations for each event are reported in several figures . from that work",
    "two figures are borrowed , showing the two most `` extreme '' cases .",
    "fig.9 reports 7000 events for @xmath197 drell - yan at @xmath9 @xmath37 100 gev@xmath182 , lepton invariant mass in the range 4 - 6 gev / c@xmath182 , transverse momentum in the range 1 - 3 gev / c .",
    "the sivers asymmetry is parameterized according to @xcite .",
    "fig.10 reports 20000 events for @xmath198 drell - yan at @xmath9 @xmath37 100 gev@xmath182 , lepton invariant mass in the range 1.5 - 2.5 gev / c@xmath182 , transverse momentum in the range 1 - 3 gev / c .",
    "the sivers asymmetry is parameterized according to @xcite",
    ".    in the former case dy_ab5 and dy_ab6 would produce the same sivers asymmetry . in the latter",
    "the difference is striking . as deeply discussed in @xcite the difference between the",
    "two is proportional to the role of sea ( anti)quarks .",
    "positive pions on protons , and small dilepton mass , enhance the role of sea partons .",
    "however , the use of dy_ab6 has been up to now restrained by the fact that the available parameterizations of functions like the sivers one are normally produced by fitting data within the same `` ideological '' scheme of dy_ab5 . in these cases ,",
    "the use of dy_ab6 would increase errors , instead of decreasing them .",
    "this is discussed in @xcite with plenty of details .",
    "the main point is that when a `` global fit '' is undertaken using a scheme like the one of dy_ab5 , the effect of sea partons is effectively included inside valence quark distributions .",
    "so , when the results from such a global fit are emploied in dy_ab6 for predicting some result , it is very dangerous to add separate sea quark contributions that are already present in valence quark distributions .",
    "the place where dy_ab6 can be more proper is the one of @xmath199 models for the sivers function , built according with the scheme where each flavor is individually considered .",
    "but for the aim of modelling an experiment apparatus , one normally prefers using phenomenological parametrizations , rather than theoretical models .",
    "a.bianconi , `` monte carlo event generator dy_ab4 for drell - yan events with dimuon production in antiproton and negative pion collisions with molecular targets '' , internal note muo-001 of the panda collaboration ( 2006 ) , at http://www-panda.gsi.de/auto/doc/_home.htm ."
  ],
  "abstract_text": [
    "<S> in this note i report and discuss the physical scheme and the main approximations used by the event generator code dy_ab . </S>",
    "<S> this monte carlo code is aimed at preliminary simulation , during the stage of apparatus planning , of drell - yan events characterized by azimuthal asymmetries , in experiments with moderate center of mass energy @xmath0 @xmath1 100 gev .    high energy hadron - hadron scattering , monte carlo method , azimuthal asymmetry , spin physics . 13.85.qk,13.88.+e,13.90.+i </S>"
  ]
}