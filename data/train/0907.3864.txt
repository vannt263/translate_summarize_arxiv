{
  "article_text": [
    "recently @xcite , crane and sornette analysed the viewing of youtube videos as an example of a nonlinear social system .",
    "they identified peaks in the timeseries of viewing figures for around half a million videos and studied the subsequent decay of the peak to a background viewing level .",
    "a self - excited poisson process , or hawkes process @xcite , was proposed as a model of the video - watching dynamics , and a plausible link made to the social interactions that create strong correlations between the viewing actions of different people .",
    "individual viewing is not random but influenced by various channels of communication about what to watch next .",
    "the hawkes process has a poisson distributed number of views , with an instantaneous rate given by @xmath0 here @xmath1 is a noisy source term ( allowing viewing to occur even for a completely dormant video , for instance ) and the summation describes how past viewing events at times @xmath2 influence the current event rate .",
    "the coefficient @xmath3 is the number of potential viewers influenced directly by person @xmath4 who viewed a video at time @xmath5 ; the function @xmath6 describes the waiting time distribution for those influenced , between trigger and response .",
    "( put differently , this is the distribution of waiting times between finding out about a particular video and actually viewing the video . ) .",
    "if @xmath7 is a power - law memory function as used in this work , the resulting process is also known as an etas model @xcite , and can be used to model earthquake aftershocks .    on the basis of previous work",
    "@xcite , crane and sornette chose a long - memory waiting time distribution @xmath8 for fixed @xmath9 ( we address variability in @xmath9 later on ) , the behaviour of a timeseries generated by such a hawkes process then depends on the distribution of @xmath10 .",
    "there are four separate dynamical classes , two if a viewing shock happens from an external stimulus , two from internal dynamics @xcite . in this paper",
    "we address only the dynamics of externally shocked timeseries , but for completeness all four dynamic classes will be outlined below .    in each dynamic class , there is a different prediction for the power - law decay of the activity level following an initial shock .",
    "the power laws involved are quite distinct for each class , and predicted by @xcite to depend solely on @xmath9 , whereas the statistics of @xmath10 control solely which class one is in .",
    "therefore , if eq.([eq:2 ] ) were really to hold ( with a unique @xmath9 ) one might naively expect the distribution of power law exponents observed in the data to collapse onto a set of discrete delta - functions , one for each dynamic class . on reflection , however , this can not be correct since an individual activity burst represents a sequence of discrete events which ( unless the total number of these is enormously large ) is unlikely to be fully self - averaging for the purposes of fitting a power law to the long - time decay . in practice for the youtube data @xcite the distribution of fitted exponents is very broad with , at best , bump - like features at the expected discrete exponent values . crane and sornette get around this by using a quite separate method ( detailed below ) to classify the dynamic class of each burst , and then showing that the subdistributions for each class are unimodal with modal values close to the expected one for that class . the overlapping exponent distributions that necessitate this procedure",
    "do however call into question the announced robustness @xcite of the dynamic classes inferred from the hawkes model .    in the present work",
    "we perform simulations that shed light on how much of this exponent variability can be expected to arise from the hawkes process itself .",
    "any variability beyond this level in the youtube data is evidence that eq.([eq:2 ] ) does not really describe the social dynamics of youtube . of course , nobody would expect this dynamics to be captured _ exactly _ by the hawkes process ; however , behind the concept of robust dynamic classes in @xcite lies a broader notion of universality .",
    "for instance in equilibrium critical phenomena , a very simple model ( the ising model ) captures to arbitrary accuracy the universal features of a wide class of phase transitions involving order parameters of the same symmetry . in the wider context of nonequilibrium criticality ,",
    "the universal status of simple models is much less well established , and deserves detailed attention .",
    "our simulation results suggest that this universality may be somewhat limited , at least if one is interested in the _ distribution _ of fitted exponents for individual activity bursts within each dynamic class .    in what follows",
    "we first classify all four dynamic regimes before presenting the analysis of our results .",
    "in this regime , the viewing rate is first dominated by the @xmath1 term in eq.([eq:2 ] ) . at some time , @xmath11 ,",
    "the video gains widespread public attention .",
    "( it might be featured in a national newspaper , or on some high - traffic website ; or it may relate to a famous person whose death is suddenly announced . ) this produces a spike in the viewing figures which then decay away .",
    "the form of the decay depends on the distribution of @xmath10 .    *",
    "if @xmath12 , a cascade of viewing events occurs and the timeseries decays from the shock like @xmath13 .",
    "this is termed a critical decay . *",
    "if @xmath14 , only first generation viewing events are important ( i.e. , those stimulated by the external source ) and the timeseries decays like @xmath15 .",
    "this is a subcritical decay .",
    "a particular series of viewing events can lead to an internally created maximum in the timeseries ( above that expected for a poisson noise process ) .",
    "this internal shock has a different decay exponent again from the externally induced peaks .",
    "the two internal dynamic classes are :    * a simple noise process if @xmath14 ; no coherent peak arises . * a peak grows and decays like @xmath16 ; this occurs if @xmath12 .",
    "if this model is correct for the dynamics of video views , it should be possible to identify the different dynamic classes by finding peaks in the viewing timeseries and then fitting a power law to the subsequent decay .",
    "these power laws should form a distribution which arises as the merger of the various classes ; if the individual activity bursts can separately be classified , the subdistribution for each class can be extracted .",
    "crane and sornette perform such an analysis and by fitting to the modal exponent for each class infer a value for the exponent @xmath9 in eq.([eq:2 ] ) of @xmath17 .",
    "we therefore create artificial timeseries with @xmath18 for best comparison with their data . with this choice",
    ", we expect to extract decay exponents ( recalling that we only study the externally shocked case ) of    * @xmath19 and * @xmath20    as mentioned previously , the model might lead one to expect @xmath21-function peaks in a pdf of decay exponents , corresponding to the various dynamic classes .",
    "the data presented in @xcite show weak peaks at these values , but with a significant spread .",
    "in particular , some of extracted exponents would imply values of @xmath9 that lie outside the range @xmath22 required by the model itself . with the help of our simulation data",
    ", we can look at whether the spread arises through miscategorisation ; a poor fitting method ; fluctuations in the fitted exponents due to noise inherent in the hawkes process itself ; or failure of the hawkes model to accurately describe the youtube data .",
    "we carry out a discrete - time simulation of the poisson / hawkes process , restricting attention to activity bursts initiated by external shocks .",
    "( we generally take each initial shock to comprise @xmath23 views . )",
    "we choose to generate a random number of views from a poisson distribution with given mean at each timestep and update the rate accordingly afterward .",
    "effectively , we treat the continuously varying @xmath24 as a constant , generate a given number of events and then modify @xmath25 according to eq .",
    "( [ eq:1 ] ) .",
    "we must also choose what values @xmath9 and @xmath10 can take .",
    "additionally , we need a normalisation for the distribution of waiting times , @xmath6 . following @xcite",
    "we take this distribution normalized to unity ( so that all those ` influenced ' to watch a video by a particular viewing event do watch it eventually ) . remembering that the waiting time will be an integer ( due to our simulation strategy )",
    ", we have @xmath26 with @xmath27 the riemann @xmath27-function .",
    "this ensures @xmath28    our algorithm for generating the synthetic data is therefore as follows :",
    "1 .   shock the system by creating @xmath29 initial viewing events .",
    "2 .   for each viewing event , generate the number of subsequent viewers @xmath3 by sampling from @xmath30 . at time @xmath31 we therefore seed @xmath32 future viewing events . each of these @xmath33 future viewers has their own decay constant @xmath34 drawn from @xmath35 .",
    "3 .   generate a poisson event rate @xmath24 by summing over the past history according to eq .",
    "4 .   use this rate to generate the number of viewing events @xmath36 between time @xmath31 and @xmath37 .",
    "increment @xmath31 by @xmath38 and repeat steps ( ii ) to ( v ) until the maximum specified time has been reached .",
    "the model analysis in @xcite assumes that all @xmath9 values are equal .",
    "it is , however , not clear that all interactions would involve exactly the same response kernel .",
    "if those influenced have a distribution of waiting habits , this can safely be averaged unless there is a correlation with the person exerting the influence ( so that @xmath9 varies between the events @xmath4 in eq.([eq:2 ] ) ) . to allow for the latter possibility we carry out simulations not only with a single @xmath39 but with a random distribution of @xmath34 to see if this modifies the results . for the latter we choose",
    "@xmath9 from a truncated gaussian with mean @xmath40 and standard deviation @xmath41 ( restricting the support to @xmath42 ) .",
    "finally we need to choose the statistics of @xmath3 .",
    "we will see that the particular choice of distribution does not make an appreciable difference to the results for the externally shocked system ( although as detailed above , the value of @xmath43 is important ) . here",
    "we present results where @xmath10 is drawn from appropriately weighted @xmath21-function distributions as well as poisson distributions .",
    "we estimate decay exponents from the artificially produced timeseries both via the method described in @xcite and using a maximum likelihood estimator .",
    "the least squares estimator used in @xcite can give incorrect parameters @xcite since some of the assumptions behind it are violated for power law decays .",
    "however , in our study we find little difference between the maximum likelihood decay exponents and the least squares exponents , which is evidence that errors in the exponent estimation method used in @xcite are not the main cause of the large spread of observed exponents .",
    "each post - shock timeseries decay has two free parameters once the peak has been identified : the decay exponent @xmath44 , and the time at which the peak has decayed to the background noise level @xmath45 . to construct the maximum likelihood estimator ( mle ) for @xmath44",
    ", we assume the data to be independent identically distributed random variables drawn from a discrete power law distribution , @xmath46 . that is , with a peak occurring at @xmath47 , we expect , for @xmath48 @xmath49 where @xmath50 is a generalized harmonic number .    for every possible",
    "we find the best fit value of @xmath44 for this distribution using a maximum likelihood estimator .",
    "for a timeseries @xmath51 , our dataset consists of @xmath52 observations at each time @xmath5 .",
    "each of these @xmath5 s has an individual likelihood given by @xmath53 .",
    "we assume each observation of @xmath5 is independent and so the likelihood of the dataset factorises into the product of the individual likelihoods @xmath54 to find the best fit value of @xmath44 for a given dataset , we maximise the likelihood with respect to @xmath44 .",
    "( in fact , since the likelihood is such a small value , we instead maximise the logarithm of the likelihood , but this gives the same result . ) to find the best value of  we follow the method of @xcite and choose that  which minimises the kolmogorov - smirnov distance statistic .",
    "that is , for each value of  we find the best fit decay exponent and calculate @xmath55 where @xmath56 is the empirical cumulative distribution function , and @xmath57 the best - fit - hypothesis cumulative distribution function .",
    "we then pick  as that value which minimises @xmath58 .",
    "( note that this fitting method , while finding the best fit , tells us nothing about the quality of that fit . )",
    "we also calculate the decay exponents for the same timeseries using the method described by crane and sornette @xcite .",
    "this uses a least squares regression on the dataset to find the decay exponent from the peak over a fixed window size . for each fit",
    ", they look at the distribution of the relative residuals , i.e. , the difference between the model and the empirical data , divided by the expected value at that point .",
    "if the relative residuals are not distributed normally , the fit for that window size is rejected .",
    "the best fit to the data is chosen to be the largest window size with normally distributed relative residuals .",
    "following @xcite we reject the fit if the hypothesis of a normal distribution is violated at the 1% level using a @xmath59 test .",
    "the individual timeseries that we generate are subject to a reasonable amount of noise giving a spread of best fit decay exponents . given that we control the time and size of the initial shock , we can easily obtain better statistics for the different parameter choices by considering ensemble averaged timeseries .",
    "this allows us to observe the behaviour of the decay for a longer time and get a better fit for the decay exponents .",
    "the fitting method in this case is as before ; we obtain the best fit @xmath44 value by maximising the likelihood of the data .",
    "the decay now occurs over the whole tail of the timeseries and so we do not need to find ; we can set it manually as equal to the largest time in our dataset .",
    "we fit both from the peak of the decay and the ` tail ' .",
    "to determine where the tail of the data starts , we follow the same procedure as detailed above for finding , only this time we apply it to find .",
    "that is , for each  value , we calculate @xmath58 ( eq .  [ eq:5 ] ) of the best fit and subsequently choose as our lower cut - off that  which minimises @xmath58 .",
    "we obtain errors on our estimates of @xmath44 by noting that our mle is asymptotically optimal @xcite , for @xmath60 observations , the variance in the estimated value is therefore given by the inverse of the observed fisher information @xcite @xmath61 with @xmath62 which can easily be obtained numerically .",
    "the mle is asymptotically gaussian with mean @xmath44 and variance given by eq.[eq:9 ] and so confidence intervals are just the standard gaussian ones .",
    "to begin , we look at the behaviour of the ensembled - averaged timeseries . as expected , we see a clear distinction between the subcritical decay ( where @xmath14 ) and the critical decay ( with @xmath12 ) .",
    "the best fit decay exponents are also those expected ( figure [ fig : mu - dist - av - ts ] ) .     and @xmath30 as indicated .",
    "each dataset is the average of 700 realisations with an initial shock of 5000 views .",
    "lines show the best fit decay exponent in the tail of the decay ( @xmath63 for critical and @xmath64 for subcritical decay ) obtained from the mle , @xmath65 figures are 95% confidence intervals whose calculation is detailed in the text .",
    "the decay exponents are in good agreement with the theoretical values of 0.6 and 1.4.,width=453 ]    the difference between critical and subcritical decays remains when we draw @xmath9 from a gaussian distribution ( figure [ fig : mu - theta - dist - av - ts ] ) .",
    "we do , however , notice a significant difference from the single - valued @xmath9 case : the numerical values of the decay exponents no longer agree well with the predicted values .     and",
    "@xmath30 as indicated .",
    "each dataset is the average of 700 realisations with an initial shock of 5000 views .",
    "lines show the best fit decay exponent in the tail of the decay ( @xmath66 for critical and @xmath67 for subcritical decay ) obtained from the mle , @xmath65 figures are 95% confidence intervals .",
    "the decay exponents are no longer in good agreement with the theoretical values of 0.6 and 1.4.,width=453 ]    notice how the subcritical decay appears to exhibit a crossover between a short time `` critical '' decay exponent and long time subcritical decay .",
    "increasing @xmath68 towards the critical value of unity moves the crossover to later and later times .",
    "interestingly , when @xmath9 is drawn from a gaussian distribution , both the critical and subcritical decays exhibit some sort of crossover behaviour , not seen in the critical decay for single - valued @xmath9 .",
    "this crossover can contribute to the spread of exponents in the subcritical case , since the fitting mechanism may pick up the early time decay .",
    "the crossover observed is discussed in detail in the context of the etas model in @xcite .",
    "we now look at the distribution of decay exponents of individual timeseries obtained from both the mle and least squares estimator .",
    "our results for the ensembled averaged timeseries indicate that we will likely not see the asymptotic exponent in the subcritical case if we fit the entire post - shock timeseries ( @xmath69 ) , as the decay exponent will be skewed by the early time ` critical ' decay .",
    "we therefore show results with @xmath70 and @xmath71 ; these latter fits will give us an indication of what the tail exponent looks like .",
    "the results for a single value of @xmath9 are shown in figure [ fig : mu - dist - histograms ] , those with @xmath9 from a gaussian distribution are shown in figure [ fig : mu - theta - dist - histograms ] .    , initial shock is 5000 , 700 realisations .",
    "grey histograms show exponents obtained from non - linear least squares fitting , white histograms are obtained from mle fits .",
    "note how there are two distinct peaks in the distribution , corresponding to critical and subcritical decays .",
    "the subcritical peak moves from @xmath72 to @xmath73 when we avoid picking up the early time critical decay described in the text.,width=453 ]    as expected , fitting the entire post - peak timeseries underestimates the subcritical decay exponent .",
    "both fitting methods pick up the early time decay , which is slower ; once the early time peak is ignored , the decay exponents are more similar to the tail seen in the ensemble - averaged case .",
    "we note that the fits for @xmath74 do have quite a large spread of exponents .",
    "this is due to poor statistics in the tail of the decay : the fluctuations are large enough that we occasionally pick up a highly anomalous decay exponent .",
    "this form of statistical noise appears to be intrinsic to the hawkes process once the data is filtered by @xmath75 .",
    "improved fits , and presumably also narrower distributions of the fitted exponents , would arise if we used much larger initial shocks ( @xmath76 ) .",
    "our choice of @xmath77 is however consistent with the statements in @xcite of mean total views in the tens of thousands ( with at least 20% of these viewed on the peak day ) for the shocked case .",
    "it is intended to give a realistic estimate of the intrinsic noise in the hawkes process , to see if this can account for the large exponent spread actually found in @xcite .",
    "comparison of their figure 4 with our figures [ fig : mu - dist - histograms ] and [ fig : mu - theta - dist - histograms ] shows such an explanation to be implausible : the exponent spread in the youtube data is much too large , particularly for the subcritical case .",
    "we have also performed simulations with @xmath78 and @xmath79 , i.e. , one order of magnitude in either direction from the results reported here . in studying the ensemble average of 700 such timeseries from these simulations",
    ", we find that we can not reject , at the 95% significance level , the hypothesis that the data are the same as those we have reported for @xmath23 . in other words , the size of the initial shock does not affect the statistics of the resulting timeseries . for the small initial shocks ( @xmath78 ) , the spread of individually fitted exponents is indeed larger than those we show here with @xmath80 and vice versa for the larger shocks ( @xmath79 ) .",
    "this is simply due to the fitting method being more ( less ) affected by statistical fluctuations .",
    "the peaks of the exponent distributions do not , however , change appreciably .",
    ", initial shock is 5000 , 700 realisations .",
    "grey histograms show exponents obtained from non - linear least squares fitting , white histograms are obtained from mle fits .",
    "note how there are two distinct peaks in the distribution , corresponding to critical and subcritical decays .",
    "the subcritical peak moves from @xmath81 to @xmath82 when we avoid picking up the early time critical decay described in the text.,width=453 ]      crane and sornette do not have _ a priori _ knowledge of which dynamic class each timeseries belongs to .",
    "because the exponents do not fall into clear classes , they use a classification method based on the fraction of the total views that arise on the day of maximal viewing , termed the `` peak fraction '' ( @xmath83 ) .",
    "( this fraction is of course a measure of the steepness of the subsequent decay , hence of @xmath44 . ) in our simulations , since we know @xmath84 , and hence which class any given timeseries is actually in , we can look at the peak fraction and see if this method allows for any misclassification .",
    "the classification according to @xmath83 in @xcite is to consider @xmath85 as an exogenous subcritical decay , @xmath86 as exogenous critical decay and @xmath87 as endogenous critical decay .",
    "there are some further comments that the classification between the two exogenous cases is not significantly altered when varying the boundary between @xmath88 and @xmath89 .",
    "we have not calibrated our simulations to any of crane and sornette s data , and hence do not know how long the time increment in our updates is relative to their data .",
    "the boundaries we choose for classification will therefore not have the same numerical values ; this will not , however , invalidate our study of the classification method .",
    "we find that our simulated timeseries show two well - defined peaks in the distribution of peak fractions .",
    "choosing a cut - off of @xmath90 to define exogenous critical and @xmath91 to define exogenous subcritcal decay ( recall we do not treat the endogenous case ) results in no misclassification .",
    "for the peak fraction would result in no misclassifications.,width=453 ]    figure [ fig : peak - fraction - histograms ] shows a histogram of peak fractions of simulations with @xmath92 and with a gaussian distribution . in both cases , there is an obvious divide between subcritically decaying timeseries and critical decays . for a suitably placed boundary between high and low peak fractions ( @xmath93 ) , this method correctly classifies every single timeseries we have studied .",
    "the observed behaviour of the hawkes process subject to external shock is , for the case of a single - valued @xmath9 distribution , exactly as predicted in refs.@xcite .",
    "when @xmath9 is drawn from a broad distribution , the numerical values of the decay exponent are modified , but the overall picture of critical and subcritical decays remains .",
    "our results show a significant spread of fitted decay exponents , though much less than that seen in the youtube data reported in @xcite .",
    "we can , however , shed some light on this .",
    "we have good control of all the timeseries we fit to , in particular , we ensure that they are all subject to the same size of fluctuation ( by always studying the same size of shock ) .",
    "crane and sornette do not have this luxury .",
    "our fitting to the tails of individual timeseries shows that the exponent can vary widely if the statistics are poor ( in some instances the best - fit exponent is very different from that of the underlying distribution of which a given timeseries represents a single sample ) .",
    "it seems likely that some of the breadth in the range of exponents seen in @xcite is caused by considering many timeseries with poor statistics in the tail . by only considering timeseries with",
    "particularly large peaks ( relative to the background viewing rate ) , a set of decay exponents with lower variance might be obtained .",
    "of course , this would have a cost in terms of the overall statistics of the sample .",
    "in addition , our study shows that the peak fraction classification method is a good one and we suggest that carrying out this classification and then fitting to the ensemble average of suitably normalised timeseries may give the best estimate of the decay exponents .",
    "we have also shown that the least squares fitting method gives results that are not very different from the maximum likelihood approach favoured here .",
    "our results demonstrate a way to test if @xmath9 is really a unique global constant ( equivalently , drawn from a @xmath21-function distribution ) . the ensemble - averaged timeseries in this case are measurably different from those where @xmath9 is broadly distributed with the same mean .",
    "particularly , we observe a crossover effect in the critical decay for a broad @xmath9 distribution that is not present if @xmath9 is constant .",
    "if the timeseries can be correctly classified using the peak - fraction method , an ensemble average of ( suitably normalised ) critical timeseries might be diagnostic of whether @xmath9 is effectively constant or not .",
    "finally , we reiterate that although our analysis of synthetic hawkes process data results in a spread of fitted exponents within each dynamic class , this intrinsic noise does not fully account for the much wider distributions seen in the youtube data of crane and sornette @xcite .",
    "this suggests limits to the universality concept which presumably underlies attempts to classify activity bursts in social systems into ` robust dynamic classes ' @xcite . while the hawkes process is clearly useful in analysing real - world data from complex social systems , some fairly basic observables , such as the variance of the exponent distribution for individual activity bursts ,",
    "are seemingly not captured by it .",
    "these aspects are thus either nonuniversal or lie in the universality class of a more complex model than hawkes .",
    "we thank epsrc ep / e030173 for funding .",
    "mec holds a royal society research professorship ."
  ],
  "abstract_text": [
    "<S> we study by computer simulation the `` hawkes process '' that was proposed in a recent paper by crane and sornette ( proc . </S>",
    "<S> nat . acad . </S>",
    "<S> sci . </S>",
    "<S> usa * 105 * , 15649 ( 2008 ) ) as a plausible model for the dynamics of youtube video viewing numbers . </S>",
    "<S> we test the claims made there that robust identification is possible for classes of dynamic response following activity bursts . </S>",
    "<S> our simulated timeseries for the hawkes process indeed fall into the different categories predicted by crane and sornette . </S>",
    "<S> however the hawkes process gives a much narrower spread of decay exponents than the youtube data , suggesting limits to the universality of the hawkes - based analysis . </S>"
  ]
}