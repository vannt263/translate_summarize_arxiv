{
  "article_text": [
    "a central and longstanding open problem in complexity theory is to prove superlinear lower bounds for the circuit size of an explicit boolean function .",
    "while this seems quite difficult , a modest amount of success has been achieved in the slightly weaker model of formula size , a formula being simply a circuit where every gate has fan - out at most one .",
    "the current best formula size lower bound for an explicit function is @xmath7 by hstad  @xcite .    in this paper",
    "we show that part of the rich theory developed around proving lower bounds on quantum query complexity , namely the so - called quantum adversary argument , can be brought to bear on formula size lower bounds .",
    "this adds to the growing list of examples of how studying quantum computing has led to new results in classical complexity , including  @xcite , to cite just a few .",
    "the roots of the quantum adversary argument can be traced to the hybrid argument of  @xcite , who use it to show a @xmath8 lower bound on quantum search .",
    "ambainis developed a more sophisticated adversary argument @xcite and later improved this method to the full - strength quantum adversary argument @xcite .",
    "further generalizations include barnum , saks , and szegedy  @xcite with their spectral method and zhang  @xcite with his strong adversary method .",
    "laplante and magniez  @xcite use kolmogorov complexity to capture the adversary argument in terms of a minimization problem .",
    "this line of research culminates in recent work of palek and szegedy  @xcite who show that in fact all the methods of @xcite are equivalent .",
    "the fact that the quantum adversary argument has so many equivalent definitions indicates that it is a natural combinatorial property of boolean functions which is worthwhile to investigate on its own .",
    "we give this quantity its own name , @xmath0 , and adopt the following primal formulation of the method , from  @xcite . letting @xmath9 and @xmath10 , be a boolean function we say @xmath11 where @xmath12 is a family of probability distributions on the indices @xmath13 $ ] . if @xmath14 is the two sided error quantum query complexity of @xmath3 then @xmath15 .",
    "we show further that @xmath2 is a lower bound on the formula size of @xmath3 .",
    "moreover , @xmath2 generalizes several formula size lower bounds in the literature , specifically khrapchenko and its extensions  @xcite , and a key lemma of  @xcite used on the way to proving the current best formula size lower bounds for an explicit function .",
    "we also introduce @xmath16 where @xmath17 is prefix - free kolmogorov complexity .",
    "this formulation arises from the quantum and randomized lower bounds of  @xcite .",
    "this formulation is especially interesting because of the intuition that it provides .",
    "for example , it allows for a very simple proof that circuit depth @xmath18 , using the karchmer - wigderson characterization of circuit depth  @xcite .",
    "we define a quantity closely related to @xmath19 , which we call @xmath1 .",
    "@xmath20 notice that this is like @xmath0 but where the sum is replaced by a maximum . by definition ,",
    "@xmath1 is larger than @xmath0 , but its square is still a lower bound on formula size .",
    "however , @xmath1 is no longer a lower bound on quantum query complexity in general , and we give an example of a partial function @xmath3 for which @xmath21 and @xmath22 .",
    "for this function , the collision problem , @xmath23 @xcite .",
    "we look at several concrete problems to illustrate the strengths and weaknesses of our methods .",
    "we study the height @xmath24 recursive majority of three problem , @xmath25 , and show that @xmath26 and a lower bound of @xmath27 for the formula size .",
    "we also look at a function defined by ambainis  @xcite to separate the quantum query complexity of a function from the bound given by the polynomial method  @xcite .",
    "this function gives an example where @xmath28 can give something much better than khraphchenko s bound .",
    "we also give bounds for the collision problem .      in section  [",
    "sect : preliminaries ] , we give the definitions , results , and notation that we use throughout the paper , and introduce the quantities @xmath0 , @xmath1 , and @xmath29 . in section  [",
    "sect : spi+mpi ] we prove some properties of @xmath0 and @xmath1 . in section  [",
    "sect : formulasize ] , we show how @xmath0 and @xmath1 give rise to formula size lower bounds , for deterministic and probabilistic formula size . in section  [ sect : comparison ] , we compare our new methods with previous methods in formula size complexity . in section  [",
    "sect : limits ] , we investigate the limits of our and other formula lower bound methods .",
    "finally , in section  [ sect : applications ] we apply our techniques to some concrete problems .",
    "we use standard notation such as @xmath13=\\{1 , \\ldots , n\\}$ ] , @xmath30 for the cardinality of a set @xmath31 , and all logarithms are base 2 . hamming distance",
    "is written @xmath32 .",
    "we use standard measures of boolean functions , such as sensitivity and certificate complexity .",
    "we briefly recall these here , see @xcite for more details . for a set @xmath9 and boolean function @xmath10 ,",
    "the sensitivity of @xmath3 on input @xmath33 is the number of positions @xmath34 $ ] such that changing the value of @xmath33 in position @xmath35 changes the function value .",
    "the zero - sensitivity , written @xmath36 is the maximum over @xmath37 of the sensitivity of @xmath3 on @xmath33 .",
    "the one - sensitivity , @xmath38 is defined analogously .",
    "the maximum of @xmath39 is the sensitivity of @xmath3 , written @xmath40 .",
    "a certificate for @xmath3 on input @xmath41 is a subset @xmath42 $ ] such that for any @xmath43 satisfying @xmath44 for all @xmath45 it must be the case that @xmath46 .",
    "the zero - certificate complexity of @xmath3 , written @xmath47 is the maximum over all @xmath37 of the minimum size certificate of @xmath33 .",
    "similarly , the one - certificate complexity of @xmath3 , written @xmath48 is the maximum over all @xmath49 of the minimum size certificate of @xmath33 .      for a matrix @xmath50 ( respectively , vector @xmath51 )",
    "we write @xmath52 ( resp .",
    "@xmath53 ) for the transpose of @xmath50 , and @xmath54 ( resp . @xmath55 for the conjugate transpose of @xmath50 . for two matrices",
    "@xmath56 we let @xmath57 be the hadamard product of @xmath50 and @xmath58 , that is @xmath59=a[x , y]b[x , y]$ ] .",
    "we write @xmath60 if @xmath50 is entrywise greater than @xmath58 , and @xmath61 when @xmath62 is positive semidefinite , that is @xmath63 .",
    "we let @xmath64 denote the rank of the matrix @xmath50 .",
    "we will make extensive use of the spectral norm , denoted @xmath65 . for a matrix @xmath50 , @xmath66 for a vector @xmath51 , we let @xmath67 be the @xmath68 norm of @xmath51",
    ".    we will also make use of the maximum absolute column sum norm , written @xmath69 and defined as @xmath70 |$ ] , and the maximum absolute row sum norm , written @xmath71 and defined @xmath72 |$ ] .",
    "we collect a few facts about the spectral norm .",
    "these can be found in @xcite .",
    "let @xmath50 be an arbitrary @xmath73 by @xmath74 matrix",
    ". then    1 .",
    "@xmath75 2 .",
    "@xmath76 3 .   for nonnegative matrices",
    "@xmath56 , if @xmath77 then @xmath78    [ pr : fact ]      a boolean formula over the standard basis @xmath79 is a binary tree where each internal node is labeled with @xmath80 or @xmath81 , and each leaf is labeled with a literal , that is , a boolean variable or its negation .",
    "the size of a formula is its number of leaves .",
    "we naturally identify a formula with the function it computes .",
    "[ df : formula_size ] let @xmath82 be a boolean function .",
    "the formula size of @xmath3 , denoted @xmath83 , is the size of the smallest formula which computes @xmath3 .",
    "the formula depth of @xmath3 , denoted @xmath84 is the minimum depth of a formula computing  @xmath3 .",
    "it is clear that @xmath85 ; that in fact the opposite inequality @xmath86 also holds is a nontrivial result due to spira  @xcite .",
    "we will also consider probabilistic formulae , that is , a probability distribution over deterministic formulae .",
    "we take a worst - case notion of the size of a probabilistic formula .",
    "probabilistic formula size has been studied before , for example in  @xcite .",
    "[ df : prob_formula_size ] let @xmath87 be a set of functions with @xmath88 for each @xmath89 . for a function @xmath90 , we say that @xmath3 is @xmath91-approximated by @xmath87 if there is a probability distribution @xmath92 over @xmath93 such that for every @xmath41 , @xmath94 \\ge 1- \\epsilon.\\ ] ] in particular , if @xmath95 , then we say that @xmath3 is @xmath91-approximated by formulas of size @xmath96 , denoted @xmath97 .",
    "note that even if a function depends on all its variables , it is possible that the probabilistic formula size is less than the number of variables .",
    "karchmer and wigderson @xcite give an elegant characterization of formula size in terms of a communication game .",
    "we will use this framework to present our lower bounds .",
    "this presentation has the advantage of showing that our methods work more generally for the communication complexity of relations beyond the `` special case '' of formula size .",
    "the framework of communication complexity also allows us to work with the rectangle partition number , @xmath98 , which is known to lower bound communication complexity and arises very naturally when using our techniques .",
    "let @xmath99 be finite sets , and @xmath100 .",
    "in the communication game for @xmath101 , alice is given some @xmath102 , bob is given some @xmath103 and their goal is to find some @xmath104 such that @xmath105 , if such a @xmath106 exists .",
    "a communication protocol is a binary tree where each internal node @xmath51 is labelled by a either a function @xmath107 or @xmath108 describing either alice s or bob s message at that node , and where each leaf is labelled with an element @xmath104 .",
    "a communication protocol computes @xmath101 if for all @xmath109 walking down the tree according to @xmath110 leads to a leaf labelled with @xmath106 such that @xmath105 , provided such a @xmath106 exists .",
    "the communication cost @xmath111 of @xmath101 is the height of the smallest communication protocol computing @xmath101 .",
    "the communication matrix of @xmath101 is the matrix @xmath112 = \\{z   : r(x , y , z)\\}$ ] .",
    "a rectangle @xmath113 with @xmath114 and @xmath115 is monochromatic if @xmath116 \\neq \\emptyset$ ] .",
    "the protocol partition number @xmath117 is the number of leaves in the smallest communication protocol computing @xmath101 , and the rectangle partition number @xmath98 is the smallest number of disjoint monochromatic rectangles required to cover @xmath118 .",
    "( note that @xmath119 . )    for any boolean function @xmath3 we associate a relation @xmath120 .    for any boolean function @xmath3 , @xmath121 and @xmath122 .",
    "knowledge of quantum computing is not needed for reading this paper ; for completeness , however , we briefly sketch the quantum query model . more background on quantum query complexity and quantum computing in general can be found in  @xcite .    as with the classical counterpart , in the quantum query model we wish to compute some function @xmath123 , where @xmath124 , and we access the input through queries .",
    "the complexity of @xmath3 is the number of queries needed to compute @xmath3 . unlike the classical case , however",
    ", we can now make queries in superposition .",
    "formally , a query @xmath125 corresponds to the unitary transformation @xmath126 where @xmath34 , b \\in \\{0,1\\}$ ] , and @xmath106 represents the workspace .",
    "a @xmath127-query quantum algorithm @xmath50 has the form @xmath128 , where the @xmath129 are fixed unitary transformations independent of the input @xmath33 .",
    "the computation begins in the state @xmath130 , and the result of the computation @xmath50 is the observation of the rightmost bit of @xmath131 .",
    "we say that @xmath50 @xmath91-approximates  @xmath3 if the observation of the rightmost bit of @xmath132 is equal to @xmath133 with probability at least @xmath134 , for every @xmath33 .",
    "we denote by @xmath135 the minimum query complexity of a quantum query algorithm which @xmath91-approximates  @xmath3 .    along with the polynomial method  @xcite , one of the main techniques for showing lower bounds in quantum query complexity is the quantum adversary method  @xcite .",
    "recently , palek and szegedy @xcite have shown that all the strong versions of the quantum adversary method are equivalent , and further that these methods can be nicely characterized as primal and dual .",
    "we give the primal characterization as our principal definition of @xmath0 .",
    "let @xmath9 and @xmath123 be a boolean function . for every @xmath41 let @xmath136 \\rightarrow \\mathbb{r}$ ] be a probability distribution , that is , @xmath137 and @xmath138 .",
    "let @xmath139 .",
    "we define the sum probability of indices to be @xmath140    we will also use two versions of the dual method , both a weight scheme and the spectral formulation .",
    "the most convenient weight scheme for us is the `` probability scheme '' , given in lemma  4 of  @xcite .",
    "let @xmath9 and @xmath10 be a boolean function , and @xmath141 .",
    "let @xmath142 be a probability distribution on @xmath118 , and @xmath143 be probability distributions on @xmath144 respectively . finally let @xmath145\\}$ ] and @xmath146\\}$ ] be families of probability distributions on @xmath144 respectively .",
    "assume that @xmath147 when @xmath148 .",
    "let @xmath149 range over all possible tuples @xmath150 of distributions as above .",
    "then @xmath151 [ df : prob_scheme ]    we will also use the spectral adversary method .",
    "let @xmath9 and @xmath10 be a boolean function .",
    "let @xmath152 .",
    "let @xmath153 be an arbitrary @xmath154 non - negative symmetric matrix that satisfies @xmath155=0 $ ] whenever @xmath148 . for @xmath34 $ ] ,",
    "let @xmath156 be the matrix : @xmath157= \\left\\ { \\begin{array}{ll } 0 & \\mbox { if } x_i = y_i \\\\ \\gamma[x , y ] & \\mbox { if } x_i \\not = y_i \\end{array } \\right.\\ ] ] then @xmath158    note that the spectral adversary method was initially defined @xcite for symmetric matrices over @xmath159 .",
    "the above definition is equivalent : if @xmath50 is a @xmath159 matrix satisfying the constraint that @xmath160=0 $ ] when @xmath148 then @xmath50 is of the form @xmath161 $ ] , for some matrix @xmath58 over @xmath162 .",
    "then the spectral norm of @xmath50 is equal to that of @xmath58 .",
    "similarly , for any @xmath162 matrix @xmath50 we can form a symmetrized version of @xmath50 as above preserving the spectral norm .",
    "we will often use the following theorem implicitly in taking the method most convenient for the particular bound we wish to demonstrate .",
    "[ th : ss04 ] let @xmath163 be an integer , @xmath9 and @xmath164 . then @xmath165      the definition of @xmath29 arises from the kolmogorov complexity adversary method  @xcite .",
    "the kolmogorov complexity @xmath166 of a string @xmath33 , with respect to a universal turing machine @xmath167 is the length of the shortest program @xmath168 such that @xmath169 .",
    "the complexity of @xmath33 given @xmath43 , denoted @xmath170 is the length of the shortest program @xmath168 such that @xmath171 .",
    "when @xmath167 is such that the set of outputs is prefix - free ( no string in the set is prefix of another in the set ) , we write @xmath172 . from this point",
    "onwards , we fix @xmath167 and simply write @xmath173 . for more background on kolmogorov complexity",
    "consult  @xcite .",
    "let @xmath124 for an alphabet @xmath174 . for any function @xmath164 ,",
    "let @xmath175    the advantage of using concepts based on kolmogorov complexity is that they often naturally capture the information theoretic content of lower bounds .",
    "as an example of this , we give a simple proof that @xmath29 is a lower bound on circuit depth .    for any boolean function @xmath3 , @xmath176 .",
    "let @xmath149 be a protocol for @xmath177 .",
    "fix @xmath178 with different values under @xmath3 , and let @xmath179 be a transcript of the messages sent from a to b , on input @xmath178 .",
    "similarly , let @xmath180 be a transcript of the messages sent from b to a. let @xmath35 be the output of the protocol , with @xmath181 .",
    "to print @xmath35 given @xmath33 , simulate @xmath149 using @xmath33 and @xmath180 . to print @xmath35 given @xmath43 ,",
    "simulate @xmath149 using @xmath43 and @xmath179 .",
    "this shows that @xmath182 , where @xmath183 is a description of @xmath50 s and @xmath58 s algorithms .    * remark * a similar proof in fact shows that @xmath184 , where @xmath185 is the nondeterministic communication complexity . since the bound does not take advantage of interaction between the two players , in many cases we can not hope to get optimal lower bounds using these techniques .",
    "an argument similar to that in  @xcite shows that @xmath186 notice that the right hand side of the equation is identical to the definition of @xmath0 , except that the sum in the denominator is replaced by a maximum .",
    "this led us to define the complexity measure @xmath1 , in order to get stronger formula size lower bounds .",
    "let @xmath90 be a function with @xmath124 .",
    "for every @xmath41 let @xmath136 \\rightarrow \\mathbb{r}$ ] be a probability distribution .",
    "let @xmath139 .",
    "we define the maximum probability of indices to be @xmath187    it can be easily seen from the definitions that @xmath188 for any @xmath3 .",
    "the following lemma is also straightforward from the definitions :    [ le : restriction ] if @xmath189 and @xmath190 is a domain restriction of @xmath164 to @xmath191 , then @xmath192 and @xmath193 .",
    "although in general , as we shall see , @xmath0 gives weaker formula size lower bounds than @xmath1 , the measure @xmath0 has several nice properties which make it more convenient to use in practice .",
    "the next lemma shows that @xmath0 behaves like most other complexity measures with respect to composition of functions :    [ le : upper_composition ] let @xmath194 be boolean functions , and @xmath24 be a function , @xmath195 .",
    "if @xmath196 for @xmath197 and @xmath198 , then for @xmath199 , @xmath200 .",
    "let @xmath168 be an optimal family of distribution functions associated with @xmath24 and @xmath201 be optimal families of distribution functions associated with @xmath202 .",
    "define the distribution function @xmath203 } p_{g(x)}(j)p_{j , x}(i).\\ ] ]    assume that for @xmath204 we have @xmath205 .",
    "it is enough to show that    @xmath206}p_{g(x)}(j)p_{j , x}(i ) } \\sqrt{\\sum_{j\\in [ n]}p_{g(y)}(j)p_{j , y}(i)}\\\\\\ ] ]    @xmath207    by cauchy ",
    "schwarz , the left hand side of eq .",
    "[ eqc ] is greater than or equal to @xmath208 } \\sqrt{p_{g(x)}(j)p_{j , x}(i)}\\sqrt{p_{g(y)}(j)p_{j , y}(i)}}\\ ] ] @xmath209 } \\left ( \\sqrt{p_{g(x)}(j)p_{g(y)}(j ) } \\sum_{i : x_{i}\\neq y_{i } } \\sqrt{p_{j , x}(i)p_{j , y}(i ) } \\right).\\ ] ]    as long as @xmath210 , by the definition of @xmath201 , we have @xmath211 .",
    "thus we can estimate the expression in eq .",
    "[ eqc2 ] from below by :    @xmath212    by the definition of @xmath168 we can estimate the sum ( without the @xmath213 coefficient ) in the above expression from below by @xmath214 , which finishes the proof .    another advantage of working with @xmath0 complexity is the following very powerful lemma of ambainis  @xcite which makes it easy to lower bound the @xmath0 complexity of iterated functions .",
    "[ df : iteration ] let @xmath215 be any boolean function .",
    "we define the @xmath216th iteration of @xmath3 , written @xmath217 , inductively as @xmath218 and @xmath219 @xmath220    let @xmath3 be any boolean function and @xmath221 the @xmath216th iteration of @xmath3",
    ". then @xmath222 .",
    "[ le : lower_composition ]    combining this with lemma  [ le : upper_composition ] , we get :    let @xmath3 be any boolean function and @xmath221 the @xmath216th iteration of @xmath3",
    ". then @xmath223 .",
    "lemmas  [ le : restriction ] and [ le : upper_composition ] together with the adversary argument lower bound for the grover search  @xcite imply that for total boolean functions , the square root of the block sensitivity is a lower bound on the @xmath0 complexity  @xcite .",
    "hence , by  @xcite :    for total boolean functions the @xmath0 complexity is in polynomial relation with the various ( deterministic , randomized , quantum ) decision tree complexities and the fourier degree of the function .",
    "one thing that makes @xmath0 so convenient to use is that it dualizes  @xcite . in this section",
    "we partially dualize the expression @xmath1 .",
    "the final expression remains a minimization problem , but we minimize over discrete index selection functions , instead of families of probability distributions , which makes it much more tractable .",
    "still , we remark that @xmath1 can take exponential time ( in the size of the truth table of @xmath3 ) whereas , @xmath0 takes polynomial time in the size of the truth table of @xmath3 to compute by reduction to semidefinite programming .",
    "let @xmath82 be a boolean function , @xmath224 , and @xmath225 . for @xmath34 $ ]",
    "let @xmath226 be @xmath154 be defined by @xmath227 = 1-\\delta_{x_i , y_i}$ ] .",
    "we call the set of @xmath74 boolean ( @xmath228 ) matrices @xmath229 _ index selection functions _ if    1 .",
    "@xmath230 , where @xmath231=1 $ ] for every @xmath232 , @xmath233 .",
    "( informally : for every @xmath232 , @xmath233 we select a unique index ) 2 .",
    "@xmath234 ( informally : for every @xmath232 , @xmath233 the index we select is an @xmath35 such that @xmath235 ) .",
    "notice that index selection functions correspond to partitioning @xmath236 , in such a way that if @xmath178 are in the @xmath35th part , then @xmath181 .",
    "let @xmath237 be as in the previous definition .",
    "let @xmath50 be an arbitrary @xmath154 nonnegative matrix satisfying @xmath160=0 $ ] whenever @xmath148 .",
    "then @xmath238 where @xmath239 runs through all index selection functions .",
    "for a fixed family of probability distributions @xmath240 , and for the expression @xmath241 let us define the index selection function @xmath242 = 1 $ ] if @xmath243 and  0 otherwise .",
    "( argmax is the smallest argument for which the expression attains its maximal value . ) then the denominator in eq .",
    "[ eq : mpi2 ] becomes equal to @xmath244 $ ] .",
    "if we replace the above system of @xmath245s with any other choice of index selection function the value of @xmath246 $ ] will not increase .",
    "thus we can rewrite eq .",
    "[ eq : mpi2 ] as @xmath247},\\ ] ] where here @xmath242 $ ] runs through all index selection functions .",
    "thus : @xmath248 @xmath249 .",
    "\\label{eq : mpi3}\\ ] ]    notice that in eq .",
    "[ eq : mpi3 ] the minimum is interchangeable with the second maximum .",
    "the reason for this is that for a fixed @xmath168 there is a fixed @xmath250\\}_{i}$ ] system that maximizes @xmath251 $ ] for all @xmath252 .",
    "thus : @xmath253 @xmath254.\\ ] ] following the proof of the main theorem of palek and szegedy we can create the semidefinite version of the above expression .",
    "the difference here , however , is that we have to treat @xmath239 ( the index selection functions ) as a `` parameter '' of the semidefinite system over which we have to maximize .",
    "unfortunately it also appears in the final expression .    * semidefinite version of @xmath1 : * for fixed @xmath239 let @xmath255 be the solution of the following semidefinite program : @xmath256 define @xmath257 as the maximum of @xmath255 , where @xmath245 ( @xmath258 ) run through all index selection functions . then @xmath259 .",
    "we can dualize the above program and simplify it in same way as was done in palek and szegedy for the case of @xmath0 with the only change that @xmath226 needs to be replaced with @xmath245 , and that we have to minimize over all choices of @xmath239 .",
    "karchmer and wigderson @xcite give an elegant characterization of formula size in terms of a communication game .",
    "we will use this framework to present our lower bounds .",
    "this presentation has the advantage of showing that our methods work more generally for the communication complexity of relations beyond the `` special case '' of formula size .",
    "the framework of communication complexity also allows us to work with a combinatorial quantity , the rectangle partition number , @xmath98 , which is known to lower bound communication complexity and arises very naturally when using @xmath0 .",
    "we first prove a combinatorial lemma which is the key to our main result .",
    "this lemma relates the spectral norm squared of a matrix to the spectral norm squared of its submatrices .",
    "this lemma may also be of independent interest .",
    "let @xmath260 and @xmath261 be finite sets .",
    "a set system @xmath262 ( over @xmath118 ) will be called a _ covering _ if @xmath263 .",
    "further , @xmath262 will be called a _ partition _",
    "if @xmath262 is a covering and the intersection of any two distinct sets from @xmath262 is empty .",
    "a _ rectangle _",
    "( over @xmath162 ) is an arbitrary subset of @xmath162 of the form @xmath264 for some @xmath265 and @xmath266 .",
    "a set system @xmath267 will be called a _ rectangle partition _",
    "if @xmath267 is a partition and each @xmath268 is a rectangle .",
    "let @xmath50 be a matrix with rows indexed from @xmath260 and columns indexed from @xmath261 and let @xmath267 be a rectangle partition of @xmath162 . for a rectangle @xmath269 let @xmath270 be the @xmath271 submatrix of @xmath50 corresponding to the rectangle @xmath101 . for subsets",
    "@xmath272 we define : @xmath273 = a[x , y ] , \\;\\ ; \\mbox{if $ ( x , y)\\in s$ and $ 0 $ otherwise}.\\ ] ] notice that for a rectangle @xmath101 , matrices @xmath270 and @xmath274 differ only by a set of all - zero rows and columns .",
    "we are now ready to state the lemma :    let @xmath50 be an arbitrary @xmath154 matrix ( possibly with complex entries ) , and @xmath267 a partition of @xmath162",
    ". then @xmath275 [ le : pretty_lemma ]    by proposition  [ pr : fact ] , @xmath276 , where the maximum is taken over all unit vectors @xmath277 .",
    "let @xmath277 be the unit vectors realizing this maximimum .",
    "then we have @xmath278 let @xmath279 be the portion of @xmath280 corresponding to the rows of @xmath101 , and @xmath281 be the portion of @xmath51 corresponding to the columns of @xmath101 . notice that @xmath282 do not in general form a partition of @xmath283 .",
    "we now have @xmath284 by proposition  [ pr : fact ] . applying the cauchy ",
    "schwarz inequality , we obtain @xmath285 now it simply remains to observe that @xmath286 ^ 2 v[y]^2= |u|^2 |v|^2 = 1,\\ ] ] as @xmath267 is a partition of @xmath162 .      in this section , we prove our main result that @xmath1 is a lower bound on formula size .",
    "we first identify two natural properties which are sufficient for a function to be a formula size lower bound .",
    "a function @xmath287 is called a _ rectangle measure _ if the following properties hold .    1 .",
    "( subadditivity ) for any rectangle partition @xmath267 of @xmath118 , @xmath288 .",
    "( monotonicity ) for any rectangle @xmath289 , and subset @xmath290 , if @xmath291 then @xmath292 .",
    "theorem [ le : pretty_lemma ] implies that for any @xmath293 matrix @xmath50 with non - negative entries @xmath294 of expression ( [ eq : as ] ) is a rectangle measure .",
    "other examples include the rank of @xmath295 for any matrix @xmath50 over any field ( see section  [ sect : razborov ] ) , and the @xmath296-rectangle size bounds of  @xcite .",
    "let @xmath297 be two families of sets over the same universe .",
    "we say that @xmath298 is _ embedded _ in @xmath299 ( @xmath300 ) if for every @xmath301 there is a @xmath302 such that @xmath303 .",
    "[ thm : mu ] let @xmath296 be a rectangle measure over @xmath304 , @xmath262 be a covering of @xmath118 and @xmath267 a rectangle partition of @xmath162 such that @xmath305 .",
    "then @xmath306 .",
    "the proof follows by subadditivity and monotonicity of @xmath296 .",
    "@xmath307 [ thm : main ]    we have seen that @xmath308 , and @xmath309 follows from the karchmer  wigderson communication game characterization of formula size , thus we focus on the inequality @xmath310 .",
    "let @xmath267 be a monochromatic rectangle partition of @xmath177 such that @xmath311 , and let @xmath50 be an arbitrary @xmath154 matrix with nonnegative real entries . for @xmath268 let @xmath312 be the least index @xmath313 such that @xmath314 holds for all @xmath315 . by assumption",
    "each @xmath101 is monochromatic , thus such a color exists .",
    "define @xmath316 then @xmath267 is naturally embedded in the covering @xmath317}$ ] . for any @xmath272 ,",
    "let @xmath318 . by lemma  [ le : pretty_lemma ] , and item 3 of proposition  [ pr : fact ] , @xmath319 is a rectangle measure .",
    "hence by theorem  [ thm : mu ] , @xmath320 we have exhibited a particular index selection function , the @xmath321 , for which this inequality holds , thus it also holds for @xmath6 which is the minimum over all index selection functions .",
    "the properties of @xmath0 allow us to show that it can be used to lower bound the probabilistic formula size .",
    "[ le : spi_rand ] let @xmath322 .",
    "if @xmath164 is @xmath91-approximated by functions @xmath87 with @xmath323 for every @xmath89 , then @xmath324 .    by assumption",
    "there is a probability distribution @xmath325 such that @xmath326\\ge 1- \\epsilon$ ] .",
    "thus for a fixed @xmath41 , letting @xmath327 , we have @xmath328 .",
    "hence for any @xmath329 we have @xmath330 . for convenience , we write @xmath331 for @xmath332 . as @xmath323",
    "there is a family of probability distributions @xmath333 such that whenever @xmath334 @xmath335 define @xmath336 .",
    "let @xmath178 be such that @xmath337 .",
    "@xmath338 where for the third step we have used the cauchy ",
    "schwarz inequality .",
    "this lemma immediately shows that the @xmath0 method can give lower bounds on probabilistic formula size .",
    "let @xmath339 and @xmath90 .",
    "then @xmath340 for any @xmath322 .",
    "suppose that @xmath87 gives an @xmath91-approximation to @xmath3 .",
    "using lemma  [ le : spi_rand ] in the contrapositive implies that there exists some @xmath89 with @xmath341 .",
    "theorem  [ thm : main ] then implies @xmath342 which gives the statement of the theorem .",
    "in this section we look at several formula size lower bound techniques and see how they compare with our methods . a bottleneck in formula size lower bounds seems to have been to go beyond methods which only consider pairs @xmath343 with @xmath344 which have hamming distance 1 . in fact , the methods of khrapchenko , koutsoupias , and a lemma of hstad can all be seen as special cases of the @xmath0 method where only pairs of hamming distance 1 are considered .",
    "one of the oldest and most general techniques available for showing formula size lower bounds is khrapchenko s method @xcite , originally used to give a tight @xmath345 lower bound for the parity function .",
    "this method considers a bipartite graph whose left vertices are the 0-inputs to @xmath3 and whose right vertices are the 1-inputs .",
    "the bound given is the product of the average degree of the right and left hand sides .",
    "[ th : khrap ] let @xmath9 and @xmath164 .",
    "let @xmath346 and @xmath347 .",
    "let @xmath348 be the set of pairs @xmath349 with hamming distance 1 , that is @xmath350",
    ". then @xmath351 .",
    "khrapchenko s method can easily be seen as a special case of the probability scheme .",
    "letting @xmath352 be as in the statement of the theorem , we set up our probability distributions as follows :    @xmath353 for all @xmath354 , @xmath355 otherwise    @xmath356 for all @xmath357 , @xmath358 otherwise    @xmath359 for all @xmath360 , @xmath361 otherwise    @xmath362 if @xmath363 and @xmath364 , 0 otherwise .",
    "note that this is a probability distribution as for every @xmath33 there is only one @xmath43 such that @xmath360 and @xmath181 .    by theorem",
    "[ th : ss04 ] and theorem  [ thm : main ] , @xmath365 where the expression in the middle is a lower bound on @xmath366 .",
    "koutsoupias  @xcite extends khrapchenko s method with a spectral version .",
    "the weights are always 1 for pairs of inputs with different function values that have hamming distance 1 , and  0 everywhere else .",
    "let @xmath367 , and let @xmath368 , and @xmath369 .",
    "let @xmath370 .",
    "let @xmath371 be a @xmath372 matrix @xmath373=c(x , y)$ ] where @xmath348 is identified with its characteristic function",
    ". then @xmath374 .",
    "[ th : kou ]    the bound follows easily from the the spectral version of @xmath0 .",
    "let @xmath371 be as in the statement of the theorem .",
    "notice that since we only consider pairs with hamming distance 1 , for every row and column of @xmath375 there is at most one nonzero entry , which is at most 1 .",
    "thus by proposition  [ pr : fact ] we have @xmath376 .",
    "the theorem now follows from theorem  [ thm : main ] .",
    "the shrinkage exponent of boolean formulae is the least upper bound @xmath377 such that subject to a random restriction where each variable is left free with probability @xmath168 , boolean formulae shrink from size @xmath378 to expected size @xmath379 . determining the shrinkage exponent is important as andreev @xcite defined a function @xmath3 whose formula size is @xmath380 .",
    "hstad @xcite shows the shrinkage exponent of boolean formulae is 2 and thereby obtains an @xmath381 formula size lower bound ( up to logarithmic factors ) , the largest bound known for an explicit function . on the way to this result",
    ", hstad proves an intermediate lemma which gives a lower bound on formula size that depends on the probability that restrictions of a certain form occur .",
    "he proves that this lemma is a generalization of khrapchenko s method ; we prove that hstad s lemma is in turn a special case of @xmath0 .",
    "since hstad s method uses random restrictions , which at first glance seems completely different from adversary methods , it comes as a surprise that it is in fact a special case of our techniques .    for any function @xmath382 ,    1 .",
    "a _ restriction _ is a string in @xmath383 where @xmath384 means the variable is left free , and  0 or  1 mean the variable is set to the constant  0 or  1 , respectively .",
    "the restricted function @xmath385 is the function that remains after the non-@xmath384 variables in @xmath386 are fixed .",
    "@xmath387 is the distribution on random restrictions to the variables of @xmath3 obtained by setting each variable , independently , to @xmath384 with probability @xmath168 , and to  0 or  1 each with probability @xmath388 .",
    "a _ filter _ @xmath389 is a set of restrictions which has the property that if @xmath390 , then every @xmath391 obtained by fixing one of the @xmath384s to a constant is also in @xmath389 .",
    "when @xmath168 is known from the context , and for any event @xmath392 , and any filter @xmath389 , we write @xmath393 $ ] to mean @xmath394 $ ] .",
    "[ thm : hastad ] let @xmath367 .",
    "let @xmath50 be the event that a random restriction in @xmath387 reduces @xmath3 to the constant  0 , @xmath58 be the event that a random restriction in @xmath387 reduces @xmath3 to the constant 1 , and let @xmath348 be the event that a random restriction @xmath395 is such that @xmath385 is a single literal .",
    "then @xmath396 ^ 2}{pr[a|\\delta]pr[b|\\delta ] } \\left(\\frac{1-p}{2p}\\right)^2\\ ] ]    we show that the theorem follows from the probability scheme ( definition  [ df : prob_scheme ] ) . in this proof",
    "we only consider restrictions obtained from @xmath387 that are in the filter @xmath389 .",
    "we also abuse notation and use @xmath50 and @xmath58 to mean the sets of restrictions in @xmath389 which contribute with non - zero probability to the events @xmath50 and @xmath58 respectively .",
    "implicit in hstad s proof is the following relation between restrictions in @xmath50 and @xmath58 . for every @xmath397",
    ", @xmath385 reduces to a single literal , that is , for every @xmath397 , there is an @xmath35 such that @xmath398 ( or @xmath399 if the variable is negated ) .",
    "define @xmath400 to be @xmath386 where @xmath401 is set to @xmath402 , for @xmath403 ( set @xmath401 to @xmath404 if the variable is negated ) . to fit into the framework of the probability scheme ,",
    "let @xmath405 be @xmath400 where all remaining @xmath384s are set to  1 .",
    "this does nt change the value of the function , because it is already constant on @xmath400 .",
    "then we say that @xmath406 are in the relation .",
    "we set @xmath407}{\\pr[a|\\delta]}$ ] for any @xmath408 , and @xmath409}{\\pr[b|\\delta]}$ ] for any @xmath410 , and for every pair @xmath406 in the relation , where @xmath397 , @xmath398 or @xmath399 , let @xmath411}{pr[c|\\delta]}\\end{aligned}\\ ] ] the probabilities are  0 on all other inputs .",
    "we can easily verify that the probabilities sum to  1 .",
    "for @xmath412 , notice that the hamming distance between @xmath413 and @xmath414 is 1 , so when @xmath405 and @xmath35 are fixed , there is only a single @xmath415 with probability 1 .    by theorem  [ th : ss04 ] and theorem  [ thm : main ] , @xmath416}{pr[a|\\delta]}\\frac{pr[\\rho^1]}{pr[b|\\delta ] } }       { \\left(\\frac{pr[c|\\delta ] } { pr[\\rho]}\\right)^2}\\\\\\end{aligned}\\ ] ] finally , notice that @xmath417=\\frac{2p}{1-p}pr[\\rho^b]$ ] .",
    "* remark * hstad actually defines @xmath385 to be the result of reducing the formula for @xmath3 ( not the function ) by applying a sequence of reduction rules , for each restricted variable .",
    "so there is a subtlety here about whether @xmath385 denotes the reduced formula , or the reduced function , and the probabilities might be different if we are in one setting or the other .",
    "however both in his proof and ours , the only thing that is used about the reduction is that if the formula or function reduces to a single literal , then fixing this literal to 0 or to 1 reduces the function to a constant .",
    "therefore , both proofs go through for both settings .",
    "razborov @xcite proposes a formula size lower bound technique using matrix rank :    let @xmath262 be a covering over @xmath162 , let @xmath50 be an arbitrary nonzero @xmath154 matrix , and @xmath267 be a rectangle partition of @xmath162 such that @xmath305 .",
    "then @xmath418 [ thm : razborov ]    it can be easily verified that the function @xmath419 is a rectangle measure , thus this theorem follows from theorem  [ thm : mu ] .",
    "razborov uses theorem  [ thm : razborov ] to show superpolynomial monotone formula size lower bounds , but also shows that the method becomes trivial ( limited to @xmath420 bounds ) for regular formula size @xcite .",
    "an interesting difference between matrix rank and and spectral norm is that @xmath421 holds for any two matrices @xmath56 , while a necessary condition for subadditivity of the spectral norm squared is that @xmath56 be disjoint rectangles .",
    "we show that the bounds for a function @xmath3 given by khrapchenko s and koutsoupias method , and by hstad s lemma are upper bounded by the product of the zero sensitivity and the one sensitivity of @xmath3 .",
    "we will later use this bound to show a function on @xmath74 bits for which the best lower bound given by these methods is @xmath74 and for which an @xmath422 bound is provable by @xmath28 .    [",
    "le : kh - limits ] the bound given by the khrapchenko method ( theorem  [ th : khrap ] ) , koutsoupias method ( theorem  [ th : kou ] ) , and hstad s lemma ( theorem  [ thm : hastad ] ) for a function @xmath3 are at most @xmath423 .",
    "let @xmath50 be a nonnegative matrix , with nonzero entries only in positions @xmath343 where @xmath424 and the hamming distance between @xmath178 is one .",
    "we first show that @xmath425 let @xmath426 be the largest entry in @xmath50 .",
    "@xmath50 can have at most @xmath36 many nonzero entries in any row , and at most @xmath38 many nonzero entries in any column , thus by item 2 of propostion  [ pr : fact ] , @xmath427 on the other hand , for some @xmath35 , the entry @xmath426 appears in @xmath428 , and so by item 1 of proposition  [ pr : fact ] , @xmath429 equation  [ eq : h1_sp ] follows .",
    "now we see that the left hand side of equation  [ eq : h1_sp ] is larger than the three methods in the statement of the theorem . that it is more general than koutsoupias method is clear . to see that it is more general than the probability schemes method where @xmath430 is only positive if the hamming distance between @xmath178 is one : given the probability distributions @xmath431 , define the matrix @xmath160=q(x , y)/\\sqrt{p_x(x)p_y(y)}$ ] . by item 1 of proposition  [ pr :",
    "fact ] , @xmath432 , witnessed by the unit vectors @xmath433=\\sqrt{p_x(x)}$ ] and @xmath434=\\sqrt{p_y(y)}$ ] .",
    "as each reduced matrix @xmath428 has at most one nonzero entry in each row and column , by item 2 of proposition  [ pr : fact ] we have @xmath435 thus we have shown @xmath436    the only reference to the limitations of these methods we are aware of is schrfeld  @xcite , who shows that khrapchenko s method can not prove bounds greater than @xmath437 .",
    "the limitations of the adversary method are well known @xcite .",
    "palek and szegedy , in unifying the adversary methods , also give the most elegant proof of their collective limitation .",
    "the same proof also shows the same limitations hold for the @xmath1 measure .",
    "[ le : mpi_limit ] let @xmath215 be any partial or total boolean function . if @xmath3 is total ( respectively , partial ) then @xmath438 ( respectively , @xmath439 ) .",
    "assume that @xmath3 is total .",
    "take @xmath178 such that @xmath440 and @xmath441 .",
    "we choose any 0-certificate @xmath442 for @xmath33 and any 1-certificate @xmath443 for @xmath43 and let @xmath444 for all @xmath445 and @xmath446 for all @xmath447 . as @xmath3 is total , we have @xmath448 , thus let @xmath449",
    ". for this @xmath450 we have @xmath451 , thus @xmath452 .",
    "the case where @xmath3 is partial follows similarly .",
    "as we no longer know that @xmath448 , we put a uniform distribution over a 0-certificate of @xmath33 and the uniform distribution over @xmath13 $ ] on @xmath43 or vice versa .",
    "this lemma implies that @xmath0 and @xmath1 are polynomially related for total @xmath3 .",
    "let @xmath3 be a total boolean function .",
    "then @xmath453 .    by (",
    "5.2 ) we know that @xmath454 . as @xmath3 is total , by the above lemma we know that @xmath455 .",
    "this in turn is smaller than @xmath456 as @xmath457 @xcite .",
    "the statement follows .    besides the certificate complexity barrier",
    ", another serious limitation of the @xmath0 method occurs for partial functions where every positive input is far in hamming distance from every negative input .",
    "thus for example , if for any pair @xmath178 where @xmath458 and @xmath459 we have @xmath460 , then by putting the uniform distribution over all input bits it follows that @xmath461 .",
    "the measure @xmath1 does not face this limitation as there we still only have one term in the denominator .",
    "following this line of thinking , we can give an example of a partial function @xmath3 where @xmath462 .",
    "such an example is the collision problem ( see section  [ sect : collision ] ) , as here any positive and negative input must differ on at least @xmath463 positions .",
    "another family of examples comes from property testing , where the promise is that the input either has some property , or that it is @xmath91-far from having the property .",
    "the quantum adversary argument has been used to prove lower bounds for a variety of problems .",
    "naturally , all of these lower bounds carry over to formula size lower bounds . in this section",
    "we present some new lower bounds , in order to highlight the strengths and weaknesses of @xmath1 and @xmath0 .      as an example of applying @xmath0 ,",
    "we look at the recursive majority of three function . we let @xmath464 be the function computed by a complete ternary tree of depth @xmath24 where every internal node is labeled by a majority gate and the input is given at the leaves .",
    "recursive majority of three has been studied before in various contexts .",
    "it is a monotone function which is very sensitive to noise  @xcite , making it useful for hardness amplification in np  @xcite .",
    "jayram , kumar , and sivakumar  @xcite give nontrivial lower and upper bounds on the randomized decision tree complexity of recursive majority of three .",
    "they show a lower bound of @xmath465 on the randomized decision tree complexity . as far as we know",
    ", the quantum query complexity of recursive majority of three has not yet been investigated .",
    "we show a lower bound of @xmath466 on the quantum query complexity .",
    "@xmath467 [ le : spi - rec - maj ]    to see that @xmath468 , observe that @xmath469 .",
    "the result then follows from lemma  [ le : mpi_limit ] .",
    "we now turn to the lower bound .",
    "we will first show a lower bound for @xmath470 , the majority of three function , and then apply lemma  [ le : lower_composition ] .",
    "consider the following table , where the rows are indexed by negative instances @xmath33 , the columns by positive instances @xmath43 , and 1 s indicate when @xmath471 .",
    "[ cols=\"^,^,^,^\",options=\"header \" , ]",
    "our new formula size lower bound techniques subsume many previous techniques , and for some functions they are provably better .",
    "a significant part of our intuition comes from quantum query complexity and kolmogorov complexity .",
    "measures @xmath0 and @xmath1 have many interesting properties and they connect different complexities such as quantum query complexity , classical formula size , classical probabilistic formula size and circuit depth .    an outstanding open problem is whether the square of the quantum query complexity lower bounds the formula size .",
    "another is that we do not know a nice dual expression for @xmath1 , and it does not seem to be a natural property in the sense of razborov and rudich .",
    "thus the study of @xmath1 may lead us to a better understanding of complexity measures that themselves are hard to compute .",
    "we could reprove a key lemma of hstad that leads to the best current formula size lower bound and we are hopeful that our techniques eventually will lead to improvements of the bounds in @xcite .",
    "we would like to thank frdric magniez , robert palek , and ronald de wolf for helpful discussions .",
    "we also wish to thank ryan odonnell for suggesting to look at the recursive majority of three function , and xiaomin chen for help in programming .",
    "finally , we thank the anonymous referees for many exposition improving comments .",
    "i.  kerenidis and r. de wolf .",
    "exponential lower bound for 2-query locally decodable codes via a quantum argument . in",
    "_ proceedings of the thirty - fifth annual acm symposium on theory of computing _ , pages 106115 , 2003 .",
    "s.  laplante and f.  magniez .",
    "lower bounds for randomized and quantum query complexity using kolmogorov arguments . in _ proceedings of the nineteenth annual ieee conference on computational complexity _ , pages 294304 , 2004 .",
    "p.  spira . on time - hardware complexity tradeoffs for boolean functions . in _ proceedings of the 4th hawaii symposium on system sciences _ , pages 525527 .",
    "western periodicals company , north hollywood , 1971 ."
  ],
  "abstract_text": [
    "<S> we introduce two new complexity measures for boolean functions , which we name @xmath0 and @xmath1 . </S>",
    "<S> the quantity @xmath0 has been emerging through a line of research on quantum query complexity lower bounds via the so - called quantum adversary method  @xcite , culminating in @xcite with the realization that these many different formulations are in fact equivalent . given that @xmath0 turns out to be such a robust invariant of a function , we begin to investigate this quantity in its own right and see that it also has applications to classical complexity theory .    as a surprising application </S>",
    "<S> we show that @xmath2 is a lower bound on the formula size , and even , up to a constant multiplicative factor , the probabilistic formula size of @xmath3 . </S>",
    "<S> we show that several formula size lower bounds in the literature , specifically khrapchenko and its extensions  @xcite , including a key lemma of  @xcite , are in fact special cases of our method . the second quantity </S>",
    "<S> we introduce , @xmath4 , is always at least as large as @xmath5 , and is derived from @xmath0 in such a way that @xmath6 remains a lower bound on formula size .    </S>",
    "<S> our main result is proven via a combinatorial lemma which relates the square of the spectral norm of a matrix to the squares of the spectral norms of its submatrices . </S>",
    "<S> the generality of this lemma gives that our methods can also be used to lower bound the communication complexity of relations , and a related combinatorial quantity , the rectangle partition number .    to exhibit the strengths and weaknesses of our methods , we look at the @xmath0 and @xmath1 complexity of a few examples , including the recursive majority of three function , a function defined by ambainis @xcite , and the collision problem . </S>"
  ]
}