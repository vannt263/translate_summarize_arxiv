{
  "article_text": [
    "we study a generalization of the discrete toda lattice parametrized by a triple of integers @xmath1 , which corresponds to a network on a torus with @xmath2 horizontal wires , @xmath3 vertical wires and @xmath4 _ shifts _ at the horizontal boundary .",
    "an example of the kind of toric network that we consider is given in figure [ fig : toda3 ] .",
    "the phase space @xmath5 of our system is the space of parameters @xmath6 assigned to each of the crossings of the wires ( a @xmath7 dimensional space for the example in figure [ fig : toda3 ] ) .",
    "we construct two families of commuting discrete time evolutions acting on the parameters @xmath8 , together generating an action of @xmath9 , where @xmath10 .",
    "these time evolutions act as birational transformations of the phase space .",
    "the purpose of this paper is to study the algebro - geometrical structure of these maps and to solve the corresponding initial value problem .",
    "the rational transformations of the phase space come from the _ affine geometric @xmath0-matrix _ , acting on the parameters of two adjacent parallel wires , either horizontal or vertical .",
    "the affine geometric @xmath0-matrix arises in the theory of affine geometric crystals @xcite , being a birational lift of the _ combinatorial @xmath0-matrix _ of certain tensor products of kirillov - reshetikhin crystals for @xmath11 @xcite .",
    "geometric @xmath0-matrices also arises independently in the study of painlev equations @xcite and total positivity @xcite ; see also @xcite .",
    "the geometric @xmath0-matrix satisfies the yang - baxter relation and we show in theorem [ thm : dynamics ] that the action of the geometric @xmath0-matrix generates commuting birational actions of two affine weyl groups @xmath12 and @xmath13 : one swapping horizontal wires , and one swapping vertical wires .",
    "the commutativity was proved in @xcite for the case @xmath14 ; we extend it here to arbitrary @xmath4 .",
    "the @xmath9 time - evolutions of our dynamical system come from the subgroup of translation elements in the corresponding affine weyl group . in the case",
    "@xmath15 , a rational map given by one of the @xmath16 actions corresponds to the discretization of the well - known @xmath2-periodic toda lattice equation , studied in @xcite .",
    "the dynamics that we study come from positive birational maps , and they tropicalize to the box - ball system @xcite and the combinatorics of jeu - de - taquin ( see  [ sec : tab ] ) .    to study the dynamics of our generalized discrete toda lattice",
    ", we construct a spectral map @xmath17 where @xmath18 is a spectral curve , @xmath19 is degree @xmath20 divisor , and the remaining data is explained in  [ sec : eigenvector ] . we show that when appropriately restricted , the spectral map is an injection .",
    "such spectral data is frequently encountered in the theory of integrable systems , and our approach follows that of van moerbeke and mumford @xcite .",
    "van moerbeke and mumford used similar spectral data to study periodic difference operators .",
    "the heart of our work is the calculation of the double affine geometric @xmath0-matrix action in terms of the spectral data : we show that the translation subgroup @xmath9 acts as constant motions on the jacobian of @xmath18 , while the symmetric subgroups of @xmath12 and of @xmath13 act by permuting the additional data @xmath21 and @xmath22 ( which are certain special points on @xmath18 ) .",
    "we explicitly invert ( for @xmath23 ) the spectral map @xmath24 using riemann theta functions , and give a solution to the initial value problem .",
    "this extends work of iwao @xcite , who studied the initial value problem of the @xmath25 action in the @xmath26 and @xmath27 cases .",
    "we relate our theta function solutions to the octahedron recurrence @xcite via fay s trisecant identity@xcite .",
    "we also give an interpretation of our dynamics in terms of dimer model transformations @xcite .",
    "* outline .",
    "* the outline of this paper is as follows : in  [ sec : netw ] , we introduce a family of commuting actions on the toric network , generalizating the discrete toda lattice .",
    "we briefly summarize the main results of this paper in  [ subsec : main ] , and give some examples and applications in  [ subsec : example ] . in ",
    "[ sec : lax ] , we introduce a space @xmath28 of lax matrices for our system , and construct the spectral curves @xmath18 , where @xmath29 $ ] .",
    "we also study certain special points on our spectral curves , and analyze some of the singular points . in  [ sec : eigenvector ] , we study the spectral map which sends a point in the phase space to the spectral curve @xmath18 , a divisor @xmath30 on @xmath18 , and some additional data .",
    "we modify the strategy in @xcite to fit our situation . in ",
    "[ sec : prooflax ] and  [ sec : proofeigenvector ] we present the proofs of results in  [ sec : lax ] and  [ sec : eigenvector ] respectively . in particular , the coefficients of the spectral curves ( which are integrals of motion ) are described explicitly in terms of the combinatorics of these networks . in  [ sec : actions ] , we study the vertical @xmath25 actions , the horizontal @xmath31 actions , and the snake path actions . we show that all the actions preserve the spectral curve , and the commuting @xmath32 actions induce constant motions on the picard group of @xmath18 , through the map @xmath24 . in  [ sec : theta ] , we solve , for the case of @xmath33 , the initial value problem for the commuting actions by constructing the inverse of @xmath24 in terms of the riemann theta function .",
    "our method extends the strategy in @xcite . for @xmath34",
    ", a solution is given that relies on a technical condition . in ",
    "[ sec : fay ] , we show that the theta function solution for the system satisfies the octahedron recurrence , by specializing fay s trisecant identity for the riemann theta function . in  [ sec : transpose ] , we study the symmetry between the network and its transposition obtained by swapping the roles of the vertical and the horizontal wires . in ",
    "[ sec : cluster ] , we realize the @xmath0-matrix transformation on a toric network in terms of transformations of the honeycomb dimer model on a torus  @xcite . an explicit interpretation of the @xmath0-matrix as a cluster transformation will be the subject of future work @xcite , so we do not elaborate on the relation to cluster structures here .",
    "* future directions .",
    "* there are several systematic ways to construct integrable rational maps using combinatorial objects on surfaces , such as directed networks , electrical networks , and bipartite graphs  @xcite .",
    "in particular , the @xmath0-matrix of the present work has an  electrical \" analogue @xcite",
    ". it would be interesting to study these discrete - time dynamical systems from the view point of algebraic geometry ( cf .",
    "@xcite ) . in all these cases ,",
    "the rational transformations are additionally positive , and can be tropicalized to piecewise - linear maps that generate a discrete - time and discrete - space dynamical system .",
    "it is natural to consider the tropical counterpart of our work using tropical geometry as in@xcite , where tropical curves and tropical theta functions are used to study the piecewise - linear map arising from the @xmath15 case .",
    "* acknowledgments . *",
    "we thank rick kenyon for helpful discussions .",
    "we also thank the anonymous referee for kind comments which improved the manuscript .",
    "we study the action of the geometric @xmath0-matrix on an array of variables .",
    "the geometric @xmath0-matrix generates an action of a product of commuting ( extended ) affine symmetric groups , acting as birational transformations .      for a vector @xmath35 ,",
    "let @xmath36 .",
    "let @xmath35 and @xmath37 be two vectors .",
    "define the _ energy _",
    "@xmath38 to be @xmath39 define the affine geometric @xmath0-matrix to be the transformation @xmath40 , given by @xmath41 we will usually think of @xmath0 as a birational transformation of @xmath42 .",
    "it is easy to see @xmath43      the @xmath0-matrix can be used to act on a rectangular array of variables , by acting on consecutive pairs of rows or of columns .",
    "let @xmath44 be three positive integers , and let @xmath45 be a nonnegative integer satisfying @xmath46 .",
    "note that we allow @xmath47 if and only if @xmath48 .",
    "let @xmath49 be the unique number in the range @xmath50 such that @xmath51 .",
    "for a positive integer @xmath52 , we define @xmath53 : = \\{1,2,\\ldots , a\\}$ ] .",
    "we consider an array of @xmath54 variables @xmath55 , b \\in [ \\b ] , c \\in [ \\c]}$ ] .",
    "we consider two distinct ways to arrange them in a two - dimensional rectangular array : @xmath56 and @xmath57 by convention , @xmath58 denotes the entry in the _ @xmath59-th column _ and _ @xmath60-th row_. we call these arrays @xmath61 and @xmath62 . the first array @xmath61 has dimensions @xmath63 and the second array @xmath62 has dimensions @xmath64 . note that changing @xmath65 , @xmath66 , @xmath67 swaps @xmath61 and @xmath62 .    [ ex:2221 ]",
    "let @xmath68 .",
    "the two arrays are as follows .",
    "@xmath69    [ ex:3232 ] let @xmath70 .",
    "the two arrays are as follows .",
    "@xmath71    the arrays @xmath61 and @xmath62 correspond to a network on a torus in the following way .",
    "let @xmath72 a network embedded into a torus , as illustrated in figure  [ fig : networkg ] .",
    "each rectangle of red lines denotes the fundamental domain of the torus .",
    "there are @xmath73 vertical  wires \" ( directed upwards ) , forming @xmath73 simple curves in the torus with the same homology class , and @xmath74 horizontal wires ( directed to the right ) , which form @xmath75 simple curves on the torus with another homology class : the top @xmath76 right ends of horizontal wires cross the top edge and come out on the other side .",
    "we set @xmath8 at the crossing of the @xmath59-th vertical and the @xmath60-th horizontal wires , then @xmath61 corresponds to the configuration of the @xmath8 on @xmath72 .",
    "when we see @xmath72 from the inside of the torus , the roles of the vertical and horizontal wires are interchanged ; there are @xmath75 vertical wires forming @xmath75 simple curves , and @xmath77 horizontal wires forming @xmath73 simple curves .",
    "the top @xmath78 ends of horizontal wires cross the top edge and come out on the other side .",
    "the array @xmath62 corresponds to this  from - inside \" configuration , where @xmath79 is placed at the crossing of the @xmath59-th vertical and the @xmath60-th horizontal wires .",
    "see figure  [ fig:3232 ] for the network in the case of example  [ ex:3232 ] , where the lines with the same color in the two pictures are identical simple curves in @xmath72 .",
    "= 0.9 mm    ( 100,95)(0,-8 )    ( 10,-8)(8,0)10(0,1)92 ( 4,76)(0,-8)11(1,0)82    ( 10,80)(8,0)4 ( 10,24)(8,0)4 ( 42,48)(8,0)4 ( 42,-8)(8,0)4 ( 6,76)(0,-8)11 ( 38,76)(0,-8)11 ( 70,76)(0,-8)11    ( 11,81)@xmath80 ( 19,81)@xmath81 ( 27,81)@xmath82 ( 35,81)@xmath73    ( 11,25)@xmath80 ( 19,25)@xmath81 ( 27,25)@xmath82 ( 35,25)@xmath73    ( 43,49)@xmath80 ( 51,49)@xmath81 ( 59,49)@xmath82 ( 67,49)@xmath73    ( 5,78)@xmath80 ( 5,70)@xmath81 ( 5,62)@xmath83 ( 4,54)@xmath76 ( 5,46)@xmath84 ( 5,38)@xmath83 ( 4,30)@xmath74 ( 5,22)@xmath80 ( 5,14)@xmath81 ( 5,6)@xmath83 ( 4,-2)@xmath76    ( 37,78)@xmath85 ( 37,70)@xmath86 ( 37,62)@xmath83 ( 36,54)@xmath74 ( 37,46)@xmath80 ( 37,38)@xmath83 ( 36,30)@xmath87    ( 5,80)(0,-56)2(1,0)32 ( 37,48)(0,-56)2(1,0)32 ( 69,72)(0,-56)2(1,0)16 ( 5,80)(32,0)3(0,-1)88    = 0.9 mm    ( 100,85)(0,5 )    ( -8,80)@xmath88    ( 10,30)(8,0)3(0,1)54 ( 4,76)(0,-8)6(1,0)30    ( 10,80)(8,0)3 ( 10,32)(8,0)3 ( 6,76)(0,-8)6 ( 30,76)(0,-8)6    ( 11,81)(0,-48)2@xmath80 ( 19,81)(0,-48)2@xmath81 ( 27,81)(0,-48)2@xmath89    ( 5,78)@xmath80 ( 5,70)@xmath81 ( 5,62)@xmath89 ( 5,54)@xmath90 ( 5,46)@xmath91 ( 5,38)@xmath92    ( 29,78)@xmath89 ( 29,70)@xmath90 ( 29,62)@xmath91 ( 29,54)@xmath92 ( 29,46)@xmath80 ( 29,38)@xmath81    ( 50,80)@xmath93    ( 68,6)(8,0)2(0,1)78 ( 62,76)(0,-8)9(1,0)22    ( 68,80)(8,0)2 ( 68,8)(8,0)2 ( 64,76)(0,-8)9 ( 80,76)(0,-8)9 ( 69,81)(0,-72)2@xmath80 ( 77,81)(0,-72)2@xmath81    ( 63,78)@xmath80 ( 63,70)@xmath81 ( 63,62)@xmath89 ( 63,54)@xmath90 ( 63,46)@xmath91 ( 63,38)@xmath92 ( 63,30)@xmath94 ( 63,22)@xmath95 ( 63,14)@xmath96    ( 79,78)@xmath90 ( 79,70)@xmath91 ( 79,62)@xmath92 ( 79,54)@xmath94 ( 79,46)@xmath95 ( 79,38)@xmath96 ( 79,30)@xmath80 ( 79,22)@xmath81 ( 79,14)@xmath89     ( 4,75)(0,-16)3(1,0)30 ( 77,6)(0,1)78     ( 9,30)(0,1)54 ( 60,59)(0,-24)3(1,0)22    [ def : action ] let @xmath97 , j \\in [ r]}$ ] be an @xmath98 array . let @xmath99}$ ] , and write @xmath100 for the transpose of @xmath101 . for @xmath102 , define the array @xmath103 by @xmath104 if @xmath105 , and @xmath106 . also define an array @xmath107 by the formula @xmath108 here we consider the first index modulo @xmath109 and the second index modulo @xmath110 .",
    "let @xmath111 be the phase space of our dynamical system and regard @xmath112 , b \\in [ \\b ] , c \\in [ \\c]}$ ] as coordinates on @xmath5 . applying the above definition to the array @xmath61",
    ", we obtain operators @xmath113 and @xmath114 acting on @xmath5 .",
    "similarly , applying this definition to the array @xmath62 , we obtain operators @xmath115 and @xmath116 acting on @xmath5 .",
    "we emphasize that for @xmath61 gives the operation @xmath114 , while @xmath117 for @xmath62 gives the operation @xmath116 .",
    "the following result generalizes a result of kajiwara , noumi and yamada @xcite .",
    "[ thm : dynamics ] the operators @xmath118 and @xmath116 generate an action of an extended affine symmetric group @xmath119 on @xmath5 . here",
    "@xmath120 is the cyclic group of order @xmath77 and @xmath121 is the affine symmetric group ( the coxeter group ) of type @xmath122 .",
    "similarly , the operators @xmath123 and @xmath116 form an action of an extended affine symmetric group @xmath124 on @xmath5 , where @xmath125 is the cyclic group of order @xmath74 . furthermore , these two actions commute .",
    "precisely , on @xmath5 the following relations hold .",
    "@xmath126 @xmath127 @xmath128 in the above formulae , the index of @xmath129 is taken modulo @xmath73 , and @xmath130 is defined by the equation @xmath131 .",
    "similarly , the index of @xmath132 is taken modulo @xmath75 , and @xmath133 is defined by the equation @xmath134 .    the proof of theorem [ thm : dynamics ] is delayed to  [ sec : dynamics_proof ] .",
    "in example  [ ex:2221 ] we have @xmath135 @xmath136 @xmath137 we leave it for the reader to verify that @xmath138 and @xmath116 commute with @xmath139 and @xmath114 , as an easy computational exercise .",
    "we can present the extended affine symmetric groups @xmath12 and @xmath140 as follows .",
    "the finite symmetric group @xmath141 acts naturally on the lattice @xmath142 , fixing the subgroup generated by the vector @xmath143 .",
    "thus we have an action of @xmath144 on the quotient @xmath145 .",
    "then we have that @xmath146 .",
    "the commutative normal subgroup @xmath145 is generated by @xmath147 for @xmath148 : @xmath149 the element @xmath147 is identified with the vector @xmath150 with @xmath151 @xmath80-s .",
    "note that @xmath152 satisfies @xmath153 agreeing with the fact that @xmath154 in @xmath145 .",
    "similarly , we have @xmath155 , where the commutative normal subgroup @xmath156 is generated by @xmath157 for @xmath158 : @xmath159    now , the operators @xmath147 and @xmath157 all commute , and thus give an action of @xmath160 on @xmath5 ! we will think of this as a discrete dynamical system with @xmath161 different time evolutions .",
    "we shall find a complete set of integrals of motion for this system , and study the initial value problem .      instead of the quadruple @xmath162 , we shall also index our systems with triples @xmath1 , given by @xmath163 we shall also set @xmath164    the quadruple @xmath162 can be recovered via @xmath165the involution @xmath166 is associated with the following changes of indices : @xmath167 @xmath168 where @xmath169 is taken modulo @xmath170 .    through or we identify @xmath171 with @xmath172 or @xmath173 .",
    "correspondingly , the network @xmath72 has @xmath3 vertical wires ( directed upwards ) which form @xmath3 simple curves on the torus with the same homology class , and @xmath2 horizontal wires ( directed to the right ) which form @xmath174 simple curves on the torus with another homology class .",
    "let @xmath175 be the phase space where the ring @xmath176 of regular functions on @xmath5 is generated by @xmath177 , j \\in [ n])$ ] . in  [",
    "sec : lax ] , we shall define a map @xmath178 $ ] .",
    "every coefficient of @xmath179 is a regular function on @xmath5 .",
    "we then have ( see corollary [ cor : l - ww ] ) the following result .    the actions of the affine symmetric groups @xmath12 and @xmath140 on @xmath180 preserve each fiber @xmath181 for @xmath182 . in particular , the coefficients of @xmath183 are integrals of motion of the commuting @xmath25 and @xmath31 actions .",
    "in  [ sec : spectral ] , we give a combinatorial description of every coefficient of @xmath184 , as generating functions of path families on a network on the torus .    now fix a generic @xmath182 such that the affine plane curve @xmath185 is smooth ( except for @xmath186 ) , and let @xmath18 be the smooth completion of the affine curve .",
    "we shall call @xmath18 the _ spectral curve_. in  [ sec : lax ] , we define distinguished _ special points _ , @xmath187 , @xmath188)$ ] and @xmath189)$ ] on @xmath18 .",
    "we apply the results and techniques of van moerbeke and mumford @xcite to establish the following ; see theorem [ thm : phi ] .    fix a generic @xmath182 .",
    "there is an injection @xmath190 where    1 .",
    "@xmath20 is the genus of @xmath18 , and @xmath191 is the picard group of @xmath18 , of degree @xmath20 ; 2 .",
    "@xmath192 ; 3 .",
    "@xmath21 is a finite set of cardinality @xmath193 , identified with the @xmath193 orderings of @xmath194 ; and 4 .",
    "@xmath22 is a finite set of cardinality @xmath195 , identified with the @xmath195 orderings of @xmath196 .",
    "in fact , our theorem [ thm : phi ] identifies the image of @xmath24 .",
    "define the divisors @xmath197 and @xmath198 .",
    "the commuting time evolutions @xmath147 and @xmath157 can be described as follows ( theorem [ thm : finite ] and theorem [ thm : commuting - actions ] ) .",
    "suppose @xmath199 , ( c_1,\\ldots , c_m),o , a)$ ] .",
    "then we have @xmath200 ,     ( c_{u+1},\\ldots , c_m , c_1,\\ldots , c_u),o , a ) \\quad \\text{for $ u=1,\\ldots , m$ } ,    \\\\     & \\phi(\\tilde e_u ( q ) ) = ( [ \\mathcal{d } + \\mathcal{o}_u ] ,    ( c_{m - u+1},\\ldots , c_m , c_1,\\ldots , c_{m - u}),o , a ) \\quad \\text{for $ u=1,\\ldots , n$}.\\end{aligned}\\ ] ] furthermore , the finite symmetric subgroups @xmath201 and @xmath202 act naturally on @xmath21 and @xmath22 respectively and do not affect the rest of the spectral data .    in other words , the time evolutions @xmath147 and @xmath157",
    "are linearized on @xmath191 .",
    "our approach to theorem [ thm : commuting - actions ] is similar to that of iwao @xcite .",
    "when @xmath23 , we give in theorem [ thm : n=1 ] an explicit formula for the inverse to the map @xmath24 , which also explicitly solves the initial value problem for our dynamics . for @xmath203 ,",
    "let @xmath204 denote the point in the phase space after time evolution in the direction @xmath205 .",
    "when @xmath33 , we have a formula @xmath206 where @xmath207 is a particular value of the riemann theta function , and @xmath208 is a constant depending only on @xmath209 , @xmath210 , and @xmath211 .",
    "let @xmath212 ( i.e. @xmath15 ) .",
    "we set @xmath213 for @xmath214 , and regard @xmath215 , j \\in [ n]}$ ] as a coordinate of @xmath216 .",
    "the resulting @xmath217-action on @xmath5 is generated by @xmath218 and @xmath219 , where @xmath220 simply acts on @xmath5 as @xmath221 .",
    "as for @xmath222 , when we define @xmath223 for @xmath224 , the action of @xmath222 is rewritten as a system of difference equations : @xmath225 this is the discretization of @xmath2-periodic toda lattice equation studied in @xcite . actually , we recover the original toda lattice equation @xmath226 by setting @xmath227 and @xmath228 , and taking the limit @xmath229 . here",
    "we set @xmath230 for @xmath231 and @xmath232 .",
    "a simple generalization of the discrete toda lattice is the case of @xmath233 .",
    "its initial value problem was studied by iwao @xcite by applying @xcite .",
    "he also studied the similar problem in the case of @xmath234 in @xcite .",
    "let @xmath235 and @xmath236 be two semistandard tableaux of rectangular shapes .",
    "define @xmath237 to be the concatenation of the two into a skew tableaux by placing @xmath236 north - east of @xmath235 .",
    "let @xmath238 denote the straight shape tableau obtained by performing jeu - de - taquin on @xmath237 .",
    "the following result is well - known .",
    "there is a unique pair of rectangular semistandard tableaux @xmath239 and @xmath240 such that @xmath241 has the same shape as @xmath242 ( for @xmath243 ) , and @xmath244 .",
    "suppose @xmath245{1&2\\\\3&3 } \\qquad \\text{and } \\qquad t_2 = \\tableau[sy]{1&2&3}.\\ ] ] then one has @xmath246{1&3&3}\\qquad \\text{and } \\qquad t_1 ' = \\tableau[sy]{1&2\\\\2&3}.\\ ] ]    the transformation @xmath247 is called the _",
    "combinatorial @xmath0-matrix_. it appears in the theory of crystal graphs as the isomorphism map between tensor products of kirillov - reshetikhin crystals .",
    "the following property is well - known .",
    "the combinatorial @xmath0-matrix is an involution .",
    "furthermore , it satisfies the braid relation : @xmath248    now , let @xmath55 , b \\in [ \\b ] , c \\in [ \\c]}$ ] be an array of nonnegative integers . define @xmath249 and @xmath250 as before : @xmath251 and @xmath252 we create single - row tableaux from @xmath61 and @xmath62 as follows . for",
    "each @xmath253 $ ] , let @xmath242 be the single - row tableau with @xmath58 @xmath60-s .",
    "for each @xmath254 $ ] , let @xmath255 be the single - row tableau with @xmath256 @xmath60-s .",
    "we view @xmath257 and @xmath258 as tropical analogues of @xmath61 and @xmath62 .",
    "let us define an action of @xmath12 on @xmath259 as follows .",
    "for @xmath260 and @xmath261 let @xmath262 that is , we apply the combinatorial @xmath0-matrix to the @xmath263-th and @xmath264-st factors .",
    "in addition , let @xmath114 act on @xmath265 by applying schutzenberger s _ promotion _",
    "operator @xcite to each factor @xmath242 .",
    "similarly , we define @xmath132 and @xmath116 acting on @xmath266 .",
    "the operators @xmath118 and @xmath116 form an action of the extended affine symmetric group @xmath12 on @xmath259 .",
    "similarly , operators @xmath123 and @xmath114 form an action of the extended affine symmetric group @xmath140 on @xmath259 .",
    "these two actions commute .",
    "these two operations are the tropicalizations of the rational actions of theorem [ thm : dynamics ] .",
    "here tropicalization refers to the formal operation of substitution @xmath267 under this substitution , the geometric @xmath0-matrix becomes a piecewise - linear involution of @xmath268 , which is the combinatorial @xmath0-matrix .",
    "in other words , the @xmath12 dynamics we are considering in this paper is a birational lift of the dynamics of repeated application of the combinatorial @xmath0-matrix on a sequence of @xmath73 single - row tableaux , arranged in a circle .",
    "let @xmath269 as in example [ ex:2221 ] .",
    "take @xmath270 .",
    "then @xmath271 .",
    "we have @xmath272 @xmath273 @xmath274 @xmath275    the corresponding commuting crystal actions in the case @xmath48 were considered by lascoux in @xcite and by berenstein - kazhdan in @xcite .",
    "the box - ball system is an integrable cellular automaton introduced by takahashi and satsuma @xcite .",
    "it is described by an algorithm to move finitely many balls in an infinite number of boxes aligned on a line , where a consecutive array of occupied boxes is regarded as a _",
    "soliton_. this system is related to both of the previous two examples ; the global movements of solitons are equivalent to the tropicalization of the discrete toda lattice .",
    "the symmetry of the system is explained by the crystal base theory , where the dynamics of bolls is induced by the action of the combinatorial @xmath0-matrix .",
    "see @xcite for a comprehensive review of the combinatorial and tropical aspects of the box - ball system .",
    "fix integers @xmath276 such that @xmath277 , @xmath278 and @xmath279 . from now on we shall mainly use @xmath280 , j \\in [ n]}$ ] as a coordinate of the phase space @xmath5 .",
    "we identify @xmath224 with an @xmath3-tuple of @xmath2 by @xmath2 matrices @xmath281 with a spectral parameter @xmath282 , where @xmath283    let @xmath28 be the set of @xmath2 by @xmath284 scalar matrices @xmath285 satisfying the following conditions : @xmath286 in particular , @xmath211 has finitely many nonzero entries . for @xmath287",
    ", we define an @xmath2 by @xmath2 matrix @xmath288 by @xmath289 we may identify @xmath28 with @xmath290 , and identify @xmath287 with @xmath291 .",
    "now define a map @xmath292 by @xmath293 where @xmath294 we call @xmath295 the _ lax matrix_. our approach to the study of @xmath295 is close to that of van moerbeke and mumford @xcite .",
    "we give a combinatorial description of the lax matrix by using _",
    "highway paths _ on the network @xmath72 .",
    "we introduce the `` @xmath282-line '' as illustrated in figure [ fig : toda1 ] , where the top @xmath4 right ends of horizontal wires cross the @xmath282-line ( the top edge ) and come out on the other side . there are @xmath2 sources labeled @xmath296 on the left and @xmath2 sinks labeled @xmath297 on the right .",
    "each sink @xmath60 is connected to the source @xmath298 by a wire , as illustrated in the figure .",
    "there are @xmath299 intersection points between the vertical wires and the horizontal wires , which we call the _",
    "@xmath300-crossroads _ , where @xmath301 indexes the vertical wire , and @xmath302 indexes the horizontal wire .",
    "let us denote by @xmath303 the _ cylindrical network _",
    "obtained by gluing only the upper and lower edges of figure [ fig : toda1 ] . in the torus network @xmath72 , source @xmath59 and sink @xmath59 are the same point . in the cylindrical network @xmath303 , source @xmath59 and sink @xmath59 are distinct points .",
    "let us introduce the notion of highway paths following @xcite .",
    "a _ highway path _ @xmath304 is a directed path in the network @xmath72 ( or @xmath303 ) with the following property : at any of the crossroads , if the path is traveling upwards , it must turn right .",
    "we shall only consider highway paths that start at one of the sources @xmath296 and end at one of the sinks @xmath297 .",
    "the weight @xmath305 of a highway path @xmath304 is defined as follows . every time @xmath304 passes the @xmath282-line it picks up the weight @xmath282 .",
    "every time @xmath304 goes through the @xmath300-crossroad , it picks up the weight @xmath8 or @xmath80 , according to figure  [ fig : highway ] .",
    "the weight @xmath305 is the product of all these weights .",
    "the condition that a highway path must turn right when travelling up into a crossroad is indicated in the figure  [ fig : highway ] : we can think of such a turn as giving weight 0 .",
    "finally , a highway path @xmath304 may use no edges . in this case , we consider the path @xmath304 to start at some source @xmath59 , and end at the sink @xmath59 .",
    "we declare such paths to be _ abrupt _ , and have weight @xmath306 .",
    "= 0.9 mm    ( 80,30)(20,0 )    ( 0,15)(30,0)4(1,0)20 ( 10,5)(30,0)4(0,1)20    ( 0,15)(1,0)10 ( 10,15)(0,1)10    ( 30,15)(1,0)20    ( 70,5)(0,1)10 ( 70,15)(1,0)10    ( 100,5)(0,1)20    ( -20,-2)weights : ( 9,-2)@xmath80 ( 39,-2)@xmath8 ( 69,-2)@xmath80 ( 99,-2)@xmath307    the following lemma gives a highway - path description of the lax matrix , which is a variant of the results of @xcite .",
    "it follows directly from the definitions .",
    "[ lem : entry ] let @xmath308 for @xmath224 . for @xmath309 , we have @xmath310 where the summation is over highway paths in @xmath303 from source @xmath59 to sink @xmath60 .",
    "define a map @xmath311 $ ] as the composition of @xmath312 and the map @xmath313 $ ] , @xmath314 consequently , for @xmath315 we have an affine plane curve @xmath316 in @xmath317 , given by the zeros of @xmath318 .",
    "we call this curve the _",
    "spectral curve_.    each term of @xmath318 corresponds to the weight of specific highway paths as follows .",
    "we say that a pair of paths is _ noncrossing _ if no edge is used twice , and that a family of paths is noncrossing if every pair of paths is noncrossing .",
    "suppose @xmath319 is an unordered noncrossing family of @xmath2 paths in @xmath303 using all the sources and all the sinks .",
    "the non - abrupt paths in @xmath320 induce a bijection of a subset @xmath321 $ ] with itself .",
    "we let @xmath322 denote the sign of this permutation .",
    "the following theorem is a reformulation @xcite . in our language",
    ", the proof is very similar to ( * ? ? ?",
    "* theorem 3.5 ) .",
    "[ thm : mit ] we have @xmath323 where the summation is over noncrossing ( unordered ) families of @xmath2 paths in @xmath303 using all the sources and all the sinks .",
    "in other words , the coefficient @xmath324 in @xmath325 counts ( with weights ) families of @xmath2 paths that    * do not cross each other ; * cross the @xmath282-line exactly @xmath52 times ; * contain exactly @xmath326 abrupt paths and @xmath327 non - abrupt paths .",
    "the overall resulting sign of the monomial @xmath324 is @xmath328 .    for @xmath329 $ ] , we write @xmath330 for the newton polygon of @xmath184 .",
    "this is defined to be the convex hull of the points @xmath331 .",
    "it is important for us to identify the _ lower hull _ and _ upper hull _ of @xmath332 .",
    "the former ( resp .",
    "latter ) is the set of edges of @xmath332 such that the points directly below ( resp . above )",
    "these edges do not belong to @xmath332 .",
    "we exclude vertical or horizontal edges from the lower and upper hull .",
    "[ prop : hull ] for generic @xmath315 , the newton polygon @xmath333 is the triangle with vertices @xmath334 , @xmath335 and @xmath336 . in @xmath333 , the lower hull ( resp .",
    "upper hull ) consists of one edge with vertices @xmath335 and @xmath334 ( resp .",
    "@xmath336 to @xmath334 ) .",
    "see   [ subsec : prop : hull ] for the proof .",
    "for @xmath337 $ ] an irreducible polynomial , let @xmath338 be the corresponding plane curve , and let @xmath339 denote its closure .",
    "let @xmath18 be the normalization of @xmath340 , with a map @xmath341 that is a resolution of singularities .",
    "we declare points on @xmath18 to be _ special _ if either ( 1 ) either @xmath282 or @xmath342 is 0 , or ( 2 ) the point does not lie over @xmath343 ( that is , @xmath282 or @xmath342 is @xmath284 ) .    for @xmath344 , define a polynomial @xmath345 ( resp .",
    "@xmath346 ) by @xmath347 ( resp .",
    "@xmath348 ) , where @xmath345 ( resp .",
    "@xmath346 ) consists of those monomials lying on the lower hull ( resp .",
    "the upper hull ) of @xmath332 . for this @xmath183",
    "we also define @xmath349 where @xmath350 we define @xmath351 by @xmath352 for @xmath353 , and define @xmath354 by @xmath355 for @xmath356 .    despite the seeming dissimilarity , @xmath357 and",
    "@xmath358 have the same nature .",
    "indeed , visualize variables @xmath8 as associated to crossings of two families of parallel wires on a torus , as it was done in section [ sec : netw ] .",
    "then @xmath357 is the product of parameters on the @xmath109-th horizontal wire ( out of @xmath174 ) , while @xmath358 is the product of parameters on the @xmath109-th vertical wire ( out of @xmath3 ) . in particular , the symmetry between @xmath61 and @xmath62 from section [ sec : netw ] switches the @xmath357 and the @xmath358 into each other .",
    "[ lem : q ] for @xmath344 , we have @xmath359    see   [ subsec : lem : q ] for the proof .    in the following , for @xmath360 we study the special points of @xmath18 related to polynomials @xmath345 , @xmath346 or @xmath361 .",
    "we have @xmath362 , where @xmath363 .",
    "thus the roots of @xmath364 are exactly the @xmath365 , where @xmath358 is defined by .",
    "it is also clear that @xmath366 depend only on @xmath183 .",
    "the following lemma is obtained immediately .",
    "[ lem : a ] suppose that @xmath366 are distinct and nonzero .",
    "then there are @xmath3 special points @xmath367 on @xmath18 with @xmath368 and @xmath282 is nonzero .",
    "the point @xmath186 on @xmath343 is usually singular , whenever @xmath369 .",
    "[ lem : o ] suppose @xmath370 are distinct and nonzero .",
    "then there are @xmath174 points of @xmath18 lying over @xmath371 .    by",
    ", the meromorphic function @xmath372 takes the @xmath174 distinct values @xmath373 for @xmath374 as @xmath375 .",
    "so there are at least @xmath174 points on @xmath18 . on the other hand ,",
    "looking at @xmath332 we see that analytically near @xmath186 , the polynomial @xmath184 can factor into at most @xmath174 pieces .",
    "let @xmath376 denote the the special points of lemma [ lem : o ] .",
    "near @xmath377 there is a local coordinate @xmath151 such that @xmath378    it turns out that @xmath379 has only one point at @xmath284 . due to the polynomial @xmath346 , in homogeneous coordinates , this point is @xmath380 & \\mbox{if   $ n > k+m$ } , \\\\ [ 1:1:0 ] & \\mbox{if $ n = k+m$},\\\\ [ 0:1:0 ] & \\mbox{if $ n",
    "< k+m$}. \\end{cases}\\ ] ] to compute this , we first homogenize @xmath183 to get @xmath381where @xmath382",
    ". then we solve @xmath383 .",
    "recall that @xmath384 was defined in .",
    "[ lem : inf ] suppose that @xmath385 . then there is a unique point @xmath386 lying over @xmath387 .",
    "see   [ subsec : lem : inf ] for the proof .",
    "let @xmath388 be the subspace of @xmath389 $ ] given by @xmath390 \\right\\},\\end{aligned}\\ ] ] where we write @xmath391 for the set of lattice points in the convex hull of @xmath392 but not on the upper hull . by proposition [ prop :",
    "hull ] and lemma [ lem : q ] , we have that @xmath393 .    [ def :",
    "p : curve ] define the subset @xmath394 as the set of @xmath395 , satisfying the conditions :    1 .",
    "@xmath183 is irreducible ; 2 .",
    "@xmath343 is smooth ; 3 .   @xmath385 ;    and such that the special points on @xmath18 consist exactly of :    1 .",
    "@xmath3 distinct points @xmath396 where @xmath397 and @xmath398 ; 2 .",
    "@xmath174 distinct points @xmath376 lying over @xmath186 , where near @xmath377 there is a local coordinate @xmath151 such that @xmath399 and @xmath400 ; 3 .   a single point @xmath187 lying over the line at infinity @xmath401 .    for @xmath402 , the genus @xmath20 of @xmath18 is given by @xmath403 indeed , it follows from pick s formula and proposition [ prop : hull ] that the number of interior lattice points of @xmath332 is equal to the right hand side .",
    "this formula for the genus then follows from ( * ? ? ?",
    "* corollary on p.6 ) .",
    "alternatively , the genus can be computed using the riemann - hurwitz formula , as in @xcite .",
    "[ p : curve ] for @xmath402 , we have that @xmath404 .",
    "moreover , the set @xmath405 is a zariski - dense subset of @xmath406 .",
    "we give the proof in ",
    "[ subsec : p : curve ] .",
    "informally , the last statement of proposition [ p : curve ] states that most curves in @xmath406 satisfy the  niceness \" conditions listed in definition [ def : p : curve ] .    from definition  [ def :",
    "p : curve ] , it follows that for @xmath402 , the meromorphic functions @xmath282 and @xmath342 on @xmath18 satisfy @xmath407    the condition that @xmath408 ( resp .",
    "@xmath376 ) are distinct imply that the quantities @xmath366 ( resp .",
    "@xmath370 ) are distinct .",
    "many of our main results still apply after a modification even when this condition does not hold .",
    "we use the interpretation of @xmath183 given by theorem [ thm : mit ] . let @xmath409 be a family of noncrossing highway paths in @xmath303 , as in theorem [ thm : mit ] , and",
    "let @xmath410 .",
    "there are @xmath411 opportunities for a highway path in @xmath320 to pick up the weight @xmath282 : from each of the @xmath3 vertical wires and from the @xmath4 horizontal wires crossing @xmath282-line . for a fixed power @xmath412 ( where @xmath413 ) , or equivalently a fixed number of abrupt paths , we will bound the maximal and the minimal possible value of the exponent @xmath52 of @xmath282 .",
    "the first key observation is that we can consider @xmath320 to be a family of noncrossing closed cycles on the toric network @xmath72 .",
    "an abrupt path @xmath304 is simply the  cycle \" that starts and ends at the vertex @xmath59 ( @xmath414 source @xmath59 and sink @xmath59 identified ) in @xmath72 and does not move .",
    "lift such a highway cycle @xmath208 to the universal cover , as shown in figure [ fig : toda2 ] .",
    "we obtain a path that starts and ends at two vertices labeled with the same integer @xmath415 , but @xmath263 periods ( of @xmath3 vertical lines each ) to the right of the original source .",
    "more precisely , if @xmath208 is obtained by gluing paths @xmath416 in @xmath303 , then @xmath208 has length @xmath263 .",
    "the @xmath282-line now has a staircase - like shape as shown in figure [ fig : toda2 ] .",
    "we claim that if @xmath208 has length @xmath263 , then it crosses the @xmath282-line at least @xmath417 times and at most @xmath418 times .    to see this , observe that if we lift the ending vertex several periods ( consisting of @xmath2 horizontal wires ) up , we preserve the length and we increase the number of crossings with the @xmath282-line . similarly , if we lower the ending vertex several periods down , we preserve the length and we decrease the number of crossings of @xmath282-line .",
    "thus , the smallest and the largest ratios of the quantity ( crosses of @xmath282-line / length ) is achieved for the lowest and the highest possible highway paths , shown in figure [ fig : toda2 ] in purple and green .",
    "the former is the horizontal path , while the latter is an alternating right - up staircase path . for these paths ,",
    "the ratios are exactly @xmath419 and @xmath420 .",
    "one of the consequences of the proof of proposition [ prop : hull ] is that the monomials for which the lower bound @xmath419 of the ratio is reached are the ones coming from horizontal highway paths on the universal cover .",
    "let us call each such closed cycle a _",
    "coil_. for example , the purple line in figure [ fig : toda2 ] represents a coil passing through source @xmath59 , as well as passing through the @xmath421 other vertices between @xmath80 and @xmath2 that have residue @xmath59 modulo @xmath422 .",
    "thus the terms of @xmath423 are formed in the following way : for each of the @xmath174 coils we decide whether to include it into our family of paths , or to make all paths starting at its sources abrupt .",
    "the second choice corresponds to the contribution @xmath424 .",
    "the first choice gives @xmath425 , which is the weight of that coil .",
    "thus , the @xmath109-th coil contributes the factor of @xmath426 , and follows .",
    "similarly , the monomials for which the upper bound @xmath420 of the ratio is reached are the ones coming from right - up staircase paths on the universal cover .",
    "let us call each such closed cycle a _ snake path_. for example , the green line in figure [ fig : toda2 ] represents a snake path passing through source @xmath59 , as well as through all the @xmath427 other vertices between @xmath80 and @xmath2 that have residue @xmath59 modulo @xmath428 .",
    "thus the part contributing to the upper hull of @xmath183 is a product of factors @xmath429 , where the term @xmath430 corresponds to choosing to have abrupt paths , while @xmath431 corresponds to choosing to have the snake path .",
    "thus we obtain .",
    "we analyze the singularity at @xmath432 on the chart @xmath433 , that is , @xmath434 ~|~ x , z \\in \\c\\}$ ] .",
    "let @xmath435 be the affine curve given by @xmath436 .",
    "\\(i ) @xmath437 : using we can write @xmath438 as @xmath439 where @xmath440 . then , when @xmath441 , @xmath435 is smooth at @xmath186 since @xmath442 . when @xmath443 , the point @xmath186 is singular .",
    "define @xmath444/(\\overline{f}(x , z))$ ] .",
    "we consider all valuations @xmath445 on @xmath446 satisfying that @xmath447 and @xmath448 .",
    "we shall show that such valuations are unique , from which the uniqueness of @xmath187 follows .",
    "define @xmath449 which is the part of @xmath438 consisting of monomials lying on the lower hull of @xmath450 , corresponding to the upper hull of @xmath332",
    ". then we see that @xmath451 . to be consistent with @xmath452 ,",
    "the only choice we have is @xmath453 and @xmath454 .",
    "\\(ii ) @xmath455 : we can write @xmath438 as @xmath456 where @xmath457 $ ] .",
    "thus @xmath387 is smooth point on @xmath458 if @xmath459 .",
    "looking at the newton polygon @xmath332 and , it follows that @xmath460 .",
    "\\(iii ) @xmath461 : this case is nearly the same as the case @xmath437 .",
    "the first statement follows from theorem  [ thm : eta ] in the next section . in the following ,",
    "we prove the second statement .",
    "we first show that @xmath462 contains a zariski - dense and open subset of @xmath388 .",
    "a zariski - open subset of @xmath388 consists of @xmath183 with newton polygon @xmath332 given by proposition [ prop : hull ] .",
    "this polygon is not a non - trivial minkowski sum of two other polygons , so @xmath183 is irreducible .",
    "similarly the conditions that @xmath343 is smooth and @xmath385 are zariski - open conditions on @xmath388 . by lemma [ lem :",
    "inf ] , @xmath385 implies that ( 6 ) in definition [ def : p : curve ] holds .",
    "the calculations in the proofs of lemmas [ lem : a ] and [ lem : o ] then imply that @xmath462 contains a zariski - open and dense subset of @xmath388 .",
    "it thus suffices to show that @xmath463 contains a zariski - dense subset of @xmath388 .",
    "we shall use the following result .",
    "[ l : mmml ] the set @xmath464 is zariski - dense in @xmath28 .",
    "this follows from ( * ? ? ?",
    "* proof of theorem 4.1 ) where it is shown that the map @xmath465 is generically a @xmath195 to @xmath80 map between two spaces of dimension @xmath299 .    by the first statement of proposition",
    "[ p : curve ] , we have @xmath466 . by lemma [ l : mmml ]",
    ", @xmath467 contains a zariski - dense subset of @xmath462 .",
    "it follows that @xmath463 is zariski - dense in @xmath388 .",
    "this completes the proof of the second statement of proposition [ p : curve ] .",
    "the nonconstant coefficients @xmath468 of @xmath183 can be pulled back to functions on @xmath5 or @xmath28 .",
    "a consequence of our proof is that @xmath463 is zariski - dense in @xmath388 , and therefore the functions @xmath468 are algebraically independent on @xmath5 or @xmath28",
    ". it would be interesting to obtain a direct proof of this .",
    "we employ the technique first introduced in @xcite .",
    "specifically , we realize the geometric @xmath0-matrix transformation , dubbed the _ whirl move _ in @xcite , as a sequence of local transformations on our toric network .",
    "the transformations we shall employ are of three kinds : crossing merging / unmerging , crossing creation / removal , shown in figure [ fig : wire11 ] , and yang - baxter move shown in figure [ fig : wire8 ] .",
    "the whirl move @xmath0 occurs between two parallel wires adjacent to each other and wrapping around a local part of the surface that is a cylinder .",
    "the way it is realized as a sequence of local moves is illustrated in figure [ fig : wire20 ] .",
    "first a crossing is created with weight @xmath307 , and split into two crossings of weight @xmath304 and @xmath469 .",
    "one of them is pushed through the wires crossing our two distinguished wires , until it comes out on the other side . as it is proven in (",
    "* theorem 6.2 ) , there is at most one non - zero value of @xmath304 for which the end result is again a pair of crossings of weights @xmath304 and @xmath469 , and thus those two can be canceled out .",
    "the resulting action on the weights along two parallel wires is exactly the whirl move @xmath0 , and does not depend on where the original auxiliary crossing was created .",
    "the value of @xmath304 does depend on the location @xmath60 where the new crossings are created , and is given by @xmath470 here the variables @xmath471 and @xmath472 are weights along the two wires as in figure [ fig : wire20 ] , and @xmath473 is the energy of the cyclically shifted vectors @xmath474 and @xmath475 as introduced in ",
    "[ sec : rmatrix ] .",
    "now , the fact that @xmath0 satisfies the braid move , that is , @xmath476 and @xmath477 is shown in ( * ? ? ?",
    "* theorem 6.6 ) .",
    "indeed , these relations happen at a local part of the surface ( in our case , torus ) that looks like a cylinder .",
    "on the other hand , the commutativity of the @xmath118 and the @xmath123 does not follow from ( * ? ? ? * theorem 12.2 ) .",
    "this is because in @xcite we only considered the case when the pairs of parallel wires intersect once . in our case on the torus however , it is common to have horizontal and vertical wires intersect more than once : this happens for any @xmath478 .",
    "the proof in such a situation is essentially the same .    indeed ,",
    "if we have two pairs of parallel wires crossing as in figure [ fig : wire25 ] , but possibly more than once , we can realize each of the two corresponding @xmath0-moves by a sequence of local moves as above .",
    "it is a local check that performing one of the two sequences does not change the value of @xmath479 one needs to perform the other , because each of the @xmath480 , @xmath481 and @xmath473 is not changed .",
    "it is also a local check that the two sequences commute once the parameters @xmath304 for each are chosen , this is ( * ? ? ?",
    "* proposition 3.4 ) .",
    "thus , commutativity follows .",
    "in this section , we fix @xmath402 ( see definition  [ def : p : curve ] ) and consider the corresponding smooth curve @xmath18 . for @xmath482 , we set @xmath483 if @xmath484 mod @xmath174 . similarly , for @xmath482",
    ", we set @xmath485 if @xmath484 mod @xmath3 .",
    "a divisor @xmath486 on an algebraic curve @xmath208 is a finite formal integer linear combination of points @xmath487 on @xmath208 .",
    "we write @xmath488 if @xmath489 , and say that @xmath490 is _ positive _ in this case .",
    "the degree of @xmath490 is given by @xmath491 .",
    "given @xmath492 a meromorphic function on @xmath208 , we let @xmath493 be the divisor of @xmath492 . here , @xmath494 denotes the divisor of zeroes , and @xmath495 denotes the divisor of poles .",
    "two divisors @xmath496 are linearly equivalent , @xmath497 , if there exists a meromorphic function @xmath492 such that @xmath498 .",
    "we write @xmath499 $ ] for the equivalence class of @xmath490 with respect to linear equivalence .",
    "the picard group @xmath500 is the abelian group of divisors on @xmath208 modulo linear equivalence . for @xmath482 ,",
    "we write @xmath501 for the part of the picard group of @xmath208 that has degree @xmath60 , that is , @xmath502 .    to each divisor",
    "@xmath490 we associate a space of meromorphic functions @xmath503 if @xmath504 , then in words , @xmath505 consists of meromorphic functions which are allowed to have poles of order @xmath506 at @xmath487 .",
    "we have @xmath507 if @xmath508 and @xmath509 are linearly equivalent",
    ".      a divisor @xmath510 of degree @xmath20 is called _ general _ if @xmath511 .",
    "a divisor @xmath512 is called _ regular _ with respect to the points @xmath187 and @xmath513 if @xmath490 is general and if @xmath514 for @xmath515 . for brevity",
    ", we will sometimes just say that a divisor is regular when it is regular with respect to @xmath187 and the @xmath513 .",
    "let us now fix @xmath516 .",
    "let @xmath517 denote the ( signed ) @xmath300-th minor of the matrix @xmath518 .",
    "[ thm : double ] there exists a positive divisor @xmath0 of degree @xmath519 supported on @xmath520 , and uniquely defined positive general divisors @xmath521 of degree @xmath20 such that for all @xmath522 ^ 2 $ ] , we have @xmath523 in addition , @xmath524 have pairwise no common points , and @xmath525 have pairwise no common points .",
    "see   [ pf : thm : double ] for the proof .",
    "note that @xmath526 is to be interpreted in a signed way : @xmath527    for @xmath516 , define @xmath528 .",
    "since @xmath529 is singular along @xmath18 , the vector @xmath530 ( thought of as a vector with entries that are rational functions on @xmath18 ) is an eigenvector of @xmath529 .",
    "we define @xmath531 for @xmath532 by @xmath533 .",
    "we also define @xmath534 for @xmath532 .",
    "thus @xmath535 and @xmath536 .",
    "the vector @xmath537 is also an eigenvector of @xmath529 .",
    "[ def : d ] for @xmath516 , define the divisor @xmath538 on @xmath18 to be the minimum positive divisor satisfying @xmath539 that is , @xmath540 , for @xmath541 .",
    "it follows from theorem [ thm : double ] that @xmath542 from the theorem and that this divisor is uniquely determined by definition [ def : d ] . in particular , @xmath30 is a positive regular divisor of degree @xmath20 with respect to the points @xmath187 and @xmath513 , and we have @xmath543      let @xmath22 ( resp .",
    "@xmath21 ) denote the set of orderings of the @xmath3 points @xmath408 ( resp .",
    "@xmath544 ) : @xmath545 by our assumption that @xmath402 , the points @xmath546 ( resp .",
    "@xmath377 ) are distinct , so @xmath22 has cardinality @xmath195 and @xmath21 has cardinality @xmath193 .",
    "we write @xmath547 ( resp .",
    "@xmath548 ) for the generator of @xmath549 ( resp .",
    "@xmath550 ) , which permutes the @xmath109-th and the @xmath551-st entry of @xmath552 ( resp .",
    "@xmath553 ) .    by our assumption that @xmath402 , we have @xmath385 .",
    "define @xmath554 by @xmath555    for @xmath556 , define @xmath557 to be the coefficient of the maximal power of @xmath282 in the @xmath558 entry of @xmath559 .",
    "( here , maximal power is the maximal power for a generic @xmath560 . )",
    "an explicit formula of @xmath557 for @xmath561 is given in lemma [ lem : c - snake ] .",
    "we now define the _ eigenvector map _ @xmath562 for @xmath402 by @xmath563,(c_1,\\ldots , c_m),o),\\end{aligned}\\ ] ] where the ordering @xmath564 is uniquely determined from @xmath565 by theorem [ thm : double ] . for @xmath566",
    "we define the map @xmath567 by @xmath568,(c_1,\\ldots , c_m),o , a),\\end{aligned}\\ ] ] where @xmath569 , and @xmath358 is given by .",
    "that @xmath209 lies in @xmath570 is the content of lemma [ lem : c - f ] below .",
    "we will omit the subscripts of @xmath562 and @xmath567 and just write @xmath571 and @xmath24 when no ambiguity will arise .",
    "the following theorem should be compared to theorem 1 in @xcite .",
    "[ thm : eta ] we have a one - to - one correspondence between @xmath572 and the following data :    1 .",
    "@xmath402 , 2 .",
    "@xmath573 , c , o ) \\in \\pic^g(c_f ) \\times \\mathcal{s}_f \\times r_o$ ] where @xmath30 is a positive divisor on @xmath18 of degree @xmath20 , and regular with respect to @xmath187 and the @xmath513 .",
    "see  [ subsec : thm : eta ] for the proof .",
    "it is shown in ( * ? ? ? * proof of theorem 4.1 ) that the map @xmath465 is generically @xmath195 to @xmath80 .",
    "let @xmath574 denote the open subset of @xmath5 where ( a ) the map @xmath575 is @xmath195 to @xmath80 ( that is , @xmath576 is a @xmath195 to @xmath80 map ) , and ( b ) the finite symmetric subgroup @xmath577 acting via the @xmath0-matrix is well - defined on @xmath574 .",
    "[ thm : phi ] fix @xmath566 .",
    "we have an injection from @xmath578 to the collection of data @xmath573 , c , o , a ) \\in \\pic^g(c_f ) \\times \\mathcal{s}_f \\times r_o \\times r_a$ ] such that    1 .",
    "@xmath30 is a positive divisor on @xmath18 of degree @xmath20 .",
    "it is regular with respect to @xmath187 and @xmath513-s .",
    "2 .   @xmath579 .",
    "3 .   @xmath553 .",
    "4 .   @xmath552 .",
    "see  [ subsec : thm : phi ] for the proof .",
    "we will usually just write @xmath181 instead of @xmath578 when no confusion arises ( for example , when discussing the action of the @xmath0-matrix on the spectral data ) .",
    "let us perform a quick dimension count .",
    "the dimension of @xmath5 or @xmath28 is equal to @xmath299 .",
    "the dimension of @xmath580 is equal to @xmath581 .",
    "the number of lattice points in the convex full of @xmath392 is equal to @xmath582 .",
    "thus the dimension of @xmath388 is equal to @xmath583 .",
    "using we obtain @xmath584 , consistent with theorems [ thm : eta ] and [ thm : phi ] .",
    "the first three subsections are devoted to introduce key lemmas for theorem  [ thm : double ] and [ thm : eta ] .      [",
    "prop : q ] the eigenvector @xmath585 of @xmath516 satisfies the following .    1 .   for any @xmath482 , the rational function @xmath586 on @xmath18 has a zero of order one at @xmath587 .",
    "2 .   for any @xmath482",
    ", the rational function @xmath586 on @xmath18 has a pole of order one at @xmath187 .    to prove this proposition",
    ", we shall need the following generalization of theorem [ thm : mit ] , whose proof is essentially the same as that of theorem [ thm : mit ] .",
    "suppose @xmath588 is an unordered noncrossing family of @xmath2 paths in @xmath303 using all the sources except @xmath59 , and all the sinks except @xmath60 .",
    "identifying @xmath589 \\setminus i \\simeq [ n-1 ] \\simeq [ n ] \\setminus j$ ] via the order - preserving bijection , we have that the non - abrupt paths in @xmath320 induce a bijection of a subset @xmath590 $ ] with itself .",
    "we let @xmath322 denote the sign of this permutation .",
    "let @xmath591 denote the maximal minor of @xmath592 complementary to the @xmath300-th entry .",
    "[ thm : minor ] we have @xmath593 where the summation is over noncrossing ( unordered ) families of @xmath594 paths in @xmath303 using all the sources except @xmath59 , and all the sinks except @xmath60 .",
    "in other words , the coefficient of @xmath595 in @xmath591 counts ( with weights ) families of highway paths that    * start at all sources but @xmath59 and end at all sinks but @xmath60 ; * do not cross each other ; * cross the @xmath282-line exactly @xmath52 times ; * contain exactly @xmath326 abrupt paths and @xmath596 non - abrupt paths .",
    "let @xmath597 .",
    "the lax matrix is given as follows : @xmath598 @xmath599 consider the minor @xmath600 with rows @xmath601 and columns @xmath602 . here",
    "are some terms that appear in it : @xmath603 the term @xmath604 for example is formed by two paths : one starting at source @xmath89 , turning at @xmath605 , turning at @xmath606 , going through at @xmath607 , turning at @xmath608 , turning at @xmath609 and thus finishing in sink @xmath89 ; the other a staircase path starting at source @xmath81 , turning at each of @xmath606 , @xmath610 , @xmath611 , @xmath612 , @xmath613 , @xmath608 and finishing at sink @xmath80 .",
    "the first path contributes weight @xmath614 , while the second contributes weight @xmath282 . note that source @xmath80 and sink @xmath81 remain unused , as they should according to the theorem .",
    "also note the the paths give bijection @xmath615 and @xmath616 between the used sources and sinks .",
    "the induced permutation is the identity permutation , and that is why we have sign @xmath617 in front of this term .",
    "the term @xmath618 corresponds to one abrupt path of weight @xmath619 from source @xmath89 to sink @xmath89 , and one staircase path , the same as for the previous term .",
    "the term @xmath620 corresponds to two paths that induce the map @xmath621 and @xmath622 on sources and sinks , of weights @xmath623 and @xmath624 respectively .",
    "the minus sign arises since the induced permutation in @xmath625 is a transposition .",
    "let us prove proposition  [ prop : q ] .",
    "( i ) if @xmath23 , the result is easy : @xmath626 vanishes to order @xmath2 at @xmath627 .",
    "we also have a shift automorphism @xmath628 ( see the proof of proposition [ prop : q](ii ) ) which sends @xmath627 to @xmath627 and pulls @xmath586 back to @xmath629 .",
    "we will thus assume @xmath630 .    for each @xmath59",
    ", define @xmath631 we shall think of @xmath632 as a vector whose entries lie in the coordinate ring of the affine plane curve @xmath633 . like the vector @xmath634 ,",
    "the vectors @xmath632 are ( nonzero ) eigenvectors of the matrix @xmath295 .",
    "the matrix @xmath295 is singular along the curve @xmath633 , but generically it has rank @xmath594 .",
    "thus for any @xmath59 , the vectors @xmath20 and @xmath632 are multiples of each other .",
    "more precisely , @xmath635 is a rational function on @xmath18 . to show that @xmath586 has a zero at @xmath587",
    ", we shall calculate using a convenient choice of @xmath632 .",
    ". then @xmath637 and @xmath638 .",
    "thus , @xmath639 counts the families of paths that start at all sources but @xmath60 and end at all sinks but @xmath60 , as in theorem [ thm : minor ] .",
    "let us make the substitution @xmath640 inside @xmath639 , and let @xmath641 denote the terms of in @xmath642 that give the lowest degree in @xmath151 after the substitution .",
    "call this degree @xmath643 .",
    "the terms in @xmath642 are obtained by either taking abrupt paths , or by taking coils . in the proof of lemma  [ lem : q ] we defined the @xmath174 coils in the network @xmath72 , which we denote @xmath644 . to obtain a path family @xmath320 contributing to @xmath645 , instead of @xmath646",
    ", we include the @xmath647 abrupt paths which use the vertices @xmath648 where @xmath649 but @xmath650 . for each of the coils @xmath651 where @xmath652 , we can either include the coil ( that is , include the @xmath421 paths in @xmath303 ) in @xmath320 , or we use the corresponding @xmath421 abrupt paths instead . in particular ,",
    "considering @xmath653 we see that @xmath645 has a factor of @xmath654 .",
    "this factor vanishes under the substitution @xmath655 , thus creating a zero at the point @xmath587 of order at least @xmath656 .    for @xmath657 , we count families of paths that start at all sources but @xmath60 and end at all sinks but @xmath658 .",
    "let @xmath659 denote the terms of lowest degree in @xmath660 .",
    "this lowest degree is again equal to @xmath643 as well ( we caution that if @xmath661 , then we take @xmath662 ) .",
    "the calculation of @xmath659 is similar to that of @xmath642 , except that instead of a single `` incomplete '' coil with index @xmath60 modulo @xmath174 , we have two incomplete coils @xmath646 and @xmath653 with indices @xmath60 and @xmath658 modulo @xmath174 .",
    "we obtain @xmath663 where @xmath664 is some nonzero polynomial in @xmath665-s , and @xmath666 are nonnegative integers , and the product is over @xmath667 not equal to @xmath60 or @xmath658 modulo @xmath174 . as a result",
    ", we see that @xmath657 vanishes at @xmath587 of order exactly @xmath643 .",
    "thus @xmath586 has a zero at @xmath587 .",
    "the fact that @xmath586 vanishes to exactly order @xmath80 follows since we know that @xmath626 vanishes to the order of @xmath421 at each @xmath668 .",
    "\\(ii ) for @xmath516 , we have rational functions @xmath669 on @xmath18 . to emphasize the dependence of @xmath669 on @xmath670",
    ", we write @xmath671 .",
    "let @xmath672 be the shift map given by @xmath673 .",
    "( we will introduce the shift operator @xmath674 on @xmath5 in   [ sec : shift ] . )",
    "then @xmath675 is invariant under @xmath109 .",
    "let @xmath676 be a zariski dense subset of @xmath677 such that @xmath678 .",
    "then there exists a nonnegative integer @xmath679 given by @xmath680 where @xmath681 denotes the order of the pole of @xmath671 at @xmath187 . since @xmath682 as rational function on @xmath683",
    ", we conclude that for all @xmath59 , we have @xmath684 .",
    "but we know that @xmath685 for all @xmath59 and @xmath686 .",
    "thus we must have @xmath687 . since this value does not depend on the choice of @xmath676 , the claim follows .",
    "let @xmath688 be the differential form on the curve @xmath18 given by @xmath689    [ lem : zeta ] the divisor of the differential form @xmath688 is supported on @xmath690 : @xmath691 when @xmath692 , it is holomorphic .    by using local expansions of @xmath184 around @xmath668 and @xmath187 , we get @xmath693 from these and @xmath694 in  4.3 , we obtain @xmath695 .",
    "now we prove that if @xmath692 then @xmath696 .",
    "let @xmath304 be the number of integer points inside a parallelogram in @xmath697 , whose vertices are @xmath334 , @xmath335 , @xmath336 and @xmath698 .",
    "we have @xmath699 , since the parallelogram is composed of the newton polygon @xmath332 and its copy , sharing the upper hull of @xmath332 .",
    "then the claim is equivalent to that if @xmath692 , then @xmath700 .    when @xmath701 , @xmath702 follows .",
    "then we have @xmath703 .",
    "it reduces to @xmath704 , which is non - negative when @xmath692 .    when @xmath705 , @xmath706 follows .",
    "then we have @xmath707 which is negative if @xmath708 .",
    "so we assume @xmath709 .",
    "we have @xmath710 and @xmath711 .",
    "thus , we obtain @xmath712 when @xmath709 .    when @xmath713 , we prove the claim by choosing @xmath714 different points from @xmath304 points in the parallelogram .",
    "when @xmath715 ( resp .",
    "@xmath716 ) , we can choose @xmath717 points on the upper hull of @xmath332 , @xmath4 points ; @xmath718 for @xmath719 inside the upper ( resp .",
    "lower ) triangle , and one point inside the lower ( resp .",
    "upper ) triangle .",
    "finally the claim follows .",
    "recall that @xmath557 is the coefficient of the maximal power of @xmath282 in the @xmath558 entry of @xmath559 defined in ",
    "[ subsec : eigen ] .",
    "[ lem : c - snake ] when @xmath721 , we have @xmath722    by lemma [ l : mmml ] , it suffices to prove the lemma for @xmath723 .",
    "we apply lemma [ lem : entry ] to interpret the @xmath724 as counting almost snake paths in @xmath72 , that is , paths that turn at all steps but one .",
    "the almost snake paths @xmath304 that are counted start at vertex @xmath263 and end at vertex @xmath725 , and when drawn in the cylindric network @xmath303 , they are disjoint unions of @xmath427 paths . in other words",
    ", @xmath304 wraps around the picture figure [ fig : toda1 ] horizontally @xmath427 times .",
    "such paths @xmath304 are completely determined by the single vertex that the path goes through . with @xmath263",
    "fixed , the weights of these vertices are exactly the @xmath58 with @xmath726 .    recall that we defined @xmath384 in .",
    "[ lem : c - f ] when @xmath516 , we have @xmath727 thus the product of all @xmath557 is constant on @xmath181 .",
    "we first show that @xmath728 indeed , lift a family @xmath320 of paths that contributes to @xmath468 ( as in theorem [ thm : mit ] ) to the universal cover , as in figure [ fig : toda2 ] . by theorem [ thm : mit ] , the family @xmath320 includes exactly @xmath59 abrupt paths and @xmath729 non - abrupt paths .",
    "let us suppose that the sources used by the @xmath729 non - abrupt paths are @xmath730 and the sinks are @xmath731 , where @xmath732 and @xmath733 . to agree with our convention in figure [ fig : toda1 ] that source and sink labels increase as we go down , we will take the @xmath342-coordinate to increase as we go down in figure [ fig : toda2 ] ; but otherwise , the coordinates we are using are the usual cartesian coordinates .    for each @xmath109 , let @xmath734 $ ] be chosen so that @xmath735 . from theorem [ thm : mit ]",
    "it also follows that @xmath736 as this is the number of times the @xmath282-line would be crossed by the paths . also , we know that @xmath737 and thus @xmath738 . this is because our collection of non - abrupt paths must form a collection of cycles in @xmath72 .",
    "the number of the @xmath739 a path from @xmath740 to @xmath741 picks up is equal to @xmath742 , and summing over all the non - abrupt paths in @xmath320 we get @xmath743 as claimed .",
    "this degree is equal to @xmath744 when @xmath745 .",
    "now we prove the lemma .",
    "let us partition all the edges in the network @xmath72 into @xmath744 snake paths , @xmath746 .",
    "suppose @xmath304 is a closed path in @xmath72 .",
    "then we can partition @xmath304 into _ snake intervals",
    "_  maximal contiguous segments of @xmath304 that follow one of the @xmath747 .",
    "such snake intervals are connected by a _ horizontal step _ going through a vertex ( and picking up its weight ) , and moving from a snake path @xmath747 to the next snake path @xmath748 .",
    "it is easy to see that the vertices which separate @xmath749 from @xmath750 are exactly the ones labelled with @xmath8 where @xmath726 .    in order for @xmath304 to be closed , it must consist of @xmath751 horizontal steps , where @xmath751 is a multiple of @xmath744 , since @xmath304 must come back to the snake path it started at .",
    "when @xmath745 , shows that all families of toric paths that contribute to @xmath468 consist of just a single closed path in @xmath72 that picks up exactly one of the @xmath8 from each of the sets @xmath752 , for @xmath753 . using lemma [ lem",
    ": c - snake ] , we see that each such term appears exactly once in the product @xmath754 .",
    "we need to show that this is not only an injection , but a bijection . for each term contributing to @xmath754 , it suffices to find a closed path in @xmath72 that has this weight . by",
    ", such a closed path would necessarily contribute to @xmath468 for @xmath745 .",
    "for each @xmath739 appearing in our chosen term of @xmath754 , we draw a horizontal step through the vertex labelled @xmath739 in the network @xmath72 . from the endpoint of each such horizontal step ( say from @xmath747 to @xmath748 ) , attach a snake interval in @xmath748 leading to the start point of the horizontal step which goes from @xmath748 to @xmath755",
    ". some of these snake intervals may be empty .",
    "when we glue everything together , we get the desired closed path .",
    "the proof is analogous that of @xcite .",
    "we explain the differences .",
    "when @xmath756 , the triple of integers @xmath757 in van moerbeke and mumford s work @xcite corresponds to the parameters @xmath758 in our case .",
    "one first shows that there is a positive regular divisor of degree @xmath20 , denoted @xmath30 , satisfying definition [ def : d ] .",
    "the correspondence @xmath759 is the main construction in ( * ? ? ?",
    "* theorem 1 ) .",
    "their results do not formally apply since our lax matrix is not _",
    "regular _ in their terminology .",
    "nevertheless , the properties of @xmath759 is proved in the same manner as ( * ? ? ?",
    "* lemmas 3 and 4 ) , where proposition  [ prop : q ] takes the place of ( * ? ? ?",
    "* lemma 2 ) .",
    "the divisors @xmath760 and @xmath761 of theorem [ thm : double ] are obtained by shifting and transposing the lax matrix .",
    "* proposition 1 ) then says , in our terminology , @xmath762 where @xmath688 is the differential of lemma [ lem : zeta ] .",
    "we now take @xmath763 to obtain theorem [ thm : double ] .",
    "the statement about common points is on @xcite .",
    "we shall also use the following lemma which is proved in a similar way to ( * ? ? ?",
    "* lemma 5 ) .",
    "[ lem : d ] suppose @xmath30 is a positive divisor on @xmath18 of degree @xmath20 . which is regular with respect to the points @xmath187 and @xmath513 .",
    "we have    1 .",
    "@xmath764 for @xmath532 .",
    "2 .   suppose for each @xmath532 , we have fixed a nonzero element @xmath765 .",
    "then for @xmath766 , and any @xmath767 , there are unique scalars @xmath768 such that @xmath769 with @xmath770 .",
    "let us prove the theorem . due to theorem  [ thm : double ] , lemma  [ lem : c - f ] and the assumption on @xmath462 , for @xmath572 we have @xmath771 , and @xmath772,c , o)$ ] satisfying ( b ) . in the following we construct the inverse of @xmath562 for @xmath402 . around @xmath386",
    "we have the local expansion @xmath773 as @xmath774 .",
    "we take @xmath775 , and recursively define @xmath776 by @xmath777 let @xmath765 have an expansion around @xmath187 as @xmath778 .    since @xmath779 , using lemma [ lem : d ] , we have unique scalars @xmath780 satisfying @xmath781 by expanding it around @xmath187 , we get @xmath782 independent of @xmath59 .",
    "define an infinite matrix @xmath783 , j \\in \\z}$ ] by @xmath784 by using for this @xmath211 , we obtain @xmath785 .",
    "fix @xmath516 , and assume that @xmath786 contains @xmath787",
    ". by lemma [ lem : r - matrix ] , the action of the finite symmetric group @xmath577 via the @xmath0-matrix action of  [ sec : dynamics ] preserves the lax matrix @xmath295 .",
    "( see  [ sec : actions ] for more discussion of this action . )",
    "thus @xmath788 . by",
    ", the @xmath577 action induces the permutation action on the @xmath3 quantities @xmath789 , which corresponds exactly to the permutation action on @xmath22 . also , for @xmath790 , these @xmath3 quantities @xmath789 are distinct .",
    "so @xmath791 implying that @xmath792 .",
    "thus the map @xmath793 is an injection , and the claim follows .    * * this argument is perhaps a bit too sketchy at the moment . *",
    "* * we sketch an argument that @xmath794 whenever @xmath789 are non - zero .",
    "consider a factorization @xmath795 where @xmath796 is a product of @xmath797 factors @xmath798 . by induction",
    "we may assume that @xmath796 has at most @xmath797 factorizations , and so it is enough to show that the factorization problem @xmath795 has at most @xmath3 solutions .",
    "the matrix @xmath670 has interesting entries on @xmath3 consecutive diagonals , the matrix @xmath61 has interesting entries on one diagonal , and the matrix @xmath796 has interesting entries on @xmath797 consecutive diagonals . expanding the equation @xmath795 we get @xmath299 equations in the entries of @xmath61 and @xmath796 , treating the entries of @xmath670 as fixed .",
    "we first make the observation that the condition that @xmath789 are non - zero imply that all the @xmath58 are non - zero , which in turn imply ( via these @xmath299 equations ) that all entries of @xmath799 and @xmath796 are determined if we know just one of the @xmath800 , say @xmath801 .",
    "so it is enough to show that there are at most @xmath3 possible values of @xmath801 .",
    "considering the structure of the equations , we can repeatedly substitute them into others until we obtain a single equation in @xmath801 .",
    "the key observation is that this equation has degree @xmath802 , and thus there are at most @xmath3 possible values of @xmath801 .",
    "this completes the proof .",
    "we study the family of commuting extended affine symmetric group actions on @xmath180 , introduced in   [ sec : dynamics ] .",
    "we also study another family of actions on @xmath5 , which we call the _ snake path actions_. the main result in this section is theorem  [ thm : commuting - actions ] .    throughout  [ sec : actions][sec : fay ] , we fix @xmath566 . for simplicity , we write @xmath803 in the rest of this section .",
    "recall the definitions of energy and @xmath0-matrix from  [ sec : rmatrix ] .",
    "let @xmath804 and @xmath805 be two @xmath2 by @xmath2 matrices of the shape , with diagonal entries @xmath35 and @xmath806 .",
    "define the _ energy _ by @xmath807 and the _ @xmath0-matrix _ to be the transformation @xmath808 , where @xmath809 and @xmath810 have diagonal entries @xmath811 and @xmath812 respectively , and @xmath813 .",
    "the following is proved for example in ( * ? ? ?",
    "* corollary 6.4 ) .",
    "[ lem : r - matrix ] suppose @xmath814 .",
    "then we have @xmath815 .",
    "indeed , lemma [ lem : r - matrix ] and the condition that @xmath0 is non - trivial uniquely determine the @xmath0-matrix as a birational transformation .",
    "now we reformulate the @xmath816 actions introduced in   [ sec : dynamics ] , in our current terminology .",
    "the action of the extended affine symmetric group @xmath12 is generated by @xmath817 and @xmath116 , where for @xmath818 , @xmath819 acts by @xmath820 where @xmath821 is the @xmath0-matrix image of @xmath822 .",
    "the operator @xmath116 acts as @xmath823 the operator @xmath147 acts by moving , via the @xmath0-matrix , the last @xmath151 terms of @xmath824 to the first @xmath151 positions , keeping them in order .",
    "recall from ",
    "[ sec : dynamics ] that we also have @xmath825 coordinates on @xmath5 , where @xmath826 is an @xmath827 by @xmath827 matrix : @xmath828 similarly , the action of @xmath13 generated by @xmath829 and @xmath114 on @xmath830 is described as follows : for @xmath831 , @xmath832 acts by @xmath833 where @xmath834 is the @xmath0-matrix image of @xmath835 .",
    "the operator @xmath114 acts as @xmath836 where @xmath837 is the @xmath827 by @xmath827 version of @xmath838 .",
    "recall that we denote by @xmath202 ( resp .",
    "@xmath201 ) the finite symmetric group generated by @xmath839 ( resp .",
    "@xmath840 ) .",
    "then @xmath12 is generated by @xmath577 and @xmath116 , and @xmath140 is generated by @xmath841 and @xmath114 .",
    "recall that in   [ subsec : main ] we define divisors @xmath842 and @xmath843 on @xmath18 as follows : @xmath844 for @xmath845 .",
    "let @xmath846 acts on @xmath847 by @xmath848 .",
    "[ thm : finite ]    1 .",
    "the actions of @xmath577 and @xmath116 on @xmath181 induce the following transformations on @xmath849 : for @xmath850 , @xmath851 induces @xmath852,c , o , a ) \\mapsto ( [ \\mathcal{d}],c , o,\\nu_{r}(a)),\\end{aligned}\\ ] ] and @xmath116 induces @xmath853,c , o , a ) \\mapsto   ( [ \\mathcal{d } - \\mathcal{a}_1],\\tau^{-1}(c),o , \\nu_{m-1 } \\nu_{m-2 } \\cdots \\nu_{1}(a)).\\end{aligned}\\ ] ] 2 .",
    "the actions of @xmath854 and @xmath855 on @xmath181 induce the following transformations on @xmath849 : for @xmath856 , @xmath832 induces @xmath857,c , o , a ) \\mapsto ( [ \\mathcal{d}],c,\\tilde \\nu_{n - r}(o),a),\\end{aligned}\\ ] ] and @xmath114 induces @xmath858,c , o , a ) \\mapsto   ( [ \\mathcal{d } + \\mathcal{o}_1],\\tau(c ) , \\tilde \\nu_1 \\cdots \\tilde \\nu_{n-1}(o),a).\\end{aligned}\\ ] ]    theorems [ thm : finite ] will be proved in ",
    "[ sec : prooffinite ] .",
    "the following theorem states that the commuting @xmath25 and @xmath31 actions on @xmath859 are linearized by the spectral map @xmath24 .",
    "[ thm : commuting - actions ] the following diagrams are commutative : @xmath860_{e_u } \\ar[r]^{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f \\times r_o \\times r_a\\   \\ar[d]^{(-[\\mathcal{a}_u],\\,\\tau^{-u } , \\,id,\\,id ) }   \\\\",
    "\\psi^{-1}(f ) ~~ \\ar[r]_{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f   \\times r_o \\times r_a , \\\\ } \\end{aligned}\\ ] ] for @xmath861 , and @xmath862_{\\tilde e_u } \\ar[r]^{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f \\times r_o \\times r_a \\ar[d]^{(+[\\mathcal{o}_u],\\,\\tau^{u},\\,id,\\,id ) }   \\\\",
    "\\psi^{-1}(f ) ~~ \\ar[r]_{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f   \\times r_o \\times r_a , \\\\ } \\end{aligned}\\ ] ] for @xmath863 . here",
    "$ ] and @xmath865 $ ] respectively act on @xmath859 as @xmath866 \\mapsto [ \\mathcal{d } - \\mathcal{a}_{u}]$ ] and @xmath866 \\mapsto [ \\mathcal{d } + \\mathcal{o}_{u}]$ ] .",
    "we shall show .",
    "the proof of is done in the similar way by exchanging the rules of the special points @xmath867}$ ] for that of @xmath868}$ ] .    from and",
    ", it follows that a non - trivial part is to show @xmath147 induces the action on @xmath869 : @xmath870,a ) \\mapsto   ( [ \\mathcal{d } - \\mathcal{a}_u],a).\\ ] ]    note that for @xmath871 , @xmath872 acts on @xmath22 as @xmath873 thus , indicates that @xmath116 induces @xmath874,(a_1,\\ldots , a_m ) ) \\mapsto ( [ \\mathcal{d}-\\mathcal a_1],(a_2,\\ldots , a_m , a_1))$ ] , and @xmath875 induces @xmath870,(a_1,\\ldots , a_m ) ) \\mapsto ( [ \\mathcal{d}-\\mathcal a_u],(a_{u+1},\\ldots , a_m , a_1,a_2,\\ldots , a_m)).\\ ] ] further , denotes that @xmath851 does not change a point in @xmath859 and acts on @xmath22 as a permutation @xmath876 .",
    "the rest part @xmath877 of @xmath147 changes @xmath878 following ( the inverse of ) as @xmath879    we remark that @xmath147 and @xmath157 act on the sets @xmath22 and @xmath21 as the identity transformations .",
    "we define a shift operator @xmath674 acting on @xmath5 as @xmath880 it is easy to see that it induces an action @xmath881 given by @xmath882 .",
    "the following result generalizes ( * ? ? ?",
    "* proposition  2.6 ) .",
    "[ prop : shift ] the following diagram is commutative : @xmath883_{\\varsigma } \\ar[r]^{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f \\times r_o \\times r_a~~\\   \\ar[d]^{(+[p - o_n],\\,\\tau,\\,\\tilde \\nu_1 \\cdots \\tilde \\nu_{n-1 } , \\,{id } ) }   \\\\",
    "\\psi^{-1}(f ) ~~ \\ar[r]_{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f \\times r_o \\times r_a , \\\\ } \\end{aligned}\\ ] ] where @xmath884 $ ] acts on @xmath859 as @xmath866 \\mapsto [ \\mathcal{d } + p - o_n]$ ] .",
    "suppose @xmath885 and @xmath886,c , o , a)$ ] .",
    "then @xmath887,\\tau(c),\\tilde \\nu_1 \\cdots \\tilde \\nu_{n-1}(o),a)$ ] , where @xmath888 is some positive divisor of degree @xmath20 .",
    "we set @xmath889 .",
    "recall that @xmath890 denotes the eigenvector of @xmath891 .",
    "an eigenvector of @xmath892 is @xmath893 .",
    "define @xmath894 ; these ratios do not depend on which eigenvector of @xmath895 we chose .",
    "then by @xmath896 by the uniqueness of @xmath888 it follows that the divisor @xmath888 ( resp .",
    "@xmath897 ) is equal to @xmath898 ( resp .",
    "@xmath899 ) . furthermore ,",
    "@xmath900 , as required .      for @xmath856 , @xmath901 and @xmath902 , using the energy in ",
    "[ sec : rmatrix ] define @xmath903 define an @xmath2 by @xmath2 matrix @xmath904 by : @xmath905 where @xmath906 for @xmath907 , and @xmath908 denotes the identity matrix .",
    "[ lem : vertical - l ]    1 .",
    "the action of @xmath909 on @xmath5 induces the identity map on @xmath28 , and the action of @xmath116 on @xmath5 induces the adjoint transformation @xmath910 on @xmath28 .",
    "the action of @xmath832 and @xmath114 on @xmath5 induces adjoint transformations on @xmath28 , given by @xmath911 for @xmath912 , and @xmath913    \\(i ) due to lemma  [ lem : r - matrix ] , we have @xmath914 for @xmath915 .",
    "the induced action of @xmath116 is @xmath916 and the claim follows .",
    "+ ( ii ) by ( * ? ? ?",
    "* theorem 6.2 ) , the action of @xmath832 on @xmath5 is given by @xmath917 by definition @xmath918 satisfies @xmath919 , and we have @xmath920 .",
    "the claim follows .    the second part is easy to see , as the transformation @xmath114 just cycles the indices inside the @xmath921 ( definition [ def : action ] ) .    since similar matrices have the same characteristic polynomial",
    ", we obtain the following :    [ cor : l - ww ] for each @xmath224 , @xmath922 is invariant under the action of @xmath816 .",
    "in particular , the coefficients of @xmath179 are conserved quantities for @xmath816 .",
    "[ lem : pi - c ] each @xmath923 is invariant under actions of @xmath819 and @xmath924 .",
    "the cyclic shift @xmath116 acts on @xmath847 via @xmath925 and @xmath114 acts on @xmath847 via @xmath926    from the definition of the cyclic group action , it follows that @xmath927 and @xmath928 .",
    "thus , using lemma  [ lem : c - snake ] , we see that @xmath114 induces @xmath929 and that @xmath116 induces @xmath930 similarly .      for a vector @xmath931 of rational functions on @xmath18 , define @xmath932 where @xmath0 is the divisor supported on @xmath690 , which appears in theorem [ thm : double ] .",
    "( see lemma  [ lem : zeta ] for the explicit formula of @xmath0 . )",
    "the following result is immediate .",
    "[ l : scale ] let @xmath184 be a rational function on @xmath208",
    ". then @xmath933 is linearly equivalent to @xmath934 .",
    "[ l : d ] the positive general divisor @xmath538 of degree @xmath20 associated to @xmath295 is equal to @xmath935 .    by theorem [ thm : double ] , @xmath542 belongs to the common zeroes . also by theorem [ thm : double ] , @xmath525 have no common points , so they do not contribute to @xmath935 .",
    "[ l : qv ] suppose @xmath936 is a @xmath937 matrix whose entries are polynomials in @xmath389 $ ] , thought of as rational functions on @xmath18 with poles supported at @xmath187 .",
    "let @xmath938 , where @xmath939 and @xmath940 are positive divisors .",
    "then restricted to @xmath941 , we have that @xmath942 is a positive divisor . also , @xmath940 is supported at @xmath187 .",
    "let @xmath943 .",
    "then the entries of @xmath744 are regular at @xmath304 .",
    "we shall show that the multiplicity of @xmath304 in @xmath939 is less than the multiplicity of @xmath304 as a zero in @xmath944 .",
    "since @xmath945 , and @xmath946 is regular at @xmath304 , it is clear that @xmath947 , where @xmath948 denotes the multiplicity of a divisor at a point @xmath304 .",
    "we also have @xmath949 since @xmath950 is regular at @xmath304 , we have @xmath951 .",
    "both claims follow .",
    "suppose @xmath952 and @xmath953 .",
    "we shall compute @xmath954 up to linear equivalence .",
    "note that @xmath955 is an eigenvector of @xmath956 , and @xmath957 , so an eigenvector of @xmath958 is equal to @xmath959 , where @xmath960 extend the vector @xmath961 into an infinite vector @xmath962 by @xmath963 .",
    "as in  [ sec : lax ] , let @xmath964 , j \\in \\z}$ ] be the infinite  unfolded \" version of @xmath965 , satisfying @xmath966 .",
    "( note that @xmath211 is a matrix of scalars , but @xmath967 is a matrix of functions . )",
    "then we have @xmath968    define @xmath969 and @xmath970 .",
    "we claim that there exists a @xmath971 matrix @xmath972 such that @xmath973 .",
    "since @xmath974 , we have @xmath975 ( where @xmath800 is extended periodically if @xmath976 ) . we now write @xmath977 in terms of @xmath978 using .",
    "the matrix @xmath211 is supported on the @xmath979 diagonals @xmath980 .",
    "the matrix @xmath981 is supported on the @xmath982 diagonals @xmath983 .",
    "thus gives @xmath984 also note that @xmath985 .",
    "so @xmath986    [ lem : time ] with the above conventions , we have @xmath987    we shall show that @xmath988 .",
    "this suffices by lemmas [ l : scale ] and [ l : d ] . from lemma [ l : qv ]",
    ", we have @xmath989 where @xmath990 are positive divisors , with @xmath939 when restricted to @xmath991 supported on @xmath992 , and @xmath940 supported at @xmath187 . since @xmath993 is a positive divisor of degree @xmath20 by the construction of @xmath994 , we have that @xmath939 and @xmath940 have the same degree .",
    "we now calculate @xmath940 . by theorem [ thm : double ] , we have that @xmath995 for some integer @xmath208 ( we use the convention that negative multiplicity is a pole ) , and this formula still holds for the infinite vector @xmath996 . since @xmath975 , we have @xmath997 .",
    "thus @xmath998 .",
    "it follows that @xmath939 is a single point in @xmath991 .",
    "we shall show that @xmath939 must be supported on @xmath999 . by theorem [ thm : double ] , the common zeros of @xmath1000 and @xmath639 for any @xmath1001 are only @xmath1002 except for the points in @xmath1003 .",
    "thus we have @xmath1004 where @xmath1005 is supported on @xmath1003 .",
    "but @xmath992 does not intersect @xmath1003 . using lemma [ l : qv ]",
    "now applied to @xmath1006 , we see that @xmath939 must be supported on @xmath1007 .    by lemma [ l : a ] below",
    ", we conclude that @xmath939 is a multiple of @xmath999 .",
    "since @xmath1008 is a divisor of degree 0 , we must have @xmath1009 as required .",
    "[ l : a ] the intersection of @xmath1010 and @xmath1011 is the single point @xmath999 .",
    "we check that @xmath1012 .",
    "it is clear that @xmath1013 write @xmath1014 for the @xmath3 columns of the above @xmath3 by @xmath3 matrix . we show that they are linearly dependent as @xmath1015 which reduces to @xmath1016 by the definition of @xmath211 , we have @xmath1017 where @xmath1018 , j \\in \\z}$ ] is the infinite unfolded version of @xmath295 . on the network @xmath303 , @xmath1019 is the weight generating function of paths from the source @xmath1020 to the sink @xmath1021 .",
    "note that each weight in @xmath1019 is of degree @xmath1022 in @xmath1023-s .",
    "we divide @xmath1019 into two parts : @xmath1024 where @xmath1025 is the sum of the weights _ with _",
    "@xmath1026 , and @xmath1025 is the sum of the weights _ without _ @xmath1026 .",
    "we claim that there is one - to - one correspondence between the paths contributing to @xmath1025 and the paths contributing to @xmath1027 .",
    "precisely , we have @xmath1028 . combining with @xmath1029 and @xmath1030",
    ", we obtain .",
    "\\(i ) due to the definition of @xmath851 , lemma  [ lem : vertical - l](i ) and lemma  [ lem : pi - c ] , for @xmath1031 with @xmath886,c , o,(a_1,\\ldots , a_m))$ ] , we have @xmath1032,c , o,(a_1,\\ldots , a_{r-1 } , a_{r}(q'),a_{r+1}(q'),a_{r+2},\\ldots , a_m)),\\ ] ] where @xmath1033 .",
    "from we see that @xmath1034 and @xmath1035 , and follows .",
    "it is easy to see that for @xmath1036 we have @xmath1037 , \\tau^{-1}(c),o')$ ] , where @xmath888 is some divisor . by lemma [ lem : time ]",
    ", we have @xmath1038 = [ \\d ' + a_1 - p]$ ] .",
    "the claim follows .",
    "+ ( ii ) first we prove .",
    "let @xmath1039 be the eigenvector of @xmath1040 , and set @xmath1041 .",
    "define @xmath1042 for @xmath541 .",
    "then we have @xmath1043 we must show that @xmath1044 for @xmath1045 and @xmath1046 .",
    "it is enough to consider the case of @xmath1047 and @xmath1048 . due to theorem [ thm : double ] and",
    ", there are positive divisors @xmath1049 of degree @xmath20 such that @xmath1050 , @xmath1051 .",
    "since @xmath1052 and @xmath1053 , we get @xmath1054 .",
    "thus it follows that @xmath1055 . from and",
    "lemma  [ lem : pi - c ] it follows that both @xmath552 and @xmath1056 are not changed by @xmath832 . from the facts that @xmath1057 is the product of all diagonal elements of @xmath1058 , and that the @xmath0-matrix action changes @xmath1059 to @xmath1060 , it follows that @xmath832 exchanges the @xmath1061-th and the @xmath1062-th elements of @xmath553",
    ". then we get .",
    "since @xmath1063 induces the shift @xmath1064 of @xmath295 , follows from proposition  [ prop : shift ] .",
    "recall that @xmath1065 .",
    "the _ snake path actions _ are torus actions on @xmath5 , considered in @xcite .",
    "recall from ",
    "[ subsec : lem : q ] that a snake path is a closed path on @xmath72 that turns at every vertex .",
    "thus it alternates between going up or going right . for @xmath1066 and @xmath1067 , the action @xmath1068 on @xmath180",
    "is given by @xmath1069 informally , @xmath1070 multiplies all left turns on a snake path by @xmath205 , and all right turns by @xmath1071 .",
    "[ lem : snake - h ] the induced action @xmath1072 on @xmath28 is given by @xmath1073 where @xmath1074    for simplicity we write @xmath1075 and @xmath1076 .",
    "we rewrite @xmath1077 as @xmath1078 this is equal to @xmath1079 since @xmath1080 .",
    "it is enough to prove @xmath1082 acting on @xmath28 . for @xmath1083",
    ", we have @xmath1084 where @xmath1085 .",
    "on the other hand we have @xmath1086 thus the claim is obtained .    from lemma  [ lem : c - snake ] and [ lem : snake - h ] we obtain    [ prop : snake ] the following diagram is commutative : @xmath1087_{t_s } \\ar[r]^{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f \\times r_o \\times r_a~~\\ \\ar[d]^{(id,\\,t_s,\\,id , \\,id ) }   \\\\",
    "\\psi^{-1}(f ) ~~ \\ar[r]_{\\phi \\qquad \\qquad }   & \\pic^{g}(c_f ) \\times \\mathcal{s}_f \\times r_o \\times r_a , \\\\ } \\end{aligned}\\ ] ] where @xmath1088 acts on @xmath847 by @xmath1089    thus the snake path actions @xmath1070 act transitively on @xmath847 .",
    "fix @xmath566 .",
    "we fix a universal cover of @xmath18 and @xmath1090 , and define the abel - jacobi map @xmath1091 by @xmath1092 where @xmath1093 is a basis of holomorphic differentials on @xmath18 .",
    "we also write @xmath1091 for the induced map @xmath1094 .",
    "let @xmath1095 be the period matrix of @xmath18 , and write @xmath1096 for the riemann theta function : @xmath1097 it is known to satisfy the quasi - periodicity : @xmath1098 for @xmath1099 .",
    "let @xmath1100 be the riemann characteristic , that is , @xmath1101 is linearly equivalent to the canonical divisor @xmath1102",
    ". then the well known properties of the riemann theta function gives    for any point @xmath1103 , the function @xmath1104 is a section of the line bundle @xmath1105 which has zeroes exactly at @xmath1106 and at @xmath676 , and no poles .",
    "for any positive divisor @xmath30 of degree @xmath20 , the function @xmath1107 is a section of the line bundle @xmath1108 which has zeroes exactly at @xmath30 and no poles .      for a positive divisor @xmath30 of degree @xmath20 ,",
    "define the function @xmath1109 on @xmath18 by @xmath1110 where @xmath1111 .",
    "[ lem : psi - h ] @xmath1112 is a meromorphic function on @xmath18 .",
    "when @xmath30 is the positive divisor defined by definition  [ def : d ] , we have @xmath1113 thus @xmath1112 is equal to @xmath1114 up to a scalar .    to check that @xmath1112 is a meromorphic function on @xmath18 we use the functional equation for @xmath1115 , and note that the multiset of points ( with signs and multiplicities ) that appear in the numerator is equal to the same for the denominator .",
    "this multiset in additive notation is @xmath1116 . for the second statement",
    ", we note that @xmath1112 has zeroes at @xmath1117 , a pole of order @xmath729 at @xmath187 , and also poles at @xmath30 . by",
    ", we have @xmath1118 .",
    "now we study the inverse of @xmath24 .",
    "we focus on the @xmath25 action . for @xmath1119 ,",
    "let @xmath1120 be a configuration at time @xmath205 .",
    "for @xmath1121 , let @xmath1122 be its eigenvector and set @xmath1123 .",
    "let @xmath1124 be @xmath1125 where @xmath1126 for some positive divisor @xmath30 of degree @xmath20 .",
    "define @xmath1127 for @xmath1128 , and recursively set @xmath1129 .",
    "define functions @xmath1130 and @xmath1131 on @xmath18 by @xmath1132 where @xmath1133 , and by @xmath1134 by lemma [ lem : psi - h ] , there is a constant @xmath1135 depending on @xmath18 , such that we have @xmath1136    ( cf .",
    "lemma  3.1 @xcite)[lem : psi - op ] we have @xmath1137 where @xmath1138 is a coefficient of the leading term of @xmath1139 around @xmath1140 .",
    "the first equality of follows from @xmath1141 and @xmath1142 . by lemma  [ lem : vertical - l ]",
    "we have @xmath1143 which gives @xmath1144 then , from the second equalities of and follow .",
    "we have @xmath1145 where we extend @xmath1146 to @xmath532 by setting @xmath1147 if @xmath1148 for @xmath1149 .",
    "it is enough to show the case of @xmath1150 , @xmath1151 .",
    "then the other cases follow from lemma  [ lem : pi - c ] .",
    "we will show that the coefficient of the leading term in @xmath1152 at @xmath1140 is equal to @xmath1153 . to obtain the ratio @xmath1152 we may choose to compute maximal minors of @xmath529 with respect to any row .",
    "let us choose row @xmath1154 .",
    "then by theorem [ thm : minor ] , we are counting families of paths that do not start at source @xmath1154 and do not end at sink @xmath59 ( for @xmath531 ) or sink @xmath1154 ( for @xmath1155 ) .",
    "since we are computing at @xmath1140 , the only terms that contribute are the ones lying on the upper hull of the newton polygon , that is , the edge with slope @xmath1156 . in terms of path families",
    "this means that we only take paths that are as close to a snake path as possible . in the case of @xmath1155",
    "this means that we take a subset of closed snake paths .",
    "each of them picks up no weight , and thus overall we just get a constant . in the case of @xmath1157 one of the closed staircase paths",
    "skips one term , and thus we get a long path starting at source @xmath59 , winding around the torus and ending at sink @xmath1154 . such path essentially by definition picks up weight @xmath1153 .",
    "the other snake paths may or may not appear , thus creating only a constant factor in front .",
    "note that is compatible with the snake path actions in lemma  [ lem : snake - h ] .",
    "[ thm : n=1 ] when @xmath33 , the inverse map of @xmath24 is given by @xmath1158 where @xmath1159,\\end{aligned}\\ ] ] and @xmath1160 is determined by @xmath1161 such that @xmath1162 .",
    "let @xmath1163 .",
    "by lemma  [ lem : psi - op ] we get the equations @xmath1164 we show that @xmath1165 does not depend on @xmath205 .",
    "consider the product @xmath1166 which is equal to @xmath1167 since @xmath1168 is equivalent to @xmath307 in @xmath1169 , there exists @xmath1161 such that @xmath1170 . due to the quasi - periodicity of @xmath1171",
    ", we have @xmath1172\\cdot \\theta_i^t(p).\\end{aligned}\\ ] ] by using and we obtain @xmath1165 independent of @xmath205 as @xmath1173 hence we get @xmath1174 when @xmath33 , it is nothing but the claim .",
    "when @xmath34 , by factorizing we obtain @xmath1176 here @xmath1177 satisfies @xmath1178 which denotes that @xmath1179 .    for @xmath59 such that @xmath1180 we have @xmath1181 here @xmath1182",
    "is given by @xmath1183 such that @xmath1184 .    from and it follows that @xmath1185 for @xmath1186 and @xmath1180 .    first we show that the second factor of is equal to @xmath1187 it is enough to prove in the case of @xmath1188 , where the second factor is @xmath1189 when @xmath1190 , @xmath744 is a divisor of @xmath3 and we have @xmath1191 .",
    "when @xmath1192 , define an automorphism @xmath1193 of @xmath1194 by @xmath1195 .",
    "since @xmath421 and @xmath1196 are coprime , a set @xmath1197 coincides with @xmath1198 .",
    "thus , from @xmath1065 and @xmath1199 , it follows that the product @xmath1200 is reordered to be @xmath1201 .",
    "further , since @xmath744 is a divisor of @xmath827 , we obtain the claim .",
    "next , we can show that the third factor of is equal to @xmath1202 by using and @xmath1203\\cdot \\theta_{i - k}^t(p).\\ ] ] here @xmath1182 is given by @xmath1183 such that @xmath1184 . finally from",
    "we obtain @xmath1204 and the claim follows .",
    "unfortunately , we have not been able to obtain @xmath1177 from and .",
    "nevertheless , if we assume that @xmath1177 is constant on @xmath859 , then we obtain the following conditional result .",
    "[ prop : n>1 ] suppose that @xmath1177 is a constant function on @xmath859 .",
    "then we have @xmath1205 in particular , the inverse of @xmath24 is given by @xmath1206 where @xmath1207 is defined by , and @xmath1208 ,   \\\\   & \\hspace*{12 cm } i \\equiv r \\mod n.\\end{aligned}\\ ] ]    to have compatible with the snake path action and , @xmath1209 has to be constant on @xmath847 .",
    "so @xmath1177 is regarded as a function on @xmath1210 .",
    "if @xmath1177 is not constant on @xmath22 , implies that @xmath1177 depends on @xmath1211 , but this contradicts .",
    "thus @xmath1177 is constant on @xmath22 , and we have which fulfills . by substituting in and using , we obtain the final claim .",
    "we shall prove that the function @xmath207 satisfies a family of octahedron recurrences @xcite , as a specialization of fay s trisecant identity .",
    "we follow the definitions in  [ sec : theta ] . in the following we assume @xmath1212 and write @xmath210 for the unique special point @xmath627 over @xmath1213 .",
    "we introduce fay s trisecant identity in our setting . for @xmath1214 , we define a generalization of the riemann theta function : @xmath1215(z )     : =    \\exp \\left(\\pi \\sqrt{-1 } \\beta \\cdot ( \\beta \\omega + 2 z + 2 \\alpha    \\right )    \\cdot \\theta(z + \\omega \\beta + \\alpha).\\end{aligned}\\ ] ] we call @xmath1216 $ ] _ a half period _ when @xmath1217 .",
    "furthermore , a half period @xmath1216 $ ] is _ odd _ when @xmath1218(z)$ ] is an odd function of @xmath1219 , that is , @xmath1218(-z ) = - \\theta[\\alpha,\\beta](z)$ ] .",
    "we note that the riemann theta function itself is an even function : @xmath1220 .",
    "it is easy to check that a half period @xmath1216 $ ] is odd if and only if @xmath1221 .",
    "@xcite [ thm : fay ] for four points @xmath1222 on the universal cover of @xmath18 , @xmath1223 , and an odd half period @xmath1216 $ ] , the formula @xmath1224(\\iota(p_2-p_3 ) ) \\,\\theta[\\alpha,\\beta](\\iota(p_4-p_1))\\\\ & + \\theta(z+\\iota(p_3-p_2 ) ) \\ , \\theta(z+\\iota(p_4-p_1 ) ) \\ , \\theta[\\alpha,\\beta](\\iota(p_1-p_3 ) ) \\ , \\theta[\\alpha,\\beta](\\iota(p_2-p_4))\\\\ & = \\theta(z+\\iota(p_3+p_4-p_1-p_2 ) ) \\",
    ", \\theta({\\bf z } ) \\ , \\theta[\\alpha,\\beta](\\iota(p_4-p_3 ) ) \\ , \\theta[\\alpha,\\beta](\\iota(p_2-p_1)).\\end{aligned}\\ ] ] holds .",
    "when @xmath1225 , the vertical actions @xmath1226 are written as difference equations expressed as @xmath1227    for simplicity we write @xmath1228 for @xmath1229 . by construction the theta function solution of @xmath1230 ( theorem [ thm : n=1 ] ) , @xmath1231 satisfies .    [ thm : octahedron ] for any @xmath1232 and @xmath532 , the @xmath1228 satisfy an octahedron recurrence relation , @xmath1233 here @xmath751 is a constant given by @xmath1234 where @xmath1235 is a zero of the riemann",
    "theta function : @xmath1236 .    by setting @xmath1237 and using ,",
    "we obtain : @xmath1238 where @xmath1239 , and @xmath1240 by setting @xmath1241 , turns out to be @xmath1242    [ lem : t23 ] we have @xmath1243    for @xmath1244 , take @xmath1245 such that @xmath1246 is a zero of the riemann theta function , which is always possible by choosing @xmath1247 appropriately .",
    "we write @xmath1248 for such @xmath1249",
    ". then we have @xmath1250 , and @xmath1251 . from and",
    ", we obtain @xmath1252    on the other hand , when @xmath1253 , becomes @xmath1254 it is rewritten as ( using that @xmath1171 is even function ) @xmath1255 where we use to get the last equality .",
    "it follows from that @xmath1256 , and we obtain the claim .",
    "we continue the proof of the theorem . by setting @xmath1257 in ,",
    "we obtain @xmath1258 using this and the above lemma , is shown to be @xmath1259    conversely , we have the following .    [ prop : thetaq ] suppose that @xmath1228 satisfy . then @xmath1230 defined by satisfies .",
    "it is very easy to see that satisfies and .",
    "we consider a ratio @xmath1260 by substituting in @xmath1261 we obtain @xmath1262 where we omit the superscripts @xmath205 for simplicity . at the second equality",
    "we have canceled all the @xmath1153 using @xmath1263 . due to",
    ", we obtain @xmath1264 .",
    "thus , using , we obtain .",
    "the vertical actions @xmath1265 are expressed as matrix equations : @xmath1266 among the family of difference equations we will use the following ones later : @xmath1267 for @xmath1268 . here we define @xmath1269    [ thm : octahedron - general ] for any @xmath203 , @xmath532 and @xmath1270 , the @xmath1228 satisfy an octahedron recurrence relation , @xmath1271 here @xmath1272 is a constant given by @xmath1273 and @xmath1235 is a zero of the riemann theta function : @xmath1236 .    the proof is similar to the @xmath1225 case .",
    "we explain the outline . in the case @xmath1274 of theorem  [ thm : fay ] , we obtain @xmath1275 where @xmath235 , @xmath236 and @xmath1276 are given by , but we replace @xmath999 ( resp .",
    "@xmath1277 ) with @xmath1278 ( resp .",
    "@xmath546 ) . by setting @xmath1279 at ,",
    "we get @xmath1280 we take @xmath1245 and define @xmath1281 in the same manner as in the proof of lemma  [ lem : t23 ] . then @xmath1282 holds for @xmath861 . from ( resp . ) of @xmath1283 ( resp",
    "@xmath1284 ) and @xmath1285 or @xmath1286 , it follows that @xmath1287 on the other hand , by setting @xmath1288 at , we obtain @xmath1289 from the above two relations , @xmath1290 follows .",
    "finally , by setting @xmath1291 at we obtain the formula of @xmath1292 .",
    "the following conjecture extends proposition [ prop : thetaq ] .",
    "suppose @xmath1228 satisfy .",
    "then @xmath1230 defined via satisfy all the difference equations .",
    "we have checked the conjecture for @xmath1293 .",
    "corresponding to @xmath62 of , we also identify @xmath224 with an @xmath174-tuple of @xmath1294 matrices @xmath1295}$ ] as  [ sec : wwonm ] .",
    "the matrices @xmath1296 are given in terms of the @xmath1297 by @xmath1298 , \\end{aligned}\\ ] ] where @xmath837 is the @xmath1299 matrix : @xmath1300 we define @xmath1301 , which is another lax matrix .",
    "also define a map @xmath1302 $ ] given as a composition , @xmath1303 consequently , for @xmath224 we have two affine plane curves @xmath1304 and @xmath1305 in @xmath317 , given by the zeros of @xmath922 and @xmath1306 respectively .",
    "the proof of proposition [ prop : transposehull ] is similar to that of proposition [ prop : hull ] .",
    "[ prop : transposehull ] the newton polygon @xmath1307 is the triangle with vertices @xmath1308 , @xmath1309 and @xmath1310 , where the lower hull ( resp .",
    "upper hull ) consists of one edge with vertices @xmath1309 and @xmath1308 ( resp .",
    "@xmath1310 to @xmath1308 ) .",
    "the affine transformation @xmath1311 sends integer points of @xmath1312 into integer points of @xmath1307 .",
    "it is easy to see that it sends the vertices correctly . by the definition of @xmath1313 we know",
    "@xmath1314 is an integer .",
    "thus this transformation sends integer points to integer points .",
    "so does the inverse , as the determinant of the matrix involved is @xmath1315 .",
    "let @xmath1316 .",
    "the two newton polygons @xmath1312 and @xmath1307 are illustrated in figure [ fig : mnk1 ] . here",
    "@xmath59 labels the horizontal axis and @xmath60 labels the vertical axis .",
    "the dots of the same color show integer points inside the newton polygon that get sent to each other by the transformation .",
    "the formula for the transformation in this case is @xmath1317    [ prop : two - polys ] for @xmath224 , the polynomials @xmath922 and @xmath1306 coincide up to the monomial transformation induced by .",
    "the signs of the new monomials are derived from the rule given in theorem [ thm : mit ] : the sign of @xmath595 is @xmath1318 .",
    "see   [ proof : two - polys ] for the proof .",
    "we write @xmath1319 for the polynomial obtained from the fixed polynomial @xmath183 in  [ subsec : special - pts ] via the affine transformation .",
    "let @xmath1320 be the smooth compactification of the affine plane curve @xmath1321 given by @xmath1322 .",
    "as for @xmath1323 ( lemma  [ lem : inf ] ) , @xmath1324 has a unique point @xmath1325 lying over @xmath284 . due to this fact and proposition  [ prop : two - polys ] , the two curves @xmath1323 and @xmath1320 are isomorphic .",
    "let @xmath1326 be the birational isomorphism , which is given by @xmath1327 when @xmath1328 .",
    "besides @xmath1325 , on @xmath1320 we have special points @xmath1329 for @xmath1330 $ ] , and @xmath1331 for @xmath1332 $ ] , where near @xmath1331 there is a local coordinate @xmath151 such that @xmath1333 we see that @xmath1334 , @xmath1335 and @xmath1336 .",
    "the terms contributing to a particular coefficient of the spectral curve are described by theorem [ thm : mit ] .",
    "we shall exhibit a bijection between the terms of the coefficient associated with the lattice point @xmath300 inside the newton polygon @xmath1312 and the terms contributing to the coefficient associated with the image of that point in @xmath1307 under the affine transformation .",
    "an _ underway path _ in the network @xmath72 is the mirror symmetric version of a highway path .",
    "thus the weights of an underway path are given by figure [ fig : highway ] with @xmath307 and @xmath8 swapped .",
    "the crucial observation is that families of highway paths on the network associated with @xmath62 are families of underway paths on the original network , parsed in the opposite direction .",
    "this is because by the construction of the transpose map between @xmath61 and @xmath62 , the corresponding toric networks are the same but are viewed from opposite sides of the torus ( inside vs outside ) .",
    "now , assume we have a closed family of highway paths contributing to one of the coefficients of @xmath922 .",
    "simply complement all edges that ended up on our family of closed highway paths inside the set of all edges of the network .",
    "we claim that the result can be parsed as the desired family of closed underway paths .",
    "indeed , the original family can be viewed as a number of horizontal `` steps through '' picking up a weight @xmath8 at some node , connected by intervals of staircase paths that do not pick up any weight .",
    "we can interpret our procedure as complementing used intervals of staircase paths , that is , making them not used , and vice versa . as a result , locally around each weight @xmath8 that was picked up the new path will look like what is shown in figure [ fig : mnk2 ] .",
    "thus , it will be an underway path , and it will pick up exactly such @xmath8 . in other words ,",
    "the weight of the original highway family is the same as the weight of this new underway family .",
    "it is also easy to see that the new underway family is closed .",
    "this completes the proof .",
    "let @xmath70 as in example [ ex:3232 ] .",
    "figure [ fig : mnk3 ] shows an example of a family of paths contributing to the purple term of the spectral curve as marked in figure [ fig : mnk1 ] .",
    "the first step takes the complement of edges of this family inside the set of all edges of this network .",
    "the second step does not change the network or the paths , it just changes the point of view and reverses paths directions .",
    "in this section , we give the explicit relation between the @xmath0-matrix dynamics on our toric network and cluster transformations on the honeycomb dimer on a torus .",
    "see @xcite for background on the dimer model .",
    "the calculation in this section is the dimer analogue of the highway network computation of the geometric @xmath0-matrix ( cf .",
    "* theorem 6.2 ) ) , which was explained earlier in  [ sec : dynamics_proof ] ( figure [ fig : wire20 ] ) .",
    "fix a positive integer @xmath670 , and consider a honeycomb bipartite graph on a cylinder as in figure  [ fig : honeycone - dimer ] , where @xmath1337 are the weights of the faces in three cyclically consecutive rows .",
    "we write @xmath1338 .",
    "( 10,68)(20,0)6(0,-1)10 ( 0,50)(20,0)6(0,-1)10 ( 10,32)(20,0)6(0,-1)10 ( 0,76)(20,0)6(5,-4)10 ( 10,68)(20,0)5(5,4)10 ( 10,58)(20,0)5(5,-4)10 ( 0,50)(20,0)6(5,4)10 ( 0,40)(20,0)6(5,-4)10 ( 10,32)(20,0)5(5,4)10 ( 10,22)(20,0)5(5,-4)10 ( 0,14)(20,0)6(5,4)10      ( -3,63)@xmath82 ( 15,63)@xmath1339 ( 37,63)@xmath1340 ( 58,63)@xmath1341 ( 78,63)@xmath1342 ( 98,63)@xmath1343 ( 5,45)@xmath1344 ( 27,45)@xmath1345 ( 48,45)@xmath1346 ( 68,45)@xmath1347 ( 88,45)@xmath1348 ( 107,45)@xmath82      for the weights @xmath575 of the honeycomb , we define a transformation @xmath1354 of @xmath575 in a following way : first we split the @xmath1346-face into two , by inserting a digon of weight @xmath1315 as the top of figure  [ fig : dimer - mutation ] .",
    "we thank r. kenyon for explaining this operation to us .    set the weights of the new two faces to be @xmath1355 and @xmath1356 , where @xmath751 is a nonzero parameter which will be determined .",
    "let @xmath490 be the quiver dual to the bipartite graph , drawn in blue in the figure .",
    "the weights of faces are to be regarded as _",
    "coefficient variables _ associated to each vertex of @xmath490 . with @xmath1357 and @xmath326 , we assign the vertices of @xmath490 in the middle row , as depicted .",
    "next , we apply the cluster mutations @xmath1358 , @xmath1359 to @xmath1360 in order , recursively defining @xmath1361 by @xmath1362 the condition that the digon s weight is again @xmath1315 after the @xmath670 mutations gives an equation for @xmath751 as @xmath1363 . by solving it",
    ", @xmath751 is determined to be @xmath1364 and @xmath1365 is obtained as @xmath1366                          ( 28,69)(30,0)3(-1,0)26 ( 28,15)(30,0)3(-1,0)26 ( 37.5,42)(1,0)6 ( 34.5,42)(-1,0)18 ( 73.5,42)(-1,0)18 ( 46.5,42)(1,0)6 ( 13,42)(-1,0)26 ( 103,42)(-1,0)26 ( 1.5,67)(1,-2)12 ( 16,43.5)(60,0)2(1,2)12 ( 16,40.5)(60,0)2(1,-2)12 ( 1.5,17)(1,2)12 ( 30,67)(1,-4)5.8 ( 54,44)(1,4)5.8 ( 54,40.5)(1,-4)5.8 ( 30,17)(1,4)5.8 ( 62,67)(1,-2)12 ( 62,17)(1,2)12                                                    ( 28,-81)(30,0)3(-1,0)26 ( 28,-135)(30,0)3(-1,0)26 ( 37.5,-108)(1,0)6 ( 34.5,-108)(-1,0)18 ( 73.5,-108)(-1,0)18 ( 46.5,-108)(1,0)6 ( 13,-108)(-1,0)26 ( 103,-108)(-1,0)26 ( 1.5,-83)(60,0)2(1,-2)12 ( 16,-106.5)(60,0)2(1,2)12 ( 16,-109.5)(60,0)2(1,-2)12 ( 1.5,-133)(1,2)12 ( 30,-83)(1,-4)5.8 ( 54,-106)(1,4)5.8 ( 54,-109.5)(1,-4)5.8 ( 30,-133)(1,4)5.8 ( 62,-133)(1,2)12        note that our derivation of @xmath1354 is not entirely a cluster algebra computation since we began with the  digon insertion \" operation , which does not have a clear cluster algebra interpretation . in an upcoming work @xcite , we plan to further clarify the cluster nature of the geometric @xmath0-matrix .",
    "we consider the honeycomb bipartite graph on a torus as in figure  [ fig : toda - dimer ] .",
    "we assign each face ( resp .",
    "edge ) with a weight @xmath1391 ( resp .",
    "@xmath1297 or @xmath80 ) , satisfying the periodicity conditions @xmath1392 and @xmath1393 ( resp . @xmath1394 and @xmath1395 ) . in the figure",
    "we omit weights that are equal to @xmath80 .",
    "the @xmath1391 and @xmath1297 are related by @xmath1396 hence the product of all the @xmath1391 is equal to @xmath80 .",
    "we define three types of actions @xmath1438 , @xmath1439 and @xmath1440 on @xmath1441 , corresponding to the three directions that the honeycomb bipartite graph can be arranged into rows . for @xmath1442 , define @xmath1443 .",
    "let @xmath1438 be the action on @xmath1441 induced by @xmath1444 with @xmath1445 .",
    "more precisely , @xmath1446 is given by @xmath1447 with @xmath1448 . in a similar way , for @xmath1449 ,",
    "define @xmath1450 and let @xmath1439 be the action on @xmath1441 given by @xmath1451 with @xmath1452 . for @xmath1453 , define @xmath1454 , and let @xmath1440 be the action on @xmath1441 given by @xmath1455 with @xmath1456 .",
    "recall that we also have three types of actions on @xmath180 given by the elements @xmath1457 of the extended symmetric group @xmath12 , the elements @xmath1458 of the extended symmetric group @xmath140 , and the snake path action @xmath1459 .    1 .",
    "the actions @xmath1460 and @xmath924 are compatible with the actions @xmath1438 and @xmath1461 respectively : for @xmath1462 , we have @xmath1463 2 .   for @xmath1462 , the action @xmath1440 satisfies @xmath1464 3 .",
    "for @xmath1462 , the snake path action @xmath1465 satisfies @xmath1466    \\(i ) to show , it is enough to prove the @xmath1048 case .",
    "we write @xmath1467 for the energy @xmath1468 .",
    "the operator @xmath138 acts on @xmath180 as @xmath1469 : @xmath1470 and the other @xmath1297 do not change . by definition",
    ", @xmath1471 is obtained as @xmath1472 where @xmath1473 . on the other hand , by direct computation",
    "we obtain @xmath1474 thus we get @xmath1475 and follows .",
    "\\(ii ) again , it is enough to prove the case of @xmath1188 . for simplicity , we write @xmath670 for @xmath1477 , and set @xmath1478 , @xmath1479 for @xmath1480 . from , it follows that @xmath1481 define @xmath1482 for @xmath1483 . using the definition of @xmath1484 and",
    ", we obtain @xmath1485 by the following calculation : @xmath1486 thus we have @xmath1487 , and follows .",
    "\\(iii ) the snake path action @xmath1488 changes @xmath1489 and @xmath1490 in the same way if @xmath1491 .",
    "this condition is satisfied by @xmath1492 and @xmath1493 , then the change is cancelled in @xmath1494 .",
    "thus we see that @xmath1495 .",
    "a.  b.  goncharov and r.  kenyon , dimers and cluster integrable systems , ann .",
    "( 4 ) 46 , no . 5 ,",
    "747813 ( 2013 ) .",
    "r.  hirota , s.  tsujimoto and t.  imai , difference scheme of soliton equations , in future directions of nonlinear dynamics in physical and biological systems ( lyngby , 1992 ) , nato adv .",
    ", 312 , 715 ( plenum press , new york , 1993 ) .",
    "r.  inoue , a.  kuniba and t.  takagi , integrable structure of box - ball systems : crystal , bethe ansatz , ultradiscretization and tropical geometry , j. phys .",
    "a * 45 * , no . 7 , 073001 , 64 pp ( 2012 ) .",
    "r.  inoue and t.  takenawa , tropical spectral curves and integrable cellular automata , int . math .",
    "res . not .",
    "imrn * 27 * art i d .",
    "rnn019 , 27 pp ( 2008 ) ; +  , a tropical analogue of fay s trisecant identity and an ultradiscrete periodic toda lattice , comm . math .",
    "phys . , 289 , 9951021 ( 2009 ) .",
    "s.  iwao , solution of the generalized periodic discrete toda equation , j. phys .",
    "a 41 , no .",
    "11 , 115201 , 15 pp ( 2008 ) . s.  iwao , solution of the generalized periodic discrete toda equation .",
    "theta function solution , j. phys .",
    "a 43 , no .",
    "15 , 155208 , 9 pp ( 2010 ) .",
    "s.  iwao , linearisation of the @xmath1496-reduced non - autonomous discrete periodic kp equation , arxiv:0912.3333 .",
    "kirillov , introduction to tropical combinatorics , in  physics and combinatorics 2000 \" ( eds .",
    "n. kirillov and n. liskova ) , proceedings of the nagoya 2000 international workshop , 82150 , world scientific , 2001 .",
    "kang , m.  kashiwara , k.c .",
    "misra , t.  miwa , t.  nakashima , and a.  nakayashiki , affine crystals and vertex models , in infinite analysis part a ( kyoto 1991 ) , 449484 , _ adv .",
    "_ , * 16 * , world sci",
    ". publishing , river edge , nj , 1992 .",
    "d.  speyer , perfect matchings and the octahedron recurrence , j. algebraic combin . 25 , no .",
    "3 , 309348 ( 2007 ) .",
    "d.  takahashi and j.  satsuma , a soliton cellular automaton , j. phys .",
    "japan * 59 * , no .",
    "10 , 35143519 ( 1990 ) ."
  ],
  "abstract_text": [
    "<S> we use the combinatorics of toric networks and the double affine geometric @xmath0-matrix to define a three - parameter family of generalizations of the discrete toda lattice . </S>",
    "<S> we construct the integrals of motion and a spectral map for this system . the family of commuting time evolutions arising from the action of the @xmath0-matrix is explicitly linearized on the jacobian of the spectral curve . </S>",
    "<S> the solution to the initial value problem is constructed using riemann theta functions . </S>"
  ]
}