{
  "article_text": [
    "the numerical evaluation of euclidean - space feynman path integrals provides a unique and powerful tool to study non - perturbative phenomena in quantum field theory .",
    "these techniques permit both qualitative and quantitative study of low - energy hadronic physics through first - principles , quantum chromodynamics calculations .",
    "these methods also hold the promise of revealing new non - perturbative phenomena that may be present in other quantum field theories that are potential candidates for the theory beyond the standard model .",
    "unfortunately the corresponding calculations are very demanding , requiring large resources and sophisticated algorithms . while a fully physical simulation including the effects of light quarks with their physical masses is probably more than a decade away , there is much optimism that physical results can be obtained by careful extrapolation from parameter ranges which are less demanding computationally .",
    "never - the - less , continued progress in this important area of theoretical physics requires significant advances in computational methods and active exploitation of the rapid progress in microelectronics and computing technology .",
    "since the fundamental physics of low energy relativistic quantum field theory is accurately captured by the present lattice gauge theory formulation , it is appropriate to employ the largest possible computer resources to address outstanding problems . in particular ,",
    "much progress has been made over the past two decades by using specially designed computers , optimized to the particular characteristics of lattice qcd calculations@xcite . a massively parallel computer with a large number of computational nodes , a relatively small memory per node and relatively modest disk bandwidth and storage capacity per node is usually appropriate .",
    "however , relatively fast , low - latency inter - processor communication is often needed . as a rough guide , for",
    "a fixed processor speed one might require a processor - memory bandwidth ( in words / sec ) that is roughly one third of the processor speed ( in floating point operations / sec ) .",
    "the total off - node bandwidth ( counting both incoming and outgoing data ) , specified in words / second , should be roughly one tenth of this processor speed@xcite .",
    "one example of such optimized computer construction is provided by the present set of qcdsp machines@xcite . designed and constructed during the period 1993 - 1998 by the group centered at columbia ,",
    "these `` qcd on digital signal processor '' machines are now installed and operational at columbia university ( 400 gflops ) , the riken brookhaven research center ( 600 gflops ) and the thomas jefferson laboratory ( 50 glfops ) . by providing only the computer resources required for lattice",
    "qcd , these machines achieve a favorable cost performance figure of $ 10/mflops .",
    "we have now begun the design of a new class of parallel machines which represent further evolution of the architecture of the qcdsp machines . in the following",
    "we will describe our present plans for these new machines .",
    "after a brief discussion of the qcdsp machines ( section  [ sec : qcdsp_review ] ) , we will discuss the overall architecture of the new computer ( section  [ sec : architecture ] ) , the features of the somewhat complex integrated circuit that lies at its core ( section  [ sec : asic ] ) , the properties of the powerpc risc processor that will perform the actual computation ( section  [ sec : powerpc ] ) , our network / communications strategy for interprocessor communication ( section  [ sec : network ] ) and a little about the software environment that we are planning ( section  [ sec : software ] ) .",
    "the present machines running at columbia , the riken - bnl research center and jefferson laboratory are configured as four - dimensional arrays of processing nodes , in quantities of 8192 , 12,888 and 1024 nodes respectively .",
    "each node is made up of a texas instruments , tms320c31 - 50 digital signal processor , 2 mbytes of dram ( with an additional 0.5 mbytes of redundancy for error detection and correction ) , and an @xmath0k transistor , application specific integrated circuit ( or asic ) which provides a buffered / prefetching interface to the memory and eight 50 mhz serial communication ports .",
    "each node is mounted on a small daughter board .",
    "sixty - four such nodes are mounted on a mother board and eight mother boards fit into a backplane .",
    "the 8,192-node machine at columbia has 8 racks holding 16 backplanes and 128 mother boards and is shown in figure  [ fig:128 mb ] .    0.1 in = 2.9 in -.4 in    -0.3 in    the four - dimensional , inter - node communication mesh",
    "is realized in the following fashion .",
    "first , the 64 nodes on each mother board are interconnected as a @xmath1 hypercubic lattice .",
    "two of the @xmath2 faces , orthogonal to a common direction , are joined together in that direction creating a four - dimensional cylinder with six , three - dimensional faces corresponding to the remaining six of the eight faces of the original @xmath1 hypercubic lattice .",
    "each of these six faces is connected to a separate cable brought out from the backplane .",
    "these cables , six per mother board , can then be interconnected to create the desired overall machine topology , including a disconnected collection of independent machines .",
    "for example , the 12,288-node machine at brookhaven is currently operating as one 4,096-node machine and four 2,048-node machines .",
    "this ability to cable the machine on the mother board level provides valuable flexibility but also some inconvenience when the cables must be manually rearranged .",
    "with this background discussion of the current qcdsp machines , we now turn to a general description of the architecture of the next qcdoc computers . for this next - generation machine",
    "we have followed a similar strategy .",
    "we seek to combine a large number of inexpensive , small , low - power processors into a machine capable of applying their computational power to a single very difficult calculation . in this way we attempt to optimize both the cost performance and operating costs of the machine without compromising our ability to focus very significant computer resources on the most demanding problems .",
    "recall that the difficulty of a full qcd lattice calculation scales as a very high power of the volume : @xmath3 , where @xmath4 is the linear lattice size .",
    "as the problem gets larger the amount of computing power needed per volume increases rapidly , forcing us in the direction of many processors , each managing a decreasing fraction of the total physical volume .",
    "the network bandwidth and latency are therefore chosen to permit a single problem to be mounted on a large machine .",
    "however , we also attempt to achieve sufficient flexibility that a small version of the machine can do interesting physics as well and that a large machine can be easily subdivided to tackle independent problems that may represent too small a lattice to require or fit on the full machine .",
    "a critical part of the present design grows from our collaboration with ibm and the resulting ability to exploit state - of - the - art ibm technology . using the next generation of ibm s asic technology",
    ", we are designing a single integrated circuit , which will integrate the complete functionality of our previous daughter board and nearly all the circuitry of the mother board as well .",
    "this follows the industry trend of exploiting the decreasing semiconductor feature size to build a `` system on a chip '' .    in our case",
    "we will be able to incorporate an industry standard risc integer processor ; a fully integrated 1 gflops , 64-bit floating point auxilary processor ; 4 mbytes of dram ; all inter - node communication and an ethernet controller for external disk i / o as well as diagnostic and boot - up purposes , all on a single chip .",
    "we expect such a chip will consume 1 - 2 watts , will occupy a die approximately 1 cm on a side and will permit an aggregate cost / performance figure of less than $ 1/mflops .    in order to provide greater flexibility in memory size per node , allowing even a quite small machine to have interesting physics applications , we will provide an industry standard , double - data - rate , synchronous dram module for each node .",
    "this will permit a commercial memory card to be added , providing an additional 32 mbytes to 0.5 gbytes per node as required by physics goals and economic limitations .",
    "as in the previous machine , we have adopted a mesh , nearest - neighbor communication scheme . this eliminates the need for a switch , a component that can easily represent a signficant fraction of the cost of a large machine with a fast but more general network .",
    "as is described below , we presently plan a network of dimension higher than four .",
    "even two extra dimensions provide considerable flexibility in joining the machine into a variety of disconnected four - dimensional hyperplanes , thereby significantly reducing the need for the somewhat inconvenient recabling required by the qcdsp design .",
    "the last element of the qcdoc architecture to address is the general - purpose network used to boot the machine , load code , extract results and provide access to mass storage . in our present qcdsp machines",
    "these capabilites are provided by a tree made up of scsi links with the final connections on each mother board realized using a ti serial protocol .",
    "we plan to exploit the tremendous commercial developments in ethernet devices to replace this scsi network with ethernet .",
    "the asic in each node will contain a standard 100 mbit / sec ethernet controller allowing each node to be addressed individually and interrogated by the host computer through a tree of commerical ethernet switches .    at present",
    "we plan to join the ethernet connections for each group of four nodes into an on - board ethernet switch .",
    "each of these 16 ethernet switches will have a 100 mbit / sec , off - board ethernet connection through an external connector .",
    "this will reduce the effective simulataneous bandwidth available per node to @xmath5 mbytes / sec .",
    "this next layer of 100 mbit / sec connections will then be joined into 1 gbit / sec ethernet connections using external commercial hardware and with no further loss of bandwidth .",
    "connecting multiple raid disks to the resulting multiple , 1 gbit / s ethernet wires should allow full support for this 3 mbyte / sec / node bandwidth giving an 8k - node machine an aggregate 24 gbyte / sec bandwidth to disk .",
    "thus , from the view of the host computer an 8k - node qcdoc machine looks like a large ethernet appliance with 8k distinct ethernet addresses .",
    "since this ethernet provides the only control link to this machine , we must provide an ethernet `` reset '' capability .",
    "this requires a further simple , hardwired ethernet interface which is independent of the powerpc and the more complex ethernet controller that the powerpc must initialize before it can be used .",
    "however , such a capability is also needed for other applications and a very attractive solution appears to have been already developed within ibm research .",
    "= 5.90 in 0.2 in -0.3 in    -0.1 in    we next discuss the overall design of the application specific integrated circuit which , except for the external memory module , forms the entirety of the new processing node .",
    "this is best understood from figure  [ fig : asic ] .",
    "the cross - hatched areas in the figure represent internal parts of the asic that we must design while the open boxes are modules that are available as library components that can be simply referred to in the hardware description language version of the design .",
    "( including these pre - designed macros is much like introducing a subroutine call into a normal computer program . )",
    "a brief description of the various parts of design outlined in figure  [ fig : asic ] includes :      this ibm - supplied macro represents the complete risc processor with its attached 1 gflops , 64-bit ieee floating point unit .",
    "this is a model ` 440 ' powerpc  a member of ibm s family of embedded powerpc designs and is described below in section  [ sec : powerpc ] . a complete , functional model of the integer unit",
    "is represented in our simulation environment allowing us to execute compiled code on that portion of the asic as we begin the detailed design .",
    "this is provided by the serial communications unit ( scu ) described below in section  [ sec : network ] and the three high speed serial modules , labeled hssl , in figure  [ fig : asic ] .",
    "each of these modules contains four independent sending ports and four independent receiving ports , all operating at 500 mhz .",
    "each of the four serial receiving ports collects incoming serial data into 8-bit units and provides them to the scu as bytes at 62.5 mhz .",
    "such high - speed components are quite sophiticated , with built - in phase locking and a predetermined physical layout .",
    "these three hssl units , providing a total of 24 sending or receiving ports , represent very valuable pre - packaged technology that is supplied as part of the ibm asic design system .",
    "when employed in the geometry of a four dimensional mesh , only 8 of these links will be used in each direction , providing a total off - node communications bandwidth of 8 gbits / sec .",
    "the 4 mbytes of embedded dram provide sufficient storage that the data for most lattice qcd problems can easily fit entirely within this memory . since we do not need to connect the memory and processor using external drivers and pins",
    ", we can provide a much wider output bus from the memory . in our design",
    "the memory controller is connected to the memory though a 1024-bit bus ( not including the bits needed for error correction and detection ) .",
    "this data is then carefully buffered into the 256-bit units needed for cache line fetches and provided to the 440 core in 128-bit units at 500 mhz .",
    "sufficient internal buffering is provided so that sequential access can proceed at this 8 gbytes / sec rate , hiding the dram page misses that will necessarily occur as one moves through memory .",
    "an important ibm library component is the ddr sdram controller .",
    "this unit connects to the 128-bit processor local bus ( plb ) , the standard , on - chip bus that also joins the powerpc processor and the scu .",
    "this controller manages all aspects of external memory accesses including dram refresh and error detection and correction .",
    "both the plb and the external memory will operate at 1/3 of the processor speed . while the connection to the external memory is only 72 bits ( including error detection and correction ) , the double data rate feature means that data is effectively clocked at twice the 166 mhz plb bus frequency , giving a 2.6 gbytes / sec bandwidth to external memory .",
    "the final module described is the ethernet controller .",
    "this is a highly functional , pre - designed unit which will manage ethernet traffic with infrequent interruption of the processor .",
    "it is supplied with a direct memory access ( dma ) unit and should also be supported by a pre - existing software driver .",
    "this ethernet controller is connected to the plb somewhat indirectly through a second , 32-bit on - chip perpherial bus , again a standard bus within the ibm library of asic components .",
    "the processor core , central to our design , is an industry standard , embedded powerpc risc processor .",
    "this is a 32-bit processor with 32 general purpose registers , a 32 kbyte data cache and a 32 kbyte , prefetching instruction cache .",
    "the cpu can issue two instructions on every cycle , contains three execution pipes , carries out branch prediction and supports out - of - order instruction issue , execution and completion .",
    "it supports highly functional memory management connecting 32-bit effective and 36-bit physical addresses using a 64-entry translation look - aside buffer , where each entry identifies an independently mapped page of length between 1 kbyte and 256 mbyte .",
    "the 64-bit ieee floating point unit is connected as an auxilliary processor which executes book - e floating point instructions in hardware with direct access to the processors data cache .",
    "the communications network is a natural evolution of that used successfully in the qcdsp machines .",
    "the basic transfer size is increased from 32- to 64-bits .",
    "the inter - node communication is self - synchronizing with the receipt of a given 64-bit word acknowledged only after that word has been removed from the input buffer , indicating that another word can be sent without the possibility of data loss .",
    "the detection of an error will cause the issue of an `` acknowledgement with error '' which will initiate a retry .",
    "the communications protocol is designed so that any single bit error within 32-bits will be detected . if that error occurs during the first 8 bits of a transfer , those bits used to identify the transfer , the error will in addition be corrected allowing the proper response to the error to be taken .    in order that no communications bandwidth is lost waiting for an acknowlegement , four distinct receive buffers are provided with each separately acknowledged .",
    "this permits four words to be sent before an acknowledgement is received .",
    "these receive buffers will be divided into two groups .",
    "the first group of three is used for normal data transfers with both the sent and received data streamed to memory by an independent dma unit for each of the 24 external wires .",
    "these data transfers will be programmed as a sequence of block - strided moves controlled by simple chained instructions loaded into the scu .",
    "the second group is the fourth of these registers .",
    "it is loaded and unloaded directly by the powerpc and data arriving is signaled by a processor interrupt .",
    "this supervisor communication channel can be used to support efficient operating system communication between neighboring nodes that is independent of ongoing application data transfers .",
    "we expect that the topology of the communications network that is actually used will be the standard four - dimensional torus appropriate for euclidean feynman path integration .",
    "however , by providing a higher dimensional mesh we will facilitate the subdivision of the machine in software reducing the need to physically reconnect the communications cables when a different set of physics jobs is to be run .",
    "-0.4 in = 2.9 in -0.6 in -0.35 in    -0.3 in this `` reconfiguration through dimensional reduction '' can be most easily understood by examining some lower dimensional examples .",
    "first consider what we would like ultimately to be a one - dimensional machine of eight nodes .",
    "if these nodes are interconnected into a two - dimensional , @xmath6 mesh , we can realize a number of different one - dimensional mesh configurations as shown in the upper portion of figure  [ fig : network ] .",
    "the darkened links shown in that figure demonstrate a choice in which the 8-node machine is configured into two partitions : a 6-node machine and a separate 2-node machine .",
    "clearly a variety of other choices are possible as well including an 8-node machine and two 4-node machines .",
    "a more complicated example is shown in figure  [ fig : network3 ] where what might have been a simple @xmath7 , two - dimensional mesh machine is instead wired as a three - dimensional @xmath8 device .",
    "as shown in that figure , the original @xmath9 geometry is easily realized .",
    "however , it is not difficult to recognize a @xmath10 mesh or two @xmath11 machines .",
    "-0.38 in = 2.9 in -0.2 in -0.6 in    -0.25 in in order to see how this is accomplished for the six - dimensional case of interest , it is easiest to consider an example . as an illustration , consider an 8,192-node machine composed of 128 mother boards , each with 64 nodes , a likely machine configuration .",
    "further , we will interconnect these 64 nodes as a @xmath12 cube with three pairs of faces joined back on themselves to realize a three - dimensional torus on the mother board . in an arbitrary set of coordinates ,",
    "let us identify a node with 6 coordinates : @xmath13 .",
    "we might then choose the first three coordinates as corresponding to this three - dimensional torus .",
    "thus , @xmath14 $ ] for @xmath15 and 2 .",
    "six of the twelve faces of this @xmath12 cube have been connected to each other .",
    "this leaves a final six faces ( each of size @xmath16 ) to be connected to other mother boards through edge connectors on the mother board .",
    "the required 192 signals ( or 768 wires ) is large but possibly managable .    for the next coordinate , @xmath17",
    ", we might connect together 4 mother boards within a single backplane and use @xmath18 , where @xmath19 $ ] determines the third coordinate of the node within the @xmath12 hypercube on the mother board and @xmath20 $ ] , labels the mother board on which that node resides .",
    "this group of 256 nodes is now a @xmath21 six - dimensional solid with 8 of its 12 faces joined to themselves .",
    "this leaves two remaining directions to be joined , connecting this group of 256 nodes with the remaining 32 groups within our example machine .",
    "each of the four faces of such groups of 256-nodes must be connected through a separate group of cables to the neighboring face of another 256-node group . since each of these faces",
    "is made up of @xmath22 processors a total of 128 signals are required per face .",
    "an eight mother board backplane would then need to provide connectors for @xmath23 such groups of 128 signals .",
    "the total of 1024 signals is less than the 1,280 signals leaving the backplanes of our present qcdsp machines .",
    "if we arrange these 256-node groups as a final @xmath24 mesh , the final machine becomes a six - dimensional @xmath25 torus . while there may be computational problems for which this machine could be employed directly as a six - dimensional torus",
    ", we expect that the typical configuration would exploit the six - dimensional interconnect to realize a four - dimensional torus more appropriate for lattice gauge theory calculations . one simple way to achieve such a reduction from six to four dimensions takes two independent two - dimensional factors and uses only a one - dimensional subgrid ( or collection of one - dimensional subgrids ) in each factor to produce a four - dimensional product .    for example",
    ", we can use the scheme in the lower diagram in figure  [ fig : network ] twice to separate two of the @xmath10 factors in the machine , each into two , one - dimensional terms , one of 12 nodes and one of 4 nodes .",
    "we can thereby partition our 8,192-node , @xmath25 machine , into four independent , four - dimensional tori : one @xmath26 , two @xmath27 and one @xmath28 .",
    "this would permit a @xmath29 calculation to be done on more than one half of the hardware . since a reasonable programing model requires that an even number of lattice sites appear on each node for each dimension of the machine , fitting factors of three into our lattice",
    "is a non - trival accomplishent for a large machine which is even in each dimension .",
    "we plan a software environment for this next generation of computers which is a natural evolution of that available on the present qcdsp machines .",
    "this follows a `` data parallel '' programming model in which application code is written so that a single program runs on each node , executing essentially the same instructions with different data on each node .",
    "the exceptions to this pattern are usually i / o or communications routines where the placement of disks or the pattern of communications is not homogenous and requires different actions from different processors .",
    "the code is cross - compiled on a unix - based host ( to date this is always a sun machine ) and then down - loaded to the parallel machine .",
    "a particular partition of the machine is controlled from an extended unix shell environment which includes additional commands allowing programs to be loaded and executed , data to be loaded or read and individual memory locations to be examined .",
    "both interactive and batch unix processes can be run within this environment .",
    "this functionality is supported by a further suite of operating system code that is executing on the individual nodes .",
    "this operating environment also provides ` c'-like subroutines that can be called by application programs allowing printf ( ) , fopen ( ) , fclose ( ) and fprintf ( ) capability .",
    "critical to this software environment is carefully designed low - level code with a high degree of robustness and diagnostic capability permitting a hardware fault to be isolated and identified from software .",
    "this underlying boot / diagnostic kernel is essential to the maintenance of a system of more than 20k nodes .",
    "the industry standard risc processor will allow further improvements on this reasonably convenient scheme .",
    "since the book - e compliant processor is supported by a number of standard compilers we should be able to provide a well - supported and highly functional c / c++ programming environment .",
    "this is in welcome constrast to the somewhat limited capabilities of the c++ compiler available for the digital signal processors in the present qcdsp machines .",
    "an equally important enhancement results from the highly functional memory management unit in the powerpc processor .",
    "we plan to use this capability to isolate system and application code , creating a reasonably robust code development / debugging environment .    of course",
    ", with such a flexible processor , an even more sophisticated software environment is certainly possible .",
    "while linux on every node could certainly be provided , this degree of generality may well be inconsistent with high performance for qcd applications .",
    "this next - generation , qcdoc architecture described above will provide a very significant advance over our present qcdsp machines .",
    "we anticipate a cost performance of better than $ 1/mflops , a @xmath30 improvement on the qcdsp machines . given the large processor / memory bandwidth , optimized qcd code should sustain above 50% on the new machine and even generic ` c ' code should execute with reasonable efficiency .",
    "we plan large machines at columbia , the riken brookhaven research center , a ukqcd machine in edinburgh and a possible national machine for the us lattice qcd community ."
  ],
  "abstract_text": [
    "<S> the architecture of a new class of computers , optimized for lattice qcd calculations , is described . </S>",
    "<S> an individual node is based on a single integrated circuit containing a powerpc 32-bit integer processor with a 1 gflops 64-bit ieee floating point unit , 4 mbyte of memory , 8 gbit / sec nearest - neighbor communications and additional control and diagnostic circuitry . </S>",
    "<S> the machine s name , qcdoc , derives from `` qcd on a chip '' . </S>"
  ]
}