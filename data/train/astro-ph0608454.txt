{
  "article_text": [
    "in recent years , interest has grown in relatively small aperture and inexpensive wide - field imaging systems , essentially composed of large ccds mounted directly to high - quality wide - angle camera optics .",
    "the first prominent success of such an instrument was the spectacular discovery of the neutral sodium tail of comet hale - bopp @xcite , with a temporary purpose - built camera system ( cocam ) . since then",
    ", similar cameras have resulted in imaging of a gamma - ray burst during the burst period @xcite , and the first detection of the transits of an extra - solar planet in front of its parent star , hd209458 @xcite .",
    "such instruments are ideal for projects requiring photometry of bright but rare objects ( see * ? ? ?",
    "the first extra - solar ( exo- ) planets were discovered in 1992 by pulsar timing experiments @xcite . whilst this technique is sensitive to the detection of terrestrial - sized planets ,",
    "its limited applicability has restricted its use to just a few objects .",
    "@xcite discovered the first exo - planet , 51peg , from optical radial velocity studies , and since that time the field has been dominated by this technique .",
    "one of the surprises of these surveys ( e.g. * ? ? ?",
    "* ) is the existence of a significant population of solar - type stars accompanied by relatively rapidly orbiting jupiter - sized planets .",
    "however , spectral measurements alone can not determine unambiguously the true mass or radius of the planet as the orbital inclination is unknown .",
    "these surveys have discovered jupiter - sized objects in orbits out to 3au around 6% of the nearby sun - like stars surveyed . of these ,",
    "some 30% are _ hot jupiters _ situated in @xmath34-day @xmath4au orbits , where the equilibrium temperature is @xmath3 1500k .",
    "about 10% of hot jupiters in randomly inclined orbits will transit their host star .",
    "therefore , in random galactic fields , roughly 1 in every 1000 solar - type stars should exhibit transits lasting roughly 2 hours with a period of a few days .",
    "given that the radius of jupiter is @xmath5 0.1r@xmath6 , these transits should result in a dimming of the parent star by @xmath5 0.01 mag .",
    "the first transits were discovered in late 1999 @xcite .",
    "the @xmath7 star hd209458 is dimmed by 0.016mag for 2 hours every 3.5 days , hence both proving the existence of the planet detected by a radial velocity search , and resulting in a precise measurement of its radius , mass and bulk density .",
    "because of the multiplexing advantage of imaging , this technique promises to be the fastest way of detecting exo - planets , and could over the next few years dictate which candidates are followed up by radial velocity studies ( rather than _ vice - versa _ as at present ) .",
    "initially , groups trying to find transits of exo - planets reported disappointing results .",
    "for example the vulcan project @xcite searched some 6000 stars , finding only 7 transit like variables .",
    "followup observations of these showed them all to be stellar in origin .",
    "more recent surveys have have had more success with published transit detections reported by the ogle survey ( udalski et al .",
    ", 2002a / b ) , tres-1 @xcite , hd189733 @xcite and most recently , xo-1 @xcite .",
    "part of the reason for the apparent lack of transits stems from the difficulty in obtaining photometry of sufficient numbers of solar and late type main sequence stars . to increase",
    "the numbers of stars sampled wide - field surveys have often concentrated on low galactic latitude fields . however , while the number of observable stars is undoubtedly increased , we suspect the stellar population in such surveys is dominated by more distant k giants .",
    "@xcite showed that the number of _ bona fide _ exo - planet transits ( as opposed to stellar impostors ) is consistent with expected numbers of binary and multiple stellar and exo - planet systems .",
    "@xcite lists some 23 photometric transit projects either in operation or under construction at that time . while many of these are pencil - beam surveys from traditional telescopes , a number , no doubt encouraged by the relative cheapness of the equipment , are employing novel wide field cameras .      the wide angle search for planets ( wasp ) consortium",
    "was established in 2000 by a group of primarily uk - based astronomers with common scientific interests . in order to reduce the development cycle time and be on sky rapidly , we use commercially available hardware and hence limit development work as much as possible .",
    "our ethos is therefore quite distinct from other apparently similar projects e.g. the hat project @xcite .",
    "the wasp consortium s first venture was the production of the wasp0 camera .",
    "our experience with these types of systems stems from the cocam series of cameras at the isaac newton group of telescopes from 1996  1998 , one of which was responsible for the discovery of the so - called sodium tail in comet hale - bopp 1995 @xcite .",
    "wasp0 is composed completely of commercial parts , and utilizes a nikon 200 mm , f2.8 telephoto lens coupled to an apogee ap10 ccd detector .",
    "wasp0 was used in 2000 and 2001 in la palma and kryoneri ( greece ) respectively , and has been shown to easily detect the extrasolar transit of hd209458b , amongst other variables ( kane et al . , 2004 , 2005a / b ) .    on the strength of the wasp0 success the consortium was able to raise sufficient funding for a more ambitious project  the multi - detector superwasp cameras .",
    "the limited development required is reflected in the aggressive project timescale : for the la palma instrument funding was approved in march 2002 and first light achieved in november 2003 , while for the south african astronomical observatory ( hereafter saao ) sited instrument funding was secured in april 2004 and first light in december 2005 .    in this paper",
    ", we describe the superwasp facilities at the observatorio del roque de los muchachos on la palma ( superwasp - n ) and the recently commissioned system at the sutherland station of the saao ( superwasp - s ) . along with the hardware and data acquisition system ,",
    "we outline the superwasp reduction pipeline and archiving system for the data products .",
    "in outline each superwasp instrument consists of an equatorial mount on which up to eight wide - field cameras can be deployed .",
    "each is housed within a two - roomed enclosure which incorporates a roll - off roof design .",
    "[ figenclosure ] and [ figcamera ] shows the enclosure at superwasp - n and detector system at superwasp - s . for both facilities all observatory functions are under computer control , including data taking .",
    "both systems employ a traditional equatorial fork mount constructed by optical mechanics inc .",
    "( iowa , usa ; formerly torus engineering ) .",
    "the mount is manufactured within their nighthawk telescope range . when properly configured , the mounts give a pointing accuracy of 30 arc seconds rms over the whole sky , and a tracking accuracy of better than 0.01 arc seconds per second .",
    "the mounts are easily capable of slewing at a rate of 10 degrees per second . on site the mounts",
    "are attached to a concrete pier .",
    "for our project we do not have a conventional optical tube assembly but instead we employ a cradle structure to hold the individual cameras .",
    "the cradle allows limited camera movement in 3 dimensions for balance and alignment purposes .",
    "the rapid slewing of the mount and large field of view make a traditional dome impractical and inefficient , hence we have a custom roll - off roof structure . in most deployments of this design",
    "the roof is moved on to rails overhanging the building , however , in our design the space under the rails is utilized as a fully temperature - controlled control and computer room , with the rails integrated into the roof .",
    "the building itself was constructed by glendall - rainford products ( cornwall , uk ) , and is manufactured in laminated fiber - glass strengthened with wood , making the structure extremely rigid .",
    "the likely absence of a crane during the building erection meant that the size of the roof panels was optimized to be liftable by 3 people .",
    "the moving roof is controlled by a hydraulically operated ram and associated electrics . in the case of superwasp - n , to fully retract the roof takes @xmath319 seconds , and @xmath354seconds to fully close .",
    "the modular design of the building meant the enclosure could be prefabricated by the manufacturer and then re - erected on site .",
    "with the enclosure roof fully retracted , objects with declinations @xmath8 degrees are visible for the entire period when their altitude is @xmath9 30 degrees . for @xmath10 degrees",
    "the movable roof may obstruct visibility at some hour angles .",
    "for the superwasp - s instrument we designed a longer enclosure to give better southern access .",
    "the superwasp ccd cameras were manufactured by andor technology ( belfast , uk ) and marketed under the product code dw436 .",
    "the ccds themselves are manufactured by _",
    "e2v _ and consist of 2048 @xmath11 2048 pixels each of 13.5@xmath12 m in size .",
    "these devices are back illuminated with a peak quantum efficiency of @xmath990% .",
    "andor use a five stage thermoelectric cooler to reach an operating temperature of -75c . at this temperature",
    "the dark current is @xmath311 e / pix / h  comparable to cryogenically cooled devices . as our exposure times are only 30 seconds we do not require this level of performance , and hence we cool the devices to -50c at which the dark current is a @xmath372 e / pix / h .    andor technology also provide a 32-bit pci controller card that is used to control all ccd functions .",
    "these cards ( one per detector ) allow the devices to be read out at mega - pixel rates so that even after all overheads ( e.g. header collection , disk write etc ) , a new image can be initiated within @xmath35 seconds of the commencement of readout of the previous image . even at this speed",
    "the 16-bit images have good noise characteristics ( gain @xmath32 , read out noise @xmath38 - 10 electrons and linearity better than 1% for the whole of the dynamic range ) . to simplify operations ,",
    "we have not tuned detectors to controllers in any way .    the original design of superwasp - n conceived of using a renovated existing enclosure with instrument control occurring from a nearby building .",
    "hence , our shielded data cables are 15 m in length .",
    "exhaustive testing showed that at this length data collection was reliable and mains pickup rarely seen .",
    "the detector power supplies are stored next to the mount .      in common with other similar projects , the superwasp cameras use canon 200 mm , f/1.8 telephoto lenses .",
    "these lenses are amongst the fastest commercially available and have excellent apochromatic qualities .",
    "funding constraints dictated that we initially purchased 5 lenses from a local supplier before this format became obsolete .",
    "we subsequently used _",
    "www.ebay.com _ to track down the remaining units needed for both instruments . with the above detectors they give a field size of @xmath13 square degrees and an angular scale of 13.7 arcsec per pixel . in the first year of operations for superwasp - n our observations were unfiltered ( white light ) with the spectral transmission effectively defined by the optics , detectors and atmosphere .",
    "subsequently we have deployed broad band filters at both facilities which define a passband from 400  700 nm ( see fig .  [ figwaveband ] ) .",
    "the easiest method to accommodate the high data rate from 8 cameras is via a distributed data acquisition cluster , with each detector controlled by a dedicated das ( _ data acquisition system _ ) pc with local storage disks .",
    "data taking itself is initiated by a central machine called the tcs ( _ telescope control system _ ) , which also controls more general observatory functions such as pointing the mount and roof control .",
    "the tcs machine also has serial interfaces to a time service ( supplied from a gps receiver ) and weather station .",
    "the das machines synchronize time with the tcs through the network time protocol daemon .",
    "overall the relative time on the cluster is accurate to @xmath140.1 second , while the gps system ensures that the absolute time is accurate to better than 1 second .",
    "as the operation of the tcs is vital to the running of the instrument , a heart - beat system continually monitors the machine with any break in communication initiating a close down of the enclosure .    during the night data",
    "are stored locally on each das machine . at the end of observing the data",
    "are compressed and moved to a raid system ready to be copied to tape ( lto2 ) for transportation back to the uk ( recently superwasp - n has begun sending data back via the internet ) .    the weather station is provided by vaisala ( foreground in fig .",
    "[ figenclosure ] ) and has sensors for internal / external temperature and humidity , wind direction and strength , precipitation and pressure . a cloud sensor ( ir activated ) is also utilized .",
    "high - level software control of the entire superwasp system ( robotic mount , ccd cameras and roll - off roof ) is provided by a modified version of the commercial linux software _ talon _",
    "( now open source ) , produced by optical mechanics inc .",
    "( hereafter omi ) for use with the _ torus _ mount .",
    "extensions to the software include support for multiple ccd cameras ( developed by omi ) and some in - house modifications to add a command - line interface to supplement the standard graphical interface .    _ talon _ supports two modes of operation : one for manual control with an observer present , using the graphical interface ( or the new command - line interface ) , and the other for automatic observing , where a dynamic scheduler takes control of the telescope and performs observations from a pre - defined queue .    in the first season of operation ,",
    "the observer was responsible for taking bias and dark frames , opening and closing the dome , and taking twilight flat fields , automated using a driver script for the command - line interface .",
    "science observations were taken using the _ telrun _ daemon within _ talon _ , driven from a perl script . a new dynamic scheduler ,",
    "_ waspsched _ , developed in - house by the consortium , and using the command - line interface , has recently been commissioned .",
    "this has increased observational efficiency by allowing continuous operation of the equipment ( previously a number of delays were required during observing to synchronize the interactions with the existing _ talon _ scheduler , allowing about one 30 second integration per minute despite the 10 degree per second slew speed of the mount ) .",
    "the dynamic scheduler also allows us to intersperse all - sky survey fields with the exo - planet fields .",
    "support for alternative observing modes may also be added , in particular the ability to interrupt the scheduled observing and follow up transient events ( e.g. gamma ray bursts ) without user interaction .",
    "data from the site weather station is fed into the software .",
    "_ talon _ has a number of configurable conditions on which a weather alert is issued , for example , high wind or excessive humidity . on triggering a weather alert , the telescope is immediately slewed to a predefined park position ( to avoid collisions with the roof ) , and the roof is then closed .",
    "after the alert condition finishes , the software waits for a short period ( typically 20 minutes ) , and then opens the roof and continues observing if it is still dark .",
    "other alerts are generated by the cloud and lightning sensors . in the event of failure to operate the roll - off roof",
    ", an alert condition is reached sending a radio signal to a receiver in a neighboring operator attended telescope dome .    as andor technology provides a linux - based software development kit all aspects of the ccd control and data collection are integrated within _",
    "the superwasp data analysis pipeline employs the same general techniques described by @xcite for the prototype wasp0 project .",
    "we use the usno - b1.0 catalog @xcite as the photometric input catalog .",
    "we carry out aperture photometry at the positions of all stars in the catalog brighter than a given limiting magnitude .",
    "this has two important advantages for subsequent data retrieval and analysis ; all photometric measurements are associated with known objects from the outset , and the aperture for every object is always centered at a precisely - determined and consistent position on the ccd .",
    "bias frames , thermal dark - current exposures and twilight - sky flat - field exposures are secured at dusk and dawn on every night of observation .",
    "the pipeline carries out a number of statistical validity tests on each type of calibration frame , rejecting suspect frames before constructing master bias , dark and flat - field frames .",
    "master bias frames and thermal dark - current frames are computed by taking iteratively sigma - clipped means of the ten to twenty frames of each type taken on each night .",
    "the master bias frame is subtracted from all thermal darks , flat - field frames and science frames .",
    "temporal drifts in the dc bias level are removed using the sigma - clipped mean counts in the overscan region .",
    "the overscan strip is then trimmed off the bias - subtracted frames .",
    "the thermal dark frame is scaled according to the exposure time and subtracted from all flat - field and science frames .",
    "the twilight sky flats are exposed automatically in a sequence of fifteen pre - programmed exposures ranging in duration from 1 to 30seconds .",
    "they are timed so as to be uniformly exposed to a maximum of about 28000adu in the frame center .",
    "the mount is driven to slightly different positions on the sky between exposures to facilitate removal of stellar images when the images are combined .",
    "the flat - fields show a circularly - symmetric vignetting pattern , caused by a sequence of baffles of similar size within each lens .",
    "gradients in the sky brightness across each flat - field image are removed by rotating each image through 180 degrees about the center of the vignetting pattern , subtracting the rotated image , and performing a planar least - squares fit to the residuals .",
    "the gradient is then divided out from each flat field exposure .    the sky brightness distribution on the short - exposure flat fields is slightly distorted by the finite travel time of the ccd camera shutters , which are of the five - leaved iris type .",
    "at each pixel position , we must determine both the correction @xmath15 to the exposure time and the normalized flat - field value @xmath16 that would be obtained for an infinite exposure time .",
    "the normalized counts @xmath17 in an image with exposure time @xmath18 are modified by the shutter travel correction @xmath15 :    @xmath19    at each pixel position @xmath20 , we determine the combined flat - field and vignetting map @xmath16 and the shutter time correction map @xmath15 via an inverse variance weighted linear least - squares fit to @xmath21 verses @xmath22 .",
    "an iterative rejection loop eliminates outliers , which are usually caused by a stellar image or cosmic ray falling on the pixel concerned in one or more of the frames .",
    "we then smooth the map of @xmath23 using a two - dimensional spline fit and use this to recover an improved map of    @xmath24    for each individual exposure .",
    "we then average these corrected exposures , again using iterative sigma clipping to eliminate stellar images in individual frames .",
    "the shutter correction is applied to the science frames as well as to the flat fields . in general , for a 30 second integration the shutter corrections are between + 0.02 and -0.01 and with a sigma of 0.006 .",
    "while flat fields are obtained on a twice daily basis ( weather dependent ) we use an exponential weighting scheme to produce a daily master flat field @xcite .      in order to derive adequate astrometry",
    ", we must establish a precise astrometric solution for every ccd image .",
    "the celestial coordinates of the image center can be established to a precision of a few minutes of arc from the mount coordinates recorded in the data headers , and from the known offsets of the individual cameras from the mount position .",
    "subsets of the tycho-2 @xcite and usno - b1.0 catalogs are made and retained for every pre - programmed pointing of the mount , and for every camera .",
    "the sub - catalogs cover a slightly larger region of sky than the images with which they are associated , to allow for pointing uncertainty .",
    "we use the starlink extractor package , which is derived from sextractor @xcite , to create a catalog of the @xmath25 or so stellar images detected at 4@xmath26 or greater significance on each frame .",
    "we project the tycho-2 sub - catalog on the plane tangent to the celestial sphere at the nominal coordinates of the field center .",
    "we attempt to recognize star - patterns formed by the brightest 100 stars in both catalogs , and establish a preliminary plate solution consisting of a translation , rotation and scaling .",
    "further stars are then cross - identified , and the solution is refined by solving for the barrel distortion coefficient and the location of the optical axis on both the sky and the ccd .",
    "the rms scatter of the extractor positions , relative to the computed image positions of tycho-2 stars on the ccd , is always close to 0.2 pixel .",
    "once the plate solution is established , the pipeline software creates a photometric input catalog from the list of all usno - b1.0 objects brighter than magnitude @xmath27 ( in the usno system ) whose positions fall within the boundaries of the ccd image .",
    "positional and rough magnitude matching yields usno - b1.0 identifications for all but a few dozen of the objects found by extractor .",
    "these  orphan \" objects , some of which are likely to be transient variables or minor solar - system bodies , are added to the photometric input catalog at their observed pixel locations .",
    "in addition , the positions of the bright planets are computed and , if they fall within the image area , they are added to the input catalog .",
    "the photometric input catalog gives the precise ccd @xmath20 coordinates of up to 210500 objects , together with their usno - b1.0 magnitude estimates .",
    "we create an exclusion mask for fitting the sky background , by flagging all pixels within a magnitude - dependent radius about every object in the input catalog .",
    "a quadratic surface is then fit to all remaining pixels in an iterative procedure . on the second iteration ,",
    "the fit is refined by clipping outliers to remove cosmic rays and faint stars , and adding their locations to the exclusion mask .",
    "gradients and curvature in the sky background illumination are removed by subtracting the quadratic sky fit from the image .",
    "images are rejected if more than 50% of the pixels are clipped or have too high a @xmath28 value - usually indications of significant cloud effecting the observations .",
    "aperture photometry is then performed in three circular apertures of radius 2.5 , 3.5 and 4.5 pixels ( these apertures were selected by inspection of images of known blended and unblended objects , at this spatial resolution ) .",
    "since the aperture is centered on the actual star position , the weights assigned to pixels lying partially outside the aperture are computed using a fermi - dirac - like function .",
    "this is tuned to drop smoothly from 1.0 half a pixel inside the aperture boundary to 0.0 half a pixel outside it .",
    "the weights of these edge pixels are renormalized to ensure that the effective area of the aperture is @xmath29 where @xmath30 is the aperture radius in pixel units .",
    "the sky background is computed in an annulus of inner radius 13 pixels and outer radius 17 pixels , so that the sky annulus has ten times the area of the 3.5 pixel aperture .",
    "pixels flagged in the exclusion mask as being occupied by stellar images or cosmic rays are excluded from the sky background calculation .    for a given star ,",
    "the ratios of the fluxes in the various apertures contain information on the point - spread function .",
    "we define two wing - to - core flux ratios : @xmath31 and @xmath32 where @xmath33 are the flux measurements in each of the three apertures defined above , respectively .",
    "[ figblends ] is a plot of @xmath34 against @xmath35 which reveals that for unblended stellar images , the two wing - core ratios are related by a constant scaling factor .",
    "stars whose wing - core flux ratios lie close to the main locus for unblended stars are flagged as such , while outliers are flagged as likely blends .",
    "the photometric measurements for blended images are very sensitive to small errors in the astrometric fit .",
    "their light - curves therefore tend to be substantially noisier than those of unblended objects .",
    "when the photometric input catalog file is created , each object is labeled with its airmass and catalog magnitudes .",
    "the heliocentric time is calculated on a per object basis ( the heliocentric time varies significantly over the field of view of the instrument ) .",
    "the photometry modules add information on the sky background level , aperture radius , raw instrumental aperture fluxes and their associated variances , and blending information , outputting the results in fits binary tables .",
    "these tables are then read into the post - pipeline calibration module ppwasp for reduction from raw instrumental to calibrated standard magnitudes .",
    "ppwasp calibrates and removes four main trends in the photometry : the effects of primary and secondary extinction , the instrumental color response and the system zero - point .",
    "the nightly mean primary and secondary extinction coefficients are determined from an iterative least - squares fit to the variation of raw magnitude with airmass through the night for a sample of stars with colors defined in the tycho-2 catalog .",
    "bayesian priors are used to stabilize the fits on nights where the airmass range is insufficient to yield a reliable least - squares fit .",
    "stars showing excessive variance ( determined by a maximum - likelihood procedure ) about the mean trends are down - weighted by including the excess variance caused by intrinsic variability in the inverse - variance weights at each iteration . a time - dependent adjustment to the primary extinction coefficient",
    "is then computed for each frame , by determining the mean deviation of the ensemble of calibration stars in each frame from the nightly extinction trend .",
    "once the instrumental magnitudes have been corrected to a standard airmass near the middle of the observed range , a linear equation for the instrumental color response and zero - point of each camera is used to transform the instrumental magnitudes to a system defined by the tycho-2 @xmath36 bandpass .",
    "approximately 100 bright , non - variable stars are adopted as secondary standards within each field .",
    "their standardized magnitudes as determined over a few photometric nights are subsequently used to define the ",
    "wasp v \" magnitude system for the field concerned .",
    "this allows the final zero - point correction to be determined to a precision of one or two thousandths of a magnitude for every frame on every night .",
    "this eliminates biases that would otherwise arise if one or more of the standards were rendered unusable by saturation or a cosmic - ray hit .",
    "the calibrations are calculated and applied separately for the measurements from each of the three apertures applied by the aperture photometry program .",
    "once post - processing is complete , the calibrated fluxes are added to the binary fits tables ready to be ingested into the archive .",
    "the superwasp archive plays a central role in the efforts of the consortium , as it is the only long - term repository for the full set of the wasp photometric data .",
    "the archive interfaces have been specifically designed to facilitate the distributed , collaborative mode of working that typifies the efforts of the consortium .",
    "conceptually the archive comprises three major classes of data : the bulk processed photometry , the raw images , and an extensible catalog which can be augmented with the results of various analyses on the object lightcurves .",
    "simple command - line tools are made available to the users of the archive to allow access to each of these three data classes .",
    "the architecture chosen for the archive server is a storage cluster , i.e. beowulf - style cluster comprised of commodity compute nodes with gigabit ethernet inter - connect , wherein each cluster node is fitted with a large disc capacity ( 1.2 tb per node in the first incarnation ) .",
    "this model has a number of benefits  not least in that it provides the compute power required for large - scale data - mining activities in a cost - effective manner .",
    "perhaps as important however is that by embedding and distributing the storage throughout the cluster all of the nodes act both as data servers and data consumers .",
    "there are multiple independent network paths between the servers and their potential consumers .",
    "this alleviates potential network bottlenecks associated with a more traditional model in which data is stored on and served by a small number of high capacity storage nodes and consumed by a large number of client nodes",
    ". it also adds resiliency , in that the failure of a single node impairs archive performance for only as long as it takes to restore the relevant data to a different node .",
    "lastly this model allows us to scale total capacity simply by adding more nodes , with each additional node contributing additional storage , compute power and overall network bi - section bandwidth .      within the archive the raw images and the processed photometric data",
    "are held in the form of fits files on the archive server .",
    "these files are then indexed using a _ relational database management system _ ( rdbms ) which allows the data relevant to a user query to be found in a fast and efficient manner .",
    "the rdbms is also used to store and to support queries on the wasp catalog .",
    "mysql was chosen ahead of postgresql during the design phase based on performance measurements for typical queries anticipated at that time .",
    "an early and important design decision made during the development of the archive was to separate the image and photometric data from the catalog and indexing information stored within the tables in the rdbms .",
    "whilst in principle it would be possible to store images and lightcurves as blobs ( binary large objects ) within the rdbms itself , we felt that for the data volumes to which the wasp archive is expected to scale ( 30 tb photometry and @xmath9100 tb images over three years ) such an implementation would be risky , with many potential performance and data integrity issues arising as the collection accumulated .",
    "the choice of fits as a format to store the data was motivated by the wide acceptance of this format within astronomy , and the availability of stable and efficient third - party libraries and tools ( for example cfitsio ) to read and write these files .",
    "the arrangement of the raw image data within the archive is relatively straightforward  the image files as processed by the pipeline are stored in their original form , and are located within a directory hierarchy on a hierarchical storage management system .",
    "an entry into the rdbms allows images matching a user query to be identified rapidly .    for the photometric data the situation is rather more complex",
    "the wasp pipeline at its heart operates on a single image at a time ; the output of the pipeline is a collection of files , each of which contains the calibrated photometry for all of the stars detected in a given image .",
    "a typical delivery of data from the pipeline to the archive will be a collection of such files representing the results of processing the data from a single night of observations .",
    "the end - user of the archive will in the overwhelming majority of cases be interested in obtaining true light - curves of objects of interest , i.e. a single file containing the photometry of a single object , collated from a large number of images taken over many weeks or months .",
    "for this reason it is necessary for the archive to re - order the photometric data before it is presented to an archive user .    to create a lightcurve of an object from the pipeline products it is necessary to be able to associate each photometric data point with a unique object ; by matching object identifiers from image to image",
    ", it is then straightforward to build up a complete lightcurve .",
    "this process is greatly aided by the catalog - driven nature of the wasp pipeline  each data point can be uniquely and unambiguously assigned an identifier based on its place in the source catalog ( usno - b1.0 ) .",
    "this obviates the need for complex and potentially error - prone cross - identification between photometric points based on positional coincidence , for example .",
    "the collation of photometric data points into complete lightcurves takes place in two stages within the archive .",
    "the first stage occurs during the ingest phase , and involves the re - ordering of the data from a given night ( comprising several thousand files ) into a smaller number of new files in which the photometric points for each object are stored contiguously within the rows of a fits binary table .",
    "these files are also indexed internally by object name , which allows the table rows containing the photometry for a given object to be located rapidly . to ensure that the size of these bulk storage files is kept within manageable bounds",
    "the archive divides the sky into _ sky - tiles _ , based on a plate carree projection of equatorial co - ordinates .",
    "the size of these files is chosen to be 5@xmath115 degrees , as this will typically limit the size of the storage files to be @xmath3100 mb to @xmath31 gb . so the result of this re - ordering step in the ingest phase is a relatively small number of bulk storage files , each containing a single night of photometric data for all stars in a given sky - tile ( typically numbering thousands ) , presented in object order .",
    "these bulk files are then assigned a location on the storage cluster , and indexed in the rdbms .    for each sky -",
    "tile a meta - index is created by collating the internal indexes in the per - night files associated with that sky tile .",
    "this meta - index lists , for each cataloged object , which files contain data pertaining to that object , and the numeric indices of the first and last rows in the table in each file holding the data .",
    "the sky - tile meta - index is written to disc as a fits binary table file , however to improve access times the meta - index files are also copied into a ram - disk on the archive server cluster nodes .    the second phase of lightcurve collation occurs during the extraction process in response to a user query .",
    "a search of the rdbms determines in which sky - tile the object of interest falls . a scan of the meta - index for that sky - tile then yields the names of the bulk photometry files containing photometry for the object of interest , plus the row offsets into the binary table .",
    "these files are then opened in turn , the photometric data points are read and collated in memory into a fits format lightcurve which , once complete , is presented to the user .",
    "this three - stage indexing process is highly efficient ; tests on the system have demonstrated that a lightcurve comprising @xmath310,000 data points and spanning 130 days can be extracted in a little as 850 milliseconds .",
    "this speed of access is of critical importance to many of the data - mining activities that will take place on the wasp archive , some of which will potentially need to access millions of lightcurves .",
    "the pipeline processing of wasp images also yields detections of transient and/or uncatalogued objects .",
    "these `` orphan '' data - points are handled separately from the standard catalogue - driven photometry , and are stored in a table within the rdbms for later analysis .",
    "the second key element of the archive is the wasp catalog . at its core",
    "this provides very basic information about each object observed by superwasp , for example equatorial co - ordinates and its relation to the entry in the usno - b1.0 catalog that is used to drive the photometric pipeline .",
    "the catalog has been designed to be extensible however , recognizing that it is nigh on impossible to define _ a priori _ the additional per - object attributes that the catalog might be called upon to store as the understanding and exploitation of the wasp data proceeds .",
    "the catalog extensibility is implemented by storing newly derived attributes in separate tables in the rdbms , alongside a wasp object identifier that acts as a key . by making use of table joins within the rdbms at query - time the root catalog can appear to the end - user to be extended on - the - fly to include these new attributes .",
    "the implication of this is that the results of any data - mining effort , for example variability testing or period searches , can be loaded into a table in the rdbms and immediately become visible to all users of the archive as additional per - object attributes which can be used in queries in a transparent manner . in situations where different groups have different algorithms for attacking a problem ( a notable example being planet - transit searches ) ,",
    "these results can be ingested into different tables , and the choice of which set of results to use for any given query is left to the end - user , rather than the architect of the archive .",
    "this flexibility means that the archive will potentially become a very powerful tool in the exploitation of the wasp dataset , evolving to meet the needs of the end - users .    internally to the archive queries of the rdbms are constructed using the industry - standard _ structured query language _",
    "( sql ) . to obviate the need for non - expert users of the archive to formulate sql queries",
    "directly ( queries which can become very complex when involving table joins ) , we have developed a simpler language in which queries can be defined as a set of filters on object attributes using a much simpler syntax than sql .",
    "this language ( which we call wql , the _ wasp query language _ ) can be readily compiled into sql queries by the archive software .",
    "amongst other features , wql allows users to : perform cone searches by object co - ordinate ( including on - the - fly name resolution using simbad ) ; to filter on object attributes ; to select which attributes will be displayed in the output and to sort the output on a selected attribute .",
    "the results from the query are returned either as formatted ascii tables in a number of user - selectable flavors , or as html .",
    "wql is not directly comparable to other query languages , for example the astronomy data query language ( adql ) which has an sql - like syntax .",
    "while adql is undoubtedly more powerful and flexible than wql , it suffers in that it is not very user - friendly .",
    "the design goals of wql were to create a query language which provides sufficient power and flexibility for most normal use cases , but does so using a syntax which is amenable to use by astronomers without a computer science background .",
    "as a future development the wql compiler may be retargetted to generate adql rather than sql queries .      the primary mechanism by which users will access the wasp archive is by means of three command - line tools which enable the querying of the catalog , the extraction of lightcurves , and the extraction of raw images .",
    "these tools communicate with the archive server using the http protocol .",
    "http was chosen as it potentially enables a wide variety of other clients ( in particular web browsers ) to be used in the future , and also because http requests generally pass unmolested through network firewalls ( which would not be guaranteed of a bespoke protocol on an arbitrary tcp / ip port ) .",
    "the advantage of http is that every wasp image and lightcurve have a unique and predictable url , which can be accessed using any tool capable of retrieving a file via http .",
    "tools which are capable of opening fits files directly from urls ( e.g. any application built on top of cfitsio ) can therefore request and open a lightcurve or image from the wasp archive across the internet with no more difficulty than if it was on local disc , simply by specifying a url rather than a filename . in this respect",
    "the wasp archive acts as a web service .",
    "the integrity of each observatory is checked remotely on a daily basis using interior and exterior network cameras , and manually on a weekly basis as part of a comprehensive preventative maintenance plan .",
    "furthermore , during routine observing , the operation of the various subsystems can be monitored remotely using http clients .",
    "no significant malfunctions have occurred to date . on la palma ,",
    "the enclosure has withstood three harsh winters , which included near 200 km/h winds in a tropical storm , and 1.5-m of snow , without adverse effect .",
    "after the first season of operations we found some indications of wear on the hour angle friction wheel manifesting itself as vibration while slewing .",
    "after some investigation we realized that during this first season we had some inexperienced observers that were moving the mount without disengaging the clamps .",
    "for subsequent seasons we have avoided this problem by redoing the pointing model and using the unused half of the friction wheel .",
    "other problems arose in the declination axis : the original design of the mount expected a normal telescopic optical tube assembly , but the need to be able to insert the superwasp cradle meant that some movement was required . in the original design",
    "the declination axis encoder was held at the other end to the drive .",
    "as this encoder is not a packaged product but a reader and glass disc movement of the axis meant it was difficult to keep the encoder focused ( or worse ) .",
    "for the second mount we therefore requested omi move the encoder to the drive end of the axis . for superwasp - n",
    "this problem only manifests itself when we are servicing the cradle unit . in normal operations",
    "these mounts are made to work extremely hard .",
    "for superwasp - n the first season of operations regularly led to more than 600 movements per clear night .",
    "similarly , the thermoelectrically cooled detectors have proved to be extremely reliable , and operate stably at -50c even when the ambient nighttime summer temperature is in the mid 20c s .",
    "the pipeline has proved robust and runs in an unattended fashion .",
    "for example , an average night during the 2004 season produced around 550 frames per camera of 16 fields .",
    "after the post - processing and data quality control around 25 were rejected as outliers in the astrometric or point spread profile fits ( e.g. trailed images ) . from the 16 fields around 710000 star - like objects",
    "were accepted with good certainty and statistics while a further 220000 were rejected as they had a below threshold number of data points ( either because they were too faint or that they saturated the detector ) .",
    "each frame produced from @xmath3200 orphan objects ( mostly cataloged objects in the usno - b1.0 but with discrepant brightnesses ) .",
    "we find that on an average pentium-4 ( 3ghz processor , 1 gb memory , scsi disk system ) class machine one night of data from one camera takes about 11 hours to reduce .",
    "for the 6 months that superwasp - n was operational in 2004 , the instrument produced lightcurves for @xmath36.7 million objects containing 12.9 billion data points .",
    "a typical archive catalog query will return results within 1 - 10 seconds , depending on the complexity of the query and the number of matches .",
    "the rdbms makes extensive use of in - memory caching of database tables , so repeating a query with small changes to the clauses will often result in much improved performance for the second and subsequent queries .",
    "extraction of an arbitrary lightcurve will typically take @xmath31 second , however the operating system in the storage cluster nodes will take the opportunity to cache some of the contents of the bulk photometry files in memory .",
    "subsequent queries for lightcurves from nearby objects on the sky can often return much more quickly than the initial request .",
    "the clustered nature of the archive server allows dozens of independent requests to be served simultaneously without noticeable loss in performance .    initially the wasp archive will remain a private facility , however , if and when additional resources become available we will make the data publicly available .",
    "while our design goal was to reach 1% photometry for stars brighter than @xmath37 , in practice we reach this level of precision for stars brighter than @xmath38 .",
    "stars brighter than @xmath39 have a precision better than @xmath40 mag .",
    "equally important , the night to night variations are @xmath41 mag .",
    "objects with @xmath42 are stored in the archive .",
    "[ rms2 ] shows the rms errors as a function of magnitude over the 2004 season and demonstrate that the complete system delivers good precision over an extended period .",
    "the faint end of our magnitude range is dictated by the sky brightness : in dark conditions the integrated sky brightness in one of our pixels is @xmath316.5 .      for relatively large amplitude variations ( @xmath43 ) data from the archive",
    "is of sufficient quality for identification of variable stars ( etc ) .",
    "[ gn_boo_ps ] is an example of a large amplitude eclipsing system extracted from the archive .",
    "we stress this figure is composed completely of raw extracted data and has not undergone any further processing . in this figure",
    "there are 3873 data points taken over a 6 month period through all prevailing weather conditions .",
    "close inspection shows that after ignoring outliers the rms errors are around 0.015 magnitudes at the quadratures where it has a higher than normal noise for its magnitude .",
    "our primary design goal has always been to identify transit amplitudes with @xmath44 . in this regime",
    "secondary effects can make the photometry less reliable .",
    "rather than analytically trying to remove these we use the sysrem algorithm discussed by @xcite to de - trend the data .",
    "this algorithm removes time and position dependent trends from the lightcurves by computing the weighted average of magnitude residuals over all stars to calculate a time - dependent variation .",
    "we added an additional weighting to the magnitude uncertainties to down - weight known variable stars and poorer - quality images .",
    "note the sysrem algorithm does not identify the causes of the trend , but removes it blindly , using all the stars available ; for this reason it should be applied with caution where finding genuine photometric variables is the desired outcome .",
    "after some experimentation we remove four trends from the data .",
    "[ examplelc2 ] is an example of a transit candidate with and without the sysrem algorithm applied .",
    "this candidate is identified as 1swasp j133339.36 + 494321.6 and has @xmath45 mag . out of transit",
    "the rms scatter in the lightcurve is 0.0076 mag .",
    "other exo - planet candidates from the first superwasp - n season of observations are now becoming available ( e.g. * ? ? ? * ) .",
    "for details of our sysrem implementation and transit candidate identification algorithm see @xcite .",
    "the original superwasp camera was constructed at observatory of the roque de los muchachos on la palma in 2003 . since then we have also constructed a clone facility at saao which has recently seen first light .",
    "each system has a total field of view of @xmath0482 square degrees and is capable of monitoring the sky down to @xmath46th magnitude every @xmath47 minutes . for the la palma facility , in the first season of operation",
    "the instrument was used solely to monitor fields with high cadence ( @xmath310 minutes ) . in subsequent seasons the development of the dynamic scheduler will allow all sky monitoring interspersed with the high cadence exo - planet fields ( we expect complete sky coverage once per night ) .",
    "the reduction pipeline is a continued development from the wasp0 instrument now generalized and expanded to cater for both facilities .",
    "the rms plots show that the precision at the bright end of our magnitude range reaches 3 - 4 milli - magnitudes over an extended period and stars brighter than @xmath311.5 magnitude have errors less than 1% .",
    "an average night s data of 50 gb , produces some 6@xmath48 records in the archive .",
    "we have developed an archive system capable of storing tens to hundreds of terabytes of raw and processed data , the results of high - level analyses of those data , but doing so in a manner that provides rapid access to individual lightcurves and images .",
    "the central catalog is designed to remain flexible and responsive to evolving user requirements despite the burgeoning data volume .",
    "the choice of http as an interface protocol allows the end - user a great deal of flexibility in the choice of access clients , and facilitates truly distributed , collaborative working within the consortium .    from the start of operations in 2006 at both facilities",
    "we have begun an all - sky survey mode .",
    "as the exo - planet program will continue we have integrated these different survey modes ( with only a small loss to the exo - planet survey efficiency ) enabling once a night coverage of the entire visible sky . to do this",
    "effectively we will eventually deploy a reduction pipeline at the sites themselves . by compromising performance",
    "slightly we will be able to use this to grade the quality of the night , directly feeding back to the dynamic scheduler in order to modify the observing queue , hence matching the science to the prevailing weather conditions . in principle",
    "this could also provide a real time alert system and if sufficient software resources become available we could use this to arrange followup observations on other nearby facilities .",
    "the superwasp cameras are now surveying large parts of the sky primarily in search of bright , transiting exo - planets . in the near future",
    "we will present large numbers of high quality light curves suitable for followup and expect to at least double the numbers of known transiting exo - planets .",
    "interests of the consortium members also cover other `` secondary '' science areas and publications in these areas will be forthcoming . for non - members of the consortium",
    "we also offer the opportunity to present ideas to the project steering committee and hence achieve a guest observer status in this area .",
    "the wasp consortium comprises scientists primarily from the university of cambridge ( wide field astronomy unit ) , the instituto de astrofsica de canarias , the isaac newton group of telescopes , the university of keele , the university of leicester , the open university , queen s university of belfast and the university of st andrews .",
    "the superwasp cameras were constructed and are operated with funds made available from the consortium universities and the uk s particle physics and astronomy research council .",
    "we would also like to thank the uk s starlink project ( and site managers ) for their invaluable support in the development of the pipeline .",
    "we thank the administrador del observatorio del roque de los muchachos , sr .",
    "juan carlos perz , and the director of the isaac newton group of telescopes , dr ren rutten , and staff , for their invaluable support in the construction and operation of superwasp - n .",
    "we would also like to thank saao for hosting superwasp - s and thank saao personnel for their generous assistance in the planning , construction and maintenance of superwasp - s .",
    "we would like to acknowledge the anonymous referee who made an important contribution to this paper .",
    "this publication makes use of data products from the two micron all sky survey , which is a joint project of the university of massachusetts and the infrared processing and analysis centre / california institute of technology , funded by the national aeronautics and space administration and the national science foundation .",
    "akerlof , c. , balsano , r. , barthelmy , s. , bloch , j. , butterworth , p. , casperson , d. , cline , t. , fletcher , s. , frontera , f. , gisler , g. , heise , j. , hills , j. , kehoe , r. , lee , b. , marshall , s. , mckay , t. , miller , r. , piro , l. , priedhorsky , w. , szymanski , j. , & wren , j. , 1999 , nature , 398 , 400              collier cameron , a. pollacco , d. , street , r.a . , lister , t.a . , west , r.g . ,",
    "wilson , d.m . ,",
    "pont , f. , christian , d.j . , clarkson , w.i . , evans , a. , haswell , c.a . ,",
    "hellier , c. , horne , k. , irwin , j. , kane , s.r . ,",
    "norton , a.j . ,",
    "skillen , i. , & wheatley , p.j . , 2006 , mnras ,",
    "_ in press_.      christian , d.j . , pollacco , d.l . , skillen , i. , street , r.a . , keenan , f.p . ,",
    "clarkson , w.i .",
    ", collier cameron , a. , kane , s.r . ,",
    "lister , t.a . , west , r.g . ,",
    "enoch , b. , evans , a. , fitzsimmons , a. , haswell , c.a . ,",
    "hellier , c. , hodgkin , s.t . ,",
    "horne , k. , irwin , j. , norton , a. , osbourne , j. , ryans , r. , wheatley , p.j . ,",
    "wilson , d.m .",
    ", 2006 , mnras in press ( astro - ph/0608142 )                      mccullough , p.r . ,",
    "stys , j.e .",
    ", valenti jeff a. , johns - krull , c.m .",
    ", james , k.a . ,",
    "heasley , j.n .",
    ", bye , b.a . , dodd , c. , fleming , s.w . , pinnick , a. , bissinger , r. , gary , b.l . , howell , p.j . , & vanmunster , t. , 2006 , apj _ in press _",
    "( astro - ph/0605414v1 )    monet , d.g . ,",
    "levine , s.e .",
    ", canzian , b. , ables , h.d . , bird , a.r . , dahn , c.c . ,",
    "guetter , h.h . ,",
    "harris , h.c .",
    ", henden , a.a . ,",
    "leggett , s.k . ,",
    "levison , h.f .",
    ", luginbuhl , c.b . ,",
    "martini , j. , menet , a.k.b .",
    ", munn , j.a . , pier , j.r . , rhodes , a.r . , riepe , b. , sell , s. , sone , r.c .",
    ", vrba , f.j . ,",
    "walker , r.l . , westerhout , g. , brucato , r.j . ,",
    "reid , i.n . , schoening , w. , hartley , m. , read , m.a .",
    ", & tritton , s.b . , 2003 , astron . j. , 125 , 984"
  ],
  "abstract_text": [
    "<S> the superwasp cameras are wide - field imaging systems sited at the observatorio del roque de los muchachos on the island of la palma in the canary islands , and the sutherland station of the south african astronomical observatory . </S>",
    "<S> each instrument has a field of view of some @xmath0482 square degrees with an angular scale of 13.7 arcsec per pixel , and is capable of delivering photometry with accuracy better than 1% for objects having @xmath1 . </S>",
    "<S> lower quality data for objects brighter than @xmath2 are stored in the project archive . </S>",
    "<S> the systems , while designed to monitor fields with high cadence , are capable of surveying the entire visible sky every 40 minutes . depending on the observational strategy , the data rate can be up to 100 gb per night . </S>",
    "<S> we have produced a robust , largely automatic reduction pipeline and advanced archive which are used to serve the data products to the consortium members . </S>",
    "<S> the main science aim of these systems is to search for bright transiting exo - planets systems suitable for spectroscopic followup observations . </S>",
    "<S> the first 6 month season of superwasp - north observations produced lightcurves of @xmath36.7 million objects with 12.9 billion data points . </S>"
  ]
}