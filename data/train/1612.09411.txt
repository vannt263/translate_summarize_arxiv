{
  "article_text": [
    "the 3d shape estimation for small or microscopic objects is an important task for various specialized applications involving microscopic structural analysis in industrial inspection or biological studies .",
    "the task , involves inferring information about the , often , fine shape variations in such objects @xcite . an automated approach to infer the 3d shape information directly from images , can be useful in such applications in terms of reducing manual time and effort and the perhaps , the overall system cost . acquiring detailed images of objects at such small scale",
    "requires imaging at close range . at such close range ,",
    "the depth of field for optical devices is very limited .",
    "thus , the acquired images are affected by defocus blur . incidentally , since the defocus blur is dependent on the depth of the points from the camera ( lens ) , estimating the amount of blur at each pixel can provide us information about the shape of the objects .",
    "this principle is used in the task of shape from defocus ( sfd ) , which is now a well established research area in computer vision .",
    "traditionally , shape from defocus ( sfd ) involves the processing multiple ( at least 2 ) differently defocused images , captured from a single view , but with different camera parameters such as focal length , aperture , or distance between lens and the image plane @xcite .",
    "given a set of such images , the relative defocus blur for a reference image with respect to other images can be estimated at each point of the image , thus yielding a blur - map .",
    "the spatial variation of the defocus blur across such a blur map provides an indication of the depth variation across the underlying object , which essentially provides an estimate of the object s 3d shape .    since the pioneering work in shape from defocus @xcite ,",
    "various approaches have been proposed for estimating such a spatially varying blur from multiple defocused images @xcite , targeted towards improvement in the quality of the shape estimation .",
    "while the methods for sfd have evolved over the years in terms of achieving improved shape estimates , most of the approaches have demonstrated performance on objects with coarse shape variations @xcite .    on the other hand , few methods which exploit the defocus cue , and which indeed focus on achieving finely varying shape estimates @xcite , are typically computationally intensive , based on traditional combinatorial optimization approaches . with automation augmenting various inspection and diagnosis processes , there is often a requirement of processing large scale data for microscopy related applications .",
    "hence , it is important for such image analysis methods ( e.g. sfd ) to be relatively more efficient . on the other hand ,",
    "the sfd approaches in @xcite are arguably more efficient , than those proposed in @xcite .",
    "however , as mentioned earlier , these methods have demonstrated results on objects with relatively coarse shape variations .",
    "importantly , the texture content on the scenes considered in @xcite is assumed to be quite high unlike @xcite which also demonstrates results on microscopy images with relatively low texture .",
    "thus , considering the above discussion , there seems to be a need for relatively efficient sfd methods to explicitly demonstrates a plausible depth estimation for microscopy imaging of objects with fine shape variations .    from a methodological perspective , shape from defocus methods may be divided into two categories . while the blurring is ideally space - variant in nature ( due to the 3d shape of the object ) ,",
    "one class of approaches impose an assumption that the underlying object depth is locally constant , i.e. they assume the that in a small region , the object shape is flat ( plane parallel to the camera plane ) .",
    "this is commonly termed as the local space - invariant ( lsi ) or an equi - focal approximation .",
    "as discussed later , this assumption can help in simplifying the computation , by allowing the use of local convolutions to match the corresponding regions in reference image with those in others .",
    "however , the approaches based on such an approximation are those which demonstrate results for coarse depth variations @xcite . on the other hand few methods",
    "have relaxed this constraint , @xcite , but are typically quite computationally intensive .    in this work ,",
    "we indicate that given a good combinatorial optimization approach , one can achieve shape estimation , including that for , finely varying structures , efficiently . to this end , we employ the approach of belief propagation ( bp ) which is one of the well established combinatorial optimization methods across various vision applications @xcite . in general ,",
    "the belief propagation method is known to be much more efficient relative to more traditional approaches mentioned above .",
    "we observe that the method can be applied in a straightforward manner for shape from defocus , if the cost computation is based on the lsi approximation . in spite of such an approximation , we demonstrate that it is able to yield plausible shape estimate from their microscopy images",
    ". moreover , the examples that we consider , arguably have less texture than that considered in some well - known works on shape from defocus .",
    "thus , based on our observations , we believe that the approach serves as a good balance between more efficient traditional local methods ( but which typically yield relatively low - quality shape estimates ) , and the methods that can provide better shape estimates ( but which are computationally more intensive ) .    in recent years , belief propagation is employed for shape estimation problems involving defocus blur @xcite .",
    "however , the work reported in @xcite uses the bp approach as a post - processing step for smoothing the depth maps , whereas the approach in @xcite , obtains an initial estimate of the depth map through bp and the emphasis is more on the deblurring task ( using a different approach ) than depth estimation using bp .",
    "the methods proposed in @xcite employs bp in a way that is proposed in this work .",
    "however , an important difference is that the work in @xcite also involves the motion ( stereo ) cue for depth estimation in addition to the defocus cue .",
    "moreover , in all the above works , the shape variations considered are relatively coarse , similar to the ones in some other methods mentioned above .",
    "this work demonstrates that , even with only the defocus cue , an efficient approach like bp yields plausible results for depth variation .",
    "the rest of the paper is organized as follows : in the next section we provide some preliminaries on shape from defocus ( sfd ) . in section iii",
    ", we provide a brief overview on belief propagation approach , and importantly discuss its applicability to the sfd problem . in section iv , provide and discuss our results , and conclude in section v.",
    "in this section , we briefly discuss the relationship between depth and blur , and the corresponding imaging model that is employed in shape from defocus .",
    "this also serves as a background to discuss the lsi assumption that we make subsequently in our bp based approach .    for a thin lens ,",
    "the radius @xmath0 of the defocus blur that acts on a point at depth @xmath1 from the camera can be related as @xcite @xmath2 where @xmath3 is the aperture radius , @xmath4 is the distance between the lens and the image plane , @xmath5 is the focal length .",
    "given the above , the point - spread function ( psf ) that defocuses the image pixel ( corresponding to the point at depth @xmath1 ) in an hypothetical all - focused image , is popularly modeled as a gaussian function , with the standard deviation related to @xmath0 , and hence the depth @xmath1 , as @xmath6 where @xmath7 is a camera - dependent constant that maps the real - world distance @xmath0 to the @xmath8 in terms of pixels .",
    "thus , by estimating the blur parameter @xmath8 at each point in the image , one can compute the corresponding depth at each point in the scene , given the camera parameters .",
    "the the estimate of @xmath8 provides us the 3d shape information .",
    "the defocus blurring operation can be expressed as a linear operation .",
    "however , as we consider general 3d scenes , the gaussian blur at each pixel can be different depending upon its depth . hence , the blurring operation is not space - invariant .",
    "thus , the blurring of an image can be expressed as @xcite , @xmath9 where @xmath10 and @xmath11 denote pixel locations , which , for simplicity , are expressed in one dimension , @xmath12 denotes the blurred image , @xmath13 denotes the unknown focused image , and @xmath14 denotes the unknown blurring filter .",
    "while such a linear but space - variant modeling of defocus blurring is quite realistic for a 3d scene , we now discuss an approximation simplifies the problem as elaborated below .",
    "the space - variance in the above model is a result of the scene being 3d , where the depth potentially varies at each point .",
    "however , in most real scenes , the depth variation in a small ( local ) region is quite less or even negligible , and it is fair to assume the depth to be locally constant . here",
    ", the local region under consideration is the support of the gaussian blur kernel is as small as 7 - 20 pixels ( in both the directions ) .",
    "given such an approximation , for that local region , the blurring operation can be considered as space - invariant and can be expressed as a convolution @xcite @xmath15 here , the operation @xmath16 denotes convolution .",
    "the above equation can be represented in the frequency domain as @xmath17 where @xmath18 , @xmath19 and @xmath5 are fourier transform representations of @xmath12 , @xmath14 , and @xmath13 , respectively .",
    "based on the above approximation , one can relate two differently blurred images @xmath20 and @xmath21 images as follows , @xmath17 @xmath22 @xmath23 here , @xmath24 is the relative blur between @xmath20 and @xmath21 , with the gaussian blur parameter as @xmath25 . here",
    ", it is assumed that @xmath21 is more defocused than @xmath20 at all points . in this case , the objective is to compute the relative blur parameter @xmath26 , as the estimate of the 3d shape .",
    "thus , one can observe that the locally space - invariant approximation allows us to relate two differently blurred images , and factors out the unknown all - focused image . since , estimating such an all - focused image itself is a combinatorial problem , such an approximation provides a significant advantage .",
    "moreover , it also helps in adapting the problem so as to be solved with an efficient approach such as bp , as we discuss in the next section .",
    "having discussed the preliminaries about the relationship between depth and defocus blurring , and imaging model that is involved in sfd methods , we now turn our attention to the methodology that we employ to address the sfd task .",
    "we begin with a brief discussion on belief propagation ( and its salient aspects ) .",
    "we then formulate the sfd problem in the bp framework .",
    "belief propagation has shown much promise in recent years for efficiently solving standard computer vision problems such as denoising , stereo , segmentation etc .",
    "as compared to traditional combinatorial optimization problems such as simulated annealing or iterated conditional modes , the bp can be computationally much more efficient and faster in convergence .",
    "furthermore , although not considered in this paper , bp can be made highly parallel and is well - suited for implementation on gpus .",
    "the approach employed in this work is the max - product bp approach which computes the map estimates over a graph @xcite . for images ,",
    "the graph is usually a grid - graph , with nodes being pixel locations .",
    "( for the following discussion on bp , we denote nodes by @xmath27 , @xmath28 and @xmath29 , for conciseness ) .",
    "the max - product rule works by passing messages @xmath30 at time @xmath31 to a node @xmath28 from its neighbouring node @xmath27 of the graph as follows :    @xmath32 where @xmath33 is the data cost at node @xmath27 for accepting a label @xmath34 , @xmath35 is the prior cost between the neighbouring nodes @xmath27 and @xmath28 , and @xmath36denotes the set of nodes in the neighbourhood of @xmath27 , not including @xmath28 .",
    "the message vector @xmath37 is an @xmath38dimensional vector , where @xmath39 is the number of labels that each node can take .",
    "this message passing is iterated for each node until convergence . at convergence ,",
    "the beliefs are computed as @xmath40 the belief @xmath41 at each node @xmath28 is a @xmath38dimensional vector .",
    "the map solution for the label at @xmath28 is that @xmath42 which maximizes @xmath41 .      from a computational perspective",
    ", creating a blurred image , according to the lsi model can be carried out as a ) multiplying each image pixel value ( at , say , location @xmath10 ) with all the values of the 2d gaussian , whose @xmath8 corresponds to a depth @xmath1 , and b ) averaging the overlapping values of this scaled gaussian centered at @xmath10 , with the values from other scaled gaussians at pixels neighbouring @xmath10 .    in this section ,",
    "we formulate the depth estimation problem in a map framework which we solve using belief propagation ( bp ) .",
    "to define the data cost , we relate the image in the @xmath43 view with that in the reference view . without loss of generality ,",
    "the first image is considered as the reference image ( @xmath44 ) .",
    "for ease of explanation , we consider for now , that the reference image is modeled as a shifted and blurred version of the @xmath43 image .",
    "( this will not hold good if the reference image is more blurred than the @xmath43 image , a situation which we will discuss shortly ) .",
    "thus , the relationship between the reference image and the @xmath43 image is given as above @xmath45 where @xmath46 signifies the relative gaussian blur kernel corresponding to blur parameter ( standard deviation ) @xmath47 .",
    "the symbol @xmath16 denotes convolution .",
    "the relative blur parameter @xmath47 can be related to @xmath48 .",
    "the data cost for a particular node in the @xmath43 view is defined as @xmath49    at this point , we note that equation ( [ eq : datacost ] ) involve a convolution .",
    "however , the ideal model of equation ( 4 ) does not involve a convolution , since it models the image generation with space - variant blur .",
    "thus , the data cost defined in equation ( [ eq : datacost ] ) , assumes local space - invariance which is an approximation to the actual image generation model of equation ( 4 ) .",
    "this approximation is required to make our data cost amenable to processing by the bp algorithm .",
    "the data cost in bp , for a particular label at a node , is defined as _ the cost incurred by that node for accepting that particular label_. for applications such as de - noising or stereo disparity estimation , the data cost at a particular node involves only the label at that node and is independent of the labels of neighbouring nodes . however , for applications involving space - variant blur , this does not hold since the blur at the neighbouring nodes also influences the observation at a particular node .",
    "this requires the current depth estimates for the neighbouring nodes .",
    "however , in its basic form , the data cost in bp , does not entertain a notion of current label estimates , and the approach simply involves finding the best label out of a set of labels that minimizes the overall cost . defining the data cost at a node through a convolution ( [ eq : datacost ] ) , ( i.e. using the equi - focal approximation ) , involves only the relative blur kernel values at the current node which in turn depends on the depth label at the current node .",
    "thus , the data cost is rendered independent of the labels of the neighbouring nodes , allowing it to be used within the bp framework in a straightforward manner .",
    "the prior cost enforces a smooth solution that constrains the neighbouring nodes to have similar labels .",
    "( more fundamentally , a smoothness constraint on depth manifests from modeling the depth as a markov random field having a joint gibbs distribution @xcite ) .",
    "although , a smooth solution is preferred , we also wish to avoid over - smoothing of prominent discontinuities in the solution .",
    "thus , the penalty for neighbouring labels being different can not be arbitrarily high .",
    "we define the smoothness prior as a truncated absolute function which is given by @xmath50 where @xmath10 and @xmath11 are neighbouring nodes ( in this case , pixel locations ) in a first - order neighbourhood and @xmath51 is the truncation threshold to saturate the prior cost beyond a certain difference in the depth labels .",
    "[ cols=\"^,^,^ \" , ]",
    "we provide some qualitative results which indicates the our bp - based method can yield plausible depth estimates across a variety of shape variations . for each experiment , we use two microscopy images of real objects , which are captured with different values of @xmath52 ( equation ( 1 ) ) . in fig . 1",
    ", we first show the results on objects which have fine variations in shape .",
    "the shape maps are shown as images , with the variations represented as gray - scale values .",
    "one can note that the shape variations indeed coincide with those perceived in the images ( e.g. near spokes of the wheel ( top row ) , or near veins of the leaves ( bottom row ) ) .",
    "however , we also note some errors in the example in the bottom row ( white regions in the shape map ) , where there is almost no texture in the images . however , in most regions , the shape is estimated in a plausible manner even with relatively low texture .",
    "we now demonstrate the shape estimation performance on two shapes which have smooth variation ( fig .",
    "2 ) . such an experiment can also help to ascertain that the shape variation captured in the above cases , are not artifacts , but the actual fine variation of the underlying shape .",
    "we observe that the smooth shape variations are indeed captured in the shape maps of fig .",
    "2 . the estimation in the top row shows a staircase effect in the shape estimate , as the underlying shape has a somewhat larger variation than that in the bottom case .",
    "however , in both cases , one can note that there are no major artifacts due to the image textures , and the shape variations are largely captured well .",
    "in this work , we provide an indication of the usefulness of belief propagation ( bp ) for the task of estimating 3d shape from defocused images ( sfd ) . we discuss and formulate the adaptation of the sfd problem to be used in the bp framework , via assuming local space invariance of defocus blur .",
    "we particularly consider the case of microscopic data , which is an important domain for the application of shape from focus .",
    "we show that the bp approach provides a efficient alternative which can also yield plausible results , especially for microscopic data , which can have finer variations in 3d shape .",
    "we believe that the reason behind its encouraging performance even under lsi approximation and low - texture is its ability to converge to good solutions efficiently .",
    "c. shen , w. hwang , y. hung , s. pei , _ propagation - based image and depth reconstruction from a space - variant defocused image _ , technical report tr - iis-11 - 003 , institute of information science , academia sinica , taiwan , 2011 ."
  ],
  "abstract_text": [
    "<S> in recent years , the usefulness of 3d shape estimation is being realized in microscopic or close - range imaging , as the 3d information can further be used in various applications . due to limited depth of field at such small distances , </S>",
    "<S> the defocus blur induced in images can provide information about the 3d shape of the object . </S>",
    "<S> the task of ` shape from defocus ' ( sfd ) , involves the problem of estimating good quality 3d shape estimates from images with depth - dependent defocus blur .    </S>",
    "<S> while the research area of sfd is quite well - established , the approaches have largely demonstrated results on objects with bulk / coarse shape variation . </S>",
    "<S> however , in many cases , objects studied under microscopes often involve fine / detailed structures , which have not been explicitly considered in most methods . in addition , given that , in recent years , large data volumes are typically associated with microscopy related applications , it is also important for such sfd methods to be efficient .    in this work , </S>",
    "<S> we provide an indication of the usefulness of the belief propagation ( bp ) approach in addressing these concerns for sfd . </S>",
    "<S> bp has been known to be an efficient combinatorial optimization approach , and has been empirically demonstrated to yield good quality solutions in low - level vision problems such as image restoration , stereo disparity estimation etc . for exploiting the efficiency of bp in sfd , we assume local space - invariance of the defocus blur , which enables the application of bp in a straightforward manner . </S>",
    "<S> even with such an assumption , the ability of bp to provide good quality solutions while using non - convex priors , reflects in yielding plausible shape estimates in presence of fine structures on the objects under microscopy imaging . </S>"
  ]
}