{
  "article_text": [
    "nonlinear hyperbolic conservation laws on networks have recently attracted a lot of interest in various fields : car traffic @xcite , gas dynamics  @xcite , irrigation channels  @xcite and supply chains  @xcite .",
    "a network is modeled by a graph : a finite collection of arcs connected together by vertices . on each arc",
    "we consider a scalar conservation law .",
    "for instance one may think to the lighthill - whitham - richards model for car traffic  @xcite .",
    "however , our results applies to the other application domains .",
    "it is easy to check that the dynamic at nodes is not uniquely determined by imposing the conservation of mass through vertices .",
    "then , to completely describe the network load evolution , the first step is to appropriately define the concept of solution at a vertex . + as in the classical theory of conservation laws , this problem is equivalent to giving the solution riemann problems ( now at vertices ) .",
    "more precisely , a riemann problem at a vertex is simply a cauchy problem with constant initial conditions in each arc of the vertex .",
    "the map , which associates the solution to each riemann problem at a vertex @xmath0 , is called a riemann solver at @xmath0 . similarly to the case of a real line , one has to resort to the concept of weak solutions in the sense of distributions and there are infinitely many riemann solvers producing weak solutions .",
    "first one uses entropy type conditions inside arcs as for the real line .",
    "then , in order to select a particular solution ( i.e. a riemann solver ) at the vertex , one has to impose some additional conditions . in  @xcite ,",
    "for example , the authors required some rules about the distribution of the fluxes in the arcs and a maximization condition ; see also  @xcite .",
    "it is then natural to ask if entropy - like conditions can be imposed also at the vertex and not only inside arcs .    in this paper , we focus on a single vertex @xmath0 , composed by @xmath1 incoming and @xmath2 outgoing arcs and we extend the krukov  @xcite entropy - type conditions .",
    "more precisely , we propose two different entropy conditions for admissibility of solutions , called , respectively , ( e1 ) and ( e2 ) . the condition  ( e1 ) is stronger than  ( e2 ) , indeed the first asks for krukov entropy condition to be verified for all entropies , while the second asks only for the precise krukov entropy corresponding to sonic point .",
    "it is interesting to note that the entropy condition  ( e1 ) imposes strong restrictions both on riemann solvers and on the geometry of the vertex . indeed",
    ", riemann solvers satisfying  ( e1 ) can exist only in the case of vertices with the same number of incoming and outgoing arcs .",
    "we then test our conditions on riemann solvers considered in the literature .",
    "first we can prove that the riemann solver , introduced in  @xcite for data networks , satisfies  ( e2 ) and , in special situations , also  ( e1 ) .",
    "+ then we show that the riemann solvers defined in  @xcite do not satisfy  ( e2 )",
    ". however , at least for the riemann solver in  @xcite , the entropy condition and the maximization procedure agree on some particular set , over which the maximization is taken . roughly speaking the solver respects the entropy condition once traffic distribution is imposed .",
    "the paper is organized as follows .",
    "section  [ se : def ] introduces the basic definitions of networks and of solutions .",
    "section  [ se : riemann_problem ] deals with the solution to the riemann problem at the vertex @xmath0 .",
    "moreover , we introduce the entropy conditions ( e1 ) and ( e2 ) for riemann solvers at @xmath0 . in section",
    "[ se : rs_e1 ] , we determine which riemann solvers satisfy the entropy condition ( e1 ) .",
    "the paper ends with section  [ se : examples ] , which considers the riemann solvers @xmath4 , @xmath5 and @xmath6 , introduced respectively in @xcite , and analyzes what entropy conditions these riemann solvers satisfy .",
    "consider a node @xmath0 with @xmath1 incoming arcs @xmath7 and @xmath2 outgoing arcs @xmath8 .",
    "we model each incoming arc @xmath9 ( @xmath10 ) of the node with the real interval @xmath11-\\infty,0]$ ] and each outgoing arc @xmath12 ( @xmath13 ) of the node with the real interval @xmath14 . on each arc @xmath15 ( @xmath16 ) , the traffic evolution is given by @xmath17 where @xmath18 $ ] , is the _ density _ , @xmath19 is the _ average velocity _ and @xmath20 is the _ flux_. hence the network load is described by a finite collection of functions @xmath21 defined on @xmath22 . for simplicity , we put @xmath23 . on the flux",
    "@xmath24 we make the following assumption    * @xmath25 \\rightarrow { \\mathbb r}$ ] is a piecewise smooth concave function satisfying 1",
    ".   @xmath26 ; 2 .",
    "there exists a unique @xmath270,1[$ ] such that @xmath24 is strictly increasing in @xmath28 and strictly decreasing in @xmath29\\sigma,1]$ ] .",
    "[ deftau ] let @xmath30 \\rightarrow [ 0,1]$ ] be the map such that :    1 .",
    "@xmath31 for every @xmath32 $ ] ; 2 .",
    "@xmath33 for every @xmath32\\setminus\\{\\sigma\\}$ ] .",
    "a function @xmath34 is an entropy - admissible solution to  ( [ eq : lwr ] ) in the arc @xmath15 if , for every @xmath35 $ ] and every @xmath36 smooth , positive with compact support in @xmath290,+\\infty[\\times \\left(i_l\\setminus\\{0\\}\\right)$ ] @xmath37    [ def : weak_solution ] a collection of functions @xmath34 , ( @xmath16 ) is a weak solution at @xmath0 if    1 .   for every @xmath38 ,",
    "the function @xmath21 is an entropy - admissible solution to  ( [ eq : lwr ] ) in the arc @xmath15 ; 2 .   for every @xmath38 and for a.e . @xmath39",
    ", the function @xmath40 has a version with bounded total variation ; 3 .   for a.e .",
    "@xmath39 , it holds @xmath41 where @xmath21 stands for the version with bounded total variation .",
    "given @xmath42 $ ] , a riemann problem at @xmath0 is a cauchy problem at @xmath0 with constant initial data on each arc , i.e. @xmath43    now , we give some definitions for later use .",
    "the first one is the definition of riemann solver , which is a map giving a solution to the riemann problem  .",
    "[ def : riemann_solver ] a riemann solver @xmath44 is a function @xmath45^{n+m } & \\longrightarrow        & [ 0,1]^{n+m}\\\\        & ( \\rho_{1,0},\\ldots,\\rho_{n+m,0 } ) & \\longmapsto &         ( \\bar\\rho_1,\\ldots,\\bar\\rho_{n+m } )      \\end{array}\\ ] ] satisfying    1 .",
    "[ enum:1_def_rs ] @xmath46 ; 2 .",
    "[ enum:2_def_rs ] for every @xmath10 , the classical riemann problem @xmath47 is solved with waves with negative speed ; 3 .",
    "[ enum:3_def_rs ] for every @xmath13 , the classical riemann problem @xmath48 is solved with waves with positive speed .    we introduce the concepts of equilibrium and consistency for riemann solvers .",
    "the fixed points of a riemann solver are called equilibria , while a riemann solver has the consistency condition when its image is contained in the equilibria .",
    "[ def : equilibrium ] we say that @xmath49 is an equilibrium for the riemann solver @xmath50 if @xmath51    [ def : consistency ] we say that a riemann solver @xmath50 satisfies the consistency condition if , for every @xmath52^{n+m}$ ] , then @xmath53 is an equilibrium for @xmath50 .    we introduce now the concepts of entropy functions and admissible entropy conditions ( e1 ) and ( e2 ) for riemann solvers",
    "we are essentially extending the krukov entropy condition to the case of a node ; see  @xcite .",
    "the function @xmath54^{n+m}\\times[0,1]\\to{\\mathbb r}$ ] , defined by @xmath55 is called entropy - flux function .    [",
    "def : entropy_rs_e1 ] a riemann solver @xmath50 satisfies the entropy condition ( e1 ) if , for every initial condition @xmath49 and for every @xmath56 $ ] , we have @xmath57 where @xmath58 .    if @xmath59 , then equation  ( [ eq : entropy_rs_e1 ] ) becomes @xmath60 .",
    "+ if @xmath61 , then equation  ( [ eq : entropy_rs_e1 ] ) becomes @xmath62 .",
    "therefore the entropy condition ( e1 ) implies the conservation identity @xmath63 .",
    "[ def : entropy_rs_e2 ] a riemann solver @xmath50 satisfies the entropy condition ( e2 ) if , for every initial condition @xmath49 , we have @xmath64 where @xmath58",
    ".    the entropy condition  ( [ eq : entropy_rs_e1 ] ) can be deduced in the following way .",
    "fix , for every @xmath65 , a smooth function @xmath66 with support contained in @xmath67 $ ] for some @xmath68 and assume that @xmath69 for every @xmath70 and @xmath71 .",
    "applying the divergence theorem to the inequality @xmath72 dx dt \\ge 0,\\ ] ] where @xmath73 is an equilibrium at @xmath0 , we deduce  .",
    "obviously , these kinds of entropies are not justified by physical considerations .",
    "finally , let us introduce sets @xmath74 and @xmath75 , related to the points  [ enum:2_def_rs ] and  [ enum:3_def_rs ] of definition  [ def : riemann_solver ] .    1 .   for every @xmath10 define @xmath76 , & \\textrm { if } 0\\le\\rho_{i,0}\\le\\sigma ,          \\vspace{.2cm}\\\\          { } [ 0,f(\\sigma ) ] , & \\textrm { if } \\sigma\\le\\rho_{i,0}\\le1 ,        \\end{array }      \\right.\\ ] ] and @xmath77\\tau(\\rho_{i,0}),1 ] , &          \\textrm { if } 0\\le\\rho_{i,0}\\le\\sigma,\\vspace{.2cm}\\\\          { } [ \\sigma,1 ] , & \\textrm { if } \\sigma \\le \\rho_{i,0 } \\le 1 .",
    "\\end{array }      \\right.\\ ] ] 2 .   for",
    "every @xmath13 define @xmath78 , & \\textrm { if } 0\\le\\rho_{j,0}\\le\\sigma ,          \\vspace{.2cm}\\\\          { } [ 0,f(\\rho_{j,0 } ) ] , & \\textrm { if } \\sigma\\le\\rho_{j,0}\\le1 ,        \\end{array }      \\right.\\ ] ] and @xmath79 , & \\textrm { if } 0\\le\\rho_{j,0}\\le\\sigma,\\vspace{.2cm}\\\\          \\{\\rho_{j,0}\\}\\cup[0,\\tau(\\rho_{j,0 } ) [ , &          \\textrm { if } \\sigma\\le\\rho_{j,0}\\le1 .",
    "\\end{array }      \\right.\\ ] ]    the following proposition links the previous sets with definition  [ def : riemann_solver ] .    [",
    "prop : stati_ammissibili ] the following statements hold .    1 .   for every @xmath10",
    ", an element @xmath80 belongs to @xmath81 if and only if there exists @xmath82 $ ] such that @xmath83 and point  [ enum:2_def_rs ] of definition  [ def : riemann_solver ] is satisfied .",
    "2 .   for every @xmath13",
    ", an element @xmath80 belongs to @xmath84 if and only if there exists @xmath85 $ ] such that @xmath86 and point  [ enum:3_def_rs ] of definition  [ def : riemann_solver ] is satisfied .",
    "the proof is trivial and hence omitted .",
    "the main result of this section is that , if @xmath3 , then every riemann solver @xmath50 at @xmath0 does not satisfy the entropy condition ( e1 ) .",
    "we first need the following result .    [",
    "prop : n_ne_m ] fix a node @xmath0 with @xmath1 incoming arcs and @xmath2 outgoing arcs and a riemann solver @xmath50 satisfying the entropy condition ( e1 ) . denote with @xmath87 the image through @xmath50 of the initial condition @xmath49 .    1 .   if @xmath88 , then @xmath89 .",
    "2 .   if @xmath90 , then @xmath91 .    consider first the case @xmath88 .",
    "suppose by contradiction that @xmath92 .",
    "define the set @xmath93 and fix @xmath94 .",
    "thus , the entropy inequality @xmath95 becomes ,",
    "@xmath96\\ge      \\sum_{j\\in\\{n+1,\\ldots , n+m\\}\\setminus j}\\left[f(\\bar\\rho_j)-f(k)\\right ]      + \\sum_{j\\in j}f(k).\\ ] ] by point  [ enum:1_def_rs ] of definition  [ def : riemann_solver ] , we deduce that @xmath97 where @xmath98 denotes the cardinality of @xmath0 ; thus @xmath99 , which is a contradiction .",
    "consider now the situation @xmath90 . by contradiction",
    "we assume that @xmath100 .",
    "define the set @xmath101 and fix @xmath102 .",
    "thus , the entropy inequality @xmath95 becomes ,",
    "@xmath103      -\\sum_{i\\in i}f(k)\\ge      \\sum_{j = n+1}^{n+m}\\left[f(k)-f(\\bar\\rho_j)\\right].\\ ] ] by point  [ enum:1_def_rs ] of definition  [ def : riemann_solver ] , we deduce that @xmath104 , which is a contradiction .",
    "[ thm : n_ne_m ] fix a node @xmath0 with @xmath1 incoming arcs and @xmath2 outgoing arcs and suppose that @xmath105 .",
    "every riemann solver @xmath50 at @xmath0 does not satisfy the entropy condition ( e1 ) .",
    "suppose , by contradiction , that there exists a riemann solver @xmath50 at @xmath0 satisfying the entropy condition ( e1 ) .",
    "assume @xmath88 and consider an initial condition @xmath49 satisfying @xmath106 for every @xmath10 . if @xmath107 , then , by proposition  [ prop : n_ne_m ] , there exists @xmath108 such that @xmath109 , which is a contradiction since the wave @xmath110 has not negative speed .",
    "assume now @xmath90 and consider an initial condition @xmath49 satisfying @xmath111 for every @xmath13 . by proposition",
    "[ prop : n_ne_m ] , if @xmath107 , then there exists @xmath112 such that @xmath113 , which is a contradiction since the wave @xmath114 has not positive speed .",
    "in this section we determine which riemann solver satisfies the entropy condition ( e1 ) , in the sense of definition  [ def : entropy_rs_e1 ] , for nodes with @xmath115 . in the case @xmath3",
    ", theorem  [ thm : n_ne_m ] implies that every riemann solver does not satisfy ( e1 ) .",
    "moreover if @xmath116 , then there exists exactly one riemann solver at @xmath0 satisfying ( e1 ) , while if @xmath117 , then there exist infinitely many riemann solvers satisfying ( e1 ) ; see sections  [ sse : n = m=1 ] and  [ sse : n = m=2 ] .",
    "we do not treat the case @xmath118 , for the huge number of different situations .      in this subsection",
    ", we fix a node @xmath0 with one incoming and one outgoing arc .",
    "the following result holds .",
    "[ prop:1x1 ] a riemann solver @xmath50 at @xmath0 satisfies the entropy condition ( e1 ) if and only if , for every initial datum @xmath120 , the image @xmath121 satisfies either @xmath122 or @xmath123    consider first a riemann solver @xmath50 satisfying the entropy condition ( e1 ) . by  [ enum:1_def_rs ] of definition  [ def : riemann_solver ] , it is clear that @xmath124 .",
    "assume by contradiction that @xmath125 .",
    "since @xmath124 , we easily deduce that @xmath126 .",
    "putting @xmath127 in equation  ( [ eq : entropy_rs_e1 ] ) we derive @xmath128 which is , by assumptions , equivalent to @xmath129 , and so we get a contradiction .",
    "consider now a riemann solver @xmath50 such that , for every initial datum @xmath120 , the image @xmath121 satisfies either  ( [ eq : cond1_e1 ] ) or  ( [ eq : cond2_e1 ] ) .",
    "it is trivial to prove that ( e1 ) holds .",
    "there exists a unique riemann solver @xmath50 at @xmath0 satisfying the entropy condition ( e1 ) .",
    "this riemann solver satisfies the consistency condition and coincides with the riemann solver introduced in  @xcite for traffic or with the riemann solver introduced in  @xcite .",
    "fix an initial datum @xmath120 .",
    "we show that there exists a unique @xmath130 , which is the image of an entropy admissible riemann solver .    if @xmath131 , then we claim that @xmath132",
    ". assume by contradiction that @xmath133 .",
    "in this case either @xmath134 or @xmath126 . by proposition  [ prop:1x1 ] ,",
    "the only possibility is @xmath134 . by proposition  [ prop : stati_ammissibili ] , either @xmath135 or @xmath136 . in the first case @xmath137 , while in the second one @xmath138 .",
    "it is not possible .",
    "assume now that @xmath139 .",
    "we have some different possibilities .",
    "1 .   @xmath140 . by proposition  [ prop : stati_ammissibili ] , we deduce that @xmath141 $ ] .",
    "moreover , by proposition  [ prop:1x1 ] , we deduce that @xmath135 ; hence @xmath142 .",
    "this solution respects all the properties of definition  [ def : riemann_solver ] and the entropy condition  ( [ eq : entropy_rs_e1 ] ) .",
    "2 .   @xmath143 . by proposition  [ prop : stati_ammissibili ]",
    ", we deduce that @xmath144 $ ] .",
    "moreover , by proposition  [ prop:1x1 ] , we deduce that @xmath136 ; hence @xmath145 .",
    "this solution respects all the properties of definition  [ def : riemann_solver ] and the entropy condition  ( [ eq : entropy_rs_e1 ] ) .",
    "3 .   @xmath146 . by proposition  [ prop : stati_ammissibili ]",
    ", we deduce that @xmath135 or @xmath147 and that @xmath136 or @xmath148 .",
    "+ if @xmath149 , then , by proposition  [ prop:1x1 ] , the only possibility is that @xmath135 and @xmath136 . + if @xmath150 , then , by proposition  [ prop:1x1 ] , the only possibility is that @xmath151 .",
    "+ finally , if @xmath152 , then , by proposition  [ prop:1x1 ] , the only possibility is that @xmath132 .",
    "+ in all the cases , the solution respects all the properties of definition  [ def : riemann_solver ] and the entropy condition  ( [ eq : entropy_rs_e1 ] ) .",
    "4 .   @xmath153 . by proposition  [ prop : stati_ammissibili ]",
    ", we deduce that @xmath154 and @xmath155 . by proposition",
    "[ prop:1x1 ] , the only possibility is that @xmath156 .",
    "the solution respects all the properties of definition  [ def : riemann_solver ] and the entropy condition  ( [ eq : entropy_rs_e1 ] ) .",
    "the proof is completed .    in  @xcite",
    ", the authors described all the riemann solvers , with suitable properties , for nodes @xmath0 with @xmath116 .",
    "the unique riemann solver @xmath50 satisfying ( e1 ) corresponds to the riemann solver generated by the set @xmath157 and described in section  3.1 of  @xcite .",
    "[ rmk : f1f2 ] one can try to generalize the entropy condition ( e1 ) , at least for nodes with @xmath116 , to the case of fluxes depending on the arcs . unfortunately this is not a trivial problem .",
    "consider indeed the following example .",
    "let @xmath158 \\to { \\mathbb r}$ ] , @xmath159 \\to { \\mathbb r}$ ] be two fluxes satisfying @xmath160 and assume that :    1 .",
    "@xmath161 is the flux in the arc @xmath162 ; 2 .",
    "@xmath163 is the flux in the arc @xmath164 ; 3 .",
    "@xmath165 is the point of maximum for both @xmath161 and @xmath163 ; 4 .",
    "@xmath166 for every @xmath1670,1[$ ] .",
    "choose @xmath168 such that @xmath169 and take @xmath170 $ ] ; see figure  [ fig : remark_f1f2 ] . then , the entropy condition   becomes @xmath171 which is equivalent to @xmath172 .",
    "the last inequality does not hold for @xmath173 and for all @xmath170 $ ] near to @xmath174 .",
    ".,width=226 ]      consider a riemann solver @xmath50 for a node @xmath0 with two incoming and two outgoing arcs . in this subsection , we assume that @xmath175 denotes an equilibrium for @xmath50 . recall that the equilibrium must satisfy @xmath176 . by symmetry",
    ", we may assume also that    ( h1 ) : :    @xmath177 and    @xmath178 .",
    "the results of this subsection are summarized in table  [ tab : equilibrium ] .",
    "[ prop:0bad ] assume ( h1 ) and that every @xmath179 ( @xmath180 ) is a good datum .    1 .",
    "if @xmath50 satisfies the entropy condition ( e1 ) , then @xmath181 .",
    "2 .   if @xmath181 , then @xmath182 , for every @xmath56 $ ] .    since all the data are good , then @xmath183 .",
    "if @xmath184 $ ] , then the entropy condition ( e1 ) becomes @xmath185 which is equivalent to @xmath186 .",
    "this implies that @xmath187 and so @xmath188 .",
    "if @xmath189 $ ] , then in the same way we deduce that @xmath190 .    finally , if @xmath191 $ ] , then ( [ eq : entropy_rs_e1 ] ) , coupled with the previous results , becomes @xmath192 which is equivalent to @xmath193",
    ". therefore @xmath194 and the conclusion follows .",
    "[ prop:1bad ] assume ( h1 ) and that the equilibrium @xmath175 for @xmath50 is composed by three good data and one bad datum .    1 .",
    "assume that the bad datum is in an incoming arc , say @xmath195 .",
    "+ if @xmath50 satisfies ( e1 ) , then @xmath196 and both @xmath197 and @xmath198 belong to @xmath199 $ ] .",
    "+ if @xmath196 and both @xmath197 and @xmath198 belong to @xmath199 $ ] , then @xmath200 for every @xmath56 $ ] .",
    "2 .   assume that the bad datum is in an outgoing arc , say @xmath201 .",
    "+ if @xmath50 satisfies ( e1 ) , then @xmath202 and both @xmath203 and @xmath204 belong to @xmath205 $ ] .",
    "+ if @xmath202 and both @xmath203 and @xmath204 belong to @xmath205 $ ] , then @xmath200 for every @xmath206 $ ] .",
    "first assume that the bad datum is in an incoming arc and the riemann solver satisfies the entropy condition ( e1 ) .",
    "without loss of generality , suppose that @xmath207 , @xmath208 and @xmath209 .",
    "we have three possibilities .",
    "( a ) : :    @xmath210 .",
    "( b ) : :    @xmath211 .",
    "( c ) : :    @xmath212 .    consider the case * ( a)*. if @xmath213 $ ] , then the entropy condition ( e1 ) becomes @xmath214 equivalent to @xmath215 , which is true .",
    "+ if @xmath216 $ ] , then the entropy condition ( e1 ) becomes @xmath217 equivalent to @xmath218 , which implies that @xmath196 .",
    "+ if @xmath184 $ ] , then the entropy condition ( e1 ) reads @xmath219 equivalent to @xmath220 , which is true .",
    "consider the case * ( b)*. if @xmath221 $ ] , then the entropy condition ( e1 ) reads @xmath222 equivalent to @xmath223 .",
    "this implies that @xmath224 and so we are in the case * ( a)*.    consider the case * ( c)*. if @xmath184 $ ] , then the entropy condition ( e1 ) becomes @xmath222 equivalent to @xmath223 .",
    "this implies that @xmath188 .",
    "+ if @xmath191 $ ] , then the entropy condition ( e1 ) reads @xmath225 i.e. @xmath226 .",
    "this implies that @xmath227 and so we have a contradiction since , by case * ( a ) * , @xmath228 and so @xmath229 .    the second statement in the case the bad datum is in an incoming arc easily follows .",
    "assume now that the bad datum is in an outgoing arc and that the riemann solver satisfies the entropy condition ( e1 ) .",
    "without loss of generality , suppose that @xmath230 , @xmath231 and @xmath232 .",
    "we have three possibilities .",
    "( a ) : :    @xmath233 .",
    "( b ) : :    @xmath234 .",
    "( c ) : :    @xmath235 .",
    "consider the case * ( a)*. if @xmath221 $ ] , then the entropy condition ( e1 ) becomes @xmath222 i.e. @xmath236 .",
    "this implies that @xmath202 .",
    "+ if @xmath237 $ ] , then ( [ eq : entropy_rs_e1 ] ) becomes @xmath238 equivalent to @xmath239 , which is true .",
    "+ if @xmath189 $ ] , then ( [ eq : entropy_rs_e1 ] ) becomes @xmath219 equivalent to @xmath240 , which is true .",
    "consider the case * ( b)*. if @xmath241 $ ] , then the entropy condition ( e1 ) reads @xmath242 which is equivalent to @xmath243 .",
    "thus we deduce that @xmath244 and so we are in the case * ( a)*.    consider the case * ( c)*. if @xmath245 $ ] , then the entropy condition ( e1 ) reads @xmath246 equivalent to @xmath218 .",
    "this implies that @xmath190 .",
    "+ if @xmath247 $ ] , then ( [ eq : entropy_rs_e1 ] ) reads @xmath222 i.e. @xmath223 and so @xmath248 .",
    "therefore @xmath181 , which is a contradiction .    the second statement of the item  2 of the proposition easily follows .",
    "the proof is finished .",
    "[ prop:2bad ] assume ( h1 ) and that the equilibrium @xmath175 for @xmath50 is composed by two good and two bad data .    1 .",
    "assume that @xmath249 , i.e. the bad data are both in the incoming arcs .",
    "+ if the riemann solver @xmath50 satisfies the entropy condition ( e1 ) , then @xmath250 .",
    "+ if @xmath251 , then @xmath200 for every @xmath56 $ ] .",
    "2 .   assume that @xmath252 , i.e. the bad data are in the outgoing arcs .",
    "+ if the riemann solver @xmath50 satisfies the entropy condition ( e1 ) , then @xmath253 .",
    "+ if @xmath254 , then @xmath200 for every @xmath56 $ ] .",
    "3 .   assume that @xmath255 , i.e. the bad data are in the arcs @xmath162 and @xmath256 .",
    "+ if the riemann solver @xmath50 satisfies the entropy condition ( e1 ) , then @xmath257 .",
    "+ if @xmath257 , then @xmath200 for every @xmath56 $ ] .",
    "assume that @xmath249 and that the riemann solver satisfies the entropy condition ( e1 ) .",
    "since there are exactly two bad data , then @xmath258 .",
    "the conservation of mass at @xmath0 implies that we have the following possibilities .",
    "( a ) : :    @xmath250 .",
    "( b ) : :    @xmath253 .",
    "consider the case * ( a)*. if @xmath213 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 , which is true .",
    "+ if @xmath184 $ ] , then  ( [ eq : entropy_rs_e1 ] ) becomes @xmath219 which clearly holds .",
    "+ if @xmath216 $ ] , then the entropy condition ( e1 ) reads @xmath217 equivalent to @xmath218 , which is true .",
    "consider the case * ( b)*. if @xmath259 $ ] , then the entropy condition ( e1 ) reads @xmath222 equivalent to @xmath223 .",
    "this implies that @xmath260 and consequently @xmath244 .",
    "the second statement of the item  1 of the proposition easily follows .",
    "assume now that @xmath252 and the riemann solver satisfies the entropy condition ( e1 ) .",
    "consequently @xmath261 .",
    "since @xmath176 , we have the following possibilities .",
    "( a ) : :    @xmath253 .",
    "( b ) : :    @xmath250 .",
    "consider the case * ( a)*. if @xmath259 $ ] , then the entropy condition ( e1 ) reads @xmath222 equivalent to @xmath223 , which is true .",
    "+ if @xmath189 $ ] , then the entropy condition ( e1 ) reads @xmath219 which clearly holds .",
    "+ if @xmath262 $ ] , then  ( [ eq : entropy_rs_e1 ] ) reads @xmath238 equivalent to @xmath263 , which is true .    consider the case * ( b)*. if @xmath213 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 .",
    "this implies @xmath260 and so @xmath244 .",
    "the second statement of the item  2 of the proposition easily follows .",
    "assume now @xmath255 , i.e. the bad data are in the arcs @xmath162 and @xmath256 , and that the riemann solver satisfies the entropy condition ( e1 ) .",
    "we have the following possibilities .",
    "( a ) : :    @xmath257 .",
    "( b ) : :    @xmath264 .",
    "consider the case * ( a)*. if @xmath213 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 , which is true .",
    "+ if @xmath265 $ ] , then ( [ eq : entropy_rs_e1 ] ) becomes @xmath219 equivalent to @xmath266 , which is true . +",
    "if @xmath262 $ ] , then the entropy condition ( e1 ) becomes @xmath238 equivalent to @xmath263 , which is true .",
    "consider the case * ( b)*. if @xmath259 $ ] , then the entropy condition ( e1 ) reads @xmath222 equivalent to @xmath223 .",
    "this implies @xmath260 and so @xmath244 .",
    "the second statement of the item  3 of the proposition easily follows .    the proof is finished .",
    "[ prop:3bad ] assume ( h1 ) and that the equilibrium @xmath175 for @xmath50 is composed by three bad data and one good datum .    1 .",
    "assume that @xmath208 , i.e. the good datum is in an incoming arc .",
    "+ if the riemann solver satisfies the entropy condition ( e1 ) , then @xmath207 , @xmath252 , @xmath267 and @xmath268 .",
    "+ if @xmath207 , @xmath252 , @xmath267 and @xmath268 , then @xmath200 for every @xmath56 $ ] .",
    "2 .   assume that @xmath269 , i.e. the good datum is in an outgoing arc .",
    "+ if the riemann solver satisfies the entropy condition ( e1 ) , then @xmath249 , @xmath270 , @xmath271 and @xmath272 .",
    "if @xmath249 , @xmath270 , @xmath271 and @xmath272 , then @xmath200 for every @xmath56 $ ] .    assume first that @xmath208 and that the riemann solver satisfies the entropy condition ( e1 ) .",
    "we easily deduce that @xmath273 .",
    "we have the following possibilities .",
    "( a ) : :    @xmath274 .",
    "( b ) : :    @xmath275 .",
    "( c ) : :    @xmath276 .",
    "consider the case * ( a)*. if @xmath189 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 .",
    "this implies that @xmath277 .",
    "+ if @xmath278 $ ] , then  ( [ eq : entropy_rs_e1 ] ) becomes @xmath279 equivalent to @xmath280 , which is true .",
    "+ if @xmath184 $ ] , then the entropy condition ( e1 ) reads @xmath238 equivalent to @xmath263 , which is true .",
    "consider the case * ( b)*. if @xmath213 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 .",
    "this implies that @xmath266 .",
    "+ if @xmath265 $ ] , then  ( [ eq : entropy_rs_e1 ] ) becomes @xmath219 equivalent to @xmath266 .",
    "+ if @xmath262 $ ] , then the entropy condition ( e1 ) reads @xmath238 equivalent to @xmath263 , which is true .",
    "consider the case * ( c)*. if @xmath216 $ ] , then the entropy condition ( e1 ) reads @xmath217 equivalent to @xmath218 .",
    "this implies that @xmath244 and so we are in the case * ( b)*. the second statement in the item  1 of the proposition easily follows .    assume now that @xmath269 and that the riemann solver satisfies the entropy condition ( e1 ) .",
    "we easily deduce that @xmath281 .",
    "we have the following possibilities .",
    "( a ) : :    @xmath282 .",
    "( b ) : :    @xmath283 .",
    "( c ) : :    @xmath284 .",
    "consider the case * ( a)*. if @xmath189 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 , which is true .",
    "+ if @xmath278 $ ] , then  ( [ eq : entropy_rs_e1 ] ) becomes @xmath279 equivalent to @xmath285 , which is true .",
    "+ if @xmath184 $ ] , then the entropy condition ( e1 ) reads @xmath238 equivalent to @xmath263 .",
    "this implies that @xmath286 .",
    "consider the case * ( b)*. if @xmath213 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 , which is true .",
    "+ if @xmath265 $ ] , then  ( [ eq : entropy_rs_e1 ] ) becomes @xmath219 equivalent to @xmath266 , which is true .",
    "+ if @xmath262 $ ] , then the entropy condition ( e1 ) reads @xmath238 equivalent to @xmath263 .",
    "this implies that @xmath287 .",
    "consider the case * ( c)*. if @xmath259 $ ] , then the entropy condition ( e1 ) reads @xmath222 equivalent to @xmath223 .",
    "this implies that @xmath260 and so we are in the case * ( b)*. the second statement in the item  2 of the proposition easily follows .    the proof is finished .",
    "[ prop:4bad ] assume ( h1 ) and that the equilibrium @xmath175 for @xmath50 is composed by four bad data . if the riemann solver satisfies the entropy condition ( e1 ) , then @xmath288 .",
    "moreover , if @xmath288 , then @xmath200 for every @xmath56 $ ] .",
    "it is sufficient to check the entropy condition ( e1 ) .",
    "if @xmath189 $ ] , then the entropy condition ( e1 ) reads @xmath214 equivalent to @xmath215 , which is true .",
    "+ if @xmath278 $ ] , then  ( [ eq : entropy_rs_e1 ] ) becomes @xmath279 equivalent to @xmath280 , which is true .",
    "if @xmath184 $ ] , then the entropy condition ( e1 ) reads @xmath238 equivalent to @xmath263 , which is true .",
    "this concludes the proof .",
    ".all the possible configurations for an equilibrium @xmath289 of a @xmath50 satisfying the entropy condition ( e1 ) . by symmetry ,",
    "we assume that @xmath177 and @xmath178 , i.e. ( h1 ) holds .",
    "[ cols=\"^,<\",options=\"header \" , ]     [ rmk : rs_e1 ] note that there exist riemann solvers satisfying the consistency condition and the entropy condition ( e1 ) . here",
    "we construct a riemann solver @xmath50 with such properties .",
    "+ consider an initial condition @xmath290 .",
    "denote with @xmath291 the image of the initial condition through @xmath50 , i.e. @xmath292 if @xmath293 is the number of bad initial data , then we define @xmath50 according to the following possibilities .",
    ": :    we put    @xmath295 .    by proposition  [ prop:0bad ] , this provides an entropy admissible    equilibrium . moreover    @xmath296 @xmath297 . : :    let @xmath298 be such that    @xmath299 is a bad datum .",
    "we have two    possibilities : @xmath300 or    @xmath301 .",
    "+    assume first @xmath302 .",
    "we put    @xmath303 and    @xmath304 for @xmath305 ,    @xmath306 .",
    "moreover we define    @xmath307 and    @xmath308 .",
    "+    assume now @xmath309 .",
    "we put    @xmath303 and    @xmath304 for @xmath310 ,    @xmath306 .",
    "moreover we define    @xmath311 and    @xmath312 .",
    "+    by proposition  [ prop:1bad ] , these solutions provide entropy admissible    equilibria . moreover    @xmath296 @xmath313 .",
    ": :    let @xmath314 , @xmath315 ,    be such that @xmath316 and @xmath317    are bad data .",
    "we have three different possibilities .",
    "+    assume first that @xmath318 .",
    "in this case we    put @xmath319 ,    @xmath320 ,    @xmath307 and    @xmath308 .",
    "+    assume now that @xmath321 .",
    "in this case we put    @xmath319 ,    @xmath320 ,    @xmath311 and    @xmath312 .",
    "+    consider finally the last case .",
    "for simplicity suppose that    @xmath322 and @xmath323 .",
    "we define    @xmath319 ,    @xmath320 ,    @xmath324 and    @xmath325 . by    proposition  [ prop:2bad ] ,",
    "these solutions provide entropy admissible    equilibria . moreover    @xmath296 @xmath326 .",
    ": :    let @xmath298 be such that    @xmath299 is a good datum .",
    "we have two    possibilities : @xmath300 or    @xmath301 .",
    "+    assume first @xmath300 ; say @xmath327    for simplicity . +    if @xmath328 $ ] , then we put    @xmath329 for every    @xmath330 , @xmath306 and    @xmath331 $ ] such that    @xmath332 . +    if    @xmath333    and @xmath334 , then    @xmath335 and    @xmath336 . +    if    @xmath333    and @xmath337 , then    @xmath338 and    @xmath339 . +    if @xmath340 , then    @xmath341 and    @xmath342 .",
    "+    assume now @xmath301 ; say @xmath343    for simplicity .",
    "+    if @xmath344 $ ] , then we put    @xmath329 for every    @xmath330 , @xmath306 and    @xmath345 $ ] such that    @xmath346 . +    if    @xmath347    and @xmath348 , then    @xmath349 and    @xmath350 . +    if    @xmath347    and @xmath351 , then    @xmath336 and    @xmath335 . +    if @xmath352 , then    @xmath353 and    @xmath335 .",
    "+    by propositions  [ prop:2bad ] and  [ prop:3bad ] , these solutions provide    entropy admissible equilibria",
    ". moreover    @xmath296 @xmath354 .",
    ": :    we have some different cases .",
    "assume first that    @xmath355 .",
    "we put    @xmath356 ,    @xmath357 ,    @xmath358 and    @xmath359 .",
    "+    assume now that @xmath360 .",
    "for simplicity suppose that    @xmath361 and    @xmath334 . +    if @xmath362 , then we put    @xmath363 and    @xmath364 . +    if @xmath365 , then we put    @xmath356 ,    @xmath357 ,    @xmath359 and    @xmath366 $ ] such that    @xmath367 .",
    "+    assume finally that @xmath368 .",
    "for simplicity suppose that    @xmath361 and    @xmath334 . +    if @xmath369 , then we put    @xmath370 and    @xmath371 . +    if @xmath372 , then we put    @xmath356 ,    @xmath358 ,    @xmath359 and    @xmath373 $ ] such that    @xmath374 .    +    by propositions  [ prop:2bad ] , [ prop:3bad ] and  [ prop:4bad ] , these    solutions provide entropy admissible equilibria .",
    "moreover    @xmath296    another example of riemann solver satisfying the entropy condition ( e1 ) for a node with two incoming and two outgoing arcs is a particular case of the riemann solver @xmath5 , defined in section  [ ssec : rs2 ] ; see proposition  [ prop : rs2_e1 ] .",
    "the riemann solver @xmath50 , constructed in remark  [ rmk : rs_e1 ] , differs from the riemann solver @xmath5 .",
    "the key difference is that a permutation of initial data in incoming ( resp .",
    "outgoing ) arcs influences the solution in outgoing ( resp .",
    "incoming ) arcs in the case of @xmath50 , but not in the case of @xmath5 .",
    "+ consider the following example .",
    "let @xmath375 be the flux .",
    "assume that @xmath376 and @xmath377 are two initial conditions .",
    "in both cases , we have only one bad datum and so , using the notation of remark  [ rmk : rs_e1 ] , @xmath378 . hence we deduce @xmath379 and @xmath380 while @xmath381 see section  [ ssec : rs2 ] .",
    "this section deals with some examples of riemann solvers , introduced in literature for describing car and data traffic . for each of them",
    ", we analyze the entropy conditions ( e1 ) and ( e2 ) .",
    "first we need some notation .",
    "let @xmath383 be the canonical basis of @xmath384 .",
    "for every @xmath385 , we denote @xmath386 . if @xmath387 , then we write , for every @xmath388 , @xmath389 and @xmath390 .",
    "let @xmath391 be the set of indices @xmath392 , @xmath393 , such that @xmath394 and for every @xmath395 define @xmath396 writing @xmath397 and following @xcite we define the set @xmath398 notice that , if @xmath399 , then @xmath400 .",
    "the matrices of @xmath401 will give rise of a unique solution to the riemann problem at @xmath0 .          1 .",
    "fix a matrix @xmath404 and consider the closed , convex and not empty set @xmath405 2 .",
    "find the point @xmath406 which maximizes the function @xmath407 and define @xmath408 . since @xmath409 , then @xmath410 is unique .",
    "3 .   for every @xmath10 ,",
    "define @xmath411 either by @xmath412 if @xmath413 , or by the solution to @xmath414 such that @xmath415 . for every @xmath13 ,",
    "define @xmath416 either by @xmath417 if @xmath418 , or by the solution to @xmath419 such that @xmath420 . finally , define @xmath421^{n+m}\\to[0,1]^{n+m}$ ] by @xmath422          [ prop : no_e2_rs1 ] the riemann solver @xmath4 does not satisfy the entropy condition ( e2 ) in the sense of definition  [ def : entropy_rs_e2 ] and , consequently , does not satisfy the entropy condition ( e1 ) in the sense of definition  [ def : entropy_rs_e1 ] .",
    "consider a node with @xmath423 incoming and @xmath423 outgoing arcs , the flux function @xmath424 , a matrix @xmath425 and the initial conditions @xmath426 , @xmath427 , @xmath428 and @xmath429 . in this case",
    "the set @xmath430 in  ( [ eq : omega ] ) is @xmath431\\times\\left[0,\\frac7{16}\\right ] :        0\\le\\frac{\\gamma_1}3+\\frac{\\gamma_2}2\\le\\frac{15}{32},\\ ,        0\\le\\frac{2\\gamma_1}3+\\frac{\\gamma_2}2\\le1\\right\\}\\,;\\ ] ] see figure  [ fig : omega_rs1_no_e2 ] .",
    "therefore we deduce that @xmath432 , @xmath433 , @xmath434 , @xmath435 , @xmath436 , @xmath437 , @xmath438 and @xmath439 . the entropy condition  ( [ eq : entropy_rs_e2 ] ) in this case becomes @xmath440 which is equivalent to @xmath441 this concludes the proof .",
    "the maximization of the function @xmath442 over @xmath430 , which defines the riemann solver @xmath4 , is , however , in connection with the maximization of the entropy @xmath443 . in order to explain this fact ,",
    "let us introduce some notations .",
    "+ given @xmath430 in , define @xmath444 and the functional @xmath445 which is the restriction of @xmath443 on @xmath446 .",
    "note that the set @xmath447 consists in all the possible solutions at @xmath0 satisfying definition  [ def : riemann_solver ] and the distribution rule , determined by the matrix @xmath404 .",
    "it is easy to see that there exists a one to one correspondence between @xmath430 and @xmath447 .",
    "+ for every @xmath448 of cardinality @xmath293 , with @xmath449 , define @xmath450 and @xmath451 notice that @xmath452 and @xmath453 depend on the initial condition @xmath454 and on the matrix @xmath404 .",
    "there is a one to one correspondence between @xmath452 and @xmath453 , given by the one - to - one function @xmath455 moreover , if @xmath456 , then @xmath452 has , at most , topological dimension @xmath457 . + the following proposition holds .",
    "[ prop : entropy_restricted ] let @xmath448 be a set of cardinality @xmath293 , with @xmath449 and suppose that @xmath458 .",
    "the functional @xmath459 , restricted to @xmath453 , is given by @xmath460      + \\sum_{l\\in\\mathcal h}\\left[f(\\sigma)-f(\\rho_l)\\right].\\ ] ]      1 .",
    "@xmath462 and @xmath463 . in this case",
    "the term @xmath464 becomes @xmath465 .",
    "2 .   @xmath462 and @xmath466 . in this case",
    "the term @xmath464 becomes @xmath467 .",
    "3 .   @xmath468 and @xmath463 . in this case",
    "the term @xmath469 becomes @xmath465 .",
    "4 .   @xmath468 and @xmath466 . in this case",
    "the term @xmath469 becomes @xmath467 .",
    "let @xmath448 be a set of cardinality @xmath293 , with @xmath449 and suppose that @xmath458 .",
    "the problem of maximizing @xmath459 on the set @xmath453 is equivalent to the problem of maximizing the function @xmath442 , defined in  ( [ eq : e ] ) , on the set @xmath452 .",
    "notice that , by proposition  [ prop : entropy_restricted ] , the function @xmath459 on the set @xmath453 coincides with @xmath470 where @xmath471 is a constant , depending on @xmath472 and on the initial conditions . indeed ,",
    "if @xmath463 , then @xmath21 is completely determined by the initial condition @xmath473 .",
    "more precisely , @xmath21 is equal to @xmath473 when @xmath473 is a bad datum , while @xmath21 is equal to @xmath474 in the other case .",
    "therefore , if @xmath475 , then we deduce that @xmath476 where @xmath477 and @xmath478 are constants . finally note that the function @xmath442 , restricted on @xmath452 , is given by @xmath479 this completes the proof .",
    "note that the set @xmath447 is , in general , disconnected , while the set @xmath430 is convex and so connected .",
    "the function @xmath459 , defined in  ( [ eq : cal_g ] ) , i.e. the entropy function restricted on @xmath446 , is continuous , since it has not jumps in each connected component of @xmath447 . since there is a bijection between the sets @xmath430 and @xmath447",
    ", then we can consider the entropy function on @xmath430 .",
    "more precisely , define the function @xmath480 satisfying @xmath481 for every @xmath482 , and consider the map @xmath483 .",
    "this map , in general , is discontinuous , since it can have jumps at every point @xmath484 with @xmath485 different subsets of @xmath486 of cardinalities less than or equal to @xmath487 .        1 .",
    "fix @xmath489 and define @xmath490 then the maximal possible through - flow at the crossing is @xmath491 2 .",
    "introduce the closed , convex and not empty sets @xmath492 3",
    ".   denote with @xmath410 the orthogonal projection on the convex set @xmath493 of the point @xmath494 and with @xmath495 the orthogonal projection on the convex set @xmath0 of the point @xmath496 .",
    "4 .   for every @xmath10 ,",
    "define @xmath411 either by @xmath412 if @xmath413 , or by the solution to @xmath414 such that @xmath415 . for every @xmath13 ,",
    "define @xmath416 either by @xmath417 if @xmath418 , or by the solution to @xmath419 such that @xmath420 .",
    "finally , define @xmath497^{n+m}\\to[0,1]^{n+m}$ ] by @xmath498          assume @xmath500 and consider a node @xmath0 with @xmath1 incoming roads and @xmath2 outgoing roads .",
    "the riemann solver @xmath5 satisfies the entropy condition ( e2 ) in the sense of definition  [ def : entropy_rs_e2 ] .",
    ": :    in this situation , we deduce that @xmath503    for every @xmath482 .",
    "thus the entropy reads    @xmath504 for every    @xmath505 , the term    @xmath506    can be minorized by @xmath507 and so    @xmath508 @xmath509 .",
    ": :    in this situation , we deduce that @xmath510    for every @xmath505 .",
    "thus the entropy    reads    @xmath511 for    every @xmath482 , the term    @xmath512    can be minorized by @xmath513 and so    @xmath514          consider a node with @xmath423 incoming and @xmath423 outgoing arcs , the flux function @xmath424 , @xmath516 and the equilibrium configuration @xmath517 . in this case equation  ( [ eq : entropy_rs_e1 ] )",
    "becomes @xmath518 for every @xmath56 $ ] . if @xmath519 , then the previous inequality becomes @xmath520 which is clearly false .",
    "[ prop : rs2_e1 ] fix a node @xmath0 with two incoming and two outgoing arcs .",
    "if @xmath521 , then the riemann solver @xmath5 satisfies the entropy condition ( e1 ) , in the sense of definition  [ def : entropy_rs_e1 ] .",
    ": :    in this case we deduce that    @xmath524    and so the entropy condition ( e1 ) is satisfied . @xmath525 .",
    ": :    consider only the case @xmath526 , since the    other case @xmath527 is completely symmetric .",
    "thus the bad datum is in an incoming arc and so we may assume that    @xmath207 , @xmath208    and @xmath209 . since    @xmath521 ,    then @xmath196 and    @xmath528 .",
    "moreover , the fact    that    @xmath176    implies that    @xmath529    by item  1 of proposition  [ prop:1bad ] , the entropy condition ( e1 )    holds . @xmath530 . : :    consider only the case @xmath526 , since the    other case @xmath527 is completely symmetric .",
    "we have two possibilities : either the bad data are in the incoming    arcs or one bad datum is in an incoming arc and the other bad datum is    in an outgoing arc .",
    "+    assume first that the bad data are in the incoming arcs .",
    "without loss    of generality we may assume that    @xmath531 and    @xmath209 .",
    "since    @xmath521 ,    then @xmath188 and so , the fact that    @xmath176    implies that    @xmath532    by item  1 of proposition  [ prop:2bad ] , the entropy condition ( e1 ) is    satisfied .",
    "+    assume now that one bad datum is in an incoming arc and the other bad    datum is in an outgoing arc .",
    "without loss of generality we may assume    that @xmath255 and    @xmath533 .",
    "since    @xmath526 , then we deduce that    @xmath196 .",
    "moreover    @xmath521    implies that @xmath286 and    so @xmath534 , since    @xmath176 .",
    "therefore    @xmath535 by item  3 of    proposition  [ prop:2bad ] , the entropy condition ( e1 ) is satisfied . @xmath536 .",
    ": :    consider only the case @xmath526 , since the    other case @xmath527 is completely symmetric .",
    "we have two possibilities : the good datum is in an incoming arc or in    an outgoing arc . assume first that the good datum is in an incoming    arc . without loss of generality , we may consider that    @xmath537 and    @xmath538 .",
    "since    @xmath526 , then    @xmath196 .",
    "moreover    @xmath176    implies that @xmath539 . by    item  1 of proposition",
    "[ prop:3bad ] , the entropy condition ( e1 ) is    satisfied .",
    "+    assume now that the good datum is in an outgoing arc .",
    "without loss of    generality , suppose that    @xmath540 ,    @xmath541 .",
    "since    @xmath521 ,    then @xmath286 and so    @xmath542 and    @xmath271 since    @xmath176 .    by item  2 of proposition  [ prop:3bad ] , the entropy condition ( e1 ) is    satisfied . @xmath543 .",
    ": :    in this case we have that    @xmath544 .",
    "without loss of    generality , suppose that    @xmath545    and we conclude by proposition  [ prop:4bad ] .        in this subsection",
    ", we consider the riemann solver , introduced in @xcite for crossing nodes .",
    "consider a node @xmath0 with @xmath1 incoming and @xmath546 outgoing arcs and fix a positive coefficient @xmath547 , which is the maximum capacity of the node .",
    "the construction can be done in the following way .    1 .",
    "fix @xmath489 . for every @xmath10 ,",
    "define @xmath548 then the maximal possible through - flow at @xmath0 is @xmath549 2 .",
    "introduce the closed , convex and not empty set @xmath550           \\colon\\sum_{i=1}^n\\gamma_i=\\min\\left\\{\\gamma,\\gamma_j\\right\\}\\right\\}.\\ ] ] 3",
    ".   denote with @xmath410 the orthogonal projection on the convex set @xmath493 of the point @xmath551 and set @xmath552 .",
    "4 .   for every @xmath10 ,",
    "define @xmath411 either by @xmath412 if @xmath413 , or by the solution to @xmath414 such that @xmath415 . for every @xmath13 ,",
    "define @xmath416 either by @xmath417 if @xmath418 , or by the solution to @xmath419 such that @xmath420 . finally , define @xmath553^{n+m}\\to[0,1]^{n+m}$ ] by @xmath554          consider a node @xmath0 with @xmath423 incoming arcs and @xmath423 outgoing ones , @xmath556 and @xmath557 .",
    "moreover , assume that @xmath558 .",
    "+ we easily see that @xmath559 is an equilibrium for @xmath6 .",
    "thus we have @xmath560    consider a node @xmath0 with @xmath423 incoming arcs and @xmath423 outgoing ones , @xmath561 and @xmath562 .",
    "moreover , assume that @xmath558 . + we easily see that @xmath563 is an equilibrium for @xmath6 .",
    "thus we have @xmath564"
  ],
  "abstract_text": [
    "<S> this paper deals with conservation laws on networks , represented by graphs . </S>",
    "<S> entropy - type conditions are considered to determine dynamics at nodes . </S>",
    "<S> since entropy dispersion is a local concept , we consider a network composed by a single node @xmath0 with @xmath1 incoming and @xmath2 outgoing arcs . </S>",
    "<S> we extend at @xmath0 the classical krukov entropy obtaining two conditions , denoted by ( e1 ) and ( e2 ) : the first requiring entropy condition for all krukov entropies , the second only for the value corresponding to sonic point . </S>",
    "<S> first we show that in case @xmath3 , no riemann solver can satisfy the strongest condition . </S>",
    "<S> then we characterize all the riemann solvers at @xmath0 satisfying the strongest condition ( e1 ) , in the case of nodes with at most two incoming and two outgoing arcs . </S>",
    "<S> finally we focus three different riemann solvers , introduced in previous papers . </S>",
    "<S> in particular , we show that the riemann solver introduced for data networks is the only one always satisfying ( e2 ) .    _ </S>",
    "<S> key words : _ scalar conservation laws , traffic flow , riemann solver , networks , entropy conditions .    _ ams subject classifications : _ 90b20 , 35l65 . </S>"
  ]
}