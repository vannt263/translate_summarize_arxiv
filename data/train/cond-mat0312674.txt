{
  "article_text": [
    "the internet and the networks it facilitates  including the web and email networks  are the largest artificial complex networks in existence , and understanding their structural and dynamic properties is important if we wish to understand social and technological networks in general .",
    "moreover , efforts to design novel dynamic protocols for communication and fault tolerance are well served by knowing these properties .",
    "one structural property of particular interest is the degree distribution at the router level of the internet .",
    "this distribution has been inferred  @xcite both by sampling _ traceroutes _ , i.e. , the paths chosen by internet routers , which approximate shortest paths in the network , and by taking `` snapshots '' of bgp ( border gateway protocol ) routing tables  @xcite .",
    "these methods have been criticized as being noisy and imperfect  @xcite . however , lakhina et al .",
    "@xcite recently argued that such methods have a more fundamental flaw . due to the fact that these methods use a small number of sources for the inference",
    ", they were able to show that only a small fraction of the edges of a graph are `` visible '' in such a sample .",
    "moreover , the set of visible edges is biased in such a way that erds - rnyi random graphs  @xcite , whose underlying distribution is poisson , will appear to have a power law degree distribution . while no one would argue that the internet is a purely random graph , this certainly calls into question the standard measurements of power law or `` scale - free '' degree distributions on the internet , and reopens the problem of characterizing internet topology .    in this paper",
    "we explain this bias phenomenon analytically . specifically , by modeling the growth of a breadth - first spanning tree with differential equations , we show that sampling shortest paths from a single source in an erds - rnyi random graph gives rise to a power law degree distribution of the form @xmath2 , up to a cutoff @xmath4 where @xmath1 is the average degree of the underlying graph .",
    "while sampling traceroutes from a single source is rather limited , barford  @xcite provides empirical evidence that , on the internet , merging shortest paths from several sources leads to only marginally improved surveys of internet topology . in the conclusions we discuss generalizing our approach to sampling from multiple sources .",
    "finally , even if the internet has a power - law degree distribution , the exponent may be rather different from the one observed in traceroute  samples . in future work",
    "we plan to extend our approach to graphs with arbitrary degree distributions , to study the relationship between the observed exponent and the underlying one .",
    "most mapping projects have inferred the internet s degree distribution by implicitly building a map of the network from the union of a large number of traceroutes  from a single source , or from a small number of sources . assuming that traceroutes  are shortest paths , sampling from a single source is equivalent to building a spanning tree .",
    "we therefore model this sampling method by modeling the growth of a spanning tree on a graph .",
    "there are several ways one might build a spanning tree .",
    "we will consider a family of methods , in which at each step , every in the graph is labeled _ reached _ , _ pending _ , or .",
    "the pending vertices are the leaves of the current tree , the reached vertices are those in its interior , and the unknown vertices are those not yet connected . to model traceroutes  from a single source , we initialize the process by labeling the source vertex pending , and all other vertices unknown .",
    "then the growth of the spanning tree is given by the following pseudocode .",
    "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ while  there are pending vertices : + choose a pending vertex @xmath5 + label @xmath5 reached + for very unknown neighbor @xmath6 of @xmath5 , + label @xmath6 pending . _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _    the type of spanning tree is determined by how we choose which pending vertex @xmath5 we will use to extend the tree . to model shortest paths , we store the pending vertices in a queue , take them in fifo ( first - in , first - out ) order , and build a breadth - first tree ; if we like we can break ties randomly between vertices of the same age in the queue , which is equivalent to adding a small noise term to the length of each edge as in  @xcite .",
    "if we store the pending vertices on a stack and take them in lifo ( last - in , first - out ) order , we build a depth - first tree .",
    "finally , we can choose from among the pending vertices uniformly at random , giving a `` random - first '' tree .",
    "surprisingly , while these three processes build different trees , and traverse them in different orders , we will see in the next section that they all yield the same degree distribution when @xmath7 is large . to illustrate this , fig .",
    "[ fig : graph ] shows empirical degree distributions of breadth - first , depth - first , and random - first spanning trees for a random graph @xmath0 where @xmath8 and @xmath9 .",
    "the three degree distributions are indistinguishable ; further , they are well - matched by the analytic results given in the next section , and obey a power law with exponent @xmath10 for degrees less than @xmath1 . for comparison , we also show the poisson degree distribution of the underlying graph .",
    "[ htbp ]     and average degree @xmath9 , and our analytic results ( the black dots ) .",
    "the agreement between the three types of trees and our analytic results is extremely good . for comparison ,",
    "the black line shows the poisson degree distribution of the underlying graph .",
    "note the power law behavior of the apparent degree distribution for @xmath11 , which extends up to a cutoff at @xmath4 . ]",
    "in this section we show analytically that building spanning trees in erds - rnyi random graphs @xmath0 , using any of the processes described above , gives rise to an apparent power law degree distribution @xmath2 for @xmath3 .",
    "we focus here on the case where the average degree @xmath1 is large , but constant with respect to @xmath7 ; we believe our results also hold if @xmath1 is a moderately growing function of @xmath7 , such as @xmath12 or @xmath13 for small @xmath14 , but it seems more difficult to make our analysis rigorous in that case",
    ".    we will model the progress of the while loop described above .",
    "let @xmath15 and @xmath16 denote the number of pending and unknown vertices at step @xmath17 respectively .",
    "the expected changes in these variables at each step are ( where @xmath18}$ ] denotes the expectation ) @xmath19 } & = & - p u(t ) \\nonumber \\\\ { { \\rm e}[s(t+1)-s(t ) ] } & = & p u(t ) - 1 \\label{eq : diff}\\end{aligned}\\ ] ] here the @xmath20 terms come from the fact that a given unknown vertex @xmath6 is connected to the chosen pending vertex @xmath5 with probability @xmath21 , in which case we change its label from unknown to pending ; the @xmath10 term comes from the fact that we also change @xmath5 s label from pending to reached .",
    "moreover , these equations apply no matter how we choose @xmath5 ; whether @xmath5 is the `` oldest '' vertex ( breadth - first ) , the `` youngest '' one ( depth - first ) , or a random one ( random - first ) . by the principle of deferred decisions , the events that @xmath5 is connected to each unknown vertex @xmath6 are independent and",
    "occur with probability @xmath21 .",
    "our experiments do indeed show that these three processes result in the same degree distribution .",
    "writing @xmath22 , @xmath23 and @xmath24 , the difference equations   become the following system of differential equations , @xmath25 with the initial conditions @xmath26 and @xmath27 , the solution to   is @xmath28 the algorithm ends at the smallest positive root @xmath29 of @xmath30 ; using lambert s function @xmath31 , defined as @xmath32 where @xmath33 , we can write @xmath34 note that @xmath29 is the fraction of vertices which are reached at the end of the process , and this is simply the size of the giant component of @xmath35 .    now , we wish to calculate the degree distribution @xmath36 of this tree .",
    "the degree of each vertex @xmath5 is the number of its previously unknown neighbors , plus one for the edge by which it became attached ( except for the root ) . now ,",
    "if @xmath5 is chosen at time @xmath37 , in the limit @xmath38 the probability it has @xmath11 unknown neighbors is given by the poisson distribution with mean @xmath39 , @xmath40 averaging over all the vertices in the tree gives @xmath41 it is helpful to change the variable of integration to @xmath42 . since @xmath43 we have @xmath44 , and @xmath45 here in the second line we use the fact that @xmath46 when @xmath1 is large ( i.e. , the giant component encompasses almost all of the graph ) .",
    "the integral in   is given by the difference between two incomplete gamma functions .",
    "however , since the integrand is peaked at @xmath47 and falls off exponentially for larger @xmath42 , for @xmath3 it coincides almost exactly with the full gamma function @xmath48 .",
    "specifically , for any @xmath49 we have @xmath50 and , if @xmath51 for @xmath52 , then @xmath53 this is @xmath54 if @xmath55 , i.e. , if @xmath56 for some @xmath57 .",
    "in that case we have @xmath58 giving a power law of exponent @xmath10 up to @xmath4 .",
    "although we omit some technical details , this derivation can be made mathematically rigorous using results of wormald  @xcite , who showed that under fairly generic conditions , the state of discrete stochastic processes like this one is well - modeled by the corresponding rescaled differential equations .",
    "specifically it can be shown that if we condition on the initial source vertex being in the giant component , then with high probability , for all @xmath37 such that @xmath59 , @xmath60 and @xmath61 .",
    "it follows that with high probability our calculations give the correct degree distribution of the spanning tree within @xmath62 .",
    "lakhina et al .",
    "@xcite , argued that sampling traceroutes  from a small number of sources profoundly underestimates the degrees of vertices far from the source , and that this effect can cause graphs to appear to have a power law degree distribution even when their underlying distribution is poisson . in this work",
    ", we modeled this sampling process as the construction of a spanning tree , and showed analytically that for sparse random graphs of large average degree , the apparent degree distribution does indeed obey a power law of the form @xmath63 for @xmath11 below the average degree .",
    "this illustrates the danger of concluding the existence of a power - law from data over too small a range of degrees , and , more specifically , the danger of sampling traceroutes  from just a few sources .",
    "while our analytic results hold for traceroutes  from a single source , we conjecture that if we use any constant number of sources and take the union of the resultant spanning trees , the observed distribution will remain subject to the same sampling bias , and one will again observe a power - law degree distribution .",
    "certainly this exponent @xmath10 is not the one observed for the internet .",
    "for instance , faloutsos , faloutsos and faloutsos  @xcite observed degree distributions @xmath64 at the router level , and @xmath65 for out - degrees at the inter - domain ( bgp ) level . while the real degree distribution of the internet may be a power law",
    ", one possibility is that the true exponent is rather different from the observed one ; this possibility was recently explored by peterman and de los rios  @xcite ( they also study another mechanism for observing apparent power laws in the degree distribution , which samples the original graph via a probabilistic pruning strategy and gives an observed exponent of @xmath66 for random graphs ) . in future work",
    "we will extend our differential equation model to random graphs with power law degree distributions to explore this possibility .",
    "although our analytic model of spanning trees illustrates one possible mechanism for apparent power - law degree distributions , another possibility is that decisions ( such as those made by the border - gateway protocol ) made by actual internet routers interact in complex ways with the the underlying link - level topology .",
    "it may well be that routers only use a small fraction of the edges in the network , and that the edges they actually use give rise to an _ effective _ degree distribution with roughly a power - law form .",
    "this possibility implies that even if the real degree distribution of the internet is something very different from a power law , it may not matter as these extra links are not utilized in normal routing decisions .",
    "another difference of unknown , but perhaps small , significance is that on the internet , routing algorithms are intended to optimize for end - to - end traffic flow , and routers in the `` interior '' of the internet such as those on the backbone are not themselves destinations or sources . unlike the empirical studies cited earlier , we selected sources uniformly at random for our spanning trees .",
    "the story of the topology of the internet is far from over and will undoubtedly remain a topic of great interest for many years to come .",
    "however , knowing decisively that current methods are fundamentally biased will serve to push the state - of - the - art forward toward more robust methods of characterization .",
    "we see the following three lines of inquiry as enticing :    first , having analytically shown that a poisson degree distributions can lead to apparent power laws , we naturally wish to generalize our approach to random graphs with arbitrary degree distributions , characterize the family of distributions which generate apparent power laws , and understand the relationship between observed and underlying exponents for power law distributions .",
    "having this generalization may allow us to make firm and useful claims about the topology of the internet .",
    "secondly , in what manner is the traceroute - sampled degree distribution of a random graph dependent on the length of the paths taken between a source and destination ? if we simulate a `` crawl '' by using random walks rather than short paths , how would the observed degree distribution change ?",
    "finally , if we use build spanning trees from @xmath42 sources and take their unions , how does the observed degree distribution vary with @xmath42 ?",
    "if we are correct that any constant @xmath42 leads to the same kind of bias , how does @xmath42 need to grow with the network to obtain an accurate sample ?",
    "the authors are grateful to david kempe , mark newman , michel morvan , paolo de los rios , mark crovella and tracy conrad for helpful conversations , and to american airlines for providing a conducive working environment .",
    "this work was funded by nsf grant phy-0200909 .",
    "cooperative association for internet data analysis ( caida ) .",
    "d. meyer , university of oregon route views project .",
    "t. kernen , traceroute organization + http://www.traceroute.org b. lyon , opte project http://www.opte.org    the border gateway protocol ( bgp ) is a distributed method by which routers which bridge two distinct networks construct forwarding tables based on the ip addresses which are `` reachable '' from the current router via `` advertised paths '' of other bgp - routers .",
    "such routers decide which packets cross to and from the network it guards , and may also serve to forward packets between networks ."
  ],
  "abstract_text": [
    "<S> the topology of the internet has typically been measured by sampling _ traceroutes _ , which are roughly shortest paths from sources to destinations . </S>",
    "<S> the resulting measurements have been used to infer that the internet s degree distribution is scale - free ; however , many of these measurements have relied on sampling traceroutes from a small number of sources . </S>",
    "<S> it was recently argued that sampling in this way can introduce a fundamental bias in the degree distribution , for instance , causing random ( erds - rnyi ) graphs to appear to have power law degree distributions . </S>",
    "<S> we explain this phenomenon analytically using differential equations to model the growth of a breadth - first tree in a random graph @xmath0 of average degree @xmath1 , and show that sampling from a single source gives an apparent power law degree distribution @xmath2 for @xmath3 . </S>"
  ]
}