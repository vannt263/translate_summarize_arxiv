{
  "article_text": [
    "uavs are becoming increasingly present in our everyday lives , their extensive use recently jumped from military to hobby and professional applications .",
    "the consumer market is growing and now it offers a wide range of micro and mini uavs at affordable costs . but this popularity induces some dangerous behavior , most people do not realize that a simple mistake can cause severe injuries to themselves or others.in the united - states , the faa has taken measures to inform hobbyists and encourage them to follow a code of conduct to prevent accidents .",
    "the only form available is the advisory circular ac 91 - 57 from june 9th 1981 , it advises pilots to keep their uavs within their line of sight , below 400 feet above ground level , further than 5 miles from an airport ( or warn them ) , and to avoid flying above people.even for the vast majority of uav users that are responsible and careful in their use , there is no automated means to fly safely in regards to the uav s environment .",
    "our work aims to provide such functionality to micro and mini uavs that are operated in urban areas .    in this paper",
    ", we propose a novel method for autonomous navigation for low - altitude uavs in urban areas . for a given mission",
    "our method computes safe waypoints , which dynamically adapt the flight plan to the uav s surroundings by avoiding objects such as cars and pedestrians .",
    "we take advantage of satellite and georegistered data to adapt the uav s mission layout by computing a weighted shortest path instead of flying in a straight line .",
    "weights in our cost function for computing the flight path are defined using land - use summarized in three classes : most dangerous areas are roads and paths where people are prone to the danger the uav represents , safest are buildings and water , and the rest is in between ( fig . [ map ] ) . for increased safety , our method also adapts dynamically to moving objects while in flight by adding new local weight to the global weight map .    in our general scenario",
    ", we assume a uav with video camera flying over a given geographical region , for which geodetically accurate reference image , gis data of buildings and road networks are available .",
    "captured videos are georegistered with the reference image in order to transfer pixel coordinates to gps coordinates . moving objects , e.g. vehicles and pedestrians ,",
    "are detected and tracked from frame to frame . given the tracks , gis and reference image , the optimal uav path is dynamically computed . for simplicity in this paper , we employ ground truth tracks available from wpafb and pvlabs datasets providing geo - registered images and ground truth for moving objects . finally , we simulate a real flight by complying with the ac 91 - 57form and using parameters of compatible hardware .",
    "many different topics are studied to enhance the usability and to develop new functions to make drones more capable and autonomous .",
    "there are several subfields which are related to this work including video geo - registration , detection and tracking of moving objects in videos , detection of roads , buildings , water bodies from satellite imagery and flight path planning .",
    "the most popular trend in uav video analysis has been moving object detection and tracking from aerial images , many approaches have been proposed with or without using gis data and geo - registration steps .",
    "@xcite use epipolar constraint and flow vector bound to detect moving objects , teutsch _ et al . _",
    "@xcite employ explicit segmentation of images , xiao _ et al . _",
    "@xcite restrain the search on the road network , and lin _ et al .",
    "_ @xcite use a motion model in geo - coordinates . moving object detection and tracking",
    "are mainly used to follow targets , for surveillance as quigley _",
    "_ @xcite and rafi _ et al . _",
    "@xcite describe with their flight path adaptation solutions , or for consumer applications at very low - altitude as in @xcite and @xcite .",
    "another area that has been getting a lot of attention is autonomous navigation .",
    "different subproblems have been studied , path planning in dynamic environment @xcite , gis - assisted and vision - based localization using either road detection @xcite , buildings layout @xcite or dem ( digital elevation map ) @xcite .",
    "various methods have been proposed for uav navigation , using optical flow with @xcite or without dem @xcite , or using inertial sensors @xcite .",
    "+ obstacle avoidance is also a big concern for automating uav operation , but research has mostly been focused on ground robots @xcite , even if there has been adaptations for uavs as israelsen _",
    "s intuitive solution for operators @xcite .",
    "the approaches for autonomously navigating uavs have been studied , but previous work focus on target following or keeping the uav s integrity . however , in this paper we propose an autonomous uav navigation method in order to increase public safety in regards to drones operation , and also to prevent uavs finding themselves in difficult situations .",
    "our contribution towards safe integration of small uavs into the airspace has two main steps .",
    "the first step , described in section a and b , takes into account the physical surroundings of the uav by computing , as part of the mission preparation , a global path between the user - given start and end locations .",
    "this path is represented as a succession of waypoints , exactly as users are accustomed to in mission planner softwares . before takeoff",
    "the user is able to validate the automated path , and he can modify the waypoints if needed .",
    "the second step , described in section c , runs in online fashion during the flight and takes into account the environment of the uav by dynamically adapting its behavior in regards to moving objects that need to be avoided .",
    "a convenient approach to gain awareness of the uav s surroundings is to use satellite imagery and the meta - data provided by https://www.google.com/maps[google maps ] , https://www.digitalglobe.com/[digitalglobe ] , https://www.planet.com/[planet labs ] or others . to jointly use geo - registered data and aerial imagery",
    "obtained from uav , there has to be a common representation and space .",
    "public tools providing satellite images are very popular and well integrated in third party uav software such as http://planner.ardupilot.com/[mission planner ] . for simplicity and compliance",
    ", the solution is then to register video images onto a geo - registered satellite image of the area of interest .",
    "uav and world coordinates systems are related with , as described in @xcite .",
    "@xmath0 with @xmath1 the world coordinates system , @xmath2 is the translation matrix derived from the vehicle s latitude , longitude and altitude , and @xmath3 , @xmath4 , @xmath5 , @xmath6 and @xmath7 are rotation matrices regarding respectively camera elevation angle , camera scan angle , vehicle pitch angle , vehicle roll angle and vehicle heading angle .",
    "+ we chose to use google maps api for it s convenience and for the quality of the data provided .",
    "this free api allows anyone to request satellite images and roadmaps displaying buildings and roads .",
    "these three links , http://maps.googleapis.com/maps/api/staticmap?center=28.600558,-81.197722&zoom=18&format=png32&sensor=false&size=640x640&scale=2&maptype=satellite&style=feature:poi|visibility:off&style=feature:road|element:labels|visibility:off&style=feature:transit|visibility:off&style=feature:landscape|element:labels|visibility:off&style=element:labels|visibility:off&style=feature:landscape|element:geometry.stroke|visibility:off&style=feature:poi|element:geometry.stroke|visibility:off[1 ] , http://maps.googleapis.com/maps/api/staticmap?center=28.600558,-81.197722&zoom=18&format=png32&sensor=false&size=640x640&scale=2&maptype=roadmap&style=visibility:off&style=feature:road|visibility:on&style=element:labels|visibility:off&style=element:geometry|color:0x000000[2 ] and http://maps.googleapis.com/maps/api/staticmap?center=28.600558,-81.197722&zoom=18&format=png32&sensor=false&size=640x640&scale=2&maptype=roadmap&style=visibility:off&style=feature:landscape|visibility:on&style=feature:landscape|element:labels|visibility:off&style=feature:water|visibility:on|color:0x000000&style=feature:landscape.natural|visibility:off[3 ] , give example commands to request satellite , road map and building images .",
    "we assume that flying above buildings represents less risk than doing so above other environmental elements such as roads or crowded streets .",
    "the resulting weight map for the wright - patterson air force base ( wpafb ) area , shown in fig . [ map ] , displays three categories :    * red is to be avoided , for roads and paths . *",
    "green is to be preferred , for buildings and water . *",
    "transparent is in between , for other land - use .    to extract the map ,",
    "only two gps locations are needed as input from the operator : top left and bottom right gps coordinates .",
    "a grid of image gps locations is then computed based on google maps camera parameters and resolution level , in other words the ground sampling distance ( gsd ) , to ensure sufficient overlap between images for stitching .",
    "we have defined the gps grid in a way that successive images have pure translations between them .",
    "we thus can stitch them together using straight forward normalized cross correlation , which is a robust and fast method given that we manipulate large images and avoid scale change and rotation .",
    "this process allows us to minimize the error while creating the geo - registered map . as a result",
    "we obtain 3 images for any given area ( fig .",
    "[ layers ] ) .",
    "given the image center gps location , @xmath8 and @xmath9 , the corresponding gps location ( @xmath10 and @xmath11 ) of all other pixels location at @xmath12 from the center , can be determined as follows : @xmath13 with @xmath8 , @xmath10 , @xmath9 , @xmath11 representing latitudes and longitudes of the start and end points , @xmath14 the mean radius of the earth , @xmath15 the pixel ratio in meters per pixel depending on the ground altitude , and on the requested image scale and resolution , @xmath16 and @xmath17 are the difference in pixels on the map between the two points",
    ".          the vast majority of uas ( unmanned aerial systems ) can be used with a ground control station ( gcs ) , for example apm : copter ( previously known as arducopter ) has its own mission planner with all the necessary tools .",
    "the conventional ways of controlling uavs are either with a manual radio controller or by using a gcs that defines successive gps waypoints ( specifying the gps location , altitude , and velocity ) to which the uav will fly autonomously . despite their efficiency and convenience , there is a crucial flaw with waypoints ; they are defined by the user and do not take into account the surroundings of the uav .",
    "this is precisely what we want to tackle with our global path computation . by using the three types of data shown in fig .",
    "[ layers ] , we define the optimal path ( example in fig . [ path ] ) between two points and thus add a safety parameter to mission planning .",
    "we find the safest route between two gps coordinates by converting them into image pixels and computing a weighted shortest path algorithm using a * algorithm .",
    "the segments lengths between two adjacent pixels are the euclidian distance multiplied by the weight defined by the map class .",
    "pixels that are in red have a weight of @xmath18 , green is at @xmath19 , and the rest is at @xmath20 .",
    "those values have been determined empirically .",
    "this process ensures that the red areas are avoided but also makes sure the uav would nt take a long detour to reach its destination , thus keeping the loss of flight time to a minimum .",
    "as the map is geo - registered , the outputted path can easily be converted into gps coordinates using and , and put in kml an txt files to be readable by mapping software and ground control stations ( fig .",
    "[ pathmp ] ) .",
    "this global weight map considers the static environment that the uav will encounter such as roads and buildings . in order to ensure a higher level of safety in all stages of the flight",
    ", we also adapt the path locally during the flight in regards to moving objects as explained in the next section .      for increased safety",
    ", the path needs to be adapted dynamically during the flight to avoid moving objects detected in the field of view of the uav s embedded camera . in order to ensure a sufficient distance margin between each object and the uav , the weight map used for shortest path",
    "is modified according to the objects location , trajectory and velocity .",
    "we compute the new weights of the map by applying at chosen locations a multivariate normal probability density function .",
    "the variance @xmath21 and @xmath22 for each distribution are dependent on the object s characteristics .",
    "the @xmath23 term is proportional to the width of the object in pixels , and @xmath24 term is proportional to the object s velocity .",
    "@xmath25 where @xmath26 is the current velocity of the object and @xmath27 the safety margin to avoid collision in seconds .",
    "the resulting distribution is normalized , rotated to align with the object s trajectory , and centered on the chosen location ( [ weightequ ] ) .",
    "the weight map is then multiplied with the distribution instead of being swapped in order to keep the global environment based information .",
    "the locations where the distribution is applied to are defined given two criteria .",
    "one is whether the object collides with the uav s path , and the other is how this collision happens . the object and uav",
    "will take respectively @xmath28 and @xmath29 seconds to the collision point , if @xmath30 ( @xmath31 is set to 5 s in our experiments ) , the distribution is applied on the collision point and also on a projected location to avoid re - planing a path that will create a similar situation . the projected location",
    "( [ t ] , [ d ] ) is estimated as follows : the time for the uav to travel to the current object s location is computed , the projected location is where the object will be at that time given constant velocity and trajectory for the object . for objects that will not collide or that do meet the requirement of @xmath32 , the distribution is applied at the next and projected locations .",
    "@xmath33   \\circ \\phi\\\\ \\label{weightequ}\\ ] ]    where @xmath34 is the weight map , @xmath35 $ ] the affine transformation applied to the multivariate normal probability density function @xmath36 to allocate costs to @xmath34 .",
    "@xmath36 is centered at the wanted location @xmath37 and oriented given the rotation matrix @xmath38 dependent on the object s trajectory and    @xmath39    is the translation component of the affine transformation , @xmath40 and @xmath40 are the image coordinates of the object , and @xmath41 and @xmath42 are respectively the distances in @xmath43 and @xmath44 to the desired location .",
    "@xmath45    with @xmath46 the distance used in [ t ] , @xmath26 and @xmath47 the current velocities of the object and uav , @xmath48 the distance between object and uav , and @xmath49 the frame - rate or computation time . +",
    "this method will ensure that the resulting path will leave sufficient ground distance between objects and the uav , and if multiple objects are close together , it will create a barrier and encourage the uav to find a safer path , thus preventing it to fly above any moving objects ( fig .",
    "[ avoid ] ) .",
    "in order to simulate a real world scenario as accurately as possible , our method uses dataset images , and typical uavs specifications and camera parameters .",
    "we made sure to comply with the latest regulations and advice regarding uav operation , and used the following flight and hardware parameters :    * altitude above ground level : @xmath50 .",
    "* velocity : @xmath51 . *",
    "camera horizontal field of view ( hfov ) : @xmath52 . * horizontal ground sampling resolution : @xmath53 .",
    "+    the principles used to build the simulation scheme are the following :    * uav videos are registered in the geo - referenced space , we can thus work in pixels coordinates , and convert back to gps anytime . *",
    "the datasets ground truth gives the moving objects location for every frame ( motion vectors in fig .",
    "[ snap ] ) .",
    "* the uav will follow the global path ( blue in fig .",
    "[ snap ] ) .",
    "* for every frame the uav s displacement in the image is dependent on it s velocity and direction . *",
    "the considered objects are only the ones visible in the field of view of the embedded camera ( exterior red dotted line around the uav in fig . [ snap ] ) . * for convenience we call collision the situation where the uav will fly over an object . * a collision is detected if the direction of an object s motion vector intersects the path in front of the uav . * a danger area",
    "is computed , and is visible as the smallest red dotted rectangle in fig .",
    "[ snap ] , for every frame depending on uav s velocity so that the uav will reach the boundary in 5 seconds at current and constant velocity .",
    "@xmath54    where @xmath55 is the number of pixels to advance along the path , @xmath56 is the velocity of the uav , @xmath57 is the framerate of the dataset , and @xmath58 represents the ground sampling distance of the geo - registered map .",
    "we use two datasets to run our safe navigation pipeline , wright - patterson air force base ( https://www.sdms.afrl.af.mil/index.php?collection=wpafb2009[wpafb ] ) @xcite and http://www.pv-labs.com/[pvlabs ] .",
    "they are wide - area motion imagery ( wami ) , and provide ground truth for moving objects on ortho - rectified images captured by uavs .",
    "both of those datasets have been captured at high altitude with embedded sensors and a matrix of multiple cameras .",
    "we use the provided regions of interest outputted by a geo - registration step , described in @xcite . for each dataset",
    "we run the different steps of the pipeline .",
    "we first create the weight map using the process described in section [ sec3a ] .",
    "videos are then precisely geo - registered onto the map via homography transformation . the global path ( fig .",
    "[ paths1 ] ) is generated before the simulated flight and adapted dynamically on the way .",
    "for both wpafb and pvlabs datasets , we defined 9 different pairs of start and end gps coordinates ( fig .",
    "[ paths1 ] ) based on the environment and busyness of the roads to create challenging situations that will require global path adaptation . and",
    "each path is executed at three different uav velocities : 5 , 8 , and 11 m / s .",
    "the total traveled distance by using the global path compared to the classic straight line path , for each dataset executed for all paths at three above velocities , is @xmath59 higher or 5:13 min longer for wapafb and @xmath60 or 32 s for pvlabs , making our safety increased path an affordable measure in term of autonomy .         to quantify the performance of the proposed method we introduce a metric assimilated to safety .",
    "we consider the uav to object proximity , the closer the uav is to an object the more danger it represents for it , we therefore compute a total cost for each dataset as in .",
    "@xmath61    with @xmath62 the global cost for the considered dataset , @xmath63 the ground distance between the uav and each object detected in the fov during the experiment , and @xmath64 a constant .",
    "note that , for the same start and end locations , when different paths are compared , the uav will not encounter the same situations .",
    "this is why , for clarity , we include , with the results in table [ tabres ] , the number of objects seen by the uav s camera throughout the simulation for each dataset .",
    ".safety estimation results for wpafb and pvlabs [ cols=\"^,^,^,^\",options=\"header \" , ]     we can clearly see in table [ tabres ] that our proposed method encounters more objects in the fov , but it has the means to keep the uav afar from them .",
    "objects which are over 20 m away are not in danger , but having a car or pedestrian closer than 5 m to the uav represents a very concerning situation in terms of safety for people .",
    "this is why we have chosen to compute the global cost with a negative exponential weight function , that way the shorter the distance , the more cost is applied to the global metric .",
    "the proposed method encounters over twice the amount of moving objects but safely keeps away from them ( fig .",
    "[ curves1 ] ) , making the resulting safety parameter much better than global path and , most of all , better than classic straight line path .",
    "in this paper we introduced an environment and safety based path planning for low altitude uav operating in urban areas .",
    "we compute a global path , for any mission given a pair of start and end gps locations , by using a weighted shortest path .",
    "the weight map is defined using ground classification data summarized in three classes : highest cost is for roads and paths because of the high probability of presence of people for which the uav represents a safety threat , safest are buildings and water , and neutral areas are the rest .",
    "additionally , we included a dynamic path planning that will modify locally the flight plan while in flight to avoid being close to moving objects such as vehicles and pedestrians .",
    "our proposed method has been tested in simulation using geo - registered data and images from two wami datasets , wpafb and pvlabs , and it showed significant improvement compared to the current and manual mission planning solution in terms of a safety metric quantifying threat in function of uav - to - object distance .",
    "our safety planning and navigation scheme can be implemented on - board a uav and will consist in the following steps : 1- before takeoff , acquire necessary gis data for the mission area , and generate mission waypoints using global weighted path planning , 2- during the flight , geo - register the embedded camera s images using a sensor model and gimbal readings , detect moving objects ( as in @xcite ) or any other type of objects to avoid , and generate new local path and waypoints to stay clear of the detected objects .",
    "the research was supported by a dga - mris scholarship .",
    "kimura et al . , `` automatic extraction of moving objects from uav - borne monocular images using multi - view geometric constraints , '' imav , 2014 .",
    "teutsch et al . , `` evaluation of object segmentation to improve moving vehicle detection in aerial videos , '' avss , 2014 .",
    "xiao et al . , `` vehicle detection and tracking in wide field - of - view aerial video , '' cvpr , 2010 .            pritt et al . , `` georegistration of multiple - camera wide area motion imagery , '' igarss , 2012 .",
    "habbecke et al .",
    ", `` automatic registration of oblique aerial images with cadastral maps , '' trends and topics in computer vision , 2010 .",
    "tchernykh , `` optical flow navigation for an outdoor uav using a wide angle mono camera and dem matching , '' ifac , 2006 .",
    "hrabar et al . ,",
    "`` combined optic - flow and stereo - based navigation of urban canyons for a uav , '' iros , 2005 .",
    "pestana et al . , `` computer vision based general object following for gps - denied multirotor unmanned vehicles , '' acc , 2014 .",
    "pestana et al . , `` vision based gps - denied object tracking and following for unmanned aerial vehicles , '' ssrr , 2013 .",
    "ess et al .",
    ", `` object detection and tracking for autonomous navigation in dynamic environments , '' international journal of robotics , 2010 .",
    "israelsen et al .",
    ", `` automatic collision avoidance for manually tele - operated unmanned aerial vehicles , '' icra , 2014 .",
    "gonzalez et al . , `` using state dominance for path planning in dynamic environments with moving obstacles , '' icra , 2012 ."
  ],
  "abstract_text": [
    "<S> in recent years , consumer unmanned aerial vehicles have become very popular , everyone can buy and fly a drone without previous experience , which raises concern in regards to regulations and public safety . in this paper , we present a novel approach towards enabling safe operation of such vehicles in urban areas . </S>",
    "<S> our method uses geodetically accurate dataset images with geographical information system ( gis ) data of road networks and buildings provided by google maps , to compute a weighted a * shortest path from start to end locations of a mission . </S>",
    "<S> weights represent the potential risk of injuries for individuals in all categories of land - use , i.e. flying over buildings is considered safer than above roads . </S>",
    "<S> we enable safe uav operation in regards to 1- land - use by computing a static global path dependent on environmental structures , and 2- avoiding flying over moving objects such as cars and pedestrians by dynamically optimizing the path locally during the flight . </S>",
    "<S> as all input sources are first geo - registered , pixels and gps coordinates are equivalent , it therefore allows us to generate an automated and user - friendly mission with gps waypoints readable by consumer drones autopilots . </S>",
    "<S> we simulated 54 missions and show significant improvement in maximizing uav s standoff distance to moving objects with a quantified safety parameter over 40 times better than the naive straight line navigation . </S>"
  ]
}