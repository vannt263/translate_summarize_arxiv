{
  "article_text": [
    "experimental areas in particle accelerator facilities are notoriously noisy places due to beamline elements like magnets , slits , pumps , power supplies , and fans as well as other assorted electronics equipment that either runs continuously or is intermittently turning on and off .",
    "all of the above may cause voltage ripples that significantly compromise photomultiplier tube ( pmt ) current pulses digitized by analog - to - digital converters ( adcs ) .",
    "the problem is compounded especially in analysis of data from segmented detectors where total energy and/or direction of each measured particle are derived from smeared adc values of several adjacent detector modules .",
    "an experimenter might try to follow the recipes for reduction of pedestal noise couplings by designing recommended magnetic shielding and applying proper electrical grounding principles  @xcite .",
    "but such efforts are in practice usually met with only limited success .    in order to minimize the electronic noise arising from `` dirty '' electrical grounds and from cross - talk between adjacent detector adc channels ,",
    "quality coaxial cables are used for connecting pmt anode outputs with inputs of fast electronics units .",
    "this arrangement though does not protect against stray magnetic fields at low frequencies that cause the so - called `` ground loops '' .    while a low frequency noise component can be removed by using isolation transformers and capacitor - coupled inputs to the adcs , that approach is not an option in high - rate environments where ac - coupled devices would produce unacceptable signal distortions and rate - dependent baseline shifts .",
    "custom electronic circuits developed to address the problem of low frequency voltage ripples are described in refs .",
    "they are designed to provide a correspondence between a simple saw - tooth waveform and an experimental ac - power cycle , digitizing that information and passing it to the data stream for an offline noise correction .",
    "another method that uses one or more `` blackened pmts '' ( bpmts ) in parallel with the detector active pmts is described and compared with active ac - noise synchronization circuits in ref .",
    "the bpmts are dummy phototubes under high voltage but with no attached detector modules , whose signals are digitized in exactly the same way as those of the active detectors",
    ". a drawback / disadvantage of the method is that for complicated experimental layouts operating in noisy environments and with multiple local grounds prevailing in the areas close to beamlines , more than a handful of the bpmts would be necessary to account properly for the correlated noise .",
    "moreover , because bpmts should be mechanically and electrically a part of a detector and should be physically close the active pmts , they could be affected by , for example , cherenkov radiation caused by relativistic minimum ionizing particles in photocathode glass windows , destroying the noise correlations .    in the analysis that follows",
    "we take advantage of the fact that our apparatus , the pibeta detector at psi , consists of individual detectors that are optically isolated from each other . therefore",
    ", one particular physics trigger will not excite more than a handful of active detectors and the role of a `` blackened pmt '' can be played by different active detector lines in different events .",
    "we call our procedure `` the second pedestal noise correction '' .",
    "the pibeta apparatus  @xcite is a large acceptance 3@xmath0sr non - magnetic detector optimized for measurements of electrons and photons in the energy range of 10100@xmath1mev .",
    "the heart of the detector is a spherical 240-module pure csi calorimeter that is supplemented with a segmented 9-piece active plastic target , a pair of conventional cylindrical mwpcs , and a cylindrical 20-counter plastic hodoscope for charged particle tracking and identification .",
    "all parts of the detector are mounted at the center of a 2.5@xmath1m@xmath25.6@xmath1 m steel platform that also carries high voltage power supplies , a detector cooling system , coiled coaxial delay cables on the one side , and fast trigger electronics on the opposite side of the platform .",
    "therefore , the pibeta detector is a compact self - contained assembly that can be moved easily from its parking place into a chosen experimental area as a single unit and made operational within a day . due to the detector s proximity to elements of the beamline",
    ", our fast electronics are exposed to a significant contaminating electronic hum .",
    "[ fig : waveform ] shows a typical baseline of an analog signal that is to be digitized in an adc device , captured on a tektronix tds 744 digital oscilloscope .",
    "a snapshot displays ground - loop noise with frequencies of @xmath350@xmath1hz and @xmath3300@xmath1hz in a 20@xmath4s interval .",
    "typical peak - to - peak noise amplitude is @xmath55@xmath1mv .",
    "pibeta pmt signal outputs are split either directly at the pmt voltage dividers or at passive custom - made analog signal splitters .",
    "one branch of a calorimeter analog signal is delayed @xmath3380@xmath1ns in coaxial cables and then split again to provide inputs for fastbus adc units and discriminators / tdcs / scalers .",
    "the other branch of the pmt signal is connected to analog summing and discriminator modules of the fast trigger electronics .",
    "the master trigger outputs are delayed and subsequently used to provide adc gates and tdc start / stop signals .",
    "metal frames of the pmt high voltage supplies on one end of the platform and the detector conductive support structure in the center are connected with 10@xmath1mm/20@xmath1 mm thick copper cables to fast trigger electronics grounding points in order to decrease the noise arising from the ground loops .",
    "voltage differences between different parts of the detector are measured with a digital voltmeter and after the grounding connections are put in place are reduced to less than 4@xmath1mv .    for digitizing fast pmt pulses",
    "we have used a lecroy adc model 1882f unit , a high - density fastbus converter with 96 current - integrating negative inputs  @xcite .",
    "the 1885f unit provided a wide dynamic range with 12-bit data for the resolution of 0.05@xmath1pc / count and less than 1@xmath1% quantization error .",
    "raw pedestals are set at about 200 - 300 channels and in our particular experimental environment had the average root - mean - square ( rms ) widths of @xmath315 - 20 channels .",
    "[ fig : baseline ] presents an analog signal of a single csi calorimeter detector on 2@xmath1mv / division and 100@xmath1ns / division scale taken in 6@xmath1sec persistence mode .",
    "clearly , with an adc gate width set to 100@xmath1ns , the adc unit will integrate variable amounts of the noise current .",
    "a 70@xmath1mev electron or photon will produce a current pulse with an amplitude of @xmath30.25@xmath1v and a @xmath330@xmath1ns fwhm width .",
    "this current pulse into 50@xmath6 will integrate to a charge of about 150@xmath1pc , placing it at 3/4 of the full scale . a common noise with an amplitude 5@xmath1mv present on the baseline will integrate in a 100@xmath1ns gate to a 10@xmath1pc charge , or almost 7% of an actual particle signal . as the energies and/or directions of measured particles are deduced from adcs of a centrally hit calorimeter module and on average",
    "two nearest neighbors hit , the resulting uncertainty in energy ( direction ) could add up to 20% .",
    "a 190@xmath220@xmath28@xmath1mm@xmath7 plastic scintillator counter ( bc-400 ) is placed horizontally above the electronics racks , about 3@xmath1 m away from the main pibeta detector . by virtue of its position",
    ", the counter is shielded from the experimental radiation area by a 5@xmath1 cm thick lead brick wall as well as by a 50@xmath1 cm wide concrete wall .",
    "operating with a high discriminator threshold it is counting only random cosmic muons at about 1 - 2@xmath1hz frequency , having a stable counting rate for both beam - on and beam - off periods .",
    "the discriminated signals from that scintillator counter define our random trigger .",
    "the main pibeta detector trigger is defined dynamically in a programmable logic unit . in practice ,",
    "the master trigger is a logic or of up to 12 individual triggers .",
    "high rate physics triggers in the mix are prescaled , with prescaling factors depending on the trigger type and the beam stopping rate .",
    "the random trigger is connected to the trigger mix logic unit and in production runs it is always included among the enabled triggers .",
    "a single production run is limited to 200,000 events , yielding typically @xmath310@xmath8 random triggers per run interspersed among the physics triggers .",
    "we note parenthetically that in an off - line analysis adc values for all detectors in random events are written out to a text file .",
    "these data sets are used in a geant  @xcite detector simulation , enabling us to account rigorously for residual adc noise and accidental event pile - ups in the energy spectra .",
    "in a pre - production calibration run data are first collected in so - called `` pedestal mode '' with the beam off and with only random trigger enabled in the trigger mix .",
    "raw pedestals are automatically calculated at the end of the calibration run .",
    "namely , the pedestal histograms are filled with the random trigger events @xmath9 expressed in adc channel numbers , where a subscript @xmath10 labels a detector and an index @xmath11 represents an event number . at the end of the run these histograms",
    "are analyzed for the mean pedestal positions @xmath12 .",
    "the mean pedestal positions and widths are saved in the data acquisition database residing completely in shared memory to allow for fast access .",
    "`` calibrated adc values '' @xmath13 in the subsequent production runs would then be differences between raw adc readings @xmath9 and the pedestal values @xmath12 retrieved from the database : @xmath14 the analyzer calibration program also calculates the correlation coefficients @xmath15 among all possible detector pairs `` @xmath16 '' that belong to the same detector group , e.g. , for 240 calorimeter detectors , 40 plastic veto hodoscope counters , etc .",
    "the expression used for calculating the correlation coefficient @xmath15 is  @xcite : @xmath17 where sums extend over all pedestal events with calibrated adc values @xmath18 less than 20 channels and @xmath19 is the total number of such events .",
    "the 20 channel limit corresponds to the half - width at tenth - maximum of the typical noise distribution and discriminated against ( very rare ) cosmic events in our random data set that would smear up our correlation matrix .",
    "the correlation coefficient matrix is saved in a text file that is analyzed by an offline computer program to identify the detector noise groups .",
    "the program user can select the maximum number of noise groups ( default 10 ) , minimum group size ( default 8) and the minimum correlation coefficient ( default 0.75 ) between the detectors in the same noise group .",
    "the offline code combines detectors into noise groups on a trial - and - error basis with the over - all goal of maximizing the average intergroup correlation coefficients , while keeping the number of groups as small as possible and the minimum number of channels in any group above a given limit . with a minimum group size of eight detectors",
    "the program generated 10 noise groups for the 240 csi channels with an average intergroup correlation coefficient 0.90 and minimum correlation coefficient greater than 0.75 .",
    "the noise groups suggested by the program are subsequently hard - coded in the analyzer calibration program .",
    "an example of six plastic hodoscope ( pv ) noise groups is given below in a section of c code :    .... / * adc groups for common noise suppression * /    # define max_noise_group 100 int adc_group[][max_noise_group ] = {      / * plastic veto detectors * /      { 240,241,242,243,244,245,246,247,248 ,     249,250,251,252,253,254,255 , -1 } ,    { 256,257,258,259 , -1 } ,    { 260,261,262,263,264 , -1 } ,     { 265,266,267,268,269,270,271 , -1 } ,    { 272,273,274,275 , -1 } ,    { 276,277,278,279 , -1 } ,    { -1 } ,                           } ; ....    where individual pv counters are identified by their signal indices .",
    "the value `` @xmath20 '' at the end of each line follows the last detector in every noise group .",
    "each detector is included in one and only one noise group .",
    "detectors belonging to the same noise group are usually physically close and have their signal and high voltage cables bundled together .",
    "the algorithm for calculating of noise - corrected and calibrated adc values resides in the analyzer program with predefined noise groups .",
    "the algorithm loops over all adc channels and for every event :    1 .   subtracts the raw pedestal values retrieved from the online database from raw adc variables ( `` first pedestal correction '' ) ; 2 .   identifies the common noise group that the current detector belongs to ; 3 .   finds the channel with the smallest adc value in that group",
    "; 4 .   finds all the channels in the group under consideration which are within 15 counts above the minimum of the group and calculates their average adc value ; 5 .",
    "subtracts that average value ( `` second pedestal correction '' ) from the adc values of all other group members .    at the beginning of each",
    "run the pedestal histograms are reset and at the end of the run they are again analyzed by fitting lineshapes with a gaussian function .",
    "the means of the distributions are updated in the database as new pedestal values @xmath12 .",
    "[ fig : correlation ] shows a scatter plot of adc values for two different csi detectors acquired with a random trigger .",
    "uncorrected adc values are plotted in the top panel showing the correlation in an electronic noise : these two detectors are eventually assigned to the same electronics noise group . using the secondary pedestal correction procedure described above",
    ", we obtained a scatter - plot of the corrected adc values presented in the lower panel of fig .",
    "[ fig : correlation ] .",
    "examples of one - dimensional adc histograms for two different detector types , namely a plastic scintillator counter and one active target segment are shown in figs .",
    "[ fig : improve ]  and  [ fig : target ] , respectively .",
    "top panels represent raw adc spectra , bottom panels show the noise suppression in the corrected spectra .    in fig .",
    "[ fig : improve ] a peak at channel number 6 is inserted by the fitting function in the analyzer program .",
    "its position corresponds to 3 standard deviations of the corrected pedestal lineshape . in readout of the adc modules all channels with the values below 3@xmath21",
    "are suppressed by being considered equal to zero and are not written to tape .",
    "this zero suppression criterion compresses the size of our data files by an order of magnitude .",
    "a comparison between the smearing of raw pedestal data and the spectra obtained after the noise suppression for four different detector types is given in table  [ tab1 ] .",
    "the table summarizes the maximum and minimum noise group sizes , rms widths of raw and corrected pedestal histograms as well as an important equivalent energy deposition corresponding to the corrected pedestal rms values .",
    "we see that the energy equivalents of the rms widths range from 0.13@xmath1mev in csi detectors to 0.40@xmath1mev in the segmented target .",
    "the target pedestals are more difficult to correct because of ( a ) the small number of target segments ( 9 ) that form a noise group , and ( b ) the high rate of physics triggers in the target , with up to 1@xmath1mhz stopping pions .",
    "we have implemented correction of modular detector adc readings for the correlated common noise using the method of common noise detector groups . the reduction in the pedestal width of up to a factor of five",
    "is achieved with the corrected pedestal rms values as narrow as 1.5 adc channels .",
    "this improvement compares favorably with the active circuit noise suppression methods  @xcite where improvement factors are @xmath35 - 6 .    in a representative case of pure csi calorimeter",
    "the procedure reduces the correlated noise contribution to the equivalent energy of 0.13@xmath1mev per detector module . for the energy range of interest , 10100@xmath1mev ,",
    "this value is smaller than the photoelectron statistics contribution of @xmath22mev  @xcite and is comparable with the pmt dark current noise that amounts to @xmath30.1@xmath1mev .",
    "this work is supported and made possible by grants from the us national science foundation and the paul scherrer institute .",
    "d. poani , d. day , e. frle , r. m. marshall , j. s. mccarthy , r. c. minehart , k. o. h. ziock , m. daum , r. frosch and d. renker , psi r-89.01 experiment proposal , ( paul scherrer institute , villigen , 1988 ) .",
    ".comparison of the pedestal noise reduction for the various elements of the pibeta detector .",
    "the values represent averages in one typical production run with @xmath35000 pedestal events .",
    "the minimum and maximum number of detectors in one noise group is given in the second column .",
    "the energy ( angle ) equivalent of the corrected pedestal rms is listed in the fifth column . [ cols=\"<,^,^,^,^ \" , ]"
  ],
  "abstract_text": [
    "<S> we describe a simple procedure for reducing adc common noise in modular detectors that does not require additional hardware . a method using detector noise groups should work well for modular particle detectors such as segmented electromagnetic calorimeters , plastic scintillator hodoscopes , cathode strip wire chambers , segmented active targets , and the like . </S>",
    "<S> we demonstrate a `` second pedestal noise correction '' method by comparing representative adc pedestal spectra for various elements of the pibeta detector before and after the applied correction .    </S>",
    "<S> pacs numbers : 07.50.h , 07.05.hd , 07.05.kf    _ keywords : _ adc pedestals , correlated common noise , daq zero suppression    psfig.sty    ,    , </S>"
  ]
}