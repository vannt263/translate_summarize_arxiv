{
  "article_text": [
    "for full exploitation of high resolution position sensitive detectors , it is crucial to determine the detector location and orientation to a precision better than their intrinsic resolution .",
    "it is a very demanding task to assemble a large number of detector units in a large and complex detector system to this high precision . also , after assembly , the position determination of the modules by optical survey has its limitations because of detectors obscuring each other .",
    "therefore the final tuning of detector and sensor positions is made by using reconstructed tracks .    in this paper",
    "we present an effective method by which individual sensors in a detector setup can be aligned to a high precision with respect to each other .",
    "the basic idea is illustrated in figure [ fig.illustr ] . using a large number of tracks , an optimum of each sensor position and orientation",
    "is determined such that the track fit residuals are minimized .     and measured hits on a detector , the sensor is moved such as to minimize the residuals.,width=264 ]    the outline of this paper is as follows : in section [ sec.literature ] we briefly review published alignment methods . in section [ sec.coordsys ]",
    "we introduce the basic notations and coordinate systems involved in our method . in section [ sec.description ] we present the detailed formulation of the method . in sections",
    "[ sec.testbeam ] and [ sec.simulation ] we demonstrate the performance of the method applied to a test beam setup and to a simulated pixel vertex detector , respectively .",
    "the cms @xcite pixel detector is is used as a model in the simulation .",
    "most hep experiments equipped with precise tracking detectors have to deal with misalignment issues , and several different approaches for alignment by tracks have been used and reported .",
    "most methods are iterative with 5 - 6 parameters solved at a time .",
    "several papers concerning different aspects of alignment in the delphi experiment can be found in the literature .",
    "for instance , @xmath1 and cosmic rays are used for the global alignment between sub - detectors vd , od and tpc  @xcite .",
    "the most detailed delphi alignment paper deals with the alignment of the microvertex detector  @xcite .    in the aleph experiment , alignment was carried out wafer by wafer , and with 20 iterations and 20000 @xmath2 and 4000 @xmath1 events an accuracy of a few @xmath3 can be achieved  @xcite .    a different , computationally challenging approach is chosen in the sld experiment , where the algorithm requires simultaneous solution of 576 parameters leading to a 576 by 576 matrix inversion  @xcite . in the sld vertex detector ,",
    "a recently developed matrix singular value decomposition technique is also used for internal alignment  @xcite .",
    "our method is applicable to detector setups which consist of planar sensors like silicon pixel or strip detectors . for track reconstruction one",
    "conventionally uses the local ( sensor ) coordinate system and the global detector system .",
    "the local system @xmath4 is defined with respect to a detector module ( sensor ) as follows : the origin is at the center of the sensor , the @xmath5-axis is normal to the sensor , the @xmath6-axis is along the precise coordinate and the @xmath7-axis along the coarse coordinate .",
    "the global coordinates are denoted as @xmath8 .",
    "the transformation from the global to the local system goes as : @xmath9 where @xmath10 , @xmath11 , @xmath12 is a rotation and @xmath13 is the position of the detector center in global coordinates .    in the very beginning of the experiment the rotation @xmath12 and the position @xmath14",
    "are determined by detector assembly and survey information . in the course of experiment",
    "this information will be corrected by an incremental rotation @xmath15 and translation @xmath16 so that the new rotation and translation become : @xmath17 the correction matrix @xmath15 is expressed as : @xmath18 where @xmath19 and @xmath20 are small rotations by @xmath21 around the @xmath6-axis , the ( new ) @xmath7-axis and the ( new ) @xmath5-axis , respectively .",
    "the position correction @xmath16 transforms to the local system as : @xmath22 with @xmath23 . using ( [ transf1]-[tr_inv ] )",
    "we find the corrected transformation from global to local system as : @xmath24 where the superscript @xmath25 stands for corrected. the task of the alignment procedure by tracks is to determine the corrective rotation @xmath15 and translation @xmath16 or @xmath26 as precisely as possible for each individual detector element .",
    "since the alignment corrections are small , the fitted trajectories can be approximated with a straight line in a vicinity of the detector plane .",
    "the size of this small region is determined by the alignment uncertainty which is expected to be at most a few hundred microns so that the straight line approximation is perfectly valid .",
    "the equation of a straight line in global coordinates , approximating the trajectory in a vicinity of the detector , can be written as : @xmath27 where @xmath28 is the trajectory impact point on the detector in question , @xmath29 is a unit vector parallel to the line and @xmath30 is a parameter .",
    "equation ( [ str_unc ] ) is for _ uncorrected _ detector positions .    using eq .",
    "( [ trans2 ] ) the _ corrected _ straight line equation in the local system reads : @xmath31 where @xmath32 .",
    "a point @xmath33 which lies in the detector plane must fulfill the condition @xmath34 , where @xmath35 is normal to the detector . from this condition",
    "we can solve the parameter @xmath36 which gives the _ corrected _ impact or x - ing point on the detector : @xmath37\\cdot\\hbfw }               { \\bfr_c\\hbfs\\cdot\\hbfw}.\\label{sol_t}\\ ] ] the corrected impact point coordinates @xmath38 in the local system are then : @xmath39\\cdot\\hbfw }               { \\bfr_c\\hbfs\\cdot\\hbfw}\\bfr_c\\hbfs-\\bfdq.\\label{eq.qxc}\\ ] ] since the uncorrected impact point is @xmath40 , eq .",
    "( [ eq.qxc ] ) can be written as : @xmath41 where @xmath42 is the uncorrected trajectory direction in the detectors local frame of reference .",
    "( [ eq.qxcl ] ) evaluates to : @xmath43_3 )       \\frac{\\bfdr\\,\\hbft}{[\\bfdr\\,\\hbft]_3 } -\\bfdq.\\label{eq.qxcll}\\ ] ] this expression provides us with a handle by which the unknowns @xmath26 and @xmath15 can be estimated by minimizing a respective @xmath44 function using a large number of tracks .",
    "we denote a measured point in local coordinates as @xmath45 .",
    "the corresponding trajectory impact point is @xmath46 . for simplicity",
    "we omit the superscripts @xmath25 in the coordinates @xmath47 and @xmath48 . in stereo and pixel detectors we have two measurements , @xmath49 and @xmath50 , and in non - stereo strip detectors only one , @xmath49 . in the latter case",
    "the coarse coordinate @xmath50 is redundant .",
    "the residual is either a 2-vector : @xmath51 or a scalar @xmath52 . in the following we treat the more general 2-vector case .",
    "the scalar case is a straightforward specification of the 2-vector formalism .",
    "the @xmath44 function to be minimized for a given detector is : @xmath53 where the sum is taken over the tracks @xmath54 .",
    "@xmath55 is the covariance matrix of the measurements @xmath56 associated with the track @xmath54 .",
    "the alignment correction coefficients , i.e.  the three position parameters @xmath57 and the three orientation parameters @xmath58 are found iteratively by a general @xmath44 minimization procedure . at each step of the iteration",
    "one uses the so far best estimate of the alignment parameters in the track fit .",
    "let us denote these parameters as @xmath59 .",
    "then , according to the general @xmath44 solution , the iterative correction to @xmath60 has the following expression : @xmath61^{-1 }      \\left[\\sum_j \\bj_j^t\\bv_j^{-1}\\vepsb_j\\right]\\ ] ] where @xmath62 is a jacobian matrix of @xmath63 : @xmath64 an adequate starting point for the iteration is a null correction vector @xmath60=*0*.    in the general case of two measurements @xmath56 , @xmath62 is a @xmath65 matrix . in case of scalar @xmath66 , for single sided strip detectors , @xmath62 is a vector of 5 elements , because @xmath67 is redundant and can not be fitted",
    ". it will also be foreseen that only a sub - set of the 6 alignment parameters would be fitted and the others kept fixed . in this case",
    "the dimension of the jacobian matrix reduces accordingly .",
    "the derivatives of the jacobian matrix can be computed to a good precision in the small correction angle approximation ( see below ) .",
    "the elements of the matrix @xmath68 for a given track are then : @xmath69 the quantities @xmath70 and @xmath71 are defined in the next section .",
    "we call `` tilts '' the angle corrections @xmath72 which are small enough to justify the approximations @xmath73 and @xmath74 . in this approximation",
    "the correction matrix @xmath15 reads : @xmath75 using eq .",
    "( [ eq.tiltm ] ) we linearize eq .",
    "( [ eq.qxcll ] ) and get the following expressions for the corrections of the impact point coordinates as a function of the alignment correction parameters : @xmath76 where @xmath77 . the quantity @xmath78 is the angle between the track and the @xmath79plane and @xmath80 is the angle between the track and the @xmath81plane : @xmath82 , @xmath83 .    with this approximation the residuals ( [ eq.epsilon ] ) depend linearly on all 6 parameters .",
    "hence the @xmath44 minimization problem is linear and can be solved by standard techniques without iteration .",
    "from eqs .  ( [ eq.delux ] ) and ( [ eq.delvx ] )",
    "we can estimate the contributions of various misalignments to the hit measurement errors .",
    "for example the contribution of a misalignment @xmath84 around the @xmath6-axis to the @xmath7-coordinate is : @xmath85 the error is small near normal incident angles , but grows rapidly as a function of @xmath80 . at @xmath86 and near the edge of the sensor ( @xmath87 cm ) the error goes as @xmath88 so that for only @xmath89 error in @xmath84 the systematic error in the @xmath7-coordinate is @xmath90 .",
    "the silicon detector team of helsinki institute of physics made a precision survey of detector resolution as a function of the angle of incidence of the tracks @xcite .",
    "the study was made in the cern h2 particle beam with a setup described in figure  [ fig.sibt ] .",
    "one of the silicon strip detectors was fixed on a rotative support which allowed the tracks to enter between @xmath91 and @xmath92 degrees of incident angle .",
    "the angular dispersion of the beam was about 10mrad and the hits covered the full area of the test detector .    in order to obtain reliable results it was extremely important to calibrate the tilt angle to a very high precision .",
    "our algorithm was used in the alignment calibration . in table",
    "[ tab.align ] we show the result of the alignment demonstrating the precision obtained by about 3000 beam tracks .",
    ".alignment parameters obtained by the algorithm [ cols=\"^,^,^\",options=\"header \" , ]     with the precise alignment we have been able to determine the optimal track incident angle which minimizes the detector resolution @xcite .",
    "a monte carlo simulation code was written to test the alignment algorithm .",
    "high momentum tracks were simulated and driven through a set of detector planes .",
    "the simulated hits were fluctuated randomly to simulate measurement errors .",
    "gaussian multiple scattering was added quadratically using the highland @xcite approximation .",
    "the algorithm involves misalignment of a detector setup in order to simulate a realistic detector .",
    "the experimenters imperfect knowledge of the true position of the detector planes is simulated by reconstructing the trajectories in the ideal ( not misaligned ) detector .",
    "this means that in the transformation from local to global coordinate system one uses the ideal positions of the detector planes .",
    "the full algorithm in brief is as follows :    1 .",
    "creation of an ideal detector setup with no misalignments 2 .",
    "creation of a misaligned , realistic detector 3 .",
    "generation of the particles and hits in the misaligned detector simulating the real detector 4 .",
    "reconstruction of the particle trajectories in the nominal ( ideal ) detector thus using slightly wrong hit positions .",
    "this simulates the realistic situation in which the detector alignment is not yet performed .    for the simulated detector type",
    "we choose a vertex detector which is a simplification of the cms pixel barrel detector @xcite with two layers .",
    "the setup is illustrated in figure  [ fig.vdet ] .",
    "there are 144 sensors in layer 1 and 240 sensors in layer 2 .",
    "the distance of the layer 1 from the beam line is about 4 cm and the layer 2 about 8 cm .        in the simulation we used the following conditions :    1 .",
    "misalignment of chosen sensors : the shifts @xmath93 were chosen at random , each in the range @xmath94 and the tilts @xmath95 were chosen at random each in the range @xmath96 .",
    "beam and vertex constraints : the vertex positions were gaussian fluctuated around the center of the beam diamond with @xmath97 and @xmath98 cm and the tracks were fitted with the constraint to start from one point , i.e. from the primary vertex .    in",
    "the following we consider two different cases of misaligned detectors :    1 .",
    "all sensors in layer 2 fixed , all sensors in layer 1 misaligned .",
    "2 .   only one sensor in layer 2 fixed , all remaining 383 sensors misaligned .        in case i",
    "the total number of fitted parameters is @xmath99 and we used about @xmath100 tracks .",
    "the case i appears to be an easy one with which the algorithm copes very well , as we see below .",
    "the second case we call extreme since the alignment is based on one reference sensor which covers only about 0.26% of the detector setup area .",
    "the total number of fitted parameters in this case was @xmath101 . in the following sectios we show perfomance results of the algorithm in these two cases .",
    "the convergence rate of the alignment procedure as a function of the iteration cycle is shown in figure [ fig.caserr ] .",
    "it appears that the convergence is fast in the easy case ( the 6 plots on the left ) where more than 60% of the sensors provide the reference .",
    "the convergence takes place after a couple of iterations .    in the case where only one sensor is taken as a reference ( plots on the right of the figure )",
    ", the situation is different .",
    "it appears that the number of iterations needed varies between 20 and 100 from parameter to parameter .",
    "it is also seen that the converged parameter values are somewhat off from the true values , but the precision is reasonable .",
    "the precision of the fitted parameters in comparison with the true values is shown in figure [ fig.casecc ] on the left for the case i. the correlations are very strong .",
    "the typical deviation of the fitted parameters from the true value is less than @xmath102 for the offsets and a fraction of a milliradian for the tilts .",
    "the precision appears to be better than actually needed in this case , indicating that a smaller statistics would give a satisfactory result .    in case",
    "ii ( the plots on the right of the figure ) a good correlation is observed , but the precision is somewhat more modest .",
    "for example the error in @xmath103 ( the shift normal to the sensor plane ) is still in most cases below @xmath0 .",
    "we have developed a sensor alignment algorithm which is mathematically and computationally simple .",
    "it is based on repeated track fitting and residuals optimization by @xmath44 minimization .",
    "the computation is simple , because the solution involves matrices whose dimension is at most @xmath104 .",
    "the method is capable of solving simultaneously all six alignment parameters per sensor for a detector setup with a large number of sensors .",
    "we have successfully applied the method in a precision survey of silicon strip detector resolution as a function of the tracks incident angle .",
    "furthermore , we have demonstrated the performance of the algorithm in case of a simulated two - layer pixel barrel vertex detector .",
    "the method performs very well in the case where the outer layer is taken as a reference and all inner sensors are to be aligned .",
    "the algorithm performs reasonably well also in the extreme case where only one sensor , representing some 0.26% of the total area , is taken as a reference for the alignment .",
    "+        9 m.della negra et al .",
    ", `` cms tracker technical design report '' , cern / lhcc 98 - 6 .",
    "b. mours et al .",
    ", `` the design , construction and performance of the aleph silicon vertex detector '' , nucl .  instr .  and meth .",
    "a453  ( 1996 )  101 - 115 .",
    "a. andreazza and e. piotto , `` the alignment of the delphi tracking detectors '' , delphi 99 - 153 track 94 ( 1999 ) .",
    "m. caccia and a. stocchi , `` the delphi vertex detector alignment : a pedagogical statistical exercise '' , infn ae 90 - 16 ( 1990 ) .",
    "k.  abe et al . , `` design and performance of the sld vertex detector , a 307 mpixel tracking system '' , nucl .",
    "instr .  and meth .",
    "a400  ( 1997 ) .",
    "d. j. jackson and dong su and f. j. wickens , `` internal alignment of the sld vertex detector using a matrix singular value decomposition technique '' , nucl .",
    "instr .  and meth .",
    "a491 ( 2002 ) .",
    "c.eklund et al . , `` silicon beam telescope for cms detector tests '' , nucl .",
    "and meth .",
    "a430  ( 1999 )  321 - 332 .",
    "k.banzuzi et al . , `` performance and calibration studies of silicon strip detectors in a test beam '' , nucl",
    ".  instr .  and meth .",
    "a453  ( 2000 )  536 .",
    "v.l.highland , `` some practical remarks on multiple scattering '' , nucl .  instr .  and meth .",
    "129  ( 1975 )  497 .",
    "d.kotlinski , `` the cms pixel detector '' , nucl .",
    "instr.and meth .",
    "a465  ( 2000 )  46 ."
  ],
  "abstract_text": [
    "<S> good geometrical calibration is essential in the use of high resolution detectors . </S>",
    "<S> the individual sensors in the detector have to be calibrated with an accuracy better than the intrinsic resolution , which typically is of the order of @xmath0 . </S>",
    "<S> we present an effective method to perform fine calibration of sensor positions in a detector assembly consisting of a large number of pixel and strip sensors . </S>",
    "<S> up to six geometric parameters , three for location and three for orientation , can be computed for each sensor on a basis of particle trajectories traversing the detector system . </S>",
    "<S> the performance of the method is demonstrated with both simulated tracks and tracks reconstructed from experimental data . </S>",
    "<S> we also present a brief review of other alignment methods reported in the literature . </S>"
  ]
}