{
  "article_text": [
    "the problem of how and when an investor should diversify capital over various assets , whose future returns are yet to be realized , is extensively studied in various different fields from financial engineering @xcite , signal processing @xcite , machine learning @xcite to information theory @xcite .",
    "naturally this is one of the most important financial applications due to the amount of money involved .",
    "however , the current financial crisis demonstrated that there is a significant room for improvement in this field by sound signal processing methods @xcite , which is the main goal of this paper . in this paper , we investigate how and when to diversify capital over assets , i.e. , the portfolio selection problem , from a signal processing perspective and provide portfolio selection strategies that maximize the expected cumulative wealth in discrete - time markets under proportional transaction costs .",
    "in particular , we study an investment problem in markets that allow trading at discrete periods , where the discrete period is arbitrary , e.g. , it can be seconds , minutes or days @xcite . furthermore the market levies transaction fees for both selling and buying an asset proportional to the volume of trading at each transaction , which accurately models a broad range of financial markets @xcite . in our discussions",
    ", we first consider markets with two assets , i.e. , two - asset markets .",
    "we emphasize that the two - stock markets are extensively studied in financial literature and are shown to accurately model a wide range of financial applications @xcite such as the well - known  stock and bond market \" @xcite .",
    "we then extend our analysis to markets having more than two assets , i.e. , @xmath0-stock markets , where @xmath0 is arbitrary . following the extensive literature @xcite , the market",
    "is modeled by a sequence of price relative vectors , say @xmath1 , @xmath2 , where each entry of @xmath3 , i.e. , @xmath4 , is the ratio of the closing price to the opening price of the @xmath5th stock per investment period .",
    "hence , each entry of @xmath3 quantifies the gain ( or the loss ) of that asset at each investment period .",
    "the sequence of price relative vectors is assumed to have an i.i.d .",
    "`` discrete '' distribution @xcite , however , the discrete distributions on the vector of price relatives are arbitrary . in this sense",
    ", the corresponding discrete distributions can approximate a wide class of continuous distributions on the price relatives that satisfy certain regularity conditions by appropriately increasing the size of the discrete sample space .",
    "we first assume that we know the discrete distributions on the price relative vectors and then extend our analysis to cover when the underlying distributions are unknown .",
    "we emphasize that the i.i.d .",
    "assumption on the sequence of price relative vectors is shown to hold in most realistic markets @xcite .",
    "the detailed market model is provided in section iv . at each investment period , the diversification of the capital over the assets is represented by a portfolio vector @xmath6 , where for each entry @xmath7 , @xmath8 , and @xmath9 is the ratio of the capital invested in the @xmath5th asset at investment period @xmath10 . as an example",
    "if we invest using @xmath6 , we earn ( or loose ) @xmath11 at the investment period @xmath10 after @xmath3 is revealed .",
    "given that we start with one dollars , after an investment period of @xmath12 days , we have the wealth growth @xmath13 . under this general market model ,",
    "we provide algorithms that maximize the expected growth over any period @xmath12 by using `` threshold rebalanced portfolios '' ( trp)s , which are shown to yield optimal growth in general i.i.d .",
    "discrete - time markets @xcite",
    ".    under mild assumptions on the sequence of price relatives and without any transaction costs , cover et .",
    "al @xcite showed that the portfolio that achieves the maximal growth is a constant rebalanced portfolio ( crp ) in i.i.d . discrete - time markets .",
    "a crp is a portfolio investment strategy where the fraction of wealth invested in each stock is kept constant at each investment period .",
    "a problem extensively studied in this framework is to find sequential portfolios that asymptotically achieve the wealth of the best crp tuned to the underlying sequence of price relatives .",
    "this amounts to finding a daily trading strategy that has the ability to perform as well as the best asset diversified , constantly rebalanced portfolio .",
    "several sequential algorithms are introduced that achieve the performance of the best crp either with different convergence rates or performance on historical data sets @xcite . even under transaction costs ,",
    "sequential algorithms are introduced that achieve the performance of the best crp @xcite .",
    "nevertheless , we emphasize that keeping a crp may require extensive trading due to possible rebalancing at each investment period deeming crps , or even the best crp , ineffective in realistic markets even under mild transaction costs @xcite .    in continuous - time markets",
    ", however , it has been shown that under transaction costs , the optimal portfolios that achieve the maximal wealth are certain class of `` no - trade zone '' portfolios @xcite . in simple terms , a no - trade zone portfolio has a compact closed set such that the rebalancing occurs if the current portfolio breaches this set , otherwise no rebalancing occurs .",
    "clearly , such a no - trade zone portfolio may avoid hefty transaction costs since it can limit excessive rebalancing by defining appropriate no - trade zones .",
    "analogous to continuous time markets , it has been shown in @xcite that in two - asset i.i.d .",
    "markets under proportional transaction costs , compact no - trade zone portfolios are optimal such that they achieve the maximal growth under mild assumptions on the sequence of price relatives . in two - asset markets ,",
    "the compact no trade zone is represented by thresholds , e.g. , if at investment period @xmath10 , the portfolio is given by @xmath14^t$ ] , where @xmath15 , then rebalancing occurs if @xmath16 , given the thresholds @xmath17 , @xmath18 , where @xmath19 .",
    "similarly , the interval @xmath20 can be represented using a target portfolio @xmath21 and a region around it , i.e. , @xmath22 , where @xmath23 such that @xmath24 and @xmath25 .",
    "extension of trps to markets having more than two stocks is straightforward and explained in section  [ subsec : m - asset ] .",
    "however , how to construct the no - trade zone portfolio , i.e. , selecting the thresholds that achieve the maximal growth , has not yet been solved except in elementary scenarios @xcite .",
    "we emphasize that a sequential universal algorithm that asymptotically achieves the performance of the best trp specifically tuned to the underlying sequence of price relatives is introduced in @xcite .",
    "this algorithm leverages bayesian type weighting from @xcite inspired from universal source coding and requires no statistical assumptions on the sequence of price relatives . in similar lines ,",
    "various different universal sequential algorithms are introduced that achieve the performance of the best algorithm in different competition classes in @xcite .",
    "however , we emphasize that the performance guarantees in @xcite ( and in @xcite ) on the performance , although without any stochastic assumptions , is given for the worst case sequence and only optimal in the asymptotic . for any finite investment period",
    ", the corresponding order terms in the upper bounds may not be negligible in financial markets , although they may be neglected in source coding applications ( where these algorithms are inspired from ) .",
    "we demonstrate that our algorithm readily outperforms these universal algorithms over historical data @xcite , where similar observations are reported in @xcite .",
    "our main contributions are as follows .",
    "we first consider two - asset markets and recursively evaluate the expected achieved wealth of a threshold portfolio for any @xmath21 and @xmath26 over any investment period .",
    "we then extend this analysis to markets having more than two - stocks .",
    "we next demonstrate that under the threshold rebalancing framework , the achievable set of portfolios form an irreducible markov chain under mild technical conditions .",
    "we evaluate the corresponding stationary distribution of this markov chain , which provides a natural and efficient method to calculate the cumulative expected wealth .",
    "subsequently , the corresponding parameters are optimized using a brute force approach yielding _ the growth optimal investment portfolio under proportional transaction costs in i.i.d .",
    "discrete - time _ two - asset markets .",
    "we note that for the case with the irreducible markov chain , which covers practically all scenarios in the realistic markets , the optimization of the parameters is offline and carried out only once .",
    "however , for the case with recursive calculations , the algorithm has an exponential computational complexity in terms of the number of states .",
    "however , in our simulations , we observe that a reduced complexity form of the recursive algorithm that keeps only a constant number of states by appropriately pruning certain states provides nearly identical results with the `` optimal '' algorithm . furthermore , as a well studied problem",
    ", we also solve optimal portfolio selection in discrete - time markets constructed by sampling continuous - time brownian markets @xcite .",
    "when the underlying discrete distributions of the price relative vectors are unknown , we provide a maximum likelihood estimator to estimate the corresponding distributions that is incorporated in the optimization framework in the simulations section .",
    "for all these approaches , we also provide the corresponding complexity bounds .",
    "the organization of the paper is as follows . in section  [ sec : prob ] , we briefly describe our discrete - time stock market model with discrete price relatives and symmetric proportional transaction costs . in section  [ sec : trp ] , we start to investigate trps , where we first introduce a recursive update in section  [ subsec : algorithm ] for a market having two - stocks .",
    "generalization of the iterative algorithm to the @xmath0-asset market case is provided in section  [ subsec : m - asset ] .",
    "we then show that the trp framework can be analyzed using finite state markov chains in section  [ subsec : finite ] and section  [ subsec : markov ] .",
    "the special brownian market is analyzed in section  [ subsec : brownian ] .",
    "the maximum likelihood estimator is derived in section  [ sec : ml ] .",
    "we simulate the performance of our algorithms in section  [ sec : sim ] and the paper concludes with certain remarks in section  [ sec : con ] .",
    "we consider discrete - time stock markets under transaction costs . we first consider a market with two stocks and",
    "then extend the analysis to markets having more than two stocks .",
    "we model the market using a sequence of price relative vectors @xmath27 .",
    "a vector of price relatives @xmath28^t$ ] in a market with @xmath0 assets represents the change in the prices of the assets over investment period @xmath10 , i.e. , for the @xmath5th stock @xmath29 is the ratio of the closing to the opening price of the @xmath5th stock over period @xmath10 . for a market having two assets , we have @xmath30^t$ ] .",
    "we assume that the price relative sequences @xmath31 and @xmath32 are independent and identically distributed ( i.i.d . ) over with possibly different discrete sample spaces @xmath33 and @xmath34 , i.e. , @xmath35 and @xmath36 , respectively @xcite . for technical reasons , in our derivations , we assume that the sample space is @xmath37 for both @xmath31 and @xmath32 where @xmath38 is the cardinality of the set @xmath39 .",
    "the probability mass function ( pmf ) of @xmath31 is @xmath40 and the probability mass function of @xmath32 is @xmath41 .",
    "we define @xmath42 and @xmath43 for @xmath44 and the probability mass vectors @xmath45^t$ ] and @xmath46^t$ ] , respectively . here",
    ", we first assume that the corresponding probability mass vectors @xmath47 and @xmath48 are known .",
    "we then extend our analysis where @xmath47 and @xmath48 are unknown and sequentially estimated using a maximum likelihood estimator in section  [ sec : ml ] .",
    "an allocation of wealth over two stocks is represented by the portfolio vector @xmath49 $ ] , where @xmath50 and @xmath51 represents the proportion of wealth invested in the first and second stocks , respectively , for each investment period @xmath10 . in two stock markets ,",
    "the portfolio vector @xmath52 $ ] is completely characterized by the proportion @xmath21 of the total wealth invested in the first stock . for notational clarity",
    ", we use @xmath50 to represent @xmath53 throughout the paper .",
    "we denote a threshold rebalancing portfolio with an initial and target portfolio @xmath21 and a threshold @xmath54 by trp(@xmath21,@xmath54 ) . at each market period @xmath10 ,",
    "an investor rebalances the asset allocation only if the portfolio leaves the interval @xmath55 . when @xmath56 , the investor buys and sells stocks so that the asset allocation is rebalanced to the initial allocation , i.e. , @xmath57 , and he / she has to pay transaction fees .",
    "we emphasize that the rebalancing can be made directly to the closest boundary instead of to @xmath21 as suggested in @xcite , however , we rebalance to @xmath21 for notational simplicity and our derivations hold for that case also .",
    "we model transaction cost paid when rebalancing the asset allocation by a fixed proportional cost @xmath58 @xcite . for instance , if the investor buys or sells @xmath59 dollars of stocks , then he / she pays @xmath60 dollars of transaction fees .",
    "although we assume a symmetric transaction cost ratio , all the results can be carried over to markets with asymmetric costs @xcite .",
    "let @xmath61 denote the achieved wealth at investment period @xmath12 and assume , without loss of generality , that the initial wealth of the investor is 1 dollars .",
    "for example , if the portfolio @xmath50 does not leave the interval @xmath55 and the allocation of wealth is not rebalanced for @xmath12 investment periods , then the current proportion of wealth invested in the first stock is given by @xmath62 and achieved wealth is given by @xmath63 if the portfolio leaves the interval @xmath55 at period @xmath12 , i.e. , @xmath64 , then the investor rebalances the asset distribution to the initial distribution and pays approximately @xmath65 dollars for transaction costs @xcite . in the next section , we first evaluate the expected achieved wealth @xmath66 $ ] so that we can optimize @xmath21 and @xmath54 .",
    "in this section , we first investigate trps in discrete - time two - asset markets under proportional transaction costs .",
    "we initially calculate the expected achieved wealth at a given investment period by an iterative algorithm .",
    "then , we present an upper bound on the complexity of the algorithm . we also calculate the expected achieved wealth of markets having more than two assets , i.e. , @xmath0-asset markets for an arbitrary @xmath0 .",
    "we then provide the necessary and sufficient conditions such that the achievable portfolios are finite such that the complexity of the algorithm does not grow at any period .",
    "we also show that the portfolio sequence converges to a stationary distribution and derive the expected achieved wealth . based on the calculation of",
    "the expected achieved wealth , we optimize @xmath21 and @xmath54 using a brute - force search . finally , with these derivations , we consider the well - known discrete - time two - asset brownian market with proportional transaction costs and investigate the asymptotic expected achieved wealth .      in this section ,",
    "we calculate the expected wealth growth of a trp with an iterative algorithm and find an upper bound on the complexity of the algorithm . to accomplish this",
    ", we first define the set of achievable portfolios at each investment period since the iterative calculation of the expected achieved wealth is based on the achievable portfolio set .",
    "we next introduce the portfolio transition sets and the transition probabilities of achievable portfolios at successive investment periods in order to find the probability of each portfolio state iteratively and to calculate @xmath66 $ ] .",
    "we define the set of achievable portfolios at each investment period as follows . since the sample space of the price relative sequences @xmath31 and @xmath32 is finite , i.e. , @xmath67 , the set of achievable portfolios at period @xmath12 can only have finitely many elements .",
    "we define the set of achievable portfolios at period @xmath12 as @xmath68 , where @xmath69 is the size of the set @xmath70 for @xmath71 . as illustrated in fig .",
    "[ blockdiagram ] , for each achievable portfolio @xmath72 , there is a certain set of portfolios in @xmath73 that are connected to @xmath74 , by definition of @xmath74 . at a given investment period @xmath12 ,",
    "the set of achievable portfolios @xmath70 is given by @xmath75 we let , without loss of generality , @xmath76 for each @xmath77 . note that in fig .",
    "[ blockdiagram ] , the size of the set of achievable portfolios at each period may grow in the next period depending on the set of price relative vectors .",
    "we next define the transition probabilities as @xmath78 for @xmath79 and @xmath80 and the set of achievable portfolios that are connected to @xmath81 , i.e. , the portfolio transition set , as @xmath82 for @xmath80 .",
    "hence , the probability of each portfolio state is given by @xmath83 for @xmath80 .",
    "therefore , we can calculate the probability of achievable portfolios iteratively . using these iterative equations , we next iteratively calculate the expected achieved wealth @xmath66 $ ] at each period as follows .    by definition of @xmath84 and using the law of total expectation @xcite ,",
    "the expected achieved wealth at investment period @xmath12 can be written as @xmath85 = \\sum_{l=1}^{m_n } { { \\mathrm{pr}}}\\left(b(n)=b_{l , n}\\right ) e\\left[s(n ) | b(n)=b_{l , n } \\right ] .",
    "\\label{eq : eqn2}\\ ] ] to get @xmath66 $ ] in iteratively , we evaluate @xmath86 $ ] for each @xmath80 from @xmath87 $ ] for @xmath79 . to achieve this",
    ", we first find the transition probabilities ( not the state probabilities ) between the achievable portfolios .",
    "we define the set of price relative vectors that connect @xmath88 to @xmath81 as @xmath89 where @xmath90^t \\in { { \\mathcal{x}}}^2 \\ ; \\vphantom{\\frac{w_1 b_{k , n-1}}{w_1 b_{k , n-1 } + w_2 ( 1-b_{k , n-1})}}\\right.\\\\ & \\left .",
    "\\;\\;\\;\\;\\;{\\big \\vert}\\ ; b_{l , n}=\\frac{w_1 b_{k , n-1}}{w_1 b_{k , n-1 } + w_2 ( 1-b_{k , n-1 } ) } \\right\\}\\nonumber\\end{aligned}\\]]for @xmath79 and @xmath91 .",
    "we consider the price relative vectors that connect @xmath88 to @xmath76 separately since , in this case , there are two cases depending on whether the portfolio leaves the interval @xmath55 or not .",
    "we define @xmath92 as @xmath93 , where @xmath94 is the set of price relative vectors that connect @xmath88 to @xmath76 such that the portfolio does not leave the interval @xmath55 at period @xmath12 , i.e. , @xmath95^t \\in { { \\mathcal{x}}}^2 \\ ; \\vphantom{\\frac{w_1 b_{k , n-1}}{w_1 b_{k , n-1 } + w_2 ( 1-b_{k , n-1})}}\\right.\\\\ & \\left .",
    "\\;\\;\\;\\;\\;{\\big \\vert}\\ ; \\frac{w_1 b_{k , n-1}}{w_1 b_{k , n-1 } + w_2 ( 1-b_{k , n-1})}=b \\right\\ } , \\end{aligned}\\ ] ] and @xmath96 is the set of price relative vectors that connect @xmath88 to @xmath97 such that the portfolio leaves the interval @xmath55 at period @xmath12 and is rebalanced to @xmath76 , i.e. , @xmath98^t \\in { { \\mathcal{x}}}^2 \\ ; \\vert\\ ; \\frac{w_1 b_{k , n-1}}{w_1 b_{k , n-1 } + w_2 ( 1-b_{k , n-1 } ) } \\\\ & \\not\\in(b-{\\mbox{$\\epsilon$}},b+{\\mbox{$\\epsilon$}})\\bigg\\}.\\end{aligned}\\]]then , the transition probabilities are given by @xmath99^t\\in { { \\mathcal{u}}}_{k , l , n } } p_1(w_1)p_2(w_2 ) \\label{eq : eqn3}\\end{aligned}\\ ] ] for @xmath79 and @xmath80 so that we can calculate @xmath100 iteratively for each @xmath80 by .",
    "since we have recursive equations for the state probabilities , we next perform the iterative calculation of the expected achieved wealth based on the achievable portfolio sets and the transition probabilities .    given the recursive formulation for the state probabilities",
    ", we can evaluate the term + @xmath101 $ ] for @xmath80 from @xmath87 $ ] for @xmath79 iteratively to calculate @xmath66 $ ] by as follows . to evaluate @xmath102 $ ] , we need to consider two cases separately based on the value of @xmath81 .    in the first case , we see that if the portfolio @xmath103 , where @xmath104 , then the portfolio does not leave the interval @xmath55 at period @xmath12 . hence , no transaction cost is paid so that we can express @xmath105 $ ] as a summation of the conditional expectations for all @xmath106 by the law of total expectation @xcite as @xmath107 \\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{l , n } } e\\left[s(n ) \\vert b(n)=b_{l , n},b(n-1)=b_{k , n-1}\\right ] \\nonumber \\\\   & \\times{{\\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\vert b(n)=b_{l , n}\\right){{\\mathrm{pr}}}\\left(b(n)=b_{l , n}\\right ) \\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{l , n } } e\\left[s(n ) \\vert b(n)=b_{l , n},b(n-1)=b_{k , n-1}\\right ] \\nonumber \\\\ & \\times{{\\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right)q_{k , l , n } \\label{eq : eqn42},\\end{aligned}\\ ] ] where follows from bayes theorem @xcite .",
    "we note that given @xmath108 and @xmath103 , the price relative vector @xmath109 can take values from @xmath89 and @xmath110 so that can be written as a summation of the conditional expectations for all @xmath111 @xcite after replacing @xmath112 @xmath107 \\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{l , n}}\\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{u}}}_{k , l , n}}e\\left[s_{n}\\vert b(n)=b_{l , n } , \\right.\\nonumber \\\\ & \\left.b(n-1)=b_{k , n-1},{{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\right]\\nonumber \\\\ & \\times { { \\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right){{\\mathrm{pr}}}\\left({{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\vert { { \\mathbf{x}}}(n)\\in{{\\mathcal{u}}}_{k , l , n}\\right ) \\nonumber \\\\ & \\times{{\\mathrm{pr}}}\\left({{\\mathbf{x}}}(n ) \\in { { \\mathcal{u}}}_{k , l , n}\\right)\\label{eq : eqn43}.\\end{aligned}\\ ] ] now , given that @xmath108 , @xmath103 and @xmath113^t$ ] , we observe that @xmath114 and @xmath115 \\nonumber \\\\ & = e\\left[s(n-1)(b_{k , n-1}w_1+(1-b_{k , n-1})w_2)\\vert b(n-1)=\\nonumber\\right.\\\\ & \\left.b_{k , n-1}\\right ] , \\label{eq : eqn45}\\end{aligned}\\ ] ] and by using in , we have @xmath107 \\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{l , n}}\\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{u}}}_{k , l , n}}e\\left[s(n-1)(b_{k , n-1}w_1\\right.\\\\ & \\left.+(1-b_{k , n-1})w_2)\\vert b(n-1)=b_{k , n-1}\\right ] \\\\ & \\times{{\\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right){{\\mathrm{pr}}}\\left({{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\right).\\end{aligned}\\ ] ] therefore , we can write @xmath102 $ ] from @xmath87 $ ] as @xmath107 \\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{l , n } } { { \\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right ) \\nonumber \\\\ & \\times e\\left[s(n-1)\\vert b(n-1)=b_{k , n-1}\\right ] \\nonumber \\\\ & \\times\\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{u}}}_{k , l , n}}(b_{k , n-1}w_1+(1-b_{k , n-1})w_2)\\nonumber\\\\&p_1(w_1)p_2(w_2 ) \\label{eq : eqn44}\\end{aligned}\\ ] ] for @xmath91 , where we use @xmath116 .    in the second case , if the portfolio @xmath117 , then there are two sets of price relative vectors that connect @xmath88 to @xmath97 , i.e. , @xmath94 and @xmath96 . depending on the value of the price vector , the portfolio",
    "may be rebalanced to @xmath76 . if @xmath118 , then the portfolio is not rebalanced and no transaction fee is paid . if @xmath119 , then the portfolio is rebalanced and transaction cost is paid .",
    "we can find @xmath120 $ ] from @xmath87 $ ] as a summation of the conditional expectations for all @xmath121 @xcite as @xmath122 \\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{1,n } } e\\left[s(n ) \\vert b(n)=b_{1,n},b(n-1)=b_{k , n-1}\\right ] \\nonumber\\\\ & \\times { { \\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right)q_{k , l , n}\\label{eq : eqn51}.\\end{aligned}\\ ] ] we note that given @xmath108 and @xmath117 , the price relative vector @xmath109 can take values from @xmath94 or @xmath96 , @xmath110 and @xmath114 which yields in that @xmath122 \\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{l , n}}\\left\\{\\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { {",
    "\\mathcal{v}}}_{k,1,n}}e\\left[s_{n}\\vert b(n)=b_{l , n},\\right.\\right.\\nonumber\\\\ & \\left.\\left .",
    "b(n-1)=b_{k , n-1},{{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\right ] \\right.\\nonumber \\\\ & \\left .",
    "\\times { { \\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right){{\\mathrm{pr}}}\\left({{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\right ) \\right.\\nonumber\\\\ & + \\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{r}}}_{k,1,n}}e[s_{n}\\vert b(n)=b_{l , n},b(n-1)=b_{k , n-1},\\nonumber \\\\ & \\left.\\vphantom{\\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{v}}}_{k,1,n}}}{{\\mathbf{x}}}(n)={{\\mathbf{w}}}]{{\\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right){{\\mathrm{pr}}}\\left({{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\right)\\right\\}. \\nonumber\\end{aligned}\\ ] ] if @xmath123 , then it follows that @xmath124   \\nonumber \\\\ & = e\\left[s(n-1)(b_{k , n-1}w_1 \\right .",
    "\\nonumber \\\\ & \\left . + ( 1-b_{k , n-1})w_2)\\vert b(n-1)=b_{k , n-1}\\right ] .",
    "\\label{eq : eqn54}\\end{aligned}\\ ] ] if @xmath125 , then transaction cost is paid which results @xmath124   \\nonumber\\\\ & = e\\left[s(n-1)(b_{k , n-1}w_1+(1-b_{k , n-1 } ) ) \\left(1-c \\vphantom{\\frac{b_{k , n-1}w_1}{b_{k , n-1}w_1+(1-b_{k , n-1})w_2 } } \\right.\\right.\\nonumber \\\\   & \\left.\\left .",
    "\\times \\left| \\frac{b_{k , n-1}w_1}{b_{k , n-1}w_1+(1-b_{k , n-1})w_2}-b\\right|\\right )   { \\big | } b(n-1)=b_{k , n-1}\\right ] .",
    "\\label{eq : eqn55}\\end{aligned}\\ ] ] hence , we can write after using and as @xmath122\\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{1,n}}{{\\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right)\\nonumber \\\\ & \\times\\left\\ { \\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{v}}}_{k,1,n}}{{\\mathrm{pr}}}\\left({{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\right)e\\left [ s(n-1)\\right.\\right.\\nonumber\\\\&\\left.\\left.\\times(b_{k , n-1}w_1+(1-b_{k , n-1})w_2)\\vert b(n-1)=b_{k , n-1}\\right ] \\right .",
    "\\nonumber\\\\ & + \\left . \\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in",
    "{ { \\mathcal{r}}}_{k,1,n } } { { \\mathrm{pr}}}\\left({{\\mathbf{x}}}(n)={{\\mathbf{w}}}\\right ) \\right .",
    "\\label{eq : eqn52}\\\\ & \\left .",
    "\\times e\\left[s(n-1)(b_{k , n-1}w_1+(1-b_{k , n-1}))\\right.\\right.\\nonumber\\\\&\\left.\\left.\\left(1-c\\left| \\frac{b_{k , n-1}w_1}{b_{k",
    ", n-1}w_1+(1-b_{k , n-1})w_2}-b\\right|\\right )   \\big | \\right.\\right.\\nonumber\\\\&\\left.\\left.b(n-1)=b_{k , n-1}\\right ] \\vphantom{\\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{v}}}_{k,1,n } } } \\right\\}. \\nonumber\\end{aligned}\\ ] ] thus , we can write @xmath120 $ ] from @xmath87 $ ] as @xmath122\\nonumber \\\\ & = \\sum_{b_{k , n-1}\\in { { \\mathcal{n}}}_{1,n } } { { \\mathrm{pr}}}\\left(b(n-1)=b_{k , n-1}\\right)e\\left[s(n-1)\\vert \\right .",
    "\\nonumber \\\\ & \\left .",
    "b(n-1)=b_{k , n-1}\\right ] \\left\\ { \\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{v}}}_{k,1,n}}(b_{k , n-1}w_1 \\right.\\nonumber\\\\&\\left .",
    "+ ( 1-b_{k , n-1})w_2)p_1(w_1)p_2(w_2 ) \\right .",
    "\\label{eq : eqn53}\\\\   & + \\left .",
    "\\vphantom { } \\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{r}}}_{k,1,n}}(b_{k , n-1}w_1+(1-b_{k , n-1}))\\right.\\nonumber\\\\&\\left.\\times\\left(1-c\\left| \\frac{b_{k , n-1}w_1}{b_{k , n-1}w_1+(1-b_{k , n-1})w_2}-b\\right|\\right ) \\right.\\nonumber\\\\&\\left.\\times p_1(w_1)p_2(w_2)\\right\\ } , \\nonumber\\end{aligned}\\ ] ] which yields the recursive expressions for @xmath105 $ ] iteratively for each @xmath80 with and .    hence , we can calculate @xmath126 $ ] @xmath127 for the case where the portfolio @xmath103 for @xmath128 by and for the case where the portfolio @xmath129 by .",
    "therefore , we can evaluate @xmath66 $ ] iteratively by .",
    "since , we have the recursive formulation , we can optimize @xmath21 and @xmath26 by a brute force search as shown in the simulations section .",
    "for this recursive evaluation , we have to find the set of achievable portfolios at each investment period to compute @xmath66 $ ] by .",
    "hence , we next analyze the number of calculations required to evaluate the expected achieved wealth @xmath66 $ ] .",
    "we next investigate the number of achievable portfolios at a given market period to determine the complexity of the iterative algorithm .",
    "we show that the set of achievable portfolios at period @xmath12 is equivalent to the set of achievable portfolios when the portfolio @xmath50 does not leave the interval @xmath55 for @xmath12 investment periods .",
    "we first demonstrate that if the portfolio never leaves the interval @xmath55 for @xmath12 periods , then @xmath130 is given by @xmath131 , where @xmath132 with a sample space @xmath133 where @xmath134 .",
    "then , we argue that the number of achievable portfolios at period @xmath12 , @xmath135 , is equal to the number of different values that the sum @xmath136 can take when the portfolio does not leave the interval @xmath55 for @xmath12 investment periods .",
    "we point out that @xmath137 since the price relative sequences @xmath31 and @xmath32 are elements of the same sample space @xmath39 with @xmath138 and by using this , we find an upper bound on the number of achievable portfolios .",
    "the number of achievable portfolios at period @xmath12 , @xmath135 , is equal to the number of different values that the sum @xmath136 can take when the portfolio @xmath50 does not leave the interval @xmath55 for @xmath12 investment periods and is bounded by @xmath139 , i.e. , @xmath140 .",
    "[ lem : num_of_states ]    the proof is in the appendix a.    note that the complexity of calculating @xmath66 $ ] is bounded by @xmath141 since at each period @xmath142 , we calculate @xmath143 $ ] as a summation of @xmath144 terms , i.e. , @xmath143=\\sum_{l=1}^{m_n}e[s(n)\\vert    b(n)=b_{l , n}]{{\\mathrm{pr}}}\\left(b(n)=b_{l , n}\\right)$ ] and @xmath145 .    in the next section ,",
    "we extend the given iterative algorithm to calculate the expected achieved wealth in a market with @xmath0-assets , where @xmath0 is an arbitrary number determined by the investor .      in this section",
    ", we generalize the iterative method introduced in section  [ subsec : algorithm ] to a market with @xmath0 assets where @xmath146 .",
    "we model the market as a sequence of i.i.d .",
    "price relative vectors @xmath147 $ ] , where @xmath148 and the p.m.f . of @xmath29 is @xmath149 . for @xmath0-asset case ,",
    "the portfolio vector is given by @xmath150 $ ] , @xmath151 , @xmath152 , target portfolio vector is defined as @xmath153 $ ] and the threshold vector is given by @xmath154 $ ] .",
    "along these lines , trp@xmath155 rebalances the wealth allocation @xmath156 to @xmath157 only when @xmath158\\times[b_2-{\\mbox{$\\epsilon$}}_2 , b_2+{\\mbox{$\\epsilon$}}_2]\\times \\ldots \\times[b_m-{\\mbox{$\\epsilon$}}_m , b_m+{\\mbox{$\\epsilon$}}_m]$ ] . in this case , if the wealth allocation is not rebalanced for @xmath12 investment periods , then the proportion of wealth invested in the @xmath5th asset becomes @xmath159 and achieved wealth is given by @xmath160 we define the set of achievable portfolios at period @xmath12 as @xmath161 where @xmath162 .",
    "in accordance with the definitions given in two - asset market case , the definitions of the portfolio transition sets and the transition probabilities of achievable portfolios follows .",
    "then similar to the iterative algorithm introduced in section  [ subsec : algorithm ] , and , we can evaluate @xmath163 $ ] for @xmath80 from @xmath164 $ ] for @xmath79 iteratively to calculate @xmath66 $ ] .",
    "therefore for the @xmath0-asset market case , by using @xmath165 = \\sum_{l=1}^{m_n } { { \\mathrm{pr}}}\\left({{\\mathbf{b}}}(n)={{\\mathbf{b}}}_{l , n}\\right ) e\\left[s(n ) | { { \\mathbf{b}}}(n)={{\\mathbf{b}}}_{l , n } \\right],\\end{aligned}\\ ] ] the expected achieved wealth @xmath66 $ ] can be evaluated iteratively .    in the next section ,",
    "we show that the set of all achievable portfolios , @xmath166 , is finite under mild technical conditions .      in this section ,",
    "we investigate the cardinality of the set of achievable portfolios @xmath167 and demonstrate that @xmath167 is finite under certain conditions in the following theorem , theorem  [ delta2 ] .",
    "this result is significant since when @xmath167 is finite , we can derive a recursive update with a constant complexity , i.e. , the number of states does not grow , to calculate the expected achieved wealth @xmath143 $ ] at any investment period .",
    "we demonstrate that the portfolio sequence forms a markov chain with a finite state space and converges to a stationary distribution .",
    "then , we can investigate the limiting behavior of the expected achieved wealth using this update to optimize @xmath21 and @xmath54 . before providing the main theorem",
    ", we first state a couple of lemmas that are used in the derivation of the main result of this section .",
    "we first point out that in lemma  [ lem : num_of_states ] , we showed that the number of achievable portfolios at period @xmath12 is equal to the number of different values that the sum @xmath136 can take when the portfolio @xmath50 does not leave the interval @xmath55 for @xmath12 investment periods .",
    "then , we observed that the cardinality of the set @xmath167 is equal to the number of different values that the sum @xmath136 can take for any @xmath77 when the portfolio @xmath50 never leaves the interval @xmath55 .",
    "we next show that the portfolio @xmath50 does not leave the interval @xmath55 for @xmath12 periods if and only if the sum @xmath168 for @xmath169 , where @xmath170 and @xmath171 .",
    "moreover , we also prove that the number of achievable portfolios is equal to the cardinality of the set @xmath172 where we define the set @xmath173 as @xmath174 @xmath175 , @xmath176 .",
    "note that @xmath177 is the set of positive elements of the set @xmath178 and any value that the sum @xmath179 can take is an element of @xmath173 .",
    "hence , if we can demonstrate that the set @xmath172 is finite under certain conditions , then it yields the cardinality of the set @xmath167 since @xmath167 is finite if and only if @xmath180 is finite .    in the following lemma , we prove that the portfolio @xmath50 does not leave the interval @xmath55 for @xmath12 periods if and only if the sum @xmath168 for @xmath169 .",
    "[ lem : sumofzs ] the portfolio @xmath50 does not leave the interval @xmath55 for @xmath12 investment periods if and only if the sum @xmath181 for @xmath169 .",
    "the proof is in the appendix b.    in the following lemma , we demonstrate that if the condition @xmath182 is satisfied for each @xmath183 , then for any element @xmath184 , there exists an @xmath12-period market scenario where the portfolio does not leave the interval @xmath55 for @xmath12 investment periods and @xmath185 such that @xmath186 for some @xmath187 and @xmath77 .",
    "it follows that the set of different values that the sum @xmath188 can take for any @xmath77 when the portfolio never leaves the interval @xmath55 for @xmath12 investment periods is equivalent to the set @xmath189 .",
    "hence , we show that the cardinality of the set of achievable portfolios is equal to the cardinality of the set @xmath172 . after this lemma ,",
    "we present conditions under which the set @xmath190 is finite so that the set of achievable portfolios is also finite .",
    "[ lemma : m_achieve ] if @xmath191 for @xmath183 , then any element of @xmath172 can be written as a sum @xmath192 for some @xmath77 where @xmath193 and @xmath194 for @xmath169 .    in lemma  [ lem : num_of_states ]",
    ", we showed that for any investment period @xmath12 , the number of different portfolio values that @xmath130 can take is equal to the number of different values that the sum @xmath179 can take where @xmath195 for @xmath169 . since this is true for any investment period @xmath12 , it follows that the number of all achievable portfolios is equal to the number of different values that the sum @xmath188 can take for any @xmath77 such that @xmath196 .    here",
    ", we show that if @xmath197 , then there exists a sequence @xmath187 for some @xmath77 such that @xmath186 and @xmath198 for @xmath169 .",
    "let @xmath199 .",
    "then , it can be written as @xmath200 for some @xmath201 and @xmath202 , @xmath203 .",
    "we define @xmath204 for @xmath205 and construct a sequence @xmath187 for some @xmath77 such that @xmath186 and @xmath206 for each @xmath169 as follows .",
    "we choose @xmath202 such that @xmath207 , let @xmath208 and decrease @xmath209 by 1 .",
    "we see that @xmath210 since @xmath211 .",
    "next , we choose @xmath212 such that @xmath213 , let @xmath214 and increase @xmath215 by 1",
    ". then , it follows that @xmath216 since @xmath217 . at any time @xmath218 ,",
    "if    * @xmath219 , we choose @xmath220 such that @xmath221 , let @xmath222 and increase @xmath223 by 1 .",
    "note that @xmath224 since @xmath206 , @xmath219 and @xmath225 .",
    "now assume that there exists no @xmath220 such that @xmath221 , i.e. , @xmath226 for @xmath227 .",
    "if we let @xmath228 where @xmath229 and @xmath230 for @xmath231 , then we get that @xmath232 where @xmath233 .",
    "we observe that @xmath234 for @xmath235 since @xmath236 , @xmath237 and @xmath238 .",
    "* @xmath239 , we choose @xmath220 such that @xmath240 , let @xmath241 and decrease @xmath223 by 1 .",
    "note that @xmath224 since @xmath206 , @xmath239 and @xmath242 .",
    "assume that there exists no @xmath220 such that @xmath243 , i.e. , @xmath213 for @xmath227 . if we let @xmath244 where @xmath245 and @xmath230 for @xmath246 , then we get that @xmath232 where @xmath247 .",
    "we see that @xmath234 for @xmath235 since @xmath236 , @xmath248 and @xmath239 .    therefore , we can write @xmath249 for some @xmath71 where @xmath187 and @xmath250 for @xmath169 .",
    "hence , we showed that if the condition @xmath182 is satisfied for each @xmath183 , then any element of the set @xmath189 can be written as a sum @xmath188 for some @xmath77 when the portfolio does not leave the interval @xmath55 for @xmath12 investment periods .",
    "it follows that the set of different values that the sum @xmath188 can take for any @xmath77 when the portfolio does not leave the interval @xmath55 for @xmath12 investment periods is equivalent to the set @xmath172 .",
    "thus , the number of achievable portfolios is equal to the cardinality of the set @xmath189 . in the following theorem",
    ", we demonstrate that if @xmath191 for @xmath183 and the set @xmath173 has a minimum positive element , then @xmath172 is finite .",
    "hence , the set of achievable portfolios is also finite under these conditions .",
    "otherwise , we show that the set @xmath172 contains infinitely many elements so that the set of achievable portfolios is also infinite .",
    "thus , we show that the set of achievable portfolios is finite if and only if the minimum positive element of the set @xmath173 exists .",
    "if @xmath191 for @xmath183 and the set @xmath173 has a minimum positive element , i.e. , if @xmath251 exists , then the set of achievable portfolio @xmath252 is finite . if such a minimum positive element does not exist , then @xmath167 is countably infinite .",
    "[ thm : num_of_states ]    in theorem  [ thm : num_of_states ] we present a necessary and sufficient condition for the achievable portfolios to be finite .",
    "we emphasize that the required condition , i.e. , @xmath182 for @xmath183 , is a necessary required technical condition which assures that the trp thresholds are large enough to prohibit constant rebalancings at each investment period . in this sense , this condition does not limit the generality of the trp framework .    by theorem  [ thm : num_of_states ]",
    ", we establish the conditions for a unique stationary distribution of the achievable portfolios . with the existence of a unique stationary distribution , in the next section , we provide the asymptotic behavior of the expected wealth growth by presenting the growth rate .    for any investment period @xmath12 , we showed in lemma  [ lem : num_of_states ] that the number of different portfolio values that @xmath130 can take is equal to the number of different values that the sum @xmath188 can take where the sum @xmath253 for @xmath169 . in the lemma  [ lemma : m_achieve ] , we showed that the set of different values that the sum @xmath188 can take where the sum @xmath253 for @xmath169 is equivalent to the set @xmath172 .",
    "we let @xmath254 be the set of values that the sum @xmath196 can take for any @xmath77 , i.e. , @xmath255 . now , assume that the minimum positive element @xmath256 exists .",
    "we next illustrate that the sum @xmath257 for any sequence @xmath258 can be written as @xmath259 for some @xmath260 , i.e. , @xmath261 .",
    "assume that there exists a sequence @xmath258 such that the sum @xmath262 for any @xmath260 .",
    "if we divide the real line into intervals of length @xmath256 , then @xmath263 should lie in one of the intervals , i.e. , there exists @xmath264 such that @xmath265 so that we can write @xmath266 where @xmath267 . by definition of @xmath173 ,",
    "an integer multiple of any element of @xmath173 is also an element of @xmath173 so that @xmath268 since @xmath269 . moreover , for any two elements of @xmath173 ,",
    "their difference is also an element of @xmath173 so that @xmath270 since @xmath271 and @xmath268 .",
    "however , this contradicts to the fact that @xmath256 is the minimum positive element of @xmath173 since @xmath267 and @xmath272 .",
    "hence , it follows that any element of @xmath254 can be written as @xmath259 for some @xmath260 .",
    "note that there are finitely many elements in @xmath254 since any element @xmath273 can be written as @xmath274 for some @xmath260 and @xmath275 . since @xmath276 , it follows that the set of achievable portfolios @xmath167 is finite .    to show that if @xmath256 does not exist then @xmath167 contains infinitely many elements , we assume that @xmath256 does not exist . since every finite set of real numbers has a minimum , there are either countably infinitely many positive elements in the set @xmath173 or none .",
    "we know that there exists @xmath277 so that there are positive numbers in @xmath173",
    ". therefore , there are infinitely many elements in @xmath173 .",
    "now assume that there exists @xmath278 that can be written as a sum @xmath192 for some @xmath77 where @xmath258 and @xmath194 .",
    "then , by lemma  [ lemma : m_achieve ] , it follows that @xmath279 and since there exists no positive minimum element of @xmath173 , there exists @xmath280 such that @xmath281 so that @xmath282 . in this way",
    ", we can construct a decreasing sequence @xmath283 such that @xmath284 for each @xmath285 . note that for any @xmath285",
    ", @xmath286 is also element of @xmath254 by lemma  [ lemma : m_achieve ] so that there are countably infinite elements in @xmath254 .",
    "hence , it follows that @xmath167 has countably infinitely many elements .",
    "we showed that if @xmath287 for @xmath183 and the minimum positive element of the set @xmath173 exists , then the set of achievable portfolios , @xmath167 , is finite . if the minimum positive element of the set @xmath173 does not exist , then the set @xmath172 is countably infinite so that the number of achievable portfolios is also countably infinite .",
    "hence , the set of achievable portfolios is finite if and only if the minimum positive element of the set @xmath173 exists .",
    "however , theorem  [ thm : num_of_states ] does not specify the exact number of achievable portfolios . in the following corollary",
    ", we demonstrate that the number of achievable portfolios is @xmath288 if the set of achievable portfolios is finite .    if @xmath191 for @xmath183 and @xmath289 exists , then the number of achievable portfolios is@xmath288 is the largest integer less than or equal to @xmath290 .",
    "[ lem : ach_of_states ]    assume that @xmath256 exists and there exists @xmath291 such that @xmath292 can be written as a sum @xmath192 for some @xmath77 and @xmath193 such that @xmath293 for @xmath169 .",
    "note that such a @xmath292 exists , e.g. , @xmath294 where @xmath183 since @xmath295 .",
    "then , by lemma  [ lemma : m_achieve ] , it follows that @xmath296 .",
    "since @xmath256 is the minimum positive element of @xmath173 , it follows that @xmath297 and @xmath298 .",
    "hence , by lemma  [ lemma : m_achieve ] , we get that @xmath256 can be written as a sum @xmath299 for some @xmath300 and @xmath301 where @xmath293 for @xmath302 .",
    "we note that @xmath256 is an element of the set of different values that the sum @xmath179 can take for any @xmath77 and @xmath303 for @xmath142 such that the portfolio does not leave the interval @xmath55 .",
    "we showed in theorem  [ thm : num_of_states ] that any element of @xmath173 can be written as @xmath259 for some @xmath260 so that the number of elements in @xmath172 is @xmath288 .",
    "hence , it follows that there are exactly @xmath288 achievable portfolios since lemma  [ lemma : m_achieve ] implies that the set @xmath172 is equivalent to the set of different values that the sum @xmath179 can take for any @xmath77 and @xmath303 for @xmath142 such that the sum @xmath168 for each @xmath169 and the cardinality of the latter set is equal to the number of achievable portfolios .    in theorem  [ thm : num_of_states ]",
    ", we introduce conditions on the cardinality of the set of all achievable portfolio states , @xmath167 , and showed that if @xmath191 for all @xmath183 and the minimum positive element of the set @xmath173 exists , then @xmath167 is finite .",
    "this result is significant when we analyze the asymptotic behavior of the expected achieved wealth , i.e. , in the following , we demonstrate that when @xmath167 is finite , the portfolio sequence converges to a stationary distribution .",
    "hence , we can determine the limiting behavior of the expected achieved wealth so that we can optimize @xmath21 and @xmath54 . to accomplish this , specifically , we first present a recursive update to evaluate @xmath143 $ ] .",
    "we then maximize @xmath304 $ ] over @xmath21 and @xmath54 with a brute - force search , i.e. , we calculate @xmath305 for different @xmath306 pairs and find the one that yields the maximum .",
    "if we assume that @xmath191 for all @xmath183 and @xmath307 exists , then the set of all achievable portfolios @xmath167 is finite . by corollary  [ lem : ach_of_states ] , it follows that there are exactly @xmath308 achievable portfolios . we let @xmath309 and , without loss of generality , @xmath310 .",
    "we define the probability mass vector of the portfolio sequence as @xmath311^t$ ] where @xmath312 . the portfolio sequence @xmath50 forms a homogeneous markov chain with a finite state space @xmath167 since the transition probabilities between states are independent of period @xmath10 .",
    "we see that @xmath50 is irreducible since each state communicates with other states so that all states are null - persistent since @xmath167 is finite @xcite .",
    "then , it follows that there exists a unique stationary distribution vector @xmath313 , i.e. , @xmath314 . to calculate @xmath313 , we first observe that the set of portfolios that are connected to @xmath315 , @xmath316 , and the set of price relative vectors that connect @xmath317 to @xmath315 , @xmath318 , are independent of investment period since the price relative sequences are i.i.d . for @xmath319 and @xmath320 .",
    "hence , we write @xmath321 and @xmath322 for @xmath285 .",
    "we next note that the state transition probabilities are also independent of investment period and write @xmath323 for @xmath285 , @xmath319 and @xmath320 .",
    "therefore , we can write @xmath324 as @xmath325 where @xmath326 if @xmath327 . now , by using the definition of @xmath328 and , we get @xmath329 for each @xmath10 , where @xmath330 is the state transition matrix , i.e. , @xmath331 . we next determine the limiting behavior of the expected achieved wealth @xmath143 $ ] to optimize @xmath21 and @xmath54 as follows . in section  [ subsec : algorithm ] , we showed that @xmath143 $ ] can be calculated iteratively by , and .",
    "if we define the vector @xmath332^t$ ] where @xmath333 $ ] , then we can calculate @xmath143 $ ] as the sum of the entries of @xmath334 by , i.e. , @xmath335 = \\sum_{i=1}^l e_i(n ) = \\mathbf{1}^t { { \\mathbf{e}}}(n)$ ] , where @xmath336 is the vector of ones .",
    "hence , by definition of @xmath334 , we can write @xmath337 where the matrix @xmath338 is given by @xmath339^t\\in { { \\mathcal{u}}}_{1,1 } } \\kappa_1 & \\cdots & \\sum\\limits_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{u}}}_{l,1 } } \\kappa_l   \\\\ \\vdots   & \\ddots & \\vdots \\\\ \\sum\\limits_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{u}}}_{1,l } } \\kappa_1 & \\cdots & \\sum\\limits_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{u}}}_{l , l } } \\kappa_l \\end{matrix}\\right ] \\nonumber\\end{aligned}\\ ] ] where @xmath340 and we ignore rebalancing for presentation purposes . from and , @xmath338 does not depend on period @xmath10 since there are finitely many portfolio states , i.e. , @xmath338 is constant .",
    "if we take rebalancing into account , then only the first row of the matrix @xmath338 changes and the other rows remain the same where @xmath341^t\\in { { \\mathcal{v}}}_{j,1 } } \\left(b_1w_1 + ( 1-b_1)w_2\\right)p_1(w_1)p_2(w_2 ) \\nonumber \\\\            & + \\sum_{{{\\mathbf{w}}}=\\left[w_1\\;w_2\\right]^t\\in { { \\mathcal{r}}}_{j,1 } } \\left(b_1w_1 + ( 1-b_1)w_2\\right ) \\\\            & \\times \\left(1-c \\left|\\frac{b_1w_1}{b_1w_1+(1-b_1)w_2}-b\\right|\\right)p_1(w_1)p_2(w_2),\\end{aligned}\\ ] ] @xmath342 is the set of price relative vectors that connect @xmath343 to @xmath310 without crossing the threshold boundaries and @xmath344 is the set of price relative vectors that connect @xmath343 to @xmath310 by crossing the threshold boundaries for @xmath345 .",
    "note that we can find the matrix @xmath338 by using the set of achievable portfolios @xmath167 and the probability mass vectors @xmath47 and @xmath48 of the price relative sequences .    here",
    ", we analyze @xmath143 $ ] as @xmath346 as follows .",
    "we assume that the matrix @xmath338 is diagonalizable with the eigenvalues @xmath347 and , without loss of generality , @xmath348 , which is the case for a wide range of transaction costs @xcite .",
    "then , there exists a nonsingular matrix @xmath349 such that @xmath350 where @xmath351 is the diagonal matrix with entries @xmath347 .",
    "we observe that the matrix @xmath338 has nonnegative entries .",
    "therefore , it follows from perron - frobenius theorem @xcite that the matrix @xmath338 has a unique largest eigenvalue @xmath352 and any other eigenvalue is strictly smaller than @xmath353 in absolute value , i.e. , @xmath354 for @xmath355 .",
    "then , the recursion on @xmath356 yields @xmath357 , and after some algebra , the expected achieved wealth @xmath143 $ ] is given by @xmath358 = \\mathbf{1}^t { { \\mathbf{e}}}(n ) = \\mathbf{1}^t { { \\mathbf{b}}}{{\\mathbf{\\lambda}}}^n { { \\mathbf{b}}}^{-1 } { { \\mathbf{e}}}(0 ) = \\sum_{i=1}^l u_i v_i \\lambda_i^n,\\end{aligned}\\]]where @xmath359^t={{\\mathbf{b}}}^{t } \\mathbf{1}$ ] and @xmath360={{\\mathbf{b}}}^{-1}{{\\mathbf{e}}}(0)$ ] . then , it follows that @xmath361 = { \\lim\\limits_{n \\rightarrow \\infty}}\\frac{1}{n}\\log \\left\\{\\sum_{i=1}^l u_i v_i \\lambda_i^n\\right\\ } \\\\                                            & = { \\lim\\limits_{n \\rightarrow \\infty}}\\log \\lambda_1 + { \\lim\\limits_{n \\rightarrow \\infty}}\\frac{1}{n } \\log \\left\\{\\sum_{i=1}^l u_i v_i \\left(\\frac{\\lambda_i}{\\lambda_1}\\right)^n \\right\\ } \\\\                                            & = \\log \\lambda_1\\end{aligned}\\ ] ] since @xmath362 for @xmath363 .",
    "hence , we can optimize @xmath21 and @xmath54 as @xmath364 = { \\operatornamewithlimits{arg\\ max}}_{b\\in[0,1],0<{\\mbox{$\\epsilon$ } } } g(b,{\\mbox{$\\epsilon$}})= { \\operatornamewithlimits{arg\\ max}}_{b\\in[0,1],0<{\\mbox{$\\epsilon$}}}\\log \\lambda_1.\\end{aligned}\\ ] ] to maximize @xmath305 , we evaluate it for different values of @xmath306 pairs and find the pair that maximizes @xmath305 , i.e. , by a brute - force search in the simulations section .    in the next section ,",
    "we investigate the well - studied two - asset brownian market model with transaction costs .",
    "in this section , we consider the well - known two - asset brownian market , where stock price signals are generated from a standard brownian motion @xcite .",
    "portfolio selection problem in continuous time two - asset brownian markets with proportional transaction costs was investigated in @xcite , where the growth optimal investment strategy is shown to be a threshold portfolio . here ,",
    "as usually done in the financial literature @xcite , we first convert the continuous time brownian market by sampling to a discrete - time market @xcite . then",
    ", we calculate the expected achieved wealth and optimize @xmath21 and @xmath54 to find the best portfolio rebalancing strategy for a discrete - time brownian market with transaction costs .",
    "note that although , the growth optimal investment in discrete - time two - asset brownian markets with proportional transaction costs was investigated in @xcite , the expected achieved wealth and the optimal threshold interval @xmath55 has not been calculated yet .",
    "to model the brownian two - asset market , we use the price relative vector @xmath365^t$ ] with @xmath366 and @xmath367 where @xmath368 is constant and @xmath263 is a random variable with @xmath369 .",
    "this price relative vector is obtained by sampling the stock price processes of the continuous time two - asset brownian market @xcite .",
    "we emphasize that this sampling results a discrete - time market identical to the binomial model popular in asset pricing @xcite .",
    "we first present the set of achievable portfolios and the transition probabilities between portfolio states .    since the price of the first stock is the same over investment periods , the portfolio leaves the interval",
    "@xmath55 if either the money in the second stock grows over a certain limit or falls below a certain limit .",
    "if the portfolio @xmath50 does not leave the interval @xmath55 for @xmath12 investment periods , then the money in the first stock is @xmath21 dollars and the money in the second stock is @xmath370 for some @xmath371 so that the portfolio is @xmath372 . note that @xmath373 if and only if @xmath374 , where @xmath375 is the largest integer greater or equal to the @xmath376 . ] and @xmath377 .",
    "hence , the set of achievable portfolios is given by @xmath378 where @xmath379 and @xmath380 and @xmath381 .",
    "we see that the portfolio is rebalanced to @xmath381 only if it is in the state @xmath382 and @xmath383 or if it is in the state @xmath384 and @xmath385 . therefore , the transition probabilities are given by @xmath386 where @xmath387 is the probability that the portfolio @xmath388 given that @xmath389 for any period @xmath10 .",
    "we now calculate @xmath143 $ ] using the recursions in section  [ subsec : markov ] as follows .",
    "the sets of price relative vectors that connect portfolio states are given by @xmath390^t\\}\\;&:\\ ; i=1,\\ldots , s-1\\;\\mathrm{and}\\ ; j = i+1,\\;\\;\\\\ & \\mathrm{or}\\;\\ ; i = s\\;\\mathrm{and}\\;j=1-i_{{{\\mathrm{min}}}}\\\\ \\{\\left[1\\;e^{-k}\\right]^t\\}\\;&:\\ ; i=2,\\ldots , s-1\\;\\mathrm{and}\\ ; j = i-1,\\;\\;\\\\ & \\mathrm{or}\\;\\ ;",
    "i=1\\;\\mathrm{and}\\;j=1-i_{{{\\mathrm{min}}}}\\\\ \\varnothing\\;&:\\;\\mathrm{otherwise}. \\end{array}\\right.\\end{aligned}\\ ] ] hence , we can calculate the matrix @xmath338 defined in as @xmath391 where we ignore rebalancing .",
    "if we take rebalancing into account , then @xmath392 and @xmath393 then , by the recursions in section  [ subsec : markov ] , @xmath143 $ ] is given by @xmath394 .",
    "moreover , we maximize @xmath395= \\log \\lambda_1 , $ ] where @xmath353 is the largest eigenvalue of the matrix @xmath338 . here , we optimize @xmath21 and @xmath54 with a brute - force search , i.e. , we find @xmath353 for different @xmath306 pairs and find the one that achieves the maximum .",
    "in this section , we sequentially estimate the probability mass vectors @xmath47 and @xmath48 corresponding to @xmath31 and @xmath32 , respectively , using a maximum likelihood estimator ( mle ) . in general , these vectors may not be known or change in time , hence , could be estimated at each investment period prior to calculation of @xmath143 $ ] . the maximum likelihood estimator for a pmf on a finite set is well - known @xcite , but we provide the corresponding derivations here for completeness .",
    "we consider , without loss of generality , the price relative sequence @xmath31 and assume that its realizations are given by @xmath396 for @xmath142 and estimate @xmath47 .",
    "similar derivations follow for the price relative sequence @xmath32 and @xmath48 .",
    "note that as demonstrated in the simulations section , the corresponding estimation can be carried out over a finite length window to emphasize the most recent data .",
    "we define the realization vector @xmath397 $ ] and the probability mass function as @xmath398 for @xmath399 and the parameter vector @xmath400 $ ] . then , the mle of the probability mass vector @xmath47 is given by @xmath401 . since the price relative sequence @xmath31 is i.i.d .",
    ", it follows that @xmath402 since @xmath403 is the indicator function .",
    "if we change the order of the product operators , then we obtain @xmath404 where @xmath405 , i.e. , the number of realizations that are equal to @xmath406 for @xmath407 .",
    "note that @xmath408 .",
    "hence , we can write @xmath409 since @xmath410 is a monotone increasing function .",
    "if we define the vector @xmath411 $ ] , where @xmath412 for @xmath407 , then we see that @xmath413 for @xmath407 and @xmath414 .",
    "since @xmath415 and @xmath416 are probability vectors , i.e. , their entries are nonnegative and sum to one , it follows that @xmath417 and @xmath418 if and only if @xmath419 , i.e. , their relative entropy is nonnegative @xcite .",
    "therefore , we get that @xmath420 where the equality is reached if and only if @xmath419 . hence , it follows that @xmath421 so that we estimate the probability mass vector @xmath47 with @xmath422 $ ] at each investment period @xmath12 where @xmath423 is the proportion of realizations up to period @xmath12 that are equal to @xmath424 for @xmath406 .",
    "in this section , we demonstrate the performance of trps with several different examples .",
    "we first analyze the performance of trps in a discrete - time two - asset brownian market introduced in section  [ subsec : brownian ] . as the next example",
    ", we apply trps to historical data from @xcite collected from the new york stock exchange over a 22-year period and compare the results to those obtained from other investment strategies @xcite .",
    "we show that the performance of the trp algorithm is significantly better than the portfolio investment strategies from @xcite in historical data sets as expected from section iii .",
    "+    as the first scenario , we apply trps to a discrete - time two - asset brownian market . under this well",
    "studied market in the financial literature @xcite , the price relative vector is given by @xmath425^t$ ] , where @xmath426 , @xmath427 and @xmath428 with equal probabilities and we set @xmath429 @xcite . here , the sample spaces of the price relative sequences @xmath430 and @xmath431 are @xmath432 and @xmath433 , respectively , and @xmath434 , where @xmath435 , @xmath436 , @xmath437 . hence , the probability mass vectors of the price relative sequences @xmath430 and @xmath431 are given by @xmath438^t$ ] and @xmath439^t$ ] , respectively .",
    "based on this data , we evaluate the growth rate for different @xmath306 pairs to find the best trp that maximizes the growth rate using the approach introduced in section  [ subsec : brownian ] , i.e. , we form the matrix @xmath338 and evaluate the corresponding maximum eigenvalues to find the pair that achieves the largest maximum eigenvalue since this pair also maximizes the growth rate .",
    "then , we invest 1 dollars in a randomly generated two - asset brownian market using : the trp , labeled as , `` trp '' , i.e. , trp(@xmath21,@xmath54 ) with calculated @xmath306 pair , the scrp algorithm with the target portfolio vector @xmath440 $ ] , labeled as `` scrp '' , as suggested in @xcite , the iyengar s algorithm , labeled as `` iyengar '' , the cover s algorithm , labeled as `` cover '' , and the switching portfolio , labeled as `` switching '' , with parameters suggested in @xcite . in fig .",
    "[ fig : brownian ] , we plot the wealth achieved by each algorithm for transaction costs @xmath441 and @xmath442 , where @xmath443 is the proportion paid when rebalancing , i.e , @xmath442 is a @xmath444 commission . as expected from the derivations in section iii , we observe that , in both cases , the performance of the trp algorithm is significantly better than the other algorithms under transaction costs .     +    we next present results that illustrate the average performance of trps on a number of stock pairs from the historical data sets @xcite to avoid any bias to particular stock pairs . in this set of simulations ,",
    "we first randomly select pairs of stocks from the historical data that includes 34 stocks ( where the kin ark stock is excluded ) .",
    "the data includes the price relative sequences of 34 stock pairs for 5651 investment periods ( days ) .",
    "since the brute force algorithm introduced in section  [ subsec : algorithm ] requires the sample spaces of the price relative sequences , for each randomly selected stock pair , we proceed as follows .",
    "we first calculate the sample spaces and the probability mass vectors of the price relative sequences from the first 1000-day realizations of @xmath430 and @xmath431 , where the sample spaces are simply constructed by quantizing the observed realizations into bins .",
    "we observed that the performance of the trp is not effected by the number of bins provided that there are an adequate number of bins to approximate the continuous valued price relatives .",
    "then , we optimize @xmath21 and @xmath54 using the mle introduced in section iv and the brute force algorithm from section iii , and invest using this trp for the next 1000 periods , i.e. , from period 1001 to period 2000 .",
    "we then update @xmath306 pair using the first @xmath445-day realizations of the price relative vectors and invest using the best trp for the next 1000 periods .",
    "we repeat this process through all available data .",
    "hence , we invest on each stock pairs using trp for 4651 periods where we update @xmath306 pair at each 1000 periods . in fig .",
    "[ fig : average - a ] and fig .",
    "[ fig : average - b ] , we present the average performances of the trp algorithm , the scrp algorithm , the cover s algorithm , the iyengar s algorithm and the switching portfolio , under a mild transaction cost @xmath446 and a hefty transaction cost @xmath442 , respectively . in fig .",
    "[ fig : average ] , we present the wealth gain for each algorithm , where the results are averaged over randomly selected 10 independent stock pairs .",
    "we observe that although the performance of the algorithms other than the trp degrade with increasing transaction cost , the performance of the trp , using the mle , is not significantly effected since it can avoid excessive rebalancings .",
    "we further observe from these simulations that the average performance of the trp is better than the average performance of the other portfolio investment strategies commonly used in the literature .",
    "we studied growth optimal investment in i.i.d .",
    "discrete - time markets under proportional transaction costs . under this market model , we studied threshold portfolios that are shown to yield the optimal growth .",
    "we first introduced a recursive update to calculate the expected growth for a two - asset market and then extend our results to markets having more than two assets .",
    "we next demonstrated that under the threshold rebalancing framework , the achievable set of portfolios form an irreducible markov chain under mild technical conditions .",
    "we evaluated the corresponding stationary distribution of this markov chain , which provides a natural and efficient method to calculate the cumulative expected wealth .",
    "subsequently , the corresponding parameters are optimized using a brute force approach yielding the growth optimal investment portfolio under proportional transaction costs in i.i.d .",
    "discrete - time two - asset markets .",
    "we also solved the optimal portfolio selection in discrete - time markets constructed by sampling continuous - time brownian markets .",
    "for the case that the underlying discrete distributions of the price relative vectors are unknown , we provide a maximum likelihood estimator .",
    "we observed in our simulations , which include simulations using the historical data sets from @xcite , that the introduced trp algorithm significantly improves the achieved wealth under both mild and hefty transaction costs as predicted from our derivations .    *",
    "a ) * proof of lemma  [ lem : num_of_states ] : we analyze the cardinality of the set @xmath70 of achievable portfolios at period @xmath12 , @xmath135 , as follows .",
    "if we assume that an investor invests with a trp(@xmath21,@xmath54 ) for @xmath12 investment periods and the sequence of price relative vectors are given by @xmath447=\\left[x_1^{(n)}\\;x_2^{(n)}\\right ] \\right\\}_{n=1}^n$ ] and the portfolio sequence is given by @xmath448 , then we see that the portfolio could leave the interval at any period depending on the realizations of the price relative vector .",
    "we define an @xmath12-period market scenario as a sequence of portfolios @xmath449 .",
    "we can find the number of achievable portfolios at period @xmath12 as the number of different values that the last element of @xmath12-period market scenarios can take . here , we partition the set of @xmath12-period market scenarios according to the last time the portfolio leaves the interval @xmath55 and show that any achievable portfolio at period @xmath12 can be achieved by an @xmath12-period market scenario where the portfolio does no leave the interval @xmath55 for @xmath12 periods as follows .",
    "if we define the set @xmath450 as the set of @xmath12-period market scenarios , i.e. , @xmath451 where @xmath452 is the set of @xmath12-period market scenarios where the portfolio leaves the interval @xmath55 last time at period @xmath5 , @xmath453 , and @xmath454 is the set of @xmath12-period market scenarios where the portfolio does not leave the interval @xmath55 for @xmath12 investment periods .",
    "we point out that @xmath452 s are disjoint , i.e. , @xmath455 for @xmath456 and their union gives the set of all @xmath12-period market scenarios , i.e. , @xmath457 so that they form a partition for @xmath450 .",
    "we see that the set @xmath70 of achievable portfolios at period @xmath12 is the set of last elements of @xmath12-period market scenarios , i.e. , @xmath458 .",
    "we next show that the last element of any @xmath12-period market scenario from @xmath452 for @xmath453 is also a last element of an @xmath12-period market scenario from @xmath454 .",
    "therefore , we demonstrate that any element of the set @xmath70 is achievable by a market scenario from @xmath454 and @xmath459 .",
    "assume that @xmath460 for some @xmath461 so that @xmath462 , i.e. , the portfolio is rebalanced to @xmath21 last time at period @xmath5 .",
    "note that @xmath463 can also be achieved by an @xmath12-period market scenario @xmath464 where the portfolio never leaves the interval @xmath55 , @xmath465 for @xmath466 and @xmath467 for @xmath468 so that @xmath469 .",
    "hence , it follows that the set of achievable portfolios at period @xmath12 is the set of achievable portfolios by @xmath12-period market scenarios from @xmath454 .",
    "we next find the number of different values that @xmath130 can take where the portfolio does not leave the interval @xmath55 for @xmath12 investment periods .",
    "when the portfolio never leaves the interval @xmath55 for @xmath12 investment periods , @xmath130 is given by @xmath470 .",
    "if we write the reciprocal of @xmath130 as @xmath471 then we observe that the number of different values that the portfolio @xmath130 can take is the same as the number of different values that the sum @xmath188 can take .",
    "since the price relative sequences @xmath31 and @xmath32 are elements of the same sample space @xmath39 with @xmath472 , it follows that @xmath473 . since the number of different values that the sum @xmath188 can take is equal to @xmath474 and @xmath137 , it follows that the number of achievable portfolios at period @xmath12 is bounded by @xmath475 , i.e. , @xmath476 and the proof follows .",
    "+ * b ) * proof of lemma  [ lem : sumofzs]:if the portfolio does not leave the interval @xmath55 for @xmath12 investment periods , then @xmath477 for @xmath142 and it is not adjusted to @xmath21 at these periods so that @xmath478 for each @xmath142 . taking the reciprocal of @xmath50 , we get that @xmath479 noting that @xmath480 and taking the logarithm of each side , it follows that @xmath481 i.e. , @xmath482 for @xmath142 . now",
    ", if the portfolio leaves the interval @xmath55 first time at period @xmath368 for some @xmath483 , then we get that @xmath484 or @xmath485 so that we get @xmath486 or @xmath487 i.e. , @xmath488 ."
  ],
  "abstract_text": [
    "<S> we investigate how and when to diversify capital over assets , i.e. , the portfolio selection problem , from a signal processing perspective . to this end </S>",
    "<S> , we first construct portfolios that achieve the optimal expected growth in i.i.d . </S>",
    "<S> discrete - time two - asset markets under proportional transaction costs . </S>",
    "<S> we then extend our analysis to cover markets having more than two stocks . </S>",
    "<S> the market is modeled by a sequence of price relative vectors with arbitrary discrete distributions , which can also be used to approximate a wide class of continuous distributions . to achieve the optimal growth , we use threshold portfolios , where we introduce a recursive update to calculate the expected wealth . </S>",
    "<S> we then demonstrate that under the threshold rebalancing framework , the achievable set of portfolios elegantly form an irreducible markov chain under mild technical conditions . </S>",
    "<S> we evaluate the corresponding stationary distribution of this markov chain , which provides a natural and efficient method to calculate the cumulative expected wealth . </S>",
    "<S> subsequently , the corresponding parameters are optimized yielding the growth optimal portfolio under proportional transaction costs in i.i.d . </S>",
    "<S> discrete - time two - asset markets . as a widely known financial problem </S>",
    "<S> , we next solve optimal portfolio selection in discrete - time markets constructed by sampling continuous - time brownian markets . </S>",
    "<S> for the case that the underlying discrete distributions of the price relative vectors are unknown , we provide a maximum likelihood estimator that is also incorporated in the optimization framework in our simulations . </S>"
  ]
}