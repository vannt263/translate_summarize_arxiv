{
  "article_text": [
    "though self - contained , this paper is a sequel to @xcite . in that first paper",
    "we gave a general definition of the jsj deformation space @xmath2 of a finitely generated group @xmath0 over a class of subgroups @xmath3 , by means of a universal maximality property ; this definition agrees with the constructions given by rips - sela , dunwoody - sageev , fujiwara - papasoglu @xcite in various contexts .",
    "we showed that the jsj deformation space always exists when @xmath0 is finitely presented ( without any assumption on @xmath3 ) .",
    "we also explained that in general the jsj decomposition is not a single tree ( or graph of groups ) but a deformation space , i.e.  a collection of trees all having the same elliptic subgroups . a trivial example : if @xmath0 is free , its jsj deformation space over any @xmath3 is culler - vogtmann s ( unprojectivized ) outer space .    the first main goal of this paper is to introduce another type of jsj decomposition , which also exists whenever @xmath0 is finitely presented , and does lead to a well - defined tree @xmath4 ; being canonical , this tree is in particular invariant under any automorphism of @xmath0 ( provided that @xmath3 is ) .",
    "this construction is based on compatibility , and we call @xmath4 the _ compatibility jsj tree_. it is similar to the canonical tree constructed by scott and swarup @xcite , it dominates it and it may be non - trivial when scott and swarup s decomposition is trivial .    the second main goal is to use _ acylindricity _ to construct and describe the jsj deformation space and the jsj compatibility tree in various situations , for instance when @xmath0 is a csa group , or a @xmath1-limit group with @xmath1 a hyperbolic group ( possibly with torsion ) , or a relatively hyperbolic group . being based on acylindrical accessibility , these constructions only require that @xmath0 be finitely generated",
    ".      given two trees @xmath5 ( always with an action of @xmath0 and edge stabilizers in a given class @xmath3 ) , there does not always exist a map @xmath6 ( maps are always assumed to be @xmath0-equivariant ) .",
    "a necessary and sufficient condition is that every subgroup of @xmath0 which is elliptic in @xmath7 ( i.e.  fixes a point in @xmath7 ) also fixes a point in @xmath8 .",
    "we then say that @xmath7 _ dominates _ @xmath8 .",
    "they belong to the same _ deformation space _ if @xmath7 dominates @xmath8 and @xmath8 dominates @xmath7 ( i.e.  they have the same elliptic subgroups ) .",
    "domination is a partial order on the set of deformation spaces .",
    "a tree @xmath7 is elliptic with respect to @xmath8 if all edge stabilizers of @xmath7 are elliptic in @xmath8 . as in @xcite",
    ", we say that @xmath7 is _ universally elliptic _ if it is elliptic with respect to every tree .",
    "the jsj deformation space @xmath2 is defined as the maximal deformation space ( for domination ) containing a universally elliptic tree .",
    "its elements are jsj trees , i.e.  universally elliptic trees which dominate all universally elliptic trees .    to define compatibility , we impose restrictions on maps between trees .",
    "a _ collapse map _",
    "@xmath6 is a map consisting in collapsing edges in certain orbits to points ( in terms of graphs of groups , collapsing certain edges of the graph ) .",
    "we then say that @xmath8 is a collapse of @xmath7 , and @xmath7 is a _ refinement _ of @xmath8 .",
    "two trees @xmath5 are _ compatible _ if they have a common refinement : a tree @xmath9 such that there exist collapse maps @xmath10 .",
    "the standard example is the following : splittings of a hyperbolic surface group associated to two simple closed geodesics @xmath11 are compatible if and only if @xmath12 and @xmath13 are disjoint or equal .",
    "compatibility implies ellipticity , as @xmath7 is elliptic with respect to @xmath8 if and only if there exists @xmath9 with maps @xmath14 , where @xmath15 is a collapse map but @xmath16 is arbitrary .",
    "we now mimic the definition of the jsj deformation space given in @xcite , using compatibility instead of ellipticity .",
    "a tree is universally compatible if it is compatible with every tree .",
    "compatibility jsj deformation space _",
    "@xmath17 is the maximal deformation space ( for domination ) containing a universally compatible tree , if it exists .",
    "[ intro1 ] let @xmath0 be finitely presented , and let @xmath3 be any conjugacy - invariant class of subgroups of @xmath0 , stable under taking subgroups .",
    "then the compatibility jsj deformation space @xmath17 of @xmath0 over @xmath3 exists .    as mentioned above , the deformation space @xmath17 contains a preferred element @xmath18 ( except in degenerate cases ) .",
    "[ intro1.5 ] assume that @xmath17 exists and is irreducible .",
    "if @xmath3 is invariant under automorphisms of @xmath0 , then @xmath17 contains a tree @xmath18 which is invariant under automorphisms .",
    "this is because _ a deformation space @xmath19 containing an irreducible universally compatible tree has a preferred element_. we develop an analogy with arithmetic , viewing a refinement of @xmath20 as a multiple of @xmath20 .",
    "we define the least common multiple ( lcm ) of a family of pairwise compatible trees , and @xmath18 is the lcm of the reduced universally compatible trees contained in @xmath17 .",
    "being invariant under automorphisms sometimes forces @xmath18 to be trivial ( a point ) .",
    "this happens for instance when @xmath0 is free . on the other hand ,",
    "we give simple examples of virtually free groups , generalized baumslag - solitar groups , poincar duality groups , with @xmath18 non - trivial . for splittings over virtually cyclic groups ( or more generally @xmath21 groups ) , @xmath18 dominates ( sometimes strictly ) the tree constructed by scott and swarup as a regular neighbourhood .",
    "when @xmath0 is a one - ended hyperbolic group , @xmath18 is very close to the tree constructed by bowditch @xcite from the topology of @xmath22 .",
    "more involved examples are given at the end of the paper , using acylindricity . before moving on to this topic , let us say a few words about the proof of theorem [ intro1 ] .",
    "existence of the usual jsj deformation space is a fairly direct consequence of accessibility @xcite , but proving existence of the compatibility jsj deformation space is more delicate . among other things ,",
    "we use a limiting argument , and we need to know that a limit of universally compatible trees is universally compatible .    at this point",
    "we move into the world of @xmath23-trees ( simplicial or not ) , where collapse maps have a natural generalisation as maps preserving alignment : the image of any arc is an arc ( possibly a point ) .",
    "compatibility of @xmath23-trees thus makes sense . recall that the length function of an @xmath23-tree @xmath20 with an isometric action of @xmath0 is the map @xmath24 defined by @xmath25 .",
    "[ intro2 ] two irreducible @xmath23-trees @xmath5 with length functions @xmath26 are compatible if and only if @xmath27 is the length function of an @xmath23-tree .    as a warm - up",
    ", we give a proof of the following classical facts : a minimal irreducible @xmath23-tree is determined by its length function ; the equivariant gromov topology and the axes topology ( determined by length functions ) agree on the space of irreducible @xmath23-trees ( following a suggestion by m.  feighn , we extend this to the space of semi - simple trees ) .",
    "our proof does not use based length functions and extends to a proof of theorem [ intro2 ] .",
    "a useful corollary of theorem [ intro2 ] is that compatibility is a closed equivalence relation on the space of @xmath23-trees . in particular ,",
    "the space of @xmath23-trees compatible with a given tree is closed .      in the second part of this paper ,",
    "we prove the existence of the usual jsj deformation space @xmath2 , and the jsj compatibility tree @xmath18 , under some acylindricity conditions .",
    "since these conditions are rather technical , we first describe some of the applications given in the third part .",
    "recall that a group @xmath0 is _ csa _ if centralizers of non - trivial elements are abelian and malnormal .",
    "in order to deal with groups having torsion , we introduce _",
    "@xmath28-csa groups _",
    "( for @xmath28 a fixed integer ) , and we show that , for every hyperbolic group @xmath1 ( possibly with torsion ) , there exists @xmath28 such that @xmath1-limit groups are @xmath28-csa . also recall that a subgroup of a relatively hyperbolic group is _ elementary _ if it is parabolic or virtually cyclic .",
    "a group is small if it has no non - abelian free subgroup ( see subsection [ pti ] for a better definition ) .",
    "[ intro3 ] let @xmath0 be a finitely generated group , and @xmath29 an arbitrary family of subgroups , with @xmath0 one - ended relative to @xmath29 . in the following situations , the jsj deformation space @xmath30 of @xmath0 over @xmath3 relative to @xmath29 , and the compatibility jsj tree @xmath18 , exist",
    "moreover , non - small flexible vertex stabilizers are the same for @xmath18 as for trees in @xmath30 ; they are qh with finite fiber .",
    "* @xmath0 is a torsion - free csa group , @xmath3 is the class of abelian ( resp .",
    "cyclic ) subgroups .",
    "* @xmath0 is a @xmath1-limit group ( with @xmath1 a hyperbolic group ) , @xmath3 is the class of virtually abelian ( resp .",
    "virtually cyclic ) subgroups .",
    "* @xmath0 is a relatively hyperbolic group whith small parabolic groups , @xmath3 is the class of elementary ( resp .",
    "virtually cyclic ) subgroups .",
    "some explanations are in order .",
    "we work in a _ relative _ setting .",
    "this is important for applications ( see e.g.  @xcite ) , and also needed in our proofs .",
    "we therefore fix a ( possibly empty ) family @xmath29 of subgroups of @xmath0 , and we only consider trees relative to @xmath29 , i.e.  trees in which every @xmath31 fixes a point .",
    "the family @xmath29 is completely arbitrary ( in @xcite we needed @xmath29 to consist of finitely many finitely generated subgroups ) .",
    "we say that @xmath0 is _ one - ended relative to @xmath29 _ if it does not split over a finite group relative to @xmath29 .",
    "a vertex stabilizer of a jsj decomposition is _ flexible _ if it is not universally elliptic : there is a tree in which it fixes no point .",
    "a key fact of jsj theory is that flexible vertex stabilizers often are quadratically hanging ( qh ) : assuming @xmath0 to be torsion - free for simplicity , this means in the context of theorem [ intro3 ] that flexible vertex stabilizers @xmath32 which contain a free group @xmath33 are fundamental groups of compact surfaces , with incident edge groups contained in boundary subgroups ; moreover , the intersection of @xmath32 with a group conjugate to a group of @xmath29 must also be contained in a boundary subgroup .",
    "+ let us now explain how acylindricity is used to prove theorem [ intro3 ] . recall @xcite that a tree is @xmath34-acylindrical",
    "if segments of length @xmath35 have trivial stabilizers ( when @xmath0 has torsion , it is convenient to weaken this definition by allowing long segments to have finite stabilizers ; we neglect this issue in this introduction ) .",
    "acylindrical accessibility @xcite gives a bound on the number of orbits of edges and vertices of @xmath34-acylindrical trees .",
    "however , one can not use such a bound directly to prove the existence of jsj decompositions .",
    "it may happen that all trees under consideration are acylindrical ( for instance , cyclic splittings of hyperbolic groups have this property ) . in this case we prove that jsj decompositions exist by analyzing a limiting @xmath23-tree using sela s structure theorem @xcite .",
    "but in general we have to deal with non - acylindrical trees .",
    "to prove theorem [ intro3 ] , we have to be able to associate an acylindrical tree @xmath36 to a given tree @xmath20 ; in applications @xmath36 is the ( collapsed ) tree of cylinders of @xmath20 introduced in @xcite ( see subsection [ defcyl ] ) .",
    "the tree @xmath36 must be dominated by @xmath20 , and not too different from @xmath20 : groups which are elliptic in @xmath36 but not in @xmath20 should be small ( they do not contain @xmath33 ) .",
    "we say that @xmath36 is _ smally dominated _ by @xmath20 .",
    "here is an example ( which already appears in @xcite ) .",
    "let @xmath20 be the bass - serre tree of the graph of groups @xmath1 pictured on the left of figure [ fig_ex ] ( all punctured tori have the same boundary subgroup , equal to the edge groups of @xmath1 ) .",
    "it is not acylindrical , so we consider its tree of cylinders @xmath36 ( whose quotient graph of groups @xmath37 is pictured on the right of figure [ fig_ex ] ) .",
    "the tree @xmath36 is acylindrical , but @xmath37 has a new ( small ) vertex stabilizer isomorphic to @xmath38 .",
    "the tree @xmath20 is a cyclic jsj tree .",
    "the tree @xmath36 is the cyclic compatibility jsj tree of @xmath0 , it is also a cyclic jsj tree relative to non - cyclic abelian subgroups .",
    "the proof of theorem [ intro3 ] first consists in constructing a jsj tree @xmath39 relative to @xmath29 and to small subgroups which are not virtually cyclic .",
    "we then construct a jsj tree @xmath40 ( only relative to @xmath29 ) by refining @xmath39 at vertices with small stabilizer .",
    "the tree @xmath39 is the collapsed tree of cylinders of @xmath40 .",
    "we show that it is ( very closely related to ) the compatibility jsj tree .",
    "the paper is organized as follows . in section [ arb ]",
    "we prove theorem [ intro2 ] and we define lcm s of compatible simplicial trees .",
    "theorems [ intro1 ] and [ intro1.5 ] are proved in section [ compt ] , and simple examples of compatibility jsj trees are given in section [ exemp ] . in sections [ unac ] and [ sec_smally_acy ]",
    "we construct jsj trees and we describe their flexible subgroups , first under the asumption that trees are acylindrical , and then under the assumption that every tree smally dominates an acylindrical tree .",
    "we then recall the definition of the tree of cylinders and explain how this leads to small domination ( section [ cyl ] ) .",
    "the compatibility properties of the tree of cylinders are used in subsection [ tc ] to construct the jsj compatibility tree . in sections",
    "[ acsa ] through [ sec_relh ] we apply the results of part [ part2 ] to csa ( and @xmath28-csa ) groups and to relatively hyperbolic groups . in section [ sec_vc ]",
    "we consider ( virtually cyclic ) splittings . in this case one may have to slightly refine @xmath39 in order to get the compatibility jsj tree .",
    "the last section explains how one can use jsj trees to describe small actions on @xmath23-trees .",
    "this gives another , more general , approach to the main result of @xcite .      in this part of the paper ,",
    "we prove existence of the usual jsj deformation space @xmath2 , under some acylindricity assumptions .",
    "we will return to the compatibility jsj in subsection [ tc ] .",
    "as above , we fix a finitely generated group @xmath0 and a class @xmath3 of subgroups of @xmath0 which is stable under conjugating and passing to subgroups .",
    "we will work in a relative situation , both for applications and because the proof uses relative trees ( see section [ sec_smally_acy ] ) .",
    "we therefore fix an arbitrary set @xmath29 of subgroups of @xmath0 ( possibly empty ) , and we consider @xmath43-trees , i.e.   minimal actions of @xmath0 on simplicial trees with edge stabilizers in @xmath3 , in which every subgroup occuring in @xmath29 is elliptic",
    ".    using acylindrical accessibility , we first show ( sections [ unac ] and [ sec_smally_acy ] ) that one may construct the jsj deformation space of @xmath0 over @xmath3 relative to @xmath29 , and describe its flexible subgroups , provided that every tree @xmath20 may be mapped to an acylindrical tree @xmath36 whose deformation space is not too different from that of @xmath20 .",
    "we then explain ( section [ cyl ] ) how the tree of cylinders introduced in @xcite yields such acylindrical trees @xmath36 .",
    "but the tree of cylinders also has strong compatibility properties , which are used in subsection [ tc ] to construct and describe the jsj compatibility tree .",
    "applications of these constructions will be given in part [ exam ] .",
    "for concreteness , we describe the example studied in section [ acsa ] right away .",
    "see also the example given in the introduction .",
    "[ asuiv ] @xmath0 is a torsion - free csa group ( for instance a limit group , or a torsion - free hyperbolic group ) , @xmath3 is the family of its abelian subgroups , @xmath29 is arbitrary .",
    "later we will introduce @xmath511 ; they should be thought of as follows .",
    "@xmath512 is the family of non - trivial abelian subgroups , @xmath513 is the commutation relation on @xmath512 , and @xmath514 will be the tree of cylinders of @xmath20 for @xmath513 .",
    "the tree @xmath36 is @xmath515-acylindrical with @xmath200 and @xmath516 : stabilizers of arcs of length @xmath517 have cardinality @xmath518 .",
    "finally , @xmath519 will be the family of abelian subgroups , @xmath520 the family of non - cyclic abelian subgroups .",
    "subgroups becoming elliptic when passing from @xmath20 to @xmath36 belong to @xmath519 .",
    "all trees considered in sections [ unac ] through [ sec_vc ] are simplicial , except for the limit tree @xmath521 introduced in subsection [ exis ] .      in part",
    "[ part_compat ] , we gave a general definition and proved the existence of the compatibility jsj tree @xmath18 for @xmath0 finitely presented . in part",
    "[ part2 ] , we gave a general existence theorem for the jsj decomposition of a finitely generated group under acylindricity hypotheses .",
    "in the following sections , we are going to describe examples where these results apply .",
    "they will mostly be based on the tree of cylinders construction .    as we saw in subsection [ tc ] , the tree of cylinders enjoys strong compatibility properties . because of this , we will see that in many examples , the ( collapsed ) tree of cylinders @xmath654 of the jsj deformation space satisfies the same compatibility properties , and lives in the same deformation space , as the compatibility jsj tree @xmath18 .",
    "although defined in less generality , @xmath654 is usually easier to describe than @xmath18 and , for this reason , is more useful than @xmath18 in concrete situations ( see corollary [ thm_jsjrcourt ] ) .",
    "note that any automorphism of @xmath0 leaving @xmath3 and @xmath29 invariant leaves @xmath2 and @xmath17 invariant , hence fixes both @xmath654 and @xmath18 .",
    "we first treat the case of abelian splittings of csa groups .",
    "to allow torsion , we introduce @xmath28-csa groups in section [ kcsa ] , and describe their jsj decomposition over virtually abelian groups .",
    "we then consider elementary splittings of relatively hyperbolic groups .",
    "finally , we consider splittings of a finitely generated group over virtually cyclic groups under the assumption that their commensurizers are small .",
    "then we relate these jsj decompositions to actions on @xmath23-trees .",
    "let @xmath0 be a finitely generated group .",
    "we consider actions of @xmath0 on simplicial trees @xmath20 .",
    "we usually assume that @xmath0 acts without inversion , and @xmath20 has no _ redundant vertex _ : if a vertex has valence @xmath41 , it is the unique fixed point of some element of @xmath0 .",
    "we denote by @xmath42 the set of vertices of @xmath20 .    by bass - serre theory ,",
    "the action of @xmath0 on @xmath20 can be viewed as a splitting of @xmath0 as a marked graph of groups @xmath1 , i.e.  an isomorphism between @xmath0 and the fundamental group of a graph of groups .",
    "a one - edge splitting ( when @xmath1 has one edge ) is an amalgam or an hnn - extension .    in order to do jsj theory",
    ", we will fix a family @xmath3 of subgroups of @xmath0 , which is stable under conjugation and under taking subgroups , and we only consider trees with edge stabilizers in @xmath3 ( splittings over groups in @xmath3 ) .",
    "we say that such a tree is an _",
    "@xmath3-tree _ , or a tree over @xmath3 .",
    "we will also work in a relative situation .",
    "we consider an arbitrary family @xmath29 of subgroups of @xmath0 , and we restrict to @xmath3-trees in which every subgroup occuring in @xmath29 fixes a point .",
    "we say that these trees are _ relative to @xmath29 _ , and we call them _",
    "@xmath43-trees_. if @xmath29 is empty , one recovers the non - relative situation .",
    "we say that @xmath0 _ splits relative to @xmath29 _ if it acts non - trivially on a tree relative to @xmath29 .",
    "it is _ freely indecomposable ( resp .",
    "one - ended ) _ relative to @xmath29 if it does not split over the trivial group ( resp .  over a finite group )",
    "relative to @xmath29 .      when endowed with a path metric making each edge isometric to a closed interval ,",
    "a simplicial tree becomes an @xmath23-tree ( we usually declare each edge to have length 1 ) .",
    "@xmath23-tree _ is a geodesic metric space @xmath20 in which any two distinct points are connected by a unique topological arc .",
    "we denote by @xmath44 , or @xmath45 , the distance in a tree @xmath20 .",
    "all @xmath23-trees are equipped with an isometric action of @xmath0 , and considered equivalent if they are equivariantly isometric .",
    "the considerations below apply to actions on trees , simplicial or not .",
    "non - simplicial trees will be needed in subsection [ exis ] .    a _ branch point _",
    "is a point @xmath46 such that @xmath47 has at least three components .",
    "a non - empty subtree is _ degenerate _ if it is a single point , _ non - degenerate _ otherwise .",
    "if @xmath48 are disjoint closed subtrees , the _ bridge _ between them is the unique arc @xmath49 $ ] such that @xmath50 and @xmath51 .",
    "we denote by @xmath52 the stabilizer of a point @xmath53 or an arc @xmath54 . if @xmath20 is simplicial and @xmath53 is a vertex , the _ incident edge groups _ of @xmath32 are the subgroups @xmath55 , where @xmath54 is an edge incident on @xmath53 .    a subgroup @xmath56 , or an element @xmath57 , is called _ elliptic _ if it fixes a point in @xmath20 .",
    "we then denote by @xmath58 or @xmath59 its fixed point set .",
    "an element @xmath60 which is not elliptic is _",
    "it has an _ axis _ , a line on which it acts as a translation .",
    "if @xmath57 , we denote by @xmath61 its _ translation length _ @xmath62 .",
    "the subset of @xmath20 where this minimum is achieved is the _",
    "characteristic set _",
    "@xmath63 : the fixed point set if @xmath60 is elliptic , the axis if @xmath64 is hyperbolic .",
    "the map @xmath65 is the _ length function _ of @xmath20 ; we denote it by @xmath66 if there is a risk of confusion .",
    "we say that a map @xmath65 is a length function if there is a tree @xmath20 such that @xmath67 .",
    "if @xmath68 takes values in @xmath69 , the @xmath23-tree   @xmath20 is a simplicial tree .",
    "the action of @xmath0 on @xmath20 ( or @xmath20 itself ) is _ trivial _ if there is a global fixed point ( i.e.  @xmath0 itself is elliptic ) .",
    "if the action is non - trivial , there is a hyperbolic element ( so @xmath70 ) .",
    "this is a consequence of the following basic fact ( recall that @xmath0 is assumed to be finitely generated ) .",
    "[ lem_ser ] if two elliptic elements @xmath71 satisfy @xmath72 , then @xmath73 is hyperbolic",
    ".    let @xmath74 be elliptic elements ( or subgroups ) such that @xmath75 for all @xmath76 .",
    "then @xmath77 fixes a point .",
    "if the action is non - trivial , there is a smallest invariant subtree @xmath78 , the union of all axes of hyperbolic elements .",
    "we always assume that the action is _ minimal _ , i.e.  @xmath79 .",
    "the action of @xmath0 on @xmath20 ( or @xmath20 itself ) is _ irreducible _ if there exist hyperbolic elements @xmath80 such that @xmath81 is compact .",
    "this is equivalent to the existence of hyperbolic elements @xmath80 with @xmath82 $ ] hyperbolic .",
    "it implies that @xmath0 contains a non - abelian free group .",
    "if a minimal action is neither trivial nor irreducible , there is a fixed end or an invariant line . more precisely , there are three possibilities :    * @xmath20 is a line , and @xmath0 acts by translations . *",
    "@xmath20 is a line , and some @xmath57 reverses orientation .",
    "the action is _",
    "dihedral_. in the simplicial case , the action factors through an action of the infinite dihedral group @xmath83 .",
    "* there is a unique invariant end ( this happens in particular if @xmath20 is the bass - serre tree of a strictly ascending hnn extension ) . in this case the length function @xmath68 is _ abelian _ : it is the absolute value of a non - trivial homomorphism @xmath84 ( whose image is infinite cyclic if @xmath20 is simplicial ) ; in other words , @xmath68 is the length function of a non - trivial action on a line by translations .",
    "these considerations apply to the action of a subgroup @xmath85 .",
    "if @xmath86 is infinitely generated , its action may be non - trivial although every @xmath87 is elliptic . in this case",
    "@xmath78 is not defined .",
    "there is a unique invariant end as in the third assertion of the trichotomy stated above , but @xmath88 .",
    "we will consider various classes of `` small '' subgroups of @xmath0 .",
    "each class contains the previous one .",
    "@xmath89 a group @xmath86 is _ @xmath90 _ ( resp .",
    "@xmath91 ) if it is virtually polycyclic of hirsch length @xmath92 ( resp .  at most @xmath92 ) .",
    "@xmath93 is the same as virtually cyclic .",
    "@xmath89 a group @xmath86 is _ slender _ if @xmath86 and all its subgroups are finitely generated .",
    "if a slender group acts non - trivially on a tree , there is an invariant line .",
    "@xmath89 given a tree @xmath20 , we say ( following @xcite and @xcite ) that a subgroup @xmath56 is _ small in @xmath20 _ if its action on @xmath20 is not irreducible . as mentioned above , @xmath86 then fixes a point , or an end , or leaves a line invariant .",
    "we say that @xmath86 is _ small ( in @xmath0 ) _ if it is small in every simplicial tree on which @xmath0 acts .",
    "every group not containing @xmath33 ( the free group of rank 2 ) is small .",
    "@xmath89 if we fix @xmath3 , and possibly @xmath29 , as above , we say that @xmath86 is _ small in @xmath3-trees _ ( resp .",
    "_ small in @xmath43-trees _ ) if it is small in every @xmath3-tree ( resp .",
    "every @xmath43-tree ) on which @xmath0 acts .",
    "these smallness properties are invariant under commensurability and under taking subgroups .",
    "also note that a group contained in a group of @xmath29 is small in @xmath43-trees .",
    "all maps between trees will be assumed to be @xmath0-equivariant .",
    "a map @xmath94 _ preserves alignment _ , or is a _ collapse map _ , if the image of any arc @xmath95 $ ] is a point or the arc @xmath96 $ ] .",
    "equivalently , the preimage of every subtree is a subtree .",
    "when @xmath20 and @xmath97 are simplicial , we only consider maps obtained by collapsing edges to points . by equivariance ,",
    "the set of collapsed edges is a union of @xmath0-orbits . in terms of graphs of groups ,",
    "one obtains @xmath98 by collapsing edges of @xmath99 .",
    "if there is a collapse map @xmath94 , we say that @xmath97 is a _ collapse _ of @xmath20 , and @xmath20 is a _ refinement _ of @xmath97 . in the simplicial context",
    ", we say that @xmath20 is obtained by refining @xmath97 at those vertices @xmath53 for which @xmath100 is not a single point .",
    "two trees @xmath5 are _ compatible _ if they have a _ common refinement _ :",
    "there exists a tree @xmath9 with collapse maps @xmath101 .    in the remainder of these preliminaries , we only consider simplicial trees ( with an action of @xmath0 ) and we fix @xmath3 as above",
    ".    a tree @xmath7 _ dominates _",
    "@xmath8 if there is an equivariant map from @xmath7 to @xmath8 .",
    "equivalently , @xmath7 dominates @xmath8 if every vertex stabilizer of @xmath7 fixes a point in @xmath8 .",
    "two @xmath3-trees belong to the same _ deformation space _ @xmath19 over @xmath3 if they have the same elliptic subgroups ( i.e.  each one dominates the other ) .",
    "if a tree in @xmath19 is irreducible , so are all others , and we say that @xmath19 is irreducible .",
    "we say that @xmath19 dominates @xmath102 if trees in @xmath19 dominate those in @xmath102 .",
    "this induces a partial order on the set of deformation spaces of @xmath0 over @xmath3 .",
    "a tree @xmath20 is _ reduced _ @xcite if no proper collapse of @xmath20 lies in the same deformation space as @xmath20 .",
    "equivalently , @xmath20 is reduced if , for any edge @xmath103 such that @xmath104 is elliptic , there exists a hyperbolic element @xmath57 sending @xmath105 to @xmath53 ( in particular the edge maps to a loop in @xmath99 ) .",
    "this may also be read at the level of the graph of groups : @xmath20 is not reduced if and only if @xmath106 contains an edge @xmath54 with distinct endpoints @xmath107 such that @xmath108 .",
    "if @xmath20 is not reduced , one obtains a reduced tree @xmath97 in the same deformation space by collapsing certain orbits of edges ( but @xmath97 is not uniquely defined in general ) .",
    "we fix @xmath3 and @xmath29 as above ( with @xmath29 empty in the non - relative case ) . for instance",
    ", @xmath3 may be the family of subgroups which are finite , ( virtually ) cyclic , abelian , @xmath91 for some fixed @xmath92 , slender .",
    "we refer to ( virtually ) cyclic , abelian , slender ... splittings ( or trees , or jsj decompositions ) when @xmath3 is the corresponding family of subgroups ( we consider the trivial group as cyclic , so that @xmath3 is subgroup closed ) .",
    "a tree @xmath20 is _ elliptic with respect to a tree @xmath97 _ if edge stabilizers of @xmath20 are elliptic in @xmath97 . in this case",
    "there is a tree @xmath9 ( an @xmath43-tree if @xmath20 and @xmath97 are @xmath43-trees ) which refines @xmath20 and dominates @xmath97 ( * ? ? ?",
    "* lemma 3.2 ) .    a subgroup @xmath85 is _ universally elliptic _ ( or @xmath43-universally elliptic if there is a risk of confusion ) if @xmath86 is elliptic in every @xmath43-tree .",
    "a tree is universally elliptic if its edge stabilizers are universally elliptic .",
    "a _ jsj tree of @xmath0 over @xmath3 relative to @xmath29 _ is a universally elliptic @xmath43-tree @xmath109 which is maximal for domination : every universally elliptic @xmath43-tree is dominated by @xmath109 .",
    "the set of all jsj trees is a deformation space called the _ jsj deformation space_. jsj trees always exist when @xmath0 is finitely presented and @xmath29 consists of finitely many finitely generated subgroups @xcite .",
    "if @xmath109 is a jsj tree , a vertex stabilizer @xmath32 of @xmath109 is _ rigid _ if it is universally elliptic .",
    "otherwise , @xmath32 ( or @xmath53 ) is _",
    "flexible_.    in many situations ,",
    "flexible vertex stabilizers are _ quadratically hanging ( qh ) _ subgroups : there is a normal subgroup @xmath110 ( called the _ fiber _ of @xmath32 ) such that @xmath111 is isomorphic to the fundamental group @xmath112 of a hyperbolic @xmath41-orbifold @xmath113 ( usually with boundary ) , and images of incident edge groups in @xmath112 are either finite or contained in a boundary subgroup ( a subgroup conjugate to the fundamental group of a boundary component ) .",
    "when @xmath114 is trivial and @xmath113 is a surface , we say that @xmath32 is a _ qh surface group_.    an _ extended boundary subgroup _ of @xmath32 is a group whose image in @xmath112 is finite or contained in a boundary subgroup .    in a relative situation , with @xmath20 relative to @xmath29 , we define @xmath32 to be a _ relative qh - subgroup _ if , additionally , every conjugate of a group in @xmath29 intersects @xmath32 in an extended boundary subgroup .",
    "since incident edge groups are extended boundary subgroups , it is enough to check this for conjugates of @xmath29 that are contained in @xmath32 .",
    "if @xmath32 is a relative qh - subgroup , we say that a boundary component @xmath115 of @xmath113 is _ used _ if there exists an incident edge group , or a subgroup of @xmath32 conjugate to a group of @xmath29 , whose image in @xmath112 is contained with finite index in @xmath116 .",
    "[ part_compat ]",
    "the main result of this section is theorem [ prop_comp ] , saying that two @xmath23-trees are compatible if and only if the sum of their length functions is again a length function .",
    "this has a nice consequence : the set of @xmath23-trees compatible with a given tree is closed .    as a warm - up we give a proof of the following known facts : the length function of an irreducible @xmath23-tree determines the tree up to equivariant isometry , and the gromov topology agrees with the axes topology ( determined by translation lengths ) .",
    "after proving theorem [ prop_comp ] , we show that pairwise compatibility for a finite set of @xmath23-trees implies the existence of a common refinement .",
    "we conclude by defining least common multiple ( lcm s ) and prime factors for irreducible simplicial trees .    in subsections [ fred ] to [ cr ] , the countable group @xmath0 does not have to be finitely generated",
    "( hypotheses such as irreducibility ensure that @xmath0 contains enough hyperbolic elements ) .",
    "we leave details to the reader",
    ".    we will use the following facts :    [ calcul ] let @xmath20 be an @xmath23-tree with a minimal action of @xmath0 .",
    "let @xmath80 be hyperbolic elements .    1 .",
    "if their axes @xmath63 , @xmath117 are disjoint , then @xmath118 the intersection between @xmath119 and @xmath120 is the bridge between @xmath63 and @xmath117 .",
    "if their axes meet , then @xmath121 the inequality is an equality if and only if the axes meet in a single point .",
    "[ seg ] if @xmath20 is irreducible , any arc @xmath122 $ ] is contained in the axis of some @xmath57 .",
    "let @xmath123 be the set of minimal isometric actions of @xmath0 on @xmath23-trees modulo equivariant isometry .",
    "let @xmath124 be the set of irreducible @xmath23-trees .",
    "the following are classical results :    [ thm_compat_length ] two minimal irreducible @xmath23-trees @xmath125 with the same length function are equivariantly isometric .",
    "[ thm_fred ] the equivariant gromov topology and the axes topology agree on @xmath126 .    by theorem [ thm_compat_length ] , the assignment @xmath127 defines an embedding @xmath128 .",
    "the _ axes topology _ is the topology induced by this embedding .",
    "the _ equivariant gromov topology _ on @xmath123 is defined by the following neighbourhood basis .",
    "given @xmath129 , a number @xmath130 , a finite subset @xmath131 , and @xmath132 , define @xmath133 as the set of trees @xmath134 such that there exist @xmath135 with @xmath136 for all @xmath137 and @xmath138 .",
    "theorem [ thm_fred ] should be viewed as a version with parameters of theorem [ thm_compat_length ] : the length function determines the tree , in a continuous way . as a preparation for the next subsection , we now give quick proofs of these theorems . unlike previous proofs , ours does not use based length functions .    [",
    "proof of theorem [ thm_compat_length ] ] let @xmath125 be minimal irreducible @xmath23-trees with the same length function @xmath68 .",
    "we denote by @xmath63 the axis of a hyperbolic element @xmath60 in @xmath20 , by @xmath139 its axis in @xmath97 . by lemma [ calcul ] ,",
    "@xmath81 is empty if and only if @xmath140 is empty .",
    "we define an isometric equivariant map @xmath141 from the set of branch points of @xmath20 to @xmath97 , as follows .",
    "let @xmath142 be a branch point of @xmath20 , and @xmath143 an auxiliary branch point . by lemmas [ calcul ] and [ seg ] , there exist hyperbolic elements @xmath80 whose axes in @xmath20 do not intersect , such that @xmath95 $ ] is the bridge between @xmath63 and @xmath117 , with @xmath144 and @xmath145",
    ". then @xmath146 .",
    "the axes of @xmath60 and @xmath147 in @xmath97 do not intersect , so @xmath148 is a single point which we call @xmath149 .",
    "note that @xmath150 , the intersection being over all hyperbolic elements @xmath34 whose axis in @xmath20 contains @xmath151 : if @xmath34 is such an element , its axis in @xmath97 meets all three sets @xmath152 , @xmath153 , @xmath154 , so contains @xmath149 .",
    "this gives an intrinsic definition of @xmath149 , independent of the choice of @xmath155 , @xmath60 , and @xmath147 .",
    "in particular , @xmath141 is @xmath0-equivariant .",
    "it is isometric because @xmath156 and @xmath157 are both equal to @xmath158 .",
    "we then extend @xmath141 equivariantly and isometrically first to the closure of the set of branch points of @xmath20 , and then to each complementary interval .",
    "the resulting map from @xmath20 to @xmath97 is onto because @xmath97 is minimal .",
    "[ proof of theorem [ thm_fred ] ] given @xmath57 , the map @xmath159 , from @xmath126 to @xmath23 , is continuous in the gromov topology : this follows from the formula @xmath160 .",
    "this shows that the gromov topology is finer than the axes topology .    for the converse , we fix @xmath161 , a finite set of points @xmath162 , and a finite set of elements @xmath163 .",
    "we have to show that , if the length function @xmath164 of @xmath97 is close enough to @xmath68 on a suitable finite subset of @xmath0 , there exist points @xmath165 such that @xmath166 for all @xmath167 .",
    "first assume that each @xmath168 is a branch point . for each @xmath169",
    ", choose elements @xmath170 as in the previous proof , with @xmath168 an endpoint of the bridge between @xmath171 and @xmath172 .",
    "if @xmath173 is close to @xmath68 , the axes of @xmath174 and @xmath175 in @xmath97 are disjoint and we can define @xmath176 as @xmath177 . a different choice @xmath178 may lead to a different point @xmath179 .",
    "but the distance between @xmath180 and @xmath179 goes to @xmath181 as @xmath173 tends to @xmath68 because all pairwise distances between @xmath182 go to 0 .",
    "it is then easy to complete the proof .",
    "if some of the @xmath168 s are not branch points , one can add new points so that each such @xmath168 is contained in a segment bounded by branch points @xmath183 , @xmath184 .",
    "one then defines @xmath176 as the point dividing @xmath185 $ ] in the same way as @xmath168 divides @xmath186 $ ] .",
    "as suggested by m.  feighn , one may extend the previous results to reducible trees .",
    "let @xmath187 consist of all minimal trees which are either irreducible or isometric to @xmath23 ( we only rule out trivial trees and trees with exactly one fixed end , see subsection [ marb ] ) ; these trees are called semi - simple in @xcite .",
    "every non - zero length function is the length function of a tree in @xmath187 , and the set of length functions is projectively compact in @xmath188 ( * ? ? ?",
    "* theorem 4.5 ) .    [ thm_feighn ]",
    "two minimal trees @xmath189 with the same length function are equivariantly isometric .",
    "the equivariant gromov topology and the axes topology agree on @xmath187 .",
    "in other words , the assignment @xmath190 induces a homeomorphism between @xmath187 , equipped with the equivariant gromov topology , and the space of non - zero length functions .",
    "we note that the results of @xcite are stated for all trees in @xmath187 , those of @xcite for trees which are irreducible or dihedral .    we refer to @xcite for a proof of the first assertion in the reducible case .",
    "since the set of irreducible length functions is open , it suffices to show the following fact :    [ cvg ] if @xmath191 is a sequence of trees in @xmath187 whose length functions @xmath192 converge to the length function @xmath68 of an action of @xmath0 on @xmath193 , then @xmath191 converges to @xmath20 in the gromov topology .    to prove the claim , we denote by @xmath194 the characteristic set of @xmath57 in @xmath191 ,",
    "and we fix @xmath195 hyperbolic in @xmath20 ( hence in @xmath191 for @xmath92 large ) .",
    "we denote by @xmath196 the ( possibly empty or degenerate ) segment @xmath197 .",
    "the first case is when @xmath0 acts on @xmath20 by translations . to show that @xmath191 converges to @xmath20",
    ", it suffices to show that , given elements @xmath198 in @xmath0 , the length of @xmath199 goes to infinity with @xmath92 . by a standard argument using helly s theorem",
    ", we may assume @xmath200 .",
    "we first show that , for any @xmath60 , the length @xmath201 goes to infinity .",
    "let @xmath202 be arbitrary .",
    "since @xmath203 is elliptic in @xmath20 , the distance between @xmath204 and @xmath196 goes to @xmath181 as @xmath205 . but @xmath204 is the image of @xmath196 by @xmath206 , so @xmath207 .    to show that the overlap between @xmath208 and @xmath209 goes to infinity , we can assume that the relative position of @xmath208 and @xmath209 is the same for all @xmath92 s .",
    "if they are disjoint , @xmath210 or @xmath211 is empty , a contradiction .",
    "since every @xmath212 goes to infinity , the result is clear if @xmath213 and @xmath214 are nested . in the remaining case ,",
    "up to changing @xmath174 to its inverse , we can assume that @xmath215 translate in the same direction along @xmath216 if they are both hyperbolic .",
    "then @xmath217 equals @xmath218 or @xmath219 , so its length goes to infinity .",
    "now suppose that the action of @xmath0 on @xmath20 is dihedral .",
    "suppose that @xmath57 reverses orientation on @xmath20 .",
    "for @xmath92 large , the axes of @xmath220 in @xmath191 have a long overlap by the previous argument . on this overlap @xmath221",
    "translates in one direction , @xmath222 and @xmath223 in the other ( because @xmath224 is close to 0 and @xmath225 is not ) .",
    "it follows that @xmath60 acts as a central symmetry on a long subsegment of @xmath216 .",
    "moreover , if @xmath226 both reverse orientation , the distance between their fixed points on @xmath216 is close to @xmath227 .",
    "the convergence of @xmath191 to @xmath20 easily follows from these observations .",
    "this proves the claim , hence the theorem .",
    "recall that two @xmath23-trees @xmath5 are _ compatible _ if they have a _ common refinement _ : there exists an @xmath23-tree @xmath9 with ( equivariant ) collapse maps @xmath101 ( see subsection [ comp ] ) .",
    "if @xmath7 and @xmath8 are compatible , they have a _ standard common refinement @xmath228 _ constructed as follows .",
    "we denote by @xmath229 the distance in @xmath230 , and by @xmath231 the length function .",
    "let @xmath9 be any common refinement .",
    "given @xmath232 , define @xmath233 this is a pseudo - distance satisfying @xmath234 if @xmath235 $ ] ( this is also a length measure , as defined in @xcite ) .",
    "the associated metric space @xmath236 is an @xmath23-tree which refines @xmath7 and @xmath8 , with maps @xmath237 satisfying @xmath238 .    the length function of @xmath228 is @xmath239 ( this follows from the formula @xmath240 ) . in particular , @xmath241 is a length function .",
    "we now prove the converse .",
    "[ prop_comp ] two minimal irreducible @xmath23-trees @xmath7 , @xmath8 with an action of @xmath0 are compatible if and only if the sum @xmath242 of their length functions is a length function .    if @xmath7 and @xmath8 are compatible , then @xmath243 is a length function for all @xmath244 .",
    "[ cofer ] compatibility is a closed relation on @xmath245 . in particular ,",
    "the set of irreducible @xmath23-trees compatible with a given @xmath246 is closed in @xmath126 .",
    "this follows from the fact that the set of length functions is a closed subset of @xmath188 @xcite .",
    "we have to prove the `` if '' direction .",
    "let @xmath5 be irreducible minimal @xmath23-trees with length functions @xmath247 , such that @xmath248 is the length function of a minimal @xmath23-tree @xmath20 .",
    "we denote by @xmath249 , @xmath250 , @xmath251 axes in @xmath20 , @xmath7 , @xmath8 respectively .    first note that @xmath20 is irreducible : hyperbolic elements @xmath80 with @xmath82 $ ] hyperbolic exist in @xmath20 since they exist in @xmath7 .",
    "we want to prove that @xmath20 is a common refinement of @xmath7 and @xmath8 .",
    "in fact , we show that @xmath20 is the standard refinement @xmath228 mentioned earlier ( which is unique by theorem [ thm_compat_length ] ) .",
    "the proof is similar to that of theorem [ thm_compat_length ] , but we first need a few lemmas .",
    "[ lem_semigroup ] [ ( * ? ? ?",
    "* lemme 1.3 ) ] let @xmath252 be a finitely generated semigroup such that no point or line in @xmath20 is invariant under the subgroup @xmath253 generated by @xmath254 .",
    "let @xmath255 be an arc contained in the axis of a hyperbolic element @xmath256 .",
    "then there exists a finitely generated semigroup @xmath257 with @xmath258 such that every element @xmath259 is hyperbolic in @xmath20 , its axis contains @xmath255 , and @xmath60 translates in the same direction as @xmath147 on @xmath255 .    [ lem_hyperbolic ] let @xmath260 be arbitrary irreducible minimal trees . given an arc @xmath261 , there exists @xmath57 which is hyperbolic in @xmath7 , @xmath8 and @xmath20 , and whose axis in @xmath20 contains @xmath255",
    ".    apply lemma [ lem_semigroup ] with @xmath262 and any @xmath147 whose axis in @xmath20 contains @xmath255 . since @xmath263 generates @xmath0 , it must contain an element @xmath264 which is hyperbolic in @xmath7 : otherwise @xmath0 would have a global fixed point in @xmath7 by serre s lemma ( lemma [ lem_ser ] ) . applying lemma [ lem_semigroup ] to the action of @xmath263 on @xmath7 , we get a semigroup @xmath265 whose non - trivial elements are hyperbolic in @xmath7 .",
    "similarly , @xmath266 contains an element @xmath60 which is hyperbolic in @xmath8 .",
    "this element @xmath60 satisfies the conclusions of the lemma .",
    "more generally , one may require that @xmath60 be hyperbolic in finitely many trees @xmath267 .",
    "[ lem_interaxe ] let @xmath80 be hyperbolic in @xmath7 and @xmath8 ( and therefore in @xmath20 ) .    *",
    "if their axes in @xmath20 meet , so do their axes in @xmath230 .",
    "* if their axes in @xmath20 do not meet , their axes in @xmath230 meet in at most one point .",
    "in particular , the elements @xmath268 and @xmath269 are hyperbolic in @xmath230 .",
    "assume that @xmath63 and @xmath117 meet , but @xmath250 and @xmath270 do not",
    ". then @xmath271 . since @xmath272 , we get @xmath273 . similarly , @xmath274 .",
    "but these inequalities are incompatible by lemma [ calcul ] .",
    "now assume that @xmath63 and @xmath117 do not meet , and @xmath275 meet in a non - degenerate segment .",
    "we may assume @xmath276 . since @xmath277 , we have @xmath278 , contradicting lemma [ calcul ] .",
    "we can now complete the proof of theorem [ prop_comp ] .",
    "it suffices to define maps @xmath279 such that @xmath280 .",
    "such maps are collapse maps ( if three points satisfy a triangular equality in @xmath20 , then their images under @xmath281 can not satisfy a strict triangular inequality ) , so @xmath20 is the standard common refinement @xmath228 .",
    "the construction of @xmath281 is the same as that of @xmath141 in the proof of theorem [ thm_compat_length ] .",
    "given branch points @xmath151 and @xmath155 , we use lemma [ lem_hyperbolic ] to get elements @xmath60 and @xmath147 hyperbolic in all three trees , and such that the bridge between @xmath63 and @xmath117 is @xmath95 $ ] .",
    "then lemma [ lem_interaxe ] guarantees that @xmath282 is a single point of @xmath230 , which we define as @xmath283 ; the only new phenomenon is that @xmath284 and @xmath285 may now intersect in a single point .",
    "the relation between @xmath286 comes from the equality @xmath239 , using the formula @xmath287 .",
    "having defined @xmath281 on branch points , we extend it by continuity to the closure of the set of branch points of @xmath20 ( it is @xmath288-lipschitz ) and then linearly to each complementary interval .",
    "the relation between @xmath286 still holds .",
    "the following result is proved for almost - invariant sets in ( * ? ? ?",
    "* theorem 5.16 ) .",
    "[ prop_flag ] let @xmath0 be a finitely generated group , and let @xmath289 be irreducible minimal @xmath23-trees such that @xmath230 is compatible with @xmath290 for @xmath291 .",
    "then there exists a common refinement @xmath20 of all @xmath230 s .",
    "this statement may be interpreted as the fact that the set of projectivized trees satisfies the _ flag _ condition for a simplicial complex : whenever one sees the @xmath288-skeleton of an @xmath92-simplex , there is indeed an @xmath92-simplex .",
    "two compatible trees @xmath230 , @xmath290 define a @xmath288-simplex @xmath292 of length functions .",
    "if there are segments joining any pair of length functions @xmath293 , the proposition says that there is an @xmath294-simplex @xmath295 of length functions .    to prove proposition [ prop_flag ] , we need some terminology from @xcite .",
    "direction _ in an @xmath23-tree  @xmath20 is a connected component @xmath296 of @xmath47 for some @xmath46 .",
    "a _ quadrant _ in @xmath297 is a product @xmath298 of a direction of @xmath7 by a direction of @xmath8 .",
    "a quadrant @xmath298 is _ heavy _ if there exists @xmath195 hyperbolic in @xmath7 and @xmath8 such that @xmath299 contains a positive semi - axis of @xmath147 ( equivalently , for all @xmath300 one has @xmath301 for @xmath92 large ) .",
    "we say that @xmath147 _ makes @xmath302 heavy_. the _ core _",
    "@xmath303 is the complement of the union of quadrants which are not heavy .    by ( * ?",
    "* thorme 6.1 ) , @xmath7 and @xmath8 are compatible if and only if @xmath304 contains no non - degenerate rectangle ( a product @xmath305 where each @xmath306 is a segment not reduced to a point ) .",
    "we first prove a technical lemma .",
    "[ lem_qdt ] let @xmath5 be irreducible and minimal .",
    "let @xmath307 be a collapse map , with @xmath308 irreducible .",
    "let @xmath309 be a quadrant in @xmath310 , and @xmath311 .",
    "if the quadrant @xmath312 is heavy , then so is @xmath309 .",
    "note that @xmath313 is a direction because @xmath141 preserves alignment .",
    "consider an element @xmath147 making @xmath314 heavy .",
    "if @xmath147 is hyperbolic in @xmath308 , then @xmath147 makes @xmath315 heavy and we are done . if not , assume that we can find some @xmath57 , hyperbolic in @xmath308 and @xmath8 ( hence in @xmath7 ) , such that for @xmath316 the axis @xmath284 of @xmath60 in @xmath230 intersects @xmath317 in a compact set .",
    "then for @xmath318 large enough the element @xmath319 makes @xmath320 heavy .",
    "since this element is hyperbolic in @xmath321 and @xmath8 , it makes @xmath309 heavy .",
    "we now prove the existence of @xmath60 .",
    "consider a line @xmath322 in @xmath8 , disjoint from @xmath323 , and the bridge @xmath95 $ ] between @xmath322 and @xmath323 .",
    "let @xmath324 be a segment containing @xmath151 in its interior .",
    "by lemma [ lem_hyperbolic ] , there exists @xmath60 hyperbolic in @xmath308 and @xmath8 whose axis in @xmath8 contains @xmath255 , hence is disjoint from @xmath325 .",
    "being hyperbolic in @xmath308 , the element @xmath60 is hyperbolic in @xmath7 .",
    "its axis intersects @xmath326 in a compact set because @xmath326 is mapped to a single point in @xmath308 ( otherwise , @xmath147 would be hyperbolic in @xmath308 ) .",
    "first assume @xmath327 .",
    "let @xmath328 be the standard common refinement of @xmath5 ( see subsection [ sec_compatible_via_longueurs ] ) .",
    "let @xmath329 be the core of @xmath330 . by ( * ?",
    "* thorme 6.1 ) , it is enough to prove that @xmath329 does not contain a product of non - degenerate segments @xmath331\\times[a_3,b_3]$ ] .",
    "assume otherwise .",
    "denote by @xmath332 the images of @xmath333 in @xmath5 . since @xmath334 , at least one inequality @xmath335 or @xmath336 holds .",
    "assume for instance @xmath335 .",
    "we claim that @xmath337\\times [ a_3,b_3]$ ] is contained in the core of @xmath338 , giving a contradiction .",
    "we have to show that any quadrant @xmath339 of @xmath338 intersecting @xmath337\\times[a_3,b_3]$ ] is heavy .",
    "denote by @xmath340 the collapse map .",
    "the preimage @xmath341 of @xmath302 in @xmath330 is a quadrant intersecting @xmath331\\times [ a_3,b_3]$ ] .",
    "since this rectangle in contained in @xmath342 , the quadrant @xmath343 is heavy , and so is @xmath302 by lemma [ lem_qdt ] .",
    "this concludes the case @xmath327 .",
    "the general case follows by a straightforward induction .      in this subsection",
    ", we work with simplicial trees .",
    "we let @xmath344 be the set of simplicial trees @xmath20 which are minimal , irreducible , with no redundant vertices and no inversion .",
    "we also view such a @xmath20 as a metric tree , by declaring each edge to be of length 1 .",
    "this makes @xmath344 a subset of @xmath126 . by theorem [ thm_compat_length ] ,",
    "a tree @xmath345 is determined by its length function @xmath346 .",
    "the prime factors of @xmath20 are the one - edge splittings @xmath230 obtained from @xmath20 by collapsing edges in all orbits but one .",
    "clearly @xmath347 , where @xmath348 is the length function of @xmath230 .",
    "we may view a prime factor of @xmath20 as an orbit of edges of @xmath20 , or as an edge of the quotient graph of groups @xmath349 . since @xmath0 is assumed to be finitely generated ,",
    "there are finitely many prime factors ( this remains true if @xmath0 is only finitely generated relative to a finite collection of elliptic subgroups ) .",
    "[ po ] let @xmath350 .    1 .",
    "any non - trivial tree @xmath97 obtained from @xmath20 by collapses ( in particular , its prime factors ) belongs to @xmath344 .",
    "2 .   the prime factors of @xmath20 are distinct ( @xmath20 is `` squarefree '' ) .",
    "let @xmath54 be any edge of @xmath20 which is not collapsed in @xmath97 .",
    "since @xmath20 has no redundant vertex and is not a line , either the endpoints of @xmath54 are branch points @xmath351 , or there are branch points @xmath351 such that @xmath352=e\\cup e'$ ] with @xmath353 in the same orbit as @xmath54 . using lemma [ seg ] ,",
    "we can find elements @xmath80 hyperbolic in @xmath20 , whose axes are not collapsed to points in @xmath97 , and such that @xmath352 $ ] is the bridge between their axes .",
    "since @xmath80 are hyperbolic with disjoint axes in @xmath97 , the tree @xmath97 is irreducible .",
    "it is easy to check that collapsing can not create redundant vertices , so @xmath354 .",
    "now suppose that @xmath54 , hence @xmath352 $ ] , gets collapsed in some prime factor @xmath355 .",
    "then @xmath356 holds in @xmath97 but not in @xmath355 , so @xmath357 .",
    "[ coll ] this lemma shows that collapsing an irreducible simplicial tree yields an irreducible tree ( or a point ) . collapsing a non - irreducible tree clearly yields a minimal non - irreducible tree belonging to the same deformation space ( or a point ) .",
    "because of this lemma , a tree of @xmath344 is determined by its prime factors . in particular",
    ", @xmath20 refines @xmath97 if and only if every prime factor of @xmath97 is also a prime factor of @xmath20 .",
    "if @xmath7 and @xmath8 are compatible , the standard refinement @xmath228 constructed in subsection [ sec_compatible_via_longueurs ] is a metric tree which should be viewed as the `` product '' of @xmath7 and @xmath8 .",
    "we shall now define the lcm @xmath358 of simplicial trees @xmath7 and @xmath8 . to understand the difference between the two , suppose @xmath359",
    ". then @xmath228 is obtained from @xmath7 by subdividing each edge , its length function is @xmath360 . on the other hand , @xmath361 .",
    "consider two trees @xmath362 , with length functions @xmath247 .",
    "we define @xmath363 as the sum of all length functions which appear as prime factors in both @xmath7 and @xmath8 .",
    "it is the length function of a tree @xmath364 ( possibly a point ) which is a collapse of both @xmath7 and @xmath8 .",
    "we call @xmath364 the _ gcd _ of @xmath7 and @xmath8 .",
    "we define @xmath365 as the sum of all length functions which appear as prime factors in @xmath7 or @xmath8 ( or both ) .",
    "let @xmath7 and @xmath8 be compatible trees in @xmath344 .",
    "there is a tree @xmath366 whose length function is @xmath367 .",
    "it is a common refinement of @xmath7 and @xmath8 , and no edge of @xmath368 is collapsed in both @xmath7 and @xmath8 .",
    "we call @xmath368 the _ lcm _ of @xmath7 and @xmath8 .",
    "let @xmath20 be any common refinement . we modify it as follows .",
    "we collapse any edge which is collapsed in both @xmath7 and @xmath8 .",
    "we then remove redundant vertices and restrict to the minimal subtree .",
    "the resulting tree @xmath368 belongs to @xmath344 ( it is irreducible because it refines @xmath7 ) .",
    "it is a common refinement of @xmath7 and @xmath8 , and no edge is collapsed in both @xmath7 and @xmath8 .",
    "we check that @xmath368 has the correct length function by finding its prime factors . since no edge is collapsed in both @xmath7 and @xmath8 , a prime factor of @xmath368",
    "is a prime factor of @xmath7 or @xmath369 .",
    "conversely , a prime factor of @xmath230 is associated to an orbit of edges of @xmath230 , and this orbit lifts to @xmath368 .",
    "[ prop_lcm ] let @xmath370 be pairwise compatible trees of @xmath371 .",
    "there exists a tree @xmath372 in @xmath344 whose length function is the sum of all length functions which appear as a prime factor in some @xmath230 . moreover",
    ":    1 .   a tree @xmath345 refines @xmath372 if and only if it refines each @xmath230 .",
    "a tree @xmath345 is compatible with @xmath372 if and only if it is compatible with each @xmath230 .",
    "3 .   a subgroup @xmath86 is elliptic in @xmath372 if and only if it is elliptic in each @xmath230 .",
    "if @xmath7 dominates each @xmath230 , then @xmath372 belongs to the deformation space of @xmath7 .",
    "@xmath372 is the _ lcm _ of the compatible trees @xmath230 .",
    "first suppose @xmath373 .",
    "we show that @xmath368 satisfies the additional conditions .",
    "if @xmath20 refines @xmath7 and @xmath8 , it refines @xmath374 because every prime factor of @xmath374 is a prime factor of @xmath20 .",
    "this proves assertion 1 .",
    "if @xmath260 are pairwise compatible , they have a common refinement @xmath9 by proposition [ prop_flag ] or ( * ? ? ?",
    "* theorem 5.16 ) ( where one should exclude ascending hnn extensions ) . this @xmath9 refines @xmath368 by assertion 1 , so @xmath20 and @xmath368 are compatible .",
    "assertion 3 follows from the fact that no edge of @xmath368 is collapsed in both @xmath7 and @xmath8 , as in the proof of ( * ? ? ?",
    "* lemma [ gl3a - lem_refinement ] ) : if @xmath86 fixes a point @xmath375 and is elliptic in @xmath8 , it fixes a point in the preimage of @xmath376 in @xmath368 .",
    "the case @xmath377 now follows easily by induction . by assertion 2 ,",
    "the tree @xmath378 is compatible with @xmath379 , so we can define @xmath380 .",
    "we fix a family @xmath3 of subgroups which is stable under conjugation and under taking subgroups .",
    "we work with simplicial trees , which we often view as metric trees in order to apply the results from the previous section .",
    "we only consider @xmath3-trees ( trees with edge stabilizers in @xmath3 ) .",
    "note that the lcm of a finite family of pairwise compatible @xmath3-trees is an @xmath3-tree .    in @xcite",
    "we have defined a jsj tree ( of @xmath0 over @xmath3 ) as an @xmath3-tree which is universally elliptic ( over @xmath3 ) and dominates every universally elliptic @xmath3-tree .",
    "its deformation space is the jsj deformation space @xmath2 . in this section",
    "we define the compatibility jsj deformation space and the compatibility jsj tree . for simplicity we work in the non - relative case ( see subsection [ rel ] for the relative case ) .",
    "an @xmath3-tree @xmath20 is _ universally compatible _",
    "( over @xmath3 ) if it is compatible with every @xmath3-tree .",
    "if , among deformation spaces containing a universally compatible tree , there is one which is maximal for domination , it is unique",
    ". it is denoted by @xmath17 and it is called the _ compatibility jsj deformation space _ of @xmath0 over @xmath3 .    clearly , a universally compatible tree is universally elliptic .",
    "this implies that @xmath17 is dominated by @xmath2 .    in subsection [ adur ]",
    "we shall deduce from @xcite that @xmath17 , if irreducible , contains a preferred tree @xmath18 , which we call the _ compatibility jsj tree .",
    "_ it is fixed under any automorphism of @xmath0 that leaves @xmath17 invariant .",
    "in particular , if @xmath3 is @xmath381-invariant , then @xmath18 is @xmath382-invariant .",
    "also note that @xmath383 may be refined to a jsj tree ( lemma [ gl3a - lem_rafin ] of @xcite ) .",
    "[ thm_exists_compat ] if @xmath0 is finitely presented , the compatibility jsj space @xmath17 of @xmath0 ( over @xmath3 ) exists .",
    "the heart of the proof of theorem [ thm_exists_compat ] is the following proposition .",
    "[ prop_lim_compat ] let @xmath0 be finitely presented .",
    "let @xmath384 be a sequence of refinements of irreducible universally compatible @xmath3-trees .",
    "there exist collapses @xmath385 of @xmath386 , in the same deformation space as @xmath386 , such that the sequence @xmath385 converges to a universally compatible simplicial @xmath3-tree @xmath20 which dominates every @xmath386 .",
    "we may assume that there is a non - trivial universally compatible @xmath3-tree .",
    "we may also assume that all such trees are irreducible : otherwise it follows from remark [ coll ] that there is only one deformation space of @xmath3-trees , and the theorem is trivially true .",
    "let @xmath387 be the set of universally compatible @xmath3-trees , up to equivariant isomorphism .",
    "we have to find a universally compatible @xmath3-tree @xmath20 which dominates every @xmath388 . by lemma [ gl3a - lem_zorn ] of @xcite , we only need @xmath20 to dominate all trees in a countable set @xmath389 , @xmath390 .",
    "we obtain such a @xmath20 by applying proposition [ prop_lim_compat ] with @xmath391 ; the trees @xmath386 are universally compatible by assertion 2 of proposition [ prop_lcm ] .    by accessibility ( see proposition [ gl3a - prop_accessibility ] of @xcite ) , there exists an @xmath3-tree @xmath254 which dominates every @xmath386 ( this is where we use finite presentability of @xmath0 ) .",
    "but of course we can not claim that it is universally compatible .",
    "we may assume that @xmath386 and @xmath254 are minimal , that @xmath392 is different from @xmath386 , and that @xmath393 is independent of @xmath34 .",
    "we define @xmath394 .",
    "we denote by @xmath395 the quotient graphs of groups of @xmath396 , and we let @xmath397 be the collapse map ( see figure [ fig_raff ] ) . we denote by @xmath398 the collapse map @xmath399 .    , @xmath254 , @xmath389 , @xmath385 , @xmath400 , with @xmath401 , and @xmath402 . ]",
    "the trees @xmath389 all belong to the deformation space of @xmath254 , and @xmath403 strictly refines @xmath389 . in particular , the number of edges of @xmath404 grows .",
    "since accessibility holds within a given deformation space ( see @xcite page 147 ) , this growth occurs through the creation of a bounded number of long segments whose interior vertices have valence 2 , with one of the incident edge groups equal to the vertex group .",
    "we now make this precise .",
    "fix @xmath34 . for each vertex @xmath405 , define @xmath406 .",
    "the @xmath407 s are disjoint , and edges of @xmath408 not contained in @xmath409 correspond to edges of @xmath410 .",
    "since @xmath389 and @xmath254 are in the same deformation space , @xmath407 is a tree of groups , and it contains a vertex @xmath411 whose vertex group equals the fundamental group of @xmath407 ( which is the vertex group of @xmath53 in @xmath1 ) .",
    "this @xmath411 may fail to be unique , but we can choose one for every @xmath34 in a way which is compatible with the maps @xmath398 .",
    "we orient edges of @xmath407 towards @xmath411 .",
    "the group carried by such an edge is then equal to the group carried by its initial vertex .",
    "say that a vertex @xmath412 is _ peripheral _ if @xmath413 or @xmath105 is adjacent to an edge of @xmath408 which is not in @xmath407 ( i.e.  is mapped onto an edge of @xmath410 by @xmath414 ) . by minimality of @xmath389 , each terminal vertex @xmath415 of @xmath407 is peripheral ( because it carries the same group as the initial edge of the segment @xmath416 ) .    in each @xmath408 , the total number of peripheral vertices is bounded by @xmath417 .",
    "it follows that the number of points of valence @xmath418 in @xmath419 is bounded . cutting each @xmath407 at its peripheral vertices and its points of valence @xmath420 produces the _ segments _ of @xmath408 mentioned earlier . on the example of figure [ fig_raff ] ,",
    "there is one segment in @xmath421 , corresponding to the edges labelled @xmath422 .",
    "the point @xmath423 is the vertex labelled by @xmath424 .",
    "the vertex @xmath53 of @xmath1 to which the segment corresponds is the vertex of @xmath1 labelled @xmath424 .",
    "having defined segments for each @xmath34 , we now let @xmath34 vary .",
    "the preimage of a segment of @xmath408 under the map @xmath425 is a union of segments of @xmath426 .",
    "since the number of segments is bounded independently of @xmath34 , we may assume that @xmath398 maps every segment of @xmath426 onto a segment of @xmath408 .",
    "in particular , the number of segments is independent of @xmath34 .",
    "recall that we have oriented the edges of @xmath407 towards @xmath411 .",
    "each edge contained in @xmath427 carries the same group as its initial vertex , and edges in a given segment are coherently oriented .",
    "segments are therefore oriented .",
    "there are various ways of performing collapses on @xmath408 . collapsing all edges contained in segments yields @xmath410 ( this does not change the deformation space ) . on the other hand , one obtains @xmath428 from @xmath408 by collapsing some of the edges which are not contained in any segment ( all of them if @xmath393 is trivial ) .",
    "the segments of @xmath408 may be viewed as segments in @xmath429 , but collapsing the initial edge of a segment of @xmath429 may now change the deformation space ( if the group carried by the initial point of the segment has increased when @xmath421 is collapsed to @xmath429 ) .",
    "we define a graph of groups @xmath430 by collapsing , in each segment of @xmath429 , all edges but the initial one .",
    "the corresponding tree @xmath431 is a collapse of @xmath386 which belongs to the same deformation space as @xmath386 .",
    "moreover , the number of edges of @xmath432 ( prime factors of @xmath431 ) is constant : there is one per segment , and one for each common prime factor of @xmath386 and @xmath254 .",
    "let @xmath433 be the length function of @xmath431 .",
    "the sequence @xmath434 is non - decreasing ( i.e.  every sequence @xmath435 is non - decreasing ) and converges .",
    "the difference between @xmath436 and @xmath437 comes from the fact that initial edges of segments of @xmath438 may be collapsed in @xmath439 .",
    "fix a segment @xmath440 of @xmath441 .",
    "let @xmath442 be its initial edge .",
    "we assume that @xmath442 is distinct from the edge @xmath443 mapping onto the initial edge of the image of @xmath440 in @xmath444 .",
    "assume for simplicity that @xmath442 and @xmath443 are adjacent ( the general case is similar ) .",
    "the group carried by @xmath443 is equal to the group carried by its initial vertex @xmath445 .",
    "a given lift @xmath446 of @xmath445 to @xmath447 is therefore adjacent to only one lift of @xmath443 ( but to several lifts of @xmath442 ) . on any translation axis in @xmath448 , every occurence of a lift of @xmath443",
    "is immediately preceded by an occurence of a lift of @xmath442 .",
    "the length function of the prime factor of @xmath447 and @xmath449 corresponding to @xmath443 is therefore bounded from above by that of the prime factor of @xmath447 and @xmath450 corresponding to @xmath442 .",
    "since this is true for every segment , we get @xmath451 as required .",
    "let @xmath452 .",
    "it collapses to @xmath254 , belongs to the same deformation space as @xmath254 ( because it is a collapse of @xmath389 ) , and the number of edges of @xmath453 is bounded . by an observation due to forester",
    "( see @xcite ) , this implies an inequality @xmath454 , with @xmath115 independent of @xmath34 . since @xmath455 , we get convergence .",
    "we call @xmath68 the limit of @xmath434 .",
    "it is the length function of a tree @xmath20 because the set of length functions of trees is closed cumo .",
    "this tree is simplicial because @xmath68 takes values in @xmath69 , and irreducible because @xmath434 is non - decreasing .",
    "it is universally compatible as a limit of universally compatible trees , by corollary [ cofer ] . since @xmath456 ,",
    "every @xmath57 elliptic in @xmath20 is elliptic in @xmath386 , and @xmath20 dominates @xmath386 by lemma [ gl3a - cor_zor ] of @xcite .",
    "there remains to prove that every edge stabilizer @xmath457 of @xmath20 belongs to @xmath3 .",
    "if @xmath457 is finitely generated , there is a simple argument using the gromov topology .",
    "in general , we argue as follows .",
    "we may find hyperbolic elements @xmath80 such that @xmath457 is the stabilizer of the bridge between @xmath63 and @xmath117 ( the bridge might be @xmath458 as in the proof of lemma [ po ] if an endpoint of @xmath54 is a valence 2 vertex ) .",
    "choose @xmath34 so that the values of @xmath434 and @xmath68 coincide on @xmath459 .",
    "in particular , the axes of @xmath60 and @xmath147 in @xmath385 are disjoint .",
    "any @xmath460 is elliptic in @xmath385 since @xmath461 .",
    "moreover , @xmath462 .",
    "the fixed point set of @xmath463 in @xmath385 must intersect the axis of @xmath60 , since otherwise @xmath464 , a contradiction . similarly , it intersects the axis of @xmath147 .",
    "it follows that @xmath457 fixes the bridge between the axes of @xmath60 and @xmath147 in @xmath385 , so @xmath465 .",
    "this concludes the proof of proposition [ prop_lim_compat ] .",
    "when @xmath17 is irreducible , we show that it contains a preferred tree @xmath18 .",
    "given a deformation space @xmath19 , we say that a tree @xmath20 is _",
    "@xmath19-compatible _ if @xmath20 is compatible with every tree in @xmath19",
    ".    an irreducible deformation space @xmath19 can only contain finitely many reduced @xmath19-compatible trees .",
    "recall ( see subsection [ comp ] ) that @xmath20 is _ reduced _ if no proper collapse of @xmath20 lies in the same deformation space as @xmath20 .",
    "if @xmath20 is not reduced , one may perform collapses so as to obtain a reduced tree @xmath97 in the same deformation space ( note that @xmath97 is @xmath19-compatible if @xmath20 is ) .",
    "this follows from results in @xcite .",
    "we refer to @xcite for definitions not given here .",
    "suppose there are infinitely many reduced @xmath19-compatible trees @xmath466 .",
    "let @xmath467 .",
    "it belongs to @xmath19 by assertion 3 of proposition [ prop_lcm ] .    as pointed out on page 172 of @xcite , the tree @xmath389",
    "is bf - reduced , i.e.  reduced in the sense of @xcite , because all its edges are surviving edges ( they survive in one of the @xmath230 s ) , and the space @xmath19 is non - ascending by assertion 4 of proposition 7.1 of @xcite .",
    "now there is a bound @xmath468 for the number of orbits of edges of a bf - reduced tree in @xmath19 ( ( * ? ? ?",
    "* proposition 4.2 ) ; this is an easy form of accessibility , which requires no smallness or finite presentability hypothesis ) .",
    "it follows that the sequence @xmath389 is eventually constant .",
    "if @xmath19 is irreducible and contains a @xmath19-compatible tree , it has a _ preferred element : _ the lcm of its reduced @xmath19-compatible trees .",
    "[ deftco ] if the compatibility jsj deformation space @xmath17 exists and is irreducible , its preferred element is called the _",
    "compatibility jsj tree @xmath18 of @xmath0 ( over @xmath3)_. if @xmath17 is trivial , we define @xmath18 as the trivial tree ( a point ) .    it may happen that @xmath17 is neither trivial nor irreducible .",
    "it then follows from remark [ coll ] that it is the only deformation space of @xmath3-trees .",
    "if there is a unique reduced tree @xmath20 in @xmath17 ( in particular , if @xmath17 consists of actions on a line ) , we define @xmath469 .",
    "otherwise we do not define @xmath18 .",
    "see subsection [ gbsd ] for an example where @xmath17 consists of trees with exactly one fixed end .",
    "besides @xmath3 , the set of allowed edge stabilizers , we now fix an arbitrary set @xmath29 of subgroups of @xmath0 and we only consider @xmath43-trees , i.e.   @xmath3-trees in which every element of @xmath29 is elliptic .",
    "we then define the compatibility deformation space @xmath17 as in the non - relative case ( with universal compatibility defined with respect to @xmath43-trees ) .",
    "[ thm_exists_compat_rel ] if @xmath0 is finitely presented , and @xmath29 is a finite family of finitely generated subgroups , the compatibility jsj space @xmath470 of @xmath0 ( over @xmath3 relative to @xmath29 ) exists .",
    "if @xmath470 is irreducible , it has a preferred element @xmath4 .",
    "existence is proved as in the non - relative case , using relative accessibility ( * ? ? ?",
    "* section [ gl3a - rela ] ) .",
    "the trees @xmath471 are relative to @xmath29 ( note that an lcm of @xmath43-trees is an @xmath43-tree ) .",
    "since the groups in @xmath29 are finitely generated , they are elliptic in @xmath20 because all their elements are elliptic , so @xmath20 is an @xmath43-tree .",
    "the theorem remains true if @xmath0 is only finitely presented relative to @xmath29 .",
    "when @xmath3 is @xmath381-invariant , the compatibility jsj tree @xmath383 is @xmath382-invariant .",
    "this sometimes forces it to be trivial .",
    "suppose for instance that @xmath0 has a finite generating set @xmath472 such that all elements @xmath472 and @xmath473 ( @xmath474 ) belong to the same @xmath381-orbit",
    ". then the only @xmath382-invariant length function @xmath68 is the trivial one .",
    "this follows from serre s lemma ( lemma [ lem_ser ] ) if the generators are elliptic , from the inequality @xmath475 ( see lemma [ calcul ] ) if they are hyperbolic .",
    "in particular :    if @xmath0 is a free group and @xmath3 is @xmath381-invariant , then @xmath383 is trivial .",
    "the following result provides simple examples with @xmath383 non - trivial .",
    "[ prop_rig ] assume that there is only one reduced jsj tree @xmath476 , and that @xmath0 does not split over a subgroup contained with infinite index in a group of @xmath3 .",
    "then @xmath383 exists and equals @xmath109 .",
    "let @xmath20 be any @xmath3-tree .",
    "the second assumption implies that @xmath20 is elliptic with respect to @xmath109 by remark 2.3 of @xcite or corollary [ gl3a - pass ] of @xcite , so there is a tree @xmath9 refining @xmath20 and dominating @xmath109 as in lemma [ gl3a - lem_refinement ] of @xcite .",
    "collapse all edges of @xmath9 whose stabilizer is not universally elliptic .",
    "arguing as in the proof of ( * ? ? ?",
    "* proposition [ gl3a - prop_embo ] ) , one sees that the collapsed tree @xmath97 also dominates @xmath109 , hence is a jsj tree because it is universally elliptic .",
    "since @xmath109 is the unique reduced jsj tree , @xmath97 is a refinement of @xmath109 , so @xmath109 is compatible with @xmath20 .",
    "this shows that @xmath109 is universally compatible .",
    "thus @xmath477 .    a necessary and sufficient condition for a tree to be",
    "the unique reduced tree in its deformation space is given in @xcite ( see also @xcite ) .",
    "the proposition applies for instance to free splittings and splittings over finite groups , whenever there is a jsj tree with only one orbit of edges .",
    "this provides examples of virtually free groups with @xmath383 non - trivial : any amalgam @xmath478 with @xmath479 finite and @xmath480 has this property ( with @xmath3 the set of finite subgroups ) .",
    "let @xmath3 consist only of the trivial group .",
    "let @xmath481 be a grushko decomposition ( @xmath482 is non - trivial , not @xmath69 , and freely indecomposable , @xmath483 is free of rank @xmath484 ) .",
    "if @xmath485 and @xmath486 , or @xmath487 , there is a jsj tree with one orbit of edges and @xmath383 is a one - edge splitting as explained above .",
    "we now show that _",
    "@xmath383 is trivial if @xmath488 _",
    "( of course it is trivial also if @xmath0 is freely indecomposable or free of rank @xmath489 ) .",
    "assuming @xmath488 , we actually show that there is no non - trivial tree @xmath20 with trivial edge stabilizers which is invariant under a finite index subgroup of @xmath382 . by collapsing edges",
    ", we may assume that @xmath20 only has one orbit of edges .",
    "since @xmath488 , we can write @xmath490 where @xmath491 are non - trivial and @xmath492 is a vertex stabilizer of @xmath20 . given a non - trivial @xmath493 and @xmath494 , the subgroup @xmath495 is the image of @xmath492 by an automorphism but is not conjugate to @xmath492 .",
    "this contradicts the invariance of @xmath20 .",
    "let @xmath0 be a one - ended hyperbolic group , and let @xmath3 consist of all virtually cyclic subgroups .",
    "it follows from @xcite that the tree @xmath496 constructed by bowditch @xcite using the topology of @xmath22 is universally compatible , and refines any reduced tree in @xmath17 .",
    "in particular , @xmath497 . one can easily check that @xmath18 is obtained from @xmath496 by collapsing every edge @xmath54 such that @xmath457 is a maximal virtually cyclic subgroup fixing no other edge , and by removing redundant vertices .",
    "we consider cyclic splittings of generalized baumslag - solitar groups . these are groups which act on a tree with all edge and vertex stabilizers infinite cyclic . unless @xmath0 is isomorphic to @xmath69 , @xmath38 , or the klein bottle group , all such trees belong to the cyclic jsj deformation space ( see @xcite or subsection [ gl3a - gbs ] of @xcite ) .    first consider a solvable baumslag - solitar group @xmath498 , with @xmath499 . in this case",
    "@xmath17 is trivial if @xmath463 is not a prime power . if @xmath463 is a prime power",
    ", @xmath17 is the jsj deformation space ( it is reducible ) .",
    "when @xmath500 with none of @xmath501 dividing the other , proposition [ prop_rig ] applies by @xcite .",
    "in particular , @xmath17 is non - trivial .",
    "this holds , more generally , when @xmath0 is a generalized baumslag - solitar group defined by a labelled graph with no label dividing another label at the same vertex .",
    "see @xcite for a study of @xmath17 for generalized baumslag - solitar groups .",
    "recall that a group is @xmath502 ( resp .",
    "@xmath91 ) if it is virtually polycyclic of hirsch length @xmath92 ( resp .",
    "@xmath503 ) .",
    "let @xmath0 be a finitely presented group , and @xmath504 .",
    "assume that @xmath0 does not split over a @xmath505 subgroup , and that @xmath0 is not @xmath506 .",
    "let @xmath3 consist of all subgroups of @xmath90 subgroups .",
    "then @xmath17 dominates the bass - serre tree @xmath507 of the regular neighbourhood @xmath508 constructed by scott - swarup in theorem 12.3 of @xcite .",
    "this follows directly from the fact that @xmath507 is universally compatible ( ( * ? ? ?",
    "* definition 6.1(1 ) ) , or ( * ? ? ?",
    "* corollary 8.4 ) and ( * ? ? ? * theorem 4.1 ) ) .",
    "the domination may be strict : if @xmath500 , the tree @xmath507 is always trivial but , as pointed out above , @xmath17 is non - trivial when none of @xmath501 divides the other .",
    "let @xmath0 be a poincar duality group of dimension @xmath92 ( see also work by kropholler on this subject @xcite ) .",
    "although such a group is not necessarily finitely presented , it is almost finitely presented ( * ? ? ?",
    "* proposition 1.1 ) , which is sufficient for dunwoody s accessiblity , so the jsj deformation space and the compatibility jsj deformation space exist . by (",
    "* theorem a ) , if @xmath0 splits over a virtually solvable subgroup @xmath86 , then @xmath86 is @xmath505 .",
    "we therefore consider the family @xmath3 consisting of @xmath509-subgroups .    by",
    "* corollary 4.3 ) , for all @xmath505 subgroups @xmath86 , the number of coends @xmath510 is @xmath41 ( see @xcite for a discussion of the relation between @xmath510 and the number of coends , ( * ? ? ?",
    "* section 14.5 ) ) . by (",
    "* theorem 1.3 ) , if @xmath0 is not virtually polycyclic , then @xmath86 has finite index in its commensurizer . by corollary 8.4(2 ) of @xcite",
    ", this implies that the jsj deformation space contains a universally compatible tree ( namely its tree of cylinders , see subsection [ defcyl ] or @xcite ) , so equals @xmath17 .    but one has more in this context : any universally elliptic tree is universally compatible .",
    "indeed , since @xmath505-subgroups of @xmath0 have precisely @xmath41 coends , proposition 7.4 of @xcite implies that any two one - edge splittings @xmath5 of @xmath0 over @xmath3 with edge stabilizers of @xmath7 elliptic in @xmath8 are compatible . indeed , strong crossing of almost invariant subsets corresponding to @xmath7 and @xmath8 occurs if and only edge stabilizers of @xmath7 are not elliptic in @xmath8 ( ( * ? ? ?",
    "* lemme 11.3 ) ) , and the absence of ( weak or strong ) crossing is equivalent to compatibility of @xmath7 and @xmath8 @xcite . to sum up",
    ", we have :    let @xmath0 be a poincar duality group of dimension @xmath92 , with @xmath0 not virtually polycyclic .",
    "let @xmath3 the family of @xmath509-subgroups .",
    "then @xmath383 exists and lies in the jsj deformation space of @xmath0 over @xmath3 .",
    "in particular , @xmath0 has a canonical jsj tree over @xmath3 .",
    "we will see additional examples based on the tree of cylinders in part [ exam ] .",
    "in this section , we assume that for each @xmath43-tree @xmath20 there is an acylindrical tree @xmath36 ( with uniform constants ) in the same deformation space , and we deduce the existence of the jsj deformation space . in the setting of example [ asuiv ] , this applies if all abelian subgroups of @xmath0 are cyclic ( for instance if @xmath0 is a torsion - free hyperbolic group ) , and more generally if @xmath29 contains all non - cyclic abelian groups .",
    "this is a first step towards the proof of theorem [ thm_smallyacyl ] , where we allow @xmath36 not to lie in the same deformation space as @xmath20 .",
    "an infinite group @xmath86 is virtually cyclic if some finite index subgroup is infinite cyclic .",
    "such a group maps onto @xmath69 or @xmath522 ( the infinite dihedral group @xmath523 ) with finite kernel .",
    "[ dvc ] given @xmath524 , we say that @xmath86 is _ @xmath115-virtually cyclic _ if it maps onto @xmath69 or @xmath522 with kernel of order at most @xmath115 .",
    "equivalently , @xmath86 acts non - trivially on a line with edge stabilizers of order @xmath525 .",
    "an infinite virtually cyclic group is @xmath115-virtually cyclic if the order of its maximal finite normal subgroup is @xmath525 .",
    "note that finite subgroups of a @xmath115-virtually cyclic group have cardinality bounded by @xmath526 .",
    "a tree @xmath20 is",
    "_ @xmath515-acylindrical _ if all arcs of length @xmath527 have stabilizer of cardinality @xmath528 .",
    "if @xmath97 belongs to the same deformation space as @xmath20 , it is @xmath529-acylindrical ( see @xcite ) , but in general there is no control on @xmath530 .",
    "[ thm_jsjacyl ] given @xmath3 and @xmath29 , suppose that there exist numbers @xmath115 and @xmath34 such that :    * @xmath3 contains all @xmath115-virtually cyclic subgroups of @xmath0 , and all subgroups of order @xmath531 ; * for any @xmath43-tree @xmath20 , there is an @xmath43-tree @xmath36 in the same deformation space which is @xmath515-acylindrical .",
    "then the jsj deformation space of @xmath0 over @xmath3 relative to @xmath29 exists .",
    "moreover , if all groups in @xmath3 are small in @xmath43-trees , then the flexible vertices are relative qh vertices with fiber of cardinality at most @xmath115 , and all boundary components are used .",
    "recall ( subsection [ pti ] ) that @xmath532 is small in @xmath20 ( resp .  in @xmath43-trees )",
    "if it fixes a point , or an end , or leaves a line invariant in @xmath20 ( resp .  in all @xmath43-trees on which @xmath0 acts ) .",
    "see subsection [ sec_ue ] for the definitions of flexible , qh , and used boundary components .",
    "theorem [ thm_jsjacyl ] holds , with the same proof , if @xmath0 is only finitely generated relative to a finite collection of subgroups , and these subgroups are in @xmath29 .",
    "theorem [ thm_jsjacyl ] will be proved in subsections [ exis ] and [ sec_jsj_acyl_desc ] .",
    "we start with two general lemmas .",
    "[ vc ] if a group @xmath86 acts non - trivially on a @xmath515-acylindrical tree @xmath20 , and @xmath86 is small in @xmath20 , then @xmath86 is @xmath115-virtually cyclic .    by smallness , @xmath86 preserves a line or fixes an end .",
    "if it acts on a line , it is @xmath115-virtually cyclic .",
    "if it fixes an end , the set of its elliptic elements is the kernel of a homomorphism to @xmath69 .",
    "every finitely generated subgroup of this kernel is elliptic .",
    "it fixes a ray , so has order @xmath525 by acylindricity .",
    "it follows that @xmath86 is @xmath115-virtually cyclic .",
    "[ oef ] if a finitely generated group @xmath0 does not split over subgroups of order @xmath525 relative to a family @xmath29 , there exists a finite family @xmath533 , with @xmath534 a finitely generated group contained in a group of @xmath29 , such that @xmath0 does not split over subgroups of order @xmath525 relative to @xmath535 .",
    "a special case of this lemma is proved in @xcite .",
    "all trees in this proof will have stabilizers in the family @xmath536 consisting of all subgroups of order @xmath525 .",
    "note that over @xmath536 all trees are universally elliptic , so having no splitting is equivalent to the jsj deformation space being trivial .",
    "let @xmath537 be an enumeration of all finitely generated subgroups of @xmath0 contained in a group of @xmath29 .",
    "we have pointed out ( ( * ? ? ? * remark [ gl3a - rem_linn ] ) ) that @xmath0 admits jsj decompositions over @xmath536 ( this follows from linnell s accessibility @xcite ) .",
    "this is also true in the relative setting , so let @xmath191 be a jsj tree relative to @xmath538 .",
    "we show the lemma by proving that @xmath191 is trivial for @xmath92 large .    by lemma [ gl3a - lem_rafin ] of @xcite , the tree @xmath191 , which is relative to @xmath539 ,",
    "may be refined to a jsj tree relative to @xmath539 .",
    "if we fix @xmath92 , we may therefore find trees @xmath540 such that @xmath541 is a jsj tree relative to @xmath542 and @xmath541 refines @xmath543 . by linnell s accessibility theorem",
    ", there is a uniform bound for the number of orbits of edges of @xmath544 ( assumed to have no redundant vertices ) .",
    "this number is an upper bound for the number of @xmath545 such that @xmath191 and @xmath546 belong to different deformation spaces , so for @xmath92 large the trees @xmath191 all belong to the same deformation space @xmath19 ( they have the same elliptic subgroups ) .",
    "since every @xmath547 is elliptic in @xmath19 , so is every @xmath31 ( otherwise @xmath86 would fix a unique end , and edge stabilizers would increase infinitely many times along a ray going to that end ) .",
    "the non - splitting hypothesis made on @xmath0 then implies that @xmath19 is trivial .",
    "we also note :    [ oneend ] it suffices to prove theorem [ thm_jsjacyl ] under the additional hypothesis that @xmath0 does not split over subgroups of order @xmath548 relative to @xmath29 ( `` one - endedness condition '' ) .",
    "let @xmath549 denote the family of subgroups of order @xmath548 . as mentioned in the previous proof",
    ", linnell s accessibility implies the existence of a jsj tree over @xmath550 relative to @xmath29",
    ". we can now apply subsection [ gl3a - ceg ] of @xcite .",
    "because of lemma [ oneend ] , we assume from now on that @xmath0 does not split over subgroups of order @xmath548 relative to @xmath29 .    in this subsection",
    ", we prove the first assertion of theorem [ thm_jsjacyl ] .",
    "we have to construct a universally elliptic tree @xmath109 which dominates every universally elliptic tree ( of course , all trees are @xmath43-trees and universal ellipticity is defined with respect to @xmath43-trees ) .",
    "countability of @xmath0 allows us to choose a sequence of universally elliptic trees @xmath551 such that , if @xmath57 is elliptic in every @xmath551 , then it is elliptic in every universally elliptic tree . by corollary [ gl3a - cor_zor ] of @xcite , it suffices that @xmath109 dominates every @xmath551 .",
    "refining @xmath551 if necessary , as in the proof of ( * ? ? ?",
    "* theorem [ gl3a - thm_exist_mou ] ) , we may assume that @xmath552 dominates @xmath551 .",
    "in particular , we are free to replace @xmath551 by a subsequence when needed .",
    "let @xmath230 be a @xmath553-acylindrical tree in the same deformation space as @xmath551 .",
    "let @xmath231 be the length function of @xmath230 .",
    "the proof has two main steps .",
    "first we assume that , for all @xmath60 , the sequence @xmath554 is bounded , and we construct a universally elliptic @xmath43-tree @xmath109 which dominates every @xmath551 .",
    "such a tree is a jsj tree . in the second step ,",
    "we deduce a contradiction from the assumption that the sequence @xmath231 is unbounded .",
    "if @xmath554 is bounded for all @xmath60 , we pass to a subsequence so that @xmath231 has a limit @xmath68 ( possibly @xmath181 ) . since the set of length functions of trees is closed ( * ? ? ? * theorem 4.5 ) , @xmath68 is the length function associated to the action of @xmath0 on an @xmath23-tree @xmath20 . since @xmath68 takes values in @xmath69 , the tree @xmath20 is simplicial ( but in general it is not an @xmath3-tree ) .",
    "we can assume that all trees @xmath230 are non - trivial .",
    "by lemma [ vc ] , @xmath230 is irreducible except if @xmath0 is virtually cyclic , in which case the theorem is clear . if @xmath57 is hyperbolic in some @xmath555 , then @xmath556 for all @xmath557 ( because @xmath230 dominates @xmath555 ) , so @xmath60 is hyperbolic in @xmath20 .",
    "since every @xmath230 is irreducible , there exist @xmath558 such that @xmath80 , and @xmath559 $ ] are hyperbolic in @xmath230 ( for some @xmath169 ) , hence in @xmath20 , so @xmath20 is also irreducible .",
    "by @xcite , @xmath560 converges to @xmath20 in the gromov topology ( see subsection [ fred ] ) .",
    "we will not claim anything about the edge stabilizers of @xmath20 , but we study its vertex stabilizers .",
    "we claim that _ a subgroup @xmath85 is elliptic in @xmath20 if and only if it is elliptic in every @xmath230 _ ; in particular , every @xmath561 is elliptic in @xmath20 , and @xmath20 dominates every @xmath230 .",
    "note that the claim is true if @xmath86 is finitely generated , since @xmath57 is elliptic in @xmath20 if and only if it is elliptic in every @xmath230 .",
    "if @xmath86 is infinitely generated , let @xmath562 be a finitely generated subgroup of cardinality @xmath563 .",
    "if @xmath86 is elliptic in @xmath20 , it is elliptic in @xmath230 because otherwise it fixes a unique end and @xmath562 fixes an infinite ray of @xmath230 , contradicting acylindricity of @xmath230 .",
    "conversely , if @xmath86 is elliptic in every @xmath230 but not in @xmath20 , the group @xmath562 fixes an infinite ray in @xmath20 . by gromov convergence",
    ", @xmath562 fixes a segment of length @xmath564 in @xmath560 for @xmath169 large .",
    "this contradicts acylindricity of @xmath230 , thus proving the claim .",
    "we now return to the trees @xmath551 .",
    "they are dominated by @xmath20 since the trees @xmath230 are .",
    "their edge stabilizers are in @xmath565 , the family of groups in @xmath3 which are universally elliptic . since @xmath565 is stable under taking subgroups , any equivariant map @xmath566 factors through the tree @xmath109 obtained from @xmath20 by collapsing all edges with stabilizer not in @xmath565 .",
    "the tree @xmath109 is a universally elliptic @xmath43-tree dominating every @xmath551 , hence every universally elliptic tree .",
    "it is a jsj tree .",
    "@xmath567 we now suppose that @xmath554 is unbounded for some @xmath57 , and we work towards a contradiction . since the set of projectivized non - zero length functions is compact ( * ? ? ?",
    "* theorem 4.5 ) , we may assume that @xmath568 converges to the length function @xmath68 of a non - trivial @xmath23-tree  @xmath521 , for some sequence @xmath569 . by theorem [ thm_feighn ]",
    ", convergence also takes place in the gromov topology ( all @xmath230 s are irreducible , and we take @xmath521 to be a line if it is not irreducible ) .    [ stab ]    1 .",
    "any subgroup @xmath56 of order @xmath563 which is elliptic in every @xmath230 fixes a unique point in @xmath521 .",
    "in particular , elements of @xmath29 are elliptic in @xmath521 .",
    "tripod stabilizers of @xmath521 have cardinality @xmath528 .",
    "if @xmath570 is a non - degenerate arc , then its stabilizer @xmath571 has order @xmath525 or is @xmath115-virtually cyclic .",
    "4 .   let @xmath572 be two non - degenerate arcs .",
    "if @xmath571 is @xmath115-virtually cyclic , then @xmath573 .",
    "recall that @xmath574 dominates @xmath230 , so a subgroup acting non - trivially on @xmath230 also acts non - trivially on @xmath290 for @xmath575 .    to prove 1 , we may assume that @xmath86 is finitely generated .",
    "it is elliptic in @xmath521 because all of its elements are .",
    "but it can not fix an arc in @xmath521 : otherwise , since @xmath576 converges to @xmath577 in the gromov topology , @xmath86 would fix a long segment in @xmath230 for @xmath169 large , contradicting acylindricity .    using the gromov topology",
    ", one sees that a finitely generated subgroup fixing a tripod of @xmath521 fixes a long tripod of @xmath230 for @xmath169 large , so has cardinality at most @xmath115 by acylindricity .",
    "this proves 2 .    to prove 3 , consider a group @xmath86 fixing a non - degenerate arc @xmath49 $ ] in @xmath521 .",
    "it suffices to show that @xmath86 does not contain @xmath33 : depending on whether @xmath86 is elliptic in every @xmath230 or not , assertion 1 or lemma [ vc ] then gives the required conclusion .",
    "if @xmath86 contains a non - abelian free group , choose elements @xmath578 generating a free subgroup @xmath579 of rank @xmath580 , and choose @xmath581 with @xmath582 .",
    "for @xmath169 large , there exist two points @xmath583 at distance at least @xmath584 from each other , and contained in the characteristic set ( axis or fixed point set ) of each @xmath585 . additionally , the translation length of every @xmath585 in @xmath230 is at most @xmath586 if @xmath169 is large enough",
    ". then all commutators",
    "@xmath587 $ ] fix most of the segment @xmath588 $ ] , contradicting acylindricity of @xmath230 if @xmath589 .",
    "we now prove 4 . by assertion 1",
    ", we know that @xmath590 acts non - trivially on @xmath230 for @xmath169 large , so we can choose a hyperbolic element @xmath591 .",
    "we suppose that @xmath592 does not fix an endpoint , say @xmath593 , of @xmath49 $ ] , and we argue towards a contradiction .",
    "let @xmath583 be in the axis of @xmath147 as above , with @xmath594 for some @xmath595 .",
    "for @xmath169 large the translation lengths of @xmath60 and @xmath147 in @xmath230 are small compared to @xmath596 , and the elements @xmath82,[g , h^2],\\dots , [ g , h^{c+1}]$ ] all fix a common long arc in @xmath230 . by acylindricity , there exist @xmath597 such that @xmath598=[g , h^{j_2}]$ ] , so @xmath60 commutes with @xmath599 .",
    "it follows that @xmath60 preserves the axis of @xmath147 , and therefore moves @xmath600 by @xmath554 , a contradiction since @xmath601 as @xmath602 .",
    "sela s proof of acylindrical accessibility now comes into play to describe the structure of @xmath521 .",
    "we use the generalization given by theorem 5.1 of @xcite , which allows non - trivial tripod stabilizers .",
    "lemma [ stab ] shows that stabilizers of unstable arcs and tripods have cardinality at most @xmath115 , and we have assumed that @xmath0 does not split over a subgroup of cardinality at most @xmath115 relative to @xmath29 , hence also relative to a finite @xmath603 by lemma [ oef ] .",
    "it follows that @xmath521 is a graph of actions as in theorem 5.1 of @xcite . in order to reach the desired contradiction",
    ", we have to rule out several possibilities .",
    "first consider a vertex action @xmath604[0pt]{\\begin{turn}{-90}\\ensuremath{\\circlearrowright}\\end{turn}}\\,}y_v$ ] of the decomposition of @xmath521 given by @xcite .",
    "if @xmath407 is a line on which @xmath32 acts with dense orbits through a finitely generated group , then , by assertion 3 of lemma [ stab ] , @xmath32 contains a finitely generated subgroup @xmath86 mapping onto @xmath38 with finite or virtually cyclic kernel , and acting non - trivially .",
    "the group @xmath86 acts non - trivially on @xmath230 for @xmath169 large , contradicting lemma [ vc ] .",
    "now suppose that @xmath605[0pt]{\\begin{turn}{-90}\\ensuremath{\\circlearrowright}\\end{turn}}\\,}y_v$ ] has kernel @xmath606 , and the action of @xmath607 is dual to a measured foliation on a @xmath41-orbifold @xmath113 ( with conical singularities ) .",
    "then @xmath606 has order @xmath525 since it fixes a tripod . consider a one - edge splitting @xmath254 of @xmath0 ( relative to @xmath29 ) dual to a simple closed curve on @xmath113 .",
    "this splitting is over a @xmath115-virtually cyclic group @xmath457 . in particular",
    ", @xmath254 is an @xmath43-tree . since @xmath457 is hyperbolic in @xmath521 , it is also hyperbolic in @xmath230 , hence in @xmath551 , for @xmath169 large enough . on the other hand ,",
    "being universally elliptic , @xmath551 is elliptic with respect to @xmath254 . by remark 2.3 of @xcite ( see ( * ? ? ?",
    "* lemma [ gl3a - lem_elhyp ] ) ) , @xmath0 splits relative to @xmath29 over an infinite index subgroup of @xmath457 , i.e.  over a group of order @xmath548 , contradicting our assumptions .    by theorem 5.1 of @xcite ,",
    "the only remaining possibility is that @xmath521 itself is a simplicial tree , and all edge stabilizers are @xmath115-virtually cyclic .",
    "then @xmath521 is an @xmath43-tree , and its edge stabilizers are hyperbolic in @xmath230 for @xmath169 large .",
    "this leads to a contradiction as in the previous case .",
    "we now prove the second assertion of theorem [ thm_jsjacyl ] : if all groups in @xmath3 are small in @xmath43-trees , then the flexible vertices are relatively qh with fiber of cardinality at most @xmath115 .",
    "let @xmath32 be a flexible vertex group of a jsj tree @xmath109 .",
    "we consider splittings of @xmath32 ( over groups in @xmath3 ) relative to the incident edge groups and the subgroups of @xmath32 conjugate to some @xmath31 , as studied in subsection [ gl3a - sec_jsj_vx ] of @xcite .",
    "these splittings extend to splittings of @xmath0 relative to @xmath29 .",
    "we claim that every edge stabilizer @xmath608 of such a splitting is @xmath115-virtually cyclic",
    ".    the group @xmath424 can not be @xmath43-universally elliptic , since otherwise the splitting could be used to refine @xmath109 , contradicting maximality of the jsj tree @xmath109 .",
    "being small in @xmath43-trees , @xmath424 is @xmath115-virtually cyclic : apply lemma [ vc ] to the action of @xmath424 on @xmath36 , where @xmath20 is some @xmath43-tree in which @xmath424 is not elliptic .",
    "this proves the claim .",
    "we assume that @xmath0 does not split ( relative to @xmath29 ) over a subgroup of order @xmath548 , so it does not split over a subgroup of infinite index of @xmath424 .",
    "it follows that all splittings of @xmath32 are minimal in the sense of fujiwara - papasoglu , by remark 3.2 of @xcite .",
    "moreover , any pair of splittings is either hyperbolic - hyperbolic or elliptic - elliptic ( * ? ? ?",
    "* proposition 2.2 ) .",
    "since @xmath32 is flexible , there are hyperbolic - hyperbolic splittings , and we consider a maximal set @xmath255 of hyperbolic - hyperbolic splittings , in the sense of definition 4.4 of @xcite .",
    "we now construct an enclosing graph of groups decomposition for @xmath255 , as in the proof of proposition 5.4 in @xcite .",
    "associated to a finite set of splittings @xmath609 ( consisting of splittings @xmath610 where each @xmath386 is hyperbolic - hyperbolic with respect to some @xmath290 , @xmath611 , if @xmath612 ) is a splitting of @xmath32 with a qh vertex stabilizer @xmath613 fitting in an exact sequence @xmath614 .",
    "one can check from the construction in @xcite that this decomposition is relative to @xmath29 , and that any non - peripheral element in @xmath613 is hyperbolic in some splitting @xmath290 .",
    "in particular , any conjugate of a group in @xmath29 intersects @xmath613 in an extended boundary subgroup , so @xmath613 is a relative qh group .    as in @xcite ,",
    "the point is to show that the complexity of the 2-orbifold @xmath615 is bounded .",
    "if not , one uses non - peripheral simple closed @xmath288-suborbifolds on @xmath615 to construct splittings @xmath616 of @xmath32 with arbitrarily many orbits of edges . in @xcite this is ruled out by bestvina - feighn s accessibility theorem , but we have to use a different argument because we do not assume that @xmath0 is finitely presented .    since @xmath613 was constructed using splittings over @xmath115-virtually cyclic groups , the fibers @xmath617 have order bounded by @xmath115 , so @xmath616 is @xmath618-acylindrical",
    ". refining @xmath619 at the vertices in the orbit of @xmath53 using @xmath616 , and collapsing the original edges , we obtain splittings of @xmath0 with arbitrarily many orbits of edges .",
    "these splittings are @xmath618-acylindrical since the @xmath616 s are over non - peripheral @xmath288-suborbifolds .",
    "this contradicts the main result of @xcite , which generalizes sela s acylindrical accessibility @xcite by allowing groups of order @xmath525 to have arbitrary fixed point sets .",
    "we now have an enclosing graph of groups decomposition of @xmath32 for @xmath255 , that is relative to @xmath29 , and with a relative qh vertex stabilizer @xmath254 .",
    "its edge stabilizers are @xmath115-virtually cyclic , hence in @xmath3 .",
    "we complete the proof by showing @xmath620 .",
    "assume otherwise .",
    "then some boundary component of the underlying orbifold yields a non - trivial splitting @xmath621 of @xmath32 .",
    "maximality of the jsj tree @xmath109 therefore implies that @xmath621 is hyperbolic - hyperbolic with respect to some other splitting . as in lemma 5.5 of @xcite , the `` rigidity '' property of enclosing groups",
    "contradicts the maximality of @xmath255 .",
    "this proves that flexible vertices of @xmath109 are relative qh with fiber of cardinality at most @xmath115 . by proposition [ gl3a - prop_fue ] and remark [ gl3a - rem_abs2rel ] of @xcite ,",
    "all boundary components of the underlying orbifold are used .",
    "this completes the proof of the second assertion of theorem [ thm_jsjacyl ] .",
    "in this section , we generalize theorem [ thm_jsjacyl ] . instead of requiring that every deformation space contains a @xmath515-acylindrical tree , we require that one can make every tree acylindrical without changing its deformation space too much : the new elliptic subgroups should be small in @xmath43-trees .",
    "[ es ] besides @xmath3 and @xmath29 , we fix a family @xmath519 of subgroups of @xmath0 .",
    "it should be closed under conjugation and under taking subgroups , and every group in @xmath519 should be _ small in @xmath43-trees . _",
    "if @xmath622 is fixed , we denote by @xmath623 the family of groups in @xmath519 which are not @xmath115-virtually cyclic .    in applications @xmath624",
    "will contain @xmath3 , sometimes strictly .",
    "let @xmath625 be @xmath43-trees .",
    "given @xmath519 , we say that @xmath20 _ smally  dominates _",
    "@xmath36 ( with respect to @xmath519 ) if :    * @xmath20 dominates @xmath36 ; * any group which is elliptic in @xmath36 but not in @xmath20 belongs to @xmath519 ( in particular , it is small in @xmath43-trees ) ; * edge stabilizers of @xmath36 are elliptic in @xmath20 .    [ thm_smallyacyl ] given @xmath3 , @xmath29 , and @xmath519 as in definition [ es ] , suppose that there exist numbers @xmath115 and @xmath34 such that :    * @xmath3 contains all @xmath115-virtually cyclic subgroups , and all subgroups of cardinal @xmath531 ; * every @xmath43-tree @xmath20 smally  dominates some @xmath515-acylindrical @xmath43-tree @xmath36 .",
    "then the jsj deformation space of @xmath0 over @xmath3 relative to @xmath29 exists .",
    "moreover , if all groups in @xmath3 are small in @xmath43-trees , then the flexible vertex groups that do not belong to @xmath519 are relatively qh with fiber of cardinality at most @xmath115 .",
    "all the boundary components of the underlying orbifold are used .",
    "the rest of this section is devoted to the proof . as above , lemma [ oneend ]",
    "lets us assume that @xmath0 does not split over groups of order @xmath531 relative to @xmath29 ( `` one - endedness '' assumption ) .",
    "[ lem_smallvc ] assume that @xmath0 does not split over groups of order @xmath531 relative to @xmath29 .",
    "suppose that @xmath20 smally  dominates a @xmath515-acylindrical tree @xmath36 .    1 .",
    "if a vertex stabilizer @xmath32 of @xmath36 is not elliptic in @xmath20 , it belongs to @xmath520 ( in particular , it is not @xmath115-virtually cyclic ) .",
    "2 .   let @xmath86 be a subgroup .",
    "it is elliptic in @xmath36 if and only if it is elliptic in @xmath20 or contained in a group @xmath626 . in particular , all @xmath515-acylindrical trees smally dominated by @xmath20 belong to the same deformation space .",
    "3 .   assume that @xmath36 is reduced .",
    "then every edge stabilizer @xmath457 of @xmath36 has a subgroup of index at most @xmath41 fixing an edge in @xmath20 .",
    "in particular , if @xmath20 is universally elliptic , so is @xmath36 .",
    "clearly @xmath627 because @xmath20 smally  dominates @xmath36 .",
    "assume that it is @xmath115-virtually cyclic .",
    "stabilizers of edges incident on @xmath53 have infinite index in @xmath32 since they are elliptic in @xmath20 and @xmath32 is not , so they have order @xmath548 .",
    "this contradicts the `` one - endedness '' assumption ( note that @xmath36 is not trivial because then @xmath628 would be @xmath115-virtually cyclic , also contradicting one - endedness ) .",
    "the `` if '' direction of assertion 2 follows from lemma [ vc ] .",
    "conversely , assume that @xmath86 is elliptic in @xmath36 but not in @xmath20 . if @xmath53 is a vertex of @xmath36 fixed by @xmath86 , we have @xmath629 and @xmath630 by assertion 1 .    for assertion 3 ,",
    "let @xmath105 and @xmath53 be the endpoints of an edge @xmath54 of @xmath36 .",
    "first suppose that @xmath631 is not elliptic in @xmath20 .",
    "it is small in @xmath20 , so it preserves a line or fixes an end .",
    "since @xmath457 is elliptic in @xmath20 , some subgroup of index at most @xmath41 fixes an edge .",
    "if @xmath631 fixes two distinct points of @xmath20 , then @xmath457 fixes an edge .",
    "we may therefore assume that @xmath631 and @xmath32 each fix a unique point in @xmath20 .",
    "if these fixed points are different , @xmath632 fixes an edge of @xmath20 .",
    "otherwise , @xmath633 fixes a point @xmath142 in @xmath20 , and is therefore elliptic in @xmath634 .",
    "since @xmath36 is reduced , some @xmath57 acting hyperbolically on @xmath36 maps @xmath105 to @xmath53 and conjugates @xmath631 to @xmath32 ( unless there is such a @xmath60 , collapsing the edge @xmath103 yields a tree in the same deformation space as @xmath36 ) .",
    "this element @xmath60 fixes @xmath151 , a contradiction .",
    "[ cor_domin ]    1 .",
    "@xmath36 is an @xmath635-tree .",
    "[ domin2 ] if @xmath7 dominates @xmath8 , then @xmath636 dominates @xmath637 .",
    "[ domin3 ] if @xmath20 is an @xmath635-tree , then @xmath36 lies in the same deformation space as @xmath20 .",
    "in particular , theorem [ thm_jsjacyl ] applies to @xmath635-trees .",
    "applying theorem [ thm_jsjacyl ] , we get the existence of a jsj tree @xmath39 of @xmath0 over @xmath3 relative to @xmath638 .",
    "we can assume that @xmath39 is reduced .",
    "we think of @xmath39 as _ relative _ , as it is relative to @xmath520 ( not just to @xmath29 ) . in the setting of example [ asuiv ]",
    ", @xmath520 is the class of all non - cyclic abelian subgroups and @xmath39 is a jsj tree over abelian groups relative to all non - cyclic abelian subgroups .",
    "[ lem_tr ] if @xmath39 is reduced , then it is @xmath43-universally elliptic .",
    "we let @xmath54 be an edge of @xmath39 such that @xmath457 is not elliptic in some @xmath43-tree @xmath20 , and we argue towards a contradiction .",
    "we may assume that @xmath20 only has one orbit of edges .",
    "the first step is to show that @xmath39 dominates @xmath36 .    since @xmath36 is relative to @xmath638 , the group @xmath457 fixes a vertex @xmath639 by @xmath635-universal ellipticity of @xmath39 .",
    "this @xmath105 is unique because edge stabilizers of @xmath36 are elliptic in @xmath20 .",
    "also note that @xmath640 by assertion 1 of lemma [ lem_smallvc ] .",
    "there is an equivariant map @xmath641 , so @xmath631 contains the stabilizer of some edge @xmath642 , and @xmath643 is ( trivially ) @xmath635-universally elliptic .",
    "since @xmath20 has a single orbit of edges , it is @xmath635-universally elliptic ( but it is not relative to @xmath638 ) . on the other hand",
    ", @xmath36 is an @xmath635-tree , and it is @xmath635-universally elliptic by assertion 3 of lemma [ lem_smallvc ] ( replace @xmath36 by a reduced tree in the same deformation space if needed ) . by maximality of the jsj , @xmath39 dominates @xmath36 .",
    "recall that @xmath105 is the unique fixed point of @xmath457 in @xmath36",
    ". denote by @xmath644 the endpoints of @xmath54 in @xmath39 . since @xmath39 dominates @xmath36 , the groups @xmath645 and @xmath646 fix @xmath105 , so @xmath647 is elliptic in @xmath39 .",
    "as in the previous proof , some @xmath57 acting hyperbolically on @xmath39 maps @xmath593 to @xmath648 ( because @xmath39 is reduced ) .",
    "this @xmath60 fixes @xmath105 , so belongs to @xmath640 , a contradiction since @xmath39 is relative to @xmath638 .",
    "we shall now construct a jsj tree @xmath40 relative to @xmath29 by refining @xmath39 at vertices with small stabilizer .",
    "this jsj tree @xmath40 is thought of as _ absolute _ as it is not relative to @xmath520 .",
    "[ lem_rel_vs_abs ] there exists a jsj tree @xmath40 over @xmath3 relative to @xmath29 .",
    "it may be obtained by refining @xmath39 at vertices with stabilizer in @xmath519 ( in particular , the set of vertex stabilizers not belonging to @xmath519 is the same for @xmath40 as for @xmath39 ) .",
    "moreover , @xmath649 lies in the same deformation space as @xmath39 .",
    "let @xmath53 be a vertex of @xmath39 .",
    "we shall prove the existence of a jsj tree @xmath650 for @xmath32 relative to the family @xmath651 consisting of incident edge groups and subgroups conjugate to a group of @xmath29 ( see subsection [ gl3a - sec_jsj_vx ] of @xcite ) . by lemma [ gl3a - lem_jsjrel ] of @xcite , which applies because @xmath39 is @xmath43-universally elliptic ( lemma [ lem_tr ] ) ,",
    "one then obtains a jsj tree @xmath40 for @xmath0 relative to @xmath29 by refining @xmath39 using the trees @xmath650 .",
    "if @xmath32 is elliptic in every @xmath43-universally elliptic tree @xmath20 , its jsj is trivial and no refinement is needed at @xmath53 .",
    "assume therefore that @xmath32 is not elliptic in such a @xmath20 .",
    "consider the @xmath635-tree @xmath36 .",
    "it is @xmath43-universally elliptic by assertion 3 of lemma [ lem_smallvc ] , hence @xmath635-universally elliptic , so it is dominated by @xmath39 . in particular , @xmath32 is elliptic in @xmath36 , so belongs to @xmath519 .",
    "being small in @xmath43-trees , @xmath32 has at most one non - trivial deformation space containing a universally elliptic tree ( * ? ? ?",
    "* proposition [ gl3a - sma ] ) . applying this to splittings of @xmath32 relative to @xmath651",
    ", we deduce that @xmath20 is a ( non - minimal ) jsj tree of @xmath32 relative to @xmath651 .",
    "this shows the first two assertions of the lemma .",
    "we now show the `` moreover '' .",
    "since @xmath649 is an @xmath635-universally elliptic @xmath635-tree , it is dominated by @xmath39 .",
    "conversely , @xmath40 dominates @xmath39 and therefore @xmath649 dominates @xmath652 by corollary [ cor_domin]([domin2 ] ) , so @xmath649 dominates @xmath653 since @xmath39 and @xmath652 lie in the same deformation space by corollary [ cor_domin]([domin3 ] ) .",
    "we have just proved that the jsj deformation space relative to @xmath29 exists . to complete the proof of theorem [ thm_smallyacyl ] ,",
    "there remains to describe flexible vertex groups under the assumption that all groups in @xmath3 are small in @xmath43-trees .",
    "let @xmath32 be a flexible vertex stabilizer of @xmath40 which does not belong to @xmath519 .",
    "because of the way @xmath40 was constructed by refining @xmath39 at vertices with stabilizer in @xmath519 , the group @xmath32 is also a vertex stabilizer of @xmath39 , with the same incident edge groups .",
    "being flexible in @xmath40 , the group @xmath32 is non - elliptic in some @xmath43-tree @xmath20 . by lemma [ lem_smallvc ] ,",
    "@xmath32 is non - elliptic in the @xmath635-tree @xmath36 .",
    "this means that @xmath32 is not @xmath635-universally elliptic , so it is a flexible vertex stabilizer of @xmath39 .",
    "since groups of @xmath3 are small in @xmath635-trees , theorem [ thm_jsjacyl ] implies that @xmath32 is relatively qh with fiber of order @xmath525 , and all boundary components are used .",
    "in order to apply theorem [ thm_smallyacyl ] , one has to be able to construct an acylindrical tree @xmath36 smally dominated by a given tree @xmath20 .",
    "we show how the ( collapsed ) tree of cylinders @xmath654 may be used for that purpose .",
    "we first recall the definition and some basic properties of the tree of cylinders ( see @xcite for details ) .    besides @xmath3 and @xmath29",
    ", we have to fix a conjugacy - invariant subfamily @xmath655 . for the purposes of this paper",
    ", we always let @xmath512 be the family of infinite groups in @xmath3 .",
    "we assume that @xmath0 is one - ended relative to @xmath29 , so that all @xmath43-trees have edge stabilizers in @xmath512 .    as in @xcite , an equivalence relation @xmath513 on @xmath512",
    "is _ admissible _ ( relative to @xmath29 )",
    "if the following axioms hold for any @xmath656 :    1 .   if @xmath657 , and @xmath57 , then @xmath658 .",
    "2 .   if @xmath659 , then @xmath657 .",
    "3 .   let @xmath20 be an @xmath43-tree .",
    "if @xmath657 , and @xmath424 , @xmath660 fix @xmath661 respectively , then for each edge @xmath662 $ ] one has @xmath663 .",
    "fix an admissible equivalence relation @xmath513 .",
    "let @xmath20 be an @xmath43-tree .",
    "we declare two edges @xmath664 to be equivalent if @xmath665 .",
    "the union of all edges in an equivalence class is a subtree @xmath666 , called a _ cylinder _ of @xmath20 .",
    "two distinct cylinders meet in at most one point .",
    "the _ tree of cylinders _",
    "@xmath667 of @xmath20 is the bipartite tree such that @xmath668 is the set of vertices @xmath53 of @xmath20 which belong to at least two cylinders , @xmath669 is the set of cylinders @xmath666 of @xmath20 , and there is an edge @xmath670 between @xmath53 and @xmath666 in @xmath667 if and only if @xmath671 . the tree",
    "@xmath667 is dominated by @xmath20 ( in particular , it is relative to @xmath29 ) .",
    "it only depends on the deformation space @xmath19 containing @xmath20 ( we sometimes say that it is the tree of cylinders of @xmath19 ) .",
    "the stabilizer of a vertex @xmath672 is the stabilizer of @xmath53 , viewed as a vertex of @xmath20 .",
    "the stabilizer @xmath673 of a vertex @xmath674 is the stabilizer @xmath675 ( for the action of @xmath0 on @xmath512 by conjugation ) of the equivalence class @xmath676 containing stabilizers of edges in @xmath666 . if @xmath677 , then @xmath678 where @xmath329 is the equivalence class of @xmath424 . the stabilizer of an edge @xmath679 of @xmath667 is @xmath680 ; it is elliptic in @xmath20 .",
    "it often happens that edge stabilizers of @xmath667 belong to @xmath3 .",
    "but this is not always the case , so we have to consider the _ collapsed tree of cylinders _",
    "@xmath654 obtained from @xmath667 by collapsing all edges whose stabilizer does not belong to @xmath3 ( see section 5.2 of @xcite ) .",
    "it is an @xmath43-tree and is equal to its collapsed tree of cylinders .",
    "we assume that @xmath0 is one - ended relative to @xmath29 and we fix an admissible equivalence relation @xmath513 on @xmath512 .",
    "the following lemma gives conditions ensuring that the collapsed tree of cylinders @xmath654 of @xmath20 is smally dominated by @xmath20 , and @xmath618-acylindrical .",
    "[ sd ] let @xmath519 be a class of subgroups which are small in @xmath43-trees , as in definition [ es ] .",
    "suppose that , for every equivalence class @xmath676 , the stabilizer @xmath675 belongs to @xmath519 .",
    "also assume that one of the following holds :    1 .   for all @xmath676",
    ", the group @xmath675 belongs to @xmath3 .",
    "@xmath3 is stable by extension of index 2 : if @xmath424 has index 2 in @xmath681 , and @xmath682 , then @xmath683 .",
    "if @xmath20 is any @xmath43-tree , then @xmath654 is an @xmath43-tree smally  dominated by @xmath20 .",
    "any vertex stabilizer of @xmath654 which is not elliptic in @xmath684 is a @xmath675 .",
    "assume furthermore that there exists @xmath115 with the following property : if two groups of @xmath512 are inequivalent , their intersection has order @xmath525 .",
    "then @xmath654 is @xmath618-acylindrical .",
    "it is a general fact that edge stabilizers of @xmath667 are elliptic in @xmath20 , and that @xmath20 dominates @xmath667 .",
    "a vertex stabilizer of @xmath667 which is not elliptic in @xmath20 is a @xmath675 , so belongs to @xmath519 by assumption .",
    "this proves that @xmath20 smally dominates @xmath667 ( but in general @xmath667 may have edge stabilizers not in @xmath3 ) .    under the first hypothesis ( @xmath685 ) , the stabilizer of an edge @xmath679 of @xmath667 belongs to @xmath3 because @xmath673 does ,",
    "so @xmath686 is an @xmath43-tree . under the second hypothesis ,",
    "remark 5.11 of @xcite guarantees that @xmath654 belongs to the same deformation space as @xmath667 , so @xmath654 also is smally dominated by @xmath20 .",
    "its vertex stabilizers are vertex stabilizers of @xmath667 .",
    "acylindricity of @xmath687 follows from the fact that any segment of length 3 in @xmath687 contains edges with inequivalent stabilizers ( see @xcite ) .",
    "[ ouf ] let @xmath0 be one - ended relative to @xmath29 , and let @xmath519 be as in definition [ es ] .",
    "suppose that :    * @xmath3 contains all finite and virtually cyclic subgroups , and is stable by extension of index 2 .",
    "* @xmath513 is an admissible equivalence relation on the set @xmath512 of infinite groups in @xmath3 , with all groups @xmath675 belonging to @xmath519 .",
    "* there exists @xmath115 such that , if two groups in @xmath512 are inequivalent , their intersection has order @xmath525 .",
    "then the jsj deformation space @xmath2 over @xmath3 relative to @xmath29 exists .",
    "its flexible subgroups belong to @xmath519 or are relatively qh with finite fiber .",
    "the collapsed tree of cylinders @xmath688 of @xmath2 is a jsj tree relative to @xmath689 .",
    "it has the same vertex stabilizers not contained in @xmath519 as trees in @xmath2 .",
    "lemma [ sd ] allows us to apply theorem [ thm_smallyacyl ] ( with @xmath690 and @xmath200 ) .",
    "every @xmath682 is finite or contained in a @xmath675 , hence is small in @xmath43-trees because @xmath691 , so we can apply the `` moreover '' of the theorem .",
    "thus @xmath2 exists , and flexible groups are as described .",
    "we consider the jsj tree @xmath40 relative to @xmath29 and the jsj tree @xmath39 relative to @xmath638 as in subsection [ sec_smally_acy ] . by lemma [ lem_rel_vs_abs ] ,",
    "the collapsed tree of cylinders @xmath688 of @xmath40 lies in the same deformation space as @xmath39 .",
    "if @xmath688 is reduced , its edge stabilizers fix an edge in @xmath39 ( see section 4 of @xcite ) , so @xmath688 is @xmath635-universally elliptic and therefore a jsj tree relative to @xmath638 .    in general , we have to prove that @xmath688 is @xmath635-universally elliptic : if @xmath692 is an edge of @xmath693 with @xmath694 , then @xmath695 is @xmath635-universally elliptic .",
    "let @xmath20 be an @xmath635-tree . if @xmath673 is not @xmath115-virtually cyclic , then @xmath696 , and therefore @xmath697 is elliptic in @xmath20 .",
    "if @xmath673 is @xmath115-virtually cyclic , consider an edge @xmath54 of @xmath40 with @xmath698 . by one - endedness of @xmath0 ,",
    "the group @xmath457 is infinite , so has finite index in @xmath699 .",
    "since @xmath457 is @xmath43-universally elliptic , hence @xmath635-universally elliptic , so is @xmath699 .",
    "the last assertion of the theorem follows from lemma [ lem_rel_vs_abs ] ( recall that two trees belonging to the same deformation space have the same vertex stabilizers not in @xmath3 ( * ? ? ?",
    "* corollary 4.4 ) ) .",
    "the tree of cylinders may also be used to construct and describe the compatibility jsj deformation space @xmath17 ( see section [ compt ] ) .",
    "this is based on the following observation .",
    "[ lem_tstar_rafin ] let @xmath40 be a universally elliptic @xmath43-tree .",
    "assume that , to each @xmath43-tree @xmath20 , one can associate an @xmath43-tree @xmath36 in such a way that :    1 .",
    "@xmath36 is compatible with any @xmath43-tree dominated by @xmath20 ; 2 .",
    "if an @xmath43-tree @xmath20 is a refinement of @xmath40 , then @xmath36 is a refinement of @xmath649 .",
    "then @xmath649 is universally compatible ( i.e.  compatible with every @xmath43-tree ) .",
    "let @xmath20 be any @xmath43-tree .",
    "since @xmath40 is universally elliptic , there exists a refinement @xmath254 of @xmath40 dominating @xmath20 ( * ? ? ?",
    "* lemma [ gl3a - lem_refinement ] ) . by the first assumption , @xmath700 and",
    "@xmath20 have a common refinement @xmath701 . since @xmath700 is a refinement of @xmath649 , the tree",
    "@xmath701 is a common refinement of @xmath20 and @xmath649 .    in applications",
    ", @xmath40 is a jsj tree and @xmath36 is the collapsed tree of cylinders @xmath654 , so the lemma says that @xmath688 is universally compatible .",
    "the compatibility jsj deformation space , if it exists , is dominated by @xmath40 and dominates @xmath688 .",
    "the first assumption of lemma [ lem_tstar_rafin ] is a general property of trees of cylinders ( proposition 8.1 of @xcite ) . for the second one , we invoke the following lemma .",
    "[ raff ] let @xmath0 be one - ended relative to @xmath29 .",
    "let @xmath513 be an admissible equivalence relation .",
    "suppose that each group @xmath675 which contains @xmath33 is @xmath43-universally elliptic , and that one of the two assumptions of lemma [ sd ] holds .",
    "let @xmath702 be @xmath43-trees , with @xmath254 refining @xmath20 .",
    "assume that each vertex stabilizer @xmath32 of @xmath20 is small in @xmath254 or relatively qh with finite fiber .",
    "then @xmath703 refines @xmath654 .",
    "since @xmath254 dominates @xmath20 , there is a cellular map from @xmath703 to @xmath704 ( it maps a vertex to a vertex , an edge to a vertex or an edge ) ( * ? ? ?",
    "* lemma 5.6 ) .",
    "the point of the lemma is that this is a collapse map .",
    "it suffices to show that @xmath705 refines @xmath667 .",
    "first suppose that @xmath20 is obtained from @xmath254 by collapsing the orbit of a single edge @xmath54 ( this is the key step ) .",
    "we consider two cases , depending on the image @xmath53 of @xmath54 in @xmath20 .",
    "we assume that @xmath32 is not elliptic in @xmath254 , since otherwise @xmath254 and @xmath20 belong to the same deformation space and therefore @xmath706 .",
    "first suppose that @xmath32 is small in @xmath254 . in this case",
    ", we claim that @xmath53 belongs to only one cylinder of @xmath20 . indeed , the preimage @xmath707 of @xmath53 in @xmath254 is a line or a subtree with a @xmath32-fixed end .",
    "all edges in @xmath707 belong to the same cylinder @xmath666 of @xmath254 .",
    "edges @xmath141 of @xmath254 with one endpoint @xmath151 in @xmath707 also belong to @xmath666 .",
    "this is clear under the first assumption of lemma [ sd ] ( @xmath685 ) since @xmath708 , so @xmath709 ; under the second assumption , we note that @xmath710 contains the stabilizer of an edge in @xmath666 with index at most 2 , so belongs to @xmath3 , and @xmath711 .",
    "thus @xmath53 belongs to only one cylinder of @xmath20 .",
    "this implies @xmath706 .",
    "now suppose that @xmath53 is relatively qh with finite fiber @xmath114 .",
    "we claim that _ a cylinder of @xmath254 containing an edge of the preimage @xmath707 of @xmath53 is entirely contained in @xmath707 .",
    "_ this implies that @xmath705 refines @xmath667 by remark 4.13 of @xcite .",
    "the action of @xmath32 on @xmath707 is minimal because it has only one orbit of edges .",
    "standard arguments ( see ( * ? ? ?",
    "* iii.2.6 ) ) show that this action is dominated by an action dual to a non - peripheral simple closed @xmath288-suborbifold of the underlying orbifold of @xmath32",
    ". in particular , its edge stabilizers are not universally elliptic ( this is clear if the orbifold is a surface , see ( * ? ? ?",
    "* lemma 5.3 ) for the general case ) .    now consider an edge @xmath141 of @xmath254 with one endpoint in @xmath707 .",
    "since @xmath0 is one - ended relative to @xmath29 , and @xmath114 is finite , the image of @xmath712 in the orbifold group @xmath111 is infinite so contains a finite index subgroup of a boundary subgroup . if @xmath713 is an edge of @xmath707 , then @xmath712 and @xmath714 generate a group which contains @xmath33 and is not universally elliptic .",
    "our assumption on the groups @xmath675 implies that @xmath712 and @xmath714 can not be equivalent .",
    "the claim follows since @xmath141 and @xmath713 can not be in the same cylinder .",
    "if several orbits of edges of @xmath254 are collapsed in @xmath20 , one iterates the previous argument , noting that all vertex stabilizers of intermediate trees are relatively qh with finite fiber or small in @xmath254 .    [ ouf2 ]",
    "let @xmath0 be one - ended relative to @xmath29 .",
    "suppose that :    1 .",
    "@xmath3 contains all finite and virtually cyclic subgroups , and is stable by extension of index 2 ; 2 .",
    "@xmath513 is an admissible equivalence relation on the set @xmath512 of infinite groups in @xmath3 ; if @xmath675 contains @xmath33 , it is @xmath43-universally elliptic .",
    "3 .   there exists @xmath115 such that , if two groups in @xmath512 are inequivalent , their intersection has order @xmath525 .",
    "then the collapsed tree of cylinders @xmath688 of the jsj deformation space ( over @xmath3 relative to @xmath29 ) is universally compatible .",
    "assumption 2 implies that the groups @xmath675 and the elements of @xmath3 are small in @xmath43-trees . we can apply corollary [ ouf ] with @xmath519 consisting of all groups @xmath675 and their subgroups .",
    "it follows that a jsj tree @xmath40 exists , and its flexible subgroups belong to @xmath519 or are relatively qh with finite fiber . by lemmas [ lem_tstar_rafin ] and [ raff ] ( applied with @xmath690 ) , its collapsed tree of cylinders @xmath688 is universally compatible .",
    "[ ouf3 ] further assume that each group @xmath675 belongs to @xmath3 , and @xmath715 .",
    "then the compatibility jsj deformation space @xmath17 exists and contains @xmath693 .",
    "it is trivial or irreducible , so the jsj compatibility tree @xmath18 is defined .",
    "the assumption @xmath685 guarantees that @xmath693 is an @xmath43-tree , so no collapsing is necessary . also note that @xmath519 ( as defined in the previous proof ) and @xmath3 contain the same infinite groups , so corollary [ ouf ] implies that the flexible subgroups of @xmath693 belong to @xmath3 or are relative qh subgroups with finite fiber .",
    "the point is to show that @xmath693 is maximal ( for domination ) among universally compatible trees .",
    "this will prove that @xmath17 exists and contains @xmath693 .",
    "it is irreducible or trivial because @xmath667 is equal to its tree of cylinders ( * ? ? ?",
    "* corollary 5.8 ) , and the tree of cylinders of a reducible tree is trivial .    consider a universally compatible tree @xmath20 .",
    "we have to show that each vertex stabilizer @xmath32 of @xmath693 is elliptic in @xmath20 . if @xmath32 is not contained in any @xmath675 , then it is elliptic in @xmath40 , hence in @xmath20 because @xmath20 , being universally elliptic , is dominated by @xmath40 .",
    "we can therefore assume that @xmath716 , and also that @xmath32 does not contain @xmath33 .",
    "since @xmath715 , the quotient graph @xmath717 is not a point .",
    "there are two cases . if the image of @xmath53 in @xmath717 has valence at least 2 , we can refine @xmath693 to a minimal tree @xmath97 ( in the same deformation space ) having @xmath32 as an edge stabilizer . since @xmath716 ,",
    "this is an @xmath43-tree .",
    "its edge group @xmath32 is elliptic in @xmath20 because @xmath20 is universally compatible .",
    "the remaining case is when the image of @xmath53 in @xmath717 has valence 1 . in this case",
    "we assume that @xmath32 is not elliptic in @xmath20 , and we argue towards a contradiction .",
    "let @xmath54 be an edge of @xmath693 containing @xmath53 .",
    "we are going to prove that @xmath32 contains a subgroup @xmath718 of index 2 with @xmath719 .",
    "assuming this fact , we can refine @xmath693 to a minimal @xmath43-tree @xmath97 in which @xmath718 is an edge stabilizer . as above ,",
    "@xmath718 is elliptic in @xmath20 , and so is @xmath32 .",
    "this is the required contradiction .",
    "we now construct @xmath718 . replacing @xmath20 by @xmath720 (",
    "which is universally compatible by assertion 2 of proposition [ prop_lcm ] ) , and then collapsing , we can assume that @xmath693 is obtained from @xmath20 by collapsing the orbit of an edge .",
    "we consider the action of @xmath32 on @xmath20 . by lemma [ gl3a - cor_zor ] of @xcite",
    ", @xmath32 contains a hyperbolic element . since @xmath32 does not contain @xmath33 , it is small in @xmath20 , and the action defines a non - trivial morphism @xmath721 ( if there is a fixed end ) or @xmath722 ( if the action is dihedral ) . since @xmath723 is elliptic in @xmath20 , its image under @xmath724 is trivial , or contained in a conjugate of a @xmath725 factor .",
    "it is now easy to construct @xmath718 , as the preimage of a suitable index 2 subgroup of the image of @xmath726 .    [ exam ]",
    "in our first application , @xmath0 is a torsion - free csa group , and we consider splittings over abelian , or cyclic , groups . recall that @xmath0 is _ csa _ if the commutation relation is transitive on @xmath727 , and maximal abelian subgroups are malnormal .",
    "toral relatively hyperbolic groups , in particular limit groups and torsion - free hyperbolic groups , are csa .    if @xmath0 is freely indecomposable relative to @xmath29 , commutation is an admissible equivalence relation on the set of infinite abelian ( resp .",
    "infinite cyclic ) subgroups ( see @xcite ) .",
    "the groups @xmath675 are maximal abelian subgroups , so are small in all trees . over abelian groups ,",
    "all edge stabilizers of @xmath667 are abelian since @xmath685 , so @xmath728 .",
    "over cyclic groups , @xmath667 may have non - cyclic edge stabilizers , so we have to use @xmath654 .    [ jsj_csa ]",
    "let @xmath0 be a finitely generated torsion - free csa group , and @xmath29 any family of subgroups .",
    "assume that @xmath0 is freely indecomposable relative to @xmath29 .    1 .   the abelian ( resp .",
    "cyclic ) jsj deformation space @xmath2 of @xmath0 relative to @xmath29 exists .",
    "its non - abelian flexible subgroups are relative qh surface groups , with every boundary component used .",
    "the collapsed tree of cylinders @xmath654 of @xmath2 is an abelian ( resp .",
    "cyclic ) jsj tree relative to @xmath29 and all non - cyclic abelian subgroups .",
    "it is universally compatible .",
    "if @xmath0 is not abelian , the abelian compatibility jsj tree @xmath18 ( relative to @xmath29 ) exists and belongs to the same deformation space as @xmath729 . trees in @xmath2 and @xmath17 have the same non - abelian vertex stabilizers ( they are universally elliptic or surface groups ) .",
    "see subsection [ sec_ue ] for the definitions of flexible , qh , and used boundary components .",
    "[ rem_compat_csa ] by corollary [ gl3a - cor_unbout ] of @xcite , the first assertion holds even if @xmath0 is not freely indecomposable .",
    "we apply corollaries [ ouf ] and [ ouf2 ] with @xmath3 the family of abelian ( resp .",
    "cyclic ) subgroups , @xmath516 , and @xmath730 the family of abelian subgroups .",
    "the csa property guarantees that @xmath3 is stable by extension of index 2 . as mentioned above , @xmath513 is commutation . non - abelian flexible subgroups are relatively qh with finite fiber , hence surface groups because @xmath0 is torsion - free .",
    "assertion 3 follows from proposition [ ouf3 ] since the condition @xmath685 holds over abelian groups .",
    "the last assertion of the theorem does not apply to cyclic splittings , because the condition @xmath685 does not hold . in this setting @xmath654",
    "is universally compatible by corollary [ ouf2 ] , but as the following example shows it may happen that @xmath17 strictly dominates @xmath654 .",
    "as illustrated by this example , we will show in subsection [ sec_vc ] that one obtains @xmath17 by possibly refining @xmath654 at vertices with group @xmath38 .",
    "let @xmath86 be a torsion - free hyperbolic group with property fa , and @xmath731 a maximal cyclic subgroup .",
    "consider the hnn extension @xmath732 , a one - ended torsion - free csa group .",
    "the bass - serre tree @xmath246 is a jsj tree over abelian groups .",
    "its tree of cylinders @xmath7 is the bass - serre tree of the amalgam @xmath733 , it is also the compatibility jsj tree over abelian groups by assertion 3 of theorem [ jsj_csa ] . over cyclic groups , @xmath246 is a jsj tree , its tree of cylinders is @xmath7 , but the compatibility jsj tree is @xmath246 ( this follows from proposition [ prop_rig ] and @xcite ; the non - splitting assumption of proposition [ prop_rig ] holds over cyclic groups , but not over abelian groups ) .",
    "the notion of csa groups is not well - adapted to groups with torsion .",
    "this is why we introduce @xmath28-csa groups , where @xmath28 is an integer .",
    "every hyperbolic group @xmath1 is @xmath28-csa for some @xmath28 .",
    "being @xmath28-csa is a universal property ; in particular , all @xmath1-limit groups are @xmath28-csa .",
    "we say that a group is _",
    "@xmath28-virtually abelian _ if it contains an abelian subgroup of index @xmath734 ( note that the infinite dihedral group is 1-virtually cyclic , in the sense of definition [ dvc ] , but only 2-virtually abelian ) .",
    "[ lem_zorn ] if a countable group @xmath0 is locally @xmath28-virtually abelian , then @xmath0 is @xmath28-virtually abelian .",
    "let @xmath735 be a numbering of the elements of @xmath0 .",
    "let @xmath736 be an abelian subgroup of index @xmath734 . for a given @xmath34 ,",
    "there are only finitely many subgroups of index @xmath734 in @xmath737 , so there is a subsequence @xmath738 such that @xmath739 is independent of @xmath169 . by a diagonal argument , one produces an abelian subgroup @xmath424 of @xmath0 whose intersection with each @xmath740 has index @xmath734 , so @xmath424 has index @xmath734 in @xmath0 .",
    "[ kcsa ] say that @xmath0 is @xmath28-csa for some @xmath741 if :    1 .",
    "any finite subgroup has cardinality at most @xmath28 ( in particular , any element of order @xmath742 has infinite order ) .",
    "any element @xmath57 of infinite order is contained in a _",
    "unique _ maximal virtually abelian group @xmath743 , and @xmath743 is @xmath28-virtually abelian .",
    "3 .   @xmath743 is its own normalizer .",
    "a @xmath288-csa group is just a torsion - free csa group .",
    "the klein bottle group is @xmath41-csa but not @xmath288-csa .",
    "any hyperbolic group @xmath1 is @xmath28-csa for some @xmath28 since finite subgroups of @xmath1 have bounded order , and there are only finitely many isomorphism classes of virtually cyclic groups whose finite subgroups have bounded order .",
    "corollary [ lg ] will say that @xmath1-limit groups also are @xmath28-csa .",
    "[ rem_kcsa ] let @xmath0 be a @xmath28-csa group .    1 .",
    "if @xmath60 and @xmath147 have infinite order , the following conditions are equivalent : 1 .   @xmath64 and @xmath147 have non - trivial commuting powers ; 2 .",
    "@xmath744 and @xmath745 commute ; 3 .",
    "@xmath746 ; 4 .",
    "@xmath747 is virtually abelian .",
    "2 .   any infinite virtually abelian subgroup @xmath86 is contained in a unique maximal virtually abelian group @xmath748 .",
    "the group @xmath748 is @xmath28-virtually abelian and almost malnormal : if @xmath749 is infinite , then @xmath750 .",
    "@xmath751 in assertion 1 is clear since @xmath752 if @xmath753 has index @xmath754 .",
    "we prove @xmath755 .",
    "if @xmath756 commutes with @xmath757 , then @xmath756 normalizes @xmath758 , so @xmath759 and @xmath760 .",
    "clearly @xmath761 .",
    "this proves assertion 1 .",
    "being virtually abelian , @xmath86 contains an element @xmath60 of infinite order , and we define @xmath762 .",
    "we have to show @xmath763 for every @xmath764 .",
    "this follows from assertion 1 if @xmath147 has infinite order since @xmath765 .",
    "if @xmath147 has finite order , we write @xmath766 , so @xmath767 because @xmath743 equals its normalizer .",
    "a similar argument shows almost malnormality .",
    "we now prove that , for fixed @xmath28 , the class of @xmath28-csa groups is closed in the space of marked groups ( @xmath28-csa is a universal property ) .",
    "we refer to @xcite for the topological space of marked groups , and the relation with universal theory .",
    "[ prop_univ ] for any fixed @xmath741 , the class of @xmath28-csa groups is defined by a set of universal sentences . in particular , the class of @xmath28-csa groups is stable under taking subgroups , and closed in the space of marked groups .    for any finite group @xmath768 ,",
    "the fact that @xmath0 does not contain a subgroup isomorphic to @xmath114 is equivalent to a universal sentence saying that for any @xmath92-uple @xmath769 satisfying the multiplication table of @xmath114 , not all @xmath168 s are distinct .",
    "thus , the first property of @xmath28-csa groups is defined by ( infinitely many ) universal sentences .",
    "now consider the second property .",
    "we claim that , given @xmath68 and @xmath92 , the fact that @xmath740 is @xmath68-virtually abelian may be expressed by the disjunction @xmath770 of finitely many finite systems of equations in the elements @xmath771 . to see this ,",
    "let @xmath772 be the homomorphism sending the @xmath169-th generator @xmath168 of @xmath773 to @xmath174 .",
    "if @xmath774 has index @xmath775 , so does @xmath776 in @xmath773 .",
    "conversely , if @xmath777 has index @xmath775 , so does @xmath778 in @xmath740 . to define @xmath770",
    ", we then enumerate the subgroups of index @xmath775 of @xmath773 .",
    "for each subgroup , we choose a finite set of generators @xmath779 and we write the system of equations @xmath780=1 $ ] .",
    "this proves the claim .    by lemma [ lem_zorn ] ( and zorn s lemma ) ,",
    "any @xmath60 is contained in a maximal @xmath28-virtually abelian subgroup .",
    "the second property of definition [ kcsa ] is equivalent to the fact that , if @xmath747 is virtually abelian , @xmath781 is @xmath28-virtually abelian , and @xmath60 has order @xmath742 , then @xmath782 is @xmath28-virtually abelian .",
    "this is defined by a set of universal sentences constructed using the @xmath770 s .",
    "if the first two properties of the definition hold , the third one is expressed by saying that , if @xmath60 has order @xmath742 and @xmath783 is @xmath28-virtually abelian , so is @xmath784 .",
    "this is a set of universal sentences as well .",
    "[ lg ] let @xmath1 be a hyperbolic group .",
    "there exists @xmath28 such that any @xmath1-limit group is @xmath28-csa .",
    "moreover , any subgroup of a @xmath1-limit group @xmath0 contains a non - abelian free subgroup or is @xmath28-virtually abelian .",
    "we will not use the `` moreover '' .",
    "there are additional restrictions on the virtually abelian subgroups .",
    "for instance , there exists @xmath785 such that , if @xmath786 for some @xmath60 of infinite order , then @xmath787 for all @xmath788 of infinite order in @xmath743 .",
    "the first assertion is immediate from proposition [ prop_univ ] .",
    "now let @xmath86 be an infinite subgroup of @xmath0 not containing @xmath33 . by ( * ?",
    "* proposition 3.2 ) , there exists a number @xmath789 such that , if @xmath790 are distinct elements of @xmath1 , some element of the form @xmath168 or @xmath791 has infinite order ( i.e.  order @xmath742 ) .",
    "this universal statement also holds in @xmath0 , so @xmath86 contains an element @xmath60 of infinite order .",
    "recall that there exists a number @xmath792 such that , if @xmath793 , then @xmath794 and @xmath795 commute or generate @xmath33 ( see @xcite ) .",
    "the same statement holds in @xmath0 since , for each non - trivial word @xmath796 , the universal statement @xmath797\\neq 1\\rightarrow w(x^n , y^n)\\neq 1 $ ] holds in @xmath1 hence in @xmath0 .",
    "thus , for all @xmath87 , the elements @xmath798 and @xmath799 commute . by lemma [ rem_kcsa ] @xmath86 normalizes @xmath743 ,",
    "so @xmath800 and @xmath86 is @xmath28-virtually abelian .",
    "let @xmath0 be a @xmath28-csa group .",
    "we now show how to define a tree of cylinders for virtually abelian splittings of @xmath0 ( hence also for virtually cyclic splittings ) .",
    "let @xmath3 be the family of all virtually abelian subgroups of @xmath0 , and @xmath512 the family of infinite subgroups in @xmath3 .",
    "given @xmath801 , define @xmath802 if @xmath803 .",
    "equivalently , @xmath802 if and only if @xmath804 is virtually abelian . the stabilizer of the equivalence class @xmath329 of any @xmath805 is @xmath748 .",
    "if @xmath0 is one - ended relative to @xmath29 , the equivalence relation @xmath513 is admissible ( see subsection [ defcyl ] ) .    by one - endedness ,",
    "all @xmath43-trees have edge stabilizers in @xmath512 .",
    "the first two properties of admissibility are obvious .",
    "consider @xmath806 with @xmath802 , and an @xmath43-tree @xmath20 in which @xmath86 fixes some @xmath807 and @xmath562 fixes some @xmath808 .",
    "since the group generated by two commuting elliptic groups is elliptic , there are finite index subgroups @xmath809 and @xmath810 such that @xmath811 fixes a point @xmath812 .",
    "any edge @xmath813 $ ] is contained in , say , @xmath814 $ ] , so @xmath815 as required .",
    "[ jsj_kcsa ] let @xmath0 be a @xmath28-csa group , and @xmath29 any family of subgroups .",
    "assume that @xmath0 is one - ended relative to @xmath29 .",
    "then :    1 .",
    "the virtually abelian ( resp .",
    "virtually cyclic ) jsj deformation space @xmath2 of @xmath0 relative to @xmath29 exists .",
    "its flexible subgroups are virtually abelian , or relatively qh with finite fiber and every boundary component used .",
    "the collapsed tree of cylinders @xmath654 of @xmath2 is a virtually abelian ( resp .",
    "virtually cyclic ) jsj tree relative to @xmath29 and to all virtually abelian subgroups which are not virtually cyclic .",
    "it is universally compatible .",
    "if @xmath0 is not virtually abelian , the virtually abelian compatibility jsj tree @xmath18 ( relative to @xmath29 ) exists and @xmath816 .",
    "trees in @xmath2 and @xmath17 have the same non virtually abelian vertex stabilizers .",
    "the proof is similar to that of theorem [ jsj_csa ] , with @xmath817 .",
    "the first assertion still holds if @xmath0 is not one - ended relative to @xmath29 , using linnell s accessibility as in lemma [ oneend ] .",
    "[ thm_jsjr ] let @xmath0 be hyperbolic relative to finitely generated subgroups @xmath818 .",
    "let @xmath29 be any family of subgroups .",
    "if @xmath0 is one - ended relative to @xmath29 , and every @xmath534 which contains @xmath33 is contained in a group of @xmath29 , then :    1 .",
    "the elementary ( resp .",
    "virtually cyclic ) jsj deformation space @xmath2 of @xmath0 relative to @xmath29 exists .",
    "its non - elementary flexible subgroups are relatively qh with finite fiber , and every boundary component is used .",
    "the collapsed tree of cylinders @xmath654 of @xmath2 for co - elementarity is an elementary ( resp .",
    "virtually cyclic ) jsj tree relative to @xmath29 and to all elementary subgroups which are not virtually cyclic .",
    "it is universally compatible .",
    "3 .   if @xmath0 is neither parabolic nor virtually cyclic , the elementary compatibility jsj tree @xmath18 ( relative to @xmath29 ) exists and @xmath816 . trees in @xmath2 and @xmath17 have the same non - elementary vertex stabilizers ( they are universally elliptic or qh ) .",
    "we make a few comments before giving the proof .",
    "recall that a subgroup is _ parabolic _ if it is conjugate to a subgroup of some @xmath534 , _ elementary _ if it is virtually cyclic ( possibly finite ) or parabolic .",
    "co - elementarity , defined by @xmath657 if @xmath819 is elementary , is an admissible equivalence relation on the set of infinite elementary subgroups ( see @xcite , examples 3.3 and 3.4 ; if @xmath534 is not contained in a group of @xmath29 , it has finitely many ends , so lemma 3.5 of @xcite applies ) .",
    "the stabilizer @xmath675 of an equivalence class is a maximal elementary subgroup , so over elementary groups no collapsing is necessary ( i.e.  @xmath686 ) .",
    "if @xmath820 , then @xmath0 is finitely presented relative to @xmath29 , and existence of the jsj deformation space follows from ( * ? ? ?",
    "* section [ gl3a - rela ] ) .",
    "the first assertion of the theorem remains true if @xmath0 is not one - ended relative to @xmath29 , provided that @xmath0 is accessible relative to @xmath29 .",
    "as before , the last assertion may fail over virtually cyclic groups .",
    "we apply corollary [ ouf ] and proposition [ ouf3 ] , with @xmath3 consisting of all elementary ( resp .",
    "virtually cyclic ) subgroups , and @xmath821 consisting of all elementary subgroups .",
    "elementary subgroups are small in @xmath43-trees by our assumption on the @xmath534 s , and every @xmath675 is elementary .",
    "we choose @xmath115 bigger than the order of any finite subgroup which is non - parabolic or contained in a virtually cyclic @xmath534 , to ensure that @xmath520 contains no virtually cyclic subgroup .",
    "for the first two assertions of the theorem , the hypothesis that every @xmath534 which contains @xmath33 is contained in a group of @xmath29 may be weakened to : every @xmath534 is small in @xmath43-trees .",
    "this requires a slight generalization of lemma 3.5 of @xcite .",
    "[ thm_jsjrcourt ] let @xmath0 be hyperbolic relative to a finite family of finitely generated subgroups @xmath822 .",
    "let @xmath3 be the family of elementary subgroups of @xmath0 .",
    "if @xmath0 is one - ended relative to @xmath29 , there is a jsj tree @xmath20 over @xmath3 relative to @xmath29 which is equal to its tree of cylinders , invariant under automorphisms of @xmath0 preserving @xmath29 , and compatible with every @xmath43-tree .",
    "the vertex stabilizers of @xmath20 are elementary , universally elliptic , or relatively qh with finite fiber .",
    "if @xmath0 is one - ended , and no @xmath534 is 2-ended or contains @xmath33 , then @xmath20 is also the tree of cylinders of the non - relative jsj deformation space over @xmath3 .",
    "it is compatible with every tree with elementary edge stabilizers .",
    "we define @xmath20 as the tree of cylinders of the jsj deformation space over @xmath3 relative to @xmath29 .",
    "it is equal to its tree of cylinders by corollary 5.8 of @xcite . applying theorem [ thm_jsjr ] with @xmath29 empty ,",
    "we see that the tree of cylinders of the non - relative jsj deformation space is a jsj tree relative to all elementary subgroups which are not virtually cyclic , hence relative to @xmath29 because no @xmath534 is 2-ended .",
    "in this subsection we consider splittings of @xmath0 over virtually cyclic groups , assuming smallness of their commensurizers .",
    "let @xmath3 be the family of virtually cyclic ( possibly finite ) subgroups of @xmath0 , and @xmath512 the family of all infinite virtually cyclic subgroups of @xmath0 .",
    "recall that two subgroups @xmath424 and @xmath660 of @xmath0 are commensurable if @xmath823 has finite index in @xmath424 and @xmath660 .",
    "the commensurability relation @xmath513 is an admissible relation on @xmath512 ( see @xcite ) , so one can define a tree of cylinders .",
    "the stabilizer @xmath675 of the commensurability class @xmath329 of a group @xmath824 is its commensurizer @xmath825 , consisting of elements @xmath60 such that @xmath826 is commensurable with @xmath424 .",
    "the condition @xmath685 does not hold , so proposition [ ouf3 ] does not apply .",
    "[ thm_vc ] let @xmath3 be the family of virtually cyclic ( possibly finite ) subgroups , and let @xmath29 be any set of subgroups of @xmath0 , with @xmath0 one - ended relative to @xmath29 .",
    "let @xmath730 be the set of subgroups of commensurizers of infinite virtually cyclic subgroups .",
    "assume that there is a bound @xmath115 for the order of finite subgroups of @xmath0 , and that all groups of @xmath519 which contain @xmath33 are contained in a group of @xmath29 .",
    "then :    1 .   the virtually cyclic jsj deformation space @xmath2 relative to @xmath29 exists .",
    "its flexible subgroups either commensurize some infinite virtually cyclic subgroup , or are relative qh - subgroups with finite fiber and every boundary component used .",
    "2 .   the collapsed tree of cylinders @xmath654 of @xmath2 ( for commensurability ) is a virtually cyclic jsj tree relative to @xmath29 and the groups of @xmath519 which are not virtually cyclic .",
    "it is universally compatible .",
    "if @xmath0 contains @xmath33 , then the virtually cyclic jsj tree @xmath18 relative to @xmath29 exists , and @xmath17 can be obtained from @xmath654 by ( possibly ) refining at vertices @xmath53 with @xmath32 virtually @xmath38 .",
    "trees in @xmath2 and @xmath17 have the same vertex stabilizers @xmath827 .",
    "the assumptions are satisfied if @xmath0 is a torsion - free csa group , or a @xmath28-csa group , or any relatively hyperbolic group whose finite subgroups have bounded order as long as all parabolic subgroups containing @xmath33 are contained in a group of @xmath29 . if @xmath0 is @xmath28-csa , the trees of cylinders of a given @xmath20 for commutation and for commensurability belong to the same deformation space ( this follows from lemma [ rem_kcsa ] ) .",
    "see subsection [ acsa ] for an example with @xmath828 .",
    "the first two assertions follow from corollary [ ouf ] as in the previous examples . for the third assertion ,",
    "let @xmath684 be a jsj tree ( relative to @xmath29 ) .",
    "we know that @xmath654 is universally compatible by corollary [ ouf2 ] . by",
    "* remark 5.11 ) , @xmath667 and @xmath654 are in the same deformation space .",
    "this implies that any group elliptic in @xmath654 but not in @xmath684 belongs to @xmath519 , hence does not contain @xmath33 .",
    "existence of @xmath17 follows as there are only finitely many deformation spaces between @xmath684 and @xmath654 by proposition [ gl3a - sma ] of @xcite .",
    "the assumption @xmath829 guarantees that @xmath17 is trivial or irreducible , so @xmath18 is defined .",
    "one may obtain a tree @xmath830 by refining @xmath654 at vertices @xmath53 with @xmath32 not elliptic in @xmath684 .",
    "such a @xmath32 does not contain @xmath33 , so is small in @xmath97 .",
    "if it fixes exactly one end , then @xmath17 is an ascending deformation space , contradicting ( * ? ? ?",
    "* prop.7.1(4 ) ) .",
    "thus @xmath32 acts on a line , hence is virtually @xmath38 because edge stabilizers are virtually cyclic .",
    "we also have :    [ thm_jsjct ] let @xmath0 be torsion - free and commutative transitive .",
    "let @xmath29 be any family of subgroups .",
    "if @xmath0 is freely indecomposable relative to @xmath29 , then :    1 .   the cyclic jsj deformation space @xmath2 of @xmath0 relative to @xmath29 exists . its flexible subgroups are qh surface groups , with every boundary component used .",
    "2 .   its collapsed tree of cylinders @xmath654 ( for commensurability ) is a jsj tree relative to @xmath29 and all subgroups isomorphic to a solvable baumslag - solitar group @xmath498 .",
    "it has the same non - solvable vertex stabilizers as trees in @xmath2 .",
    "it is universally compatible .",
    "if @xmath0 is not a solvable baumslag - solitar group , the cyclic compatibility jsj deformation space @xmath17 relative to @xmath29 exists and may be obtained by ( possibly ) refining @xmath654 at vertices with stabilizer isomorphic to @xmath38 .",
    "recall that @xmath0 is _ commutative transitive _ if commutation is a transitive relation on @xmath727 .",
    "here we do not apply corollary [ ouf ] directly , because we do not have enough control on the groups @xmath675 ( though they may be shown to be metabelian ) .    by proposition 6.5 of @xcite ,",
    "if @xmath20 is any tree with cyclic edge stabilizers , a vertex stabilizer of its collapsed tree of cylinders which is not elliptic in @xmath20 is a solvable baumslag - solitar group @xmath498 ( with @xmath831 because of commutative transitivity ) .",
    "arguing as in the proof of lemma [ sd ] , we deduce that theorem [ thm_smallyacyl ] applies , with @xmath36 the collapsed tree of cylinders and @xmath519 consisting of all solvable baumslag - solitar subgroups and their subgroups .",
    "no subgroup of @xmath498 can be flexible , except if @xmath832 , so all flexible groups are surface groups .",
    "assertion ( 2 ) of the theorem follows from lemma [ lem_rel_vs_abs ] . for assertion",
    "( 3 ) , one argues as in the proof of theorem [ thm_vc ] .",
    "rips theory gives a way to understand stable actions on @xmath23-trees , by relating them to actions on simplicial trees .",
    "therefore , they are closely related to jsj decompositions .",
    "we consider first the jsj deformation space , then the compatibility jsj tree .      [ sell ] let @xmath0 be finitely presented .",
    "let @xmath109 be a jsj tree over the family of slender subgroups . if @xmath20 is an @xmath23-tree with a stable action of @xmath0 whose arc stabilizers are slender , then edge stabilizers of @xmath109 are elliptic in @xmath20 .",
    "by @xcite , @xmath20 is a limit of simplicial trees @xmath386 with slender edge stabilizers .",
    "since @xmath109 is universally elliptic , edge stabilizers of @xmath109 are elliptic in @xmath386 .",
    "they are elliptic in @xmath20 because they are finitely generated and all their elements are elliptic .",
    "more generally , suppose that @xmath0 is finitely presented and @xmath3 is stable under extension by finitely generated free abelian groups : if @xmath56 is such that @xmath833 , with @xmath834 , then @xmath835 .",
    "let @xmath109 be a jsj tree over @xmath3 with finitely generated edge stabilizers ( this exists by theorem [ gl3a - thm_exist_mou ] of @xcite ) .",
    "if @xmath20 is a stable @xmath23-tree with arc stabilizers in @xmath3 , then edge stabilizers of @xmath109 are elliptic in @xmath20 .",
    "using ellipticity of @xmath109 with respect to @xmath20 , we argue as in the proof of ( * ? ? ?",
    "* lemma [ gl3a - lem_refinement ] ) , with @xmath839 and @xmath840 .",
    "if @xmath841 and @xmath32 is elliptic in @xmath20 , we let @xmath842 be a fixed point .",
    "if @xmath32 is not elliptic in @xmath20 , we let @xmath407 be its minimal subtree . it is a line if @xmath32 is slender . if @xmath53 is a qh vertex , then @xmath407 is dual to a measured foliation of the underlying orbifold by skora s theorem @xcite ( applied to a covering surface @xmath843 ) .",
    "the arguments given above may be applied in more general situations .",
    "for instance , assume that @xmath0 is finitely generated , that all subgroups of @xmath0 not containing @xmath33 are slender , and that @xmath0 has a jsj tree @xmath109 over slender subgroups whose flexible subgroups are qh . let @xmath20 be an @xmath23-tree with slender arc stabilizers such that @xmath0 does not split over a subgroup of the stabilizer of an unstable arc or of a tripod in @xmath20 . then , applying @xcite and the techniques of @xcite , we see that @xmath20 is a limit of slender trees , so propositions [ sell ] and [ prop_read_mou ] apply .      in @xcite ,",
    "the first author explained how to obtain all small actions of a one - ended hyperbolic group @xmath0 on @xmath23-trees from a jsj tree .",
    "the proof was based on bowditch s construction of a jsj tree from the topology of @xmath844 . here",
    "we give a different , more general , approach , based on corollary [ cofer ] ( saying that compatibility is a closed condition ) and results of part [ exam ] ( describing the compatibility jsj space ) .",
    "being universally compatible , @xmath18 is compatible with any @xmath23-tree  which is a limit of simplicial @xmath3-trees .",
    "we illustrate this idea in a simple case .",
    "let @xmath0 be a one - ended finitely presented torsion - free csa group .",
    "assume that @xmath0 is not abelian , and let @xmath18 be its compatibility jsj tree over the class @xmath3 of abelian groups ( see definition [ deftco ] and theorem [ jsj_csa ] ) .",
    "let @xmath845[0pt]{\\begin{turn}{-90}\\ensuremath{\\circlearrowright}\\end{turn}}\\,}t$ ] be an action on an @xmath23-tree with trivial tripod stabilizers , and abelian arc stabilizers .",
    "by @xcite , @xmath20 is a limit of simplicial @xmath3-trees .",
    "since @xmath18 is compatible with all @xmath3-trees , it is compatible with @xmath20 by corollary [ cofer ] .",
    "let @xmath837 be the standard common refinement of @xmath20 and @xmath18 with length function @xmath846 ( see subsection [ sec_compatible_via_longueurs ] ) .",
    "let @xmath847 and @xmath838 be maps preserving alignment such that @xmath848 .    to each vertex @xmath53 and each edge @xmath54 of @xmath18 there",
    "correspond closed subtrees @xmath849 and @xmath850 of @xmath837 . by minimality , @xmath851 is a segment of @xmath837 containing no branch point except maybe at its endpoints .",
    "the relation between @xmath852 , and @xmath45 shows that the restriction of @xmath141 to @xmath853 is an isometric embedding .",
    "in particular , @xmath20 can be obtained from @xmath854 by changing the length of the segments @xmath851 ( possibly making the length @xmath181 ) .",
    "we shall now describe the action of @xmath32 on @xmath853 . note that @xmath32 is infinite .",
    "its action on @xmath855 need not be minimal , but it is finitely supported , see @xcite . given an edge @xmath54 of @xmath18 containing @xmath53 , we denote by @xmath856 the endpoint of @xmath851 belonging to @xmath853 .",
    "the tree @xmath853 is the convex hull of the points @xmath856 .",
    "first suppose that @xmath32 fixes some @xmath857 .",
    "note that , if @xmath858 , the stabilizer of the arc @xmath859 $ ] contains @xmath457",
    ", so is infinite .",
    "we claim that , if @xmath54 and @xmath141 are edges of @xmath18 containing @xmath53 with @xmath860 , then @xmath859\\cup [ x , x_f]$ ] contains no tripod .",
    "assume otherwise .",
    "then the intersection @xmath859\\cap[x , x_f]$ ] is an arc @xmath95 $ ] .",
    "the stabilizer of @xmath95 $ ] is abelian and must also fix @xmath856 and @xmath861 by triviality of tripod stabilizers .",
    "this proves that @xmath862 $ ] fixes @xmath859\\cup [ x , x_f]$ ] , contradicting triviality of tripod stabilizers .",
    "we have thus proved that @xmath853 is a cone on a finite number of orbits of points .    if @xmath32 does not fix a point in @xmath853 , then it is flexible .",
    "if it is abelian , triviality of tripod stabilizers implies that @xmath853 is a line .",
    "if @xmath32 is not abelian , it is a surface group by theorem [ jsj_csa ] .",
    "theorem @xcite asserts that the minimal subtree @xmath863 of @xmath32 is dual to a measured lamination on a compact surface . by triviality of tripod stabilizers",
    ", @xmath864 is a disjoint union of segments , and the pointwise stabilizer of each such segment has index at most @xmath41 in a boundary subgroup of @xmath32 .",
    "roger alperin and hyman bass .",
    "length functions of group actions on @xmath865-trees . in _",
    "combinatorial group theory and topology ( alta , utah , 1984 ) _ , pages 265378 .",
    "princeton univ . press , princeton , nj , 1987 .",
    "vincent guirardel + institut de recherche mathmatique de rennes + universit de rennes 1 et cnrs ( umr 6625 ) + 263 avenue du gnral leclerc , cs 74205 + f-35042 rennes cedex + _",
    "_e-mail:__`vincent.guirardel@univ-rennes1.fr ` + gilbert levitt + laboratoire de mathmatiques nicolas oresme + universit de caen et cnrs ( umr 6139 ) + bp 5186 + f-14032 caen cedex + france + _ _e-mail:__`levitt@math.unicaen.fr ` +"
  ],
  "abstract_text": [
    "<S> we define the compatibility jsj tree of a group @xmath0 over a class of subgroups . </S>",
    "<S> it exists whenever @xmath0 is finitely presented and leads to a canonical tree ( not just a deformation space ) which is invariant under automorphisms . under acylindricity hypotheses , we prove that the ( usual ) jsj deformation space and the compatibility jsj tree both exist when @xmath0 is finitely generated , and we describe their flexible subgroups . </S>",
    "<S> we apply these results to csa groups , @xmath1-limit groups ( allowing torsion ) , and relatively hyperbolic groups . </S>"
  ]
}