{
  "article_text": [
    "the decay of dennard scaling  @xcite during the past decade marked the end of the `` ghz race '' and the shift towards multicore designs due to their more favorable performance - power ratio .",
    "in addition , the doubling of transistors on chip with each new semiconductor generation , dictated by moore s law  @xcite , has only exacerbated the _ power wall _",
    "problem  @xcite , leading to the arise of `` dark silicon ''  @xcite and the deployment of heterogeneous facilities for high performance computing  @xcite .",
    "asymmetric multicore processors ( amps ) are a particular class of heterogeneous architectures equipped with cores that share the same instruction set architecture but differ in micro - architecture , and thus in complexity , performance , and power consumption .",
    "amps have received considerable attention in the last years as a means to improve the performance - power ratio of computing systems  @xcite partly because , in theory , they can deliver much higher performance for the same power budget , mainly by exploiting the presence of serial and parallel phases within applications  @xcite .",
    "the _ general matrix multiplication _ ( gemm ) is a crucial operation for the optimization of the level-3 _ basic linear algebra subprograms _",
    "( blas )  @xcite , as portable and highly tuned versions of the remaining level-3 kernels are in general built on top of gemm  @xcite . in turn",
    ", the contents of blas conform a pivotal cornerstone upon which many sophisticated libraries to tackle complex scientific and engineering applications rely  @xcite .",
    "the importance of blas in general , and gemmin particular , is illustrated by the prolonged efforts spent over the past decades to produce carefully tuned commercial libraries for almost any current architecture ( e.g. , intel s mkl  @xcite , amd s acml  @xcite , ibm s essl  @xcite , nvidia s cublas  @xcite , etc . ) as well as the number of high quality open source solutions ( e.g. , gotoblas  @xcite , openblas  @xcite , blis  @xcite , and atlas  @xcite ) .    in this paper",
    "we propose efficient multi - threaded implementations of gemmon an arm big.little amp consisting of a cluster composed of a few fast ( big ) cores and a complementary cluster with several slow ( little ) cores , shared main memory , and private l1/l2 caches per core / cluster , respectively .",
    "our approach leverages the multi - threaded implementation of gemmin the blis library , which decomposes the operation into a collection of nested loops around a _ micro - kernel_. in this reference code , we modify the loop stride configuration and scheduling to distribute the micro - kernels comprised by certain loops among the big / little clusters and cores while taking into account the processor s computational power and cache organization . in more detail",
    ", this work makes the following specific contributions :    * our optimized implementations modify the control tree structure that governs the multi - threaded parallelization of blis gemm in order to accommodate cache - aware configurations of the loop strides for each type of core architecture that match the organization of its cache hierarchy .",
    "* we integrate two alternative scheduling strategies , asymmetric ",
    "static and dynamic , to produce a 1-d partitioning of ( the iteration space for ) one of the outer loops of blis gemm between the two clusters that yields a balanced distribution of the micro - kernels .",
    "furthermore , we apply an orthogonal symmetric  static schedule to map the workload of one of the inner loops across the cores of the same cluster . *",
    "we demonstrate the practical benefits of the cache - aware configurations and asymmetry - aware scheduling strategies on the exynos 5422 , a system - on - chip ( soc ) consisting of an arm cortex - a15 quad core ( big ) cluster and an arm cortex - a7 quad core ( little ) cluster .",
    "our experimental results show that the performance attained by the optimized gemmon this platform is well beyond that of an architecture - oblivious multi - threaded implementation and close to that of an ideal scenario .",
    "* we include an analysis of the energy efficiency of the asymmetric architecture when running our optimized gemm , using the gflops / w ( billions of floating - point arithmetic operations , or flops , per second and watt ) metric , which assesses the energy cost of flops .",
    "to conclude , we emphasize that the scheduling approaches proposed in this paper are general and , in combination with the blis implementation of gemm , can be ported with little effort to present and future instances of the arm big.little architecture as well as to any other asymmetric design in general ( e.g. the intel quickia prototype  @xcite ) .",
    "furthermore , we are confident that the principles underlying our scheduling decisions carry over to all level-3 blas operations",
    ".    the rest of the paper is structured as follows . in section  [ sec : related ] , we compare our approach to optimize gemm on amps with state - of - the - art works on similar architectures . in section  [ sec : blis ] , we describe the mechanisms that underlie the original multi - threaded implementation of gemm in the blis framework , and evaluate its performance and optimal cache parameter configuration for the cortex - a15 and cortex - a7 clusters . in section  [",
    "sec : performance ] , we investigate the effect of using standard , architecture - oblivious multi - threaded blas implementations on amps , and its negative impact on performance and energy efficiency . in section  [ sec : strategies ] , we introduce our strategies to adapt the original blis multi - threaded implementation to the asymmetric architecture , and report the performance and energy - efficiency results of the new codes .",
    "finally , section  [ sec : conclusions ] closes the paper with a few concluding remarks and proposals for future work .",
    "heterogeneous ( and asymmetric ) architectures are an active research topic , with a vast design space that needs careful consideration in terms of power , performance , programmability , and flexibility  @xcite .",
    "many of these works can be grouped into _",
    "i ) _ efforts to experimentally evaluate the computational performance and/or power - energy efficiency of amps using multi - threaded benchmarks and applications ; and _ ii ) _ contributions related to workload - partitioning strategies for the execution of gemmon heterogeneous platforms . in the first group , winter et al .",
    "@xcite discuss power management techniques and thread scheduling for amps ; and scheduling on amp architectures is explored in a number of works ; see , among others ,  @xcite and the references therein .    in the second group ,",
    "mapping gemmin an heterogeneous cluster is analyzed in  @xcite , while a theoretical study of dynamic scheduling applied to gemmin a similar scenario is introduced in  @xcite .",
    "compared with previous work , our investigation aims to deliver an implementation of gemm , based on an open source blas library ( blis ) , that is highly optimized for asymmetric arm big.little architectures .",
    "all previous efforts to implement and evaluate gemmon amps employ simple codes , at best tuned via very basic tiling techniques , and therefore yield suboptimal codes .",
    "the research with heterogeneous clusters targets a more general and complex problem , and in practice can hardly be expected to produce an optimal solution for amps .",
    "modern high - performance implementations of gemmfor general - purpose architectures follow the design pioneered by gotoblas  @xcite .",
    "blis in particular implements the gemm @xmath0 , where the sizes of @xmath1 , @xmath2 , @xmath3 are respectively @xmath4 , @xmath5 , @xmath6 , as three nested loops around a _ macro - kernel _ plus two packing routines ( see loops  13 in figure  [ fig : gotoblas_gemm ] ) .",
    "the macro - kernel is then implemented in terms of two additional loops around a _ micro - kernel _ ( loops  4 and  5 in figure  [ fig : gotoblas_gemm ] ) . in blis , the micro - kernel is typically encoded as a loop around a rank1 ( i.e. , outer product ) update using assembly or with vector intrinsics , while the remaining five loops and packing routines are implemented in c ; see  @xcite for further details .    figure  [ fig : movements_gemm ] illustrates how the loop ordering , together with the packing routines and an appropriate choice of the blis cache configuration parameters orchestrate a regular pattern of data transfers through the levels of the memory hierarchy . in practice ,",
    "the cache parameters @xmath7 , @xmath8 , @xmath9 , @xmath10 and @xmath11 ( which dictate the strides of the five outermost loops ) are adjusted taking into account the latency of the floating - point units ( fpus ) , number of vector registers , and size / associativity degree of the cache levels .",
    "the goal is that a @xmath12 micro - panel of @xmath13 , say @xmath14 , and the @xmath15 macro - panel @xmath16 are streamed into the fpus from the l1 and l2 caches , respectively ; while the @xmath17 macro - panel @xmath13 resides in the l3 cache ( if present ) . by appropriately choosing the configuration parameters ,",
    "these transfers are fully amortized with enough computation from within the micro - kernel ; see  @xcite .    [ cols=\"^ \" , ]",
    "we have proposed and evaluated several mechanisms to efficiently map the framework for matrix multiplication integrated in the blis library to an asymmetric arm big.little ( cortex a15+a7 ) soc .",
    "our results reveal excellent improvements in performance compared with a homogeneous implementation that operates exclusively on one type of core ( either a15 or a7 ) , and also with respect to multi - threaded implementations that simply apply a symmetric workload distribution and do not take into account the different cache organization of the cores .",
    "this is an important step towards a full blas implementation optimized for big.little architectures , which is a future goal in our research effort .",
    "while we believe that the approach applied to gemmcarries over to the rest of the blas , there are a number of issues that need to be addressed to further increase performance and adaption to other ( present and future ) asymmetric architectures . among others ,",
    "the most relevant factor is the adoption of different micro - kernels , tuned to each type of core , in order to extract the maximum performance for those asymmetric architectures .",
    "a port to a 64-bit armv8 architecture , and an experimental study on architectures with different number of big / little cores are also key milestones in our roadmap .",
    "the researchers from universitat jaume  i were supported by project cicyt tin2011 - 23283 of mineco and feder , the eu project fp7 318793 `` exa2green '' and the fpu program of mecd .",
    "the researcher from universidad complutense de madrid was supported by project cicyt tin2012 - 32180 .",
    "h.  esmaeilzadeh , e.  blem , r.  st .",
    "amant , k.  sankaralingam , d.  burger , dark silicon and the end of multicore scaling , in : proc .",
    "38th annual int . symp . on computer architecture , isca11 , 2011 , pp .",
    "365376 .",
    "r.  kumar , d.  m. tullsen , p.  ranganathan , n.  p. jouppi , k.  i. farkas , single - isa heterogeneous multi - core architectures for multithreaded workload performance , in : proc .",
    "31st annual int . symp . on computer architecture , isca04 , 2004 , p.  64 .",
    "j.  a. winter , d.  h. albonesi , c.  a. shoemaker , scalable thread scheduling and global power management for heterogeneous many - core architectures , in : proc .",
    "parallel architectures and compilation techniques , pact10 , 2010 , pp .",
    "2940 .",
    "k.  asanovic , r.  bodik , b.  c. catanzaro , j.  j. gebis , p.  husbands , k.  keutzer , d.  a. patterson , w.  l. plishker , j.  shalf , s.  w. williams , k.  a. yelick , the landscape of parallel computing research : a view from berkeley , tech .",
    "ucb / eecs-2006 - 183 , university of california at berkeley , electrical engineering and computer sciences ( 2006 ) .",
    "k.  goto , r.  van  de geijn , http://doi.acm.org/10.1145/1377603.1377607[high performance implementation of the level-3 blas ] , acm trans .",
    "35  ( 1 ) ( 2008 ) 4:14:14 .",
    "n.  chitlur , g.  srinivasa , s.  hahn , p.  gupta , d.  reddy , d.  koufaty , p.  brett , a.  prabhakaran , l.  zhao , n.  ijih , s.  subhaschandra , s.  grover , x.  jiang , r.  iyer , quickia : exploring heterogeneous architectures on real prototypes , in : high performance computer architecture ( hpca ) , 2012 ieee 18th international symposium on , 2012 , pp .",
    "http://dx.doi.org/10.1109/hpca.2012.6169046 [ ] .",
    "n.  chitlur , g.  srinivasa , s.  hahn , p.  k. gupta , d.  reddy , d.  koufaty , p.  brett , a.  prabhakaran , l.  zhao , n.  ijih , s.  subhaschandra , s.  grover , x.  jiang , r.  iyer , quickia : exploring heterogeneous architectures on real prototypes , in : proc .",
    "ieee 18th int . symp . on high - performance computer architecture , hpca12 , 2012 ,",
    "j.  hourd , c.  fan , j.  zeng , q.  s. zhang , m.  j. best , a.  fedorova , c.  mustard , exploring practical benefits of asymmetric multicore processors , in : 2nd workshop on parallel execution of sequential programs on multi - core architectures , pespma 2009 .",
    "n.  b. lakshminarayana , j.  lee , h.  kim , age based scheduling for asymmetric multiprocessors , in : proc .",
    "conference on high performance computing networking , storage and analysis , sc09 , 2009 , pp .",
    "25:125:12 .",
    "r.  rodrigues , a.  annamalai , i.  koren , s.  kundu , improving performance per watt of asymmetric multi - core processors via online program phase classification and adaptive core morphing , acm trans . des . autom .",
    "syst . 18  ( 1 ) ( 2013 ) 5:15:23 .",
    "d.  clarke , a.  lastovetsky , v.  rychkov , column - based matrix partitioning for parallel matrix multiplication on heterogeneous processors based on functional performance models , in : euro - par 2011 : parallel processing workshops , vol .",
    "7155 of lncs , 2012 , pp . 450459 .",
    "o.  beaumont , l.  marchal , analysis of dynamic scheduling strategies for matrix multiplication on heterogeneous platforms , in : proc .",
    "high - performance parallel and distributed computing , hpdc14 , 2014 , pp .",
    "141152 .",
    "f.  g. van  zee , t.  m. smith , b.  marker , t.  m. low , r.  a. van  de geijn , f.  d. igual , m.  smelyanskiy , x.  zhang , m.  kistler , v.  austel , j.  gunnels , l.  killough , the blis framework : experiments in portability , acm trans .",
    "soft.in review .",
    "available at http://www.cs.utexas.edu/users/flame .",
    "t.  m. smith , r.  van  de geijn , m.  smelyanskiy , j.  r. hammond , f.  g. van  zee , anatomy of high - performance many - threaded matrix multiplication , in : proc .",
    "ieee 28th int .",
    "parallel and distributed processing symp . ,",
    "ipdps14 , 2014 , pp .",
    "10491059 .    p.",
    "alonso , r.  m. badia , j.  labarta , m.  barreda , m.  f. dolz , r.  mayo , e.  s. quintana - ort , r.  reyes , tools for power - energy modelling and analysis of parallel scientific applications , in : 41st int .",
    "conf . on parallel processing ",
    "icpp , 2012 , pp .",
    "420429 .",
    "t.  m. low , f.  d. igual , t.  m. smith , , e.  s. quintana - ort , analytical modeling is enough for high performance blis , tech .",
    "flawn # 74 , department of computer sciences , the university of texas at austin , available at http://www.cs.utexas.edu / users / flame/. submitted to acm trans ."
  ],
  "abstract_text": [
    "<S> asymmetric multicore processors ( amps ) have recently emerged as an appealing technology for severely energy - constrained environments , especially in mobile appliances where heterogeneity in applications is mainstream . in addition , given the growing interest for low - power high performance computing , this type of architectures is also being investigated as a means to improve the throughput - per - watt of complex scientific applications .    in this paper , we design and embed several architecture - aware optimizations into a multi - threaded general matrix multiplication ( gemm ) , a key operation of the blas , in order to obtain a high performance implementation for arm big.little amps . our solution is based on the reference implementation of gemmin the blis library , and integrates a cache - aware configuration as well as asymmetric  </S>",
    "<S> static and dynamic scheduling strategies that carefully tune and distribute the operation s micro - kernels among the big and little cores of the target processor . the experimental results on a samsung exynos 5422 , </S>",
    "<S> a system - on - chip with arm cortex - a15 and cortex - a7 clusters that implements the big.little model , expose that our cache - aware versions of gemmwith asymmetric scheduling attain important gains in performance with respect to its architecture - oblivious counterparts while exploiting all the resources of the amp to deliver considerable energy efficiency .    </S>",
    "<S> matrix multiplication , asymmetric multicore processors , memory hierarchy , scheduling , multi - threading , high performance computing </S>"
  ]
}