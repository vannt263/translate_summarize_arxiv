{
  "article_text": [
    "a key factor in the efficiency of a peer - to - peer overlay network is the level of collaboration provided by each peer .",
    "this paper takes a first step towards quantifying the level of collaboration that can be expected from each participant , by proposing a model to evaluate the cost each peer incurs for being a part of the overlay .",
    "such a cost model has several useful applications , among which , ( 1 ) providing a benchmark that can be used to compare between different proposals , complementary to recent works comparing topological properties of various overlays @xcite , ( 2 ) allowing for predicting disincentives , and designing mechanisms that ensure a protocol is _ strategyproof _",
    "@xcite , and ( 3 ) facilitating the design of load balancing primitives .",
    "this work is not the first attempt to characterize the cost of participating in a network .",
    "jackson and wolinsky @xcite proposed cost models to analyze formation strategies in social and economic networks .",
    "more recent studies @xcite model ( overlay ) network formation as a non - cooperative game .",
    "these studies assume that each node has the freedom to choose which links it maintains , whereas we assume that the overlay topology is constrained by a protocol",
    ". moreover , our approach extends previously proposed cost models @xcite , by considering the load imposed on each node in addition to the distance to other nodes and degree of connectivity .    in the remainder of this paper",
    ", we introduce our proposed cost model , before applying it to several routing geometries used in recently proposed distributed hash tables ( dht ) algorithms @xcite .",
    "we conclude by discussing some open problems this research has uncovered .",
    "the model we propose applies to any peer - to - peer network where nodes request and serve items , or serve requests between other nodes .",
    "this includes peer - to - peer file - sharing systems @xcite , ad - hoc networks @xcite , peer - to - peer lookup services @xcite , peer - to - peer streaming systems @xcite , or application - layer multicast overlays @xcite , to name a few examples .    to simplify the presentation",
    ", we assume a dht - like structure , defined by quadruplet @xmath0 , where @xmath1 is the set of vertices in the network , @xmath2 is the set of edges , @xmath3 is the set of keys ( items ) in the network , and @xmath4 is the hash function that assigns keys to vertices .",
    "we denote by @xmath5 the set of keys stored at node  @xmath6 .",
    "we have @xmath7 , and we assume , without loss of generality , that the sets @xmath8 are disjoint .",
    "we characterize each request with two independent random variables , @xmath9 and @xmath10 , which denote the node  @xmath11 making the request , and the key  @xmath12 being requested , respectively .",
    "consider a given node @xmath6 .",
    "every time a key @xmath13 is requested in the entire network , node  @xmath14 is in one of four situations :    1 .",
    "node  @xmath14 does not hold or request @xmath13 , and is not on the routing path of the request .",
    "node  @xmath14 is not subject to any cost .",
    "2 .    node  @xmath14 holds key @xmath13 , and pays a price @xmath15 for serving the request .",
    "we define the _ service cost _ @xmath16 incurred by  @xmath14 , as the expected value of @xmath15 over all possible requests .",
    "that is , @xmath17 \\ .\\ ] ] 3 .",
    "node  @xmath14 requests key @xmath13 , and pays a price to look up and retrieve  @xmath13 .",
    "we model this price as @xmath18 , where @xmath19 is the number of hops between @xmath14 and the node  @xmath20 that holds the key  @xmath13 , and @xmath21 is a ( positive ) proportional factor .",
    "we define the _ access cost _ suffered by node  @xmath14 , @xmath22 , as the sum of the individual costs @xmath18 multiplied by the probability key  @xmath23 is requested , that is , @xmath24 \\ , \\label{eq : access}\\ ] ] with @xmath25 if there is no path from node  @xmath14 to node  @xmath20 , and @xmath26 for any  @xmath14 .",
    "4 .    @xmath14 does not hold or request @xmath13 , but has to forward the request for @xmath13 , thereby paying a price @xmath27 .",
    "the overall _ routing cost _ @xmath28 experienced by node  @xmath14 is the average over all possible keys  @xmath13 , of the values of @xmath27 such that @xmath14 is on the path of the request .",
    "that is , we consider the binary function @xmath29 and express @xmath28 as @xmath30   \\pr[y = k ] \\chi_{j , l}(i)\\ .",
    "\\label{eq : routing}\\ ] ]    in addition , each node keeps some state information so that the protocol governing the dht operates correctly . in most dht algorithms ,",
    "each node  @xmath14 maintains a neighborhood table , which grows linearly with the out - degree @xmath31 of the node , resulting in a _ maintenance cost _  @xmath32 given by @xmath33 where @xmath34 denotes the cost of keeping a single entry in the neighborhood table of node  @xmath14 .",
    "last , the _ total cost _ @xmath35 imposed on node  @xmath14 is given by @xmath36 which can be used to compute the total cost of the network , @xmath37 .",
    "the topology that minimizes @xmath38 , or `` social optimum , '' is generally not trivial . in particular ,",
    "the social optimum is the full mesh only if @xmath39 for all  @xmath14 , and the empty set only if @xmath40 for all  @xmath41 .",
    "we next apply the proposed cost model to a few selected routing geometries . we define a routing geometry as in @xcite , that is , as a collection of edges , or topology , associated with a route selection mechanism . unless otherwise noted , we assume shortest path routing , and distinguish between different topologies . we derive the various costs experienced by a node in each geometry , before illustrating the results with numerical examples .",
    "we consider a network of @xmath42 nodes , and , for simplicity , assume that , for all @xmath14 and @xmath13 , @xmath43 , @xmath44 , @xmath45 , and @xmath46 . for the analysis in this section , we also assume that each node holds the same number of keys , and that all keys have the same popularity . as a result , for all @xmath14 , @xmath47 = \\frac{1}{n } \\ , \\ ] ] which implies",
    "@xmath48 regardless of the geometry considered .",
    "we also assume that requests are uniformly distributed over the set of nodes , that is , for any node  @xmath14 , @xmath49 = \\frac{1}{n } \\ .\\ ] ] last , we assume that no node is acting maliciously .    [ [ star - network ] ] star network + + + + + + + + + + + +    the star frequently appears as an equilibrium in network formation studies using cost models based on graph connectivity @xcite .",
    "we use @xmath50 to denote the center of the star , which routes all traffic between peripheral nodes .",
    "that is , @xmath51 for any @xmath52 ( @xmath53 , @xmath54 ) . substituting in eqn .",
    "( [ eq : routing ] ) , we get @xmath55 the center node is located at a distance of one hop from all @xmath56 other nodes , thus @xmath57 in addition , @xmath58 , which implies that the cost incurred by the center of the star , @xmath59 , is @xmath60    peripheral nodes do not route any traffic , i.e. , @xmath61 for all @xmath62 , and are located at a distance of one from the center of the star , and at a distance of two from the @xmath63 other nodes , giving @xmath64 furthermore , @xmath65 for all peripheral nodes .",
    "thus , @xmath66 , and the total cost imposed on nodes @xmath67 is @xmath68 the difference @xmath69 quantifies the ( dis)incentive to be in the center of the star . as expressed in the following two theorems , there is a ( dis)incentive to be in the center of the star in a vast majority of cases .    if the number of nodes @xmath70 ( @xmath71 ) is variable , @xmath72 unless @xmath73 .",
    "[ theo : star - asymmetry - x1 ]    assume that @xmath74 . because @xmath75 , @xmath74 is equivalent to @xmath76 . using the expressions for @xmath59 and @xmath35 given in eqs .",
    "( [ eq : c0-star ] ) and ( [ eq : ci - star ] ) , and rewriting the condition @xmath76 as a polynomial in @xmath70 , we obtain @xmath77 we can factor the above by @xmath63 , and obtain @xmath78 a polynomial in @xmath70 is constantly equal to zero if and only if all of the polynomial coefficients are equal to zero .",
    "thus , eqn .",
    "( [ eq : polynomial ] ) holds for _ any _ value of @xmath70 if and only if : @xmath79 the solutions of the above system of equations are @xmath80 .",
    "hence , @xmath74 for any @xmath70 only when nodes only pay an ( arbitrary ) price for serving data , while state maintenance , traffic forwarding , and key lookup and retrieval come for free .    if the number of nodes @xmath70 ( @xmath42 ) is held fixed , and at least one of @xmath81 , @xmath82 , or @xmath83 is different from zero , @xmath84 only if @xmath85 or @xmath86 , where @xmath87 is a positive integer that must satisfy : @xmath88 additionally , @xmath72 for any @xmath89 if @xmath90 and @xmath91 .",
    "[ theo : star - asymmetry - x2 ]    recall from the proof of theorem  [ theo : star - asymmetry - x1 ] , that @xmath92 is equivalent to eqn .",
    "( [ eq : polynomial ] ) . clearly , setting @xmath93 satisfies eqn .",
    "( [ eq : polynomial ] ) for all values of @xmath94 , @xmath82 , and @xmath81 .",
    "assuming now that @xmath95 , to have @xmath92 , we need to have @xmath96 since at least one of @xmath81 , @xmath82 , or @xmath83 is not equal to zero , eqn .",
    "( [ eq : degree2 ] ) has at most two real solutions .",
    "we distinguish between all possible cases for @xmath81 , @xmath82 , and @xmath83 such that at least one of @xmath81 , @xmath82 , and @xmath83 is different from zero .    * if @xmath97 , and @xmath98 , eqn .",
    "( [ eq : degree2 ] ) reduces to @xmath99 , which implies @xmath73 , thereby contradicting the hypothesis that at least one of @xmath81 , @xmath82 , and @xmath83 is different from zero .",
    "therefore , eqn .",
    "( [ eq : degree2 ] ) does not admit any solution , i.e. , there is a ( dis)incentive to be in the center of the star regardless of  @xmath70 . * if @xmath97 and @xmath100 , the only solution to eqn .",
    "( [ eq : degree2 ] ) is @xmath101 note that if @xmath102 , @xmath103 which is not feasible .",
    "( the number of nodes has to be positive . ) * if @xmath104 , then eqn .  ( [ eq : degree2 ] ) admits two real roots ( or a double root if @xmath105 ) , given by @xmath106 however , because @xmath107 , and @xmath108 , @xmath109 so that the only potentially feasible @xmath87 is given by @xmath110    combining eqs .",
    "( [ eq : degree1-sol ] ) and eqs .",
    "( [ eq : degree2-sol ] ) yields the expression for @xmath87 given in eqn .",
    "( [ eq : n0 ] ) .",
    "note that the expression given in eqn .",
    "( [ eq : n0 ] ) is only a necessary condition .",
    "in addition , @xmath87 has to be an integer so that we can set the number of nodes  @xmath70 to @xmath111 .",
    "[ [ de - bruijn - graphs ] ] de bruijn graphs + + + + + + + + + + + + + + + +    de bruijn graphs are used in algorithms such as koorde @xcite , distance - halving @xcite , or odri @xcite , and are extensively discussed in @xcite . in a de bruijn graph , any node  @xmath14 is represented by an identifier string @xmath112 of @xmath113  symbols taken from an alphabet of size @xmath114 .",
    "the node represented by @xmath112 links to each node represented by @xmath115 for all possible values of @xmath116 in the alphabet .",
    "the resulting directed graph has a fixed out - degree @xmath114 , and a diameter @xmath113 .",
    "denote by @xmath117 the set of nodes such that the identifier of each node in @xmath117 is of the form @xmath118 .",
    "nodes in @xmath117 link to themselves , so that @xmath119 for @xmath120 . for nodes",
    "@xmath121 , the maintenance cost @xmath32 is @xmath122 .",
    "the next two lemmas will allow us to show that the routing cost at each node also depends on the position of the node in the graph .    with shortest - path routing , nodes  @xmath120",
    "do not route any traffic , and @xmath61 .",
    "[ lemma : lowerbnd - deb - routes ]    ( by contradiction . )",
    "consider a node  @xmath120 with identifier @xmath118 , and suppose @xmath14 routes traffic from a node  @xmath20 to a node  @xmath13 .",
    "the nodes linking to  @xmath14 are all the nodes with an identifier of the form @xmath123 , for all values of @xmath116 in the alphabet .",
    "the nodes linked from  @xmath14 are all the nodes of the form @xmath124 for all values of @xmath125 in the alphabet .",
    "therefore , there exists @xmath126 and @xmath127 such that traffic from node  @xmath20 to node @xmath13 follows a path @xmath128 . because , in a de bruijn graph , there is an edge between @xmath129 and @xmath130 , traffic using the path @xmath131 between @xmath20 and @xmath13 does not follows the shortest path .",
    "we arrive to a contradiction , which proves that @xmath14 does not route any traffic .",
    "the number of routes @xmath132 passing through a given node @xmath14 is bounded by @xmath133 with @xmath134 the bound is tight , since it can be reached when @xmath135 for the node @xmath136 .",
    "[ lemma : upperbnd - deb - routes ]    the proof follows the spirit of the proof used in @xcite to bound the maximum number of routes passing through a given edge . in a de bruijn graph , by construction",
    ", each node maps to an identifier string of length @xmath113 , and each path of length @xmath13 hops maps to a string of length @xmath137 , where each substring of @xmath113 consecutive symbols corresponds to a different hop @xcite .",
    "thus , determining an upper bound on the number of paths of length @xmath13 that pass through a given node  @xmath14 is equivalent to computing the maximum number , @xmath138 , of strings of length @xmath137 that include node  @xmath14 s identifier , @xmath139 , as a substring . in each string of length",
    "@xmath137 corresponding to a paths including @xmath14 , where @xmath14 is neither the source nor the destination of the path , the substring @xmath140 can start at one of @xmath141 positions @xmath142 .",
    "there are @xmath114 possible choices for each of the @xmath13 symbols in the string of length @xmath137 that are not part of the substring @xmath140 . as a result ,",
    "@xmath143 with shortest path routing , the set of all paths going through node  @xmath14 include all paths of length @xmath137 with @xmath144 $ ] .",
    "so , @xmath145 we improve the bound given in eqn .",
    "( [ eq : intermed - pi - bound ] ) by considering the strings of length @xmath146 that are of the form @xmath147 , where @xmath148 is a string of length  @xmath113 .",
    "strings of the form @xmath147 denote a cycle @xmath149 , and can not be a shortest path in a de bruijn graph .",
    "hence , we can subtract the number of the strings @xmath147 from the bound in eqn .",
    "( [ eq : intermed - pi - bound ] ) . because @xmath150 is a substring of @xmath147 of length  @xmath113",
    ", @xmath148 has to be a circular permutation of @xmath140 , for instance @xmath151 . since @xmath14 does not route any traffic when @xmath14 is the source of traffic , @xmath152 .",
    "thus , there are only @xmath153 possibilities for @xmath148 , and @xmath153 strings @xmath147 .",
    "subtracting @xmath153 from the bound in eqn .",
    "( [ eq : intermed - pi - bound ] ) yields @xmath154 .    from lemmas  [ lemma : lowerbnd - deb - routes ] and",
    "[ lemma : upperbnd - deb - routes ] , we infer that , in a de bruijn graph , for any @xmath14 , @xmath20 and @xmath13 , @xmath155 \\leq l_{\\max}/n^2 $ ] . because @xmath156 is a binary function , @xmath157 = e[\\chi_{i , j}]$ ] , and we finally obtain @xmath158 with @xmath159 we next compute upper and lower bounds on the access cost . to derive a tight upper bound on @xmath22 , consider a node  @xmath120 .",
    "node  @xmath14 links to itself and has only @xmath160 neighbors .",
    "each neighbor of  @xmath14 has itself @xmath114 neighbors , so that there are @xmath161 nodes  @xmath13 such that @xmath162 . by iteration and substitution in eqn .",
    "( [ eq : access ] ) , we get , after simplification , @xmath163 , with @xmath164 and @xmath165 for nodes in @xmath117 .",
    "now , consider that each node  @xmath14 has at most @xmath114 neighbors .",
    "then , node  @xmath14 has at most @xmath166 nodes at distance 2 , at most @xmath167 nodes at distance 3 , and so forth .",
    "hence , there are at least @xmath168 nodes at the maximum distance of @xmath113 from node  @xmath14 .",
    "we get @xmath169 which reduces to @xmath170 , with @xmath171 it can be shown that @xmath172 for the node @xmath173 when @xmath135 .",
    "note that , the expressions for both @xmath174 and @xmath175 can be further simplified for @xmath176 , that is , when the identifier space is fully populated .    [",
    "[ d - dimensional - tori ] ] @xmath113-dimensional tori + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    we next consider @xmath113-dimensional tori , as in can @xcite , where each node is represented by @xmath113 cartesian coordinates , and has @xmath146 neighbors , for a maintenance cost of @xmath177 for any @xmath14 .",
    "routing at each node is implemented by greedy forwarding to the neighbor with the shortest euclidean distance to the destination .",
    "we assume here that each node is in charge of an equal portion of the @xmath113-dimensional space . from @xcite ,",
    "we know that the average length of a routing path is @xmath178 hops .. ] because we assume that the @xmath113-dimensional torus is equally partitioned , we conclude by symmetry , that for all  @xmath14 , @xmath179    to determine the routing cost @xmath28 , we compute the number of routes passing through a given node  @xmath14 , or _ node loading _",
    ", as a function @xmath180 of the dimension  @xmath113 . with our assumption that the @xmath113-torus is equally partitioned , @xmath180 is the same for all  @xmath14 by symmetry .",
    "we next compute @xmath180 by induction on the dimension @xmath113 .",
    "[ [ base - case - d1 . ] ] * base case @xmath181 . *    for @xmath182 , the @xmath113-torus is a ring , as depicted in figure  [ fig : can - proof - ring ] for @xmath183 .",
    "each of the diagrams in the figure corresponds to a case where the source of all requests , represented by a black node , is held fixed .",
    "the numbers in each node ( @xmath184 ) represent the node coordinate , the different line styles represent the different routes to all destinations , and the numbers in parentheses denote the number of routes originating from the fixed source that pass through each of the other nodes . as shown in the figure , shifting the source of all requests from 0 to @xmath185 only results in shifting the number of routes that pass through each node .",
    "hence , the node loading @xmath186 at each node  @xmath14 , is equal to the sum of the number of routes passing through _ each _ node when the source is held fixed . in the figure , for @xmath183",
    ", we have for any  @xmath14 , @xmath187 . more generally , for @xmath70 odd , the sum of the number of routes passing through each node is equal to @xmath188 and for @xmath70 even , is given by @xmath189 we can express eqs .",
    "( [ eq : can - l1-odd ] ) and ( [ eq : can - l1-even ] ) in a more compact form , which holds for any @xmath70 , @xmath190     routing in 3-torus .",
    "coordinates are corrected one at a time , first along the horizontal axis , then along the vertical axis , and finally along the diagonal axis . , scaledwidth=80.0% ]    [ [ general - case - d1 . ] ] * general case @xmath191 . *",
    "the key observation to compute the number of routes @xmath180 passing through each node  @xmath14 for @xmath192 , is that there are several equivalent shortest paths along the cartesian coordinates , because the coordinates of two consecutive nodes in a path can not differ in more than one dimension .",
    "consider for instance , for @xmath193 , going from node  ( 0,0 ) to node  ( 1,1 ) : both @xmath194 and @xmath195 are equivalent shortest paths .",
    "therefore , we can always pick the path that corrects coordinates successively , starting with the first coordinate , i.e. , @xmath196 in the above example .",
    "consider a @xmath113-torus , as represented for @xmath197 in figure  [ fig : can - proof - cube ] , where each of the @xmath198 nodes is represented by a dot .",
    "the figure illustrate how requests are routed by correcting coordinates successively , with the example of three different paths , @xmath199 , @xmath200 , and @xmath201 . for any node  @xmath13 ,",
    "we compute the number of routes passing through @xmath13 .",
    "we denote the source of the route as node  @xmath14 , and the destination of the route as node  @xmath20 .",
    "we have @xmath202 .",
    "we further denote the coordinates of @xmath14 , @xmath20 , and @xmath13 by @xmath112 , @xmath203 , and @xmath204 .",
    "we distinguish between the only three possibilities for @xmath13 that are allowed by the routing scheme that corrects coordinates one at a time :    1 .",
    "node  @xmath13 has the same @xmath113-th coordinate as both the source  @xmath14 and the destination  @xmath20 , i.e. , @xmath205 . in other words , the route @xmath206 is entirely contained within a @xmath153-torus",
    "this case is illustrated in the figure for the route represented by a solid line going from @xmath207 to @xmath208 through @xmath209 .",
    "the corresponding @xmath153-torus containing @xmath14 , @xmath20 and @xmath13 is denoted by the shaded box . by definition of the node loading ,",
    "the node loading resulting from all possible paths @xmath131 contained in a @xmath153-torus is equal to @xmath210 .",
    "there are @xmath211  different such @xmath153-tori in the @xmath113-torus under consideration , one for each possible value of @xmath205 .",
    "so , the total load incurred on each node by all paths which remain contained within a @xmath153-torus is equal to @xmath212 .",
    "nodes  @xmath14 , @xmath20 and @xmath13 all differ in their @xmath113-th coordinate , i.e. , @xmath213 .",
    "because coordinates are corrected one at a time , for any @xmath214 , we must have @xmath215 .",
    "this case is illustrated in the figure for the route represented by a dashed line , going from @xmath216 to @xmath217 , through @xmath218 .",
    "since @xmath215 , nodes  @xmath20 and @xmath13 belong to the same ring where only the @xmath113-th coordinate varies .",
    "such a ring is represented in the figure by the dotted curve . from node",
    "@xmath13 s perspective , routing traffic from @xmath14 to @xmath20 is equivalent to routing traffic between nodes  @xmath219 and @xmath20 , where node  @xmath219 satisfies @xmath220 for any @xmath214 , and @xmath221 .",
    "( in the figure , the coordinates of node  @xmath219 are @xmath222 . ) from our hypothesis @xmath223 , we have @xmath224 , which implies @xmath225 .",
    "therefore , computing the number of routes passing through node  @xmath13 coming from @xmath14 is equivalent to computing the number of routes passing through node  @xmath13 and originating from node  @xmath219 .",
    "summing over all possible destination nodes  @xmath20 , the computation of all routes passing through @xmath13 and originating from all nodes  @xmath219 in the same ring as @xmath20 and @xmath13 is identical to the computation of the node loading in the base case @xmath182 .",
    "so , the load imposed on node  @xmath13 is equal to @xmath186 .",
    "now , summing over all possible nodes  @xmath14 is equivalent to summing over all possible rings where only the @xmath113-th coordinate varies .",
    "there are are @xmath226 such rings in the @xmath113-torus .",
    "we conclude that the total load incurred on each node @xmath13 by the paths going from all @xmath14 to all @xmath20 satisfying @xmath213 is equal to @xmath227 .",
    "node  @xmath13 has the same @xmath113-th coordinate as node  @xmath14 , and a @xmath113-th coordinate different from that of the destination  @xmath20 . in other words , @xmath228 , @xmath229",
    "this situation is illustrated in the figure for the route going from @xmath230 to @xmath231 and passing through @xmath232 , and represented by a thick dotted line . in this configuration , there are  @xmath233 possible choices for the destination node  @xmath20 such that @xmath234 , and @xmath235 for @xmath236 .",
    "there are @xmath237 possible choices for the source node  @xmath14 such that @xmath229 and @xmath238 .",
    "hence , in this configuration , there is a total of @xmath239 routes passing through each node  @xmath13 .    summing the node loadings obtained in all three possible cases above",
    ", we obtain @xmath240 replacing @xmath186 by the expression given in eqn .",
    "( [ eq : can - l1 ] ) , using @xmath241 , and removing the recursion in the above relationship , we obtain , for any node  @xmath14 , @xmath242 for all  @xmath14 , @xmath28 immediately follows from @xmath180 with @xmath243    [ [ plaxton - trees ] ] plaxton trees + + + + + + + + + + + + +    we next consider the variant of plaxton trees @xcite used in pastry @xcite or tapestry @xcite .",
    "nodes are represented by a string @xmath112 of @xmath113  digits in base  @xmath114 .",
    "each node is connected to @xmath244 distinct neighbors of the form @xmath245 , for @xmath246 , and @xmath247 .",
    ", this geometry reduces to a hypercube . ]",
    "the resulting maintenance cost is @xmath248 .    among the different possibilities for the remaining coordinates @xmath249",
    ", the protocols generally select a node that is nearby according to a spatial proximity metric .",
    "we here assume that the spatial distribution of the nodes is uniform , and that the identifier space is fully populated ( i.e. , @xmath250 ) , which enables us to pick @xmath251 .",
    "thus , two nodes @xmath14 and @xmath20 at a distance of @xmath13 hops differ in @xmath13 digits .",
    "there are @xmath252 ways of choosing which digits are different , and each such digit can take any of @xmath253 values .",
    "so , for a given node  @xmath14 , there are @xmath254 nodes that are at distance  @xmath13 from  @xmath14 . multiplying by the total number of nodes @xmath250 , and dividing by the total number of paths @xmath255 , we infer that , for all @xmath14 , @xmath20 , and @xmath13 , we have @xmath256 = \\frac{{d\\choose k}(\\delta - 1)^k}{n } \\ . \\label{eq : tij - lpm}\\ ] ] now , for any @xmath14 and @xmath20 such that @xmath257 , because routes are unique , there are exactly @xmath258  different nodes on the path between @xmath14 and @xmath20 .",
    "so , the probability that a node  @xmath13 picked at random is on the path from @xmath14 to @xmath20 is @xmath259 = \\frac{l-1}{n } \\ . \\label{eq : chi - knowing}\\ ] ] the total probability theorem tells us that @xmath260 =   \\sum_{l=1}^{d}\\pr[\\chi_{i , j}(k ) = 1 | t_{i , j } = l]\\cdot\\pr[t_{i , j}=l ] \\ .\\ ] ] substituting with the expressions obtained for @xmath261 $ ] and @xmath262 $ ] in eqs .",
    "( [ eq : tij - lpm ] ) and ( [ eq : chi - knowing ] ) gives : @xmath260    =   \\frac{1}{n^2}\\sum_{l=1}^{d } ( l-1){d\\choose l}(\\delta - 1)^l \\",
    ", \\label{eq : plaxton - x0}\\ ] ] which can be simplified as follows .",
    "we write : @xmath263 and rewrite the right - hand term as a function of the derivative of a series , @xmath264 or , equivalently , @xmath265 the binomial theorem allows us to simplify the above to : @xmath266 which , making the partial derivative explicit , becomes , @xmath267 and reduces to @xmath268 substituting in eqn .",
    "( [ eq : plaxton - x0 ] ) gives : @xmath260 =   \\frac{\\delta^{d-1}(d(\\delta -1)-\\delta)+1}{n^2 } \\ , \\ ] ] which we multiply by @xmath82 to obtain @xmath269    to compute the access cost @xmath22 , we use the relationship @xmath270 $ ] .",
    "we have @xmath271 = \\sum_{k=1}^{d } k \\pr[t_{i , j } = k ] \\ , \\ ] ] which , using the expression for @xmath272 $ ] given in eqn .",
    "( [ eq : tij - lpm ] ) , implies @xmath271   = \\sum_{k=0}^{d } k \\frac{{d\\choose k}(\\delta - 1)^k}{n } \\ , \\ ] ] and can be expressed in terms of the derivative of a classical series : @xmath271   = \\frac{\\delta-1}{n}\\frac{\\partial}{\\partial\\delta}\\left(\\sum_{k=0}^{d } { d\\choose k}(\\delta - 1)^k\\right)\\ .\\ ] ] using the binomial theorem , the series on the right - hand side collapses to @xmath273 , which yields @xmath271   = \\frac{\\delta-1}{n}\\frac{\\partial(\\delta^d)}{\\partial\\delta }   \\ .\\ ] ] we compute the partial derivative , and obtain @xmath271   = \\frac{d\\delta^{d-1}(\\delta-1)}{n } \\ .\\nonumber\\ ] ] multiplying by @xmath83 to obtain @xmath22 , we eventually get , for all  @xmath14 , @xmath274 which can be simplified , using @xmath250 : @xmath275    [ [ chord - rings ] ] chord rings + + + + + + + + + + +    in a chord ring @xcite , nodes are represented using a binary string ( i.e. , @xmath276 ) .",
    "when the ring is fully populated , each node  @xmath14 is connected to a set of @xmath113  neighbors , with identifiers @xmath277 for @xmath278 .",
    "an analysis identical to the above yields @xmath28 and @xmath22 as in eqs .",
    "( [ eq : routing - lpm ] ) and ( [ eq : access - lpm ] ) for @xmath276 .",
    "note that eqn .",
    "( [ eq : access - lpm ] ) with @xmath276 is confirmed by experimental measurements @xcite .      .",
    "[ tab : debruijn ] asymmetry in costs in a de bruijn graph @xmath279 [ cols=\"^,^,^,^,^,^,^\",options=\"header \" , ]     we illustrate our analysis with a few numerical results . in table",
    "[ tab : debruijn ] , we consider five de bruijn graphs with different values for @xmath114 and @xmath113 , and @xmath11 and @xmath12 i.i.d .",
    "uniform random variables .",
    "table  [ tab : debruijn ] shows that while the access costs of all nodes are comparable , the ratio between @xmath280 and the second best case routing cost , over all nodes but the @xmath114 nodes in @xmath117 for which @xmath61 . ]",
    "@xmath281 , is in general significant .",
    "thus , if @xmath282 , there can be an incentive for the nodes with @xmath283 to defect .",
    "for instance , these nodes may leave the network and immediately come back , hoping to be assigned a different identifier @xmath284 and incurring a lower cost .",
    "additional mechanisms , such as enforcing a cost of entry to the network , may be required to prevent such defections .",
    "we graph the access and routing costs for the case @xmath285 , @xmath286 and @xmath287 in figure  [ fig : debruijn ] .",
    "we plot the access cost of each node in function of the node identifier in figure  [ fig : debruijn](a ) , and the routing cost of each node in function of the node identifier in figure  [ fig : debruijn](b ) .",
    "figure  [ fig : debruijn ] further illustrates the asymmetry in costs evidenced in table  [ tab : debruijn ] , by exhibiting that different nodes have generally different access and routing costs .",
    "therefore , in a de bruijn graph , there is potentially a large number of nodes that can defect , which , in turn , may result in network instability , if defection is characterized by leaving and immediately rejoining the network .",
    "next , we provide an illustration by simulation of the costs in the different geometries .",
    "we choose @xmath276 , for which the results for plaxton trees and chord rings are identical .",
    "we choose @xmath288 for the @xmath113-dimensional tori , and @xmath289 for the other geometries .",
    "we point out that selecting a value for @xmath113 and @xmath114 common to all geometries may inadvertently bias one geometry against another .",
    "we emphasize that we only illustrate a specific example here , without making any general comparison between different dht geometries .",
    "we vary the number of nodes between @xmath290 and @xmath291 , and , for each value of @xmath70 run ten differently seeded simulations , consisting of 100,000 requests each , with @xmath11 and @xmath12 i.i.d .",
    "uniform random variables .",
    "we plot the access and routing costs averaged over all nodes and all requests in figure  [ fig : all ] .",
    "the graphs show that our analysis is validated by simulation , and that the star provides a lower average cost than all the other geometries .",
    "in other words , a centralized architecture appears more desirable to the community as a whole than a distributed solution .",
    "however , we stress that we do not consider robustness against attack , fault - tolerance , or potential performance bottlenecks , all being factors that pose practical challenges in a centralized approach , nor do we offer a mechanism creating an incentive to be in the center of the star .",
    "while the cost model proposed here can be used to quantify the cost incurred by adding links for a higher resiliency to failures , we defer that study to future work .",
    "we proposed a model , based on experienced load and node connectivity , for the cost incurred by each peer to participate in a peer - to - peer network .",
    "we argue such a cost model is a useful complement to topological performance metrics @xcite , in that it allows to predict disincentives to collaborate ( peers refusing to serve requests to reduce their cost ) , discover possible network instabilities ( peers leaving and re - joining in hopes of lowering their cost ) , identify hot spots ( peers with high routing load ) , and characterize the efficiency of a network as a whole .",
    "we believe however that this paper raises more questions than it provides answers .",
    "first , we only analyzed a handful of dht routing geometries , and even omitted interesting geometries such as the butterfly @xcite , or geometries based on the xor metric @xcite . applying the proposed cost model to deployed peer - to - peer systems such as gnutella or fasttrack",
    "could yield some insight regarding user behavior .",
    "furthermore , for the mathematical analysis , we used strong assumptions such as identical popularity of all items and uniform spatial distribution of all participants . relaxing these assumptions",
    "is necessary to evaluate the performance of a geometry in a realistic setting .",
    "also , obtaining a meaningful set of values for the parameters @xmath292 for a given class of applications ( e.g. , file sharing between pcs , ad - hoc routing between energy - constrained sensor motes ) remains an open problem .",
    "finally , identifying the minimal amount of knowledge each node should possess to devise a rational strategy , or studying network formation with the proposed cost model are other promising avenues for further research .",
    "k.  gummadi , r.  gummadi , s.  gribble , s.  ratnasamy , s.  shenker , and i.  stoica . the impact of dht routing geometry on resilience and proximity . in _ proceedings of acm sigcomm03",
    "_ , pages 381394 , karlsruhe , germany , august 2003",
    ".        m.  f. kaashoek and d.  karger .",
    "koorde : a simple degree - optimal distributed hash table . in _ proceedings of the 2nd international workshop on peer - to - peer systems ( iptps03 ) _ ,",
    "pages 323336 , berkeley , ca , february 2003 .",
    "d.  loguinov , a.  kumar , v.  rai , and s.  ganesh .",
    "graph - theoretic analysis of structured peer - to - peer systems : routing distances and fault resilience . in _ proceedings of acm sigcomm03 _ ,",
    "pages 395406 , karlsruhe , germany , august 2003 .",
    "p.  maymounkov and d.  mazires .",
    "kademlia : a peer - to - peer information system based on the xor metric . in _ proceedings of the 1st international workshop on peer - to - peer systems ( iptps02 ) _ ,",
    "pages 5365 , cambridge , ma , february 2002 .      c.  ng , d.  parkes , and m.  seltzer .",
    "strategyproof computing : systems infrastructures for self - interested parties . in _ proceedings of the 1st workshop on the economics of peer - to - peer systems _ , berkeley , ca , june 2003 .        a.  rowston and p.  druschel .",
    "pastry : scalable , decentralized object location and routing for large scale peer - to - peer systems . in _ proceedings of the 18th ifip / acm international conference on distributed systems platform ( middleware01 ) _ , pages 329350 ,",
    "heidelberg , germany , november 2001 ."
  ],
  "abstract_text": [
    "<S> in this paper , we model the cost incurred by each peer participating in a peer - to - peer network . such a cost model allows to gauge potential disincentives for peers to collaborate , and provides a measure of the `` total cost '' of a network , which is a possible benchmark to distinguish between proposals . </S>",
    "<S> we characterize the cost imposed on a node as a function of the experienced load and the node connectivity , and show how our model applies to a few proposed routing geometries for distributed hash tables ( dhts ) . </S>",
    "<S> we further outline a number of open questions this research has raised . </S>"
  ]
}