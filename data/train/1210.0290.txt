{
  "article_text": [
    "derived algebraic geometry is a generalization of classical grothendieck - style algebraic geometry aimed at bringing techniques from geometry to bear on problems in homotopy theory , and used to unify and explain many disparate results about categories of sheaves on schemes .",
    "it has been used by arinkin - gaitsgory  @xcite to formulate a precise version of the geometric langlands conjecture , by ben - zvi - francis - nadler  @xcite to study integral transforms and hochschild homology of coherent sheaves , by lurie and others to study topological modular forms , by ton - vaqui  @xcite to study moduli spaces of complexes of vector bundles , and by ton  @xcite to study derived azumaya algebras . moreover ,",
    "the philosophy of derived algebraic geometry is closely related to non - commutative geometry and to the idea of hidden smoothness of kontsevich .",
    "the basic objects in derived algebraic geometry are `` derived '' versions of commutative rings .",
    "there are various things this might mean .",
    "for instance , it could mean simply a graded commutative ring , or a commutative differential - graded ring , such as the de rham complex @xmath1 of a manifold @xmath2 . or , it could mean a commutative ring spectrum , which is to say a spectrum equipped with a coherently homotopy commutative and associative multiplication .",
    "the basic example of such a commutative ring spectrum is the sphere spectrum @xmath3 , which is the initial commutative ring spectrum , and hence plays the role of the integers @xmath4 in derived algebraic geometry .",
    "commutative ring spectra are in a precise sense the universal class of derived commutative rings .",
    "we work throughout this paper with connective commutative ring spectra , their module categories , and their associated schemes .    while a substantial portion of the theory we develop in this paper has been studied previously for simplicial commutative rings , it is important for applications to homotopy theory and differential geometry to have results applicable to the much broader class of commutative ( or @xmath5 ) ring spectra , as the vast majority of the rings which arise in these contexts are only of this more general form .",
    "simplicial commutative rings are special cases of commutative differential graded rings , and an @xmath5-ring spectrum admits an @xmath5-dg model if and only if it is a commutative algebra over the eilenberg - maclane spectrum @xmath6 .",
    "to give an idea of how specialized a class this is , note that an arbitrary spectrum @xmath2 is an @xmath6-module precisely when all of its @xmath7-invariants are trivial , meaning that it decomposes as a product of spectra @xmath8 , or that it has no nontrivial extensions in its `` composition series '' ( postnikov tower ) .",
    "rather , the basic @xmath5-ring is the sphere spectrum @xmath3 , which is the group completion of the symmetric monoidal category of finite sets and _ automorphisms _ ( as opposed to only _ identities _ , which yields @xmath4 ) and captures substantial information from differential and @xmath9-geometry and contains the homological complexity of the symmetric groups .",
    "similarly , the algebraic @xmath10-theory spectra , as well as other important spectra such those arising from bordism theories of manifolds , in the study of the mapping class group and the mumford conjecture , or in topological hochschild or cyclic homology , tend not to exist in the differential graded world .",
    "nevertheless , an @xmath5-ring spectrum @xmath11 should be regarded as a nilpotent thickening of its underlying commutative ring @xmath12 , in much the same way as the grothendieck school successfully incorporated nilpotent elements of ordinary rings into algebraic geometry via scheme theory .",
    "of course , this relies upon the `` local '' theory of homotopical commutative algebra , which , thanks to the efforts of many mathematicians , is now well established . in particular , there is a good notion of tale map of commutative ring spectra , and so the basic geometric objects in our paper will be glued together , in this topology , from commutative ring spectra .",
    "we adopt grothendieck s `` functor of points '' perspective ; specifically , we fix a base @xmath5-ring @xmath11 and consider the category of connective commutative @xmath11-algebras , @xmath13 .",
    "a sheaf is then a space - valued functor on @xmath13 which satisfies descent for the tale topology in the appropriate homotopical sense .",
    "for instance , if @xmath14 is a commutative @xmath11-algebra , there is the representable sheaf @xmath15 whose space of @xmath16-points is the mapping space @xmath17 in the @xmath18-category of connective commutative @xmath11-algebras .    just as in ordinary algebraic geometry ,",
    "one is really only interested in a subclass of sheaves which are geometric in some sense .",
    "an important feature of derived algebraic geometry is the presence of higher versions of artin stacks , an idea due to simpson  @xcite ; roughly , this is the smallest class of sheaves which contain the representables @xmath15 and is closed under formation of quotients by smooth groupoid actions . by restricting attention to these sheaves ,",
    "it is possible to prove many ega - style statements .",
    "the situation is entirely analogous to the classes of schemes or algebraic spaces in ordinary algebraic geometry , which can be similarly expressed as the closure of the affines under formation of zariski or tale quotients , respectively .",
    "the difference is that we allow our sheaves to take values in spaces , a model for the theory of higher groupoids , and that we require the larger class which is closed under smooth actions , so that it contains objects such as the deloopings @xmath19 of a smooth abelian group scheme @xmath20 .",
    "these are familiar objects : the artin @xmath21-stack @xmath22 is the moduli space of @xmath20-torsors , and the artin @xmath23-stack @xmath24 is the moduli space of gerbes with band @xmath20 .",
    "one of the main goals of this paper is to study azumaya algebras over these derived geometric objects .",
    "historically , the notion of azumaya algebra , due to auslander - goldman  @xcite , arose from an attempt to generalize the brauer group of a field .",
    "it was then globalized by grothendieck  @xcite , who defined an azumaya algebra @xmath25 over a scheme @xmath26 as a sheaf of coherent @xmath27-algebras that is tale locally a matrix algebra . in other words",
    ", there is a surjective tale map @xmath28 such that @xmath29 .",
    "the brauer group of a scheme classifies azumaya algebras up to morita equivalence , that is , up to equivalence of their module categories .",
    "the original examples of azumaya algebras are central simple algebras over a field @xmath7 ; by wedderburn s theorem , these are precisely the algebras @xmath30 , where @xmath31 is a division algebra of finite dimension over its center @xmath7 .",
    "the algebra of quaternion numbers over @xmath32 is thus an example of an azumaya @xmath32-algebra , and represents the generator of @xmath33 .    in more geometric settings ,",
    "the first example of an azumaya algebra is the endomorphism algebra of a vector bundle , though these have trivial brauer class .",
    "locally , any azumaya algebra is the endomorphism algebra of a vector bundle , but the vector bundles do not generally glue to a vector bundle on the total space .",
    "however , every azumaya algebra is the endomorphism algebra of a twisted vector bundle , a perspective that has recently gained a great deal of importance .",
    "for instance , in the theory of moduli spaces of vector bundles , there is always a twisted universal vector bundle , and the class of its endomorphism algebra in the brauer group is precisely the obstruction to the existence of a universal ( non - twisted ) vector bundle on the moduli space .",
    "brauer groups and azumaya algebras play an important role in many areas of mathematics , but especially in arithmetic geometry , algebraic geometry , and applications to mathematical physics . in arithmetic geometry , they are closely related to tate s conjecture on @xmath34-adic cohomology of schemes over finite fields , and they play a critical role in studying rational points of varieties through , for example , the brauer - manin obstructions to the hasse principle . in algebraic geometry , azumaya algebras arise naturally when studying moduli spaces of vector bundles , and brauer classes appear when considering certain constructions motivated from physics in homological mirror symmetry .",
    "the brauer group was also used by artin - mumford  @xcite to construct one of the first examples of a non - rational unirational complex variety .    as an abstract group , defined via the above equivalence relation ,",
    "the brauer group is difficult to compute directly .",
    "instead , one introduces the cohomological brauer group of a scheme , @xmath35 .",
    "there is an inclusion @xmath36 .",
    "a first critical problem , posed by grothendieck , is whether this inclusion is an equality .",
    "unfortunately , the answer is `` no '' in general , although de jong has written a proof  @xcite of a theorem of o. gabber that equality holds if @xmath26 is quasi - projective , or more generally has an ample line bundle .",
    "however , by expanding the notion of azumaya algebra to derived azumaya algebra , as done in  @xcite*chapter 3 and ton  @xcite , the answer to the corresponding question is `` yes , '' at least for quasi - compact and quasi - separated schemes .",
    "this was shown by ton , who also shows that the result holds for quasi - compact and quasi - separated derived schemes built from simplicial commutative rings .",
    "one of the purposes of the present paper is to generalize this theorem to quasi - compact and quasi - separated derived schemes based on connective commutative ring spectra , which is necessary for our applications to homotopy theory . to any class @xmath37",
    "there is an associated category @xmath38 of complexes of quasi - coherent @xmath39-twisted sheaves . when this derived category is equivalent to @xmath40 for an ordinary azumaya algebra @xmath25 , then @xmath41 .",
    "however , even when this fails , as long as @xmath26 is quasi - compact and quasi - separated , there is a derived azumaya algebra @xmath25 such that @xmath42 .",
    "hence derived azumaya algebras are locally endomorphisms algebras of complexes of vector bundles , and not just vector bundles , and therefore the appropriate notion of morita equivalence is based on tilting complexes instead of bimodules .",
    "one of the main features of this category @xmath43 of quasi - coherent @xmath39-twisted sheaves is that it allows us to define the @xmath39-twisted @xmath10-theory spectrum @xmath44 of @xmath26 as the @xmath10-theory of the subcategory of perfect objects ( see definition [ def : perfectobject ] ) .",
    "the reason this is sensible is that , given an azumaya @xmath27-algebra @xmath25 , there s an azumaya @xmath27-algebra @xmath45 such that @xmath46 ; moreover , @xmath45 can be taken to be the opposite @xmath27-algebra @xmath47 and @xmath48 .",
    "note that because @xmath49 , this is entirely analogous to what happens topologically , where the twists are typically given by elements of the cohomology group @xmath50 in the complex case and elements of @xmath51 in the real case @xcite .",
    "while we do not study the twisted @xmath10-theory of derived schemes in this paper , the basic structural features ( such as additivity and localization ) follow from the untwisted case as in @xcite , using the fact that our categories of @xmath39-twisted sheaves @xmath43 admit global generators with endomorphism algebra @xmath25 .",
    "we now give a detailed summary of the paper . by definition ,",
    "an @xmath11-algebra @xmath20 is azumaya if it is a compact generator of the @xmath18-category of @xmath11-modules and if the multiplication action @xmath52 of @xmath53 on @xmath20 is an equivalence .",
    "this definition is due to auslander - goldman  @xcite in the case of discrete commutative rings , and it has been studied in the settings of schemes by grothendieck  @xcite , @xmath5-ring spectra by baker - richter - szymik  @xcite , and derived algebraic geometry over simplicial commutative rings by ton  @xcite . in a slightly different direction , it has also been studied in the setting of higher categories by borceux - vitale  @xcite and johnson  @xcite .",
    "all of these variations ultimately rely on the idea of an azumaya algebra as an algebra whose module category is invertible with respect to a certain `` morita '' symmetric monoidal structure .    although we restrict to azumaya algebras over commutative ring spectra , we note that the notion of azumaya algebra makes sense over any @xmath54-ring spectrum .",
    "the reason for this is that if @xmath11 is an @xmath54-ring , then @xmath55 is naturally a @xmath56-monoidal @xmath18-category , and so its @xmath18-category of modules is naturally @xmath57-monoidal .",
    "the theory of azumaya algebras is closely related to the notions of smoothness and properness in non - commutative geometry , which have been studied extensively starting from kontsevich  @xcite . these and related ideas have been used to great success to prove theorems in algebraic geometry .",
    "for instance , van den bergh  @xcite uses non - commutative algebras to give a proof of the bondal - orlov conjecture , showing that birational smooth projective @xmath58-folds are derived equivalent .",
    "one of main points of the paper is to establish the following theorem , which says that all azumaya algebras over the sphere spectrum are morita equivalent .",
    "the brauer group of the sphere spectrum is zero .",
    "this theorem follows from several other important results , which we now outline . in theorem  [ thm :",
    "azumayaiffinvertible ] , we show that a compactly generated @xmath11-linear category @xmath59 ( a stable presentable @xmath18-category enriched in @xmath11-modules ) is dualizable if and only if it is of the form @xmath60 for a smooth and proper @xmath11-algebra @xmath20 , and @xmath59 is invertible as a @xmath55-module if and only if @xmath61 for an azumaya @xmath11-algebra @xmath20",
    ". the analogous results were proved for simplicial commutative rings in  @xcite .",
    "a final algebraic ingredient is the fact that smooth and proper @xmath11-algebras are compact . in particular ,",
    "azumaya algebras are compact algebras .",
    "this is a key point later in our analysis of the geometricity of the sheaf of perfect modules for an azumaya algebra . to establish",
    "it requires showing that the @xmath18-category of spectra @xmath62 is compact in the @xmath18-category of all compactly generated @xmath3-linear categories , which does not follow immediately from the fact that it is the unit object in this symmetric monoidal @xmath18-category .",
    "the theory of smooth and proper algebras is also fundamental in the theory of non - commutative motives , and has been studied in that setting by cisinski - tabuada  @xcite and blumberg - gepner - tabuada  @xcite .",
    "suppose that @xmath11 is an @xmath63-ring spectrum for @xmath64 .",
    "then , the characterization of azumaya algebras above lets us define the brauer space of @xmath11 as the picard space @xmath65 of the @xmath66-monoidal @xmath18-category of compactly generated @xmath11-linear categories .",
    "this space is a grouplike @xmath66-space , and so is , in particular , a @xmath67-fold loop - space .",
    "the brauer group is the abelian group @xmath68 when @xmath69 , it follows that there is a brauer spectrum @xmath70 .",
    "one strength of this definition is that it generalizes well to other settings , such as arbitrary compactly generated @xmath66-monoidal stable @xmath18-categories .",
    "we do not develop this theory in our paper , instead working only with @xmath5-ring spectra , but it is closely related to ideas about brauer groups of @xmath23-categories .",
    "let us take a moment to place this idea in context .",
    "we can describe the space @xmath71 as follows .",
    "the @xmath72-simplices are @xmath18-categories @xmath60 where @xmath20 is an azumaya @xmath11-algebra .",
    "a @xmath21-cell from @xmath20 to @xmath73 is an equivalence @xmath74 ; these may be identified with certain right @xmath75-modules .",
    "a @xmath23-cell is the data of an equivalence between bimodules , and so forth .",
    "when @xmath11 is an ordinary ring , there is no interesting data in degree higher than @xmath23 .",
    "however , when @xmath11 is a derived ring , the higher homotopy groups appear in the homotopy of @xmath71 .",
    "see below .",
    "thus , our brauer space can be viewed as a generalization of the brauer @xmath58-group of gordon - power - street  @xcite and duskin  @xcite , and as a generalization of the approach to brauer groups in  @xcite and  @xcite .",
    "the subject of derived algebraic geometry is increasingly important due to its utility in proving theorems in homotopy theory and algebraic geometry . as we will see in this paper , even to derive purely homotopy - theoretic results about modules over the sphere spectrum",
    ", we will need to employ derived algebraic geometry in an essentially non - trivial way .",
    "such methods are essential even in ordinary algebra . for instance , the classical proof  @xcite that the brauer group of the integers vanishes employs geometric methods and cohomology .    in order to utilize cohomological methods to compute brauer groups of derived schemes ,",
    "it is necessary to show that azumaya algebras are locally morita equivalent to the base .",
    "this local triviality holds in the tale topology , but not in the zariski topology ( as is shown by the quaternions over @xmath32 ) .",
    "this is not easy to prove and uses the geometry of smooth higher artin sheaves .",
    "higher artin sheaves are built inductively out of affine schemes by taking iterated quotients by smooth equivalence relations .",
    "we study these sheaves in section  [ sec : sheaves ] , and we prove the following theorem : if @xmath76 is a smooth surjection , where @xmath11 is a connective commutative ring spectrum and @xmath26 is filtered by higher artin stacks , then @xmath77 has tale local sections .",
    "this extends the classical result about smooth morphisms of schemes to derived algebraic geometry , and has been established in other contexts by ton - vezzosi  @xcite . to use this result on sections of smooth morphisms , we first need to establish the following theorem , showing that a certain moduli sheaf is sufficiently geometric ; it is due to  @xcite in the simplicial commutative setting .",
    "if @xmath59 is a stable @xmath18-category of finite type , then the moduli space @xmath78 of compact objects of @xmath59 is locally geometric .",
    "this is the case in particular for @xmath79 when @xmath20 is an azumaya algebra , in which case the subsheaf @xmath80 that classifies morita equivalences from @xmath20 to @xmath11 is smooth and surjective over @xmath81 .",
    "this is used to prove the following theorem .",
    "if @xmath20 is an azumaya algebra over a connective commutative ring spectrum @xmath11 , then there is an tale cover @xmath82 such that @xmath83 is morita equivalent to @xmath14 .",
    "thus , azumaya algebras over any derived scheme are tale locally trivial .    for nonconnective commutative ring spectra",
    "the question of tale - local triviality is more subtle .",
    "one possibility is to use galois descent instead of tale descent .",
    "this is the subject of current work by the second author and tyler lawson  @xcite .    in section  [ sec : gluing ]",
    ", we study families of linear categories over sheaves in order to establish the following key result regarding the existence of compact generators .",
    "if @xmath59 is an @xmath11-linear category with descent such that @xmath84 has a compact generator for some faithfully flat tale @xmath11-algebra @xmath14 , then @xmath59 has a compact generator .",
    "this local - global principle is proved by establishing analogous statements for zariski covers , for finite flat covers , and for nisnevich covers .",
    "the method for showing the zariski local - global result follows work of thomason  @xcite , bkstedt - neeman  @xcite , neeman  @xcite , and bondal - van den bergh  @xcite on derived categories of schemes .",
    "the local - global principle for finite flat covers is straightforward .",
    "the real work is in establishing the principle for tale covers .",
    "lurie proves in  @xcite*theorem  2.9 that the morel - voevodsky theorem , which reduces nisnevich descent to affine nisnevich excision , holds for connective @xmath5-ring spectra .",
    "thus , we show a local - global principle for affine nisnevich squares . this idea parallels work of lurie on a local - global principle for the compact generation of linear categories ( as opposed , in our work , for compact generation by a single object ) .",
    "ton  @xcite proves a similar local - global principle for fppf covers in the setting of simplicial commutative rings , but his proofs both of the tale and the fppf local - global principles do not obviously generalize to @xmath5-ring spectra because it is typically not the case that there are algebra structures on module - theoretic quotients of ring spectra .",
    "the local - global principle shows that if @xmath59 is a linear category with descent over a quasi - compact and quasi - separated derived scheme such that @xmath59 is tale locally equivalent to modules over an azumaya algebra , then @xmath59 is globally equivalent to modules over an azumaya algebra .",
    "this solves the @xmath85 problem of grothendieck for derived schemes .    if @xmath26 is a quasi - compact and quasi - separated scheme over the sphere spectrum , then @xmath86 .",
    "the local - global principle has another interesting application : if @xmath26 is a quasi - compact and quasi - separated derived scheme over the @xmath87-local sphere , then the @xmath18-category @xmath88 of @xmath89-local objects is compactly generated .    in section  [ sec : brauer ] , we define a brauer sheaf @xmath90 . if @xmath26 is an tale sheaf , the brauer space @xmath91 of @xmath26 is the space of maps from @xmath26 to @xmath90 in the @xmath18-topos @xmath92 . in the case of an affine scheme @xmath81 ,",
    "combining the tale - triviality of azumaya algebras and the tale local - global principle , we find that @xmath93 .",
    "one advantage of using the brauer sheaf @xmath90 is that it is a delooping of the picard sheaf : @xmath94 .",
    "this allows us to compute the homotopy sheaves of @xmath90 : @xmath95 where @xmath96 denotes the structure sheaf of @xmath92 .",
    "we introduce a computation tool , a descent spectral sequence @xmath97 which converges if @xmath26 is affine or has finite tale cohomological dimension . when @xmath98 , the spectral sequence collapses , and we find that @xmath99    it follows that the brauer group vanishes in many interesting cases ; for example : @xmath100 for examples of non - zero brauer groups , we find that @xmath101\\right){\\simeq}{\\mathds{z}}/2,\\ ] ] and for the @xmath87-local sphere spectrum , the brauer group fits into an exact sequence @xmath102 note that the @xmath87-inverted sphere and the @xmath87-local sphere give examples of non - eilenberg - maclane @xmath5-ring spectra with non - zero brauer groups . by  ,",
    "if @xmath11 is a connective @xmath5-ring spectrum , we can compute the homotopy groups of @xmath103 whenever we can compute the relevant tale cohomology groups of @xmath104 .",
    "for example , @xmath105 if @xmath11 is any connective @xmath5-ring spectrum such that @xmath106 or @xmath107 , the ring of witt vectors over @xmath108 .",
    "we state as theorems two consequences of the vanishing of the brauer group of the sphere spectrum .",
    "let @xmath59 be a compactly generated stable presentable @xmath18-category , and suppose that there exists a stable presentable @xmath18-category @xmath109 such that @xmath110 , the @xmath18-category of spectra .",
    "then , @xmath111 .",
    "let @xmath59 be a stable presentable @xmath18-category such that there exists a faithfully flat tale @xmath3-algebra @xmath16 such that @xmath112 .",
    "then , @xmath111 .",
    "the first theorem says that if @xmath59 is compactly generated and invertible as a @xmath113-module , then @xmath59 is already equivalent to @xmath114 .",
    "the second theorem says that if @xmath59 is tale locally equivalent to spectra , then @xmath59 is already equivalent to the @xmath18-category of spectra .",
    "these give strong uniqueness , or rigidity , results for @xmath3-modules . such statements have a long history , and are related to the conjecture of margolis , which gives conditions for a triangulated category to be equivalent to the stable homotopy category .",
    "the conjecture was proven for triangulated categories with models by schwede and shipley  @xcite .",
    "our results extend theirs and also those of  @xcite .",
    "we briefly outline the contents of our paper .",
    "we start in section  [ sec : ringsmodules ] by giving some background on rings , modules , and the tale topology in the context of derived algebraic geometry . in section",
    "[ sec : modulecategories ] , we consider the module categories of @xmath11-algebras @xmath20 under various conditions , including compactness , properness , and smoothness .",
    "we prove there the characterization that @xmath20 is azumaya ( resp .",
    "smooth and proper ) if and only if @xmath60 is invertible ( resp .",
    "dualizable ) in a certain symmetric monoidal @xmath18-category of @xmath11-linear categories .",
    "we develop the theory of higher artin sheaves in derived algebraic geometry in section  [ sec : sheaves ] . in section  [ sec :",
    "moduli ] , we harness the notion of geometric sheaves to study the moduli space of @xmath20-modules for nice @xmath11-algebras @xmath20 . specializing to the case of azumaya algebras , we prove that the sheaf of morita equivalences from @xmath20 to @xmath11 is smooth and surjective over @xmath81 , and hence has tale - local sections .",
    "it follows that azumaya @xmath11-algebras are tale locally trivial .",
    "we consider the problem of when a stack of linear categories over a stack admits a perfect generator in section  [ sec : gluing ] . in the final section ,",
    "section  [ sec : brauer ] , we study the brauer group , define the brauer spectral sequence , and give the computations , including the important theorem that the brauer group of the sphere spectrum vanishes .",
    "much of this paper is based on ideas of lieblich and ton , and the technical framework is supported on the work of jacob lurie .",
    "we thank tyler lawson and jacob lurie for various comments and suggestions .",
    "finally , we want to even more specifically cite the work of ton as influencing ours . for simplicial commutative rings ,",
    "the key insights on moduli spaces of objects , the tale local triviality of azumaya algebras , and gluing of generators are due to ton  @xcite and ton - vaquie  @xcite .",
    "most of the work of sections  [ sec : moduli ] and  [ sec : gluing ] is a recapitulation of these ideas in the setting of ring spectra .",
    "in this section of the paper , we give some background on ring spectra and their module categories , compactness , grothendieck topologies on commutative ring spectra , and tor - amplitude .",
    "the work  @xcite of lurie gives good notions of module categories for ring objects in symmetric monoidal @xmath18-categories .",
    "we refer that book for details on the construction of the objects introduced in the rest of this section .",
    "if @xmath59 is a symmetric monoidal @xmath18-category , and if @xmath20 is an algebra object , by which we mean an @xmath57-algebra in @xmath59 , then there is an @xmath18-category @xmath115 of right @xmath20-modules in @xmath59 ; similarly there is an @xmath18-category of left @xmath20-modules @xmath116 . given two algebras @xmath20 and @xmath73 , there is an @xmath18-category @xmath117 of @xmath118-bimodules in @xmath59 , which is equivalent to @xmath119 .",
    "the @xmath63-algebras in @xmath59 form an @xmath18-category @xmath120 . when @xmath121 , we write @xmath122 for this @xmath18-category , and when @xmath69 , we write @xmath123 . when @xmath124 , the @xmath18-category of spectra with the smash product tensor structure , we will write more simply @xmath125 , @xmath126 , @xmath127 , @xmath60 , @xmath128 , @xmath129 and so forth for the @xmath18-categories  of @xmath130-ring spectra , associative ring spectra , commutative ring spectra , etc . when @xmath20 is a discrete associative ring ,",
    "then the @xmath18-category of right modules @xmath131 over the eilenberg - maclane spectrum of @xmath132 is equivalent to the @xmath18-category of chain complexes on @xmath20 .",
    "we introduce the notion of compactness , which will play a crucial role in everything that follows .",
    "let @xmath59 denote an @xmath18-category  which is closed under @xmath133-filtered colimits  @xcite*section  5.3.1 .",
    "a functor @xmath134 is said to be _ @xmath133-continuous _ if @xmath77 preserves @xmath133-filtered colimits . in the special case that",
    "@xmath77 preserves @xmath135-filtered colimits , we simply say that @xmath77 is continuous .",
    "let @xmath59 denote an @xmath18-category  which is closed under @xmath133-filtered colimits .",
    "an object @xmath136 of @xmath59 is said to be @xmath133-compact if the mapping space functor @xmath137 is @xmath133-continuous , where @xmath138 is the @xmath18-category  of spaces .",
    "we say that @xmath136 is compact if it is @xmath135-compact .",
    "let @xmath59 be an @xmath18-category  which is closed under geometric realizations ( in other words , colimits of simplicial diagrams ) .",
    "an object @xmath136 of @xmath59 is said to be _ projective _ if the mapping space functor @xmath137 preserves geometric realizations .    a compact projective object @xmath136 of an @xmath18-category  @xmath59 corepresents a functor which preserves both filtered colimits and geometric realizations .",
    "both filtered colimits and the simplicial indexing category @xmath139 are examples of _ sifted colimits _ ( that is , colimits indexed by simplicial sets @xmath10 such that the diagram @xmath140 if cofinal ) , and @xmath136 is compact projective if and only if @xmath141 preserves sifted colimits ( see  @xcite*corollary  5.5.8.17 ) .",
    "an @xmath18-category with all small colimits is said to be @xmath133-compactly generated if the natural map @xmath142 is an equivalence , where @xmath143 denotes the @xmath133-filtered cocompletion  @xcite*section  5.3.5 . by definition , a presentable @xmath18-category is an @xmath18-category that is @xmath133-compactly generated for some infinite regular cardinal @xmath133 .",
    "when @xmath59 is @xmath135-compactly generated , we say simply that it is compactly generated .",
    "if @xmath59 is compactly generated , and if @xmath109 is a full subcategory of @xmath144 such that the closure of @xmath109 in @xmath59 under finite colimits and retracts is equivalent to @xmath144 , then we say that @xmath59 is compactly generated by @xmath109 .",
    "[ lem : generating ] a stable presentable @xmath18-category @xmath59 is compactly generated by a set @xmath26 of compact objects if for any object @xmath145 , @xmath146 for all @xmath147 if and only if @xmath148 .",
    "see the proof of  @xcite*lemma  2.2.1",
    ".    returning to the algebraic situation of the previous section , if @xmath20 is an @xmath57-ring spectrum , then @xmath60 is a stable presentable @xmath18-category .",
    "presentability follows from  @xcite*corollary  4.2.3.7.(1 ) and stability is straightforward . in particular , @xmath60 admits all small colimits .",
    "moreover , @xmath60 is compactly generated by the single object @xmath20 .",
    "we will often refer to compact objects of @xmath60 as perfect modules , in keeping with the usual terminology of algebraic geometry .",
    "a connective @xmath20-module @xmath149 is projective if it is projective as an object of @xmath150 , the @xmath18-category of connective @xmath20-modules .",
    "the following argument shows why there are no non - zero projective objects of @xmath60 in general .",
    "suppose that @xmath2 is a projective object of @xmath55 .",
    "for any @xmath11-module @xmath151 , we can write the suspension of @xmath151 as the geometric realization @xmath152 then , by stability , @xmath153 in particular , @xmath154 for all @xmath11-modules",
    "@xmath151 , so that @xmath155 . thus , @xmath156 .",
    "we record here a few facts about projective and compact modules .",
    "[ prop : compactness ] let @xmath20 be a connective @xmath57-ring spectrum .    1 .   a connective right @xmath20-module @xmath149 is projective if and only if it is a retract of a free right @xmath20-module .",
    "a connective right @xmath20-module @xmath149 is projective if and only if for every surjective map @xmath157 of right @xmath20-modules the map @xmath158 is surjective .",
    "a right @xmath20-module @xmath149 is compact if and only if it is dualizable : there exists a left @xmath20-module @xmath159 such that the composition @xmath160 is equivalent to the functor corepresented by @xmath149 . in this case",
    ", @xmath159 is a perfect left @xmath20-module .",
    "if @xmath149 is a non - zero compact right @xmath20-module , then @xmath149 has a bottom non - zero homotopy group ; that is , there exists some integer @xmath151 such that @xmath161 for @xmath162 and @xmath163 .",
    "moreover , @xmath164 is finitely presented as a @xmath165-module .",
    "part ( 1 ) is  @xcite*proposition  8.2.2.7 .",
    "the proof of part ( 2 ) is the same as in the discrete case .",
    "part ( 3 ) is  @xcite*proposition  8.2.5.4 .",
    "part ( 4 ) is  @xcite*corollary  8.2.5.5 .",
    "the following lemma will be used later in the paper .",
    "[ lem : functoriality ] let @xmath11 be a commutative ring spectrum , @xmath20 an @xmath11-algebra , and @xmath149 and @xmath166 compact right @xmath20-modules . then , for any commutative @xmath11-algebra @xmath14 , the natural map @xmath167 is an equivalence of @xmath14-modules .",
    "the statement is clear when @xmath149 is a suspension of the free @xmath20-module @xmath20 .",
    "we prove the lemma by induction on the cells of @xmath149 .",
    "so , suppose that we have a cofiber sequence of compact modules @xmath168 such that @xmath169 is an equivalence .",
    "we show that   holds .",
    "we obtain a morphism of cofiber sequences @xmath170 since the left two vertical arrows are equivalences , the right arrow is an equivalence .",
    "to finish the proof , we show that if   holds for @xmath151 and if @xmath149 is a retract of @xmath151 , then   holds .",
    "if @xmath171 , then there is a commutative square of equivalences @xmath172 it follows ( by looking for instance at cofibers of the vertical maps ) that   holds .    the following form of the morita theorem is used frequently to show that certain @xmath18-categories are categories of modules over some @xmath57-ring spectrum .",
    "[ thm : morita ] let @xmath59 be a stable presentable @xmath18-category , and let @xmath149 be an object of @xmath59 .",
    "then , @xmath59 is compactly generated by @xmath149 if and only if @xmath173 is an equivalence .",
    "one direction is the theorem of schwede and shipley , in the form found in lurie  @xcite*theorem  8.1.2.1 .",
    "so , suppose that   is an equivalence .",
    "the functor @xmath174 automatically preserves filtered colimits because it is an equivalence , so we see that @xmath149 is compact in @xmath59 .",
    "since @xmath174 is conservative , it follows from lemma  [ lem : generating ] that @xmath59 is compactly generated by @xmath149 .",
    "fix an @xmath175-ring @xmath11 , and denote by @xmath13 the @xmath18-category  of connective commutative @xmath11-algebras .",
    "set @xmath176 , the @xmath18-category  of affine connective derived schemes over @xmath81 .",
    "we make extensive use of @xmath18-topoi  arising from grothendieck topologies on @xmath177 . for details on the construction of these @xmath18-topoi",
    "see  @xcite*chapter  6 and  @xcite*section  5 .",
    "all of these topologies arise from pre - topologies consisting of special classes of flat morphisms , a notion we now define .",
    "[ def : flat ] a morphism @xmath178 of commutative ring spectra is called flat if @xmath179 is a flat morphism of discrete rings and if @xmath77 induces isomorphisms @xmath180 for all integers @xmath7 .",
    "it is useful to use flatness to give a definition of many other properties of morphisms of @xmath5-ring spectra .",
    "if @xmath181 is a property of flat morphisms of discrete commutative rings , such as being faithful or tale , then a morphism @xmath182 of commutative rings is said to be @xmath181 if @xmath77 is flat in the sense of definition  [ def : flat ] and if @xmath183 is @xmath181 .",
    "the zariski topology on @xmath184 is the grothendieck topology generated by zariski open covers . here ,",
    "a map @xmath185 is a zariski open cover if the associated map on ring spectra @xmath186 is flat and induces a zariski - open cover @xmath187 .",
    "the associated @xmath18-topos of zariski sheaves is denoted by @xmath188 .",
    "similarly , there is an tale topology on @xmath184 and an associated tale @xmath18-topos @xmath92 .",
    "a map @xmath185 is tale if @xmath189 is flat and tale .",
    "both of these grothendieck topologies are constructed , explicitly , via the method of  @xcite*proposition  5.1 .",
    "see  @xcite*proposition  5.4 for how to do this for the flat topology .",
    "most of the material below on tor - amplitude and perfect modules was developed in  @xcite*expos i. we refer also to the exposition in  @xcite . in the simplicial commutative",
    "setting , this is treated in ton - vaqui  @xcite . throughout this section",
    ", @xmath11 is a connective commutative ring spectrum .",
    "we refer to compact @xmath11-modules as perfect @xmath11-modules .",
    "this is to agree with the terminology in the references . over a scheme @xmath26 , a complex of quasi - coherent @xmath27-modules",
    "is called perfect if its restriction to any affine subscheme is perfect , or , equivalently , compact . while the perfect and compact modules agree for affine schemes , on a general scheme @xmath26 not every perfect module is compact .",
    "an @xmath11-module @xmath149 has tor - amplitude contained in the interval @xmath190 $ ] if for any @xmath191-module @xmath2 ( any module , not any complex of modules ) , @xmath192 for @xmath193 $ ] .",
    "if such integers @xmath194 exist , then @xmath149 is said to have finite tor - amplitude .",
    "if @xmath149 is an @xmath11-module , then @xmath149 has tor - amplitude contained in @xmath190 $ ] if and only if @xmath195 is a complex of @xmath191-modules with tor - amplitude contained in @xmath190 $ ] in the ordinary sense .",
    "note , however , that our definition differs from that in  @xcite*i 5.2 simply in that we work with homology instead of cohomology .",
    "the next proposition is used in the proof of the proposition that follows , but it seems interesting in its own right .",
    "[ prop : projectives ] the functor @xmath196 is an equivalence , where the decoration @xmath197 denotes the full subcategory of projective modules .",
    "this is a special case of  @xcite*corollary  8.2.2.19 .",
    "the analogous map on free modules is an equivalence .",
    "since projectives are summands of free modules , we deduce that the functor @xmath198 above is fully faithful .",
    "let @xmath149 be a projective @xmath12-module .",
    "then , there exists a free @xmath12-module @xmath199 and an idempotent homomorphism @xmath200 such that @xmath149 is the image of @xmath201 . by definition , @xmath149 is also the filtered colimit of @xmath202 in @xmath203 .",
    "lift the diagram to a diagram of free @xmath11-modules @xmath204 , and let @xmath205 be the filtered colimit .",
    "the @xmath11-module @xmath205 is projective because we can construct a splitting of @xmath206 by mapping @xmath204 to each @xmath204 in the diagram via the idempotent @xmath207 .",
    "then , @xmath208 is isomorphic to @xmath149 .",
    "so , the functor is essentially surjective , and hence an equivalence of categories .",
    "the following proposition provides the technical results needed on perfect modules over connective @xmath5-ring spectra .",
    "in particular , parts ( 4)-(7 ) will be the key to giving certain inductive proofs about the moduli of objects in module categories in section  [ sec : moduli ] .",
    "we emphasize again that it was the insight of ton - vaqui  @xcite that suggests this approach to studying perfect objects in the context of simplicial commutative rings .",
    "[ prop : tor ] let @xmath149 and @xmath166 be @xmath11-modules .    1 .   if @xmath11 is perfect , then @xmath149 has finite tor - amplitude .",
    "if @xmath209 is a connective commutative @xmath11-algebra , and if @xmath149 is an @xmath11-module with tor - amplitude contained in @xmath190 $ ] , then @xmath210 is an @xmath209-module with tor - amplitude contained in @xmath190 $ ] .",
    "3 .   if @xmath149 has tor - amplitude contained in @xmath190 $ ] and @xmath166 has tor - amplitude contained in @xmath211 $ ] , then @xmath212 has tor - amplitude contained in @xmath213 $ ] .",
    "if @xmath149 and @xmath166 have tor - amplitude contained in @xmath190 $ ] , then for any morphism @xmath214 , the cofiber has tor - amplitude contained in @xmath215 $ ] .",
    "dually , the fiber has tor - amplitude contained in @xmath216 $ ] .",
    "if @xmath149 is a perfect @xmath11-module with tor - amplitude contained in @xmath217 $ ] , with @xmath218 , then @xmath149 is connective , and @xmath219 .",
    "if @xmath149 is perfect and has tor - amplitude contained in @xmath220 $ ] , then @xmath149 is equivalent to @xmath221 for a finitely generated projective @xmath11-module @xmath2 . 7 .",
    "if @xmath149 is perfect and has tor - amplitude contained in @xmath190 $ ] , then there exists a morphism @xmath222 such that @xmath2 is a finitely generated projective @xmath11-module and the cofiber is perfect and has tor - amplitude contained in @xmath223 $ ] .",
    "part ( 1 ) follows from  @xcite*proposition  2.2.12 and  @xcite*proposition  2.3.1.(d ) . that the notions of perfection in thomason - trobaugh and lurie agree",
    "is explained by  @xcite*theorem  2.4.4 , which is applicable here as the modules which appear in @xmath55 are all quasi - coherent , and so have quasi - coherent homology .",
    "parts ( 2 ) and ( 3 ) are  @xcite*proposition  5.6 .",
    "if @xmath224 is the cofiber of @xmath214 , and if @xmath2 is a @xmath12-module , then @xmath225 is a cofiber sequence in @xmath203 .",
    "the case of a fiber is dual .",
    "thus , part ( 4 ) follows immediately from the long exact sequence in homology .",
    "consider the @xmath226 spectral sequence @xmath227 with differentials @xmath228 of degree @xmath229 constructed in  @xcite .",
    "if @xmath149 is a non - trivial perfect @xmath11-module with tor - amplitude contained in @xmath217 $ ] , then the abutment of the spectral sequence is @xmath72 when @xmath230 .",
    "we know that @xmath149 has a bottom homotopy group , say @xmath231 .",
    "that is , @xmath232 is non - zero , and @xmath233 for @xmath234 .",
    "calculating the graded tensor product , we see that @xmath235 is the coequalizer of @xmath236 in the category of graded @xmath237-modules .",
    "so , @xmath238 as a @xmath237-module .",
    "but , by our hypothesis on @xmath7 , no non - zero differential may hit @xmath239 .",
    "all differentials out are zero for degree reasons .",
    "it follows that @xmath240 .",
    "therefore , @xmath241 , and @xmath149 is connective .",
    "this proves the first statement of part ( 5 ) , and the second statement follows easily from the same argument .    to prove part ( 6 )",
    ", we may assume that @xmath242 .",
    "by  @xcite*proposition  2.3.1.(d ) , we may assume that @xmath243 is a bounded complex of finitely generated projective @xmath237-modules . because the kernel of a surjective map of finitely generated projective modules is finitely generated projective , by induction , the good truncation @xmath244 is a bounded complex of finitely generated projective @xmath237-modules that is concentrated in non - negative degrees .",
    "we show now that @xmath245 is a projective @xmath237-module . by part ( 5 ) , @xmath246 .",
    "since the homology is zero above degree @xmath72 , the good truncation @xmath247 is a resolution of the finitely presented @xmath237-module @xmath248 by finitely generated projective @xmath237-modules .",
    "it suffices to show that @xmath248 is flat by  @xcite*theorem  7.12 .",
    "if @xmath2 is a @xmath237-module , the tor spectral sequence computing @xmath249 is @xmath250 but , for @xmath251 , @xmath252 , so that for @xmath253 @xmath254 by the tor - amplitude of @xmath149 . thus , @xmath248 is flat .",
    "thus , by the previous theorem and the connectivity of @xmath149 , there is a natural map @xmath255 where @xmath166 is a finitely generated projective @xmath11-module and @xmath256 .",
    "it suffices to show that the cofiber @xmath224 of this map is equivalent to zero .",
    "the @xmath11-module @xmath224 is perfect and has the property that @xmath257 is zero .",
    "let @xmath258 be the first non - zero homotopy group of @xmath224 .",
    "then , @xmath259 is connective with tor - amplitude contained in @xmath260 $ ] . by part ( 5 ) ,",
    "@xmath261 , a contradiction .",
    "thus , @xmath262 .    to prove part ( 7 ) , we assume that @xmath242 . if @xmath263 , the statement follows from part ( 6 ) .",
    "thus , assume that @xmath264 , and consider @xmath265 , which is a perfect complex over @xmath266 with bounded homology .",
    "as above , we may assume that @xmath243 is in fact a bounded complex of finitely generated projective @xmath12-modules concentrated in non - negative degrees .",
    "thus , there is a natural morphism of complexes @xmath267 which induces a surjection in degree @xmath72 homology .",
    "lift @xmath268 to a finitely generated projective @xmath11-module @xmath2 , by proposition [ prop : projectives ] .",
    "we can write @xmath268 as a split summand of @xmath269 , and hence @xmath2 as a split summand of @xmath270 . since @xmath149 is connective by part ( 5 )",
    ", the composition @xmath271 lifts to a map @xmath272 . composing with @xmath273",
    ", we obtain a map @xmath274 which is a surjection on @xmath275 . by the long exact sequence in homology",
    ", the cofiber has tor - amplitude contained in @xmath276 $ ] ( remembering that @xmath264 ) .",
    "moreover , the cofiber is perfect by the two - out - of - three property for perfect modules  @xcite*proposition  2.2.13.(b ) .",
    "we show that the complement of the support of a perfect complex on an affine derived scheme is a quasi - compact open subscheme .",
    "recall that a morphism of schemes @xmath277 is quasi - compact if for every open affine @xmath81 of @xmath278 , the pullback @xmath279 is quasi - compact  @xcite*definition i 6.1.1 .",
    "the following result is due to thomason  @xcite in the ordinary setting of discrete rings , and to ton - vaqui  @xcite for simplicial commutative rings .",
    "[ prop : vanishing ] let @xmath11 be a connective commutative ring spectrum , and let @xmath149 be a perfect @xmath11-module .",
    "the subfunctor @xmath280 of points @xmath82 such that @xmath281 is quasi - isomorphic to zero is a quasi - compact zariski open immersion .",
    "if @xmath11 is discrete , the proposition is  @xcite*lemma 3.3.c . to prove the proposition",
    "when @xmath11 is a connective commutative ring spectrum , let @xmath282 , which is a perfect complex of @xmath191-modules .",
    "let @xmath283 be the quasi - compact zariski open subscheme of @xmath284 specified by the vanishing of @xmath166 by the discrete case .",
    "choose elements @xmath285 such that @xmath283 is the union of the @xmath286 $ ] .",
    "we claim that @xmath287 is the union @xmath288 of the @xmath289 $ ] in @xmath81 .",
    "but , because @xmath149 is a perfect @xmath11-module , given an @xmath14-point @xmath290 of @xmath288 , then @xmath291 if and only if @xmath292 indeed , @xmath281 has a bottom homotopy group , say of degree @xmath7 , and it follows from the proof of proposition  [ prop : tor ] part ( 5 ) that @xmath293",
    "in this section , we examine the algebra of module categories of @xmath5-ring spectra , viewed as @xmath294-monoids in the @xmath18-category  of stable presentable @xmath18-categories .",
    "this leads to an important module - theoretic characterization of azumaya @xmath11-algebras for an @xmath5-ring spectrum @xmath11 : an @xmath11-algebra @xmath20 is azumaya if and only if @xmath60 is an invertible @xmath55-module .      in  @xcite*chapter 5",
    ", lurie constructs the @xmath18-category  @xmath295 of presentable @xmath18-categories  and colimit preserving functors .",
    "we refer to lurie s book for the precise definition and properties of presentable @xmath18-categories . for us ,",
    "the main points are that a presentable @xmath18-category  is closed under small limits and colimits and is @xmath133-compactly generated for some infinite regular cardinal @xmath133 .",
    "moreover , the @xmath18-category  @xmath295 is also closed under small limits and colimits , and there is a symmetric monoidal structure on @xmath295 with unit object the @xmath18-category  of pointed spaces  @xcite*section 6.3 .",
    "a critical fact about @xmath295 is that if @xmath11 is an @xmath63-ring spectrum ( @xmath296 ) , then the @xmath18-category  of right @xmath11-modules @xmath55 is an @xmath297-monoidal stable presentable @xmath18-category with unit @xmath11 ( where @xmath298 )",
    ". we can equivalently view @xmath55 as an @xmath297-algebra in @xmath295 by  @xcite*proposition  8.1.2.6 in this case .",
    "this decrease in coherent commutativity is the analogue of the usual fact that there is no tensor product of right @xmath20-modules when @xmath20 is an associative ring .",
    "thus , by  @xcite*corollary  6.3.5.17 , when @xmath299 we may build an @xmath18-category  @xmath300 of ( right ) @xmath55-modules in @xmath295 . in the notation of  @xcite , @xmath301 this @xmath18-category  is @xmath66-monoidal and is closed under small limits and colimits .",
    "moreover , the @xmath66-monoidal structure is closed ( see  @xcite*remark  6.3.1.17 and the beginning of the next section ) .",
    "the dual of @xmath59 is @xmath302 the functor category of left adjoint @xmath11-linear functors from @xmath59 to @xmath55 .",
    "when @xmath11 is the sphere spectrum , @xmath300 is also denoted by @xmath303 ; it is the @xmath18-category  of _ stable _ presentable @xmath18-categories  and colimit preserving functors .",
    "since @xmath55 is stable , we could also define @xmath300 as @xmath304 .",
    "we will refer to the objects of @xmath300 as @xmath11-linear categories .",
    "an @xmath11-linear category is thus a stable @xmath18-category  with an enrichment in @xmath55 : there are functorial @xmath11-module mapping spectra @xmath305 for @xmath306 in @xmath59 .",
    "we may also consider the @xmath18-category  @xmath307 of compactly generated stable presentable @xmath18-categories  with morphisms the colimit preserving functors that preserve compact objects .",
    "then , @xmath307 inherits a symmetric monoidal structure from @xmath308 , as one can check by using the proof of @xcite*6.3.1.14 in the @xmath135-compactly generated situation .",
    "the @xmath18-category  @xmath55 is again an @xmath297-monoid in @xmath307 , and so we can consider the @xmath18-category  @xmath309 of compactly generated @xmath11-linear categories and colimit preserving functors that preserve compact objects .",
    "the natural map @xmath310 is an @xmath66-monoidal map of @xmath18-categories .",
    "there is a natural equivalence @xmath311 of symmetric monoidal @xmath18-categories , where @xmath312 is the symmetric monoidal @xmath18-category  of small idempotent complete stable @xmath18-categories  and exact functors .",
    "one may also view @xmath18-category  @xmath312 as the localization of the @xmath18-category  of spectrally enriched categories @xmath313 given by inverting the maps @xmath314 for all ( compact ) spectral categories @xmath25 . for details , see  @xcite . if @xmath11 is an @xmath63-ring , this equivalence sends the @xmath297-algebra @xmath55 to @xmath315 in @xmath312 .",
    "thus , it induces an equivalence between @xmath309 and @xmath316 .    in the rest of this section ,",
    "we prove some technical results relating algebras and their modules categories , which we will need later in the paper .",
    "while the statements are true for @xmath63-ring spectra with @xmath64 , for simplicity we treat only @xmath5-ring spectra .",
    "fix an @xmath5-ring @xmath11 .",
    "let @xmath317 be the symmetric monoidal functor which sends an @xmath11-algebra @xmath20 to the @xmath11-linear category of right @xmath20-modules @xmath60 with basepoint @xmath20 .",
    "we abuse notation and write @xmath60 for the object @xmath318 of @xmath319 .",
    "there are analogous functors @xmath320 , and we can forget the basepoint to obtain @xmath321 and @xmath322 .",
    "there is an adjunction @xmath323 where the right adjoint @xmath324 takes a pointed @xmath11-linear category and sends it to the @xmath11-algebra of endomorphisms of the distinguished object .    for an @xmath5-ring @xmath11 , the functors @xmath325 and @xmath326 are fully faithful .    to check the first statement , for @xmath11-algebras @xmath20 and @xmath73 , consider the fiber sequence",
    "@xmath327 since @xmath60 is dualizable with dual @xmath328 and using that the symmetric monoidal structure on @xmath300 is closed , we can rewrite the fiber sequence as @xmath329 the fiber of the map over @xmath73 is equivalent to the space of @xmath75-module structures compatible with the @xmath73-module structure on @xmath73 , which is simply @xmath330 so , the functor is fully faithful .    to check the second statement , simply note that there is a pullback square @xmath331 of mapping spaces , so the fibers are equivalent .",
    "[ cor : algebrafiber ] if @xmath20 is an @xmath11-algebra , then the fiber over a compact @xmath11-module @xmath149 of the forgetful map @xmath332 is naturally equivalent to @xmath333 .    despite the fact that @xmath55 is the unit of the symmetric monoidal structure on @xmath309 , it is not formal that @xmath55 is a compact object in @xmath309 .",
    "the fact that it is compact is essential in deducing that azumaya algebras are compact @xmath11-algebras ( and not just compact as @xmath11-modules ) .",
    "the unit @xmath55 is a compact object of @xmath309 .",
    "we begin by showing that the @xmath18-category of spectra is compact in @xmath307 .",
    "equivalently , we must show that the functor @xmath334 preserves filtered colimits .",
    "since @xmath335 is a compact object of @xmath336 , the underlying space functor @xmath337 preserves filtered colimits , and we see that it is enough to show that @xmath338 preserves filtered colimits . by  @xcite*proposition  5.5.7.11 , the forgetful functor @xmath339 preserves filtered colimits , where @xmath340 denotes the @xmath18-category of finitely cocomplete @xmath18-categories and finite colimit - preserving functors . recall that taking compact objects @xmath341 identifies @xmath307 with the full subcategory @xmath342 consisting of the stable and idempotent - complete objects .",
    "moreover , this inclusion admits a left adjoint @xmath343 and the functor @xmath344 admits a left - adjoint @xmath345 given by ind - completion .",
    "let @xmath346 be a filtered colimit in @xmath307 .",
    "it follows that the canonical map @xmath347 is an idempotent completion , so it is fully faithful and any object @xmath149 in @xmath348 is a retract of an object @xmath166 in @xmath349 .",
    "in particular , there is an idempotent @xmath350 such that @xmath149 is the cofiber of @xmath351 where @xmath352 is the map which on the @xmath7th component maps @xmath166 to the @xmath353st component via @xmath201 .",
    "since the colimit @xmath354 is computed in @xmath336 , it follows that @xmath166 is the image of an object @xmath355 in @xmath356 for some @xmath357 .",
    "write @xmath358 for the image of @xmath355 in @xmath359 . because mapping spaces in filtered colimits of @xmath18-categories are given as the filtered colimit of the mapping spaces",
    ", there is a natural equivalence @xmath360 it follows that we may lift @xmath201 to an idempotent @xmath361 of @xmath358 for some @xmath362 .",
    "define @xmath363 to be the summand of @xmath358 split off by this idempotent as in  .",
    "then , @xmath363 is compact object of @xmath359 which maps to @xmath149 in the colimit .",
    "it follows that @xmath364 is essentially surjective and hence an equivalence .    to deduce that , in general",
    ", @xmath55 is a compact object of @xmath309 , it suffices to note that the forgetful functor @xmath365 preserves filtered colimits .",
    "this follows from  @xcite*corollary 3.4.4.6 , which is applicable because @xmath366 , as a symmetric monoidal @xmath18-categories and the symmetric monoidal structure is closed by  @xcite*theorem 2.14 .    from the theorem",
    ", we deduce an important fact about the endomorphism functor .",
    "[ lem : endfilteredcolimits ] the right adjoint @xmath367 of @xmath368 preserves filtered colimits .    a map @xmath369 in @xmath309 classifies a compact object of @xmath59 , i.e. , a pointed @xmath11-linear category .",
    "let @xmath346 be a colimit of pointed compactly generated @xmath11-linear categories .",
    "let @xmath370 be the image of @xmath11 in @xmath371 , and let @xmath26 be the image of @xmath11 in @xmath59 . consider the map of @xmath11-algebras @xmath372 since the forgetful functors @xmath373 preserve filtered colimits , and taken together , they detect filtered colimits in @xmath374 , it is enough to show that @xmath375 is an equivalence .",
    "this follows because we know that the filtered colimit of pointed compactly generated @xmath11-linear categories agrees with the filtered colimit as compactly generated @xmath11-linear categories , with the obvious basepoint , and , by the theorem , @xmath376 in @xmath336 .",
    "we now prove the important fact that compactness of an @xmath11-algebra @xmath20 is detected purely through the module category of @xmath20 .",
    "[ prop : acpt ] let @xmath20 be an @xmath11-algebra . then",
    ", @xmath20 is compact in @xmath374 if and only if @xmath60 is compact in @xmath309 .",
    "assume first that @xmath20 is compact in @xmath374 , and let @xmath59 be a filtered colimit of a diagram @xmath377 in @xmath309 . because @xmath324 preserves filtered colimits by the previous lemma , it is clear that @xmath378 preserves compact objects .",
    "using the fact that @xmath55 is a compact object in @xmath309 , and that @xmath20 is a compact @xmath11-algebra , for every object @xmath379 , which is to say an object @xmath380 of @xmath371 for @xmath357 sufficiently large , the adjunction provides a map of fiber sequences @xmath381 in which the left and right vertical maps are equivalences ( note that the top sequence is a fiber sequence because filtered colimits commute with finite limits , and hence , in particular , fiber sequences by  @xcite*proposition  5.3.3.3 ) ; it follows that the middle map is an equivalence , which shows that @xmath60 is compact in @xmath309 .",
    "now , assume that @xmath60 is compact in @xmath309 . using   and the adjunction @xmath382 it is easy to see that @xmath60 , with basepoint @xmath20 , is also compact in @xmath383 .",
    "let @xmath384 be a filtered colimit of @xmath11-algebras . then",
    ", there are equivalences , @xmath385 that is , @xmath20 is a compact object in @xmath374 .",
    "compactness is a morita - invariant property of @xmath11-algebras .",
    "if @xmath59 is an object of @xmath386 , then the dual of @xmath59 is the functor category @xmath387 in @xmath55 .",
    "there is a functorial evaluation map @xmath388 the @xmath11-linear category @xmath59 is dualizable if there exists a coevaluation map @xmath389 which classifies @xmath59 as a @xmath390-module , such that both maps @xmath391 and @xmath392 are equivalent to the identity .",
    "an object @xmath59 is dualizable in @xmath309 if and only if it is dualizable in @xmath300 and the evaluation and coevaluation morphisms of its duality data in @xmath300 are morphisms in @xmath309 .",
    "dualizability is detected on the monoidal homotopy category , and the duality data for @xmath59 in @xmath393 must coincide with the duality data in @xmath394 by uniqueness .",
    "a compactly generated @xmath11-linear category @xmath59 is proper if its evaluation map is in @xmath309 ; it is smooth if it is dualizable and its coevaluation map is in @xmath309 .",
    "if @xmath20 is an @xmath11-algebra , then @xmath60 is proper if and only if @xmath20 is a perfect @xmath11-module . indeed , in this case , the evaluation map is the map @xmath395 that sends @xmath53 to @xmath20 .",
    "we say in this case that @xmath20 is a proper @xmath11-algebra .",
    "similarly , @xmath60 is smooth if and only if the coevaluation map @xmath396 , which sends @xmath11 to @xmath20 , considered as an @xmath397-module , exists and is in @xmath309 .",
    "so we see that @xmath60 is smooth if and only if @xmath20 is perfect as an @xmath397-module . again",
    ", we say in this case that @xmath20 is a smooth @xmath11-algebra .",
    "in fact , every smooth @xmath11-linear category is equivalent to a module category .",
    "suppose that @xmath59 is a smooth @xmath11-linear category .",
    "then , @xmath61 for some @xmath11-algebra @xmath20 .",
    "see  @xcite*lemma 2.6 .",
    "the morphism @xmath398 is in @xmath309 by hypothesis .",
    "thus , @xmath11 is sent by @xmath399 to a compact object of @xmath390 .",
    "the compact objects of this category are the smallest idempotent complete stable subcategory of @xmath390 containing the objects of the form @xmath400 , where @xmath401 and @xmath402 are compact objects of @xmath59 .",
    "this is because @xmath59 is compactly generated , so the compact objects of @xmath403 are precisely the duals of the compact objects of @xmath59",
    ". we can thus write @xmath404 as the result of taking finitely many shifts , cones , and summands of @xmath405 , for @xmath406 .",
    "the identity map @xmath391 sends @xmath407 to the same diagram built out of @xmath408 .",
    "it follows that if @xmath409 for @xmath406 , then @xmath410 .",
    "thus , the @xmath411 form a set of compact generators for @xmath59 . letting @xmath412",
    ", it follows that @xmath61 , as desired .",
    "an @xmath11-linear category is of finite type if there exists a compact @xmath11-algebra @xmath20 such that @xmath59 is equivalent to @xmath60 .",
    "the condition of being smooth and proper is a strong one for @xmath11-algebras : it implies compactness in the @xmath18-category of @xmath11-algebras .",
    "see  @xcite*corollary  2.13 for the dg - statement .",
    "if @xmath59 is a smooth and proper @xmath11-linear category , then @xmath59 is of finite type .",
    "let @xmath20 be an @xmath11-algebra such that @xmath61 . to show that @xmath20 is compact as an @xmath11-algebra",
    ", it suffices by proposition [ prop : acpt ] to show that @xmath59 is compact in @xmath309 . to this",
    "end , fix a filtered colimit @xmath413 in @xmath309 ; we must show that the natural map @xmath414 is an equivalence .",
    "the dualizability of @xmath59 in @xmath309 gives natural equivalences @xmath415 and as @xmath55 is compact as a compactly generated @xmath11-linear category , the result follows from the equivalences @xmath416    the following result is due to ton and vaqui  @xcite in the dg - setting , and the arguments are essentially the same .",
    "the result is part of the philosophy of hidden smoothness due to kontsevich .",
    "an @xmath11-linear category of finite type is smooth .",
    "it suffices to show that if @xmath20 is a compact @xmath11-algebra , then it is perfect as a right @xmath397-module .",
    "there is a fiber sequence @xmath417 where @xmath418 is the @xmath397-module of differentials ( see lazarev  @xcite ) .",
    "so , it is enough to show that @xmath418 is a perfect @xmath419-module when @xmath20 is a compact @xmath11-algebra .",
    "this follows from the adjunction @xmath420 together with the fact that , since @xmath20 is a compact @xmath11-algebra , @xmath20 is compact in @xmath421 .",
    "let @xmath11 be an @xmath5-ring spectrum .",
    "the following definition is due to auslander and goldman  @xcite . in the derived setting ,",
    "it and variations on it have been considered by lieblich  @xcite , baker - lazarev  @xcite , ton  @xcite , johnson  @xcite , and baker - richter - szymik  @xcite .",
    "an @xmath11-algebra @xmath20 is an azumaya @xmath11-algebra if @xmath20 is a compact generator of @xmath55 and if the natural @xmath11-algebra map giving the bimodule structure on @xmath20 @xmath422 is an equivalence of @xmath11-algebras .",
    "note that if @xmath20 is an azumaya @xmath11-algebra , then , by definition , @xmath53 is morita equivalent to @xmath11 .",
    "the standard example of an azumaya algebra is the endomorphism algebra @xmath423 of a compact generator of @xmath55 .",
    "these algebras are not so interesting as they are already morita equivalent to @xmath11",
    ". the brauer group will be the group of morita equivalence classes of azumaya algebras , so these endomorphism algebras will represent the trivial class . for more examples and various properties ,",
    "we refer to  @xcite .",
    "in particular , we will use the fact that if @xmath14 is an @xmath5-@xmath11-algebra , then @xmath83 is azumaya if @xmath20 is  @xcite*proposition  1.5 . one main goal of this paper is to show that if @xmath11 is a connective commutative ring spectrum , then azumaya algebras are tale locally morita equivalent to @xmath11 , which ton established in the connective commutative dg - setting  @xcite .",
    "the first fact we need is the following theorem .",
    "[ thm : brk ] if @xmath424 , where @xmath7 is an algebraically closed field , then every azumaya @xmath11-algebra is morita equivalent to @xmath11 .",
    "we prove now a characterization of azumaya algebras and smooth and proper algebras .",
    "the corresponding statement for dg - algebras is  @xcite*proposition  2.5 .",
    "[ thm : azumayaiffinvertible ] let @xmath59 be a compactly generated @xmath11-linear category .    1",
    ".   @xmath59 is dualizable in @xmath309 if and only if @xmath59 is equivalent to @xmath60 for a smooth and proper @xmath11-algebra @xmath20 .",
    "@xmath59 is invertible in @xmath309 if and only if @xmath59 is equivalent to @xmath60 for an azumaya @xmath11-algebra @xmath20 .",
    "if @xmath20 is smooth and proper , then @xmath60 is dualizable in @xmath309 since the evaluation and coevaluation maps are in @xmath309 by hypothesis . if @xmath59 is smooth and proper , then @xmath61 for an @xmath11-algebra @xmath20 which is , by definition , smooth and proper .",
    "suppose that @xmath59 is invertible .",
    "then , it follows that it is dualizable in @xmath309 , and thus that it is equivalent to @xmath60 where @xmath20 is a smooth and proper @xmath11-algebra .",
    "so , it suffices to show that @xmath60 is invertible if and only if @xmath20 is azumaya .",
    "the evaluation map @xmath425 is an equivalence if and only if @xmath20 is invertible .",
    "this map sends @xmath426 to @xmath20 , and it is contained in @xmath309 if and only if @xmath20 is a compact @xmath11-module .",
    "the evaluation map is essentially surjective if and only if @xmath20 is a generator of @xmath55 .",
    "finally , it is fully faithful if and only if @xmath427 is an equivalence .",
    "we see that we might define the brauer space of an @xmath5-ring spectrum @xmath11 to be the grouplike @xmath294-space @xmath428 . instead , we will later give an equivalent definition that generalizes more readily to derived schemes .",
    "we give in this section preliminaries we will need about sheaves of spaces and @xmath18-categories . in particular , we study smoothness for morphisms of sheaves of spaces , and we show that under mild hypotheses smooth surjective morphisms admit tale local sections .      roughly speaking , if @xmath429 is an @xmath18-topos and @xmath59 is a complete @xmath18-category , then a @xmath59-valued sheaf on @xmath429 is a functor @xmath430 which satisfies descent .",
    "let @xmath59 be a complete @xmath18-category .",
    "a @xmath59-valued sheaf on @xmath429 is a limit - preserving functor @xmath430 .",
    "the @xmath18-category  @xmath431 is the full subcategory of @xmath432 consisting of the @xmath59-valued sheaves on @xmath429 .    in the cases we care about",
    ", @xmath429 will be the @xmath18-topos associated to a grothendieck topology on an @xmath18-category @xmath25 . in this case a @xmath59-valued sheaf on @xmath429 is determined by its values on @xmath25 , because every object in @xmath429 is a colimit of representable functors .",
    "moreover , we will typically be in an even more special situation , where the grothendieck topology is given by a pre - topology satisfying the conditions of  @xcite*propositions 5.1 and 5.7 . in this case , a functor @xmath433 is a sheaf if and only if for every covering morphism @xmath277 in @xmath25 , the map @xmath434 is an equivalence in @xmath109 , where @xmath435 is the simplicial object associated to the cover .",
    "similarly , @xmath199 is a hypercomplete sheaf , or hypersheaf , if for every hypercovering @xmath436 in @xmath25 , the map @xmath437 is an equivalence .",
    "see  @xcite*section 5 for details .",
    "in particular , lurie proves that the collection of faithfully flat morphisms in @xmath438 satisfies the necessary conditions .",
    "thus , the collection of faithfully flat tale morphisms ( section  [ sub : topologies ] ) in @xmath439 does as well .    in practice",
    ", our sheaves will be one of the following three types : sheaves of @xmath18-groupoids ( spaces ) , which we call sheaves ; sheaves of spectra ; or , sheaves of ( not necessarily small ) @xmath18-categories , which we call stacks .",
    "thus , for instance , a stack on an @xmath18-topos @xmath429 is a limit - preserving functor @xmath440 .",
    "we will also consider sheaves of ring spectra and stacks of symmetric monoidal @xmath18-categories .",
    "a presheaf of symmetric monoidal @xmath18-categories is a stack if and only if the underlying presheaf of @xmath18-categories is a stack .",
    "indeed , the forgetful functor @xmath441 preserves and detects limits  @xcite*corollary  3.2.2.5 .    the conventions spelled out in the previous paragraph might cause some confusion .",
    "we have chosen to emphasize the @xmath18-categorical notion that groupoids are spaces in our definitions . as a result",
    ", we end up saying `` sheaf of morita equivalences , '' `` classifying sheaf , '' or `` deligne - mumford sheaf , '' instead of the more comfortable `` stack of morita equivalences , '' `` classifying stack , '' and `` deligne - mumford stack .",
    "'' our stacks will be sheaves of @xmath18-categories .",
    "this approach is justified by the fact that the three examples just given are actually objects of the underlying @xmath18-topoi .",
    "since the objects of the @xmath18-topos themselves are sheaves of spaces , there is no longer any need to have a separate notion of a sheaf of groupoids .    from a stack , we can produce a sheaf of ( not necessarily small ) spaces as follows .",
    "there is a pair of adjoint functors @xmath442 where the left adjoint @xmath357 is the natural inclusion , and @xmath443 sends an @xmath18-category @xmath59 to its maximal subgroupoid @xmath444 . if @xmath445 is a stack , then the associated sheaf @xmath446 is the composition of @xmath447 with @xmath443 , which is a sheaf because @xmath443 preserves limits .    in the remainder of the section",
    ", we will recall some facts about tale ( hyper)descent .",
    "let @xmath11 be a connective @xmath175-ring , and let @xmath92 denote the big tale @xmath18-topos on @xmath11 .",
    "given any commutative @xmath11-algebra @xmath448 , connective or not , there is a presheaf @xmath449 whose values on an @xmath11-algebra @xmath14 are given by @xmath450 this presheaf is in fact a sheaf , which says that the tale topology on @xmath184 is subcanonical , though much more is true  @xcite*theorem 5.14 .",
    "[ prop : subcanonical ] for any commutative @xmath11-algebra @xmath448 , the presheaf @xmath451 is an tale hypersheaf .",
    "indeed , let @xmath452 be an tale hypercovering .",
    "this determines a map @xmath453 , which is a limit diagram by  @xcite*lemma  5.13 .",
    "let @xmath454 be the presheaf of symmetric monoidal @xmath18-categories  that sends @xmath14 to @xmath455 . by  @xcite*theorem  6.1",
    ", this presheaf satisfies descent for tale hypercovers .",
    "it follows that we may uniquely extend @xmath456 to a hyperstack on all of @xmath92 . concretely , when @xmath26 is an object of @xmath92 , we let @xmath457 the stable presentable symmetric monoidal @xmath18-category of modules over @xmath26 . we are actually keeping track of the symmetric monoidal structure on @xmath455 , and hence on @xmath458 by forming the limit in the @xmath18-category @xmath459 . however , the forgetful functor @xmath460 preserves limits , so we choose to ignore the intricacies of symmetric monoidal @xmath18-categories and suppress the symmetric monoidal structure from the notation .    by composing @xmath461 with the limit - preserving functor @xmath462 that sends a presentable symmetric monoidal @xmath18-category to @xmath18-category of algebra objects ( which is also presentable by  @xcite*corollary 3.2.3.5 and symmetric monoidal by  @xcite*proposition 3.2.4.3 and example 3.2.4.4 )",
    ", we obtain the hyperstack of algebras @xmath463 on @xmath92 .",
    "there is a substack @xmath464 of azumaya algebras : an algebra @xmath25 over @xmath26 is azumaya if its restriction to any affine scheme is azumaya .",
    "recall that if @xmath59 is a symmetric monoidal @xmath18-category , then its space of units @xmath465 is the grouplike @xmath175-space consisting of invertible elements of @xmath59 and equivalences .",
    "when @xmath59 is presentable , then @xmath465 is a small space , as proven in  @xcite*theorem  8.9 .",
    "thus , there is a functor @xmath466 where @xmath467 denotes the full subcategory of @xmath468 of grouplike @xmath5-spaces .",
    "[ cor : unitsaresheaves ] if @xmath447 is a hyperstack of presentable symmetric monoidal @xmath18-categories , then the presheaf @xmath469 is a hypersheaf .    by  @xcite*theorem  8.10 ,",
    "@xmath470 is a right adjoint , so it preserves limits .",
    "applying the lemma to the particular stack @xmath456 on @xmath92 , we obtain the picard sheaf @xmath471 , and we let @xmath472 be the associated sheaf of spectra .    now , we introduce a stack of @xmath11-linear categories , @xmath473 , which classifies @xmath11-linear categories satisfying tale hyperdescent .",
    "let @xmath474 be the composite functor @xmath475 whose value at @xmath14 is the @xmath18-category  @xmath476 of @xmath14-linear @xmath18-categories ( equivalently , @xmath455-modules in the symmetric monoidal @xmath18-category @xmath295 ) .",
    "say that an @xmath11-linear category @xmath59 satisfies tale hyperdescent if for each connective commutative @xmath11-algebra @xmath14 and each tale hypercover @xmath477 , the canonical map @xmath478 is an equivalence .",
    "we write @xmath479 for the full subcategory of @xmath476 consisting of the @xmath14-linear @xmath18-categories  with tale hyperdescent and @xmath480 for the full subfunctor of @xmath11-linear categories with tale hyperdescent .    [",
    "ex : moddescent ] if @xmath20 is an @xmath11-algebra , then @xmath60 is an @xmath11-linear category that satisfies tale hyperdescent . indeed , in this case @xmath60 is dualizable in @xmath300 with dual @xmath328 . therefore , if @xmath14 is a connective @xmath175-@xmath11-algebra , then @xmath481 in @xmath300 . because functors out of @xmath482 commutes with limits , @xmath60 is an @xmath11-linear category with hyperdescent .",
    "the important fact about @xmath473 that we need is that it satisfies tale hyperdescent itself .",
    "[ prop : catrstack ] the functor @xmath473 is an tale hyperstack on @xmath184 .",
    "lurie proves in  @xcite*theorem  7.5 that the prestack of @xmath11-linear categories satisfying flat hyperdescent is a flat hyperstack .",
    "the same proof works here .",
    "we consider notions of smoothness for maps @xmath483 of sheaves in @xmath92 .",
    "references for this material include  @xcite , @xcite , and @xcite .",
    "let @xmath483 be a map of sheaves .",
    "then , for any point @xmath484 and any connective @xmath14-module @xmath2 , the space of derivations @xmath485 is the fiber of the canonical map @xmath486 over the point corresponding to @xmath136 and the map @xmath487 , where the first map is induced by the map @xmath488 .",
    "if @xmath489 is a terminal object , write @xmath490 for @xmath491 .",
    "let @xmath483 be a map of sheaves .",
    "an object @xmath492 of @xmath458 is a relative cotangent complex for @xmath87 if there exist equivalences @xmath493 natural in @xmath136 and connective modules @xmath2 .",
    "when @xmath492 exists and is unique up to equivalence then we write @xmath494 and refer to this as _ the _ cotangent complex of @xmath87 .",
    "we will often abuse notation and write @xmath495 for @xmath494 when no confusion will result .",
    "when @xmath489 is a terminal object , we write @xmath496 in place of @xmath495 .",
    "note that if @xmath492 is a cotangent complex for @xmath87 , then the space of derivations @xmath497 is never empty . if @xmath14 is a ring spectrum , an @xmath14-module @xmath2 is almost connective if it is @xmath7-connective for some integer @xmath7 .",
    "if @xmath26 is a sheaf , an object @xmath2 of @xmath458 is almost connective , if its restriction to any @xmath498 is almost connective .    if @xmath483 has at least one cotangent complex @xmath492 that is almost connective , then all cotangent complexes are equivalent , so @xmath494 exists .",
    "suppose that @xmath492 and @xmath499 are two cotangent complexes for @xmath87 , and suppose that @xmath492 is almost connective .",
    "let @xmath498 be an @xmath14-point .",
    "we show that there is an equivalence @xmath500 , natural in @xmath136 .",
    "suppose that @xmath501 is connective .",
    "then , using the chain of equivalences @xmath502 we see there is a unique map @xmath500",
    "corresponding to the identity on @xmath503 , which does not depend on @xmath0 , and so is natural in @xmath136 .",
    "if there exists an integer @xmath7 such that @xmath504 is not an isomorphism , then @xmath505 is not an equivalence .",
    "so , @xmath506 is not an equivalence , which is a contradiction .",
    "thus , @xmath507 is an equivalence .",
    "monomorphisms of sheaves always have cotangent complexes , which vanish .",
    "[ lem : monocotan ] let @xmath508 be a monomorphism of sheaves . then , @xmath509 .",
    "suppose that @xmath498 is a point and that @xmath2 is an @xmath14-module , and consider the diagram @xmath510 & x(s)\\times_{y(s)}y(s\\oplus m )    \\ar[r]\\ar[d ] &                  y(s\\oplus m)\\ar[d]\\\\                  & x(s ) \\ar[r ] &                           y(s)},\\ ] ] in which the square is a pullback .",
    "the bottom horizontal arrow is a monomorphism .",
    "so , the map @xmath511 is mono .",
    "the composite @xmath512 is also mono .",
    "so , the map @xmath513 is mono , and hence the fibers are either empty or contractible .",
    "but , the space of derivations @xmath514 is the fiber over @xmath498 and @xmath515 , with the latter induced by the composition @xmath516 .",
    "it follows that the composite @xmath517 is in the fiber , so it is contractible .",
    "hence , @xmath72 corepresents derivations .    the following two lemmas can be proved with straightforward arguments using only the definition of the space of derivations .",
    "[ lem : cotansequence ] if @xmath508 is a map of sheaves , and if @xmath496 and @xmath518 exist , then there is a cofiber sequence @xmath519 in @xmath458 .",
    "in particular the cotangent complex of @xmath77 exists .",
    "[ lem : colimcotan ] let @xmath520 be a diagram of sheaves in @xmath521 indexed by a simplicial set @xmath522 , and let @xmath26 be the limit .",
    "suppose that the cotangent complex @xmath523 exists for each @xmath357 in @xmath522 , and write @xmath496 for the colimit of the diagram @xmath524 in @xmath458 .",
    "if @xmath496 is almost connective , then @xmath496 is a cotangent complex for @xmath26 .",
    "the inclusion functor @xmath525 induces a functor @xmath526 if @xmath14 is a connective commutative @xmath11-algebra , then @xmath527 .",
    "indeed , if @xmath16 is any @xmath0-truncated connective commutative @xmath11-algebra , then the natural map @xmath528 is an equivalence .",
    "[ lem : truncatedcots ] if @xmath508 is a morphism of sheaves with a cotangent complex @xmath529 such that @xmath530 is an equivalence , then @xmath531 .",
    "we sketch the proof .",
    "the proof is the same as for the affine case , the details of which can be found in  @xcite*lemma  8.4.3.17 .",
    "in fact , the natural map @xmath532 is an equivalence . to check this ,",
    "it is enough to map into an @xmath0-truncated @xmath27-module @xmath2 . by the universal property of the cotangent complex",
    ", we check that the morphism @xmath533 is an equivalence , which follows from the fact that @xmath534 is an equivalence , since @xmath535 is an equivalence by hypothesis .",
    "let @xmath11 be a commutative ring spectrum .",
    "then , the forgetful functor @xmath536 has a left adjoint @xmath537 if @xmath2 is an @xmath11-algebra , then @xmath538 is called the symmetric @xmath11-algebra on @xmath2 . for the existence of the functor @xmath539 ,",
    "see  @xcite*section  3.1.3 .",
    "we can compute the cotangent complexes of the affine schemes of these symmetric algebras , which provides the essential step in showing that all maps between connective affine schemes have cotangent complexes .",
    "[ lem : cotangent ] let @xmath2 be an almost connective @xmath11-module , and let @xmath540 .",
    "then the cotangent complex @xmath541 of @xmath542 exists and is equivalent to the @xmath14-module @xmath543 .",
    "see  @xcite*proposition  8.4.3.14 . for any @xmath14-module @xmath151",
    ", there is a sequence of equivalences @xmath544 thus , @xmath543 is an almost connective cotangent complex for @xmath15 , and therefore the unique cotangent complex .",
    "[ prop : affinecotan ] if @xmath186 is a map of connective commutative @xmath11-algebras , then @xmath545 exists and is connective .    indeed , we can write @xmath16 as a colimit @xmath546 of symmetric algebras @xmath547 so that @xmath548 is a limit of @xmath549 . by lemma  [ lem : colimcotan ] ,",
    "the cotangent complex @xmath550 is the colimit of the restrictions of @xmath551 to @xmath548 . by lemma  [ lem : cotangent ] , each @xmath551 is connective .",
    "since colimits of connective @xmath16-modules are connective , @xmath550 is connective .",
    "a map of connective commutative @xmath11-algebras @xmath552 is a nilpotent thickening if @xmath553 is surjective and if the kernel of @xmath554 is a nilpotent ideal .",
    "note that if @xmath14 is a connective commutative @xmath11-algebra , then the maps @xmath555 for @xmath556 in the postnikov tower of @xmath14 are nilpotent thickenings .",
    "a map of sheaves @xmath483 is formally smooth if for every nilpotent thickening @xmath557 the induced map @xmath558 is surjective ( that is , surjective on @xmath198 ) .",
    "we say @xmath483 is formally tale if the maps in   are isomorphisms on @xmath198 .",
    "we need the following non - trivial proposition from  @xcite .",
    "[ prop : smoothprojective ] if @xmath14 and @xmath16 are connective commutative @xmath11-algebras , then a map @xmath185 is formally smooth if and only if @xmath545 is a projective @xmath16-module .    to consider the stronger notion of smoothness , we need to consider the notion of compactness for commutative algebras , and we will need to know later that this notion agrees with the usual notion of finite presentation for ordinary commutative rings .",
    "a map @xmath186 of connective commutative ring spectra is locally of finite presentation if @xmath16 is a compact object of @xmath559  @xcite*definition  8.2.5.26 .    if @xmath16 is a connective commutative @xmath14-algebra that is compact in @xmath559 , then it is compact in @xmath560 .",
    "since truncation preserves compact objects by  @xcite*corollary  5.5.7.4(iii ) , it follows that @xmath561 is compact in @xmath562 .",
    "[ lem : lfp ] let @xmath11 be a discrete commutative ring , and let @xmath14 be a discrete commutative @xmath11-algebra .",
    "then , @xmath14 is compact as a discrete commutative @xmath11-algebra if and only if @xmath14 is finitely presented .",
    "suppose that @xmath14 is finitely presented , so it can be written as a quotient @xmath563/i$ ] , where @xmath26 is a finite set , and @xmath522 is a finitely generated ideal .",
    "we can write @xmath14 as the pushout @xmath564\\\\                  @vvv                 @vvv\\\\                  r            @ > > >     s              \\end{cd}\\ ] ] of @xmath11-algebras .",
    "but , this means that if @xmath565\\rightarrow\\operatorname{sym}_r i$ ] exhibits @xmath566 as a finitely generated @xmath11-algebra , the following square is also a pushout square : @xmath567     @ > > >     r[x]\\\\                  @vvv                 @vvv\\\\                  r            @ > > >     s.              \\end{cd}\\ ] ] since @xmath565 $ ] , @xmath563 $ ] , and @xmath11 are compact , it follows that @xmath14 is compact as well .",
    "now , suppose that @xmath14 is a compact ( discrete ) commutative @xmath11-algebra .",
    "then , @xmath14 is a retract of a finitely presented commutative @xmath11-algebra @xmath563/i$ ] .",
    "indeed , we can write @xmath14 as a filtered colimit of finitely presented commutative @xmath11-algebras ; by compactness , the identity map on @xmath14 factors through a finite stage . it suffices to show that the kernel of @xmath563/i\\rightarrow s$ ] is finitely generated .",
    "we proceed by noetherian induction .",
    "let @xmath568 be the composition @xmath569/i\\rightarrow s\\rightarrow r[x]/i.\\ ] ] we may write @xmath570 , an ideal generated by @xmath7 polynomials in @xmath26",
    ". let @xmath571 be the subring of @xmath11 generated over @xmath4 by the coefficients appearing in the @xmath572 and in the polynomials @xmath573 for @xmath574 .",
    "this is a finitely generated commutative @xmath4-algebra , so it is in particular noetherian . by our choice of @xmath571",
    ", we can define an ideal @xmath575 of @xmath576 $ ] generated by the same polynomials .",
    "moreover , @xmath568 defines a morphism @xmath577/i_0\\rightarrow          r_0[x]/i_0 $ ] .",
    "let @xmath578 be the image of @xmath579 , which is a subring of @xmath576/i_0 $ ] .",
    "there is an exact sequence of @xmath571-modules @xmath580/i_0\\rightarrow s_0\\rightarrow 0.\\ ] ] since @xmath578 is finitely generated and @xmath576/i_0 $ ] is noetherian , it follows that @xmath578 is finitely presented , and that @xmath581 is finitely generated . tensoring with @xmath11 over @xmath571 , we obtain an exact sequence @xmath582/i\\rightarrow s\\rightarrow 0.\\ ] ] the kernel @xmath581 is finitely generated , and it surjects onto the kernel @xmath583 of @xmath563/i\\rightarrow s$ ] .",
    "it follows that @xmath583 is finitely generated , and hence that @xmath14 is finitely presented .",
    "the previous lemma implies that the next definition agrees with the usual definition of smooth maps between ordinary affine schemes .",
    "[ def : smooth ] a map @xmath185 is smooth if it is formally smooth and @xmath584 is locally of finite presentation .    at first glance , the condition that @xmath185 is surjective in the next lemma might seem strange .",
    "but , we will show in theorem  [ thm : lifts ] that this is satisfied if @xmath185 is smooth , and if the map @xmath187 is a surjective map of ordinary schemes .",
    "[ lem:2o3lfp ] let @xmath585 be maps of connective commutative algebras . if @xmath16 is locally of finite presentation over @xmath11 and over @xmath14 , and if @xmath185 is a surjective map in @xmath92 , then @xmath14 is locally of finite presentation over @xmath11 .",
    "first , the maps @xmath586 satisfy the same hypotheses by lemma  [ lem : lfp ] .",
    "thus , by  @xcite*proposition i.1.4.3(v ) , @xmath587 is a @xmath237-algebra that is locally of finite presentation .",
    "now , by  @xcite*theorem  8.4.3.18 , it is enough to show that @xmath588 is a perfect @xmath14-module .",
    "there is a fiber sequence @xmath589 of cotangent complexes .",
    "again , by  @xcite*theorem  8.4.3.18 , @xmath550 and @xmath590 are perfect since @xmath591 and @xmath186 are locally of finite presentation .",
    "it follows that @xmath592 is perfect .",
    "since @xmath185 is surjective in @xmath92 , there are tale local sections .",
    "thus , there is a faithfully flat tale @xmath14-algebra @xmath149 and maps @xmath593 .",
    "since @xmath592 is perfect , the @xmath448-module @xmath594 is perfect .",
    "but , by faithfully flat descent , it follows that @xmath595 is perfect ( to see this , one can either refer forward to lemma  [ lem : stm ] , or use the fact that an @xmath14-module is perfect if and only if it is dualizable and the fact that dualizability data can be constructed tale locally by example  [ ex : moddescent ] ) .    the following example will be used later in the paper .",
    "[ ex : gln ] the sheaf of @xmath11-module endomorphisms of @xmath596 is representable by an affine monoid scheme @xmath597 , where @xmath598 given a commutative @xmath11-algebra @xmath14 , an element of @xmath599 is a commutative @xmath11-algebra map @xmath600 but these are equivalent to the @xmath11-module maps @xmath601 which by adjunction is the @xmath14-module @xmath602 since the space of @xmath14-module endomorphisms of @xmath603 has a natural monoid structure , this shows that @xmath597 is a monoid scheme .",
    "we can invert the determinant element of @xmath604 , so the sheaf of @xmath14-module automorphisms of @xmath603 is representable by an affine group scheme @xmath605 . because the cotangent complex of @xmath597 at an @xmath14-point is @xmath606 , which is a projective @xmath14-module , the affine schemes @xmath597 and @xmath605 are smooth over @xmath11 .",
    "let @xmath11 be a connective commutative ring spectrum .",
    "the goal of this section is to study certain geometric classes of sheaves in @xmath92 built inductively from the representable sheaves by forming smooth quotients .",
    "the notions of @xmath0-stack here have been studied extensively by simpson  @xcite , ton and vezzosi  @xcite , and lurie  @xcite , and we base our approach on theirs .",
    "we define @xmath0-geometric morphisms and smooth @xmath0-geometric morphisms inductively as follows .    *",
    "a morphism @xmath508 in @xmath92 is @xmath72-geometric if for any @xmath607 , the fiber product @xmath608 is equivalent to @xmath609 for some connective commutative @xmath11-algebras @xmath610 . *",
    "a @xmath72-geometric morphism @xmath77 is smooth if @xmath611 is smooth for all @xmath607 . to be clear , if @xmath612 , then this means that each morphism @xmath613 is smooth in the sense of definition  [ def : smooth ] . *",
    "a morphism @xmath277 in @xmath92 is @xmath0-geometric if for any @xmath607 , there is a smooth surjective @xmath614-geometric morphism @xmath615 where @xmath448 is a disjoint union of affines . *",
    "an @xmath0-geometric morphism @xmath508 is smooth if for every @xmath607 we may take the above map @xmath615 such that the composition @xmath616 is a smooth @xmath72-geometric morphism .",
    "we say that an @xmath0-geometric morphism @xmath277 is an @xmath0-submersion if it is smooth and surjective .",
    "if , moreover , @xmath26 is a disjoint sum of representables , then we call such a morphism an @xmath0-atlas . a @xmath21-geometric sheaf with a zariski atlas is a derived scheme .",
    "what this means is that a @xmath21-geometric sheaf @xmath26 has an atlas @xmath617 which is a @xmath72-geometric morphism , and , for every point @xmath618 , the pullback @xmath619 is zariski open .",
    "similarly , a @xmath21-geometric sheaf with an tale atlas is a deligne - mumford stack .",
    "any @xmath72-geometric sheaf @xmath26 is a disjoint union of sheaves @xmath620 , where the @xmath621 are connective commutative @xmath11-algebras . if @xmath522 is _ finite _ , then we call the sheaf representable . in this case @xmath622 .",
    "a @xmath72-geometric sheaf is quasi - compact if it is representable , and a @xmath72-geometric morphism @xmath623 is quasi - compact if , for all @xmath624 , the pullback @xmath625 is representable .",
    "inductively , an @xmath0-geometric sheaf @xmath26 if quasi - compact if there exists an @xmath614-geometric quasi - compact submersion of the form @xmath626 , and an @xmath0-geometric morphism @xmath623 is quasi - compact if for each map @xmath624 , the fiber @xmath625 is a quasi - compact @xmath0-geometric sheaf .",
    "finally , an @xmath0-geometric morphism @xmath623 is quasi - separated if the diagonal @xmath627 is quasi - compact .",
    "[ def : ngeometricprops ] an @xmath0-geometric sheaf @xmath26 is locally of finite presentation over @xmath81 if it has an @xmath614-atlas @xmath628 such that each @xmath621 is a connective commutative @xmath11-algebra that is locally of finite presentation . an @xmath0-geometric morphism @xmath277 is locally of finite presentation if for every @xmath14-point of @xmath278 , @xmath625 is locally of finite presentation over @xmath15 . by definition ,",
    "a smooth @xmath0-geometric morphism is locally of finite presentation .",
    "we need not only @xmath0-geometric sheaves , but it is also important to have a good theory of sheaves that are only locally geometric .",
    "a sheaf @xmath629 is locally geometric if it can be written as a filtered colimit @xmath630 where each sheaf @xmath370 is @xmath631-geometric for some @xmath631 and where the maps @xmath632 are monomorphisms .",
    "if we can furthermore take the @xmath370 to be locally of finite presentation , we say that @xmath26 is locally geometric and locally of finite presentation .",
    "a morphism @xmath508 is locally geometric ( locally of finite presentation ) if for every @xmath607 , the pullback @xmath625 is locally geometric ( locally of finite presentation ) over @xmath15 .",
    "we say that a locally geometric morphism @xmath277 which is locally of finite presentation is smooth if for every @xmath607 , the pullback @xmath633 has a cotangent complex of tor - amplitude contained in @xmath634 $ ] for some non - negative integer @xmath0 ( depending on @xmath14 ) .",
    "note the following easy but important facts .",
    "[ lem : fibersngeometric ] if @xmath635 is an @xmath0-geometric morphism ( resp .",
    "smooth @xmath0-geometric morphism ) , and if @xmath636 is any morphism , then the pullback @xmath637 is @xmath0-geometric ( resp . @xmath0-geometric and smooth ) .",
    "[ lem : fiberwise ] a morphism @xmath508 is @xmath0-geometric if and only if for every map @xmath607 , the morphism @xmath633 is @xmath0-geometric",
    ".    the following lemma can be found in  @xcite .",
    "we include a proof for the reader s convenience .",
    "[ lem : lurie ] suppose that @xmath638 are composable morphisms of sheaves .    1 .   if @xmath77 and @xmath639 are @xmath0-geometric ( resp .",
    "smooth and @xmath0-geometric ) , then @xmath640 is @xmath0-geometric ( resp .",
    "smooth and @xmath0-geometric ) .",
    "if @xmath77 is an @xmath0-submersion and @xmath640 is @xmath641-geometric , then @xmath639 is @xmath641-geometric .",
    "if @xmath640 is @xmath0-geometric and @xmath639 is @xmath641-geometric , then @xmath77 is @xmath0-geometric .",
    "we prove ( 1 ) by induction on @xmath0 . using lemma  [ lem : fiberwise ]",
    ", it suffices to suppose that @xmath642 is representable .",
    "assume that @xmath643 .",
    "then , the fact that @xmath639 is @xmath72-geometric implies that @xmath278 is representable , and the fact that @xmath77 is @xmath72-geometric then implies that @xmath642 is representable .",
    "evidently any morphism of representables is @xmath72-representable , and compositions of smooth morphisms of representables are smooth .",
    "now assume the statement ( 1 ) for @xmath614-geometric morphisms .",
    "since we assume that @xmath642 is representable , it suffices to find an @xmath614-submersion @xmath644 where @xmath448 is a disjoint union of representables .",
    "since @xmath639 is @xmath0-representable , there is an @xmath614-submersion @xmath645 where @xmath288 is a sum of representables . constructing the pullback @xmath646 , we know by the @xmath0-geometricity of @xmath77 and the formal representability of @xmath288 that there is an @xmath614-submersion @xmath647 with @xmath448 a sum of representables .",
    "this is summarized in the diagram    \\(m ) [ matrix of math nodes , row sep=3em , column sep=2.5em , text height=1.5ex , text depth=0.25ex ] u & x_y v & v & + & x & y & z + ; ( m-1 - 1 ) edge node[auto ] @xmath648 ( m-1 - 2 ) ( m-1 - 2 ) edge node[above ] @xmath649 ( m-1 - 3 ) ( m-1 - 2 ) edge node[left ] @xmath648 ( m-2 - 2 ) ( m-1 - 3 ) edge node[right ] @xmath648 ( m-2 - 3 ) ( m-2 - 3 ) edge node[below ] @xmath650 ( m-2 - 4 ) ( m-2 - 2 ) edge node[below ] @xmath651 ( m-2 - 3 ) ;    .    since , by the induction hypothesis , composition of @xmath614-submersions are @xmath614-submersions , the inductive step follows .",
    "to prove ( 2 ) , it is again enough to assume that @xmath642 is representable .",
    "then , there is an @xmath0-atlas @xmath652 since @xmath653 is @xmath641-geometric .",
    "since @xmath77 is an @xmath0-submersion , the composition @xmath654 is an @xmath0-atlas by part ( 1 ) .",
    "hence , @xmath639 is @xmath641-geometric .    to prove ( 3 ) ,",
    "suppose that @xmath655 is a point of @xmath278 .",
    "consider the diagram    \\(m ) [ matrix of math nodes , row sep=3em , column sep=2.5em , text height=1.5ex , text depth=0.25ex ] & x_y s & s & v + u & x_zs & y_zs & s + & x & y & z + ; ( m-1 - 2 ) edge node[auto ] @xmath649 ( m-1 - 3 ) ( m-1 - 2 ) edge node[left ] @xmath649 ( m-2 - 2 ) ( m-1 - 3 ) edge node[right ] @xmath649 ( m-2 - 3 ) ( m-2 - 3 ) edge node[below ] @xmath656 ( m-2 - 4 ) ( m-2 - 2 ) edge node[below ] @xmath656 ( m-2 - 3 ) ( m-2 - 2 ) edge node [ ] @xmath649 ( m-3 - 2 ) ( m-2 - 3 ) edge node [ ] @xmath649 ( m-3 - 3 ) ( m-2 - 1 ) edge node[below ] @xmath657 ( m-2 - 2 ) ( m-1 - 4 ) edge node[auto ] @xmath658 ( m-2 - 3 ) ( m-2 - 1 ) edge[dashed ] node [ ] @xmath649 ( m-1 - 4 ) ( m-2 - 4 ) edge node[right ] @xmath659 ( m-3 - 4 ) ( m-2 - 4 ) edge node[auto ] @xmath660 ( m-3 - 3 ) ( m-3 - 2 ) edge node[below ] @xmath651 ( m-3 - 3 ) ( m-3 - 3 ) edge node[below ] @xmath650 ( m-3 - 4 ) ;    ,    where the squares are all pullback squares , @xmath661 is an @xmath614-atlas ( or the identity map if @xmath643 ) and @xmath662 is an @xmath0-atlas .",
    "since @xmath662 is surjective , up to refining @xmath448 , we may assume that the composite @xmath663 factors through @xmath288 .",
    "the map @xmath664 is thus @xmath72-geometric . by part ( 1 )",
    ", the map @xmath665 is @xmath0-geometric . by part ( 2 )",
    ", it follows that @xmath666 is @xmath0-geometric .",
    "therefore , @xmath633 is @xmath0-geometric , and we conclude by lemma  [ lem : fiberwise ] that @xmath77 is @xmath0-geometric .    [ rem : quasicompact ] the previous lemma goes through as stated with the additional assumptions and conclusions of quasi - compactness .",
    "[ lem : atlaseslfp ] suppose that @xmath26 is an @xmath0-geometric sheaf that is locally of finite presentation .",
    "if @xmath667 is _ any _ atlas , then each @xmath610 is locally of finitely presentation over @xmath11 .",
    "let @xmath668 be an atlas where each @xmath621 is locally of finite presentation over @xmath11 . since @xmath669 is a surjection of sheaves , we may assume , possibly by refining @xmath448 , that there is a factorization of @xmath87 as @xmath670 .",
    "now , consider the fiber - product @xmath671 , which is a smooth @xmath614-geometric sheaf over either @xmath448 or @xmath288 .",
    "let @xmath672 be an atlas .",
    "since @xmath673 is surjective , we may arrange indices so that the composition @xmath674 is a coproduct of smooth surjections of the form @xmath675 .",
    "assume also that in the map @xmath664 we have @xmath676 .",
    "then , there is a composition of commutative ring maps @xmath677 .",
    "the composite is locally of finite presentation since it is smooth , the map @xmath678 is locally of finite presentation for the same reason , and by construction the map @xmath675 is surjective .",
    "thus , the conditions of lemma  [ lem:2o3lfp ] are satisfied .",
    "it follows that @xmath610 is locally of finite presentation over @xmath621 .",
    "since @xmath621 is locally of finite presentation over @xmath11 , it follows that @xmath610 is locally of finite presentation over @xmath11 .",
    "now we prove an analogue of  @xcite*principle  5.3.5 .",
    "[ lem : screwing ] suppose that @xmath679 is a property of sheaves .",
    "suppose that every disjoint union of affines has property @xmath679 , and suppose that whenever @xmath644 is a surjective morphism of sheaves such that @xmath680 has property @xmath679 for all @xmath241 , then @xmath26 has property @xmath679 . then , all @xmath0-geometric sheaves have property @xmath679 .",
    "let @xmath26 be an @xmath0-geometric sheaf .",
    "then , there exists a smooth @xmath614-geometric surjection @xmath644 , where @xmath448 is a disjoint union of affines .",
    "each product @xmath681 is @xmath614-geometric .",
    "so , it suffices to observe that the statement follows by induction .",
    "[ lem : stacksdescent ] let @xmath277 be a surjection of sheaves .",
    "suppose that @xmath26 and @xmath682 are @xmath0-geometric stacks and that the projections @xmath683 are @xmath0-geometric and smooth .",
    "then , @xmath278 is an @xmath641-geometric stack . if , in addition , @xmath26 is quasi - compact and @xmath277 is a quasi - compact morphism , then @xmath278 is quasi - compact . finally , if @xmath26 is locally of finite presentation , then so is @xmath278 .",
    "let @xmath628 be an atlas for @xmath26 .",
    "for any @xmath357 and @xmath684 , we have a diagram of pullbacks @xmath685 we will show that the composite @xmath686 is an @xmath0-submersion .",
    "the surjectivity follows by hypothesis . to check that @xmath687 is smooth and @xmath0-geometric , it is enough to check on the fiber of @xmath688 for all @xmath684 .",
    "since @xmath689 and @xmath690 are smooth and @xmath0-geometric , it follows that @xmath691 and @xmath692 are smooth and @xmath0-geometric .",
    "therefore , the composite is as well , which completes the proof of the first statement . to prove the second statement , note that we can take @xmath693 to be a finite disjoint union , since @xmath26 is quasi - compact .",
    "then , since @xmath694 and @xmath277 are quasi - compact , it follows that the composition is quasi - compact by remark  [ rem : quasicompact ] .",
    "the third statement is immediate , since @xmath693 can be chosen so that each @xmath621 is locally of finite presentation .",
    "[ lem : the ] suppose that @xmath695 is a morphism of sheaves where @xmath26 is an @xmath0-geometric sheaf and the diagonal @xmath696 is @xmath0-geometric .",
    "then , @xmath77 is @xmath0-geometric .",
    "moreover , if @xmath77 is smooth and surjective , then @xmath278 is an @xmath641-geometric stack .",
    "since @xmath26 is @xmath0-geometric , there is an @xmath614-submersion @xmath697 .",
    "suppose that @xmath698 is arbitrary .",
    "form the fiber products @xmath699 and @xmath700 , and note that the map @xmath701 is an @xmath614-submersion .",
    "the map @xmath702 is @xmath0-geometric because it is the pullback of @xmath703 along the diagonal map @xmath704 .",
    "therefore @xmath700 admits an @xmath614-submersion from a disjoint union of affines @xmath705 .",
    "we obtain the following diagram    \\(m ) [ matrix of math nodes , row sep=3em , column sep=2.5em , text height=1.5ex , text depth=0.25ex ] u_ij & t_i_y & x_ys & s + t_i_r s & t_i & x & y + ; ( m-1 - 1 ) edge node[auto ] @xmath706 ( m-1 - 2 ) ( m-1 - 2 ) edge node[above ] @xmath707 ( m-1 - 3 ) ( m-1 - 3 ) edge node[below left ] @xmath656 ( m-1 - 4 ) ( m-1 - 2 ) edge node[left ] @xmath708 ( m-2 - 1 ) ( m-1 - 2 ) edge node [ ] @xmath649 ( m-2 - 2 ) ( m-1 - 3 ) edge node [ ] @xmath649 ( m-2 - 3 ) ( m-1 - 4 ) edge node [ ] @xmath649 ( m-2 - 4 ) ( m-2 - 2 ) edge node[below ] @xmath707 ( m-2 - 3 ) ( m-2 - 3 ) edge node[above ] @xmath651 ( m-2 - 4 ) ;    .    by lemma  [ lem :",
    "lurie ] , the composition of the top two horizontal maps is also an @xmath614-submersion from a disjoint union of affines , establishing that @xmath77 is @xmath0-geometric .",
    "the second claim is clear .",
    "[ lem : loops ] if @xmath26 is @xmath0-geometric , and if @xmath709 is a point of @xmath26 , then @xmath710 is an @xmath614-geometric morphism .",
    "the projection @xmath711 induced by choosing a point in the @xmath712-sphere is an @xmath713-geometric map .",
    "we use the equivalent description of @xmath714 as the pullback in the diagram @xmath715 since the diagonal of @xmath26 is @xmath614-geometric , it follows that the composite @xmath716 is also @xmath614-geometric . to prove the second statement",
    ", it suffices to note that the fiber of the projection map over a point @xmath709 is the @xmath712-fold iterated loop space @xmath717 .",
    "so , this follows from the first part of the lemma .",
    "[ ex : ngroups ] if @xmath718 is a smooth @xmath0-geometric stack of groups ( _ i.e. _ , grouplike @xmath719-spaces ) , then @xmath720 is a pointed smooth @xmath641-geometric stack .",
    "indeed , the loop space of @xmath720 at the canonical point is just @xmath718 .",
    "therefore , the point @xmath721 is an @xmath0-submersion .",
    "using lemma  [ lem : lurie ] part ( 2 ) , the claim follows .    for the next two lemmas , fix a base sheaf @xmath642 in @xmath92 , and consider the @xmath18-topos @xmath722 of objects over @xmath642 .",
    "let @xmath723 be the full subcategory of @xmath722 consisting of the @xmath0-geometric morphisms @xmath636 .",
    "[ lem : limitsnstacks ] the full subcategory @xmath723 of @xmath722 is closed under finite limits in @xmath722 .    as @xmath723 has a terminal object which agrees with the terminal object of @xmath722 , it is enough to check the case of pullbacks .",
    "suppose that @xmath277 and @xmath724 are two morphisms in @xmath723 . in order to check",
    "that @xmath725 is in @xmath723 it suffices to check that @xmath726 is in @xmath727 since @xmath636 is @xmath0-geometric .",
    "moreover , we can obviously reduce to the case that @xmath728 is representable .",
    "then , @xmath26 and @xmath729 are @xmath0-geometric stacks over @xmath14 .",
    "taking an @xmath0-atlas @xmath644 and an @xmath0-atlas @xmath730 , the fiber product @xmath731 is an @xmath0-atlas for @xmath725 by using the stability of geometricity and smoothness under pullbacks .",
    "[ lem : limits0 ] the full subcategory of @xmath722 consisting of quasi - compact @xmath72-geometric sheaves over @xmath642 is closed under _ all _ limits in @xmath722 .",
    "it suffices to note that arbitrary limits of representables are representable , since the @xmath18-category  of connective commutative @xmath11-algebras has all colimits .",
    "[ lem : nlimits ] a finite limit of @xmath0-geometric morphisms ( locally of finite presentation ) is @xmath0-geometric ( and locally of finite presentation ) .",
    "the proof is by induction on @xmath0 .",
    "the base case @xmath643 simply follows because finite limits of representable sheaves are representable , and finite limits distribute over coproducts .",
    "suppose the lemma is true for @xmath7-geometric sheaves for all @xmath732 , and let @xmath733 be a finite diagram of @xmath0-geometric morphisms ( locally of finite presentation ) .",
    "let @xmath508 be the limit .",
    "let @xmath607 be an @xmath14-point .",
    "then , we may construct an atlas for the pullback @xmath625 as the ( finite ) limit of a compatible family of atlases for the pullbacks @xmath734 .",
    "the morphism from this atlas to @xmath625 is @xmath614-geometric by the inductive hypothesis .",
    "it is also clear that it is a submersion .",
    "if the maps are locally of finite presentation , then the atlases over each @xmath734 may be chosen to be locally of finite presentation , and hence their ( finite ) limit is again locally of finite presentation .    [",
    "lem : cosimplicial ] let @xmath735 be a cosimplicial diagram of quasi - separated @xmath0-geometric sheaves over @xmath642 . then",
    ", the limit @xmath736 is @xmath0-geometric over @xmath642 .    by @xcite*proposition vii.1.7 , there is push - out diagram for any @xmath712 @xmath737 of cosimplicial spaces .",
    "given @xmath738 we obtain a pullback diagram of sheaves @xmath739 by lemma  [ lem : loops ] , the map @xmath740 is @xmath741-geometric .",
    "since @xmath742 is @xmath0-geometric , lemma  [ lem : lurie ] part ( 3 ) implies that the left - hand vertical maps above are @xmath743-geometric .",
    "thus , if @xmath744 , we see that the left - hand vertical maps above are @xmath72-geometric .",
    "moreover , by hypothesis , each diagonal @xmath745 is quasi - compact , so , pulling back , we see that each of the maps @xmath746 is quasi - compact , so the composite @xmath747 and the section @xmath748 are as well by remark  [ rem : quasicompact ] . we conclude that the left - hand vertical map is @xmath72-geometric and quasi - compact .",
    "as we have equivalences @xmath749 we see that @xmath750 is a limit of quasi - compact @xmath72-geometric morphisms over @xmath751 , which , as as a finite limit of @xmath0-geometric sheaves over @xmath642 , is @xmath0-geometric over @xmath642 .",
    "hence , by lemma  [ lem : limits0 ] , the limit is @xmath0-geometric .",
    "[ prop : retractsnstacks ] if @xmath278 is a retract of a sheaf @xmath26 over @xmath642 , and if @xmath26 is quasi - separated and @xmath0-geometric over @xmath642 , then @xmath278 is @xmath0-geometric over @xmath642 .",
    "we refer to @xcite*section  4.4.5 for details about retracts in @xmath18-categories  .",
    "in particular , any retract in @xmath722 is given as the limit of a diagram @xmath752 , where @xmath753 is an @xmath18-category  with only one object @xmath754 and with finitely many simplices in each degree .",
    "let @xmath755 .",
    "it follows that the cosimplicial replacement ( see @xcite*xi 5.1 ) of @xmath87 is a cosimplicial sheaf @xmath738 which in degree @xmath7 is a finite product of copies of @xmath26 .",
    "thus , if @xmath87 takes values in quasi - separated @xmath0-geometric sheaves over @xmath642 , then each @xmath756 is still quasi - separated and @xmath0-geometric . by lemma  [ lem : cosimplicial ] ,",
    "the retract of @xmath26 classified by @xmath757 is @xmath0-geometric .",
    "[ lem : retractslfpnstacks ] if @xmath26 is a quasi - separated @xmath0-geometric sheaf that is locally of finite presentation , and if @xmath278 is a retract of @xmath26 , then @xmath278 is locally of finite presentation .    by the previous lemma",
    ", @xmath278 is itself @xmath0-geometric .",
    "let @xmath758 be an atlas , and let @xmath759 be an atlas for the fiber product .",
    "since the composition @xmath760 is an @xmath614-geometric submersion , it follows that @xmath288 is an atlas for @xmath26 . by lemma  [ lem : atlaseslfp ] , each @xmath621 is locally of finite presentation over @xmath11 . taking the pullback of @xmath761 over @xmath762 , we get @xmath763 , since @xmath764 is the identity . possibly by refining @xmath448",
    ", we can assume that @xmath763 factors through the surjection @xmath765 .",
    "we thus have shown that each @xmath610 is a retract of @xmath766 for some @xmath684 .",
    "since @xmath766 is locally of finite presentation over @xmath11 , it follows that @xmath610 is as well .",
    "we now prove in two lemmas that images of smooth @xmath0-geometric morphisms are zariski open .",
    "this is a generalization of the fact that images of smooth maps of schemes are zariski open .",
    "restricting a sheaf in @xmath92 to discrete connective commutative rings induces a geometric morphism of @xmath18-topoi @xmath767 .",
    "note that @xmath768 is equivalent to @xmath769 .",
    "[ lem : truncationsubobjects ] let @xmath14 be a connective commutative @xmath11-algebra . then , a subobject @xmath642 of @xmath15 is zariski open if and only if @xmath770 is zariski open in @xmath769 .",
    "the necessity is trivial .",
    "so , suppose that @xmath770 is zariski open .",
    "because @xmath771 admits a left adjoint , we see that @xmath771 preserves @xmath772-truncated objects and finite limits . thus , @xmath771 preserves subobjects , so @xmath770 is a subobject of @xmath769 .",
    "let @xmath199 be the set of @xmath773 such that @xmath774\\rightarrow\\operatorname{spec}s$ ] factors through @xmath642 .",
    "note that @xmath775 if and only if @xmath776\\rightarrow\\operatorname{spec}\\pi_0s$ ] factors through @xmath770 . by construction",
    ", there is a monomorphism over @xmath15 @xmath777\\rightarrow z.\\ ] ] since @xmath770 is zariski open , it follows that @xmath778 .",
    "the counit map of the adjunction @xmath779 gives a map @xmath780 .",
    "now , we can recover @xmath729 from @xmath781 as the pullback @xmath782 indeed , since @xmath729 is open , it is a union of @xmath783 $ ] .",
    "this is clear when @xmath729 is a basic open @xmath774 $ ] , and the general case follows from the fact that @xmath771 induces an equivalence between the small zariski site of @xmath15 and ( the nerve of ) the small zariski site of @xmath784 .",
    "thus , there are maps @xmath785 and @xmath786 over @xmath15 .",
    "since @xmath729 and @xmath642 are subobjects of @xmath15 , it follows that they are equivalent .",
    "thus , @xmath642 is zariski open .",
    "the image of a map @xmath508 of sheaves is defined as the epi - mono factorization @xmath787 . in particular , the morphism @xmath788 is a monomorphism .",
    "[ lem : smoothimages ] let @xmath508 be a smooth @xmath0-geometric morphism . then",
    ", the map @xmath789 is a zariski open immersion .",
    "we may assume without loss of generality that @xmath790 for some connective commutative @xmath11-algebra @xmath14 .",
    "then , by hypothesis , there is a smooth @xmath614-geometric chart @xmath791 such that the compositions @xmath792 are smooth , and thus have cotangent complexes @xmath793 which are projective . by  @xcite*proposition  8.4.3.9",
    ", @xmath794 is the cotangent complex of @xmath795 , and it is projective . since @xmath796 is locally of finite presentation , by lemma  [ lem : lfp ] , @xmath797 is locally of finite presentation , and hence smooth .",
    "since smooth morphisms of discrete schemes are flat by  @xcite*theorem 17.5.1 , the image of @xmath797 has an open image in @xmath769 . by the previous lemma",
    ", it follows that the image of @xmath796 in @xmath15 is open .      in this section , we show that @xmath0-geometric morphisms have cotangent complexes , and we give a criterion for an @xmath0-geometric morphism to be smooth in terms of formal smoothness and the cotangent complex .",
    "let @xmath14 be a connective commutative @xmath11-algebra , and let @xmath2 be a connective @xmath14-module .",
    "then , a small extension of @xmath14 by @xmath2 over @xmath11 is a connective commutative @xmath11-algebra @xmath798 together with an @xmath11-algebra section @xmath799 of @xmath800 such that @xmath798 is equivalent to the pullback @xmath801 the @xmath18-category of small extensions @xmath802 is the full subcategory of @xmath803 spanned by small extensions of @xmath14 over @xmath11 .    there is a natural equivalence @xmath804 .",
    "the composite @xmath805 is given by taking the cofiber @xmath806 of @xmath557 .",
    "by adjunction , the space of @xmath11-algebra sections of @xmath800 is equivalent to the space of @xmath14-module maps @xmath807 .",
    "the previous lemma allows to compute the cotangent complex of a small extension .",
    "[ lem : cotansmall ] let @xmath557 be a small extension of @xmath14 by @xmath2 . then",
    ", the cotangent complex @xmath808 of @xmath809 is naturally equivalent to @xmath806 .    by the previous lemma",
    ", it suffices to show that @xmath798 is an initial object of @xmath810 .",
    "but , it is easy to check that @xmath798 is a small extension of @xmath14 over @xmath798 , and as @xmath557 is the initial object of @xmath811 , it follows that it is an initial object of @xmath810 .",
    "a sheaf @xmath26 is infinitesimally cohesive if for all @xmath11-algebras @xmath14 and all small extensions @xmath812 of @xmath14 by an @xmath14-module @xmath2 the natural map @xmath813 is an equivalence .",
    "[ lem : lifting ] let @xmath26 be an infinitesimally cohesive sheaf with a cotangent complex @xmath496 , let @xmath814 be a point , and let @xmath815 be a small extension of @xmath14 by @xmath2 classified by a class @xmath816 .",
    "then , @xmath817 extends to @xmath818 if and only if the image of @xmath136 vanishes under the map @xmath819 induced by @xmath820 .",
    "since @xmath26 is infinitesimally cohesive , there is a cartesian square @xmath821 where @xmath822 and @xmath823 are the fibers of @xmath824 and @xmath825 over @xmath817 , and @xmath39 is induced by @xmath826 . by definition of the cotangent complex , @xmath827 .",
    "so , @xmath822 is non - empty if and only if the point @xmath39 of @xmath828 is @xmath72 .",
    "but , @xmath799 is classified by @xmath136 , so that @xmath39 is the image of @xmath136 in @xmath828 , as claimed .",
    "a sheaf @xmath26 is nilcomplete if for any connective commutative @xmath11-algebra @xmath14 the canonical map @xmath829 is an equivalence .",
    "if @xmath16 is any commutative @xmath11-algebra , then @xmath830 is nilcomplete . indeed ,",
    "if @xmath14 is a connective commutative @xmath11-algebra , then @xmath831 a map of sheaves @xmath483 is nilcomplete if for all connective commutative @xmath11-algebras @xmath14 and all @xmath14-points of @xmath278 the fiber product @xmath625 is nilcomplete .",
    "[ rem : smallsite ] suppose that @xmath832 is a limit diagram of connective commutative @xmath11-algebras such that each map @xmath833 induces an isomorphism on @xmath198 . in this case , the underlying small tale @xmath18-topoi of @xmath14 and each @xmath834 are equivalent .",
    "given a sheaf @xmath26 in @xmath92 , let @xmath835 ( resp .",
    "@xmath836 ) denote the restriction of @xmath26 to the small tale site of @xmath14 .",
    "thus , for instance , the space of global sections @xmath837 is equivalent to @xmath838 . in order for @xmath839 to be an equivalence",
    ", it suffices to show that @xmath835 is equivalent to @xmath840 .    as we now show , all @xmath0-geometric morphisms have cotangent complexes , and we use this to show that the property of smoothness for @xmath0-geometric morphisms can be detected via a tor - amplitude condition on the cotangent complex .",
    "the proof of the next proposition is a mix of several proofs in  @xcite , particularly those of propositions 5.1.5 and 5.3.7 .",
    "[ prop : smoothperfect ] an @xmath0-geometric morphism @xmath508 is infinitesimally cohesive , nilcomplete , and has a @xmath841-connective cotangent complex @xmath842 . if @xmath77 is smooth , then @xmath529 is perfect of tor - amplitude contained in @xmath634 $ ] . finally , if @xmath77 is smooth , then it is formally smooth",
    ".    we prove the proposition by induction on @xmath0 .",
    "we may assume moreover that @xmath790 , and prove the statements for @xmath26 and @xmath496 .",
    "when @xmath26 is a disjoint union of affines , it is automatically infinitesimally cohesive and nilcomplete , since maps out of a commutative ring commute with limits .",
    "the other statements in the base case @xmath643 follow from propositions  [ prop : affinecotan ] and  [ prop : smoothprojective ] . thus , suppose the proposition is true for @xmath7-geometric morphisms with @xmath732 . then , since @xmath26 is @xmath0-geometric , we fix an @xmath614-submersion @xmath843 where @xmath448 is a disjoint union of affines @xmath609 .",
    "write @xmath572 for the composition @xmath844 .    to prove the statements about infinitesimal cohesiveness and nilcompleteness",
    ", we apply lemma [ lem : screwing ] and use remark  [ rem : smallsite ] .",
    "let @xmath26 be an @xmath0-geometric sheaf , and let @xmath644 be a surjection of sheaves .",
    "let @xmath845 be a limit diagram of connective commutative @xmath11-algebras such that each map @xmath846 induces an isomorphism on @xmath198 .",
    "consider the simplicial object obtained by taking iterated fiber products of the map @xmath847 by using identifications of the form @xmath848 the simplicial objected induces a @xmath772-truncated map from the geometric realization @xmath849 to @xmath840 .",
    "we obtain a commutative diagram @xmath850 &    \\lim_\\alpha x_{s_\\alpha}\\\\                  |u_{s,\\bullet}|\\ar[u]\\ar[r ] &   |\\lim_\\alpha u_{s_\\alpha,\\bullet}|\\ar[u]}\\ ] ] where the bottom map is an equivalence , the left vertical map is an equivalence , and the right vertical map is @xmath772-truncated . to show the top map is an equivalence , it is enough to show that for any tale @xmath14-algebra @xmath16 the map @xmath851 is surjective , where @xmath852 .",
    "infinitesimal cohesiveness_. we specialize the above considerations to where @xmath14 is a small extension of @xmath578 by @xmath2 @xmath853 set @xmath854 .",
    "we want to show that for any tale @xmath14-algebra @xmath16 , the natural map @xmath855 is surjective , where @xmath856 .",
    "it suffices to prove this when the value @xmath857 at the terminal object lifts to @xmath448 . to show that the map on limits is surjective , it suffices to show that for any point @xmath858 of @xmath859 that maps to @xmath860 in @xmath861 , and for any lift of @xmath860 to @xmath862 in @xmath863 , there exists @xmath864 in @xmath865 mapping to @xmath862 and @xmath858 ( for either of the maps @xmath866 ) .",
    "this surjectivity follows from the fact that the cotangent complex of @xmath644 exists , which is due to the inductive step of the proof .",
    "the surjectivity follows from lemma  [ lem : lifting ] because the cotangent complex of @xmath448 over @xmath26 is perfect and its dual is connective .    _",
    "nilcompleteness_. the proof of nilcompleteness is similar to that of infinitesimal cohesiveness , and is left to the reader .    _",
    "existence_. fix a @xmath16-point @xmath867 .",
    "since @xmath28 is surjective , we can assume that @xmath136 factors through @xmath87 .",
    "let @xmath868 be such a factorization .",
    "then , there is a natural morphism @xmath869 the @xmath72-point of @xmath870 is the point in the fiber of @xmath871 corresponding to @xmath872 .",
    "the fiber over @xmath72 of @xmath199 is naturally equivalent to @xmath873 .",
    "thus , we have a natural fiber sequence @xmath874 by the formal smoothness of the smooth @xmath614-geometric morphism @xmath87 , the map of spaces @xmath199 is surjective .",
    "it follows that we can identify @xmath870 with the fiber of the delooped map @xmath875 therefore , the fiber of @xmath876 is a cotangent complex for @xmath77 .",
    "the connectivity statement is immediate .",
    "_ tor - amplitude_. now , suppose that @xmath877 is smooth .",
    "then , we may assume that @xmath549 is smooth over @xmath15 ; in particular @xmath549 is locally finitely presented and @xmath551 is finitely generated projective . by lemma  [ lem : cotansequence ] , there is a cofiber sequence @xmath878 by the inductive hypothesis , @xmath879 is perfect and has tor - amplitude contained in @xmath880 $ ] .",
    "therefore , @xmath496 is perfect and has tor - amplitude contained in @xmath634 $ ] .    _",
    "formal smoothness_. let @xmath881 be the class of nilpotent thickenings @xmath882 that satisfy the left lifting property with respect to @xmath77 .",
    "since @xmath77 has a cotangent complex , @xmath881 contains all trivial square - zero extensions @xmath883 . to see that @xmath881 contains all small extensions of @xmath16 by @xmath2",
    ", we use the fact that @xmath884 therefore , to check that the projection @xmath885 is surjective , it suffices to note that @xmath886 is surjective , because the map of pullback diagrams admits a section induced by the inclusion @xmath887 . finally , that @xmath881 contains all nilpotent thickenings follows from the method of the proof of  @xcite*proposition 7.26 , which decomposes such a thickening as a limit of small extensions .",
    "the fact that smooth @xmath0-geometric morphisms have perfect cotangent complexes with tor - amplitude contained in @xmath634 $ ] characterizes smooth morphisms , at least if we include the assumption that the morphism be locally of finite presentation .",
    "an @xmath0-geometric morphism @xmath508 is smooth if and only if it is locally of finite presentation and @xmath529 is a perfect complex with tor - amplitude contained in @xmath634 $ ] .",
    "we may assume that @xmath790 .",
    "let @xmath888 be a smooth @xmath614-submersion onto @xmath26 .",
    "then , each composition @xmath613 is smooth , and hence locally of finite presentation .",
    "therefore , @xmath77 is locally of finite presentation .",
    "the fact that @xmath529 is perfect with tor - amplitude contained in @xmath634 $ ] follows from the previous proposition .",
    "suppose now that @xmath77 is @xmath0-geometric , locally of finite presentation , and that @xmath529 has tor - amplitude contained in @xmath634 $ ] .",
    "take a chart @xmath889 where the @xmath549 are all locally of finite presentation over @xmath15 .",
    "the pullback sequence @xmath890 of cotangent complexes , together with the facts that @xmath891 and @xmath892 are perfect complexes with tor - amplitude contained in @xmath634 $ ] and @xmath880 $ ] , respectively , shows that @xmath892 is perfect with tor - amplitude contained in @xmath634 $ ] .",
    "but , since @xmath448 is a disjoint union of affines , @xmath892 is connective .",
    "thus , @xmath892 is equivalent to a finitely generated projective module , so that each @xmath613 is smooth , as desired .",
    "the theorem in this section says that smooth morphisms that are surjective on geometric points are in fact surjections of tale sheaves .",
    "[ thm : lifts ] if @xmath483 is a smooth locally geometric morphism that is surjective on geometric points , then for every @xmath14-point @xmath893 there exists an tale cover @xmath185 and a @xmath16-point @xmath894 such that @xmath895 commutes",
    ".    we may assume without loss of generality that @xmath790 , and it then suffices to prove that @xmath877 has tale local sections .",
    "write @xmath26 as a filtered colimit @xmath896 of @xmath631-geometric sheaves , such that each @xmath632 is a monomorphism . by lemma  [ lem : monocotan ] , the cotangent complex @xmath897 vanishes .",
    "suppose that the cotangent complex of @xmath26 has tor - amplitude contained in @xmath634 $ ] .",
    "then , for @xmath357 sufficiently large , it follows that @xmath898 is a smooth @xmath631-geometric morphism .",
    "since @xmath15 is quasi - compact , and since the image of @xmath370 in @xmath15 is open by lemma  [ lem : smoothimages ] , it follows that for some @xmath357 , @xmath898 is a smooth @xmath631-geometric morphism that is surjective on geometric points .",
    "there exists an @xmath614-submersion @xmath899 such that @xmath448 is the disjoint union of smooth affine @xmath14-schemes .",
    "let @xmath900 be the associated map of ordinary schemes . by hypothesis ,",
    "this morphism is smooth and is surjective on geometric points . by  @xcite*corollaires",
    "iv.17.16.2 et iv.17.16.3(ii ) , there exists an tale cover @xmath901 and a factorization @xmath902 .",
    "the tale map @xmath903 determines a unique connective commutative @xmath14-algebra @xmath16 by  @xcite*theorem  8.5.0.6 .",
    "we would like to like to lift the @xmath904-point of @xmath905 to a @xmath16-point of @xmath448 . since @xmath448 is a disjoint union of affines ,",
    "it is nilcomplete .",
    "therefore , @xmath906 , so it suffices to show that @xmath907 is surjective .",
    "this is true since @xmath448 is formally smooth and @xmath908 is a nilpotent thickening .",
    "we study moduli spaces of objects in @xmath11-linear categories .",
    "this extends the work of ton - vaqui  @xcite to the setting of commutative ring spectra .",
    "we give some results on local moduli , which form the basis of an important geometricity statement for global moduli sheaves . as a corollary",
    ", we show in the final section that if @xmath20 is an azumaya algebra over @xmath11 , the sheaf of morita equivalences from @xmath20 to @xmath11 is smooth over @xmath81 , and hence has tale local sections .      in this section",
    "we prove the geometricity of the sheaf corepresented by a free commutative @xmath11-algebra @xmath909 where @xmath149 is a perfect @xmath11-module , and we show that when @xmath149 has tor - amplitude contained in @xmath634 $ ] , then this sheaf is smooth .",
    "these facts are non - trivial precisely because @xmath909 is not necessarily connective .",
    "this turns out to be the main step in understanding the geometricity of more general moduli problems .",
    "let @xmath910 denote the sheaf of finite rank projective modules .    the sheaf @xmath910 is equivalent to @xmath911 . in particular , @xmath910 is locally @xmath21-geometric and locally of finite presentation .",
    "a projective module is locally free by theorem  [ prop : projectives ] .",
    "hence , the sheaf of projective rank @xmath0 modules is equivalent to @xmath912 .",
    "this sheaf has a @xmath72-atlas @xmath913 , which shows that it is @xmath21-geometric and locally of finite presentation .",
    "[ thm : localmoduli ] let @xmath149 be a perfect @xmath11-module with tor - amplitude contained in @xmath190 $ ] with @xmath914 .",
    "then , the sheaf @xmath915 is a quasi - compact and quasi - separated @xmath916-geometric stack that is locally of finite presentation .",
    "moreover , the cotangent complex of @xmath915 at an @xmath14-point @xmath917 is the @xmath14-module @xmath918 therefore , if @xmath919 , @xmath915 is smooth .",
    "we prove all of the statements except for quasi - separatedness by induction on @xmath920 .",
    "if @xmath242 , then @xmath149 is connective by proposition  [ prop : tor ] , so that @xmath909 is connective as well .",
    "thus , @xmath915 is @xmath72-geometric and quasi - compact .",
    "it is locally of finite presentation since the @xmath11-module @xmath149 is perfect .",
    "now , assume that @xmath149 has tor - amplitude contained in @xmath190 $ ] where @xmath921 . by proposition  [ prop : tor ] , we can write @xmath149 as the fiber of some map @xmath922 , where @xmath166 is a perfect @xmath11-module with tor - amplitude contained in @xmath223 $ ] and @xmath151 is a finitely generated projective @xmath11-module .",
    "the fiber sequence induces a fiber sequence of sheaves @xmath923 where , inductively , both @xmath924 and @xmath925 are @xmath926-geometric stacks that are locally of finite presentation .",
    "the map @xmath927 is surjective , because if @xmath14 is a connective commutative @xmath11-algebra , we get a fiber sequence of spaces @xmath928 which shows that @xmath929 is the total space of a principal bundle over @xmath930 .",
    "the map   is also quasi - compact , since the fiber @xmath924 is quasi - compact .",
    "note that @xmath931 using that the natural map given by an inclusion followed by the codiagonal @xmath932 is the identity , it follows that @xmath933 .",
    "therefore , @xmath934 it follows that the projection @xmath935 is the pullback of a @xmath926-geometric morphism , and so is itself @xmath926-geometric .",
    "the projection is smooth because @xmath924 is smooth .",
    "therefore , by all of the statements of lemma  [ lem : stacksdescent ] , @xmath915 is a quasi - compact @xmath916-geometric stack that is locally of finite presentation .",
    "finally , by lemma  [ lem : cotangent ] , the cotangent complex of @xmath915 is @xmath936 , so @xmath915 is smooth by  [ prop : smoothperfect ] if @xmath919 .",
    "it remains to show that @xmath915 is quasi - separated .",
    "let @xmath166 be the cofiber of the diagonal morphism @xmath937 .",
    "then , the fiber of the diagonal morphism @xmath938 is equivalent to @xmath925 , which is quasi - compact by the first part of the proof .",
    "if @xmath149 is a perfect @xmath11-module with tor - amplitude contained in @xmath190 $ ] and @xmath939 , then it also has tor amplitude contained in @xmath217 $ ] , and the proposition implies that @xmath915 is a @xmath72-geometric stack .",
    "in this section , we apply the study of local moduli above to global moduli sheaves of objects .",
    "the main theorems in this section , theorems  [ thm : shm ] and  [ thm : moduli ] , are generalizations of results of  @xcite to connective @xmath5-ring spectra .",
    "let @xmath59 be a compactly generated @xmath11-linear @xmath18-category .",
    "define a functor @xmath940 whose value at @xmath15 is the full subcategory of @xmath941 consisting of those objects @xmath77 such that for every compact object @xmath136 of @xmath59 , the value @xmath942 is a compact object of @xmath455 .",
    "put another way , we can define @xmath943 as the pullback @xmath944 where @xmath945 is the functor of compact objects @xmath946 given by @xmath947    [ lem : stm ] for any compactly generated @xmath11-linear @xmath18-category  @xmath59 , the functor @xmath943 satisfies tale hyperdescent .",
    "it is clear that @xmath948 satisfies tale hyperdescent since @xmath456 is an tale hyperstack .",
    "moreover , we claim that the functor of compact objects @xmath945 also satisfies tale hyperdescent .",
    "it suffices to check that @xmath949 is an equivalence for any tale hypercover @xmath452 .",
    "but this follows from the commutative diagram @xmath950 the vertical arrows are fully faithful , and the bottom arrow is an equivalence .",
    "it follows that the top arrow is fully faithful .",
    "it is also essentially surjective for the following reason .",
    "the compact objects of @xmath455 are precisely the dualizable ones .",
    "but , the property of being dualizable can be checked tale locally .",
    "thus , @xmath945 satisfies tale hyperdescent .",
    "now , by the pullback definition of @xmath951 above , it follows that @xmath943 satisfies tale hyperdescent .",
    "because it satisfies tale hyperdescent , the functor @xmath943 extends uniquely to a limit preserving functor @xmath952 .",
    "we abuse notation and write @xmath943 for the resulting stack",
    ". let @xmath953 be the sheaf of equivalences in @xmath943 .",
    "we call this the moduli sheaf ( or moduli space ) of objects in @xmath59 .",
    "it is a sheaf of small spaces because @xmath348 is small .",
    "if @xmath59 is @xmath60 for some @xmath11-algebra @xmath20 , we also write @xmath954 for @xmath955 .",
    "this sheaf classifies left @xmath20-module structures on perfect @xmath14-modules .",
    "let @xmath956}$ ] be the full sub - sheaf of @xmath957 whose @xmath14-points consist of perfect @xmath14-modules with tor - amplitude contained in @xmath190 $ ] .",
    "note that this makes sense since tor - amplitude is stable under base - change by proposition  [ prop : tor ] . by the same proposition",
    ", there is an equivalence @xmath958}{\\tilde{\\rightarrow}}{\\mathbf{m}}_r,\\ ] ] and each map @xmath956}\\rightarrow{\\mathbf{m}}_r$ ] is a monomorphism .",
    "[ thm : shm ] the sheaf @xmath957 is locally geometric and locally of finite presentation .    by the definition of local geometricity , it suffices to show that each @xmath956}$ ] is @xmath641-geometric and locally of finite presentation where @xmath959 .",
    "to begin , we show that each diagonal map @xmath960}\\rightarrow{\\mathbf{m}}_r^{[a , b]}\\times_{\\operatorname{spec}r}{\\mathbf{m}}_r^{[a , b]}\\ ] ] is @xmath961-geometric and locally of finite presentation .",
    "given a map from @xmath15 to the product classifying two perfect @xmath14-modules @xmath149 and @xmath166 , the pullback along the diagonal is equivalent to @xmath962 , the sheaf over @xmath15 classifying equivalences between @xmath149 and @xmath166 .",
    "this is a zariski open subsheaf of @xmath963 .",
    "since @xmath964 has tor - amplitude contained in @xmath965 $ ] , by theorem  [ thm : localmoduli ] , @xmath966 is @xmath961-geometric .",
    "therefore , the diagonal map   is @xmath961-geometric , as desired .",
    "we now proceed by induction on @xmath959 .",
    "when @xmath643 , @xmath401-fold suspension induces an equivalence @xmath967}.\\ ] ] by corollary  [ ex : gln ] , @xmath968 is @xmath21-geometric and locally of finite presentation . now",
    ", suppose that @xmath969}$ ] is @xmath961-geometric and locally of finite presentation .",
    "the general outline of the induction is as follows .",
    "we construct a sheaf @xmath448 that admits a @xmath72-geometric smooth map to @xmath969}\\times_{\\operatorname{spec}r}{\\mathbf{m}}_r^{[a+1,a+1]}$ ] and use this to show that @xmath448 is a @xmath961-geometric sheaf locally of finite presentation . then , we show that @xmath448 submerses onto @xmath956}$ ] . by lemma  [",
    "lem : the ] , this is enough to conclude that @xmath956}$ ] is @xmath970-representable and locally of finite presentation .",
    "let @xmath448 be defined as the pullback of sheaves @xmath971}\\times_{\\operatorname{spec}r}{\\mathbf{m}}_r^{[a+1,a+1 ] }     @ > > >              { \\mathrm{fun}}(\\partial\\delta^1,{\\mathscr{m}\\mathrm{od}}_r^{\\omega})^{\\operatorname{eq}}.              \\end{cd}\\ ] ] suppose that @xmath972}\\times_{\\operatorname{spec}r}{\\mathbf{m}}_r^{[a+1,a+1]}$ ] is a point classifying a perfect @xmath14-module @xmath166 of tor - amplitude contained in @xmath223 $ ] and a perfect @xmath14-module @xmath973 of tor - amplitude contained in @xmath974 $ ] .",
    "the fiber of @xmath87 at this point is simply the local moduli sheaf @xmath975 as @xmath976 has tor - amplitude contained in @xmath977 $ ] , it follows that this local moduli sheaf is @xmath72-geometric and locally of finite presentation because @xmath978 is a compact commutative @xmath14-algebra ( because @xmath976 is compact ) .",
    "thus , @xmath87 is @xmath72-geometric and locally of finite presentation .",
    "moreover , @xmath969}\\times_{\\operatorname{spec}r}{\\mathbf{m}}_r^{[a+1,a+1]}$ ] is a @xmath961-geometric sheaf locally of finite presentation by the inductive hypothesis .",
    "so , @xmath448 is @xmath961-geometric by lemma  [ lem : lurie ] , and it is locally of finite presentation .    let @xmath979}$ ] be the map that sends an object of @xmath448 to the fiber of the map it classifies in @xmath980 , which has the asserted tor - amplitude by part  ( 5 ) of lemma  [ prop : tor ] . since @xmath448 is @xmath961-geometric and because the diagonal of @xmath956}$ ] is @xmath961-geometric , it follows from lemma  [ lem : the ] that @xmath981 is @xmath961-geometric .",
    "if we prove that @xmath981 is smooth and surjective , it will follow that @xmath956}$ ] is @xmath970-geometric by lemma  [ lem : the ] .",
    "the surjectivity of @xmath981 is immediate from part  ( 7 ) of proposition  [ prop : tor ] . to check smoothness ,",
    "consider a point @xmath982}$ ] , which classifies a compact @xmath14-module @xmath149 of tor - amplitude contained in @xmath190 $ ] .",
    "let @xmath642 be the fiber product of this map with @xmath983}$ ] .",
    "the @xmath16-points of the sheaf @xmath642 may be described as ways of writing @xmath984 as a fiber of a map @xmath985 where @xmath2 is a finitely generated projective @xmath16-module , and @xmath166 is a @xmath16-module with tor - amplitude contained in @xmath223 $ ] .",
    "possibly after passing to a zariski cover of @xmath548 , we may assume that @xmath986 is finitely generated and free .",
    "in other words , the sheaf @xmath642 decomposes as @xmath987 where @xmath988 classifies maps @xmath989 with cofiber having tor - amplitude contained in @xmath223 $ ] .",
    "since @xmath990 classifies all maps @xmath991 , we see that @xmath988 consists of the points of @xmath992 classifying maps @xmath993 that are surjective on @xmath994 .",
    "since @xmath995 is finitely generated by proposition  [ prop : compactness ] , this surjectivity condition is open , because the vanishing of the cokernel of @xmath996 can be detected on fields by nakayama s lemma . as the perfect module @xmath997 has tor - amplitude contained in @xmath998 $ ]",
    ", @xmath990 is smooth by theorem  [ thm : localmoduli ] .",
    "thus , @xmath988 is smooth , and hence the morphism @xmath983}$ ] is smooth , which completes the proof .",
    "to analyze @xmath999 for other rings @xmath20 , we use sub - sheaves @xmath1000}$ ] of @xmath999 induced by the corresponding sub - sheaves of @xmath957 : specifically , define @xmath1000}$ ] to be the pullback in @xmath1001 }    @>\\pi^{[a , b ] } > >     { \\mathbf{m}}_r^{[a , b]}\\\\          @vvv                     @vvv\\\\          { \\mathbf{m}}_a            @>\\pi > >     { \\mathbf{m}}_r .",
    "\\end{cd}\\ ] ] since the filtration @xmath1002}\\}_{a\\geq 0}$ ] exhausts @xmath957 , it follows that @xmath1003}\\}_{a\\geq 0}$ ] exhausts @xmath999 .",
    "let @xmath60 be an @xmath11-linear category of finite type , so that @xmath20 is a compact @xmath11-algebra .",
    "then , the natural morphism @xmath1004}\\rightarrow{\\mathbf{m}}_r^{[a , b]}$ ] is @xmath961-geometric and locally of finite presentation .",
    "it is easy to see using corollary  [ cor : algebrafiber ] that the space of @xmath16-points of the fiber of @xmath1005}$ ] at a point @xmath1006}$ ] classifying a perfect @xmath14-module @xmath149 is equivalent to @xmath1007 we will write @xmath1008 for the resulting sheaf over @xmath15 . now , since @xmath83 is of finite presentation as an @xmath14-algebra , @xmath83 is a retract of a finite colimit of the free @xmath14-algebra @xmath1009 .",
    "it follows from lemma  [ lem : nlimits ] , proposition  [ prop : retractsnstacks ] , and lemma  [ lem : retractslfpnstacks ] that to prove that @xmath1008 is @xmath961-geometric and locally of finite presentation , it suffices to show that @xmath1010 is a quasi - separated @xmath961-geometric sheaf that is locally of finite presentation .",
    "but , @xmath1011 since @xmath1012 is perfect and has tor - amplitude contained in @xmath965 $ ] , it follows from theorem  [ thm : localmoduli ] that the fiber is @xmath961-geometric , quasi - separated , and locally of finite presentation .",
    "given the proposition , it is now straightforward to prove the following theorem .",
    "[ thm : moduli ] let @xmath20 be a compact @xmath11-algebra .",
    "then , the stack @xmath999 is locally geometric and locally of finite presentation , and the functor @xmath1013 is locally geometric and locally of finite presentation .    by the previous proposition , @xmath1000}\\rightarrow{\\mathbf{m}}_r^{[a , b]}$ ]",
    "is @xmath961-geometric and locally of finite presentation .",
    "since @xmath956}$ ] is @xmath970-geometric and locally of finite presentation , it follows from lemma  [ lem : lurie ] , that @xmath1000}$ ] is also @xmath970-geometric and locally of finite presentation .",
    "it follows that @xmath999 is locally geometric and locally of finite presentation . to prove the second statement , let @xmath1014 classify a perfect @xmath14-module @xmath149 , which has tor - amplitude contained in some @xmath190 $ ] .",
    "the fiber of @xmath1015 over this point is equivalent to the fiber of @xmath1005}$ ] over @xmath149 , which by the previous proposition is @xmath961-geometric and locally of finite presentation .",
    "note that , in the proof , the fiber is not only locally geometric , but @xmath961-geomtric .",
    "however , the geometricity of the fibers changes from point to point .",
    "[ cor : cotangent ] let @xmath20 be a compact @xmath11-algebra , and let @xmath1016 classify a perfect @xmath14-module @xmath149 with a left @xmath20-module structure .",
    "then , the cotangent complex of @xmath999 at the point @xmath149 is the @xmath14-module @xmath1017    by lemma  [ lem : monocotan ] and proposition  [ prop : smoothperfect ] , the cotangent complex @xmath1018 exists .",
    "consider the loop sheaf @xmath1019 . by lemma  [ lem : colimcotan ] ,",
    "the cotangent complex of this sheaf at the basepoint @xmath754 is simply @xmath1020 thus , it suffices to compute @xmath1021 . the stack @xmath1019 is described by @xmath1022 where the equivalence between the second and third lines is by lemma  [ lem : functoriality ] .",
    "the inclusion is zariski open , and hence the computation of theorem  [ thm : localmoduli ] says that @xmath1023 which completes the proof .",
    "let @xmath11 be a connective @xmath5-ring spectrum , and let @xmath20 be an azumaya @xmath11-algebra .",
    "we prove now that the stack of morita equivalences from @xmath20 to @xmath11 is smooth and surjective over @xmath81 . as a corollary",
    ", we obtain one of the major theorems of the paper : the tale local triviality of azumaya algebras .",
    "since @xmath20 is compact as an @xmath11-module , the space @xmath1024 of @xmath14-points is equivalent to the space @xmath1025 of ( compact object preserving ) functors between compactly - generated @xmath14-linear categories .",
    "we define the full subsheaf @xmath80 of morita equivalences from @xmath20 to @xmath11 by restricting the @xmath14-points to the full subspace of @xmath1024 consisting of the equivalences @xmath1026 .",
    "[ prop : moritasmoothness ] suppose that @xmath11 is a connective @xmath5-ring and that @xmath20 is an azumaya algebra .",
    "the sheaf @xmath1027 of morita equivalences is locally geometric and smooth .",
    "we show that @xmath80 is quasi - compact and zariski open .",
    "fix an @xmath14-valued point of @xmath999 classifying an @xmath1028-module @xmath149 which is compact as an @xmath14-module .",
    "the bimodule @xmath149 defines an adjoint pair of functors @xmath1029 to show that @xmath80 is open , it suffices to check that the subsheaf of points of @xmath15 on which the unit @xmath1030 and counit @xmath1031 morphisms are equivalences is open in @xmath15 , since the unit and counit transformations are equivalences if and only if they are equivalences on generators .",
    "as @xmath20 is a perfect @xmath14-module by the azumaya hypothesis , proposition  [ prop : vanishing ] implies that the cofibers of these maps vanish on quasi - compact zariski open subschemes of @xmath15 . taking the intersection of these two open subschemes yields the desired quasi - compact zariski open subscheme of @xmath15 on which @xmath149 defines a morita equivalence .",
    "it follows that @xmath1032 is locally geometric and locally of finite presentation .",
    "given a point @xmath1033 , the cotangent complex at @xmath149 is @xmath1034 a perfect @xmath14-module with tor - amplitude contained in @xmath1035 $ ] .",
    "thus , by definition , @xmath1032 is a smooth locally geometric sheaf .",
    "the following theorem is a generalization of  @xcite*proposition  2.14 to connective @xmath5-ring spectra .",
    "[ thm : etalelocaltriviality ] let @xmath11 be a connective @xmath5 ring spectrum , and let @xmath20 be an azumaya @xmath11-algebra .",
    "then , there is a faithfully flat tale @xmath11-algebra @xmath14 such that @xmath83 is morita equivalent to @xmath14 .",
    "the theorem follows immediately from the previous proposition , theorem  [ thm : brk ] , and theorem  [ thm : lifts ] .",
    "if @xmath11 is a connective @xmath5-ring spectrum and @xmath20 is an azumaya @xmath11-algebra , then the sheaf of morita equivalences @xmath1032 is a @xmath471-torsor . in particular , it is @xmath21-geometric and smooth .",
    "the action of @xmath471 on @xmath1032 is simply by tensoring @xmath1036-modules with line bundles .",
    "tale - locally , @xmath1032 is equivalent to the space of equivalences @xmath1037 by the theorem .",
    "this is precisely @xmath471 over @xmath15 .",
    "the main result of the previous section shows that azumaya algebras over connective @xmath5-rings are tale locally trivial . in this section , we want to show that certain tale cohomological information on derived schemes @xmath26 can be given by azumaya algebras . in other words we want to prove that `` @xmath86 '' in various cases .",
    "this is established once we prove the following theorem .",
    "let @xmath59 be an @xmath14-linear category , and suppose that @xmath186 is an tale cover such that @xmath1038 has a compact generator .",
    "then , @xmath59 is has a compact generator .    in fact",
    ", we prove a version of this theorem for quasi - compact and quasi - separated derived schemes .",
    "the result we prove expands on  @xcite*theorem  6.1 , which is about a similar statement for the property of being compactly generated .",
    "the proof breaks up into several parts .",
    "first , we prove a local - global statement for zariski covers .",
    "this is used in two ways : to reduce the problem from schemes to affine schemes and to help prove ninsevich descent .",
    "second , we prove a local - global statement for tale covers , following  @xcite*section  6 .",
    "the main insight there is to use the fact that a presheaf is an tale sheaf if and only if it is a sheaf for the nisnevich and finite tale topologies .",
    "then , by using a theorem of morel and voevodsky ( see  @xcite*theorem  2.9 ) , we can reduce the proof of nisnevich local - global principle to certain special squares , which we analyze directly using techniques that , essentially , go back to thomason  @xcite and bkstedt - neeman  @xcite .",
    "proof of a local - global principle for finite tale covers is subsumed in a more general statement for finite and flat covers , which is purely @xmath18-categorical .",
    "this theorem has applications to the module theory of perfect stacks , as is developed in  @xcite and  @xcite , and is related to questions about when derived categories are compactly generated , which have been studied by thomason  @xcite , neeman  @xcite and  @xcite , bkstedt - neeman  @xcite , and bondal - van den bergh  @xcite .    with two major exceptions , the outline of the proof",
    "is already contained in  @xcite .",
    "first , our proof differs significantly from ton s when it comes to the tale local - global principle .",
    "since ton works with simplicial commutative rings , he is able to use some concrete constructions based on work of gabber  @xcite to reduce to the finite tale case . these constructions , which involve algebras of invariants of symmetric groups acting on polynomial rings and quotient algebras , simply fail in the case of @xmath5-ring spectra .",
    "thus , we use lurie s idea of using the morel - voevodsky result to prove the tale local - global principle .",
    "second , we can not prove the fppf version contained in  @xcite . because of the lack of @xmath5-structures on quotient rings , we do not know how to show that the stack of quasi - sections used in the proof of  @xcite*proposition  4.13 .",
    "hence , we work everywhere in the tale topology . for the cases of interest to us ,",
    "this restriction is not a problem .",
    "fix a connective @xmath175-ring spectrum @xmath11 . in section  [ sec :",
    "sheaves ] , we introduced the tale hyperstacks @xmath463 , @xmath1039 , and @xmath473 .",
    "let @xmath1040 , @xmath1041 , and @xmath1042 be the associated underlying ( large ) tale hypersheaves .",
    "there are natural maps @xmath1043 and @xmath1044 .",
    "let @xmath1045 and @xmath90 be the tale hypersheafifications of the images of these maps . to be precise , for every connective commutative @xmath11-algebra @xmath14 , there is a map @xmath1046 , and the image of this map is full subspace of @xmath1047 consisting of those points of @xmath1047 in the image of @xmath1048 . as @xmath14 varies , these images determine a presheaf of spaces , and @xmath1045 is the tale sheafification of this presheaf .",
    "the story for @xmath90 is similar , but with @xmath1041 in place of @xmath1040 .",
    "let @xmath26 be an object of @xmath92 .    1 .",
    "a quasi - coherent algebra over @xmath26 is a morphism @xmath1049 .",
    "an azumaya algebra over @xmath26 is a morphism @xmath1050 .",
    "a morita class over @xmath26 is a morphism @xmath1051 .",
    "4 .   a brauer class over @xmath26 is a morphism @xmath1052 .",
    "a linear category with descent over @xmath26 is a morphism @xmath1053 .",
    "note that of the above classifying spaces , only @xmath1041 and @xmath90 are actually sheaves of _ small _ spaces .",
    "a brauer class over @xmath26 is thus a linear category over @xmath26 which is tale locally equivalent to modules over some azumaya algebra .",
    "the rest of this section will prove that every brauer class ( resp .",
    "morita class ) over @xmath26 lifts to an azumaya algebra ( resp .",
    "algebra ) when @xmath26 is a quasi - compact and quasi - separated derived scheme .",
    "if @xmath1054 is a linear category with descent over @xmath15 , let @xmath1055 denote the @xmath455-module classified by @xmath39 by the yoneda lemma .",
    "the following construction is studied extensively in  @xcite and  @xcite .",
    "let @xmath1056 be a linear category with descent over @xmath26 .",
    "then , the @xmath18-category  of @xmath39-twisted @xmath26-modules is @xmath1057 this limit exists and @xmath38 is stable and presentable , because @xmath1058 is closed under limits .",
    "we can describe this construction as the right kan extension of @xmath1059 , the functor which sends @xmath1060 to @xmath1061 , evaluated at @xmath26 . as a particularly important case ,",
    "let @xmath1056 be the linear category with descent over @xmath26 which sends a point @xmath1062 to @xmath1063 .",
    "then , by definition , @xmath38 is simply @xmath458 , which is an @xmath175-algebra in @xmath295 .",
    "when @xmath26 is a ( non - derived ) scheme , then the homotopy category of @xmath458 recovers the usual derived category @xmath1064 of complexes of @xmath27-modules with quasi - coherent cohomology sheaves .",
    "the construction of the stable @xmath18-category of @xmath39-twisted modules commutes with colimits .",
    "[ lem : limitstwisted ] let @xmath1065 be a small diagram of sheaves @xmath370 with colimit @xmath26 ,",
    "let @xmath1056 be a linear category with descent over @xmath26 , and let @xmath1066 be the restriction of @xmath26 to @xmath370 .",
    "then , the canonical map @xmath1067 is an equivalence .",
    "this follows from our definition of @xmath1068 as a right kan extension .",
    "to attack our main theorem , the local - global principle , we require some additional terminology .",
    "[ def : perfectobject ] let @xmath1056 be a linear category with descent over @xmath26 .    1 .",
    "an object @xmath149 of @xmath38 is called perfect if for every point @xmath498 , @xmath1069 is a compact object of @xmath1070 .",
    "an object @xmath149 of @xmath1068 is a perfect generator if for every point @xmath498 , the pullback @xmath1071 is a compact generator of @xmath1072 .",
    "3 .   an object @xmath149 is a global generator of @xmath38 if it is a compact generator and a perfect generator .",
    "note that while perfect objects are preserved automatically by any pullback induced by a map @xmath1073 in @xmath1074 , it is not the case that compact objects are preserved by pullbacks . for instance , if @xmath26 is not quasi - compact over the base @xmath81 , then @xmath1075 sends @xmath11 to @xmath27 , which is perfect but might not be compact .",
    "it is for this reason why perfect objects play such an important role .",
    "however , in most cases of interest , it is possible to show that the perfect and compact objects do coincide .",
    "see , for example ,  @xcite*section 3 .",
    "when @xmath26 is affine , the next lemma shows that there is no difference between the notions of compact generators and perfect generators of @xmath38 .",
    "in particular , every perfect generator is automatically a global generator .",
    "[ lem : compactsonaffines ] if @xmath1054 is a linear category with descent , then an object @xmath149 of @xmath1076 is a compact generator if and only if it is a perfect generator .    if @xmath149 is a perfect generator , then @xmath149 is a compact generator of @xmath1055 by definition .",
    "so , suppose that @xmath149 is a compact generator of @xmath1055 .",
    "we must show that for any @xmath1077 is a connective @xmath175-@xmath14-algebra , then @xmath984 is a compact generator of @xmath1078 .",
    "there is a commutative diagram of equivalences @xmath1079 in which the left - hand equivalence is morita theory  [ thm : morita ] and the right - hand equivalence is induced from the other three . by commutativity ,",
    "the object @xmath984 in the upper - left corner is sent to @xmath1080 in the lower - right corner , which is indeed a compact generator .",
    "the following lemma will be used below to detect when an object is a compact generator of @xmath1055 by passing to @xmath1078 for an tale cover @xmath186 .    [",
    "lem : flatdetection ] if @xmath186 is an tale cover , and if @xmath1054 is an linear category with descent , then a _ compact _ object @xmath149 of @xmath1076 is a compact generator of @xmath1055 if and only if @xmath984 is a compact generator of @xmath1081 .",
    "one direction is clear : if @xmath149 is a compact generator of @xmath1055 , then by the lemma above , it is a perfect generator , so that @xmath984 is a compact generator of @xmath1078 .",
    "so , suppose that @xmath149 is a compact object of @xmath1055 such that @xmath984 is a compact generator of @xmath1078 .",
    "let @xmath1082 , and let @xmath60 be the stable @xmath18-category of @xmath20-modules .",
    "write @xmath1083 for the cosimplicial commutative @xmath14-algebra associated to the cover @xmath186 .",
    "consider commutative diagram @xmath1084 the horizontal maps are equivalences since both @xmath1055 and @xmath60 satisfy tale descent , the latter by example  [ ex : moddescent ] . on the other hand , since @xmath984 is a compact generator of @xmath1078 , the right vertical map is an equivalence , since it is the limit of a level - wise equivalence of simplicial @xmath18-categories .",
    "it follows that the left vertical map is an equivalence .",
    "in particular , if @xmath1085 , then @xmath156 in @xmath1055 .",
    "thus , @xmath149 is a compact generator of @xmath1055 .    as we now see , the linear categories with descent over @xmath26 that possess perfect generators are exactly those which are @xmath18-categories of modules for quasi - coherent algebras over @xmath26 .",
    "our strategy in proving the local - global principle is then to construct perfect generators .",
    "[ prop : factorization ] a linear category with descent @xmath1056 factors through @xmath1043 if and only if @xmath38 possesses a perfect generator .",
    "suppose that @xmath1056 factors as @xmath1086 then , there is an algebra object @xmath20 in @xmath38 , which restricts to an @xmath14-algebra @xmath1087 over each affine @xmath618 , and which is a compact generator of the @xmath14-linear category @xmath1088 .",
    "hence , @xmath20 is a perfect generator . now , suppose that @xmath149 is a perfect generator of @xmath38 . by hypothesis , for any point @xmath498 , the object @xmath149 of @xmath1070 induces an equivalence @xmath1089 in other words , we obtain a natural equivalence of functors @xmath1090 therefore , @xmath1091 classifies a lift of @xmath39 through @xmath1043 .      there is a long history to the arguments in this section .",
    "on the one hand , the ideas about lifting compact objects along localizations goes back to thomason - trobaugh  @xcite and neeman  @xcite*theorem  2.1 . on the other hand , the arguments about zariski gluing appeared in bkstedt - neeman  @xcite*section 6 , in an argument about derived categories of quasi - coherent sheaves .",
    "they were further used in  @xcite*proposition  2.5 and  @xcite*theorem  3.1.1 before being used by ton  @xcite*proposition  4.9 for module categories over quasi - coherent sheaves of algebras .    given a colimit - preserving functor @xmath1092 of stable presentable @xmath18-categories , the kernel of @xmath199 is full subcategory of @xmath59 consisting of those objects which become equivalent to @xmath72 in @xmath109 .",
    "since the @xmath18-category of stable presentable @xmath18-categories has limits which are computed in @xmath1093 , we see that the kernel of @xmath199 is stable , presentable , and equipped with a colimit - preserving inclusion into @xmath59 .    in this section ,",
    "when @xmath448 is a quasi - compact open subscheme of a derived scheme @xmath26 , we will write @xmath1094 for the kernel of @xmath1095 , where @xmath642 is the complement of @xmath448 in @xmath26 . of course",
    ", this complement will usually not exist as a derived scheme , but only as a closed subspace of @xmath26 .",
    "the following proposition , which appears essentially in  @xcite , is one of the major points of `` derived '' geometry in our proof that @xmath86 .",
    "the generator @xmath10 in the proof is truly a derived object , and thus produces , even in the case of ordinary schemes , a derived azumaya algebra .",
    "[ prop : localization ] let @xmath1096 be a quasi - compact open subscheme with complement @xmath642 , and let @xmath1056 be a @xmath14-linear category such that @xmath38 has a compact generator @xmath149 .",
    "then , the restriction functor @xmath1097 is a localization whose kernel @xmath1094 is generated by a single compact object @xmath1098 in @xmath1099 .",
    "note that under these hypotheses , it is enough to treat the special case in which @xmath39 classifies @xmath455 . indeed , in this case",
    ", we have a localization sequence @xmath1100 since @xmath38 is dualizable ( it admits a compact generator ) , tensoring with @xmath38 preserves limits , and we obtain the localization sequence @xmath1101 to complete the proof , it suffices to show that @xmath1102 has a compact generator .",
    "write @xmath1103,\\ ] ] and let @xmath1104 be the cone of @xmath1105 . then",
    ", @xmath1106 is a compact object of @xmath38 , and @xmath1107 .",
    "we claim that @xmath10 is a compact generator of the kernel of @xmath1102 .",
    "suppose that @xmath1108 and @xmath1109 .",
    "then , @xmath1110 where we are using the fact that @xmath1104 is self - dual up to a shift .",
    "it follows that @xmath1111 acts invertibly on @xmath1112 , so that @xmath1113\\\\                                                          & { \\simeq}{\\mathrm{map}}\\left(k_2,\\otimes_s\\cdots\\otimes_s k_r , m\\otimes_s s[f_1^{-1}]\\right)\\\\                                                          & { \\simeq}0 ,          \\end{aligned}\\ ] ] where the last equivalence follows from the fact that @xmath1114 and that @xmath1115 $ ] is contained in @xmath448 . by induction",
    ", it follows that @xmath1116 and thus that @xmath1117{\\simeq}0.\\ ] ] therefore , @xmath10 is a compact generator of @xmath1102 .",
    "we also need the following @xmath10-theoretic characterization , due to  @xcite in the case of schemes and  @xcite more generally , of when an object lifts through a localization . recall that if @xmath59 is a compactly generated stable @xmath18-category , then @xmath1118 is the grothendieck group of the compact objects of @xmath59 .",
    "that is , it is the free abelian group on the _ set _ of compact objects of @xmath59 , modulo the relation @xmath1119=[l]+[n]$ ] whenever there is a cofiber sequence @xmath1120 . note that @xmath1118 depends only on the triangulated homotopy category @xmath1121 .",
    "[ prop : decomposition ] let @xmath1056 be a linear category such that @xmath38 is compactly generated , where @xmath26 is a derived scheme over @xmath11 which can be embedded as a quasi - compact open subscheme of an affine @xmath1122 , and let @xmath1123 be a quasi - compact open subscheme . then , a compact object @xmath149 of @xmath1124 lifts to @xmath38 if and only if it is in the image of @xmath1125 .",
    "this follows from neeman s localization theorem  @xcite*theorem  2.1 and its corollary  @xcite*corollary  0.9 .",
    "the only thing to check is that @xmath1094 is compactly generated by a set of objects that are compact in @xmath38 . for this",
    ", we refer to the beginning of the proof of lemma  [ lem : closedgluing ] , which shows that the inclusion @xmath1126 preserves compact objects .",
    "we are now ready to state and prove our zariski local - global principle , which is a generalization of the arguments of  @xcite*section 6 and the theorems  @xcite*theorem 3.1.1 and  @xcite*proposition  4.9 .",
    "[ thm : zariskigluing ] let @xmath26 be a quasi - compact , quasi - separated derived scheme over @xmath11 , and let @xmath1056 be a linear category with descent over @xmath26 .",
    "if there exists zariski cover @xmath1127 such that @xmath1128 has a compact generator , then there exists a global generator of @xmath38 .",
    "the proof is by induction on @xmath0 , the number of affines in an open cover of @xmath26 over which there are compact generators . if @xmath38 has a compact generator when @xmath1129 , then it has a global generator by lemma  [ lem : compactsonaffines ] .",
    "now , assume that for all quasi - compact , quasi - separated derived schemes @xmath278 and all @xmath1130 , if @xmath1131 is a zariski cover such that @xmath1132 has a compact generator for @xmath1133 , then @xmath1134 has a global generator .",
    "let @xmath1135 be a zariski cover such that each @xmath1136 has a compact generator .",
    "the proof will be complete if we produce a global generator of @xmath38 .",
    "let @xmath278 be the union of @xmath549 , @xmath406 in @xmath26 , let @xmath1137 , and let @xmath1138 .",
    "so , there is a pushout square of sheaves @xmath1139 by lemma  [ lem : limitstwisted ] , it follows that @xmath1140 is a pullback square of stable presentable @xmath18-categories . by the induction hypothesis",
    ", there exists a global generator @xmath1141 of @xmath1142 .",
    "the restriction of @xmath1143 to @xmath729 lifts to a compact object of @xmath1144 by proposition  [ prop : decomposition ] . since @xmath1143 is also a compact generator of @xmath1142 , we can assume in fact that the restriction @xmath1145 of @xmath1141 to @xmath729 lifts to a compact object @xmath1146 of @xmath1144 .",
    "the cartesian square   says that there is an object @xmath1147 of @xmath38 that restricts to @xmath1145 , @xmath1141 , and @xmath1146 over @xmath729 , @xmath278 , and @xmath642 , respectively .",
    "the object @xmath1147 is in fact compact , because for any @xmath1148 in @xmath38 , the mapping space @xmath1149 is computed as the pullback @xmath1150 since finite limits commute with filtered colimits , since the restriction functors preserve colimits , and since @xmath1146 , @xmath1141 , and @xmath1145 are compact , it follows that @xmath1147 is compact .    because @xmath642 is affine and @xmath1151 is quasi - compact , by proposition  [ prop : localization ]",
    ", the restriction functor @xmath1152 is a localization , which kills exactly the stable subcategory of @xmath1144 generated by a compact object @xmath1153 of @xmath1144 .",
    "we may lift @xmath1153 to an object @xmath1154 of @xmath38 that restricts to @xmath72 over @xmath278 using  .",
    "the object @xmath1154 is compact for the same reason that @xmath1147 is compact .",
    "then , @xmath1155 is a compact object of @xmath38 , which we claim is a global generator of @xmath38 .",
    "suppose that @xmath1148 is an object of @xmath38 such that @xmath1156 .",
    "then , @xmath1157 and @xmath1158 . for any @xmath151 in @xmath38",
    ", we have a cartesian square @xmath1159 when @xmath1160 , the bottom mapping spaces are trivial so that @xmath1161 .",
    "it follows that @xmath1162 is supported on @xmath729 . on the other hand , @xmath1163 since in that case",
    ", the right - hand vertical map is an equivalence as @xmath1162 is supported on @xmath729 .",
    "as @xmath1141 is a compact generator of @xmath1142 , the restriction of @xmath2 to @xmath448 is trivial .",
    "but , the support of @xmath1162 is contained in @xmath1164 , so @xmath2 is trivial .",
    "therefore , @xmath1098 is a compact generator of @xmath38 .    to prove that @xmath1165 is a perfect generator of @xmath38 , it suffices to show that @xmath1166 is a perfect generator of @xmath1142 and that @xmath1167 is a compact generator of @xmath1144 ( since @xmath642 is affine ) .",
    "indeed , given any affine @xmath1168 mapping into @xmath26 , we can intersect it with the affine hypercover determined by the @xmath610 .",
    "write @xmath186 for this map . by hypothesis",
    ", @xmath1169 is a compact generator for @xmath1078 . by lemma  [ lem : flatdetection ]",
    ", it follows that @xmath1170 is a compact generator of @xmath1055 .    that @xmath1166 is a global generator of @xmath1142 is trivial , since @xmath1171 and so @xmath1172 was chosen to be a global generator of @xmath1142 . if @xmath2 is an object of @xmath1144 such that @xmath1173 , then @xmath1174 so that @xmath2 is supported on @xmath729 .",
    "thus , @xmath1175 but , @xmath1141 is a global generator of @xmath1142 , and @xmath1176 is fully faithful .",
    "thus , @xmath156 .      in this section ,",
    "we adapt an idea of lurie to show that for @xmath11-linear @xmath18-categories , the property of having a compact generator is local for the tale topology .",
    "the context of this section is slightly different from that of the rest of section  [ sec : gluing ] : we do not require that our @xmath11-linear categories to satisfy tale hyperdescent .",
    "as every @xmath11-linear @xmath18-category satisfies tale descent by  @xcite*theorem  5.4 ( not tale hyperdescent ) , this is a natural hypothesis to drop when considering tale covers .",
    "so , instead of studying morphisms @xmath1053 , we instead fix an @xmath11-linear category @xmath59 .",
    "if @xmath14 is a commutative @xmath11-algebra , we write @xmath1177 for the @xmath18-category of @xmath14-modules in @xmath59 .",
    "in particular , @xmath1178 , and more generally @xmath1179 .",
    "for a general tale sheaf @xmath26 , we define @xmath1180 if @xmath59 is in fact a linear category with tale hyperdescent arising from a map @xmath1181 , then these definitions agree with our definitions of @xmath38 above .",
    "let @xmath1182 be a pair of adjoint functors between stable presentable @xmath18-categories such that the right adjoint @xmath718 is conservative and preserves filtered colimits .",
    "if @xmath149 is a compact generator of @xmath59 , then @xmath1183 is a compact generator of @xmath109 .    since @xmath718 preserves filtered colimits , @xmath199 preserves compact objects , so that @xmath1183 is compact .",
    "suppose that @xmath2 is an object of @xmath109 such that @xmath1184 .",
    "then , @xmath1185 .",
    "since @xmath149 is a compact generator of @xmath59 , this implies that @xmath1186 .",
    "the conservativity of @xmath718 implies that @xmath156 , so that @xmath1183 is a compact generator of @xmath109 .",
    "following lurie , we let @xmath1187 be the category of ( non - derived ) @xmath12-schemes @xmath26 which admit a quasi - compact open immersion @xmath1188 , where @xmath1189 is an tale @xmath12-algebra .",
    "there is a grothendieck topology on @xmath1187 that extends the ninsevich topology  @xcite*proposition  2.7 .",
    "lurie proves  @xcite*theorem  2.9 a version of the theorem of morel and voevodsky which says that for a presheaf @xmath199 on @xmath1187 , being a nisnevich sheaf is equivalent to satisfying affine nisnevich excision .",
    "recall that @xmath199 satisfies affine nisnevich excision if @xmath1190 is contractible and for all affine morphisms @xmath1191 and quasi - compact open subschemes @xmath1123 such that @xmath1192 is an isomorphism , where @xmath1193 , the diagram @xmath1194 is a pullback square of spaces .",
    "let @xmath1195 denote the @xmath18-category of tale @xmath11-algebras .",
    "there is a fully faithful embedding @xmath1196 given by sending @xmath14 to @xmath784 . given an @xmath11-linear category @xmath59 ,",
    "we extend the construction that sends an tale @xmath11-algebra @xmath14 to @xmath1177 to @xmath1187 by right kan extension .",
    "in other words , if @xmath26 is an object of @xmath1187 , @xmath1197 where the limit runs over all tale @xmath11-algebras @xmath14 and all maps @xmath1198 .",
    "if @xmath1199 is a quasi - compact open immersion in @xmath1187 with complement @xmath642 , viewed as a @xmath12-scheme with its reduced scheme structure , then we let @xmath1200 be the full subcategory of @xmath1201 consisting of those objects @xmath2 such that @xmath1114 in @xmath1202 .",
    "roughly speaking , these are the quasi - coherent @xmath27-modules in @xmath59 with support contained in @xmath642 .    [",
    "lem : closedgluing ] let @xmath26 be an object of @xmath1187 , and let @xmath1203 be a quasi - compact open immersion with complement @xmath642 . if there exists a compact object @xmath166 in @xmath1201 such that @xmath1202 is generated by @xmath1204 and if @xmath1200 has a compact generator @xmath149 , then @xmath1205 is a compact generator of @xmath1201 , where @xmath1206 is the inclusion functor from @xmath1200 into @xmath1201 .",
    "since @xmath166 is compact by hypothesis , to show @xmath1205 is compact , we must show that @xmath1207 is compact .",
    "in fact , we show that @xmath1206 preserves compact objects . to see this , consider the right adjoint @xmath1208 of @xmath1206 , which is defined as the fiber of the natural unit natural transformation @xmath1209 where @xmath1210 is the right adjoint of @xmath1211 .",
    "the functor @xmath1211 , being a left adjoint , preserves small colimits . by  @xcite*proposition  5.15 ,",
    "the functor @xmath1210 preserves small colimits as well ( this is where the quasi - compact hypothesis is used ) .",
    "since @xmath1208 is defined via a finite limit diagram , it follows that @xmath1208 preserves filtered colimits , and hence that @xmath1206 preserves compact objects . hence , @xmath1205 is a compact object of @xmath1201 .",
    "suppose now that @xmath2 is an object of @xmath1201 such that @xmath1212 then , @xmath1213 .",
    "since @xmath149 is a compact generator of @xmath1200 , it follows that @xmath1214 .",
    "hence the unit map @xmath1215 is an equivalence . at the same time , @xmath1216 thus , @xmath1114 , since @xmath1217 is a compact generator of @xmath1202 .",
    "since @xmath1218 , we see that @xmath156 .",
    "therefore , @xmath1205 is indeed a compact generator of @xmath1201 .",
    "[ lem : nisgluing ] let @xmath59 be an @xmath11-linear category .",
    "let @xmath1219 be a morphism in @xmath1187 where @xmath1220 is affine .",
    "suppose that @xmath1201 is compactly generated , and suppose that there exists a quasi - compact open subset @xmath1123 with complement @xmath642 such that @xmath1221 is an equivalence , where @xmath1222 , and such that @xmath1223 and @xmath1202 possess compact generators @xmath149 and @xmath166 .",
    "then , @xmath1201 has a compact generator .",
    "we verify the conditions of lemma  [ lem : closedgluing ] . because @xmath1224 is a nisnevich sheaf",
    ", there is a cartesian square of @xmath11-linear @xmath18-categories @xmath1225 taking the fibers of the vertical maps induces an equivalence @xmath1226 . by proposition  [ prop :",
    "localization ] , the fact that @xmath1223 has a compact generator implies that @xmath1227 has a compact generator , and hence @xmath1200 has a compact generator .",
    "to finish the proof , we show that @xmath1202 has a compact generator which is the restriction of a compact object over @xmath26 .",
    "but , by proposition  [ prop : decomposition ] , @xmath1228 is the restriction of a compact object of @xmath26 .",
    "it clearly generates @xmath1202 .",
    "let @xmath59 be an @xmath11-linear @xmath18-category , and let @xmath1229 be the presheaf on @xmath1195 defined by @xmath1230 the presheaf @xmath1229 extends to a presheaf @xmath1231 on @xmath1187 by right kan extension . by definition , if @xmath26 is an object of @xmath1187 , then @xmath1232 is contractible if and only if @xmath1233 is non - empty for all @xmath11-algebras @xmath14 and all @xmath1198 .    [",
    "lem : localglobalfiniteflat ] suppose that @xmath59 is an @xmath11-linear @xmath18-category and that @xmath82 is a finite faithfully flat cover .",
    "then , @xmath1177 has a compact generator if and only if @xmath1234 does .",
    "if @xmath1234 has a compact generator , then it is a perfect generator by lemma  [ lem : compactsonaffines ] , so that @xmath1177 has a compact generator .",
    "suppose that @xmath1177 has a compact generator @xmath149 .",
    "the functor @xmath1235 has a right adjoint , which is given explicitly by @xmath1236 .",
    "since @xmath14 is a finite and flat @xmath11-module , it follows that @xmath1237 preserves filtered colimits .",
    "therefore , @xmath1238 has a continuous right adjoint given by tensoring @xmath59 with @xmath1239 .",
    "we abuse notation and write @xmath1237 for this right adjoint as well .",
    "it follows immediately that @xmath1240 preserves compact objects so that @xmath1241 is a compact object of @xmath1234 . to show that @xmath1241 is a compact generator of @xmath1234 , suppose that @xmath1242 . using the adjunction",
    ", we get that @xmath1243 .",
    "therefore , @xmath1244 . in general ,",
    "the functor @xmath1240 is conservative .",
    "but , @xmath1245 , so that @xmath1246 is conservative by the faithful flatness of @xmath14",
    ". therefore , @xmath1237 is conservative .",
    "thus , @xmath156 , so that @xmath1241 is a compact generator of @xmath1234 .",
    "now , we come to the tale local - global principle .",
    "the idea of the proof is due to lurie  @xcite*section 6 .",
    "[ thm : etalegluing ] if @xmath59 is an @xmath11-linear @xmath18-category , then @xmath1229 is an tale sheaf .    by  @xcite*theorems  2.9 , 3.7",
    ", it suffices to show that @xmath1229 satisfies finite tale descent , and that @xmath1247 satisfies affine nisnevich excision .",
    "finite tale descent follows from lemma  [ lem : localglobalfiniteflat ] . to show that @xmath1247 satisfies affine nisnevich excision ,",
    "suppose that @xmath1219 is an affine morphism in @xmath1248 , that @xmath1123 is a quasi - compact open subset such that @xmath1249 , where @xmath1193 , and that @xmath1250 and @xmath1251 are non - empty .",
    "note that by  @xcite*proposition 6.12 and lemma  6.17 all of the stable presentable @xmath18-categories that appear in proof are compactly generated .",
    "this is important because we will use lemma  [ lem : nisgluing ] . to show that @xmath1232 is non - empty ,",
    "let @xmath618 be a point of @xmath26 .",
    "pull back the affine elementary nisnevich square via this map , to obtain @xmath1252 by our hypotheses , @xmath1253 is affine , so that @xmath1254 is contractible , as we see by using the map @xmath1255 . by lemma  [ lem : nisgluing ] , to complete the proof , it suffices to show that @xmath1256 has a compact generator . by hypothesis , we know that @xmath1257 is non - empty . as @xmath448 is quasi - compact in @xmath26 , we may write @xmath1258 as a union of zariski open subschemes .",
    "@xmath1259 since @xmath1257 is non - empty , @xmath1260 has a compact generator for all @xmath357 .",
    "write @xmath1261 and assume that @xmath1262 has a compact generator for some @xmath7 in @xmath1263 .",
    "then , @xmath1264 and the open @xmath1265 satisfy the hypotheses of lemma  [ lem : nisgluing ] ( take @xmath1266 , @xmath1267 , and @xmath1268 ) .",
    "therefore , @xmath1269 has a compact generator . by induction",
    ", we see that @xmath1256 has a compact generator , as desired .",
    "now we put together the local - global principles of the previous sections into one of the main theorems of the paper . in the case of schemes built from simplicial commutative rings , this",
    "was proved in  @xcite*theorem 4.7 .",
    "our proof is rather different , as the tale local - global principle requires different methods for connective @xmath5-rings .",
    "[ thm : gluing ] let @xmath26 be a quasi - compact , quasi - separated derived scheme .",
    "then , every morita class @xmath1270 on @xmath26 lifts to an algebra @xmath1049 .    by definition of sheafification",
    ", the morita class @xmath1270 lifts tale locally through @xmath1043 .",
    "it follows that there is an tale cover @xmath1271 such that @xmath1272 factors through @xmath1043 ; in other words , @xmath1273 has a compact generator for all @xmath357 .",
    "since tale maps are open , we can assume , possibly by refining the cover , that the image of @xmath549 in @xmath26 is an affine subscheme @xmath1274 . by theorem  [ thm : etalegluing ]",
    ", it follows that @xmath1275 has a compact generator . by theorem  [ thm : zariskigluing ]",
    ", it follows that @xmath38 has a perfect generator .",
    "this completes the proof by proposition  [ prop : factorization ] .",
    "we now consider several applications , which show the power of this theorem in establishing the compact generation of various stable presentable @xmath18-categories .",
    "these are motivated by the results of  @xcite in the affine case .",
    "if @xmath26 is a quasi - compact and quasi - separated derived scheme , and if @xmath1276 is an @xmath11-module such that localization with respect to @xmath1276 is smashing , then @xmath1277 , the full subcategory of @xmath1276-local objects in @xmath458 , is compactly generated by a single compact object .",
    "if @xmath26 is a quasi - compact and quasi - separated derived scheme over the @xmath87-local sphere , consider the localization @xmath88 , where @xmath89 is the @xmath0th morava @xmath10-theory at the prime @xmath87 . in this case , the @xmath89-localization of @xmath27 need not be compact in @xmath88 .",
    "however , if @xmath199 is a finite type @xmath0 complex , then over any affine @xmath618 , the @xmath89-localization of @xmath1278 _ is _ a compact generator of @xmath1279 .",
    "it follows from theorem  [ thm : gluing ] that there is a compact generator of @xmath88 .",
    "our main application of the theorem is the following statement .",
    "[ cor : azumayagluing ] let @xmath26 be a quasi - compact , quasi - separated derived scheme .",
    "then , every brauer class @xmath1280 on @xmath26 lifts to an azumaya algebra @xmath1050 .",
    "note that this theorem is false in non - derived algebraic geometry .",
    "there is a non - separated , but quasi - compact and quasi - separated , surface @xmath26 and a non - zero cohomological brauer class @xmath1281 that is not represented by an ordinary azumaya algebra  @xcite*corollary 3.11 . in this case",
    ", the brauer class vanishes on a zariski cover of @xmath26 .",
    "however , there is no global @xmath39-twisted vector bundle , so there can not be a non - derived azumaya algebra .",
    "the corollary shows that , even in this case , there _ is _ a derived azumaya algebra with class @xmath39 .",
    "we prove our main theorems on the brauer group , which will , in particular , allow us to show that the brauer group of the sphere spectrum vanishes .",
    "classically , there are two brauer groups of a commutative ring or a scheme @xmath26 .",
    "the first is the algebraic brauer group , which is the group of morita equivalence classes of azumaya algebras over @xmath26 .",
    "this notion goes back to azumaya  @xcite for algebras free over commutative rings , auslander and goldman  @xcite for the general affine case , and grothendieck  @xcite for schemes .",
    "the second is the cohomological brauer group @xmath1282 introduced by grothendieck  @xcite .",
    "there is an inclusion from the algebraic brauer group into the cohomological brauer group ( under the reasonable assumption that @xmath26 has only finitely many connected components ) , but they are not always identical , as noted above . as a result of theorem  [ cor : azumayagluing ] , the natural generalizations of these definitions to quasi - compact , quasi - separated schemes _ do _ agree . moreover , these generalizations yield not just groups but in fact grouplike @xmath175-spaces ; the brauer groups are the groups of connected components of these spaces .",
    "we work again over some fixed connective @xmath175-ring @xmath11 .",
    "when @xmath26 is an arbitrary tale sheaf , we can not say too much about the algebraic nature of the classes in @xmath1283 .",
    "however , write @xmath1284 for the full subspace of @xmath91 of classes @xmath1280 that factor through @xmath1285 . in other words , @xmath1286 is the subgroup of the brauer group consisting of those classes representable by an azumaya algebra over @xmath26 . when @xmath1129 , we will write @xmath1287 for @xmath1288 .",
    "an important fact about the brauer space of a connective commutative ring spectrum is that it has a purely categorical formulation .",
    "recall that @xmath1290 is the symmetric monoidal @xmath18-category of compactly generated @xmath14-linear categories together with colimit preserving functors that preserve compact objects .",
    "we saw in theorem  [ thm : azumayaiffinvertible ] that if @xmath20 is an @xmath14-algebra , then @xmath60 is invertible in @xmath1290 if and only if @xmath20 is azumaya .",
    "write @xmath1291 for the grouplike @xmath175-space of invertible objects in @xmath1290 .",
    "consider the diagram @xmath1293 the composition @xmath1294 is fully faithful , by definition .",
    "the map @xmath684 is fully faithful by construction of @xmath90 .",
    "thus , @xmath357 is fully faithful . on the other hand , by corollary  [ cor : azumayagluing ] ,",
    "the map @xmath357 is essentially surjective .",
    "thus , @xmath357 is an equivalence .",
    "the space @xmath1287 is a grouplike @xmath175-space for every connective commutative @xmath11-algebra @xmath14 , and the grouplike @xmath175-structure is natural in @xmath14 .",
    "thus , @xmath90 is a grouplike @xmath175-object in @xmath92 .",
    "the mapping space @xmath1295 thus inherits a grouplike @xmath175-structure from that on @xmath90 .    as a result of the corollary , when @xmath26 is an tale sheaf",
    ", we may construct via delooping a spectrum @xmath1296 , with @xmath1297 .",
    "a similar idea has been pursued recently by szymik  @xcite , but with rather different methods .",
    "we will need the following proposition , as well as the computations in the following section , to tell us the homotopy sheaves of @xmath90 .",
    "this will be used to give a complete computation of @xmath91 using a descent spectral sequence when @xmath26 is affine .      by the tale local triviality of azumaya algebras proven in theorem  [ thm : etalelocaltriviality ]",
    ", it follows that @xmath90 is a connected sheaf and that it is equivalent to the classifying space of the trivial brauer class .",
    "but , the sheaf of auto - equivalences of @xmath456 is precisely the sheaf of line bundles in @xmath456 .      in the previous section",
    ", we showed that @xmath94 , and by the tale local triviality of azumaya algebras , we know that the sheaf @xmath1298 vanishes .",
    "thus , to compute the homotopy sheaves of @xmath90 , it is enough to compute them for @xmath471 , which is what we now do .",
    "if @xmath11 is a discrete commutative ring , let @xmath1299 be the picard group of invertible @xmath11-modules .",
    "this should be distinguished from @xmath1300 , the grouplike @xmath175-space of invertible @xmath1301-modules , and from @xmath1302 .",
    "[ prop : hr ] let @xmath11 be a discrete commutative ring . then , there is an exact sequence @xmath1303 where the inclusion comes from the monoidal functor @xmath1304 , and the map @xmath1305 sends an invertible element @xmath1098 to its degree of connectivity on each connected component of @xmath81 .",
    "thus , @xmath1306 if and only if @xmath1307 for @xmath1308 , and @xmath1309 .",
    "the purpose of this section is to extend proposition  [ prop : hr ] to all connective commutative rings .",
    "the following lemma is essentially found in  @xcite*page 90 .",
    "we remark that if @xmath1098 is an invertible @xmath11-module , then @xmath1098 is perfect and @xmath1310 is the dual of @xmath1098 , @xmath1311 .",
    "it follows that there is a canonical evaluation map @xmath1312 , which is an equivalence .",
    "[ lem : equivalences ] let @xmath11 be an @xmath175-ring spectrum , and let @xmath1098 be an invertible @xmath11-module .",
    "suppose that there are @xmath11-module maps @xmath1313 and @xmath1314 such that @xmath1315 is homotopic to the identity .",
    "then , @xmath568 and @xmath135 are weak equivalences .",
    "the @xmath0th suspension of @xmath1316 is homotopic to the composition @xmath1317 therefore , @xmath1318 is a retract of @xmath1098 ; specifically , there exists a perfect @xmath11-module @xmath2 and an equivalence @xmath1319 .",
    "similarly , @xmath1320 for some perfect @xmath11-module @xmath151 .",
    "but , @xmath1321 which shows that @xmath2 and @xmath151 are zero , and hence that @xmath568 and @xmath135 are equivalences .      since @xmath12 is local , @xmath1324 by proposition  [ prop : hr ]",
    ". thus , it suffices to show that if @xmath1098 is an invertible @xmath11-module , then @xmath1325 for some @xmath0 .",
    "fixing @xmath1098 , we first identify the appropriate integer @xmath0 .",
    "the invertibility of @xmath1098 implies that @xmath1098 is a perfect @xmath11-module . by proposition  [ prop :",
    "compactness ] , it follows that @xmath1098 has a bottom homotopy group , say @xmath1326 .",
    "this means that for @xmath1308 , @xmath1327 , while @xmath1328 .",
    "similarly , let @xmath1329 be the bottom homotopy group of @xmath1310 .",
    "we will show that @xmath1330 , and that @xmath1325 .",
    "consider the @xmath226 spectral sequence for @xmath1331 : @xmath1332 the differential @xmath1333 is of degree @xmath229 .",
    "thus , for degree reasons , @xmath1334 . in this case , we have @xmath1335 since @xmath1326 and @xmath1329 are non - zero and @xmath12 is local , the term @xmath1336 is non - zero .",
    "it is the term of smallest total degree that is non - zero .",
    "thus , since it is permanent in the spectral sequence , @xmath1337 and @xmath1330 .",
    "again , since @xmath12 is local , @xmath1326 and @xmath1329 are both in fact isomorphic to @xmath12 .    choose @xmath1338 and @xmath1339 such that the isomorphism above gives @xmath1340 .",
    "the homotopy classes @xmath568 and @xmath135 are represented by @xmath11-module maps @xmath1341 then , @xmath1342 is homotopic to @xmath1343 .",
    "thus , applying lemma  [ lem : equivalences ] , the @xmath11-module maps @xmath568 and @xmath135 are in fact equivalences .",
    "this completes the proof .",
    "consider the tale sheaf @xmath1344 , which sends a connective commutative @xmath11-algebra @xmath14 to the space of units in @xmath14 .",
    "that is , @xmath1345 is defined as the pullback in the diagram of spaces @xmath1346\\ar[d ] &     \\omega^{\\infty}s\\ar[d]\\\\                  \\pi_0s^\\times    \\ar[r ] &     \\pi_0 s.      } \\ ] ] the classifying space @xmath1347 of this grouplike @xmath175-space naturally includes as the identity component into @xmath1348 .",
    "thus , there is a natural map @xmath1349 from the classifying sheaf of @xmath1344 into @xmath471 .",
    "when @xmath14 is a local connective commutative @xmath11-algebra , then @xmath1348 decomposes as the product @xmath1350 , where the map @xmath1351 sends @xmath0 to @xmath1352 .",
    "thus , we have the following corollary .      since @xmath1344 is a hypersheaf ,",
    "so is @xmath1354 .",
    "we also know that @xmath471 is a hypersheaf by proposition  [ cor : unitsaresheaves ] .",
    "finally , @xmath4 is by definition the hypersheaf associated to the constant presheaf with values @xmath4 .",
    "evidently , the sequence is in fact a sequence of sheaves of grouplike @xmath57-spaces . since @xmath4",
    "is freely generated as a sheaf of grouplike @xmath57-spaces by a single object , the splitting is obtained by taking the canonical basepoint of @xmath471 .    with this corollary , we can give the computation of the homotopy sheaves of @xmath90 , which we need in the next section in order to actually compute the brauer groups of some connective @xmath175-rings .",
    "suppose that @xmath1356 is a derived scheme , written as the union of two zariski open subschemes .",
    "then , because @xmath90 is an tale sheaf , there is a fiber sequence of spaces @xmath1357 taking long exact sequences , we obtain the following exact sequence : @xmath1358 which generalizes the classical picard - brauer exact sequence @xmath1359 when @xmath448 , @xmath288 , and @xmath26 are ordinary schemes . the computations in the next section can be used to show that the sequence is not , in general , exact on the right .",
    "the important connecting morphism @xmath1360 can be described in the following morita - theoretic way .",
    "the @xmath18-category @xmath458 of quasi - coherent sheaves on @xmath26 can be glued from @xmath1361 and @xmath1362 by taking the natural equivalence @xmath1363 . on the other hand ,",
    "given a line bundle @xmath1098 over @xmath1364 , we can twist the gluing data by tensoring with @xmath1098 .",
    "the resulting category is @xmath1365 , the @xmath18-category of quasi - coherent @xmath1366-twisted sheaves .      in this section ,",
    "we obtain a spectral sequence converging conditionally to the homotopy groups of @xmath91 . in most cases of interest , for instance when @xmath26 is affine or has finite tale cohomological dimension , we show that the spectral sequence converges completely ( see  @xcite*section ix.5 ) .",
    "in particular , the graded pieces of the filtration on the abuttment of the spectral sequence are in fact computed by the spectral sequence . as an application , in the next section , we give various example computations of brauer groups . for now , we fix a connective @xmath175-ring spectrum @xmath11 .",
    "if @xmath20 is a grouplike @xmath175-object of @xmath92 , and if @xmath26 is any object of @xmath92 , then for every @xmath1367 , there is a cohomology group @xmath1368 where @xmath1369 denotes a @xmath87-fold delooping of @xmath20 .",
    "in particular , if @xmath20 is a sheaf of abelian groups in @xmath1074 , then we can view @xmath20 canonically as a grouplike @xmath175-space .",
    "an @xmath18-topos @xmath429 has cohomological dimension @xmath1370 if @xmath1371 for all abelian sheaves @xmath20 in @xmath429 and all @xmath1372  @xcite*definition  7.2.2.18 .",
    "recall that by  @xcite*theorem  8.5.0.6 , the small tale site on @xmath15 is equivalent to the nerve of the small tale site on @xmath784 .",
    "therefore , by  @xcite*remark  7.2.2.17 , for any sheaf of abelian groups @xmath20 over @xmath14 , there is a natural isomorphism @xmath1373 where the right - hand side denotes the classical tale cohomology groups over @xmath784 .",
    "let @xmath26 be an object of @xmath92 .",
    "then , there is a conditionally convergent spectral sequence @xmath1374 with differentials @xmath1375 of degree @xmath1376 .",
    "if @xmath26 is affine , discrete , or if @xmath1377 has finite cohomological dimension , then the spectral sequence converges completely .    because @xmath90 is hypercomplete , the map from @xmath90 to the limit of its postnikov tower @xmath1378 is an equivalence . see  @xcite*section 6.5 .",
    "taking sections preserves limits , so that @xmath1379 is also an equivalence .",
    "thus , @xmath91 is the limit of a tower , and to any such tower there is an associated spectral sequence @xcite*chapter ix which converges conditionally to the homotopy groups of the limit . using the methods of brown and gersten  @xcite",
    ", one identifies the @xmath1380-page as  .    if @xmath26 is affine , discrete , or if @xmath1377 has finite cohomological dimension , then the spectral sequence degenerates at some finite page .",
    "this is clear in the latter case , and if @xmath26 is discrete the spectral sequence collapses entirely at the @xmath1380-page .",
    "so , suppose that @xmath1129 .",
    "then , @xmath91 can be computed on the small tale site on @xmath15 .",
    "but , as mentioned above , this site is the nerve of a discrete category , the small tale site on @xmath784 .",
    "therefore , @xmath1381 since @xmath1382 for @xmath1383 , and since these are all quasi - coherent @xmath1384-modules , it follows that @xmath1385 for @xmath1383 and @xmath1386 by grothendieck s vanishing theorem .",
    "thus , the only possible differentials are @xmath1387 however , these differentials vanish because @xmath1388 is in fact a split retract of @xmath90 . therefore , if @xmath26 is affine , the spectral sequences degenerates at the @xmath1380 page .",
    "it follows from the degeneration and the complete convergence lemma  @xcite*ix.5.4 that the spectral sequence converges completely to @xmath1389 .",
    "this completes the proof .",
    "note that in the special case where @xmath11 is a discrete commutative ring , szymik obtained similar computations for the purely algebraic brauer spectrum of @xmath1301 defined in  @xcite .",
    "the computations also follow from the next corollary .        in this section ,",
    "we give several examples of brauer groups of ring spectra and of derived schemes .",
    "our convention throughout this section is to write @xmath1393 for the brauer group of azumaya algebras over a discrete commutative ring @xmath11 .",
    "this injects but is not , in general , the same as @xmath1394 , as we will see below .",
    "note that @xmath1395 , by gabber  @xcite . if @xmath11 is a regular domain ,",
    "then by  @xcite*corollaire 1.8 , we have @xmath1396 .",
    "however , the @xmath1400 term does not always vanish , even when @xmath26 is ordinary and affine , so there are some truly exotic elements in the derived brauer group , even over discrete rings .",
    "here is an example : let @xmath7 be an algebraically closed field , and let @xmath1401/(y^2-x^3+x^2)$ ] .",
    "then , @xmath81 is a non - normal affine curve with singular point at @xmath1402 .",
    "the normalization of @xmath81 is @xmath1403 .",
    "it follows from  @xcite*page  19 that @xmath1404 .",
    "it is also known that @xmath1405 .",
    "therefore , we have computed that @xmath1406 .        both @xmath4 and @xmath1410 are normal , so that @xmath1411 .",
    "the ring of witt vectors @xmath1407 is a hensel local ring with residue field @xmath1408 .",
    "thus , by a theorem of azumaya ( see  @xcite*thorme 1 ) , there is an isomorphism @xmath1412 .",
    "but , @xmath1413 by a theorem of wedderburn . the albert - brauer - hasse - noether theorem from class field theory implies that @xmath1414  @xcite*proposition  2.4 .",
    "thus , in both cases , we have established the required vanishing .",
    "of course , it would be nice to have some more examples where the brauer group does not vanish .",
    "we can give several .",
    "first , we recall some standard results , all of which can be found in  @xcite*section",
    "2 . there is a residue isomorphism @xmath1415 and , for any open subscheme @xmath448 of @xmath1416 , there is an exact sequence @xmath1417 where the sum is over all prime integers @xmath87 in @xmath448 .",
    "we may also identify @xmath1418 ; the unique non - zero class is represented by the real quaternions .",
    "finally , there is an exact sequence @xmath1419 where the right - hand map is induced by mapping @xmath1420 or @xmath1421 to @xmath1422 and summing .",
    "these two exact sequences are compatible in the obvious way .    if @xmath1423 write @xmath1424 for the image of @xmath39 in @xmath1421 , and write @xmath1425 for the image of @xmath39 in @xmath1420 . by examining the two exact sequences above",
    ", it follows that @xmath1426\\right){\\cong}{\\mathds{z}}/2.\\ ] ] indeed , if @xmath39 is a class of @xmath1427 that lifts to @xmath1428)$ ] , then it follows that @xmath1429 for all primes @xmath1430 . therefore , @xmath1431 .",
    "since there is a unique non - zero class in @xmath1420 , the result follows .      1 .",
    "the brauer group of the sphere with @xmath87 inverted is @xmath1435){\\cong}{\\mathds{z}}/2 $ ] .",
    "the brauer group of the @xmath87-local sphere fits into the exact sequence @xmath102 3 .",
    "there is an isomorphism @xmath1436 , where @xmath1437 is the rational @xmath87-adic sphere .",
    "finally , we mention two examples of ordinary schemes , where the derived brauer group exhibits different behavior than the classical brauer group .",
    "the first is the scheme @xmath26 used in  @xcite*corollary 3.11 , which is the gluing of two affine quadric cones along the non - singular locus , viewed as a derived scheme over the complex numbers .",
    "this is a normal , qauasi - compact , non - separated , quasi - separated scheme , so it satisfies the hypotheses of the theorems .",
    "one can check that @xmath1438 by corollary  [ cor : brclassical ] .",
    "this example was studied originally because the classical brauer group of the scheme @xmath26 viewed as an ordinary geometric object over @xmath1439 is @xmath1440 , while the cohomological brauer group is @xmath1441 . in other words ,",
    "the non - zero class @xmath37 is represented by an azumaya algebra , but not by an ordinary azumaya algebra ( an algebra concentrated in degree @xmath72 ) .",
    "the second example is the surface of mumford  @xcite*remarques 1.11(b ) .",
    "he constructs a normal surface @xmath278 such that @xmath1442 has non - torsion elements .",
    "of course , these can never be the classes of ordinary azumaya algebras over @xmath278 .",
    "on the other hand , by corollary  [ cor : azumayagluing ] , they are represented by ( derived ) azumaya algebras over @xmath278 .",
    "benjamin antieau [ ` antieau@math.ucla.edu ` ] + ucla + math department + 520 portola plaza + los angeles , ca 90095 - 1555 + usa + david gepner",
    "[ ` djgepner@gmail.com ` ] + fakultt fr mathematik + universitt regensburg + 93040 regensburg + germany +"
  ],
  "abstract_text": [
    "<S> in this paper , we study azumaya algebras and brauer groups in derived algebraic geometry . </S>",
    "<S> we establish various fundamental facts about brauer groups in this setting , and we provide a computational tool , which we use to compute the brauer group in several examples . in particular , we show that the brauer group of the sphere spectrum vanishes , and we use this to prove two uniqueness theorems for the stable homotopy category . </S>",
    "<S> our key technical results include the local geometricity , in the sense of artin @xmath0-stacks , of the moduli space of perfect modules over a smooth and proper algebra , the tale local triviality of azumaya algebras over connective derived schemes , and a local to global principle for the algebraicity of stacks of stable categories .    </S>",
    "<S> [ [ key - words ] ] key words + + + + + + + + +    commutative ring spectra , derived algebraic geometry , moduli spaces , azumaya algebras , and brauer groups .    </S>",
    "<S> [ [ mathematics - subject - classification-2010 ] ] mathematics subject classification 2010 + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + + +    primary : http://www.ams.org/mathscinet/msc/msc2010.html?t=14fxx&btn=current[14f22 ] , http://www.ams.org/mathscinet/msc/msc2010.html?t=18gxx&btn=current[18g55 ] . </S>",
    "<S> secondary : http://www.ams.org/mathscinet/msc/msc2010.html?t=14dxx&btn=current[14d20 ] , http://www.ams.org/mathscinet/msc/msc2010.html?t=18exx&btn=current[18e30 ] . </S>"
  ]
}