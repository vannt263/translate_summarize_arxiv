{
  "article_text": [
    "this paper is concerned with automatically proving confluence of term rewrite systems .",
    "unlike termination , for which the interest in automation gave and continues to give rise to new methods and tools , automating confluence has received little attention .",
    "only very recently , the first confluence tool made its appearance : acp  @xcite implements knuth and bendix condition ",
    "joinability of critical pairs  for terminating rewrite systems  @xcite , several critical pair criteria for left - linear rewrite systems  @xcite , as well as divide and conquer techniques based on persistence  @xcite , layer - preservation  @xcite , and commutativity  @xcite .    for abstract rewrite systems , the _ decreasing diagrams _ technique of van oostrom  @xcite subsumes all sufficient conditions for confluence .",
    "to use this technique for term rewrite systems , a well - founded order on the rewrite steps has to be supplied such that rewrite peaks can be completed into so - called decreasing diagrams .",
    "we present two results in this paper .",
    "we show how to encode the rule - labeling heuristic of van oostrom  @xcite for linear rewrite systems as a satisfiability problem . in this heuristic rewrite steps",
    "are labeled by the applied rewrite rule . by limiting the number of steps that may be used to complete local diagrams ,",
    "we obtain a finite search problem which is readily transformed into a satisfiability problem . any satisfying assignment returned by a modern sat or smt solver is then translated back into a concrete rule - labeling .",
    "our second and main result employs the decreasing diagrams technique to obtain a new confluence result for left - linear but not necessarily right - linear rewrite systems .",
    "it requires that the rewrite steps involved in the generation of critical pairs are _ relatively terminating _ with respect to the rewrite system .",
    "this result can be viewed as a generalization of the two standard approaches for proving confluence : orthogonality and joinability of critical pairs for terminating systems . in the non - trivial proof we use the self - labeling heuristic in which rewrite steps are labeled by their starting term .    in the next section",
    "we recall the decreasing diagrams technique and present a small variation which better serves our purposes .",
    "section  [ confluence via relative termination ] is devoted to our main result .",
    "we prove that a locally confluent left - linear term rewrite system is confluent if there are no infinite rewrite sequences that involve infinitely many steps that were used in the generation of critical pairs . in section  [ automation ]",
    "we explain how this result is implemented .",
    "moreover , we show how the rule - labeling heuristic for decreasing diagrams can be transformed into a satisfiability problem .",
    "section  [ experiments ] presents experimental data . in section  [ conclusion ]",
    "we conclude with suggestions for future research .",
    "we start this preliminary section by recalling the decreasing diagrams technique for abstract rewrite systems ( arss ) .",
    "we write @xmath1 to denote the ars @xmath2 where @xmath3 is the union of @xmath4 for all @xmath5 . if @xmath6 then @xmath7 denotes the union of @xmath4 for all @xmath8 . in order to reduce the number of arrows , we denote the individual relations @xmath4 of an ars @xmath1 simply by @xmath9 .",
    "let @xmath10 be an ars and let @xmath11 be a well - founded order on @xmath12 .",
    "for every @xmath5 we write @xmath13 for the union of @xmath14 for all @xmath15 . if @xmath16 then @xmath17 denotes the union of @xmath13 and @xmath18 .",
    "we say that @xmath9 and @xmath19 are _ locally decreasing _ with respect to @xmath11 and we write @xmath20 if @xmath21 graphically ( dashed arrows are implicitly existentially quantified and double - headed arrows denote reflexive and transitive closure ) : @xmath22 \\tikzstyle{ll}=[text width=1pt , text height=0pt ] \\begin{tikzpicture}[scale=.7 ] \\node at ( 3,6 ) [ element ] ( a ) { $ \\cdot$ } ; \\node at ( 0,3 ) [ element ] ( b ) { $ \\cdot$ } ; \\node at ( 6,3 ) [ element ] ( c ) { $ \\cdot$ } ; \\draw [ - > ] ( a ) to ( b ) ; \\draw [ - > ] ( a ) to ( c ) ; \\node[ll , anchor = south east ] at ( 1.5,4.5 ) { \\makebox[0mm]{$\\scriptstyle \\alpha$ } } ; \\node[ll , anchor = south west ] at ( 4.5,4.5 ) { \\makebox[0mm]{$\\scriptstyle \\beta$ } } ; \\node at ( 1,2 ) [ element ] ( b1 ) { $ \\cdot$ } ; \\node at ( 2,1 ) [ element ] ( b2 ) { $ \\cdot$ } ; \\node at ( 3,0 ) [ element ] ( d )   { $ \\cdot$ } ; \\node at ( 4,1 ) [ element ] ( c2 ) { $ \\cdot$ } ; \\node at ( 5,2 ) [ element ] ( c1 ) { $ \\cdot$ } ; \\draw [ dash pattern = on 2pt off 2pt,- > > ]   ( b ) to ( b1 ) ; \\draw [ dash pattern = on 2pt off 2pt,- > ]   ( b1 ) to ( b2 ) ; \\draw [ dash pattern = on 2pt off 2pt,- > > ] ( b2 ) to ( d ) ; \\draw [ dash pattern = on 2pt off 2pt,- > > ]   ( c ) to ( c1 ) ; \\draw [ dash pattern = on 2pt off 2pt,- > ]   ( c1 ) to ( c2 ) ; \\draw [ dash pattern = on 2pt off 2pt,- > > ] ( c2 ) to ( d ) ; \\node[ll , anchor = north east ] at ( 0.5,2.5 ) { \\makebox[0mm]{$\\scriptstyle \\alpha$ } } ; \\node[ll , anchor = south west ] at ( 0.5,2.5 ) { \\makebox[0mm]{${\\smash{\\raisebox{-.5mm}{\\rotatebox{45}{$\\scriptstyle",
    "< $ } } } } $ \\hspace{1 mm } } } ; \\node[ll , anchor = north east ] at ( 1.5,1.5 ) { \\makebox[0mm]{$\\scriptstyle \\beta$ } } ; \\node[ll , anchor = south west ] at ( 1.5,1.5 ) { \\makebox[0mm]{${\\smash{\\raisebox{0mm}{\\rotatebox{-45}{$\\scriptstyle = $ } } } } $ } } ; \\node[ll , anchor = north east ] at ( 2.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle \\alpha\\beta$ } } ; \\node[ll , anchor = south west ] at ( 2.5,0.5 ) { \\makebox[0mm]{${\\smash{\\raisebox{-.5mm}{\\rotatebox{45}{$\\scriptstyle < $ } } } } $ \\hspace{1 mm } } } ; \\node[ll , anchor = north west ] at ( 5.5,2.5 ) { \\makebox[0mm]{$\\scriptstyle \\beta$ } } ; \\node[ll , anchor = south east ] at ( 5.5,2.5 ) { \\makebox[0mm]{$\\hspace{2mm}{\\smash{\\raisebox{0mm}{\\rotatebox{135}{$\\scriptstyle < $ } } } } $ } } ; \\node[ll , anchor = north west ] at ( 4.5,1.5 ) { \\makebox[0mm]{$\\scriptstyle \\alpha$ } } ; \\node[ll , anchor = south east ] at ( 4.5,1.5 ) { \\makebox[0mm]{$\\hspace{2mm}{\\smash{\\raisebox{-1mm}{\\rotatebox{45}{$\\scriptstyle = $ } } } } $ } } ; \\node[ll , anchor = north west ] at ( 3.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle \\alpha\\beta$ } } ; \\node[ll , anchor = south east ] at ( 3.5,0.5 ) { \\makebox[0mm]{$\\hspace{2mm}{\\smash{\\raisebox{0mm}{\\rotatebox{135}{$\\scriptstyle < $ } } } } $ } } ; \\node at ( 3,3 ) { $ { \\text{ld}}_>(\\alpha,\\beta)$ } ; \\end{tikzpicture}\\ ] ] the ars @xmath10 is locally decreasing if there exists a well - founded order @xmath11 on @xmath12 such that @xmath23 for all @xmath16 .",
    "van oostrom  @xcite obtained the following result .    [ dd ] every locally decreasing ars is confluent .",
    "variations of this fundamental confluence result are presented in @xcite .",
    "we present a version of theorem  [ dd ] which is more suitable for our purposes .",
    "let @xmath10 be an ars .",
    "let @xmath24 consist of a well - founded order @xmath11 on @xmath12 together with a quasi - order @xmath25 such that @xmath26 .",
    "for every @xmath5 we write @xmath27 for the union of @xmath14 for all @xmath28 and all @xmath15 .",
    "( note that @xmath29 need not hold . )",
    "we say that @xmath9 and @xmath19 are locally decreasing with respect to @xmath24 and we write @xmath30 if @xmath31 the ars @xmath10 is _ extended _ locally decreasing if there exists @xmath24 such that @xmath30 for all @xmath16 .",
    "[ dde ] every extended locally decreasing ars is confluent .",
    "let @xmath10 be extended locally decreasing with respect to @xmath24 .",
    "we write @xmath32 as the set of all @xmath33 with @xmath34 and @xmath35 .",
    "the set of all such @xmath32 is denoted by @xmath36 . for every @xmath37 we write @xmath38 for the union of @xmath4 for all @xmath39 .",
    "the well - founded order @xmath11 on @xmath12 can be lifted to @xmath36 : @xmath40 if @xmath41 . if @xmath42 , @xmath43 , and @xmath41 then @xmath44 and thus @xmath45 because of the requirement @xmath26 .",
    "hence @xmath11 is well - defined on @xmath36 .",
    "if @xmath28 and @xmath15 then @xmath46 . if @xmath28 and @xmath47 then @xmath48 and thus @xmath49 .",
    "hence @xmath50 .",
    "now consider arbitrary sets @xmath51 and let @xmath39 and @xmath52 . from the assumption",
    "@xmath30 we obtain @xmath53 by construction , the latter relation is contained in @xmath54 since @xmath55{$\\displaystyle \\bigcup_{\\alpha \\in c,\\,\\beta \\in d}$ } { { \\mathrel{{\\vphantom{\\to}_{\\alpha}}{{\\leftarrow } } } } \\cdot \\to_\\beta}\\ ] ] we conclude @xmath56 . according to theorem  [ dd ] , the ars @xmath57 is confluent . since @xmath58{$\\displaystyle \\bigcup_{c \\in { \\mathcal{c}}}$ } \\to_c\\ ] ] it follows that @xmath59 is confluent .",
    "we are interested in the application of theorems  [ dd ] and  [ dde ] for proving confluence of term rewrite systems ( trss ) .",
    "many sufficient conditions for confluence of trss are based on critical pairs .",
    "critical pairs are generated from overlaps .",
    "an overlap @xmath60 of a trs @xmath0 consists of variants @xmath61 and @xmath62 of rewrite rules of @xmath0 without common variables , a position @xmath63 , and a most general unifier @xmath64 of @xmath65 and @xmath66 .",
    "if @xmath67 then we require that @xmath61 and @xmath62 are not variants .",
    "the induced critical pair is @xmath68_p \\approx r_2\\mu$ ] .",
    "following dershowitz  @xcite , we write @xmath69 to indicate that @xmath70 is a critical pair .    in @xcite van",
    "oostrom proposed the _ rule - labeling heuristic _ in which rewrite steps are partitioned according to the employed rewrite rules .",
    "if one can find an order on the rules of a _ linear _ trs such that every critical pair is locally decreasing , confluence is guaranteed .",
    "a formalization of this heuristic is given below where @xmath71 denotes the set of critical pairs obtained from overlaps @xmath72 .",
    "[ dd - ll ] a linear trs @xmath0 is confluent if there exists a well - founded order @xmath11 on the rules of @xmath0 such that @xmath73 for all rewrite rules @xmath74 . here",
    "@xmath25 is the reflexive closure of @xmath11 .",
    "the heuristic readily applies to the following example from @xcite .",
    "[ gl ] consider the linear trs @xmath0 consisting of the rewrite rules @xmath75 there is one critical pair : @xmath76 \\tikzstyle{ll}=[text width=1pt , text height=0pt ] \\begin{tikzpicture } \\node at ( 1.5,1 ) [ element ] ( a ) { $ { \\mathsf{inc}}({\\mathsf{tl}}({\\mathsf{nat}}))$ } ; \\node at ( 0,0 ) [ element ] ( b ) { $ { \\mathsf{inc}}({\\mathsf{tl}}({\\mathsf{0 } } : { \\mathsf{inc}}({\\mathsf{nat}})))$ } ; \\node at ( 3,0 ) [ element ] ( c ) { $ { \\mathsf{tl}}({\\mathsf{inc}}({\\mathsf{nat}}))$ } ; \\draw [ - > ] ( a ) to ( b ) ; \\node[ll , anchor = south east ] at ( 0.75,0.5 ) { \\makebox[0mm]{$\\scriptstyle 1 $ } } ; \\draw [ - > ] ( a ) to ( c ) ; \\node[ll , anchor = south west ] at ( 2.25,0.5 ) { \\makebox[0mm]{$\\scriptstyle 5 $ } } ; \\end{tikzpicture}\\ ] ] we have @xmath77 hence the critical pair is locally decreasing with respect to the rule - labeling heuristic together with the order @xmath78 .",
    "the following example ( vincent van oostrom , personal communication ) shows that linearity in theorem  [ dd - ll ] can not be weakened to left - linearity .",
    "[ counterexample1 ] consider the trs @xmath0 consisting of the rewrite rules    4 1 ( , ) & & 2(,x ) & ( x , x ) & 3(x , ) & ( x , x ) & 4 &    there are three critical pairs : @xmath76",
    "\\tikzstyle{ll}=[text width=1pt , text height=0pt ] \\begin{tikzpicture } \\node at ( 1,1 ) [ element ] ( a ) { $ { \\mathsf{f}}({\\mathsf{a}},{\\mathsf{a}})$ } ; \\node at ( 0,0 ) [ element ] ( b ) { $ { \\mathsf{f}}({\\mathsf{a}},{\\mathsf{b}})$ } ; \\node at ( 2,0 ) [ element ] ( c ) { $ { \\mathsf{c}}\\mathstrut$ } ; \\draw [ - > ] ( a ) to ( b ) ; \\node[ll , anchor = south east ] at ( 0.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle 4 $ } } ; \\draw [ - > ] ( a ) to ( c ) ; \\node[ll , anchor = south west ] at ( 1.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle 1 $ } } ; \\end{tikzpicture } \\qquad",
    "\\begin{tikzpicture } \\node at ( 1,1 ) [ element ] ( a ) { $ { \\mathsf{f}}({\\mathsf{a}},{\\mathsf{a}})$ } ; \\node at ( 0,0 ) [ element ] ( b ) { $ { \\mathsf{f}}({\\mathsf{b}},{\\mathsf{a}})$ } ; \\node at ( 2,0 ) [ element ] ( c ) { $ { \\mathsf{c}}\\mathstrut$ } ; \\draw [ - > ] ( a ) to ( b ) ; \\node[ll , anchor = south east ] at ( 0.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle 4 $ } } ; \\draw [ - > ] ( a ) to ( c ) ; \\node[ll , anchor = south west ] at ( 1.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle 1 $ } } ; \\end{tikzpicture } \\qquad \\begin{tikzpicture } \\node at ( 1,1 ) [ element ] ( a ) { $ { \\mathsf{f}}({\\mathsf{b}},{\\mathsf{b}})$ } ; \\node at ( 0,0 ) [ element ] ( b ) { $ { \\mathsf{f}}({\\mathsf{b}},{\\mathsf{b}})$ } ; \\node at ( 2,0 ) [ element ] ( c ) { $ { \\mathsf{f}}({\\mathsf{b}},{\\mathsf{b}})$ } ; \\draw [ - > ] ( a ) to ( b ) ; \\node[ll , anchor = south east ] at ( 0.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle 2 $ } } ; \\draw [ - > ] ( a ) to ( c ) ; \\node[ll , anchor = south west ] at ( 1.5,0.5 ) { \\makebox[0mm]{$\\scriptstyle 3 $ } } ; \\end{tikzpicture}\\ ] ] we have @xmath79 and @xmath80 .",
    "it follows that the critical pairs are locally decreasing by taking the order @xmath81 .",
    "nevertheless , the conversion @xmath82 reveals that @xmath0 is not confluent .    in the next section",
    "we show that the restriction to right - linear rewrite rules can be dropped by imposing a relative termination condition .",
    "in this section we weaken the right - linearity requirement in theorem  [ dd - ll ] .",
    "let @xmath0 be a trs .",
    "we denote the set @xmath83_p ,",
    "l_2\\mu \\to r_2\\mu \\mid   \\text{$(l_1 \\to r_1 , p , l_2 \\to r_2)_\\mu$ is an overlap of $ { \\mathcal{r}}$ } \\}\\ ] ] of rewrite steps that give rise to critical pairs of @xmath0 by @xmath84 .",
    "the rules in @xmath84 are called _",
    "critical pair steps_. we say that @xmath0 is relatively terminating with respect to @xmath85 if the relation @xmath86 is well - founded .",
    "the main result of this section ( theorem  [ dd - l2 ] below ) states that a left - linear locally confluent trs @xmath0 is confluent if @xmath84 is relatively terminating with respect to @xmath0 . in the proof we use decreasing diagrams with the _ self - labeling heuristic _ in which rewrite steps are labeled by their starting term . a key problem when trying to prove confluence in the absence of termination is the handling of duplicating rules .",
    "parallel rewrite steps are typically used for this purpose . to anticipate future developments ( cf .",
    "section  [ conclusion ] ) we use complete development steps instead .",
    "however , first we present a special case of our main result in which duplicating rules are taken care of by requiring them to be relatively terminating with respect to the non - duplicating ones .",
    "[ dd - l1 ] let @xmath0 be a left - linear trs .",
    "let @xmath87 be the subset of duplicating rules and @xmath88 the subset of non - duplicating rules in @xmath0 .",
    "the trs @xmath0 is confluent if @xmath89 and @xmath90 is relatively terminating with respect to @xmath88 .",
    "we label rewrite steps by their starting term .",
    "labels are compared with respect to the strict order @xmath91 and the quasi - order @xmath92 .",
    "note that @xmath11 is well - founded by the assumption that @xmath90 is relatively terminating with respect to @xmath88 .",
    "we show that all local peaks of @xmath0 are extended locally decreasing .",
    "let @xmath93 and @xmath94 by applying the rewrite rules @xmath61 and @xmath62 at the positions @xmath95 and @xmath96 .",
    "we may assume that @xmath61 and @xmath62 do not share variables and thus there exists a substitution @xmath97 such that @xmath98_{p_1 } = s[l_2\\sigma]_{p_2}$ ] , @xmath99_{p_1}$ ] , and @xmath100_{p_2}$ ] .",
    "we distinguish three cases .    1 .   if @xmath101 then @xmath102 for the term @xmath103_{p_1,p_2}$ ] .",
    "we have @xmath104 if @xmath61 is duplicating and @xmath105 if @xmath61 is non - duplicating .",
    "so in both cases we have @xmath106 .",
    "similarly , @xmath107 and thus we have local decreasingness .",
    "2 .   suppose the redexes @xmath108 at position @xmath95 and @xmath109 at position @xmath96 overlap . if @xmath110 and @xmath61 and @xmath62 are variants then @xmath111 and there is nothing to prove .",
    "assume without loss of generality that @xmath112 .",
    "there exists a substitution @xmath113 such that @xmath114_{p_1}$ ] and @xmath115_{p_1}$ ] with @xmath116 . by assumption @xmath117 and hence also @xmath118 .",
    "every label @xmath119 in the valley between @xmath120 and @xmath121 satisfies @xmath122 or @xmath123 . since @xmath124 and @xmath125",
    ", it follows that @xmath126 .",
    "hence @xmath127 for every label @xmath119 in the valley between @xmath120 and @xmath121 .",
    "consequently , local decreasingness holds .",
    "3 .   in the remaining case",
    "we have a variable overlap .",
    "assume without loss of generality that @xmath128 .",
    "let @xmath129 be the variable in @xmath65 whose position is above @xmath130 .",
    "due to linearity of @xmath65 we have @xmath131 for some term @xmath132 .",
    "the number of steps in the sequence from @xmath120 to @xmath132 equals the number of occurrences of the variable @xmath129 in @xmath133 .",
    "if this number is not more than one then local decreasingness is obtained as in the first case .",
    "if this number is more than one then @xmath61 is duplicating and hence @xmath104 .",
    "therefore @xmath127 for every term @xmath119 in the sequence from @xmath120 to @xmath132 .",
    "moreover @xmath134 or @xmath135 .",
    "hence also in this case we have local decreasingness .",
    "consider the trs @xmath0 from @xcite consisting of the rewrite rules    3 ( ( x ) ) & ( ( x , x ) ) & ( ) & ( ( ) ) & ( , ) & ( ( ) )    the only critical pair @xmath136 is clearly joinable .",
    "the trs @xmath90 consists of the rewrite rules    3 ( ( ) ) & ( ( , ) ) & ( ( ) ) & ( ( ( ) ) ) & ( ( x ) ) & ( ( x , x ) )    and can be shown to be relatively terminating with respect to @xmath88 using the method described at the beginning of section  [ automation ] . hence the confluence of @xmath0 is concluded by theorem  [ dd - l1 ] .",
    "the following example shows that left - linearity is essential in theorem  [ dd - l1 ] .",
    "consider the non - left - linear trs @xmath0    3 ( x , x ) & & ( x,(x ) ) & & & ( )    from @xcite . since @xmath90 is empty , termination of @xmath137 is trivial .",
    "however , @xmath0 is not confluent because the term @xmath138 has two distinct normal forms .",
    "the termination of @xmath137 can be weakened to the termination of @xmath139 . since @xmath84 is empty for every orthogonal trs @xmath0",
    ", we obtain a generalization of orthogonality .    in the proof of theorem  [ dd - l1 ]",
    "we showed the local decreasingness of @xmath140 .",
    "the following example shows that this no longer holds under the weakened termination assumption .",
    "consider the orthogonal trs @xmath0 consisting of the two rules @xmath141 and @xmath142 .",
    "consider the local peak @xmath143 .",
    "there are two ways to complete the diagram : @xmath76 \\tikzstyle{ll}=[text width=1pt , text height=0pt ] \\begin{tikzpicture } \\node at ( 0,2 ) [ element ] ( a ) { $ { \\mathsf{f}}({\\mathsf{a}})$ } ; \\node at ( 0,0 ) [ element ] ( b ) { $ { \\mathsf{f}}({\\mathsf{b}})$ } ; \\node at ( 2,2 ) [ element ] ( c ) { $ { \\mathsf{g}}({\\mathsf{a}},{\\mathsf{a}})$ } ; \\node at ( 2,1 ) [ element ] ( d ) { $ { \\mathsf{g}}({\\mathsf{b}},{\\mathsf{a}})$ } ; \\node at ( 2,0 ) [ element ] ( e ) { $ { \\mathsf{g}}({\\mathsf{b}},{\\mathsf{b}})$ } ; \\draw [ - > ] ( a ) to ( b ) node[ll , pos=0.5,anchor = east ]    { \\makebox[0mm][r]{$\\scriptstyle { \\mathsf{f}}({\\mathsf{a}})$ } } ; \\draw [ - > ] ( a ) to ( c ) node[ll , pos=0.5,anchor = south ]    { \\makebox[0mm]{$\\scriptstyle { \\mathsf{f}}({\\mathsf{a}})$ } } ; \\draw [ - > ] ( c ) to ( d ) node[ll , pos=0.5,anchor = west ]    { $ \\scriptstyle { \\mathsf{g}}({\\mathsf{a}},{\\mathsf{a}})$ } ; \\draw [ - > ] ( d ) to ( e ) node[ll , pos=0.5,anchor = west ]    { $ \\scriptstyle { \\mathsf{g}}({\\mathsf{b}},{\\mathsf{a}})$ } ; \\draw [ - > ] ( b ) to ( e ) node[ll , pos=0.5,anchor = north ]    { \\makebox[0mm]{$\\scriptstyle { \\mathsf{f}}({\\mathsf{b}})$ } } ; \\end{tikzpicture } \\qquad\\qquad \\begin{tikzpicture } \\node at ( 0,2 ) [ element ] ( a ) { $ { \\mathsf{f}}({\\mathsf{a}})$ } ; \\node at ( 0,0 ) [ element ] ( b ) { $ { \\mathsf{f}}({\\mathsf{b}})$ } ; \\node at ( 2,2 ) [ element ] ( c ) { $ { \\mathsf{g}}({\\mathsf{a}},{\\mathsf{a}})$ } ; \\node at ( 2,1 ) [ element ] ( d ) { $ { \\mathsf{g}}({\\mathsf{a}},{\\mathsf{b}})$ } ; \\node at ( 2,0 ) [ element ] ( e ) { $ { \\mathsf{g}}({\\mathsf{b}},{\\mathsf{b}})$ } ; \\draw [ - > ] ( a ) to ( b ) node[ll , pos=0.5,anchor = east ]    { \\makebox[0mm][r]{$\\scriptstyle { \\mathsf{f}}({\\mathsf{a}})$ } } ; \\draw [ - > ] ( a ) to ( c ) node[ll , pos=0.5,anchor = south ]    { \\makebox[0mm]{$\\scriptstyle { \\mathsf{f}}({\\mathsf{a}})$ } } ; \\draw [ - > ] ( c ) to ( d ) node[ll , pos=0.5,anchor = west ]    { $ \\scriptstyle { \\mathsf{g}}({\\mathsf{a}},{\\mathsf{a}})$ } ; \\draw [ - > ] ( d ) to ( e ) node[ll , pos=0.5,anchor = west ]    { $ \\scriptstyle { \\mathsf{g}}({\\mathsf{a}},{\\mathsf{b}})$ } ; \\draw [ - > ] ( b ) to ( e ) node[ll , pos=0.5,anchor = north ]    { \\makebox[0mm]{$\\scriptstyle { \\mathsf{f}}({\\mathsf{b}})$ } } ; \\end{tikzpicture}\\ ] ] since @xmath84 is empty , neither of them is extended locally decreasing in the sense of the proof of theorem  [ dd - l1 ] .    to address the problem",
    ", we first recall _ complete developments_.    let @xmath0 be a trs .",
    "the relation @xmath144{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}$ ] is inductively defined as follows :",
    "@xmath145{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}x$ ] for all variables @xmath129 , 2 .",
    "@xmath146{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}f({{t_1},\\dots,{t_{n}}})$ ] if for each @xmath147 we have @xmath148{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}t_i$ ] , and 3 .",
    "@xmath149{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}r\\tau$ ] if @xmath150 and @xmath151{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}\\tau$ ] .    where @xmath151{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}\\tau$ ]",
    "if @xmath152{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}x\\tau$ ] for all variables @xmath129 .",
    "[ inclusion ] for every trs @xmath0 we have @xmath153{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r } } } \\subseteq { \\to_{\\mathcal{r}}^*}$ ] .",
    "the following lemma relates @xmath144{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}$ ] to @xmath154 .",
    "it is the key to prove our main result .",
    "[ development ] let @xmath0 be a trs and @xmath155 a left - linear rule in @xmath0 . if @xmath149{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}t$ ] then one of the following conditions holds :    a.   @xmath156 and @xmath151{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}\\tau$ ] for some @xmath113 , b.   @xmath157{$\\stackrel{}{\\circ}$}}}}}_{{\\mathcal{r } } } t$ ] and @xmath158",
    ".    we may write @xmath159 { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}c[{{t_1},\\dots,{t_{n } } } ] = t$ ] where @xmath148{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}t_i$ ] is obtained by case ( 3 ) in the definition of @xmath144{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}$ ] for all @xmath160 .",
    "if @xmath161 then @xmath162 and hence we can take @xmath163 to satisfy condition ( a ) .",
    "so let @xmath164 .",
    "let @xmath165 be the position of @xmath166 in @xmath167 .",
    "we distinguish two cases .    *",
    "suppose that @xmath168 .",
    "we define a substitution @xmath113 as follows .",
    "for @xmath169 let @xmath170 be the ( unique ) position in @xmath171 such that @xmath172 .",
    "let @xmath173 be the set of positions in @xmath167 of those terms @xmath174 that occur in @xmath175 .",
    "we define @xmath176 as the term that is obtained from @xmath175 by replacing for all @xmath177 the subterm @xmath166 at position @xmath178 with @xmath179 .",
    "we have @xmath180 and @xmath151{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}\\tau$ ] , so condition ( a ) is satisfied . * in the remaining case at least one position among @xmath181 belongs to @xmath182 . without loss of generality",
    "we assume that @xmath183 .",
    "since @xmath184{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}t_1 $ ] is obtained by case ( 3 ) , @xmath185 and @xmath186 for some rewrite rule @xmath61 and substitutions @xmath64 and @xmath187 with @xmath188{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}\\nu$ ] .",
    "we assume that @xmath61 and @xmath155 share no variables .",
    "hence we may assume that @xmath189 .",
    "we distinguish two further cases . * * if @xmath61 and @xmath155 are variants and @xmath190 then @xmath191 , @xmath192 , and @xmath193{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}r_1\\nu = t$ ] .",
    "because @xmath61 and @xmath155 are variants , there exists a substitution @xmath113 such that @xmath194 and @xmath151{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}\\tau$ ] .",
    "so in this case condition ( a ) is satisfied . * * if @xmath61 and @xmath155 are not variants or @xmath195 then there exists an overlap @xmath196 such that @xmath197_{p_1}$ ] is an instance of @xmath198_{p_1}$ ] .",
    "the trs @xmath84 contains the rules @xmath199_{p_1}$ ] and @xmath200 .",
    "the latter rule is used to obtain @xmath158 .",
    "an application of the former rule yields @xmath201_{p_1}$ ] . from @xmath151{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}\\nu$ ] we infer that @xmath202{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}r_1\\nu = t_1 $ ] . hence @xmath201_{p_1 } { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}l\\sigma[t_1]_{p_1 } = c[t_1,s_2,\\dots , s_n ] { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}^ * c[t_1,\\dots , t_n ] = t$ ] .",
    "the @xmath144{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}$]-steps can be combined into a single one and hence condition ( b ) is satisfied .",
    "the following example shows the necessity of left - linearity in the preceding lemma .",
    "consider the trs @xmath0 consisting of the rewrite rules    3 ( x , x ) & & ( x ) & x & &    let @xmath203 , @xmath204 , @xmath205 , and @xmath206 .",
    "we have @xmath149{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}t$ ] but @xmath207 satisfies neither condition in lemma  [ development ] .",
    "the final preliminary lemma states some obvious closure properties .",
    "[ closure ]    1 .   if @xmath208{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_s u$ ] then @xmath209 { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_{c[s ] } c[u]$ ] .",
    "2 .   if @xmath208{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_s u$ ] then @xmath209 { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_{c[s ] } c[u]$ ] .",
    "3 .   let @xmath92 and @xmath26 .",
    "if @xmath210 and @xmath208{$\\stackrel{}{\\circ}$}}}}}^ * u$ ] then @xmath208{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_s u$ ] .",
    "straightforward .    after these preliminaries we are ready for the main result .",
    "[ dd - l2 ] a left - linear trs @xmath0 is confluent if @xmath89 and @xmath139 is terminating .",
    "because of lemma  [ inclusion ] , it is sufficient to prove confluence of @xmath144{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}$ ] .",
    "we show that the relation @xmath144{$\\stackrel{}{\\circ}$}}}}}_{\\mathcal{r}}$ ] is extended locally decreasing with respect to the source labeling .",
    "labels are compared with respect to the strict order @xmath211 and the quasi - order @xmath92 .",
    "we show that @xmath212{$\\stackrel{}{\\circ}$}}}}}}{}{s } } \\cdot { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$}}}}}^{}_s } \\:\\subseteq\\ : { { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_s \\cdot { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_s \\cdot \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{s } } \\cdot \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}}{=}{s}}}\\ ] ] for all terms @xmath213 by well - founded induction on the order @xmath214 . in the base case @xmath213 is a variable and the inclusion trivially holds .",
    "let @xmath215 .",
    "suppose @xmath216{$\\stackrel{}{\\circ}$ } } } } } s { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$ } } } } } u$ ] .",
    "we distinguish the following cases , depending on the derivation of @xmath217{$\\stackrel{}{\\circ}$ } } } } } t$ ] and @xmath217{$\\stackrel{}{\\circ}$ } } } } } u$ ] .    * neither @xmath217{$\\stackrel{}{\\circ}$ } } } } } t$ ] nor @xmath217{$\\stackrel{}{\\circ}$ } } } } } u$ ] is obtained by @xmath218 , because @xmath213 is not a variable .",
    "suppose both @xmath217{$\\stackrel{}{\\circ}$ } } } } } t$ ] and @xmath217{$\\stackrel{}{\\circ}$ } } } } } u$ ] are obtained by @xmath219 .",
    "then @xmath207 and @xmath132 can be written as @xmath220 and @xmath221 .",
    "fix @xmath222 .",
    "we have @xmath223{$\\stackrel{}{\\circ}$ } } } } } s_i { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$ } } } } } u_i$ ] . by the induction hypothesis there exist @xmath224 , @xmath225 , and @xmath226 such that @xmath227{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_{s_i } t_i ' { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_{s_i } v_i \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{s_i } } u_i ' \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}}{=}{s_i } } u_i\\ ] ] with repeated applications of lemma  [ closure](1,2 ) we obtain @xmath228{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_s f({{t'_1},\\dots,{t'_{n } } } ) { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}_s^ * f({{v_1},\\dots,{v_{n } } } ) \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{s } } f({{u'_1},\\dots,{u'_{n } } } ) \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}}{=}{s } } u\\ ] ] * suppose @xmath217{$\\stackrel{}{\\circ}$ } } } } } t$ ] or @xmath217{$\\stackrel{}{\\circ}$ } } } } } u$ ] is obtained by @xmath229 . without loss of generality",
    "we assume that @xmath217{$\\stackrel{}{\\circ}$ } } } } } t$ ] is obtained by @xmath229 , i.e. , @xmath230 , @xmath231 , and @xmath151{$\\stackrel{}{\\circ}$ } } } } } \\tau$ ] .",
    "following lemma  [ development ] , we distinguish the following two cases for @xmath149{$\\stackrel{}{\\circ}$ } } } } } u$ ] . *",
    "* suppose @xmath232 for some @xmath64 with @xmath151{$\\stackrel{}{\\circ}$ } } } } } \\mu$ ] .",
    "fix @xmath169 .",
    "we have @xmath233{$\\stackrel{}{\\circ}$ } } } } } x\\sigma { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$ } } } } } x\\mu$ ] . by the induction hypothesis there",
    "exist terms @xmath234 , @xmath235 , and @xmath236 such that @xmath237{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_{x\\sigma } t_x { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}_{x\\sigma}^ * v_x \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{x\\sigma } } u_x \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}}{=}{x\\sigma } } x\\mu\\ ] ] define substitutions @xmath238 , @xmath187 , and @xmath239 as follows : @xmath240 , @xmath241 , and @xmath242 for all @xmath169 , and @xmath243 for all @xmath244 .",
    "we obtain @xmath245{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_s r\\tau ' { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}_s^ * r\\nu \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{s } } r\\mu ' \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}}{=}{s } } u\\ ] ] by repeated applications of lemma  [ closure](1,2 ) . * * in the remaining case we have @xmath246{$\\stackrel{}{\\circ}$ } } } } } u$ ] for some term @xmath247 as well as @xmath248 . clearly @xmath249{$\\stackrel{}{\\circ}$ } } } } } r\\tau = t$ ] .",
    "since @xmath0 is locally confluent ( due to @xmath89 ) , there exists a term @xmath250 such that @xmath251 and thus also @xmath249{$\\stackrel{}{\\circ}$}}}}}^ * v ' \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$ } } } } } } { * } { } } u'$ ] .",
    "we have @xmath252 and @xmath253 .",
    "lemma  [ closure](3 ) ensures that @xmath249{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_s v ' \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{s } } u'$ ] . for every term @xmath254 with @xmath255",
    "we have @xmath212{$\\stackrel{}{\\circ}$}}}}}}{}{v } } \\cdot { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$}}}}}^{}_v } \\:\\subseteq\\ :   { { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}^=_v \\cdot { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_v \\cdot \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{v } } \\cdot \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}{\\circ}$}}}}}}{=}{v}}}\\ ] ] by the induction hypothesis . hence the ars @xmath256{$\\stackrel{}{\\circ}$}}}}}_v \\}_{v < s } \\rangle$ ] is locally decreasing and therefore the relation @xmath257{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^{}_s ~=~ \\bigcup_{v < s } { \\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{}{\\circ}$}}}}}_v\\ ] ] is confluent .",
    "this is used to obtain the diagram @xmath76",
    "\\tikzstyle{ll}=[text width=0pt , text height=0pt ] \\begin{tikzpicture}[scale=1.4 ] \\node at ( 0,4 ) [ element ] ( s )   { $ s$ } ; \\node at ( 0,2 ) [ element ] ( t ' ) { $ r\\sigma$ } ; \\node at ( 0,0 ) [ element ] ( t )   { $ t$ } ; \\node at ( 2,0 ) [ element ] ( w )   { $ \\cdot$ } ; \\node at ( 2,4 ) [ element ] ( u ' ) { $ u'$ } ; \\node at ( 4,4 ) [ element ] ( u )   { $ u$ } ; \\node at ( 2,2 ) [ element ] ( v ' ) { $ v'$ } ; \\node at ( 4,0 ) [ element ] ( v )   { $ \\cdot$ } ; \\draw [ - > ] ( s )   to ( t ' ) ; \\draw [ - > ] ( t ' ) to ( t )     node[pos=0.5 ] { $ \\circ$ }    node[pos=0.5,anchor = east ] { \\raisebox{2mm}{${\\smash{\\raisebox{-.5mm}{\\rotatebox{180}{$\\scriptstyle < $ } } } } $ } }    node[ll , pos=0.5,anchor = west ] { \\footnotesize $ s$ } ; \\draw [ - > ] ( s )   to ( u ' ) ; \\draw [ - > ] ( u ' ) to ( u )     node[pos=0.5 ] { $ \\circ$ }     node[pos=0.5,anchor = south ] { \\raisebox{.5mm}{${{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } $ } }    node[pos=0.5,anchor = north ] { \\raisebox{-2mm}{\\footnotesize $ s$ } } ; \\draw [ - > > ] ( t ' ) to ( v ' )     node[pos=0.5 ] { $ \\circ$ }    node[pos=0.5,anchor = south ] { \\raisebox{.5mm}{${{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } $ } }    node[pos=0.5,anchor = north ] { \\raisebox{-2mm}{\\footnotesize $ s$ } } ; \\draw [ - > > ] ( v ' ) to ( w )    node[pos=0.5 ] { $ \\circ$ }    node[pos=0.5,anchor = east ] { \\raisebox{2mm}{${\\smash{\\raisebox{-.5mm}{\\rotatebox{180}{$\\scriptstyle < $ } } } } $ } }    node[ll , pos=0.5,anchor = west ] { \\footnotesize $ s$ } ; \\draw [ - > > ] ( u ' ) to ( v ' )     node[pos=0.5 ] { $ \\circ$ }    node[pos=0.5,anchor = east ] { \\raisebox{2mm}{${\\smash{\\raisebox{-.5mm}{\\rotatebox{180}{$\\scriptstyle < $ } } } } $ } }    node[ll , pos=0.5,anchor = west ] { \\footnotesize $ s$ } ; \\draw [ - > > ] ( t )   to ( w )    node[pos=0.5 ] { $ \\circ$ }    node[pos=0.5,anchor = south ] { \\raisebox{.5mm}{${{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } $ } }    node[pos=0.5,anchor = north ] { \\raisebox{-2mm}{\\footnotesize $ s$ } } ; \\draw [ - > > ] ( w )   to ( v )    node[pos=0.5 ] { $ \\circ$ }    node[pos=0.5,anchor = south ] { \\raisebox{.5mm}{${{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } $ } }    node[pos=0.5,anchor = north ] { \\raisebox{-2mm}{\\footnotesize $ s$ } } ; \\draw [ - > > ] ( u )   to ( v )    node[pos=0.5 ] { $ \\circ$ }    node[pos=0.5,anchor = east ] { \\raisebox{2mm}{${\\smash{\\raisebox{-.5mm}{\\rotatebox{180}{$\\scriptstyle < $ } } } } $ } }    node[ll , pos=0.5,anchor = west ] { \\footnotesize $ s$ } ; \\node[anchor = east ] at ( 0,3 ) { $ \\scriptstyle { \\mathsf{cps}}({\\mathcal{r}})$ } ; \\node[anchor = north ] at ( 1,4.35 ) { $ \\scriptstyle { \\mathsf{cps}}({\\mathcal{r}})$ } ; \\node at ( 3,2 ) { cr(${\\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^{}_s$ ) } ; \\node at ( 1,1 ) { cr(${\\xrightarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^{}_s$ ) } ; \\end{tikzpicture}\\ ] ] from which we conclude that @xmath208{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}^*_s \\cdot \\mathrel{\\test{{\\xleftarrow{\\smash{\\raisebox{-2mm}{\\makebox[4mm]{$\\stackrel{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } { \\circ}$}}}}}}{*}{s } } u$ ] .",
    "[ main - example ] suppose we extend the trs @xmath0 of example  [ gl ] by the rewrite rule @xmath258 the resulting trs @xmath259 has the same critical pair as @xmath0 and @xmath260 consists of    2 ( ( ) ) & ( ( ) ) & ( ( ) ) & ( ( : ( ) ) )    by taking the matrix interpretation ( @xcite )    3 _ ( ) & =    1 & 0 + 1 & 0    & _ ( ) & = & _ & =    0 + 0     + _ & =    0 + 1    & _ ( ) & =    1 & 1 + 1 & 0    & _ ( ) & =    1 & 1 + 0 & 0     + _ ( ) & =    1 & 1 + 1 & 1    & _ ( , ) & =    1 & 1 + 1 & 1    +    we obtain @xmath261 and @xmath262 : @xmath263_{\\mathcal{m}}= \\begin{pmatrix } 1 \\\\ 1 \\end{pmatrix } > \\begin{pmatrix } 0 \\\\ 0 \\end{pmatrix } = [ { \\mathsf{tl}}({\\mathsf{inc}}({\\mathsf{nat}}))]_{\\mathcal{m}}= [ { \\mathsf{inc}}({\\mathsf{tl}}({\\mathsf{0 } } : { \\mathsf{inc}}({\\mathsf{nat}})))]_{\\mathcal{m}}\\ ] ] hence @xmath264 is terminating and theorem  [ dd - l2 ] yields the confluence of @xmath259 .",
    "note that theorem  [ dd - l1 ] does not apply because @xmath265 is not relatively terminating with respect to @xmath88 ; consider the term @xmath266 .",
    "the next example explains why one can not replace @xmath84 by @xmath267    [ counterexample2 ] consider the non - confluent trs    4 ( ) & & ( ) & & & & &    @xmath268 consists of    2 ( ) & & ( ) &    and it is easy to see that @xmath269 is terminating .",
    "an easy extension of our main result is obtained by excluding critical pair steps from @xmath84 that give rise to trivial critical pair steps . the proof is based on the observation that lemma  [ development ] still holds for this modification of @xmath84 .",
    "concerning the automation of theorem  [ dd - l2 ] , for checking relative termination we use the following criteria of geser  @xcite :    for trss @xmath0 and @xmath85 , @xmath270 is terminating if    1 .",
    "@xmath271 , 2 .",
    "@xmath272 is terminating , or 3 .",
    "there exist a well - founded order @xmath11 and a quasi - order @xmath25 such that @xmath11 and @xmath25 are closed under contexts and substitutions , @xmath26 , @xmath273 , and @xmath274 is terminating .    based on this result , termination of @xmath139 is shown by repeatedly using the last condition to simplify @xmath84 and @xmath0 .",
    "as soon as the first condition applies , termination is concluded .",
    "if the first condition does not apply and the third condition does not make progress , we try to establish termination of @xmath275 using the termination tool @xmath276  @xcite . for checking the third condition we use matrix interpretations  @xcite .    in the remainder of this section",
    "we show how to implement theorem  [ dd - ll ] .",
    "we start by observing that the condition of theorem  [ dd - ll ] is undecidable even for locally confluent trss .",
    "the following decision problem is undecidable :    [ cols= \" < , < \" , ]     we reduce the problem to the joinability of two ground terms for linear non - overlapping trss .",
    "the latter problem is undecidable as an easy consequence of the encoding of turing machines as linear non - overlapping trss , see e.g.  @xcite .",
    "so let @xmath85 be a ( finite ) linear non - overlapping trs and let @xmath213 and @xmath207 be arbitrary ground terms .",
    "we extend @xmath85 with fresh constants @xmath277 and the rewrite rules    4 & s & & t & & & &    to obtain the trs @xmath0 .",
    "if @xmath213 and @xmath207 are joinable ( in @xmath85 ) then the four critical pairs are locally decreasing by labeling the above four rules with @xmath278 and all rules in @xmath85 with @xmath279 and using the order @xmath280 .",
    "if @xmath213 and @xmath207 are not joinable , then no rule - labeling will make the critical pairs locally decreasing .",
    "so confluence of @xmath0 can be established by the rule - labeling heuristic if and only if the terms @xmath213 and @xmath207 are joinable in @xmath85 .    by putting a bound on the number of steps to check joinability",
    "we obtain a decidable condition for ( extended ) local decreasingness : @xmath281_p\\mu   \\ : \\mathrel{\\overbrace { \\rule[3ex]{0pt}{0pt}\\smash{\\xrightarrow{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } } _ \\alpha^ * \\cdot \\xrightarrow{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}_\\beta^{= } \\cdot \\mathrel{\\smash{\\xrightarrow{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } } _ { \\alpha\\beta}^ * } } ^{\\text{at most $ k$ steps } } } \\cdot   \\mathrel{\\overbrace { \\rule[3ex]{0pt}{0pt}\\mathrel{\\test{\\xleftarrow{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } } { * } { \\alpha\\beta } } \\cdot \\mathrel{\\test{\\xleftarrow{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle \\eqslantless$}}}}}}}{=}{\\alpha } } \\cdot \\mathrel{\\test{\\xleftarrow{{{\\smash{\\raisebox{-.5mm}{\\rotatebox{90}{$\\scriptstyle < $ } } } } } } } { * } { \\beta } } } ^{\\text{at most $ k$ steps } } } \\ : r_2\\mu\\ ] ] for each overlap @xmath282 of @xmath0 with @xmath283 and @xmath284 .",
    "below we reduce this to _ precedence constraints _ of the form @xmath285 where @xmath9 stands for variables corresponding to the rules in @xmath0 . from the encodings of termination methods for term rewriting , we know that the satisfiability of such precedence constraints is easily determined by sat or smt solvers ( cf .",
    "@xcite ) .    for terms @xmath213 , @xmath207 and @xmath286 , a pair @xmath287",
    "is called a _",
    "@xmath288-join instance _ of @xmath289 if @xmath290 , @xmath291 , and @xmath292 the _ embedding order _",
    "@xmath293 on sequences is defined as @xmath294 whenever @xmath295 .",
    "the set of all minimal ( with respect to @xmath296 ) @xmath288-join instances of @xmath289 is denoted by @xmath297 .",
    "we define @xmath298 as @xmath299 with @xmath300 denoting @xmath301 if @xmath302 and @xmath303 if @xmath304 .",
    "furthermore , @xmath305 denotes the conjunction of @xmath306_p\\mu , r_2\\mu ) \\bigr\\}\\ ] ] for all overlaps @xmath307 of @xmath0 .",
    "the only non - trivial part of the encoding is the minimality condition in @xmath297 .",
    "the next lemma explains why non - minimal pairs can be excluded from the set and example  [ rl ] shows the benefit of doing so .",
    "if @xmath308 is satisfiable and @xmath309 then @xmath310 is satisfiable .",
    "straightforward .",
    "we illustrate the encoding on a concrete example .",
    "[ rl ] consider the trs @xmath0 of example  [ gl ] .",
    "we show how @xmath311 is computed .",
    "there is a single overlap @xmath312 resulting in the critical pair @xmath70 with @xmath313 and @xmath314 .",
    "its @xmath315-join instances are    4 ( ( 3 ) , ( 1 , 4 , 3 ) ) & & ( ( 3 , 1 ) , ( 1 , 4 , 3 , 1 ) ) & & ( ( 3 , 1 ) , ( 1 , 4 , 1 , 3 ) ) & & ( ( 3 , 1 ) , ( 1 , 1 , 4 , 3 ) ) + & & ( ( 1 , 3 ) , ( 1 , 4 , 3 , 1 ) ) & & ( ( 1 , 3 ) , ( 1 , 4 , 1 , 3 ) ) & & ( ( 1 , 3 ) , ( 1 , 1 , 4 , 3 ) )    only the first one belongs to @xmath316 and hence @xmath317 with @xmath318 and @xmath319 this formula is satisfied by taking ( e.g. ) the order @xmath78 . hence , the confluence of @xmath0 is concluded by local decreasingness with respect to the rule labeling heuristic using at most 3 steps to close critical pairs .",
    "[ dd - rl ] a linear trs @xmath0 is confluent if @xmath305 is satisfiable for some @xmath286 .",
    "@l@rrrrrrr@ + & ( a ) & ( b ) & ( c ) & ( d ) & ( e ) & ( f ) & ( g ) + yes & 20 & 81 & 67 & 49 & 100 & 107 & 135 + timeout ( @xmath320 s ) & 0 & 0 & 0 & 3 & 4 & 3 & 17 +    we tested our methods on a collection of 424 trss , consisting of the 103 trss in the acp distribution , the trss of examples  [ counterexample1 ] , [ main - example ] , and [ counterexample2 ] , and those trss in version 5.0 of the termination problems data base that are either non - terminating or not known to be terminating .",
    "( systems that have extra variables in right - hand sides of rewrite rules are excluded . )",
    "the results are summarized in table  [ summary ] .",
    "the following techniques are used to produce the columns :    * knuth and bendix criterion  @xcite : termination and joinability of all critical pairs , * orthogonality , * theorem  [ dd - rl ] with @xmath321 , * theorem  [ dd - l1 ] , * theorem  [ dd - l2 ] , * the extension of theorem  [ dd - l2 ] mentioned at the end of section  [ confluence via relative termination ] in which critical pair steps that generate trivial critical pairs are excluded from @xmath84 , * acp  @xcite .    to obtain the data in columns ( a)(f ) we slightly extended the open source termination tool @xmath276 . for the data in column ( c )",
    "the sat solver  @xcite is used . since",
    "local confluence is undecidable ( for non - terminating trss ) , in ( c)(f ) it is approximated by @xmath322 .",
    "acp proves that 198 of the 424 trss are not confluent . of the remaining 226 trss",
    ", local confluence can be shown using at most 4 rewrite steps from both terms in every critical pair for 185 trss . moreover , of these 185 trss , 147 are left - linear and 75 are linear . as a final remark",
    ", the combination of ( c ) and ( f ) proves that 129 trss are confluent , and the combination of ( c ) , ( f ) , and ( g ) shows confluence for 145 trss . these numbers clearly show that both our results have a role to play .",
    "in this paper we presented two results based on the decreasing diagrams technique for proving confluence of trss . for linear trss",
    "we showed how the rule - labeling heuristic can be implemented by means of an encoding as a satisfiability problem and we employed the self - labeling heuristic to obtain the result that an arbitrary left - linear locally confluent trs is confluent if its critical pair steps are relatively terminating with respect to its rewrite rules .",
    "we expect that both results will increase the power of acp  @xcite .    as future work",
    "we plan to investigate whether the latter result can be strengthened by decreasing the set @xmath84 of critical pair steps that need to be relatively terminating with respect to @xmath0 .",
    "we anticipate that some of the many critical pair criteria for confluence that have been proposed in the literature ( e.g.  @xcite ) can be used for this purpose .",
    "the idea here is to exclude the critical pair steps that give rise to critical pairs whose joinability can be shown by the conditions of the considered criterion .",
    "aoto , t. , yoshida , j. , toyama , y. : proving confluence of term rewriting systems automatically . in : proc .",
    "20th international conference on rewriting techniques and applications .",
    "lncs , vol . 5595 , pp .",
    "93102 ( 2009 )      codish , m. , lagoon , v. , stuckey , p. : solving partial order constraints for lpo termination . in : proc .",
    "17th international conference on rewriting techniques and applications .",
    "lncs , vol . 4098 , pp .",
    "418 ( 2006 )              gramlich , b. , lucas , s. : generalizing newman s lemma for left - linear rewrite systems . in : proc .",
    "17th international conference on rewriting techniques and applications .",
    "lncs , vol .",
    "4098 , pp .",
    "6680 ( 2006 )"
  ],
  "abstract_text": [
    "<S> in this paper we use the decreasing diagrams technique to show that a left - linear term rewrite system @xmath0 is confluent if all its critical pairs are joinable and the critical pair steps are relatively terminating with respect to @xmath0 . </S>",
    "<S> we further show how to encode the rule - labeling heuristic for decreasing diagrams as a satisfiability problem . </S>",
    "<S> experimental data for both methods are presented . </S>"
  ]
}