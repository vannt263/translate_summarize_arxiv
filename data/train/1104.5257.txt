{
  "article_text": [
    "the homomorphism problem , in its guise as constraint satisfaction , has numerous applications in various fields of computer science such as artificial intelligence and database theory .",
    "many well - known problems in @xmath0  may be formulated as homomorphism problems @xcite and in graph theory , where the problem is known as @xmath1-colouring , there are results enough to fill a book @xcite .",
    "the homomorphism problems we study ask whether a structure @xmath2 has a homomorphism to a fixed structure @xmath3  the template  and a natural variant of this requires that the homomorphism be surjective . a homomorphism problem is trivial",
    "if the relations of @xmath3 all contain the tuple @xmath4 , for some @xmath5 , and the matching surjective homomorphism problem is one of the most closely related problems for which this need no longer cause triviality .    despite their naturalness ,",
    "surjective homomorphism problems have attracted less attention in the literature than other homomorphism - related problems such as retraction and list homomorphism . in this paper",
    "we survey known results about surjective homomorphism problems , particularly in the context of their brethren homomorphism , compaction , retraction and list homomorphism problems .",
    "perhaps the principal message of this survey is that surjective homomorphism problems seem to be very difficult to classify in terms of complexity  that some of their number are possibly threshold cases , close to the boundary of intractability .",
    "we discuss why standard methods to prove easiness or hardness fail , and it is in this spirit that we present three concrete surjective problems , two of open complexity , that have arisen naturally in the literature .",
    "we would like to emphasise this distinction from the world of homomorphism problems , where for single explicitly given templates it is usually not difficult to classify the complexity of the corresponding problem .",
    "being a survey , it should not be necessary to address related work in the introduction as this should appear in the body of the paper .",
    "however , we mention here some work that is somehow similar but outside of the scope of this survey .",
    "locally surjective homomorphism problems , also known as @xmath1-role assignment , have been studied in @xcite .",
    "one of our central problems , @xmath6 , is very closely related to a graph partition problem .",
    "there is a rich literature on graph partition and especially list partition problems . for list partition problems we mention",
    "particularly @xcite and @xcite ( in the latter , another intriguing problem of open complexity appeared  after six years it has just been classified as in @xmath7  @xcite ) .",
    "the dichotomy for boolean surjective homomorphism problems  which will appear later  has been used in the classification of a class of infinite - domain homomorphism problems related to phylogeny problems @xcite . finally , asking that a homomorphism be surjective is a particular kind of global cardinality constraint .",
    "these have attracted much attention in the constraints community , and we mention in particular the complexity results and classifications of @xcite and @xcite .",
    "the paper is organised as follows . in section  [ sec : prelims ]",
    "we introduce the problems that play a role in our survey together with the relationships that hold between them . in section",
    "[ sec : origins ] , we consider the chronology in which various of these problems were considered as well as giving some basic results .",
    "we then examine why a full classification for surjective homomorphism problems is likely to be difficult ( in fact all we do is infer this result from the equivalent results for retraction and compaction ) . in section  [ sec : cref4 ]",
    ", we introduce our first two problems @xmath8 and @xmath6 and look at recent work on @xmath6 , culminating in its classification as @xmath0-complete . in section  [ sec : no - rainbow ] , we introduce our third problem of open complexity  the @xmath9-no - rainbow - colouring problem  and give some related results towards its classification .",
    "in particular , we introduce the idea of safe gadgets in reductions that do not artificially interfere with the condition of surjectivity .",
    "we then conclude the paper with some final remarks .",
    "for some finite and relational signature @xmath10 , we consider only finite @xmath10-structures @xmath2 , @xmath3 whose underlying domains we denote @xmath11 , @xmath12 of cardinality @xmath13 , @xmath14 etc . a _ homomorphism _ from @xmath2 to @xmath3 is a function @xmath15 such that , for all @xmath16 of arity @xmath17 , if @xmath18 then @xmath19 .",
    "the _ homomorphism problem _",
    "@xmath20 takes as input some finite @xmath2 and asks whether there is a homomorphism from @xmath2 to the fixed _ template _",
    "@xmath3 ( denoted @xmath21 ) .",
    "the _ surjective homomorphism problem _",
    "@xmath22 is defined similarly , only we insist that the homomorphism @xmath23 be surjective .",
    "it is easy to see that the problems @xmath20 and @xmath22 ( and all the problems we will work with in this paper ) are in @xmath0 .",
    "the problems @xmath20 span a broad subclass of @xmath0  that may appear to form a microcosm .",
    "however , it is conjectured that these problems are always either in @xmath7  or are @xmath0-complete @xcite  a property that @xmath0  itself does not have , assuming @xmath24 @xcite .",
    "a _ digraph _ is a structure with a single binary relation @xmath25 . if @xmath25 is symmetric and antireflexive then @xmath1 is a _",
    "graph_. if @xmath25 is just symmetric , we call @xmath1 a _ partially reflexive graph_. we introduce several graphs that will play a role in our exposition",
    ". let @xmath26 $ ] be the set @xmath27 .",
    "the cliques @xmath28 and @xmath29 each have domain @xmath26 $ ] , with binary edge relations @xmath30 and @xmath31 ^ 2 $ ] , respectively .",
    "@xmath32 is the _ graph @xmath33-colouring problem _ which will appear in this survey many times .",
    "the cycles @xmath34 and @xmath35 each have domain @xmath26 $ ] , with binary edge relations @xmath36 and @xmath37 , respectively . the paths @xmath38 and @xmath39 each have domain @xmath40 $ ] , with binary edge relations @xmath41 and @xmath42 , respectively .",
    "the distance @xmath43 between vertices @xmath44 is the minimum length of a path in @xmath45 between them .",
    "the _ diameter _ of a graph is the maximum of @xmath43 over all its vertices @xmath17 and @xmath46 ( a disconnected graph has infinite diameter ) .",
    "if @xmath45 is an ( antireflexive ) graph , then its complement @xmath47 is defined over the same domain @xmath48 , with edge set @xmath49 . in the context of graphs , the problem @xmath50 is usually known as the _ @xmath1-colouring _ problem .",
    "there are several further problems , related to the homomorphism problem , that appear as though they might be relevant in studying the complexities of surjective homomorphism problems .",
    "closely related is the _ non - trivial homomorphism problem _",
    "@xmath51 which asks if there is a homomorphism from @xmath2 to @xmath3 that is not a constant function . alongside the surjective homomorphism problem , this manifests as one of the more natural variants of homomorphism that may remain hard where that problem becomes easy",
    ". the _ list homomorphism problem _",
    "@xmath52 takes as input some @xmath2 together with , for each @xmath53 , lists @xmath54 , and asks whether there is a homomorphism @xmath23 from @xmath2 to @xmath3 such that @xmath55 .",
    "list homomorphism is clearly a special case of homomorphism where the template is expanded by all possible unary relations ( corresponding to all possible lists ) .",
    "much is known about the complexity of list homomorphism problems . in @xcite",
    "a dichotomy is proved for @xmath56 when @xmath1 is a graph .",
    "specifically , if the complement of @xmath1 is a circular arc graph then @xmath56 is in @xmath7 , otherwise @xmath56 is @xmath0-complete . in @xcite ,",
    "a dichotomy is proved for @xmath56 when @xmath1 is a reflexive graph . specifically ,",
    "if @xmath1 is an interval graph then @xmath56 is in @xmath7 , otherwise @xmath56 is @xmath0-complete ( an _ interval graph _ can be realised in the following fashion : the vertices are closed connected sub - intervals of @xmath57 $ ] and an edge connects two vertices iff the intervals overlap ) .",
    "a complete dichotomy was given for partially reflexive graphs in @xcite and , finally , bulatov gave a full dichotomy for list homomorphism in @xcite .",
    "the _ retraction problem _",
    "@xmath58 takes as input some @xmath2 , with @xmath3 an induced substructure of @xmath2 , and asks whether there is a homomorphism @xmath59 such that @xmath23 is the identity on @xmath3 .",
    "it is important that the copy of @xmath3 is specified in @xmath2 ; it can be that @xmath3 appears twice as an induced substructure and there is a retraction from one of these instances but not to the other . the problem @xmath58 is easily seen to be logspace equivalent with the problem @xmath60 , where @xmath61 is @xmath3 expanded with all constants ( one identifies all elements assigned to the same constant and enforces the structure @xmath3 on those constants ) . thus , like list homomorphism , retraction problems are special cases of homomorphism problems ( although they are at least as hard to fully classify  see theorem  [ thm : csp = ret ] ) . in the context of graph problems",
    ", @xmath62 is sometimes known as a _ precolouring problem _ , due to the pre - assignment of the constants to the input .",
    "the _ compaction problem _ is traditionally only defined on graphs , and we will first define it thus , as it may be generalised in more than one way .",
    "@xmath63 takes as input some @xmath45 and asks whether there is a surjective homomorphism @xmath64 such that @xmath23 is edge - surjective except possibly on self - loops .",
    "formally , for all @xmath65 s.t . @xmath66 and",
    "@xmath67 , there exists @xmath68 s.t .",
    "@xmath69 and @xmath70 and @xmath71 ( @xmath72 is called a _ preimage _ of @xmath73 ) . the stipulation therein that @xmath66 appears rather unnatural ( blame the graph - theorists ! ) and , other than this , one may say that this coincides with @xmath1 being a _ homomorphic image _ of @xmath45 in the sense of @xcite .",
    "the definition of compaction may be generalised to arbitrary signatures in at least two ways .",
    "let @xmath74 be a relation of @xmath10 of arity @xmath17 .",
    "firstly , we could insist that for every @xmath75 s.t .",
    "@xmath76 _ are not all the same _ and @xmath77 , there exists @xmath78 s.t .",
    "@xmath18 and @xmath79 ,  , @xmath80 .",
    "secondly , we could do likewise but with `` not all the same '' substituted by `` pairwise distinct '' .",
    "we prefer the first generalisation and will henceforth stick with it .",
    "let @xmath81 indicate many - to - one logspace reduction and @xmath82 polynomial time turing reduction .",
    "[ prop : reductions ] for finite @xmath3 our problems sit in the following relationship .",
    "@xmath83 @xmath84    it is a simple observation that both @xmath85 and @xmath86 .",
    "one may use the reduction maps @xmath87 ( provided @xmath88 ) and @xmath89 , respectively ( the @xmath90 indicates disjoint union ; the designation @xmath91  somewhat abused as the structures need not be digraphs  means simply an element with empty relations ) .",
    "the reduction from @xmath51 to @xmath22 proceeds as follows . from an input @xmath2 for @xmath51",
    ", we will consider each of the ways that two elements @xmath92 may be mapped to distinct @xmath93 in @xmath12 ( somesuch must if there is to be a non - constant homomorphism ) .",
    "there are at most fewer than @xmath94 many combinations @xmath95 to consider .",
    "for each one of these we build @xmath96 by adjoining to @xmath2 a copy of @xmath3 with @xmath97 and @xmath98 , as well as @xmath99 and @xmath100 identified .",
    "if one of these @xmath96 surjectively maps to @xmath3 then @xmath101 can not map to a constant element , for cardinality reasons ( it would collapse @xmath98 and @xmath100 to the same element and one would be forced to surjectively map @xmath102 elements to @xmath14 ) .",
    "conversely , if @xmath2 has a non - constant homomorphism to @xmath3 then , by construction , one @xmath96 will surjectively map to @xmath3 .",
    "the reduction from @xmath22 to @xmath103 goes as follows .",
    "let @xmath3 be enumerated @xmath104 .",
    "@xmath105 iff for some @xmath33 constants @xmath106 there is a homomorphism @xmath59 s.t .",
    "@xmath107 ,  , @xmath108 . if @xmath109 then we consider all @xmath110 possible assignments @xmath95 for @xmath111 in @xmath11 , and we enforce the structure @xmath3 on top of them ; i.e. we build @xmath96 from @xmath2 by adding relations @xmath112 if @xmath113 . we claim that @xmath105 iff , for some @xmath95 , @xmath114 .",
    "( forwards . ) choose @xmath95 to witness surjectivity of the surjective homomorphism from @xmath2 to @xmath3 .",
    "( backwards . )",
    "a compaction is a fortiori a surjective homomorphism .",
    "the reduction from @xmath103 to @xmath58 is discussed for graphs in @xcite ( see this for a more formal description ) . given @xmath2 of size @xmath115 as an input for @xmath103 , one looks for some candidate set of preimages of the relations in @xmath3 . since @xmath3 is of finite size @xmath33 , with say @xmath116 relations of arity @xmath117 , this set of preimages is of size bound by @xmath118 .",
    "each preimage may mention @xmath119 elements of @xmath2 , so it follows that there are @xmath120 candidate sets of elements underlying these preimages in @xmath2 ( the important point being that this is a polynomial in @xmath115 ) .",
    "when one has a candidate set , with the necessary preimage relations , one identifies elements as necessary and enforces the structure @xmath3 on these elements , to produce a structure @xmath121 .",
    "finally , one of these @xmath121 will retract to @xmath3 iff @xmath122 .",
    "the reduction from @xmath58 to @xmath52 is trivial .",
    "we remark that the reduction from compaction to retraction breaks down on structures with infinite signatures .",
    "however , it is easy to see that there is a polynomial - time turing reduction from surjective homomorphism to retraction that works even on structures with infinite signatures .    while @xmath85 , the converse is unlikely ( i.e. assuming @xmath24 ) to be true :",
    "take @xmath123 .",
    "clearly @xmath20 is trivial ( one may map all vertices of the input to the @xmath124 . however , @xmath51 is @xmath0-complete , as can be seen by reduction from @xmath9-colouring _ for connected inputs only _ ( it is easy to see this remains @xmath0-complete ; see , e.g. , @xcite ) .",
    "one can use the reduction map @xmath125 . note that this same example also directly separates @xmath20 and @xmath22 (",
    "so long as the connected input for @xmath9-colouring is of size @xmath126 ) .",
    "just as easily as @xmath20 and @xmath51 were separated , so we may separate @xmath51 and @xmath22 taking @xmath127 . once again",
    "the reduction is from @xmath128 and the map is @xmath129 .",
    "we now establish how @xmath58 and @xmath52 may have differing complexities .",
    "let @xmath130 be the @xmath131-path with self - loop on the first three vertices and not on the last two , i.e. with vertices @xmath132 and edge set @xmath133 ) .",
    "it is known that @xmath134 is in @xmath7  ( see @xcite ) while @xmath135 is @xmath0-complete ( @xmath130 has no conservative majority polymorphism ; see @xcite ) .",
    "no separation of the complexities of @xmath22 , @xmath103 and @xmath58 is known .",
    "furthermore , the following is a noted conjecture ( this goes back to winkler in 1988 for reflexive graphs ; see vikas s papers in the bibliography ) .",
    "for all graphs @xmath1 , @xmath63 and @xmath136 are polynomially turing equivalent .",
    "surjective homomorphisms problems are a natural generalisation of homomorphism problems , and it is in this context that we see our earliest classifications of surjective homomorphism problems . in the following",
    "we will not define what it means to be horn , dual horn , bijunctive or affine  please see the text referenced .",
    "let @xmath3 be boolean , on domain @xmath137 . then",
    ", if all relations of @xmath3 are from one among horn , dual horn , bijunctive or affine , @xmath22 is in @xmath7 .",
    "otherwise , it is @xmath0-complete .",
    "this classification is very similar to the boolean homomorphism dichotomy of schaefer @xcite , except for the instances in which @xmath20 is trivial because the relations of @xmath3 either all contain @xmath138 or all contain @xmath139 .",
    "these latter cases , when the relations are not among horn , dual horn , bijunctive or affine , become hard in general for the surjective homomorphism problem .",
    "we note that in the boolean case , the dichotomy for surjective homomorphism problems ( between @xmath7  and @xmath0-complete ) coincides with the dichotomy for _ quantified constraint satisfaction problems _ ( between @xmath7  and @xmath140-complete ) @xcite .",
    "otherwise , and ancestrally , the most important problem from the perspective of surjective homomorphism , is list homomorphism .",
    "since we are especially interested in graphs , we note specifically the work done by feder , hell and huang @xcite .",
    "typically , their @xmath0-hardness results , proved in the context of list homomorphism , were immediately applied to give @xmath0-hardness for retraction , and then were modified by vikas to give @xmath0-hardness for compaction .",
    "two very important subcases were the @xmath0-hardness of @xmath141 ( for @xmath142 ) @xcite and the @xmath0-hardness of @xmath143 ( for @xmath144 ) @xcite . although these appeared in different papers , the proofs are remarkably similar , and we will briefly review the proof in the case of @xmath145 .",
    "@xmath146 is @xmath0-complete ( @xmath147 is @xmath0-complete ) .",
    "membership of @xmath0  is clear ; @xmath0-hardness will be by reduction from @xmath9-colouring . for a graph @xmath45 as an input for @xmath9-colouring",
    "we build a graph @xmath148 as an input for @xmath146 s.t .",
    "@xmath45 is @xmath9-colourable iff @xmath149 .",
    "firstly , we build @xmath150 .",
    "we set the lists @xmath151 of each @xmath152 to be @xmath153 .",
    "all other lists will be set to the whole domain @xmath154 . finally , we build @xmath148 from @xmath155 by replacing every edge @xmath156 with the gadget in figure  [ fig:1 ] ( which connects also to the fixed copy of @xmath145 in @xmath155 ) .",
    "-hardness of @xmath146 . ]    [ fig:1 ]    note that , for each edge @xmath156 , fresh copies of all of the vertices drawn in the gadget are added , except of course for the fixed copy of @xmath145 .",
    "the vertices @xmath157 , @xmath131 and @xmath158 represent the three colours ",
    "it is not hard to see that if @xmath159 is mapped to one of these , then @xmath160 must be mapped to another .",
    "note that it is easy to see that the given proof is in fact a proof of @xmath0-hardness of @xmath147 .",
    "the proofs for @xmath141 and @xmath161 ( for @xmath162 ) are very similar , involving reduction from @xmath163-colouring @xcite .",
    "the proofs for @xmath143 and @xmath164 ( for @xmath162 ) are also very similar , involving again reduction from @xmath163-colouring @xcite .",
    "let @xmath1 be either a bipartite graph or a reflexive graph .",
    "it is easy to see that @xmath50 is in @xmath165 . in the latter case",
    "the problem is trivial ; in the former the problem is either trivial or equivalent to @xmath157-colouring , which is in @xmath165  by the result of reingold @xcite .",
    "we have seen that there is a partially reflexive and disconnected graph that separates the complexities of homomorphism and surjective homomorphism .",
    "we will now see that we can go further .",
    "there exists a bipartite graph @xmath166 and a ( connected ) reflexive graph @xmath167 such that @xmath168 and @xmath169 are both @xmath0-complete .",
    "we give the simple modification to the previous proof in the case of @xmath169 .",
    "we assume , w.l.o.g .",
    ", that the input @xmath45 to @xmath9-colouring has no isolated vertices and contains some edge .",
    "it follows that the diameter of @xmath148 in the previous proof is @xmath170  but in fact we will use a stronger condition than this which will become apparent .",
    "set @xmath166 to be @xmath145 with distinct paths of length @xmath9 attached to each of its vertices ( these paths will be known as tentacles ) .",
    "we use exactly the same reduction as before except that the fixed copy of @xmath145 in @xmath148 becomes a fixed copy of @xmath166 in @xmath171 ( other than this @xmath171 is constructed as @xmath148 ) .",
    "we claim that any surjective homomorphism @xmath23 from @xmath171 to @xmath166 must map @xmath172 to @xmath166 by some automorphism , whereupon the result follows . in figure",
    "[ fig:2 ] , we depict the reduction gadget as appears in @xmath171 .",
    "-hardness of @xmath169 . ]",
    "[ fig:2 ]    it remains to prove the claim .",
    "the diameter of @xmath148 was @xmath170 ; the diameter of @xmath171 is in fact @xmath173 .",
    "if @xmath172 is not mapped to @xmath166 according to some automorphism of @xmath166 then the homomorphic image @xmath174 in @xmath166 for @xmath175 must be either @xmath176 , @xmath177 or @xmath178 .",
    "we give the argument for @xmath176 ; the same argument works in the other cases , which are in fact easier .",
    "furthermore , we will assume that @xmath179 ; the same argument works in the other cases  if @xmath174 travels up a tentacle of @xmath166  which are easier .",
    "suppose , that @xmath180 .",
    "it is easy to see that it is not possible for @xmath181 to cover either of the farthest vertices on the tentacles connected to either of @xmath182 .",
    "it is now simple to see that no part of @xmath171 can cover these in a homomorphism extending @xmath23 and we are done .    for @xmath167 one may take @xmath183 with distinct reflexive paths of length @xmath157 added to each vertex .",
    "the proof is similar to the above .",
    "we remark that one could have used @xmath145 with paths of length @xmath157 added in the previous proof ( though the argument is a little harder ) .",
    "one could also take @xmath145 with only four paths of length @xmath9 , so long as the vertices of @xmath145 without paths are not adjacent .",
    "following these results on retraction , vikas came along to prove matching results about compaction , as well as an equal classification for these two problems on partially reflexive graphs of size at most @xmath131 .",
    "@xmath184 ( for @xmath185 ) and @xmath186 ( for @xmath162 ) are @xmath0-complete . if @xmath1 is a partially reflexive graph s.t .",
    "@xmath187 , then @xmath136 and @xmath63 are polynomial time turing equivalent .",
    "the chain of reductions in proposition  [ prop : reductions ] affords a simple answer to some classifications .",
    "core _ is a structure all of whose endomorphisms are automorphisms ( an endomorphism of a structure is a homomorphism from it to itself )",
    ".    if @xmath3 is a core then @xmath20 and @xmath22 are polynomial - time turing equivalent .",
    "it is well - known in this case that @xmath20 and @xmath188 are logspace equivalent @xcite .",
    "the result follows from proposition  [ prop : reductions ] .",
    "let @xmath1 be a semicomplete digraph .",
    "if @xmath1 contains at most one cycle then @xmath189 is in @xmath7 , otherwise @xmath189 is @xmath0-complete .",
    "semicomplete digraphs are cores , therefore we have the same classification as for the homomorphism problems @xcite ( it is also not so hard to prove the polynomial cases directly ) .",
    "for a long time a link has been known between the complexity classifications of homomorphism and retraction problems .",
    "in one of the deepest papers written on homomorphism problems , feder and vardi proved the following .",
    "[ thm : csp = ret ] for every structure @xmath3 there exists a bipartite ( antireflexive ) graph @xmath1 such that @xmath20 and @xmath136 are polynomial - time equivalent .",
    "armed with this result feder and hell were able to produce a similar result in the reflexive case .    for every structure @xmath3 there exists a reflexive graph @xmath1 s.t . @xmath20 and @xmath136 are polynomial - time equivalent .",
    "we already know from the introduction that retraction problems are special instances of homomorphism problems .",
    "these theorems each provide a kind of inverse .",
    "a full classification for retraction problems is as difficult as a full classification for homomorphism problems ( and for the former we may even restrict to either of the classes of bipartite or reflexive graphs ) .",
    "variants of the above theorems are given by vikas for compaction @xcite .",
    "for any bipartite ( respectively , reflexive ) @xmath1 he produces a @xmath190 such that @xmath136 and @xmath191 are polynomial - time equivalent . the method he employs",
    "uses paths rather like the tentacles of the section  [ sec : origins ] , only in a slightly more sophisticated manner .",
    "the intuition behind his proof is simple , but the proof itself is laborious and technical .",
    "the interesting thing from our perspective is that his reduction is actually also a reduction between @xmath136 and @xmath192 .    for every structure @xmath3",
    "there exists a bipartite graph ( respectively , reflexive graph ) @xmath1 s.t . @xmath20 and @xmath63 are polynomial - time equivalent . for every structure @xmath3",
    "there exists a bipartite graph ( respectively , reflexive graph ) @xmath1 s.t . @xmath20 and @xmath189 are polynomial - time equivalent .",
    "work is ongoing for retraction and surjective homomorphism problems .",
    "a _ pseudoforest _ is the disjoint union of _ pseudotrees _  graphs containing at most one cycle .",
    "the following is a recent result .",
    "[ pseudo ] if @xmath1 is a partially reflexive pseudoforest , then either @xmath136 is in @xmath7 , or it is @xmath0-complete .",
    "the @xmath0-complete cases occur when either the looped vertices in a connected component of @xmath1 induce a disconnected graph , or @xmath1 contains a partially reflexive cycle on @xmath193-vertices , or @xmath1 contains a reflexive cycle on @xmath131-vertices , or @xmath1 contains an antireflexive cycle on @xmath9-vertices .",
    "a part of this dichotomy has been proved for the surjective homomorphism problem even more recently .",
    "[ gps ] let @xmath194 be a partially reflexive forest . then",
    ", if the vertices in each tree @xmath194 with a self - loop induce a subtree ( connected component ) of @xmath194 , @xmath195 is in @xmath165 .",
    "otherwise , it is @xmath0-complete . ; but the proven first - order expressibility demonstrates that @xmath165  membership can be derived . ]    ideally one would like to extend theorem  [ gps ] to something like theorem  [ pseudo ] , but this would entail settling the complexities of @xmath196 ( for @xmath185 ) and @xmath197 ( for @xmath162 ) .",
    "the base cases for these sequences we give specifically .",
    "[ open : c6 ] what is the complexity of @xmath8 .",
    "[ open : cref4 ] what is the complexity of @xmath6 .",
    "we note that both @xmath198 and @xmath199 are in @xmath165  ( the former asks for a proper @xmath157-colouring and the latter asks that the input be of size @xmath200 ) .",
    "this gives further evidence to the nature of surjective homomorphism problems being threshold , bordered closely on each side by problems of known and different complexity .",
    "as vikas extended the hardness for retraction to hardness for compaction , why can we not do likewise for surjective homomorphism ?",
    "it is easy to see that @xmath201 and @xmath8 coincide for inputs of diameter @xmath202 . in a similar manner @xmath203 and @xmath6",
    "coincide for inputs of diameter @xmath204 ( for inputs of diameter @xmath126 , @xmath6 is trivially true while @xmath203 may not be ) . yet",
    "vikas s reduction from @xmath147 to @xmath201 ( respectively , @xmath205 to @xmath203 ) generates a graph of diameter @xmath193 ( respectively , @xmath9 ) .",
    "it seems not to be possible to preserve his gadgets while bringing down this diameter .",
    "it follows that one may rephrase question  [ open : c6 ] ( resp .",
    ", [ open : cref4 ] ) as what is the complexity of @xmath201 ( resp . ,",
    "@xmath6 ) on inputs of diameter @xmath202 ( resp . ,",
    "@xmath204 ) .",
    "the alternative , of course , is that both @xmath8 and @xmath6 are in @xmath7 .",
    "a standard method to prove that a problem @xmath56 is in @xmath7  is reduction to @xmath157-sat @xcite ( the list homomorphism partially reflexive graph cases that are in @xmath7  are actually all in @xmath206 ) . repeated efforts to do this have so far failed .",
    "we note here that several interesting graph complexity classifications are unclear for inputs of restricted diameter .",
    "for example , it is easy to see that @xmath163-colouring is @xmath0-complete for inputs of diameter @xmath204 when @xmath162 . also , @xmath9-colouring is @xmath0-complete for inputs of diameter @xmath202 ( see the standard proof in @xcite ) .",
    "but the case of @xmath9-colouring for inputs of diameter @xmath207 ( also diameter @xmath204 ! ) remains open @xcite .",
    "the problem @xmath6 has attracted interest from the graph theory community , where it is known by a variety of names , but especially _ disconnected cut _ ( @xcite ; one mention in @xcite ) and _ @xmath208-partition _ ( @xcite ) .",
    "the former problem involves finding a vertex cutset in @xmath45 ( a set whose removal results in a disconnected graph ) such that the cutset itself is disconnected .",
    "it is clear that this coincides with @xmath6 ( diagonally opposite vertices form the cutset ) .",
    "it is now known that this problem is tractable on several graph classes ( see the reference for further definitions ) .",
    "@xmath6 is in @xmath7  for    [ cols= \" < , < \" , ]     indeed , @xmath208-partition is considered sufficiently important to raise its own complexity class _ 2k2-hard _ in @xcite ( echoed in @xcite ) . the complexity of this problem , @xmath6  question 2  was finally settled as being @xmath0-complete in @xcite .",
    "question 1 , the complexity of @xmath8 , remains open .",
    "a _ @xmath163-uniform hypergraph _ may be seen as a structure with a single @xmath163-ary relation ( which would usually be seen as being closed under permutations of position of its entries , and having always distinct entries in its tuples  but this will not be important for us ) .",
    "@xmath163-no - rainbow - colouring _ problem takes as input a @xmath163-uniform hypergraph and asks whether there is a colouring of its vertices with all @xmath163 colours such that no hyperedge ( tuple in the relation ) attains all colours ( is _ rainbow coloured _ ) .",
    "this problem surfaced in the graph theory literature .",
    "( it is strict colouring of co - hypergraphs ",
    "see @xcite . in that paper",
    "the problem is conjectured to be in @xmath7   though actually only a proof of @xmath0-hardness would settle one of the paper s outstanding cases . )",
    "it is simple to give a polynomial algorithm for the case @xmath209 , but , for all higher @xmath163 the complexity is open .",
    "henceforth , we will consider only the case @xmath210 .",
    "the @xmath9-no - rainbow - colouring problem can easily be cast as a surjective homomorphism problem with structure @xmath211 on domain @xmath212 and with ternary relation @xmath213    [ open : n ] what is the complexity of @xmath214 .",
    "it is not hard to see that @xmath215 is @xmath0-complete .",
    "one may use bulatov s classification @xcite , but we will give a direct proof .",
    "we will use the notation @xmath216 which shows the constants directly , and enables us to use @xmath217 and @xmath218 when we wish afterwards to consider only two or one of the constants named , respectively .",
    "@xmath219 is @xmath0-complete .",
    "membership in @xmath0  is straightforward .",
    "hardness is by reduction from @xmath9-colouring .",
    "let @xmath45 be an input graph for @xmath9-colouring .",
    "let @xmath155 be a structure on signature @xmath220 , where @xmath74 is ternary , built from @xmath45 in the following manner .",
    "firstly , add three new elements corresponding to @xmath221 , @xmath222 and @xmath157 . for each edge",
    "@xmath223 in @xmath45 we introduce three new elements @xmath224 , @xmath225 and @xmath226 .",
    "the constraints @xmath227 , @xmath228 and @xmath229 enforce that @xmath230 is forbidden .",
    "similarly , @xmath231 , @xmath232 , @xmath233 and @xmath234 , @xmath235 , @xmath236 enforce that @xmath237 and @xmath238 , respectively , are forbidden .",
    "one may verify that all remaining assignments to @xmath223 are attainable .",
    "we claim that @xmath45 was @xmath9-colourable iff @xmath239 .",
    "the forward direction is immediate from the properties of the added constrained elements ( we are surjective because of the constants @xmath221 , @xmath222 and @xmath157 ) .",
    "likewise , in the backward direction , a ( surjective ) homomorphism from @xmath155 induces a @xmath9-colouring of @xmath45 .",
    "@xmath240 , @xmath241 and @xmath242 are all in @xmath7  ( one may colour vertices with just @xmath221 and @xmath222 , as constrained ) .",
    "it is also easy to see that @xmath214 and @xmath243 are equivalent ( essentially the same problem ) , due to the symmetry of the template .",
    "we already know that @xmath219 is @xmath0-complete ( as this is true of @xmath244 ) .",
    "the remaining case is @xmath245 , and this gives us an opportunity to explore the use of _ safe gadgets _ in reductions . in a typical reduction from @xmath246 to @xmath20 one",
    "might attempt to simulate the relations of @xmath2 through the usage of _ gadgets _ over @xmath3 ( this is equivalent to defining the relations of @xmath2 over @xmath3 using just existential quantification , conjunction and equality ) .",
    "the problem with reductions to @xmath22 is that this method often fails , as the extra elements in the gadget ( corresponding to existential quantification in the definition ) typically can make surjective a map that otherwise might not have been .",
    "it follows that gadgets that add elements to the problem instance can not in general be used .",
    "safe gadgets enable the addition of extra elements in the gadget because we ensure that these elements can only attain values in the domain that are in any case attained by the elements that were already there .",
    "the following proof makes use of such a safe gadget .",
    "@xmath245 is @xmath0-complete .",
    "membership in @xmath0  is straightforward .",
    "hardness is by reduction from @xmath247 .",
    "given an instance @xmath248 of @xmath249 , assume that @xmath250 is the vertex assigned to @xmath157 . we first remove the preassignment for @xmath157 in @xmath248 .",
    "then , for each vertex @xmath251 we add the constraint depicted in figure  [ fig : pcspn ] , on new vertices , and identify @xmath159 with @xmath252 and @xmath160 with @xmath250 , and the vertices at the bottom with the vertices in @xmath248 that are assigned to @xmath221 and to @xmath222 .",
    "if the resulting instance @xmath253 has a surjective solution , then some variable must have been assigned the value @xmath157 .",
    "first note that we can assume that this variable must be one of the variables from the original variables in @xmath248 , since the right inner variable in figure  [ fig : pcspn ] ",
    "@xmath254  can be mapped to @xmath221 and @xmath222 only ( due to the bottommost constraint ) , and if the left inner variable  @xmath255  is mapped to @xmath157 , then @xmath160 is necessarily mapped to @xmath157 as well , by case distinction of the value of @xmath254 .",
    "let @xmath252 be the variable in @xmath248 that is mapped to @xmath157 .",
    "we claim that in this case the variable @xmath160 that was introduced for @xmath250 , and therefore also the variable @xmath250 , must also have value @xmath157 . the variable @xmath254 must be mapped to @xmath222 because of the rightmost and the lowest grey constraint .",
    "then , because of the topmost grey and the topmost blank constraint , the left variable @xmath255 must be mapped to @xmath157 . because of the leftmost grey and another blank constraint ,",
    "@xmath160 must be mapped to @xmath157 .",
    "hence , every surjective solution to @xmath253 restricted to the original variables is a correctly preassigned solution to @xmath248 .",
    "now , consider a solution to the preassigned instance @xmath248 .",
    "we know that @xmath160 is mapped to @xmath157 . if @xmath159 is also mapped to @xmath157 , we saw above how to satisfy the additional constraints in @xmath253 . if @xmath256 or @xmath257 , we can satisfy the additional constraints by mapping the inner vertices @xmath255 and @xmath254 to @xmath221 .",
    "hence , the new instance @xmath253 has a surjective solution if and only if @xmath248 has a solution .",
    "clearly , @xmath253 is of polynomial size .",
    "( 0,0 ) to @xmath258 .",
    "the gadget comprises six vertices and seven constraints  four grey and three blank .",
    "the grey constraints are @xmath259 , @xmath260 , @xmath261 , @xmath262 and the blank constraints are @xmath263 , @xmath264 , @xmath265.,title=\"fig : \" ]    # 1#2#3#4#5 @font    ( 3630,3151)(661,-3279 ) ( 1351,-3211)(0,0)[lb ] ( 3601,-3211)(0,0)[lb ] ( 4276,-286)(0,0)[lb ] ( 676,-286)(0,0)[lb ] ( 2139,-2086)(0,0)[lb ] ( 2876,-1699)(0,0)[lb ]    we introduce another relative of the @xmath163-no - rainbow - colouring problem that asks for a surjective map that colours each @xmath163-tuple either with the same colour or with all different colours .",
    "this problem and several other surjective homomorphism problems have been introduced and studied in the context of infinite - domain constraint satisfaction problems in  @xcite ( there it is shown that several constraint satisfaction problems for trees can be reduced to surjective homomorphism problems ) .",
    "formally , let @xmath266 be over domain @xmath267 and with @xmath163-ary relation @xmath268 a structure is connected iff it can not be specified as the disjoint union of two other structures . a connected component in a structure is an induced substructure that is connected .",
    "proof of the hardness result in the following again makes use of safe gadgets .",
    "@xmath269 is @xmath0-complete for @xmath162 and tractable for @xmath270 .    for @xmath271 or @xmath209",
    "the problem is trivial . for larger @xmath163",
    ", we view an instance of @xmath269 as a @xmath163-uniform hypergraph .",
    "if the hypergraph has @xmath163 components , the problem has a trivial solution , since we can assign the same colour to all vertices of one component , and different colours to the @xmath163 different components , and thereby find a homomorphism that uses each of the @xmath163 colours .",
    "if the hypergraph has fewer than @xmath163 components , every surjective homomorphism has to colour the vertices of some constrained @xmath163-tuple with @xmath163 colours .",
    "for @xmath210 we can think of the vertices in the hypergraph as elements denoting values in @xmath272 . owing to the benign properties of the number @xmath9 , i.e. @xmath273 @xmath274 @xmath275 @xmath276 , a constraining triple @xmath277 in the instance is considered as an equation @xmath278 .",
    "now we select some constrained triple @xmath277 , and set the value of @xmath279 to @xmath221 , @xmath280 to 1 , and @xmath281 to 2 , and solve the resulting equation system , e.g. , with gaussian elimination .",
    "if there is a solution , we find a @xmath9-colouring that uses all colors .",
    "if there is no solution , we try the same with a different constrained triple .",
    "suppose there is a surjective homomorphism .",
    "as already mentioned , this homomorphism colours the vertices of some constrained triple @xmath282 with @xmath9 colours . by symmetry of the colours",
    ", we can assume without loss of generality that the homomorphism maps @xmath279 to @xmath221 , @xmath280 to 1 , and @xmath281 to 2 .",
    "since the algorithm will eventually choose this constrained triple , it finds a surjective homomorphism .",
    "now we prove that the problem is hard for @xmath283 ( for larger @xmath163 we just use the first @xmath163 entries of the tuples in @xmath74 with essentially the same proof ) .",
    "we reduce @xmath9-colouring to @xmath284 .",
    "let @xmath45 be an instance of @xmath9-colouring which we will assume to be connected .",
    "we define an instance @xmath155 of @xmath284 , defined on the vertices of @xmath45 and a polynomial number of additional vertices . in the trivial case that @xmath45 contains a single vertex ,",
    "we let @xmath155 be any satisfiable instance to @xmath284 , say @xmath285 . otherwise arbitrarily order the edges @xmath286 of @xmath45 .",
    "let @xmath287 be a pair or edges , chosen from among the pairs @xmath288 and @xmath289 , and insert the following gadget @xmath290 , where @xmath291 are new vertices for each pair of edges in @xmath292 .",
    "the gadget is illustrated in figure  [ fig : colgadget ] .",
    "@xmath293 we can see that if @xmath294 in a solution @xmath116 of @xmath290 ( a homomorphism from @xmath290 to @xmath285 ) , then all nodes of the gadget have to be assigned the same values , and @xmath295 . moreover",
    "we can exhaustively check that if we assign two different values to @xmath250 and @xmath252 , then we can still consistently assign any two distinct values to @xmath159 and @xmath160 and still extend this mapping to a solution of @xmath290 .",
    "( 0,0 ) for the simulation of 3-colouring in @xmath284 .",
    "the @xmath131-tuples are at the extremities of each `` x '' ; while they are ordered in this depiction , they may be considered unordered in the reduction.,title=\"fig : \" ]    # 1#2#3#4#5 @font    ( 1805,1885)(224,-1284 ) ( 326,-161)(0,0)[lb ] ( 326,-624)(0,0)[lb ] ( 239,301)(0,0)[lb ] ( 1014,-174)(0,0)[lb ] ( 1451,-111)(0,0)[lb ] ( 1014,-599)(0,0)[lb ] ( 1489,-674)(0,0)[lb ] ( 889,-1224)(0,0)[lb ] ( 1364,-1211)(0,0)[lb ] ( 876,464)(0,0)[lb ] ( 1351,451)(0,0)[lb ] ( 264,-1099)(0,0)[lb ] ( 1989,-149)(0,0)[lb ] ( 2014,-636)(0,0)[lb ]    we claim that @xmath155 is a satisfiable instance of @xmath284 if and only if @xmath45 is 3-colourable . if @xmath45 is 3-colourable , we can consistently satisfy all hyperedges in @xmath290 according to the above remark and find a surjective homomorphism from @xmath155 to @xmath285 .",
    "now let @xmath45 be not 3-colourable , and let @xmath116 be an arbitrary mapping from @xmath48 to the three colours",
    ". by construction the mapping @xmath116 corresponds to a partial mapping from @xmath296 to @xmath297 .",
    "we show that this mapping can not be extended to a surjective homomorphism from @xmath155 to @xmath266 .",
    "since @xmath116 was chosen arbitrary this suffices for the claim .",
    "since @xmath45 is not 3-colourable there is an edge @xmath298 such that @xmath294 . because the graph @xmath45 is connected , and since all of the edges in @xmath155 are strongly connected by the gadget @xmath290 , all nodes in @xmath155 have to be assigned the same value .",
    "thus no surjective solution exists .",
    "work in the area of surjective homomorphisms continues to be vigorous at the time of submission .",
    "the manuscript @xcite contains numerous results ( mostly hardness ) when the classes of input and template graphs are each restricted ( the template is no longer considered a single graph ) . in the non - surjective world of maxcsp , it is known @xcite that maxcsp@xmath299 is either in po or is apx - complete , for @xmath300 .",
    "zhou @xcite proves an analog of this in the surjective world ",
    "namely that maxsurcsp@xmath299 is in ptas or is apx - complete , for @xmath300 . indeed , unlike with maxcsp@xmath299 , there are structures @xmath3 such that maxsurcsp@xmath299 is @xmath0-hard but has a ptas .",
    "finally , we mention that vikas announces in @xcite his resolution of questions 1 and 2 ( both problems being @xmath0-complete ) . no reference is given and the paper containing the proofs is not yet available ."
  ],
  "abstract_text": [
    "<S> we survey known results about the complexity of surjective homomorphism problems , studied in the context of related problems in the literature such as list homomorphism , retraction and compaction . in comparison with these problems , surjective homomorphism problems seem to be harder to classify and we examine especially three concrete problems that have arisen from the literature , two of which remain of open complexity .    </S>",
    "<S> surjective homomorphisms , computational complexity , constraint satisfaction </S>"
  ]
}